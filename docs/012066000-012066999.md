# StackOverflow 问答 12066000-12066999

# visual-studio-2010 - 编译失败 - 程序数据库

> ID：12066001
> 
> 赞同：0
> 
> 时间：2012-08-22T03:36:41.537
> 
> 标签：visual-studio-2010, visual-c++, compiler-errors

当我尝试编译时，我收到以下警告：

`Warning 8 warning : The process cannot access the file 'C:\PROGRAMDATA\BROWSER MANAGER\2.2.565.25\{16CDFF19-861D-48E3-A751-D99A27784753}\BROWSEMNGR.SETTINGS' because it is being used by another process. C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppClean.targets`

其次是这个错误： `Error 8 error C1033: cannot open program database ''`

我已经尝试卸载和安装 VS 2010，但问题似乎并没有消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:58:42.487

**原因：**解决方案中的两个项目可能会将它们的输出写入同一目录（例如，'xxx\debug'）。如果工具 - 选项、项目和解决方案 - 构建和运行中的最大并行项目构建数设置设置为大于 1 的值，这意味着两个编译器线程可能会尝试同时访问相同的文件，从而产生一个文件共享冲突。

**解决方案：** 检查您的项目设置并确保没有两个项目使用相同的目录来存储输出、目标或任何类型的中间文件。或者将最大并行项目构建数设置为 1 以快速解决问题。我在使用 CLAPACK 库附带的 VS 项目文件时遇到了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T16:54:58.693

我通过以下步骤解决了我的问题：

[http://www.explosiveknowledge.net/main/2012/08/19/browsemngr/](http://www.explosiveknowledge.net/main/2012/08/19/browsemngr/)

我正在执行与 Windows XP 兼容的 devenv.exe，删除它。我还在项目中的预编译标题菜单选项中从 更改`use`为。`create`

现在工作正常。

# javascript - 在 angular.js 中解析 JSONP $http.jsonp() 响应

> ID：12066002
> 
> 赞同：113
> 
> 时间：2012-08-22T03:36:51.980
> 
> 标签：javascript, angularjs, jsonp

我正在使用 Angular 的`$http.jsonp()`请求，该请求成功返回包装在函数中的 json：

```
var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts?callback=jsonp_callback";

$http.jsonp(url).
    success(function(data, status, headers, config) {
        //what do I do here?
    }).
    error(function(data, status, headers, config) {
        $scope.error = true;
    }); 
```

如何访问/解析返回的 function-wrapped-JSON？

* * *

## 回答 #1

> 赞同：302
> 
> 时间：2012-11-15T15:13:33.580

**更新：从 Angular 1.6 开始**

> 您不能再使用 JSON_CALLBACK 字符串作为占位符来指定回调参数值的位置

您现在必须像这样定义回调：

`$http.jsonp('some/trusted/url', {jsonpCallbackParam: 'callback'})`

通过 更改/访问/声明参数`$http.defaults.jsonpCallbackParam`，默认为`callback`

注意：您还必须确保将您的 URL 添加到受信任/白名单中：

`$sceDelegateProvider.resourceUrlWhitelist`

或通过以下方式明确信任：

`$sce.trustAsResourceUrl(url)`

**`success/error`已[弃用](https://code.angularjs.org/1.5.10/docs/api/ng/service/$http#deprecation-notice)**。

> `$http`遗留的Promise 方法已被弃用，`success`并将`error`在 v1.6.0 中删除。请改用标准 then 方法。如果`$httpProvider.useLegacyPromiseExtensions`设置为，`false`那么这些方法将抛出`$http/legacy error`.

利用：

```
var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts"
var trustedUrl = $sce.trustAsResourceUrl(url);

$http.jsonp(trustedUrl, {jsonpCallbackParam: 'callback'})
    .then(function(data){
        console.log(data.found);
    }); 
```

**上一个答案：Angular 1.5.x 及之前版本**

你所要做的就是改变`callback=jsonp_callback`成`callback=JSON_CALLBACK`这样：

```
var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts?callback=JSON_CALLBACK"; 
```

然后`.success`，如果返回成功，您的函数应该像您拥有的那样触发。

这样做可以使您不必弄脏全局空间。[这在此处](https://docs.angularjs.org/api/ng/service/$http#jsonp)的 AngularJS 文档中有记录。

更新了 Matt Ball 的小提琴以使用此方法：http: [//jsfiddle.net/subhaze/a4Rc2/114/](http://jsfiddle.net/subhaze/a4Rc2/114/)

**完整示例：**

```
var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts?callback=JSON_CALLBACK";

$http.jsonp(url)
    .success(function(data){
        console.log(data.found);
    }); 
```

* * *

## 回答 #2

> 赞同：69
> 
> 时间：2013-10-15T02:11:06.557

我有一段时间不明白的**最重要的事情是请求****必须**包含“callback=JSON_CALLBACK”，因为 AngularJS*修改了请求 url*，用唯一标识符替换了“JSON_CALLBACK”。服务器响应必须使用“回调”参数的值，而不是硬编码“JSON_CALLBACK”：

```
JSON_CALLBACK(json_response);  // wrong! 
```

由于我正在编写自己的 PHP 服务器脚本，我想我知道它想要什么函数名，并且不需要在请求中传递“callback=JSON_CALLBACK”。大错！

AngularJS 将请求中的“JSON_CALLBACK”替换为唯一的函数名（如“callback=angular.callbacks._0”），并且服务器响应必须返回该值：

```
angular.callbacks._0(json_response); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-12-24T02:31:13.963

这很有帮助。Angular 的工作方式与 JQuery 不同。它有自己的 jsonp() 方法，确实需要在查询字符串的末尾加上“&callback=JSON_CALLBACK”。这是一个例子：

```
var librivoxSearch = angular.module('librivoxSearch', []);
librivoxSearch.controller('librivoxSearchController', function ($scope, $http) {
    $http.jsonp('http://librivox.org/api/feed/audiobooks/author/Melville?format=jsonp&callback=JSON_CALLBACK').success(function (data) {
        $scope.data = data;
    });
}); 
```

然后在您的 Angular 模板中显示或操作 {{ data }}。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-22T14:36:16.663

只要该函数`jsonp_callback`在全局范围内可见，这对您来说应该可以正常工作：

```
function jsonp_callback(data) {
    // returning from async callbacks is (generally) meaningless
    console.log(data.found);
}

var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts?callback=jsonp_callback";

$http.jsonp(url); 
```

完整演示： http: [//jsfiddle.net/mattball/a4Rc2/](http://jsfiddle.net/mattball/a4Rc2/)（免责声明：我以前从未编写过任何 AngularJS 代码）

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-05-16T10:06:24.853

您仍然需要`callback`在参数中设置：

```
var params = {
  'a': b,
  'token_auth': TOKEN,
  'callback': 'functionName'
};
$sce.trustAsResourceUrl(url);

$http.jsonp(url, {
  params: params
}); 
```

其中 'functionName' 是对全局定义函数的字符串化引用。您可以在 Angular 脚本之外定义它，然后在模块中重新定义它。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-02-08T15:37:24.490

对于解析这样做 -

```
 $http.jsonp(url).
    success(function(data, status, headers, config) {
    //what do I do here?
     $scope.data=data;
}). 
```

或者你可以使用 `$scope.data=JSON.Stringify(data);

在 Angular 模板中，您可以将其用作

```
{{data}} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-11T06:46:07.643

我正在使用 angular 1.6.4，**subhaze**提供的答案对我不起作用。我对其进行了一些修改，然后它就起作用了-您必须使用*$sce.trustAsResourceUrl*返回的值。完整代码：

```
var url = "http://public-api.wordpress.com/rest/v1/sites/wtmpeachtest.wordpress.com/posts"
url = $sce.trustAsResourceUrl(url);

$http.jsonp(url, {jsonpCallbackParam: 'callback'})
    .then(function(data){
        console.log(data.found);
    }); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-06-30T08:04:35.770

对我来说，上述解决方案只有在我将“format = jsonp”添加到请求参数时才有效。

# wpf - 在 Expression Blend 4 中导入 Adob e Photoshop 文件的问题

> ID：12066014
> 
> 赞同：0
> 
> 时间：2012-08-22T03:38:25.397
> 
> 标签：wpf, xaml, expression-blend-4

我尝试在 Expression Blend 4 中导入 Adob​​e Photoshop 文件。但是图层效果（渐变叠加、描边等）被忽略了。我应该怎么做才能在不忽略图层效果的情况下导入 Adob​​e Photoshop 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T18:30:32.910

我想你会在这里找到你要找的[东西](http://www.microsoft.com/expression/resources/BlendTraining/Day.aspx?day=5)。特别注意教程 #1 和教程 #5，因为并非所有效果都会保留，这就是 PixelShader 派上用场的地方。至于使用 Photoshop，如果您只是导入光栅图像，它与导入矢量不同。这些教程应该有助于澄清。

您可能收到了反对票，因为这是一个相当常见的问题，之前在 SO 和网络上的其他地方已经提出过，因此在提出这个问题之前表明缺乏个人努力。希望这可以帮助！:)

# groovy - 如何找到内部嵌套的内容？

> ID：12066015
> 
> 赞同：3
> 
> 时间：2012-08-22T03:38:27.720
> 
> 标签：groovy

假设我有一个这样的字符串：

```
string = [+++[>>[--]]]abced 
```

现在我想以某种方式返回一个包含：`[[--],[>>],[+++]]`. 那是最深`[`嵌套的内容，其次是其他嵌套。我想出了这样的解决方案：

```
def string = "[+++[>>[--]]]"
loop = []
temp = []
string.each {
    bool = false
    if(it == "["){
        temp = []
        bool = true
    }
    else if( it != "]")
        temp << it 
    if(bool)
         loop << temp

}
println loop.reverse() 
```

但这确实需要`abced`最后一个字符串`]`并放入结果中！。但我想要的只是`[[--],[>>],[+++]]`

有什么绝妙的方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T07:51:46.210

如果您不介意使用递归，您可以使用它

```
def sub(s , list){
    if(!s.contains('[') && !s.contains('[')) 
        return list
    def clipped = s.substring(s.lastIndexOf('[')+1, s.indexOf(']'))
    list.add(clipped)
    s = s - "[$clipped]"
    sub(s , list)
} 
```

打电话

```
sub('''[+++[>>[--]]]abced''' , []) 
```

返回包含在大括号之间的所有子部分的列表。

```
['--', '>>', '+++'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:53:26.213

如果你的括号是对称的，你可以只引入一个计数器变量来保存括号嵌套的深度。输出中只允许高于 0 的深度级别：

```
def string = "[+++[>>[--]]]abc"
loop = []
temp = []
depth = 0;
string.each {
  bool = false
  if(it == "["){
    temp = []
    bool = true
    depth++;
  }   
  else if (it == "]"){
    depth--;
  }   
  else if (depth > 0){ 
    temp << it  
  }   
  if(bool){
    loop << temp
  }   
}
println loop.reverse() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T13:06:23.380

```
class Main {

    private static final def pattern = ~/([^\[]*)\[(.+?)\][^\]]*/

    static void main(String[] args) {
        def string = "[+++[>>[--]]]abced"

        def result = match(string)
        println result

    }

    static def match(String val) {
        def matcher = pattern.matcher(val);

        if (matcher.matches()) {
            return matcher.group(1) ? match(matcher.group(2)) + matcher.group(1) : match(matcher.group(2))
        }
        [val]
    }
} 
```

`System.out`

```
[--, >>, +++] 
```

正则表达式模式中第一组的捕获可能会得到改进。现在第一组是任何不是的字符，`[`如果第一组前面没有任何字符，`[`那么第一组将包含一个空字符串。

# php - 我收到“致命错误：达到 '100' 的最大函数嵌套级别，正在中止！” 使用 glob() 时出错。为什么？

> ID：12066017
> 
> 赞同：1
> 
> 时间：2012-08-22T03:39:00.257
> 
> 标签：php, glob

```
function deletefiles($directory)
{
    $folder = glob($directory);  // <--error on this line.
    foreach($folder as $file)
    {
        if(is_dir($file)) 
        { 
            deletefiles($directory);
        } 
        else 
        {
            unlink($file);
        }
    }
    if(is_dir($directory))
    {
        rmdir($directory);
    }
} 
```

那是导致错误的代码。该功能应该删除指定文件夹的所有文件和子目录。每个文件夹最多只包含 5 个子文件夹。当文件夹中只有文件时，此功能有效。任何见解将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T03:47:50.943

有2个地方需要修复。

```
function deletefiles($directory)
{
  $folder = glob($directory . '/*'); // <-- here
  foreach($folder as $file)
  {
    if(is_dir($file)) 
    { 
      deletefiles($file); // <-- and here
    } 
    else 
    {
      unlink($file);
    }
  }
  if(is_dir($directory))
  {
    rmdir($directory);
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T03:46:08.670

看起来您正在发送函数请求，`$directory`而不是`$file`意味着您正在深入研究结构，您只是在同一个文件夹中多次调用相同的函数。

我认为您想将第一`if`部分更改为：

```
if(is_dir($file)) 
{ 
    deletefiles($file);
} 
```

# java - Java中的HTTP“POST”

> ID：12066018
> 
> 赞同：0
> 
> 时间：2012-08-22T03:39:04.087
> 
> 标签：java, php, android, http-post

我想在 java(android) 中使用 httpPost 将一些数据发布到 php 页面，但是发生了一些错误。

Java代码：

```
btn1.setOnClickListener(new OnClickListener(){
    @Override
    public void onClick(View arg0) {
        HttpPost urlPost = new HttpPost("http://192.168.1.107/update.php");
        List<NameValuePair> parms = new ArrayList<NameValuePair>();
        parms.add(new BasicNameValuePair("a","heyya"));
        try{
            urlPost.setEntity(new UrlEncodedFormEntity(parms,HTTP.UTF_8));
            Log.i("aaa","1");
            HttpResponse postResponse = new DefaultHttpClient().execute(urlPost);
            Log.i("aaa","2");
            Log.i("aaa",Integer.toString(postResponse.getStatusLine().getStatusCode()));
        }catch(Exception e){ }
    }
}); 
```

PHP代码：

```
<?php
$inputVal = $_POST["a"];
if($inputVal != ""){
    $mysql_address = "localhost";
    $mysql_user = "root";
    $mysql_pw = "123123";
    $mysql_db = "test";
    $conn = mysql_connect($mysql_address,$mysql_user,$mysql_pw);
    mysql_select_db($mysql_db);
    $sql = 'insert into test(a) VALUES("'.$inputVal.'")';
    mysql_query($sql);
}else{
    echo 'Error!';
}
?> 
```

现在`LogCat`刚刚出现`"1"`，意味着程序被阻止在

```
"new DefaultHttpClient().execute(urlPost);" 
```

这些代码有什么问题？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T03:41:00.527

可能抛出了一些异常，但你默默地吞下它，添加这个：

```
 catch(Exception e){ e.printStackTrace(); } // or LOG.error if you have it.. 
```

然后再试一次。

# syntax - 为什么我需要写（doc str）但是（meta #'str）？

> ID：12066020
> 
> 赞同：3
> 
> 时间：2012-08-22T03:39:56.670
> 
> 标签：syntax, clojure, macros

为什么`(doc str)`但是`(meta #'str)`？

在后一个中，为什么是`#'`必要的，而不是第一个？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T05:00:57.367

`doc`是一个宏，它在内部应用于`#'`传递`var`的名称，因此您不需要将 var 本身传递给它。`meta`是一个函数，因此它需要传递 var 本身，否则如果您仅使用 var 的名称，则 var 的值将被传递给它（`doc`如

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:21:08.260

`#'`是阅读器宏，#'str 扩展为 (var str)，返回 Var 对象，参见 doc：

```
user> (doc meta)
-------------------------
clojure.core/meta
([obj])
  Returns the metadata of obj, returns nil if there is no metadata. 
```

# objective-c - 试图将 RowAtIndexPath 移动到另一个部分，iOS

> ID：12066026
> 
> 赞同：0
> 
> 时间：2012-08-22T03:41:23.587
> 
> 标签：objective-c, ios, uitableview

```
-(void)tableView:(UITableView *)tableView moveRowAtIndexPath:(NSIndexPath *)oldPath toIndexPath:(NSIndexPath *)newPath {

    if(oldPath.section == newPath.section && oldPath.row == newPath.row) return;

    NSMutableArray * group = (NSMutableArray *) self.groups;
    NSMutableArray *gItems = [group objectAtIndex:oldPath.section];
    NSDictionary *item  = [gItems objectAtIndex:oldPath.row];
    [gItems removeObjectAtIndex:oldPath.row];
    gItems = [group objectAtIndex:newPath.section];
    [gItems insertObject:item atIndex:newPath.row];

    [self.tableItems moveRowAtIndexPath:oldPath toIndexPath:newPath];    
} 
```

试图在部分之间移动行。但是每次运行时它都会崩溃`[self.tableItems moveRowAtIndexPath:oldPath toIndexPath:newPath]`，我做错了什么？提前泰。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:10:23.437

你有一个“off by one”错误：

```
if (newPath.row >= gItems.count) {
    [gItems addObject: item];
} else {
    [gItems insertObject: item atIndex:newPath.row];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:48:40.607

发现了问题....只需删除`[self.tableItems moveRowAtIndexPath:oldPath toIndexPath:newPath];`它就可以了。

# swing - 如何将 Swing 集成到 JavaFX 应用程序中？

> ID：12066030
> 
> 赞同：2
> 
> 时间：2012-08-22T03:42:21.550
> 
> 标签：swing, javafx-2

我已经知道如何根据这个[Oracle 教程](http://docs.oracle.com/javafx/2/swing/swing-fx-interoperability.htm#CHDIEEJE)将 JavaFX 内容嵌入到 Swing 应用程序中。

但是现在我想在 JavaFX 场景中添加一些 Swing 组件。对此有什么想法吗？

问候，秦

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-11-26T13:36:26.080

现在可以做到了，
您现在需要的是安装 jdk 8
，因为 javafx 中的 swing 内容是在 jdk8 中引入的

```
@FXML
private SwingNode swingNode;
...
JasperPrint jasperPrint = JasperFillManager.fillReport(FileName, hash, connect);
swingNode.setContent(new JRViewer(jasperPrint)); 
```

oracle 只需为此添加教程，
接下来您可以点击此链接
[oracle tutorial embed swing in javaFX](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/embed-swing.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T07:34:49.450

我认为这在 JavaFX 2.* 中是不可能的，但有些人已经研究过了。看看这里：[http](http://www.jroller.com/neugens/entry/embed_swing_inside_javafx_2) ://www.jroller.com/neugens/entry/embed_swing_inside_javafx_2 。也许你会找到你想要的。:)

# google-maps-api-3 - 在谷歌地图中点击生成纬度和经度

> ID：12066031
> 
> 赞同：-2
> 
> 时间：2012-08-22T03:42:24.787
> 
> 标签：google-maps-api-3, google-maps-markers

有没有关于每当用户单击地图中的特定位置时如何获取纬度和经度的教程？谢谢！我正在使用谷歌地图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:02:38.707

以下示例将准确显示如何在鼠标事件上生成 lat 和 long

[在谷歌地图中获取经纬度 onmouseover 和 onclick 事件](http://vikku.info/programming/google-maps-v2/get-lattitude-longitude-onmouseover-and-onmouseclick-google-map-v2.htm)

# ajax - 如何在 WebGrid 的标题中使用 ajax actionlink

> ID：12066033
> 
> 赞同：0
> 
> 时间：2012-08-22T03:43:04.557
> 
> 标签：ajax, asp.net-mvc, razor, webgrid, actionlink

我想通过单击列的标题以及将其他一些参数发布到控制器来对 WebGrid 中的数据进行排序，但是 WebGrid 的自动排序在列标题上提供了一个固定链接，只有两个参数。

我找到了一些方法来更改 WebGrid 列标题上的链接地址，但它仅适用于公共链接而不是 ajax `ActionLink`，因此我不能使用部分视图来仅刷新网页的一部分。

谁能帮我解决这个问题？

```
var grid = new WebGrid(Model, canPage: true, rowsPerPage: 2);
@grid.GetHtml(tableStyle: "Contact``TB",headerStyle: "ContactHD",columns: grid.Columns( 
              grid.Column("ID", 
                          @Ajax.ActionLink("ID","Index","Home",new { pid = Model.PageIndex, sort=true},
                                           new AjaxOptions { UpdateTargetId = "grid", 
                                                             HttpMethod = "POST",
                                                             InsertionMode = InsertionMode.Replace 
                                                           }
                                           ),
                           model.id,
                           ))

             ); 
```

上面的代码是我想要的示例效果，它是一个错误的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:49:21.433

你可以从这里开始，

由于您能够生成公共链接，因此您可以将这些链接绑定到对操作的 jquery ajax 调用。

**jQuery代码**

```
function MyMethod() {
var url = '@Url.Action("GetData")';
$.ajax({
url: url,
type: 'GET',
cache: false,
data: { value: strId},

success: function (result) {
$('#result).html(result);
}
});
} 
```

**行动**

```
public ActionResult GetData(string id)
{
return Json(new {foo="bar", ball="dragon"});
} 
```

从[这里获取的代码](http://yassershaikh.com/how-to-call-an-action-from-javascript-or-jquery-in-mvc-3-razor/)

# javascript - TinyMCE / IE9 / DIV with Width/Height / ContentEditable / 如何防止 DIV 选择？

> ID：12066034
> 
> 赞同：1
> 
> 时间：2012-08-22T03:43:09.293
> 
> 标签：javascript, internet-explorer, tinymce

在 IE9 中使用 TinyMCE (3.5.4.1) 时，如果我在我的内容中放置了一个 DIV，并且如果该 DIV 指定了高度和宽度中的一个/两个，则 IE 至少部分将其视为可内容编辑的 DIV。

这意味着当用户在 TinyMCE 中第一次在编辑器中单击时编辑此类文档时，IE 会突出显示有问题的 DIV，并允许用户移动它——他们经常会意外地这样做。然后他们必须再次单击以编辑 DIV 内的内容，而当他们这样做时，DIV 会在页面上勾勒出来，这会分散注意力。

我看过一些帖子（例如[http://www.tinymce.com/forum/viewtopic.php?id=3939](http://www.tinymce.com/forum/viewtopic.php?id=3939)）说 IE 在这种情况下会触发“controlselect”事件并将光标放在内容中并返回假。我最终设法让这个示例运行，但是虽然它抑制了内容的初始选择，但它似乎变得随机，内容内的给定点击是否将光标放置在那里。

有没有一种可靠的方法可以让 IE 像其他浏览器一样处理这种情况，即不会因为向 DIV 添加高度/宽度而产生意外的副作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-27T00:37:16.330

我的工作主要是在这里[http://www.tinymce.com/forum/viewtopic.php?pid=103272](http://www.tinymce.com/forum/viewtopic.php?pid=103272)

在这里[http://www.tinymce.com/forum/viewtopic.php?id=29485](http://www.tinymce.com/forum/viewtopic.php?id=29485)

它并不完美，但看起来已经尽可能好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T08:53:14.780

对于这个问题，您可以尝试在 tinymce init 中使用[object_resizing配置参数](http://www.tinymce.com/wiki.php/Configuration%3aobject_resizing)

```
object_resizing: false, 
```

# sugarcrm - SugarCRM - 正确显示 Dashlet 中的条目总数

> ID：12066035
> 
> 赞同：1
> 
> 时间：2012-08-22T03:43:11.947
> 
> 标签：sugarcrm

我正在寻找一种方法来正确显示 SugarCRM dashlet 中的条目总数。现在，它显示为“(1 - 5 of 6+)”，其中 6+ 表示所有内容 >= 6。我想要绝对数字。

谢谢你，大卫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T06:46:36.710

把它放在你的 config_override.php 文件中......

```
$sugar_config['disable_count_query'] = false; 
```

或者简单地删除 config_override.php 或 config.php 中现有的 $sugar_config['disable_count_query'] 设置

# java - 在 Java 编程和 toString() 方面遇到问题

> ID：12066039
> 
> 赞同：-4
> 
> 时间：2012-08-22T03:44:26.413
> 
> 标签：java

好的，所以我对所有这些 Java 编程内容都是全新的，而且我对它的了解很少，但是对于我的工作，我要：

> 创建一个表示矩形的类。矩形由其左上角的坐标 (x, y) 及其宽度和高度指定。此类将用于创建许多矩形对象，并且它必须具有
> 
> *   动态字段（变量）将 x、y、宽度和高度存储为小数；
> *   具有提供 x、y、宽度和高度的参数的构造函数；
> *   返回矩形面积的函数；
> *   返回矩形周长长度的函数；和
> *   一个函数，返回矩形的字符串表示，四个数字，在一对括号内，用逗号分隔[此函数必须命名`toString()`]
> 
> 在一个单独的类中编写一个 main 方法，该方法接受四个数字作为命令行参数，实例化一个矩形对象，并打印矩形、面积和周长的字符串表示。

所以基本上如果它有效，它应该看起来像：

> java TestRect 1 2 3 4
> 矩形 = (1.0, 2.0, 3.0, 4.0)
> 面积 = 12.0
> 周长 = 14.0

好的，对不起，之前，但是嗯，在阅读了你的答案之后，我做了一些改变，我仍然不完全确定这是否是你们的意思，但是：

我加了

```
TestRect1 r = new TestRect1(); 
```

对 TestRect （主类）
进行了更改：

```
 System.out.println("rectangle = " + r.toString());
  System.out.println("area      = " + r.area(w, h));
  System.out.println("perimeter = " + r.perimeter(w, h)); 
```

到 TestRect1 （具有所有公式的另一个类），我摆脱了“静态”的东西并添加了：

```
 public double x;
   public double y;
   public double w;
   public double h; 
```

所以当我编译它们时，它们都编译，没有错误，但是当涉及到实际运行程序时，我输入

```
java TestRect 1 2 3 4 
```

错误弹出说：

```
javac: invalid flag: 1
usage: javac <options> <source files>
use -help for a list of possible options 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T03:59:55.213

由于这是家庭作业，我们不应该给你完整的答案。您显然已经了解了类是什么以及类的实例是什么。

您当前的问题是您实际上并没有创建 Rectangle 类的实例。你所拥有的是一个简单的类，只有静态方法。

因此，作为让您走上正轨的提示：

您需要一个可以创建如下实例的类：

```
Rectangle rect = new Rectangle(x,y,width,height); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T03:56:20.847

由于您正在尝试学习 Java，因此我将避免发布完整的代码。相反，让我指出您代码中的问题。

1.  您没有遵循规范中的前两个说明。

在类中为 x、y、width 和 height 声明成员变量 创建一个构造函数，将这 4 个变量作为参数并将类成员分配给它们

1.  然后可以将类中的所有方法声明为非静态方法，并且不需要任何参数，因为您将这些变量存储为类成员。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T03:56:32.447

你的`TestRect1`课有点欠缺。

*   它应该有四个成员字段，分别代表 x、y、宽度和高度。
*   该`toString()`方法应该是一个实例方法（而不是`static`像您拥有的方法）并且它不应该带任何参数。它应该从字段值构造字符串。
*   和方法同样应该改为实例方法并且不带参数`area()`。`perimeter()`

然后你的`main()`方法应该被修改为构造一个`TestRect1`对象并使用它的方法和字段来做它需要做的事情。例如，一旦你有了一个`TestRect1`对象，你就可以调用它的`toString()`方法：

```
TestRect1 rect;
// initialize rect
System.out.println("rectangle = " + rect.toString()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:59:54.653

由于您是初学者，因此我建议您尝试自己编写代码，如果您有任何疑问，请在代码中发布您的问题，以便于理解。但顺便说一句，我只是发布了我的解决方案的几个部分。
首先定义一个`Rectangle`在这个类里面调用的类，写一个构造函数和三个方法
1.2.3 `area(width,height)`
.方法，这样写 `perimeter(width,height)`
。`@Override toString()`

```
public String toString()  
{  
      return "("+x+","+y+","+width+","+height+")";  
} 
```

采取命令行参数，因为`TestRect 1 2 3 4`
我也建议寻找以前的答案。希望这对您有所帮助。

# java - 访问 H2 数据库模式

> ID：12066043
> 
> 赞同：3
> 
> 时间：2012-08-22T03:44:53.840
> 
> 标签：java, schema, h2, information-schema, jooq

[我目前使用jOOQ](http://www.jooq.org)访问 java 中的嵌入式 H2 数据库以生成表类等。我目前可以执行查询，例如

```
create.select().from(TEST).fetch() 
```

在我的代码中，返回结果等。

但是我无法查询信息架构。我可以使用 H2 控制台正常访问它，并且为给定的 information_schema 表创建视图工作正常。我的问题是我应该如何访问 information_schema 例如执行查询，例如

```
SELECT * FROM INFORMATION_SCHEMA.TABLES 
```

从我的java代码中？我是否必须创建一个视图，是否可以通过 jooq-meta 或其他方式访问架构，或者我是否需要在 jooq-codegen 使用的属性文件中添加一些内容（information_schema 不是在生成的表类中创建的） ? 或者是其他东西？

* * *

编辑：这是我第一次尝试使用 jooq，并且来自 MySQL 背景。我有效地尝试实现的是能够运行一些单元测试以确保与数据库相关的代码正常工作。所以我想访问数据库的元数据（模式）并返回一些东西，而不必知道是否存在任何用户创建的表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T07:28:22.697

`INFORMATION_SCHEMA`您可以为任何其他模式生成类。事实上，jOOQ-meta 包含一些对数据库模式进行逆向工程所需的类。

[手册关于高级代码生成属性的部分](http://www.jooq.org/manual/META/AdvancedConfiguration/#N10655)提到了如何配置代码生成器以加载多个“输入模式”：

```
<database>
  <schemata>
    <schema>
      <inputSchema>...</inputSchema>
    </schema>
    [ <schema>...</schema> ... ]
  </schemata>
</database> 
```

# ruby-on-rails - 将基本 Rails 应用程序部署到 Cloudfoundry 时出错

> ID：12066044
> 
> 赞同：1
> 
> 时间：2012-08-22T03:44:53.910
> 
> 标签：ruby-on-rails, cloud-foundry

我生成了一个基本的脚手架导轨应用程序（[按照此处的说明](http://guides.rubyonrails.org/getting_started.html)生成）

该应用程序在本地 webrick 服务器上运行时运行良好。但是，将其部署到（公共）cloudfoundry 时，出现如下错误。

我正在使用 ruby​​ 1.9.3p194（2012-04-20 修订版 35410）[x86_64-linux] 和 Rails 3.2.8。想法？

……

```
No RabbitMQ service bound to app.  Skipping auto-reconfiguration.
rake aborted!
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/config/initializers/session_store.rb:3: syntax error, unexpected ':', expecting $end
...sion_store :cookie_store, key: '_blog_session'
                              ^
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/activesupport-3.2.8/lib/active_support/dependencies.rb:245:in `load'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/activesupport-3.2.8/lib/active_support/dependencies.rb:245:in `load'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/activesupport-3.2.8/lib/active_support/dependencies.rb:236:in `load_dependency'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/activesupport-3.2.8/lib/active_support/dependencies.rb:245:in `load'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/engine.rb:588
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/engine.rb:587:in `each'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/engine.rb:587
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/initializable.rb:30:in `instance_exec'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/initializable.rb:30:in `run'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/initializable.rb:55:in `run_initializers'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/initializable.rb:54:in `each'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/initializable.rb:54:in `run_initializers'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/application.rb:136:in `initialize!'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/railtie/configurable.rb:30:in `send'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/railtie/configurable.rb:30:in `method_missing'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/config/environment.rb:5
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/application.rb:103:in `require'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/application.rb:103:in `require_environment!'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/railties-3.2.8/lib/rails/application.rb:295:in `initialize_tasks'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `execute'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `invoke_with_call_chain'
/var/vcap/data/packages/dea_ruby18/7.1/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:176:in `invoke_prerequisites'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:174:in `each'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:174:in `invoke_prerequisites'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:157:in `invoke_with_call_chain'
/var/vcap/data/packages/dea_ruby18/7.1/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `top_level'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `top_level'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `run'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'
/var/vcap/data/dea/apps/myblog-0-0f9f91b4af44340115aeb6e5df89e4a9/app/rubygems/ruby/1.8/gems/rake-0.9.2.2/bin/rake:33
./rubygems/ruby/1.8/bin/rake:23:in `load'
./rubygems/ruby/1.8/bin/rake:23 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T07:13:32.607

当您推送以确保 Cloud Foundry 使用 1.9 而不是 1.8 时，您是否包含了 --runtime=ruby19 标志？

```
vmc push my_project --runtime=ruby19 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T17:09:28.080

将 Windows 上捆绑的 ruby​​ 应用程序部署到 CloudFoundry.com（基于 Linux）时存在问题。解决方法是修改您的 Gemfile.lock 并删除出现的字符串 -x86-mingw32。然后将应用程序重新推送到 Cloud Foundry。

```
$ bundle package

$ bundle install

$ bundle exec rake assets:precompile

$ vmc push my_project --runtime=ruby19  or $ vmc update my_project --runtime=ruby19 
```

希望这可以帮助 ：）

# c - 结构数组 - 删除/添加元素和打印

> ID：12066046
> 
> 赞同：6
> 
> 时间：2012-08-22T03:45:08.700
> 
> 标签：c, arrays, struct, printf

对于下面的代码

```
struct orderSlip
{
    char source[64];
    char destination[64];
    char item[64];  
    int position;
};
//global
struct orderSlip data[100]; 
```

除了以下这些方法之外，还有其他方法可以打印出每个元素的数据：

```
printf("%s\n",data[0].source);
    printf("%s\n",data[0].destination);
    printf("%s\n",data[0].item);
    printf("%i\n\n", data[0].position);

    printf("%s\n",data[1].source);
    printf("%s\n",data[1].destination);
    printf("%s\n",data[1].item);
    printf("%i\n", data[1].position); 
```

ETC

```
for(int n = 0; n< 3; n++)
{
    printf("%s\n",data[n].source);
    printf("%s\n",data[n].destination);
    printf("%s\n",data[n].item);
    printf("%i\n\n", data[n].position);
} 
```

对于删除和添加，我是否必须制作一个动态的结构数组？如果是这样，那么最简单的语法是什么？像这样的 c++ 代码

```
int * bobby;
bobby = new int [5];
delete bobby[5]; 
```

但在 C? 我猜它与 malloc 和 free 有关

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T04:39:16.533

“*对于删除和添加，我是否必须制作一个动态的结构数组？如果是，那么最简单的语法是什么？像这样的 c++ 代码*”

如果您知道您永远不会拥有超过 x 数量的物品，或者至少检查以确保您没有超过您计划的最大数量，则不会。然后你可以使用你的静态数组。

添加只需要你有一个变量来跟踪数组中有多少项：

```
void add_item(struct orderSlip *p,struct orderSlip a,int * num_items)
{
   if ( *num_items < MAX_ITEMS )
   {
      p[*num_items] = a;
      *num_items += 1;
   }
} 
```

从静态数组中删除将需要一个 for 循环，该循环会将其上方的项目向下移动 1 并递减 int 以跟踪项目的数量。

```
void delete_item(struct orderSlip *p,int *num_items, int item)
{
   if (*num_items > 0 && item < *num_items && item > -1)
   {
      int last_index = *num_items - 1;
      for (int i = item; i < last_index;i++)
      {
         p[i] = p[i + 1];
      }
      *num_items -= 1;
   }
} 
```

您可以通过将结构传递给完成工作的函数来简化打印结构。

```
void print(const struct orderSlip  *p); 
```

或者

```
void print(const struct orderslip s); 
```

可选

```
void print(const struct orderslip s, FILE *fp); 
```

或者

```
void print(const struct orderslip *p, FILE *fp)
{
   fprintf(fp,"%s\n",p->source);
    ...
} 
```

和

```
void print_all(const struct orderSlip *p, int num_items)

//global
struct orderSlip data[MAX_ITEMS];
int num_items = 0;

int main(void)
{
...
       print_all(data,num_items);                                       
       strcpy(a.source,"source 2");
       strcpy(a.destination,"destination 20");
       strcpy(a.item,"item xyz");
       a.position = 99;
       add_item(data,a,&num_items);
       print_all(data,num_items);
       delete_item(data,&num_items,0);
       print_all(data,num_items); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T04:54:17.687

一种方法是分配数组中的每个元素并只保留一个指针数组

```
struct orderSlip **data;

data = calloc(100, sizeof(struct orderSlip*)); // 100 pointers to struct 
```

（calloc 将确保内存为零：从一开始就编辑）

每次添加新结构时：

```
data[i] = calloc(1, sizeof(struct orderSlip)); 
```

当你不再需要时

```
free(data[i]); 
```

您还可以使用 realloc 更改数据的大小，[请参阅](http://www.cplusplus.com/reference/clibrary/cstdlib/realloc/)

如果您不需要使用索引访问数组，则可以考虑另一种类型的数据结构，如链表，是真正动态的。

# c# - 没有修饰键的组合键

> ID：12066048
> 
> 赞同：1
> 
> 时间：2012-08-22T03:45:26.053
> 
> 标签：c#

我需要像 C# 中那样获得像 "A" & "B" 、 "S" & "D" & "F" 这样的组合键。我可以使用修饰键实现组合键，例如 Control、Alter。但是在这里，我需要组合键而不使用那些修饰键。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T03:58:01.950

您将需要注册 KeyDown 和 KeyUp 事件，并自己跟踪当前哪些键处于关闭状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T03:58:29.567

最好的方法是 P/Invoke `GetKeyState`。我猜您正在处理 WinForms 应用程序或 WPF 应用程序，但无论哪种情况，您都可以在 KeyPressed 事件中调用 GetKeyState 方法并轮询您感兴趣的键以查看是否按下了这些键也是。这是 GetKeyState 的一个有用的实现：

[http://sanity-free.org/17/obtaining_key_state_info_in_dotnet_csharp_getkeystate_implementation.html](http://sanity-free.org/17/obtaining_key_state_info_in_dotnet_csharp_getkeystate_implementation.html)

# python - 如何在python中将str转换为单个元素列表

> ID：12066054
> 
> 赞同：32
> 
> 时间：2012-08-22T03:46:12.920
> 
> 标签：python

我有一个`str`变量：`var_1 = "hello"`，我想将它转换为单个元素`list`，我试试这个：

```
>>> list(var_1)
['h', 'e', 'l', 'l', 'o'] 
```

这不是`['hello']`我想要的。

我怎么做？

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-08-22T03:48:28.323

只需放方括号

```
>>> var_1 = "hello"
>>> [var_1]
['hello'] 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-22T03:49:23.507

是否`var1 = [var1]`实现了您正在寻找的东西？

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-22T03:53:55.653

只需执行以下操作：

```
var_1 = ['hello'] 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-11-26T19:06:51.093

在这样做之前添加检查可能很有用，例如：

```
if not isinstance(var_1, list): var_1 = [var_1] 
```

此代码的一个用例是在可以接受字符串或字符串列表并希望函数静默处理的函数中。例如：

```
def dataframe_key_columns(dataframe, keys):
    if not isinstance(keys, list): keys = [keys]
    return [dataframe[key] for key in keys] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-17T05:37:21.733

让我为您提供一种更简单、更真实的方法。

`s='hello' L=[] L.append(s)`

您将获得一个以“hello”为元素的列表。并且您可以随意使用列表 L。

# objective-c - Objective-C 中的二叉树

> ID：12066057
> 
> 赞同：13
> 
> 时间：2012-08-22T03:47:13.517
> 
> 标签：objective-c, ios, binary-tree, binary-search-tree

我正在学习算法和数据结构并训练我正在尝试使用objective-c设计和实现二叉树。

到目前为止，我有以下课程：

*   `main`- 供测试用
*   `Node`- 树的节点
*   `BinaryTree`- 对于与树相关的所有方法

`BinaryTree`我实现的类中的第一个方法是`insertNode:forRoot:`.

```
- (void)insertNodeByRef:(Node **)node forRoot:(Node **)root{

    if (head == NULL) {
        head = *node;
    }
    // Case 2 root is null so can assign the value of the node to it
    if (root == NULL) {
        root = node;
    } else {
        if (node.data > root.data) { // to the right
            [self insertNode:node forRoot:root.right];
        } else if (node.data < root.data) { //or to the left
            [self insertNode:node forRoot:root.left];
        }
    }
} 
```

类的接口`Node`如下所示：

```
@interface Node : NSObject

@property(nonatomic, assign) int data;
@property(nonatomic, strong) Node * right;
@property(nonatomic, strong) Node * left;

@end 
```

我的问题是，如果我将 Node 作为引用传递，我不知道如何访问 Node 类成员变量。每当我尝试访问节点属性（如数据，左或右）时，我都会收到以下错误消息：

```
Member reference base type 'Node *__autoreleasing *' is not a structure or union 
```

所以我的问题是：如何访问这些属性（数据，左或右）并使用它们来存储 int 数据或对另一个节点的引用？

希望这是有道理的。谢谢！

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-22T05:19:34.937

您的代码混合了两种常见的任务方法，因此出现了问题。您还使用了一种*抽象数据类型*(ADT) 类型方法，而不是*面向对象的*方法，因此需要考虑三种方法。

在这两种 ADT 方法中，您的树都由对其根的引用表示，在 Objective-C 中，这可能存储在实例变量中：

```
Node *TreeRoot; 
```

另请注意，这两种算法都使用字段引用，`a->b`而不是属性引用，`a.b`这是因为前者引用了*变量*，而第二种算法需要传递对变量的引用。

**函数式 ADT：按值传递和分配结果**

在这种方法中，一个节点被插入到树中并返回一个*修改*过的树，该树被分配回来，例如插入 a 的顶级调用`Node` `nodeToInsert`将是：

```
TreeRoot = insertNode(nodeToInsert, TreeRoot); 
```

`insertNode`函数看起来像：

```
Node *insertNode(Node *node, Node *root)
{
   if(root == nil)
   {  // empty tree - return the insert node
      return node;
   }
   else
   {  // non-empty tree, insert into left or right subtree
      if(node->data > root->data) // to the right
      {
        root->right = insertNode(node, root->right);
      }
      else if(node->data < root->data)//or to the left
      {
        root->left = insertNode(node, root->left);
      }
      // tree modified if needed, return the root
      return root;
   }
} 
```

请注意，在这种方法中，在非空（子）树的情况下，算法对变量执行冗余分配 - 分配的值是变量中已经存在的值......因此，有些人更喜欢：

**程序 ADT：按引用传递**

在这种方法中，保存（子）树根的变量是通过引用传递的，而不是传递它的值，并根据需要由调用的过程修改。例如，顶级调用将是：

```
insertNode(nodeToInsert, &TreeRoot); // & -> pass the variable, not its value 
```

程序如下`insertNode`：

```
void insertNode(Node *node, Node **root)
{
   if(*root == nil)
   {  // empty tree - insert node
      *root = node;
   }
   else
   {  // non-empty tree, insert into left or right subtree
      Node *rootNode = *root;
      if(node->data > rootNode->data) // to the right
      {
        insertNode(node, &rootNode->right);
      }
      else if(node->data < rootNode->data)//or to the left
      {
        insertNode(node, &root->left);
      }
   }
} 
```

您现在可以看到您的方法是上述两种方法的混合。两者都是有效的，但是当您使用 Objective-C 时，采用第三种方法可能会更好：

**面向对象的 ADT**

这是过程 ADT 的一种变体 - 而不是将变量传递给过程，变量，现在称为*object*，拥有一个更新自身的*方法。*这样做意味着您必须在调用插入节点*之前测试空（子）树，而前两种方法在调用中进行测试。*所以现在我们有了以下方法`Node`：

```
- (void) insert:(Node *)node
{
   if(node.data > self.data) // using properties, could also use fields ->
   {
      if(self.right != nil)
         [self.right insert:node];
      else
         self.right = node;
   }
   else if(node.data < rootNode.data)
   {
      if(self.left != nil)
         [self.left insert:node];
      else
         self.left = node;
   }
} 
```

您还需要更改顶级调用以对空树进行相同的测试：

```
if(TreeRoot != nil)
   [TreeRoot insert:nodeToInsert];
else
   TreeRoot = nodeToInsert; 
```

最后一点 - 如果您使用 MRC 而不是 ARC 或 GC 进行内存管理，则需要插入适当的保留/释放调用。

希望能帮助你解决问题。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-08-22T04:55:39.163

首先，不要写你要采取的方法`Node **`。这只是令人困惑。

其次，考虑它应该如何工作。向自己描述它应该如何在非常抽象的层面上工作。将该描述直接翻译成代码，并在必要时创造新的（尚未编写的！）消息。如果有一些步骤你还不知道怎么做，只需将它们放到你稍后会写的新消息中。我会引导你完成它。

大概您希望公共 API`BinaryTree`包含此消息：

```
@interface BinaryTree

- (void)insertValue:(int)value; 
```

那么如何实施`insertValue:`呢？假装你是`BinaryTree`对象。您对插入值需要做什么的高级描述是什么？你想创建一个新的`Node`. 然后你想把那个新的`Node`插入自己。将该描述直接翻译成代码：

```
@implementation BinaryTree {
    Node *root_; // root node, or nil for an empty tree
}

- (void)insertValue:(int)value {
    Node *node = [[Node alloc] initWithData:value];
    [self insertNode:node];
} 
```

现在考虑如何进行插入。好吧，如果您是一棵空树，则您的`root_`值为 nil，您可以将其设置为新节点。否则，您可以只要求您的根节点将新节点插入到他自己的下面。将该描述直接翻译成代码：

```
- (void)insertNode:(Node *)node {
    if (root_ == nil) {
        root_ = node;
    } else {
        [root_ insertNode:node];
    }
} 
```

现在假装你是一个`Node`。你被要求`Node`在自己下面插入一个新的。你怎么做呢？您必须将新节点的值与您的值进行比较。如果新节点的值小于您的值，您希望在左侧插入新节点。否则，您想将其插入右侧。将该描述直接翻译成代码：

```
@implementation Node

- (void)insertNode:(Node *)node {
    if (node.data < self.data) {
        [self insertNodeOnLeftSide:node];
    } else {
        [self insertNodeOnRightSide:node];
    }
} 
```

现在您仍然是`Node`，并且您被要求在左侧插入一个新节点。你怎么做呢？好吧，如果您的左侧还没有孩子，只需将新节点用作您的左孩子。否则，你要求你的左孩子在他自己下面插入新节点。将该描述直接翻译成代码：

```
- (void)insertNodeOnLeftSide:(Node *)node {
    if (self.left == nil) {
        self.left = node;
    } else {
        [self.left insertNode:node];
    }
} 
```

我将把实现`insertNodeOnRightSide:`作为练习留给读者。;^)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T03:53:47.980

`(Node **)node`是指向对象指针的指针，因此`node.something`无效，因为您是对远离对象的引用。

但`(*node).something`会工作。

* * *

补充说明：
你当初调用这个方法的时候：`-(void)insertNodeByRef:(Node **)node forRoot:(Node **)root` 你是怎么调用的？
从您在评论中发布的错误来看，您正在做的事情是：
`Node *n = [[Node alloc] init];
[aNode insertNodeByRef:n forRoot:aRoot];`

当您的方法签名状态需要这样调用它时：
`[aNode insertNodeByRef:&n forRoot:&aRoot];`
将指针的地址传递给对象。

我这样说是因为您的错误现在表明您正在发送`Node *`而不是发送`Node **`2 个不同的东西。（（`Incompatible pointer types sending 'Node *' to parameter of type 'Node **'`）我已经删除了 2 * 之间的 __autoreleasing，它掩盖了错误消息。）
换句话说，`pointer to an object`当您的方法要求 a 时，您正在传递 a `pointer TO A pointer to an object`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:01:35.943

在我看来，您的代码有很多逻辑错误。也许考虑查看指针到指针是什么，以确保您正在设计所需的效果。同样，您需要取消引用 node/root 才能在正常状态下访问它们。否则，错误有效，Node** 不是结构或联合类型。

# android - Prefab.Instantiate 新对象

> ID：12066059
> 
> 赞同：0
> 
> 时间：2012-08-22T03:47:41.040
> 
> 标签：android, unity3d

我的预制件有问题。我想在将球体扔到空中后从其原始位置替换它。所以我阅读并按照如何创建预制件的步骤进行操作。目前，我有一个球体、一个脚本和一个预制件。脚本已经附加到球体上，并且球体被拖到了预制件中。

以及如何使用下面的代码实例化新球体。

```
 function Update(){

if (Input.touchCount == 1) {

    transform.eulerAngles.x = -45;
    rigidbody.velocity=transform.forward * force;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T07:14:06.980

您需要在脚本中引用预制件。这意味着在 Unity 中通过拖放填充公共游戏对象。

```
public GameObject spherePrefab;

function Update(){
    if (spherePrefab != null) {
        GameObject go = (GameObject)Instantiate (spherePrefab);
        go.transform.eulerAngles = -45;
        // ...
    } 
```

# algorithm - 空间（槽）优化算法

> ID：12066063
> 
> 赞同：4
> 
> 时间：2012-08-22T03:47:54.177
> 
> 标签：algorithm, language-agnostic

我将直接从示例开始：

在游戏中，玩家将使用一个袋子来存放他们的物品（物品的尺寸可变），并且袋子的尺寸也可变。

在一个 8x15 插槽的袋子中，我需要插入一个占用 2x2 插槽的项目，我可以搜索空间以实际检查是否有足够的空间来存储该项目 - 这很容易，但是，如果我没有足够的空间怎么办存储请求项目的空间？这是真正的问题。

我正在尝试找到一种方法来实际重新排列当前包中的所有当前项目，以便为新项目释放空间。

有什么算法可以帮助我做到这一点吗？

# 编辑

规则：

1.  我无法移除包中的任何现有物品，如果没有足够的空间，只需重新排列它们以便存储新物品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-27T17:01:06.323

我认为不幸的是这是一个 NP 难题，但您可以使用贪婪逼近算法。近似算法可以如下工作：

*   按项目数量对所有项目进行降序排序。
*   遍历列表并尝试将当前项目放置在任何位置
*   如果在任何时候当前项目无法安装在任何地方，请确定该项目无法被拾取。
*   如果所有部件都安装好，则决定可以拾取该物品。

这是基于直观的想法，即较大的零件比较小的零件“更难”放置。如果大多数物品都是 1x1，您可以做的另一件事是暴力解决方案，这在如此小的库存中是非常可行的。这将按如下方式工作：

*   尝试当前作品的每个位置，它仍然适合每个这样的位置：
*   对下一个未定位的部分执行此操作。

这将始终解决您的问题，但速度较慢（尽管更准确）。可以通过省略每个 1x1 块，然后放置它们来改进该算法。

# c++ - 如何调用一个带有整数向量的函数？

> ID：12066064
> 
> 赞同：3
> 
> 时间：2012-08-22T03:47:59.167
> 
> 标签：c++, windows, assembly

## 问题

我正在尝试为玩具语言编写解释器，并且我希望它能够调用位于 DLL 中的函数。在一些`external.dll`我有：

```
#include <cstdio>

extern "C" {

__declspec(dllexport) void print(int val) { printf("%i\n", val); }
__declspec(dllexport) int add(int a, int b) { return a + b; }

... more functions **that I don't know then names of**

} 
```

假设我有一个`std::string func;`它是 DLL 中 proc 的名称，可能是`"print"`or `"add"`，而`std::vector<int> args;`它的大小是目标函数的参数数量。我将如何相应地调用正确的 DLL 函数？理想情况下，我希望能够调用任何可以使用`GetProcAddress`.

## 我的解决方法

我目前正在使用 MSVC 的内联汇编程序来做我想做的事。它是这样的：

```
int WorkaroundCall(const std::string& func, const std::vector<int>& args) {
    void* proc = GetProcAddress(hmod, func.c_str()); // hmod is the DLL's HMODULE
    void* spsave, * argframe;
    size_t argsize = sizeof(int) * args.size();
    const int* argdata = args.data();

    __asm {
            mov eax, esp
            sub eax, argsize
            mov argframe, eax
    }

    memcpy(argframe, argdata, argsize);

    __asm {
            mov spsave, esp
            mov esp, argframe
            xor edx, edx
            call proc
            mov esp, spsave
    }
} 
```

然而，这显然不是一个好的解决方案，因为它使用汇编并且依赖于系统（有人告诉我这不适用于 64 位）。我怎样才能做得更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:21:36.217

就像是：

```
#define EXTERNAL_API __declspec(dllimport)
typedef void (EXTERNAL_API* LPPRINTFN)( int );
typedef int (EXTERNAL_API* LPADDFN)( int, int );

// After loading the module you get the functions.
LPPRINTFN pfnPrint = (LPPRINTFN) GetProcAddress( hmod, "print" );
LPADDFN pfnAdd = (LPADDFN) GetProcAddress( hmod, "add" ); 
```

现在，由于您有这些字符串，您可能希望将它们映射到唯一值（假设映射是全局的）：

```
typedef enum FuncType {
    Nothing = 0,
    PrintFunc = 1,
    AddFunc = 2
} EFuncType;

typedef map< string, EFuncType > TFuncNameMap;
TFuncNameMap funcNameMap;

if( pfnPrint != NULL ) funcNameMap["print"] = PrintFunc;
if( pfnAdd != NULL ) funcNameMap["add"] = AddFunc; 
```

最后，调用（不包括对参数向量的任何边界检查）：

```
int SlightlyBetterCall( const std::string& func, const std::vector<int>& args )
{
    TFuncNameMap::iterator iFuncId = funcNameMap.find(func);
    if( iFuncId == funcNameMap.end() )
        return -1; // return some error?

    int result = 0;

    switch( iFuncId->second ) {
        case PrintFunc:
            pfnPrint( args[0] );
            break;
        case AddFunc:
            result = pfnAdd( args[0], args[1] );
            break;
    }

    return result;
} 
```

你真的不需要那张地图......没有什么可以阻止你去：

```
if( func == "print" && pfnPrint != NULL ) {
    pfnPrint( args[0] );
}
else if( func == "add" && pfnAdd != NULL ) {
    result = pfnAdd( args[0], args[1] );
} 
```

这整件事对我来说似乎有点可疑，但我希望无论如何都能帮助你=）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:51:46.020

[我普遍认为，唯一的解决方案是按照 Mehrdad的](https://stackoverflow.com/questions/12066064/how-do-i-call-a-function-that-takes-several-ints-with-a-vector-of-ints#comment16116140_12066064)建议使用 LibFFI （不幸的是，它不支持 MSVC），或者继续使用 Assembly 并维护 32 位和 64 位的不同版本（这就是我会努力做到的）。

按照 Chris Becke 的建议生成所有方法签名是不切实际的，因为玩具语言要拥有比 int 更多的类型。

再次，抱歉 - 我应该明确指出 DLL 中的函数名称在编译时不为程序所知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:24:27.733

在 C（以及因此在 C++）中做到这一点的唯一方法是声明所有可能的函数签名，然后根据参数的数量调用适当的签名。

接下来要注意的是，在 64 位构建中，'int' 不会削减它 - 基本参数大小将是 64 位类型。由于这是一个 windows 问题，我将使用 windows sdk 中的类型来确保它在 Win32 和 Win64 中都能正确编译和工作。

```
#include <windows.h>
typedef INT_PTR CALLBACK Tfunc0(void);
typedef INT_PTR CALLBACK Tfunc1(INT_PTR p1);
typedef INT_PTR CALLBACK Tfunc2(INT_PTR p1,INT_PTR p2);

INT_PTR CallProc(FARPROC proc, const std::vector<INT_PTR>& args) {
    switch(args.size())
    {
    case 0: return ((TFunc0*)proc)();
    case 1: return ((TFunc1*)proc)(args[0]);
    case 2: return ((TFunc2*)proc)(args[0],args[1]);
    }
    throw some_kind_of_exception;
} 
```

* * *

或者，模板化方法可以让您更轻松地调用 procs：

```
template<typename RetT> 
RetT CallProc(FARPROC proc){
  return (RetT)(((TFunc0*)proc)());
}

template<typename RetT,typename Param1T> 
RetT CallProc(FARPROC proc, Param1T p1){
  return (RetT)(((TFunc1*)proc)((INT_PTR)p1));
}
//etc. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:24:46.513

好的，我知道了：-

*   您正在堆栈上创建空间，然后将偏移量传递给`proc`.

如果堆栈不是唯一的要求，那么在堆中传递数据的地址是很好的。

但是，您可以使用数组在堆栈上分配空间。

```
int WorkaroundCall(const std::string& func, const std::vector<int>& args) {
        void (*proc)(int);
        void* proc = GetProcAddress(hmod, func.c_str()); // hmod is the DLL's HMODULE
        void* spsave, * argframe;
        size_t argsize = sizeof(int) * args.size();
        const int* argdata = args.data();
        int *dat= new int[argsize];    
        memcpy(dat, argdata, argsize);
        proc(dat);
        delete[] dat;
    } 
```

# ios - 在 iOS 模拟器中启动的间歇性 SIGINT

> ID：12066065
> 
> 赞同：2
> 
> 时间：2012-08-22T03:48:15.073
> 
> 标签：ios, xcode, xcode4, ios-simulator, sigint

有时，当我在模拟器中运行我的应用程序时，它会在启动时冻结，并带有`SIGINT`. 它中断的行是多种多样的，但它们包括系统库调用`libsystem_c.dylib'pthread_rwlock_unlock$UNIX2003:`和我自己的代码中的调用，比如`self.view.layer.shadowRadius= 6.0f;`or `button= [[UIButton alloc] initWithImage:image];`。这种行为是不可预测的，我无法弄清楚是什么原因造成的。这不会在设备上发生。

`SIGINT`如果断言失败，我偶尔会在我的代码中使用来杀死调试版本中的应用程序，但这个问题永远不会发生在这些行之一上或附近。

# image - APEX：图像链接到表中的数据

> ID：12066077
> 
> 赞同：0
> 
> 时间：2012-08-22T03:50:11.523
> 
> 标签：image, hyperlink, oracle-apex

我在页面的 html 区域中有一个图像文件。我想在链接到数据库中 2 个特定字段的图像上创建 html 链接。

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T07:04:14.783

如果要构建链接，则必须了解顶级 URL 的构建方式。您可以在 Oracle 文档中阅读：http: [//docs.oracle.com/cd/E23903_01/doc/doc.41/e21674/concept_url.htm#BEIJCIAG](http://docs.oracle.com/cd/E23903_01/doc/doc.41/e21674/concept_url.htm#BEIJCIAG)

本质上，将 img 标签包装在锚标签中

```
<a href="f?p=&APP_ID.:1:&SESSION_ID.::::P1_ITEM1,P1_ITEM2:Imavalue,imanothervalue">
   <img src="#WORKSPACE_IMAGES#some_img.png" />
</a> 
```

当然，如果您希望在目标页面上限制查询，则需要在该页面上设置一些页面项，并将这些项包含在 where 子句中以限制结果。这应该是基本的，如果你不熟悉这个概念，我建议你阅读 2 天的 apex 开发者指南。它涵盖了基础知识，您可以从那里获取：http: [//download.oracle.com/docs/cd/E23903_01/doc/doc.41/e21679/toc.htm](http://download.oracle.com/docs/cd/E23903_01/doc/doc.41/e21679/toc.htm)

# iphone - 注册具有重叠透明属性的分层 uiimageviews 的触摸事件

> ID：12066079
> 
> 赞同：1
> 
> 时间：2012-08-22T03:50:33.627
> 
> 标签：iphone, xcode, events, uiimageview, touch

我是这方面的新手，并且已经查看了与这个问题相关的几篇文章，但似乎没有一个能提供我需要的答案。

我在一个“基础”uiimageview 中有多个分层的uiimageview。uiimageviews 显示具有小的不透明彩色部分和大的透明部分的图像阵列。如何获得触摸事件以忽略透明部分的图层以激活不透明的底层？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T03:55:52.213

默认情况下， 的`userInteractionEnabled`属性`UIImageView`是禁用的。如果您只希望“最低”视图接收触摸事件，您应该创建一个子类，`UIImageView`在其中明确设置`userInteractionEnabled = YES;`和实现`touchesBegan`等。如果您有任何问题，请告诉我。

# javascript - window.innerWidth 和 window.outerWidth 有什么区别？

> ID：12066093
> 
> 赞同：39
> 
> 时间：2012-08-22T03:54:18.147
> 
> 标签：javascript

我检查了`window`Firebug 中的对象。`window.innerWidth`并且`window.outerWidth`都是`1230`。

这两个值有什么区别？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-22T04:08:09.843

来自 Mozilla 开发者网络：

*window.outerWidth*

> window.outerWidth 获取浏览器窗口外部的宽度。它表示整个浏览器窗口的宽度，包括侧边栏（如果展开）、窗口镶边和窗口大小调整边框/句柄。

和

*window.innerWidth*

> 浏览器窗口视口的宽度（以像素为单位），包括（如果呈现）垂直滚动条。

表面上这就是他们的工作方式。然而，一个测试页面显示，无论我如何在 Ubuntu 12.04 上的 Firefox 14.0.1 中调整它们的大小，它们都是相同的。在 Chromium 中，它们返回的数字相差 8 个像素。进行一些航位推算，看起来该特定应用程序上的窗口镶边在左侧大约 4 像素，在右侧大约 4 像素，并且在该浏览器中正确拾取了这种差异。

我使用的测试页面的代码：

```
<!DOCTYPE html>
<html lang="en">
<head>
    <title>12066093</title>
    <meta charset="utf-8">
</head>
<body>
<div style="width:2000px; height: 2000px;">hi</div>
<script type="text/javascript">
    alert("window.innerWidth: " + window.innerWidth + "\nwindow.outerWidth: " + window.outerWidth);
</script>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T04:01:21.250

检查 Mozilla 对[window.innerWidth](https://developer.mozilla.org/en-US/docs/DOM/window.innerWidth)和[window.outerWidth](https://developer.mozilla.org/en-US/docs/DOM/window.outerWidth)的参考。如果您的操作系统/窗口管理器有它们，window.outerWidth 包括窗口边框、调整大小手柄和边栏。

尝试打开书签或历史侧边栏，然后在 Firebug 中再次尝试。

# c# - 使 Button IsEnabled 状态依赖于两个文本框

> ID：12066097
> 
> 赞同：1
> 
> 时间：2012-08-22T03:54:53.703
> 
> 标签：c#, .net, wpf, xaml, isenabled

我想让一个按钮的 IsEnabled 仅在两个文本框没有任何错误时才为真（在这种情况下，我只希望它们都是数字）

我尝试将文本框设置为 NotifyOnValidationError=True，认为这会引发一个异常，该异常会冒泡到容器控件 - 然后我会根据属于该控件的 Validation.HasError 附加属性将按钮的 IsEnabled 设置为 true

我尝试了以下（去除了格式化代码），但它不起作用（当我第一次启动应用程序并且文本框为空时启用了按钮 -​​ 它们绑定到可为空的小数）

```
<WrapPanel>
    <TextBox x:Name="txtDeltaMin"Text="{Binding Path=DeltaMinFilter, NotifyOnValidationError=True, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}"></TextBox>
    <TextBox x:Name="txtDeltaMax" Text="{Binding Path=DeltaMaxFilter, NotifyOnValidationError=True, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}"></TextBox>
    <Button x:Name="btnUpdateFilter" Click="btnUpdateFilter_Click" IsEnabled="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type WrapPanel}}, Path=(Validation.HasError)}">Filter</Button>
</WrapPanel> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:33:34.177

您可以使用[MultiBinding](http://msdn.microsoft.com/en-us/library/system.windows.data.multibinding.aspx)。应该看起来像这样：

```
<TextBox Text="{Binding Path=DeltaMinFilter, NotifyOnValidationError=True, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
<TextBox x:Name="txtDeltaMax" Text="{Binding Path=DeltaMaxFilter, NotifyOnValidationError=True, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" />
<Button x:Name="btnUpdateFilter" Click="btnUpdateFilter_Click" Content="Filter">
    <Button.IsEnabled>
        <MultiBinding Converter="{StaticResource IsEnabledConverter}">
            <Binding ElementName="txtDeltaMin" Path="Validation.HasError" />
            <Binding ElementName="txtDeltaMax" Path="Validation.HasError" />
        </MultiBinding>
    </Button.IsEnabled> 
</Button> 
```

然后你只需要通过实现*IMultiValueConverter来创建**IsEnabledConverter*类，并将其添加为资源。

 *```
public class IsEnabledConverter : IMultiValueConverter
{
    public object Convert(object[] values, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        foreach (var isValid in values)
            if (isValid as bool? == false) 
                return false;
        return true;
    }

    public object[] ConvertBack(object value, Type[] targetTypes, object parameter, System.Globalization.CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:45:18.873

[您还可以按照此MSDN 文章](http://msdn.microsoft.com/en-us/library/ms753200.aspx)中的说明创建 CommandBinding ，然后使用 CanExecuteHandler 通过设置[CanExecute](http://msdn.microsoft.com/query/dev11.query?appId=Dev11IDEF1&l=EN-US&k=k%28System.Windows.Input.CanExecuteRoutedEventArgs%29;k%28CanExecuteRoutedEventArgs%29;k%28TargetFrameworkMoniker-.NETFramework,Version=v4.5%29;k%28DevLang-csharp%29&rd=true)来启用/禁用按钮。

从第二个链接：

> 通常，诸如 MenuItem 之类的命令源将调用 RoutedCommand 上的 CanExecute 方法，以确定该命令是否可以在当前命令目标上执行。如果从事件处理程序中将 CanExecute 设置为 false，则命令源将自行禁用。例如，如果 MenuItem 充当命令的命令源，并且该命令无法在当前命令目标上执行，则 MenuItem 将自身变灰。*

# git - git pull 错误“请求的 URL 返回错误：访问时 503”

> ID：12066100
> 
> 赞同：53
> 
> 时间：2012-08-22T03:55:20.783
> 
> 标签：git, github, bitbucket

我最近在访问我的 git 存储库时遇到了问题。它之前工作得很好，但现在我无法在 CLI 上运行任何命令。但是，我可以访问相应的网页，有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2014-02-14T10:52:18.263

使用连接到**BitBucket存储库的****SourceTree**时出现相同的错误。

 **导航到[bitbucket.org](http://bitbucket.org)上的存储库 url 时出现警告消息：

> 此存储库处于只读模式。你发现我们在做一些快速维护。

大约 2 小时后，可以再次访问存储库。

您可以在此处查看 bitbucket 的状态和正常运行时间：http: [//status.bitbucket.org/](http://status.bitbucket.org/)

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2015-05-27T05:32:17.193

在这里你可以从他们的网站上看到最新的更新状态

[bitbucket 站点状态](http://status.bitbucket.org/)

如果 `Git via HTTPS` 状态为 `Major Outage`，您将无法拉/推，让此状态变为绿色

> HTTP 错误 503 - 服务不可用

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2013-04-12T12:20:57.163

尝试禁用所有系统范围的 HTTP 和 HTTPS 代理：

```
export http_proxy="" 
export https_proxy=""
export HTTP_PROXY=""
export HTTPS_PROXY="" 
```

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2015-05-27T06:50:19.623

它在bitbucket结束时的问题。

您可以在[http://status.bitbucket.org/查看他们的服务状态](http://status.bitbucket.org/)

目前`HTTPS`，bitbucket 出现中断。见下文

![在此处输入图像描述](../Images/1f4ca3244aae0ab92881e827828e0bf2.png)

您可以使用`SSH`选项。我只是使用`SSH`了选项`sourcetree`。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-01-16T10:15:47.653

如“ [CocoaPods - pod setup http request failed](https://stackoverflow.com/q/14355595/6309) ”，访问（克隆）*公共*存储库时出现 503 错误很可能是 GitHub 故障（可用性问题）的结果

稍后重试通常有效。

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2014-04-01T22:32:10.057

50X 错误是**内部服务器**错误。您的一端没有问题，但服务器端出现了问题。

[http://www.checkupdown.com/status/E503.html](http://www.checkupdown.com/status/E503.html)

> 由于服务器临时过载或维护，Web 服务器（运行网站）当前无法处理 HTTP 请求。这意味着这是一种暂时的情况，经过一段时间的延迟会得到缓解。

请耐心等待。:-)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-12-24T15:43:13.673

每个人都请避免修改后缓冲区并建议其他人。在某些情况下它可能会有所帮助，但会破坏其他情况。如果您修改了发布缓冲区以推送大型项目。使用以下命令撤消它。 `git config --global --unset http.postBuffer` `git config --local --unset http.postBuffer`

我修改了我的 post 缓冲区以解决我在 git 上遇到的问题之一，但这是我未来在 git 上出现问题的原因。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-04-26T21:33:45.620

尝试克隆 heroku git 存储库时收到相同的错误。

在访问 heroku 仪表板时，我看到了一个警告，指出该工具正在维护中，应该会在几个小时后恢复。

```
Cloning into 'foo-repository'...
remote: !        Heroku has temporarily disabled this feature, please try again shortly. See https://status.heroku.com for current Heroku platform status.
fatal: unable to access 'https://git.heroku.com/foo-repository.git/': The requested URL returned error: 503 
```

如果您收到相同的错误，请检查服务状态

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-12-24T06:52:44.400

这是来自 git 的服务问题。该网站将处于维护状态。请在维护工作完成后尝试一次。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-03-10T10:05:44.707

我今天有同样的错误。显然，**Google Compute Engine**今天停机了 2-3 个小时（GitLab 使用它）。到那时，我必须使用 VPN 才能从 repo 中提取更新。我不想等待。

```
pranav@exam ~/j/just-perfection-gnome-shell-desktop (master)  git pull
fatal: unable to access 'https://gitlab.com/justperfection.channel/just-perfection-gnome-shell-desktop.git/': The requested URL returned error: 503
git: 'gitlab-rake' is not a git command. See 'git --help'.
pranav@exam ~/j/just-perfection-gnome-shell-desktop (master) [1]> nordvpn connect us
Connecting to United States #8244 (us8244.nordvpn.com)
You are connected to United States #8244 (us8244.nordvpn.com)!
pranav@exam ~/j/just-perfection-gnome-shell-desktop (master)> git pull
remote: Enumerating objects: 149, done.
remote: Counting objects: 100% (149/149), done.
remote: Compressing objects: 100% (99/99), done.
remote: Total 118 (delta 88), reused 23 (delta 15), pack-reused 0
Receiving objects: 100% (118/118), 710.93 KiB | 289.00 KiB/s, done.
Resolving deltas: 100% (88/88), completed with 19 local objects.
From https://gitlab.com/justperfection.channel/just-perfection-gnome-shell-desktop
   3008d67..5cf51ac  master     -> origin/master
Successfully rebased and updated refs/heads/master. 
```

所以我给你的建议是要么等待它重新上线，要么尝试使用 VPN 看看它是否有效。这是上面专家提到的服务器端问题。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-11-28T13:22:04.543

这个问题不仅是由 造成的`no_proxy`，因为它也是由`git server down`问题造成的。

因此，当首先发生此问题时，您在浏览器中打开并检查 gitlab。

并检查它是否显示任何错误，例如`"503 An internal server error occured".`.

gitlab 显示`"503"`页面，此问题由 gitlab 服务器创建，不在您的系统中。

因此，您等待一段时间，直到服务器启动并继续您的工作。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-12-07T17:34:30.257

运行时我在 Linux 上使用 gitlab 中的 git 时遇到了同样的错误

```
git clone git@gitlab.com:MYPROJECT 
```

在全新的 linux 安装上，输出：

```
The requested URL returned error: 503 
```

我只需要创建一个 ssh 密钥对（当您对 https URL 使用密码身份验证时，错误可能也会消失，这个答案只显示密钥对方法）。

从中选择：

```
ssh-keygen -t rsa -b 4096 
ssh-keygen -t dsa 
ssh-keygen -t ecdsa -b 521 
ssh-keygen -t ed25519 
```

只需按 enter 将其保存到标准目录，决定是否需要额外的密码。然后复制公钥的内容

```
cat ~/.ssh/id_rsa.pub 
```

到gitlab上的ssh密钥，这里以rsa为加密方式。将私钥添加到您的 ssh。

```
ssh-add ~/.ssh/id_rsa 
```

尝试克隆：

```
git clone git@gitlab.com:MYPROJECT --branch MYBRANCH 
```

它应该要求检查要针对[https://docs.gitlab.com/ee/user/gitlab_com/](https://docs.gitlab.com/ee/user/gitlab_com/)检查的指纹，可以肯定的是，您可以检查这个，然后克隆命令起作用。

* * *

## 回答 #13

> 赞同：-13
> 
> 时间：2015-03-11T11:03:36.483

解决方案：

> 错误：请求的 URL 返回错误：访问时 503

可以通过删除现有的 git 文件夹来解决该错误。**

# ios - 为什么我的 NSManagedObject 子类方法无法被识别？

> ID：12066101
> 
> 赞同：0
> 
> 时间：2012-08-22T03:55:20.863
> 
> 标签：ios, xcode, core-data, nsmanagedobject

我已经（大量）将 NSManagedObject 子类化为一个项目。它在原始项目中无缝地工作，不费吹灰之力。

我将这些文件复制到一个新项目中，手动将适当的 CoreData 类添加到新数据模型中。

不幸的是，我遇到了“问题”。由于某种原因，所讨论的子类的方法被忽略了。两个项目之间的代码完全相同，但我突然遇到了无法识别的选择器问题。

```
NSFetchRequest *blockRequest=[[NSFetchRequest alloc] init];
NSEntityDescription *blockDesc=[NSEntityDescription entityForName:@"AdBlock" 
                                           inManagedObjectContext:context];
[blockRequest setEntity:blockDesc];

AdBlock *curBlock=[adBlocks objectAtIndex:blockIndex];

adBlocks=[context executeFetchRequest:blockRequest error:nil];

for (AdBlock *block in adBlocks) {
    [block initAdBlock];//Crashes with unrecognized selector
} 
```

我已经检查过了，适当的 .m 文件已添加到编译器构建阶段。代码实际上是复制和粘贴，并且在两个项目之间是相同的——源代码有效，目标代码无效。

我注意到我没有明确告诉上下文它应该返回子类类型，但这在旧项目中不是问题，那么为什么在新项目中会出现问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:05:05.747

当这样的事情发生在我身上时，我会尝试两件事。我要做的第一件事是确保我正确地#imported NSManagedObject 子类（我忘记这种方式的频率比我应该的要多），但是正如你所说的你复制和粘贴的，我不认为这是你的问题。我尝试的第二件事是通过转到 File>New>File 然后 NSManagedObject Subclass 然后选择我更改的 NSManagedObjects 来重建 NSManagedObjects。我建议在你的情况下重建所有这些。看看这是否有效。它可能不是，但它是一个容易开始的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-27T19:43:44.573

确保检查您的模型并确保您已更改检查器中的类名。否则，无论如何，它们都会以 NSManagedObjects 的形式返回。并使用 mogenerator 所以你不必担心重新生成你的类。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-08T23:05:12.867

我知道这个问题已经过时了，但也许有人搜索会发现这很有帮助。

我一直在使用类别向 NSManagedObject 子类添加附加功能。这允许我使用 XCode 命令生成类定义，而不会破坏任何自定义逻辑。罗恩在对所选答案的评论中提到了这一点——只是认为这值得引起注意，因为我发现这是一个非常巧妙的解决方案。

# asp.net-membership - 在 ASP.NET MVC 4 中覆盖 ASP.NET 成员资格

> ID：12066102
> 
> 赞同：5
> 
> 时间：2012-08-22T03:55:25.323
> 
> 标签：asp.net-membership, asp.net-mvc-4

在以前版本的 ASP.NET 中，我可以修改 web.config 中的 Membership Provider 设置以指向我的自定义实现。

我试图在 MVC4 中模拟这一点，但似乎模板中的情况发生了一些变化。它似乎使用 WebMatrix.WebData.WebSecurity 而不是经典的 Membership 类。我是否需要像以前那样删除所有这些东西并用 Membership 调用替换它，或者有没有办法将新的 WebMatrix.WebData.WebSecurity 类与我的自定义 Membership 实现一起使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-23T16:54:54.303

如果您想继续使用您的自定义会员实施，您将不得不去掉所有的东西并用会员调用替换。SimpleMembership(webmatrix.webdata.websecurity) 不适用于现有的成员资格实现

# php - 在加载的同时将数据发送到 ajax 请求

> ID：12066105
> 
> 赞同：0
> 
> 时间：2012-08-22T03:55:44.573
> 
> 标签：php, javascript, ajax, http, connection

我需要在 PHP 上做一些事情（这将花费很多时间......），并且随着它的流动，我需要发送一个数字（可能是百分比）到带有 ajax 调用的页面，更新加载栏.

但我不知道如何“加载”尚未加载的页面字符串......

还有，这个有“词”吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:03:43.497

服务器可以发回包含两个字段的 JSON 或 XML；百分比和有效载荷。如果百分比小于 100，您的 ajax 客户端将再次执行相同的 ajax 调用（您需要在请求中进行某种请求 ID 跟踪）。当它为 100 时，您可以将数据从有效负载中提取出来。当然，PHP 要么返回小于 100 的百分比且没有负载，要么返回 100 和准备好的完整数据。

您的客户端 ajax 应该被限制为每隔几秒轮询一次，但听起来应该可以完成您想要的。

编辑：顺便说一句，PHP 响应可能包含数据，例如在再次询问之前等待多长时间、预计完成时间等，根据需要。

# asp.net-mvc - 如何从 Partial 调用的 ActionMethod 访问“main”查询字符串

> ID：12066116
> 
> 赞同：0
> 
> 时间：2012-08-22T03:56:38.833
> 
> 标签：asp.net-mvc, c#-4.0, jquery, partial-views

在 MVC 项目中，我有一个部分

```
@Html.Partial("_MyPartial"); 
```

它通过 URL 调用控制器方法（使用 AJAX 和 jQuery）

```
'/Home/MyActionMethod?type=myType&sort=az&page=1' 
```

Home 控制器包含 MyActionMethod，它返回一个 PartialViewResult。MyActionMethod 具有与 URL 中的参数匹配的参数，这些参数照常映射。

我的问题是如何从 MyActionMethod 访问顶级查询字符串，因为我想在其中包含额外的值？顶层是指在浏览器中看到的那个，而不是从 _MyPartial 发送到 MyActionMethod 的那个

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:44:08.830

在执行 AJAX 调用时，您必须将它们作为查询字符串参数包含在内。因此，在服务器上构建链接时，请阅读查询字符串参数并将它们附加到您已有的参数中。

# javascript - 使用 javascript 读取 PDF 文件

> ID：12066118
> 
> 赞同：16
> 
> 时间：2012-08-22T03:56:49.117
> 
> 标签：javascript, pdf, cordova

我目前正在开发一个应用程序，它将`Copy/Transfer a sentence/paragraph from a PDF file to my program`. 我正在使用 Javascript 开发我的程序，但我不知道如何阅读 PDF 文件。

我想知道如何将 PDF 文件中的句子/段落复制/传输到我的程序？

谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2015-03-13T12:27:46.487

我知道这个问题很老了，但是如果您发现 PDF.js 对于这项工作来说太复杂了，`npm install` [请 pdfreader](https://www.npmjs.com/package/pdfreader)。（我写了那个模块）

从 PDF 文件中提取文本需要 5 行代码：

```
var PdfReader = require("pdfreader").PdfReader;
new PdfReader().parseFileItems("sample.pdf", function(err, item){
  if (item && item.text)
    console.log(item.text);
}); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-01-03T14:40:01.677

查看[PDF.js](https://github.com/mozilla/pdf.js)，它是一个常用的 JavaScript 库，包含许多用于 PDF 操作的方法。

查看[此答案](https://stackoverflow.com/questions/1554280/extract-text-from-pdf-in-javascript#answer-20522307)以查看如何使用 pdf.js 提取文本的演示。

# sql - 结果集返回 SQL Server 2008 中的默认值

> ID：12066123
> 
> 赞同：1
> 
> 时间：2012-08-22T03:58:09.393
> 
> 标签：sql, sql-server, sql-server-2008

```
select top 1 ROW_NUMBER() OVER (ORDER BY eventtime desc) as id,
Eventcode, eventtime as et, status from cfw.dbo.DCTBLEVENTINFO 
where MeterID = 4722 and EventTime between convert(date,'2011-10-21') 
and dateadd(day,1,convert(date,'2011-10-26')) 
and EventCode = 13 
```

**原始结果集：**

```
id  Eventcode   et                    status
1   13        2011-10-26 15:00:00.000   1 
```

上面的查询返回了完美的结果集，但是如果我像下面这样使用相同的查询，它会返回错误的结果

```
SELECT temp.et 
  FROM (SELECT TOP 1 ROW_NUMBER() OVER (ORDER BY eventtime desc) as id,
               Eventcode, 
               eventtime as et, 
               status 
          FROM cfw.dbo.DCTBLEVENTINFO 
         WHERE MeterID = 4722 
           AND EventTime BETWEEN CONVERT(date,'2011-10-21') 
                             AND DATEADD(day,1,convert(date,'2011-10-26')) 
           AND EventCode = 13) temp 
 WHERE status = 1 
```

**上述查询的结果集：**

```
et
------------------------
2011-10-21 21:42:00.000 
```

它返回某个其他日期。我找不到问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:01:33.170

尝试将 ORDER BY 添加到您的子选择中。

就像是

```
select  temp.et 
from    (
            select  top 1 
                    ROW_NUMBER() OVER (ORDER BY eventtime desc) as id, 
                    Eventcode, 
                    eventtime as et, 
                    status 
            from    cfw.dbo.DCTBLEVENTINFO  
            where   MeterID = 4722 
            and     EventTime between convert(date,'2011-10-21') and dateadd(day,1,convert(date,'2011-10-26'))  
            and     EventCode = 13
            ORDER BY eventtime desc
        )   temp 
where   status=1 
```

请始终记住[，如果没有 ORDER BY，则没有默认排序顺序。](http://sqlblog.com/blogs/alexander_kuznetsov/archive/2009/05/20/without-order-by-there-is-no-default-sort-order.aspx)

此外，请记住[逻辑查询处理阶段 - 语句执行顺序](http://blog.sqlauthority.com/2009/04/06/sql-server-logical-query-processing-phases-order-of-statement-execution/)

> 1.  从
> 2.  在
> 3.  外
> 4.  在哪里
> 5.  通过...分组
> 6.  立方体 | 卷起
> 7.  拥有
> 8.  选择
> 9.  清楚的
> 10.  订购方式
> 11.  最佳

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:01:55.293

```
select top 1 temp.et from (select ROW_NUMBER() OVER (ORDER BY eventtime desc) as id,
Eventcode, eventtime as et, status from cfw.dbo.DCTBLEVENTINFO 
where MeterID = 4722 and EventTime between convert(date,'2011-10-21') 
and dateadd(day,1,convert(date,'2011-10-26')) 
and EventCode = 13 ORDER BY eventtime desc)temp where status=1 
```

而不是只限制子查询中的一行，而是获取完整的结果，检查状态并单独限制第一行。

# wpf - 如何在 ResourceDictionary 的源中设置相对路径/Uri

> ID：12066125
> 
> 赞同：26
> 
> 时间：2012-08-22T03:58:24.557
> 
> 标签：wpf, xaml, resourcedictionary, prism-4

我正在尝试引用 MergedDictionaries.SharedStyles 项目，该项目具有必须在整个应用程序中使用的所有样式。所以在这里我在不同的文件夹下有不同的样式作为资源字典。所以最后我将它们合并到 AllSharedStyles.xaml 并在 Styles 项目级别进行。

现在我在解决方案级别 <> 有另一个 ResourceDictionary，它指的是 AllSharedStyles.xaml 资源字典 <<>>。此 ResourceDictionary 作为链接添加到我的解决方案中的所有模块。

这里的问题是在我的 SharedResourceDictionary 中，我正在关注 MergedDictionaries

```
<ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="/MergedDictionaries.SharedStyles;component/AllSharedStyles.xaml" />
    <ResourceDictionary Source="/View/LocalResource.xaml" /> 
</ResourceDictionary.MergedDictionaries> 
```

![项目架构](../Images/a301bce9b9a0c937760135517882ac21.png)

我首先参考了公共资源，然后是我的本地资源，以便覆盖（仅在需要时）任何特定于模块的样式。

现在，当我运行应用程序时，它会抱怨

```
'Set property 'System.Windows.ResourceDictionary.Source' threw an exception.' Line number '5' and line position '10'. 
```

那是错误信息。

据我了解，它正在寻找适当的参考。我还尝试使用 Pack URL ref: [Pack URLss](http://msdn.microsoft.com/en-us/library/aa970069.aspx)。这是包地址：

```
 <ResourceDictionary Source="pack://application:,,,/MergedResourceDictionaries.Styles;component/component/AllSharedStyles.xaml" /> 
```

那么关于如何在这里有相对路径的任何建议？？？？

对不起我的问题描述/投影

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-31T05:45:15.700

终于找到了解决方案：

```
<ResourceDictionary Source="../SharedResourceDictionary.xaml" /> 
```

将其更改为相对路径并给定根路径。

# ruby-on-rails-3 - $ rails server... main:Object 的未定义方法“gem”（NoMethodError）

> ID：12066129
> 
> 赞同：0
> 
> 时间：2012-08-22T03:58:41.423
> 
> 标签：ruby-on-rails-3

我是 Rails 的新手，试图完成本教程，但我什至无法开始。 [http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec-rails_server](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec-rails_server)

我在步骤 1.2.5

我应该使用以下方式启动服务器：$ rails server

每当我尝试运行任何 rails 命令时都会收到此错误。

```
localhost:first_app home$ rails server
/usr/bin/rails:22: undefined method `gem' for main:Object (NoMethodError) 
```

运行 rails 命令过去可以工作，因为我过去完成了其他书籍中的其他教程。但是，在本教程中的某个步骤中出现了一些问题。

编辑我的 bash_profile 是否可能导致这种情况？

我的 bash_profile 现在看起来像这样：

```
export PATH=/bin:/usr/bin:"$PATH"
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"  # This loads RVM into a shell session. 
```

在遵循步骤**清单 1.1**中的说明后，我在其中添加了这一行：**export PATH=/bin:/usr/bin:"$PATH" 。****创建 gem 配置文件。**

我不确定这是否有帮助，但如果我输入：

```
$ which rails 
```

我得到：

```
/Users/home/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/rails 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T02:59:35.983

打字

```
$  rvm use 1.9.3@rails3tutorial2ndEd --create --default. 
```

允许我继续。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T22:03:14.150

我在ubuntu下遇到了类似的问题。我通过更改 gnome-terminal 设置来修复它[https://rvm.io/integration/gnome-terminal](https://rvm.io/integration/gnome-terminal)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-23T16:29:17.060

你安装了gem吗？类型：

```
which gem 
```

看看你得到了什么。如果您没有 gem 或版本错误，请按照以下说明操作：[http ://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec-install_rubygems](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec-install_rubygems)

# c# - Fluent NHibernate 复合键查询

> ID：12066131
> 
> 赞同：0
> 
> 时间：2012-08-22T03:59:36.783
> 
> 标签：c#, .net, fluent-nhibernate

我是 Fluent Nhibernate 和 .NET 的新手。因此，如果我的问题不清楚，请告诉我。

我在应用程序中有 3 个表格，如下所示

## 表 A

AID(PK)、CreatedDate(PK)、ZID、AFirstname、ALastname、AAddress、AZipCode

## 表 B

CID(PK)、AID(PK)、日期(PK)、Field1、Field2

## 表 C

CID (PK), Cname

如果我错了，请纠正我。我的模型类如下所示。

```
public class A {
    public A() {}
    public virtual long AID { get; set; }
    public virtual int ZID { get; set; }
    public virtual DateTime CreatedDate { get; set; }
    public virtual string AFirstName { get; set; }
    public virtual string ALastName { get; set; }
    public virtual string AZip { get; set; }
    public virtual string AAddress { get; set; }
} 
```

A 类的 MapperClass

```
public class AMap : ClassMap<A> {
    public AMap() {
        Table("A");
        CompositeId().KeyProperty(x => x.AID, "AID").KeyProperty(x => x.CreatedDate, "CreatedDate");
        Map(x => x.ZID).Column("ZID").Not.Nullable();
        Map(x => x.AFirstName).Column("AFirstname").Not.Nullable();
        Map(x => x.ALastName).Column("ALastname").Not.Nullable();
        //Same as above for Address and ZipCode
      }
} 
```

我的 B 模型类如下所示

```
public class B{
public B() { }
public virtual long AID { get; set; }
public virtual int CID { get; set; }
public virtual DateTime Date { get; set; }
public virtual string Field1 {get; set; }
public virtual string Field2 {get; set; }
} 
```

B 类的映射器类

```
public class BMap : ClassMap<B> {
    public BMap() {
        Table("B");
        CompositeId().KeyProperty(x => x.AID, "AID").KeyProperty(x => x.CID, "CID").KeyProperty(x => x.Date, "Date");
        Map(x => x.Field1).Column("Field1").Not.Nullable();
        //Same for Field2
    }
} 
```

我的表 C 模型类如下所示。

```
public class C{
        public C() { }
        public virtual int C{ get; set; }
        public virtual string Cname{ get; set; }
} 
```

C 类的 MapperClass

```
public class C: ClassMap<C> {
    public C() {
        Table("C");
        Id(x => x.CID).GeneratedBy.Identity().Column("CID");
        Map(x => x.CName).Column("Cname").Length(64);
    }
} 
```

现在许多人可能会争辩说桌子设计不合适。但此时无能为力，这种设计肯定会降低性能，但我想我们必须忍受一段时间。

现在我需要一些帮助来编写所有三个表的映射。我也可以使用 Criteria API 编写一个查询来加入所有 3 个表。

在我的应用程序中，我从另一个函数中获取 ZID。现在根据 ZID，我需要获取 AFirstName、ALastName、Field1、Field2、CName。这怎么可能？

请帮忙。如果问题不清楚，也请告诉我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T14:33:32.893

将 id 替换为对原始属性的引用，以便您可以导航它们

```
public class B
{
    public virtual A A { get; set; }
    public virtual C C { get; set; }
    public virtual string Field1 {get; set; }
    public virtual string Field2 {get; set; }
}

public class BMap : ClassMap<B>
{
    public BMap()
    {
        Table("B");
        CompositeId()
            .KeyReference(x => x.A, "AID", "Date")
            .KeyReference(x => x.C, "CID");

        Map(x => x.Field1, "Field1").Not.Nullable();
        Map(x => x.Field2, "Field2").Not.Nullable();
    }
}

// query for it

var results = session.CreateCritera<B>()
    .JoinAlias("A", "a")
    .JoinAlias("C", "c")
    .SetProjection(Projections.List()
        .Add(Projections.Property("Field1"), "Field1")
        .Add(Projections.Property("Field2"), "Field2")
        .Add(Projections.Property("a.CreatedDate"), "Date")
        .Add(Projections.Property("c.Name"), "CName"))
    .SetResulttransformer(Transformers.AliasToBean<YourDto>())
    .List<YourDto>(); 
```

# php - 如何防止用户以 html 形式输入禁止的用户名？

> ID：12066140
> 
> 赞同：-1
> 
> 时间：2012-08-22T04:00:37.597
> 
> 标签：php, javascript, jquery, html

所以我有一个带有注册表单的社交网络。有什么方法可以**阻止**用户输入我服务器上的文件夹或文件的用户名？

例如 www.example.com/username **我不希望用户选择我服务器上的文件或文件夹的用户名**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:04:43.463

只需使用`file_exists`（并确保它指向的目录是正确的）。例如：

```
if(file_exists($escaped_username)) {
    echo "Can't use that username.";
} 
```

虽然如果您发现自己需要进行此检查，也许您需要重新考虑一下设计。

# android - Android - 从一个重复的 div 类中抓取 HTML

> ID：12066142
> 
> 赞同：0
> 
> 时间：2012-08-22T04:01:13.140
> 
> 标签：android, html, web-scraping

大家下午好，首先我希望这是问这个问题的正确地方。我担心这个问题可能会被关闭，因为它在错误的地方，但我认为它适合这里，所以这里......

我想从网页中抓取信息并将其显示在 Android 上的小部件中。我想从一个名为“blogbody”的类中抓取信息，但这个类在网页中出现了多次。我需要的信息在“blogbody”的第三个实例中，我怎样才能正确地抓取这些信息？

以下是来自网站 (www.crossfit.com) 的示例。

```
<td width="440" rowspan="2" align="left" valign="top" bgcolor="#FFFFCC" border="0" cellspacing="2" cellpadding="0">
<table width="440" border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td align="left" valign="top">      
    <div class="date">  August 17, 2012 </div>      
    <div class="blogbody">      
    <a name="8553"></a>
    <h3 class="title">Friday 120817</h3>
    <p>Snatch balance 1-1-1-1-1-1-1</p>
    <p>Post loads to comments.</p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:07:29.490

您可以为此使用一个好的 HTML 解析器，我推荐[JSoup](http://jsoup.org/)，如果您将来的需求发生变化，它非常快速且非常灵活，使用起来也非常简单。您将能够在堆栈溢出本身中找到许多有用的问题。

我希望它有所帮助。

# python - 巨蟒！！不工作

> ID：12066143
> 
> 赞同：2
> 
> 时间：2012-08-22T04:01:18.083
> 
> 标签：python, macos, ipython

所以我开始在我的 Mac 上使用 IPython。这 ！！应该执行 shell 命令并将输出作为有用数据的运算符正在生成语法错误。它似乎只是将其解释为（！（！ls）），并吐出！ls：找不到命令。我不能谷歌感叹号，我不知道还能去哪里

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T04:30:26.930

我认为您可能只需要一个感叹号[[docs]](http://ipython.org/ipython-doc/stable/interactive/reference.html#manual-capture-of-command-output)，至少如果您想对输出做任何事情。例如：

```
localhost-2:tmp $ ipython
Python 2.7.2 (v2.7.2:8527427914a2, Jun 11 2011, 15:22:34) 
Type "copyright", "credits" or "license" for more information.

IPython 0.12 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: !ls
a.txt

In [2]: z = !ls

In [3]: z
Out[3]: ['a.txt']

In [4]: !!ls
Out[4]: ['a.txt'] 
```

但是（这是我假设你看到的）

```
In [10]: z = !!ls

In [11]: z
Out[11]: ['/bin/sh: !ls: command not found'] 
```

您可以键入`%sx?`以获取有关`!!ls`实际操作的更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:15:39.883

`!!`快捷方式是`%sx ls`魔术命令的别名。这是[最近](https://github.com/ipython/ipython/commit/9e599d125d78fc6f199c0add93c1a09c09bdc2bc)引入的，因此您的版本可能没有该功能。

# c++ - 释放成员变量内存的成员函数

> ID：12066156
> 
> 赞同：0
> 
> 时间：2012-08-22T04:03:50.640
> 
> 标签：c++, object, memory-management

最近我注意到我的一些对象变得非常大，一段时间后我可能不再需要它们了。我可以等到本地作用域结束时析构函数释放内存或使用代码块使用自定义作用域。

但是，我有这样的想法，为每个对象实现一个`void MyObject::clear()`清除内存的方法：

```
class MyObject{
    bool is_cleared;
    // Other stuff

public:
    MyObject();
    ~MyObject();

    void clear();
    // Other stuff
};
MyObject::MyObject()
    : is_cleared(false)
    {
        // construct the class
    }
void MyObject::clear(){
    if (!is_cleared){
        // clear memory
        is_cleared = true;
    }

}

MyObject::~MyObject(){
    this->clear();
} 
```

这样我既可以让析构函数清除内存，也可以自己做。这被认为是好的还是坏的做法？我该如何改进它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:17:31.500

这种技术并没有什么特别糟糕的地方（例如，它被 STL 容器使用）。但是您还需要实现一个复制构造函数和一个赋值运算符（或使您的对象不可复制且不可分配）。这是因为你已经实现了一个析构函数，所以你必须遵循[三的规则](https://stackoverflow.com/a/4172724/315052)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:17:39.447

这是不好的做法。您应该以这样一种方式设计对象的所有权，即当您“[不再] 不再需要它们”时它们就会被破坏。

这可以像在堆上分配对象并在完成后将其删除一样简单。然后它将清理它分配的任何动态内存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:20:57.133

我会将此标记为不好的做法。

首先，如果你不需要的东西很大，你应该尽快释放它。如果数据在对象死亡之前不应该存在，则不应使用成员将大数据存储在对象中。这条规则应该很少有例外。如果您的许多对象都需要它，那么您正在设计具有太多职责的对象。

那么，你之前测量过*需要*清理内存吗？如果不是，这可能是不必要的优化。等到他们超出范围，何必呢？

# python - popen 发送命令到

> ID：12066161
> 
> 赞同：0
> 
> 时间：2012-08-22T04:04:36.287
> 
> 标签：python, linux, operating-system, popen

我正在尝试从程序 X 打开程序 Y，并继续使用程序 X，但是，似乎一旦使用命令行调用 Y，它就会开始跳过代码中接下来的任何内容，同时仍响应击键.

所以问题是，如何让 X 完成代码。

我用：

```
 proc=subprocess.Popen([cmd], shell=True)
 proc.communicate() 
```

也：

```
 os.system([cmd]) 
```

其中 cmd 是带有参数的终端命令。

顺便说一句，我正在运行 Linux。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:13:18.413

两种方式（`Popen`+`communicate()`和`os.system`）都是*同步*的，因此父进程的执行会阻塞，直到子进程完成。

如果你想让两个进程同时运行，你必须想出一种不同的方法来收集子进程的输出。

一些想法：

1.  在父进程的线程内移动代码（请参阅[线程](http://docs.python.org/library/threading.html)）

2.  [以与标准输出管道](http://docs.python.org/library/subprocess.html#subprocess.Popen.communicate)`proc.communicate()`不同的方式剥离并收集子输出。有关更多想法，请参阅[多处理](http://docs.python.org/library/multiprocessing.html)模块。或者，如果你觉得很勇敢，可以看看[ZeroMQ](http://www.zeromq.org/)（可能有点矫枉过正，请注意，我只是认为它是一个很棒的通信库）。

# backbone.js - 带有集合的骨干事件哈希

> ID：12066162
> 
> 赞同：0
> 
> 时间：2012-08-22T04:04:42.687
> 
> 标签：backbone.js, backbone-events, backbone-views

我试图利用 Backbone 的视图事件哈希将更改事件绑定到当前视图的集合：

```
events: {
    'this.collection change': 'render'
} 
```

与我目前的方法相反：

```
initialize: function() {
    this.collection.on('change', this.render, this);
} 
```

但这似乎并没有引发事件。他们对使用事件哈希将事件绑定到集合的限制吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:08:17.500

```
events: {
    // hash
} 
```

用于将您的 DOM 事件连接到您的视图函数。

```
this.collection.on('change', this.render, this);  // Except change is for models 
```

在初始化函数中是这样做的方法，除了`change`事件是针对模型而不是集合的，除非您为正确触发的集合指定了自定义更改事件。

您可能正在寻找的是将一个`add` `remove`或`reset`事件绑定到您的集合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-18T22:09:52.513

如果您使用的是 Marionette 视图，则可以`collectionEvents`按照您提到的方式使用。请参阅[http://marionettejs.com/docs/marionette.view.html#viewmodelevents-and-viewcollectionevents](http://marionettejs.com/docs/marionette.view.html#viewmodelevents-and-viewcollectionevents)。

```
collectionEvents: {
    'change': 'render'
} 
```

如果您使用的是普通的 Backbone，则 orangewarp 建议使用监听集合的`change`事件`this.collection.on`是要走的路。

# iphone - 根据日期更改标签栏图标

> ID：12066164
> 
> 赞同：1
> 
> 时间：2012-08-22T04:04:44.820
> 
> 标签：iphone, ios, uitabbarcontroller, uitabbar, tabbar

下面是应用程序运行时标签栏图标的屏幕截图。 ![选项卡栏按钮图像](../Images/8f38222aeb23a22428d79826b36aa417.png)

图标上写着 27，它代表一天，是一个图像。

有没有办法可以根据当天动态更改日期？

iPhone SDK是否有办法根据当前日期动态更改标签栏栏按钮图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:19:22.617

您必须自己更改它，但很容易获得今天的日期。

然后从那个日期开始获取月份的日期非常简单，您可以这样做：

```
- (UIImage*)todaysImage{
    //Get todays date
    NSDate *today = [NSDate date];

    //Get the number using NSDateComponents
    NSDateComponents *components = [[NSCalendar currentCalendar] components:NSDayCalendarUnit fromDate:today];
    NSInteger day = [components day];

    //Load the apropiate image based on the number (this means you have an image for all 31 posible days)
    //This line also asumes your images are named DayImage-1.png, DayImage-2.png, DayImage-3.png, etc...
    UIImage *todaysDateImage = [UIImage imageNamed:[NSString stringWithFormat:@"DayImage-%d.png",day]];

    return todaysDateImage;
} 
```

然后在你的标签栏上设置图像，你只需调用：

`tabItem.image = [self todaysImage];`

您还可以即时生成自己的图像（并缓存它们，这样您就不必每次都生成）。如果你对类似的东西感兴趣，看看这个：

[如何在不损失视网膜显示质量的情况下将 UIView 捕获到 UIImage](https://stackoverflow.com/questions/4334233/how-to-capture-uiview-to-uiimage-without-loss-of-quality-on-retina-display)

它将向您展示如何将 UIView 渲染到 UIImage 对象中使用，而不必将所有 31 张图像预加载到应用程序中。

# ruby - 从哈希值排序的哈希中获取键数组

> ID：12066165
> 
> 赞同：3
> 
> 时间：2012-08-22T04:04:45.180
> 
> 标签：ruby, arrays, sorting, hashmap

我有一个类似这样的哈希

```
{"red" => 3, "blue" => 1, "yellow" => 3, "green" => 1, "black" => 4} 
```

我想按哈希值的顺序排序并显示前三种颜色，即

```
["black", "red", "yellow"] 
```

我试图做类似`sort_by { |x,y| h[x] <=> h[y] }`and的事情`max_by { |x,y| h[x] }`，但我只得到`["black"]`. 您如何获得前三名？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-22T04:15:09.230

作为变体：

```
h = {"green"=>1, "red"=>3, "yellow"=>3, "blue"=>1, "black"=>4}
h.sort_by{ |color, n| -n }.map(&:first).take(3) #=> ["black", "red", "yellow"] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T04:13:18.600

这是一种方法。

```
colors = {"red"=>3, "blue"=>1, "yellow"=>3, "green"=>1, "black"=>4}
colors.sort { |a, b| b[1] <=> a[1] }.map { |a| a[0] }.take(3) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-22T04:08:34.183

这似乎做到了。

```
sortedColours = colours.keys
 .sort {|keyA, keyB| colours[keyB] - colours[keyA] } 
```

[谜语](http://rubyfiddle.com/riddles/5265d)。

如果你想要前 3 个，只需切掉前 3 个。

```
firstThreeColours = sortedColours[0,3] 
```

# php - 如何在 DOM 中的 php 和 javascript 之间共享数据？

> ID：12066167
> 
> 赞同：0
> 
> 时间：2012-08-22T04:04:55.463
> 
> 标签：php, javascript, dom

如果您阅读[了我之前的问题](https://stackoverflow.com/q/12039528/456218)，您可能知道在此作业中不允许在 php 和 javascript DOM 之间共享数据的方式：

```
+-----------+   +------------+  +----------| +----------+  +-----------+    
|javascript +---+Ajax Request+--+handle.php+-+result.xml+->+DOM parser |    
+-----------+   +------------+  +----------+ +----------+  +-----------+ 
```

所以我正在考虑一次将mysql中的所有信息作为一个数组获取，并尝试在没有ajax请求的情况下通过javascript访问这个数组。

我能想出的唯一方法是

```
 +---------+     +-----------------------------+  +--------------------------------------+
   |Php array|     | write in Dom make it hidden |  | Parse the hidden element by DOM API  |
   +---------+     +-----------------------------+  +--------------------------------------+ 
```

但这似乎一点也不优雅，有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:08:19.547

查询数据库，并将结果打印为脚本标签内的 JavaScript。现在所有数据都保存在本地 JavaScript 变量中，您可以随意使用。

```
<script type="text/javascript">

  products = [];

  <?php
  mysql_connect('host', 'username', 'password');
  mysql_select_db('dbname');    

  $sql = "SELECT productName from products WHERE productTYPE = 1";
  $result = mysql_query($sql);
  while ($row = mysql_fetch_array($result)) {

    echo "products.push('" . addslashes($row['productName']) . "'); \n";

  }

  ?>

  //do something with all the stuff in the products array
  alert("There are " + products.length + " products in the array.");

</script> 
```

# postgresql - PostGIS可以用来创建一个国家的网格地图吗？

> ID：12066168
> 
> 赞同：4
> 
> 时间：2012-08-22T04:05:02.030
> 
> 标签：postgresql, gis, latitude-longitude, postgis

我正在尝试将一个区域的地图划分为 1 公里 x 1 公里平方的网格，并最终计算和检索有多少点（给定它们的纬度和经度值）落入该地图的每个方形网格中。这个操作可以在 PostGIS 中完成，如果可以，我该怎么做？

更新：[Mike Toews](https://stackoverflow.com/users/327026/mike-toews)在这里有一个详细的答案：

[https://gis.stackexchange.com/questions/16374/how-to-create-a-regular-polygon-grid-in-postgis](https://gis.stackexchange.com/questions/16374/how-to-create-a-regular-polygon-grid-in-postgis)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-23T22:18:12.103

正如我的评论中提到的， [制作一个常规网格](https://gis.stackexchange.com/questions/16374/how-to-create-a-regular-polygon-grid-in-postgis)。要为整个国家制作 1 公里的网格，这可能具有挑战性，因为地球不是平坦的，无法划分为完美的 1 公里网格。

要制作 1 公里的网格，您需要一个投影坐标系，长度单位为米。[WGS84 (EPSG:4326)](http://spatialreference.org/ref/epsg/4326/)不能这样做，因为它的单位是纬度/经度。要找到合适的投影系统，您需要找到“等面积”投影，例如[兰伯特方位角等面积投影](http://en.wikipedia.org/wiki/Lambert_azimuthal_equal-area_projection)（LAEA）。例如，整个欧洲都可以使用[ETRS-LAEA (EPSG:3035)](http://spatialreference.org/ref/epsg/3035/)，尽管某些部分可能存在一些失真。或者如果在新西兰，[新西兰横轴墨卡托 2000](http://spatialreference.org/ref/epsg/2193/)。每个区域通常都有一个很好的投影可以使用。

要运行 PostGIS 查询，您需要使用`ST_Transform(geom, 3035)`（例如，对于 ETRS-LAEA）将几何图形投影到网格上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-11-03T17:11:22.863

我编写了一个 PostGIS 函数来在另一层之上生成十六进制网格。

```
DO $$
DECLARE
  _curs   CURSOR FOR SELECT geom3857 FROM nrw;
  _table  TEXT    := 'nrw_hx_10k';
  _srid   INTEGER := 3857;
  _height NUMERIC := 10000;
  _width  NUMERIC := _height * 0.866;
  _geom   GEOMETRY;
  _hx     TEXT    := 'POLYGON((' || 0 || ' ' || 0 || ',' || (_width * 0.5) || ' ' || (_height * 0.25) || ',' ||
                 (_width * 0.5) || ' '
                 || (_height * 0.75) || ',' || 0 || ' ' || _height || ',' || (-1 * (_width * 0.5)) || ' ' ||
                 (_height * 0.75) || ',' ||
                 (-1 * (_width * 0.5)) || ' ' || (_height * 0.25) || ',' || 0 || ' ' || 0 || '))';
  _hx_g   GEOMETRY := ST_SetSRID(_hx::GEOMETRY, _srid);

BEGIN
  CREATE TEMP TABLE hx_tmp (geom GEOMETRY(POLYGON));

  OPEN _curs;
  LOOP
    FETCH
    _curs INTO _geom;
    EXIT WHEN NOT FOUND;

    INSERT INTO hx_tmp
      SELECT
        ST_Translate(_hx_g, x_series, y_series)::GEOMETRY(POLYGON) geom
      FROM
        generate_series(
          (st_xmin(_geom) / _width)::INTEGER * _width - _width,
          (st_xmax(_geom) / _width)::INTEGER * _width + _width,
          _width) x_series,
        generate_series(
          (st_ymin(_geom) / (_height * 1.5))::INTEGER * (_height * 1.5) - _height,
          (st_ymax(_geom) / (_height * 1.5))::INTEGER * (_height * 1.5) + _height,
          _height * 1.5) y_series
      WHERE
        ST_Intersects(ST_Translate(_hx_g, x_series, y_series)::GEOMETRY(POLYGON), _geom);

    INSERT INTO hx_tmp
      SELECT ST_Translate(_hx_g, x_series, y_series)::GEOMETRY(POLYGON) geom
      FROM
        generate_series(
          (st_xmin(_geom) / _width)::INTEGER * _width - (_width * 1.5),
          (st_xmax(_geom) / _width)::INTEGER * _width + _width,
          _width) x_series,
        generate_series(
          (st_ymin(_geom) / (_height * 1.5))::INTEGER * (_height * 1.5) - (_height * 1.75),
          (st_ymax(_geom) / (_height * 1.5))::INTEGER * (_height * 1.5) + _height,
          _height * 1.5) y_series
      WHERE
        ST_Intersects(ST_Translate(_hx_g, x_series, y_series)::GEOMETRY(POLYGON), _geom);

  END LOOP;
  CLOSE _curs;

  CREATE INDEX sidx_hx_tmp_geom ON hx_tmp USING GIST (geom);
  EXECUTE 'DROP TABLE IF EXISTS '|| _table;
  EXECUTE 'CREATE TABLE '|| _table ||' (geom GEOMETRY(POLYGON, '|| _srid ||'))';
  EXECUTE 'INSERT INTO '|| _table ||' SELECT * FROM hx_tmp GROUP BY geom';
  EXECUTE 'CREATE INDEX sidx_'|| _table ||'_geom ON '|| _table ||' USING GIST (geom)';
  DROP TABLE IF EXISTS hx_tmp;
END $$; 
```

Input parameters must be set for: _curs: The geometry field name and the table name of input geometries. _table: The name of the output table. _srid: The geographic projection code of the input (and output) geometries. _height: The height of a hexgon grid cell in projection units.

I generate a scaled hexagon geometry in the declare block and then loop through the input geometries. In the loop, I generate series for the x and y extent plus some for each input geometry. The hexagon is translated and inserted into a temporary table if the two geometries intersect. A second pair of series is generated alternative offset rows. Finally I group the hexagon grid cells by their geometries to remove duplicates.

[There is a more detailed description and some background on medium.](https://medium.com/@goldrydigital/hex-grid-algorithm-for-postgis-4ac45f61d093)

[![enter image description here](../Images/ad0e24e73cacc011b960c623aa81838a.png)](https://i.stack.imgur.com/pFA1k.png)

# c# - 我应该如何处理这些类型的交易？

> ID：12066170
> 
> 赞同：1
> 
> 时间：2012-08-22T04:05:11.597
> 
> 标签：c#, .net, sql, sql-server-2008, transactions

我将用户上传的文件保存在磁盘上，只是将文件名存储在数据库中。我想编写一个代码，如果插入记录并且文件保存在磁盘上，那么只有它应该提交。如果在数据库中创建了记录，但由于权限问题等原因无法保存文件，我希望回滚整个事务。显然这不能使用`SqlTransaction`

我应该如何确保这种类型的 datda 完整性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:32:36.417

Windows Vista 及更高版本支持事务 NTFS，它允许您根据需要在事务中登记文件系统操作。不幸的是，.NET Framework 不直接支持此功能，因此您必须通过 P/Invoke 直接调用非托管 API 或使用第三方托管包装库，如 Transactional NTFS (TxF) .NET：

[http://txfnet.codeplex.com/](http://txfnet.codeplex.com/)

我自己没有使用过这个，但是在做了一些搜索之后，这个看起来是最有用的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:48:49.700

对于需要一些管理的非事务性任务（或者，在您的情况下，一些难以包含在事务中的任务），我通常会执行以下操作之一：

1) 最后执行非事务性任务。如果失败，则无需担心，因为事务已回滚，例如： - 未发送电子邮件 - 未保存文件

2）使用一些执行“两阶段提交”类型的进程/传奇。可能是表中事务之外的条目，表明您的文件保存任务必须经过验证。然后在您的交易中尝试您的“实际”位（保存记录，保存文件）。然后另一个计划/临时服务可以检查任务是否完成，如果没有完成则清理。

3）按照（2）的思路：首先将数据存储在临时状态（或多或少的预写日志的工作方式）。如果状态正常，您就知道数据就在那里，您可以继续并将您的记录标记为已完成或将其移至其永久位置。另一个计划/临时任务可以清理任何已过期的临时数据。

# c++ - cygwin C++ 静态/便携式库以避免发布源代码？

> ID：12066178
> 
> 赞同：1
> 
> 时间：2012-08-22T04:07:30.657
> 
> 标签：c++, g++, cygwin, portability

我有一些代码可以使用 cygwin 在 Windows 机器上编译和运行。代码本机是 Linux，并在 cygwin 中使用 g++ 编译。

在该代码中，有几个库我想在不发布源代码的情况下重新分发。是否可以创建可移植的目标文件，这些文件可以移动到另一台安装了 cygwin 的 Windows 机器上并能够成功链接到它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:11:34.777

[MinGW 项目](http://mingw.org/)是Windows 的 GCC 套件（和其他工具）的一个端口。

如果您需要 Windows 下的编译器和/或 gcc，只需使用不带 Cygwin 的 MinGW 包。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T20:28:17.163

如果您的代码链接到 Cygwin DLL（如果您在 Cygwin 中使用 g++ 构建它会这样做），那么您的代码会受到 GPL 的影响。如果您分发二进制文件，那么**无论您是否自己分发 Cygwin 的任何部分，**您都必须分发源代码。

当您构建链接到 GPL 代码的代码时，该链接代码也被强制在 GPL 下。不管你喜不喜欢，这就是 GPL 背后的重点。

您有两个选项可以分发您的二进制文件，而不必根据 GPL 提供源代码：

*   通过重写您的代码以不再需要 Cygwin 提供的 Linux 风格的 API，从而消除对 Cygwin 的依赖。

*   [从 Red Hat 购买 Cygwin 许可证](http://www.redhat.com/services/custom/cygwin/)。这将赋予您链接 Cygwin DLL 并分发所有二进制文件的权利，而无需根据 GPL 发布您的源代码。

**编辑**：我还请您参考[我对 Cygwin GPL 许可证相关问题的回答](https://stackoverflow.com/a/11292801/220155)。

# python - Python 中的全局变量和单例变量

> ID：12066180
> 
> 赞同：6
> 
> 时间：2012-08-22T04:07:38.583
> 
> 标签：python

我有一些在我的 Python 应用程序中广泛使用的类，它们应该只有一个全局实例（例如 Logger、DbConnection）。Python 不支持类中的静态变量/方法，因此在这里创建单例的常用 Java/C++ 方法不起作用。我一直在寻找在 Python 中实现单例的替代方案。我想要一个简单的（如果可能的话不要元编程）和干净的实现。这看起来不错：

```
class MyClass(object):
    def a():
        pass

singleton = MyClass() 
```

使用单例很简单

```
import myClass
myClass.singleton.a() 
```

如果对象初始化不是那么简单，直接赋值可以用创建函数代替。

我还可以在模块范围内创建一个 getInstance() 并始终使用它来获取 myObj。

问题1）这行得通吗？模块代码（myObj 分配）仅在第一次导入其他模块时运行，并且每次我在某处导入此模块时都不会创建 myObj？

我见过的另一种方法是使用 globals 模块。就像是：

```
from myClass1 import MyClass1
from myClass2 import MyClass2

myObj1 = MyClass1()
myObj2 = MyClass2() 
```

使用这个：

```
import globals
globals.myObj1.a() 
```

我倾向于更喜欢第一种选择。

问题 2）在 2 个解决方案之间，您有什么建议？

问题 3）第三种解决方案是将广泛的对象（例如 Logger）传递给多个类/函数，但这不是一个好的解决方案恕我直言。这里没有提到更好的解决方案吗？

我知道使用全局变量和单例的缺点。但是，在我的应用程序中，拥有一个全局状态并不是一个大问题。我更喜欢代码清晰且易于使用的解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T04:27:13.563

如果您想拥有一个`logger`只有一个实例的类，只需将其设为单独的模块即可。

```
# In logging.py
def log(msg):
  print msg 
```

然后从您要登录的任何脚本。

```
from logging import log
log("A critical error occured.") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:34:40.250

考虑创建以下内容：

1.  一个州级
2.  代理类

state 类将创建一个线程，该线程将在**init** .py 模块中初始化。状态类将具有将类实例传递到线程并为其保存弱引用的方法。

稍后，可以使用代理类来访问线程中的类实例。如果未创建类对象，则代理将创建所需类的实例并将其保存到线程。

使用此模式，您可以将每个类的实例数限制为 1，并确保每当您的应用程序的一部分运行时，任何需要全局重复使用的实例都不必重新创建。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-22T04:17:16.953

如何制作单身人士的正确答案？不。您应该明确传递对需要使用它的所有内容的引用。您可以使用工厂函数、包装类等来减少工作量。

即使有一些东西，比如屏幕或记录器本质上是全局的，你仍然应该明确地传递它以允许单元测试。请注意，这仅适用于旨在成为最终设计一部分的事物。如果您的记录器只是用于调试的快速破解，请随意将其设为全局。

# git - 使用通配符的“git add”没有像我希望的那样运行 - 我必须 cd 进入特定目录吗？

> ID：12066184
> 
> 赞同：65
> 
> 时间：2012-08-22T04:07:55.193
> 
> 标签：git, bash, wildcard

当我尝试做一个基本的`git add *.erb`（或任何简单的通配符表达式）时，git 无法识别它（它们）。作为旁注，我以前从未这样做过，所以我确信这是一个新手错误，但我在其他 SO 帖子或我学校的校友列表中没有找到任何帮助，所以我认为这篇文章可能是合适的。

对于（一个不同的）示例，**git status**给了我：

```
#   modified:   config/routes.rb
#   modified:   spec/models/question_spec.rb 
```

我只想暂存路由文件，所以我尝试了**git add *s.rb**并且没有骰子。我在应用程序的根目录中...我是否需要在包含我试图应用通配符表达式的文件的目录中？那会很痛苦，但是……实际上……它只是奏效了。

希望这不必是一个单独的帖子，但是有没有更简单的方法来使用通配符，您不必 cd 进入特定目录？

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2012-08-22T04:15:52.490

把它放在单引号周围。这应该有效。

`git add '*s.rb'`

**更新**

经过更多的测试，我发现我什至可以`git add *s.rb`不用引号。这可能只适用于我的 git 版本 1.7.10.4（Mac OSX Lion，自制软件）。我的解释是，如果 shell 通配符扩展不匹配任何文件，它会将原始未扩展参数 '*s.rb' 提供给`git add`.

```
sh-3.2$ git status
#
#   modified:   config/routes.rb
#   modified:   spec/models/products_spec.rb
# 
```

现在我`git add`没有引号。

```
sh-3.2$ git add *s.rb 
```

令人惊讶的是它的工作原理！

```
sh-3.2$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#   modified:   config/routes.rb
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#   modified:   spec/models/products_spec.rb
# 
```

如果通配符模式不匹配任何文件，git 会给出这个错误。

```
sh-3.2$ git add *x.rb
fatal: pathspec '*x.rb' did not match any files 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-22T04:25:48.750

由于我的 bash 版本太旧，我无法让递归 glob 为我工作。所以我要做的是

```
find . -name "*.rb" | xargs git add 
```

工作得很好，如果需要，我可以在那里添加其他过滤器 - 所以如果我想添加除一个文件之外的所有文件，我可以这样做。

```
find . -name "*.rb" | grep -v "not_me.rb" | xargs git add 
```

还有其他几个有用的案例。

如果您只想添加存储库中已经存在的文件，您可以

```
git add -u . 
```

如果您想添加所有内容

```
git add . 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-08-16T14:42:27.797

您还可以尝试使用 git 的魔法签名来通过 glob 匹配路径，例如

```
git add ':(glob)**/*.ext' 
```

在这里查看更多[https://css-tricks.com/git-pathspecs-and-how-to-use-them/](https://css-tricks.com/git-pathspecs-and-how-to-use-them/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:13:49.390

根据我的经验（我可能缺少一个选项或其他东西）， git add 只查看当前目录和子目录中的文件。因此，如果要添加所有内容，请转到 repo 的根目录。虽然如果 repo 真的很大，这可能需要一段时间，特别是如果你不通过 -u 标志。

# eclipse - 创建 eclipse 3.7.2 和 JPA 2.0 中缺少的 JPA 管理器 bean

> ID：12066193
> 
> 赞同：0
> 
> 时间：2012-08-22T04:08:39.450
> 
> 标签：eclipse

我已经安装了 eclipse 3.7.2 和 Dali JPA 工具。我没有在 JPA 工具菜单中看到创建 JPA bean 管理器的选项。我需要安装额外的插件吗？我期待看到......

[http://publib.boulder.ibm.com/infocenter/radhelp/v7r5/index.jsp?topic=%2Fcom.ibm.etools.webtoolscore.doc%2Ftopics%2Ftjpacrtmgrbeans.html](http://publib.boulder.ibm.com/infocenter/radhelp/v7r5/index.jsp?topic=%2Fcom.ibm.etools.webtoolscore.doc%2Ftopics%2Ftjpacrtmgrbeans.html)

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:19:27.997

这似乎是一个仅在 IBM Rational Application Developer（它是一个商业产品）中可用的选项。

# javascript - 为什么 swank-js 在 emacs REPL 中给我“文档未定义”？

> ID：12066196
> 
> 赞同：7
> 
> 时间：2012-08-22T04:09:15.273
> 
> 标签：javascript, slime, swank

我遵循以下步骤：

1.  在命令行中运行 swank-js。
2.  运行 emacs。
3.  Mx 粘液连接。
4.  主机：127.0.0.1；端口：4005
5.  `http://localhost:8009/swank-js/test.html`在 Firefox 中打开。
6.  在 emacs REPL 中接收：“远程连接：（浏览器）Firefox14.0”。
7.  在 REPL 中运行命令“document”。

此时，我收到错误：

```
ReferenceError: document is not defined
    at repl:1:1
    at DefaultRemote.evaluate (/usr/lib/nodejs/swank-js/swank-handler.js:314:9)
    at Executive.listenerEval (/usr/lib/nodejs/swank-js/swank-handler.js:414:21)
    at Handler.receive (/usr/lib/nodejs/swank-js/swank-handler.js:169:20)
    at SwankParser.onMessage (/usr/lib/nodejs/swank-js/swank.js:50:17)
    at SwankParser.handleMessage (/usr/lib/nodejs/swank-js/swank-protocol.js:75:8)
    at SwankParser.handleContent (/usr/lib/nodejs/swank-js/swank-protocol.js:62:10)
    at SwankParser.execute (/usr/lib/nodejs/swank-js/swank-protocol.js:53:20)
    at Socket.<anonymous> (/usr/lib/nodejs/swank-js/swank.js:60:16)
    at Socket.emit (events.js:67:17) 
```

我应该使用 require() 还是什么？我仍然有点模糊 swank/slime/node 的通信方式，所以请原谅这个问题的黑匣子性质。:D

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-28T04:52:26.737

从[https://github.com/swank-js/swank-js/issues/49#issuecomment-8079040](https://github.com/swank-js/swank-js/issues/49#issuecomment-8079040)的错误报告来看，我猜你没有加载 slime-js 组件。

# c# - 将文件上传到共享点时访问被拒绝错误

> ID：12066199
> 
> 赞同：0
> 
> 时间：2012-08-22T04:09:56.867
> 
> 标签：c#, sharepoint, authentication, file-upload

我想使用 C# 程序将文件上传到共享点文档库。我使用了网络服务 Copy 的 API CopyIntoItems 来进行文件上传。为此提供的凭据是默认凭据。当使用 winform 应用程序进行测试时，用户对文档库具有写入权限，这会成功并且文档会上传到文档库。

但是当从其他应用程序远程调用相同的函数时，它会给出拒绝访问错误。

这可能是什么解决方案？

请查看代码片段。

```
 Copy copyService = new Copy();
    copyService.Url = mySiteUrl + "/_vti_bin/copy.asmx";
            copyService.PreAuthenticate = true;
            copyService.Credentials = CredentialCache.DefaultCredentials;
            copyService.UseDefaultCredentials = true;

         ........................................
         ...................................
            copyService.CopyIntoItems(destination, destinationUrl, filedInfo, bteFileContents, out cResultArray); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T09:11:26.780

您的 Web 应用程序的身份验证配置是什么（不是 Sharepoint，而是调用 SharePoint 服务的那个）？

如果不是启用了委派的 kerberos，您可能会面临“[双跳](http://blogs.technet.com/b/askds/archive/2008/06/13/understanding-kerberos-double-hop.aspx)”问题。

# objective-c - 通过滑动 UIView 滑出导航以覆盖另一个 UIView

> ID：12066200
> 
> 赞同：2
> 
> 时间：2012-08-22T04:10:13.250
> 
> 标签：objective-c, ios, uiview, uiviewanimation

在我对这种导航技术的研究中，我发现[了 Nick Harris 的这篇文章，](http://nickharris.wordpress.com/2012/02/05/ios-slide-out-navigation-code/)我想这是一个好的开始。但是，我想要的与此略有不同。`Notification Center`当您只需要从顶部滑动以显示并向`view`后滑动以再次隐藏它时，您可以将其视为 iOS 。就我而言，我希望通过`UIView`向左滑动手势来显示来自屏幕右侧的隐藏，并通过相同的手势再次隐藏它（这次是向右）。

我已经设法在我之前[的帖子](https://stackoverflow.com/questions/12000995/sliding-a-uiview-to-partially-overlay-another-uiview)中找到了一个关于显示/隐藏 UIView 的解决方案。我想添加的一件事是滑动手势。

我不想像 Nick Harris 所做的那样调整我的应用程序委托来执行此操作。因此，如果有人对我如何做到这一点有任何想法/代码示例，我将不胜感激。

一些启发 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:43:47.187

您可以通过向左滑动手势显示来自屏幕右侧的隐藏 UIView，也可以通过相同的手势再次隐藏它（这次是向右）。添加过渡。

在 .h 文件中添加 BOOL didNotSwipe 在 .m 文件 viewDidLoad 方法中添加其值 didNotSwipe = TRUE

将具有不同选择器的左右方向的滑动手势添加到您的 self.view。

```
 UISwipeGestureRecognizer *recognizer;
recognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(swipeRight:)];
[recognizer setDirection:UISwipeGestureRecognizerDirectionRight];
[[self view] addGestureRecognizer:recognizer];
[recognizer release]; 

UISwipeGestureRecognizer *recognizer1;
recognizer1 = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(swipeleft:)];
[recognizer1 setDirection:UISwipeGestureRecognizerDirectionLeft];
[[self view] addGestureRecognizer:recognizer1];
[recognizer1 release]; 
```

向左滑动时调用此方法：

```
 -(void)swipeleft:(UISwipeGestureRecognizer *)swipeGesture 
 {
   if (didNotSwipe) {
     didNotSwipe = FALSE;
     CATransition *animation = [CATransition animation];
     [animation setDelegate:self];
     [animation setType:kCATransitionPush];
     [animation setSubtype:kCATransitionFromRight];
     [animation setDuration:0.50];
     [animation setTimingFunction:
     [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut]];
     [self.view.layer addAnimation:animation forKey:kCATransition];
     [self.view addSubView:self.overlayView];
     //[self.overlayView setFrame:CGRectMake(0,0,self.overlayView.frame.size.width,self.overlayView.frame.size.height)];
   }
 } 
```

向右滑动此方法时：

```
 -(void)swipeRight:(UISwipeGestureRecognizer *)swipeGesture
 {
   if(!didNotSwipe){
     didNotSwipe = TRUE;
     CATransition *animation = [CATransition animation];
     [animation setDelegate:self];
     [animation setType:kCATransitionPush];
     [animation setSubtype:kCATransitionFromLeft];
     [animation setDuration:0.40];
     [animation setTimingFunction:
     [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut]];
     [self.view.layer addAnimation:animation forKey:kCATransition];
     [self.overlayView removeFromSuperView];
   }
 } 
```

# rubygems - 指南针的 gem 脚本文件放在哪里（css_splitter）

> ID：12066206
> 
> 赞同：0
> 
> 时间：2012-08-22T04:11:24.133
> 
> 标签：rubygems

第一次使用 gem/ruby 文件。这里需要一点帮助。

基本上我们有使用 SASS + COMPASS 的 asp.net 应用程序。

为了解决 css 文件大小的限制，我们想使用 css_splitter 脚本（css_splitter.rake 和 css_splitter.rb）：[https ://gist.github.com/1131536](https://gist.github.com/1131536)

基本上，在 compass 编译后，拆分器应该启动并将生成的 css 文件拆分为 2 个或更多。

我厌倦了什么：

1.  sass 配置文件位于：D:\myapp\mainsite\sass\config.rb
2.  我将 css_splitter.rake 和 css_splitter.rb 放到上面的文件夹中。
3.  修改 config.rb 以引用“css_splitter.rb”，如下所示：

> ```
> require 'susy'
> require 'css_splitter'
> 
> http_path = "/"
> css_dir = "../stylesheets"
> sass_dir = ""
> images_dir = "../img"
> javascripts_dir = "../Scripts"
> sass_options = {:full_exception => true }
> output_style = :compressed
> line_comments = false
> 
> on_stylesheet_saved do |path|
>   CssSplitter.split(path) unless path[/\d+$/]
> end 
> ```

1.  当我编译项目时，我得到的错误是：LoadError on line 36 of D: no such file to load -- css_splitter

2.  我还注意到有一个 D:\myapp\sass\ruby\lib\ruby\site_ruby\1.8 文件夹，我也将 css_splitter.rake 和 css_splitter.rb 放入该文件夹，但同样的错误很好。

有人有什么想法吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T21:20:06.917

不要为耙子烦恼。最简单的方法是将整个 Module CssSplitter 复制并粘贴到您的 config.rb 文件中，然后将 Module 更改为 class。

然后在底部，添加 on_stylesheet_saved 方法覆盖。像这样的东西： [https ://gist.github.com/3559165](https://gist.github.com/3559165)

这可能不是理想的配置，但它可以工作。它应该在您的样式表目录中为您提供 Screen、Screen_2、Screen_3 ...等。如果你有任何进展，请告诉我！

# php - PHP Curl帖子不起作用，帖子中没有任何内容

> ID：12066209
> 
> 赞同：1
> 
> 时间：2012-08-22T04:11:38.380
> 
> 标签：php, curl

我在同一台服务器上有两个站点：

api.mysite.com 约翰.mysite.com

在我的 API 站点上，我有一个接受 POSTed json 数组的服务。在我的 john.mysite.com 站点中，我正在调用该服务并使用以下命令发布它：

```
 $info['id'] ="oo_".uniqid();
 $info['version'] ="5";

 $url = "http://api.mysite.com/services/addclient";
 $posted_fields = json_encode($info);

   $ch = curl_init($url);
    curl_setopt($ch, CURLOPT_POST, TRUE);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $postfields);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
   $result = curl_exec($ch);
   echo $result; 
```

调用此方法时，我没有将任何内容发布到 Web 服务。我已经进入该代码并丢弃了 $_POST 并且它是空的。为什么 curl 不通过 POST 发送数据？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T04:18:44.207

一个问题是您正在`json_encode`输入数据而不是对其进行形式编码。

另一个是`$info`可能没有初始化。

另一个是你`$postfields`在第 9 行打错字了。

尝试：

```
$info['id'] ="oo_".uniqid();
$info['version'] ="5";

$url = "http://api.mysite.com/services/addclient";

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_POST, TRUE);
curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($info));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
$result = curl_exec($ch);
echo $result; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:17:45.510

第 9 行的错别字

```
$postfields 
```

应该

```
$posted_fields 
```

# iphone - 更改 Leftbarbuttonitem 标题

> ID：12066214
> 
> 赞同：0
> 
> 时间：2012-08-22T04:12:38.077
> 
> 标签：iphone, objective-c, cocoa-touch, uiviewcontroller, uinavigationcontroller

我正在使用两个视图控制器。我知道当我们移动到第二个视图控制器时，第二个视图控制器中的后退按钮标题将显示第一个视图控制器标题。现在我的第一个视图控制器标题是**注册**，但是当我移动到第二个视图控制器时，后面应该显示为“**主页**”。我尝试使用以下代码，但它没有改变。

```
self.navigationController.navigationBar.backItem.title = @"Home"; 
```

即使在 SecondViewController 中，我也像这样创建了自己的自定义 BarbuttonItem

```
UIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithTitle:@"Home" style:UIBarButtonItemStyleBordered target:nil action:nil];
self.navigationItem.backBarButtonItem = backButton; 
```

但是按钮看起来像一个矩形。

谁能告诉我如何更改左键项目标题。??

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:17:47.997

您需要隐藏 BackButton 然后创建自己的左侧 UIBarButtonItem

```
self.navigationItem.hidesBackButton=YES;

UIBarButtonItem *btn=[[UIBarButtonItem alloc]initWithTitle:@"YourCustomTitle" style:UIBarButtonItemStyleBordered target:self action:@selector(yourAction:)];
self.navigationItem.leftBarButtonItem=btn; 
```

如果要在左侧显示更多 UIBarButton，则需要创建具有容量的 NSMutableArray *arrBarBtn 然后向其添加 uibarbutton 对象。

在那个箱子之后 UIToolBar 然后 [myToolBar setItems:arrBarBtn];

最终使用 customView:myToolBar 创建自定义 UIBarButton。将其分配给 self.navigationItem.leftBarButtonItem。如果您需要代码，那么我会提供。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:48:49.200

在推送新的 ViewController 之前：

```
UIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithTitle:@"Back" style:UIBarButtonItemStyleBordered target:nil action:nil];
[[self navigationItem] setBackBarButtonItem:backButton];
[backButton release];

[self.navigationController pushViewController:newVC animated:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-27T06:06:53.467

你也可以这样做......在FirstViewController中写这个

```
- (void)viewWillAppear:(BOOL)animated
{
    [self.navigationItem setTitle:@"FirstViewController"];
    [super viewWillAppear:animated];
}

- (void)viewWillDisappear:(BOOL)animated
{
    [self.navigationItem setTitle:@"Registration"];
    [super viewWillDisappear:animated];
} 
```

试试这个

# c - OpenCV中两点之间的距离

> ID：12066216
> 
> 赞同：2
> 
> 时间：2012-08-22T04:13:16.830
> 
> 标签：c, image-processing, opencv, perspectivecamera

我想测量两点之间的实际距离，比如路上有辆车在我前面，我和车辆之间的距离是多少？

我是这样进行的：

1）找到透视变换以获得顶视图。

2）然后试图找到距离。

问题是我无法获得正确的顶视图。

如果有任何替代方式，请告诉。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T07:27:04.243

要测量两个 3D 点之间的距离，您需要找到两个点的 3D 坐标。然后很容易计算欧几里得距离：

```
d(p1,p2)= sqrt{(p1_x - p2_x)^2+(p1_y - p2_y)^2+(p1_z - p2_z)^2} 
```

这里的问题是在场景中找到对象的 3D 点（因为你知道你在哪里，在相机，参考坐标）。

要找到 3D 位置，您需要找到单应性或相机姿势。为此，您需要在场景中检测至少 4 个点，这些点与您先验知道的已知模型或图像的 4 个点相匹配。例如，如果您有汽车的 3D 模型，并且您能够检测场景中与您的 3D 模型相对应的真实汽车的点，您将能够计算单应变换，从而计算出车辆的 3D 位置。那些点。

无论如何这个问题很复杂，你需要使用很多算法来进行检测、匹配、校准，并且你需要知道你想要检测哪个对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T07:00:04.063

问题比你想象的要难。即使在某些假设下：

1.  整条路平坦（高度没有变化）。
2.  车辆的像素位置是在其车轮接触地面（不是车顶）的点上测量的。如果你测量屋顶，距离可能是无穷大。
3.  您的相机是固定不变的。

如果其中一个假设不成立，那么测量距离将非常困难。但如果他们确实持有，您需要执行以下操作：

1.  将透视转换为顶视图对您没有帮助（因为根据定义透视会扭曲距离）。即使在俯视图中，光线也以透视方式移动。您需要的是“正交”投影。它模拟了相机处于无限高度+无限大变焦时的顶视图。就像您在卫星图像或地图中看到的一样。
2.  你问为什么需要这么奇怪的转变？正交变换和透视变换之间的区别在于，在透视中，对象之间的距离取决于 tan(a)，而在正交变换中则取决于 sin(a)。a - 是距离线（两点之间的线）占据的相机视野角度。当 'a' 是一个比 tan('a') = sin('a') 非常小的角度时，您可以使用保护变换。但是由于您的网络摄像头具有约 50 - 70 度的广角，您将能够通过仅在图像中心进行保护变换来准确计算距离。
3.  此外，您必须在计算距离之前消除相机镜头失真。
4.  所以第一步是校准你的相机和我们 cvUnDistort() 来纠正它的观点。
5.  据我所知，openCV 中没有内置的正交变换。因此，您可以在校正后的图像上使用顶视图投影变换，但只有当两辆车都靠近图像中心时，您的距离才会准确。
6.  您可以使用 unDisrtort() 实现正交变换，但这会花费您一些时间，因为您可能不熟悉相机模型和相机校准数学。在 unDistort() 中，您基本上应该插入与 sin('a') 匹配的泰勒展开级数的系数，即 a,-a^2/2,... 等...

无论如何，正如我之前所说，测量距离是一个非常困难的问题。我建议以下简单但不太准确的解决方案：

1.  校正镜头畸变
2.  应用顶视图投影变换
3.  如果您发现当车辆远离图像中心时距离测量会产生错误，请尝试添加手动校正。您可以在此处找到几乎可以满足您的需求的开源： [http](http://code.google.com/p/signfinder/wiki/HowSignfinderWorks) ://code.google.com/p/signfinder/wiki/HowSignfinderWorks 该软件检测街道名称标志，并应用投影校正以便能够阅读文本. 希望它有所帮助

# titanium - 在 Titanium appcelerator 中手动构建 apk 文件

> ID：12066227
> 
> 赞同：1
> 
> 时间：2012-08-22T04:15:51.823
> 
> 标签：titanium

我正在研究 Titanium appcelerator。我已经成功开发了一个应用程序。在我的应用程序的资源文件夹中，我创建了一个名为“XmlFiles”的文件夹，其中有 2 个 xml 文件。应用程序使用这些 xml 文件。现在我要做的是何时更改这两个 xml 文件（使用 Titanium 桌面应用程序）应该构建 apk 文件（针对我们的新 xml 文件生成）。所以我的问题是如何从 Titanium 手动构建 apk 文件，或者还有其他替代方法吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-22T20:02:43.930

Titanium CLI 应仅用于此目的。您可以通过命令行执行钛的每一项操作。

可能[这个链接](http://docs.appcelerator.com/titanium/latest/#!/guide/Titanium_Command-Line_Interface_Reference-section-35619828_TitaniumCommand-LineInterfaceReference-Build)可以提供更多信息。

# c# - 用下拉列表中的数据填充我所有的文本框。链接到实体

> ID：12066229
> 
> 赞同：0
> 
> 时间：2012-08-22T04:15:53.940
> 
> 标签：c#, asp.net, linq, linq-to-sql

我无法从下拉列表中获取数据（姓名、姓氏、国家、年龄等填充在我的所有 Texbox 中。

我有一个下拉菜单

```
 DataTextField="Name" DataValueField="ID" <-- which is an INt.

var query = from i in context.AdeucaRegistro 
where i.ID ==Convert.ToInt16(DropDownListditarEstudiantes.SelectedValue) 
select i; 
```

这也不起作用:(

有人可以帮助我使用 Linq 将下拉列表中的所有数据放入文本框中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:37:17.657

确保不要在 linq 语句中使用 convert 它可能会导致错误

使用类似的东西

```
int id=Convert.ToInt32(DropDownListditarEstudiantes.SelectedValue); 

var query =( from i in context.AdeucaRegistro 
where i.ID ==id
select i).FirstOrDefault(); 
```

# javascript - 如何在另一个div上显示一个被阻止的对象？

> ID：12066231
> 
> 赞同：0
> 
> 时间：2012-08-22T04:16:35.620
> 
> 标签：javascript, css

我正在使用prototype.js 函数来裁剪隐藏的img。要裁剪的 javascript 函数是“裁剪”。它在身体加载时裁剪图像。将调用“crop”的 HTML div=id 是“crop”。此外，div="thumb" 正在执行与 class="top" 不同的特定悬停。

//*首先它是这样的：

```
<div class="thumb">
<span class="text">text text text text text text text</span>
<div id="crop" class="top" style="width:900px; height:250px; /">
</div>
</div> 
```

//*这是要裁剪的图像：

```
<img id="img" src="bond.jpg" style="display:none" /> 
```

带有那里的 class="thumb" 使一个带有“text text text”的小框。现在，正在发生的事情是，类“thumb”在 div="crop" 后面悬停了一个带有“text text”的框。

我已经尝试了很多尝试跳过放置 class=thumb 的需要，但实际上 div id="crop" 不能这样工作。

换句话说，我认为由于 div id="crop" 已经在执行功能以裁剪其编码方式，因此最好保持这种方式

现在检查裁剪功能：

```
<script language="javascript" type="text/javascript" src="prototype.js"></script>
<script language="javascript" type="text/javascript">

function crop(img_id, crop_id, x, y, width, height) {
$(crop_id).update('<img id="' + crop_id + '_img" src="' +
$(img_id).getAttribute('src') + '" style="display:none" />');

var scale_x = $(crop_id).getWidth() / width;
var scale_y = $(crop_id).getHeight() / height;

$(crop_id).setStyle({
position: 'relative',
overflow: 'hidden' 
});

$(crop_id + '_img').setStyle({
position: 'absolute',
display: 'block',
left: (-x * scale_x) + 'px',
top: (-y * scale_y) + 'px',
width: ($(img_id).getWidth() * scale_x) + 'px',
height: ($(img_id).getHeight() * scale_y) + 'px'
});
}
</script> 
```

of wich 将在 bodyload 上调用：

```
<body onload="crop('img', 'crop', 0, 0, 1400, 300)"> 
```

所以毕竟我真正想问的是：如何让“文本文本文本”框出现在所有 div（裁剪和拇指）的前面？

这里使用的CSS：

```
.top {  
position: absolute;
font-family: verdana, arial, helvetica, sans-serif;
font-size: 20pt;
font-weight: bold;
background:#FFFFFF;
border: 1px dashed #000000;
height: 5%;
width: 100%;
}

.thumb {
position: relative; 
width: 910px;
height: 250px;
border: 2px dashed #444;
margin: 10px;
float: left
}

.text, .text-js {
display: none;
position: absolute;
bottom: 0;
left: 0;
width: 100%;
background: #999;
background: rgba(0,0,0,0.3);
text-align: center
}
.thumb:hover .text {
display: block;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:52:43.270

我将您的代码移植到了 jsFiddle。[这](http://jsfiddle.net/724Vm/)是有解决方案的那个。

很难判断裁剪是否正常工作，因为我们没有图像，但我相信给`<span class="text">`高`z-index`（我用 100）可以解决问题。现在，当您将鼠标悬停在 div 上时，就会出现文本。

CSS：

```
text, .text-js {
    display: none;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #999;
    background: rgba(0,0,0,0.3);
    text-align: center;
    z-index:100; //add this
} 
```

# jquery - 需要再次单击鼠标悬停功能

> ID：12066234
> 
> 赞同：0
> 
> 时间：2012-08-22T04:17:14.113
> 
> 标签：jquery, click, mouseover

我正在尝试在页面顶部制作一个点击后的栏，允许用户通过将鼠标悬停在 div 上来更改页面的背景颜色。问题是，这个栏无限期地保持活动状态，所以如果用户无意中再次将鼠标悬停在栏上，颜色会改变。

我希望用户必须再次单击才能重新激活鼠标悬停功能。

我有一个我在[jsfiddle](http://jsfiddle.net/FfpEF/)上使用的简化版本。

这是脚本：

```
 $(function () {
    config = {
        sensitivity: 3,
        interval: 200,
        timeout: 500,
        over: function () {
            $('#colorBar').animate({
                "height": "50px"
            }, 500);
        },
        out: function () {
            $('#colorBar').animate({
                "height": "20px"
            }, 200);
        }
    }
    $('#colorBar').hoverIntent(config)
});

$("#colorBar").click(

function () {
    $("#red").mouseover(

    function () {
        $("body").css("background-color", "red");
    });
    $("#green").mouseover(

    function () {
        $("body").css("background-color", "green");
    });
    $("#blue").mouseover(

    function () {
        $("body").css("background-color", "blue");
    });
    $("#yellow").mouseover(

    function () {
        $("body").css("background-color", "yellow");
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:25:11.567

您需要以某种方式解除鼠标悬停事件的绑定。一种方法：

将您的配置更改为：

```
config = {
    sensitivity: 3, // number = sensitivity threshold (must be 1 or higher)
    interval: 200, // number = milliseconds for onMouseOver polling interval
    timeout: 500, // number = milliseconds delay before onMouseOut
    over: function() { $('#colorBar').animate({"height": "50px"}, 500); }, // function = onMouseOver callback (REQUIRED)
    out: function() { $('#colorBar').animate({"height": "20px"}, 200); $('.color').unbind("mouseover"); } // function = onMouseOut callback (REQUIRED)
} 
```

# php - 从包含正整数的数组和/或递归嵌套的正整数数组中查找最大值

> ID：12066236
> 
> 赞同：1
> 
> 时间：2012-08-22T04:17:16.453
> 
> 标签：php, arrays, max

如果一个数组初始化为：

```
 $arr = array(array(141,151,161),2,3,array(101,102,array(303,404,606,555,789,array(1000,22,9999,array(9057,100000),522)))); 
```

那么结果应该是：100000

我编写了一个函数来解决这个问题，但我需要更少的字节和更少的代码内存。

我的功能是：

```
function MaxArray($arr){
$length = count($arr);
global $maxValue;
for($i=0;$i<$length;$i++){
        if(is_int($arr[$i])){

                if($maxValue < $arr[$i]){
                    $maxValue = $arr[$i];
                }

        }
        elseif(is_array($arr[$i])){     
                MaxArray($arr[$i]);
            }
        }
    return $maxValue;   
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T04:36:01.437

*[取自 PHP 手册](http://php.net/manual/en/function.max.php#109799)，但由我撰写：*

```
/**
 * @param array $array
 *
 * @return int|null Returns the largest value of the array. Returns NULL if no 
 *     integers are found.
 */
function array_max_recursive(array $array) {
    $max = NULL;
    $stack = array($array);

    do {
        $current = array_pop($stack );
        foreach ($current as $value) {
            if (is_array($value)) {
                $stack[] = $value;
            } elseif (filter_var($value, FILTER_VALIDATE_INT) !== FALSE) {
                // max(NULL, 0) returns NULL, so cast it
                $max = (int) max($max, $value);
            }
        }

    } while (!empty($stack));

    return $max;
} 
```

* * *

*   这个函数实际上不是递归的，但满足了它在子数组上工作的要求。我喜欢时不时地在没有运行时堆栈的情况下做事。
*   它返回 int 类型的东西，而不是 int 的字符串表示形式。例外情况是您提供的数组不包含任何整数。然后它将返回 NULL。
*   它忽略非数组、非整数值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-22T17:34:53.153

遍历嵌套数组的一个方便的函数是[`array_walk_recursive()`](http://php.net/array-walk-recursive). 这意味着您不必担心自己处理递归，并且可以继续手头的任务，在这种情况下找到最大值。

```
function MaxArray($arr) {
    $max = FALSE;
    array_walk_recursive($arr, function ($current) use (&$max) {
        if ($max === FALSE) {
            $max = $current;
        } else {
            $max = max($current, $max);
        }
    });
    return $max;
} 
```

# java - 识别具有不同命名空间绑定的元素

> ID：12066237
> 
> 赞同：0
> 
> 时间：2012-08-22T04:17:19.180
> 
> 标签：java, xpath

我有一个看起来像这样的xml。注意：两个 AuthenticationPolicy 元素的 ms-xrm 命名空间映射不同。

```
<ms-xrm:AuthenticationPolicy xmlns:ms-xrm="http://schemas.microsoft.com/xrm/2011/Contracts/Services"> 
     <ms-xrm:Authentication>LiveId</ms-xrm:Authentication>
</ms-xrm:AuthenticationPolicy>

<ms-xrm:AuthenticationPolicy xmlns:ms-xrm="http://schemas.microsoft.com/xrm/2012/Contracts/Services"> 
    <ms-xrm:Authentication>OnlineFederation</ms-xrm:Authentication>
</ms-xrm:AuthenticationPolicy> 
```

我想要一个 XPath，它可以准确地给我这些元素，如果我尝试

```
//ms-xrm:AuthenticationPolicy 
```

我得到了这两个元素。我试过了

```
//AuthenticationPolicy[namespace-uri()='http://schemas.microsoft.com/xrm/2012/Contracts/Services'] 
```

这给了我空列表。什么是正确的语法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T07:19:37.690

您说您想要“正是这些元素”，但随后您暗示给出两个元素的表达式是错误的，所以我想也许您只想要第二个。

查询

```
//ms-xrm:AuthenticationPolicy 
```

不应该给你两个元素；它应该为您提供一个或另一个，具体取决于命名空间前缀 ms-xrm 的绑定方式。在 XPath 中，一个命名空间前缀只能绑定到一个命名空间。您还没有说您正在使用什么 XPath API，或者名称空间前缀是如何绑定的，但它必须引用两个名称空间之一，并确定选择哪个元素。XPath 中使用的命名空间前缀与源文档中的前缀没有关系（除非您的 API 导致它们以这种方式初始化。）如果您说的是对的，那么这是您的 XPath 处理器中的一个错误。

# node.js - 通过 Handlerbars 将一个玉值传递给 Ember.js

> ID：12066241
> 
> 赞同：0
> 
> 时间：2012-08-22T04:17:43.483
> 
> 标签：node.js, ember.js, pug, handlebars.js

我有一个 Node.js 项目，它使用 Jade 进行 html 模板，在客户端我使用 Ember.js 和 Handlebars。我有一个值，我从路由文件传递到我的 Jade 模板

主页.js

```
app.get('/', function(req, res) {       
    res.render('index', { title: 'Home Page.  ', flickrApiKey: nconf.get('flickr:apiKey') })
}); 
```

然后在玉文件里面

索引.jade

```
{{#view Piccee.FlickrHeaderView api_key=!{flickrApiKey}}} 
```

index.jade 中的行但是不起作用，但是如果我将其更改为

```
{{#view Piccee.FlickrHeaderView api_key=123}} 
```

它确实有效。所以，我只需要弄清楚如何将 Jade 变量传递给 Handlebars 调用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T10:20:49.740

不完全确定您正在尝试什么，但这有效：

```
<script type="text/x-handlebars">
   <p>Your first name is #{firstName}</p>
   <!-- and then inside a view -->
   {{#view}}
       <span>#{firstName}</span>
   {{/view}}
</script> 
```

访问 .jade 文件中的模板变量可以通过添加**#**号前缀来实现

希望这可以帮助！

# actionscript-3 - 事件侦听器在第 2 帧丢失

> ID：12066243
> 
> 赞同：0
> 
> 时间：2012-08-22T04:17:46.673
> 
> 标签：actionscript-3

我可以知道为什么我需要在函数 returnToInput 中再次添加“ComputeBtn.addEventListener(MouseEvent.CLICK,computeLoan)”，否则第 1 帧的按钮 ComputeBtn 将不再起作用。我没有删除监听器。只需转到第二帧显示结果并返回第一帧输入数据。

```
package {
    import flash.display.*;
    import flash.events.*;

    //THE CLASS DEFINITION
    public class carApp extends MovieClip {
        function carApp() {
            gotoAndStop(1);
            ComputeBtn.addEventListener(MouseEvent.CLICK,computeLoan);
        }

        function computeLoan(event:MouseEvent) {
                              gotoAndStop(2);
                              trace("Show result");
            StartAgainBtn.addEventListener(MouseEvent.CLICK,returnToInput);
        }

        function returnToInput(event:MouseEvent) {
            gotoAndStop(1);
            ComputeBtn.addEventListener(MouseEvent.CLICK,computeLoan);
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:22:52.600

在您的文档类中，构造函数只运行一次，因此它只添加该侦听器一次。移动到第二帧将其删除。

在您的代码中，每次移动到第二帧时，您都在为“StartAgainBtn”设置侦听器，但如果您没有为“ComputeBtn”设置额外的侦听器，它将无法工作，因为每次移动到不同的帧时你正在失去听众。

如果您在时间轴的第一帧而不是文档类上具有相同的代码，那么它将按照您的预期工作，为“ComputeBtn”添加一次侦听器。这是因为当您返回时，第一帧上的所有代码都会重新运行。

# android - 在不使用 XML 的情况下创建 EditText

> ID：12066245
> 
> 赞同：-2
> 
> 时间：2012-08-22T04:17:59.197
> 
> 标签：android, android-widget

在android应用程序开发中想要从java代码创建一个EditText而不使用XML，所以我写了这个

```
 import android.os.Bundle;
    import android.app.Activity;
    import android.view.Menu;
    import android.widget.EditText;
    public class MainActivity extends Activity {
        private static final String initMess="Hello Arun";
        private static final int VISIBLE = 0;
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            EditText editText = new EditText(this);
            editText.setText(initMess.toString());
            editText.setVisibility(VISIBLE);
        }

        @Override
        public boolean onCreateOptionsMenu(Menu menu) {
            getMenuInflater().inflate(R.menu.activity_main, menu);
            return true;
        }
    } 
```

但是在模拟器中运行应用程序时 EditText 不可见。

如何仅使用 java 创建 EditText ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:23:38.637

```
ScrollView sv = new ScrollView(this);

LinearLayout ll = new LinearLayout(this);

ll.setOrientation(LinearLayout.VERTICAL);
sv.addView(ll);

EditText et = new EditText(this);

et.setText("weeeeeeeeeee~!");

ll.addView(et);

this.setContentView(sv); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:24:19.180

你将不得不设置`Height`和这样`Width`的参数`EditText`。

```
LinearLayout.LayoutParams param = new LinearLayout.LayoutParams(
                       LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);

editText.setLayoutParams(param); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:24:21.803

您应该将 Editext 添加到 mainlayout 中可用的父布局。让我们假设您的 main 中有相对布局

```
 layout.addView(editText); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:35:16.677

试试这个，

```
//first set the layout 
LinearLayout linerLayout = (LinearLayout)findViewById(R.id.linearLayout);

// add edit text
EditText editText = new EditText(this);
editText.setText( "" );

// add editText to the view 
linerLayout.addView(editText); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-22T05:29:55.077

**首先，您应该通过布局文件获取根视图。**

```
LinearLayout layout = (LinearLayout)findViewById(R.id.layout); 
```

**其次，您应该声明您的子组件，例如 EditText**

```
EditText et =new EditText(this);
LinearLayout.LayoutParams p = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT);
et.setLayoutParam(p);
et.setText("text"); 
```

**第三，你应该将你的子组件插入到父布局中**

```
layout.addView(et); 
```

# javascript - 我们可以在移动网站上弹出一个具有缩放功能的窗口吗

> ID：12066246
> 
> 赞同：1
> 
> 时间：2012-08-22T04:18:01.417
> 
> 标签：javascript, jquery, zooming, scale, pinch

在浏览移动网站时，我们不能捏缩放窗口大小，因为捏缩放功能被禁用。

但是我想在用户单击网站上的小图像时在弹出窗口上启用捏缩放功能，以便他们可以在弹出窗口上捏缩放该图像。

是jQuery还是JavaScript可以实现这个功能？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:21:17.433

是的，它可以用 JavaScript 来实现。我最近做了同样的事情。

您需要绑定到`touchstart`,`touchmove`和`touchend`事件并使用`event.scale`with`transform: scale()`来执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T09:21:51.957

随便找个jQuery插件来实现这个动作，[https://github.com/eightmedia/hammer.js](https://github.com/eightmedia/hammer.js)

# entity-framework - 同一数据库的多实体框架

> ID：12066249
> 
> 赞同：5
> 
> 时间：2012-08-22T04:18:32.537
> 
> 标签：entity-framework, model

我们可以在项目中为同一个数据库创建多个实体框架吗？我想为每个子系统创建实体框架。一些子系统有共享表。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T05:54:32.663

这是可能的，您可以根据需要创建多个 EDMX 文件。

但不推荐，因为...

1.  您不能查询不同模型中的多个表。
2.  定义边界将非常困难，因为大多数表是通过关系连接的。
3.  如果同一个表存在于多个模型中，那么您将遇到一致性问题和命名空间冲突。

相反，我们只创建了一个 EDMX 模型并将其放入一个公共库中，然后将其导入到许多不同的子项目中。唯一的问题是，您的连接字符串必须正确定义并指定公共库资源。

# php - 如何在提交按钮 URL 链接中包含 Acrobat 表单字段值

> ID：12066257
> 
> 赞同：0
> 
> 时间：2012-08-22T04:19:54.283
> 
> 标签：php, acrobat

我有一个在线 Acrobat 表单，用户填写并选择提交按钮。我定义了提交按钮以将完整的 PDF 文件发送到一个 php 程序，该程序只需将文件附加到电子邮件 (phpMailer) 并发送它。

我想做的是与静态表单名称一起发送，即 Acrobat 表单中的客户名称字段值。因此，如果客户在 Customer_Name 字段中输入“John Doe”，我希望在提交中包含以下内容。

../submit_pdf_form.php?form=New_Patient&Customer_Name=John Doe

**这在 Acrobat Pro X 中可行吗？怎么做。**

谢谢

-- PHP pgm 源代码亮点 --

```
<?php
// what form are we sending
if (isset($_GET['form']))    { $form_type = $_GET['form']; }
//////////////////////////////////////////////////
//// this is the catching of the PDF
///////////////////////////////////////////////////
if(!isset($HTTP_RAW_POST_DATA)) 
{
    echo "The Application could not be sent. Please save the PDF and email it manually.";
    exit;
}
//////////////////////////////////////////
// Create PDF file with the filled data
//////////////////////////////////////////
$semi_rand = $form_type . time();
$pdf = $HTTP_RAW_POST_DATA;
$file = $semi_rand . ".pdf"; 
$handle = fopen($file, 'w+');
fwrite($handle, $pdf);   
fclose($handle);
/////////////////////////////////////////
require_once("\phpMailer\class.phpmailer.php");
...
set up mail
...
if(!$mail->AddAttachment($file))
    {
        echo "There was a problem attaching the pdf.";
        echo $mailer->ErrorInfo;
    }
 if(!$mail->Send()) {
    $error = "Error sending Email ".$mail->ErrorInfo; 
        echo $error; } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T06:24:45.110

所以我终于想出了如何从 adobe 在线表格中获取信息。

**杂技演员：**

在 Acrobat 中创建一个按钮，在操作下选择“鼠标按下”上的触发器，选择操作“运行 JavaScript”，单击“添加”。在弹出的窗口中添加如下内容以获取表单字段并将表单提交到另一个程序以通过 phpmailer 发送电子邮件。这会将整个 PDF 文件发送到您的程序。

```
var name = getField("Shipper Name").valueAsString;  // get name field
name = name.replace(/(^[\s]+|[\s]+$)/g, '');        // trim spaces 
name = name.replace("'", "\\'");                    // change O'Neil to O\'Neil 
name = "'"+name+"'";
var email = getField("Shipper Email").valueAsString; // get email address
email = email.replace(/(^[\s]+|[\s]+$)/g, '');      // trim spaces from front and end
console.println("Your Email is Being sent to you and Dr. xxxxxx");
this.submitForm({
cURL: "../submit_pdf_form.php?form=New_Patient_Form&name="+name+"&email="+email,
cSubmitAs: "PDF"                                   // select form type PDF, FDF 
```

});

有关 Acrobat 按钮定义的其他帮助，请参阅下面的链接

[http://www.w3.org/WAI/GL/WCAG20-TECHS/PDF15.html](http://www.w3.org/WAI/GL/WCAG20-TECHS/PDF15.html)

**PHP** 然后您可以将信息拉入 PHP 程序以发送如下：

```
<?php
include("class.phpmailer.php");        
// what form are we sending
$form_type = "";
$cust_name = "";
$cust_email = "";
if (isset($_GET['form']))  { $form_type = $_GET['form']; }
if (isset($_GET['name']))  { $cust_name = $_GET['name']; 
                           $temp = "\'";
                           $cust_name = str_replace($temp, "'", $cust_name);
                       }
if (isset($_GET['email'])) { $cust_email = $_GET['email']; }
//////////////////////////////////////////////////
//// this is the catching of the PDF
///////////////////////////////////////////////////
if(!isset($HTTP_RAW_POST_DATA)) 
{
    echo "The Application could not be sent. Please save the PDF and email it manually.";
    exit;
}
///////////////////////////////////////////////////
// Create PDF file with the filled data
///////////////////////////////////////////////////
$semi_rand = $form_type . "-" . date("s", time());
$pdf = $HTTP_RAW_POST_DATA;
$file = $semi_rand . ".pdf"; 
$handle = fopen($file, 'w+');
fwrite($handle, $pdf);   
fclose($handle);
///////////////////////////////////////////////////
//// this is the Emailing of the PDF
/////////////////////////////////////////////////// 
$mail_subject = "Patient Web Forms: " . $form_type;
$mail_message = "Patient submitted webform: \n" . $form_type . "\n Form from " . $cust_name . "\n Patient email: " . $cust_email;
$mail_from = "someone@comapny.com";
$mail_from_name = "Web Forms";
$mail_host = "smtp.company.net";
$username = "johndoe";
$password = "password"; 
$mail_to = "johndoe@company.com";                  // ---- use comma as separators
// --- look for localhost vs production ----
if ($_SERVER['HTTP_HOST'] == "localhost")             // -- test mode  ?
{
    $mail_to = "johndoe@testcom.com";
}
else
{
    $mail_to = "johndoe@company.com";
}
$message = "";

$mail = new PHPmailer(true);  // create a new object  (true = displays error messages) 
$mail->IsSMTP();          // enable SMTP
$mail->SMTPDebug = 0;         // debugging: 0 = off, 1 = errors and messages, 2 = messages only
// $mail->SMTPAuth = true;    // enable SMTP authentication
$mail->Port = 25;
$mail->Host = $mail_host;
$mail->Username = $username;  
$mail->Password = $password;           
$mail->SetFrom($mail_from, $mail_from_name);
$mail->Subject = $mail_subject;
$mail->Body = $mail_message;
$mail->AddAddress($mail_to);

if(!$mail->AddAttachment($file))
{
    $message = "There was a problem attaching the pdf.";
    echo "There was a problem attaching the pdf.";
    echo $mail->ErrorInfo;
    die;
}

if(!$mail->Send()) {
    $message = "Error sending Email ".$mail->ErrorInfo; 
} 
else 
{
    $message = "Form emailed to Dr Pearson's office";
}

$mail->ClearAddresses();
$mail->ClearAttachments();
unlink($file);              // delete the temporary pdf file then redirect to the success page
header("location: patients.php?msg=$message");

unlink($file);  //doubley make sure the temp pdf gets deleted
?> 
```

# php - PHP fgetcsv：在 MAC OS 导出的 CSV 文件中读取时出现奇怪的字符

> ID：12066258
> 
> 赞同：1
> 
> 时间：2012-08-22T04:20:25.720
> 
> 标签：php, macos, encoding, csv, character-encoding

我正在处理从 MAC OS - File Maker Pro 程序导出的 CSV 文件。CSV 似乎格式正确。它可以导入 PHP 和我的 MySQL 数据库。它还使用 LibreOffice Calc 导入到我的 Ubuntu 操作系统中。但是，在所有情况下，我都会得到奇怪的字符。它应该是 UTF-8 字符集，但我不确定。谁能帮助解释正在发生什么样的转变？

例子：

...先驱印刷品。，[1880 年代？]。第一版也是唯一一版...

....这个制造商参与的优秀遗物......

编辑：

看上面的一部分：

```
[1880’s?]

manufacturer’s

lost.

od -ctx1 part.txt

0000000   [   1   8   8   0 342 200 231   s   ?   ]  \r   m   a   n   u

         5b  31  38  38  30  e2  80  99  73  3f  5d  0d  6d  61  6e  75

0000020   f   a   c   t   u   r   e   r 342 200 231   s  \r   l   o   s

         66  61  63  74  75  72  65  72  e2  80  99  73  0d  6c  6f  73

0000040   t   .      \v  \r  \r

         74  2e  20  0b  0d  0d

0000046 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T15:35:10.447

编码确实是 UTF8，你的引号就在那里：

[http://www.tachyonsoft.com/uc0020.htm](http://www.tachyonsoft.com/uc0020.htm)

您看到的转换似乎是 UTF8 解释为 ISO-8859-1[5] 或 Latin1，在您阅读后，请检查您的 MySQL 是否使用 UTF8 作为字符集，并且提取阶段是否将其保留为 UTF8（例如，如果您将数据发送到宣传 ISO-8859-15 的网页，您会看到这一点——欧元符号后面跟着垃圾）。

# scala - 如何在 Play 中的 Actor 之间传递回复！和阿卡

> ID：12066269
> 
> 赞同：1
> 
> 时间：2012-08-22T04:21:47.497
> 
> 标签：scala, playframework-2.0, akka

我正在使用 Play 2.0 和 Akka 部署 Web 应用程序。我根据职责分离了参与者，因为这些参与者通常需要在单个 Web 请求期间相互通信。

例如，给定一个管理注册设备的参与者，它必须查询另一个处理相关用户帐户的参与者：

```
class DeviceActor extends Actor {

  val accountActorRef = ...

  def receive = {
    case GetAccountByDeviceId(id:String) =>
      val accountId = getAccountIdAssociatedWithDevice(id)
      accountActorRef ? GetAccountById(accountId) map {
        case account: Account => sender ! account
      }
  }

} 
```

从我的控制器调用`DeviceActor`时，我总是得到

```
akka.pattern.AskTimeoutException 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T04:21:47.497

调用`map`a `Future`or时`Promise`，您实际上是在注册回调。引用`sender`在回调闭包中被捕获，但`sender`仅在`DeviceActor`处理消息时适当设置。

您必须在方法存在*之前*捕获发件人引用：`receive`

```
class DeviceActor extends Actor {

  val accountActorRef = ...

  def receive = {
    case GetAccountByDeviceId(id:String) =>
      val X = sender
      val accountId = getAccountIdAssociatedWithDevice(id)
      accountActorRef ? GetAccountById(accountId) map {
        case account: Account => X ! account
      }
  }

} 
```

# iphone - 加载新视图在 iphone 中显示空白屏幕

> ID：12066271
> 
> 赞同：0
> 
> 时间：2012-08-22T04:21:59.540
> 
> 标签：iphone, objective-c, xcode, ipad

请注意，我正在尝试学习 iphone，对于这个问题，我想不出任何解决方案。

我创建了一个名为 Loading 的空视图。我已经用一些图像填充了它的 Loading.xib。现在这是我正在使用的代码

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    Loading *firstView = [[Loading alloc]init];

    self.navigationController = [[UINavigationController alloc]init]; 
    self.navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent;
    [self.navigationController pushViewController:firstView animated:YES];
    // Override point for customization after application launch.
    [self.window addSubview:self.navigationController.view];
    [window makeKeyAndVisible];
    return YES;
} 
```

问题是，当我运行代码时，它只显示空白屏幕。

如何加载加载屏幕。欢迎任何推荐的教程链接

```
@implementation Loading

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
} 
```

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:28:34.467

--> "加载.xib" <--

你永远不会加载它，所以除非“加载”的 init: 选择器的实例做了一些花哨的东西，否则这个视图是空的。

编辑：“你能解释一下我怎么称呼它吗？”

覆盖初始化... *

```
- (id)init
{
    if ((self = [super initWithNibName:@"SomeNib" bundle:nil])) {
        // ...
    }

    return self;
} 
```

* 如果所有者和 nib 在 IB 中不匹配，您要么 A）在 IB 中正确创建配给，要么 B）在代码中手动执行：

更新初始化：

```
[super initWithNibName:nil bundle:nil] 
```

覆盖：

```
- (void)loadView
{
    [super loadView];

    UINib *nib = [UINib nibWithNibName:@"SomeNib" bundle:nil];
    [nib instantiateWithOwner:self options:nil];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:29:38.133

首先，Loading 是一个视图而不是视图控制器。你不应该用导航控制器推动它。

其次，将导航控制器的视图添加到窗口中并不是一个好主意。

请检查此[线程](https://stackoverflow.com/a/5789009/609086)`UIView`以获取有关和的更多详细信息`UIViewController`

相反，您可能想要创建一个 LoadingViewController，并将其视图（XIB 文件）更改为您想要的，然后使用这样的代码

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
LoadingViewController *lvc= [[LoadingViewController alloc]init];

self.navigationController = [[UINavigationController alloc] initWithRootViewController:lvc]; 
self.navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent;
// Override point for customization after application launch.
self.window.rootViewController = self.navigationController;
[window makeKeyAndVisible];
return YES;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:26:22.753

您需要从其 nib 文件加载视图。这是一个例子：

```
Loading *firstView = [[Loading alloc] initWithNibName:@"Loading" bundle:nil]; 
```

此外，当您分配 UINavigationController 时，您也可以设置其根视图控制器属性，而不必像这样推送视图：

```
UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController: firstView]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:29:15.150

您必须更改代码，例如

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    Loading *firstView = [[Loading alloc] initWithNibName:@"Loading" bundle:nil];
    self.navigationController = [[UINavigationController alloc]init]; 
    self.navigationController.navigationBar.barStyle = UIBarStyleBlackTranslucent;
    [self.window addSubview:self.navigationController.view];
    [window makeKeyAndVisible];
    [self.navigationController pushViewController:firstView animated:YES];
    return YES;
} 
```

希望对您有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-09T18:48:13.830

如果有人找到了这个线程，但仍然无法弄清楚。试试这个。我忘记为该视图控制器添加目标成员资格。

![在此处输入图像描述](../Images/ff066e0ba83b87944c344dd3a37d3032.png)

# wolfram-mathematica - 数学非线性方程求解器

> ID：12066274
> 
> 赞同：-3
> 
> 时间：2012-08-22T04:22:25.687
> 
> 标签：wolfram-mathematica, exponential, nonlinear-functions

我需要使用mathematica为x求解下面的方程，基本上我需要x的数值，A，B，K，a和b的中间值

Ax^(-a)+Bx^(-ab)=K

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:27:29.257

如果您在 Mathematica 中寻找数值解，请查看其`NSolve`功能（[此处的文档](http://reference.wolfram.com/mathematica/ref/NSolve.html)）。例如：

```
x = NSolve[A x^(-a) + B x^(-a - b) == K, x] 
```

当然，要使用数值求解器，您必须已经为所讨论的五个变量设置了数值。

这是对一个模糊问题的模糊回答——如果您向我们提供更多信息，我们或许能够为您提供更具体、更有帮助的建议。

# git - Gitlab/Gitolite 可以强制执行正确的用户名/电子邮件吗

> ID：12066276
> 
> 赞同：13
> 
> 时间：2012-08-22T04:23:31.060
> 
> 标签：git, gitolite, gitlab

尝试使用 git，我为自托管存储库设置了 Gitlab，它看起来很棒。

困扰我的一件事是，似乎任何人都可以像其他人一样进行提交（即：欺骗提交）。

即：我在 Gitlab 中设置了具有公钥访问权限的用户

*   用户 1
*   用户 2

现在只有那些用户可以推送 - 使用他们的私人 SSH 密钥 - 但似乎没有什么能阻止**User2调整他们的 gitconfig 以以****User1**的名义提交并将其推送？

gitlab 和***git -show***中的历史将提交者显示为 User1 的 gitconfig 文本。我希望 Gitlab 将与推送 ssh 密钥关联的用户名标记到历史记录中，这样我就知道使用了谁的 ssh 密钥来推送。

场景是 repo 将在团队环境中使用，并且不允许欺骗提交似乎是谨慎的。

我已经阅读并了解，通常人们可能会更改工作流程以拥有一个有福的存储库，并且只有可以推动的受信任的提交者 - 但是在这个阶段，在学习 git 时，我想留在一个更集中/SVN 类型的工作流程中.

这可以使用钩子吗？

有一个[类似的问题](https://stackoverflow.com/questions/2659063/can-gitosis-enforce-correct-user-name-email)回答了 gitosis 但即使这似乎只强制提交者来自一系列用户，这些用户不会阻止 User1 欺骗为 User2 - 据我所知。

PS：也许我问错了问题——在 gitlab 中有没有办法发现哪个 ssh 密钥（以及真正的用户）被用来将代码推送到 repo 中？从我能找到的情况来看，情况并非如此。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T05:42:59.033

2015 年更新

正如这个线程所提到的，GitLab Enterprise 在其与项目相关的 git 钩子中提供了一种控制电子邮件的方法：

> 转到项目设置 - > git hooks 并检查作者电子邮件的验证。

任何与已知用户不匹配的电子邮件都会被拒绝。

* * *

原始答案（2012）

实现用户 id 控制的一种部分方法是，如果至少有一个推送的提交没有被推送的提交者提交，则让 gitolite（gitlab 所依赖的）拒绝推送。

当您推送时，您将获得身份验证（基于 Gitolite 注册的公钥名称，或通过 LDAP 连接等其他方式）。
您可以添加一个`pre-receive`钩子来检查所有新提交，并查找至少一个以正确名称（即推送所述提交的用户的 ID）提交的内容。
以这个[`pre-receive`钩子](https://github.com/VonC/compileEverything/blob/master/gitolite/check_commits.sh)为例。

# c++ - 将 C 库用于 C++ 程序

> ID：12066279
> 
> 赞同：51
> 
> 时间：2012-08-22T04:23:56.603
> 
> 标签：c++, c, robotics

我正在尝试使用使用 Qt 制作的 GUI 来控制 Dynamixel 伺服系统。Dynamixel 提供了一组[C 库](http://support.robotis.com/en/software/dynamixel_sdk/api_reference.htm)来控制电机，而我知道制作 GUI 的唯一方法是 Qt，它本质上是 C++。是否可以以任何方式从 Qt C++ 代码中使用 Dynamixel C 库？

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-08-22T04:32:49.853

是的，C++ 可以使用 C++ 编译器编译 C，并且您可以将 C++ 与 C 链接起来。只要确保您调用的任何 C 函数都使用 C 链接即可。这是通过将 C 函数的原型用一个`extern "C"`

```
#ifdef __cplusplus
extern "C"{
#endif 

void c_function_prototype();

#ifdef __cplusplus
}
#endif 
```

您尝试使用的库的标头可能已经这样做了。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-08-22T04:29:40.473

当然... C 代码一直是从 C++ 调用的。例如，大多数操作系统库都是用 C 而不是 C++ 编写的。因此，每当您从 C++ 代码进行系统调用以执行移交给操作系统内核的任务时，这些都是通过 C 代码调用进行的。

只需确保在编译时包含正确的头文件和链接到有问题的 C 库。如果头文件还没有声明它们，还记得使用[`extern "C"`](https://stackoverflow.com/questions/1041866/in-c-source-what-is-the-effect-of-extern-c)为 C 库函数指定 C 链接。请记住，某些库可能没有专门使用 声明它们的函数`extern "C"`，但可能使用了预处理器令牌来这样做。因此，在假设库编写者尚未将其库定义为具有 C 链接之前，您还需要检查这一点。

`gcc`可以使用`-l`开关链接自定义库。如果您需要为库所在的位置指定自定义目录，可以使用`-L`switch 来完成。例如：

```
g++ -std=c++11 my_code.cpp -lmy_library -L/custom_directory_path 
```

请注意，`-l`and`-L`开关位于您正在编译的代码或目标文件*之后*，如果您的库类似于`libjpg`、 或`librobotics`等，`lib`请在将其附加到`-l`开关时删除名称的一部分。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2015-03-07T10:46:51.387

是的。要使用 C 库函数，请在 .cpp 程序 myprog.cpp 中使用如下所示的 extern "C"

```
extern "C" {
    // C Function call
    cfunc();
}

int main()
{
    cfunc();
    return 0;
} 
```

这个 cfunc 应该在 c 库中定义如下 prog.c

```
#include <stdio.h>

void cfunc()
{
   printf("This is from c library");
} 
```

然后您需要为您的 C 库创建`.o`目标文件和共享目标文件，如下所示`.so`

```
$] gcc -c prog.c -o prog
$] gcc -shared -o libprog.so prog.o

$] export LD_LIBRARY_PATH=/path/to/clibrary:$LD_LIBRARY_PATH
$] g++ -L/path/to/clibrary myprog.cpp -o myprog.o -lprog 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-08-22T04:59:31.017

您可以使用 C++ 中的 C 库......但是有一些警告。

将第三方 C 库与 C++ 一起使用时要注意的一件大事是错误处理。

一些 C 库使用`setjmp`/之类`longjmp`的工具进行错误处理。（lua 是一个显着的例子）。这意味着错误堆栈展开不会以正常方式发生，并且您可能会泄漏资源。诸如用于资源保护的通常 C++ RAII 风格的防护措施都失败了。（这些调用比`goto`C++ 代码更糟糕）。

例外情况也可能是一个问题。如果 C++ 异常传播到 C/C++ 边界，则应用程序可能会终止而不是传播异常。（取决于 C 库的编译方式和您的操作系统等）（如果您将 C++ 函数作为回调传递给 C 库，您可能会遇到这种情况。）

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-08-22T04:33:15.417

不要忘记`extern "C"`图书馆标题周围。在这里阅读。[C的“外部”是如何工作的？](https://stackoverflow.com/questions/2238456/how-does-cs-extern-work)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-08-22T04:29:24.470

是的 - C++ 可以使用 C 库。

这是一个使用 libc 主 C 库的示例

```
#include <cstdio>

int main()
{
   printf("%s\n", "Hello world");
   return 0;
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-08-23T08:00:57.913

[Rock Framework](http://rock-robotics.org/stable/)中有一个用于 Dynamixel 伺服系统的[C++ 驱动程序](https://gitorious.org/rock-drivers/dynamixel)。

# java - 阻止文件（文本）提示下载的编码类型？

> ID：12066283
> 
> 赞同：1
> 
> 时间：2012-08-22T04:24:18.010
> 
> 标签：java, encoding, byte

这是我的情况。如果我只是在我的网络服务器上创建一个新的文本文档并通过 FTP 保存，当我导航到它时它会在我的浏览器中显示得很好。但是当我使用我的 Java 应用程序保存文件时，突然当我在浏览器中导航到它时，它让我下载它（打开/保存对话框）。如果我用 FTP 重新保存，它会再次显示在浏览器中。

我认为这与我在将字符串转换为字节时使用的编码类型有关，这是我的代码：

```
public static void turnON(Player player){
    try {
        URL url = new URL("ftp://username:password@host.com/public_html/status.txt");
        URLConnection conn = url.openConnection();
        conn.setDoOutput(true);
        OutputStream out = conn.getOutputStream();
        byte[] byteArray = "online".getBytes("UTF-16BE");
        out.write(byteArray);
        out.close();
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

看看它转换到`UTF-16BE`哪里？是否有不同的格式可以防止这种情况发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:48:57.170

`ASCII`实际上我自己找到了解决方案，我只是在阅读了此处的所有各种选项后将类型更改为：http: [//docs.oracle.com/javase/1.4.2/docs/guide/intl/encoding.doc.html](http://docs.oracle.com/javase/1.4.2/docs/guide/intl/encoding.doc.html)

# oracle11g - 在 Oracle 中编辑 glogin.sql

> ID：12066289
> 
> 赞同：0
> 
> 时间：2012-08-22T04:24:50.087
> 
> 标签：oracle11g

当尝试编辑 glogin.sql 文件并保存时，表示访问被拒绝。

我以 sysdba 身份登录 SQL*plus，而我的是 Windows 机器。请帮助我编辑 glogin.sql 文件并保存对其所做的更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:35:39.410

只需使用记事本编辑 $ORACLE_HOME/sqlplus/admin/glogin.sql 并检查是否可以保存它。sysdba 是数据库服务器的角色，与在客户端编辑文件完全不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-12-15T07:20:36.847

只需更改权限以允许文件“glogin.sql”的“写入”权限。

# vb.net - VB.NET - 带参数的 AddressOf

> ID：12066293
> 
> 赞同：1
> 
> 时间：2012-08-22T04:25:26.187
> 
> 标签：vb.net, multithreading, dispatcher

考虑这段代码：

```
Dim MyDispatcher = Windows.Threading.Dispatcher.CurrentDispatcher
Public NormalUpdateThread As System.Threading.Thread
Private Delegate Sub UpdateUIDelegate() 
```

我称我的方法为

```
MyDispatcher.BeginInvoke(DispatcherPriority.Background, New UpdateUIDelegate(AddressOf doProgressbarStuff)) 
```

和函数 doProgressbarStuff

```
Public Sub doProgressbarStuff()
        customprogressbar1.Increment(1)
        customprogressbar1.Content = "Elapsed Time: " & GetTime(elapsedSeconds) & " | " & " Remaining Time:GetRemainingtime() | " & progressBarEdit1.Value & " of " & My.Settings.maindatatable.Rows.Count & " Products Updated |" & " Completion:" & Math.Round((progressBarEdit1.Value / My.Settings.maindatatable.Rows.Count), 3) * 100 & "%"
      End Sub 
```

上面的代码工作得很好。问题是我编写了一个新的 doProgressbarStuff 函数，它接受三个参数，但我不知道如何使用 Addressof 调用它，或者让它以与上述 doProgressbarStuff 函数相同的方式运行，但带有参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:32:39.100

BeginInvoke 有几个覆盖可用

[Dispatcher.BeginInvoke 方法](http://msdn.microsoft.com/en-us/library/system.windows.threading.dispatcher.begininvoke%28v=vs.100%29.aspx)

您可能正在查看使用[Dispatcher.BeginInvoke 方法 (Delegate, DispatcherPriority, Object[])](http://msdn.microsoft.com/en-us/library/cc647500%28v=vs.100%29.aspx)

> 在创建 Dispatcher 的线程上，以指定的优先级，**使用指定的参数**异步执行指定的委托。

# paypal - 如何传递 Paypal ipn 自定义和发票变量？

> ID：12066295
> 
> 赞同：0
> 
> 时间：2012-08-22T04:25:55.373
> 
> 标签：paypal, paypal-ipn, paypal-sandbox

我正在尝试使用paypal ipn来传递变量，从用户点击我的按钮到我收到ipn通知。我目前正在沙箱上对此进行测试。我很好地收到了 IPN 请求，但是当它进来时，它缺少我在表单上传递的两个变量，自定义和发票。这是我的表单的示例：

```
<form id="paypal-form" action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
   <input type="hidden" name="cmd" value="_s-xclick"/>
   <input type="hidden" name="hosted_button_id" value="23424234488"/>
   <input type="hidden" name="custom" value="basic"/>
   <input type="hidden" name="invoice" value="24817238724"/>
</form> 
```

当我获得 IPN 时，请求中没有定义自定义和发票。我怎样才能让这些值通过？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T02:55:33.363

我意识到这两个变量是在传入 ipn 的请求上，而不是在 ipn 验证的响应上。只是我的一些困惑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-21T16:38:08.370

在我的代码中，我发现我们提供的发票号码在 IPN 中返回给我们，因为 POST 字段“ **invoice_number** ” PayPal 的 IPN 模拟器似乎没有提供这个字段，这对我们的沙盒测试起反作用。

# php - 使用 ImageMagick 生成图像而不保存到文件，但仍会在网站上显示它们

> ID：12066298
> 
> 赞同：4
> 
> 时间：2012-08-22T04:26:05.823
> 
> 标签：php, javascript, imagemagick, imagick, imagemagick-convert

这是我的 ImageMagick 代码，通过在默认目录中创建文件名为“coloured_font.png”的新图像，在我的网络服务器上运行良好...

```
<?php 
$cmd = " -background none -pointsize 60 -font Times-Roman -fill red ".
 " -strokewidth 1 -stroke black label:\"google\" ";
exec("convert $cmd coloured_font.png");
?> 
```

但是现在我在 Windows 上运行 ImageMagick，它不会在默认文件夹中创建任何图像文件，但 ImageMagick 应用程序运行良好（我已经通过创建缩略图进行了测试）。所以现在我的想法是在浏览器屏幕中显示“coloured_font.png”而不将其保存在其他任何地方......所以请任何人都可以帮助我在屏幕上创建和显示图像而不保存它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T07:09:18.183

您可以使用特殊`inline:`格式的图像（ImageMagick 也支持读取文件）。这种格式是二进制数据的 base64 编码。

在（Linux）命令行上：

```
my_base64_png="$(
convert               \
    -background none  \
    -pointsize 60     \
    -font Times-Roman \
    -fill red         \
    -strokewidth 1    \
    -stroke black     \
     label:\"google\" \
     png:fd:1         \
 |                    \
 base64  -i -  -o -)" 
```

此命令使用 ImageMagick 和 shell 的几个特殊技巧：

*   使用格式提示`png:`告诉它输出应该是 PNG 格式；
*   通过指定使用*stdout*作为其输出通道（而不是文件）`fd:1`；
*   将输出直接传送到二进制文件的*标准输入*中`base64`以对 PNG 进行编码；
*   将 base64 编码数据存储在环境变量`my_base64_png`中。

现在在您的 HTML 中内联 base64 图像数据（它应该适用于所有现代浏览器，但**不适用于旧浏览器**）：

```
 <IMG SRC="data:image/png;base64,
         echo "$(my_base64_png)"
  ALT="google" WIDTH=214  HEIGHT=57  VSPACE=5 HSPACE=5 BORDER=0 /> 
```

或者

```
 <IMG SRC="data:image/png;base64,
         iVBORw0KGgoAAAANSUhEUgAAAM4AAABJAQMAAABPZIvnAAAABGdBTUEAALGPC/xh
         BQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAA
         OpgAABdwnLpRPAAAAAZQTFRFAAAA/wAAG/+NIgAAAAF0Uk5TAEDm2GYAAAABYktH
         RACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAB6ElEQVQ4y+3UQY7bIBQG4IeQ
         yqYaLhANV+iyi9FwpS69iGyiLuZYpepF6A1YskC8/uCA7SgZtVI3lcoiivkIxu/9
         MdH/8U+N6el2pk0oFyibWyr1Q3+PlO2NqJV+/BnRPMjcJ9zrfJ/U+zQ9oAvo+QGF
         d+npPqFQn++TXElkrEpEJhAtlTBR6dNHUuzIMhFnEhxAmJDkKxlmt7ATXDDJYcaE
         r4Txqtkl42VYSH+t9KrD9b5nxZeog/LWGVHprGInGWVQUTvjDWXca5KdsowqyGSc
         DrZRlGlQUl4kQwpUjiSS9gI9VdECZhHFQ2I+UE2CHJQfkNxTNKCl0RkURqlLowJK
         1h1p3sjc0CJD39D4BIqD7JvvpH/GAxl2/YSq9mtHSHknga7OKNOHKyEdaFC2Dh1w
         9VSJemBeGuHgMuh24EynK03YM1Lr83OjUle38aVSfTblT424rl4LhdglsUag5RB5
         uBJSJBIiELSzaAeIN0pUlEeZEMeClC4cBuH6mxOlgPjC3uLproUCWfy58WPN/MZR
         86ghc888yNdD0Tj8eAucasl2I5LqX19I7EmEjaYjSb9R/G1SYfQA7ZBuT5H6WwDt
         UAfK1BOJmh/eZnKLeKvZ/vA8qonCpj1h6djfbqvW620Tva36++MXUkNDlFREMVkA
         AAAldEVYdGRhdGU6Y3JlYXRlADIwMTItMDgtMjJUMDg6Mzc6NDUrMDI6MDBTUnmt
         AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA4LTIyVDA4OjM3OjQ1KzAyOjAwIg/B
         EQAAAA50RVh0bGFiZWwAImdvb2dsZSJdcbX4AAAAAElFTkSuQmCC"
  ALT="google" WIDTH=214  HEIGHT=57  VSPACE=5 HSPACE=5 BORDER=0 /> 
```

将这个过程翻译成 PHP 对您来说应该不难。;-)

正如我所说，ImageMagick 可以读取这种`inline:`格式（此处不用于读取）。但为了完整起见，让我向您展示如何：

```
 convert                                                                   \
        'inline:image/png;data:,
         iVBORw0KGgoAAAANSUhEUgAAAM4AAABJAQMAAABPZIvnAAAABGdBTUEAALGPC/xh
         BQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAA
         OpgAABdwnLpRPAAAAAZQTFRFAAAA/wAAG/+NIgAAAAF0Uk5TAEDm2GYAAAABYktH
         RACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAB6ElEQVQ4y+3UQY7bIBQG4IeQ
         yqYaLhANV+iyi9FwpS69iGyiLuZYpepF6A1YskC8/uCA7SgZtVI3lcoiivkIxu/9
         MdH/8U+N6el2pk0oFyibWyr1Q3+PlO2NqJV+/BnRPMjcJ9zrfJ/U+zQ9oAvo+QGF
         d+npPqFQn++TXElkrEpEJhAtlTBR6dNHUuzIMhFnEhxAmJDkKxlmt7ATXDDJYcaE
         r4Txqtkl42VYSH+t9KrD9b5nxZeog/LWGVHprGInGWVQUTvjDWXca5KdsowqyGSc
         DrZRlGlQUl4kQwpUjiSS9gI9VdECZhHFQ2I+UE2CHJQfkNxTNKCl0RkURqlLowJK
         1h1p3sjc0CJD39D4BIqD7JvvpH/GAxl2/YSq9mtHSHknga7OKNOHKyEdaFC2Dh1w
         9VSJemBeGuHgMuh24EynK03YM1Lr83OjUle38aVSfTblT424rl4LhdglsUag5RB5
         uBJSJBIiELSzaAeIN0pUlEeZEMeClC4cBuH6mxOlgPjC3uLproUCWfy58WPN/MZR
         86ghc888yNdD0Tj8eAucasl2I5LqX19I7EmEjaYjSb9R/G1SYfQA7ZBuT5H6WwDt
         UAfK1BOJmh/eZnKLeKvZ/vA8qonCpj1h6djfbqvW620Tva36++MXUkNDlFREMVkA
         AAAldEVYdGRhdGU6Y3JlYXRlADIwMTItMDgtMjJUMDg6Mzc6NDUrMDI6MDBTUnmt
         AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA4LTIyVDA4OjM3OjQ1KzAyOjAwIg/B
         EQAAAA50RVh0bGFiZWwAImdvb2dsZSJdcbX4AAAAAElFTkSuQmCC'              \
  my_decoded.png 
```

ImageMagick 不需要`image/png;`命令的一部分（它甚至忽略它），因为它可以通过它自己的内置魔法数据库识别格式 - 但它也没有伤害......

我还要指出，ImageMagick 的命令行长度限制为 5000 个字符，因此读取`inline:`数据不适用于较大的图片。（我目前不知道在 HTML 中内联图像数据的限制是什么......）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T09:50:27.990

只需在您的 html 文件中替换并`coloured_font.png`创建`coloured_font.php`

`coloured_font.php`包含以下内容：

```
<?php

header("Content-Type: image/png");

echo `convert -background none -pointsize 60 -font Times-Roman -fill red ".
 " -strokewidth 1 -stroke black label:\"google\" png:-`; 
```

就是这样！尝试`coloured_font.php`在浏览器中打开！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:38:52.327

您将不得不创建一个临时文件

脚步

1.  通过在 shell 中`temp_image.jpg`运行命令创建一个临时文件`imagemagick`
2.  将此作为 http 响应发送

    ```
    $file = 'pathto/temp_image.jpg';
    $type = 'image/jpeg';           // set appropriate type    
    header('Content-Type:'.$type);  // set content type
    header('Content-Length: ' . filesize($file));
    readfile($file); 
    ```

3.  删除`temp_image.jpg`

假设这是在 中`getImage.php`，它可以作为图像标签的来源

```
<img src="pathto/getImage.php" /> 
```

# javascript - 使用 turn.js 显示双页

> ID：12066301
> 
> 赞同：2
> 
> 时间：2012-08-22T04:26:39.310
> 
> 标签：javascript, html, page-flipping

我想在页面加载时显示两页，这样给人的印象是这本书已经打开了。例如，如果我想从第 2 页和第 3 页开始显示页面，我将使用如下代码：

```
 $("#book").turn({page:2}); 
```

上面的代码在加载这本书时工作，但是当我从第 2 页和第 3 页返回时它会转到第 1 页。请帮助我避免这个问题。

[[指向 turn.js 的链接](http://www.turnjs.com/)]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-21T13:41:49.267

我通过以下代码开始工作：

```
$("#book").bind("start", function(event, pageObject) {
        if (pageObject.next == 1) {
                            event.preventDefault();
                            $('#book').turn('page', 2).turn('stop');

                        }
    }); 
```

# handwriting - 计算机生成的笔迹

> ID：12066304
> 
> 赞同：5
> 
> 时间：2012-08-22T04:27:17.887
> 
> 标签：handwriting

是否有任何实用的库可以从一串文本生成模拟笔迹？

这并不意味着使用类似手写的字体。相反，我指的是笔迹，其中每个字母的呈现方式略有不同，并且按照人类笔迹的正常节奏进行连接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-07T11:42:18.037

您可以查看[Muse-CGH](https://github.com/MrVPlussOne/Muse-CGH)，这是一款用于时尚的计算机生成手写的开源工具。

Muse 可以从纯文本合成时尚的英文笔迹。它的算法仔细地连接相邻字符的笔画以创建草书单词，并使用随机扰动来确保每个字符在渲染结果中都是唯一的。而且，它还可以生成手写动画！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-19T03:09:13.840

我使用使用 AI 神经网络的RNNLIB ( [original](http://sourceforge.net/projects/rnnl/) , [Github fork ) 取得了一些成功。](https://github.com/szcom/rnnlib)

[Github 自述文件和http://www.cs.toronto.edu/~graves/handwriting.html](http://www.cs.toronto.edu/~graves/handwriting.html)上有一个演示链接

样本：

![1](../Images/1a21c75d2ecd8f2991c6db8f7efb18dd.png) ![2](../Images/b0f73a413b90134ef7d83507364f7865.png) ![3](../Images/6f7a3f1f8b1c28d4fc64bca488233f04.png) ![4](../Images/ca63a3cd3219a4fa3af197f0b9fb654a.png) ![5](../Images/5c7646d1388243d9fb9ae0764398bba9.png)

请注意，这两个演示都没有特别好的数字支持（大部分是不可读的），并且大写字母的覆盖程度不如小写字母。有时生成的图像可能缺少字母或只是拖尾。

由于它是基于神经网络的，因此其中一些问题很可能是训练数据的结果或可以通过训练数据得到改善。

# java - 使用java从postgres db表中删除数千行的最快方法

> ID：12066306
> 
> 赞同：0
> 
> 时间：2012-08-22T04:27:52.453
> 
> 标签：java, sql

使用 java.Presently 我正在使用以下代码片段从 postgres db 表中删除数千行的最快方法：

```
query = "DELETE FROM NODE WHERE SEQUENCE_NO = " + sequenceNo;
            insertOrDelete(query);

insertOrDelete(String query){
    statement = createStatement();
    numRowUpdated = statement.executeUpdate(query);
    closeStatement(statement);
            } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T06:25:22.337

这不是 Java 问题 - 它是数据库。

确保 SEQUENCE_NO 上有一个索引。除此之外，询问数据库专家（取决于数据库，可能会有一些可以提高性能的东西，但最终都归结为数据库管理：为 SEQUENCE_NO 选择正确的数据类型，保持元数据最新等。 ）。

您可能应该在您的问题中添加一个 SQL 标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-23T17:29:28.197

您可能要考虑建立一个声明，如

```
DELETE FROM NODE WHERE SEQUENCE_NO In (...); 
```

这将在一次提交中完成您的工作，而不是多次提交，这在任何情况下都会表现得更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:13:46.613

如果您已经在使用单个查询，那么无论是 Java 还是其他任何东西，我认为它都不会变得更快。

一些技巧 ：

*   使用 PreparedStatement。它可能会稍微快一点，并且会更清洁/更安全/更好
*   在 finally 中关闭语句

# asp.net - 大文件上传到 Amazon S3

> ID：12066307
> 
> 赞同：0
> 
> 时间：2012-08-22T04:28:06.277
> 
> 标签：asp.net, asp.net-mvc-3, amazon-s3, amazon-web-services, amazon

如果我尝试将大文件上传到亚马逊，我会收到以下错误：

> “在写入所有字节之前无法关闭流”

这是代码：

```
amazonClient = AWSClientFactory.CreateAmazonS3Client(_accessKey, _secretKey);

fileTransferUtility = new TransferUtility(amazonClient);

uploadRequest = new TransferUtilityUploadRequest()
                    .WithTimeout((60 * 60 * 1000) * 2)
                    .WithBucketName(containerName)
                    .WithKey(fileName)
                    .WithInputStream(dataStream) as TransferUtilityUploadRequest;

fileTransferUtility.Upload(uploadRequest); 
```

解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T13:54:13.160

您确定错误来自 AWS 吗？您的代码的其他一些部分可能正在尝试关闭输入流。

同样对于大上传，尝试并行上传到 S3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:12:21.313

增加连接超时后重试。

# android - shell脚本中if []的任何其他选项？

> ID：12066311
> 
> 赞同：-3
> 
> 时间：2012-08-22T04:29:00.880
> 
> 标签：android, linux, shell

> **可能重复：**
> [android中的shell脚本给出[：未找到](https://stackoverflow.com/questions/12056625/shell-script-in-android-gives-not-found)

我需要在 shell 脚本中编写一个条件语句。

我用过这种方式

```
#!/bin/sh
c=1
if [ $c == 1 ]
then
  echo c is 1
else
  echo c is 0
fi 
```

这在 linux 机器上工作正常，但 android shell 有一些问题，如果`[ $C == 1 ]`它给我这样的错误

```
[: not found 
```

那么shell脚本中是否还有其他条件语句，所以我可以以这种方式转换我的逻辑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:46:39.827

通常 [ 是测试的别名，在 bash 中它是内置的。`type [`看看它是什么。

另一种选择是使用测试

```
#!/bin/sh
c=1
if test "$c" = 1
then
  echo c is 1
else
  echo c is 0
fi 
```

`=`用于字符串比较，`-eq`用于数字比较

# php - 管理面板读取的子文件夹 CSS 模板标题

> ID：12066316
> 
> 赞同：0
> 
> 时间：2012-08-22T04:29:38.307
> 
> 标签：php, css, wordpress, wordpress-theming, sass

我正在创建一个 Wordpress 主题，该主题将根据管理员的输入有几个不同的设置选项。其中一个选项是使用 Zurb 或 Basic 类型布局。

我正在使用 SCSS，并希望将我的样式表与主主题文件放在一个单独的子文件夹中，除了清洁之外，这是我使用我的 Sublime Text 配置构建/上传文件的最简单方法。我已经能够很容易地做到这一点，并告诉 WP 在哪里可以找到特定设置的 CSS 文件夹。但是 WP 仍然要求我在主题的根目录中有一个 style.css 文档，否则管理面板会告诉我主题已损坏。我意识到这是由于 WP 寻找位于 style.css/index.php 文件中的主题标题信息。有没有办法告诉 Wordpress 在其他地方查找主题标题信息？

我知道你可以`@import`很容易地将 CSS 文件放入这个主要的 style.css 中。但是，我希望主文件夹中的 style.css 文件不完全存在。

是否有函数调用/钩子/过滤器/等。可以用来告诉 WP 管理面板主模板/样式表文件实际上位于不同的子文件夹中吗？我读过的关于该主题的所有其他文章都将解释如何在`@import`style.css 主文件中执行该功能，或者建议使用`stylesheet_directory_uri();`. 这两种方法仍然需要您在根文件夹中有一个 style.css。我还没有看到真正解决强制 WP 以不同方式处理它的建议。

即使这意味着编辑核心（这是我通常不会做的事情），我也可以接受。我只是想知道怎么做。如果一切都失败了，我上面提到的解决方案将解决我的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T09:06:29.577

主题**必须**有`style.css`... WP 使用顶部评论块来查找类似的内容，没有它，您的主题对 WP`Theme Name: xxx`不*可见。**（您不需要任何实际的 CSS，只需注释块。）*

至于 CSS ......这里有一些`functions.php`代码可以帮助您入门：

```
/**
 * This function is attached to the admin_menu action hook.
 */
function yourgreatthemeprefix_admin_menu() {
  wp_enqueue_style('someuniqueslug',
    get_template_directory_uri() . '/css/yoursuperduperadminonly.css');
}
add_action( 'admin_menu', 'yourgreatthemeprefix_admin_menu' ); 
```

祝你好运...

# python - 我如何写到父字典？

> ID：12066320
> 
> 赞同：2
> 
> 时间：2012-08-22T04:30:20.053
> 
> 标签：python

我如何写给父母的字典？我已经为一些孩子提供了一个要检索的 url 列表，然后需要写入父母的字典：

```
from multiprocessing import Pool
import random

parent_dict={}
urls = ['www.yahoo.com','www.google.com','www.microsoft.com','www.apple.com','www.cisco.com']

def workit(url):
    # retrieve the urls, process some stuff and then add that info to parent_dict
    key = random.randrange(1,10) # pretend that this is the variable that we want in parent_dict
    value = random.randrange(11,20)
    parent_dict[key] = value

pool = Pool(processes = 5)
pool.map(workit,urls)

print parent_dict # returns {}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:25:18.480

以下代码或多或少是您的，适用于处理`manager.dict`在 python 多处理文档中提到的传递。

```
from multiprocessing import Pool
from multiprocessing import Manager
import random

manager = Manager()
dproxy = manager.dict()

urls = ['www.yahoo.com','www.google.com','www.microsoft.com','www.apple.com','www.cisco.com']

def f(url):
    shared_dict = dproxy[0]
    key = random.randrange(1,10)
    value = random.randrange(11,20)
    shared_dict[key] = value
    dproxy[0] = shared_dict

if __name__ == '__main__':
    dproxy[0] = {}
    pool = Pool(processes=5)

    pool.map(f, urls)
    print dproxy[0] 
```

这里有几件事需要注意*，它们是关键问题*：

1.  这并不总是创建具有相同长度的字典。考虑到您现在可能在想什么（一些键被覆盖），我将字典更改为列表，并将 shared_dict[key] = value 更改为 shared_list.append((key,value))。正在进行覆盖，**但**程序实际上也在写入可变数量的对。有时是三个，有时是两个，有时是四个。我已经在此处添加了代码以供您启发**，但我实际上不会使用我发布的代码来做任何事情，永远**
2.  从`idle`. 您将希望使用 python .py 从命令行运行它。
3.  我有没有提到除了测试之外你不应该使用这段代码来说“嗯，这确实工作得相当糟糕，不是吗？” 如果你能找到解决这个问题的方法，那么你就有更多的权力，但我不得不想象有一个更好的方法来设置它，完全回避这个问题。

无论你决定什么，祝你好运。不要使用我的代码。它运行并且不会给你恶意软件，但这就是它对它有利的全部。

# iphone - 内存分析：Xcode

> ID：12066322
> 
> 赞同：0
> 
> 时间：2012-08-22T04:30:29.693
> 
> 标签：iphone, objective-c

我在 viewdidload 中有这段代码：

```
NSMutableArray *children = [NSKeyedUnarchiver unarchiveObjectWithData:childData];
self.childrenArray = [children copy]; 
```

每当我用新的或副本初始化对象时，我必须释放它吗？因此，当我分析来自 xcode 的代码时，它没有给我任何关于不释放 childrenArray 的内存警告，为什么会这样？我不会在 dealloc 上发布它也只是为了检查。我记得在许多以前的代码中，当我开始新的代码时，它给了我警告。我没有使用 ARC。

编辑：我正在使用复制属性，即@property（复制，非原子），我读到这里合成器将复制对象而不是保留，所以它必须对此做任何事情。我的查询是如果合成器复制对象不会增加对象的保留计数，在这种情况下复制与保留有何不同？我需要明白这一点。谢谢

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T07:57:20.747

分析器中的错误。请归档。在此处发布错误的#。（除非最新版本的 Xcode/clang 确实标记了它。）

请注意，由于您没有使用 ARC，因此分析器可能会假设您很棘手。不过，我仍然认为它应该标记这一点。

# asp.net-mvc-3 - Ado.net EDMX 模型表字段自定义验证

> ID：12066325
> 
> 赞同：0
> 
> 时间：2012-08-22T04:30:51.907
> 
> 标签：asp.net-mvc-3, entity-framework-4, razor, asp.net-ajax

我已经使用实体框架中的“从数据库生成模型”选项生成了数据表模型，现在该模型包含模型的 IDE 生成代码。

模型工作正常，现在我遇到了一个问题，因为我想向表字段添加自定义验证，并且错误消息和字段名称应该从资源文件中获取。验证应该在 ajax 调用中完成。

谁能帮我将这些验证添加到自动生成的模型代码中。以及如何将资源文件验证消息和字段名称映射到自动生成的模型。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:47:28.717

您可以使用 Data Annotations 和 Buddy 类来验证 EDM 生成的实体。Scott Gu有一个很棒的[教程](http://weblogs.asp.net/scottgu/archive/2010/01/15/asp-net-mvc-2-model-validation.aspx)。数据注释消息可以很容易地[外部化为资源文件](http://haacked.com/archive/2009/12/12/localizing-aspnetmvc-validation.aspx)。

# iphone - Xcode - 在 UITextView 中显示 plist 详细信息

> ID：12066326
> 
> 赞同：0
> 
> 时间：2012-08-22T04:31:03.657
> 
> 标签：iphone, ios, ipad, plist

我有一个自定义 plist 并希望在 iPad 的 UITextView 中显示它。

在 plist 中，我想从每个项目中检索“QuestionTitle”和“QuestionAnswer”。

该页面基本上是一个答案表页面，一个带有 UITextView 的页面，一旦页面加载，就会显示所有问题和答案。

```
 - (void)viewDidLoad
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@"DLquestions.plist"];
    NSDictionary *DLDict = [[NSDictionary alloc] initWithContentsOfFile:filePath]; 
```

有没有一种方法可以按特定顺序逐行将 plist 详细信息填充到 UITextView 中？

例如，

> QuestionTitle（例如 1 + 1 是什么？）
> 
> 问题答案（例如 2）
> 
> QuestionTitle（例如什么是 2 + 2？）
> 
> 问题答案（例如 4）

我已经被困了一段时间了..请帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:54:36.317

从您的 plist 创建一个字符串并将其显示在 UITextView 中，如下所示：

```
 for(int i=0;i<[plistArray count];i++)
    {
       someString = [someString stringByAppendingFormat:@"%@ \n %@",[[plistArray objectAtIndex:i] objectForKey:@"QuestionTitle"],[[plistArray objectAtIndex:i] objectForKey:@"QuestionAnswer"]];

    }

    //Display someString in UITextView.
yourTextView.text = someString; 
```

您的 plist 包含字典数组，否则获取所有键和值并如上所述创建 NSString 并显示在 UITextView 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:54:37.933

## 如果你的字典格式是这样的，

键值（NSArray）

1 {QuestionTitle（例如 1 + 1 是什么？），QuestionAnswer（例如 2）}

2 {QuestionTitle（例如 2 + 2 是什么？），QuestionAnswer（例如 4）}

然后，

```
NSDictionary *dict;
NSArray *keys = [dict allKeys];
for (int i=0; i< [keys count]; i++) {
    NSArray *object = [dict objectForKey:[keys objectAtIndex:i]];
    NSString *question = [object objectAtIndex:0];
    NSString *answer = [object objectAtIndex:1];
    textView.text = [textView.text stringByAppendingString:@"\n"];
    textView.text = [textView.text stringByAppendingString:question];
    textView.text = [textView.text stringByAppendingString:@"\n"];
    textView.text = [textView.text stringByAppendingString:answer];
} 
```

# php - 将此表达式放在这组引号中的最佳方法是什么？

> ID：12066328
> 
> 赞同：1
> 
> 时间：2012-08-22T04:31:22.427
> 
> 标签：php, quotes, ternary-operator

放置此表达式的最佳方式是什么：

```
echo isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '' 
```

在这个参数里面：

```
<?php
    echo "
    <input type='text' value=' *INSERT EXPRESSION* ' />
    ";
?> 
```

我不确定处理引号内引号的最佳方法是什么，因此不胜感激。我知道可以通过更改整体语法来避免这种情况，但是，鉴于这些限制，我怎样才能最好地做到这一点？谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:36:05.947

最简单的方法来做到这一点......

```
<?php
    $exp = isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '';

    echo "<input type='text' value=' $exp ' />";
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:36:21.017

可能是这些方面的东西？

```
<?php
    echo "
    <input type='text' value='" . 
        (isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '') . 
    "' />";
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:39:29.080

这里有几种方法：

方法一：

```
<?php
    $expression = isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '';

    echo "
    <input type='text' value='$expression' />
    ";
?> 
```

方法二：

```
<?php
    $expression = isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '';

    echo "
    <input type='text' value='" . $expression . "' />
    ";
?> 
```

方法三：

```
<?php
    echo "
    <input type='text' value='" . isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '' . "' />
    ";
?> 
```

**更新：**
方法 4：我会使用方法 4 或 5，因为 PHP 处理起来更快。这里的变化是我使用单引号而不是双引号。

```
<?php
    echo '
    <input type="text" value="' . isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '' . '" />
    ';
?> 
```

方法五：

```
<?php
    $expression = isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '';

    echo '
    <input type="text" value="' . $expression . '" />
    ';
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T04:47:36.723

我总是用[`printf()`](http://php.net/printf).

```
<?php

    printf("\n<input type='text' value='%s' />\n", isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '');

?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-22T04:48:03.087

试试这个，

```
<?php
    define('URL',isset($GLOBALS['_url']) ? htmlspecialchars($GLOBALS['_url']) : '');
    echo "<input type='text' value=' ".URL." ' />";
?> 
```

# asp.net-mvc - 实体框架 4.3 数据库

> ID：12066330
> 
> 赞同：0
> 
> 时间：2012-08-22T04:31:50.210
> 
> 标签：asp.net-mvc, entity-framework-4.3

我对 EF 代码优先有一些问题。

我在一个解决方案中有 4 个项目

1.  数据访问层
2.  逻辑
3.  移动界面
4.  安全

然后我在第 4 部分（安全）中优先使用 MVC 代码

当我想部分地`MobileUI`从我的方法中使用我的方法时，我的问题`Security`是，这是它想要使用`UserBlackList`表时的错误

> *实体类型 UserBlackList 不是当前上下文模型的一部分。*

# ios - 适用于 iOS 的 pjsip 与 linphone

> ID：12066331
> 
> 赞同：8
> 
> 时间：2012-08-22T04:31:51.127
> 
> 标签：ios, sip, voip, pjsip

我正在构建一个 iPhone 应用程序，该应用程序在未来某个时间在应用程序用户之间提供语音和可能的视频。无需呼叫 PBX 世界。我在网上搜索了一下，linphone 和 pjsip 似乎是我可用的最积极开发的 SIP 库。任何人都可以评论哪个可能是此应用程序的更好选择吗？

# java - 如何在 Java 的公共方法中声明私有方法？

> ID：12066334
> 
> 赞同：0
> 
> 时间：2012-08-22T04:32:05.387
> 
> 标签：java

Java 相当新，所以我希望措辞是有道理的。

我有一些需要在公共方法中调用几次的 Java 代码，如何通过将它放在公共方法中并调用它来重用该代码？

也许我在为自己做事，所以这里是代码示例。

```
public static final String parseText( final String text )
{
    StringBuffer parsedText = new StringBuffer();

    private static void appendParsedText( String snippet )
    {
        if ( parsedText.length() > 0 )
        {
            parsedText.append( ", " + snippet );
        }
        parsedText.append( snippet );
    }

    if ( text.contains( "string1" ) )
    {
        parsedText.appendParsedText("string1");
    }

    if ( text.contains( "string2" ) )
    {
        parsedText.appendParsedText("string2");
    }

    if ( text.contains( "string3" ) )
    {
        parsedText.appendParsedText("string3");
    }

    return parsedText.toString();
} 
```

尽管代码无效，但希望它对我想要实现的目标有意义。我知道`join()`Apache Commons 中有一种方法，`StringUtils`但似乎有点矫枉过正，这种方法是唯一需要发生这种情况的地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:35:49.097

正如你所说，代码没有编译，因为 Java 不支持这样的结构。我建议您单独定义`parseText()`and`appendParsedText()`并从公共方法中调用私有方法。

所以它看起来像这样：

```
public static final String parseText( final String text ) {
    return appendParsedText(text);
}

private static String appendParsedText( String snippet ) {
    StringBuffer parsedText = new StringBuffer();
    if ( parsedText.length() > 0 ) {
        parsedText.append( ", " + snippet );
    }
    parsedText.append( snippet );

    if ( text.contains( "string1" ) ) {
        accessTypes.appendAccessTypes("string1");
    }

    if ( text.contains( "string2" ) ) {
        accessTypes.appendAccessTypes("string2");
    }

    if ( text.contains( "string3" ) ) {
        accessTypes.appendAccessTypes("string3");
    }

    return parsedText.toString();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:51:43.743

我会假设以下工作，但我在我的类中定义一个方法，该方法仅用于该类的另一种方法。对我来说，这似乎有点浪费。

```
private static final StringBuffer appendParsedText( StringBuffer parsedText, String snippet )
{
    if ( parsedText.length() > 0 )
    {
        return parsedText.append( ", " + snippet );
    }
    return parsedText.append( snippet );
}

public static final String parseAccess( final String text )
{
    StringBuffer parsedText = new StringBuffer();

    if ( text.contains( "string1" ) )
    {
        parsedText = appendParsedText( parsedText, "string1" );
    }

    if ( text.contains( "string2" ) )
    {
        parsedText = appendParsedText( parsedText, "string2" );
    }

    if ( text.contains( "string3" ) )
    {
        parsedText = appendParsedText( parsedText, "string3" );
    }

    return parsedText.toString();
} 
```

# objective-c - 使用 xmpp 框架在 iphone 应用程序中发送消息和接收消息

> ID：12066341
> 
> 赞同：1
> 
> 时间：2012-08-22T04:32:41.397
> 
> 标签：objective-c, ios, ios5, chat, xmppframework

嗨，我成功地为我的 iPhone 应用程序添加了 xmpp 框架，如果我正在发送消息或接收消息，步骤是什么，我在 Google 中搜索，但它显示了如何集成 xmpp 框架而不是如何使用 xmpp 框架是否有任何发送教程或使用 xmpp 框架接收任何机构都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T06:59:23.353

如果你想发送消息，你应该转换你的消息，你必须创建一个 DXMLElement ( XmppMessage )，在接收消息时，你必须将 DXMLElement (XmppMessage ) 转换为消息。

要发送消息，您必须使用 Xmpp Delegate 功能：

```
- (void)xmppStream:(XMPPStream *)sender didSendMessage:(XMPPMessage *)message; 
```

要接收消息，您必须使用 Xmpp Delegate 功能：

```
- (void)xmppStream:(XMPPStream *)sender didReceiveMessage:(XMPPMessage *)message; 
```

你需要任何其他帮助吗，我会帮助你.. :)

# data-binding - 数据绑定/填充 Windows Phone 列表框中的项目

> ID：12066347
> 
> 赞同：0
> 
> 时间：2012-08-22T04:33:21.997
> 
> 标签：data-binding, listbox, windows-phone

我有两个单独的课程，即：

```
 public class Floor { 
     private string fname;
   public Floor(string name)
   {
     fname = name;
   }

   public int FName
   {
      set { fname = value; }
      get { return fname; }
   }

}

public class Building 
{
   List<Floor> floors;
   string _bName;

   public Building(string bname)
   {

       _bName = bname;

      floors = new List<Floors>();

      for(int i = 0; i < 3; i++)
      {
           floors.Add(new Floor("floor" + (i + 1)));
      }
   }

   public string BName
   {
      set{ _bName = value; }
      get{ return _bName; }
   }

   public List<Floor> Floors
   {
      set { floors = value; }
      get { return floors; }
   }

} 
```

在我的 XAML (MainPage.xaml) 中：

```
<ListBox x:Name="lstBuilding" Background="White" Foreground="Black">
  <ListBox.ItemTemplate>
    <DataTemplate>
       <StackPanel Orientation="Horizontal" Margin="10,0,0,15">                  
           <StackPanel>
             <TextBlock Text="{Binding Path=BName }" />                                                                                      
            </StackPanel>
        </StackPanel>
    </DataTemplate>
  </ListBox.ItemTemplate>
</ListBox> 
```

在我的 XAML.cs (MainPage.xaml.cs)

```
ObservableCollection< Building > buildings = new ObservableCollection< Building>();

for(int i = 0; i < 2; i++)
{
    buildings.Add(new Building("building" + (i + 1)));
}

lstBuilding.ItemsSource = buildings 
```

这是问题：

如何使用 XAML 访问 Floor 类中的 FName？我所做的是：

```
<TextBlock Text="{Binding Path=Floors.FName }" /> 
```

但它没有用。:(

对不起，很长的帖子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T07:23:24.703

您的代码本身存在缺陷，因为您试图访问 Floors 这又是一个 Collection/List，当您拥有`<TextBlock Text="{Binding Path=Floors.FName }" />` 时，不清楚您指的是哪个楼层或您要做什么？

如果您只想参考一楼，您可以尝试 `<TextBlock Text="{Binding Path=Floors[0].FName }" />`

但是，如果您尝试访问每个建筑物中每个楼层的数据，则需要更改 xaml 才能使其正常工作。它称为嵌套绑定。

```
 <ListBox x:Name="listBuilding">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <ListBox ItemsSource="{Binding Floors}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Path=FName}"></TextBlock>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox> 
```

# sugarcrm - SugarCRM - 添加字段“机会年龄”

> ID：12066349
> 
> 赞同：0
> 
> 时间：2012-08-22T04:33:31.470
> 
> 标签：sugarcrm

我想添加一个字段“机会年龄”，它以分钟/小时/天显示机会的年龄。逻辑挂钩似乎不是正确的解决方案，因为它们仅在修改机会时执行。

有任何想法吗？

最好的，大卫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:44:23.497

如果您使用 Pro 或更高版本并使用以下公式，这可以通过 Sugar Logic 实现：

```
concat(multiply(daysUntil($date_entered),-1)," days") 
```

有关更多信息，请参阅[http://developers.sugarcrm.com/wordpress/2012/02/16/howto-calculate-the-number-of-days-since-a-date/](http://developers.sugarcrm.com/wordpress/2012/02/16/howto-calculate-the-number-of-days-since-a-date/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T20:27:03.340

process_record 逻辑挂钩应该在dashlet 或列表视图上触发。

# iphone - xcode构建错误

> ID：12066352
> 
> 赞同：2
> 
> 时间：2012-08-22T04:33:41.103
> 
> 标签：iphone, xcode, shell

我正在尝试通过运行 shell 脚本来构建自己的 xcodeproject，并且在编译大多数文件后出现此错误。

```
CodeSign build/Release-iphoneos/moai.app
    cd /Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios
    setenv CODESIGN_ALLOCATE /Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/codesign_allocate
    setenv PATH "/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin"
    /usr/bin/codesign --force --sign "iPhone Distribution: Vanilla Breeze Co., Ltd." --resource-rules=/Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios/build/Release-iphoneos/moai.app/ResourceRules.plist --entitlements /Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios/build/MoaiSample.build/Release-iphoneos/moai.build/moai.xcent /Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios/build/Release-iphoneos/moai.app
/Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios/build/Release-iphoneos/moai.app: User interaction is not allowed.
Command /usr/bin/codesign failed with exit code 1 
```

似乎我的分发证书有问题，但我不知道该怎么办。

这是我的shell脚本

```
#!/bin/sh
ProjectName="MoaiSample"
TargetName="moai"
SchemeName="MoaiSample"
#SDKS="iphoneos5.0"                                                                                                                                   
CONFIGURATIONS="Release"
ProvisionRelease=VBEnterpriseDistribution.mobileprovision
PASSWORD=password
IDENTITY="iPhone Distribution: Vanilla Breeze Co., Ltd."
KEYCHAIN="/Users/vb_admin/Library/Keychains/login.keychain"
PROJECT_PATH="/Users/Shared/Jenkins/Home/jobs/moai-test/workspace/moai-dev/xcode/ios "

# move to project folder

cd $PROJECT_PATH

# unlock security                                                                                                                                     
security unlock-keychain -p $PASSWORD $KEYCHAIN
# clean previous build files                                                                                                                          
xcodebuild -project $ProjectName.xcodeproj -target $TargetName -configuration $CONFIGURATIONS clean
# build project                                                                                                                                       xcodebuild -project $ProjectName.xcodeproj -target $TargetName -configuration $CONFIGURATIONS
# archive ipa file                                                                                                                                    #cd build                                                                                                                                             rm -Rf Payload $TargetName.ipa

mkdir Payload
cp -r build/Release-iphoneos/$TargetName.app Payload
zip -r $TargetName.ipa iTunesArtwork Payload 
```

关于为什么我的构建失败的任何想法？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T04:57:48.167

你读过[Running xcodebuild from a forked terminal](https://stackoverflow.com/questions/577750/running-xcodebuild-from-a-forked-terminal)吗？

从命令行运行时，钥匙串列表似乎会有所不同。

> 大多数人也看到的不同之处在于，如果您运行 security list-keychain 您会得到：

```
$ security list-keychain
  "/Library/Keychains/System.keychain"
  "/Library/Keychains/System.keychain" 
```

> 但是在 ssh shell 中运行时，我会得到：

```
$ security list-keychain
    "/Users/<i>user_account_name</i>/Library/Keychains/login.keychain"
    "/Library/Keychains/System.keychain" 
```

建议创建一个不与用户帐户关联的钥匙串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:57:25.777

请检查您的应用程序的有效证书。正确设置供应配置文件并重试。

# c - Tizen 中的通知

> ID：12066353
> 
> 赞同：1
> 
> 时间：2012-08-22T04:33:52.783
> 
> 标签：c, linux, tizen, tizen-native-app

如何以本机 c 代码获取 tizen 设备上发生的通知列表？我正在编写将在 tizen 设备上运行的本机 c 代码，并且通知列表需要在我的本机应用程序中连续打印

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-27T10:57:31.423

如果您正在编写 web 应用程序，则有一个 getAll() API。

[https://developer.tizen.org/development/articles/how-use-tizen-notification-api](https://developer.tizen.org/development/articles/how-use-tizen-notification-api)

您可以参考 webruntime 代码以查看它在做什么。

# jquery - 为什么这个 jquery 按钮单击事件没有触发？

> ID：12066354
> 
> 赞同：1
> 
> 时间：2012-08-22T04:34:05.353
> 
> 标签：jquery, asp.net, events

我有这个页面，这是代码..

```
$(document).ready(function () {

    $('#<%= btnCompare.ClientID %>').click(function() {
        alert("Hey");
       // return false;
    });

}); 
```

按钮是，

```
<asp:Button Text="Compare" ID="btnCompare" runat="server" OnClick="btnCompare_Click" /> 
```

但警报没有出现？

**编辑：** 生成的 html

```
 $(document).ready(function () {
        $('#ctl00_ContentPlaceHolder1_btnCompare').click(function() {
            alert("Hey");
           // return false;
        });
    }); 
```

和

```
<input type="submit" name="ctl00$ContentPlaceHolder1$btnCompare" value="Compare" id="ctl00_ContentPlaceHolder1_btnCompare" style="color:White;background-color:#6086AC;border-color:White;border-width:2px;border-style:Solid;font-family:Verdana;font-size:10pt;font-weight:bold;" /> 
```

**编辑 2** 可能是因为我有这个文件的母版页，它也有一个`document.ready`处理程序，所以在页面加载时两者都被加载了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:05:18.177

您的点击处理程序不会阻止按钮点击的回发。要防止发回表单，请使用`OnClientClick`按钮属性：

```
<asp:Button Text="Compare" ID="btnCompare" runat="server" OnClick="btnCompare_Click" OnClientClick="return foobar()" />

function foobar(){
    alert("Hey");
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:51:25.910

这宁愿是

```
 $(document).ready(function () {

$('#<%= btnCompare.ClientID %>').submit(function() {
    alert("Hey");
   // return false;
});

}); 
```

**编辑**

代替它

```
<asp:Button Text="Compare" ID="btnCompare" runat="server" OnClick="btnCompare_Click" /> 
```

和

```
<asp:Button Text="Compare" ID="btnCompare" runat="server" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-18T11:32:34.937

我有一个类似的问题。但是，该按钮是弹出控件的一部分，它嵌入在`UpdatePanel`. 要修复它，我必须在脚本标签中使用以下内容：

```
var prm = Sys.WebForms.PageRequestManager.getInstance();
prm.add_endRequest(prm_endRequest);

function prm_EndRequest() {
   $(document).ready(function() {
      // your code here
   });
} 
```

# javascript - 如何将淡出图像添加到我的 Django 页面？

> ID：12066355
> 
> 赞同：0
> 
> 时间：2012-08-22T04:34:23.823
> 
> 标签：javascript, python, django

我对 Django 有点陌生，目前正在开发一个 Intranet 网页，我正在尝试添加淡出图像来为我的设计增添美感。请问谁能帮我解决这个问题？

我还需要有关动态图像的帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:41:43.210

您可以使用 Javascript 来实现。更容易使用[jQuery fadeout api](http://api.jquery.com/fadeOut/)。

# mysql - mysql删除连续行

> ID：12066357
> 
> 赞同：1
> 
> 时间：2012-08-22T04:34:37.040
> 
> 标签：mysql, sql-delete

我有以下查询：

```
select count(*)
FROM
    cumul AS t1,
    cumul AS t2
WHERE
    t1.id+1 = t2.id
and
    t2.spec_datetime-t1.spec_datetime < 0.001
and
    t1.id < 100000
and
    t1.v1-t2.v1 = 0
and
    t1.v2-t2.v2 =0; 
```

我想删除相同的记录：

```
DELETE FROM cumul AS t1, cumul AS t2
WHERE
    t1.id+1 = t2.id
and
    t2.spec_datetime-t1.spec_datetime < 0.001
and
    t1.v1-t2.v1 = 0
and
    t1.v2-t2.v2 = 0; 
```

我得到：

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'AS t1 , cumul AS t2 WHERE t1.id+1 = t2.id 和 t2.spec_datetime-t1.spec_datetime <' 附近使用正确的语法

如何更正查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:01:16.180

```
从 cumul AS t1 中删除 t1，cumul AS t2  
       ^^
只需在 FROM 之前添加别名

```

所以试试这个：

```
DELETE t1 FROM cumul AS t1, cumul AS t2
WHERE
    t1.id+1 = t2.id
and
    t2.spec_datetime-t1.spec_datetime < 0.001
and
    t1.v1-t2.v1 = 0
and
    t1.v2-t2.v2 = 0; 
```

请参阅[MySQL :: 13.2.2。删除语法](http://dev.mysql.com/doc/refman/5.0/en/delete.html)以获取更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:40:28.143

您必须指定要从表列表中删除的表（即使在本例中它们是同一个表）：

```
DELETE t1 FROM cumul AS t1, cumul AS t2... 
```

[http://dev.mysql.com/doc/refman/5.0/en/delete.html](http://dev.mysql.com/doc/refman/5.0/en/delete.html)

# coldfusion - ColdFusion，并为多个开发团队记录代码和工具

> ID：12066364
> 
> 赞同：4
> 
> 时间：2012-08-22T04:35:42.193
> 
> 标签：coldfusion, diagramming, code-documentation, coldbox

我正在使用 ColdFusion 开始一个相当大的新项目。这个新项目将包括几个开发人员，因此代码文档将是关键。

我希望避免的另一个问题（使用足够的代码文档或其他工具）是代码重复。能够“索引”用于搜索或图表的代码的工具可能会在这里有所帮助。

还有什么其他人专门用于 ColdFusion 或与语言无关的。如果这有所作为，我们可能会将 ColdBox 用于底层框架。

感谢您提出任何建议。

-C

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-24T09:05:12.570

好吧，如果不了解您的项目的更多信息，就不可能告诉您使用哪个框架，但是我可以列出一些工具，无论您使用哪个框架，它们都会有用。

与语言无关的工具：

*   [GitHub.com 组织+团队](https://github.com/blog/674-introducing-organizations)
*   [詹金斯持续集成](http://jenkins-ci.org/)
*   [Apache ANT 构建脚本](http://ant.apache.org/)
*   [用于项目管理的 Apache Maven](http://maven.apache.org/)

Coldfusion 专用工具：

*   [MXunit 单元测试框架](http://mxunit.org/)
*   [用于单元测试的 MockBox](http://mockbox.riaforge.org/)（如果您使用 ColdBox：[ColdBox-specific tutorial](http://wiki.coldbox.org/wiki/MockBox.cfm)）
*   [ColdDoc 文档生成器](http://colddoc.riaforge.org/)

特定于 Javascript 的工具：

*   [JSLint](http://www.jslint.com/)或[JSHint](http://www.jshint.com/)用于 JS 代码清理
*   [茉莉花单元测试](http://pivotal.github.com/jasmine/)

* * *

理想情况下，您的 Jenkins 构建服务器应该：

*   从源代码管理中进行全新的结帐
*   运行所有单元测试并在它们失败时停止构建
*   生成文档
*   生成项目的生产就绪包

至少，**我强烈建议使用源代码控制**，使用 MXunit 测试设置 Jenkins，并安排每日自动化构建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T14:01:27.923

我们在上一份工作中使用了 Atlassian 套件。主要是用于跟踪的 Jira 和用于敏捷的 Greenhopper，但其他工具可能会有所帮助，鱼眼、竹子和坩埚。如果您自己托管，我相信他们有一次性 10 美元/产品的价格标签。根据您团队的规模，可能会也可能不会。如果钱不是主题，那么套房工作得非常好。它还内置了对 svn 的支持，现在可能更多。

[http://www.atlassian.com/software](http://www.atlassian.com/software)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T16:16:29.500

在我看来，您需要的是一种方法，而不是一种工具。如果您有一组明确定义的对象/职责。脚本中不应该有交叉，如果您为正在编码的对象确定一个通用 API，我认为您会没事的。

# backbone.js - 由于“未定义”区域，Backbone Marionette 重新显示（显示）嵌套布局失败

> ID：12066372
> 
> 赞同：0
> 
> 时间：2012-08-22T04:36:17.193
> 
> 标签：backbone.js, marionette

我有一个带有嵌套布局的应用程序。顶级布局位于 App 级别，第二级位于其区域之一。当我显示二级布局时，我会触发一个事件来显示二级布局的区域。这第一次工作正常，但是当我将第二级布局与其他视图或布局交换并再次显示时它失败了。该问题在[http://jsfiddle.net/mzafer/VLY4t/重新创建](http://jsfiddle.net/mzafer/VLY4t/)

在屏幕中单击“Content1”，然后单击“Content 2”。您将看到显示的二级布局区域（“这是实际的 region1 内容”和“这是实际的 region2 内容”）。现在单击“Content1”，然后再次单击“Content 2”。这次不显示实际内容，而只是显示占位符。在第二次“thisView.region1”未定义。

知道是什么导致该区域未定义吗？

谢谢扎弗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T23:48:28.400

代码有两个问题。

首先，您应该使用`MyApp.vent.bindTo()`而不是`MyApp.vetn.bind()`确保正确管理事件。

其次，您需要在布局视图关闭时解除与事件的绑定。现在发生的情况是，因为您没有解除绑定，您最终会得到一个封闭的视图（第一个实例），但仍试图访问其不再存在的区域元素。

将来，您可以通过附加`this.cid`到您的`console.log`语句来检测到这一点。例如：

```
console.log('Responding to an event.', this.cid); 
```

我调整了您的代码以使其工作，上面提到了两个更改：http: [//jsfiddle.net/VLY4t/14/](http://jsfiddle.net/VLY4t/14/)

# c++ - SAL 注释，使用哪一个？

> ID：12066373
> 
> 赞同：11
> 
> 时间：2012-08-22T04:36:19.447
> 
> 标签：c++, visual-studio-2010, visual-studio, visual-c++, annotations

因此，我涉足了 C++ 的源代码注释，但发现有很多方法可以通向罗马，可以这么说。

例子：

```
__in

_In_

[Pre(FormatString(Style="printf")] LPCSTR format 
```

*   [VS2005 SAL 注释](http://msdn.microsoft.com/en-us/library/ms235402%28v=vs.80%29.aspx)
*   [VS2010 使用注解减少 C/C++ 代码缺陷](http://msdn.microsoft.com/en-us/library/ms182032%28v=vs.100%29)
*   [VS2012 使用 SAL 注解减少 C/C++ 代码缺陷](http://msdn.microsoft.com/en-us/library/ms182032%28v=vs.110%29)

有没有**一种**微软的方式来做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-22T04:57:19.640

Microsoft从 Windows 8 ¹开始引入了新的 SAL 标准 ( [SAL 2.0](http://msdn.microsoft.com/en-us/library/hh916383.aspx) ) 。[SAL 2.0 使用单下划线样式的](http://msdn.microsoft.com/en-us/library/hh916382)注释，例如. 因此，对于所有新代码，最佳做法是遵循 SAL 2.0 样式，如Microsoft 展示的[幻灯片](http://www.cs.cmu.edu/~fp/courses/15122-f10/lectures/25-sal.pdf)所示。^(`_In_opt_`)

对于较旧的代码，“保持一致”的一般规则似乎是最好的方法，但如果您倾向于更新所有注释，请再次遵循 SAL 2.0 样式。

--

¹ - SAL 2.0 实际上自 2010 年以来就已经存在（查看链接演示文稿上的日期），但据我所知，直到 Windows 8 才得到外部官方支持。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:00:10.413

可能不会，因为 SAL 注释是一种元语言，可以帮助静态分析工具在编译时检查错误，我认为它可能依赖于编译器（至少在某种程度上用于复杂检查）所以你可能没有一个 -所有方法，但从一种过渡到另一种并不太复杂

# asp.net - 发送数据未绑定文本框asp.net

> ID：12066382
> 
> 赞同：0
> 
> 时间：2012-08-22T04:37:55.057
> 
> 标签：asp.net, asp.net-mvc-3, model-binding

我想要做的是将数据从一个视图发送到另一个（只是一个名字）

我尝试使用 ViewBag，但它丢失了回发中的所有数据。发现这个例子很有用，但是： [如何在 mvc3 中将数据从剃刀视图传递到控制器？](https://stackoverflow.com/questions/7824830/how-to-pass-data-from-razor-view-to-controller-in-mvc3)

我试图发送的数据位于商店列表的索引中，并且我得到了一个链接，该链接将您发送到包含图像/StoresImages 的视图。

我进入了 Stores 视图和 StoreImages 索引以下输入：

```
 <input type="text" name="StoreName"/> 
```

在 StoreImagesController 中：

```
public ActionResult SaveName(string StoreName, FormCollection Collection){} 
```

这与上面的示例完全相同，但我收到以下错误：并非所有代码路径都返回一个值。

我错过了什么？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:57:53.783

你应该从 ActionResult 返回一些东西：

```
[HttpPost]
public ActionResult SaveName(string StoreName, FormCollection Collection)
{
    ViewBag.StoreName = StoreName;
    return View("viewName");
} 
```

然后您可以在“viewName”视图中使用 ViewBag.StoreName；

# spring - 仅用于授权的 Spring 安全性

> ID：12066383
> 
> 赞同：2
> 
> 时间：2012-08-22T04:38:00.403
> 
> 标签：spring, spring-security

我正在一个新项目中工作，我需要管理用户角色，因为这个应用程序通过 Web 服务使用自己的身份验证系统。所以，我唯一需要做的就是验证每个用户角色，如果用户 id 存在于我的数据库中，他可以输入，否则将被拒绝。这意味着，没有密码，没有登录页面（由 Web 服务执行），只需验证用户 ID 并获取他们的角色。

我做了一个概念证明，以便根据我的理解来实现这一点，这是在阅读了所涉及的文档之后。关键是这没有按预期工作，让我与您分享这个示例：

安全设定

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:security="http://www.springframework.org/schema/security"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/security
      http://www.springframework.org/schema/security/spring-security-3.1.xsd">

<security:http use-expressions="true" entry-point-ref="http403ForbiddenEntryPoint">
<security:anonymous enabled="false" />
<security:intercept-url pattern="index.jsp" access="permitAll" />
<security:intercept-url pattern="home.html" access="hasRole('ROLE_ADMIN')" />
<security:intercept-url pattern="excel.html" access="hasAnyRole('ROLE_USER','ROLE_ADMIN')"   />
<security:intercept-url pattern="denied.jsp" access="permitAll" />
<security:custom-filter position="PRE_AUTH_FILTER" ref="meivFilter" />
</security:http>

<bean id="http403ForbiddenEntryPoint"   class="org.springframework.security.web.authentication.Http403ForbiddenEntryPoint" />

<bean id="meivFilter" class="org.springframework.security.web.authentication.preauth.RequestHeaderAuthenticationFilter">
  <property name="principalRequestHeader" value="Host" />
  <property name="authenticationManager" ref="authenticationManager" />
</bean>

<bean id="preauthAuthProvider"
class="org.springframework.security.web.authentication.
preauth.PreAuthenticatedAuthenticationProvider">
<property name="preAuthenticatedUserDetailsService">
    <bean id="userDetailsServiceWrapper"
class="org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper">
            <property name="userDetailsService" ref="userDetailsService" />
        </bean>
    </property>
</bean>
<security:authentication-manager alias="authenticationManager">
  <security:authentication-provider ref="preauthAuthProvider" />
</security:authentication-manager>

<bean id="userDetailsService" class="com.gm.gpsc.meiv.security.UserServiceImpl" />

</beans> 
```

注意：为了测试它，如您所见，我在 RequestHeaderAuthenticationFilter 中使用作为 principalRequestHeader 属性，Host 标头值作为默认标头值存在。只是为了测试。因为将来我会从标题中读取一个值。

这是我为获取用户角色所做的 userDetailService。

```
public class UserServiceImpl implements UserDetailsService {

private boolean accountNonExpired = true;
private boolean accountNonLocked = true;
private boolean credentialsNonExpired = true;
private boolean enabled = true;

@Override
public UserDetails loadUserByUsername(String userId)
        throws UsernameNotFoundException {
     GrantedAuthority[] grantedAuthority = new GrantedAuthority[1];  
     grantedAuthority[0] = new GrantedAuthorityImpl("ROLE_USER");
     Collection<GrantedAuthority> authorities = new ArrayList<GrantedAuthority>(); 
     authorities.add(grantedAuthority[0]);

    return new User(userId, "x",enabled, accountNonExpired, credentialsNonExpired, accountNonLocked, authorities);          
} 
```

}

当我运行此示例时，设置已成功加载，然后当我尝试访问第一个模式 home.html 时，我可以访问该页面，这是错误的，因为根据我的规则我有 ROLE_USER 并且如上所示我需要 ROLE_ADMIN。

对于第二种模式，我也可以访问，但在这种情况下，这是有道理的，因为 ROLE_USER 被包含为规则。

对于第一种情况，我将 home.html 更改为 /home.html 并且我得到 403 Access denied 。但是如果我对第二个选项 excel 使用相同的模式，这意味着 /excel.html，我得到了同样的错误（403）。

这是我从日志文件中得到的错误：

```
DEBUG | 2012-09-30 03:55:09,738 | FilterChainProxy | /index.jsp at position 1 of 7 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
DEBUG | 2012-09-30 03:55:09,739 | HttpSessionSecurityContextRepository | No HttpSession currently exists
DEBUG | 2012-09-30 03:55:09,739 | HttpSessionSecurityContextRepository | No SecurityContext was available from the HttpSession: null. A new one will be created.
DEBUG | 2012-09-30 03:55:09,744 | FilterChainProxy | /index.jsp at position 2 of 7 in additional filter chain; firing Filter: 'RequestHeaderAuthenticationFilter'
DEBUG | 2012-09-30 03:55:09,744 | RequestHeaderAuthenticationFilter | Checking secure context token: null
DEBUG | 2012-09-30 03:55:09,744 | HttpSessionSecurityContextRepository | SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
DEBUG | 2012-09-30 03:55:09,744 | SecurityContextPersistenceFilter | SecurityContextHolder now cleared, as request processing completed
30/09/2012 03:55:09 org.apache.catalina.core.StandardWrapperValve invoke
GRAVE: Servlet.service() para servlet jsp lanzó excepción
org.springframework.security.web.authentication.preauth.PreAuthenticatedCredentialsNotFoundException: MYID header not found in request. 
```

我不明白这里发生了什么，也许有人可以解释我哪里错了。

感谢您的帮助，因为我对此感到非常困惑，并且厌倦了无处可去地阅读文档。

# foxpro - Visual Foxpro 或 VFP 9：从 NAS 驱动器联网数据库

> ID：12066385
> 
> 赞同：0
> 
> 时间：2012-08-22T04:38:51.823
> 
> 标签：foxpro, visual-foxpro, nas

我对 VFP9 非常陌生，需要将 6 个用户程序的所有数据库文件移动到 Netgear ReadyNas Duo V2 共享网络驱动器。我已将 .dbc .dcx .dct .dbf .cdx 和 .fpt 文件移动到 Nas (\Nas-a0-3d-36\Daimler) 但我不知道在命令窗口中输入什么来永久告诉程序如何定位 Nas 驱动器路径。我所知道的所有路径都没有被硬编码。抱歉，我无法回复之前的建议，所以我不得不重新开始。DRapp - 感谢您的帮助，当我按照您的说明输入浏览 objectType = "Table" 时，备注字段结果为：15 个小框，然后显示“members.dbf”，没有路径，然后是 7 个框和“mbnumber”，并且再来一盒。重新编译，现在得到“定位数据库”错误“实例化游标对象...

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-01T14:47:54.710

如前所述，所有 USE 语句都可以针对路径进行硬编码，您认为情况并非如此。另一件需要考虑的事情是，所有表单都可能在数据环境中使用游标，这些游标可以是硬编码的，也可以是相对路径的。

与 Paul 的建议相关：应用程序可能会使用 SET PATH 命令告诉程序在哪里查找文件。此外，它可能取决于可能配置 PATH 的 CONFIG.FPW 文件（EXE 内部或应用程序文件夹中的外部，或由传递给 EXE 的参数引导）。有些程序还依赖于 Windows 中的应用程序快捷方式来获取 StartIn 文件夹。

或者它可以是所有这些选项的组合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T14:23:36.577

浏览 DBC 可以很好地查看构成数据库的所有表 (DBF)。DBC 还将列出所有其他支持文件，例如索引 (CDX) 和备忘录文件 (fpt)。

只要您确保 DBC 中列出的所有文件都已复制到新位置，包括 DBC、DCX 和 DCT，您可能就可以了。

复制文件后，您可以启动 VFP，转到命令窗口，然后尝试以下操作：

```
 CD C:\mydirectory\mysubdir  &&navigate to new directory
 OPEN DATABASE myVFPDatabase EXCLUSIVE  &&Open the database exclusively
 VALIDATE DATABASE    &&This will display a message on the VFP screen to verify the database is OK 
```

至于应用程序找不到数据库，您将不得不查看命令“OPEN DATA”的代码。一种方法是使用 VFP“任务窗格 -> 文件管理器”在项目中搜索该字符串。

找到打开数据库的代码后，更改路径，重新编译并测试应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:53:09.323

该程序会将数据库路径保存在某处，例如 Windows 注册表、.INI 文件或 foxpro 资源文件中。之前的路径是什么？做一个磁盘和注册表搜索。

# java - 将方法实现到按钮侦听器中时出错

> ID：12066390
> 
> 赞同：0
> 
> 时间：2012-08-22T04:39:33.727
> 
> 标签：java, android, eclipse

我尝试将该方法实现到我的 Button 中`onClickListener`，然后我得到了一个`Syntax Error`.

下面是我的代码：

```
// button click event
btnCreateNewEvent.setOnClickListener(new View.OnClickListener() {

public void onClick(View view) {
// Checking for server respond
if (serverRespond() == false) {
           //DO SOMETHING
} 
```

以下是我的`ServerRespond`外部`onCreate`方法

```
// Check server respond    
public boolean serverRespond() {
boolean success = false;
    try {
        URL url = new URL(url_create_event);
        HttpURLConnection urlcon = (HttpURLConnection) url.openConnection();
        urlcon.connect();
        if (urlcon.getResponseCode() == 200) {
            success = true;
        }
    } catch (Exception e) {
        Log.e(create_error.toString(), "Server is not responding");
    }
    return success;
} 
```

错误：在`if(serverRespond()==true){`

```
"The method serverRespond() is undefined for the type new View.OnClickListener(){}" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:44:45.583

您可以通过以下方式访问：

```
YourActivity.this.serverRespond() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T04:50:01.740

我认为您正在通过以下方式调用 serverRespond() 方法：

```
this.serverRespond(); 
```

由于此方法在实现 OnClickListener 的类中，因此它将在此类或 OnClickListener 中搜索此方法。将其更改为：

```
serverRespond(); 
```

或者

```
YourActivity.this.serverRespond() 
```

根据Michel-F的回答。波特泽特。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T04:51:40.053

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Button btn = (Button) findViewById(R.id.btn);
    btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            if (serverRespond() == false) {
                Toast.makeText(getApplicationContext(), "onClick",
                        Toast.LENGTH_LONG).show();
            }

        }
    });

}

public boolean serverRespond() {
    Toast.makeText(getApplicationContext(), "serverRespond",
            Toast.LENGTH_LONG).show();
    return false;
} 
```

# javascript - Jquery 和 CSS3 旋转

> ID：12066394
> 
> 赞同：0
> 
> 时间：2012-08-22T04:40:23.040
> 
> 标签：javascript, jquery, html, css, delay

我真的可以使用一些帮助！我正在尝试使用 jquery 和 CSS3 创建旋转滚动效果。我想按顺序运行以下命令，每个命令之间有一个延迟：

Javascript：

```
$('#scroll-script')
.removeClass().addClass('slide-one')
DELAY
.removeClass().addClass('slide-two')
DELAY
.removeClass().addClass('slide-three')
DELAY
.removeClass().addClass('slide-four')
DELAY 
```

HTML：

```
<div id="scroll-script" class="slide-one"></div> 
```

刚开始使用 Jquery，任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T04:43:27.283

一次：

```
var i = 0;
delay = 1000;
var el = $('#scroll-script');
var classes = ['slide-one', 'slide-two', 'slide-three', 'slide-four'];

var interval = setInterval(function () {
  el.removeClass().addClass(classes[i]);
  i += 1;
  if (i >= classes.length) clearInterval(interval);
}, delay); 
```

圈内：

```
var i = 0;
delay = 1000;
var el = $('#scroll-script');
var classes = ['slide-one', 'slide-two', 'slide-three', 'slide-four'];

var interval = setInterval(function () {
  el.removeClass().addClass(classes[i]);
  i = (i + 1) % 4;
}, delay); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:38:05.150

您可以使用`.animate`它..这些是一些可以帮助您的链接！

[http://tympanus.net/codrops/2011/04/28/rotating-image-slider/](http://tympanus.net/codrops/2011/04/28/rotating-image-slider/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T04:47:39.840

```
//wrap in a function to provide closure on following vars
//this will prevent them from being in the global scope and
//potentially colliding with other vars
(function () {
    var sub = 0,
        delay = 500, //500 ms = 1/2 a second
        scrollScript = $('#scroll-script'),
        slides = ['one', 'two', 'three', 'four'],
        handle;

    //calls the provided anonymous function at the interval delay
    handle = setInterval(function () {
        scrollScript.removeClass().addClass('slide-' + slides[sub]);
        sub += 1;

        // test to see if there is another class in the sequence of classes
        if (!slides[sub]) {
            //if not halt timed callback
            clearInterval(handle);
        }
    }, delay);
}()); 
```

使其成为圆形：

```
//wrap in a function to provide closure on following vars
//this will prevent them from being in the global scope and
//potentially colliding with other vars
(function () {
    var sub = 0,
        delay = 500, //500 ms = 1/2 a second
        scrollScript = $('#scroll-script'),
        slides = ['one', 'two', 'three', 'four'],
        handle;

    //calls the provided anonymous function at the interval delay
    handle = setInterval(function () {
        scrollScript.removeClass().addClass('slide-' + slides[sub % slides.length]);
        sub += 1;
    }, delay);
}()); 
```

# javascript - javascript 提示 - 如何在阿拉伯语文本中显示确定/取消按钮

> ID：12066398
> 
> 赞同：0
> 
> 时间：2012-08-22T04:41:35.907
> 
> 标签：javascript, prompt

我使用了 js 提示符。消息和默认值以阿拉伯语显示，但 OK/Cancel 按钮以英语显示，如何将 OK/Cancel 按钮更改为阿拉伯语

我的java脚本是

```
var enter_name ='<fmt:message key="enter.name"/>';
var _name ='<fmt:message key="default.name"/>';

prompt(enter_name,_name); 
```

属性文件阿拉伯语

```
enter.name=أدخل اسم المستخدم
default.name=اسم المستخدم 
```

英语

```
enter.name=Enter Username
default.name=Username 
```

我已经尝试使用 jPrompt ，将`jquery.alerts.js`Ok/Cancel 按钮更改为阿拉伯语，并且 jPrompt 正确显示它意味着它以阿拉伯语显示。但问题是当我们使用 jPrompt 时，它会在单击确定/取消按钮之前执行下一行代码。我不需要在单击确定/取消按钮之前执行下一行代码。这就是我选择 prompt 的原因，但我不知道如何将 OK/Cancel 按钮标题更改为阿拉伯语。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T04:54:42.153

你不能。`prompt`是一个使用浏览器 chrome 语言环境的浏览器 API - 即，“OK”和“CANCEL”将使用客户端浏览器的语言。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:08:38.410

javascript 提示不在您的控制范围内。Windows 上的 IE 以操作系统语言为提示信息。即因为它使用messagebox Win32 API 调用。非本地浏览器 Google chrome 和 Firefox 使用浏览器语言设置。它的类似浏览器可能遵循 OS 语言或浏览器语言。参考：-[设置浏览器语言](http://www.w3.org/International/questions/qa-lang-priorities.en.php)。

# import - 像 Airbnb 一样的 ICAL 日历导入/导出同步

> ID：12066401
> 
> 赞同：3
> 
> 时间：2012-08-22T04:41:55.940
> 
> 标签：import, calendar, export, sync, icalendar

如何获得 Airbnb 用于其 ICAL 日历导入/导出同步的相同架构。似乎所有的预订网站现在都有 9flats、wimdu、roomarama、Vaway。我想知道他们在使用什么，因为它似乎在所有站点上都是相同的标准架构。如何获取此脚本或服务。请参阅下面的链接，它描述了它。我现在在我的网站上使用 wd 日历克隆（Jquery，Ajax）。我需要通过链接导入 Ical 日历并通过 ics url 导出日历。

[http://www.tnooz.com/2011/07/29/news/how-a-uk-startup-fixed-the-airbnb-calendar-availability-problem-without-being-asked/](http://www.tnooz.com/2011/07/29/news/how-a-uk-startup-fixed-the-airbnb-calendar-availability-problem-without-being-asked/)

# foursquare - 为什么一个场地有 16 个场地 ID？

> ID：12066403
> 
> 赞同：-2
> 
> 时间：2012-08-22T04:42:05.820
> 
> 标签：foursquare

所有 16 个场地都具有相同的名称和相同的纬度/经度。

在这种情况下，他们的类别是私人住宅，因此这有助于决定如何处理他们，结果证明这不是问题，但是，发生了什么？这有什么好担心的吗？

*   [https://foursquare.com/v/puamana-condos/4ce1ef7b70bba1cd8e7574c4](https://foursquare.com/v/puamana-condos/4ce1ef7b70bba1cd8e7574c4)
*   [https://foursquare.com/v/puamana-condos/4ce18e8e78ddf04db02cac98](https://foursquare.com/v/puamana-condos/4ce18e8e78ddf04db02cac98)
*   [https://foursquare.com/v/puamana-condos/4ce18eb7ffcf3704f4842682](https://foursquare.com/v/puamana-condos/4ce18eb7ffcf3704f4842682)
*   [https://foursquare.com/v/puamana-condos/4ce18ebec4f6a35dd2fddb6c](https://foursquare.com/v/puamana-condos/4ce18ebec4f6a35dd2fddb6c)
*   [https://foursquare.com/v/puamana-condos/4ce18ec469136dcbb332eae6](https://foursquare.com/v/puamana-condos/4ce18ec469136dcbb332eae6)
*   [https://foursquare.com/v/puamana-condos/4ce18ec678ddf04dd72dac98](https://foursquare.com/v/puamana-condos/4ce18ec678ddf04dd72dac98)
*   [https://foursquare.com/v/puamana-condos/4ce18ec77e2e236ac60e911b](https://foursquare.com/v/puamana-condos/4ce18ec77e2e236ac60e911b)
*   [https://foursquare.com/v/puamana-condos/4ce18ec8f8cdb1f717549d12](https://foursquare.com/v/puamana-condos/4ce18ec8f8cdb1f717549d12)
*   [https://foursquare.com/v/puamana-condos/4ce18ec994c3b60c455577ea](https://foursquare.com/v/puamana-condos/4ce18ec994c3b60c455577ea)
*   [https://foursquare.com/v/puamana-condos/4ce18eca825e721ec75c7c45](https://foursquare.com/v/puamana-condos/4ce18eca825e721ec75c7c45)
*   [https://foursquare.com/v/puamana-condos/4ce18ecb3644a093f4c65d9f](https://foursquare.com/v/puamana-condos/4ce18ecb3644a093f4c65d9f)
*   [https://foursquare.com/v/puamana-condos/4ce18ed9f8cdb1f75e549d12](https://foursquare.com/v/puamana-condos/4ce18ed9f8cdb1f75e549d12)
*   [https://foursquare.com/v/puamana-condos/4ce18ee4ffcf3704fe852682](https://foursquare.com/v/puamana-condos/4ce18ee4ffcf3704fe852682)
*   [https://foursquare.com/v/puamana-condos/4ce18ef3db125481d59242ce](https://foursquare.com/v/puamana-condos/4ce18ef3db125481d59242ce)
*   [https://foursquare.com/v/puamana-condos/4ce18ef9aba88cfa690556d7](https://foursquare.com/v/puamana-condos/4ce18ef9aba88cfa690556d7)
*   [https://foursquare.com/v/puamana-condos/4ce1ef4fc4f6a35d2f29de6c](https://foursquare.com/v/puamana-condos/4ce1ef4fc4f6a35d2f29de6c)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T20:32:30.607

看起来所有这些场所都是由单个用户在 2010 年 12 月的一天内创建的。这是在我们在创建新场所之前对现有重复项进行更严格的检查之前，因此这可能是连接不良/多个场所的副作用创作尝试。将它们标记为骗子，这应该很快被清理干净。

因为它们是家，所以它们不会出现在正常的“附近”查询中，这就是为什么我们的 SU 社区可能直到现在还没有找到它们的原因。

# javascript - JSON/AJAX 和 Facebook

> ID：12066417
> 
> 赞同：0
> 
> 时间：2012-08-22T04:43:54.490
> 
> 标签：javascript, xml, ajax, facebook, json

我目前正在创建一个 facebook 粉丝页面 (www.facebook.com.SSBMstream)，并且我正在使用静态 html 应用程序创建一个部分，该部分将允许用户使用按钮选择他们希望观看的 twitch.tv 流。我想更进一步，根据频道是“直播”还是离线列出频道。Twitchtv/Justintv 已经为此设置了一个 api (http://api.justin.tv/api/stream/list.json?channel=)，您可以在其中插入频道名称并获取 '[]' 如果它不是现场的，如果是的话，我相信是 JSON。如何动态检查我的数组中的每个频道以确定它是否处于活动状态，并在可能的情况下访问该 api 中的信息以允许我更新标题等？

编辑：这是我的代码的空心版本（只有我遇到问题的部分）我让它从另一个页面返回信息作为调试器，所以我可以测试它是否（如果/何时）它正在工作.

```
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
function loadJSON()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {
  xmlhttp=new XMLHttpRequest();
  }
else
  {
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4)
    {
    document.getElementById("div1").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","http://api.justin.tv/api/stream/list.json?channel=ignproleague",true);
xmlhttp.send();
}
</script>
</head>
<body>

<div id="div1"><h2>Just a test</h2></div>
<button type="button" onclick="loadJSON()">Change Content</button>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T08:20:55.150

这取决于 twitch 如何定义什么是直播的，什么不是直播的。抱歉，我对 twitch 的 API 不是很熟悉，但如果它返回一个空数组，如果频道没有直播，你可以简单地检查`if (array.length == 0)`.

如果给您一个 JSON 对象，那么只需与您需要的适当信息进行交互。我不确切知道 twitch 如何格式化他们的 JSON 对象，但这里有一个例子。假设它返回了这个 JSON 对象：

```
var JSONobj = {
"channelName": "e-sports", "channelTheme: "Professional Gaming", "viewerCount": 100 
}; 
```

要检索信息，您只需调用相应的字段。

```
var chan = JSONobj.channelName; //chan = "e-sports
var theme = JSONobj.channelTheme; //theme = "Professional Gaming" 
```

希望这可以帮助

编辑：看来您需要帮助来理解 AJAX。让我大致了解一下语法是什么。我个人使用一个叫[Prototype.js的框架](http://prototypejs.org/)

```
new Ajax.Request(WEB_SERVICE, {
    method: "get",
    parameters: {"type" : type, "name" : name},
    onSuccess: successCall,
    onFailure: ajaxError,
    onException: ajaxError
}); 
```

这是您非常典型的 AJAX 请求。当它被调用时，它会向 WEB_SERVICE（通常是一个 PHP 文档，它将获取传递的参数然后从中计算一些东西）抛出一个 AJAX 请求。在这种情况下，传递的方法是“GET”，传递的参数是具有字段“type”和“name”的对象的形式。successCall 是 AJAX 请求成功传递时调用的方法，返回已经计算好的 ajax。我假设在您的场景中，您的 AJAX 应该以 JSON 格式接收一些信息，因此您的 successCall 函数不仅获取该信息很重要，而且像 JSON 一样解析它。您的 successCall 函数将如下所示：

```
function successCall(ajax) {
    var info = JSON.parse(ajax.responseText); 
```

希望从这里您对正在发生的事情有一个很好的了解。尝试使用此功能，如果您仍需要帮助，请发表评论。

哦，我没有看到其他评论。如果你想制作一个 JSON 对象，你可以这样做。

```
var JSONobj = {};
JSONobj.field = something; 
```

然后，您的 JSON 对象将如下所示：

```
JSONobj = { "field" : something }; 
```

如果要将 JSONobj 作为字符串传递，则对它进行字符串化很重要。我想这取决于您的 WEB_SERVICE 如何处理它，您可以这样做。

```
var stringJSON = JSON.stringify(JSONobj); 
```

希望这可以帮助。

# c# - 如何设置 WCF 服务内容类型

> ID：12066418
> 
> 赞同：1
> 
> 时间：2012-08-22T04:43:59.420
> 
> 标签：c#, .net, wcf, svcutil.exe

在使用 [KnownType] 解决类传输问题后：[通过 WCF 提供类对象的数组或列表](https://stackoverflow.com/questions/12052962/providing-array-or-list-of-class-objects-via-wcf)

当尝试使用 svcutil 生成协议时，我得到了这个：

```
Attempting to download metadata from 'http://localhost:8080/NEN_Server' using WS-Metadata Exchange or DIS
    CO.
    Microsoft (R) Service Model Metadata Tool
    [Microsoft (R) Windows (R) Communication Foundation, Version 3.0.4506.2152]
    Copyright (c) Microsoft Corporation. All rights reserved.

    Error: Cannot obtain Metadata from http://localhost:8080/NEN_Server

    If this is a Windows (R) Communication Foundation service to which you have access, please check that you
     have enabled metadata publishing at the specified address. For help enabling metadata publishing, pleas
    e refer to the MSDN documentation at http://go.microsoft.com/fwlink/?LinkId=65455.

    WS-Metadata Exchange Error
        URI: http://localhost:8080/NEN_Server

        Metadata contains insoluble link: "http://localhost:8080/NEN_Server".

        Content Type application / soap + xml; charset = utf-8 is not supported by http://localhost:8080/N
    EN_Server. This can be caused by mismatch of client and service bindings.

        The remote server returned an error: (415) Cannot process the message because the content type 'applica
    tion / soap + xml; charset = utf-8 'was not the expected type' text / xml; charset = utf-8 '..

    HTTP GET Error
        URI: http://localhost:8080/NEN_Server

        There was an error loading "http://localhost:8080/NEN_Server".

        The request failed with the error message:
    -
    <HTML> <HEAD> <STYLE Type="text/css"> # content {FONT-SIZE: 0.7em; PADDING-BOTTOM: 2em; MARGIN-LEFT: 30px} BOD
    Y {MARGIN-TOP: 0px; MARGIN-LEFT: 0px; COLOR: # 000000; FONT-FAMILY: Verdana; BACKGROUND-COLOR: white} P {MARG
    IN-TOP: 0px; MARGIN-BOTTOM: 12px; COLOR: # 000000; FONT-FAMILY: Verdana} PRE {BORDER-RIGHT: # f0f0e0 1px soli
    d; PADDING-RIGHT: 5px; BORDER-TOP: # f0f0e0 1px solid; MARGIN-TOP:-5px; PADDING-LEFT: 5px; FONT-SIZE: 1.2
    em; PADDING-BOTTOM: 5px; BORDER-LEFT: # f0f0e0 1px solid; PADDING-TOP: 5px; BORDER-BOTTOM: # f0f0e0 1px sol
    id; FONT-FAMILY: Courier New; BACKGROUND-COLOR: # e5e5cc}. heading1 {MARGIN-TOP: 0px; PADDING-LEFT: 15px; FO
    NT-WEIGHT: normal; FONT-SIZE: 26px; MARGIN-BOTTOM: 0px; PADDING-BOTTOM: 3px; MARGIN-LEFT:-30px; WIDTH: 1
    00%; COLOR: # ffffff; PADDING-TOP: 10px; FONT-FAMILY: Tahoma; BACKGROUND-COLOR: # 003366}. Intro {MARGIN-LEFT
    :-15px} </ STYLE> <TITLE> Service </ TITLE> </ HEAD> <BODY> <DIV id="content"> <P class="heading1"> Service </ P> <BR/>
    <P Class="intro"> The server was unable to process the request due to an internal error. For more informa
    tion about the error, either turn on IncludeExceptionDetailInFaults (either from ServiceBehaviorAttribute
     or from the <serviceDebug> configuration behavior) on the server in order to send the exception informat
    ion back to the client, or turn on tracing as per the Microsoft. NET Framework SDK documentation and insp
    ect the server trace logs. </ P> </ DIV> </ BODY> </ HTML> 
```

所以我想我必须将应用程序类型设置为

```
application / soap + xml; charset = utf-8 
```

但我不明白怎么做。

这是我创建当前 WCF 主机的方式：

```
private void createHost() {
    /// Create the ServiceHost.
    using (ServiceHost host = new ServiceHost(typeof(NEN), baseAddress)) {
        /// Enable metadata publishing.
        ServiceMetadataBehavior smb = new ServiceMetadataBehavior();
        smb.HttpGetEnabled = true;
        smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;
        host.Description.Behaviors.Add(smb); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:29:07.183

为了发布元数据，您必须添加元数据交换端点

```
/// Create the ServiceHost.
using (ServiceHost host = new ServiceHost(typeof(NEN), baseAddress)) {
    /// Enable metadata publishing.
    ServiceMetadataBehavior smb = new ServiceMetadataBehavior();
    smb.HttpGetEnabled = true;
    smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;
    host.Description.Behaviors.Add(smb);

// Add MEX endpoint
  host.AddServiceEndpoint(
  ServiceMetadataBehavior.MexContractName,
  MetadataExchangeBindings.CreateMexHttpBinding(),
  "mex"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T06:10:21.347

除了添加 ServiceMetadataBehavior，还必须添加元数据交换端点。

# android - 从 android 加速度计获取倾斜角度

> ID：12066422
> 
> 赞同：9
> 
> 时间：2012-08-22T04:44:35.410
> 
> 标签：android, accelerometer, angle, tilt

我有一个实现的类，`SensorEventListener`我想`tilt Angle`使用`Accelerometer`.

我在互联网上寻找示例，但他们使用 `Sensor.TYPE_MAGNETIC_FIELD`.

我相信我的设备没有这个传感器，因为当我进行以下检查
`manager.getSensorList(Sensor.TYPE_ACCELEROMETER).size()`时，我得到**零**。

有没有办法`tilt Angle`只使用 `Sensor.TYPE_ACCELEROMETER`值来获得？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-03-22T11:08:33.757

正如人们建议的那样，您可以使用加速度计和磁传感器来执行此操作。

这是一个包含完整解决方案的博客文章。

[http://www.ahotbrew.com/how-to-detect-forward-and-backward-tilt/](http://www.ahotbrew.com/how-to-detect-forward-and-backward-tilt/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-09T22:20:07.320

您可以使用加速度计获得倾斜读数。如果你设置一个加速度计，你会注意到它包括重力。因此，如果您的手机正面朝上放在桌子上，z 轴将记录在接近 9.81（重力）的某个位置，x 和 y 轴将为 0。当您倾斜手机时，重力将被投射在 x 和/或 y 轴上。因此，您的 x 和 y 值将告诉您手机的倾斜度。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T10:10:26.877

尝试这个，

```
SensorManager sensorManager = (SensorManager) this.getSystemService(SENSOR_SERVICE);        

        final SensorEventListener mEventListener = new SensorEventListener() {
            public void onAccuracyChanged(Sensor sensor, int accuracy) {
            }

            public void onSensorChanged(SensorEvent event) {
                // TODO Auto-generated method stub
                switch (event.sensor.getType()) {
                case Sensor.TYPE_ACCELEROMETER:
                    System.arraycopy(event.values, 0, mValuesAccel, 0, 3);
                    break;

                case Sensor.TYPE_MAGNETIC_FIELD:
                    System.arraycopy(event.values, 0, mValuesMagnet, 0, 3);
                    break;
                }
            };
        };

        setListners(sensorManager, mEventListener);

SensorManager.getRotationMatrix(mRotationMatrix, null, mValuesAccel, mValuesMagnet);
                SensorManager.getOrientation(mRotationMatrix, mValuesOrientation);
                final CharSequence test;
                test = ","+mValuesOrientation[0] +","+mValuesOrientation[1]+ ","+ mValuesOrientation[2]; 
```

# node.js - Mongoose 错误处理集中在一处

> ID：12066426
> 
> 赞同：5
> 
> 时间：2012-08-22T04:45:15.070
> 
> 标签：node.js, error-handling, coffeescript, mongoose

我在[猫鼬文档](http://mongoosejs.com/docs/api.html#model_Model-save)中发现我可以处理我想要的一般错误。所以你可以这样做：

```
Product.on('error', handleError); 
```

但是这个`handleError`方法的签名是什么？我想要这样的东西：

```
handleError = (err) ->
  if err
    console.log err
    throw err 
```

但这不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T04:56:18.417

在 Node 中，`error`事件提供一个参数是标准的，即错误本身。根据我的经验，即使是提供附加参数的少数库也总是将错误作为第一个，以便您可以使用带有签名的函数`function(err)`。

你也可以在 GitHub 上查看源代码；这是发出事件的预保存钩子`error`，当出现问题时，错误作为参数：[https ://github.com/LearnBoost/mongoose/blob/cd8e0ab/lib/document.js#L1140](https://github.com/LearnBoost/mongoose/blob/cd8e0ab/lib/document.js#L1140)

在 JavaScript 中还有一种非常简单的方法可以查看传递给函数的所有参数：

```
f = ->
  console.log(arguments)

f()                     # {}
f(1, "two", {num: 3})   # { '0': 1, '1': 'two', '2': { num: 3 } }
f([1, "two", {num: 3}]) # { '0': [ 1, 'two', { num: 3 } ] } 
```

* * *

所以现在到你的功能不起作用的部分；你的代码到底是怎么读的？这个名字`handleError`在任何方面都不是特别的。您将需要以下两者之一：

**选项1**：定义函数，并将引用传递给事件注册：

```
handleError = (err) ->
  console.log "Got an error", err

Product.on('error', handleError) 
```

**选项2**：定义内联函数：

```
Product.on 'error', (err) ->
  console.log "Got an error", err 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-11-12T10:59:22.153

花了 1 小时寻找简单、常见的地方和最佳方法：

下面的代码在`express.js`：

在`app.js`：

```
// catch 404 and forward to error handler
app.use(function (req, res, next) {
  next(createError(404));
});

// error handler
app.use(function (err, req, res, next) {

  // set locals, only providing error in development
  if (req.app.get('env') === 'development') {
    res.locals.message = err.message;
    res.locals.error = err;
    console.error(err);
  } else {
    res.locals.message = 'Something went wrong. Please try again!';
    res.locals.error = {};
  }

  // render the error page
  res.status(err.status || 500);
  res.render('error');
}); 
```

在`product-controller.js`：

```
let handleSuccess = (req, res, next, msg) => {
  res.send(msg + ' success ');
};

let handleError = (req, res, next, msg, err) => {
  // Create an error and pass it to the next function
  next(new Error(msg + ' error ' + (err.message || '')));
}; 
```

我们还可以将上述通用代码放在一个通用文件中，并导入该文件，以便在其他控制器或任何其他文件中重用上述功能。

# java - javax.naming.CommunicationException：简单绑定失败

> ID：12066430
> 
> 赞同：17
> 
> 时间：2012-08-22T04:45:58.787
> 
> 标签：java, ldap, jndi

尝试使用简单的 LDAP 应用程序连接到 LDAP 服务器时，我收到一条错误消息，提示“简单绑定失败”。我假设这与某种 BIND 有关。我在一个不同应用程序的属性文件中有一个绑定属性，但我不确定如何将该属性传递给该程序。

我需要添加任何进一步的细节吗？

代码

```
import javax.naming.directory.*;   
import javax.naming.*;   
import java.util.Vector;   
import java.util.Enumeration;   
import java.util.Properties;   
public class SearchLDAP {   
    public static void main(String[] args) {   
        String base = "";   

        String filter = "(objectclass=*)";   

        Properties env = new Properties();   

        env.put(DirContext.INITIAL_CONTEXT_FACTORY,"com.sun.jndi.ldap.LdapCtxFactory");   
        env.put(DirContext.PROVIDER_URL,"ldaps://misguided.com.au:343"); 

        try {   

            System.out.println("11");
            DirContext dc = new InitialDirContext(env);
            System.out.println("22");

            SearchControls sc = new SearchControls();   
            sc.setSearchScope(SearchControls.OBJECT_SCOPE);   
            NamingEnumeration ne = null;   

            ne = dc.search(base, filter, sc);   

            while (ne.hasMore()) {   
                SearchResult sr = (SearchResult) ne.next();   
                System.out.println(sr.toString()+"\n");   
            }   
            dc.close();   
        } catch (NamingException nex) {   
            System.err.println("Error: " + nex.getMessage());   
            nex.printStackTrace();
        }   
    }   
} 
```

我得到的错误是

错误

```
11
Error: simple bind failed: XXXX.XXX.XXXX.net:808
javax.naming.CommunicationException: simple bind failed: misguided.com.au:343 [Root exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]
    at com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:215)
    at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2740)
    at com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:316)
    at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:193) 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-08-29T10:07:08.193

这个问题现在有点老了，但很常见。试图简短地解释它：

该问题是由于 JRE 密钥库中缺少 SSL 证书而发生的。

对于 LDAPS 或 HTTPS 连接，java 运行时需要使用相应的 SSL 证书来创建与另一端服务器的安全连接。

要从其密钥库中获取 SSL 证书，应首先将证书安装在 Java 密钥库中。“keytool”命令有助于在 Java Keystore 中导入/导出证书。

```
keytool –import -file adserv.crt -keystore <location to keystore> 
```

当它丢失时，您会得到：

```
"sun.security.provider.certpath.SunCertPathBuilderException: 
unable to find valid certification path to requested target". 
```

因此，您需要做的就是在建立安全连接之前安装证书。

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2017-11-18T13:59:05.330

我也遇到了同样的错误，如下所示。添加修复，如果这对某人有帮助。

我在连接到 LDAP 时从 IBM WAS 8.5 获得。

我必须确保将“密钥库名称”选择为 NodeDefaultKeystore，并且别名为“无”

SSL 证书和密钥管理 > SSL 配置 > NodeDefaultSSLSettings

原因：javax.naming.CommunicationException：简单绑定失败：xxxxxx-xxx.xxxxx.xxx:636 [根异常是 javax.net.ssl.SSLHandshakeException：握手期间远程主机关闭连接]

# php - 相对文件路径中的点是什么意思？

> ID：12066435
> 
> 赞同：16
> 
> 时间：2012-08-22T04:47:31.467
> 
> 标签：php

我是自己编程和学习 php 的新手。我对以下文件的相对路径有两个问题

```
$fp = fopen ("$_SERVER[DOCUMENT_ROOT]/../orders/orders.txt", 'w'); 
```

我对上面代码中的相对路径的问题是：

1.  我的理解是`$_SERVER[DOCUMENT_ROOT]`指向不同服务器上文件结构的根目录，如 htdocs、www 或 public_html。如果我理解正确，请指导？
2.  上面路径中的两个点是什么意思？

谢谢你

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-22T04:52:07.013

`..`表示父目录，因此它向上一层进入文档根目录的同级目录，称为`orders`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-22T04:52:18.560

.. 表示“上一个目录”。

因此，如果您的 DOCUMENT_ROOT 是：

```
/usr/docs/document_root 
```

你的路径可以：

```
/usr/docs/document_root/../orders/orders.txt 
```

由于 .. 的意思是“上升一个”，它实际上变成了：

```
/usr/docs/orders/orders.txt 
```

您可以看到它如何“擦除”“document_root”部分。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-22T04:52:36.177

`..`指*父*文件夹。

所以，如果`$_SERVER[DOCUMENT_ROOT]`碰巧是`/var/www/`，以下将是等价的：

```
"$_SERVER[DOCUMENT_ROOT]/../orders/orders.txt"
"/var/orders.txt" 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-22T04:52:59.170

我喜欢认为这两个点会将您降低一个目录级别，这通常是指父文件夹。想象一下`$_SERVER[DOCUMENT_ROOT]`：`root`

```
root/
  index.php   // You are here

orders/
  orders.txt  // You are reading this file 
```

# html - 样式化 HTML5 输入类型编号

> ID：12066436
> 
> 赞同：45
> 
> 时间：2012-08-22T04:47:35.880
> 
> 标签：html, input, styles, numbers

我正在用 HTML5 编写一个表单。输入之一是`type=number`。我希望输入只显示 2 位数字，但它似乎默认显示至少 5 位数字，这会占用额外的空间。我试过添加`size="2"`属性，没有效果。

这是我正在使用的标签：

```
<input type="number" name="numericInput" size="2" min="0" max="18" value="0" /> 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-06-02T18:12:35.920

HTML5 数字输入没有宽度或大小等样式属性，但您可以使用 CSS 轻松设置样式。

```
input[type="number"] {
   width:50px;
} 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-02-14T12:41:44.490

我一直在寻找相同的解决方案，这对我有用...添加一个内联 css 标签来控制输入的宽度。

例如：

```
<input type="number" min="1" max="5" style="width: 2em;"> 
```

结合 min 和 max 属性，您可以控制输入的宽度。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-08-22T05:33:30.227

不幸的是，在 HTML 5 中，“模式”属性仅链接到 4-5 个属性。但是，如果您愿意改用“文本”字段并稍后转换为数字，这可能会对您有所帮助；

这将输入从 1 个字符（数字）限制为 3 个。

```
<input name=quantity type=text pattern='[0-9]{1,3}'> 
```

CSS 基本上允许通过“竖起大拇指”或“向下”进行确认。

[示例 1](http://jsfiddle.net/dane/xtqHQ/1/)

[示例 2](http://html5pattern.com/#t=Maximum%20Size%20of%20Input&a=Dane%20Balia&d=Validates%20input%20to%20be%20a%20set%20number%20of%20characters&ta=http://danebalia.wordpress.com&p=%5B0-9%5D%7B1,3%7D)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-22T04:55:56.293

只有 4 个特定属性：

1.  value - 值是第一次加载页面时输入框的默认值。无论您使用哪种类型，这都是元素的通用属性。
2.  min - 显然，你的最小值。我应该为我的演示指定最小值为 0，因为负数对于一周内观看的电影数量没有意义。
3.  max - 显然，这表示输入数字的最大数。
4.  step - 步长比例因子，如果未指定此属性，则默认值为 1。

因此，您无法通过关键字控制用户类型的长度。但是浏览器的实现可能会改变。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-05-01T21:13:03.203

您也可以用属性替换`size`属性`style`：
`<input type="number" name="numericInput" style="width: 50px;" min="0" max="18" value="0" />`

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2014-05-01T05:09:18.313

有一种方法：

```
<input type="number" min="0" max="100" step="5"/> 
```

* * *

## 回答 #7

> 赞同：-5
> 
> 时间：2015-04-03T14:00:39.570

```
<input type="number" name="numericInput" size="2" min="0" maxlength="2" value="0" /> 
```

# django - Django WSGI 和 Gunicorn

> ID：12066441
> 
> 赞同：3
> 
> 时间：2012-08-22T04:48:01.540
> 
> 标签：django, gunicorn

这可能是一个非常愚蠢的问题；我正在尝试使用 Gunicorn 部署 Django 应用程序。但是，我刚刚创建了如下所示的 wsgi.py（wsgi.py 在我的根项目文件夹中）：

```
import os

os.environ.setdefault("DJANGO_SETTINGS_MODULE", "myproject.settings")

# This application object is used by any WSGI server configured to use this
# file. This includes Django's development server, if the WSGI_APPLICATION
# setting points here.
from django.core.wsgi import get_wsgi_application
application = get_wsgi_application()

# Apply WSGI middleware here.
# from helloworld.wsgi import HelloWorldApplication
# application = HelloWorldApplication(application) 
```

现在我跑了：

```
python manage.py run_gunicorn 
```

Gunicorn 会自动获取这个 wsgi.py 吗？这是如何运作的？（不确定 wsgi 在做什么）。还是我需要指定一些东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T12:35:43.913

如果您在 Django 设置模块的 INSTALLED_APPS 中列出了 gunicorn，则命令为：

```
python manage.py run_gunicorn 
```

不是你给的命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T11:31:25.357

我有 Gunicorn 来托管我的 django 站点，这是[配置详细信息](https://stackoverflow.com/questions/6753046/setting-up-django-with-nginx-on-ec2/10752504#10752504)，希望对您有所帮助

# .htaccess - 将停放的域及其旧网址重定向到新域

> ID：12066443
> 
> 赞同：0
> 
> 时间：2012-08-22T04:48:32.993
> 
> 标签：.htaccess, mod-rewrite, redirect

我需要一些有关 htaccess 和重定向的帮助。我有一个域 - **sp-gd.com**。在这个域之上，我有 2 个停放的域；**suryaprasetya.com**和**suryaprasetya.com.au**。

我已经为停放的域设置了 301 重定向，因此它将转到**sp-gd.com**。我想要做的是让来自停放域的旧网址重定向到新域。

请注意，我已经切换了主机，它在**sp-gd.com下**

这是我的 htaccess

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d     
RewriteRule ^(.+) - [PT,L]
RewriteRule ^(.+) /index.php
RewriteCond %{HTTP_HOST} ^suryaprasetya\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.suryaprasetya\.com$
RewriteRule ^/?$ "http\:\/\/www\.sp\-gd\.com" [R=301,L]
RewriteCond %{HTTP_HOST} ^suryaprasetya\.com\.au$ [OR] 
RewriteCond %{HTTP_HOST} ^www\.suryaprasetya\.com\.au$
RewriteRule ^/?$ "http\:\/\/www\.sp\-gd\.com" [R=301,L] 
```

试过把

```
RewriteCond %{HTTP_HOST} ^suryaprasetya\.com\.au$ [OR]
RewriteCond %{HTTP_HOST} ^www\.suryaprasetya\.com\.au$
RewriteRule ^/portfolio http://www.sp-gd.com [R=301,L] 
```

它不工作

基本上我想做的是将使用停放域名请求的任何 url 重定向到新域......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:57:39.613

将您的 2`R=301`条规则更改为：

```
RewriteRule ^(.*)$ http://www.sp-gd.com/$1 [R=301,L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T04:59:51.520

奇怪的是，我的 .htaccess 文件中有完全相同的更改：

```
RewriteCond %{HTTP_HOST} ^hostkingonline\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.hostkingonline\.com$
RewriteRule ^/?$ "http\:\/\/www\.hostking\.co\.za" [R=301,L] 
```

他们似乎工作得很好。看不出我的和你的有什么不同。

如果所有其他方法都失败并使用 cPanel 作为您的控制面板，您可以通过停放域图标重定向它并管理重定向选项。

还发现这可能对 apache 更改有用：[Problems redirecting old domain to new with Apache and htaccess](https://stackoverflow.com/questions/1052975/problems-redirecting-old-domain-to-new-with-apache-and-htaccess?rq=1)

# java - 如何在摆动框架中调整数据库表的大小？

> ID：12066451
> 
> 赞同：2
> 
> 时间：2012-08-22T04:49:25.237
> 
> 标签：java, swing, jtable

我正在尝试调整 JTable 中列的宽度。我需要在程序运行时调整它们的大小以查看完整的列标题名称。我想调整显示在摆动框架中的数据库表的大小。

我试过了

```
table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS) 
```

但是我没有得到想要的输出，因为当我使用它时，我有一个水平滚动条来滚动到屏幕外的列。但我希望整个表格的大小大约等于框架的大小。

如何使列尽可能宽以显示所有文本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:54:24.927

> 但我希望整个表格的大小大约等于框架的大小。

```
JTable table = ...;
JFrame frame = ...;
JPanel contentPane = new JPanel( new BorderLayout() );
contentPane.add( new JScrollPane( table ), BorderLayout.CENTER );
frame.setContentPane( contentPane ); 
```

> 如何使列尽可能宽以显示所有文本？

不幸的是， 的最大宽度`JTable`将被限制为 的大小`JFrame`，并且没有机制可以从您`JTable`想要的宽度推送到`JFrame`您`JTable`包含在 中时的`JScrollPane`。

你可以做的是尝试给你`JScrollPane`正确的宽度。我还没有尝试过，但我怀疑给你的滚动窗格与你的表格的首选宽度相同的宽度（当自动调整大小打开时）应该可以解决这个问题（+可能是垂直滚动条的一些额外宽度）。但是请注意，这只有在您允许`JFrame`其中`JScrollPane`包含的宽度也增加时才有效。

# java - 设备连接互联网时如何判断使用的是哪个网络

> ID：12066454
> 
> 赞同：0
> 
> 时间：2012-08-22T04:50:51.963
> 
> 标签：java, blackberry

到目前为止，我已经尝试通过使用`RadioInfo`类来验证哪个网络已打开并检查`RadioInfo.getNumberOfPacketsReceived()\Sent()`. 谁能指出我正确的方向。

对不起拼写和语法，英语不是我的第一语言。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:57:05.903

您需要在 URL 之后附加您的连接类型。

```
public static String getConnectionString() {

String connectionString = null;

// Simulator behaviour is controlled by the USE_MDS_IN_SIMULATOR
// variable.
if (DeviceInfo.isSimulator()) {

    connectionString = ";deviceside=true";
}

// Wifi is the preferred transmission method
else if (WLANInfo.getWLANState() == WLANInfo.WLAN_STATE_CONNECTED) {

    connectionString = ";interface=wifi";
}

// Is the carrier network the only way to connect?
else if ((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_DIRECT) == CoverageInfo.COVERAGE_DIRECT) {

    String carrierUid = getCarrierBIBSUid();

    if (carrierUid == null) {
        // Has carrier coverage, but not BIBS. So use the carrier's TCP
        // network

        connectionString = ";deviceside=true";
    } else {
        // otherwise, use the Uid to construct a valid carrier BIBS
        // request

        connectionString = ";deviceside=false;connectionUID="+carrierUid + ";ConnectionType=mds-public";
    }
}

// Check for an MDS connection instead (BlackBerry Enterprise Server)
else if ((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_MDS) == CoverageInfo.COVERAGE_MDS) {

    connectionString = ";deviceside=false";
}

// If there is no connection available abort to avoid hassling the user
// unnecssarily.
else if (CoverageInfo.getCoverageStatus() == CoverageInfo.COVERAGE_NONE) {
    connectionString = "none";

}

// In theory, all bases are covered by now so this shouldn't be reachable.But hey, just in case ...
else {

    connectionString = ";deviceside=true";
}

return connectionString;

}

/**
 * Looks through the phone's service book for a carrier provided BIBS
 * network
 * 
 * @return The uid used to connect to that network.
 */
 private synchronized static String getCarrierBIBSUid() {
ServiceRecord[] records = ServiceBook.getSB().getRecords();
int currentRecord;

for (currentRecord = 0; currentRecord < records.length; currentRecord++) {
    if (records[currentRecord].getCid().toLowerCase().equals("ippp")) {
        if (records[currentRecord].getName().toLowerCase()
                .indexOf("bibs") >= 0) {
            return records[currentRecord].getUid();
        }
    }
}

return null;
} 
```

一旦你写了这段代码。利用

```
con = (HttpConnection) Connector.open(url + getConnectionString()); 
```

它将确定可用的网络类型。

# git - 如何将 git 存储库克隆到新项目？

> ID：12066455
> 
> 赞同：3
> 
> 时间：2012-08-22T04:50:56.110
> 
> 标签：git

例如，我想使用一些位于 Github 上的框架。有没有办法在没有`.git`结构的情况下克隆存储库？这样我可以添加新的远程 url 并适当地推送到我自己的存储库吗？

**编辑**

这样做的目的是让我可以从 Github 中取出一个框架并将其放入我自己全新的存储库中，而无需从框架的存储库中导入任何 git 数据（如 git 日志）。我知道你可以克隆和删除适当的数据，或者你可以使用 Github 的工具下载一个 tarball，但我只是想知道是否有更简单的方法来做到这一点，比如一个`git clone`，最好是一个命令。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:55:06.313

如果您只想要 repo 的最新内容，而不需要任何 git 信息，那么 tarball 是最好的解决方案，并且可以使用单个命令行完成：

```
curl -L https://github.com/username/reponame/tarball/master | tar zx 
```

或者

```
wget --no-check-certificate https://github.com/username/reponame/tarball/master -O - | tar xz 
```

即使在 Windows 上，您也可以使用来自[GoW (Gnu On Windows)](https://github.com/bmatzelle/gow/wiki)的类 unix 命令来完成。

这将允许您将该新目录添加为您自己的目录之一。

注意：子模块会更好，但这不是您特别要求的。

* * *

OP Steven Lu 在评论中补充道：

> 我想这适用于 Github，但如果 repo 不是由 Github 托管，你会怎么做？

对于任何其他 repo，您​​可以使用命令**`git archive --remote`**，如“[`git archive`带有 bitbucket 的命令](https://stackoverflow.com/questions/12071070/git-archive-command-with-bitbucket/12073669#12073669)”中所示：

例如：

```
git archive --remote=ssh://git@bitbucket.org/username/reponame.git --format=tar --output="file.tar" master 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-22T05:08:41.457

如何在不修改历史记录的情况下进行快速克隆？

```
git clone --depth 1 your_repo_url 
```

来源：[https ://git.wiki.kernel.org/index.php/GitFaq#How_do_I_do_a_quick_clone_without_history_revisions.3F](https://git.wiki.kernel.org/index.php/GitFaq#How_do_I_do_a_quick_clone_without_history_revisions.3F)

# spring - 如何在使用 Spring 和 Hibernate 的项目中通过 PowerMockito 模拟 SessionFactory 或 Session？

> ID：12066457
> 
> 赞同：4
> 
> 时间：2012-08-22T04:51:11.350
> 
> 标签：spring, hibernate, junit, mockito, powermock

我正在开发一个使用 Spring 和 Hibernate 的项目。我有一个包含 SessionFactory 的抽象 DAO。我需要模拟 SessionFactory 或 Session 进行单元测试。但到目前为止我还没有成功。下面是代码。有人有什么想法吗？谢谢你。

这是我的 AbstractDAO

```
public abstract class AbstractDAO {
    protected JdbcTemplate jdbcTemplate;
    protected SessionFactory sessionFactory;
    protected NamedParameterJdbcTemplate namedParameterJdbcTemplate;
    ...

    @Autowired
    public void setSessionFactory(SessionFactory sessionFactory) {
            this.sessionFactory = sessionFactory;
    }} 
```

这是我的 ConcreteDAO

```
public class LoginDAO extends AbstractDAO implements InitializingBean {
    ...
    public User getLoggedinUserByUserid(Long userid){
            log.info("in getLoggedinUserByUserid"); 
            User result = null;
            Session session = sessionFactory.openSession();
            try {
            session.beginTransaction();
            result = (User) session.get(User.class, userid);
            session.getTransaction().rollback();
            session.close();
            } catch (Exception e) {
            log.error(e,e);
            session.getTransaction().rollback();
            session.close();
            }

    return result;
     }
...} 
```

这是我的测试课

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = { "LoginDAOTest-context.xml" })
@PrepareForTest({SessionFactory.class, Session.class, Transaction.class})
public class LoginDAOTest2 extends BaseDAO {
    private static final Logger log = Logger.getLogger(LoginDAOTest2.class);
    @Rule
public PowerMockRule rule = new PowerMockRule();
private LoginDAO loginDAO = new LoginDAO();

private SessionFactory mockedSessionFactory;

private Session mockedSession;

private Transaction mockedTransaction;
@Autowired
        public void setSessionFactory(SessionFactory sessionFactoryCore) {
                mockedSessionFactory =  PowerMockito.mock( sessionFactoryCore.getClass());
                mockedSession = PowerMockito.mock(Session.class);
                PowerMockito.doReturn(mockedSession).when(mockedSessionFactory).openSession();
                PowerMockito.doReturn(mockedTransaction).when(mockedSession).beginTransaction();
  loginDAO.setSessionFactory(this.mockedSessionFactory);
        }
@Test
     public void shouldRollbackInGetLoggedinUserByUseridWhenSessionThrowsException() {
              // Given
            PowerMockito.doThrow(new Exception()).when(mockedSession).get(User.class, 12L);
            // When
            loginDAO.getLoggedinUserByUserid(12L);
            // Then
            verify(mockedTransaction, times(1)).rollback();
    }
} 
```

这是junit的结果。

```
 org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.aeon.ps.dao.LoginDAOTest2': Injection of autowired dependencies failed; nested exception is java.lang.NoClassDefFoundError: org/mockito/internal/MockitoInvocationHandler
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:374)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:110)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:321)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:290)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: java.lang.NoClassDefFoundError: org/mockito/internal/MockitoInvocationHandler
    at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:138)
    at com.aeon.ps.dao.LoginDAOTest2.setSessionFactory(LoginDAOTest2.java:61)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:586)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)
    ... 26 more
Caused by: java.lang.ClassNotFoundException: org.mockito.internal.MockitoInvocationHandler
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    ... 35 more 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-22T07:37:40.580

为什么不这样做：

```
@Before
public void setUp() {
    mockedSessionFactory =  Mockito.mock(SessionFactory.class);
    mockedSession = Mockito.mock(Session.class);
    mockedTransaction = Mockito.mock(Transaction.class);
    Mockito.when(mockedSessionFactory.openSession()).thenReturn(mockedSession);
    Mockito.when(mockedSession.beginTransaction()).thenReturn(mockedTransaction);
    loginDAO.setSessionFactory(this.mockedSessionFactory);
} 
```

代替 ：

```
@Autowired
public void setSessionFactory(SessionFactory sessionFactoryCore) {
    mockedSessionFactory =  PowerMockito.mock( sessionFactoryCore.getClass());
    mockedSession = PowerMockito.mock(Session.class);
    PowerMockito.doReturn(mockedSession).when(mockedSessionFactory).openSession();
    PowerMockito.doReturn(mockedTransaction).when(mockedSession).beginTransaction();
    loginDAO.setSessionFactory(this.mockedSessionFactory);
} 
```

此外，它允许您不使用 powermock。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T08:37:47.130

有趣的部分在这里：

```
Caused by: java.lang.NoClassDefFoundError: org/mockito/internal/MockitoInvocationHandler
    at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:138)
    at com.aeon.ps.dao.LoginDAOTest2.setSessionFactory(LoginDAOTest2.java:61)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:586)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)
    ... 26 more 
```

这意味着 powermock 正在使用您正在使用的 mockito 发行版中不可用的内部类。

根据我收集到的信息，您正在使用 Mockito 1.9.5-rc1，以及其他一些最近的 Powermock 版本。到目前为止，Johan 还没有发布更新版本的 Powermock 来处理 Mockito 1.9.5-rc1 中所做的更改。

Mockito 中的这些重构更改是为了帮助引入 MockMaker API，它允许第三方提供他自己的模拟工厂、字节码引擎或创建模拟。请参阅此处的文档：http: [//docs.mockito.googlecode.com/hg/1.9.5-rc1/org/mockito/Mockito.html](http://docs.mockito.googlecode.com/hg/1.9.5-rc1/org/mockito/Mockito.html)

所以现在，如果你使用 Powermock，你应该使用 Mockito 1.9.0。

# wpf - 如何将 Photoshop 图层效果（“内阴影”、“外发光”、“斜面和浮雕”、“颜色叠加”、“渐变叠加”）转换为可编辑的 xaml 文件？

> ID：12066466
> 
> 赞同：2
> 
> 时间：2012-08-22T04:52:12.227
> 
> 标签：wpf, xaml, expression-blend-4

我尝试在 Expression blend 4 中导入“.psd”文件。但是没有办法获得 ayer 效果（“Inner Shadow”，“Outer Glow”，“Bevel and Emboss”，“Color Overlay”，“Gradient Overlay”）为**可编辑**。是否有任何其他方法可以将这些图层样式转换为可编辑代码（xaml 文件）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:56:20.103

获得这些效果的一种方法是使用 PixelShaders。有几个内置效果可用，但您指的是所有效果。

所以没有简单的、开箱即用的方法来导入这些，因为您首先需要效果。

制作效果的一个好方法是使用[Shazzam](http://shazzam-tool.com/default.html)

创建效果后，您可能仍需要手动编辑 xaml 以将效果应用到 Blend 中的图层。

# javascript - 鼠标悬停，鼠标悬停在窗口中无法正常工作

> ID：12066473
> 
> 赞同：0
> 
> 时间：2012-08-22T04:52:57.653
> 
> 标签：javascript, html

这个问题有点复杂和罗嗦。

我有一个父窗口，它会弹出一个子窗口。他们有一些重叠的区域。在父窗口中，有一个处理 mouseover 和 mouseout 事件的 div。当子窗口弹出时，它覆盖了父div的一部分。

下面，鼠标移动到div（鼠标悬停有效），点击弹出子窗口。现在将鼠标移动到子窗口。此刻，我希望 mouseout 能够 div，但不是。我猜系统仍然认为鼠标在 div 内，甚至被子窗口覆盖。

有什么办法可以解决这个问题吗？但是这些元素的相对位置不应该改变。感谢您的意见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:14:51.043

如果一切都失败了，请将您的代码从 div 的 mouseout 事件移动到弹出窗口的 mouseover 事件。不过，首先，我会确保 mouseout 事件会触发，例如当您移出 div 的边界时。

# html - ie中的径向渐变css问题

> ID：12066476
> 
> 赞同：0
> 
> 时间：2012-08-22T04:53:00.417
> 
> 标签：html, css

我已将以下 css 用于径向渐变。

```
background-image: -moz-radial-gradient(50% 0 , rgba(0, 0, 0, 0.35), rgba(255, 255, 255, 0)), -moz-radial-gradient(50% 100% , rgba(0, 0, 0, 0.3), rgba(255, 255, 255, 0));
   background-image:  -ms-linear-radial-gradient(50% 0 , rgba(0, 0, 0, 0.60), rgba(255, 255, 255, 0)), -ms-linear-radial-gradient(50% 100% , rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0));
   background-image: -o-linear-radial-gradient(50% 0 , rgba(0, 0, 0, 0.60), rgba(255, 255, 255, 0)), -o-linear-radial-gradient(50% 100% , rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0));
    background-image: -webkit-radial-gradient(50% 0 , rgba(0, 0, 0, 0.60), rgba(255, 255, 255, 0)), -webkit-radial-gradient(50% 100% , rgba(0, 0, 0, 0.4), rgba(255, 255, 255, 0)); 
```

它在 Firefox 和 google chrome 中运行良好。我在 IE 中也需要同样的东西。我从 google 提取了以下 css 以在 IE 中工作

```
background: linear-gradient(to bottom, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */ 
```

但我不知道如何更改百分比和颜色以匹配上述 CSS。有什么帮助吗？

[http://jsfiddle.net/tKjap/](http://jsfiddle.net/tKjap/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:29:45.843

您可以`Gradient CSS`根据您的要求获得，也可以`Gradient CSS`根据您的颜色要求进行制作。

[http://www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:13:50.093

IE 支持`rgba`颜色吗？如果是这样，那么只需将`hex`复制代码中的`rgba`颜色替换为颜色即可。

前任。）

```
background: linear-gradient(to bottom, rgba(0, 0, 0, 0.35) 0%, rgba(255, 255, 255, 0) 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='rgba(0, 0, 0, 0.35)', endColorstr='rgba(255, 255, 255, 0)',GradientType=0 ); /* IE6-9 */ 
```

一些阅读：

*   [http://kimili.com/journal/rgba-hsla-css-generator-for-internet-explorer/](http://kimili.com/journal/rgba-hsla-css-generator-for-internet-explorer/)
*   [http://kilianvalkhof.com/2010/css-xhtml/how-to-use-rgba-in-ie/](http://kilianvalkhof.com/2010/css-xhtml/how-to-use-rgba-in-ie/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:31:32.033

这应该可以帮助你 [http://davidwalsh.name/css-gradients](http://davidwalsh.name/css-gradients) http://www.webdesignerwall.com/demo/gradient-box.html [http://coding.smashingmagazine.com/2010/04/28/css3-互联网浏览器的解决方案/](http://coding.smashingmagazine.com/2010/04/28/css3-solutions-for-internet-explorer/)

# android - 关于android中的滑动视图和子视图？

> ID：12066479
> 
> 赞同：0
> 
> 时间：2012-08-22T04:53:13.897
> 
> 标签：android, view, android-viewpager, swipe, viewpage

我想创建一个项目，其形式为：

```
 View 1:

    View 2: (oriental:Horizontal)
      View 2.1:(child of View 2)
      View 2.2:(child of View 2)

    View 3: (oriental:Horizontal)
      View 3.1:(child of View 3)
      View 3.2:(child of View 3)
      View 3.3:(child of View 3)

    Horizontally Oriented. 
```

我想使用 Swipe 来`Slider View`遵循 order:`V1 -> V2.1 -> V2.2 -> V3.1 -> V3.2...(swipe right)`和`V1 <- V2.1 <- V2.1 <- V3.1 <- V3.2 (swipe left)`.

我曾经使用过`ViewPages(android.support.v4)`：

```

      1 代表 V1 + V2 + V3
      1 代表 V2.1 + V2.2
      1 代表 V3.1 + V3.2 + V3.3

```

但我只能在之间滑动`V1 - V2 - V3`（不能随意滑动：|）。

我该如何解决这个问题？

或者有什么方法可以在不使用 ViewPager 的情况下解决它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T18:39:14.697

这里的问题是 viewpager 一次包含一个“VIEW”，所以，如果你在 viewpager 中添加一个 viewpager 或类似的东西，当你向左/向右滚动时，滚动会带你从第一个视图到“更大”浏览器的第二个视图。

如果您需要在 viewpager 中滚动，我建议您只使用垂直滚动，因为这样您就不会在视图之间出现交叉行为。

为什么不将所有视图添加到主 viewpager 中呢？

# jquery - wordpress插件上的jQuery悬停放大

> ID：12066480
> 
> 赞同：1
> 
> 时间：2012-08-22T04:53:17.357
> 
> 标签：jquery, wordpress

我有一个名为 Videogall 的 Wordpress 插件，它为点击时在 Shadowbox 中打开的 Youtube 视频创建一个缩略图库。当您将鼠标悬停在图库中的缩略图上时，以下代码会导致所有*未*悬停的缩略图变得更加透明。

```
 jQuery('.videogall-thumb').hover(function() {
    var currThumb = jQuery(this).attr('id');
    jQuery('.videogall-thumb[id!="' + currThumb +'"]').stop().animate({opacity: 0.3}, 800);
}, function() {
    jQuery('.videogall-thumb').stop().animate({opacity: 1.0}, 800);
}
); 
```

我可以添加什么以使悬停的图像也放大，例如悬停脉冲（http://jquery.malsup.com/hoverpulse/）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T04:56:37.357

大概是这样的？

```
 jQuery('.videogall-thumb').hover(function() {
    var currThumb = jQuery(this).attr('id');
    jQuery('.videogall-thumb[id!="' + currThumb +'"]').stop().animate({opacity: 0.3}, 800);

    //added lines
    jQuery(this).css('width', jQuery(this).css('width') * 1.5);
    jQuery(this).css('height', jQuery(this).css('height') * 1.5);

}, function() {
    jQuery('.videogall-thumb').stop().animate({opacity: 1.0}, 800);
}
); 
```

这假设缩略图具有在 CSS 中指定的宽度和高度（由您或制作它们的插件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T17:06:22.053

这行代码匹配没有被悬停的缩略图的 id：

```
jQuery('.videogall-thumb[id!="' + currThumb +'"]').stop().animate({opacity: 0.3}, 800); 
```

应该改为

```
jQuery('.videogall-thumb[id="' + currThumb +'"]').stop().animate({opacity: 0.3}, 800);

id=currThumb instead of id!=currThumb 
```

希望有帮助。

# java - 数组引用表达式未完全计算

> ID：12066481
> 
> 赞同：1
> 
> 时间：2012-08-22T04:53:33.277
> 
> 标签：java, arrays, post-increment

各位大侠能否请教我以下几点：

片段1：

```
public class ArrayKoPo {

    public static int[] getArray() {
        return null;
    }

    public static void main(String args[]) {
        int i = 0;
        try {
            int j = getArray()[i++];
        } catch (Exception e) {
            System.out.println(i); //prints 1 <---- This one I expected.
        }
    }
} 
```

片段 2：

```
public class ArrayKoPo {

    public static int[][] getArray() {
        return null;
    }

    public static void main(String args[]) {
        int i = 0;
        try {
            int j = getArray()[i++][i++];
        } catch (Exception e) {
            System.out.println(i); //still prints 1 <---- This one I don't understand. I thought 2 will be printed.
        }
    }
} 
```

为什么变量 i 在第二个代码块中没有增加两次？

我错过了什么？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:09:04.243

我相信它会发生如下情况：

1.  程序运行到 getArray()：返回 null。
2.  然后程序移动到方括号，评估参数，并尝试进入数组。（我不熟悉的Java魔法发生在这里）
3.  尝试失败并在查看第二个索引运算符**之前**生成异常。

如果我们要以另一种方式放置您的第二个片段，它应该等效于以下内容（从而生成与第一个片段相同的结果）：

```
public class ArrayKoPo {

    public static int[][] getArray() {
        return null;
    }

    public static void main(String args[]) {
        int i = 0;
        try {
            int[] j = getArray()[i++];
            int k = j[i++];
        } catch (Exception e) {
            System.out.println(i);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:11:01.127

正如[我在评论](https://stackoverflow.com/questions/12066481/array-reference-expression-not-completely-evaluated#comment16116833_12066481)中所说...

首先，重要的是要注意 Java 从左到右计算。我们发现`getArray()[i++]`尝试访问`null`被视为数组的元素，从而产生一个`NullPointerException`. 此异常在评估`getArray()[i++][i++]`外部数组访问表达式之前中断表达式的评估（其索引计算为`i++`），因此第二个增量永远不会发生:-)

* * *

这符合[Java 语言规范的 §15.13](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.13)，它描述了数组访问表达式。

> ```
> ArrayAccess:
>     ExpressionName [ Expression ]
>     PrimaryNoNewArray [ Expression ] 
> ```

表达式评估的分步过程在[§15.13.1 数组访问的运行时评估中](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.13.1)明确说明：

> 使用以下过程评估数组访问表达式：
> 
> *   首先，评估数组引用表达式。如果这个求值突然完成，那么数组访问也会因为同样的原因而突然完成，并且索引表达式不会被求值。
>     
>     
> *   否则，将评估索引表达式。如果此评估突然完成，则阵列访问会出于同样的原因而突然完成。
>     
>     
> *   否则，如果数组引用表达式的值为`null`，则`NullPointerException`抛出 a。
>     
>     
> *   否则，数组引用表达式的值确实引用了一个数组。如果索引表达式的值小于零，或者大于或等于数组的`length`，则`ArrayIndexOutOfBoundsException`抛出 an。
>     
>     
> *   否则，数组访问的结果是数组中由索引表达式的值选择的类型为 T 的变量。
>     
>     
>     
>     * * *

现在，为了理解我们的结果，您必须意识到 Java 多维数组本质上是*锯齿状*的，并且实现为**数组的数组**；an`int[][]`只是一个数组`int[]`。

手头的真正表达式涉及*两个*数组访问表达式，即索引表达式为的外部数组访问表达式`i++`和数组引用表达式本身是数组访问表达式，即引用表达式为`getArray()`且索引表达式为的数组访问表达式`i++`。

遵循评估规则，要评估表达式`getArray()[i++][i++]`，我们首先必须评估数组引用表达式，即`getArray()[i++]`。事实证明，这本身就是一个数组访问和表达式，我们必须应用相同的规则。评估`getArray()`结果`null`。在到达此时抛出a 的步骤之前，索引表达式`i++`也完全完成（递增）。由于外部数组访问表达式的数组引用表达式突然结束，所以它也突然结束，因此外部访问表达式的索引表达式 ( ) 不被计算，意思只增加一次。`i``NullPointerException``i++``i`

...现在你知道了;-)

# asp.net - 电子表格，如 asp.net 和动态视图

> ID：12066485
> 
> 赞同：1
> 
> 时间：2012-08-22T04:54:03.893
> 
> 标签：asp.net, database, spreadsheet

我想创建一个应用程序，用户可以从数据库表中选择字段并通过这些数据创建电子表格。是否有任何控制或样本来实施它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:28:19.917

获取表的模式因数据库而异。
无论您使用哪个数据库，都可以轻松获取列列表并让用户选择要显示的列。

要创建一个 spearsheet，您应该查看这些控件[ASP.NET Real World Controls](http://aspnetrealworldcontr.codeplex.com/)

这些自定义控件使您能够在 asp.net 中创建类似于网格的 excel。它是开源的，允许您根据项目的需要扩展它们。

# c# - 如何将Javascript注册到CS文件？

> ID：12066486
> 
> 赞同：1
> 
> 时间：2012-08-22T04:54:09.930
> 
> 标签：c#, javascript, asp.net, json

我有一个 aspx.cs 页面，其中有一个需要注册 Javascript 文件和方法的方法。有人可以指导我如何在其中注册 JS 文件和方法。

aspx.cs

```
protected void Page_PreRender(object sender, EventArgs e)
{
    ScriptManager.RegisterClientScriptBlock(this, this.GetType(),
        "TaskControlJSON", "<script language='javascript' 
        type='text/javascript'>" + objLoginJson + "</script>"
        , false);
} 
```

需要注册到cs文件的Javascript文件。

```
function GetLoginJson(strLoginJson) {
    if (strLoginJson != '' && strLoginJson != undefined) {
        var objLoginJson = eval('"+strLoginJson+"');
    }
    if (objLoginJson.LoginSuccess == "1") {

    }
    else if (objLoginJson.LoginSuccess == "0") {

        if (objLoginJson.txtUserName != '' && objLoginJson.txtUserName != '') 
        {
            $('#txtUserName').attr("class", objLoginJson.txtUserName);
        }
        if (objLoginJson.txtPassword != '' && objLoginJson.txtPassword != '') 
        {
            $('#txtPassword').attr("class", objLoginJson.txtPassword);
        }
        if (objLoginJson.txtTestTokenNumber1 != '' 
             && objLoginJson.txtTestTokenNumber1 != '') 
        {
            $('#txtTestTokenNumber1').attr("class"
               , objLoginJson.txtTestTokenNumber1);
        }
        if (objLoginJson.txtTestTokenNumber2 != '' 
             && objLoginJson.txtTestTokenNumber2 != '') 
        {
            $('#txtTestTokenNumber2').attr("class",
               objLoginJson.txtTestTokenNumber2);
        }
        if (objLoginJson.txtTestTokenNumber3 != '' 
            && objLoginJson.txtTestTokenNumber3 != '') 
        {
            $('#txtTestTokenNumber3').attr("class", 
               objLoginJson.txtTestTokenNumber3);
        }
        if (objLoginJson.txtTestTokenNumber4 != '' 
             && objLoginJson.txtTestTokenNumber4 != '') 
        {
            $('#txtTestTokenNumber4').attr("class",
                objLoginJson.txtTestTokenNumber4);
        }
    }
    return objLoginJson;
} 
```

如果用户提供了不正确的登录凭据，此方法将返回一个 Json 字符串。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:10:22.093

由于您的 javascript 代码块相当大，因此最好将其保存在单独的 js 文件中。

您可以使用[ScriptManager.RegisterClientScriptInclude](http://msdn.microsoft.com/en-us/library/bb337005)方法来实现这一点。

```
ScriptManager.RegisterClientScriptInclude(
            this,
            typeof(Page),
            "LoginScript",
            ResolveClientUrl("~/scripts/login.js")); 
```

你还没有指定如何使用你的 js 函数`GetLoginJson`，所以我只是提供一个参考。您的 js 文件可以通过以下方式调用它：

```
$(document).ready(function(){
    $("#loginButton").click(function(){
       var strLoginJson = "";//form the string as you need
       GetLoginJson(strLoginJson);
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T09:41:47.217

好的，我做了一些调整并让它工作。

```
protected void Page_PreRender(object sender, EventArgs e)
{
    if (strLoginJson != string.Empty)
    {
        ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "LoginControlJSON", "<script language='javascript' type='text/javascript'>GetLoginJson(" + strLoginJson + ");</script>", false);
    }
} 
```

# ruby-on-rails - 如何创建一个 cron 作业来运行 ruby 脚本？

> ID：12066489
> 
> 赞同：16
> 
> 时间：2012-08-22T04:54:31.047
> 
> 标签：ruby-on-rails, ruby, crontab

我想创建一个 cron 作业来运行 ruby​​ 脚本。这就是我放在 crontab 中的内容。

```
2 * * * * ruby /home/mark/project/script.rb >> /home/mark/cronOutput.txt 
```

但它没有运行。我认为当 cron 以 root 身份运行时，环境加载存在一些问题。

请帮忙。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-22T05:17:42.050

如果您的 ruby​​ 位于非标准路径中，那么我个人喜欢将我的 ruby​​ 调用包装在 shell 脚本中，从而确保正确设置我的 ruby​​ 程序所需的所有路径等，并在 crontab 中安排脚本。做类似的事情

```
2 * * * * /home/mark/project/ruby_wrapper_sh >> /home/mark/cronOutput.txt 2>&1 
```

你的 /home/mark/project/ruby_wrapper_sh 应该是这样的

```
#!/bin/bash

. ~mark/.bash_profile 
`ruby /home/mark/project/script.rb` 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-01-15T15:40:03.443

如果您使用的是 RVM，您可以简单地执行以下操作：

```
rvm cron setup 
```

参考： [https ://coderwall.com/p/vhv8aw/getting-ruby-scripts-working-with-bundler-rvm-and-cron](https://coderwall.com/p/vhv8aw/getting-ruby-scripts-working-with-bundler-rvm-and-cron)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-22T05:14:15.177

检查任何时候（[https://github.com/javan/whenever）gem](https://github.com/javan/whenever)以在 Rails 中使用 cron 作业

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-02-28T03:17:14.820

# 在centos上工作

在你的终端执行 `# which ruby` 找到你的红宝石路径

示例输出

**/usr/bin/红宝石**

然后您可以使用 crontab -e 编辑您的 cronjob

`* * * * * **/usr/bin/ruby** /home/mark/project/script.rb`

并保存，这只是在我的centos服务器上工作。您可以在编辑 cronjob 之前先使用此命令测试代码

`#/usr/bin/ruby /home/mark/project/script.rb`

它应该首先工作，然后你可以穿上你的 crontab

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-01-28T12:54:23.873

感谢@saihgala 的解决方案，但我对这种方式几乎没有修改。我将 `#!/usr/bin/env ruby`sting 添加到我的 ruby​​ 可执行文件的开头。

添加此文件的权限，启动 crontab 文件编辑`crontab -e`。

添加`*/1 * * * 0-5 /path/to/executable.rb>>/path/to/output.txt`然后它对我有用。

# windows-phone-7.1 - 当应用程序在初始屏幕上时，不显示 Coding4Fun MessagePrompt

> ID：12066492
> 
> 赞同：0
> 
> 时间：2012-08-22T04:54:40.653
> 
> 标签：windows-phone-7.1, messagebox

我在我的应用程序中使用 coding4fun 消息提示向用户显示带有自定义按钮的消息框。当应用程序在前台并且有一条消息要显示时，它可以正常工作。但是，当我退出应用程序并重新启动它时，在显示应用程序的启动屏幕之后和显示应用程序的主屏幕之前会发生一系列事情。在此过程中，应用程序会检查是否有任何升级可用，如果有升级，则必须在初始屏幕上向用户显示消息框。当我以前使用 xna 框架消息框时，它运行良好，但由于市场提交过程，我将 xna 框架消息框替换为 coding4fun 消息提示，并且在显示初始屏幕时消息提示不显示。这是 Coding4Fun 消息提示的工作原理还是我做错了什么？

这是我在代码中实现消息提示的方式..

```
 public MainPage()
    {
     System.Windows.Deployment.Current.Dispatcher.BeginInvoke(() =>
      {
        DataManager.getInstance().setUIListener(this);
        if (checkUpgradeStatus())
        {
            return;
        }
      });
    }

    private bool checkUpgradeStatus()
    {
        try
        {
            string flag = "1";
            if (!Utils.isNullString(flag))
            {
                DataManager.getInstance().CheckForUpgrade();
                if (flag.Equals(CacheManager.MAJOR_UPGRADE))
                {
                    customizedMessageBox(Utils.APP_UPGRADE_CONFIRM, CustomizedMessageBox.APP_UPGRADE_CONFIRM_TITLE, AppResources.APP_UPGRADE_CONFIRM);
                    DataManager.getInstance().UpdateBadge(true);
                    return true;
                }
                else if (flag.Equals(CacheManager.MINOR_UPGRADE))
                {
                    CacheManager.getInstance().writeDataToConfigFile(CacheManager.APP_UPGRADE_STATUS, "0");
                    customizedMessageBox(Utils.APP_MINOR_UPGRADE_CONFIRM, CustomizedMessageBox.APP_MINOR_UPGRADE_CONFIRM_TITLE, AppResources.APP_UPGRADE_MINOR_CONFIRM);
                    DataManager.getInstance().UpdateBadge(true);
                    return false;
                }
            }
            CacheManager.getInstance().writeDataToConfigFile(CacheManager.APP_UPGRADE_STATUS, "0");
            return false;
        }
        catch (Exception ex)
        {
            Logger.log(TAG, ":checkUpgradeStatus():" + ex.Message);
            return false;
        }
    }

    public void customizedMessageBox(int messageboxtype, string title, string text)
    {
        try
        {
            switch (messageboxtype)
                {
                Case 6:
                 messageBox = new MessagePrompt();
                                Button btnMinorUpgrade = new Button();
                                btnMinorUpgrade.Content = "Upgrade";
                                messageBox.ActionPopUpButtons.Add(btnMinorUpgrade);
                                btnMinorUpgrade.Click += new RoutedEventHandler(btnMinorUpgrade_Click);
                                Button btnMinorUpgradeCancel = new Button();
                                btnMinorUpgradeCancel.Content = "Cancel";
                                messageBox.ActionPopUpButtons.Add(btnMinorUpgradeCancel);
                                btnMinorUpgradeCancel.Click += new RoutedEventHandler(btnMinorUpgradeCancel_Click);
                                messageBox.Show();
                break;
                }
        }
        catch (Exception ex)
        {
          Logger.log(TAG, ":customizedMessageBox():" + ex.Message);
        }

    } 
```

注意*：- 出于测试目的，我将标志的值硬编码为“1”。所有的答案和建议表示赞赏。

谢谢

# random - 亚马逊如何生成其订单号？

> ID：12066494
> 
> 赞同：7
> 
> 时间：2012-08-22T04:54:49.000
> 
> 标签：random, e-commerce, amazon, guid, uuid

注意：我已经阅读过较早的问题，例如[客户编号、订单号的最佳格式是什么？](https://stackoverflow.com/questions/178572/what-is-the-best-format-for-a-customer-number-order-number)，但是我的问题更具体一点。

生成伪随机数不久就会遇到“生日问题”。例如，如果我使用 27 位字段作为我的订单号，在 15000 次输入后，冲突的机会增加到 50%。

我想知道像亚马逊这样的大型电子商务企业是否以任何其他方式生成其订单号 - 例如：

*   预先生成整个集合并从中随机选择（几百 GB 的数据库）
*   使用从特定种子编号开始的字典式“next_permutation”
*   日期、用户 ID 等参数的 MD5 或 SHA-1 哈希，截断为 14 位
*   ETC

我想要的只是一个特定宽度的非重复整数（不需要非常随机，除非混淆订单总数）。关于如何实现这一点的任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-11-02T11:59:03.500

建议以相反格式的日期开始，然后从 1 开始，然后是校验（或随机）数字。如果您每天可能永远不会超过 100 个订单，则需要添加两位数加上一个校验/随机数。

年份只需要最后两位，可能只包括最后一位，具体取决于您保留订单记录的时间：通常 7 年左右就足够了，这意味着 2009 年的记录（以 9 开​​头）可以在 2018 年删除准备在 2019 年再次使用订单号。您可以将 mmdd 用于接下来的 4 位数字，或者简单地对一年中的天数进行编号并仅使用 3 位数字 - 这取决于您希望该数字对人类的友好程度。也可以只省略月份中的某一天并在每个月初重新开始序号，而不是每天。

今天是 2017 年 11 月 2 日，假设今天是第 16 号订单，您的订单号是 71102168（其中 8 是校验位或随机数字）。如果您可能有多达但不超过一千，您将需要一个额外的数字，例如：711020168。为了避免限制自己的位数，您可能更喜欢使用连字符：71102-168 ...如果您愿意，可以在校验/随机数字之前包含另一个连字符：71102-16-8。

如果您有多个处理订单的区域，您可能希望在日期的开头或之后包含一个站点编号，以便您在每个站点使用序列号 - 例如，站点 5 可能是：5-71102-168， 71102-5-168 或 711025168。同样，如果您不使用连字符，您需要评估是否需要多达十个、一百个或一千个（等）可能的仓库编号。我希望这有帮助！

# ssrs-2008 - 如何用表达式加粗/取消加粗 tablix 文本？

> ID：12066497
> 
> 赞同：4
> 
> 时间：2012-08-22T04:55:09.603
> 
> 标签：ssrs-2008, reporting-services

我在 tablix 控件的文本框中有一个表达式：

```
="Rectification: " + Fields!MoreInfo.Value 
```

我想做的是将“纠正：”一词以粗体显示，其余文本不加粗体。不幸的是，我不知道该怎么做。

我尝试了以下方法（根据 Google 的建议）：

```
="<b>Rectification:</b> " + Fields!MoreInfo.Value 
```

但是，这会以其文字形式显示标签。粗体上下文上的表达式似乎也适用于整个文本框，而不能仅适用于其中的某些部分。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-22T05:38:22.610

我相信您需要使用占位符来完成此操作。

[这是](http://www.sqlchick.com/entries/2010/10/31/using-different-formats-within-a-single-textbox-in-ssrs.html)一个很好的教程。

# iphone - 如何将数据保存到sqlite数据库的不同表中

> ID：12066499
> 
> 赞同：0
> 
> 时间：2012-08-22T04:55:44.737
> 
> 标签：iphone, ios, sqlite

我是 ios 中 sqlite 的新手。因此，为了将数据保存到数据库的不同表中，我必须首先和下一步做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:51:35.023

我在我的各种应用程序中使用了 Sqlite 数据库，它对我来说很好用。您必须按照以下步骤将数据插入 Sqlite 数据库的表中...

1.首先你需要创建你的数据库......我希望你已经创建并插入到你的项目中，并添加了链接框架 libsqlite3.0.dylib 并在你的类中导入这些。2.替换你的插入方法写这段代码...

```
+(void)insertRecord:(NSString *)dbPath record:(NSMutableArray*)dataArray{
    @try{
        sqlite3_stmt *insertStmnt;
        if (sqlite3_open([dbPath UTF8String], &database) == SQLITE_OK){

            for(int i=0; i<[dataArray count]; i++){
                id record=[dataArray objectAtIndex:i];
                NSString *insertQuery = [NSString stringWithFormat:@"INSERT INTO Table_Name (\"Column1\",\"Column2\",\"Column3\",\"Column4\",) VALUES('%@','%@','%@','%@')",[[record objectForKey:@"col1"]  stringByReplacingOccurrencesOfString:@"'" withString:@"''"],[[record objectForKey:@"col2"] stringByReplacingOccurrencesOfString:@"'" withString:@"''"],[[record objectForKey:@"col3"]  stringByReplacingOccurrencesOfString:@"'" withString:@"''"],[[record objectForKey:@"col4"]  stringByReplacingOccurrencesOfString:@"'" withString:@"''"]];

                const char *sql = [insertQuery cStringUsingEncoding:NSUTF8StringEncoding];

                if(sqlite3_prepare_v2(database, sql, -1, &insertStmnt, NULL) == SQLITE_OK){

                }else{

                }
                if(SQLITE_DONE != sqlite3_step(insertStmnt)){

                }

            }
        }
    }@catch (NSException *r) {
        NSLog(@"UU %@",r);
    } 
} 
```

其中 record 是字典数组，其中包含您要在表中插入的值或从用户那里获取的值。stringByReplacingOccurrencesOfString：上述方法是必要的，因为如果任何用户输入单个数据，则会导致您的应用程序崩溃。（如果您不接受用户输入，您可以将其删除）

是的，您也可以按照这些链接更好地理解.. 1.http://www.techotopia.com/index.php/IOS_4_iPhone_Database_Implementation_using_SQLite 2.SQLite 教程

希望它对你有用，如果你有任何疑问，可以回复..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T07:58:08.220

如果你使用 SQLite，那么就去获取[FMDB](https://github.com/ccgus/fmdb)，因为它会让你的生活更轻松。上面的所有代码都可以缩减为线程安全调用，例如（在我的脑海中，所以可能没有准备好编译）。

```
[queue inDatabase:^(FMDatabase *db) {
        [db executeUpdateWithFormat:@"INSERT OR REPLACE INTO table (f1,f2) VALUES (%@, %@);", field1, field2];

        DLog(@"insert error: %@", [db lastErrorMessage]);
    }]; 
```

# c - 这个 C 代码有什么问题？

> ID：12066503
> 
> 赞同：2
> 
> 时间：2012-08-22T04:56:30.083
> 
> 标签：c, header, struct

我写了一个关于结构的示例程序。我写了 3 个源文件和 1 个头文件。这是程序的完整源代码：

主.c：

```
#include <stdio.h>
#include <stdlib.h>
#include "fish.h"

/*
struct fish
{
    const char *name;
    const char *species;
    int teeth;
    int age;
};
*/

/*
void catalog(struct fish f)
{
    printf("%s is a %s with %i teeth. He is %i.",
           f.name, f.species, f.teeth, f.age);
}

void label(struct fish f)
{
    printf("Name: %s\n", f.name);
    printf("Species: %s\n", f.species);
    printf("Teeth: %i\n", f.teeth);
    printf("Age: %i\n", f.age);
}
*/

int main()
{
    struct fish snappy = {"Snappy", "Piranha", 69, 4};
    catalog(snappy);
    label(snappy);

    return 0;
} 
```

标签.c：

```
#include "fish.h"

void label(struct fish f)
{
    printf("Name: %s\n", f.name);
    printf("Species: %s\n", f.species);
    printf("Teeth: %i\n", f.teeth);
    printf("Age: %i\n", f.age);
} 
```

目录.c：

```
#include "fish.h"

void catalog(struct fish f)
{
    printf("%s is a %s with %i teeth. He is %i.",
           f.name, f.species, f.teeth, f.age);
} 
```

我还写了一个makefile：

```
fish.o: main.c label.c catalog.c fish.h
    gcc -c main.c label.c catalog.c
fish: fish.o
    gcc fish.o -o fish 
```

我在cmd中编译程序：

```
make fish 
```

它说：

```
gcc -c main.c label.c catalog.c
label.c: In function 'label':
label.c:5:5: warning: incompatible implicit declaration of built-in function 'printf'    [enabled by default]
catalog.c: In function 'catalog':
catalog.c:5:5: warning: incompatible implicit declaration of built-in function 'printf' [enabled by default]
cc   fish.o   -o fish
cc.exe: error: fish.o: No such file or directory
cc.exe: fatal error: no input files
compilation terminated.
make: *** [fish] Error 1 
```

如果我删除 main.c 中的注释并只编译它，它可以工作，但是当我像上面提到的那样分成小块时它不起作用。

怎么了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T04:58:36.263

您需要将所有*.c*文件一起编译，以便可以在*main.c中使用**label.c*和*catalog.c*中定义的函数。

 *您可以使用 gcc 一步完成：

```
gcc main.c label.c catalog.c -o fish 
```

这将编译每个单独的源文件并生成[*目标*文件](http://en.wikipedia.org/wiki/Object_file)，这些文件将链接在一起以生成您的可执行文件。您看到的错误发生在链接阶段，当 gcc 试图找到`catalog`and`label`函数时。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T05:04:47.757

`gcc main.c -o fish`只编译`main.c`. `main.c`不知道`label.c`。它只知道它必须调用一些名为“label”的函数，该函数在别处定义。然后，链接器查看所有生成的目标文件，并将它们“链接”到单个可执行文件中：

```
gcc main.c -c
gcc label.c -c
gcc catalog.c -c
ld main.o label.o catalog.o -o fish 
```

这是显式版本

```
gcc main.c label.c catalog.c -o fish 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-22T05:31:10.333

此链接规则：

```
fish: fish.o
    gcc fish.o -o fish 
```

适用于`fish`从单个目标文件`fish.o`（可能是从 编译的`fish.c`）构建程序。

你需要一个不同的规则：

```
OBJECTS = main.o label.o catalog.o

fish: ${OBJECTS}
    ${CC} -o $@ ${OBJECTS} 
```

如果需要，您可以在链接行中适当添加`${CFLAGS}`and`${LDFLAGS}`和`${LDLIBS}`（或`${LDLIBES}`），但对于简单的程序，我展示的内容就足够了。

您不必告诉`make`如何转换`main.c`为`main.o`; 它已经知道了。它将使用如下规则：

```
%.o: %.c
    ${CC} -c ${CFLAGS} $< 
```

`.o`从匹配文件创建`.c`文件。（这是 GNU Make 表示法；POSIX`make`和其他经典版本`make`使用另一种但松散等效的表示法`.c.o:`代替`%.o: %.c`.）

如果您不介意每次都编译所有源代码，则可以使用类似的规则：

```
SOURCES = main.c label.c catalog.c

fish: ${OBJECTS}
    ${CC} ${CFLAGS} -o $@ ${SOURCES} 
```

这一次，`${CFLAGS}`实际上是强制性的（尽管在你的基本示例程序中没有它你就可以逃脱）。

* * *

请注意，这`make`很挑剔；命令行等命令行`${CC}`必须以`TAB`;开头 空格不行。*

# ios - iOS 应用程序作为礼物赠送是否使用金钱？

> ID：12066507
> 
> 赞同：0
> 
> 时间：2012-08-22T04:56:48.603
> 
> 标签：ios, app-store

嗨，我想在 App Store 中将我的 iOS 应用程序作为礼物送给我的朋友。

我是这个应用程序的开发者，所以当我在应用商店里把我的应用程序作为礼物送给我的朋友时，它是在用我的钱吗？

我的应用程序作为礼物赠送是要花钱的吗？

对不起，如果我的问题打扰了你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T04:59:31.690

您可以从 iTunes Connect 获取促销代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:20:00.740

送礼是你可以用任何应用程序做的事情，不仅仅是你的，是的，它确实要花钱。要为您的应用程序生成促销代码，请登录 iTunes Connect 并在管理应用程序部分选择您的应用程序。然后只需选择您的应用程序版本，就会有一个促销代码链接。

此外，请在再次在本网站上发布之前阅读常见问题解答。

# video - 如何在 CQ5.3 中插入 视频？

> ID：12066508
> 
> 赞同：1
> 
> 时间：2012-08-22T04:56:53.970
> 
> 标签：video, components, aem

刚从CQ5开始。我知道只有 cq5.4 以后才有视频组件。

那么如何在 CQ5.3 中插入​​视频呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T05:43:48.347

您可能希望创建一个组件并在您的 JSP 中包含带有参数的目标代码，具体取决于您想要支持的视频类型。示例代码 -

```
<object width="200px" height="200px" id="your_video_id" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0">
<param name="movie" value="http://www.msnbc.msn.com/id/32545640" />
<param name="FlashVars" value="launch=<%=msnbc.getMSNBCVideoID()%>&amp;width=<%=msnbc.getWidth()%>&amp;height=<%=msnbc.getHeight()%>" />
<param name="allowScriptAccess" value="always" />
<param name="allowFullScreen" value="true" />
<param name="wmode" value="transparent" />
<embed name="msnbc61868e" src="http://www.msnbc.msn.com/id/32545640" width="<%=msnbc.getWidth()%>" height="<%=msnbc.getHeight()%>" FlashVars="launch=<%=msnbc.getMSNBCVideoID()%>&amp;width=<%=msnbc.getWidth()%>&amp;height=<%=msnbc.getHeight()%>" allowscriptaccess="always" allowFullScreen="true" wmode="transparent" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash">
</embed>
</object> 
```

# c# - 用颜色代码编写 csv 文件

> ID：12066511
> 
> 赞同：4
> 
> 时间：2012-08-22T04:57:11.360
> 
> 标签：c#, sql

我正在从 Datatable 编写 csv 文件。在下面检查我的代码

```
 public static void SaveDataTableToCsvFile(string AbsolutePathAndFileName, DataTable TheDataTable, params string[] Options)
    {
        //variables
        string separator;
        if (Options.Length > 0)
        {
            separator = Options[0];
        }
        else
        {
            separator = ""; //default
        }
        string quote = "";

        FileInfo info = new FileInfo(AbsolutePathAndFileName);

        if (IsFileLocked(info))
        {
            MessageBox.Show("File is in use, please close the file");
            return;
        }
        //create CSV file
        StreamWriter sw = new StreamWriter(AbsolutePathAndFileName);

        //write header line
        int iColCount = TheDataTable.Columns.Count;
        for (int i = 0; i < iColCount; i++)
        {
            sw.Write(TheDataTable.Columns[i]);
            if (i < iColCount - 1)
            {
                sw.Write(separator);
            }
        }
        sw.Write(sw.NewLine);

        //write rows
        foreach (DataRow dr in TheDataTable.Rows)
        {
            for (int i = 0; i < iColCount; i++)
            {
                if (!Convert.IsDBNull(dr[i]))
                {
                    string data = dr[i].ToString();
                    data = data.Replace("\"", "\\\"").Replace(",", " ");
                    sw.Write(quote + data + quote);
                }
                if (i < iColCount - 1)
                {
                    sw.Write(separator);
                }
            }
            sw.Write(sw.NewLine);

        }
        sw.Close();
    } 
```

代码对我有用，但我需要在 csv 的某些单元格中添加颜色代码。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-22T04:59:12.547

[CSV](https://www.rfc-editor.org/rfc/rfc4180)是一种没有任何格式的纯数据格式。毕竟是纯文本文件。所以不，没有办法添加颜色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:15:34.163

您可能希望使用某些外部实用程序输出 .xls（或等效文件）而不是 .csv 或将 csv 转换为 .xls 以使颜色编码成为可能

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:03:27.753

乔伊是绝对正确的。

但是，如果您的情况允许您输出 XLSX 而不是 CSV，那么[EPPlus](http://epplus.codeplex.com/)可能是您的解决方案。

例如

```
using (ExcelPackage ep = new ExcelPackage(AbsolutePathAndFileName))
{
    ExcelWorksheet worksheet = ep.Workbook.Worksheets.Add("Worksheet1");
    worksheet.Cells["A1"].LoadFromDataTable(TheDataTable, true); 
    worksheet.Cells["F4"].BackgroundColor.SetColor(Color.Red);
    ep.Save();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T05:01:56.583

CSV（逗号分隔值）文件是一个文本文件。如果不将其更改为另一种文件格式（例如 RTF），则无法为文件添加颜色。

# c - 变量可用于两个函数而无需在 C 中进行全局设置

> ID：12066513
> 
> 赞同：1
> 
> 时间：2012-08-22T04:57:16.523
> 
> 标签：c, scope

有没有办法让两个函数共享一个变量而不使其成为全局变量并且不能传递它？或者有没有办法在使用时将变量传递给函数`signal()`？

具体来说，我有一个 main() 打开文件并对其进行处理并保持打开一段时间。有一个小函数在`fd`处理完文件后接受（和其他一些信息）main() 调用。

我现在正试图通过捕捉致命信号并在需要时处理事情来使事情变得更加强大。尽管我无法弄清楚如何在不使`fd`所有其他需要的变量全局化的情况下做到这一点。我宁愿避免的事情。

```
(void)signal(SIGINT, die); 
```

死

```
static void die(int sig)
{
    endTrip(fd, &tripID); //Quickly writes a footer and fcloses
    exit(sig);
} 
```

有没有比让一切都全球化更好的解决方案？

### 编辑

这样的事情可能吗

```
static void die(int sig, FILE *fd)
{
    const FILE *local_fd;
    if(sig == NULL)
        {local_fd = fd;}
    else
    {
        endTrip(local_fd, &tripID); //Quickly writes a footer and fcloses 
        exit(sig);
    }
}

main() {
  ...
  // When i open new file let die know.
  die(NULL, fd);
  ...
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:19:26.830

信号处理程序已经是全局状态。如果您使用的是一个，那么您已经过了不归路，并且您已经在使用一个全局变量，尽管它通常隐藏在内核空间中（信号处理程序指针）。此时，为参数添加另一个全局变量并完成它并没有什么大不了的。

话虽如此，您可能应该考虑您的整个设计是否有效。从信号处理程序中使用 stdio 是**无效**的，除非在很难保证的非常特殊的情况下。在您的情况下，由于被信号处理程序中断的代码似乎在同`FILE`一流上运行，因此从信号处理程序中触摸它几乎肯定是无效的。

此外，您可能会考虑如果您的程序是或曾经适应多线程会发生什么。整个过程只有一组信号处理程序，但多个文件可能正在不同的线程中写入。

有很多不同的方法可以解决这样的问题，但最简单和最便携的方法是打开一个管道返回给自己，让信号处理程序只向管道写入一个字节。然后，您的主循环代码可以检测管道读取端的输入（例如，使用`select`or `poll`）并在信号处理程序上下文之外，在它自己的上下文中对其进行操作，在该上下文中它可以访问自己的局部变量等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:24:55.117

```
static void die(int sig, FILE *fd) { 
    static const FILE *local_fd;
    if(sig == NULL) {
        local_fd = fd;
    }
    ... 
```

我假设您想在下一次函数调用中继续使用 local_fd，这就是为什么您必须将其声明为**static const FILE ***。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:06:32.810

我没有看到另一种使所有变量全局化的解决方案，让事情变得更干净，也许你可以创建一个包含所有变量的结构。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T05:15:58.110

在单个文件中的两个或多个函数之间共享变量的常规方法（不使其成为全局以便在其他文件中可见）是将其变为`static`变量。请注意，“fd”通常用作“文件描述符”的缩写（即一个`int`）；您通常使用缩写“fp”来表示 a `FILE *`：

```
static FILE *local_fp;
static void die(int signum);

int main(void)
{
    local_fp = fopen("...");
    signal(SIGINT, die);
    ...
    ...use local_fp...
    fclose(local_fp);
    local_fp = 0;
    ...
    return(EXIT_SUCCESS);
}

static void die(int signum)
{
    if (local_fp != 0)
        fclose(local_fp);
    exit(EXIT_FAILURE);
} 
```

这显示了两个函数，它们都能够访问变量`local_fp`。缺少在两个函数之间传递值或指针作为参数，或者使用共享内存的各种技巧最终使用变量（全局、静态或作为参数传递给函数）来访问共享内存，没有办法一对共享对变量的访问的函数。

我不太确定你的功能是什么，我也不太确定信号如何融入混合物中。

请注意，您应该`int main(void)`明确说明返回类型。C99 不允许您省略返回类型（C11 也不允许）。

# jquery-ui - jQuery UI 模态对话框覆盖

> ID：12066524
> 
> 赞同：1
> 
> 时间：2012-08-22T04:58:30.857
> 
> 标签：jquery-ui, modal-dialog

当显示 jQuery UI 模态对话框时，模态窗口下的所有内容都变灰 - 我假设覆盖整个窗口区域的部分透明 div 用于此目的。

在我正在创建的应用程序中，窗口有两个主要区域 - 工作区和底部的状态栏，除其他外，我使用它来显示错误消息。我遇到的问题是 - 如果我显示由模式对话框启动的服务器端交互的错误消息，它们会显得“乏味”。有什么方法可以让半透明的模态对话框覆盖覆盖窗口底部的状态栏，这样就不会发生这种情况？

我非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:14:51.090

模态对话框创建一个`div.ui-widget-overlay`设置为高 z-index 的对话框。您只需将`z-index`状态栏的 设置为更多，具体取决于您最初创建对话框的方式。

# java - 在 install4j 中自定义安装目录

> ID：12066525
> 
> 赞同：3
> 
> 时间：2012-08-22T04:58:32.597
> 
> 标签：java, directory, install4j

我正在 install4j 中构建一个设置，它将为营销机构的每个客户运行。有一个安装程序，但用户可以多次运行它，在安装时指定不同的 clientId 值。最后，我想得到一个这样的目录结构：

在 Mac 上：

```
/Applications/MYPRODUCTNAME-clientID1/
/Applications/MYPRODUCTNAME-clientID2/
/Applications/MYPRODUCTNAME-clientID3/ 
```

在 Windows 上：

```
/Program Files/MYPRODUCTNAME-clientID1/
/Program Files/MYPRODUCTNAME-clientID2/
/Program Files/MYPRODUCTNAME-clientID3/ 
```

在安装时输入 ID 的位置，在独立安装程序中运行。事先不知道 ID - 我无法构建与 ID 一样多的安装程序。理想情况下，在 Mac 上，我还希望更改启动器文件的名称，以便在 Spotlight 搜索中轻松将其与其他文件区分开来。我一直在玩 Directory Resolver - 运气不好，尤其是在 Mac 上，每次尝试更改其目录结构时都会产生损坏的启动器。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T19:09:22.557

您可以通过调用更改安装目录

```
context.setInstallationDirectory(...); 
```

在“运行脚本”操作或 install4j 中的任何代码片段中。

install4j 不直接支持在运行时更改启动器名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-23T03:15:43.163

我最终做了这样的事情：

激活位置窗口时：

```
systemInstallPath = context.getVariable( "sys.programFilesDir" ); // if Windows
if( systemInstallPath == null || systemInstallPath.isEmpty() ) // assume Mac
  systemInstallPath = "/Applications";
context.setInstallationDirectory( new File( systemInstallPath ) ); 
```

然后在激活安装窗口时：

```
final Boolean confirmedUpdate = context.getBooleanVariable("sys.confirmedUpdateInstallation");
if( confirmedUpdate == null || !confirmedUpdate ) {
  final File originalInstallDir = context.getInstallationDirectory();
  final String clientId = ( String )context.getVariable( "clientId" );
  final File clientInstallDir = new File( originalInstallDir, "MYPRODUCTNAME-" + clientId );
  context.setInstallationDirectory( clientInstallDir );
} 
```

那成功了。

# css - 在 Twitter Bootstrap 中更改选择标签的宽度

> ID：12066528
> 
> 赞同：44
> 
> 时间：2012-08-22T04:58:50.390
> 
> 标签：css, twitter-bootstrap, twitter-bootstrap-2

使用 Twitter 引导程序时，如何更改选择字段的宽度？添加`input-xxlarge`CSS 类似乎不起作用（就像在其他表单元素上一样），所以我的下拉列表中的元素目前被切断了。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2012-12-06T23:51:11.813

这对我来说可以减少选择标签的宽度；

```
<select id ="Select1" class="input-small"> 
```

您可以使用这些类中的任何一个；

```
class="input-small"

class="input-medium"

class="input-large"

class="input-xlarge"

class="input-xxlarge" 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-07-05T06:03:09.860

我通过在自定义样式表中创建一个新的 css 类来解决问题，如下所示：

```
.selectwidthauto
{
     width:auto !important;
} 
```

然后手动将此类应用于我的所有选择元素，例如：

```
<select id="State" class="selectwidthauto">
...
</select> 
```

或者使用 jQuery：

```
$('select').addClass('selectwidthauto'); 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2014-03-02T17:02:22.547

在 bootstrap 3 中，建议您通过将输入包装在`col-**-#`div 标签中来调整输入大小。似乎大多数东西都有 100% 的宽度，尤其是`.form-control`元素。

[https://getbootstrap.com/docs/3.3/css/#forms-control-sizes](https://getbootstrap.com/docs/3.3/css/#forms-control-sizes)

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2015-08-17T11:42:44.237

你可以使用这样的东西

```
<div class="row">
     <div class="col-xs-2">
       <select id="info_type" class="form-control">
             <option>College</option>
             <option>Exam</option>
       </select>
     </div>
</div> 
```

[http://getbootstrap.com/css/#column-sizing](http://getbootstrap.com/css/#column-sizing)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-03-11T09:39:19.073

对我来说， *Pawan 的*css 类结合**display: inline-block**（所以选择不会堆叠）效果最好。我把它包装在一个媒体查询中，所以它保持移动友好：

```
@media (min-width: $screen-xs) {

    .selectwidthauto {
         width:auto !important;
         display: inline-block;
    }

} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-22T05:41:24.870

单独测试，`<select class=input-xxlarge>`将元素的内容宽度设置为 530px。（由于填充不同，元素的总宽度略小于`<input class=input-xxlarge>`。如果这是一个问题，请根据需要在自己的样式表中设置填充。）

因此，如果它不起作用，则您自己的样式表中的某些设置或可能在使用该元素的其他设置时会阻止该效果。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-08-31T13:17:16.813

使用引导程序使用类 input-md = medium，input-lg = large，有关更多信息，请参阅[https://getbootstrap.com/docs/3.3/css/#forms-control-sizes](https://getbootstrap.com/docs/3.3/css/#forms-control-sizes)

# java - 如何将数据库表的自动递增列值绑定到文本框？

> ID：12066530
> 
> 赞同：1
> 
> 时间：2012-08-22T04:59:01.060
> 
> 标签：java, mysql

我有一个 MySql 表，其中有一个名为的列，该列`payslip_no`设置为`AUTO_INCREMENT`. 我想在页面加载时将此自动递增的值设置为文本框的值。

另一种方法是我试图以编程方式增加这个数字而不将列设置为“AUTO_INCREMENT”。以下是代码：

```
public void get_payslip_no()
{

int n1 =0;
try
{
rs2=st2.executeQuery("select max(payslip_no) from tbl_add_payroll");
if(rs2.next())
{
n1=rs2.getInt("payslip_no");
n1=n1+1;
String n2 = Integer.toString(n1);
txt_payslip_no.setText(n2);
System.out.println(n2);                   
}
}//try
catch(SQLException e2)
{
 JOptionPane.showMessageDialog(this,"Payroll-Serial no Storing Error!!!","Serial No Error",JOptionPane.INFORMATION_MESSAGE);    
}//catch
} 
```

此代码引发 NullPointerException，因为当前数据库为空。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:33:46.843

你可以试试这个答案.. :)

```
int no=101;
    int no1;
try
        {
           dbStatement = con.createStatement();
           dbResult= dbStatement.executeQuery("select payslip_no from tbl_add_payroll ORDER BY  payslip_no  DESC LIMIT 1");

          if(dbResult.next()==false)
          {
               jTextField3.setText(String.valueOf(no));

          }
         else
          {         
            dbResult= dbStatement.executeQuery("select payslip_no from tbl_add_payroll ORDER BY payslip_no DESC LIMIT 1");      
                    while(dbResult.next())

                           {
                           deptno=dbResult.getInt("payslip_no");

                             }

                             no1=deptno+1;
                             jTextField3.setText(String.valueOf(no1));
          }

     }catch(Exception E)
     {

     } 
```

# c# - LINQ to Entities 无法识别方法 'System.String ToString(Int32)' 方法，并且此方法无法转换为存储表达式

> ID：12066532
> 
> 赞同：3
> 
> 时间：2012-08-22T04:59:12.327
> 
> 标签：c#, linq, entity-framework, linq-to-entities

使用 MVC3 VS2010 和 SQL Server 2008 Express 我正在尝试基于两个 SQL Server 表进行过滤并显示结果。一张表是客户表，另一张是代理表。它们在客户表中具有共同的 ClientAgentID 和在代理表中的 ID。代理记录并且应该能够看到分配给代理的客户端。如果您对执行此操作的最佳方法有任何想法，请帮助我。到目前为止，我正在尝试在客户端控制器中进行过滤，这就是我所拥有的，但我得到的消息是在标题中。

```
 public ActionResult Index()
    {
        //This displays all the clients not filtered by the Agent ID number
        //var clientItems = db.MVCInternetApplicationPkg;
        //return View(clientItems.ToList());

        //Trying to filter by the agent name given in the login page then finding 
        //the agent ID

        var getAgentID = from a in db.AgentsPkg
                            where a.AgentLogin == User.Identity.Name
                            select a.ID;

        var clientItems = from r in db.MVCInternetApplicationPkg
                          where Convert.ToString(r.ClientAgentID)
                                == Convert.ToString(getAgentID)
                          select r;
        //THIS IS THE LINE OF CODE THAT SHOWS THE ERROR MESSAGE
        return View(clientItems.ToList());
    } 
```

这是我在 Music Store 之后的第一个 MVC 项目，所以愿意学习并接受任何帮助或建议。干杯

这是我最终使用的解决方案。如果这是一个好方法，任何反馈将不胜感激

```
 public ActionResult Index()
    {

        var innerJoint = from agents in db.AgentsPkg where agents.AgentLogin == User.Identity.Name
                         join clients in db.MVCInternetApplicationPkg on agents.ID equals clients.ClientAgentID
                         select clients;

        return View(innerJoint.ToList());
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:18:31.240

**您不想在 linq 语句中使用 Convert ！！！！！！**

```
 string clientagentid=Convert.ToString(r.ClientAgentID);
    string getagentid= Convert.ToString(getAgentID);

var clientItems = (from r in db.MVCInternetApplicationPkg
                          where clientagentid==getagentid
                          select r).ToList();
 return View(clientItems); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:39:02.553

**一、错误原因：**

正如其他人所说，这是由于`Convert.ToString()`在您的`where`子句中使用了，Linq 无法将其转换为 SQL。我希望您的原始查询仅通过删除这两个`Convert.ToString()`函数即可工作。

**2.“....最好的方法”：**

好吧，更好的方法.... :)

在 Entity Framework 中，在相关实体之间导航的简单方法是通过[Navigation Properties](http://msdn.microsoft.com/en-us/library/bb738520%28v=vs.100%29)。如果您的方法是“数据库优先”，则应在您的 EDMX 中为您生成这些。[如果您的方法是“代码优先”，这里](http://msdn.microsoft.com/en-us/data/jj591620)有一篇很好的文章描述了如何设置它。

无论哪种方式，我都希望你的`Client`类有一个导航属性`Agent`（即类似于`Order`你提到的 MvcMusicStore 示例中的 OrderDetail 属性）：

```
public virtual Agents Agent { get; set; } 
```

然后您的方法变得非常简单（即类似于 MvcMusicStore 中的许多控制器方法）...不需要`Joins`或需要多个语句：

```
var clients = db.MVCInternetApplicationPkg.Where(c => c.Agent.AgentLogin == User.Identity.Name); 
return View(clients.ToList()); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-04-29T22:41:43.237

答案是使用**SqlFunctions.StringConvert**（使用 'decimal' 或 'double' 但 'int' 不起作用）见示例

```
using System.Data.Objects.SqlClient ;

var clientItems = from r in db.MVCInternetApplicationPkg
                      where SqlFunctions.StringConvert((double ), r.ClientAgentID)
                            == SqlFunctions.StringConvert((decimal) , getAgentID)
                      select r; 
```

有关详细信息，请参阅[http://msdn.microsoft.com/en-us/library/dd466166.aspx](http://msdn.microsoft.com/en-us/library/dd466166.aspx)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-22T05:31:33.017

发生的事情是 Linq 提供程序（Linq to Entities）正在尝试将您的查询转换为 SQL，并且没有用于 Convert 的映射。这些错误有时难以解读，但线索在“String.ToString()”行中。还要意识到，由于延迟执行，错误不会出现，直到`clientItems`迭代，在你的情况下调用`toList()`in`return View(clientItems.ToList());`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-22T05:36:40.493

LINQ 无法将 Convert.ToInt32() 映射到等效的 T-SQL 中，因此会引发异常。正如 COLD TOLD 所说，您必须转换值，然后在查询中使用转换后的值。

请检查：[为什么 LINQ to Entities 不能识别某些方法？](https://stackoverflow.com/a/2466575/1547740)

# python - 子类不继承父类

> ID：12066541
> 
> 赞同：7
> 
> 时间：2012-08-22T05:00:14.667
> 
> 标签：python, inheritance, attributes, parent-child

我的代码有问题。我正在尝试创建一个继承父类的属性和方法的子类，但它不起作用。这是我到目前为止所拥有的：

```
class Employee(object): 
  def __init__(self, emp, name, seat):
    self.emp = emp
    self.name = name
    self.seat = seat 
```

下面的代码块有问题 - 子类。

我必须重新创建`__init__`吗？以及如何为子类创建新属性。从阅读问题来看，听起来`__init__`子类将覆盖父类 - 如果我调用它来定义另一个属性，这是真的吗？

```
class Manager(Employee): 
  def __init__(self, reports):
    self.reports = reports
    reports = [] 
    reports.append(self.name) #getting an error that name isn't an attribute. Why? 

  def totalreports(self):
    return reports 
```

我希望 Employee 类中的名称出现在报告列表中。

例如，如果我有：

```
emp_1 = Employee('345', 'Big Bird', '22 A')
emp_2 = Employee('234', 'Bert Ernie', '21 B')

mgr_3 = Manager('212', 'Count Dracula', '10 C')

print mgr_3.totalreports() 
```

我想要`reports = ['Big Bird', 'Bert Ernie']`但它不起作用

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-22T05:03:39.033

您从未调用过父类的`__init__`函数，这是定义这些属性的地方：

```
class Manager(Employee): 
  def __init__(self, reports):
    super(Manager, self).__init__()
    self.reports = reports 
```

为此，您必须修改`Employee`类的`__init__`函数并为参数提供默认值：

```
class Employee(object): 
  def __init__(self, emp=None, name=None, seat=None):
    self.emp = emp
    self.name = name
    self.seat = seat 
```

此外，此代码根本不起作用：

```
 def totalreports(self):
    return reports 
```

`reports`的范围仅在`__init__`函数内，因此它是未定义的。您必须使用`self.reports`而不是`reports`.

至于你的最后一个问题，你的结构不会真的让你很好地做到这一点。我会创建一个第三类来处理员工和经理：

```
class Business(object):
  def __init__(self, name):
    self.name = name
    self.employees = []
    self.managers = []

  def employee_names(self);
    return [employee.name for employee in self.employees] 
```

您必须通过将员工附加到适当的列表对象来将员工添加到业务中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:05:20.697

您需要在适当的位置运行超类的**init ()，并捕获（子类未知的）参数并将它们传递：**

```
class Manager(Employee): 
  def __init__(self, reports, *args, **kwargs):
    self.reports = reports
    reports = [] 
    super(Manager, self).__init__(*args, **kwargs)
    reports.append(self.name) #getting an error that name isn't an attribute. Why? 
```

# sockets - TCP socket 不会停止从 Android 客户端接收数据，得到一系列 '\0'

> ID：12066545
> 
> 赞同：0
> 
> 时间：2012-08-22T05:00:42.873
> 
> 标签：sockets, tcp

当我的 Android 客户端连接到服务器（用 C# 编写）时，服务器将收到一系列 '\0'。即使我关闭 Android 应用程序或断开手机，服务器仍会收到此数据。

我用 C# 客户端测试了我的服务器，服务器上没有问题。

这是我在 C# 中的服务器代码：

```
private void listen_Btn_Click(object sender, EventArgs e)
{
    try
    {
        _socket = new Socket(AddressFamily.InterNetwork,
                                  SocketType.Stream,
                                  ProtocolType.Tcp);
        IPEndPoint ipLocal = new IPEndPoint(IPAddress.Any, port);
        // Bind to local IP Address...
        _socket.Bind(ipLocal);
        // Start listening...
        _socket.Listen(4);
        // Create the call back for any client connections...
        _socket.BeginAccept(new AsyncCallback(OnClientConnect), null);
    }
    catch (Exception ee)
    {
        MessageBox.Show(ee.Message);
    }

}

// This is the call back function, which will be invoked when a client is connected
public void OnClientConnect(IAsyncResult asyn)
{
    try
    {
        Socket workerSocket = _socket.EndAccept(asyn);
        _socket.BeginAccept(new AsyncCallback(OnClientConnect), null);
        Interlocked.Increment(ref m_clientCount);
        m_workerSocketList.Add(workerSocket);
        clientsName.Add("$unknown$");
        if (listBox1.InvokeRequired)
        {
            listBox1.Invoke(new MethodInvoker(delegate { listBox1.Items.Clear(); foreach (string name in clientsName) listBox1.Items.Add(name); }));
        }
        ArrayList rthreadParams = new ArrayList();
        rthreadParams.Add(workerSocket);
        rthreadParams.Add(m_clientCount);
        Thread rThread = new Thread(new ParameterizedThreadStart(WaitForData));
        rThread.Start(rthreadParams);
        rThread.Join();

    }
    catch (ObjectDisposedException)
    {
        System.Diagnostics.Debugger.Log(0, "1", "\n OnClientConnection: Socket has been closed\n");
    }
    catch (SocketException se)
    {
        MessageBox.Show(se.Message);
    }
}

public class SocketPacket
{
    public Socket m_currentSocket;
    public int m_clientNumber;
    public SocketPacket(Socket socket, int clientNumber)
    {
        m_currentSocket = socket;
        m_clientNumber = clientNumber;
    }
    public byte[] dataBuffer = new byte[1024];
}
public void WaitForData(object param)
{
    try
    {
        Socket soc = (Socket)((ArrayList)param)[0];
        int clientNumber = (int)((ArrayList)param)[1];
        if (pfnWorkerCallBack == null)
        {
            pfnWorkerCallBack = new AsyncCallback(OnDataReceived);
        }
        SocketPacket theSocPkt = new SocketPacket(soc, clientNumber);

        soc.BeginReceive(theSocPkt.dataBuffer, 0, theSocPkt.dataBuffer.Length,
                         SocketFlags.None, pfnWorkerCallBack, theSocPkt);
    }
    catch (SocketException se)
    {
        MessageBox.Show(se.Message);
    }
}
public void OnDataReceived(IAsyncResult asyn)
{
    SocketPacket socketData = (SocketPacket)asyn.AsyncState;
    try
    {
        int iRx = socketData.m_currentSocket.EndReceive(asyn);
        char[] chars = new char[iRx + 1];
        System.Text.Decoder d = System.Text.Encoding.UTF8.GetDecoder();
        d.GetChars(socketData.dataBuffer, 0, iRx, chars, 0);
        String szData = new String(chars);
        szData = szData.Replace("\0", "");

        // doing some work with szData

        ArrayList t_Params = new ArrayList();
        t_Params.Add(socketData.m_currentSocket);
        t_Params.Add(socketData.m_clientNumber);
        WaitForData(t_Params);

    }
    catch (Exception ee)
    {

    }
} 
```

这是Android客户端代码：

```
 try
    {
        InetSocketAddress sa = new InetSocketAddress("192.168.50.11", 2001);
        Socket socket = new Socket();
        socket.connect(sa,4000);

        OutputStream dos = socket.getOutputStream();
        PrintWriter out = new PrintWriter(dos);
        out.write("hello");
        out.flush();
        out.close();
        socket.close();
    }
    catch (Exception e)
    {
        Log.d(appTag, e.toString());
    } 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T11:01:15.787

我使用以下代码在 python 中创建了另一个客户端：

```
import socket
s = socket.socket(socket.AF_INET,socket.SOC_STREAM)
s.connect(("127.0.0.1",2001))
s.send("hello!") 
```

服务器没有这样的问题。只有当我在 android 中创建套接字时，才会出现该问题。

问题出在哪里？？

# python - 使用 pandas.read_csv 设置标题

> ID：12066550
> 
> 赞同：7
> 
> 时间：2012-08-22T05:01:39.437
> 
> 标签：python, pandas

我有一个 csv 文件，我使用 pandas API 将其读入数据框。我打算设置自己的标题而不是默认的第一行。（我也去掉了一些行。）我怎样才能最好地做到这一点？

我尝试了以下方法，但这并没有按预期工作：

```
header_row=['col1','col2','col3','col4', 'col1', 'col2'] # note the header has duplicate column values
df = pandas.read_csv(csv_file, skiprows=[0,1,2,3,4,5], names=header_row) 
```

这会产生以下错误 -

```
File "third_party/py/pandas/io/parsers.py", line 187, in read_csv
File "third_party/py/pandas/io/parsers.py", line 160, in _read
File "third_party/py/pandas/io/parsers.py", line 628, in get_chunk
File "third_party/py/pandas/core/frame.py", line 302, in __init__
File "third_party/py/pandas/core/frame.py", line 388, in _init_dict
File "third_party/py/pandas/core/internals.py", line 1008, in form_blocks
File "third_party/py/pandas/core/internals.py", line 1036, in _simple_blockify
File "third_party/py/pandas/core/internals.py", line 1068, in _stack_dict
IndexError: index out of bounds 
```

然后我尝试通过设置列

```
df.columns = header_row 
```

但是这个错误可能是因为重复的列值。

```
File "engines.pyx", line 101, in pandas._engines.DictIndexEngine.get_loc    
(third_party/py/pandas/src/engines.c:2498)
File "engines.pyx", line 107, in pandas._engines.DictIndexEngine.get_loc 
(third_party/py/pandas/src/engines.c:2447)
Exception: ('Index values are not unique', 'occurred at index entity') 
```

我正在使用熊猫 0.7.3 版本。从文档 -

**names : 类似数组的列名列表**

我确定我在这里遗漏了一些简单的东西。感谢您在这里的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T07:27:59.563

Pandas 0.7.3 不支持索引重复。您至少需要 0.8.0，介于 0.8.0 和 0.8.1 之间，索引中存在重复的几个问题已修复，因此 0.8.1（=最新的稳定版本）可能是最好的。但是，即使 0.8.1 也不能解决您的问题，因为此版本存在重复列名的[问题](https://github.com/pydata/pandas/issues/1675)（您无法显示具有重复列名的数据框）。

# iphone - 在我的自定义视图中绘图

> ID：12066553
> 
> 赞同：1
> 
> 时间：2012-08-22T05:02:10.173
> 
> 标签：iphone, objective-c, xcode, drawing

我添加了一个自定义视图，并想绘制一个内部较小的圆圈、外部较大的圆圈和垂直线。`drawRect:`我班上的方法是这样的。

```
- (void) drawRect:(CGRect)rect{
    CGContextRef myContext = UIGraphicsGetCurrentContext();
    float height = rect.size.height;
    float width = rect.size.width;
    CGContextTranslateCTM(myContext, 0.0, height);
    CGContextScaleCTM(myContext, 1.0, -1.0);
    CGPoint middle = CGPointMake(width/2, height/2);
    UIBezierPath *innerCirclePath = [UIBezierPath bezierPathWithArcCenter:middle radius:25 startAngle:0 endAngle:DEGREES_TO_RADIANS(360) clockwise:YES];
    [innerCirclePath setLineWidth:2];
    [[UIColor redColor] setStroke];
    [innerCirclePath stroke];
    UIBezierPath *outerCirclePath = [UIBezierPath bezierPathWithArcCenter:middle radius:120 startAngle:0 endAngle:DEGREES_TO_RADIANS(360) clockwise:NO];
    [outerCirclePath setLineWidth:2];
    [[UIColor greenColor] setStroke];
    [outerCirclePath stroke];
    UIBezierPath *xAxis = [UIBezierPath bezierPath];
    [xAxis moveToPoint:CGPointMake(width, height/2 - 150)];
    [xAxis addLineToPoint:CGPointMake(width, height/2 + 150)];
    [xAxis closePath];
    [[UIColor grayColor] setStroke];
    [xAxis setLineWidth:2];
    [xAxis stroke];
} 
```

现在我确实得到了外圈和内圈，但没有我想要的垂直线。为什么不被绘制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:16:10.120

您正在使用这两行来设置“垂直线”的路径：

```
[xAxis moveToPoint:CGPointMake(width, height/2 - 150)];
[xAxis addLineToPoint:CGPointMake(width, height/2 + 150)]; 
```

问题是两个点的 X 坐标都是视图的右边缘。也许您希望它位于视图的中心：

```
CGFloat xMid = CGRectGetMidX(rect);
[xAxis moveToPoint:CGPointMake(xMid, height/2 - 150)];
[xAxis addLineToPoint:CGPointMake(xMid, height/2 + 150)]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:12:28.037

你视图的背景是什么颜色的？你应该确保它不是太靠近，`greyColor`否则即使它在那里你也不会看到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:13:36.490

尝试改变这两行

```
[xAxis setLineWidth:2];
[[UIColor grayColor] setStroke]; 
```

# sql-server - 哪个查询更合适？

> ID：12066555
> 
> 赞同：0
> 
> 时间：2012-08-22T05:02:14.527
> 
> 标签：sql-server, sql-server-2008, tsql

```
   表 T1 表 T2
   +----+------------+ +----+------------+
   | 身份证 | 姓名 | | 身份证 | 一些数据 |
   +----+------------+ +----+------------+
   | | | | | |

```

查询1：

```
SELECT * FROM T1 JOIN T2 ON T1.Id=T2.Id WHERE T1.Id=1001 
```

查询2：

```
SELECT * FROM T1 JOIN T2 ON T1.Id=T2.Id WHERE T2.Id=1001 
```

如果 T2 有 1000 万行，其中只有 100 行的 Id=1001，那么上述哪个查询更适合使用？或者这并不重要，因为 SQL Server 足够聪明，知道什么是最好的？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:11:50.780

如果索引在两个 ID 列上都可用，则将使用哈希连接的一些变体，并且表的顺序无关紧要

如果索引不可用，那么在左侧表上有 where 子句是有意义的，只是为了使 NL 连接更有效。（我有一种感觉，基于参与表 MSSQLSERVER 的统计信息将智能地交换顺序本身）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:05:51.303

关于什么：

```
SELECT * FROM T1 JOIN T2 ON (T1.Id=T2.Id AND T2.Id=1001) 
```

他们说 put`T2.Id=1001`将过滤然后选择行，但将其放入`Where T2.Id=1001`将首先选择所有行作为条件`T1.Id=T2.Id`然后应用`T2.Id=1001`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T07:10:45.687

我想您需要在两个 id 列上都有非聚集索引，然后使用上述任何查询来快速获得结果。否则，我认为您无法在上述任何查询中更快地处理查询。在这种情况下必须使用索引。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-22T07:36:23.330

我认为这里的问题是连接 - 有数百万行 - 总是先出现，然后才会出现 where 子句。请在您的表格上尝试此操作，并在消息选项卡中查看时间戳：

```
declare @t1 table (id int, name nvarchar(100));
declare @t2 table (id int, name nvarchar(100));

insert into @t1 (id, name) values (1, 'a')
insert into @t1 (id, name) values (2, 'b')
insert into @t1 (id, name) values (3, 'c')
insert into @t1 (id, name) values (4, 'd')
insert into @t1 (id, name) values (5, 'e')

insert into @t2 (id, name) values (5, 'e')
insert into @t2 (id, name) values (5, 'f')
insert into @t2 (id, name) values (5, 'g')
insert into @t2 (id, name) values (5, 'h')
insert into @t2 (id, name) values (5, 'i')
insert into @t2 (id, name) values (6, 'j')
insert into @t2 (id, name) values (7, 'k')
insert into @t2 (id, name) values (8, 'l')

print getdate()
-- this is your select statement
select * from @t1 t1 inner join @t2 t2 on t1.id = t2.id where t1.id = 5;
print getdate()
-- this is your select statement
select * from @t1 t1 inner join @t2 t2 on t1.id = t2.id where t2.id = 5;
print getdate()
-- this is done with a WITH to do the filtering beforehand
-- of course, indices will affect the performance a lot
with w2 (id, name) as (select * from @t2 where id = 5) 
select * from w2 inner join @t1 t1 on w2.id = t1.id
print getdate() 
```

当然，忽略我的示例数据并像 WITH 子句一样使用您的表。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-22T05:06:11.547

根据我的说法，Query2 更合适。

```
SELECT * FROM T1 JOIN T2 ON T1.Id=T2.Id WHERE T2.Id=1001 
```

它将限制返回的行，因此效率更高，您仍然可以查看[文档](http://technet.microsoft.com/en-us/library/ms173294.aspx)。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-22T07:52:15.747

先过滤再加入怎么样

```
SELECT * FROM T1 
JOIN (SELECT Id FROM T2 WHERE T2.Id=1001) T2
ON T1.Id=T2.Id 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-22T13:41:54.377

首先，这是我面临的一个真实问题，并且数据库来自第三方软件产品，我在其中具有只读访问权限以生成一些报告。

从所有非常有帮助的回答者中，我了解到没有直接的答案。我从帖子中得出的结论是：首先确保键控列被索引，然后让 SQL Server 负责优化。

谢谢大家。

# objective-c - 从 iOS 设备上传失败，但在 iOS 模拟器上运行完美

> ID：12066558
> 
> 赞同：1
> 
> 时间：2012-08-22T05:03:20.347
> 
> 标签：objective-c, xcode, ios5, ios-simulator

当我在 iOS 模拟器上运行这段代码时，这段代码可以完美运行。当我在设备上运行它时，我的 MVC3 控制器上的文件计数为零。

这是我的目标 C 代码

```
// create request
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];                                    
[request setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];
[request setHTTPShouldHandleCookies:YES];
[request setTimeoutInterval:30];
[request setHTTPMethod:@"POST"];

 NSString *boundary = @"WebKitFormBoundaryAFokZJl5GNWFRG28";

// set Content-Type in HTTP header
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@", boundary];
[request setValue:contentType forHTTPHeaderField: @"Content-Type"];

NSMutableData *body = [NSMutableData data];
[body appendData:[[NSString stringWithFormat:@"--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"patid\"\r\n\r\n %@", _patID] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"apicall\"\r\n\r\n %@", @"yes"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];

// add image data
NSData *imageData = UIImageJPEGRepresentation(image, 1.0);
if (imageData) {
    [body appendData:[[NSString stringWithFormat:@"--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"file\"; filename=\"image.jpg\"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[[NSString stringWithString:@"Content-Type: image/jpeg\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:imageData];
    [body appendData:[[NSString stringWithFormat:@"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
}

[body appendData:[[NSString stringWithFormat:@"--%@--\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];

// setting the body of the post to the reqeust
[request setHTTPBody:body];

// set the content-length
NSString *postLength = [NSString stringWithFormat:@"%d", [body length]];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];

NSMutableString *sURL;

sURL = _postURL;

NSURL *url = [[NSURL alloc]initWithString:sURL];
[request setURL:url];

NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];

NSLog(@"%@", returnString); 
```

我的 ASP.NET MVC3 控制器方法

```
 [HttpPost]
    public ActionResult Create(HttpPostedFileBase file)
    {
        if (file != null && file.ContentLength > 0)
        {
            var fileName = Path.GetFileName(file.FileName);
            var path = Path.Combine(Server.MapPath("~/images/id"), fileName);
            file.SaveAs(path);
        }
        return View();
    } 
```

当我从模拟器运行它时，我在 MVC3 控制器上获取文件（HttpPostedFileBase 不为空）。当我从设备运行相同的代码时，文件为 NULL。

难道我做错了什么？有人可以帮帮我吗...

**编辑**- 谢谢@Martin，你给了我线索。

我发现了由我的公司代理服务器引起的奇怪问题。按照您的建议，我试图在 Windows 机器上设置一个 Fiddler 实例并将其配置为 iPAD 的代理。令人惊讶的是，当我在公司代理上重新尝试时，我的上传功能没有问题 - 它失败了。我会尽快解决的。非常感谢您的回复@Martin R ...非常感谢。

# c++ - 在具有预定义的非均匀概率的范围内生成随机数

> ID：12066565
> 
> 赞同：0
> 
> 时间：2012-08-22T05:03:51.893
> 
> 标签：c++, boost, probability

我想生成 1-10 范围内的随机数。要求是在 1-3 范围内生成 70% 的数字，在 4-10 范围内生成剩余的 30%。我正在使用 boost 来生成概率分布。我应该使用什么概率分布以及什么参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:15:24.380

调整我在[Boost 文档](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_random/tutorial.html#boost_random.tutorial.generating_integers_with_different_probabilities)中找到的代码，我相信这些方面的内容应该可以解决问题：

```
#include <boost/random/mersenne_twister.hpp>
#include <boost/random/discrete_distribution.hpp>

int main() {
  double probabilities[] = {
      0.7/3, 0.7/3, 0.7/3, 0.3/7, 0.3/7, 0.3/7, 0.3/7, 0.3/7, 0.3/7, 0.3/7
  };
  boost::random::discrete_distribution<> dist(probabilities);

  /* For each number to generate: */
  int number = dist(gen) + 1; // to get range 1-10 rather than 0-9

  return 0;
} 
```

严格来说，它的作用是将 70% 的概率分配给数字 1-3（70% 的概率质量平均分布在 1、2 和 3 中），以及 30% 的概率分配给 4-10（同样，平均分布其中）。这并不能保证你得到的数字中有 70% 是 1-3，而 30% 是 4-10。这只是意味着随着它的增长，输出很可能会收敛到该分布。

如果你想真正保证 70% 的数字是 1-3，30% 是 4-6，你必须定义两个均匀分布：

```
boost::random::uniform_int_distribution<> dist1(1, 3);
boost::random::uniform_int_distribution<> dist2(4, 10); 
```

然后，要生成 N 个随机数，您可以`N*0.7`从中提取时间，从`dist1`中提取`N*0.3`时间`dist2`，将所有这些数字放入 a`std::vector`并应用`std::random_shuffle()`。这将保证 70:30 的要求（取决于 N 的可能舍入误差除外）。

# cloud-foundry - 如何使用 rails-console 管理 Cloudfoundry 中的多个应用程序

> ID：12066566
> 
> 赞同：0
> 
> 时间：2012-08-22T05:04:10.333
> 
> 标签：cloud-foundry, rails-console

我在 Cloudfoundry 上托管了 2 个应用程序。当我创建第一个应用程序时。我曾经`vmc rails-console app1`管理过它，而且效果很好。然后我添加了第二个应用程序并尝试连接到 rails-console `vmc rails-console app2`，这次它显示了`Error: Login attempt timed out.`或者 `Error: Console port not provided for [app2]. Try restarting the app.`但我仍然可以连接到我的第一个应用程序的 rails-console

以下是结果`vmc apps`

`| caldecott | 1 | RUNNING | caldecott-57ecb.cloudfoundry.com | mysql-616d4 |`

 `| app1 | 2 | RUNNING | app1.cloudfoundry.com | mysql-616d4 |` 

`| app2 | 1 | RUNNING | app2.cloudfoundry.com | mysql-616d4 |`

Cloudfoundry 方面是否有任何限制，或者我错过了解决此问题的内容？

谢谢。

加上第二个应用程序的 Gemfile

`source 'https://rubygems.org'`

 `gem 'rails', '3.2.6'

gem 'bootstrap-sass', "~> 2.0.4.0"

gem 'thin'

gem 'mysql2'

group :development do

gem 'sqlite3'

gem 'rspec-rails'

gem 'annotate', '~> 2.4.1.beta'

end

group :assets do

gem 'sass-rails', '~> 3.2.3'

gem 'coffee-rails', '~> 3.2.1'

gem 'uglifier', '>= 1.0.3'

end

gem 'jquery-rails'` 

`gem 'high_voltage'`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T14:29:09.030

原来app2的内存限制太低（128M），增加内存限制解决了这个问题

# vim - vim-powerline 插件问题

> ID：12066570
> 
> 赞同：6
> 
> 时间：2012-08-22T05:04:44.510
> 
> 标签：vim, plugins, fonts

我在 VMWare 托管的 Ubuntu 实例中显示正确的字体或字形时遇到问题。

```
webkell@ubuntu:~$ uname -a
Linux ubuntu 2.6.35-22-generic #35-Ubuntu SMP Sat Oct 16 20:36:48 UTC 2010 i686 GNU/Linux 
```

[我已经 i) 使用 Vundle 安装了 vim-powerline 并且 ii) 如该指南](https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher)的“linux”部分所述应用了 fontpatcher ，但我仍然看到此屏幕截图中看到的奇怪字符：

![这个截图](../Images/3404d55376da4621e643b936382d6cd2.png).

我在[用户提供的 Powerline 字体中尝试了 Lucida Sans Typewriter-Powerline.otf 和 Monaco_Linux-Powerline.ttf 字体](https://github.com/Lokaltog/vim-powerline/wiki/Patched-fonts)。我什至尝试`set guifont=MyFont`在 linux 实例上进行设置。但这没有帮助。

我必须使用一些特殊的咒语才能在我的 VMWare 托管的 Ubuntu 上进行这项工作吗？它在主机 Mac 上运行良好。

谢谢

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-22T06:34:27.590

当您需要 Mac 字体时，您使用的是 Linux 字体。尝试使用[这个](https://gist.github.com/1838072)。是的，您正在访问一台 Linux 机器，但您正在使用 OSX 显示字体，因此该字体需要启用 Powerline。

`⌘O`下载并解压缩，然后通过在应用程序内部使用并定位字体，将 .otf 添加到您的 Font Book.app 。然后在首选项中将 Terminal.app 的字体设置为 Monaco for Powerline（**这可能是您所缺少的**）。我在 MacVim 和终端 vim 之间移动，所以我在 ~/.vimrc 中设置了这样的字体：

```
if has("gui_running")
   let s:uname = system("uname")
   if s:uname == "Darwin\n"
      set guifont=Monaco\ for\ Powerline
   endif
endif 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-22T05:44:02.417

占位符字形不是您唯一的问题：电力线也应该有彩色背景。

我在您的`~/.vimrc`：

```
set term=builtin_xterm 
```

您应该将其更改为：

```
set term=xterm-256color 
```

或者让你的外壳处理它。我认为它可以解决颜色问题，也可能解决字体处理问题。

这些命令返回的值应该是`utf-8`：

```
set encoding?
set termencoding? 
```

这就是你得到的吗？

嗬……`set nocompatible`根本没有必要。当 Vim 找到一个`.vimrc`.

# trello - 如何使用 Trello API 检测清单项的状态

> ID：12066581
> 
> 赞同：1
> 
> 时间：2012-08-22T05:05:31.030
> 
> 标签：trello

我希望在从这种形式的查询返回的清单对象中的每个项目上看到某种“状态”字段：

```
https://api.trello.com/1/checklists/[checklist_id]

# Response:

{u'checkItems': [{u'id': u'blahblahblah1',
                  u'name': u'Some checklist item',
                  u'pos': 424242,
                  u'type': u'check'},
                 {etc..}
]} 
```

此外，似乎以下方法确实返回了状态，但仅适用于已完成的清单项目：

```
https://api.trello.com/1/cards/[card_id]/checkItemStates

# Response:

[{"idCheckItem":"blahblahblah1","state":"complete”},
 {“idCheckItem":"blahblahblah2","state":"complete"},
 {"idCheckItem":"blahblahblah3","state":"complete”},
 {“idCheckItem":"blahblahblah4","state":"complete"}] 
```

那么这是否意味着必须综合多个查询的结果才能准确查看给定卡上所有检查表的状态？我很想在单个查询中获得有关卡片上所有清单（包括每个项目的状态）的所有信息。我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-01T01:34:44.060

如果将`/checkItems`开关添加到路径中，您将看到每个项目的状态：

```
/1/checklists/[checkListId]/checkitems?key=[your appKey] 
```

回报：

```
[
    {"state":"complete","id":"XXX","name":"hex support","pos":16804},
    {"state":"incomplete","id":"XXX","name":"funky chars","pos":33233}
] 
```

此后，他们也将其添加到了基本调用中（正如您所拥有的那样）。

# ubuntu - lein repl中的control-d行编辑？

> ID：12066584
> 
> 赞同：1
> 
> 时间：2012-08-22T05:06:06.010
> 
> 标签：ubuntu, clojure, readline, leiningen

我在 Ubuntu 12.04 上使用 lein repl。除了 Cd 之外，标准的 emacs 命令行编辑键都按预期工作（即 Ca、Ce、Cf）。Delete 键有效，但会删除光标左侧的字符。

我需要做什么才能让 Cd 删除光标下的字符？

另外，我想使用 Cr 来调用增量历史搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T20:31:04.560

如果您升级到 Leiningen 2.x，那么您可以使用重写的 repl，它全部在进程中并且可以访问正确的完成。如果您仍然遇到问题，请尝试将 ~/.inputrc 移开。

# jquery - 页脚继续添加动态列表元素

> ID：12066586
> 
> 赞同：0
> 
> 时间：2012-08-22T05:06:29.407
> 
> 标签：jquery, html

每当我向列表中添加一些列表元素时，页脚就会在我的 html 页面中下降。之后，当我单击页面（页面上的任何位置）时，页脚将出现在其原始位置。

我想问在添加动态列表元素后如何将页脚放置到其原始位置（粘在屏幕的底部）。

添加固定页脚的代码：

```
<div id='ref_fot' data-role="footer" data-theme="b" data-position="fixed" class="ui-bar">
        <a href="#create_task" data-icon="" class="ui-btn-right" style="float:right;margin-right:20px;border-radius:6px;">Add Task</a>
        </div> 
```

动态添加列表元素：

```
 $("#list").append('<li><a href="#Display_task" class="ui-link-inherit" data-icon="home">'+obj.title+'</a></li>');
      $("#list").listview ("refresh"); 
```

# android - 如何强制拆分 ActionBar 的 Tab 和 Title/Home/Menu？

> ID：12066589
> 
> 赞同：5
> 
> 时间：2012-08-22T05:06:46.867
> 
> 标签：android

我正在使用`ActionBar`带有 的标签功能`PageViewer`，但遇到了问题。在我的 Nexus 7 上，标签显示如下：

![在 Nexus 7 上](../Images/5cc4791d17406dc806375152555050b4.png)

您可以看到标题因空间不足而被删减。但在装有 Android 4.0 的 HTC Incredible S 上，它显示如下：

![在此处输入图像描述](../Images/7f39c1ee5286de64a6cb217501cb90f9.png)

这就是我想要的。我实际上希望标签栏放在屏幕底部，但是分成两行并且都在顶部是可以接受的。

有谁知道如何强制 Nexus 7 上的应用程序也将标签栏拆分到另一行？谢谢！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-14T17:10:34.390

AFAIK，单独的操作栏决定是否将选项卡放在第二行，我们无法影响它。

另外，请记住，在许多情况下，您的选项卡根本不会出现，取而代之的是下拉列表——基本上，Android 将选项卡导航转换为列表导航。

如果您想确保您的选项卡始终是选项卡，并且始终位于操作栏下方，请从操作栏中删除选项卡并切换到使用 a`ViewPager`作为您的内容，使用`PagerTabStrip`（来自 Android 支持包，`ViewPager`来自哪里）或来自[ViewPagerIndicator](http://viewpagerindicator.com/)项目的选项卡指示器，用于选项卡本身。作为附带的好处，您的内容现在可以水平滑动以在选项卡之间移动，这是当今流行的方法。

> 我实际上希望标签栏放在屏幕底部

请记住，这违反了 Android 设计指南：http: [//developer.android.com/design/patterns/pure-android.html](http://developer.android.com/design/patterns/pure-android.html)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-05-16T13:50:28.027

我使用它来强制从 Gingerbread 到 KitKat 的 ActionBar 堆叠或非堆叠选项卡。

改编自： http: [//www.blogc.at/2014/01/23/android-tabs-appear-above-or-below-actionbar/](http://www.blogc.at/2014/01/23/android-tabs-appear-above-or-below-actionbar/)

![http://i.imgur.com/fO0Vk3V.png](../Images/695ae9e89a0adbdaac4a32f1367054ee.png)

```
setHasEmbeddedTabs(mActionbar,false);

    public static void setHasEmbeddedTabs(Object inActionBar, final boolean inHasEmbeddedTabs)
    {
        // get the ActionBar class
        Class<?> actionBarClass = inActionBar.getClass();

        // if it is a Jelly Bean implementation (ActionBarImplJB), get the super class (ActionBarImplICS)
        if ("android.support.v7.app.ActionBarImplJB".equals(actionBarClass.getName()))
        {
            actionBarClass = actionBarClass.getSuperclass();
        }

        // if Android 4.3 >
        if ("android.support.v7.app.ActionBarImplJBMR2".equals(actionBarClass.getName())){
            actionBarClass = actionBarClass.getSuperclass().getSuperclass();
        }

        try
        {
            // try to get the mActionBar field, because the current ActionBar is probably just a wrapper Class
            // if this fails, no worries, this will be an instance of the native ActionBar class or from the ActionBarImplBase class
            final Field actionBarField = actionBarClass.getDeclaredField("mActionBar");
            actionBarField.setAccessible(true);
            inActionBar = actionBarField.get(inActionBar);
            actionBarClass = inActionBar.getClass();
        }
        catch (IllegalAccessException e) {}
        catch (IllegalArgumentException e) {}
        catch (NoSuchFieldException e) {}

        try
        {
            // now call the method setHasEmbeddedTabs, this will put the tabs inside the ActionBar
            // if this fails, you're on you own <img class="wp-smiley" alt=";-)" src="http://www.blogc.at/wp-includes/images/smilies/icon_wink.gif">
            final Method method = actionBarClass.getDeclaredMethod("setHasEmbeddedTabs", new Class[] { Boolean.TYPE });
            method.setAccessible(true);
            method.invoke(inActionBar, new Object[]{ inHasEmbeddedTabs });
        }
        catch (NoSuchMethodException e)        {}
        catch (InvocationTargetException e) {}
        catch (IllegalAccessException e) {}
        catch (IllegalArgumentException e) {}
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-14T12:29:58.903

如果您需要支持手机和平板电脑并且不想使用单独的实现，您可以将其放入您的活动中：

```
@Override
public Resources getResources() {
    if (mResourcesImpl == null) {
        mResourcesImpl = new ResourcesImpl(super.getResources());
    }
    return mResourcesImpl;
}

class ResourcesImpl extends Resources {
    private Resources mResources;
    private Set<Integer> mActionBarEmbedTabsIds = new HashSet<Integer>();

    ResourcesImpl(Resources resources) {
        super(resources.getAssets(), resources.getDisplayMetrics(), resources.getConfiguration());

        mResources = resources;

        String packageName = getPackageName();
        mActionBarEmbedTabsIds.add(mResources.getIdentifier("abc_action_bar_embed_tabs", "bool", packageName));
        mActionBarEmbedTabsIds.add(mResources.getIdentifier("abc_action_bar_embed_tabs_pre_jb", "bool", packageName));
        mActionBarEmbedTabsIds.add(mResources.getIdentifier("action_bar_embed_tabs", "bool", "android"));
        mActionBarEmbedTabsIds.add(mResources.getIdentifier("action_bar_embed_tabs_pre_jb", "bool", "android"));
        mActionBarEmbedTabsIds.remove(0);
    }

    @Override
    public boolean getBoolean(int id) throws NotFoundException {
        if (mActionBarEmbedTabsIds.contains(id)) {
            return areActionBarTabsEmbed(); // stacked ot embed goes here
        }
        return super.getBoolean(id);
    }
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-08-09T13:21:53.643

没有办法，避免选项卡成为微调器 在添加选项卡后设置导航模式

# android - 为什么这会使我的屏幕消失并让我的手机崩溃？

> ID：12066591
> 
> 赞同：0
> 
> 时间：2012-08-22T05:07:00.737
> 
> 标签：android, crash, android-activity, android-mediaplayer, android-lifecycle

当我删除 onResume() 方法时，程序运行良好，但是当我将其留在程序中时，程序正常启动，音乐播放，但屏幕上没有显示任何内容，然后当我尝试退出时，它冻结并需要一分钟电话从被冻结中走出来。这个 onResume() 方法有什么问题？您需要查看我的所有代码吗？为什么会发生这种情况？

```
@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    int spot = settings.getInt("point", 0);
    try {
        music.get(track).prepare();
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    music.get(track).seekTo(spot);
    music.get(track).start();
} 
```

这是 onCreate()

```
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    song0 = MediaPlayer
            .create(TheParty0Activity.this, R.raw.blacksunempire);
    song1 = MediaPlayer.create(TheParty0Activity.this, R.raw.blueskies);
    song2 = MediaPlayer.create(TheParty0Activity.this, R.raw.fuckingnoise);

    music.add(song0);
    music.add(song1);
    music.add(song2);

    music.get(track).start();

    // box = (TextView) findViewById(R.id.editText1);
    // play = (Button) findViewById(R.id.button0);
    next = (Button) findViewById(R.id.button1);
    // extra = (Button) findViewById(R.id.button2);

    next.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub

            music.get(track).stop();
            track++;
            if (track == 3) {
                for (int i = 0; i < 3; i++) {
                    try {
                        music.get(i).prepare();
                    } catch (IllegalStateException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    music.get(i).seekTo(0);
                }
                track = 0;
            }
            music.get(track).start();
        }
    });
    extra.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent ourIntent = new Intent(TheParty0Activity.this, Sam.class);
            startActivity(ourIntent);
        }
    });

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:03:15.527

没关系，这些方法都不是问题

# nopcommerce - 如何在不使用特色产品功能的情况下在主页显示产品列表

> ID：12066592
> 
> 赞同：0
> 
> 时间：2012-08-22T05:07:07.957
> 
> 标签：nopcommerce

我想在主页中显示所有产品。当我从类别导航菜单中单击一个类别时，该类别的所有产品都显示为列表或网格。我想在 nop 数据库中显示所有产品，而不使用功能产品（显示在管理页面的主页属性）。

# iphone - 如何使用 MailCore 定期获取新邮件

> ID：12066597
> 
> 赞同：1
> 
> 时间：2012-08-22T05:08:16.840
> 
> 标签：iphone, objective-c, ios, cocoa

我正在使用 MailCore 框架准备 iOS（iPhone 和 iPad）邮件应用程序。我想定期从服务器获取所有文件夹的邮件。是否有任何程序可以定期 ping 服务器并检查新邮件的到达。这样每当新邮件到来时，它就会加载到收件箱中。（因为 NSTimer 不适合它）。

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:30:14.207

您需要创建一个 NSTimer 以您想要的任何时间间隔触发。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-22T05:46:15.467

您的问题的解决方案是[UILocalNotification](http://developer.apple.com/library/ios/#DOCUMENTATION/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction/Introduction.html)

检查以下链接。

[http://www.codeproject.com/Articles/124159/Hour-21-Building-Background-Aware-Applications](http://www.codeproject.com/Articles/124159/Hour-21-Building-Background-Aware-Applications)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-22T07:40:15.373

抱歉 mandeepd，UILocalNotification 不是解决方案，因为 iOS 可能会也可能不会向您的应用程序发送通知。如果它没有发送通知，您的应用程序将无法检查电子邮件。

请参阅这篇文章[UILocalNotification Demystified](http://thekspace.com/home/component/content/article/62-uilocalnotification-demystified.html)进行澄清。

# java - 在 NetBeans 中添加默认包的类

> ID：12066600
> 
> 赞同：6
> 
> 时间：2012-08-22T05:08:57.367
> 
> 标签：java, netbeans, classpath

我有一个名为 .jar 的 jar 文件`"stdlib.jar"`。这在它的`"Default Package"`. 我已将此添加`stdlib.jar`到我的 NetBeans 库中。而且`"Build"-ed`它不使用任何来自`stdlib.jar`. 这样`stdlib.jar`就可以添加到我的`"./dist/lib"`文件夹中。但是我仍然不能在其中使用任何类`stdlib.jar` 我应该怎么做才能重用其中的任何类`stdlib.jar`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:50:10.590

强烈建议不要对库甚至项目使用“默认包”包。如果您使用默认包，那么类名应该是唯一的，否则它们将覆盖所有`java.lang`类。

现在谈到你的情况。要使用您的`stdlib.jar`，如果您已将其添加到您的库中，那么您应该可以使用它。您可以`stdlib.jar`从您正在使用它的项目的默认包中使用您的。除了默认包之外，您不能使用它，因为它会`stdlib.jar`在该包中搜索您的类。

希望这能让你清楚。谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-22T17:35:43.020

您正在使用塞奇威克的教科书，不是吗？如果您是，请阅读常见问题解答：

问：如果我使用命名包来构造我的代码，编译器将无法再访问 stdlib.jar 中的库。为什么不？

A. stdlib.jar 中的库位于“默认”包中。在 Java 中，您不能从命名包访问默认包中的类。如果您需要将我们的库与命名包一起使用，您可以使用打包版本的[stdlib-package.jar](http://introcs.cs.princeton.edu/java/stdlib/stdlib-package.jar)

同样的问题：[Getting a library to import proper in netbeans](https://stackoverflow.com/questions/7652363/getting-a-library-to-import-properly-in-netbeans)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-25T01:51:57.033

如果您在 Coursera 上使用 Sedgewick 教科书或算法课程，这可能会有所帮助。

如上所述，stdlib.jar 中的库位于 DEFAULT PACKAGE 中。在 Java 中，您不能从命名包访问默认包中的类。因此，您必须将源文件移动到项目的默认包中。这意味着您必须将源 .java 文件从 ./src/YOURPACKAGE/ 文件夹直接移动到项目的 ./src 文件夹，然后删除 YOURPACKAGE 文件夹。您还必须删除“package YOURPACKAGE;” 源文件开头的语句。

基本上这就是你需要做的所有事情。现在，当您将源文件移动到默认包中，并将“stdlib.jar”添加到库中时，您可以毫无问题地从库中处理类。你不需要他们的“导入”声明。

# c++ - c++ makefile解释（其中使用的依赖项和宏）？

> ID：12066601
> 
> 赞同：0
> 
> 时间：2012-08-22T05:08:57.447
> 
> 标签：c++, makefile

我写了下面的makefile，但我真的不明白发生了什么（我基于模板的说明）。我写了下面的makefile，但我真的不明白发生了什么（我基于模板的说明）。

1) 为什么 DEPENDS 宏在右侧有特定信息？我认为目标文件仅依赖于 .h 文件？

2) 为什么我们必须指定 ARCH？

3) 为什么我们在 CPPOPTIONS 中需要标志 -IstanfordCPPLib？我知道我们需要 LIB 的标志 -lStanfordCPPLib 因为这个宏指定了 .a 文件的位置，该文​​件使用了所有 .h 文件，但我不确定为什么不将 LIB 用作 RandomWriter.o 的依赖项然后？

4) 对 CPPOPTIONS 和 LDOPTIONS 的意义和功能的任何解释也将不胜感激

```
PROGRAM = RandomWriter
OBJECTS = RandomWriter.o
DEPENDS = \
   RandomWriter.cpp \
   Makefile

ARCH = i386
CPPOPTIONS = -IStanfordCPPLib -arch $(ARCH) -fvisibility-inlines-hidden
LDOPTIONS = -LStanfordCPPLib -arch $(ARCH)
LIB = -lStanfordCPPLib

all: $(PROGRAM)

RandomWriter : $(OBJECTS)
    g++ -o $(PROGRAM) $(LDOPTIONS) $(OBJECTS) $(LIB)

RandomWriter.o : $(DEPENDS)
    @touch console.h
    g++ -c $(CPPOPTIONS) RandomWriter.cpp
    @rm console.h

clean:
    rm -f *.o *.a $(PROGRAM) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:15:33.737

1) 目标文件依赖于任何用于编译它的东西。`.cpp` **我怀疑在这种情况下可能没有头文件，**否则依赖项将位于标头上。如果您有标头，则应将其添加到依赖项中。

2) ARCH 允许您针对不同架构系列的目标进行编译。例如，64 位与 32 位。您可能会发现它也`ARCH`用于交叉编译，在这种情况下，它会根据（例如，替换为类似的东西）`Makefile`的值来切换工具链，而不是使用编译器标志。您应该检查您想要的目标架构并决定是否需要它。`ARCH``g++``arm-linux-gnueabi-g++``-arch`

3)`-IStanfordCPPLib`表示目录`StanfordCPPLib`将用于包含搜索路径。它是必需的，因为编译器必须能够找到编译所需的包含`RandomWriter.o`。

4）`CPPOPTIONS`看起来像编译器选项，`LDOPTIONS`看起来像链接选项。可以看到前者用于构建`.o`文件，后者用于链接可执行文件。

有关更多信息，请参阅[GNU make 手册](http://www.gnu.org/software/make/manual/make.html)。

# c# - 通用委托类型声明语法

> ID：12066605
> 
> 赞同：3
> 
> 时间：2012-08-22T05:09:14.167
> 
> 标签：c#, .net, delegates

非泛型委托声明如下：

```
delegate void Print(int arg); 
```

where`void`是*返回类型*，`int`是*参数类型*。

通用委托声明如下：

```
delegate void Print<T> (T arg); 
```

where`void`又是*返回*类型，`T`括号中是*泛型参数类型*。

现在我们已经知道了返回类型和参数类型，那么为什么我们需要额外的类型在尖括号中**`Print<T>`**呢？它意味着什么？

谢谢大家。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T05:15:51.713

`<T>`需要in告诉编译器`Print<T>`您打算创建一个泛型方法。否则它可能会认为`T`是某种类型，而不是类型参数。虽然您可以直观地推断出作者的意思，但编译器对它更字面化。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-22T05:16:11.997

它告诉编译器他正在处理一个泛型方法。

您的建议是编译器将推断此声明是通用的：

```
delegate void Print (T arg) 
```

在存在的情况下会发生什么

```
class T { } 
```

?

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-22T05:17:23.960

如果括号中没有那个“额外类型”，C# 编译器就无法知道它是否应该`T`在参数列表中将其视为泛型类型，或者它应该期望一个名称实际上`T`与 in 相同的类型`class T {}`。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-22T06:16:51.427

附带说明：`delegate void Print(T arg);`在泛型类中是完全有效的语法，它意味着“这个委托与整个类采用相同的类型`arg`”（假设 T 是该类的泛型类型）。

您也可以`delegate void Print2<T>(T arg);`在同一个类中声明。含义（编译器警告您）是不同的：委托使用任何类型作为参数，并且与类`T`中使用的类型无关`T`（请注意，在您的代码中这样做是不好且令人困惑的想法）。

```
class GenericClass<T>
{
   delegate void Print(T arg); // T is the same as T in the class

   delegate void Print2<T>(T arg); // T is unrelated to T in the class.
} 
```

具有功能的类似代码：

```
using System;
class Program {
void Main()
{
  var x = new A<int>();
  // x.Print("abc");  - compile time error
  x.Print(1); // Print only accepts same Int32 type 

  x.Print2(1);     // Print2 can use as the same Int32 used for class
  x.Print2("abc"); // as well any other type like string.
}

public class A<T>
{
   public void Print(T arg)
   {
      Console.WriteLine("Print:{0} = {1}", arg.GetType().FullName, arg);
   }
   public void Print2<T>(T arg)
   {
Console.WriteLine("PRINT2:{0} = {1}", arg.GetType().FullName, arg);
   }
}
} 
```

# ruby-on-rails - 为什么 Rails 参数包装不包含来自 URI 的内容？

> ID：12066607
> 
> 赞同：8
> 
> 时间：2012-08-22T05:09:31.737
> 
> 标签：ruby-on-rails, actioncontroller

[关于参数包装](http://edgeapi.rubyonrails.org/classes/ActionController/ParamsWrapper.html)状态的文档：

> 将参数散列包装成嵌套散列。这将允许客户端提交 POST 请求而无需指定任何根元素。

它有助于省略*哪些*参数散列正在被包装。[动作控制器概述指南](http://guides.rubyonrails.org/action_controller_overview.html#path_parameters-query_parameters-and-request_parameters)给出了这个纲要：

> Rails 会在哈希中收集与请求一起发送的所有参数`params`，无论它们是作为查询字符串的一部分还是作为帖子正文发送。[…]`query_parameters`散列包含作为查询字符串的一部分发送的参数，而`request_parameters`散列包含作为帖子正文的一部分发送的参数。`path_parameters`哈希包含被路由识别为通向此特定控制器和操作的路径的一部分的参数。

当您使用 RESTful 资源和路由时，乐趣就会发生。假设您有一个模型 A，其中包含多个 B；B 因此有一个外键`a_id`。

你`POST /as/1/bs`有一个空的有效载荷（因为 B 没有其他字段）。假设`a_id`是`attr_accessible`，人们可能会假设它`a_id`会被包裹在一个`b`对象中。相反，您会看到：

```
Processing by BsController#create as HTML
  Parameters: {"b"=>{}, "a_id" => "1"} 
```

没有这样的运气。事实证明，[`ParamsWrapper`uses`request_parameters`](https://github.com/rails/rails/blob/5e1b92044c8f2afa9e0b80095a9c9defbeaaf2e2/actionpack/lib/action_controller/metal/params_wrapper.rb#L194)和 not `params`，所以不包括`a_id`在 POST 有效负载中意味着它没有被包装。这很令人困惑，因为`params`由于 URI globbing，您仍然可以看到它包含在 中，并且想知道为什么它被排除在所有事物之外。

有什么好的理由使用`request_parameters`而不是`params`在这里？

我可以理解，从“REST 哲学”的角度来看，如果我们假设有效负载包含整个对象，那就更纯粹了，但这本质上意味着`a_id`URI 中的 完全被忽略了，这似乎很遗憾。

**tl;dr：** `ParamsWrapper`用作`request_parameters`参数源，因此跳过 URI 全局变量。这是 Rails 的错误吗？纯 REST 倡导者可能会说不，但实用主义建议是。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-26T18:03:34.130

据我了解，a_id 未包含在“b”的哈希中的原因是我们需要该 id 值来首先检查记录是否存在于我们的数据库中。这样，我们可以简单地拒绝请求中的其他参数。根据不将其包含在'b'哈希中的原因：它可以防止意外。以这种情况为例：假设有人正在更新表单并将完整的“b”哈希作为参数传递给模型对象。现在，当我们调用 model_object.save 时，它​​可能会将记录保存在我们的数据库中，而不是更新旧记录，这将是一个安全威胁（如果对象已被较早初始化，则可能发生）。不是一个完整的证明方案，但在编码时确实会发生事故，它可以帮助我们防止此类事故。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-11T12:24:35.447

取决于您的具体用例，但如果您在控制器中使用强参数，您可以执行以下任一操作

```
params[:b][:a_id] = params[:a_id]
params.require(:b).permit(:a_id) 
```

或者完全跳过“require”方法：

```
params.permit(:a_id) 
```

# android - 将日期保存到数据库使用线程或服务或其他 Android？

> ID：12066611
> 
> 赞同：0
> 
> 时间：2012-08-22T05:10:01.267
> 
> 标签：android

我是安卓新手。当我想将日期保存到数据库时，当操作系统告诉我 ANR 时，我不确定应该使用哪个。我认为没有用户界面，所以服务还可以。有人能说出什么是利弊吗？如果我使用进度对话框并进行保存，您认为这是愚蠢的吗？

谢谢大家的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:03:47.447

对不起我的英语技能：P

因此，如果您想在 sqlite 中保存某些内容，您可以在 UI 或某些异步任务或服务中进行。

使用示例：如果您有一些想要保存的大数据，最好在服务中执行此操作，请在[此处](http://developer.android.com/reference/android/app/Service.html)查看服务生命周期！如果你有一些图像，你可以在 asynctask 中完成，你不需要阻塞 ui 线程。对于任何小事，您都可以使用 ui 线程。

永远不要忘记，如果您的 ui 线程无法对任何用户指示做出反应，Android 引擎将杀死您的 ap，这就是为什么如果您有大量数据，您需要在后面执行此操作。

[一个很好的 AsyncTask 教程](http://www.vogella.com/articles/AndroidPerformance/article.html)！

# java - JAR 未包含在类路径中

> ID：12066612
> 
> 赞同：0
> 
> 时间：2012-08-22T05:10:09.843
> 
> 标签：java

在我的工作目录中，我有以下文件：mallet-deps.jar、TopicTest.java 和 trove-3.0.3.jar 但是当我运行时`javac -cp mallet-deps.jar:. TopicTest.java`我收到一堆导入错误，说包不存在，即

TopicTest.java:3: 包 cc.mallet.util 不存在 import cc.mallet.util.*;

似乎没有正确包含 Jar，我在 Ubuntu 12.04 上编译

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T16:45:03.837

我认为您将需要一个指向 jar 的清单文件。使用类路径：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:32:00.497

你用的是什么版本的java？
引用的 jar 文件是否真的包含报告为丢失的包？

# mysql - 在mysql中创建一个数据库

> ID：12066615
> 
> 赞同：1
> 
> 时间：2012-08-22T05:10:41.830
> 
> 标签：mysql

我有一个问题：如果我不是 root，如何在 mysql 中创建数据库？我知道要创建数据库，用户必须具有创建数据库权限，但我不知道如何从 root 授予该权限。你能帮我具体的命令吗？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:29:59.040

给这样的用户特权。

```
grant all on dba.* to 'wim'@'localhost'; 
```

# android - 如何在 Android 上使用 XmlSerializer 创建 XML？

> ID：12066616
> 
> 赞同：0
> 
> 时间：2012-08-22T05:10:43.853
> 
> 标签：android, xml-parsing, filewriter

我正在使用 XmlSerializer 创建一个 XML 文件。我的代码如下。

```
Iterator<TypeClass> itr=dataarray.iterator();
while(itr.hasNext()){
        try{
        TypeClass type=itr.next();
        xmlserializer.startTag("", "family");
        xmlserializer.startTag("", "FamilyID");xmlserializer.text(type.getF_id());xmlserializer.endTag("", "FamilyID");
        xmlserializer.startTag("", "FamilyHead");xmlserializer.text(type.getF_head());xmlserializer.endTag("", "FamilyHead");
        xmlserializer.startTag("", "FamilyAddress");xmlserializer.text(type.getH_name());xmlserializer.endTag("", "FamilyAddress");
        xmlserializer.startTag("", "Phone");xmlserializer.text(type.getPh_num());xmlserializer.endTag("", "Phone");
        xmlserializer.startTag("", "Ward");xmlserializer.text(type.getW_num());xmlserializer.endTag("", "Ward");
        xmlserializer.startTag("", "Latitude");xmlserializer.text(String.valueOf(type.getLat()));xmlserializer.endTag("", "Latitude");
        xmlserializer.startTag("", "Longitude");xmlserializer.text(String.valueOf(type.getLon()));xmlserializer.endTag("", "Longitude");
        xmlserializer.endTag("", "family");
        }catch(Exception e){
            Log.i("z", "inside while exception :"+e);
        }
    }
    xmlserializer.endTag("", "Families");
    FileWriter file=new FileWriter(familyxml);
    file.write(writer.toString());
    file.flush();
    file.close(); 
```

我的问题是，在循环结束时，一些数据没有被添加到 XML 文件中。这是我得到的：

```
<family><FamilyID>~value~</FamilyID><FamilyHead>NINAN PHILIPOSE</FamilyHead><FamilyAddress>~value~</FamilyAddress><Phone>~value~</Phone><Ward>~value~</Ward><Latitude>0</Latitude><Longitude>0</Longitude></family><family><FamilyID>~value~</FamilyID><FamilyHead>MATHEW M C</FamilyHead><FamilyAddress>~value~ 
```

没有其他标签.?????

# php - 在 mysql 字段中使用 php 变量

> ID：12066617
> 
> 赞同：0
> 
> 时间：2012-08-22T05:10:46.320
> 
> 标签：php, mysql, variables

我在 Mysql 表中有一个字段，其中包含 php 变量，用于确定存储文件的目录（例如`Docs/$CompID/`和`Acc/$AccID/`）。问题是当我检索值时，显示的是 php 变量名而不是值。

我尝试在值周围加上引号 -

都在 Mysql 表中 (`Docs/$CompID/"`和`Docs/".$CompID."/`)

以及显示 php 变量时 ( `echo"$dir"`)

我也试过做`str_replace`，把`{ }`变量放在周围，以便我可以在字符串中识别它：

```
$start=strrpos($cat['dir'],'{');
$stop=strrpos($cat['dir'],'}');
$rep=substr($cat['dir'],$start+1,$stop-1);
$dir=str_replace("{".$rep."}",$rep,$cat['dir']); 
```

所有这些都只是显示了 php 变量名。任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:18:13.010

您可以使用[eval()](http://php.net/manual/en/function.eval.php)

```
$AccID = 'me';
eval("\$str = \"Acc/$AccID/\";");
echo $str; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:16:40.560

如果我是正确的，您的变量将如下所示：`var`. 您可以`$var`使用`$$cat["dir"]`. 但是，如果您的 db 变量看起来像`$var`，只需使用一个简单的子字符串来删除`$`.

# javascript - 如何在 node.js 中的 window.location.hash 中获取变量

> ID：12066621
> 
> 赞同：0
> 
> 时间：2012-08-22T05:11:36.430
> 
> 标签：javascript, facebook, parsing, node.js, express

如果我有一个像

```
www.example.com/path#one=a1&two=a2&three=a3 
```

如何直接从 node.js 中的 url 检索变量？由于我使用的是 ExpressJS，因此我尝试使用 req.query.variable（和 req.params.variable），但这不起作用......

我的实际问题是通过使用客户端身份验证（https://developers.facebook.com/docs/authentication/client-side/）从 Facebook 获取访问令牌，但它重定向到的 url 的结构如下：

```
YOUR_REDIRECT_URI#
 access_token=USER_ACCESS_TOKEN
 &expires_in=NUMBER_OF_SECONDS_UNTIL_TOKEN_EXPIRES 
```

而且我不知道如何从url中获取参数...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T09:12:52.800

> 如何直接从 node.js 中的 url 检索变量？

一点也不，因为 URL 的哈希部分不会传输到服务器。

> 我的实际问题是通过使用客户端身份验证从 Facebook 获取访问令牌 [...] 而且我不知道如何从 url 获取参数...

*您还必须在客户端*“获取”它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:20:38.743

```
function parseQueryString(query) {
    var parsed = {};

    query.replace(
        new RegExp('([^?=&]+)(=([^&]*))?', 'g'),
        function ($0, $1, $2, $3) {
            parsed[decodeURIComponent($1)] = decodeURIComponent($3);
        }
    );

    return parsed;
}

var url = "www.example.com/path#one=a1&two=a2&three=a3";

console.log(parseQueryString(url.split('#')[1])); 
```

请注意，这不会尝试检测 url 参数的类型。

# publish - VS2012 安装程序和 SlowCheetah XML 转换

> ID：12066623
> 
> 赞同：1
> 
> 时间：2012-08-22T05:11:54.167
> 
> 标签：publish, visual-studio-2012, slowcheetah

我正在尝试 VS2012 中 Windows 服务项目的发布选项。

我使用 NLog，并且有一个 NLog.config 文件。我还使用 SlowCheetah 为每个构建配置转换该配置文件。

当我尝试运行生成的 setup.exe 时，出现错误

> 文件 NLog.config 的计算哈希值与清单中指定的哈希值不同。

我想哈希是在 NLog.config 的预转换版本上计算的。如何让发布向导使用正确的、转换后的 NLog.config 版本？

**更新**（基于 Sayed 要求提供更多详细信息）

我的 Windows 服务项目使用 NLog。NLog.config 文件标有*内容*的构建操作。它看起来像这样（缩写版）

```
<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <targets>
    <target xsi:type="File" name="ferr" fileName="C:/MyPath/Error.log"
        archiveFileName="C:/MyPath/Error.{#}.txt"
        archiveEvery="Day"
        archiveNumbering="Rolling"
        maxArchiveFiles="28"
        layout="${longdate} ${uppercase:${level}} ${message}" />
  </targets>

  <rules>
    <logger name="*" minlevel="Error" writeTo="ferr" />
  </rules>
</nlog> 
```

我正在使用[Slow Cheetah](http://visualstudiogallery.msdn.microsoft.com/69023d00-a4f9-4a34-a6cd-7e854ba318b5)为该文件添加转换。解决方案配置 QA 的转换如下所示：

*NLog.QA.config*

```
<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform" xmlns="http://www.nlog-project.org/schemas/NLog.xsd">
  <targets>
    <target xsi:type="Mail" name="m"
            to="me@not.really" from="notify@not.really" html="True"
            subject="QA ERROR on ${machinename}"
            smtpServer="127.0.0.1"
            layout="${longdate} ${uppercase:${level}} ${message}" xdt:Transform="Insert" />
  </targets>
  <rules>
    <logger name="*" minlevel="Fatal" writeTo="m" xdt:Transform="Insert" />
  </rules>
</nlog> 
```

转换导致构建输出中最终的 NLog.config 与项目中的 NLog.config 不同（将 NLog.QA.config 中定义的转换规则应用于原始 NLog.config 以获得最终的 NLog.config ）。

当我使用“发布”选项创建 setup.exe 和相关文件，将所有这些文件复制到新的 QA 机器并尝试运行 setup.exe 时，我收到错误消息

> 文件 NLog.config 的计算哈希值与清单中指定的哈希值不同。

根据错误消息，我怀疑*清单中指定的计算哈希*是基于原始项目中出现的 NLog.config 文件，而不是构建输出生成的转换后的最终版本。

请注意，我的 app.config 也有一个转换。我没有收到转换后的 app.config 的类似错误。但是，我不知道这是因为 setup.exe 在进入 app.config 之前放弃了，还是因为 app.config 案例处理正确。

**更新 2**

这是完整的错误信息

```
PLATFORM VERSION INFO
    Windows             : 6.0.6002.131072 (Win32NT)
    Common Language Runtime     : 4.0.30319.17929
    System.Deployment.dll       : 4.0.30319.17929 built by: FX45RTMREL
    clr.dll             : 4.0.30319.17929 built by: FX45RTMREL
    dfdll.dll           : 4.0.30319.17929 built by: FX45RTMREL
    dfshim.dll          : 4.0.41209.0 (Main.041209-0000)

SOURCES
    Deployment url          : file:///C:/Xfer/MyService/MyService.application
    Application url         : file:///C:/Xfer/MyService/Application%20Files/MyService_1_0_0_3/MyService.exe.manifest

IDENTITIES
    Deployment Identity     : MyService.application, Version=1.0.0.3, Culture=neutral, PublicKeyToken=56e62aa7113b4840, processorArchitecture=msil
    Application Identity        : MyService.exe, Version=1.0.0.3, Culture=neutral, PublicKeyToken=56e62aa7113b4840, processorArchitecture=msil, type=win32

APPLICATION SUMMARY
    * Installable application.

ERROR SUMMARY
    Below is a summary of the errors, details of these errors are listed later in the log.
    * Activation of C:\Xfer\MyService\MyService.application resulted in exception. Following failure messages were detected:
        + File, NLog.config, has a different computed hash than specified in manifest.

COMPONENT STORE TRANSACTION FAILURE SUMMARY
    No transaction error was detected.

WARNINGS
    There were no warnings during this operation.

OPERATION PROGRESS STATUS
    * [8/22/2012 11:10:55 PM] : Activation of C:\Xfer\MyService\MyService.application has started.
    * [8/22/2012 11:10:55 PM] : Processing of deployment manifest has successfully completed.
    * [8/22/2012 11:10:55 PM] : Installation of the application has started.
    * [8/22/2012 11:10:55 PM] : Processing of application manifest has successfully completed.
    * [8/22/2012 11:10:57 PM] : Found compatible runtime version 4.0.30319.
    * [8/22/2012 11:10:57 PM] : Request of trust and detection of platform is complete.

ERROR DETAILS
    Following errors were detected during this operation.
    * [8/22/2012 11:10:58 PM] System.Deployment.Application.InvalidDeploymentException (HashValidation)
        - File, NLog.config, has a different computed hash than specified in manifest.
        - Source: System.Deployment
        - Stack trace:
            at System.Deployment.Application.ComponentVerifier.VerifyFileHash(String filePath, Hash hash)
            at System.Deployment.Application.ComponentVerifier.VerifyFileHash(String filePath, HashCollection hashCollection)
            at System.Deployment.Application.ComponentVerifier.FileComponent.Verify()
            at System.Deployment.Application.ComponentVerifier.VerifyComponents()
            at System.Deployment.Application.DownloadManager.DownloadDependencies(SubscriptionState subState, AssemblyManifest deployManifest, AssemblyManifest appManifest, Uri sourceUriBase, String targetDirectory, String group, IDownloadNotification notification, DownloadOptions options)
            at System.Deployment.Application.ApplicationActivator.DownloadApplication(SubscriptionState subState, ActivationDescription actDesc, Int64 transactionId, TempDirectory& downloadTemp)
            at System.Deployment.Application.ApplicationActivator.InstallApplication(SubscriptionState& subState, ActivationDescription actDesc)
            at System.Deployment.Application.ApplicationActivator.PerformDeploymentActivation(Uri activationUri, Boolean isShortcut, String textualSubId, String deploymentProviderUrlFromExtension, BrowserSettings browserSettings, String& errorPageUrl)
            at System.Deployment.Application.ApplicationActivator.ActivateDeploymentWorker(Object state)

COMPONENT STORE TRANSACTION DETAILS
    No transaction information is available. 
```

**更新 3**

查看 Publish 创建的文件，*NLog.config.deploy*不是*我*期望的转换文件，而是与*原始**NLog.config" 具有相同的内容。未应用*NLog.QA.config中指定的转换。*

*NLog.config.deploy*的文件大小为 1353 字节。但是，manifest() 断言文件大小应该是 1696 字节（这正是正确的转换大小）

```
 <file name="NLog.config" size="1696">
    <hash>
      <dsig:Transforms>
        <dsig:Transform Algorithm="urn:schemas-microsoft-com:HashTransforms.Identity" />
      </dsig:Transforms>
      <dsig:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha256" />
      <dsig:DigestValue>IbzW1PndPFYBt59Yrcl6Ax8F5GFX3VVco7wIdDrV6Fo=</dsig:DigestValue>
    </hash>
  </file> 
```

该文件位于写入 setup.exe 的文件夹下，在

> 应用程序文件\MyService_1_0_0_0\NLog.config.deploy

另外，我注意到

> C:...\MyProject\obj\QA\SlowCheetah

有一个文件*app.config*但没有文件*NLog.config*。

**更新 4**

现在，当我进行正常构建时，将解决方案设置为 QA，NLog.config 不再被转换。但是，app.config*正在*被转换。然后，我转到项目设置的发布选项卡。我没有做任何更改，但是 .csproj 无论如何都被更改了（名称旁边有一个 * ......我没有确认更改是什么）。*保存、构建，然后突然*应用了 NLog.config 转换。再次发布，突然*没有*再次应用 NLog.config。发布设置的某些东西干扰了 SlowCheetah 将转换应用于 NLog.config 的能力。

不幸的是，在这一点上，我将不得不回滚到没有任何发布内容的项目的先前版本并继续完成代码。我希望这是足够的信息来追踪问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T08:45:25.347

回答有点晚了，但最近我遇到了类似的问题，当转换未应用于我的配置和 xml 时，我收到“文件，SomeConfig.xml，计算的哈希值与清单中指定的不同。” 错误。

在我的情况下，原因是这两个文件的属性 Copy to Output Directory 设置为**Copy Always**，当我将其更改为**Do not copy**（据我所知，这是默认值）时，一切都开始正常工作以及 ClickOnce 安装.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-30T22:55:15.943

这为我解决了它：

`right-click on your config file`（对我来说，问题在于 app.config，而不是 nlog.config）和`select properties`.

在属性窗格中，`set Copy to Output Directory = Copy Always`（我的默认为不复制）。

有趣的是，这与 Max Viazovskyi 的回答完全相反。但经过近一整天的论坛筛选后，这是唯一对我有用的东西。

这是一个带有配置转换和 ClickOnce 部署的 Windows 窗体项目。

# assembly - 组装 TSR - 我的程序崩溃了，我不知道原因

> ID：12066626
> 
> 赞同：1
> 
> 时间：2012-08-22T05:12:15.130
> 
> 标签：assembly, x86, dos, tsr

我正在编写一个简单的 TSR 程序，但出现错误。

我尝试执行它，`Int 90H`但由于某种原因它崩溃了。

我是 TSR 的新手，所以问题可能很简单。

总回报：

```
;   Copy non-small letters

.model tiny
.code
    ORG 100H
start:
    push bp
    push si
    push cx
    push bx
;   save registers
    mov bp, sp
    sub sp, cx
    sub sp, 1 ; for $
    mov di, bp
    mov si, bx
copy:
    cmp [si], 'a'
    jl  bad
;   not small letter
    cmp [si], 'z'
    jg  bad
;   not small leter
;   good
    mov ax, [si]
    mov [bp], ax
    dec bp
bad:
    inc si
loop copy
    mov [bp-1],'$'
    mov ah, 09
    mov dx, di
    int 21H
install:
    mov al, 90H
    mov ah, 25H
    mov dx, offset start
    int 21H
finish: 
    pop bx
    pop cx
    pop si
    pop bp
;   ^ restore registers
    mov ah, 31
    int 21H
    iret
;   end
end start 
```

主程序：

```
.model small
.stack 64
.data
    string  db  "Hey There"
.code
start:
    lea bx, string
    mov cx, 09
    int 90H
;   end
    mov ah, 4ch
    int 21H
end start 
```

你知道我的程序为什么会崩溃吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-19T11:07:31.337

在使用 iret 指令从中断服务程序（ISR）返回之前，我们必须向第一个可编程中断发送带有“mov al,020h”+“out 20h,al”的“中断结束”信号（EOI）控制器（PIC 1；8259A）。

另一种方法是跳转到旧的 ISR，而不是发送 EOI，然后返回 iret。

;---------------

Ralf Browns x86/MSDOS 中断列表 (RBIL)
[http://www.pobox.com/~ralf](http://www.pobox.com/~ralf)
[http://www.pobox.com/~ralf/files.html](http://www.pobox.com/~ralf/files.html)
[ftp://ftp.cs.cmu.edu/ afs/cs.cmu.edu/user/ralf/pub/](ftp://ftp.cs.cmu.edu/afs/cs.cmu.edu/user/ralf/pub/)

RBIL->inter61d.zip->PORTS.A
----------P0020003F-------------------------
PORT 0020 -003F - PIC 1 - 可编程中断控制器 (8259A)
另见：端口 00A0h-00AFh"PIC 2",INT 08"IRQ0",INT 0F"IRQ7"
....有关详细信息，请查看 RBIL..

;------------

为了成为 TSR，我们必须使用 INT 27h 来终止我们的应用程序的 ISR 部分保持驻留。

RBIL->inter61c.zip->INTERRUP.K
--------D-27---------------------------- -----
INT 27 - DOS 1+ - TERMINATE AND STAY RESIDENT
DX = 保持驻留的字节数（最大 FFF0h）
CS = PSP 段
返回：从不
注意：这是一个过时的调用
INT 22、INT 23 和从 PSP 恢复的 INT 24
不会关闭任何打开的文件DOS 2.x
将保持驻留的最小字节数为 110h，
对于 DOS 3.0+ 为 60h；DOS 1.x 没有最低要求，它
在 COMMAND.COM 而不是 DOS 内核中实现此服务
另见：INT 21/AH=31h

;----------

它认为在我们的 ISR 中使用软件中断调用不是一个好主意。所以我更喜欢直接写入视频内存，例如在屏幕的右上角写一些数字以显示当前时间。

;------

设置和获取中断向量：

RBIL->inter61b.zip->INTERRUP.F
--------D-2125---------------------------- ---
INT 21 - DOS 1+ - SET INTERRUPT VECTOR
AH = 25h
AL = 中断号
DS:DX -> 新的中断处理程序
注意：此函数优于直接修改中断
向量表，
一些 DOS 扩展程序在此设置了 API函数，因为它在 DR DOS 5.0-6.0 下
的保护模式下没有直接意义
，所以该函数不使用任何
DOS 内部堆栈，因此可以随时调用；但是，
在 Novell DOS 7.0 - DR-DOS 7.02 下，此函数不可重入。
自 1998/05/29 起，DR-DOS 7.03 不再使用任何内部堆栈和
更早地测试此函数，以允许
除了 IRET 帧之外仅使用两个字的最小堆栈使用，允许
从 INT 21h 函数调用它，特别是设备驱动程序。这
修复了 MCS SMB 客户端
Novell NetWare（新的 DOS 请求程序除外）监视
任何 INT 24 集的偏移量，如果等于启动时的值，则替换
其自己的处理程序以允许处理网络错误；这引入
了一个潜在的错误，即任何 INT 24 处理程序偏移量
恰好与 COMMAND.COM 相同的程序都不会安装其 INT 24
处理程序
另见：AX=2501h,AH=35h

--------D-2135 -------------------------------------------
INT 21 - DOS 2+ - GET INTERRUPT VECTOR
AH = 35h
AL = 中断号
返回：ES:BX -> 当前中断处理程序
注意：在 DR DOS 5.0+ 下，此函数不使用任何 DOS 内部
堆栈，因此可能随时调用
SeeAlso： AH=25h,AX=2503h

设置中断向量的另一种方法是写入向量本身的内存位置：
示例将 Timerinterrupt(8) 设置为我们的新 ISR，从标签“TIMER_INT”：

```
mov ax,0
mov ds,ax
cli
mov WORD PTR ds:[8*4],OFFSET TIMER_INT
mov WORD PTR ds:[8*4+2],cs
sti 
```

短剑

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-25T13:24:48.597

十多年前我为 DOS 编写了一个 TSR 调试器（一种），所以我可能忘记了一些东西。

`cs`无论如何，您的中断处理程序除了指向您的中断处理程序的段和（显然）指向您的中断代码之外，您不得假设任何其他内容`ip`，这就是您所拥有的，并且您不得修改中断处理程序中的任何其他内容（除了你特别想修改）。您必须存储您使用的所有寄存器，但不能只`push`将它们存储到堆栈中，因为您不能假设还剩下任何堆栈。因此，请确保保留足够的内存来存储您在中断处理程序中修改的所有寄存器，并且当您保存寄存器时，请记住将其`cs`用作段寄存器，而不是默认的，`ds`也不是`es`，或`fs``gs``ss`，因为它们都可能指向内存中的任何位置，当然不会指向为您的 TSR 保留的任何内存块。存储标志也是一个好主意。

`int 21h`通常应避免在中断处理程序中调用。您可以使用 BIOS 调用 ( `int 10h`) 或直接写入视频内存（但如果您在 TSR 中写入视频内存，请先检查视频模式）。无论如何，在 TSR 中写入显存可能会导致问题，因为您不知道当前正在运行的程序如何使用它。

如果您想确保在您自己的中断处理程序期间没有执行其他中断，那么在您的中断处理程序`cli`开始时会阻止大多数中断，恕我直言是个好主意。`sti`请记住在之前允许中断`iret`。

# java - 如何将二维数组转换为以值为索引的一维数组？

> ID：12066629
> 
> 赞同：0
> 
> 时间：2012-08-22T05:12:38.520
> 
> 标签：java

我有一个由任何整数 N 动态创建的 2D 数组。最初，我需要将数组中的所有值设置为表示它“未初始化”的值，其中我使用数字“-1”。但是，我想将此二维数组转换为一维数组并将每个值分配为等于其在新一维数组中的索引。

```
public class Percolation {

private int[][] id;
private int[] array1D;
private int blocked = -1;   //a number that doesn't exist in the array

// create N-by-N grid, with all sites blocked
public Percolation(int N){

    id = new int[N][N];
    for (int k = 0; k < N; k++)
    { for (int i = 0; i < N; i++) id[k][i] = blocked; } 
}

// open site (row i, column j) if it is not already
public void open(int i, int j){

} 
```

在 open 方法中，它应该将给定索引处的值更改为一维数组中的相应索引。例如：

> [-1] [-1]
> 
> [-1] [-1]

然后会变成：

> [0] [1] [2] [3]

不幸的是，由于这是家庭作业，我不确定如何共享网格大小“N”以便能够创建一个以索引为值的新一维数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:23:54.017

我不确定这是否有助于回答您的问题，但以下算法用于索引表示二维矩阵的一维矩阵：

```
colSize*row+col 
```

其中 colSize 是最大列数。

例如下面的矩阵：

```
 [0, 1, 2, 3;
  4, 5, 6, 7;
  8, 9, 10, 11] 
```

所以要访问第 1 行第 3 列（即 6，它是索引号，可以通过以下方式找到：

```
3*1+3 = 6; 
```

因此，您应该能够使用此公式仅用列数和行数填写一维矩阵。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:26:24.783

您可以`N`在班级中使用`id.length`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T02:56:47.453

考虑到 N 是构造函数的给定参数，您也可以这样做：

```
public class Percolation {
     private int size;
     //...

    public Percolation(int N){
         size = N;
         //...    
    }
} 
```

变量的范围是你的所有类。如果您将其设置为公开，您还可以使用 p.size 访问它，其中 p 是 Percolation 的一个实例

# android - 如何知道进度条的大小？

> ID：12066637
> 
> 赞同：0
> 
> 时间：2012-08-22T05:13:46.350
> 
> 标签：android, android-widget

我想在相对布局中的 (x, y) 位置放置纺车进度条。为此，我必须知道进度条的大小。我怎么知道进度条的大小？还有比这更好的方法吗？

```
ProgressBar pb = new ProgressBar(context, null, android.R.attr.progressBarStyleSmall);
params = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
params.leftMargin = x - pb.getWidth() / 2;  // pb.getWidth() returns 0
params.topMargin = y - pb.getHeight() / 2;
addView(pb, params); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:36:17.973

直到视图渲染到屏幕上才定义宽度和高度。在您的情况下，它应该如下所示：

```
addView(pb, params);
leftMargin = x - pb.getWidth() / 2;  // pb.getWidth() returns 0
topMargin = y - pb.getHeight() / 2; 
```

[复制 1](https://stackoverflow.com/questions/3591784/android-get-width-returns-0) [复制 2](https://stackoverflow.com/questions/6145001/android-getwidth-and-getheight-are-returning-a-zero)

# c# - Visual Studio 中“首选 32 位”设置的目的是什么？它实际上是如何工作的？

> ID：12066638
> 
> 赞同：227
> 
> 时间：2012-08-22T05:13:47.523
> 
> 标签：c#, .net, visual-studio, compilation, cpu-architecture

![在此处输入图像描述](../Images/5000e74806f752618611839090959ba4.png)

我不清楚编译器如何在需要时自动知道编译为 64 位。它如何知道何时可以自信地瞄准 32 位？

我主要对编译器如何知道编译时要针对哪个架构感到好奇。它会分析代码并根据发现的内容做出决定吗？

* * *

## 回答 #1

> 赞同：236
> 
> 时间：2012-08-22T05:36:20.870

Microsoft 有一篇博客文章*[What AnyCPU 对 .NET 4.5 和 Visual Studio 11 的真正意义](https://dzone.com/articles/what-anycpu-really-means-net)*：

> 在 .NET 4.5 和 Visual Studio 11 中，奶酪已被移动。大多数 .NET 项目的默认值还是 AnyCPU，但现在 AnyCPU 的含义不止一种。AnyCPU 有一个额外的子类型，“Any CPU 32-bit Preferred”，这是新的默认值（总体而言，现在 /platform C# 编译器开关有五个选项：x86、Itanium、x64、anycpu 和 anycpu32bitpreferred ）。当使用 AnyCPU 的“Prefer 32-Bit”风格时，语义如下：
> 
> *   如果进程在 32 位 Windows 系统上运行，则它作为 32 位进程运行。IL 被编译成 x86 机器码。
> *   如果进程在 64 位 Windows 系统上运行，则它作为 32 位进程运行。IL 被编译成 x86 机器码。
> *   如果进程在 ARM Windows 系统上运行，它将作为 32 位进程运行。IL 被编译为 ARM 机器码。
> 
> **那么，“任何 CPU 32 位首选”和“x86”之间的区别仅在于：编译为 x86 的 .NET 应用程序将无法在 ARM Windows 系统上运行，但“任何 CPU 32 位首选”应用程序将无法运行将成功运行。**

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2019-11-23T18:37:38.467

这是一个简单的答案：

[![应用拱门。](../Images/c523849f2435fac4c97fc2d2fb8124c5.png)](https://i.stack.imgur.com/eOlDw.png)

**注意：** AnyCPU-32bitPreferred 仅在 .Net 4.5 及更高版本中可用。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-22T05:23:57.187

原因是：如果您不想在 64 位应用程序中使用更多内存。这意味着，如果您的应用程序是*AnyCPU*，您希望以 32 位运行。

要添加更多内容，Visual Studio 中的设置针对特定的 CLR：

> Visual Studio 在 x86 计算机上安装 32 位版本的 CLR，在 64 位 Windows 计算机上安装 32 位版本和适当的 64 位版本的 CLR。（因为Visual Studio是一个32位的应用程序，所以安装在64位系统上时，是在WOW64下运行的。）

请参阅文章*[64 位应用程序](http://msdn.microsoft.com/en-us/library/ms241064.aspx)*( [MSDN](http://en.wikipedia.org/wiki/Microsoft_Developer_Network) )。

# javascript - 用 javascript 解析 formdata 对象

> ID：12066640
> 
> 赞同：1
> 
> 时间：2012-08-22T05:14:00.373
> 
> 标签：javascript, multipartform-data, form-data

我的公司使用一个应用服务器，其中服务器端程序是用 javascript（不是 node.js）编写的。这是一个非常初始的事情，支持不是那么好

现在这是我的问题：

我必须在服务器端处理上传的 csv .. 我在[如何异步上传文件中使用超级答案？](https://stackoverflow.com/questions/166221/how-can-i-upload-files-asynchronously-with-jquery/8758614#8758614)（使用 jquery 传递 formdata 对象）并且我能够访问服务器端发送的文件。但是我该如何解析呢？

看起来像这样

```
------WebKitFormBoundaryU5rJUDxGnj15hIGW
内容处置：表单数据；名称="文件上传"; 文件名="test.csv"
内容类型：application/vnd.ms-excel

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20

------WebKitFormBoundaryU5rJUDxGnj15hIGW--

```

我真的很困惑如何在服务器端使用纯 JavaScript 处理这个文件。

请帮忙。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-02-07T18:16:22.367

最好的办法是使用[node-formidable](https://github.com/felixge/node-formidable)、 browserify 和 polyfill。这是一个独立的解析器，适用于字符串和原始响应。确保使用现代浏览器获取原始内容。

```
/* 
 * MultiPart_parse decodes a multipart/form-data encoded response into a named-part-map.
 * The response can be a string or raw bytes.
 *
 * Usage for string response:
 *      var map = MultiPart_parse(xhr.responseText, xhr.getResponseHeader('Content-Type'));
 *
 * Usage for raw bytes:
 *      xhr.open(..);     
 *      xhr.responseType = "arraybuffer";
 *      ...
 *      var map = MultiPart_parse(xhr.response, xhr.getResponseHeader('Content-Type'));
 *
 * TODO: Can we use https://github.com/felixge/node-formidable
 * See http://stackoverflow.com/questions/6965107/converting-between-strings-and-arraybuffers
 * See http://www.w3.org/Protocols/rfc1341/7_2_Multipart.html
 *
 * Copyright@ 2013-2014 Wolfgang Kuehn, released under the MIT license.
*/
function MultiPart_parse(body, contentType) {
    // Examples for content types:
    //      multipart/form-data; boundary="----7dd322351017c"; ...
    //      multipart/form-data; boundary=----7dd322351017c; ...
    var m = contentType.match(/boundary=(?:"([^"]+)"|([^;]+))/i);

    if ( !m ) {
        throw new Error('Bad content-type header, no multipart boundary');
    }

    var boundary = m[1] || m[2];

    function Header_parse(header) {
        var headerFields = {};
        var matchResult = header.match(/^.*name="([^"]*)"$/);
        if ( matchResult ) headerFields.name = matchResult[1];
        return headerFields;
    }

    function rawStringToBuffer( str ) {
        var idx, len = str.length, arr = new Array( len );
        for ( idx = 0 ; idx < len ; ++idx ) {
            arr[ idx ] = str.charCodeAt(idx) & 0xFF;
        }
        return new Uint8Array( arr ).buffer;
    }

    // \r\n is part of the boundary.
    var boundary = '\r\n--' + boundary;

    var isRaw = typeof(body) !== 'string';

    if ( isRaw ) {
        var view = new Uint8Array( body );
        s = String.fromCharCode.apply(null, view);
    } else {
        s = body;
    }

    // Prepend what has been stripped by the body parsing mechanism.
    s = '\r\n' + s;

    var parts = s.split(new RegExp(boundary)),
        partsByName = {};

    // First part is a preamble, last part is closing '--'
    for (var i=1; i<parts.length-1; i++) {
      var subparts = parts[i].split('\r\n\r\n');
      var headers = subparts[0].split('\r\n');
      for (var j=1; j<headers.length; j++) {
        var headerFields = Header_parse(headers[j]);
        if ( headerFields.name ) {
            fieldName = headerFields.name;
        }
      }

      partsByName[fieldName] = isRaw?rawStringToBuffer(subparts[1]):subparts[1];
    }

    return partsByName;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T10:18:47.840

好的，我自己设法做到了。我在几个浏览器中对其进行了测试，发现页眉是 3 行，页脚是 1 行。

我刚刚编写了一个简单的解析器，它通过换行符分割文件并将其逐行放入数组中。

这有助于我处理到现在。

```
function doProcess()
{

var i=0;
var str = '';
var arrayList = [];

for (i=0;i<fileContent.length;i++)
{
    if (fileContent[i] !== '\n')
    {
        str += fileContent[i];
    }
    else
    {
        str = str.replace("\r","");
        if (trim(str) !== "")
        {
            arrayList.push(str);
        }
        str = '';
    }
}

    // Remove header
    arrayList.splice(0,3);

    // Remove footer
    arrayList.splice(arrayList.length-1,1);

    // arrayList is an array of all the lines in the file
    console.log(arrayList); 
} 
```

# c# - 在 UML 中建模 C# 动作

> ID：12066641
> 
> 赞同：0
> 
> 时间：2012-08-22T05:14:00.873
> 
> 标签：c#, uml, action

我目前正在使用我非正统的 UML 技能来记录一些代码。目前，我正在建模一个就 UML 而言让我感到困惑的函数。

简而言之，这个函数分别创建了一个`Action, and this`Action `runs a statemachine in either blocking or non-blocking fashion (i.e. calls either`Invoke `or`BeginInvoke`）。

例如：

```
public void MyFunc()
{
    bool dummy_blocking;

    Action my_action = new Action( () => {
        RunSomeStateMachine();
    });

    if( dummy_blocking)
        my_action.BeginInvoke( null, null);
    else
        my_action.Invoke();
} 
```

您是否只使用 Create 消息创建一个`Action`, 然后在其`Action`生命线调用中（对自己）`RunSomeStateMachine`？之后，您会使用 alt 片段来调用`BeginInvoke`或`Invoke`调用`Action`? 周围的细节`Action`真的让我很难过。

编辑——这是我第一次尝试的一个例子：

![在此处输入图像描述](../Images/01d8d773cf94aa9831cfb90abcae76b5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:26:40.727

就个人而言，我不会详细记录代码。恕我直言，如果有人想确切地知道一个方法在做什么，他可以阅读这个方法。

记录更有趣的是更高的上下文以及软件的各个部分如何协同工作。谁在触发这个状态机，它到底在做什么？像这样的动作和东西只是实现细节。

# php - 正则表达式与 PHP 中的预期不匹配？

> ID：12066642
> 
> 赞同：1
> 
> 时间：2012-08-22T05:14:02.827
> 
> 标签：php, regex

这就是我正在做的事情：我正在使用 Simple HTML Dom 从外部站点抓取一些 HTML，然后去掉空格，并尝试使用正则表达式来获取我需要的信息并将其放入数组中。这段代码运行良好，直到外部站点修改了他们的 HTML，我不得不想出一个新的正则表达式。我制作了一个似乎捕获了我想要的所有内容的正则表达式（我使用了 regexr.com），但由于某种原因，现在我将它插入到我的代码中它无法正常工作。这是PHP：

```
<?php
header("Content-Type: text/plain");

require('../classes/simple_html_dom.php');
$html = file_get_html('http://www.***.com/');
$player_array = array();
foreach($html->find('table#herodev_list td') as $ele){
    $ele = $ele->innertext;
    $html_string = $html_string.$ele;
}
$html_string = str_replace(" ", "", $html_string);
$regex = '/(?<=/avatar/).+?(?=/)/';
preg_match_all($regex, $html_string, $matches);
foreach($matches[0] as $player){
    array_push($player_array, strtolower($player));
}
print_r($player_array); 
```

问题似乎在于 preg_match_all - 匹配数组是空的，所以我假设没有匹配。这是 $html_string 通常看起来的示例：

```
<imgsrc="http://minotar.net/avatar/Kainzo/10.png"><imgsrc="http://minotar.net/avatar/PuffinMuffin19/10.png"><imgsrc="http://minotar.net/avatar/neows0/10.png"><imgsrc="http://minotar.net/avatar/Sniped105/10.png"><imgsrc="http://minotar.net/avatar/EJBomber26/10.png"><imgsrc="http://minotar.net/avatar/GiantBeardedFace/10.png"><imgsrc="http://minotar.net/avatar/Montelu/10.png"><imgsrc="http://minotar.net/avatar/GreekCrackShot/10.png"><imgsrc="http://minotar.net/avatar/Marcellinius/10.png"><imgsrc="http://minotar.net/avatar/HelsEch/10.png"><imgsrc="http://minotar.net/avatar/NZD2000/10.png"><imgsrc="http://minotar.net/avatar/Mrchucklez/10.png"><imgsrc="http://minotar.net/avatar/Dragondrakar/10.png"><imgsrc="http://minotar.net/avatar/malita55/10.png"><imgsrc="http://minotar.net/avatar/Dazzlar/10.png"> 
```

我最好的猜测是 PHP 的正则表达式引擎与 Regexr 有所不同，或者我只是在做一些愚蠢的事情。自从我最初编写这个应用程序以来已经有几个月了，所以它的内部运作在我的脑海中并不新鲜。任何帮助表示赞赏。

另外，请不要给我旧的“不要使用正则表达式来解析 HTML……”的演讲。我知道。

顺便说一句，这是我的旧正则表达式，它可以正常工作（当然，输入是不同的）
`(?<=^|>)[^><]+?(?=<|$)`：.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:22:54.100

您必须转义正则表达式代码中的 /。

-编辑-

ascii-lime 还指出您可以将分隔符更改为另一个非字母数字字符（有例外）。为此，将表达式开头和结尾的 / 更改为所选字符。例子：

```
'/.+\/regex.com\/index.html+./' 
```

到

```
'!.+/regex.com/index.html+.!' 
```

# magento - 在magento中为特定页面自定义侧边栏

> ID：12066648
> 
> 赞同：2
> 
> 时间：2012-08-22T05:15:05.950
> 
> 标签：magento

我刚刚安装了 magento 以及它的示例数据。我将关于页面设置为使用带有左侧边栏的 2 列，并添加了一个自定义小部件。该小部件显示在默认块下方，第一个是比较产品，下方是我的购物车，下方是热门标签。在这三个之下是我的自定义静态块/小部件。

我将如何自定义此特定页面的左侧？我想删除它显示的默认块，只使用我的小部件。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:48:19.407

我发现下面的代码可以工作。如果有更好的方法/最佳实践方法，我想听听。谢谢

```
<reference name="left">
    <remove name="cart_sidebar"></remove>
    <remove name="catalog.compare.sidebar"></remove>
    <remove name="tags_popular"></remove>
</reference> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:23:42.100

在后台打开“关于我们”页面，

转到`Design`tab->`Page Layout`放置布局代码。这里是一个例子

**更新**

```
<reference name="left">
  <action method="unsetChild">tags_popular<name></name></action> <!-- remove tags -->
  <block type="cms/block" name="yourblock">
    <action method="setBlockId">
     <block_id>side_block</block_id>
    </action>
   </block>
</reference> 
```

# javascript - jQuery 复选框和选择 - 对值求和并添加到 var

> ID：12066649
> 
> 赞同：2
> 
> 时间：2012-08-22T05:15:06.363
> 
> 标签：javascript, jquery, html, select, checkbox

解释在代码下方：

HTML的代码是：

```
<div id="container"><h1>Add-ons</h1>
<input type="checkbox" name="ch1" value="10" id="qr1" />Add-on Number 1 - 10 QR <br />
<input type="checkbox" name="ch1" value="20" id="qr1" />Add-on Number 2 - 20 QR <br />
<input type="checkbox" name="ch1" value="40" id="qr1" />Add-on Number 3 - 40 QR <br />
<input type="checkbox" name="ch1" value="60" id="qr1" />Add-on Number 4 - 60 QR <br />
</div>

<div> I want more add-ons
<select id="more" name="more">
    <option value="0 QR">0</option>
    <option value="30 QR">1</option>
    <option value="50 QR">2</option>
    <option value="100 QR">3</option>
</select>
<span id="span"></span>
 User total usage: <span id="usertotal"> </span> 
```

jQuery：

```
//For select          

function displayVals() {
  var singleValues = $("#more").val();         
  $("#span").html("<b>more addons:</b> " + 
    singleValues);
}

$("select").change(displayVals);
displayVals();

//For  checkboxes
var $cbs = $('input[name="ch1"]');
$cbs.click(function() {
  var total = 0;
  $cbs.each(function() {
    if (this.checked)
      var singleValues = $("#more").val();
      total += +this.value + singleValues;
  });
  $("#usertotal").text(total);
}); 
```

我想要用户总使用量：创建复选框的总和并添加选项的值，这样如果我选择复选框 1 和 2 加上选项 1，我将在用户总使用量中写入：60。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T05:33:44.310

我为您的代码创建了一个**[小提琴](http://jsfiddle.net/jUUYJ/1/)**。

希望这是你想要的。

HTML：

```
<div id="container"><h1>Add-ons</h1>
<input type="checkbox" name="ch1" value="10" id="qr1" />Add-on Number 1 - 10 QR <br />
<input type="checkbox" name="ch1" value="20" id="qr1" />Add-on Number 2 - 20 QR <br />
<input type="checkbox" name="ch1" value="40" id="qr1" />Add-on Number 3 - 40 QR <br />
<input type="checkbox" name="ch1" value="60" id="qr1" />Add-on Number 4 - 60 QR <br />
</div>

<div> I want more add-ons
<select id="more" name="more">
    <option value="0">0</option>
    <option value="30">1</option>
    <option value="50">2</option>
    <option value="100">3</option>
</select>
<span id="span"></span>
 User total usage: <span id="usertotal"> </span> 
```

Javascript：

```
function displayVals() {
      calcUsage();
      var singleValues = $("#more").val();         
      $("#span").html("<b>more addons:</b> " + 
                  singleValues + ' QR');
}
var $cbs = $('input[name="ch1"]');
function calcUsage() {
    var total = $("#more").val();
    $cbs.each(function() {
        if (this.checked)
            total = parseInt(total) + parseInt(this.value);
    });
    $("#usertotal").text(total + ' QR');
}

    $("select").change(displayVals);
    displayVals();
//For  checkboxes

$cbs.click(calcUsage); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T05:30:01.087

这是你的答案

[工作演示](http://jsfiddle.net/H4d7W/)

```
 $('input:checkbox').change(function(){
var tot=0;
$('input:checkbox:checked').each(function(){
tot+=parseInt($(this).val());
});
 tot+=parseInt($('#more').val());
$('#usertotal').html(tot)
});

 $('#more').change(function(){
  $('input:checkbox').trigger('change');
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T06:01:24.953

[提琴手](http://jsfiddle.net/HEkjm/)

HTML：

```
<div id="container"><h1>Add-ons</h1>
<input type="checkbox" name="ch1" value="10" id="qr1" />Add-on Number 1 - 10 QR <br />
<input type="checkbox" name="ch1" value="20" id="qr1" />Add-on Number 2 - 20 QR <br />
<input type="checkbox" name="ch1" value="40" id="qr1" />Add-on Number 3 - 40 QR <br />
<input type="checkbox" name="ch1" value="60" id="qr1" />Add-on Number 4 - 60 QR <br />
</div>

<div> I want more add-ons
<select id="more" name="more">
    <option value="0">0</option>
    <option value="30">1</option>
    <option value="50">2</option>
    <option value="100">3</option>
</select>
<span id="span"></span>
 User total usage: <span id="usertotal"> </span> 
```

Javascript：

```
function displayVals() {
      calcUsage();
      var singleValues = $("#more").val();         
      $("#span").html("<b>more addons:</b> " + 
                  singleValues + ' QR');
}
var $cbs = $('input[name="ch1"]');
function calcUsage() {
    var total = $("#more").val();
    $cbs.each(function() {
        if (this.checked)
            total = parseInt(total) + parseInt(this.value);
    });
    $("#usertotal").text(total + ' QR');
}

    $("select").change(displayVals);
    displayVals();
//For  checkboxes

$cbs.click(calcUsage); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T07:47:04.090

我已经为上述查询完成了完整的垃圾箱。这里也是演示链接。

**演示：** [http ://codebins.com/bin/4ldqp85](http://codebins.com/bin/4ldqp85)

**HTML**

```
<div id="container">
  <h1>
    Add-ons
  </h1>
  <input type="checkbox" name="ch1" value="10" id="qr1" />
  Add-on Number 1 - 10 QR 
  <br />
  <input type="checkbox" name="ch1" value="20" id="qr1" />
  Add-on Number 2 - 20 QR 
  <br />
  <input type="checkbox" name="ch1" value="40" id="qr1" />
  Add-on Number 3 - 40 QR 
  <br />
  <input type="checkbox" name="ch1" value="60" id="qr1" />
  Add-on Number 4 - 60 QR 
  <br />
</div>
<div>
  I want more add-ons
  <select id="more" name="more">
    <option value="0 QR">
      0
    </option>
    <option value="30 QR">
      1
    </option>
    <option value="50 QR">
      2
    </option>
    <option value="100 QR">
      3
    </option>
  </select>
  <span id="span">
  </span>
  User total usage: 
  <span id="usertotal">

  </span>
</div> 
```

**jQuery**

```
$(function() {
    $('input[name="ch1"]:checkbox').change(function() {
        var total = 0;
        $('input[name="ch1"]:checked').each(function() {
            total += parseInt($(this).val());
        });
        total += parseInt($('#more').val());
        $('#usertotal').html(total);
    });
    $('#more').change(function() {
        var selectVal = $(this).val().trim();
        if (parseInt(selectVal) > 0) {
            $("#span").html("<b>more addons:</b> " + selectVal);
        } else {
            $("#span").html("");
        }
        $('input[name="ch1"]:checkbox').trigger('change');
    });
}); 
```

**演示：** [http ://codebins.com/bin/4ldqp85](http://codebins.com/bin/4ldqp85)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-22T05:30:09.930

我相信你只是`if`在函数中为你的语句丢失了一个块`each`：你不想增加`total`，除非`this.checked`是真的。此外，您希望将*所有*字符串转换为数字，这样您就不会从`+`- 我使用`parseInt`. 另外，从您的描述来看，您似乎只想从`option` *一次*中添加值，而不是每次都通过循环添加值，因此请使用它来初始化`total`：

```
$cbs.click(function()
{
    var total = parseInt($("#more").val());

    $cbs.each(function()
    {
        if (this.checked)
            total += parseInt(this.value);
    });

    $("#usertotal").text(total);
}); 
```

但是您还想在`select`更改时进行此计算并更新，因此您应该将此循环拉出到一个单独的函数中并使用以下方法调用它`click`：

```
function calculateTotal()
{
    var total = parseInt($("#more").val());

    $cbs.each(function()
    {
        if (this.checked)
            total += parseInt(this.value);
    });

    $("#usertotal").text(total);
}

$("#more").change(calculateTotal);
$cbs.click(calculateTotal); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-22T05:30:42.657

尝试这个

```
$("select").change(function() {
    $('input[name="ch1"]').change(); // trigger change to recalculate
});
$('input[name="ch1"]').change(function() {
    var singleValues = 0;
    $('input[name="ch1"]:checked').each(function() { // loop through checked inputs
        singleValues = +this.value + singleValues;
    });
    singleValues += (+$('#more').val().replace('QR', '').trim());  // add drop down to checked inputs
    $("#usertotal").text(singleValues);
});​ 
```

[http://jsfiddle.net/wirey00/5s8qr/](http://jsfiddle.net/wirey00/5s8qr/)

# asp.net-mvc - ASP.Net MVC 与 Razor 和 ASPX 视图引擎都在一个项目中

> ID：12066650
> 
> 赞同：3
> 
> 时间：2012-08-22T05:15:12.697
> 
> 标签：asp.net-mvc, razor

我们可以在一个 asp.net mvc 项目中同时使用 Razor 和 ASPX 视图引擎吗？

例如，Controller1 将使用 cshtml 页面 Controller2 将使用 aspx 视图。

或者我们可以动态更改视图引擎类型吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T05:20:51.130

我相信这篇[ASP.NET MVC 博客文章](http://weblogs.asp.net/gunnarpeipman/archive/2010/07/29/asp-net-mvc-3-using-multiple-view-engines-in-same-project.aspx)应该会给你你所追求的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-08T16:41:34.283

我在 razor 视图上构建了我的应用程序，所以我的默认视图文件是 Index.cshtml .. 而不是我使用 LIST.aspx 视图，这就是你冷的方式。很容易指定如下

```
public ActionResult Index() // this is Index Action
{
    var employees = db.Employees.Include("Department");//e => e.
    return View("LIST",employees.ToList()); // syntax this how u can use ASPX.view "LIST" is an ASPX View file in my application. 
} 
```

如果您有错误或任何事情，请告诉我

# android - 两个 ListView 如何在列表元素中共享一个公共视图？

> ID：12066655
> 
> 赞同：0
> 
> 时间：2012-08-22T05:15:37.940
> 
> 标签：android, android-layout

更新：在 Android 中，看起来（如果我错了），视图必须只有一个父级才能显示。这与许多其他 UI 系统的不同之处在于不允许共享视图。有人可以确认是否是这种情况吗？

我有一个广告视图（是的，我也不喜欢广告），它需要出现在两个单独的列表视图中。两个列表视图如何包含这种常见的广告视图？（广告视图由活动维护，而不是由列表适配器维护）。当我添加到一个时，它会从另一个中删除，因为如果我添加它，它会说它只能有一个父级。所以我删除了恰好是另一个列表视图中的持有者的父级。因此，广告最终一次只出现在一个列表中。但更一般地说，两个单独的视图如何各自包含另一个共同的视图？

如果我有两个视图 v1 和 v2 并且有第三个视图 v3 是一个包含图像和文本的 FrameLayout，则只是为了简化。我应该如何从 v1 和 v2 中引用这个 v3。我只是在 v1 和 v3 中包含 v3 吗？它是我想同时指出的 V3 的一个特定实例？

这是我要分享 my_ad.xml 的广告（请注意它是由 MainActivity 而不是 ListAdapters 创建/膨胀/更新的）：

```
<FrameLayout     android:id="@+id/myAd">
   <ImageView></ImageView>
</FrameLayout> 
```

这是我的 list_view_1_row

```
<RelativeLayout>
 ......
 <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:id="@+id/myAdHolder" />
     <include
    android:id="@+id/myAdInclude"
    layout="@layout/my_ad" />
 </LinearLayout>
<RelativeLayout> 
```

这是 list_view_2_row

```
<RelativeLayout>
 ......  .... 
 ......
 <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:id="@+id/myAdHolder" />
     <include
    android:id="@+id/myAdInclude"
    layout="@layout/my_ad" />
 </LinearLayout>
<RelativeLayout> 
```

所以现在假设我膨胀了 my_ad.xml 并在我的 MainActivity 中保留了对它的引用

```
 private FrameLayout myAdd;

   onCreate()
      myAd = (FrameLayout)inflater.inflate(my_ad.xml) 
```

现在我需要知道的是我现在如何在两个列表视图的元素中共享这个视图实例（由活动膨胀并且其内容由活动管理）？如何在列表视图的适配器中设置它。如果我添加它，我会遇到关于 View 不能有多个父级的问题。当我试图在行项目中获取对视图的引用时。如何将适配器中的 ViewHolder 值设置为此公共视图实例？

我在我的活动中管理广告，而不是在 ListAdapters 中，所以我想在两个单独的列表中共享活动托管视图，每个列表都有自己的适配器。

顺便说一句，除了添加 adView 之外，我尝试的另一件事是尝试在适配器中获取对 myAdInclude 的引用，但这返回为 null。我仍然需要以某种方式真正设置值......

当视图内容的创建/更新在逻辑上不属于任一列表视图时，我还想就如何维护由两个或多个列表视图/适配器共享的视图提出评论/意见？更新包含的视图时，列表视图会自动更新吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T02:04:23.873

Views are not generally sharable in Android because in order to be displayed they must have exactly one parent view at a time.

# sql - 选择不同粒度级别的数据（Oracle 中的分组集）

> ID：12066662
> 
> 赞同：0
> 
> 时间：2012-08-22T05:16:17.813
> 
> 标签：sql, oracle

我需要选择不同粒度级别的数据（在 Oracle 中）。我有一个数据表：

```
c1  c2  c3  c4
a   a1  10  5
a   a2  10  5
b   b1  10  5
b   b2  10  5 
```

我需要编写一个返回数据的查询：

```
c1  c2  c3
a   20  10   --aggregated data
a1  10  5    --lowest granular level data
a2  10  5    --lowest granular level data
b   20  10
b1  10  5    -- data of b1, b2 should follow the data of b; likewise a1, a2 should follow data of a
b2  10  5 
```

我发现这很不寻常，因为我需要同时选择最低粒度级别和聚合级别的数据。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:24:24.627

很难确定，因为您没有告诉我们如何从一个数据集到另一个数据集。不过，我的猜测是，您想要类似的东西

```
SELECT c1, sum(c3) c2, sum(c4) c3
  FROM table_name
 GROUP BY c1
UNION ALL
SELECT c2, sum(c3), sum(c4)
  FROM table_name
 GROUP BY c2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T06:06:53.367

你可以从这里开始：

```
SELECT C1, C2, sum(c3), sum(c4), grouping_id(c1, c2)
FROM table_name
group by rollup(c1,c2) 
```

只获取您需要的群组

```
SELECT C1, C2, sum(c3), sum(c4), grouping_id(c1, c2)
FROM table_name
group by GROUPING SETS ( (c1, c2), c1) 
```

[在这里](http://www.orafaq.com/node/56)看到另一个例子和解释。

# android - Android Ksoap2 - 复杂类型（请求和响应）

> ID：12066666
> 
> 赞同：2
> 
> 时间：2012-08-22T05:16:47.783
> 
> 标签：android, web-services, ksoap2

我正在使用 ksoap2 在 Android 中调用 java webservice。Java Web 服务方法是，

ImageProcessImpl.java

```
public UserResponse sample(UserRequest userRequest) {
     return ImageProcessDAO.sample(userRequest);
} 
```

ImageProcessDAO.java

```
public static String sample(UserRequest userRequest) {
     System.out.println(userRequest.getClientName());
     UserResponse UserResponse = new UserResponse();
     userResponse.setMessage("SUCCESS");
     return userResponse;
} 
```

我将这些来自 Android 的网络服务称为：

```
try{
        String NAMESPACE = "http://impl.test.com";
        String URL = "http://10.0.2.2:8080/Webservice/services/ImageProcessImpl?wsdl";  
        String SOAP_ACTION = "http://impl.test.com/sample";
        String METHOD_NAME = "sample";

        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 

        UserRequest userRequest = new UserRequest();            
        userRequest.setClientName("Test");

        PropertyInfo pi = new PropertyInfo();
        pi.setName("userRequest");
        pi.setValue(userRequest);
        pi.setType(UserRequest.class);
        request.addProperty(pi);

        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11); 
        envelope.setOutputSoapObject(request);  
        envelope.implicitTypes = true;
        envelope.addMapping(NAMESPACE, "UserResponse", UserResponse.class);

        AndroidHttpTransport httpTransport = new AndroidHttpTransport(URL);  
        httpTransport.debug = true;
        httpTransport.call(SOAP_ACTION, envelope);

       UserResponse response = (UserResponse) envelope.getResponse(); 
       Log.e(Test.LOG_TAG, response.getMessage());
        }catch (Exception e) {
            Log.e(Test.LOG_TAG, "throws an exception: " + e.getMessage());
        } 
```

但是我的 Logcat 中的错误是“**引发异常：无法序列化：com.test.common.UserRequest** ”。如何修复此错误？这是调用复杂类型的 Web 服务的正确方法吗？

我的 wsdl 文件是，

```
<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions targetNamespace="http://impl.test.com" xmlns:apachesoap="http://xml.apache.org/xml-soap" xmlns:impl="http://impl.test.com" xmlns:intf="http://impl.test.com" xmlns:tns1="http://common.test.com" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:wsdlsoap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<!--WSDL created by Apache Axis version: 1.4
Built on Apr 22, 2006 (06:55:48 PDT)-->
 <wsdl:types>
  <schema elementFormDefault="qualified" targetNamespace="http://impl.test.com" xmlns="http://www.w3.org/2001/XMLSchema">
   <import namespace="http://common.test.com"/>
   <element name="sample">
    <complexType>
     <sequence>
      <element name="userRequest" type="tns1:UserRequest"/>
     </sequence>
    </complexType>
   </element>
   <element name="sampleResponse">
    <complexType>
     <sequence>
      <element name="sampleReturn" type="tns1:UserResponse"/>
     </sequence>
    </complexType>
   </element>
  </schema>
  <schema elementFormDefault="qualified" targetNamespace="http://common.test.com" xmlns="http://www.w3.org/2001/XMLSchema">
   <complexType name="UserRequest">
    <sequence>
     <element name="clientName" nillable="true" type="xsd:string"/>
    </sequence>
   </complexType>
   <complexType name="UserResponse">
    <sequence>
     <element name="message" nillable="true" type="xsd:string"/>
    </sequence>
   </complexType>
  </schema>
 </wsdl:types>

   <wsdl:message name="sampleRequest">

      <wsdl:part element="impl:sample" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:message name="sampleResponse">

      <wsdl:part element="impl:sampleResponse" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:portType name="ImageProcessImpl">

      <wsdl:operation name="sample">

         <wsdl:input message="impl:sampleRequest" name="sampleRequest">

       </wsdl:input>

         <wsdl:output message="impl:sampleResponse" name="sampleResponse">

       </wsdl:output>

      </wsdl:operation>

   </wsdl:portType>

   <wsdl:binding name="ImageProcessImplSoapBinding" type="impl:ImageProcessImpl">

      <wsdlsoap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
      <wsdl:operation name="sample">

         <wsdlsoap:operation soapAction=""/>

         <wsdl:input name="sampleRequest">

            <wsdlsoap:body use="literal"/>

         </wsdl:input>

         <wsdl:output name="sampleResponse">

            <wsdlsoap:body use="literal"/>

         </wsdl:output>

      </wsdl:operation>

   </wsdl:binding>

   <wsdl:service name="ImageProcessImplService">

      <wsdl:port binding="impl:ImageProcessImplSoapBinding" name="ImageProcessImpl">

         <wsdlsoap:address location="http://localhost:8080/Webservice/services/ImageProcessImpl"/>

      </wsdl:port>

   </wsdl:service>

</wsdl:definitions> 
```

我使用了 KvmSerializable。我 `private Client[] clientNameList = null;`在 UserRequest.java 中又添加了一个数组 bean 变量。

当我调用 Web 服务时，它在请求中工作正常。但在响应中，我得到一个包含所有值的字符串。响应字符串如下所示。

`anyType{clientNameList=anyType{clientNameList=anyType{clientID=1; }; clientNameList=anyType{clientID=2; }; }; message=SUCCESS; }.`

我怎样才能解析这个字符串？

用户响应.java

```
public class UserResponse implements KvmSerializable{

public String message = null;
public Client[] clientNameList = null;

@Override
public Object getProperty(int index) {
    switch (index){
    case 0:
        return message;
    case 1:
        return clientNameList;
     default:
         return null;
    }
}

@Override
public int getPropertyCount() {
    // TODO Auto-generated method stub
    return 2;
}

@Override
public void getPropertyInfo(int index, Hashtable arg1, PropertyInfo info) {
    switch(index)
    {
    case 0:
        info.type = PropertyInfo.STRING_CLASS;
        info.name = "message";
        break;
    case 1:
        info.type = PropertyInfo.OBJECT_TYPE;
        info.name = "clientNameList";
        break;
    default:
        break;
    }

}

@Override
public void setProperty(int index, Object value) {
    switch(index)
    {
    case 0:
        message = value.toString();
        break;
    case 1:
        clientNameList = (Client[]) value;
        break;
    default:
        break;
    }

}   
} 
```

Client.java 仅包含 Integer 类型的 clientId。

**更新了代码和 wsdl**

ImageProcessImpl.java

```
public UserResponse sample(UserRequest userRequest) {
     return ImageProcessDAO.sample(userRequest);
} 
```

ImageProcessDAO.java

```
public static String sample(UserRequest userRequest) {
    System.out.println(userRequest.getClientName());
    UserResponse userResponse = new UserResponse();
    userResponse.setMessage(SUCCESS);
    Client[] clients = new Client[2];
    Client client = null;
    for(int i=0;i<2;i++)
    {
        client = new Client();
        client.setClientID(i+1);
        clients[i] = client;
    }
    userResponse.setClientNameList(clients);
    return userResponse;
} 
```

我将这些来自 Android 的网络服务称为：

```
try{
        String NAMESPACE = "http://impl.test.com";
        String URL = "http://10.0.2.2:8080/Webservice/services/ImageProcessImpl?wsdl";  
        String SOAP_ACTION = "http://impl.test.com/sample";
        String METHOD_NAME = "sample";

        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 

        UserRequest userRequest = new UserRequest();            
        userRequest.setClientName("Test");

        PropertyInfo pi = new PropertyInfo();
        pi.setName("userRequest");
        pi.setValue(userRequest);
        pi.setType(UserRequest.class);
        request.addProperty(pi);

        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11); 
        envelope.setOutputSoapObject(request);  
        envelope.implicitTypes = true;
        envelope.addMapping(NAMESPACE, "userRequest", UserRequest.class);
        envelope.addMapping(NAMESPACE, "UserResponse", UserResponse.class);

        AndroidHttpTransport httpTransport = new AndroidHttpTransport(URL);  
        httpTransport.debug = true;
        httpTransport.call(SOAP_ACTION, envelope);

       SoapObject result = (SoapObject) envelope.getResponse();
       userResponse.message = result.getProperty(0).toString();
       Log.e(Test.LOG_TAG, userResponse.message);
        }catch (Exception e) {
            Log.e(Test.LOG_TAG, "throws an exception: " + e.getMessage());
        } 
```

我的新 wsdl 文件是，

```
<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions targetNamespace="http://impl.test.com" xmlns:apachesoap="http://xml.apache.org/xml-soap" xmlns:impl="http://impl.test.com" xmlns:intf="http://impl.test.com" xmlns:tns1="http://common.test.com" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:wsdlsoap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<!--WSDL created by Apache Axis version: 1.4
Built on Apr 22, 2006 (06:55:48 PDT)-->
 <wsdl:types>
  <schema elementFormDefault="qualified" targetNamespace="http://impl.test.com" xmlns="http://www.w3.org/2001/XMLSchema">
   <import namespace="http://common.test.com"/>
   <element name="sample">
    <complexType>
     <sequence>
      <element name="userRequest" type="tns1:UserRequest"/>
     </sequence>
    </complexType>
   </element>
   <element name="sampleResponse">
    <complexType>
     <sequence>
      <element name="sampleReturn" type="tns1:UserResponse"/>
     </sequence>
    </complexType>
   </element>
   <complexType name="ArrayOf_tns1_Client">
    <sequence>
     <element maxOccurs="unbounded" minOccurs="0" name="item" type="tns1:Client"/>
    </sequence>
   </complexType>
  </schema>
  <schema elementFormDefault="qualified" targetNamespace="http://common.test.com" xmlns="http://www.w3.org/2001/XMLSchema">
   <import namespace="http://impl.test.com"/>
   <complexType name="UserRequest">
    <sequence>
     <element name="clientName" nillable="true" type="xsd:string"/>
    </sequence>
   </complexType>
   <complexType name="Client">
    <sequence>
     <element name="clientID" type="xsd:int"/>
    </sequence>
   </complexType>
   <complexType name="UserResponse">
    <sequence>
     <element name="clientNameList" nillable="true" type="impl:ArrayOf_tns1_Client"/>
     <element name="message" nillable="true" type="xsd:string"/>
    </sequence>
   </complexType>
  </schema>
 </wsdl:types>

   <wsdl:message name="sampleRequest">

      <wsdl:part element="impl:sample" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:message name="sampleResponse">

      <wsdl:part element="impl:sampleResponse" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:portType name="ImageProcessImpl">

      <wsdl:operation name="sample">

         <wsdl:input message="impl:sampleRequest" name="sampleRequest">

       </wsdl:input>

         <wsdl:output message="impl:sampleResponse" name="sampleResponse">

       </wsdl:output>

      </wsdl:operation>

   </wsdl:portType>

   <wsdl:binding name="ImageProcessImplSoapBinding" type="impl:ImageProcessImpl">

      <wsdlsoap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>

      <wsdl:operation name="sample">

         <wsdlsoap:operation soapAction=""/>

         <wsdl:input name="sampleRequest">

            <wsdlsoap:body use="literal"/>

         </wsdl:input>

         <wsdl:output name="sampleResponse">

            <wsdlsoap:body use="literal"/>

         </wsdl:output>

      </wsdl:operation>

   </wsdl:binding>

   <wsdl:service name="ImageProcessImplService">

      <wsdl:port binding="impl:ImageProcessImplSoapBinding" name="ImageProcessImpl">

         <wsdlsoap:address location="http://localhost:8080/Webservice/services/ImageProcessImpl"/>

      </wsdl:port>

   </wsdl:service>

</wsdl:definitions> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-23T04:32:51.553

我会坚持简单地获取 XML 中的响应并使用任何 XML Parser 来解析更容易的响应。另外我会坚持你使用[`ksoap2-android-assembly-2.5.4-jar-with-dependencies.jar`](http://www.java2s.com/Code/Jar/k/Downloadksoap2androidassembly254jarwithdependenciesjar.htm)你正在使用的那个已被弃用。

`AndroidHttpTransport` 正在被取代`HttpTransportSE`

以下是如何在 XML 中获得响应，

```
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL, 100);
androidHttpTransport.debug=true; 
androidHttpTransport.call(SOAP_ACTION, envelope);
String response = androidHttpTransport.responseDump;
Log.d("Response in XML", response); 
```

您将在 String 中获得响应，`response`并且您可以使用`SAX`或任何其他 XML 解析器对其进行解析。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T12:57:32.450

您的 UserRequest 类需要实现 org.ksoap2.serialization.KvmSerializable。

# java - 将 TextView 直接放在 ImageView 的下方，尽可能多地占用空间而不进行裁剪

> ID：12066668
> 
> 赞同：1
> 
> 时间：2012-08-22T05:17:12.833
> 
> 标签：java, android, android-layout

我很难让它正常工作。我有一个`ImageView`和一个`TextView`，都在一个`LinearLayout`。我希望在`ImageView`不裁剪或更改纵横比的情况下尽可能多地占用父视图，但为其正下方的 TextView 留出足够的空间。我有这个主要工作，但是当图像的高度足够小以在父视图中留下额外的空间时，TextView 只出现在 的最底部`LinearLayout`，而不是图像的正下方。

我尝试了许多布局参数的组合，摆弄了 ImageView 和 TextView 的重力、重量、高度和宽度。我什至尝试使用 a `RelativeLayout`，但结果非常不一致。

这是我的代码的相关部分：

```
// Create a vertical linear layout to hold the image with the caption below
// it, taking up as much space on the screen as possible
LinearLayout ll = new LinearLayout(context);
ll.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
ll.setOrientation(LinearLayout.VERTICAL);
ll.setGravity(Gravity.CENTER);

// Get the image view
ImageView img = new ImageView(context);
LayoutParams ilp = new LayoutParams(LayoutParams.MATCH_PARENT, 0);
ilp.weight = 1;
ilp.gravity = Gravity.CENTER;
img.setLayoutParams(ilp);

// Create the caption view
TextView cap = new TextView(context);
cap.setText("Example caption text");
LayoutParams clp = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
clp.weight = 0;
clp.gravity = Gravity.CENTER_HORIZONTAL;
cap.setLayoutParams(clp);

// Add views to the linear layout
ll.addView(img);
ll.addView(cap);

// Load the image using an AsyncTask
loadImageTask = new LoadCachedImageTask(context, img, pos);
loadImageTask.execute("image src"); 
```

这是“良好行为”的图像，其中图像被放大到文本仍然可见的点：

![良好的行为](../Images/52b4fb6fc839887f672b6c40fb87001b.png)

这是“不良行为”的图像，图像上方和下方都有空间，但文本仍留在底部：

![不良行为](../Images/1e72855776970b7ce295c5f44acb7021.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:32:19.197

无需过多地摆弄重力等等；只是改变

`LayoutParams clp = new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);`

你的 textview 到

```
LayoutParams clp = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT); 
```

希望它能解决你的问题:)干杯:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:59:35.233

您希望您的文本视图与图像视图相关，即无论图像是小还是大，都在它的下方。RelativeLayout 可以轻松处理这种情况，建议使用 RelativeLayout 作为容器，即使设备的大小或分辨率发生变化，它也有助于调整视图。您可以使用此示例代码：

```
<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center" >

    <ImageView
        android:id="@+id/image"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/stack" />

    <TextView
        android:id="@+id/text1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/image"
        android:layout_alignLeft="@id/image"
        android:text="This is image"
        android:layout_marginTop="10dp" />
</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T17:52:57.510

你为什么不只使用`drawableTop`的属性`TextView`

```
 <TextView
      android:layout_height="wrap_content"
      android:layout_width="match_parent"
      android:drawableTop="@drawable/your_drawable"
      .... /> 
```

你可以按照你想要的方式设置可绘制的填充

# c# - 使用 C# 将光标移动到 MsWord 中文本的末尾？

> ID：12066675
> 
> 赞同：3
> 
> 时间：2012-08-22T05:17:51.957
> 
> 标签：c#, visual-studio, ms-word

这个问题可能听起来很简单，但我找不到任何解决方案。我想做的是将 MsWord 中的光标位置移动到文本的末尾。我的代码如下

```
 object StartPos = 0;
  object Endpos = 1;
  Microsoft.Office.Interop.Word.Range rng= oDoc.Range(ref StartPos, ref Endpos);
  rng.Text = "This is first line Word from C#"; 
```

输出是

**I**这是来自 C# 的第一行 Word

但是我想要这样的东西

这是 C# **I中的第一行 Word**

谢谢大家

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-23T04:01:42.133

好吧，谢谢大家的回复我似乎找到了一个简单的解决方案。我尝试修改哈桑的解决方案。可能有一个更简单的方法，但到目前为止我已经找到了

```
object NewEndPos = rng.StoryLength-1;
        rng = oDoc.Range(ref NewEndPos, ref NewEndPos);
        rng.Select(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-23T02:19:26.050

这个怎么样？这与按 Ctrl-Shift-End 相同。请注意，这`word`是单词应用程序，而不是文档。假定已经选择了正确的活动文档。

```
word.Selection.EndKey(WdUnits.wdStory); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:36:32.360

```
rng= oDoc.Range(ref Endpos, ref Endpos);
rng.Select(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-22T06:08:49.677

[类似问题 - 将光标定位在 Word 文档的开头/结尾](https://stackoverflow.com/questions/1591682/position-cursor-at-start-end-of-word-document)

该答案更详细地介绍了`which`和`what`。答案在 c# 和 vb 之间混杂在一起，因此我在此处提供*了另一个答案*，它使用稍微不同的方法转到文档的最后一部分。

我的两分钱：

```
//vb does this kind of thing for them
//but in c# we need an object we can pretend is null
object oMissing = System.Reflection.Missing.Value;

//Start Word and create a new document.
Word._Application oWord;
Word._Document oDoc; //whenever i read this i think 'hodor'
oWord = new Word.Application();
oWord.Visible = true;
oDoc = oWord.Documents.Add(ref oMissing, ref oMissing,
  ref oMissing, ref oMissing);

object StartPos = 0;
object Endpos = 1;

Microsoft.Office.Interop.Word.Range rng = oDoc.Range(ref StartPos, ref Endpos);
rng.Text = "This is first line Word from C#";

//object what = Word.WdGoToItem.wdGoToLine;
//I couldn't get wdGoToLine to work but wdGoToPercent was happy
object what = Word.WdGoToItem.wdGoToPercent;
object which = Word.WdGoToDirection.wdGoToLast;

oWord.Selection.GoTo(ref what, ref which, oMissing, oMissing); 
```

这种方法略有不同，它不会告诉 word 将光标移动到最后一行，而是文档的最后一个*百分比*，我必须假设为 100。那将是一行的结尾-line 文档，但是如果光标在第一行（在开头）并且我们告诉 Word 转到最后一行，则什么也不会发生：我们已经在最后*一行的**开头*。

 ** * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-22T05:33:59.583

试试这个方法：

```
oDoc.GoTo(ref what, ref which, ref missing, ref missing); 
```*

# maven - Maven - 安全地删除未使用的声明依赖项

> ID：12066676
> 
> 赞同：2
> 
> 时间：2012-08-22T05:17:58.107
> 
> 标签：maven, maven-2, maven-3

[这是](https://stackoverflow.com/questions/4565740/what-are-unused-undeclared-dependencies-in-maven-what-to-do-with-them)一个建议使用`dependency:analyze`来删除项目中未使用的依赖项的问题。但是，当我阅读[有关此的 sonatype 文档时](http://www.sonatype.com/books/mvnex-book/reference/optimizing-sect-dependency-plugin.html)，我开始明白，如果我要删除那些未使用的依赖项，我可能必须小心。

这是相关部分：

> 删除任何未使用的、已声明的依赖项时要小心，除非您有很好的测试覆盖率，否则您可能会引入运行时错误。字节码优化出现了一个更险恶的问题。例如，编译器替换常量的值并优化引用是合法的。删除此依赖项将导致编译失败，但该工具将其显示为未使用。Maven 依赖插件的未来版本将提供更好的技术来检测和/或忽略这些类型的问题。

1.  我似乎不理解这种情况，他们是否在谈论是否通过反射 API 访问任何依赖项的类/方法的情况？如果是这样，maven-3 的依赖插件是否有更好的技术来处理这个问题？

2.  还有为什么没有`unused + undeclared`依赖分析？我拥有的（未声明的）传递依赖项可以未被使用，但仍然是我的“战争”的一部分，我更愿意排除它，对吗？

编辑：我想关于[依赖范围](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope)的注释会回答我的第二个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T06:04:42.743

正如您在 1\. 中所描述的那样，他们正在谈论这样的事情（反射），或者可能是依赖注入（在幕后使用反射）之类的事情。

# java - 装箱的值被取消装箱，然后立即重新装箱

> ID：12066682
> 
> 赞同：11
> 
> 时间：2012-08-22T05:18:34.803
> 
> 标签：java, findbugs, autoboxing

我收到 Findugs 错误“一个装箱的值被取消装箱，然后立即重新装箱”。

这是代码：

```
Employee emp = new Employee()
Long lmt = 123L;

emp.setLimit(Long.valueOf(lmt)); 
```

在此，Employee`limit`字段的类型为`Long`。你能告诉我错误是什么吗？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-22T05:23:53.393

问题是您正在转换`Long`-> `long`-> `Long`。

所以在后台：

1.  `Long.valueOf(lmt)`转换`Long`为`long`
2.  `emp.setLimit(<long>);` 再次转换`long`为`Long`

从 Java 5 开始自动装箱 => 您的代码应如下所示：

```
Employee emp = new Employee()
Long lmt = 123L;

emp.setLimit(lmt); 
```

甚至：

```
Employee emp = new Employee()
long lmt = 123L;

emp.setLimit(lmt); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-22T05:22:47.670

发生这种情况是因为`Long.valueOf(long)`会将您的`lmt`from `Long`to拆箱`long`，只是为了`Long`再次获得。正如你所说`limit`的那样`Long`，你不需要使用`Long.valueOf`，只需使用var：

```
emp.setLimit(lmt); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:25:33.970

```
emp.setLimit(Long.valueOf(lmt)); 
```

`Long.valueOf`接受一个`long`值，但你传递一个`Long`值——强制拆箱。然而，紧接着，`Long.valueOf`重新装箱该值并且表达式`Long`再次计算为 a。FindBugs 检测到不必要的转换链`Long`-> `long`-> `Long`。

# sql - 尝试从游标访问值时出错

> ID：12066684
> 
> 赞同：-1
> 
> 时间：2012-08-22T05:18:37.767
> 
> 标签：sql, plsql

假设一个名为的游标`cur(param_1 number,param_2 varchar2)`返回三个值，如下所示

```
地名值
pl1芒果好
pl2葡萄不好
pl3苹果好
pl4橘色很好

```

如何从该光标中单独获取每个值并执行操作，就像我想要获取`pl1`并执行此操作一样

```
for y in cur1(param_1,param_2) loop
if y.place='pl1' then
do this
elsif y.place='pl2' then
do this
else 
do this.
end if; 
```

在我的程序中出现错误说

> 错误：'pls-00364：循环索引变量'y'使用无效'。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T07:48:24.513

您正在`y`循环内使用索引值。

像这样的代码[SQL Fiddle](http://sqlfiddle.com/#!4/48c88/20)应该可以工作，至少它对我有用。

```
DECLARE
  CURSOR cur(param_1 number,param_2 varchar2) IS
     SELECT place, name, value FROM product;

  auxCur cur%ROWTYPE;

BEGIN
  FOR y IN cur(1,'2') LOOP
    IF auxCur.place = 'pl1' THEN
        dbms_output.put_line('1');
      ELSIF auxCur.place = 'pl2' THEN
        dbms_output.put_line('2');
      ELSE
        dbms_output.put_line('3');
    END IF;
  END LOOP;
END; 
```

# linux - 关于 /proc 文件系统

> ID：12066685
> 
> 赞同：0
> 
> 时间：2012-08-22T05:18:41.290
> 
> 标签：linux, filesystems, kernel, ioctl, proc

我在 proc 文件系统中使用以下命令

```
echo 0 > /proc/sys/net/ipv4/ip_forward 
```

注意：我不想知道上面写的命令的基本内容，我想知道当它进入内核时会发生什么。作为，我想实现 /proc 文件之一。

现在，如果我想从文件系统中回显 0 时开始跟踪代码，那么该怎么做。我的意思是，如果我想追踪我这样做时会发生什么。

我想看看这个 0 在内核代码中的哪个位置被接受以及它被存储在哪个值中以便进行更改。请，有人可以告诉你调用这个命令时会发生什么。我要详细解释。我不想要命令的描述。

任何有关它如何更改内核参数的相关文章也很好。我读过这个，但没有在那里解释。[http://www.linuxjournal.com/article/8381](http://www.linuxjournal.com/article/8381) 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:31:05.713

通过 linux 树（尤其是网络堆栈）搜索 create_proc_entry 函数。从传递给 create_proc_entry 的名称中找出创建 ip_forward 的文件（它必须在 ip4v 驱动程序中）。找到文件后，查看 proc_dir_entry 结构的创建位置以及为其 read_proc、write_proc 成员分配了哪些函数。

# apache - 如何在apache tomcat中实现url maxtry过滤器

> ID：12066688
> 
> 赞同：2
> 
> 时间：2012-08-22T05:19:01.447
> 
> 标签：apache, filter

任何人请给我一些想法来实现maxtry概念。

我想在一定数量的访问后销毁 url 路径。

例如，如果我为运行时生成的 url (http://localhost:8080/Club/dely/ios/item/42/23/cc.mp4) 赋予 maxtry = 2，则在上述两次访问之后url 第三次该 url 路径将无法为任何人访问。

如何使用 apache 过滤器来实现这一点？

提前致谢。

# tridion - 如何使用核心服务在 Tridion 中取消发布已发布的页面？

> ID：12066697
> 
> 赞同：1
> 
> 时间：2012-08-22T05:19:50.417
> 
> 标签：tridion, tridion-2011

我在一个出版物的结构组中创建了一些页面。我想使用核心服务取消发布所有已发布的页面。谁能帮我吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-22T08:09:38.043

您可以使用 CoreService 客户端的 .UnPublish 方法，将您希望从中取消发布页面的 StructureGroup 的 URI 传递给它。这就是 CoreService API 参考（非常值得一读...）所说的：

> 取消发布来自给定目标的 IdentifiableObjectData 实例集合。

```
IEnumerable<PublishTransactionData> UnPublish(
    IEnumerable<string> ids,
    UnPublishInstructionData unPublishInstruction,
    IEnumerable<string> targets,
    Nullable<PublishPriority> priority,
    ReadOptions readOptions
) 
```

**参数**

*ids*
`Type: System.Collections.Generic.IEnumerable<String>`
要取消发布的项目的标识符集合（TCM URI 或 WebDav URL）。

*unPublishInstruction*
`Type: Tridion.ContentManager.Data.Publishing.UnPublishInstructionData`
取消发布操作的指令。

*目标*
`Type: System.Collections.Generic.IEnumerable<String>`
表示要取消发布的发布目标或目标类型的目标标识符集合。这不能包含两者的组合。

*priority*
`Type: System.Nullable<PublishPriority>`
取消发布操作的优先级。传递 null 将使用来自发布目标的优先级。

*readOptions*
`Type: Tridion.ContentManager.CoreService.ReadOptions`
指定在取消发布后如何回读发布事务。如果参数为 null，则使用 None 读取项目。

**返回值**
PublishTransactionData 的集合

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-22T11:15:45.990

我没有适合您的复制/粘贴代码段，但考虑到 Jeremy 摘自相关方法的 API 文档和这些发布项目的示例，这应该不是很困难：

*   [http://blog.building-blocks.com/publishing-components-using-the-core-service-in-sdl-tridion-2011](http://blog.building-blocks.com/publishing-components-using-the-core-service-in-sdl-tridion-2011)
*   [http://blog.building-blocks.com/sdl-tridion-2011-component-publisher](http://blog.building-blocks.com/sdl-tridion-2011-component-publisher)
*   [无法让核心服务客户端工作](https://stackoverflow.com/questions/11392207/unable-to-get-core-service-client-working)

请记住，如果***您***首先自己完成一些工作，然后向我们展示您遇到的问题，那么 Stack Overflow 效果最好。

# java - 尽管我使用了 Swing Timer，但在 JPanel 上从动画中绘制 Wave 时 GUI 冻结

> ID：12066698
> 
> 赞同：3
> 
> 时间：2012-08-22T05:19:50.943
> 
> 标签：java, swing, timer, bufferedimage, paintcomponent

请看我的代码片段，它有什么问题，当 Swing 计时器统计数据重复绘制在 jpnael 上时，它会冻结 GUI？

```
class WaveformPanel extends JPanel {

        Timer graphTimer = null;
        AudioInfo helper = null;

        WaveformPanel() {
            setPreferredSize(new Dimension(200, 80));
            setBorder(BorderFactory.createLineBorder(Color.BLACK));
            graphTimer = new Timer(15, new TimerDrawing());
        }

        /**
         * 
         */
        private static final long serialVersionUID = 969991141812736791L;
        protected final Color BACKGROUND_COLOR = Color.white;
        protected final Color REFERENCE_LINE_COLOR = Color.black;
        protected final Color WAVEFORM_COLOR = Color.red;

        protected void paintComponent(Graphics g) {

            super.paintComponent(g);

            int lineHeight = getHeight() / 2;
            g.setColor(REFERENCE_LINE_COLOR);
            g.drawLine(0, lineHeight, (int) getWidth(), lineHeight);

            if (helper == null) {
                return;
            }

            drawWaveform(g, helper.getAudio(0));

        }

        protected void drawWaveform(Graphics g, int[] samples) {

            if (samples == null) {
                return;
            }

            int oldX = 0;
            int oldY = (int) (getHeight() / 2);
            int xIndex = 0;

            int increment = helper.getIncrement(helper
                    .getXScaleFactor(getWidth()));
            g.setColor(WAVEFORM_COLOR);

            int t = 0;

            for (t = 0; t < increment; t += increment) {
                g.drawLine(oldX, oldY, xIndex, oldY);
                xIndex++;
                oldX = xIndex;
            }

            for (; t < samples.length; t += increment) {
                double scaleFactor = helper.getYScaleFactor(getHeight());
                double scaledSample = samples[t] * scaleFactor;
                int y = (int) ((getHeight() / 2) - (scaledSample));
                g.drawLine(oldX, oldY, xIndex, y);

                xIndex++;
                oldX = xIndex;
                oldY = y;
            }
        }

        public void setAnimation(boolean turnon) {
            if (turnon) {
                graphTimer.start();
            } else {
                graphTimer.stop();
            }
        }

        class TimerDrawing implements ActionListener {

            @Override
            public void actionPerformed(ActionEvent e) {

                byte[] bytes = captureThread.getTempBuffer();

                if (helper != null) {
                    helper.setBytes(bytes);
                } else {
                    helper = new AudioInfo(bytes);
                }
                repaint();
            }
        }

    } 
```

我从其父类调用 WaveFormPanel 的 setAnimation。当动画开始时，它不会绘制任何东西，而是冻结。请给我解决方案。

谢谢你米希尔帕雷克

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:25:24.377

中的`java.swingx.Timer`调用。那么问题是，什么需要时间来渲染。可能是对它的调用可能是帮助的构建，但我怀疑这只是您尝试绘制的数据的共享量。`ActionPerformed``EDT``captureThread.getTempBuffer`

最近玩了这个，处理波形需要相当多的时间。

一个建议可能是减少您绘制的样本数量。而不是绘制每一个，可能会根据组件的宽度每隔一秒或四次绘制采样点。你仍然应该得到同样的笑话，但没有所有的工作......

**更新**

所有样本，2.18 秒

![所有样品](../Images/7caec4949397211531181ad941870eab.png)

每 4 个样本，0.711 秒

![在此处输入图像描述](../Images/66a9870ac6fb946c71997eb04c6d8488.png)

每 8 个样本，0.450 秒

![在此处输入图像描述](../Images/b0c215cbe6bf82abdfbc889c08748497.png)

与其根据计时器进行绘制，不如说您需要根据批量数据进行绘制。

由于您的加载程序线程有一个“块”数据，因此可能会对其进行绘制。

正如 HoverCraftFullOfEels 建议的那样，您可以先将其绘制到 BufferedImage 上，然后再将其绘制到屏幕上......

[SwingWorker](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)或许可以为您实现这一目标

**更新**

这是我用来绘制上述示例的代码。

```
// Samples is a 2D int array (int[][]), where the first index is the channel, the second is the sample for that channel
if (samples != null) {

    Graphics2D g2d = (Graphics2D) g;

    int length = samples[0].length;

    int width = getWidth() - 1;
    int height = getHeight() - 1;

    int oldX = 0;
    int oldY = height / 2;
    int frame = 0;

    // min, max is the min/max range of the samples, ie the highest and lowest samples
    int range = max + (min * -2);
    float scale = (float) height / (float) range;

    int minY = Math.round(((height / 2) + (min * scale)));
    int maxY = Math.round(((height / 2) + (max * scale)));

    LinearGradientPaint lgp = new LinearGradientPaint(
            new Point2D.Float(0, minY),
            new Point2D.Float(0, maxY),
            new float[]{0f, 0.5f, 1f},
            new Color[]{Color.BLUE, Color.RED, Color.BLUE});
    g2d.setPaint(lgp);
    for (int sample : samples[0]) {

        if (sample % 64 == 0) {

            int x = Math.round(((float) frame / (float) length) * width);
            int y = Math.round((height / 2) + (sample * scale));

            g2d.drawLine(oldX, oldY, x, y);

            oldX = x;
            oldY = y;

        }

        frame++;

    }

} 
```

我使用`AudioStream`流加载 Wav 文件并生成 2D 样本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T05:24:16.970

我猜你的波浪绘图代码，它是从一个`paintComponent(...)`方法中调用的，它花费的时间比你想象的要长，并且正在捆绑 Swing 绘画和 EDT。

如果这是我的代码，我会考虑将我的波浪绘制到 BufferedImages*一次*，从这些图像中制作 ImageIcons，然后在我的 Swing Timer 中简单地交换图标。

# python - Python：可以从字符串列表中创建新的变量名吗？

> ID：12066699
> 
> 赞同：4
> 
> 时间：2012-08-22T05:19:56.673
> 
> 标签：python, list, variables

我是python新手，所以我不知道这是否可能。我正在尝试从字符串列表创建变量名称列表，以便我可以将值分配给新创建的变量。

我看到了另一个类似的问题，但是已经有了键和值的字典。

这是我的代码：

```
def handy(self):
    a = raw_input('How many hands? ')
    for i in range(int(a)):
        h = "hand" + str(i+ 1)
            self.list_of_hands.append(h)
            # would like to create variable names from self.list_of_hands
            # something like "hand1 = self.do_something(i)"
            print h
    print self.list_of_hands 
```

鉴于一些答案，我将添加以下评论：然后我将分配字典给每个变量。那么，我可以创建一个字典字典吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:31:34.843

为什么不直接使用字符串作为键来构建字典呢？

```
>>> class test():
    def handy(self):
        a = raw_input('How many hands? ')
        d = { "hand" + str(i + 1) : self.do_something(i) for i in range(int(a)) }

        keys = d.keys()
        keys.sort()
        for x in keys:
            print x, '=', d[x]

    def do_something(self, i):
        return "something " + str(i)

>>> test().handy()
How many hands? 4
hand1 = something 0
hand2 = something 1
hand3 = something 2
hand4 = something 3 
```

**编辑：**您更新了问题以询问是否可以将字典存储为字典中的值。是的你可以：

```
>>> d = { i : { j : str(i) + str(j) for j in range(5) } for i in range(5) }
>>> d[1][2]
'12'
>>> d[4][1]
'41'
>>> d[2]
{0: '20', 1: '21', 2: '22', 3: '23', 4: '24'}
>> d[5] = { 1 : '51' }
>> d[5][1]
'51' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:28:26.310

如果您有多个变量，它们的末尾仅相差一个数字（`hand1`,`hand2`等），您需要一个容器。

我认为字典效果最好：

```
self.hands = {}
self.hands[h] = self.do_something(i) 
```

您可以轻松访问字典中的各个键：

```
self.hands['hand1'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T06:23:52.650

```
h = "hand" + str(i+ 1)
vars()[h] = do_something(i) 
```

现在你可以调用 hand1 来调用 do_something()

# silverlight - 如何使用 ItemsControl 模板停止出现在新行上的路径

> ID：12066701
> 
> 赞同：1
> 
> 时间：2012-08-22T05:20:02.400
> 
> 标签：silverlight, windows-phone-7, xaml

我有一些看起来像这样的 XAML：

```
<ItemsControl ItemsSource="{Binding PathStrings}">
    <ItemsControl.ItemTemplate>
        <DataTemplate>
            <Path Stroke="Red" Data="{Binding}" StrokeThickness="5" />
        </DataTemplate>
    </ItemsControl.ItemTemplate>
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
             <VirtualizingStackPanel />
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
</ItemsControl> 
```

我正在绑定来自数据库的路径数据列表。但是，当它渲染出来时，路径似乎在新行上（就像它们被包裹在其他东西中一样）。我真的很想解决这个问题。
*有什么建议么？*

![这是一个带有水平的堆栈面板](../Images/8c64dbe59bf6324389426040b7de7644.png)
这是水平的堆栈面板

![这是一个垂直的堆栈面板](../Images/7457710025c0827f85104893a09760b4.png)

这是一个垂直堆栈面板

希望这可以帮助某人帮助我？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-27T05:47:39.350

事实证明，它就像使用 Canvas 作为 ItemsPanelTemplate 一样简单。就这么简单。

# c# - ASP.NET 3.5 C# 网站中的 Oledb 溢出错误

> ID：12066707
> 
> 赞同：0
> 
> 时间：2012-08-22T05:20:54.223
> 
> 标签：c#, asp.net, oledb

将数据插入我的访问数据库时，我收到一个奇怪的“溢出”错误。实际上它在本地运行良好，但在服务器上却不行，所以我认为这可能是操作系统特定的错误，因为我的本地系统是 64 位 Windows 7，但不能说服务器。但即使是操作系统特定的问题，它也应该与插入的数值分开，但我数据库中的数据列都是文本、备忘录和日期时间以及自动编号字段。

这是代码：

```
string cmdd = @"Insert into Alumni_tb (A_Name, Batch, Stream, Adm_No, Email, Address,     Profession, Contact_No, Comments, Date_Added, Last_Update_Date, Active) 
values (@A_Name,@Batch, @Stream, @Adm_No, @Email, @Address, @Profession,@Contact_No, @Comments, @Date_Added, @Last_Update_Date , @isActive)";
            OleDbCommand cmd = new OleDbCommand(cmdd, conn);
            cmd.Parameters.AddWithValue("@A_Name", aName);
            cmd.Parameters.AddWithValue("@Batch", Batch);
            cmd.Parameters.AddWithValue("@Adm_No", admno);
            cmd.Parameters.AddWithValue("@Stream", stream);
            cmd.Parameters.AddWithValue("@Email", Email);
            cmd.Parameters.AddWithValue("@Address", address);
            cmd.Parameters.AddWithValue("@Profession", prof);
            cmd.Parameters.AddWithValue("@Contact_No", contno);
            cmd.Parameters.AddWithValue("@Comments", comments);
            cmd.Parameters.AddWithValue("@Date_Added", dateAdded);
            cmd.Parameters.AddWithValue("@Last_Update_Date", lastUpdateDate);
            cmd.Parameters.AddWithValue("@isActive", true);
            conn.Open();
            int cnt = 0;
            cnt=cmd.ExecuteNonQuery();
            if (cnt > 0)
            {
                //Display Ok Message
                return;
            }
            else 
            {
                //Display Error Message
            } 
```

将值传递给参数的变量都是字符串，并且在定义插入查询之前已被初始化和填充。

在数据库中，列和数据类型如下所述。

```
A_Name is a Text;
Batch is Text;
Stream is Text;
Adm_No is Text;
Email is Text; 
Address is Memo;
Profession is Text;
Contact_no is Text;
Comments is Memo;
Date_added is DateTime;
Last_update_date is DateTime;
Active is Yes/No; 
```

我只在 cmd.ExecuteNonQuery() 处收到“溢出”错误消息；请帮助！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:37:28.363

我认为你应该使用 SqlCommand ..

```
 SqlCommand cmd = new SqlCommand(string cmdd = @"Insert into Alumni_tb (A_Name, Batch,     Stream, Adm_No, Email, Address,     Profession, Contact_No, Comments, Date_Added, Last_Update_Date, Active) values (@A_Name,@Batch, @Stream, @Adm_No, @Email, @Address, @Profession,@Contact_No, @Comments, @Date_Added, @Last_Update_Date , @isActive) 
```

我没有看到你使用 OleDbCommand，对不起..

# flot - 图表选择问题

> ID：12066708
> 
> 赞同：0
> 
> 时间：2012-08-22T05:20:58.810
> 
> 标签：flot

我正在尝试实现一个浮动图表，我想要一些机制，以便当我在浮动图表中选择一个区域时，它保持在图表中的两个数据点内，即不能在中间点之间进行选择。谁能建议一个怎么做？！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T15:16:49.150

多年来一直存在一个[错误](http://code.google.com/p/flot/issues/detail?id=50)，要求对 flot 进行这种增强，我还没有听说有人完成它。您最好的选择可能是从那里的代码开始并自己实现它。

# php - PHP/MYSQL - 使用哪个 Join 语句来简化我的查询？

> ID：12066711
> 
> 赞同：0
> 
> 时间：2012-08-22T05:21:55.497
> 
> 标签：php, mysql, join

我有这两个查询，我想将它们合并为一个，但我不确定如何去做。

查询一：

```
$query = "SELECT * FROM ".$db_tbl_comics." WHERE ".$db_fld_comics_publisher."='".$pub_id."'
AND ".$db_fld_comics_active."='1' GROUP BY ".$db_fld_comics_arc; 
```

查询 2：

```
$q2 = mysql_query('SELECT '.$db_fld_arcs_title.' FROM '.$db_tbl_arcs.'
WHERE '.$db_fld_arcs_id.'="'.$result[$db_fld_comics_arc].'"'); 
```

漫画表：

```
CREATE TABLE IF NOT EXISTS `comics` (
  `id` varchar(255) NOT NULL,
  `arc` int(255) NOT NULL,
  `title` varchar(255) NOT NULL,
  `issue` decimal(5,1) DEFAULT NULL,
  `price` decimal(10,2) NOT NULL,
  `plot` longtext NOT NULL,
  `publisher` int(255) NOT NULL,
  `isbn` varchar(255) NOT NULL,
  `published` date NOT NULL,
  `cover` varchar(255) NOT NULL DEFAULT './images/nopic.jpg',
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `views` int(255) NOT NULL DEFAULT '0',
  `active` int(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `arc` (`arc`,`title`,`issue`,`publisher`)
); 
```

弧表：

```
CREATE TABLE IF NOT EXISTS `arcs` (
  `id` int(255) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `plot` longtext NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `title` (`title`)
); 
```

我需要做的是从相应漫画弧的弧表中获取弧标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:28:06.763

很简单（将 2 个查询合二为一，仅选择必填字段并使用`IN`）：

```
SELECT
    '.$db_fld_arcs_title.'
    FROM '.$db_tbl_arcs.'
    WHERE '.$db_fld_arcs_id.' IN (
        SELECT '.$db_fld_comics_arc.'
            FROM '.$db_tbl_comics.' 
            WHERE '.$db_fld_comics_publisher.'='".$pub_id."'
            AND '.$db_fld_comics_active.'='1' GROUP BY '.$db_fld_comics_arc.'
    ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:30:28.247

您需要使用`INNER JOIN`它，因为我认为两个表上都存在记录。

```
SELECT  a.*, b.title
FROM    comics a INNER JOIN arcs b
            on a.id = b.id
WHERE   a.Title = 'VALUEHERE' 
```

显示`comics`表格中的所有详细信息和弧的标题

# iphone - 表格视图导航错误

> ID：12066715
> 
> 赞同：0
> 
> 时间：2012-08-22T05:22:28.217
> 
> 标签：iphone, ios, uitableview, uinavigationbar

在我的 tableview xib 中，我无法在运行时显示导航栏？我的编码如下

```
- (void)viewDidLoad
{
ar=[[NSMutableArray alloc]initWithObjects:@"When im happy..i...",@"When im sad.. i...",@"When i'm mad.i...",@"My worst habbit is....",@"The best thing about me is...",nil];
[super viewDidLoad];
self.title=@"Welcome";

self.navigationItem.leftBarButtonItem=self.editButtonItem;
} 
```

表格视图不显示导航栏。请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:33:13.577

你在创建**self.editButtonItem**吗？使用此代码：-

```
 [self.navigationItem setRightBarButtonItem:[[[UIBarButtonItem alloc]initWithTitle:@"Test" style:UIBarButtonItemStyleBordered target:self action:@selector(test:)]autorelaese]]; 
```

# iphone - 如何在 iPhone 中存储来自服务器的视频/图像文件

> ID：12066719
> 
> 赞同：1
> 
> 时间：2012-08-22T05:22:58.273
> 
> 标签：iphone, xcode, ios5

我想通过服务器将视频/图像从一部 iPhone 发送到另一部 iPhone。我已使用 HTTP POST 成功地将文件发送到服务器。但问题是我想从服务器接收文件并将其作为数据存储在该设备中以供进一步使用。

任何人都可以建议我做同样的示例代码吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T06:26:12.280

您使用 Post 成功地将数据发布到服务器。正确的？现在您可以制作一个用于下载图像/视频的 API。完成获取数据后，将其放入应用程序的文档文件夹中。关于 API，最简单的方法是创建一个指向该文件的链接，然后使用 NSURLConnection 下载。

创建要下载的 URL 连接：

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
[request setURL:[NSURL URLWithString:strFileUrl]]; //strFileURL is url of your video/image
NSURLConnection *conection = [[[NSURLConnection alloc] initWithRequest:request delegate:self startImmediately:NO] autorelease];
[conec start];
[request release]; 
```

获取保存数据的文件路径：

```
strFilePath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:strFileName]; 
```

你的类必须采用 NSURLConnectionDelegate 协议的 3 种方法：（请阅读协议和委托）

```
- (void) connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    // create 
    [[NSFileManager defaultManager] createFileAtPath:strFilePath contents:nil attributes:nil];
    file = [[NSFileHandle fileHandleForUpdatingAtPath:strFilePath] retain];// read more about file handle
    if (file)   {
        [file seekToEndOfFile];
    }
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)receivedata
{    
    //write each data received
    if( receivedata != nil){
        if (file)  { 
            [file seekToEndOfFile];
        } 
        [file writeData:receivedata]; 
    }
}

- (void)connectionDidFinishLoading:(NSURLConnection*)theConnection {
    //close file after finish getting data;
    [file closeFile];
}

- (void) connection:(NSURLConnection *)connection didFailWithError:(NSError *)error
{
    //do something when downloading failed
} 
```

如果要查看文件，请使用 UIWebview 加载它：

```
NSURL *fileURL = [NSURL fileURLWithPath:strFilePath];
[wvReview loadRequest:[NSURLRequest requestWithURL:fileURL]]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:30:47.623

您可以使用**WiFi 网络**进行文件传输

使用**Bonjour**来做到这一点。你可以从[**这里开始**](http://mobileorchard.com/tutorial-networking-and-bonjour-on-iphone/)

另请参阅 Apple.Developer 示例[**WiTap**](http://developer.apple.com/library/ios/#samplecode/WiTap/Introduction/Intro.html)

WiTap 示例应用程序演示了如何实现应用程序之间的网络通信。使用 Bonjour，应用程序既在本地网络上宣传自己，又在网络上显示该应用程序的其他实例的列表。

实现连接建立并编写自己的结构以将数据作为小块大小传输（1024 更好）

# apache-flex - flex 4.6 在作为 var 传递给函数时访问对象 ID

> ID：12066720
> 
> 赞同：0
> 
> 时间：2012-08-22T05:23:03.270
> 
> 标签：apache-flex, variables, actionscript, mxml

弹性 4.6

我想知道如何使用传递给函数的 var 访问/更改对象，例如，如果我有 id `vg1Text`，使用

```
Application.application.vg1Text.text = txt2chg+":"+id2chg; 
```

有效，但

```
Application.application.id2chg.text = txt2chg+":"+id2chg; 
```

失败了

`ReferenceError: Error #1069: Property id2chg not found`

谢谢艺术

模块

```
public function chgFuncB1(txt2chg, id2chg):void {
    Application.application.id2chg.text = txt2chg+":"+id2chg;
    }
public function myFunc() : void{
   chgFuncB1("New Text", "vg1Text");
   } 
```

主要应用

```
<s:VGroup id="vg1">
    <s:Label id="vg1Text" text="Module loaded in Spark VGroup container:"/>  
</s:VGroup> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:48:24.007

要完成这项工作，您可以使用数组表示法（希望这是正确的名称）。这样，变量中包含的String`id2chg`就可以作为属性名了。

```
public function chgFuncB1(txt2chg:String, id2chg:String):void {
    Application.application[id2chg].text = txt2chg+":"+id2chg;
    } 
```

# c++ - `std::nullptr_t` 类型的用途是什么？

> ID：12066721
> 
> 赞同：30
> 
> 时间：2012-08-22T05:23:13.253
> 
> 标签：c++, c++11, nullptr

我了解到`nullptr`，除了可以转换为任何指针类型（但不能转换为任何整数类型）之外，它还有自己的类型`std::nullptr_t`。所以有可能有一个接受的方法重载`std::nullptr_t`。

究竟为什么需要这样的过载？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-08-22T05:40:36.710

如果多个重载接受指针类型，`std::nullptr_t`则需要重载 for 才能接受`nullptr`参数。如果没有`std::nullptr_t`重载，那么在传递时应该选择哪个指针重载将是模棱两可的`nullptr`。

例子：

```
void f(int *intp)
{
    // Passed an int pointer
}

void f(char *charp)
{
    // Passed a char pointer
}

void f(std::nullptr_t nullp)
{
    // Passed a null pointer
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-07-30T01:16:05.577

在某些特殊情况下，与`nullptr_t`类型进行比较有助于指示对象是否有效。

例如，[`operator==`and`operator!=`](http://en.cppreference.com/w/cpp/utility/functional/function/operator_cmp)的重载`std::function`只能`nullptr_t`作为参数来判断函数对象是否为空。有关更多详细信息，您可以阅读[此问题](https://stackoverflow.com/questions/3629835/why-is-stdfunction-not-equality-comparable)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-08-21T14:09:52.693

另外，你会给它什么其他类型，而不是简单地重新引入我们遇到的问题`NULL`？关键是要摆脱讨厌的隐式转换，但我们实际上不能改变旧程序的行为，所以我们就在这里。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-08-15T07:30:51.400

引入该类型是为了避免整数零和空内存之间的混淆。和往常一样， cpp 使您可以访问该类型。Java 仅允许您访问该值。你为它找到什么目的并不重要。我通常将它用作函数重载中的标记。

但是我对 cpp null const 的实现有一些问题。

*   为什么他们不继续使用 NULL 或 null？该定义已被用于该目的。已经将 nullptr 用于其他用途的代码呢？

*   更不用说 nullptr 太长了。大多数时候打字很烦人，看起来很丑。6 个字符只是为了默认初始化一个变量。

*   随着 nullptr 的引入，您会认为零不再是整数和空指针 const。然而，零仍然具有令人讨厌的歧义。所以我看不到这个新的 nullptr 值的意义。如果您定义一个可以接受整数或字符指针的函数，并将零传递给该函数调用，编译器会抱怨它完全模棱两可！而且我认为转换为整数不会有帮助。

*   最后，很糟糕的是 nullptr_t 是 std 命名空间的一部分，而不仅仅是一个关键字。事实上，在我在函数中使用 nullptr_t 多长时间之后，我才刚刚了解到这个事实。CodeBlocks 附带的 MinGW32 允许您使用 nullptr_t 和 std 命名空间。事实上 MinGW32 允许 void* 增量和很多其他事情。

这导致我：cpp 有太多的面额和混乱。以至于与一个编译器的代码兼容性与另一个相同 cpp 版本的不兼容。一个编译器的静态库不能与不同的编译器一起工作。没有理由必须这样。而且我认为这只是帮助杀死cpp的一种方法。

# c++ - event_base* 与 unique_ptr

> ID：12066722
> 
> 赞同：1
> 
> 时间：2012-08-22T05:23:21.430
> 
> 标签：c++, c++11, unique-ptr, libevent

我正在开发的代码试图避免处理裸指针，但我想向它添加一些基于事件的功能 - 我也会在这里使用智能指针，但据我了解，这意味着 event_base 将使用 delete 运算符删除而不是 event_base_free，就像我目前看到的所有例子一样。这安全吗？我可以只使用 unique_ptr(event_base_new()) 而不用担心吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:26:23.503

[std::unique_ptr](http://en.cppreference.com/w/cpp/memory/unique_ptr)允许您指定删除器，因此您可以找到使用`event_base_`删除机制的方法。

# ruby-on-rails - 两个应用程序，如何测试通信

> ID：12066724
> 
> 赞同：0
> 
> 时间：2012-08-22T05:23:22.950
> 
> 标签：ruby-on-rails, ruby, cucumber, integration-testing

我有两个应用程序，比如 A 和 B，通过 API 相互通信，现在我正在为 A 编写黄瓜测试，我有两个选择：

1.  只需测试 API 是否发送到 B 并存根来自 B 的响应

2.  从A（因为我正在测试A）在B上设置测试数据，并向B发送真实请求，并用VCR记录请求/响应

我更喜欢选项 #1，但我的同事说它至少需要一个真实的请求才能确保系统（包括 A 和 B）正常工作。

我担心的是：

1.  如何从 A 的测试中为 B 准备测试数据？

2.  将它们混合在一起很脆弱，B上的任何更改都可能导致A上的失败

任何意见？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-26T14:07:10.453

您正在编写黄瓜测试，意味着它是一个集成测试。对于集成测试，最好不要模拟任何东西，它是保存应用程序的最后一道安全门。

所以你最好最后发送一次真实的请求，以确保你的请求是正确的，而且你可以随时重复这个真实的请求。

解决方案1的问题：

1.  您不能确保 B 更改 API 实现
2.  您不能确保 A 向 B 发送正确的参数
3.  很难模拟复杂的请求

所以我建议为 B 创建一个沙盒应用程序，提出真正的请求

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T07:56:36.923

对于您的大多数测试，将请求/响应存根，这样测试将在离线时通过，或者不通过。

对于一个测试，做一个简单的测试，外部服务的行为就像你的存根和模拟所说的那样。

EG 执行 get 请求仍会返回带有您希望确保模拟有效的属性的 JSON。

在大多数情况下，您的测试套件不应监控外部服务的“正常运行时间”。只是它的行为与您期望的一样。

对于正常运行时间问题，您应该使用 Nagios、Pingdom、Pagerduty 或其他什么来查看系统管理员方面。

# cuda - 在 CUDA 中分配共享变量

> ID：12066730
> 
> 赞同：2
> 
> 时间：2012-08-22T05:23:45.453
> 
> 标签：cuda

如何在 CUDA 中分配共享变量？我有一个内核，需要在属于特定块的线程之间共享数据。`sid`我需要两个名为和的共享变量`eid`。我这样使用它：

```
extern __shared__ int sid, eid 
```

但这给了我一个错误，即`__shared__`变量不能具有外部链接。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-22T05:42:05.600

有两种分配共享内存的方法：静态和动态

**1、静态**

```
 __shared__ int Var1[10] 
```

**2、动态**：应添加“extern”关键字

```
extern __shared__ int Var1[] 
```

如果您使用动态方式分配共享内存，您应该在调用函数时设置共享内存大小。例如：
`testKernel <<< grid, threads, size>>>(...)`
第三个参数是共享内存的大小。这样所有的共享内存都从同一个地址开始。所以如果你想定义几个共享的记忆。您应该编写如下代码。

```
__global__ void func(...)
{
    extern __shared__ char array[];
    short * array0 = (short*)array;
    float * array1 = (float*)(&array0[128]);
} 
```

# java - SpreadsheetEntry.getKey() 返回一个以 'spreadsheet%3A' 开头的键

> ID：12066738
> 
> 赞同：0
> 
> 时间：2012-08-22T05:24:39.370
> 
> 标签：java, google-api, google-sheets, google-spreadsheet-api

我使用 Google 电子表格 API 将文档从一个帐户复制到另一个帐户，然后我想返回新创建的电子表格的密钥。

复制是通过检索模板电子表格，创建一个新的，`SpreadsheetEntry newDoc = new SpreadsheetEntry();`然后将`id`新的设置为模板电子表格来完成的`newDoc.setId(template.getId());`。然后我插入新的电子表格

`newDoc = service.insert(new URL("https://docs.google.com/feeds/default/private/full"), newDoc);`

我想向调用者返回两件事：链接到新创建的电子表格及其密钥。我第一次通过`newDoc.getSpreadsheetLink().getHref();`并返回`https://docs.google.com/a/bridgeworks.nl/spreadsheet/ccc?key=0Asl_Vu_YG4J-dDc5NHpwTFVRZFNiVENnRUxOb21XLVE`

然后我打电话`newDoc.getKey();`，它返回`spreadsheet%3A0Asl_Vu_YG4J-dDc5NHpwTFVRZFNiVENnRUxOb21XLVE`

key 前面似乎有`spreadsheet%3A`. 但为什么？我可以安全地移除它并只归还钥匙吗？

如果我使用

`URL worksheetUrl = urlFactory.getWorksheetFeedUrl("0Asl_Vu_YG4J-dDc5NHpwTFVRZFNiVENnRUxOb21XLVE", "private", "full");`

它成功了，但是

`URL worksheetUrl = urlFactory.getWorksheetFeedUrl("spreadsheet%3A0Asl_Vu_YG4J-dDc5NHpwTFVRZFNiVENnRUxOb21XLVE", "private", "full");`

失败

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T16:41:26.583

Documents List API 定义了两种类型的 ID：资源 ID 和无类型资源 ID。前者的格式是 [type]:[id]，而后者只是 [id]：

[https://developers.google.com/google-apps/documents-list/#terminology_used_in_this_guide](https://developers.google.com/google-apps/documents-list/#terminology_used_in_this_guide)

您可以安全地从类型化的资源 ID 中删除 [type] 部分以获取未类型化的资源 ID。

# visual-studio - 注释和取消注释代码的快捷键是什么？

> ID：12066739
> 
> 赞同：137
> 
> 时间：2012-08-22T05:24:51.447
> 
> 标签：visual-studio, comments, visual-studio-2012

旧版本中有++ `Ctrl`（注释）和`E`++ （取消注释） ，或者++和++ 。`C``Ctrl``E``U``Ctrl``K``C``Ctrl``K``U`

但在 VS 2012 中，我看不到快捷键：

![在此处输入图像描述](../Images/0bbc1fc22778f014b114feb9f8d4b53e.png)

如何启用这些快捷方式？

* * *

## 回答 #1

> 赞同：164
> 
> 时间：2012-08-22T05:27:58.407

键盘加速器是可配置的。`Tools -> Options`您可以在页面上找出哪些键盘加速器绑定到命令`Environment -> Keyboard`。

这些命令被命名为**Edit.CommentSelection**和**Edit.UncommentSelection**。

（根据我的设置，这些绑定到`Ctrl`+ `K`，`Ctrl`+`C`和`Ctrl`+ `K`，`Ctrl`+ `U`。我猜这些是默认值，至少在 C++ 默认值中，但我不确定。找出的最好方法是检查您的设置。）

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2014-06-02T20:38:36.077

您还可以在 Visual Studio 中添加工具栏以使按钮可用。

视图 > 工具栏 > 文本编辑器

![在此处输入图像描述](../Images/06a113e685f6fe08737d79fd4592c61f.png)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2015-02-02T11:44:07.593

使用键`Ctrl``K`,`C`注释掉该行`Ctrl``K`， ,`U`取消注释该行。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-08-22T06:58:15.670

从您的屏幕截图中可以看出您已经安装了 ReSharper。

根据您在安装时选择的键绑定选项，您的一些标准快捷方式现在可能会重定向到 ReSharper 命令。值得检查一下，例如+`Ctrl`被R# 用于代码清理对话框。`E``C`

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-01-20T11:43:04.833

我是这样弄的

菜单*工具*→*环境选项*→*键盘*窗口

可以按照以下步骤更改默认快捷方式

*   在列表框中选择**Edit.CommentSelection**
*   点击“删除”按钮
*   在“使用新快捷方式：”下的下拉列表中选择“文本编辑器”选项
*   在“按快捷键：”下的文本框中按您自己的快捷键 示例：按`Ctrl`+`E`然后`C`会给你`Ctrl`+ `E`，`C`
*   点击“分配”按钮
*   **对Edit.UnCommentSelection** ( `Ctrl`+ `E`, `U`)重复相同的操作

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-04-03T23:36:49.027

我去了菜单：*工具*→*选项*。

*环境*→*键盘*。

显示包含和搜索的命令：comment

我更改了 Edit.CommentSelection 并分配了`Ctrl`+`/`用于评论。

然后我离开`Ctrl`+去 Edit.UncommentSelection。`K``U`

这些可以根据用户的偏好进行调整，即他们更喜欢用什么键来评论/取消评论。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-08-11T12:47:39.093

“commentLine”是您要查找的函数的名称。此功能使用相同的键绑定注释和取消注释

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-08-07T21:10:19.047

Shift + alt + a

命令面板非常适合查找快捷键。

# javascript - 在我自己的应用程序中使用“绿色加号”添加记录时没有弹出窗口

> ID：12066741
> 
> 赞同：0
> 
> 时间：2012-08-22T05:24:56.870
> 
> 标签：javascript, django

我想在我自己的应用程序中从管理站点复制绿色加号以将记录添加到表中。我有它主要工作（主要使用这个：[Django admin - How can I add the green plus sign for Many-to-many Field in custom admin form](https://stackoverflow.com/questions/3692822/django-admin-how-can-i-add-the-green-plus-sign-for-many-to-many-field-in-custo)），除了不是弹出窗口，添加页面加载相同的窗口，当我单击“保存”时不会消失。

以下 html 是由我的应用程序生成的，它显示为 OK（onclick 位）：

```
<a href="/admin/pricemanager/item/add/" class="add-another" id="add_id_form-0-item" onclick="return showAddAnotherPopup(this);"> 
```

但似乎页面顶部缺少一些 javascript。我是否忘记在模板中包含某些内容？

我发现了一些相关的问题，例如[Django Admin popup functionality](https://stackoverflow.com/questions/2347582/django-admin-popup-functionality)，但我不明白答案。

如何使弹出窗口工作？（我认为没有必要编写大量自定义 javascript - 我对此一无所知 - 以使已经在管理应用程序中工作的东西工作）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:42:10.517

您需要在模板中包含以下内容以加载与管理相关的 JS。

```
<script type="text/javascript" src="/admin/jsi18n/"></script>
<script type="text/javascript" src="{{ STATIC_URL }}admin/js/core.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}admin/js/admin/RelatedObjectLookups.js"> </script>
<script type="text/javascript" src="{{ STATIC_URL }}admin/js/jquery.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}admin/js/jquery.init.js"></script> 
```

这是参考以[自定义形式使用 Django 时间/日期小部件的答案](https://stackoverflow.com/questions/38601/using-django-time-date-widgets-in-custom-form)

# javascript - Javascript 新手：Array.isArray() 查询

> ID：12066742
> 
> 赞同：1
> 
> 时间：2012-08-22T05:25:04.983
> 
> 标签：javascript

我一直在用 Javascript 阅读：

*   **一切**都是对象（除了数字、字符串、布尔值、空值和未定义等基本类型）
*   对象可以被视为关联**数组**。

从我的结论来看， Array.isArray() 应该为所有内容返回 true（上述原始异常除外）。我理解错了什么？

谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:29:40.383

对象和数组是有区别的。**Array**实际上是一个Array **Object**。它具有与其他对象不同的方法。String 是一个 String**对象**。但是，您可以像访问数组一样访问对象。取以下对象

```
var obj = {
    value1: 'Some Value',
    value2: 'Some Other Value'
    }; 
```

你可以得到像

```
obj['value1'];
obj['value2']; 
```

这并不意味着它是一个**Array Object**，它只是有不同的访问方式

isArray() 检查对象是否为**Array Object**，而不是您是否可以**像**数组一样访问它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:29:52.423

数组（javascript 中的 [[Class]] 类型）与关联数组（抽象数据类型）不同，`Array.isArray`检查对象是否为普通数组，如`({}).toString.call( obj ) === "[object Array]"`.

> 1.  如果 Type(arg) 不是 Object，则返回 false。
> 2.  如果 arg 的 [[Class]] 内部属性的值为“Array”，则返回 true。
> 3.  返回假。

# javascript - 按键更改jQuery中的类

> ID：12066745
> 
> 赞同：2
> 
> 时间：2012-08-22T05:25:10.230
> 
> 标签：javascript, jquery, html, dom, dom-events

我有一个问题，我似乎无法解决。

我有一个带有自定义样式按钮（输入类型=按钮）的表单。在文本字段中输入时，我希望人们能够按 TAB 键并转到按钮。但是，它不会使用选项卡索引，因此我的解决方案是突出显示标签并更改 CSS 以赋予按钮新的边框颜色。但是，在除 Firefox 之外的任何浏览器中，边框颜色不会在按键时更改。

这是我所拥有的：

```
$(function() {
    $("#email").bind("keypress", function(e) {
            if (e.keyCode == 13) {
                send();
                return false; 

            };

            if (e.keyCode == 9) {
                    $("#submit_btn").removeClass('submit1').addClass('submit1after');
            };

      });
}; 
```

第一个输入键是序列化并通过电子邮件发送表单和所有内容。

我似乎无法让它为我的生活工作。我究竟做错了什么？有没有更好的解决方案来解决我想要完成的事情？

感谢您抽出宝贵的时间，

阿米克

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:31:15.060

改用`keydown`，对我来说有效（参见演示：http: [//jsfiddle.net/npGtX/2/](http://jsfiddle.net/npGtX/2/)）

```
$(function () {
  $("#email").bind("keydown", function (e) {
    if (e.keyCode == 13) {
      send();
      return false;    
    };

    if (e.keyCode == 9) {
      $("#submit_btn").removeClass('submit1').addClass('submit1after');
    };
  });
}; 
```

我还发现了这个：[抑制非字符键的按键？](https://stackoverflow.com/questions/4907114/suppressing-keypress-for-non-character-keys)

> 当按键不是字符时，不一定会触发按键。所以浏览器可能不会触发退格、F1、向下键等事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:46:38.907

您可以使用`keyup`事件和`event`对象的`which`属性，jQuery 规范化`which`属性并且它是跨浏览器的：

```
$(function() {
    $("#email").bind("keyup", function(e) {
         if (e.which == 13) {
            send();
            return false; 
         };   
         if (e.which == 9) {
            $("#submit_btn").toggleClass('submit1 submit1after');
         };
    });
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:36:19.730

```
 $(function() {
$("#email").keypress(function(e) {
        if (e.keyCode == 13 || e.which== 13) {
            send();
            return false; 

        };

        if (e.keyCode == 9 || e.which== 9) {
                $("#submit_btn").removeClass('submit1').addClass('submit1after');
        };

  });
 }; 
```

# python - Python：从字符串变量中转义单引号和双引号的一些特殊方法

> ID：12066756
> 
> 赞同：3
> 
> 时间：2012-08-22T05:26:31.243
> 
> 标签：python, sqlite, python-2.7

我正在使用我的 Python 脚本在 Sqlite 数据库中输入数据类型字符串的变量。因此，每当我插入该值时，我都会收到 Sqlite 错误：

```
sqlite3.OperationalError: near "s": syntax error 
```

我的变量字符串是这样的：

```
file_path=r'James Bond 007 - 07 - On Her Majesty's Secret Service (1969)' 
```

实际上，我是直接从中获取此文件名的，`os.walk`因此我无法通过手动输入反斜杠来转义该单个字符串。我想要一些字符串方法来自动转义字符串中的内容。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-22T05:32:40.960

你这样做是错的。

```
cursor.execute("INSERT ... (?, ?, ?)", (var1, var2, var3)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-10T22:55:47.713

使用正斜杠似乎对我有用，但我对单引号没有任何问题。

所以：

```
"\"this seems to work fine.\"" 
```

# session - 跨多个具有不同子域的商店的 Opencart 购物车

> ID：12066759
> 
> 赞同：2
> 
> 时间：2012-08-22T05:26:45.920
> 
> 标签：session, opencart, cart

您好，有一个带有不同子域（都在同一个域下）的商店的单个 opencart 安装设置。我希望客户能够将商品放在一个站点的购物车中，然后移至下一个站点并放入更多甚至减去，直到最终客户在任何商店结账。注意产品可能会出现在一家商店，但不会出现在另一家商店。

我注意到 opencart 有点这样做。即它将已经在购物车中的产品带到下一个商店，但前提是产品同时出现在两个商店中。此外，如果客户随后删除其中一件商品并回到同一家商店，他们的产品就会重新出现。

第一个问题似乎首先是购物车中的产品通过我猜是通过 store_id 选择产品的查询来显示。我仔细看了看是否能找到任何东西，但不知所措。

第二个问题似乎与会话的内容有关。我仍在学习 php，甚至对如何尝试修改会话的工作方式感到有些困惑。

任何人都可以就我如何解决/更改此问题提供一些指导。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-23T17:43:56.930

OpenCart 将所有这些信息存储在您的 PHP 会话中。由于您的商店位于不同的子域下，因此当您从一个商店切换到另一个商店时，PHP 会话会发生变化。

因此，您需要做的第一件事是在所有子域之间共享会话。默认情况下，PHP 使用 'PHPSESSID' cookie 来跨多个页面传播会话数据，并且默认情况下它使用 cookie 声明中的当前顶级域和子域。

示例：www.domain.com

这样做的缺点是会话数据无法与您一起传输到其他子域。因此，如果您在 www.domain.com 上启动会话，则会话数据在 forums.domain.com 上将变得不可用。解决方案是更改 PHP 在设置“PHPSESSID”cookie 时使用的域。

假设您有一个包含在每个 PHP 页面顶部的 init 文件，您可以使用 ini_set() 函数。只需将其添加到初始化页面的顶部：

```
ini_set('session.cookie_domain',
substr($_SERVER['SERVER_NAME'],strpos($_SERVER['SERVER_NAME'],"."),100)); 
```

这行代码获取域并关闭子域。

示例：forums.domain.com -> .domain.com

现在，每次 PHP 设置 'PHPSESSID' cookie 时，该 cookie 将可用于所有子域！

您可能还需要对 OpenCart 的核心进行一些小修改才能使其正常工作。

玩得开心 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T12:30:23.203

在 Tohids 帮助后，我得到了以下解决方案，希望对其他人有所帮助。我在 session.php 文件中添加了 cookie_domain 代码行，并且还在使用 setcookie 函数覆盖货币和语言 cookie 的任何地方添加或更改了 cookie 名称。

打开 \system\session.php

寻找;

```
ini_set('session.use_cookies', 'On');
ini_set('session.use_trans_sid', 'Off'); 
```

在之后插入；

```
ini_set('session.cookie_domain', substr($_SERVER['SERVER_NAME'],strpos($_SERVER['SERVER_NAME'],"."),100)); 
```

打开 \index.php

寻找;

```
if (!isset($request->cookie['language']) || $request->cookie['language'] != $code) {      
  setcookie('language', $code, time() + 60 * 60 * 24 * 30, '/', $request->server['HTTP_HOST']);
} 
```

用。。。来代替;

```
if (!isset($request->cookie['language']) || $request->cookie['language'] != $code) {      
  setcookie('language', $code, time() + 60 * 60 * 24 * 30, '/', substr($_SERVER['SERVER_NAME'],strpos($_SERVER['SERVER_NAME'],"."),100));
} 
```

寻找;

```
if (isset($request->get['tracking']) && !isset($request->cookie['tracking'])) {
    setcookie('tracking', $request->get['tracking'], time() + 3600 * 24 * 1000, '/');
} 
```

用。。。来代替;

```
if (isset($request->get['tracking']) && !isset($request->cookie['tracking'])) {
  setcookie('tracking', $request->get['tracking'], time() + 3600 * 24 * 1000, '/', substr($_SERVER['SERVER_NAME'],strpos($_SERVER['SERVER_NAME'],"."),100));
} 
```

打开系统\currency.php

寻找;

```
if (!isset($this->request->cookie['currency']) || ($this->request->cookie['currency'] != $currency)) {
  setcookie('currency', $currency, time() + 60 * 60 * 24 * 30, '/', $this->request->server['HTTP_HOST']);
} 
```

用。。。来代替;

```
if (!isset($this->request->cookie['currency']) || ($this->request->cookie['currency'] != $currency)) {
  setcookie('currency', $currency, time() + 60 * 60 * 24 * 30, '/', substr($_SERVER['SERVER_NAME'],strpos($_SERVER['SERVER_NAME'],"."),100));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-20T13:23:51.573

非常简单的解决方案！跨子域共享登录会话

1.  打开文件：系统/库/session.php
2.  查找行： session_set_cookie_params(0, '/');
3.  APPEND : session_set_cookie_params(0, '/',' **.DOMAIN.COM** );

确保包括句点**“。”** 在 DOMAIN.COM 之前

就是这样...现在在**www.domain.com**上启动的登录会话与**www.sub.domain.com共享**

# machine-learning - 梯度下降和牛顿梯度下降有什么区别？

> ID：12066761
> 
> 赞同：68
> 
> 时间：2012-08-22T05:27:16.017
> 
> 标签：machine-learning, data-mining, mathematical-optimization, gradient-descent, newtons-method

我了解梯度下降的作用。基本上，它试图通过缓慢地沿着曲线向下移动来向局部最优解移动。我想了解计划梯度下降和牛顿法之间的实际区别是什么？

从 Wikipedia 中，我读到了这条短线“牛顿法使用曲率信息采取更直接的路线”。这在直觉上意味着什么？

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-08-22T05:37:06.960

在局部最小值（或最大值）`x`处，目标函数的导数`f`消失：（`f'(x) = 0`假设足够平滑`f`）。

梯度下降试图`x`通过使用 的一阶导数的信息来找到这样的最小值`f`：它只是遵循从当前点开始的最陡下降。这就像在图形上滚动一个球，`f`直到它停止（同时忽略惯性）。

牛顿法试图通过用一个线性函数逼近找到一个`x`满足的点，然后显式地求解该函数的根（这称为牛顿求根法）。的根不一定是 的根，但在许多情况下它是一个很好的猜测（[关于牛顿求根方法的维基百科文章](http://en.wikipedia.org/wiki/Newton%27s_method)有更多关于收敛标准的信息）。在逼近时，牛顿法利用了( 的曲率)。这意味着它对 的平滑度有更高的要求，但也意味着（通过使用更多信息）它往往收敛得更快。`f'(x) = 0``f'``g``g``f'``f'``f''``f``f`

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-02-05T22:41:02.757

简而言之，梯度下降您只需向您认为零的位置迈出一小步，然后重新计算；牛顿法，你一路走下去。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-22T05:36:12.970

**编辑 2017**：原始链接已失效-但返回机器的方式仍然得到它:) [https://web.archive.org/web/20151122203025/http://www.cs.colostate.edu/~anderson/cs545/讲座/week6day2/week6day2.pdf](https://web.archive.org/web/20151122203025/http://www.cs.colostate.edu/~anderson/cs545/Lectures/week6day2/week6day2.pdf)

这个 power point 的主要思想简单地解释了[http://www.cs.colostate.edu/~anderson/cs545/Lectures/week6day2/week6day2.pdf](http://www.cs.colostate.edu/~anderson/cs545/Lectures/week6day2/week6day2.pdf)

我希望这有帮助:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-11-09T17:29:41.370

在@Cheng 的回答的基础上，意识到因为牛顿法找到了函数的根，我们将牛顿法应用于`f'()`找到函数的最优值是有帮助的`f()`。因此，本例中牛顿法的更新规则为：

`new_guess = old_guess - f'(old_guess)/f''(old_guess)`, 其中`f''()`是要优化的函数的曲率。

相比之下，梯度下降中的更新规则是：

`new_guess = old_guess - f'(old_guess)*alpha`，其中`alpha`表示步长。

从中可以大致看出牛顿法是如何利用函数的曲率`f''()`来增加或减少其更新的大小。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-04-23T10:22:12.067

如果单纯比较梯度下降法和牛顿法，这两种方法的目的是不同的。

梯度下降用于找到（近似）局部最大值或最小值（x 使 min f(x) 或 max f(x)）。而牛顿的方法是找到（近似）一个函数的根，即 x 使 f(x) = 0

从这个意义上说，它们用于解决不同的问题。但是，牛顿法也可以在优化的上下文中使用（GD 正在解决的领域）。因为找到最大值或最小值可以通过找到 f'(x) = 0 来接近，这正是牛顿方法的用途。

总之，可以在优化中使用两种方法：1)GD 和 2)find x so f'(x)=0 而牛顿法只是解决第二个问题的一种方法。

# c++ - 在 Visual C++ 6.0 中取消标记项目

> ID：12066775
> 
> 赞同：2
> 
> 时间：2012-08-22T05:28:57.527
> 
> 标签：c++, visual-c++

在 VC++ 6.0 Ver 中取消标记所有标记项的最快方法是什么？

（我只是搜索了一个字符串，单击“标记全部”，然后无论该项目出现在哪里，左侧都会看到一个蓝色指示器。有人知道将其还原吗？）

我尝试了项目->设置，但徒劳无功。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:34:32.133

按 Ctrl+F2 标记/取消标记一行文本。按 F2 在每个源文件中的标记位置之间跳转。当前书签的列表可以通过编辑 -> 书签对话框或按 ALT+F2 来显示。您可以在那里清除所有书签。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:39:57.427

根据this [DaniWeb question](http://www.daniweb.com/software-development/cpp/threads/310134/visual-studio-6-ide-question#) ++`Ctrl`应该全部清除。`Shift``F2`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:37:08.913

清除所有书签 -`Ctrl+K, Ctrl+L`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-07T09:33:46.763

Ctrl+Shift+F2 将清除所有书签。

# android - 运行后看到重复的布局文件

> ID：12066776
> 
> 赞同：0
> 
> 时间：2012-08-22T05:29:02.517
> 
> 标签：android, android-layout

运行应用程序时，我看到重复的布局文件，有时不会删除。当尝试删除此文件时，会出现此错误。

我有 **login.xml**文件，在运行项目后添加新的 xml **login.out.xml。**

![在此处输入图像描述](../Images/e1cb46d197dd68128829a0acac22f6ce.png)

我多次遇到此类问题。那么你们能告诉如何生成这个重复文件吗？什么时候？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:36:33.407

当您尝试运行应用程序时，会发生这种情况，而 xml 文件当前是编辑器上的打开选项卡。只需删除文件并清理项目。之后，使用 java 文件作为编辑器上打开的选项卡运行项目。

[这](http://code.google.com/p/android/issues/detail?id=3767)是一个关于此的错误文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:38:05.230

如果您正在更改`login.xml`文件，并且在完成更改后您正在使用 ctrl+f11 运行您的应用程序，此时`login.out.xml`文件已创建，则在将 ADT 插件更新为 20.0.3.v201208082019-427395 后会产生此问题，因此请先关闭该`login.out.xml`文件，您可以删除该文件后，对不起我的英语不好，请参阅下面的链接以获取更多信息。

[如何修复 main.out.xml 问题](http://mikeyhogarth.wordpress.com/2010/09/29/android-beginner-top-tip-dont-run-from-xml-files/)

[安卓：m​​ain.out.xml 错误](http://soft-dev-pro.blogspot.in/2010/03/android-mainoutxml-error.html)

# android - 防止 TextView 中出现负数

> ID：12066778
> 
> 赞同：0
> 
> 时间：2012-08-22T05:29:14.270
> 
> 标签：android

我有一个显示数字的 TextView（在本例中，数字是 10）。

现在，我有一个按钮，因此用户必须按该按钮 10 次才能使数字变为 0，从而进入下一个级别。然而，

我可以继续按那个按钮，它开始回到负数（-1、-2 等）。

我试图考虑如何防止这种情况发生，但我不知所措..有什么想法吗？

- - - - - - - - - - - - - - - - - -编辑 - - - - - - - --------------------------

好的，这是我的更新（我让它停在 0）：

```
public void onClick(View v) {
        // TODO Auto-generated method stub

        if (scr >= 1) {

            scr = scr - 1;
           TextView Score = (TextView) findViewById(R.id.Score);
           Score.setText(String.valueOf(scr));
        }

        if (scr == 10) 
        {
               aCounter.start();
        }

        if (scr == 1) 
        {
            aCounter.cancel();
            new AlertDialog.Builder(Tap_Game_Activity.this)
             .setTitle("Congratulations!").setMessage("Go to Level 2?")
             .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
              public void onClick(DialogInterface AlertDialog, int PositiveButton) {
                  setContentView(R.layout.activity_level02_activity);
              }
               })
             .setNegativeButton("No", new DialogInterface.OnClickListener() {
                  public void onClick(DialogInterface AlertDialog, int NegativeButton) {
                   }
                   }).show();
        }

    }});
} 
```

（编辑！）：我通过将 2 个“Else If”语句更改为“If”语句来修复 AlertDialog。但是，我的计时器仍然不起作用:(，有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:41:39.620

假设 number 是您在 TextView 中显示的变量，请考虑以下代码，

```
int number = 10; 

if ( number > 0 ) 
{
    yourTextView.setText ( String.valueOf ( number ) ); 
}
else
{
    // do not set text
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:50:12.497

```
int i=10; 

b1.setOnClickListener(new OnClickListener() 
            {

                @Override
                public void onClick(View arg0) 
                {
                    i--;
                    t1.setText(""+i);
                    int s1=(Integer.parseInt(t1.getText().toString()));
                    if(s1<=0)
                    {
                        b1.setEnabled(false);
                    }

                }
            }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:32:17.900

一切都与逻辑有关。

您必须检查条件`if ( YourCount < 0 )`，然后您必须禁用该按钮或不根据条件在 textView 中设置值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-22T05:32:59.617

这似乎与 Android 没有任何关系，而更多地与 Java 有关。您只想确保您的代码不允许您低于 0。

你的代码可能是这样的：

如果按下按钮，则从 x 中减去 1 并将 setText 设置为 x

你只想扔一些东西来检查数字是否大于零

像：

如果按下按钮 && x 大于 0，则从 x 中减去 1 并将 setText 设置为 x

如果是这样的话，那么我建议你离开 Android 平台，做一些 Java 教程和示例。

# iphone - 邀请 Twitter 朋友使用应用程序

> ID：12066799
> 
> 赞同：5
> 
> 时间：2012-08-22T05:30:53.050
> 
> 标签：iphone, ios, twitter, mgtwitterengine

我们如何使用我的应用程序邀请我们的 Twitter 朋友/关注者参加任何应用程序/活动。为了在 Facebook 上做同样的事情，我正在向我的朋友墙发布一些消息。有没有办法使用 MGTwitterEngine 做同样的事情。

预先感谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T06:03:05.573

通过[这个](http://www.techotopia.com/index.php/An_Example_iPhone_iOS_5_TWTeetComposeViewController_Twitter_Application) ，我在[推特网站上使用了推文表](https://dev.twitter.com/docs/ios/using-tweet-sheet)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-23T06:21:06.990

如果你还没有浏览过这个链接，那么看看[Oauth](http://www.icodeblog.com/2010/09/16/dealing-with-the-twitter-oauth-apocalypse/)、 [Xauth](https://github.com/aral/XAuthTwitterEngine) 和[DMTwitterOAuth](http://danielemargutti.com/dmtwitteroauth-ios-twitter-oauth-login-made-easy/#comment-999)

# objective-c - WebView 委托的问题

> ID：12066803
> 
> 赞同：0
> 
> 时间：2012-08-22T05:31:30.617
> 
> 标签：objective-c, ios, uiwebview

我对这个 UIWebViewDelegate 方法有一些问题。

```
-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType 
```

**问题：** 在更改任何选项卡或单击任何链接时，会自动调用此方法。它对我来说也很好用，但令人惊讶的是，它从昨天开始就没有被调用。我尝试了一切，但仍然无法正常工作。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:49:06.850

如果您正在使用 xib 制作 webView，则将其委托连接到文件的所有者，或者如果您正在通过代码制作 webView，则编写

`myWebView.delegate = self;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:40:46.597

检查你是否这样做：

```
 @interface yourViewController : UIViewController <UIWebViewDelegate> 
```

还要检查添加这一行：

```
 yourWebView.delegate = self; 
```

# python - 不可映射地址的 KML 之谜

> ID：12066804
> 
> 赞同：0
> 
> 时间：2012-08-22T05:31:31.580
> 
> 标签：python, xml, google-maps, kml

使用 python，我从包含 lat/long 值的 csv 文件生成 KML 文件。我正在使用这个例子：

[http://l0u15.wordpress.com/2008/09/30/convert-csv-to-kml-for-google-maps/](http://l0u15.wordpress.com/2008/09/30/convert-csv-to-kml-for-google-maps/)

当我映射这个时：

```
<Placemark>
    <name>Disney's Hollywood Studios</name>
    <description>Disney's Hollywood Studios is a theme park at the Walt Disney World Resort. Spanning 135 acres in size, its theme is show business, drawing inspiration from the heyday of Hollywood in the 1930s and 1940s. The third park built at the resort, it opened on May 1, 1989 as Disney-MGM Studios. In 2007, the park hosted approximately 9.51 million guests.</description>
    <Point>
      <coordinates>-81.561995,28.357403</coordinates>
    </Point>
  </Placemark> 
```

它没有问题！但是这个：

```
<Placemark>
    <name>Beyond Basics Medical Practice</name>
    <description>213031 321 Middlefield Rd Ste 275 Menlo Park CA 94025 (650) 815-9577 1/4/2012 San Francisco Unknown</description>
    <Point>
        <coordinates>-122.168048,37.456523</coordinates>
    </Point>
</Placemark> 
```

根本不出现！

KML 是否有某种缩进要求？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:50:03.013

这对我来说可以。[这是在谷歌地图上](https://maps.google.com/maps?q=http%3a%2F%2Fwww.geocodezip.com%2Fgeoxml3_test%2Ftestkml_placemark_A_kml.xml&hl=en&ll=37.456522,-122.167955&spn=0.001275,0.001725&sll=37.0625,-95.677068&sspn=41.546728,56.513672&t=m&z=19&iwloc=lyrftr%3akml%3acjy5Wd1IV6vbsEDb7g4q2O-TQLrhN4t5XxLDo6pUJ,g061ebc8ce23201c9,37.456524,-122.168049,0,-32)-[两点](https://maps.google.com/maps?q=http%3a%2F%2Fwww.geocodezip.com%2Fgeoxml3_test%2Ftestkml_placemark_B_kml.xml&hl=en&sll=37.456522,-122.167955&sspn=0.001275,0.001725&t=m&z=4)

[在 Google Maps API v3 中](http://www.geocodezip.com/geoxml3_test/v3_geoxml3_kmltest_linktoB.html?filename=testkml_placemark_A_kml.xml)-[两点](http://www.geocodezip.com/geoxml3_test/v3_geoxml3_kmltest_linktoB.html?filename=testkml_placemark_B_kml.xml)

# vhdl - 在实践中如何评估过程

> ID：12066815
> 
> 赞同：2
> 
> 时间：2012-08-22T05:32:08.617
> 
> 标签：vhdl, fpga

我有两个过程，如下所示。

如果说 A=1、B=2 和 C=3，模拟中发生的情况是在上升沿 B=1 和 C=2，这就是我想要的结果。

但是，当设计实现到 fpga 中时，我能保证这也是正确的吗？

让我担心的是与流程 BC 中的额外 if 状态相关的延迟。

```
AB : process(A,clk)
begin
  if rising_edge(clk) then
    B <= A;
  end if;
end process;

BC : process(B,clk)
begin
  if rising_edge(clk) then
    if (some_statement) then
      C <= B;
    end if;
  end if;
end process; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T06:40:36.193

B 将采用 A 的值（B=1），C 将采用 B 的值（C=2）。

但是，我想您实际上并没有描述您想要的内容。问题是您在两个进程的敏感度列表中有 A 和 B。这意味着在过程 AB 中，B 将在每次 A 更改以及何时更改时更改`rising_edge(clk)`。过程 BC 也是如此。假设您想描述两个系列寄存器，您的代码应该是

```
AB : process(clk)
begin
  if rising_edge(clk) then
    B <= A;
  end if;
end process;

BC : process(clk)
begin
  if rising_edge(clk) then
    if (some_statement) then
      C <= B;
    end if;
  end if;
end process; 
```

在这种情况下，如果您将此代码综合到 FPGA 上，您将推断出两个寄存器。进程 BC 中的寄存器将使用连接到布尔输出的寄存器使能信号`some_statement`。如果`some_statement`已经是单个`std_logic`信号，这不会引入额外的延迟，但需要一些路由资源，因此您仍应避免在不需要的地方使用启用信号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T08:12:36.017

我认为 Simon 完美地回答了这个问题，只是为了进一步澄清这个问题：如果您的数据的初始值为 A=1、B=2 和 C=3，那么您将在模拟过程中获得以下信息：

*   在启动期间 A=1、B=2 和 C=3
*   在时钟 A=1、B=1 和 C=2 的第一个上升沿之后
*   在时钟 A=1、B=1 和 C=1 的第二个上升沿之后
*   之后，所有信号都将为 1。

if 语句的延迟必须超过“时钟周期”-“内部寄存器所需的保持时间”，否则会给您带来任何问题。除非您有一个极其复杂的逻辑，其中包含来自多个时钟域的信号，否则您的代码可能会出现问题（更准确的代码是 Simon 发送的代码）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T11:49:02.057

> 但是，当设计实现到 fpga 中时，我能保证这也是正确的吗？

合成器*应该*生成一个与您的 VHDL 在模拟器中的行为相匹配的 FPGA。如果没有，那就是bug！

请注意，存在一些“可接受的”偏差 - 例如，如果您错过了灵敏度列表中的右侧信号，合成器会假定您打算将其放在那里，但模拟器会假定您知道自己在做什么, 就会出现不匹配。就个人而言，我认为这种行为是一个错误，但它被太多工具根深蒂固，我认为它永远不会改变。

> 让我担心的是与流程 BC 中的额外 if 状态相关的延迟。

像您这样的时钟进程中的所有内容都在一个时钟滴答内“执行”。如果逻辑过多（例如，每个嵌套都`if`引入了新的逻辑层），您可能会发现时钟滴答的持续时间比您希望的要长。

(Not like software on most modern micros, where everything "takes as long as it takes", and is often unpredictable, depending on the state of caches, TLBs etc.)

# qt - Google API 或 Qt Mobility

> ID：12066819
> 
> 赞同：1
> 
> 时间：2012-08-22T05:32:36.407
> 
> 标签：qt, google-maps, qt-mobility, google-api-client

我将为我们公司编写一个路由和导航应用程序。我想我有两个选择。谷歌 API 和诺基亚 API 通过 Qt Mobility ！我不确定应该使用哪一个来获得更好的结果。更好的结果是指在我的应用程序中更好的完整性，这将是一个桌面应用程序。如果答案是谷歌 API，我不确定我应该使用哪一个谷歌 API？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T09:52:01.613

好吧，这是一个有趣的问题，可以使用与诺基亚地图相关的 Qt Mobility API，这将使您的生活更轻松，但是随着诺基亚出售 Qt 最近发生的变化，不能保证它们在 6 个月内仍然可以工作时间。使用 Google 地图 API，它们会更加稳定。

哪个谷歌 API？好吧，我不太了解它，但据我所知，您可以使用 Javascript API 并将其连接到 QWebView 中，这应该非常简单。

# iphone - PAN Gesture 在 iOS 中查看触摸位置时崩溃

> ID：12066821
> 
> 赞同：4
> 
> 时间：2012-08-22T05:32:37.963
> 
> 标签：iphone, objective-c, ios, uigesturerecognizer, uipangesturerecognizer

我只是做了一个示例来检查平移手势。

平移手势正在检测并且工作正常。

但是每当我在平移手势中给出第二点时，就像`CGPoint secondPoint = [sender locationOfTouch:1 inView:self.imageView];`它正在崩溃一样。

控制台正在给出消息

```
 *** Terminating app due to uncaught exception 'NSRangeException', reason: '-[UIPanGestureRecognizer locationOfTouch:inView:]: index (1) beyond bounds (1).' 
```

当我使用`panGestureRecognizer.maximumNumberOfTouches = 1;` panGestureRecognizer.minimumNumberOfTouches =1; 它仍然在崩溃。

当我使用时`panGestureRecognizer.maximumNumberOfTouches = 2;` `panGestureRecognizer.minimumNumberOfTouches = 2;` ，它没有进入

```
- (void)panGestureHandler:(UIPanGestureRecognizer *)sender method. 
```

谁能指导我哪里出错了。

在此先感谢。希望您的帮助。

我尝试过这种方式。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    UIPanGestureRecognizer *panGestureRecognizer = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(panGestureHandler:)];
     panGestureRecognizer.maximumNumberOfTouches = 2;
     [self.imageView addGestureRecognizer:panGestureRecognizer];

}
- (void)panGestureHandler:(UIPanGestureRecognizer *)sender
{
    if ([sender state] == UIGestureRecognizerStateBegan )
    {
        CGPoint firstPoint = [sender locationOfTouch:0 inView:self.imageView];
        CGPoint secondPoint = [sender locationOfTouch:1 inView:self.imageView];
    }
    else if ([sender state] ==UIGestureRecognizerStateEnded ) 
    {
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:43:15.037

你提供了一个`maximumNumberOfTouches`，但没有`minimumNumberOfTouches`。即，手势可以在第*一次*触摸之后被识别。在这种情况下，可能不存在第二次触摸，并且您的索引`1`（引用第二个元素）超出了数组边界。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-23T16:36:33.620

尽管设置了最大和最小触摸次数，我也遇到了这个错误。我正在对我的手势识别器进行子类化，并认为它与此有关。我通过`numberOfTouches`在引用它之前简单地检查来解决它：

```
if ([gestureRecognizer numberOfTouches] > 0) {
    CGPoint point = [gestureRecognizer locationOfTouch:0 inView:self.superview.window];
} 
```

希望这对某人有帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T06:58:11.737

该错误告诉您在这一行：

```
 CGPoint secondPoint = [sender locationOfTouch:1 inView:self.imageView]; 
```

索引“1”超出`locationOfTouches`范围。因此，如上所述，您需要确保设置`minimumNumberOfTouches`

此外，您需要在图像视图上启用用户交互，以便它响应手势识别器。

```
[self.imageView setUserInteractionEnabled:YES]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-03-15T03:02:25.377

当设置最大/最小触摸时，它们会确定开始发送动作是否是有效手势，但它们不是结束动作的标准。例如，如果您将 max/min 设置为 2。如果检测到两指触摸，则处理程序开始接收操作。离开一根手指不会结束手势。处理程序仍然通过更改状态和一键接收操作。最后，处理程序收到 0 触摸和结束状态。

# php - Paypal 与 socialEngine4.0 在 php 中的集成

> ID：12066826
> 
> 赞同：1
> 
> 时间：2012-08-22T05:33:06.517
> 
> 标签：php, zend-framework, paypal, socialengine

我对 SocialEngine4.0 框架很陌生。我想将 SocialEngine 应用程序与贝宝集成。任何人都可以建议我在社交引擎中是否有任何内置模块可以进行 Paypal 集成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T18:09:47.330

SocialEngine 已经带有内置的 PayPal 集成。如果您想在您的网站上使用 PayPal，您需要设置一个 PayPal 网关。可以在此处找到有关如何设置网关的说明：http: [//support.socialengine.com/questions/176/Admin-Panel-Billing-Gateways](http://support.socialengine.com/questions/176/Admin-Panel-Billing-Gateways)

如果您将使用 PayPal 为您的网站创建自己的订阅，那么您还需要设置一个计划。可以在此处找到说明：http: [//support.socialengine.com/questions/177/Admin-Panel-Billing-Plans](http://support.socialengine.com/questions/177/Admin-Panel-Billing-Plans)

如果您希望将我们的内置模块用于您自己的自定义目的。然后大部分模块都可以在 /application/modules/Payment 中找到

# android - 异步任务在 Android 3.0 - 4.0 中不起作用

> ID：12066834
> 
> 赞同：0
> 
> 时间：2012-08-22T05:33:45.203
> 
> 标签：android

我正在解析值数据并使用 xml 解析显示的项目中工作。

它在最高 2.3 的 android 版本中运行良好，但在最高 4.0 时无法正常运行。

我发现，在异步任务中，onPreExeucte 方法运行良好，但是当进程到达 doInBackground 方法时它将无法正常工作。并显示空异常行号 251。

这是我的代码，帮我解决这个问题。

```
public class AsynTaskScoreboard extends AsyncTask<Void, Void, Void> {

    private ProgressDialog dialog = ProgressDialog.show(getParent(), "Retrieving data ", " Loading. Please wait ... ", true);

    // can use UI thread here
    protected void onPreExecute() {
        this.dialog.setMessage("Loading...");
        this.dialog.setCancelable(false);
        this.dialog.show();
    }

    @Override
    protected Void doInBackground(Void... params) {

        try {
            URL xpto = new URL(strMainUrl + "score.php?UserId=" + EventListActivity.UserID);

            Log.e("Total urlScore board", "scr bord full url " + xpto);
            HttpURLConnection conn;

            conn = (HttpURLConnection) xpto.openConnection();
            conn.setDoInput(true);

            conn.connect();
            InputStream is = conn.getInputStream();

            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

            try {

                DocumentBuilder db = dbf.newDocumentBuilder();
                Document doc = db.parse(is);
                doc.getDocumentElement().normalize();
                NodeList nodeList;

                nodeList = doc.getElementsByTagName("TotalPoints");
                Node node1 = nodeList.item(0);
                Element fstElmnt1 = (Element) node1;
                NodeList scoreList1 = fstElmnt1.getElementsByTagName("TotalPoints");
                Element scoreElement1 = (Element) scoreList1.item(0);
                scoreList1 = scoreElement1.getChildNodes();
                strTotalPoints = ((Node) scoreList1.item(0)).getNodeValue();

                Log.d("SetText", "strTotalPoints " + strTotalPoints);

                nodeList = doc.getElementsByTagName("ChallengesPlayed");
                node1 = nodeList.item(0);
                fstElmnt1 = (Element) node1;
                scoreList1 = fstElmnt1.getElementsByTagName("ChallengesPlayed");
                scoreElement1 = (Element) scoreList1.item(0);
                scoreList1 = scoreElement1.getChildNodes();
                strChallengesPoint = ((Node) scoreList1.item(0)).getNodeValue();

                Log.d("SetText", "strChallengesPoint " + strChallengesPoint);

                android.os.Message msg = Message.obtain();
                msg.what = 11;
                handler.sendMessage(msg);

                /**
                 * Check whether it is my points or high score
                 */
                switch (flagMypointsOrHighScore) {
                case 0:
                    nodeList = doc.getElementsByTagName("UserScore");

                    // Define Array based on nodelist

                    arrLength = nodeList.getLength();
                    strGameid = new String[arrLength];
                    strGameNameArr = new String[arrLength];
                    strGameLocationArr = new String[arrLength];
                    strGameDate = new String[arrLength];

                    Log.d("SetText", "arrLength " + arrLength);
                    Log.d("SetText", "strGameid " + strGameid);
                    Log.d("SetText", "strGameNameArr " + strGameNameArr);
                    Log.d("SetText", "strGameLocationArr " + strGameLocationArr);
                    Log.d("SetText", "strGameDate " + strGameDate);

                    String[] strXMLTag = { "GameId", "GameName", "Location", "Date" };
                    for (int i = 0; i < arrLength; i++) {

                        Node node = nodeList.item(i);
                        Element fstElmnt = (Element) node;

                        for (int j = 0; j < strXMLTag.length; j++) {
                            NodeList scoreList = fstElmnt.getElementsByTagName(strXMLTag[j]);
                            Element scoreElement = (Element) scoreList.item(0);
                            scoreList = scoreElement.getChildNodes();
                            switch (j) {
                            case 0:
                                strGameid[i] = ((Node) scoreList.item(0)).getNodeValue();
                                break;

                            case 1:
                                strGameNameArr[i] = ((Node) scoreList.item(0)).getNodeValue();

                                break;
                            case 2:
                                strGameLocationArr[i] = ((Node) scoreList.item(0)).getNodeValue();
                                // location =
                                // strGameLocationArr[i].toString().trim();
                                break;
                            case 3:
                                strGameDate[i] = ((Node) scoreList.item(0)).getNodeValue();

                                break;
                            }

                        }

                    }// End of for loop
                        // Your rank

                    break;

                case 1:// Top rank 5

                    nodeList = doc.getElementsByTagName("Top5Rank");

                    // Define Array based on nodelist

                    arrLength = nodeList.getLength();
                    strGameNameArr = new String[arrLength];
                    strGameLocationArr = new String[arrLength];
                    strGameDate = new String[arrLength];
                    for (int i = 0; i < arrLength; i++) {

                        Node node = nodeList.item(i);
                        Element fstElmnt = (Element) node;

                        NodeList rankList = fstElmnt.getElementsByTagName("Person");
                        //
                        int rankListLength = rankList.getLength();

                        if (strPersonNameArr == null) {
                            strPersonNameArr = new String[rankListLength];
                            strPersonRankArr = new String[rankListLength];
                            strPersoonPointsArr = new String[rankListLength];
                        }
                        for (int j = 0; j < rankListLength; j++) {
                            rankList = fstElmnt.getElementsByTagName("Person");
                            Element rankElement = (Element) rankList.item(j);
                            rankList = rankElement.getChildNodes();
                            strPersonNameArr[j] = rankElement.getAttribute("Name");
                            strPersonRankArr[j] = rankElement.getAttribute("Rank");
                            strPersoonPointsArr[j] = rankElement.getAttribute("Points");
                        }

                    }// End of for loop

                    // // Your rank
                    //
                    // nodeList = doc.getElementsByTagName("YourRank");
                    //
                    // // Define Array based on nodelist
                    //
                    // for (int i = 0; i < arrLength; i++) {
                    // //
                    // Node node = nodeList.item(i);
                    // Element fstElmnt = (Element) node;
                    //
                    // NodeList rankList = fstElmnt
                    // .getElementsByTagName("Person");
                    // Element rankElement = (Element) rankList.item(0);
                    // rankList = rankElement.getChildNodes();
                    // strPersonName = rankElement.getAttribute("Name");
                    // strRank = rankElement.getAttribute("Rank");
                    // strPoint = rankElement.getAttribute("Points");
                    //
                    // }// End of for loop
                    break;

                }// End of switch
            } catch (Exception e) {
                // TODO: handle exception
                e.printStackTrace();
            }// try below db 2try

        } catch (Exception e) {
            // TODO Auto-generated catch block

            if (e.toString().equalsIgnoreCase("java.net.SocketException: Network unreachable")) {
                android.os.Message msg = android.os.Message.obtain();
                msg.what = 0;
                handler.sendMessage(msg);
            }
            e.printStackTrace();
        }

        return null;
    }// End of do in background method

    // do the stuff after the heavy task

    protected void onPostExecute(Void result) {
        android.os.Message msg = Message.obtain();
        switch (flagMypointsOrHighScore) {
        case 0:
            listViewMyPoints.setAdapter(new JR_LB_ListAdapter(ScoreboardActivity.this));
            break;
        case 1:
            listViewHighScores.setAdapter(new JR_LB_ListAdapter_HighScores(ScoreboardActivity.this));
            // Set textview value in the
            msg.what = 10;
            handler.sendMessage(msg);
            break;
        default:

        }

        if (this.dialog.isShowing()) {
            this.dialog.dismiss();
        }
    }// End of on post execute method

    @Override
    protected void onProgressUpdate(Void... values) {
        // TODO Auto-generated method stub
        Totalpoint.setText(strTotalPoints);
        challengeplay.setText(strChallengesPoint);
        txtViewRank.setText(strRank);
        txtViewPoint.setText(strPoint);
        txtViewPersonName.setText(strPersonName);

    }

}// End of Asynchronous task class 
```

# mysql - mysql 查询处理时间过长。如何解决这个问题

> ID：12066837
> 
> 赞同：-3
> 
> 时间：2012-08-22T05:33:47.953
> 
> 标签：mysql, select, count

```
 SELECT car_detail.*,
       (SELECT Count(tdid)
        FROM   testdrive
        WHERE  testdrive.carid = car_detail.detail_id)            AS vipdrive,
       (SELECT Count(fid)
        FROM   finanace_app
        WHERE  finanace_app.classified_id = car_detail.detail_id) AS financeapp,
       (SELECT Count(trid)
        FROM   tracking
        WHERE  tracking.carid = car_detail.detail_id
               AND track_mode = 'C')                              AS craigimp,
       (SELECT Count(trid)
        FROM   tracking
        WHERE  tracking.carid = car_detail.detail_id
               AND track_mode = 'L')                              AS landing
FROM   car_detail
WHERE  year <= '2011'
       AND price != '0'
       AND photo_count != ''
ORDER  BY (SELECT Count(tdid)
           FROM   testdrive
           WHERE  testdrive.carid = car_detail.detail_id)
          + (SELECT Count(fid)
             FROM   finanace_app
             WHERE  finanace_app.classified_id = car_detail.detail_id)
          + (SELECT Count(trid)
             FROM   tracking
             WHERE  tracking.carid = car_detail.detail_id)
          + car_detailed + picture_view + map_view
          + video_view DESC 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:41:19.233

有 3 个突出的地方可以改进：

# 1)

选择列表中的相关子查询。一般来说，子查询，特别是相关子查询很慢，因为它们是针对主查询的每一行运行的。您可以将这些重写为 from 子句中的子查询并加入它们。

# 2)

按顺序查询表达式。这些速度很慢，原因与 SELECT 列表中的子查询相同。在这种情况下，你实际上是在重新计算你已经拥有的值，所以你做了两次工作。您应该参考选择列表中的列。

# 3)

您查询跟踪表两次，一次是 track_mode = 'L'，一次是 track_mode = 'C'。查询一次并根据 track_mode 的值计算两个计数会更有意义

```
SELECT     car_detail.*
,          vipdrive.testdrives
,          financeapp.finance_count
,          craigimp.tracking_count
,          craigimp.landing_count
FROM       car_detail
LEFT JOIN  (
           SELECT   Count(tdid) testdrives
           ,        testdrive.carid
           FROM     testdrive
           GROUP BY testdrive.carid
           )        vipdrive
ON         car_detail.detail_id = vipdrive.carid
LEFT JOIN  (
           SELECT   Count(fid) finance_count
           ,        finanace_app.classified_id
           FROM     finanace_app
           GROUP BY finanace_app.classified_id
           )        financeapp
ON         car_detail.detail_id = financeapp.classified_id
LEFT JOIN  (
           SELECT   SUM(if(track_mode = 'C', 1, 0)) tracking_count
           ,        SUM(if(track_mode = 'L', 1, 0)) landing_count
           ,        tracking.carid
           FROM     tracking
           GROUP BY tracking.carid
           )        craigimp
ON         car_detail.detail_id = craigimp.carid  
WHERE      year <= 2011
AND        price != 0
AND        photo_count != ''
ORDER  BY  vipdrive.testdrives
         + finance_count
         + tracking_count
         + car_detailed + picture_view + map_view
         + video_view DESC 
```

小的改进没有引用数字常量。

作为性能问题的一般规则，请在将来执行以下操作：

*   发布格式良好的 SQL。例如使用这个[http://www.dpriver.com/pp/sqlformat.htm?ref=g_wangz](http://www.dpriver.com/pp/sqlformat.htm?ref=g_wangz)
*   为查询中的每个表发布 SHOW CREATE TABLE 输出
*   为您的查询发布 EXPLAIN 输出。
*   写下现在需要多长时间，以及您希望它多快。你总是可以优化更多，所以你需要一个目标，否则这是一个没有尽头的练习。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:41:20.450

尝试`order by`单独运行内部的选择，然后在原始查询中使用结果。
此外，您`tracking`在子查询中使用了同一个表两次 - 您应该将子选择合并为一个并使用`case`or `if`。
如果您需要更多帮助，则必须运行`Explain`并向我们展示结果。

# eclipse - 安装新软件对话框不显示文本

> ID：12066839
> 
> 赞同：1
> 
> 时间：2012-08-22T05:34:01.457
> 
> 标签：eclipse, installation

如果您转到*Help >> Install Newe Software*，会打开一个对话框，但必须显示可用软件列表的 Datawindow 留空。

如果您单击“全选”按钮，则消息显示，某些内容已被选中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:34:01.457

**解决方案是：**

转到*/.metadata/plugins/org.eclipse.equinox.p2.ui/*并重命名文件 *dialog_settings.xml*。将工作区切换到另一个（或新的），然后切换回您重命名文件的那个。

现在它应该工作了！

背景-关于[Equinox 和 P2的信息](http://wiki.eclipse.org/Equinox_p2_Getting_Started)

# java - 将文件输入到 Xpath 的最佳方式

> ID：12066842
> 
> 赞同：0
> 
> 时间：2012-08-22T05:34:25.277
> 
> 标签：java, xpath

我正在使用 Xpath 来红色 XML 文件。文件的大小是未知的（在 700Kb - 2Mb 之间），每秒必须读取大约 100 个文件。所以我想要一种快速加载和读取 Xpath 的方法。

我尝试使用 java nio 文件通道和内存映射文件，但很难与 Xpath 一起使用。那么有人可以告诉一种方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T07:13:25.870

很大程度上取决于 XPath 表达式的作用。这里有四个成本：读取文件的基本 I/O、XML 解析、树构建和 XPath 评估。（加上可能的第五个，生成输出，但您没有提到输出可能是什么。）根据您的描述，我们无法知道哪个因素占主导地位。绩效改进的第一步始终是衡量，而我的第一步是尝试衡量这四个因素的贡献。

如果您在具有多个处理器的环境中（谁不是？），那么并行执行将是有意义的。如果您可以使用 Saxon-EE 中的 collection() 函数来组织处理，则可以“免费”获得这个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:43:15.050

如果我是你，我可能会在这种情况下完全放弃 Java，不是因为你*不能*在 Java 中这样做，而是因为使用一些 bash 脚本（如果你在 Unix 上）会更快，至少这个这是我处理大量文件的经验告诉我的。

在 *nix 上，您有一个名为**xpath**的实用程序正是为此而设计的。

由于您正在执行大量 I/O 操作，因此拥有一个像样的 SSD 磁盘会更有帮助，然后在单独的线程中执行它。您仍然需要使用多个线程来执行此操作，但每个 CPU 不超过一个。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-22T06:25:20.153

如果您想要性能，我会完全放弃 XPath 并使用 SAX 解析器来读取文件。您可以在 Stackoverflow 中搜索 SAX、XPath 和 DOM 类型的问题，以获取更多详细信息。与 DOM 和SAX[相比，XPath 效率更高吗？](https://stackoverflow.com/questions/689097/is-xpath-much-more-efficient-as-compared-to-dom-and-sax)

# java - Tomcat 上下文级别 WebAppLoader 存储库（重新加载）

> ID：12066847
> 
> 赞同：1
> 
> 时间：2012-08-22T05:34:59.543
> 
> 标签：java, tomcat

给定一个带有自定义[Loader 类](http://tomcat.apache.org/tomcat-6.0-doc/config/loader.html)/ [WebappLoader](https://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/loader/WebappLoader.html)的上下文，它在应用程序启动期间使用 addRepository() 加载其他 jar 文件，是否可以在重新加载上下文时重新加载（可能已修改）jar 文件？

*   可以指定为“可重新加载”吗？
*   当上下文停止时，上下文级别加载器加载的罐子是否被卸载？
*   clearReferencesThreadLocals 配置属性的一个很好的描述？

# c - 初始化指向 const 字符串的指针数组结构

> ID：12066850
> 
> 赞同：3
> 
> 时间：2012-08-22T05:35:30.073
> 
> 标签：c, gcc

我正在寻找 C 中的数据结构，它允许我使用压缩语法（如下所示）声明和初始化数百个字符串，这在 C11 中是否可行？

```
#include <stdio.h>

enum {ENGLISH, SPANISH, FRENCH, NUM_LANGUAGES};

struct language_string =
{
    const char* language_hello[NUM_LANGUAGES]   = {"Hello",     "Hola",     "Bonjour"};
    const char* language_goodbye[NUM_LANGUAGES] = {"Goodbye",   "Adiós",    "Au revoir"};
};

void foo(void)
{
    printf(language_string.language_hello[ENGLISH]);        // print "Hello"
} 
```

编辑：我已经意识到在头文件中我可以公开所有字符串，而无需将它们包装在结构中或将它们外部化，并实现主要意图，每个字符串一行：

```
const char*  language_hello[NUM_LANGUAGES]   = {"Hello",   "Hola",  "Bonjour"};
const char*  language_goodbye[NUM_LANGUAGES] = {"Goodbye", "Adiós", "Au revoir"}; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T05:52:05.470

你所拥有的已经几乎是正确的。但是，您不能像这样交错声明和初始化。这是一个更正的示例：

```
struct
{
    const char* language_hello[NUM_LANGUAGES];
    const char* language_goodbye[NUM_LANGUAGES]; 
} language_string = {
    {"Hello",     "Hola",     "Bonjour"},
    {"Goodbye",   "Adiós",    "Au revoir"}
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:47:41.683

为了便于代码维护，我建议使用类似于以下的语法：

```
#define NUM_LANGUAGES 3

typedef struct
{
    const char* hello[NUM_LANGUAGES];
    const char* goodbye[NUM_LANGUAGES];
} language_t;

const char* STR_HELLO [NUM_LANGUAGES] =
{
  "Hello",
  "Hola",
  "Bonjour"
};

const char* STR_GOODBYE [NUM_LANGUAGES] =
{
  "Goodbye",
  "Adiós",
  "Au revoir"
};

int main()
{
  language_t lang =
  {
    { STR_HELLO[0],   STR_HELLO[1],   STR_HELLO[2]   },
    { STR_GOODBYE[0], STR_GOODBYE[1], STR_GOODBYE[2] }
  };
} 
```

# html - twitter bootstrap 中 Div.span8 和 Div.span3 元素之间的边界

> ID：12066852
> 
> 赞同：2
> 
> 时间：2012-08-22T05:35:37.593
> 
> 标签：html, twitter-bootstrap, border

我的项目正在使用 Twitter Bootstrap。它有主窗格 div.span8 和侧窗格 div.span3。整个面板有外边框，看起来像一个盒子。我在主窗格中添加了边框，以便在两个窗格之间形成分隔线。现在的问题是侧窗格高度大于主窗格，因此窗格之间的边界不完整（它没有到达外边界）。两个窗格的内容都是动态的。

如何解决问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T06:32:35.100

采用

```
<div span8>
<div class="border">
</div>
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T18:39:37.720

设置你有边框的div，`style="height:100%;"`那么你将永远有一个完整的边框。

# hbase - hbase中表的数量限制及其对性能的影响

> ID：12066856
> 
> 赞同：0
> 
> 时间：2012-08-22T05:35:58.037
> 
> 标签：hbase

我们在生产中的 hbase 模式有 5 个表。我们有 N 个客户，其中只有 10% 的客户在任何给定时刻都处于活动状态。所以对我来说，保持剩余 90% 客户的数据处于活动状态似乎是一种资源浪费。我正在考虑为每个客户端创建 5 个表，以便我可以启用活动客户端的表并禁用其余客户端的表。根据我的阅读，如果每个区域服务器超过 1000 个区域，那么性能就会开始下降。但我肯定不会达到这个极限。我的问题

1.  如果我禁用一组表，这是否意味着我在 hbase 上的负载减少了？
2.  总体而言，这似乎是一个合理的策略吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T06:11:39.650

你对表演有什么期待？

您将如何确定哪些客户是活跃的/不活跃的？

您将如何为非活动客户端禁用自动未使用的表？

那么读取的访问模式是什么？您的客户是否会仅读取其单个表中的数据？

处理大量表格会导致几个问题：

*   更多区域，因为 1 个表包含 - 至少 - 1 个区域，即使没有数据。HBase 将不得不处理更多活动的 StoreFiles 等。
*   更多的内存存储（即：内存使用），因为没有定期刷新到磁盘（HFile），但只有当它们达到配置的阈值时。

# java - 如何将 JFreeChart 数据导出到 csv 文件

> ID：12066862
> 
> 赞同：-1
> 
> 时间：2012-08-22T05:36:24.920
> 
> 标签：java, swing, jfreechart, export-to-csv

我在我们正在设计的工具中使用`Java Swing`了 with`JFreeChart`来绘制图表。现在我想将图形数据导出到 CSV 文件。（*比如右键单击图形，它应该提供导出到 CSV 的选项，并在选择它时，应该在某个随机位置创建一个 csv 文件并将图形数据保存到其中*）。

这里的重点是如何将数据从图形保存到 CSV。我需要使用`Java Swing`并`JFreeChart`实现这一目标。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T06:01:03.903

尝试使用这个：

```
JFreeChart chart;
// ... initialization of chart
XYDataSet dataSet = chart.getXYPlot().getDataset(); 
```

然后使用`dataSet`非常简单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-10-23T20:04:01.943

这是一个具体的例子：

```
 private void storeDataSet(JFreeChart chart, String filename) {
      java.util.List<String> csv = new ArrayList<>();
      if (chart.getPlot() instanceof XYPlot) {
         Dataset dataset = chart.getXYPlot().getDataset();
         XYDataset xyDataset = (XYDataset) dataset;
         int seriesCount = xyDataset.getSeriesCount();
         for (int i = 0; i < seriesCount; i++) {
            int itemCount = xyDataset.getItemCount(i);
            for (int j = 0; j < itemCount; j++) {
               Comparable key = xyDataset.getSeriesKey(i);
               Number x = xyDataset.getX(i, j);
               Number y = xyDataset.getY(i, j);
               csv.add(String.format("%s, %s, %s", key, x, y));
            }
         }

      } else if (chart.getPlot() instanceof CategoryPlot) {
         Dataset dataset = chart.getCategoryPlot().getDataset();
         CategoryDataset categoryDataset = (CategoryDataset) dataset;
         int columnCount = categoryDataset.getColumnCount();
         int rowCount = categoryDataset.getRowCount();
         for (int i = 0; i < rowCount; i++) {
            for (int j = 0; j < columnCount; j++) {
               Comparable key = categoryDataset.getRowKey(i);
               Number n = categoryDataset.getValue(i, j);
               csv.add(String.format("%s, %s", key, n));
            }
         }
      } else {
         throw new IllegalStateException("Unknown dataset");
      }
      try (BufferedWriter writer = new BufferedWriter(new FileWriter(filename + ".csv"));) {
         for (String line : csv) {
            writer.append(line);
            writer.newLine();
         }
      } catch (IOException e) {
         throw new IllegalStateException("Cannot write dataset", e);
      }
   } 
```

# linux - 我想结合两个 awk 脚本

> ID：12066865
> 
> 赞同：0
> 
> 时间：2012-08-22T05:36:35.923
> 
> 标签：linux, awk

我有两个使用 AWK 的，效果很好

# myScript3.awk

```
 #!/usr/bin/awk -f
    BEGIN {
        FS=">|</"
        OFS=","
    }
    {
     data[count++] = $2
     ptint $2
     }
    END{
       print data[2],data[6],data[3], FILENAME
    } 
```

上面的脚本将扫描 xml 文档并返回第 2、6、3 个元素以及文件名。

```
 for filename in *.xml
    do 
        awk -f myscript3.awk $filename >> out.txt
    done 
```

上述脚本将扫描整个文件夹并列出 xml 文件，然后执行 myscript。我必须将这两个脚本合并为一个。谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T08:20:00.970

关于调用约定的注意事项：如果您正在运行脚本，因为`awk -f script`您不需要`#!`开头的 shabang ( ) 行。或者，您可以使用 shabang 运行它，就`./script`好像它`script`是可执行的一样。

**回答**

`awk`有`BEGINFILE`and `ENDFILE`，用它们替换`BEGIN`/`END`并将`xml`文件作为参数，以下应该有效：

### 编辑

正如丹尼斯在下面的评论中指出的那样，不需要`BEGINFILE`. 另请注意，这需要相当新的 GNU 版本`awk`才能工作。

**myScript3.awk**

```
BEGIN {
  FS=">|</"
  OFS=","
}
{
  data[count++] = $2
  print $2
}
ENDFILE {
   print data[2],data[6],data[3], FILENAME
} 
```

像这样运行它：

```
awk -f myscript.awk *.xml 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:07:37.010

```
#!/bin/bash
AWKPROG='BEGIN {FS=">|</" OFS=","}
{ data[count++] = $2; ptint $2 }
END {print data[2], data[6], data[3], FILENAME}'
for filename in *.xml;do awk $AWKPROG $filename; done >> out.txt 
```

警告：未经测试。

# javascript - 如何检查一个元素是否与其他元素重叠？

> ID：12066870
> 
> 赞同：69
> 
> 时间：2012-08-22T05:37:07.367
> 
> 标签：javascript, boundary

我有两个 div 元素。它们每个都有 450 像素的宽度和高度。如何检查第一个 div 是否与第二个 div 重叠？

我尝试使用 javascript hittest，但它有点复杂。由于我试图找出它实际上是如何工作的，我想从一个更简单的代码开始。

我发现我可以使用**.getClientRects**来获取元素的边界，但我不确定如何比较边界。

请给我提意见！

* * *

## 回答 #1

> 赞同：129
> 
> 时间：2012-08-22T05:54:23.177

像这样的东西`rect1`并通过[getBoundingClientRect()](https://developer.mozilla.org/en-US/docs/DOM/element.getBoundingClientRect)`rect2`检索：

```
var overlap = !(rect1.right < rect2.left || 
                rect1.left > rect2.right || 
                rect1.bottom < rect2.top || 
                rect1.top > rect2.bottom) 
```

说明：如果括号中的一个或多个表达式是`true`，则不存在重叠。如果都是`false`，则必须有重叠。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-10-27T03:05:13.890

这是我几天前做的东西：**[https ://gist.github.com/yckart/7177551](https://gist.github.com/yckart/7177551)**

```
var AABB = {
  collide: function (el1, el2) {
    var rect1 = el1.getBoundingClientRect();
    var rect2 = el2.getBoundingClientRect();

    return !(
      rect1.top > rect2.bottom ||
      rect1.right < rect2.left ||
      rect1.bottom < rect2.top ||
      rect1.left > rect2.right
    );
  },

  inside: function (el1, el2) {
    var rect1 = el1.getBoundingClientRect();
    var rect2 = el2.getBoundingClientRect();

    return (
      ((rect2.top <= rect1.top) && (rect1.top <= rect2.bottom)) &&
      ((rect2.top <= rect1.bottom) && (rect1.bottom <= rect2.bottom)) &&
      ((rect2.left <= rect1.left) && (rect1.left <= rect2.right)) &&
      ((rect2.left <= rect1.right) && (rect1.right <= rect2.right))
    );
  }
}; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-22T05:40:49.457

element.getBoundingClientRect() 在现代浏览器中非常安静，提供相对于屏幕的边界。看[这里](https://developer.mozilla.org/en-US/docs/DOM/element.getBoundingClientRect)比测试边界框是否重叠，这是简单的几何图形......

哦，对不起......发现你的编辑太晚了......

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-22T05:51:24.487

在早于版本 8 的 Internet Explorer 中，返回的[TextRectangle](http://help.dottoro.com/ljgupwlp.php)对象包含物理像素大小的坐标，而从版本 8 开始，它包含逻辑像素大小的坐标。

如果您需要整个元素的边界矩形，请使用[getBoundingClientRect](http://help.dottoro.com/ljvmcrrn.php)方法。

# java - 没有 XML 的 Struts 2 条件注释验证

> ID：12066873
> 
> 赞同：0
> 
> 时间：2012-08-22T05:37:26.137
> 
> 标签：java, validation, struts2, annotations

我有一个包含多个字段（即 a、b、c、d、...）的表单，而我目前正在做的项目是在 Struts2 中使用 Annotations 进行表单验证。不鼓励使用 XML。

在验证表单元素 b、c 和 d 之前，我需要检查某个条件。

我能够做到以下几点：

```
@Validations {  
 requiredStrings = {
   @RequiredStringValidator(...),
   @RequiredStringValidator(...),
  }
}
public String doSomething(){
  ...
 return SUCCESS;
} 
```

有没有办法单独在 Struts2 Annotation 中做到这一点？我在 SO 中发现的大多数类似问题都告诉我使用 XML 方法。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T10:10:21.540

使用表达式验证器，或编写自定义验证器。

# php - 如何生成pdf并保存到服务器

> ID：12066875
> 
> 赞同：2
> 
> 时间：2012-08-22T05:37:31.363
> 
> 标签：php, pdf

好吧，我正在尝试生成 pdf 文件并将其保存到服务器，但是当我尝试查看该 pdf 时，它显示的格式无效。

代码 ：

```
<?php
$content = "32w434";
file_put_contents("xyz.pdf",$content);
?> 
```

如果我将文件从 pdf 更改为 doc 它可以正常工作并且可以完美打开但不是 pdf

```
require('fpdf.php');

$pdf = new FPDF();
$pdf->AddPage();
$pdf->SetFont('Arial','B',16);
$pdf->Cell(40,10,'Hello World!');
$content = $pdf->Output();
file_put_contents("xyz.pdf",$content); 
```

给出输出的代码我不想在浏览器上输出，但文件仍然损坏/格式无效

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-22T05:50:52.417

```
require('fpdf.php');

$pdf = new FPDF();
$pdf->AddPage();
$pdf->SetFont('Arial','B',16);
$pdf->Cell(40,10,'Hello World!');
$content = $pdf->Output('doc.pdf','F'); 
```

[http://www.fpdf.org/](http://www.fpdf.org/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T05:39:41.243

您可以使用 FPDF 生成 pdf 文件....

```
http://www.fpdf.org/ 
```

这是生成pdf的简单且最佳的方法...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:42:48.847

使用 TCPDF 生成 PDF 文件，

TCPDF 网站：[http ://www.tcpdf.org/](http://www.tcpdf.org/)

演示：[http ://www.tcpdf.org/examples.php](http://www.tcpdf.org/examples.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-05T02:17:25.617

@Mohit，

这

```
$content = $pdf->Output('doc.pdf','F'); 
```

生成一个新文件。如果您的文件是使用可以在 php 中更改的变量生成的，那么您在屏幕上看到的 pdf 文件将与保存在服务器上的 pdf 文件不同。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-22T05:40:42.117

您应该使用 tcpdf 或 fpdf 等 pdf 库生成 pdf 文件。将内容直接放入扩展名为 .pdf 的文件中肯定行不通，因为 pdf 有自己的文件格式

# xcode - 无法在 Xcode 3.2.6 上为 iOS 构建 Facebook SDK

> ID：12066876
> 
> 赞同：0
> 
> 时间：2012-08-22T05:37:36.303
> 
> 标签：xcode, facebook-ios-sdk

我克隆了最新版本的 facebook-ios-sdk 项目：

[https://github.com/facebook/facebook-ios-sdk](https://github.com/facebook/facebook-ios-sdk)

并尝试构建位于 src/facebook-ios-sdk.xcodeproj 的项目，但由于以下错误而无法构建：

[http://i.imgur.com/CrDfP.png](http://i.imgur.com/CrDfP.png)

这是因为 Xcode 4 是最新 SDK 的要求吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T17:51:58.417

That feature (diagnostic push, pop) was introduced in GCC 4.6, the best to do is to remove the #pragma diagnostic stuff. You'll get the warning but apparently it is okay since the author choose to ignore it.

# textbox - 如何在 WinRT Windows 8 中手动设置和失去文本框的焦点

> ID：12066877
> 
> 赞同：1
> 
> 时间：2012-08-22T05:37:37.663
> 
> 标签：textbox, windows-8, windows-runtime, lost-focus

我有一个文本框，`LostFocus`如果发生它，我有一个调用函数`SaveWeight()`来根据几个条件保存值。我需要以编程方式触发该功能。

例如，我有一个`OnClearButClicked`函数可以清除文本框中的值。所以清除后，我需要调用该`SaveWeight`函数。但由于它是一个 LostFocus 事件，我需要手动设置文本框的焦点，`Unfocused`这可能会触发`SaveWeight()`.

```
private void OnClearButClicked(object sender, RoutedEventArgs e) {
    weightTBox.Text = "";
    weightTBox.Focus(Windows.UI.Xaml.FocusState.Unfocused);
} 
```

但是`weightTBox.Focus(Windows.UI.Xaml.FocusState.Unfocused);`抛出一个`ArgumentException`. 那我的方法错了吗？我可以`FocusState`为元素设置然后触发事件吗？还是我缺少的其他东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T08:50:12.910

为什么不直接调用方法，传入 null 作为参数呢？

```
SaveWeight(null, null); 
```

在我看来，在 UI 中设置焦点严重违反了代码库中的关注点分离。

# ios5 - 如何在 iphone sdk 中检查 XCODE 中的崩溃日志

> ID：12066878
> 
> 赞同：2
> 
> 时间：2012-08-22T05:37:41.760
> 
> 标签：ios5, memory-management, memory-leaks, xcode4.3, symbolicatecrash

我是 iPhone 应用程序开发的新手，当我在设备应用程序中运行我的应用程序时，应用程序崩溃并提供以下登录管理器

这是日志报告：

```
Incident Identifier: 23B91310-BCEC-497B-821A-8CF8E709ACF7
CrashReporter Key:   3202fd13cd0c5e4ab0706615fabf36ebc9396206
Hardware Model:      iPod4,1
OS Version:          iPhone OS 4.3.5 (8L1)
Kernel Version:      Darwin Kernel Version 11.0.0: Sat Jul  9 00:59:43 PDT 2011; root:xnu-    1735.47~1/RELEASE_ARM_S5L8930X
Date:                2012-08-22 10:45:15 +0530
Time since snapshot: 54 ms

Free pages:        588
Wired pages:       16800
Purgeable pages:   38
Largest process:   BJS

 Processes
     Name                 UUID                    Count resident pages
         BJS <312d3dae46e433f9982c26738e40060b>   36928 (jettisoned) (active)
  debugserver <919dbac91c0e3133a517d6c7a99e667e>     184
    SCHelper <f8cf7ee034ac3991a79d8c78e435c1e7>     131
  Preferences <cbdecd3d02e031e48e9675235a51306c>    1045 (jettisoned)
  springboardservi <5ab19f16a3973514b6d7d62201d6abde>     309
   syslog_relay <344c7c41bec5360aae33f4fd412ea95f>      94
  notification_pro <698dca6c4cba390a8017315bd25f18f8>     112
   syslog_relay <344c7c41bec5360aae33f4fd412ea95f>      97
  notification_pro <698dca6c4cba390a8017315bd25f18f8>     108
        ptpd <6072e173aed83310b9b7589a70a24b0b>     580
    talkmeim <eb62d6230d5f304f9819c6aebc2d2298>    1141 (jettisoned)
         lsd <3fafa485b73836acb973d50feabd963a>     248
     notifyd <9966082842de313a8e05a001c783faf4>     126
    BTServer <01550e9527353eecae41ebee0f889603>     308
  CommCenter <7d9446365b4836968ae361626ef8f939>     271
        misd <8f94228bddf8342994baf5ca9af1154d>     154
 SpringBoard <5c55c6fba0843b0e924e116413b8c9d4>    4143 (active)
  accessoryd <d30e340e36df356bbde3347a6ed1ef87>     148
        apsd <47ffc9ce9f84371588bd3f937aaa20bb>     285
     configd <a6d457fca42732d9ba809d03a2b3e3ae>     401
 fairplayd.N81 <144f0ff89c123fa5a1cfa40da72fb024>     165
     imagent <9e0b26bad4a538a5b0e5e5ee7eeeb7be>     234
   locationd <9088e845dcbe37d890c8758655bf34c6>     685
  mDNSResponder <caf94711b8093dc5bc5736306f8ae818>     198
  mediaremoted <21af791e80823c9f90f0be2b77a3d885>     199
 mediaserverd <c731263114c33a07aef7bccdcf667271>     643
   lockdownd <1c7f2b41744c35dc92f679e90a73e240>     268
     syslogd <d81669e7bdb93f9b9012020beac826f4>     100
 usbethernetshari <25130d2f9a0334e3ae28780250343144>     105
     launchd <e2d41e07a0743a089eadbae765709c82>      84

**End** 
```

任何人都可以帮助如何跟踪日志报告。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T23:48:46.677

这不是应用程序崩溃，而是应用程序终止：iOS 有一种称为 Jetsam（或正式的内存状态）的机制，当物理内存不足时，它会“抛弃”（即抛出）最大的进程（就内存而言）低的。这是必要的措施，因为 iOS 没有交换。在您的由 jetsam 生成的日志中，您可以看到所有处于活动状态的进程的列表，以及已被丢弃的 BJS。格式为：

```
Incident Identifier: Automatically generated GUID for Apple
CrashReporter Key:   Hash, probably of GUID
Hardware Model:      i-Device stepping (4,1 is 4th gen iPod in your case)
OS Version:          Version of iOS
Kernel Version:      Kernel version, as per uname -a
Date:                ... figure this one out
Time since snapshot: How much time has passed - the snapshot may be "dated"

Free pages:        How many free pages of RAM remain. Page = 4k
Wired pages:       How many resident pages
Purgeable pages:   How many pages MAY be freed, if all else fails
Largest process:   The culprit

 Processes
     Name                 UUID                    Count resident pages
         BJS <312d3dae46e433f9982c26738e40060b>   36928 (jettisoned) (active) 
```

表，根据列标题，其中（抛弃）意味着 jetsam 杀死了你。(active) 表示您是前台应用程序。

希望这会有所帮助，（如果没有 - 直接评论或问我）

# c# - MailMerge 使用 sql server 数据库

> ID：12066881
> 
> 赞同：1
> 
> 时间：2012-08-22T05:37:53.613
> 
> 标签：c#, sql-server-2008, mailmerge

我正在尝试使用 SQL Server 数据库作为 c# 中的数据源进行 MailMerge。可能吗？我已经用谷歌搜索了几天没有任何有效的结果。有人可以为我提供任何有效的链接或解释如何实现这一点吗？请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T12:14:58.087

1.  可以连接到表或视图，但您需要使用 OpenDataSource（不是 CreateDataSource），提供合适的 .odc 路径/文件名（您在 Word 中手动创建）作为 Name 参数，并在 SQLStatement 中提供合适的 SQL 查询。这为您提供了一个 OLE DB 连接。您可以通过 ODBC 连接，但通信链中的某些内容无法正确执行 Unicode 内容，这意味着不会返回 NVARCHAR 和其他“N”类型。只要您提供所有连接信息，您就可以使用空的 .odc。您需要在通话中，例如（在 VBA 中）

ActiveDocument.MailMerge.OpenDataSource _

```
Name:="c:\myodcs\empty.odc", _
Connection:="Provider=SQLOLEDB.1;Integrated Security=SSPI;" & _
"Persist Security Info=False;Initial Catalog=mydb;Data Source=myserver;" _
SQLSatatement:="SELECT * FROM [mytable]", _
SubType:=wdMergeSubTypeOther 
```

其中“myserver”是运行 SQl Server 数据库的服务器的名称，“mydb”是要访问的数据库的名称，“mytable”是要从中检索数据的表或视图。

这使用旧的 SQL Server 客户端。您至少需要更改 Provider 名称才能使用新名称。

您可能需要也可能不需要使用数据库/目录名称来限定表名，并且您可能必须考虑以下文章：

[http://support.microsoft.com/kb/918295](http://support.microsoft.com/kb/918295)

1.  连接到典型的 SP 是另一回事。Word 用来执行此操作的对象中存在错误，AFAIK 尚未修复且没有好的解决方法。有关一些详细信息和我所知道的唯一建议，请参阅

[http://social.msdn.microsoft.com/Forums/en-US/worddev/thread/272cf1a8-ea98-49a9-b05f-82cfec497a6a](http://social.msdn.microsoft.com/Forums/en-US/worddev/thread/272cf1a8-ea98-49a9-b05f-82cfec497a6a)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-31T17:14:48.270

我知道这很旧，但我一直在努力寻找 Word 2013 及更高版本的解决方案。我想出了这个使用参数来过滤数据。在 Microsoft Word 中使用 .odc 连接（Office 数据连接）比传递参数的旧方法更容易。

第 1 步：创建一个 Word 表单以供以后使用。在 Microsoft Word 2013 或更高版本中，单击邮件功能区选项卡，然后下拉选择收件人并选择使用现有连接，然后选择现有 odc 文件或单击新建源。如果您要设置新源，请按照向导进行操作。创建字母、表单、标签...使用插入合并字段将数据字段添加到文档中。完成后保存文档。如果可能，请使用集成安全性。请注意，它们通常存储在 C:\Users\\Documents\My Data Sources 中。

在我的例子中，我有一个包含 AppointmentID、FirstName 和 LastName 字段的视图 (vAppointment)。在文档中，我将字段添加到 word 文档以验证它是否有效。如果我生成邮件合并，它会填写所有数据。

第 2 步：在 C# 项目中连接以下函数并更改 word 文档和 odc 文件的路径。您还需要更新 QueryString 以反映您的数据：

```
 public void RunMailMerge()
    {
        try
        {
            object isTrue = true;
            object notTrue = false;

            Microsoft.Office.Interop.Word.Document wordDoc = new Microsoft.Office.Interop.Word.Document();
            Microsoft.Office.Interop.Word.Application wordApp = new Microsoft.Office.Interop.Word.Application();
            string filename = @"C:\<path>\<the file you created>.docx";
            wordDoc = wordApp.Documents.Add(Template: filename);
            wordApp.Visible = true;

            object format = Microsoft.Office.Interop.Word.WdOpenFormat.wdOpenFormatAuto;

            wordDoc.MailMerge.OpenDataSource(@"C:\Users\<username>\Documents\My Data Sources\<your connection file>.odc",
                      ref format,
                      ref notTrue,    // ConfirmConversion
                      ref isTrue      // Set as ReadOnly so the user can't overwrite the document
                      );
            // Check the QueryString to see what is already there, add your parameters as needed.  In my case I added "WHERE AppointmentID = 4"
            wordDoc.MailMerge.DataSource.QueryString = "SELECT * FROM \"vAppointment\" WHERE AppointmentID = 4";
            wordDoc.MailMerge.Execute(ref notTrue);
        }
        catch (Exception ex)
        {
            string t = ex.Message;
            string s = ex.StackTrace;
            string msg = t + Environment.NewLine + s;
        }
    } 
```

# c# - C# 项目，无法重置/清除数组，将数组设置为零不是答案

> ID：12066887
> 
> 赞同：0
> 
> 时间：2012-08-22T05:38:39.550
> 
> 标签：c#, arrays

*问题解决了*

我正在做一个项目，其中一个数组包含 5 个测试的分数，但用户不必用总共 5 个分数填充数组。有一个按钮显示一个消息框，其中列出了 5 个分数值。用户需要能够在不重新启动程序的情况下连续运行程序两次，每次第二轮到来时，数组仍然保存最后一轮的值。我无法将值设置为零，因为在输入每个分数后都会计算并显示实时平均值，而零会脱离平均值。

这是显示分数的按钮。如果用户输入的分数少于 5 个（5 是数组的大小），则消息框应该只显示 4 个或更少的分数，就像我现在拥有的那样，它为未使用的值显示零。

```
 private void btnDisplayScores_Click(object sender, EventArgs e)
    {
     for (int x = 0; x < counter; x++)
      {
        Convert.ToString(scoreArray[x]);
       }
      MessageBox.Show(scoreArray[0] + Environment.NewLine 
               + scoreArray[1] + Environment.NewLine + scoreArray[2] 
               + Environment.NewLine+ scoreArray[3] + Environment.NewLine 
               + scoreArray[4]); 
```

我们只学会了将 null 与字符串一起使用，我们还没有学习可为 null 的整数和小数。我们希望在不使用可为空的数值类型的情况下做到这一点。

这会重置这些值，以便用户可以开始另一轮。

```
 private void Restart()
    {
        scoreTotal = 0;
        txtScore.Clear();
        txtScoreTotal.Clear();
        txtScoreCount.Clear();
        txtAverage.Clear();
        for (int x = 0; x <= counter; x++)
        {
            scoreArray[x] = 0;
        }
        counter = 0;
    } 
```

也许这会有所帮助。

```
private void btnAdd_Click(object sender, EventArgs e)
        {
          int currentScore;
          if (counter < 5)
            {
              if (DataValid() && DataRange())
                {
                    currentScore = Convert.ToInt32(txtScore.Text);
                    Input(currentScore);
                    Process();
                }
                else
                {
                    MessageBox.Show("Data was invalid, please enter valid data.", "Error");
                }
                counter++;
            }
           else
            {
                Restart();
            }
            txtScore.Focus();
        } 
```

编辑* 我错误地认为我需要将数组转换为字符串才能在消息框中显示它，修复了这个问题，但它不是我问题的核心。

我可能会尝试 -1 建议 tonite 或 tommarow

尚未学习列表，数组已声明为全局

edit2* 问题已解决，使用 -1 解决方案，感谢 mfussenegger

# c - unistd.h 不可用，如何使用 fork()

> ID：12066890
> 
> 赞同：1
> 
> 时间：2012-08-22T05:38:55.507
> 
> 标签：c, fork, dos, dosbox

我想使用 C 语言练习一些 UNIX 命令。当我包含`<unistd.h>`头文件并使用`fork()`方法时，它会给我一个编译时错误：`"can not include unistd.h"`. 我在他的 Internet 上查看，该`fork()`方法仅在`<unistd.h>`头文件中可用。请帮助我。

*   现在`<unistd.h>`是用任何其他头文件替换了吗？
*   即使我使用`"process.h"`，那也没有`fork()`.
*   我该如何使用`fork()`方法？

我的系统上有 DOSBox v0.74（Windows 7、64 位）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:52:54.863

[DOSBox](http://www.dosbox.com/)网站说它是 Unix 机器上的 DOS 仿真器，而不是 Unix for Windows (DOS) 机器上的仿真器。如果你想在 Windows 上模拟 Unix，你需要[Cygwin](http://cygwin.com/)或[MinGW或类似的东西。](http://www.mingw.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T05:44:15.443

在 win32 或 dos 上模拟 fork() 没有简单的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T05:43:47.707

你总是可以自己声明任何东西：pid_t fork(void); 但是，如果您的系统没有 unistd.h，则它不符合 POSIX（或者您根本没有安装头文件）。

# android - 使用 docx4j 将 pptx 转换为 html 视图

> ID：12066893
> 
> 赞同：0
> 
> 时间：2012-08-22T05:39:07.270
> 
> 标签：android, powerpoint, file-conversion, docx4j

任何人都可以帮助我使用 docx4j.jar 将 pptx 转换为 html 视图。虽然我已经在这个论坛上经历了很多相关的问题，但没有一个对我有帮助。请给我一个简短的转换过程（只需命名相关的类及其要调用的方法）。好吧，我在我的“Android”应用程序中做这一切，不想要任何第三方软件（只需要在我的应用程序中打开 pptx）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T21:44:26.597

首先，请参阅[jaxb-can-be-made-to-run-on-android](http://www.docx4java.org/blog/2012/05/jaxb-can-be-made-to-run-on-android/)

接下来，尝试[RenderAsSvgInHtml.java](https://github.com/plutext/docx4j/blob/master/src/pptx4j/java/org/pptx4j/samples/RenderAsSvgInHtml.java)

或者，首先尝试在 Java 中将 pptx 转换为 xhtml，以确认它足以满足您的需求（在您进行与 Android 相关的工作之前）。目前基本只有文字、线条和图片，没有自定义形状。

**披露：我写了上面提到的东西。**

# arduino - Arduino控制9*16 LED矩阵

> ID：12066894
> 
> 赞同：0
> 
> 时间：2012-08-22T05:39:18.257
> 
> 标签：arduino

我在一个使用 Arduino Uno R3 的小项目之间，我必须控制一个 9 X 16 LED 矩阵。

在我开始这个项目之前，我计划使用 8 X 8 LED 矩阵（[这里](http://arduino.cc/playground/Main/DirectDriveLEDMatrix)的解决方案适用于 8X8），我知道如果我使用 Arduino Mega（具有更多输出引脚），同样的解决方案也会起作用

谁能建议我如何使用 Arduino UNO 控制 9 * 16 LED 矩阵

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T10:05:13.277

[使用一些MAX7221](http://datasheets.maxim-ic.com/en/ds/MAX7219-MAX7221.pdf) LED 驱动芯片，您可以驱动多达 512 个 LED 。有关说明，请参见[此处](http://modelrail.otenko.com/arduino/controlling-lots-of-leds-with-your-arduino)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T13:15:01.163

另一种方法是使用多路复用器。它们允许您使用很少的 arduino 引脚来处理许多输出（或输入）。

与左侧类似的设置将允许嵌套多路复用器以实现对更多 LED 的控制。您会遇到的唯一问题是 LED 可能会在处理之间变暗一点。

![Arduino多路复用器](../Images/82408b1e51615a8a83dbb8e06e85f192.png)

这是有关该主题的 Arduino 页面（带有示例代码）。[http://www.arduino.cc/playground/Learning/4051](http://www.arduino.cc/playground/Learning/4051)

```
/*
 * codeexample for useing a 4051 * analog multiplexer / demultiplexer
 * by david c. and tomek n.* for k3 / malmï¿½ hï¿½gskola
 *
 * edited by Ross R.
 */  

int r0 = 0;      //value of select pin at the 4051 (s0)
int r1 = 0;      //value of select pin at the 4051 (s1)
int r2 = 0;      //value of select pin at the 4051 (s2)
int count = 0;   //which y pin we are selecting

void setup(){

  pinMode(2, OUTPUT);    // s0
  pinMode(3, OUTPUT);    // s1
  pinMode(4, OUTPUT);    // s2
}

void loop () {

  for (count=0; count<=7; count++) {

    // select the bit  
    r0 = bitRead(count,0);    // use this with arduino 0013 (and newer versions)     
    r1 = bitRead(count,1);    // use this with arduino 0013 (and newer versions)     
    r2 = bitRead(count,2);    // use this with arduino 0013 (and newer versions)     

    //r0 = count & 0x01;      // old version of setting the bits
    //r1 = (count>>1) & 0x01;      // old version of setting the bits
    //r2 = (count>>2) & 0x01;      // old version of setting the bits

    digitalWrite(2, r0);
    digitalWrite(3, r1);
    digitalWrite(4, r2);

    //Either read or write the multiplexed pin here

  }  
} 
```

看看这样的东西：[http ://www.arduino.cc/playground/Learning/4051](http://www.arduino.cc/playground/Learning/4051)

# github - 如何从已将 SSH 密钥添加到工作相关 GitHub 帐户的办公计算机上处 理个人 GitHub 存储库？

> ID：12066895
> 
> 赞同：4
> 
> 时间：2012-08-22T05:39:28.830
> 
> 标签：github, ssh-keys

我想从办公计算机上处​​理我的个人 GitHub 存储库，其 SSH 密钥已添加到与工作相关的 GitHub 帐户。

就我而言，我将无法将我的个人 GitHub 帐户添加为“工作”帐户项目的协作者。我在想我可以在我的办公室计算机上添加一个新的密钥对，并将其添加到我的个人 GitHub 帐户中。但是我能以这种方式无缝地处理“工作”和“个人”回购吗？最好的方法是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-22T05:47:23.103

您可以添加任意数量的公钥：您想要的私钥，想法是将它们注册在 %HOME%/.ssh/config 文件中，以便您使用 ssh 地址定义远程，例如：

```
workgh:Work
persgh:Personal 
```

请参阅“[更改 github 帐户 mac 命令行](https://stackoverflow.com/questions/9551448/change-github-account-mac-command-line/9551540#9551540)”作为`ssh/config`文件示例。

在你的情况下：

```
#Personal GitHub
Host persgh
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_rsa_perso

#Personal Work
Host workgh
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_rsa_work 
```

在不同的环境中重复使用相同的 ssh 密钥通常是不受欢迎的。
请参阅[此 SO question](https://stackoverflow.com/questions/10890435/creating-a-passphrase-for-my-ssh-key-on-github/10892931#10892931)以非交互方式生成多个 ssh 密钥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T12:28:14.063

来自 Ruby 背景，我最终使用了“gas” ruby​​ gem。添加 git 用户是一件轻而易举的事，它会在终端上使用一个简单的命令来切换 git 用户和键：

```
gas use <nickname> 
```

这是 gem 的链接：[https ://github.com/walle/gas](https://github.com/walle/gas)

有关其功能的视频：[http ://www.youtube.com/watch?v=-W2vSTwJWJc](http://www.youtube.com/watch?v=-W2vSTwJWJc)

# ms-access - MS Access 中的等效查询

> ID：12066896
> 
> 赞同：2
> 
> 时间：2012-08-22T05:39:30.623
> 
> 标签：ms-access

以下是用 ORACLE 编写的查询，用于给出前一行，最后给出输出。如何在 MS Access 中特别是 ROWNUM 部分中的 ORACLE 查询下方构建框架。感谢您的输入

```
orcl> WITH d
  2       AS (SELECT ROWNUM rn,
  3                  dname,
  4                  deptno
  5           FROM   (SELECT dname,
  6                          deptno
  7                   FROM   dept
  8                   ORDER  BY dname)),
  9       e
 10       AS (SELECT ROWNUM + 1 rn,
 11                  dname,
 12                  deptno
 13           FROM   (SELECT dname,
 14                          deptno
 15                   FROM   dept
 16                   ORDER  BY dname))
 17  SELECT rn,
 18         d.dname,
 19         d.deptno this_row,
 20         e.deptno previous_row
 21  FROM   d
 22         left outer join e USING (rn)
 23  ORDER  BY dname;

    RN DNAME            THIS_ROW      previous_ROW 
```

* * *

```
 1 ACCOUNTING             10
     2 OPERATIONS             40           10
     3 RESEARCH               20           40
     4 SALES                  30           20 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T07:00:57.093

对于您的查询使用的某些 Oracle 功能，Access SQL 没有直接对应物，因此您无法将其“*翻译*”为 Access。相反，您必须从头开始重写它。

您可以使用`DMax()`表达式返回 "previous" `dname`。

```
SELECT
    dname,
    deptno AS this_row,
    DMax("dname", "dept", "dname < '" & [dname] & "'")
        AS previous_dname
FROM dept; 
```

该查询返回此结果集：

```
dname       this_row previous_dname
ACCOUNTING        10
OPERATIONS        40 ACCOUNTING
RESEARCH          20 OPERATIONS
SALES             30 RESEARCH 
```

然后将该结果集左连接回`dept`表，连接基于`previous_dname = dname`.

```
SELECT
    d1.dname,
    d1.this_row,
    d2.deptno AS previous_row
FROM
    (
        SELECT
            dname,
            deptno AS this_row,
            DMax("dname", "dept", "dname < '" & [dname] & "'")
                AS previous_dname
        FROM dept
    ) AS d1
    LEFT JOIN dept AS d2
    ON d1.previous_dname = d2.dname
ORDER BY d1.dname; 
```

我省略了`rn`(ROWNUM) 列，因为使用这种方法进行连接不需要它。但是，如果您出于其他原因仍然需要/想要它，您可以使用`DCount()`表达式导出它。

```
SELECT
    d1.rn
    d1.dname,
    d1.this_row,
    d2.deptno AS previous_row
FROM
    (
        SELECT
            DCount("*", "dept", "dname <= '" & [dname] & "'")
                AS rn
            dname,
            deptno AS this_row,
            DMax("dname", "dept", "dname < '" & [dname] & "'")
                AS previous_dname
        FROM dept
    ) AS d1
    LEFT JOIN dept AS d2
    ON d1.previous_dname = d2.dname
ORDER BY d1.dname; 
```

# jquery - ASP.NET 上的 Jquery 滑动图像

> ID：12066897
> 
> 赞同：0
> 
> 时间：2012-08-22T05:39:31.203
> 
> 标签：jquery, asp.net

我正在开发包含大量图像的网站。我决定使用 jquery 。我[在这里](http://tympanus.net/codrops/2010/09/28/polaroid-photobar-gallery/)参考此代码。

在此，当您单击相册时，它会显示图像相册，它会显示所有图像缩略图。单击缩略图会显示该图像的大视图。它在 html 页面中运行良好。当我在 .aspx 页面中使用时，当我单击专辑图像缩略图时，它没有显示大预览。它在图像下显示文本。所有路径都是正确的。

经过这么多尝试后，我发现它在办公室的 chrome 浏览器中不起作用，但我在家里尝试的相同代码在 chrome 中起作用。
**我的代码是 **

```
 <%@ Page Language="VB" AutoEventWireup="false" CodeFile="Collection.aspx.vb" Inherits="Collection" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
        <title>Polaroid Photobar Gallery with jQuery</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="Polaroid Photobar Gallery" />
        <meta name="keywords" content="polaroid, jquery, css3, rotation, image gallery"/>
        <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/>
        <link rel="stylesheet" href="css/style.css" type="text/css" media="screen"/>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="js/cufon-yui.js" type="text/javascript"></script>
        <script src="js/Note_this_400.font.js" type="text/javascript"></script>
        <script type="text/javascript">
            Cufon.replace('span');
            Cufon.replace('h1', {
                textShadow: '0px 1px #ddd'
            });
        </script>
        <style type="text/css">
            h1{
                font-size:50px;
                margin:50px;
                color:#333;
            }
            span.reference{
                font-family:Arial;
                position:fixed;
                right:10px;
                top:10px;
                font-size:15px;
            }
            span.reference a{
                color:#fff;
                text-transform:uppercase;
                text-decoration:none;
            }
        </style>

</head>
<body>
    <form id="form1" runat="server">
    <div>

    <h1>Polaroid Photobar Gallery</h1>
        <div id="pp_gallery">

            <div id="pp_loading" class="pp_loading"></div>
            <div id="pp_next" class="pp_next"></div>
            <div id="pp_prev" class="pp_prev"></div>
            <div id="pp_thumbContainer">

                <div class="album">
                    <div class="content">
                        <img src="images/album1/thumbs/1.jpg" alt="images/album1/1.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="content">
                        <img src="images/album1/thumbs/2.jpg" alt="images/album1/2.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="content">
                        <img src="images/album1/thumbs/3.jpg" alt="images/album1/3.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="content">
                        <img src="images/album1/thumbs/4.jpg" alt="images/album1/4.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="content">
                        <img src="images/album1/thumbs/5.jpg" alt="images/album1/5.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="content">
                        <img src="images/album1/thumbs/6.jpg" alt="images/album1/6.jpg" />
                        <span>The Sixties by Tetsumo</span>
                    </div>
                    <div class="descr">
                        The Sixties
                    </div>
                </div>

                <div class="album">
                    <div class="content">
                        <img src="images/album2/thumbs/1.jpg" alt="images/album2/1.jpg" />
                        <span>Butterfly Girl</span>
                    </div>
                    <div class="content">
                        <img src="images/album2/thumbs/2.jpg" alt="images/album2/2.jpg" />
                        <span>Mmmmmmh Strawberries</span>
                    </div>
                    <div class="content">
                        <img src="images/album2/thumbs/3.jpg" alt="images/album2/3.jpg" />
                        <span>Polaroid in Picture</span>
                    </div>
                    <div class="content">
                        <img src="images/album2/thumbs/4.jpg" alt="images/album2/4.jpg" />
                        <span>Girl with brown hair</span>
                    </div>
                    <div class="content">
                        <img src="images/album2/thumbs/5.jpg" alt="images/album2/5.jpg" />
                        <span>Hair up</span>
                    </div>
                    <div class="content">
                        <img src="images/album2/thumbs/6.jpg" alt="images/album2/6.jpg" />
                        <span>Smiling Girl</span>
                    </div>
                    <div class="descr">
                        Portraits
                    </div>
                </div>

                <div id="pp_back" class="pp_back">Albums</div>
            </div>
        </div>

        <!-- The JavaScript -->
        <script src="js/jquery.transform-0.8.0.min.js"></script>
        <script type="text/javascript">
            $(function() {
                var ie          = false;
                if ($.browser.msie) {
                    ie = true;
                }
                //current album/image displayed 
                var enableshow  = true;
                var current     = -1;
                var album       = -1;
                //windows width
                var w_width     = $(window).width();
                //caching
                var $albums     = $('#pp_thumbContainer div.album');
                var $loader     = $('#pp_loading');
                var $next       = $('#pp_next');
                var $prev       = $('#pp_prev');
                var $images     = $('#pp_thumbContainer div.content img');
                var $back       = $('#pp_back');

                //we wnat to spread the albums through the page equally
                //number of spaces to divide with:number of albums plus 1
                var nmb_albums  = $albums.length;
                var spaces      = w_width/(nmb_albums+1);
                var cnt         = 0;
                //preload all the images (thumbs)
                var nmb_images  = $images.length;
                var loaded      = 0;
                $images.each(function(i){
                    var $image = $(this);
                    $('<img />').load(function(){
                        ++loaded;
                        if(loaded == nmb_images){
                            //let's spread the albums equally on the bottom of the page
                            $albums.each(function(){
                                var $this   = $(this);
                                ++cnt;
                                var left    = spaces*cnt - $this.width()/2;
                                $this.css('left',left+'px');
                                $this.stop().animate({'bottom':'0px'},500);
                            }).unbind('click').bind('click',spreadPictures);
                            //also rotate each picture of an album with a random number of degrees
                            $images.each(function(){
                                var $this   = $(this);
                                var r       = Math.floor(Math.random()*41)-20;
                                $this.transform({'rotate'   : r + 'deg'});
                            });
                        }
                    }).attr('src', $image.attr('src'));
                });

                function spreadPictures(){
                    var $album  = $(this);
                    //track which album is opened
                    album       = $album.index();
                    //hide all the other albums
                    $albums.not($album).stop().animate({'bottom':'-90px'},300);
                    $album.unbind('click');
                    //now move the current album to the left 
                    //and at the same time spread its images through 
                    //the window, rotating them randomly. Also hide the description of the album

                    //store the current left for the reverse operation
                    $album.data('left',$album.css('left'))
                          .stop()
                          .animate({'left':'0px'},500).find('.descr').stop().animate({'bottom':'-30px'},200);
                    var total_pic   = $album.find('.content').length;
                    var cnt         = 0;
                    //each picture
                    $album.find('.content')
                          .each(function(){
                        var $content = $(this);
                        ++cnt;
                        //window width
                        var w_width     = $(window).width();
                        var spaces      = w_width/(total_pic+1);
                        var left        = (spaces*cnt) - (140/2);
                        var r           = Math.floor(Math.random()*41)-20;
                        //var r = Math.floor(Math.random()*81)-40;
                        $content.stop().animate({'left':left+'px'},500,function(){
                            $(this).unbind('click')
                                   .bind('click',showImage)
                                   .unbind('mouseenter')
                                   .bind('mouseenter',upImage)
                                   .unbind('mouseleave')
                                   .bind('mouseleave',downImage);
                        }).find('img')
                          .stop()
                          .animate({'rotate': r+'deg'},300);
                        $back.stop().animate({'left':'0px'},300);
                    });
                }

                //back to albums
                //the current album gets its innitial left position
                //all the other albums slide up
                //the current image slides out
                $back.bind('click',function(){
                    $back.stop().animate({'left':'-100px'},300);
                    hideNavigation();
                    //there's a picture being displayed
                    //lets slide the current one up
                    if(current != -1){
                        hideCurrentPicture();
                    }

                    var $current_album = $('#pp_thumbContainer div.album:nth-child('+parseInt(album+1)+')');
                    $current_album.stop()
                                  .animate({'left':$current_album.data('left')},500)
                                  .find('.descr')
                                  .stop()
                                  .animate({'bottom':'0px'},500);

                    $current_album.unbind('click')
                                  .bind('click',spreadPictures);

                    $current_album.find('.content')
                              .each(function(){
                                var $content = $(this);
                                $content.unbind('mouseenter mouseleave click');
                                $content.stop().animate({'left':'0px'},500);
                                });

                    $albums.not($current_album).stop().animate({'bottom':'0px'},500);
                });

                //displays an image (clicked thumb) in the center of the page
                //if nav is passed, then displays the next / previous one of the 
                //current album
                function showImage(nav){
                    if(!enableshow) return;
                    enableshow = false;
                    if(nav == 1){
                        //reached the first one
                        if(current==0){
                            enableshow = true;
                            return;
                        }
                        var $content            = $('#pp_thumbContainer div.album:nth-child('+parseInt(album+1)+')')
                                                  .find('.content:nth-child('+parseInt(current)+')');
                        //reached the last one
                        if($content.length==0){
                            enableshow = true;
                            current-=2;
                            return;
                        }   
                    }
                    else
                        var $content            = $(this);

                    //show ajax loading image
                    $loader.show();

                    //there's a picture being displayed
                    //lets slide the current one up
                    if(current != -1){
                        hideCurrentPicture();
                    }

                    current                 = $content.index();
                    var $thumb              = $content.find('img');
                    var imgL_source         = $thumb.attr('alt');
                    var imgL_description    = $thumb.next().html();
                    //preload the large image to show
                    $('<img style=""/>').load(function(){
                        var $imgL   = $(this);
                        //resize the image based on the windows size
                        resize($imgL);
                        //create an element to include the large image
                        //and its description
                        var $preview = $('<div />',{
                            'id'        : 'pp_preview',
                            'className' : 'pp_preview',
                            'html'      : '<div class="pp_descr"><span>'+imgL_description+'</span></div>',
                            'style'     : 'visibility:hidden;'
                        });
                        $preview.prepend($imgL);
                        $('#pp_gallery').prepend($preview);

                        var largeW              = $imgL.width()+20;
                        var largeH              = $imgL.height()+10+45;
                        //change the properties of the wrapping div 
                        //to fit the large image sizes
                        $preview.css({
                            'width'         :largeW+'px',
                            'height'        :largeH+'px',
                            'marginTop'     :-largeH/2-20+'px',
                            'marginLeft'    :-largeW/2+'px',
                            'visibility'    :'visible'
                        });
                        Cufon.replace('.pp_descr');
                        //show navigation
                        showNavigation();

                        //hide the ajax image loading
                        $loader.hide();

                        //slide up (also rotating) the large image
                        var r           = Math.floor(Math.random()*41)-20;
                        if(ie)
                            var param = {
                                'top':'50%'
                            };
                        else
                            var param = {
                                'top':'50%',
                                'rotate': r+'deg'
                            };
                        $preview.stop().animate(param,500,function(){
                            enableshow = true;
                        });
                    }).error(function(){
                        //error loading image. Maybe show a message : 'no preview available'?
                    }).attr('src',imgL_source); 
                }

                //click next image
                $next.bind('click',function(){
                    current+=2;
                    showImage(1);
                });

                //click previous image
                $prev.bind('click',function(){
                    showImage(1);
                });

                //slides up the current picture
                function hideCurrentPicture(){
                    current = -1;
                    var r   = Math.floor(Math.random()*41)-20;
                    if(ie)
                        var param = {
                            'top':'-150%'
                        };
                    else
                        var param = {
                            'top':'-150%',
                            'rotate': r+'deg'
                        };
                    $('#pp_preview').stop()
                                    .animate(param,500,function(){
                                        $(this).remove();
                                    });
                }

                //shows the navigation buttons
                function showNavigation(){
                    $next.stop().animate({'right':'0px'},100);
                    $prev.stop().animate({'left':'0px'},100);
                }

                //hides the navigation buttons
                function hideNavigation(){
                    $next.stop().animate({'right':'-40px'},300);
                    $prev.stop().animate({'left':'-40px'},300);
                }

                //mouseenter event on each thumb
                function upImage(){
                    var $content    = $(this);
                    $content.stop().animate({
                        'marginTop'     : '-70px'
                    },400).find('img')
                          .stop()
                          .animate({'rotate': '0deg'},400);
                }

                //mouseleave event on each thumb
                function downImage(){
                    var $content    = $(this);
                    var r           = Math.floor(Math.random()*41)-20;
                    $content.stop().animate({
                        'marginTop'     : '0px'
                    },400).find('img').stop().animate({'rotate': r + 'deg'},400);
                }

                //resize function based on windows size
                function resize($image){
                    var widthMargin     = 50
                    var heightMargin    = 200;

                    var windowH      = $(window).height()-heightMargin;
                    var windowW      = $(window).width()-widthMargin;
                    var theImage     = new Image();
                    theImage.src     = $image.attr("src");
                    var imgwidth     = theImage.width;
                    var imgheight    = theImage.height;

                    if((imgwidth > windowW)||(imgheight > windowH)){
                        if(imgwidth > imgheight){
                            var newwidth = windowW;
                            var ratio = imgwidth / windowW;
                            var newheight = imgheight / ratio;
                            theImage.height = newheight;
                            theImage.width= newwidth;
                            if(newheight>windowH){
                                var newnewheight = windowH;
                                var newratio = newheight/windowH;
                                var newnewwidth =newwidth/newratio;
                                theImage.width = newnewwidth;
                                theImage.height= newnewheight;
                            }
                        }
                        else{
                            var newheight = windowH;
                            var ratio = imgheight / windowH;
                            var newwidth = imgwidth / ratio;
                            theImage.height = newheight;
                            theImage.width= newwidth;
                            if(newwidth>windowW){
                                var newnewwidth = windowW;
                                var newratio = newwidth/windowW;
                                var newnewheight =newheight/newratio;
                                theImage.height = newnewheight;
                                theImage.width= newnewwidth;
                            }
                        }
                    }
                    $image.css({'width':theImage.width+'px','height':theImage.height+'px'});
                }
            });
        </script>

    </div>
    </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T21:11:45.483

好像您是在作为 VS 一部分的 Visual Studio IIS Express/开发服务器上运行它，我遇到了同样的问题，只需将您的项目设置为 LOCAL IIS 网站，而不是 Visual Studio 上的 FileSystem 网站。在 IIS 上创建一个 iis 虚拟目录应用程序，它应该可以正常工作。

# liferay - 如何管理liferay中的页面？

> ID：12066902
> 
> 赞同：1
> 
> 时间：2012-08-22T05:40:03.507
> 
> 标签：liferay, webpage

我是 Liferay 的新手，我创建了两个`UserGroups`- Grp1（用户 a1、b1、c1）和 Grp2（用户 a2、b2、c2）。

Groupwise 创建了一些公共和私人页面，这些页面将 Grp1 任务与 Grp2 区分开来。

1.  我希望用户 a2、b2、c2 有自己的私有页面，只有他们可以查看。

2.  当我通过用户say a2登录时，默认情况下会查看liferay的公共页面，并且在**转到**用户（a2）的公共和私人页面中可用。

    不能在登录时查看用户的公共和私人页面，而不是 Liferay 的默认页面？

3.  以及公共`GROUP LEVEL`和`USER LEVEL`私人页面有何不同？

我在组级别（Grp2）创建了公共和私有页面，所有页面对 a2、b2、c2 都是可见的。在添加页面 (a2) 时，它表现为私有页面，只有 a2 可以查看它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T07:22:13.977

> 我希望用户 a2、b2、c2 有自己的私有页面，只有他们可以查看。

*   然后使用用户级别的私人页面。您可以在`GO TO`带有 url 的菜单中看到`http://localhost/user/a2/home`
*   这些页面将在用户添加到 liferay 时自动创建。您可以通过修改以下属性来控制这些页面的创建[`portal.properties`](https://github.com/liferay/liferay-portal/blob/6.1.x/portal-impl/src/portal.properties#L4322)：

    ```
    layout.user.private.layouts.enabled=true
    layout.user.private.layouts.auto.create=true 
    ```

    您还可以查看[默认用户私有布局](https://github.com/liferay/liferay-portal/blob/6.1.x/portal-impl/src/portal.properties#L4120)部分以`portal.properties`了解更多信息。

*   这些页面仅对用户可见，并且只有用户可以完全控制它。
*   在 Liferay 用户指南的[用户个人网站](http://www.liferay.com/documentation/liferay-portal/6.1/user-guide/-/ai/lp-6-1-ugen06-user-personal-sites-0)部分了解更多信息。

> 不能在登录时查看用户的公共和私人页面，而不是 Liferay 的默认页面？

*   为此，您必须创建一个 login-post-action-hook。
*   您将需要修改属性：`login.events.post`在您的钩子中并`CustomLandingPageAction`在[`DefaultLandingPageAction`](https://github.com/liferay/liferay-portal/blob/6.1.x/portal-impl/src/com/liferay/portal/events/DefaultLandingPageAction.java#L36).
*   这是创建[自定义登陆页面](http://www.opensourceforlife.com/2012/07/custom-landing-page-using-hook-liferay.html)的好资源。

> GROUP LEVEL 和 USER LEVEL 公共和私人页面有何不同？

*   我认为您是在询问用户组级别（而不仅仅是组）和用户级别之间的区别。
*   请参阅Liferay 用户指南中的[用户组站点](http://www.liferay.com/documentation/liferay-portal/6.1/user-guide/-/ai/lp-6-1-ugen12-user-groups-0)部分，该部分的一些相关摘录：

    ```
    Liferay allows users to each have a personal site consisting of public and
    private pages. Permissions can be granted to allow users to customize their
    personal sites at will. Originally, the default configuration of those pages
    could only be determined by the portal administrator through the
    portal-ext.properties file and, optionally, by providing the configuration in
    a LAR file. You can still configure it like this but it isn’t very flexible or
    easy to use.

    By using User Group Sites, portal administrators can add pages to the personal
    sites of all the users who belong to the site in an easy and centralized way.
    All the user group site’s public pages are shown as part of the user’s public
    personal site. All the user group site’s private pages are shown as part of the
    user’s private site. If a user belongs to several user groups, all of its pages
    are made part of his public and private site. In an educational institution’s
    portal, for example, teachers, staff and students could get different default
    pages and applications on their personal sites. 
    ```

希望这会有所帮助。

# c# - 将 Web 应用程序部署到服务器，但它仍在我的本地 PC 上查找一些文件

> ID：12066903
> 
> 赞同：1
> 
> 时间：2012-08-22T05:40:04.340
> 
> 标签：c#, asp.net, deployment, publish, nullreferenceexception

我已经将我的网站部署到我的服务器上，一切正常......除了两个页面让我觉得很漂亮

> “你调用的对象是空的。”

堆栈跟踪的第一行显示，在这两个页面的某处，它仍在我的本地 PC 上寻找一些东西：

**堆栈跟踪：**

```
[NullReferenceException: Object reference not set to an instance of an object.]
   MyProject.calendar.calendar.calmaincalendar_DayRender(Object sender, DayRenderEventArgs e) in C:\Users\myuser\MyProject\calendar\calendar.aspx.cs:248 
```

它吐出的路径在我的开发机器上。这似乎没有理由发生在 Web 服务器上，更奇怪的是为什么它只发生在两个页面上。

我已经使用我的配置设置作为 Release 重新构建并重新发布。这也不是一个新项目——这只是一个例行的本地更新——>远程发布，我没有做任何不寻常的事情。

**问题：这是怎么发生的，我该如何解决？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:43:00.080

这不是服务器在您的本地计算机上寻找某些东西，而是堆栈跟踪显示您特定于编译源的调试信息。

在第 248 行检查您的源文件 calendar.aspx.cs，那里有一个对象（当在服务器上执行时）确实为空。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:44:48.907

这看起来像一个空引用异常。确保在调用该事件的位置分配所有字段和变量。您很可能正在做我在桌面应用程序中经常做的事情，并为 DayRenderEventArgs 传入一个空值

# qt - Qt 控制台应用程序在关闭时出现应用程序错误

> ID：12066904
> 
> 赞同：0
> 
> 时间：2012-08-22T05:40:06.353
> 
> 标签：qt, windows-xp

```
{using Qt 4.7.0, Windows Xp, Visual Studio 2005} 
```

嗨，我已经开发了一个 Qt 控制台项目来实现一个协议，该协议现在已经在预期的产品上运行了一段时间。但是最近出现了一个问题。该应用程序永远不会关闭，因此没有任何东西可以从应用程序内部退出。它的作用是在开发的协议上为每个客户端连接实现一个新线程，当客户端断开连接时，它会结束线程并继续轮询新连接，这一切都很好。现在，当测试人员在调试模式下运行它时，会弹出控制台窗口，显示正在进行的活动的日志。问题是手动关闭此控制台窗口时会出现错误`the instruction at 0xwhatever referenced memory at 0xwhatever which could not be read. Click Ok to terminate`。我已经确定了这个问题，它的出现是因为没有调用其中一个关闭函数。

每当应用程序以这种方式关闭时，我如何调用此自定义关闭函数？（顺便说一句，如果任务管理器中的一个“结束进程”不会弹出这个问题，这就是为什么释放模式关闭总是很好，因为它们不会弹出控制台窗口，唯一的办法是通过任务经理）

ps：我尝试使用`QCoreApplication's aboutToQuit()`信号调用自定义插槽，该插槽调用上述关闭函数。这似乎不起作用。我不知道信号是否在此类应用程序关闭事件中被触发。

# streaming - 通过 RTP/UDP 流式传输实时 H264 视频

> ID：12066905
> 
> 赞同：1
> 
> 时间：2012-08-22T05:40:14.350
> 
> 标签：streaming, video-streaming, gstreamer, live-streaming

我想做实时视频流和编码。我正在使用`Leopardboard DM365`. 我可以捕获实时视频并将其编码为 H264，然后使用 gstreamer 插件进行流式传输，但是如何在 Windows 上捕获 rtp 数据包？我可以使用 sdp 文件在 vlc 上捕获，但我不想只使用 VLC 查看。我需要捕获缓冲区，然后将其传递给我的应用程序。我怎样才能做到这一点？我在服务器端使用以下 gstreamer 插件：

> gst-launch -v -e v4l2src always-copy=FALSE input-src=复合链-ipipe=true ！视频/x-raw-yuv，格式=（fourcc）NV12，宽度=640，高度=480！队列 ！dmaiaccel ！dmaienc_h264 encodingpreset=2 ratecontrol=2 intraframeinterval=23 idrinterval=46 targetbitrate=3000000 ！rtph264pay！udpsink 端口 = 3000 主机 = 192.168.1.102 同步 = 假启用-上一个缓冲区 = 假

谢谢你，马兹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T18:25:51.247

在您的应用程序中，如果您知道要接收的确切参数，为什么需要 sdp 文件？

需要 sdp 文件来获取流参数。rtsp 协议允许交换 sdp，因为接收者不知道发送者将发送什么。

如果您的应用程序知道发送者将发送什么内容，您只需要捕获数据并开始解码即可。许多人希望将 rtph264pay 配置为 config-interval=1 以每 1 秒发送一次 SPS PPS，以便您的应用程序可以解码传入的内容。随意更改 config-interval 的持续时间以匹配您的帧内帧内。

# sharepoint - 设置 sharepoint 2010 团队开发环境

> ID：12066906
> 
> 赞同：1
> 
> 时间：2012-08-22T05:40:22.353
> 
> 标签：sharepoint, sharepoint-2010, admin

我想知道，

如果，我可以将 sharepoint 2010 服务器与 Visual Studio 2010 一起设置。并在某个域中的另一台机器上设置 sql-server，并 **在 sharepoint 2010 机器上创建多个帐户，并允许开发人员使用这些帐户在同一台​​机器上开发 sharepoint 项目**。

我还想了解版本控制系统，例如 sharepoint 2010 的 svn 可用性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T17:14:19.470

在我们公司，每个开发人员都有自己的开发服务器，但有时我们会在同一台服务器上同时工作。我不知道您为什么需要单独的 slq 服务器，出于开发目的，SharePoint 可以与安装在同一台计算机上的 SQL express 一起正常工作。但是，如果您愿意，当然可以使用单独的 SQL 服务器。如果您想为 SharePoint 使用特定帐户，这是一个很好的做法。看看[这篇文章](http://www.ericharlan.com/Moss_SharePoint_2007_Blog/sharepoint-2010-service-account-reference-guide-a184.html)，有一些关于典型 SharePoint 帐户池的信息。

关于同步发展。如果您使用Visual Studio，而不是配置，当您部署解决方案时，服务器每次都会重新启动IIS，对于少数员工的正常开发来说并不是那么有用。此外，如果您决定像这样工作，我建议为每个开发人员在不同的 Web 应用程序中工作，这将为您提供更有用的调试功能。你不会因为附加到同一个进程w3wp而互相打断。但请注意，SharePoint 是一个灵活且可扩展的环境，您可以通过 SharePoint Designer 进行配置和 JavaScript 开发来做很多事情。因此，如果您大部分时间都通过配置工作，那么整个团队可以在同一台服务器上成功工作。

关于源代码控制。如果您使用 Visual Studio 进行开发，那么 TFS 或任何其他源代码控制系统（如 svn 或 git）都适合您。如果您通过使用 SharePoint Designer 进行配置进行开发，我建议您通过复制来存储一些可重用的功能，也可以使用 TFS。对于其他内容，您可以在 SharePoint 库上启用版本控制，因此您的每项修改都将与评论一起存储（如果您愿意）。

# android - 基于 android 选项卡的活动中的 LogCat 错误“您必须指定创建选项卡指示器的方法”

> ID：12066907
> 
> 赞同：1
> 
> 时间：2012-08-22T05:40:32.493
> 
> 标签：android, eclipse, android-tabhost, tabactivity, android-logcat

我正在学习在 android 中制作基于选项卡的应用程序。在 LogCat 中出现“您必须指定创建选项卡指示器的方法”错误。

这是代码......

.java 文件......

```
package com.example.tabdemo;

import android.os.Bundle;
import android.app.Activity;
import android.app.TabActivity;
import android.content.Intent;
import android.view.Menu;
import android.widget.TabHost;
import android.widget.TabHost.TabSpec;

@SuppressWarnings("deprecation")
public class MainActivity extends TabActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        TabHost tabhost=getTabHost();

        TabHost.TabSpec spec1=tabhost.newTabSpec("Tab 1");
        Intent intent1=new Intent(this, Tabone.class);
        spec1.setContent(intent1);
       // spec1.setIndicator("Tab 1", getResources().getDrawable(R.drawable.face));
        spec1.setIndicator("Tab 1");
        tabhost.addTab(spec1);

        TabHost.TabSpec spec2=tabhost.newTabSpec("Tab 2");
        Intent intent2=new Intent(this,Tabtwo.class);
        spec2.setContent(intent2);
     //   spec1.setIndicator("Tab 2", getResources().getDrawable(R.drawable.face));
        spec1.setIndicator("Tab 2");

        tabhost.addTab(spec2);
        tabhost.setCurrentTab(1);
    }
} 
```

活动xml文件...

```
<?xml version="1.0" encoding="utf-8"?> 
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"> 
    <LinearLayout
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"> 
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" /> 
        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"/> 
    </LinearLayout> 
</TabHost> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T05:47:13.150

您没有为 tab2 设置指标

检查你的代码

```
spec2.setContent(intent2);
 //   spec1.setIndicator("Tab 2", getResources().getDrawable(R.drawable.face));
    spec1.setIndicator("Tab 2"); 
```

你覆盖你的 tab1 指标。

# php - Apache 和 CentOS 中的默认会话超时

> ID：12066913
> 
> 赞同：1
> 
> 时间：2012-08-22T05:41:03.260
> 
> 标签：php, apache, centos

任何人都可以帮助我找出 apache 和 CentOS 中的默认会话超时。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T05:50:56.350

这来自 php in`php.ini`而不是 apache 或操作系统。

默认值为 1440（以秒为单位，因此为 24 分钟），但这取决于您的托管服务提供商。您正在寻找的具体设置是

`session.gc_maxlifetime`

编辑：

`Timeout`其他答案中提到的指令适用的事物：

1.  从客户端读取数据时，如果读取缓冲区为空，则等待 TCP 数据包到达的时间长度。

2.  向客户端写入数据时，如果发送缓冲区已满，则等待数据包确认的时间长度。

3.  在 mod_cgi 中，等待 CGI 脚本输出的时间长度。

4.  在 mod_ext_filter 中，等待过滤过程输出的时间长度。

5.  在 mod_proxy 中，如果未配置 ProxyTimeout，则为默认超时值。

编辑源：[Apache HTTP Server 核心文档](http://httpd.apache.org/docs/2.2/mod/core.html#timeout)

# asp.net-mvc - 如何在MVC3 Razor的Webgrid上实现编辑和删除？

> ID：12066915
> 
> 赞同：2
> 
> 时间：2012-08-22T05:41:03.900
> 
> 标签：asp.net-mvc, razor, webgrid

下面我给出了控制器、模型和视图。运行后，网格显示值，但我需要编辑值并删除同一页面上的值。我已经搜索并看到了一些示例，其中用于编辑、删除它们创建单独的索引，但我需要的是编辑和删除应该在同一页面而不是另一个页面上完成。请给我一个解决方案。

控制器：

```
public ActionResult Index()
        {
            var PersonList = new List<Person>()
            {
            new Person(){Name="A", Age=20,Id =1},
            new Person(){Name="B",Age=45,Id =2},
            new Person(){Name="C", Age=30,Id =3},
            new Person(){Name="D",Age=55,Id =4},
            new Person(){Name="E", Age=30,Id =5},
            new Person(){Name="F",Age=25,Id =6},
            new Person(){Name="G", Age=30,Id =7},
            new Person(){Name="H",Age=25,Id =8},
            };

            return View(PersonList);
        } 
```

班级 ：

```
public class Person
    {
        public string Name { get; set; }
        public int Age { get; set; }
    } 
```

看法 ：

```
@model IEnumerable<edit.Models.Person>

@{
    ViewBag.Title = "Index";
}

<html>
<head>
<title>Index</title>
<style type="text/css">
.webGrid { margin: 4px; border-collapse: collapse; width: 300px; }
.header { background-color: #E8E8E8; font-weight: bold; color: #FFF; }
.webGrid th, .webGrid td { border: 1px solid #C0C0C0; padding: 5px; }
.alt { background-color: #E8E8E8; color: #000; }
.person { width: 200px; font-weight:bold;}
</style>
</head>
<body>
@{
var grid = new WebGrid(Model, canPage: true, rowsPerPage: 5);
grid.Pager(WebGridPagerModes.NextPrevious);
@grid.GetHtml(tableStyle: "webGrid",
headerStyle: "header",
alternatingRowStyle: "alt",
columns: grid.Columns(
grid.Column("Name", "Given Name", canSort: true, format:@<b>@item.Name</b>, style: "person"),
grid.Column("Age", "How Old?", canSort: true)
));
}
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-23T12:47:51.170

@Yasser，通过 GET 链接实现 DELETE 是非常危险的。抓取该页面的搜索引擎可能会删除您的所有信息。

执行 POST 操作要好得多。这是一个例子：

在视图中：

```
@functions{
  string Delete(dynamic p)
  {
    string actionController = Url.Action("Delete", "Admin", new {id=p.AccountId});
    return "<form style='display:inline;' method='post' action='" + actionController + "'><input type='submit' value='Delete' onclick=\"return confirm('Are you sure?')\"/></form>";
  }
}

...
grid.Column(header: "", format: p => Html.Raw(Delete(p))) 
```

在控制器中：

```
[HttpPost]
public ActionResult Delete(int id)
{
   PerformDelete(id);
   return RedirectToAction("Index");
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-22T06:38:11.407

你可以从这里开始，

您必须首先生成两个名为“编辑”和“删除”的操作链接以及 webgrid 中的每条记录。

请参阅[本教程](http://yassershaikh.com/introduction-to-webgrid-in-mvc-3-razor-with-code-samples/)。

像这样的东西

```
grid.Column(format: (item) => Html.ActionLink("Edit", "ActionName", new { param1 = "send id here", param2 = "xtra param" }))
grid.Column(format: (item) => Html.ActionLink("Delete", "ActionName2", new { param1 = "hello", param2 = "bye" })) 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-18T07:03:01.593

干得好...

[http://www.dotnet-tricks.com/Tutorial/mvc/E2S9150113-Enhancing-WebGrid-with-Insert-Update-and-Delete-Operations.html](http://www.dotnet-tricks.com/Tutorial/mvc/E2S9150113-Enhancing-WebGrid-with-Insert-Update-and-Delete-Operations.html)

我想你正在寻找这个。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-16T15:33:55.137

您可以使用 asp.net mvc 和 knockoutjs 尝试此内联可编辑网格视图： [www.anhbui.net/blog?id=kojs-1](http://www.anhbui.net/blog?id=kojs-1)

# sql - 将 Infopath 表单字段值传递给 SQL 查询

> ID：12066919
> 
> 赞同：0
> 
> 时间：2012-08-22T05:41:30.330
> 
> 标签：sql, infopath

我想在定义数据连接时在 SQL 语句中使用 Infopath 2010 表单字段值。

问题是我找不到合适的语法。

那么，如果我有一个名为 Name_tb 的文本框，我该如何使用他的值呢？在一个简单的查询中，例如：

选择 [文本框]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T03:50:18.597

我不记得它了，但它是一种类似于 DOM 的语法，可以在运行时访问字段。

# python - 上传到 Plone 时是否有自动压缩文件的插件？

> ID：12066923
> 
> 赞同：0
> 
> 时间：2012-08-22T05:42:16.640
> 
> 标签：python, plone

自动将文件上传到 Plone 站点时，是否有任何附加组件会激活？它应该压缩文件，然后上传到文件中。这些可以是 CAD 图纸或任何其他类型的图像文件。无论文件类型如何，超出特定大小，它们都应该被压缩和存储，而不是手动压缩文件并存储它们。我使用的是 plone 4.1。我知道被压缩的 css、javascript 文件，但不是上传的文件。我也知道“站点设置”中的“图像处理”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T18:43:35.180

正如 Maulwurfn 所说，没有这样的插件，但是对于有经验的开发人员来说，使用自定义内容类型来实现是相当简单的。您将非常确定您希望存储的特定文件类型实际上会从压缩中受益（许多现代文件格式已经包含一些压缩，因此简单地压缩它们不会缩小它们）。

此外，除非您实现一些复杂的东西，例如具有内置压缩功能的客户端 Flash 上传器，否则 Plone 只能在文件上传*之后*压缩文件，而不是之前，所以如果您希望让用户更快地上传，而不是为了最大限度地减少存储空间，您面临着一个更加困难的挑战。

# ios - In-App Purchase 无法更改状态 Ready to Submit to Wait for Review

> ID：12066925
> 
> 赞同：1
> 
> 时间：2012-08-22T05:42:25.830
> 
> 标签：ios, in-app-purchase, app-store-connect

我注册了应用内购买并且有**准备提交**。我想让他们的状态**等待审查**，但没有办法做到这一点。

关注更多细节

*   我之前已经成功将状态更改为“等待审核”其中之一，**仅一次**。

*   我想改变别人的身份，但我做不到。

*   提交审核按钮始终处于禁用状态。

*   在“查看详细信息”中，出现以下消息：

    “应用内购买无法添加到此版本，因为它已经提交审核。要管理您的应用内购买，请返回应用摘要页面并单击管理应用内购买按钮。”

结果，我不知道解决这个问题。我阅读了上千篇关于消息的文章，但对我不起作用。大多数答案都说只需在“**查看详细信息**”页面中编辑某些内容。我知道答案是正确的，但在我的情况下无效。

请帮我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T10:37:20.333

大约 5 分钟前我刚刚解决了同样的问题。

[这就是我的应用在https://itunesconnect.apple.com](https://itunesconnect.apple.com)上的样子

![来自管理应用程序菜单 - 管理应用内购买][1]

诀窍是使用正确的 Bundle ID（来自 App）和 ProductId（来自图像）。即使状态为：Waiting for review 并且二进制文件尚未上传，它也应该可以工作。

[很好的故障排除教程](http://troybrant.net/blog/2010/01/in-app-purchases-a-full-walkthrough/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:58:06.087

在 iTunes 连接中创建容器后，您可以单击“准备上传”按钮。这意味着您的 iTunes Connect 现在希望您创建产品存档并使用 Xcode 提交以供审核。

从“Waiting for binary”到“waiting for review”就是从 Xcode 提交你的二进制存档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-28T23:49:54.587

我有同样的问题 - AppStoreConnect 的 IAP 部分中的提交按钮无效。

第一件事是Review信息中的强制截图（右边的文字不是强制的）。当我添加屏幕截图时，IAP 的消息“缺少元数据”消失了。但是 IAP 提交按钮处于非活动状态。

其次，在为 IAP 添加此屏幕截图之前，我已提交我的二进制文件以供审核。这里最重要的是，当 IAP 准备好审核阶段时，您应该转到您的应用（App Store 选项卡），向下滚动页面直到看到 In-App Purchases 部分，单击蓝色 + 按钮并添加您的 IAP你之前创建的。

因此，不需要 IAP 中的这个提交按钮（在功能部分）。IAP，当在应用部分被选中时，他的状态自动更改为“等待审核”，同时应用提交和状态更改为“等待审核”..

# grails - 在grails中插入数据作为外键约束

> ID：12066926
> 
> 赞同：1
> 
> 时间：2012-08-22T05:42:32.027
> 
> 标签：grails

继续[阅读从 XML 读取并在数据库中使用 grails 存储值的帖子](https://stackoverflow.com/questions/12054808/reading-from-xml-and-storing-the-values-in-database-using-grails/12066360#12066360)

我面临着另一个问题。由于员工 id 作为外键与其他表相关，因此我假设如何将数据插入数据库而不发生冲突，我想在 grails 代码中添加什么以避免下面显示的错误。

> com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException:Cannot add or update a child rowL a foreign key constraint failed.. ( CONSTRAINT 'EMPLOYEE_ID_HEADER' FOREIGN KEY ('EMPLOYEE_ID') REFERENCES 'employee_header'('employee_id'))

这里employee_id 是一列，employee_header 是一个单独的表，其中包含employee_id 作为外键。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T12:39:27.203

最后我得到了答案，当您在数据库中插入值时，相关的外键表最初会受到影响。所以为了处理这种情况，我们必须首先插入外键相关表，然后我们需要准确添加的表。

作为参考，起初我给出了这样的代码

`sql.executeInsert("insert into order_item (order_id,product_id,`
`order_item_seq_id) values (${order_id},${product_id},${order_item_seq_id})")`

`sql.executeInsert("insert into product(product_id) values(${product_id})")`

这首先插入`order_item`表然后是外键约束表`product`，所以没有插入数据。所以正确的代码是

`sql.executeInsert("insert into order_header(order_id) values(${order_id})")` `sql.executeInsert("insert into product(product_id) values(${product_id})")` `sql.executeInsert("insert into order_item (order_id,product_id,`
`order_item_seq_id) values (${order_id},${product_id},${order_item_seq_id})")`

现在这将成功插入数据而没有错误。

# php - 乘法输入和显示功能

> ID：12066928
> 
> 赞同：1
> 
> 时间：2012-08-22T05:42:44.383
> 
> 标签：php, javascript, mysql

我有这样的表格：

*   `Product`落下
*   `Quantity`文本域
*   `UnitPrice`展示
*   `TotalPrice`展示

我创建了一个函数来在选择下拉列表时通过查询数据库来显示单价。现在我希望能够在输入数量时通过将数量和单价相乘来显示 TotalPrice。了解以下是乘法的方法，但我如何在查询中应用它。也包括了我的代码。

```
<script>
function showUP(str)
{
if (str=="")
{
document.getElementById("UP").innerHTML="";
return;
}
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
document.getElementById("UP").innerHTML=xmlhttp.responseText;
}
}
xmlhttp.open("GET","getunitprice.php?q="+str,true);
xmlhttp.send();
}
function multiply(Quantity)
{
var totalPrice= parseFloat(document.getElementById("UP"))*Quantity;
document.getElementById("TP").innerHTML= totalPrice;
}
</script>

    <table><tr>
    <th width-"18%>Quantity:</th>
    <td width="60%">
        <input type-"text" name="Quantity" value="" onkeyup= "multiply (this.value)" size="60" />
    </td>
    </tr></table>
<p></p><div id="UP"><b>UnitPrice: 0.00 </b></div><p>
<p></p><div id="TP"><b>TotalPrice: 0.00 </b></div><p> 
```

获取单位价格.php

```
<?php
 $q=$_GET["q"];

 $con = mysql_connect('localhost', '', '');
 if (!$con)
 {
 die('Could not connect: ' . mysql_error());
 }

 mysql_select_db("db", $con);

 $sql="SELECT CostPrice FROM Product WHERE ProductCode = '".$q."'";

 $result2 = mysql_query($sql) or die($sql."<br/><br/>".mysql_error());

 while($row2 = mysql_fetch_array($result2)) {

 echo "<b>UnitPrice: ".$row2['CostPrice']."";

 }

    mysql_close($con);
       ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T05:45:05.790

使用`onBlur`而不是`onchange`事件。您还可以`onkeyup`在数量文本框上使用事件。

```
<script>
function multiply(qty)
{
    var totalPrice= parseFloat(document.getElementById("UP").innerHTML)*qty;
    document.getElementById("TP").innerHTML= totalPrice;
}
</script>

        <tr>
        <th width-"18%>Quantity:</th>
        <td width="60%">
        <input type-"text" name="Quantity" value="" onkeyup= "multiply (this.value)" size="60" />

        </td>
        </tr>

<p></p><div><b>UnitPrice: <span id="UP">0.00</span> </b></div><p>
<p></p><div id="TP"><b>TotalPrice: 0.00 </b></div><p> 
```

# dojox.grid.datagrid - 如何在道场网格中放置文本框？

> ID：12066941
> 
> 赞同：0
> 
> 时间：2012-08-22T05:43:44.527
> 
> 标签：dojox.grid.datagrid

我有一个要求，我需要在单元格中放置文本框并输入值，并且必须在 submitaction 上读取值。我已经尝试编写如下代码...

```
 field : 'costCenter',
      name : "Cost Center",
     width : '180px',
    height : '20px',
    styles : "text-align: center;",
cellStyles : "text-align: left;font-weight: normal;",
   classes : 'grid_header_title',
  editable : true,
      type : dojox.grid.cells.DateTextBox,
        formatter: function(item){
            var txt= new dijit.form.TextBox();
        return txt; 
```

这对我不起作用。谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T14:57:56.107

这将在您的数据网格中放置一个文本框

```
 var _count = 0;
{
    field      : 'costCenter',
    name       : "Cost Center",
    style      : "width: 180px; height: 20px; text-align: center;",
    editable   : true,
    type       : dojox.grid.cells._Widget,
    formatter  : function(){
       return new dijit.form.TextBox({
         id: "id_"+_count++
       });
    }
} 
```

# android - 导航到另一个活动时，在单选列表中保存复选框的状态

> ID：12066944
> 
> 赞同：0
> 
> 时间：2012-08-22T05:43:58.643
> 
> 标签：android

如何在导航到另一个活动并返回上一个活动时在单选列表中保存复选框的状态。任何代码片段将不胜感激。提前感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:49:10.857

只需将值保存在 SharedPreferences 中。

参考在这里：http: [//developer.android.com/reference/android/content/SharedPreferences.html](http://developer.android.com/reference/android/content/SharedPreferences.html)

此处示例：http: [//saigeethamn.blogspot.com/2009/10/shared-preferences-android-developer.html](http://saigeethamn.blogspot.com/2009/10/shared-preferences-android-developer.html)

每次共享首选项值更改时，您都需要保存当前值。

并在 onCreate() 和可能的 onStart() 中调用 initMethod 以检查是否在 SharedPreferences 中设置了该值，如果是则初始化为该值。

SharedPreferences 上有很多教程，它们绝对是存储此类数据的地方。否则，您将需要对 Application 对象进行子类化，这不是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T06:36:13.643

您可能想要做几件事。

## #1 将数据传递给另一个活动

intent.putExtra("keyName", "somevalue");

我们可以在这里添加多个条目。这是一个键值对。所以要从接收活动接收这些数据，我们必须编写这段代码

捆绑附加服务 = getIntent().getExtras(); if(extras !=null) { String value = extras.getString("keyName"); }

阅读更多： http: [//getablogger.blogspot.com/2008/01/android-pass-data-to-activity.html#ixzz24FoEOTwH](http://getablogger.blogspot.com/2008/01/android-pass-data-to-activity.html#ixzz24FoEOTwH)

## #2 使用共享偏好

关于这方面的大量信息。

在 Android 中存储数据的最简单方法。

[http://developer.android.com/guide/topics/data/data-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

[http://www.slideshare.net/androidstream/sharedpreferences-tutorial](http://www.slideshare.net/androidstream/sharedpreferences-tutorial)

## #3 使用 SQLite 数据库

数据库很棒，可能只是为了保存一个复选标记

[http://developer.android.com/guide/topics/data/data-storage.html#db](http://developer.android.com/guide/topics/data/data-storage.html#db)

# ruby-on-rails-3 - 类函数值为真或假的 Mongoid 文档

> ID：12066950
> 
> 赞同：0
> 
> 时间：2012-08-22T05:44:28.870
> 
> 标签：ruby-on-rails-3, filter, mongoid

我正在尝试过滤帖子的提要。A`Post`和`User`两者都有一个布尔字段`banned_from_feed`。

帖子有一个功能：

```
def banned
    self.banned_from_feed or self.user.banned_from_feed
end 
```

运行`Post.all.excludes(:banned => true)`不会过滤掉这些文档，因为`banned`不是 Mongoid Document 字段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T05:53:07.703

您可能需要一个范围：

```
scope :banned, lambda { any_of {:banned_from_feed => true}, {:user.banned_from_feed => true} } 
```

# c# - 在MVC3中将模型从一个控制器传递到另一个控制器不起作用

> ID：12066953
> 
> 赞同：1
> 
> 时间：2012-08-22T05:44:59.187
> 
> 标签：c#, asp.net, asp.net-mvc-3

我将模型从一个控制器方法传递到另一个控制器方法，以将所有值收集到模型字段。我正在做如下所示

```
[HttpPost]
    public ActionResult A(Model m, string s)
    {
        if (ModelState.IsValid) 
        {
            if (m.l == null || m.k == null)
            {
                //Do something.

            }
            else
                return View("B", m); // this is where by debug point comes...
        }

        return View(m);

    }

public ActionResult B(Model m)
    {

        return View(m);
    }

[HttpPost]
    public ActionResult B(Model m, string s)
    {
        if (ModelState.IsValid)
        {
            if (m.p == null || m.j == null)
            {
                //do something
            }
            else
            {
               // do something and redirect to somewhere else 
            }

        } 
```

但正如我所展示的，调试点如下所示。

```
return View("B", m); 
```

这应该击中控制器方法“B”但问题是它没有击中控制器方法“B”。但它显示了控制器方法“B”的视图所以，我对这个问题感到困惑。而且我在方法“B”的httppost中看不到（l，k）的值。这是什么原因。

我想知道，我这样做是对还是错。如果我做错了，请您解释一下。擅长MVC的人可以帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-22T05:50:19.253

该代码 -- `return View("B", m)`-- 实际上并没有重定向到*操作*B，它只是使用给定的模型呈现*视图*B。如果要执行该操作，则应使用：

```
return B(m); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-22T06:47:17.707

你不应该从另一个动作中调用一个动作。视图 RESULT 在执行控制器操作方法（最上面的）之后执行。呼吁他人采取行动并不是有意的，并且可以为同一行动方法提供多种途径。您的控制器的目的是编排数据。如果您认为应该调用多个方法，那么您应该将它们分解为其他外观类或服务层类，每个需要它的控制器都会请求它或将此信息聚合到域对象中，然后您从中填充视图模型

如果其中任何一个不清楚，我会进一步澄清。

调用多个存储库方法来获取数据并填充到视图模型中，或者使用父视图并从视图中调用 RenderAction 以发出其他控制器数据

或者使用 RenderPartial 使用您的父视图对象传递给每个子视图以呈现它的部分，但我更喜欢 RenderAction，除非所有数据都对您的顶级视图的视图模型可用。或者从您的控制器调用外观层类，该类依次从各个位置获取数据，执行 xyz 并将其返回给控制器，然后控制器从该数据中填充视图模型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T06:33:56.357

试试这样的，

```
[HttpPost]
public ActionResult A(Model m, string s)
{
    if (ModelState.IsValid) 
    {
        if (m.l == null || m.k == null)
        {
            //Do something.                    
        }
        else
            RedirectToAction("B", m); // check this
    }
    return View(m);    
}   

public ActionResult B(Model model)
{
    return View(model);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-24T11:19:48.943

> 试试下面的代码。它应该工作。这是@dbaseman 答案的替代方案

```
 [HttpPost]
    public ActionResult A(Model m, string s)
    {
        if (ModelState.IsValid) 
        {
            if (m.l == null || m.k == null)
            {
                //Do something.                    
            }
            else
            {
                TempData["tempModel"]=m; //cannot pass a model in a redirect method. so store it in a tempdata object.
                return RedirectToAction("B"); // redirect to action method B
            }
        }
        return View(m);    
    }   

    public ActionResult B()
    {
        Model model= new Model();
        if(TempData["tempModel"]!=null)
            model=(Model)TempData["tempModel"];
        return View(model);
    } 
```

# xampp - 在 htdocs 中组织文件夹和子文件夹

> ID：12066959
> 
> 赞同：0
> 
> 时间：2012-08-22T05:45:37.910
> 
> 标签：xampp, absolute-path

我正在使用 Windows 7（64 位）。

如果我将站点（index.php、其他文档和其他子文件夹 [css、js、imgs 等] 直接放在 htdocs 文件夹中（在 XAMPP 文件夹中）并通过 localhost 查看站点没有问题。

如果相反，该站点被放置在 htdocs 的子文件夹中，C:xampp/htdocs/mysite，并且我尝试查看 index.php 到子文件夹（例如图像、css 和 js 等）的所有链接（相对）停止工作。

我显然更愿意将 xampp 用于多个站点，因此我希望在每个站点的 htdocs 中都有一个子文件夹。

相信我，我一直在谷歌搜索，并且查看了一些“解决方案”（例如，例如更改 httpd.conf，这意味着每次我想查看不同的站点时都要更改它......）但没有任何帮助. 我应该检查什么？

编辑

链接格式

```
href="/css/homeAreaStyle111.css"

data="/svg/linkedbutton.svg" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T05:51:14.527

您是否在链接前面加上斜线？IE

```
 <a href=/page.htm> 
```

如果是这样，这些链接将指向站点根目录。尝试用 ex 替换

```
 <a href=page.htm> 
```

或者

```
 <a href=./page.htm> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T07:03:37.747

如果您有您的网站，`C:xampp/htdocs/mysite`那么您的链接将如下所示：

```
href="/mysite/css/homeAreaStyle111.css"

data="/mysite/svg/linkedbutton.svg" 
```

# android - vsftpd 在 android 上的 chrooted ubuntu 环境中

> ID：12066960
> 
> 赞同：0
> 
> 时间：2012-08-22T05:45:49.123
> 
> 标签：android, linux, ftp, chroot, vsftpd

我在我的 Android GalaxyTab 和 myTouch 4G 手机上运行 chrooted ubuntu 12 发行版。我正在运行 LAMP 堆栈，一切都非常顺利，但我无法让这个简单的 vsftpd 在任一设备上工作。

我在 /etc/vsftpd.conf 中更改的唯一两行：

```
local_enable = YES
write_enable = YES 
```

从客户端我可以使用我的用户/密码进行 ftp 和登录，但它不允许我使用“ls”或“get”或“put”，这些命令中的任何一个都将导致以下错误：

```
500 OOPS: socket
500 OOPS: priv_sock_get_result
Connection closed by remote host 
```

但是，我可以执行“mkdir”和“rmdir”，但除此之外它不允许我操作任何文件。关于为什么的任何想法？

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-10T12:40:11.050

我搜索它，我真的搞混了，所以我决定将 vsftpd 更改为 sftp 或其他东西，直到我找到关于这个 bugg 的链接。

然后我发现这个问题在 vsftpd 版本 3 中得到了解决。所以我搜索了如何升级它，可以找到将 jessie 存储库添加到我的 debian 7.3 并升级它：

```
echo "deb http://ftp.us.debian.org/debian jessie main contrib non-free" >> /etc/apt/sources.list
aptitude update
aptitude upgrade vsftpd
echo "allow_writeable_chroot=YES" >> /etc/vsftpd.conf
service vsftpd restart 
```

# seo - 从网站中删除页面的正确方法

> ID：12066961
> 
> 赞同：-1
> 
> 时间：2012-08-22T05:45:57.753
> 
> 标签：seo

我的网站上有一个产品页面，这是我 3 年前添加的。

现在产品生产已停止，产品页面已从网站上删除。

我所做的是我开始在产品页面上显示消息，告诉产品的生产已停止。

当有人在谷歌搜索该产品时，从网站中删除的产品页面首先出现在谷歌搜索中。

产品页面的页面排名也很高。

我不希望删除的产品页面显示在搜索结果的顶部。

什么是从网站中删除页面的正确方法，以便它被谷歌在其表中索引的内容所描述。

谢谢回复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T06:10:37.353

# 删除它

从站点中删除页面的正确方法是删除在请求页面时返回给用户/机器人的实际文件。如果文件不在网络服务器上，任何配置良好的网络服务器都将返回 404，并且机器人/蜘蛛将选择在下次刷新时将其从索引中删除。

# 重定向它

如果您想保持页面具有的良好“谷歌果汁”或 SERP 排名，可能是由于来自外部网站的任何入站链接，您最好将您的网络服务器设置为执行 302 重定向到类似的（更新的产品）。

# 保留和转换

但是，如果页面做得很好，以至于它在整个网站的搜索中排名第一，那么您需要利用它来发挥自己的优势。让页面上的大部分副本保持不变，但向查看者强调该产品不再存在，并为用户提供一些有用的选项：告诉他们更新、更好的产品，告诉他们为什么它不再可用，如果他们已经有停产的产品，请告诉他们可以去哪里获得支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T09:51:22.037

我完全同意上述建议，只想补充一点。

如果您想从 Google 搜索结果中删除该页面；只需登录 Google 网站管理员工具（您必须已在 Google 网站管理员工具中验证了该网站）并添加该特定页面以进行索引删除请求。

谷歌将取消该页面的索引，并将其从谷歌搜索排名中删除。

# jboss - 当我使用 AJP 协议时 JBOSS 6.0.0 服务器崩溃 - 打开的文件太多

> ID：12066963
> 
> 赞同：0
> 
> 时间：2012-08-22T05:46:19.013
> 
> 标签：jboss, ajp

J BOSS 6.0.0 服务器在我使用 AJP 协议时崩溃。系统连续显示以下异常。

```
2012-08-21 16:12:51,750 ERROR [org.apache.tomcat.util.net.JIoEndpoint] (ajp-0.0.0.0-8009-Acceptor-0) Socket accept failed: java.net.SocketException: Too many open files
at java.net.PlainSocketImpl.socketAccept(Native Method) [:1.6.0_24]
at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408) [:1.6.0_24]
at java.net.ServerSocket.implAccept(ServerSocket.java:462) [:1.6.0_24]
at java.net.ServerSocket.accept(ServerSocket.java:430) [:1.6.0_24]
at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:61) [:6.0.0.Final]
at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:343) [:6.0.0.Final]
at java.lang.Thread.run(Thread.java:662) [:1.6.0_24] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T22:59:17.763

*   检查系统中 fd 的最大数量，`cat /proc/sys/fs/file-max`如果你有 65535 应该没问题，但你可以将它增加到 200000
*   通过输入来检查ulimit `'ulimit -n'`，在我这边给出1024，所以我在文件/etc/security/limites.conf中增加它并添加：

    `* soft nofile 2048`

    `* hard nofile 2048`

最后你可以检查 fd 字节输入`lsof -p xxx|wc -l`

[所有这些解释都来自这个，](http://lj4newbies.blogspot.fr/2007/04/too-many-open-files.html) 每次我遇到这个问题时都会挽救我的生命。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T06:39:37.227

问题是因为在 JBOSS 服务器的 Server.xml 中设置了最大线程数和 connectionTimeout。

AJP 协议的 connectionTimeout 默认值为无限。

因此，connectionTimeout 值设置为 120000（2 分钟）。

因此，问题（打开的文件太多）从未复制。设置最佳配置设置而不是默认值总是更好。

为了解决这个问题，已经进行了一些其他配置更改。那些是，

ajp 协议的“最大线程”值从 1500 更改为 150。

“ulimit -n”值已从 1024 更改为 8192。

# embedded - Neon 在 Intrinsics 中的校验和代码实现

> ID：12066964
> 
> 赞同：1
> 
> 时间：2012-08-22T05:46:20.403
> 
> 标签：embedded, arm, simd, neon, cortex-a8

我正在尝试使用内部实现 NEON 的校验和计算代码（2 的补码加法）。当前的校验和计算是在 ARM 上进行的。

我的实现一次从内存中获取 128 位到 NEON 寄存器并执行 SIMD（加法），结果从 128 位数字折叠为 16 位数字。

一切看起来都运行良好，但我的 NEON 实现比 ARM 版本消耗更多时间。

ARM 版本耗时：**0.860000 s** NEON 版本耗时：**1.260000 s**

**笔记：**

1.  使用“time.h”中的实用程序进行分析
2.  示例应用程序中调用了 10,000 次校验和函数，并在完成所有函数运行后计算时间

**其他详情：**

1.  使用 GNU 工具链（arm-none-linux-gnueabi-gcc）来编译内部代码而不是 arm 工具链。
2.  Linux 平台。
3.  C 内在代码。

**问题：**

1.  为什么 NEON 版本比 ARM 版本需要更多时间？（尽管我已经注意使用批处理中最小周期的内在函数）

2.  如何实现我想要实现的目标？（NEON的效率）

3.  有人可以指点我或分享一些使用ARM-NEON的互操作的示例实现（伪代码/算法/代码，而不是理论实现论文或演讲）吗？

任何帮助将非常感激。

这是我的代码：

```
uint16_t do_csum(const unsigned char * buff, int len)
{
int odd, count, i;

uint32x4_t result = veorq_u32( result, result), sum = veorq_u32( sum, sum); 
uint16x4_t data, data_hi, data_low, data8;
uint16x8_t dataq;
uint16_t result16, disp[20] = {0,0,0,0,0,0,0,0,0,0};

if (len <= 0)
    goto out;
odd = 1 & (unsigned long) buff;
if (odd) {
    uint8x8_t data1 = veor_u8( data1, data1); 
    data1 = (uint16x4_t)vld1_lane_u8((uint8_t *)buff, data1, 0); //result = *buff << 8;
    data1 = (uint16x4_t)vshl_n_u16( data1, 8);

    len--;
    buff++;
    result = vaddw_u16(result, data1);
}
count = len >> 1;       /* nr of 16-bit words.. */
if (count) {
    if (2 & (unsigned long) buff) {
        uint16x4_t data2 = veor_u16( data2, data2); 
        data2 = (uint16x4_t) vld1_lane_u16((uint16_t *)buff, data2, 0); //result += *(unsigned short *) buff;
        count--;
        len -= 2;
        buff += 2;
        result = vaddw_u16( result, data2);
    }
    count >>= 1;        /* nr of 32-bit words.. */
    if (count) {
        if (4 & (unsigned long) buff) {
            uint32x2_t data4 = (uint16x4_t) vld1_lane_u32((uint32_t *) buff, data4, 0);
            count--;
            len -= 4;
            buff += 4;
            result = vaddw_u16( result, data4);
        }
        count >>= 1;    /* nr of 64-bit words.. */
        if (count) {
            if (8 & (unsigned long) buff) {
                uint64x1_t data8 = vld1_u64((uint64_t *) buff); 
                count--;
                len -= 8;
                buff += 8;
                result = vaddw_u16( result,(uint16x4_t)data8);
            }
            count >>= 1;    /* nr of 128-bit words.. */
            if (count) {
                do {
                    dataq = (uint16x8_t)vld1q_u64((uint64_t *) buff); // VLD1.64 {d0, d1}, [r0]
                    count--;
                    buff += 16;

                    sum = vpaddlq_u16(dataq);   
                    vst1q_u16( disp, dataq); // VST1.16 {d0, d1}, [r0]

                    result = vaddq_u32( sum, result);
                } while (count);
            }
            if (len & 8) {
                uint64x1_t data8 =  vld1_u64((uint64_t *) buff); 
                buff += 8;
                result = vaddw_u16( result, (uint16x4_t)data8);
            }
        }
        if (len & 4) {
            uint32x2_t data4 = veor_u32( data4, data4); 

            data4 = (uint16x4_t)vld1_lane_u32((uint32_t *) buff, data4, 0);//result += *(unsigned int *) buff;
            buff += 4;
            result = vaddw_u16( result,(uint16x4_t) data4);
        }
    }
    if (len & 2) {
        uint16x4_t data2 = veor_u16( data2, data2); 
        data2 = (uint16x4_t) vld1_lane_u16((uint16_t *)buff, data2, 0); //result += *(unsigned short *) buff;
        buff += 2;
        result = vaddw_u16( result, data2);
    }
}
if (len & 1){
    uint8x8_t data1 = veor_u8( data1, data1); 
    data1 = (uint16x4_t) vld1_lane_u8((uint8_t *)buff, data1, 0); //result = *buff << 8;
    result = vaddw_u8( result, data1);
}

result16 = from128to16(result);

if (odd)
    result16 = ((result16 >> 8) & 0xff) | ((result16 & 0xff) << 8);

out:
    return result16;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-22T06:16:26.507

您可以改进的几件事：

*   摆脱商店`disp`- 这看起来像是留在里面的调试代码？
*   不要在主循环中进行水平加法 - 只需在循环中进行部分（垂直）求和并在循环后进行最后一次水平加法（有关如何执行此操作的示例，请参见此[答案](https://stackoverflow.com/a/11877815/253056)- 它适用于 SSE，但原则是相同）
*   确保您用于`gcc -O3 ...`从编译器优化中获得最大收益
*   不要使用`goto`！（不影响性能，但很邪恶。）

# hibernate - Hibernate 一对一关联

> ID：12066965
> 
> 赞同：0
> 
> 时间：2012-08-22T05:46:26.853
> 
> 标签：hibernate

Hibernate 中的一对一关联可以通过其中一种方式建立。

1.  两个类的属性都保存在**同一张表中**。
2.  **可以在具有相同主键**的不同表中维护实体。
3.  实体可以在**不同的表中维护，其中一个实体到另一个实体中维护一个键** （两个表之间的外键关系）

我想知道：

*   它仅取决于数据库模式吗？
*   这些方法的优点和缺点是什么？特别是我想知道以下两个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:04:40.130

映射到同一个表（**组件**）中的类很容易维护。当不再使用数据时，您永远不需要清理记录。永远不会出现级联问题。它也比连接表快。但是您不能查询该组件，因为它没有被识别。

您还可以使用**连接**将组件（或任何其他数量的属性）映射到另一个表。这样做可能有技术原因，并且从应用程序的角度来看没有区别。连接也由 hibernate 使用相同的主键实现。

使用**一对一**关系时，您链接独立实体。两者都可以查询。其中一个没有自己的身份生成器，它从另一个获取 id，这使得它依赖于另一个。我在映射一对一关系时总是遇到问题，因为它们很难理解而且实际上很少见。

或者，您可以仅使用普通外键（**多对一**）来映射实体。这通常更容易理解和维护。缺点是数据库中有另一个外键，可以通过使用一对一来避免。

# batch-file - 批处理脚本删除一个子文件夹并保留另一个子文件夹，同时删除其中一个文件以外的所有文件？

> ID：12066966
> 
> 赞同：0
> 
> 时间：2012-08-22T05:46:27.847
> 
> 标签：batch-file

我有一些可以帮助的东西。让我以文件夹布局为例：

> C:...\Logs\子文件夹A
> 
> C:...\Logs\子文件夹B

每个文件夹包含多个作为文本文件的日志。我想要做的是有一个批处理脚本`SubfolderB`完全删除文件夹，但清除该文件夹中的文件，`SubfolderA`除了一个文件，同时保留 SubfolderA。

或者，我需要另一个`SubfolderB`完全删除文件夹，然后在`SubfolderA`保留文件夹的同时删除所有内容。然而，一旦我知道如何做我第一次提到的那个，下一个对我来说应该很容易做到。

目前，我只是从每个文件夹中运行一个脚本，该脚本要么删除其透视文件夹中除批处理文件外的所有文件，要么删除除批处理文件和我要保留的一个文件之外的所有文件（`SubfolderA`批处理脚本确实这个），但是如果可能的话，用一块石头杀死两只鸟会容易得多，并且只需要执行一个文件。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T06:11:43.573

您可以使用 删除目录（包括其内容）`rd /s /q foo`。您可以使用删除目录中的所有文件`del /f /q foo\*`。

要删除目录中除一个文件之外的所有文件，您需要一些适用于您保留的文件的标准，然后需要对该目录的文件进行循环：

```
for %%F in (foo\*) do if not "%%F"=="bar" del "%%F" 
```

# scala - 编译器忽略了Scala工厂？

> ID：12066974
> 
> 赞同：1
> 
> 时间：2012-08-22T05:47:23.337
> 
> 标签：scala, syntactic-sugar, companion-object

我花了所有时间在我的伴生对象中组合一个工厂方法，如下所示：

```
class Stuff(val a: Int, val b: Long) { this() = this(0,0L) }

object Stuff {
  def apply(a:Int, b:Int) = new Stuff(a, b.toLong)
} 
```

但是当我以为我要杀了它时，我就去编译了，但这不起作用：

```
val widget = new Stuff(1,2) 
```

到底是怎么回事！？我刚做了这个！？帮助！！！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-22T05:47:23.337

好吧，年轻的 Scala 程序员，不要害怕，因为答案很简单。您没有正确使用工厂。看，这段代码实际上会做你想做的事：

```
val widget = Stuff(1,2)
//makes Stuff(1, 2L) 
```

这里的问题是你的语法。当您调用`new`它时，它会实例化一个新的`Stuff`. 但`apply`它真的是语法糖，`widget.apply(1,2)`没有太多其他的东西。

您还可以在此处了解有关`apply`糖的更多信息：[Scala 的 apply() 方法是如何发挥作用的？](https://stackoverflow.com/questions/1223834/how-does-scalas-apply-method-magic-work)

继续编码年轻人。

# actionscript-3 - 图形用户界面窗口的代码

> ID：12066976
> 
> 赞同：0
> 
> 时间：2012-08-22T05:47:24.840
> 
> 标签：actionscript-3, user-interface

有人会如何编写“窗口”？我开始制作一个 GUI，我想学习如何编写一个 GUI。一种可以换肤，另一种可以在运行时循环并自行创建。我知道这可能有点模糊，所以我将添加细节。

一个真正“创造”自己的人。我看过的大多数 GUI 教程都依赖于刚刚添加到屏幕上的“图像”。我希望能够在我的窗口中使用皮肤。我的“皮肤”只是“边界”的集合。然后当我插入`window.create(50,50)`50,50 是我的高度、宽度时，它只会创建那个窗口，跟随皮肤。

我知道它可能就像语言绘制矩形一样遵循，它只是遵循一组不同的规则（也许？）。但是，对于我所有的 Google-fu 技能，我找不到可以教我这个的教程。

请帮忙。如您所见，我没有包括我使用的语言，因为我相信我只需要知道如何创建一个。无论如何，我正在使用 Actionscript 3。一个教程就可以了，甚至是一个具有此功能的单一类，我将只研究代码。或者如果你知道一个，也许是一本关于 GUI 和编程的书：D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T06:48:24.023

纯 As3.0 GUI 编码比较麻烦。我尝试使用谷歌搜索，但效果不佳。无论如何，对于我的情况，我使用 SWC、类映射和自定义生成。但我不确定最好的方法。以其他方式，我使用[bit101](http://www.minimalcomps.com/?page_id=5)库。这给了我想要的**Window**、**Charts**、**Componets**容易的高度抽象。见下图。

![在此处输入图像描述](../Images/beab44fefcab7f29af29f3548f69a02c.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T11:55:15.797

做起来可能非常困难和复杂，也可能非常容易，这取决于您的解决方案应该有多灵活。您首先需要设计程序的结构和解决问题的方法。

我喜欢从 API 的角度来看它应该是什么样子。我想我会创建一个这样的 GUI 元素：

```
var wholeGui:MyGUI = new MyGUI();
var window:IGuiElement = new GuiWindow(dataObject, skinObject);
wholeGui.addElement(window); 
```

那么你需要什么？

1) 将管理所有 GUI 元素的对象。为什么？仅仅是因为如果用户在您的小窗口上单击“X”，您的 GUI 元素不应该被自己破坏。WholeGui 对象将管理它们并侦听任何事件，包括那些会破坏它们的事件。如果这种交互会很复杂，您可以考虑为整个Gui 对象和您的窗口对象之间的交互创建自定义事件。

2) GUI 对象的接口。这里的一些问题是 AS3 实际上没有 Sprite 的接口，你想像扩展 Sprite 一样与它进行交互。这里的解决方法是在这个接口中有一个这样的声明：

```
function asSprite():Sprite; 
```

您在 GuiWindow 中的实现将如下所示：

```
public function asSprite():Sprite {
    return this;
} 
```

当然，您的 GuiWindow 类应该扩展 Sprite。然后，您可以通过编写示例来访问它的 Sprite 属性和方法： window.asSprite.startDrag();

该界面应该为您提供操作 GUI 元素所需的能力。

3) 你的 GUI 元素的类，在这个例子中是 GuiWindow。

4) 为您的元素注入数据的类。如果您要从某个位置动态加载数据，则需要处理无法提供数据的情况 - 但该逻辑将在您的窗口内。

5) 为您的皮肤分类 - 这样您就可以动态创建一个皮肤对象并使用它以您想要的方式创建您的窗口。

这只是需要考虑的几个想法。

PS。在创建 GuiWindow 对象之后而不是在构造函数中填充数据可能是个好主意，因为那时您将能够可视化加载过程。

# java - 计算整数的二进制根（java）

> ID：12066979
> 
> 赞同：0
> 
> 时间：2012-08-22T05:47:51.493
> 
> 标签：java, algorithm

我一直在尝试为与[此处](https://stackoverflow.com/questions/8465519/binary-roots-of-an-integer)相同的问题找到正确的解决方案， 但在 Java 中，并且由于应该返回计数而稍作修改。

我想出了以下解决方案：

```
public static int count(int n) {
    // check for 0 or smaller
    if (n <= 0) {
        return -1;
    }

    // find root of N
    int root = (int) Math.ceil(Math.sqrt(n));
    int count = 0;
    for (int i = 1; i < root; i++) {
        if (n % i == 0) {
            // calculate bit_rev(i)
            int reverse = bit_rev(i);

            // calculate bit_rev(N/i)
            int reverseDiv = bit_rev((int)Math.floor(n/i));

            // check whether i * bit_rev(i) == N or i == bit_rev(N/i)
            if (reverse*i == n
                    || i == reverseDiv) {
                System.out.println(String.format("Found reverse (N = %d, i = %d, bit_rev(i) = %d, bit_rev(i) * i = %d, bit_rev(N/i) = %d)", n, i, reverse, reverse*i, reverseDiv));
                count++;
            } else {
                System.out.println(String.format("N = %d mod i = %d == 0, but no match (bit_rev(i) = %d, bit_rev(i) * i = %d, bit_rev(N/i) = %d)", n, i, reverse, reverse*i, reverseDiv));
            }
        }
    }

    if (count == 0) {
        // didn't match -> return -1
        return -1;
    } else {
        // return whatever the count was
        return count;
    }
}

public static int bit_rev(int n) {
    String string = Integer.toBinaryString(n);
    String reverseString = new StringBuffer(string).reverse().toString();
    int reverse = Integer.parseInt(reverseString, 2);
    return reverse;
} 
```

在参考样本中，N = 3245 的解应该是 count = 55。

但是，我的解决方案发现`count = 1 (i = 55, bit_rev(i) = 59).`

其他参考样品是：

```
-) N = 50 -> count = 1
-) N = 286 -> count = 2 
```

我知道找到 bit_rev() 的解决方案不是最好的（最有效的），但我不认为这是错误的，是吗？

这里是否还有其他错误，或者 N = 3245 的参考样本是否错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T06:23:23.817

我认为你误读了这个问题，或者参考答案是错误的。如果它与[http://algorithmsforever.blogspot.com/2011/12/integer-binary-roots.html?m=1](http://algorithmsforever.blogspot.com/2011/12/integer-binary-roots.html?m=1)上的问题类似，那么您需要返回最小的二进制根，而不是二进制根的数量。

无论如何，我认为您的实施正在正确地解决它们。55 确实是 3245 的最小二进制根（不是根数）。

# java - Java：Object 类有构造函数吗？

> ID：12066984
> 
> 赞同：27
> 
> 时间：2012-08-22T05:48:55.880
> 
> 标签：java, constructor

Javadoc 提到 Object 类有一个公共的无参数构造函数。但是 Object 的源代码中没有任何显式的构造函数。所以很明显编译器已经为它生成了一个。但是，如果我在构造函数即将返回时看到调用堆栈跟踪（如下所示），我`Object.<init>`在该跟踪中看不到任何调用。

所以问题是，Object 类是否有文档所说的默认构造函数？如果是，为什么我在调用堆栈跟踪中看不到它？

```
public ConTest()
{
    new Throwable().printStackTrace();
} 
```

结果：

```
java.lang.Throwable
    at ConTest.<init>(ConTest.java:8)
    at ConTest.main(ConTest.java:16) 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-08-22T05:57:59.740

超级构造函数在子/基础构造函数之前运行。在您的示例中，对象的构造函数在执行时已经运行`new Throwable().printStackTrace()`。

更明确的代码版本：

```
public ConTest()
{
    super();
    new Throwable().printStackTrace(); // you will not see super() (Object.<init>) in this stack trace.
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-22T05:59:39.527

您在堆栈跟踪中看不到它，因为它已经被调用了。异常会在您的代码中引发。

您的代码相当于编写：

```
public ConTest() {
  super(); // this will call the Object constructor
  new Throwable().printStackTrace();
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-22T06:00:33.763

您在堆栈跟踪中看不到它，因为在您`new Throwable().printStackTace()`调用之前调用了超类的构造函数。编译器实际创建的内容如下。

```
public ConTest()
{
    super();   // This is the call to the base class constructor
    new Throwable().printStackTrace();   // already back from the base class constructor
} 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-10-05T12:00:44.670

**是的，正如文档所说，Object 类有一个默认构造函数。**

如您所知，您可以通过在命令提示符下使用 javap -c ConTest 来检查它，您可以在下面的代码**行号：1中看到它正在调用对象类默认构造函数（）**

```
C:\stackdemo>javap -c ConTest
Compiled from "ConTest.java"
public class ConTest extends java.lang.Object{
public ConTest();
  Code:
   0:   aload_0
   1:   invokespecial   #1; //Method java/lang/Object."<init>":()V
   4:   new     #2; //class java/lang/Throwable
   7:   dup
   8:   invokespecial   #3; //Method java/lang/Throwable."<init>":()V
   11:  invokevirtual   #4; //Method java/lang/Throwable.printStackTrace:()V
   14:  return

public static void main(java.lang.String[]);
  Code:
   0:   new     #5; //class ConTest
   3:   dup
   4:   invokespecial   #6; //Method "<init>":()V
   7:   astore_1
   8:   return

} 
```

谢谢

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-22T06:04:47.840

如上所述 super() 是构造函数和方法中的第一个调用更多信息[here](http://www.artima.com/designtechniques/initializationP.html)

> 当您编译一个类时，Java 编译器会为您在该类的源代码中声明的每个构造函数创建一个实例初始化方法。虽然构造函数不是方法，但实例初始化方法是。它有一个名称、`<init>`一个返回类型、void 和一组参数，这些参数与生成它的构造函数的参数相匹配

# jquery - 如何获得 jquery 滑块选项？

> ID：12066985
> 
> 赞同：1
> 
> 时间：2012-08-22T05:48:55.523
> 
> 标签：jquery, slider

我可能错了，但我认为这是一个用 jquery 制作的对象：

```
$("#slider").slider({
    value:40,
    min: 0,
    max: 80,
    step: 10
}); 
```

如果不只是继续阅读并让我知道，我会纠正这个问题。

我想得到`max`（80）的内容。我目前能够获取 value 的内容，但对 max 执行完全相同的操作不会返回 80。

```
alert($("#slider").slider("value")); // Outputs 40
alert($("#slider").slider("max")); // Outputs #slider html 
```

如何获取存储在“max”上的值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-22T05:51:13.170

如果您在谈论 jQuery UI 滑块，那么它是...

```
var max = $("#slider").slider("option", "max"); 
```

[文档](http://docs.jquery.com/UI/Slider#option-max)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-09T07:46:22.890

要查看所有选项，只需使用

```
 console.log($( ".selector" ).slider( "option" )) 
```

你会得到这样的输出：

```
Object {disabled: false, theme: null, trackTheme: null, initSelector: "input[type='range'], :jqmData(type='range'), :jqmData(role='slider')", mini: false} 
```

现在您可以看到它将返回一个对象的所有选项。要选择特定选项，只需写下选项名称。喜欢获取禁用值：

```
$( ".selector" ).slider( "option" ).disabled 
```

你会得到价值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-22T05:51:22.430

你必须查看[插件](http://docs.jquery.com/UI/Slider#methods)[的文档`.slider`](http://docs.jquery.com/UI/Slider#methods)（这总是一个很好的地方）。当你这样做时，你会看到：

```
.slider( "option" , optionName , [value] ) 
```

这使您可以获取或设置滑块选项。

在您的特定情况下，您将使用此：

```
var max = $("#slider").slider("option", "max"); 
```

# objective-c - Xcode - 将 sqlite3 数据库保存在库文件夹中

> ID：12066987
> 
> 赞同：0
> 
> 时间：2012-08-22T05:49:10.463
> 
> 标签：objective-c, ios, xcode, sqlite, bundle

我正在开发一个使用 Sqlite3 数据库的应用程序。目前数据库在应用程序包中，但我知道当我在真实世界中使用真正的 iPhone 进行测试时，我会遇到更新数据的问题。

1 - 如何在捆绑阶段将我的项目数据库复制到库文件夹？

2 - 我怎样才能访问这个复制的数据库？现在我的代码是：

```
NSFileManager *fileMgr = [NSFileManager defaultManager];
    NSString *dbPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"myDatabase.sqlite"];
    BOOL success = [fileMgr fileExistsAtPath:dbPath]; 
```

我必须改变什么？

3 - 如果我更新应用程序，如何保留这个数据库（包含用户数据）？

提前致谢！;)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T06:19:51.903

您必须将数据库从 Resources 文件夹复制到 Documents 文件夹

```
sqlite3 *database;
BOOL success;
NSFileManager *fileManager = [NSFileManager defaultManager];
NSError *error;
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *writableDBPath = [documentsDirectory stringByAppendingPathComponent:@"Lists.db"];
success = [fileManager fileExistsAtPath:writableDBPath];
// The writable database does not exist, so copy the default to the appropriate location.
if(!success)
{
    NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"Lists.db"];
    success = [fileManager copyItemAtPath:defaultDBPath toPath:writableDBPath error:&error];
    if (!success) {
        TFLog(@"Failed moving database... %@",[error localizedDescription]);
        return;
    }
} 
```

当您更新 Documents 文件夹中的应用程序数据库时，您只需检查条件

```
 success = [fileManager fileExistsAtPath:writableDBPath];
if it does not exits new database will be copied their.
Just keep in mind database structure is same as before. 
```

# c++ - 提升上下文库

> ID：12066990
> 
> 赞同：15
> 
> 时间：2012-08-22T05:49:19.750
> 
> 标签：c++, boost, boost-context

在 Boost 的最新版本中，出现了新的库[Context](http://www.boost.org/doc/libs/1_51_0/libs/context/doc/html/context/overview.html)。

阅读文档后，我了解了它的作用，但几乎看不到用例。使用这个库有什么好处？您可以推荐哪些任务使用它？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-22T08:34:41.793

它是协程库的基础，截至 2012 年 9 月上旬正在审查中，因此它应该会出现在未来的某个版本中。这将允许轻松实现诸如[python](http://docs.python.org/py3k/tutorial/classes.html#generators)或[C#](http://msdn.microsoft.com/en-us/library/9k7k7cf0.aspx)中的生成器之类的东西。

上下文库本身可以与方案[`call-with-current-continuation`](http://www.r6rs.org/final/html/r6rs/r6rs-Z-H-14.html#node_idx_754)和`call-with-dynamic-root`函数进行比较。各种协程、生成器和协作线程的基础。

**更新：** [协程库](http://www.boost.org/libs/coroutine/doc/html/index.html)从 1.53 版开始包含在 Boost 中。

# java - 将 Java 文档导出为 XML

> ID：12066991
> 
> 赞同：2
> 
> 时间：2012-08-22T05:49:30.920
> 
> 标签：java, xml, perl, documentation, java-7

我希望将[Java SE 7 文档](http://docs.oracle.com/javase/7/docs/api/)从 HTML 导出为可解析的 XML。

无论是使用 Perl 之类的脚本语言完成，还是直接从 Java 完成（可能使用 Eclipse），我都愿意接受建议。也许有人已经这样做了？

我需要 API 的 Javadoc 中可用的大部分数据，因此手动完成需要很长时间。我不是在寻找代码，我自己可以弄清楚，我只是在寻找一些关于这样做的想法，因为我确信有一个“简单”的方法，我不想浪费太多时间以一种方式做，后来发现我可以用另一种方式更快地做到这一点。

没关系，但我将使用 C# 读取 XML。

我知道这是一个有点奇怪的问题，但我不知道还能问哪里。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-22T05:56:04.130

给你：[Javadoc as XML](http://www.ibm.com/developerworks/xml/library/x-tipjdoc/index.html)

如果您安装了 JDK，完整的源代码，提取 Javadoc 可以在`<your JDK folder>\src.zip`

# java - 在播放框架 2.0 中将文件作为流上传

> ID：12066993
> 
> 赞同：17
> 
> 时间：2012-08-22T05:49:33.167
> 
> 标签：java, upload, stream, playframework-2.0

我正在编写一个允许用户上传文件的 play 2.0 java 应用程序。这些文件存储在我使用 Java 库访问的第三方服务中，我在此 API 中使用的方法具有以下签名：

```
void store(InputStream stream, String path, String contentType) 
```

我已经设法使用以下简单的控制器使上传工作：

```
public static Result uploadFile(String path) {
    MultipartFormData body = request().body().asMultipartFormData();
    FilePart filePart = body.getFile("files[]");
    InputStream is    = new FileInputStream(filePart.getFile())
    myApi.store(is,path,filePart.getContentType()); 
    return ok();
  } 
```

我担心这个解决方案效率不高，因为默认情况下，播放框架将客户端上传的所有数据存储在服务器上的临时文件中，然后在控制器中调用我的 uploadFile() 方法。

在传统的 servlet 应用程序中，我会编写一个这样的 servlet：

```
myApi.store(request.getInputStream(), ...) 
```

我一直在到处寻找，没有找到任何解决方案。我发现的最接近的例子是[为什么在 Play Framework 2.0 中调用错误或在 BodyParser 的 Iteratee 中完成请求挂起？](https://stackoverflow.com/questions/11468768/why-makes-calling-error-or-done-in-a-bodyparsers-iteratee-the-request-hang-in-p)但我没有找到如何修改它以满足我的需要。

play2 有没有办法实现这种行为，即让客户端上传的数据直接“通过”网络应用程序到另一个系统？

谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-22T12:29:04.750

我已经能够使用以下 Scala 控制器代码将数据流式传输到我的第三方 API：

```
def uploadFile() = 
    Action( parse.multipartFormData(myPartHandler) ) 
    {
      request => Ok("Done")
    }

def myPartHandler: BodyParsers.parse.Multipart.PartHandler[MultipartFormData.FilePart[Result]] = {
        parse.Multipart.handleFilePart {
          case parse.Multipart.FileInfo(partName, filename, contentType) =>
            //Still dirty: the path of the file is in the partName...
            String path = partName;

            //Set up the PipedOutputStream here, give the input stream to a worker thread
            val pos:PipedOutputStream = new PipedOutputStream();
            val pis:PipedInputStream  = new PipedInputStream(pos);
            val worker:UploadFileWorker = new UploadFileWorker(path,pis);
            worker.contentType = contentType.get;
            worker.start();

            //Read content to the POS
            Iteratee.fold[Array[Byte], PipedOutputStream](pos) { (os, data) =>
              os.write(data)
              os
            }.mapDone { os =>
              os.close()
              Ok("upload done")
            }
        }
   } 
```

UploadFileWorker 是一个非常简单的 Java 类，其中包含对第三方 API 的调用。

```
public class UploadFileWorker extends Thread {
String path;
PipedInputStream pis;

public String contentType = "";

public UploadFileWorker(String path, PipedInputStream pis) {
    super();
    this.path = path;
    this.pis = pis;
}

public void run() {
    try {
        myApi.store(pis, path, contentType);
        pis.close();
    } catch (Exception ex) {
        ex.printStackTrace();
        try {pis.close();} catch (Exception ex2) {}
    }
} 
```

}

它并不完全完美，因为我更愿意将路径恢复为 Action 的参数，但我无法这样做。因此，我添加了一段 javascript 来更新输入字段的名称（以及 partName），它就可以了。

# java - 在 Java 中共享数据和方法的正确方式

> ID：12066994
> 
> 赞同：0
> 
> 时间：2012-08-22T05:49:35.803
> 
> 标签：java, oop, class

所以我终于开始学习高效的编程（曾经使用一个类来做所有事情），而我正在制作的这个新游戏到目前为止有以下类：

*   游戏驱动
*   地图
*   堵塞
*   播放器

到目前为止，Map 创建了一个 Block 对象的 ArrayList，GameDriver 创建了一个 Map 对象和一个 Player 对象，现在这一切都运行得非常好。但是现在我遇到了一个问题。

我向 Player 添加了一个名为 checkLand() 的方法，GameDriver 调用该方法来检查玩家是否可以踩到某个位置，但是要让该方法能够检查它，它需要访问 GameDriver 正在使用的地图对象所以我尝试了这个：

```
public class Player(){
    GameDriver gameDriver = new GameDriver();
    ...more declarations    

    public boolean checkLand(int xCord, int yCord){
        if (gameDriver.map.world.get(gameDriver.map.getByCords(xCord,yCord)).type == 1) {
            return false;
        } else {
            return true;
        } 

    } 
```

但显然它不起作用，但我想向你们展示，以便你们了解我想要它做什么，我应该在 GameDriver 中使用 checkLand 方法吗？我想知道最好的方法：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T06:04:27.370

由于`Player`对象是由`GameDriver`对象创建的，因此您应该能够在您的类中访问该`Player`对象。`GameDriver`此外，您说该`Map`对象也在您的`GameDriver`类中创建，因此也可用。

您可以做的是在您的`Player`类中有一个方法，该方法将`Map`对象作为参数并执行您需要的逻辑。

这将允许您的`GameDriver`对象调用它拥有的对象 ( `Player`) 并将它也拥有的另一个对象( ) 传递给它`Map`。

# android - 使用 ksoap2 从 android 调用 Webservice webmethod

> ID：12066995
> 
> 赞同：-1
> 
> 时间：2012-08-22T05:49:46.660
> 
> 标签：android, eclipse, ksoap2

我正在尝试从`Android`使用中调用 webmethod，`ksoap2`然后错误是：

```
android.os.NetworkOnMainThreadException. 
```

在这种带有代码的 android.os.NetworkOnMainThreadException 的情况下，我如何使用 Service/InternetService

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T07:02:27.543

在较新版本的 android 中，它被限制在主线程/活动上使用网络操作以避免 ANR 并增强用户体验和应用程序响应能力。它在 2.3 之前都可以正常工作（不精确），但会在高级版本中引发异常。

所以建议在主线程之外使用网络或其他长操作。**对于这种情况，您可以使用 AsyncTask 或 Service/IntentService。**

希望这会有所帮助...如果您发现其中有一些好处，请升级...