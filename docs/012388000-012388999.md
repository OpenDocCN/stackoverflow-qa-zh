# StackOverflow 问答 12388000-12388999

# powershell - FolderItem.InvokeVerb("Delete") 没有确认

> ID：12388004
> 
> 赞同：4
> 
> 时间：2012-09-12T12:17:01.253
> 
> 标签：powershell

我正在尝试编写一个工具，该工具将自动存档服务器上的旧日志文件并从存档中删除太旧的文件。而且有问题。我需要使用 powershell 从 .ZIP 存档中删除单个文件，所以我这样做：

```
$testFile = "C:\test_logs\FirstEntry.zip"
$sh = New-Object -com shell.application
$zip = $sh.NameSpace($testFile)
$item = $zip.Items() | Select-Object -index 3
$item.InvokeVerb("Delete") 
```

但是当我尝试以这种方式删除文件时，我会收到确认窗口。是否可以在不确认的情况下使用 InvokeVerb(ex) 删除文件？或者任何其他方式用powershell做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T15:28:35.617

我发现的最简单的方法是：

```
$tmp_dir = $env:Temp + "\log_archivation_temp\"
$sh = New-Object -com shell.application
$tmp = $sh.NameSpace($tmp_dir)
$tmp.MoveHere($item.Path)
Remove-Item $tmp_dir 
```

所以我只是将旧文件从存档移动到临时文件夹，然后将其删除。

# android - Android Jquery Mobile 禁用白色输入框叠加。

> ID：12388005
> 
> 赞同：2
> 
> 时间：2012-09-12T12:17:09.587
> 
> 标签：android, eclipse, cordova, jquery-mobile, htcsense

我使用 Jquery Mobile 在 Phonegap 中开发了一个 ios 应用程序。它工作得很好。所以我决定把它变成一个 Android 应用程序，认为它不会那么困难，只是在这里和那里进行一些调整......

第一个教训，不是。在不得不升级到 Jquery Mobile 的 beta 版本并升级 Jquery 之后。我得到了文本输入'工作'我在这里描述的一个问题：

[在 Eclipse 中使用 Phonegap Android 开发的 HTML 表单输入](https://stackoverflow.com/questions/12371426/html-form-input-with-phonegap-android-development-in-eclipse)

但是现在当我点击一个文本输入框时，比如一个电子邮件字段，我会看到一个看起来像覆盖的白色文本框，甚至没有对齐。它似乎突出显示了我的输入字段，然后显示另一个没有样式的白色，我没有要求它。

我在用：

```
jquery/1.8.1/jquery.min.js
jquery.mobile-1.2.0-beta.1.min.js
jquery.mobile-1.2.0-beta.1.min.css

And cordova 2.0 
```

我在这里尝试了所有解决方案：

[禁用 Android 浏览器的输入覆盖？](https://stackoverflow.com/questions/9423101/disable-android-browsers-input-overlays)

但它们都不起作用。我正在使用 android HTC 工作。有没有其他人有这个问题？或者知道如何禁用 android 显示另一个白色输入框并使用我提供的那个。

任何帮助，将不胜感激。

# php - 使用 preg_replace 添加函数

> ID：12388006
> 
> 赞同：0
> 
> 时间：2012-09-12T12:17:11.190
> 
> 标签：php, regex

如何在 getTitleText() 函数中添加，以便锚文本使用正则表达式找到的 URL 显示页面标题？

```
function getTitleText($Url){
 $str = file_get_contents($Url);
   if(strlen($str)>0){
     preg_match("/\<title\>(.*)\<\/title\>/",$str,$title);
    return $title[1];
  }
}

$comment = preg_replace('/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/', '<a target="_blank" rel="nofollow" href="$0">$0</a>',$comment); 
```

# java - java中两个线程如何依次访问同一个对象的两个方法

> ID：12388012
> 
> 赞同：0
> 
> 时间：2012-09-12T12:17:29.113
> 
> 标签：java, multithreading, synchronization

> **可能重复：**
> [每次都尝试以特定顺序循环 3 个线程](https://stackoverflow.com/questions/5447448/trying-to-loop-3-threads-in-a-specific-order-everytime)

我想一个接一个地从两个线程访问同一对象的两个不同方法。这是我的代码，

```
public class ThreadCoordination
{
private Thread threadSayHello;
private Thread threadSayWorld;
private boolean threadSayWorldStarted = false;

public ThreadCoordination()
{
    createThreads();
}

private void createThreads()
{
    threadSayWorld = new Thread(new Runnable()
    {
        public void run()
        {
            try
            {
                // while (true)
                {
                    sayWorld();
                }
            }
            catch (InterruptedException ex)
            {}
        }
    });

    threadSayHello = new Thread(new Runnable()
    {
        public void run()
        {
            try
            {
                // while (true)
                {
                    sayHello();

                    if (!threadSayWorldStarted)
                    {
                        threadSayWorldStarted = true;
                        threadSayWorld.start();
                    }
                }
            }
            catch (InterruptedException ex)
            {}
        }
    });

    threadSayHello.start();
}

private synchronized void sayHello() throws InterruptedException
{
    System.out.print("Hello ");
}

private synchronized void sayWorld() throws InterruptedException
{
    System.out.println("World!");
}

public static void main(String[] args)
{
    new ThreadCoordination();
}
} 
```

如果我取消注释调用 while(true)，那么我会期待这样的输出，

```
Hello World!
Hello World!
Hello World!
Hello World!
... 
```

请指导我该怎么做。拉贾。

我不知道我是否可以编辑已关闭的帖子。据我所知，我只想发布解决方案。

```
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.ReentrantLock;

public class SequenceAccess
{
private ReentrantLock myLock;
private Condition ensureSequence;
private int sequenceNo = 1;

public SequenceAccess()
{
    myLock = new ReentrantLock();
    ensureSequence = myLock.newCondition();

    startThreads();
}

private void startThreads()
{
    new Thread(new Runnable()
    {
        public void run()
        {
            try
            {
                while (true)
                    method1();
            }
            catch (InterruptedException ex)
            {}
        }
    }).start();

    new Thread(new Runnable()
    {
        public void run()
        {
            try
            {
                while (true)
                    method2();
            }
            catch (InterruptedException ex)
            {}
        }
    }).start();

    new Thread(new Runnable()
    {
        public void run()
        {
            try
            {
                while (true)
                    method3();
            }
            catch (InterruptedException ex)
            {}
        }
    }).start();
}

private void method1() throws InterruptedException
{
    myLock.lock();
    try
    {
        while (sequenceNo != 1)
            ensureSequence.await();

        sequenceNo = 2;
        System.out.println("Method 1");
        ensureSequence.signalAll();
    }
    finally
    {
        myLock.unlock();
    }
}

private void method2() throws InterruptedException
{
    myLock.lock();
    try
    {
        while (sequenceNo != 2)
            ensureSequence.await();

        sequenceNo = 3;
        System.out.println("Method 2");
        ensureSequence.signalAll();
    }
    finally
    {
        myLock.unlock();
    }
}

private void method3() throws InterruptedException
{
    myLock.lock();
    try
    {
        while (sequenceNo != 3)
            ensureSequence.await();

        sequenceNo = 1;
        System.out.println("Method 3");
        ensureSequence.signalAll();
    }
    finally
    {
        myLock.unlock();
    }
}

public static void main(String[] args)
{
    new SequenceAccess();
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:40:09.593

JVM*不保证线程执行的顺序*

事实上，JVM 规范可以完全通过运行 hello 线程直到它终止，然后运行 ​​world 线程直到它终止（使用你的程序编写）

您将需要引入某种令牌以在两个线程之间共享，然后让该令牌来回穿梭。

令牌可以像布尔值一样简单，如果已经输出 hello，则为 true，如果已输出 world，则为 false。

然后每个线程将不得不旋转（或等待条件 - 条件更好的性能），直到布尔值匹配其预期状态。

我建议您阅读最优秀的“Java 并发实践”一书

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:40:08.423

该任务确实有点奇怪，因为这本质上是一个单线程任务。不过，我知道应用程序可能会变得非常复杂，并且需要许多奇怪的东西，而且还有多个线程。

您可以创建两个任何类型的私有对象，例如`Object`用作“事件”。每个线程的循环应该`wait()`针对其中一个事件对象，然后执行其任务（打印字符串），然后是`notify()`另一个事件对象，然后重复循环`wait()`。另一个线程应该做同样的事情，但交换了事件对象。

启动两个线程，然后启动`notify()`第一个事件对象。行动开始！

# kinect - 比较 Kinect 中的 2 个骨骼

> ID：12388014
> 
> 赞同：1
> 
> 时间：2012-09-12T12:17:33.813
> 
> 标签：kinect

> **可能重复：**
> [使用 Kinect 将保存的动作与其他动作进行比较](https://stackoverflow.com/questions/11438813/comparing-a-saved-movement-with-other-movement-with-kinect)

我想创建像 Dance Central 这样的简单游戏，它可以捕捉玩家的骨骼并验证其手势的准确性。我如何通过将其与我的骨架数据（之前捕获的）进行比较来检查他们的骨架。请给我解释:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T15:14:27.873

你想比较它的哪些部分？您可能想要使用[`BoneOrientation`](http://msdn.microsoft.com/en-us/library/microsoft.kinect.boneorientation.aspx)来获取骨骼的角度。还有[`Skeleton`](http://msdn.microsoft.com/en-us/library/microsoft.kinect.skeleton_members.aspx)一些您可能想要查看的标识符。您还可以比较个体的位置[`Joints`](http://msdn.microsoft.com/en-us/library/microsoft.kinect.joint.aspx)以找到骨骼长度。另外[是否可以保存用户的骨骼和面部数据以用于识别目的？](https://stackoverflow.com/questions/11210461/is-it-possible-to-save-a-users-skeleton-and-facial-data-for-recognition-purpose)也可能有帮助。

您可能想查看[骨骼跟踪页面](http://msdn.microsoft.com/en-us/library/hh973074.aspx)，因为它为您的问题提供了一些非常好的细节。

# c - 如何使用 Visual Studio 在 C 中创建 DLL？

> ID：12388016
> 
> 赞同：6
> 
> 时间：2012-09-12T12:17:36.650
> 
> 标签：c, visual-studio, dll

对于用 C 编写的程序，如何使用 Visual Studio 在 C 中创建 DLL？

如果有人可以发布任何直接或论坛页面链接，我将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:34:55.887

以下是一些可以帮助您入门的资源：[CodeGuru](http://www.codeguru.com/cpp/cpp/cpp_mfc/tutorials/article.php/c9855/DLL-Tutorial-For-Beginners.htm)、[MSDN](http://msdn.microsoft.com/en-us/library/ms235636.aspx)。享受。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-01T10:12:12.830

我希望您会发现Microsoft 网站上的[这些信息很有趣。](https://msdn.microsoft.com/en-us/library/1ez7dh12.aspx)

它解释了如何[创建和使用 dll](https://msdn.microsoft.com/en-us/library/ms235636.aspx)。最重要的是创建一个**新项目**，然后选择一个**Win32 控制台应用程序**。之后，在**应用程序设置**页面的应用程序类型下，您必须选择**DLL**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T12:20:23.667

创建新项目时，在向导开始时选择 DLL 项目类型。

# python - python中的间隔

> ID：12388017
> 
> 赞同：1
> 
> 时间：2012-09-12T12:17:37.900
> 
> 标签：python, list, datetime, intervals

我已经对 datetime.time 列表进行了排序，并希望创建类似的间隔。如果我有

```
a = [datetime.time(0,0), datetime.time(8,0), datetime.time(13,0), datetime.time(17,0)] 
```

那么结果应该是这样的：

```
c = [[datetime.time(0,0),datetime.time(8,0)], [datetime.time(8,0),datetime.time(13,0)],
[datetime.time(13,0),datetime.time(17,0)], [datetime.time(17,0),datetime.time(0,0)]] 
```

这可以使用简单的循环来实现，但是否存在更好的解决方案？

**使用循环：**

```
>>> a=[datetime.time(0, 0), datetime.time(3, 0), datetime.time(8, 0), datetime.time(11, 0)]
>>> 
>>> r = []
>>> 
>>> for i in range(0,len(a)):
...     if i+1 < len(a):
...         r.append([a[i],a[i+1]])
...     else:
...         r.append([a[i],a[0]])
... 
>>> r
[[datetime.time(0, 0), datetime.time(3, 0)], [datetime.time(3, 0), datetime.time(8, 0)], [datetime.time(8, 0), datetime.time(11, 0)], [datetime.time(11, 0), datetime.time(0, 0)]]
>>> 
```

如果我想要结果是什么可以改变

```
[[datetime.time(0, 0), datetime.time(2, 59, 59)], [datetime.time(3, 0), datetime.time(7, 59, 59)], [datetime.time(8, 0), datetime.time(10, 59, 59)], [datetime.time(11, 0), datetime.time(23, 59, 59)]] 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T12:20:42.683

你可以试试

```
a = list(zip(a[:-1], a[1:]))
a.append((a[-1], a[0])]) 
```

这给了你一个元组列表。如果你想要一个列表列表，只需执行

```
>>> a = [list(i) for i in zip(a[:-1], a[1:])]
>>> a.append([a[-1], a[0]]) 
```

（*编辑版本采用 1.`[a[-1],a[0]]`超出列表理解和 2\. zip 在 Python 3+ 中不返回列表的事实*）

另一种可能性是将第一个值附加到列表中：

```
>>> tmp = a + a[0]
>>> list(zip(tmp[:,-1], tmp[1:])) 
```

可以说它创建了一个临时列表。您可以`a.append(a[0])`改为执行此操作，但随后您会修改您的初始列表，这可能是一个问题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-12T12:55:35.977

为了创建这样的范围，我可能会尝试使用生成器：

```
def make_ranges(lst):
    max_idx = len(lst) - 1
    for i,item in enumerate(lst):
        yield [item, lst[i+1 if i != max_idx else 0] ] 
```

您可以使用关键字参数来判断`make_ranges`是否是周期性的，如果是周期性的，是否在开头或结尾包含环绕。

然后你可以让你的范围：

```
a = [1,2,3,4,5,6,7,8]
b = list(make_ranges(a))
print(b == [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,1]]) #True 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-12T13:30:14.620

还有一个选项¹作为单线：但使用了一个**非常非 Python 的表达式**（恕我直言），这样您就不必在单独的步骤中附加最后一对和第一对：

```
>>> [list(i) for i in zip(a, a[1:]+[a[0]])]
[[datetime.time(0, 0), datetime.time(8, 0)],
 [datetime.time(8, 0), datetime.time(13, 0)],
 [datetime.time(13, 0), datetime.time(17, 0)],
 [datetime.time(17, 0), datetime.time(0, 0)]] 
```

^(一种受上述 Pierre -) [GM 解决方案启发的](https://stackoverflow.com/a/12388054/1431750)`zip`方法。

仅供参考，**我更喜欢[我最初的答案](https://stackoverflow.com/a/12388105/1431750)或皮埃尔的**答案。

* * *

编辑/更新问题的第二部分：也可以在一个表达式中执行 timedeltas（但我认为没有充分的理由为什么不应该将其**拆分为不同的语句**......）：

```
>>> [[i, (datetime.datetime(101, 1, 1, j.hour, j.minute, j.second) -
...       datetime.timedelta(seconds=1)
...      ).time()
...  ] for i,j in zip(a, a[1:]+[a[0]])
... ]
[[datetime.time(0, 0), datetime.time(7, 59, 59)],
 [datetime.time(8, 0), datetime.time(12, 59, 59)],
 [datetime.time(13, 0), datetime.time(16, 59, 59)],
 [datetime.time(17, 0), datetime.time(23, 59, 59)]] 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-12T12:24:20.363

如果不是“简单循环”，列表理解怎么样？像：

```
>>> b = [[a[x], a[x+1]] for x in range(0, len(a)-1)] + [[a[-1], a[0]]]
>>> b
[[datetime.time(0, 0), datetime.time(8, 0)],
 [datetime.time(8, 0), datetime.time(13, 0)],
 [datetime.time(13, 0), datetime.time(17, 0)],
 [datetime.time(17, 0), datetime.time(0, 0)]] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-01-11T04:19:46.983

您可以使用**more_itertools**库，它是围绕 python 标准库**itertools**的配方代码。如果要在迭代时处理元素：

```
import more_itertools as more
rv = [(x, y) for (x, y) in more.pairwise(a)] 
```

或者简单地说：

```
rv = list(more.pairwise(a)) 
```

同样如前所述，是一个答案， zip 也是一个不错的选择：

```
rv = list(zip(a[:-1], a[1:])) 
```

# c# - 在属性和复杂对象上具有动态 OrderBy 的 LINQ 查询

> ID：12388021
> 
> 赞同：0
> 
> 时间：2012-09-12T12:18:00.303
> 
> 标签：c#, .net, c#-4.0, lambda

使用下面的代码，我没有任何问题可以排序`FirstName`，但我也`LastName` 希望能够排序。是否有对属性进行排序的解决方案，并且该属性是“复杂对象”而不是原始对象？`Name``Code`

谢谢，

我的对象：

```
public class Person
{
    public Language Language { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
}

public class Language
{
    public string Name { get; set; }
    public string Code { get; set; }
} 
```

我有这段代码要排序：

```
var type = typeof(T);
var property = type.GetProperty("OrderBy");
var parameter = Expression.Parameter(type, "p");
var propertyAccess = Expression.MakeMemberAccess(parameter, property);
var orderByExp = Expression.Lambda(propertyAccess, parameter);
MethodCallExpression resultExp = 
    Expression.Call(typeof(Queryable), 
    "OrderBy",
    new Type[] { type, property.PropertyType }, 
    source.Expression, 
    Expression.Quote(orderByExp));
return source.Provider.CreateQuery<T>(resultExp); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:34:36.770

> 是否有对属性进行排序的解决方案，并且该属性是“复杂对象”而不是原始对象？

当然 - 你必须基本上创建一个表达式树，相当于：

```
data.OrderBy(p => p.Language.Name) 
```

这基本上是两个属性访问表达式，其中一个的“来源”是另一个的“结果”。因此，您需要获取您的属性字符串（例如“Language.Name”），将其拆分为多个部分，然后遍历各个位，将当前表达式作为目标。就像是：

```
Expression parameter = Expression.Parameter(type, "p");
Expression target = parameter;
foreach (string property in propertyParts)
{
    target = Expression.Property(target, property);
}
var orderByExp = Expression.Lambda(target, parameter); 
```

# wordpress - WordPress 等 Joomla 模板的正文类跟踪

> ID：12388024
> 
> 赞同：0
> 
> 时间：2012-09-12T12:18:08.893
> 
> 标签：wordpress, templates, joomla

如何以类的形式将页面的所有相关标签跟踪到`<body>`标签？我指的是 Wordpress 如何将以下内容放入页面的 body 类属性中：

`home page page-id-12766 page-template page-template-page-home-php cufon2-disabled safari theme-*`

这对 Joomla 模板开发非常有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:22:05.860

我不知道是否存在任何开箱即用的解决方案。由于该站点的主要结构主要基于菜单结构，因此以下代码段可能有用。这在模板/mytemplate/index.php 文件中使用。

```
<?php
    $menu = &JSite::getMenu();
    $active = $menu->getActive();
    $pageclass= '' ;
    //$currentpage = '';  //In case if wanted to get the alias of the current page in a later stage.
    if( count($active->tree) > 0 ) {
        foreach ($active->tree as $key => $value) {
            $pageclass .= 'level-'.$key . ' pageid-'.$value. ' page-'.$menu->getItem($value)->alias ;
            //$currentpage = $menu->getItem($value)->alias;
        }
    }
?>
<body class="<?php echo $pageclass; ?>"> 
```

这将输出如下内容：

```
<body class="level-0 pageid-101 page-home"> 
```

您可以使用变量中可用的各种值来改进这一点`$active`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T14:22:49.323

这是有关[Body Class 功能的一些信息](https://codex.wordpress.org/Function_Reference/body_class)

[在post-template.php](http://core.trac.wordpress.org/browser/tags/3.4.2/wp-includes/post-template.php#L0)中可以找到 Wordpress 如何使用它来确定应用哪些类

您正在寻找的相关功能是此模板中的 get_body_class。它本质上运行一系列检查以确定当前页面是否符合给定类的标准。它还严重依赖于帮助做出决定的 Wordpress 特定函数调用。

# apache - Apache2：受密码保护的目录 - 网站无法连接到自己的服务器

> ID：12388031
> 
> 赞同：0
> 
> 时间：2012-09-12T12:18:59.987
> 
> 标签：apache, .htaccess, password-protection, .htpasswd

我已经使用密码 (.htaccess + .htpasswd) 保护了我的网站所在的目录。保护就像一个魅力。但是，有一个问题。在同一个域上，我设置了 SOLR 服务器，并且我的网站使用远程连接从中检索数据（即 PHP 的 file_get_contents）。不幸的是，这不起作用，因为它也受密码保护。

我该怎么做才能让我的服务器在没有 HTTP 身份验证的情况下连接到自身？可能吗？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:33:42.903

添加行

```
Allow from 192.168.0.1/24 
```

到 Auth 定义。之后`Require valid-user`是个好地方。如有必要，更改 ip 号。

# c++ - 非重叠串行端口连接是否会在读取期间阻止写入（反之亦然）？

> ID：12388035
> 
> 赞同：2
> 
> 时间：2012-09-12T12:19:10.007
> 
> 标签：c++, serial-port

使用 CreateFile（在 Windows 平台上的 C++ 中）打开串行端口连接时，您可以选择将其打开为重叠或非重叠。

如果作为非重叠 ReadFile 打开，或者 WriteFile 调用被阻塞，即它在准备好之前不会返回。

我的问题是这些函数调用在单独的线程中执行时是否会相互阻塞。如果一个线程执行 ReadFile，那么另一个线程是否能够在所有读取完成之前执行 WriteFile？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-02T23:03:29.560

是的，他们有。来自 MSDN：

“如果一个线程在等待其 I/O 操作完成时被阻塞，则随后调用通信 API 的所有其他线程将被阻塞，直到原始操作完成。例如，如果一个线程正在等待 ReadFile 函数返回，则任何其他发出 WriteFile 函数的线程将被阻塞。”

（[http://msdn.microsoft.com/en-us/library/ff802693.aspx#serial_topic4](http://msdn.microsoft.com/en-us/library/ff802693.aspx#serial_topic4)）

# php - kCFURLErrorBadURL：如何解决？

> ID：12388036
> 
> 赞同：0
> 
> 时间：2012-09-12T12:19:15.223
> 
> 标签：php, iphone, url, cfnetwork

我正在构建一个`web service`基于 PHP 的语言。`Browser shows the exact data.`但是，当我尝试从我的 iPhone 应用程序获取数据时，会显示以下错误

*   kCFURLErrorBadURL = -1000

如何从服务器端（PHP）解决问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:03:33.623

浏览器可能会为 URL 带来更正，而连接类要么不这样做，要么不进行相同的更正。

URL 必须符合[RFC 1738](http://www.ietf.org/rfc/rfc1738.txt)，检查您正在使用的 URL 并进行必要的更正（最好在服务器端）。

# javascript - 从 Instagram 图像源中删除链接

> ID：12388044
> 
> 赞同：0
> 
> 时间：2012-09-12T12:19:45.617
> 
> 标签：javascript, instagram

我正在使用一些 JavaScript 来提取我的 Instagram 提要，但我想删除将它们带到 Instagram 页面的每个图像的链接。我尝试了一些尝试，但最终打破了它，有人知道我应该删除什么吗？

```
 embedImage = function(photo) {
var a, img;
img = $('<img/>').attr({
  //'src': photo.images.thumbnail.url,
  //'width': photo.images.thumbnail.width,
  //'height': photo.images.thumbnail.height
  'src': photo.images.standard_resolution.url,
  'width': photo.images.standard_resolution.width,
  'height': photo.images.standard_resolution.height
});
a = $('<a />').attr({
  'href': photo.images.standard_resolution.url,
  'target': '_blank',
  'class': 'pull-left'
}).append(img).appendTo(tag_name);
 };

onPhotoLoaded = function(data) {
var photo, _i, _len, _ref, _results;
if (data.meta.code === 200 && data.data) {
  _ref = data.data;
  _results = [];
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    photo = _ref[_i];
    _results.push(embedImage(photo));
  }
  return _results;
}
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:22:56.357

删除`a`创建的标签上除类之外的所有属性。

# java - Spring batch: Writing column names as first line in flat file

> ID：12388046
> 
> 赞同：10
> 
> 时间：2012-09-12T12:19:59.890
> 
> 标签：java, spring-batch, spring-batch-admin

I want to create a flat file which has the below format:

```
Col1Name;Col2Name;Col3Name
one;23;20120912
two;28;20120712 
```

As seen, the first line in the flat file are the column names.

How to achieve this through header callback ?

I see that if the input file is of above format, there is an option as below to ignore first line:

```
<property name="firstLineIsHeader" value="true"/> 
```

Also, this [Jira Issue](https://jira.springsource.org/browse/BATCH-211) indicates that what I want is implemeted and closed. However, I am unable to find any example for writing first line as column names.

```
<beans:bean id="MyFileItemWriter" class="com.nik.MyFileItemWriter" scope="step">
    <beans:property name="delegate">
        <beans:bean class="org.springframework.batch.item.file.FlatFileItemWriter">
            <beans:property name="resource" value="file:MYFILE.dat" /> 

            <beans:property name="lineAggregator">
                <beans:bean class="org.springframework.batch.item.file.transform.DelimitedLineAggregator">
                    <beans:property name="delimiter" value=";" />
                    <beans:property name="fieldExtractor">
                        <beans:bean class="org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor">
                            <beans:property name="names" value="Col1Name, Col2Name, Col3Name" />
                        </beans:bean>
                    </beans:property>
                </beans:bean>
            </beans:property>
            <beans:property name="headerCallback" ref="MyFileItemWriter" />
        </beans:bean>
    </beans:property>
</beans:bean> 
```

My Item Writer looks as below:

```
public class MyFileItemWriter implements ItemWriter<MyBean>, FlatFileHeaderCallback, ItemStream{

private FlatFileItemWriter<MyBean> delegate;    

 public void setDelegate(final FlatFileItemWriter<MyBean> delegate) {
        this.delegate = delegate;
    }

public void writeHeader(Writer writer) throws IOException {

}

public void write(List<? extends MyBean> items) throws Exception {
    this.delegate.write(items);

}

public void close() throws ItemStreamException {
     this.delegate.close();

}

public void open(ExecutionContext arg0) throws ItemStreamException {
     this.delegate.open(arg0);

}

public void update(ExecutionContext arg0) throws ItemStreamException {
     this.delegate.update(arg0);        
}

} 
```

Thanks for reading!

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-05-29T21:01:01.233

create a custom class which extends the FlatFileItemWriter and implements just the constructor:

```
public class MyFlatFileWriter extends FlatFileItemWriter {

    public MyFlatFileWriter (){
        super.setHeaderCallback(new FlatFileHeaderCallback() {

            public void writeHeader(Writer writer) throws IOException {
                writer.write("Col1Name,Col2Name,Col3Name");

            }
        });
    } 
```

and then use this class in the bean configuration class attribute

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T22:12:10.533

well did you try to work with

```
 public void writeHeader(Writer writer) throws IOException {
      //... e.g. writer.write("my first line");

  } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-28T15:01:18.163

FlatFileItemWriter gives you option to add a header callback

> headerCallback will be called before writing the first item to file.

So you need to Implement your Header Callback by implementing [FlatFileHeaderCallback](http://docs.spring.io/spring-batch/2.2.x/apidocs/org/springframework/batch/item/file/FlatFileHeaderCallback.html)

Or [Use Default Implementation](http://docs.spring.io/spring-batch/2.2.x/apidocs/org/springframework/batch/sample/support/HeaderCopyCallback.html)

# android - Android GCM注册推出不同的服务

> ID：12388051
> 
> 赞同：0
> 
> 时间：2012-09-12T12:20:28.560
> 
> 标签：android, google-cloud-messaging

尝试在 Android 上从 C2DM 迁移到 GCM 服务。

面临一个问题。发送注册意图时，我启动了以下服务：

*   在版本。2.3.5 - 'Could to Device Messaging' 和 'Google Messaging Service'
*   在版本。4.0.4 - '谷歌消息服务'
*   在版本。2.3.3 -“云到设备消息”和“谷歌消息服务”

> 使用真实设备

尝试使用以下代码：

```
 Intent registrationIntent = new Intent(
            "com.google.android.c2dm.intent.REGISTER");
    registrationIntent.putExtra("app",
            PendingIntent.getBroadcast(context, 0, new Intent(), 0));
    registrationIntent.putExtra("sender", SENDER_ID_NUMBER);
    this.context.startService(registrationIntent); 
```

和

```
 GCMRegistrar.checkDevice(context);
    GCMRegistrar.checkManifest(context);
    final String regId = GCMRegistrar.getRegistrationId(context);
    if (regId.equals("")) {
      GCMRegistrar.register(this.context, SENDER_ID_NUMBER);
    } else {
      Log.v("gcm_registration", "Already registered");
    } 
```

**编辑：** 设置本地服务器并使用 Google gcm 的模拟后，我发现：

*   在版本。2.3.5 - 我没有收到 gcm 消息
*   在版本。4.0.4 - 我收到 gcm 消息
*   在版本。2.3.3 - 我收到 gcm 消息

**EDIT2：** 经过更多测试后，我发现以下内容：正如我上面描述的关于哪个版本的Android OS运行哪个服务，所以如果我重新启动手机并打开网络，这些服务就会启动现在，如果我关闭所有（停止）手机上的谷歌服务并发送注册意图：`com.google.android.c2dm.intent.REGISTER`，然后：

*   在版本。2.3.5 - 'Could to Device Messaging' 启动
*   在版本。4.0.4 - “谷歌消息服务”已启动
*   在版本。2.3.3 - “云到设备消息”已启动

这使得无法向那些启动“云到设备消息传递”的设备发送通知。

*问题：*

这是否意味着我的应用程序必须同时支持 C2DM 和 GCM？

简而言之，为什么会发生这种情况以及如何避免这种行为？

为什么 Google Services 会针对 GCM 注册意图推出不同的服务？

# c# - 根据特定条件从数据表中删除记录 C#

> ID：12388053
> 
> 赞同：0
> 
> 时间：2012-09-12T12:20:38.800
> 
> 标签：c#, asp.net, linq

我有一个`DataTable`（dtProperty）包含以下列：

> 1.  属性 ID，
> 2.  项目清单
> 3.  房间号，
> 4.  费率标识，
> 5.  房间序列

我有 2 个变量 RoomCount 和 PID，它们的值对于 PropertyId、RoomId、RateId 的特定组合是已知的，Roomsequence 的所有值都应该小于等于 RoomCount。

> 如果 RoomCount 的值为 3 且 PID=10212，那么对于 PropertyId、RoomId、RateId ::10212,2010,3101（在我们的示例中）的特定值，RoomSequence 的值应为 1、2、3。

如果 PropertyId、RoomId、RateId 的任何特定组合不满足标准，那么我们

应该丢弃数据表中的行。

在下表中，我们将只保留前 3 行和后 3 行

```
PropertyId  RoomID  RateID   RoomSequence
10212       2010    3101     1
10212       2010    3101     2
10212       2010    3101     3
10212       2011    3100     3
10212       2012    3101     1
10212       2012    3101     2
10212       2014    3101     1
10212       2014    3101     2
10212       2014    3101     3 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:33:03.093

```
 var filteredTable = (from row in dtRoom.AsEnumerable()
      where row.Field<int>("RoomSequence") <=
      GetRoomCount(row.Field<int>("PropertyId"), 
                   row.Field<int>("RoomId"), 
                   row.Field<int>("RateID"))
    select row); //ToDataTable() 
```

这应该会根据您的房间顺序过滤器为您提供一个包含数据的新数据表。当然，您应该根据 3 个值
从方法内部返回 RoomCount 。`GetRoomCount`

# iphone - UIAccelerometer距离计算

> ID：12388056
> 
> 赞同：0
> 
> 时间：2012-09-12T12:20:48.393
> 
> 标签：iphone, uiaccelerometer

我使用以下代码计算设备从一个地方移动到另一个地方的距离。是否正确请看我的代码。

```
-(void)accelerometer:(UIAccelerometer *)accelerometer didAccelerate:(UIAcceleration *)acceleration
{
    NSDate *now = [NSDate date];
    NSTimeInterval intervalDate = [now timeIntervalSinceDate:now_prev];

    sx = acceleration.x * kFilteringFactor + sx * (1.0 - kFilteringFactor);
    sy = acceleration.y * kFilteringFactor + sy * (1.0 - kFilteringFactor);
    sz = acceleration.z * kFilteringFactor + sz * (1.0 - kFilteringFactor);

    [xLabel setText:[NSString stringWithFormat:@"%.2f",sx]];
    [yLabel setText:[NSString stringWithFormat:@"%.2f",sy]];
    [zLabel setText:[NSString stringWithFormat:@"%.2f",sz]];

    float aValue = sqrtf(sx*sx+sy*sy+sz*sz);
    [gLabel setText:[NSString stringWithFormat:@"%.2f g",aValue]];

    velX += (sx * intervalDate);
    distX += (velX * intervalDate);

    velY += (sy * intervalDate);
    distY += (velY * intervalDate);

    velZ += (sz * intervalDate);
    distZ += (velZ * intervalDate);

    float distance = sqrtf(distX*distX+distY*distY+distZ*distZ);
    [distanceLabel setText:[NSString stringWithFormat:@"%.2f",distance*0.0006213f]];

    now_prev = [now retain];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:50:05.383

尝试与加速器数据保持距离会非常低效的原因有很多。为了跟踪您的初始位置，您需要不断地将所有加速度值集成到一个向量中，并且最好以非常高的采样率（计算中的大间隙会导致不准确）

该方法本身并不难弄清楚（或谷歌）； [这个问题解释了如何为这种集成方法做数学和伪代码](https://stackoverflow.com/questions/4329164/how-to-calculate-distance-based-on-phone-acceleration)

# hibernate - 何时使用 Criteria 以及何时在 hibernate 中使用“Where”子句查询？

> ID：12388058
> 
> 赞同：2
> 
> 时间：2012-09-12T12:20:49.813
> 
> 标签：hibernate

何时使用 Criteria 以及何时使用 hibernate 中的“Where”子句查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:36:35.277

对于静态查询，我发现 HQL 查询比标准查询更具可读性（和简洁）。

我看到条件查询的两个原因：

1.  查询不是静态的，而是动态创建的。假设您有一个包含许多搜索条件的搜索表单，其中许多是可选的。您需要根据各种搜索参数的存在和值动态创建查询。这就是条件查询可以帮助您的地方。
2.  您有几个复杂的静态查询，它们都共享公共部分。在这种情况下，与其在每个静态查询中复制这些公共部分，不如使用条件查询，并考虑在方法中添加公共部分。

# c++ - 使用 cmake 选择性地构建 gtest 测试并显示 gtest 输出

> ID：12388062
> 
> 赞同：2
> 
> 时间：2012-09-12T12:21:06.310
> 
> 标签：c++, unit-testing, cmake, build-automation, googletest

我已经让 cmake 使用类似于“[如何开始使用 GTest 和 CMake](https://stackoverflow.com/questions/8507723/how-to-start-working-with-gtest-and-cmake) ”的测试文件，但问题是 gtest 和测试二进制文件在我每次制作时都会构建，而不仅仅是在我运行 make test 时构建。并且在运行 make test 时，只显示 ctest 摘要输出，而不是实际的 gtest 输出。如何更改此行为，以便仅在运行 make test 时构建测试和 gtest 库，并且运行 make test 实际上显示正确的输出？

# php - Linux 文件权限和 file_exists 谜题

> ID：12388063
> 
> 赞同：0
> 
> 时间：2012-09-12T12:21:17.270
> 
> 标签：php, file-upload, permissions

我的项目下有以下文件结构

```
upload-cv
  -> cvs
    -> {date}
      -> {token}{filename} 
```

这些文件夹的权限如下：

```
drwxr-xr-x gjm psaserv upload-your-cv/
drwxrwxrwx gjm psaserv cvs

drwxrwxrwx 2 apache apache 2012-07-01
-rw-r--r-- 1 apache apache e63b64d3e222af1ec0d18f51c9f378f0SURINDER SINGH (2).doc 
```

`apache`用户是`psaserv`组的成员。

问题是当我使用`file_exists`函数检查 PHP 时，如果文件*e63b64d3e222af1ec0d18f51c9f378f0SURIINDER SINGH (2).doc*存在，它返回 FALSE。如果我将该文件的所有者更改为`gjm:psaserv`它，则返回 TRUE。

任何想法可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:46:31.067

如果您的服务器使用 group 运行`psaserv`，则您的“htdocs”应该获得该组。它也应该可以工作，让用户 as`apache`和组 as `psaserv`。

# php - 有一个参数数组，按顺序将它们替换为 %s

> ID：12388065
> 
> 赞同：0
> 
> 时间：2012-09-12T12:21:18.130
> 
> 标签：php

我有一个像这样的静态类。

```
<?php

class Language
{
    public static $language = array();
    var $config;

    function __construct($config)
    {
        switch(strtoupper($config['LANGUAGE']))
        {
            case 'ENGLISH':
                self::setEnglish();
                break;

            case 'TURKISH':
                self::setTurkish();
                break;

            default:
                self::setEnglish();
        }
    }

    public static function setEnglish()
    {
        self::$language = array(

                'CHAIN_VALIDATOR_INITIALIZED' => 'ChainValidator initialized!',
                'ERROR_FUNCTION_RETURNED_FALSE' => 'A function returned false.',
            );
    }

    public static function setTurkish()
    {
        self::$language = array(

                'CHAIN_VALIDATOR_INITIALIZED' => 'ChainValidator çalışıyor!',
                'ERROR_FUNCTION_RETURNED_FALSE' => 'Bir fonksiyon false döndürdü.',
            );
    }

    public static function getLanguage($key)
    {
        return isset(self::$language[$key]) ? self::$language[$key] : $key;
    }
}

?> 
```

它被这样使用，

```
Language::getLanguage('CHAIN_VALIDATOR_INITIALIZED') 
```

但我必须传递更多参数。与此类似，

```
Language::getLanguage('CHAIN_VALIDATOR_INITIALIZED', array(__FUNCTION__)) 
```

这些参数应该按顺序传递，例如 %s。最终外观应如下所示：

```
 "A function returned false" to;
 "%s function returned false"

 And output would be;
 "myLovelyFunction() returned false" (the first array parameter, which is __FUNCTION__) 
```

听起来像是小菜一碟，我的大脑停止了 atm。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:31:46.420

您可以为此使用[call_user_func_array](http://docs.php.net/call_user_func_array)和[sprintf](http://docs.php.net/sprintf)，例如

```
<?php
foo();

function foo() {
    $text = format('CHAIN_VALIDATOR_INITIALIZED', array(__FUNCTION__, __LINE__));
    echo $text;
}

function format($key, $params) {
    $format = '%s@%s: function returned false'; // =getLanguage($key)
    array_unshift($params, $format);
    return call_user_func_array('sprintf', $params);
} 
```

印刷

```
foo@5: function returned false 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:26:51.253

也许我误解了这个问题，但我认为[vsprintf](http://php.net/vsprintf)正是你想要的。它基本上是一个接受参数作为数组的 sprintf。

```
$string = "%s %s blabla";
$params = array('foo', 'bar');

$output = vsprintf($string, $params); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:29:23.240

更改我的 getLanguage 函数解决了它。如果有人需要，这里是解决方案。

```
public static function getLanguage($key, $parameters = null)
{
    $string = self::$language[$key];

    if(is_array($parameters))
    {
        foreach ($parameters as $k => $v)
        {
            $string = str_ireplace('%s', $v, $string);
        }
    }

    return $string;
} 
```

# c#-4.0 - Ninject：将接口与也是接口的泛型绑定

> ID：12388066
> 
> 赞同：2
> 
> 时间：2012-09-12T12:21:22.293
> 
> 标签：c#-4.0, generics, interface, ninject-2

我已经搜索过这个问题，但没有运气。开始了。

假设我有一个接口：

```
interface IQueryRepository<T> where T : class 
```

我想绑定任何请求：

```
IQueryRepository<IClient> 
```

到：

```
ConcreteQueryRepository<Client> 
```

我已经尝试了明显的：

```
Bind<IGenericQueryRepository<IClient>>().To<ConcreteQueryRepository<Client>>() 
```

但我收到一个错误：

> `ConcreteQueryRepository<Client>`不能在泛型类型或方法“ `Ninject.Syntax.IBindingToSyntax<T>.To<TImplementation>()`”中用作类型参数“TImplementation”没有从“ `ConcreteQueryRepository<Client>`”到“ `IGenericQueryRepository<IClient>`”的隐式引用转换

但我不明白为什么因为 GenericQueryRepository 实现了 IGenericQueryRepository 而 Client 实现了 IClient。

我希望 Ninject 给我一个具体的通用存储库，其中 T 是客户端。我希望这避免在代码中使用具体类型。

可以做到吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:16:47.867

这与[协方差和逆变有关](http://msdn.microsoft.com/en-us/library/ee207183.aspx)。

在您的问题中，您提到了以下内容：

> ... GenericQueryRepository 实现 IGenericQueryRepository 和 Client 实现 IClient。

让我们通过使用 fruits 来简化：Fruit 实现了 IFruit。我们还将创建一个 Tree 类。

```
public interface IFruit { }
public class Fruit : IFruit { }
public class Tree<T> where T : IFruit { }

Tree<IFruit> tree = new Tree<Fruit>() // error 
```

这将重现您遇到的相同类型的错误。为什么？简单的。

虽然 Fruit 实现了 IFruit，但 Fruit Tree 并没有实现 IFruit Tree。Fruit Tree 和 IFruit Tree 之间没有演员表，尽管你会预料到。它们都是树，但具有**不同**的类型参数。它们的类型参数彼此相关的事实并不重要。

换句话说：Fruit Tree 和 IFruit Tree 之间不可能进行强制转换，因为它们的类型参数不匹配。

通常，在使用泛型进行强制转换时，请确保它们的类型参数**匹配**。但是，也有一些例外情况。请参阅[泛型接口中的差异](http://msdn.microsoft.com/en-us/library/dd233059.aspx)。

在您的情况下，您可以通过使用 IClient 作为 GenericQueryRepository 类的类型参数来修复它。这样做将允许强制转换，因为类型参数匹配。但我不知道您的应用程序架构，因此此修复可能不适用于您的情况。

* * *

**编辑**：为了更容易理解，复制粘贴下面的代码，看看编译器是怎么说的。

```
interface IFruit { }
class Fruit : IFruit { }
interface ITree<T> where T : IFruit { }
class Tree<T> : ITree<T> where T : IFruit { }

class Program
{
    static void Main(string[] args)
    {
        ITree<Fruit> test1 = new Tree<Fruit>();   // compiles: type parameters match
        ITree<IFruit> test2 = new Tree<Fruit>();  // fails:    type parameters don't match
        ITree<Fruit> test3 = new Tree<IFruit>();  // fails:    type parameters don't match
        ITree<IFruit> test4 = new Tree<IFruit>(); // compiles: type parameters match

        IEnumerable<IFruit> test5 = new List<Fruit>(); // compiles: this is one of the exceptional cases
    }
} 
```

这应该弄清楚什么是可能的，什么是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-05T02:25:04.333

我在尝试将 Dapper 查询绑定到接口类型时遇到了同样的问题，考虑一下，Dapper 无法实例化接口类型似乎是有道理的。

接口只是一个契约，不知道如何实例化它的具体实现。

Dapper 需要一个接口类型的具体实现类型，否则 Dapper 还必须知道要实例化接口的哪个具体实现，在这种情况下，Dapper 的行为就像一个 DI 容器，实际上它不是。

# java - 如何在资源文件夹中定义 URL？

> ID：12388077
> 
> 赞同：-1
> 
> 时间：2012-09-12T12:22:07.193
> 
> 标签：java, android, xml, emulation

我正在通过阅读一本书来学习如何连接到互联网，在给出的示例的第一行中，如下所示：

```
String myFeed = getString(R.string.my_feed); 
```

我还在学习如何连接到互联网，但我不明白 R.string.my_feed 是什么意思，作者也没有给出任何关于 my_feed 是如何定义的线索。

现在我的问题是，如何定义 my_feed？我应该创建一个名为 string 的文件夹并在其中写入我想要访问的网站还是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:25:08.817

有一个用于定义自定义字符串的 XML 文件，它位于`res/values/strings.xml`. 如果`strings.xml`不存在，请使用以下内容创建它：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>    
  <string name="my_feed">http://myfeed.com</string>
</resources> 
```

然后你可以使用它访问它

```
String myFeed = R.string.my_feed;  // (it becomes a static final property) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:25:49.947

R.string.my_feed 代表resource->values->strings.xml中定义的String

```
String myFeed = getString(R.string.my_feed); gives the string value of this string resource 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:28:59.457

字符串应该转到 res/values/strings.xml 文件，该文件可能如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="my_feed">http://google.com</string>
    <string name="app_name">My App</string>
    <string name="ctrl-shift-s">Ctrl-Shift-S</string>
</resources> 
```

在代码中：`String myFeed = getString(R.string.my_feed);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:30:58.263

您可以在您想要放置链接的布局中添加 textview，如下所示：

```
<TextView
    android:layout_height="wrap_content"
    android:layout_width="wrap_content"
    android:id="@+id/link"
    android:autoLink="web"
    android:linksClickable="true"
    android:text="http://www.yoursite.com"
     /> 
```

或者

```
<TextView
        android:layout_height="wrap_content"
        android:layout_width="wrap_content"
        android:id="@+id/link"
        android:autoLink="web"
        android:linksClickable="true"
        android:text="@string/click me"
         /> 
```

并在您的 strings.xml 中添加：

```
<string name="click me"><a href="http://www.yoursite.com">Yoursite name</a></string> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T12:59:00.847

把你的字符串 strings.xml 并保存它现在你可以得到字符串

```
 <?xml version="1.0" encoding="utf-8"?>
    <resources>    
      <string name="my_feed">http://myfeed.com</string>
    </resources> 
```

# php - 动态添加javascript代码

> ID：12388081
> 
> 赞同：0
> 
> 时间：2012-09-12T12:22:18.927
> 
> 标签：php, jquery, load

我有一些第三方 javascript 代码

```
<SCRIPT language="JavaScript" SRC="http://some-videos.com/addbutton.cfm?ID=20415454598212"></SCRIPT> 
```

当将此代码添加到 html 文件中时，它会显示一个播放按钮，现在我希望如果用户单击任何按钮，则应调用一个函数，并且该函数将加载此 js 代码。我尝试过 .load、.getScript、.ajax，但没有任何效果。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Untitled Document</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
    <script language="javascript">
    function loadVideo()
    {
       $('#videoButton').load("http://some-videos.com/addbutton.cfm?ID=20415454598212");
    }
    </script>
    </head>

    <body>
    <div id="videoButton"></div>
    <input type="button" value="Load Video Button" onclick="loadVideo();" />
    <br /><br />
    Below code shows one play button, that is generated through included javascript file.
    <SCRIPT language="JavaScript" SRC="http://some-videos.com/addbutton.cfm?ID=20415454598212"></SCRIPT>
    <!-- I have added dummy Url -->
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:26:08.847

```
function myFunction()
{
    $('head').append($('<script type="text/javascript" src="http://some-videos.com/addbutton.cfm?ID=20415454598212"></script>'));    
} 
```

我想使用jQuery。这种方式将按需加载外部Javascript。

# java - 蚂蚁视觉分析？

> ID：12388083
> 
> 赞同：11
> 
> 时间：2012-09-12T12:22:21.240
> 
> 标签：java, ant

我必须查看一些复杂`Ant`的文件，其中包括其他文件的目标和其他`Ant`文件的目标、原始目标等。
是否有（视觉）工具可以帮助理解`Ant`文件和结构以及它们最终如何构建可交付成果？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T12:26:53.823

你可以试试这个工具：

*   [ant2dot](http://ant2dot.sourceforge.net/#what) - 使用[GraphViz 工具包](http://www.graphviz.org)生成最终图形；
*   [Vizant](http://vizant.sourceforge.net/) - 使用[GraphViz 工具包](http://www.graphviz.org)生成最终图形；
*   [Grand](http://www.ggtools.net/grand/) - 使用[GraphViz 工具包](http://www.graphviz.org)生成最终图形；
*   [ant-script-visualizer](http://code.google.com/p/ant-script-visualizer/) - 使用[GraphViz 工具包](http://www.graphviz.org)生成最终图形。

[IntelliJ IDEA](http://www.jetbrains.com/idea/)对*Apache Ant*有很好的支持（有原生插件和几个 3rd 方插件）。您可以在此处阅读有关[IDEA 中的 Ant 支持的信息](https://www.jetbrains.com/idea/features/ant_maven.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:31:00.710

在我的工作中，我们与[Grand 取得了不错的成绩。](http://www.ggtools.net/grand/)

这是各种 Ant 可视化工具的[另一个链接。](http://www.scmgalaxy.com/apache-ant/flow-diagram-and-gui-tools-for-apache-ant.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T20:28:09.243

yWorks AntExplorer 很棒，但正式不再存在。
请参阅 =
[https://stackoverflow.com/a/2261205/130683](https://stackoverflow.com/a/2261205/130683)
[https://stackoverflow.com/a/458724/130683](https://stackoverflow.com/a/458724/130683)
[https://stackoverflow.com/a/9184562/130683](https://stackoverflow.com/a/9184562/130683)
但是有一个[适用于 IntelliJ IDEA](http://plugins.jetbrains.com/plugin/?idea&id=135)的插件你
仍然会找到一些独立版本的来源，fe [here](http://blogstorage.chaiware.org/files-1/Antexplorer.V1.03.zip)

# magento - 使用 Magento 中的 EBS 支付网关进行定期支付（EMI）

> ID：12388085
> 
> 赞同：3
> 
> 时间：2012-09-12T12:22:23.403
> 
> 标签：magento, payment-gateway, recurring-billing

我现在正在开发一个基于 Magento 的电子商务在线商店，我使用 EBS 作为支付网关。

EBS 支付网关是否支持通过 magento 定期支付选项进行的购买的 EMI 支付。

任何人都可以知道如何为 EBS 支付创建一个测试帐户，以便我可以先在生产环境中测试我的应用程序，然后再将其投入使用。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-30T18:50:55.940

据我所知，EBS 不支持自动捕获重复配置文件。

要创建一个测试帐户，只需要求他们的支持团队激活一个测试帐户。

# c++ - 如何比较 2 个对象的私有成员？

> ID：12388086
> 
> 赞同：2
> 
> 时间：2012-09-12T12:22:22.730
> 
> 标签：c++

我有 2 节课：

```
class A
{
    int aa;
};
class B
{
    int bb;
};
class C
{
    public:
        bool equal(A& av,B& bv)
        {
            return (av.aa==bv.bb);
        }
}; 
```

当然，C类有私有成员访问的编译错误原因。有没有办法实现`equal()`C 类的那个成员？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-12T12:26:44.760

一个好的解决方案可能是在 A 和 B 类中提供 getter。这样你就可以把所有东西都封装起来。例如

```
class A
{
    int aa;
    public:
     int GetAA()
     {
       return aa ;
     }

}; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T12:28:43.800

这是使用`friend`函数的绝佳场景：

```
// forwarding references to each of the classes
class A;
class B;
class C
{
public:
    bool equal(A& av,B& bv);
    // notice we cannot implement equal() here, 
    // because A and B have not been defined yet, 
    // even though they have been declared.
};

class A
{
private:
    int aa;

    // Simply register to be a friend of A with our 'C::equal' function,
    // so that we can access 'aa' 
    friend bool C::equal(A&, B&);
};
class B
{
private:
    int bb;

    // Once again, we register as a friend of C::equal,
    // this time to access 'bb'
    friend bool C::equal(A&, B&);
};

// finally, now that A and B have been fully defined,
// we can implement our equal method:
bool C::equal(A&av, B&bv)
{
    return (av.aa == bv.bb);
}

// Sample Usage
int main()
{
    A a = A();
    B b = B();

    C c = C();

    c.equal(a, b);
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-12T12:32:21.647

我看到这样的问题，我问为什么。除了它们有一个int之外，A类和B类之间显然没有任何关系。

进行这种编译的方法是使 C 成为 A 和 B 的朋友，或者至少使 C 中的 equal 函数成为 A 和 B 的朋友（小心使用前向声明）。

```
class A;
class B;
class C { static bool equal(A const &, B const &); };
class A { friend bool C::equal(A const &, B const &) };
class B { friend bool C::equal(A const &, B const &) };
bool C::equal(A& const &a, B const &b) { return a.a == b.b; } 
```

请注意 const 限定符，因为比较运算符不太可能改变其输入。此外，我将它设为静态函数，因为它不使用 C 的任何成员——它完全不相关。（根据您的片段）。

基本上 - 你就是这样做的。但不要在没有很多想法的情况下这样做。仅仅因为苹果和橙子都有点数，并不意味着比较点数有很多意义。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-12T12:24:53.707

您可以使类`friend`s 彼此。

但是，正如评论中指出的那样，在大多数情况下，这非常可怕。成员`private`必须是因为外部各方*不应该*直接访问它的原因。

因此，要么添加可使用的`operator==()`重载`A`（ `B`即`bool A::equal(const B&) const;`方法），要么添加访问器以返回值以供外部比较。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T12:25:03.360

与两个班级(c & a , c & b) 建立友谊，然后进行比较。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-12T12:25:11.757

如果它们是私有的并且不能通过任何类型的公共接口访问，则从概念上讲，它们没有任何共同点。所以添加 public`getAA` `getBB`并用它来做对象之间的比较器。我不喜欢友谊。很多。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-12T12:28:41.273

您可以`A`与类`B`成为朋友`C`或添加`int GetVar() const`方法。`A``B`

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-09-12T12:30:49.173

你为什么需要这个？

将行为与数据结合起来。

```
class C
{
public:
    void doSomething()
    {
        if(aa == bb) {
            doThis();
        } else
            doThat();
        }
    }
private:
    int aa;
    int bb;
}; 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2012-09-12T12:47:47.933

在不评论请求的相关性或假定的根本原因的替代方案的情况下，我相信您可以通过反射比较私人成员：

```
FieldInfo AInfo = av.GetType().GetField("aa", BindingFlags.NonPublic | BindingFlags.Instance);
int AValue = (int) AInfo.GetValue(av); 
```

等等

# html - CSS 2.1：将文本包裹在 div 中

> ID：12388088
> 
> 赞同：4
> 
> 时间：2012-09-12T12:22:23.983
> 
> 标签：html, css

我有 HTML 和 CSS，如[http://jsfiddle.net/Lijo/Ydjde/所示](http://jsfiddle.net/Lijo/Ydjde/)

问题是 div 内的文本并不局限于 div。它打破了 div 并写入。我们如何使用以下功能将文本包装在 div 本身中？

• 全文可读

• 它不会破坏 div

有没有办法在**CSS 2.1**中使用它？我相信自动换行是 CSS 3.0 的特性。

注意：我将**宽度**定义为 width:100px; 和宽度：30px；对于第一个和第二个 div

注意：span 是从 ASP.Net Label 控件生成的。因此，我们无法更改/替换**span**。该问题将使用 CSS 解决。

```
 <span id="detailContentPlaceholder_Label1">25123456789</span> 
```

![在此处输入图像描述](../Images/d64020446ec697d257de955f962832b3.png)

参考：

1.  [HTML 表格中的自动换行](https://stackoverflow.com/questions/1258416/word-wrap-in-a-html-table)
2.  [div中的CSS自动换行](https://stackoverflow.com/questions/502500/css-word-wrapping-in-div)
3.  [CSS3 自动换行属性](http://www.w3schools.com/cssref/css3_pr_word-wrap.asp)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-12T12:25:08.837

`word-wrap: break-word;`是你的朋友。查看您[更新的 JSFiddle](http://jsfiddle.net/Ydjde/1/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T12:35:04.950

你的意思是`word-wrap: break-word`？

[http://jsfiddle.net/PhRKh/](http://jsfiddle.net/PhRKh/)

（编辑：哎呀，没有看到其他答案）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:32:28.993

```
you add change width:35px  then work properly

   .fixedColumnValue{
      width:auto;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-31T10:11:59.080

我在这里发现了一些奇怪的东西，`word-wrap`它只适用于`width`css 的属性。

这是我准备的一个[工作演示。](http://jsfiddle.net/Hss5g/)

我知道为时已晚，但它可以帮助别人！

# github - 从托管在 GitHub 上的多个 repo 分支获取提交

> ID：12388091
> 
> 赞同：6
> 
> 时间：2012-09-12T12:22:36.760
> 
> 标签：github, rss

我想使用 RSS 提要在 GitHub 上托管的我的 repo 上显示提交活动。我正在使用网址：

```
https://github.com/RiverDonkey/Drupal-Mailcheck/commits.atom 
```

但问题是这将导致仅从基本分支（在本例中为 master）提交。

我不仅想从 master 获取提交，还想从我的所有分支获取提交。这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T03:11:55.503

您将需要每个要在其上显示提交活动并合并它们的分支的 RSS 提要。

当前默认分支的 RSS 提要如下：

```
https://github.com/{username}/{repo-name}/commits.atom 
```

对于您的每个其他分支（如果这不是您的默认分支视图，则包括“master”），它们将遵循以下 URL 格式：

```
https://github.com/{username}/{repo-name}/commits/{branch-name}.atom 
```

[您可以通过使用以下 API 来确定](http://developer.github.com/v3/repos/#list-branches "无需认证")存储库中存在哪些分支：

```
https://api.github.com/repos/{username}/{repo-name}/branches 
```

JSON 响应将列出所有分支以及对每个分支所做的最后一次提交。

做你需要做的来收集它们并通过一个过滤视图戳它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-10T18:43:14.127

我创建了一个 Yahoo 管道，通过 Github API 从私有 repo 中获取所有分支，然后从每个分支中获取所有提交，获取唯一的提交并首先对它们进行排序，然后作为 RSS 提要发布（我最喜欢的 RSS 阅读器是[Inoreader](http://www.inoreader.com/)） . 请注意，您需要一个应用程序令牌和 RSS 令牌，您可以在您的私有 repo 主页的源代码中找到。

你可以在这里访问它：http: [//pipes.yahoo.com/dankohn/allgithubcommits](http://pipes.yahoo.com/dankohn/allgithubcommits)

单击编辑以查看其工作原理。

# c# - LinkBut ton单击事件未触发

> ID：12388096
> 
> 赞同：0
> 
> 时间：2012-09-12T12:23:20.820
> 
> 标签：c#, asp.net, event-handling, click, linkbutton

我在服务器端绑定 click 事件处理程序，并传递一些附加参数。此绑定是作为转发器数据绑定事件的一部分完成的。当我单击 LinkBut​​ton 时，事件处理程序从未被触发。不知道为什么：

```
lnkUp.Click += (lnkSender, eventArgs) => { lnk_Click(lnkSender, eventArgs, int1, int2, string1); }; 
```

（我已经检查过 lnkUp 不为空等）。

事件处理程序：

```
 void lnk_Click(object sender, EventArgs e, Int32 int1, Int32 int2, String string1)
 {
      //Do something fantastic
 } 
```

如果您想知道加价：

```
<asp:LinkButton ID="lnkUp" runat="server" Text="SomeText"/> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:27:51.913

您尝试在事件中关联单击事件处理程序`ItemCreated`，`not in ItemDataBound`。（最佳实践）

并在 section 中调整您的绑定`! isPostBack`，以免删除您注册的事件。

```
void Repeater_ItemCreated(Object Sender, RepeaterItemEventArgs e) 
{
   .....
} 
```

# iphone - MAC OS 10.7.4 中的库文件夹丢失

> ID：12388098
> 
> 赞同：0
> 
> 时间：2012-09-12T12:23:28.230
> 
> 标签：iphone, macos, osx-lion

我正在使用 Mac OS 版本 10.7.4。在我的 iPhone 应用程序中创建一个数据库。现在我想在文档目录路径中检查该数据库。而且我知道它会存储在 users/iphone/library 部分。但在 mac os 10.7.4 版本中，finder 中缺少库文件夹。我在哪里可以找到我的 mac 机器中的库文件夹？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:26:01.523

它位于此路径**~/Library**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T12:38:25.150

在 Mac-Lion 中，库文件默认是隐藏的。要使其可见，请打开终端并键入以下代码

chflags nohidden ~/库

现在重新启动查找器，您可以看到库文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:37:26.633

在您的终端中输入此内容，它将立即显示：

```
chflags nohidden ~/Library/ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:40:31.213

我自己找到了答案。

要取消隐藏库文件夹，

1.  转到终端并输入“chflags nohidden ~/Library/”。现在，您将在 finder 中找到 Library 文件夹。

要再次隐藏您的资料库文件夹，

1.  转到终端并输入“chflags hidden ~/Library”。这将从查找器中隐藏您的库文件夹。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T12:40:54.210

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *document = [paths objectAtIndex:0];
NSLog(document); 
```

打开您的查找器，GO > 转到文件夹 > 粘贴路径

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-13T16:42:24.437

请查看以下解决方案：[http://helpx.adobe.com/x-productkb/global/access-hidden-user-library-files.html](http://helpx.adobe.com/x-productkb/global/access-hidden-user-library-files.html)

Apple 在 10.7 版本中默认隐藏用户库文件夹。如果需要访问这些文件以进行与 Adob​​e 相关的故障排除，请使用以下方法之一使用户库内容可见。

**方法一**

在 Finder 中，选择前往 > 前往文件夹。在“转到文件夹”对话框中，键入 ~/Library 单击“转到”。

**方法二**

使用 Go 菜单时按住 Alt (Option) 键。用户库文件夹列在当前用户的主目录下方。

注意：打开 Library 文件夹后，您可以将 Library 图标从该窗口的顶部拖到 Dock、侧边栏或工具栏。这样，它很容易访问。

**方法三**

以下方法使用户库文件夹永久可见。

注意：Adobe 建议仅高级用户使用此方法。

从 Mac HD > 应用程序 > 实用程序启动终端。在终端中键入以下命令并按回车键：

```
chflags nohidden ~/Library 
```

如果出现提示，请输入系统管理员密码，然后按 Return。

注意：系统管理员密码在您键入时不可见。

关闭终端以使此更改生效。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-01-17T09:58:57.423

转到实用程序并打开终端，只需执行此查询即可显示库文件夹

chflags nohidden ~/库/

并且为了隐藏任何文件夹，请使用带有“隐藏”字样的相同查询

chflags 隐藏〜/库

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-05-07T12:40:34.753

我尝试了 chflags 命令，但对我不起作用（10.13.4）。它通过以下步骤解决：

1.  在查找器中打开 /Users/${username}
2.  右键单击并弹出显示，单击“显示视图选项”，然后一个新的弹出显示
3.  勾选“显示库文件夹”

# object - 将图形对象传递给动作方法

> ID：12388108
> 
> 赞同：0
> 
> 时间：2012-09-12T12:24:26.160
> 
> 标签：object, graphics, 3d, paint, actionmethod

我需要将图形对象'g'从paint方法传递给action方法。像这样的东西：

```
 public boolean action(Event event, Object obj)
 {   

   Graphics g=getGraphics();
   repaint();

   if (event.target == choice) 
   String selection = choice.getSelectedItem();
   if (selection.equals("do something"))
   {
       doSomething(g);
       repaint();
   }
   else if (selection.equals("do something else"))
   {
       Somethingelse(g);
       repaint();
   }

   return(true);
}

      else
          return(false);
   } 
```

我试图将 g 声明为全局图形变量，但它不起作用。有没有另一种方法可以做到这一点。任何帮助表示赞赏.. 谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:21:38.860

我假设这是 java 并且您正在覆盖 Swing 组件（因此 getGraphics() 实际上是可用的）。

试试看`Graphics g = this.createGraphics()`，可能会有帮助。此外，请务必`repaint()`从事件调度线程中调用方法。如果此操作链接到 UI，则通常是这种情况。可以肯定的是，将重绘包装在 Runnable 中并将其发送到 EDT 的末尾：

```
SwingUtilities.invokeLater(new Runnable() { 
    public void run() {
        repaint();
    }
} 
```

# javascript - javascript对象操作：根据指定条件选择属性

> ID：12388109
> 
> 赞同：0
> 
> 时间：2012-09-12T12:24:28.313
> 
> 标签：javascript, object

我有以下形式的 javascript 对象：

```
{ url1: {status: "ok", updatedAt: someDate1},
  url2: {status: "error", updatedAt: someDate2},
  url3: {status: "error", updatedAt: someDate3},
  ...
} 
```

我想创建一个新对象，其中包含“状态”属性为“错误”的所有元素。
在上面的示例中，我希望创建以下对象：

```
 { url2: {status: "error", updatedAt: someDate2},
    url3: {status: "error", updatedAt: someDate3} 
  } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:32:54.797

遍历所有属性并复制匹配的对象？

```
function filterByProperty(obj, predicate) {
   var selected={};
   for (p in obj) {
      if (obj.hasOwnProperty(p) && predicate(obj[p])) {
         selected[p] = obj[p];
      } 
   }
   return selected;
} 
```

并调用使用

```
filterByProperty(object, function(o) {o.status === "error";}); 
```

我喜欢将函数作为参数传递......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T12:27:33.460

这应该做你需要的（`o`是你的原始对象）：

```
var errorObj = {};
for (k in o){
    var v = o[k];
    if (v.status === 'error'){
        errorObj[k] = v;
    }
} 
```

# java - 使用 jSoup 解析最里面的 html 标签

> ID：12388111
> 
> 赞同：1
> 
> 时间：2012-09-12T12:24:38.400
> 
> 标签：java, html-parsing, jsoup, jericho-html-parser

这是我的代码。

```
String tags="<html><head></head><body><table><tr><td>1</td></tr><tr><td><table><tr><td>3</td><td>4</td></tr></table></td></tr></table><body></html>";
        Document document = Jsoup.parse(tags);
        for(int i=0;i<document.body().childNodes().size();i++)
        {
            if(!document.body().childNodes().get(i).nodeName().startsWith("#"))
            {
                System.out.println("1st Level Nodes:"+document.body().childNodes().get(i).nodeName());
                while(document.body().childNodes().get(i).childNodes().size()>1)
                {
                    System.out.println("2nd Level: "+document.body().childNodes().get(i).childNodes().get(0).nodeName());
                }
            }
        } 
```

如何解析逐个标签返回的 HTML。循环没有覆盖最里面的标签。

这是一个格式良好的html代码。将所有标签解析到最里面。

```
<html>
<head></head>
<body>
<table>
    <tr>
        <td>1</td>
    </tr>

    <tr>
        <td>
            <table>
            <tr>
                <td>3</td>
                <td>4</td>
            </tr>
            </table>
        </td>
    </tr>
</table>
<body>
</html> 
```

我想将标签之间的所有 html 作为我在 html 代码中显示的 html 层次结构。所以我喜欢按照父子顺序依次获取所有标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:39:59.433

如果您只需要标签，您可以在此处使用：

```
String tags = "<html><head></head><body><table><tr><td>1</td></tr><tr><td><table><tr><td>3</td><td>4</td></tr></table></td></tr></table><body></html>";
Document doc = Jsoup.parse(tags);

for( Element e : doc.select("*") // you can use 'doc.getAllElements()' here too
{
    System.out.println(e.tag());
} 
```

**输出：**

```
#root
html
head
body
table
tbody
tr
td
tr
td
table
tbody
tr
td
td 
```

# android - 如何在android中实现这种折叠效果？

> ID：12388113
> 
> 赞同：19
> 
> 时间：2012-09-12T12:24:41.980
> 
> 标签：android, animation, view

这是在 ios 上的效果 就像 iOS 上折纸 PaperFold 的效果一样：[https ://github.com/honcheng/PaperFold-for-iOS](https://github.com/honcheng/PaperFold-for-iOS)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-11T14:38:31.120

我想您可以在 ImageViews 上使用缩放动画来模拟已经折叠的纸张。当您滚动浏览并在您继续滚动浏览图像集时展开整个纸张时，将使用缩放效果。完全滚动纸张 ImageView 并完成动画后，您只需终止动画并获得整页纸张的正常视图。只需为动画创建一个单独的文件夹，然后在该文件夹中创建一个 XML 文件，选择比例并使用属性来测试最适合您的动画的效果。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-24T12:10:06.917

有一个库可以帮助实现不是手风琴式而是另一个非常有趣的折叠效果：[http ://www.youtube.com/watch?v=GzWGhp_NDTg](http://www.youtube.com/watch?v=GzWGhp_NDTg)

这里的解释和代码[http://cases.azoft.com/creating-paper-folding-animation-in-android/](http://cases.azoft.com/creating-paper-folding-animation-in-android/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-18T07:28:12.400

您可以使用可折叠布局库。 [https://github.com/worldline/FoldableLayout](https://github.com/worldline/FoldableLayout)

# sass - 我们如何使用 sass 来评估 javascript？

> ID：12388115
> 
> 赞同：0
> 
> 时间：2012-09-12T12:24:51.473
> 
> 标签：sass, less

Less.js 有一个有趣的功能，您可以在其中引用 javascript 并基于此评估 CSS，例如：

```
@color: ~`window.main_color`;

.test {
  background-color: @color;
} 
```

Sass 有类似的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:37:51.057

否，因为 Sass 在发送给客户端之前会被评估。Less 可以按原样发送并在客户端进行评估，然后您可以像`window.main_color`. 但恕我直言，这是个坏主意，因为当有人展示它时它可以提供一些 WTF。

# c# - MVC 为什么通过单击单选按钮会消失页面的样式？

> ID：12388127
> 
> 赞同：0
> 
> 时间：2012-09-12T12:25:18.953
> 
> 标签：c#, asp.net-mvc

为什么单击单选按钮会消失样式（来自 css）和页面的菜单栏？仅显示页面内容。

这是页面

```
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server" >
    <% using (Html.BeginForm("Top100_AllerTijden", "Top100", FormMethod.Post, new { id = "frmTop100" })) %>
    <% { %>
        <table>
            <tr><th width="1000" align="left">Selecteer jaar:</th></tr>
            <tr>
                <td>
                <%= Html.RadioButton("Overzicht", "S", new
                    {
                        @onclick = "document.getElementById('frmTop100').submit();"
                    }) %> Singlesoverzicht
                </td>
            </tr>
            <tr>
                <td>
                <%= Html.RadioButton("Overzicht", "A", new
                    {
                        @onclick = "document.getElementById('frmTop100').submit();"
                    })%> Albumsoverzicht
                </td>
            </tr>
        </table>
        <br />
        <br />
        <div>
             <%= Html.Action("Top100_AllerTijden", new { AOverzicht = ViewBag.Overzicht })%> <br />   
        </div>
    <% } %>
</asp:Content> 
```

里面的用户控件：

```
<table>
    <tr>
        <th width="75" align="right" valign="top">Notering</th>
        <th width="750">Titel<br />&nbsp;&nbsp;&nbsp;&nbsp;Artiest</th>
        <th width="50" align="center" valign="bottom">Product</th>
        <th width="50" align="center" valign="bottom">Jaar</th>
    </tr>

    <% foreach (var item in Model) { %>
        <% if (item.Notering == 1)
           {  
               %> 
            <tr class="notering_1">
                <td width="75" align="right" valign="top"><%: item.Notering%></td>
                <td width="750"><%: item.Titel%><br />&nbsp;&nbsp;&nbsp;&nbsp;<%: item.Artiest%></td>
                <% if (item.Product == "N")
                    { %>
                    <td width="50" align="center" valign="bottom">
                        <img src="<%= Url.Content( "~/images/Nederland.jpg" ) %>" 
                             alt="alt text" height="16" width="16"  />
                    </td>
                <% }
                   else if (item.Product == "B")
                   { %>
                    <td width="50" align="center" valign="bottom">
                        <img src="<%= Url.Content( "~/images/België.jpg" ) %>" 
                                 alt="alt text" height="16" width="16"  />
                    </td>
                <% }
                   else
                   { %>
                    <td width="50" align="center" valign="bottom"></td>
                <% } %>                
            <td width="50" align="right" valign="bottom"><%: item.Jaar%></td>
            </tr>
        <% } else { %>        
            <tr>
                <td width="75" align="right" valign="top"><%: item.Notering %></td>
                <td width="750"><%: item.Titel %><br />&nbsp;&nbsp;&nbsp;&nbsp;<%: item.Artiest %></td>
                 <% if (item.Product == "N")
                   { %>
                    <td width="50" align="center" valign="bottom">
                        <img src="<%= Url.Content( "~/images/Nederland.jpg" ) %>" 
                             alt="alt text" height="16" width="16"  />
                    </td>
                <% }
                   else if (item.Product == "B")
                   { %>
                    <td width="50" align="center" valign="bottom">
                        <img src="<%= Url.Content( "~/images/België.jpg" ) %>" 
                                 alt="alt text" height="16" width="16"  />
                    </td>
                <% }
                   else
                   { %>
                    <td width="50" align="center" valign="bottom"></td>
                <% } %>
                <td width="50" align="right" valign="bottom"><%: item.Jaar %></td>
            </tr>
        <% } %>
    <% } %>
</table> 
```

控制器中的方法

```
[HttpPost]
public ActionResult Top100_AllerTijden(FormCollection ACollection)
{
    string sOverzicht= ACollection["Overzicht"].ToString();
    return Top100_AllerTijden(sOverzicht);
}

public ActionResult Top100_AllerTijden(string AOverzicht)
{
    ReadTop100At(AOverzicht);

    return View(_ListTop100Model);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:35:40.893

您的`Top100_AllerTijden`观点似乎只是部分观点。您的页面使用

```
<%= Html.Action("Top100_AllerTijden", new { AOverzicht = ViewBag.Overzicht })%> 
```

将条目列表呈现为部分视图。您应该重定向到显示完整页面的操作，而不是`Top100_AllerTijden`在您的 POST 操作中返回结果。

```
[HttpPost]
public ActionResult Top100_AllerTijden(FormCollection ACollection)
{
    string sOverzicht= ACollection["Overzicht"].ToString();
    return RedirectToAction("NameOfTheActionWhichDisplaysTheWholePage", new { overzicht = sOverzicht })
} 
```

# iphone - 未使用 xib 时，内存警告后不调用 -viewDidUnload

> ID：12388138
> 
> 赞同：3
> 
> 时间：2012-09-12T12:25:59.060
> 
> 标签：iphone, ios

当我使用 xib 时，在内存警告后调用 -viewDidUnload。
但是当我以编程方式创建视图而不是使用 xib 时，不会调用 -viewDidUnload。

（在这两种情况下，都会调用 -didReceiveMemoryWarning。）

为什么不使用 xib 文件时不调用 -viewDidUnload？
如果我不使用 xib，我是否不必为 -viewDidUnload 编写代码？

以下是测试代码和结果：（
我用的是ARC）

```
@implementation ViewControllerA
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.title = [NSString stringWithFormat:@"%d", gNavigationController.viewControllers.count];

    // button to pop view controller to navigation controller
    UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    button.frame = CGRectMake(100, 100, 200, 50);
    [button setTitle:@"push" forState:UIControlStateNormal];
    [button addTarget:self action:@selector(push) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:button];

    // button to generate memory warning
    button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    button.frame = CGRectMake(100, 200, 200, 50);
    [button setTitle:@"memory warning" forState:UIControlStateNormal];
    [button addTarget:self action:@selector(generateMemoryWarning) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:button];

    NSLog(@"view did load %@", self.title);
}

- (void)generateMemoryWarning {
    [[UIApplication sharedApplication] performSelector:@selector(_performMemoryWarning)];
}

- (void)push {
    UIViewController *viewController = [[ViewControllerA alloc] init];
    [gNavigationController pushViewController:viewController animated:YES];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    NSLog(@"view did unload %@", self.title);
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    NSLog(@"view did receive memory warning %@", self.title);
}

@end 
```

**结果**

**如果 ViewControllerA 没有 xib：**

```
view did load 1
view did load 2
view did receive memory warning 1
view did receive memory warning 2 
```

**如果 ViewControllerA 有 xib：**

```
view did load 1
view did load 2
view did unload 1
view did receive memory warning 1
view did receive memory warning 2 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:05:50.437

如果您在`UIViewContoller`未从 NIB 初始化的情况下使用它，则需要对该`-loadView`方法进行子类化。否则 iOS 假定视图不能被卸载/重新加载。

只需将以下内容添加到您的实现中就足够了：

```
- (void)loadView {
    [super loadView];
    self.view = yourCreatedView;
} 
```

不幸的是，[文档](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ViewLoadingandUnloading/ViewLoadingandUnloading.html)对此并不是很清楚。

# vb.net - vb.net 如何在父面板内移动嵌套表单控件时获得工作滚动条

> ID：12388149
> 
> 赞同：2
> 
> 时间：2012-09-12T12:26:38.723
> 
> 标签：vb.net, controls, nested, scrollbar, move

我有一个可以包含多个表单控件的容器（面板）。(Form.TopLevel = False)

当用户移动表单时，我想在表单超出面板边界时显示滚动条。

当我注册 Form.Move 事件时，我可以设置 AutoScrollPosition。除非用户使用滚动条，否则此方法有效。问题是使用滚动条时也会触发 form.move 事件。结果是滚动条不起作用。（而且我目前不知道如何确定表单是否被鼠标或滚动条移动）

所以问题是：当面板的一个（或多个）表单超出边界时，如何使面板的滚动条出现/工作？我认为必须有比处理移动事件更简单的方法..

注意：面板位于 Infragistics DockableControlPane 内。（由 UltraDockManager 管理）（因此有多个面板，每个面板至少包含一个表单）原因是“面板”应该显示为选项卡，可以使用 DockManager 移动并显示它们的“子”表单（其中也可以在他们的面板上移动）。

任何想法都会很棒

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:19:11.727

看起来可以使用 LocationChanged 事件。只有一种形式的示例：

```
Protected Overrides Sub OnLoad(e As EventArgs)
  MyBase.OnLoad(e)

  Dim f As New Form
  f.TopLevel = False
  AddHandler f.LocationChanged, AddressOf Form_LocationChanged
  Panel1.Controls.Add(f)
  f.Show()
  Call Form_LocationChanged(f, EventArgs.Empty)
End Sub

Private Sub Form_LocationChanged(sender As Object, e As EventArgs)
  With DirectCast(sender, Form)
    Panel1.AutoScrollMinSize = New Size(.Bounds.Right, .Bounds.Bottom)
  End With
End Sub 
```

尽管对于这样的事情，使用 MDI 表单似乎更合适。

# java - 为什么 java.util.Scanner 存在？

> ID：12388154
> 
> 赞同：3
> 
> 时间：2012-09-12T12:26:55.223
> 
> 标签：java, java.util.scanner

> **可能重复：**
> [Scanner vs. BufferedReader](https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader)

有没有适合使用 java.util.Scanner 来读取某种输入的情况？在我的小测试中，我发现它与 java.util.Bufferedreader 或从 java.util.InputStreamReader 实现您自己的阅读器相比非常慢。

那么我为什么要使用扫描仪有什么理由吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T12:30:09.840

从[文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html)：

> 一个简单的文本扫描器，可以使用正则表达式解析原始类型和字符串。

那不会做一个BufferedReader。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-12T12:30:33.473

该类的`Scanner`主要目的是使用正则表达式解析原始类型和字符串的文本。您可以提供多种资源类型以供读取。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-12T12:42:24.597

虽然 Scanner 相对较慢，但它通常足够快，并且比 BufferedReader 强大得多。

```
public static void main(String... args) throws IOException {

    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < 10000; i++)
        sb.append("line: ").append(i).append("\n");
    String lines = sb.toString();

    for (int i = 0; i < 6; i++) {
        testBufferedReader(lines);
        testScanner(lines);
    }
}

private static void testBufferedReader(String text) throws IOException {
    int count = 0;
    BufferedReader br = new BufferedReader(new StringReader(text));
    long start = System.nanoTime();
    while (br.readLine() != null)
        count++;
    long time = System.nanoTime() - start;
    System.out.printf("BufferedReader.readLine() took an average of %,d ns count=%,d%n", time / count, count);
}

private static void testScanner(String text) throws IOException {
    int count = 0;
    Scanner sc = new Scanner(new StringReader(text));
    long start = System.nanoTime();

    while (sc.hasNextLine()) {
        sc.nextLine();
        count++;
    }

    long time = System.nanoTime() - start;
    System.out.printf("Scanner nextLine took an average of %,d ns count=%,d%n", time / count, count);
} 
```

最后打印

```
BufferedReader.readLine() took an average of 124 ns count=10,000
Scanner nextLine took an average of 1,549 ns count=10,000 
```

虽然相对差异很大，但扫描仪每个都小于几微秒。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:34:40.717

Scanner - 它的许多方法是将输入流解析为标记的想法。BufferedReader 不依赖于将其输入分解为标记。如果需要，它允许您逐个字符地阅读。它可以读取整行，让你做你想做的事。一个扫描仪进去；它可以做 BufferedReader 可以做的所有事情，而且效率也相同。但是，除此之外，Scanner 可以使用正则表达式解析基本流的基本类型和字符串。它还可以使用您选择的分隔符标记基础流。它还可以不考虑分隔符对底层流进行前向扫描！

编辑只是忘了提及...... ***“但是扫描仪不是线程安全的，它必须是外部同步的。”***

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T13:14:43.747

`java.lang.util.scanner`这是和之间的区别`java.lang.util buffered reader`。虽然两者都可用于在 java 类中从用户那里获取输入，但有一个显着的区别需要理解。

Scanner 是一个使用空格作为默认分隔符的单令牌输入系统。尽管您可以使用各种其他方法将其更改为其他格式。

而缓冲阅读器是一个缓冲输入系统。它需要数据块（流），然后输入用户想要存储它的数据类型。因此，在您刷新或缓冲区已满之前，读取器流不会为您提供数据。

# flash - 如何保护 Flash 策略服务器？

> ID：12388156
> 
> 赞同：0
> 
> 时间：2012-09-12T12:27:13.380
> 
> 标签：flash, ssl, policy

我有一个简单的 C++ 策略服务器监听端口 843，以便响应我的 crossdomain.xml 安全策略文件的闪存程序。

在我添加对 SSL 的支持之前，一切都运行良好。

现在，当我使用 SecureSocket 从 SWF 文件打开连接时，我的 c++ 策略服务器永远不会在端口 843 上调用。我认为我的防火墙可能有问题，所以我禁用了它，但如果我使用 SecureSocket 而不是 XMLSocket，我的 c++ 永远不会叫。

有什么帮助吗？有没有人在使用闪存的安全套接字时成功接收？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T08:11:12.890

SecureSocket 的 policy.xml 文件也必须通过 TLS/SSL 连接发送

# mysql - 用外键mysql更新属性值

> ID：12388157
> 
> 赞同：1
> 
> 时间：2012-09-12T12:27:19.480
> 
> 标签：mysql

如果我尝试使用以下查询更改“askexpert”表的 usertypeid 属性的值：

```
UPDATE aura_users_logins SET user_types_id="some value" WHERE user_profiles_id="some value"; 
```

它抛出错误：

```
foreign key constraint fails (`aura`.`askexpert`, CONSTRAINT 
fk_askexpert_aura_users_logins` FOREIGN KEY (`user_id `aura_users_logins_user_types_id`) 
REFERENCES `aura_users_logins` (`user_id`, `user_types_id`). 
```

但我可以使用以下查询更改用户 ID。

```
UPDATE aura_users_logins SET user_profiles_id="some value" WHERE uuser_profiles_id="some value"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:53:28.003

看看你的表结构会很好，但你的“askexpert”表似乎有一个外键到“aura_users_logins”列（`user_id`，`user_types_id`）

如果您更新“user_types_id”列，“askexpert”上的行将没有有效的参考。

如果要更新值，您应该：

*   禁用外键
*   使用新值在“aura_users_logins”上创建一个新行，然后更新“askexpert”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:37:13.430

> 但我可以使用以下查询更改用户 ID

```
UPDATE aura_users_logins SET user_profiles_id 
```

不，你没有。您正在更新该`user_profiles_id`列。

如果你真的想，做

```
SET FOREIGN_KEY_CHECKS = 0 
```

第一的。后来又设置回来`1`了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:49:13.767

因为“aura_users_logins”有一个外键“user_types_id”，它是指其他表的主键。因此，您必须确保另一个表包含您在查询中更新的主键作为主键。

```
UPDATE aura_users_logins SET user_types_id="some value" WHERE user_profiles_id="some value"; 
```

“某个值”必须在其他表中作为主键。

# c# - FileSystemWatcher.InternalBufferSize 应该设置为什么？

> ID：12388159
> 
> 赞同：1
> 
> 时间：2012-09-12T12:27:22.220
> 
> 标签：c#, buffer, filesystemwatcher

只是想知道是否有人可以就我应该为`InternalBufferSize`a 的属性赋予什么价值给出一些一般性指导`FileSystemWatcher`。

我需要跨多个目录监视多个单个文件，因此我为每个目录创建一个观察程序，然后检查该文件是否是我正在监视的文件之一。`Filter`由于同一目录中可能有多个文件，除非我为每个文件而不是每个目录创建一个观察者，否则我不能使用该属性。不确定哪个是最好的，但无论哪种方式，任何建议都会受到欢迎:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:36:05.877

每个`FileSystemWatcher`都有自己的 InternalBufferSize。如果您只监控单个文件，您可以将其设置为 1KB，对于每个事件大约 16 个文件就足够了。但是正如 MSDN 所说，对于英特尔处理器，最好将 InternalBufferSize 整除为 4KB。

# ios - 在后台播放声音提醒序列暂停音乐并且不被其他声音停止

> ID：12388163
> 
> 赞同：1
> 
> 时间：2012-09-12T12:27:25.240
> 
> 标签：ios, audio, avaudioplayer, avaudiosession

我想为 iPhone 编写应用程序，它可以播放音频提醒序列，并与其他应用程序产生的声音进行良好的交流。

更具体地说，我想实现以下几点：
1\. 每 10 秒播放一次声音提醒。（这是为了简化问题，在我的应用程序中有一个时间序列，指定何时播放提醒）
2\. 声音应该在后台工作。
3.如果音乐播放应该暂停，我的应用程序应该产生音频提醒，然后音乐恢复。
4\. 如果其他应用程序开始使用声音，我的提醒序列应该继续工作（例如，我的应用程序运行后开始播放音乐或来电）。

使用下面的代码，我能够实现第 1 点和第 2 点。但我无法实现如何同时实现第 3 点和第 4 点。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    audioSession = [AVAudioSession sharedInstance];
}

// Following function is used to start reproducing sounds and also called
// for the next sounds
- (IBAction)soundPlayShort:(id)sender
{
    NSURL * url = @"reminder sound url here";

    // soundPlayer is defined in .h file as AVAudioPlayer
    if (soundPlayer == nil) {
       // initialize soundPlayer
       soundPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:nil];
       soundPlayer.delegate = self;
    }
    [soundPlayer playAtTime:soundPlayer.deviceCurrentTime + 10];
    [audioSession setCategory:AVAudioSessionCategoryPlayback error:nil];    
}

- (void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag
{
    [self soundPlayShort:self];
} 
```

如果我`audioPlayerDidFinishPlaying`按照下面的代码进行更新，则会恢复其他声音（第 3 点。），但我序列中的下一个提醒不再调用（与第 2 点相关。）

```
- (void)restoreOtherSounds
{
    [audioSession setActive:NO 
        withFlags:AVAudioSessionSetActiveFlags_NotifyOthersOnDeactivation error:nil];
}

- (void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag
{

    [self restoreOtherSounds];
    [self soundPlayShort:self];
} 
```

而且我还没有意识到如何恢复提醒序列，例如来电后。（第 4 点）

即使是部分答案对我也很有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T10:09:12.030

与第 2 点相关，尝试在 soundPlayShort 中初始化 AVAudioPlayer 之前将音频会话设置为活动状态：

`[[AVAudioSession sharedInstance] setActive:YES error:nil];`

# objective-c - 我有一个 NSDate，如何显示自动更新显示计时器的秒表？

> ID：12388165
> 
> 赞同：-1
> 
> 时间：2012-09-12T12:27:31.923
> 
> 标签：objective-c, ios, timer, nsdate, stopwatch

我有一个 NSDate 变量。从该变量中，我如何显示在视图中不断更新的秒表？

我已经尝试过`[NSTimer scheduledTimerWithTimeInterval]`但无法使其正常工作，但也怀疑这是实现此目的的理想方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:32:41.887

有什么问题[`NSTimer`](http://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html)？

```
- (void)startTimer {
    [NSTimer scheduledTimerWithTimeInterval:1/30.0f
                                     target:self
                                   selector:@selector(timerFired:)
                                   userInfo:[NSDate date]
                                    repeats:YES];
}

- (void)timerFired:(NSTimer *)timer {
    NSDate *startDate = timer.userInfo;
    NSTimeInterval secondsPassed = -[startDate timeIntervalSinceNow];
    // Update your label here.
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T12:29:35.483

试试**这个**

```
- (void)updateTimer
{
    static NSInteger counter = 0;
    [stopWatchLabel setText:[NSString stringWithFormat:@"Counter: %i", counter++]];
}

- (IBAction)onStartPressed:(id)sender {
    startDate = [[NSDate date]retain];

    // Create the stop watch timer that fires every 10 ms
    stopWatchTimer = [NSTimer scheduledTimerWithTimeInterval:1.0/10.0
                                                      target:self
                                                    selector:@selector(updateTimer)
                                                    userInfo:nil
                                                     repeats:YES];
} 
```

您必须将 IBAction 连接到一个按钮，并将 stopWatchLabel 连接到界面构建器中的 UILabel。

发现于： http: [//www.apptite.be/tutorial_ios_stopwatch.php](http://www.apptite.be/tutorial_ios_stopwatch.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T12:36:10.927

我试过这个，它的工作原理

```
[NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(timerCallback) userInfo:nil repeats:YES];

-(void)timerCallback{
    NSDate *date=[NSDate date];
    NSLog(@"%@",date);
} 
```

将 timeInterval 参数更新为您想要的，并将其显示在视图中（我刚刚打印了日志）；

我得到了这个日志：

```
2012-09-12 18:04:11.252 S[19550:f803] 2012-09-12 12:34:11 +0000
2012-09-12 18:04:12.170 S[19550:f803] 2012-09-12 12:34:12 +0000
2012-09-12 18:04:13.170 S[19550:f803] 2012-09-12 12:34:13 +0000
2012-09-12 18:04:14.170 S[19550:f803] 2012-09-12 12:34:14 +0000
2012-09-12 18:04:15.170 S[19550:f803] 2012-09-12 12:34:15 +0000
2012-09-12 18:04:16.170 S[19550:f803] 2012-09-12 12:34:16 +0000
2012-09-12 18:04:17.170 S[19550:f803] 2012-09-12 12:34:17 +0000
2012-09-12 18:04:18.170 S[19550:f803] 2012-09-12 12:34:18 +0000
2012-09-12 18:04:19.171 S[19550:f803] 2012-09-12 12:34:19 +0000
2012-09-12 18:04:20.170 S[19550:f803] 2012-09-12 12:34:20 +0000
2012-09-12 18:04:21.170 S[19550:f803] 2012-09-12 12:34:21 +0000 
```

# php - 显示 Dropbox 的图片

> ID：12388172
> 
> 赞同：0
> 
> 时间：2012-09-12T12:27:55.487
> 
> 标签：php, image, curl, header, dropbox

```
<?php 
$ch = curl_init ("https://api-content.dropbox.com/1/files/dropbox/Printable/game-of-thrones-poster1.jpg?oauth_consumer_key=3gg0ec7ju39cghr&oauth_token=pmrniz9qif7kbe3&oauth_signature_method=PLAINTEXT&oauth_signature=qcwg77mfetqr4zi%26l8l632jrmw3h80b&oauth_timestamp=1347451716&oauth_nonce=793902999f4dfae87ed757e1c6443f40&oauth_version=1.0");
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_BINARYTRANSFER,1);
curl_setopt($ch, CURLOPT_USERAGENT,'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.3) Gecko/20100423 Ubuntu/10.04 (lucid) Firefox/3.6.3');
$image=curl_exec($ch);
curl_close ($ch);
header("Content-Type: image/jpeg");
echo $image;
?> 
```

使用上面的代码，我想在 Dropbox 上显示一个图像文件。但是图片不显示！

[![](../Images/147df75bde86bf9c64f1b0eb429e2ee7.png)](https://i.stack.imgur.com/k25r0.png)

我正在使用 oauth 信息，位于文件（图像、视频、..）上的保管箱我知道您如何查看您的？保存到服务器，我想通过 Dropbox 显示。

# asp.net - Authorize.NET SIM 方法中的金额文本框

> ID：12388174
> 
> 赞同：0
> 
> 时间：2012-09-12T12:28:06.583
> 
> 标签：asp.net, .net, authorize.net

我想将 authorize.net SIM 集成到我的 asp.net 网站中。有什么办法可以让我在付款页面中有一个金额的文本框。我的客户希望用户输入金额。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T23:19:23.937

为此，您需要使用文本框加载页面以捕获付款所需的金额。然后，您需要使用 SIM API 所需的所有变量创建一个表单，并使用 JavaScript 提交该表单。

# php - 在 Opencart 的管理控制器中加载前端模型类

> ID：12388180
> 
> 赞同：0
> 
> 时间：2012-09-12T12:28:24.050
> 
> 标签：php, opencart

我想在管理控制器的前端（目录/模型/帐户/地址）中加载一个模型类。我可以通过将该模型复制到管理员的模型文件夹来做到这一点，但我想在不复制模型类的情况下做到这一点。

有什么办法吗？或者我必须修改加载器类。有什么建议吗？

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:55:28.767

地址方法可通过`admin/model/sale/customer.php`管理员中的文件在目录端使用。只需使用它

```
$this->load->model('sale/customer');
$addresses = $this->model_sale_customer->getAddresses(12345); 
```

# c++ - CFileDialog 延迟崩溃

> ID：12388182
> 
> 赞同：2
> 
> 时间：2012-09-12T12:28:28.557
> 
> 标签：c++, windows, mfc

我在基于对话框的 MFC 应用程序中添加了一个“打开文件”对话框。现在，在通过按下打开或取消按钮关闭打开的文件对话框后恰好一分钟（！）我的应用程序崩溃了。当它崩溃时，输出中发生了以下事情：

1）一堆Windows线程正在退出；

2）一堆COM异常（0x80010108“调用的对象已与其客户端断开连接”和0x800401FD“对象未连接到服务器”变种）被抛出；

3）最后，出现未处理的异常：0xC0000005：访问冲突读取位置0xfeeefeee，调用堆栈指向ole32.dll。

说我很困惑是轻描淡写的。调用对话框的代码如下：

```
CFileDialog fileDlg( TRUE, _T(".txt"), NULL, OFN_ALLOWMULTISELECT | OFN_FILEMUSTEXIST | OFN_PATHMUSTEXIST, 
                     _T("Text file (*.txt)|*.txt||"), this);
INT_PTR res = fileDlg.DoModal(); 
```

什么会导致这样的事情？

我什至如何调试它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-09-27T17:48:02.730

我在 Windows 7 x64 中遇到了这个*确切的*问题，并且通过在所有尚未选择的 Win32 异常上启用断点（在 VS2015 异常选项卡中），我能够将其缩小到 fundisc.dll 的一个已知问题，该问题已通过可选来自 Microsoft 的修补程序：https: [//support.microsoft.com/en-us/kb/2494427](https://support.microsoft.com/en-us/kb/2494427)

它还解决了我的 PC 上的文件资源管理器窗口在看似随机的时间崩溃的问题。所有这些都是由该修补程序修复的网络 COM 对象中的一些死锁引起的。

# php - PHP，无法通过孩子正确访问基类

> ID：12388183
> 
> 赞同：0
> 
> 时间：2012-09-12T12:28:31.273
> 
> 标签：php, oop

基类：

```
class A {

    public x;
    public y;

    public function __construct {

        $this->x = new X();
        $this->y = new Y();
    }
} 
```

类`X`：

```
class X extends A {

    public function __construct {}

    public function job() {

        echo 'x working!';
    }
} 
```

类`Y`：

```
class Y extends A {

    public function __construct {}

    public function job() {

        var_dump($this->x);    // NULL, Why???

        $this->x->job();
    }
} 
```

**问题**：当我`x->job()`从类内部调用时`Y`，我完全无法访问`X`已经实例化的对象，并`var_dump`显示它是`null`.

有什么想法有什么问题吗？

谢谢！:)

**更新：**

如果我`parent::__construct();`在子类的`__construct()`方法中使用，那么它将生成`Fatal Error: maximum function nesting level of '100' reached, aborting!`. 这就是我添加那些空`__construct()`方法的原因。任何想法再次如何解决？

我在源代码上也有这个：

```
$base = new A(); 
```

那么，构造函数应该已经运行了，对吧？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T12:30:04.813

您必须调用`parent::__construct()`chil 类的构造函数，否则不会调用父构造函数并且属性不会收到其值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:31:35.210

在这个例子中，你也可以省略子类的构造函数，因为它不做任何事情，否则使用 GolezTrol 建议的方法

# eclipse - 如何告诉 Eclipse 不格式化代码文件的一部分（按 Strg + Shift + F）

> ID：12388185
> 
> 赞同：0
> 
> 时间：2012-09-12T12:28:35.080
> 
> 标签：eclipse, format

我真的很喜欢 autofromat 功能。我使您的代码更具可读性，如果 JavaScript 会告诉您何时出现语法错误（缺少括号等）。

然而，有时格式会使代码更难阅读。例如，当它将长数组初始化放入一行时。在那种情况下，我不希望他格式化它，而是让它提供多行。例如

```
define([
    'jquery', 
    'aloha', 
    'aloha/plugin', 
    'ui/ui', 
    'ui/scopes', 
    'ui/button', 
    'ui/toggleButton', 
    'ui/port-helper-attribute-field', 
    'ui/text'
// 'css!youtube/css/youtube.css'
], 
    function(
        $, 
        Aloha, 
        Plugin, 
        Ui, 
        Scopes, 
        Button, 
        ToggleButton, 
        AttributeField) 
        { 
```

这个数组应该保持这样，不要变成这样：

```
define(['jquery', 'aloha', 'aloha/plugin', 'ui/ui', 'ui/scopes', 'ui/button', 'ui/toggleButton', 'ui/port-helper-attribute-field', 'ui/text' ], function($, Aloha, Plugin, Ui, Scopes, Button, ToggleButton, AttributeField) { 
```

是否有一个特殊的标签，告诉eclipse不要格式化代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T07:36:07.740

好的，我花了一些时间才找到正确的设置，所以我将在这里发布一个教程。

转到窗口首选项并搜索您正在使用的格式化程序。就我而言，它位于“Aptana Studia”->“格式化程序”下。（取决于您的包，这会有所不同，例如，Java 格式化程序位于“Java”->“代码样式”->“格式化程序”下）。

![创建新的格式化程序配置文件](../Images/60470d9f961b92a416e38a22b5a39e6a.png)

现在创建一个新的构建配置文件，因为您不能覆盖旧配置文件。

现在启用 Formatter 标签。 ![启用格式化程序开/关标签](../Images/94c75f5aef7a9cdafce8770ebf25ef3e.png)

现在您可以使用

```
 - @formatter:on
 - @formatter:off 
```

标签以禁用代码格式。

示例：此代码：

```
 function hello() {             return 'hello';
}

//@formatter:off
/*
   |\      _,,,---,,_
   /,`.-'`'    -.  ;-;;,_
  |,4-  ) )-,_..;\ (  `'-'
 '---''(_/--'  `-'\_)  fL

 */
//@formatter:on

function 

world() {
    return 'world';
} 
```

将被格式化为这样

```
function hello() {
    return 'hello';
}

//@formatter:off
/*
   |\      _,,,---,,_
   /,`.-'`'    -.  ;-;;,_
  |,4-  ) )-,_..;\ (  `'-'
 '---''(_/--'  `-'\_)  fL

 */
//@formatter:on

function world() {
    return 'world';
} 
```

注意函数定义的格式是正确的，而 ascii 艺术不是

学分：

1.  [Katja Christiansen](https://stackoverflow.com/users/1288408/katja-christiansen)发表评论
2.  [https://stackoverflow.com/a/3353765/639035](https://stackoverflow.com/a/3353765/639035)：类似的答案

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T12:34:26.580

尝试在每一行之后做一个空注释：

```
define([ //
    'jquery', //
    'aloha', //
    'aloha/plugin', //
    'ui/ui', //
    'ui/scopes', //
    'ui/button', //
    'ui/toggleButton', //
... 
```

不好，但我认为它会工作。

# android - 如何将音频从麦克风带到 Android 上的扬声器？

> ID：12388195
> 
> 赞同：1
> 
> 时间：2012-09-12T12:29:06.843
> 
> 标签：android

我的问题是当我对着麦克风说话时，我希望我的声音传到具有 Android 操作系统的手机的扬声器上。我认为“MediaPlayer”类做不到。你有什么办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:41:48.483

在这里，您不清楚要在哪种情况下执行此操作，但是可以使用`AudioManager`，您可以设置模式和音频服务。有关更多详细信息，请参阅此链接：

[音频管理器](http://developer.android.com/reference/android/media/AudioManager.html)

# linux - 如何通过权限保护drupal文件？

> ID：12388197
> 
> 赞同：1
> 
> 时间：2012-09-12T12:29:16.070
> 
> 标签：linux, security, drupal, permissions, drupal-7

我在问什么是对drupal文件最好的linux权限，以保护它。
我的 setting.php 低于 444 ，但其他的是 755 。
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:37:48.440

完成对 settings.php 文件的编辑后，您应该将其更改为 440，只为您和网络服务器提供只读访问权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T12:09:33.127

440 适合设置文件。对于其他人：

导航到站点/默认文件夹：

```
chown -R :www-data files 
```

然后给你和网络服务器对文件夹的读/写权限（'s'使目录中的文件继承这些权限。）

```
chmod g+ws files 
```

如果您需要覆盖以前创建的文件的权限（导航到站点/默认/文件）：

```
find . -type d -exec chmod g+ws {} \;
find . -type f -exec chmod 664 {} \; 
```

现在您的网络服务器可以读/写但不能执行文件目录中的文件。

# jquery - 如何使用 jQuery 检索动态添加/删除的数据行？

> ID：12388201
> 
> 赞同：0
> 
> 时间：2012-09-12T12:29:32.373
> 
> 标签：jquery

我正在尝试使用 jQuery 从 html 表中的动态行中获取数据。我提到了以下用于创建动态行的代码片段

jQuery函数

```
 $("#madd").click(function(){

         if ($("#selected_text").html()!=''){
          $(this).closest("tr").clone(true).appendTo("#fmly_dtls").find('input').val('');
    }else{
        alert('Please save the data');
    }
 }); 
```

表 id 是`#fmly_dtls`，所以当我单击添加按钮时，我将行添加到表中。添加 5 行后，我试图从动态行数据中检索该数据。

```
$("#finalbtn").click(function(){
    var membrdt='';
$("#fmly_dtls tr").each(function (i) {         
    var myValue2 = $(this).closest('tr').find('td:first'); 
    alert($(this).children('td:first').val());
}); 
```

`#finalbtn`是html按钮。当我点击按钮时。上面检索数据有什么问题吗？

jsfiddle :- [JSFIDLE URL](http://jsfiddle.net/sureshr4u/WnuuM/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:39:41.800

尝试这个：

**编辑：** 由于您试图获取 a`textbox`而不是`td`本身的值，因此您应该使用`val()`来获取值。另外，看看你的小提琴，文本框的类型是`text`而不是`textbox`. 这是更新的[**jsFiddle**](http://jsfiddle.net/WnuuM/3/)。

```
$("#finalbtn").click(function() {
    var membrdt = '';
    $("#fmly_dtls tr").each(function(i) {
        var myValue2 = $(this).find('td:first :text').val();
    });
});​ 
```

# android - 在 Android App 中集成 flickr api

> ID：12388203
> 
> 赞同：4
> 
> 时间：2012-09-12T12:29:35.597
> 
> 标签：android, social-networking, flickr

我正在为 Android 创建一个社交网络集成应用程序。我已经可以在 Facebook、Twitter 和 Linkedin 上发帖了。现在我必须将 Flickr 集成到应用程序中。我找不到如何在 Android 应用程序中集成闪烁的适当示例。

我的源代码如下：

这是**FlickrViewerActivity**类：

```
 public class FlickrViewerActivity extends Activity {

    public static final String CALLBACK_SCHEME = "flickrj-android-sample-oauth"; //$NON-NLS-1$
    public static final String PREFS_NAME = "flickrj-android-sample-pref"; //$NON-NLS-1$
    public static final String KEY_OAUTH_TOKEN = "flickrj-android-oauthToken"; //$NON-NLS-1$
    public static final String KEY_TOKEN_SECRET = "flickrj-android-tokenSecret"; //$NON-NLS-1$
    public static final String KEY_USER_NAME = "flickrj-android-userName"; //$NON-NLS-1$
    public static final String KEY_USER_ID = "flickrj-android-userId"; //$NON-NLS-1$

    private static final Logger logger = LoggerFactory.getLogger(FlickrjAndroidSampleActivity.class);

    private ListView listView;
    private TextView textUserTitle;
    private TextView textUserName;
    private TextView textUserId;
    private ImageView userIcon;
    private ImageButton refreshButton;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            this.textUserTitle = (TextView) this.findViewById(R.id.profilePageTitle);
            this.textUserName = (TextView) this.findViewById(R.id.userScreenName);
            this.textUserId = (TextView) this.findViewById(R.id.userId);
            this.userIcon = (ImageView) this.findViewById(R.id.userImage);
            this.listView = (ListView) this.findViewById(R.id.imageList);
            this.refreshButton = (ImageButton)     this.findViewById(R.id.btnRefreshUserProfile);

            this.refreshButton.setOnClickListener(new OnClickListener() {
                    @Override
                    public void onClick(View v) {
                            load(getOAuthToken());
                    }
            });

            OAuth oauth = getOAuthToken();
            if (oauth == null || oauth.getUser() == null) {
                    OAuthTask task = new OAuthTask(this);
                    task.execute();
            } else {
                    load(oauth);
            }
    }

    private void load(OAuth oauth) {
            if (oauth != null) {
                    new LoadUserTask(this, userIcon).execute(oauth);
                    new LoadPhotostreamTask(this, listView).execute(oauth);
            }
    }

     @Override
        public void onDestroy() {
    listView.setAdapter(null);
    super.onDestroy();
     }

       /* (non-Javadoc)
       * @see android.app.Activity#onNewIntent(android.content.Intent)
       */
       @Override
        protected void onNewIntent(Intent intent) {
            //this is very important, otherwise you would get a null Scheme in the onResume                        later on.
            setIntent(intent);
       }

      public void setUser(User user) {
            textUserTitle.setText(user.getUsername());
            textUserName.setText(user.getRealName());
            textUserId.setText(user.getId());
      }

          public ImageView getUserIconImageView() {
            return this.userIcon;
       }

    @Override
    public void onResume() {
            super.onResume();
            Intent intent = getIntent();
            String scheme = intent.getScheme();
            OAuth savedToken = getOAuthToken();
            if (CALLBACK_SCHEME.equals(scheme) && (savedToken == null || savedToken.getUser() == null)) {
                    Uri uri = intent.getData();
                    String query = uri.getQuery();
                    logger.debug("Returned Query: {}", query); //$NON-NLS-1$
                    String[] data = query.split("&"); //$NON-NLS-1$
                    if (data != null && data.length == 2) {
                            String oauthToken = data[0].substring(data[0].indexOf("=") + 1); //$NON-NLS-1$
                            String oauthVerifier = data[1]
                                            .substring(data[1].indexOf("=") + 1); //$NON-NLS-1$
                            logger.debug("OAuth Token: {}; OAuth Verifier: {}", oauthToken, oauthVerifier); //$NON-NLS-1$

                            OAuth oauth = getOAuthToken();
                            if (oauth != null && oauth.getToken() != null && oauth.getToken().getOauthTokenSecret() != null) {
                                    GetOAuthTokenTask task = new GetOAuthTokenTask(this);
                                    task.execute(oauthToken, oauth.getToken().getOauthTokenSecret(), oauthVerifier);
                            }
                    }
            }

    }

          public void onOAuthDone(OAuth result) {
            if (result == null) {
                    Toast.makeText(this,
                                    "Authorization failed", //$NON-NLS-1$
                                    Toast.LENGTH_LONG).show();
                    } else {
                    User user = result.getUser();
                    OAuthToken token = result.getToken();
                    if (user == null || user.getId() == null || token == null
                                    || token.getOauthToken() == null
                                    || token.getOauthTokenSecret() == null) {
                            Toast.makeText(this,
                                            "Authorization failed", //$NON-NLS-1$
                                            Toast.LENGTH_LONG).show();
                            return;
                    }
           String message = String.format(Locale.US, "Authorization Succeed:        user=%s, userId=%s, oauthToken=%s, tokenSecret=%s", //$NON-NLS-1$
                                    user.getUsername(), user.getId(),   token.getOauthToken(), token.getOauthTokenSecret());
                      Toast.makeText(this,
                                    message,
                                    Toast.LENGTH_LONG).show();
                    saveOAuthToken(user.getUsername(), user.getId(), token.getOauthToken(), token.getOauthTokenSecret());
                    load(result);
            }
    }

        public OAuth getOAuthToken() {
     //Restore preferences
      SharedPreferences settings = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);
      String oauthTokenString = settings.getString(KEY_OAUTH_TOKEN, null);
      String tokenSecret = settings.getString(KEY_TOKEN_SECRET, null);
        if (oauthTokenString == null && tokenSecret == null) {
            logger.warn("No oauth token retrieved"); //$NON-NLS-1$
            return null;
        }
        OAuth oauth = new OAuth();
         String userName = settings.getString(KEY_USER_NAME, null);
        String userId = settings.getString(KEY_USER_ID, null);
         if (userId != null) {
            User user = new User();
            user.setUsername(userName);
            user.setId(userId);
            oauth.setUser(user);
         }
        OAuthToken oauthToken = new OAuthToken();
         oauth.setToken(oauthToken);
         oauthToken.setOauthToken(oauthTokenString);
          oauthToken.setOauthTokenSecret(tokenSecret);
          logger.debug("Retrieved token from preference store: oauth token={}, and token  secret={}", oauthTokenString, tokenSecret); //$NON-NLS-1$
           return oauth;
            }

       public void saveOAuthToken(String userName, String userId, String token, String  tokenSecret) {
       logger.debug("Saving userName=%s, userId=%s, oauth token={}, and token secret={}",    new String[]{userName, userId, token, tokenSecret}); //$NON-NLS-1$
       SharedPreferences sp = getSharedPreferences(PREFS_NAME,
                            Context.MODE_PRIVATE);
            Editor editor = sp.edit();
            editor.putString(KEY_OAUTH_TOKEN, token);
            editor.putString(KEY_TOKEN_SECRET, tokenSecret);
            editor.putString(KEY_USER_NAME, userName);
            editor.putString(KEY_USER_ID, userId);
            editor.commit();
      }

    } 
```

OAuthTask**类**：

```
public class OAuthTask extends AsyncTask<Void, Integer, String> {

private static final Logger logger = LoggerFactory
                .getLogger(OAuthTask.class);
private static final Uri OAUTH_CALLBACK_URI = Uri.parse(FlickrjAndroidSampleActivity.CALLBACK_SCHEME
                + "://oauth"); //$NON-NLS-1$

/**
 * The context.
 */
private Context mContext;

/**
 * The progress dialog before going to the browser.
 */
private ProgressDialog mProgressDialog;

/**
 * Constructor.
 * 
 * @param context
 */
public OAuthTask(Context context) {
        super();
        this.mContext = context;
}

@Override
protected void onPreExecute() {
        super.onPreExecute();
        mProgressDialog = ProgressDialog.show(mContext,
                        "", "Generating the authorization request..."); //$NON-NLS-1$ //$NON-NLS-2$
        mProgressDialog.setCanceledOnTouchOutside(true);
        mProgressDialog.setCancelable(true);
        mProgressDialog.setOnCancelListener(new OnCancelListener() {
                @Override
                public void onCancel(DialogInterface dlg) {
                        OAuthTask.this.cancel(true);
                }
        });
}

/*
 * (non-Javadoc)
 * 
 * @see android.os.AsyncTask#doInBackground(Params[])
 */
@Override
protected String doInBackground(Void... params) {
        try {
                Flickr f = FlickrHelper.getInstance().getFlickr();
                OAuthToken oauthToken = f.getOAuthInterface().getRequestToken(
                                OAUTH_CALLBACK_URI.toString());
                saveTokenSecrent(oauthToken.getOauthTokenSecret());
                URL oauthUrl = f.getOAuthInterface().buildAuthenticationUrl(
                                Permission.READ, oauthToken);
                return oauthUrl.toString();
        } catch (Exception e) {
                logger.error("Error to oauth", e); //$NON-NLS-1$
                return "error:" + e.getMessage(); //$NON-NLS-1$
        }
}

/**
 * Saves the oauth token secrent.
 * 
 * @param tokenSecret
 */
private void saveTokenSecrent(String tokenSecret) {
        logger.debug("request token: " + tokenSecret); //$NON-NLS-1$
        FlickrjAndroidSampleActivity act = (FlickrjAndroidSampleActivity) mContext;
        act.saveOAuthToken(null, null, null, tokenSecret);
        logger.debug("oauth token secret saved: {}", tokenSecret); //$NON-NLS-1$
}

@Override
protected void onPostExecute(String result) {
        if (mProgressDialog != null) {
                mProgressDialog.dismiss();
        }
        if (result != null && !result.startsWith("error") ) { //$NON-NLS-1$
                mContext.startActivity(new Intent(Intent.ACTION_VIEW, Uri
                                .parse(result)));
        } else {
                Toast.makeText(mContext, result, Toast.LENGTH_LONG).show();
        }
}

} 
```

**清单**文件：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.flickr.test"
    android:versionCode="1"
    android:versionName="1.0" 
    android:installLocation="preferExternal">

    <uses-sdk
        android:minSdkVersion="9"
        android:targetSdkVersion="15" />
    <uses-permission android:name="android.permission.INTERNET"></uses-permission>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"></uses-permission>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission>

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".FlickrViewerActivity"
            android:label="@string/title_activity_flickr_viewer" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />

                <action android:name="android.intent.action.VIEW" />
                                <category android:name="android.intent.category.DEFAULT" />
                                <category android:name="android.intent.category.BROWSABLE" />
                                <data android:scheme="flickrj-android-sample-oauth" />

            </intent-filter>
        </activity>
    </application>

</manifest> 
```

Main.xml**文件**：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:padding="@dimen/padding_medium"
        android:text="@string/hello_world"
        tools:context=".FlickrViewerActivity" />

</RelativeLayout> 
```

我正在关注以下教程：

[http://code.google.com/p/flickrj-android/wiki/HowToGuide4Android](http://code.google.com/p/flickrj-android/wiki/HowToGuide4Android)

代码未执行，我正在寻找具有 Flickr 集成的 Android 解决方案或示例项目源代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-05T05:51:43.890

公共静态最终字符串CALLBACK_SCHEME =“flickrj-android-sample-oauth”；//$NON-NLS-1$ public static final String PREFS_NAME = "flickrj-android-sample-pref"; //$NON-NLS-1$ public static final String KEY_OAUTH_TOKEN = "flickrj-android-oauthToken"; //$NON-NLS-1$ public static final String KEY_TOKEN_SECRET = "flickrj-android-tokenSecret"; //$NON-NLS-1$ public static final String KEY_USER_NAME = "flickrj-android-userName"; //$NON-NLS-1$ public static final String KEY_USER_ID = "flickrj-android-userId"; //$非NLS-1$

如何获取此 oauth 令牌和令牌秘密？我通过在 flickr 上添加我的应用程序获得了 api 密钥和密钥，但是我的代码中出现了 oauth 错误？

# memory - 解释 ptxas 的详细输出，第一部分

> ID：12388207
> 
> 赞同：19
> 
> 时间：2012-09-12T12:29:51.887
> 
> 标签：memory, cuda, gpu-constant-memory, ptxas

我正在尝试了解我的每个 CUDA 线程的资源使用情况，以用于手写内核。

我将我`kernel.cu`的文件编译成一个`kernel.o`文件`nvcc -arch=sm_20 -ptxas-options=-v`

我得到以下输出（通过`c++filt`）：

```
ptxas info    : Compiling entry function 'searchkernel(octree, int*, double, int, double*, double*, double*)' for 'sm_20'
ptxas info    : Function properties for searchkernel(octree, int*, double, int, double*, double*, double*)
    72 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 46 registers, 176 bytes cmem[0], 16 bytes cmem[14] 
```

看上面的输出，这样说对吗

*   每个 CUDA 线程使用 46 个寄存器？
*   没有寄存器溢出到本地内存？

我在理解输出方面也有一些问题。

*   我的内核正在调用很多`__device__`函数。`__global__`和`__device__`函数的堆栈帧的内存总和是 72 字节吗？

*   `0 byte spill stores`和有什么区别`0 bytes spill loads`

*   为什么信息`cmem`（我假设是恒定记忆）用不同的数字重复两次？在内核中，我没有使用任何常量内存。这是否意味着编译器会*在后台*告诉 GPU 使用一些常量内存？

[这个问题在以下内容中“继续”：[解释 ptxas 的详细输出，第二部分](https://stackoverflow.com/questions/56176307/)]

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-12T13:31:16.300

*   每个 CUDA 线程使用 46 个寄存器？**是，对的**
*   没有寄存器溢出到本地内存？**是，对的**
*   `__global__`和`__device__`函数的堆栈帧的内存总和是 72 字节吗？**是，对的**
*   0 字节溢出存储和 0 字节溢出加载有什么区别？
    *   公平的问题，负载可能大于存储，因为您可以溢出计算值，加载一次，丢弃它（即将其他内容存储到该寄存器中）然后再次加载（即重用它）。*更新：*另请注意，溢出加载/存储计数基于@njuffa 在下面的评论中描述的静态分析
*   为什么 cmem 的信息（我假设是常量内存）用不同的数字重复两次？在内核中，我没有使用任何常量内存。这是否意味着编译器会在后台告诉 GPU 使用一些常量内存？
    *   常量内存用于几个目的，包括`__constant__`变量和内核参数，使用不同的“银行”，开始变得有点详细，但只要你的`__constant__`变量使用小于 64KB，内核参数使用小于 4KB，你就会好的。

# vb.net - ValidateServerCertificate - ServerCertificateValidationCallback

> ID：12388210
> 
> 赞同：1
> 
> 时间：2012-09-12T12:30:03.493
> 
> 标签：vb.net, ssl

我正在使用以下代码进行证书验证。

```
System.Net.ServicePointManager.ServerCertificateValidationCallback = New System.Net.Security.RemoteCertificateValidationCallback(AddressOf ValidateServerCertificate)

Public Shared Function ValidateServerCertificate(ByVal sender As Object, ByVal certificate As X509Certificate, ByVal chain As X509Chain, ByVal sslPolicyErrors As Net.Security.SslPolicyErrors) As Boolean
    If sslPolicyErrors = Net.Security.SslPolicyErrors.None Then
        Return True
    End If
    Return False
End Function 
```

我收到 RemoteCertificateChainErrors。如何解决它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-09-25T04:51:20.140

您的回调与系统默认验证没有任何不同。sslPolicyErrors 的值将指示失败是什么，您可以查询证书、链和发送者的属性，以决定是否要通过返回 true 来覆盖失败。

# c - 使用方法从C中“动态”的文件逐行读取文件

> ID：12388212
> 
> 赞同：1
> 
> 时间：2012-09-12T12:30:08.200
> 
> 标签：c, readfile

我有一个文件，我想逐行读取，但它必须动态完成，这意味着它应该只在我调用该方法时读取一行。一旦我下次调用该方法，它应该读取文件的下一行，依此类推。到目前为止，我只成功地读取了文件中的所有行，或者一遍又一遍地读取同一行。

这是我的代码片段：

带有方法的文件：

```
int getNextData(){
static const char filename[] = "file.txt";
   FILE *file = fopen ( filename, "r" );
   if ( file != NULL )
   {
      char line [ 5 ]; /* or other suitable maximum line size */

      if ( fgets ( line, sizeof line, file ) != NULL ) /* read a line */
      {
         fputs ( line, stdout ); /* write the line */
      }
   }
   else
   {
      perror ( filename ); /* why didn't the file open? */
   }
   return 0;
} 
```

主文件：

```
int main () {
     // this should give me two different numbers
getNextData();
    getNextData();
return 0;
} 
```

我省略了“包含”，但那部分是正确的。

在这种情况下，输出是同一行两次。

谁能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:33:05.450

问题很可能是您每次都打开文件，从而重置文件指针。尝试在主函数中只打开一次，然后将文件句柄传递给函数以进行读取。

以下是一些适合您的修改后的代码：

```
#include <stdio.h>

int getNextData(FILE * file){

   if ( file != NULL )
   {
       char line [ 5 ]; /* or other suitable maximum line size */

       if ( fgets ( line, sizeof line, file ) != NULL ) /* read a line */       
       {          
          fputs ( line, stdout ); /* write the line */       
       }    
   }    

  return 0; 
}

int main () {      // this should give me two different numbers 
  static const char filename[] = "file.txt";
  FILE *file = fopen ( filename, "r" );
  getNextData(file);     
  getNextData(file); 
  return 0; 
} 
```

使用此代码，给定文件：

```
mike@linux-4puc:~> ls -l file.txt
-rw-r--r-- 1 mike users 15 Sep 11 18:18 file.txt
mike@linux-4puc:~> cat file.txt
bye
sh
ccef 
```

我正在看：

```
mike@linux-4puc:~> ./a.out 
bye
sh 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:32:56.377

您需要以某种方式维护状态，在这种情况下，在您所在的文件中，在调用之间。

最简单的方法是继续`FILE *`直播：

```
int getNextData(void) {
  static const char filename[] = "file.txt";
  static FILE *file = NULL;

  if( file == NULL )
    file = fopen ( filename, "r" );

  /* rest of function */
} 
```

请注意，这有点难看，它使得（因为函数是`void`）无法重新开始读取，当文件结束时会发生什么？但这是最简单的方法。您应该能够以此为基础。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T15:09:56.847

附带说明：您的任务与 I/O 相关，但从您的描述来看，它似乎对您从文件中读取的数据没有任何作用（除了回显它）。这可能会混淆合适的解决方案。

我会尝试超越语言语法并专注于预期的程序功能。在一种方法中，您可以定义程序状态结构/句柄以包含文件指针、行号、缓冲区等。然后您的函数将从句柄中获取状态并将下一行从文件读取到 .

所以流程可能是： `init(appstate, filename) ==> loop:{ read_file(appstate) ==> process_line(appstate) } ==> end(appstate)`

这使得程序流程更清晰，并通过显式定义程序状态来避免使用静态变量。

# phpbb - 想在phpbb3中设置类别

> ID：12388218
> 
> 赞同：0
> 
> 时间：2012-09-12T12:30:33.167
> 
> 标签：phpbb, phpbb3

我是新手`phpBB3`。我刚刚安装`phpBB3`在我的`localhost`. 我已经经历过了。我遇到一个问题，如果我想创建两种类型的论坛
1.`Pre Sales`任何访问者都可以看到，或者`visitors who are logged in`
2.`Post Sales`只有付费的访问者才能访问，
请问有什么解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:34:20.640

对于`Pre sales`论坛，您不必做任何特别的事情。默认情况下，客人将能够看到该论坛。

对于`Post Sales`，您将创建您的论坛，但这样做时不要从任何其他论坛复制权限。然后登录到您的管理员控制面板，选择`Forums`选项卡。在左侧选择`Forum Permissions`。

此时您有两个选择。如果您将用户放入组中，例如`customer`可以访问的组`Post Sales`，您将使用该`Groups`列。否则，您将管理每个单独的用户。我假设您希望按组执行此操作。

从右下角的框中选择您希望访问此论坛的组。单击添加权限，它们将出现在右上角的框中。现在突出显示所有这些并选择编辑权限。

在下一个屏幕中，您可以自定义他们在这个特定论坛上可以（不能）做的事情。最简单的是选择预配置选项之一（标准、标准+投票等），但如果您想管理特定权限也可以。

# windows-8 - 如果从foursquare 传递给Facebook，WebAuthenticationBroker 会挂起

> ID：12388221
> 
> 赞同：2
> 
> 时间：2012-09-12T12:30:37.567
> 
> 标签：windows-8, windows-runtime, oauth-2.0, foursquare, facebook-oauth

我编写了一个基于 XAML 的 WinRT 应用程序，它通过 WebAuthenticationBroker.AuthenticateAsync 调用连接到foursquare。这是授权代码：

```
 public async Task<string> FsqAuthenticate()
    {
        var fsqAuthUrl = string.Format(
            "https://foursquare.com/oauth2/authenticate?client_id={0}&response_type=code&redirect_uri={1}&display=webpopup", 
            ClientId, RedirectUri);
        var requestUri = new Uri(fsqAuthUrl, UriKind.RelativeOrAbsolute);
        var redirUri = new Uri(RedirectUri, UriKind.RelativeOrAbsolute);
        string authCode = string.Empty;
        string authToken = string.Empty;

        try
        {
            ResponseErrorMsg = string.Empty;

            WebAuthenticationResult WebAuthenticationResult = await WebAuthenticationBroker.AuthenticateAsync(
                WebAuthenticationOptions.None,
                requestUri, redirUri);

            if (WebAuthenticationResult.ResponseStatus == WebAuthenticationStatus.Success)
            { 
```

如果用户选择直接通过foursquare 进行身份验证，或者通过foursquare 注册，则此方法可以正常工作。但是，方形 OAuth 页面为用户提供了通过 Facebook 登录/注册的选项。如果选中，初始 Facebook 登录屏幕将正确显示；用户可以输入用户名/密码并选择“登录”按钮；然后窗口变为空白。似乎控制权正在传递给 Facebook 的弹出窗口，提示您授予权限。但是，WebAuthenticationBroker 没有显示这个。出于所有意图和目的，WebAuthenticationBroker 已挂起。

这种行为是否存在解决方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T15:06:50.787

我终于能够在这个问题上得到微软的回应：

> Facebook Connect 无法工作，因为它需要在多个页面之间进行通信，但 Webauth Broker 一次只能激活一个。这里的问题是foursquare为facebook授权启动一个弹出窗口并等待弹出窗口完成并在第一个foursquare页面上触发一个事件。在 webauth 的情况下，我们导航到所有内联弹出窗口，因此启动弹出窗口的第一页将消失，并且没有可以发送回第一页的事件。

结果是，除了编写自己的登录过程并完全绕过 WebAuthenticationBroker 之外，没有任何解决方法（我最终这样做了）。

TL；DR：WebAuthenticationBroker 已损坏，目前没有修复它的计划。

# jasper-reports - iReport 4.5.1：“Stretch With Overflow”一个词

> ID：12388222
> 
> 赞同：1
> 
> 时间：2012-09-12T12:30:41.023
> 
> 标签：jasper-reports, ireport

我有一个带有选项***Stretch With Overflow***的文本字段。除非我的文字中有长词，否则它可以完美运行。在那种情况下，我的“长”词的一部分被隐藏了。

如何强制将一个单词拉伸成两行？

# php - 使用 php mysql javascript 上传多个图像

> ID：12388228
> 
> 赞同：0
> 
> 时间：2012-09-12T12:31:04.033
> 
> 标签：php, javascript, mysql

嗨，我想上传多个图像并使用带有 php、mysql 和 javascript 的单个表单插入 mysql db。我正在应用编码。php 上传将正常工作。但是用于多选的 javascript 代码不起作用。我正在设置 + 和 _ 符号以添加或删除多个选择框，以便在单个提交中进行选择和上传。上传和插入数据库工作正常。但是 incement(+) 符号不起作用。我一次只能上传一张图片。我显示了下面的代码。请帮我。

索引.php：

```
<html>
<head>
<title>Multiple Upload</title>
</head>
<script language="javascript">
    function fncCreateElement(){

       var mySpan = document.getElementById('mySpan');

       var myLine = document.getElementById('hdnLine');
       myLine.value++;

       // Create input text
       var myElement1 = document.createElement('input');
       myElement1.setAttribute('type',"text");
       myElement1.setAttribute('name',"txtGalleryName"+myLine.value);
       myElement1.setAttribute('id',"txt"+myLine.value);
       mySpan.appendChild(myElement1);  

       // Create input file
       var myElement2 = document.createElement('input');
       myElement2.setAttribute('type',"file");
       myElement2.setAttribute('name',"fileUpload"+myLine.value);
       myElement2.setAttribute('id',"fil"+myLine.value);
       mySpan.appendChild(myElement2);  

       // Create <br>
       var myElement3 = document.createElement('<br>');
       myElement3.setAttribute('id',"br"+myLine.value);
       mySpan.appendChild(myElement3);
    }

    function fncDeleteElement(){

        var mySpan = document.getElementById('mySpan');

        var myLine = document.getElementById('hdnLine');

        if(myLine.value > 1 )
        {

            // Remove input text
            var deleteFile = document.getElementById("txt"+myLine.value);
            mySpan.removeChild(deleteFile);

            // Remove input file
            var deleteFile = document.getElementById("fil"+myLine.value);
            mySpan.removeChild(deleteFile);

            // Remove <br>
            var deleteBr = document.getElementById("br"+myLine.value);
            mySpan.removeChild(deleteBr);

            myLine.value--;
        }
    }
</script>
<body>
    <form action="upload.php" method="post" name="form1" enctype="multipart/form-data">
        <input type="text" name="txtGalleryName1"><input type="file" name="fileUpload1">
        <input name="btnCreate" type="button" value="+" onClick="JavaScript:fncCreateElement();">
        <input name="btnDelete" type="button" value="-" onClick="JavaScript:fncDeleteElement();"><br>   
        <span id="mySpan"></span>
        <input name="hdnLine" type="hidden" value="1">
        <input name="btnSubmit" type="submit" value="Submit">
    </form>
</body>
</html>

upload.php:

<?php
include("config.php");
        for($i=1;$i<=(int)($_POST["hdnLine"]);$i++)
        {
            if($_FILES["fileUpload".$i]["name"] != "")
            {
                if(copy($_FILES["fileUpload".$i]["tmp_name"],"shotdev/".$_FILES["fileUpload".$i]["name"]))
                {
                    $strSQL = "INSERT INTO gallery ";
                    $strSQL .="(GalleryName,Picture) VALUES ('".$_POST["txtGalleryName".$i]."','".$_FILES["fileUpload".$i]["name"]."')";
                    mysql_query($strSQL);
                    echo "Copy/Upload ".$_FILES["fileUpload".$i]["name"]." completed.<br>";
                }
            }
        }

        echo "<br><a href='view.php'>View file</a>";

        mysql_close();
    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:52:36.743

**更改**此行：

```
<input name="hdnLine" type="hidden" value="1"> 
```

进入：

```
<input id="hdnLine" type="hidden" value=1> 
```

# apache-flex - Flex 显示文本 2 秒后隐藏文本

> ID：12388229
> 
> 赞同：0
> 
> 时间：2012-09-12T12:31:08.930
> 
> 标签：apache-flex, effect, visible, invisible

我有一个我正在尝试完成的场景：我有始终在屏幕上的文本，但大部分时间可见设置为 false。我有一个处理程序，当事件发生时，它会使这个 Text 可见。到目前为止很容易。不过，下一个要求是向此文本添加效果，使其在出现 2 秒后消失。所以基本上我需要一个效果来等待 2 秒，然后将可见设置回 false。

我以前从未在 Flex 中使用过效果器，所以我什至不知道从哪里开始。谢谢指导！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:50:19.430

您只需要启动一个 2 秒的 Timer(2000) 和一个 TimerEvent.Timer 事件来设置文本字段 visible = false;

更新：（在第一条评论之后）

您也可以从编程方面执行以下操作，但不是那么好，最后仍然在后台使用计时器或类似的东西。

```
<mx:Text
     showEffect="myHideFadeEffect"/>

<mx:FadeEffect
    id        = "myHideFadeEffect"
    alphaFrom = "1"
    alphaTo   = "0"
    startDelay= "2000"/> 
```

但是我再次不推荐这种方法。

# spring - spring security 3.1.2.RELEASE 中的 sessionManagementFilter

> ID：12388230
> 
> 赞同：2
> 
> 时间：2012-09-12T12:31:12.107
> 
> 标签：spring, spring-security

当用户在会话结束后尝试发送 ajax 请求时，我正在使用 sessionManagementFilter 将用户重定向到登录页面。升级到**spring security 3.1.2.RELEASE**后**sessionManagementFilter**不工作，我得到异常。

这是我对**sessionManagementFilter 的配置：**

```
<custom-filter ref="sessionManagementFilter" before="SESSION_MANAGEMENT_FILTER" />
    <beans:bean id="sessionManagementFilter" class="org.springframework.security.web.session.SessionManagementFilter">
        <beans:constructor-arg name="securityContextRepository" ref="httpSessionSecurityContextRepository" />
        <beans:property name="invalidSessionUrl" value="/login" />

        <beans:property name="redirectStrategy" ref="jsfRedirectStrategy" />
    </beans:bean>

    <beans:bean id="jsfRedirectStrategy" class="com.mysecurity.JsfRedirectStrategy"/>
    <beans:bean id="httpSessionSecurityContextRepository" class="org.springframework.security.web.context.HttpSessionSecurityContextRepository"/> 
```

我得到以下**异常**：

```
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot resolve reference to bean 'sessionManagementFilter' while setting constructor argument with key [8]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1360)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:591)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:469)
    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:383)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot resolve reference to bean 'sessionManagementFilter' while setting constructor argument with key [8]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:616)
    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:148)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1035)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:939)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
    ... 25 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1396)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
    ... 39 more
Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1064)
    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:924)
    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)
    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1393)
    ... 47 more
Sep 12, 2012 11:00:45 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot resolve reference to bean 'sessionManagementFilter' while setting constructor argument with key [8]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1360)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:591)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:469)
    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:383)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)
    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot resolve reference to bean 'sessionManagementFilter' while setting constructor argument with key [8]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:616)
    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:148)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1035)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:939)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
    ... 25 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionManagementFilter' defined in class path resource [META-INF/spring/applicationSecurity.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1396)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
    ... 39 more
Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'invalidSessionUrl' of bean class [org.springframework.security.web.session.SessionManagementFilter]: Bean property 'invalidSessionUrl' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1064)
    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:924)
    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)
    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1393) 
```

请告知如何解决此异常。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T12:43:28.993

在 Spring Security 3.1.X [`SessionManagementFilter`](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/SessionManagementFilter.html)API 中发生了变化——它不再接受`redirectStrategy`and `invalidSessionUrl`，而是接受[`InvalidSessionStrategy`](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/InvalidSessionStrategy.html)实例。

您应该执行以下操作：

```
<beans:bean id="sessionManagementFilter" 
    class="org.springframework.security.web.session.SessionManagementFilter">
  <beans:constructor-arg name="securityContextRepository"
    ref="httpSessionSecurityContextRepository" />
  <beans:property name="invalidSessionStrategy">
    <beans:bean class="org.springframework.security.web.session.SimpleRedirectInvalidSessionStrategy">
       <beans:constructor-arg name="invalidSessionUrl" value="/login" />
    </beans:bean>
  </beans:property>
</beans:bean>
<beans:bean id="httpSessionSecurityContextRepository" class="org.springframework.security.web.context.HttpSessionSecurityContextRepository"/> 
```

您可能也需要`sessionAuthenticationStrategy`as`sessionManagementFilter`的依赖项，只需检查[文档](http://static.springsource.org/spring-security/site/docs/3.1.x/reference/session-mgmt.html)即可。

# android - 搜索小部件中的自定义搜索建议

> ID：12388231
> 
> 赞同：4
> 
> 时间：2012-09-12T12:31:15.290
> 
> 标签：android, search, android-searchmanager

我在我的应用程序中使用**搜索小部件**。我想**在服务器中提供带有人名**的搜索建议。如何提供从**web**服务中检索名称的自定义搜索建议？

我需要在这里执行哪些步骤？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T09:24:56.253

这些链接如何帮助您入门，[Android 搜索概述](http://developer.android.com/guide/topics/search/index.html)和[如何将搜索功能添加到您的 Android 应用程序](http://matthias.jimdo.com/2011/06/06/how-to-add-search-functionality-to-your-android-application/)。

# php - 清除以前的 $_GET 值或不获取仅隐藏字段的值

> ID：12388232
> 
> 赞同：0
> 
> 时间：2012-09-12T12:31:23.220
> 
> 标签：php, javascript, mysql, html, get

I have radio buttons which when selected populate a dropdwn menu from mysql. 下面是单选按钮的代码：

```
<div>
  <input type="radio"  id="radioButton1" name="design" style="vertical-align: middle"  value=3 <?php echo ($_GET['design'] == 3 ? 'checked' : '') ?>/>
  <label for="design">Single Vision</label> 
</div> 
```

我有五个具有不同 ID 的单选按钮。根据选中的单选按钮，javascript 可以阻止显示。这是javascript的一部分：

```
if (form.radioButton1.checked) {
  sv2.style.display = "none";
  sv3.style.display = "none";
  sv4.style.display = "none";
  sv5.style.display = "none";
  sv.style.display = "block";
  sv.selectedIndex = 0;
} 
```

我有五个下拉菜单都带有显示：无。

现在根据选中的单选按钮，这是要显示的下拉菜单的代码：

```
<select style="width:200px; display:none" name="pGroup1" id="sv" >
  <option value="Choose an Option" selected="selected">Choose Single Vision Product Group</option>
  <?php $selGroup = isset($_GET['pGroup1'])?$_GET['pGroup1']:"";
    $sql="SELECT DISTINCT pGroup FROM cr39 WHERE ";
    $sql.="HeadingNo = 3  ORDER BY pGroup ASC";
    $result =mysql_query($sql);
    while ($data=mysql_fetch_assoc($result)){
  ?>
  <option <?php if($data['pGroup'] == $selGroup) echo 'selected="selected"'; ?>  value ="<?php echo $data['pGroup'] ?>" ><?php echo $data['pGroup'] ?></option><?php } ?>
</select> 
```

我正在使用 GET 方法，并且提交的表单具有下拉菜单显示的值：无。这会在我的查询中产生问题，因为我只需要带有 display:block 的 select 的值，而不需要带有 display:none 的其他 select。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:41:51.413

也许我很困惑，但听起来你是在告诉我们表单正在提交所有单选按钮的值？

确保所有单选按钮**的 name 属性具有相同的值**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:35:15.317

看起来您提交了一个带有单选按钮的表单，并且表单的值修改了一个显示选择框的查询。如果是这样，为什么不使用 $_POST 而不是 $_GET？此外，请务必使用`mysql_real_escape_string($_GET['pGroup1'])`或`htmlspecialchars($_GET['pGroup1'], ENT_QUOTES, 'UTF-8');`

AJAX 解决方案：

使用以下 HTML：

```
<input type="radio" name="radioGroup-single" value="1" /><label for="radioGroup-single">Single Vision</label> 
<input type="radio" name="radioGroup-whatever" value="2" /><label for="radioGroup-whatever">Whatever Vision</label> 
<input type="radio" name="radioGroup-another" value="3" /><label for="radioGroup-another">Another Vision</label> 
```

使用以下 jQuery：

```
$("input:radio[name=radioGroup]").click(function() {
    var pGroupId = $(this).val();
    $('#myDropdownDiv').load('myDropdownBoxPage.php?pGroupId='+pGroupId);
}); 
```

像这样在页面中放置一个 DIV，其中将填充以下内容：

```
<div id="myDropdownDiv"></div> 
```

创建一个这样的页面，称为`myDropdownBoxPage.php`：

```
<select style="width:200px; display:none" name="pGroup1" id="sv" >
  <option value="Choose an Option" selected="selected">Choose Single Vision Product Group</option>
  <?php $selGroup = isset($_GET['pGroupId'])?$_GET['pGroupId']:"";
    $sql="SELECT DISTINCT pGroup FROM cr39 WHERE ";
    $sql.="HeadingNo = 3  ORDER BY pGroup ASC";
    $result =mysql_query($sql);
    while ($data=mysql_fetch_assoc($result)){
  ?>
  <option <?php if($data['pGroup'] == $selGroup) echo 'selected="selected"'; ?>  value ="<?php echo $data['pGroup'] ?>" ><?php echo $data['pGroup'] ?></option><?php } ?>
</select> 
```

# java - 如何打开不属于 Eclipse 项目的 Ant 文件？

> ID：12388234
> 
> 赞同：0
> 
> 时间：2012-09-12T12:31:28.723
> 
> 标签：java, eclipse, ant

如何打开一个`xml`构建`ant`文件但**不是**Eclipse 项目的一部分？它只是文件系统某处的一个文件？

我可以通过 Eclipse 打开它，但我找不到打开它的选项`Open with-> Ant`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:43:24.990

您只需像普通 XML 一样打开文件。然后您必须打开视图大纲才能访问脚本目标。

大纲的快捷方式是“Shift + Alt + O, Q”或从菜单 Window -> Show View -> Outline

# php - 使用未排序的索引对数组进行排序

> ID：12388237
> 
> 赞同：0
> 
> 时间：2012-09-12T12:31:37.347
> 
> 标签：php, arrays, sorting

我有一个这样的数组，带有未排序的外部索引。

```
$a = array(
             (1) => array(1, 2, 3, 0, 5, 4),
             (0) => array(2, 1, 5, 0, 3, 4)
         );
echo "<br/>Before Sorting: ";
print_r($a);
foreach($a as $b)
  array_multisort($b, SORT_ASC, SORT_NUMERIC);
echo "<br/>After Sorting: ";
print_r($a); 
```

这给了我如下输出

排序前：

```
Array
(
    [1] => Array
        (
            [0] => 1
            [1] => 2
            [2] => 3
            [3] => 0
            [4] => 5
            [5] => 4
        )

    [0] => Array
        (
            [0] => 2
            [1] => 1
            [2] => 5
            [3] => 0
            [4] => 3
            [5] => 4
        )

) 
```

排序后：

```
Array
(
    [1] => Array
        (
            [0] => 1
            [1] => 2
            [2] => 3
            [3] => 0
            [4] => 5
            [5] => 4
        )

    [0] => Array
        (
            [0] => 2
            [1] => 1
            [2] => 5
            [3] => 0
            [4] => 3
            [5] => 4
        )

) 
```

我想要的是什么

```
$a = array(
              (0) => array(2, 1, 5, 0, 3, 4),
              (1) => array(1, 2, 3, 0, 5, 4)

          ); 
```

请告诉我如何处理......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T12:33:22.417

[仅使用ksort](http://www.php.net/manual/en/function.ksort.php)怎么样（因为您需要按键重新排序数组）？

```
$a = array(
  1 => array(1, 2, 3, 0, 5, 4),
  0 => array(2, 1, 5, 0, 3, 4)
);
echo "<br/>Before Sorting: ";
print_r($a);

ksort($a);
echo "<br/>After Sorting: ";
print_r($a); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:37:29.123

由于您只想按顶级索引进行排序，因此不需要使用多重排序。你甚至不需要循环。

试试这个：

```
$a = array(
             (1) => array(1, 2, 3, 0, 5, 4),
             (0) => array(2, 1, 5, 0, 3, 4)
         );

ksort($a);

print_r($a); 
```

应该给你你想要的。

有关更多信息，请参见[http://www.php.net/manual/en/function.ksort.php](http://www.php.net/manual/en/function.ksort.php)。

# c# - 是否有在 TreeView.Nodes 集合中搜索 TreeNode.Text 字段的方法？

> ID：12388249
> 
> 赞同：26
> 
> 时间：2012-09-12T12:32:36.350
> 
> 标签：c#, winforms, treeview, treenode

像这样：

```
TreeNode[] treeNodes = treeView.Nodes.Find(searchString, true); 
```

但我希望它在`text`字段而不是`name`字段中搜索。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-12T12:34:55.567

我不知道任何内置方法，但您可以使用 LINQ

```
TreeNode[] treeNodes = treeView.Nodes
                                    .Cast<TreeNode>()
                                    .Where(r => r.Text == "yourText")
                                    .ToArray(); 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-09-12T12:45:15.130

要搜索所有树节点（不仅是直接子节点），您可以使用下面的扩展方法

```
var nodes = treeView1.FlattenTree()
                     .Where(n => n.Text == "sometext")
                     .ToList(); 
```

--

```
public static class SOExtension
{
    public static IEnumerable<TreeNode> FlattenTree(this TreeView tv)
    {
        return FlattenTree(tv.Nodes);
    }

    public static IEnumerable<TreeNode> FlattenTree(this TreeNodeCollection coll)
    {
        return coll.Cast<TreeNode>()
                    .Concat(coll.Cast<TreeNode>()
                                .SelectMany(x => FlattenTree(x.Nodes)));
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:42:12.027

如果我理解正确（你最后一个问题很混乱），你可以自己写一个 find 方法，如下所示

```
public static TreeNode[] Find(this TreeNode motherNode, string findNodeText)
{
    List<TreeNode> nodeList = new List<TreeNode>();
    foreach (TreeNode childNode in motherNode.Nodes)
        if (childNode.Text.Equals(findNodeText, StringComparison.CurrentCulture))
            nodeList.Add(childNode);
    return nodeList.ToArray<TreeNode>();
} 
```

这种方法可以像

```
TreeView myTreeView = new TreeView();
foreach (TreeNode node in myTreeView.Nodes)
{
    TreeNode[] childNodes = node.Find("Text");
    // Do something...
} 
```

我希望这有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-28T03:51:59.433

以下代码仅显示与搜索条件匹配的节点。

在搜索事件中复制以下代码

```
 private void tbxSearch_KeyUp(object sender, KeyEventArgs e)
    {
        if (e.KeyCode == Keys.Enter)
        {
            trvMenu.BeginUpdate();
            if (tbxSearch.Text.Length > 0)
            {
                for (int i = trvMenu.Nodes.Count;  i > 0  ; i--)
                {
                    NodeFiltering(trvMenu.Nodes[i - 1], tbxSearch.Text);
                }
            }
            trvMenu.EndUpdate();
        } 
```

然后创建 serch & filter 函数

```
 private bool NodeFiltering(TreeNode Nodo,string Texto)
    {
        bool resultado = false;

        if (Nodo.Nodes.Count == 0)
        {
            if (Nodo.Text.ToUpper().Contains(Texto.ToUpper()))
            {
                resultado = true;
            }
            else
            {
                Nodo.Remove();
            }
        }
        else
        {
            for (int i = Nodo.Nodes.Count; i > 0; i--)
            {
                if (NodeFiltering(Nodo.Nodes[i - 1], Texto))
                    resultado = true;
            }

            if (!resultado)
                Nodo.Remove();
        }

        return resultado;
    } 
```

这段代码非常适合创建具有多个级别的 Treeview 菜单。

# python - 在 VB.NET 中显示 python 进程的输出

> ID：12388266
> 
> 赞同：0
> 
> 时间：2012-09-12T12:33:40.497
> 
> 标签：python, vb.net

你好，我想要做的是运行一个 python 脚本，当脚本运行时，我在 VB.NET 的文本框中显示输出，所以我不会等到脚本完成时，它正在运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:51:41.457

如果您的 python 脚本输出到标准输出流，那么您可以通过将进程的标准输出重定向到您的应用程序来相当容易地读取它。创建进程时，您可以在`Process.StartInfo`对象上设置属性，以指示它重定向输出。`OutputDataReceived`然后，您可以通过流程对象在收到新输出时引发的事件异步读取流程的输出。

例如，如果您要创建这样的类：

```
Public Class CommandExecutor
    Implements IDisposable

    Public Event OutputRead(ByVal output As String)

    Private WithEvents _process As Process

    Public Sub Execute(ByVal filePath As String, ByVal arguments As String)
        If _process IsNot Nothing Then
            Throw New Exception("Already watching process")
        End If
        _process = New Process()
        _process.StartInfo.FileName = filePath
        _process.StartInfo.UseShellExecute = False
        _process.StartInfo.RedirectStandardInput = True
        _process.StartInfo.RedirectStandardOutput = True
        _process.Start()
        _process.BeginOutputReadLine()
    End Sub

    Private Sub _process_OutputDataReceived(ByVal sender As Object, ByVal e As System.Diagnostics.DataReceivedEventArgs) Handles _process.OutputDataReceived
        If _process.HasExited Then
            _process.Dispose()
            _process = Nothing
        End If
        RaiseEvent OutputRead(e.Data)
    End Sub

    Private disposedValue As Boolean = False
    Protected Overridable Sub Dispose(ByVal disposing As Boolean)
        If Not Me.disposedValue Then
            If disposing Then
                If _process IsNot Nothing Then
                    _process.Kill()
                    _process.Dispose()
                    _process = Nothing
                End If
            End If
        End If
        Me.disposedValue = True
    End Sub

    Public Sub Dispose() Implements IDisposable.Dispose
        Dispose(True)
        GC.SuppressFinalize(Me)
    End Sub
End Class 
```

然后你可以像这样使用它：

```
Public Class Form1
    Private WithEvents _commandExecutor As New CommandExecutor()

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        _commandExecutor.Execute("MyPythonScript.exe", "")
    End Sub

    Private Sub _commandExecutor_OutputRead(ByVal output As String) Handles _commandExecutor.OutputRead
        Me.Invoke(New processCommandOutputDelegate(AddressOf processCommandOutput), output)
    End Sub

    Private Delegate Sub processCommandOutputDelegate(ByVal output As String)
    Private Sub processCommandOutput(ByVal output As String)
        TextBox1.Text = TextBox1.Text + output
    End Sub

    Private Sub Form1_FormClosed(ByVal sender As Object, ByVal e As System.Windows.Forms.FormClosedEventArgs) Handles Me.FormClosed
        _commandExecutor.Dispose()
    End Sub
End Class 
```

# regex - 如何拥有一个包含两个由“或”条件分隔的正则表达式的正则表达式，以便我的文本仅验证这两个？

> ID：12388268
> 
> 赞同：0
> 
> 时间：2012-09-12T12:33:53.927
> 
> 标签：regex

我想为我的文本框使用两个正则表达式，而在这两个中，我希望根据某些条件一次只使用一个？

有什么方法可以形成一个包含“或”的正则表达式，而不需要我在代码中明确设置“或”？

两种表达方式是：

```
^[0-9]+$ 
```

即只使用数字

```
^[A-Za-z]{6}[0-9LMNPQRSTUV]{2}[A-Za-z]{1}[0-9LMNPQRSTUV]{2}[A-Za-z]{1}[0-9LMNPQRSTUV]{3}[A-Za-z]{1}$ 
```

即使用格式`ABCDEF23G45D786Z`。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:35:39.170

该`|`字符表示 OR。

```
((first regex statement)|(second regex statement)) 
```

# php - 带有电子邮件验证的 php/mysql 注册

> ID：12388269
> 
> 赞同：-3
> 
> 时间：2012-09-12T12:34:00.440
> 
> 标签：php, mysql

我在这里做错了什么？我有两个页面，第一个是 save.php，第二个是用户成功注册后必须回显的谢谢。

保存.php

```
if($mail->Send()) {

            }
            unset($_SESSION['GENRE_REQUEST']);

    }
    header('Location:index.php?page=thanku=1');
    exit();
}
else
{
    header('Location:index.php?page=thanku=1');
    exit();
} 
```

* * *

谢谢.php

```
 <?php if(!empty($_GET['msg']))
                              { 

  if($_GET['msg']==1) 
                              { ?>
  <tr>
    <td align="center" valign="top"><b>Thank You for Registering With us.</b> <br />
      <br />please activate your profile by clicking on the activation link sent to your email address.<br/></td>
  </tr> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:36:48.843

你永远不会发送变量`$_GET['msg']`。您正在像这样重定向

```
header('Location:index.php?page=thanku=1'); 
```

把它改成这个，你会看到你的消息

```
header('Location:index.php?page=thanku&msg=1'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T12:37:28.657

那是错的

```
header('Location:index.php?page=thanku=1'); 
```

你忘了味精

```
header('Location:index.php?page=thanku&msg=1'); 
```

# c# - 使用 C# winforms 自定义复制/粘贴行为，同时允许文本编辑复制/粘贴

> ID：12388270
> 
> 赞同：5
> 
> 时间：2012-09-12T12:34:06.773
> 
> 标签：c#, winforms, events, copy-paste

我目前有一个 C# winforms 应用程序，在编辑主菜单上绑定了 Ctrl+C 和 Ctrl+V 作为键盘快捷键。在响应这些菜单项的代码中有一些自定义复制/粘贴行为，例如在列表视图中复制和粘贴行。

但是，我的问题是您可以在一行内编辑文本，当您这样做时，我希望 Ctrl+C 和 Ctrl+V 不会触发编辑菜单命令，而应该默认为基于普通文本的复制/粘贴。

我尝试过的一件事是触发 BeforeLabelEdit 和 AfterLabelEdit 事件，并从那里手动禁用/重新启用菜单项。不幸的是，禁用菜单项上的键盘快捷键似乎仍会触发 menu_Popup 事件，该事件当前用于决定应启用/禁用哪些菜单项。（例如，“粘贴”仅在剪贴板上有文本时才有效）。所以即使我禁用了菜单项，键盘快捷键仍然会激活 Popup 事件，这将重新启用菜单项。（这是一个错误吗？）

我找不到任何临时禁用菜单项键盘快捷键的方法，而无需手动存储旧快捷键，将快捷键设置为空，然后在需要重新启用时将其复制回来（感觉很脏）。

当然，覆盖复制/粘贴行为或添加它是一件常见的事情吗？这里有更好的模式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T19:44:57.283

如果您想覆盖默认的复制/粘贴行为，您似乎需要使用比 C# 提供的更低级别的东西（请参阅[剪贴板事件 C#](https://stackoverflow.com/questions/621577/clipboard-event-c-sharp)和[检测和区分剪贴板事件（剪切、复制和粘贴）](https://stackoverflow.com/questions/9908156/detect-differentiate-clipboard-events-cut-copy-and-paste)）。但是，也许您可​​以将您的逻辑放在一个“守卫”后面，该“守卫”知道如何指导行动请求（如“复制”），然后将其重定向为适当的。

这是一个示例类：

```
namespace Your.App
{
    public class GuardedCommand
    {
        public bool CurrentlyEditing { get; set; }
        public GuardedCommand()
        {
            CurrentlyEditing = false;
        }
        public void DoCopy()
        {
            if(CurrentlyEditing)
                StandardCopyCommand();
            else
                ShortcutCopyCommand();
        }
        void ShortcutCopyCommand() { /*menu work here (or delegate to another class)*/ }
        void StandardCopyCommand() { /*"normal" work here (or delegate again)*/ }
    }
} 
```

要使用您将创建类，然后在和事件`guardedCommand.CurrentlyEditing`中根据需要设置它的属性。然后，无论您在何处捕获 CTRL+C 快捷方式，只需调用它，它就会处理其余的事情。`BeforeLabelEdit``AfterLabelEdit``guardedCommand.DoCopy()`

如果您正在阅读有关您想要做的事情的模式，那么请查看[State Pattern](http://en.wikipedia.org/wiki/State_pattern)，上面的代码就是其中的一种和实现。要成为一个真正的状态（或策略）模式，它需要有单独的具体类来实现`DoCopy()`，`DoPaste()`而不是仅仅使用 if/else 或 switch。然后，当`CurrentlyEditing`被更改时，适当的具体实现将被设置为用于处理该`DoCopy()`方法的当前类。

仅仅因为我写这一段比给你一些代码要花更长的时间，这里有一些代码：

```
namespace Your.App
{
//correct implementation of the State Pattern
    interface IClipboard
    {
        void Copy();
        void Paste();
    }
    class MyCustomClipboard : IClipboard
    {
        public void Copy() { /*your special code*/ }
        public void Paste() { /*your code again*/ }
    }
    class DefaultClipboard : IClipboard
    {
        public void Copy() { /*default code*/ }
        public void Paste() { /*default code again*/ }
    }
    public class StateClass
    {
        IClipboard State { get; set; }
        public StateClass()
        {
            CurrentlyEditing = false;
        }
        bool _currentlyEditing;
        public bool CurrentlyEditing
        {
            get { return _currentlyEditing; }
            set
            {
                _currentlyEditing = value;
                if(_currentlyEditing)
                    State = new DefaultClipboard();
                else
                    State = new MyCustomClipboard();
            }
        }
        public void Copy()
        {
            State.Copy();
        }
        public void Paste()
        {
            State.Paste();
        }
    }
} 
```

如您所见，当只有两个状态时，这可能有点矫枉过正（并且状态的数量可能不会增加）。

# ruby-on-rails - Sublimetext 2 和 rails html.erb if then else issue

> ID：12388271
> 
> 赞同：3
> 
> 时间：2012-09-12T12:34:14.413
> 
> 标签：ruby-on-rails, erb, sublimetext2

喜欢 Sublime text 2，但不知何故无法在 html.erb 模板中正确执行“if then else”。它正确地将文件标识为“HTML（Rails）”，但是当我执行“if”后跟 tab

我得到：

```
<?php if (condition): ?>

<?php endif ?> 
```

我已经在其他几个地方看到了这个报道，但不确定如何修复 Sublimetext 的新内容。非常感谢任何提示

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T15:05:39.943

我添加了几个自定义片段来覆盖 erb 文件中的 if/elsif/else。

if-erb.sublime 片段：

```
<snippet>
    <content><![CDATA[<% if ${1:true} -%>]]></content>
    <tabTrigger>if</tabTrigger>
    <scope>text.html.ruby</scope>
    <description>if (ERB)</description>
</snippet> 
```

elsif-erb.sublime-snippet

```
<snippet>
    <content><![CDATA[<% elsif ${1:true} -%>]]></content>
    <tabTrigger>elsif</tabTrigger>
    <scope>text.html.ruby</scope>
    <description>elsif (ERB)</description>
</snippet> 
```

else-erb.sublime-snippet

```
<snippet>
    <content><![CDATA[<% else -%>]]></content>
    <tabTrigger>else</tabTrigger>
    <scope>text.html.ruby</scope>
    <description>else (ERB)</description>
</snippet> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:47:23.113

你在那里有 php 自动完成功能。

为 rails 开发安装 ruby​​ 和 rails 插件。

更多信息请访问[http://linuxrails.blogspot.com/2012/05/sublime-text-2-setup-for-rails.html](http://linuxrails.blogspot.com/2012/05/sublime-text-2-setup-for-rails.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:45:59.790

好吧，我可以让它工作的唯一方法是删除 php 片段并添加一些我自己的。
步骤：
1- 转到`Preferences -> Browse Packages`。
2-进入`PHP`文件夹。
3- 删除 else/elsif 片段。
4-创建自己的，如下例所示：

```
<snippet>
<content><![CDATA[
    <% else %>
  ]]></content>
<tabTrigger>else</tabTrigger>
<scope>text.html - source</scope>
</snippet> 
```

# apache - 当我访问 HTTPS 时，网站不断重定向到 HTTP，没有明显的原因

> ID：12388272
> 
> 赞同：0
> 
> 时间：2012-09-12T12:34:14.880
> 
> 标签：apache, .htaccess, ssl, joomla

我正在尝试让 SSL 在 LAMP 服务器上为我的站点工作。当我在网站上键入任何页面地址为[https://www.example.com](https://www.example.com)时，它会被重定向到[http://www.example.com](http://www.example.com)。

如果我可以让服务器通过 HTTPS，我认为 SSL 会起作用（或者至少我可以做到），但它只是拒绝，并且总是更改为 HTTP。该网站使用 Joomla! 但我很确定这不相关，因为：

*   我有另一个几乎相同的 Joomla！站点在同一台服务器上，并且 SSL 成功运行。

*   SSL 证书已经过检查，有效且安装正确。

*   没有 PHP 重定向。

*   没有与 HTTP/S 等直接相关的 .htaccess 重定向。

**.htaccess**

```
Options +FollowSymLinks

RewriteEngine On

RewriteCond %{QUERY_STRING} base64_encode[^(]*\([^)]*\) [OR]
RewriteCond %{QUERY_STRING} (<|%3C)([^s]*s)+cript.*(>|%3E) [NC,OR]
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
RewriteRule .* index.php [F]

RewriteRule ^order/payment(/?.*)$ /payment [R=301,L]
RewriteRule ^order/complete$ /index.php?option=com_cake&task=orders&id=complete [L]
RewriteRule ^order2$ /index.php?option=com_cake&task=orders&id=index [L]
RewriteRule ^order/2$ /index.php?option=com_cake&task=orders&id=index [L]
RewriteRule ^payment/(.+)$ /index.php?option=com_cake&task=payments&id=$1 [L]
RewriteRule ^admin/(.+)$ /index.php?option=com_cake&task=admin&id=$1 [L]

RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

RewriteCond %{REQUEST_URI} !^/index\.php
RewriteCond %{REQUEST_URI} /component/|(/[^.]*|\.(php|html?|feed|pdf|vcf|raw))$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php [L] 
```

那么为什么网站会重定向？有任何想法吗？

对于任何了解 Joomla 的人！我尝试安装此插件[http://www.yireo.com/software/joomla-extensions/ssl-redirect](http://www.yireo.com/software/joomla-extensions/ssl-redirect)并尝试在我的主页上启用“安全”选项，但它不起作用。我认为这是因为它可能正在工作，但由于某种未知原因，服务器再次重定向到 HTTP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:37:23.330

尝试

```
 RewriteEngine on
   Options +FollowSymLinks 
   # Rewrite to https
   RewriteCond %{HTTPS} off
   RewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,QSA] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:44:13.977

排除任何 Joomla 配置问题的简单方法是将一个空文件上传到根目录。将其命名为 ssltest.html，然后使用 https 访问该文件。如果它仍然重定向，那么您有一个服务器/证书安装问题，您的主机需要检查它。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-09-14T13:59:32.680

如果您在全局配置集中有 Joomla Force SSL 选项并且它不起作用，请您将其报告为错误？

# objective-c - 自定义静态库

> ID：12388279
> 
> 赞同：4
> 
> 时间：2012-09-12T12:34:48.217
> 
> 标签：objective-c, static-libraries, xcode4.4

我创建了一个 XCode 项目，其中包含 2 个目标和我在两个目标中实现的静态库。我的静态库的某些类需要根据我编译的目标略有不同。

我不知道如何正确地做到这一点。任何想法？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T19:59:23.473

他们需要以什么方式有所不同？（我的答案基于一个猜测，它可以通过在类中设置某种状态变量或通过自定义 init 方法来处理）

我建议您为需要具有不同行为的类创建某种形式的自定义初始化方法或实例变量。然后，您可以在每个目标的构建设置中使用用户定义的设置。

检查此问题和答案以获取更多信息：[iphone: get User Defined variable in Target's setting by code?](https://stackoverflow.com/questions/3316293/iphone-get-user-defined-variable-in-targets-setting-by-code)

基本上你可以有一个像这样的字符串的设置：“标准”，你从

```
FooBarClass.h

typedef enum {   FooBarSettingNormal,   FooBarSettingFast } FooBarSetting;

-(id)initWithSetting:(FooBarSetting)setting; 
```

然后从代码中获取 buildsetting 中设置的变量并像这样初始化 FooBar 对象：

```
SomeViewController.m

NSNumber* fooBarSetting = [[[NSBundle mainBundle] infoDictionary] valueForKey:@"FooBarSetting"];
FooBar * baz = [[FooBar alloc] initWithSetting:[fooBarSetting intValue]]; 
```

这使您可以在类中具有不同的行为，并使静态库与您正在使用的项目分开并独立于您使用的项目。

我希望你觉得这有点帮助:)

# c# - InvokeOperation C# 和 Silverlight

> ID：12388282
> 
> 赞同：0
> 
> 时间：2012-09-12T12:34:57.023
> 
> 标签：c#, silverlight

任何人都可以帮助以下代码吗？

我正在尝试通过 RIA Silverlight 将值从服务器传递到客户端，但不断获取`NullReferenceException`.

我已经删除了我尝试过的所有其他尝试，并且刚刚发布了最后一次尝试。

### 服务器端代码

```
 namespace Web.UI.SilverlightDomainServices 
 { 
    // Implements application logic using the SilverlightDBEntities context. 
    // TODO: Add your application logic to these methods or in additional methods. 
    // TODO: Wire up authentication (Windows/ASP.NET Forms) and uncomment the following to disable anonymous access 
    // Also consider adding roles to restrict access as appropriate. 
    // [RequiresAuthentication] 
    [EnableClientAccess()] 
    public class VideoAdvertDomainService : LinqToEntitiesDomainService<SilverlightDBEntities> 
    { 
        // TODO: 
        // Consider constraining the results of your query method.  If you need additional input you can 
        // add parameters to this method or create additional query methods with different names. 
        // To support paging you will need to add ordering to the 'at_AdvertVideoAdvertisement' query. 

        string strMonthYear = DateTime.Now.ToString("MMMM-yyyy"); 

        [Invoke] 
        public List<string> GetMediaURLBasedOnMonthYear(string strMonthYear) 
        { 
            return (from p in this.ObjectContext.at_AdvertVideoAdvertisement 
                    where p.AdvertMediaMonthYear == strMonthYear 
                    select p.AdvertMediaURL).ToList(); 
        } 

        public IQueryable<at_AdvertVideoAdvertisement> GetAt_AdvertVideoAdvertisement() 
        { 
            return this.ObjectContext.at_AdvertVideoAdvertisement; 
        } 
    } 
} 
```

### 客户端代码

```
namespace Web.Silverlight  
{  
    public partial class MainPage : UserControl  
    {  
        public MainPage()  
        {  
            InitializeComponent();  
            Loaded += new RoutedEventHandler(MainPage_Loaded);  
        }  

        private VideoAdvertDomainContext ctx = new VideoAdvertDomainContext();  

        private void MainPage_Loaded(object sender, RoutedEventArgs e)  
        {  
            string strMonthYear = DateTime.Now.ToString("MMMM-yyyy");  

            VideoAdvertDomainContext DomainContext = new VideoAdvertDomainContext();  
            InvokeOperation iv = DomainContext.GetMediaURLBasedOnMonthYear("September-2012");  
            iv.Value.ToString();  
            PlaylistItem item = new PlaylistItem();  
            item.MediaSource = new Uri(iv.Value.ToString());  
            item.DeliveryMethod = Microsoft.SilverlightMediaFramework.Plugins.Primitives.DeliveryMethods.AdaptiveStreaming;  
            MP.Playlist.Add(item);  

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:47:42.240

在没有从异常中看到堆栈跟踪的情况下，我不得不猜测。

# 可能性 1

可能是这样`ObjectContext`，`null`因此，这条线会抛出你得到的异常。

```
return (from p in this.ObjectContext.at_AdvertVideoAdvertisement 
        where p.AdvertMediaMonthYear == strMonthYear 
        select p.AdvertMediaURL).ToList(); 
```

# 可能性 2

的内容有`this.ObjectContext.at_AdvertVideoAdvertisement`可能`null`吗？

如果是这样，`p`可能是`null`，这将导致查询抛出异常。

# 可能性 3

我怀疑有问题的行是：

```
iv.Value.ToString(); 
```

这行没有做任何事情，但是您稍后也会在有用的上下文中重复这几行，所以也许第一个声明是一个错误。但是，这假定`InvokeOperation`返回的值`VideoAdvertDomainContext.GetMediaURLBasedOnMonthYear`is not`null`并且它的`Value`属性 is not `null`。情况可能并非如此。

# 推荐

我建议在这些行上放置一个断点并查看调试器中变量的样子以跟踪`null`引用。从那里，您可以开始找出它为什么是`null`这样，或者让它不是，或者修复您的代码，以便它适当地处理`null`引用。

# mysql - Micro CloudFoundry 中的 MySQL 连接数限制

> ID：12388285
> 
> 赞同：1
> 
> 时间：2012-09-12T12:35:04.757
> 
> 标签：mysql, cloud-foundry

我正在使用 Micro CloudFoundry 运行我的应用程序，但无法连接到 MySQL '用户'usGh0jJk8EoZn' 已超过'max_user_connections'资源'。如何更改此值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:21:46.590

我不太确定您是否可以更改该值。

不过，在走这条路之前，您可能需要确保您没有泄漏连接。您的应用程序在本地部署时是否正常运行（*即*不使用常规 CloudFoundry 或 Micro CF）？你是如何连接到数据库的？如果您实际上是您的应用程序的唯一用户，那么您达到连接限制可能看起来很奇怪，我假设您是使用 micro 的用户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:37:18.173

正如 ebottard 所说，确保您的代码没有泄漏连接是非常值得的。但是，如果您想更改在 Micro CloudFoundry 上运行的实例的 mysql 设置，您可以使用“vcap”用户通过 SSH 连接到 VM。

连接后，您将在 /var/vcap/jobs/mysql_node/config/my.cnf 找到 mysql 配置文件

对于最大连接，您还必须更改 /var/vcap/jobs/mysql_node/config/mysql_node.yml 中的 max_user_conns 值

也请看一下；

[http://docs.cloudfoundry.com/infrastructure/micro/using-mcf.html#logging-in-to-micro-cloud-foundry](http://docs.cloudfoundry.com/infrastructure/micro/using-mcf.html#logging-in-to-micro-cloud-foundry)

# java - IBM WAS 忽略 web.xml 中的安全性

> ID：12388293
> 
> 赞同：3
> 
> 时间：2012-09-12T12:35:44.287
> 
> 标签：java, security, websphere, web.xml

我有适用于 tomcat 网络服务器的网络应用程序。我想将它迁移到 IBM websphere AS，但我遇到了安全问题。整个应用程序的安全性在 web.xml 文件中定义，如下所示：

```
<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list> 

<security-constraint>
    <web-resource-collection>
        <web-resource-name>Dynamic pages</web-resource-name>
        <url-pattern>/*</url-pattern>
    </web-resource-collection>
    <auth-constraint>
        <description>access.</description>
        <role-name>user</role-name>
    </auth-constraint>
</security-constraint>

<login-config id="LoginConfig_1">
    <auth-method>FORM</auth-method>
    <realm-name>SecureRealm</realm-name>
    <form-login-config id="FormLoginConfig_1">
        <form-login-page>/login.jsp</form-login-page>
        <form-error-page>/loginFail.jsp</form-error-page>
    </form-login-config>
</login-config>

<security-role>
    <description>User of the application.</description>
    <role-name>user</role-name>
</security-role> 
```

Websphere 忽略所有这些安全性，并允许我从 Web 应用程序访问任何页面而不显示登录页面。如果我手动进入 login.jsp 并将正确的密码输入到应用程序中，但它会失败，`getUserPrincipal()`因为它返回 null（没有登录）。如果我把错误的密码转发给 loginFail.jsp 也是一样的。
服务器日志中也没有错误。
我在做什么错或与tomcat不同？
感谢帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T15:27:52.377

WebSphere 安全性可能未启用。如果不是，您的 web.xml 设置将被忽略。

在管理控制台中，查看 Security -> Global Security 部分。确保选中“启用应用程序安全性”。

请注意，您可以在不同的“级别”（节点、服务器等）创建不同的安全设置。如果您在 Security -> Security Domains 中定义了多个域，请确保运行您的 webapp 的应用服务器具有正确的域集。

# php - 使用 php 服务外部文件下载

> ID：12388294
> 
> 赞同：0
> 
> 时间：2012-09-12T12:35:44.523
> 
> 标签：php, youtube

我正在尝试使用我在网上找到的一些片段制作个人 youtube 视频下载器。我得到一个由 youtube 提供的 url，它只对请求它的 ip 有用，所以它只在 localhost 上工作，因为当它在 web 服务器上时，下载失败，因为请求下载链接的 IP（web 服务器之一）与下载它的客户端（我）不同。我的问题是是否有某种方法：

a）将视频下载到网络服务器，然后从那里下载到我的电脑（不是最好的）

b）让youtube认为网络服务器正在下载它，而实际上是使用网络服务器下载视频的我。

URL 如下所示：

[http://oo---preferred---ams03s12---v13---lscache7.c.youtube.com/videoplayback?upn=TGDxfz8IZxI&sparams=cp%2Cgcr%2Cid%2Cip%2Cipbits%2Citag%2Cratebypass%2Csource% 2Cupn%2Cexpire&fexp=917000%2C903802%2C901425%2C920917%2C922401%2C920704%2C912806%2C924412%2C913558%2C912706&key=yt1&itag=18&ipbits=8&signature=4F0668E4E49852653FA995D28FECC455B552327D.3DEB3B58D1C5343B5EA03B7DA21355326EF29B7E&mv=m&sver=3&mt=1347451352&ratebypass=yes&source=youtube&ms=au&gcr=es&expire=1347475934&ip= 95.39.206.66&cp=U0hTTFRSU19ITkNOM19MTFdKOkVhV2otM1FhTXNj&id=2b4258153228ebc9](http://o-o---preferred---ams03s12---v13---lscache7.c.youtube.com/videoplayback?upn=TGDxfz8IZxI&sparams=cp%2Cgcr%2Cid%2Cip%2Cipbits%2Citag%2Cratebypass%2Csource%2Cupn%2Cexpire&fexp=917000%2C903802%2C901425%2C920917%2C922401%2C920704%2C912806%2C924412%2C913558%2C912706&key=yt1&itag=18&ipbits=8&signature=4F0668E4E49852653FA995D28FECC455B552327D.3DEB3B58D1C5343B5EA03B7DA21355326EF29B7E&mv=m&sver=3&mt=1347451352&ratebypass=yes&source=youtube&ms=au&gcr=es&expire=1347475934&ip=95.39.206.66&cp=U0hTTFRSU19ITkNOM19MTFdKOkVhV2otM1FhTXNj&id=2b4258153228ebc9)

如果您将该 URL 中的 IP 更改为您的 IP，仍然无法使用，我已经尝试过了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T10:11:00.390

所以试图找到一种类似于ianhales所说的方法，这就是我最终做出的：它很简单，可能是最好的方法，但它可以帮助我解决另一个问题，即用对应的youtube名称设置文件的名称视频。就这个：

```
$url=$_POST['url'];
$filename=$_POST['name'];

header('Content-type: video/mp4');
header('Content-Disposition: attachment; filename="'.$filename.'"');

echo file_get_contents($url); 
```

其中 $url 是我在问题上发布的大 url，$filename 是视频的名称。

也许它会对某人有所帮助，所以我把它留在这里。

# 3d - 通过 XNA 在 Motion Builder 中创建 FBX 模型

> ID：12388296
> 
> 赞同：5
> 
> 时间：2012-09-12T12:35:50.503
> 
> 标签：3d, xna, kinect, fbx

我想在 XNA 应用程序中创建通过 Kinect 传感器捕获的骨架的 fbx 模型。目前我所做的是将 Kinect 坐标作为矩阵存储在数据库中，检索它们逐帧绘制骨架。

在 XNA Framework 中运行应用程序时，是否可以使用 Motion Builder 创建 fbx 模型。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-07T04:18:13.280

我不认为您可以在运行时制作 fbx 模型，您应该使用 Maya 或其他任何模型制作软件来构建您的模型（带关节），然后在您的 xna 项目中导入 fbx 并在更新功能中为每个关节提供 co -您从 kinect 获得的坐标值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-07T21:00:05.727

如果您只想在捕获数据时回放数据，则无需通过 FBX。

如果您想将其保存为 FBX 文件，您可以[从 Autodesk 获取 FBX SDK，](http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=10775847)但它仅以非托管 C++ 形式提供。您将使用 SDK 将运行时数据转换为常规骨骼并将它们存储到磁盘 - 但通过 C++ api 执行此操作会很痛苦，因为您需要自己处理所有非托管代码。

您*可以*尝试通过获取 SDK 的 python 绑定并在[IronPython](http://ironpython.codeplex.com/)（它是一种 dotnet 语言，可以嵌入到您的 Xna 项目中）中运行它们来解决这个问题。但是，对于文件格式导入/导出器来说，这需要做很多工作。另外，我不确定它们的 python 绑定是否可以在 IronPython 中工作。

但是，如果您只存储骨架数据，则更简单的文件格式（如 OBJ）可能是更简单的选择。那里有一些 OBJ 导入器（例如，[这里](http://timjones.tw/blog/archive/2010/11/20/ds-obj-and-nff-content-importers-for-xna)）。[格式很简单](http://people.cs.clemson.edu/~dhouse/courses/405/docs/brief-obj-file-format.html)，您也应该能够自己做。磁盘上有 OBJ 后，您可以使用[Autodesk FBX 转换器往返 FBX。](http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=20481519)但是请注意，这仅适用于*骨架*（和网格，如果您需要它们） - OBJ 不支持动画。

> 在 XNA Framework 中运行应用程序时，是否可以使用 Motion Builder 创建 fbx 模型。

我不是 100% 确定我得到了这个问题。您可以从 motionbuilder 创建 FBX 以在 XNA 中使用。您可以从其他来源（包括您使用 FBX Sdk 和您的 kinect 代码制作的来源）将 FBX 导入到motionbuilder中。当您说“在 xna 中运行应用程序时”时，您是指远程控制 Motionbuilder，还是只是在谈论能够保存 MB 可以读取的数据？

# java - 如何通过单击 JButton 来最小化 JFrame

> ID：12388297
> 
> 赞同：2
> 
> 时间：2012-09-12T12:35:53.607
> 
> 标签：java, swing, jframe

> **可能重复：**
> [JButton 最小化窗口（JFrame）](https://stackoverflow.com/questions/7737751/jbutton-minimizing-a-windowjframe)

我删除了 JFrame 的关闭/最小化按钮，我想添加我自己的按钮，对于关闭，它可以通过使用来工作`.dispose();`，但是如果我单击 JButton，我应该使用什么来最小化 JFrame？

我认为`.setVisible(false);`会完全隐藏它，并且我不会在任务栏中单击任何内容来获取 JFrame。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T12:39:33.007

只需使用`.setState(Frame.ICONIFIED)`

工作示例：

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class FrameTest {
    public static void main(String args[]) throws Exception {
        final JFrame frame = new JFrame();
        frame.setUndecorated(true);
        JButton button = new JButton("Minimize");
        button.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                frame.setState(Frame.ICONIFIED);
            }
        });
        frame.add(button);
        frame.pack();
        frame.setVisible(true);
        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:50:28.773

试试这个：

```
frame.setExtendedState(frame.getExtendedState | Frame.ICONIFIED); 
```

或者

```
frame.setExtendedState(frame.getExtendedState | ~Frame.MAXIMIZED_BOTH); 
```

# .net - MVC3 客户端对集合进行验证，至少一个元素具有值

> ID：12388300
> 
> 赞同：4
> 
> 时间：2012-09-12T12:36:09.473
> 
> 标签：.net, asp.net-mvc-3, client-side-validation, model-validation

我的视图模型

```
Public Class ViewModel
  <SelectOne()>
  Public Property Collection As List(Of Item)
End Class 
```

我的模特

```
Public Class Item
  <SelectOneProperty(TargetValue:=True, ErrorMessage:="Select at least one.")>
  Public Property Selected As Boolean
  Public Property Value As String
End Class 
```

在我看来，我正在`ViewModel.Collection`使用编辑器模板进行渲染

```
@Html.CheckBoxFor(Function(item) item.Selected)
@Html.HiddenFor(Function(item) item.Value) 
```

**现在，我想要的是确保使用客户端验证至少选中一个复选框。**

我可以通过在属性上设置自定义验证属性`Item.Selected`并通过注册新适配器来实现这一点`$.validator.unobtrusive.adapters.add()`

但我觉得属性应该在`ViewModel.Collection`属性上，因为在服务器端我已经在验证集合的项目之一是否`Selected = True`使用了这个自定义验证：

```
<AttributeUsage(AttributeTargets.Field Or AttributeTargets.Property, AllowMultiple:=False, Inherited:=False)>
Public Class SelectOneAttribute
    Inherits ValidationAttribute

    Protected Overrides Function IsValid(value As Object, validationContext As ValidationContext) As ValidationResult

        Dim list As IList

        If value Is Nothing Then
            Return Nothing
        End If

        If TypeOf value Is IEnumerable Then
            list = CType(value, IList)
        Else
            list = New Object() {value}
        End If

        Dim count As Integer = (From item In list
                                From prop In item.GetType().GetProperties()
                                Let attributes = prop.GetCustomAttributes(GetType(RequireOneOrMoreIndicatorAttribute), False)
                                Where attributes.Count > 0
                                From attribute In attributes
                                Where attribute.TargetValue = prop.GetValue(item, Nothing)).Count()
        If count > 0 Then
            Return Nothing
        End If

        Return New ValidationResult(FormatErrorMessage(validationContext.DisplayName))
    End Function
End Class 
```

它使用反射`SelectOnePropertyAttribute`来查找要检查的属性：

```
<AttributeUsage(AttributeTargets.Field Or AttributeTargets.Property, AllowMultiple:=False, Inherited:=False)>
Public Class SelectOnePropertyAttribute
    Inherits ValidationAttribute
    Implements IClientValidatable

    Public Property TargetValue As Object

    Public Sub New(targetValue As Object)
        Me.TargetValue = targetValue
    End Sub

    Public Overrides Function IsValid(value As Object) As Boolean
        Return True
    End Function

    Public Function GetClientValidationRules(metadata As System.Web.Mvc.ModelMetadata, context As System.Web.Mvc.ControllerContext) _
        As System.Collections.Generic.IEnumerable(Of System.Web.Mvc.ModelClientValidationRule) _
        Implements System.Web.Mvc.IClientValidatable.GetClientValidationRules

        Dim rule As New ModelClientValidationRule With {
            .ValidationType = "selectone",
            .ErrorMessage = Me.ErrorMessage
        }

        Return New ModelClientValidationRule() {rule}
    End Function
End Class 
```

这就是客户端验证

```
$.validator.unobtrusive.adapters.add("selectone", function (options) {
    options.rules["selectone"] = {};
    options.messages["selectone"] = options.message;
});

$.validator.addMethod("selectone", function (value, element, parameters) {

    var $el = $(element),
        name = $el.attr("name"),
        field = name.replace(/\[.*$/, "").replace(".", "_"),
        attr = name.replace(/^.*\./, ""),
        test = new RegExp(field + "\\[\\d\\]\." + attr);

    var inputs = $("input[id^=" + field + "]:not([disabled]):not([type=hidden])").filter("input[name$=" + attr + "]");

    for(var i = 0; i < this.errorList.length; i++) {
        var name = $(this.errorList[i].element).attr("name");

        // Do not write out the error more than once.
        if (test.test(name)) return true;
    }

    return inputs.length == 0 || inputs.filter(":checked:not([disabled])").val();
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T12:10:27.533

您正在创建将在侧面运行的自定义验证，但如果您想在客户端运行，则必须为该自定义验证创建 JQuery，然后将其添加到您的页面。

请参考以下链接

[http://www.codeproject.com/Articles/275056/Custom-Client-Side-Validation-in-ASP-NET-MVC3](http://www.codeproject.com/Articles/275056/Custom-Client-Side-Validation-in-ASP-NET-MVC3)

[http://www.falconwebtech.com/post/2012/04/21/MVC3-Custom-Client-Side-Validation-with-Unobtrusive-Ajax.aspx](http://www.falconwebtech.com/post/2012/04/21/MVC3-Custom-Client-Side-Validation-with-Unobtrusive-Ajax.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-21T15:24:07.833

这是你需要的吗？如果没有选中任何“myCheckbox”，它将阻止表单提交......

```
$(document).ready(function () {
    $('#submitButtonId').click(function (e) {
        if ($('input[name=myCheckbox]:checked').length == 0) {
            e.preventDefault();
            alert('Please choose at least one checkbox before continuing!');
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T14:31:45.600

> 进行以下更改：-

1.您的视图模型：-

```
Public Class ViewModel
  <SelectOne()>
  <SelectOneProperty(TargetValue:=True, ErrorMessage:="Select at least one.")>
  Public Property Collection As List(Of Item)
End Class 
```

1.  我的模型：-

    公共类项目公共属性选择为布尔公共属性值作为字符串结束类

2.  在您的视图上添加以下行：

    @Html.HiddenFor(x=>x.ItemCollection)

4.然后您将运行视图并查看视图源，然后它将

4.然后您将提交代码，然后它将运行客户端验证。添加调试器并调试它

5.然后修改你的客户端脚本。1.现在您可以从每个复选框中获取值并检查是否选中了您的任何复选框，然后提交表单，否则显示结果。

6.还根据您的要求在 SelectOnePropertyAttribute 中进行更改

7.对于服务器端，我在 c# 上完成了这段代码：-

[AttributeUsage((AttributeTargets.Field | AttributeTargets.Property), AllowMultiple = false, Inherited = false)] 公共类 SelectOneAttribute : ValidationAttribute { public String PropertyName { get; 放; }

```
 protected override ValidationResult IsValid(object  value, ValidationContext validationContext)
    {
        bool boolVal = false;
        IList list;
        if (value == null)
        {
            return null;
        }
        if (value.GetType().Name == typeof(List<>).Name || value.GetType().Name == typeof(IList<>).Name)
        {
            list = (IList)value;
        }
        else
        {
            list = new object[] {value};
        }
        if (list.Count<0)
            return null;

        if ((from object item in list let propertyInfo = item.GetType().GetProperties() from info in propertyInfo where String.Equals(info.Name, PropertyName) && (bool)info.GetValue(item) == true select item).Any())
        {
            return null;
        }

        return new ValidationResult(FormatErrorMessage(validationContext.DisplayName));
    }
} 
```

# javascript - jquery datepicker失去了交互性

> ID：12388309
> 
> 赞同：1
> 
> 时间：2012-09-12T12:36:48.717
> 
> 标签：javascript, jquery, dom, datetimepicker

我正在开发一个 php-html-javascript 项目，我真的为这个问题发疯了。该项目使用 jquery 日期时间选择器，一切都很好（日期时间选择器适用于其他页面以及“受影响的页面”），但是当我尝试在动态创建的元素上使用它时，日期时间选择器失去交互性：可以不要单击它或更改年/月，它仅在单击另一个元素时关闭。它甚至不会触发“onSelect”事件，所以我不能使用它。

其他信息： - 相关的 div 在页面中（DOM 元素），但被克隆为新的 div ($.clone()) - 当 div 完全创建（回调）时，日期时间选择器与元素相关联，所以有没有未加载元素的可能性 - 日期时间选择器在点击时显示，但不是交互式的。

我尝试了几天，但我无法解决这个问题。希望大家能帮忙...谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:35:37.633

据我所知，问题是由于[克隆](http://api.jquery.com/clone/)而发生的。如果我们使用带有 true 作为参数的克隆，那么与旧元素关联的事件和属性将复制到克隆元素。可能是当您单击日历时，检查日期是否显示在第一个文本框中。如果是这样，那么克隆肯定有问题。

# magento - Magento 1.7 中的进口产品未出现

> ID：12388310
> 
> 赞同：2
> 
> 时间：2012-09-12T12:36:53.483
> 
> 标签：magento, magento-1.4, magento-1.7

我正在尝试将产品从 Magento 1.4.0.2 (Site-A) 转移到 Mangeto 1.7.0.1 (Site-B)。

我已经在站点 A 中使用以下字段映射配置了一个导出配置文件：

```
sku | name | short_description | weight | price | type | description | attribute_set | tax_class_id 
```

运行此配置文件后，我有一个`export_all_products.csv`文件。我将它导入站点-B。（我已经使用导入所有产品数据流配置文件设置了站点 B，该配置文件以相同的方式映射文件。）

导入后，我刷新了所有索引，但是“目录→管理产品”下仍然没有产品。

为什么产品没有出现？

（我怀疑这是因为`store B`有两个网站并且`store A`只有一个。两个网站都没有相同的名称。）

导出的 CSV 中的每个产品都需要添加店铺名称信息吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-15T18:53:46.887

显然，这是拥有所需列 + 一些额外内容的问题。Magento 要求 CSV 文件中存在这 10 列，否则导入将无效：

1.  类型
2.  属性集
3.  tax_class_id
4.  地位
5.  重量
6.  库存单位
7.  姓名
8.  价格
9.  描述
10.  简短的介绍

从[这里](http://www.magentocommerce.com/wiki/3_-_store_setup_and_management/import_export/export_tool#important_notes_about_importing_products)

如果您希望产品可以*订购，*您必须添加：

*   网站
*   类别 ID
*   is_in_stock

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-13T11:28:57.923

要查看问题是否未设置正确的商店/网站，您可以执行以下操作：

1) 登录 Magento 管理员，然后转到产品列表。

2）点击全选

3) 点击更新属性 - 从左侧选择网站/商店并应用。

如果不能解决问题，这将有助于缩小问题范围。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-31T22:41:46.523

我们最近遇到了类似的问题，在这种情况下发现了一个特殊字符问题，将注册商标符号“®”放入 .csv

不确定这是否会导致问题，但删除特殊字符解决了问题。希望这可以帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-09-17T09:22:49.583

在不相关的说明中，请确保在运行数据流配置文件时，您在数据流配置文件中选择了“导入产品库存”而不是“导入所有产品”。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-11-24T17:21:06.883

从 OpenOffice Calc 导出时出现此问题，需要设置为 UTF-8 导出，可能也是因为特殊字符。

# cvs - CVS update -C - 不清除本地更改/文件状态

> ID：12388311
> 
> 赞同：1
> 
> 时间：2012-09-12T12:36:52.760
> 
> 标签：cvs

我相信以下命令：

```
CVS update -C fname 
```

应该清除文件中的本地修改并从 CVS 存储库中获取新文件。我在本地修改的文件上尝试了这个。然后给出了以下命令。

```
CVS st fname 
```

它仍然显示文件状态为“本地修改”。任何建议 - 为什么第一个命令不会将状态更新为“最新”。

# opencl - openCL 浮点异常

> ID：12388312
> 
> 赞同：0
> 
> 时间：2012-09-12T12:37:04.943
> 
> 标签：opencl

我的输入字符数组是 1024，并且我指定了任何本地项目大小 = 32。我的每个工作项都在 16 个字符上工作，我指定了全局项目大小 = 64。在我的内核中，我计算了 data_tid 如下。

```
int offset=16;
int gr_id=get_group_id(0);
int id = get_global_id(0);
int data_tid=(gr_id*32+id)*offset; 
```

我正在使用 NVIDIA Geforce 9800GT。我的代码抛出浮点异常。我已经看到这是由于 global_size 不能被本地大小整除，但在我的情况下它是可整除的。

谁能告诉我问题出在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T20:08:08.703

您想使用`get_local_id`而不是`get_global_id`. 本地 id 是每个组中工作项的索引。全局 id 是工作项在整个范围内的索引。

也可以直接使用`int data_tid = get_global_id(0) * offset;`

# php - Evernote API PHP 示例无法在 Ubuntu 12.04 上运行

> ID：12388322
> 
> 赞同：0
> 
> 时间：2012-09-12T10:57:35.360
> 
> 标签：php, ssl

在尝试位于 sample/client 中的 EDAMTest.php 文件时，我收到以下错误：

```
$ php EDAMTest.php 
Uncaught TTransportException:
exception 'TTransportException' with message 'THttpClient: Could not connect to sandbox.evernote.com:443/edam/user' in /home/mike/evernote/lib/transport/THttpClient.php:196
Stack trace:
#0 /home/mike/evernote/lib/packages/UserStore/UserStore.php(57): THttpClient->flush()
#1 /home/mike/evernote/lib/packages/UserStore/UserStore.php(37): EDAM\UserStore\UserStoreClient->send_checkVersion('Evernote EDAMTe...', 1, 22)
#2 /home/mike/evernote/sample/client/EDAMTest.php(78): EDAM\UserStore\UserStoreClient->checkVersion('Evernote EDAMTe...', 1, 22) 
```

尝试从浏览器（通过 apache）运行它也失败了。

当谷歌搜索它似乎是一个openssl问题时，安装了openssl：

```
$ openssl version
OpenSSL 1.0.1c 10 May 2012 
```

它也可以作为 apache mod 启用：

```
$ ls -la /etc/apache2/mods-enabled/
(...)
lrwxrwxrwx 1 root root   36 Sep 11 19:57 ssl.conf -> /etc/apache2/mods-available/ssl.conf
lrwxrwxrwx 1 root root   36 Sep 11 19:57 ssl.load -> /etc/apache2/mods-available/ssl.load
(...) 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:21:50.547

可能是evernote和ubuntu的SSL问题（openSSL将某些东西更改为正确的东西破坏了evernote），这已经解决了一段时间：[http ://discussion.evernote.com/topic/26978-ssl-handshake-problems/](http://discussion.evernote.com/topic/26978-ssl-handshake-problems/)

# android - 禁用银河选项卡上的迷你应用程序托盘？

> ID：12388324
> 
> 赞同：0
> 
> 时间：2012-09-12T12:37:39.170
> 
> 标签：android, android-4.0-ice-cream-sandwich

我正在尝试禁用三星标签 2 中的迷你应用程序托盘，但就目前而言，我对 tat 没有运气。我在我的应用程序的后台运行服务以返回在堆栈顶部运行的应用程序的包名称，如果应用程序从迷你应用程序托盘运行，即使该服务也无法捕获，但是一旦我最大化该应用程序然后我的服务捕获该应用程序的包名称。

有没有办法捕捉小应用托盘的触摸？或者有没有可能禁用迷你应用托盘窗体系统栏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T13:15:34.723

```
 Runtime runtime = Runtime.getRuntime();
    Process proc = null;
    OutputStreamWriter osw = null;
    proc = runtime.exec("su");
    osw = new OutputStreamWriter(proc.getOutputStream());
    String cmd="mount -o remount rw /system

    String miniapp = "mv /system/framework/minimode.jar /system/framework/modeminix.jar";

    osw.write(miniapp+"\n");}catch(Exception e){
        e.printStackTrace(); 
```

这会在设备重新启动时删除迷你应用程序托盘（ROOT - 需要）

# python - 停留在 While 循环示例

> ID：12388330
> 
> 赞同：-3
> 
> 时间：2012-09-12T12:37:54.650
> 
> 标签：python, while-loop

为什么在下面的代码中将索引元素[0]的值22加到sum中？`i`在这段代码中不是总是`< 5`因为`i = i -1`？

```
numbers = [22, 34, 12, 32, 4]
sum = 0

i = len(numbers)

while (i != 0):
   i -= 1
   sum = sum + numbers[i]

print "The sum is: ", sum 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:40:49.857

```
i = 5

while (i != 0) --> i=5
i-=1 --> i=4
sum = sum+numbers[4]

while (i != 0) --> i=4
i-=1 --> i=3
sum = sum+numbers[3]

while (i != 0) --> i=3
i-=1 --> i=2
sum = sum+numbers[2]

while (i != 0) --> i=2
i-=1 --> i=1
sum = sum+numbers[1]

while (i != 0) --> i=1
i-=1 --> i=0
sum = sum+numbers[0]

while (i != 0) --> i=0 so it'll stop. 
```

如您所见，将添加numbers[0]。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T12:48:54.830

你可以重新安排你的代码（不改变它的行为）：

```
while (i != 0):
    sum = sum + numbers[i-1]
    i -= 1 
```

这清楚地表明`numbers[0]`正在添加到总和。

但是，您不应该将其`sum`用作变量名，因为它会覆盖（有用的）内置函数，例如，它可以让您更简洁地编写代码：

```
sum(numbers[1:]) #sum of everything in list except 1st element 
```

# postgresql - postgresql函数中的计算

> ID：12388336
> 
> 赞同：1
> 
> 时间：2012-09-12T12:38:00.573
> 
> 标签：postgresql, plpgsql

我正在尝试创建在我的查询中替代 postgresql sum 函数的函数。

查询它自己 LOOONG 和类似的东西

`SELECT .... sum(tax) as tax ... from (SUBQUERY) as bar group by id;`

我想用我自己的函数替换这个 sum 函数，它通过税收计算改变最终值。

所以我创建了这样的 pgsql 函数：

```
DECLARE
  v double precision;
BEGIN
  IF val > 256 THEN
    v := 256;
  ELSE
    v := val;
  END IF;
  RETURN (v*0.21)/0.79;
END; 
```

该函数使用双精度作为输入。但是，使用此功能会给我带来错误：

```
column "bar.tax" must appear in the GROUP BY clause or be used in an aggregate function 
```

所以我尝试使用双精度 [] 作为函数的输入类型 - 在这种情况下，错误告诉我没有匹配名称和给定输入类型的 postgresql 函数。

那么有没有办法通过使用 pgsql 函数来替换我的查询中的 sum 函数 - 我不想更改查询的任何其他部分，除非我真的，真的，真的必须这样做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:40:11.603

查看[CREATE AGGREGATE](http://www.postgresql.org/docs/8.4/static/sql-createaggregate.html)以获取聚合函数。`sum(LEAST(tax,256)*21/79)`如果我没看错的话，在你的表达中你可以做一些事情。

# linq - 在 WP7 中对 TextBlock 进行数据绑定

> ID：12388338
> 
> 赞同：0
> 
> 时间：2012-09-12T12:38:03.667
> 
> 标签：linq, windows-phone-7, data-binding

这是我的 XML 文件：

```
<?xml version="1.0" encoding="utf-8"?> 
    <Kids> 
      <Child> 
        <Name>Kid1</Name> 
        <FirstName>hisname</FirstName> 
      </Child> 
    <Child> 
        <Name>kid2</Name> 
        <FirstName>SomeName</FirstName> 
      </Child> 
    </Kids> 
```

我使用 Linq to XML 来读取我的 xml 文件。现在我想将结果数据绑定到我的 windows phone 7 应用程序中的文本块。我有一个名为 SerializeKidToXml 的类。在那个类中，我有一个名为 ReadXML 的函数，如下所示：

```
 public string ReadXml()
        {
            StringBuilder s = new StringBuilder();
            using (IsolatedStorageFileStream test = new IsolatedStorageFileStream("YourKids.xml", FileMode.Open, store))
            {

                var testxdoc = XDocument.Load(test);
                var returnval = from item in testxdoc.Descendants("Kids").Elements("Child")
                                select new
                                {
                                    kind = item.Element("FirstName").Value
                                };
                return s.Append(returnval).ToString();

            }
        } 
```

现在，我希望此查询的结果与位于 XAML 页面界面上的文本块绑定。我正在尝试使用 XAML 页面后面的代码来绑定它。这就是我现在所拥有的：

```
 private void button1_Click(object sender, RoutedEventArgs e)
        {
            SerializeKidToXml t = new SerializeKidToXml();
            textBlock1.Text = t.ReadXml();

        } 
```

XAML 页面上的文本块没有显示结果字符串，而是显示：System.LINQ.Enumerable......

任何帮助，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T18:39:53.627

这可能会帮助您：

```
 var returnval = from item in testxdoc.Descendants("Kids").Elements("Child")
         select item.Element("FirstName").Value;

     foreach(var str in returnval)
     { 
        s.Append(", ");
        s.Append(str);
     }
     return s.ToString(); 
```

* * *

如果您想在列表框中显示孩子：

```
public IEnumerable<string> ReadXml()
        {
            using (IsolatedStorageFileStream test = new      IsolatedStorageFileStream("YourKids.xml", FileMode.Open, store))
            {    
                var testxdoc = XDocument.Load(test);
                var collection = from item in testxdoc.Descendants("Kids").Elements("Child")
                                select item.Element("FirstName").Value;
                return collection;

            }
        } 
```

并使用它：

```
 SerializeKidToXml t = new SerializeKidToXml();
   listBox.ItemsSource = t.ReadXml(); 
```

# c# - 如何在 mySQL 中使用 LINQ to SQL

> ID：12388347
> 
> 赞同：5
> 
> 时间：2012-09-12T12:38:43.477
> 
> 标签：c#, mysql, linq

如何将 LINQ to SQL 与 mySQL 一起使用。

我有一个使用 C#（2010 版）和 Linq to SQl 的项目。数据库是 SQL

需要解决方案，

我需要将项目迁移到 Linq 到 mysql 和 C# 版本 2010

并且还需要将现有的sql数据库迁移到mysql数据库

（我下载了 DBLinq 但不知道如何在项目中使用它）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T12:40:06.257

据我所知，LINQ to SQL 仅适用于 Microsoft SQL Server。如果可能，您应该迁移到 Entity Framework 或其他与 DB 无关的 O/R-mapper。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-05-17T22:11:01.863

查看'LINQ to MySql' nuget。

[https://www.nuget.org/packages/linq2db.MySql/](https://www.nuget.org/packages/linq2db.MySql/)

LINQ to MySql 是一种数据访问技术，它提供了用于将关系数据作为对象进行管理的运行时基础结构。

该包包含一个 T4 模板，用于为 MySql 数据库生成数据模型以及对 linq2db 和 MySql.Data nugets 的引用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T12:57:02.753

我很确定它有一个提供者（与 SqlLite 相同）。

看看以下链接：

*   [http://social.msdn.microsoft.com/Forums/en/linqprojectgeneral/thread/e9fc6bc7-fbc6-44c4-b37b-4b4a83beaa3e](http://social.msdn.microsoft.com/Forums/en/linqprojectgeneral/thread/e9fc6bc7-fbc6-44c4-b37b-4b4a83beaa3e)

*   [http://dev.mysql.com/downloads/connector/net/](http://dev.mysql.com/downloads/connector/net/)

DBLinq 应该有你需要的一切......

# php - 在没有 ImageMagick 的 PHP 中将 PDF 转换为图像

> ID：12388348
> 
> 赞同：7
> 
> 时间：2012-09-12T12:38:44.230
> 
> 标签：php, linux, image, pdf, imagemagick

我有一个需要 PDF 到图像转换的 PHP 站点，我们显然正在使用 imagemagick。然而，现在我们正试图转移到不同的主机，似乎我将无法在新主机上安装 imagemagick 包来做和我们现在一样的事情。

所以问题是 - 有什么方法可以使用纯 PHP 方法将 PDF 转换为图像，或者使用其他任何可以弹出到 DOCUMENT_ROOT 并且不需要正确安装到系统中的方法。

这是一个Linux系统，但我不知道是什么发行版，我无法检查，因为我在这个系统中的权利真的很有限。

谢谢亚历克斯。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-12T18:01:15.657

> *“[...] 需要 PDF 到图像的转换，我们显然正在使用 imagemagick。”*

这一点都不明显。

因为**ImageMagick 不能单独将 PDF 转换**为图像。它需要使用 Ghostscript 作为它*的“代表”*。所以你可能已经安装了 ImageMagick，但没有安装 Ghostscript，它不会工作。

反之亦然，您可以安装 Ghostscript 但没有安装 ImageMagick——您仍然可以轻松地将 PDF 转换为图像。例如，转换为分辨率为 144 DPI 的 JPEG（不指定一个，您将得到 72 DPI）：

```
gs              \
  -o out.jpg    \
  -sDEVICE=jpeg \
  -r144         \
   in.pdf 
```

此外，您可以随意在任何地方安装 Ghostscript。

[*（**顺便说一句：**我会远离不提供 ImageMagick 或 Ghostscript 安装的托管服务提供商，更不用说不允许自己安装了......）*]

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-12T12:58:06.603

在 linux 系统上，静态链接的东西可以在没有外部库依赖的情况下工作。因此，如果您可以获取/创建静态链接的 imagemagick 可执行文件，则可以直接在 docroot 下使用它。可能它不是那么微不足道。

或者您可以使用远程站点为您进行转换。喜欢： http: [//pdf2jpg.net/](http://pdf2jpg.net/) （对于张贴上传表单，这样的 curl 会很有用。）

# magento - GoogleShopping Magento 错误：

> ID：12388352
> 
> 赞同：3
> 
> 时间：2012-09-12T12:38:56.860
> 
> 标签：magento, magento-1.7, google-shopping-api, google-shopping

我已经在 Magento 1.7.0.2 Shop 上安装并配置了 Mage_GoogleShopping 模块。尝试将产品添加到 Google 购物时，/var/log/system.log 显示以下错误：

```
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePrice.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePrice.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(): Failed opening 'Mage/GoogleShopping/Model/Attribute/SalePrice.php' for inclusion (include_path='/path/to/shop/httpdocs/app/code/local:/path/to/shop/httpdocs/app/code/community:/path/to/shop/httpdocs/app/code/core:/path/to/shop/httpdocs/lib:.:')  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateFrom.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateFrom.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(): Failed opening 'Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateFrom.php' for inclusion (include_path='/path/to/shop/httpdocs/app/code/local:/path/to/shop/httpdocs/app/code/community:/path/to/shop/httpdocs/app/code/core:/path/to/shop/httpdocs/lib:.:')  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateTo.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateTo.php): failed to open stream: No such file or directory in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(): Failed opening 'Mage/GoogleShopping/Model/Attribute/SalePriceEffectiveDateTo.php' for inclusion (include_path='/path/to/shop/httpdocs/app/code/local:/path/to/shop/httpdocs/app/code/community:/path/to/shop/httpdocs/app/code/core:/path/to/shop/httpdocs/lib:.:')  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/Name.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/Name.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(): Failed opening 'Mage/GoogleShopping/Model/Attribute/Name.php' for inclusion (include_path='/path/to/shop/httpdocs/app/code/local:/path/to/shop/httpdocs/app/code/community:/path/to/shop/httpdocs/app/code/core:/path/to/shop/httpdocs/lib:.:')  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/Description.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(Mage/GoogleShopping/Model/Attribute/Description.php): failed to open stream: No such file or directory  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93
2012-09-12T12:31:27+00:00 ERR (3): Warning: include(): Failed opening 'Mage/GoogleShopping/Model/Attribute/Description.php' for inclusion (include_path='/path/to/shop/httpdocs/app/code/local:/path/to/shop/httpdocs/app/code/community:/path/to/shop/httpdocs/app/code/core:/path/to/shop/httpdocs/lib:.:')  in /path/to/shop/httpdocs/lib/Varien/Autoload.php on line 93 
```

这个问题已经在 Magento 论坛上多次报告过，但是我还没有找到解决方案。

权限绝对没有问题。文件不存在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-04T10:55:40.420

GoogleShopping-Module 尝试“即时”加载所有需要的属性的属性模型。如果此模型在 Mage/GoogleShopping/Model/Attributes/... 中不存在，则会发生错误...

要覆盖此类“Mage_GoogleShopping_Model_Type”中的方法“_createAttribute”，请为我修复它：

```
 /**
 * Create attribute instance using attribute's name
 *
 * @param string $name
 * @return Mage_GoogleShopping_Model_Attribute
 */
protected function _createAttribute($name)
{
    $modelName = 'googleshopping/attribute_' . $this->_prepareModelName($name);
    $useDefault = false;

    $className = Mage::app()->getConfig()->getModelClassName($modelName);

    if (class_exists($className)) {
        $attributeModel = Mage::getModel($modelName);
        $useDefault = !$attributeModel;
    } else {
        $useDefault = true;
    }
    if ($useDefault) {
        $attributeModel = Mage::getModel('googleshopping/attribute_default');
    }
    $attributeModel->setName($name);

    return $attributeModel;
} 
```

# android - 使用复选框选择多个联系人

> ID：12388354
> 
> 赞同：-1
> 
> 时间：2012-09-12T12:39:03.947
> 
> 标签：android, android-contacts, contact, contactscontract

我正在尝试为 android 创建一个应用程序。在其中一次我需要打开一个活动，我需要以`listview`with显示用户手机上的所有联系人`checkbox`，以便可以选择多个联系人。我编写了一个代码，该代码当前显示了所有联系人的列表，但没有复选框，如您在所附图像中看到的那样。接下来，当用户选择所需的联系人时`checkbox`，`clicks on DONE button`应该在主活动中得出结果，并且用户选择的所有联系人都应该`EditText`像这样显示`Frank <+911234567890>, John <+913456789012>, Ashley <+911237890456>,`。我怎样才能实现我想要的？当前显示的破折号（-）也应该消失。

![在此处输入图像描述](../Images/309a56ff03da2fd9fda7cd1d4857435e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:49:52.893

使用以下内容在所有项目上添加复选框：

```
listView.setChoiceMode(CHOICE_MODE_MULTIPLE); 
```

这不仅会为所有项目添加复选框，还会为您处理所有检查状态。您可以使用多种方法来获取项目的状态：

[getCheckedItemCount()](http://developer.android.com/reference/android/widget/AbsListView.html#getCheckedItemCount%28%29)
[getCheckedItemIds()](http://developer.android.com/reference/android/widget/AbsListView.html#getCheckedItemIds%28%29)
[getCheckedItemPositions()](http://developer.android.com/reference/android/widget/AbsListView.html#getCheckedItemPositions%28%29)

您可以使用[setItemChecked()](http://developer.android.com/reference/android/widget/AbsListView.html#setItemChecked%28int,%20boolean%29)以编程方式设置任何项目的检查状态。查看[本教程](http://www.mubasheralam.com/tutorials/android/how-create-multiple-choice-list)以获取如何制作多选列表的指南。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-03T10:07:16.337

使用函数 split("-") 拆分每个 '-' 上的字符串，然后将其连接起来。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-18T12:48:19.440

使用下面的代码片段从电话簿中检索所有联系人，将它们附加到包含复选框的 ListView 中以启用多选，它清晰明了。

```
public class Display extends Activity implements OnItemClickListener{

List<String> name1 = new ArrayList<String>();
List<String> phno1 = new ArrayList<String>();
MyAdapter ma ;
Button select;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.display);

    getAllContacts(this.getContentResolver());
    ListView lv= (ListView) findViewById(R.id.lv);
        ma = new MyAdapter();
        lv.setAdapter(ma);
        lv.setOnItemClickListener(this); 
        lv.setItemsCanFocus(false);
        lv.setTextFilterEnabled(true);
        // adding
       select = (Button) findViewById(R.id.button1);
    select.setOnClickListener(new OnClickListener()
    {

        @Override
        public void onClick(View v) {
                StringBuilder checkedcontacts= new StringBuilder();

            for(int i = 0; i < name1.size(); i++)

                {
                if(ma.mCheckStates.get(i)==true)
                {
                     checkedcontacts.append(name1.get(i).toString());
                     checkedcontacts.append("\n");

                }
                else
                {

                }

            }

            Toast.makeText(Display.this, checkedcontacts,1000).show();
        }       
    });

}
@Override
public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3) {
    // TODO Auto-generated method stub
     ma.toggle(arg2);
}

public  void getAllContacts(ContentResolver cr) {

    Cursor phones = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);
    while (phones.moveToNext())
    {
      String name=phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
      String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
      name1.add(name);
      phno1.add(phoneNumber);
    }

    phones.close();
 }
class MyAdapter extends BaseAdapter implements CompoundButton.OnCheckedChangeListener
{  private SparseBooleanArray mCheckStates;
   LayoutInflater mInflater;
    TextView tv1,tv;
    CheckBox cb;
    MyAdapter()
    {
        mCheckStates = new SparseBooleanArray(name1.size());
        mInflater = (LayoutInflater)Display.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }
    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return name1.size();
    }

    @Override
    public Object getItem(int position) {

        return position;
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub

        return 0;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        View vi=convertView;
        if(convertView==null)
         vi = mInflater.inflate(R.layout.row, null); 
         tv= (TextView) vi.findViewById(R.id.textView1);
         tv1= (TextView) vi.findViewById(R.id.textView2);
         cb = (CheckBox) vi.findViewById(R.id.checkBox1);
         tv.setText("Name :"+ name1.get(position));
         tv1.setText("Phone No :"+ phno1.get(position));
         cb.setTag(position);
         cb.setChecked(mCheckStates.get(position, false));
         cb.setOnCheckedChangeListener(this);

        return vi;
    }
     public boolean isChecked(int position) {
            return mCheckStates.get(position, false);
        }

        public void setChecked(int position, boolean isChecked) {
            mCheckStates.put(position, isChecked);
        }

        public void toggle(int position) {
            setChecked(position, !isChecked(position));
        }
    @Override
    public void onCheckedChanged(CompoundButton buttonView,
            boolean isChecked) {
        // TODO Auto-generated method stub

         mCheckStates.put((Integer) buttonView.getTag(), isChecked);         
    }   
} 
```

}

# jquery - Hovercard 不适用于多个实例

> ID：12388355
> 
> 赞同：0
> 
> 时间：2012-09-12T12:39:06.147
> 
> 标签：jquery, ajax

嗨，我有多个悬停卡实例的问题，数据是使用 ajax 传递的。hovercard 适用于第一个实例，而不适用于第二个实例。请帮我解决这个问题。jsfiddle 在这里：http: [//jsfiddle.net/sakirullahi/TnTzk/6/](http://jsfiddle.net/sakirullahi/TnTzk/6/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:53:20.410

签出[JSFiddle](http://jsfiddle.net/TnTzk/7/)

```
var hoverHTMLDemoAjax = '<p><label id="username"></label></p>';
$(".demo-ajax").each(function(){
   var _this = $(this);
   _this.hovercard({        
        detailsHTML: hoverHTMLDemoAjax,
        width: 100,
        delay: 500,
        onHoverIn: function () {
            $.ajax({
                url: '/echo/json/',
                type: 'GET',
                dataType: 'json',
                beforeSend: function () {                
                    _this.parent().find("#username").prepend("<p class='loading-text'>Loading ...</p>");
                },
                success: function (data) {   
                   console.log(_this);
                   var justatext="testing text goes here";                   
                    _this.parent().find("#username").html(justatext);                   
                },
                complete: function () {
                    $('.loading-text').remove();
                }
            });
        }
    });

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:47:37.010

您正在使用具有相同 ID 的两个标签。您不能在 HTML 中使用它，因此只有第一个呈现的标签会采用该 ID。改用类试试：

```
var hoverHTMLDemoAjax = '<p><label class="username"></label></p>';
    $(".demo-ajax").hovercard({        
    detailsHTML: hoverHTMLDemoAjax,
    width: 100,
    delay: 500,
    onHoverIn: function () {
        $.ajax({
            url: '/echo/json/',
            type: 'GET',
            dataType: 'json',
            beforeSend: function () {                
                $(".username").prepend("<p class='loading-text'>Loading ...</p>");
            },
            success: function (data) {   

               var justatext="testing text goes here";                   
                $(".username").html(justatext);                   
            },
            complete: function () {
                $('.loading-text').remove();
            }
        });
    }
});​ 
```

[http://jsfiddle.net/brightpixel/rDGe5/](http://jsfiddle.net/brightpixel/rDGe5/)

# css - 如何在 jquery mobile 中传递 css/js 文件的本地文件路径？

> ID：12388358
> 
> 赞同：0
> 
> 时间：2012-09-12T12:39:22.933
> 
> 标签：css, jquery-mobile

我是 jquery 的新手。在我的应用程序中，我使用 checkbox.for 复选框，我使用 css 文件 url，如下所示：

现在的问题是，如果互联网不可用，那么复选框样式（普通图像和选定图像）就不会出现。

[所以我通过从https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1](https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1.1.min.css)复制数据来创建一个名为“jquery.mobile-1.1.1.min.css”的文件。 [1.min.css](https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1.1.min.css)。

我将上面的 url 替换为我的文件，如下所示：

但复选框样式（普通图像和选定图像）不会出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:47:51.193

您的本地地址应如下所示：

```
file:///android_asset/www/your_file 
```

我假设您正在使用asset/www 文件夹，或者使用PhoneGap 构建您的应用程序。尝试像这样添加您的 CSS 文件：

如果你想让你的应用离线工作，你应该记得添加：

```
<script src="file:///android_asset/www/jquery-1.6.4.min.js"></script>
<script src="file:///android_asset/www/jquery.mobile-1.0.1.min.js"></script> 
```

请记住将您的文件放在asset/www 文件夹中，否则它将无法正常工作。

# stylesheet - 是否可以阻止 Icefaces 将 -dis 附加到禁用组件的样式类？

> ID：12388359
> 
> 赞同：1
> 
> 时间：2012-09-12T12:39:27.813
> 
> 标签：stylesheet, icefaces

我有以下代码（仅包括相关属性）：

`<ice:inputText styleClass="myClass" />`

呈现为

`<input class="myClass" />`

这很好，但是

`<ice:inputText styleClass="myClass" disabled="true" />`

呈现为

`<input class="myClass-dis" disabled="true" />`

因此不再应用原始样式类。

现在，我当然可以更改我的 CSS 以适应它，但我有几个不同的类用于不同样式的输入字段，它们都需要有自己的 -dis 版本。这尤其令人讨厌，因为所有这些禁用的样式都是相同的，而普通的 CSS 方式非常适合处理这个问题：只需组合类即可将所需的外观添加到任何标准样式。

那么，有没有办法阻止 IceFaces 自动附加我的样式类（例如可以控制前置表单 ID）？

# asp.net - 如何停止评估第一个条件是否已通过

> ID：12388362
> 
> 赞同：0
> 
> 时间：2012-09-12T12:39:44.367
> 
> 标签：asp.net, reporting-services, reportviewer, rdlc

我尝试评估报告中的一个字段，但每次都失败：

```
= IIf(Fields!lectcrs_hrs.IsMissing,
      Round(Fields!lectcrs_fee.Value * "1.00", 2),
      Round(Fields!lectcrs_fee.Value * Fields!lectcrs_hrs.Value, 2)) 
```

* * *

在`Fields!lectcrs_hrs.IsMissing = true`我的字段为空的情况下，我发现第二个案例`Round(Fields!lectcrs_fee.Value * Fields!lectcrs_hrs.Value, 2)`包含缺少字段的原因。为什么`Fields!lectcrs_hrs`如果它通过第一个案例，它会检查第二个案例！

如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T14:06:02.600

您正在寻找的行为称为“短路”，不幸的是，Visual Basic 中的 IIf 函数不提供这种功能。原因是 IIf() 是一个三元**函数**，因此，传递给它的所有参数都会在函数调用发生**之前进行评估。**另一方面，三元**运算符（VB 9+ 中的 If()）确实支持条件评估。**但是，我不相信 If() 运算符可以用作 SSRS 中表达式的一部分。

鉴于您尝试使用在运行时可能存在或不存在的字段，我建议您在报告中创建一个自定义函数来处理正确的检查和返回值。作为参考，请查看[这篇博客文章](http://blog.hoegaerden.be/2009/07/06/ssrs-and-mdx-detecting-missing-fields/)，其中涵盖了相同的场景。

# php - 使用 php 获取和解码 json

> ID：12388370
> 
> 赞同：0
> 
> 时间：2012-09-12T12:40:14.233
> 
> 标签：php, json

我确定这与其他问题类似，但我已经尝试了解决方案，但无法让它发挥作用。

我正在尝试获取 IP 地址的位置、解码 json 并打印它。我实际上打算将其放入数据库中，但我什至不确定为什么我无法将任何内容打印到屏幕上。

```
$ip = $_SERVER['REMOTE_ADDR'];
$json = file_get_contents("http://api.hostip.info/get_json.php?ip=".$ip);
$local = json_decode($json,true); 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:02:48.217

A. 当你的意思是`I cant get anything to print to the screen.`肯定你可以得到任何东西，因为你没有输出任何东西到屏幕上。

```
error_reporting(E_ALL);
$ip = $_SERVER['REMOTE_ADDR'];
$json = file_get_contents("http://api.hostip.info/get_json.php?ip=".$ip);
$local = json_decode($json,true);

echo $local['city'] ;
print  $local['country_name'] ;

var_dump($local); 
```

B. 这也意味着`allow_url_include set to Off`不允许`file_get_contents`从另一个域加载信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:13:15.557

首先，您提供的代码实际上并没有打印任何内容，这可以解释为什么您会出现空白屏幕。我假设您在`echo $local;`程序的后面会做类似的事情，但如果不是，那将是问题所在。

假设这不是问题......

两种可能：

1.  `file_get_contents()`正在返回错误。

2.  `json_decode()`正在返回错误。

首先，您应该在代码中添加一些额外的错误捕获，以确定哪个是问题所在。

如果您将 PHP 设置为不显示错误，请考虑将其打开，以便查看生成的任何错误。或者查看您的服务器日志以查看错误。

`file_get_contents()`如果 URL 无效，可能会失败。如果您的 PHP 安装设置为不允许通过文件处理函数访问 URL，它也可能会失败。如果是这种情况，您需要更改 php.ini 设置。如果你不能这样做，你将不得不通过不同的方法（例如Curl）加载文件。

`json_decode()`只有当它得到的字符串是无效的 JSON 时才可能失败。您应该检查 URL 的输出以确认它看起来正确，并检查它类似于 firebug 以确保它是有效的。

希望有帮助。

# .net - 远程端点失败 - 随机发生

> ID：12388371
> 
> 赞同：0
> 
> 时间：2012-09-12T12:40:15.773
> 
> 标签：.net, wcf, dynamics-crm-2011, wcf-security

我们有一个网站设置，该网站使用 WCF 与我们的 Microsoft CRM 2011 解决方案进行通信。

用户在我们的网站上创建新案例，这些案例存储在 CRM 解决方案中。使用 WCF，它调用 CRM 并存储数据。

这完美地工作，但一天几次出现以下错误。我们找不到关于这些事件的任何独特之处：随机用户、随机输入等。对于收到错误的用户来说，没有什么是独一无二的。

我们可以在 IIS 事件查看器中看到该错误每天发生约 3 次，具体取决于我们在线的用户数量。

有任何想法吗？什么是独一无二的？提示？某物？：-） 谢谢！

**错误**：

```
Exception information: 
    Exception type: SecurityNegotiationException 
    Exception message: Secure channel cannot be opened because security negotiation with the remote endpoint has failed. This may be due to absent or incorrectly specified EndpointIdentity in the EndpointAddress used to create the channel. Please verify the EndpointIdentity specified or implied by the EndpointAddress correctly identifies the remote endpoint. 

Server stack trace: 
   at System.ServiceModel.Security.IssuanceTokenProviderBase`1.DoNegotiation(TimeSpan timeout)
   at System.ServiceModel.Security.SspiNegotiationTokenProvider.OnOpen(TimeSpan timeout)
   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)
   at System.ServiceModel.Security.SymmetricSecurityProtocol.OnOpen(TimeSpan timeout)
   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)
   at System.ServiceModel.Channels.SecurityChannelFactory`1.ClientSecurityChannel`1.OnOpen(TimeSpan timeout)
   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.OnOpen(TimeSpan timeout)
   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.CallOnceManager.CallOnce(TimeSpan timeout, CallOnceManager cascade)
   at System.ServiceModel.Channels.ServiceChannel.EnsureOpened(TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)
   at System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)
   at System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message) 
```

**我们的设置：**

我们有 1 个生产网站服务器和 CRM 服务器。没有负载平衡器或其他任何东西。

**WCF 绑定**

```
 <system.serviceModel>
        <bindings>
            <customBinding>
                <binding name="CustomBinding_IOrganizationService">
                    <security defaultAlgorithmSuite="Default" authenticationMode="SspiNegotiated"
                        requireDerivedKeys="true" securityHeaderLayout="Strict" includeTimestamp="true"
                        keyEntropyMode="CombinedEntropy" messageProtectionOrder="SignBeforeEncryptAndEncryptSignature"
                        messageSecurityVersion="WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10"
                        requireSecurityContextCancellation="true" requireSignatureConfirmation="false">
                        <localClientSettings cacheCookies="true" detectReplays="true"
                            replayCacheSize="900000" maxClockSkew="00:05:00" maxCookieCachingTime="Infinite"
                            replayWindow="00:05:00" sessionKeyRenewalInterval="10:00:00"
                            sessionKeyRolloverInterval="00:05:00" reconnectTransportOnFailure="true"
                            timestampValidityDuration="00:05:00" cookieRenewalThresholdPercentage="60" />
                        <localServiceSettings detectReplays="true" issuedCookieLifetime="10:00:00"
                            maxStatefulNegotiations="128" replayCacheSize="900000" maxClockSkew="00:05:00"
                            negotiationTimeout="00:01:00" replayWindow="00:05:00" inactivityTimeout="00:02:00"
                            sessionKeyRenewalInterval="15:00:00" sessionKeyRolloverInterval="00:05:00"
                            reconnectTransportOnFailure="true" maxPendingSessions="128"
                            maxCachedCookies="1000" timestampValidityDuration="00:05:00" />
                        <secureConversationBootstrap />
                    </security>
                    <textMessageEncoding maxReadPoolSize="64" maxWritePoolSize="16"
                        messageVersion="Default" writeEncoding="utf-8">
                        <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                            maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                    </textMessageEncoding>
                    <httpTransport manualAddressing="false" maxBufferPoolSize="524288"
                        maxReceivedMessageSize="65536" allowCookies="false" authenticationScheme="Anonymous"
                        bypassProxyOnLocal="false" decompressionEnabled="true" hostNameComparisonMode="StrongWildcard"
                        keepAliveEnabled="true" maxBufferSize="65536" proxyAuthenticationScheme="Anonymous"
                        realm="" transferMode="Buffered" unsafeConnectionNtlmAuthentication="false"
                        useDefaultWebProxy="true" />
                </binding>
                <binding name="CustomBinding_IOrganizationService1">
                    <security defaultAlgorithmSuite="Default" authenticationMode="SspiNegotiated"
                        requireDerivedKeys="true" securityHeaderLayout="Strict" includeTimestamp="true"
                        keyEntropyMode="CombinedEntropy" messageProtectionOrder="SignBeforeEncryptAndEncryptSignature"
                        messageSecurityVersion="WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10"
                        requireSecurityContextCancellation="true" requireSignatureConfirmation="false">
                        <localClientSettings cacheCookies="true" detectReplays="true"
                            replayCacheSize="900000" maxClockSkew="00:05:00" maxCookieCachingTime="Infinite"
                            replayWindow="00:05:00" sessionKeyRenewalInterval="10:00:00"
                            sessionKeyRolloverInterval="00:05:00" reconnectTransportOnFailure="true"
                            timestampValidityDuration="00:05:00" cookieRenewalThresholdPercentage="60" />
                        <localServiceSettings detectReplays="true" issuedCookieLifetime="10:00:00"
                            maxStatefulNegotiations="128" replayCacheSize="900000" maxClockSkew="00:05:00"
                            negotiationTimeout="00:01:00" replayWindow="00:05:00" inactivityTimeout="00:02:00"
                            sessionKeyRenewalInterval="15:00:00" sessionKeyRolloverInterval="00:05:00"
                            reconnectTransportOnFailure="true" maxPendingSessions="128"
                            maxCachedCookies="1000" timestampValidityDuration="00:05:00" />
                        <secureConversationBootstrap />
                    </security>
                    <textMessageEncoding maxReadPoolSize="64" maxWritePoolSize="16"
                        messageVersion="Default" writeEncoding="utf-8">
                        <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                            maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                    </textMessageEncoding>
                    <httpTransport manualAddressing="false" maxBufferPoolSize="524288"
                        maxReceivedMessageSize="65536" allowCookies="false" authenticationScheme="Anonymous"
                        bypassProxyOnLocal="false" decompressionEnabled="true" hostNameComparisonMode="StrongWildcard"
                        keepAliveEnabled="true" maxBufferSize="65536" proxyAuthenticationScheme="Anonymous"
                        realm="" transferMode="Buffered" unsafeConnectionNtlmAuthentication="false"
                        useDefaultWebProxy="true" />
                </binding>
            </customBinding>
        </bindings>
        <client>
            <endpoint address="http://OURDOMAIN/XRMServices/2011/Organization.svc"
                binding="customBinding" bindingConfiguration="CustomBinding_IOrganizationService"
                contract="CRMService.IOrganizationService" name="CustomBinding_IOrganizationService">
                <identity>
                    <servicePrincipalName value="host/OURDOMAIN" />
                </identity>
            </endpoint>
            <endpoint address="http://OURDOMAIN/XRMServices/2011/Organization.svc"
                binding="customBinding" bindingConfiguration="CustomBinding_IOrganizationService1"
                contract="XRMService.IOrganizationService" name="CustomBinding_IOrganizationService1">
                <identity>
                    <servicePrincipalName value="host/OURDOMAIN" />
                </identity>
            </endpoint>
        </client>
    </system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T13:42:19.970

答案很有趣。我们发现我们公司的一个团队不时对我们的 CRM 系统进行一些极其繁重的测试。这阻止了我们的通话并导致超时。

这也可以解释行动的随机性。

我们通过在计算机上启用跟踪发现，因此我们可以看到性能图表。

# python - 使用 matplotlib 在屏幕上绘制线条和圆圈

> ID：12388372
> 
> 赞同：2
> 
> 时间：2012-09-12T12:40:15.783
> 
> 标签：python, matplotlib

我想使用 matplotlib 在屏幕上绘制一些线条和圆圈。我不需要 X 轴和 Y 轴。这可能吗？我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:42:31.643

如果您不想要轴，并且乐于在 0-1 范围内工作：

```
import matplotlib.pyplot as plt
import matplotlib.patches as mpatches

fig = plt.figure()
fig.patches.append(mpatches.Circle([0.5, 0.5], 0.25, transform=fig.transFigure))
fig.show() 
```

使用@Dhara 的解决方案有几个好处。主要是您可以使用自动缩放到您的数据的数据坐标系，但如果您只想绘制几个形状，我的解决方案效果很好。

如果你沿着我解释的路线走，一些有用的文档：

*   [http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.patches.Circle](http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.patches.Circle)
*   [http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.lines.Line2D](http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.lines.Line2D)
*   [http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.patches.Rectangle](http://matplotlib.sourceforge.net/api/artist_api.html#matplotlib.patches.Rectangle)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:46:38.570

`axes.get_xaxis().set_visible(False)`您可以使用或使用隐藏轴`axis('off')`。

例子：

```
from pylab import *

gca().get_xaxis().set_visible(False) # Removes x-axis from current figure
gca().get_yaxis().set_visible(False) # Removes y-axis from current figure

a = arange(10) 
b = sin(a)
plot(a, b)
show() # Plot has no x and y axes 
```

# wpf - 结合自动和 *

> ID：12388375
> 
> 赞同：1
> 
> 时间：2012-09-12T12:40:33.440
> 
> 标签：wpf, xaml

让我们假设我有 3 列的网格：

```
1st column requires minimum height of 100 to display its content
2nd column requires minimum height of 200 to display its content
3rd column requires minimum height of 300 to display its content 
```

所需的总高度为 600。如果可用空间为 900 像素，则额外的 300 像素应在列之间平均分配，因此最终结果为：

```
1st column height = 200
2nd column height = 300
3rd column height = 400 
```

如果我使用 * 设置高度，那么最终结果是每列 300 像素，这不是我想要的。基本上我需要 auto 和 *. 这可以在 xaml 中完成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:52:12.987

试试这个 ：

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow"
        Height="800"
        Width="525">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"
                           MinHeight="100" />
            <RowDefinition Height="*"
                           MinHeight="200" />
            <RowDefinition Height="*"
                           MinHeight="300" />
        </Grid.RowDefinitions>
        <TextBlock  Background="LightBlue"
                    Text="{Binding ActualHeight, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <TextBlock Grid.Row="1"
                   Background="LightCyan"
                   Text="{Binding ActualHeight, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
        <TextBlock Grid.Row="2"
                   Background="LightCoral"
                   Text="{Binding ActualHeight, Mode=OneWay, RelativeSource={RelativeSource Self}}" />
    </Grid>
</Window> 
```

您会看到高度至少为 100、200、300，但是一旦有足够的位置，多余的位置将平均分配到各行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:45:25.207

第一列高度=2*

第二列高度=3*

第三列高度=4*

# c++ - 我应该如何记录用 C++ 代码编写的 Lua API/对象模型？

> ID：12388376
> 
> 赞同：11
> 
> 时间：2012-09-12T12:40:33.470
> 
> 标签：c++, lua, documentation-generation

我正在为游戏 Bitfighter (http://bitfighter.org) 记录一个新的和扩展的 Lua API。我们的 Lua 对象模型是 C++ 对象模型的子集，而我需要记录的向 Lua 公开的方法是 C++ 中可用方法的子集。我只想记录与 Lua 相关的项目，而忽略其余部分。

例如，对象 BfObject 是所有 Lua 对象的根，但它本身位于 C++ 对象树的中间。BfObject 有大约 40 个 C++ 方法，其中大约 10 个与 Lua 脚本编写者相关。我希望我们的文档将 BfObject 显示为根对象，并且只显示这 10 个相关方法。我们还需要以一种明确方法继承的方式显示其子对象。

目前我们可以假设所有代码都是用 C++ 编写的。

一个想法是以某种方式标记我们想要记录的对象，以使诸如 doxygen 之类的系统知道要查看什么并忽略其余部分。另一种方法是预处理 C++ 代码，以删除所有不相关的位，并用 doxygen 之类的东西记录剩余的内容。（实际上，我使用 luadoc 的这种方法已经走了很远，但找不到让 luadoc 显示对象层次结构的方法。）

一件可能有帮助的事情是每个 Lua 对象类都以一致的方式注册，以及它的父类。

有越来越多的游戏使用 Lua 编写脚本，其中许多都有不错的文档。有人对如何制作它有好的建议吗？

* * *

PS 澄清一下，我很乐意使用任何可以完成这项工作的工具——doxygen 和 luadoc 只是我比较熟悉的示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:41:00.937

我找到了一个解决方案，虽然不理想，但效果很好。我拼凑了一个 Perl 脚本，该脚本遍历所有 Bitfighter 源代码并生成第二组“假”源，其中仅包含我想要的元素。然后我可以通过 Doxygen 运行这个辅助源，并得到我正在寻找的 95% 的结果。

我宣布胜利。

这种方法的一个优点是我可以以一种“自然”的方式记录代码，而不必担心标记什么进什么出。该脚本足够聪明，可以从代码结构中弄清楚。

如果有人感兴趣，可以在[https://code.google.com/p/bitfighter/source/browse/luadoc.pl](https://code.google.com/p/bitfighter/source/browse/luadoc.pl)的 Bitfighter 源档案中找到 Perl 脚本。它只完成了大约 80%，并且缺少一些非常重要的项目（例如正确显示函数 args），但结构就在那里，我很满意这个过程可以正常工作。脚本会随着时间的推移而改进。

该过程的（非常初步的）结果可以在[http://bitfighter.org/luadocs/index.html](http://bitfighter.org/luadocs/index.html)中看到。模板几乎没有被修改过，所以它看起来很“普通”，但它表明事情或多或少是有效的。

由于一些评论者建议使用 Doxygen 生成好的文档是不可能的，我应该注意到我们几乎没有添加任何内联文档。要了解它们的外观，请参阅 Teleporter 类。这不是超级好，但我认为它确实驳斥了 Doxygen 总是产生无用文档的观点。

在这一点上，我最大的遗憾是我的解决方案实际上是一次性的，并没有解决我认为社区日益增长的需求。也许在某个时候，我们会标准化一种合并 C++ 和 Lua 的方式，并且创建通用文档工具的任务将更易于管理。

PS 你可以看到原始源文件中的标记是什么样子的……参见[https://code.google.com/p/bitfighter/source/browse/zap/teleporter.cpp](https://code.google.com/p/bitfighter/source/browse/zap/teleporter.cpp)，然后搜索@luaclass

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:53:41.020

通过 C++ 代码的命名空间（也可以是类）排除，但不排除 lua 代码

```
EXCLUDE_SYMBOLS = myhier_cpp::* 
```

在 doxygen 配置文件或樱桃中选择要排除的内容

```
/// @cond
class aaa {
  ...
  ...
}

/// @endcond 
```

在你的 C++ 代码中。

我个人认为按命名空间分离更好，因为它反映了代码+文档中的分离，这导致了一个基于命名空间的方案，用于将纯 c++ 与 lua 绑定分离。

通过排除进行分离可能是最具针对性的方法，但这将涉及一个额外的工具来解析代码、标记相关的 lua 部分并将排除添加到代码中。（此外，您还可以使用此标记单独呈现特殊信息，例如图形，并通过图像将它们添加到您的文档中，至少使用 Doxygen 很容易做到这一点。）。由于必须有某种 lua 代码的指示，因此该标记可能不太难推导。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-28T08:04:48.033

另一种解决方案是使用[LDoc](https://github.com/stevedonovan/LDoc)。它还允许您编写 C++ 注释，这些注释将由 LDoc 解析并包含在文档中。

一个优点是您也可以使用相同的工具来记录您的 lua 代码。一个缺点是该项目似乎没有维护。也可能无法记录复杂的对象层次结构，就像提问者提到的那样。

我自己对它进行了一些关于 c++ 的小调整。看看[这里](https://github.com/flyingdutchman23/LDoc)。

# jsp - 获取参数值的 Servlet 语法

> ID：12388380
> 
> 赞同：-2
> 
> 时间：2012-09-12T12:40:48.610
> 
> 标签：jsp, servlets

获取jsp页面中问号之后的参数值以在servlet中处理的servlet语法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T06:12:27.833

对于 JSP，您需要使用表达式语言。对于参数，它看起来像`${param['mycom.productId']}`. 查看[文档](http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html)以获取更多详细信息

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-12T12:44:25.217

查看[HttpServletRequest](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html)（及其父接口）的 javadoc，尤其是包含“参数”一词的方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-12T12:46:03.753

HttpServletRequest 有一个 getParameter 方法。下面显示了获取参数“name”的示例，其中 req 是 HttpServletRequest。我还建议阅读@JB Nizet 回答中的文件。

```
String name = req.getParameter("name")); 
```

# .net - 设置项目 + 自定义操作：在升级安装期间检索旧版本号

> ID：12388388
> 
> 赞同：1
> 
> 时间：2012-09-12T12:41:16.543
> 
> 标签：.net, windows-installer, setup-project, custom-action

情况是这样的：

我为我的 .NET 应用程序创建了一个安装项目，该项目使用特殊程序集并定义了一些自定义操作，这些操作在安装期间被调用。如果机器上已经安装了旧版本的应用程序，则设置项目设置为检测以前的安装并进行自动升级。

我想做的是在安装过程中通过一些自定义操作来检测我是否正在升级已经安装的版本 - 如果这是真的，我正在升级哪个版本（它可能是以前安装的 MSI 包的版本）。

我试图在安装过程中的不同点（安装、提交、卸载）闯入调试器，并且在每种情况下，旧版本已经从磁盘中删除，所以我无法访问 odl exe 并从它。

这样的事情甚至可能吗？或者在调用自定义操作时已经太晚了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T16:58:39.133

不幸的是，直接使用 VS Setup 项目是不可能的

但是您可以将 Orca 用于 - 在“RemoveFiles”之前重新安排 DetectOldVersionCA 或 - 最佳决策：使用相同的 UpgradeCode 将行添加到“Upgrade”表中，将版本从 VersionMin 移动到 VersionMax 并输入“ActionProperty” ' 类似 (OLDFOUND) 的属性名称，如果找到旧版本的程序将被设置

# android - 在eclipse中将android源代码作为项目导入

> ID：12388391
> 
> 赞同：2
> 
> 时间：2012-09-12T12:41:19.047
> 
> 标签：android, eclipse

我已经从这个位置的 android referencence 下载了一个名为 custom view 的 android 示例

> [http://developer.android.com/shareables/training/CustomView.zip](http://developer.android.com/shareables/training/CustomView.zip)

它只有 java 文件和其他资源，但不包含任何项目文件供我在 eclipse 中作为项目导入。

因此，当我将现有项目导入工作区时，eclipse 不会在导入对话框中选择项目。

如何将其导入 eclipse ？我已经安装了 ADT 工具，

谢谢，艾哈迈德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:55:56.303

也许那是因为您必须制作 manifest.xml 文件。

我的建议是创建一个新的 Android 项目，其包和 Activity 的名称与您的 zip（即`com.example.android.customviews`和`MainActivity`）相同，然后将文件从您的 zip 复制/粘贴到新项目目录（`thus replacing`src `and`res` 文件夹） . 这样，Eclipse 将为您生成带有正确引用的清单。

这不应超过 30 秒...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:45:49.500

转到项目资源管理器并右键单击 -> 导入 -> 选择 Android -> 现有 Android 代码进入工作区 -> 浏览到包含您的代码的文件夹 -> 完成

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-14T09:12:12.910

我遇到了同样的问题。我确实认为它缺少 AndroidManifest.xml 文件。我试图修复它并将它[放在这里](https://github.com/inspire365/android-customviews-fixed)。你可以下载试试。

# php - php分页得到一个mysql错误

> ID：12388393
> 
> 赞同：-3
> 
> 时间：2012-09-12T12:41:26.027
> 
> 标签：php, pagination, mysql-error-1064

我有一个页面，我在专辑中添加了分页并且工作得很好，但是我发现了一个问题。为了检查目的，我在 url 中输入了一些值，例如 ?page=a 或 ?page=0.1 （使用 ?page=1、?page=2 等整数没有任何错误）并显示此错误：

“您的 SQL 语法有错误；请查看与您的 MySQL 服务器版本相对应的手册，以在第 7 行的 '-15 , 15' 附近使用正确的语法”

因此，如果用户尝试输入这样的值，那不是安全问题吗？如何应用某种检查并防止这种情况发生？

这是我的代码

```
$per_page = 15;
$pages_query = mysql_query("SELECT COUNT(`album_id`) FROM `albums` ", $connection);
$pages = ceil(mysql_result($pages_query, 0) / $per_page);

$page = (isset($_GET['page'])) ? (int)$_GET['page'] : 1;

$start = ($page - 1) * $per_page;
$query_get_imgs = "SELECT `albums`.`album_id`,
                                `albums`.`album_name`,
                                COUNT(`images`.`image_id`) AS `image_count`
                                FROM `albums` LEFT JOIN `images`
                                ON `albums`.`album_id`= `images`.`album_id`
                                GROUP BY `albums`.`album_id` ORDER BY `albums`.`album_id` DESC LIMIT {$start} , {$per_page} ";
$get_imgs = mysql_query($query_get_imgs, $connection) or die(mysql_error());
$row_get_imgs = mysql_fetch_assoc($get_imgs);
$totalRows_get_imgs = mysql_num_rows($get_imgs); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:46:16.030

试试这个

```
$page = (isset($_GET['page']) && is_numeric($_GET['page'])) ? (int)$_GET['page'] : 1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:51:12.313

为避免此问题，您需要检查`$start`大于或等于 0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:44:02.803

怎么样`if($page<1)`？（但不，这不是*安全*风险）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:45:03.253

当页面从 0 开始

```
$start = ($page - 1) * $per_page;

$start = -15 and that is wrong because the index start from 0 
```

你需要给 0 一个特例

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T12:47:06.640

以及同一主题的另一个变体；-)

```
$start = (max(1, $page)-1) * $per_page; 
```

# actionscript-3 - 1180：调用可能未定义的方法 BlurFilter。在 flex 4.5 中

> ID：12388395
> 
> 赞同：0
> 
> 时间：2012-09-12T12:41:27.393
> 
> 标签：actionscript-3, apache-flex, flex4.5, flash-builder4.5

我正在尝试将过滤器应用于 BitmapData，但一个错误是 ***1180：调用可能未定义的方法 BlurFilter。***

这是我的代码：-

```
bmpData.applyFilter(bmpData,cropRect,new Point(),new BlurFilter( 10, 10, 1 )); 
```

我正在使用 flash.filters 任何人的帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:53:28.087

您很可能忘记将包导入到您的项目中：

```
import flash.filters.BlurFilter; 
```

请再检查一遍。

# android - 加权按钮上的文本与按钮占用的空间不同

> ID：12388396
> 
> 赞同：3
> 
> 时间：2012-09-12T12:41:34.817
> 
> 标签：android, android-layout, button, nine-patch

我已经构建了一个按钮栏，并希望它像外部按钮占据 40% 的空间而中间按钮占据 20% 的空间那样展开。正如您在屏幕截图中看到的那样，这是可行的，但文本在按钮内被裁剪。

![按钮文本被裁剪为 1 个粗细大小](../Images/b1f9fcfda2126435685a6e820e936746.png)

我发现文本保持在 1 权重（=20%）的范围内，尽管按钮“知道”它有更多空间 - 否则它不会正确填充可绘制的背景。

这是按钮栏的设置：

```
<LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@id/headerbar_top"
        android:layout_width="match_parent"
        android:layout_height="@dimen/headerbar_divided_height"
        android:orientation="horizontal"
        android:gravity="center"
        android:weightSum="5"
        >

    <Button
            android:id="@id/headerbar_btn_left"
            android:layout_width="0dip"
            android:layout_height="fill_parent"
            android:layout_weight="2"
            android:gravity="center_horizontal|bottom"
            android:paddingBottom="@dimen/headerbar_paddingBottom"
            android:textSize="@dimen/headerbar_textSize"
            android:textColor="@color/font"
            android:text="Spots"
            android:maxLines="1" android:lines="1"
            android:ellipsize="end"
            android:background="@drawable/headerbar_button_left_states"
            android:onClick="onHeaderbarBtnClick"
            android:layout_marginRight="@dimen/headerbar_divided_margin"
            />

    <Button
            android:id="@id/headerbar_btn_center"
            android:layout_width="0dip"
            android:layout_height="fill_parent"
            android:layout_weight="1"
            android:gravity="center_horizontal|bottom"
            android:paddingBottom="@dimen/headerbar_paddingBottom"
            android:textSize="@dimen/headerbar_textSize"
            android:textColor="@color/font"
            android:maxLines="1" android:lines="1"
            android:ellipsize="end"
            android:background="@drawable/headerbar_button_center_states"
            android:onClick="onHeaderbarBtnClick"
            android:layout_marginRight="@dimen/headerbar_divided_margin"
            android:layout_marginLeft="@dimen/headerbar_divided_margin"
            />

    <Button
            android:id="@id/headerbar_btn_right"
            android:layout_width="0dip"
            android:layout_height="fill_parent"
            android:layout_weight="2"
            android:gravity="center_horizontal|bottom"
            android:paddingBottom="@dimen/headerbar_paddingBottom"
            android:textSize="@dimen/headerbar_textSize"
            android:textColor="@color/font"
            android:text="Tours"
            android:maxLines="1" android:lines="1"
            android:ellipsize="end"
            android:background="@drawable/headerbar_button_right_states"
            android:onClick="onHeaderbarBtnClick"
            android:layout_marginLeft="@dimen/headerbar_divided_margin"
            />
</LinearLayout> 
```

有谁知道为什么按钮文本的行为如此奇怪？

编辑：这是左按钮的 XML-drawable：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/headerbar_button_left_on" android:state_selected="true"/>
    <item android:drawable="@drawable/headerbar_button_left_off"/>
</selector> 
```

这里是drawables本身：

![未选中左键的可绘制资源](../Images/aa46d07495ffc83e79fb3028fcd973ba.png) ![选择左键的可绘制资源](../Images/85587da2d7f9e17c814064689f34a38a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:55:00.567

`android:ellipsize="end"`从按钮的声明中删除。

另外：您的 9-patch-drawables 似乎缺少内容区域。下角和右上角用于 9-patch 内容。[这是一个关于 9 补丁的简单教程。](http://radleymarx.com/blog/simple-guide-to-9-patch/)

# java - 如何在 OpenGL ES 中加载和绑定纹理？

> ID：12388401
> 
> 赞同：3
> 
> 时间：2012-09-12T12:42:04.830
> 
> 标签：java, android, opengl-es

所以，我的 res/drawable-hdpi（例如 text.png）文件夹中有一个纹理，我如何加载这个纹理并将它与 glBindTexture 绑定？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-12T15:02:33.807

```
Bitmap img = BitmapFactory.decodeResource(context.getResources(), R.drawable.text);
int[] texId = new int[1];
GLES20.glGenTextures(1, texId, 0);
GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, texId[0]);
GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, img, 0);
GLES20.glTexParameterf(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_LINEAR); 
```

1.  将资源解码为位图
2.  生成纹理
3.  绑定纹理
4.  上传纹理
5.  为完整性设置最小化过滤器

# wpf - Josh Smith 的传奇文章：我需要更多关于发生的 DataBinding

> ID：12388402
> 
> 赞同：3
> 
> 时间：2012-09-12T12:42:10.587
> 
> 标签：wpf, xaml, data-binding, mvvm, msdn

这是关于[*Josh Smith 关于 MVVM*](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)和示例应用程序的 MSDN 文章。我知道关于这个主题有很多关于 SO 的问题，我已经全部探索过了。他们中的大多数都专注于 MVVM，但我认为我的问题是，与 MVVM 相比，与 XAML 相关的更多。

示例应用程序包含工作区区域的以下 XAML -

```
<Border Grid.Column="2" Style="{StaticResource MainBorderStyle}">
    <ContentControl Content="{Binding Path=Workspaces}" ContentTemplate="{StaticResource ResourceKey=WorkspacesTemplate}"/>
</Border> 
```

相关资源是 -

```
//Explains how to render the 'Workspace' content area in the main window
<DataTemplate x:Key="WorkspacesTemplate">
    <TabControl Margin="4" ItemsSource="{Binding}"
                IsSynchronizedWithCurrentItem="True"                    
                ItemTemplate="{StaticResource ResourceKey=ClosableTabItemTemplate}"/>
</DataTemplate>

//Explains how to render a tab item with a close button
<DataTemplate x:Key="ClosableTabItemTemplate">
    <DockPanel Width="120">
        <Button Command="{Binding Path=CloseCommand}" Content="X" Cursor="Hand" 
                DockPanel.Dock="Right" Focusable="False" FontFamily="Courier" 
                FontSize="9" FontWeight="Bold" Margin="0,1,0,0" Padding="0" 
                VerticalContentAlignment="Bottom" Width="16" Height="16"/>
        <ContentPresenter Content="{Binding Path=DisplayName}" VerticalAlignment="Center"/>
    </DockPanel>
</DataTemplate> 
```

我还是不明白的——

*   语法`ItemsSource="{Binding}"`应该将 ItemsSource 直接绑定到 TabControl 的 DataContext，而不是绑定到 DataContext 的任何属性。但是 TabControl 的 DataContext 到底是在哪里设置的呢？
*   如何`Content="{Binding Path=Workspaces}"`在 TabControl 的 ItemsSource 和 Workspaces（WorkspaceViewModel 的 ObservableCollection）之间创建绑定？
*   文章说*通过依赖数据绑定，a的`Content`属性`TabItem`接收一个ViewModelBase派生的对象来显示*。如何 ？！？好的，通过*数据绑定*。但这对我来说太抽象了。

一般来说，我缺少`the way binding is flowing/working through these two resources behind the scene`在 TabItems 中加载视图。对我来说，就像*是什么导致什么被绑定到什么*。

这篇传奇文章和示例应用程序对于 WPF/MVVM 初学者来说非常有用。但这不是很详细。我自己已经学会了使用 MVVM 和这个。我认为还有*一些**像*我一样的人。那么，任何人都可以更详细地解释绑定序列吗？

 ***相关说明：**

也许它会给你一些我在这方面已经知道的信息，并帮助你回答。我是初级 WPF 应用程序开发人员。由于我对 XAML *不太了解 -*

*   我通过`DataTemplate`在 ViewModel 类型发生时显​​示 View 的类型来了解魔术，然后将 ViewModel 设置为该 View 的 DataContext
*   我的理解是，Content 告诉在 ContentControl 上显示*什么*，而 ContentTemplate 告诉*如何*显示该内容。
*   我有比基本数据绑定概念更多的东西，并且我曾在一些 WPF/MVVM 项目中工作过。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:55:13.357

> 语法 ItemsSource="{Binding}" 应该将 ItemsSource 直接绑定到 TabControl 的 DataContext，而不是绑定到 DataContext 的任何属性。但是 TabControl 的 DataContext 到底是在哪里设置的呢？

由于是数据模板，它将（通过 WPF）`TabControl`将其设置为它正在模板化的数据项。`DataContext`实际上，数据模板中的根级项`DataContext`将由 WPF 设置。在这种情况下，它是一个`TabControl`.

由于数据模板已分配给`ContentControl`'`ContentTemplate`属性，它将自动接收`ContentControl`'`Content`作为其`DataContext`.

> Content="{Binding Path=Workspaces}" 究竟是如何在 TabControl 的 ItemsSource 和 Workspaces（WorkspaceViewModel 的 ObservableCollection）之间创建绑定的？

我认为我之前的回答解决了这个问题，但让我以直接回答这个问题的形式重新陈述它。上的绑定`ContentControl`确保将`DataContext`for`DataTemplate`设置为工作区集合。因此，`TabControl`可以通过指定`Binding`不带 a 的 a来绑定到工作区集合`Path`。

> 文章说通过依赖数据绑定，TabItem 的 Content 属性接收 ViewModelBase 派生的对象进行显示。如何 ？！？好的，通过数据绑定。但这对我来说太抽象了。

同样，这归结为 WPF 自动分配正确的对象作为生成项的数据上下文（`TabItem`在本例中为 a）。当一个`ItemsControl`（例如`TabControl`）绑定到一个集合时，它会为绑定集合中的每个项目生成一个容器（`TabItem`在本例中为 a）。容器自动接收数据项（在本例中为工作区视图模型）作为其数据上下文。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:20:51.587

“但是 TabControl 的 DataContext 到底是在哪里设置的呢？” Workspaces 是 DataContext，因此是 TabControl 的 Itemssource。

```
<ContentControl Content="{Binding Path=Workspaces}" ContentTemplate="{StaticResource ResourceKey=WorkspacesTemplate}"/> 
```

“Content="{Binding Path=Workspaces}" 究竟是如何在 TabControl 的 ItemsSource 和 Workspaces（WorkspaceViewModel 的 ObservableCollection）之间创建绑定的？” 工作区是 DataTemplate/TabControl 的 DataContext，ItemsSource 设置为 DataContext。

```
 <TabControl Margin="4" ItemsSource="{Binding}" 
```

“文章说通过依赖数据绑定，TabItem 的 Content 属性接收 ViewModelBase 派生的对象来显示。如何？！？” 我不知道这篇文章，但我假设 Workspaces 是从 ViewModelBase 派生的对象的集合。每个 tabitem 代表集合中的项目，因此是 viewmodelbase 派生的对象。*

# linux - LInux Kernel API 查找vma对应的虚拟地址

> ID：12388403
> 
> 赞同：5
> 
> 时间：2012-09-12T12:42:11.263
> 
> 标签：linux, memory-management, linux-kernel

是否有任何内核 API 来查找 VMA 对应的虚拟地址？

示例：如果地址为 0x13000，我需要如下所示的一些功能

```
 struct vm_area_struct *vma =  vma_corresponds_to (0x13000,task); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T15:30:25.697

您正在寻找`find_vma`.`linux/mm.h`

```
/* Look up the first VMA which satisfies  addr < vm_end,  NULL if none. */
extern struct vm_area_struct * find_vma(struct mm_struct * mm, unsigned long addr); 
```

这应该可以解决问题：

```
struct vm_area_struct *vma = find_vma(task->mm, 0x13000);
if (vma == NULL)
    return -EFAULT;
if (0x13000 >= vma->vm_end)
    return -EFAULT; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-07-21T15:31:06.060

从 v5.14-rc1 开始，有一个新的 API`linux/mm.h`被调用`vma_lookup()`

现在可以将代码简化为以下内容：

```
struct vm_area_struct *vma = vma_lookup(task->mm, 0x13000);

if (!vma)
    return -EFAULT; 
```

# javascript - JS对象键序列

> ID：12388412
> 
> 赞同：3
> 
> 时间：2012-09-12T12:42:39.513
> 
> 标签：javascript

javascript是否保证即使将新值分配给键也能保留对象的键序列？

例如，如果我有以下对象

```
var Object = {
    keyX: value1,
    keyB: value2,
    keyZ: value3
} 
```

如果我使用 遍历键`for .. in`，我会得到正确的序列，即`keyX, keyB, keyZ`. 如果我改变 的值`keyB`，我仍然会在迭代中得到相同的序列。

我的问题是，顺序会始终保持不变，还是在任何情况下都可能改变？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-12T12:45:27.683

[好吧，在文档（ MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)）中说得很清楚：

> for...in 循环以任意顺序迭代对象的属性。

这[部分](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete#Cross-browser_issues)文档对此给出了更全面的解释：

> 尽管 ECMAScript 使对象的迭代顺序依赖于实现，但似乎所有主流浏览器都支持基于最早添加的属性的迭代顺序（至少对于不在原型上的属性）。但是，在 Internet Explorer 的情况下，当对属性使用 delete 时，会导致一些令人困惑的行为，从而阻止其他浏览器使用像对象字面量这样的简单对象作为有序关联数组。
> 
> 在资源管理器中，虽然属性值确实设置为未定义，但如果稍后添加回具有相同名称的属性，则该属性将在其旧位置进行迭代——而不是在迭代序列的末尾，正如人们可能期望的那样删除该属性，然后将其添加回来。

# silverlight - 在 Silverlight XNA 项目中切换 CPU 和 GPU 渲染

> ID：12388413
> 
> 赞同：3
> 
> 时间：2012-09-12T12:42:40.840
> 
> 标签：silverlight, 3d, xna, gpu

我在 Silverlight 中有一个将 XNA 用于 3D 图形的项目。我想让它在不支持 SM 2.0 的旧显卡的计算机上正常运行。我找到了一个教程，但我无法遵循包含的步骤，因为 Microsoft.Xna.Framework.Graphics.dll 的 Silverlight 版本不包含一些必需的方法。

如何在 Silverlight XNA 项目中切换到 CPU 渲染？//顺便说一句，我谈到的教程：[http](http://www.riemers.net/eng/Tutorials/XNA/Csharp/ShortTuts/Reference_device.php) ://www.riemers.net/eng/Tutorials/XNA/Csharp/ShortTuts/Reference_device.php 我收到一个错误：

> “Microsoft.Xna.Framework.Graphics.GraphicsAdapter”不包含“DefaultAdapter”的定义

# google-maps - 谷歌地图自定义标记不显示

> ID：12388415
> 
> 赞同：0
> 
> 时间：2012-09-12T12:42:45.020
> 
> 标签：google-maps, google-maps-markers

我正在开发的网站上有两个谷歌地图设置，我想将自定义标记应用于它们。这是我写的——

```
 var coordinates_1 = new google.maps.LatLng(x, x);
    var coordinates_2 = new google.maps.LatLng(x, x);
    var map_1_options = {
        zoom: 14,
        center: coordinates_1,
        mapTypeControl: false,
        streetViewControl: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var map_2_options = {
        zoom: 14,
        center: coordinates_2,
        mapTypeControl: false,
        streetViewControl: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var marker_1 = new google.maps.Marker({
        position: coordinates_1, 
        map: map_1,
        icon: '/images/marker.png'
    });
    var marker_2 = new google.maps.Marker({
        position: coordinates_2, 
        map: map_2,
        icon: '/images/marker.png'
    });
    var map_1 = new google.maps.Map(document.getElementById('location_1'), map_1_options);
    var map_2 = new google.maps.Map(document.getElementById('location_2'), map_2_options); 
```

我猜脚本可以优化，但这不是这里的重要问题。发生的情况是我没有收到任何错误消息（或缺少图像），并且两个地图都显示在正确的位置，但没有显示任何标记。如果重要的话，图像是 32x32px。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:00:30.080

在将它们用作标记的地图属性之前，您必须先创建`map_1`和。`map_2`

# css - IE9 未删除 :hover 样式更改 DOM

> ID：12388416
> 
> 赞同：1
> 
> 时间：2012-09-12T12:42:50.210
> 
> 标签：css, internet-explorer, dom, internet-explorer-9, hover

我正在尝试制作一个在弹出框上具有 :hover 状态的按钮，当您是其中一个按钮时，我正在从 DOM 中删除该框并将其保存以供将来交互。问题是当我将它重新附加到 IE9 中的 DOM 时，它没有清除 :hover 状态，直到你下一次将其悬停然后鼠标移出。

显然，这在任何其他浏览器上都不存在，但可以在这里重现：http: [//jsfiddle.net/5dXSp/](http://jsfiddle.net/5dXSp/)

我找不到手动清除 css :hover 状态的方法，我真的不想因此每次都重建菜单。有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T09:19:25.473

还有另一种修复方法。您可以在从 DOM 中分离元素之前隐藏元素，但*在不同的事件处理*中。像这样的东西：

```
// HTML structure: <div id="aaa"> <a id="bbb"> Text </a> </div>

var bbb = document.getElementById('bbb');
var container = document.getElementById('aaa');

bbb.attachEvent("onclick", function() {
    bbb.style.display = "none";

    window.setTimeout(function() {
        container.removeChild(bbb);
        bbb.style.display = "";

        // Some time later

        window.setTimeout(function() {
            container.appendChild(bbb);
        }, 2000);
    }, 1);
}); 
```

bbb.style.visibility = "hidden" 也有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T13:34:55.303

尝试使用类和 jQuery 控制悬停。这似乎对我有用：http: [//jsfiddle.net/5dXSp/25/](http://jsfiddle.net/5dXSp/25/)

CSS：

```
.box{
    height:200px;
    margin:10px 0;
}    
.button{
    display:block;
    width:200px;
    height:20px;  
    background:#ccc;      
}
.hover {
  background-color: #000;
 }​ 
```

jQuery：

```
$(".button").hover(
  function () {
   $(this).addClass("hover");
  }, 
  function () {
    $(this).removeClass("hover");
  }
);

$(".button").click(function(ev){
    ev.preventDefault();
    $(ev.target).appendTo($(".catch"));
    $(this).removeClass("hover");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-21T12:43:38.800

使用 jquery 你可以做一些丑陋的事情，比如：

```
if($.browser.msie)
   $('el').html($(el).html()); 
```

去除和附加元素

# solr - 在 Solr 中聚类文档

> ID：12388417
> 
> 赞同：0
> 
> 时间：2012-09-12T12:42:55.857
> 
> 标签：solr, data-mining, cluster-analysis, mahout

首先我必须提到，我的意思是文档集群是一种数据挖掘技术，而不是工作负载集群或类似的东西。

从一开始我会说我有什么：

*   我总是收到文件。让我们假设这些是新闻（这是相当相似的事情）。
*   每次我收到新一批“新闻”时，我都应该将它们添加到 Solr 索引并获取该文档的集群信息。将此信息存储在数据库中（所以我应该知道每个文档的集群）。
*   我等不及集群定义服务/程序不时启动，但它应该动态定义集群。
*   我希望只能在一段时间内获取集群（例如，我只想搜索一个月前加载的文档的集群）。
*   我每天将有数以万计的新文档和数百万的总基数。

很久以前我一直在使用一些库（不记得它的名字），它接收文档作为输入，并产生集群 ID，如果它认为它是一个新集群，那么它创建一个，等等。但它工作得很慢（我什至不记得它的名字）。

我找到了一本关于 Mahout 的书，但仍然不知道我应该读什么以及我想要什么。而且，也许，如果不为 Solr 编写自己的插件，就不可能使用 Solr/Mahout 做到这一点。

我将不胜感激有关如何构建此类系统的任何想法和建议。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-07T14:36:52.200

相当老的帖子，不过让我回应一下，您可以使用carrot2 [http://project.carrot2.org/index.html](http://project.carrot2.org/index.html) 进行solr 结果聚类。这总是在飞行中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T07:44:57.873

我认为您不需要任何类型的自定义 Solr 插件。这是因为新文档的*分类*可以在您的“新闻”的正常索引过程中确定，因此您可以将其作为正常字段添加到每个 Solr 文档。

当谈到使用 Mahout 进行聚类和分类时，我会说[Mahout in Action](http://manning.com/owen/)这本书是一个很好的入门资源。

干杯。

# boost - Boost Wave - 使用 MSVC 64 位构建

> ID：12388418
> 
> 赞同：0
> 
> 时间：2012-09-12T12:42:55.610
> 
> 标签：boost, boost-thread, bjam

我需要一些 boost 库的动态可链接构建，wave 就是其中之一。使用 b2.exe 命令行工具时，某些库将无法构建（其中包括 wave）。这是我用于命令行参数的：

```
C:\boost>b2.exe --toolset=msvc-10.0 --build-type=complete --with-chrono --with-date_time --with-thread --with-wave link=shared architecture=x86 address-model=64 
```

从输出中我可以推断出线程组件存在问题：

```
.
...removing bin.v2\libs\thread\build\msvc-10.0\debug\address-model-64\architectu
re-x86\threading-multi\boost_thread-vc100-mt-gd-1_50.lib
...removing bin.v2\libs\thread\build\msvc-10.0\debug\address-model-64\architectu
re-x86\threading-multi\boost_thread-vc100-mt-gd-1_50.pdb
...skipped <pbin.v2\libs\wave\build\msvc-10.0\debug\address-model-64\architectur
e-x86\threading-multi>boost_wave-vc100-mt-gd-1_50.dll for lack of <pbin.v2\libs\
thread\build\msvc-10.0\debug\address-model-64\architecture-x86\threading-multi>b
oost_thread-vc100-mt-gd-1_50.lib... 
```

并且该线程似乎与其他符号有问题（可能来自日期时间）：

```
thread.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) pu
blic: __cdecl boost::gregorian::greg_month::greg_month(unsigned short)" (__imp_?
?0greg_month@gregorian@boost@@QEAA@G@Z) referenced in function "public: __cdecl
boost::gregorian::date::date(enum boost::date_time::special_values)" (??0date@gr
egorian@boost@@QEAA@W4special_values@date_time@2@@Z)
thread.obj : error LNK2019: unresolved external symbol "__declspec(dllimport) pu
blic: __cdecl boost::gregorian::greg_month::operator unsigned short(void)const "
 (__imp_??Bgreg_month@gregorian@boost@@QEBAGXZ) referenced in function "union _L
ARGE_INTEGER __cdecl boost::this_thread::`anonymous namespace'::get_due_time(str
uct boost::detail::timeout const &)" (?get_due_time@?A0x8352ecf9@this_thread@boo
st@@YA?AT_LARGE_INTEGER@@AEBUtimeout@detail@3@@Z) 
```

寻找这些问题的解决方案的首要位置是什么？有没有人遇到过类似的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T00:52:35.650

调用 bjam（或 b2）时，您不需要工具集的 -- （实际上您不应该拥有它），因此您的命令可能应该是

`b2.exe toolset=msvc-10.0 --build-type=complete --with-chrono --with-date_time --with-thread --with-wave address-model=64`

我去掉了共享和架构选项，因为这些都是默认值。希望这会有所帮助...

# java - URLClassLoader 找不到类

> ID：12388421
> 
> 赞同：1
> 
> 时间：2012-09-12T12:43:07.330
> 
> 标签：java, classloader, urlclassloader

我想使用 URLClassLoader 从 jar 存档中加载特定目录中的类。

项目结构如下

```
/
 application.jar
 /lib/
  mysql.jar
  log4j.jar
  ...
 /myClasses/
  class1.class
  class2.class
  ... 
```

该 jar 具有以下清单：

```
Manifest-Version: 1.0
Ant-Version: Apache Ant 1.8.3
Created-By: 1.7.0_07-b10 (Oracle Corporation)
Main-Class: de.application.start
Class-Path: lib/mysql.jar lib/log4j.jar lib/....jar 
```

我目前所做的是遍历其中的所有文件`/myClasses/`并尝试加载该特定类（它们都有相同的包），如下所示：

```
File classDir = new File("/path/to/my/root/folder/myClasses/");
URL[] url = { classdir.toURI().toURL() };
ClassLoader loader = new URLClassLoader(url);
for (File file : classDir.listFiles()) {
    String filename = StringUtil.getFilenameWithoutExtension(file.getName());
    loader.loadClass("de.myClasses." + filename).getConstructor().newInstance(); 
```

但是，即使这些文件显然存在，我总是会收到`java.lang.ClassNotFoundException: de.myClasses.class1`错误消息。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:16:15.230

您应该根据其包将编译的类放在目录中。所以类`de.myClasses.Class1`应该在目录中`/myClasses/de/myClasses/`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:53:57.750

`file.getName()`返回`"Class1.class"`而不是`"Class1"`，对吗？删除最后 6 个字符。

此外，如果 Class1 在包中`de.myClasses`，它应该在

```
<your_base_dir>/de/myClasses 
```

如果 Class1 在顶级包（无包）中，那么你应该要求它

```
loader.loadClass("Class1") // no de.mClasses. prefix 
```

# java - 静态类型的优点？

> ID：12388422
> 
> 赞同：0
> 
> 时间：2012-09-12T12:43:12.737
> 
> 标签：java, c++, objective-c, static-typing

我并不是说静态类型是最好的，只是想知道它到底有什么优势。我以为他们是：

*   更快的代码
*   尽早发现一些错误

看看我自己的使用（在 Java 中），我主要为编译器工作。当它捕获到类型错误时，通常只是*类型中的错误*中的错误，而不是代码错误 - 事实上，我不记得它曾经捕获过实际的错误（尽管它可能有）。

有时，我会通过代码来收紧类型——例如，可能有一组类实现了某个接口 I，因此可以容纳任何这些类的字段被赋予类型 I。但这可以结束-broad：有时还有一些字段只能包含这些类的一个子集，因此可以通过创建一个新接口 J 来收紧类型系统，该接口仅由该类的子集实现，并且这些字段被赋予类型 J。虽然这更“正确”，它非常*乏味*，如果发生变化，它会很脆弱。

所以，我认为更快的代码是主流编译语言（Java、C#、C、C++、objective-C）中静态类型的主要好处，而类型安全则远在第二位——尽管也有一些领域是类型安全的非常有用，例如用于集成电路验证的 ml 语言。我还听说静态类型在数据库中很重要。

但我认为还有另一个优势：

*   文件

您可以查看方法并了解有效参数的文档。对于自动生成的文档，参数类型超链接到可用的接口和实现。我不认为这是一个杀手锏，但它是真实的。

显然，python 和 ruby​​ 等在没有静态类型的情况下做得很好。我只是想知道它的优点是什么-您怎么看？你有什么经验？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:54:18.460

Java 静态类型系统是一种不具表现力的、过时的静态类型方法，已经过时了将近 40 年。现代静态类型允许代码应满足的不变量的丰富规范，机器能够为这些不变量提供证明。Haskell、Agda 和 ADA 等语言说明了如何使用类型以相对较低的成本（与例如测试相比）进行严格的软件验证。

因此，除了为编译器提供更多信息的明显好处，导致比没有静态类型更快的代码，事实是现代类型系统是计算机辅助验证软件的重要工具。如果您使用的唯一类型系统是 Java，您将看不到的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:51:03.190

通过使用静态类型，您可以指示变量中应该预期的数据类型。对于非静态，您必须在执行处理之前检查数据类型。例如，您可能希望将整数传递给您的方法，但没有什么可以阻止某人传入字符串。恕我直言，这是向痛苦的世界敞开大门。

# jquery - jQuery ajaxStart 和 ajaxStop 无法重新绑定

> ID：12388431
> 
> 赞同：1
> 
> 时间：2012-09-12T12:43:44.953
> 
> 标签：jquery, bind

我正在为两个不同的事件绑定不同的加载消息。

这是我用来在 AJAX 调用之前绑定行为的函数。我在每次匹配的 Ajax 提交之前调用每个函数，以便为每个函数显示正确的加载消息：

```
function BindPersonalityLoader()
{

    // Bind the loader to personality
    $('document').bind("ajaxStart", function() {
        // Show the loader
        $('img#personality_loader').show();
    });

    // Bind the loader to personality
    $('document').bind("ajaxStop", function() {
        // Show the loader
        $('img#personality_loader').hide();
    });
}

function BindLoadEditPersonalityLoader()
{

    // Bind the loader for editing a personality
    $('document').bind("ajaxStart", function() {

        // Hide the edit form
        $('div#quiz_maker_add_personality_wrapper').hide();

        // Show the loader
        $('div#quiz_maker_edit_personality_loader').show();
    });

    // Bind the loader for editing a personality
    $('document').bind("ajaxStop", function() {

        // Hide the loader
        $('div#quiz_maker_edit_personality_loader').hide();
    });
} 
```

一旦我调用`BindLoadEditPersonalityLoader()`，由于某种原因，这将成为永久性的，即使我随后`BindPersonalityLoader()`在我的代码中调用，我也期待其他行为。

出于某种原因，我调用代码，它并没有覆盖“绑定”。

例如，如果我运行以下代码，则 的行为`BindLoadEditPersonalityLoader()`始终存在，因为它首先被调用：

```
// Bind the loaders once
BindLoadEditPersonalityLoader();

// Bind the loaders to different behaviour
BindPersonalityLoader(); 
```

我已经包含了这两条`alert()`消息，以便我可以看到它们何时被调用。

我试过打电话`unbind("ajaxStart ajaxStop");`，但这也没有用。

这就是我在两个不同事件中调用绑定的方式：

```
 // Add a new personality to the quiz
$('form#personality_editor').submit(function(e) {

    e.preventDefault();

    // Bind the loader to personality loader
    BindPersonalityLoader();

            // AJAX Call here

    });

    // Edit a personality already existing within the quiz
$('a.personality_edit').live('click', function(e) {

    e.preventDefault();

    // Bind loader for editing personality
    BindLoadEditPersonalityLoader();

            // Ajax call here
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:39:42.520

`ajaxStop`并且`ajaxStart`是全局事件，当没有其他未决的ajax请求时，每次启动ajax请求时都会在所有元素上触发该事件，并且每次在没有其他未决的ajax请求时结束ajax请求时都会触发该事件。

我认为没有理由拥有多个装载箱。您是否考虑过只有一个加载框，但有一种方法可以简单地更改其中显示的内容？

```
$("#loader").ajaxStart(function(){
    $(this).show();
}).ajaxStop(function(){
    $(this).fadeOut();
});
// ... later on ...
$("#loader span.infotext").text("Loading User Profile, please wait...");
$.ajax({ ... }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:58:48.710

绑定不会被“覆盖”，因为您将事件绑定到不同的对象。

```
$('img#personality_loader').bind("ajaxStart", function() {...});
$('div#quiz_maker_edit_personality_loader').bind("ajaxStart", function() {...}); 
```

尝试绑定/解除绑定`$(document)`（不带's）

# mysql - 如果一个或另一个或两个字段匹配，如何返回 SQL 查询

> ID：12388433
> 
> 赞同：2
> 
> 时间：2012-09-12T12:43:49.603
> 
> 标签：mysql, sql, ruby-on-rails

我在 Rails 3 应用程序中使用这个遗留代码。

```
# Contacts
contact_searchable_columns = [
  'contacts.first_name',
  'contacts.last_name',
  'contacts.title',
  'contacts.address',
  'contacts.city',
  'contacts.state',
  'contacts.zip_code',
  'contacts.note',
  'contacts.phone1',
  'contacts.phone2',
  'contacts.phone3',
  'contacts.email1',
  'contacts.email2',
  'contacts.email3'
]
contact_conditions = [ contact_searchable_columns.map{ |c| "#{c} LIKE :q" }.join(' OR '), { :q => "%#{@query}%" } ]
@contacts = current_account.contacts.paginate(:all, :include => :customer, :order => 'customers.name', :page => params[:page], :conditions => contact_conditions) 
```

如果我有正确的姓氏或名字，这将成功返回匹配项。但是如果我在查询中有名字和姓氏，那么它将不会返回。

我将如何编写它，以便如果至少“*一组单词的查询中的一个单词匹配*”也可以返回匹配项？

使用 MurifoX 的回答，生成了这个 SQL：

```
 Contact Load (1.8ms)  SELECT `contacts`.`id` AS t0_r0, `contacts`.`customer_id` AS t0_r1, `contacts`.`account_id` AS t0_r2, `contacts`.`first_name` AS t0_r3, `contacts`.`last_name` AS t0_r4, `contacts`.`title` AS t0_r5, `contacts`.`phone1` AS t0_r6, `contacts`.`phone1_type` AS t0_r7, `contacts`.`phone2` AS t0_r8, `contacts`.`phone2_type` AS t0_r9, `contacts`.`phone3` AS t0_r10, `contacts`.`phone3_type` AS t0_r11, `contacts`.`email1` AS t0_r12, `contacts`.`email1_type` AS t0_r13, `contacts`.`email2` AS t0_r14, `contacts`.`email2_type` AS t0_r15, `contacts`.`email3` AS t0_r16, `contacts`.`email3_type` AS t0_r17, `contacts`.`address` AS t0_r18, `contacts`.`city` AS t0_r19, `contacts`.`state` AS t0_r20, `contacts`.`zip_code` AS t0_r21, `contacts`.`country` AS t0_r22, `contacts`.`note` AS t0_r23, `contacts`.`primary` AS t0_r24, `contacts`.`created_at` AS t0_r25, `contacts`.`updated_at` AS t0_r26, `customers`.`id` AS t1_r0, `customers`.`account_id` AS t1_r1, `customers`.`customer_number` AS t1_r2, `customers`.`created_at` AS t1_r3, `customers`.`name` AS t1_r4, `customers`.`phone_number` AS t1_r5, `customers`.`fax` AS t1_r6, `customers`.`service_address` AS t1_r7, `customers`.`service_city` AS t1_r8, `customers`.`service_state` AS t1_r9, `customers`.`service_zip_code` AS t1_r10, `customers`.`billing_address` AS t1_r11, `customers`.`billing_city` AS t1_r12, `customers`.`billing_state` AS t1_r13, `customers`.`billing_zip_code` AS t1_r14, `customers`.`special_instructions` AS t1_r15, `customers`.`email_address` AS t1_r16, `customers`.`alt_phone_number` AS t1_r17, `customers`.`parent_id` AS t1_r18, `customers`.`qb_parent_list_id` AS t1_r19, `customers`.`password` AS t1_r20, `customers`.`list_id` AS t1_r21, `customers`.`time_created` AS t1_r22, `customers`.`time_modified` AS t1_r23, `customers`.`edit_sequence` AS t1_r24, `customers`.`full_name` AS t1_r25, `customers`.`is_active` AS t1_r26, `customers`.`parent_ref_list_id` AS t1_r27, `customers`.`sublevel` AS t1_r28, `customers`.`company_name` AS t1_r29, `customers`.`first_name` AS t1_r30, `customers`.`last_name` AS t1_r31, `customers`.`phone` AS t1_r32, `customers`.`mobile` AS t1_r33, `customers`.`pager` AS t1_r34, `customers`.`alt_phone` AS t1_r35, `customers`.`email` AS t1_r36, `customers`.`contact` AS t1_r37, `customers`.`alt_contact` AS t1_r38, `customers`.`customer_type_ref_full_name` AS t1_r39, `customers`.`terms_ref_full_name` AS t1_r40, `customers`.`sales_rep_ref_full_name` AS t1_r41, `customers`.`balance` AS t1_r42, `customers`.`total_balance` AS t1_r43, `customers`.`sales_tax_code_ref_full_name` AS t1_r44, `customers`.`item_sales_tax_ref_full_name` AS t1_r45, `customers`.`resale_number` AS t1_r46, `customers`.`account_number` AS t1_r47, `customers`.`credit_limit` AS t1_r48, `customers`.`preferred_payment_method_ref_full_name` AS t1_r49, `customers`.`job_status` AS t1_r50, `customers`.`job_start_date` AS t1_r51, `customers`.`job_projected_end_date` AS t1_r52, `customers`.`job_end_date` AS t1_r53, `customers`.`job_desc` AS t1_r54, `customers`.`job_type_ref_full_name` AS t1_r55, `customers`.`is_statement_with_parent` AS t1_r56, `customers`.`delivery_method` AS t1_r57, `customers`.`price_level_ref_full_name` AS t1_r58, `customers`.`custom_text1` AS t1_r59, `customers`.`custom_number1` AS t1_r60, `customers`.`custom_datetime1` AS t1_r61, `customers`.`custom_text2` AS t1_r62, `customers`.`custom_number2` AS t1_r63, `customers`.`custom_datetime2` AS t1_r64, `customers`.`custom_text3` AS t1_r65, `customers`.`custom_number3` AS t1_r66, `customers`.`custom_datetime3` AS t1_r67, `customers`.`custom_text4` AS t1_r68, `customers`.`custom_number4` AS t1_r69, `customers`.`custom_datetime4` AS t1_r70, `customers`.`custom_text5` AS t1_r71, `customers`.`custom_number5` AS t1_r72, `customers`.`custom_datetime5` AS t1_r73, `customers`.`custom_text6` AS t1_r74, `customers`.`custom_number6` AS t1_r75, `customers`.`custom_datetime6` AS t1_r76, `customers`.`custom_text7` AS t1_r77, `customers`.`custom_number7` AS t1_r78, `customers`.`custom_datetime7` AS t1_r79, `customers`.`custom_text8` AS t1_r80, `customers`.`custom_number8` AS t1_r81, `customers`.`custom_datetime8` AS t1_r82, `customers`.`custom_text9` AS t1_r83, `customers`.`custom_number9` AS t1_r84, `customers`.`custom_datetime9` AS t1_r85, `customers`.`custom_text10` AS t1_r86, `customers`.`custom_number10` AS t1_r87, `customers`.`custom_datetime10` AS t1_r88, `customers`.`updated_at` AS t1_r89, `customers`.`service_country` AS t1_r90, `customers`.`billing_country` AS t1_r91, `customers`.`sales_tax_code_ref_list_id` AS t1_r92, `customers`.`item_sales_tax_ref_list_id` AS t1_r93, `customers`.`custom_text11` AS t1_r94, `customers`.`custom_text12` AS t1_r95, `customers`.`custom_text13` AS t1_r96, `customers`.`custom_text14` AS t1_r97, `customers`.`custom_text15` AS t1_r98, `customers`.`custom_text16` AS t1_r99, `customers`.`custom_text17` AS t1_r100, `customers`.`custom_text18` AS t1_r101, `customers`.`custom_text19` AS t1_r102, `customers`.`custom_text20` AS t1_r103, `customers`.`created_by` AS t1_r104, `customers`.`updated_by` AS t1_r105, `customers`.`tax_id` AS t1_r106, `customers`.`which_billing_address` AS t1_r107, `customers`.`customer_type_id` AS t1_r108, `customers`.`customer_source_id` AS t1_r109 FROM `contacts` LEFT OUTER JOIN `customers` ON `customers`.`id` = `contacts`.`customer_id` WHERE (`contacts`.account_id = 1) AND (contacts.first_name||' '||contacts.last_name LIKE '%David Crocker%') ORDER BY customers.name LIMIT 30 OFFSET 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:07:56.347

要解决您的问题，您可以在搜索条件中执行一些 sql hax，如下所示：

创建一个将两个名称连接为一个的列。

```
contact_searchable_columns = [
  "contacts.first_name||' '||contacts.last_name",
  ...
] 
```

这样查询将是这样的：

```
SELECT * FROM contacts WHERE contacts.first_name||' '||contacts.last_name LIKE '%David Crocker%' ... 
```

这个想法很简单，所以我相信你可以适应自己的领域。

编辑：

尝试使用 concat() 而不是 || 像这样：

```
contact_searchable_columns = [
  "concat('contacts.first_name', ' ', 'contacts.last_name')",
  ...
] 
```

我没有尝试过，所以我相信语法可能包含错误。

# java - Java静态代码分析

> ID：12388434
> 
> 赞同：5
> 
> 时间：2012-09-12T12:43:50.197
> 
> 标签：java, eclipse, netbeans

我正在寻找 eclipse/netbeans 插件或工具，它分析 java 项目，并给我们报告未使用的导入、未使用的变量、未使用的方法、**违反自定义命名约定**等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:54:27.710

[Findbugs](http://findbugs.sourceforge.net/)作为 Eclipse 插件运行良好，并且易于定制。

如果您正在寻找更大的东西，或者您在持续集成环境中工作，我会选择[Sonar](http://www.sonarsource.org/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T12:53:37.867

Eclipse 将其提供为`Markers`. 它将提供您的所有案例，除了`violating custom naming conventions`.

![在此处输入图像描述](../Images/f5ebc84e704d086370fca8ddc87fe626.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-12T13:01:04.670

对于命名约定和导入等小事，我同意其他答案，即 PMD 是一个不错的选择。

[无耻插件] 这可能有点矫枉过正，但是我工作的公司开发了一个名为“Codefacts”的工具，它可以分析来自 git 或 svn 存储库的代码。它运行指标和东西来评估代码质量。它可能适合您的“等”。

我不记得它使用的所有指标，但其中一些是评论/代码比率、文档覆盖率、检查你的很多方法/类是否太长等等。 [Codefacts 可以在这里下载](http://www.avi.com/codefacts/) [/shameless plug]

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-12T12:51:02.993

...另外看看[声纳](http://www.sonarsource.org/)。当我第一次发现它时，它一直很安静。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-12T12:45:48.043

FindBugs 可能是最突出的之一，非常值得一试。

对于命名约定等，我建议你看看 CheckStyle。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-09-12T12:46:51.443

Netbeans 7.2 有一个新的检查功能：从菜单中转到 Source|Inspect。它当然具有您问题中提到的大部分测试。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-09-12T12:56:26.007

我使用三个相互补充的工具的组合：PMD、Checkstyle 和 FindBugs。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-12T12:53:28.290

试试 Checkstyle（我的偏好）或 PMD。

# java - 列表数据设置和顺序问题

> ID：12388437
> 
> 赞同：1
> 
> 时间：2012-09-12T12:43:54.180
> 
> 标签：java, arraylist

我想根据其他列表的键值将数据添加到列表中。这里 auditMap 有键 att_12,att_11 和 oldValues 有键 att_11,att_12 ，我希望 oldValues 的顺序以与 auditMap 相同的方式出现所以我循环。这里的键应该来自auditMap，值来自oldValues。我不知道如何替换？

```
List<FieldProperty> orderedList = new ArrayList<FieldProperty>();
            for (int i = 0; i < auditMap.size(); i++) {
                String auditKey = auditMap.get(i).getKey();
                for (int j = 0; j < oldValues.size(); j++) {
                    String oldAuditKey = oldValues.get(i).getKey();
                    String oldAuditValue = oldValues.get(i).getValue();
                    if (auditKey.equals(oldAuditKey)) {
                                                     orderedList.set(j, ???);
                    }
                }
            } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:49:47.853

您可以在此处使用[LinkedHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html)数据结构。

它保留对象的顺序（因为它们被放入其中）。所以你可以迭代地图然后顺序将是相同的。

# html - 表格中的自动换行不起作用（表格布局：已修复）

> ID：12388438
> 
> 赞同：1
> 
> 时间：2012-09-12T12:43:58.170
> 
> 标签：html, css, word-wrap

```
http://74.52.155.226/~projtest/team/harmeet/reach/ 
```

那是我正在处理的链接。它是响应式设计。如果您在页脚下方看到有一张桌子。当您将分辨率降低到小于 600px 左右时，表格布局会发生变化。我不能做的是在第一行（在小布局中）进行测试以在文本离开表格单元格时进行自动换行。有什么帮助吗？提前致谢。

PS：您可以在页面上搜索“无限支持”一词，您就会知道我在说哪一行。我再说一遍，请减小浏览器大小以查看问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:12:17.317

在萤火虫中我可以看到你在 tbody 元素上有'white-space: nowrap'，当在较窄的布局中时。您可以删除它，或将其设置为另一个值，即“正常”

```
#rt1 tbody {
    display: block;
    overflow-x: auto;
    position: relative;
    table-layout: fixed;
    white-space: nowrap;
    width: 273px;
} 
```

# java - Java API 通过 https 协议连接到 SVN 服务器

> ID：12388445
> 
> 赞同：3
> 
> 时间：2012-09-12T12:44:17.933
> 
> 标签：java, api, svn, repository

我想实现一个连接到 SVN 存储库服务器（例如`https://myrepository`）并获取其中的所有文件和文件夹的 java 程序。你知道任何java api可以帮助我实现这个目标吗？

以及如何实现身份验证？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:51:48.087

我过去使用过 svnkit：[http ://svnkit.com/](http://svnkit.com/)

# javascript - 一次循环遍历 JSON 数据

> ID：12388447
> 
> 赞同：0
> 
> 时间：2012-09-12T12:44:19.700
> 
> 标签：javascript, jquery, json

我有以下测试应用程序： http: [//dev.driz.co.uk/quiztest/](http://dev.driz.co.uk/quiztest/)

这个想法是，一系列网页将每个都有一个 div，其中包含测验页面的部分编号，例如 1，然后从该部分的 JSON 文件中提取问题。

这部分工作得益于 SO 社区的帮助，因此为了清楚起见，我创建了一个新问题来处理这些独立的问题。

我遇到的问题是我只希望第一个问题出现在页面加载部分，然后当用户单击 A 或 B 按钮时，它需要加载下一个问题，所以显示问题 2，然后然后3等等...

**每次只有一个问题会在`#questions`ul 中供用户回答。**

一旦显示了某个部分的所有问题，我就需要对完成的函数进行回调，以便我可以做一些额外的逻辑。

我如何最好地做到这一点？我想我需要先计算该部分中的问题数量，然后进行增量以找到结尾。任何人都可以帮忙吗？

**编辑：我打算做类似的事情：`Question 3 / 10`所以得到这个数字似乎很重要。但我对在第一个等之后得到下一个问题感到困惑，依此类推，直到本节结束......**

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:10:27.853

我嘲笑那个网站是什么。我不知道这是否正是您正在寻找的。也许有更多的解释，我可以更接近。[小提琴](http://jsfiddle.net/WEYHz/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:58:40.363

假设您有一个包含您的问题的数组。每个问题都是一个对象，有一个`question`键和一个`answers`键。将`question`始终是一个包含问题文本的字符串。这`answers`将是一个数组，其中包含 0 个或多个任何类型的元素，表示问题的可选答案。

```
var questions = [
    {question : 'What is 2 + 2?', answers : [4, 5, 6]}, 
    {question : 'What is 6 * 4?', answers : [20, 24, 28]}
]; 
```

现在让我们编写一个函数来显示一个问题。我们将使用一个全局变量来存储要显示的问题的索引（初始化为 0 以显示第一个问题）：

```
var currentQuestion = 0;

function displayQuestion() {
    if(currentQuestion < questions.length) { // if there's still questions to display
        var question = questions[currentQuestion]; // get the question to display
        var questionHtml = ...; // generate the HTML for the question here
        $('#questions').html(questionHtml);
        currentQuestion += 1; // increase tracking index
    }
    else {
        finished();
    }
} 
```

然后您需要做的就是将`click`事件处理程序绑定到您的按钮以调用该`displayQuestion()`函数。

# xml - 使用 xslt 将 xml 转换为 csv

> ID：12388448
> 
> 赞同：1
> 
> 时间：2012-09-12T12:44:21.197
> 
> 标签：xml, xslt, xpath

以下代码将 xml 更改为 csv。

当它应用于下面的示例数据时，

```
 <Addy>
<Row>
<L>1</L>
<LD>Dwelling</LD>
<Th>Passage</Th>
</Row>
</ADDY> 
```

它以这种格式生成一个 csv 文件，包括列名

```
 L,LD,Th
 1,Dwelling,Passage 
```

这个想法是取消列名并在最后一个值的末尾添加一个逗号（，），这样预期的结果是

```
1,Dwelling,passage, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:52:52.243

如果每个元素的顺序相同，`Row`那么您不需要任何复杂的 Muenchian 分组、模板模式等。只需一个非常简单的样式表就足够了：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
     version="1.0">
  <xsl:strip-space elements="*"/>
  <xsl:output method="text"/>

  <xsl:template match="Row">
    <xsl:apply-templates select="*" />
    <xsl:text>&#10;</xsl:text>
  </xsl:template>

  <xsl:template match="Row/*">
    <xsl:value-of select="." />
    <xsl:text>,</xsl:text>
  </xsl:template>
</xsl:stylesheet> 
```

在以下输入上运行：

```
<Addy>
  <Row>
    <L>1</L>
    <LD>Dwelling</LD>
    <Th>Passage</Th>
  </Row>
  <Row>
    <L>2</L>
    <LD>Foo</LD>
    <Th>Bar</Th>
  </Row>
</Addy> 
```

产生您所追求的输出，包括最后一列值之后的尾随逗号：

```
1,Dwelling,Passage,
2,Foo,Bar, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:46:37.607

消除

```
<xsl:for-each select="*/*/*[generate-id() = generate-id(key('field',name())[1])]">
    <xsl:value-of select="name()" />
    <xsl:if test="position() != last()">,</xsl:if>
</xsl:for-each>
<xsl:text>&#10;</xsl:text> 
```

从`template`for`/`并添加逗号：

```
<xsl:text>,&#10;</xsl:text> 
```

在`template`for `*`in`row`模式下。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:53:27.413

**只需修改模板匹配`/`，现在它应该是：**

```
 <xsl:template match="/">
    <xsl:apply-templates select="*/*" mode="row"/>
   </xsl:template> 
```

如果你真的想在每行的末尾添加一个逗号，那么替换第一次出现的：

```
<xsl:if test="position() != last()">,</xsl:if> 
```

和：

```
<xsl:text>&#10;</xsl:text> 
```

**当仅执行这些最小修改时，提供的代码变为：**

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  version="1.0">

   <xsl:key name="field" match="/*/*/*" use="name()" />
   <xsl:output method="text"/>

   <xsl:template match="/">
    <xsl:apply-templates select="*/*" mode="row"/>
   </xsl:template>

    <xsl:template match="*" mode="row">
    <xsl:variable name="row" select="*" />
    <xsl:for-each select="/*/*/*[generate-id() = generate-id(key('field',name())[1])]">
        <xsl:variable name="name" select="name()" />
        <xsl:apply-templates select="$row[name()=$name]" mode="data" />
        <xsl:text>,</xsl:text>
    </xsl:for-each>
    <xsl:text>&#10;</xsl:text>
    </xsl:template>

    <xsl:template match="*" mode="data">
    <xsl:choose>
        <xsl:when test="contains(text(),',')">
            <xsl:text>&quot;</xsl:text>
            <xsl:call-template name="doublequotes">
                <xsl:with-param name="text" select="text()" />
            </xsl:call-template>
            <xsl:text>&quot;</xsl:text>
        </xsl:when>
        <xsl:otherwise>
            <xsl:value-of select="." />
        </xsl:otherwise>
    </xsl:choose>
    <xsl:if test="position() != last()">,</xsl:if>
    </xsl:template>

    <xsl:template name="doublequotes">
    <xsl:param name="text" />
    <xsl:choose>
        <xsl:when test="contains($text,'&quot;')">
            <xsl:value-of select="concat(substring-before($text,'&quot;'),'&quot;&quot;')" />
            <xsl:call-template name="doublequotes">
                <xsl:with-param name="text" select="substring-after($text,'&quot;')" />
            </xsl:call-template>
        </xsl:when>
        <xsl:otherwise>
            <xsl:value-of select="$text" />
        </xsl:otherwise>
    </xsl:choose>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于以下 XML 文档时（注意两个`Row`元素中子元素的不同顺序）**：

```
<Addy>
  <Row>
    <L>1</L>
    <LD>Dwelling</LD>
    <Th>Passage</Th>
  </Row>
  <Row>
    <Th>Bar</Th>
    <LD>Foo</LD>
    <L>2</L>
  </Row>
</Addy> 
```

**产生了想要的正确结果**：

```
1,Dwelling,Passage,
2,Foo,Bar, 
```

# c# - 在 GridView 之间拖放

> ID：12388450
> 
> 赞同：0
> 
> 时间：2012-09-12T12:44:25.533
> 
> 标签：c#, drag-and-drop, windows-8, microsoft-metro

我的页面中有两个`GridView`s，其中包含多个项目。一种用于**现有项目**，一种用于**用户购物车**。用户应该拖放一个项目以将其添加到他的购买列表中。

如何启用两个或多个`GridView`s 之间的拖放？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:31:11.340

[这](http://blogs.msdn.com/b/going_metro/archive/2012/07/16/drag-and-drop-within-a-grouped-grid-view.aspx)是一个如何在一个分组网格中的不同组之间拖放的示例。

# .net - 如何在使用 LINQ to 对象的转换和选择之间进行选择？

> ID：12388454
> 
> 赞同：2
> 
> 时间：2012-09-12T12:44:39.773
> 
> 标签：.net, type-conversion, linq-to-objects

LINQ to objects 是我最好的朋友。我经常使用 ConvertAll 扩展方法来实现转换。

但是我意识到我可以通过使用 Select 扩展方法来实现相同的目的。

例如，我有一个显示警报对象列表的 ListView。我将对象本身存储在 ListView 元素的 Tag 属性中。然后我以这种方式检索选择：

*带有 ConvertAll 的版本：*

```
public Alarm[] SelectedTags
{
    get
    {
        return AlarmListView
               .SelectedItems
               .OfType<ListViewItem>()
               .ToList().ConvertAll(i => i.Tag as Alarm)
               .ToArray();
    }
} 
```

*带选择的版本：*

```
public Alarm[] SelectedTags
{
    get
    {
        return AlarmListView
               .SelectedItems
               .OfType<ListViewItem>()
               .Select(i => i.Tag as Alarm)
               .ToArray();
    }
} 
```

我个人更喜欢`Select`，因为我可以轻松转换我的收藏，而无需将它们放入 a`List`和使用`ConvertAll`. 无论如何，两者当然都有充分的理由存在。

**这个比那个好吗 ？**在哪些情况下？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:48:27.777

`ConvertAll`自 .Net 2.0 以来一直存在，而 LINQ 较新。`Select`显得更笼统，而且显得`ConvertAll`多余。

我想不出您需要`ConvertAll`在新代码中使用的任何情况。`Select`更广为人知，更通用，并且可以与 LINQ 的其他功能一起使用（例如直接转换为 LINQ to SQL 中的 SQL 查询）。

# functional-programming - Erlang if else 语句

> ID：12388456
> 
> 赞同：0
> 
> 时间：2012-09-12T12:44:49.327
> 
> 标签：functional-programming, erlang, if-statement

我试图做一个方法来检查两个原子的值，如果它们彼此等价，它会说它是假的，反之，如果它们不等价，它就会是真的。

我的代码如下所示：

```
b_not(X, Y) ->
if
    X=:=Y ->
        false;
else
        true;
end. 
```

这里我的方法的名称是“b_not”，它代表 boolean_not。如果 X 完全等于 Y，我会检查 if 语句，它会说假。好吧，我可以单独做那部分。但是当我尝试做出 else 语句时，我的问题就出现了。我似乎没有得到这部分，我试图在互联网上搜索，但我似乎没有得到它。所以如果你能告诉我 if-else-statement 在 Erlang 中是如何工作的，我会很高兴的！

谢谢阿列克谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T13:06:15.453

我对 Erlang 比较陌生，但是该语言并不是按照您描述的方式设计的。有一个**if**构造，但我不相信它经常使用。

相反，您所描述的可以使用模式匹配来实现：

```
b_not(_X, _X) -> false;
b_not(_, _) -> true. 
```

下划线模式匹配表示通配符；前面带有下划线的模式匹配意味着您不打算在函数中使用该值，但您确实关心匹配本身。

所以第一个模式匹配意味着“我不打算将 _X 用于任何事情，但两个值必须相同。”

第二个模式匹配意味着“这些是一次性值，可以是任何值”。

许多函数是用多个参数模式定义的，Erlang 会为您决定哪些模式与调用匹配。

在这种情况下，如果两次传递相同的值，无论是整数、原子、列表还是任何其他类型，都会匹配第一个模式并返回 false。否则，匹配第二个模式。

这只有效，因为模式是按此顺序定义的；如果它们被颠倒过来，任何论点都会导致结果为真。

插图：

```
16> foo:b_not(3, 3).
false
17> foo:b_not(3, 4).
true
19> foo:b_not(3, 3.0).
true
20> foo:b_not(match, match).
false
21> foo:b_not(match, nomatch).
true
22> foo:b_not([1, 2], [1, 2]).
false
23> foo:b_not([1, 2], [1, 2, 3]).
true 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-12T14:29:08.843

运营商就是`=/=`这样做的！

```
b_not(X, Y) -> X =/= Y. 
```

`if`我能理解你对陈述的困惑。您应该真正阅读手册中的[if](http://www.erlang.org/doc/reference_manual/expressions.html#id76465)和[守卫](http://www.erlang.org/doc/reference_manual/expressions.html#id79507)，因为`if` *它不像*许多其他语言那样工作。这是在 Erlang 中实现它的一种方法（但“如果为真，则为真”是一种反模式，所以不要完全这样做）：

```
if
  X =/= Y -> true;
  X =:= Y -> false
end 
```

请注意，当其中一个*守卫*（箭头左侧）计算为`true`原子时，该`if`语句将计算为该箭头后面的表达式。没有`else`子句，但您可以自己发明一个，`true`在箭头前加上：

```
if
  X =/= Y -> true;
  true -> false
end 
```

这不是很直观，尤其是对于来自其他语言背景的人来说，我想这是模式匹配通常比`if`表达式更受欢迎的原因之一。

为了完整起见，请阅读[案例表达式](http://www.erlang.org/doc/reference_manual/expressions.html#id76465)。它用于在函数体内进行模式匹配：

```
case X of
  Y -> false;   % X equals Y
  _ -> true     % Everything else, i.e., X is not Y
end 
```

# qt - 我想扩展 dropEvent() (QListWidget)，我应该完全重新实现它吗？

> ID：12388458
> 
> 赞同：0
> 
> 时间：2012-09-12T12:44:53.253
> 
> 标签：qt, drag-and-drop, implementation, qlistwidget

我有一个 QListWidget，我已经将它设置为接受 drop，模式为 DragDrop 等，我可以在整个地方移动 QListWidgetItems（当然是在 QListWidget 内部）。

我喜欢这种行为，我希望它保持原样，但我也希望我的 QListWidget 也接受来自 QTreeWidget 的丢弃。如果我尝试重新实现 QListWidget 的 dropEvent() ，那么我将失去默认行为。

有什么方法可以扩展当前行为，以便在 listwidget 项目之间拖放和从 treewidget 拖放到 listwidget，或者我必须在我的 dropEvent() 重新实现中完全重写这两种行为？

非常感谢任何答案:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:08:39.943

两种方式：

1.  实现一个独立的[事件过滤器](http://doc.qt.nokia.com/4.7-snapshot/eventsandfilters.html#event-filters)并使其作用于`QEvent::Drop`. [将它安装](http://doc.qt.nokia.com/4.7-snapshot/qobject.html#installEventFilter)在您原来的 QListWidget 上。返回**false**以便`dropEvent()`之后调用原始处理程序。

2.  继承自`QListWidget`，重新实现`dropEvent(evt)`并作为最后一条语句调用`QListWidget::dropEvent(evt);`。您的原始行为将被保留。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:03:09.753

不。

子类`QListWidget`,重新实现

```
virtual void    QListWidget::dropEvent ( QDropEvent * event ) 
```

并明确调用

```
QListWidget::dropEvent(event); 
```

每当您需要默认行为时。

[如何从派生类函数调用父类函数？](https://stackoverflow.com/q/357307/1122645)

# vb.net - 使用 ms 访问表单从 excel 导入数据以进行访问

> ID：12388459
> 
> 赞同：1
> 
> 时间：2012-09-12T12:44:53.833
> 
> 标签：vb.net, excel, ms-access-2010

我有一个包含数据的 excel 文件，我必须使用 ms 访问表单 UI 将数据导入 excel 文件中。我需要创建将输入作为 excel 文件并将记录插入到 MS 访问表中的表单。在将数据插入 MS 访问之前，我需要使用 VB 放置一些逻辑。

请指导我如何实现它，因为我对这项技术很天真。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:49:42.427

使用 MS Access 外部数据向导链接 Excel 文件，然后像链接的表是 MS Access 本地一样继续操作。

您还可以在 VBA 中使用[DoCmd.TransferSpreadsheet 方法](http://msdn.microsoft.com/en-us/library/office/bb214134%28v=office.12%29.aspx)来链接或导入 Excel。

# html - 使用css删除html空格

> ID：12388463
> 
> 赞同：0
> 
> 时间：2012-09-12T12:44:58.370
> 
> 标签：html, css

这是css代码：

```
#div_0, #div_1 {
    width: 100px;
    height: 100px;
    display: inline-block;
}

#div_0 {
    background-color: #090;
}

#div_1 {
    background-color: #900;
} 
```

这是HTML

```
<div id="div_0"></div>
<div id="div_1"></div> 
```

这显示为：http: [//jsfiddle.net/7G63S/](http://jsfiddle.net/7G63S/)

如您所见，这里是 div 标签之间的调料，为了删除这个空间，我可以这样编写 html：

```
 <div id="div_0"></div><div id="div_1"></div> 
```

并解决了问题：http: [//jsfiddle.net/7yE2M/](http://jsfiddle.net/7yE2M/)

但是有趣的是，如果 html 看起来像这样，如何使用 css 删除 div 之间的空间：

```
<div id="div_0"></div>
<div id="div_1"></div> 
```

?

还是让这成为不可能？

PS **white-space: nowrap**在这种情况下没有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T12:47:48.700

在包装容器上将`line-height`and设置为 0 - 请参阅[http://jsfiddle.net/7G63S/1/](http://jsfiddle.net/7G63S/1/)`font-size`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:46:56.983

将`float:left`样式添加到 div`#div_0, #div_`

在这里演示[http://jsfiddle.net/7yE2M/1/](http://jsfiddle.net/7yE2M/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:38:22.470

您是否出于源格式的原因想要空格，或者这是无法修改某些生成的 HTML 的情况？如果您可以修改 html，最好的办法是简单地消除空格，但这并不一定意味着您需要丢失格式。只需注释掉空格：

```
<div id="div_0"></div><!--
--><div id="div_1"></div> 
```

编辑：可以在这里找到更多解决方案[http://css-tricks.com/fighting-the-space-between-inline-block-elements/](http://css-tricks.com/fighting-the-space-between-inline-block-elements/)

# groovy - Groovy 反向映射键

> ID：12388465
> 
> 赞同：5
> 
> 时间：2012-09-12T12:45:03.830
> 
> 标签：groovy, map

我想获取地图的最后 X 个条目。

如果我想获得第一个条目，它可以在 groovy 中相当容易地完成：`map.take(10)`让我获得地图的前 10 个条目。但是如何获得最后 10 个条目？没有`map.reverse()`方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:46:54.750

你可以`drop`这样使用：

```
map.drop( map.size() - 10 ) 
```

删除除最后 10 个元素之外的所有元素

另一种方法是使用`iterator`，它可以反转：

```
map.iterator().reverse().take( 10 ).reverse().collect() 
```

但它更混乱，并且使用更多资源

# android - 将 Uri 转换为非 Uri android

> ID：12388466
> 
> 赞同：0
> 
> 时间：2012-09-12T12:45:06.903
> 
> 标签：android, file, parsing, uri, converter

我有这样的路径：

内容：//媒体/外部/音频/媒体/7181

像这样获得的 `String mSelectedPath = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI + "/";` ，然后我将歌曲 ID 附加到这个。

我想将其转换为 /mnt/sdcard/.. 等路径

我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:52:02.657

你没有。可能没有文件（例如，字节存储在数据库的 BLOB 列中，内容表示流），或者文件位于您的进程无法访问的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:04:39.900

Android 的媒体数据库将文件路径存储在`DATA`列中。你可以通过阅读

```
long id = 7181;
Uri uri = ContentUris.withAppendedId(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, id);

ContentResolver cr = getContentResolver();
String[] projection = { MediaColumns.DATA };
String selection = null;
String[] selectionArgs = null;
String sortOrder = null;
Cursor c = cr.query(uri, projection, selection, selectionArgs, sortOrder);
String path = null;
if (c != null) {
    if (c.moveToFirst()) {
        path = c.getString(0);
    }
    c.close();
}
Log.d("XYZ", "Path of " + id + " is:" + path); 
```

但就像@CommonsWare 所说的那样（尤其是在未来的 android 版本上）可能没有您可以访问的文件，甚至根本没有路径，这意味着您获得的路径可能一文不值。

幸运 的是`ContentProvider`，如果提供者实现了该功能（IIRC 这个功能），您可以使用 IO 流读取数据。`Uri`所以你可以像下面的例子一样读取由它表示的数据。

```
long id = 7181;
Uri uri = ContentUris.withAppendedId(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, id);

ContentResolver cr = getContentResolver();
InputStream is = null;
try {
    is = cr.openInputStream(uri);
    is.read(); // replace with useful code.
} catch (FileNotFoundException e) {
    Log.w("XYZ", e);
} catch (IOException e) {
    Log.w("XYZ", e);
} finally {
    if (is != null)
        try {
            is.close();
        } catch (IOException e) {
            // ignored
        }
} 
```

# c# - 同时在数据库中插入多行c#

> ID：12388468
> 
> 赞同：0
> 
> 时间：2012-09-12T12:45:16.637
> 
> 标签：c#, sql-server, multithreading

我尝试同时在多线程中写入数据库，
但错误发生在 myCommand.Connection.Open();
错误：对象引用未设置为对象的实例。
我怎么解决这个问题 ？

这个例子显示了问题

```
private void button1_Click(object sender, EventArgs e)
    {
        new Thread(() =>
        {
            SqlCommand myCommand = new SqlCommand("insert into table(a,b)values(1,'aaa')", Connection);
            myCommand.Connection.Open();
            myCommand.ExecuteNonQuery();
            myCommand.Connection.Close();
        }).Start();
        new Thread(() =>
        {
            SqlCommand myCommand = new SqlCommand("insert into table(a,b)values(2,'aaa')", Connection);
            myCommand.Connection.Open();
            myCommand.ExecuteNonQuery();
            myCommand.Connection.Close();
        }).Start();
        new Thread(() =>
        {
            SqlCommand myCommand = new SqlCommand("insert into table(a,b)values(3,'aaa')", Connection);
            myCommand.Connection.Open();
            myCommand.ExecuteNonQuery();
            myCommand.Connection.Close();
        }).Start();
        new Thread(() =>
        {
            SqlCommand myCommand = new SqlCommand("insert into table(a,b)values(4,'aaa')", Connection);
            myCommand.Connection.Open();
            myCommand.ExecuteNonQuery();
            myCommand.Connection.Close();
        }).Start();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:47:13.270

您需要一个有效的连接：

```
SqlConnection connection = new SqlConnection(...);
connection.Open();

SqlCommand command = new SqlCommand(...);
command.Connection = connection;
command.ExecuteNonQuery(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:57:21.440

不清楚为什么需要/想要这样做，在 SQL2K8 中，您可以简单地在单个批次中使用表值构造函数来处理 < 1k 行；

`insert into table(a,b)values(1,'aaa'),(2,'aaa'),(3,aaa)`

# php - 我需要帮助才能在同一个 sql 中使用 date_time 函数显示两次

> ID：12388469
> 
> 赞同：1
> 
> 时间：2012-09-12T12:45:16.470
> 
> 标签：php, mysql, sql, datetime

请帮助我使用 date_time() 函数显示日期，如 2012 年 7 月 4 日至 2012 年 7 月 20 日。我该怎么做呢？下面是我认为可能有效的方法，但它没有。

```
$query_rssynod = "SELECT syID, session, year, theme, venue, 
                  DATE_FORMAT(startdate, enddate, '%d %b', '%d %b, %Y.') AS DATE 
                 FROM synod"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:49:30.693

尝试这个，

```
CONCAT(DATE_FORMAT(FROM_UNIXTIME(startdate), '%D %M'), ' - ', DATE_FORMAT(FROM_UNIXTIME(enddate), '%D %M %Y')) 
```

基本上**[DATE_FORMAT( )](http://davidwalsh.name/format-date-mysql-date_format)**接受要格式化的日期和日期的格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:50:51.613

尝试这个：

```
SELECT 
  syID, session, year, theme, venue,
  CONCAT(
    IF(
      YEAR(enddate)=YEAR(startdate),
      DATE_FORMAT(startdate, '%D %M'),
      DATE_FORMAT(startdate, '%D %M, %Y')
    ),
    ' - ',
    DATE_FORMAT(enddate, '%D %M, %Y')
  ) AS `DATE`
FROM synod 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:53:53.140

您应该按所需格式打印日期，如下所示：

```
CONCAT(DATE_FORMAT(startdate, "%d %b"), ' - ', DATE_FORMAT(enddate, "%d %b"), ', ', DATE_FORMAT(startdate, "%Y")); 
```

# php - Facebook 照片标签从 9 月 12 日起失效

> ID：12388476
> 
> 赞同：0
> 
> 时间：2012-09-12T12:45:34.610
> 
> 标签：php, facebook, facebook-graph-api, photo

直到今天，我的 Facebook 照片标签应用程序都运行良好。我使用以下代码在照片中标记朋友。

```
$attachment = array( 
            'message' => $mes,
            'tags'    => 
              array(
                    array(
                          'tag_uid'=> $re[0],
                          'x'      => '30',
                          'y'      => '60',
                          ),
                    array(
                          'tag_uid'=> $re[1],
                          'x'      => '30',
                          'y'      => '50',
                          ), 
                    array(
                          'tag_uid'=> $re[2],
                          'x'      => '30',
                          'y'      => '70',
                          ),
                    array(
                          'tag_uid'=> $re[3],
                          'x'      => '30',
                          'y'      => '10',
                          ), 
                    array(
                          'tag_uid'=> $re[4],
                          'x'      => '10',
                          'y'      => '60',
                          ),
                    array(
                          'tag_uid'=> $re[5],
                          'x'      => '40',
                          'y'      => '60',
                          ),
                    array(
                          'tag_uid'=> $re[6],
                          'x'      => '50',
                          'y'      => '60',
                          ),
                    array(
                          'tag_uid'=> $re[7],
                          'x'      => '60',
                          'y'      => '60',
                          ),
                    array(
                          'tag_uid' => $re[8],
                          'x'       => '80',
                          'y'       => '60',
                          ) 
                  )
          );
$facebook->setFileUploadSupport(true);
$attachment['image'] ='@'.realpath($filename);
$photo = $facebook->api('/'.$aid.'/photos', 'POST', $attachment); 
```

但此代码不再标记朋友。它只是上传照片。facebook 中是否有任何 API 更改或任何替代工作方法来标记朋友。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T02:19:19.290

将帖子和标签分开，API 将正常工作

* * *

```
$attachment = array( 
  'message' => $mes,
);
$facebook->setFileUploadSupport(true);
$attachment['image'] ='@'.realpath($filename);
$photo = $facebook->api('/'.$aid.'/photos', 'POST', $attachment);

//tagging
$tags = array(
  'tag_uid'=> $re[0],
  'x'      => '30',
  'y'      => '60',
);
$response = $facebook->api('/'.$photo['id'].'/tags', 'POST', $tags); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T04:00:04.587

我可以确认这种行为，在 javascript SDK 上遇到了同样的问题，请参阅我的帖子了解详情： [Facebook javascript photo upload+tagging API changed last night (2012 Sept.12th)?](https://stackoverflow.com/questions/12387764/facebook-javascript-photo-uploadtagging-api-changed-last-night-2012-sept-12th) 正如 shiba_tsubasa 提到的那样，两步上传+标记仍然有效，这对于 php sdk 应该没问题（在 javascript sdk 上不太好，例如用户在第一步后立即关闭浏览器）

# linux-kernel - 以非 root 用户身份写入 /dev/port

> ID：12388477
> 
> 赞同：3
> 
> 时间：2012-09-12T12:45:37.967
> 
> 标签：linux-kernel, parallel-port

我正在编写一个相当复杂的 C++ 代码，它以标准用户身份执行以下操作

```
fd = open("/dev/port",O_WRONLY);
...
lseek(fd, 0x2E,SEEK_SET);
...
write(fd,&buf,1); 
```

尽管已对文件进行了 chmod，但在打开文件时出现“不允许操作”错误。

```
crwxrwxrwx 1 root kmem 1, 4 Sep 12 14:32 /dev/port 
```

我知道 chmodding /dev/port 的安全问题，但就我们而言，系统将在封闭的 LAN 上运行。

* * *

为了使它更容易，这：

```
using namespace std;
int main(int argc, char *argv[])
{
  int fd=-1;

  //  fd1=open("/dev/port",O_RDWR|O_NDELAY);
  vector<string> fnames;
  fnames.push_back("/dev/port");
  fnames.push_back("/dev/tty0");

  string fname;

  for(int i=0;i<fnames.size();i++)
    {
      fname = fnames[i];
      fd=open(fname.c_str(),O_RDWR | O_NDELAY);
      if(fd<0)
    {
      cout << fname << " "  << fd << endl;
      cout << fname << " "  << strerror(errno) << endl;
    }
      else
    {
      cout << "Open ok: " << fname << endl;
    }
    }

  return 0;
} 
```

返回这个：

```
me@myPC:~/test$ ./main 
/dev/port -1
/dev/port Operation not permitted
Open ok: /dev/tty0 
```

拥有这些权限

```
me@myPC:~/test$ ll /dev/tty /dev/port 
crw-rw-rw- 1 root kmem 1, 4 Sep 12 14:32 /dev/port
crw-rw-rw- 1 root tty  5, 0 Sep 12 15:51 /dev/tty 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:54:38.023

要打开，除了打开文件的权限外，`/dev/port`您还需要能力。`CAP_SYS_RAWIO`

```
drivers/char/mem.c:730

static int open_port(struct inode * inode, struct file * filp)
{
    return capable(CAP_SYS_RAWIO) ? 0 : -EPERM;
} 
```

您可以通过成为 root 或使用`setcap`.

[http://linux.die.net/man/8/setcap](http://linux.die.net/man/8/setcap)

# makefile - Make 在多个项目中安装依赖 Makefile

> ID：12388479
> 
> 赞同：0
> 
> 时间：2012-09-12T12:45:40.183
> 
> 标签：makefile, gnu-make

我`Makefile`有多个子项目并设置其构建依赖项。

现在我希望能够有选择地选择`make install`其中一些子项目，但在安装中包含依赖项。我怎样才能做到这一点？

假设`Makefile`像这样：

```
lib1:

lib2:

proj1: lib1

proj2: lib2

proj3: lib1 lib2

install_%:  $*
    make -C $* install

install:    $(addprefix install_,$(SUBDIRS) ) 
```

而且我希望能够从命令行执行以下操作：

```
make install SUBDIRS=proj1 
```

或者

```
make install SUBDIRS=proj3 
```

我的规则将尝试构建和安装“proj3”，但是：

*   如果未构建任何库，将失败。
*   即使它找到了所需的库，这些库也不会随程序一起安装。

欢迎任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:57:41.427

在依赖项目的makefile中，包含依赖的makefile并编写规则来表达依赖：

proj3/Makefile：

```
include ../lib1/Makefile
include ../lib2/Makefile

proj3: lib1 lib2
    $(CC) ....

install: proj3 install_lib1 install_lib2
    cp ... 
```

lib1/生成文件：

```
lib1: # ....
    $(CC) ....

install_lib1: # ....
    cp ... 
```

# yii - Yii 框架中 parent::beforeSave 的目的是什么？

> ID：12388483
> 
> 赞同：3
> 
> 时间：2012-09-12T12:45:47.250
> 
> 标签：yii

```
protected  function  beforeSave()
{
    if ( parent :: beforeSave())
    {
        if ( $this -> isNewRecord )
             $this -> create_time =time () ;
        return true ;
    }
    else
        return false;
} 
```

这是来自 Yii 框架内演示博客的代码，我不知道 parent :: beforeSave() 的用途，为什么要使用它？我是 PHP 新手，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:06:37.877

`beforeSave()`[是通常触发](https://github.com/yiisoft/yii/blob/1.1.12/framework/db/ar/CActiveRecord.php#L893)[事件](http://www.yiiframework.com/wiki/44/behaviors-events/)的内部**CActiveRecord**函数。如果要触发此事件，则应在子类记录中调用覆盖的函数。或者手动进行。 `onBeforeSave` `parent::beforeSave()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T07:55:57.087

`beforeSave()`非常有用。您可以通过检查在添加或更新记录上分配具有不同值的变量`isNewRecord`。这是分配一些变量（如 create_time）、生成 uuid 的常见地方。您可以在任何地方执行此操作，但如果它们在共同的地方会更好。

此外，您应该将其视为 Yii 证明的更好的编程方式。

# actionscript-3 - 如何使用 ActionScript 3 模拟 android 的点击事件

> ID：12388487
> 
> 赞同：1
> 
> 时间：2012-09-12T12:45:52.100
> 
> 标签：actionscript-3

我有一个叫做狙击镜的物体和一个开火按钮。

当我将狙击范围的十字准线指向目标并按下开火按钮时，我希望它模拟 mouseevent.click 或 touchevent.TAP 以播放目标对象的影片剪辑。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:13:58.027

您可以使用此示例，我在 accDoDefaultAction 方法中的按钮的可访问性实现中使用它，它适用于您，您可能希望只使用单击事件（在我的情况下，我必须使用 all 来正确更新按钮与状态），并提供一些细节，如mouseX。在我的情况下，主人是按钮。

```
//this is to update buttons state (BaseButton children)
//we need to simulate user interaction in order to have button working
var e:MouseEvent = new MouseEvent(MouseEvent.MOUSE_OVER);
master.dispatchEvent(e);
e = new MouseEvent(MouseEvent.MOUSE_DOWN);
master.dispatchEvent(e);
e = new MouseEvent(MouseEvent.MOUSE_UP);
master.dispatchEvent(e);
e = new MouseEvent(MouseEvent.MOUSE_OUT);
master.dispatchEvent(e);
//this is to trigger actions associated with button (BaseButton children)
e = new MouseEvent(MouseEvent.CLICK);
master.dispatchEvent(e); 
```

但是，在第二次阅读您的查询后，我认为您的问题可能是狙击手范围正在劫持事件，如果是这种情况，请尝试：

```
myCrosshairInstance.mouseEnabled = false;
myCrosshairInstance.mouseChildren = false; 
```

此致

# delphi - 如何测试我的 WideReplace 功能？

> ID：12388492
> 
> 赞同：0
> 
> 时间：2012-09-12T12:46:07.940
> 
> 标签：delphi, function, unicode, character, widestring

操作系统：匈牙利语 Windows (Windows 1250)

在 Delphi 6 Prof 下没有`WideStringPos, WideStringCopy, WideStringReplace`...

但是在基于 XML 的项目中，我需要使用它们。

因为我试图编写“类似”这些函数。

但我不确定他们是否按照我的意愿工作......

因为 Delphi 将 Wide 转换为 Ansi 并在后台反转，所以我不能确定我的代码是否安全不受这些副作用的影响...... :-)

代码非常原始 - 我需要快速解决方案......

```
 function WideStringCopy(WWhat : WideString; From, HowMany : integer) : WideString;
 var
     i : integer;
     l : integer;
     wc : WideChar;
 begin
     Result := '';

     if WWhat = ''
         then Exit;

     if (HowMany <= 0)
         then Exit;

     if  (From < 1)
         then From := 1;

     l := From + HowMany - 1;
     if l > Length(WWhat)
         then l := Length(WWhat);

     for i := From to l do begin
         wc := WWhat[i];
         Result := Result + wc;
     end;
 end;

 function WideStringPos(WWhere, WWhat : WideString) : integer;
 var
     wscomp : WideString;
     i : integer;
 begin
     Result := 0;
     for i := 1 to Length(WWhere) do begin
         wscomp := WideStringCopy(WWhere, i, LengtH(WWhat));
         if WideSameStr(wscomp, WWhat)
             then begin
                 Result := i;
                 Exit;
             end;
     end;
 end;

 function WideStringReplace(WWhere, WFrom, WTo : WideString) : WideString;
 var
     actpos : integer;
     wcomp : WideString;
     wc : WideChar;
 begin
     Result := '';
     actpos := 1;
     while actpos <= Length(WWhere) do begin
         wcomp := WideStringCopy(WWhere, actpos, Length(WFrom));
         if WideSameStr(wcomp, WFrom) then begin

             Result := Result + WTo;
             inc(actpos, Length(WFrom));

         end else begin

             wc := WWhere[actpos];
             Result := Result + wc;
             inc(actpos);

         end;
     end;
 end; 
```

我有两个问题：

1.  您是否看到任何肯定会产生不良结果的代码（默默地将 Wide 转换为 Ansi，并导致字符丢失）？

2.  你知道我可以测试这段代码的一些角色吗？

例如， chr(XXX) 当我的转换器保持宽规则时剩余的内容，但如果我编写错误的代码就会丢失......

感谢您将写的每一个信息...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:57:26.630

> 你知道我可以测试这段代码的一些角色吗？

Win1250 以外的任何代码页 - 例如西里尔文 Win1251、希腊语、希伯来语 - 几乎所有 1250/1252 中的字母都会丢失

您可以使用 Jedi CodeLibrary 并使用其语言环境转换例程：使用上述的某种编码制作一个由 #128 到 #255 组成的字符串，将其从该代码页转换为 Unicode，然后从 Unicode 转换回匈牙利代码页。

函数 StringToWideStringEx(const S: AnsiString; CodePage: Word): WideString; 函数 WideStringToStringEx(const WS: WideString; CodePage: Word): AnsiString;

或一通电话

函数 TranslateString(const S: AnsiString; CP1, CP2: Word): AnsiString;

然后看看哪些字符翻译失败变成了ReplacementCharacter。

* * *

但是，在 JCL 中，您将拥有 Pos 功能，并且可以随时使用。和 XML 解析器。那何必呢？

# maven - 从 Spring Roo 项目中提取域类

> ID：12388493
> 
> 赞同：3
> 
> 时间：2012-09-12T12:46:12.867
> 
> 标签：maven, spring-roo, spring-batch, domain-model, multi-module

我们需要能够**从 Spring Roo 项目**中提取域类（即实体），以便**将它们重用于 Spring Batch 项目**。

这可能吗？

记住我们依赖 Maven 作为我们的构建和依赖管理工具，并且我们的 Roo 项目已经创建，我们可以**切换到多模块架构**吗？

如果有怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T20:18:21.220

我认为没有 roo 命令可以将单个模块 maven 项目转换为多模块项目。

一种选择是使用 roo 在您当前的项目中创建一个单独的持久性模块并手动迁移您的实体和配置。

# java - 如何使用 Java/Tomcat 在 Azure 上设置 SSL

> ID：12388495
> 
> 赞同：0
> 
> 时间：2012-09-12T12:46:15.093
> 
> 标签：java, tomcat, ssl, azure

我们正在使用工作角色来托管 Java 应用程序，这些应用程序本质上是一个 azure 包中的 Tompact 和应用程序代码。

我们希望能够设置 SSL，而不必以类似于 .Net 端的方式将证书烘焙到应用程序包中，您可以在其中引用证书存储中的证书。

如何做到这一点？

我已经阅读了这篇博[文 http://blogs.msdn.com/b/avkashchauhan/archive/2010/11/07/adding-ssl-https-security-with-tomcat-java-solution-in-windows-azure。 aspx](http://blogs.msdn.com/b/avkashchauhan/archive/2010/11/07/adding-ssl-https-security-with-tomcat-java-solution-in-windows-azure.aspx)说明我们需要从证书创建一个 keystore.bin 文件并将其包含在包中。

问题是，当将代码推出到具有不同证书等的多个环境时，我不想将证书烘焙到包中以便于管理，而且从管理角度来看，证书到期等也是如此。

谢谢阿米特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T18:26:59.753

关键是您希望如何将证书带到 Azure VM 中以供 Tomcat 配置和使用。另一个关键问题是 Tomcat/Java 不使用标准的 Windows CertStore 作为证书，而是使用密钥库（Java 运行时的扩展部分），所以如果您没有在 Windows Azure 包中使用密钥库配置，那么您需要在运行期间创建Windows Azure 虚拟机配置。

虽然其他人可能有不同的想法，但我可以提出以下解决方案：

1.  此时您需要完成 Tomcat 安装，您可以使用 Azure 包打包 Tomcat，或者您需要通过启动任务下载并安装 Tomcat
2.  将证书文件放在 Windows Azure 存储（或 Internet 上的其他位置）上
3.  创建启动任务以从 Windows Azure 存储或您的下载位置下载证书
4.  将证书下载到本地计算机后，在启动任务中的 Azure VM 中运行相同的命令来构建密钥库，并确保在您的 tomcat 将要查看它的位置创建密钥库。
5.  这样，当 Tomcat 启动时，它就知道在哪里寻找密钥库并正确配置端点。

还有另一种方法是将整个 Tomcat 设置与密钥库等放在 Windows Azure 存储中，并通过启动任务下载并在 Azure VM 中进行设置。[我已经在我的博客](http://blogs.msdn.com/b/avkashchauhan/archive/2011/08/17/full-startup-task-based-tomcat-java-worker-role-application-for-windows-azure.aspx)中描述了这个过程以及示例源。

在上述两种方式中，只要您想更改 Tomcat/证书，只需在下载位置更新包，然后重新映像/重新启动 Azure VM，您将使用新代码更新 VM，而您真的不需要重新创建 Windows Azure 包。

# jquery - 如何在knockoutjs jQuery模板中使用数组内的数组

> ID：12388496
> 
> 赞同：1
> 
> 时间：2012-09-12T12:46:24.597
> 
> 标签：jquery, templates, knockout.js

我无法使用下面的 knockoutjs jquery 模板读取另一个数组中的数组是代码行。请帮忙。

```
<script type="text/javascript">
ko.applyBindings({
    lines: [
        { line: 'Anshul', links: [{link:'Add'},{link:'Remove'}] },
        { line: 'ABC', links: [{link:'Add'},{link:'Cancel'}]},
        { line: 'XYZ', links: [{link:'Add'},{link:'Remove'},{link:'Cancel'}] }
    ]
}); 
```

```
<table>
<tbody data-bind="template: { name: 'personTemplate'}" ></tbody>
</table>

<script type="text/x-jquery-tmpl" id="personTemplate">
{{each lines}}
<tr><td>${line}</td> 
```

现在在这里我想显示链接列表的每一行。但我这样做时遇到了问题

谢谢，安舒尔·凯斯塔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T15:54:26.577

这是使用本机淘汰赛模板引擎的快速 jsfiddle：

[http://jsfiddle.net/2ywc6/](http://jsfiddle.net/2ywc6/)

注意这里唯一的区别是实际的模板代码，JS视图模型是一样的。

# jquery - 用于无序列表的 Jquery 扩展器插件

> ID：12388499
> 
> 赞同：0
> 
> 时间：2012-09-12T12:46:34.640
> 
> 标签：jquery, jquery-plugins, html-lists

我有由许多 li 组成的无序列表。我想将 li 计数停止在 5 并显示更多链接，这将扩大剩余的 li。

```
<ul>
   <li>1</li>
   <li>2</li>
   <li>3</li>
   <li>4</li>
   <li>5</li>
   <li>6</li>
   <li>7</li>
</ul> 
```

这个的输出必须像

```
1
2
3
4
5
..more 
```

因此，当我单击更多时，它应该向我显示剩余的列表项。

任何建议。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T12:56:05.197

**HTML**

```
<ul id="datalist">
    <li>dataset1</li>
    <li>dataset2</li>
    <li>dataset3</li>
    <li>dataset4</li>
    <li>dataset5</li>
    <li>dataset6</li>
    <li>dataset7</li>
    <li>dataset8</li>
    <li>dataset9</li>
    <li>dataset10</li>
<ul> 
```

**CSS**

```
ul li:nth-child(n+6) {
    display:none;
}

ul li {
    border: 1px solid #aaa;   
}

span {
    cursor: pointer;
    color: #f00;                
} 
```

**JS**

```
$(function() {
    $('#datalist').append('<span>readmore</span>');
    $('span').click(function() {
        $('#datalist li:hidden').slice(0, 5).show();
        if ($('#datalist li').length == $('#datalist li:visible').length) {
            $('span ').hide();
        }
    });
}); 
```

* * *

## [演示](http://jsfiddle.net/MjPDC/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T13:07:49.223

```
if ($('ul li').length > 5 ) {
    $('ul')
    .after('<a class="more">..more</a>')       
    .find('li:gt(4)').hide();    
}

$('.more').click(function() {
    $(this)
        .hide()
        .prev()
        .find('li:hidden')
        .show();
}); 
```

见[http://jsfiddle.net/FPtfg/](http://jsfiddle.net/FPtfg/)

​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T12:51:23.547

试试喜欢

```
$("li").each(function(){
    if($(this).text()>5)
        $(this).hide(); 
```

}); 并在您的页面中添加“更多”，例如

```
<a href="">More</a>
$('a').click(function(e){
      e.preventDefault();
      $('li').show()
}) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T12:59:26.697

```
$(document).ready(function() {
  if ($('li').length>5){
    $('li:gt(4)').hide();

    $('#showMore').show().one('click',function(){
        $(this).hide();
        $('li:gt(4)').show();
    });
  }
}); 
```

[​http://jsfiddle.net/EWSJq/](http://jsfiddle.net/EWSJq/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-12T13:01:36.533

您可以尝试代码示例

```
<ul id="all-container">
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
<li>5</li>    
</ul>
<a href="#" id="btn-show-more">show more</a>

<ul id="more-items-container" style="display:none">   
<li class="more-item">6</li>
<li class="more-item">7</li>
</ul>

<script type="text/javascript">

$(document).ready(function(){

$('#btn-show-more').click(function(){

var moreItems=$('#more-items-container .more-item');
$('#all-container').append(moreItems).slideDown();

});

}); 
```

# android - 如何在自定义列表视图中显示 XML 数据..？

> ID：12388502
> 
> 赞同：0
> 
> 时间：2012-09-12T12:46:38.183
> 
> 标签：android

我试图在自定义列表视图中显示解析的 xml 数据，但屏幕似乎是空的。我正在尝试在类对象中添加 xml 数据并将其显示在自定义列表视图中。但是我的类变量没有得到赋值

列出 myNews = new ArrayList();

```
 try{
        URL url = new URL("http://timesofindia.feedsportal.com/c/33039/f/533916/index.rss");

        XmlPullParserFactory factory = XmlPullParserFactory.newInstance();
        factory.setNamespaceAware(false);
        XmlPullParser xpp = factory.newPullParser();

         xpp.setInput(getInputStream(url), "UTF_8"); 

         boolean insideItem = false;

         int eventType = xpp.getEventType();

         while(eventType != XmlPullParser.END_DOCUMENT){

             if(eventType == XmlPullParser.START_TAG){

                 if(xpp.getName().equalsIgnoreCase("item")){
                     insideItem = true;
                 }
                 else if(xpp.getName().equalsIgnoreCase("title")){
                     if(insideItem){
                         headLines = xpp.nextText().toString();
                     }
                 }
                 else if(xpp.getName().equalsIgnoreCase("link")){
                     if(insideItem){
                         links.add(xpp.nextText());

                     }
                 }
                 else if(xpp.getName().equalsIgnoreCase("pubDate")){
                     if(insideItem){
                         date = xpp.nextText().toString();

                     }
                 }

             }
             else if(eventType == XmlPullParser.END_TAG && xpp.getName().equalsIgnoreCase("item")){
                 insideItem = false;
             }

             myNews.add(new News(headLines, date));
             eventType = xpp.next();
         }
    }
    catch (Exception e) {
        Log.d("Exception" , e.toString());
    }

    LazyAdapter adapter = new LazyAdapter(this, myNews);
   setListAdapter(adapter);
    ListView listView = getListView();
    listView.setTextFilterEnabled(true); 
```

这是我的 LazyAdapter 代码...

公共类 LazyAdapter 扩展 BaseAdapter {

```
 Activity activity;
 private List<News> myNews;

public LazyAdapter(Activity a, List<News> myNews) {
    this.activity = a;
    this.myNews = myNews;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    News news = myNews.get(position);
    View v = convertView;

    if(v == null){
        LayoutInflater inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        v = inflater.inflate(R.layout.list, null);
    }

    TextView heading = (TextView)v.findViewById(R.id.textView1);
    heading.setText(news.getTitle());
    TextView pubDate = (TextView)v.findViewById(R.id.textView2);
    pubDate.setText(news.getPubDate());
    heading.setText(news.getTitle());
    pubDate.setText(news.getPubDate());

    return v;
}

@Override
public int getCount() {

    return myNews.size();
}

@Override
public Object getItem(int position) {

    return myNews.get(position);
}

@Override
public long getItemId(int position) {

    return position;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:55:01.157

首先，我建议使用[Spring Framework for Android](http://www.springsource.org/spring-android)来处理您的 http 请求**并**解析您的 XML。该框架以非常干净的方式处理 XML 和 JSON 解析。

另外，你能发布你的`LazyAdapter`代码吗？

# android - Android 蓝牙打印在 4.1 上停止工作

> ID：12388503
> 
> 赞同：1
> 
> 时间：2012-09-12T12:46:42.100
> 
> 标签：android, bluetooth

我们有一个将图像打印到蓝牙打印机的应用程序。此应用程序在 Android 4.0 ICS 上运行良好，但当我们将其中一个升级到 Android 4.1 果冻豆时，在 logcat 中打印停止工作：

> W/System.err(19319): java.lang.SecurityException: Permission Denial: 从 pid=19319, uid=10106 写入 com.android.bluetooth.opp.BluetoothOppProvider uri content://com.android.bluetooth.opp/btopp需要 android.permission.ACCESS_BLUETOOTH_SHARE 或 grantUriPermission()

问题是我们声明了这个权限，所以这个错误对我们来说毫无意义。这是我们清单中的行

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.turner.itstrategy.LumenboxClient"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="11" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.ACCESS_BLUETOOTH_SHARE"/>
    <uses-permission android:name="android.permission.BLUETOOTH"/>
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission android:name="android.permission.VIBRATE" />

     (stuff removed)
</manifest> 
```

这是我们用来打印的代码。此代码取自 stackoverflow 和其他地方的示例。

```
ContentValues values = new ContentValues();

String path = Environment.getExternalStorageDirectory().toString();
File imageFile = new File(path, "CurrentLumenboxPrint.jpg");

//build the message to send on BT
values.put(BluetoothShare.URI, Uri.fromFile(imageFile).toString());
values.put(BluetoothShare.MIMETYPE, "image/jpeg");
values.put(BluetoothShare.DESTINATION, device.getAddress());
values.put(BluetoothShare.DIRECTION, BluetoothShare.DIRECTION_OUTBOUND);
Long ts = System.currentTimeMillis();
values.put(BluetoothShare.TIMESTAMP, ts);

// Here is where the exception happens      
final Uri contentUri = getApplicationContext().getContentResolver().insert(BluetoothShare.CONTENT_URI, values); 
```

现在我们已经死在水中了..任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-16T12:43:03.043

发现这将不再适用于 4.1。直接写入内容提供者的权限现在受到“签名”的保护，这意味着您必须使用用于签署蓝牙应用程序的相同密钥来签署您的应用程序。

所以这就是我们最终如何做到的。首先使用分享意图将其直接发送到应用程序：

```
Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);
sharingIntent.setType("image/jpeg");
sharingIntent.setComponent(new ComponentName("com.android.bluetooth", "com.android.bluetooth.opp.BluetoothOppLauncherActivity"));
sharingIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(imageFile));
startActivity(sharingIntent); 
```

这有效，但它会弹出“选择设备”用户界面。如果您不想这样做，则必须处理意图`android.bluetooth.devicepicker.action.LAUNCH`并使用广播消息进行响应`android.bluetooth.devicepicker.action.DEVICE_SELECTED`。但是用户仍然可以获得选择器弹出窗口。

**更新**：我写了[一篇博客文章](http://innodroid.com/blog/post/how-to-print-via-bluetooth-on-android)，完整地描述了如何做到这一点。

# android - 重新启动应用程序失败android

> ID：12388512
> 
> 赞同：6
> 
> 时间：2012-09-12T12:47:05.340
> 
> 标签：android, notifications, android-pendingintent

我有一个应用程序，我在其中从服务生成大量通知。对于每个通知，我都有待处理的意图。同时按下主页按钮使用以下代码停止我的整个应用程序和服务

```
System.exit(0); 
```

触发待处理的意图成功，但是在按下主页按钮后，如果我再次重新启动应用程序，它只会出现黑屏并退出。有趣的是，如果我再次单击应用程序图标，它会成功重新启动。如果活动没有启动使用未决意图，按下主页按钮并重新启动一切正常..

应该是什么原因？任何帮助将不胜感激 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:33:04.930

如果您的服务不应该超过您的活动，您可能根本不需要该服务。根据您的描述，您似乎可以直接从活动中执行所有操作。

如果您需要一些并发性，请考虑 AsyncTask。

如果该服务仍然是您的最佳选择，那么您应该使用 Context.stopService() 而不是 System.exit() 并在服务的 onDestroy() 中清理您的后台线程/通知。

# asp.net - WCF：将 json 作为参数传递

> ID：12388517
> 
> 赞同：0
> 
> 时间：2012-09-12T12:47:14.937
> 
> 标签：asp.net, json, wcf

假设我有以下 json：

```
{
    "id": 8574,
    "data": {
        "name": "John",
        "age": 24,
        "description": "test",
        "anotherjson": { "fielda": "valuea", "fieldb": "valueb" }
    }
} 
```

重要提示：我不知道 data 参数中的字段是什么。

我有以下方法：

```
public void Save(int id, object data) { ... } 
```

json 由 jQuery.ajax() 发送到该方法。

如果我将此方法放在 asp.net Web 服务 (.asmx) 中，我可以将数据参数转换为 Dictionary[string, object]。很好。

但是如果我将此方法放在 WCF 服务中，则 data 参数始终为空。

我必须做什么？我在 WCF 中需要与 .asmx 文件中相同的行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:55:53.450

您是否在 WCF 方法中添加了以下属性？

```
[OperationContract]
[OperationContract]
[WebInvoke(Method = "POST", 
 BodyStyle = WebMessageBodyStyle.Wrapped,
 ResponseFormat = WebMessageFormat.Json)]
    public void Save(int id, object data) { ... } 
```

以及具有以下属性的服务

```
[AspNetCompatibilityRequirements(RequirementsMode 
    = AspNetCompatibilityRequirementsMode.Allowed)]
  public class Service : IService
  {....} 
```

# android - 使用 LOD 在球体上映射纹理的最佳方法

> ID：12388520
> 
> 赞同：0
> 
> 时间：2012-09-12T12:47:25.110
> 
> 标签：android, opengl-es-2.0, simplex-noise

首先，我在 android 上使用 OpenGL ES 2.0。

表面和高度纹理由具有 Simplex 噪声算法的线程 CPU 生成。我画了一个球体，我想根据与观察者的距离（LOD）来映射纹理。我精确地认为贴图生成器渲染 2D 纹理（基于 3D 噪波），并使用所需的球形变形进行精细贴图。

仅映射一个纹理（票价距离）效果很好。现在，我想根据眼睛到球体中心向量映射（并生成）纹理。想象一下球体中间的一个正方形（我的纹理），每当我旋转球体或移动球体时，该正方形必须始终位于观察者面前的中心。只是内容有所改变。

从哪儿开始 ？

我只能让它与偏航旋转一起工作。如果我修改其他人（俯仰，滚动），一切都会被打破。

我正在研究另一种（最好的）方法吗？

我用于纹理映射的实际着色器代码（仅适用于偏航）：

```
vec4 S = INVERTED_VIEW_MATRIX * vec4(sphere.nadir, 1.0);
vec4 d = normalize(WORLD_POSITION - S);

d = TEXTURE_ROTATE_MATRIX * d;

float u = 0.5 - (atan(d.z, d.x) / (2.0 * PI));
float v = 0.5 - (2.0 * (asin(d.y) / (2.0 * PI))); 
```

谢谢你，对不起我糟糕的英语。

# html - HTML/CSS3 表格行：前 2 行白色，接下来 2 行灰色，然后再下 2 行白色，等等？

> ID：12388529
> 
> 赞同：2
> 
> 时间：2012-09-12T12:47:45.407
> 
> 标签：html, css, css-selectors

> **可能重复：**
> [每两个表行的第 n 个子项](https://stackoverflow.com/questions/12375293/nth-child-for-every-two-table-rows)

我正在尝试使用 CSS3`nth-child`选择器，但目前似乎无法正常工作。

我想做的是将表格中的前 2 行设为白色，然后将接下来的 2 行设为灰色，然后再将下 2 行设为白色，依此类推。我将如何仅使用 CSS 来做到这一点？

非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T14:25:33.413

经过一番摆弄（字面意思），我终于找到了答案：

CSS：

```
tr:nth-child(4n+0), tr:nth-child(4n-1) {
    background-color: grey;
}​ 
```

演示：http: [//jsfiddle.net/SO_AMK/3e4Fz/](http://jsfiddle.net/SO_AMK/3e4Fz/)

这会选择从 0 到 -1 的每 4 行，您可以使用`nth-child(4n-2)`and定位中间的行`nth-child(4n-3)`。

演示：http: [//jsfiddle.net/SO_AMK/nGSfz/](http://jsfiddle.net/SO_AMK/nGSfz/)

# symfony - 将 symfony 更改为特定的稳定版本

> ID：12388534
> 
> 赞同：3
> 
> 时间：2012-09-12T12:48:11.520
> 
> 标签：symfony, symfony-2.1, composer-php

我正在使用与 master 分支同步的 symfony 开发应用程序。现在我想使用作曲家切换到最新的稳定版本（v2.1.1）。我有 composer.json 文件`"symfony/symfony": "2.1.*"`。我将其更改`"v2.1.1"`并切换到正确的版本，但其他核心捆绑包仍在主分支中。

我应该使用 v2.1.1 中的特定版本手动编辑我的 composer.lock 文件并保存我自己的包吗？

你能向我描述实现这一目标的正确程序吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T12:56:24.760

最好的方法是更改`composer.json`​​文件中的版本，然后运行`composer.phar update name-of-package/to-update1 name-of-package/to-update2...`等等。这将以`composer.lock`正确的方式处理。这适用于不依赖于 symfony 的包。

如果你只担心核心的 symfony 依赖，不要担心，它们会根据 symfony/symfony 包的版本进行相应的更新。

此外，这是一个作曲家的问题，而不是一个 symfony 的问题 :)[这是 Rafael Dohms 关于作曲家的精彩演讲](http://www.slideshare.net/rdohms/composer-putting-dependencies-on-the-score-14144250)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T00:49:31.643

我在 Symfony 食谱上找到了这个：

**升级 Symfony**

由于 Symfony 只是一组第三方库，第三方库完全通过 composer.json 和 composer.lock 控制，升级 Symfony 意味着只需升级每个文件以匹配它们在最新 Symfony 标准版中的状态。当然，如果您已将新条目添加到 composer.json，请确保仅替换原始部分（即，请确保不要同时删除任何自定义条目）。

# php - 如何在执行 PHP 之前弹出 JavaScript 确认窗口？

> ID：12388541
> 
> 赞同：-1
> 
> 时间：2012-09-12T12:48:25.187
> 
> 标签：php, javascript, confirmation

如何在执行前弹出 JavaScript 确认窗口：

```
<form action="index.php" method="get">
  <input type="hidden" name="act" value="run">
  <input type="submit" value="Clear map">
</form>
<?php
  if (!empty($_GET['act'])) {
        mysql_query("TRUNCATE TABLE mapinfo");
        $page = $_SERVER['PHP_SELF'];
        header("Location: $page");
  } 
?> 
```

用户必须按 OK 执行 PHP 或按 Cancel 不执行。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T12:49:56.723

```
<?php
  // mysql connection
  if ($_GET['act'] == 'run') {
        mysql_query("TRUNCATE TABLE mapinfo");
        $page = $_SERVER['PHP_SELF'];
        header("Location: $page"); // for this to work, script must not output something before, otherwise use echo '<script type="text/javascript">window.location = \''.$page.'\';</script>';
        die;
  } 
?>
<form action="index.php" method="get" onsubmit="return confirm('Are you sure you want to truncate `mapinfo`?');">
  <input type="hidden" name="act" value="run">
  <input type="submit" value="Clear map">
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:50:45.497

使用 javascript`confirm()`来做到这一点。向提交按钮添加一个 onclick 属性，该属性将调用确认对话框并使用 javascript 检查选项是否是，然后是一些代码，如果不是，则检查其他代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:51:29.880

在将站点发送到客户端之前，在服务器上评估 PHP 脚本。仅当客户端开始处理页面时才评估 javascript。因此，在评估 php 脚本之前，您实际上无法在 javascript 中做任何事情。

一种解决方案是设置一个代理页面来处理您需要的 javascript 内容，然后将您引至 php 页面。

希望有帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:59:22.687

试试这一行，

```
<a href="truncate_page.php" onclick="return confirm('Are you sure you want to truncate?')">Truncate</a> 
```

# python-3.x - 在多个派生类中调用构造函数

> ID：12388551
> 
> 赞同：1
> 
> 时间：2012-09-12T12:49:01.703
> 
> 标签：python-3.x, multiple-inheritance, super

调用多个派生类的基构造函数的正确语法是`python3`什么？

```
class A:
    def __init__():
        print("A")

class B:
    def __init__():
        print("B")

class C(A,B):
    def __init__():
        super().__init__() # ??? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:01:02.953

您也必须将`super`调用放在父类中。我认为它的工作原理是`C`' `super`gets`A`和`A`' `super`get's`B`

```
class A:
    def __init__(self):
        super().__init__()
        print("A")

class B:
    def __init__(self):
        super().__init__()
        print("B")

class C(A,B):
    def __init__(self):
        super().__init__() 
```

或者使用我更喜欢的这种替代，更明确的语法

```
class A:
    def __init__(self):
        print("A")

class B:
    def __init__(self):
        print("B")

class C(A,B):
    def __init__(self):
        A.__init__(self)
        B.__init__(self) 
```

这会在类的对象上调用和类的`__init__`方法。`A``B``C`

# soap - 如何使用 JAX-WS 将 SOAP 标头添加到 SOAP 请求？

> ID：12388552
> 
> 赞同：5
> 
> 时间：2012-09-12T12:49:03.930
> 
> 标签：soap, jax-ws, soapheader

我们需要使用其他团队开发的 Web 服务。用于`JAX-WS`生成 Web 服务。我们正在使用*wsimport*来生成客户端存根。

问题是我需要将以下信息作为标头与 SOAP 主体一起传递：

```
<soapenv:Header>
    <ns1:HeaderData xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" 
                    xmlns:ns1="http://www.example.com/esb/data_type/HeaderData/v1">
        <ChannelIdentifier>ABC</ChannelIdentifier>
    </ns1:HeaderData>
</soapenv:Header> 
```

我们正在使用：

```
BindingProvider.getRequestContext().put(
    BindingProvider.ENDPOINT_ADDRESS_PROPERTY,
    serviceConfig.getServiceEndPoint()
); 
```

设置端点。

谁能建议如何通过请求传递标头？

谢谢，VK

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-12T14:55:45.397

使用`header = true`注解`@WebParam`参数

```
@WebMethod
@WebResult String method(
      @WebParam String anotherParam
      @WebParam(header = true, mode = Mode.OUT) Holder<String> headerParam) 
```

`header = true, mode = Mode.OUT`意味着参数`headerParam`将仅在标头中输出。
如果您希望在输入和输出中使用此参数，请制作`Mode.INOUT`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T16:29:40.783

我必须将用户凭据添加到标题中，所以我这样做了：

```
private void modifyRequest(String username, String password) {
    UserCredentials authHeader = new UserCredentials();
    authHeader.setUsername(username);
    authHeader.setPassword(password);
    ArrayList<Header> headers = new ArrayList<Header>(1);
    try {
        Header soapHeader = new Header(new QName(TQIntegrationV2.TQIntegrationV2Soap.getNamespaceURI(), "UserCredentials"), authHeader, new JAXBDataBinding(UserCredentials.class));
        headers.add(soapHeader);
    } catch (JAXBException ex) {
        LOGGER.error("Exception trying to serialize header: {}", ex);
    }
    ((BindingProvider) proxy).getRequestContext().put(Header.HEADER_LIST, headers);
} 
```

一切正常。对 Web 服务的每次调用都带有传递给此标头的用户名和密码。您可以轻松地将其更改为适用于您的情况。

**编辑**

上面的代码是使用`CXF`API 来修改标头。我也使用`JAX-WS`. 它几乎相同，修改标头以添加用户凭据：

```
public class MyHandler implements SOAPHandler<SOAPMessageContext> {

    private static final Logger LOGGER = LoggerFactory.getLogger(MyHandler.class);

    private String username;

    private String password;

    /**
     * Handles SOAP message. If SOAP header does not already exist, then method will created new SOAP header. The
     * username and password is added to the header as the credentials to authenticate user. If no user credentials is
     * specified every call to web service will fail.
     *
     * @param context SOAP message context to get SOAP message from
     * @return true
     */
    @Override
    public boolean handleMessage(SOAPMessageContext context) {
        try {
            SOAPMessage message = context.getMessage();
            SOAPHeader header = message.getSOAPHeader();
            SOAPEnvelope envelope = message.getSOAPPart().getEnvelope();
            if (header == null) {
                header = envelope.addHeader();
            }
            QName qNameUserCredentials = new QName("https://your.target.namespace/", "UserCredentials");
            SOAPHeaderElement userCredentials = header.addHeaderElement(qNameUserCredentials);

            QName qNameUsername = new QName("https://your.target.namespace/", "Username");
            SOAPHeaderElement username = header.addHeaderElement(qNameUsername );
            username.addTextNode(this.username);
            QName qNamePassword = new QName("https://your.target.namespace/", "Password");
            SOAPHeaderElement password = header.addHeaderElement(qNamePassword);
            password.addTextNode(this.password);

            userCredentials.addChildElement(username);
            userCredentials.addChildElement(password);

            message.saveChanges();
            //TODO: remove this writer when the testing is finished
            StringWriter writer = new StringWriter();
            message.writeTo(new StringOutputStream(writer));
            LOGGER.debug("SOAP message: \n" + writer.toString());
        } catch (SOAPException e) {
            LOGGER.error("Error occurred while adding credentials to SOAP header.", e);
        } catch (IOException e) {
            LOGGER.error("Error occurred while writing message to output stream.", e);
        }
        return true;
    }

    //TODO: remove this class after testing is finished
    private static class StringOutputStream extends OutputStream {

        private StringWriter writer;

        public StringOutputStream(StringWriter writer) {
            this.writer = writer;
        }

        @Override
        public void write(int b) throws IOException {
            writer.write(b);
        }
    }

    @Override
    public boolean handleFault(SOAPMessageContext context) {
        LOGGER.debug("handleFault has been invoked.");
        return true;
    }

    @Override
    public void close(MessageContext context) {
        LOGGER.debug("close has been invoked.");
    }

    @Override
    public Set<QName> getHeaders() {
        LOGGER.debug("getHeaders has been invoked.");
        return null;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public void setPassword(String password) {
        this.password = password;
    }
} 
```

我在这样的`Spring`配置中定义了这个处理程序：

```
<bean id="soapHandler" class="your.package.MyHandler">
    <property name="username" value="testUser"/>
    <property name="password" value="testPassword"/>
</bean>

<jaxws:client "...">
    <jaxws:handlers>
        <ref bean="soapHandler"/>
    </jaxws:handlers>
</jaxws:client> 
```

你需要做的就是实现`SOAPHandler<SOAPMessageContext>`接口，覆盖它的方法，然后你可以用消息做任何你想做的事情`SOAP`。

# iphone - 将 git commit SHA 添加到 iOS 应用程序

> ID：12388553
> 
> 赞同：12
> 
> 时间：2012-09-12T12:49:06.013
> 
> 标签：iphone, objective-c, ios, xcode, git

我想显示我的项目在我的应用程序中构建时的当前 git SHA。在 iOS 项目中以最少的努力做到这一点的好方法是什么？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-10-28T13:06:26.810

> **2.17 版。构建 a85b242。**

如果你想像上面那样添加漂亮的版本控制，只需按照以下步骤操作：

1.  `Build Phases`在**Xcode**中打开
***   按`Add Build Phase`*   按`Add Run Script Build Phase`。您可以在顶部菜单**Editor**中找到它。将脚本行拖到 . 之后的位置`Target Dependencies`。*   将**壳**线设置为`/bin/sh`*   将下面的脚本设置为**Script 字段**。不要忘记将**Sources**更改为您的文件路径，`GitVersion.h`应该在哪里。例如：

    ```
    version=$(git rev-parse --verify HEAD | cut -c 1-7)
    curdate=$(date +"%d.%m.%y")

    filesource="//\n//  GitVersion.h\n//\n//  Created by sig on $curdate.\n//\n\n#ifndef GitVersion_h\n#define GitVersion_h\n\n#define GIT_SHA_VERSION @\"$version\"\n\n#endif"

    cd ${SOURCE_ROOT}/${PROJECT_NAME}
    echo -e "$filesource" > Sources/GitVersion.h

    touch Sources/GitVersion.h 
    ```

    *   `GitVersion.h`将文件导入**Xcode**项目

    *   粘贴这些行：

    ```
    NSDictionary *info = [[NSBundle mainBundle] infoDictionary];
    NSString *version = [info objectForKey:@"CFBundleShortVersionString"];
    NSString *app_version = [NSString stringWithFormat:@"Version %@. Build %@.", version, GIT_SHA_VERSION];

    NSLog(@"app_version : %@", app_version); 
    ```** 

 **> 可以在[此处](https://github.com/siggb/GitVersioningOnXCode)找到带有图像和描述的优点的完整记录的答案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-12T13:17:48.407

你可以在方案中做到这一点。打开您的方案（编辑），在您的方案中展开构建，单击 Pre-Actions，单击 + 按钮，选择 New Run Script Action 并编写一些脚本来获取 SHA 并修改一些可以放置 SHA 的头文件（最简单的方法是`#define GIT_SHA @"..."`) 并`GIT_SHA`在您的应用程序中可以显示它的地方使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-06-19T04:34:32.867

**对于斯威夫特**

[Git 日志格式链接](https://git-scm.com/docs/pretty-formats)

**其他 Swift 标志** [![在此处输入图像描述](../Images/1d51a51e2bcf0738e8dd2c4f51305c58.png)](https://i.stack.imgur.com/O4X8s.png)

**运行脚本**

```
version=$(git rev-parse --verify HEAD | cut -c 1-10)
commitDate=$(git log -n 1 HEAD --pretty=format:"%h - %cd" | cut -c 12-)

filesource="//\n//  GitVersion.swift\n//\n//  Commit Date:$commitDate\n//\n\n#if DEBUG\nlet gitVersion = \"$version\"\n#endif"
cd ${SOURCE_ROOT}/${PROJECT_NAME}

echo -e "$filesource" > GitVersion.swift

touch GitVersion.swift 
```

**GitVersion.swift**

```
//
//  GitVersion.swift
//
//  Commit Date: Tue Jun 19 11:09:55 2018 +0900
//

#if DEBUG
let gitVersion = "2fd2f0315d"
#endif 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-06T09:36:38.980

**对于 Swift 项目**

来源：[https ://github.com/ankushkushwaha/AppVersionInXcode](https://github.com/ankushkushwaha/AppVersionInXcode)

1.  添加构建脚本运行脚本

    #/bin/sh

    版本=$(git rev-parse --verify HEAD | cut -c 1-7)

    fileContent="// 请勿编辑，// 这是机器生成的文件

    // AppInfo.swift // 导入 Foundation 类 AppInfo { let version: String let build: String let gitCommitSHA: String = \"$version\" init?() { guard let version = Bundle.main.infoDictionary?[\"CFBundleShortVersionString \“] 作为？字符串，让 build = Bundle.main.infoDictionary?[\"CFBundleVersion\"] as? String else { return nil } self.version = version self.build = build } }" echo "$fileContent" > AppInfo.swift

2.  在“编译源”上方移动/拖动运行脚本

3.  现在构建您的项目，它将在项目的根文件夹中创建一个文件 AppInfo.swift
4.  将一个拖放 AppInfo.swift 文件拖放到您的 Xcode 项目导航器中。
5.  如下使用

    守卫让 info = AppInfo() else { return } let infoText = "AppVersion: (info.version) \nBuild: (info.build) \nGit hash: (info.gitCommitSHA)" print(infoText)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-27T09:15:13.287

很晚的答案，但对于那些需要得到的人来说`Git Commit SHA`，这是一个简单的解决方案：

选择您想要获取的目标`Git Commit SHA`。然后转到`Build Phase`.

1- 通过按 + 按钮创建一个新的运行脚本阶段并添加以下脚本：

```
git_version=$(git log -1 --format="%h")

info_plist="${SRCROOT}/{THE_PATH_TO_PLIST_FILE}/Info.plist"
/usr/libexec/PlistBuddy -c "Set :GIT_VERSION '${git_version}'" "${info_plist}" 
```

记得`{THE_PATH_TO_PLIST_FILE}`用你的 plist 文件的真实路径替换。

3- 现在转到`Info.plist`相同的目标并添加一个名为的新属性：`GIT_VERSION`。该脚本会将 GitVersion 设置为此属性。

`GIT_VERSION`4-从`Info.plist`代码中读取。

灵感来源：[这篇文章](https://egeek.me/2013/02/09/xcode-insert-git-build-info-into-ios-app/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-12-25T10:28:25.310

此链接适用于我的情况，但我只想补充一点，添加项目路径和放置此自动生成的类的文件夹是一件好事。所以在我的情况下是：

```
echo "$fileContent" > ${SRCROOT}/MyProject/Models/AppInfo.swift 
```

这是一篇关于相对路径的好帖子：

[Xcode 脚本上的相对路径](https://stackoverflow.com/questions/19824498/relative-paths-on-xcode-scripts)**

# spring - 如何解决此消息 - 无法将 java.lang.String 类型的属性值转换为所需类型

> ID：12388556
> 
> 赞同：1
> 
> 时间：2012-09-12T12:49:12.770
> 
> 标签：spring, jakarta-ee, spring-mvc, spring-roo

我正在使用 spring roo 构建一个简单的应用程序。完成某些工作后，我已经完全删除了 roo。

所以这是我创建新数据的控制器方法..

```
@RequestMapping(params = "form", produces = "text/html")
public String createForm(Model uiModel) {
    populateEditForm(uiModel, new PatientDetails());
    return "patientdetailses/create";
}

 @RequestMapping(method = RequestMethod.POST, produces = "text/html")
public String create(@Valid PatientDetails patientDetails,
        BindingResult bindingResult, Model uiModel,
        HttpServletRequest httpServletRequest) {

    if (bindingResult.hasErrors()) {
        populateEditForm(uiModel, patientDetails);
        return "patientdetailses/create";
    }
    uiModel.asMap().clear();

    patientDetailsService
            .savePatientDetails(setCurrentUser(patientDetails));
    return "redirect:/patientdetailses/"
            + encodeUrlPathSegment(patientDetails.getId().toString(),
                    httpServletRequest);
}

 void populateEditForm(Model uiModel, PatientDetails patientDetails) {
    uiModel.addAttribute("patientDetails", patientDetails);
    addDateTimeFormatPatterns(uiModel);
    uiModel.addAttribute("sexes", Arrays.asList(Sex.values()));
    uiModel.addAttribute("typeOfPatients",
            typeOfPatientService.findAllTypeOfPatients());
} 
```

我的域名：

```
 public class PatientDetails {

@NotNull
@NotBlank
@NotEmpty
@Size(max = 40)
private String firstName;

@NotNull
@NotBlank
@NotEmpty
@Size(max = 40)
private String lastName;

@Size(max = 40)
private String middleName;

@Size(max = 200)
@NotNull
@NotBlank
@NotEmpty
private String address;

@NotNull
@NotBlank
@NotEmpty
private String city;

@NotNull
private String province;

@NotNull
@Size(max = 5)
private String postalCode;

@NotNull
@Email
@Size(max = 100)
private String email;

@Size(max = 12)
private String homePhone;

@Size(max = 12)
private String workPhone;

@NotNull
private Sex sex;

@Past
@Temporal(TemporalType.TIMESTAMP)
@DateTimeFormat(style = "M-")
@NotNull
private Date dateOfBirth;

@NotNull
@Size(max = 10)
private String socialSecurityName;

@NotNull
@Size(max = 100)
private String occupation;

@ManyToOne
private TypeOfPatient typeOfPatient;

@ManyToOne
private User users;
   } 
```

和意见：

```
 <div xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:field="urn:jsptagdir:/WEB-INF/tags/form/fields" xmlns:form="urn:jsptagdir:/WEB-INF/tags/form" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:spring="http://www.springframework.org/tags" version="2.0">
<jsp:directive.page contentType="text/html;charset=UTF-8"/>
<jsp:output omit-xml-declaration="yes"/>
<form:create id="fc_com_simplemed_npc_domain_PatientDetails" modelAttribute="patientDetails" path="/patientdetailses" render="${empty dependencies}" z="8/olU0ivxZlcCzNCDYriOP+hE2U=">
    <field:input field="firstName" id="c_com_simplemed_npc_domain_PatientDetails_firstName" required="true" z="user-managed"/>
    <field:input field="lastName" id="c_com_simplemed_npc_domain_PatientDetails_lastName" required="true" z="user-managed"/>
    <field:input field="middleName" id="c_com_simplemed_npc_domain_PatientDetails_middleName" z="user-managed"/>
    <field:textarea field="address" id="c_com_simplemed_npc_domain_PatientDetails_address" required="true" z="0CYYBU4YKijB7hQ3Npq7QXHb2ys="/>
    <field:input field="city" id="c_com_simplemed_npc_domain_PatientDetails_city" required="true" z="pQoSTWOVKlwKWZV5OlKvsCwQt6M="/>
    <field:input field="province" id="c_com_simplemed_npc_domain_PatientDetails_province" required="true" z="7hzMJ6GrQfV6YMHTSNpUIw2z508="/>
    <field:input field="postalCode" id="c_com_simplemed_npc_domain_PatientDetails_postalCode" max="5" required="true" z="QttQ/Av8Y2LXLPjpc88NRqtu7kI="/>
    <field:input field="email" id="c_com_simplemed_npc_domain_PatientDetails_email" required="true" validationMessageCode="field_invalid_email" z="user-managed"/>
    <field:input field="homePhone" id="c_com_simplemed_npc_domain_PatientDetails_homePhone" max="12" z="pBKxDLFxHZKsvHUjMqozutbbkug="/>
    <field:input field="workPhone" id="c_com_simplemed_npc_domain_PatientDetails_workPhone" max="12" z="LViJ3WNDosJPBWk6AGJmcZrnjfw="/>
    <field:select field="sex" id="c_com_simplemed_npc_domain_PatientDetails_sex" items="${sexes}" path="sexes" required="true" z="OjuzCMOizRZlHrPGgWVrV6wnR0k="/>
    <field:datetime dateTimePattern="${patientDetails_dateofbirth_date_format}" field="dateOfBirth" id="c_com_simplemed_npc_domain_PatientDetails_dateOfBirth" past="true" required="true" z="tthi2TXacQkSlyRj+QX9HsbzaIs="/>
    <field:input field="socialSecurityName" id="c_com_simplemed_npc_domain_PatientDetails_socialSecurityName" max="10" required="true" z="lKuMt6y/W4VI1dJEiW3gk5ZvK3c="/>
    <field:textarea field="occupation" id="c_com_simplemed_npc_domain_PatientDetails_occupation" required="true" z="WfCTmH7Nkt3bMfkJ1HNpkqe+aa8="/>
    <field:select field="typeOfPatient" id="c_com_simplemed_npc_domain_PatientDetails_typeOfPatient" itemValue="id" itemLabel="patientTypeName" required="true" items="${typeOfPatients}" path="/typeofpatients" z="Uj2xfoaPX5/gkwXb9WBxdzAfN/4="/>
</form:create>
<form:dependency dependencies="${dependencies}" id="d_com_simplemed_npc_domain_PatientDetails" render="${not empty dependencies}" z="OEZW6AYtVJ5mEmMbn24lHjWtPp4="/> 
```

我在提交表单时遇到错误 ![在此处输入图像描述](../Images/d79adfcd70951a82971151d29ac658d0.png)

谁能帮我解决这个问题...

提前致谢。

编辑：

TypeOfPatient 类：

```
 public class TypeOfPatient {

@NotNull
private String patientTypeName;

@NotNull
@Size(max=1024)
private String decriptions;

@Override
public String toString() {
    return patientTypeName;
} 
```

}

我的转换代码：

```
 @Autowired
TypeOfPatientService typeOfPatientService;

public Converter<String, TypeOfPatient> getStringToTypeOfPatientConverter() {
    return new Converter<String, TypeOfPatient>() {
        @Override
        public TypeOfPatient convert(String id) {
            return typeOfPatientService.findTypeOfPatient(Long
                    .parseLong(id));
        }
    };
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:25:20.300

您基本上必须提供一个[`Converter`](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html#core-convert-Converter-API).

**编辑：**

根据您使用的意见`<mvc:annotation-driven conversion-service="applicationConversionService"/>`。如果这类似于[此类](http://code.google.com/p/roo-timesheet-techonology-vertical-base/source/browse/trunk/src/main/java/nl/thinksystems/rooadmin/web/ApplicationConversionServiceFactoryBean.java?r=3)，则下面的代码应该可以工作：

```
public class ApplicationConversionServiceFactoryBean
    extends FormattingConversionServiceFactoryBean {

  @Autowired
  TypeOfPatientService typeOfPatientService;

  @Override
  protected void installFormatters(FormatterRegistry registry) {
    registry.addConverter(getStringToTypeOfPatientConverter());
    super.installFormatters(registry);
  }

  public Converter<String, TypeOfPatient> getStringToTypeOfPatientConverter() {
    return new Converter<String, TypeOfPatient>() {
      @Override
      public TypeOfPatient convert(String id) {
        return typeOfPatientService.findTypeOfPatient(Long.parseLong(id));
      }
    };
  }
} 
```

# php - 结合视图层和自动路线生成

> ID：12388557
> 
> 赞同：1
> 
> 时间：2012-09-12T12:49:14.640
> 
> 标签：php, symfony, symfony-2.1, fosrestbundle

我遇到问题，包括`FOSRestBundle`在我的`Symfony 2.1`项目中。

当我使用自动路由生成（[文档](https://github.com/FriendsOfSymfony/FOSRestBundle/blob/master/Resources/doc/5-automatic-route-generation_single-restful-controller.md)）并想使用`view layer`（[文档](https://github.com/FriendsOfSymfony/FOSRestBundle/blob/master/Resources/doc/2-the-view-layer.md)）时。

我收到一个异常：**No route found for "GET /users"**。

我的 config.yml：

```
fos_rest:
  routing_loader:
    default_format: json 
```

我的路由.yml：

```
users:
  type:     rest
  resource: Api\UserBundle\Controller\UsersController 
```

我的用户控制器类：

```
namespace Api\UserBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use FOS\RestBundle\Controller\FOSRestController;

class UsersController extends FOSRestController
{ 
  public function getUsersAction() { die('get'); }
  public function postUsersAction() { die('post'); }
} 
```

当我删除`extends FOSRestController`一切正常 - 但我失去了视图层功能。谁能引导我朝着正确的方向解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T18:01:43.637

我不知道你现在是否设法解决它......但我遇到了同样的问题，它似乎来自 FOSRestController 实现 ClassResourceInterface 的事实（FOSRestBundle 将根据控制器名称确定资源）。

我所要做的就是从方法中省略资源名称。 [https://github.com/FriendsOfSymfony/FOSRestBundle/blob/master/Resources/doc/5-automatic-route-generation_single-restful-controller.md](https://github.com/FriendsOfSymfony/FOSRestBundle/blob/master/Resources/doc/5-automatic-route-generation_single-restful-controller.md)

/乔纳斯

# objective-c - iOS 滑动动画意外发生了两次

> ID：12388565
> 
> 赞同：0
> 
> 时间：2012-09-12T12:49:36.490
> 
> 标签：objective-c, ios, uiimageview, core-animation

我正在使用带有 ARC 的 Xcode 4.4 开发一个基于页面的 iPhone 应用程序，并且已经坚持了一段时间。在某个页面上，UIImageView 手指需要向上滑动并指向某物，然后向左滑动离开屏幕。当我运行一次时，这按预期工作，但是当我翻页并返回时 - 现在有 2 个手指滑动约 0.5 秒，彼此不同步。

这是代码：

```
-(void)fingerSwipeUp:(UIImageView *)imageView
{
    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:1];
    [imageView setCenter:CGPointMake(213.75,355.5)];
    [UIView commitAnimations];
}

-(void)fingerSwipeLeft:(UIImageView *)imageView
{
    [UIView beginAnimations:nil context:nil];
    [UIView setAnimationDuration:1];
    [imageView setCenter:CGPointMake(-80,355.5)];
    [UIView commitAnimations];
}

UIImageView *finger = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"finger.png"]];

// position finger off the screen
[finger setFrame:CGRectMake(142.5,480,152.5,243)];
[self.view addSubview:finger];

[self performSelector:@selector(fingerSwipeUp:) withObject:finger afterDelay:6];
[self performSelector:@selector(fingerSwipeLeft:) withObject:finger afterDelay:8]; 
```

非常感谢任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:10:21.777

我猜你是在 ViewDidAppear() 中创建“手指”视图？如果是这种情况，则每次翻页（隐藏）然后返回时，您都会添加另一个箭头（子视图）。那么这个呢：

```
if (finger == nil) {
    finger = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"finger.png"]];
    [finger setFrame:CGRectMake(142.5,480,152.5,243)];
    [self.view addSubview:finger];
}

[self performSelector:@selector(fingerSwipeUp:) withObject:finger afterDelay:6];
[self performSelector:@selector(fingerSwipeLeft:) withObject:finger afterDelay:8]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T14:05:30.277

如果您在一个序列中有多个动画，您可能会发现使用基于块的`UIView`动画语法更容易：

```
 [UIView animateWithDuration:1.0 delay:6.0 options:UIViewAnimationCurveEaseInOut animations:^{

    // animation 1

} completion:^(BOOL finished) {

        [UIView animateWithDuration:1.0 delay:8.0 options:UIViewAnimationCurveEaseInOut animations:^{

        // animation 2
    }];

}]; 
```

这只会在动画 1 完成*后*开始动画 2 ，因此您无需担心在延迟动画 2 时允许动画 1 的持续时间。

# objective-c - 共享到邮件和消息

> ID：12388571
> 
> 赞同：0
> 
> 时间：2012-09-12T12:49:51.113
> 
> 标签：objective-c, macos, email, messages

我在哪里可以找到有关如何将图像共享给`mail`或的任何信息`messages`？就像`preview`分享功能一样。这里是照片：

![在此处输入图像描述](../Images/7eeac85904818210b482ef469c92d94b.png) ![在此处输入图像描述](../Images/f795569296d5e5a883e55629a6be893e.png)

是否有任何框架或东西可以轻松实现它，或者还有其他一些方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:54:44.143

使用新的[共享菜单](http://developer.apple.com/library/mac/documentation/userexperience/conceptual/applehiguidelines/Controls/Controls.html#//apple_ref/doc/uid/TP30000359-SW37)。请注意，这是 Mountain Lion 中的一项新功能。

> 要在 Interface Builder 中创建共享菜单，请选择相应的按钮。然后，在检查器的“属性”窗格中， `NSImageNameShareTemplate`为图像指定。要使用 AppKit 编程接口创建一个，请使用`NSImageNameShareTemplate`将图像添加到按钮 ( [`NSButton`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSButton_Class/Reference/Reference.html))。如果您以编程方式创建共享按钮，为了使共享菜单按用户期望的方式运行，您需要设置 `sendActionOn:NSLeftMouseDownMask`.

# spring - spring webflow，评估表达式在转换中被忽略

> ID：12388574
> 
> 赞同：2
> 
> 时间：2012-09-12T12:49:58.867
> 
> 标签：spring, spring-webflow, spring-webflow-2

我有一个流定义为流

```
<view-state id="view1" view="/jsp/view1.xhtml">
    <transition on="login" to="view1" >
       <evaluate expression="'test1'" result="viewScope.t1"/>
       <evaluate expression="'test2'" result="viewScope.t2"/>
    </transition>
</view-state> 
```

View1.xhtml：

```
${t1}<br/>
${t2} 
```

在 view1.xhtml 中，我打印了两个变量 t1 和 t2，但只打印了“test1”。第二个表达式在转换中被忽略。为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T15:07:27.630

[http://static.springsource.org/spring-webflow/docs/2.3.x/reference/htmlsingle/spring-webflow-reference.html#view-transitions](http://static.springsource.org/spring-webflow/docs/2.3.x/reference/htmlsingle/spring-webflow-reference.html#view-transitions)

> 当在转换上定义了多个动作时，如果其中一个返回错误结果，则集合中的其余动作将不会被执行。

现在，还阅读了该部分，我认为这只会`false`被视为错误结果，但也许它不是“成功”值。你的经历似乎证明了这一点。（我以为我在某处找到了一个列表，其中列出了哪些返回值被认为是成功和失败，但我现在没有找到它。）

`<evaluate>`但是，您可以使用来代替`<set>`吗？

```
<transition on="login" to="view1" >
    <set name="viewScope.t1" value="'test1'" />
    <set name="viewScope.t2" value="'test2'" />
</transition> 
```

# mysql - 为什么这个 MySQL CASE 查询不起作用？

> ID：12388575
> 
> 赞同：2
> 
> 时间：2012-09-12T12:49:59.117
> 
> 标签：mysql, case

我是一个完全的新手，以前从未使用过案例，所以请不要笑。

为什么这个查询不起作用？

```
 SELECT * 
    FROM `cronjob_reloaded` 
   WHERE `carid` LIKE '%bmw%'
      OR `age` BETWEEN '10' AND '15'
ORDER BY 
  CASE WHEN `carid` LIKE '%bmw%' = 1 
       THEN 1 
  CASE WHEN `age` BETWEEN '10' AND '15' = 2 
       THEN 2 
```

我收到此错误：

> 检查与您的 MySQL 服务器版本相对应的手册，以了解在 'CASE WHEN `age`BETWEEN '10' AND '15' =2 THEN 2附近使用的正确语法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:53:06.007

你的语法有点奇怪。`= 1`在这种情况下，您不需要`LIKE`，第二个条件具有 invalid `= 2`，并且由于两者都是同一语句的条件，因此不要重复`CASE`- 而是以 . 开头的第二个条件`WHEN`。

还建议放入一个`ELSE`案例以确定性地匹配所有其他行。下面，我插入`ELSE 3`了，它在两个匹配条件之后对所有其他不匹配的行进行排序。

最后，整个结构应该以`END`关键字结尾。

```
SELECT * FROM `cronjob_reloaded` 
WHERE 
`carid` LIKE '%bmw%'
OR 
`age` BETWEEN '10' AND '15'
ORDER BY 
  CASE
    WHEN `carid` LIKE '%bmw%' THEN 1  
    WHEN `age` BETWEEN '10' AND '15'  THEN 2
    /* Advisable to add an ELSE condition to catch all other rows */
    ELSE 3
  END 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T12:52:58.103

你不需要两个`CASE`。只需像这样添加单个`CASE`：

```
ORDER BY 
CASE 
    WHEN `carid` LIKE '%bmw%' THEN 1
    WHEN `age` BETWEEN '10' AND '15' THEN 2 
END 
```

你也写了`carid LIKE '%bmw%' = 1`哪个是错的。你应该写`carid LIKE '%bmw%'`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T12:53:44.013

数字不需要引号，在尝试此查询时也不需要`= 1`条件：`CASE WHEN`

```
SELECT *
FROM cronjob_reloaded
WHERE carid LIKE '%bmw%'
      OR age BETWEEN 10 AND 15
ORDER BY (CASE WHEN carid LIKE '%bmw%' THEN 1
               WHEN age BETWEEN 10 AND 15 THEN 2
         END); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:54:47.913

```
SELECT * FROM `cronjob_reloaded` 
WHERE 
`carid` LIKE '%bmw%' OR 
`age` BETWEEN '10' AND '15' ORDER BY 
  CASE
    WHEN `carid` LIKE '%bmw%' = 1 THEN 1  
    WHEN `age` BETWEEN '10' AND '15' = 2 THEN 2
  END 
```

# c# - 从字符串中获取唯一字符？

> ID：12388579
> 
> 赞同：7
> 
> 时间：2012-09-12T12:50:05.663
> 
> 标签：c#, string

我想从字符串中提取唯一字符。例如：-`'AAABBBBBCCCCFFFFGGGGGDDDDJJJJJJ'`将返回`'ABCFGDJ'`

我已经尝试过下面的代码，但现在我想优化它。如果有人知道，请建议。

```
static string extract(string original)
 {
        List<char> characters = new List<char>();   
        string unique = string.Empty; 
        foreach (char letter in original.ToCharArray())    
         {  
             if (!characters.Contains(letter))   
             {      
                  characters.Add(letter);   
              }            
          }  
        foreach (char letter in characters)
        {  
              unique += letter;    
         }     
     return unique;
 } 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-12T12:51:43.093

我不知道这是否更快，但肯定更短

```
string s = "AAABBBBBCCCCFFFFGGGGGDDDDJJJJJJ";
var newstr = String.Join("", s.Distinct()); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-12T12:53:39.287

另一种 LINQ 方法，但不使用`string.Join`：

```
var result = new string(original.Distinct().ToArray()); 
```

老实说，我不知道哪种字符串创建方法会更快。这可能取决于`string.Join`最终是否在附加到 a 之前在内部将每个元素转换为字符串`StringBuilder`，或者它是否具有对某些众所周知的类型的自定义支持以避免这种情况。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-12T12:52:31.003

怎么样

```
var result = string.Join("", "AAABBBBBCCCCFFFFGGGGGDDDDJJJJJJ".Distinct()); 
```

确保包含`System.Linq`命名空间。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-12T12:53:49.847

试试这个

```
string str = "AAABBBBBCCCCFFFFGGGGGDDDDJJJJJJ"; 
string answer = new String(str.Distinct().ToArray()); 
```

我希望这有帮助。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-12T13:02:25.223

如果“AAABBBAAA”应该返回“ABA”，那么下面会这样做。虽然不是很快。

```
List<char> no_repeats = new List<char>();
no_repeats.Add(s[0]);
for (int i = 1; i < s.Length; i++)
{
    if (s[i] != no_repeats.Last()) no_repeats.Add(s[i]);
}
string result = string.Join("", no_repeats); 
```

# xslt - XSLT - 如何将模板应用于该类型的每个节点？

> ID：12388582
> 
> 赞同：0
> 
> 时间：2012-09-12T12:50:24.510
> 
> 标签：xslt, xslt-1.0, date-format, apply-templates

我对 xsl 和函数式编程还很陌生，因此我将不胜感激在这方面的帮助：

我有一个模板可以转换一些 xml 并提供输出。问题是有许多**xs:date**类型的元素，都在不同的上下文中，必须本地化。我使用这些 xs:dates 的子字符串串联来生成本地化的日期模式字符串。

正如你可以猜到的那样，这会导致大量的复制粘贴“ *substring-this 和 substring-that* ”。如何编写一个模板来自动将 xs:date 类型的所有元素转换为保留所有上下文感知转换的本地化字符串？

我的 xsl 是这样的：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">  
    <xsl:output method="html" encoding="utf-8"/>
        <xsl:template match="/">
        ...
        <input value="{substring(/select/a/date 9,2)}.{substring(/select/a/date, 6,2)}.{substring(/select/a/date 1,4)}">
        ...
        <!-- assume that following examples are also with substrings -->
        <div><xsl:value-of select="different-path/to_date"/></div>
        ...
        <table>
        <tr><td><xsl:value-of select="path/to/another/date"/></td></tr>
        </table>
        <apply-templates/>
        </xsl:template>
        <xsl:template match="something else">
        <!-- more dates here -->
        </xsl:template>
</xsl:stylesheet> 
```

我希望我能把我的问题说清楚=）

UPD：这是一个 xml 示例：

```
<REQUEST>
    <header>
        <... />
        <ref>
            <ref_date type="xs:date">1970-01-01</ref_date>
        </ref>
    </header>

    <general>
        <.../>
        <info>
            <.../>
            <date type="xs:date">1970-01-01</date>
            <ExpireDate type="xs:date">1970-01-01</ExpireDate>
            <RealDate type="xs:date">1970-01-01</RealDate>
            <templateDetails>template details</templateDetails>
            <effectiveDate type="xs:date">1970-01-01</effectiveDate>
        </info>

        <party>
            <.../>
                <date type="xs:date">1970-01-01</date>
        </party>

        <!-- many other parts of such kind -->
    </general>

</REQUEST> 
```

至于输出，有很多不同的选择。主要是这些值必须设置为不同html对象的值，比如表格、输入字段等。您可以在 xsl 清单中看到一个示例。

PS我使用的是xsl 1.0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T14:29:58.550

如果您进行了模式感知 XSLT 2.0 转换，则不需要所有这些`type='xs:date'`属性：在模式中将其定义为日期就足够了。然后，您可以将属性与

`<xsl:template match="attribute(*, xs:date)">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:25:15.500

您可以做的是添加一个模板来匹配任何具有“xs:date”@type 属性的元素，并在其中进行子字符串操作

```
<xsl:template match="*[@type='xs:date']">
   <xsl:value-of select="translate(., '-', '/')" />
</xsl:template> 
```

在这种情况下，我只是用斜杠替换连字符作为示例。

然后，而不是使用**xsl:value-of** ....

```
<div><xsl:value-of select="different-path/to_date"/></div> 
```

你可以使用**xsl:apply-templates**

```
<div><xsl:apply-templates select="different-path/to_date"/></div> 
```

以这个 XSLT 为例

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">        
    <xsl:output method="xml" indent="yes"/>

    <xsl:template match="*[@type='xs:date']">
        <xsl:copy>
            <xsl:value-of select="translate(., '-', '/')" />
        </xsl:copy>
    </xsl:template>

    <xsl:template match="@*|node()">
        <xsl:copy>
            <xsl:apply-templates select="@*|node()"/>
        </xsl:copy>
    </xsl:template>
</xsl:stylesheet> 
```

在这种情况下，XSLT 所做的只是照原样复制 XML 文档，但更改日期元素。

如果您想将日期模板用于其他元素或值，也可以将其设为命名模板，如下所示

```
<xsl:template match="*[@type='xs:date']" name="date">
    <xsl:param name="date" select="." />
    <xsl:value-of select="translate($date, '-', '/')" />
</xsl:template> 
```

这将允许您也可以像调用函数一样调用它。例如，要格式化数据并添加为属性，您可以执行以下操作：

```
<input>
   <xsl:attribute name="value">
       <xsl:call-template name="date">
          <xsl:with-param name="date" select="/select/a/date" />
       </xsl:call-template>
   </xsl:attribute>
</input> 
```

# regex - ICU 休息规则中的前瞻性

> ID：12388595
> 
> 赞同：1
> 
> 时间：2012-09-12T12:51:04.170
> 
> 标签：regex, tokenize, icu

我有一个匹配各种表情符号的中断规则，但它也会产生一些不必要的匹配，例如 '(Be' 在 '(Bellevue, WA)' 中匹配为笑脸

我想通过添加一个否定的前瞻来改进它，例如，如果笑脸以字母或数字结尾，则后面不应该有字母或数字。

我通过在 break 规则的末尾（当然是在其数字标记之前）添加一个否定的前瞻性子句来做到这一点，但解析失败。

这是我尝试的简化规则： [\:][-] [()] (?![\w\d]) {451};

（虽然在我原来的例子中它不匹配'（Be'）

所以问题是：

1.  中断规则是否支持环视？如果是，正确的语法是什么？
2.  如果它们不受支持，那么实现我的目标的最佳方法是什么？

# jquery - Firefox 中的活动 CSS 伪类和 iscroll 问题

> ID：12388596
> 
> 赞同：1
> 
> 时间：2012-09-12T12:51:04.687
> 
> 标签：jquery, css, jquery-mobile, pseudo-class, iscroll

我正在开发一个移动网站。我正在使用 Jquery mobile 和 iscroll 插件。在 chrome 中一切正常。但是在检查 Firefox 时，我发现为元素编写的**:active** css 样式不起作用。

这是小提琴 [http://jsfiddle.net/zq5AW/](http://jsfiddle.net/zq5AW/)

主动效果在 chrome 中有效，但在 Firefox 中无效。

但是当我删除 jquery.mobile.iscrollview-min.js 包含行时。它也开始在 Firefox 中工作。任何人都可以建议修复吗？

> 注意：在谷歌搜索中发现了相同的问题
> 
> [https://groups.google.com/forum/?fromgroups=#!topic/iscroll/lqPomh3y-TU](https://groups.google.com/forum/?fromgroups=#!topic/iscroll/lqPomh3y-TU)
> 
> 但是没有答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T08:14:59.963

Mithunsatheesh，您在两个库 - jQuery 和 jQuery Mobile 之间存在冲突。您确定需要同时加载两个库吗？

如果您更改加载库的方式的顺序，那么一切都会正常工作，您将获得所需的结果：

[工作示例](http://jsfiddle.net/2eQSa/)

除此之外，我可以为您提供另一种解决方案，即使用 jQuery 来获得所需的效果，因为我没有看到任何其他可行的可能性：

```
$(document).ready(function() {
    $("p").mousedown(function() {
        $(this).addClass('hovered');
    }).mouseup(function() {
        $(this).removeClass('hovered');
    });
}); 
```

[工作示例 2](http://jsfiddle.net/zc4DL/)

### 更新：

参考您的最后评论，这是我为您提供的最终解决方案：

```
$(document).ready(function() {
    $("p").mousedown(function() {
        hovered = true;
        $(this).addClass('hovered');
    });
    $(document).mouseup(function() {
        if (hovered === true) {
            $("p").removeClass('hovered');
            hovered = false;
        }
    });
}); 
```

[工作示例 3](http://jsfiddle.net/zm66p/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T15:32:55.607

我希望我可以确定导致问题的原因，但我不能。我对这个问题的理解是，该 javascript 文件中的某些内容阻止了通常会触发`:active`伪类的默认浏览器操作。

您可以通过在 mousedown/mouseup 上向元素添加和删除类来解决此问题

CSS

```
.act { color:#000; }
.act:active, .active { color:#FFF; }​ 
```

JS

```
$('.act').mousedown(function() {
    $(this).addClass('active');
});

$('.act').mouseup(function() {
    $(this).removeClass('active');
}); 
```

这里也是一个工作小提琴：http: [//jsfiddle.net/zq5AW/3/](http://jsfiddle.net/zq5AW/3/)

# android - Android Sherlock 选项卡可以保存列表视图并且每个选项卡都有单个活动吗？

> ID：12388598
> 
> 赞同：0
> 
> 时间：2012-09-12T12:51:13.563
> 
> 标签：android, listview, tabs

我今天实现了 Sherlock 操作栏选项卡，所以我的选项卡处理类扩展了 SherlockActivity 实现了 ActionBar.TabListener。

我开始一些空布局，然后每个选项卡都有自己的布局，并且工作正常。

首先，在我的第一个选项卡上，我需要一个列表（但显然不能扩展列表视图）。我正在使用字符串，然后是字符串数组

```
<string-array name="my_keys">
    <item>@string/mytab_mymonitor</item>
    <item>@string/mytab_mymessaging</item>
    <item>@string/mytab_information</item>
</string-array> 
```

那么首先，如何使用适配器从字符串中填充列表视图？

我试过这个，但它使我的应用程序崩溃：

```
myKeys = getResources().getStringArray(R.array.my_keys);
        ListView mListView = (ListView) findViewById(R.id.lvMyList);

        mListView.setAdapter(new ArrayAdapter<String>(this, 
android.R.layout.simple_list_item_1, myKeys)); 
```

这里的第二个问题是，因为我将有 5 个选项卡进行大量数据处理，所以在“Tab.Listener”活动中包含所有内容是否正常，或者我可以在我的选项卡仍然存在的情况下以某种方式使用多个类/活动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:00:40.830

关键是使用带有 a`ViewPager`和`Fragment`s 的 Tabs。这样您就可以放置您需要的任何类型的内容（例如，您可以使用 a `ListFragment`）。

查看我在另一个答案中编写的[代码片段。](https://stackoverflow.com/a/12258287/1117415)

# python - 水平滚动条在 Tkinter 中不起作用

> ID：12388604
> 
> 赞同：3
> 
> 时间：2012-09-12T12:51:36.607
> 
> 标签：python, text, tkinter, scrollbar

我想创建一个基于 tkinter 的 GUI 程序。其中一个小部件是`Text`. 我想在其中添加一个水平滚动条，但它不起作用。

我在哪里做错了？

```
from Tkinter import *
import tkFont

class DpWin(object):

    def run(self):
        root=Tk()
        root.geometry('768x612')
        title='dp'
        root.title(title)

        xscrollbar = Scrollbar(root, orient=HORIZONTAL)
        xscrollbar.pack(side=BOTTOM, fill=X)

        yscrollbar = Scrollbar(root)
        yscrollbar.pack(side=RIGHT, fill=Y)

        text = Text(root,xscrollcommand=xscrollbar.set,yscrollcommand=yscrollbar.set)
        text.pack()

        xscrollbar.config(command=text.xview)
        yscrollbar.config(command=text.yview)
        text.insert(END,'a'*999)
        mainloop()

    def start(self):
        self.b_start.config(state=DISABLED)
        self.b_stop.config(state=ACTIVE)

    def stop(self):
        self.b_stop.config(state=DISABLED)
        self.b_start.config(state=ACTIVE)

if __name__=='__main__':
    win=DpWin()
    win.run() 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T13:08:13.767

我已根据[此处](http://effbot.org/zone/tkinter-scrollbar-patterns.htm)修改了您的代码。有两个主要区别。

1.  我做到了，所以文本框不会换行。如果您换行，水平滚动条将无法滚动到任何内容。

2.  我在框架上使用网格几何管理器将滚动条和文本小部件保持在一起。使用的好处`.grid`是你实际上得到了正确宽度/高度的滚动条（这是你无法实现的`pack`）。

...

```
from Tkinter import *
import tkFont

class DpWin(object):
    def run(self):
        root=Tk()
        root.geometry('768x612')
        title='dp'
        root.title(title)

        f = Frame(root)
        f.pack()

        xscrollbar = Scrollbar(f, orient=HORIZONTAL)
        xscrollbar.grid(row=1, column=0, sticky=N+S+E+W)

        yscrollbar = Scrollbar(f)
        yscrollbar.grid(row=0, column=1, sticky=N+S+E+W)

        text = Text(f, wrap=NONE,
                    xscrollcommand=xscrollbar.set,
                    yscrollcommand=yscrollbar.set)
        text.grid(row=0, column=0)

        xscrollbar.config(command=text.xview)
        yscrollbar.config(command=text.yview)
        text.insert(END, 'a'*999)
        mainloop()

    def start(self):
        self.b_start.config(state=DISABLED)
        self.b_stop.config(state=ACTIVE)

    def stop(self):
        self.b_stop.config(state=DISABLED)
        self.b_start.config(state=ACTIVE)

if __name__=='__main__':
    win=DpWin()
    win.run() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-24T05:06:57.283

关于使 x 和 y 滚动条在 pack 框架内工作的一条评论。这是一个最小的例子：

```
import tkinter as tk
from tkinter import X, Y, BOTTOM, RIGHT, LEFT, Y, HORIZONTAL
class TextExample(tk.Frame):
    def __init__(self, master=None):
        super().__init__()

        sy = tk.Scrollbar(self)
        sx = tk.Scrollbar(self,  orient=HORIZONTAL)
        editor = tk.Text(self, height=500, width=300, wrap='none')
        sx.pack(side=BOTTOM, fill=X)
        sy.pack(side=RIGHT, fill=Y)
        editor.pack(side=LEFT, fill=Y)
        sy.config(command=editor.yview)
        sx.config(command=editor.xview)
        self.pack()
def main():
    root = tk.Tk()
    root.geometry("800x500+0+0")
    app = TextExample(master=root)
    root.mainloop()  
if __name__ == '__main__':
    main() 
```

# ruby - 用于 ruby 的 Selenium WebDriver 因“重定向过多”而失败

> ID：12388612
> 
> 赞同：0
> 
> 时间：2012-09-12T12:51:53.767
> 
> 标签：ruby, selenium, webdriver, testunit

我有一个测试登录表单的简单测试用例。由于某种原因，webdriver 拒绝运行测试并返回“重定向过多”消息。该页面只是一个普通的登录屏幕，非常简单，没有任何重定向。从服务器访问页面似乎没问题。

我在 centos 服务器上使用 selenium-webdriver-2.25.0。

错误信息下方：

```
(...)

[WARNING] MultiJson is using the default adapter (ok_json). We recommend loading a different JSON library to improve performance.
EE
Finished in 0.206445 seconds.

1) Error: test_login(Login):
Selenium::WebDriver::Error::WebDriverError: too many redirects
/usr/lib/ruby/gems/1.8/gems/selenium-webdriver-2.25.0/lib/selenium/webdriver/remote/http/default.rb:62:in `request'
/usr/lib/ruby/gems/1.8/gems/selenium-webdriver-2.25.0/lib/selenium/webdriver/remote/http/default.rb:63:in `request'
/usr/lib/ruby/gems/1.8/gems/selenium-webdriver-2.25.0/lib/selenium/webdriver/remote/http/common.rb:40:in `call'

(...) 
```

我的代码：

```
require "rubygems"
require "selenium-webdriver"
require "test/unit"

class Login < Test::Unit::TestCase

  def setup
    @driver =Selenium::WebDriver.for(:remote, :url => "http://selenium.server.com/wd/hub")
    @base_url = "http://www.myservice.com"
    @driver.manage.timeouts.implicit_wait = 30
    @verification_errors = []
  end

  def teardown
    @driver.quit
    assert_equal [], @verification_errors
  end

  def test_login
    @driver.get(@base_url + "/login/")
    @driver.find_element(:id, "username").clear
    @driver.find_element(:id, "username").send_keys "user@server"
    @driver.find_element(:id, "password").clear
    @driver.find_element(:id, "password").send_keys "mykeys!"
    @driver.find_element(:xpath, "//input[@value='Login']").click
    verify { assert element_present?(:link, "Logout") }
    verify { assert element_present?(:link, "Settings") }
    verify { assert element_present?(:link, "Products") }
  end

  def element_present?(how, what)
    @driver.find_element(how, what)
    true
  rescue Selenium::WebDriver::Error::NoSuchElementError
    false
  end

  def verify(&blk)
    yield
  rescue Test::Unit::AssertionFailedError => ex
    @verificatiohttp://jenkins.dev.emesa-auctions.com/cms/n_errors << ex
  end
end 
```

# 更新

似乎无论我为“基本网址”使用什么网址，错误都会不断发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:07:34.363

我自己设法解决了这个问题。问题是我通过其面向公众的 url (selenium.server.com) 而不是通过内部 lan url（绕过防火墙）访问服务器。

改变它解决了这个问题。

# c# - 确保参数是可序列化的？

> ID：12388613
> 
> 赞同：9
> 
> 时间：2012-09-12T12:51:57.760
> 
> 标签：c#, serialization

好的，让我看看我是否可以尽可能简洁。我将传入`object`一个未知类型的方法，该方法将在内部使用`BinaryFormatter`来序列化它传递的数据（我选择这个是因为我不知道数据是什么，所以它是我能想象的最抽象的机制）。让我们假设该方法**目前**看起来像这样：

```
public void ProvideData(Guid providerKey, ISerializable data, string dataType)... 
```

现在让我们假设我需要确保传递给我的内容实际上可以被序列化，这就是为什么***我认为***我需要对象来实现`ISerializable`. 然而，这个模型的一个问题是我什至不能传入 a`string`因为即使 a `string`is`[Serializable]`它没有实现`ISerializable`.

那么，构建此方法以确保传递给我的值（简单或复杂）可序列化的正确方法是什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-12T13:00:09.333

您可以使用[.](http://msdn.microsoft.com/en-us/library/system.type.isserializable.aspx)`Type`

例如：

```
bool canSerialize = myParameter.GetType().IsSerializable; 
```

## 由 OP 编辑​​：最终实现的方法

由于这个答案（非常好的答案），下面是最终的实现。它只是一个原型，所以这就是为什么该方法没有发生太多事情，但它证明了答案。需要注意的一件事是，检查`ISerializable`接口是否存在没有任何价值，因为在您尝试序列化对象之前，您不会知道它是否**应该已经**实现`ISerializable`，所以我在那里走错了路。

谢谢！

```
public void ProvideData(Guid providerKey, object data, string dataType)
{
    if (!data.GetType().IsSerializable)
    {
        throw new ArgumentException("The data passed is not serializable and therefore is not valid.", "data");
    }

    var formatter = new BinaryFormatter();
    using (var fileStream = new FileStream("data.dat", FileMode.Create))
    {
        formatter.Serialize(fileStream, data);
        fileStream.Close();
    }
} 
```

# c - 具有可选格式字符串参数和 GCC 格式类型检查的类 Printf 函数

> ID：12388614
> 
> 赞同：2
> 
> 时间：2012-09-12T12:51:58.320
> 
> 标签：c, gcc, printf

我创建了一个`printf`-like 函数，它采用以下参数：

*   一个强制参数（自定义错误代码）
*   **可选格式字符串**
*   格式参数的可变计数

函数原型如下所示：

```
int my_printf(int err_code, ...); 
```

`err_code`还包括是否给出了格式字符串（和可能的格式标签）的信息。

如果给出了它们，我可以使用该`va_arg`函数提取格式字符串并将其`vfprintf`与其余参数一起传递。

调用看起来像：

```
my_printf(-ERR_SIMPLE);
my_printf(-ERR_COMPLICATED, "Error: problem with %d", 123); 
```

不幸的是，我无法使用 GCC 属性进行格式类型检查，因为它需要`string-index`：

> 格式（原型、字符串索引、首先检查）

仍然可以进行类型检查吗？使用辅助宏、辅助函数、修改可选格式字符串部分等的解决方案是可以接受的。

**更新：** 我不确定是否可以将修改后的函数传递`va_list`给`vfprintf`-like 函数。看评论。如果可能的话，最好避免这种情况并使用宏或其他东西作为可选的格式字符串部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:47:01.267

（对不起，我没有看到你尝试过*。*`__attribute__`我的错）。

您可以尝试按照此处描述的“参数计数”进行试验：

[http://locklessinc.com/articles/overloading/](http://locklessinc.com/articles/overloading/)

我不知道这是否会导致 GCC 有选择地应用参数检查；但我认为应该。

**更新**它似乎正在工作，并添加了`#define`hack：

```
#include <stdio.h>

int printf_1(int err)
{
        printf("Got error %d\n", err);
        return 0;
}

int printf_2(int error, char *string)
{
        printf("Error %d and message %s\n", error, string);
        return 0;
}

int printf_3(int error, char *fmt, ...) __attribute__ ((format (printf, 2, 3)));

int printf_3(int error, char *fmt, ...)
{
        printf("Received full string err=%d, fmt=%s\n", error, fmt);
        return 0;
}

#define printf_4        printf_3
#define printf_5        printf_3
#define printf_6        printf_3
#define printf_7        printf_3
#define printf_8        printf_3
#define printf_9        printf_3
#define printf_10       printf_3

#define COUNT_PARMS2(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _, ...) _
#define COUNT_PARMS(...)\
        COUNT_PARMS2(__VA_ARGS__, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)

#define CAT(A, B) CAT2(A, B)
#define CAT2(A, B) A ## B

#define myprintf(...)\
        CAT(printf_, COUNT_PARMS(__VA_ARGS__))(__VA_ARGS__)

int main()
{
        myprintf(19);
        myprintf(19, "Hello");
        myprintf(19, "Hello '%s'", "world");
        // Warning!
        myprintf(19, "Hello '%s'", "world", 42);
        myprintf(19, 42);
        return 0;
} 
```

我正确收到（gcc 4.6.2）：

```
$ gcc -W -Wall -o test test.c

test.c: In function ‘main’:
test.c:48:2: warning: too many arguments for format [-Wformat-extra-args]
test.c:49:2: warning: passing argument 2 of ‘printf_2’ makes pointer from integer without a cast [enabled by default]
test.c:9:5: note: expected ‘char *’ but argument is of type ‘int’ 
```

# ios - 如何填充工作线程的命令缓冲区（iOS 线程）

> ID：12388616
> 
> 赞同：0
> 
> 时间：2012-09-12T12:52:02.120
> 
> 标签：ios, multithreading

我正在查看 RunLoop iOS[文档](https://developer.apple.com/library/archive/#documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW3)，它讨论了此处说明的想法：（ [来源：][[apple.com](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Multithreading/Art/custominputsource.jpg)][）][![这个](../Images/f4aaa82d1590f71afd79f10943813609.png)](https://i.stack.imgur.com/nt7Lm.jpg)

在 RunLoopSource 中，它为客户端线程（即上图中的主线程）提供了以下接口，以用命令和数据填充音频缓冲区，并随后触发所述缓冲区中可用的所有命令：

```
// Client interface for registering commands to process
- (void)addCommand:(NSInteger)command withData:(id)data
- (void)fireAllCommandsOnRunLoop:(CFRunLoopRef)runloop 
```

在 add command 方法中，我们只是将命令添加到 NSMutableArray 数据结构中。

我的问题是我们如何将这些命令封装在变量中，使它们成为方法.. *addCommand*方法中的*数据*变量是*id*类型.. 例如，我们可以在其中放置一个块吗？这里有什么最佳实践/示例代码等吗？谢谢。

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:01:14.277

这种技术早于块。使用具有并发性的块的好处在于，您可以在系统上投入尽可能多的工作，并且鉴于其整个设备范围可以在它认为合适的情况下安排在多个内核和线程上工作。您还可以使用并发 NSOperation 并让它实现一个 fifo 来接受工作并处理它，但在这种情况下，只有辅助线程，并且它将再次被安排运行时间，因为系统认为适合给它，所以没有块的优势。**

# java - 使用 Spring jdbc 执行 Oracle 函数

> ID：12388626
> 
> 赞同：3
> 
> 时间：2012-09-12T12:52:40.350
> 
> 标签：java, oracle, spring, sql-function

我正在尝试使用 Spring jdbc 执行 Oracle 功能。

但我得到以下错误

```
CallableStatementCallback; bad SQL grammar [{? = call RATELIMIT_OWN.GET_LOGS(?, ?)}]; nested exception is java.sql.SQLException: ORA-06550: line 1, column 24: PLS-00653: aggregate/table functions are not allowed in PL/SQL scope ORA-06550: line 1, column 13: PLS-00382: expression is of wrong type ORA-06550: line 1, column 7: PL/SQL: Statement ignored 
```

Sql 函数

```
CREATE OR REPLACE FUNCTION RATELIMIT_OWN.Get_Logs ( p_yyyymm VARCHAR2, p_numec NUMBER )
    RETURN LOG_RECORD_TABLE PIPELINED IS

TYPE        ref0 IS REF CURSOR;
cur0        ref0;

out_rec     LOG_RECORD := log_record(NULL,NULL,NULL);

BEGIN

OPEN cur0 FOR
  'SELECT eventid, errormsg, create_date from logs partition (LOGS_P' || p_yyyymm || ') where numec=:1'
USING p_numec;

  LOOP
   FETCH cur0 INTO out_rec.eventid, out_rec.msg, out_rec.create_date;
   EXIT WHEN cur0%NOTFOUND;
   PIPE ROW(out_rec);
  END LOOP;
  CLOSE cur0;

RETURN;
END Get_Logs;
/ 
```

Java 代码

```
public int getLogs(RateLimitLogBean inputBean) {
    SimpleJdbcCall caller = new SimpleJdbcCall(this.jdbcTemplateMartinique).withSchemaName("RATELIMIT_OWN").withFunctionName("Get_Logs").withReturnValue()
            .declareParameters(new SqlOutParameter("EVENTID", Types.VARCHAR))
            .declareParameters(new SqlOutParameter("MSG", Types.VARCHAR))
            .declareParameters(new SqlOutParameter("CREATE_DATE", Types.DATE))
            .declareParameters(new SqlParameter("P_YYYYMM", Types.VARCHAR))
            .declareParameters(new SqlParameter("P_NUMEC", Types.INTEGER));
    RateLimitLogBean resultBean = null;

    SqlParameterSource paramMap = new MapSqlParameterSource().addValue(P_YYYYMM, inputBean.getMonth(), Types.VARCHAR).addValue(P_NUMEC, inputBean.getNumec(), Types.INTEGER);
    caller.compile();

    Object obj = caller.execute(paramMap);
    resultBean = caller.executeFunction(RateLimitLogBean.class, paramMap);
    if (resultBean != null) {
        transferBeanData(resultBean, inputBean);
        return 0;
    }
    return -1;
} 
```

知道为什么我会收到此错误吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T13:27:35.633

您不能直接从以下位置调用流水线函数`PL/SQL`：

```
SQL> CREATE OR REPLACE TYPE typ IS TABLE OF NUMBER;
  2  /

Type created.

SQL> CREATE OR REPLACE FUNCTION f RETURN typ PIPELINED IS
  2  BEGIN
  3     PIPE ROW (1);
  4     RETURN;
  5  END;
  6  /

Function created.

SQL> DECLARE
  2     l typ;
  3  BEGIN
  4     l := f;
  5  END;
  6  /
   l typ;
 *
ERROR at line 2:
ORA-06550: line 1, column 10:
PLS-00653: aggregate/table functions are not allowed in PL/SQL scope 
```

您需要`SQL`调用流水线函数：

```
SQL> SELECT * FROM TABLE(f);

COLUMN_VALUE
------------
           1 
```

要从 java 调用此函数，请使用游标。

# c++ - 取消引用时的不一致返回空的 shared_ptr

> ID：12388627
> 
> 赞同：3
> 
> 时间：2012-09-12T12:52:42.767
> 
> 标签：c++, null, return-value, shared-ptr, dereference

我最近在使用返回的空 shared_ptr 时注意到一些奇怪的行为。为了说明这个问题，考虑这个例子：

```
 struct A {
      A() { }
      void foo() {
        std::cout << "A::foo" << std::endl;
      }
    };

    struct B {
      B() :i(42) { }
      void foo() {
        std::cout << "B:foo with i: " << i << std::endl;
      }

      int i;
    };

    template<typename T>
    std::shared_ptr<T> create_empty() {
      return std::shared_ptr<T>(); 
    } 
```

然后调用：

```
 std::shared_ptr<A> pa(create_empty<A>());
    pa->foo(); // #1: Works fine and prints: "A::foo".

    std::shared_ptr<B> pb(create_empty<B>());
    pb->foo(); // #2: Throws an exception. 
```

现在我的问题是为什么调用 #1 有效（我也希望得到一个异常），如果这是正确的行为，如何防止 #1 工作。我应该检查返回值是否为空吗？还有其他方法可以返回 null 或空 shared_ptr 吗？如果这很重要，我正在使用 MSVC++ 11...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T12:58:17.240

两种情况下的代码都取消引用空指针。行为是未定义的，所以任何事情都可能发生，包括看似有意义的事情。不要试图理解它们。未定义就是未定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T12:59:37.567

这些示例都没有真正起作用，因为它们使用的是空指针。

在第一种情况下，您实际上没有从 A 访问任何内容，因此您可能不会注意到。在第二种情况下，访问`i`成员很可能必须取消引用`this`指针（系统会注意到它为空）。

# c# - 由于程序集名称更改而无法访问类

> ID：12388634
> 
> 赞同：-2
> 
> 时间：2012-09-12T12:53:11.753
> 
> 标签：c#, namespaces, .net-assembly

我有几个项目的解决方案

起初，Assembly name = B, Default namespace = B 在源代码中，我定义了一些带有 Namespace BC 的类 No Compilation error

现在我将所有程序集名称从 B 更改为 A，默认命名空间保持为 B

然后我得到编译错误，据说是由于保护级别

对此有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:04:18.533

很可能您省略了类可见性标识符（您知道，所有这些`public`，`protected`等等`private`）。默认情况下，如果我没记错的话，如果你省略了类可见性声明，C# 会假定它是`internal`（[并且关于它有一个很好的问题](https://stackoverflow.com/questions/3763612/default-visibility-for-c-sharp-classes-and-members-fields-methods-etc)），所以它对你的调用方法不可见。

最简单的方法是将这些类显式标记为公共，例如

```
public class YOURCLASSNAME {
     //other stuff you have
} 
```

但是您应该考虑在您的情况下公开课程是否有意义。封装 OOP 原则（在某种程度上）意味着您必须避免声明一切`public`。

无论如何，一些代码示例可以使这个问题成为一个可以回答的*问题*。现在只是猜测和心理调试。

# mysql - 从 page_title 映射到 old_text 内容

> ID：12388635
> 
> 赞同：4
> 
> 时间：2012-09-12T12:53:14.263
> 
> 标签：mysql, mediawiki

我尝试使用 SQL 查询访问 WikiMedia 数据库以获取文章页面的内容。`('old_text', from the 'text' table)`通过搜索它的 page_title `(from the 'page' table)`。不幸的是，我看不到 page_id 之间的映射`(from the page table) an the old_id (from the 'text' table)`。
那么，如何使用给定的页面标题从带有 sql 查询的文章中获取文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:30:54.010

[该`text`表](http://www.mediawiki.org/wiki/Manual:Text_table)的文档说：

> **old_id**
> 
> 修订表中的 revision.rev_text_id 是该列的键。

因此，要获取某个修订版的文本，您需要知道您想要的修订版的 id。如果您只想要页面的最新版本，则其 id 存储在[`page_latest`](http://www.mediawiki.org/wiki/Manual:Page_table#page_latest).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T14:57:17.780

为了补充 svick 的回答，这里有一个实际的示例 SQL 查询：

```
SELECT old_text, old_flags
FROM page
  JOIN revision ON rev_id = page_latest
  JOIN text ON old_id = rev_text_id
WHERE page_title = 'Main_Page' AND page_namespace = 0; 
```

（请注意，您也需要该`old_flags`字段来理解 . 的内容`old_text`。至少，您应该检查 flags 字段是否包含您期望它具有的值。）

# eclipse - 使用 VJET 进行 Eclipse Javascript 开发

> ID：12388643
> 
> 赞同：1
> 
> 时间：2012-09-12T12:53:32.657
> 
> 标签：eclipse, nodes, vjet

将 Eclipse Juno 与 VJet 一起使用

您可以自己从 javascripts 创建 typelib 吗？

我知道您可以从以下网址下载 jquery 和其他一些：[http ://www.ebayopensource.org/p2/vjet/typelib/](http://www.ebayopensource.org/p2/vjet/typelib/)

但显然你会需要其他人。

问候克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T19:24:51.577

是的，类型库只是使用 VJETDoc 和 VJOJS 定义类型的 JavaScript 文件

使用 vjo.otype 函数的对象字面量 函数定义 vjo.otype 函数具有附加属性 使用 vjo.ftype 类的方法 使用 vjo.ctype 全局变量，可以使用 .globals 部分定义。和更多...

很多类型库都位于这个github地址下

[https://github.com/ebayopensource/vjet-typelib](https://github.com/ebayopensource/vjet-typelib)

有关 VJETDoc[1] 和 VJOJS[2] 和类型库教程[3] 的更多信息

[1]http://www.ebayopensource.org/wiki/display/VJET/VJETDoc+Quick+参考 [2]http://www.ebayopensource.org/wiki/display/VJET/Semantic+Comparison+-+Java+ and+VJET+VJO [3]http://www.ebayopensource.org/wiki/display/VJET/VJET+Type+lib+Tutorial+-+part+1

# jquery - 使用 globalize 插件的 Jquery 数据选择器本地化

> ID：12388644
> 
> 赞同：4
> 
> 时间：2012-09-12T12:53:34.020
> 
> 标签：jquery, localization, globalization, jquery-ui-datepicker, javascript-globalize

是否可以使用 globalize 插件（[https://github.com/jquery/globalize](https://github.com/jquery/globalize)）本地化 jquery 数据选择器？

我试过这样

```
// get a date format 
var dt = Globalize.culture().calendar.patterns.d;
$('#dp1').datepicker({
    dateFormat : dt
}); 
```

但它不起作用，因为 datepicker 和 globalize 插件使用两种不同的格式。

我想要日期为月份 2 位，日期为 2 位，年份为 4 位，因此在 jquery 中，日期格式必须为“dd/mm/yy”。但是 globalize 使用不同的日期格式：en-Us -> M/d/yyyy it-IT -> dd/MM/yyyy

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-25T16:40:41.243

小型转换器：

```
Globalize.getPatternForDatapicker = function (pattern) {
    return this.culture().calendar.patterns[pattern || 'd'].toLowerCase().replace('yyyy', 'yy');
}; 
```

和

```
$('#dp1').datepicker({dateFormat : Globalize.getPatternForDatapicker()}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-31T18:49:41.570

在Globalize （当时称为 jQuery Globalize）的[早期，有专门](http://weblogs.asp.net/scottgu/archive/2010/06/10/jquery-globalization-plugin-from-microsoft.aspx)[的 Datepicker 补丁版本](http://www.scottgu.com/blogposts/jQueryGlobalizationDemos.zip)可用。
坦率地说，我认为它不再可用，但您可以尝试对当前版本应用相同的修改，问题就会得到解决。这可以通过许多类 Unix 系统（例如在 Windows 上通过 Cygwin）可用的 diff 命令来完成。

* * *

### 编辑：API

我认为至少值得一提的是，Datepicker 提供了丰富的[API](http://api.jqueryui.com/datepicker/)。
您可以使用来定制 Datepicker 的本地化。但是，当涉及到日期格式时，恐怕您将被迫使用一些替换来从年份字段中删除“过多”的 y。这是我不想做的事情，而是我会修补 Datepicker，如前所述，但是......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-20T12:19:18.860

我遇到了这两种格式差异的许多问题。最后 jQuery 人回复我，他们会使用 Globalize 格式。但是，当... :(

# java - 使用 java AWS S3 客户端 sdk 和云端 CDN 端点从 AWS S3 下载图像

> ID：12388645
> 
> 赞同：1
> 
> 时间：2012-09-12T12:53:35.403
> 
> 标签：java, sdk, amazon-s3, amazon-web-services, amazon-cloudfront

目前，我正在使用 AmazonS3Client 实例使用“密钥”和“存储桶名称”下载 S3 对象，如下所示。

```
object = s3Client.getObject(new GetObjectRequest(BucketDetails.getBucketDetails(), iconPath));
file  = new File(destinationPath);
reader = new BufferedInputStream( object.getObjectContent());        
writer = new BufferedOutputStream(new FileOutputStream(file));  
int read = -1;  
while ( ( read = reader.read() ) != -1 ) 
{     
      writer.write(read); 
}  
writer.flush(); 
writer.close();
reader.close(); 
```

默认情况下，这指向默认的 S3 端点。

我为我的 S3 访问创建了一个云端分发。

我可以将 AmazonS3Client 的端点设置为云前端分发以提高下载性能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:16:19.873

如果您有 Cloudfront 发行版，并且已将文件公开，则不需要任何类型的 AWS 客户端库来访问它。您可以使用您选择的文件检索机制来获取文件。

# javascript - xmlHttpRequest 通过 Google Chrome 扩展，简单的 POST 到 .php 页面

> ID：12388656
> 
> 赞同：1
> 
> 时间：2012-09-12T12:53:48.460
> 
> 标签：javascript, ajax, google-chrome, google-chrome-extension, xmlhttprequest

我花了几个小时试图弄清楚这一点。

我有一个记录一些数据的基本 Google Chrome 扩展程序，我希望通过 xmlHttpRequest 将数据发送到外部 php 页面（使用 POST）。

在我的权限页面（manifest.json）中，我有：

```
"permissions": [
    "tabs",
    "http://www.mywebsite.com/",
    "https://www.mywebsite.com/",
    "http://*/",
    "https://*/*"
], 
```

在我的内容脚本中，我有代码：

```
if (var1 && var2) {
    var xmlhttp = null;

    if (window.XMLHttpRequest) {
        xmlhttp = new XMLHttpRequest();
    } else {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }

    var url = "http://www.mywebsite.com/datalogger.php";
    var params = "var1="+var1+"var1="+var1;
    xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xmlhttp.open("POST", url, true);
    xmlhttp.send(params);
} 
```

但是（你猜对了！）我的代码不起作用。谁能弄清楚它有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T19:10:24.013

`http://www.mywebsite.com/`是只匹配域的根部分（即路径“ ”）的[匹配模式](http://developer.chrome.com/extensions/match_patterns.html)`/`。您应该改用`http://www.mywebsite.com/*`最后一颗星。您应该将该 final 应用于您的所有主机权限。

# blackberry - 在黑莓的 Twitter 上发布文本后，Twitter 回调 URL 会打开？

> ID：12388661
> 
> 赞同：0
> 
> 时间：2012-09-12T12:53:57.617
> 
> 标签：blackberry, twitter

我在我的应用程序中提供`google url`回调*url*。但是在将文本发布到我的页面后，我的应用程序会在前台打开该 Google 页面，这当然是应用程序中的一个错误。

我只需要在将文本控件发布到我的应用程序后返回。我正在使用此链接中的代码： [Twitter-is-Integrated-in-BlackBerry](http://supportforums.blackberry.com/t5/Java-Development/Twitter-is-Integrated-in-BlackBerry/m-p/1698157)

如果我不提供回调 URL，twitter 会在**登录**前要求输入 PIN NUMBER 。请建议我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:55:50.517

请按原样使用[TwitterAPIMe](http://kenai.com/projects/twitterapime/pages/Home#Functionalities)。它使用简单 无需基于 PIN 的身份验证，库会在您从 Twitter 登录后自动重定向到您的应用程序。您必须更改一些 API 的本机代码...

*   转到：com.twitterapime.xauth.ui。**OAuthDialogWrapper 类**
*   转到名为**trackUrl(String url)的方法**
*   现在替换代码：

> if (url.startsWith(callbackUrl)&& oauthListener != null) { .... ... .. }

和：

> if (url.indexOf(callbackUrl)!=-1 && oauthListener != null) { .... ... .. }

而已。**只需在onAuthorize**方法中获取 AccessToken并访问 Twitter API。大多数功能和方法都包含在这个 api 中。

# android - 如何使用 Sikuli 进行 Android 测试？

> ID：12388664
> 
> 赞同：3
> 
> 时间：2012-09-12T12:53:59.753
> 
> 标签：android, testing, sikuli

我正在使用 Sikuli 测试一个 Android 应用程序，但每次测试运行时的行为都不同：

*   测试在第一个命令处停止，没有找到第一个图像
*   仅找到一些图像，并且测试在未找到的特定图像处停止
*   找到所有图像并且测试成功运行

![这是示例测试及其运行时的行为之一。](../Images/79f806b63dcb3c4f0b727b652a681899.png)

Sikuli 在 Windows 7 上运行。有谁知道这是焦点问题还是其他问题以及如何解决？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T15:57:08.150

您可能还需要为屏幕上显示的浏览按钮添加延迟。你可以试试这样的

```
wait("Browse.png", 10 )  # Wait for up to 10s for the app to load 
```

您也可以尝试增加要匹配的图片的大小。尝试包括附近的文物。请记住，如果您的浏览按钮不是死点，您可以更改图片上的鼠标点击位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:11:28.257

也许您可以通过更改匹配级别来解决您的识别问题。来自四库里桂：

*   点击图片
*   在 Pattern Settings > Matching Preview 中，将 Similarity 栏拖到低于 1.0 的值（尝试不同的值）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T00:28:33.627

运行 Android 模拟器（对于任何东西）都是非常缓慢和随意的。

因此，使用 Android em 让 Sikuli 语句更“智能”是值得的，如下所示：

等待（browsebutton.png，20）

onAppear（browsebutton.png，点击（browsebutton.png））

看起来更忙，但它使脚本在等待按钮时“聪明”，然后在它出现时立即单击它（而不是如果它在五秒后出现，则等待二十秒）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T08:23:39.637

您可以使用 try/except 块尝试任何点击操作两次。有时视觉算法会失败。

# xslt - 如何使用 xslt 检查现有节点及其在 xml 文件中的包含，并通过 id 号区分节点

> ID：12388668
> 
> 赞同：0
> 
> 时间：2012-09-12T12:54:32.890
> 
> 标签：xslt, xslt-1.0

是否有可能检查 xml 文件中是否存在重复节点，然后检查该节点的包含，如果可能，使用 xslt 通过 ID 号区分两个节点？例如，我有这个 xml 文件

```
<Racine>
  <el1>
   <fils1>context1</fils1>
   <fils2>test1</fils2>
   <fils1>context1</fils1>
  </el1>
  <el2>
   <fils1>context2</fils1>
   <fils2>test2</fils2>
   <fils1>context2</fils1>
  </el2>
  <el3>...........<el3>
</Racine> 
```

例如，在这种情况下，节点“ **fils1 ”在节点“** **el1** ”中出现了两次，并且它们中的每一个的包含都是相同的。在这种情况下，我需要转换我的 xml 文件，以便该节点变为

```
<fils1 id=1>context1</fils1>. 
```

我自动添加一个 ID 号来区分具有相同名称和相同包含的两个节点。并且当节点具有不同的包含相同的名称时（也必须将节点的包含中的空格视为差异），然后让节点保持原样。如何使用 XSLT 使这成为可能？这里有人可以帮我改变吗？非常感谢你的帮助。
弗兰奇

谢谢你的发言。这是预期的输出：

```
<Racine>
  <el1>
   <fils1 id=1>context1</fils1>
   <fils2>test1</fils2>
   <fils1 id=2>context1</fils1>
  </el1>
  <el2>
   <fils1 id=1>context2</fils1>
   <fils2>test2</fils2>
   <fils1 id=2>context2</fils1>
  </el2>
  <el3>...........
   <fils1 id=3>context1</fils1>
  <el3>
</Racine> 
```

将“ **el1** ”和“ **el2** ”中的节点“ **fils2** ”连接起来，包含不同，然后我想让它们保持不变，如果不改变，我想添加一个 id 号来产生差异。

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:41:25.777

这个 XSLT 1.0 样式表...

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
<xsl:strip-space elements="*" />

<xsl:key name="kCommon" match="*[starts-with(name(),'fils')]"
                        use="concat(name(),'|',.)" />

<xsl:template match="@*|node()">
  <xsl:copy>
    <xsl:apply-templates select="@*|node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="*[starts-with(name(),'fils')]
                      [count(key('kCommon',concat(name(),'|',.))) >= 2]">
  <xsl:copy>
    <xsl:apply-templates select="@*"/>
    <xsl:variable name="this-key" select="concat(name(),'|',.)" />
    <xsl:attribute name="id"><xsl:value-of select="
      count(preceding::*
             [starts-with(name(),'fils')]
             [count(.|key('kCommon',$this-key)) =
              count(  key('kCommon',$this-key))    ]
            ) + 1" /></xsl:attribute>
    <xsl:apply-templates select="node()"/>
  </xsl:copy>
</xsl:template>  

</xsl:stylesheet> 
```

...将转换此输入...

```
<Racine>
  <el1>
   <fils1>context1</fils1>
   <fils2>test1</fils2>
   <fils1>context1</fils1>
  </el1>
  <el2>
   <fils1>context2</fils1>
   <fils2>test2</fils2>
   <fils1>context2</fils1>
  </el2>
  <el3>
   <fils1>context1</fils1>
  </el3>
</Racine> 
```

...进入...

```
<Racine>
  <el1>
    <fils1 id="1">context1</fils1>
    <fils2>test1</fils2>
    <fils1 id="2">context1</fils1>
  </el1>
  <el2>
    <fils1 id="1">context2</fils1>
    <fils2>test2</fils2>
    <fils1 id="2">context2</fils1>
  </el2>
  <el3>
    <fils1 id="3">context1</fils1>
  </el3>
</Racine> 
```

## 解释

我们为具有通用名称和通用文本内容的 fils 元素构建一个键 ('kCommon')。我们寻找在他们的键组中至少有两个成员的元素——换句话说，filX 类型的元素具有与至少一个其他 filX 元素相同的名称和文本。这是我们的最后一个模板。

对于每个这样的公共元素，我们构建了两个集合：

1.  公共组中所有前面的 fil 元素的集合。这一套是由...

    ### 设置 1

    ```
    preceding::*[starts-with(name(),'fils')] 
    ```

2.  而这个节点的通用名+内容组，也就是……

    ### 设置 2

    ```
    key('kCommon',concat(name(),'|',.)) 
    ```

    但是因为我们将引用 concat(name(),'|',.) quiet 几次，并且在我们无法直接访问此上下文节点的地方，我们只需计算 concat() 并替换为 Set 2像这样。Set 2 现在可以快速计算。

    ### 设置 2

    ```
    key('kCommon',$this-key) 
    ```

3.  然后我们使用[Kaysian 方法](http://sources.redhat.com/ml/xsl-list/2000-08/msg00355.html)取一个集合交集。

    ```
     $set1[count(.|$set2)=count($set2)] 
    ```

4.  这个交集是所有志同道合的元素的集合。我们只是将它们数起来并加一个，这为我们提供了 id 属性的序数。****

# ruby-on-rails - 如何让一行以 | 结尾 （管道）在 HAML 中？

> ID：12388672
> 
> 赞同：5
> 
> 时间：2012-09-12T12:54:43.543
> 
> 标签：ruby-on-rails, ruby, haml

问题是`|`行尾的 a（由空格分隔）被识别为高级换行符的语法。如果你想得到这个字符作为输出怎么办？

## 例子

假设您要创建一个菜单，例如

```
Section 1 | Section 2 | ... 
```

*注意：如果这正是您想要的，请查看* [concatenate link_to 与 pipe](https://stackoverflow.com/questions/8639847/concatenate-link-to-with-pipe)。

是否显示链接取决于特定条件。在HAML/Ruby on Rails 中，这可能看起来**不起作用**

```
%div.menu
    -if condition1?
        #{link_to 'Section 1', section_1_path} |
    -if condition2?
        #{link_to 'Section 2', section_2_path} |
    -if condition3?
        ... 
```

## 解决方法

作为一种（有点脏的）变通方法，我更改了代码：

```
%div.menu
    -if condition1?
        #{link_to 'Section 1', section_1_path} #{'|'}
    -if condition2?
        #{link_to 'Section 2', section_2_path} #{'|'}
    -if condition3?
        ... 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-12T13:41:00.313

无需转义，只需与您要分离的元素相同的缩进即可。

```
%div.menu
  -if condition1?
    #{link_to 'Section 1', section_1_path} 
    |
  -if condition2?
    #{link_to 'Section 2', section_2_path} 
    |
  -if condition3?
      ... 
```

您可以在浏览器中尝试： [在线 haml 编辑器：rendera](http://rendera.heroku.com/examples/haml) 或 [html2haml](http://html2haml.heroku.com)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-13T14:55:04.767

Haml 解析器查找*前面有空格的字符*`|`来表示多行块。您可以使用它来创建解决方法，方法是使用 HTML 字符引用而不是 Haml 中的普通空格：

 *```
%div.menu
  -if condition1?
    #{link_to 'Section 1', section_1_path}&#x20;|
  -if condition2?
    #{link_to 'Section 2', section_2_path}&#x20;|
  -if condition3?
    ... 
```

这样，Haml 将看不到空格，因此会将管道视为文字，但空格会出现在浏览器中。

您是否更喜欢这种解决方法而不是您自己的方法可能是一个品味问题。在这种特殊情况下，我认为基于 css 的解决方案会更好，但这取决于您需要支持的浏览器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T12:59:05.230

菜单应该是一个列表，所以让它成为一个无序列表并在 CSS 中：

```
.menu ul li:after {
  content: '|';
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T12:56:57.227

我认为你需要逃避这个角色。试试“\|”。*

# osgi - 基本 Apache Camel FileRoute 部署为 OSGi 包

> ID：12388679
> 
> 赞同：0
> 
> 时间：2012-09-12T12:55:00.020
> 
> 标签：osgi, apache-camel

我正在尝试使用 Apache Camel 做一些“hello world”示例。只是一个简单的路由，作为 OSGi 包部署到 Apache Karaf。而且很疯狂，一次要学的东西太多了，Camel 本身，与 spring 的集成，与 OSGi 和 Karaf 的集成……呃。

我试图从这里遵循这个想法：[http](http://www.andrejkoelewijn.com/wp/2008/10/19/simple-camel-dsl-osgi-bundle-example/) ://www.andrejkoelewijn.com/wp/2008/10/19/simple-camel-dsl-osgi-bundle-example/ 。

我已经创建了包、带有 FileRoute.java 文件的包等，但我无法生成有效的 manifest.mf 文件，它是由“bundle plugin for maven”生成的 - 所以 POM 文件用于生成清单文件.

清单文件中有什么问题，与导入包一致：

```
Import-Package: com.company.foo.bar.demo;version="0.1",org.apache.ca
 mel.builder;version="2.10",org.apache.camel.model;version="2.10",org.
 apache.commons.logging 
```

出现错误：“没有可用的捆绑导出包 'org.apache.camel.builder'”（和 .model 包）。

好吧，我知道问题出在哪里，但是……如何为捆绑包公开这些包？

接下来我有另一个带有 Apache Camel 上下文的包，所以我认为好主意是通过“导出包”从那里公开包，但它不起作用，然后无法构建骆驼包。

我很迷茫:(我非常感谢帮助或提示。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T15:17:33.327

如果您使用 Apache Camel 2.10 或更高版本，那么 Maven 原型是开始新 Camel 项目的好地方。我们有可以为 spring-dm 或 OSGi 蓝图创建基于 OSGi 的项目的原型。您选择了要使用的那个。然后该项目为 OSGi 做好了准备，因为它设置了一个为您生成所需 osgi 内容的 maven 插件。只有在更高级的情况下，您才需要调整此插件。

详见：[http ://camel.apache.org/camel-maven-archetypes.html](http://camel.apache.org/camel-maven-archetypes.html)

如果您使用 Maven 3.0.x，那么它会容易得多，因为您只需键入

```
mvn archetype:generate 
```

然后它以交互模式运行，然后键入 camel 以仅过滤骆驼原型。

然后选择原型的编号。例如，spring-dm 将 OSGi 与 Spring 一起使用。

# java - 尝试运行 Grails 时出现 Java 异常

> ID：12388685
> 
> 赞同：5
> 
> 时间：2012-09-12T12:55:22.530
> 
> 标签：java, grails, windows-7

全部 - 我刚刚在我的 Win7 64 位机器上下载了最新的 grails (2.1.0) 和 JDK (1.7.0_07) 并将我的机器配置如下：

1.) 为 Java 和 Grails 添加了环境变量
2.) 根据需要更新 PATH 3.) 通过执行和
验证所有内容是否正确安装`java -version``grails -version`

该`java -version`命令有效，并显示以下内容：

```
java version "1.7.0_07"
Java(TM) SE Runtime Environment (build 1.7.0_07-b10)
Java HotSpot(TM) 64-Bit Server VM (build 23.3-b01, mixed mode) 
```

但该`grails -version`命令产生以下错误：

```
Exception: java.lang.RuntimeException thrown from the UncaughtExceptionHandler in thread “main” 
```

我尝试通过完全卸载所有 Java 进行调试，然后重新安装，但出现同样的错误。我确认我安装了 64 位版本的 Java。

可以在[此网站](http://www.grailsexample.net/installing-a-grails-development-environment-on-windows/#comment-5225)上找到有关该错误的更多信息（Mike [所有者] 将我引导至 Stackoverflow 以获得更多帮助）。

任何想法是为什么会发生这种情况？我该怎么做才能让 Grails 正常工作？在此先感谢您的帮助。

-汤姆

**从 Vector 的评论中**编辑 1 ：****

 **所有变量均已正确设置并在此处显示：

```
GRAILS_HOME = C:\grails\grails-2.1.0 
JAVA_HOME = C:\Program Files\Java\jdk1.7.0_07 
Path = [lots of other stuff];%JAVA_HOME%\bin;%GRAILS_HOME%\bin; 
```

**编辑 2**修复了问题声明顶部的 java 版本号（版本为 1.7.0_07），每个 @crudolf

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T01:06:52.653

在 Windows 7 上尝试从 Grails 2.1.0 升级到 Grails 2.2.1 后，我遇到了这个错误。

我只需要删除Grails 2.1.0 创建的和剩余的文件夹`C:\User\%USERNAME%\.grails`。`C:\User\%USERNAME%\.groovy`

看起来 Grails 正在加载一些剩余的缓存 JAR 或配置文件，`.grails`而`.groovy`不是`%GRAILS_HOME%`.

这花了几个小时，但我吸取了教训——在运行新版本的 Grails 之前删除“.grails”和“.groovy”！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T21:19:55.587

回答：您应确保您的框设置为 Administrator 。. . *人们欢欣鼓舞*。

显然，Grails 想要写入 C:\Users\Administrator.grails 和 C:\Users\Administrator.groovy。即使我在我的机器上拥有管理员权限（因为我成功安装了 Java），我显然需要**单击进入管理员文件夹**才能写入我想使用 JDK 的首选项。

一切都很好。感谢大家的帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-05T03:45:29.440

我在 Windows 8.1 Pro 上使用 Grails 2.4.0 和 2.2.4 时遇到了这个问题。我注意到如果我在管理员 cmd-shell 中运行 grails 命令，则不会出现问题。然后我检查了我的 Appdata\Local\Temp。事实证明，需要更改临时文件夹的安全设置。在我授予每个人对 Appdata\Local\Temp 文件夹的完全访问权限后，问题就解决了。但您可能需要经常检查安全设置，因为某些 Windows 应用程序会重置安全设置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-27T10:04:13.673

尝试删除`.grails_history`位于您的`%Home%`目录中的文件文件。这在 Windows 8.1 上对我有用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-03T07:08:38.140

我遇到了类似的问题，但在 Ubuntu 12.04 中。我通过删除 $GROOVY_HOME 环境变量来解决它。如果您还有 $GROOVY_HOME 变量，请尝试删除它。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-09-04T05:08:45.647

我遇到了同样的问题。我在 Windows 7 x86 上运行 grails-2.2.4 和 java-1.7.25。但它今天突然停止工作。我尝试删除 ~/.groovy 和 ~/.grails，但仍然从 UncaughtExceptionHandler 抛出 java.lang.RuntimeException。

最后，通过删除 ~/.m2 也解决了问题。

顺便说一句，在命令提示符中启动“grails”之前的“set DEBUG=1”将显示启动 Java.exe 的环境和参数。**

# c# - C# 在网格视图中使用返回的 Web 服务字符串作为 XML 数据源

> ID：12388686
> 
> 赞同：0
> 
> 时间：2012-09-12T12:55:23.997
> 
> 标签：c#, .net, xml, web-services, gridview

我不是.Net的真正专家，我正在尝试使用一个Java webService，它将XML代码作为字符串返回（因为我更容易返回字符串而不是返回XML）。

目前我`test.xml`在文件夹中使用 XML 文件 () `App_Data`，我的 gridview 工作如下：

```
<asp:GridView ID="GridView1" runat="server" CellPadding="4" 
            DataSourceID="XmlDataSource1" ForeColor="#333333" GridLines="None" 
            Width="547px">
            <AlternatingRowStyle BackColor="White" />
            <EditRowStyle BackColor="#2461BF" />
            <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
            <HeaderStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
            <RowStyle BackColor="#EFF3FB" />
            <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
            <SortedAscendingCellStyle BackColor="#F5F7FB" />
            <SortedAscendingHeaderStyle BackColor="#6D95E1" />
            <SortedDescendingCellStyle BackColor="#E9EBEF" />
            <SortedDescendingHeaderStyle BackColor="#4870BE" />
        </asp:GridView>
        <asp:XmlDataSource ID="XmlDataSource1" runat="server" 
            DataFile="~/App_Data/test.xml"></asp:XmlDataSource> 
```

**当我从 Web Service 中获取返回的 String 时，我需要做什么？**

1) 我应该**将字符串保存为 XML**吗？在这种情况下，如何将字符串保存在“ `App_Data`”文件夹中？

2）除了保存字符串之外，还有**其他解决方案吗？**

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T12:57:52.903

您需要设置数据源的数据属性

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.xmldatasource.data.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.xmldatasource.data.aspx)

我猜你还需要在你的 aspx 文件中删除静态设置的 DataFile 属性。

```
protected void Page_Load(object sender, EventArgs e)
{
    XmlDataSource1.Data = ResultOfMyWebService;
} 
```

# jquery - jquery获取无序列表中列表项的索引

> ID：12388687
> 
> 赞同：0
> 
> 时间：2012-09-12T12:55:27.070
> 
> 标签：jquery, html-lists, listitem

我有一些这样的标记：

```
<div id="columns">

    <ul id="column1" class="column">
        <li class="widget color-green" id="intro">
            <div class="widget-head">
                <h3>Introduction Widget</h3>
                <span class="spanColumnId"></span>
                <span class="spanColumnNumber"></span>
            </div>
            <div class="widget-content">
                <div align="center">
                    <asp:Chart ID="chtBarTest" runat="server" CssClass="imgOpa" Width="620px">
                        <Series>
                            <asp:Series Name="chBar" ChartType="Area" Palette="Fire" ChartArea="MainChartArea">
                            </asp:Series>
                        </Series>
                        <ChartAreas>
                            <asp:ChartArea Name="MainChartArea" Area3DStyle-Enable3D="true">
                            </asp:ChartArea>
                        </ChartAreas>
                    </asp:Chart>
                </div>
            </div>
        </li>
        <li class="widget color-red">  
            <div class="widget-head">
                <h3>Widget title</h3>
                <span class="spanColumnId"></span>
                <span class="spanColumnNumber"></span>
            </div>
            <div class="widget-content">
                <asp:Chart ID="chPieTickets" runat="server" Width="620px" CssClass="imgOpa">
                <Series>
                    <asp:Series Name="srTickets" ChartType="Pie" Palette="Pastel" ChartArea="PieChartArea">
                    </asp:Series>
                </Series>
                <ChartAreas>
                    <asp:ChartArea Name="PieChartArea" Area3DStyle-Enable3D="true">
                    </asp:ChartArea>
                </ChartAreas>
            </asp:Chart>
            </div>
        </li>
    </ul>

    <ul id="column2" class="column">
        <li class="widget color-blue">  
            <div class="widget-head">
                <h3>Widget title</h3>
                <span class="spanColumnId"></span>
                <span class="spanColumnNumber"></span>
            </div>
            <div class="widget-content">
                 <asp:Chart ID="chartUserActivity" runat="server" Width="620px" CssClass="imgOpa">
                <Series>
                    <asp:Series Name="stUserActivity" ChartType="Area" Palette="Pastel" ChartArea="UserActivityArea">
                    </asp:Series>
                </Series>
                <ChartAreas>
                    <asp:ChartArea Name="UserActivityArea" Area3DStyle-Enable3D="true">
                    </asp:ChartArea>
                </ChartAreas>
            </asp:Chart>
            </div>
        </li>
        <li class="widget color-yellow">  
            <div class="widget-head">
                <h3>Widget title</h3>
                <span class="spanColumnId"></span>
                <span class="spanColumnNumber"></span>
            </div>
            <div class="widget-content">
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aliquam magna sem, fringilla in, commodo a, rutrum ut, massa. Donec id nibh eu dui auctor tempor. Morbi laoreet eleifend dolor. Suspendisse pede odio, accumsan vitae, auctor non, suscipit at, ipsum. Cras varius sapien vel lectus.</p>
            </div>
        </li>
    </ul>
</div> 
```

这些列表项中的每一个最终都将填充一个图表控件作为仪表板。我正在尝试用列表中 li 项的索引填写“spanColumnNumber”，但我遇到了困难。这是我的 jQuery 标记

```
$(".column").each(function () {
       var id = $(this).attr("id");
       $(this).find(".spanColumnId").append($(this).attr("id"));
       $(this).find(".spanColumnNumber").append($("#"+id).index("li"));
}); 
```

这可以很好地让我获得 id，但是由于某种原因我无法获得索引，我已经尝试了所有可以想象的方式（在我的脑海中）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:04:19.527

很难准确地确定您想要什么（就像康斯坦丁所说，使用`.text()`代替`.append()`），但我认为这应该可以解决您的问题：

```
$(".column").each(function () {
      var id = $(this).attr("id");
      $(this).find(".spanColumnId").text($(this).attr("id"));      
      $(this).find(".spanColumnNumber").each(function() {
          $(this).text($(this).closest('li').index());
      });
});​ 
```

假设您希望列号是索引`li`而不是`ul`?

[http://jsfiddle.net/Yr3k7/1/](http://jsfiddle.net/Yr3k7/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:14:15.113

只是一个想法，你可以使用 .each 来获取每个索引，甚至让你的操作更容易理解。例如：

```
$(".column").each(function (i) {
    var cID = $(this).attr("id");
    $(this).children("li").each(function(ii) {
        $(this).find(".spanColumnId").text(cID)
            .next().text(ii); // where ii is the index count of each li within each ul
    });
}); 
```

# [jsFiddle](http://jsfiddle.net/SpYk3/G2PWL/)

# ida - IDA Pro 中的批量重命名函数

> ID：12388688
> 
> 赞同：1
> 
> 时间：2012-09-12T12:55:29.737
> 
> 标签：ida

我有一万个 {Address} - {Function Name} 对的列表，我用我写的工具转储了。现在我想重命名所有函数，例如 sub_123456 变为“FooBar”，因为列表是这样说的。

有什么办法吗？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-13T07:08:39.613

在这种情况下，我会在[Vim](http://www.vim.org)中加载列表，将列表更改为有两列，第一列是地址，第二列是所需的名称。像这样：

```
123456 FooBar
124584 BarFoo 
```

然后做`:%s/^\(\w\+\)\s\+\(\w\+\)/MakeName(0x\1, "\2");`，以这样的列表结束：

```
MakeName(0x123456, "FooBar");
MakeName(0x124584, "BarFoo"); 
```

`1G`然后使用和将整个 Vim 缓冲区复制到剪贴板`"*yG`。然后在 IDA 中键入`Shift-F2`以打开手动脚本编辑器，并使用 Cmd-V 或 Ctrl-V 进行粘贴。

# asp.net - 在哪里可以看到“上传图片”

> ID：12388689
> 
> 赞同：0
> 
> 时间：2012-09-12T12:55:29.970
> 
> 标签：asp.net, .net, ajax

我使用 IIS 7.5 在办公室的 Intranet 中发布 Web 应用程序。我在表单中使用了“异步文件上传”控件。在“用户”上传图片后，会显示成功消息，并且路径也存储在数据库中，并且“图片”已附加并按照我的 C# 代码通过电子邮件发送给“管理员”。一切正常，但在我的系统中的任何地方都看不到图像！我签入了我的项目文件夹，还检查了项目文件夹“C:\inetpub\wwwroot\contractor\Upload\Commerical certificate”的路径。任何人请帮助我在我的系统中获取图像。（当我在我的独立系统中使用该应用程序时，该图像可用）。

```
 protected void AFUCmpCertificate_UploadedComplete(
                object sender, AjaxControlToolkit.AsyncFileUploadEventArgs e)
   {
    try
    {
     if (AFU1.HasFile)
    {
      String fileExt = System.IO.Path.GetExtension(AFU1.FileName);
      if (fileExt == ".pdf" || fileExt == ".jpg" || fileExt == ".gif" 
      || fileExt == ".bmp" || fileExt == ".jpeg" || fileExt == ".png" || fileExt == ".tif")
     {
      if (AFU1.PostedFile.ContentLength < 2048000)
      {
       string filename = System.IO.Path.GetFileName(AFU1.FileName);
       AFU1.SaveAs(Server.MapPath("~/Upload/Commerical Certificates/") 
                      + lblBasicVendorID.Text + filename);
       lblCommStatus.Text = "File uploaded";
      }
      else
      {
       lblCommStatus.Text = "The file type not accepted or more than 2MB";
      }
    }
   }
   }
   catch (Exception ex)
   {
     lblCommStatus.Text = "The file could not be upload.";
   }
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:45:39.803

> 我正在使用 IIS 7.5 在办公室的 Intranet 中发布 Web 应用程序

我假设这意味着您的应用程序在您办公室某处的 Web 服务器上运行，即不是您的本地计算机。因此，为了找到上传到应用程序并在 Web 服务器上运行的文件，您需要查看 Web 服务器而不是本地计算机 - 是吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T05:25:38.097

我是 IIS 新手，所以我不会为“站点”下的网站创建“虚拟目录”。我右键单击我的站点名称并给出“别名”名称，物理路径为“D：\ Upload”以将最终用户上传的图像存储在网站中。现在我知道上传图像的位置。

# css - CSS3 没有过渡

> ID：12388690
> 
> 赞同：1
> 
> 时间：2012-09-12T12:55:34.457
> 
> 标签：css, transition, effects, transitions, out

我对一个特定的 CSS3 过渡有一点问题（[这里](http://ember.lukeseager.com)）

视频“滑块”类型的东西......当您将鼠标悬停在视频嵌入弹出的标题之一上时，太棒了！但它并没有滑下来！我不知道为什么！它是根据[这篇](http://designshack.net/articles/css/thumbslider/#comment-64227)文章构建的（针对视频和 wordpress 循环进行了更改）。

我的HTML如下：

```
<div id="slider">
<div class="empty">
<!--IMG link here for background image-->
</div>

<?php $currentID = get_the_ID();
$args = array( 
  'post_type' => 'portfolio', 
  'cat' => 5,
  'posts_per_page' => 4, 
  'post__not_in' => array($currentID) 
);
$loop = new WP_Query( $args );
while ( $loop->have_posts() ) : $loop->the_post(); ?>

<a href="<?php the_permalink(); ?>">
<div class="related">
    <div class="each">
   <h2><?php the_title(); ?></h2><br>
   <p><?php getCustomField('vid-intro'); ?></p>
</div>
</div>

<div class="home_video">
<div class="video">
    <?php getCustomField('embed_url'); ?>
</div>
</div>  
</a>

<?php endwhile; ?>                      
</div> 
```

和CSS：

```
#slider { max-width: 942px; height: 360px; margin: 2em auto 1em auto;
      box-shadow: 0px 0px 1em #999; position: relative; overflow: hidden; }

a .home_video { 
width: 642px; 
height: 360px; 
position: absolute;
top: 360px;
z-index: -1;
-webkit-transition: top .5s ease;
-moz-transition: top .5s ease;
-o-transition: top .5s ease;
-ms-transition: top .5s ease;
transition: top .5s ease;
}

a:hover .home_video {
top: 0px;
z-index: 0;
} 
```

我已经尝试了许多不同的变体在哪里放置过渡，以及如何命名 .home_video div（带或不带 a 标签）并尝试将过渡置于悬停和非悬停状态，但似乎不能让它过渡回来，即使我所有的其他 CSS3 效果都可以。

有什么想法吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:05:23.533

改变这个：

```
-webkit-transition: top .5s ease;
-moz-transition: top .5s ease;
-o-transition: top .5s ease;
-ms-transition: top .5s ease;
transition: top .5s ease; 
```

对此：

```
-webkit-transition: all .5s ease;
-moz-transition: all .5s ease;
-o-transition: all .5s ease;
-ms-transition: all .5s ease;
transition: all .5s ease; 
```

希望它会有所帮助...

# naudio - 在使用 NAudio 播放音频时从 wav 文件中获取样本

> ID：12388692
> 
> 赞同：1
> 
> 时间：2012-09-12T12:55:36.260
> 
> 标签：naudio

我一直在看 NAudio 演示应用程序“音频文件播放”。我在这个演示中缺少的是一种在播放音频文件时获取样本的方法。

我认为，只要需要新样本，就可以使用回调以某种方式填充 BufferedWaveProvider 样本，但我不知道如何。

我的另一个（非首选）想法是制作一个特殊版本，例如 DirectSoundOut，我可以在其中获取样本，然后再将它们写入声卡。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T06:10:46.360

通过 NAudio 中的音频文件播放，您可以构建一个音频管道，从您的音频文件开始，并在此过程中经历各种转换（例如，改变音量），然后最终到达您的输出设备。NAudioDemo 实际上确实通过绘制波形（音量前调整）和显示音量表（音量后调整）来展示如何沿途访问样本。

例如，您可以创建 or 的实现者`IWaveProvider`并将`ISampleProvider`其插入到管道中。然后，在该`Read`方法中，您从源代码读取，然后您可以处理或检查或将样本写入磁盘，然后再将它们传递到管道中的下一个阶段。查看`AudioPlaybackPanel.CreateInputStream`演示以了解这是如何完成的。

# android - XMPP 消息到达时更新 UI

> ID：12388694
> 
> 赞同：1
> 
> 时间：2012-09-12T12:55:47.023
> 
> 标签：android

我是安卓新手。在我当前的项目中，我使用 asmack 库来接收 XMPP 消息。在我的 MainActivity 我有：

```
Connection connection; // from the asmack library 
```

和

```
connection.addPacketListener(new PacketListener() {
    public void processPacket(Packet packet) {
        // HERE! is where I want to update the UI when I receive packets
    }
} 
```

奇怪的是当我解析数据包并在两个标签上简单地调用 setText() 时。起初什么都没有发生，但是当我触摸一个按钮（因此调用一些更新例程）时，只有第一个标签被更新。

现在，据我了解，您应该在这种情况下使用 AsyncTask ，但这也没有成功。

我误解了一些核心概念吗？有人可以引导我走向正确的道路吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:10:13.783

该数据包似乎是在与 UI 线程不同的线程上处理的，这意味着 UI 不会立即更新，因为您没有在其线程上对其进行操作。因此，你应该做这样的事情......

```
connection.addPacketListener(new PacketListener(){

    public void processPacket(Packet packet){

        //update the UI on its thread
        runOnUiThread(new Runnable()){
            public void run(){
                //update UI elements
            }
        }

    }

} 
```

# .net - 如何创建高速虚拟鼠标光标？

> ID：12388695
> 
> 赞同：1
> 
> 时间：2012-09-12T12:55:50.347
> 
> 标签：.net, wpf, performance

框架元素如何实时移动并充当光标？例如，如果我为鼠标移动添加了一个事件侦听器，并且移动了一个图像而不是显示虚拟光标，则移动的图像将被视为跟随鼠标。

我们的应用程序将不仅仅是移动光标。在窗口内移动光标大小图像的最有效方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:09:11.003

尝试这个：

```
Cursor x = new Cursor("yourCursorPath");
this.Cursor = x; 
```

# iphone - 如何获取已安装应用程序的 itune 唯一 ID

> ID：12388699
> 
> 赞同：0
> 
> 时间：2012-09-12T12:56:06.900
> 
> 标签：iphone, ios5, ios

我正在开发应用程序，只需要列出

1-所有安装的应用程序名称及其唯一的 itune id。

前[http://itunes.apple.com/us/app/system-status-device-activity/id401457165?mt=8](http://itunes.apple.com/us/app/system-status-device-activity/id401457165?mt=8)

在这里，“system-status-device-activity”是 itune store 中的应用程序，假设我在 iphone/ipad 中安装了该应用程序。

任何人都可以帮助我，如何通过编写任何代码以编程方式获取“id401457165”，例如： NSStrng *myid = getItuneID();

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:02:01.827

简单的答案 NO。您无法在任何其他已安装的应用程序中获取此信息。即使我认为 iTunes id 甚至不存在于二进制文件（.ipa）中。我认为 iTunes id 只存在于苹果服务器上，它们将 iTunes id 与应用程序包标识符绑定。

# windows-8 - Windows 8、Metro 应用程序：关于对话框指南或建议

> ID：12388700
> 
> 赞同：1
> 
> 时间：2012-09-12T12:56:08.550
> 
> 标签：windows-8, microsoft-metro, windows-runtime

Windows 8 Metro 应用程序中的“关于”对话框是否“已死”？我在 Windows 商店中查看了相当多的应用程序和应用程序截图，并没有发现任何“灵感”。

是否有来自 Microsoft 的任何指南或任何讨论此问题的文章？

您认为显示应用程序名称、版本、作者和应用程序主页链接的对话框/弹出窗口的最佳方式是什么？

我正在考虑底部应用程序栏中的图标按钮，例如“关于应用程序名称”，它会打开一个包含此信息的弹出窗口。我正在使用 C# 和 XAML。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:01:52.057

您可以使用 Setting Contract 通过 Settings Charm 将 About 放置到 Settings 窗格中。您现在可以在商店中的几乎所有应用程序中看到关于。可以在此处找到添加设置的快速入门：http: [//msdn.microsoft.com/en-us/library/windows/apps/xaml/hh872190.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh872190.aspx)

此处应用程序设置指南：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh770544.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh770544.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T11:18:37.283

看看[这里](http://socialeboladev.wordpress.com/2012/10/14/turn-any-usercontrol-into-a-pleasing-dialogflyout-in-windows-8/)。

它使您可以非常轻松地从 UserControl 创建对话框/弹出窗口。几行样板，你就完成了。负责动画、UI 管理等。

# linux - 翻译linux df命令输出

> ID：12388710
> 
> 赞同：1
> 
> 时间：2012-09-12T12:57:00.673
> 
> 标签：linux

我收到网络管理员的电子邮件，说服务器空间已满，这就是它出现问题的原因。我在他的电子邮件中得到了这个。谁能告诉这里 64Z 是什么意思？

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/xvda1       64Z   64Z     0 100% / 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:00:52.467

这是来自的信息`man df`

```
SIZE may be (or may be an integer optionally followed by) one  of  fol‐
   lowing: KB 1000, K 1024, MB 1000*1000, M 1024*1024, and so on for G, T,
   P, E, Z, Y. 
```

Z 表示：

```
ZettaByte = 1,180,591,620,717,411,303,424 Bytes 
```

你有一个大磁盘:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:02:57.453

那是一个很大的泽字节，非常大。

ZettaByte (ZB) 1,180,591,620,717,411,303,424 字节或 1,024 EB

[维基百科 - 文件大小](http://en.wikipedia.org/wiki/File_size)

# ruby-on-rails - 是否可以在同一字段上分配多个 has_many ":as" 多态关系？

> ID：12388711
> 
> 赞同：0
> 
> 时间：2012-09-12T12:57:02.190
> 
> 标签：ruby-on-rails, activerecord, associations, has-many-polymorphs

像这样设置我的数据库（“类型”始终是用户，尽管我通过 STI 有不同类型的用户）：

```
class User 
  # fields
  # :id
  # :sender_id, :sender_type
  # :recipient_id, :recipient_type
end 
```

明信片型号：

```
class Postcard < ActiveRecord::Base
  belongs_to :owner, :class_name => User
  belongs_to :recipient, :class_name => User
end 
```

我想设置这样的用户模型：

```
class User < ActiveRecord::Base
  has_many :postcards, :as => [:sender or :recipient] # this is not working
end 
```

所以我可以说：

```
user.postcards 
```

是否可以？

PS：我也试过这条路：

```
 has_many :postcards, :finder_sql => Proc.new { "SELECT * FROM postcards WHERE postcards.owner_id=#{id} OR postcards.recipient_id=#{id}" } 
```

但发现自己被困在范围上，因为 :finder_sql 重新创建了一个全新的 SQL：

```
 User.postcards.by_status('new').size 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:58:46.353

正如 joelparkerhenderson 所说，我需要以不同的方式思考我的关联策略。

正如我想要的那样：

```
user.postcards 
```

我的回答只是在明信片模型中使用范围：

```
scope :of_user, lambda { |user| where("recipient_id = ? OR owner_id = ?", user.id, user.id) } 
```

所以我可以调用：

```
Postcard.of_user user 
```

我什至可以将它包装在用户模型中：

```
def postcards
   Postcard.of_user self
end 
```

# c++ - 表现。寻找子串。substr 与查找

> ID：12388713
> 
> 赞同：2
> 
> 时间：2012-09-12T12:57:09.817
> 
> 标签：c++, string, performance

假设我们有一个字符串 var "sA"，我想检查字符串 "123" 是否在 sA 的末尾。

什么更好，为什么：

*   `if(sA.length() > 2) sA.substr(sA.length()-3) == "123"`
*   `if(sA.length() > 2) sA.find("123", sA.length() -3) != string::npos`

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:05:15.750

第二个代码片段避免创建两个临时对象（一个用于`"123"`转换为`std::string`，另一个用于返回值`substr`），因此理论上它应该更快。然而，这种微优化很少有回报：如果你随机应用这种优化，你不太可能看到使用第二种形式而不是第一种形式的实质性收益。

当然，如果你的分析器告诉你你的程序花费了相当大比例的时间来检查字符串的结尾，情况就不同了；在这种情况下，优化可能会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T13:07:24.573

如果性能至关重要，我认为您不会比这更快（与其他方法相比，不需要分配）：

```
const char needle[] = "abc";
const char *haystack;
const int len = strlen(haystack);

if (len<sizeof(needle))
    return false;
for (int i=0; i<sizeof(needle); i++)
    if (needle[i] != haystack[len-sizeof(needle)+i])
        return false;
return true; 
```

显然，各种微优化是可能的，但这种方法是我能想到的最快的。

* * *

一个更 C++y 的版本，使用 std::string 作为大海捞针：

```
const char needle[] = "abc";
const std::string haystack;
const int len = haystack.length();

if (len<sizeof(needle))
    return false;
for (int i=0; i<sizeof(needle); i++)
    if (needle[i] != haystack[len-sizeof(needle)+i])
        return false;
return true; 
```

请注意，只要`std::string::operator[]`是 O(1)，这两个清单具有相同的性能特征

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T13:25:02.577

此代码可能比您正在测试的代码更快。但是你只有做一些测试才会知道。

```
bool EndsWith(const string &strValue, const string &strEnd)
{            
    int iDiference = strValue.size() - strEnd.size();
    if(iDiference >= 0)     
        return (memcmp(strValue.c_str() + iDiference, strEnd.c_str(), strEnd.size()) == 0);

    return false;
} 
```

# jquery - .removeAttr jQuery

> ID：12388725
> 
> 赞同：2
> 
> 时间：2012-09-12T12:57:58.703
> 
> 标签：jquery, class

我在下面有这段代码：

```
<html>
<head>
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
  <script src="http://ui.jquery.com/latest/ui/effects.core.js"></script>
<style type="text/css">
  p { cursor: pointer; font-size: 1.2em; }
  .selected { color:red; }
</style>
  <script>
  $(document).ready(function() {
    $('p').click(function () {
      $(this).removeClass('selected', 1000);
      $(this).removeAttr('class');
      //$(this).removeAttr('style');
    });
  });
  </script>
</head>
<body style="font-size:62.5%;">

<p class="selected">Click me to remove 'selected' class.</p>
<p class="selected">Click me to remove 'selected' class.</p>
<p class="selected">Click me to remove 'selected' class.</p>

</body>
</html> 
```

因此，当我单击任何`<p>`类时，该类确实会被删除，并且属性类也会被删除。然而，发生的情况是代码 style="" 被注入到`<p>`.

为什么会发生这种情况以及如何删除它？对我来说，单击一个`<p>`元素后，新定义`<p>`应该只是`<p>some text goes here</p>`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:19:13.867

为什么会有这种风格是因为 jquery-ui [removeclass()](http://jqueryui.com/demos/removeClass/)虽然它不在文档中，但它似乎有更多参数（参见[soruce](https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.effect.js#L840,L845)），您可以使用这些参数来使用动画完成后将运行的回调：

```
$(document).ready(function() {
    $('p').click(function () {
        $(this).removeClass('selected', 1000, function() {
            $(this).removeAttr('style').removeAttr("class");
        });
    });
}); 
```

（我不确定你为什么要首先这样做）。

一个演示： http: [//jsbin.com/opucon/2/](http://jsbin.com/opucon/2/)（结果演示）

# visual-studio-2010 - 使用 Visual Studio 2010 安装 SQL Server 2008 Express

> ID：12388732
> 
> 赞同：0
> 
> 时间：2012-09-12T12:58:19.770
> 
> 标签：visual-studio-2010, sql-server-2008-r2

我正在将 Visual Studio 2010 自定义安装到一个新的开发框上。

目标计算机已安装 SQL Server 2008 R2 SP1。

我看到其中一个组件是**SQL Server 2008 Express Service**，但是这台机器上已经安装了 SQL Server。它节省了 1.6 GB 的磁盘空间，而且如果我不需要的话，我不喜欢添加不必要的服务（或安装）。

所以我的问题是，即使我已经安装了完整的 SQL Server 2008 R2 开发人员版本，我还想安装“快速服务”吗？如果是这样，为什么？是否有未来的好处，或者这有点多余，我可以节省空间并让这个盒子更好地调整吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T00:12:27.180

只是想更新这个，因为我最终了解到我不需要安装 SQL Server 2008 的快速服务，因为我已经安装了完整的开发人员版本。没有任何不良影响，我能够节省快速服务所需的磁盘空间以及运行和维护该实例所需的 RAM。

# iphone - 如果我将 CLLocationManger 与 kCLLocationAccuracyThreeKilometers 一起使用，iPhone 的电池寿命会是多少？

> ID：12388733
> 
> 赞同：-1
> 
> 时间：2012-09-12T12:58:25.713
> 
> 标签：iphone, ios, gps

如果我使用 CLLocationManger 和 kCLLocationAccuracyThreeKilometers 来获取坐标并且永远不要停止它。你知道我的 iPhone 电池会在多长时间内耗尽？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T15:20:45.623

这个问题很难回答，因为涉及到许多变量，例如，设备型号、设备年龄、操作系统版本、GPS 芯片组（设备型号不同）......这是您应该努力优化您的设备的原因之一GPS功能的使用。

例如，Apple 定期缓存位置数据，因此它可以为第三方应用程序提供位置数据 (1) 快速和 (2) 无需启动板载 GPS，这需要时间和电力。（供您参考，如果您的应用程序严重依赖位置服务，缓存的位置数据当然不是一种选择）。

简而言之，不要为您的应用程序正常运行而计算电池电量。相反，巧妙地利用定位服务。

# java - 使用签名的 Java 小程序查找 VPN 后面的 LAN 连接？

> ID：12388734
> 
> 赞同：0
> 
> 时间：2012-09-12T12:58:25.323
> 
> 标签：java, windows, applet, vpn

我可以使用签名的 java 小程序在客户端机器上运行 ipconfig /all，如何在客户端机器上找到启动 VPN 连接的 LAN 连接 ip，因为可以有多个 LAN、WI-FI、虚拟连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T01:31:11.027

你不能用标准的 Java API 做这样的事情。您必须从 Java 代码连接到本机代码（命令行或使用 JNI 的某些 C/C++ 库）。

# hadoop - 如何优化 pig 中的大表读取和外连接

> ID：12388740
> 
> 赞同：2
> 
> 时间：2012-09-12T12:58:53.577
> 
> 标签：hadoop, apache-pig, outer-join

我要加入一张大桌子和另外 3 张桌子，

A = 通过 (f1,f2) RIGHT OUTER 连接小表，通过 (f1,f2) 连接大表；

B = 通过 (f3) RIGHT OUTER 加入 AnotherSmall ， A 通过 (f3) ；

C = 通过 (f4) 加入 AnotherSmall ， B 通过 (f4) ；

小表可能不适合内存，但这会强制十亿个对象读取三次且耗时，我想知道是否有任何方法可以避免重读并提高处理效率？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T16:32:18.733

如果您将 HBase 中的大表设计为具有三个列族，即拆分`f1`和`f2`，从`f3`和 from `f4`，您应该能够避免不必要的读取。

此外，如果您考虑一下，您不会重新阅读，而是阅读记录的不同部分：首先是`f1`和`f2`，然后是`f3`最后`f4`。

# c++ - 防止键盘输入到达窗口

> ID：12388742
> 
> 赞同：2
> 
> 时间：2012-09-12T12:59:02.080
> 
> 标签：c++, windows, input

在 Windows 电脑上，我连接了 2 个 USB 键盘。

当在任一键盘上按下某个键时，它会发送到 Windows，然后 Windows 会发送通知应用程序已按下某个键。

我想要的是在发送到其他应用程序之前从这两个键盘之一捕获输入，然后停止它，用它做任何我想做的事情。另一个键盘必须正常工作。

在通过 Raw Input 将键盘输入发送到应用程序后，我设法区分了键盘输入，但是在将它们发送到应用程序之前如何做到这一点？

我想要做的是有两个键盘，一个正常工作的键盘，另一个专门用于热键/自定义宏的键盘。

这在 Windows 中甚至可能吗？如果是，我该如何做到这一点？

# jquery-plugins - DatePicker [ eyecon ] 设置日期范围 jquery/javascript

> ID：12388746
> 
> 赞同：1
> 
> 时间：2012-09-12T12:59:11.597
> 
> 标签：jquery-plugins, datepicker, monthcalendar

我正在使用多月[Datepicker](http://www.eyecon.ro/datepicker/)

我无法明确设置日期范围。

例如，我必须在单击某些按钮时显示 2012 年 9 月 1 日至 2012 年 8 月 30 日。

文档有这种方法，但它只选择开始日期

`$('selector').DatePickerSetDate(date, shiftTo);`

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:23:06.090

通过插件代码找到答案

$("选择器").DatePickerSetDate([new Date(2012,8,1), new Date(2012,9,30)],1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:06:22.497

试试这个

```
$('input').datepicker({
        changeMonth: true,
        changeYear: true,
        dateFormat: 'yy-mm-dd',
        yearRange: '1920:'
    }); 
```

希望它可以帮助

# sql - 引导 ADO 查询远离数据库

> ID：12388761
> 
> 赞同：1
> 
> 时间：2012-09-12T12:59:39.377
> 
> 标签：sql, sql-server, ado, middleware

我有大量使用 ADO 访问远程 SQL Server 数据库的旧 Delphi 应用程序。我想将这些查询直接发送到中间件层而不是所述数据库。Delphi 客户端必须保持不变；我不是其中大多数的所有者。

是否有可能做到这一点？如果是这样，我应该怎么做？

不必担心解析 T-SQL（顺便说一下，原始 T-SQL 和存储过程调用）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:12:48.273

创建一个新的 SQL 数据库，并使用视图、T-SQL 和托管代码的组合来伪造足够的数据库对象以供应用程序工作。

技术 1：使用表，但从新数据源异步填充它们。

技术 2：伪造表格和过程

例如，您可以有一个存储过程，它将托管代码调用到您的中间件，以替换现有的存储过程。

在应用程序直接从表中读取的情况下，您可以使用引用托管表值函数的视图。

-

在任何使用存储过程的地方都应该没有问题。但是，如果应用程序发送动态 SQL，您将面临更多的困难。

# php - 加载 Ajax 页面丢失样式

> ID：12388764
> 
> 赞同：0
> 
> 时间：2012-09-12T12:59:51.503
> 
> 标签：php, jquery, ajax, styles

我已经检查了关于 AJAX 不加载样式的其他类似问题的答案。没有一个解决方案对我有用。

在 AJAX 调用中，我将另一个 AJAX 调用加载到页面上的元素中：

```
$.ajax({
        url: site_url+'/ajax/int_rooms'
    }).done(function (data) {
        $('.rooms-sides').append(data);
    }); 
```

我也试过`$('.rooms-sides').load(site_url+'/ajax/int_rooms');`

当我获取 HTML 并将其手动放入页面时，它的样式和外观符合预期。当我把它粘贴到 AJAX 中（加载成功）时，它的格式不再正确。

控制台中没有错误。我正在使用 Chrome（Firefox 中的结果相同）。如果我“检查元素”，加载的文件似乎是 LOSING 表标签`<tr>`，但是当我在 chrome 开发人员工具中查看网络选项卡的响应时，我确实看到了正在返回的表标签。

我再说一遍，当我在插入所有内容的主文件中使用相同的 html 时，它可以完美运行。

这个 HTML 被放入一个输出的 php 变量中，这就是你看到 $r->name 的原因。我试过把它放在 HTML 中，而不是放在文件中的 php 输出中，它会产生完全相同的错误。

有问题的HTML：

```
<input type='hidden' id='room_name' value='$r->name'/>
    <tr>
    <td class="action"><a href="#" title="Delete"><span class="delete">Delete</span></td>
    <td class="action"><a href="#" title="Duplicate"><span class="duplicate">Duplicate</span></td>
    <td><a href="#" title="Configure">Configure</td>
    <td>

    <div class="ui-widget">
    <select id="combobox">
    <option value="">Select one...</option>
    <option value="Kitchen">Kitchen</option>
    <option value="Bedroom">Bedroom</option>
    <option value="Living Room">Living Room</option>
    <option value="Dining Room">Dining Room</option>
    <option value="Hallway">Hallway</option>
    </select>
    </div>

    </td>
    <td>$364.14</td>
    </tr>
    <script type="text/javascript">
    $("#room_name").remove();
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:54:53.243

在同事的帮助下得到了它。

必须移动隐藏的输入，它是打破表格行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:05:44.363

`/ajax/int_rooms`尝试在该文件中应用样式。

# javascript - 选择组中的单选按钮时的jQuery addClass

> ID：12388767
> 
> 赞同：1
> 
> 时间：2012-09-12T13:00:25.107
> 
> 标签：javascript, jquery, forms, radio

我有以下代码：

```
var selectedMarkerClass = 'was-selected';

$('.group_1').change(function() {
    $(this).addClass(selectedMarkerClass);

    if ($('.' + selectedMarkerClass).length == $('.group_1').length) {
        $('#2').removeClass('red');
    }
}); 
```

这是有问题的HTML：

```
<input class="single_text_input group_1" type="text" name="primary_referral" />
<input class="single_text_input group_1" type="text" name="secondary_referral" />
<input class="group_1" type="radio" name="referral_open" value="Yes" /> Yes
<input class="group_1" type="radio" name="referral_open" value="No" /> No
<span id="2" class="red">Referral Group</span> 
```

现在发生的情况是，必须更改组中的两个单选按钮才能从`span`. 我希望它在只需要更改组中的一个单选按钮的情况下工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:57:12.057

使用`click`事件而不是`change`事件。

```
$('.group_1').click(function() {
    $(this).addClass(selectedMarkerClass);

    if ($('.' + selectedMarkerClass).length == $('.group_1').length) {
        $('#2').removeClass('red');
    }
}); 
```

更新：

```
if ($('.' + selectedMarkerClass).length == $('.group_1').length) 
```

正在绊倒你。仅当所选类已添加到每个收音机时，您才删除红色类，并且只有单击每个收音机才能添加所选类。

更好的方法是：

```
$('.group_1').click(function() {
    $('#2').removeClass('red');
}); 
```

更少的代码通常会更好。您无法取消选择收音机。因此，对收音机的任何点击都会确保至少有一个被点击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:57:48.653

改用事件试试`click`。您会在第二次单击后看到更改发生，因为`change`在第一个单选按钮失去焦点后被触发。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T14:34:31.993

在两个单选按钮更改之后，`$('.' + selectedMarkerClass).length == 2`并且`$('.group_1').length == 4`因为您正在使用`.group_1`单选按钮以及 input[type=text] 的类。

需要过滤您的单选按钮，使用`"[name=referral_open]"`，

```
var selectedMarkerClass = 'was-selected';

$('.group_1').change(function () {
    $(this).addClass(selectedMarkerClass);

    if ($('.' + selectedMarkerClass).length == $('.group_1[name=referral_open]').length) {
        $('#2').removeClass('red');
    }
}); 
```

# android - 布局问题：包含 ExpandableListView 的对话框

> ID：12388769
> 
> 赞同：1
> 
> 时间：2012-09-12T13:00:27.820
> 
> 标签：android, dialog, expandablelistview

下面是我的对话框的代码。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_margin="5dp"
android:orientation="vertical" >

<CheckBox
    android:id="@+id/source_select_public"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:text="@string/source_select_public" />

<ExpandableListView
    android:id="@+id/source_select_list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:groupIndicator="@android:color/transparent" />

<LinearLayout
    android:id="@+id/source_select_commands"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="3dp"
    android:orientation="horizontal" >

    <Button
        android:id="@+id/source_select_cancel"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@android:string/cancel" />

    <Button
        android:id="@+id/source_select_ok"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="@android:string/ok" />
</LinearLayout>
</LinearLayout> 
```

ExpandableListView 打开时，自动滚动；但是，它下面的两个按钮消失了。我曾尝试将整个布局包含在一个 ScrollView 中，但是 ExpandableListView 的可滚动行为被破坏（即它变得太小而无法实际触摸）。我想要实现的是一个对话框，它可以占据所有屏幕，同时允许 ExpandableListView 成为唯一的可滚动组件。有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-04T20:40:42.033

老问题，但这可以使用相对布局作为根布局而不是线性布局来实现

# android - 如何在 Android 中将活动设置为全屏模式？

> ID：12388771
> 
> 赞同：26
> 
> 时间：2012-09-12T13:00:27.300
> 
> 标签：android, android-activity, fullscreen, android-fullscreen

如何在 Android 中为活动设置全屏模式？我正在使用以下代码设置全屏，但它会产生错误：

**例外：**

```
android.util.AndroidRuntimeException: 
    requestFeature() must be called before adding content. 
```

**代码：**

```
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,        
                     WindowManager.LayoutParams.FLAG_FULLSCREEN);
requestWindowFeature(Window.FEATURE_NO_TITLE); 
```

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-09-12T13:02:43.167

请检查代码

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, 
                            WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.main);
} 
```

并注意它是在设置内容视图之前设置的

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-12T13:02:48.240

在 AndroidManifest 中试试这个：

```
<activity android:name=".ActivityName"
    android:label="@string/app_name"
    android:theme="@android:style/Theme.NoTitleBar.Fullscreen">
</activity> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-12T13:09:07.803

```
requestWindowFeature(Window.FEATURE_NO_TITLE);
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, 
                        WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-12T13:11:28.773

把**requestWindowFeature**首先放在你的代码中......像这样......

```
requestWindowFeature(Window.FEATURE_NO_TITLE);
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

# communication - 服务器到客户端：RMI 和 2 个 JVM（不同的计算机）

> ID：12388773
> 
> 赞同：0
> 
> 时间：2012-09-12T13:00:34.793
> 
> 标签：communication, rmi

我现在使用 RMI 有一段时间了，我想知道：

*   有没有一种方法可以让 RMI-SERVER 通知 RMI-CLIENT 他的可用（在线），传递他应该在客户端代码中的 Naming.list() 中使用的 ip/port？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T09:48:21.350

不在 RMI 内。您可以查看 UDP 多播，或 JNI 发现和查找服务，它只是多播顶部（在所有意义上）之上的一个巨大层。

# php - 如何找到n次幂php

> ID：12388778
> 
> 赞同：-3
> 
> 时间：2012-09-12T13:00:40.373
> 
> 标签：php, math

使用 2 的数幂，例如：

```
 2^n = 16 
```

我们怎样才能`n`在php中找到呢？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:05:01.257

[`log()`](http://php.net/manual/en/function.log.php)接受一个基本参数。

`log(16, 2)`是`4`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:04:39.517

```
<?php
 $x = 1024;
 $num = 2;
 $y = log($x, $num);
 echo $y;
?> 
```

给出 y=10

# java - 如何在java中使用私钥（.private）解密数据

> ID：12388779
> 
> 赞同：1
> 
> 时间：2012-09-12T13:00:49.537
> 
> 标签：java, openssl, jce

数据在 PHP 中使用 OpenSSL 加密，我想解密 java 但在 java 中出错

**PHP中的加密代码-**

```
public function getEncryptedString($cardNumber,$key_id){
              $encryptedCardNumber = '';
              $key_name = "key_{$key_id}"; 
              $pub_key_path =$key_name.".public";  
              $fp=fopen ($pub_key_path,"r"); //Open the public key (key_8.public)
              $pub_key = fread($fp,8192);  //Read public key  key (key_8.public) into 
              fclose($fp); 
               openssl_public_encrypt($cardNumber,$encryptedCardNumber,$pub_key);   
              if($key_id > 4) return rawurlencode(base64_encode($encryptedCardNumber));  
              else return addslashes($encryptedCardNumber);          

    } 
```

**JAVA中的解密代码-**

```
public static String getDecryptedValue(int keyId,String encryptedCCNumber ,String passPhrase){
              String result="";

              String privateKeyFileName="key_8.private";
              String privateKeyLocation= PropertiesUtil.getProperty("PUBLIC_PRIVATE_KEY_LOCATION");
             String privateKeyFileNameLocation=privateKeyLocation+privateKeyFileName;
              String decryptedValue= getDecryptedMessage(privateKeyFileNameLocation,encryptedCCNumber,passPhrase);
              return result;

       }

       public static String getDecryptedMessage(String privateKeyFileNameLocation, String encryptedCCNumber,String passPhrase) 
                { 
              byte[] decodedBytesCCNumber= Base64.decodeBase64(encryptedCCNumber.getBytes());
           byte[] decryptedMessage=null; 
           try { 
               Cipher cipher = Cipher.getInstance("RSA"); 

                PrivateKey privateKey = getPrivateKey(privateKeyFileNameLocation,passPhrase);
               cipher.init(Cipher.DECRYPT_MODE, privateKey); 
               decryptedMessage = cipher.doFinal(decodedBytesCCNumber); 

           } catch (Throwable t) { 
              t.printStackTrace();
           }

           System.out.println("new String(decryptedMessage)"+new String(decryptedMessage));
           return new String(decryptedMessage); 

       } 

       private static PrivateKey getPrivateKey(String privateKeyFileNameLocation,String passPhrase) throws KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException, UnrecoverableEntryException {
               KeyStore ks = KeyStore.getInstance("PKCS12");
               ks.load(new FileInputStream(privateKeyFileNameLocation), passPhrase.toCharArray());
               String alias = (String) ks.aliases().nextElement();
               KeyStore.PrivateKeyEntry keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry(alias, new KeyStore.PasswordProtection(passPhrase.toCharArray()));
               return keyEntry.getPrivateKey();
           } 
```

Java 代码给出以下错误。

```
java.io.IOException: toDerInputStream rejects tag type 45
    at sun.security.util.DerValue.toDerInputStream(DerValue.java:847)
    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1221)
    at java.security.KeyStore.load(KeyStore.java:1214) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:15:21.997

您正在对密文的 Base64 编码进行 URL 编码，但您只是在解密它的 base64 解码。要么丢失 URL 编码，要么在接收器处对其进行解码。

# php - php标头无法重定向

> ID：12388781
> 
> 赞同：-2
> 
> 时间：2012-09-12T13:00:54.373
> 
> 标签：php, redirect, header

我已经实现了一个简单的注册页面，用户注册后必须将他们重定向到感谢页面，这是我的代码，它返回一个空白页面

'保存.php'

```
 if($mail->Send()) {}

    unset($_SESSION['GENRE_REQUEST']);

    }
    header('Location:thanku.php');
        exit();
    }
    else
        {
        header('Location:thanku.php');
        exit();
        } ' 
```

* * *

谢谢.php

```
 <tr>
       <td align="center" valign="top"><b>Thank You for Registering With us.</b> <br />
        <br />please activate your profile by clicking on the activation link sent to your email address.<br/>
       </td>
  </tr> 'a
                      ' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:09:15.753

尝试，

```
if($mail->Send()) {
    header('Location:thanku.php');
    exit();
}else{
    echo "Oops! there was some error in sending the mail";
} 
```

在thanku.php页面中，

```
<?php
    session_start();
    session_unset();
    session_destroy();
    $_SESSION = array();

    echo "Thanks message";

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:04:33.193

查看更多代码会很有帮助。此外，如果您的 header("Location:somenewpage.php") 调用失败，php 应该会发出某种错误。您是否在 php 设置中打开了 display_errors（至少对于您的开发环境）？这将帮助您了解您的脚本出了什么问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:05:39.577

像这样试试

```
if($mail->Send()) {
   session_destroy();
   header('Location:thanku.php');
}
else
{
  header('Location:thanku.php');
} 
```

# algorithm - 斐波那契算法分析

> ID：12388791
> 
> 赞同：0
> 
> 时间：2012-09-12T13:01:25.743
> 
> 标签：algorithm

我正在阅读对 fibanocci 数字程序的分析，如下所示。提到这种实现效率低下。实际上，计算 Fn 的递归调用次数是 F(n+1)。

我的问题是：“计算 Fn 的递归调用次数为 F(n+1)”是什么意思？

```
int F(int i)
{ 
  if (i < 1) return 0;
  if (i == 1) return 1;
  return F(i-1) + F(i-2);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:08:15.547

计算斐波那契数的简单实现需要 F(n+1) 次递归调用来计算数 F(n)；即计算 f(10)=55 你需要 89 次递归调用，而 89 是 F(11)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T16:39:49.293

如果我们要计算第 N 个斐波那契数 F(n)=F(n-1)+F(n-2) 。我们可以用迭代法和递归法来完成。如果我们用迭代方法来做

```
#include<stdio.h>

main()
{
int a=0,b=1,c,i,n;
//clrscr();
printf("enter the limit of series\n");
scanf("%d",&n);
if(n==0)
printf("%d\n",a);
else
printf("%d\n%d\n",a,b);
for(i=2;i<=n;i++)
{
c=a+b;
printf("%d\n",c);
a=b;
b=c;
}

} 
```

从 i=0 迭代到 N 需要 O(n) 时间。

但是用递归方法

```
int F(int i)
  { 
    if (i < 1) return 0;
    if (i == 1) return 1;
    return F(i-1) + F(i-2);
  } 
```

递归关系为

```
 ___________ 0 if(n<=0) 
                    /___________ 1 if(n==1)
  Fibonacci(n) ____/
                   \
                    \___________ Fibonacci(n-1)+Fibonacci(n-2) 
```

所以我们的问题 n = (n-1) 的子问题 + (n-2) 的子问题因此我们的时间函数 T(n) 如下

```
 T(n)=T(n-1)+T(n-2)+O(1)
   T(n)={T(N-2)+T(n-3)}+T(n-2)  since T(n-1)=T(n-2)+T(n-3) -------- equation(1)
   from above you can see T(n-2) is calculated twice. If we expand the recursion tree for N=5 . The recursion tree is as follows

                                                       Fib(5)
                                                          |
                                    _____________________/ \__________________
                                   |                                          |
                                 Fib(4)                   +                 fib(3)    
                                   |                                          |
                           _______/ \_______                         ________/ \_______
                          |        +        |                        |        +        |
                       Fib(3)             Fib(2)                   Fib(2)           Fib(1)
                          |                  |                        |                
                  _______/ \____        ____/ \_______        _______/ \_____                   
                 |        +     |      |     +        |      |         +      |   
              Fib(2)        Fib(1)    Fib(1)      Fib(0)     Fib(1)        Fib(0)
         _______/ \_______
        |        +        |
      Fib(1)             Fib(0) 
```

如果我们观察递归树，我们会发现 Fib(1) 被计算了 5 次 Fib(2) 被计算了 3 次 Fib(3) 被计算了 2 次

所以使用递归我们实际上是在做冗余计算。如果您使用迭代方法，则可以避免这些多余的计算。

T(n)=T(n-1)+T(n-2)+1

来自之前的 SO 帖子[斐波那契数列的计算复杂性](https://stackoverflow.com/questions/360748/computational-complexity-of-fibonacci-sequence)

程序的复杂度**大约**等于 bigoh(2power(n)) 。由于 O(n) < O(2powerN) 递归方法效率不高。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-14T06:33:57.803

“程序的复杂性**大约**等于 bigoh(2power(n)) 。由于 O(n) < O(2powerN) 递归方法效率不高。”

如果他们根据所需的递归调用量来计算这种复杂性，那么我不知道他们从哪里得到 2^n。该图根本不对 2^n 建模，对于较大的值，建模会显着衰减。到 832,040 的第 30 项，需要 2,692,536 次递归调用来计算它，远低于超过 10 亿的 2^30。不到1%！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T13:07:18.943

这意味着要计算 10 个数字的斐波那契数，您需要运行递归 10+1 次才能获得它。有多种算法可以改进这个时间线。

在这里查看这篇文章，它解释了查找斐波那契数的时间复杂度及其改进：[斐波那契数列的计算复杂度](https://stackoverflow.com/questions/360748/computational-complexity-of-fibonacci-sequence)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-12T14:01:54.627

这是我的斐波那契算法

```
#include<stdio.h>

main()
{
    // If we walk backwards in the fibonacci series, the values before
    // zero will be 1 and -1\. i.e the series can be re imagined as 
    // -1, 1, 0, 1, 1, 2, 3.
    // This will spare us from adding special handling for first 
    // and second element of the series  
    int a=-1,b=1,c,i,n;
    printf("enter the limit of series\n");
    scanf("%d",&n);
    printf("The series is : ");
    for(i=1;i<=n;i++)
    {
        c=a+b;
        printf("%d\n",c);
        // move a and b forward
        a=b;
        b=c;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-09T07:38:10.223

这是斐波那契的一些改进版本，我们只计算一次数字的斐波那契：

```
dicFib = { 0:0 ,1 :1 }
iterations = 0
def fibonacci(a):
    if  (a in dicFib):      
        return dicFib[a]    
    else :
        global iterations               
        fib = fibonacci(a-2)+fibonacci(a-1)
        dicFib[a] = fib
        iterations += 1
        return fib

print ("fibonacci of 10 is:" , fibonacci(10))
print ("fibonacci of all numbers:" ,dicFib)
print ("iterations:" ,iterations)

# ('fibonacci of 10 is:', 55)
# ('fibonacci of all numbers:', {0: 0, 1: 1, 2: 1, 3: 2, 4: 3, 5: 5, 6: 8, 7: 13, 8: 21, 9: 34, 10: 55})
# ('iterations:', 9) 
```

在这里，我们将每个数字的斐波那契存储在字典中。所以你可以看到它每次迭代只计算一次，而对于 fibonacci(10) 它只有 9 次。

# iphone - 如何在 iphone 应用程序中添加类似 facebook 的页面功能？

> ID：12388793
> 
> 赞同：2
> 
> 时间：2012-09-12T13:01:34.900
> 
> 标签：iphone, ios, facebook, api, facebook-like

我必须在 iPhone 应用程序中添加“Facebook Like 页面”功能，任何人都可以帮助我如何做到这一点。我已经搜索过它，但没有找到任何适用于 iOS 的 API。

在我的应用程序中，我必须为用户提供类似页面选项。用户会喜欢我们的页面，然后他们将获得对我们应用程序其他内容的完全访问权限。我怎么知道用户是否喜欢我们的页面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:37:11.230

首先在这里查看我的答案 -[如何从当前应用程序通过邮件、推特和脸书分享或发布？](https://stackoverflow.com/questions/10860652/how-to-share-or-post-by-mail-from-current-app/10862865#10862865)

在这里，您可以学习如何发表评论、图片`Facebook`。还有一个示例代码，下载并尝试一下。

现在来谈谈如何制作`like button`. 因此，为此`Facebook`提供了一种`POST`方法，您可以通过该方法像任何对象一样发送请求。

这是喜欢的方法，其中**313449204401**是对象的 ID - [https://graph.facebook.com/313449204401/likes](https://graph.facebook.com/313449204401/likes)

对于发送请求，您还需要一个**访问令牌**。如何获取**访问令牌**，您可以通过示例代码了解。

有关更多信息，请`FBGraph`在此处阅读 API 方法 - [https://developers.facebook.com/docs/reference/api/](https://developers.facebook.com/docs/reference/api/)

# php - 向 Wordpress function.php 添加水印

> ID：12388796
> 
> 赞同：1
> 
> 时间：2012-09-12T13:01:51.920
> 
> 标签：php, wordpress, function, watermark

在我用于缩略图的主题中，我希望它们是黑白的，这是我使用 Ottos function.php 脚本完成的。但是，当使用插件为彩色较大图像添加水印时，黑白拇指会变回彩色。单击黑白时，彩色照片会在 Prettyphoto 中加载。

所以我想我必须在 function.php 中添加水印但是没有解释如何做到这一点的地方。

因此，我尝试使用水印脚本和黑白脚本将两者合并……您猜对了，它会阻止网站加载，这并不奇怪。

所以我的问题是，有人做过吗？它真的会起作用吗？

谢谢

以下是我到目前为止尝试过的...

```
add_action('after_setup_theme','themename_watermark');
function themename_watermark() {
    add_image_size('watermark-test-image', 500, 650, true);
}

add_filter('wp_generate_attachment_metadata','themename_watermark');
function themename_watermark($meta) {
    $file = wp_upload_dir();
    $file = trailingslashit($file['path']).$meta['sizes']['watermark-test-image']['file'];
    list($orig_w, $orig_h, $orig_type) = @getimagesize($file);
    $img = wp_load_image($file);

//watermark position
$p = $_GET['p']; if(!$p) $p = 'br';
/*
p can be anything from the following list:
tl = top left
tc = top center
tr = top right
cl = center left
c = center of the image
cr = center right
bl = bottom left
bc = bottom center
br = bottom right
*/
//watermarked image quality
$q = $_GET['q'];
//if the quality field is missing or is not on the 0 to 100 scale then we set the quality to 93
if(!$q || $q<0 || $q>100) $q = '93';

$filetype = substr($img,strlen($img)-4,4);
$filetype = strtolower($filetype);
if($filetype == ".gif") $image = @imagecreatefromgif($img);
if($filetype == ".jpg") $image = @imagecreatefromjpeg($img);
if($filetype == ".png") $image = @imagecreatefrompng($img);
if (!$image) die();

//getting the image size for the original image
$img_w = imagesx($image);
$img_h = imagesy($image);
//if the filename has 150x150 in it's name then we don't apply the watermark
if (eregi("155x194", $img)) {
    imagejpeg($image, null, $q); die();
} else {
    $watermark = @imagecreatefrompng('watermark.php');
}
/*
//if you want to use the watermark only on bigger images then use this instead of the condition above
if ($img_w < "150") {//if image width is less then 150 pixels
    imagejpeg($image, null, $q); die();
} else {
    $watermark = @imagecreatefrompng('watermark.png');
}
*/

//getting the image size for the watermark
$w_w = imagesx($watermark);
$w_h = imagesy($watermark);

if($p == "tl") {
    $dest_x = 0;
    $dest_y = 0;
} elseif ($p == "tc") {
    $dest_x = ($img_w - $w_w)/2;
    $dest_y = 0;
} elseif ($p == "tr") {
    $dest_x = $img_w - $w_w;
    $dest_y = 0;
} elseif ($p == "cl") {
    $dest_x = 0;
    $dest_y = ($img_h - $w_h)/2;
} elseif ($p == "c") {
    $dest_x = ($img_w - $w_w)/2;
    $dest_y = ($img_h - $w_h)/2;
} elseif ($p == "cr") {
    $dest_x = $img_w - $w_w;
    $dest_y = ($img_h - $w_h)/2;
} elseif ($p == "bl") {
    $dest_x = 0;
    $dest_y = $img_h - $w_h;
} elseif ($p == "bc") {
    $dest_x = ($img_w - $w_w)/2;
    $dest_y = $img_h - $w_h;
} elseif ($p == "br") {
    $dest_x = $img_w - $w_w;
    $dest_y = $img_h - $w_h;
}

imagecopy($image, $watermark, $dest_x, $dest_y, 0, 0, $w_w, $w_h);
imagejpeg($image, null, $q);
imagedestroy($image);
imagedestroy($watermark);

if ( function_exists( 'add_theme_support' ) ) { 
add_theme_support( 'post-thumbnails' );
set_post_thumbnail_size( 500, 650 ); // default Post Thumbnail dimensions (cropped)

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T21:23:17.400

在处理上传的全尺寸图像时，以下内容对我有用。只需从 $meta 数组中更改您要处理的文件。我的水印文件位于上传文件夹的根目录中。

```
 function water_mark($meta, $id){

    if(!isset($meta['sizes'])) {
        return $meta;
    }   

    $upload_path = wp_upload_dir();     
    $path = $upload_path['basedir'];

    //handle the different media upload directory structures
    if(isset($path)){       
        $file = trailingslashit($upload_path['basedir'].'/').$meta['file'];
        $water_path = trailingslashit($upload_path['basedir'].'/').'watermark.png';
    }else{
        $file = trailingslashit($upload_path['path']).$meta['file'];
        $water_path = trailingslashit($upload_path['path']).'watermark.png';
    }

    //list original image dimensions
    list($orig_w, $orig_h, $orig_type) = @getimagesize($file);

    //load watermark - list its dimensions
    $watermark = imagecreatefrompng($water_path);
    list($wm_width, $wm_height, $wm_type) = @getimagesize($water_path); 
    //if your watermark is a transparent png uncomment below
    //imagealphablending($watermark, 1);

    //load fullsize image
    $image = wp_load_image($file);
    //if your watermark is a transparent png uncomment below
    //imagealphablending($image, 1);

    //greyscale image
    imagefilter($image, IMG_FILTER_GRAYSCALE);

    //create merged copy
    //if your watermark is a transparent png uncomment below
    //imagecopy($image, $watermark, $orig_w - ($wm_width + 10), $orig_h - ($wm_height + 10), 0, 0, $wm_width, $wm_height);

    //if your watermark is a transparent png comment out below
    imagecopymerge($image, $watermark, $orig_w - ($wm_width + 10), $orig_h - ($wm_height + 10), 0, 0, $wm_width, $wm_height, 70);

    //save image backout
    switch ($orig_type) {
        case IMAGETYPE_GIF:
            imagegif($image, $file );
            break;
        case IMAGETYPE_PNG:
            imagepng($image, $file, 10 );
            break;
        case IMAGETYPE_JPEG:
            imagejpeg($image, $file, 95);
            break;
    }

    imagedestroy($watermark);
    imagedestroy($image);

    //return metadata info
    wp_update_attachment_metadata($id, $meta);
    return $meta;
}

add_filter('wp_generate_attachment_metadata','water_mark', 10, 2); 
```

# c# - Windows Phone 控制

> ID：12388797
> 
> 赞同：2
> 
> 时间：2012-09-12T13:01:56.307
> 
> 标签：c#, windows-phone-7.1

我有一个简单的问题：以下控件是用户控件还是我可以在 Microsoft 提供的控件库中找到它？

![控制](../Images/5a96035d51bf2e3a67cc73b26dbe892a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:04:12.183

它称为 ToggleSwitch，您可以在[Silverlight 工具包](http://silverlight.codeplex.com/)中找到它。

**编辑**

您需要安装 Silverlight 工具包并在项目中添加对 Microsoft.Phone.Controls.Toolkit.dll 的引用。

映射命名空间：

```
xmlns:toolbox="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit" 
```

使用控制：

```
<toolbox:ToggleSwitch/> 
```

# visual-studio-2012 - 如何创建没有 page.designer.cs 文件的 Web App 项目？

> ID：12388798
> 
> 赞同：0
> 
> 时间：2012-09-12T13:01:58.560
> 
> 标签：visual-studio-2012, web, deployment, publish, projects

在 Visual Studio 2012 中没有网站部署，好的，我切换到 Web 项目，现在它已经生成了大量 page.designer.cs 文件，我如何在没有 Designer.cs 文件的情况下制作 Web 应用程序项目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:19:13.117

Visual Studio 创建这些文件是为了方便编码，当你创建一个新的 Web 应用项目时，你总是会得到这些文件。这些文件创建了设计网页所需的必要代码。

但是一旦您使用 VS2010 发布器将 Web 应用程序发布到服务器，这些文件就消失了，只剩下 .aspx 文件。为什么会这样？因为您的代码（即 .cs 文件）需要先编译才能发布到服务器上。

# html - 将“嵌入式”XML 文档转换为 XSLT (1.0) 中的 CDATA 输出

> ID：12388800
> 
> 赞同：2
> 
> 时间：2012-09-12T13:02:01.920
> 
> 标签：html, xml, xslt, cdata

给定这样的输入 XML 文档：

```
<?xml version="1.0" encoding="utf-8"?>
<title> This contains an 'embedded' HTML document </title>
<document>
<html>
<head><title>HTML DOC</title></head>
<body>
Hello World
</body>
</html>
</document>
</root> 
```

如何提取“内部”HTML 文档；将其呈现为 CDATA 并包含在我的输出文档中？

所以输出文档将是一个 HTML 文档；其中包含一个将元素显示为文本的文本框（因此它将显示内部文档的“源视图”）。

我试过这个：

```
<xsl:template match="document">
<xsl:value-of select="*"/>
</xsl:template> 
```

但这只会渲染文本节点。

我试过这个：

```
<xsl:template match="document">
<![CDATA[
<xsl:value-of select="*"/>
]]>
</xsl:template> 
```

但这逃脱了实际的 XSLT，我得到：

```
&lt;xsl:value-of select="*"/&gt; 
```

我试过这个：

```
<xsl:output method="xml" indent="yes" cdata-section-elements="document"/>
[...]
<xsl:template match="document">
<document>
<xsl:value-of select="*"/>
</document>
</xsl:template> 
```

这确实插入了一个 CDATA 部分，但输出仍然只包含文本（剥离的元素）：

```
<?xml version="1.0" encoding="UTF-8"?>
<html>
   <head>
      <title>My doc</title>
   </head>
   <body>
      <h1>Title: This contains an 'embedded' HTML document </h1>
      <document><![CDATA[
                                                HTML DOC

                                                                Hello World

                                ]]></document>
   </body>
</html> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-12T23:01:05.290

您需要在这里澄清两个困惑。

首先，您可能想要`xsl:copy-of`而不是`xsl:value-of`. 后者返回元素的字符串值，前者返回元素的副本。

其次，`cdata-section-elements`属性 on`xsl:output`影响文本节点的序列化，但不影响元素和属性。获得所需内容的一种方法是自己序列化 HTML，如下所示（未测试）：

```
<xsl:template match="document/descendant::*">
  <xsl:value-of select="concat('&lt;', name())"/>
  <!--* attributes are left as an exercise for the reader ... *-->
  <xsl:text>&gt;</xsl:text>
  <xsl:apply-templates/>
  <xsl:value-of select="concat('&lt;/', name(), '>')"/>
</xsl:template> 
```

但更快的方法是类似于以下解决方案（娇气的读者，现在停止阅读），我的朋友 Tommie Usdin 向我指出。删除`cdata-section-elements`属性并将元素`xsl:output`的模板替换为：`document`

```
<xsl:template match="document">
  <document>
    <xsl:text disable-output-escaping="yes">&lt;![CDATA[</xsl:text>
    <xsl:copy-of select="./html"/>
    <xsl:text disable-output-escaping="yes">]]&gt;</xsl:text>
  </document>
</xsl:template> 
```

# iphone - （由于未捕获的异常“NSInvalidArgumentException”而终止应用程序）

> ID：12388801
> 
> 赞同：0
> 
> 时间：2012-09-12T13:02:02.267
> 
> 标签：iphone, objective-c, json, nsmutablearray

我正在使用 uitableview 来显示 json 解析数据。解析后的数据存储在数组中，数组列表为 100 分配给 uitableview。但它在**{forloop}**的 objectAtIndex 处崩溃，它显示崩溃报告为

**由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“****-[NSMutableArray insertObject:atIndex:]: 尝试在 0' 处插入 nil 对象***

 *请帮助我

```
 - (void)viewDidLoad
{
    self.responseData = [NSMutableData data];
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:openexchangeURl]];
    [[NSURLConnection alloc] initWithRequest:request delegate:self];
    [super viewDidLoad];

}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response 
{
    [responseData setLength:0];
}
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data 
{
    [responseData appendData:data];
}
- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {
    [connection release];
    self.responseData = nil;
}
- (void)connectionDidFinishLoading:(NSURLConnection *)connection 
{
    [connection release];

    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    self.responseData = nil;

    values = [responseString JSONValue];
    array = [[NSMutableArray alloc] init];
    NSMutableArray *arrTitle = [[NSMutableArray alloc] init];
    NSMutableArray *arrValues = [[NSMutableArray alloc] init];
    array =[values valueForKey:@"rates"];

    NSLog(@"array values:--> %@",array);
//    NSLog(@"values:--> %@",values);
//    NSLog(@"Particular values:--> %@",[[values valueForKey:@"rates"] valueForKey:@"AED"]);

    tempDict1 = (NSMutableDictionary *)array;            
    NSArray *arr;// =[[NSArray alloc]init];
    arr = [[tempDict1 valueForKey:@"rates"] componentsSeparatedByString:@";"];
    NSLog(@"arr-->%@",arr);
    NSString *subStar = @"=";
    [arrTitle removeAllObjects];
    [arrValues removeAllObjects];

    for (int i=0; i<[arr count]-1; i++)
    {
        [arrTitle addObject:[[arr objectAtIndex:i] substringToIndex:NSMaxRange([[arr objectAtIndex:i] rangeOfString:subStar])-1]];
        [arrValues addObject:[[arr objectAtIndex:i] substringFromIndex:NSMaxRange([[arr objectAtIndex:i] rangeOfString:subStar])]];
        NSLog(@"arrTitle is:--> %@",arrTitle);
    }

    tempDict1 = (NSMutableDictionary*)[array objectAtIndex:0];
    array = [values valueForKey:@"rates"];
    NSLog(@"tempDict--%@",[tempDict1 objectForKey:@"AED"]);

    [array retain];
    [tbl_withData reloadData];

}
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    NSLog(@"array-->%@",array);
    return [array count];

}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    intIndexPath = indexPath.row;
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
        cell.textLabel.adjustsFontSizeToFitWidth = YES; 
        cell.textLabel.font = [UIFont systemFontOfSize:8]; 
        cell.textLabel.numberOfLines = 4; 

    }

//    NSLog(@"data is like:--> %@",array);
//    cell.textLabel.text= [NSString stringWithFormat:@"%@",[array objectAtIndex:intIndexPath]];
    cell.textLabel.text =[array objectAtIndex:intIndexPath];

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:42:15.870

以正确的格式从服务器获取数据...在您的情况下，您的数据位于一个数组中。所以让它在不同的不同阵列中..

```
{"reply":["AED = 3.673188","AFN = 48.5725","","","",""]} 
```

或者您可以解析您的响应并将单个数据保存到另一个数组中......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:06:20.343

您的数组中只有一项，这里是您只添加一个对象的地方：

```
array = [[NSMutableArray alloc] init];
[array addObject:[values valueForKey:@"rates"]]; 
```

您应该将从 中获得的值分配给`[values valueForKey:@"rates"]`数组变量。还要使数组变量成为保留值的属性。

```
@property (nonatomic, strong) NSArray *array; 
```

然后将其分配给属性：

```
self.array  = [values valueForKey:@"rates"]; 
```

* * *

还将单元格的所有样式移动到创建新单元格的位置。这会加快速度，因为您不会每次都更改单元格的样式。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];
    if (cell == nil) {
       cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier] autorelease];
       cell.textLabel.adjustsFontSizeToFitWidth = YES;  
       cell.textLabel.font = [UIFont systemFontOfSize:8];  
       cell.textLabel.numberOfLines = 4;  

    }
    NSLog(@"data is like:--> %@",array);
    //    NSString *cellValue =[array objectAtIndex:indexPath.row];
    //    cell.textLabel.text = cellValue;

    cell.textLabel.text= [NSString stringWithFormat:@"%@",[array objectAtIndex:indexPath.row]];

    return cell;
} 
```*

# android - 无法通过 URL Android 检索 json 内容

> ID：12388803
> 
> 赞同：0
> 
> 时间：2012-09-12T13:02:16.713
> 
> 标签：android, json, url

我正在编写一个小型 android 应用程序，它将通过 URL 获取 json 文件内容，然后对其进行解析和格式化。但是内容没有被获取，我的应用程序显示“不幸的是已经停止”。这是我的[代码](http://pastebin.com/ewPdB7Uy)

这是日志错误

> 09-12 18:37:15.565: E/AndroidRuntime(2374): java.lang.RuntimeException: 无法启动活动 ComponentInfo{my.tatasky/my.tatasky.TataskyActivity}: android.os.NetworkOnMainThreadException
> 
> 09-12 18:37:15.565: E/AndroidRuntime(2374): 在 my.tatasky.TataskyActivity.readJson(TataskyActivity.java:154)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:05:19.770

在我的应用程序中，我使用 gson。它简单快捷：

[https://sites.google.com/site/gson/gson-user-guide](https://sites.google.com/site/gson/gson-user-guide)

例子： `GsonBuilder builder = new GsonBuilder(); Gson gson = builder.create(); gson.fromJson(json, MyObject[].class);`

尝试在新线程上运行它。

# regex - 正则表达式在 C++ 中查找所有出现的 new [] 运算符

> ID：12388804
> 
> 赞同：0
> 
> 时间：2012-09-12T13:02:20.673
> 
> 标签：regex

我想在我的 Visual Studio C++ 项目中搜索新运算符的数组版本，例如

```
some_type some_variable = new my_name [some_size]; 
```

我试过这个但它不起作用：

```
new [a-zA-Z0-9]+ \[ 
```

如何使用 regex 实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:13:10.000

您需要在您的字符类（`[a-zA-Z0-9]+`部分）中允许所有有效的标识符字符。例如，在您的示例中，您有一个下划线。此外，您可能希望标识符和括号之间的空格是可选的。

试试这个：

```
new [A-Za-z0-9_]+\s*\[ 
```

但是请检查有关哪些字符有效的规范`my_name`

# c++ - 如何从列表中删除奇数位置？

> ID：12388806
> 
> 赞同：2
> 
> 时间：2012-09-12T13:02:25.230
> 
> 标签：c++, list, visual-c++, stl, listiterator

```
#include<iostream>
#include<list>
using namespace std;

void compute(int num)
{
list<int> L;
list<int>::iterator i;
list<int>::iterator i2;
int p;
cout<<"Enter the number of numbers\n";
cin>>p;
int a;
for(int k=1;k<=p;k++)
{
    cin>>a;
    L.push_back(k);
}
cout<<endl;
for(i=L.begin() ; i!=L.end() ; ++i)
{
    cout<<*i<<endl;
}

long int k=1;

for(i=L.begin() ; i!=L.end() ; ++i )
{
    if(k%2!=0) //This is where I try and delete values in odd positions
    {
        i2=L.erase(i);
    }
    k++;
}

for(i=L.begin() ; i!=L.end() ; ++i )
{
    cout<<*i<<endl;
}

}

int main()
{
//  int testcases, sailors;
//cin>>testcases;

//for(int i=1 ; i<=testcases ; i++)
{
//  cin>>sailors;
}
//for(int i=1;i<=testcases;i++)
{
//  int num;
    //cin>>num;
    //compute(num);
}
compute(0);
return 0; 
```

}

我正在尝试使用列表中的 L.erase() 函数擦除元素。但是我收到一条错误消息，说“调试断言失败！......表达式：列表迭代器不可增加”但我们可以增加迭代器，对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:04:39.237

从技术上讲，在这种情况下不是。

当您使用 erase() 时，您删除了指向的节点，因此您实际上使您所在的迭代器无效。因此，当您增加它时，它是未定义的行为。

最好创建第二个列表，其中仅包含您要删除的位置的迭代器，然后您可以循环遍历这些列表并在之后调用擦除。您不会从第二个列表中删除迭代器，所以它会起作用。

像这样的东西：

```
List<IteratorType> deleteList;

//Populate deleteList with every other element from original list.

for (List<IteratorType>::iterator iter = deleteList.begin();
         iter !=deleteList.end; ++iter)
{
    originalList.erase(*iter);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:07:25.670

除了 wOOte 所说的，您可能希望使用反向迭代器来解决这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T13:07:41.083

`erase`使作为参数传入的迭代器无效 - 因为迭代器指向的位置的元素刚刚被擦除！在同一个迭代器上，在代码的下一个 for 循环中尝试递增！这就是它失败的原因。

但是，擦除它会返回一个指向新位置的迭代器，我们可以使用它；因此，您从 STL 容器中删除某些内容的循环应如下所示；我用你使用的类型来展示它，列表，但你也可以使用例如向量：

```
list<int> L;
// ...
list<int>::iterator it=L.begin();
while (it!=L.end())
{
    if(eraseCondition)
    {
        it=L.erase(it);
    }
    else
    {
        ++it;
    }
} 
```

或者，如果可能，最好使用[`std::remove_if`](http://www.cplusplus.com/reference/algorithm/remove_if/)：

```
container.erase(std::remove_if(L.begin(), L.end(), predicate), L.end()); 
```

在您的情况下，这将很难（如果不是不可能的话）使用，因为它`predicate`需要状态信息（索引是奇数还是偶数的信息）。所以我建议使用上面提到的循环结构；请记住 remove_if 对于删除某个谓词返回 true 的所有元素的一般情况！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T13:08:00.513

迭代器`i`因调用而失效`erase`；但是，在`for`循环的下一次迭代中，您尝试增加它 - 这是无效的。

尝试

```
for(i=L.begin() ; i!=L.end() ; )
{
    if(k%2!=0) //This is where I try and delete values in odd positions
    {
        i=L.erase(i);
    } else {
        ++i;
    }
    k++;
} 
```

相反 - 如果您不擦除，则仅增加迭代器（擦除基本上“推进”迭代器，因为它会产生一个迭代器到您擦除的元素之后的元素）。

您实际上可以利用这种行为`erase`来编写您的函数，而无需`k`：

```
i = L.begin();
while ( i != L.end() ) {
    i = L.erase( i );      // Delete one
    if ( i != L.end() ) {  // Skip next, if there's an element
      ++i;
    }
} 
```

所以你删除第一个元素，跳过第二个，删除第三个，依此类推。

# android - 下载NDK r8后是否需要下载更多？

> ID：12388807
> 
> 赞同：1
> 
> 时间：2012-09-12T13:02:31.997
> 
> 标签：android, android-ndk, installation

我已经下载了 android-ndk-r8b.zip(180MB)，但我想知道是否需要下载其他东西？我正在使用 NDK，因为我想在我的 android 库中使用 C/C++ 本机代码（在 tesseract3.0 项目中使用）。我正在使用 Eclipse IDE（靛蓝）。我还安装了以下

1.  [从 Eclipse 更新站点http://download.eclipse.org/tools/cdt/releases/indigo](http://download.eclipse.org/tools/cdt/releases/indigo)安装 CDT 。
2.  [从 Eclipse 更新站点https://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)安装 Android SDK + NDK 插件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:10:55.297

如果你想在 Indigo 下编写代码，你不需要任何其他东西，但是我发现 Eclipse 是一个糟糕的 C 和 C++ IDE，我建议只使用文本编辑器和终端进行编码，因为它更加灵活和可靠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T14:44:20.323

要使用 eclipse 在 android 中开发，您需要：Android-SDK、Android-NDK 和 eclipse 插件。

如果您使用 windows，您还需要安装 cygwin 1.7 或更高版本。
您需要 gnu Make 3.81 或更高版本以及最近的 gawk（在 cygwin 安装期间包括它们）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T07:42:45.203

有关详细说明，请参见[http://developer.android.com/tools/help/adt.html](http://developer.android.com/tools/help/adt.html)。除了 eclipse 和 SDK，您还应该安装[ADT Plugin](http://developer.android.com/tools/sdk/eclipse-adt.html)。Form 20版本，[插件支持原生开发](http://tools.android.com/recent/usingthendkplugin)，除了java.

# javascript - 谷歌地图看起来在 div 内移动

> ID：12388816
> 
> 赞同：2
> 
> 时间：2012-09-12T13:03:00.713
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3

我在使用谷歌地图时遇到问题。我将地图 JS 加载到一个文件中，在该文件中我使用 ajax（和 jquery）附加了一个模式 div，其中包含地图。我得到了类似下图的东西：

![正确的地图](../Images/377054e1459ffd90b2a12e08d8370bb0.png)

但是，当我“关闭”模式（删除 div 并因此删除地图）并尝试再次打开它时，会出现问题：

![移动地图](../Images/5ccd70675eb681b44867adfa39218b54.png)

除了看起来不完整之外，看起来地图认为它的左上角是 div 之外的一些像素。我向您保证，因为当我尝试移动地图时，它会刷新其内容并删除地图的“不可见”（在这种情况下是不幸可见）部分。我将在这里留下用于显示地图的代码（虽然它非常简单）。

```
var marker = null, geocoder, latLng, map = null;
geocoder = new google.maps.Geocoder();
latLng = new google.maps.LatLng(41.3865, 2.1648);
var myOptions = {
    zoom: 16,
    center: latLng,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    disableDefaultUI: false
};
if(map === null) {
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
}

function clearOverlays() {
    if (marker !== null) {
        marker.setMap(null);
        marker = null;
    }
}

function getPosition(address, title) {
    clearOverlays();

    geocoder.geocode({
            address : address,
            region : 'es'
        },
        function (results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
                var result = results[0];
                latLng = result.geometry.location

                marker = new google.maps.Marker({
                    'title': title,
                    'map': map,
                    'position': latLng,
                    'animation': google.maps.Animation.DROP
                });
                map.setCenter(latLng);
            }
        }
    );
}

getPosition(place.address, place.title); 
```

为了这个例子，让我们假设`place`一个对象包含`address`和`title`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T14:05:29.943

版本 2 有一个 checkresize()，我记得在这种地图会移动中心点的情况下使用它。我认为 v3 等价物是这样的：

google.maps.event.trigger(map, 'resize');

# html - 如何避免两个边界之间的差距？

> ID：12388822
> 
> 赞同：0
> 
> 时间：2012-09-12T13:03:27.203
> 
> 标签：html, css

我安装了 SmartJobBoard。在搜索结果页面上，我要求我的设计师添加边框环绕优先广告和突出广告。免费广告没有边框。

在每个广告之间都会有分隔广告的底线。优先广告始终位于结果之上，而较少的广告将按最近发布的日期（混合）排序。当有两个带有边框的广告时，那里就有一个间隙。我的问题是如何避免差距？

```
<tr><td colspan="6" class="separateListing noBorder"> </td></tr>
.separateListing {
border-bottom: 1px dotted #B2B2B2;
margin: 0px; padding: 0px;
}
.separateListing.noBorder {
border-bottom: 1px solid white;
} 
```

您可以在以下位置查看 html 代码：[HTML 源代码](http://txtup.net/NPiBM)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:07:02.320

如何在桌子上设置样式：`border-collapse: collapse`

# python - Debian Linux下远程服务器机器上安装Beautiful soup

> ID：12388824
> 
> 赞同：0
> 
> 时间：2012-09-12T13:03:42.157
> 
> 标签：python, linux, installation, beautifulsoup

我需要在 Debian Linux 下的远程服务器机器上安装 Beautiful soup（Python 已经存在）。但我在家里，桌面上有 Win 7。你能指导我的安装过程吗？我只有 beautifulsoup4-4.1.3.tar.gz 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:17:54.323

为什么不通过命令行下载服务器中的文件并进行常规安装

```
wget http://pypi.python.org/packages/source/B/BeautifulSoup/BeautifulSoup-3.2.1.tar.gz#md5=44656527ef3ac9874ac4d1c9f35f70ee 
tar xvf BeautifulSoup-3.2.1.tar.gz
python setup.py install 
```

# windows - 批处理文件 - 如何读取由空格分隔的字符串的第一个标记

> ID：12388827
> 
> 赞同：1
> 
> 时间：2012-09-12T13:03:49.887
> 
> 标签：windows, string, batch-file, tokenize

使用批处理脚本，我想获得由空格分隔的行的第一个标记。这可以在没有 for 循环的情况下完成吗？

```
example input: a b c d
example output: a 
```

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T14:31:52.933

`CALL`使用如下命令将文本作为批处理参数传递：

```
@echo off
setlocal
set text=a b c d
set result=
call :getFirstParam %text%
echo %result%
goto :eof
:getFirstParam
set result=%1
goto :eof 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:05:47.700

您可以这样使用 AWK：

```
awk '{print $1}' <your_file> 
```

# wordpress - 带有错误处理的wordpress woocommerce自定义登录

> ID：12388829
> 
> 赞同：1
> 
> 时间：2012-09-12T13:03:53.520
> 
> 标签：wordpress, login, woocommerce

我目前正在设计一个带有自定义下拉登录的网站，请参见此处：

[http://tens-ecigs.co.uk/test/](http://tens-ecigs.co.uk/test/)

登录脚本不是我开发的，我怀疑它不完全正确，看着它应该有错误处理但是当我输入错误的用户名或密码时，它会将我带到标准的 wordpress 登录页面并在那里处理错误.

任何人都可以在处理下拉菜单上的错误而不是重定向到标准的wordpress登录方面指出我正确的方向吗？这是当前代码：

```
 <fieldset id="signin_menu">
<?php if (is_user_logged_in()) {

        $user = get_user_by('id', get_current_user_id());

        if ( $logged_in_title ) echo $before_title . sprintf( $logged_in_title, ucwords($user->display_name) ) . $after_title;

        do_action('woocommerce_login_widget_logged_in_before_links');

        $links = apply_filters( 'woocommerce_login_widget_logged_in_links', array(
            __('My account', 'woocommerce')     => get_permalink(woocommerce_get_page_id('myaccount')), 
            __('Change my password', 'woocommerce') => get_permalink(woocommerce_get_page_id('change_password')),
            __('Logout', 'woocommerce')     => wp_logout_url(home_url())
        ));

        if (sizeof($links>0)) :

            echo '<div style="padding-left:10px">';

            foreach ($links as $name => $link) :
                echo '<a href="'.$link.'">'.$name.'</a><br>';
            endforeach;

            echo '</div>';
        endif;  

        do_action('woocommerce_login_widget_logged_in_after_links');

    } else {

        if ( $logged_out_title ) echo $before_title . $logged_out_title . $after_title;

        do_action('woocommerce_login_widget_logged_out_before_form');

        global $login_errors;

        if ( is_wp_error($login_errors) && $login_errors->get_error_code() ) foreach ($login_errors->get_error_messages() as $error) :
            echo '<div class="woocommerce_error">' . $error . "</div>\n";
            break;
        endforeach;                 

        // Get redirect URL
        $redirect_to = apply_filters( 'woocommerce_login_widget_redirect', get_permalink(woocommerce_get_page_id('myaccount')) );
        } ?> 
```

/test/wp-login.php" method="post"> 用户名

密码

记得我

" id=forgot_username_link title="如果您忘记了密码，可以在这里找回" >忘记密码？

# php - 在嵌套函数内的静态方法中使用变量

> ID：12388830
> 
> 赞同：0
> 
> 时间：2012-09-12T13:03:55.340
> 
> 标签：php, global-variables

标题可能有点混乱，所以让我解释一下。我有一个类和一个方法。那个方法本身有一个功能。像这样：

```
class MyClass {
   public static function my_function($param) {
      function nested_function() {
        //do something with $param
      }
   }
} 
```

所以我的问题是，我怎样才能`$param`访问`nested_function`？

**编辑**

我这样做的原因是因为 wordpress 的事情。我需要这样的东西：

```
class MyClass {
   public static function my_function($param) {
      function nested_function() {
        //do something with $param
      }

      add_action('init', 'nested_function');
   }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:09:04.873

这不是一件明智的事情。PHP 中的所有命名函数都是全局的。将它们嵌套在其他东西中只会使它们的声明有条件。即你不能打电话`nested_function`，直到你打电话`MyClass::my_function`。之后你不能`MyClass::my_function`再次调用，因为 PHP 会尝试重新声明一个现有的函数。

也许你想要一个闭包，即一个*匿名*函数，它可以包含来自父作用域的变量：

```
public static function my_function($param) {
    $nested_function = function () use ($param) {
        //do something with $param
    };
} 
```

# c# - 如何创建 ASP.NET 网络表单全局值

> ID：12388838
> 
> 赞同：0
> 
> 时间：2012-09-12T13:04:20.003
> 
> 标签：c#, asp.net, webforms

我有一个 webforms 应用程序，其功能经常需要特定值，在这种情况下是登录用户：

```
// Get user
string strUser = (HttpContext.Current.User.Identity.Name); 
```

仅填充此字符串一次并从我的应用程序中的任何位置调用它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:05:55.683

你可以有一个 Session 变量来保存它

```
Session["UserName"] = "myusername"; 
```

如果它是一个会话相关变量，例如登录用户名，请使用`Session state` else use `Application state`，应用程序状态适用于所有用户和会话

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-21T09:41:31.400

您可以使用应用程序变量。

```
Application["username"] = "xyz"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:07:28.323

我认为您可以在 Global.asax 文件中声明此变量。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-12T13:06:24.247

没有办法在 Web 应用程序中存储全局值，它们是无状态的。您可以使用 Session 变量。

`Session["Login"] = HttpContext.Current.User.Identity.Name;`

您可以做的另一件事是创建一个`static`带有`static`变量的类并在 say 上赋值`Page Load`。

# blackberry - 黑莓音频格式控件

> ID：12388842
> 
> 赞同：2
> 
> 时间：2012-09-12T13:04:30.527
> 
> 标签：blackberry

当我在 os 5 上录制语音时，我想让 AudioFormatControl 格式化质量，我写了代码

像这样 ，

```
 player = Manager.createPlayer(encoding);
        player.realize();
        recordControl = (RecordControl) player.getControl(controlType);
        AudioFormatControl format = (AudioFormatControl) player
            .getControl("AudioFormatControl");
        format.setFormat("audio/amr");
        format.setParameter(FormatControl.PARAM_VERSION_TYPE,
                "MPEG1_layer_3");
        format.setParameter(FormatControl.PARAM_BITRATE, kbps);
        player.addPlayerListener(recordListener); 
```

但格式为空，请帮助我，如何在黑莓中获取 AudioFormatControl

# javascript - 将下载链接从 Web 浏览器传递到第三方应用程序

> ID：12388848
> 
> 赞同：2
> 
> 时间：2012-09-12T13:04:43.667
> 
> 标签：javascript, safari-extension, download-manager, browser-extension

我想知道如何将下载链接从网络浏览器传递到第三方应用程序，而不是让网络浏览器直接下载它。当然，浏览器扩展是必需的。但我问的是它的工作方式。例如，是否可以使用命令行？插座？或者有没有更好的方法来做到这一点？应用端和扩展端有什么要求？我也在为 Mac 开发，所以 JavaScript ActiveX 在这里不起作用。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:26:57.750

要拦截 Safari 扩展程序中的下载，您可以在主 HTML 文件中注册以接收`beforeload`事件，然后`preventDefault()`在事件上调用方法来禁止下载，如果您想以不同的方式处理它。然后，您需要某种形式的进程间通信来将链接转发到您的应用程序，一种方法是创建一个自定义 URL 方案来触发您的应用程序，例如调用`myapp:thelink`而不是`http://thelink`，并让您的应用程序向操作系统注册以处理`myapp:`协议。 ..

[http://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/MessagesandProxies/MessagesandProxies.html#//apple_ref/doc/uid/TP40009977-CH14-SW9](http://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/MessagesandProxies/MessagesandProxies.html#//apple_ref/doc/uid/TP40009977-CH14-SW9)

[http://cocoadev.com/wiki/HowToRegisterURLHandler](http://cocoadev.com/wiki/HowToRegisterURLHandler)

# ms-access - 通过链接到 Access 数据库的 ODBC 数据源进行缓慢的数据访问

> ID：12388854
> 
> 赞同：3
> 
> 时间：2012-09-12T13:05:05.793
> 
> 标签：ms-access, odbc, windows-7-x64

我的公司使用 Visual Basic 6 开发了一个应用程序。
该应用程序通过 ODBC 数据源使用 Access 数据库。
Access 数据库是一个扩展名为“.mdb”的文件。

在以下环境中运行应用程序时，我们没有注意到任何缓慢的数据访问：

*   操作系统：Windows 7 32 位。
*   已安装的 MS Access 版本：Access 2007。
*   OBDC 数据源使用的访问驱动程序：Microsoft Access Driver (*.mdb) 版本 6.01.7601.17632。

但是我们注意到在以下环境中运行应用程序时数据访问缓慢：

*   操作系统：Windows 7 64 位。
*   已安装的 MS Access 版本：Access 2010 或 2003。
*   ODBC 数据源使用的访问驱动程序：Microsoft Access Driver (*.mdb) 版本 6.01.7601.17632。

我已经搜索了一段时间以找到解决方案。
根据网上找到的文章，其他开发人员也遇到过同样的问题。

有关信息，我的 ODBC 32 位管理员中未启用跟踪功能。
以下页面提到了跟踪功能：
[http ://answers.microsoft.com/en-us/office/forum/office_2010-access/my-solution-to-access-being-slow-with-odbc/a5a6522f-a70f- 421e-af1b-48327075e010](http://answers.microsoft.com/en-us/office/forum/office_2010-access/my-solution-to-access-being-slow-with-odbc/a5a6522f-a70f-421e-af1b-48327075e010)

我还尝试禁用 LLMNR 协议，但未成功，如下页所述： [http ://accessexperts.net/blog/2011/11/02/windows-7-64bit-slow-with-access-2007-solved/](http://accessexperts.net/blog/2011/11/02/windows-7-64bit-slow-with-access-2007-solved/)

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T02:21:18.503

有很多事情要检查，你要做的第一件事就是在你的应用程序中创建我们称之为持久连接的东西。持久连接只是意味着在您的启动代码中的某处，您打开一个从后端到记录集的表，并在您在该应用程序中执行的任何其他操作期间保持打开状态。

持久连接通常会产生巨大差异的原因是，较新的操作系统在创建与数据库的连接时往往确实具有大量额外的安全性和开销。事实证明，通常在 access 数据库中打开和关闭表需要同时打开和关闭这些连接。如果您强制持久连接始终保持打开状态，那么现在不会发生这种干扰代码中一般更新的一般性能的非常缓慢且大量开销的过程。

试试上面的方法，因为这个设置经常解决这个性能问题和问题。

# php - 无法在 Windows x64 上安装 WSO2 for PHP -- PHP 启动：无法加载动态库 'ext\wsf.dll'

> ID：12388855
> 
> 赞同：0
> 
> 时间：2012-09-12T13:05:05.547
> 
> 标签：php, wso2

我想我已经按照安装说明进行操作，但显然我错过了一些东西。基本上，使用 php.ini 文件中的 DLL，我得到：

PHP 启动：无法加载动态库 'ext\wsf.dll'

没有它，一切都很好。以下是 phpinfo 的一些亮点：

```
PHP Version 5.4.6

extension_dirext ext ext

include_path: .;c:\php\includes;C:\PHP\wso2-wsf-php-bin-2.1.0-win32\scripts 
```

小路 ：

```
c:\php;C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib;c:\php\ext;C:\Program Files\Common Files\Microsoft Shared\Windows Live;C:\Program Files (x86)\Common Files\Microsoft Shared\Windows Live;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\DMIX;C:\Program Files (x86)\Windows Live\Shared;c:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\;c:\Program Files\Microsoft SQL Server\100\Tools\Binn\;c:\Program Files\Microsoft SQL Server\100\DTS\Binn\;C:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE\;C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies\;C:\Program Files (x86)\Microsoft SQL Server\100\DTS\Binn\;C:\Windows\idmu\common;C:\Program Files\Microsoft\Web Platform Installer\;C:\Program Files (x86)\Microsoft ASP.NET\ASP.NET Web Pages\v1.0\;C:\Program Files (x86)\Windows Kits\8.0\Windows Performance Toolkit\;C:\Program Files\Microsoft SQL Server\110\Tools\Binn\;

WSFC_HOME : C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c 

From the php.ini:
[wsf] 
wsf.home="C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c" 
wsf.log_path="C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\logs\" 
wsf.log_level=4 

wsf.rm_db_dir="C:\windows\temp\" 
```

在尝试在 Process Monitor 中启动 PHP 时，我还观察了该过程。我看到 c:\php\ext\wsf.dll 已加载。然后它开始查找依赖项列表，沿着路径查找并在 lib 文件夹中找到大部分依赖项。

```
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\axutil.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\axis2_engine.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\axiom.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\axis2_parser.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\guththila.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\neethi.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\rampart.dll
C:\Windows\SysWOW64\libeay32.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\neethi_util.dll
C:\PHP\wso2-wsf-php-bin-2.1.0-win32\wsf_c\lib\sandesha2_client.dll 
```

写入错误日志：

```
[12-Sep-2012 12:48:12 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library 'ext\wsf.dll' - The specified procedure could not be found. in Unknown on line 0 
```

继续：

```
C:\PHP\ext\php_xsl.dll 
```

我看到的最后一件事是读取不存在的注册表项的一些失败尝试，Per Directory Values Key 就是它所追求的。

建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:14:51.813

恐怕 PHP 的 wso2 与 PHP 5.4 不兼容我尝试在 linux 上为 PHP 编译 wso2 扩展，并且仅在 PHP 5.3 上成功。Windows可能存在相同的问题。

您可以尝试将您的 PHP 降级到 5.3 版本并检查它是否可以在这种情况下工作。

由于以下原因，我还应该警告您不要在生产中使用此扩展：

*   [对他们的回购](http://svn.wso2.org/repos/wso2/trunk/wsf/php/)的最新承诺是近一年前做出的
*   [他们的JIRA](https://wso2.org/jira/browse/WSFPHP)也有一年左右没有进展
*   在 jira 中被设置为该项目的项目经理的人似乎正在从事另一个项目
*   他们没有响应 jira 中的错误报告
*   这个扩展在 linux 上有已知的稳定性问题（检查 stackoverflow 或他们的 jira with keyworkds "wso2 php segmentation fault"）

在最近的项目中，我们也应该使用 wso2 php 扩展，但经过一些研究，我们发现这个扩展不稳定并且不再受支持。不幸的是，目前我们不知道改用什么并寻找其他解决方案。

# windows-phone-7.1 - 背景音频播放器：无法在设备上运行

> ID：12388856
> 
> 赞同：0
> 
> 时间：2012-09-12T13:05:09.123
> 
> 标签：windows-phone-7.1, windows-phone

我正在尝试使用背景音频播放器但没有成功。该应用程序在模拟器中完美运行，但在诺基亚 Lumia 800 上无法正常运行。我在以下位置阅读了整个线程：[http ://social.msdn.microsoft.com/Forums/en-US/wpdevelop/thread/394de7c4-4334- 46f8-a01a-30b49c6ec242/](http://social.msdn.microsoft.com/Forums/en-US/wpdevelop/thread/394de7c4-4334-46f8-a01a-30b49c6ec242/)但这不是编解码器问题。

我在做什么？我使用远程服务器源 URI 创建了一个 AudioTrack 对象，并将其设置为 BAP 实例。然后我调用 Play()。播放器的状态将变为“正在播放”，但设备上没有声音。

我做了什么来确保这不是编解码器问题？我更新了上述代码，首先从远程服务器源 URI 下载整个文件并将其保存到隔离存储中。然后我使用本地文件 URI 创建了一个 AudioTrack 对象并获得了声音。

所以，我怀疑这是一个缓冲问题，因为我的播放器从未将其状态更改为 BufferingStarted 或 BufferingStopped。但是，不幸的是，我不知道我能做些什么来帮助解决这个问题。

有任何想法吗？

非常感谢，法比安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-04T02:51:09.527

关于这类问题有一篇很棒的文章：http: [//www.johanpaul.com/blog/2012/09/wp75-backgroundaudioplayer-crashes/](http://www.johanpaul.com/blog/2012/09/wp75-backgroundaudioplayer-crashes/)

# compact-framework - 是否存在任何带有 WinCE 的 miniPC

> ID：12388860
> 
> 赞同：-1
> 
> 时间：2012-09-12T13:05:21.287
> 
> 标签：compact-framework, windows-ce

我想获得一台带有 WinCE 7 操作系统的 miniPC，是否存在类似[这样](http://www.ebay.com/itm/New-arrival-YC-U1-Android-Google-TV-Player-Dual-Core-4GB-Memory-Mini-PC-Black-/221075632051?pt=US_Internet_Media_Streamers&hash=item3379226fb3#ht_5536wt_1141)或[这样](http://www.ovalelephant.com/p-2077-new-dual-core-rockchip-3066-android-mini-pc-android-1gb-ddr3-ram)的类似物？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:33:21.400

[eBox 3300MX](http://www.wdlsystems.com/modperl/view_services.cgi?r=detail&prod_num=1EB33AJ&aisle_id=1073)附带 CE 6.0R3，但有[一个 7.0 BSP 可用](http://www.embeddedpc.net/FilesDownload/tabid/66/ArticleId/19/eBox-3300MX.aspx)，因此安装 7.0 非常简单。

# css - 内联块 div 未正确应用填充

> ID：12388862
> 
> 赞同：1
> 
> 时间：2012-09-12T13:05:28.373
> 
> 标签：css, html, css-float

你可以在这里看到一个例子：

[http://users.telenet.be/prullen/portfolio_test.html](http://users.telenet.be/prullen/portfolio_test.html)

我为portfolio_item类（该页面上的3个项目）设置了100px（所有方向）的填充。应用顶部、底部和左侧填充。但是正确的填充似乎不起作用；文本超出了 div 的边界。

```
.portfolio_item {
    width: 100%;
    clear: both;
    display: inline-block;
    padding: 100px;
} 
```

我尝试将 div 更改为 float:left 而不是 display:inline-block 但这没有帮助。

想法受到赞赏。

谢谢你，韦斯利

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:13:28.333

申请`box-sizing: border-box;`您​​的`.portfolio_item`应该可以解决问题。您必须包含一些特定的供应商前缀才能在所有现代浏览器上工作：

```
.portfolio_item {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} 
```

小演示：[小链接](http://jsfiddle.net/glee/8K2sb/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:09:48.397

应用了多个父元素 ( `.out`anb `.in`) `overflow: hidden;`。整个容器设置为 800 像素的宽度，因此内容的右侧被隐藏。填充本身有效 - 您只是在当前设置中看不到它。

```
<div style="width:800px; border:2px dashed red;">
    <div class="out">
        <div class="in">

<!-- … --> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:10:08.967

您将内部的宽度设置为 100%，但使用填充的宽度实际上是 100% + 200px。我会建议改变

```
width: 100%; 
```

到

```
width: 600px; 
```

或将填充更改为百分比，例如：

```
width: 80%;
padding: 10%; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T13:10:59.553

不要将填充应用到 div，而是专门针对文本。将文本放在“p”标签中并在 CSS 中调用它。

```
.portfolio_item p{
     padding: 100px;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T13:12:54.090

你可以这样给，

```
 .portfolio_item {
        clear: both;
        display: inline-block;
        padding: 100px;
        width: 87%;
    } 
```

# iphone - 动态标签栏+iphone sdk

> ID：12388865
> 
> 赞同：2
> 
> 时间：2012-09-12T13:05:36.077
> 
> 标签：iphone, ios, uitabbarcontroller

我在有 3 个选项卡的应用程序中动态添加了选项卡栏。现在这些 3tabs 打开特定的视图控制器：-

第一个标签打开：-信息页面

第二个标签打开：-一些列表页面

第三个标签打开：-设置页面

现在选择第三个选项卡设置页面出现在设置页面中，我有一个按钮可以将应用程序导航到一些详细设置页面。现在详细设置页面单击更改**按钮**它将更改选项卡的视图控制器。：-

第一个标签打开：-信息页面

第二个选项卡打开：-地图页面（而​​不是一些列表页面）

第三个标签打开：-设置页面**

这就是问题所在。我没有任何线索可以更改已经设置一次的第二个选项卡的视图控制器。

我在 someviewcontoller.m 文件的 viewwillappear() 函数中动态添加了标签栏：-

```
tabBarController = [[UITabBarController alloc] init];
    [tabBarController setViewControllers:[NSArray arrayWithObjects:nav1,nav2,nav3,nil]];

    [self.navigationController pushViewController:tabBarController animated:YES];

    [nav1 release]; nav1 = nil;
    [nav2 release]; nav2 = nil;
    [nav3 release]; nav3 = nil;
    [tabBarController release]; 
    tabBarController = nil; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T05:59:41.713

试试这个！nav1,nav2,nav3 是 navigationController 的对象。您必须使用 ViewController 来传递每个导航控制器。所以你需要改变nav2中的viewController。将 nav2 的 viewcontroller 的对象从 Some List 页面的 View Controller 更改为 Map Page View Controller 的对象。

更改视图控制器的对象将动态更改 Tab 按钮。希望它可以帮助你。

谢谢 ：）

# pdf - 使用 pdf-box 解析 pdf 显示未知字符

> ID：12388867
> 
> 赞同：2
> 
> 时间：2012-09-12T13:05:38.893
> 
> 标签：pdf, pdfbox

当我尝试使用由 cups pdf 生成的 java 中的 pdf 框解析 pdf 文件时，显示垃圾字符。但它与常见的 pdf 完美配合，我检查了 font cups pdf 显示 FreeMono_00.ttf （但我没有在任何地方看到这样的字体）并且工作 pdf 显示 ArialMT。

我想做的任何不同的事情来解析使用 cups-pdf 生成的 pdf。

下面是我用来解析的代码。

```
parser = new PDFParser(new FileInputStream(File file));
parser.parse();
           COSDocument  cosDoc = parser.getDocument();
           PDFTextStripperpdfStripper = new PDFTextStripper();
          PDDocument  pdDoc = new PDDocument(cosDoc);
 String parsedText = pdfStripper.getText(pdDoc); 
```

输出是这样的）LOH1DPHDVGW[W 6XEMHFWVXEMHFWVVDPSOH 0HVVDJHVHQGLQJGHWDLOVDORQJZLWKSULQWILOH 8VHU1DPH$EGXOUD]DN30 8VHU,'D#DFRP

只是复制粘贴也给出了这样的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T01:17:00.943

我只是重复我读过的内容......我在这里没有经验。如果有更多专家回答 PDF/PDFBox 问题，我会等待一个回答。

我相信该字体要么根本不包含 Unicode 表，要么已经嵌入到没有 Unicode 表的文档中。如果文本似乎是单个给定文档的[简单替换密码](http://en.wikipedia.org/wiki/Substitution_cipher)，那将倾向于证实这一点。

如果字体是嵌入的，我*认为*有时只会嵌入您实际使用的字形的提取物。这很可能在这里，因为系统上没有安装字体（你说过），并且原始的[FreeMono](http://www.fontspace.com/gnu-freefont/freemono)字体很大 - 超过 4000 个字形。在这种情况下，我担心字符和字形之间的对应关系可能取决于文档——但我在推测。

# xml - 'xmlns:web' 属性在 XML 中是否特殊？

> ID：12388877
> 
> 赞同：2
> 
> 时间：2012-09-12T13:06:21.553
> 
> 标签：xml, web.xml, xml-namespaces

很多 Java EE`web.xml`文件的示例都以

```
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" <----------
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
    id="WebApp_ID"
    version="2.5">
... 
```

虽然我认为我理解['xmlns:anything' 通常是什么意思](http://www.w3.org/TR/REC-xml-names/#ns-decl)，但我想`xsi:schemaLocation`这只是一张地图`XML namespace -> schema file (XSD?) URI`，我不知道`xmlns:web`应该是什么意思。

1.  `http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd`它是带有`web`前缀的命名空间声明吗？如果是这样，为什么大多数示例中都没有使用前缀？为什么命名空间以“.xsd”结尾——这是非标准的？

2.  如果它是默认命名空间的架构位置声明，我在哪里可以找到此功能的文档？

示例示例：

*   **Eclipse 创建的每个**“动态 Web 项目”
*   [http://docs.oracle.com/cd/E14571_01/web.1111/e13712/web_xml.htm](http://docs.oracle.com/cd/E14571_01/web.1111/e13712/web_xml.htm)
*   [新手：Web.xml Eclipse。xsi:schemaLocation & xmlns:web](https://stackoverflow.com/questions/10829350/newbie-web-xml-eclipse-xsischemalocation-xmlnsweb)
*   [http://en.wikipedia.org/wiki/Apache_Wicket](http://en.wikipedia.org/wiki/Apache_Wicket)
*   [http://scn.sap.com/community/open-source/blog/2012/05/02/nw-73-spring-31-jsf-20-and-primefaces-part-2](http://scn.sap.com/community/open-source/blog/2012/05/02/nw-73-spring-31-jsf-20-and-primefaces-part-2)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T14:33:17.007

命名空间只是一个字符串，通常采用 URI 的形式。它以 .xsd 结尾的事实可能意味着定义它的人对使用相同的字符串来标识名称空间和名称空间的模式有一些好主意，这可能是一个好主意，也可能不是一个好主意，但就目前而言就命名空间而言，是无关紧要的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T14:13:53.320

没什么特别的`xmlns:web`。它只是命名空间的声明`http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd`，以及该命名空间与`web`前缀的关联。

# c++ - C++ 字符串流连接查询

> ID：12388882
> 
> 赞同：2
> 
> 时间：2012-09-12T13:06:27.590
> 
> 标签：c++, string

该代码应该将 argv[1] 与 .txt 和 _r.txt 连接起来。

```
std::stringstream sstm;
std::stringstream sstm_r;

sstm<<argv[1]<<".txt";
sstm_r<<argv[1]<<"_r.txt";

const char* result = sstm.str().c_str();
const char* result_r = sstm_r.str().c_str();

fs.open(result);
fs_r.open(result_r);

cout<<result<<endl;
cout<<result_r<<endl; 
```

但它的作用是，当我输入 "abc" 作为 argv[1] 时，它给我的结果是 "abc_r.tx0" 和 result_r 也相同 "abc_r.tx0"。什么是正确的方法，为什么是这不对。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T13:12:11.580

`std::string`与返回的指针`c_str()`关联的实例将被销毁，留下`result`并`result_r`作为悬空指针，导致未定义的行为。`std::string`如果要使用，您需要保存实例`c_str()`：

```
const std::string result(sstm.str());

fs.open(result.c_str());  /* If this is an fstream from C++11 you
                             can pass a 'std::string' instead of a
                             'const char*'. */ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T13:14:10.643

使用这样的字符串：

```
{
  const std::string& tmp = stringstream.str();
  const char* cstr = tmp.c_str();
} 
```

这是取自[这里的另一个交易所](https://stackoverflow.com/questions/1374468/c-stringstream-string-and-char-conversion-confusion)。

# ruby-on-rails - 回形针图像尺寸自定义验证器

> ID：12388887
> 
> 赞同：7
> 
> 时间：2012-09-12T13:06:42.970
> 
> 标签：ruby-on-rails, ruby-on-rails-3, paperclip, paperclip-validation

这是我的 Image 模型，我在其中实现了一种验证附件尺寸的方法：

```
class Image < ActiveRecord::Base
  attr_accessible :file

  belongs_to :imageable, polymorphic: true

  has_attached_file :file,
                     styles: { thumb: '220x175#', thumb_big: '460x311#' }

  validates_attachment :file,
                        presence: true,
                        size: { in: 0..600.kilobytes },
                        content_type: { content_type: 'image/jpeg' }

  validate :file_dimensions

  private

  def file_dimensions(width = 680, height = 540)
    dimensions = Paperclip::Geometry.from_file(file.queued_for_write[:original].path)
    unless dimensions.width == width && dimensions.height == height
      errors.add :file, "Width must be #{width}px and height must be #{height}px"
    end
  end
end 
```

这很好用，但它不可重用，因为该方法采用固定的宽度和高度值。我想将其转换为自定义验证器，因此我也可以在其他模型中使用它。我已经阅读了有关此的指南，我知道它在 app/models/dimensions_validator.rb 中会是这样的：

```
class DimensionsValidator < ActiveModel::EachValidator
  def validate_each(record, attribute, value)
    dimensions = Paperclip::Geometry.from_file(record.queued_for_write[:original].path)

    unless dimensions.width == 680 && dimensions.height == 540
      record.errors[attribute] << "Width must be #{width}px and height must be #{height}px"
    end
  end
end 
```

但我知道我遗漏了一些东西，因为这段代码不起作用。问题是我想在我的模型中调用这样的验证：

`validates :attachment, dimensions: { width: 300, height: 200}`.

关于如何实现这个验证器的任何想法？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-12T13:15:53.730

把它放在 app/validators/dimensions_validator.rb 中：

```
class DimensionsValidator < ActiveModel::EachValidator
  def validate_each(record, attribute, value)
    # I'm not sure about this:
    dimensions = Paperclip::Geometry.from_file(value.queued_for_write[:original].path)
    # But this is what you need to know:
    width = options[:width]
    height = options[:height] 

    record.errors[attribute] << "Width must be #{width}px" unless dimensions.width == width
    record.errors[attribute] << "Height must be #{height}px" unless dimensions.height == height
  end
end 
```

然后，在模型中：

```
validates :file, :dimensions => { :width => 300, :height => 300 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-30T04:22:11.307

有一种叫做[paperclip-dimension-validator](https://github.com/anthonator/paperclip-dimension-validator)的宝石可以做到这一点。

# ruby-on-rails - 通过rails 2.3中的jquery检查主题是否存在

> ID：12388889
> 
> 赞同：0
> 
> 时间：2012-09-12T13:06:59.053
> 
> 标签：ruby-on-rails, ajax, jquery

我如何使用 jquery 在 ruby​​ on rails 中做到这一点

编码：

```
Model
  Subject

View
  <%= text_field_tag :subject_1 %>
  <%= text_field_tag :subject_2 %>
  <%= text_field_tag :subject_3 %> 
```

塞纳里奥：

> 用户在文本字段（subject_1）上键入主题代码，如果用户转到第一个文本字段（主题_1）旁边的下一个文本字段（主题_2），则会出现一个重新加载图标，然后显示相应的主题详细信息（主题名称，主题代码，主题时间表）基于键入的主题代码。如果主题不存在，它将显示一条消息“主题不存在。”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:25:30.003

这个想法是，当AJAX 调用中`blur`发生事件时，`subject1` `text_field`服务器会尝试查找具有“text_field”给出的 id/description/attribute 的主题记录并返回成功或错误。代码将是这样的：

```
$('subject_1').blur(function() {
  var field_value = $(this).val();
  $.post("/subjects/validate_subject", field_value, function(data) {
    success: function() {
      // Here you populate the subject_2 text_field with the data from the server.
    },
    error: function() {
      // Here you populate some error content in your view.
    }
  });
}); 
```

记得添加`validate_subject`到你的`routes.rb`.
这只是您问题答案的开始。我建议您阅读有关 Rails 和 Ajax 交互的内容。
这是这个主题的一个很好的指南。[http://www.simonecarletti.com/blog/2010/06/unobtrusive-javascript-in-rails-3/](http://www.simonecarletti.com/blog/2010/06/unobtrusive-javascript-in-rails-3/)

# android - 更改 GPROF 输出中的时间精度

> ID：12388891
> 
> 赞同：0
> 
> 时间：2012-09-12T13:07:06.457
> 
> 标签：android, arm, gprof

我正在尝试使用 gprof 来分析 opengl 应用程序。由于主绘图函数在一秒钟内被调用数十次，因此在特定函数中花费的时间很少。gprof 输出包含格式为“%.2f”的时间，几乎所有时间都等于 0.00：

```
[4]     35.2    0.00    0.06    9414         AbstractLayer::render(IDrawContext&) [4]
                0.00    0.02    1046/1046        SimpleTiledImageLayer::doRender(IDrawContext&) [9]
                0.00    0.02    1046/1046        AtmosphereLayer::doRender(IDrawContext&) [10]
                0.00    0.01    1046/1046        GeographicObjectLayer::doRender(IDrawContext&) [23]
                0.00    0.01    1046/1046        POILayer::doRender(IDrawContext&) [27] 
```

有没有可能让它更精确地打印时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T14:34:00.167

我刚刚修改了源代码并重新编译了 binutils。那很简单=）

# c# - 显示该位置已存在的文件对话框

> ID：12388895
> 
> 赞同：1
> 
> 时间：2012-09-12T13:07:16.170
> 
> 标签：c#, winforms, file-io, save

我有一个应用程序，用户在其中与数据库交互并准备他需要什么的报告。商品价格列在数据库中。一旦他选择了项目，他就会生成 Excel 格式的报告。当他点击 Generate a Report 按钮时，系统会询问他将报告保存在哪里。这些都很好。问题在于，当他保存报告并点击“生成报告”按钮时，当该位置存在同名文件时，他能够将同名文件保存在同一位置。它基本上取代了旧的。我写了一个代码来检查文件是否存在并且它可以工作，但问题是它不会在你保存文件的那一刻出现。之前出现过。我想要的是当我尝试将文件保存在任何位置时，它会在那一刻给我“

如果有人需要任何澄清，请发表评论，我大部分时间都在线。

这是代码

```
 private void btnRunReport_Click(object sender, EventArgs e)
    {
        if (cmbReportsList.SelectedIndex != -1)
        {
            _qry = new QueryMgt();
            OpenProjectDb();

            string _sProjectName = (dbManager.ExecuteScalar(CommandType.Text, _qry.GetProjectFileName())).ToString();
            CloseProjectDb();
            if (cmbReportsList.SelectedIndex == 0)
            {

                SaveFile.Filter = "excel 2007 (*.xlsx)|*.xlsx";                   
                SaveFile.DefaultExt = "xlsx";
                SaveFile.FileName = _sProjectName + " Report1";
                strFilepath = System.IO.Path.GetFullPath(SaveFile.FileName);

                    if (SaveFile.ShowDialog() == System.Windows.Forms.DialogResult.OK)
                    {

                        this.Text = System.IO.Path.GetFileName(SaveFile.FileName);
                        strFilepath = System.IO.Path.GetFullPath(SaveFile.FileName);
                        if (strFilepath.Length > 218) { strFilepath = StringMgt.Left(strFilepath, 218); }

                        btnRunReport.Visible = false;
                        bg1804Rpt.RunWorkerAsync();
                        Application.DoEvents();
                    }

            }
            else if (cmbReportsList.SelectedIndex == 1)
            {
                SaveFile.FileName = _sProjectName + " Report2";
                SaveFile.Filter = "excel 2007 (*.xlsx)|*.xlsx"; 
                SaveFile.DefaultExt = "xlsx";

                if (SaveFile.ShowDialog() == System.Windows.Forms.DialogResult.OK)
                {
                    //SaveFile.FileName = "Report2";
                    this.Text = System.IO.Path.GetFileName(SaveFile.FileName);
                    strFilepath = System.IO.Path.GetFullPath(SaveFile.FileName);
                    if (strFilepath.Length > 218) { strFilepath = StringMgt.Left(strFilepath, 218); }

                    btnRunReport.Visible = false;
                    bgMCRpt.RunWorkerAsync();
                    Application.DoEvents();
                }
            }
            else if (cmbReportsList.SelectedIndex == 2)
            {
                _qry = new QueryMgt();
                _formula = new FormulaMgt();
                string sSQL;
                string chrCountryName = "";

                OpenProjectDb();
                OpenTableDb();

                DataSet dsProjectSpec;
                DataSet dsCountry;

                sSQL = _qry.GetProjectSpec().ToString();
                dsProjectSpec = dbManager.ExecuteDataSet(CommandType.Text, sSQL);

                sSQL = _qry.GetCountry().ToString();
                dsCountry = dbManagerTable.ExecuteDataSet(CommandType.Text, sSQL);

                foreach (DataRow row in dsCountry.Tables[0].Select("pk_lngCountryID ='" + dsProjectSpec.Tables[0].Rows[0]["lngCountryId"] + "'"))
                {
                    chrCountryName = row["chrCountryName"].ToString();
                    break;
                }
                SaveFile.FileName = _sProjectName + " Report3";

                SaveFile.Filter = "excel 2007 (*.xlsx)|*.xlsx"; 
                SaveFile.DefaultExt = "xlsx";
                // SaveFile.Filter = "Microsoft Office Excel Worksheet (*.xlsx)|*.xls|All files (*.*)|*.*";
                if (SaveFile.ShowDialog() == System.Windows.Forms.DialogResult.OK)
                {
                    //SaveFile.FileName = "Report3";
                    this.Text = System.IO.Path.GetFileName(SaveFile.FileName);
                    strFilepath = System.IO.Path.GetFullPath(SaveFile.FileName);
                    if (strFilepath.Length > 218) { strFilepath = StringMgt.Left(strFilepath, 218); }

                    btnRunReport.Visible = false;
                    bgMDRpt.RunWorkerAsync();
                    Application.DoEvents();
                }
            }
        }
        else if (cmbReportsList.SelectedIndex == -1)
        {
            MessageBox.Show("Please select any report", "Info", MessageBoxButtons.OK,    MessageBoxIcon.Exclamation);
        }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:13:33.333

你没有提供任何代码，所以我很想知道。

但是你在用`SaveFileDialog`吗？如果没有，我强烈建议。它提供了该功能。

```
SaveFileDialog sfd = new SaveFileDialog();
sfd.OverwritePrompt = true;
if (sfd.ShowDialog() == System.Windows.Forms.DialogResult.OK)
{
    // Do Something
    // Access the filename they choose via: ofd.FileName
} 
```

如果用户选择了一个存在的文件，他们将被询问是否确定要覆盖它。

`SaveFileDialog`还有几个可以定义的属性。例如用于定义可接受的文件扩展名的 Filter 属性。

# mysql - 将实体框架查询转换为 SQL

> ID：12388902
> 
> 赞同：0
> 
> 时间：2012-09-12T13:07:30.187
> 
> 标签：mysql, sql, entity-framework

我有实体框架查询：

```
var query = ctx.v_mp_akt
 .SelectMany(d => ctx.v_ma_akt  , (a, b) => new {a, b})
 .Where(x => x.b.MA_ID == x.a.MA_ID)
 .SelectMany(y => ctx.v_os_akt, (g, h) => new {g, h})
 .Where(y => y.h.OS_ID == y.g.a.MP_FK_OS_ID_KOMU_WYDANO)
 .Select(x=> new
 {
  x.g.b.KT_ETYKIETA,
  x.g.a.MA_LP,
  x.g.b.MA_DATA_REJESTRACJI,
  x.g.b.MA_INF_O_ZMIANIE_KLAUZULI,
  x.g.a.MP_NR_RTD_TECZKI,
  x.h.OS_ETYKIETA,
  x.g.a.MP_FK_KO_ID_WLASCICIEL_MP,
  x.g.a.JR_NAZWA
 }); 
```

我不确定如何将此查询转换为纯 MySQL 查询代码。我的 MySQL 语法不是很好。

这会导致语法错误：

```
select 
       b.KT_ETYKIETA, 
       a.MA_LP, 
       b.MA_DATA_REJESTRACJI, 
       b.MA_INF_O_ZMIANIE_KLAUZULI, 
       a.MP_NR_RTD_TECZKI, 
       h.OS_ETYKIETA, 
       a.MP_FK_KO_ID_WLASCICIEL_MP, 
       a.JR_NAZWA
from
       v_ma_akt b  where b.MA_ID = a.MA_ID,
       v_os_akt h where h.OS_ID = a.MP_FK_OS_ID_KOMU_WYDANO,
       v_mp_akt a 
```

你能提供任何提示，MySQL 应该是什么样子吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T13:19:39.817

使用 EF 向您展示生成的 SQL。尝试：

```
query.ToTraceString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:19:27.033

```
select 
       b.KT_ETYKIETA, 
       a.MA_LP, 
       b.MA_DATA_REJESTRACJI, 
       b.MA_INF_O_ZMIANIE_KLAUZULI, 
       a.MP_NR_RTD_TECZKI, 
       h.OS_ETYKIETA, 
       a.MP_FK_KO_ID_WLASCICIEL_MP, 
       a.JR_NAZWA
from v_mp_akt a
     INNER JOIN v_ma_akt b  ON b.MA_ID = a.MA_ID
     INNER JOIN v_os_akt h ON h.OS_ID = a.MP_FK_OS_ID_KOMU_WYDANO 
```

# java - 与 Java 相关的桌面应用程序选项

> ID：12388905
> 
> 赞同：1
> 
> 时间：2012-09-12T13:07:32.847
> 
> 标签：java, desktop-application

这些天，我收到了一个与我应该创建的桌面应用程序相关的提议。

我是一名`Java`程序员。`Swing`大约 4 年前我使用过API，所以我可以说我有一些经验。`Flex 4`大约一年前我也曾与之合作过，但我认为这不是我需要的好选择。在我看来，它不够稳定（出现一些奇怪的行为），我认为它不再为`Linux`平台维护。- （如果您认为我在这里错了，请告诉我）。

因此，我搜索了一个应该与`Java`.

考虑到关于该问题的问题在 SO 上相对较旧，实际的桌面 UI“趋势”是什么？

注意：谈到平台独立性和`SWT`，我认为存在一些问题。这就是为什么我不会选择它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T14:38:34.347

我个人会将 JavaFX 用于 Java 中的任何新 UI 开发工作——它现在是 100% Java API，[Oracle 似乎在大力推动它](http://www.oracle.com/technetwork/java/javafx/overview/roadmap-1446331.html)：

> JavaFX 与 Java SE 的集成更加紧密，并将很快成为该平台的标准组件。从 JavaFX 2.0.2 / Java SE 7u2 开始，JavaFX SDK 已成为 Java SE 7 JDK 的一部分，无需开发人员单独下载。此集成的下一步是将 JavaFX 运行时库作为 JRE 的一部分，这将通过 2012 年夏季发布的 Java SE 7u6 / JavaFX 2.2 版本实现。这将确保 JavaFX 在支持 Java 的计算机上得到广泛采用，同时利用同步更新和安全修复。

我自己使用过它，在我看来，它的 API 也比 Swing 好得多（在这方面更像 SWT），默认情况下看起来要好得多，而且它允许您做的事情也更加灵活。

# c# - 如何在终端中运行命令并捕获输出

> ID：12388912
> 
> 赞同：0
> 
> 时间：2012-09-12T13:07:57.027
> 
> 标签：c#, linux, monodevelop

我正在开发一个使用`MonoDevelop`in的应用程序`Ubuntu`。通过这个应用程序，我需要运行一个终端命令并捕获它的输出。这样的事情可能吗？任何帮助/想法将不胜感激！

我的意思是，如果用户单击一个按钮，该命令将运行，输出将显示在文本框或其他内容中。我不想弹出终端窗口，这个动作应该完全在应用程序内部完成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:11:58.960

在 C# Windows 中，您可以这样做：

```
Process p = new Process(); // Redirect the output stream of the child process.
p.StartInfo.RedirectStandardOutput = true;
p.StartInfo.FileName = "program.exe"; 
p.Start();  // Do not wait for the child process to exit before reading to the end of its     redirected stream.
p.WaitForExit(); // Read the output stream first and then wait.
string output = p.StandardOutput.ReadToEnd();
p.WaitForExit(); 
```

# android - USB设备访问弹出抑制？

> ID：12388914
> 
> 赞同：47
> 
> 时间：2012-09-12T11:54:18.997
> 
> 标签：android, usb

当 USB 设备连接到 Android 平板电脑时，会出现一个要求用户许可的弹出窗口。我想压制它，因为客户不想要它。我该怎么做呢？

在代码中：

```
UsbManager.requestpermission(); 
```

被调用以给予 USB 设备临时访问权限。

这会引发一个弹出窗口。如何默认禁止弹出窗口或授予用户访问权限？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2013-03-01T05:22:48.547

当您在应用程序中请求权限时，“默认情况下用于此 USB 设备”复选框似乎没有任何作用（我不确定为什么此复选框甚至会出现在此弹出窗口中。

相反，您应该在清单中为您的活动注册一个意图处理程序：

```
<activity 
    ...
    ...
    >
    <intent-filter>
        <action android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" />
    </intent-filter>
    <meta-data android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" android:resource="@xml/usb_device_filter" />  
</activity> 
```

您还必须在您的 xml 资源中创建一个过滤器文件，例如 res/xml/usb_device_filter：

```
<?xml version="1.0" encoding="utf-8"?>

<resources>
    <usb-device vendor-id="26214" product-id="26214" />
</resources> 
```

此处的供应商 ID 和产品 ID 必须以十进制形式给出 - 上面的 VID 和 PID 都是 0x6666。

我上面给出的内容也适用于 USB 附件（即，附件是 USB 主机，android 是设备）——在这种情况下，意图过滤器应该注册

```
<action android:name="android.hardware.usb.action.USB_ACCESSORY_ATTACHED" /> 
```

并且您还必须以完全相同的方式包含元数据过滤器。

请参阅[http://developer.android.com/guide/topics/connectivity/usb/accessory.html](http://developer.android.com/guide/topics/connectivity/usb/accessory.html)并搜索“使用意图过滤器”部分。

**编辑**

总结 - 如果您针对您的活动注册意图过滤器，USB 权限窗口将在连接 USB 设备/附件时立即显示。如果用户选中“默认使用此 USB 设备”框然后授予权限，这将被记住并且不会再次显示权限对话框（除非应用程序被卸载或用户从应用程序管理器中清除默认操作）。

我在这里放了一个小而糟糕的工作示例项目：

[http://www.locusia.com/examples/permissionTest.zip](http://www.locusia.com/examples/permissionTest.zip)

您将需要编辑 res/xml/usb_device_filter.xml，否则这应该允许您非常快速地对其进行测试。

**对于服务...**

似乎服务无法接收 USB 意图。我通过制作一个隐藏的活动来解决这个问题，然后重新广播意图。

我在清单中这样定义它：

```
<activity
    android:name=".activities.UsbEventReceiverActivity"
    android:label="YOUR APPLICATION NAME - This appears in the permission popup"
    android:theme="@style/Theme.Transparent" 
    android:noHistory="true"
    android:excludeFromRecents="true"
    android:taskAffinity="com.example.taskAffinityUsbEventReceiver"
    android:process=":UsbEventReceiverActivityProcess"
    android:exported="false"
    >    
    <intent-filter>
        <action android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" />
    </intent-filter>
    <meta-data android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" android:resource="@xml/usb_device_filter" />  
</activity> 
```

（我的服务中有一个复杂的任务/流程布局，该区域的 YMMV）。

我这样定义活动：

```
public class UsbEventReceiverActivity extends Activity
{   
    public static final String ACTION_USB_DEVICE_ATTACHED = "com.example.ACTION_USB_DEVICE_ATTACHED";
    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
    }

    @Override
    protected void onResume()
    {
        super.onResume();

        Intent intent = getIntent();
        if (intent != null)
        {
            if (intent.getAction().equals(UsbManager.ACTION_USB_DEVICE_ATTACHED))
            {
                Parcelable usbDevice = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);

                // Create a new intent and put the usb device in as an extra
                Intent broadcastIntent = new Intent(ACTION_USB_DEVICE_ATTACHED);
                broadcastIntent.putExtra(UsbManager.EXTRA_DEVICE, usbDevice);

                // Broadcast this event so we can receive it
                sendBroadcast(broadcastIntent);
            }
        }

        // Close the activity
        finish();
    }
} 
```

最后一块拼图，透明主题（我不确定，但你可能会使用内置的 android 半透明主题） - res/values/styles.xml：

```
<?xml version="1.0" encoding="utf-8"?>  
    <resources>  
    <style name="Theme.Transparent" parent="android:Theme">
        <item name="android:windowIsTranslucent">true</item>
        <item name="android:windowBackground">@android:color/transparent</item>
        <item name="android:windowContentOverlay">@null</item>
        <item name="android:windowNoTitle">true</item>
        <item name="android:windowIsFloating">true</item>
        <item name="android:backgroundDimEnabled">false</item>
        <item name="android:windowAnimationStyle">@null</item>
    </style>  
</resources> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-07T23:05:27.947

官方[android 文档](https://developer.android.com/guide/topics/connectivity/usb/host)说：

> 当用户连接与您的设备过滤器匹配的设备时，系统会向他们显示一个对话框，询问他们是否要启动您的应用程序。如果用户接受，您的应用程序将自动获得访问设备的权限，直到设备断开连接。

如果您还选中了记住设备的复选框，则会授予权限，直到应用程序卸载或通过应用程序管理器删除数据。

所以你必须这样做：

1.  [正如韦恩所说](https://stackoverflow.com/a/15151075/1533285)，添加意图过滤器，（并删除您主要活动中的所有权限）。
2.  安装应用程序并***关闭它***。
3.  拔下并插入您的 USB。
4.  接受许可并选中复选框以记住设备。

# linux - NUMA 机器上的共享库瓶颈

> ID：12388918
> 
> 赞同：13
> 
> 时间：2012-09-12T13:08:09.850
> 
> 标签：linux, linux-kernel, shared-libraries, hpc, numa

我正在使用 NUMA 机器（SGI UV 1000）同时运行大量数值模拟，每个都是使用 4 核的 OpenMP 作业。但是，运行大约 100 多个这样的作业会导致性能显着下降。我们关于为什么会发生这种情况的理论是，软件所需的共享库只加载到机器的全局内存中一次，然后系统就会遇到通信瓶颈，因为所有进程都在访问单个节点上的内存。

这是一个旧软件，没有修改范围，静态 make 选项不会静态链接它需要的所有库。据我所知，最方便的解决方案是以某种方式强制系统在每个进程或节点上加载所需共享库的新副本（我在每个进程或节点上运行 3 个进程），但我没有能够找到如何做到这一点。谁能告诉我如何做到这一点，或者对如何解决这个问题有任何其他建议？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T12:50:17.097

> 软件所需的共享库只加载到机器的全局内存中一次，

据我所知，这是 Linux 的当前行为。共享库仅加载到一组物理内存，并且仅在单个节点上。

> 然后系统会遇到通信瓶颈，因为所有进程都在访问单个节点上的内存。

正如评论中所说，来自库的指令应该缓存在每个处理器中，因此只有当库中的活动代码从缓存中擦除时才会出现瓶颈（例如，有很多不同的代码在工作）。

您应该使用硬件性能计数器（缓存未命中、节点间 NUMA 内存访问计数）来验证您的理论。

在 NUMA 上以多个副本存储一些数据的机制在 Linux 上称为“复制”。内核、可执行文件或其共享库的代码称为文本。所以，你想要的是“共享库的文本复制”。我认为文本复制对于内核代码来说更容易。

我能够从 2003 年找到一些用于进行此类文本复制的实验性补丁，例如 IBM 的 Dave Hansen的[http://lwn.net/Articles/63512/（[RFC][PATCH](http://lwn.net/Articles/63512/) *] NUMA 用户页面复制*）。这个补丁似乎被拒绝了。

该技术的更现代（2007 年）变体是页面缓存的复制：[http](http://lwn.net/Articles/223056/) ://lwn.net/Articles/223056/ （*mm：复制的页面缓存*），作者 Nick Piggin，SUSE。还有关于他的方法的介绍：http: [//ondioline.org/~paul/pagecachereplication.pdf](http://ondioline.org/%7Epaul/pagecachereplication.pdf)。这将起作用，因为所有文件都存储在页面缓存中，包括可执行文件和共享库。但即使是这个补丁，我也无法在当前内核中找到它。

在 SGI 上有更多的复制需求（他们拥有比典型内核开发人员更多的 NUMA 机器），因此可能会有一些附加补丁。有一个 SGI 的 NUMA 应用程序调整手册：http: [//techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi/linux/bks/SGI_Developer/books/LX_86_AppTune/sgi_html/ch05.html](http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi/linux/bks/SGI_Developer/books/LX_86_AppTune/sgi_html/ch05.html)其中提到了`dplace`实用程序在“*使用 dplace 命令*”一节中。它具有文本复制选项：

> **-r**：指定应在运行应用程序的一个或多个节点上复制文本。在某些情况下，复制将通过减少对代码进行节点外内存引用的需要来提高性能。复制选项适用于 dplace 命令放置的所有程序。有关文本复制的更多信息，请参见 dplace(5) 手册页。复制选项是由以下一个或多个字符组成的字符串：
> 
> **l**复制库文本
> 
> **b** 复制二进制 (a.out) 文本
> 
> **t** 线程循环选项

Man dplace(1)：[http ://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=man&fname=/usr/share/catman/man1/dplace.1.html](http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=man&fname=/usr/share/catman/man1/dplace.1.html)

Man dplace(5)：[http ://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=man&fname=/usr/share/catman/man5/dplace.5.html](http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&db=man&fname=/usr/share/catman/man5/dplace.5.html)

# javascript - event.preventDefault() 会持续多久？

> ID：12388921
> 
> 赞同：1
> 
> 时间：2012-09-12T13:08:15.233
> 
> 标签：javascript

如果您为特定`preventDefault()`的事件调用事件，默认会被阻止多长时间？它是在浏览器会话期间还是仅在加载特定页面时？行为是否相同？`keypress``keyCode``stopPropagation()`

一些示例代码：

```
<script type="text/javascript">
<![CDATA[

  function keydownhandler(e)
  {
    switch (e.keyCode)
    {
        case VK_BACK:
                case 461:
        preventDefault();
        break;

        default:
        break;
    }
  }

  document.addEventListener("keydown", keydownhandler, true);
]]>
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:10:12.083

它永久阻止了该特定事件的特定实例。

如果一个键被第二次按下，这将调用该`keypress`事件的第二个实例，因此它的默认事件不会因为第一个事件被阻止而被阻止。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:14:31.047

`preventDefault()`防止发生默认操作，即在`form`按下回车时浏览器发布。对于此事件实例，此默认操作将被永久阻止。下次`enter`按下时，您需要阻止该键按下。

`stopPropagation()`阻止事件冒泡到发生事件的元素上方的所有元素，即：

```
<div>
    <a></a>
</div> 
```

如果您单击`<a>`div 的 -tag 直到也得到一个冒泡的`click`- 事件。`stopPropagation()`将防止这种情况。

编辑：在您的情况下，每个带有`keyCode`== `VK_BACK`or的事件`461`都将被阻止进行默认操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:14:07.663

preventDefault 在传递给处理函数的事件实例上运行，因此如果您有两个输入具有两个不同的“更改”事件处理程序，如果一个具有 preventDefault，它们都不会被停止。

stopPropagation 与它对传递给处理程序的事件的操作完全相同。

# hadoop - 如何在 Hbase MapReduce 程序中自动生成 RowId

> ID：12388922
> 
> 赞同：2
> 
> 时间：2012-09-12T13:08:23.797
> 
> 标签：hadoop, mapreduce, hbase

我需要将数据集文件加载到 hbase 表中。我搜索了一些示例，并通过这些示例尝试读取文件并将其加载到 Hbase 中。但只有第一行正在读取。只有一行数据正在读取，我需要读取所有数据，我不知道我哪里出错了我有这种格式的文件

```
year  class    days   mm   
   1964   9     20.5     8.8          
   1964  10     13.6     4.2      
   1964  11     11.8     4.7     
   1964  12      7.7     0.1       
   1965   1      7.3     0.8       
   1965   2     6.5     0.1         
   1965   3     10.8     1.4         
   1965   4     13.2     3.5         
   1965   5     16.1     7.0         
   1965   6     19.0     9.2          
   1965   7     18.7    10.7       
   1965   8     19.9    10.9          
   1965   9      16.6     8.2 
```

请任何人纠正我，我出错的地方，我需要加载文件中包含的所有数据，但我只能加载第一行数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-27T17:58:22.730

[https://github.com/imyousuf/smart-dao/tree/hbase/smart-hbase/hbase-auto-long-rowid-incrementor/](https://github.com/imyousuf/smart-dao/tree/hbase/smart-hbase/hbase-auto-long-rowid-incrementor/) 没有测试，但似乎是你要找的。

另外，看看[Hbase 自动增加任何列/行键](https://stackoverflow.com/questions/26890944/hbase-auto-increment-any-column-row-key)

> 在 HBase 中不建议单片增加行键，请参阅此内容以供参考：[http](http://hbase.apache.org/book/rowkey.design.html) ://hbase.apache.org/book/rowkey.design.html，p.6.3.2。事实上，使用全局排序的行键会导致分布式应用程序的所有实例写入同一区域，这将成为瓶颈。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-10T14:37:58.590

我猜这是因为你的表的行键默认采用第一列的值，即“年”，所以 hbase 只会读取一次，因为行键不能被复制。尝试将您的行键设置为不同的列。

# java - 服务器在没有任何明显原因的情况下启动了半断的 Client-GUI

> ID：12388923
> 
> 赞同：1
> 
> 时间：2012-09-12T13:08:26.207
> 
> 标签：java, eclipse, rmi

我目前正在通过开发一种工具来学习 Java，该工具用于在客户端创建和填写多项选择表单并在服务器端保存和评估它们。我为网络部分使用了 RMI 教程中的代码框架，直到现在它工作正常。客户端和服务器应用程序都在同一个包中，但作为单独的应用程序运行。为了更容易开发，它们现在都在同一个系统上运行，尽管当事情完成时这会改变。

因此，让我们用一些代码切入正题，看看到底出了什么问题：

服务器.java

```
Server() throws RemoteException {
    super();
}

public static void main(String[] args) {
    try {
        LocateRegistry.createRegistry(Registry.REGISTRY_PORT);
    }
    catch (RemoteException ex) {
        System.out.println("SERVER: " + ex.getMessage());
    }

    try {
        Naming.rebind("Server", new Server()); <---
    }
    catch(MalformedURLException ex) {
        System.out.println("SERVER: " + ex.getMessage());
    }
    catch(RemoteException ex) {
        System.out.println("SERVER: " + ex.getMessage());
    }
}

[...] methods that are called by the client via ServerInterface 
```

<--- 标记 Client-GUI 的启动位置。

客户端.java

```
private static Gui_loadSets gui_loadSets = new Gui_loadSets();

public static void main(String[] args) {
    loadGuiLoadSets();
} 
```

这是第一个 GUI 可见的地方；一个选择要从中加载的表单。这个 GUI 是通过启动服务器来加载的，即使我注释掉了。所以服务器并没有真正加载客户端应用程序，而是以某种方式神奇地访问它的 GUI 并无缘无故地显示它。

我已经尝试在加载 GUI 之前“进入”该行，但最终我陷入了无限循环，所以我真的不知道发生了什么。

这是我在这里的第一个问题，所以如果我错过了任何明显的问题，请原谅我。提前感谢您的帮助。如果您需要更多代码，我很乐意提供，但剩下的大部分代码都是关于多项选择形式的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T04:12:40.420

`Naming.rebind()`需要一个 URL，而不仅仅是一个服务名称。它应该是

```
Naming.rebind("rmi://localhost/Server", new Server()); 
```

但我对你对这一行的评论感到困惑。它`-->`不会“标记客户端 GUI 的启动位置”，它标记了*远程对象*被构造、导出和绑定到注册表的行。客户端 GUI 位于客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T05:39:41.203

感谢您的努力，我现在可以正常工作了。

服务器创建对象的一个​​非常基本的类是指客户端提供的方法。所以显然这导致了问题。我一定忘记了它，因为它从一开始就在那里，但不知何故刚刚开始成为一个可见的问题。

对于我糟糕的设计给您带来的任何不便，我深表歉意。:)

Also, how do I mark this problem as solved without being frowned upon? Do people attach importance to getting the accepted-answer-button? I can't do this on comments I believe.

# python - 如何修复“TypeError：不支持的操作数类型”？

> ID：12388925
> 
> 赞同：0
> 
> 时间：2012-09-12T13:08:28.447
> 
> 标签：python

我正在尝试在 file.write 函数中使用 var 值：

```
profile = open("/tmp/%s.pcf", 'w+') % uid 
```

我得到这个错误：

```
TypeError: unsupported operand type(s) for %: 'file' and 'str' 
```

知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-12T13:09:25.170

将字符串格式化操作数移动到字符串本身：

```
profile = open("/tmp/%s.pcf" % uid, 'w+') 
```

您试图将其应用于`open()`调用结果，这是一个文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:09:47.713

你需要里面的字符串格式

```
profile = open("/tmp/%s.pcf" % uid, 'w+') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T13:09:51.753

试试这个：

```
profile = open("/tmp/%s.pcf" % uid, 'w+') 
```

# active-directory - 从不同子网的 PC 加入 W2008 域

> ID：12388926
> 
> 赞同：-1
> 
> 时间：2012-09-12T13:08:32.680
> 
> 标签：active-directory, windows-xp, windows-server-2008

我正在尝试从不同子网上的电脑加入 W2008 AD 域。子网在 cisco 交换机上配置为 vlan，并带有用于 vlan 之间流量的路由器：

DC：192.168.12.104 / PC：192.168.13.11 / VLAN ROUTER：192.168.12.2

DC上的静态路由：

> 网络目的地 | 网络掩码 | 网关 | 接口 | 公制
> 
> 192.168.13.0 | 255.255.255.0 | 192.168.12.2 | 192.168.12.104 | 21

我可以 ping **DC->PC**和**PC->DC**。如果我输入 DC 的 IP，我可以从 PC 浏览共享。PC 有 DC 作为 DNS 服务器，并且能够基于它解析主机。

**PC上的lmhosts**内容：

> 192.168.12.104 组织服务器#PRE #DOM:orgmi

实际的域是“orgmi.local”，但是当我加入所有其他 PC（与 DC 在同一子网中）时，我只是输入了“orgmi”。此外，这是另一个子网上唯一必须在域中的计算机。除了 AD 中的主要子网/站点之外，我没有设置任何子网/站点。

我收到的错误包含此字符串“查询是针对 _ldap._tcp.dc._msdcs.orgmi 的 SRV 记录”

有什么线索吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T13:28:24.117

事实证明，错误是首先安装 DNS 服务器，然后安装 AD 控制器。域名的所有条目（列在 Nelogon.dns 中）尚未导入区域中，因此计算机无法找到正确的 DC。

其他 PC 可以通过位于同一 VLAN 上的 netbios 找到它。

# javascript - 如何使用 javascript/jquery 获取 iframe 的 URL 的锚属性？

> ID：12388929
> 
> 赞同：0
> 
> 时间：2012-09-12T13:08:42.303
> 
> 标签：javascript, jquery, hash

我正在尝试使用 javascript 或 jQuery 从 iFrame 获取 URL 的锚部分。

例如。

```
<iframe id="theIFrame" src="location.html#anchorHere"></iframe> 
```

如果我使用 src 属性，我不会得到哈希值。

例如。

`$('#theIFrame').attr('src')`将返回“location.html”

我如何获得哈希值？

谢谢你，乔治

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:12:57.980

要获得`#`标记后的所有内容，您可以尝试以下操作：

```
var href = $("#theIFrame").attr("href");
var splitHref = href.split("#");
alert(splitHref[1]); 
```

**[演示](http://jsfiddle.net/j8JRx/)**

**编辑**

OP 已更改为：

```
<iframe id="theIFrame" href="location.html#anchorHere"></iframe> 
```

至：

```
<iframe id="theIFrame" src="location.html#anchorHere"></iframe> 
```

所以你需要将代码更改为：

```
var href = $("#theIFrame").attr("src");
var splitHref = href.split("#");
alert(splitHref[1]); 
```

**[演示](http://jsfiddle.net/j8JRx/1/)**

**或者**，正如@Pushpesh 最近在评论部分指出的那样，更精简的版本将是：

```
$('#theIFrame').attr('src').split('#')[1]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T13:10:36.977

尝试

```
$('#theIFrame').attr('src').text() 
```

或尝试

```
$('#theIFrame').attr('href').split('#')[1] 
```

# c# - 二进制模式的文件复制程序

> ID：12388930
> 
> 赞同：0
> 
> 时间：2012-09-12T13:08:50.013
> 
> 标签：c#

我正在编写一个文件复制程序，但是以二进制模式从媒体文件（如 .avi）读取数据到字符串变量 str 会引发与变量 str 的大小相关的错误，该大小不足以容纳从读取的文件返回的数据. 这是我试图执行任务的代码。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
namespace ConsoleApplication7
{
    class Program
    {
        static void Main(string[] args)
        {
            string filename;
            Console.WriteLine("enter file location");
            filename=Console.ReadLine();
            FileStream fs = new FileStream(filename, FileMode.Open);
            BinaryReader br = new BinaryReader(fs);
            string str;
            str =Convert.ToString(br.Read());
            while (str != null)
            {
                Console.WriteLine(str);
                str = Convert.ToString(br.Read());
            }
            fs.Close();
            br.Close();
        }
    }
} 
```

有什么解决办法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-12T13:13:25.587

`string`简单地说，如果你在谈论二进制，永远不要涉及。因此，除非控制台处于二进制模式，否则写入控制台没有多大意义。一个基本的二进制复制循环类似于：

```
using(var inputStream = OpenSomeStream()) {
    byte[] buffer = new byte[8192];
    int read;
    while((read = inputStream.Read(buffer, 0, buffer.Length)) > 0) {
       // TODO: write "read"-many bytes from buffer
    }
} 
```

但是，对于流到流的复制，这可以缩写为：

```
using(var inputStream = OpenSomeStream())
using(var outputStream = OpenSomeOtherStream()) {
    inputStream.CopyTo(outputStream);
} 
```

所以：对于写信`stdout`，这将是：

```
using(var inputStream = File.OpenRead(filename))
using(var outputStream = Console.OpenStandardOutput()) {
    inputStream.CopyTo(outputStream);
} 
```

# ruby-on-rails - Shopify 订单项属性标识符

> ID：12388931
> 
> 赞同：1
> 
> 时间：2012-09-12T13:08:51.237
> 
> 标签：ruby-on-rails, api, shopify

我们正在开发我们的 Rails 应用程序，以便将使用 Shopify 上新的“行项目属性”的产品考虑在内。

我们应用程序的一部分将客户订单视为一个整体，然后计算所有订单总共包含多少特定产品。

因此，您有 3 个带有相同产品的订单，然后我们的应用程序将在列表中显示单个产品，其中包含所有 3 个订单的总数量。很好，很容易采摘。

但是，我想将具有订单项属性的产品分离到列表中的单独产品中，以便这些产品可以与属性一起显示。

我可以从 Order 对象中获取属性，我知道同一产品可以多次出现在订单中，并附加了不同的订单项属性。

但是 order.line_item 上的什么告诉我这是“不同的产品”？即相同的产品但不同的属性，除了属性本身之外，还有什么告诉他们appart？

示例行项目：

```
 "line_items": [
    {
      "fulfillment_service": "manual",
      "fulfillment_status": null,
      "grams": 200,
      "id": 466157049,
      "price": "199.00",
      "product_id": 632910392,
      "quantity": 1,
      "requires_shipping": true,
      "sku": "IPOD2008GREEN",
      "title": "IPod Nano - 8gb",
      "variant_id": 39072856,
      "variant_title": "green",
      "vendor": null,
      "name": "IPod Nano - 8gb - green",
      "variant_inventory_management": "shopify",
      "properties": [
        {
          "name": "Custom Engraving",
          "value": "Happy Birthday"
        }
      ]
    }, 
```

这是我们的代码在添加对订单项属性的支持之前的样子。

```
def build_products_list(orders)
  products = {}
  orders.each do |order|
    order.line_items.each do |item|
      products[item.name] = {} unless products[item.name]
      products[item.name]['sku'] = item.sku
      products[item.name]['qty'] = (products[item.name]['qty'] ? products[item.name]['qty'] : 0) + item.quantity
    end
  end
  products
end 
```

因此，我需要将 products[item.name] 更改为每个产品的唯一名称，包括那些具有订单项属性的产品，以便它们显示为单独的产品。

改成什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T01:09:06.013

具有不同订单项属性的订单项之间的唯一区别是订单项属性本身。

为了为您的哈希创建唯一键，我会以某种方式对属性进行编码（如果它们存在）并将它们附加到键的末尾。一个简单的哈希函数应该可以解决问题。具有相同订单项属性的产品将具有相同的哈希值，因此它们仍应相应堆叠。

# android - 如何将变量从线程传递到外部环境？

> ID：12388932
> 
> 赞同：6
> 
> 时间：2012-09-12T13:08:55.693
> 
> 标签：android, multithreading, variables

我有一个嵌套在主要活动中的线程：

```
public class MainActivity extends Activity {

    public void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);

    new Thread(new Runnable(){
        public void run() {
            int myInt = 1;
            // Code below works fine and shows me myInt
            TextView textView = (TextView) findViewById(R.id.text_view);
            textView.setText(myInt);
        }
    }).start();

    // Code below doesn't work at all
    TextView textView = (TextView) findViewById(R.id.text_view);
    textView.setText(myInt);

} 
```

我不确定这个结构是否正确。我应该如何将**myInt**变量传递给 Thread 以`MainActivity`使其在 Thread 之外变得可识别和可操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:06:15.627

在尝试设置线程外部（在主线程上）的文本视图之前，您首先需要一个已设置的整数的全局变量。它需要预先设置，因为您启动的新线程将简单地启动并移动到下一行代码，因此 myInt 尚未设置。

然后，至少在最初使用主线程上的 textview 的预定全局整数值。如果您想从您启动的线程中更改它，则在您的类中创建一个方法，如 setIntValue()，它将从线程中传递整数并将全局变量设置为该值。如果您愿意，我可以稍后更新代码示例。

更新：示例代码

```
public class MainActivity extends Activity {

//your global int
int myInt

public void onCreate(Bundle savedInstanceState) {
setContentView(R.layout.activity_main);

new Thread(new Runnable(){
    public void run() {
        int myRunnableInt = 1;
        // Code below works fine and shows me myInt
        TextView textView = (TextView) findViewById(R.id.text_view);
        textView.setText(String.valueOf(myRunnableInt));

        //say you modified myRunnableInt and want the global int to reflect that...
        setMyInt(myRunnableInt);
    }
}).start();

//go ahead and initialize the global one here because you can't directly access your
myRunnableInt
myInt = 1;

TextView textView = (TextView) findViewById(R.id.text_view);
textView.setText(String.valueOf(myInt)); //now you will have a value here to use

//method to set the global int value
private void setMyInt(int value){
    myInt = value;

    //you could also reset the textview here with the new value if you'd like
    TextView textView = (TextView) findViewById(R.id.text_view);
    textView.setText(String.valueOf(myInt));
}
} 
```

注意：如果您只希望能够重置 textview，而不是拥有一个全局的可操作变量，我建议将方法更改为只传入新整数并设置 textview，而不是存储全局变量，例如这：

```
private void setTextView(int newInt){
    TextView textView = (TextView) findViewById(R.id.text_view);
    textView.setText(String.valueOf(newInt));
} 
```

如果您执行上述操作，请确保从线程内调用该方法时，在 UI 线程上调用它，如下所示： runOnUiThread(new Runnable()){ public void run(){ //update UI elements } }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:14:11.233

改变

```
public class MainActivity extends Activity {
    // create activity field/member
    private int myIntValue;
    public void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);

    runOnUiThread(new Runnable(){
        public void run() {
            myIntValue = 1;
            // Code below works fine and shows me myInt
            TextView textView = (TextView) findViewById(R.id.text_view);
            if (textView != null){
                textView.setText(myInt);
            }
        }
    });

    TextView textView = (TextView) findViewById(R.id.text_view);
    if (textView != null){
        textView.setText(myIntValue);
    }
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-09-12T13:14:38.340

尝试以下操作：

```
public class MainActivity extends Activity 
{
    TextView textView;

    public void onCreate(Bundle savedInstanceState)
    {
        setContentView(R.layout.activity_main);
        textView = (TextView) findViewById(R.id.text_view);
        new Thread(new Runnable()
        {
            public void run() 
            {
                int myInt = 1;
                textView.setText(myInt);
            }
        }).start();

    } 
```

# java - xtify + phonegap 启用声音和振动

> ID：12388934
> 
> 赞同：0
> 
> 时间：2012-09-12T13:09:04.720
> 
> 标签：java, android, cordova, xtify

我正在使用 Phonegap 和 Xtify 构建应用程序以推送消息。我收到消息，但没有声音和振动。如何启用它们？

XtifyCordovaPlugin.js 中没有函数。SDK 中只有一个名为“NotificationsPreference.setSoundEnabled(context, true);”的函数 它需要一个上下文。上下文是什么？

我的 Activity.Main

```
package com.example.test;

import android.app.Activity;
import android.app.Notification;
import android.content.Context;
import android.os.Bundle;
import org.apache.cordova.*;

import com.xtify.cordova.XtifyCordovaPlugin;
import com.xtify.sdk.NotificationsUtility;
import com.xtify.sdk.api.NotificationsPreference;

public class MainActivity extends DroidGap {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.loadUrl("file:///android_asset/www/index.html");
        XtifyCordovaPlugin.processActivityExtras(getIntent().getExtras(), this);

        //The Line
        NotificationsPreference.setSoundEnabled(context, true);
    }
} 
```

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:29:08.317

在这种情况下，您可以使用：

```
NotificationsPreference.setSoundEnabled(this, true); 
```

MainActivity 扩展了 DroidGap，后者扩展了 Activity，后者扩展了 Context。所以实际上 DroidGap 是一个上下文。

# asp.net-mvc - 测试Controller中是否存在ActionMethod

> ID：12388939
> 
> 赞同：2
> 
> 时间：2012-09-12T13:09:10.083
> 
> 标签：asp.net-mvc, asp.net-mvc-3, unit-testing, nunit, moq

作为一个复杂的 Asp.Net MVC-3 网站的一部分，我有十几种不同的邮件形式。

每个表单都有明显不同的处理逻辑，所以每个表单在我的 FormsController 中都有不同的 ActionMethod。

每个表单都可以通过一个路由映射中定义的 URL 访问：

```
routes.MapRoute(
    "Forms",
    "forms/{action}",
    new { controller = "Forms", action = "Index" }
); 
```

我在一个列表中保存了一个动作名称列表，该列表是为 DRY 目的而设置的（用于填充表单的导航等）。我需要经常更新这组表单，并且我可能想要重构出现在 URL 中的表单名称（因此它们被定义为操作名称）。我想测试该列表对应于已定义操作方法的名称

很容易测试每个表单 URL 是否被正确的路由映射捕获。我正在将 NUnit 与 Moq 一起使用：

```
MockHttpContext.Setup(x => x.Request.AppRelativeCurrentExecutionFilePath)
     .Returns("~/Forms/" + formUrlName);
var routeData = Routes.GetRouteData(MockHttpContext.Object);

Assert.AreEqual("Forms", routeData.Values["Controller"].ToString());            
Assert.AreEqual(formUrlName, routeData.Values["Action"].ToString()); 
```

但这并不能保证命名的动作方法本身是在 Froms 控制器中定义的。

另请注意：为了允许在我的表单 url 中使用破折号并仍然映射到操作方法名称，我正在使用过滤器定义操作名称，例如：

```
[ActionName("blog-subscription-request")]
public ActionResult BlogSubscriptionRequest() {... 
```

所以...

**问题：**如何测试我的操作方法名称列表中的每个项目是否对应于我的 FormsController 中存在的实际 ActionMethod？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T06:05:57.270

我已经成功使用[了 MvcContrib 的 TestHelper](http://mvccontrib.codeplex.com/wikipage?title=TestHelper)项目。它允许您定义路由并确保它映射到特定的控制器和操作，如下所示：

```
[Test]
public void homeIndex()
{
    "~/forms/blog-subscription-request".ShouldMapTo<FormsController>(x => x.BlogRequest());
} 
```

这可能不是您问题的完美解决方案，但如果您没有太多操作，这可能是一个不错的开始。

# django - 自定义小部件 - 如何正确地为小部件提供参数

> ID：12388941
> 
> 赞同：0
> 
> 时间：2012-09-12T13:09:10.707
> 
> 标签：django, forms, widget

如何正确提供带有属性的自定义小部件？该调用`print attrs`仅输出以下内容：

```
attrs in LockFlagWidget are:
{'id': u'id_lockedFlag'} 
```

而我希望这样：

```
attrs in LockFlagWidget are:
{'id': u'id_lockedFlag', 'size': u'80} 
```

我写了一个这样的自定义小部件：

```
class LockFlagWidget(forms.widgets.Widget):

    def render(self, name, value, attrs=None):
        if value is None:
                value = ''
        print "attrs in LockFlagWidget are:"
        print attrs
        staticURL = getattr(settings, 'STATIC_URL')

        if value != '':
            if value == True:
                return mark_safe(u"<img src=\"" + staticURL +
                                 "lock/img/lock_closed.ico\"/>"
                                 + "<span> - Is locked</span>")
            else:
                return mark_safe(u"<img src=\"" + staticURL +
                                 "lock/img/lock_open.ico\"/>"
                                 + "<span> - Is not locked</span>") 
```

现在我以这样的形式使用小部件：

```
class LockForm(forms.ModelForm):
    class Meta:
        model = MyModel

    def __init__(self, *args, **kwargs):
        super(LockForm, self).__init__(*args, **kwargs)
        self.fields['lockedFlag'].widget = LockFlagWidget(attrs={'size':'80'}) 
```

`MyModel`看起来像这样：

```
class MyModel(models.Model):
    lockedFlag = models.BooleanField(default=False) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:20:08.053

在我看来，传递给您的渲染方法的属性是来自字段而不是小部件的属性，尝试将您的 print 语句更改为`print self.attrs`，这将获取您传递给小部件构造函数的属性。希望这有意义吗？

# svg - 如何使用 GPS 位置和 Raphael.js 绘制地图？

> ID：12388943
> 
> 赞同：1
> 
> 时间：2012-09-12T13:09:27.033
> 
> 标签：svg, raphael, d3.js

我是 SVG 和 Raphael.js 或 D3.js 的完全新手我必须绘制一些多边形来代表地图上的区域，我在 GPS 位置有它们的边界，就像这样

```
 <point>-51.48978803312559,-20.92831898046678,0</point>
            <point>-51.48978803310288,-20.93881598388512,0</point>
            <point>-51.43348803310235,-20.94831798048511,0</point>
            <point>-51.44478803314599,-20.91831598078533,0</point>
            <point>-51.43332332310254,-20.95131534854545,0</point>
            <point>-51.43978803310235,-20.92233431048519,0</point> 
```

我需要把它翻译成 SVG 命令吗？我不能用这个 GPS 位置来绘制它吗？

我查看了文档，没有任何地方提到这一点，或者如果没有其他解决方案，也没有关于如何解析它的信息。

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:11:13.670

如果你想在谷歌地图上显示多边形，你可以使用他们的[多边形绘图 API](https://developers.google.com/maps/documentation/javascript/overlays#Polygons)。

# python - Python Selenium - [错误 5] 尝试退出浏览器实例时拒绝访问

> ID：12388947
> 
> 赞同：0
> 
> 时间：2012-09-12T13:09:42.050
> 
> 标签：python, firefox, selenium, webdriver

我不知道为什么，但我最近经常遇到这个错误（不是每次）：

```
Access is denied: 'c:\\docume~1\\shanew~1\\locals~1\\temp\\tmpijz7zu\\cookies.sqlite-shm' 
```

代码就像：

```
profile = webdriver.FirefoxProfile()
browser = webdriver.Firefox(profile)
...
browser.quit() 
```

有人知道如何解决这个问题吗？

PS：该程序在 VirtualBox win XP Professional 32 位上运行，我最近做的唯一一件事是更新驱动程序以使其与多处理器兼容。也许它与上述错误有关？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T23:42:46.567

如果您没有对 cookie 文件的管理/IO 访问权限，您可能会收到此错误。您可以通过指定一个本地文件夹来解决此问题，该文件夹位于您运行脚本的位置以存储选项。

或者，您可以在管理模式下运行脚本，它应该可以正常工作。

# javascript - 根据选择选项元素将表单重定向到不同的 URL

> ID：12388954
> 
> 赞同：21
> 
> 时间：2012-09-12T13:09:55.480
> 
> 标签：javascript, select, onclick

JavaScript 新手寻求帮助。我有一个带有 5 个选项的选择下拉列表。选项1 选项2 选项3 选项4 选项5'

如果选择了除选项 1 之外的任何选项（应该是页面加载时的默认选项），我需要将表单重定向到另一个 url。

先感谢您

我只使用了以下

```
<form action="" id="main" name="main" method="get" onChange="top.location.href=this.options[this.selectedIndex].value;" value="GO">

<select id="Region" name="Region" tabindex="7">
   <option value="/url">Option1</option>
   <option value="/url">Option2</option>
   <option value="/url">Option3</option>
   <option value="/url>Option4</option>
   <option value="" selected="selected">Option5</option>'
</select> 
```

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-09-12T14:20:33.273

只需使用`onchnage Event`for 选择框。

```
<select id="selectbox" name="" onchange="javascript:location.href = this.value;">
    <option value="https://www.yahoo.com/" selected>Option1</option>
    <option value="https://www.google.co.in/">Option2</option>
    <option value="https://www.gmail.com/">Option3</option>

</select> 
```

如果选择的选项在页面加载时加载，则添加一些 javascript 代码

```
<script type="text/javascript">
    window.onload = function(){
        location.href=document.getElementById("selectbox").value;
    }       
</script> 
```

对于 jQuery：从`<select>`标签中删除 onchange 事件

```
jQuery(function () {
    // remove the below comment in case you need chnage on document ready
    // location.href=jQuery("#selectbox").val(); 
    jQuery("#selectbox").change(function () {
        location.href = jQuery(this).val();
    })
}) 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-04-07T05:52:51.163

你可以用这个简单的方法

```
<select onchange="location = this.value;">
                <option value="/finished">Finished</option>
                <option value="/break">Break</option>
                <option value="/issue">Issues</option>
                <option value="/downtime">Downtime</option>
</select> 
```

将重定向到路由 url，您可以直接到 .html 页面或直接到某个链接，只需更改`value`选项即可。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-01T13:04:45.070

这可以通过在选择控件的 onchange 事件上添加代码来存档。

例如：

```
<select onchange="this.options[this.selectedIndex].value && (window.location = this.options[this.selectedIndex].value);">
    <option value="http://gmail.com">Gmail</option>
    <option value="http://youtube.com">Youtube</option>
</select> 
```

# java - 要使用的数据结构：需要按优先级和名称访问

> ID：12388955
> 
> 赞同：0
> 
> 时间：2012-09-12T13:10:06.620
> 
> 标签：java, priority-queue

当我需要时使用什么数据结构

*   按优先级访问对象 - 出列
*   按名称/ID 访问对象以更新优先级

使用 Java 的 PriorityQueue，我不能直接通过名称/id 属性访问节点，可以吗？

* * *

我在考虑使用优先级队列和 TreeMap，这样我就可以在 log(n) 时间内按名称搜索，然后修改优先级。但我怀疑队列会知道这一点吗？在那种情况下，我需要删除并重新添加节点吗？这值得开销吗？删除/重新添加节点有多复杂？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:14:18.830

> 在那种情况下，我需要删除并重新添加节点吗？

是的。

> 这值得开销吗？

这取决于您的要求。只有你知道。

> 删除/重新添加节点有多复杂？

从 PriorityQueue 中插入和删除是 O(log n)。

# c# - 请帮助我创建正则表达式

> ID：12388958
> 
> 赞同：0
> 
> 时间：2012-09-12T13:10:11.767
> 
> 标签：c#, regex

请告诉我从“12”可以是任何数字的字符串中替换值“_$$12”的正则表达式是什么。我尝试过各种组合，但“$”正在产生问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:11:48.350

由于`$`在正则表达式中具有特殊含义，因此需要对其进行转义：

```
@"_\$\$\d\d" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T13:11:53.047

`$`is 在正则表达式中具有特殊含义，它标志着字符串的结尾。例如

```
Regex.Replace(input_string,@"_\$\$\(d+)", @"\1"); 
```

将替换`_$$12`为`12`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T13:11:43.280

```
var sanitized = Regex.Replace("_$$12", @"_\$\$[0-9]+", "ReplacementString"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T13:29:05.463

尝试这个。

```
 string input = "_$$12";
        string output = Regex.Replace(input, @"_\$\$", string.Empty); 
```

输出将为 12。如果您增加输入，例如“_$$123456”，则输出将为 123456

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T13:21:33.623

检查这个：

```
using System.Text.RegularExpressions;

class RegExSample 
{
  static void Main() 
  {
    string text = "text _$$12 text";
    string result = Regex.Replace(text, @"_\$\$\d+", "#replacement#");
    System.Console.WriteLine("result = [" + result + "]");
  }
} 
```

[在此处](http://ideone.com/W4WN6)查看此代码。

# seo - 从 www 到子域和 SEO 的 301 重定向

> ID：12388962
> 
> 赞同：0
> 
> 时间：2012-09-12T13:10:15.700
> 
> 标签：seo

我将很快推出一个网站，该网站往往是网站集的一部分。我想每个站点使用 1 个子域：

*   site1.mydomain.com
*   site2.mydomain.com
*   site3.mydomain.com
*   ...

目前，我没有时间为 www 网站（我公司的公开展示）编写内容。而且我只有 1 个站点 (site1.mydomain.com)。我想在其子域上为 site1 编制索引，并且只要 site1 在 mydomain.com 上单独存在，就可以进行从 www 到 site1 的 301 重定向。

对谷歌引用引擎有害吗？如果我在我的 site1 索引页面标题中放置一个规范链接，例如`<link rel="canonical" href="http://site1.mydomain.com" />`在我的标题中，谷歌机器人可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T15:25:30.357

www会有*什么吗？*如果没有，那么我建议使用 301 重定向 - 除非您打算很快做某事。如果您在那里有一个网站（即联系方式、关于页面等），那么我不会在它们上使用规范链接，因为您仍然希望这些索引本身具有索引。但是，当然，仍然从 www 链接到 site1。

如果 site1 与 www 完全不同，那么拥有规范链接就没有多大意义。如果您纯粹是想让权限通过，那么 301 可能也是最好的，但可能取决于您的内容。我们主要使用规范来摆脱重复问题，或者当我们有，例如，一个显示视频和少量信息的视频页面，但我们宁愿将主视频索引作为权威 URL。

我最好的建议是按照应有的方式使用重定向和规范标签（因为您可以阅读技术规范 - 无聊，但必要！），并首先查看[Matt Cutts](http://www.mattcutts.com/blog/rel-canonical-html-head/)对这些事情的看法。

# database - 如何在数据库中存储向量：BLOB 或 ARRAY？

> ID：12388963
> 
> 赞同：2
> 
> 时间：2012-09-12T13:10:16.137
> 
> 标签：database, vector, blob

我很快需要将测量值（从 MATLAB 中）存储在数据库中——也许是 MySQL。
每个测量都将包含一些元数据和一个包含 4096 个浮点（双）条目的测量向量。我应该以哪种方式将它们存储到数据库中？然后将其转换为 a`BLOB`或将它们作为`ARRAY`类型列？[我在JAVA jdbc Docs](http://docs.oracle.com/javase/tutorial/jdbc/basics/array.html)中找到了这些列类型。
欢迎任何提示 - 甚至是不同的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T11:05:52.963

请注意，当您选择引擎时，MySQL 没有数组类型。数组是在 ANSI/ISO SQL 标准中定义的，因此随着时间的推移，更多的 DBMS 可能会采用对它们的支持，而不是相反。

即使使用数组，您也可能需要进行*一些转换，因为数组结果通常被编码为字符串表示形式，需要对其进行解析，尽管对于简单的一维双精度数组来说这不应该是问题。*存储方法的选择更多地取决于数据在数据库中后您将如何处理该数据，而不是取决于您想要存储它的方式。

*如果您打算对服务器*上的向量内容进行操作，例如搜索值 ( `:value = ANY (array_column)`) ，则使用数组是有意义的。如果您*只是*要检索向量，而不直接在查询中检查其内容，那么您决定使用什么存储并不重要。实际上，您可能会受益于 blob/文本存储，以避免在 DBMS 端进行任何额外处理（即，将数组值编码为结果的字符串表示形式）。

# javascript - cordova-2.0.0.js 不能在使用 phonegap 的 android 上工作

> ID：12388966
> 
> 赞同：3
> 
> 时间：2012-09-12T13:10:28.103
> 
> 标签：javascript, android, html, windows-phone-7, cordova

我是一个新的PhoneGap 程序员。navigator.notification.alert() 无法在 Android 上使用 phonegap。但它适用于 iPhone 和 WP7。我正在 Windows Phone 7 中开发这个应用程序。

谢谢你的帮助

```
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>Cordova WP7</title>
    <link rel="stylesheet" href="master.css" type="text/css" media="screen" title="no title"
        charset="utf-8" />
    <!--<script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>-->  
    <script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
    <script type="text/javascript">
        function doAlert() {
            var message = "This is an Alert dialog";
            var title = "Attention!";
            navigator.notification.alert(message, title);
        };       

    </script>
</head>
<body>
    <h1>
        Cordova Tests</h1>
    <div id="info">
         <a href="#" onclick="doAlert()">Click Me</a>  
    </div>
</body>
</html> 
```

**最后，我得到了解决方案。**

***解决方案：***

在我们构建 phonegap 代码之前（在**build.phonegap.com**中），我们需要删除**cordova-2.0.0.js**文件。如果我们删除这个**cordova-2.0.0.js**，phonegap 代码正在安卓上运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T19:53:07.680

你必须等待`DeviceReady`：

```
<!DOCTYPE html>
<html>
<head>
<title></title>
<meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0, user-scalable=no" />
<script type="text/javascript" charset="utf-8" src="windows/cordova-2.0.0.js"></script>
<script type="text/javascript" charset="utf-8">
    var deviceReady = false;
    function init() {
        document.addEventListener("deviceready", function () {
            deviceReady = true;
        }, false);

        window.setTimeout(function () {
            if (!deviceReady) {
                alert("Error: Phonegap did not initialize.  Demo will not run correctly.");
                console.log("Error: Phonegap did not initialize.  Demo will not run correctly.");
            }
        }, 1000);
    }

    function doAlert() {
        var message = "This is an Alert dialog";
        var title = "Attention!";
        navigator.notification.alert(message, title);
    }
</script>
</head>
<body onLoad="init();">
<h1>Cordova Tests</h1>
<div id="info">
    <button onclick="doAlert();">Click Me</button>
</div>
</body>
</html> 
```

# javascript - 在相对路径中使用“../”可以吗？

> ID：12388971
> 
> 赞同：3
> 
> 时间：2012-09-12T13:10:54.890
> 
> 标签：javascript, css, drupal, extjs, relative-path

我正在使用 extjs4 构建一个驻留在 drupal 中的 webapp。
我的许多 ajax 调用都是针对 drupal 中模块中的菜单项。
我的 css 指向的图像有时位于我的 extjs 文件夹中，有时位于 drupal 中。

一位同事坚持认为使用 '../dir_a/' 的相对路径是糟糕的设计，并且容易产生风险。

这个对吗？还有其他方法吗？

我的文件夹结构：

```
- drupal
   - v2 (extjs home folder)
      - css
      - extjs
   - sites
      - mySite
          - modules
              - webApp 
```

我的 css 文件包含如下调用：

```
.x-action-col-cell img.restart-test-icon {
    background-image: url(../extjs/examples/sandbox/images/gears.png);
} 
```

我的应用程序有这样的调用：

```
Ext.Ajax.request({
   url: '../webapp/tests/create/',
   method: 'Post'
}); 
```

**编辑：**评论者要求澄清。同事对此的两个主要问题是：
1.“如果服务器端代码将生成一个`/a/b/c`没有尾随的地址，`/`您可能会遇到`/a/b/c../d`“
*真？这听起来更像是服务器端问题。*
2.“你见过其他人使用它吗？”
*在我看来，这是一种非常糟糕的决定任何事情的方式。*
但我继续使用 firebug 测试了一些 JS 密集型网站（gmail、aws），发现`../`在他们的 JS 或 CSS 中没有用。
任何人都可以帮助我支持我的说法，即它完全可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:12:26.997

这是一个非常糟糕的论点，类似于说：

如果你不清理你的数据库输入，你可能容易受到 SQL 注入攻击，因此，我不会使用数据库。

这几乎是相同的情况，只是清理输入的问题。

很可能您使用的任何服务器端堆栈都内置了功能（或库）来处理这些事情，类似于 C# 中的 Path 类：http: [//msdn.microsoft.com/en-us/library/3bdzys9w (v=vs.71](http://msdn.microsoft.com/en-us/library/3bdzys9w(v=vs.71) )

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T14:14:34.077

> 一个。“如果服务器端代码将生成像 /a/b/c 这样没有尾随 / 的地址，您可能会遇到 /a/b/c../d 的情况” 是吗？这听起来更像是服务器端问题。

如果路径在您的文件中配置良好，我想不出任何问题。

> 湾。“你见过其他人使用它吗？” 在我看来，这是一种非常糟糕的决定任何事情的方式。

这是一个糟糕的方式，确实（1）。我尝试了第一个可用的网站（stackoverflow.com），请参阅此页面中包含的 all.css：

```
.review-diff-bar .review-diff-bar-helper {
    background: url("../Img/diff-icons/full-html-diff.png") no-repeat scroll 0 0 transparent;
    ...
}

.openid-identifier {
    background: url("../img/openid-large.png") no-repeat scroll left center transparent;
    ...
} 
```

这是一个 css，但同样适用于 js 文件。

(1) 像这样的谬误信息：http: [//www.fallacyfiles.org/ignorant.html](http://www.fallacyfiles.org/ignorant.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-12T14:15:40.113

> 如果服务器端代码将生成像 /a/b/c 这样没有尾随 / 的地址，您可能会遇到 /a/b/c../d

这不是它的工作方式。如果你在`/a/b/c`并且引用`../d`，浏览器请求`/a/b/d`因为`c`不是目录，`/a/b/`是。现在，如果您只是连接字符串，我可能会发现存在问题（请注意，许多语言都具有组装路径的功能）。这不一定有*风险*，您最终只是要求错误的文件。

现在，我看到一些非常愚蠢的爬虫通过我的网站，同时尝试使用与`base`标签结合的相对 URL，并最终在我的日志中出现数千个 404 ......因为他们没有考虑到我所有的亲戚链接应该在我的基本标签的href前面。不使用基本标签，我没有遇到任何问题（我不提倡相对与绝对的任何一种方式）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T14:04:36.500

*不使用*相对路径的主要问题是每次移动引用其他文件（例如您的 css、html 和 js 文件）的文件都需要您更改此文件中的引用。

此外，如果您有一个 html 来源的 javascript 来源另一个来源 css 文件的 javascript，那么开发人员通常不清楚相对路径是什么（开发人员在该区域犯错误是很常见的 - 是否包含HTML 路径还是引用的调用者路径？）

此外，正如一条评论中提到的，这种做法导致在服务器端级别使用相同的模式，在某些情况下，这可能会导致轻微的安全风险。

*使用*相对 url的主要原因是它允许您将整个项目从一个目录移动到另一个目录，而无需更改任何内容。如果您使用的是根相对 url，则无法做到这一点。

总而言之，这个决定真的取决于个人和项目。我通常更喜欢根相对 url，但我也只有相对 url。

顺便说一句，最好的办法是拥有一个可以用作根的服务器端或编译时变量，这可以为您提供稳定性和灵活性，但这通常是很少有人拥有的奢侈品。

# iphone - http标头请求中的UDID iphone

> ID：12388976
> 
> 赞同：1
> 
> 时间：2012-09-12T13:11:03.160
> 
> 标签：iphone, http, header

是否可以让我的 iPhone 在所有 http 请求标头中自动发送 UDID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:43:32.563

您可以创建自己的 UUID，如果需要，可以将其添加到标题中。将 UUID 保存在首选项中。

也许这样做`- (BOOL)application:didFinishLaunchingWithOptions:`

```
if (![[NSUserDefaults standardUserDefaults] stringForKey:@"deviceID"]) {
    CFUUIDRef uuid = CFUUIDCreate(NULL);
    NSString *uuidString = (__bridge_transfer NSString *) CFUUIDCreateString(NULL, uuid);
    [[NSUserDefaults standardUserDefaults] setValue:uuidString forKey:@"deviceID"];
    [[NSUserDefaults standardUserDefaults] synchronize];
    CFRelease(uuid);
} 
```

然后，您可以将标题添加到`NSMutableURLRequest`

```
NSMutableURLRequest* request = [[NSMutableURLRequest alloc] initWithURL:url];

[request setValue:[[NSUserDefaults standardUserDefaults] stringForKey:@"deviceID"]
 forHTTPHeaderField:@"Device-ID"]; 
```

# rabbitmq - 如何在 Windows 上为 rabbitmq 队列交互配置日志记录

> ID：12388979
> 
> 赞同：0
> 
> 时间：2012-09-12T13:11:15.420
> 
> 标签：rabbitmq

我们需要队列交互的详细跟踪，以便能够解决当前的开发问题。怎么可能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T18:53:45.493

我已经想通了。所有需要做的就是将另一个虚拟队列绑定到同一个交换点，并且中提琴所有的消息都在那里查找并且可以通过管理插件进行检查。

# javascript - 为什么 window.open 不打开以 var 形式给出的链接？

> ID：12388981
> 
> 赞同：-1
> 
> 时间：2012-09-12T13:11:21.003
> 
> 标签：javascript, jquery

我正在尝试打开一个名为 hemsida 的 div 中的链接。

```
 $('#hemsida').unbind('click');
 $('#hemsida').bind('click', function(){
    console.log('text: '+$(this).html());
    window.open($(this).html());
}); 
```

但是新窗口打开了错误的链接。例如，如果 div hemsida 中的文本是 hotmail.com，那么新打开窗口的链接是[http://localhost.com/hotmail.com](http://localhost.com/hotmail.com)。console.log 给出了正确的字符串。知道为什么吗？我是否必须将我的 div hemsida 更改为 href 才能使其工作，或者我可以通过从中获取文本来打开链接？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-12T13:13:56.420

您没有在 URL 中提供协议，浏览器假定您正在为当前域提供相对路径。您需要提供“ `http://hotmail.com`”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-12T13:14:11.203

`hotmail.com`是一个[**相对 URL**](http://www.webreference.com/html/tutorial2/3.html)。

将其更改`http://hotmail.com`为**Absolute URL**，这应该可以解决您的问题。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-12T13:14:19.337

如果您不传递`http://`链接，浏览器会假定它是本地相对链接，因此会尝试像[http://localhost.com/hotmail.com](http://localhost.com/hotmail.com)一样打开它。

确保您的链接以 http:// 开头

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T13:15:54.627

您必须在之前插入链接：

> http://

你需要链接

> “http://hotmail.com”。

因为您需要使用绝对链接而不是相对链接

# jquery - 从对话框窗口成功提交表单后如何更新前端内容？

> ID：12388987
> 
> 赞同：3
> 
> 时间：2012-09-12T13:11:35.247
> 
> 标签：jquery, ruby-on-rails, ruby, jquery-ui, modal-dialog

我正在使用 Ruby on Rails 3.2.2 和 jQuery-Rails 2.0.2 gem（包括 jQuery UI）。当我单击前端内容中的“新评论”链接时，我有一个打开的[jQuery UI 对话框窗口。](http://jqueryui.com/demos/dialog/)当对话框窗口打开时，它会向我的控制器操作执行 AJAX HTTP 请求，使其使用 HTML 表单呈现和“填充”模态窗口正文内容。

我想实现我的观点，以便*在表单成功提交*后前端内容更改为：触发链接文本更改表单“新评论”为“编辑评论”。

我怎样才能做到这一点？你有什么建议？

* * *

*注意*：表单通过执行 AJAX HTTP 请求依次提交。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T13:20:01.810

这完全取决于您如何将该表单提交到服务器。

如果您提交的表单设置了`:remote => true`属性，它将通过 AJAX 调用发送到服务器，服务器将能够将其与常规的非 ajax 表单请求区分开来：

```
respond_to do |format|
  format.js  #this renders the <actionname>.js.erb file and executes it on the client
end 
```

jquery_ujs 助手然后将执行服务器返回给他的javascript 代码。

您可以在`<actionname>.js.erb`文件中编写任意 JavaScript 代码，如下所示：

```
$('#trigger_link').text('edit comment'); 
```

如果您不使用远程表单而是进行正常`$.ajax`调用，您可以简单地挂钩到`success`jQuery 提供的回调，但我想这很明显。

**更新：**

似乎问题在于您不知道哪个链接触发了对话框的打开。

通常在某个地方你有一个 jQuery 函数可以为你打开对话框。在呈现包含触发链接的初始列表时，我假设您有某种方法可以将它们与页面上的其他链接区分开来（可能通过类似的 css 类`.trigger`）。

然后你可以这样做：

```
$('.trigger').click(function() {
  window.trigger_link = this;
}); 
```

请注意，上面的这个小片段不会覆盖您现有的打开弹出窗口的单击事件处理程序。它也被执行。

因此，现在我们跟踪打开窗口的链接（单击触发链接时打开窗口 - 我们始终保存最后点击的触发链接），一旦提交表单，我们可以执行以下操作：

```
$(window.trigger_link).text('edit comment'); 
```

由于 window.trigger_link 指的是正确的链接。

# c# - 强制下载流 - 强制下载 excel 文件

> ID：12388990
> 
> 赞同：1
> 
> 时间：2012-09-12T13:11:44.550
> 
> 标签：c#, excel, stream, epplus

我正在使用`MemoryStream`API 和 EPPlus 在内存中创建一个 excel 文件来创建一个 excel 文档。

我创建 excel 文件的代码基本上是这样的：

```
public Stream GetXlsDocument(IQueryable data)
{

    const string sheetName = "Sheet1";
    var file = new FileInfo("test2.xls");

    MemoryStream stream = new MemoryStream();
    using (ExcelPackage p = new ExcelPackage(stream))
    {
        p.Workbook.Worksheets.Add(sheetName);

        ExcelWorksheet ws = p.Workbook.Worksheets[1];
        ws.Name = sheetName;
        ws.Cells.Style.Font.Size = 11;
        ws.Cells.Style.Font.Name = "Calibri";

        // Headers
        ws.SetValue(1, 1, "Some data");

        p.SaveAs(stream);
    }

    stream.Position = 0;
    return stream;
} 
```

然后我的其他功能应该将此流作为下载提供给用户。我正在尝试这样做：

```
var file = Documents.GetXlsDocument();

var memoryStream = new MemoryStream();
file.CopyTo(memoryStream);

Response.Clear();
Response.ContentType = "application/force-download";
Response.AddHeader("content-disposition", "attachment; filename=nfile.xls");
Response.BinaryWrite(memoryStream.ToArray());
Response.End(); 
```

这确实显示了一个下载对话框。但是当我打开我的 excel 文件时，整个 excel 文档都充满了垃圾（我猜二进制数据表示为字符串）。

我不知道我做错了什么。

任何人都知道如何使excel文件以良好的格式下载吗？也许 EPPlus 已经为此准备了一些东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T14:24:11.797

不要在构造函数中添加流。保持构造函数为空。

所以改变这一行：

```
using (ExcelPackage p = new ExcelPackage(stream)) 
```

对此：

```
using (ExcelPackage p = new ExcelPackage()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T13:15:04.467

对于“Response.ContentType” `application/octet-stream`，用作类型。这将告诉大多数浏览器将该文件视为不应下载其他任何内容的数据。

# visual-studio-2010 - FileSystemWatcher 未正确触发

> ID：12388998
> 
> 赞同：0
> 
> 时间：2012-09-12T13:12:03.343
> 
> 标签：visual-studio-2010, filesystemwatcher

好吧，在我的列表框中的第一项出现之前，我的文件系统观察器不会触发。但不会按该顺序创建列表框中列出的文件。

进一步解释...

我正在获取在文本框中输入的值，并将该值添加到列表框中，并在图片框中更改该值旁边的图标。该图标将提醒用户 PDF 尚未创建。

```
 ListBox1.Items.Add(TextBoxTicketID.Text)

    If CStr(ListBox1.Items(0)) = TextBoxTicketID.Text Then
        PictureBoxStatus1.Image = My.Resources.Orange_Information
    ElseIf (ListBox1.Items(1)) = TextBoxTicketID.Text Then
        PictureBoxStatus2.Image = My.Resources.Orange_Information
    ElseIf (ListBox1.Items(2)) = TextBoxTicketID.Text Then
        PictureBoxStatus3.Image = My.Resources.Orange_Information
    End If

    TextBoxTicketID.Text = ""

    Call CheckPDFs() 
```

以下是我目前正在检查是否已创建 PDF 的方式。

最终，在 msgbox 所在的私有子中，我想将 ID 旁边的图标更新为绿色复选标记，表示 PDF 已创建。

```
Public Sub CheckPDFs()
    Dim x As Integer
    Dim Watcher As New FileSystemWatcher()
    Watcher.Path = "C:\Temp\"
    Watcher.NotifyFilter = (NotifyFilters.Attributes)
    Watcher.Filter = ListBox1.Items(x) + ".pdf"

    AddHandler Watcher.Changed, AddressOf OnChanged

    Watcher.EnableRaisingEvents = True
End Sub

Private Shared Sub OnChanged(source As Object, e As FileSystemEventArgs)
    Dim x As Integer
    ' Specify what is done when a file is created.
    MsgBox("File has been created!")
End Sub 
```

当我运行测试时，我创建了两个输入到列表框中的唯一 ID。

问题 1：我通过输入的第一个 ID 手动创建 PDF，没有任何触发。在触发 msgbox 之前，我必须将 PDF 从目录中移出并移回。

问题 2：如果我输入了两个 ID，我手动创建了第二个 ID，没有任何触发。我将文件移出目录并重新移入，仍未触发。

为什么在触发之后输入的任何 ID 之前需要存在第一个 ID？

**编辑**

这里有两个屏幕截图，在用户输入之前和之后，显示输入的 ID 和图标。

[Before_IDs_Entered](http://oi45.tinypic.com/vy41ud.jpg)

[After_IDs_Entered](http://oi46.tinypic.com/2eci741.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T13:36:27.360

您的代码没有显示您如何设置 Watcher.NofityFilter。如果您希望在文件完成写入并准备好使用时引发事件，那么您必须按如下方式设置它：

```
Watcher.NotifyFilter = NotifyFilters.Attributes; 
```

Then remove the `Watcher.Created` event you have listed; you want to have only the `Changed`. Otherwise you will receive two events: one for the file being created with zero bytes in it, and the other for when the file is done being written. I believe you only care when the file is done being written.