# StackOverflow 问答 11685000-11685999

# javascript - 在 Javascript 中查找请求 URL

> ID：11685001
> 
> 赞同：1
> 
> 时间：2012-07-27T09:25:16.943
> 
> 标签：javascript, debugging, url, bookmarklet, http-request

我正在创建一个小书签，当页面未加载时，它会在代理中打开 url（一个示例可能是 chrome 中的 ERR_CONNECTION_TIMED_OUT）。

但是，我无法获取此类页面的网址。对于其他人（被 ISP 阻止），url 正在正确获取。

我`location.href`用来获取网址。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-05T00:57:25.910

用于`document.location.host`获取 URL：

```
 if (/blocked/i.test(document.body.innerHTML) )
   {
   location.href = /* Proxy URL */ 
   } 
```

# javascript - PhoneGap+JQuery_Mobile：如何通过单击按钮从照片/图像库中获取图像

> ID：11685006
> 
> 赞同：0
> 
> 时间：2012-07-27T09:25:31.677
> 
> 标签：javascript, android, jquery-mobile, cordova

我已经**使用 jQuery Mobile 和 java 脚本为 Android 和 iPhone 实现了一个 PhoneGap 应用程序，**

在我的应用程序中，我有相机选项。我需要使用`image to place in a position.`那完成了。

我有 2 个按钮：

1.抓图（完成√）

**2.从图库中选择文件**

捕获图像 通过单击捕获按钮并将捕获的图像放置在所需位置。完成

现在**我想要通过单击另一个按钮“图库按钮”从图库中获取图像的功能**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:33:32.880

查看[PhoneGap 相机文档](http://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html#camera.getPicture)

> 如果 Camera.sourceType = Camera.PictureSourceType.PHOTOLIBRARY 或 Camera.PictureSourceType.SAVEDPHOTOALBUM，则会显示照片选择器对话框，从中可以选择相册中的照片。

有关更多信息，请查看[此线程](https://stackoverflow.com/questions/6690571/phonegap-choose-image-from-gallery)。

*为您的按钮添加一个 onclick 事件侦听器，您可以在其中调用 phonegap 函数；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-02T10:12:41.660

[https://www.ibm.com/developerworks/mydeveloperworks/blogs/94e7fded-7162-445e-8ceb-97a2140866a9/entry/upload_a_picture_using_phonegap_on_android8?lang=en](https://www.ibm.com/developerworks/mydeveloperworks/blogs/94e7fded-7162-445e-8ceb-97a2140866a9/entry/upload_a_picture_using_phonegap_on_android8?lang=en)

访问这个你将成为照片上传代码之王......;）

# android - 对话框抛出“无法添加窗口 - 令牌 null 不适用于应用程序

> ID：11685007
> 
> 赞同：0
> 
> 时间：2012-07-27T09:25:37.700
> 
> 标签：android, android-alertdialog

我在创建警报对话框时遇到问题，该对话框显示 - 无法添加窗口 - 令牌 null 不适用于应用程序

```
public class Authenticator {

public static final String TAG = "Authenticator";

public static int getUserId(final String username, final String password) { 

    int retVal = 0;

    final QuickTexterApplication qta = QuickTexterApplication.getQuickTexterApplication();
    final Handler handler =  new Handler();

    Thread thread = new Thread(new Runnable() {
        public void run() {                
            Runnable displayGUIRun = new Runnable() {
                public void run() {
                    int userId = 0;
                    HttpURLConnection urlConnection = null;
                    String urlAuthenticator = qta.getResources().getString(R.string.urlAuthenticator);                      
                    try{
                        URL url = new URL(urlAuthenticator);
                        urlConnection = (HttpURLConnection) url.openConnection();

                        urlConnection.setRequestMethod("POST");         
                        urlConnection.setDoInput(true);
                        urlConnection.setDoOutput(true);

                        DataOutputStream wr = new DataOutputStream(urlConnection.getOutputStream());

                        wr.writeBytes("username=" + username + "&");
                        wr.writeBytes("password=" + password);
                        wr.flush();
                        wr.close();

                        urlConnection.connect();

                        if (urlConnection.getResponseCode() == HttpURLConnection.HTTP_OK){
                            Log.d(TAG,"HTTP OK");
                            InputStream inStream = urlConnection.getInputStream();
                            BufferedReader in = new BufferedReader(new InputStreamReader(inStream));

                            String inLine = in.readLine();                  
                            in.close();

                            Log.d(TAG,"inLine: " + inLine);
                            userId = Integer.parseInt(inLine);
                        }
                        else {
                            Log.d(TAG,"HTTP NOT OK");
                        }

                        String alertMsg = "Unable to establish connection to server";
                        switch(userId){
                            case -1 :
                                alertMsg = "You entered an invalid username or password";
                            case 0  : // This is where the exception occurs
                                AlertDialog.Builder alertBuilder = new AlertDialog.Builder(qta.getApplicationContext());
                                Log.d(TAG, alertMsg);
                                alertBuilder.setMessage(alertMsg)
                                            .setNeutralButton("Ok", new DialogInterface.OnClickListener(){
                                                @Override
                                                public void onClick(DialogInterface dialog, int id) {
                                                    dialog.cancel();
                                                }

                                            });
                                AlertDialog alert = alertBuilder.create();
                                alert.show();
                                break; 
```

我不能使用“this”作为上下文，因为 Authenticator 不是 Avitvity。
但随后 getApplicationContext() 也不起作用......
我想做的是从 Activity 类调用方法：getUserId() 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T13:09:17.887

您必须在 Authenticator 类中创建构造函数，该构造函数将为您的类提供上下文。并通过调用此构造函数将上下文传递给此类。

```
 public class Authenticator {
       Context myContext;

   public Authenticator(YourActivity activity)
   {
    // TODO Auto-generated constructor stub
    this.myContext = activity;          
    }
  } 
```

通过这种方式，您可以获得此类的上下文。让我知道它是否有效。:)

# java - Spring Batch：如何确定作业是否重新启动

> ID：11685013
> 
> 赞同：2
> 
> 时间：2012-07-27T09:26:07.633
> 
> 标签：java, spring-batch, restart

是否有可能找出，如果在 Spring Batch 中重新启动作业？

我们确实提供了一些没有来自 spring-batch 的重新启动支持的 Tasklet，并且如果作业重新启动，我们必须实现我们自己的程序。

在 JobRepository、JobOperator、JobExplorer 等中找不到任何可能性。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-28T19:13:41.973

Define a JobExplorer bean with required properties

```
<bean id="jobExplorer"
class="org.springframework.batch.core.explore.support.JobExplorerFactoryBean">
<property name="dataSource" ref="dataSource"/>
<property name="lobHandler" ref="lobHandler"/>
</bean> 
```

Query it with your jobName

```
List<JobInstance> jobInstances= jobExplorer.getJobInstances(jobName);

for (JobInstance jobInstance : jobInstances) {
    List<JobExecution> jobExecutions = jobExplorer.getJobExecutions(jobInstance);
    for (JobExecution jobExecution : jobExecutions) {
        if (jobExecution.getExitStatus().equals(ExitStatus.COMPLETED)) {
        //You found a completed job, possible candidate for a restart
        //You may check if the job is restarted comparing jobParameters
        JobParameters jobParameters = jobInstance.getParameters();
        //Check your running job if it has the same jobParameters 
        }
     }
} 
```

Did not compile this but I hope it gives an idea

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-04-19T13:05:31.433

使用 jobExplorer 的另一种方法是执行以下命令：

```
jobExplorer.getJobExecutions(jobExplorer.getJobInstance(currentJobExecution.getJobInstance().getId())).size() > 1; 
```

此语句验证是否存在相同作业（相同 id）的另一个执行。在具有最小控制的环境中，不存在其他执行不是失败或停止执行的可能性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:32:17.950

可能您可以在 spring-batch 的数据库表中找到此信息，不记得确切的表的名称，但您可以快速弄清楚，因为只有很少的表。我想有一些关于重启的信息。

# android - 使用 ArrayAdapter 进行 ListView 过滤

> ID：11685014
> 
> 赞同：0
> 
> 时间：2012-07-27T09:26:09.117
> 
> 标签：android, arrays, listview, filter

我试图让我的列表视图与搜索框一起使用，以过滤掉列表视图中已安装的应用程序。我尝试了各种方法，例如覆盖 toString() 方法和覆盖 getFilter() 方法，但它们似乎都不起作用。

主要活动：

```
public class AllApplicationsActivity extends Activity {
    private ListView mListAppInfo;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // set layout for the main screen
        setContentView(R.layout.layout_main);

        // load list application
        mListAppInfo = (ListView)findViewById(R.id.lvApps);
        EditText search = (EditText)findViewById(R.id.EditText01);

        mListAppInfo.setTextFilterEnabled(true);

        // create new adapter
        final AppInfoAdapter adapter = new AppInfoAdapter(this, Utilities.getInstalledApplication(this), getPackageManager());

        // set adapter to list view  
        mListAppInfo.setAdapter(adapter);

        search.addTextChangedListener(new TextWatcher() {

            public void afterTextChanged(Editable s) {

            }

            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
            }

            public void onTextChanged(CharSequence s, int start, int before,
                    int count) {
                Log.e("TAG", "ontextchanged");
               adapter.getFilter().filter(s); //Filter from my adapter
               adapter.notifyDataSetChanged(); //Update my view
            }
        });

        // implement event when an item on list view is selected
        mListAppInfo.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView parent, View view, int pos, long id) {
                // get the list adapter
                AppInfoAdapter appInfoAdapter = (AppInfoAdapter)parent.getAdapter();
                // get selected item on the list
                ApplicationInfo appInfo = (ApplicationInfo)appInfoAdapter.getItem(pos);
                // launch the selected application
                //Utilities.launchApp(parent.getContext(), getPackageManager(), appInfo.packageName);
                Utilities.getPermissions(parent.getContext(), getPackageManager(), appInfo.packageName);
                //Toast.makeText(MainActivity.this, "You have clicked on package: " + appInfo.packageName, Toast.LENGTH_SHORT).show();
            }
        });

    }
} 
```

应用信息适配器

```
public class AppInfoAdapter extends ArrayAdapter<ApplicationInfo> {

    private Context mContext;
    PackageManager mPackManager;

    public AppInfoAdapter(Context c, List<ApplicationInfo> list, PackageManager pm) {
        super(c, 0, list);
        mContext = c;
        mPackManager = pm;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // get the selected entry
        ApplicationInfo entry = (ApplicationInfo) getItem(position);

        Log.e("TAG", entry.toString());

        // reference to convertView
        View v = convertView;

        // inflate new layout if null
        if(v == null) {
            LayoutInflater inflater = LayoutInflater.from(mContext);
            v = inflater.inflate(R.layout.layout_appinfo, null);
        }

        // load controls from layout resources
        ImageView ivAppIcon = (ImageView)v.findViewById(R.id.ivIcon);
        TextView tvAppName = (TextView)v.findViewById(R.id.tvName);
        TextView tvPkgName = (TextView)v.findViewById(R.id.tvPack);

        // set data to display
        ivAppIcon.setImageDrawable(entry.loadIcon(mPackManager));
        tvAppName.setText(entry.loadLabel(mPackManager));
        tvPkgName.setText(entry.packageName);

        // return view
        return v;
    }
} 
```

额外的

```
public static List<ApplicationInfo> getInstalledApplication(Context context) {
    PackageManager packageManager = context.getPackageManager();

    List<ApplicationInfo> apps = packageManager.getInstalledApplications(0);
    Collections.sort(apps, new ApplicationInfo.DisplayNameComparator(packageManager));
    return apps;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:26:20.073

Using a TextWatcher as you've done it should work. You might try not calling setTextFilterEnabled, since that will cause the list to set up it's own filter that will work when the list has focus.

My guess is that ApplicationInfo.toString() is returning something other than what you are displaying in the list. Since the default ArrayAdapter filter matches against getString() on each item, you might be filtering against something unexpected.

You could solve this by using a wrapper object and overriding toString(), or build your own filter.

```
 @Override
  public Filter getFilter() {
    return mFilter;
  }

  private final Filter mFilter = new Filter() {
    @Override
    protected FilterResults performFiltering(CharSequence charSequence) {
      FilterResults results = new FilterResults();
      if (charSequence == null) {
        return results;
      }

      // snip

      results.values = /* snip */
      results.count = /* snip */
      return results;
    }

    @Override
    protected void publishResults(CharSequence charSequence, FilterResults filterResults) {
      if (filterResults != null) {
        notifyDataSetChanged();
      } else {
        notifyDataSetInvalidated();
      }
    }
  }; 
```

At the very least, providing your own filter might help with debugging. Also, I could imagine providing a filter that does a regex search on the package name and label.

# javascript - Rangy 和 IE8 - 在段落末尾的元素之后定位插入符号

> ID：11685015
> 
> 赞同：0
> 
> 时间：2012-07-27T09:26:09.540
> 
> 标签：javascript, internet-explorer-8, rangy

我正在使用 Rangy 在富文本编辑器中执行多项操作（设计模式 =“on”）。其中一项功能是粘贴格式化内容，这些内容可以表示用户事先创建的某些预定义字符。所有文本内容都保存在段落元素中。用户可以从这个开始：

```
<p>The following is a special character: |</p> 
```

其中竖线 (|) 是插入符号的位置。然后，他们选择通过编辑器上的按钮粘贴其中一个“特殊”字符，最终得到以下结果：

```
<p>The following is a special character: <span class="read-only" contenteditable="false">SPECIAL</span>|</p> 
```

该操作在幕后使用 Rangy 在内部粘贴过程中保持插入符号 (SelectionSaveRestoreModule) 的位置，这可能是在编辑器中对文本进行后粘贴处理，否则可能会弄乱光标的位置。

但是，在 IE8 中，插入符号不能放在之后，`<span>`因为似乎存在一个错误，使其位置无效。结果光标出现在`<span>`元素之前，甚至无法使用键盘光标控件将光标移动到跨度之后。事实上，它甚至可以防止光标移动到任何后续段落。

最近几天我尝试了几种技术，包括在`<span>`s 之后放置额外的字符并取得了一些成功。然而，这些额外的字符在出现时显然会给用户造成混淆并且并不理想。使用零宽度空间在视觉上更好，但在粘贴操作后尝试整理它们会导致问题。

我需要一种“整洁”的方法来支持用户对特殊字符的要求，我自由地接受我可能以错误的方式处理这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:27:29.283

到目前为止，我有一个似乎在我的测试中有效的解决方案，但是当我看到它时，它仍然让我感到必须有更好的方法（更不用说恐惧感了）。

这段代码试图做的是在段落末尾的任何只读跨度之后放置一个零宽度空间。它通过检查这些元素之后的节点以确定其中是否实际存在文本来做到这一点。同时，它从以前的检查中删除了可能仍存在于文本中的任何零宽度空格，这些检查现在不再需要。

```
var ZWS = '\ufeff';

jQuery(_doc.body).find('p').each(function () {
    var lastContentEditable = undefined;
    // Look through the root contents of each paragraph to remove no-longer require zws fixes
    jQuery(this).contents().each(function () {
         if (this.nodeType === 3) {
            if (this.nodeValue.indexOf(ZWS) != -1) {
                // Text node containing a ZWS - remove for now
                this.nodeValue = this.nodeValue.replace(new RegExp(ZWS, 'g'), '');
            }

            // Does this node now contain text?
            if (this.nodeValue.length > 0 && lastContentEditable) {
                // Found text after a read-only node, ergo we do not need to modify that read-only node at the end
                lastContentEditable = undefined;
            }
        } else if (this.nodeType === 1 && this.getAttribute('contenteditable') === "false") {
            // Indicate that this is currently the last read-only node
            lastContentEditable = this;
        }
    });

    if (lastContentEditable) {
        // It appears that there is a read-only element at the end of the paragraph.
        // Add the IE8 fix zws after it.
        var node = document.createTextNode(ZWS);
        jQuery(lastContentEditable).after(node);
    }

}); 
```

# doctrine - 语法错误或访问冲突

> ID：11685020
> 
> 赞同：0
> 
> 时间：2012-07-27T09:26:31.893
> 
> 标签：doctrine, symfony-1.4

当我尝试执行`php symfony doctrine:insert-sql`时，出现此错误：

> 语法错误或访问冲突：表中不存在 1072 键列“id”

这是我的 schema.yml

```
Contact:
  connection: doctrine
  tableName: contact
  columns:

    id_contact:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: true
    nom:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    fonction_organisme:
      type: string(1000)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    categorie:
      type: string(300)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    region:
      type: string(1000)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    province:
      type: string(500)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    adresse:
      type: string(1000)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    tel1:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    tel2:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    tel3:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    tel4:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    email:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    fax:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    ville:
      type: string(50)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    journal:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    commentaire:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    fix:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    image:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    owner:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
  relations:
    Evenement:
      local: id_contact
      foreign: id_contact_event
      type: many
    Users : 
      class :   User
      refClass : OperationContact
      foreignAlias : Contacts  
Courrier:
  connection: doctrine
  tableName: courrier
  columns:
    num_serie:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    annee:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    num_c:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    exp:
      type: string(500)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    dest:
      type: string(500)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    state:
      type: string(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    objet:
      type: string(1000)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    image_c:
      type: string(500)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    date_recep:
      type: date(25)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    date_env:
      type: date(25)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
      autoincrement: false
    owner_c:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    user_c:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    type_c:
      type: string(500)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
  relations : 
    Users : 
      class : User
      refClass : OperationC
      foreignAlias : Courriers
Evenement:
  connection: doctrine
  tableName: evenement
  columns:
    id_event:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: true
    date:
      type: date(25)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    action:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    id_contact_event:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
  relations:
    Contact:
      local: id_contact_event
      foreign: id_contact
      type: one
OperationC:
  connection: doctrine
  tableName: operation_c
  columns:
    id_user:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    num_serie:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    operation_c:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    date_op_c:
      type: date(25)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
  relations : 
      User : { onDelete : CASCADE }
      Courrier : { onDelete : CASCADE }
OperationContact:
  connection: doctrine
  tableName: operation_contact
  columns:
    id_contact:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    id_user:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: false
    operation:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    date_op:
      type: date(25)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
  relations : 
      User : { onDelete : CASCADE }
      Courrier : { onDelete : CASCADE }
User:
  connection: doctrine
  tableName: user
  columns:
    id_user:
      type: integer(2)
      fixed: false
      unsigned: false
      primary: true
      autoincrement: true
    nom_user:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    adresse_user:
      type: string(2000)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    tel_user:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    login:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
    password:
      type: string(30)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false 
```

# c# - 从 Dictionary 的值中获取名称作为逗号分隔的值字符串

> ID：11685022
> 
> 赞同：1
> 
> 时间：2012-07-27T09:26:37.840
> 
> 标签：c#, linq, csv, dictionary, linq-to-objects

我有一个字典`Dictionary<int, Foo> fooDic`，因为它的值是一个类并且`Foo`有一个属性`_barName`我需要所有名称`fooDic`作为 CSV 字符串...例如..

```
var fooDic = new Dictionary<int, Foo>()
{
    { 0, new Foo { _barId = 10, _barName = "some value" } },
    { 1, new Foo { _barId = 15, _barName = "some Foo value" } }, 
    { 2, new Foo { _barId = 25, _barName = "some Foobar value" } }
}; 
```

我需要输出为

```
string result = "some value, some Foo value, some Foobar value"; 
```

请分享您的想法/解决方案，如何实现？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T09:31:54.030

像这样：

```
String names = String.Join(", ", fooDic.Select(x => x.Value._barName)); 
```

看一看：

[http://ideone.com/F4bLU](http://ideone.com/F4bLU)

# if-statement - 在 C# 中的 if 中创建对象的实例

> ID：11685023
> 
> 赞同：1
> 
> 时间：2012-07-27T09:26:39.663
> 
> 标签：if-statement, instance

我可以在 if 语句中创建对象的实例吗？我制作了 2 个复选框以控制我使用的构造函数，但我收到错误消息“当前上下文中不存在名称“mth””

```
if (checkBox1.Checked && checkBox2.Checked)
        {
            Facto mth = new Facto(label3, wait_time, progressBar1);
        }
        else if(checkBox1.Checked==false && checkBox2.Checked)
        {
            Facto mth = new Facto(label3,wait_time);
        }
        else if (checkBox1.Checked && checkBox2.Checked == false)
        {
            checkBox1.Checked = false;
            Facto mth = new Facto();
        }
        else
        {
            Facto mth = new Facto();
        }

        int result = mth.Factorial(number); 
```

我究竟做错了什么？我是 C# 的新手，我还没有真正掌握它。任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:31:01.260

这是一个范围界定问题。变量 mth 仅存在于定义它的范围内（在您的情况下为括号）。一旦您离开范围，变量就不再可用。由于您`mth`在代码末尾（以及范围之外）使用变量，因此您会收到此错误。为了解决这个问题，您需要在更高的范围内定义变量。请注意，您不必在那里分配它。

这会导致类似（请注意，我重新格式化了您的括号以更容易查看范围级别）

```
 Facto mth; // Define it as the most outer scope level you are using it
    if (checkBox1.Checked && checkBox2.Checked)
    {
         mth = new Facto(label3, wait_time, progressBar1);
    }
    else 
        if(checkBox1.Checked==false && checkBox2.Checked)
        {
            mth = new Facto(label3,wait_time);
        }
        else 
            if (checkBox1.Checked && checkBox2.Checked == false)
            {
                checkBox1.Checked = false;
                mth = new Facto();
            }
            else
            {
                mth = new Facto();
            }

   int result = mth.Factorial(number); 
```

编辑：我建议始终在每个 if 和 else 上使用 {} 括号，即使它们不像您的情况那样严格要求。正如您在布局中看到的那样，要查看第一个 else 结束的位置以及“int 结果行不是其中的一部分”并不容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:40:07.207

这里的问题不是在 if 块中创建实例。第 m 个引用在 if/else 块中声明。这将可见性/范围仅限于该块。所以当您尝试在 int result = mth.Factorial(number); 行中引用它时，mth 不可用

只需在 if 块外声明 mth 并仅在 if/else 块内实例化。例如：

```
Facto mth;
if (checkBox1.Checked && checkBox2.Checked)
{
    mth = new Facto(label3, wait_time, progressBar1);
}
... 
```

有关一些基本信息，请参阅[http://msdn.microsoft.com/en-us/library/aa691132(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/aa691132(v=vs.71).aspx)。

# forms - 需要使用 css 实时设置表单输入的样式

> ID：11685024
> 
> 赞同：0
> 
> 时间：2012-07-27T09:26:40.193
> 
> 标签：forms, user-interface, text, editor, styles

好的，我正在努力寻找这方面的任何内容，因为我可能搜索了错误的关键字。

我有一个用于在页面上显示内容的支持表单。输入详细信息时，我希望能够使用基本的文本编辑器来设置文本样式，例如粗体、项目符号、下划线。

最重要的是，我还想允许他们在段落选项卡中包装部分，应用某种样式，即样式 id="x"。

它更多地用于后端，因此它不必真正用户友好，但如果在我应用它们时有一种简单的方式在表单中显示样式，基本上是所见即所得的视图。如果不是，我将满足于应用样式而不必在编辑器中查看所有 hmtl 和 css 标签，但是当通过 INSERT 查询传递信息时，它将显示传递所有相关代码，例如

我的风格等等。

现在我很高兴花时间学习如何做到这一点，如果你指出我正确的方向，但我不知道要搜索什么关键字。理想情况下，如果有一个脚本，我可以根据我的需要进行编辑，而不是从头开始。

最后，因为我学习 php 和 mysql 仍然保持低调会有所帮助，而且因为我传递的值将充满字符，所以代码不喜欢我应该查找哪些函数来将代码和内容传递到数据库以避免破坏编码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:32:11.173

我不完全确定您的意思，但是您似乎可以使用诸如 TinyMCE 与 JQuery 之类的编辑器来实现您想要的？使用 JQuery，您可以显示/隐藏项目并设置您的 CSS，例如

```
$("p").mouseover(function () {
   $(this).css("color","red");
}); 
```

# ios - 为什么系统调用UIApplicationDelegate的dealloc方法？

> ID：11685025
> 
> 赞同：3
> 
> 时间：2012-07-27T09:26:45.730
> 
> 标签：ios

我有下一个代码：

```
// create new delegate
MyCustomApplicationDelegate *redelegate = [[MyCustomApplicationDelegate alloc] init];
redelegate.delegate = [(NSObject<UIApplicationDelegate42> *)[UIApplication sharedApplication].delegate retain];

// replace delegate
[UIApplication sharedApplication].delegate = redelegate;

...
[UIApplication sharedApplication].delegate = redelegate.delegate;
[redelegate.delegate release]; 
```

在最后一行之后，系统调用了基本 UIApplicationDelegate 类的 dealloc 方法。所以为什么？我阅读了关于 UIApplication 的 Apple 文档，关于委托属性：

> @property(nonatomic, assign) id 委托
> 
> 讨论 委托必须采用 UIApplicationDelegate 正式协议。UIApplication 分配并且不保留委托。

它清楚地表明 UIApplication 分配并且不保留委托。那么，为什么它会破坏我的基础委托？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-11T03:22:28.123

UIApplication 有一些不寻常的行为。第一次在 UIApplication 上设置委托属性时，旧委托将被释放。之后每次设置委托属性时，旧委托都不会被释放。

UIApplication.h 中委托属性的声明是：

```
@property(nonatomic,assign) id<UIApplicationDelegate> delegate; 
```

这意味着共享的 UIApplication 永远不会在委托上调用保留或释放。这对于委托模式是正常的：一个类通常不保留它的委托，因为这会导致一个保留循环。

但在这种情况下，有一个不寻常的问题：谁拥有应用程序的第一个委托人？在 main.m 中，调用`UIAplicationMain()`隐式分配并初始化第一个委托，这使该委托的保留计数为 1。有人必须释放它，但周围没有类来拥有它。为了解决这个问题，每当您第一次在 UIApplication 上设置新委托时，它都会释放该第一个委托。新委托是由您的应用程序中的某个类分配和初始化的，因此您已经拥有对新委托的引用。UIApplication 不会保留或释放新的委托。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:34:02.607

我认为您不应该像这样更改 UIApplication sharedApplication 委托。您的应用程序的标准委托自动是 [UIApplication sharedApplication] 委托。所以也许你应该把你所有的自定义代码放在普通的委托中？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:03:09.303

在此之后，我有一个老代表的想法：

```
[UIApplication sharedApplication].delegate = redelegate.delegate; 
```

将会被释放。

但是当我看到这个

```
@property(nonatomic, assign) id<UIApplicationDelegate> delegate 
```

我认为它不应该（因为**分配**）

你是否同意我的观点？

# c# - 在不使用 HttpWebRequest 的情况下检查网站是否在线 c#

> ID：11685026
> 
> 赞同：0
> 
> 时间：2012-07-27T09:26:47.317
> 
> 标签：c#, visual-studio-2010, console-application

除了使用 HttpWebRequest 命令之外，是否可以确定网站是在线还是离线？

请不要**建议**我使用**Ping 方法**，因为我想检查网站的可用性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:37:24.773

您应该向您的标头（域）发送一个 ajax 调用。在 ? 后添加随机数 （即使您的页面被缓存，这是为了测试）。这就是它在javascript中的样子：

```
function hasInternets() {
    console.log("hasInternets: " + window.location.href.split("?")[0] + "?" + Math.random());
    var s = $.ajax({ 
        type: "HEAD",
        url: window.location.href.split("?")[0] + "?" + Math.random(),
        async: false
    }).status;
        console.log("s: " +s);
    //thx http://www.louisremi.com/2011/04/22/navigator-online-alternative-serverreachable/

    return s >= 200 && s < 300 || s === 304; } 
```

如果你正在寻找这方面的 C# 代码，至少这个 javascript 方法会给你一个想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:29:18.070

> 除了使用 HttpWebRequest 命令之外，是否可以确定网站是在线还是离线？

不，没有别的办法。您需要向站点发送 HTTP 请求并检查返回的状态码。在 .NET 中，这通常通过[`WebClient`](http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx)类完成，但[`WebRequest`](http://msdn.microsoft.com/en-us/library/system.net.webrequest.aspx)如果您愿意，也可以使用。为了避免浪费带宽，您可以使用`HEAD`动词。这样，您就可以指示 Web 服务器不发送响应正文，而只是发送一个状态码，您可以检查它是否为 200。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:29:23.187

一个选项是加载图像，以及带有被触发事件的 javascript img

```
onabort     Loading of an image is interrupted 
onerror     An error occurs when loading an image
onload  An image is finished loading 
```

更多信息 [http://www.w3schools.com/jsref/dom_obj_image.asp](http://www.w3schools.com/jsref/dom_obj_image.asp)

# c++ - 如何为搜索应用程序找到正确的数据结构？

> ID：11685031
> 
> 赞同：0
> 
> 时间：2012-07-27T09:27:07.317
> 
> 标签：c++, image-processing, data-structures, stl, computer-vision

我的问题可以从两个不同的方面提出：一个是从数据结构的角度，另一个是从图像处理的角度。让我们从数据结构的角度开始：假设现在我有一个由几个小项目组成的组件，如下面的类所示：

```
class Component
{
public:
  struct Point
  { 
     float x_;
     float y_;
  };
  Point center;
  Point bottom;
  Point top;
} 
```

在上面的例子中，Component 类是由 center、bottom 和 top（小项）等成员变量组成的。

现在我有一堆组件（组件的数量在 1000 到 10000 个之间），并且堆栈中的每个组件都被分配了不同的值，这意味着堆栈中没有重复的组件。然后，如果组件中的一个小项，例如图示类中的 'center' 是已知的，我们就可以在堆栈中找到唯一的组件。之后，我们可以检索组件中的其他属性。那么我的问题是，如何构建一个正确的容器数据结构来使搜索更容易？现在我正在考虑在STL（伪代码）中使用向量和查找算法：

```
vector<Component> comArray;
comArray.push_back( component1);
.....
comArray.push_back(componentn);
find(comArray.begin(), comArray.end(), center); 
```

我想知道是否有更有效的容器来解决这个问题。

我也可以从图像处理的角度解释我的问题。在图像处理中，连接分量分析是物体识别的一个非常重要的步骤。现在对于我的应用程序，我可以获得图像中的所有连接组件，并且我还发现有趣的对象应该满足以下要求：它们的连接组件中心应该在特定范围内。因此，给定这个约束，我可以消除许多连接的组件，然后处理候选的组件。上述过程的关键步骤是在给定中心坐标约束的情况下如何搜索候选连通分量。任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:40:26.097

如果您需要能够相当快地获得它们，这里有一个对您来说有点奇怪的解决方案。

请注意，一般来说，这是一个*糟糕的解决方案，但它**可能*适合您。

你可以做一个普通的`vector< component >`。或者这甚至可以是一个简单的数组。然后制作三张地图：

```
map< Point, Component *>center
map< Point, Component *>bottom
map< Point, Component *>top 
```

用和作为键的所有可用值填充它们`center`，并提供指向相应组件的指针作为值（您也可以只使用向量中的索引，所以它会是）。`bottom``top``map< Point, int >`

之后，您只需使用`center[Key]`,`bottom[Key]`或`top[Key]`, 并获取您的值（如果您存储指针）或数组中的值的索引（如果您存储索引）。

我不会经常使用这种方法，但是如果值不会改变（因此您可以*一次*填充索引映射）并且数据量相当大（因此搜索未排序的向量很慢），它可能会起作用，*并且*您将需要经常搜索。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:37:17.710

您可能需要[空间索引数据结构](http://en.wikipedia.org/wiki/Spatial_database#Spatial_index)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:34:42.310

我认为您想使用[地图](http://www.cplusplus.com/reference/stl/map/)或[hash_map](http://msdn.microsoft.com/en-us/library/0d462wfh%28v=VS.80%29.aspx)根据“中心”值有效地查找组件。

```
std::map<Component::Point, Component> lookuptable;
lookuptable[component1.center] = component1;

....

auto iterator = lookuptable.find(someCenterValue)
if (iterator != lookuptable.end())
{
    componentN = iterator->second;
} 
```

至于在给定协调范围内查找集合中的元素。有几种方法可以做到这一点。一种简单的方法是只拥有两个排序的组件列表数组，一个在 X 轴上排序，另一个在 Y 轴上排序。然后要找到匹配的元素，您只需在任一轴上进行二进制搜索，以找到最接近目标的元素。然后向上和向下扩展扫描阵列，直到超出范围。您还可以查看使用[kd-tree](http://en.wikipedia.org/wiki/K-d_tree)并找到所有最近的邻居。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T09:54:00.447

If you want to access them in const time and don't want to modify it. I think std::set is good choice for you code.

```
set<Component> comArray;
comArray.push_back( component1);
.....
comArray.push_back(componentn);
set<Component>::iterator iter = comArray.find(center) 
```

of course, you should write operator== for class Component and nesting struct Point.

# logging - 在 Ubuntu12 中编译 log4cxx 失败。错误是四月

> ID：11685032
> 
> 赞同：1
> 
> 时间：2012-07-27T09:27:11.190
> 
> 标签：logging, ubuntu, log4cxx

按照此[链接](http://www.yolinux.com/TUTORIALS/Log4cxx.html)的说明 包括此 `apt-get install libapr1 libaprutil1`

运行`./configure --prefix=/usr` 时出现错误：

```
configure: error: APR could not be located. Please use the --with-apr option. 
```

请给点建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-12T15:37:36.023

我为 Ubuntu Server 12.0.4 创建了一个脚本：

```
#!/bin/bash

export APR_PATH=/usr/bin/apr-1-config
export JAVA_HOME=/opt/java
export TOMCAT_HOME=/opt/tomcat
export INSTALL_PREFIX=/usr

apt-get install libaprutil1-dev make

cd /tmp
rm -Rf tomcat-native-*
tar -zxf $TOMCAT_HOME/bin/tomcat-native.tar.gz
cd /tmp/tomcat-native-*/jni/native

./configure --with-apr=$APR_PATH --with-java-home=$JAVA_HOME --prefix=$INSTALL_PREFIX
make && make install 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-28T19:19:24.453

还需要运行以下命令：

```
apt-get install libapr1-dev libaprutil1-dev 
```

# ruby-on-rails - Sunspot Solr 搜索参数“with”不适用于字符串

> ID：11685034
> 
> 赞同：4
> 
> 时间：2012-07-27T09:27:14.687
> 
> 标签：ruby-on-rails, search, solr, sunspot, sunspot-rails

我正在开发一个使用 Sunspot Solr 作为索引器的 Ruby on Rails 应用程序。问题是我尝试将搜索参数与 : 一起使用，使用字符串，但它似乎不起作用。如果我通过一个 int 它工作正常。任何人都知道如何使用字符串（如果可能的话）？

我想要做的搜索的一个例子是：

```
@search = Sunspot.search(Record) do
     fulltext params[:query]
     with :checked, "Checked"
end 
```

:checked 是表 Record 的一个属性，它验证是否检查了一条记录，因此它不能被编辑。

PD：我这样做是因为 MySQL 不接受布尔值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:24:41.960

Figured it out!

It turns out strings are a little more delicate, so you have to use:

with(:checked).equal_to("any_value")

For more information see:

[https://github.com/sunspot/sunspot/wiki/Scoping-by-attribute-fields](https://github.com/sunspot/sunspot/wiki/Scoping-by-attribute-fields)

# jquery - 为什么这个 jquery 代码没有像我预期的那样工作？

> ID：11685035
> 
> 赞同：0
> 
> 时间：2012-07-27T09:27:15.950
> 
> 标签：jquery

这是HTML：

```
<input type="text" id="name" /><input type="button" id="insert" value="Insert" />
<div id="display_list"></div> 
```

这是jQuery代码：

```
$(document).ready(function() {
    function display() {
        $('#display_list').text('');
        $.each(names, function(index, value) {
            $('#display_list').append(index + 1 + '. ' + value + '<br/>');
        });
    }
    var names = ['cow', 'alex', 'ram'];
    display();
    $('#insert').click(function() {
        var name = $('#name').val();
        names.push(name);
        display();
    });
}); 
```

问题是它显示

1.  奶牛
2.  亚历克斯
3.  内存

起初，但是当我在输入中键入内容并单击插入框时，它没有显示任何值，而是增加了索引号，如下所示：

1.  奶牛
2.  亚历克斯
3.  内存

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:34:39.207

您可以使用`$.trim()`检查输入值是否为空：

```
 $('#insert').click(function(){
   var name= $.trim($('#name').val())
   if (name != "") {  
      names.push(name);
      display();
  } 
 }); 
```

[演示](http://jsfiddle.net/ntu79/)

# regex - grep 反斜杠在负向后看

> ID：11685038
> 
> 赞同：27
> 
> 时间：2012-07-27T09:27:22.687
> 
> 标签：regex, bash, grep

我想`XXX`在我的乳胶文档中找到不是以命令形式出现的`\XXX`. 因此，我正在寻找前面没有反斜杠的事件。

我尝试了以下方法：

```
grep -c -e '(?<!\)XXX' test.tex    #result: grep: Unmatched ) or \)
grep -c -e '(?<!\\)XXX' test.tex   #result: 0
grep -c -e "(?<!\\)XXX" test.tex   #result: -bash: !\\: event not found 
```

它们都没有按预期工作。事实上，我根本不理解最后一条错误消息。

我的 test.tex 仅包含以下几行

```
%test.tex

XXX

\XXX 
```

所以预期的结果是`1`。

有任何想法吗？

Ps.：我在 bash 中工作。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-07-27T09:37:41.300

标准正则表达式和扩展正则表达式都不支持后面的样子。使用 Perl 兼容的正则表达式：

```
grep -P '(?<!\\)xxx' test.tex 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T15:13:08.890

尝试使用

```
grep -P '(?<!\\)\bXXX\b' test.tex 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-17T02:43:23.503

我的 MacOS Catalina 上的`grep`版本甚至没有`-P`Perl 风格正则表达式的标志，

```
 $ grep --version
    grep (BSD grep) 2.5.1-FreeBSD 
```

所以我只是推出了我自己的`grep -l`命令版本，我需要获取与负前瞻正则表达式匹配的文件列表，下面是源代码，请随时适应您自己的需求，

```
 #!/usr/bin/perl

    use strict;
    use warnings;

    # Tries to mimic at least partially `grep -l` command, and provides support for look-arounds using Perl regex'
    # Usage: ls <some folder> | grepList.pl <reg-ex>
    # Algorithm:
    # Open each file in the list supplied
    #   Apply regex to each line, as soon as it matches output file name to STDOUT and continue to next file
    #   If EOF file reached, means file did not match, do not print file name, and move on to next file
    # Runtime complexity: O(m * n), where m is number of files and n is the maximum number of lines a file can have
    # Space complexity:   O(1), no intermediary memory storage needed

    my $reg_ex = qr/$ARGV[0]/;

    while(<STDIN>) {
        chop($_);
        my $file = $_;
        open(IN, $file) || die "Unable to open $file: $!";
        while(<IN>) {
            my $line = $_;
            if ($line =~ /$reg_ex/) {
                print "$file\n";
                last;
            }
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-22T06:38:30.910

如果你有 GNU grep，它应该支持带有 --perl-regexp 或 -P 命令行选项的 Perl 兼容的正则表达式。经典的 perl 正则表达式只支持否定字符类，例如，[^a] 表示除 "a" 之外的任何字符。

您提供的示例看起来像 Perl 兼容的正则表达式，而不是经典的，您必须使用带有 --perl-regexp 或 -P 命令行选项的 GNU grep，或者您可以安装启用 PCRE 的 grep，例如“pcregrep” - PCRE不需要任何命令行选项，因此更方便。

此外，您的模式看起来不像否定断言。它应该是

```
(?!pattern) 
```

不是

```
(?<!pattern) 
```

在此处查找更多信息：[https ://perldoc.perl.org/perlre.html](https://perldoc.perl.org/perlre.html)

如果您喜欢与 perl 兼容的正则表达式并且有 perl 但没有 pcregrep 或者您的 grep 不支持 --perl-regexp，您可以使用与 grep 相同的方式工作的单行 perl 脚本。Perl 像 grep 一样接受标准输入，例如

```
ipset list | perl -e "while (<>) {if (/packets(?! 0 )/){print;};}" 
```

# css - 溢出-x 被溢出-y 覆盖

> ID：11685039
> 
> 赞同：2
> 
> 时间：2012-07-27T09:27:23.283
> 
> 标签：css, stylesheet

看起来`overflow-x`并`overflow-y`没有像我期望的那样表现。如果我设置`overflow-x`为可见和`overflow-y`自动，`overflow-x`则不会表现为可见，而是隐藏。

我错过了什么，还是这是正常的？

[这](http://cssdesk.com/z2LZD)是一个例子。

HTML：

```
</html
  <body>
    <div class='container'>
      <div class='content'>
        This is a content
      </div>
      <div class='content'>
        This is a content
      </div>
      <div class='content'>
        This is a content
      </div>
      <div class='content'>
        This is a content
      </div>
      <div class='content'>
        This is a content
      </div>
      <div class='content'>
        This is a content
      </div>
    </div>
  </body>
</html> 
```

CSS：

```
.container {
  background: rgba(0, 0, 0, 0.1);
  width: 200px;
  height: 100px;

  overflow-y: auto;
  overflow-x: visible;
}

.content {
  border: 1px solid rgba(255, 255, 255, 0.6);
  color: rgba(255, 255, 255, 0.6);
  position: relative;
  margin-left: -14px;
  padding-left: 14px;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T09:38:38.377

实际上`overflow-x`会像`auto`你的例子一样。

有一些`overflow-x`和的组合`overflow-y`不能组合，因为它们根本不起作用。您不能让内容在容器内在一个方向上可滚动，而在容器外在另一个方向上可见。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T09:33:55.377

已编辑：在 OP 提供更多详细信息后：

overflow CSS 属性指定是否剪切内容、渲染滚动条或显示块级元素的溢出内容。

使用具有不同于可见值的溢出属性（其默认值）将创建一个新的块格式化上下文。这在技术上是必要的，就好像浮动会与滚动元素相交，它会强制将可滚动元素的内容重新包装在侵入的浮动周围。重新包装会在每个滚动步骤之后发生，并且会导致滚动体验太慢。请注意，通过以编程方式将 scrollTop 设置为相关的 HTML 元素，即使溢出具有隐藏值，元素也可能需要滚动。

***溢出值*****：**

**可见：** 默认值。内容没有被剪裁，它可能会呈现在内容框之外。

**hidden** : 内容被剪裁，不提供滚动条。

**滚动：** 内容被剪切，桌面浏览器使用滚动条，无论是否剪切任何内容。这避免了滚动条在动态环境中出现和消失的任何问题。打印机可能会打印溢出的内容。

**auto：** 取决于用户代理。如果内容溢出，像 Firefox 这样的桌面浏览器会提供滚动条。

[**见参考**](https://developer.mozilla.org/en/CSS/overflow)

**添加了更多详细信息：**

来自：[http ://www.brunildo.org/test/Overflowxy2.html](http://www.brunildo.org/test/Overflowxy2.html)

> 在 Gecko、Safari、Opera 中，当与“隐藏”组合时，“可见”也变为“自动”（换句话说：当与“可见”不同的任何其他内容组合时，“可见”变为“自动”）。Gecko 1.8、Safari 3、Opera 9.5 非常一致。

[W3C 规范](http://www.w3.org/TR/css3-box/#overflow-x)也说：

> 'overflow-x' 和 'overflow-y' 的计算值与它们的指定值相同，除了某些与 'visible' 的组合是不可能的：如果一个被指定为 'visible' 而另一个是 'scroll'或“自动”，然后“可见”设置为“自动”。如果 'overflow-y' 相同，'overflow' 的计算值等于 'overflow-x' 的计算值；否则它是'overflow-x'和'overflow-y'的一对计算值。

# jsf - 我有以下表单用于刷新当前页面上的一些数据： <h:form id="refresh" rendered="#{sessionManager.loggedIn}"><p:commandbutton 0="" 507="" value="#{msg.refresh}" actionlistener="问问题" 问问题="" 2012-07-27t09:27:25.323="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" 我有以下表单用于刷新当前页面上的一些数据：="" <h:form="" id="refresh" rendered="#{sessionManager.loggedIn}"><p:commandbutton value="#{msg.refresh}" actionlistener="#{findManager.refresh}" id="ui-refresh" icon="refresh" iconpos="left" inline="true" process="@this" update=":name,:refresh,:generalPropertiesEdit,:userAttributesEdit,:cableElements,:connectionDetails,:children"></p:commandbutton></p:commandbutton></h:form>刷新功能如下所示： public void refresh(){ FindResult node = ((FindResult)getSelectedNode().getData()); Entity entity = ServerCache.instance(SessionManager.instance().getProject()).get( node.getId(), node.getEntity().getClass()); node.setEntity(entity); node.generateProperties(); } 这似乎工作得很好，但是当我在 ipad 上测试它时它停止工作。如果我使用 ajax="false" 那么它可以工作。我正在使用 primefaces-mobile-0.9.2 和 primefaces-3.2。 谢谢！ 上面提到的选择很少，每个都有其优点和缺点。这就是为什么我认为上述问题没有真正的“正确”答案。我的目的是从社区和过去做过此类事情并有经验的人那里获得意见。我个人选择将Instrument API与 Javassist 一起使用。通过这种方式，类在运行时得到扩展（尽管相同的工具可用于编译后处理）。好处是可以从 JVM 内部加载代理，从而避免处理所有命令行。很高兴听到其他选择。 谢谢， 阿夫纳 jsfprimefaces 4 1 回答 1 This answer is useful 0 我设法通过升级到 primefaces-mobile-0.9.3 和 primefaces-3.3 使其工作。 于 2012-07-30T11:45:58.987 回答 Related 1 python - 填充特定颜色的矩形内的水印 1 android - 如何使文本视图可点击 1 objective-c - 如何绘制具有多个纹理的网格 1 c++ - C ++ 11多线程：执行后线程的状态 1 jquery - 如何在angularJS中的“表”中获取所有“tr”？ 2 javascript - 获取  src php 以 html 显示 0 php - CDbConnection 未能打开数据库连接 2 mysql - Mysql中oracle的Parallel选项等价 1 jquery - jQuery 函数中的 iPhone/iPad 条件 1 ios - 谷歌驱动文件：设置本地修改日期 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：11685040
> 
> 赞同：0
> 
> 时间：
> 
> 标签：jsf, primefaces

我有以下表单用于刷新当前页面上的一些数据：

```
 <h:form id="refresh" rendered="#{sessionManager.loggedIn}">

      <p:commandButton  value="#{msg.refresh}" actionListener="#{findManager.refresh}" id="ui-refresh" icon="refresh"  
                        iconPos="left" inline="true" process="@this" 
                        update=":name,:refresh,:generalPropertiesEdit,:userAttributesEdit,:cableElements,:connectionDetails,:children" />

    </h:form> 
```

刷新功能如下所示：

```
public void refresh(){
  FindResult  node = ((FindResult)getSelectedNode().getData());
  Entity entity = ServerCache.instance(SessionManager.instance().getProject()).get( node.getId(), node.getEntity().getClass());
  node.setEntity(entity);
  node.generateProperties();

} 
```

这似乎工作得很好，但是当我在 ipad 上测试它时它停止工作。如果我使用 ajax="false" 那么它可以工作。我正在使用 primefaces-mobile-0.9.2 和 primefaces-3.2。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:45:58.987

我设法通过升级到 primefaces-mobile-0.9.3 和 primefaces-3.3 使其工作。

# iphone - Apple Mach-O 链接器错误 (2)

> ID：11685041
> 
> 赞同：2
> 
> 时间：2012-07-27T09:27:29.363
> 
> 标签：iphone, objective-c, ios, xcode4, mach-o

我收到关于[CloudApp API](https://github.com/cloudapp/objective-c)的 2 个 Mach-O Linker Errors 。我一直在 StackOverflow、Apple 的开发者论坛和其他地方寻找大量答案，这些答案至少会很接近问题，但它们并不是很有帮助。在过去的几天里，这一直困扰着我，我似乎无法解决它。

以下是两个错误：

```
Undefined symbols for architecture armv7:
  "_OBJC_CLASS_$_CLAPIEngine", referenced from:
      objc-class-ref in AppDelegate.o
ld: symbol(s) not found for architecture armv7
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

任何帮助，将不胜感激。如果你有问题，就问吧。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:30:18.867

作为构建过程的一部分，您没有在框架中进行链接

先搭建云库。然后确保该`libCloud.a`库链接到您的应用程序

# forms - 此时元素输入上不允许属性值（在表单上）

> ID：11685050
> 
> 赞同：2
> 
> 时间：2012-07-27T09:28:30.473
> 
> 标签：forms

W3C 告诉我“此时元素输入不允许使用属性值”。我认为这对表格来说是必要的？

```
<input type="image" value="submit" class="no-border" src="assets/images/submit_btn.png" alt="submit" name="submit" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T15:36:23.167

[http://lists.w3.org/Archives/Public/www-validator/2010May/0025.html](http://lists.w3.org/Archives/Public/www-validator/2010May/0025.html)

> 浏览器在发送服务器端图像映射的值方面不一致。有些浏览器发送它，有些只发送 x/y 坐标。依赖它被发送是一个非常糟糕的主意。
> 
> [...]
> 
> 从 HTML 5 规范草案中：

```
The element's value attribute must be omitted.

— http://www.w3.org/TR/html5/states-of-the-type-attribute.html#image-button-state-type-image 
```

> 所以这不是一个错误。我假设该属性是被禁止的，因为当前常见的浏览器无法实现它，因此虽然它可以向后兼容 HTML 4，但实际上它与浏览器不兼容。

# c# - 用户名重复验证

> ID：11685053
> 
> 赞同：0
> 
> 时间：2012-07-27T09:28:37.487
> 
> 标签：c#, sql

我正在为论文制作一个简单的登录页面，并且我已经完成了字符长度和密码不匹配验证..我的问题是如何测试**给定的用户名是否已经存在于我的数据库中**......我我用 C# 编码并为我的数据库使用 SQL 管理工作室 R2....

```
private void add_Click(object sender, EventArgs e)
{
  string UserName = textBox1.Text;
  string Password = maskedTextBox1.Text;

  if (Password.Length <= MiN_LENGHT && UserName.Length <= MiN_LENGHT)
  {
    errorProvider1.SetError(textBox1, "User name must be at least 8 character");
    errorProvider2.SetError(maskedTextBox1, @"Password must be at least 8 character");

    maskedTextBox1.Clear();
    maskedTextBox2.Clear();
  }
  else if (maskedTextBox1.Text != maskedTextBox2.Text)
  {
    errorProvider1.SetError(maskedTextBox2, "Passwords don't match");

    maskedTextBox1.Clear();
    maskedTextBox2.Clear();
  }
  else if (textBox1.Text == "" || maskedTextBox1.Text == "" || 
           maskedTextBox2.Text == "")
  {
    MessageBox.Show("Please fill up the required records", "Information", 
                     MessageBoxButtons.OK, MessageBoxIcon.Warning);
  }
  else
  {
    x.da.InsertCommand = new SqlCommand(@"Insert into PlayerList 
                                         VALUES(@uname,@pw,@repw)", x.cs);
    x.da.InsertCommand.Parameters.Add("@uname", SqlDbType.NVarChar).Value =
                                         textBox1.Text;
    x.da.InsertCommand.Parameters.Add("@pw", SqlDbType.NVarChar).Value =  
                                         maskedTextBox1.Text;
    x.da.InsertCommand.Parameters.Add("@repw", SqlDbType.NVarChar).Value = 
                                         maskedTextBox2.Text;
    x.cs.Open();
    x.da.InsertCommand.ExecuteNonQuery();
    MessageBox.Show("Record Added", "Information", MessageBoxButtons.OK, 
                                         MessageBoxIcon.Information);
    button3.Enabled = true;
    x.da.SelectCommand = new SqlCommand( @"Select PlayerCode, uname from 
                                         PlayerList", x.cs);
    x.ds.Clear();
    x.da.Fill(x.ds);
    dataGridView1.DataSource = x.ds.Tables[0];
    x.cs.Close();
  }
} 
```

希望你能帮助....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:31:54.340

您可以在数据库中的用户名字段上添加 UNIQUE CONSTRAINT 或 INDEX 并捕获异常，或者您可以预先搜索它。我推荐第一种选择，因为它避免了竞争条件，但这也不应该阻止你进行搜索。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:34:05.167

在存储新用户之前，首先检查该用户名是否已存在于数据库中，如果该用户不存在，则保存该记录。

如果该用户名确实存在，则跳过保存它，并向用户显示他或她的用户名已被使用的友好消息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:49:19.060

您确定要在登录页面进行验证吗？我认为完成的验证是注册页面。

您可以通过两种方式进行此验证

1-->在用户输入用户名后进行ajax调用，如果用户名已经存在，则显示重复的消息。（同时用户将提供密码，因此将节省用户时间）。

2--> 在第二种方法中，您可以完全在服务器端进行验证。获取用户名并将其与现有用户名进行比较并相应地显示消息。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-27T09:40:13.620

在用户名文本框的 textchanged 事件上，您只需从数据库中查询

```
 select username from user_mst where username='"+textusernm.text+"'; 
```

如果存在则 jst 显示错误消息并禁用保存按钮，如果不存在则 jst 启用保存按钮并保存它

# excel - Excel 宏：从一系列授权用户名中查找和比较用户名

> ID：11685059
> 
> 赞同：2
> 
> 时间：2012-07-27T09:28:53.880
> 
> 标签：excel, vba, object, date-range

Excel宏：如何编写此“如果用户名[示例代码：Environ（“用户名”）]等于此范围内的值之一[示例：我从工作簿创建的范围：范围（“Authorized_Users”）]然后。 ..“ 谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:44:05.787

基本上你必须完全按照你写的去做。您的解决方案目前缺少两件事：

1.  一种检索用户名的方法。
2.  一种在范围内搜索的方法。

这两项任务都不应该那么难，因为 excel 已经提供了一些很棒的功能来做到这一点。

对于第二点，您必须创建一个搜索范围的函数。find in range 函数看起来像这样：

```
Function ExistsInRange(range As range, name As String) As Boolean
    ExistsInRange = False
    Dim resultRange As range
    If Trim(name) <> "" Then
        With range
            Set resultRange = .Find(What:=name, _
                            After:=.Cells(.Cells.Count), _
                            LookIn:=xlValues, _
                            LookAt:=xlWhole, _
                            SearchOrder:=xlByRows, _
                            SearchDirection:=xlNext, _
                            MatchCase:=False)
            If Not resultRange Is Nothing Then
                ExistsInRange = True
            End If
        End With
    End If
End Function 
```

如果要在 B 列中的所有行中搜索用户名“jeff”，调用将如下所示：

```
If ExistsInRange( sheet.Range("B:B"), "jeff") Then 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:21:27.673

您的规范非常接近所需的代码...

```
If Not IsError(Application.Match(Environ("Username"), [Authorized_Users], 0)) Then 
```

# javascript - 如何将值从 javascript 传递到 html？

> ID：11685060
> 
> 赞同：0
> 
> 时间：2012-07-27T09:28:56.490
> 
> 标签：javascript, jquery, html

我有从另一个 php 文件获取 JSON 的 javascript 函数，但我无法将值传递给 html 文件。我该怎么做 ？？

请看这里

```
<body>
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript">
    $.getJSON("getquestion.php",function(result)
    {
        document.getElementById("question").innerHTML = result.test_question;   
        testform.textquestion.value = result.test_question;

    });
    </script>
<form name="testform"> 
<div id="question"></div>
<input id="aaa" type="text" name="textquestion"></input>

</body> 
```

div:question 可以显示来自 result.test_question 的数据，但 input:aaa 不能。

你能教我如何将价值传递给 or 吗？并且我可以分配函数的名称 .getJSON 以及如何分配？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T09:31:09.940

正确使用 jQuery，因为无论如何您已经在使用 jQuery。

```
$("#question").html(result.test_question);
$('#aaa').val(result.test_question); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T09:30:35.683

改变

```
testform.textquestion.value = result.test_question; 
```

到

```
document.getElementById('aaa').value = result.test_question; 
```

或者

```
document.testform.textquestion.value = result.test_question; 
```

[在此处使用 JavaScript 访问表单的文档](http://www.quirksmode.org/js/forms.html#access)

或者你已经链接了 jQuery .. 你可以替换

```
document.getElementById("question").innerHTML = result.test_question;   
testform.textquestion.value = result.test_question; 
```

和

```
$("#question").html(result.test_question);   
$('#aaa').val(result.test_question); 
```

[`.html()`这里](http://api.jquery.com/html/)和[这里](http://api.jquery.com/val/)[的文档](http://api.jquery.com/html/)[`.val()`](http://api.jquery.com/val/)

# java - Vector的“未经检查的转换”

> ID：11685061
> 
> 赞同：0
> 
> 时间：2012-07-27T09:28:57.893
> 
> 标签：java, vector

我从此代码行收到编译器警告（未经检查的转换）：

```
Vector<String> input = rgw.exec("input/get"); 
```

方法“rgw”是一个外部类，我必须使用它。有没有机会避免这个警告？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T09:31:46.307

是的。如果该方法返回原始类型`Vector`，则需要手动禁止警告。

```
@SuppressWarnings("unchecked")
Vector<String> input = rwc.exec("input/get"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:31:03.093

这听起来像是一个不使用泛型的旧 Java 类。

这样写，看看是否有帮助：

```
Vector input - rgw.exec("input/get"); 
```

使用 JDK 1.0 复古的事实`Vector`，当更现代`ArrayList`的首选时，会告诉你很多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:31:09.223

尝试使用显式强制转换：

```
Vector<String> input = (Vector<String>) rgw.exec("input/get"); 
```

# python - 多线程时酸洗错误 - 设计或代码问题？

> ID：11685073
> 
> 赞同：1
> 
> 时间：2012-07-27T09:30:00.993
> 
> 标签：python, multiprocessing

我正在 pygtk 中编写一个工具，它需要处理递归解析大目录，并将生成的匹配文件添加到列表中。这个过程显然会导致用户界面挂起，因此我尝试使用多处理库。

在我要求一些解决方案之前，请先了解一些背景知识： - 该程序有两个主要类，一个控制器类，它完成所有密集工作并与 UI 对话，一个模型类，用于处理工具所需的所有数据。

```
import sys
import os
import pygtk  
import fnmatch
from multiprocessing import Pool
pygtk.require("2.0")  

#try:  
from gi.repository import Gtk
from gi.repository import GObject
#except:  
#   print("GTK Not Availible")
#   sys.exit(1)

class Controller(object):
    def __init__(self,builder,model):
        self.builder=builder
        self.model=model
    def btn_pass_clicked(self, *args,**kwargs):
        print "it's working!, its woooooorkkinnnnggg!"
        spinnywheel= self.builder.get_object("activitySpinner")
        spinnywheel.start()
    def btn_fail_clicked(self, *args, **kwargs):
        print "stopping spinnywheel!"
        spinnywheel=self.builder.get_object("activitySpinner")
        spinnywheel.stop()
    def quit(self,*args,**kwargs):
        print "iamquit"
        Gtk.main_quit()
    def file_menu_open(self,*args,**kwargs):
        print "file->open"
        self.builder.get_object("openDialogue").show()
    def opendialogue_btnOpen_clicked(self,*args,**kwargs):
        rootdir = os.path.expanduser(self.builder.get_object("openDialogue_entryBox").get_text())
        self.builder.get_object("openDialogue").hide()
        self.builder.get_object("openDialogue_entryBox").set_text("")
        if os.path.exists(rootdir):
            self.builder.get_object("activitySpinner").start()
            print "pooling workers and walking ",rootdir
            p = Pool(None)
            p.apply_async(self.walk_for_files,rootdir,None,self.finished_recurse)
        else:
            print "Path does not exist!"

    def walk_for_files(self,rootdir):
            for root,dirs,files in os.walk(rootdir):
                    for extension in ['c','cpp']:
                        for filename in fnmatch.filter(files,'*.'+extension):
                            self.model.add_single_file(os.path.join(root,filename))

    def finished_recurse(self,*args,**kargs):
        print "workers finished parsing dirs!"
        self.builder.get_object("activitySpinner").stop()

class Model(object):
    def __init__(self):
        self.fileList=[]

    def add_single_file(self,file):
        self.fileList.append(file)
        print "added ",file

class Scrutiny(object):
    def __init__(self):
        builder = Gtk.Builder()
        builder.add_from_file("scrutinydev.ui")
        model_object=Model()
        controller_object=Controller(builder,model_object)
        builder.connect_signals(controller_object)
        builder.get_object("windowMain").show()
        builder.get_object("listView")
        GObject.threads_init()
        Gtk.main()

if __name__ == "__main__":
    scrutiny = Scrutiny() 
```

现在，这是我的问题。

如您所见，使用 pool() 生成的工作人员需要执行回调 finish_recurse 以便我可以在其他 UI 工作中停止 GtkSpinner。

在当前状态下的代码，我得到一个酸洗错误，

```
PicklingError: Can't pickle <type 'instancemethod'>: attribute lookup __builtin__.instancemethod failed 
```

我知道这是因为我无法序列化回调，并且想要解决方法/修复的建议以实现我的需要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:05:23.913

我不太了解GTK，但我认为你的问题更多是关于酸洗而不是多处理。

[pickle 模块](http://docs.python.org/library/pickle.html#object.__getstate__)的 __getstate__ 和 __setstate__ 方法允许您自定义任何对象的酸洗过程。

这是一个简单的例子，展示了它是如何工作的：

```
from pickle import dumps, loads

class NotPickable(object):
    def __init__(self, x):
        self.attr = x

ffile = open('/tmp/filesarenotpickable', 'r+w')    
o = NotPickable(ffile)
dumps(o)
# =>  TypeError: can't pickle file objects

class Pickable(NotPickable):
    attr = open('/tmp/a_file_on_an_other_system', 'r+w')

    def __getstate__(self):
        return self.attr.read()

    def __setstate__(self, state):
        self.attr.write(state)

o = Pickable(ffile)                                            
dumps(o)
# OUT: 'ccopy_reg\n_reconstructor\np0\n(c__main__\nPickable\np1\nc__builtin__\nobject\np2\nNtp3\nRp4\n.'                        

o2 = loads(dumps(o))                                           
o2.attr
# OUT: <open file '/tmp/a_file_on_an_other_system', mode 'r+w' at 0x18ad4b0> 
```

当然，表示和正确恢复对象的状态仍然是开发人员的责任。

# php - 在 php 中选择和操作单个 CSV 列

> ID：11685080
> 
> 赞同：1
> 
> 时间：2012-07-27T09:30:18.547
> 
> 标签：php, codeigniter, csv

我正在尝试使用类似这样的功能.....

```
$file = fopen("/tmp/$importedFile.csv","r");
    while ($line =  fgetcsv($file))
        {
        $csv_data[] = $line;
        }
    fclose($file); 
```

...加载 CSV 值。这是肉汁，但现在我希望通过它们的数组编号选择各个列。我相信我想用这样的东西来选择它，但找不到任何清晰度。

```
$csv_data[2] = $line; 
```

然而，这仅显示第二（第三）行数据而不是列。问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:39:25.230

```
$inputfiledelimiter = ",";    
if (($handle = fopen($PathOfCsvFile, "r")) !== FALSE) 
    {       
        while (($data = fgetcsv($handle, 0, $inputfiledelimiter)) !== FALSE) 
        {
            //get data from $data
        }   
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:40:56.337

好吧，您的 CSV 文件现在被分成几行，仅此而已。

该结构中还没有列的概念。因此，您需要将行拆分为列。

或者，更好的是，让 PHP 为您执行此操作：查看 fgetcsv() 和相关函数：

[http://nl.php.net/manual/en/function.fgetcsv.php](http://nl.php.net/manual/en/function.fgetcsv.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:46:20.640

您需要内存中的整个文件还是要单独处理这些行？

单独处理：

`$line`已经是一个数组。如果你想要第三列，使用`$line[2]`

读取整个文件后的处理：

`$csv_data[$lineNo][$columnNo]`

# php - html和php双引号地址有帮助吗？将两个字符串合二为一

> ID：11685088
> 
> 赞同：-4
> 
> 时间：2012-07-27T09:31:07.547
> 
> 标签：php, html

```
$var = index.html; 
```

html代码： `"http:www.mysite.com/" <?php $var?>`

如何制作包含 php 代码 $var 的 html 语句，并将其作为字符串，如以下“http:www.mysite.com/index.html”并阅读完整地址？？？

请问各位大神能快点回复我吗？

*抱歉在这里发了一个不好的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:32:45.300

```
http://www.mysite.com/<?php echo($var); ?> 
```

应该这样做......如果我理解你

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T09:44:11.543

你是怎么通过那个网址的？通过表单或锚标记中的操作属性？

如果您在操作标记中使用它，请指定文件夹的路径，然后指定文件名。

在锚标记中，您需要指定完整的 url。

您可以使用

```
<?php $var = "index.html";?>
<a href="<?php echo "http://www.example.com/".$var;?>">Link</a> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:32:48.693

你在找这个吗？

```
<?php echo "http://www.mysite.com/".$var ?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T09:33:52.803

```
<?php $var = "index.html"; ?>
"http:www.mysite.com/" <?php echo $var; ?> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T09:34:56.750

点是字符串的串联。

```
$var = "http:www.mysite.com/" . "index.html"; 
```

* * *

```
$var = "http:www.mysite.com/";
$var2 = "index.html";
$var = $var . $var2; 
```

# linux - 如何使用 cut 命令从一行中获取一些特定的单词

> ID：11685094
> 
> 赞同：0
> 
> 时间：2012-07-27T09:31:30.043
> 
> 标签：linux, shell

我有一个包含以下文本的文件

我只想`**1343311371204**,*****210*****,http://172.16.1.139/CC_WEB/jsp/Login.jsp,**200**,OK,true,9,9 1343311371044,304,http://172.16.1.139/CC_WEB/jsp/Login.jsp,200,OK,true,8,8 1343311371109,239,http://172.16.1.139/CC_WEB/jsp/Login.jsp,200,OK,true,8,8 1343311371083,263,http://172.16.1.139/CC_WEB/jsp/Login.jsp,200,OK,true,8,8`在每一行中获得第一个、第二个和第四个值。那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:45:27.690

# 使用剪切

`cut -d, -f1,2,4 your_file`应该做得很好。

# 使用读取（bash 内置函数）

在 while 循环中使用 read，您可以使用变量来处理这些值：

```
while IFS=',' read timestamp value2 url code remains ; do
    # use those variables
done < your_file` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:50:06.657

```
awk -F, '{print $1,$2,$4}' your_file 
```

# elasticsearch - 使用 ElasticSearch 获取索引项计数

> ID：11685096
> 
> 赞同：5
> 
> 时间：2012-07-27T09:31:47.553
> 
> 标签：elasticsearch

我正在编写一些代码，我们将 200,000 个项目插入到 ElasticSearch 索引中。

虽然这很好用，但当我们对索引中的项目进行计数以确定所有内容时，我们得到的数字并不相同。但是，如果我们等待一两秒钟，计数是正确的。

因此，是否有一种程序化的方式可以让我们从 ElasticSearch 中获得真正的计数而无需`sleep`或类似的方式？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T14:13:40.307

[只有在Refresh](http://www.elasticsearch.org/guide/reference/api/admin-indices-refresh.html)操作之后，新索引的记录才会在搜索结果中可见。以设置指定的频率自动调用刷新[`index.refresh_interval`](http://www.elasticsearch.org/guide/reference/api/admin-indices-update-settings.html)，默认为 1s。在编写 elasticsearch 测试时，习惯上在索引后调用 refresh 以确保所有索引记录在搜索中可用。但是，生产代码中过多的刷新调用（例如，在每条记录之后）可能会影响弹性搜索索引性能。

# java - 用另一个同名存档替换一个存档的内容？

> ID：11685098
> 
> 赞同：0
> 
> 时间：2012-07-27T09:31:50.940
> 
> 标签：java, io, zip

我面临的情况是，我有两个同名但位于不同目录中的档案（当然）。使用新的[Zip File System Provider](http://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html)，我创建了一个环境，我可以在其中对每个 zip 文件使用文件操作。然而，问题在于我无法`Path`为任何一个文件创建一个 - 因为`filesystem.getPath(pathtoFile)`为两个档案返回相同的值。

本质上，我正在寻找的是一种`root\archive.zip\folder\file.txt`有效的方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T15:35:42.130

我不确定您面临的问题出在哪里，但我刚刚发布了一个新版本的 SoftSmithy 实用程序库，它带有一些用于 NIO 文件的实用程序类。它特别简化了跨文件系统复制文件的过程。

该库是开源的，它可能有助于您入门。

这是教程： [http ://softsmithy.sourceforge.net/lib/0.2/docs/tutorial/nio-file/index.html](http://softsmithy.sourceforge.net/lib/0.2/docs/tutorial/nio-file/index.html)

您可以从这里下载该库：http: [//sourceforge.net/projects/softsmithy/files/softsmithy/v0.2/](http://sourceforge.net/projects/softsmithy/files/softsmithy/v0.2/)

或者使用 Maven：

```
<dependency>  
    <groupId>org.softsmithy.lib</groupId>  
    <artifactId>softsmithy-lib-core</artifactId>  
    <version>0.2</version>   
</dependency> 
```

注意：JAR/ZIP 文件中资源的 URI 具有以下形式：

```
jar:<jarURIPart>!/<resource entry> 
```

# jsp - FancyBox 模式中的表单部分

> ID：11685102
> 
> 赞同：0
> 
> 时间：2012-07-27T09:31:59.340
> 
> 标签：jsp, fancybox, jqtransform

我试图将表单的不同部分隐藏在fancybox modals 中，这样我就不必显示表单的可选部分。这实际上在它呈现 UI 的方式上工作得很好，并且令人惊讶地提交表单工作没有问题。当我尝试在其中一个模式中更改复选框或单选按钮值时，问题就出现了。该值不会改变，它会导致模式重新打开。有没有人有任何建议，因为我什至不知道从哪里开始。

我发现以下网站描述了相同的设置：[http ://duckranger.com/2012/01/fancybox-problems-make-sure-you-validate/](http://duckranger.com/2012/01/fancybox-problems-make-sure-you-validate/)

按照那里的建议，我已经验证了我的代码并且一切都通过了，但问题仍然存在。

我也在使用 jqTransform 插件来设置表单的样式，但是我已经关闭了它并且仍然遇到同样的问题，所以我认为它与此无关。我之前曾多次使用fancybox 在单个模态中创建表单，但从未跨越多个模态。我在下面包含了我的 jsp 标记和 javascript。

提前致谢！

```
<div id="searchPage">

<form:form action="Search" method="post" modelAttribute="search">

<div id="search-text">      
    <form:label path="searchString">Search</form:label>
    <form:errors path="searchString" cssClass="error"/>
    <form:input path="searchString" />
    <input type="submit" name="search" value="Search"></input>          
</div>

<div id="filter-controls">
    <a class="filters" href="#museum-filters">Museums</a>
    <a class="filters" href="#period-filters">Periods</a>
    <a class="filters" href="#extras-filters">Extras</a>
</div>

<div id="search-results">
    No Results
</div>

<div class="clear"></div>

<div id="museum-filters" class="filters" style="display:none;">
    <c:forEach items="${search.museums}" var="museum" varStatus="museumIndex">
        <label for="${fn:replace(museum, ' ', '-')}">${museum}</label>
        <form:checkbox path="periods[${museumIndex.count - 1}]" id="${fn:replace(museum, ' ', '-')}" checked="checked" value="${museum}"/>
    </c:forEach>
</div>
<div id="period-filters" class="filters" style="display:none;">
    <c:forEach items="${search.periods}" var="period" varStatus="periodIndex">
        <label for="${fn:replace(period.name, ' ', '-')}">${period.displayName}</label>
        <form:checkbox path="periods[${periodIndex.count - 1}]" id="${fn:replace(period.name, ' ', '-')}" checked="checked" value="${period.name}"/>

        <div id="exp${period.name}">
            <%-- <c:forEach items="${period.subPeriods}" var="subPeriod" varStatus="periodSubIndex">

                <label for="${subPeriod.name}">${subPeriod.displayName}</label>
                <form:checkbox path="periods[${periodSubIndex.count - 1}].subPeriods" cssClass="${period.name}" id="${subPeriod.name}" name="${subPeriod.name}" checked="true" value="${period.name}"/>

            </c:forEach> --%>
        </div>

    </c:forEach>
</div>
<div id="extras-filters" class="filters" style="display:none;">
    <label for="searchDescription">Search Description</label>
    <form:checkbox path="searchDescription" id="searchDescription" checked="checked"></form:checkbox>
    <label for="hasImage">Has An Image</label>
    <form:checkbox path="hasImage" id="hasImage" checked="checked"></form:checkbox>
    <div class="clear"></div>
    <label for="hasPaper">Has Paper Data</label>
    <form:checkbox path="hasPaper" id="hasPaper" checked="checked"></form:checkbox>
    <label for="hasExtended">Has Extended Info</label>
    <form:checkbox path="hasExtended" id="hasExtended" checked="checked"></form:checkbox>
    <div class="clear"></div>
</div>

<div class="clear"></div>

</form:form>    

</div>

<script type="text/javascript">

$(document).ready( function()
{
    $('.filters').fancybox({
    width       : 800,
    height      : 500,
    fitToView   : false,
    autoSize    : false,
    closeClick  : false,
    openEffect  : 'elastic',
    closeEffect : 'fade',
    padding     : '20'
    });
});

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T22:21:02.700

您的 fancybox 自定义脚本是

```
$('.filters').fancybox() 
```

...所以我猜你的隐藏`divs`不应该有`class="filters"`类似的东西

```
<div id="museum-filters" class="filters" style="display:none;"> 
```

因为这也将它们绑定到fancybox（目标也成为触发器），所以当你点击它们内部（复选框）时，它会再次触发fancybox。

# qt - 如何自定义qtablewidget的header

> ID：11685119
> 
> 赞同：1
> 
> 时间：2012-07-27T09:32:57.507
> 
> 标签：qt

默认情况下，qtablewidget 的标题与 tabwidget 有一些列号，所以，如果 tablewidget 有 2 列，标题也有 2 列，

现在我想自己实现标题，我想创建一个只有一列的标题，并在上​​面添加一些按钮，我该如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T14:12:09.303

这个怎么样：

将 qtablewidget 和按钮放在 qvboxlayout 中。将布局的项目间距设置为 0。隐藏 qtablewidget 的水平标题，你应该得到这个：

![在此处输入图像描述](../Images/8d317e755e07833425f1639e26e4b959.png)

如果您在代码中执行此操作，请使用以下命令：

```
QVBoxLayout *verticalLayout = new QVBoxLayout;
verticalLayout->setSpacing(0);

QPushButton *pushButton = new QPushButton("Table header");
verticalLayout->addWidget(pushButton);

QTableWidget *tableWidget = new QTableWidget;
tableWidget->horizontalHeader()->setVisible(false);
verticalLayout->addWidget(tableWidget); 
```

# ado.net - 使用 SqlDataAdapter 时连接未关闭

> ID：11685123
> 
> 赞同：1
> 
> 时间：2012-07-27T09:33:19.537
> 
> 标签：ado.net

使用 SqlDataAdapter 执行命令后，与数据库的连接没有关闭。让我知道需要做什么。这是代码片段

```
 DataSet dsResult = new DataSet("Result");
            SqlCommand selectCommand = new SqlCommand();
            if (_datasource.DataType == DataType.SqlText)
            {
                selectCommand = GenerateCommand(_datasource.DataType,_sqlquery);
            }
            else
            {
                selectCommand = GenerateCommand(_datasource.DataType, _datasource.DataObjectName, _fieldNames, _filters);
            }

            SqlDataAdapter da = new SqlDataAdapter(selectCommand.CommandText, _datasource.ConnectionString);
            da.Fill(dsResult);

            dataset = dsResult; 
```

尝试明确关闭连接，如 da.SelectCommand.Connection.Close()。但问题没有得到解决。还尝试了以下仍然没有解决的问题

```
using(SqlDataAdapter da = new SqlDataAdapter(selectCommand.CommandText, _datasource.ConnectionString))
{
                da.Fill(dsResult);
} 
```

让我知道可以做些什么来释放会话。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:38:22.167

> Fill 方法使用关联的 SelectCommand 属性指定的 SELECT 语句从数据源中检索行。与 SELECT 语句关联的连接对象必须有效，但不需要打开。如果在调用 Fill 之前关闭连接，**则打开它**以检索数据，**然后关闭**。如果在调用 Fill 之前连接已打开，则它保持打开状态。

[http://msdn.microsoft.com/en-us/library/377a8x4t.aspx](http://msdn.microsoft.com/en-us/library/377a8x4t.aspx)

我强调了你的情况。您尚未打开连接，因此 DataAdapter 会自动为您打开它并在完成后关闭它。

**编辑**：如果你想自己管理连接，你应该在完成后立即关闭它。

因此，您可以使用`using-statement`which 处理/关闭它（即使出现异常）。

```
using(var con = new SqlConnection(_datasource.ConnectionString))
{
    using(var da = new SqlDataAdapter(selectCommand.CommandText, con))
    {
        con.Open(); // not needed but ...
        da.Fill(dsResult); // will not close the conection now
    }
} // will close the connection 
```

**Edit2**：关闭连接并不意味着它在物理上是关闭的。这只是对 Connection-Pool 的提示，它可以再次使用。

[ExecuteReader 需要一个打开且可用的连接。连接的当前状态是 Connecting](https://stackoverflow.com/questions/9705637/executereader-requires-an-open-and-available-connection-the-connections-curren/9707060#9707060)

# fullcalendar - 如何在 Fullcalendar 中禁用当前月份之外的日期？

> ID：11685127
> 
> 赞同：0
> 
> 时间：2012-07-27T09:33:35.400
> 
> 标签：fullcalendar

在 Fullcalendar 中，我想禁用当前月份之外的日期。例如，也许这些天是上个月的天或下个月的天。我想禁用它们，谁能告诉我如何使其禁用？

以及如何禁用一天的时间范围，例如禁用`6:00AM-8:00AM`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T03:18:57.660

要禁用当月以外的日子，在那些日子有一个 CSS 类“fc-other-month”，您可以使用一些 CSS 或 JQuery/javascript 来禁用事件 dayClick 和 eventClick。要使用时间范围，文档有一个 minTime：[http](http://arshaw.com/fullcalendar/docs/agenda/minTime/) ://arshaw.com/fullcalendar/docs/agenda/minTime/和 maxTime：[http](http://arshaw.com/fullcalendar/docs/agenda/maxTime/) ://arshaw.com/fullcalendar/docs/agenda/maxTime/工作与，但这些将适用于您日历中的每一天，而不是特定的一天。您始终可以在特定日期的该时间范围内自己添加一个事件，并将属性：editable 设置为 false。

# php - 表格没有继续到第二页.. DOMPDF

> ID：11685128
> 
> 赞同：0
> 
> 时间：2012-07-27T09:33:40.323
> 
> 标签：php, codeigniter, dompdf

我只是使用带 php 的 DOMPDF 的初学者...我在表格中遇到分页问题。表格没有继续到第二页..

我正在运行 Win7，PHP 版本 5.3.8，DOMPDF_0-6-0_beta3
我已经添加`page-break-after:always;`了表格样式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T05:31:07.370

通过删除表单方法并确保表不在另一个表中来解决它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:43:12.167

你可以试试`table-layout:fixed`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-18T18:38:31.743

我有同样的问题。我通过将表格从“标题”部分中取出来解决它，然后 DOMPDF 将其余部分整理出来。标题部分不像 HTML 视图的主体那样换行。

# bash - 如何在zsh中获取执行脚本的父文件夹？

> ID：11685135
> 
> 赞同：8
> 
> 时间：2012-07-27T09:34:09.723
> 
> 标签：bash, zsh

在 bash 中，我通过这一行获取执行脚本的父文件夹名称

```
SCRIPT_PARENT=`readlink -f ${BASH_SOURCE%/*}/..` 
```

有什么方法可以在 zsh 和 bash 中都可以实现这一点？

假设我有一个`/some/folder/rootfolder/subfolder/script`包含内容的文件：

```
echo `magic-i-am-looking-for` 
```

我希望它表现得这样：

```
$ cd /some/other/folder
$ . /some/folder/rootfolder/subfolder/script
/some/folder/rootfolder
$ . ../../folder/rootfolder/subfolder/script
/some/folder/rootfolder
$ cd /some/folder/rootfolder
$ . subfolder/script
/some/folder/rootfolder
$ cd subfolder
$ . script
/some/folder/rootfolder 
```

这应该在 bash 和 zsh 中工作。我的第一个实现了这种行为，但由于`$BASH_SOURCE`在 zsh 中不起作用。

所以基本上它的：

有没有办法`$BASH_SOURCE`在 zsh 中进行模拟，也可以在 bash 中使用？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-24T21:05:33.207

我现在意识到`$0`在 zsh 中的行为就像`$BASH_SOURCE`在 bash 中一样。因此，`$BASH_SOURCE`在可用时使用并回退`$0`解决我的问题：

```
${BASH_SOURCE:-$0} 
```

当从以下来源采购时，还剩下一点 zsh 边缘情况`$PATH`：

```
zsh> cat ../script
echo \$0: $0
echo \$BASH_SOURCE: $BASH_SOURCE
echo '${BASH_SOURCE:-$0}:' ${BASH_SOURCE:-$0}
zsh> . script
$0: script
$BASH_SOURCE:
${BASH_SOURCE:-$0}: script
bash> . script
$0: bash
$BASH_SOURCE: /home/me/script
${BASH_SOURCE:-$0}: /home/me/script 
```

我可以做一个`which script`，但这不会与其他案例一起玩得很好

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-06T11:42:06.783

虽然在 zsh 中很容易做到这一点，但使用能够在 zsh 中评估的纯 bash 也同样容易。如果您不能使用任何可能在您的路径上或不在您的路径上的命令，那么您只能使用变量更改来实现您想要的：

```
SCRIPT_SOURCE=${0%/*} 
```

这很可能是一条相对路径。如果您真的想要完整路径，那么您将不得不求助于外部命令（您*可以*自己实现它，但要避免使用非常可用的命令会做很多工作）：

```
SCRIPT_SOURCE=$(/bin/readlink -f ${0%/*}) 
```

这不取决于您的 $PATH，它仅取决于 /bin/readlink 是否存在。几乎可以肯定的是。

现在，您希望这是一个源文件。这很好，因为您可以导出您设置的任何变量，但是如果您执行上述操作，则 $0 将是源文件的位置，而不是调用脚本的位置。

这只是意味着您需要设置一个变量来保存源脚本知道的 $0 值。例如：

您将获取的脚本：

```
echo ${LOCATION%/*} 
```

获取该脚本的脚本：

```
LOCATION=$0
<source script here> 
```

但鉴于 ${0%/*} 扩展非常紧凑，您可以使用它来代替脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:04:42.967

因为您能够从 $PATH 运行命令，所以我将执行以下操作：

```
SCRIPT_PARENT=$(readlink -f "$(which $0)/..") 
```

那是你想要的输出吗？

# php - 我想列一个列表并显示在双重列表中

> ID：11685137
> 
> 赞同：-4
> 
> 时间：2012-07-27T09:34:34.997
> 
> 标签：php, mysql, html

我想制作一个从数据库中获取数据的列表。我想将列表显示为双倍，即一列中的一半数据和第二列中的一半数据。我正在使用 PHP MySQL 和 HTML。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:40:41.167

这是一般的想法，而不是为您编写所有内容。循环遍历您的结果，当您点击一半时结束当前列表并开始一个新列表。

您可能需要绕过中间点，但您应该能够使用它来做您想做的事情。使用 CSS 以您想要的方式定位列表。下一次发布一些代码第一次。

```
$query = YOUR_QUERY
$count = 0; // Set a counter
$total = mysql_num_rows($query); // Get the total

echo '<ul>';
while ($row = mysql_fetch_array($query)) { // Loop through the query
    echo '<li>'.$row['something'].'</li>'; // Output your li

    if ($count == ($total / 2) { // If you reach half way, start a new list
        echo '</ul><ul>';
    }
    $count++;
}
echo '</ul>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:37:56.653

假设 $returned_data 是一个关联数组，

```
 echo '<table>';
    foreach($returned_data as $k => $v)
    {
      echo '<tr>';
      echo    '<td>'.$k.'</td><td>'.$v.'</td>';
      echo '</tr>';
    }
    echo '</table>'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:44:42.597

您需要计算记录，然后计算每列需要多少行：

```
$result = mysql_query("SELECT * FROM `my_table` WHERE `foo` = 'bar'");
$num_records = mysql_num_rows($result);
$num_columns = 2;
$rows_per_col = ceil($num_records / $num_columns);
$records = array();

while($row = mysql_fetch_array($result))
{
    $records[] = $row;
}

// Now get the columns in two arrays:
$col1 = array_slice($records, 0, ($rows_per_col - 1));
$col2 = array_slice($records, $rows_per_col);

// Now loop over the data:
echo '<div class="col">';
foreach($col1 as $row) 
{
    echo "\n\t", '<span class="row">', $row, '</span>';
}
echo '</div>';
echo '<div class="col">';
foreach($col2 as $row) 
{
    echo "\n\t", '<span class="row">', $row, '</span>';
}
echo '</div>'; 
```

然后你需要添加一些 CSS 来让列向左浮动，并设置它们的宽度：

```
div.col {
    float: left;
    padding: 2%;
    width: 46%;
}
    div.col span.row {
        display: block;
        line-height: 20px;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T09:44:59.563

尝试`css`用于此：

```
.list-half {
    display: inline-block;
    float: left; /* to pretend whitespace breaks */
    width: 50%;
} 
```

和输出：

```
<ul>
<?php foreach ( $data as $value ) { ?>
    <li class="list-half"><?php echo $value ?></li>
<?php } ?>
</ul> 
```

不要忘记清除`floats`.

# delphi - 组框 1 或 2；基于在按钮单击后选择了哪个复选框

> ID：11685140
> 
> 赞同：2
> 
> 时间：2012-07-27T09:34:47.413
> 
> 标签：delphi, delphi-7, delphi-2010

在表单上，​​我有两个分组框、两个复选框和一个按钮。在按钮代码中，我目前有以下两行：

```
if CheckBox1.Checked then GroupBox1.Show; 
if CheckBox2.Checked then GroupBox2.Show; 
```

我想要的是；在我点击按钮后，

> IF checkbox1 被选中然后 groupbox1 应该出现并且如果 checkbox2 被选中然后 groupbox2 应该出现。

但是，还有两个让我感到困惑的进一步要求：

1.  在我按下提到的按钮之前，两个组框都不应该显示在表单上。
2.  两个组框（如前所述，出现哪一个取决于单击按钮后选择了哪个复选框）应该出现在表单的完全相同的位置。但是我不能在确切的位置设置两个不同的元素（在我的情况下是组框）。

`Version of delphi is 7.`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:01:41.297

试试这个：

```
GroupBox1.Visible := CheckBox1.Checked;
GroupBox2.Visible := CheckBox2.Checked; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:06:15.647

由于您的 2 GroupBox 在同一位置，我会使用单选按钮而不是复选框，因为 2 groupbox 不能同时显示...

这是一个例子：

```
// Click event for a radiogroup see DFM below
procedure TForm1.rg1Click(Sender: TObject);
begin
  gb1.Visible := False;
  gb2.Visible := False;
  if rg1.ItemIndex = 0 then
    gb1.Visible := True
  else
    gb2.Visible := True;
end; 
```

表单是这样设计的（可以看我设置的不同属性）：

```
object Form1: TForm1
  Left = 0
  Top = 0
  Caption = 'Form6'
  ClientHeight = 337
  ClientWidth = 635
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  OldCreateOrder = False
  PixelsPerInch = 96
  TextHeight = 13
  object gb1: TGroupBox
    Left = 40
    Top = 60
    Width = 185
    Height = 105
    Caption = 'gb1'
    TabOrder = 0
    Visible = False
  end
  object gb2: TGroupBox
    Left = 40
    Top = 60
    Width = 185
    Height = 105
    Caption = 'gb2'
    TabOrder = 1
    Visible = False
  end
  object rg1: TRadioGroup
    Left = 40
    Top = 8
    Width = 185
    Height = 33
    Caption = 'rg1'
    Columns = 2
    Items.Strings = (
      'GB1'
      'GB2')
    TabOrder = 2
    OnClick = rg1Click
  end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:18:13.943

> 两个组框都不应该显示在表单上

在编译程序之前，在 Delphi Object Inspector 中将 .Visible 设置为 false

您是否阅读了有关 .Show 的帮助？它提到了该属性。看看 SEE ALSO 部分 [http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.Controls.TControl.Show](http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.Controls.TControl.Show)

坦率地说，更简洁的应该是 listbox.visible := checkbox.checked

* * *

> 应该出现在表单的完全相同的位置

好吧，你不能同时在同一个地方展示它们吗？

如果两个复选框都打开，你想如何同时显示它们？

我相信您应该删除复选框并放置单选按钮，而不是只能按下一个或另一个。

试试 TRAdioGroup

[http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.ExtCtrls.TRAdioGroup.ItemIndex](http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.ExtCtrls.TRadioGroup.ItemIndex)

```
 ~~~~~~~~~~~~~~~~~~~
 |  ( )   No lists |
 |  (*)   List 1   |
 |  ( )   List 2   |
 ~~~~~~~~~~~~~~~~~~~ 
```

RadioGrououp.OnClick := ... (* 过程 .... List1.Visible := RadioGroup.ItemIndex = 1; List2.Visible := RadioGroup.ItemIndex = 2; 结束。*)

* * *

> 两个组框应出现在完全相同的位置

1) 使用 TNotebook 并将它们放在不同的页面上。切换页面而不是切换可见性。这种方法将允许您进行更多控制，而不仅仅是那些。您可以轻松地将它们放在不同页面上的相同坐标处。

2) 在 form.OnShow: List2.Top := List1.Top 和 Left、Width 和 Height 相同

# ios - cellForRowAtIndexPath：XCode 模板是否正确？

> ID：11685142
> 
> 赞同：0
> 
> 时间：2012-07-27T09:34:59.487
> 
> 标签：ios, xcode, uitableview

这个问题是关于 cellForRowAtIndexPath 的。

据我所知，正确的方法是

```
UITableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:@"Cell"];
if (cell == nil) {
cell = [[UITableViewCell alloc] initWithFrame:CGRectZero reuseIdentifier:@"Cell"];
return cell; 
```

但是当我创建主从模板时，代码看起来像这样

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Cell"];
 [self configureCell:cell atIndexPath:indexPath];
 return cell;
}

- (void)configureCell:(UITableViewCell *)cell atIndexPath:(NSIndexPath *)indexPath
{
 NSManagedObject *object = [self.fetchedResultsController objectAtIndexPath:indexPath];
 cell.textLabel.text = [[object valueForKey:@"timeStamp"] description];
} 
```

**编辑**：问题不在于configureCell atIndexPath。如您所见，这些字符串在 XCode 模板中不存在。

```
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault      reuseIdentifier:cellIdentifier] ; 
```

XCode 模板是否正确？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-29T13:21:00.790

模板代码是正确的。

从 iOS 5.0 开始，可以为单元标识符注册一个 nib。每当表格需要一个单元格并且没有剩余的可重用单元格时，它都会实例化 nib 并自行创建单元格。

如果你这样做`dequeueReusableCellWithIdentifier:`总是返回一个单元格；您不必自己创建它。

注册 nib 的 API 是：[`registerNib:forCellReuseIdentifier:`](http://developer.apple.com/library/ios/documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006943-CH3-SW76).

# android - 片段视图的显示操作

> ID：11685152
> 
> 赞同：3
> 
> 时间：2012-07-27T09:35:57.453
> 
> 标签：android, actionbarsherlock

我正在使用 ActionBarSherlock 为我的选项卡布局加载片段。现在我需要在加载选项卡片段时执行某些操作。

我尝试使用`onAttach()`and`onResume()`但仅在首次加载应用程序时才调用它们。不是每次我打开一个标签。

是否有每次显示片段时都会调用的函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-23T22:06:22.230

查看[ActionBarSherlock 的源代码](https://github.com/JakeWharton/ActionBarSherlock)。我很确定你会足够快地找到像[`onTabSelected`](https://github.com/JakeWharton/ActionBarSherlock/blob/fe0125aedd889f6f5d9bd8ca09e1e79d9ffc0c58/actionbarsherlock-samples/demos/src/com/actionbarsherlock/sample/demos/TabNavigation.java#L36)处理程序这样的东西或[`getSelectedTab`](https://github.com/JakeWharton/ActionBarSherlock/blob/fe0125aedd889f6f5d9bd8ca09e1e79d9ffc0c58/actionbarsherlock/src/com/actionbarsherlock/internal/app/ActionBarWrapper.java#L428)......

# c# - 正则表达式提取其他字符之间的字符

> ID：11685153
> 
> 赞同：-1
> 
> 时间：2012-07-27T09:36:05.120
> 
> 标签：c#, .net, regex

我有一个字符串是`//{characters}\n`.

我需要一个正则表达式来提取和之间的`//`字符`\n`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:38:20.487

正则表达式很好，但为什么不使用 Substring 呢？

```
string input = "//{characters}\n";
string result = input.Split('\n')[0].Substring(2); 
```

或者

```
string result = input.Substring(2, input.Length - 3); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:39:05.300

这应该有效：

```
string s1 =  "//{characters}\n";
string final =  (s1.Replace("//", "").Replace("\n", "")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:43:43.533

使用正则表达式：

```
Regex g;
Match m;
g = new Regex("//(.*)\n");  // if you have just alphabet characters replace .* with \w*
m = g.Match(input);
if (m.Success == true)
    output = m.Groups[1].Value; 
```

# ruby-on-rails-3 - Rails 3 with Devise - 使用 jQuery Mobile 进行未经授权的重定向

> ID：11685158
> 
> 赞同：3
> 
> 时间：2012-07-27T09:36:51.740
> 
> 标签：ruby-on-rails-3, jquery-mobile, devise

应用控制器：

我使用视图继承而不是其他格式（例如`:mobile`）

```
before_filter :subdomain_view_path

def subdomain_view_path
  prepend_view_path "app/views/mobile" if request.server_name.include?("mobile") || request.user_agent =~ /Mobile|iPad/
end 
```

显示控制器

```
class ShowsController < ApplicationController
  before_filter :authenticate_user!
end 
```

当我在浏览器中直接转到 /shows 时，我会正确重定向到登录页面。但是，`401 Unauthorized`当单击指向该页面的链接（ajax）时，我会得到一个。

我该如何解决这个问题？保持这种 ajax 加载页面会很酷。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-14T16:38:53.610

把它放在你的 application.js 中可能会帮助你：

```
// Set up a global AJAX error handler to handle the 401
// unauthorized responses. If a 401 status code comes back,
// the user is no longer logged-into the system and can not
// use it properly.
$.ajaxSetup({
    statusCode: {
        401: function() {

            // Redirect the to the login page.
            location.href = "/login";

        }
    }
}); 
```

来源：[http ://rubythings.blogspot.de/2011/10/ajax-redirects-with-devise.html](http://rubythings.blogspot.de/2011/10/ajax-redirects-with-devise.html)

# javascript - 仅在添加元素时触发 JS-Event

> ID：11685159
> 
> 赞同：0
> 
> 时间：2012-07-27T09:36:57.703
> 
> 标签：javascript, jquery, ajax, events, dynamic

我想在每次添加元素时调用一个事件。我正在使用 JQuery，它具有内置函数来完成向匹配选择器的所有元素（以及稍后添加的元素）添加事件，如下所示：

```
jQuery("body").on("click", ".selection", function (evt, selector) { passSelectorToOtherFunction(selector) }) 
```

但不幸的是，我不想在其上放置“单击”事件处理程序，我只想知道它们何时被添加，以便我可以对它们进行处理（不必在每次 ajax 调用后明确地这样做）。

所以基本上，我需要一个可用于所有元素的“就绪”事件，例如：

```
jQuery("body").on("ready", ".selection", function (evt, selector) { passSelectorToOtherFunction(selector) }). 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:43:14.117

你看过[liveQuery](http://docs.jquery.com/Plugins/livequery)吗？它应该允许你做你需要的。

# java - 在多个可运行的 jar 中使用单个外部 jar

> ID：11685160
> 
> 赞同：1
> 
> 时间：2012-07-27T09:37:00.597
> 
> 标签：java, eclipse, jar

我有多个可运行的 jar 文件。这些 jar 文件中的每一个都引用相同的外部 jar 文件。当我尝试使用 eclipse 单独导出可运行的 jar 文件时，每次导出都会创建一个目录，例如 jar1_lib、jar2_lib。这些目录中的每一个都包含相同的引用 jar 文件。

我想让我的每个可运行 jar 文件都引用一个目录，该目录包含所需外部 jar 的单个实例。

这可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:43:20.497

从技术上讲这是可能的，但您需要更新所有使用这个 jar 文件的项目的源代码。

考虑[JCL 框架](https://github.com/kamranzafar/JCL/)

[下面，有来自此评论](https://stackoverflow.com/a/1450837/784540)的示例代码

```
JarClassLoader jcl = new JarClassLoader();  
jcl.add("myjar.jar"); //Load jar file  
jcl.add(new URL("http://myserver.com/myjar.jar")); //Load jar from a URL  
jcl.add(new FileInputStream("myotherjar.jar")); //Load jar file from stream  
jcl.add("myclassfolder/"); //Load class folder  
jcl.add("myjarlib/"); //Recursively load all jar files in the folder/sub-folder(s)  

JclObjectFactory factory = JclObjectFactory.getInstance();  

//Create object of loaded class  
Object obj = factory.create(jcl,"mypackage.MyClass"); 
```

# r - 如何在R中自动制作列表列表

> ID：11685169
> 
> 赞同：2
> 
> 时间：2012-07-27T09:37:27.767
> 
> 标签：r

我可以手工制作这份清单：

```
list( list(n=1) , list(n=2), list(n=3) ) 
```

但是我如何自动化这个，例如如果我想让 n 上升到 10？我尝试了 as.list(1:10)，它首先是一种不同类型的数据结构，其次我不知道如何指定 n。

我希望答案可以扩展到多个元素列表，例如 1:3 和 c('A','B') 的所有组合：

```
list( list(n=1,z='A') , list(n=2,z='A'), list(n=3,z='A'),
      list(n=1,z='B') , list(n=2,z='B'), list(n=3,z='B') ) 
```

背景：我将按照以下方式使用它：`lapply( outer_list, function(params) do.call(FUN,params) )`

更新：很难选择打勾的答案。我采用了这种`expand.grid`方法，因为它可以更轻松地扩展到两个以上的参数；注释中显示的使用`mapply`使上面的两个示例看起来相当紧凑和可读：

```
outer_list=with( expand.grid(n=1:10,stringsAsFactors=F),
    mapply(list, n=n, SIMPLIFY=F)
    )

outer_list=with( expand.grid(n=1:3,z=c('A','Z'), stringsAsFactors=F),
    mapply(list, n=n, z=z, SIMPLIFY=F)
    ) 
```

它们违反了 DRY 原则，在`mapply()`调用中重复了参数名称，这让我有点困扰。因此，当它让我感到困扰时，我将使用`alply`Sebastian 的回答中所示的调用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T09:56:39.197

您不需要使用 expand.grid 进行扩展。

```
L <- mapply(function(x, y) list("n"=x,"z"=y),
            rep(1:10, each=10), LETTERS[1:10],
            SIMPLIFY=FALSE) 
```

*编辑（见下面的评论）*

```
L <- mapply(function(x, y) list("n"=x,"z"=y),
            rep(1:10, each=length(LETTERS[1:10])), LETTERS[1:10],
            SIMPLIFY=FALSE) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T09:48:18.407

```
vals <- expand.grid(n=1:3, z=c("A", "B"), 
                      KEEP.OUT.ATTRS=FALSE, stringsAsFactors=FALSE)

library(plyr)
alply(vals, 1, as.list)

$`1`
$`1`$n
[1] 1

$`1`$z
[1] "A"

$`2`
$`2`$n
[1] 2

$`2`$z
[1] "A"

$`3`
$`3`$n
[1] 3

$`3`$z
[1] "A"

$`4`
$`4`$n
[1] 1

$`4`$z
[1] "B"

$`5`
$`5`$n
[1] 2

$`5`$z
[1] "B"

$`6`
$`6`$n
[1] 3

$`6`$z
[1] "B"

attr(,"split_type")
[1] "array"
attr(,"split_labels")
  n z
1 1 A
2 2 A
3 3 A
4 1 B
5 2 B
6 3 B 
```

# asp.net-mvc - 果园缓存模块缓存特定的url

> ID：11685176
> 
> 赞同：1
> 
> 时间：2012-07-27T09:37:48.720
> 
> 标签：asp.net-mvc, caching, module, orchardcms

我是果园社区的新手，不太了解这个系统。所以我有一个关于缓存模块的问题：是否有可能为不同的用户缓存特定的 url？或者这个模块不支持这个问题？

可能有人知道这个问题的现成解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:08:03.353

不，您不能使用 Orchard.Cache 缓存每个用户，实际上它在请求过滤器中包含这些行，这意味着它根本不会为经过身份验证的用户缓存内容！

```
// don't return any cached content, or cache any content, if the user is authenticated
if (_workContext.CurrentUser != null) {
    Logger.Debug("Request ignored on Authenticated user");
    return;
} 
```

如果您有想要缓存的*特定*信息（例如从第三方 API 检索的数据、用户执行特定操作生成的信息等），您最好编写一个模块来为您处理这些信息 - [Orchard 的 ICacheManager 组件真的很容易使用](http://www.nogginbox.co.uk/blog/orchard-caching-by-time).

[在 StackOverflow 和项目站点](http://docs.orchardproject.net/)上都有大量关于编写自己的 Orchard 模块的信息。

# c - fwrite 可移植性

> ID：11685185
> 
> 赞同：3
> 
> 时间：2012-07-27T09:38:23.230
> 
> 标签：c

fwrite 是可移植的吗？我并没有真正面临下面描述的问题，但我想了解 C 的基础知识。

以免假设我们有两台机器 A8（字节 = 8 位）和 B16（字节 = 16 位）。

下面的代码会在两台机器上产生相同的输出吗？

```
unsigned char[10] chars;
...
fwrite(chars,sizeof(unsigned char),10,mystream); 
```

我猜 A8 将产生 80 位（10 个八位字节），而 B16 将产生 160 位（20 个八位字节）。我错了吗？

如果仅使用 uintN_t 类型，则不会出现此问题，因为它们的位长度与字节大小无关。但也许 uint8_t 不会在 B16 上存在。

这个问题的解决方案是什么？

我想构建一个 uint32_t 数组，将我的字节放入这个数组中（根据机器的架构使用智能移位和掩码）并编写这个数组将解决问题。但这并不令人满意。再次假设 uint32_t 存在于所有平台上。这个数组的填充将非常依赖于当前机器的架构。

感谢您的任何回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:38:11.293

fwrite() 是一个标准库函数。所以它必须对每个 C 编译器都是可移植的。也就是说，它必须在该编译器的 C 标准库中定义以支持您的机器。

所以8位、16位、32位的机器给你同样的高级操作。

但是如果你想设计那些库函数，那么你必须考虑机器架构，该机器的内存组织。

作为 C 编译器用户，您不应该为内部行为而烦恼。

我想你只是想使用那些 C 库函数。因此，不同机器的功能行为没有差异。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:09:00.670

在 C 中，char 被定义为“机器的最小可寻址单元”。也就是说，char 不一定是 8 位。

在大多数情况下，依靠 char 是 8 位这一事实是足够安全的，而不是处理一些极端情况。

一般来说，您可能无法将“半字节”写入存储中的文件。此外，设计用于不同字节大小机器的设备之间的硬件级别的可移植性也会存在问题。如果您正在处理其他设备（例如电信或其他设备），则必须实现比特流。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:53:40.297

A byte is on almost every modern computer 8 bits. But there is an other reason `fwrite` isn't portable:
A file which was written on a Little Endian machine can't be readed by a big endian machine and other way.

# php - 查询 CodeIgniter

> ID：11685186
> 
> 赞同：0
> 
> 时间：2012-07-27T09:38:26.363
> 
> 标签：php, mysql, codeigniter

我编写了一个必须使用 CodeIgniter 执行的 SQL 查询。我的查询是：-

```
SELECT COUNT('user_id') FROM tbl_tickets_replies WHERE user_id IN (SELECT id from tbl_users WHERE username IN (SELECT username FROM tbl_tickets WHERE site_referers_id =1)) 
```

我在我的模型中这样做

```
function getCommentNumbers() {
    $sql = "SELECT COUNT('user_id') FROM tbl_tickets_replies WHERE user_id IN (SELECT id from tbl_users WHERE username IN (SELECT username FROM tbl_tickets WHERE site_referers_id =1))";
    return $this->db->query($sql);
} 
```

如何使用活动记录来完成

它不工作:(

我有三个不同的表，它们是：-

```
tbl_users(id,username);
tbl_tickets(id,username,site_referers_id)
tbl_tickets_replies(id,user_id,comments) 
```

我想要做的是选择属于具有 site_referers_id=1 的特定用户名的所有评论。我想从具有 site_referes_id =1 的 tbl_tickets 中选择不同的用户名，然后从 tbl_users 获取所选用户名的 id 并使用该 id 来计算他有多少评论并根据用户名显示它。我的查询没有这样做，它显示所有用户的总评论，即假设有两个用户 A 和 B，用户 id 1 和 2 有 10 和 15 条评论，那么它应该显示如下：

```
A   10
B   15 
```

而是我的查询显示

```
A
B  25 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:21:53.460

您缺少的是 GROUP BY 聚合函数。

试试这个：

```
SELECT DISTINCT user_id, COUNT('user_id') FROM tbl_tickets_replies WHERE user_id IN
    (SELECT id from tbl_users WHERE username IN 
        (SELECT username FROM tbl_tickets WHERE site_referers_id =1)) GROUP BY user_id 
```

# jquery-mobile - 使用 jQuery mobile 加载 HTML 页面

> ID：11685187
> 
> 赞同：1
> 
> 时间：2012-07-27T09:38:29.317
> 
> 标签：jquery-mobile

基本上我想将一些内容页面“外包”到单个 .html 文件中。这些页面位于同一服务器上，应通过链接正常加载：

```
 <li><a href="#/link1.html" class="contentLink">Link1<span class="icon"></span></a></li> 
```

link1.html 页面的内容：

```
<!-- page -->
<div data-role="page" class="pages" id="link1">
  <!-- header -->
  <div data-role="header"> <a href="#" onClick="" class="showMenu menuBtn">Menu</a>
    <div class="headerlogo"></div>
  </div>
  <!-- /header -->
  <div data-role="headerimage" class="headerimage"><img     src="images/headerimages/bild1.jpg" /></div>
  <div data-role="content">
    <h3>Link1</h3>
    <p></p>    
  </div>
  <!-- /content -->
</div>
<!-- /page --> 
```

当我单击菜单中的链接时，内容显示正常。但是 URL 的更改方式可能会引起麻烦。

我想要的是：[http ://example.com/#link1.html](http://example.com/#link1.html)

但我得到的是：[http ://example.com/link1.html](http://example.com/link1.html)

所以问题是，如果有人试图重新加载页面[http://example.com/link1.html](http://example.com/link1.html)，他/她只会得到 link1.html 的内容，而没有所有 js/css 的东西。

我做错了什么？

谢谢斯蒂芬

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:49:24.443

如果要采用这种方法，则需要在 link1.html 和所有其他外部文件的头部包含 jquery 移动代码。

编辑 - 这实际上可以实现您想要做的事情。

```
$(document).on('mobileinit', function () {
    $.mobile.pushStateEnabled = false;
}); 
```

确保在加载 jQuery Mobile**之前放置事件处理程序。**

# computer-vision - vlfeat matlab 错误尝试将 SCRIPT vl_imsmooth 作为函数执行：

> ID：11685191
> 
> 赞同：5
> 
> 时间：2012-07-27T09:38:45.740
> 
> 标签：computer-vision, matlab, pattern-recognition

我正在尝试使用 VLFEAT 函数 vl_imsmooth 但 matlab 给我一个错误：'尝试将 SCRIPT vl_imsmooth 作为函数执行：'

为什么会发生这种情况？

可能是因为一些 mex 文件？我应该重新编译 vl_feat 的 c++ 代码吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-25T20:51:18.690

问题应该通过将正确的 mexw32 或 mexw64 文件夹从 ..\vlfeat\toolbox\mex 复制到 ..\vlfeat 来解决。在我的情况下，我的操作系统是 64 位我的文件夹看起来像 ..\vlfeat\mexw64

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-07-19T08:58:59.993

您收到此错误是因为您的路径“.../vlfeat-0.9.16/toolbox/imop/vl_imsmooth.m”的优先级高于“...../vlfeat-0.9.16/toolbox/mex/mexa64 /vl_imsmooth.mexa64" 所以你可以简单地运行

> > 路径工具

然后导航到 imop 上方的 mexa64 路径，你就完成了！

# c# - 在工具提示中显示 Web 表单

> ID：11685192
> 
> 赞同：2
> 
> 时间：2012-07-27T09:38:47.440
> 
> 标签：c#, jquery, asp.net, calendar, tooltip

我使用过 ASP.NET 的日历控件。当我在任何日期移动时，它将显示 tooltip ，我可以在其中显示我的另一个 aspx 页面。在那个aspx页面中有gridview。

如何显示包含 aspx 页面的工具提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:43:01.713

尝试这个

**轨道一**

*   使用 div 将元素定位为工具提示。
*   在那个 div 中使用一个 iframe，您可以在其中加载您的 aspx 页面。

**轨道二**

您可以在没有 iframe 的情况下使用 div 并使用 jquery 从服务器中针对悬停日期提取数据，并在运行时使用`$("#divID").html()`函数将该数据呈现到该 div 中。

就我个人而言，我会推荐第二条轨道，因为这里消除了页面生命周期，并且数据加载速度会更快，这是工具提示所必需的，

轨道二的唯一缺点是它有点复杂，因为您必须在运行时使用`document.createElement()`和其他类似的功能来创建您的设计。

[也许你可以从这里](http://forums.asp.net/t/1172025.aspx)得到一些帮助。

# objective-c - 无法将带有特殊符号的字符串分配给标签

> ID：11685193
> 
> 赞同：0
> 
> 时间：2012-07-27T09:38:55.443
> 
> 标签：objective-c, ios5, nsstring, symbols

我正在尝试将包含特殊符号“β”的字符串值分配给标签。但是'β'在标签中被转换为'Œ≤'。

我试过这样 -

```
NSString *temp = [[array2 objectAtIndex:0]valueForKey:@"Class"];
NSString *classes = [temp stringByReplacingOccurrencesOfString:@"Œ≤" withString:@"β"];

lblClass.text = classes;
NSString *temp = [lblClass.text stringByReplacingOccurrencesOfString:@"Œ≤" withString:@"β"];

NSLog(@"class is %@",classes);        
NSLog(@"class - %@", lblClass.text);
NSLog(@"class - %@", temp); 
```

控制台中的值是 -

```
2012-07-27 14:50:51.249 MedicationProfilesApp[2539:207] class is Sympathomimetic / β - 2 Agonist / Brochodilator
2012-07-27 14:51:02.198 MedicationProfilesApp[2539:207] class - Sympathomimetic / Œ≤ - 2 Agonist / Brochodilator
2012-07-27 14:51:03.375 MedicationProfilesApp[2539:207] class - Sympathomimetic / β - 2 Agonist / Brochodilator 
```

可能是什么问题？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:48:30.500

请尝试以下代码，它可能对您有所帮助

```
 NSString *str = [@"Your special symbol" stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:42:20.873

我建议搜索 ASCII 代码并改用它。

# c++ - 给多个编辑框赋值，给定它们的名字

> ID：11685195
> 
> 赞同：3
> 
> 时间：2012-07-27T09:39:00.173
> 
> 标签：c++, c++builder, vcl

我目前正在 Borland C++ Builder 6 中进行一些编程。

我有 24 个编辑框（一个可视组件，带有一个文本字段），我想在框中插入一些值，现在我这样做：

```
Edit1->Text=1;
Edit2->Text=2;
Edit3->Text=3;
...
Edit24->Text=24; 
```

但我想要这样的东西：

```
for(int i=1; i<25;i++){
Edit"i"->Text=i;
} 
```

我想我必须制作一组对象或其他东西。任何机构都可以帮助我吗？我对对象和类似的东西没有很多经验。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:48:18.693

VCL中有一个`FindComponent`函数。它用于通过名称查找组件。

在你的情况下，它看起来像：

```
TEdit * tmp;
for( int i = 0; i < 24; i ++ )
{
    tmp = (TEdit*)MyForm->FindComponent("Edit" + IntToStr(i) );
    tmp->Text = i;
} 
```

# c# - 动态填充数据网格

> ID：11685196
> 
> 赞同：2
> 
> 时间：2012-07-27T09:39:03.233
> 
> 标签：c#, winforms, c#-4.0

```
while (rawCode.IndexOf("<a href") != -1)
{
                string[] parts = link.Split(new string[] { "./" }, StringSplitOptions.None);  
                string column = string.Format("Column{0}",1);
                dataGridView1.Columns.Add("Link","Links");
                for (int i = 0; i < parts.Length; i++)
                {
                    if (parts[i] != "")
                    {

                        dataGridView1.Rows.Add((new Object[] { i, parts[i]}));

                        dataGridView1.Columns.Add("Link", "Name");
                        dataGridView1.Rows.Add((new Object[] { i, parts[i]}));
                        //Here i need to insert data into already existing row.
                    }
                 }
} 
```

我可以使用上面的代码动态创建一行。但我不知道如何将数据插入到已经创建的行中。下图显示了上述代码的输出。 ![使用上述代码创建的数据网格](../Images/0e3bb51b53d3dc41f1a25a146dac0b6a.png)

我想在链接后在单元格旁边添加数据。当我尝试使用相同的代码时，正在创建新行，但我想将数据插入到已经创建的行中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:54:59.687

您可以像这样更新现有行：

```
 dataTable.Rows[i]["columnNameHere"] = valueYouWantToUse; 
```

或者，您可以在将信息添加到数据源之前在行中输入信息。

```
DataRow row = dataTable.NewRow();
row["columnName"] = valueYouWantToUse;
//any other information can be put here too, for each column in the row.
dataTable.Rows.Add(row);

 if (parts[i] != "")
                {

                    dataGridView1.Rows.Add((new Object[] { i, parts[i]}));

                    dataGridView1.Columns.Add("Link", "Name");
                    DataRow row = dataTable.NewRow();
                    row["Link"] = i.ToString();
                    row["Name"] = parts[i].ToString();

                    //here add all your column values for that row in the same manner, then,
                    dataTable.Rows.Add(row);
                } 
```

# model-view-controller - 使用 EPPlus 读取 Excel 电子表格

> ID：11685204
> 
> 赞同：20
> 
> 时间：2012-07-27T09:39:26.817
> 
> 标签：model-view-controller, epplus

有人可以为我指出如何阅读 Excel 电子表格、遍历所有行和列以使用 EPPlus 和 MVC 检索值的正确方向吗？到目前为止，我看到了创建电子表格的示例，但在打开 excel 文件并从中读取值时没有找到任何示例。任何帮助，将不胜感激。

TIA 苏..

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-29T07:58:35.893

简单的例子

```
// Get the file we are going to process
var existingFile = new FileInfo(filePath);
// Open and read the XlSX file.
using (var package = new ExcelPackage(existingFile))
{
    // Get the work book in the file
    var workBook = package.Workbook;
    if (workBook != null)
    {
        if (workBook.Worksheets.Count > 0)
        {
            // Get the first worksheet
            var currentWorksheet = workBook.Worksheets.First();

            // read some data
            object col1Header = currentWorksheet.Cells[1, 1].Value; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-08-22T09:41:51.777

一个简单的例子，你可以在 .net 4.5 中使用 EPPlus 读取 excel 文件

```
public void readXLS(string FilePath)
{
    FileInfo existingFile = new FileInfo(FilePath);
    using (ExcelPackage package = new ExcelPackage(existingFile))
    {
        //get the first worksheet in the workbook
        ExcelWorksheet worksheet = package.Workbook.Worksheets[1];
        int colCount = worksheet.Dimension.End.Column;  //get Column Count
        int rowCount = worksheet.Dimension.End.Row;     //get row count
        for (int row = 1; row <= rowCount; row++)
        {
            for (int col = 1; col <= colCount; col++)
            {
                Console.WriteLine(" Row:" + row + " column:" + col + " Value:" + worksheet.Cells[row, col].Value.ToString().Trim());
            }
        }
    }
} 
```

# c# - 如何在 C# 应用程序中安全地存储数据库登录名和密码？

> ID：11685206
> 
> 赞同：14
> 
> 时间：2012-07-27T09:39:38.563
> 
> 标签：c#, sql-server, passwords

我有一个需要连接到 SQL 数据库以不时发送一些数据的 C# 应用程序。如何安全地存储用于此作业的用户名和密码？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T09:43:47.527

[有一篇很好的 MSDN 文章](https://msdn.microsoft.com/en-us/library/53tyfkaw.aspx)，介绍了如何保护 .Net 中的连接字符串。

您可能想要使用[受保护的配置](http://msdn.microsoft.com/en-us/library/hh8x3tas.aspx)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T09:43:59.047

尽可能使用集成的 Windows 身份验证。它减轻了您的应用程序的负担，让 Windows 来处理它。使用 Windows 身份验证而不是 SQL 身份验证被认为是最佳实践。

阅读这个公认的答案：[为 asp.net 应用程序连接 sql server（Windows 身份验证与 SQL Server 身份验证）的最佳方式](https://stackoverflow.com/questions/2432793/the-best-way-to-connect-sql-server-windows-authentication-vs-sql-server-authent)

另请参阅：[http ://www.mssqltips.com/sqlservertip/1831/using-windows-groups-for-sql-server-logins-as-a-best-practice/](http://www.mssqltips.com/sqlservertip/1831/using-windows-groups-for-sql-server-logins-as-a-best-practice/)

并且：[http ://www.greensql.com/content/sql-server-security-best-practices](http://www.greensql.com/content/sql-server-security-best-practices)

顺便说一句，如果这是问题所暗示的“工作”，它可能是简单 Windows 服务或计划任务的理想选择，这两者都可以在特定的安全上下文中运行（即作为特定的 Windows 用户）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:44:12.777

在您的 app.config 或 web.config 中，然后使用 .net 加密提供程序对其进行加密

有关更多信息，请在此处查看 [http://msdn.microsoft.com/en-us/library/dx0f3cf2%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/dx0f3cf2%28v=vs.80%29.aspx)

**使用受保护的配置加密配置信息**

[http://msdn.microsoft.com/en-us/library/53tyfkaw%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/53tyfkaw%28v=vs.80%29.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T09:42:38.313

不确定您的确切要求，但首先，您必须加密密码。此外，在传输此类敏感信息时，请考虑使用安全连接。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T09:42:48.407

将加密版本存储在连接字符串中，并在解密密码后以编程方式形成连接字符串。

您可以使用您选择的任何加密机制 - 从微不足道到复杂。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-27T09:47:36.497

您可能想查看 RijndaelManaged 密钥，它是一种非常安全的对称加密密钥。可以在此处找到有关此信息（和教程）的好文章；

[http://www.obviex.com/samples/Encryption.aspx](http://www.obviex.com/samples/Encryption.aspx)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-27T09:50:01.180

您可以对密码使用加密和解密算法，并通过创建用户和创建用户的日期时间记录您的用户信息，并将其保存在数据库中。即使有人在数据库中更新或编辑记录该信息。

* * *

## 回答 #8

> 赞同：-5
> 
> 时间：2012-07-27T09:45:06.790

**将stirng转换为md5的**代码****

 **```
using System.Text;
using System.Security.Cryptography;
    public static string ConvertStringtoMD5(string strword)
        {
            MD5 md5 = MD5.Create();
            byte[] inputBytes = System.Text.Encoding.ASCII.GetBytes(strword);
            byte[] hash = md5.ComputeHash(inputBytes);
            StringBuilder sb = new StringBuilder();
                for (int i = 0; i < hash.Length; i++)
               { 
                    sb.Append(hash[i].ToString("x2"));
               }
               return sb.ToString();
       } 
```**

# android - Dialog Activity 还会在后台恢复其他活动

> ID：11685210
> 
> 赞同：3
> 
> 时间：2012-07-27T09:39:48.570
> 
> 标签：android, android-activity

这就是场景。我的应用程序中有 2 个活动，当我单击应用程序创建的通知时，会启动一个 Dialog 活动。问题是，当我单击通知时，如果在按下主页按钮时停止，则应该只显示对话框，而不是我的应用程序的其他活动。

当我通过按后退按钮关闭应用程序时，对话框活动会显示对话框，但是当应用程序在后台运行时，该活动也会在创建对话框活动时打开。

我`@android:style/Theme.Dialog`用于我的对话活动。

如何只显示 Dialog 活动，而不显示背景中的其他活动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T13:20:15.990

OP 问题的解决方案是在清单中为该活动设置不同的任务关联。

```
<activity android:name="MyIndependentActivity"
android:theme="@android:style/Theme.Dialog" 
android:taskAffinity="a_unique_id"> 
```

taskAffinity 字符串必须**不同于包名**(com.whatever.myapp)

我还使用 android:excludeFromRecents="true"，从最近的应用程序列表中隐藏对话框，因为返回对话框通常没有意义。

更多信息：http: [//developer.android.com/guide/components/tasks-and-back-stack.html#Affinities](http://developer.android.com/guide/components/tasks-and-back-stack.html#Affinities)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:47:38.040

是的，那会发生。

当您声明 Dialog 的主题时，它会影响 Activity 生命周期，并且之前的 Activity 不会进入 onStop，因此某些 Android 功能仍然认为它是活跃的 Activity，这在技术上是正确的，因为您的对话框 Activity 就像一个对话框一样。

如果您不“关心”可以看到对话框后面的先前活动，一种可能的解决方法是将对话框更改为 DialogFragment，将对话框的主题放在片段上并将其显示在它自己的活动中，即会做的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:53:43.103

The way I have done this (and this can't be the best way to do this) is to have some logic in the activity.onPause() and activity.onResume() methods, that will perform actions based on what I want. My experience is more around separate activities and transitioning between them than using dialogs alot.

You can pass information between activities through setResult(). This will enable you to work out why the child activity has decided to close. That combined with the onResume function should enable you to disable the parent activity.

To override the dialog so that the other activity is not visible behind it, is probably to use the onPause() method to make it go translucent.

I have found onStop() very irratic to use and often unnecessary. The reason for this, is that it is called unpredictably from a developers point of view because onStop can be called based at strange times based on whether the OS has enough memory etc. onPause however in my experience is always called predicably.

# r - QwtRasterData 是用于显示从 get_googlemap 接收到的数据的正确 Qt 设备吗？

> ID：11685212
> 
> 赞同：-6
> 
> 时间：2012-07-27T09:40:00.203
> 
> 标签：r, qt, qwt

从这里：http://cran.r-project.org/web/packages/ggmap/ggmap.pdf

> `ggmap`绘制由 get_map 生成的**栅格对象。**

从这里：http://cran.r-project.org/web/packages/ggmap/ggmap.pdf

> `get_map`是一项智能功能，可查询 Google Maps、OpenStreetMap 或 Stamen Maps 服务器以获取特定空间缩放的特定位置的地图。**它是一个包装器`get_googlemap`**

来自：http: [//qwt.sourceforge.net/class_qwt_raster_data.html](http://qwt.sourceforge.net/class_qwt_raster_data.html)

> `QwtRasterData`定义任何类型**栅格数据的接口**

因此，按照将生成的数据`get_googlemap`保存在`rda`文件中的方式。

```
mapImageData <- get_googlemap (c (lon=-74.0087986666667, lat=40.7106593333333), zoom=15)
save (mapImageData, file="savedMap.rda") 
```

问题：
**我认为`savedMap.rda`这里的文件包含栅格数据是否合乎逻辑，因此它可以显示在 的`QwtRasterData`小部件中`Qt`？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:01:49.243

QwtRasterData 是一个抽象类，它定义了一个网格化数据的接口，以便在 Qwt 框架中显示。

存在一个子类 QwtMatrixRasterData，它允许您使用 setValueMatrix 方法从双精度的 QVector 创建具有实际值的光栅对象。

您可以编写另一个子类 QwtRdaRasterData，它定义父类的方法以从包含已保存对象的 .rda 对象中读取数据。它必须知道对象的保存方式，读取 .rda 文件并将其存储在 C++ 对象中。

您不会仅仅因为文档说“**任何**类型的栅格数据”就意味着“**每种**类型的栅格数据”是吗？

# javascript - BlackBerry webworks：窗口大小（窗口高度）在黑莓模拟器中返回不正确的值

> ID：11685214
> 
> 赞同：4
> 
> 时间：2012-07-27T09:40:11.463
> 
> 标签：javascript, jquery, blackberry-webworks

```
{
var winH = $(window).height();
var winW = $(window).width();
} 
```

我正在打印 winH 和 winW，它在黑莓模拟器和真实设备上给出了不正确的值（BB 9800）

解决方案 ：

在黑莓小部件中，使用 jquery 获取窗口宽度和高度给出了不正确的值。解决方案是 { `var winH = screen.height; var winW = screen.width;`}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-02T12:19:12.570

我发现了同样的问题，这是我的解决方案。它与设备像素比有关。也就是说，在 PC 中，css 中的像素与屏幕中的像素之间的关系是 1:1

然而，在某些设备中，该比率变为 1:2.24 或不同的值

我的解决方案是：

```
var winW = screen.width*window.devicePixelRatio;
var winH = screen.height*window.devicePixelRatio; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-26T06:01:07.937

我也有同样的问题，我使用返回正确值的是

```
var widthh = window.innerWidth;
var heightt = window.innerHeight 
```

# ruby - 地区到国家的宝石：红宝石

> ID：11685215
> 
> 赞同：0
> 
> 时间：2012-07-27T09:40:12.417
> 
> 标签：ruby, ruby-on-rails-3, country

是否有一个`gem`其输入将是一个地区和该地区以外的国家。例如，如果我给`bay area`=> `United Stats`，`Pune`=> `India`，`greater minneapolis-st. paul area`=> `United States`。我只想知道美国或加拿大的特定区域退出

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T03:51:33.047

[卡门](https://github.com/jim/carmen)宝石可能会给您带来一些运气。

# c# - VS2010 即时调试器

> ID：11685221
> 
> 赞同：1
> 
> 时间：2012-07-27T09:40:39.797
> 
> 标签：c#, .net-3.5

再次，伙计们，

只是一个关于 JIT 调试器的快速问题。我有一个 Windows 窗体，它允许您通过按钮控制关联的服务。按钮工作，我可以完全控制服务并且不会发生崩溃。但是，每当我停止服务时，我都会收到以下消息：

```
An unhandled exception"'System.ObjectDisposedException') occurred in Proxy_Service_3_5.exe 
```

之后，应用程序继续愉快地进行。我可以再次通过表单重新启动服务，没有问题，然后停止它，此时我再次收到 JIT 调用。有没有其他人经历过这个？我在下面包含了按钮的代码，如果需要其他任何内容，请告诉我。

```
private void btnStopService_Click(object sender, EventArgs e)
    {
        if (GetServiceStatus(ServiceName) == "STOPPED")
        {
            MessageBox.Show("Service is not running");
        }
        else
        {
            try{
                myService.Stop();
                tbServiceStatus.Text = GetServiceStatus(ServiceName);
            }
            catch (ObjectDisposedException ex)
            {
                MessageBox.Show(ex.Message);
            }
        }
    } 
```

干杯。

# iphone - xcode 4.3.2 和 ios 5.1 上的代码符号错误

> ID：11685224
> 
> 赞同：0
> 
> 时间：2012-07-27T09:40:43.507
> 
> 标签：iphone, ios5

我使用 xcode 5.1 在我的 mac pc 上创建了一个演示应用程序。当我尝试创建发布版本时，我收到了这个错误

```
 codeSign error :code signing required for product type 'Application' in SDK 'IOS 5.1'. 
```

我已经为系统创建了所需的证书。

请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:53:37.217

try this: Select right code sign that match your bundle id.

![enter image description here](../Images/db485e7aa7fb2c6966c1e02786365a77.png)

# php - 如何将值存储在数组php中

> ID：11685231
> 
> 赞同：0
> 
> 时间：2012-07-27T09:41:34.893
> 
> 标签：php, arrays

这是我显示问题列表和 4 个选项的代码（使用选项框）。用户必须选择正确的选项。是否可以将用户选择的选项存储在数组变量中。可能有 10 到 20 个问题，数组变量应该只包含选项值。

```
<?php 
require('connect.php'); 
$display=mysql_query("SELECT * FROM Java_Test_1 ORDER BY id ASC"); 
echo "<form method=post action=$PHP_SELF>"; 
echo "<table border=0>"; 
while ($row = mysql_fetch_array($display)) 
{ 
$id=$row['0']; 
$question=$row['1']; 
$opta=$row['2']; 
$optb=$row['3'];  
$optc=$row['4']; 
$optd=$row['5']; 
$answer = $row["woptcode"]; 
echo "<tr><td colspan=3><br><b>$question</b></td></tr>"; 
echo "<tr><td>$opta<input type=radio name=$id value='a'></input></td><td>$optb <input        type=radio name=$id value='b'></input></td><td>$optc <input type=radio name=$id value='c'> </input></td><td>$optd <input type=radio name=$id value='d'></input></td></tr>"; 
} 
echo "</table>"; 
echo "<input type='submit' value='start' name='doo'>"; 
echo "</form>"; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:44:05.767

```
$name = 'opt';
$counter = 0;
while ($row = mysql_fetch_array($display)) 
{ 

 $name = 'opt'.$counter;
 $counter++;

$id=$row['0']; 

$question=$row['1']; 
$opta=$row['2']; 
$optb=$row['3'];  
$optc=$row['4']; 
$optd=$row['5']; 
$answer = $row["woptcode"]; 
echo "<tr><td colspan=3><br><b>$question</b></td></tr>"; 
echo "<tr><td>$opta<input type=radio name=$name value='a'></td>
<td>$optb <input type=radio name=$name value='b'></td>
<td>$optc <input type=radio name=$name value='c'></td>
<td>$optd <input type=radio name=$name value='d'></td>
</tr>"; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:51:40.093

这是详细解释这一点的官方文档

[http://php.net/manual/en/faq.html.php](http://php.net/manual/en/faq.html.php) 部分：如何在 HTML 中创建数组？

# node.js - Node.js Jade 条件渲染

> ID：11685233
> 
> 赞同：3
> 
> 时间：2012-07-27T09:41:41.870
> 
> 标签：node.js, pug

我想有条件地渲染我的 html。

我有一个名为 addr_2 的变量，我通过休息服务设置它并将其传递给玉模板，如

```
res.render('jade_file',{addr_2 : 'some_value'}); 
```

可能存在我将变量 addr_2 的值设置为“NULL”的情况

在玉文件上，我只想在 addr_2 不等于“NULL”时才渲染它的值

我尝试了以下代码，但它不起作用

```
 | (#{addr_2} === 'NULL') ? '' : #{addr_2} br 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T20:14:30.947

在评估它们时，请参考传入的变量，如 addr_2，而不需要任何卷曲标签或哈希符号。

```
if (typeof(addr_2) !== undefined && addr_2 != null) {
  | #{addr_2}
} 
```

# python - 使用 Python 以基本 HTML 形式登录

> ID：11685235
> 
> 赞同：4
> 
> 时间：2012-07-27T09:41:45.053
> 
> 标签：python, login

> **可能重复：**
> [Python：如何登录页面并在浏览器中查看生成的页面？](https://stackoverflow.com/questions/663490/python-how-do-you-login-to-a-page-and-view-the-resulting-page-in-a-browser)

我想知道如何在[http://www.deshabhimani.com/signin.php](http://www.deshabhimani.com/signin.php)之类的页面上执行登录，该页面具有使用 python 的基于 php 的登录提示。此表单用于登录[http://www.deshabhimani.com/epaper.php](http://www.deshabhimani.com/epaper.php)

该站点不提供 HTTP API。

我想稍后使用 python 下载电子纸的所有页面（它们是单独的），然后将其制成最终的一个文件 pdf。

我要下载的文件是[http://www.deshabhimani.com/epaper.php?page=43210&ddate=27-07-2012&edition=Kochi](http://www.deshabhimani.com/epaper.php?page=43210&ddate=27-07-2012&edition=Kochi)只能通过登录访问

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-27T09:57:57.180

那么首先检查页面代码，知道什么样的方法发送数据，以及用户名和密码名称。

```
<form action="signin.php" method="post" name="log_in" id="log_in" onsubmit="return login()">
                    <label for="name">User Name:</label><br>
                    <input type="text" maxlength="80" size="25" id="username" name="username" style="border:1px dotted #1a64a3; margin-bottom:10px">
                    <label for="email">Password:</label><br>
                    <input type="password" maxlength="80" size="25" id="password" name="password" style="border:1px dotted #1a64a3">
                    <input type="submit" name="submit" value="Login" style="background:url(images/submit.gif) no-repeat; width:59px; height:22px; color:#FFFFFF; padding-bottom:3px">
</form> 
```

正如你从上面看到的，首先我们范围到表单，看看什么样的方法和文件的名称是什么

所以让我们在python中处理它

```
import urllib
login_data=urllib.urlencode({'username':'your username','password':'your password','submit':'Login'}) # replace username and password with filed name 
op = urllib.urlopen('www.exmaple.com/sign-in.php',login_data) 
```

# java - 从 url 中提取路径值的正则表达式问题

> ID：11685236
> 
> 赞同：1
> 
> 时间：2012-07-27T09:41:46.150
> 
> 标签：java, regex

我正在尝试从 url 中提取视频 ID

```
http://www.youtube.com/v/Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6 
```

我用什么我`Pattern.compile("/v/([^&]*)")`得到空，如果我用`Pattern.compile("/v/([^/]*)")`我得到下面的输出 Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6

我怎样才能`Ig1WxMI9bxQ`单独提取。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:48:30.247

要找到 id，您可以使用：

```
String url = "http://www.youtube.com/v/Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6";
Matcher matcher = Pattern.compile(".*/(.*?)=.*").matcher(url);
if (matcher.matches()) {
   System.out.println(matcher.group(1));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:52:17.567

```
String link = "http://www.youtube.com/v/Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6";
Pattern rex = Pattern.compile("(?<=watch\\?v=|/videos/)[^&#]*");
Matcher m = rex.matcher(link);
String YouTubeVideoID = m.group(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:47:46.353

```
import java.util.regex.*;

class Main
{
  public static void main(String[] args)
  {
    String txt="http://www.youtube.com/v/Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6";

    String re1=".*?";   // Non-greedy match on filler
    String re2="(?:[a-z][a-z0-9_]*)";   // Uninteresting: var
    String re3=".*?";   // Non-greedy match on filler
    String re4="(?:[a-z][a-z0-9_]*)";   // Uninteresting: var
    String re5=".*?";   // Non-greedy match on filler
    String re6="(?:[a-z][a-z0-9_]*)";   // Uninteresting: var
    String re7=".*?";   // Non-greedy match on filler
    String re8="(?:[a-z][a-z0-9_]*)";   // Uninteresting: var
    String re9=".*?";   // Non-greedy match on filler
    String re10="(?:[a-z][a-z0-9_]*)";  // Uninteresting: var
    String re11=".*?";  // Non-greedy match on filler
    String re12="((?:[a-z][a-z0-9_]*))";    // Variable Name 1

    Pattern p = Pattern.compile(re1+re2+re3+re4+re5+re6+re7+re8+re9+re10+re11+re12,Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    Matcher m = p.matcher(txt);
    if (m.find())
    {
        String var1=m.group(1);
        System.out.print("("+var1.toString()+")"+"\n");
    }
  }
} 
```

您可以使用 txt2re.com 来满足您的所有正则表达式需求（：值得检查。没用的，但您当然可以简化您获得的来源。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T09:48:30.857

尝试：

```
String url = http://www.youtube.com/v/Ig1WxMI9bxQ&hl=fr&fs=1&color1=0x2b405b&color2=0x6b8ab6
String id = url.substring(url.indexOf("/v/") + 3, url.indexOf("&")); 
```

# ruby-on-rails - 回形针 - 检查是否存在给定格式

> ID：11685237
> 
> 赞同：0
> 
> 时间：2012-07-27T09:41:51.403
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, paperclip

在 papercip 的文档中，我找到了一种查看图像是否已上传的方法：

```
@my_model.my_image.present? 
```

有没有办法检查是否存在任何特定维度？如：

```
@my_model.my_image(:thumb).present? 
```

为了验证拇指是否存在。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:56:27.740

我认为没有方便的方法，但这样做应该可行：

```
File.exist?(@my_model.my_image.path(:thumb)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:10:18.077

你可以写`@my_model.my_image?`

# php - 如果表存在，检查访问数据库

> ID：11685240
> 
> 赞同：0
> 
> 时间：2012-07-27T09:41:57.960
> 
> 标签：php, ms-access, adodb

有没有办法检查表是否存在于 mdb 文件中？我使用 PHP 和 ADOdb 连接进行连接。

这是我的代码

```
$conn = new COM("ADODB.Connection");
$conn->open("DRIVER={Microsoft Access Driver (*.mdb)}; PWD=somepassword; DBQ=".dirname(__FILE__)."\filename.MDB;");
if (table exists){ \\ where i need the code to check
    $createtable = $conn->execute("CREATE TABLE $tblname (fieldsample CHAR(1))");
}else{
    $insertqry = $conn->execute("INSERT INTO $tblname (field) VALUES (value)");
} 
```

一整天都在浏览语法，但到目前为止我所看到的都是针对 VB 和 ASP 的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:43:44.107

SELECT * 在 LIMIT 1 的表上如何捕获错误/异常？

（LIMIT 在 ACCESS 中称为 TOP。）

所以像：

```
SELECT TOP 1 * FROM <YOURTABLE>; 
```

在 ACCESS 方面，我学会了实用，因为它几乎不是一个数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:46:34.427

在 COM 可用的情况下，您将添加对 DAO 的引用并检查[`TableDefs`集合](http://msdn.microsoft.com/en-us/library/office/bb177479(v=office.12).aspx)。由于您不能这样做，您将不得不求助于查询隐藏`MSysObjects`表：

```
SELECT COUNT(*) FROM MSysObjects WHERE Name = 'myTable' AND Type = 1 
```

（有关此系统表的更多详细信息：[使用 MSysObjects](http://www.perfectparadigm.com/tip001.html)）

编辑：根据这个问题，您可以使用 ADO 访问*架构数据*，这应该允许您确定表是否存在：

```
$rs_meta = $conn->OpenSchema(20, array(Null, Null, Null, "TABLE")); 
```

*   [与 PHP 连接时从 MS Access 数据库中检索目录、元数据或架构信息](https://stackoverflow.com/q/120114/87698)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:46:22.477

```
$createtable = $conn->execute("CREATE TABLE $tblname (fieldsample CHAR(1))"); 
```

您实际上可以修改查询以实现您想要的结果：

```
$createtable = $conn->execute("CREATE TABLE IF NOT EXISTS $tblname (fieldsample CHAR(1))"); 
```

如果该查询不存在，将执行（创建表）。如果它已经存在，则不会执行此查询。

# php - 如何将文本区域/框中的单词转换为数组以在 php 中进行数据库比较

> ID：11685246
> 
> 赞同：0
> 
> 时间：2012-07-27T09:42:22.473
> 
> 标签：php, keyword

我是 php 新手，我想知道，如何将文本区域或文本框的内容转换为单独的单词并将它们放入单独的数组中，以便我可以使用这些数组来比较 MySQL 数据库中的特定关键字...希望有人可以帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:45:20.297

您可以尝试使用[php 函数 Explode](http://php.net/manual/en/function.explode.php)

例子

```
<?php
// Example 1
$pizza  = "piece1 piece2 piece3 piece4 piece5 piece6";
$pieces = explode(" ", $pizza);
echo $pieces[0]; // piece1
echo $pieces[1]; // piece2

// Example 2
$data = "foo:*:1023:1000::/home/foo:/bin/sh";
list($user, $pass, $uid, $gid, $gecos, $home, $shell) = explode(":", $data);
echo $user; // foo
echo $pass; // *

?> 
```

# git - 复制的文件显示为已更改

> ID：11685250
> 
> 赞同：1
> 
> 时间：2012-07-27T09:42:41.313
> 
> 标签：git

我在 linux 中处理我的项目，并将我的工作推送到我的 git repo。我将项目目录（包括 .git 目录）复制到我的 windows 机器上，以便我可以从那里工作。现在，当我执行时，`git status`我得到了大量修改过的文件，每个项目文件。所以git认为每个新文件都是修改过的文件，因为我复制粘贴了。有没有办法让 git 检查，查看文件是否相同并将它们从更改的文件列表中删除？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:04:57.870

将包括工作树的 git 存储库从 Linux 复制到 Windows 或反之亦然是一个**坏主意**，因为它也会复制配置，而且在其他平台上几乎肯定是错误的。所以简单的解决方案是**不要这样做并使用克隆**（注意，克隆在 samba 上工作，尽管它在非本地网络上会很慢）。

问题可能是因为`.git/config`从一个系统复制到另一个系统的 git 配置 (in ) 在那里不合适，或者默认或系统范围的配置使 git 期望工作树看起来与它在另一个系统上所做的不同。我可以想到 3 个特定于系统的设置：

1.  换行符转换。您的 Windows git 很可能默认转换换行符，因此它希望工作目录包含带有 Windows CR/LF 换行符的文件，但它会看到带有 Unix LF 换行符的文件。有一种新的和旧的设置方法，新的方法不应该这样做。而且这取决于您是否真的要进行转换；我发现我几乎从不这样做。

2.  可执行权限处理。Windows 上没有可执行位，因此有一些选项可以告诉系统忽略对其所做的更改，但是从 unix 复制的存储库会将其设置错误。

3.  这同样适用于符号链接处理。

# javascript - 使用 Javascript 或 Jquery 将整数转换为精度为 2 的浮点数

> ID：11685253
> 
> 赞同：14
> 
> 时间：2012-07-27T09:42:52.183
> 
> 标签：javascript, jquery

我想将整数转换为精度为 2 的浮点数。即。-

11 => 11.00

45 => 45.00

请帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-07-27T09:45:48.123

使用[`.toFixed`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed)：

```
var num = 45;
num.toFixed(2); //"45.00" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T09:48:49.957

```
var num = 10;
var result = num.toFixed(2); 
```

[http://www.mredkj.com/javascript/nfbasic2.html](http://www.mredkj.com/javascript/nfbasic2.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-02-13T15:14:05.507

这是一个很常见的问题我看到有人已经回答了，我想补充一下，如果你想进一步使用转换后的数字进行计算试试这个在控制台

```
a = 10.2222;
typeof a /*"number"*/
a /*10.2222*/

b = parseFloat(b).toFixed(2);
typeof b /*"String"*/
b /*"10.22"*/

c = parseFloat(c)
typeof c /*"number"*/
c /*10.22*/ 
```

解释是——

```
toFixed() method outputs a string variable
but if you want to further use the value of b as a 'number'
you will have to, 
c = parseFloat(b)
typeof c
// "number" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-11T06:19:37.260

只需在`toFixed(2)`此处添加您的变量。

# html - CSS：在 HTML 表格中，自动换行不适用于浮动：左

> ID：11685255
> 
> 赞同：0
> 
> 时间：2012-07-27T09:42:55.833
> 
> 标签：html, css

我有一个三列表格，我想根据内容的长度在单元格中设置文本背景。但是当我设置 float: left 时，自动换行效果不好。

```
table {
table-layout: fixed;
width: 100%;
word-wrap: break-word;
} 
```

这是每个单元格中的内容。

```
.read{
    min-height: 20px;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 10px;
    padding: 0px 10px 0px 10px;
    border-radius: 4px;
    background-image: -webkit-gradient(linear, 25% 0%, 25% 100%, from(rgba(142, 175, 196, 1.0)), to(rgba(118, 146, 164, 1.0)));
    float:left;
}

<table>
    <tr>
        <td width="36px">..</td>
        <td>
            <div class="read">
            looooooooooooooooooooooooooooooooooooooooooooooooooooooooooog
            </div>
        </td>
    </tr>
</table> 
```

如果我删除 float:left;，背景将与内容的长度不匹配，但自动换行确实有效。如何修改我的 CSS？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:28:09.093

**添加**显示：内联；

```
 .read{
        min-height: 20px;
        margin-top: 10px;
        margin-bottom: 10px;
        margin-left: 10px;
        padding: 0px 10px 0px 10px;
        border-radius: 4px;
        background-image: -webkit-gradient(linear, 25% 0%, 25% 100%, from(rgba(142, 175, 196, 1.0)), to(rgba(118, 146, 164, 1.0)));
        **display:inline;**
    } 
```

# javascript - IE8 错误的远程页面渲染

> ID：11685257
> 
> 赞同：2
> 
> 时间：2012-07-27T09:43:06.030
> 
> 标签：javascript, css, internet-explorer-8

这可能与 ExtJS 没有任何关系，但我必须提供所有信息才能得到正确的答案：D。

我有一个使用 ExtJS 4.1 来显示一些网格面板的应用程序。

当我在 localhost 上运行应用程序时，一切看起来都正常。

当我在远程服务器上部署应用程序时，IE8 中不再按要求显示网格：所有信息都挤在表格中，与列对齐方式无关（列标题很好，但其他单元格重叠）。

**为了使事情更普遍：**

相同的应用程序在 localhost 上运行良好（无论在哪台计算机上），但是当我将它部署在服务器上时，IE8 不会按应有的方式显示内容。这是因为 CSS 或 JavaScript 文件（可能都与 ExtJS 有关）。

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T11:19:00.920

根据 OP 的要求，将此作为答案发布：

默认情况下，IE 运行时为 Intranet 站点启用了兼容性视图。这样做的原因可能是大多数使用 IE 的 Intranet 站点都是专门为 IE 编写的，因此当 IE 开始更接近标准时就会崩溃。

这可能会导致在本地查看的内容与在 Intranet（和 Internet）上查看的内容之间存在差异。这可以通过 Windows 组策略全面更改；有些组织可以接受这一点，有些组织不能/不会做出改变。

如果声明`meta http-equiv="X-UA-Compatible" content="IE=edge"`不能解决问题（如评论中所述），我将首先检查兼容性视图是否确实*存在*问题。

**其他可能性**
我假设您有正确的文档类型（例如 HTML 5 或 HTML 4 严格，尽管我相信其他人也可以正常工作）。这与“X-UA-Compatible”声明结合使用。

格式错误的标记会触发 Quirks Mode，这在几乎任何情况下看起来都很糟糕。情况可能并非如此，因为它在本地看起来不错，但很容易检查。确保您的文档是合理[有效](http://validator.w3.org)的，并且——更重要的是——在 DTD 之前没有前导字符（这会使解析器感到困惑）。不正确的服务器代码可能会导致数据在 HTML 之前写入响应流，从而导致此行为。

最后，将问题简化为最简单的形式，即找到导致该行为的最基本标记。如果这没有给您任何见解，请将损坏的代码发布到 JS Fiddle 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T11:55:22.447

如果是IE8，检查开发者工具文档模式，可能会进入怪癖模式。

# java - 一盒星号内的钻石。Java的数组程序，cmd

> ID：11685262
> 
> 赞同：-4
> 
> 时间：2012-07-27T09:43:17.273
> 
> 标签：java

输入数字：" " <- 如果我在这里输入 7，输出将是 7x7 的星号框。但条件是在那个星号盒子里面，有一颗钻石。

```
*******
*** ***
**   **
*     *
**   **
*** ***
******* 
```

使用数组的程序是什么？“导入 java.io.*……”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:46:54.087

我不会给出完整的代码，因为这看起来像家庭作业，但这里是您可以使用的一种可能算法的概述。

`(i, j)`对于网格中的每个位置，计算距钻石中心的[曼哈顿距离。](http://en.wikipedia.org/wiki/Taxicab_geometry)如果它超过了菱形的“半径”，打印一个`*`否则打印一个空格。

如果菱形的中心是`(x, y)`曼哈顿到该位置的距离，`(i, j)` 则由以下公式给出：

```
int distanceFromCenter = Math.abs(x - i) + Math.abs(y - j); 
```

请注意，如果您使用[欧几里得距离](http://en.wikipedia.org/wiki/Euclidean_distance)而不是曼哈顿距离的公式，您将得到一个圆形而不是菱形，尽管在 7x7 分辨率下可能很难看出这两种形状之间的差异。

# powershell - 在 PowerShell 中进行投射。奇怪的语法

> ID：11685265
> 
> 赞同：22
> 
> 时间：2012-07-27T09:43:34.070
> 
> 标签：powershell, casting, powershell-2.0

将 XML 从文件读取到变量中可以这样完成：

```
[xml]$x = Get-Content myxml.xml 
```

但为什么不：

```
$x = [xml]Get-Content myxml.xml 
```

这使：

```
Unexpected token 'Get-Content' in expression or statement.
At line:1 char:20
+ $x=[xml]get-content <<<<  myxml.xml
    + CategoryInfo          : ParserError: (get-content:String) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : UnexpectedToken 
```

也就是说，为什么在等号的左侧进行强制转换操作？通常在编程语言中，转换是在右手边完成的，比如在 Java 中（比如说）：

```
a = (String)myobject; 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-07-27T09:46:52.027

```
$x = [xml](Get-Content myxml.xml) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-07-25T02:43:32.340

在 PowerShell 中，一切都是对象。这包括[cmdlet](https://en.wikipedia.org/wiki/Windows_PowerShell#Cmdlets)。转换是将一种对象类型转换为另一种对象类型的过程。

这对转换意味着什么，就像在数学中一样，您可以添加不必要的括号来帮助您自己澄清到底发生了什么。在数学上，`1 + 2 + 3`可以变成`((1 + 2) + 3)`不改变其含义。

对于 PowerShell，转换是在下一个对象（右侧）上执行的，因此`$x = [xml] get-content myxml.xml`变为`$x = ([xml] (get-content)) myxml.xml`. 这表明您正在尝试将*cmdlet 强制*转换为`xml`对象，这是不允许的。

显然，这不是您想要做的，因此您必须*先执行*cmdlet *，然后再进行*转换，AKA `$x = [xml] (get-content myxml.xml)`。另一种方法`[xml] $x = get-content myxml.xml`是，将变量声明为类型`xml`，以便分配给它的任何内容（也就是等号的整个右侧）都将转换为`xml`.

# javascript - 在应用程序中存储 GPS 值以供全球使用

> ID：11685273
> 
> 赞同：0
> 
> 时间：2012-07-27T09:43:58.323
> 
> 标签：javascript, cordova

我正在使用 javascript 和 phonegap 编写 GPS 应用程序。我将实现这样的想法：
1）我创建了一些全局 js 变量，如 currentSpeed、经度、纬度等
2）每次触发 watchPosition 的 onSuccess 回调时，这些变量都会刷新（来自回调的“位置”参数的新值)
3) 然后，无论何时何地，我都可以在我的应用程序中使用这些全局值。

这个解决方案是否有意义，或者您会提出另一个概念？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:57:03.450

尝试使用[本地存储](https://developer.mozilla.org/en/DOM/Storage#localStorage)

它是**HTML5中的一项新功能**

```
// Setter
localStorage.setItem("key", "value");

// Getter
localStorage.getItem("key"); // value

// Remove
localStorage.removeItem("key"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:51:08.923

我更喜欢用一些访问器方法（getter 和 setter）封装变量

想象一下，沿着这条线的某个时间，您决定需要将纬度中的一个值调整 +2。不必更改对全局变量的每次访问，您只需更改 getLattitute() 方法的返回方式即可：

```
function getLattitude() {
    return _lattitude + 2;
} 
```

还要确保在数组中而不是直接传递参数，因为将来向数组添加另一个参数会更容易。

# jar - WSO2 开发人员工作室帐户服务示例缺少罐子

> ID：11685282
> 
> 赞同：3
> 
> 时间：2012-07-27T09:44:17.877
> 
> 标签：jar, wso2, wso2developerstudio

我是 WSO2 的新手，我正忙于做一些概念验证工作。我似乎在浏览开发人员工作室中的示例时遇到了问题，我确信它很容易解决，但我无法在任何地方找到有问题的 jar。

我已经设置了帐户服务示例，但该项目找不到任何所需的 wso2 jar（我觉得有点奇怪）。axiom-1.2.9-wso2v1.jar 就是一个例子。

任何指针将不胜感激。

谢谢保罗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-28T10:08:21.640

您必须使用 maven 构建帐户服务示例来下载依赖项

# javascript - WinJS.UI.ListView 在快照视图中不起作用

> ID：11685286
> 
> 赞同：0
> 
> 时间：2012-07-27T09:44:39.140
> 
> 标签：javascript, windows-8, microsoft-metro

我`WinJS.UI.ListView`在一个用于 Windows-8 Metro 界面的 JavaScript 项目中使用了一个。

这是 HTML 代码：

```
<div id="myMain">
    <div id="myListTemplate" data-win-control="WinJS.Binding.Template">
        <div class="myListViewItem">
            <p data-win-bind="innerText: description"></p>
        </div>
    </div>
    <div id="myListView"
        data-win-control="WinJS.UI.ListView"
        data-win-options="{ itemTemplate: myTemplate, layout: {type: WinJS.UI.ListLayout} }">
    </div>
 </div> 
```

和 JavaScript 的一部分：

```
ready: function (element, options) {
            // Set up the ListView.
            var myLView = myListView.winControl;
            WinJS.UI.setOptions(favoritesLView, {
                itemDataSource: dataSource,
                oniteminvoked: this.onItemInvoked.bind(this),
                selectionMode: WinJS.UI.SelectionMode.none
            });
        }, 
```

`dataSource`列表信息存储在哪里。它是从以下位置获得的列表： `var myList = new WinJS.Binding.List(myJSONarray);`

该代码在横向和纵向视图中工作，但在快照视图中不起作用。尽管`myList`包含所有元素，但列表视图显示为空。

这是 Windows 8 中的错误吗？有人知道解决方法吗？我发现这个链接有同样的问题，但它的解决方案对我不起作用： [http ://social.msdn.microsoft.com/Forums/pl-PL/winappswithhtml5/thread/ce8c722d-526b-4226-9e40-642ddb37422b](http://social.msdn.microsoft.com/Forums/pl-PL/winappswithhtml5/thread/ce8c722d-526b-4226-9e40-642ddb37422b)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T15:35:49.633

不显示 ListView 的一个原因是元素或任何父元素的显示设置为“无”。当元素再次可见时，您将需要调用 listView.forceLayout()。请参阅 MSDN 的以下说明， http: [//msdn.microsoft.com/en-us/library/windows/apps/hh758352.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh758352.aspx)

> 当您将 ListView 或其父元素的 style.display 属性设置为“none”时，应用会丢弃有关这些元素的布局信息。当您将 display 属性的值更改回使所有内容再次可见的样式时，应用程序将布局所有元素，但 ListView 不会收到有关当前布局的信息，并且布局无效。当您再次使 ListView 可见时，您可以通过调用此函数来解决此问题。

# regex - 创建一个接受 & 但不接受 +&+ 的正则表达式

> ID：11685296
> 
> 赞同：0
> 
> 时间：2012-07-27T09:45:23.360
> 
> 标签：regex

我正在尝试使用正则表达式解析字符串。我需要在 clean 之前获得第一部分`&`。清洁`&`没有`+`权利在它之前或之后。

干净的 ＆：

*   47&78
*   a+bc&gsd+f

不干净 ＆：

*   fA+&71
*   午睡&+系统

对于`Matisse+&+Sadko&sendtemp=1`正则表达式应该返回`Matisse+&+Sadko`.

我试过这样做，但它不起作用：

```
.*(?!\+)&(?!\+).* 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:51:02.507

这`(?!...)`是一个（否定的）前瞻表达式，它检查下一个字符是否（不）匹配。因此，您需要将那个字符添加到您的正则表达式中，因为 the`&`永远不是`+`：

```
(?!\+).&(?!\+) 
```

但这需要在 . 之前至少有一个字符`&`。更好地使用（负面）回顾：

```
(?<!\+)&(?!\+) 
```

阅读更多关于[Regex Lookaround](http://www.regular-expressions.info/lookaround.html)的内容。

如果您`&`从不在字符串的开头或结尾，您也可以只使用否定字符类：

```
.*[^+]&[^+].* 
```

...或者，如果可以的话，让它成为可选的：

```
^(?:.*[^+])?&(?:[^+].*)?$ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:51:23.480

所以，很好，你看看负面的前瞻，但它的任务更多（！）简单。
`[somesymbols]`- 这是一组符号，正则表达式接受。
`[^somesymbols]`- 这是一组符号，正则表达式不接受。
所以，只要写这个：`[^+]&[^+]`过滤你的字符串

# parsing - 解析！=在scala中

> ID：11685299
> 
> 赞同：1
> 
> 时间：2012-07-27T09:45:35.710
> 
> 标签：parsing, scala

我需要解析表单的语句

```
var1!=var2
var1==var2 
```

等等。我有以下构造：

```
lazy val Line : Parser[Any] = (Expr ~ "!=" ~ Expr)^^ {e => SMT( "(not (= " + e._1._1 + " " +  e._2 + "))")} | (Expr ~ "==" ~ Expr)^^ {e => SMT( "(" + (e._1._2) + " " + e._1._1 + " " +  e._2 + ")")} 
```

"==" 的第二部分工作得很好，返回 me `(== var1 var2)`，但第一部分只是不解析。无论我尝试解析什么而不是“！=”，都不会识别“！=”或“！=”或“！=”。

当然我可以在将它交给解析器之前替换“！=”，但是有没有更优雅的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T12:51:45.620

看看这个最小的例子（Scala 2.9.2）：

```
import scala.util.parsing.combinator.syntactical._
import scala.util.parsing.combinator._

sealed trait ASTNode

case class Eq(v1: String, v2: String) extends ASTNode
case class Not(n: ASTNode) extends ASTNode

object MyParser extends StandardTokenParsers {
  lexical.delimiters += ("==", "!=")

  lazy val line = (
      (ident ~ ("==" ~> ident)) ^^ { case e1 ~ e2 => Eq(e1, e2) }
    | (ident ~ ("!=" ~> ident)) ^^ { case e1 ~ e2 => Not(Eq(e1, e2)) }
  )

  def main(code: String) = {
    val tokens = new lexical.Scanner(code)

    line(tokens) match {
      case Success(tree, _) => println(tree)
      case e: NoSuccess => Console.err.println(e)
    }
  }
}

MyParser.main("x == y")
MyParser.main("x != y") 
```

# gwt - 在 gwt mvp4g 中读取客户端的属性文件

> ID：11685303
> 
> 赞同：0
> 
> 时间：2012-07-27T09:45:52.447
> 
> 标签：gwt, mvp4g

我在 gwt 中使用 Mvp4g，我想读取属性文件，但是如果我添加资源包代码，它会给我异常 java.lang.RuntimeException: Deferred binding failed for 'com.mvp4g.client.Mvp4gModule' （你忘记继承所需的模块？）但如果我删除资源包代码它工作正常。有没有办法做到这一点。

```
ResourceBundle rb = ResourceBundle.getBundle("com.opptin.client.socialsite");
String siteUrl = rb.getString("mode"); 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:24:15.340

`java.util.ResourceBundle`GWT 编译器不支持（如果您想知道模拟了哪些 Java API，请查看[JRE Emulation Reference](https://developers.google.com/web-toolkit/doc/latest/RefJreEmulation)）。

要在 GWT 客户端使用属性，您可以使用[com.google.gwt.i18n.client.Constants](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/i18n/client/Constants.html)。另一种方法是通过[com.google.gwt.i18n.client.Dictionary](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/i18n/client/Dictionary.html)直接从主机页面中选择 JavaScript 变量。

# java - Java中增强的for循环的语法是什么？

> ID：11685305
> 
> 赞同：39
> 
> 时间：2012-07-27T09:46:02.913
> 
> 标签：java, foreach

我被要求`for`在我的编码中使用增强循环。

我只被教过如何使用传统`for`循环，因此不知道它与增强`for`循环之间的区别。

**增强循环与Java 中`for`的传统循环有何不同？`for`**

有没有我应该注意哪些教程往往没有提到的复杂性？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-07-27T09:48:13.817

增强的 for 循环：

```
for (String element : array) {

    // rest of code handling current element
} 
```

传统的 for 循环等效：

```
for (int i=0; i < array.length; i++) {
    String element = array[i]; 

    // rest of code handling current element
} 
```

看看这些论坛：[https ://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with](https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with)

[http://www.java-tips.org/java-se-tips/java.lang/the-enhanced-for-loop.html](http://www.java-tips.org/java-se-tips/java.lang/the-enhanced-for-loop.html)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-27T09:52:16.950

增强的`for`循环只是限制括号内的参数数量。

```
for (int i = 0; i < myArray.length; i++) {
    System.out.println(myArray[i]);
} 
```

可以写成：

```
for (int myValue : myArray) {
    System.out.println(myValue);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-01T23:56:01.163

1.  增强的 For 循环 (Java)

```
for (Object obj : list); 
```

2.  增强了数组列表中的每个 (Java)

```
ArrayList<Integer> list = new ArrayList<Integer>(); 
list.forEach((n) -> System.out.println(n)); 
```

# sql-server-2008 - 如何在 SQL Server 2008 中将 varchar 时间转换为时间

> ID：11685309
> 
> 赞同：1
> 
> 时间：2012-07-27T09:46:08.667
> 
> 标签：sql-server-2008

我有`decimal`时间，我可以转换成`time`. 但是我需要将转换后的时间插入到具有`time`数据类型列的表中

```
DECLARE @hours decimal(15,4)
SELECT @hours = 20.5 //20 Hrs and 30 mins

SELECT    
    RIGHT('00' + CONVERT(varchar(2), FLOOR(@hours)), 2) + ':' +
    RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60))), 2) + ':' +
    RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60) - FLOOR(((@hours - FLOOR(@hours)) * 60))) * 60), 2) AS Time 
```

这是我需要将值插入到的临时表：

```
create table #timetest(timetest time)

insert into #timetest
  SELECT    
      RIGHT('00' + CONVERT(varchar(2), FLOOR(@hours)), 2) + ':' +
      RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60))), 2) + ':'   +
      RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60) - FLOOR(((@hours - FLOOR(@hours)) * 60))) * 60), 2) 
```

我收到此错误：

> 从字符串转换日期和/或时间时转换失败。

请帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:53:50.663

我相信你的`TIME`价值观不能超过 24 小时......

检查[MSDN 文档`TIME`](http://msdn.microsoft.com/en-us/library/bb677243.aspx)：

> *范围 00:00:00.0000000 到 23:59:59.9999999*

**更新：**如果您将时间更改为少于 24 小时，您可以像这样插入：

```
create table #timetest(timetest time)

insert into #timetest(timetest)
  SELECT     
     CAST(RIGHT('00' + CONVERT(varchar(2), FLOOR(@hours)), 2) + ':' +
          RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60))), 2) + ':'   +
          RIGHT('00' + CONVERT(varchar(2), FLOOR(((@hours - FLOOR(@hours)) * 60) - FLOOR(((@hours - FLOOR(@hours)) * 60))) * 60), 2) AS TIME) 
```

你需要明确`CAST`你的字符串`AS TIME`，然后一切都应该正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:14:07.393

```
declare @hours decimal(15,4)

set @hours = 20.5 --20 Hrs and 30 mins

create table #timetest(timetest time(0))

insert into #timetest(timetest) values(cast(@hours/24 as datetime))

select * from #timetest

drop table #timetest 
```

结果：

```
20:30:00 
```

# mysql - MySQL 在计算列的别名上使用内连接

> ID：11685310
> 
> 赞同：11
> 
> 时间：2012-07-27T09:46:15.897
> 
> 标签：mysql, sql, group-by, alias

我有一个这样的查询：

```
SELECT User.id, 10*10 as distance
FROM USERS
INNER JOIN
(
    SELECT Location.user_id,
    min(10 * 10) as mindistance
    FROM Location
    GROUP BY Location.user_id
 ) L ON Users.id = Location.user_id AND distance = L.mindistance 
```

如果我保持原样，我会不断得到：

```
Unknown column 'distance' in 'on clause' 
```

但是，如果我把 User.distance 而不仅仅是距离，我得到：

```
MySQL syntax error near.... 
```

我不能在计算字段上以这种方式使用别名吗？10 * 10 只是一个简单的占位符，因为计算要复杂得多。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-27T10:03:01.547

您正在尝试在`ON`子句中使用列别名。[MySQL 文档](http://dev.mysql.com/doc/refman/5.7/en/join.html)对这种情况有这样的说法：

> 使用的*conditional_expr*`ON`是可以在 WHERE 子句中使用的任何形式的条件表达式。

[还有](http://dev.mysql.com/doc/refman/5.6/en/problems-with-alias.html)：

> 标准 SQL 不允许在 WHERE 子句中引用列别名。施加此限制是因为在评估 WHERE 子句时，可能尚未确定列值。例如，以下查询是非法的：

也就是说，您*可以*使用变量来计算`ON`子句中的表达式，然后使用列列表中的值，如下所示：

```
SELECT User.id, @dist as distance
FROM USERS
INNER JOIN
(
    SELECT Location.user_id,
    min(10 * 10) as mindistance
    FROM Location
    GROUP BY Location.user_id
 ) L ON Users.id = Location.user_id AND (@dist := 10*10) = L.mindistance 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-27T10:00:26.943

为避免在查询中进行三次计算，您可以将外部计算包装在`FROM`子选择中，这将使您能够访问别名字段名称（在原始查询中无法访问）：

```
SELECT a.*
FROM
(
    SELECT id, 10*10 AS distance
    FROM USERS
) a
INNER JOIN
(
    SELECT user_id,
    MIN(10 * 10) AS mindistance
    FROM Location
    GROUP BY user_id
) L ON a.id = L.user_id AND a.distance = L.mindistance 
```

在这里，计算只进行了两次而不是三次。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:52:19.073

```
SELECT User.id, 10*10 as distance 
FROM USERS 
INNER JOIN 
( 
    SELECT Location.user_id, 
    min(10 * 10) as mindistance 
    FROM Location 
    GROUP BY Location.user_id 
 ) L ON User.id = Location.user_id AND L.mindistance =10*10 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T09:58:28.353

您不能在查询 where 子句中使用派生值 - where 用于限制记录和使用哪些索引 - 派生值不能被优化器使用，因此您需要过滤最终结果。

不太确定您在做什么，但请尝试以下操作：

```
SELECT User.id, 10*10 as distance 
FROM USERS 
INNER JOIN 
( 
    SELECT Location.user_id, 
    min(10 * 10) as mindistance 
    FROM Location 
    GROUP BY Location.user_id 
) L ON User.id = Location.user
HAVING USERS.distance = L.mindistance 
```

# c# - C#：将一个接口继承给另一个将充当 wcf 接口的接口

> ID：11685319
> 
> 赞同：0
> 
> 时间：2012-07-27T09:46:52.383
> 
> 标签：c#, inheritance, interface, method-hiding

我已经问了一些与此相关的问题，但仍然没有确凿的答案，所以这里有一个更简单的问题。

考虑一下。我有2个接口。一个描述一个道。一种是 wcf 接口。wcf 接口继承了 dao 接口，以便使用 wcf 属性公开其方法。因为它是一个 wcf 接口，我当然必须再次声明这些方法，以便在它们上放置 wcf 属性，例如 [OperationContract]。结果，我实际上隐藏了以前的接口方法，并且必须在它们上放置“新”关键字。在这种情况下这样做是否正确。我需要能够通过 wcf 接口呈现 dao 接口方法，因此是继承它的原因。我想强制 wcf 接口公开这些功能。看来我的手很紧，我必须使用这种方法才能暴露这些方法，但你怎么看？

在代码方面，它看起来像这样：

```
//The dao interface
public interface IMyDao
{
    void Foo();
}

//The wcf interface which implements/extends the IMyDao interface in order to add wcf attributes
[ServiceContract]
public interface IMyWCF : IMyDao
{
    [OperationContract]
    new void Foo();
}

//The dao class that implements the dao interface
public class MyDao : IMyDao
{
    public void Foo()
    {
        //Do something
    }
}

//The class implements the wcf interface. Makes calls to the dao.
public class MyWCF : IMyWCF
{
    public void Foo()
    {
        MyDao myDao = new MyDao();

        myDao.Foo();  
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:49:21.783

使用 2 个接口 - 不要为 DAO 和 WCF 合约共享一个接口

包括一个将 WCF 服务调用传递给 DAO 的包装器。

例如，如果您的 DAO 具有以下方法：

```
public interface IMyDAO
{
    MyObject GetMyObjectById(int Id);
} 
```

您将拥有具有相同签名的运营合同：

```
public interface IMyWCFContract 
{
    [OperationContract]
    MyObject GetMyObjectById(int Id);
} 
```

然后你会有一个包装类：

```
public class MyWCFService : IMyWCFContract
{
     private MyDAO dao;

     public MyWCFService()
     {
        dao = new MyDAO(); 
     }

     public MyObject GetMyObjectById(int id)
     {
        return dao.GetMyObjectById(id);
     }
} 
```

另一种计划可能是考虑使用[RESTFUL](http://www.codeproject.com/Articles/105273/Create-RESTful-WCF-Service-API-Step-By-Step-Guide)服务。

# c# - 查找文件的dll版本

> ID：11685322
> 
> 赞同：0
> 
> 时间：2012-07-27T09:46:57.613
> 
> 标签：c#, dll, compact-framework, windows-ce, .net-cf-3.5

我想在指定路径时找到 dll 版本。假设 path = "progfiles/harry/sample.dll"。如何找到 sample.dll 版本。由于我使用的是 .net framework 3.5 SP1，因此无法使用 FileVersionInfo。我尝试了 Assembly.LoadFrom。但是我面临的 LoadFrom 问题是“如果已经加载了具有相同标识的程序集，即使指定了不同的路径，LoadFrom 也会返回加载的程序集。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:08:20.760

无论如何，您可以将您的程序集加载到*另一个*AppDomain 中。

```
var domain = AppDomain.CreateDomain("tmp");
var version = domain.Load().GetName(path).Version; 
```

* * *

**编辑：**

您的目标是 Windows CE，因此可以使用[GetFileVersionInfo](http://msdn.microsoft.com/en-us/library/aa910661.aspx)函数。

[以下](http://blog.opennetcf.com/ctacke/2010/09/28/GettingNativeFileInfoInTheCompactFramework.aspx)是如何在 .Net/C# 中使用此函数的完整代码示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T12:51:52.480

您可以使用`AssemblyName`：

```
var assemblyName = AssemblyName.GetAssemblyName(assemblyPath);
System.Diagnostics.Debug.WriteLine(assemblyName.Version); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:53:55.570

Example code to find version of DLL library:

```
Version ver = Assembly.LoadFrom("Library.dll").GetName().Version; 
```

Edit 1: OK, for getting already executing assembly you can try this example:

```
Assembly SampleAssembly;
SampleAssembly = Assembly.GetAssembly(ObjectLoadedFromDLL.GetType());
Version ver = Assembly.GetExecutingAssembly().GetName().Version; 
```

And links to MSDN this full documentation of this method: [Assembly.GetExecutingAssembly Method](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getexecutingassembly.aspx)

# grails - 标签：如何将值设置为国家名称而不是国家代码

> ID：11685324
> 
> 赞同：2
> 
> 时间：2012-07-27T09:47:09.580
> 
> 标签：grails

在我看来，我不想在表单中使用普通`<g:textField>`字段，而是想使用 Grails 的`<g:countrySelect>`小部件。

## 我的问题

```
<g:countrySelect name="country" value="${myObjInstance?.country}"/> 
```

...产生...

```
<select name="country" id="country">
   <option value="afg">Afghanistan</option>
   <option value="alb">Albania</option>
   ...
</select> 
```

这意味着，当提交表单时，它会将值指定为国家代码（例如“afg”）而不是国家名称（“Afghanistan”）。我更喜欢使用完整的国家名称作为值。如果可能的话，我该如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T11:29:56.017

另一种选择是使用[ISO_3166 国家代码](https://github.com/TakahikoKawasaki/CountryCode)s 的枚举来获取完整的描述。例如：

```
CountryCode.getByCode(params.country).getName() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:34:45.707

我不相信 taglib 原样给你这种能力。您要么需要扩展它，要么使用您自己的 Country 集合 + <g:select />

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T12:17:26.950

要回答我自己的问题...

这些值可以保持原样（国家代码），然后只使用国家代码。在您的视图中，您可以使用 grails`country()`方法来显示国家名称，例如

假设国家代码是“afg”（保存在表中的值）。在您看来（GSP），您可以使用

```
<div>${country(code: fieldValue(bean: myObjInstance, field: "country"))}</div> 
```

这将打印出来

```
<div>Afghanistan</div> 
```

* * *

代替

```
<div>${fieldValue(bean: myObjInstance, field: "country")}</div> 
```

...之前使用过：

```
<div>afg</div> 
```

# c++ - 如何在这个算法难题中应用背包法？

> ID：11685325
> 
> 赞同：0
> 
> 时间：2012-07-27T09:47:10.577
> 
> 标签：c++, c, algorithm

假设您有一个项目列表以及它们的`Weights[]`和`Price[]`。现在给定两个整数`N<=100`，`K<=100`你必须找到你应该花费的最小金额，使得你购买的物品的总重量正好等于 K 并且物品的数量不超过 N 并且如果不可能满足给定的条件只需打印一个`IMPOSSIBLE`. 您可以根据需要多次购买每件商品。

请告诉我如何在这个问题中应用背包，如果不是背包问题，那么如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:52:48.533

```
dp[i] = minimum money you have to pay to get weight i

dp[_] = infinity

for i = 1 to N do
  for j = item[i].weight to MaxWeight do
    dp[j] = min(dp[j], dp[j - item[i].weight] + item[i].price) 
```

如果`dp[K] != infinity`，那是你的解决方案，否则没有解决方案。实际效率取决于您的计算`MaxWeight`方式：要么将所有项目权重相加，要么尝试对其进行更智能的计算。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:55:33.690

您想要一个动态规划 (DP) 解决方案，而不是完全是背包问题。不过，背包有一个 DP 解决方案。

您的情况的解决方案是形成必要的重复。由于您的目标是最小化金钱，因此每个状态转换都将增加重量和项目编号以形成新状态。

所以，你的状态空间是：`DP[Weight][Item]`

编码留作练习。

# javascript - 如何隐藏href不出现在浏览器窗口的底部

> ID：11685327
> 
> 赞同：0
> 
> 时间：2012-07-27T09:47:26.540
> 
> 标签：javascript, href, statusbar

我在单击锚标记时执行一些 javascript 并用于`href="javascript:void(null);"`禁用锚标记。

现在，如果我将鼠标悬停在锚标记上，浏览器状态栏将显示`javascript:void(null)`.

有没有办法从状态栏中隐藏它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:52:05.400

使用事件而不是 href 属性。jQuery 示例：

```
<a href="#" id="link">I'm a link</a>

$('a#link').click(function(ev) {
    ev.preventDefault();
    .... 
    do whatever you want
    ....
}); 
```

编辑：为了完整起见，这里是一个纯 JavaScript 解决方案，如下面的评论中提到的：

```
document.getElementById('link').onclick = function(ev) {
    ev.preventDefault(); 
    // other stuff 
}; 
```

# html - Internet Explorer 不正确地呈现元素的宽度

> ID：11685329
> 
> 赞同：0
> 
> 时间：2012-07-27T09:47:32.263
> 
> 标签：html, css, internet-explorer

我希望这只是一个噩梦，但是当我在 Photoshop 中测量这两个元素的宽度时，我得到的尺寸不正确。

```
 <!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Untitled Document</title>

<style>* { margin: 0; padding: 0; border: 0: border-collapse:collapse;}</style

</head>

<body>

  <table width="129" border="0" cellpadding="0" cellspacing="0" style="width:129px; height:18px;background-color:black;">
    <tr>
        <td>&nbsp;</td>
    </tr>
</table>
Renders above table as 134 pixels

<br/>

<div style="width:29px;height:18px;background-color:Black;"></div>
    ​
Renders above div as 30 pixels
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:18:50.203

您的浏览器缩放级别是 100% 吗？使用 IE7/8/9 进行测试，测量结果与 129 像素和 29 像素匹配，但放大了一级（105%），它们变成了您提到的 134 像素和 30 像素。

# android - 小按钮上的 Android 提示（如在键盘上）

> ID：11685332
> 
> 赞同：0
> 
> 时间：2012-07-27T09:47:39.987
> 
> 标签：android, popup, android-softkeyboard

当您在小屏幕上使用标准 Android 键盘时，如果您触摸一个按钮，您会看到一个提示，显示您现在按住哪个按钮。如何在我的自定义按钮集上实现这一点？唯一的方法是在每个触摸事件上创建弹出窗口吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T18:57:40.520

Android 中的常规按钮没有内置弹出功能，所以是的，您必须手动实现。但是，您不必为每个触摸事件创建弹出窗口。我建议创建一个弹出窗口并在每个触摸事件上更改其位置和可见性。

# javascript - 如果放在错误的位置，如何使可拖动的恢复

> ID：11685333
> 
> 赞同：1
> 
> 时间：2012-07-27T09:47:40.160
> 
> 标签：javascript, jquery, jquery-ui, drag-and-drop

我的拖放游戏中的draggables应该只能放在css突出显示的指定区域中。

```
$('.drag').draggable({

helper: 'clone',
snap: '.drop',
grid: [60, 60],
revert: 'invalid'
});

$('.drop').droppable ({
drop: function(event, ui) {
    word = $(this).data('word');

   }
}); 
```

CSS 样式称为 .showword，触发它的点击事件称为“#picknext”。

**如果它没有放在样式区域中，我将如何让可拖动对象恢复的任何想法？**

像这样的东西...

```
$('#picknext').click({
drop: function(event, ui) {
    word = $(this).data('word');
}       

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:52:55.930

这是应该让你开始的东西。

[http://jqueryui.com/demos/droppable/#revert](http://jqueryui.com/demos/droppable/#revert)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:59:58.850

`revert`如该选项帮助中所述，您不想为您的属性设置一个函数，而是将其设置为无效：http: [//docs.jquery.com/UI/Draggable#option-revert](http://docs.jquery.com/UI/Draggable#option-revert)

# php - 检查 php 中是否存在 url 的一部分

> ID：11685337
> 
> 赞同：1
> 
> 时间：2012-07-27T09:47:57.970
> 
> 标签：php

我有一个网址：

```
http://abv.com/ 
```

如何检查是否`/en/`在 URL 中，例如：

```
 http://abv.com/en/ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:51:44.660

您可以使用`strpos()`.

```
$mystring = 'abc';
$findme   = 'a';
$pos = strpos($mystring, $findme);

// The !== operator can also be used.  Using != would not work as expected
// because the position of 'a' is 0\. The statement (0 != false) evaluates 
// to false.
if ($pos !== false) {
     echo "The string '$findme' was found in the string '$mystring'";
         echo " and exists at position $pos";
} else {
     echo "The string '$findme' was not found in the string '$mystring'";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:49:16.460

您可以获取 URL 并用斜杠分割它 - 使用该`.explode()`函数。

```
$url =  'http://abv.com/en/';
$urlParts = explode('/',$url);
array_shift($urlParts);
array_shift($urlParts); 
```

由于双斜杠，使用`array_shift()`两次删除不需要的和空白项...`http`

```
Array
(
    [0] => abv.com
    [1] => en
    [2] =>
) 
```

* * *

[`.parse_url()`](http://php.net/manual/en/function.parse-url.php)还具有一些处理 URL 字符串的有用功能。你也应该检查一下。

```
$url =  'http://abv.com/en/';
$urlParts = parse_url($url);
$pathParts = explode('/',$urlParts['path']); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:51:12.747

最简单的方法是使用[`strpos()`](http://php.net/strpos)：

```
if (strpos($url, '/en/') !== false) {
    // found!
} 
```

但是，如果您只想检查路径，使用[`parse_url()`](http://php.net/parse_url)可能会有所帮助：

```
if (strpos(parse_url($url, PHP_URL_PATH), '/en/') !== false) {
    // found in the path!
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T09:53:14.523

您可以使用 php explode 函数分隔 url，然后检查 url 是否包含“en”（国家代码）。

```
$url = 'http://abv.com/en/';
          $expurl = explode('/', $url);
          print_r($expurl);            
          foreach ($expurl as $key => $value) {
            if ($value == 'en') {
              # do what you want
            }
          } 
```

数组结果

```
 Array ( [0] => http: [1] => [2] => abv.com [3] => en [4] => ) 
```

# gwt - 在 GWT 中管理许多小部件

> ID：11685338
> 
> 赞同：2
> 
> 时间：2012-07-27T09:47:58.640
> 
> 标签：gwt

假设我们在 GWT 应用程序中具有以下小部件/面板结构 -

*   DockLayoutPanel 左侧的树菜单，用于导航到不同的应用程序。
*   DockLayoutPanel 中心的面板和在此面板中加载的不同内容小部件（这由导航树菜单控制。
*   这些内容小部件是包含一个或多个小部件的组合。

处理此类应用程序的一种方法是为所有小部件/面板保留单例，这意味着组合将为其所有子小部件保留单例。但我觉得这是对单例的过度使用。另一种选择是在每次需要时构造新的 Widget 对象，但这一定很昂贵。

这方面的最佳实践是什么？是否有任何标准模式可以解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T13:20:34.823

> 另一种选择是在每次需要时构造新的 Widget 对象，但这一定很昂贵。

你会感到惊讶。虽然 Widget 创建不是免费的，但在大多数情况下，它非常便宜，即使在 DevMode 中也是如此。在 DevMode 中创建一些小部件的成本很高（特别是 FlexTable/Grid），但是一旦你编译了应用程序，这些小部件的速度就会大大加快。

似乎没有任何专门针对此的模式，我也不能指出任何一位大师给出了最佳实践，但是在我们的应用程序中，我们之前将所有顶级小部件都视为单例，这导致了很多问题我们。（管理不同屏幕之间的状态，处理事件总线事件，未清除时屏幕上的陈旧数据）

我们只是重构了大部分代码，以便更多地按需创建（随后在不再需要时销毁），我们获得了更简单的代码和更快的启动时间。

最后，如果您确实按需创建小部件，在某些情况下您可能需要通过将这些小部件设置为单例来提高性能，但我认为您会发现只有少数情况值得付出努力。

总而言之，不要以为没有尝试过就会很慢，也不要抢先优化你的代码。

# ruby - 识别哪个 sidekiq 进程属于哪个应用程序

> ID：11685347
> 
> 赞同：3
> 
> 时间：2012-07-27T09:48:16.100
> 
> 标签：ruby, background-process, sidekiq

我的系统上运行了 5 个以上的应用程序，这些应用程序`Sidekiq`用于后台进程。如何识别哪个`sidekiq process`属于哪个应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T17:44:21.330

我不能给你一个“调用这个 Sidekiq 方法”之类的答案，但我可以给你一个方法。使用 Sidekiq 服务器中间件，您可以创建一个 Redis 键（例如“Process_”）并为其分配应用程序的名称，然后只需查找键的值即可确定是哪个应用程序创建了它。如果您想反其道而行之，请根据应用名称（例如“application_”）创建一个密钥作为集合，并将进程 ID 添加为成员。Sidekiq Wiki 中有服务器中间件使用示例，您可以深入挖掘 Sidekiq 代码并参考 Redis 文档确定如何在 Redis 中设置密钥。

希望这可以帮助。

# asp.net - 如何获取网站中每个页面的浏览量

> ID：11685352
> 
> 赞同：1
> 
> 时间：2012-07-27T09:48:21.953
> 
> 标签：asp.net, google-api

我正在使用谷歌分析代码跟踪我的网站。我想显示用户访问我网站页面的每个页面的浏览量。google api 是否提供任何代码来显示网站中每个页面的浏览量？有人可以帮我吗？

我使用了以下代码

```
 DataQuery dataQuery = new DataQuery(dataFeedUrl);
        dataQuery.Ids = profileId;
        dataQuery.Metrics = "ga:pageviews";
        dataQuery.Dimensions = "ga:pagePath";
        dataQuery.Sort = "ga:browser,ga:pageviews";
        dataQuery.GAStartDate = DateTime.Now.AddDays(-30).ToString("yyyy-MM-dd");
        dataQuery.GAEndDate = DateTime.Now.ToString("yyyy-MM-dd"); 
```

但它抛出异常如下请求执行失败：[https](https://www.google.com/analytics/feeds/data) ://www.google.com/analytics/feeds/data ？维度=ga:pagePath&end-date=2012-07-27&ids=ga:46119231&metrics=ga:pageviews&sort=ga:browser,ga:pageviews&start-date=2012-06-27

你能帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:53:12.397

您可以使用[Google 分析核心报告 API](https://developers.google.com/analytics/devguides/reporting/core/v3/)来执行此操作。

根据页面上的文档

> 查询维度和指标
> 
> 您查询 API 以获取由维度和指标组成的 Google Analytics（分析）报告数据。指标是对您网站上访问者活动的单独衡量，**例如访问次数和综合浏览量**。维度按一些常见标准（例如国家/地区或浏览器）细分指标。构建查询时，您可以指定报告数据中需要的维度和指标。

所以我想你应该可以做到

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:57:38.020

请访问[此](http://www.mikesdotnetting.com/Article/119/Displaying-Google-Analytics-Data-in-ASP.NET)以在 Asp.net 中检索数据，对于 php，您可以拥有[此](http://davidwalsh.name/php-google-analytics)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-29T04:46:39.913

您的获取维度列表中没有`ga:browser`，并且您正在尝试按该字段进行排序。将其添加到您的维度，或将其从您的排序标准中删除，应该可以解决问题。

# python - Python 2.7 print() error

> ID：11685359
> 
> 赞同：5
> 
> 时间：2012-07-27T09:48:34.420
> 
> 标签：python, linux, python-2.7, opensuse

I have a strange error using `sep`, `file`, (etc.) arguments of python's `print()` function. I tried to google it out, dag around stackoverflow, and read [python's documentation](http://docs.python.org/library/functions.html) but I came up with nothing. I have attached a simple snippet, I would deeply appreciate any help.

```
# python
Python 2.7.2 (default, Aug 19 2011, 20:41:43) [GCC] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> print("blah"*10, sep=" | ")
  File "<stdin>", line 1
    print("blah"*10, sep=" | ")
                        ^
SyntaxError: invalid syntax 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-27T09:50:04.323

尝试：

```
from __future__ import print_function 
```

第一的

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-27T09:52:19.963

在 2.x 系列中，`print`是一个语句，而在 3.x 中，它是一个函数。如果您希望在 2.6+ 中具有`print`函数，请使用`from __future__ import print_function`作为第一个 import 语句。

**预计代码会中断**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:52:49.433

print 函数是 Python 3 特有的。这里有两种解决方案：

写

```
from __future__ import print_function 
```

因此您可以按照 cdarke 的指定使用它。

或者您使用 print 作为一个简单的语句，因为它应该在旧版本的 Python ( `print "Hello World"`) 中使用。

# oracle - oracle中的动态分页问题

> ID：11685363
> 
> 赞同：0
> 
> 时间：2012-07-27T09:49:07.333
> 
> 标签：oracle

下面是oracle存储过程，

这里我传递的表名是动态的。

```
PROCEDURE LG_UTIL_GET_TABLE
(
    p_table_name VARCHAR,     
    pageNumber Number,
    pageSize Number,
        p_cursor OUT types.cursor_type
)
AS    

BEGIN

  OPEN p_cursor FOR     

  SELECT * FROM
    SELECT a.*, rownum r__

FROM
    (

        'Select * from ' || p_table_name

    ) a
    WHERE rownum < ((pageNumber * pageSize) + 1 )

WHERE r__ >= (((pageNumber-1) * pageSize) + 1)      ;

END ; 
```

但是存储过程没有编译。

因为这条线，

```
Select * from ' || p_table_name 
```

相反，如果我使用此查询

```
Select * from Customer 
```

, 它被编译

但表名应该是动态的。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:01:02.203

您在同一个游标中混合了动态和静态 SQL，您不能这样做。让它像这样动态：

```
PROCEDURE LG_UTIL_GET_TABLE
(
    p_table_name VARCHAR,     
    pageNumber Number,
    pageSize Number,
        p_cursor OUT types.cursor_type
)
AS    

BEGIN

  OPEN p_cursor FOR     

  'SELECT * FROM
    SELECT a.*, rownum r__
    FROM
    ( Select * from ' || p_table_name || ') a
    WHERE rownum < ((:pageNumber * :pageSize) + 1 )
    WHERE r__ >= (((:pageNumber-1) * :pageSize) + 1)'

    USING pageNumber, pageSize, pageNumber, pageSize;

END ; 
```

请注意，您现在对值使用绑定变量。

# android - Retrieving data from two tables with a condition

> ID：11685366
> 
> 赞同：1
> 
> 时间：2012-07-27T09:49:14.070
> 
> 标签：android, database

In my application I have to check condition using entries in database table.
So I have to retrieve data from 2 tables in the database.
From table 1 I am retrieving and showing data in a listview using a simple cursoradapter. From table 2 I have to just retrieve the data from table and I have to check the condition. When I tried to retrieve data from 2 tables it always returns 1st entry in the table. Please help me..

My code is as follows:

```
 Cursor c = db.getExpensetitle(intent.getStringExtra("grpsdbexp"));------->This is from table2 to show in listview.
            startManagingCursor(c);    

             from = new String[] {db.KEY_DATE,db.KEY_DESC,db.KEY_INCOME,db.KEY_QUANTITY,db.KEY_ROWID};
             to = new int[] {R.id.text1 ,R.id.text3,R.id.text5,R.id.text7,R.id.text11};

                  SimpleCursorAdapter notes =
                          new SimpleCursorAdapter(this, R.layout.columnviewexp, c, from, to)
{
    @Override
  public void bindView(View view, Context context, Cursor cursor)
    {
      String reurrence= cursor.getString(cursor.getColumnIndex("recurrence"));   
      float total=Float.valueOf(cursor.getString(cursor.getColumnIndex("total"))); 
      TextView text1=(TextView)view.findViewById(R.id.text1);
      TextView text3=(TextView)view.findViewById(R.id.text3);
      TextView text5=(TextView)view.findViewById(R.id.text5);
      TextView text7=(TextView)view.findViewById(R.id.text7);
      TextView text9=(TextView)view.findViewById(R.id.text9);
      TextView text11=(TextView)view.findViewById(R.id.text11);

      TextView recccind=(TextView)findViewById(R.id.reccurind);    
      String text=null;      
      String recctotal;
      if(reurrence.equals("true"))
      {      
          Cursor c1=db.recctable();----------------->This is from table1.
          startManagingCursor(c1);    
          String date=c1.getString(c1.getColumnIndex("startdate"));---->This always returns 1st entry in the table.
          String type=c1.getString(c1.getColumnIndex("recurrencetype"));

          int recc=                     Integer.parseInt(c1.getString(c1.getColumnIndex("increment")));       
          SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
          String currentDateandTime = sdf.format(new Date());
          Calendar cal=Calendar.getInstance();
             Date dt=null;
            try 
            {
                dt = sdf.parse(date);
                cal.setTime(dt);
            } catch (ParseException e) 
            {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }   

            int daysInSameMonth=0;
            for(int i=1;i<recc;i++)
            {
                 int currentDay= cal.get(Calendar.DAY_OF_MONTH);
                 int lastDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);     
                 daysInSameMonth++;
                 if(type.equals("Daily"))
                 {          
                  cal.add(Calendar.DAY_OF_MONTH, 1);                 
                  if(currentDay==lastDay)
                     {               
                       break;
                     }  
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:58:44.390

您需要循环光标：

```
List<String> dates = new ArrayList<String>();
List<String> types = new ArrayList<String>();
    while( c1.moveToNext()){
        dates.add(c1.getString(c1.getColumnIndex("startdate")));
        types.add(c1.getString(c1.getColumnIndex("recurrencetype")));
    } 
```

或这个：

```
c1.moveToFirst();
 while (c1.isAfterLast() == false) {
 //your code to store the values here 
 c1.moveToNext(); 
} 
```

# c++ - 调用复制 ctor 和另一个 ctor

> ID：11685371
> 
> 赞同：0
> 
> 时间：2012-07-27T09:49:21.960
> 
> 标签：c++, copy-constructor

我在我的代码中定义了一个复制构造函数，它正在初始化正在创建的对象的数据成员。现在，如果我只需要更改几个变量的值，我正在编写一个新的复制 ctor。所以我的问题是，我可以只初始化特定的不同数据成员，而对于其他人，我可以在我的 ctor 方法中调用定义的一个 ctor，而不是再次编写相同的代码。

示例：已经存在

```
A::A(const A& cpy)
{ 
 a=cpy.a;
 b=cpy.b;
 c=cpy.c
} 
```

现在我想把我的 ctor 写成

```
A::A(const A& cpy, bool x)
{
   if( x)
      a=something;
   else
      a =cpy.a
   //call first ctor for other variables (b and c)
} 
```

谢谢鲁奇

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:59:54.270

在 C++11 中，您可以在初始化列表中调用构造函数：

```
class Foo
{
public:
    Foo(int a) {}
    Foo(int a, int b) : Foo(a) {}
}; 
```

但是，您的代码存在问题，那就是您尝试创建一个带有额外参数的复制构造函数。它不再是一个复制构造函数，而是一个带有两个参数的普通构造函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:57:07.950

从 C++11 开始，您可以执行以下操作：

```
class A 
{
    public:

          A(const A& cpy) { a=cpy.a; b=cpy.b; c=cpy.c; }  
          A(const A& cpy, bool x): A(cpy) { a = something_else; }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:59:00.567

您可以通过在复制构造函数中使用默认参数来做到这一点，例如

```
A::A(const A& cpy, bool x = false)
{
   if( x)
      a=something;
   else
      a =cpy.a
   //call first ctor for other variables (b and c)
} 
```

你可以像这样调用它

```
A objA;
 A b(objA, true);       // b gets a shallow copy of a 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T09:59:13.747

复制构造函数可能已经默认了更多参数：

```
A::A(A const & rhs, bool x = false)
{
    a = x ? FOO : BAR;
} 
```

也许这可以帮助您简洁地编写代码......

# c++ - Auto_ptr 到外部 C 结构

> ID：11685372
> 
> 赞同：0
> 
> 时间：2012-07-27T09:49:24.760
> 
> 标签：c++, memory, destructor, auto-ptr

我想创建`Auto_Ptr`一个遗留 C`struct;`我只有头文件和静态库，所以我不能修改源代码。我想知道如果我打电话或不会`auto_ptr`自动尝试打电话？C 不存在此析构函数。我当前的解决方案是编写一个提供析构函数接口的 C++ 包装类（在内部它使用库特定的 C 方法来释放内存并销毁其他资源）。有更好的方法吗？或者这个问题已经被等解决了？`Destructor ~foo()``p.release()``p.reset()``struct``Boost`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:52:17.740

用 c++ 编译时仍然存在隐式析构函数，所以没问题。如果结构是用 分配的`new`，那就是。

# wpf - 如何知道具有扩展选择模式的 DataGrid 中的选定项？

> ID：11685373
> 
> 赞同：1
> 
> 时间：2012-07-27T09:49:36.080
> 
> 标签：wpf, mvvm, datagrid

我在 WPF 项目中有一个数据网格，并且我正在使用 MVVM 模式。我希望能够在代码中选择多行，以了解选择了哪些行。为此，我在 dataGrid 中将扩展值设置为 selectionMode 属性。

我还使用 MVVM light 将事件 selectionChanged 转换为命令，并将 SelectedItems 属性作为参数传递。

我注意到以下内容。当我用鼠标选择第一行时，在 slectionChanged 方法中我收到一行，没关系。例如，这是第一行。

现在，我按 ctrl 键并选择第三行。如果我收到 0 行。如果现在我选择第二行，那么我会收到 1 行，即第二行。

所以似乎我只能接收最后一行，但只有当有一个连续的行块时，如果我选择了交替行，那么我会收到 0 行。

选择备用行时如何知道所选行？当我选择一个连续的行块时，我如何知道所有选定的行？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T13:33:07.067

确保您的 Datagrid Property > SelectionUnit 是 Row

。我希望这个能帮上忙。

# windows - 我需要仅使用本机 Windows 命令匹配或替换批处理环境变量中的星号 *。这可能吗？

> ID：11685375
> 
> 赞同：6
> 
> 时间：2012-07-27T09:49:52.433
> 
> 标签：windows, batch-file, replace, cmd

我正在尝试从环境变量字符串中删除星号，但似乎无法做到。

我正在创建一个基于搜索字符串的 m3u 文件，例如，如果我想制作一个 m3u 文件，其中包含每首带有单词 love 的歌曲，我会输入：

```
m3u *Love* 
```

m3u.bat 将创建文件：

```
xLovex.m3u 
```

但是替换字符的常规方法不适用于星号。（虽然我对问号没有这个问题。）

```
set nam=%nam:*=x%.m3u 
```

而是创建文件名

```
x.m3u 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-27T09:49:52.433

简单的答案是否定的。

您遇到的问题源于星号 * 在与 SET 搜索和替换方法一起使用时是一个特殊字符。它以有限但仍然有用的方式匹配多个字符。[你可以在这里](https://stackoverflow.com/questions/11684073/id-like-to-use-a-wildcard-with-the-set-command-in-windows-batch-so-i-dont-have)了解。

艰难的答案是**肯定**的！

我将为您提供两种解决方案。一个是不完整但优雅的解决方案，另一个是完整且不优雅的解决方案。

两种方法都将搜索 * 并将其替换为 x。
这两种方法都将搜索和修改以下字符串：

```
*love* 
```

想到的第一种方法是使用“FOR /L”语句，并要求您知道环境变量的长度。

> > ::主要编辑::
> > 
> > 我以为我知道各种最大大小的环境变量字符串，但 dbenham 带我去学校，向我展示了一个[背后的长度函数](http://www.dostips.com/DtCodeCmdLib.php#strLen)，同时完全颠覆了我对这两种解决方案的看法呈现。
> > 
> > 除了 Windows 95/98/ME 对 256 个字符的最大环境变量大小的限制。似乎所有使用 CMD.EXE 的 Windows 版本都有 8,192 个字符的限制，远低于文档的建议。

两个版本都需要延迟环境变量扩展，但有两个不同的原因。一个是因为我在 FOR 语句中进行操作。另一个是因为你不能将一个 % 对放在另一个 % 对中，因为命令处理器将它遇到的第二个 % 匹配到它遇到的第一个，但是我们需要在另一个变量表达式中使用一个变量。（你会看到的。）

此解决方案使用 DosTips.com 中的 strLen 函数（第 3 行），可在[此处](http://www.dostips.com/DtCodeCmdLib.php#strLen)找到。只需将其放入一个名为 strLen.bat 的文件中，就会对它的速度感到惊讶！

方案一：（FOR /L方案）**：：首选方案：：**

```
setlocal ENABLEDELAYEDEXPANSION
set nam=*love*
rem calling strLen
call :strLen nam len
for /l %%x in (0,1,%len%) do if not "!nam:~%%x,1!"=="" if "!nam:~%%x,1!"=="*" (
    set /a plusone=%%x+1
    for /l %%y in (!plusone!, 1, !plusone!) do (
        set nam=!nam:~0,%%x!x!nam:~%%y!
    )
)
echo %nam%
ENDLOCAL 
```

我认为这是一个快速而优雅的解决方案它可以通过将 strLen.bat 的内容添加到例程中来加快速度，但我不想让作者感到困惑。

如果您出于某种原因不想使用 strLen，那么下一个最快的方法可能会使用 GOTO 循环。

解决方案2：（转到解决方案）

```
setlocal ENABLEDELAYEDEXPANSION
set nam=*love*
set num=0

:loop
    set /a plusone=%num%+1
    if "!nam:~%num%,1!"=="*" set nam=!nam:~0,%num%!x!nam:~%plusone%!
    set /a num=%num%+1
if not "!nam:~%num%,1!"=="" goto :loop

echo %nam%
EndLocal 
```

特别感谢 dbenham 指出 strLen 函数。它的运行速度比任何基于批处理的函数都快！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-07-17T21:24:39.017

虽然这里已经解释了一些非常好的和健壮的方法，但为了完成，我仍然想添加另一个选项。

它不如其他选项好，但我个人在某些情况下使用它，我想保持代码干净并且我知道它就足够了：

它的工作方式是使用`for /f`'s`delims`将字符串分成两部分，然后将它们重新组合在一起，在此过程中去掉 *：

```
for /f "tokens=1,* delims=*" %%a in ("a*b") do (set string=%%a%%b)

>>> string=ab 
```

显然，这样做的缺点是它只能用于删除一个 *.

要删除更多，我们可以使用更多令牌...

```
for /f "tokens=1-3,* delims=*" %%a in ("a*b*c*d") do (set string=%%a%%b%%c%%d)

>>> string=abcd 
```

...或者我们可以将第一行放在`for /l`-loop 中：

```
setlocal enableDelayedExpansion
set string=a*b*c*d
for /l %%a in (1, 1, 3) do (
    for /f "tokens=1,* delims=*" %%b in ("!string!") do (set string=%%b%%c)
)

>>> string=abcd 
```

另一件需要注意的事情是，您可以在 中定义多个字符`delims`，并且它们将立即被删除：

```
for /f "tokens=1,* delims=+-*/" %%a in ("a*-/+b") do (set string=%%a%%b)

>>> string=ab 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-08-10T19:41:20.073

所述问题的另一个解决方案是在批处理脚本中使用 PowerShell*替换命令。*

```
set var=*Love*
echo %var%>var.txt | powershell -command "((get-content var.txt) -replace '[\x2A]','x') -replace '.{1}$' | set-content var.txt"
set /p var=<var.txt
set var=%var%.m3u
echo %var% 
```

在上面的代码中，第二行

*   将您的字符串写入文本文件
*   调用 PowerShell 命令来获取该文件的内容
*   将 * 字符替换为 null
*   用新值覆盖文本文件

完成后，您将值读回变量中。

为了进一步解释*替换*命令，第一个单引号是您要搜索的内容。我们使用方括号将 * 字符标识为[十六进制字符](http://www.asciitable.com/)（\x2A 是 * 的十六进制值）。在逗号之后，第二组单引号不包含任何值，以便删除搜索的对象。为了防止*xLovex*和*.m3u*之间出现空格，我们必须在将结果写入文本文件之前使用*-replace '.{1}$' 。*

完成文本文件后，输入一行以将其删除。

```
if exist var.txt del var.txt 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-11-28T16:54:56.647

这是一种不遍历字符串的所有字符的方法，但它使用[`for /F`循环](https://ss64.com/nt/for_f.html "为 /F")在每次出现某个（一个序列的）某个字符时拆分字符串。实际功能被打包到一个子例程中以便于重用，因此以下脚本的主要部分只包含一些要测试的代码：

```
@echo off
setlocal EnableExtensions DisableDelayedExpansion

::This is the main routine of the script holding code for test and demonstration:

rem // Definition of some sample text to test (note that `%%` becomes one literal `%`):
set "DATA=some text,"^&"&;0'@%%~#`$:wild**card*?.re<dir>=|+([{parens}])-^/equal==to=!_"

echo/
call :REPL_CHAR TEXT DATA "*" "?"
setlocal EnableDelayedExpansion
echo(In: !DATA!
echo(Out:!TEXT!
echo/
echo(In: !TEXT!
call :REPL_CHAR TEXT TEXT "=" "/"
echo(Out:!TEXT!
endlocal

endlocal
exit /B

:REPL_CHAR
    ::This function replaces in a string every occurrence of a sequence of a certain character
    ::by another character or a string. It even correctly handles the characters `*` and `=`.
    ::  USAGE:
    ::    call :REPL_CHAR ref_output_string ref_input_string val_search_char val_replace_char
    ::  PARAMETERS:
    ::    ref_output_string   reference to (name of) variable to receive the resulting string;
    ::    ref_input_string    reference to variable that holds the original string; if empty
    ::                        (`""`), the variable referenced by `ref_output_string` is used;
    ::    val_search_char     single character that is to be replaced;
    ::    val_replace_char    character or string to replace every sequence of `val_search_char`
    ::                        with; this may even be empty;
    rem // Localise environment and detect whether delayed expansion is enabled (needed later):
    setlocal & set "$NDX=!"
    setlocal DisableDelayedExpansion
    rem // Fetch arguments and verify them:
    set "#RET=%~1" & if not defined #RET endlocal & endlocal & exit /B 2
    set "#STR=%~2" & if not defined #STR set "#STR=%#RET%"
    set "CHR=%~3"
    if not defined CHR endlocal & endlocal & exit /B 1
    set "RPL=%~4"
    setlocal EnableDelayedExpansion
    rem // Initialise several auxiliary variables:
    set "TST=!%#STR%!" & set "CHR=!CHR:~,1!" & set "INS="
    if "!CHR!"=="_" (set "BUF=#" & set "WRK=!TST!#") else (set "BUF=_" & set "WRK=!TST!_")
:REPL_CHAR_LOOP
    rem // Check whether the end of the string has been reached:
    if not defined TST set "BUF=!BUF:~1,-1!" & goto :REPL_CHAR_NEXT
    rem // Split the string at the next sequence of search characters:
    for /F tokens^=1*^ delims^=^%CHR%^ eol^=^%CHR% %%S in ("!BUF!!INS!!WRK!") do (
        rem // Store the portions before and after the character sequence:
        endlocal & set "BUF=%%S" & set "TST=%%T" & set "WRK=%%T" & setlocal EnableDelayedExpansion
    )
    rem // Loop back and find the next character sequence:
    set "INS=!RPL!" & goto :REPL_CHAR_LOOP
:REPL_CHAR_NEXT
    rem // Return the resulting string with all special characters properly handled:
    if not defined $NDX if defined BUF set "BUF=!BUF:"=""!^"
    if not defined $NDX if defined BUF set "BUF=!BUF:^=^^^^!"
    if not defined $NDX if defined BUF set "BUF=%BUF:!=^^^!%" !
    if not defined $NDX if defined BUF set "BUF=!BUF:""="!^"
    for /F "delims=" %%S in (^""!BUF!"^") do endlocal & endlocal & endlocal & set "%#RET%=%%~S" !
    exit /B 
```

这个脚本的输入和输出数据（我们称之为`repl_char_demo.bat`）是：

> ```
> >>> repl_char_demo.bat
> 
> In: some text,"&"&;0'@%~#`$:wild**card*?.re<dir>=|+([{parens}])-^/equal==to=!_
> Out:some text,"&"&;0'@%~#`$:wild?card??.re<dir>=|+([{parens}])-^/equal==to=!_
> 
> In: some text,"&"&;0'@%~#`$:wild?card??.re<dir>=|+([{parens}])-^/equal==to=!_
> Out:some text,"&"&;0'@%~#`$:wild?card??.re<dir>/|+([{parens}])-^/equal/to/!_ 
> ```

* * *

这是一个脚本，它使用[`for /L`循环](https://ss64.com/nt/for_l.html "为 /L")遍历字符串的所有字符，根据预定义的字符检查每个字符并按指定替换它。此方法替换每个匹配的字符而不是序列。再次将功能放入子例程中（这次主要部分被关闭）：

```
:REPL_CHAR
    ::This function replaces in a string every occurrence of one certain character by another
    ::character or a string. It even correctly handles the characters `*` and `=`, as well as
    ::sequences of search characters so that every single one becomes replaced.
    ::  USAGE:
    ::    call :REPL_CHAR ref_output_string ref_input_string val_search_char val_replace_char
    ::  PARAMETERS:
    ::    ref_output_string   reference to (name of) variable to receive the resulting string;
    ::    ref_input_string    reference to variable that holds the original string; if empty
    ::                        (`""`), the variable referenced by `ref_output_string` is used;
    ::    val_search_char     single character that is to be replaced;
    ::    val_replace_char    character or string to replace every single `val_search_char`
    ::                        with; this may even be empty;
    rem // Localise environment and detect whether delayed expansion is enabled (needed later):
    setlocal & set "$NDX=!"
    setlocal DisableDelayedExpansion
    rem // Fetch arguments and verify them:
    set "#RET=%~1" & if not defined #RET endlocal & endlocal & exit /B 2
    set "#STR=%~2" & if not defined #STR set "#STR=%#RET%"
    set "CHR=%~3"
    if not defined CHR endlocal & endlocal & exit /B 1
    set "RPL=%~4"
    setlocal EnableDelayedExpansion
    rem // Initialise several auxiliary variables:
    set "WRK=!%#STR%!" & set "CHR=!CHR:~,1!" & set "BUF="
    rem // Loop through all characters and check for match:
    if defined WRK for /L %%J in (0,1,63) do for /L %%I in (0,1,127) do (
        set /A "POS=%%J*64+%%I" & for %%P in (!POS!) do (
            set "TST=!WRK:~%%P,1!" & if not defined TST goto :REPL_CHAR_QUIT
            rem // Store character or replacement depending on whether there is a match:
            if "!TST!"=="!CHR!" (set "BUF=!BUF!!RPL!") else (set "BUF=!BUF!!TST!")
        )
    )
:REPL_CHAR_QUIT
    rem // Return the resulting string with all special characters properly handled:
    if not defined $NDX if defined BUF set "BUF=!BUF:"=""!^"
    if not defined $NDX if defined BUF set "BUF=!BUF:^=^^^^!"
    if not defined $NDX if defined BUF set "BUF=%BUF:!=^^^!%" !
    if not defined $NDX if defined BUF set "BUF=!BUF:""="!^"
    for /F "delims=" %%S in (^""!BUF!"^") do endlocal & endlocal & endlocal & set "%#RET%=%%~S" !
    exit /B 
```

实际上有两个嵌套`for /L`循环而不是一个，一旦到达字符串的末尾，这两个循环都会被破坏，使用[`goto`command](https://ss64.com/nt/goto.html "去")。打破`for /L`循环意味着它在后台完成了迭代，尽管它的主体不再被执行。因此，使用单个循环在被破坏后需要更多的时间来完成，而不是两个嵌套的循环。

该脚本的输入和输出数据（与上面相同的主要部分）是：

> ```
> >>> repl_char_demo.bat
> 
> In: some text,"&"&;0'@%~#`$:wild**card*?.re<dir>=|+([{parens}])-^/equal==to=!_
> Out:some text,"&"&;0'@%~#`$:wild??card??.re<dir>=|+([{parens}])-^/equal==to=!_
> 
> In: some text,"&"&;0'@%~#`$:wild??card??.re<dir>=|+([{parens}])-^/equal==to=!_
> Out:some text,"&"&;0'@%~#`$:wild??card??.re<dir>/|+([{parens}])-^/equal//to/!_ 
> ```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-10-05T02:16:41.553

请参阅[此答案](https://stackoverflow.com/a/46576824/4211612)，并使用[set-ast.bat](https://gist.github.com/Ephellon/8a942ea4bf271cf880dccc4eade49091)将`set-ast nam "x"`您的文件放在需要的地方。

`set-ast`接受参数`<variable-to-modify> <string-to-replace-asterisks-with>`

# xml - RSS 博客解析器无法读取 CDATA

> ID：11685382
> 
> 赞同：0
> 
> 时间：2012-07-27T09:50:09.457
> 
> 标签：xml, parsing, rss, blogs, cdata

我有一个 RSS 解析器的代码，但它无法读取 CDATA。有人可以告诉我，我必须在以下代码中更改什么：

* * *

```
#import "BlogRssParser.h"
#import "BlogRss.h"

@implementation BlogRssParser

@synthesize currentItem = _currentItem;
@synthesize currentItemValue = _currentItemValue;
@synthesize rssItems = _rssItems;
@synthesize delegate = _delegate;
@synthesize retrieverQueue = _retrieverQueue;

- (id)init{
    if(![super init]){
        return nil;
    }
    _rssItems = [[NSMutableArray alloc]init];
    return self;
}

- (NSOperationQueue *)retrieverQueue {
    if(nil == _retrieverQueue) {
    _retrieverQueue = [[NSOperationQueue alloc] init];
    _retrieverQueue.maxConcurrentOperationCount = 1;
}
return _retrieverQueue;
}

- (void)startProcess{
SEL method = @selector(fetchAndParseRss);
[[self rssItems] removeAllObjects];
NSInvocationOperation *op = [[NSInvocationOperation alloc] initWithTarget:self 
                                                                 selector:method 
                                                                   object:nil];
[self.retrieverQueue addOperation:op];
[op release];
}

-(BOOL)fetchAndParseRss{
NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

[UIApplication sharedApplication].networkActivityIndicatorVisible = YES;

//To suppress the leak in NSXMLParser
[[NSURLCache sharedURLCache] setMemoryCapacity:0];
[[NSURLCache sharedURLCache] setDiskCapacity:0];

NSURL *url = [NSURL URLWithString:@"http://www.myfeed.com/feed"];
BOOL success = NO;
NSXMLParser *parser = [[NSXMLParser alloc] initWithContentsOfURL:url];
[parser setDelegate:self];
[parser setShouldProcessNamespaces:YES];
[parser setShouldReportNamespacePrefixes:YES];
[parser setShouldResolveExternalEntities:NO];
success = [parser parse];
[parser release];
[pool drain];
return success;
}

- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict{
if(nil != qualifiedName){
    elementName = qualifiedName;
}
if ([elementName isEqualToString:@"item"]) {
    self.currentItem = [[[BlogRss alloc]init]autorelease];
} else if([elementName isEqualToString:@"title"] || 
          [elementName isEqualToString:@"link"] ||
          [elementName isEqualToString:@"pubDate"] ||
          [elementName isEqualToString:@"guid"] ||
          [elementName isEqualToString:@"description"]) {
    self.currentItemValue = [NSMutableString string];
} else {
    self.currentItemValue = nil;
}   
}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName {
if(nil != qName){
    elementName = qName;
}
if([elementName isEqualToString:@"title"]){
    self.currentItem.title = self.currentItemValue;
}else if([elementName isEqualToString:@"link"]){
    self.currentItem.linkUrl = self.currentItemValue;
}else if([elementName isEqualToString:@"pubDate"]){
    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss'Z'"];
    self.currentItem.pubDate = [formatter dateFromString:self.currentItemValue];
    [formatter release];
}else if([elementName isEqualToString:@"guid"]){
    self.currentItem.guidUrl = self.currentItemValue;
}else if([elementName isEqualToString:@"description"]){
    self.currentItem.description = self.currentItemValue;
}else if([elementName isEqualToString:@"item"]){
    [[self rssItems] addObject:self.currentItem];
}
}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string {
if(nil != self.currentItemValue){

    [self.currentItemValue appendString:string];
}

}

- (void)parser:(NSXMLParser *)parser foundCDATA:(NSData *)CDATABlock{

// I think something here!?!?

}

- (void)parser:(NSXMLParser *)parser parseErrorOccurred:(NSError *)parseError{
if(parseError.code != NSXMLParserDelegateAbortedParseError) {
    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;
    [(id)[self delegate] performSelectorOnMainThread:@selector(processHasErrors)
                                          withObject:nil
                                       waitUntilDone:NO];
}
}

- (void)parserDidEndDocument:(NSXMLParser *)parser {
[(id)[self delegate] performSelectorOnMainThread:@selector(processCompleted)
                                      withObject:nil
                                   waitUntilDone:NO];
[UIApplication sharedApplication].networkActivityIndicatorVisible = NO;
}

-(void)dealloc{
self.currentItem = nil;
self.currentItemValue = nil;
self.delegate = nil;

[_rssItems release];
[super dealloc];
}

@end 
```

* * *

该代码将用于提要，其中只有描述使用 CDATA。其他项目没有 CDATA，由应用程序显示。

非常感谢您的帮助马蒂亚斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T16:29:44.127

所以我找到了第一步。我在我的代码中改变了这个：

```
- (void)parser:(NSXMLParser *)parser foundCDATA:(NSData *)CDATABlock{

 self.currentItem.description = [[NSString alloc] initWithData:CDATABlock encoding:NSUTF8StringEncoding];

} 
```

现在，我看到带有 HTML 标签的描述 BUR？有人知道，我怎么能忽略 HTML 标签？

非常感谢马蒂亚斯

# android - onClick（查看 v）崩溃？

> ID：11685383
> 
> 赞同：0
> 
> 时间：2012-07-27T09:50:10.933
> 
> 标签：android, onclick

我`onClick()`在另一个方法中有一个方法，并且在`gewinnGruen()`调用该方法时崩溃。

请帮我知道原因：

```
public void gewinnGruen() {
    Dialog dialog = new Dialog(this, android.R.style.Theme_Translucent_NoTitleBar_Fullscreen);
    dialog.setContentView(R.layout.winnergreen);
    dialog.show();
    newgame1 = (Button) findViewById(R.id.newgame1);
    newgame1.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            field1.setBackgroundResource(R.drawable.field0);
            place1 = 0;
        }
    }); 
} 
```

没有该`onClick()`方法，它不会崩溃并且一切正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:53:11.633

改变这个

```
newgame1 = (Button) findViewById(R.id.newgame1); 
```

到

```
newgame1 = (Button)dialog. findViewById(R.id.newgame1); 
```

您在这一行中遇到了 NullPointerException。

这是因为，您试图在您创建的对话框中初始化一个 Button，但您没有将 Dialog 对象提供给此处的方法。所以它查看 Activity 的视图并返回 null，因为它在那里找不到任何该 id 的东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T09:53:28.840

```
newgame1 = (Button)dialog.findViewById(R.id.newgame1);
                   ^^^^^^ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:56:51.043

将您的代码替换为

```
public void gewinnGruen() {

        Dialog dialog = new Dialog(this, android.R.style.Theme_Translucent_NoTitleBar_Fullscreen);
        dialog.setContentView(R.layout.winnergreen);
        dialog.show();
        newgame1 = (Button) dialog.findViewById(R.id.newgame1);
        newgame1.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                field1.setBackgroundResource(R.drawable.field0);
                place1 = 0;
            }
        }); 
    } 
```

# java - Spring AOP 与 Aspecj

> ID：11685385
> 
> 赞同：0
> 
> 时间：2012-07-27T09:50:12.257
> 
> 标签：java, spring, aop, aspectj, spring-aop

> **可能重复：**
> [Spring AOP vs AspectJ](https://stackoverflow.com/questions/1606559/spring-aop-vs-aspectj)

我正在阅读弹簧参考文档。其中写着

1.  如果您需要字段访问和更新连接点，请考虑使用 AspectJ 等语言。
2.  有些事情你不能用 Spring AOP 做，例如建议非常细粒度的对象（例如域对象），AspectJ 是使用它的最佳案例。
3.  什么是 AspectJ 编译器或编织器？

我没有理解以上三点的含义，因此感到困惑。请用简单的例子详细说明。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:54:43.813

AFAIK Spring AOP 不支持 AspectJ 的所有功能，但仅支持有限的一组。例如，Spring AOP 仅支持方法级别的切入点，因此如果您想要细粒度的控制（即字段级别），您需要在本机使用 AspectJ。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T11:37:18.620

您的第一点只是表明您只能在方法级别应用切入点，spring-aop 中未实现字段拦截。

下一点告诉您不能在域对象（它们是简单的 pojo 实体）上添加建议，

最后是关于编织，编织是将Aspects以JavaBean的方式连接到spring XML文件中的对象中。或者简单地说，编织是将新的字节码添加到您的 java 类以使其可用于框架。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T11:09:15.177

还有更重要的区别 - AspectJ 可以在编译时注入 AOP 东西（例如，使用 aspectj maven 插件），根据 spring 的版本，spring AOP 只能在运行时使用 cglib 或 javasist。然而，通常你还是更喜欢 spring AOP - 只是因为它更容易......

# iphone - 使用 UDID 或 IMEI 验证已安装的应用程序

> ID：11685386
> 
> 赞同：1
> 
> 时间：2012-07-27T09:50:16.267
> 
> 标签：iphone, safari

我正在运行 Web 应用程序并尝试使用 URL 方案验证用户已安装的应用程序。

*   iPhone 网络应用程序
*   知道用户的UDID和IMEI
*   了解特定应用的 URL 方案。

我已经尝试了很多脚本，但它并不能真正帮助我验证已安装的应用程序。

通过 Javascript 检查时间延迟和转移到 App Store 并不能验证它是否已安装。

我们的假设是这些。

*   通过使用自定义 URL 方案检查 Safari cookie 来获取返回结果。（例如推特：//）
*   将 UDID 参数发送到 iTunes Store 以查找其安装。

有人可能会说这是不可能的，但我相信，作为一个程序员，应该有办法解决这个问题。

谢谢你。

# delphi - Delphi IDE 的增强型 Object Inspector Expert 插件

> ID：11685389
> 
> 赞同：6
> 
> 时间：2012-07-27T09:50:25.393
> 
> 标签：delphi, ide, add-in, inspector

我记得有人做了他的一个 IDE 专家，替换股票对象检查器添加过滤等

但坦率地说，我忘记了它的名字

它是如此通用，以至于我只能通过谷歌搜索获得 OI 的运行时克隆，而不是那个 IDE 插件。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-27T10:02:19.580

您可能是指 Uwe Schuster 的[Object Inspector Expert](http://www.bitcommander.de/blog/index.php/2012/07/15/oi-rev-5/)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-27T10:04:06.193

我认为您正在考虑 Uwe Schuster 和[Object Inspector Expert](http://www.bitcommander.de/blog/index.php/2012/07/15/oi-rev-5/)

# javascript - 第一次点击后jQuery ajax失败

> ID：11685390
> 
> 赞同：2
> 
> 时间：2012-07-27T09:50:26.227
> 
> 标签：javascript, jquery, ajax

我设置了一个查询 Instagram API 并显示图像的链接。我想要它，所以当我再次单击链接时，它会刷新并获取更新的图像（或多个链接）。但它总是在第一次点击后失败。

```
 <div class="keywords">
   <p id="olympics"><a href="#">#olympics</a></p>
   <p id="london"><a href="#">#london</a></p>
   </div> 
```

这是我的 JS：

```
 $(".keywords").live('click',function()

  {        
      $.ajax({
      type: "GET",
      dataType: "jsonp",
      cache: false,
      url: "https://api.instagram.com/v1/tags/olympics/media/recent?client_id=XXXXXXXXX&access_token=XXXXXXXXXXXXX",
      success: function(data) {
          for (var i = 0; i < 10; i++) {
              $(".pics").append("<a target='_blank' href='" + data.data[i].link +
              "'><img src='" + data.data[i].images.low_resolution.url +"'></img></a>");
                                      }
                              }                

      })
  }
  ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:03:13.610

如果您想在新单击时刷新图片列表，您可能需要`.pics`在添加新图像之前清空 div。

```
$(".pics").empty();
for (var i = 0; i < 10; i++) {
    $(".pics").append("<a target='_blank' href='" + data.data[i].link +
"'><img src='" + data.data[i].images.low_resolution.url +"'></img></a>");
} 
```

因为现在图片被附加到未替换的列表中。

**编辑**

抱歉`$(".pics").empty();`应该在 for 循环之前不在它里面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:57:06.463

在处理第一个结果时，您可能会遇到 javascript 错误，因为无论返回什么结果，您的 for 循环都会运行 10 次。这可能会阻止第二个请求运行。

尝试将成功回调的内容更改为：

```
for (var i = 0; i < data.data.length; i++) {
    $(".pics").append("<a target='_blank' href='" + data.data[i].link + "'><img src='" + data.data[i].images.low_resolution.url +"'></img></a>");
} 
```

我将 10 更改为 data.data.length，这样它只会循环返回的结果数。

如果您只想显示最多 10 个，请执行以下操作：

```
for (var i = 0; i < data.data.length && i < 10; i++) {
    $(".pics").append("<a target='_blank' href='" + data.data[i].link + "'><img src='" + data.data[i].images.low_resolution.url +"'></img></a>");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:00:15.340

工作样本：http: [//jsfiddle.net/h6NgP/](http://jsfiddle.net/h6NgP/)

你只是有一个括号错误；）小的语法问题。第一次在 jsfiddle 中工作

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:00:33.997

我看到这个问题

```
for (var i = 0; i < 10; i++) { 
```

你已经硬编码了 10。你确定你每次都得到“新鲜”的图像列表吗？或者可能是新图像被附加到 JSON 中，而您没有看到这一点只是因为您仅对其进行了 10 次迭代。

# java - 使用 Java 客户端从 wcf 服务流式传输数据

> ID：11685393
> 
> 赞同：1
> 
> 时间：2012-07-27T09:51:00.213
> 
> 标签：java, android, interop, ksoap2

我正在开发一个使用一些 wcf 服务并将数据可视化给用户的 Android 应用程序。我使用 KSOAP2 交换缓冲消息来连接服务。

问题是某些服务会返回大量数据，因此完成此操作的唯一方法是通过 streamedRespose，然后将数据延迟加载给用户。

我的问题是如何从 wcf Web 服务接收和使用带有 ksoap2 的流。

# iphone - UIImage 没有使用 UIGraphicsGetImageFromCurrentImageContext 分配任何内存

> ID：11685395
> 
> 赞同：-1
> 
> 时间：2012-07-27T09:51:04.213
> 
> 标签：iphone, objective-c, uiimage, graphic

我已经为图像效果制作了一个程序，但是当我尝试使用下面的代码添加像 photoshop 这样的效果时，没有为图像分配任何内存，因此没有显示生成的图像。

```
UIImage *bottomImage = originalImage;
UIImage *upperImage = originalImage;

UIGraphicsBeginImageContextWithOptions(sizeR, YES, imageBeforeEffect.scale);
[bottomImage drawInRect:CGRectMake(0.0, 0.0, sizeR.width, sizeR.height)];
 [upperImage drawInRect:CGRectMake(0.0, 0.0, sizeR.width, sizeR.height) blendMode:kCGBlendModeDarken alpha:1.0];
UIImage *img = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T11:00:43.017

检查您的 sizeR 是否有任何框架...放置一个断点并检查它。如果没有框架，`UIGraphicsBeginImageContextWithOptions`则将无法正常工作。

# android - SENSOR_DELAY_GAME：多少钱？

> ID：11685400
> 
> 赞同：13
> 
> 时间：2012-07-27T09:51:22.163
> 
> 标签：android, android-sensors

我正在开发一款游戏，我需要同步两个玩家对象控制机制：一个是屏幕触摸控制器，第二个是 G-Sensor。屏幕控制器必须以秒为单位初始化，所以我需要知道秒的`SENSOR_DELAY_GAME`含义。提前致谢。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-11-20T04:33:06.160

取自[http://developer.android.com/guide/topics/sensors/sensors_overview.html](http://developer.android.com/guide/topics/sensors/sensors_overview.html)

> 默认数据延迟适用于监控典型的屏幕方向变化，并使用 200,000 微秒的延迟。您可以指定其他数据延迟，例如**SENSOR_DELAY_GAME（20,000 微秒延迟）**、**SENSOR_DELAY_UI（60,000 微秒延迟）**或 **SENSOR_DELAY_FASTEST（0 微秒延迟）**。从 Android 3.0（API 级别 11）开始，您还可以将延迟指定为绝对值（以微秒为单位）。
> 
> 您指定的延迟只是**建议的延迟**。Android 系统和其他应用程序可以更改此延迟。作为最佳实践，您应该尽可能指定最大延迟，因为系统通常使用比您指定的延迟更小的延迟（也就是说，**您应该选择仍能满足应用程序需求的最慢采样率**）。使用更大的延迟会降低处理器的负载，因此使用更少的功率。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T10:10:57.010

我认为您的问题没有明确的答案，这意味着这取决于设备。除此之外，请记住，即使您为传感器定义了一定的延迟，传感器管理器返回的结果也可能比您指定的更快或更慢。对于您的情况，我认为最好的方法是在您的传感器运行一定时间后取两次连续轮询之间的平均时间（以秒为单位），用`SENSOR_DELAY_GAME`标志初始化，然后将该时间传递给您的屏幕控制器初始化。

# windows - Windows8 Listview 中的剖面视图？

> ID：11685406
> 
> 赞同：-1
> 
> 时间：2012-07-27T09:51:45.190
> 
> 标签：windows, windows-8

如何在 Windows8 ListView 中实现剖面视图（如在 IOS 中）？我想将 Listview 分解为不同的部分。

任何方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T13:22:29.880

ListViews 有一个名为的属性`groupDataSource`，可让您定义项目的分组方式。您可能希望查看 Visual Studio 中的**Grid App**模板，该模板已经以这种方式设置了数据。你也可以看看这个教程：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh465464.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh465464.aspx)

如果您想了解更多信息，您将不得不更具体地提出您的提问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-23T18:43:44.280

在我在[codefoster.com上的](http://www.codefoster.com)[Netflix 帖子](http://www.codefoster.com/post/2012/06/13/netflixstage1.aspx)中，我尝试以最简单的形式展示分组。当你有一个 JS 数组时，你只需用它创建一个 Binding.List，然后你只需调用 createGrouped 向它发送两个 lambda 函数，告诉它如何分组。然后就像@Paul 所说，您将在 ListView 中自动获得这些不同的部分。希望有帮助。

# javascript - jQuery 记录器插件

> ID：11685407
> 
> 赞同：3
> 
> 时间：2012-07-27T09:51:46.803
> 
> 标签：javascript, jquery, logging, plugins

我正在开发一个 jQuery 插件，它允许您记录任何 javascript 类或对象。这个想法是覆盖对象内的每个函数，或函数的原型。

```
(function($)
{
    "use strict";

    $.log = function(object, logger)
    {
        if (!$.isFunction(logger))
        {
            logger = function(name, args)
            {
                console.log(name + "(" + $.makeArray(args).join(", ") + ")");
            };
        }

        var s = $.isFunction(object) ? object.prototype : object;

        for (name in s)
        {
            var fn = s[name];

            if ($.isFunction(fn))
            {
                s[name] = (function(name, fn)
                {
                    return function()
                    {
                        logger(name, arguments);
                        return fn.apply(this, arguments);
                    };
                })(name, fn);
            }
        }
    };
})(jQuery); 
```

这似乎适用于记录单个插件。例如`$.log($.ui.tabs);`记录选项卡原型内的所有函数调用。

但是当我想记录所有 jQuery`$.log($);`时，它给了我一些参考错误。我不知道为什么我会收到这个错误。我的印象是它与任何一个`this`或正在传递的论点有关，但我不确定。

编辑：现在我想多了，这也可能是因为被覆盖的函数总是返回。

我创建了一个小提琴来演示这个问题：http: [//jsfiddle.net/Sj6xN/4/](http://jsfiddle.net/Sj6xN/4/)

**编辑：**

这是我最终得到的代码，到目前为止工作完美：

```
(function($)
{
    "use strict";

    var Logger = function(options)
    {
        this.options = $.extend(this.defaults, options);
    };

    Logger.prototype = {
        defaults:
        {
            inherited: false,
            deep: false,
            logWriter: function(name, args)
            {
                console.log("CALL: " + name + "(" + $.makeArray(args).join(", ") + ")");
            }
        },
        augment: function(object)
        {
            var self = this;

            // Make sure this object is not already augmented
            if (object.__isAugmented__)
            {
                return;
            }

            // Set 'isAugmented' to prevent recursion
            object.__isAugmented__ = true;

            // Loop through the object
            for (var name in object)
            {
                var originalFunction = object[name];

                // If it's a function and the function is not inherited or 'inherited' is enabled augment it
                if ($.isFunction(originalFunction) && (object.hasOwnProperty(name) || self.options.inherited))
                {
                    // Wrap in self executing function so references to 'name' and 'orginalFunction' are maintained
                    object[name] = (function(name, originalFunction)
                    {
                        // If the function has a prototype and 'deep' is enabled augment that as well
                        if (self.options.deep && originalFunction.prototype)
                        {
                            self.augment(originalFunction.prototype);
                        }

                        var augmentedFunction = function()
                        {
                            // Execute log writer
                            self.options.logWriter(name, arguments);

                            // Call original function
                            return originalFunction.apply(this, arguments);
                        };

                        // Inherit prototype of original function
                        augmentedFunction.prototype = originalFunction.prototype;

                        // Return the augmented function
                        return augmentedFunction;
                    })(name, originalFunction);
                }
                // If it's a plain object and 'deep' is enabled augment that as well
                else if (self.options.deep && $.isPlainObject(originalFunction))
                {
                    self.augment(originalFunction);
                }
            }
        }
    };

    $.log = function(object, options)
    {
        var logger = new Logger(options);

        // If the object is a function use it's prototype, otherwise assume a plain object
        object = $.isFunction(object) ? object.prototype : object;

        // Augment
        logger.augment(object);
    };
})(jQuery); 
```

可以这样使用：

```
$.log(<object or function> [,
{
    inherited: <bool>,
    deep: <bool>,
    logWriter: <function(name, args)>
}]); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-28T02:34:04.270

仔细看看错误。

```
Uncaught ReferenceError: name is not defined 
```

意味着您尚未定义 name 并且由于您处于[严格模式](https://developer.mozilla.org/en/JavaScript/Strict_mode)，因此您不能在不定义变量的情况下使用它（通常如果您这样做，它将是一个全局变量，但不是在严格模式下）。所以如果你`var name`在它之前写a，你就不会再收到这个错误了。

尽管没有 tab 方法还有另一个错误。另一个错误说`tabs`不是对象的方法，这是因为当你包装函数时，你没有继承原型，所以当用 new 调用函数时，它没有原型函数（`tabs`是其中之一） .

这是固定代码：http: [//jsfiddle.net/Sj6xN/8/](http://jsfiddle.net/Sj6xN/8/)

# java - Java - 在 Windows 7 中通过命令行获取外部进程的 PID

> ID：11685408
> 
> 赞同：4
> 
> 时间：2012-07-27T09:51:48.247
> 
> 标签：java, command-line, pid

我有带有 Java 的 Windows 7 32 位：

如何在 Windows 7 中通过命令行获取进程的 PID？

我想杀死一个我只能通过运行它的命令行才能真正识别的应用程序。我们在那台机器上运行了几个 Java 应用程序。我需要停止特定的。

确切地说：我需要找到由`catalina.bat`. 您认为最好的方法是什么？

我知道任务列表，但它似乎无法查询启动进程的命令行。寻找`java.exe`对我没有帮助。我尝试搜索一些有用的东西，比如 Windows 的 pgrep/pkill，但没有成功。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-27T10:10:08.923

您可以使用`jps -lv`命令通过它的命令行选项来确定 java 进程。jps 是包含在许多最新 JDK 中的实用程序。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-01T19:17:07.887

在命令提示符下尝试：

```
sc queryex type= service state= all | find "APP" 
```

其中 APP 是程序的名称。此命令将返回匹配的所有服务。

然后你就可以运行`SC QUERYEX APP`了，它会返回状态和PID号。

获得 PID 后：

```
TASKKILL /f /pid ### 
```

其中 ### 是实际的 PID

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-08-01T19:46:35.707

**Java，获取Windows中当前运行进程的PID**

这应该适用于`Linux`、`OSX`、`Windows`和 HotSpot JVM。

```
import sun.management.VMManagement;
import java.lang.management.ManagementFactory;
import java.lang.management.RuntimeMXBean;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

public static int getCurrentPID() {
    try{
        java.lang.management.RuntimeMXBean runtime = 
            java.lang.management.ManagementFactory.getRuntimeMXBean();
        java.lang.reflect.Field jvm = runtime.getClass().getDeclaredField("jvm");
        jvm.setAccessible(true);
        sun.management.VMManagement mgmt = 
           (sun.management.VMManagement) jvm.get(runtime);
        java.lang.reflect.Method pid_method = 
            mgmt.getClass().getDeclaredMethod("getProcessId");
        pid_method.setAccessible(true);
        return (Integer) pid_method.invoke(mgmt);
    }
    catch(Exception e){
        e.printStackTrace();
        System.out.println("Failed at getting the process ID");
        System.exit(0);
    }
} 
```

像这样调用它：

```
System.out.println("PID: " + getCurrentPID()); 
```

对我来说，它会打印 processID：`PID: 5728`

资料来源：

[Java 程序如何获得自己的进程 ID？](https://stackoverflow.com/questions/35842/how-can-a-java-program-get-its-own-process-id)

[http://boxysystems.com/index.php/java-tip-find-process-id-of-running-java-process/](http://boxysystems.com/index.php/java-tip-find-process-id-of-running-java-process/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T10:04:54.810

如果您只需要从 java 应用程序中杀死特定的 tomcat，为什么不编写一个在每个 tomcat 内部运行的简单 servlet，该 servlet 将使用一个可以识别它的字符串来响应 get 请求。然后使用另一个 servlet 执行类似的操作：

```
System.exit(-1); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T14:52:31.743

终于找到东西了。为我工作的解决方案称为 wmic（Windows Management Instrumentation 命令行）。这个不错的工具内置于 Windows 7 Pro（我的）和可能的其他 Windows 版本中。它提供了种类繁多的操作，例如列出所有正在运行的任务以及您可以想象的每个细节（例如它们相应的命令行）、各种硬件信息等。这正是我所需要的。

# ios - 现有蓝牙设备和 Apple MFI

> ID：11685409
> 
> 赞同：4
> 
> 时间：2012-07-27T09:51:50.447
> 
> 标签：ios, bluetooth, mfi

我正在开发一个需要连接到蓝牙设备的应用程序。我不想在应用商店中部署这个应用。我只需要这个供个人使用。有什么方法可以连接到这个蓝牙设备（它太老了，绝对没有 MFI 认证）。在 MFI 程序的常见问题解答 ( [http://mfi.apple.com/faqs](http://mfi.apple.com/faqs) ) 中，它说第三方解决方案是可能的。有人知道吗？我还没有找到任何可以在 iPhone 和蓝牙设备之间架起桥梁的产品。

此外，常见问题解答说：

“仅依赖标准技术（例如，低功耗蓝牙或标准蓝牙配置文件）的应用程序开发人员和配件开发人员不需要加入 MFi 计划。”

我的蓝牙设备使用标准蓝牙配置文件，但我无法连接到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T05:37:29.207

如果您的应用不打算进入应用商店，您可以尝试使用名为 BlueToothManager 的私有框架。我没有使用它，但它可以帮助你。

MFI 兼容设备已在 Apple 注册，并与在 Apple 注册的蓝牙配置文件进行通信。该特定协议字符串（例如 com.apple.ps1）将由 MFI 设备制造商提供，您需要将其包含在 info.plist 文件中。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-14T06:25:06.330

如果您的目标设备是 ios 5 或更高版本，您可以尝试使用 CoreBluetooth 框架。链接在这里

[https://developer.apple.com/library/ios/#documentation/CoreBluetooth/Reference/CoreBluetooth_Framework/_index.html#//apple_ref/doc/uid/TP40011295](https://developer.apple.com/library/ios/#documentation/CoreBluetooth/Reference/CoreBluetooth_Framework/_index.html#//apple_ref/doc/uid/TP40011295)

# java - Java 对象类，构造函数链接

> ID：11685410
> 
> 赞同：1
> 
> 时间：2012-07-27T09:51:56.540
> 
> 标签：java, object

Java 中的每个对象创建都会调用此代码，因为每个对象都扩展**Object**吗？或者JVM是否以某种方式对其进行优化以避免在堆中创建一些许多**Object的**对象。

**这个方法registerNatives()**到底发生了什么 。

```
package java.lang;  

public class Object {
  private static native void registerNatives();
  static {
    registerNatives();
  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:52:46.407

静态块仅在加载类时执行一次。

[如here](https://stackoverflow.com/questions/2420389/static-initialization-blocks)或[here](https://stackoverflow.com/questions/335311/static-initializer-in-java)所解释的，也可以定义每次初始化类的对象时都会执行的块：只需删除`static`关键字即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:58:37.683

做什么都没关系`registerNatives().`。这里重要的是您已将其包含在静态块中。当 java Class Loader 加载类时加载并运行静态块。因此保证每个 JVM 只运行一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:15:45.910

**1.**这里的问题**不是**关于**构造函数链接，而是关于静态的。**

**2\. JVM加载类时会初始化静态变量**，当**类实例化或调用该类的任何静态方法时，JVM会加载该类。**

**3.**所以**这个静态块会在 JVM 每次加载类时运行一次。**

# qt - QPushButton 几何

> ID：11685414
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:08.037
> 
> 标签：qt, qwidget

在 a 里面`QWidget`我放了一个`QHBoxLayoutwith,`两个`QPushButton`s 和一个`QLabel`。我可以更改`QWidget`用作布局容器的几何形状，但不能更改大小`QPushButton`：这里是我的代码

```
void
QTitleBar::resizeEvent( QResizeEvent * event)
{
 QSize size = event->size();
 int widgetHeight = size.rheight();
 int widgetWidth = size.rwidth();

 std::cout << "resizeEvent h:" <<
  widgetHeight  
  << " w: " << widgetWidth << std::endl;

 int layoutH = (int)((float)widgetHeight*(float)0.20);

 std::cout << "resizeEvent h:" <<
  layoutH  
  << " w: " << widgetWidth << std::endl;

 mapButton->setGeometry(0, 0, 120, layoutH);
 titleWidget->setGeometry(0, 0,  widgetWidth, layoutH);

// title->setGeometry(130, 0, widgetWidth - (2*130), layoutH);
// closeButton->setGeometry(widgetWidth - (2*130), 0,  130, layoutH);

 //closeButton->setGeometry(0, 0,  widgetWidth, layoutH);

} 
```

有什么不对？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:50:15.977

```
 mapButton->setMinimumSize(QSize(0,0));
   mapButton->setMaximumSize(QSize(10000,10000)); 
```

现在您可以将您的设置`QPushButton`为任何大小（实际上）。我希望这可以解决问题，因为 titlewidget 正在像代码中一样调整大小和重新定位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-30T08:53:48.033

[给更多读者的一些建议......]

正如您注意到的那样，使用按钮的*几何*属性不是正确的方法，因为它是由包含*QLayout*控制的。请参阅[此处](http://doc.qt.io/qt-4.8/layout.html#manual-layout)了解 Qt 布局处理或编写自己的`QLayout`.

另请注意，设置a的*几何形状*`QWidget`可能会导致[**无限循环**](http://doc.qt.io/qt-4.8/qwidget.html#geometry-prop)！

当且*仅**当*a`QWidget`不`QWidget`包含在任何`QLayout`. 否则，它将在*mimimumHeight*和*maximumHeight*的尺寸内调整大小，这适用于所指出的*宽度。*（请注意，*size*属性仅捆绑了这两个属性。）您可以通过修改`QWidget`s [*sizePolicy*](http://doc.qt.io/qt-4.8/qwidget.html#sizePolicy-prop)属性来影响此行为。

所以坚持使用ScarCode[*的答案*](https://stackoverflow.com/a/11686331/6385043)

```
QWidget.setMinimumSize(QSize)
QWidget.setMaximumSize(QSize) 
```

至于完整性，我想指出，`QPushButton`也可以使用[Qt 样式表](http://doc.qt.io/qt-4.8/stylesheet-examples.html#customizing-qpushbutton)更改大小：

```
QPushButton {
    min-width: 0px;
    max-width: 10000px;
} 
```

# java - 我遇到了嵌套在while循环中的java if语句的问题

> ID：11685416
> 
> 赞同：2
> 
> 时间：2012-07-27T09:52:11.437
> 
> 标签：java

我是初学者。

我正在尝试使用 java while 循环。我了解 java while 循环和 if 语句，但以前从未嵌套过它们。我将首先发布脚本，然后告诉大家问题所在。

这是脚本：

```
import java.util.Scanner;
class whileloop{
    public static void main(String args[]){
        Scanner scan = new Scanner(System.in);
    System.out.println("This is a basic calculator.");
    System.out.println("To exit, input exit when asked to input the method.");
    System.out.println("----------------------------------------------");
    while (true){
        System.out.println("to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*' and to exit, input 'exit.'");
        System.out.println("----------------------------------------------------");
        System.out.print("Please enter a method here:");
        String method = scan.nextLine();
        if (method == "exit"){
            System.out.println("You chose to exit.");
            break;
        }
        else if (method == "+"){
            System.out.println("You chose to add.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
            double ans = fnum + snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
    }
}
} 
```

首先，我对这种类型的嵌套一无所知，我现在只是在试验，所以也许这就是为什么我的方法对你们来说可能有点不寻常。

现在，问题是每当我执行这段代码时，无限的while循环工作得很好，但无论我输入什么，它总是跳过if语句并再次开始循环指令。

请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T09:54:37.710

use

`method.equalsIgnoreCase("exit")` rathe than `method == "exit"`

`equalsIgnoreCase` compares contents but `==` compares references and in you case references would not be same as you are using `scan.nextLine();` which creates a new String Object.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-27T09:54:55.680

When comparing strings, you need to use the `.equals()` method, so, in your case, you need to change `method == "exit"` to `method.equals("exit")`. The same applies for the other `if` statement.

You can take a look at [this](http://docs.oracle.com/javase/tutorial/java/data/comparestrings.html) Oracle tutorial for more information on String comparison.

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-27T09:57:56.010

如果您使用`==`比较字符串，这将比较对象的引用，在这种情况下，在您的情况下它将始终返回 false。因为你没有 else 并且只有一个 else 如果你实际上没有看到这种情况发生并且它继续到下一次迭代。

将其更改`.equals()`为比较对象值而不是引用的方法。

**边注**

请注意参考比较，因为您可能已经看到使用参考相等的奇怪示例，这可能会让您感到困惑（这对我来说肯定是第一次，如下面的示例所示）。

```
String a = "Hello";
String b = "Hello"; 
```

如果`a == b`在这种情况下进行比较，它实际上会返回 true，这是因为 Java 缓存了字符串，因此在这种情况下它们确实具有相同的引用。当你看到这样的例子时要小心，因为它们是例外。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-27T09:53:16.327

用于`method.equals("exit")`字符串比较。

看到[这个](https://stackoverflow.com/questions/8702986/string-comparison-in-java-again)帖子。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T10:01:21.300

**==**对象的测试引用相等性。

**equals(String)**这是类中比较两个字符串内容的[方法。](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#equals%28java.lang.Object%29)`String`

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-27T10:01:34.433

在 java 中，`==`表示检查`reference equality` ~~，数字除外。~~（见下面的评论）

```
Object obj1 = new Object();//toString: java.lang.Object@459189e1 <--|
                                                                  //|- different addresses
Object obj2 = new Object();//toString: java.lang.Object@55f33675 <--|
obj1 == obj2; //false, because they are difference objects, difference references.

obj1 = obj2;
obj1 == obj2; //true, they are now pointing to the same object 
```

因此，您需要使用`.equals`来检查字符串是否相等。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-27T10:04:01.657

这是所有初学者都会遇到的问题。我开始时已经这样做了。这里的问题是

> 相等运算符 ==

此处不应用于比较两个字符串。因为它用于检查任何两个对象没有不同但属于同一个实例。IE

```
Object O1 = new Object()
Object o2 = o1 
```

这里

> o1 == o2

将评估为真。因为他们检查引用相等。

在字符串的情况下，当您比较字符串的内容时，您应该始终将它们与

> 等于

方法或

> 等于忽略大小写

如果你不关心这个案子。上帝保佑。干杯。

# php - php fputcsv 麻烦

> ID：11685424
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:18.690
> 
> 标签：php, fputcsv

我有一个关于 fputcsv 的非常基本的问题。

我的目标是创建一个 csv 文件，其中每一行的第一列是键，第二列是值。print_r 在我的桌子上的结果给出了类似这样的 Array ( [city_name: London ] => 8000 [city_name: Dublin ] => 8415

我以为我必须像这样使用 array_keys 和 array_values ：

```
fputcsv ($fp, array_keys($tablepeople)); 
fputcsv ($fp, array_values($tablepeople)); 
```

使用此代码，我的 csv 文件得到了这个形状： Name1 Name2 Value1 Value2

我该怎么做才能得到这个： Name1 Value 1 Name2 Value2

其中 name 是数组的键，值是值。

请问你能帮帮我吗 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T09:57:04.577

您必须为 CSV 文件中的每一行创建一个数组。

```
$line = array($key, $value);
fputcsv($out, $line); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:56:23.610

正如您从此处的手册页[http://php.net/fputcsv](http://php.net/fputcsv)中看到的那样，您可以使用此函数在 csv 文件中添加一行（因此一行的所有列）

考虑到第一个参数是文件指针，第二个参数是一个数组，其中包含一行的所有值，您可以像这样创建数组：

```
foreach ($tablepeople as $key=>$value)
{
    fputcsv($fp, array($key, $value);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T09:56:49.680

```
$csv_array = Array();
foreach($tablepeople as $k => $v) {
    $csv_array[] = Array($k, $v);
}
fputcsv($fp, $csv_array); 
```

# c# - #define 指令目的

> ID：11685427
> 
> 赞同：7
> 
> 时间：2012-07-27T09:52:23.487
> 
> 标签：c#, c-preprocessor, conditional-compilation

**#define 指令在 C# 中的用途和良好用法是什么？**

关于这个主题的问题已经很少，但我不需要答案。他们只举例说明它是如何工作的。但我需要更深入的解释：它为什么存在以及使用它的好方法是什么（如果有的话）。

基本上我知道如何使用它，但对我来说，用法看起来很奇怪。让我们看一个例子：

```
#define DEV

#if DEV
Console.WriteLine("Development trace log message");
#endif 
```

对我来说*，这与使用带有项目定义的条件编译符号的#if 条件构建完全不同*。如果我们使用项目定义的符号，它会附加到项目构建配置，我们可以使用构建配置来管理构建所需的代码（并从构建中排除）。所以代码

```
#if DEBUG
Console.WriteLine("Debug log message");
#endif 
```

对我来说很好。但正如我所说，它与使用#define 指令完全不同，因为它是可管理的。 **我是否正确地认为第一个示例只能在每个构建中手动注释/取消注释 #define 行？**如果是，它是不可管理的，难以维护的，我认为#define 的这种用法是非常糟糕的做法，并且在语言中根本不存在。

我可以想象在#if 语句中使用#define/#undef。就像是

```
#if DEBUG
#if CLIENT1
#define TEST_CLIENT1
#endif
#endif

#if TEST_CLIENT1
connectionString = "Some specific test connection" //I know this is bad practice even in conditional. Only for example purpose.
#elif
//Read connection from config
#endif

#if UNITTESTS
#undef TEST_CLIENT1
#endif

#if TEST_CLIENT1
Console.WriteLine("Some message");
#endif 
```

对不起，这么复杂的例子，但这至少是我觉得有用的东西。虽然我不会以任何方式编写这样的代码 =)。 **#define 有什么好的用法吗？**

PS：我已经有 5 年没有使用过#define 自己了，也没有意愿这样做，但是我得到了一个支持项目，其中有许多奇怪的定义，甚至以奇怪的方式命名。这些定义通常放在文件的顶部，就像我在这里的第一个例子一样。而且我不知道如何维护这段代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:58:46.683

除了没有它，我看不到任何正当理由，该`#IF`声明将不存在。

当您使用`/define`编译器上的指令定义项目级前置条件变量时，它实际上所做的只是将 a 添加`#DEFINE`到代码中。

我认为这使它易于管理，但不能使用`/define`语句在代码中手动设置它。

另一个用处是可读性和范围。项目定义语句适用于项目，`#DEFINE`级别语句仅适用于一个文件。这有助于保持事物的组织性、可读性并阻止可变问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:57:35.430

'#define' 存在是因为人们期望它存在。:) 出于您的目的（例如大型项目），在项目中保留预处理器符号可能更有意义。对于快速调试或其他目的，#define 可能是最佳选择。此外，#define 允许对符号进行细粒度（文件级别）控制。

想象一下，您有一个庞大的代码库和一个给您带来麻烦的模块。出于性能原因，您可能希望仅在要启用跟踪/调试的单个文件中使用“#define TRACE”或“#define DEBUG”。

# encryption - SWF Actionscript 加密，看不懂的代码

> ID：11685433
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:48.253
> 
> 标签：encryption, actionscript, flash

我昨天浏览了一个加密的 SWF，我可以注意到 actionscript 的一部分如下：

```
if(19228849284 == 192246636643) {
 ... //other statements continued
} 
```

我的问题是，该代码怎么会被执行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:04:54.743

看起来像是两个时间戳的比较。也许出于某种原因，这些时间戳在应用程序中被硬编码并在此时进行比较。代码显然不会被执行。实际上，奇怪的是 Flash 编译器没有对其进行优化。

# c# - 如何在 Windows azure 上使用 asp.net 会员资格？

> ID：11685435
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:48.793
> 
> 标签：c#, asp.net-mvc-3, azure, asp.net-membership

我安装了通用服务提供商。我在 staging 环境中的 windows azure 上部署了我的 mvc-3 应用程序，并且还在 windows azure 上创建了 sql server 和 sql 数据库。现在我想在 Windows azure 上的应用程序中使用 asp.net 默认成员资格选项。谁能指导我我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:11:42.700

如果您想在 SQL Azure 中使用 ASP.NET 的成员资格功能，您需要使用[ASP.NET Universal Providers](http://nuget.org/packages/System.Web.Providers)。Scott Hanselman 在他的[博客](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx)上写了一篇介绍。

[请注意，这个问题之前在StackOverflow](https://stackoverflow.com/questions/10342055/asp-net-mvc3-azure-do-i-need-membership-provider-stored-procedures)上已经回答过很多次了。下次你想问一个问题时，我建议你快速搜索一下，很有可能你已经找到了具有适当答案的问题。

# google-app-engine - GAE 邀请用户失败 您无权访问此应用程序

> ID：11685436
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:52.247
> 
> 标签：google-app-engine

谷歌应用引擎权限。

我有 GAE 帐户，我正在尝试邀请其他用户访问

电子邮件已发送，用户将链接粘贴到 Chrome 隐身窗口中 要求用户登录哪个有效，但随后显示
您无权访问此应用程序

用户有自己的应用程序引擎我想不出别的了 - 可以邀请的人数是否有限制？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T17:28:06.153

确保用户正在登录您邀请的帐户（一种简单的方法是让他们只需单击链接而不是使用隐身窗口）。如果它仍然不起作用，我建议您在[问题跟踪器](http://code.google.com/p/googleappengine/issues/list)中提交一个错误。

# javascript - 在php中调用ajax后不显示jquery日历

> ID：11685437
> 
> 赞同：1
> 
> 时间：2012-07-27T09:52:54.417
> 
> 标签：javascript, jquery, ajax

当页面加载日历对象时显示在表单上。但是当我从 onchange 事件调用 ajax 函数来选择一个城市时，在 ajax 调用之后日历不会显示在页面上。ajax 代码如下：

```
<script language="JavaScript">
function redirect()
{
    window.location='adm_regemployeelist.php';
}
function selectcity()
{

    var empid=document.getElementById("empid").value;   
    var empname=document.getElementById("empname").value;   
    var addr=document.getElementById("addr").value; 
    var addr1=document.getElementById("addr1").value;   
    var city=document.getElementById("city").value; 

    if(addr==''||empid==''||empname=='')
    {
        alert("Please Fill Out Empty Fields\n\n");
        return false;
    }

        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
          }
        else
          {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          }

        xmlhttp.onreadystatechange=function()
          {
          if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                document.getElementById("container").innerHTML=xmlhttp.responseText;
            }
          }
        xmlhttp.open("GET","emp_registration.php?empid="+empid+"&empname="+empname+"&addr="+addr+"&addr1="+addr1+"&city="+city,true);
        xmlhttp.send();
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:40:11.577

我认为您正在通过 ajax 调用将 html 元素替换为 id 'birthdate' ，该调用放置在 container 中。因此，您的日历不再与刷新的“生日”相关联。在您获得 ajax 响应并替换“容器”后再次启动它

```
$( "#birthdate" ).datepicker({ changeMonth: true,
                      changeYear: true, 
                      dateFormat: 'dd/mm/yy', defaultDate: '-20y -1m -247d', minDate:'19/03/1960', maxDate:tdate, }; 
```

# sharepoint - 在 windows server 2003 中使用 powershell 读取 xml 文件

> ID：11685439
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:57.280
> 
> 标签：sharepoint, powershell

你能帮我用下面的代码吗？

```
[System.Xml.XmlDocument]$xd = New-Object System.Xml.XmlDocument
$file = "C:\PS\SetUP.xml";
$xd.LoadXml($file);
#$root = $xd.DocumentElement 
Write-Host $xd.SelectSingleNode("/Setup").Attributes.GetNamedItem("WebAppUrl").Value 
```

当我在 windows server 2008 中运行此代码时，它可以正常工作，但在 windows server 2003 中它不起作用。

我在同一环境（win server 2003）中在 C# 中对其进行了测试，它可以工作，但在 Powershell 中不行。

我认为可能存在一些 Powershell 版本问题。

请你帮助我好吗？

谢谢

* * *

xml文件

```
<?xml version="1.0" encoding="utf-8"?>
<Setup WebAppUrl="http://sp2007">
    <SiteCollection Name="Report" Url="Report Requests">
    <Lists>
        <List Name="Report Requests" Url="ReportRequests" />    
        <List Name="Report Request Tasks" Url="ReportRequestTasks" />   
    </Lists>
    <Features>
    <Feature>ContentTypeSyndication</Feature>
    </Features>
    <Site Name="Child 1" Url="child1" Template="STS#0"/>
    <Site Name="Child 2" Url="child2" Template="STS#0"/>
    <Site Name="Child 3" Url="child3" Template="STS#0"/>
    </SiteCollection>
</Setup> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T09:55:20.703

Windows 2003 上的 Powershell 版本为 1。

Windows 2008 上的版本是 2。

链接：[http ://en.wikipedia.org/wiki/Windows_PowerShell#Versions](http://en.wikipedia.org/wiki/Windows_PowerShell#Versions)

就那么简单。你可以尝试升级它AFAIK。

编辑：更新程序-> [http://maxt2posh.wordpress.com/2009/12/23/update-powershell-v1-to-v2-windows-management-framework/](http://maxt2posh.wordpress.com/2009/12/23/update-powershell-v1-to-v2-windows-management-framework/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:09:44.900

我没有 v1，但无论操作系统版本如何，您都可以读取 xml 文件并以相同的方式导航它们。可以分享一下xml文件吗？

```
[xml]$xd = Get-Content C:\PS\SetUP.xml
$xd.SelectSingleNode("/Setup").WebAppUrl

http://sp2007 
```

如果只有一个设置节点，那么您可以通过以下方式获取值：

```
$xd.Setup.WebAppUrl 
```

# php - symfony 将变量从动作传递到模板

> ID：11685440
> 
> 赞同：0
> 
> 时间：2012-07-27T09:52:57.553
> 
> 标签：php, templates, symfony1, symfony-1.4, sizeof

**行动：**

```
$photos = Doctrine::getTable('photo')
             ->createQuery('u')
            ->addWhere('status = ?', 1)
            ->addOrderBy('sort_order DESC')
            ->execute();
var_dump(sizeof($photos)); //returned 0
$this->photos = $photos 
```

**模板：**

```
var_dump($sizeof($photos)); // returned 1 
```

当我在表中没有任何内容时，奇怪的是上面的两个 var_dump 分别返回 0 和 1。

如果我在表中有一行记录，它都会返回 1。

有人知道我的代码出了什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T20:05:11.210

如果在您使用的模板中

```
$photos->count() 
```

它应该给你正确的价值。

# vba - 从 VBA 调用 dll 函数时出现浮点错误

> ID：11685441
> 
> 赞同：1
> 
> 时间：2012-07-27T09:52:59.003
> 
> 标签：vba, dll, overflow, fpu

这是情况。我正在使用 MS Visual Sturio 2005 和 Excel 2007。我创建了一个包含函数的 dll

```
extern "C" VARIANT WINAPI MyFunc()
{
  VARIANT res;
  memset(&res, 0, sizeof(VARIANT));
  ::VariantInit(&res);    
  return res;
} 
```

这是从 Excel VBA 调用的。此功能似乎可以正常工作。但是有一个问题：当 VBA 从我的函数返回并尝试执行下一条浮点指令时，我看到一个窗口：

> 运行时错误 6\. 溢出。

这个错误很奇怪。最近几天我一直在调查它，这是我收集的“事实”：

1) 错误仅在第一次调用 dll 后出现。对该函数的所有连续调用都不会导致此错误。

2）该错误是由控制从dll返回后VBA代码中的第一条（看似无害的）浮点指令触发的：

```
Dim dMinValue As Double
dMinValue = 10000000# 
```

3) 构建 dll 的项目包含 4 个文件：mydll.cpp、mydll.def、cSomeClass.cpp 和 cSomeClass.h。

`cSomeClass`是一个相当复杂的类，它从我的其他库中调用代码。但`mydll.cpp`不`cSomeClass`以任何方式使用。这是代码`mydll.cpp`：

```
#include <OAIdl.h>
#include <float.h>
BOOL APIENTRY DllMain(HANDLE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved) 
{
  return TRUE;
}
extern "C" VARIANT WINAPI MyFunc()
{
  unsigned int u;
  u = _controlfp(0, 0);
  _controlfp(u & ~(_EM_INVALID | _EM_DENORMAL | _EM_ZERODIVIDE | _EM_OVERFLOW | _EM_UNDERFLOW | _EM_INEXACT), _MCW_EM);

  VARIANT res;
  memset(&res, 0, sizeof(VARIANT));
  ::VariantInit(&res);

  return res;
} 
```

的初始版本`MyFunc()`没有前 3 行（与 混淆的行`_controlfp()`），它是`"Runtime Error 6, Overflow"`在 VBA 中引起的。然后我开始怀疑这个错误可能与 FPU 寄存器有关（我对此知之甚少）。当我添加这 3 行时，我调用`_controlfp()`- 时引发了异常`"0xC0000090: Floating-point invalid operation."`。如果我保留上面显示的代码，异常会导致堆栈展开（我们没有到达该行），并且在 Excel 中显示`VARIANT res;`一个窗口。`"runtime error 6\. Overflow."`综上所述，加上这3行导致更早抛出浮点异常。如果我们捕获第 3 行中抛出的异常（带有`__except`子句）并忽略它（通过 callng `_clearfp()`），那么 Excel 中不会报告错误。

一个讨厌的细节：如果我删除文件`cSomeClass.cpp`并`cSomeClass.h`从 Visual Studio 项目中删除，则不会重现错误。`cSomeClass.h`不包含在`mydll.cpp`中，但如果我`cSomeClass.*`从项目中删除文件，则 dll 大小会显着减小。

在这一点上，我最好的猜测是，LIB-s 中有一些静态对象被引用`cSineClass.cpp`，导致了这种情况。也许这些对象在加载 dll 时被初始化（构造）（根据我的实验，在 to 之前`DllMain`），这会以某种方式导致设置错误标志`"0xC0000090: Floating-point invalid operation."`。当我们从 dll 返回到 Visual Basic 时，somethis 调用`_controlfp`并启用浮点异常（它们在 С++ 中被关闭），当引发`"0xC0000090: Floating-point invalid operation."`以某种方式转换为`"Runtime Error 6\. Overflow."`我在 Excel 中看到的时。这只是一个猜测。到目前为止，我还没有找到任何可以这样做的静态对象。

不幸的是，我无法创建一个重现此错误的小示例，因为它仅在我`cSomeFile.*`作为项目的一部分时才会出现。这些文件需要我所有的库......

如果有人知道这种行为的原因可能是什么，或者对如何推进我的调查有任何建议，我们将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-06T21:03:42.300

因此，我在 Excel 的各个方面都遇到了类似的随机问题，而你是我的英雄。

我发现通过调用`_clearfp()`，它会消除错误并正确返回值。我认为问题出在我到处使用`_HUGE`值来表示无效浮点数的事实。它设置了标志，并导致 Excel（并且只有 excel）出错。在任何其他程序中，我从未遇到过运行时异常的任何问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T11:28:32.173

1）显然，当我从 VBA 进入 DLL 代码时，FPU 异常被关闭，就像有人打电话一样

```
 u = _controlfp( 0, 0 );
  _controlfp( u & ((_EM_INVALID | _EM_DENORMAL | _EM_ZERODIVIDE | _EM_OVERFLOW | _EM_UNDERFLOW | _EM_INEXACT )), _MCW_EM ); 
```

在将控制权传递给我的 dll 代码之前。

2) 在任何时候调用 std::numeric_limits::signaling_NaN() 会导致在浮点状态字中设置 _EM_INVALID 标志（可以通过调用 _statusfp() 看到）。

3）当控件从 DLL 返回时，FPU 异常似乎被打开了。好像有人叫：

```
 u = _controlfp( 0, 0 );
  _controlfp( u & (~(_EM_INVALID | _EM_DENORMAL | _EM_ZERODIVIDE | _EM_OVERFLOW | EM_UNDERFLOW | _EM_INEXACT )), _MCW_EM ); 
```

这会导致运行时错误。

# android - android/ 中的 SQLite 外键

> ID：11685449
> 
> 赞同：1
> 
> 时间：2012-07-27T09:53:28.533
> 
> 标签：android, sqlite, foreign-keys

我正在使用 Android 2.2

我创建了两个表，第二个表将外键作为第一个表的主键，但在插入时外键列保持空白..这是表..

```
public static final String KEY_Username = "username";
public static final String KEY_Password = "password";
public static final String KEY_SITE = "site";

private static final String DATABASE_NAME = "test";
private static final int DATABASE_VERSION = 1;

private static final String SERVICE_OREDER = "Service_Order";
private static final String ERROR_CODE = "Error_Code";
private static final String SERVICE_OPERATION = "Service_Operation";
private static final String COMPONENT = "Component";
private static final String TECHNICIAN = "Technician";

//------------------------Service Order Table---------------------
private static final String KEY_SERVICE_ORDER_RECORD_NO="service_order_record_no";
private static final String KEY_OREDR_TYPE="order_type";
private static final String KEY_PRIORITY="priority";
private static final String KEY_PLANT="plant";
private static final String KEY_FUNCTIONAL_LOCATION="functional_location";
private static final String KEY_EQUIPMENT_DESC="equipment_description";
private static final String KEY_EQUIPMENT_NO="equipment_no";
private static final String KEY_CUSTOMER_ID="customer_id";
private static final String KEY_CUSTOMER_NAME="customer_name";
private static final String KEY_WIND_SPEED="wind_speed";
private static final String KEY_TOTAL_PRODUCTION="total_production";
private static final String KEY_NCR="NCR";
private static final String KEY_TOTAL_GRID_HR="total_grid_hours";
private static final String KEY_TOTAL_OPERATION_HR="total_operation_hours";
private static final String KEY_SERVICE_VISIT="service_visit_p_year";
private static final String KEY_ORDER_DESC="order_description";
private static final String KEY_ERRORCODE_START_DT="error_code_start_date_and_time";
private static final String KEY_MALFUNCTION_START_DT="malfunction_start_date_and_time";
private static final String KEY_MALFUNCTION_END_DT="malfunction_end_date_and_time";

private static final String SERVICE_ORDER_TABLE_CREATE = "CREATE TABLE "+SERVICE_OREDER+" ("+KEY_SERVICE_ORDER_RECORD_NO+" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL ,"+ 
        ""+KEY_OREDR_TYPE+" TEXT NOT NULL , "+KEY_PRIORITY+" TEXT, "+KEY_PLANT+" TEXT, "+KEY_FUNCTIONAL_LOCATION+" TEXT, "+
        ""+KEY_EQUIPMENT_DESC+" TEXT,"+KEY_EQUIPMENT_NO+" TEXT, "+KEY_CUSTOMER_ID+" TEXT, "+KEY_CUSTOMER_NAME+" TEXT,"+
        ""+KEY_WIND_SPEED+" TEXT, "+KEY_TOTAL_PRODUCTION+" TEXT, "+KEY_NCR+" TEXT,"+KEY_TOTAL_GRID_HR+" TEXT,"+
        ""+KEY_TOTAL_OPERATION_HR+" TEXT, "+KEY_SERVICE_VISIT+" TEXT, "+KEY_ORDER_DESC+" TEXT, "+
        ""+KEY_ERRORCODE_START_DT+" TEXT, "+KEY_MALFUNCTION_START_DT+" TEXT, "+KEY_MALFUNCTION_END_DT+" TEXT)"; 

//------------------------Error Code Table---------------------
private static final String KEY_ERROR_CODE_REC_NO ="error_code_record_no";
private static final String KEY_CODE_GROUP ="code_group";
private static final String KEY_CODE ="code";
private static final String KEY_SERVICE_ORDER_REC_NO="service_order_record_no";

private static final String ERROR_CODE_TABLE_CREATE = "CREATE TABLE "+ERROR_CODE+" ("+KEY_ERROR_CODE_REC_NO+" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL,"+ 
        ""+KEY_CODE_GROUP+" TEXT,"+KEY_CODE+" TEXT, "+KEY_SERVICE_ORDER_REC_NO+" INTEGER,"+
        "FOREIGN KEY("+KEY_SERVICE_ORDER_REC_NO+") REFERENCES "+SERVICE_OREDER+"("+KEY_SERVICE_ORDER_RECORD_NO+") ON DELETE CASCADE )";

//-----------------------Service Operation Table-----------------
private static final String KEY_SERVICE_OPE_REC_NO ="service_operation_record_no";
private static final String KEY_OPE_ACTIVITY ="operation_activity";
private static final String KEY_CONTROLLING_KEY ="controlling_key";
private static final String KEY_ACTION_TYPE ="action_type";
private static final String KEY_LONG_TEXT ="long_text";
private static final String KEY_WORK_HPM="work_hours_p_min";
private static final String KEY_SO_UNIT="unit";
private static final String KEY_NO_RESORCE ="no_of_resources";
private static final String KEY_ERROR_CODE_REC="error_code_record_no";

private static final String SERVICE_OPERATION_TABLE_CREATE ="CREATE TABLE "+SERVICE_OPERATION+" ("+KEY_SERVICE_OPE_REC_NO+" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL,"+KEY_OPE_ACTIVITY+" TEXT, "+KEY_CONTROLLING_KEY+" TEXT, "+KEY_ACTION_TYPE+" TEXT, "+KEY_LONG_TEXT+" TEXT ,"+KEY_WORK_HPM+" TEXT, "+KEY_SO_UNIT+" TEXT , "+KEY_NO_RESORCE+" TEXT ,"+KEY_ERROR_CODE_REC+" INTEGER, FOREIGN KEY("+KEY_ERROR_CODE_REC+") REFERENCES "+ERROR_CODE+"("+KEY_ERROR_CODE_REC_NO+") ON DELETE CASCADE )";

// ------------------------Component Table----------------------
private static final String KEY_COMP_REC_NO = "component_record_no";
private static final String KEY_COMP_NO= "component_no";
private static final String KEY_COMP_DESC = "component_description";
private static final String KEY_COMP_ID  = "component_id";
private static final String KEY_REQ_QTY = "required_quantity";
private static final String KEY_UOM = "UoM";
private static final String KEY_ITEM_CAT = "item_category";
private static final String Key_OPE_ACT = "operation_activity";
private static final String KEY_STOR_LOC ="storage_location";
private static final String KEY_VAL_TYPE ="valuation_type";
private static final String KEY_SER_OPR_REC_NO = "service_operation_record_no";
private static final String KEY_SER_NO_ARRY ="serial_nos_array";

private static final String COMP_TABLE_CREATE = "create table "+COMPONENT+" ( "+KEY_COMP_REC_NO+" INTEGER primary key AUTOINCREMENT  not null,"+
                                                ""+KEY_COMP_NO+" TEXT, "+KEY_COMP_DESC+" TEXT, "+KEY_COMP_ID+"  TEXT, "+KEY_REQ_QTY+" TEXT,"+
                                                ""+KEY_UOM+" TEXT, "+KEY_ITEM_CAT+" TEXT , "+Key_OPE_ACT+" TEXT ,"+KEY_STOR_LOC+" TEXT,"+
                                                ""+KEY_VAL_TYPE+" TEXT ,"+KEY_SER_OPR_REC_NO+" INTEGER,"+KEY_SER_NO_ARRY+" TEXT,"+ 
                                                "FOREIGN KEY("+KEY_SER_OPR_REC_NO+") REFERENCES "+SERVICE_OPERATION+"("+KEY_SERVICE_OPE_REC_NO+") ON DELETE CASCADE)";

//------------------------Technician Table---------------------
private static final String KEY_TECH_REC_NO ="technician_record_no";
private static final String KEY_TECH ="technician";
private static final String KEY_WORK_HM ="work_hours_p_min";
private static final String KEY_UNIT ="unit";
private static final String KEY_DATETIME="date_and_time";
private static final String KEY_SERVICE_OP_REC_NO="service_operation_record_no";

private static final String TECH_TABLE_CREATE = "CREATE TABLE "+TECHNICIAN+" ("+KEY_TECH_REC_NO+" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL ,"+
                                                ""+KEY_TECH+" TEXT,"+KEY_WORK_HM+" TEXT, "+KEY_UNIT+" TEXT, "+KEY_DATETIME+" TEXT ,"+
                                                ""+KEY_SERVICE_OP_REC_NO+" INTEGER,FOREIGN KEY("+KEY_SERVICE_OP_REC_NO+") REFERENCES "+SERVICE_OPERATION+"("+KEY_SERVICE_OPE_REC_NO+") ON DELETE CASCADE )";

public SuzlonDBHelper(Context context, String name, CursorFactory factory,int version) {
    super(context, name, factory, version);
    // TODO Auto-generated constructor stub
}

public SuzlonDBHelper(Context context){
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub
    db.execSQL(SERVICE_ORDER_TABLE_CREATE);
    db.execSQL(ERROR_CODE_TABLE_CREATE);
    db.execSQL(SERVICE_OPERATION_TABLE_CREATE);
    db.execSQL(COMP_TABLE_CREATE);
    db.execSQL(TECH_TABLE_CREATE);
}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub

}

//------------------------------Insert into Service Order--------------------

public long insertServiceOrder(ServiceOrder serviceOrder){
    SQLiteDatabase db = this.getWritableDatabase();
    //db.execSQL("PRAGMA foreign_keys = ON;");
        ContentValues values = new ContentValues();

        values.put(KEY_OREDR_TYPE, serviceOrder.getOrderType());
        values.put(KEY_PRIORITY, serviceOrder.getPriority());
        values.put(KEY_PLANT, serviceOrder.getPlant());
        values.put(KEY_FUNCTIONAL_LOCATION, serviceOrder.getFunctionalLocation());
        values.put(KEY_EQUIPMENT_DESC, serviceOrder.getEquipmentDescription());
        values.put(KEY_EQUIPMENT_NO, serviceOrder.getEquipmentNo());
        values.put(KEY_CUSTOMER_ID, serviceOrder.getCustomerID());
        values.put(KEY_CUSTOMER_NAME, serviceOrder.getCustomerName());
        values.put(KEY_WIND_SPEED, serviceOrder.getWindSpeed());
        values.put(KEY_TOTAL_PRODUCTION, serviceOrder.getTotalProduction());
        values.put(KEY_NCR, serviceOrder.getNCR());
        values.put(KEY_TOTAL_GRID_HR, serviceOrder.getTotalGridHour());
        values.put(KEY_TOTAL_OPERATION_HR, serviceOrder.getTotalOperationHours());
        values.put(KEY_SERVICE_VISIT, serviceOrder.getServiceVisit());
        values.put(KEY_ORDER_DESC, serviceOrder.getOrderDescription());
        values.put(KEY_ERRORCODE_START_DT, serviceOrder.getErrorCodeStartDT());
        values.put(KEY_MALFUNCTION_START_DT, serviceOrder.getMalfunctionStartDT());
        values.put(KEY_MALFUNCTION_END_DT, serviceOrder.getMalfunctionEndDT());

        Long row = db.insert(SERVICE_OREDER, null, values);
        db.close();
    return row;

}

//-------------------------------Insert into Error Code-------------------------

public long insertErrorCode(DefectDamageCode defectDamage){
    SQLiteDatabase db = this.getWritableDatabase();
    //db.execSQL("PRAGMA foreign_keys = ON;");
        ContentValues values = new ContentValues();
        values.put(KEY_CODE_GROUP, defectDamage.getCodeGroups());
        values.put(KEY_CODE, defectDamage.getCodes());

        Long row = db.insert(ERROR_CODE, null, values);
        db.close();
    return row;
}

//--------------------------------Insert into Service Operation----------------------

public long insertServiceOperation(AddServiceOperation serviceOperation){
    SQLiteDatabase db = this.getWritableDatabase();
    //db.execSQL("PRAGMA foreign_keys = ON;");
        ContentValues values = new ContentValues();
        values.put(KEY_OPE_ACTIVITY, serviceOperation.getOperationActivity());
        values.put(KEY_CONTROLLING_KEY, serviceOperation.getControllingKey());
        values.put(KEY_ACTION_TYPE, serviceOperation.getActivityType());
        values.put(KEY_LONG_TEXT, serviceOperation.getLongText());
        values.put(KEY_WORK_HPM, serviceOperation.getWorkHM());
        values.put(KEY_SO_UNIT, serviceOperation.getUnit());
        values.put(KEY_NO_RESORCE, serviceOperation.getNoOfResources());

        Long row = db.insert(SERVICE_OPERATION, null, values);
        db.close();
    return row;
}

//---------------------------Insert into Component------------------------------

public long insertComponent(AddComponent addComponent){
    SQLiteDatabase db = this.getWritableDatabase();
    //db.execSQL("PRAGMA foreign_keys = ON;");
        ContentValues values = new ContentValues();
        values.put(KEY_COMP_NO, addComponent.getComponentNo());
        values.put(KEY_COMP_DESC, addComponent.getComponentDescription());
        values.put(KEY_COMP_ID, addComponent.getCommponentID());
        values.put(KEY_REQ_QTY, addComponent.getRequiredQty());
        values.put(KEY_UOM, addComponent.getUOM());
        values.put(KEY_ITEM_CAT, addComponent.getItemCategory());
        values.put(Key_OPE_ACT, addComponent.getOperationActivityComponent());
        values.put(KEY_STOR_LOC, addComponent.getStorageLocation());
        values.put(KEY_VAL_TYPE, addComponent.getValuationType());
        //values.put(KEY_SER_NO_ARRY, );

        Long row = db.insert(COMPONENT, null, values);
        db.close();
    return row;
}

//-------------------------------Insert into Technician-----------------------------
public long insertTechnician(AddTechnician addTechnician){
    SQLiteDatabase db = this.getWritableDatabase();
    //db.execSQL("PRAGMA foreign_keys = ON;");

        ContentValues values = new ContentValues();
        values.put(KEY_TECH, addTechnician.getTechnician());
        values.put(KEY_WORK_HM, addTechnician.getWorkHMTechnician());
        values.put(KEY_UNIT, addTechnician.getUnitTechnician());
        values.put(KEY_DATETIME, addTechnician.getDateTimeTechnician());

        Long row = db.insert(TECHNICIAN, null, values);
        db.close();
    return row;
} 
```

}

我需要手动提供还是由 db 管理..???

帮助

谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:00:00.837

为了强制执行 ForeignKeys，您需要在每次打开数据库连接时执行以下 sql 语句：

```
db.execSQL("PRAGMA foreign_keys = ON;"); 
```

之后，您就可以按照`db`通常的方式使用对象了。

# java - “Spring Data - JPA”是 JPA 实现还是只是对另一个 JPA 实现的扩展？

> ID：11685457
> 
> 赞同：3
> 
> 时间：2012-07-27T09:53:57.357
> 
> 标签：java, spring, jpa

我正准备为我的应用程序实现后端，现在我正在投影数据层。我期待春天。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:00:28.443

Spring Data JPA 不是 JPA 实现。它提供了将数据访问层构建到底层 JPA 顶部的方法。您是否应该使用 Spring Data JPA 完全取决于您的偏好。功能列表可以从[主页](http://www.springsource.org/spring-data/jpa)找到：

> *   支持基于 Spring 和 JPA 构建存储库
> *   支持 QueryDSL 谓词，因此支持类型安全的 JPA 查询
> *   域类的透明审计
> *   分页支持、动态查询执行、集成自定义数据访问代码的能力
> *   在引导时验证 @Query 注释查询
> *   支持基于 XML 的实体映射

这意味着您还需要一些 JPA 实现（例如 EclipseLink、Hibernate 等）。

# sed - Finding Last occurrence out of multiple occurrences of a regexp using SED Scripting

> ID：11685459
> 
> 赞同：0
> 
> 时间：2012-07-27T09:54:08.020
> 
> 标签：sed, awk

I have a verilog file that has multiple modules defined containing various input and output variables . I need to find out last occurrence of such variable (input/output) using sed script. I run the following command

address=`sed -n '100,200{/output/=};100,200{/input/=}' file.txt`
its giving me output as 102 103 104 105 106 while I want only 106. Please suggest me some way.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T11:54:19.577

这可能对您有用：

```
sed '100,200{/input\|output/=};d' file.txt | sed '$!d' 
```

或者也许如你所愿：

```
address=$(sed '100,200{/input\|output/=};d' file.txt | sed '$!d') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T15:28:38.690

你可以这样做：

```
nl -ba < file.txt | sed -n '100,200{/output\|input/h};$x;$p' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:22:43.183

```
sed -n '100,200p' foo.txt | awk '/input/{s=NR} /output/{s=NR} END{print s}' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:37:55.120

你不必使用 sed，当然 sed/awk 可以做到。尝试这个：

```
 grep -nE "input|output" test.txt|tail -1|cut -f1 -d: 
```

**编辑**

你想要这个吗？

```
kent$  echo "102 103 104 105 106"|awk '{print $NF}'
106 
```

**再次编辑**

```
kent$  another=$(echo "102 103 104 105 106"|awk '{print $NF}')

kent$  echo $another
106 
```

# phpquery - To get image src with phpquery from html page

> ID：11685463
> 
> 赞同：1
> 
> 时间：2012-07-27T09:54:38.620
> 
> 标签：phpquery

How do i get img src with phpQuery from html page? Added: I need to get this 'src' to use in parser module for drupal

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T09:56:06.893

这是一个简短的例子

```
$imgsrc = pq('div#foo img.pic')->attr('src'); 
```

# coronasdk - Cross Promoting other apps in corona sdk?

> ID：11685464
> 
> 赞同：0
> 
> 时间：2012-07-27T09:54:41.303
> 
> 标签：coronasdk

Is it possible to have a cross promotion page on your app that looks like the app store using LunarAds?

Here is an image of what I am talking about: [https://dl.dropbox.com/u/2944741/CrossPromote.png](https://dl.dropbox.com/u/2944741/CrossPromote.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-04T16:06:59.293

您可以使用应用程序列表创建 Web 视图。自定义 html 使其看起来像带有 html/css 框架（如[UIUIKit](http://code.google.com/p/iphone-universal/downloads/list) ）的 iOS 表格视图。

# html - Is it possible to create shadow like that in CSS3?

> ID：11685465
> 
> 赞同：1
> 
> 时间：2012-07-27T09:54:41.920
> 
> 标签：html, css, shadow

I'm almost sure that it's not possible to create shadows like that in CSS3 but I'm asking just in case anybody tried that and found a way:

![enter image description here](../Images/4d69b32464b329f474b52fcd26baccc1.png)

I have sidebar to the right (limited height) and longer content the the left. The shadow fades in at the beginning and fades out at the end. Can this shadow be purely procedural (no raster images at all)?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T09:59:33.137

您可以像这样使用径向渐变：

```
#leftshadow
{
    margin-left: 10px;
    height: 200px;
    width: 20px;
    border-left:1px solid #ebebeb;
    border-left:1px solid rgba(0,0,0,0.4);
    background:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.3)),to(rgba(0,0,0,0)));
    -webkit-mask-box-image:-webkit-gradient(linear,left top,right bottom,color-stop(0.0,rgba(0,0,0,0)),color-stop(0.5,rgba(0,0,0,.8)),color-stop(1.0,rgba(0,0,0,0)));
    background-image:-moz-radial-gradient(left,ellipse farthest-side,rgba(0,0,0,.3),rgba(0,0,0,0));
}​ 
```

[jsFiddle在这里](http://jsfiddle.net/Lk8vP/)

[不同的调整在这里](http://jsfiddle.net/Lk8vP/1/)

* * *

**原始答案**

如果你需要一个“简单”的嵌入阴影，你也可以像这样实现：

```
#leftshadow
{
    -webkit-box-shadow: inset 5px 0px 5px -2px rgba(0,0,0,0.4);
    -moz-box-shadow: inset 5px 0px 5px -2px rgba(0,0,0,0.4);
    box-shadow: inset inset 5px 0px 5px -2px rgba(0,0,0,0.4);
}​ 
```

[jsFiddle在这里](http://jsfiddle.net/6UFX7/4678/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:07:37.220

试试这个 [http://jsfiddle.net/6QSEc/1/](http://jsfiddle.net/6QSEc/1/)

```
div{
    height:200px;
    width:100px;
    background-color:white;
    border:1px solid #f1f1f2;
    box-shadow:10px 0px 20px -10px rgba(0,0,0,0.5) inset;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:03:04.050

```
.box {
    z-index: 100;
    border: none;
    padding: 0 0 0 10px;    
    background-image: url("images/topShadow"), url('images/bottomShadow'), url('images/shadow');
    background-position: 0 top, left top, 0 bottom;
    background-repeat: no-repeat, repeat-x, no-repeat;
} 
```

好的，这是未经测试的，但应该可以进行一些我目前没有时间进行的调整。您有 3 张图像，顶部、中间和底部。您使用 CSS3 多个背景图像将其用作左边框，只需在框的左侧添加一些填充。顺序很重要，因为它处理图像的分层。第一个将在所有其他之上。该顺序充当图像的 z-index。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:06:00.787

这是我谈到的技巧，即用白色阴影分层二级div：

[http://jsfiddle.net/dmezK/](http://jsfiddle.net/dmezK/)

我认为它并不完美，但您可以对其进行调整以满足您的需求。

这是HTML：

```
<div id="main">
<div id="cheat"></div>

</div>​ 
```

这是CSS：

```
#main
{
    width: 100px;
    height: 300px;
    -webkit-box-shadow: inset 10px 0px 5px -2px #888 ;
    position: relative;
}

#cheat {
    width: 300px;
    height: 300px;
    -webkit-box-shadow: inset 10px 0px 5px -50px white ;
    position: absolute;
    left: -100px;
} 
```

注意：也许你可以使用多个盒子阴影，但它没有得到广泛的支持。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T10:06:07.537

这是我能做到的最接近的：

```
div {
  width: 300px;
  height: 600px;
  border: solid 1px;
  box-shadow:
    inset 0px 10px 10px #fff,  
    inset 0px -10px 10px #fff,
    inset 10px 0px 20px rgba(0, 0, 0, .3);
} 
```

**现场演示：[Tinkerbin](http://tinkerbin.com/2vawIZ0U)**

# asp.net - 如何将动态 n 复选框列添加到 gridview ASP.NET

> ID：11685470
> 
> 赞同：1
> 
> 时间：2012-07-27T09:54:59.250
> 
> 标签：asp.net, gridview, checkbox

前任：`mypage.aspx?num=xxx`

如何通过代码隐藏将`num`复选框列添加到mypages 中的**Gridview ？**

我已经使用参数向**Datatable**`num`添加了列，但是当我加载 mypage 时，复选框被禁用，因此我无法检查它们。**`typeof(bool)`**

 *** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:30:45.210

这是我的网格 aspx 代码

```
<asp:GridView ID="gv" runat="server" AutoGenerateColumns="false">
    <Columns>           
    </Columns>
</asp:GridView> 
```

首先将`num`模板字段的数量添加到您的gridview

```
protected void Page_PreInit(object sender, EventArgs e)
{
    int num = Request.QueryString["num"];

    for (int i = 0; i < num; i++)
    {
        TemplateField tf = new TemplateField();
        tf.HeaderText = "Status";
        gv.Columns.Add(tf);
    }        
} 
```

添加模板字段后，现在我们将在 gridview 中添加复选框。我们编写一个函数来添加复选框。下面是代码

```
private void AddCheckBox()
{
    int num = Request.QueryString["num"];
    for (int i = 0; i < num; i++)
    {
        foreach (GridViewRow row in gv.Rows)
        {
            if (row.RowType == DataControlRowType.DataRow)
            {
                CheckBox cb = new CheckBox();
                cb.Checked = true;                  
                row.Cells[i].Controls.Add(cb);
            }
        }
    }
} 
```

现在将此函数放在您的网格数据绑定事件中。

```
protected void gv_DataBound(object sender, EventArgs e)
{
    AddCheckBox();
} 
```

最后还在页面加载事件中调用该函数，因此第一次在网格加载时显示复选框已选中

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        AddCheckBox();
    } 
} 
```

**要检查我的代码：** 我将绑定字段添加到网格视图并将网格视图与数据表绑定：

```
<asp:GridView ID="gv" runat="server" AutoGenerateColumns="false">
    <Columns>
        <asp:BoundField DataField="Data" HeaderText="Data" />
    </Columns>
</asp:GridView> 
```

并在**page_load**事件后面的代码中添加以下代码

```
 DataTable dt = new DataTable();
    dt.Columns.Add("Data");

    DataRow dr = dt.NewRow();
    dr[0] = "Test";
    dt.Rows.Add(dr);

    gv.DataSource = dt;
    gv.DataBind(); 
```

并且还在 AddCheckBox 函数中进行了 1 处更改

```
for (int i = 1; i < num + 1; i++) 
```

进行上述更改是因为我在网格视图列的索引 0 处有一个数据绑定字段，因此我将其更改为从 1 开始。

这是结果（页面输出）

```
Data    Status  Status  Status  Status  Status  Status  Status  Status  Status  Status
Test    Checked Checked Checked Checked Checked Checked Checked Checked Checked Checked 
```

Checked 用于复选框被选中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:57:56.507

采用：

```
Request.QueryString["num"] 
```

获取 URL 中 num 的值。然后迭代 num 次，每次都将 CheckBoxField 添加到您的 GridView 中。**

# c# - Sharepoint 2010 - How can I define PROGRAMMATICALLY whether Office Web Apps installed on server?

> ID：11685472
> 
> 赞同：1
> 
> 时间：2012-07-27T09:55:16.280
> 
> 标签：c#, sharepoint-2010

I am using C# programming language and want to define whether Office Web Apps installed on server in order to hide/show `<SharePoint:MenuItemTemplate Text="Open in browser" />`

My variant is as follows

```
bool b = File.Exists(@"C:\\Program Files\\Common Files\\Microsoft Shared\\Web Server Extensions\\14\TEMPLATE\\LAYOUTS\\WordViewer.aspx"); 
```

but I need something else... what is the correct method?

# javascript - 使用 Angular js、jQuery 和 Css 突出显示搜索到的文本

> ID：11685473
> 
> 赞同：1
> 
> 时间：2012-07-27T09:55:17.643
> 
> 标签：javascript, jquery, css, angularjs

我使用这个 jquery 插件来搜索文本：“ [http://code.google.com/p/jquery-highlight/downloads/list](http://code.google.com/p/jquery-highlight/downloads/list) ”..

但是我无法将这段代码包装在 Angular js 中，我的意思是说“我无法编写指令来调用这个 jquery 插件”......！！！

更新 ：

谷歌群组中的相同帖子：

[这是组](https://groups.google.com/forum/#!topicsearchin/angular/angular$20directive$20for$20jquery$20plugin/angular/rjsdnIhJRck)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:04:44.293

更新：这只是一个例子。您可以根据自己的需要进行修改。

您不需要 RegExp 比较。让我们简单地使用javascript的`split()`函数

1）定义突出显示的样式。

```
.srchslctn{
    background-color: yellowgreen;
    color: red;
} 
```

2）您的示例 HTML

```
<body>
    <div>
        <div id="serach-Paragraph">
            Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum
        </div>
        <input type="button" id="h" value="Highlight"/>
        <div id="target"></div>
    </div>
</body> 
```

3）JavaScript

```
 $(document).ready(function(){
            $("#h").on('click',function(){
                highlight(); 
            });
        });

        function highlight(){
            $("#target").empty();
            var mainString = $("#serach-Paragraph").html();
            var searchString = "ipsum";
            var arr = mainString.split(searchString);
            var len = arr.length;
            var finalString="";
            for(var i=0;i<arr.length;i++){

                finalString+=arr[i];

                if(i<len-1){
                    finalString+='<span class="srchslctn">'+searchString+'</span>';
                }
            }
            $("#target").html(finalString);
        } 
```

就是这样....

解释 -:`split()`将根据您的 searchString 打破 targetString。这类似于我们检索逗号分隔值的方式。唯一的问题是在这种情况下，您的搜索字符串就像逗号 :)

然后保持`arr[0]`原样。突出显示您的搜索字符串并将其附加到`arr[0]`. 附加`arr[1]`到上面的结果等等。

简单的....

* * *

搜索到的文本，您必须只突出显示匹配的部分，保持文本的其余部分不变？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-13T09:48:03.567

您可以使用[Angular-UI 高亮](https://github.com/angular-ui/ui-utils#highlight)过滤器。

# ios - 如何在 iOS 应用程序中使用 kml 文件在地图视图上显示数据库中的数据

> ID：11685474
> 
> 赞同：1
> 
> 时间：2012-07-27T09:55:17.677
> 
> 标签：ios, google-maps, mkmapview, kml

我在数据库中有大量的位置记录，我想使用 KML 在地图视图上显示我的位置数据以生成可视化注释。如何在地图视图上显示这些可视化效果？请给我建议以使用适用于 iOS 应用程序的 KML....

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T17:36:30.610

在此处查看 Apple KMLViewer 示例代码：

[http://developer.apple.com/library/ios/#samplecode/KMLViewer/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/KMLViewer/Introduction/Intro.html)

它展示了如何在 MKMapView 上显示 KML 文件。

另请参阅 github 上的以下两个项目。我已经使用它们来解析 KML 并在地图上显示结果。SimpleKML 适用于大多数用途。KML 框架（上次我检查过）是 KML 标准的更完整的实现。两者都适用于简单的 KML 地标和叠加层。

[https://github.com/mapbox/Simple-KML](https://github.com/mapbox/Simple-KML)

[https://github.com/FLCLjp/iOS-KML-Framework](https://github.com/FLCLjp/iOS-KML-Framework)

# java - Javax 验证：地图的约束违规

> ID：11685477
> 
> 赞同：4
> 
> 时间：2012-07-27T09:55:29.253
> 
> 标签：java, validation, map, bean-validation, hibernate-validator

我将 Map 用于本地化值，将语言环境作为键，将字符串作为值。对于必填字段，我需要检查至少设置了必需的语言环境 - 或者至少设置了一些值。我已经实现了要在此类 Map 字段和相应的验证器上使用的验证注释。问题是，如何报告缺失值？UI 中用于绑定字段错误/值的属性路径每次都会出错：

```
// Domain object:
@LocalizationRequired
private Map<Locale, String> field;

// LocalizationRequiredValidator:
public boolean isValid(Map<Locale, String> map, ConstraintValidatorContext context) {
    if (requiredLocales.isEmpty()) {
        // Check that there exists any not null value
    } else {
        context.disableDefaultConstraintViolation();
        boolean valid = true;
        for (Locale requiredLocale : requiredLocales) { 
            if (map.get(requiredLocale) == null) { // e.g. fi
                valid = false;
                context.buildConstraintViolationWithTemplate("LocalizationRequired")
                // These end up in wrong property path:
                // .addNode(requiredLocale) 
                //    --> field.fi
                // .addNode("[" + requiredLocale + "]") 
                //    --> field.[fi]
                // .addNode(null).addNode(requiredLocale).inIterable() 
                //    --> field.fi
                // .addNode(null).addNode(null).inIterable().atKey(requiredLocale)
                //   --> field
                .addConstraintViolation();
            }
        }
        return valid;
    }
} 
```

此错误的正确路径是“field [fi]”，但看来我只能访问索引子属性。在这种情况下，对象本身被索引。我正在使用休眠验证器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T13:46:40.800

我无法找到在元素级别报告索引字段错误的方法。- 这在规范中被忽略了吗？

这是我所做的：

我没有使用 Map，而是使用了一个“可嵌入”bean，其中包含所有支持的语言环境的实际字段（例如 LocalizedString（String fi，String en 等）。然后报告如下违规行为：

```
context.buildConstraintViolationWithTemplate("LocalizationRequired")
.addNode(requiredLocale)
.addConstraintViolation(); 
```

这在我们的案例中是可行的，因为我们有一组预定义的支持语言，但它不能扩展到具有任意索引的索引字段。

此外，Spring`LocalValidatorFactoryBean`或 Hibernate Validator 都不能正确支持可嵌入的验证。由于相同的组件在不同的地方使用不同的验证要求，我不能`@Valid`在组件本身内使用实际的验证注释——至少在不支持`@Valid`.

Spring`LocalValidatorFactoryBean`或 Hibernate Validator的问题在于其`invalidValue`是`ConstraintViolation`LocalizedString（“field”），而不是报告的错误嵌套字段（“field.fi”）的值。幸运的是，这可以 `LocalValidatorFactoryBean.processConstraintViolations`通过删除“从 ConstraintViolation 中删除具有无效值的自定义 FieldError 注册”并简单地报告错误来解决

```
errors.rejectValue(field, errorCode, errorArgs, violation.getMessage()); 
```

这样 Spring 解决了`invalidValue`using given `field`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T05:59:29.657

这是一个非常有趣的问题。现在我没有时间自己测试它:(，但是这里的这个人：

[集合的验证](https://stackoverflow.com/questions/4308224/hibernate-validation-of-collections-of-primitives)

似乎能够验证元素的集合。因此，如果您切换到 Collection 而不是 Map（这应该相当容易），例如：

```
 class LocaleToString {
      private Locale locale;
      private String language;
 }

 @LocalizationRequired
 List<LocaleToString> locales; 
```

我认为你应该能够实现你想要的。

# haskell - haskell [char] 转字节串

> ID：11685478
> 
> 赞同：4
> 
> 时间：2012-07-27T09:55:30.273
> 
> 标签：haskell

```
main :: IO ()
main = do 
    let a = ("teeeeeeeeeeeeest","teeeeeeeeeeeest")
    b <- app a
    print b 
```

应用程序期望 (bytestring,bytestring) 而不是 ([char],[char]) 我该如何转换它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-27T10:00:40.097

如果您只包含 ASCII 值或者您只对每个 s 的最后八位感兴趣，您可以将`String`s 转换为`ByteString`s with `Data.ByteString.Char8.pack`（或其惰性`ByteString`版本），`String``Char`

```
import qualified Data.ByteString.Char8 as C
main :: IO ()
main = do 
    let a = ("teeeeeeeeeeeeest","teeeeeeeeeeeest")
    b <- app $ (\(x,y) -> (C.pack x, C.pack y)) a
    print b 
```

如果您`String`包含非 ASCII`Char`并且您不仅对最后八位感兴趣，那么您将需要一些其他编码，例如`Data.ByteString.UTF8.fromString`.

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-27T10:08:12.983

你可以试试：

```
import qualified Data.ByteString.Char8 as B --to prevent name clash with Prelude
B.pack "Hello, world" 
```

在这里可以找到很多有用的功能：

[http://www.haskell.org/ghc/docs/latest/html/libraries/bytestring/Data-ByteString-Char8.html](http://www.haskell.org/ghc/docs/latest/html/libraries/bytestring/Data-ByteString-Char8.html)

你也可以`Data.ByteString.Lazy.Char8` 用于惰性字节串

[http://hackage.haskell.org/packages/archive/bytestring/latest/doc/html/Data-ByteString-Lazy-Char8.html#v:pack](http://hackage.haskell.org/packages/archive/bytestring/latest/doc/html/Data-ByteString-Lazy-Char8.html#v:pack)

# sql-server - sql中的字母数字排序

> ID：11685479
> 
> 赞同：1
> 
> 时间：2012-07-27T09:55:31.563
> 
> 标签：sql-server, tsql

您好我目前正在做一个数据库需要对批号进行排序的项目

```
prefix is nvarchar
lotnum is int
suffix is nvarchar 
```

我已经设法将我使用的批号代码转换为

```
Select (case when prefix is null then '' else prefix end) +
CONVERT ( nvarchar , ( lotnumber ) ) +(case when suffix is null then '' else suffix end)
(values in the database are a1a,1a,1,2,100) 
```

当`order by lotnumber`我得到

```
a1a
1a
1
2
100 
```

然后前缀到 order by 并得到这个结果

```
1
a1a
1a
2
100 
```

我也添加了后缀并返回相同的结果

我需要按如下方式订购

```
1
1a
2
100
a1a 
```

请有人可以帮我解决这个问题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:24:02.490

您是否尝试过按所有三列排序？

```
ORDER BY prefix, lotnum, suffix 
```

顺便说一句，我可以看到您正在使用 SQL Server。为了使事情更便携，我建议使用 COALESCE 和 CAST 而不是 CASE/WHEN 和 CONVERT 作为前缀和 lotnum。完整查询可能如下所示。

```
SELECT
  COALESCE(prefix, '')
  + CAST(lotnum AS NVARCHAR)
  + COALESCE(suffix, '') AS lot_number
FROM
  YourTable
ORDER BY
  COALESCE(prefix, '')
  ,lotnum
  ,COALESCE(suffix, '') 
```

# java - 将其他媒体应用程序静音

> ID：11685482
> 
> 赞同：0
> 
> 时间：2012-07-27T09:55:39.430
> 
> 标签：java, android

我正在开发一个 android 媒体播放器应用程序。我想静音所有媒体应用程序，只有我的播放器播放声音。但我没有找到任何方法来解决我的问题。

你能给我解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:03:35.403

你不能。表现良好的应用程序应在失去音频焦点时暂停播放 - 但并非必须这样做。

# c# - EF Model First：子类对象没有出现在上下文中

> ID：11685484
> 
> 赞同：2
> 
> 时间：2012-07-27T09:55:43.167
> 
> 标签：c#, .net, entity-framework, domain-driven-design, ef-model-first

我有一个使用 Model First 方法创建的模型。当我尝试使用上下文访问 Book 实体时，它没有在此处列出；但是列出了销售项目。为了将 Book 实体添加到上下文中，需要进行哪些更改？

注意：请阅读[添加对导致异常](https://stackoverflow.com/questions/11686727/adding-reference-to-entity-causing-exception)和[实体框架的实体的引用：获取存储库中的子类对象以](https://stackoverflow.com/questions/11683536/entity-framework-get-subclass-objects-in-repository)获取更多详细信息。

![在此处输入图像描述](../Images/86058d04caf0de4fabb7877659f3c8f3.png)

模型

![在此处输入图像描述](../Images/94e17d4bad9f8d81c61f49ea89fd0cf4.png)

代码

![在此处输入图像描述](../Images/a6484493bdf18b3daee60a64ec5d85e3.png)

```
 static void Main(string[] args)
    {
        string connectionstring = "Data Source=.;Initial Catalog=NerdDinners;Integrated Security=True;Connect Timeout=30";
        using (var db = new MyModelFirstTestContainer(connectionstring))
        {
            Book book = new Book();
            book.AvailabilityStatus = "Available";
            book.Price = 100;
            book.Title = "World visit";

           //db.

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:01:23.157

实体框架不会为 Context 上的继承项创建单独的 ObjectSet。

相反，您可以使用如下`OfType<T>()`方法：

```
from b in db.SellingItems.OfType<Book>()
where b.Title = "my title"
select b; 
```

这是[OfType的 MSDN 文档](http://msdn.microsoft.com/en-us/library/bb301729.aspx)

如果要添加继承实体，您将使用父 ObjectSet。

```
Book b = ...;
db.SellingItems.Add(b);
db.SaveChanges(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:01:06.290

我不知道你怎么能在那里添加它们，但你真的想要吗？

相反，我会使用“db.SellingItems.OfType()”。这样，您就可以请求所有书籍并已将它们投射出来。如果您调用 db.SellingItems，那么您将获得所有具有正确实例的 SellingItems。

# c - 'if' 是否应该测试 '==' 或 '!='

> ID：11685487
> 
> 赞同：3
> 
> 时间：2012-07-27T09:55:54.730
> 
> 标签：c, if-statement

是否有任何特别的理由`!=`使用超过`==`？

我注意到这`!=`似乎更常见，但想知道这是否有原因。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T09:59:11.453

如果你有这样的代码：

```
if (a == b)
{
    // block 1
}
else
{
    // block 2
} 
```

它可以重写为：

```
if (a != b)
{
    // block 2
}
else
{
    // block 1
} 
```

这两个例子做同样的事情。两者都不比另一个更有效。如果一个比另一个使用得更多，那可能是个人喜好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:06:16.740

您应该根据您要表达的逻辑条件使用`==`或。`!=`如果您同时关心`true`and`false`条件，即`if`and`else`部分，那么切换的净效果（如果它是一个简单的比较）就是哪些代码需要出现在哪个部分。

有一种编码风格，请参阅（书籍）**Code Complete**的关于*积极形成布尔表达式*的部分，这表明表达积极事物的布尔表达式比表达消极事物的布尔表达式更容易理解。

如果您只关心计算结果为 的条件`true`，例如，您只关心是否有相等（for `==`）或不相等（for ），那么如果您选择正确的部分，则`!=`不需要一个部分。`else`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:07:56.817

大多数情况下，使用 != 或 == 的偏好取决于内容：

```
resultOfOperationOrCall = operationOrCall(...);
if (resultOfOperationOrCall != somePredefinedErrorTypeValue) {
// Normal processing
} else {
// Exception/error processing
} 
```

这里使用 != 在逻辑上比使用 == 更清晰

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T10:37:12.900

我更喜欢它，因为它更明确（并且写错`!=`的机会更少）。`=`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T12:20:51.337

它完全且完全取决于用户的感知和需求。我看不出有任何理由说明为什么要使用 != 多于 ==

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-27T11:20:54.507

由于 == 和 != 都存在汇编代码，因此对于 x86 架构，没有高效或低效代码的问题。所以这取决于您。您可以使用其中任何一个。

如果对于某些机器，如果汇编代码不可用，那么效率或效率低下的结果是编译器通过执行一些额外的操作（即添加额外的汇编代码）来实现的。

# jquery-mobile - jQuery Mobile 和 MVVM 挑战

> ID：11685489
> 
> 赞同：3
> 
> 时间：2012-07-27T09:56:02.177
> 
> 标签：jquery-mobile, mvvm, knockout.js, knockout-2.0

我在尝试使用 JQM 和 MVVM 时遇到了一些挑战。我也在尝试使用 knockout.js。

例如，目前我正在尝试实现类似于 iOS 页面控件的导航（小点表示您可以滑动导航到下一页）：

![页面指​​示器](../Images/67ec4174bcdbb25e0f8efa8cdd8c7b67.png)

要显示的数据是从服务器获取的，需要在 JQM 页面中显示。因此需要动态创建 JQM 页面。

从 UI 的角度来看，我计划使用包含点的固定页脚（基于页数）。

问题在于需要在 JQM 页面之间持久存在的视图模型，因为我不想逐页从服务器加载数据，数据会立即加载，并且预计客户端会在页面中显示它。

我可以有一个视图模型来保存数据并贯穿应用程序的整个生命周期，并将每个页面视图绑定到它。相反，只要视图确实需要它，我想保持视图模型处于活动状态。

我正在考虑的解决方案是捕获 jQueryMobile 页面导航事件并查看导航是否在这些页面之间。如果不是，则应删除视图模型（将其分配给 null）。下次如果需要加载这些页面中的任何一个（例如通过导航回到最后一页），则重新创建视图模型（再次从网站获取数据）。

有更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T19:34:03.620

您为什么不尝试使用[JQM 分页插件](http://filamentgroup.com/lab/jquery_mobile_pagination_plugin/)以及 @calavoow 提到的持久页脚？

这将为您提供带有固定页脚的可拖动 JQM 页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T12:40:09.790

您应该查看 jQueryMobile 文档中的[Persistent Footers 页面](http://jquerymobile.com/test/docs/toolbars/footer-persist-a.html)。

# java - 什么是默认注释处理器发现过程？

> ID：11685498
> 
> 赞同：21
> 
> 时间：2012-07-27T09:57:00.130
> 
> 标签：java, maven-2, annotations, annotation-processing, maven-compiler-plugin

Maven Compiler 插件的[文档提到以下内容](http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessors)：

> **注释处理器：**
> 
> 要运行的注释处理器的名称。仅适用于 JDK 1.6+ 如果未设置，则应用默认注释处理器发现过程。

这里*默认的注释处理器发现过程*是什么？除了这个配置标签，还有其他方法可以设置注释处理器吗？

我发现[注释处理工具入门（apt）](http://docs.oracle.com/javase/6/docs/technotes/guides/apt/GettingStarted.html)文档提到了一个*默认的发现过程*，但它适用于*工厂类*而不是处理器，不幸的是它使用了 JDK 中的`tools.jar`和`com.sun`包。这是默认的注释处理器发现过程吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-27T10:04:03.167

使编译器可以使用注释处理器的默认方法是将其注册到`META-INF/services/javax.annotation.processing.Processor`. 该文件可以包含许多处理器：每个处理器都在其自己的行上是完全限定的类名，最后有一个换行符。如果未指定任何处理器，编译器将默认使用以这种方式找到的处理器。

# php - Magento：当用户放弃贝宝付款时，库存商品减少

> ID：11685499
> 
> 赞同：2
> 
> 时间：2012-07-27T09:57:01.723
> 
> 标签：php, magento, e-commerce

我有一个用 magento 开发的电子商务网站，我使用 paypal 作为付款方式。当用户在购物车中为产品“连衣裙”添加 2 件商品并转到结帐页面并单击下订单按钮时​​，我将用户重定向到贝宝网站进行付款。但是也有一些用户放弃支付，离开了paypal页面。

当他们点击下订单时，magento 会在后端生成一个订单并保持其状态为 Pendin，一旦 paypal 付款完成并且用户重定向回我们的网站，该订单的状态会更新为处理中，因为付款已完成。但是如果用户在没有付款的情况下离开 pyapal 支付页面，那么我的产品库存会减少，其他用户无法下订单，直到我取消垃圾订单。

有什么方法可以使这个过程自动化，如果用户不支付贝宝，那么库存/库存应该恢复正常吗？

请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:24:33.333

Here is the cron that we are using since past few months. This code checks for pending orders for more than 7 minutes age to 30 minutes and cancels them. For me this restores the inventory.

```
 public function cancelPending()
        {

        $orderCollection = Mage::getResourceModel('sales/order_collection');
        $orderCollection
            ->addFieldToFilter('status', 'pending')
            ->addFieldToFilter('created_at', array('lt' =>  new Zend_Db_Expr("DATE_ADD('".now()."', INTERVAL -'0:07' HOUR_MINUTE)"),
                                            'gt' => new Zend_Db_Expr("DATE_ADD('".now()."', INTERAL -'0:30' HOUR_MINUTE)")));

        foreach($orderCollection->getItems() as $order)
        {
            $orderModel = Mage::getModel('sales/order');
            $orderModel->load($order['entity_id']);

            if(!$orderModel->canCancel())
                continue;

            $orderModel->cancel();
            $orderModel->setStatus('canceled');
            $orderModel->save();

} 
```

My default status for an order pending payment is "pending". you may have to change that.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:07:25.727

我想您需要设置一个 magento cron 作业，该作业会接收处于待处理状态超过 20 分钟的订单，然后恢复这些订单，从而再次启用您的库存。

我试图用谷歌搜索它，但找不到任何东西。我很确定这样的事情存在

'cron' 是一种在 UNIX 系统上定期（例如每 10 分钟）安排事情的方法，Magento 继承了这个术语，在这里你可以找到一些细节： http: [//www.magentocommerce.com/wiki/1_-_installation_and_configuration/how_to_setup_a_cron_job](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/how_to_setup_a_cron_job)

所以，算法计划：

*   每 10 分钟
    *   检查处于待处理状态且早于 (current_time -20 分钟) 的订单
    *   自动还原这些订单

（也许你可以给那些订单超过 10 分钟的人发邮件，嘿嘿，你不想付钱吗？）

# c++ - C++ 中向量 obj 的地址是什么？

> ID：11685508
> 
> 赞同：1
> 
> 时间：2012-07-27T09:57:18.857
> 
> 标签：c++, vector, memory-address

请看下面的代码：

```
#include <vector>
#include <iostream>
int main(int argc, char *argv[]) {
  std::vector<double> obj(10,0);
  std::cout << &obj << std::endl;
  std::cout << &obj[0] << std::endl;
} 
```

我想知道这两个地址之间的区别&谢谢！`a[5]`据我所知，对于像`&a`<=> `&a[0]`<=>这样的数组`a`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T09:58:22.247

`&obj`是向量本身的地址，而`&obj[0]`是向量内部数据的地址。数组只不过是存储在其中的数据，因此数组的地址实际上与其中数据的地址相同，而向量在堆上分配其内部数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:10:14.570

也许这有帮助

```
struct MyVector
{
  double* data;
};

int main
{
  MyVector obj;
  cout << &obj << std::endl;
  cout << obj.data << std::endl;
} 
```

显然（我希望）这两个指针是不同的。这与 std::vector 相同。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:01:53.230

&obj 是栈上向量的地址。它的类型是“指向向量的指针”（ std::vector* ）。而 &obj[0] 是存储在向量中的第一个 double 的地址，并且是“指向 double 的指针”(double*) 类型。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T10:39:47.480

我感觉您误解了 std::vector 和数组之间最基本的区别。我的意思是，例如

```
int i_array [ 5 ] = { 0 }; 
```

不是向量。向量是一个类，而 i_array 只是一个指向数组第一个整数的指针。（并且在指针上使用 [] 与在向量对象上使用 [] 不同）在使用向量的 [] 运算符时，您只是在访问返回对第一个整数（或双精度）的引用的类的函数在您的情况下）由类向量管理的数组。

So &obj gives you the pointer for your instance of the vector, your object, "this", while &obj[0] first calls operator [] which returns a reference to the first entry of your array, and with & you get the address of it.

# entity-framework-4 - 在这种情况下，EntityFramework 是否足够智能以触发一个查询而不是两个？

> ID：11685511
> 
> 赞同：0
> 
> 时间：2012-07-27T09:57:24.417
> 
> 标签：entity-framework-4

我有一个现有的控制器操作，如下所示。

```
Public Function List(ByVal UserID As Integer, Optional ByVa; Filter As String = Nothing) As ActionResult
    Dim records

    If Filter IsNot Nothing Then
        records = context.Contacts.Where(Function(x) x.UserID = UserID and x.Name.Contains(Filter))
    Else
        records = context.Contacts.Where(Function(x) x.UserID = UserID)
    End If

    return View(records)
End Function 
```

我希望使它更简单，如下所示。

```
Public Function List(ByVal UserID As Integer, Optional ByVa; Filter As String = Nothing) As ActionResult
    Dim records = context.Contacts.Where(Function(x) x.UserID = UserID)

    If Filter IsNot Nothing Then
        records = records.Where(Function(x) x.Name.Contains(Filter))
    End If

    return View(records)
End Function 
```

如果通过了过滤器，EF 是否会触发两个查询，或者它是否足够智能以触发一个查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:04:11.673

试试看！

启动 SQL Management Studio（或类似软件）并加载 SQL Profiler，连接到数据库并查看那里有哪些传入查询。

从理论上讲，EF4 没有理由不能将其作为单个操作运行，因为数据请求直到第二次应用 where 子句之后才会出现。

*   构建查询
*   添加 where 子句
*   添加第二个 where 子句
*   执行数据检索

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:08:02.300

Yes, one query - this is the nature of the IQueryable interface. All methods which return an IQueryable **should** not execute anything until the IQueryable's enumerator is accessed.

# silverlight-4.0 - 如何使用relaycommand mvvm在silverlight中的数据网格内的按钮中使用触发事件

> ID：11685514
> 
> 赞同：0
> 
> 时间：2012-07-27T09:57:30.830
> 
> 标签：silverlight-4.0, datagrid

如何使用relaycommand mvvm在silverlight中的数据网格内的按钮中使用触发事件

我无法将选定的值放入某些 Dto 中，这意味着一旦我选择了一行进行删除，选定的项目属性显示为 NULL。如何解决它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T08:21:59.183

您可以在数据网格中使用如下触发事件：

```
 <Button Content="Message"  Height="23" HorizontalAlignment="Left" Margin="234,116,0,0" Name="btnMsg" VerticalAlignment="Top" Width="75" >

        <i:Interaction.Triggers>
            <i:EventTrigger EventName="Click">                    
                <si:CallDataMethod Method="HandleShowMessage"/>
            </i:EventTrigger>
        </i:Interaction.Triggers>
    </Button> 
```

您必须为此添加必要的参考。

对于 selecteditem，您必须将所选项目设置为 datagrid，而其他您必须在 viewmodel 中标记属性：

在 Xaml 中：

```
 <sdk:DataGrid  Height="Auto" AutoGenerateColumns="False" ItemsSource="{Binding Emp}" SelectedItem="{Binding SelectedEMp,Mode=TwoWay}"  BorderThickness="1"  HorizontalAlignment="Left" Name="dataGrid1" VerticalAlignment="Top" Width="auto"> 
```

在 Viewmodel 中：

```
 private EmpInfo _selectedEMp;
    public EmpInfo SelectedEMp
    {
        get { return _selectedEMp; }
        set
        {
            _selectedEMp = value;
            on("SelectedEMp");
        }
    } 
```

谢谢

# iphone - 如何在 CCSprite 中获取特定像素的 RGBA 颜色

> ID：11685517
> 
> 赞同：4
> 
> 时间：2012-07-27T09:57:38.727
> 
> 标签：iphone, objective-c, cocos2d-iphone, ccsprite

我正在使用 cocos2d for iPhone v1.0.1 库为 iPhone 编写游戏。为了让我的游戏正常工作，当我知道坐标时，我需要检查 CCSprite 中特定像素的颜色。我一直在寻找解决方案两天，但我没有找到任何工作。也许有人以前做过这个并且知道怎么做？

如果这更容易的话，我的另一个可能性是从 CCSprite 创建一个 UIImage ......

问候， jarektb

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-02T13:27:50.650

显然不能直接访问包含精灵的颜色缓冲区。但是，您可以将精灵绘制到 CCRenderTexture 并从那里读取像素。

```
location = ccp(x * CC_CONTENT_SCALE_FACTOR(), y * CC_CONTENT_SCALE_FACTOR());

UInt8 data[4];

CCRenderTexture* renderTexture = [[CCRenderTexture alloc] initWithWidth:sprite.boundingBox.size.width * CC_CONTENT_SCALE_FACTOR() 
                                                                 height:sprite.boundingBox.size.height * CC_CONTENT_SCALE_FACTOR() 
                                                            pixelFormat:kCCTexture2DPixelFormat_RGBA8888];

[renderTexture begin];
[sprite draw];

glReadPixels((GLint)location.x,(GLint)location.y, 1, 1, GL_RGBA, GL_UNSIGNED_BYTE, data);

[renderTexture end];
[renderTexture release];

NSLog(@"R: %d, G: %d, B: %d, A: %d", data[0], data[1], data[2], data[3]); 
```

如果您使用的是视网膜显示器，则必须考虑内容比例因子。

该解决方案也可以很容易地转换为 CCSprite 类别或子类。

这似乎是一个老话题，但我在这里发布了答案，因为这是我刚刚遇到同样困境时谷歌上的第一个热门话题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T12:30:44.257

如果您的精灵在屏幕上可见，您可以使用[glReadPixels](http://www.khronos.org/opengles/documentation/opengles1_0/html/glReadPixels.html)函数。它应该看起来像这样（其中`x`和`y`第二行是坐标）：

```
ccColor4B *buffer = malloc(sizeof(ccColor4B));
glReadPixels(x, y, 1, 1, GL_RGBA, GL_UNSIGNED_BYTE, buffer);
ccColor4B color = buffer[0]; 
```

# android - 如何同时平滑地制作多个动画？

> ID：11685519
> 
> 赞同：0
> 
> 时间：2012-07-27T09:57:46.727
> 
> 标签：android, android-animation

我正在开发卡罗姆游戏。我试图通过在队列中添加动画来为大约 20 个 ImageViews(Coin) 制作动画.....单个 View(Coin) 的动画很好，但是当我完全制作动画时，它变得非常慢。我希望所有的硬币都能毫无问题地同时进行动画处理。这是我写的代码。

```
 private void startAnimations(int ID, float[] values) {
    switch (ID) {
    case 1: // 43 float values

        /*
         * 
         * long timeinmill = System.currentTimeMillis();
        System.out.println ("\n++++++++    JAVA  : ANIMATION METHOD ENDING TIME = "+timeinmill+"  +++++++++++\n");
      try {
                  FileWriter fstream = new FileWriter("/sdcard/carromjava.txt");
                  BufferedWriter out = new BufferedWriter(fstream);

                out.write(Long.toString(timeinmill));
                out.close();
      } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
      }
              //Close the output stream
       */   

        int counter=0;
        int conX=0,conY=1;
        boolean go=false;
        if(watch==0){
            pos=getPositions();
            watch=1;
        }

        long duration = (long) (values[41]*1000); //(values[40] * 1000);
        LinearInterpolator linear_interpolator = new  LinearInterpolator(); //AccelerateInterpolator();
        DecelerateInterpolator linear_interpolator1=new DecelerateInterpolator();
        SetAnimation setAnimation = new SetAnimation();
        setAnimation.duration = duration;
        setAnimation.checkPocketFlag = (int) (values[40]);
        setAnimation.produce_sound_type = (int) (values[42]);
    //  AnimatorSet animatorSet = new AnimatorSet();
    //  ArrayList<Animator> animationFull=new ArrayList<Animator>();
        //System.out.println("Values length ="+values.length);
    /*  double dx=Math.abs(pos[0]-(values[0]- board_striker/2.0f));
        double dy=Math.abs(pos[1]-(values[1]- board_striker/2.0f));
        double distance=Math.sqrt((double)(dx*dx)+(dy*dy));
        //double velx=dx/values[41];
        //double vely=dy/values[41];
        double duraX= Math.abs((dx/values[43]))*1000;
        double duraY= Math.abs((dy/values[44]))*1000;
        double velocity=Math.sqrt((double)(values[43]*values[43])+(values[44]*values[44]));
        double dura=distance/velocity;*/
        for (int i = -1; i < 19; i++) {
            if (i == -1) {

                //System.out.println("Coins");
                //System.out.println("x="+pos[0]+"Y="+pos[1]);
                //System.out.println("Animx="+(values[0]- board_striker/2.0f)+"Animy="+(values[1]- board_striker/2.0f));

                ObjectAnimator anim1 = ObjectAnimator.ofFloat(striker,
                        "translationX",pos[counter], values[counter++] - board_striker/2.0f );
                ObjectAnimator anim2 = ObjectAnimator.ofFloat(striker,
                        "translationY",pos[counter], values[counter++] - board_striker/2.0f );
                //Setting Interpolator

                anim1.setInterpolator(linear_interpolator);
                anim2.setInterpolator(linear_interpolator);

                anim1.setDuration((long)values[41]);
                anim2.setDuration((long)values[41]);

            //  if((pos[conX] != (values[conX]-board_striker / 2.0f)) && (pos[conY]!=(values[conY]-board_striker / 2.0f))){
                //System.out.println("Animating");
            //  animationFull.add(anim1);
            //  animationFull.add(anim2);
                AnimatorSet animatorSet = new AnimatorSet();
            //  animatorSet.play(anim1);
            //  animatorSet.play(anim2);

                animatorSet.playTogether(anim1, anim2);
            //  animatorSet.setDuration((long)values[41]);
                animatorSet.setInterpolator(linear_interpolator);
                //animatorSet.start();

                setAnimation.anim_queue.add(animatorSet);
                setAnimation.last_anim = animatorSet;
            //  }
                conX=+2;
                conY=+2;
                continue;
                //break;
            }
            ObjectAnimator anim1 = ObjectAnimator.ofFloat(
                    pieces[i].coinImv, "translationX",
                     values[counter++] - board_carrommen/2.0f);//2*i+2
            ObjectAnimator anim2 = ObjectAnimator.ofFloat(
                    pieces[i].coinImv, "translationY",
                    values[counter++] - board_carrommen/2.0f);//2*i+2+1

            anim1.setInterpolator(linear_interpolator);
            anim2.setInterpolator(linear_interpolator);

            anim1.setDuration((long)values[41]);
            anim2.setDuration((long)values[41]);

        //  if((pos[conX] != (values[conX]- board_carrommen / 2.0f)) && (pos[conY]!=(values[conY]- board_carrommen / 2.0f))){

        //  animationFull.add(anim1);   
        //  animationFull.add(anim2);   
            AnimatorSet animatorSet = new AnimatorSet();
            animatorSet.playTogether(anim1, anim2);

            animatorSet.setInterpolator(linear_interpolator);

            //animatorSet.setDuration((long)values[41]);
            setAnimation.last_anim = animatorSet;
            setAnimation.anim_queue.add(animatorSet);
        //  }
            conX+=2;
            conY+=2;
        }   

        if(watch!=0){
            for(int i=0;i<40;i++){
                if(i==0 || i==1)
                    pos[i]=values[i]- board_striker/2.0f;
                else
                    pos[i]=values[i]-board_carrommen / 2.0f;
            }
        }

    /*  animatorSet.playTogether(animationFull);
        animatorSet.setDuration((long) (duration));
        animatorSet.setInterpolator(linear_interpolator);

        setAnimation.last_anim=animatorSet;*/

        // Create a job and push to job queu

        animation_queue_set.add(setAnimation);

        if (read_from_queue) {
            start_set_anim();
            read_from_queue = false;
        }
   }
   }

    anim_listener = new AnimatorListener() {

        long start_time ;

        public void onAnimationStart(Animator animation) {
            start_time = System.currentTimeMillis();
        }

        public void onAnimationRepeat(Animator animation) {
            // TODO Auto-generated method stub
        }

        public void onAnimationEnd(Animator animation) {
            // TODO Auto-generated method stub
            //long exit = System.currentTimeMillis();
            //logger.info("\t Duration = "+animation.getDuration()+ ", Animation Start time = "+start_time  +" , +++++++  animation actual end = "+ exit +"\n");
            start_set_anim();
        }

        public void onAnimationCancel(Animator animation) {
            // TODO Auto-generated method stub
            // onAnimCancel(animation);
        }
    };

    anim_listener_check_pocket = new AnimatorListener() {

        public void onAnimationStart(Animator animation) {
            // TODO Auto-generated method stub
            // onAnimStart(animation);
            //System.out.println ("\n +++++++  Animation Start delay  =  "+animation.getStartDelay());
            animation.setStartDelay(0);
        }

        public void onAnimationRepeat(Animator animation) {
            // TODO Auto-generated method stub
        }

        public void onAnimationEnd(Animator animation) {
            // TODO Auto-generated method stub
            nativeInterface.IonAnimationEnd();
            start_set_anim();
        }

        public void onAnimationCancel(Animator animation) {
            // TODO Auto-generated method stub
            // onAnimCancel(animation);
        }
    };
    private void start_set_anim() {
    if (animation_queue_set.isEmpty()) {
        read_from_queue = true;
        return;
    }
    SetAnimation recent_anim = animation_queue_set.removeFirst();
    Iterator<AnimatorSet> it = recent_anim.anim_queue.listIterator();

    try{

    if (recent_anim.checkPocketFlag != 0) {
        if(recent_anim.last_anim!=null)
            recent_anim.last_anim.addListener(anim_listener_check_pocket);
        else
            start_set_anim();
    } else {
        if(recent_anim.last_anim!=null)
            recent_anim.last_anim.addListener(anim_listener);
        else
            start_set_anim();

}
    }catch(Exception e){
        System.out.println("Exception Raised "+e);
        e.printStackTrace();
    }

/*  recent_anim.last_anim.setStartDelay(0);
    recent_anim.last_anim.start();*/

    while (it.hasNext()) {
        AnimatorSet aset = it.next();
        aset.setStartDelay(0);
        aset.start();
        //(it.next()).setStartDelay(0);
        //(it.next()).start();
        it.remove();
    }
    /*
     * if (animation_queue_set.isEmpty()) { read_from_queue = true; }
     */
} 
```

请帮助我如何将所有动画平滑在一起。我有一个去 OpenGL 的想法，但不去 OpenGL 有没有办法做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:06:57.087

如果您使用 UI 类来为每个对象设置动画，并且有许多同时具有动画的对象，则始终建议使用 OpenGL 等低级 API。或者，如果您对学习 OpenGL 不满意，您可以使用 Cocoas 2D 或其他优秀的 API，它们只是在低级 API 之上创建了一个强大的框架。

# ios - ios上的phonegap 2.0有错误

> ID：11685530
> 
> 赞同：3
> 
> 时间：2012-07-27T09:58:38.003
> 
> 标签：ios, cordova

我的代码在 android 平台上运行良好（phonegap 2.0 及之前）。但是当我尝试在 ios 上运行它时，它有一些问题。如果我像这样添加cordova2.0.js：

```
<script type="text/javascript" src="js/cordova-2.0.0.js"></script> 
```

但我的应用程序会提醒很多。像这些：

["信息","NetworkStatus0",true]

["tDeviceInfo","Device1",true]

当我移除 cordova-2.0.0.js 标签时。index.html 加载正常，没有任何警报。我不知道为什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T13:25:02.217

我们有一个类似的问题，通过始终使用 xCode 在启动 phonegap-project 时为您自动创建的 cordova-2.0.0 得到了解决。

你用的是安卓版的javascript吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T08:16:57.320

尝试使用适用于 ios 的 cordova 库。看来你用的是安卓的，或者路径不对。

# visual-c++ - VC++ 不显示输出

> ID：11685531
> 
> 赞同：0
> 
> 时间：2012-07-27T09:58:43.470
> 
> 标签：visual-c++, trigonometry

我是 VC++ 的新手，现在已经有好几次了，这是第三个即使在成功构建后也不提供输出的程序。

```
 #include <AFXWIN.H>
 #include <math.h>
 #define PI 3.1415926
 #define SEGMENTS 500

 class CMyApp : public CWinApp {
public:
   virtual BOOL InitInstance();
};

class CMainWindow : public CFrameWnd
{
public:
CMainWindow();
protected:
afx_msg void OnPaint();
afx_msg void OnLButtonDown(UINT, CPoint);
DECLARE_MESSAGE_MAP();
};

CMyApp myAPP;
    BOOL CMyApp::InitInstance() {
    m_pMainWnd = new CMainWindow;
    m_pMainWnd->ShowWindow(SW_MAXIMIZE);
    m_pMainWnd->UpdateWindow();
    return TRUE;
  }

 BEGIN_MESSAGE_MAP (CMainWindow, CFrameWnd)
 ON_WM_PAINT ()
 END_MESSAGE_MAP ()

 CMainWindow::CMainWindow() {
     Create(NULL,"The Hello Application",WS_OVERLAPPEDWINDOW);                                                           
}

void CMainWindow::OnPaint() {
    CRect rect;
    int nWidth = rect.Width();
    int nHeight = rect.Height();

CPaintDC dc (this);
CPoint aPoint[SEGMENTS];
for (int i =0; i < SEGMENTS; i++){
    aPoint[i].x = ((i*nWidth)/SEGMENTS );
    aPoint[i].y= (int)((nHeight/2)* (1-(sin((2*PI*i)/SEGMENTS))));
}
dc.Polyline(aPoint, SEGMENTS);
UpdateData(false);
 } 
```

上面的程序应该给出正弦曲线作为输出，除了我得到一个空白窗口。而且我不知道为什么会这样。如果有帮助，我正在使用 VC++ 6.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:05:28.447

问题可能是您用来获取宽度和高度的矩形未初始化。你必须从某个地方得到矩形，见例如[`CWnd::GetClientRect`](http://msdn.microsoft.com/en-us/library/hkzy4k3x%28v=vs.80%29.aspx)。

# user-interface - Filemaker：列表视图：每条记录的不同 UI

> ID：11685535
> 
> 赞同：0
> 
> 时间：2012-07-27T09:58:59.133
> 
> 标签：user-interface, filemaker

我正在使用列表视图。基于变量，我想在不同的记录（同时显示）中显示不同的对象组（按钮、文本等）。

我对解决方案的第一次尝试是使用我通过脚本控制的选项卡。问题是，列表视图中的所有记录总是显示选项卡控件的相同选项卡。因此，如果我转到记录中的一个选项卡，所有其他记录也会转到此选项卡。

不幸的是，也没有允许隐藏对象组的隐藏选项。

有什么解决办法吗？我有 filemaker 11 和 12。尽管 filemaker 11 的解决方案是首选。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T07:33:11.923

嗯..据我所知，你说的方式是做不到的。

隐藏字段的方法是在其顶部使用带有“条件格式”的其他元素，以便将其隐藏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T20:52:45.680

不可以。您可以在表单视图（隐藏选项卡和触发器）或报表（由门户包围的滑动元素）中执行此操作，但不能在列表视图中执行此操作。

# iphone - MKMapView MKAnnotationView 问题？

> ID：11685537
> 
> 赞同：0
> 
> 时间：2012-07-27T09:59:05.020
> 
> 标签：iphone, mkmapview, mkannotationview

我有一个带有图钉的地图视图，当用户选择一个图钉时，它会转到该图钉的详细信息屏幕。我还有一个表格视图，当用户选择一个项目时，它会转到相同类型的详细视图。

我正在通过数组在 mapview 中添加多个引脚。我在附件视图中添加了按钮，

这就是问题所在...

当我点击按钮时，引脚选择会将他带到不同引脚的详细视图。但是在表格视图中它仍然可以正常工作..任何人请帮助我...？

```
-(MKAnnotationView *) mapView:(MKMapView *)mapView viewForAnnotation:(id<MKAnnotation>)annotation 
{
    MKPinAnnotationView *newAnnotation = nil;
    if([annotation.title isEqualToString:@"You are here."])
    {
        newAnnotation = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"greenpin"];
        newAnnotation.pinColor = MKPinAnnotationColorGreen;
    }
    else
    {      
        newAnnotation = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"redpin"];
        newAnnotation.pinColor = MKPinAnnotationColorRed;
        UIButton *pinButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        pinButton.tag = indexvar;
        [newAnnotation addSubview:pinButton];
        newAnnotation.canShowCallout = YES;    
        newAnnotation.rightCalloutAccessoryView = pinButton;
        newAnnotation.calloutOffset = CGPointMake(-5, 5);
        indexvar++;
        return newAnnotation;
        [pinButton release];
    }
    newAnnotation.animatesDrop = YES;
    newAnnotation.canShowCallout = YES;
    return newAnnotation;
}

- (void)mapView:(MKMapView *)wikiMapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control 
{
    NSInteger selectedIndex = ((UIButton *)control).tag;
    NSLog(@"Property Index : %d ",selectedIndex);
    DetailView = [[PropertyDetails alloc] initWithNibName:@"PropertyDetails" bundle:nil];
    DetailView.propertyReference = [PropertyReferenceArr objectAtIndex:selectedIndex];
    DetailView.propertyTitle = [propertyTitlesArr objectAtIndex:selectedIndex];
    DetailView.propertyPrice = [propertyPriceArr objectAtIndex:selectedIndex];
    DetailView.propertyBedrooms = [propertyBedroomsArr objectAtIndex:selectedIndex];
    DetailView.propertyLatitude = [propertyLatitudesArr objectAtIndex:selectedIndex];
    DetailView.propertyLongitude = [propertyLongitudesArr objectAtIndex:selectedIndex];
    DetailView.propertyDefaultImage = [PropertyImageArr objectAtIndex:selectedIndex];
    DetailView.propertyStatusId = [PropertyStatusArr objectAtIndex:selectedIndex];
    [self.navigationController pushViewController:DetailView animated:YES];         
    [DetailView release]; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T19:24:52.593

在`viewForAnnotation`中，您使用 ivar 计数器 ( `indexvar`)设置按钮标记的方式*假定委托方法将仅被调用一次，并且按照添加注释的顺序*（您可能在某些循环中按索引顺序执行）。

上述假设并不安全，也不推荐。例如，如果地图视图由于用户平移或缩小而需要在重新显示注释后重新显示注释，则绝对可以为同一个注释多次调用委托方法。

不要使用按钮标签，而是将您需要的信息嵌入到注释类本身中，并在添加注释时设置该信息。

至少（但仍然不推荐），您可以做的是`propertyIndex`向您的注释类添加一个属性并将其设置为等于`PropertyReferenceArr`您正在创建注释的数组索引（例如数组）。

根据您在 中使用的众多数组，一个更好的解决方案`calloutAccessoryControlTapped`是创建一个适当的类对象来保存所有属性（您的房地产“属性”对象的），然后用一个数组来保存它们（而不是每个属性的单独数组）。

此类本身可以符合，`MKAnnotation`因此您无需创建单独的显式注释对象（您只需将属性对象本身添加到地图中即可）。

然后在 中`calloutAccessoryControlTapped`，您只需`view.annotation`转换为自定义类，即可立即访问所有注释/属性数据，而无需任何标记或数组索引。

@naveen 对您的`addSubview`行所做的评论也是有效的（尽管它与问题无关）。你绝对应该删除它。

此外，在,之后`viewForAnnotation`调用是没有意义的。该代码将永远不会运行（这很好，因为如果你把它放在之前，应用程序将崩溃，因为它是自动发布的）。`[pinButton release];``return``return``pinButton`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:23:24.210

```
-(void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control
{    
    myAnnotation *annView = view.annotation; // myAnnotation is my custom class for annotations
    // now in annView you have the exact annotation whose accessorybutton is clicked now you can do whatever you want with it.
    NSLog(@"title = %@",annView.title);
} 
```

而不是设置按钮标签，您可以使用注释的标题或副标题进行进一步比较或任何您想要的

在您使用的代码中

```
[newAnnotation addSubview:pinButton]; // i think this is wrong you should only add it to accessory view 
```

# javascript - 如何在客户端模板应用程序中保存用户名和密码

> ID：11685545
> 
> 赞同：3
> 
> 时间：2012-07-27T09:59:55.433
> 
> 标签：javascript, jquery-templates, client-side-templating

我正在使用客户端模板编写 Web 应用程序。此应用程序需要与支持基本 Http 身份验证（使用 ssl）的 REST 服务器交互。因此，对于需要授权的每个请求，用户名和密码都会在请求标头中传递。我的问题是在哪里以及如何存储用户名和密码，以便可以通过 javascript 代码在客户端访问它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:14:32.260

我不会在用户的系统上存储用户名和密码。这是一个安全问题。

相反，您的 REST 登录服务应该发回一个会话 cookie，其中包含一个加密的授权密钥。然后，该 cookie 将在进一步的 REST 调用时传回，您的 REST 服务后端可以读取 cookie 以验证用户是否拥有有效的授权令牌。

如果由于必须使用不同的标头而不想使用 cookie 机制，仍然可以考虑使用 auth token 方法并将 auth token 存储在本地（使用 cookie 或本地存储）。如果您根本无法控制后端，并且必须向上传递用户名/密码，那么我认为您被卡住了。将密码保存在客户端机器上（在 cookie 或本地存储或其他任何地方）是一个坏主意，因为它可以以纯文本形式读取。您使用的任何加密方法都可以轻松进行逆向工程。

# sql - 查询总重量的 SQL 查询

> ID：11685546
> 
> 赞同：3
> 
> 时间：2012-07-27T09:59:58.140
> 
> 标签：sql, algorithm

我在一个包含“箱号”和“重量”列的表中有 30 条记录。我必须从 30 个箱子中找出总重量最接近 1000 公斤的箱子。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:07:24.250

我建议您阅读有关[背包问题的信息](http://en.wikipedia.org/wiki/Knapsack_problem)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:05:03.453

SQL 服务器：

```
select TOP 20 box_number 
from t_boxes 
group by box_number 
order by ABS(SUM(box_weight) - 1000) ASC 
```

编辑：万一我误解了你的问题，你真的想解决背包问题。这是您在 SQL 中真正应该做的事情，但是您可以用非常恰当的名称阅读[这篇文章：](http://sqlinthewild.co.za/index.php/2011/02/22/and-now-for-a-completely-inappropriate-use-of-sql-server/)**现在完全不恰当地使用 SQL Server**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T13:59:30.827

不推荐在 SQL 中解决此问题的方法，甚至可能在任何机器上都不可行。但是，您可以将蛮力解决方案表示为：

```
select box1.id, box2.id, . . . ,
       (box1.weight + box2.weight + . . .)
from box box1 join
     box box2
     on box2.id > box1.id join
     box box3
     on box3.id > box2.id join
     box box4
     on box4.id > box3.id
     . . .
     box box20
     on box20.id > box19.id
order by abs(1000 - (box1.weight + box2.weight + . . .)) 
```

“on”条件保证您查看每组框一次，按其唯一 ID 排序。使用“join”而不是“left join”可确保您最终得到正好 20 个框。

# javascript - javascript - 框对齐和鼠标位置

> ID：11685554
> 
> 赞同：0
> 
> 时间：2012-07-27T10:00:15.760
> 
> 标签：javascript, css

我有 2 个问题，请查看它和源代码（我不会在此处粘贴它，因为它不会难以辨认） -[这里](http://nur.kozacy.org/mapa_galeria.html.) 首先 - 带有信息的框，例如“Meksyk”或“Elba”不在鼠标下方。我怎样才能改变它？我尝试了很多方法，结果都是一样的。其次 - 框在左侧和底部过早显示信息。为什么？怎么了？右侧和顶部效果很好。

问候！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:05:42.700

在正常情况下，我不会费心去回答这么简陋的问题。但是读了《[爱的夏天-研究评论](https://blog.stackoverflow.com/2012/07/week-2-of-the-summer-of-love-researching-comments/)》之后-我改变了主意。

这是交易。在您的`popup`脚本中，指定了 X 和 Y 偏移量。修改这些值以调整工具提示位置。至于“显示信息太早” - 给我一个更详细的解释，我也许可以帮助你

# javascript - 淡出与运动相结合

> ID：11685557
> 
> 赞同：2
> 
> 时间：2012-07-27T10:00:31.950
> 
> 标签：javascript, jquery, jquery-animate, fadeout

我希望这个问题不是完全重复的......但是这些相关问题都没有帮助我解决我的问题。我想为无穷无尽的矩形“流”制作动画。每当用户单击我想要的元素时：

*   所有元素，包括新元素，慢慢向左移动，直到第二个矩形在第一个矩形的位置
*   第一个淡出的矩形
*   一个新的矩形在最后淡入

到目前为止，我已经想出了这个[（根据 jsFiddle）](http://jsfiddle.net/DasGurke/BsEWp/6/)：

```
 $('.block').first().animate({
        opacity: 0.75,
        left: '-=50'
    }, 300, function() {
        $('.block').first().remove();
        addBlock(index++);
    }); 
```

为不透明度设置动画效果很好，向左移动则不行。我怀疑这也可能是由于周围的 div 所致。但老实说，我对网络技术知之甚少，这就是我问你的原因。

*   我该怎么做才能让我的矩形向左移动？
*   我可以在“滑动”周围的 div 时将它们向左移动吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:02:17.943

只需添加`position:relative`到您的 css`.block`条目，使用`marginLeft`，您将获得所需的效果 -

[http://jsfiddle.net/BsEWp/67/](http://jsfiddle.net/BsEWp/67/)

要将其滑动到包装器 div 下，您所要做的就是给包装器元素一个 css 属性`overflow:hidden`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:16:01.927

可能是这样吗？

```
$('.block').first().animate({
    opacity: 0.25,
    width: '-=50'
} 
```

或者：

```
$('.block').first().animate({
    opacity: 0.25,
    marginLeft: '-=50'
} 
```

其作品

# java - MalformedURLException：Xalan 转换器没有协议

> ID：11685561
> 
> 赞同：1
> 
> 时间：2012-07-27T10:00:43.980
> 
> 标签：java, xml, xerces, xalan

我在为[在流中编辑 XML 文件的](https://stackoverflow.com/questions/11672244/editing-a-large-xml-file-on-the-fly)问题实施解决方案时遇到了麻烦。我得到一个 MalFormedUrlException: no protocol。XML 文件编码为 UTF-8，没有文档类型，但格式正确。我很困惑为什么会这样。

这是有问题的代码（`byteArray`有xml，`UpdatingXmlReader`是我的班级）：

```
 XMLReader reader =
        new UpdatingXmlReader(SAXParserFactory.newInstance().newSAXParser());
    Transformer xform = TransformerFactory.newInstance().newTransformer();

    InputSource inputSource = 
        new InputSource(new ByteArrayInputStream(byteArray));
    StreamResult streamResult = 
        new StreamResult(response.getOutputStream());

    SAXSource saxSource = new SAXSource(reader, inputSource);                       

    xform.transform(saxSource, streamResult); 
```

在我的测试中如何调用它：

```
 File file = new File("c:/test.xml");
    InputStream input = new FileInputStream(file);
    byte[] b = IOUtils.toByteArray(input);
    // in production the byte array will come from the database
    service.method(b, httpServletResponse ,httpServletRequest) 
```

这是堆栈跟踪：

```
javax.xml.transform.TransformerException: 
    java.net.MalformedURLException: no protocol: 
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(Unknown Source)
Caused by: java.net.MalformedURLException: no protocol: [B@22732273
    at java.net.URL.<init>(URL.java:579)
    at java.net.URL.<init>(URL.java:476)
    at java.net.URL.<init>(URL.java:425)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.SAXParserImpl.parse(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T14:01:02.597

例外的意思是某些东西为 XML 实体管理器提供了一个字符串，该字符串应该是一个绝对 URL……但不是。意思是 URL 没有“协议”；例如，“http://example.com”或“mailto:me@example.com”中冒号前的位。

此外，嵌套异常消息似乎在说它试图解析的假定 url 是`"[B@22732273"`. 现在*这*是一个*很大*`toString`的线索，因为如果你调用一个`byte[]`对象，它就是你得到的。

所以我的初步诊断是，您没有向我们展示的一些代码正在传递一个字节数组，它实际上应该传递一个对象，该对象将被解析为 URL 字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T11:22:56.207

尝试将“file://”附加到文件路径的开头。

# sendmail - Zope sendmail 检查电子邮件是否已发送

> ID：11685566
> 
> 赞同：1
> 
> 时间：2012-07-27T10:01:10.380
> 
> 标签：sendmail, zope

在执行 send() 操作后，有什么方法可以通过使用 zope.sendmail 和 DirectMailDelivery 来检索响应或状态以查看电子邮件是否已发送？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T13:54:35.450

不，send() 将返回 messageid。由于交付与事务的提交相关（通过数据管理器），您无法检查它是否已发送。如果出现交付问题，您可能会看到来自事务处理程序或数据管理器本身的异常。

# json - 为以 JSON 格式返回的图像启用缓存

> ID：11685568
> 
> 赞同：0
> 
> 时间：2012-07-27T10:01:20.350
> 
> 标签：json, image, caching, iis-7, browser-cache

我看到很多关于这个主题的帖子，但仍然找不到适合我的案例的解决方案。

我想利用我们网站的图像缓存（托管在 IIS 7.5 中）。我确实通过 IIS 管理控制台中的“http 响应标头”菜单配置了缓存，它适用于具有“绝对”src 的图像，例如 <img src="images/logo.png" alt="Logo"> 但它不起作用对于带有 JSON 源的图像，例如 <img alt="Image" src="http://myhost.com/site/Services/Service.svc/images/im0002/thumb" > 在 ajax 回调中动态设置。

详细的请求/响应标头：

请求网址：http://myhost.com/site/Services/Service.svc/images/im0002/thumb
请求方法：GET
状态码：200 OK

Request Headersview source
Accept: */*
Accept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3
Accept-Encoding:gzip,deflate,sdch
Accept-Language:en-US,en;q= 0.8
Connection:keep-alive
Host:myhost
Referer:http://myhost/site/Default.aspx
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57野生动物园/536.11

响应标头视图源
内容长度：1392
内容类型：图像/jpeg
日期：2012 年 7 月 27 日星期五 07:37:25 GMT
服务器：Microsoft-IIS/7.5
X-Powered-By:ASP.NET

任何有关如何解决此问题的信息都将受到高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:05:24.667

将您的图像转换为 Base64 或任何类似的。到那时它将是一个字符串，不再是一个 url。

# mysql - 使用 Talend 快速启动数据库迁移

> ID：11685569
> 
> 赞同：5
> 
> 时间：2012-07-27T10:01:20.423
> 
> 标签：mysql, sql-server, talend

我有将 live 迁移`SQL server 2008`到的要求`MySQL server 5`，我尝试了 MySQL 迁移工具包，但它引发了很多迁移错误。Stackoverflow 中的某个人建议我使用`Talend`. 我安装`Talend Open Studio for Data Integration`了它，但它是一个非常通用的工具，没有像我真正需要的那样进行数据库迁移的快速入门。

在哪里可以找到使用 Talend 完成此类工作的快速入门指南？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-16T12:53:22.590

Talend 是非常通用的数据集成工具，但您应该按照以下步骤完成工作（实际上适用于任何数据库类型：PostgreSQL、Oracle 等）：

1.  在 Repository-panel 中创建一个到 Metadata-“Db Connections”-节点的新数据库连接。将其命名并选择“DB Type”作为“Microsoft SQL Server”（或任何您的源数据库）并提供连接详细信息。
2.  创建另一个新的数据库连接，但这次是“MySQL”（或任何您的目标数据库）。
3.  为“作业设计”（在存储库中）创建一个新作业。
4.  从元数据中展开“SQL Server”-DB-connection，并将所需的表（在“表模式”下）拖到作业的工作区并选择**tMSSqlInput**。
5.  将 MySQL-DB-connection 从 Metadata 拖到工作区并选择**tMysqlOutput**。定义目标表。
6.  单击 Palette 并将**tMap**组件拖到前两个组件之间的工作区。
7.  用箭头将 tMSSqlInput 连接到 tMap 和 tMap 到 tMysqlOutput。为此，您可以右键单击 tMSSqlInput，选择 Row-Main 并将箭头拖到 tMap。从 tMap 到 tMysqlOutput 相同。
8.  双击 tMap，从左侧选择所有列并将它们拖到右侧。tMap 组件允许您进行数据转换。可能您甚至不需要在数据库组件之间使用 tMap。但以防万一也不错。
9.  运行作业，并根据需要进行故障排除。如果出现问题，请重新启动 Talend Studio 或关闭并打开作业，这在许多情况下会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T17:17:15.563

MySQL 迁移工具包很久以前就被弃用了。[您应该尝试MySQl Workbench 5.2.41](http://www.mysql.com/products/workbench/)附带的新迁移向导。它将帮助您迁移表及其数据。您可以在此处概述其功能：

[操作方法：使用 MySQL Workbench 从 Microsoft SQL Server 迁移数据库的指南](http://mysqlworkbench.org/?p=1350)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T13:30:34.650

如果您需要开始使用 Talend，我建议您查看我们的文档页面[http://www.talend.com/resources/documentation.php](http://www.talend.com/resources/documentation.php)，您可以在其中找到安装指南和用户手册。

此外，我们网站上有一个有趣的部分，您可以在其中查看我们的教程，这应该会有所帮助：[http ://www.talendforge.org/tutorials/menu.php](http://www.talendforge.org/tutorials/menu.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-29T14:52:37.233

xybrek，不幸的是，没有教程可以完全涵盖您的具体情况。

下载 Bart 链接的手册并开始在 Talend 中尝试。

您将看到的组件是： tMssqlInput - 读取 MsSQL 数据库中的表 tMySQLOutput - 将数据流（例如 mssqlinput 组件的输出）引导到 mysql 表中 tMySQLRow - 让您在 mysql 表上执行查询/数据库

可能还有其他人。这些只是指向更明显组件的一些指针。

您可以阅读有关这些内容的更多信息，并查看涵盖Talend 中*所有组件的参考指南手册中的示例。*

祝你好运！

# php - 服务重启后一段时间内没有清除 Memcached 键

> ID：11685574
> 
> 赞同：1
> 
> 时间：2012-07-27T10:01:34.540
> 
> 标签：php, memcached

我已经使用 memcached 大约 2 年了，但这是我第一次遇到以下问题。

> Amazon Web Service 上的实例，运行 RHEL
> Memcached 1.4.13
> 单个 memcache 节点 (127.0.0.1)
> PHP 5.3.10
> PECL Memcache 3.0.5

在我的应用程序中，我的大部分缓存都存储了序列化的 PHP 对象。每次 memcached 服务重启后，

```
sudo service memcached restart 
```

重启后有一段时间（可能是一分钟左右）：

1.  当我请求（**get**）一个 memcache 键（重启后 memcache 应该为空）时，它会在服务重启之前返回我的旧值。

2.  当我对新键进行 memcache**集**时，我请求 ( **get** ) 获取相同的 memcache 键，它可能会返回我刚刚设置的新键值，但也有可能返回一个属于的值服务重新启动之前的上一个密钥。

这给了我不一致的内存缓存值，这是面向用户的应用程序的不良情况。

这是正常的吗？有什么办法可以防止这种情况发生吗？

# google-apps-script - 更改电子表格列的值时如何触发我自己的脚本函数？

> ID：11685579
> 
> 赞同：0
> 
> 时间：2012-07-27T10:01:56.527
> 
> 标签：google-apps-script, google-sheets

我是新的谷歌应用脚​​本开发人员，有一个我无法解决的问题。

我构建了一些脚本并尝试在我的电子表格中使用它们，但它们不起作用。我想要的是在目标列值更改时调用我的函数，然后我希望该函数将运行一个 for 循环以将结果设置为 D2~D100 列。

有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T11:22:08.467

看看这个[https://developers.google.com/apps-script/understanding_events](https://developers.google.com/apps-script/understanding_events)。

您应该使用 onEdit() 事件并检查正在编辑的范围是否符合您的条件。我在我的脚本中做了类似的事情。希望这会对您有所帮助。

# c# - RouteValueDictionary 和 htmlAttributes 之间是否存在冲突？

> ID：11685580
> 
> 赞同：4
> 
> 时间：2012-07-27T10:02:02.000
> 
> 标签：c#, asp.net-mvc, html-helper, actionlink, routevalues

我正在使用 RouteValueDictionary 将 RouteValues 传递给 ActionLink：

如果我编码：

```
<%:Html.ActionLink(SharedResources.Shared_Pagination_First, Model.ActionToExecute, Model.ControllerToExecute, Model.FirstRouteValues, null)%> 
```

链接结果是好的：

```
SearchArticles?refSearch=2&exact=False&manufacturerId=5&modelId=3485&engineId=-1&vehicleTypeId=5313&familyId=100032&page=0 
```

但如果我编码：

```
<%: Html.ActionLink(SharedResources.Shared_Pagination_First, Model.ActionToExecute, Model.ControllerToExecute, Model.FirstRouteValues, new { @title = string.Format(SharedResources.Shared_Pagination_LinkTitle, 0) })%> 
```

链接结果是：

```
SearchArticles?Count=10&Keys=System.Collections.Generic.Dictionary%602%2BKeyCollection%5BSystem.String%2CSystem.Object%5D&Values=System.Collections.Generic.Dictionary%602%2BValueCollection%5BSystem.String%2CSystem.Object%5D 
```

有什么问题？唯一的区别是最后我使用的是 htmlAttributes

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T10:03:39.080

您使用了 ActionLink 帮助程序的错误重载。没有`routeValues`作为匿名对象`RouteValueDictionary`的重载。`htmlAttributes`所以如果`Model.FirstRouteValues`是 a`RouteValueDictionary`那么最后一个参数也必须是一个`RouteValueDictionary` 或一个简单的`IDictionary<string,object>`而不是一个匿名对象。就像这样：

```
<%= Html.ActionLink(
    SharedResources.Shared_Pagination_First, 
    Model.ActionToExecute, 
    Model.ControllerToExecute, 
    Model.FirstRouteValues, 
    new RouteValueDictionary(
        new { 
            title = string.Format(SharedResources.Shared_Pagination_LinkTitle, 0) 
        }
    )
) %> 
```

或者

```
<%=Html.ActionLink(
SharedResources.Shared_Pagination_First, 
Model.ActionToExecute, 
Model.ControllerToExecute, 
Model.FirstRouteValues, 
new Dictionary<string, object> { { "title", somevalue  } })%> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:05:44.043

没有与您的参数匹配的重载，您应该使用`object`route**和**html 或`RouteValueDictinary`and `IDictionary<string,object>`。

像这样：

```
Html.ActionLink(SharedResources.Shared_Pagination_First, Model.ActionToExecute, Model.ControllerToExecute, Model.FirstRouteValues, new Dictionary<string.object> { { "title", somevalue  } }) 
```

# c++ - 如何剖析建筑？

> ID：11685591
> 
> 赞同：1
> 
> 时间：2012-07-27T10:02:56.837
> 
> 标签：c++, build, profiling

我正在开发一个大型（~1 mloc）C++ 应用程序，该应用程序需要很长时间才能从源代码构建（在使用 Visual Studio 的 Windows 上，在使用 Makefile 或 XCode 的 Mac 上）。我想知道从哪里开始优化（例如预编译的头文件、前向声明……）。

与应用程序本身的性能一样，我想在开始优化之前分析构建过程。

有哪些工具可以支持这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:22:08.670

首先，请准确说明您使用的是哪个版本的 Visual Studio。如果可能，升级到 VS2010，因为它对并行构建有更好的支持。这里有几件事情需要考虑：

*   将源代码树放在与系统磁盘不同的磁盘上。如果您可以扩展到 2 个 SSD（1 个用于系统，1 个用于源），那么这将产生*巨大*的差异
*   启用并行构建。在 VS2010 中，这将我们构建与您的大小相同的项目的时间减半。启用“多处理器编译”开关 (/MP)。您可能会发现，如果您的一两个项目有奇怪的依赖关系，它们可能需要关闭它，但只要大多数项目都启用它，那么您将获得巨大的提升。
*   VS2010 具有详细的构建时间记录选项，可以帮助您隔离在不同项目中花费的时间。VS2005/2008 有一个构建时间选项
*   如果你有 VS2005 或 VS2008，那么试试[MPCL](http://todobits.es/mpcl.html)插件（它不是免费的，但非常便宜），它会比 VS 本身做更好的并行构建。如果您有预算，可以使用 Incredibuild 等工具
*   如果您使用的是 Makefile，则使用该`-j`标志进行并行化。如果您使用的是 Xcode，那么如果您有其他可用的 Mac，则可以使用分布式构建（不过，我自己从来没有遇到过这样的运气）
*   您可以考虑将[ccache](http://ccache.samba.org/)与 gcc 一起使用
*   为所有或大多数项目启用预编译头文件。可能需要进行一些试验才能确定您获得了多少收益——您投入的收益越多，收益递减的速度就会越快（投入的越多，您需要进行的重建就越多）
*   阅读 John Lakos 关于[大规模 C++ 设计](http://www.amazon.co.uk/Large-Scale-C-Software-Design-APC/dp/0201633620/ref=sr_1_1?ie=UTF8&qid=1343384126&sr=8-1)的书，这是关于如何拆分大型项目以隔离依赖关系的绝佳建议来源
*   考虑一个两阶段的构建过程。如果您有很多需要构建的第三方库，或者其他不经常更改的库，那么为它们设置一个单独的项目。尝试与您的主项目并行构建或保存二进制文件。考虑将二进制文件检入您的源代码控制系统（是的，我知道将二进制文件检入 SCM 通常被认为是邪恶的，但我相信您必须务实）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:14:07.550

有很多方法可以改善构建时间。其中之一当然是更多的硬件，即更快的磁盘和更多的 RAM。另一个是编译器的功能，如预编译头文件。还有一些外部工具可以提供帮助，例如[distcc](http://code.google.com/p/distcc/)或[ccache](http://ccache.samba.org/)。对于 GNU make，还可以`-j`选择并行运行多个 make 进程。

# asp.net-mvc-3 - 如何使用服务器更新 Knockout.js 视图模型

> ID：11685592
> 
> 赞同：1
> 
> 时间：2012-07-27T10:02:59.033
> 
> 标签：asp.net-mvc-3, knockout.js, knockout-mapping-plugin

我有嵌套的可观察数组的 Knockout.js 视图模型。

```
 function ParentVM(data) {
        var self = this;

        self.childs= ko.observableArray([]);
        ko.mapping.fromJS(data, mapping, this);
    }

    function ChildVM(data) {
        var self = this;

        self.propertyA = ko.observableArray([]);
        self.propertyB = ko.observable();

        ko.mapping.fromJS(data, mapping, this);
    }

    function GrandChildVM(data) {
        var self = this;

        self.propertyX = ko.observable();
        self.propertyY = ko.observable();
        self.propertyZ = ko.observable();

        ko.mapping.fromJS(data, mapping, this);
    } 
```

我有以下绑定：

```
 data-bind="value: propertyX, valueUpdate: 'keydown'" 
```

现在，当这些属性发生变化时，如何添加事件处理程序来调用我的 REST 端点来更新视图模型状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:48:12.497

如果我对您的理解正确，您可以这样做：

```
function ChildVM(data) {
    var self = this;

    self.propertyA = ko.observableArray([]);
    self.propertyB = ko.observable();

    ko.mapping.fromJS(data, mapping, this);

    self.propertyA.subscribe(function (newValue) { /* call you're api with new value! */ });
    self.propertyB.subscribe(function (newValue) { /* call you're api with new value! */ });
} 
```

# python - Django 1.4 + Apache WebServer + Mysql 和 PostgreSQL 连接错误

> ID：11685599
> 
> 赞同：0
> 
> 时间：2012-07-27T10:03:26.930
> 
> 标签：python, django, postgresql, postgresql-9.1

我已经成功地遵循了 Django 1.4 教程 1-4（投票系统），现在它正在运行，直到我使用 Postgres 数据库将它部署到 Apache Webserver 2.2 中。每次我访问**localhost**我总是有“内部服务器错误”，但如果我使用 MySQL 作为我的数据库，一切都很好。你觉得哪里不对？我错过了在 Postgre 中配置的东西吗？

这是我在 Mysql(Working) 和 Postgre(Not Working) 中的数据库连接设置，均使用 Apache2.2 + mod_wsgi.so

```
//Postgre
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'django_demo1',                     
        'USER': 'postgres',
        'PASSWORD': 'mypassword', 
        'HOST': 'localhost',
        'PORT': '',       
    }
}

//MySQL
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'django_demo1',                     
        'USER': 'root',
        'PASSWORD': 'mypassword', 
        'HOST': 'localhost',
        'PORT': '',       
    }
} 
```

其他信息：

操作系统：Windows 7，Python：2.7，Django：1.4，Postgre 9.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:18:42.770

如果你能访问 MySQL 但不能访问 Postgres，我猜`psycopg2`是没有安装 Python 的 Postgres 适配器。使用 pip 安装 psycopg2。

> 点安装 psycopg2

这是[pypi](http://pypi.python.org/pypi/psycopg2/)。

# asp.net - 用户控件的子控件未实例化

> ID：11685601
> 
> 赞同：0
> 
> 时间：2012-07-27T10:03:35.467
> 
> 标签：asp.net

```
 public partial class ChatUserControl : System.Web.UI.UserControl
        {
            UserChatClass ucc = new UserChatClass();
            public ChatUserControl()
            {
                lblChatFriend = new Label();
                txtChatMessage = new TextBox();
                imgFriend = new Image();
                rpChatMessages = new Repeater();
            }
            public string ChatFriend { get { return this.lblChatFriend.Text; } set { this.lblChatFriend.Text = value; } }
            public string imgFriendUrl { get { return this.imgFriend.ImageUrl; } set { this.imgFriend.ImageUrl = value; } }
            public object rpChatDataSource { get { return this.rpChatMessages.DataSource; } set { this.rpChatMessages.DataSource = value; } }
            public Repeater rpChatMessagesToBind { get { return this.rpChatMessages; } set { this.rpChatMessages = value; } }
            }

        protected void Page_Load(object sender, EventArgs e) 
                { 
                    if (!IsPostBack) 
                    { 
ChatUserControl user1 = new ChatUserControl();
                    divChatUserControlCover.Controls.Add(user1);
                    } 
                } 
         private void BindUserControls()
                {                ChatUserControl user1 = divChatUserControlCover.Controls[1] as ChatUserControl;
                        user1.ChatFriend = row["username"].ToString();                    
                        user1.imgFriendUrl = "../../HttpImageHandler.jpg?username=" + row["username"].ToString(); 

                        DataSet dsCM = ucc.GetChatMessages(Session["username"].ToString(), row["username"].ToString());
                        user1.rpChatDataSource = dsCM;
                        user1.DataBindForRpChatMessagesToBind();
                        user1.Visible = true;

         }

    Master.aspx

    <div id="divChatUserControlCover" runat="server">

            </div> 
```

好的，我已经编辑了代码，现在我已经创建了属性。如何调用 rpChatMessages 的 DataBind 方法？我也无法在页面上看到我的用户控件。为什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:06:23.903

我不确定您是否尝试引用第一个标签或第二个标签。如果它是第二个标签，您不能只是这样做，`chatMessage.`您将不得不这样做

```
((Label)rpChatMessages.FindControl("chatMessage")) due to scope of controls. 
```

当您在另一个组件（即`Repeater`）中引用一个组件时，子组件不再属于文档（隐含`this`）而是属于控件，即

`this.rpChatMessages { chatMessage }`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:10:01.430

我认为您只是想将**值**传递给 a内部的一个控件，`UserControl`如果这是正确的，请声明一个像这样的公共属性：

### 背后的 ASCX 代码

```
public string MyProperty
{
    get
    {
        return this.lbl.Text;
    }
    set
    {
        this.lbl.Text = value;
    }
} 
```

### 将值设置为 UserControl

```
private void BindUserControls() 
            { 
ChatUserControl user1 = divChatUserControlCover.Controls[1] as ChatUserControl; 
                    user1.MyProperty = row["username"].ToString(); 
```

### 在页面标记中设置值

```
<uc1:ChatUserControl MyProperty='<%# Eval("some field") %>' ... 
```

## 编辑 1

删除该行

```
public object rpChatDataSource { get { return this.rpChatMessages.DataSource; } set { this.rpChatMessages.DataSource = value; } 
```

而是添加一个**方法**

```
public void BindMyRepeaterOrWhatever(IEnumerable<Yourentity> data)
{
    this.myDataBoundControl.DataSource = data;
    this.myDataBoundControl.DataBind();
} 
```

您可以更改`IEnumerable<Yourentity> data`for`object data`但如果您可以传递强类型枚举会更好

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T15:39:21.837

令我惊讶的是，我发现为什么我的用户控件的子控件没有被实例化。这是因为`ChatUserControl user1 = new ChatUserControl()`没有初始化其子控件。创建用户控件的新实例的正确方法是这样......

```
ChatUserControl user1 = (ChatUserControl)Page.LoadControl("~/ChatUserControl.ascx"); 
```

# php - PHP+Oauth/不同的oauth提供者返回不同的用户数据。该怎么办？

> ID：11685606
> 
> 赞同：0
> 
> 时间：2012-07-27T10:03:53.607
> 
> 标签：php, oauth

我正在通过我网站上的几个 oauth 提供商登录。问题是他们都 [oauth 提供者] 以不同的格式返回用户数据，例如`country=280`and`country=US`或`sex=male`and `sex=2`。此外，一个字段在不同的 oauth 提供者上可以有不同的名称，例如`sex`和`gender`。

有没有一种*简单*的方法可以将其全部集中到一个名称和值的系统中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T13:32:43.070

构建一个抽象层来处理每个提供者的特殊性，并将它们都带到一个共同的标准。

编写一些配置和几行代码来包装它对我来说很简单。

# opengl - OpenGL立方体贴图中面的约定

> ID：11685608
> 
> 赞同：18
> 
> 时间：2012-07-27T10:04:00.563
> 
> 标签：opengl, 3d, geometry, glsl

OpenGL 对立方体贴图的约定是什么？

我遵循了这个约定（在网站上找到）并使用对应的 GLenum 来指定 6 个面`GL_TEXTURE_CUBE_MAP_POSITIVE_X_EXT`，但我总是弄错 Y，所以我必须用负 Y 面反转正 Y。为什么？

```
 ________
         |        |
         | pos y  |
         |        |
  _______|________|_________________
 |       |        |        |        |
 | neg x | pos z  |  pos x |  neg z |
 |       |        |        |        |
 |_______|________|________|________|
         |        |
         |        |
         | neg y  |
         |________| 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-27T15:06:06.587

> 但我总是弄错 Y，所以我必须用负 Y 面反转正 Y。为什么？

啊，是的，这是关于 Cube Maps 最奇怪的事情之一。请放心，你不是唯一一个爱上它的人。你看：

Cube Maps 已被指定为遵循 RenderMan 规范（无论出于何种原因），并且 RenderMan 假定图像的原点位于左上角，这与图像原点位于左下角的通常 OpenGL 行为相反。这就是为什么事情会在 Y 方向交换。它完全打破了通常的 OpenGL 语义，根本没有意义。但现在我们被困住了。

*请注意，左上角和左下角是在从模型空间到 NDC 空间的恒等转换的上下文中定义的*

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-07-27T19:20:23.207

这是一个方便的图表，显示了轴在 OpenGL 立方体贴图中是如何工作的：

![在此处输入图像描述](../Images/dcd356ccb24b3eaa9cb66c14d63266f7.png)

# android - ListView 的意图（JSON 数据）

> ID：11685611
> 
> 赞同：1
> 
> 时间：2012-07-27T10:04:03.933
> 
> 标签：android, android-intent, android-listview

我将 JSON 数据放入 ListView。我希望列表中的数据（“ItemTitle”，“ItemText”，“latit”，“longit”，“date”）可以在单击项目时转移到另一个活动（result.java）。这是代码：

活动：

```
public class Earthquake extends Activity {
 public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.earthquake);
        getData();
    }

private void getData() {
    // TODO Auto-generated method stub
    ListView list = (ListView)findViewById(R.id.earthquake);
    try {
        List<News> newes = GetJson.update();        

    List<HashMap<String, Object>> data = new ArrayList<HashMap<String, Object>>();
    for(News news : newes){
        HashMap<String, Object> item = new HashMap<String, Object>();
        item.put("ItemTitle", news.getPlace());
        item.put("ItemText", "Magnitude: "+news.getMag());
        item.put("latit", news.getLatit());
        item.put("longit", news.getLongit());
        item.put("date", news.getTime());
        data.add(item);
    }

    SimpleAdapter adapter = new SimpleAdapter(this, data, R.layout.list_earthquake, 
            new String[]{"ItemTitle", "ItemText", "latit", "longit", "date"}, 
            new int[]{R.id.ItemTitle, R.id.ItemText, R.id.latit, R.id.longit, R.id.date});
    list.setAdapter(adapter);
    list.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {
            //intent
        }
    });

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
   }

} 
```

GetJson.java：

```
public class GetJson {

public static List<News> update() throws Exception, IOException {
    // TODO Auto-generated method stub
    String path = "http://earthquake.usgs.gov/earthquakes/feed/geojson/all/hour";
    HttpURLConnection conn = (HttpURLConnection)new URL(path).openConnection();
    conn.setConnectTimeout(5000);
    conn.setRequestMethod("GET");
    if(conn.getResponseCode() == 200){
        InputStream json = conn.getInputStream();
        return parseJSON(json);
    }
    return null;
}

private static List<News> parseJSON(InputStream jsonStream) throws Exception {
    // TODO Auto-generated method stub
    List<News> list = new ArrayList<News>();
    byte[] data = StreamTool.read(jsonStream);
    String json = new String(data);

    //start decoad JSON
    JSONObject jsonObject1 = new JSONObject(json);
    String object1 = jsonObject1.getString("features");
    JSONArray features = new JSONArray(object1);
    for(int i = 0; i < features.length(); i++){
        JSONObject object2 = features.getJSONObject(i);
        JSONObject properties = object2.getJSONObject("properties");
            String place = properties.getString("place");
            int mag = properties.getInt("mag");
            String time = properties.getString("time");
        JSONObject geometry = object2.getJSONObject("geometry");
            JSONArray coordinates = geometry.getJSONArray("coordinates");
                String longit = coordinates.getString(0);
                String latit = coordinates.getString(1);
            list.add(new News(mag, longit, latit, place,  time));
    }
    return list;
     }
  } 
```

新闻.java：

```
public class News {
private Integer mag; 
private String longit;
private String latit;
private String place, time;
public News(){}
public News(Integer mag, String longit, String latit, String place, String time){
    this.mag = mag;
    this.longit = longit;
    this.latit = latit;
    this.place = place;
    this.time = time;
}

public Integer getMag(){
    return mag;
}
public String getLongit(){
    return longit;
}
public String getLatit(){
    return latit;
}
public String getPlace(){
    return place;
}
public String getTime(){
    return time;
}
} 
```

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:31:19.023

我建议你重写你的`SimpleAdapter`to extends `ArrayAdapter<News>`。创建另一个s 是非常无用的，并且会消耗额外的内存`List`。`HasMap`比让你的`News`班级实施`Parcelable`。在`onClick()`你调用类似的东西：

```
public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
    News news = parent.getItem(position);
    if (news != null) {
       Intent intent = new Intent(...);
       intent.put("news", news);
       startActivity(intent);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:32:26.393

始终使用非 UI 线程从服务器获取数据。查看您的代码，您似乎正在使用 UI 线程来获取数据。您可以在对象的方法中使用和粘贴类中`AsyncTask`编写的代码。`GetJson``doInBackground``AsyncTask`

现在关于将单击的列表项数据传递给下一个活动的问题。您将不得不使类`News`实现`Parcelable`或`Serializable`接口。实现这些类允许您将自定义对象数据发送到另一个活动。最有效的方法是实施`Parcelable`。

查看以下链接了解更多详情：http: [//developer.android.com/reference/android/os/Parcelable.html](http://developer.android.com/reference/android/os/Parcelable.html)

[http://developer.android.com/reference/java/io/Serializable.html](http://developer.android.com/reference/java/io/Serializable.html)

希望这个解释有所帮助。

# jquery - 将占位符属性放在文件类型输入字段上

> ID：11685617
> 
> 赞同：8
> 
> 时间：2012-07-27T10:04:17.570
> 
> 标签：jquery, html

有没有办法为类型的输入字段放置一个占位符`file`？

我已经尝试过 jquery 水印插件，但它不起作用。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-27T11:01:21.160

占位符属性不应用于`<input type="file">`. 占位符用于提供有关输入的提示。而且由于文件输入本身就是一个浏览按钮，所以很明显它是用来选择文件的。如果没有选择文件，它会在按钮旁边显示“没有选择文件”。

**因为**：

1.  在某些浏览器中，它只是显示为一个按钮。
2.  它已经有无法更改的默认文本。
3.  每个浏览器都以自己的方式呈现它。
4.  IE 将不支持占位符文本。

# pandas - 如何将 pandas 对象（例如 DataFrame）添加到 HDF 文件中的组中？

> ID：11685618
> 
> 赞同：2
> 
> 时间：2012-07-27T10:04:27.393
> 
> 标签：pandas, hdf5

假设我有一个具有组层次结构的 HDF5 文件 (myHDF.h5)，例如：

```
/root/groupA
     /groupB 
```

现在我想将一个`DataFrame`(myFrame) 添加到 groupA （以及一些其他对象，例如字典）。我怎么做？如果我打开我的 HDF.h5 `pandas.io.HDFStore`：

```
store = pandas.io.HDFStore('myHDF.h5') 
```

然后尝试：

```
store['groupA']['myFrame'] = myFrame 
```

我得到：

```
AttributeError: Attribute 'pandas_type' does not exist in node: '/groupA' 
```

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T23:15:50.287

从 0.10.0 版本开始启用

[http://pandas.pydata.org/pandas-docs/stable/io.html#hierarchical-keys](http://pandas.pydata.org/pandas-docs/stable/io.html#hierarchical-keys)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:19:34.507

目前 pandas 不支持您指定的分层路径。

有一个关于此的开放 github 问题：[https ://github.com/pydata/pandas/issues/13](https://github.com/pydata/pandas/issues/13)

我不确定我们何时会开始添加此功能，如果您有兴趣完成问题讨论中的框架代码，我会非常欢迎您提出拉取请求。

# silverlight - 在 Silverlight 中更新 DataGrid 中行的颜色

> ID：11685621
> 
> 赞同：0
> 
> 时间：2012-07-27T10:04:41.920
> 
> 标签：silverlight, xaml, silverlight-4.0

我正在尝试根据绑定的值设置 DataGrid 行的颜色。我使用了以下解决方案：

```
<DataGrid.RowStyle>
  <Style TargetType="sdk:DataGridRow" >
    <Setter Property="Background" Value="{Binding SomeProperty, Mode=OneWay, Converter={StaticResource myConverter}}"/>
  </Style>
</DataGrid.RowStyle> 
```

这在加载行时有效，但如果我更改绑定的值，则行颜色不会相应更新。相同的属性绑定到（相同数据网格的）单个列的属性，并且可以正常工作

```
...
<CheckBox ... IsEnabled="{Binding SomeProperty, Converter={StaticResource myConverter}, Mode=OneWay}"
... 
```

是因为样式只应用一次吗？我不能使用触发器，因为它们似乎在 Silverlight 中不起作用。还有其他想法吗？我必须将背景应用于每一列吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T13:10:35.687

您使用的是 Silverlight 5 吗？样式属性设置器中的绑定仅在[Silverlight 5中可用](http://www.kunal-chowdhury.com/2011/05/binding-on-style-setter-in-silverlight.html)

# struts2 - Struts2：如何在另一个动作类中使用一个动作类的属性？

> ID：11685623
> 
> 赞同：0
> 
> 时间：2012-07-27T10:04:42.967
> 
> 标签：struts2, attributes, action, session-variables

我有 2 个动作类：**LoadingFormAction.java**和**FormValidationAction.java**。在第一个中，我创建了有助于从 Excel 文件上传数据的函数，在第二个中，我需要根据其他字段值验证加载的数据。LoadingFormAction.java 控制视图Form.jsp 和FormValidationAction.java 视图FormValidation.jsp。我的问题是：**如何评估第一个动作的属性并在第二个动作中使用它们？**是否必须将其作为**会话参数**传递？十分感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T13:18:32.063

```
<action name="LoadingFormActionName" class="com.test.LoadingFormAction">
    <result name="success" type="redirectAction">
        <param name="actionName">FormValidationActionName</param>
        <param name="yourProperty">${yourProperty}</param>
    </result>
</action> 
```

您要传递给类的类`yourProperty`的参数在哪里。您需要在两个类中为此变量声明 getter/setter。此外，和是相应的动作名称。`LoadingFormAction``FormValidationAction``LoadingFormActionName``FormValidationActionName`

# apache-flex - 如何理解flex皮肤的“id”属性？

> ID：11685633
> 
> 赞同：0
> 
> 时间：2012-07-27T10:05:19.897
> 
> 标签：apache-flex, flex-spark, skin

我正在阅读一些弹性皮肤的来源，发现有一些`id`属性，这似乎很重要。以“按钮”皮肤为例：

```
<s:SparkSkin xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" 
             minWidth="21" minHeight="21"
             alpha.disabled="0.5">

    <!-- host component -->
    <fx:Metadata>
        <![CDATA[ 
        /** 
        * @copy spark.skins.spark.ApplicationSkin#hostComponent
        */
        [HostComponent("spark.components.Button")]
        ]]>
    </fx:Metadata>

    <!-- layer 8: text -->
    <s:Group id="textGroup" verticalCenter="1" left="25">
        <s:filters>
            <s:DropShadowFilter alpha="0.5" blurX="0" blurY="0" distance="1" />
        </s:filters>  
        <s:Label id="labelDisplay" 
                 textAlign="center"
                 verticalAlign="middle"
                 maxDisplayedLines="1">
        </s:Label>
    </s:Group>

</s:SparkSkin> 
```

你可以看到有 和 的`textGroup`id `labelDisplay`。它们很重要，因为如果我使用其他 id，样式将不会应用于按钮。

但是我怎么知道我应该使用什么 ID？为什么是`textGroup`和`labelDisplay`？我在哪里可以找到声明？

我试图在源代码中搜索它们`spark.components.Button.as`，但没有找到任何相关内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T11:00:25.497

ID textGroup 和 labelDisplay 是蒙皮合同的一部分。如果您检查由 Button 类扩展的类 ButtonBase 的源代码，您会注意到：

```
[SkinPart(required="false")]

/**
 *  A skin part that defines the label of the button. 
 *  
 *  @langversion 3.0
 *  @playerversion Flash 10
 *  @playerversion AIR 1.5
 *  @productversion Flex 4
 */

public var labelDisplay:TextBase; 
```

如您所见，声明告诉您 labelDisplay 是皮肤中的 TextBase，并且 labelDisplay 皮肤部分在技术上不是必需的（required="false"），但没有它，Flex 将不会在 Button 控件上绘制标签。所需属性的默认值为 false。Button 类与其外观之间的约定规定，当您在按钮上设置 label 属性时，该值会被下推到外观中并修改 labelDisplay 外观部件文本的值（如果 labelDisplay 外观部件存在）。

所以本质上这意味着这些 ID 将在 ButtonBase 类中使用。通常不需要更改 ID，除非您的要求当然需要您这样做。在这种情况下，您也需要适当地更改蒙皮合同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:26:41.600

检查[http://help.adobe.com/en_US/flex/using/WSC8DB0C28-F7A6-48ff-9899-7957415A0A49.html](http://help.adobe.com/en_US/flex/using/WSC8DB0C28-F7A6-48ff-9899-7957415A0A49.html) 部分剥皮合同。

id 用于绑定皮肤中的皮肤部件实例和宿主组件中的逻辑。

# ios - 如何创建动态 CGPoint** 数组

> ID：11685637
> 
> 赞同：1
> 
> 时间：2012-07-27T10:05:36.260
> 
> 标签：ios, cocos2d-iphone, cgpoint

我有一些地图（使用 Tiled QT 制作的瓷砖地图），我想根据这些地图的对象组创建一个 CGpoint **数组（我称它们为航点）。

每张地图都可以有几组我称之为路径的航路点。

```
//Create the first dimension
int nbrOfPaths = [[self.tileMap objectGroups] count];
CGPoint **pathArray = malloc(nbrOfPaths * sizeof(CGPoint *)); 
```

然后对于第二个维度

```
//Create the second dimension
int pathCounter = 0;
while ((path = [self.tileMap objectGroupNamed:[NSString stringWithFormat:@"Path%d", pathCounter]])) {
    int nbrOfWpts = 0;
    while ((waypoint = [path objectNamed:[NSString stringWithFormat:@"Wpt%d", nbrOfWpts]])) {
        nbrOfWpts++;
    }
    pathArray[pathCounter] = malloc(nbrOfWpts * sizeof(CGPoint)); 
    pathCounter++;
} 
```

现在我想填写 pathArray

```
//Fill the array
pathCounter = 0;
while ((path = [self.tileMap objectGroupNamed:[NSString stringWithFormat:@"Path%d", pathCounter]]))
{
    int waypointCounter = 0;
    //Get all the waypoints from the path
    while ((waypoint = [path objectNamed:[NSString stringWithFormat:@"Wpt%d", waypointCounter]]))
    {
        pathArray[pathCounter][waypointCounter].x = [[waypoint valueForKey:@"x"] intValue];
        pathArray[pathCounter][waypointCounter].y = [[waypoint valueForKey:@"y"] intValue];
        NSLog(@"x : %f & y : %f",pathArray[pathCounter][waypointCounter].x,pathArray[pathCounter][waypointCounter].y);
        waypointCounter++;
    }

    pathCounter++;
} 
```

当我 NSLog(@"%@",pathArray) 时，它向我显示整个 pathArray 将 x 和 y。

但是**2 个问题**：

*   y 值永远不会正确（x 值是正确的，我的 tilemap.tmx 也是正确的）

    ```
    <object name="Wpt0" x="-18" y="304"/>  <-- I get x : -18 and y :336 with NSLog
    <object name="Wpt1" x="111" y="304"/>  <-- I get x : 111 and y :336
    <object name="Wpt2" x="112" y="207"/>  <-- I get x : 112 and y :433 
    ```

*   我在 NSLog 的末尾得到一个 EX_BAD_ACCESS

**编辑** 感谢有关 CGPoint 的 NSLog(%@)。但是，我用这条线得到了 y 值（在丑陋的循环中）：

```
NSLog(@"x : %f & y : %f",pathArray[pathCounter][waypointCounter].x,pathArray[pathCounter][waypointCounter].y); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:15:45.547

首先，你不能这样 NSLog CGPoint 因为它不是一个对象。 `%@`期望目标 c 对象向其发送`description`消息。

其次，您可以使用`NSValue`包装器，然后`NSMutableArray`像使用任何其他对象一样使用它。你有不想这样做的理由吗？您可以在其他数组中添加数组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T14:13:24.940

关于第一个问题：

> y 值永远不会正确（x 值是正确的，我的 tilemap.tmx 也是正确的）

你有没有注意到，如果你从瓦片地图和 NSLog 中添加 y 值，它们总是加起来是 640？然后你最好检查 tilemap y 坐标是否从上到下与 CGPoint 的从下到上相反。然后你总是可以做 640 - y 来转换两个坐标系之间的 y 坐标。

# web-services - 加载器图像未在 chrome 中加载，同时调用 API

> ID：11685639
> 
> 赞同：0
> 
> 时间：2012-07-27T10:05:43.233
> 
> 标签：web-services, api, google-chrome, browser, dojo

我在chrome浏览器中遇到了问题。

加载程序图像或文本未加载，而 API 调用。

Chrome 在调用 API 时会延迟其他操作并陷入停滞状态。

我的代码结构是

```
Placed a span with loader background, 

<span id='logging' class='hide'></span>

Click on 'Login' Button, 
{ 
  dojo.query('#logging').removeClass('hide'); // Show the loader 
  <API Call Script here.>
  dojo.query('#logging').addClass('hide'); // Hide the loader 
} 
```

它一直在浏览器 IE、Firefox .. 等中工作，但在 chrome 浏览器中没有

**任何人都可以帮忙吗？**

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T17:54:03.040

您是否使用正在使用的功能正确扩展了查询？关于本机选择器引擎是否“足够”，dojo.query 的加载方式不同。

尝试在查询调用周围添加（仅限 1.7+）对 dojo/NodeList-dom 的要求

```
require(["dojo/query", "dojo/NodeList-dom"], function(dj_query){ 
  dj_query('#logging').removeClass('hide'); // Show the loader 
  <API Call Script here.>
  dj_query('#logging').addClass('hide'); // Hide the loader 
}); 
```

# bash - 在查找正则表达式中扩展变量

> ID：11685643
> 
> 赞同：0
> 
> 时间：2012-07-27T10:05:55.333
> 
> 标签：bash

有没有办法以下面的方式扩展变量？在这种情况下

```
X=$(date --date=yesterday +%Y-%m-%d)
echo $X #--> 2012-07-26 
```

以下命令有效，但即使日期为 25， `$X`也被视为 null 并选择`*`。有没有办法专门扩展该变量？

```
find . -maxdepth 1 -type f -regex '.*\(/\asyncprocessor.log.'$X'*\|/Renewal.log.'$X'*\|/Scheduler.log.'$X'*\|/smsprocessor.log.'$X'*\|/Subscription.log.'$X'*\).*' -exec ls -ltr {} \; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:41:49.110

如果你简化你的正则表达式，问题就会变得更清楚：

```
'.*/Scheduler.log.'$X'*.* 
```

$X 后面的点表示最后一个字母可以重复零次。在它前面插入一个点。

此外，`a`在`.*`您使用`maxdepth 1`.

**更新：**这对我有用：

```
find . -maxdepth 1 -type f -regex './\(asyncprocessor\|Renewal\|Scheduler\|smsprocessor\|Subscription\).log.'$X'.*' -exec ls -ltr {} \; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:39:14.553

正则表达式中的 2012-07-26* 表示 2012-07-2 后跟 6（0 次或更多次）。

也许你想要 2012-07-26.* (.* : 任何字符 0 或更多时间)

如果 $x 可以包含空格，请使用双引号，例如："$x"

确切地说是点。必须转义\。否则它们匹配任何字符，并且 a 字符不需要转义

# java - Spring MVC：字符编码过滤器；为什么只强制设置响应编码？

> ID：11685644
> 
> 赞同：6
> 
> 时间：2012-07-27T10:05:59.317
> 
> 标签：java, spring, character-encoding

我正在查看 Spring MVC 提供的 CharacterEncodingFilter。我想知道为什么只有在请求编码被强制为给定编码时才能设置响应编码？如果在接受头字段中没有指定任何内容，为什么不能设置默认响应编码？或者如果请求中没有编码？

编码：

```
@Override
protected void doFilterInternal(
  HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)
  throws ServletException, IOException {

  if (this.encoding != null && (this.forceEncoding 
      || request.getCharacterEncoding() == null)) {

    request.setCharacterEncoding(this.encoding);
    if (this.forceEncoding) {
      response.setCharacterEncoding(this.encoding);
    }
  }
  filterChain.doFilter(request, response);
} 
```

我发现这是参考 [https://jira.springsource.org/browse/SPR-3328?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel](https://jira.springsource.org/browse/SPR-3328?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel) 说明响应编码只能在请求时设置强制设置编码。为什么？

在此先感谢，马丁

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:18:32.210

我可以告诉你 Juergen Hoeller 在链接[https://jira.springsource.org/browse/SPR-3328?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel](https://jira.springsource.org/browse/SPR-3328?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel)上所说的话，

在 web.xml (Servlet 2.4+) 中添加以下过滤器以设置编码：

```
<filter>
        <filter-name>CharacterEncodingFilter</filter-name>
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>UTF-8</param-value>
        </init-param>
        <init-param>
            <param-name>forceEncoding</param-name>
            <param-value>true</param-value>
        </init-param>
    </filter>

    <filter-mapping>
     <filter-name>CharacterEncodingFilter</filter-name>
     <url-pattern>/*</url-pattern>
</filter-mapping> 
```

**编辑 ：**

[CharacterEncodingFilter](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html)：即使在 HTML 页面或表单中指定，当前的浏览器通常也不会设置字符编码。如果请求尚未指定编码，则上述过滤器可以应用其编码，或者在任何情况下强制此过滤器的编码（“forceEncoding”=“true”）。如果我们严格要对字符进行编码，我们就强制设置它。

> 1.  为什么只有在请求编码被强制为给定编码时才能设置响应编码？
> 2.  如果在接受头字段中没有指定任何内容，为什么不能设置默认响应编码？或者如果请求中没有编码？

我认为评论中的`Boris's` [链接](https://stackoverflow.com/questions/3616359/who-sets-response-content-type-in-spring-mvc-responsebody)将回答这些问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-12T18:10:59.030

如果没有其他方法，您可以在 security-Context.xml 中创建一个过滤器（ bean ）并设置 forceEnconding=true;

```
<bean id="characterEncodingFilter" class="org.springframework.web.filter.CharacterEncodingFilter">
    <property name="encoding" value="utf-8"></property>
    <property name="forceEncoding" value="true"></property>
</bean> 
```

不要忘记设置新的自定义过滤器：

```
<security:custom-filter ref="characterEncodingFilter" after="FIRST"/> 
```

# ruby - 如何使用 alias_method 回调所有 Array 方法？

> ID：11685645
> 
> 赞同：0
> 
> 时间：2012-07-27T10:05:59.083
> 
> 标签：ruby, methods, callback, alias

我想写一个基于所有方法的简单回调函数，只需多加一个单词'hello'。我刚刚学习了“别名”，所以这个功能是我想尝试的。这是代码：

```
 a = []
class << a
    Array.instance_methods(false).each do |meth|    
            alias_method :old_meth, meth
        define_method(meth) do |*args, &block|
            old_meth *args, &block
            puts "hello"
        end
    end 
end
a.push "good" 
```

运行代码时，我收到以下错误：

```
DRBServer.rb:6:in `pack': too few arguments (ArgumentError) 
```

然后我认为是因为'pack'功能，所以我过滤'pack'功能如下：

```
Array.instance_methods(false).each do |meth|    
if meth != :pack
....
end 
```

然后它抱怨另一个函数'drop_while'......

```
DRBServer.rb:7:in `drop_while': wrong number of arguments(1 for 0) (ArgumentError) 
```

我知道问题一定是传递参数的方式（*args，&block），但是如果我只是使用这种方式将参数传递给一个方法，那么它就可以正常工作。如下：

```
a = []
class << a
          alias_method :old_push, :push
          define_method("push") do |*args, &block|
               old_push *args, &block
               puts "hello"
          end 
end

a.push "good" => [output "hello"] 
```

我真的很困惑，感谢您的帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:56:31.337

问题出在以下行：

```
alias_method :old_meth, meth 
```

*您将每个*原始方法别名为`old_meth`（对所有方法使用相同的名称），因此原始方法不会被保留，除了最后一个迭代的方法。要么动态生成`old_<method>`名称，要么使用其他一些存储（例如哈希）来存储原始方法。

# android - 通过 android 中的邮件和消息共享联系人

> ID：11685647
> 
> 赞同：1
> 
> 时间：2012-07-27T10:06:01.653
> 
> 标签：android, android-intent, android-contacts

我有联系人的**_ID**以及与联系人**_ID**相关的所有**Raw_contact_id**。

 **现在我想通过电子邮件或短信分享这个联系人。那么必须做什么？

*   有没有可以直接用来分享联系的意图？
*   如果有其他方式，请建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T08:11:43.207

我为此使用了此代码：

```
Intent sendIntent = new Intent();
sendIntent.setAction(Intent.ACTION_SEND);
sendIntent.putExtra(Intent.EXTRA_TEXT, "This is my text to send.");
sendIntent.setType("text/plain");
startActivity(Intent.createChooser(sendIntent, getResources().getText(R.string.send_to)); 
```**

# vb.net - vb.net 多线程聊天客户端和服务器

> ID：11685650
> 
> 赞同：1
> 
> 时间：2012-07-27T10:06:08.770
> 
> 标签：vb.net

我创建了一个聊天服务器用于聊天。在那里我连接客户端电脑，这将允许他们聊天。就我而言，服务器允许我与之连接，但我无法使用我的应用程序与其他人聊天。请查看我的代码并更正它。这是我的代码。

**客户端代码：**

```
 Imports System.Net.Sockets
    Imports System.Text
    Public Class Form1
        Dim clientSocket As New System.Net.Sockets.TcpClient()
        Dim serverStream As NetworkStream
        Dim readData As String
        Dim infiniteCounter As Integer

        Private Sub Button1_Click(ByVal sender As System.Object, _
            ByVal e As System.EventArgs) Handles Button1.Click
            Dim outStream As Byte() = _
            System.Text.Encoding.ASCII.GetBytes(TextBox2.Text + "$")
            serverStream.Write(outStream, 0, outStream.Length)
            serverStream.Flush()
        End Sub

        Private Sub msg()
            If Me.InvokeRequired Then
                Me.Invoke(New MethodInvoker(AddressOf msg))
            Else
                TextBox1.Text = TextBox1.Text + Environment.NewLine + " >> " + readData
            End If
        End Sub

        Private Sub Button2_Click(ByVal sender As System.Object, _
        ByVal e As System.EventArgs) Handles Button2.Click
            readData = "Conected to Chat Server ..."
            msg()
            clientSocket.Connect("192.168.1.215", 8888)
            'Label1.Text = "Client Socket Program - Server Connected ..."
            serverStream = clientSocket.GetStream()

            Dim outStream As Byte() = _
            System.Text.Encoding.ASCII.GetBytes(TextBox3.Text + "$")
            serverStream.Write(outStream, 0, outStream.Length)
            serverStream.Flush()

            Dim ctThread As Threading.Thread = New Threading.Thread(AddressOf getMessage)
            ctThread.Start()
        End Sub

        Private Sub getMessage()
            For infiniteCounter = 1 To 2
                infiniteCounter = 1
                serverStream = clientSocket.GetStream()
                Dim buffSize As Integer
                Dim inStream(10024) As Byte
                buffSize = clientSocket.ReceiveBufferSize
                serverStream.Read(inStream, 0, buffSize)
                Dim returndata As String = _
                System.Text.Encoding.ASCII.GetString(inStream)
                readData = "" + returndata
                msg()
            Next
        End Sub
    End Class 
```

**服务器端代码：**

```
Imports System.Net.Sockets
Imports System.Text
Module Module1
    Dim clientsList As New Hashtable
    Sub Main()
        Dim serverSocket As New TcpListener(8888)
        Dim clientSocket As TcpClient
        Dim infiniteCounter As Integer
        Dim counter As Integer

        serverSocket.Start()
        msg("Chat Server Started ....")
        counter = 0
        infiniteCounter = 0
        For infiniteCounter = 1 To 2
            infiniteCounter = 1
            counter += 1
            clientSocket = serverSocket.AcceptTcpClient()

            Dim bytesFrom(10024) As Byte
            Dim dataFromClient As String

            Dim networkStream As NetworkStream = _
            clientSocket.GetStream()
            networkStream.Read(bytesFrom, 0, CInt(clientSocket.ReceiveBufferSize))
            dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom)
            dataFromClient = _
            dataFromClient.Substring(0, dataFromClient.IndexOf("$"))

            clientsList(dataFromClient) = clientSocket

            broadcast(dataFromClient + " Joined ", dataFromClient, False)

            msg(dataFromClient + " Joined chat room ")
            Dim client As New handleClinet
            client.startClient(clientSocket, dataFromClient, clientsList)
        Next

        clientSocket.Close()
        serverSocket.Stop()
        msg("exit")
        Console.ReadLine()
    End Sub

    Sub msg(ByVal mesg As String)
        mesg.Trim()
        Console.WriteLine(" >> " + mesg)
    End Sub
    Private Sub broadcast(ByVal msg As String, _
    ByVal uName As String, ByVal flag As Boolean)
        Dim Item As DictionaryEntry
        For Each Item In clientsList
            Dim broadcastSocket As TcpClient
            broadcastSocket = CType(Item.Value, TcpClient)
            Dim broadcastStream As NetworkStream = _
                    broadcastSocket.GetStream()
            Dim broadcastBytes As [Byte]()

            If flag = True Then
                broadcastBytes = Encoding.ASCII.GetBytes(uName + " says : " + msg)
            Else
                broadcastBytes = Encoding.ASCII.GetBytes(msg)
            End If

            broadcastStream.Write(broadcastBytes, 0, broadcastBytes.Length)
            broadcastStream.Flush()
        Next
    End Sub

    Public Class handleClinet
        Dim clientSocket As TcpClient
        Dim clNo As String
        Dim clientsList As Hashtable

        Public Sub startClient(ByVal inClientSocket As TcpClient, _
        ByVal clineNo As String, ByVal cList As Hashtable)
            Me.clientSocket = inClientSocket
            Me.clNo = clineNo
            Me.clientsList = cList
            Dim ctThread As Threading.Thread = New Threading.Thread(AddressOf doChat)
            ctThread.Start()
        End Sub

        Private Sub doChat()
            Dim infiniteCounter As Integer
            Dim requestCount As Integer
            Dim bytesFrom(10024) As Byte
            Dim dataFromClient As String
            Dim sendBytes As [Byte]()
            Dim serverResponse As String
            Dim rCount As String
            requestCount = 0
            For infiniteCounter = 1 To 2
                infiniteCounter = 1
                Try
                    requestCount = requestCount + 1
                    Dim networkStream As NetworkStream = _
                            clientSocket.GetStream()
                    networkStream.Read(bytesFrom, 0, CInt(clientSocket.ReceiveBufferSize))
                    dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom)
                    dataFromClient = _
                        dataFromClient.Substring(0, dataFromClient.IndexOf("$"))
                    msg("From client - " + clNo + " : " + dataFromClient)
                    rCount = Convert.ToString(requestCount)

                    broadcast(dataFromClient, clNo, True)
                Catch ex As Exception
                    MsgBox(ex.ToString)
                End Try
            Next
        End Sub

    End Class
End Module 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-03T20:07:29.677

一，您需要指定您的 PUBLIC IP 地址，二，您需要在路由器上打开 8888 端口。

更改：clientSocket.Connect("192.168.1.215", 8888) 为：

clientSocket.Connect("", 8888)

并确保将端口 8888 转发到您的内部 LAN IP：192.168.1.215

这也是完全不安全的，我会使用三重 DES 加密和解密字符串。一点点安全，但至少是它的安全。

了解一些关于网络萌芽的知识。

# mongodb - Fri Jul 27 11:50:23 [clientcursormon] mem (MB) res:3 virt:76 mapped:0

> ID：11685651
> 
> 赞同：6
> 
> 时间：2012-07-27T10:06:11.860
> 
> 标签：mongodb

这个mongodb日志是什么意思::

Fri Jul 27 11:50:23 [clientcursormon] mem (MB) res:3 virt:76 mapped:0

1.  什么是水库？
2.  什么是 virt ？
3.  映射了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:09:48.270

它告诉您当前正在使用多少内存：-

```
Res = Resident Memory Used (Physical Ram)
Vir = Virtual Memory Used
Mapped = Mapped memory used 
```

[Checking Server Memory Usage - MongoDB](http://www.mongodb.org/display/DOCS/Checking+Server+Memory+Usage)可能有助于进一步解释。

# jsf-2 - 验证 JSF 视图参数和错误消息

> ID：11685653
> 
> 赞同：0
> 
> 时间：2012-07-27T10:06:13.963
> 
> 标签：jsf-2

我有一个带有必须在数据库中查找的视图参数的 JSF2 页面。然后在页面上显示该实体的属性。

现在我想处理视图参数丢失/无效的情况

```
<f:metadata>
    <f:viewParam name="id" value="#{fooBean.id}" />
    <f:event type="preRenderView" listener="#{fooBean.init()}" />
</f:metadata> 
```

`init()`代码如下：

```
String msg = "";
if (id == null) {
    msg = "Missing ID!";
}
else {
    try {
        entity = manager.find(id);
    } catch (Exception e) {
        msg = "No entity with id=" + id;
    }
}
if (version == null) {
    FacesUtils.addGlobalMessage(FacesMessage.SEVERITY_FATAL, msg);
    FacesContext.getCurrentInstance().renderResponse();
} 
```

现在我的问题是仍然呈现剩余页面，并且我在应用程序服务器日志中收到错误，指出实体为空（因此某些元素未正确呈现）。我只想显示错误消息。

我应该返回一个字符串以便`POST`发出一个错误页面吗？但是，如果我选择这种方式，如何添加自定义错误消息？将字符串作为视图参数传递似乎根本不是一个好主意。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T12:48:11.160

在我看来，在这些情况下最好的办法是发送带有适当错误代码的 HTTP 响应（**404**表示未找到/无效，**403**表示禁止等）：

将此实用程序方法添加到您的 FacesUtils：

```
public static void responseSendError(int status, String message)
                           throws IOException {
    FacesContext facesContext = FacesContext.getCurrentInstance();
    facesContext.getExternalContext().responseSendError(status, message);
    facesContext.responseComplete();
} 
```

然后，将您的 preRenderView 侦听器更改为：

```
public void init() throws IOException {
    if (id == null || id.isEmpty()) {
        FacesUtils.responseSendError(404, "URL incomplete or invalid!");
    }
    else {
        try {
            entity = manager.find(id);
        } catch (Exception e) { // <- are you sure you want to do that? ;)
            FacesUtils.responseSendError(404, "No entity found!");
        }
    }  
} 
```

# php - setAttribute 和 setAttributeNode 有什么区别？

> ID：11685656
> 
> 赞同：6
> 
> 时间：2012-07-27T10:06:21.407
> 
> 标签：php, dom

我现在正在玩 PHP 的[DOMDocument](http://www.php.net/manual/en/class.domelement.php)。正如问题所述，这两种方法之间有什么区别（除了需要将 DOMAttr 传递给 setAttributeNode 之外）以及应该在什么情况下使用它们？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T10:22:32.007

我记得，里面没有很多。除了您已经确定的那个之外，主要区别是`setAttributeNode`不能用于同时为属性设置值，而只能用于设置属性的名称。

实际上，它是一种在 DOM 之外准备属性以供稍后插入的方法。

`setAttribute`是一种更快的方法；它允许规定名称和值。

# android - Phonegap 应用程序在运行 Android ADT 20 的 Indigo 上意外停止

> ID：11685657
> 
> 赞同：4
> 
> 时间：2012-07-27T10:06:23.450
> 
> 标签：android, cordova, compiler-errors

我正在使用带有 android ADT 20 的 eclipse indigo，但每次它显示应用程序意外停止的错误。
请问有人知道如何将它们一起使用吗？
我还参考了一些 google groupe，它们显示更新 ecllipse，我也遵循了这一点，但仍然无法正常工作。提前谢谢...

日志：

```
07-27 16:48:04.958: D/ddm-heap(217): Got feature list request
07-27 16:48:05.328: I/dalvikvm(217): Could not find method android.webkit.WebView.<init>, referenced from method org.apache.cordova.CordovaWebView.<init>
07-27 16:48:05.328: W/dalvikvm(217): VFY: unable to resolve direct method 3114: Landroid/webkit/WebView;.<init> (Landroid/content/Context;Landroid/util/AttributeSet;IZ)V
07-27 16:48:05.328: D/dalvikvm(217): VFY: replacing opcode 0x70 at 0x0001
07-27 16:48:05.328: D/dalvikvm(217): Making a copy of Lorg/apache/cordova/CordovaWebView;.<init> code (196 bytes)
07-27 16:48:05.658: D/dalvikvm(217): GC freed 807 objects / 63672 bytes in 104ms
07-27 16:48:05.948: E/dalvikvm(217): Could not find class 'android.webkit.WebResourceResponse', referenced from method org.apache.cordova.CordovaWebViewClient.generateWebResourceResponse
07-27 16:48:05.958: W/dalvikvm(217): VFY: unable to resolve new-instance 451 (Landroid/webkit/WebResourceResponse;) in Lorg/apache/cordova/CordovaWebViewClient;
07-27 16:48:05.958: D/dalvikvm(217): VFY: replacing opcode 0x22 at 0x0046
07-27 16:48:05.958: D/dalvikvm(217): Making a copy of Lorg/apache/cordova/CordovaWebViewClient;.generateWebResourceResponse code (245 bytes)
07-27 16:48:05.958: W/dalvikvm(217): VFY: unable to find class referenced in signature (Landroid/webkit/WebResourceResponse;)
07-27 16:48:05.998: W/dalvikvm(217): VFY: unable to find class referenced in signature (Landroid/webkit/WebResourceResponse;)
07-27 16:48:06.014: W/dalvikvm(217): VFY: unable to find class referenced in signature (Landroid/webkit/WebResourceResponse;)
07-27 16:48:06.014: I/dalvikvm(217): Could not find method android.webkit.WebViewClient.shouldInterceptRequest, referenced from method org.apache.cordova.CordovaWebViewClient.shouldInterceptRequest
07-27 16:48:06.014: W/dalvikvm(217): VFY: unable to resolve virtual method 3125: Landroid/webkit/WebViewClient;.shouldInterceptRequest (Landroid/webkit/WebView;Ljava/lang/String;)Landroid/webkit/WebResourceResponse;
07-27 16:48:06.014: D/dalvikvm(217): VFY: replacing opcode 0x6f at 0x0015
07-27 16:48:06.014: D/dalvikvm(217): Making a copy of Lorg/apache/cordova/CordovaWebViewClient;.shouldInterceptRequest code (68 bytes)
07-27 16:48:06.018: W/dalvikvm(217): VFY: unable to find class referenced in signature (Landroid/webkit/ConsoleMessage;)
07-27 16:48:06.018: I/dalvikvm(217): Could not find method android.webkit.ConsoleMessage.message, referenced from method org.apache.cordova.CordovaChromeClient.onConsoleMessage
07-27 16:48:06.018: W/dalvikvm(217): VFY: unable to resolve virtual method 3084: Landroid/webkit/ConsoleMessage;.message ()Ljava/lang/String;
07-27 16:48:06.018: D/dalvikvm(217): VFY: replacing opcode 0x6e at 0x0000
07-27 16:48:06.028: D/dalvikvm(217): Making a copy of Lorg/apache/cordova/CordovaChromeClient;.onConsoleMessage code (56 bytes)
07-27 16:48:06.038: W/System.err(217): =====================================================================================
07-27 16:48:06.056: W/System.err(217): ERROR: plugin.xml is missing.  Add res/xml/plugins.xml to your project.
07-27 16:48:06.056: W/System.err(217): https://git-wip-us.apache.org/repos/asf?p=incubator-cordova-android.git;a=blob;f=framework/res/xml/plugins.xml
07-27 16:48:06.056: W/System.err(217): =====================================================================================
07-27 16:48:06.056: W/ResourceType(217): No package identifier when getting name for resource number 0x00000000
07-27 16:48:06.058: D/AndroidRuntime(217): Shutting down VM
07-27 16:48:06.058: W/dalvikvm(217): threadid=3: thread exiting with uncaught exception (group=0x4001b188)
07-27 16:48:06.058: E/AndroidRuntime(217): Uncaught handler: thread main exiting due to uncaught exception
07-27 16:48:06.078: E/AndroidRuntime(217): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testdemo/com.example.testdemo.MainActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x0
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread.access$2200(ActivityThread.java:119)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.os.Looper.loop(Looper.java:123)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread.main(ActivityThread.java:4363)
07-27 16:48:06.078: E/AndroidRuntime(217):  at java.lang.reflect.Method.invokeNative(Native Method)
07-27 16:48:06.078: E/AndroidRuntime(217):  at java.lang.reflect.Method.invoke(Method.java:521)
07-27 16:48:06.078: E/AndroidRuntime(217):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-27 16:48:06.078: E/AndroidRuntime(217):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-27 16:48:06.078: E/AndroidRuntime(217):  at dalvik.system.NativeStart.main(Native Method)
07-27 16:48:06.078: E/AndroidRuntime(217): Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x0
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.content.res.Resources.getValue(Resources.java:891)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.content.res.Resources.loadXmlResourceParser(Resources.java:1865)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.content.res.Resources.getXml(Resources.java:779)
07-27 16:48:06.078: E/AndroidRuntime(217):  at org.apache.cordova.api.PluginManager.loadPlugins(PluginManager.java:99)
07-27 16:48:06.078: E/AndroidRuntime(217):  at org.apache.cordova.api.PluginManager.init(PluginManager.java:76)
07-27 16:48:06.078: E/AndroidRuntime(217):  at org.apache.cordova.CordovaWebView.loadUrlIntoView(CordovaWebView.java:361)
07-27 16:48:06.078: E/AndroidRuntime(217):  at org.apache.cordova.CordovaWebView.loadUrl(CordovaWebView.java:314)
07-27 16:48:06.078: E/AndroidRuntime(217):  at org.apache.cordova.DroidGap.loadUrl(DroidGap.java:356)
07-27 16:48:06.078: E/AndroidRuntime(217):  at com.example.testdemo.MainActivity.onCreate(MainActivity.java:12)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-27 16:48:06.078: E/AndroidRuntime(217):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
07-27 16:48:06.078: E/AndroidRuntime(217):  ... 11 more
07-27 16:48:06.098: I/dalvikvm(217): threadid=7: reacting to signal 3
07-27 16:48:06.098: E/dalvikvm(217): Unable to open stack trace file '/data/anr/traces.txt': Permission denied
07-27 16:48:08.998: I/Process(217): Sending signal. PID: 217 SIG: 9 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T11:01:06.993

出现此问题是因为Android People 现在将**“lib”**文件夹重命名为**“libs” 。**您需要创建一个`libs`文件夹，而不是`lib`然后将您的 cordova.jar 文件放在那里。一旦我们将外部 jars 放到这个“libs”文件夹中，它就会自动添加到应用程序的构建路径中。然后运行你的应用程序......如果这对你有帮助，请告诉我......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:13:53.617

您应该尝试调试您的构建。见这里：[http ://www.droidnova.com/debugging-in-android-using-eclipse,541.html](http://www.droidnova.com/debugging-in-android-using-eclipse,541.html)

我建议下载 android sdk 示例（即本机代码示例）并运行它们以了解 android 的工作原理。这将帮助您设置 phonegap（这只是一个带有 JS-Native 桥的 android 应用程序中的 web 视图）。

要获取 android sdk 示例，您可以通过 android "sdk manager" 下载它们

# ruby - DataMapper 中的 DataObject::Integrity 错误

> ID：11685659
> 
> 赞同：0
> 
> 时间：2012-07-27T10:06:24.203
> 
> 标签：ruby, sqlite, validation, datamapper

我编写了一个应用程序，我计划通过 DataMapper 和 sqlite3 保存用户数据，并使用 GDBM 保存项目（其中几个）。当我使用 irb 运行它时，User.new 和 inventory 方法工作正常，但是 DataMapper 说我的用户模型**无效并且不保存它**。我之前使用过 DataMapper 并且从未遇到过这样的错误，事实上我使用了相同的用户模型（使用密码盐和哈希），在[sinatra-datamapper 应用程序](https://github.com/barerd/kimsin)中没有任何错误。

为了清楚起见，我打算将用户名和“gdbm 数据库文件的路径”都保存为 datamapper 中的字符串。gdbm 创建自己的 db 文件，所有方法都可以正常工作，没有抱怨，所有数据都是持久的。由于我不是要保存 gdbm 对象，而只是在 datamapper 中保存一个字符串，所以我认为验证应该没有问题。

`DataMapper::Model.raise_on_save_failure = true`没有给出错误的具体描述，但`save!`方法给出了以下错误：

`DataObjects::IntegrityError: users.name may not be NULL (code: 19, sql state: , query: INSERT INTO "users" DEFAULT VALUES, uri: sqlite3:/home/barerd/game_inventory/users.db?scheme=sqlite3&user=......`但是当我在 irb 中检查时，名称属性不为空。

也许错误源于sqlite，但我不知道测试它。有人可以指导我如何检查此错误吗？

```
require 'gdbm'
require 'data_mapper'
require 'dm-validations'

DataMapper.setup :default, 'sqlite://' + Dir.pwd + '/users.db'

class User
  attr_reader :name, :inventory_db
  include DataMapper::Resource
  property id, Serial
  property :name, String, :required => true, :unique => true, :messages => { :presence =>...... etc }
  property :inventory_db, String

  def initialize name
    @name = name
    @inventory_db = Dir.pwd + '/#{name}_inventory.db'
  end

  def inventory
    GDBM.new @inventory_db, 0644, GDBM::WRCREAT
  end

..several methods related to inventory..
end

DataMapper.finalize.auto_migrate! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T12:03:02.980

进一步谷歌搜索，我发现

> 在 dkubb/dm-core 中定义属性 getter 有一个守卫

通过[这个链接](http://datamapper.lighthouseapp.com/projects/20609/tickets/756-reserved-methods-for-property-getter)。从模型中删除 getter 方法后，一切正常。

# java - 发生带有 iText 错误的 pdf 提取

> ID：11685660
> 
> 赞同：1
> 
> 时间：2012-07-27T10:06:26.570
> 
> 标签：java, android, eclipse, pdf, itext

我想使用 iText 从互联网上的 pdf 文件中提取文本到 java 中的字符串。这是我的代码：

```
package me.moop.mytwitter;

import java.io.IOException;
import java.text.ParseException;

import com.itextpdf.text.pdf.PdfReader;
import com.itextpdf.text.pdf.parser.PdfTextExtractor;

import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;
import android.app.Activity;
import android.app.ProgressDialog;

public class MainActivity extends Activity {

    Button mBtnCheck;
    EditText mEtxtGroup;
    ProgressDialog mProgressDialog;
    TextView mTxtv1;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.nicelayout3);

        mBtnCheck = (Button) findViewById(R.id.btnCheck);
        mEtxtGroup = (EditText) findViewById(R.id.etxtGroup);
        mTxtv1 = (TextView) findViewById(R.id.textView1);

    }

      public void checkScheduleChange(View view){
        if (view == mBtnCheck){
            String group;
            group = mEtxtGroup.getText().toString();
            if (group.length() > 0){
                mProgressDialog = new ProgressDialog(this);
                mProgressDialog.setMessage("Bezig met checken voor roosterwijzigingen...");
                mProgressDialog.show();
                new CheckScheduleChangeTask().execute();
            }
            else{
                Toast.makeText(this, "Voer een klas in", Toast.LENGTH_LONG).show();
            }
        }
    }

    private class CheckScheduleChangeTask extends AsyncTask<Void, Void, Void> {

        String content;

        @Override
        protected Void doInBackground(Void... args) {

            PdfReader reader = null;
            try {
                reader = new PdfReader("http://www.augustinianum.eu/roosterwijzigingen/14062012.pdf");
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            try {
                content = PdfTextExtractor.getTextFromPage(reader, 1);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            return null;
        }

        @Override
        protected void onPostExecute(Void arg) {
            mProgressDialog.dismiss();

                String group = mEtxtGroup.getText().toString();
                if (content.contains(group)){
                    Toast.makeText(MainActivity.this, "U hebt een roosterwijziging", Toast.LENGTH_LONG).show();
                }   
                mTxtv1.setText(content);
        }
    }
} 
```

对于赶时间的人，这里是 iText 部分：

```
private class CheckScheduleChangeTask extends AsyncTask<Void, Void, Void> {

    String content;

    @Override
    protected Void doInBackground(Void... args) {

        PdfReader reader = null;
        try {
            reader = new PdfReader("http://www.augustinianum.eu/roosterwijzigingen/14062012.pdf");
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        try {
            content = PdfTextExtractor.getTextFromPage(reader, 1);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return null;
    }

    @Override
    protected void onPostExecute(Void arg) {
    // more code
    } 
```

每当我在我的模拟器中启动它时，我都会在调用类后接近：CheckScheduleChangeTask。这是日志：

```
07-27 09:15:08.354: D/ddm-heap(222): Got feature list request
07-27 09:15:12.994: E/dalvikvm(222): Could not find class 'com.itextpdf.text.pdf.PdfReader', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:15:13.004: W/dalvikvm(222): VFY: unable to resolve new-instance 410 (Lcom/itextpdf/text/pdf/PdfReader;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:15:13.004: D/dalvikvm(222): VFY: replacing opcode 0x22 at 0x0002
07-27 09:15:13.004: D/dalvikvm(222): Making a copy of Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;.doInBackground code (137 bytes)
07-27 09:15:13.004: E/dalvikvm(222): Could not find class 'com.itextpdf.text.pdf.parser.PdfReaderContentParser', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:15:13.004: W/dalvikvm(222): VFY: unable to resolve new-instance 411 (Lcom/itextpdf/text/pdf/parser/PdfReaderContentParser;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:15:13.004: D/dalvikvm(222): VFY: replacing opcode 0x22 at 0x000a
07-27 09:15:13.045: W/dalvikvm(222): threadid=15: thread exiting with uncaught exception (group=0x4001b188)
07-27 09:15:13.045: E/AndroidRuntime(222): Uncaught handler: thread AsyncTask #1 exiting due to uncaught exception
07-27 09:15:13.135: E/AndroidRuntime(222): java.lang.RuntimeException: An error occured while executing doInBackground()
07-27 09:15:13.135: E/AndroidRuntime(222):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.lang.Thread.run(Thread.java:1096)
07-27 09:15:13.135: E/AndroidRuntime(222): Caused by: java.lang.NoClassDefFoundError: com.itextpdf.text.pdf.PdfReader
07-27 09:15:13.135: E/AndroidRuntime(222):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:84)
07-27 09:15:13.135: E/AndroidRuntime(222):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:1)
07-27 09:15:13.135: E/AndroidRuntime(222):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
07-27 09:15:13.135: E/AndroidRuntime(222):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
07-27 09:15:13.135: E/AndroidRuntime(222):  ... 4 more
07-27 09:15:13.164: I/dalvikvm(222): threadid=7: reacting to signal 3
07-27 09:15:13.394: I/dalvikvm(222): Wrote stack trace to '/data/anr/traces.txt'
07-27 09:15:16.894: I/Process(222): Sending signal. PID: 222 SIG: 9
07-27 09:17:59.094: E/dalvikvm(252): Could not find class 'com.itextpdf.text.pdf.PdfReader', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:17:59.094: W/dalvikvm(252): VFY: unable to resolve new-instance 410 (Lcom/itextpdf/text/pdf/PdfReader;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:17:59.094: D/dalvikvm(252): VFY: replacing opcode 0x22 at 0x0002
07-27 09:17:59.094: D/dalvikvm(252): Making a copy of Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;.doInBackground code (137 bytes)
07-27 09:17:59.094: E/dalvikvm(252): Could not find class 'com.itextpdf.text.pdf.parser.PdfReaderContentParser', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:17:59.094: W/dalvikvm(252): VFY: unable to resolve new-instance 411 (Lcom/itextpdf/text/pdf/parser/PdfReaderContentParser;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:17:59.094: D/dalvikvm(252): VFY: replacing opcode 0x22 at 0x000a
07-27 09:17:59.124: W/dalvikvm(252): threadid=15: thread exiting with uncaught exception (group=0x4001b188)
07-27 09:17:59.124: E/AndroidRuntime(252): Uncaught handler: thread AsyncTask #1 exiting due to uncaught exception
07-27 09:17:59.134: E/AndroidRuntime(252): java.lang.RuntimeException: An error occured while executing doInBackground()
07-27 09:17:59.134: E/AndroidRuntime(252):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.lang.Thread.run(Thread.java:1096)
07-27 09:17:59.134: E/AndroidRuntime(252): Caused by: java.lang.NoClassDefFoundError: com.itextpdf.text.pdf.PdfReader
07-27 09:17:59.134: E/AndroidRuntime(252):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:70)
07-27 09:17:59.134: E/AndroidRuntime(252):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:1)
07-27 09:17:59.134: E/AndroidRuntime(252):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
07-27 09:17:59.134: E/AndroidRuntime(252):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
07-27 09:17:59.134: E/AndroidRuntime(252):  ... 4 more
07-27 09:17:59.521: I/dalvikvm(252): threadid=7: reacting to signal 3
07-27 09:17:59.794: I/dalvikvm(252): Wrote stack trace to '/data/anr/traces.txt'
07-27 09:18:02.743: I/Process(252): Sending signal. PID: 252 SIG: 9
07-27 09:26:26.713: E/dalvikvm(280): Could not find class 'com.itextpdf.text.pdf.PdfReader', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:26:26.723: W/dalvikvm(280): VFY: unable to resolve new-instance 410 (Lcom/itextpdf/text/pdf/PdfReader;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:26:26.723: D/dalvikvm(280): VFY: replacing opcode 0x22 at 0x0001
07-27 09:26:26.723: D/dalvikvm(280): Making a copy of Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;.doInBackground code (93 bytes)
07-27 09:26:26.723: I/dalvikvm(280): Could not find method com.itextpdf.text.pdf.parser.PdfTextExtractor.getTextFromPage, referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:26:26.723: W/dalvikvm(280): VFY: unable to resolve static method 2969: Lcom/itextpdf/text/pdf/parser/PdfTextExtractor;.getTextFromPage (Lcom/itextpdf/text/pdf/PdfReader;I)Ljava/lang/String;
07-27 09:26:26.723: D/dalvikvm(280): VFY: replacing opcode 0x71 at 0x000a
07-27 09:26:26.754: W/dalvikvm(280): threadid=15: thread exiting with uncaught exception (group=0x4001b188)
07-27 09:26:26.754: E/AndroidRuntime(280): Uncaught handler: thread AsyncTask #1 exiting due to uncaught exception
07-27 09:26:26.763: E/AndroidRuntime(280): java.lang.RuntimeException: An error occured while executing doInBackground()
07-27 09:26:26.763: E/AndroidRuntime(280):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.lang.Thread.run(Thread.java:1096)
07-27 09:26:26.763: E/AndroidRuntime(280): Caused by: java.lang.NoClassDefFoundError: com.itextpdf.text.pdf.PdfReader
07-27 09:26:26.763: E/AndroidRuntime(280):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:68)
07-27 09:26:26.763: E/AndroidRuntime(280):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:1)
07-27 09:26:26.763: E/AndroidRuntime(280):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
07-27 09:26:26.763: E/AndroidRuntime(280):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
07-27 09:26:26.763: E/AndroidRuntime(280):  ... 4 more
07-27 09:26:27.063: I/dalvikvm(280): threadid=7: reacting to signal 3
07-27 09:26:27.404: I/dalvikvm(280): Wrote stack trace to '/data/anr/traces.txt'
07-27 09:46:50.573: E/dalvikvm(308): Could not find class 'com.itextpdf.text.pdf.PdfReader', referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:46:50.573: W/dalvikvm(308): VFY: unable to resolve new-instance 410 (Lcom/itextpdf/text/pdf/PdfReader;) in Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;
07-27 09:46:50.573: D/dalvikvm(308): VFY: replacing opcode 0x22 at 0x0001
07-27 09:46:50.573: D/dalvikvm(308): Making a copy of Lme/moop/mytwitter/MainActivity$CheckScheduleChangeTask;.doInBackground code (97 bytes)
07-27 09:46:50.573: I/dalvikvm(308): Could not find method com.itextpdf.text.pdf.parser.PdfTextExtractor.getTextFromPage, referenced from method me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground
07-27 09:46:50.573: W/dalvikvm(308): VFY: unable to resolve static method 2969: Lcom/itextpdf/text/pdf/parser/PdfTextExtractor;.getTextFromPage (Lcom/itextpdf/text/pdf/PdfReader;I)Ljava/lang/String;
07-27 09:46:50.583: D/dalvikvm(308): VFY: replacing opcode 0x71 at 0x000a
07-27 09:46:50.624: W/dalvikvm(308): threadid=15: thread exiting with uncaught exception (group=0x4001b188)
07-27 09:46:50.624: E/AndroidRuntime(308): Uncaught handler: thread AsyncTask #1 exiting due to uncaught exception
07-27 09:46:50.634: E/AndroidRuntime(308): java.lang.RuntimeException: An error occured while executing doInBackground()
07-27 09:46:50.634: E/AndroidRuntime(308):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.lang.Thread.run(Thread.java:1096)
07-27 09:46:50.634: E/AndroidRuntime(308): Caused by: java.lang.NoClassDefFoundError: com.itextpdf.text.pdf.PdfReader
07-27 09:46:50.634: E/AndroidRuntime(308):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:68)
07-27 09:46:50.634: E/AndroidRuntime(308):  at me.moop.mytwitter.MainActivity$CheckScheduleChangeTask.doInBackground(MainActivity.java:1)
07-27 09:46:50.634: E/AndroidRuntime(308):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
07-27 09:46:50.634: E/AndroidRuntime(308):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
07-27 09:46:50.634: E/AndroidRuntime(308):  ... 4 more
07-27 09:46:51.105: I/dalvikvm(308): threadid=7: reacting to signal 3
07-27 09:46:51.423: I/dalvikvm(308): Wrote stack trace to '/data/anr/traces.txt'
07-27 09:46:54.444: I/Process(308): Sending signal. PID: 308 SIG: 9 
```

进口好像有问题。有谁知道如何解决这一问题？

谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T18:48:41.877

它使用 iText 完成，非常简单。但是，如果有人对此有疑问，请问我。

顺便说一句，上述问题的解决方案在这里： [https ://stackoverflow.com/a/10046725/1289716](https://stackoverflow.com/a/10046725/1289716)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:10:03.700

您可以使用[这个](http://code.google.com/p/droidtext/source/browse/trunk/droidTextTest/src/examples/com/lowagie/examples/general/HelloSystemOut.java)从文本创建 pdf 的简单示例 :)

使用网站上提供的库 droidtext0.2jar ..。

**已编辑**

你添加了你的库来构建路径？如果没有，则添加它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-27T10:12:59.850

您可能还需要导入这些：

```
import com.lowagie.text.BadElementException; 
import com.lowagie.text.Document; 
import com.lowagie.text.DocumentException; 
import com.lowagie.text.Image; 
import com.lowagie.text.pdf.BaseFont; 
import com.lowagie.text.pdf.PdfContentByte; 
import com.lowagie.text.pdf.PdfWriter; 
```

# android - 在android电子邮件意图中对齐文本

> ID：11685664
> 
> 赞同：1
> 
> 时间：2012-07-27T10:06:41.847
> 
> 标签：android, html, html-email

我正在开发一个应用程序，其中我有一些默认文本要通过电子邮件发送给某个朋友。为了达到这个目的，我使用 (text/html) 作为意图类型将默认文本定义为 HTML 字符串。我在将文本对齐到中心时遇到问题。除对齐相关标签外，所有其他标签都在工作。

这就是我将文本与电子邮件正文的中心对齐的方法：

```
 <center>
  <p style='font-family:Helvetica-Bold;font-size:10.5pt;color: black'>rob </p>
 </center> 
```

也：

```
<p style='text-align:center;font-family:Helvetica-Bold;font-size:10.5pt;color: black'>rob </p> 
```

但是这两种方法都没有得到回报……文本仍然在电子邮件意图中保持左对齐。但是，如果我检查它离子浏览器它是中心对齐的。如何将字符串与正在使用的 i9n 电子邮件意图 html 居中对齐。任何帮助表示赞赏。提前致谢...：-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:39:51.147

`<p>` 似乎不支持 该标签。[请参阅此参考。](http://nowherenearithaca.blogspot.ch/2011/10/some-notes-for-sending-html-email-in.html)

您将不得不找到另一个解决方案，您是否尝试过使用`<div>`标签

# ios - 处理核心基础类时的内存管理问题

> ID：11685666
> 
> 赞同：1
> 
> 时间：2012-07-27T10:06:51.920
> 
> 标签：ios, memory, addressbook

我有一个内存管理问题，我似乎无法找到解决方案。代码如下：

```
-(ABRecordRef)convertABCPerson:(ABCPerson*) person{

// create new address book person record
ABRecordRef aRecord = ABPersonCreate(); 

[self setValuesFor:person toARecord:aRecord];

return aRecord; 
```

}

所以我将自己的类转换为 ABRecordRef，现在我需要以某种方式“自动释放”这个对象（这样我就可以在不同的对象中获得所有权）。我正在使用 ARC，ABRecordRef 不能通过收费桥接到 Cocoa 基础类。有什么想法可以解决这个内存管理问题吗？

谢谢您的帮助 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T13:14:27.613

我找到了解决我的问题的方法。我唯一要做的就是将其转换为 id 并使用桥接传输让 ARC 处理内存管理。在其他类中，您可以将 ABRecordRef 强制转换为 __bridge，以便 ARC 正确处理记录。

解决方案：

```
-(id)convertABCPerson:(ABCPerson*) person{

    // create new address book person record
    ABRecordRef aRecord = ABPersonCreate(); 

    [self setValuesFor:person toARecord:aRecord];

    id record = (__bridge_transfer id)aRecord;

    return record;
} 
```

回铸：

```
personViewController.displayedPerson = (__bridge ABRecordRef)[[ABCFacade sharedABCFacade] convertABCPerson:goldenRecord]; 
```

# xcode - 将应用上传到 AppStore

> ID：11685668
> 
> 赞同：0
> 
> 时间：2012-07-27T10:06:53.123
> 
> 标签：xcode, xcode4, app-store

它让我发疯了！将应用程序上传到appStore太难了！

我现在正在使用 Application Loader。

我解决了很多错误，还有一个我不能，这个：

> 应用程序未通过协同设计验证。签名无效，包含不允许的权利，或者未使用 Iphone 分发证书签名。

我读到我必须设置：

> 产品-> 编辑场景-> 存档-> 发布。

我错过了什么？

## 编辑

那是我应该拥有的吗？

![在此处输入图像描述](../Images/4c7092559fc7759f21d66626ed5ec9ad.png)

我想是这样，但是我遇到了很多麻烦，以至于我不确定任何事情！

我有这个分发证书，下一步是安装，但是，我应该在哪里做呢？代码？应用程序上传器？在同一个网站？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:14:48.853

尝试创建分发证书：

1.  访问[http://developer.apple.com](http://developer.apple.com)
2.  点击会员中心
3.  使用您的 Apple ID 登录
4.  单击 iOS 配置门户
5.  单击证书
6.  单击分发（从这一点开始，我正在记忆中工作，因为我已经这样做了）
7.  按照说明制作证书（这将涉及钥匙串访问）
8.  下载您的证书并打开它。
9.  返回配置门户并单击配置
10.  点击分布
11.  制作并下载分发配置文件。
12.  安装该配置文件。
13.  确保在创建存档时使用它进行构建

# xcode - 配置文件与默认钥匙串中的任何有效证书/私钥对不匹配

> ID：11685673
> 
> 赞同：1
> 
> 时间：2012-07-27T10:07:04.480
> 
> 标签：xcode, provisioning-profile

上次我尝试在设备中运行我的应用程序时，它运行顺利，没有任何问题。

但是现在当我再次尝试运行它时，Xcode 出现以下错误：

> 配置文件与默认钥匙串中的任何有效证书/私钥对不匹配

我从不更改 Xcode 中的配置文件以及钥匙串中的私钥和证书。有谁知道为什么？

# scala - Scala 隐含变量参数列表

> ID：11685674
> 
> 赞同：7
> 
> 时间：2012-07-27T10:07:06.133
> 
> 标签：scala, implicit-conversion, variadic-functions

我有库方法采用变量参数列表并生成数据

```
class Data
def process(elems: String*): Data = new Data 
```

我希望我的字符串被隐式转换为`Data`

```
implicit def strToData(ts: String): Data = process(t) 
```

所以我可以写类似

```
val data: Data = "one" 
```

但我也希望隐式转换字符串元组。我添加了另一个隐式

```
implicit def strsToData(ts: String*): Data = process(ts: _*) 
```

它编译得很好，但转换失败

```
val data: Data = ("one", "two")
val dat3: Data = ("one", "two", "three")
val dat4: Data = ("one", "two", "three", "four") 
```

和

```
found   : Seq[java.lang.String]
required: this.Data
val data: Data = Seq("one", "two") 
```

有什么方法可以隐式转换元组，或者可以实现它的原因吗？

**更新：**元组可以是任何数量。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T11:14:53.280

1.  `ts: String*`不是一个元组，而是一个`Iterable`. 您不能将 iterable 转换为 tuple，因为 tuple 是一种静态类型，并且它的 arity 是在编译时解析的。Emil H 回答了如何从元组进行隐式转换。
2.  从一种类型到另一种类型的透明隐式转换是一个常见的陷阱，我们不鼓励这样做。相反，您应该应用“包装器”方法，或从 Scala 2.10 开始使用“值类”：

    在 Scala 2.9 中：

    ```
    implicit def stringStringTupleExtender (ts : (String, String)) =
      new {
        def data = process(ts)
      } 
    ```

    在 Scala 2.10 中：

    ```
    implicit class StringStringTupleExtender (val ts : (String, String)) extends AnyVal {
      def data = process(ts)
    } 
    ```

    然后你会像这样使用它：

    ```
    val data : Data = ("sdf", "lsdfj").data
    val data1 : Data = "sdf".data // if you do the same for String 
    ```

3.  如果您正在寻找动态解析任何输入集合，那么猜猜看，您应该使用集合，而不是元组。

    在 Scala 2.9 中

    ```
    implicit def seqExtender (ts : Seq[String]) =
      new {
        def data = process(ts)
      } 
    ```

    用法：

    ```
    val data : Data = Seq("sdf", "lsdkfjsdl", "ldsfjk").data 
    ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T15:11:27.827

虽然@NikitaVolkov 的答案中的所有警告都适用于双重力量，但您*可以*编写一个接受任何元组数量以及任何案例类的版本：

```
implicit def prod2data(Product p): process((p.productIterator.toSeq):_*) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-27T10:48:01.230

您需要创建从元组到的隐式转换`Data`：

```
implicit def strTplToData(ts:(String, String)) = process(ts._1, ts._2) 
```

然后你可以这样做：

```
val data: Data = ("one", "two") 
```

# c# - 我怎样才能拥有 2 个 dll 函数实例但仍然使用它们？

> ID：11685675
> 
> 赞同：0
> 
> 时间：2012-07-27T10:07:07.050
> 
> 标签：c#, postmessage, findwindow

```
 [DllImport("user32.dll")]
    public static extern int FindWindow(string lpClassName, string lpWindowName);
    [DllImport("user32.dll")]
    public static extern IntPtr FindWindow(string lpClassName, string lpWindowName); 
```

像这样。我两个都需要。如果我选择 intptr，它不能正确转换为 int，因此 postmessage 等东西会失败，否则，需要“句柄”的东西会失败，因为它应该是指针。

```
 Bitmap thisScreenshot = new Bitmap(Width, Height);
        Graphics gfxScreenshot = Graphics.FromImage(thisScreenshot);
        IntPtr hdcBitmap = gfxScreenshot.GetHdc();
        PrintWindow(handle, hdcBitmap, 0);
        gfxScreenshot.ReleaseHdc(hdcBitmap); 
```

我基本上想执行这个，同时也有我的 int findwindow 函数。有什么想法吗？Findwindow 也是句柄，对吧？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:17:20.107

使用返回 int 的版本是不正确的。FindWindow 返回一个窗口句柄，它总是 IntPtr。您需要改正您的 PostMessage 声明：

```
[DllImport("user32.dll")]
public static extern bool PostMessage(IntPtr hWnd, int msg, IntPtr wp, IntPtr lp); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:18:31.390

给函数一个不同的名称并使用入口点来指定原始名称

```
[DllImport("user32.dll")]
public static extern int FindWindow(string lpClassName, string lpWindowName);
[DllImport("user32.dll", EntryPoint="FindWindow")]
public static extern IntPtr FindWindowA(string lpClassName, string lpWindowName); 
```

# android - 如果我在另一个字符串中有数组名称，如何获取 Android 字符串数组

> ID：11685678
> 
> 赞同：4
> 
> 时间：2012-07-27T10:07:11.360
> 
> 标签：android, string, android-resources, arrays

我有一个问题，一个技术问题。我有一个列表视图，当我单击一个项目时，我会在该特定位置获取内容并通过“putExtra”将其发送到下一个活动

在下一个活动中，我正在做的是

```
 String item;
        Bundle extras = getIntent().getExtras(); 
        if (extras != null) {
            item = extras.getString("item");
        } 
```

现在让我们在这里说**item = "Java";**

现在我想要的是 **termsArray = getResources().getStringArray(R.array.Java);**

但我不想要 R.array.Java，我想要像 R.array 这样的东西。**物品**

**XML 中的字符串数组**

```
<string-array name="Java">
<item>A</item>
<item>B</item>
<item>C</item>
</string-array>

<string-array name="C">
<item>A</item>
<item>B</item>
<item>C</item>
</string-array>

<string-array name="php">
<item>A</item>
<item>B</item>
<item>C</item>
</string-array> 
```

我可以使用 IF-else 完成这项任务，但我有很多字符串数组，因此无法使用 IF-else

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-27T10:12:51.990

尝试：

```
 String item;
        Bundle extras = getIntent().getExtras(); 
        if (extras != null) {
            item = extras.getString("item");
            int arryid = this.getResources().getIdentifier(item, "array",
                this.getPackageName()); 
            termsArray  = this.getResources().getStringArray(arryid);
        } 
```

# zend-framework - Zend 框架中找不到类

> ID：11685679
> 
> 赞同：2
> 
> 时间：2012-07-27T10:07:19.753
> 
> 标签：zend-framework

我在本地工作站 (Windows) 上安装了一份全新的 zend 框架 1.11.11。对于我的管理模块，我在 /application/modules/admin/models/Form/Login.php 下创建了“Login.php”表单我还在 Bootstrap.php 中设置了自动加载器

```
protected function _initAutoloader()
    {
        $autoloader = Zend_Loader_Autoloader::getInstance();
        $autoloader->registerNamespace('My_');

        new Zend_Application_Module_Autoloader(array(
            'basePath'  => APPLICATION_PATH,
            'namespace' => 'Default')
        );

        $loader = new Zend_Loader_Autoloader_Resource(array(
            'basePath' => APPLICATION_PATH.'/models/',
            'namespace' => '')
        );

        $loader->addResourceType('forms', 'Form/', 'Form');

        return $autoloader;
    } 
```

在我的管理模块的 IndexController.php 文件的 loginAction() 方法上，我正在使用

```
$form = new Admin_Model_Form_Login(); 
```

但是出现以下错误：-

> 致命错误：在 C:\wamp\www\ztest\application\modules\admin\controllers\IndexController.php 中找不到类 'Admin_Model_Form_Login'

这是Login.php的代码

```
class Admin_Model_Form_Login extends Zend_Form
{
    public function init()
    {
        parent::init();

        $this->setAction('/admin/index/login')->setMethod('post');

        $account = new Zend_Form_Element_Text('account');
        $account->setLabel('Username')->setRequired(true);
        $account->setOrder(1);
        $this->addElement($account);

        $password = new Zend_Form_Element_Password('password');
        $password->setLabel('Password');
        $password->setOrder(2);
        $this->addElement($password);

        $submit = new Zend_Form_Element_Submit('login');
        $submit->setLabel('Login');
        $submit->setOrder(3);
        $this->addElement($submit);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:46:49.283

您是否在模块路径中添加了 Bootstrap.php 文件？

该文件应在 /application/modules/admin/Bootstrap.php 中找到

与此类似：

```
class Admin_Bootstrap extends Zend_Application_Module_Bootstrap
{
     //Can be left blank
} 
```

# vb.net - 在其他字符串 vb.net 之间获取字符串

> ID：11685684
> 
> 赞同：4
> 
> 时间：2012-07-27T10:07:38.707
> 
> 标签：vb.net, string, replace

我有下面的代码。如何在括号内获取字符串？谢谢你。

```
Dim tmpStr() As String
    Dim strSplit() As String
    Dim strReal As String
    Dim i As Integer

    strWord = "hello (string1) there how (string2) are you?"

    strSplit = Split(strWord, "(")
    strReal = strSplit(LBound(strSplit))

    For i = 1 To UBound(strSplit)
        tmpStr = Split(strSplit(i), ")")
        strReal = strReal & tmpStr(UBound(tmpStr))
    Next 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:20:32.477

```
Dim src As String = "hello (string1) there how (string2) are you?"
Dim strs As New List(Of String)

Dim start As Integer = 0
Dim [end] As Integer = 0

While start < src.Length

    start = src.IndexOf("("c, start)
    If start <> -1 Then
        [end] = src.IndexOf(")"c, start)
        If [end] <> -1 Then
            Dim subStr As String = src.Substring(start + 1, [end] - start - 1)
            If Not subStr.StartsWith("(") Then strs.Add(src.Substring(start + 1, [end] - start - 1))
        End If
    Else
        Exit While
    End If

    start += 1 ' Increment start to skip to next (

End While 
```

这应该这样做。

```
Dim result = Regex.Matches(src, "\(([^()]*)\)").Cast(Of Match)().Select(Function(x) x.Groups(1)) 
```

也会工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T10:32:13.983

这就是[正则表达式](http://msdn.microsoft.com/en-us/library/c75he57e)的用途。学习他们，爱他们：

```
' Imports System.Text.RegularExpressions
Dim matches = Regex.Matches(input, "\(([^)]*)\)").Cast(of Match)()
Dim result = matches.Select(Function (x) x.Groups(1)) 
```

**两行代码而不是十多行。**

用 Stephan Lavavej 的话来说：“即使是复杂的正则表达式也比等效的代码更容易理解和修改。”</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:27:40.947

1.  使用[String.IndexOf](http://msdn.microsoft.com/en-us/library/k8b1470s.aspx)获取第一个左括号 ( *x* ) 的位置。

2.  再次使用 IndexOf 获取第一个右括号（*y*）的位置。

3.  使用[String.Substring](http://msdn.microsoft.com/en-us/library/system.string.substring%28v=vs.100%29.aspx)根据*x*和*y*的位置获取文本。

4.  删除字符串的开头直到*y* +1。

5.  根据需要循环

那应该让你继续前进。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:26:46.663

这也可能有效：

```
Dim myString As String = "Hello (FooBar) World"
Dim finalString As String = myString.Substring(myString.IndexOf("("), (myString.LastIndexOf(")") - myString.IndexOf("(")) + 1) 
```

还有2行。

# firefox - ff 中的 offsetWidth 与实际元素宽度不同

> ID：11685685
> 
> 赞同：2
> 
> 时间：2012-07-27T10:07:44.030
> 
> 标签：firefox, offsetwidth

不知何故，我在 Firefox 和 Chrome 中得到了不同的 offsetWidth 结果。我有一个简单的按钮

```
<button class="someClass">Dropdown<i class="iconRight iconArrowDown"></i></button> 
```

其中 offsetWidth 正好是 89 像素。Chrome 是这样说的，Photoshop 也是如此。即使在 Firefox 中，它也显示为 89 像素元素，但 Firebugs`offsetWidth`说它有 90 像素。jQuery 在 Firefox 中为`outerWidth()`. 因为我使用宽度来计算它需要完全正确。

*   可悲的是我还不允许发布图片

图片1![http://i.stack.imgur.com/2YMNt.png](../Images/4b6320f47fbee97d51b7a1fef8cd6002.png)

图2
![http://i.stack.imgur.com/HiH9o.png](../Images/ac41424f4ab8c67f81f58e09fb2c8ecc.png)

为什么`offsetWidth`Firefox中的属性错误？

从评论编辑：

我正在使用自定义字体。禁用字体可以解决问题。然而，在 FF+Linux、FF+Win7 和 Chrome+Win7 上使用自定义字体进行测试 - Windows 7 上的 Firefox 是唯一显示宽度与计算出的 offsetWidth 不同的浏览器。即使 - 由于字体渲染 - Linux 上的按钮有 91 个像素，但计算中没有问题，因为显示的宽度是相同的。现在我可能只需要忍受它

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T17:50:36.997

实际宽度可能是 89 到 90 之间的非整数像素数。计算 offsetWidth 时，实际宽度四舍五入到最接近的整数。绘画时，您所看到的将取决于所使用的确切抗锯齿算法等等。

如果您只想要对象的实际值，请使用 getBoundingClientRect().width，它不会做愚蠢的“舍入到整数”的事情。

# asp.net - 从 AD 撤销声明/令牌，通过 ADFS 到 RP

> ID：11685695
> 
> 赞同：0
> 
> 时间：2012-07-27T10:08:21.170
> 
> 标签：asp.net, wif, adfs, claims

我们有一个网站，我们的用户通过从 ADFS 获取 STS 来访问该网站。ADFS 通过检查用户在 Active Directory 中的组成员身份来发出声明。该网站使用 WIF 访问声明和处理身份验证。

有没有办法，当用户的 AD 数据更改（例如，他们删除了所有组成员身份）时，在他们对 RP 的声明中立即反映这些更改（相同的会话，至少来自用户的 PoV）？目前，如果我们撤销 AD 中的成员资格，则该用户对 RP 的声明（在其当前会话中）不受影响。他们拥有与撤销之前相同的声明和访问权限，直到用户的 ADFS 会话过期（可能需要数小时）。

> 例如，用户 U1 通过 ADFS 登录到我们的网站 W1，浏览了一下，然后在 AD 中取消了他的会员资格。我们需要 U1 在很短的时间段（分钟）内自动退出 W1。如果未注销，也可以将其在 WIF 中的声明集重置以反映其现在为空的 AD 组成员身份。

这可能吗？我能找到的所有文档似乎都假设网站本身（W1）知道用户何时应该终止他们的会话——在我们的例子中，W1 不知道，会话到期的“触发器”（或至少索赔修正）将来自公元。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-29T18:55:22.470

开箱即用 - 不。

声明不是动态的 - 它们仅在登录时创建。

我能想到的唯一方法是为您的应用程序。不时轮询 AD，如果成员资格被删除，则“在后台”执行应用程序注销。

下次用户尝试做某事时，WIF 会看到他们没有会话，会去 ADFS 登录，ADFS 会看到他们仍然登录并自动授予访问权限，即整个过程将是透明的。

由于再次登录使用，索赔将被更新，会员资格将不再是索赔。

# ruby - 如何将 ruby flickr gem“Flickraw”导入 Eclipse？

> ID：11685699
> 
> 赞同：1
> 
> 时间：2012-07-27T10:08:46.760
> 
> 标签：ruby, eclipse, flickr

我对 Ruby 完全陌生，但我想将它用于我想到的一个小型应用程序。

但我一开始就在挣扎：如何使用库“flickraw”来访问 eclipse 中的 flickr api？

我已经设法将 ruby​​ 更新到 1.9.3，但在 eclipse 中我发现只有一个较旧的解释器（1.8）。

*   有人可以告诉我如何在安装 ruby​​ 1.9.3 的地方显示 eclipse 吗？

除此之外，我如何在 Eclipse 中使用这个 flickraw 库？我只知道如何为 java 项目导入 jar，但不知道如何为 ruby​​ 项目导入 :(

*   有人可以告诉我如何将外部 ruby​​ 库导入 Eclipse 吗？

机器：Mac OS X Mountain Lion，IDE：Eclipse Juno，flickraw 库：[http ://hanklords.github.com/flickraw/](http://hanklords.github.com/flickraw/)

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-12T01:26:20.280

您可能已经回答了您的问题（6 个月前），但我回答这个问题是为了帮助未来几代 Eclipse Rubyists 遇到您的问题。

我假设您使用的是 Eclipse RDT（Ruby 开发工具）。我在 Windows 上使用 Eclipse Juno (4.2.1)，但是对于类似版本的 Eclipse，菜单项在任何操作系统上都应该是相同的。

要更改或设置 Eclipse Ruby 解释器：

1.  转到“Windows”>“首选项”
2.  单击“首选项”窗口左侧窗格中的“Ruby”条目
3.  单击“解释器”子条目（也在左侧窗格中）
4.  点击“添加”按钮
5.  单击解释器可执行文件文本框旁的“浏览”
6.  现在找到你的 Ruby 可执行文件——我在 Win7 上使用 RailsInstaller，所以我的在 C:\RailsInstaller\Ruby1.9.3\bin
7.  如果您找到了一个好的可执行文件，Eclipse 应该自己找出其余的解释器信息

将 Ruby 库导入 Eclipse 项目：我不确定。这就是让我看到你的帖子的原因。我想我需要手动导入我所有的宝石。但是当我使用 gem 安装程序（“./gem install targetgem”）并重新启动 Eclipse 时，Eclipse 神奇地意识到了这些 gem。（我不确定是什么黑魔法让 Eclipse 能够做到这一点。）

希望这对未来的 Rubyites 有所帮助。

# c# - asp.net 全选/无复选框

> ID：11685700
> 
> 赞同：3
> 
> 时间：2012-07-27T10:08:47.583
> 
> 标签：c#, jquery, asp.net, checkbox

> **可能重复：**
> [Javascript 或 Jquery 选中和取消选中所有复选框](https://stackoverflow.com/questions/8730471/javascript-or-jquery-to-check-and-uncheck-all-checkbox)

我在一个页面上有 12 个 asp:checkboxes，我想添加一个选择/取消选择所有这些复选框。最好的方法是什么？

我见过人们使用 jquery，但我对 JS 不是很熟悉。是否有一个通用的 jquery 函数可以使用？

```
<head>...
   <script src="Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
...</head>

<body>...
    <script type="text/javascript">
        function Selectall() {
            if ($('.JchkAll').is(':checked')) {
                // .JchkGrid cssClass will be assigned to all other checkboxes in your control 
                $('.JchkGrid').attr('checked', 'true');
            }
            else {
                $('.JchkGrid').removeAttr('checked', 'false');
            }
        } 
    </script>
<form>...
<asp:CheckBox runat="server" ID="cbSelectAll" Text="Select/Deselect All" CssClass="JchkAll" onchange="Selectall();"/>
        <asp:CheckBox runat="server" ID="cbName" Text="Name" class="JchkGrid"/>
        <asp:CheckBox runat="server" ID="cbModel" Text="Model" CssClass="JchkGrid"/>
...</form>
...</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:13:13.517

给你的 chckbox 一个 CSS 类并尝试这种方式

`// .JchkAll is cssclass of your checkbox on which's click you need to check all Checkboxes`

```
function Selectall() {
  if ($('.JchkAll').is(':checked')) {
   // .JchkGrid cssClass will be assigned to all other checkboxes in your control
    $('.JchkGrid').attr('checked', 'true');
  }
  else {
    $('.JchkGrid').removeAttr('checked', 'false');
  }
} 
```

**编辑：**

另外不要忘记在复选框的 onchange 属性上添加它..

```
<asp:CheckBox runat="server" onchange="Selectall();" ID="cbSelectAll" 
     Text="Select/Deselect All" CssClass="JchkAll"/> 
```

但这会给你一个编译器警告......如果你在 Page_Load 事件后面的代码中添加它会更好

```
 cbSelectAll.Attributes.Add("onchange","Selectall"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:12:56.973

首先，您找到所有复选框，然后更改它们。这是您通过 javascript 在客户端完成的。例如，这是一个函数，如果你调用它，它会检查页面上的所有复选框。

```
function SwapCheck()
{   
    // find them
    var allChecks = jQuery('input[type=checkbox]');

    allChecks.each( function() {
        jQuery(this).prop("checked", !this.checked);
        // use this for jQuery ver 1.6 and before
        // jQuery(this).attr("checked", !this.checked);
    });     
} 
```

如果您想消除某些复选框，请使用 span 或 div 扭曲它们并使用

```
jQuery('#DivIDWithChecksToSelect input[type=checkbox]'); 
```

如果您想检查所有内容，可以使用此代码

```
jQuery(this).attr("checked", "checked"); 
```

您也可以使用`jQuery(this).prop("checked", false);`取消选中它们。

相对：
[使用 jQuery 为复选框设置“选中”？](https://stackoverflow.com/questions/426258/how-do-i-check-a-checkbox-with-jquery-or-javascript)
[检查 GridView 中的所有复选框](https://stackoverflow.com/questions/9886056/check-all-checkboxes-in-gridview)

关于`.attr()`和`.prop()`阅读这里：[http ://api.jquery.com/prop/](http://api.jquery.com/prop/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:19:46.080

为您的复选框提供一个 CssClass 名称（在我的示例中为 chk_group），并为您的复选框提供另一个 CssClass 名称（在我的示例中为 chk_select_all）

那么你可以试试这个jQuery代码

```
​$(document).ready(function(){
    $(".chk_select_all input[type=checkbox]").click(function(){
       $(".chk_group input[type=checkbox]").attr('checked', this.checked); 
    });
 });​ 
```

在这里检查一个工作版本：http: [//jsfiddle.net/a2XeK/](http://jsfiddle.net/a2XeK/)

在 ASP.NET WebForms 中，您必须使用选择器 .chk_select_all input[type=checkbox] 因为渲染引擎将创建一个带有 css 的样式，并且在 span 内会有实际的复选框。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:15:00.083

多种方法来做到这一点。看看哪个最适合你。使用 JavaScript

```
function toggleCheckboxes(flag) {    
    var form = document.getElementById('groupImportForm');
    var inputs = form.elements;
    if(!inputs){
        //console.log("no inputs found");
        return;
    }
    if(!inputs.length){
        //console.log("only one elements, forcing into an array");
        inputs = new Array(inputs);        
    }

    for (var i = 0; i < inputs.length; i++) {  
      //console.log("checking input");
      if (inputs[i].type == "checkbox") {  
        inputs[i].checked = flag;
      }  
    }  
} 
```

希望这可以帮助。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-07-27T10:12:17.683

如果需要，您可以在代码隐藏中执行此操作。在主复选框的 OnCheckedChanged 事件中，将复选框的所有 Checked 变量设置为 true。

# c++ - C++ 通过 long long 指针对 double 进行按位操作会中断输出

> ID：11685702
> 
> 赞同：0
> 
> 时间：2012-07-27T10:08:57.280
> 
> 标签：c++, double, bit-manipulation

是的，我知道，对双精度值进行按位运算似乎是个坏主意，但我确实需要它。

你不需要阅读我的问题的下一段，只是为了你们的好奇：

我实际上尝试了 Mozilla Tamarin（Actionscript 虚拟机）的特殊模块。在其中，任何对象都为其类型保留前 3 位（例如，双精度为 7）。这些位降低了原始数据类型（仅 29 位等）的精度。对于我的模组，我需要将此区域扩大 2 位。这意味着，例如，当您添加 2 个双精度时，您需要将最后 5 位设置为零，进行数学运算，然后将它们重置为结果。这么多为什么^^

现在回到代码。这是一个最小的例子，它显示了一个非常相似的问题：

```
double *d = new double; 
*d = 15.25; 
printf("float: %f\n", *d);

//forced hex output of double
printf("forced bitwise of double: ");
unsigned char * c = (unsigned char *) d;
int i;
for (i = sizeof (double)-1; i >=0 ; i--) {
     printf ("%02X ", c[i]);
}
printf ("\n");

//cast to long long-pointer, so that bitops become possible
long long * l = (long long*)d;
//now the bitops: 
printf("IntHex: %016X, float: %f\n", *l, *(double*)l); //this output is wrong!
*l = *l | 0x07; 
printf("last 3 bits set to 1: %016X, float: %f\n", *l, *d);//this output is wrong!
*l = *l | 0x18; 
printf("2 bits more set to 1: %016X, float: %f\n", *l, *d);//this output is wrong! 
```

在 VisualStudio2008 中运行时，第一个输出是正确的。第二个。3rd 对十六进制和浮点表示都产生 0，这显然是错误的。十六进制和浮点数的第 4 和第 5 也为零，但修改后的位显示在十六进制值中。所以我想，也许类型转换在这里搞砸了。所以还有2个输出：

```
printf("float2: %f\n", *(double*)(long long*)d); //almost right
printf("float3: %f\n", *d); //almost right 
```

好吧，他们显示 15.25，但它应该是 15.2500000000000550670620214078。所以我想，嘿，这只是输出中的精度问题。让我们进一步修改一下：

```
*l = *l |= 0x10000000000;
printf("float4: %f\n", *d); 
```

同样，输出是 15.25(0000)，而不是 15.2519531250000550670620214078。奇怪的是，另一个强制的十六进制输出（见上面的代码）根本没有修改 d 。所以我修改了一下，并意识到第 31 位（0x80000000）是我可以手动设置的最后一个。和神圣的钼，它实际上对输出有影响（15.250004）！

所以，虽然我有点迷路，但还是有很多困惑。printf 坏了吗？我在这里有大/小端混乱吗？我是否不小心创建了某种缓冲区溢出？

如果有人有兴趣，在原来的问题（狨猴的事情，见上文）它几乎是相反的。在那里，最后三位已经设置（代表双精度）。将它们设置为零可以正常工作（这是原始实现）。将 2 更多设置为零具有与上述相同的效果（整体值被降至零）。顺便说一句，这不是特定于输出的，而且数学运算似乎也适用于那些底值（这样获得的 2 个值的 mul 会导致 0）。

任何帮助，将不胜感激。问候。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:46:18.737

> 好吧，他们显示 15.25，但应该是 15.2500000000000550670620214078

默认情况下，`%f`显示 6 位精度，因此您不会看到差异。您还需要使用修饰符指定第一个参数是`long long`而不是; 否则，它可能会打印垃圾。如果您修复该问题并使用更高的精度，例如，您应该会看到预期的结果：`int``ll``%.30f`

```
printf("last 3 bits set to 1: %016llX, float: %.30f\n", *l, *d);
printf("2 bits more set to 1: %016llX, float: %.30f\n", *l, *d);

last 3 bits set to 1: 0000000000000007, float: 15.250000000000012434497875801753
2 bits more set to 1: 000000000000001F, float: 15.250000000000055067062021407764 
```

> 让我们进一步修改一下：

```
*l = *l |= 0x10000000000;
printf("float4: %f\n", *d); 
```

您有一个流氓`=`提供未定义的行为，因此该值可能会或可能不会最终被修改（并且程序可能会或可能不会崩溃，打电话去吃披萨或破坏宇宙）。此外，如果您的编译器不符合 C++11，则整数文字的类型可能不大于`long`，它可能只有 32 位；在这种情况下，它将（可能）变为零。

修复这些（在我的情况下，使用你的代码），我得到了预期的结果：

```
*l = *l | 0x10000000000LL;  // just one assignment, and "LL" to force "long long"
printf("float4: %f\n", *d);

float4: 15.251953 
```

[这](http://ideone.com/1MgiQ)是一个演示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:35:45.107

你在printf的参数有错误。如果你传递一个 8 字节的值，你必须使用 %llx 而不是 %x。

采用

```
printf("last 3 bits set to 1: %llX, float: %f\n", *l, *d);
*l = *l | 0x18; 
printf("2 bits more set to 1: %llX, float: %f\n", *l, *d); 
```

你的代码会起作用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:46:08.473

在 32 位上，常数不能大于 long（32 位），所以你不能这样做：

`*l |= 0x10000000000;`

您必须创建一个变量然后对其进行移位。

```
long long ll = 1;
ll <= 32;
*l |= ll; 
```

# c++ - 宏什么时候可以让代码比函数更漂亮？

> ID：11685706
> 
> 赞同：1
> 
> 时间：2012-07-27T10:09:25.337
> 
> 标签：c++, c, macros

确切地说，宏对于编程语言来说不是必需的。例如，Java 在没有宏的情况下工作得很好。通常宏使代码更清晰、更短，同时也更危险。

那么，使用宏的最佳方法是什么？让我们用代码说话。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:22:34.097

使用宏，您可以为这样的问题编写一个漂亮的解决方案：

*   定义一个枚举，以便它的值可以转换为它的字符串表示形式，反之亦然。

假设您要定义一个名为的枚举，`period`其成员为`one`、`five`、和。那么这里是你如何做到的：`ten``fifteen``thirty`

*   首先创建一个名为的头文件`period_items.h`：

    ```
    //period_items.h

    //Here goes the items of the enum
    //it is not a definition in itself!
    E(one)
    E(five)
    E(ten)
    E(fifteen)
    E(thirty) 
    ```

*   然后创建另一个名为`period.h`的头文件：

    ```
    //period.h
    #include <string>

    //HERE goes the enum definition!
    enum period 
    {
       #define E(item)  item,
         #include "period_items.h" //it dumps the enum items in here!
       #undef E
       period_end
    };

    period to_period(std::string const & name)
    {
       #define E(item)  if(name == #item) return item;
         #include "period_items.h"
       #undef E
       return period_end;
    } 
    ```

现在您可以简单地包含`period.h`和使用`to_period`函数。:-)

您还可以将此功能添加到`period.h`：

```
std::string to_string(period value)
{
    #define E(item)  if(value == item) return #item;
        #include "period_items.h"
    #undef E
    return "<error>";
} 
```

现在，你可以这样写：

```
#include "period.h"

period v = to_period("fifteen"); //string to period
std::string s = to_string(v);  //period to string 
```

**为什么这个解决方案很漂亮？**

因为现在如果您想向枚举添加更多成员，您所要做的就是将它们添加`period_items.h`为：

```
 //period_items.h

    //Here goes the items of the enum
    //it is not a definition in itself!
    E(one)
    E(five)
    E(ten)
    E(fifteen)
    E(thirty)
    E(fifty)       //added item!
    E(hundred)     //added item!
    E(thousand)    //added item! 
```

你完成了。`to_string`并且`to_period`可以正常工作，无需任何修改！

--

我将此解决方案从我的解决方案中提取到另一个问题，发布在这里：

*   [从枚举转换为 int](https://stackoverflow.com/a/10887421/415784)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T10:10:57.817

我认为最好的方法是使用`inline`

您可以获得宏的所有好处 + 所有编译时检查

宏在 C++ 中的主要用途是用于控制编译。就像是：

```
#ifdef DEBUG:
    //print some debug information
#endif 
```

或者

```
#ifdef OS_WINDOWS
    //windows specific code
# 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:15:16.520

在我个人看来，一个好的宏是非常罕见的。我尽量避免它们，因为它们中的大多数更像是一颗定时炸弹。

要做好，宏必须：

*   简单点。
*   永远不要模棱两可
*   永远不要破坏代码结构（我见过像这样的宏`#define MACRO } someCode {`，这很糟糕）
*   基本上，不能抛出异常或类似的东西，它决不能使调试更难
*   有一个清楚地解释含义的名字
*   必须有一个**非常**好的理由使用宏而不是内联函数，例如编译控制或标头保护。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T10:32:07.010

我只在没有其他方法的地方使用宏。

一个例子是从错误值到字符串的简单映射，例如，而不是

```
switch(code) {
    case ERR_OK: return "ERR_OK";
    case ERR_FOO: return "ERR_FOO";
    : 
```

我使用一个简单的宏，比如

```
#define CASE_STR(x) case x: return #x 
```

所以我可以将其简化为

```
switch(code) {
    CASE_STR(ERR_OK);
    CASE_STR(ERR_FOO);
    : 
```

但是，这些情况通常更适合调试。

此外，我使用 boost 预处理器套件编写了一个 GLSL（OpenGL 着色语言）循环展开一次，然后可以使用类似

```
const char *shader = "#version 120\n"
"..."
GLSL_UNROLL_FOR("int i",0,10,\
    "foo += i\n" \
)
"..."; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T10:32:50.763

这是一个示例（易于维护）。

```
enum id {
#define ITEM(id, s) id,
# include "foo.itm"
#undef ITEM
    nbItem
};

static char const *const s[] = {
#define ITEM(id, s) s,
# include "foo.itm
#undef ITEM
} 
```

# android - 监控闭源应用程序之间的 Android 事件

> ID：11685707
> 
> 赞同：1
> 
> 时间：2012-07-27T10:09:27.677
> 
> 标签：android, android-intent, reverse-engineering

我正在尝试对制造商提供的应用程序进行逆向工程，该应用程序似乎正在与 Android 服务进行通信以实现其操作。

是否有任何实用程序可用于窃听两个闭源 Android 应用程序之间的 IPC？ltrace/strace 的任何更高级别的等价物？

# java - Android 应用程序抛出 FATAL EXCEPTION：设置按钮状态时的后台线程？

> ID：11685708
> 
> 赞同：0
> 
> 时间：2012-07-27T10:09:27.503
> 
> 标签：java, android

请找我。我几乎让它工作了，现在我很头疼！

日志猫：

```
07-27 11:05:14.565: I/LicenseChecker(24356): Binding to licensing service.
07-27 11:05:14.575: I/LicenseChecker(24356): Calling checkLicense on service for com.liamwli.smsbusy
07-27 11:05:14.580: I/LicenseChecker(24356): Start monitoring timeout.
07-27 11:05:14.650: D/libEGL(24356): loaded /system/lib/egl/libEGL_mali.so
07-27 11:05:14.655: D/libEGL(24356): loaded /system/lib/egl/libGLESv1_CM_mali.so
07-27 11:05:14.655: D/libEGL(24356): loaded /system/lib/egl/libGLESv2_mali.so
07-27 11:05:14.660: D/(24356): Device driver API match
07-27 11:05:14.660: D/(24356): Device driver API version: 10
07-27 11:05:14.660: D/(24356): User space API version: 10 
07-27 11:05:14.660: D/(24356): mali: REVISION=Linux-r2p4-02rel0 BUILD_DATE=Mon Mar  5 09:47:55 KST 2012 
07-27 11:05:14.675: D/OpenGLRenderer(24356): Enabling debug mode 0
07-27 11:05:15.180: I/LicenseChecker(24356): Received response.
07-27 11:05:15.180: I/LicenseChecker(24356): Clearing timeout.
07-27 11:05:15.210: W/dalvikvm(24356): threadid=11: thread exiting with uncaught exception (group=0x40a3c1f8)
07-27 11:05:15.220: E/AndroidRuntime(24356): FATAL EXCEPTION: background thread
07-27 11:05:15.220: E/AndroidRuntime(24356): android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:4039)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.ViewRootImpl.invalidateChild(ViewRootImpl.java:722)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:771)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.ViewGroup.invalidateChild(ViewGroup.java:4005)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.View.invalidate(View.java:8515)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.widget.TextView.invalidateDrawable(TextView.java:4634)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.DrawableContainer.invalidateDrawable(DrawableContainer.java:241)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.Drawable.invalidateSelf(Drawable.java:350)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.Drawable.setVisible(Drawable.java:548)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.DrawableContainer.selectDrawable(DrawableContainer.java:298)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.StateListDrawable.onStateChange(StateListDrawable.java:106)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.graphics.drawable.Drawable.setState(Drawable.java:464)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.View.drawableStateChanged(View.java:11515)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.widget.TextView.drawableStateChanged(TextView.java:2856)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.View.refreshDrawableState(View.java:11529)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.view.View.setEnabled(View.java:4648)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.widget.TextView.setEnabled(TextView.java:1205)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at com.liamwli.smsbusy.Sms_busyActivity$MyLicenseCheckerCallback.allow(Sms_busyActivity.java:74)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at com.google.android.vending.licensing.LicenseValidator.handleResponse(LicenseValidator.java:211)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at com.google.android.vending.licensing.LicenseValidator.verify(LicenseValidator.java:166)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at com.google.android.vending.licensing.LicenseChecker$ResultListener$2.run(LicenseChecker.java:228)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.os.Handler.handleCallback(Handler.java:605)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.os.Handler.dispatchMessage(Handler.java:92)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.os.Looper.loop(Looper.java:137)
07-27 11:05:15.220: E/AndroidRuntime(24356):    at android.os.HandlerThread.run(HandlerThread.java:60)
07-27 11:05:15.320: D/OpenGLRenderer(24356): Flushing caches (mode 0)
07-27 11:05:15.505: D/OpenGLRenderer(24356): Flushing caches (mode 1)
07-27 11:05:15.515: E/ActivityThread(24356): Activity com.liamwli.smsbusy.Sms_busyActivity has leaked ServiceConnection com.google.android.vending.licensing.LicenseChecker@40e88bf0 that was originally bound here
07-27 11:05:15.515: E/ActivityThread(24356): android.app.ServiceConnectionLeaked: Activity com.liamwli.smsbusy.Sms_busyActivity has leaked ServiceConnection com.google.android.vending.licensing.LicenseChecker@40e88bf0 that was originally bound here
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:936)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:830)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ContextImpl.bindService(ContextImpl.java:1149)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.content.ContextWrapper.bindService(ContextWrapper.java:370)
07-27 11:05:15.515: E/ActivityThread(24356):    at com.google.android.vending.licensing.LicenseChecker.checkAccess(LicenseChecker.java:150)
07-27 11:05:15.515: E/ActivityThread(24356):    at com.liamwli.smsbusy.Sms_busyActivity.doCheck(Sms_busyActivity.java:61)
07-27 11:05:15.515: E/ActivityThread(24356):    at com.liamwli.smsbusy.Sms_busyActivity.onCreate(Sms_busyActivity.java:55)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.Activity.performCreate(Activity.java:4465)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2033)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2104)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ActivityThread.access$600(ActivityThread.java:132)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1157)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.os.Handler.dispatchMessage(Handler.java:99)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.os.Looper.loop(Looper.java:137)
07-27 11:05:15.515: E/ActivityThread(24356):    at android.app.ActivityThread.main(ActivityThread.java:4575)
07-27 11:05:15.515: E/ActivityThread(24356):    at java.lang.reflect.Method.invokeNative(Native Method)
07-27 11:05:15.515: E/ActivityThread(24356):    at java.lang.reflect.Method.invoke(Method.java:511)
07-27 11:05:15.515: E/ActivityThread(24356):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)
07-27 11:05:15.515: E/ActivityThread(24356):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:556)
07-27 11:05:15.515: E/ActivityThread(24356):    at dalvik.system.NativeStart.main(Native Method)
07-27 11:05:17.960: I/Process(24356): Sending signal. PID: 24356 SIG: 9 
```

第 74 行：

```
allowa.setEnabled(true); 
```

其余的课程：

```
package com.liamwli.smsbusy;

import com.google.android.vending.licensing.LicenseChecker;
import com.google.android.vending.licensing.LicenseCheckerCallback;
import com.google.android.vending.licensing.Policy;
import com.google.android.vending.licensing.StrictPolicy;

import android.app.Activity;
import android.os.Bundle;
import android.os.Handler;
import android.provider.Settings.Secure;
import android.util.Log;
import android.view.KeyEvent;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.Button;
import android.content.Intent;

public class Sms_busyActivity extends Activity {

    private LicenseCheckerCallback mLicenseCheckerCallback;
    private LicenseChecker mChecker;
    private Handler mHandler;
    Button allowa;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        String android_id = Secure.getString(getBaseContext()
                .getContentResolver(), Secure.ANDROID_ID);

        // if (!android_id.contentEquals("56d330123953677d")) {
        // Log.e("SMS Busy App", "Device ID not allowed. Exiting.");
        // finish();
        // } else {

        // Log.d("SMS Busy App", "Device ID Allowed");
        // }

        // Intent i = new Intent("com.liamwli.smsbusy.PREFS");
        // startActivity(i);

        setContentView(R.layout.def);

        String KEY = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";

        mChecker = new LicenseChecker(this, new StrictPolicy(), KEY);

        mLicenseCheckerCallback = new MyLicenseCheckerCallback();

        mHandler = new Handler();

        allowa = (Button) findViewById(R.id.button1);

        doCheck();

    }

    public void doCheck() {

        mChecker.checkAccess(mLicenseCheckerCallback);
    }

    class MyLicenseCheckerCallback implements LicenseCheckerCallback {
        public void allow(int reason) {
            if (isFinishing()) {
                // Don't update UI if Activity is finishing.
                return;
            }
            // Should allow user access.

            allowa.setEnabled(true);
            allowa.setText("App Licensed. Click to continue");

        }

        public void dontAllow(int reason) {
            if (isFinishing()) {
                // Don't update UI if Activity is finishing.
                return;
            }

            if (reason == Policy.RETRY) {
                // If the reason received from the policy is RETRY, it was
                // probably
                // due to a loss of connection with the service, so we should
                // give the
                // user a chance to retry. So show a dialog to retry.
                allowa.setText("Retry");

            } else {
                // Otherwise, the user is not licensed to use this app.
                // Your response should always inform the user that the
                // application
                // is not licensed, but your behavior at that point can vary.
                // You might
                // provide the user a limited access version of your app or you
                // can
                // take them to Google Play to purchase the app.
                allowa.setText("INVALID");

            }
        }

        @Override
        public void applicationError(int errorCode) {
            // TODO Auto-generated method stub

        }
    }

} 
```

现在，我知道这可能是一个非常简单的错误，这让我看起来很愚蠢，但请帮助：/

附言

有人能告诉我是什么导致了第二组错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:13:22.777

**1.**当一个**应用程序在 Android 上启动时，它在 Dedicated UI thread 上**，创建**任何其他线程都会让你离开这个 UI 线程。**

**2.**最好让**UI工作在UI线程上，Non-UI工作在Non-UI线程上，但自从HoneyComb版本的Android到来后，这成为了一种规律。**

**3.**此错误表示您正在**从非 UI 线程修改 UI。**

**4.**使用`thread with Handler`, 或`AsyncTask`Android 中专门引入的同步 UI 和 Non-UI 线程。

**///////////已编辑///////////**

**请参阅本教程链接...这将消除您的疑问..**

[http://www.vogella.com/articles/AndroidPerformance/article.html](http://www.vogella.com/articles/AndroidPerformance/article.html)

# android - 三星蓝牙 RfComm 连接失败

> ID：11685709
> 
> 赞同：0
> 
> 时间：2012-07-27T10:09:32.097
> 
> 标签：android, bluetooth

我有带有 HeadSet、A2DP 和 rfcomm 配置文件的设备。当我通过三星（我有三星 Nexus S）上的 RfComm（手机和设备已经连接）连接到设备时，标准连接（A2DP，RFCOMM）会发生故障（断开连接）。

```
socked.connect(); 
```

它不会出现在 HTC 上。

也许有人有这个错误或知道解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:43:14.150

您是否尝试过使用反射的解决方法？

```
int portnumber = //what ever port you are connecting to
Method m = device.getClass().getMethod("createInsecureRfcommSocket", new Class[] {int.class});
tmp = (BluetoothSocket) m.invoke(device, portnumber); 
```

# javascript - ScrollintoView 不工作 Javascript

> ID：11685714
> 
> 赞同：2
> 
> 时间：2012-07-27T10:09:45.323
> 
> 标签：javascript, css

我正在使用这个：

```
var divID=this.id;
document.getElementById(divID).scrollIntoView();
highlightFor(divID,"#F3F781",2) 
```

它工作得很好。但是现在我在另一个 div 中有事件处理程序（div），它在 x 轴上溢出滚动条。所以现在当我点击应该触发上面的 JavaScript 的 div 时，溢出滚动条只是向下滚动一点。

我已经发出警报以检查身份，这很好。这会在点击时触发，但是 的功能`scrollIntoView();`不起作用。当我提醒整条线时，它会显示为“未定义”？

这里有什么帮助吗？

谢谢;

结构体：

触发该函数的所有 div 都包含在一个 div 中 - 称之为 Summary Div。当有很多结果时，摘要 div 有一个溢出-y 滚动条。此摘要 div 附加到包装器 Div，它还包含标题 DIv。当我单击触发该功能的 div 时，页面应向下滚动到具有相同 id 的结果的 div 并为其设置动画。然而，这种情况并非如此。y-overflow 滚动条只是向下滚动一点

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T11:40:29.610

抱歉，DOM 元素中有一个简单的错误。我两次分配了一个 ID

# python - 如何从 PDB 文件中提取链？

> ID：11685716
> 
> 赞同：3
> 
> 时间：2012-07-27T10:09:49.490
> 
> 标签：python, bash, bioinformatics, biopython

我想从 pdb 文件中提取链。我有一个名为 pdb.txt 的文件，其中包含 pdb ID，如下所示。前四个字符代表 PDB ID，最后一个字符是链 ID。

```
1B68A 
1BZ4B
4FUTA 
```

我想 1）逐行读取文件 2）从相应的 PDB 文件中下载每个链的原子坐标。
3）将输出保存到文件夹。

我使用以下脚本来提取链。但是此代码仅打印来自 pdb 文件的 A 链。

```
for i in 1B68 1BZ4 4FUT
do 
wget -c "http://www.pdb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId="$i -O $i.pdb
grep  ATOM $i.pdb | grep 'A' > $i\_A.pdb
done 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-27T11:05:36.683

以下 BioPython 代码应该可以很好地满足您的需求。

它`PDB.Select`仅用于选择所需的链（在您的情况下为一个链）并`PDBIO()`创建仅包含该链的结构。

```
import os
from Bio import PDB

class ChainSplitter:
    def __init__(self, out_dir=None):
        """ Create parsing and writing objects, specify output directory. """
        self.parser = PDB.PDBParser()
        self.writer = PDB.PDBIO()
        if out_dir is None:
            out_dir = os.path.join(os.getcwd(), "chain_PDBs")
        self.out_dir = out_dir

    def make_pdb(self, pdb_path, chain_letters, overwrite=False, struct=None):
        """ Create a new PDB file containing only the specified chains.

        Returns the path to the created file.

        :param pdb_path: full path to the crystal structure
        :param chain_letters: iterable of chain characters (case insensitive)
        :param overwrite: write over the output file if it exists
        """
        chain_letters = [chain.upper() for chain in chain_letters]

        # Input/output files
        (pdb_dir, pdb_fn) = os.path.split(pdb_path)
        pdb_id = pdb_fn[3:7]
        out_name = "pdb%s_%s.ent" % (pdb_id, "".join(chain_letters))
        out_path = os.path.join(self.out_dir, out_name)
        print "OUT PATH:",out_path
        plural = "s" if (len(chain_letters) > 1) else ""  # for printing

        # Skip PDB generation if the file already exists
        if (not overwrite) and (os.path.isfile(out_path)):
            print("Chain%s %s of '%s' already extracted to '%s'." %
                    (plural, ", ".join(chain_letters), pdb_id, out_name))
            return out_path

        print("Extracting chain%s %s from %s..." % (plural,
                ", ".join(chain_letters), pdb_fn))

        # Get structure, write new file with only given chains
        if struct is None:
            struct = self.parser.get_structure(pdb_id, pdb_path)
        self.writer.set_structure(struct)
        self.writer.save(out_path, select=SelectChains(chain_letters))

        return out_path

class SelectChains(PDB.Select):
    """ Only accept the specified chains when saving. """
    def __init__(self, chain_letters):
        self.chain_letters = chain_letters

    def accept_chain(self, chain):
        return (chain.get_id() in self.chain_letters)

if __name__ == "__main__":
    """ Parses PDB id's desired chains, and creates new PDB structures. """
    import sys
    if not len(sys.argv) == 2:
        print "Usage: $ python %s 'pdb.txt'" % __file__
        sys.exit()

    pdb_textfn = sys.argv[1]

    pdbList = PDB.PDBList()
    splitter = ChainSplitter("/home/steve/chain_pdbs")  # Change me.

    with open(pdb_textfn) as pdb_textfile:
        for line in pdb_textfile:
            pdb_id = line[:4].lower()
            chain = line[4]
            pdb_fn = pdbList.retrieve_pdb_file(pdb_id)
            splitter.make_pdb(pdb_fn, chain) 
```

* * *

最后一点：**不要**为 PDB 文件编写自己的解析器。格式规范很丑（*真的很丑*），而且有缺陷的 PDB 文件数量惊人。使用像 BioPython 这样的工具来为您处理解析！

此外，`wget`您应该使用与 PDB 数据库交互的工具，而不是使用 。他们将 FTP 连接限制、PDB 数据库不断变化的性质等因素考虑在内。我应该知道 - 我[更新`Bio.PDBList`](https://github.com/biopython/biopython/commit/7ebf6e9ecbebdf4fd093110f8d8eb218b02f6b1b)以说明数据库中的更改。=)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-11-30T23:57:53.573

回答这个问题可能有点晚了，但我会给出我的意见。 [Biopython](http://biopython.org/)有一些非常方便的功能可以帮助您轻松实现这样的想法。您可以使用自定义选择类之类的东西，然后使用原始 pdb 文件为要在 for 循环中选择的每个链调用它。

```
 from Bio.PDB import Select, PDBIO
    from Bio.PDB.PDBParser import PDBParser

    class ChainSelect(Select):
        def __init__(self, chain):
            self.chain = chain

        def accept_chain(self, chain):
            if chain.get_id() == self.chain:
                return 1
            else:          
                return 0

    chains = ['A','B','C']
    p = PDBParser(PERMISSIVE=1)       
    structure = p.get_structure(pdb_file, pdb_file)

    for chain in chains:
        pdb_chain_file = 'pdb_file_chain_{}.pdb'.format(chain)                                 
        io_w_no_h = PDBIO()               
        io_w_no_h.set_structure(structure)
        io_w_no_h.save('{}'.format(pdb_chain_file), ChainSelect(chain)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T11:21:31.560

假设您有以下文件 pdb_structures

```
1B68A 
1BZ4B
4FUTA 
```

然后在 load_pdb.sh 中有你的代码

```
while read name
do
    chain=${name:4:1}
    name=${name:0:4}
    wget -c "http://www.pdb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId="$name -O $name.pdb
    awk -v chain=$chain '$0~/^ATOM/ && substr($0,20,1)==chain {print}' $name.pdb > $name\_$chain.pdb
    #   rm $name.pdb
done 
```

如果您不需要原始 pdb，请取消注释最后一行。
执行

```
cat pdb_structures | ./load_pdb.sh 
```

# scala - 无法从伴随对象访问伴随类的方法

> ID：11685718
> 
> 赞同：8
> 
> 时间：2012-07-27T10:09:57.880
> 
> 标签：scala, object, methods

我认为我可以从伴生对象访问伴生类的每个方法。但我不能？

```
class EFCriteriaType(tag:String) extends CriteriaType
{
  // implemented method of CriteriaType
  def getTag = this.tag   
}

object EFCriteriaType
{
  var TEXT: CriteriaType = new EFCriteriaType("text")

  override def toString = getTag
} 
```

编译器错误：未找到：值 getTag

我做错了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-27T10:38:00.987

您正在尝试调用中的方法`getTag`。`object EFCriteriaType`该对象中没有这样的方法。您可以执行以下操作：

```
object EFCriteriaType extends EFCriteriaType("text") {
  override def toString = getTag
} 
```

从而使伴随对象成为一种模板。

您可以从伴随对象访问通常无法在类中访问的成员，但您仍然需要拥有该类的实例才能访问它们。例如：

```
class Foo {
  private def secret = "secret"
  def visible = "visible"
}
object Foo {
  def printSecret(f:Foo) = println(f.secret) // This compiles
}
object Bar {
  def printSecret(f:Foo) = println(f.secret) // This does not compile
} 
```

这里私有方法`secret`可以从`Foo`的伴生对象访问。Bar 不会编译，因为 secret 是不可访问的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-27T10:27:23.387

我不太确定您要在这里做什么，但是您需要在该类的实例上调用 getTag ：

```
override def toString(x:EFCriteriaType)  = x.getTag 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-27T11:10:41.683

只是详细说明马修的答案，这是正确的答案：

> 伴随对象是单例，但类不是。单身人士。伴随对象可以访问类的方法，因为类 C 的私有成员可以在其伴随对象 C 中调用。

要调用给定类的成员，您需要该类的实例（即使您不是从伴随对象执行此操作）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-11-12T14:59:19.827

请按照这个例子：

```
import scala.math._

case class Circle(radius: Double) {
  import Circle._
  def area: Double = calculateArea(radius)
}

object Circle {
  private def calculateArea(radius: Double): Double = Pi * pow(radius, 2.0)
}

val circle1 = Circle(5.0)

circle1.area 
```

# android - Google Maps API 3 中的可点击信息气泡

> ID：11685719
> 
> 赞同：0
> 
> 时间：2012-07-27T10:09:58.903
> 
> 标签：android, google-maps-api-3, infobubble

再会！我只是想问一下 InfoBubble 是否可以有一个听众。我试图在 div 中插入 InfoBubble 的文本并在那里插入一个 onclick 命令，但没有任何反应。

提前致谢。顺便说一句，我目前正在开发一个 android 应用程序，并使用 webview 来显示地图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:31:56.013

好的，jetpro，

这是我在使用 javascript 的类似场景中所做的：

```
/* json data object requires:
data.Id,
data.Lat,
data.Lng,
data.Name,
data.Address,
data.Date
*/
function DisplayMapEvent(data, targetDiv) {
    var latlng, options, map, contentString, infowindow, marker;

    // setup our variables
    latlng = new window.google.maps.LatLng(data.Lat, data.Lng);
    options =
        {
            zoom: 15,
            center: latlng,
            mapTypeId: window.google.maps.MapTypeId.ROADMAP
        };

    // create the map inside our map <div> and apply the options
    map = new window.google.maps.Map(document.getElementById(targetDiv), options);
    map.setOptions(options);

    // info to display in the infowindow popup
    contentString =
            '<div>' +
                '<b style="color: #DC6852;">' + data.Name + '</b><br />' +
                'Where: ' + data.Address + '<br />' +
                'When: '  + data.Date    + '<br />' +
            '</div>';

    // info/marker and popup objects setup
    infowindow = new window.google.maps.InfoWindow({
        content: contentString
    });

    marker = new window.google.maps.Marker({
        position: latlng,
        map: map
    });

    // add the usual suspect event handlers
    window.google.maps.event.trigger(map, 'resize');

    // to allow us to repoen a map marker infowindow if closed
    window.google.maps.event.addListener(marker, 'click', function () {
        infowindow.open(map, marker);
    });

    // open infowindow on map once rendered
    infowindow.open(map, marker);

    // sit back and wonder at the glory of google maps mow :-)
} 
```

就我而言，我将一个 json 对象传递给`DisplayMapEvent`函数，但您可以根据自己的要求重新调整它。每当我希望在我的地图上添加新标记时都会调用此函数，因此您可以根据需要解除此批发和重构。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T18:35:25.907

像这样添加监听器

```
google.maps.event.addDomListener(infoBubble2.bubble_, 'click', function(){..}); 
```

玩得开心！

# android - 找不到运行 pocketsphinxAndroidDemo 的 JNI_OnLoad

> ID：11685726
> 
> 赞同：1
> 
> 时间：2012-07-27T10:10:14.040
> 
> 标签：android, voice-recognition

我正在构建pocketsphinx、sphinxbase 和pocketsphinxDemo，如

[http://cmusphinx.sourceforge.net/2011/05/building-pocketsphinx-on-android/](http://cmusphinx.sourceforge.net/2011/05/building-pocketsphinx-on-android/)

但是当我在设备上运行 PocketSphinxAndroidDemo 时，它会显示初始屏幕并熄灭。

在 logcat 上我收到如下错误：

在 /data/data/edu.cmu.pocketsphinx.demo/lib/libpocketsphinx_jni.so 0x40513c80 中找不到 JNI_OnLoad，跳过初始化

我已经创建了链接中指定的目录结构，并在 recogniser.java 中也进行了更改。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:27:06.080

Just a small checklist, before proceeding:

1.  Did you push the required files into the sdcard from adb shell?
2.  Made the necessary changes in the recognisertask.java?
3.  Changes made to android manifest file?
4.  NDK build? ;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T09:04:17.370

诀窍对我来说很简单：

如果您在 sdcard 上创建了结构和所需文件，**您应该从计算机上拔下设备，然后运行应用程序**，因为在插入模式下，手机上的应用程序无法访问 sdcard。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-28T16:38:40.693

> 在 /data/data/edu.cmu.pocketsphinx.demo/lib/libpocketsphinx_jni.so 0x40513c80 中找不到 JNI_OnLoad，跳过初始化

这不是严重错误，这是意料之中的。你可以忽略它

> 但是当我在设备上运行 PocketSphinxAndroidDemo 时，它会显示初始屏幕并熄灭。

很可能您没有将文件放在正确的文件夹中。有关更多信息，您需要查看 pocketsphinx 日志。它是在路径中的设备上创建的

```
/sdcard/Android/data/edu.cmu.pocketsphinx/pocketsphinx.log 
```

您可以在那里找到有关问题的所有信息。

# android - 如何在我的 Android 应用程序中添加 GoogleAdd

> ID：11685728
> 
> 赞同：0
> 
> 时间：2012-07-27T10:10:15.793
> 
> 标签：android, google-analytics, add

我在这里还有一个问题，我正在单独创建一个应用程序。现在我想添加`Google Adds`我的应用程序。

需要帮助。我没有从我将要`ads:adUnitId="";` 经过的地方得到，`GoogleAddSense`但它需要我没有的网站:(。`google add`如果我没有我的网站，我不能在我的应用程序中添加。请帮我添加`google adds`我的应用程序。请指导我如何在应用程序中实现添加。

谢谢马哈维尔。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:33:44.617

这就是您的 AdMob 发布商 ID。您需要创建一个 AdMob 帐户，然后 使用“添加站点/应用程序”[在此处注册应用程序。](http://www.admob.com/my_sites/)之后，您可以在新的应用详情下找到您的 AdMob 发布商 ID。祝你好运！

# actionscript-3 - 未播放 flex 状态转换

> ID：11685731
> 
> 赞同：1
> 
> 时间：2012-07-27T10:10:27.800
> 
> 标签：actionscript-3, apache-flex

我创建了一个组件，它在更改为此模式时具有编辑模式我希望组件播放过渡，状态正在更改但从未播放过渡

```
public function LabelTextInputSkin2()
{
   super();
   states = defineStates();
   transitions = [defineTransitions()];
}

private function defineTransitions() : Transition
    {
        var parallel : Parallel = new Parallel();

        var rotate : Rotate3D = new Rotate3D();
        rotate.target = textInputEdit;
        rotate.angleXFrom = 90;
        rotate.angleXTo = 0;
        rotate.duration = 500;

        var rotateLabel : Rotate3D = new Rotate3D();
        rotateLabel.target = labelDisplay;
        rotateLabel.angleXFrom = 0;
        rotateLabel.angleXTo = -90;
        rotateLabel.duration = 500;

        parallel.addChild(rotate);
        parallel.addChild(rotateLabel);

        var transition : Transition = new Transition();
        transition.fromState = "normal";
        transition.toState = "editable";
        transition.effect = parallel;

        return transition;
    } 
```

# android - 我需要主线程等待在后台运行的服务的结果

> ID：11685734
> 
> 赞同：1
> 
> 时间：2012-07-27T10:10:40.973
> 
> 标签：android, android-service

我的程序有问题，当我运行程序时，我需要 2 次迭代来更新一个名为“existe”的变量。我使用处理程序进行此更新。我认为是同步的问题，但我不知道它在哪里。我有 1 个广播接收器来接收服务方法的响应，但我认为首先它完成了按钮处理程序代码，然后它运行了广播接收器。虽然我认为广播接收器应该在接收方法服务的响应时运行？谢谢你的帮助。

这是按钮处理程序的代码：

```
View.OnClickListener buttonhandler=new View.OnClickListener(){ 

    public void onClick(View v) {
        EditText id_camarero = (EditText) findViewById(R.id.id_camarero);
        String numero = id_camarero.getText().toString();
        if( numero.trim().equals("")){
             AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);

            // set title
            alertDialogBuilder.setTitle("Fallo de id");

            // set dialog message
            alertDialogBuilder
                //.setMessage("Click salir para finalizarprograma")
                .setCancelable(false)
                .setPositiveButton("Salir",new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog,int id) {
                        // if this button is clicked, close
                        // current activity
                        MainActivity.this.finish();
                    }
                  })
                .setNegativeButton("Reintentar",new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog,int id) {
                        // if this button is clicked, just close
                        // the dialog box and do nothing
                        dialog.cancel();
                    }
                });

                // create alert dialog
                AlertDialog alertDialog = alertDialogBuilder.create();

                // show it
                alertDialog.show();

        }
         idcamarero=Integer.parseInt(numero);
         comprobacion();
         //IntentFilter filter = new IntentFilter(MyService.DATA_RECEIVED_INTENT);
        // registerReceiver(androidListener, filter);
     if((existe==false)){
         AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);

                // set title
                alertDialogBuilder.setTitle("Fallo de id");

                // set dialog message
                alertDialogBuilder
                    //.setMessage("Click salir para finalizarprograma")
                    .setCancelable(false)
                    .setPositiveButton("Salir",new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,int id) {
                            // if this button is clicked, close
                            // current activity
                            MainActivity.this.finish();
                        }
                      })
                    .setNegativeButton("Reintentar",new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,int id) {
                            // if this button is clicked, just close
                            // the dialog box and do nothing
                            dialog.cancel();
                        }
                    });

                    // create alert dialog
                    AlertDialog alertDialog = alertDialogBuilder.create();

                    // show it
                    alertDialog.show();
                }

     else{
    // Intent intent= new Intent(GestorRestauranteActivity.this,MenuMesas.class);
    // intent.putExtra("id", numero);//enviamos el id de camarero a la actividad que invocamos
    // startActivity(intent);
     finish();
     }
    }

}; 
```

这是广播接收器的代码：

```
 BroadcastReceiver androidListener = new BroadcastReceiver()

{
@Override

    public void onReceive(Context context, Intent intent) 

    {
        if (intent.getAction().equals(MyService.DATA_RECEIVED_INTENT))
        {               
            Message msg = Message.obtain();
            msg.obj = intent.getExtras().get("text");

            msg.setTarget(cEmiHandler);
            msg.sendToTarget();                     
        }
    }
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-25T17:08:48.270

不要让它变得更复杂，简单的解决方案是使用 Object 类的 wait()、notify() 方法。在主线程中，你通过wait()方法锁定一个对象，在另一个线程中（工作线程做主工作），当工作完成时使用notify()，主线程将被解锁并继续。

```
Object x = new Object(); 
```

在主线程中： x.wait(); 在工作线程中：然后执行工作 x.notify();

# html - css按左顺序排列div

> ID：11685735
> 
> 赞同：0
> 
> 时间：2012-07-27T10:10:45.010
> 
> 标签：html, css, positioning

我的 Web 应用程序中有一个 div，它有无限宽度用户可以滑动它.. 具有动态高度（表示根据用户屏幕的高度）。在里面我必须分散一些 div 的。你可以从这里得到清晰的想法/样本

[结果](http://jsfiddle.net/3fmVF/2/embedded/result/) | [来源](http://jsfiddle.net/3fmVF/2/)

现在它浮动到第一个 div .. 但我需要一些东西

第一个 div 将出现在 left top ，然后第二个在底部到第一个。然后，如果有足够的空间容纳第三个，那么它必须低于两个或在顶部。

你可以在这里得到更多的想法

```
+------------------------------------------------------------
|     
|  div 1         div 3      div 6
|
|                 div 4
|
|
|  div 2        div 5
|
|
+-------------------------------------------------------------- 
```

我试过 float:left ， display:block .... 不工作....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:19:12.947

强制所有 div 使用 float:left，然后使用 a `<div style='clear:both'></div>`创建新的 div 行

[http://jsfiddle.net/3fmVF/3/](http://jsfiddle.net/3fmVF/3/)

# jquery - 表单提交时的 jQuery 对话框和 ajax 登录

> ID：11685736
> 
> 赞同：0
> 
> 时间：2012-07-27T10:10:50.873
> 
> 标签：jquery, forms, login, dialog, submit

这是在 CodeIgniter 中工作的场景：（如果问题格式不正确，我很抱歉，这是我在这里的第一篇文章。）

1.  我有大表格要提交，并且在验证后使用 ajax 提交 OK。
2.  在我的控制器中，如果用户已登录，我将在视图中传递用户名，并将其放置在表单的隐藏输入字段中。如果用户未登录，则结果为

`<input type="hidden" id="loggedin" name="username" value="" />`

3.在我的javascript中，我检查表单是否有效（）以及用户名！==“”然后我用ajax发布表单，否则我会弹出一个登录页面的对话框。当用户登录时，表单提交工作正常。

问题是我无法弄清楚用户在登录对话框中登录后如何发布表单。

代码来了：

```
 $('#MyForm').submit(function(event){
     event.preventDefault();

     var username=document.getElementById('loggedin').value;
     if($('#MyForm').valid() && username!=="" ){
     var serializeddata=$("#MyForm").serialize();

      $.ajax({
    type: "POST",
    url: "formsubmition", // The urls are in CI format
    contentType: "application/x-www-form-urlencoded;charset=UTF-8",

    data: serializeddata,
    dataType: "html",
    success: function(data) {
        $('#message_ajax_anaz').html(data);
                    }
                })

     }else if($('#MyForm').valid() && username==""){

      $("#loginpop").load("login").dialog();

     } 
     }); 
```

登录页面ajax代码：

```
$('#login').submit(function(event){
     event.preventDefault();

     var dataser=$('#login').serialize();
      $.ajax({
    type: "POST",
    url: "login",
    contentType: "application/x-www-form-urlencoded;charset=UTF-8",

    data: dataser,
    dataType: "html",
    success: function(data) {
        $('#message_ajax').html(data);
                    }
                }) 
```

以上在对话框中工作正常，我可以正常登录。

现在我怎样才能返回 $('#MyForm').submit( 功能与用户现在登录，也不必再次填写表格？

**想出了一个方法** ，希望能帮助更多的人。

我在提交函数之外初始化了对话框：

```
 $("#loginpop").load("login").dialog({
        autoOpen:false
    }) 
```

然后更改了我的 else 语句：

```
 else if($('#MyForm').valid() && username==""){

  $("#loginpop").dialog('open'); 
```

在我的登录 ajax 成功功能中，我添加了：

```
 $("#loggedin").val(data); // Changed the value of the hidden input with the username value on the fly. data contains the username

        $('#MyForm').submit();
        $('#loginpop').dialog('close'); 
```

现在一切正常，我的表单在登录后提交:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T11:48:14.523

[https://stackoverflow.com/a/2276477/753676](https://stackoverflow.com/a/2276477/753676)会容易得多。

[http://api.jquery.com/serialize/](http://api.jquery.com/serialize/)

你也可以用 cookie.js 存储它（并在提交后删除 cookie）然后可以直接提交

# java - java 服务器上的 KeyStore 错误：找不到 BKS

> ID：11685740
> 
> 赞同：8
> 
> 时间：2012-07-27T10:11:05.523
> 
> 标签：java, ssl, keystore, jsse

我在这一行得到一个错误：

```
final KeyStore keyStore = KeyStore.getInstance("BKS"); 
```

我得到的错误是：

```
java.security.KeyStoreException: BKS not found
    at java.security.KeyStore.getInstance(Unknown Source)
    at AppListen.<init>(AppListen.java:84) 
```

我将 bcprov-jdk16-146.jar 添加到“引用库”中，但仍然没有运气。

我的整个程序允许将安卓手机用作使用 SSL 套接字连接的计算机的鼠标和键盘。android应用程序具有相同的行，没有错误。

我究竟做错了什么？

* * *

## 编辑：

也许这是大多数人的常识，但它不适合我，所以对于像我这样的人来说，这就是我所做的。

我使用 BKS 的原因是因为这是 android 允许的唯一格式，但我不知道您只在 android 端需要它，您可以在服务器上使用另一种格式，然后复制密钥并将其转换为BKS 在 android 上使用，无需 BouncyCastle。

我为服务器使用了 JKS 密钥，然后使用名为 portecle 的程序将该密钥的副本转换为 BKS 以在 android 上使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:25:18.390

此错误表明 keytool 尝试实例化`BKS`密钥库，但没有加密服务提供程序 (CSP) 能够提供这样的实现。`BKS`keystore 类型是[BouncyCastle CSP](http://www.bouncycastle.org/)
实现的类型， 因此您必须使用 Java 安装 BouncyCastle 提供程序。[安装提供程序](http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#ProviderInstalling)
并查看[此内容。](http://www.bouncycastle.org/specifications.html#install)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-05-16T08:03:35.100

在项目中包含[BouncyCastle](https://www.bouncycastle.org/latest_releases.html)库并在代码中添加提供程序

```
Security.addProvider(new BouncyCastleProvider());
KeyStore keyStore = KeyStore.getInstance("BKS"); 
```

# android - 根据开关和大小写选择图像进行通知

> ID：11685741
> 
> 赞同：6
> 
> 时间：2012-07-27T10:11:14.737
> 
> 标签：android

在我按下按钮的那一刻，图像始终是手机，但我想要的是能够根据按下的按钮来改变这张图片。

例如。按下按钮 imageButton1 将通知图像设置为汽车

```
NotificationManager nm;
static final int uniqueID = 101;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Button stat = (Button) findViewById(R.id.btnSet);
    stat.setOnClickListener(this);
    ImageButton img1 = (ImageButton) findViewById(R.id.imageButton1); 
    img1.setOnClickListener(this);
    ImageButton img2 = (ImageButton) findViewById(R.id.imageButton2); 
    img2.setOnClickListener(this);
    ImageButton img3 = (ImageButton) findViewById(R.id.imageButton3); 
    img3.setOnClickListener(this);
    ImageButton img4 = (ImageButton) findViewById(R.id.imageButton4); 
    img4.setOnClickListener(this);
    ImageButton img5 = (ImageButton) findViewById(R.id.imageButton5); 
    img5.setOnClickListener(this);
    nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    nm.cancel(uniqueID);
}

@SuppressWarnings("deprecation")
@Override
public void onClick(View v) {
    int picture = R.drawable.phone;
    // TODO Auto-generated method stub
    switch (v.getId()) {
    case R.id.imageButton1:
        // do something
        picture = (R.drawable.car);
        break;
    case R.id.imageButton2:
        // do something else
        picture = (R.drawable.clock);
        break;
    case R.id.imageButton3:
        // do something else
        picture = (R.drawable.globe);
        break;
    case R.id.imageButton4:
        // do something else
        picture = (R.drawable.little_tv);
        break;
    case R.id.imageButton5:
        // do something else
        //setImageResource(R.drawable.phone);
        break;
    case R.id.btnSet: 
     // do something else
        EditText etT = (EditText) findViewById(R.id.etTitle);
        EditText etB = (EditText) findViewById(R.id.etBody);
        Intent intent = new Intent(this, MainActivity.class);
        PendingIntent pi = PendingIntent.getActivity(this, 0, intent, 0);
        String setTitle = etT.getText().toString();
        String setBody = etB.getText().toString();
        String body = setBody;
        String title = setTitle;
        Notification n = new Notification(picture, body, System.currentTimeMillis());
        n.setLatestEventInfo(this, title, body, pi);
        n.defaults = Notification.DEFAULT_VIBRATE;
        nm.notify(uniqueID, n);
        finish();
     break;
    }
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:38:39.703

**`'picture'`**从**onClick**函数中删除声明和初始化并将其设置为类变量。

为了更好地理解，请参阅下文

```
NotificationManager nm;
static final int uniqueID = 101;
int picture;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    // Add below line here
    picture = R.drawable.phone;

    ...... All your code

}

@SuppressWarnings("deprecation")
@Override
public void onClick(View v) {
    // Remove below line
    // int picture = R.drawable.phone;

    // TODO Auto-generated method stub
    switch (v.getId()) {
    case R.id.imageButton1:
        // do something
        picture = (R.drawable.car);
        break;
    case R.id.imageButton2:
        // do something else
        picture = (R.drawable.clock);
        break;
    case R.id.imageButton3:
        // do something else
        picture = (R.drawable.globe);
        break;
    case R.id.imageButton4:
        // do something else
        picture = (R.drawable.little_tv);
        break;
    case R.id.imageButton5:
        // do something else
        //setImageResource(R.drawable.phone);
        break;
    case R.id.btnSet: 
     // do something else
        EditText etT = (EditText) findViewById(R.id.etTitle);
        EditText etB = (EditText) findViewById(R.id.etBody);
        Intent intent = new Intent(this, MainActivity.class);
        PendingIntent pi = PendingIntent.getActivity(this, 0, intent, 0);
        String setTitle = etT.getText().toString();
        String setBody = etB.getText().toString();
        String body = setBody;
        String title = setTitle;
        Notification n = new Notification(picture, body, System.currentTimeMillis());
        n.setLatestEventInfo(this, title, body, pi);
        n.defaults = Notification.DEFAULT_VIBRATE;
        nm.notify(uniqueID, n);
        finish();
     break;
    }
} 
```

在您的代码中，每当**`btnSet`**单击“图片”变量时，都会使用 R.drawable.phone 进行初始化，然后根据 switch case 直接执行“case R.id.btnset”

我想你明白我的意思

# ios - Xcode 编译器复制不需要的文件

> ID：11685747
> 
> 赞同：0
> 
> 时间：2012-07-27T10:11:50.500
> 
> 标签：ios, xcode

当我编译我的 iPhone 应用程序时，我不知道为什么，在我的 iPad 上编译 Xcode 时会复制许多与项目无关的罚款，例如我的文档和下载文件夹中的照片、文件、mp3 和其他内容。我签入了我的项目文件和文件夹，并且没有不需要的文件夹和文件的副本。我的下载文件夹有一个链接，但我删除了它。有人知道为什么吗？？>由于这个原因，我的应用程序被认为是 2.5 GB 大！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:17:35.427

转到您的目标 Build Phases 并查找 Copy Bundle Resources 阶段。

在那里，您将找到一个列表，其中包含复制到您的捆绑包中的所有文件。只需删除您不想被复制的那些。

[![在此处输入图像描述](../Images/4f6377fd15d38f7bf7c6f3d324ad201d.png)](https://i.stack.imgur.com/wMks6.jpg)
[（来源：[ajaxapp.com](http://www.ajaxapp.com/wp-content/uploads/2011/08/Project-build-phases-to-add-frameworks.jpg)）]

# asp.net - dd/mm/yyyy 格式的文本框中的日期

> ID：11685748
> 
> 赞同：0
> 
> 时间：2012-07-27T10:11:55.353
> 
> 标签：asp.net, date

我是 C# 的初学者，在使用 DateTime 时遇到了一些问题。我不想为日期使用 3 个单独的下拉菜单或文本框。但我仍然希望能够将用户输入限制为日期格式（dd/mm/yyyy）。我怎样才能做到这一点？

注意：我只是一个学习者，所以请解释你写的任何代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:15:59.483

看看[ASP.NET AJAX Toolkit](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/MaskedEdit/MaskedEdit.aspx)它有一个示例 MaskedEdit 框，它应该可以完成您正在寻找的内容。

或者，您可以使用带有正则表达式的验证器来检查格式，使用第二个验证器来检查日期是否真实（即闰年问题）。

但我认为更简洁的 UI 方法是使用 MaskedEdit 系统和验证器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:20:26.873

嗨，您可以使用 javascript 来限制您的日期字段。

请参阅下面我的代码

您在 aspx 页面中的文本框，

`<asp:Textbox ID="txtDate" runat="server" />`

并使用如下的javascript

```
<script type="text/javascript" language="javascript">
function ValidateDateOf() {
    DayObj = new Date();
    var txtdate =  document.getElementById('<%=txtDate.ClientID %>').value;
    var arr = txtdate.split("/");
    var leapday = arr[0];
    var leapmonth = arr[1];
    var leapyear = arr[2];

    var CurDate = DayObj.getDate();
    var CurYear = DayObj.getFullYear();
    var CurMonth = DayObj.getMonth();

    if (leapday == '') {
        alert('day Field is required');
        return false;
    }
    if (leapmonth == '') {
        alert('month Field is required');
        return false;
    }
    if (leapyear == '') {
        alert('year Field is required');
        return false;
    }
    if (parseInt(leapday) > 29) {
        alert('invalid date');
         return false;
    }
    if (!isleap(leapyear)) {
        if (parseInt(leapday) > 28) {
            alert('invalid date');
            return false;
        }
        return true;
    }
    return true;
}

function isleap(leapyear) {
    var yr = leapyear;
    if ((parseInt(yr) % 4) == 0) {
        if (parseInt(yr) % 100 == 0) {
            if (parseInt(yr) % 400 != 0) {
                return false;
            }
            if (parseInt(yr) % 400 == 0) {
                return true;
            }
        }
        if (parseInt(yr) % 100 != 0) {
            return true;
        }
    }
    if ((parseInt(yr) % 4) != 0) {
        return false;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:15:49.650

您可以使用 AJAX 控件工具包的 CalendarExtender。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:21:47.420

[使用 jquery 日期时间选择器。](https://stackoverflow.com/questions/7366502/jquery-datetimepicker-in-asp-net)

[实现 jQuery 日期时间选择器](http://forums.asp.net/t/1661071.aspx/1)

# node.js - Node.js express：对路由器中间件感到困惑

> ID：11685750
> 
> 赞同：2
> 
> 时间：2012-07-27T10:11:59.750
> 
> 标签：node.js, post, router

如果没有路由器中间件，服务器端一旦收到 post 数据，就可以正常记录：

```
var express = require('express');
var app = express.createServer();
app.configure(function () {
    app.use(express.static(__dirname + '/static'));
    // app.use(app.router);
    app.use(express.bodyParser());
})

app.get('/', function(req, res){
    res.send('Hello World');
});

app.post('/', function(req, res){
    console.log('body:', req.body);
    res.send(req.body);
});

app.listen(8000); 
```

但是一旦我使用`router`中间件，日志结果是`undefined`并且没有响应

为什么？我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:29:42.557

问题是您调用**路由器的顺序**

**bodyParser**必须在**路由器之前调用**

```
app.configure(function () {
  app.use(express.static(__dirname + '/static'));
  app.use(express.bodyParser());
  app.use(app.router);
}); 
```

# java - 没有封闭的类型错误：它是如何工作的

> ID：11685751
> 
> 赞同：0
> 
> 时间：2012-07-27T10:12:06.083
> 
> 标签：java, android, list

我正在从一个巨大的 Jsonfile 创建一个非常简单的自定义对象列表。这个简单的列表包含大约 1/8 到 1/10 的原始解析 JSON（即 400 kb 左右，完整版是 3mb），我可以扔掉。我在这个列表中只使用我需要的数据，所以如果支持两种语言，在我的简单列表中我只放我需要的一种。这个列表我序列化，所以我不需要在启动时一直解析我的所有数据。

该对象应包含一些普通数据和两个列表，其中包含一个视图自定义对象。但是当我试图填写这些子列表时，我的问题就出现了。错误是`No enclosing instance of type SimpleVenue is accessible. Must qualify the allocation with an enclosing instance of type SimpleVenue (e.g. x.new A() where x is an instance of SimpleVenue).`

我以为我明白了，所以我创建了一个顶级对象，其中包含三个对象：

1.  具有纯数据的对象
2.  第一个包含两个 url（字符串）的对象列表
3.  第二个对象列表，其中包含两个字符串和两个日期对象。

实际上，额外的级别感觉有点不必要，我希望这两个列表对象是普通数据对象的子对象。有谁知道我需要改变什么？

我的课：

```
import java.io.Serializable;
import java.util.Date;
import java.util.List;

public class SimpleVenue implements Serializable, Comparable<SimpleVenue>{
    /**
     * 
     */
    private static final long serialVersionUID = 1L;
    public SimpleVenueData simplevenuedata;
     public List <SimplePhotos> simplephotos;
      public List <SimpleOpeningHours> openinghours;

    public class SimpleVenueData implements Serializable{
        /**
         * 
         */
    private static final long serialVersionUID = 1L;
    public int ID;
    public String name;
    public String category;
    public String address;
    public String city;
    public String tip;
    public String phone;
    public String website;
    public String foursquare;
    public float latitude;
    public float longtitude;
    public String theme;
    public String icon;
    public String exception;

      //setters

public void setId(int id){
    ID=id;
}
public void setName(String vname){
name=vname;
}     
public void setCategory(String icon){
    if(icon.equals("eten.png") || icon.equals("uitgaan.png")){
        category="food";
    }else if(icon.equals("monument.png")){
        category="sights";
    }else if(icon.equals("winkelen.png")){
        category="shops";
    }
}     
public void setAdress(String vaddress){
address = vaddress;
}     

public void setCity(String vcity){
    city=vcity;
    }   

public void setTip(String vtip){
    tip=vtip;
    }
public void setPhone(String vphone){
    phone=vphone;
    }
public void setWebsite(String vwebsite){
    website=vwebsite;
    }

public void setFoursquare(String vfoursquare_link){
    foursquare=vfoursquare_link;
    }
public void setLatitude(float vlatitude){
    latitude=vlatitude;
    }

public void setLongitude(float vlong){
    longtitude=vlong;
    }

public void setTheme(String vtheme){
    theme=vtheme;
    }

public void setIcon(String vicon){
    icon=vicon;
    }
public void setException(String vexception){
     exception =  vexception;
    }

}

    public class SimplePhotos implements Serializable{
        /**
         * 
         */
        private static final long serialVersionUID = 1L;
        public String medium;
        public String large;

        public void setMedium(String vmedium){
            medium=vmedium;
            }

        public void setLarge(String vlarge){
            large=vlarge;
            }
        public String getMedium(){
            return medium;
        }

        public String getLarge(){
            return large;
        }

    }

    public class SimpleOpeningHours implements Serializable{
        /**
         * 
         */
        private static final long serialVersionUID = 1L;
        public String day;
        public boolean closed;
        public Date starttime;
        public Date endtime;

        //setters
        public void setDay(String vday){
            day=vday;
        }

        public void setClosed(boolean vclosed){
            closed=vclosed;
            }

        public void setStartime(Date vstarttime){
            starttime=vstarttime;
            }
        public void setEndime(Date vendtime){
            endtime=vendtime;
            }

        //getters
        public String getDay(){
            return day;
        }
        public boolean isClose(){
            return closed;
        }
        public Date getStarttime(){
            return starttime;
        }
        public Date getEndtime(){
            return endtime;
        }

    }

    @Override
    public int compareTo(SimpleVenue another) {
        // XXX Auto-generated method stub
        return 0;
    }
} 
```

使用时：

```
 List<SimpleVenue> sv = new ArrayList<SimpleVenue>();
                                 int selectedPic;
                                 JJsonResponse e;
                                 int k =0; //indicator 1e SimpleVenue
                                 JVenueThemes jtheme;
                                 SimpleVenue tempSv;
                                 SimpleVenueData tempSvd;
                                 SimplePhotos tempPhoto;
                                 int selectedCounter;

                                 for(int i=0;i < jsonResponse.size() ;i++){
                                     e = jsonResponse.get(i);
                                     if(e.venue.hidden == false){ //staat aan
                                         for(int j=0; j<e.venue.themes.size();j++){ //loop door alle themes
                                         if (e.venue.themes.get(j).mobile == true){  //als theme is true
                                             jtheme = e.venue.themes.get(j);
                                             sv.add(new SimpleVenue());
                                             tempSv=sv.get(k);
                                             tempSvd=sv.get(k).simplevenuedata;
                                             tempSvd.setId(k);
                                             tempSvd.setName(e.venue.name);
                                             tempSvd.setAdress(e.venue.address);
                                             tempSvd.setCity(e.venue.city);
                                             tempSvd.setPhone(e.venue.phone);
                                             tempSvd.setWebsite(e.venue.website);
                                             tempSvd.setFoursquare(e.venue.foursquare_link);
                                             tempSvd.setLatitude(e.venue.latitude);
                                             tempSvd.setLongitude(e.venue.longitude);
                                             tempSvd.setCategory(jtheme.icon);
                                             tempSvd.setIcon(jtheme.icon);
                                             // language depending
                                         if (language.equalsIgnoreCase("nld")){ //dutch
                                                tempSvd.setTip(e.venue.tip); 
                                                tempSvd.setTheme(jtheme.name); 
                                             }else{ //english
                                                 tempSvd.setTip(e.venue.tip_en); 
                                                 tempSvd.setTheme(jtheme.name_en); 
                                             }
                                        // selecting pics
                                             if (e.venue.venue_photos.isEmpty() == false){
                                                for(int l=0; l < e.venue.venue_photos.size() ;l++){
                                                    selectedCounter=0;
                                                     if(e.venue.venue_photos.get(l).selected == true){ 
                                                         sv.get(k).simplephotos.add(new SimplePhotos());
//                                                       tempSv.simplephotos.add(new SimplePhotos());
//                                                       tempSv.simplephotos.get(selectedCounter).large=e.venue.venue_photos.get(selectedCounter).large;
//                                                       tempSv.simplephotos.get(selectedCounter).medium=e.venue.venue_photos.get(selectedCounter).medium;
//                                                       selectedCounter++;
                                                     }
                                                 }
                                             }else{
                                                 tempSv.simplephotos.add(new SimpleVenue.SimplePhotos());

                                                 tempSv.simplephotos.get(0).large=null;
                                                 tempSv.simplephotos.get(0).medium=null;
                                               }

                                             // selecting opening hours
                                             //testrun before entering opening hours
                                             Log.i("testrun", "k= " + String.valueOf(k));

                                             k++;
                                         }  
                                     }
                                    }
                                     jsonResponse.remove(i); // 
                                 } 
```

我什至没有开始让它具有可比性，所以不要介意。但最终我会在一些项目上订购我的清单，比如名称和主题等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:14:07.830

您是否*需要* `SimpleVenueData`引用外部类的实例？如果没有，只需将其*设为静态*嵌套类。（或者完全拉出所有这些嵌套类......）

# ios - Sencha Touch Ext.form.TextArea 焦点未打开键盘

> ID：11685757
> 
> 赞同：0
> 
> 时间：2012-07-27T10:12:30.857
> 
> 标签：ios, sencha-touch

我正在使用 Sencha Touch 1.0 的 Ext.form.TextArea 并使用

```
focus() 
```

显示键盘。但是我每次都没有打开键盘，有时键盘会出现，有时不会。我调用了 TextArea 的焦点侦听器，但没有显示键盘。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T17:11:20.893

这是一个在下面注册的错误[`Sencha Touch 1.x Bugs`](http://www.sencha.com/forum/showthread.php?121098-OPEN-725-Keyboard-has-not-appeared-on-focus-a-TextArea.)

# php - php：通过键值迭代函数参数

> ID：11685761
> 
> 赞同：3
> 
> 时间：2012-07-27T10:12:50.827
> 
> 标签：php, function, parameters

我有一个php函数`function foo($bar1, $bar2, $bar3)`

是否有可能动态获取参数**名称和值**？

我找到了`func_get_args`（[http://php.net/manual/de/function.func-get-args.php](http://php.net/manual/de/function.func-get-args.php)），但这会返回类似

```
0 => "valueOf$bar1", 1=> "valueOf$bar2", 2 => "valueOf$bar3" 
```

我想要的是类似的东西：

```
"$bar1" => "valueOf$bar1", "$bar2"=> "valueOf$bar2", "$bar3" => "valueOf$bar3" 
```

那可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:18:03.817

您可以使用[`get_defined_vars`](http://php.net/manual/en/function.get-defined-vars.php). 一个[例子](http://codepad.org/ISBY4oxy)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:16:15.600

它*可以*实现，但需要付出很多努力。您需要通过[反射](http://php.net/manual/en/class.reflectionmethod.php)获取参数名称，并将名称映射到通过[`func_get_args`](http://php.net/manual/en/function.func-get-args.php).

如果你*真的*需要这个，你可以采取另一条更简单的路线并定义你的函数采用单个[参数对象](http://c2.com/cgi/wiki?ParameterObject)：

```
class MyParamObj {
    public $foo;
    public $bar;
}

function myfunc(MyParamObj $args) {
    # ...
} 
```

# struts2 - struts2 action 双重提交

> ID：11685763
> 
> 赞同：0
> 
> 时间：2012-07-27T10:12:53.503
> 
> 标签：struts2

我有 struts2 动作方法。它将从不同的服务器调用。即在我们的应用程序中，我们正在集成icici 支付网关。我的操作方法将从 icici 服务器调用。在那种方法中，我正在执行一些逻辑。根据逻辑，它将被重定向到其他一些操作。

```
<action name="iciciResponse" class="com.yatrasoft.yatratravel.agent.b2c.PaymentGateWayAction" method="iciciResponse">
<result name="buybusTicket" type="redirect">/tentativeBusbooking.action?searchKey=${getSearchKey()}</result>
</action> 
```

我的预订逻辑存在于**tentativeBusbooking()**中。执行此方法后，结果将显示给最终用户。现在浏览器 URL 将是这样的。

```
http://192.168.0.94:8080/travelyatra/tentativeBusbooking.action?searchKey=NDIwMTMzMDR8MTQ5OTA4MjF8bnVsbHxudWxsfG51bGx8bnVsbHxudWxsfG51bGx8bnVsbHxudWxsfHxud 
```

但问题是，如果用户刷新浏览器，**tentativeBusbooking()**将再次执行。

如果我有 JSP 页面，通过使用**s:token**我们可以避免双重表单提交。但是我的操作是直接从另一台服务器调用的。那么，如何避免这种情况下的双重提交。

如果我需要为此编写自己的逻辑，你能帮帮我吗？我是实习软件工程师（仅 5 个月经验）...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:30:32.813

总的来说，根本不建议在支付捕获时刷新最标准的页面方式，并且在大多数情况下，支付网关倾向于警告用户不要双击。刷新浏览器，因为它会使支付无效。

在几乎所有此类情况下，交易总是以无效模式结束。此外，处理此类用例更多的是支付网关而不是您的应用程序的责任。

如果他们有任何机制来处理这个双重提交问题，我建议你看看 ICICI payseal integration doc？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T13:39:44.033

我的建议是在 tentativeBusbooking() 之后执行 redirectAction。在这种情况下，您将返回结果类型为redirectAction，而不是返回SUCCESS，而是返回诸如“bookingComplete”之类的结果。

结果将是仅显示的 jsp，如果刷新页面，则仅显示结果，而不显示原始提交。

例如：

```
@Results({
@Result(name = "success", location = "/WEB-INF/content/tentativeBusbooking.jsp"),
@Result(name = "bookingComplete", type="redirectAction" location = "booking")})
public class BoxController extends ActionSupport{

    public void execute(){
        return SUCCESS;
    }

    public void tentativeBusbooking(){
        //Do stuff...
        return "bookingComplete";
    } 
```

在上面带注释的示例中，bookingComplete 结果将在 tentativeBusbooking() 调用 execute() 之后将结果类型重定向回自身，而不是在刷新时再次调用 tentativeBusbooking()。

# linux - libpng15 静态链接问题

> ID：11685764
> 
> 赞同：2
> 
> 时间：2012-07-27T10:12:56.187
> 
> 标签：linux, static-linking, libpng

我在开发自己的基于*libpng*（1.5 版本）的应用程序时遇到了问题。

长话短说，我需要静态链接这个库，但我不断收到**“未定义的引用”**错误。我尝试提取**libpng15.a**并将其内容添加到我的库以及使用 gcc 命令链接。

我的 gcc 命令：

`gcc test.c librimg.a libz.a libpng15.a -o test -std=c99 -lglfw -lGL -lGLU`

我得到的错误：

```
libpng15.a(libpng15_la-png.o): In function `png_reset_crc':
/home/robin/Downloads/libpng-1.5.12/png.c:111: undefined reference to `crc32'
libpng15.a(libpng15_la-png.o): In function `png_calculate_crc':
/home/robin/Downloads/libpng-1.5.12/png.c:152: undefined reference to `crc32'
libpng15.a(libpng15_la-png.o): In function `png_reset_zstream':
/home/robin/Downloads/libpng-1.5.12/png.c:757: undefined reference to `inflateReset'
libpng15.a(libpng15_la-pngread.o): In function `png_create_read_struct_2':
/home/robin/Downloads/libpng-1.5.12/pngread.c:119: undefined reference to `inflateInit_'
libpng15.a(libpng15_la-pngread.o): In function `png_read_row':
/home/robin/Downloads/libpng-1.5.12/pngread.c:557: undefined reference to `inflate'
libpng15.a(libpng15_la-pngread.o): In function `png_read_destroy':
/home/robin/Downloads/libpng-1.5.12/pngread.c:1070: undefined reference to `inflateEnd'
libpng15.a(libpng15_la-pngrutil.o): In function `png_inflate':
/home/robin/Downloads/libpng-1.5.12/pngrutil.c:333: undefined reference to `inflate'
/home/robin/Downloads/libpng-1.5.12/pngrutil.c:362: undefined reference to `inflateReset'
libpng15.a(libpng15_la-pngrutil.o): In function `png_read_finish_row':
/home/robin/Downloads/libpng-1.5.12/pngrutil.c:3848: undefined reference to `inflate'
/home/robin/Downloads/libpng-1.5.12/pngrutil.c:3880: undefined reference to `inflateReset'
collect2: ld returned 1 exit status 
```

（注意：我已经从源代码编译库，目录*/home/robin/Downloads/libpng-1.5.12/*是我提取档案的地方。）

值得一提的是，我可以毫无困难地链接到共享库：

`gcc test.c librimg.a -o test -std=c99 -lpng15 -lglfw -lGL -lGLU`

我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T12:15:23.227

我设法自己解决了这个问题。

我将所有*libpng15.a*和*libz.a*复制到我的项目目录并提取它们。然后我将所有对象文件（包括我自己的）打包到一个库中（* *.a*）。这是工作:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-20T17:31:00.883

我在使用静态链接的 libpng（1.5 版）创建 qrencode 可执行文件（FUKUCHI Kentaro libqrencode）时遇到问题。多亏了你的帖子，我意识到我需要链接 libz，我已经解决了这个问题。所以解决方案是添加动态libz。

这是我的命令行：

```
./configure --prefix=${TARGET_FOLDER} CFLAGS=-mmacosx-version-min=10.6 png_LIBS=/usr/local/Cellar/libpng/1.5.17/lib/libpng15.a LDFLAGS=/usr/lib/libz.dylib 
```

# jquery - jQuery 多拖多可排序

> ID：11685770
> 
> 赞同：1
> 
> 时间：2012-07-27T10:13:17.067
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable, jquery-ui-draggable

我正在尝试将 jQuery 可拖动和可排序一起使用。以下是原因的解释：

我有两个列表框，`A`并且`B`. 我想一次将多个项目从一个列表框拖放到另一个列表框。`B`列表框需要同时可排序，这意味着如果我从 中拖动多个项目，`A`我可以将它们放在 中的任何位置`B`。我也想进行内部排序`B`（同时多个项目）。

然而，列表框`A`是不可排序的，因此我无法对其中的项目进行排序，并且当我从 拖动时`B`，我只能将其附加到`A`，而不能对其进行排序。（或者更确切地说，在拖动到之前将其移动到它们的原始位置`B`）

希望我已经解释清楚了。自2天以来一直在尝试，并且在网上也没有找到任何答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-05T08:40:08.670

我自己想通了。

关键是使用第一个列表框“A”作为可拖动的连接列表到“B”，并使用第二个列表框“B”作为可排序的。

可以在“开始”和“停止”事件处理程序中实现多个可排序项目效果，并组合/分离所选项目。

# iis - 在 IIS 中替换查询字符串参数名称

> ID：11685771
> 
> 赞同：1
> 
> 时间：2012-07-27T10:13:21.287
> 
> 标签：iis, url-rewriting, query-string

我想知道是否可以在 IIS Rewrite 中替换查询字符串参数名称。

例如：

```
http://www.old-site.com/searchresults?pId=77&page=3 
```

至

```
http://www.new-site.com/products?pId=77&pageno=3 
```

除了将查询字符串（可以包含整个搜索条件数组）附加到重定向的 url 之外，我还需要将 page 的参数名称更改为 pageno。

我当前规则的一个例子是：

```
<rule name="Search Results" enabled="true" stopProcessing="true">
    <match url="^searchresults/?$" ignoreCase="true" />
    <conditions logicalGrouping="MatchAll" trackAllCaptures="false">
        <add input="{QUERY_STRING}" pattern="page=(\d+)" />
    </conditions>
    <action type="Redirect" url="http://www.new-site.com?pageno={C:1}" appendQueryString="true" />
</rule> 
```

...但这最终给了我[http://www.new-site.com/products?pageno=3&pId=77&page=3](http://www.new-site.com/products?pageno=3&pId=77&page=3)

我的问题是我不知道我可以获得哪种搜索条件组合，但我想将它们附加到我的重定向 url 替换页面与 pageno。

提前感谢您提供任何信息/建议。

# c# - 地铁应用程序中像素字节数组的位图（win 8）

> ID：11685776
> 
> 赞同：2
> 
> 时间：2012-07-27T10:13:44.540
> 
> 标签：c#, .net, microsoft-metro, dicom

我想从 Metro Apps 中的像素字节数组创建位图。较早的以下功能用于相同的用途：

```
//Here create the Bitmap to the know height, width and format
  Bitmap bmp = new Bitmap( 352, 288, PixelFormat.Format24bppRgb);  

  //Create a BitmapData and Lock all pixels to be written 
  BitmapData bmpData = bmp.LockBits(
                       new Rectangle(0, 0, bmp.Width, bmp.Height),   
                       ImageLockMode.WriteOnly, bmp.PixelFormat);

  //Copy the data from the byte array into BitmapData.Scan0
  Marshal.Copy(data, 0, bmpData.Scan0, data.Length);

  //Unlock the pixels
  bmp.UnlockBits(bmpData);

  //Return the bitmap 
  return bmp; 
```

但现在 Windows 8 中不存在 BitmapData 类。请建议任何替代方式。

谢谢，潘卡伊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T10:24:45.710

如果我没有完全记错的话，上面的部分代码取自[Evil DICOM](http://evildicom.rexcardan.com/)库，来自`ImageHelper.GetBitmap`方法。

我自己尝试将此代码移植到*Metro*（或任何微软最终将调用的代码），这是 Metro 类似物`ImageHelper.GetBitmap`在我的移植中的样子：

```
public static BitmapSource GetBitmap(float[] pixels, ImageProperties properties)
{
    var bmp = new WriteableBitmap(properties.Rows, properties.Columns);

    using (var stream = bmp.PixelBuffer.AsStream())
    {
        var bytes = new byte[4 * pixels.Length];
        for (int i = 0; i < pixels.Length; i++)
        {
            var greyness = properties.WindowAndLevel.GetValue(pixels[i]);
            bytes[4 * i] = greyness;
            bytes[4 * i + 1] = greyness;
            bytes[4 * i + 2] = greyness;
            bytes[4 * i + 3] = 0xff;
        }

        stream.Write(bytes, 0, bytes.Length);
    }

    return bmp;
} 
```

（实际上，我`stream.WriteAsync`在自己的代码中使用，要求将方法声明为`async`。但是，这与上述问题无关。）

这个答案类似于 Diogo 的答案，但如果你还没有“在那里”，希望这个答案可以引导你更直接地实现你的目标。

**更新**

我现在已经在 Github 上发布了我的 Evil Dicom 端口到 Metro。你可以在这里找到存储库[，](https://github.com/cureos/Evil-DICOM)这里也是一个非常简单的 Metro 应用程序的显示，我在其中使用了这个 Evil Dicom Metro 端口：

![Metro DICOM 查看器](../Images/954fc80c588ac57a672dd5eba557c5d0.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T14:11:12.850

尝试使用 WritableBitmap 类。

像这样的东西应该工作：

```
WriteableBitmap newBmp = new WriteableBitmap(width, height);
Stream stream = newBmp.PixelBuffer.AsStream();

stream.Seek(0, 0);
stream.Write(bytes, 0, bytes.Length);
newBmp.Invalidate(); 
```

您可能必须使用以下命名空间才能工作：

```
using System.Runtime.InteropServices.WindowsRuntime;
using Windows.Graphics.Imaging;
using Windows.Storage.Streams; 
```

# java - Java 中的 Windows Azure 身份验证

> ID：11685777
> 
> 赞同：1
> 
> 时间：2012-07-27T10:13:48.113
> 
> 标签：java, web-services, authentication, azure

即使我检查了以前在 java 中针对 web 搜索的 azure 身份验证的答案，但不知何故，我仍然得到 HTTP 错误代码：401，即使帐户密钥与我在 Windows Azure Marketplace 中的配置文件中的密钥完全相同。我尝试生成一个新的，但也没有用。

因此，任何帮助将不胜感激。

这是java代码（类似于其他使用过它的代码）：

```
String bingUrl = "https://api.datamarket.azure.com/Bing/Search/Web?Query='multiple'&$top=4&$skip=1&$format=json";

        String accountKey = "key";
        byte[] encoding = Base64.encodeBase64((accountKey + ":" + accountKey).getBytes());
        String accountKeyEnc = new String(encoding);

        URL url = new URL(bingUrl);
        URLConnection urlConnection = url.openConnection();
        urlConnection.setRequestProperty("Authorization", String.format("Basic ", accountKeyEnc));

        BufferedReader in = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));
        String inputLine;
        StringBuffer sb = new StringBuffer();
        while ((inputLine = in.readLine()) != null)
          System.out.println(inputLine);
        sb.append(inputLine);
        in.close();
        System.out.println( sb.toString()); 
```

我得到的错误代码是：

> java.io.IOException：服务器返回 HTTP 响应代码：401 用于 URL： [https](https://api.datamarket.azure.com/Bing/Search/Web?Query=) ://api.datamarket.azure.com/Bing/Search/Web?Query= 'multiple'&$top=4&$skip=1&$format =json at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(Unknown Source) at queryengines.WebSample.DisplayResults(WebSample.java:37 ) 在 queryengines.WebSample.main(WebSample.java:19)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:16:20.917

我不是 Java 专家，但您不应该将 String.format 调用更改为此吗？

```
String.format("Basic %s", accountKeyEnc) 
```

# c# - 发生 401 时 HttpWebRequest 不加载内容，但浏览器加载

> ID：11685785
> 
> 赞同：0
> 
> 时间：2012-07-27T10:14:03.993
> 
> 标签：c#, http, browser, status, httpwebresponse

我有以下情况。我正在调用一些 web api 来登录到某个服务器。调用看起来像这样： webhost/login?username=email@domain.com&password=alin 返回总是一个像这样的 xml：

```
<response>
 <error>invalid user</error>
</response> 
```

或者

```
<response>
 <token>XXXXXXX</token>
</response> 
```

所以，如果我用错误的凭据调用这个 api，页面返回 401 http 状态，然后在这一行

```
HttpWebResponse response = (HttpWebResponse)request.GetResponse(); 
```

它引发一个错误，并在 catch 块中跳转。（当然）问题是，下一行

```
stream = response.GetResponseStream(); 
```

永远不会发生，所以我永远不会阅读返回的 xml ，包括其中的错误消息。不过，如果我只是将链接粘贴到浏览器中，页面和 xml 就会被加载

为什么浏览器会加载 xml 而我的响应组件却没有。顺便说一句，我在 C# 中这样做

谢谢

```
Stream stream = null;
try 
{
    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(finalURL);
    HttpWebResponse response = (HttpWebResponse)request.GetResponse();
    stream = response.GetResponseStream();
}  
catch(Exception ex)
{
    string x = ex.Message;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:17:09.080

好吧，您不是在*尝试*查看响应。

如果你捕捉到一个*特定*的异常（你应该这样做——`Exception`在大多数情况下捕捉是一个坏主意），你可以获得响应数据：

```
catch (WebException e)
{
    WebResponse response = e.Response;
    // TODO: Check whether the status code is one you can handle
    // Get the data from here...
} 
```

请注意，您也应该在非失败条件下`using`为您的声明`HttpWebResponse`，否则您最终将打开资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:17:00.037

尝试这个：

```
if (ex is WebException)
{
    var webException = ex as WebException;
    var response = (HttpWebResponse)webException.Response;

    switch (response.StatusCode)
     {
           case HttpStatusCode.Unauthorized:

               var responseStream = response.GetResponseStream();
              break;

       }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:18:28.707

找出浏览器的用户代理字符串，然后将 WebRequest 上的用户代理字符串设置为匹配。许多站点提供基于 UA 的变体内容/标记/样式/脚本。

对于`HttpWebRequest`，您可以通过 UserAgent 属性设置 UA。

看看这是否有帮助。

# php - 在 javascript 中使用 get 将数据发送到 iframe

> ID：11685790
> 
> 赞同：0
> 
> 时间：2012-07-27T10:14:13.650
> 
> 标签：php, javascript, jquery, codeigniter, iframe

我在 html 中创建一个按钮

```
<input type="button"  value="Simulate" class="submit_btn"  id="stimulate" /> 
```

并使用 jquery onclick 事件并创建 iframe，我想将 lat、long 和 title 发送到 iframe 并创建动态地图，但我发送了**10% 折扣**作为字幕，我收到以下错误

```
GET http://domain name/name of controller/name of function/57.643821505750964/12.180534033203116//get%2010%%20discount 400 (Bad Request)

$("#stimulate").click(function() {
var ad_lng = document.getElementById("longclicked").value;
var ad_subtitle = document.getElementById("ad_subtitle").value;
var ad_lat = document.getElementById("latclicked").value;

$('#iframeHolder').html('<iframe id="iframe" src="<?php echo base_url(); ?>index.php/admin/frame_stimulator/'+ad_lat+'/'+ad_lng+'/'+ad_subtitle+'" width="700" height="550" scrolling="no"  frameborder="0"></iframe>');
} 
```

如何将数据发送到 iframe。我不想使用表单并通过 post 方法发送数据.. 不使用表单我可以将数据发布到 iframe

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:20:23.257

将它们传递到查询字符串中：

```
var ad_lng = encodeURIComponent( document.getElementById("longclicked").value );
var ad_subtitle = encodeURIComponent( document.getElementById("ad_subtitle").value );
var ad_lat = encodeURIComponent( document.getElementById("latclicked").value );

$('#iframeHolder').html('<iframe id="iframe" src="<?php echo base_url(); ?>index.php/admin/frame_stimulator?ad_lat='+ad_lat+'&ad_lng='+ad_lng+'&ad_subtitle='+ad_subtitle+'" width="700" height="550" scrolling="no"  frameborder="0"></iframe>'); 
```

在 codeigniter 代码中，您将检索它们：

```
$lat = $this->input->get("ad_lat");
$lng = $this->input->get("ad_lng");
$subtitle = $this->input->get("ad_subtitle"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:27:02.477

You can invoke a javascript function in an iframe from the parent/container page. So if you script a function in the iframe page that takes data as a parameter, then you can invoke it from the main page that contains iframe.

Check this: [Invoking JavaScript code in an iframe from the parent page](https://stackoverflow.com/questions/251420/invoking-javascript-in-iframe-from-parent-page)

# php - 在 PHP GD lib 上绘制反转元素颜色？

> ID：11685791
> 
> 赞同：1
> 
> 时间：2012-07-27T10:14:17.877
> 
> 标签：php, rendering, gdlib

例如，我需要以某种方式绘制 imagefilledrectangle()，使其下方的每个像素都将被反转。不过，如果这很重要，我只需要 1 位反转。这必须有效地完成，并且必须适用于每个绘图功能，例如线条和多边形。之后我不能循环遍历像素，因为这将是矫枉过正，因为图像很大，而且我知道在 PHP GDLib 上循环数百万像素（数千次）非常慢。

如果 PHP GDLib 不能做到这一点，是否有一些 PHP 扩展可以做到这一点？如果没有，我还能使用什么而不在我的服务器上执行二进制文件？

这是我试图实现的示例： ![在此处输入图像描述](../Images/8baf9c96427ff56ce08221d91e415ed2.png)

绘制了两个矩形，它们将在中间相交。

# jquery - jquery 切换按钮

> ID：11685792
> 
> 赞同：1
> 
> 时间：2012-07-27T10:14:17.940
> 
> 标签：jquery, toggle

我有一个项目列表，其中每个项目旁边都有一个打开/关闭按钮。我想切换打开/关闭按钮。这似乎在第一次选择按钮时起作用，但在第二次选择按钮时该功能没有启动。有谁知道为什么？

```
 //update status - close
    $("#close_<?=$order_id?>").click(function(){
        alert('close');
        order_update_type = 'updatestatus';
        order_status = '2';
        order_selected.set("status", order_status); 
        $("#close_<?=$order_id?>").replaceWith('<a data-align="left" class="km-button" data-role="button" id="open_<?=$order_id?>" style="float:left; margin:5px;"><span class="km-text">Re-open</span></a>');      
      });         

//update status - re-open
    $("#open_<?=$order_id?>").click(function(){
        alert('open');
        order_update_type = 'updatestatus';
        order_status = '1';
        $("#open_<?=$order_id?>").replaceWith('<a data-align="left" class="km-button" data-role="button" id="close_<?=$order_id?>" style="float:left; margin:5px;"><span class="km-text">Close</span></a>');            
      }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:19:08.143

因为“点击”仅绑定到您要替换的第一个元素。

蛮力解决方案是使用 live('click', function..) 而不是 click(function..)

但是，我的建议：

1.  创建一个类，例如“orderbutton”
2.  将点击绑定到该类，如有必要，使用 live
3.  从 javascript 重新获得订单 ID - 永远不要从 PHP 生成 javascript 代码（JSON 除外）
4.  创建一个最初隐藏的“折叠”版本 - 请记住，它需要具有不同的 ID（也许您应该使用数据属性而不是 ID 属性）
5.  将所有样式定义移动到类而不是内联*样式*

**编辑：**

推荐的 HTML：

```
<a data-align="left" data-orderId="<?$order_id?>" 
    class="km-button orderbutton closed" 
    data-role="button" 
    id="open_<?=$order_id?>">
        <span class="km-text reopen">Re-open</span>
        <span class="km-text close">close</span>
</a> 
```

推荐的 CSS 文件：

```
.orderbutton {
   float:left; 
   margin:5px;
}
.orderbutton.closed .close {
   display:none;
}
.orderbutton.open .reopen {
   display: none;
} 
```

推荐JS：

```
$('a.orderbutton').live('click', function(){
    var order_id = $(this).data('orderId');
    var is_closed = ($(this).hasClass('closed');
    order_update_type = 'updatestatus';
    order_status = is_closed ? '2' : '1';
    order_selected.set("status", order_status); 

    if ($(this).hasClass('closed')) {
         $(this).removeClass('closed');
         $(this).addClass('open');
    } else if ($(this).hasClass('open')){
         $(this).removeClass('open');
         $(this).addClass('closed');
    }
}); 
```

或者，更简短的形式：

```
$('a.orderbutton').live('click', function(){
    var order_id = $(this).data('orderId');
    var is_closed = ($(this).hasClass('closed');
    order_update_type = 'updatestatus';
    order_status = is_closed ? '2' : '1';
    order_selected.set("status", order_status); 

    $(this).toggleClass('open', $(this).hasClass('closed');
    $(this).toggleClass('closed', $(this).hasClass('open');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:20:02.630

您必须使用 .live 而不是 .click，因为在设置 click 事件时，click 仅适用于 DOM 中的元素。实时订阅也会查找 DOM 更新。

```
 //update status - close
    $("#close_<?=$order_id?>").live('click',function(){
        alert('close');
        order_update_type = 'updatestatus';
        order_status = '2';
        order_selected.set("status", order_status); 
        $("#close_<?=$order_id?>").replaceWith('<a data-align="left" class="km-button" data-role="button" id="open_<?=$order_id?>" style="float:left; margin:5px;"><span class="km-text">Re-open</span></a>');      
      });         

    //update status - re-open
    $("#open_<?=$order_id?>").live('click',function(){
        alert('open');
        order_update_type = 'updatestatus';
        order_status = '1';
        $("#open_<?=$order_id?>").replaceWith('<a data-align="left" class="km-button" data-role="button" id="close_<?=$order_id?>" style="float:left; margin:5px;"><span class="km-text">Close</span></a>');            
      }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:23:07.750

在替换元素时，您应该委托*click*事件，请尝试以下操作：

```
$(document).on("click", "#close_<?=$order_id?>", function(){
     // ...      
}); 

$(document).on("click", "#open_<?=$order_id?>", function(){
     // ...      
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:36:19.077

几点（主要是扩展 Aadaam 的）：

1.  不要生成带有硬编码到选择器中的订单号的 JavaScript - 事实上，根本不要将订单号放入 id 中，否则您将不必要地为每个按钮重复相同的代码。

2.  由于打开和关闭按钮是相同的保存 id （你不应该像第 1 点那样使用它）和文本，不要替换按钮，而只是切换文本和一个类作为标记：

（注意：不要对样式进行硬编码，并且内部跨度上的类似乎是不必要的。您可以在 CSS 中使用`km-buttom > span`来选择它。）

例子：

```
<a data-align="left" class="km-button" data-role="button" data-order-id="<?=$order_id?>" class="closed"><span>Re-open</span></a>

$('.km-button').click(function() { 
  var $this = $(this);
  var orderId = $this.data('order-id'); // Get Order id if you need it for something
  if ($this.hasClass('closed')) {
    // Do what needed
    $this.find('span').text('Close');
  } else {
    // Do what needed
    $this.find('span').text('Re-open');
  }
  $this.toggleClass('closed');
}); 
```

我假设你所有的订单按钮都有`.km-button`一次选择它们的类。您可能需要一个替代方案，例如属性选择器`[data-order-id]`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T10:24:16.157

为什么不使用 jquery [slidetoggle](http://api.jquery.com/slideToggle/)

```
$("#first").slideToggle('slow'); 
```

# grails - 如何显示在 textArea 中创建的字符串以保持 Grails 中的格式？

> ID：11685798
> 
> 赞同：1
> 
> 时间：2012-07-27T10:14:57.900
> 
> 标签：grails, gsp

我想知道显示由用户使用 textArea 输入字段创建的字符串的正确方法是什么？使用 fieldValue 时，所有内容都在单行中：/

谢谢，克里斯蒂安

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-26T20:06:45.927

您必须将从数据库中获取的变量放入“pre”标签中

```
<pre>${variable}</pre> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:32:19.700

您必须将字符转换为 HTML。例如，需要将换行符 (\n) 转换为 <br/> 等。

您还可以提供 RTE 而不是 TextArea，后者通常通过 JavaScript 为您提供 HTML 而不是纯文本。 [谷歌搜索结果](https://www.google.com/search?aq=0&oq=html%20rich%20t&sugexp=chrome,mod=18&sourceid=chrome&ie=UTF-8&q=html%20rich%20text%20editor)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:33:26.800

我尝试使用 grails textArea 属性

```
<g:textArea escapeHtml="true" /> 
```

但它不起作用，所以我发现 textArea 字段（html 和 gsp）中有一个属性，您应该在创建时使用它。它的：

```
<g:textArea wrap="hard" rows="5" cols="20" /> 
```

这对我有用，现在每次我从任何地方（textArea、textField、td 等）调用该字段时，它都会创建所有相应的行。

[http://www.w3.org/wiki/HTML/Elements/textarea](http://www.w3.org/wiki/HTML/Elements/textarea)

# php - 同时获取复选框ID和值php

> ID：11685800
> 
> 赞同：0
> 
> 时间：2012-07-27T10:15:13.633
> 
> 标签：php, mysql, html, forms

我想知道如何同时获取由 ID 分配给它的复选框的值。

这是我的简短代码：

```
<table class="data" cellpadding="0" cellspacing="0">
<?php
$select=mysql_query("select * from products_list ORDER BY id ASC");
while($row=mysql_fetch_array($select)){

$class = ' class="new_arrival" ';

echo "<tr>
<td>".$row['id']."</td>
<input type='hidden' name='product_id' value='".$row['id']."' />
<input type='checkbox' name='product_new' checked='checked' onclick='document.product_listing.submit();' /></td></tr>";
?>
</table>

if (isset($_POST['product_new'])) {

$id = $_POST['product_id'];

echo ("<script language='JavaScript'>
    window.alert('".$id."')
    </script>");
} 
```

我不断得到的 ID 结果是数据库中的最新记录，但复选框的值工作正常。

我试过这个：

```
<input type='checkbox' name='product_new[".$row['id']."]' checked='checked' onclick='document.product_listing.submit();' />

foreach($_POST['product_category'] as $id => $value) 
```

使用 foreach 循环，它确实以某种方式工作，但无论是选中还是取消选中，它都会遍历这些复选框。

希望你们理解，被困在这两天了。我的目的是单击复选框，无论是选中还是取消选中，它都会根据 mysql show result 分配的 ID 更新数据库。

任何帮助都感激不尽。谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:30:06.957

我不太明白你到底想用复选框做什么，但这里有几件事可以帮助你做任何你想做的事情：

1.  如果未选中，HTML 表单不会提交复选框的值，例如，如果您有一个复选框，并且您提交未选中的表单，如果您尝试访问 chkbox1，您将获得 null

2.  如果您想知道是否选中了单击的复选框，您可以通过让每个 onclick 传递 id 的值来做到这一点，例如

```
<input type='checkbox' name='product_new[".$row['id']."]' checked='checked' onclick='setValueAndSubmit(<?=$row[id]?>)' /> 
```

并在js中编写检查复选框的选中属性并进行相应处理的函数

或者

如果您希望查看提交时的所有复选框值，那么您可以简单地遍历复选框组，您只会找到已选中的复选框的复选框名称，未选中的复选框将不会被提交。

编辑：只需在每个复选框后删除 onclick 并放置一个提交按钮，一旦表单提交，您将获得选中复选框的名称和值，因此设置这些复选框，并取消设置所有其他复选框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:39:23.480

只需将 id 放在`value=`复选框的属性中即可。

要生成 HTML：

```
<table class="data" cellpadding="0" cellspacing="0">
<?php

  $query = "
    SELECT *
    FROM products_list
    ORDER BY id ASC
  ";
  $result = mysql_query($query);

  // What if the query fails? Handle error here!

  while ($row = mysql_fetch_ssoc($result)) {

    // ...

    echo "
    <tr>
      <td>".htmlspecialchars($row['id'])."</td>
      <td><!-- I'm guessing this open td tag was missing and should be added -->
        <input type='checkbox' name='product_new[]' checked='checked' value='".htmlspecialchars($row['id'])."' />
        <!-- You don't want the onclick for the checkbox to submit the form, or you will only ever get one result -->
      </td>
    </tr>";

    // ...

  }

?>
</table> 
```

提交表单时：

```
if (isset($_POST['product_new'])) {
  foreach ($_POST['product_new'] as $id) {
    // Do stuff with $id here
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:32:47.900

如果我正确理解了这个问题......

发生这种情况是因为有多个名为 product_id 的输入，因此按名称引用会导致一个被采用，但不是您想要的那个。

因此，解决方法是将单个字段 product_id 添加到循环外部的表单中，并在复选框的 onClick 中更改该值。

示例点击：

```
<input type='checkbox' name='product_new' checked='checked' onclick='document.product_listing['product_id'] = ".$row['id'].";document.product_listing.submit();' /></td></tr>";` 
```

像这样的东西应该可以工作。

# java - url重定向时如何将路径连接到基本url？

> ID：11685801
> 
> 赞同：5
> 
> 时间：2012-07-27T10:15:15.997
> 
> 标签：java, android

我正在请求：

`http://www.baseaddress.com/path/index1.html`

根据我发送的论点，我将重定向到这两个之一： `http://www.baseaddress.com/path2/`
或者 `http://www.baseaddress.com/path/index2.html`

问题是响应只返回： `index2.html`或`/path2/`

现在我检查第一个字符是否为`/`，并根据此连接 URL。有没有一种简单的方法可以在不检查字符串的情况下做到这一点？

编码：

```
url = new URL("http://www.baseaddress.com/path/index1.php");
con = (HttpURLConnection) url.openConnection();
... some settings
in = con.getInputStream();
redLoc = con.getHeaderField("Location"); // returns "index2.html" or "/path2/"
if(redLoc.startsWith("/")){
  url = new URL("http://www.baseaddress.com" + redLoc);
}else{
  url = new URL("http://www.baseaddress.com/path/" + redLoc);
} 
```

你认为这是最好的方法吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-27T10:51:45.160

您可以使用[java.net.URI.resolve](http://docs.oracle.com/javase/6/docs/api/java/net/URI.html#resolve%28java.lang.String%29)来确定重定向的绝对 URL。

```
java.net.URI uri = new java.net.URI ("http://www.baseaddress.com/path/index1.html");
System.out.println (uri.resolve ("index2.html"));
System.out.println (uri.resolve ("/path2/")); 
```

输出

```
http://www.baseaddress.com/path/index2.html
http://www.baseaddress.com/path2/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:24:27.840

```
if(!url.contains("index2.html"))
{
   url = url+"index2.html";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T11:02:49.740

您可以使用 Java 类[`URI`](http://docs.oracle.com/javase/6/docs/api/java/net/URI.html)函数`resolve`来合并这些 URI。

```
public String mergePaths(String oldPath, String newPath) {
    try {
        URI oldUri = new URI(oldPath);
        URI resolved = oldUri.resolve(newPath);
        return resolved.toString();
    } catch (URISyntaxException e) {
        return oldPath;
    }
} 
```

例子：

```
System.out.println(mergePaths("http://www.baseaddress.com/path/index.html", "/path2/"));
System.out.println(mergePaths("http://www.baseaddress.com/path/index.html", "index2.html")); 
```

将输出：

```
http://www.baseaddress.com/path2/
http://www.baseaddress.com/path/index2.html 
```

# c# - 仅当类可序列化时，如何允许类实现接口？

> ID：11685811
> 
> 赞同：2
> 
> 时间：2012-07-27T10:16:04.800
> 
> 标签：c#, .net

假设我有一个名为“XMLControl”的接口，并且我需要实现它的每个类也实现`ISerializable`. 是否有任何面向对象的方法来强制执行此操作？

也可以将 XMLControl 作为一个抽象类，尽管不太可取。最好的方法是什么？

我正在考虑在 XMLControl 中放置一个静态方法，如下所示：

`static void LoadFromXML(SerializableClass);`

但寻找更好的想法。

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-27T10:17:00.390

您可以使`XMLControl`接口实现`ISerializable`接口：

```
public interface IXmlControl: ISerializable
{
    ...
} 
```

这样，您将强制`IXmlControl`接口的所有实现者也实现`ISerializable`.

另请注意，标准 .NET 命名约定规定接口名称应以大写字母开头`I`。所以最好调用这个接口`IXmlControl`。

# jquery - 向一系列元素添加类似的 jQuery 行为

> ID：11685819
> 
> 赞同：-1
> 
> 时间：2012-07-27T10:16:46.437
> 
> 标签：jquery

我已将以下行为添加到一系列 div 中。

```
$("div#_FIRST_Menu").click(function () {
  ...
  $("div#_FIRST_Content").toggleClass("property1 property2");
});

$("div#_SECOND_Menu").click(function () {
  ...
  $("div#_SECOND_Content").toggleClass("property1 property2");
}); 
```

现在该解决方案按预期工作，我可以释放我对代码卫生的热情。直接的问题，我无法真正看到的答案是如何去做{在此处查看标题}。我想按照这个思路执行一些操作。

```
$("div#_" + MAGIC_MARKER + "_Menu").click(function () {
  ...
  $("div#" + MAGIC_MARKER+ "Content").toggleClass("property1 property2");
}); 
```

这样我就可以整齐地压缩代码，仍然保持可读性。建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:28:03.317

首先，而不是：

```
$("div#_FIRST_Menu") 
```

简单地使用：

```
$("#_FIRST_Menu") 
```

它更简单，更快。

现在，正确的做法是为您要选择的所有 div 添加一个类。例如，如果您有：

```
<div id="_FIRST_Menu" class=menu> ... </div>
<div id="_FIRST_Content" class=content> ... </div>
<div id="_SECOND_Menu" class=menu> ... </div>
<div id="_SECOND_Content" class=content> ... </div> 
```

那么你可以使用这个：

```
$("div.menu").click(function () {
    ...
}); 
```

在该函数中，您可以使用例如：

```
 $(this).next().toggleClass("property1 property2"); 
```

获取下一个兄弟，或其他一些函数来找到正确的元素。你没有显示你的 HTML，所以我不知道它到底长什么样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:23:44.460

你可以尝试这样的事情：

```
$.each( ["FIRST","SECOND","THIRD","ETC..."], function(i,MAGIC_MARKER){
    $("div#_" + MAGIC_MARKER + "_Menu").click(function () {
         ...
        $("div#" + MAGIC_MARKER+ "Content").toggleClass("property1 property2");
    });         
}); 
```

或者，您可以通过以下方式使用类，而不是使用`"#_" + MAGIC_MARKER + "_Menu"`和`"#" + MAGIC_MARKER+ "Content"`ids：

```
$("div.class-for-magic-markers-menu").data('index',function(i){  return i; })
                                     .click(function(){
     $("div.class-for-magic-markers-content").eq($(this).data('index'))
                                             .toggleClass("property1 property2");
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:39:00.047

它的通用代码

```
$("div").click(function () {
  var id = $(this).attr('id');

  var pairs = id.split('_');

  if ( pairs[2] == 'Menu'){
   var marker = 'div#_'+pairs[1]+'_Content';
   $(marker).toggleClass("property1 property2");      
  }

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:27:17.310

做这个：

```
$("div#_FIRST_Menu, div #_SECOND_Menu").click(function () {
...
    $("div#_FIRST_Content, div#_SECOND_Content").toggleClass("property1 property2");
}); 
```

# objective-c - 在 iOS 中具有自己的控制器的子视图

> ID：11685822
> 
> 赞同：0
> 
> 时间：2012-07-27T10:16:53.473
> 
> 标签：objective-c, ios

您认为以下情况的最佳方法是什么：我的 iPhone 应用程序需要能够以 2 种方式呈现数据：列表视图（使用 UITableView）和地图视图。我希望用户能够通过点击两个按钮之一在它们之间切换。最初我考虑在根视图控制器内嵌套 ListViewController 和 MapViewController 并将它们的视图添加为根视图控制器视图的子视图。类似的东西（在根视图控制器的 viewDidLoad 方法内部）：

```
[self addChildViewController:self.listController];
[self addChildViewController:self.mapController];
[self.view addSubview:self.listController.view];
[self.view addSubview:self.mapController.view]; 
```

您认为这是最有效的方法，还是考虑到它必须在 iOS5 及更高版本上运行这一事实，是否有更好的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:30:12.193

可以有两种方法：

1.  通过获取视图：在此方法中，在 RootViewController 的视图中添加两个视图（例如 mapview 和 listview）。

2.  通过获取视图控制器：在此方法中，在 RootViewController 的视图中添加两个视图控制器（例如 MapViewController 和 ListViewController）。

记忆明智，最好使用第一种方法。但在功能上，如果您想对单个子控制器执行许多操作，则使用第二种方法。

# security - 从一个 https 页面导航到 tomcat 6.0.24 上的另一个 https 页面时，J-session id 会更改

> ID：11685827
> 
> 赞同：1
> 
> 时间：2012-07-27T10:17:17.850
> 
> 标签：security, tomcat, https, session-cookies, jsessionid

我们的产品客户正试图直接登录到我们的安全页面之一。

```
login url="https://" + anIp + ":5443/om";

GetMethod authget = new GetMethod(url);
..
Header cookie = authget.getResponseHeader("Set-Cookie"); 
```

登录页面的 cookie（J-session id）保存在 cookie 中，这在第二次获取中再次用于访问登录页面之后的第二个页面的一些信息。

第二页`url=https://" + anIp + ":5443/om/service.do?action=listservice`

注意：两个页面都是安全的（https）。问题是：在 tomcat5.5 上，我们观察到两个 cookie 是相同的。但是在 tomcat 6.0 上，当我们尝试使用第一个 cookie 访问第二个页面时，它不起作用。我们观察到，即使导航是从 https 页面到另一个 https（仅）页面，cookie 在 6.0 上也发生了变化。我无法弄清楚 6.0 中有什么问题。从 5.5 到 6.0 tomcat 的 cookie 管理是否有任何变化。如果有人知道这件事，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T14:06:59.700

当您跨越身份验证边界（例如，您输入用户名和密码）时，Tomcat 的最新版本会更改会话 ID。这是为了防止会话固定攻击。

如果您有一个正在跟踪会话 ID 的客户端，那么您需要持续跟踪会话 ID，为每个包含 JSESSIONID cookie 的响应更新您的会话 ID。

# asp.net-mvc - ASP.NET 中的 Dapper、ODATA 和 IQueryable

> ID：11685830
> 
> 赞同：6
> 
> 时间：2012-07-27T10:17:30.283
> 
> 标签：asp.net-mvc, mvvm, odata, iqueryable, dapper

我看到了 Dapper 的出色性能以及如何使用它的一些示例。

我想知道是否可以使用它来提供 IQueryable 数据并使用 ODATA 将其与 UI 层集成以将数据传输到 UI（如网格、列表等）。

有什么方法可以返回 Dapper 对象 AsQueryable 而不是 IEnumerable 以使用 ODATA 进行查询？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-28T20:03:04.803

不，不是。好吧，如果你真的想要的话，你可以用 .AsQueryable() 包装**任何**序列，但它只是使用 LINQ-to-Objects。Dapper 故意简单；它试图做的很少，但它*确实*试图做的是：它做得很好（即使我自己这么说）。正确的 IQueryable 接口与 dapper 完全相反...

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-08-25T12:17:40.233

我最近发现自己处于这种情况，我想将 Dapper 与 OData 一起使用，但我不想将 Entity Framework 用于 SQLite。

我的解决方案是为 ODataQueryOptions 创建一个扩展方法，所以我的控制器看起来像这样

```
public IHttpActionResult GetDevices(ODataQueryOptions<User> queryOptions)
{
    var usersQuery = new UserQuery(page, perPage);
    var users = usersQuery.Search(queryOptions.WhereClause(), queryOptions.OrderByClause());
    return Ok<IEnumerable<User>>(users);
} 
```

这看起来很简单，到目前为止它对我有用，所以我坚持使用它。就 odata 而言，我只需要限制用户可以过滤的内容

```
 protected ODataValidationSettings _validationSettings =
        new ODataValidationSettings
        {
            // These validation settings prevent anything except: (equals, and, or) filter and sorting
            AllowedFunctions = AllowedFunctions.None,
            AllowedLogicalOperators = AllowedLogicalOperators.Equal | AllowedLogicalOperators.And | AllowedLogicalOperators.Or | AllowedLogicalOperators.NotEqual,
            AllowedArithmeticOperators = AllowedArithmeticOperators.None,
            AllowedQueryOptions = AllowedQueryOptions.Filter | AllowedQueryOptions.OrderBy
        }; 
```

这是扩展方法

```
 public static string WhereClause(this ODataQueryOptions options)
    {
        string s = "";
        if (options.Filter != null && options.Filter.FilterClause != null)
        {
            var node = options.Filter.FilterClause.Expression as BinaryOperatorNode;
            s = getWhereClause(node);
        }
        return s;
    }

    private static string getWhereClause(BinaryOperatorNode node)
    {
        // PARSE FILTER CLAUSE
        // Parsing a filter, e.g. /Users?$filter=Id eq '1' or Id eq '100'  
        var s = "";
        if (node.Left is SingleValuePropertyAccessNode && node.Right is ConstantNode)
        {
            var property = node.Left as SingleValuePropertyAccessNode ?? node.Right as SingleValuePropertyAccessNode;
            var constant = node.Left as ConstantNode ?? node.Right as ConstantNode;

            if (property != null && property.Property != null && constant != null && constant.Value != null)
            {
                s += $" {property.Property.Name} {getStringValue(node.OperatorKind)} '{constant.Value}' ";
            }
        }
        else
        {
            if (node.Left is BinaryOperatorNode)
                s += getWhereClause(node.Left as BinaryOperatorNode);

            if (node.Right is BinaryOperatorNode)
            {
                s += $" {getStringValue(node.OperatorKind)} ";
                s += getWhereClause(node.Right as BinaryOperatorNode);
            }
        }
        return s;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-27T23:21:00.200

要将 Dapper 与 OData 一起使用，您必须截取`Get(ODataQueryOptions<SpotView> queryOptions)`参数，对其进行解析，并从中创建 Dapper 的 where 子句。您还需要考虑您在 WebApiConfig.cs 中的任何其他 OData 设置

```
config.AddODataQueryFilter(new EnableQueryAttribute()
{
...
}); 
```

但是，您也可以将 MySqlConnection 与 EF 一起使用，并且您不必通过上述解析重新发明轮子。但是，如果 Dapper 的性能比使用像 EF 这样的完整 ORM 更重要，那么这是你的决定，因为它已经内置了不同的执行。

# python - 如何使用python对对象列表进行排序？

> ID：11685834
> 
> 赞同：3
> 
> 时间：2012-07-27T10:17:39.340
> 
> 标签：python, list, sorting, dictionary

我有一个对象列表，如下所示：

```
[{'id': 17L,
  'price': 0,
  'parent_count': 2},
 {'id': 39L,
  'price': 0,
  'parent_count': 1},
 {'id': 26L,
  'price': 2.0,
  'parent_count': 4},
 {'id': 25L,
  'price': 2.0,
  'parent_count': 3}] 
```

我想对对象进行排序，`'parent_count'`使其看起来像这样：

```
 [{'id': 39L,
   'price': 0,
   'parent_count': 1},
  {'id': 17L,
   'price': 0,
   'parent_count': 2},
  {'id': 25L,
   'price': 2.0,
   'parent_count': 3},
  {'id': 26L,
   'price': 2.0,
   'parent_count': 4}] 
```

有人知道函数吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-27T10:18:57.297

`operator.itemgetter("parent_count")`用作`key`参数`list.sort()`：_

```
from operator import itemgetter
my_list.sort(key=itemgetter("parent_count")) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:28:22.477

此外，您可以使用此方法：

```
a = [{'id': 17L, 'price': 0, 'parent_count': 2}, {'id': 18L, 'price': 3, 'parent_count': 1}, {'id': 39L, 'price': 1, 'parent_count': 4}]
sorted(a, key=lambda o: o['parent_count']) 
```

结果：

```
[{'parent_count': 1, 'price': 3, 'id': 18L}, {'parent_count': 2, 'price': 0, 'id': 17L}, {'parent_count': 4, 'price': 1, 'id': 39L}] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:23:49.620

你真的有“parent_say”*和*“parent_count”吗？

```
def get_parent(item):
    return item.get('parent_count', item['parent_say'])
    # return item.get('parent_count', item.get('parent_say')) if missing keys should just go to the front and not cause an exception

my_list.sort(key=get_parent) 
```

**或者更通用一点**

```
def keygetter(obj, *keys, **kwargs):
    sentinel = object()
    default = kwargs.get('default', sentinel)
    for key in keys:
        value = obj.get(key, sentinel)
        if value is not sentinel:
            return value
    if default is not sentinel:
        return default
    raise KeyError('No matching key found and no default specified') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T10:21:27.607

```
my_list.sort(key=lambda x:x["parent_count"]) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T10:22:12.830

你也可以这样做：

```
my_list.sort(key=lambda x: x.get('parent_count')) 
```

如果密钥不存在，则不需要`operator.itemgetter`并且不会导致错误（那些没有密钥的人放在开头）。

# android - “首选外部”属性

> ID：11685836
> 
> 赞同：1
> 
> 时间：2012-07-27T10:17:51.840
> 
> 标签：android, google-play

我开发了我的 android 应用程序，我生成了 apk 文件，它运行良好，该应用程序安装在我的 sd 中，但是，当我从市场上安装它时，它安装在手机中。

我有这个：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.mypackage.myapp"
android:versionCode="2"
android:versionName="2.0"
android:installLocation="preferExternal" >

<uses-sdk android:minSdkVersion="7" /> 
```

我需要更改 minSdkVersion 吗？或向我的开发者控制台添加一些东西？

先感谢您！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T10:32:05.827

`InstallLocation`该机制适用于 Android 2.2(FROYO) 及更高版本，因此目标设备必须至少具有 2.2(Froyo) 及更高版本才能直接安装在 Sdcard 上。

# delphi - 在 Delphi 中退出“如果”

> ID：11685841
> 
> 赞同：6
> 
> 时间：2012-07-27T10:18:06.133
> 
> 标签：delphi

**您可以使用break**退出**while**循环。

 **如何退出**if** 。

Delphi 中有一种**GOTO吗？**

```
procedure ...
begin

  if .... then
    begin

      here the code to execute

      if (I want to exit = TRUE) then
        break or GOTO

      here the code not to execute if has exited

    end;

  here the code to execute

end; 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-27T10:48:06.357

像[`Piskvor mentioned`](https://stackoverflow.com/questions/11685841/exit-from-an-if-in-delphi#comment15493212_11685841)，使用嵌套 if 语句：

```
procedure Something;
begin    
  if IWantToEnterHere then
  begin
    // here the code to execute    
    if not IWantToExit then
      // here the code not to execute if has exited
  end;    
  // here the code to execute
end; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T14:02:50.607

我不赞成以这种方式使用 Exit，但你要求它......

就像@mrabat 在对@Arioch 的评论中建议的那样，“答案是，您可以利用 finally 块始终执行的事实，无论退出和异常如何，您都可以在这里获得优势：

```
procedure ...
begin

  if Cond1 then
  try
    // Code to execute

    if Cond2 then
      Exit;

    // Code NOT to execute if Cond2 is true
  finally
    // Code to execute even when Exit was called
  end;
end; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-27T15:01:25.247

这通常是这样实现的：

```
function testOne: Boolean;
begin
  ...
end;

function testTwo: Boolean;
begin
  ...
end;

procedure runTests;
var
  bOK: Boolean;

begin
  bOK = True;

  if bOK then
  begin
    // Test something
    bOK = testOne;
    // If we passed, keep going
  end;

  if bOK then
  begin
    // Test something else
    bOK = testTwo;
    // If we passed, keep going
  end;

  ...
end; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-27T10:23:37.187

通常使用 break 或 GOTO 不被认为是一种优雅的编程风格。我建议你只是颠倒你的条件并说：

```
procedure ...
begin

  if .... then
    begin

    here the code to execute

    If (I want to exit <> TRUE) then
      here the code to execute if has exited( in your original code)

end; 
```

这里是要执行的代码

结尾;

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-27T10:37:39.410

您可以使用例外。

在内部 if 或循环中调用 Abort，并在您想要继续的地方捕获 EAbort 异常

```
procedure ...
begin

 try 
  if .... then
    begin

      (*      here the code to execute  *)

      if I_want-to-exit then Abort;

      (*      here the code not to execute if has exited *)

    end;

   except on E: EABORT do ;
   end;

   (*  here the code to execute *)
end; 
```

UPD。有人刚刚对此表示赞同。似乎这个话题很久以前就被埋没了。好的，然后快速总结一下这里和那里的评论中隐藏的内容。

这种方法可能不如 Marjan 的 try-exit-finally 一种，见他的回答：[https ://stackoverflow.com/a/11689392/976391](https://stackoverflow.com/a/11689392/976391)

Delphi 中的例外情况稍微便宜一些，Borland 在这方面持有的专利很少，但仍然`finally`可能比`raise`+执行得更快`except`。

OTOH，由于可以使用异常取消和不同的分类，这种方法可以概括为具有多个嵌套的可退出 if 块和不同的退出目标。而且我觉得代码更简洁，更好地表达了开发人员（主题启动者）的思路，当 except-block 只是一个退出锚点时，真正的代码在它之后，而不是在它里面（最终解决方案所需要的） ）。

```
type EExitException1 = class(Exception) end;
type EExitException2 = class(Exception) end;
procedure ...
begin

 try 
  if .... then
    begin

      (*      here the code to execute  *)
       try
         if .... then
         begin

            (*      here the nested code to execute  *)

            if I_want-to-exit then raise EExitException1.Create();

            (** ...  **)
            if I_want-to-exit-far-away then raise EExitException2.Create();

            (*      here the code not to execute if if-block cancelled *)

         end; // if

       (*      here the code to execute  *)  

       if I_want-to-exit-outer-if-here then raise EExitException2.Create();

        (*      here the code not to execute  *)  

       except on E: EExitException1 do ; end; // killing the exception

       (*      here the code to execute after the outer if-block exit *)

    end;

   (* one more piece of skippable code *)

   except on E: EExitException2 do ; end;

   (*  here the code to execute yet again *)
end; 
```

然而，这种概括也往往很快变成意大利面条，只是另一种。

诚然，这个问题看起来很糟糕，需要对整个部分进行重构。如果不进行重构，所有解决方案都会以某种方式变得混乱。如果梯子，普通旧`goto`，标志变量 - 选择你的毒药。我们可以争论到底哪一个不那么丑，但他们都丑。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-07-27T16:16:46.587

在阅读了不同的评论之后，我决定发布一个答案来展示如何使用[GoTo 指令](http://docwiki.embarcadero.com/RADStudio/en/Declarations_and_Statements#Goto_Statements)......顺便说一句，我更喜欢其他答案中解释的其他方法，避免使用它：

```
procedure ...
label
  CodeToExecute;
const
  iWantToExit = True;
begin
  if ... then
    begin
      ShowMessage('here the code to execute 1');
      if iWantToExit then
        goto CodeToExecute;

        ShowMessage('here the code not to execute if has exited');
    end;

CodeToExecute:
  ShowMessage('here the code to execute 2');

end; 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-27T10:52:03.000

使用本地`inline`程序代替`GOTO`语句； `GOTO`这句话降低了代码的可见性。

```
procedure ...

  procedue Check; inline;
  begin
    if .... then
      begin

        here the code to execute

        if (I want to exit = TRUE) then
          exit;

        here the code not to execute if has exited

      end;
  end;

begin

  Check;

  here the code to execute

end; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-27T17:53:25.910

您可以使用以下方法通过使用“break”退出“if”块。以下示例假设表单上有两个编辑框。`repeat ... until true;`取代了通常的`begin ... end;`

```
 if ... then
   repeat
     Edit1.Text := 'test';
     if someCondition then 
       break;
     Edit2.Text := 'test';
   until true; 
```

编辑：澄清，解决方案只是假设问题是一个脑筋急转弯。这不是我推荐的处理这种情况的方法，我永远不会在我的代码中使用它。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2019-10-03T09:28:55.333

可读代码

// if cond1 then if cond2 then if cond3 then -

```
procedure cond1_cond3;
begin

  if 
   not(Cond1) then exit;

cond1_work;

  if 
   not(Cond2) then exit;

cond2_work;

  if 
   not(Cond3) then exit;

cond3_work;

end;

procedure All_Work;

begin
   All_work_1;

   cond1_cond3; 

  All_work_2; 

end 
```**

# android - Android GPS定位速度不可靠

> ID：11685842
> 
> 赞同：14
> 
> 时间：2012-07-27T10:18:10.077
> 
> 标签：android, location, locationmanager

写一个GPS测井应用~

我发现由报告的`getSpeed()`方法返回的值非常不可靠。我正在使用，过滤通过提供的位置以获得最佳准确性。即使在个位数的精度水平下，返回的速度通常也高得离谱。当手机静止时，我们正在谈论高达 200 英里/小时（是的，我知道它以米/秒为单位）。`Locations``LocationManager``LocationManager.GPS_PROVIDER``onLocationChanged`

我正在两个不同型号的 Android 手机上测试相同的代码库，运行两个不同的操作系统版本，并看到相同的问题，所以我认为这是一个代码问题。

我错过了什么？我试过在一段时间内平均位置，但无济于事。我是否必须根据行驶距离/时间计算出自己的速度值？这将令人失望。

正如您将看到的，我没有做任何特别的事情 - 稍微过滤以提高准确性，即使在这之后，即使位置的准确性很好`AverageSpeed`，`_bestLocation.getSpeed()`也经常不可行地高。

```
public void onLocationChanged(Location location) {
    if (location.getAccuracy() < 25f) {
        _recentLocations.add(location);

        if (_bestLocation == null || location.getAccuracy() <= _bestLocation.getAccuracy())
            _bestLocation = location;
    }

    if ((_bestLocation != null && _bestLocation.getAccuracy() < 10f && _recentLocations.size() >= 10)
            || _recentLocations.size() >= 25)
    {
        int Count = 0;
            float TotalSpeed = 0f;
            float AverageSpeed = 0f;
            for (int i = 0; i<_recentLocations.size(); i++) {
                if (_recentLocations.get(i).hasSpeed()) {
                    Count++;
                    TotalSpeed += _recentLocations.get(i).getSpeed();
                }
            }

        if (Count > 0)
                AverageSpeed = TotalSpeed / Count;
        }
} 
```

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-07-27T11:23:35.363

我已经在 GPS 硬件上工作了 7 年多了。准确度读数也不是 100% 准确的。制造商说明精度以及用于测量它的系统。CEP、RMS、2DRMS 和 R95 是其中的一些系统。阅读本文了解更多信息：[http ://en.wikipedia.org/wiki/Circular_error_probable](http://en.wikipedia.org/wiki/Circular_error_probable)

准确度数字不包括异常值。例如，如果规定精度为 5 米，则在良好信号条件下读取的读数在 95% 的情况下最大误差为 5 米。剩下的 5% 读数或在不良信号条件下读取的读数无话可说。防止这些异常值是使基于位置的良好应用程序脱颖而出的特殊方法。

您可以做的一些事情是：

1.  过滤出疯狂的高速。利用高度作为在飞机上的提示。
2.  关联来自运动传感器的信息，看看它们是否与 GPS 一致。运动传感器特征在稳态和运动中会有很大不同。
3.  GSM/3G 小区的典型尺寸在城市地区不到一公里，在人口稀少的地区为 5-10 公里。如果车辆高速行驶了一段时间，而手机信号塔的信息还是一样的，你就知道有问题了。
4.  GPS 定位是否也会高速读取北向，下一刻向南读取？如果是，则很可能是 GPS 错误。
5.  检查 GPS 计算中使用的卫星数量。12 是优秀的，9 是健康的，5 或更少是差，4 是 lat,lon + 高度计算的最低限度，3 是 lat,lon 计算的最低限度。任何小于 3 的都不是有效读数。如果卫星数量多，您可以对数据的有效性更有信心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:27:41.773

> GPS 设备是定位速度计，基于接收器自上次测量后移动了多远。它的速度计算不受与车辆速度计相同的误差源（车轮尺寸、传动/传动比）的影响。相反，GPS 的定位精度以及其计算速度的精度取决于当时的卫星信号质量。当位置误差与位置变化的比率较低时，速度计算将在较高速度下更准确。

来自维基百科。

可能你应该在信号强度好的地方试试这个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:38:12.747

我遇到了同样的问题。我认为 GPS 信号取决于位置，某些位置可能会给出位置的准确输出，否则会产生“不那么可靠”的结果。就我而言，我的位置距离我的实际位置大约 200 米。你呢？

另外，GPS_PROVIDER 在我所在的地区不起作用。NETWORK_PROVIDER 确实如此，它是提供 200 米外结果的那个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-12T16:34:05.050

似乎大多数人都假设来自 GPS 的速度信息是基于比较与时差相关的位置。这种方法对于确定速度不是很好，在较低的行驶速度下效果更差。

GPS 接收器可以基于来自卫星测量的多普勒频移输出速度测量。与基于位置/时间计算的速度测量相比，基于多普勒的速度测量的准确性要好得多。

谷歌上的 gps 速度多普勒和你会发现很多阅读。

一个链接在这里： http: [//nujournal.net/HighAccuracySpeed.pdf](http://nujournal.net/HighAccuracySpeed.pdf)

/城市霍姆达尔

# jquery - jquery如何访问表格的单元格

> ID：11685851
> 
> 赞同：0
> 
> 时间：2012-07-27T10:18:33.243
> 
> 标签：jquery

**如何访问表格行的单元格（JQuery）**

```
 for(i=0; i<6; i++)
                {
                if(document.getElementById(myData[i]).value !=0)
                {
                var nameInput = document.getElementById(myData[i]).name;

                var Quan = document.getElementById(myData[i]).value;
                //Create a new row with an ID
                var newRow = $('<tr />').attr('id', 'row' + rowNumber);
                //Add some HTML to the row
                newRow.html('<td>' + nameInput + '</td><td>' + Quan + '</td>');

                //Append the new row to the body of the #myTable table
                $('#myTable tbody').append(newRow);

                //Iterate row number
                rowNumber++;
                }
                } 
```

我正在动态创建表，并希望使用单元格的先前值添加到新表中。你能指导如何做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:26:40.390

您也可以为 td 创建一个 ID，只需简单地选择它

```
$('#_yourid_') 
```

或者

```
document.getElementById('_yourid_') 
```

或者如果该行有一个 id，那么

```
$('#row'+rowNumber).find('td') 
```

您可以通过以下方式选择第一个单元格：

```
$('#row'+rowNumber).find('td:first') 
```

最后由

```
$('#row'+rowNumber).find('td:last') 
```

也许尝试一直使用 jQuery，这通常有助于使代码看起来更干净......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:32:34.950

如何首先将 html 代码存储在字符串中，然后将其设置到表格中。

```
 for(i=0; i<6; i++)
                    {
                    if(document.getElementById(myData[i]).value !=0)
                    {
                    var nameInput = document.getElementById(myData[i]).name;

                    var Quan = document.getElementById(myData[i]).value;
                    //Create a new row with an ID
                    var newRow = $('<tr />').attr('id', 'row' + rowNumber);
                    //Add some HTML to the row 
var htmlCodes = "<tr id='row"+ rowNumber+"'><td>"+nameInput+"</td><td>"+ Quan +"</td></tr>"

                    //Iterate row number
                    rowNumber++;
                    }

                    $('#myTable').html(htmlCodes);

                    } 
```

# asp.net - 类似于 Gmail 的下拉列表

> ID：11685852
> 
> 赞同：0
> 
> 时间：2012-07-27T10:18:41.070
> 
> 标签：asp.net

我有一个正常的`DropDownList`. 我想让它看起来像出现在 gmail 聊天集状态此处部分的 Gmail 下拉菜单。

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T11:19:17.810

可能你可以在这个问题中找到你的答案

**http://stackoverflow.com/questions/327643/how-to-do-drop-down-box-like-more-action-in-gmail**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:21:47.410

您可以使用许多第三方免费的 jQuery 插件。试试 twitter 引导[按钮组](http://twitter.github.com/bootstrap/components.html#buttonGroups)。

# html - 图像被裁剪了一点，就在 IE 中

> ID：11685857
> 
> 赞同：2
> 
> 时间：2012-07-27T10:18:50.577
> 
> 标签：html, image, internet-explorer, cross-browser

出于某种原因，当我在 IE 中打开图像时，下面的图像看起来只是从右侧裁剪了一点，否则在 FireFox/Chrome 中看起来绝对没问题

![在此处输入图像描述](../Images/fc071936f065a7b475b61e7be83becb4.png)

你能告诉我为什么会这样吗？

* * *

![IE中的图像](../Images/826048f09090410bc8495f9124161964.png)IE中的图像

![FireFoz 中的图像](../Images/b0146fd5d67817c7fa41c55d9824171c.png)Firefox 中的图像

* * *

问候泽山

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T11:15:42.527

嗨，我没有确切的解决方案，但我观察到了一些事情。

请使用下面的 HTML 片段。

```
<body>        
    <div style="background-color: green; width: 200px; border-color:yellow;">
         <img src="IE_Bug.gif" alt="IE_Bug.gif" style="width:90%; 
           border-width: 3px; border-color:red;">
    </div>
</body> 
```

现在在 Mozilla Firefox 和 InternetExplorer 中打开 HTML 文件。

仔细注意 firfox 中的图像。您可能会注意到，在右侧，当图像的黑暗移动部分越过时，图像中会出现闪烁效果。IE中没有哪个效果。此外，如果我们将图像的宽度增加到 110%，那么在 IE 中，裁剪似乎消失了。在 110% 宽度时，它看起来像图像的右侧边框稍厚。

如果有人能找到有趣的东西，请告诉我。:)

# asp.net-mvc-3 - 我们可以从 ASP.NET MVC 3 项目中调用 Web 服务吗？

> ID：11685872
> 
> 赞同：1
> 
> 时间：2012-07-27T10:19:35.180
> 
> 标签：asp.net-mvc-3, web-services

之前，我在我的主机上发布了一个 Web 服务，它用于我的 ASP.NET 1.0 Web 应用程序。现在，我想将我的 Web 应用程序升级到 ASP.NET MVC 3（或 4）项目，我可以或应该重新使用我现有的 Web 服务吗？

提前感谢您的任何想法和建议！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:23:06.333

是的，您可以重用现有的 Web 服务。完全没有问题。只需添加一个服务引用并从您的 MVC 应用程序中使用它。例如，您可以有一个存储库的实现，而不是访问数据库，而是实例化 Web 服务代理并访问 Web 服务以获取数据。

# ios - MKAnnotationView

> ID：11685875
> 
> 赞同：0
> 
> 时间：2012-07-27T10:19:46.440
> 
> 标签：ios, mkannotationview

我使用此代码创建我的自定义注释视图。

```
- (MKAnnotationView *)mapView:(MKMapView *)mV viewForAnnotation:(id <MKAnnotation>)annotation {

    MKPinAnnotationView *pinAnnotation = nil;
    if(annotation != myMapView.userLocation) {
        static NSString *defaultPinID = @"myPin";
        pinAnnotation = (MKPinAnnotationView *)[myMapView dequeueReusableAnnotationViewWithIdentifier:defaultPinID];
        if ( pinAnnotation == nil )

            pinAnnotation = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:defaultPinID];

        pinAnnotation.canShowCallout = YES;

        //instatiate a detail-disclosure button and set it to appear on right side of annotation
        UIButton *infoButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        [infoButton addTarget:self
                       action:@selector(showRestaurantDescription)
             forControlEvents:UIControlEventTouchUpInside];
        pinAnnotation.rightCalloutAccessoryView = infoButton;
    }    
    return pinAnnotation;
} 
```

我的问题是如何将参数发送到我的选择器：-showRestaurantDescription：

因为我认为我可以将标签添加到按钮并处理它，但我需要最好的选择方式，因为我的餐厅有阵列，当我点击混凝土别针时，我需要显示当前餐厅。所以这种情况下的标签不像我想的那样方便。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:58:11.497

您应该使用委托方法`mapView:annotationView:calloutAccessoryControlTapped:`来监听按钮上的点击。该方法被传递了一个`annotationView`具有`annotation`属性的方法。您可以使用注释属性来确定它是哪家餐厅。

另外，你忘了冒号`action:@selector(showRestaurantDescription)`吗？

# apache - 如何通过mediawiki的重写规则替换&和+？

> ID：11685886
> 
> 赞同：2
> 
> 时间：2012-07-27T10:20:52.680
> 
> 标签：apache, mod-rewrite, mediawiki

我尝试了很多方法，但没有成功的结果。

目标 wiki 访问网址：www.example.com/wiki/Ampersand_%26_nextampersand_%26_plus_%2B_nextplus_%2B_text

Apache 在内部将 %26 和 %2B 处理为 & 和 + 所以我们需要再次将其转换为 url 样式。（如此处提到的 www.mediawiki.org/wiki/Manual_talk:Short_URL/Ampersand_solution#Another_solution）

以下示例仅处理 & 或 + 的 1 次出现，未合并。

```
RewriteEngine on 
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^wiki/(.*)\&(.*)$ w/index.php?title=$1\%26$2
RewriteRule ^wiki/(.*)\+(.*)$ w/index.php?title=$1\%2B$2
RewriteRule ^wiki/(.*)$ /w/index.php?title=$1 [PT,L,QSA]
RewriteRule ^/?wiki/*$ /w/index.php [L,QSA]
RewriteRule ^/*$ /w/index.php [L,QSA] 
```

问题是如何将所有 & 和 + 符号替换为 %26 和 %2B 并最终转发到处理 index.php。

我尝试过类似的方法

```
RewriteRule ^([^+]*)\+(.*) $1%2B$2 [N] #freezes
RewriteRule ^wiki/([^+]*)\+(.*) wiki/$1%2B$2 [N] #freezes 
```

和许多其他人（组合）从以下建议，但我找不到有效的解决方案。

[Apache Mod Rewrite - 替换：用另一个字符](https://stackoverflow.com/questions/1345314/apache-mod-rewrite-replace-character-with-another)

[mod_rewrite：用破折号替换下划线](https://stackoverflow.com/questions/1279681/mod-rewrite-replace-underscores-with-dashes)

肯定有一个解决方案，因为维基百科正在使用一些成功的方法来做到这一点。

[http://en.wikipedia.org/wiki/%26_Yet_%26_Yet](http://en.wikipedia.org/wiki/%26_Yet_%26_Yet)

[http://en.wikipedia.org/wiki/C%2B%2B](http://en.wikipedia.org/wiki/C%2B%2B)

有任何想法吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T23:33:05.690

看来我需要一些休息时间和新的搜索，所以我终于可以回答我自己的问题了。

解决方案隐藏在这里：

[http://www.mediawiki.org/wiki/Manual:Short_URL/Allowing_for_escaped_characters_in_URI](http://www.mediawiki.org/wiki/Manual:Short_URL/Allowing_for_escaped_characters_in_URI)

```
RewriteEngine on
RewriteBase /

RewriteRule ^wiki$ wiki/Main_Page [R,NC]
RewriteRule ^wiki/$ wiki/Main_Page [R,NC]

RewriteCond %{THE_REQUEST} ^[A-Z]+\ /wiki/([^?\ ]+)
RewriteRule ^wiki/(.+)$ /w/index.php?title=%1 [NE,L,QSA] 
```

# python - 两个文档之间的 Sphinx 连接

> ID：11685896
> 
> 赞同：4
> 
> 时间：2012-07-27T10:21:31.520
> 
> 标签：python, python-sphinx

我正在为一些 python 项目编写文档。我在连接两个或更多文档时遇到问题 - 我有三个 Sphinx 项目（文档），我希望能够在一般文档中添加指向详细文档的链接。

我有这样一个项目结构：

```
project/
|     doc/                          # this is my general doc
|     |    source/                  # sphinx general doc .rst files are here
|     |     build/
|     |    _static/
|     |    _templates/
|     |    CVS/
|
|
|     forms/
|     |    doc/
|     |    |    source/             # sphinx forms doc .rst files are here
|     |    |     build/
|     |    |    _static/
|     |    |    _templates/
|     |    |    CVS/    
|     |     
|     |    src/                     # forms source .py files are here
|
|     tables/
|     |    doc/
|     |    |    source/             # sphinx tables doc .rst files are here
|     |    |     build/
|     |    |    _static/
|     |    |    _templates/
|     |    |    CVS/    
|     |     
|     |    src/                     # tables source .py files are here 
```

Forms doc 和 Tables doc 都包含从源文件生成的文档，使用

**.. automodule::**指令。

如何在我的常规文档中创建指向表单和表格文档的链接？

也许我需要重组一些东西？

我已经阅读了一些关于 intersphinx 的内容，但到目前为止，我发现的示例仅显示如何链接到

通过在 sphinx 项目的 conf.py 文件中指定 URL 来编写 Python 标准库文档，如下所示：

```
intersphinx_mapping = {'python': ('http://docs.python.org/3.2', None)} 
```

我不知道如何用不同于标准库的东西来创建这样的东西，我想

**通过相对路径而不是 URL**指定其位置- 有什么想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T01:21:10.803

intersphinx 配置中的位置（在您的示例中为“http://docs.python.org/3.2”）实际上可以是任何 URI 或目录的路径，其中有一个名为 objects.inv 的文件，该文件由 HTML 创建builder 并包含名称和链接的注册表。尝试使用类似“../forms/_build/html”的东西。

# html - 如何在跨度元素中应用空间

> ID：11685897
> 
> 赞同：19
> 
> 时间：2012-07-27T10:21:32.803
> 
> 标签：html

我一直在尝试在 span 元素中应用一个空格，但无法做到。

在我的应用程序中，我有以下两个跨度元素。

```
<span style='color:red;margin-right:1.25em'>*</span> 
<span style='color:red;margin-right:1.25em'>&nbsp;</span> 
```

将这两个跨度应用于不同的字段以使它们进入相同的对齐级别，但我有以下问题。PFB ![在此处输入图像描述](../Images/8213dda0e030fb920ab236156657823c.png)

上面的代码有什么问题吗

名字字段应该向右移动一点以便正确对齐。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-07-27T10:26:16.800

边距应用于**块**或**内联块**元素

但不是像**内联**元素

**跨度**标签

试试这个

```
<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;</span> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-27T10:46:24.457

由于`span`默认情况下元素是内联元素，因此规范会忽略它们的水平边距。您可以将它们设置为内联块（大多数但不是所有浏览器都支持），或者使用填充而不是边距。

这可能不会解决最终的问题，因为字符“*”和不间断空格的宽度不同，除非是偶然的。要设置一个包含表单字段和相关标签和说明的数据表，请使用 HTML 表，然后在 CSS 中添加一点样式。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2021-09-20T08:41:50.863

尝试将此 CSS 规则添加到您的 span-space 元素：

`white-space: pre;`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-10-07T10:55:10.533

这个解决方案对我有用，

```
<span>\u00A0</span> 
```

或者

```
<span>&nbsp;</span> 
```

# sip - 使用 tcpdump 捕获 RTP 和 SIP 流量

> ID：11685903
> 
> 赞同：18
> 
> 时间：2012-07-27T10:22:00.287
> 
> 标签：sip, rtp, tcpdump

我需要捕获 SIP 和 RTP 流量以找出问题所在。我可以很好地捕获 SIP 消息，但在捕获 RTP 流量时遇到问题。

我尝试了以下方法，但这只是取出 SIP 包而没有 RTP。

> tcpdump -T rtp -vvv src -s 1500 -i any -w /home/lantrace_test2.pcap 端口 5060

我正在考虑的另一种方法是 rtp 使用一系列 UDP 端口，捕获我们用于 RTP 流量的范围，但我找不到捕获一系列端口的方法，所以不确定 tcpdump 是否支持捕获的端口范围

感谢您的任何帮助，您可以提供

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-27T14:21:25.187

如您所知，您的 SIP 流量超过 5060，但嗅探 RTP 的端口由 SIP 消息的 SDP 正文描述。换句话说，在提议/答案交换完成之前，无法知道要嗅探哪些端口。

如果您对所涉及的用户代理有所了解，那么您可以尝试一些技巧，例如在一系列端口上捕获流量。（`tcpdump -n dst portrange 10000-11000`例如。）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-05-27T22:04:17.687

你可以尝试这样的事情：

```
tcpdump -i bond3 udp port 5060 or udp portrange 10500-11652 -s 0 -w filename.cap 
```

有了这个，您将捕获 SIP 和媒体

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-10-23T15:34:53.003

看一下**pcapsipdump**：以与“tcpdump -w”相同的格式将 SIP/RTP 会话写入磁盘，但每个 SIP 会话一个文件。或者使用 tshark 进行过滤，如此[处](https://stackoverflow.com/questions/6073868/how-to-stream-pcap-file-to-rtp-rtcp-stream)所述。

# ssis - 为什么 SSIS Excel Source 不读取空列？

> ID：11685906
> 
> 赞同：1
> 
> 时间：2012-07-27T10:22:26.303
> 
> 标签：ssis

我有一个日历表 Excel 文件。每个月都会添加一个新列。

我不应该阅读列名。当我在 5 月开发 ETL 时，我将虚拟列放置到 12 月。Excel 文件是这样的（列）：

```
customer  jan12  feb12  mar12  apr12  may12 
```

为了在 ETL 中形成元数据数据，我在 12 月之前添加了虚拟列：

```
customer jan12 feb12 mar12 apr12 may12 mon mon mon mon mon mon mon 
```

然后在 SSIS Excel Source 中我写了一个查询：

```
select * from Sheet1$A2:M1624 
```

（不读取列名并读取直到 dec 列）

现在在六月的 Excel 文件是这样的：

```
customer jan12 feb12 mar12 apr12 may12 jun12 
```

由于我创建了元数据，我认为加载将是和平的。我的命运 ETL 失败了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T11:19:04.367

在运行时，即使在创建源时提供了这些列的元数据，SSIS 也不会从 excel 文件中加载空白列。问题场景：我们在 excel 源中定义了 10 列，并将它们与目标中的 10 列进行映射。在运行时，如果我们只遇到 3 列形式的 excel 源，则 excel 源将重建元数据（自动）到只有 3 列。由于目标映射为 10 列，因此包在验证阶段失败。

因此，为了读取具有不同列的 excel 文件，我们需要中继脚本任务。但是这里的限制是您至少应该知道您在 excel 中可能拥有的最大列数。这是我们可以留下的东西。

[解决方案](http://micktechblog.blogspot.in/2011/06/ssis-excel-import-with-unknown-number.html)

# css - 这个 CSS 路径名是什么意思？

> ID：11685912
> 
> 赞同：0
> 
> 时间：2012-07-27T10:22:44.353
> 
> 标签：css

我在我正在处理的一个项目中看到了这个 CSS 路径名，因为我不太了解 CSS，所以我不明白它的实际含义。CSS看起来像这样：

```
body input.name_of_class {
    /*some properties here*/
} 
```

是什么`body input`意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:23:21.910

这意味着所有带有类名的`<input>`标签都会受到影响`<body>``name_of_class`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:38:47.210

如果你想知道这些选择器，你也可以谷歌搜索`cheat sheet`。

[我对 CSS2 的发现](http://www.cheatography.com/davechild/cheat-sheets/css2/)

[我对 CSS3 的发现](http://hyper-text.org/dl/css3_selectors_cheatsheet.pdf)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:31:12.660

基本上`CSS`你看到的是试图在一些元素上应用一些样式，这些`input`元素有一个类**someClass**并且它们在体内。

所以

```
body input
{
/*some style*/
} 
```

可以将这些样式应用于`input`页面上的所有元素。

因此，要缩小您的选择范围，您可以使用

```
body input.someClass
{
/*some style*/
} 
```

这会将样式应用于类**someClass**的所有输入元素。

# java - 了解有关 Class 的 FindBugs 警告不会覆盖超类中的 equals

> ID：11685914
> 
> 赞同：3
> 
> 时间：2012-07-27T10:22:48.700
> 
> 标签：java, intellij-idea, equals, hashcode

根据 Java 中的 Josh Bloch 所说：

> 除非您愿意放弃面向对象抽象的好处

所以这是我的情况，我有一个类`Foo`已被 Intellij Idea 覆盖`equals()`并`hashcode()`实现。现在我有另一个类`FooChild`，它扩展`Foo`并添加了几个字段到“Foo”。现在 FindBugs 正在抱怨 FooChild：

> 类不覆盖超类中的equals 此类扩展了一个定义equals 方法并添加字段的类，但本身没有定义equals 方法。因此，此类实例上的相等性将忽略子类的身份和添加的字段。确保这是预期的，并且您不需要覆盖 equals 方法。即使您不需要重写 equals 方法，也请考虑重写它以记录子类的 equals 方法仅返回调用 super.equals(o) 的结果这一事实。

我的问题是“**这个类的实例上的相等意味着什么将忽略子类的身份**？我理解关于忽略添加字段的部分，因为`equals()`尚未为它们编写任何方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T11:50:09.403

> “此类实例上的平等将忽略子类的身份”是什么意思？

如果类`Foo`有一个`equals()`方法，则`FooChild`继承它，这意味着如果您比较`FooChild`using的两个实例，则将调用`equals()`该方法。`Foo.equals()`

如果`FooChild`有任何数据成员，那么两个实例可能`FooChild`在它们的部分中具有相同的成员值`Foo`，但在类中直接定义的成员的值不同。但是该`Foo.equals()`方法只会查看 中定义的成员`Foo`，因此会将两个这样的对象发音为`equals()`，即使它们的`FooChild`部分不同。

这就是为什么您需要`equals()`在`FooChild`.

现在，如果你比较 a`Foo`和 a `FooChild`using `equals()`，当两个类都有自己的版本时会发生`equals()`什么？这取决于您调用哪个对象`equals()`，并且取决于您如何实现这两种`equals()`方法。坦率地说，这是一团糟！这就是第一句话的含义，来自 Josh Bloch。定义这两种`equals()`方法是不可能的，所以它们总是做正确的事情。因此，最好避免一个值类（即身份与其成员变量的值绑定的类）扩展另一个值类的情况。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T10:32:10.367

`equals`首先，在计算or`hashCode`方法时，不应包含来自超类的任何状态。该状态超出了您正在处理的类的范围，您的类应该依赖于超类而不是重写它的功能。

使用 IntelliJ生成`equals`和`hashCode`使用时，如果您想包含来自父类的任何计算，只需对添加调用`super.equals(o)`or的方法进行小的修改`super.hashCode()`。

实现这些方法的另一种方法是使用 Apache Commons Lang 库中的and [，](http://commons.apache.org/lang/)[`EqualsBuilder`](http://commons.apache.org/lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html)这些构建器提供语义来添加超级调用。[`HashCodeBuilder`](http://commons.apache.org/lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html)

**编辑：**

回答*“此类实例上的相等性意味着什么将忽略子类的身份？”* ：正如您已经指出的那样，这意味着如果您有两个类，一个扩展另一个类，并且子类既不覆盖`equals`或也不覆盖`hashCode`，那么，在检查两个实例是否相等（或添加到散列结构）时，两者都会表现得好像他们来自同一个班级。这是一个例子：

```
class A {
   private int intField = 2;

   public A(int value) {
       intField = value;
   }

   public boolean equals(Object o) {
       if (null == o) return false;
       if (this == o) return true;
       if (!(o instanceof A)) return false;

       return intField == ((A) o).intField;
   }

   public int hashCode() {
       return 11 * intField;
   }
}

class B extends A {
   private boolean boolField = true;

   public B(int intValue, boolean boolValue) {
       super(intValue);
       boolField = boolValue;
   }

   // no equals or hashCode
} 
```

因此，使用这些课程，您将面临以下问题：

```
A a = new A(12);
B b = new B(12, false);
b.equals(a);    // returns true 
```

为避免这种情况，只需在 IntelliJ 中生成它们后在内部`equals`或方法中添加一个超级调用。`hashCode`

```
class B extends A {
   private boolean boolField = true;

   public B(int intValue, boolean boolValue) {
       super(intValue);
       boolField = boolValue;
   }

   public boolean equals(Object o) {
       if (null == o) return false;
       if (this == o) return true;
       if (!(o instanceof B)) return false;
       if (!super.equals(o)) return false;

       return boolField == ((B) o).boolField;
   }

   public int hashCode() {
       int hash = super.hashCode();
       hash += 11 * Boolean.valueOf(boolField).hashCode();
       return hash;
   }

} 
```

正如我已经说过的，其他方式是使用 Apache Commons Lang 库中的构建器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T12:04:46.277

处理此类问题的通常方法是诉诸组合而不是继承。这是必要的，因为正如 Josh Block 在他的优秀著作“Effective Java”中所详述的那样，你不能真正重写一个考虑属性的 equals(Object) 实现而不破坏 equals(Object) 的一般合同。

例子：

```
class Foo {
    boolean property;

    public boolean equals(Object that) {
        return this == that
            || (that instanceof Foo)
                && this.property == ((Foo) that).property;
    }

    public int hashCode() { ... } // needs to be consistent with equals(Object).
}

class Bar extends Foo {
    boolean anotherProperty;

    // This is broken - DO NOT USE IT!
    public boolean equals(Object that) {
        return super.equals(that)
            && (that instanceof Bar)
            && this.anotherProperty == ((Bar) that).anotherProperty
    }

    public int hashCode() { ... } // needs to be consistent with equals(Object).
} 
```

现在为什么 Bar.equals(Object) 的实现被破坏了？仅仅因为它打破了对称性！这是证明：

```
Foo foo = new Foo();
Bar bar = new Bar();
assert foo.equals(bar); // passes because bar is a Foo and property is zero
assert bar.equals(foo); // throws up because foo isn't an instance of Bar! 
```

使用继承无法解决此类问题。你需要使用组合。

因此，在覆盖它们时将 equals(Object) 和 hashCode() 方法声明为 final 通常是一个好主意，这样它们就不会因实现损坏而再次被覆盖。

# javascript - Django应用程序中的翻转图像

> ID：11685915
> 
> 赞同：-1
> 
> 时间：2012-07-27T10:22:50.150
> 
> 标签：javascript, python, django

当用户单击缩略图时，我想在同一模板上以大格式显示缩略图。我发现这可以通过在 django 模板中实现 javascript 翻转来完成。如何使用 javascript 翻转在同一模板上以大图像显示缩略图？

模板：

```
{% block content %}

 <p><strong><center> {{ post.title }} </center></strong> </p>
 <p><center><a href="{{ MEDIA_URL }}/{{post.main_view}}"><img src="{{post.thumbnail_1.url}}" width="83" height="78"></a> <a href="{{ MEDIA_URL }}/     {{post.side_view}}"><img src="{{post.thumbnail_2.url}}" width="83" height="78"> </a>
 {% endblock %} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T13:03:11.353

尝试使用这个： [http ://superdit.com/2011/06/11/hover-image-zoom-with-jquery/](http://superdit.com/2011/06/11/hover-image-zoom-with-jquery/)

这是最终结果： [http ://demo.superdit.com/jquery/zoom_hover/](http://demo.superdit.com/jquery/zoom_hover/)

# java - Google App Engine (Eclipse) 仍支持 AppWrench？

> ID：11685916
> 
> 赞同：3
> 
> 时间：2012-07-27T10:22:53.440
> 
> 标签：java, google-app-engine, eclipse-plugin, google-cloud-datastore

我阅读了有关 AppWrench 的文章，它看起来像是一个用于本地应用程序引擎数据存储查看和操作的出色实用程序，但它似乎已经过时了。他们网站上的最后一个支持论坛帖子（有回复）已经超过 2 年了。

由于 GAE 和 DataStore 一直在改进，我想知道这个工具是否仍然适用于本地开发？

当我尝试通过在 Eclipse 中安装新软件来安装它时，我收到了这个错误：

```
Cannot complete the install because one or more required items could not be found.
  Software being installed: App Wrench 1.5.0 (com.onpositive.gae.appwrench.feature.group 1.5.0)
  Missing requirement: App Wrench 1.5.0 (com.onpositive.gae.appwrench.feature.group 1.5.0) requires 'org.mortbay.jetty.util 0.0.0' but it could not be found 
```

在我花很多时间下载和安装任何缺少的依赖项之前（我正在使用带有最新应用程序引擎/gwt 插件的 Eclipse IDE Java Juno 版本），你能告诉我**Appwrench 是否仍然有效**？

相反，Google 是否计划尽快增强开发服务器 Datastore Viewer 以匹配生产功能？还有其他想法吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T04:35:32.713

这是一个了不起的工具，但我担心它看起来像是废弃软件。真可惜，本地（和远程）数据存储编辑控制台非常有用。我在 Eclipse Juno 32 上遇到了和你一样的错误，包括 Windows 和 Linux :-(

可能有一种方法可以重新打包插件，使其在 Juno 下工作。不确定是否值得付出努力，即使在 Eclipse 3.7 上，大约 50% 的功能也不适合我。查看这些答案：[使用 Eclipse 安装 GWT 插件](https://stackoverflow.com/questions/11285757/installing-gwt-plugin-with-eclipse)

顺便说一句，最近有人在 GAE 论坛上询问有关数据存储控制台的反馈，该控制台将提供 AppWrench 曾经提供的一些功能：[https ://groups.google.com/d/msg/google-appengine/CtjsZukJyL4/bmg582Ow7uAJ](https://groups.google.com/d/msg/google-appengine/CtjsZukJyL4/bmg582Ow7uAJ)

# java - Java：添加包语句时出现 NoClassDefFoundError

> ID：11685917
> 
> 赞同：0
> 
> 时间：2012-07-27T10:22:53.913
> 
> 标签：java

java源代码如下：

```
package test;

public class DotMain {
    public static void main(String... args) {
        String s1 = "abcdex";
        String s2 = "ac";
        boolean[] r1 = new boolean[26];
        for (char c : s1.toCharArray())
            r1[c - 'a'] = true;
        boolean contained = true;
        for (char c : s2.toCharArray()) {
            if (!r1[c - 'a']) {
                contained = false;
                break;
            }

        }
        System.out.println(contained);
        System.out.println(s1 + s2);
    }
} 
```

如果没有“包测试”；相应的类文件将表现正确。但是当我添加“包测试；” 发生了标题中所述的异常。有什么不对？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:24:45.927

Chances are you're not building it properly or not running it properly.

Build it like this (filling in the path information appropriately):

```
javac -d . path/to/DotMain.java 
```

Run it like this:

```
java test.DotMain 
```

(You can change the output directory specified by `-d` of course, at which point you should either add that directory to the classpath or change to that directory before running.)

# asp.net - 根据 SQL Server 和 ASP.NET 中的当前日期和时间从数据库中检索数据

> ID：11685919
> 
> 赞同：0
> 
> 时间：2012-07-27T10:23:06.410
> 
> 标签：asp.net, sql, sql-server, datetime

我试图`Paper_Details`根据当前日期和当前时间前 15 分钟从我的表中获取信息。

这是我的`SELECT`声明

```
objcmd.CommandText = "Select * from PAPER_DETAILS where ExamDate = Convert(date, getdate()) and StartTime = (Convert(time, getdate()) - 15)" 
```

但是，它显示了这个错误

> 类型 date 不是定义的系统类型。
> 类型时间不是定义的系统类型

我正在使用 SQL Server 2005 和使用 VB 的 ASP.NET。

[我从这里](http://www.sqlservercentral.com/Forums/Topic1076143-391-1.aspx)参考上述查询

提前致谢 ！！

**更新**

```
StartTime           |   ExamDate   
____________________|_____________________________
1/1/1900 4:20:00 PM | 7/27/2012 12:00:00 AM 
```

我的表的示例数据，这将有助于您理解场景。

从上面的示例数据中，我希望用户只能在`7/27/2012`from`4:05:00 PM`到上查看与该行相关的信息`4:20:00 PM`。我希望，每个人都理解我的情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:36:14.793

```
objcmd.CommandText = "Select * from PAPER_DETAILS " + 
                     "where ExamDate=dateadd(dd,0, datediff(dd,0, getDate()) " + 
                     "and (getDate() >= DATEADD(n, -(DATEPART(minute, StartTime) " + 
                     "+ DATEPART(HOUR, StartTime) * 60) - 15, GETDATE())) and  " + 
                     "(GETDATE() <= DATEADD(n, (DATEPART(minute, StartTime) + " + 
                     "DATEPART(HOUR, StartTime) * 60), GETDATE()))" 
```

我想您 ExamDate 不包含时间信息，因此您需要一个没有时间信息的当前日期来获得准确的比较。
此外，由于您的字段已经属于 DateTime 类型，因此无需将结果转换为 DateTime

编辑：添加了一个非常复杂的测试，提取 StartTime 小时和分钟，并使用它们来建立检查时间的限制。我无法测试它，所以请告诉我它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:44:23.713

如果您想比较不同的日期和时间-2，请尝试以下操作。

```
objcmd.CommandText = "Select * from PAPER_DETAILS " + 
                 "where CONVERT(varchar(20),ExamDate,101)=Convert(varchar(20),getdate(),101) " + 
                 "and CONVERT(varchar(20),StartTime,108)=CONVERT(varchar(20), dateadd(MINUTE,-15,getdate()),108)" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:33:59.717

用这个

```
Select * from PAPER_DETAILS
where ExamDate >= DATEADD(MINUTE, -15, getdate()) and ExamDate <= getdate() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T16:38:03.580

这是什么，我终于得到了

```
objcmd.CommandText = "SELECT * FROM PAPER_DETAILS WHERE ((ExamDate = DATEADD(dd, 0, DATEDIFF(dd, 0, GETDATE()))) AND ((DATEPART(minute, GETDATE()) >= DATEPART(minute, DATEADD(MINUTE, - 15, StartTime)))  AND (DATEPART(hh, GETDATE()) = DATEPART(hh, StartTime)) AND (DATEPART(minute, GETDATE()) <= DATEPART(minute, StartTime))    ))" 
```

并且，通过一些示例数据验证，它工作正常。！！！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T10:29:14.150

使用 DATEADD 从当前时间减去 15 分钟

编辑：拿走“CONVERT（DATE ..”，因为你真的不需要它并再次测试

```
SELECT *
  FROM PAPER_DETAILS
 WHERE ExamDate  = GETDATE()
   AND StartTime = DATEADD(MINUTE,-15,GETDATE()) 
```

# java - 如何解析 Dynatree JSON 变量？

> ID：11685926
> 
> 赞同：1
> 
> 时间：2012-07-27T10:23:39.870
> 
> 标签：java, jquery, playframework, dynatree, jquery-dynatree

我在 play 2.0 (Java) 中使用 Dynatree 插件。

他们指定 `var dict = $("#tree").dynatree("getTree").toDict();` 以 JSON 对象的形式将整个树保存到单个变量中。

我通过使用将其转换为字符串，`JSON.stringify(dict);`并将字符串返回给控制器。

由于整棵树都存在于一个变量中，因此很难解析并将值保存到数据库中。我尝试使用 JSONParser、Gson 库，但无法解析树。

我想有人已经解决了这个问题。谁能建议我如何解析这个 dynatree 的 JSONtree 变量？

# c# - 在 RenderSection 和 ViewBag 上获取 StackOverflowException

> ID：11685932
> 
> 赞同：0
> 
> 时间：2012-07-27T10:23:52.350
> 
> 标签：c#, asp.net-mvc-4

似乎 ViewBag.Title & @RenderSection(..) 执行了多次，但我不知道为什么会发生

这是一个新项目，我刚刚实现了一个带有 Index.cshtml 包含的单个视图的控制器

```
@{
   ViewBag.Title = "Index";
   Layout = "~/Views/Shared/_Layout.cshtml";
} 
```

和布局：

![在此处输入图像描述](../Images/91ff1c0bd08c15741a0dd9572a6fc784.png)

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:26:08.097

Buried beneath your screenshot I can perceive the root of your problem:

```
<a href="@Html.Action("Inde........
    <img src="~/Content/ima....
</a> 
```

You wanted to use `Url.Action` and not `Html.Action` [which is something entirely different](http://haacked.com/archive/2009/11/18/aspnetmvc2-render-action.aspx).

```
<a href="@Url.Action("Inde........
    <img src="~/Content/ima....
</a> 
```

# c# - 代码合同 - 静态检查器没有可以为空的类型？

> ID：11685933
> 
> 赞同：0
> 
> 时间：2012-07-27T10:23:56.360
> 
> 标签：c#, .net, nullable, code-contracts, verification

我想我在静态合同检查工具中发现了一个错误。除了用 标记整个事物之外，还有其他方法`[ContractVerification(false)]`吗？

```
class Employee
{
    public int? HierarchyLevel { get; private set; }

    public Employee(int? level)
    {
        Contract.Requires<ArgumentException>(
            (!level.HasValue) 
            || 
            level >= 0 && level <= 10);
        Contract.Ensures(
            (!HierarchyLevel.HasValue) 
            || 
            (HierarchyLevel.Value >= 0 && HierarchyLevel.Value <= 10));
        this.HierarchyLevel = level; //unproven

        // this doesnt work either
        //if (!level.HasValue) {
        //    this.HierarchyLevel = new Nullable<int>();
        //} else {
        //    this.HierarchyLevel = new Nullable<int>(level.Value);
        //}

        // can't even make the static checker shut up with that:
        //Contract.Assume(
        //    (!HierarchyLevel.HasValue) 
        //    || 
        //    (HierarchyLevel.Value >= 0 && HierarchyLevel.Value <= 10));
    }
} 
```

令人惊讶的是，以下版本有效。但我不想开始编写单一的代码或引入我自己的 Nullable 版本只是为了取悦合约验证工具。

```
class Employee2
{
    public int HierarchyLevel { get; private set; }
    public bool HasLevel { get; private set; }
    public Employee2(int level, bool hasLevel)
    {
        Contract.Requires<ArgumentException>(!hasLevel || level >= 0 && level <=10);
        if (hasLevel) {
            HasLevel = true;
            HierarchyLevel = level;
        } else {
            HasLevel = false;
            HierarchyLevel = -1;
        }
    }
    [ContractInvariantMethod]
    private void ObjectInvariant()
    {
        Contract.Invariant(
            (!HasLevel) || 
            (HierarchyLevel >= 0 && HierarchyLevel <= 10));
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:32:26.137

首先，您在代码中放错了一些大括号（但这并不能解决您的问题）：

```
Contract.Requires<ArgumentException>(!level.HasValue
    || (level.Value >= 0 && level.Value <= 10));
Contract.Ensures(!HierarchyLevel.HasValue
    || (HierarchyLevel.Value >= 0 && HierarchyLevel.Value <= 10)); 
```

我认为您可能是对的：静态检查器还不能证明一切，并且还依赖于基类库。[该线程](http://social.msdn.microsoft.com/Forums/en-US/codecontracts/thread/5ec889ea-9e31-41a7-bf76-cddcb19eb1dc/)中的人们似乎在谈论静态检查器如何由于一般可空类型的合同实现中的错误而无法正确理解可空类型。

当然你也可以这样写，解决你的问题：

```
Contract.Requires<ArgumentException>(!level.HasValue
    || (level.Value >= 0 && level.Value <= 10);
Contract.Ensures(HierarchyLevel == level); 
```

这是您问题的另一种解决方案。将条件放入单独的方法中，并用 标记该方法[`PureAttribute`](http://msdn.microsoft.com/en-us/library/system.diagnostics.contracts.pureattribute.aspx)（表示该方法没有副作用）。然后，将该方法应用于传入参数和确保值，如下所示：

```
[Pure]
public static bool IsInRange(int? value)
{
    return !value.HasValue
        || (value >= 0 && value <= 10);
}

public Employee(int? level)
{
    Contract.Requires<ArgumentException>(IsInRange(level));
    Contract.Ensures(IsInRange(HierarchyLevel));
    this.HierarchyLevel = level;
} 
```

# jquery - jquery - 在函数中获取鼠标坐标

> ID：11685934
> 
> 赞同：0
> 
> 时间：2012-07-27T10:23:58.513
> 
> 标签：jquery, coordinates, mouseover, mousemove

我可以得到坐标`$(document).ready(function() { $(id).mouemove(function(){}) };`

但是如果我想在函数中获得正确的坐标怎么办？

```
<div id='abc' onmouseover="callFunction(this.id)"></div> 
```

我只是不确定。为什么？

```
function callFunction(arg){
   mouseX = arg.pageX; 
   mouseY = arg.pageY;

   alert('--> ' + mouseX + ' - ' + mouseY);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:40:06.113

`<div id='abc' onmouseover="callFunction(event)">123</div>`

```
function callFunction(e){
console.log(e);
    mouseX = e.clientX;
    mouseY = e.clientY;

    alert('--> ' + mouseX + ' - ' + mouseY);
} 
```

# python - 为什么我得到 AttributeError: Object has no attribute？

> ID：11685936
> 
> 赞同：97
> 
> 时间：2012-07-27T10:24:10.027
> 
> 标签：python, python-multithreading, attributeerror

我有一堂MyThread。在那，我有一个方法示例。我试图从同一个对象上下文中运行它。请看一下代码：

```
class myThread (threading.Thread):
    def __init__(self, threadID, name, counter, redisOpsObj):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.counter = counter
        self.redisOpsObj = redisOpsObj

    def stop(self):
        self.kill_received = True

    def sample(self):
        print "Hello"

    def run(self):
        time.sleep(0.1)
        print "\n Starting " + self.name
        self.sample() 
```

看起来很简单是不是。但是当我运行它时，我得到了这个错误

`AttributeError: 'myThread' object has no attribute 'sample'`现在我有了那个方法，就在那里。那么有什么问题呢？请帮忙

编辑：这是堆栈跟踪

```
Starting Thread-0

Starting Thread-1
Exception in thread Thread-0:
Traceback (most recent call last):
File "/usr/lib/python2.6/threading.py", line 525, in __bootstrap_inner
self.run()
File "./redisQueueProcessor.py", line 51, in run
self.sample()
AttributeError: 'myThread' object has no attribute 'sample'

Exception in thread Thread-1:
Traceback (most recent call last):
File "/usr/lib/python2.6/threading.py", line 525, in __bootstrap_inner
self.run()
File "./redisQueueProcessor.py", line 51, in run
self.sample()
AttributeError: 'myThread' object has no attribute 'sample' 
```

我这样称呼它

```
arThreads = []
maxThreads = 2;

for i in range( maxThreads ):
    redisOpsObj = redisOps()
    arThreads.append( myThread(i, "Thread-"+str(i), 10, redisOpsObj) ) 
```

抱歉，我无法发布 redisOps 类代码。但我可以向你保证，它工作得很好

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2012-07-27T10:41:22.057

您的缩进是错误的，并且您混合了制表符和空格。运行脚本以`python -tt`进行验证。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2018-08-03T15:03:21.007

如果您使用的是 python 3+，如果您使用以双下划线开头的私有变量，例如 self.__yourvariable，也可能会发生这种情况。对于可能遇到此问题的某些人来说，这是需要注意的事情。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2015-07-29T13:12:35.743

在 Python 多线程中，这类错误很常见。发生的情况是，在解释器拆卸时，相关模块（`myThread`在这种情况下）经历了一种`del myThread`.

该调用`self.sample()`大致相当于`myThread.__dict__["sample"](self)`. 但是如果我们在解释器的拆卸序列中，那么它自己的已知类型字典可能已经被`myThread`删除，现在它基本上是一个`NoneType`- 并且没有“样本”属性。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2019-05-19T17:08:21.337

如果您在类中使用**插槽**并且尚未在插槽中添加此新属性，也可能会发生这种情况。

```
class xyz(object):
"""
class description

"""

__slots__ = ['abc', 'ijk']

def __init__(self):
   self.abc = 1
   self.ijk = 2
   self.pqr = 6 # This will throw error 'AttributeError: <name_of_class_object> object has no attribute 'pqr' 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-12-20T03:15:41.217

我在多线程场景中遇到了这个错误（特别是在处理 ZMQ 时）。事实证明，套接字仍在一个线程上连接，而另一个线程已经开始发送数据。由于另一个线程尝试访问尚未创建的变量而发生的事件。如果您的场景涉及多线程，并且如果您增加一点延迟，事情会正常工作，那么您可能会遇到类似的问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-04-16T02:02:01.080

当我有另一个名为 mythread 的变量时发生了同样的错误。该变量覆盖了这个，这就是我得到错误的原因

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-06-06T07:51:17.183

Python 通过在内部更改名称以包含类名来保护这些成员。您可以访问以下属性`object._className__attrName.`

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-01-02T21:58:24.653

我也遇到了同样的错误。我确信我的缩进没有任何问题。只有重新启动 python sell 才能解决问题。

* * *

## 回答 #9

> 赞同：-3
> 
> 时间：2018-09-25T15:28:09.317

您不能访问类的外部私有字段。私有字段以 __ 开头。例如 -

```
class car:
    def __init__(self):
        self.__updatesoftware()

    def drive(self):
        print("driving")

    def __updatesoftware(self):
        print("updating software:")

obj = car()
obj.drive()  
obj.__updatesoftware()  ## here it will throw an error because 
```

__updatesoftware 是一个私有方法。

# php - Facebook like on appli

> ID：11685939
> 
> 赞同：0
> 
> 时间：2012-07-27T10:24:25.207
> 
> 标签：php, facebook, button, facebook-like

I created a little application in Facebook.

But the script that may proceed to check if People LIKE or not the page is not working ...

I have a section just for fans and another one just for non fans ... So when I click on the LIKE button, I assume it would put into the FAN part .. but it doesnt ...

Please see the code :

```
require 'src/facebook.php';

$app_id = "appID";
$app_secret = "appSecret";

$loginNextPage = 'http://www.facebook.com/BenefitCosmeticsFrance'.'?sk=app_'.$app_id;

$facebook = new Facebook(array(
    'appId' => $app_id,
    'secret' => $app_secret,
    'cookie' => true
));

$signed_request = $facebook->getSignedRequest();

$like_status = $signed_request["page"]["liked"];

if ($like_status) {
// FOR FANS
$session = $facebook->getSession();
$loginUrl = $facebook->getLoginUrl(
        array(
        'canvas'    => 1,
        'fbconnect' => 0,
        'next' => $loginNextPage
        /*'req_perms' =>     'publish_stream,photo_upload,user_photos,user_photo_video_tags'            */
        )
);

$fbme = null;

if (!$session) {
    echo "<script type='text/javascript'>top.location.href = ".$loginUrl.";    </script>";  
    exit;   
}
else {

    try {
        $access_token = $facebook->getAccessToken();
        $vars = "access_token=$access_token&pathToServer=$pathToServer&appName=$appName";
    } catch (FacebookApiException $e) {
        echo "<script type='text/javascript'>top.location.href = ".$loginUrl.";</script>";
        exit;
    }
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
</head>
 <body>
 <h1>You Liked The Page</h1>
 <iframe src="//www.facebook.com/plugins/like.php?    href=http%3A%2F%2Fwww.facebook.com%2FBenefitCosmeticsFrance&amp;send=false&amp;layout=standard&amp;width=150&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=35&amp;appId=112625882216036" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:35px;" allowTransparency="true"></iframe>
</body>
</html>
<?php
}   
}
else {
// FOR NON FANS 
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">   
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
  </head>
  <body>
  <h1>You Don't Like the Page</h1>
  <iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2FBenefitCosmeticsFrance&amp;send=false&amp;layout=standard&amp;width=150&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=35&amp;appId=112625882216036" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:35px;" allowTransparency="true"></iframe>
</body>
</html>
<?php

}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:54:21.743

试试这个代码

> ```
> <?php
> require 'facebook.php';
> 
> $facebook = new Facebook(array(
> 
>   'appId'  => 'YOUR APP ID',
>   'secret' => 'YOUR APP SECRET',
>   'cookie' => true,
> ));
> 
> $session = $facebook->getSession();
> 
> $me = null;
> 
> if ($session) {
>   try {
>     $uid = $facebook->getUser();
>     $me = $facebook->api('/me');
>   } catch (FacebookApiException $e) {
>     error_log($e);
>   }
> }
> 
> $signed_request = $_REQUEST["signed_request"];
> 
> function parse_signed_request($signed_request, $secret) {
>   list($encoded_sig, $payload) = explode('.', $signed_request, 2);
> 
>   // decode the data
>   $sig = base64_url_decode($encoded_sig);
>   $data = json_decode(base64_url_decode($payload), true);
> 
>   if (strtoupper($data['algorithm']) !== 'HMAC-SHA256') {
>     error_log('Unknown algorithm. Expected HMAC-SHA256');
>     return null;
>   }
> 
>   // check sig
>   $expected_sig = hash_hmac('sha256', $payload, $secret, $raw = true);
>   if ($sig !== $expected_sig) {
>     error_log('Bad Signed JSON signature!');
>     return null;
>   }
> 
>   return $data;
> }
> 
> function base64_url_decode($input) {
>   return base64_decode(strtr($input, '-_', '+/'));
> }
> 
> $data = parse_signed_request($_REQUEST["signed_request"], "YOUR APP SECRET");
> 
> ?>
> 
> <? if ($data['page']['liked']){ ?>
> 
> //FOR FANS
> 
> <? }else{ ?>
> 
> //FOR NON FANS
> 
> <? } ?> 
> ```

# jqgrid - 是否可以按 groupHeaders 对 jqgrid 进行排序？

> ID：11685941
> 
> 赞同：0
> 
> 时间：2012-07-27T10:24:27.837
> 
> 标签：jqgrid

我在我的应用程序中使用 jqgrid。这里[jsfile 演示](http://jsfiddle.net/5yqRn/5/)

我可以按编号、资产、日期和金额对网格进行排序。是否可以按位置对网格进行排序？和运输

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T11:22:44.553

我觉得不是。[http://www.trirand.com/jqgridwiki/doku.php?id=wiki:groupingheadar](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:groupingheadar)在这里阅读限制，我不确定它是否已在最新版本中修复。

# jquery - jQuery 复选框，勾选/未勾选逻辑

> ID：11685944
> 
> 赞同：0
> 
> 时间：2012-07-27T10:24:35.933
> 
> 标签：jquery

我正在研究复选框的逻辑。如果复选框未选中，它会隐藏创建的列表项。这方面的一个例子是在[jsFiddle](http://jsfiddle.net/qYtXX/)我有刻度逻辑工作，但我想要的是“Untick”逻辑工作。

我给每个 li 项目一个类，所以基本上希望将两者配对以删除列表项。但只是没有任何运气。

谁能帮我扩展这个逻辑，以便我显示/隐藏未勾选的 li 项目，否则我只剩下一个永无止境的项目列表。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:29:57.997

1）使用`change`事件收听复选框。如果使用`click`，则忽略来自键盘交互的任何状态更改。

2）您当前的“如果未检查”代码正在创建一个 NEW`li`并删除它（甚至在它进入 DOM 之前） - 大概不是您的意思。

我假设您的意思是删除 CURRENT`li`的类等于`name`已更改复选框的属性。查看更新的小提琴：

[http://jsfiddle.net/qYtXX/9/](http://jsfiddle.net/qYtXX/9/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:39:08.553

*您可以从checkboxes的**名称*属性中删除空格，请尝试以下操作：

 *```
<input type="checkbox" title="100.00" class="service_check" value="8" name="Test Service Name"> 
```

=>

```
<input type="checkbox" title="100.00" class="service_check" value="8" name="TestServiceName"> 
```

```
 else if ($(this).not(":checked")) { // you can replace this line with "else {"
        var cls = $(this).attr('name') 
        $("li."+cls).remove();
        $(".hidden_service_id, .hidden_service_name, .hidden_service_cost").val("");
    } 
```

[演示](http://jsfiddle.net/qYtXX/7/)*

# html - 单击时更改 div

> ID：11685948
> 
> 赞同：0
> 
> 时间：2012-07-27T10:24:49.717
> 
> 标签：html, click

我有代码：

```
<div class="container">
  <div class="box">somethung here</div>
  <div class="box">somethung here</div>
  <div class="box">somethung here</div>
  <div class="box">somethung here</div>
  <div class="box">somethung here</div>
</div> 
```

这该怎么做：

当我单击一个 div.box 时，它将具有例如红色背景，当我单击另一个 div.box 时，它也将具有红色背景，但之前单击的 div.box 将恢复为默认值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T10:41:28.280

这应该可以完成工作 [http://jsfiddle.net/chridam/XzQ5h/](http://jsfiddle.net/chridam/XzQ5h/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:42:05.053

给每个 div 一个唯一的 id..并在 javascript 中挂钩一个 onclick 事件。检查要更改其颜色的框的 ID，并相应地应用该颜色代码。

# jar - Overriding default hadoop jars in class path

> ID：11685949
> 
> 赞同：18
> 
> 时间：2012-07-27T10:24:50.540
> 
> 标签：jar, hadoop, classpath, operator-precedence

I've seen many manifestations of ways to use the user class path as precedent to the hadoop one. Often times this is done if an m/r job needs a specific version of a library that hadoop coincidentally already uses an older version of (for example jackson's json parser or commons http , etc.)

In any case : I've seen :

```
mapreduce.task.classpath.user.precedence
mapreduce.task.classpath.first
mapreduce.job.user.classpath.first 
```

Which one of these parameters is the *right* one to set in my job configuration, in order to force mappers and reducers to have a class path which puts my user defined `hadoop_classpath` jars BEFORE the hadoop default dependency jars ?

By the way, this is related to this question : [Dynamodb requestHandler acception](https://stackoverflow.com/questions/11660441/dynamodb-requesthandler-acception) which I recently have found is due to a jar conflict.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-28T00:33:31.687

因此，假设您使用的是 0.20.203，这将在[TaskRunner.java](http://svn.apache.org/viewvc/hadoop/common/tags/release-0.20.203.0/src/mapred/org/apache/hadoop/mapred/TaskRunner.java?view=markup)代码中处理，如下所示：

*   您正在寻找的房产位于第 94 行 -`mapreduce.user.classpath.first`
*   第 214 行是调用构建类路径列表的地方，它委托给一个名为`getClassPaths(..)`
*   `getClassPaths()`在第 524 行定义，你应该可以看到配置属性是用来决定你的 job + dist 缓存库，还是 hadoop 库首先进入类路径

对于其他版本的hadoop，您最好检查TaskRunner.java类以确认配置属性的名称，毕竟这是一个*“半隐藏配置”*：

```
static final String MAPREDUCE_USER_CLASSPATH_FIRST =
        "mapreduce.user.classpath.first"; //a semi-hidden config 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-19T10:25:12.247

与最新的 Hadoop 版本（2.2+）一样，您应该设置：

```
 conf.setBoolean(MRJobConfig.MAPREDUCE_JOB_USER_CLASSPATH_FIRST, true); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-11-05T20:31:34.230

这些设置仅适用于在您的映射器或减速器任务中引用外部 jar 类。但是，如果您在自定义 InputFormat 中使用这些，它将无法加载该类。确保这也适用于任何地方（在 MR2 中）的一种方法是在提交作业时导出此设置：

```
export HADOOP_USER_CLASSPATH_FIRST=true 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-24T16:13:28.653

我遇到了同样的问题，在 Hadoop 版本 0.20.2-cdhu03 上对我有用的参数是“mapreduce.task.classpath.user.precedence”

此设置经测试不适用于 CDH3U3，以下答案来自 Cloudera 团队：

```
// JobConf job = new JobConf(getConf(), MyJob.class);
// job.setUserClassesTakesPrecedence(true); 
```

[http://archive.cloudera.com/cdh/3/hadoop/api/org/apache/hadoop/mapred/JobConf.html#setUserClassesTakesPrecedence%28boolean%29](http://archive.cloudera.com/cdh/3/hadoop/api/org/apache/hadoop/mapred/JobConf.html#setUserClassesTakesPrecedence%28boolean%29)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-26T07:58:50.713

在 MapR 发行版中，属性为“mapreduce.task.classpath.user.precedence”
[http://www.mapr.com/doc/display/MapR/mapred-site.xml](http://www.mapr.com/doc/display/MapR/mapred-site.xml)

```
<property>
    <name>mapreduce.task.classpath.user.precedence</name>
    <value>true</value>
    <description>Set to true if user wants to set different classpath. (AVRO) </description>
</property> 
```

jobConf.setUserClassesTakesPrecedence(true);

# java - 我在使用 java“if 语句”时遇到问题

> ID：11685950
> 
> 赞同：0
> 
> 时间：2012-07-27T10:24:58.600
> 
> 标签：java, if-statement

我是一个初学者，我正在尝试在 while 循环中嵌套 if 语句。我用这种方法做了一个基本的计算器，但我有一个小问题。我将首先分享代码，然后提出我的问题。

这是代码：

```
import java.util.Scanner;
class whileloop{
    public static void main(String args[]){
        Scanner scan = new Scanner(System.in);
    System.out.println("This is a basic calculator.");
    System.out.println("To exit, input exit when asked to input the method.");
    System.out.println("----------------------------------------------");
    while (true){
        System.out.println("to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*' and to exit, input 'exit.'");
        System.out.println("----------------------------------------------------");
        System.out.print("Please enter a method here:");
        String method = scan.nextLine();
        if (method.equals("exit")){
            System.out.println("You chose to exit.");
            break;
        }
        else if (method.equals("+")){
            System.out.println("You chose to add.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
            double ans = fnum + snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("-")){
            System.out.println("You chose to subtract.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
            double ans = fnum - snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("*")){
            System.out.println("You chose to multiply.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
            double ans = fnum * snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("/")){
            System.out.println("You chose to divide.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
            double ans = fnum / snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else{
            System.out.println("Invalid input. please select a valid input from the list of operators given.");
        }
    }
}
} 
```

如您所见，它要求一个变量`method`来处理输入`fnum`和`snum`

最后，我添加了 else 语句。当他/她没有输入有效的操作时，它应该通知用户`method`。

问题是，每当我执行此代码时，无论我输入什么，`method`它都会首先完美运行，询问`fnum`然后`snum`输出答案，但随后，它也会执行 else 语句中的代码块。

如何防止这种情况？请帮忙！

此外，这是我得到的那种输出：（我把它放在一个代码块中只是为了让它看起来更有条理。）

```
to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*'         and to exit, input 'exit.'
----------------------------------------------------
Please enter a method here:+
You chose to add.
Please enter first number here:10
Please enter second number here:10
The answer is20.0
to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*'     and to exit, input 'exit.'
----------------------------------------------------
Please enter a method here:Invalid input. please select a valid input from the list of     operators given.
to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*'   and to exit, input 'exit.'
----------------------------------------------------
Please enter a method here: 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:32:28.827

```
use scan.nextLine() immediately after scan.nextInt(). 
```

每当我们输入一个数字并按 Enter 键时，scan.nextInt() 只会读取数字而不是“行尾”。当我们做 scan.nextLine(); 它从第一个输入读取仍在缓冲区中的“行尾（\n）”。

```
import java.util.Scanner;
class whileloop{
    public static void main(String args[]){
        Scanner scan = new Scanner(System.in);
    System.out.println("This is a basic calculator.");
    System.out.println("To exit, input exit when asked to input the method.");
    System.out.println("----------------------------------------------");
    while (true){
        System.out.println("to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*' and to exit, input 'exit.'");
        System.out.println("----------------------------------------------------");
        System.out.print("Please enter a method here:");
        String method = scan.nextLine();
        if (method.equals("exit")){
            System.out.println("You chose to exit.");
            break;
        }
        else if (method.equals("+")){
            System.out.println("You chose to add.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
        scan.nextLine();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
        scan.nextLine();
            double ans = fnum + snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("-")){
            System.out.println("You chose to subtract.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
        scan.nextLine();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
        scan.nextLine();
            double ans = fnum - snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("*")){
            System.out.println("You chose to multiply.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
        scan.nextLine();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
        scan.nextLine();
            double ans = fnum * snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else if(method.equals("/")){
            System.out.println("You chose to divide.");
            System.out.print("Please enter first number here:");
            double fnum = scan.nextInt();
        scan.nextLine();
            System.out.print("Please enter second number here:");
            double snum = scan.nextInt();
        scan.nextLine();
            double ans = fnum / snum;
            System.out.print("The answer is");
            System.out.println(ans);
        }
        else{
            System.out.println("Invalid input. please select a valid input from the list of operators given.");
        }
    }
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T10:33:40.223

`String method = scan.nextLine();`计算后返回`""`。`else`由于将评估任何 if 语句中的空白字符串不匹配

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T10:40:02.527

这是因为计算后`scan.nextLine()`返回`""`。所以你可以添加这一行。

```
 System.out.println("to add, input '+', to subtract, input '-', to divide, input '/', to multiply, input '*' and to exit, input 'exit.'");
     System.out.println("----------------------------------------------------");
     System.out.print("Please enter a method here:");        
     String method = scan.nextLine();
     // add this line
     if (method.equals(""))
     {
        continue; // no "" will be there 
     } 
```

# django - Is Django design as good without css3 + html 5?

> ID：11685957
> 
> 赞同：-2
> 
> 时间：2012-07-27T10:25:39.480
> 
> 标签：django, html, css

I've had a look at some really good website layout and design using Django, pinterest, (former)curse, disqus, and the django design template lpoks impressive. Was just pondering thoughts as to were it is necessary to add css3 or html5 to enhance page design and interaction or would using Django features for eg. divs and headers, boxing text good enough or even better visually. Lets for argument sake, say we are developing an extensive auction site like e-bay or networking site like facebook.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T12:55:09.377

Django 没有任何设计。包含零前端，因此，如果您制作模板页面并在其中添加 divs/headers/whatnot，那么除了 vanilla HTML 的规范之外，它绝对没有任何自定义格式。

所以如果你想设计一个像 Pinterest 这样的网站，你肯定需要自己的 CSS 和 HTML。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-27T10:45:54.763

因此，django 使用 HTML 和 CSS 创建一个视图（您将有一些 div ..），但不会声明任何 div 并且您将有一个所有内容都对齐到左侧的白页..

这并不复杂，如果您想要一个漂亮的网站（或者只是不喜欢 :)）您将需要 html 和 css，但如果您不想要，则不需要最新版本（但它更好..）

# python - Django - 格式化计算的间隔

> ID：11685958
> 
> 赞同：1
> 
> 时间：2012-07-27T10:25:41.693
> 
> 标签：python, django, datetime, django-templates

**模型**

```
class Session(models.Model):
    start_time = models.DateTimeField()
    end_time = models.DateTimeField()
    def duration(self):
        return self.end_time - self.start_time 
```

**模板**

```
{{ session.duration|date:"H:i" }} 
```

持续时间可以显示，但似乎不可格式化。一个想法为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:29:46.840

在 django 模板中，您可以将[timesince](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#timesince)和[timeuntil](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#timeuntil)过滤器用于相同目的。两者都将两个日期作为输入，并以可读格式返回差异。

# java - javax.smartcardio: how to send native commands to Desfire card?

> ID：11685959
> 
> 赞同：2
> 
> 时间：2012-07-27T10:25:41.133
> 
> 标签：java, native, smartcard, mifare, apdu

I am creating a java application communicating with a Mifare DESFire card through a PC/SC contactless reader and the javax.smartcardio API. I manage to send regular ISO 7816 APDUs (CLA, INS, P1-P2, Lc, Command data, Le).

I have read on [Ridrix's Blog](https://ridrix.wordpress.com/2009/09/19/mifare-desfire-communication-example/) that DESFire cards (at least the EV1 version that I am using) support both APDUs and *Native commands* where most of the commands are only 1 byte long.

For example, the "*Get Version*" command:

```
Command: 60
Response: af 04 01 01 00 02 18 05 
```

I tested that command with the *PC/SC Diag* program from *SpringCard* ([available here](http://www.springcard.com/download/software.html)) and I get a correct response.

But I cannot send this command with javax.smartcardio: this API seems to have been created for *real* APDUs and therefore does not allow 1 byte long commands.

Here is what I did:

```
public static void main(String[] args){
    TerminalFactory factory = TerminalFactory.getDefault();
    CardTerminals terminalList = factory.terminals();

    try {
        CardTerminal ct = terminalList.list().get(0);       
        ct.waitForCardPresent(0);
        Card card = ct.connect("*");
        CardChannel channel = card.getBasicChannel();

        byte[] command = { 0x60 };

        channel.transmit(new CommandAPDU(command));
    } catch (CardException e) {
        e.printStackTrace();
    }
} 
```

It gives me the following error:

```
Exception in thread "main" java.lang.IllegalArgumentException: apdu must be at least 4 bytes long
    at javax.smartcardio.CommandAPDU.parse(Unknown Source)
    at javax.smartcardio.CommandAPDU.<init>(Unknown Source) 
```

I tried the only (AFAIK) other way to send a command:

```
 ByteBuffer command = ByteBuffer.allocate(1);
        command.put((byte) 0x60);

        ByteBuffer response = ByteBuffer.allocate(512);

        channel.transmit(command, response); 
```

and get a similar error:

```
Exception in thread "main" java.lang.IllegalArgumentException: Command APDU must be at least 4 bytes long
    at sun.security.smartcardio.ChannelImpl.checkManageChannel(Unknown Source)
    at sun.security.smartcardio.ChannelImpl.doTransmit(Unknown Source)
    at sun.security.smartcardio.ChannelImpl.transmit(Unknown Source) 
```

Do you know of any way to send this kind of command using javax.smartcardio or something else?

I know it is possible to *wrap* these commands but I would prefer to use the (simpler) native commands.

Thanks.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-28T00:10:42.717

`javax.smartcardio`是为使用 ISO 7816-4 命令而编写的 API。因此，不可能发送“本机”命令。基本上，本机命令可以是任何东西，因此很难支持它们。

要么您恢复到 JNI，要么您可能会尝试找到使用[`transmitControlCommand`](http://docs.oracle.com/javase/6/docs/jre/api/security/smartcardio/spec/javax/smartcardio/Card.html#transmitControlCommand%28int,%20byte%5b%5d%29). 但恐怕没有额外的库就没有真正的方式来使用 DESFire。

我个人认为使用包裹层要容易得多。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-01-18T21:14:14.613

将近 4 年后，但以防万一有人对这个问题存有疑问，我确实找到了答案。今天的许多读者支持将 Desfire APDU 帧包装在 ISO 7816-4 命令中。我确实发现了数据不能超过 55 个字节的限制。

查看此文档中的第 23 页以获取完整信息： http: [//neteril.org/files/M075031_desfire.pdf](http://neteril.org/files/M075031_desfire.pdf)

这意味着您可以指定以下内容来包装 APDU 帧

```
CLA = 0x90
INC = {Your Desfire Command e.g. 0x60 - Get Version}
P1 = 0
P2 = 0
Data = 1st byte = length of data followed by byte data. Terminate data with a 0x00 byte 
```

响应也包装如下：

```
SW1 = 0x91
SW2 = Result Status
Data = Response Data 
```

所以可以使用下面的代码

```
public static byte CMD_WRAP_START = (byte)0x90;
public static byte CMD_WRAP_END = (byte)0x00;

private CommandAPDU wrapAPDUFrameUsingISO7816_4(byte[] apdu) throws CardException {
    if (apdu.length > 55){
        throw new CardException("The length of the wrapped DESFire command must not be longer than 55 bytes, checksum included.");
    }
    boolean hasData = apdu.length > 1;
    byte[] result;
    if (hasData) {
        result = new byte[apdu.length + 5];
    } else {
        result = new byte[apdu.length + 4];
    }
    result[0] = CMD_WRAP_START; // CLA
    result[1] = apdu[0];        // DESFIRE CMD CODE
    result[2] = 0;              // P1
    result[3] = 0;              // P2
    if (hasData) {
        result[4] = (byte) (apdu.length - 1);  // Length of wrapped data, ONLY IF DATA EXISTS
        System.arraycopy(apdu,1,result,5,apdu.length-1); // DESFIRE Command data
    }
    result[result.length-1] = CMD_WRAP_END;
    return new CommandAPDU(result);
}

private static byte [] unwrapFromISO7816_4(byte[] wrapped) throws CardException {
    if (wrapped.length<2){
        throw new CardException("Expected at least 2 bytes for ISO 7816-4 wrapped response: " + String.valueOf(Hex.encodeHex(wrapped, false)));
    }
    if (wrapped[wrapped.length-2]!=(byte)0x91){
        throw new CardException("Expected 0x91 in SW1 for ISO 7816-4 wrapped response: " + String.valueOf(Hex.encodeHex(wrapped, false)));
    }
    byte[] result = new byte[wrapped.length-1];
    System.arraycopy(wrapped,0,result,1,wrapped.length-2);  // The DESFIRE response
    result[0] = wrapped[wrapped.length-1];  // The DESFIRE Status
    return result;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T19:11:36.470

在这里您有答案：命令 APDU 必须至少为 4 个字节。

```
 * case 1 : |CLA|INS|P1 |P2 |                    len = 4 
     * case 2s: |CLA|INS|P1 |P2 |LE |                len = 5 
     * case 3s: |CLA|INS|P1 |P2 |LC |...BODY...|     len = 6..260 
     * case 4s: |CLA|INS|P1 |P2 |LC |...BODY...|LE | len = 7..261
     *
     * (Extended length is not currently supported) 
     * case 2e: |CLA|INS|P1 |P2|00 |LE1|LE2|                    len = 7 
     * case 3e: |CLA|INS|P1 |P2 |00|LC1|LC2|...BODY...|         len = 8..65542 
     * case 4e: |CLA|INS|P1 |P2 |00|LC1|LC2|...BODY...|LE1|LE2| len =10..65544
     *
     * EMV 
```

# android - Sherlock action bar action icons have wrong size / dpi

> ID：11685962
> 
> 赞同：3
> 
> 时间：2012-07-27T10:26:11.593
> 
> 标签：android, icons, android-actionbar, actionbarsherlock

I use SherlockActionBar to get the ICS look to older devices. On a Optimus Black P970 (800x480) I get different icon sizes. The 2nd and 4th icon are hdpi icons, so this is correct but why does sherlock provide mdpi/ldpi icons?

```
<item
    android:id="@+id/menu_save"
    android:title="@string/menu_save"
    android:icon="@android:drawable/ic_menu_save"
    android:showAsAction="always" />

<item
    android:id="@+id/menu_today"
    android:title="@string/menu_today"
    android:icon="@drawable/ic_menu_calendar"
    android:showAsAction="always" /> 
```

![Action bar](../Images/8bac5a9681e5eb677301d1e57c00a5d4.png)

# ruby - 红宝石中的块范围

> ID：11685965
> 
> 赞同：14
> 
> 时间：2012-07-27T10:26:18.933
> 
> 标签：ruby, scope, variable-assignment, block

我的理解是 ruby​​ 块具有块范围，并且在块内创建的所有变量都将只存在于块内。

**示例案例：**

```
 food = ['toast', 'cheese', 'wine']
 food.each { |food| puts food.capitalize}
 puts food 
```

**输出：**

```
"Toast"
"Cheese"
"Wine"
"Wine" 
```

如果您将`food`变量放在块内（每个块），我的理解是它具有块范围。它只存在于块范围内，对外部变量没有任何影响`food`。

但行为不同，`food`在这种情况下，命名的外部变量被修改。这种理解是否正确，在红宝石中我们有块范围吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-27T10:29:55.450

这是 ruby​​ 1.8 的预期行为。[它已在 1.9](http://www.igvita.com/2011/02/03/new-ruby-19-features-tips-tricks/)[中修复](http://ruby.about.com/b/2009/02/02/using-new-features-in-ruby-191-block-variable-scope.htm) 。下面的片段使用 ruby​​ 1.9.3 运行

```
food = ['toast', 'cheese', 'wine']
food.each { |food| puts food.capitalize.inspect} # !> shadowing outer local variable - food
puts food.inspect
# >> "Toast"
# >> "Cheese"
# >> "Wine"
# >> ["toast", "cheese", "wine"] 
```

您是对的，`food`从块的范围限定为该块并使用此名称隐藏其他变量。但是如果你对它做一些破坏性的事情，它会反映在原始数组中，因为它是对数组元素的引用，而不是它的副本。观察：

```
food = ['toast', 'cheese', 'wine']

food.each { |f| f.capitalize} # transform and discard
food # => ["toast", "cheese", "wine"]

food.each { |f| f.capitalize! } # transform destructively (bang-version)
food # => ["Toast", "Cheese", "Wine"] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T10:50:54.897

该块从定义它的上下文继承范围。看看这个例子：

```
def give_me_a_proc
  test = "foo"
  lambda { puts test }
end

test = "bar"
give_me_a_proc.call

# => "foo" 
```

因此，proc/block 在哪里执行并不重要，而是在哪里定义。

在您的情况下`food`，块内的变量确实`food`从外部隐藏了数组。但是您确实对块中数组的实际元素（不是重复/克隆）进行了操作`food`，因此对它们的任何更改都将反映在外部。

块完成后`food`数组变为字符串的原因是块在定义数组的同一范围内运行，因此它用数组的最后一个元素覆盖它，因为它是分配给变量的最后一个对象。`"Wine"``food``food`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:02:32.243

此错误已在 Ruby 1.9 中修复

```
food = ['toast', 'cheese', 'wine']
food.each { |food| puts food.capitalize }
puts food # ["toast", "cheese", "wine"] 
```

我想如果您想在 Ruby 1.8 中使用局部变量，请尝试`lambda`（对不起，我没有安装 Ruby 1.8，所以无法测试它，但可以在 1.9 中使用）

```
food = ['toast', 'cheese', 'wine']
lambda do |food|
    food.each {|food| puts food.capitalize}
end.call(food)
puts food # ["toast", "cheese", "wine"] 
```

# hadoop - output of map task written to local file system?

> ID：11685968
> 
> 赞同：0
> 
> 时间：2012-07-27T10:26:36.783
> 
> 标签：hadoop, mapreduce, hdfs

If output of map task written to local file system, what will happened if the input of map tasks is so big that output exhausts the written disk?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:31:26.253

地图任务尝试将失败，该任务将被安排在其他地方运行。失败尝试的清理也应该删除任务文件。

# objective-c - delete row in UITableView objective-C

> ID：11685971
> 
> 赞同：1
> 
> 时间：2012-07-27T10:26:41.840
> 
> 标签：objective-c, uitableview

I have a table with 7 section and in each section 2 rows, I don't know why my delete button doesn't work!! and not appear in cells

would you please help me! Thanks in advance!

![enter image description here](../Images/99648dfe57e23bfc279c423ccfa279b2.png)

day.m

```
#pragma mark - View lifecycle

- (void)viewDidLoad
{
    [super viewDidLoad];
    arry = [[NSMutableArray alloc] init];
    [arry addObject:@"test"];
    [arry addObject:@"hey"];
    // Uncomment the following line to preserve selection between presentations.
    // self.clearsSelectionOnViewWillAppear = NO;

    // Uncomment the following line to display an Edit button in the navigation bar for this view controller.
    self.navigationItem.leftBarButtonItem = self.editButtonItem;
    UIBarButtonItem *rightButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(addNewItem)];
    self.navigationItem.rightBarButtonItem = rightButton;
}

-(void)addNewItem
{
    [arry addObject:@"New Day"];
    [self.tableView reloadData];
}

// ... standard methods to override

#pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    // Return the number of sections.
    return 7;
    //_week.days.count;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    // Return the number of rows in the section.
    return [arry count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Cell"];
    cell.textLabel.text = [arry objectAtIndex:indexPath.row];
    return cell;
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
    if(section == 0)
    {
        return @"Monday";
    }
    else if(section == 1)
    {
        return @"Tuesday";
    }
    else if(section == 2)
    {
        return @"Wednesday";
    }
    else if(section == 3)
    {
        return @"Thuesday";
    }
    else if(section == 4)
    {
        return @"Friday";
    }
    else if(section == 5)
    {
        return @"Saturday";
    }
    else
    {
        return @"Sunday";
    }
}

// Override to support conditional editing of the table view.
- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath
{
    return YES;
}

- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (editingStyle == UITableViewCellEditingStyleDelete)
    {
        // [self.monthTitle removeObjectAtIndex:indexPath.row];
        [arry removeObjectAtIndex:indexPath.row];

        [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation: UITableViewRowAnimationFade];
    }
    else if (editingStyle==UITableViewCellEditingStyleInsert)
    {   
    }   
} 
```

**Edit1: after removing multiple selection from storyboard delete button appears but when I click on delete button it's terminated**

![enter image description here](../Images/afafdc025770fb282967501ff4c906a2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:44:12.433

你没有开始你的表更新。当您使用方法“deleteRowsAtIndexPath”时，您必须在这些方法之间插入它：

```
// Begin update
[tableView beginUpdates];

// Perform update
[tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] 
                 withRowAnimation:UITableViewRowAnimationFade];

// End update
[tableView endUpdates] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T11:34:59.987

从您的屏幕截图中，您似乎已设置`allowsMultipleSelectionDuringEditing`为`YES`（可能在您的 nib 文件中，因为我在代码中看不到）。在这种情况下，`tableView:commitEditingStyle:forRowAtIndexPath:`将永远不会被调用，因为复选标记仅表示用户的*选择*，而不是应该删除这些行。

您需要一个自己的删除按钮，当您进入编辑模式时该按钮会被激活，类似于您在邮件应用程序中看到的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-31T08:17:41.560

您应该首先像这样从数据源中删除行，

```
 [self.table_favpropertylist_array removeObjectAtIndex:indexPathRow];
            [tbl_FavDetails beginUpdates];

            UITableViewCell *cell=[tbl_FavDetails cellForRowAtIndexPath:[NSIndexPath indexPathForRow:indexPathRow inSection:0]];

            NSIndexPath *indexPath = [tbl_FavDetails indexPathForCell:cell];
            [tbl_FavDetails deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath]
                                  withRowAnimation:UITableViewRowAnimationFade];
            [tbl_FavDetails endUpdates]; 
```

其中 self.table_favpropertylist_array 是数据源，tbl_FavDetails 是 tableview，indexPathRow 是单击行删除按钮的索引，

谢谢。

# oracle - Oracle 假脱机位置

> ID：11685972
> 
> 赞同：9
> 
> 时间：2012-07-27T10:26:44.393
> 
> 标签：oracle, oracle-sqldeveloper

我正在使用 SQL Developer 假脱机某些包的 DDL，但我无法识别服务器假脱机的位置。Oracle 安装在 AIX 上，但我不知道它用于连接操作系统的用户。

基本上，当我运行时：

```
spool test.lst

select 1 from dual;

spool off 
```

我在控制台中收到确认消息

```
1                      
---------------------- 
1 
```

每当我尝试提供路径时，我都会收到一个错误，可能是因为用户权限：

```
spool /tmp/test.lst
select 1 from dual;
spool off

Cannot create SPOOL file /tmp/test.lst 
1                      
---------------------- 
1 
```

所以我的问题是 test.lst 在哪里？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-27T10:37:41.030

假脱机是客户端活动，而不是服务器活动；该`.lst`文件将在 SQL Developer 所在的计算机上创建，而不是在它所连接的数据库所在的服务器上创建。

在 Windows 7 和 SQL Developer 3.1 下，默认情况下对我来说似乎存储`.lst`在`%APPDATA%\Sql Developer\`

您可以假脱机到特定目录，例如`spool c:\windows\temp\test.lst`，如果您设置了它，可以使用类似`spool \\<aix-server>\<dir>\test.lst`. 当然，路径会根据您的客户端操作系统而有所不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T10:44:22.013

在我的 LINUX 安装下，默认的假脱机目录是您运行 sqlplus 的位置。IE。如果您从没有写权限的目录运行 sqlplus，它将失败。

尝试输入“！” 或在 sqlplus 提示符下“主机”转到操作系统。pwd 目录最终进入，我猜这是您的线轴的位置。

（输入exit返回sqlplus）

# javascript - How to replace A and B markers in Google Map Api

> ID：11685974
> 
> 赞同：0
> 
> 时间：2012-07-27T10:27:00.540
> 
> 标签：javascript, google-maps, google-maps-api-3

I'm using

```
google.maps.DirectionsRenderer({suppressMarkers: true}) 
```

to remove markers in Route. But this also removes waypoints markers in that route. So how to replace/remove 'A' and 'B' markers in a route?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T11:32:48.963

这是一个用自定义标记替换所有标记[的示例。](http://www.geocodezip.com/v3_GoogleEx_directions-waypointsF.html)

这是[一个](http://www.geocodezip.com/v3_directions_custom_iconsC.html)仅用自定义标记替换开始和结束标记的示例。

自定义方向渲染器（将方向渲染为原生多段线和标记）：

```
function RenderCustomDirections(response, status) {
  if (status == google.maps.DirectionsStatus.OK) {
     waypts = [];
     var bounds = new google.maps.LatLngBounds();
     var route = response.routes[0];
     var summaryPanel = document.getElementById("directions_panel");
     var detailsPanel = document.getElementById("direction_details");
     startLocation = new Object();
     endLocation = new Object();

     summaryPanel.innerHTML = "";
     detailsPanel.innerHTML = '<ul>';

     // For each route, display summary information.
     for (var i = 0; i < route.legs.length; i++) {
        var routeSegment = i + 1;
        summaryPanel.innerHTML += "<b>Route Segment: " + routeSegment + "</b><br />";
        summaryPanel.innerHTML += route.legs[i].start_address + " to ";
        summaryPanel.innerHTML += route.legs[i].end_address + "<br />";
        summaryPanel.innerHTML += route.legs[i].distance.text + "<br /><br />";
     }
     var path = response.routes[0].overview_path;
     var legs = response.routes[0].legs;
     for (i=0;i<legs.length;i++) {
       if (i == 0) { 
         startLocation.latlng = legs[i].start_location;
         startLocation.address = legs[i].start_address;
         startLocation.marker = createMarker(legs[i].start_location,"start",legs[i].start_address,"green");
       } else { 
         waypts[i] = new Object();
         waypts[i].latlng = legs[i].start_location;
         waypts[i].address = legs[i].start_address;
         waypts[i].marker = createMarker(legs[i].start_location,"waypoint"+i,legs[i].start_address,"yellow");
       }
       endLocation.latlng = legs[i].end_location;
       endLocation.address = legs[i].end_address;
       var steps = legs[i].steps;
       for (j=0;j<steps.length;j++) {
         var nextSegment = steps[j].path;
            for (k=0;k<nextSegment.length;k++) {
              polyline.getPath().push(nextSegment[k]);
              bounds.extend(nextSegment[k]);
            }
          }
        }
        detailsPanel.innerHTML += "</ul>"
        polyline.setMap(map);
        map.fitBounds(bounds);
        endLocation.marker = createMarker(endLocation.latlng,"end",endLocation.address,"red");
        // == create the initial sidebar ==
        makeSidebar();
  } else alert(status);
} 
```

createMarker 函数：

```
function createMarker(latlng, label, html, color) {
   var contentString = '<b>'+label+'</b><br>'+html;
   var marker = new google.maps.Marker({
        position: latlng,
        draggable: true, 
        map: map,
        icon: getMarkerImage(color),
        shape: iconShape,
        title: label,
        zIndex: Math.round(latlng.lat()*-100000)<<5
   });
   marker.myname = label;
   gmarkers.push(marker);

   google.maps.event.addListener(marker, 'click', function() {
        infowindow.setContent(contentString); 
        infowindow.open(map,marker);
        });
   return marker;
} 
```

自定义图标功能：

```
function getMarkerImage(iconColor) {
   if ((typeof(iconColor)=="undefined") || (iconColor==null)) { 
      iconColor = "red"; 
   }
   if (!icons[iconColor]) {
      icons[iconColor] = {
        url: "mapIcons/marker_"+ iconColor +".png",
        // This marker is 20 pixels wide by 34 pixels tall.
        size: new google.maps.Size(20, 34),
        // The origin for this image is 0,0.
        origin: new google.maps.Point(0,0),
        // The anchor for this image is at 6,20.
        anchor: new google.maps.Point(9, 34));
   } 
   return icons[iconColor];
} 
```

# linux - Render string in X11 bitmap font

> ID：11685975
> 
> 赞同：3
> 
> 时间：2012-07-27T10:27:01.807
> 
> 标签：linux, fonts, x11

How do I render a string in an ancient X11 bitmap font? I mean something like

```
-*-lucida-medium-r-normal-*-34-*-*-*-*-*-*-* 
```

which I can find with `xfontsel`. I just need a command line tool etc. that displays a given string in that font. A similar TrueType font won't work, since it has to be pixel-perfect (I'm trying to get images of each letter to OCR an image in that font).

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:51:12.033

我不确定是否有命令行工具。但是你总是可以用 Xlib 和 C 来做你自己的。

似乎有人编写了一个使用 Xlib 显示字符串[的简单 X11 C 程序。](http://www.lemoda.net/c/xlib-text-box/index.html)更改几行并编译：

```
gcc -lX11 -o xrenderstring xrenderstring.c 
```

..应该为你做。

我已经[在这个要点](https://gist.github.com/3187399)中复制了整个程序（以防它从原始源中消失），修改为采用两个参数：1.字体名称，2.要呈现的字符串。

所以你会这样称呼它（当然是在编译之后）：

```
./xrenderstring "-*-lucida-medium-r-normal-*-34-*-*-*-*-*-*-*" "Quick brown fox" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-31T05:40:19.860

仅以该字体呈现字符：

*   `xfd -fn '-*-lucida-medium-r-normal-*-34-*-*-*-*-*-*-*'`
*   `xfontsel -pattern '-*-lucida-medium-r-normal-*-34-*-*-*-*-*-*-*'`

渲染一个特定的字符串：

*   `xfontsel -pattern '-*-lucida-medium-r-normal-*-34-*-*-*-*-*-*-*' -sample 'The quick brown fox jumps the shark'`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:47:30.487

找到了一种骇人听闻的方式。将以下内容添加到 ~/.Xdefaults：

```
xedit*editWindow*font: -*-lucida-medium-r-normal-*-36-*-*-*-*-*-*-* 
```

然后运行

```
$ xrdb -merge ~/.Xdefaults
$ xedit 
```

然后我输入字符串，截取屏幕截图，然后在 gimp 中进行比较。

（事实证明，X11 字体毕竟不是正确的字体。我的来源使用 Lucida Sans 36 pt (ttf)，但没有抗锯齿，可能还有奇怪的提示。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-03T09:57:40.260

您可以使用 ImageMagick。

额外的好处：

*   可以渲染老式（固定）或TTF或其他字体
*   可以渲染到屏幕或图像文件（PNG，无论如何）

# 简单的

对于短文本

```
echo "The quick brown fox jumps over the lazy dog." \
| convert \
-font '-*-fixed-*-*-*-*-18-*-*-*-*-*-iso8859-*' \
TEXT:- -trim fox.png 
```

渲染到屏幕：

```
echo "The quick brown fox jumps over the lazy dog." \
| convert \
-font '-*-fixed-*-*-*-*-18-*-*-*-*-*-iso8859-*' \
TEXT:- -trim MIFF:- | display MIFF:- 
```

移除`-trim`后可以看到 ImageMagick 使用画布进行绘制。

# 更多控制

*   画布的尺寸。为避免两步计算，请创建一个比所需更大的画布，然后对其进行修剪。
*   控制背景和前景色。
*   控制 PNG 参数（每像素一位）

```
convert -size 2000x20 xc:black \
-font '-*-fixed-*-*-*-*-18-*-*-*-*-*-iso8859-*' \
-fill white \
-draw "text 0,15 'The quick brown fox jumps over the lazy dog.'" \
-trim +dither -depth 1 fox.png 
```

下面生成的图像重 592 字节：

[![用 X11 字体“固定”渲染的句子。](../Images/311b9916b430f535a259eb22b6c5e81f.png)](https://i.stack.imgur.com/ZOc7K.png)

## 获得独立构图的角色（用于以后的构图）

您可以只在上面一行中放置一个字符，但单独应用于多个字符会导致生成的图像不再具有相同的大小或相同的公共基线。

```
for CHAR in H e l o ' ' W r d
do
convert -size 9x13 xc:black \
-font '-*-fixed-*-*-*-*-18-*-*-*-*-*-iso8859-*' \
-fill white -stroke none \
-draw "text 0,10 '${CHAR}'" \
+dither -depth 2 fixed_char_${CHAR}.png
done 
```

下面的命令会生成一个 PNG，显示单独加框的图像保持它们的共同对齐：

```
montage -mode concatenate -tile x1 fixed_char_H.png fixed_char_e.png \
fixed_char_l.png fixed_char_l.png fixed_char_o.png fixed_char_\ .png \
fixed_char_W.png fixed_char_o.png fixed_char_r.png fixed_char_l.png \
fixed_char_d.png helloworld.png 
```

# c# - XML版程序

> ID：11685986
> 
> 赞同：2
> 
> 时间：2012-07-27T10:27:52.793
> 
> 标签：c#, wpf, xml

我需要创建一个程序，以用户友好的方式使 XML 编辑成为可能。我试图为此找到一些控件，但没有什么有趣的，只有 TreeView，有人知道任何有趣的吗？或者也许有人知道解决我问题的简单方法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:34:24.537

取决于您的用例。我们使用[XML Spy](http://www.altova.com/de/produkte/xmlspy/xml_editor.html) (http://www.altova.com/de/produkte/xmlspy/xml_editor.html)

# qt - QWebView 和在基因组浏览器上下载 pdf 文件

> ID：11685987
> 
> 赞同：1
> 
> 时间：2012-07-27T10:27:54.657
> 
> 标签：qt, qwebview

我正在开发一个 Qt 项目（Java）。我正在尝试构建一个允许我从网站下载 pdf 文件的 qwebview。

这是我使用的代码：

```
public Browser() {
    this.setDefaultUrl();
    this.page().setForwardUnsupportedContent(true);
    this.page().unsupportedContent.connect(this,"download()");
}
public void setUrl(String url){
    this.load(new QUrl(url));
}
public void setDefaultUrl(){
    this.load(new QUrl("http://genome.ucsc.edu/cgi-bin/hgGateway"));
}
public void download(){
    System.out.println("Ok");
} 
```

如果我单击“我们仍然提供 postscript 文件：浏览器图形和表意文字”，则信号会正确发射，但如果我单击“以 PDF 格式下载当前浏览器图形”，则不会收到任何信号。这是因为 pdf 文件必须以不同方式处理吗？任何想法为什么？非常感谢提前

# jakarta-mail - 使用 imap 从 Exchange Server 2010 读取邮件时发生异常

> ID：11685994
> 
> 赞同：0
> 
> 时间：2012-07-27T10:28:24.313
> 
> 标签：jakarta-mail

我正在尝试从交换服务器 2010 读取邮件，但有时连接已建立，但剩余时间程序给出以下异常：

**javax.mail.AuthenticationFailedException：登录失败**

该代码在 exchange server 2007 上运行良好。但是从邮箱迁移到 2010 年，该程序仅以这种方式运行。

我也尝试了网上可用的几个选项，但没有任何效果。我正在使用 javamail-1.4.4 API 版本。这是我试图连接到邮箱的一段代码。

```
 public class ReadMail {

 static Store store=null;
    static String host="";
    static String username="";
    static String password="";

public static void main(String[] arg) throws Exception{
      try{
          Session session;
          username = "username";
          password = "password";
              host = "hostname";
          Properties props = System.getProperties();
          props.setProperty("mail.smtp.auth","true");
          session = Session.getInstance(props, 
                                    new ExchangeAuthenticator(username, password));
          Store st = session.getStore("imaps");
          st.connect(host,username, password);
          System.out.println("Connected");

    }
      catch (Exception e){
          e.printStackTrace(System.out);
      }
}

} 
```

```
public class ExchangeAuthenticator extends Authenticator {

    String user;
    String pw;

    public ExchangeAuthenticator (String username, String password)
    {
       super();
       this.user = username;
       this.pw = password;
    }
    public PasswordAuthentication getPasswordAuthentication()
    {
      return new PasswordAuthentication(user, pw);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-07T07:43:06.133

我在我的代码中也面临同样的问题我在我的代码中设置了两个属性禁用普通测试并启用 NTLM

props.setProperty("mail.imap.auth.plain.disable","true"); props.setProperty("mail.imap.starttls.enable", "true");

现在我的代码能够连接到交换服务器

阅读

[https://forums.oracle.com/forums/thread.jspa?threadID=1587688](https://forums.oracle.com/forums/thread.jspa?threadID=1587688)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T18:41:20.823

也许服务器的配置已经改变，它不再接受您的凭据，或者不再支持 JavaMail 支持的任何登录方法。

[打开会话调试](http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug)并检查协议跟踪。它应该提供一些关于它为什么失败的线索。

您可能还想升级到 JavaMail 1.4.5，它具有对 NTLM 身份验证的内置支持，您可能需要它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-22T21:32:31.543

即使您的凭据正常，新服务器也可能不接受您的登录方法。例如，新服务器可能不允许“普通”身份验证。

调试信息应显示接受哪些身份验证方法。

# ios - 文字 @YES 在 iOS 5 / Xcode 4.4 中不起作用

> ID：11685996
> 
> 赞同：9
> 
> 时间：2012-07-27T10:28:32.507
> 
> 标签：ios, objective-c, llvm, literals, llvm-4.0

新的 Xcode 4.4 已经发布，它应该支持像这样的文字

`@42`
`@"String"`
`@23.0L`
`@{ @"key" : obj }`和
`@[obj1, obj2]`

并且它还应该支持`@YES`and `@NO`，这在针对最新的 iOS 5（及更早版本）时不起作用。编译后显示错误信息：

> 意外的类型名称“BOOL”：预期的表达式

我知道您可以通过键入`@(YES)`和来修复它`@(NO)`。但我想知道它没有按预期工作的原因。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-07-27T10:33:30.443

原因是苹果在这里忘记了括号：

```
#define YES             (BOOL)1 
```

这将在 iOS 6 SDK 中修复：

```
#define YES             ((BOOL)1) 
```

与此同时，您必须输入`@(YES)`.

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-27T10:30:34.380

[这](http://clang.llvm.org/docs/ObjectiveCLiterals.html)对于有关文字的信息很有用。

[对此答案](https://stackoverflow.com/a/11428213/916299)的评论者还指出：

> 我想警告一件小事。因此也不支持文字布尔值。但是，我实施的一个快速修复是将其添加到我的一个常见标题的开头（在 iOS 项目中）
> 
> ```
> #ifndef __IPHONE_6_0 
> #if __has_feature(objc_bool) 
> #undef YES 
> #undef NO 
> #define YES __objc_yes 
> #define NO __objc_no 
> #endif 
> #endif 
> ```

@phix23s 的回答似乎更重要。你应该接受这一点。

这值得从评论中添加：

> 需要注意的是，这需要在 #import 之后完成。如果将这些#defines 放在他们的 Prefix.pch 中，他们应该确保在 pch 中更早地导入 Foundation

# javascript - 附加html的不同方法？

> ID：11685997
> 
> 赞同：2
> 
> 时间：2012-07-27T10:28:53.283
> 
> 标签：javascript, jquery

我只是想知道在jquery中添加html的方法之间的区别。两者都会做同样的事情吗？

```
$('body').append($("<div><img src='somesource' alt='something'></div>")); 
```

和

```
var div = $("<div>");
var img = $("<img>").attr({"src" : "somesource", "alt" : "something"});
div.append(img);
$('body').append(div); 
```

最佳实践是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:32:07.893

第二个更好。因为你经常看到人们这样做：

```
var alt = 'This is " the title containing a double quote';
$('body').append($('<div><img src="somesource" alt="' + alt + '"></div>')); 
```

然后想知道为什么有些东西被吃掉了:-)。而当您使用第二个时，您完全不用担心：

```
var alt = 'This is " the title containing a double quote';
var div = $('<div>');
var img = $('<img>').attr({ src : 'somesource', alt : alt });
div.append(img);
$('body').append(div); 
```

* * *

更新：

我说你不用担心第二种方法太仓促了。正如其他人已经指出的那样，您必须担心性能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T10:35:36.160

第二种方法看起来更好，出错的可能性更小。但在性能方面，第二种方法较慢。因此，如果您要做很​​多事情`appending`，我建议您使用第一种情况-尽管要小心。

[这是JS-Perf 上](http://jsperf.com/jquery-div-append-test)比较两种方法的一个小测试用例

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T10:33:27.073

通常我会说 DOM 脚本是更好的选择（第二种方法）；与插入大量准备为字符串的 HTML 相比，它更有条理，也更容易发现问题。

也就是说，存在性能问题。通过 DOM 脚本插入大量元素，尤其是在循环中，可能会导致显着减慢，并且在某些情况下以字符串形式插入会更快。

此外，您执行的插入次数越少 - 无论采用何种方式 - 您强制浏览器进行的重绘/刷新次数就越少。同样，这些都需要浏览器注意，所以越少越好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T10:34:01.737

另请参阅我关于[何时使用基于 DOM 的生成与使用字符串/innerHTML/JQuery 生成 DOM 内容](https://stackoverflow.com/q/11550461/1048572)[的回答？](https://stackoverflow.com/a/11550785/1048572)

* * *

不同之处在于您有两个变量指向 jQuery 实例。您可能需要它们来添加事件监听器或稍后在代码中操作它们。

此外，基于 DOM 的元素生成具有自动转义字符串的优点，这在设计带有参数且绝对需要用户输入的函数时特别有用。

因此，通常首选第二种方法。您还可以嵌套附加过程以使结构清晰（好的，在此示例中，单行也是清晰的）：

```
var div = $("<div>");
var img = $("<img>", {"src":"somesource", "alt":"something"});
$('body').append(
  div.append(
    img
  )
); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T10:34:15.877

我相信你最好使用模板库来插入对象。一个这样的库的例子在这里：[http ://api.jquery.com/category/plugins/templates/](http://api.jquery.com/category/plugins/templates/)

这些库是为提高性能而构建的，并减轻了解析 HTML blob 的负担。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-27T10:34:44.553

添加一串 HTML 内容大约快 10 倍

比使用第二种方法

**这是一个[参考](http://www.learningjquery.com/2009/03/43439-reasons-to-use-append-correctly)**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-27T10:32:06.237

我更喜欢第二个，因为第一个可能会导致很长的行，如果您需要将事件绑定到某些元素，您已经有一个指向它的变量。

# php - 列出表格中包含日期信息的行

> ID：11685999
> 
> 赞同：2
> 
> 时间：2012-07-27T10:28:58.487
> 
> 标签：php, mysql

我正在为教师构建一个简单的缺勤脚本来管理学生。

我需要在 5 个表中填充相同的学生列表。当前一周的每一天（周一至周五）一张表。

我现在有以下代码

***列出学生SQL查询：***

```
SELECT s.student_id, s.student_firstname, s.student_lastname, 
 a.student_absence_startdate, a.student_absence_enddate, a.student_absence_type
FROM students s 
LEFT JOIN studentabsence a ON a.student_id = s.student_id
WHERE a.student_absence_startdate 
 IS NULL OR 
  '2012-06-20' 
   BETWEEN 
a.student_absence_startdate AND a.student_absence_enddate 
```

此查询选择所有学生并加入另一个表，该表是一个链接表，其中包含学生的缺勤信息。

我像这样填充代码 5 次：

```
<?php
$data = array();
    while ($row = mysql_fetch_array($list_students)) {
    $data[] = $row;
    }
?>

<table>
  <?php
  foreach($data as $row){
    $class = "";
    if ($row['student_absence_type'] == 2) {$class = " style='background:#f00;'";}
    else if ($row['student_absence_type'] == 3) {$class = " style='background:#8A2BE2;'";}

        echo "<tr><td$class>";
        echo "<a class='ajaxlink' href='#' rel='pages/ajaxAbsence.php?student_id=".$row['student_id']."'>".$row['student_firstname']." ".$row['student_lastname']."</a>";
        echo "</td></tr>\n";
   }
   ?>
</table> <!-- Repeat --> 
```

我的问题是我应该如何管理日期功能。

正如您在我的 SQL 查询中看到的那样，我已经对日期进行了硬编码。我需要它来自动选择列出学生的日期。

例如：

```
table > Monday (2012-07-23)
    the user John Doe has absence information in this span, based on the above query. Let's change the background of <td>
table > Tuesday (2012-07-24)
    the user John Doe has no absence information in this span. Just list him.
etc... 
```

我不希望你写我的代码。我只是好奇如何思考。我对编程相当陌生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:53:59.113

我在您的想法中发现的最明显的错误是您不需要这五张表。你最终会重复和弄乱数据。

从我读过的内容来看，您需要不同的表格。

**学生**

身份证、姓名等。

**课程**

class_id，名称，

**教师**

id_teacher、姓名等

**TeachersInClass**（所以你现在可以知道哪些老师给了一个特定的课程）

id, id_teacher, id_class

缺勤

id, id_student, id_class, 日期

这为您留下了一个更强大的数据库，并且您可以使用多种关联，例如哪些教师一年中缺勤最多......等等。

编辑：忘记回答你的“真实”问题。

您可以使用 PHP [DateTime](http://www.php.net/manual/en/class.datetime.php)类来操作您的日期。它很容易使用，而且 php.net 有很多很好的例子可以给你一个提升的开始