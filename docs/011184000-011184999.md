# StackOverflow 问答 11184000-11184999

# python - 将数据插入数据库时 出现 TypeError

> ID：11184001
> 
> 赞同：0
> 
> 时间：2012-06-25T05:44:30.097
> 
> 标签：python, mysql, typeerror

首先，我从一个大学网站以元组的形式提取了一个大学列表：

*(('name1', 'address1'), ('name2', 'address2'), ('name3', 'address3'))*

然后我想在名为“sample”的数据库和表“collegelist”中写这个。表有两个字段（名称 varchar(400) 不为空，地址 varchar(500)）：

这是代码：

```
for college in tuples:
   cursor.execute('INSERT INTO collegelist (name, address) VALUES ("%s", "%s")') %(college[0], college[1])
   db.commit()
db.close() 
```

但它总是给出以下类型错误：

```
TypeError: unsupported operand type(s) for %: 'long' and 'tuple' 
```

我还尝试仅插入姓名并留下地址，然后出现以下类型错误：

```
TypeError: unsupported operand type(s) for %: 'long' and 'str' 
```

现在我不明白“长”类型是从哪里来的。程序中只有字符串和元组。

> **注**：大学名称和地址有单引号、双引号、破折号、句号。

为什么会出现这个错误，我该如何删除它？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T05:49:42.997

`cursor.execute('INSERT INTO collegelist (name, address) VALUES ("%s", "%s")') <--`

此时，您已关闭对 的调用`execute`。此外，您应该将参数传递给`execute`，并且永远不要将它们解析到查询中。

```
q_insert = "INSERT INTO collegelist (name,address) VALUES (%s,%s)"
for college in tuples:
    cursor.execute(q_insert,(college[0], college[1]))
    db.commit() 
```

# c# - 哪个必须与 XmlSerializer 和 WCF - DataContract 或 MessageContract 一起使用？

> ID：11184005
> 
> 赞同：0
> 
> 时间：2012-06-25T05:44:51.607
> 
> 标签：c#, wcf, xml-serialization

我需要编写 WCF 服务，它将**.xml**文件反序列化到我的自定义 calss 中，然后对该数据执行一些操作。我已经编写了这个应用程序的测试版本，它使用控制台而不是 WCF。这是我的代码的样子：

```
[Serializable]
public class ErrorMsgElement
{
    [XmlElement("Sender")]
    public string SenderOfMessage{ get; set; }

    [XmlElement()]
    public Int64 UserID { get; set; }

    [XmlElement()]
    public Int64 SerialNumber { get; set; }

    [XmlElement("DateTime")]
    public DateTime DateAndTimeOfMessage { get; set; }
}

[Serializable]
[XmlRoot("Root")]
public class ErrorMessage
{
    [XmlElement("Header")]
    public string HeaderOfFile { get; set; }

    [XmlElement("ErrorMsg")]
    public ErrorMsgElement msgElent { get; set; }
} 
```

**和主要代码**

```
 ErrorMessage myErrorMsg = new ErrorMessage();
        //pathToFile is original path
        string path = @pathToFile;

        XmlSerializer myXmlSerializer = new XmlSerializer(typeof(ErrorMessage));

        using (StreamReader myStrReader = new StreamReader(path))
        {
            myErrorMsg = (ErrorMessage)myXmlSerializer.Deserialize(myStrReader);
        }

        //some operations on myErrorMsg such as writing to database 
```

它在控制台应用程序中运行良好。现在我需要在 WCF 服务中编写相同的逻辑。但我不知道我应该使用什么 - **[Serializable]**、**[DataContact]**、**[MessageContract]**或其他？考虑到我的自定义类中也有一些 [XmlArray] 属性。如果我将 [DataContract] 属性添加到我的**ErrorMessage**类，我是否必须向**ErrorMsgElement**添加相同的属性，如下所示？

```
[DataContract]
[Serializable]
public class ErrorMsgElement
{
    ...
}

[DataContract]
[Serializable]
[XmlRoot("Root")]
public class ErrorMessage
{
    ...

    [DataMember]
    [XmlElement("ErrorMsg")]
    public ErrorMsgElement msgElent { get; set; }
} 
```

所有答案都非常感谢。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:59:33.900

在 wcf 中`[DataContact]`并被`DataContractSerializer`推荐用于你想做的事情。但是您也可以使用`XmlSerializer`它，这实际上只是您的选择（使用第一个或第二个不会影响您的应用程序的性能）。

**编辑：**

当您向`DataContract`您的类添加属性时，您不必添加`Serializable`属性也相同的类`DataContract`等于`Serializable`

检查此以获取有关[嵌套 DataContracts的答案](https://stackoverflow.com/questions/4997997/nested-datacontracts-not-serialising-through-wcf)

# php - 如何在 hostgator 共享主机帐户中使用 php 创建数据库？

> ID：11184008
> 
> 赞同：-2
> 
> 时间：2012-06-25T05:44:59.740
> 
> 标签：php, cpanel

我可以通过转到 cpanel 手动创建数据库。但我想使用 php 创建数据库。我尝试使用 w#school.com 中的代码，但它不起作用。如何使用 php 创建数据库？

```
<?php
$con = mysql_connect("localhost",cpname_DbUsername,password);
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

if (mysql_query("CREATE DATABASE " . cpName_NewDbName,$con))
  {
  echo "Database created";
  }
else
  {
  echo "Error creating database: " . mysql_error();
  }

mysql_close($con);
?> 
```

上面的代码给了我错误:(顺便说一句，我试图在hostgator sup [端口论坛中提问，但我无法在他们的论坛中提出新的威胁:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-20T12:57:08.517

```
function create_db($cPanelUser,$cPanelPass,$dbName) {

$buildRequest = "/frontend/x3/sql/addb.html?db=".$dbName;

$openSocket = fsockopen('localhost',2082);
if(!$openSocket) {
    return "Socket error";
    exit();
}

$authString = $cPanelUser . ":" . $cPanelPass;
$authPass = base64_encode($authString);
$buildHeaders  = "GET " . $buildRequest ."\r\n";
$buildHeaders .= "HTTP/1.0\r\n";
$buildHeaders .= "Host:localhost\r\n";
$buildHeaders .= "Authorization: Basic " . $authPass . "\r\n";
$buildHeaders .= "\r\n";

fputs($openSocket, $buildHeaders);
while(!feof($openSocket)) {
    fgets($openSocket,128);
}
fclose($openSocket);

//echo "Created database $dbName";

}
create_db('username','password','dbname'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T23:07:51.867

在共享主机上，您将无权通过 PHP 创建数据库，因为它们规定了您可以拥有的数据库数量。您需要通过他们的控制面板进行操作。在旁注中，您可能应该为新的 web 应用程序使用 PDO（或者如果应用程序允许，则使用更强大的抽象层）。php_mysql 已弃用。此外，w3schools 是一个[糟糕的、非权威的资源](http://w3fools.com)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:09:41.530

首先，检查用户名密码和mysql db名称是否正确，是否有访问数据库的权限。

然后，尝试使用新方法连接到名为`PDO`

这是手册[PDO MANUAL](http://php.net/manual/en/book.pdo.php)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-08-11T11:40:32.900

我从 CPanel 在 Hostgator 中创建数据库的方法是使用[MySQL Workbench](http://www.mysql.com/products/workbench/)，这是您必须完成的一些步骤！[点击这里！](http://support.hostgator.com/articles/specialized-help/technical/managing-your-database-with-applications) 您可以从工作台管理主机中的所有数据库。

工作台是一个非常容易使用的工具！

# java - 在java中设置大于127的int字节变量

> ID：11184010
> 
> 赞同：2
> 
> 时间：2012-06-25T05:45:04.127
> 
> 标签：java, casting, byte

我编写了以下示例代码：

```
public static void main(String[] args) throws Exception
{
      byte number_1 =  127;
      byte number_2 =  (byte) 128;
      System.out.println("number_1 = " + number_1);
      System.out.println("number_2 = " + number_2);
} 
```

我在输出中得到以下结果：

```
number_1 = 127
number_2 = -128 
```

我知道`byte`数据类型的范围（`-128`到`127`）。我的样本是否正确？发生了什么？有二进制补码运算吗？我不明白这种行为。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-25T05:45:40.220

因为一个字节最多只能容纳 -128 到 127，这是溢出的预期行为

检查[这个循环](http://ideone.com/lJoDa)

```
for(int index = 0 ; index < 258 ; index ++ ){
  System.out.println((byte)index);
} 
```

## ![数线](../Images/dcef6bf3a46b87291b37e80be10c650c.png)

**另见**

*   [无休止的for循环](https://stackoverflow.com/questions/3975826/endless-for-loop/)
*   [不错的漫画插图](https://i.stack.imgur.com/sn8c1.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T05:46:52.407

这是因为字节范围。一个字节只能存储从 -128 到 127 的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T05:51:18.803

您将看到[缩小原始转换](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3)的效果：将整数文字转换`128`为`byte`除最后一个字节外的所有结果。整数的最后一个字节具有 value `10000000`，当在[二进制补码中解释](http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement) *为单字节值*时，它会输出`-128`.

相反，相同的值被解释为在左边用零填充的四字节值，即`00000000 00000000 00000000 10000000`等于`128`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T05:48:39.577

来自关于原始数据类型的[官方文档：](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)

> byte：byte 数据类型是一个 8 位有符号二进制补码整数。它的最小值为 -128，最大值为 127（含）。

回答您的问题：**如何在 java 中设置大于 127 个 int 字节的变量？**

*表示无符号字节的最佳方法是使用有**符号整数***，因为 Java VM 将字节表示为 32 位，因此使用字节不会保存任何内容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-05T11:39:06.067

最后一个字节数是 127，第一个是 -128，所以当数字为 128 时，它变为 -128，当数字为 129 时，它变为 -127 .. 它继续直到再次达到 127，然后再次循环并变为 - 128 ..这就是我所理解的..我希望它清楚..

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T06:06:51.233

因为一个字节最多只能容纳 -128 到 127，所以当您转换大于 127 或小于 -127 的 int 时，java 编译器会自动进行更改。其实下面的说法

```
byte number_2 =  (byte) 128; 
```

已更改为

```
byte number_2 =  (byte) -128; 
```

使用 javap 检查字节码后，您会找到它。

# java - 如何使用httpunit获取json页面

> ID：11184012
> 
> 赞同：8
> 
> 时间：2012-06-25T05:45:30.093
> 
> 标签：java, webclient, http-unit

我正在使用网络客户端。并通过网络客户端成功登录。但是当我发送第二个获取数据的请求时。我有一个例外

```
com.gargoylesoftware.htmlunit.UnexpectedPage@6d8d73` 
```

但是当我通过 url 传递 brouser 时，我得到了一个数据 Json 格式。

代码：

```
webClient.getPage("http://ajax/stream/refresh-box?r=new&id=2323222&") 
```

谢谢先进

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T11:14:45.310

这是通过 Web 客户端读取不同内容类型的内容

```
Page page = webClient.getPage(url);
System.out.println(page);
WebResponse response = page.getWebResponse();

if (response.getContentType().equals("application/json")) 
{
pagesource = response.getContentAsString();
System.out.println(pagesource);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T15:47:39.550

此 URL 返回错误，如果我在浏览器中输入，请再次检查：“http://ajax/stream/refresh-box?r=new&id=2323222&”

顺便说一句，为什么它在没有附加参数的情况下以 & 符号结束？

我删除了 & 符号，但在浏览器中仍然没有出现页面异常。

# wcf - 如何分析 WCF 服务？

> ID：11184018
> 
> 赞同：2
> 
> 时间：2012-06-25T05:45:48.663
> 
> 标签：wcf, performance, profiling

我正在对整个系统进行性能测试。我在一些 Winform 应用程序上使用了 SlimTune 来识别瓶颈，我喜欢它，它非常易于使用和理解。

现在我想对一些 WCF 服务（全是自托管的）做同样的事情。我应该使用什么工具？（请提供免费工具）有没有办法为此使用 SlimTune？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T00:35:47.553

以下线程提出了相同的问题并提供了一些很好的建议。

[如何开始使用 WCF 性能分析](https://stackoverflow.com/questions/3936853/how-to-get-started-with-wcf-performance-profiling)

# .net - 1000个组合框绑定

> ID：11184020
> 
> 赞同：4
> 
> 时间：2012-06-25T05:45:58.867
> 
> 标签：.net, wpf, performance, xaml, combobox

我有一个 WPF 表单，其中包含 30x30 网格，其中每个网格单元都是`ComboBox`. ComboBox 值和选定值绑定自`DataContext`. 问题是它运行得很慢。我重新设计了表单，使其显示文本框而不是组合框（并在鼠标输入时`TextBox`转换为`ComboBox`），并且现在可以立即工作。

为什么组合框这么慢？有什么方法可以改进 ComboBox 的大规模绑定？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:12:28.873

`ComboBox`默认情况下不使用虚拟化（`VirtualizingStackPanel`），您可以通过非常简单的方式更改控件使用的面板：

```
<ComboBox ItemsSource="{Binding}">
    <ComboBox.ItemsPanel>
        <ItemsPanelTemplate>
            <VirtualizingStackPanel />
        </ItemsPanelTemplate>
    </ComboBox.ItemsPanel>
</ComboBox> 
```

参考：[通过 UI 虚拟化提高 Combobox 性能](http://blog.kirupa.com/?p=115)

如果 a 有数千个项目，这对提高性能`ComboBox`有很大帮助，但不确定它对您的情况有多大帮助，因为拥有 1000 个组合框对 UI 来说非常重要。

您也可以尝试将这些组合框放在虚拟化面板中（如`ListBox`或直接使用`VirtualizedStackpanel`）。

您可以尝试的另一件事是使用属性使您的`ComboBox` `ItemSource`绑定异步。[`IsAsync`](http://msdn.microsoft.com/en-us/library/system.windows.data.binding.isasync.aspx)

我希望你使用`ObservableCollection`你的`ItemSource`;

# inheritance - mod_mono 是否支持 web.config 继承？

> ID：11184022
> 
> 赞同：0
> 
> 时间：2012-06-25T05:46:41.677
> 
> 标签：inheritance, mono, web-config, apache2, mod-mono

我无法让 .NET Web 服务从其父级的 web.config 文件中获取值。

服务器是运行 apache2 和 mod_mono 的 debian 机器。应用程序注册到 mono-server4。

父服务注册为：

```
path = /path/to/service/Parent
alias = /Parent 
```

子服务注册为

```
path = /path/to/service/Parent/Child
alias = /Parent/Child 
```

Parent 和 Child 都有自己的 web.config 文件。我试图访问的设置是：

```
<configuration>
   <appSettings>
      <add key="Test" value="My Test Value" /> 
```

我正在使用的代码是：

```
System.Web.Configuration.WebConfigurationManager.AppSettings["Test"]; 
```

如果密钥位于 Child 的 web.config 中，则 Child 服务能够检索该值。

如果密钥位于 Parent 的 web.config 中，则 Child 服务看不到该值。

通常，在 IIS 下，子服务将从其父的 web.config 继承值。

mod_mono 支持这个吗？我在配置系统时遗漏了什么吗？

谢谢，克里斯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T21:07:44.500

那么似乎是一个错误，您应该在[http://bugzilla.xamarin.com/中报告它](http://bugzilla.xamarin.com/)

# mysql - JPA @Table 注释“目录”和“模式”变量用于什么？

> ID：11184025
> 
> 赞同：24
> 
> 时间：2012-06-25T05:46:50.243
> 
> 标签：mysql, hibernate, jpa, schema, catalog

为什么这些很重要，它们对手头的数据库有什么影响？

那个时候“模式”不是已经决定了吗，因为它存在于数据库中？

究竟什么是“目录”？JPA 目录字段期望什么样的变量/输入？此外，“模式”字段的相同问题。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-25T06:24:47.150

目录和模式是您在数据库服务器端定义的“命名空间”。有些数据库包含模式，有些包含目录，有些包含两者。当使用特定用户登录时，某些数据库将架构/目录默认为用户的命名空间，导致表对其他用户不可见，从而导致需要使用“通用”命名空间。因此，根据您用于备份数据的数据库，您可能希望忽略这些设置。

对于 MySQL，您可能希望忽略这些设置。这是因为 JDBC URL 的“数据库”部分（最后一个斜杠之后的那个）指向数据库名称，这在语义上与模式相同（对于 MySQL）。

# javascript - FB.api 仅在第一次 AJAX 调用页面时加载

> ID：11184031
> 
> 赞同：1
> 
> 时间：2012-06-25T05:47:14.353
> 
> 标签：javascript, ajax, facebook, sdk

我有一个 FB.api 的问题，它只在第一次通过 AJAX 检索页面时加载。FB.getLoginStatus 确实有效。

演示页面： http: [//proof.ptly.com/test/fb/test-ajax.htm](http://proof.ptly.com/test/fb/test-ajax.htm)（第一次点击加载链接有效，第二次点击失败）

**预期/期望的行为**：在授予应用程序权限后，它应该列出与用户关联的所有组或页面

**当前行为**：组列表仅在首次加载时填充。后续点击不加载列表（FB.api 不返回响应 - 查看控制台以进行日志记录）

这个问题背后的原因是我正在检索的页面（test.htm）无法更改，但我从中调用它的页面（test-ajax.htm）可以。虽然我知道这种方法既不漂亮也不理想，但我想知道是否有可能克服。因此，更改底层 test.htm 的建议虽然正确，但并不能解决我遇到的问题。

## 示例代码

调用AJAX页面的主页面

```
<html>
    <head>
        <title>My Facebook Login Page</title>
        <script type="text/javascript" language="javascript" src="js/jquery.js"></script>
        <script>
        var loaded = false;
        jQuery(document).ready(function(){
            jQuery("#lnk").click(function(e){
                e.preventDefault();
                jQuery("#divContent").load("test.htm", function(){
                    if(loaded)
                    {

                        FB.getLoginStatus(FBverifyLogin);
                    }
                    else
                    {

                        loaded = true;
                    }
                });
            });
        });
        </script>
    </head>
    <body>
        <a href="#" id='lnk'>load</a>
        <div id='divContent'></div>
    </body>
 </html> 
```

正在检索 AJAX 页面

```
 <script type="text/javascript">
        var FB_config = {
            API_ID: "347798778614308",
            PERMISSIONS: "publish_stream,manage_pages,user_groups",
        };
        (function(d){
           var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
           js = d.createElement('script'); js.id = id; js.async = true;
           js.src = "//connect.facebook.net/en_US/all.js";
           d.getElementsByTagName('head')[0].appendChild(js);
         }(document));

        jQuery(document).ready(function(){
            // initialise FB
            window.fbAsyncInit = function() {
                FB.init({
                    appId      : '347798778614308',
                    status     : true, 
                    cookie     : true,
                    xfbml      : true,
                    oauth      : true
                });
                FB.Event.subscribe('auth.statusChange', FBverifyLogin);
            };
        });

        function FBverifyLogin(response) {
            console.log("FBverifyLogin");
            console.log(response);
            jQuery("#FBreauth").hide();
            if (response.status === 'connected') {
                // the user is logged in and has authenticated your
                // app, and response.authResponse supplies
                // the user's ID, a valid access token, a signed
                // request, and the time the access token 
                // and signed request each expire
                var uid = response.authResponse.userID;
                var accessToken = response.authResponse.accessToken;
                ShowPostToFacebookCheckbox();
                FBdisplayMyPages(response.authResponse);
                jQuery("#btnLogin").hide();
                checkPermissions();

            } else if (response.status === 'not_authorized') {

            } else {
                // the user isn't logged in to Facebook.
                jQuery("#btnLogin").show();
                return false;
            }
        }
        function checkPermissions(){
            console.log("checkPermissions");
            FB.api('/me/permissions', function(response) {
                console.log("in checkPermissions fb.api");
                console.log(response);
                var permissions = FB_config.PERMISSIONS.split(",");
                for(var i = 0; i < permissions.length; i++)
                {
                    if(response.data[0][permissions[i]] == undefined || response.data[0][permissions[i]] != 1)
                    {
                        jQuery("#FBreauth").show();
                        break;
                    }
                }
            });
        }
        function FBdisplayMyPages(authResponse){
            console.log("FBdisplayMyPages");
            console.log(authResponse);
            FB.api('/me/accounts', function(response) {
                console.log("in FBdisplayMyPages fb.api");
                console.log(response);
                var str = "";
                var name = "";
                var count = 0;
                str += '<optgroup label="Pages">';
                for(var i = 0; i < response.data.length; i++)
                {
                    if(response.data[i].category != "Application")
                    {
                        name = response.data[i].name;
                        str += '<option value="'+response.data[i].id+"_"+response.data[i].access_token+'">'+name+'</option>';
                        count++;
                    }
                }
                str += "</optgroup>";

                jQuery("#msgPostOn").html(str);
                FB.api('/me/groups', function(response) {
                    console.log("in FBdisplayMyPages fb.api 2");
                    console.log(response);

                    str = jQuery("#msgPostOn").html();
                    str += '<optgroup label="Groups">';
                    name = "";

                    for(var i = 0; i < response.data.length; i++)
                    {
                        if(response.data[i].category != "Application")
                        {
                            name = response.data[i].name;
                            str += '<option value="'+response.data[i].id+"_"+authResponse.accessToken+'">'+name+'</option>';
                            count++;

                        }
                    }
                    str += "</optgroup>";
                    jQuery("#msgPostOn").html(str);

                    switch(count)
                    {
                        case 0:
                            // notify that there are not pages. will post to personal page
                            str += '<option value="' + authResponse.userID + "_" + authResponse.accessToken + '">Personal Account</option>';
                            jQuery("#msgPostOn").html(str);
                            jQuery("#FBpostTo").text("No pages found. Posting to your personal account");
                            jQuery("#FBpostTo").show();

                            break;
                        case 1:
                            // only 1 page. hide it...
                            // notify name of page to update

                            jQuery("#msgPostOn").hide();
                            jQuery("#FBpostTo").html("Posting to <strong>" + name + "</strong>");
                            jQuery("#FBpostTo").show();
                            break;
                        default:
                            // notify user to select a page to post to
                            jQuery("#FBpostTo").text("There are multiple groups/pages associated with your account. Specify which to post to ");
                            jQuery("#FBpostTo").show();
                            jQuery("#msgPostOn").show();
                    }
                });
            });
        }
        function FBrefresh(){
            console.log("FBrefresh");
            FB.getLoginStatus(FBverifyLogin);
        }
        function FBreauth(){
            console.log("FBreauth");
            FB.ui(
                {
                    method: 'oauth',
                    display: 'popup',

                    app_id: FB_config.API_ID,
                    client_id: FB_config.API_ID,
                    redirect_uri: "http://www.facebook.com/connect/login_success.html",

                    scope: FB_config.PERMISSIONS
                }
            );          
        }

        function ShowPostToFacebookCheckbox() 
        { 
            console.log("ShowPostToFacebookCheckbox");
            jQuery('#postToFacebook2').css('display', 'inline'); 
            jQuery('#LabelForFacebook').css('display', 'inline'); 
        }

    </script>       

    <div id="fb-root"></div>
<div id="postToFacebookField" class="fieldContainer checkbox ">
    <div id="btnLogin" class="fb-login-button" scope="publish_stream,manage_pages,user_groups">Login with Facebook</div>
    <input type="checkbox" style="display:none" name="postToFacebook2" value="on" id="postToFacebook2"> 
    <label style="cursor: pointer; display:none" for="postToFacebook2" id="LabelForFacebook">Post to Facebook Page</label>
    <div id="FBpostTo" style="display: none"></div>
    <select id="msgPostOn" style="display: none"></select>
    <div style="display: none" id="FBreauth">(Insufficient permissions. <a href ='#' onclick='FBreauth(); return false;'>Authorize this app</a> and <a href='#' onclick='FBrefresh() ; return false'>refreshing</a>)</div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-13T13:35:04.463

如果您仍在寻找解决此问题的方法，我相信我有一些可能在您设置的限制范围内起作用。很简单，我们只需清除内存中所有加载的变量和对象，以及我的测试，包括`<script>`facebook 附加的。

用这个替换 test.htm 中的点击处理程序，它应该可以工作

```
jQuery(document).ready(function(){
    jQuery("#lnk").click(function(e){
        if(FB && document.getElementById("facebook-jssdk")){ //if set, reset
              //removes the <script>
          document.head.removeChild(document.getElementById("facebook-jssdk")); 
          window.FB=null; //unloads the APIs
          loaded=null; 
        }
        e.preventDefault();
        jQuery("#divContent").load("test.htm", function(){
            if(loaded)
            {
                FB.getLoginStatus(FBverifyLogin);
            }
            else
            {   
                loaded = true;
            }
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-10T09:34:13.730

我们遇到了类似的问题，这篇文章[http://www.martincarlin.info/facebook-js-sdk-not-working-on-second-load-of-ajax-loaded-page/](http://www.martincarlin.info/facebook-js-sdk-not-working-on-second-load-of-ajax-loaded-page/)帮助我们解决了这个问题.

脚本不起作用的原因是 window.fbAsyncInit 函数在初始页面加载时运行，因此第二次执行 AJAX 调用时，Facebook JavaScript SDK 已经加载到您的页面中，因此 window.fbAsyncInit 不会再次触发.

通过检查是否已经定义了 FB，我们可以在没有初始化部分的情况下使用我们的 SDK 代码。

希望这将帮助您解决问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-26T22:01:29.730

在尝试了过去几天的一切之后，下面的这段代码对我有用。

```
//intialize FB object (this is useful if you are using Turbolinks)
$(document).on('page:load', function(){
 intializeFB();
});

intializeFB();

function intializeFB(){
 if(typeof(FB) !== "undefined"){
  delete FB;
 }
 $.getScript("http://connect.facebook.net/en_US/all.js#xfbml=1",      function () {
   FB.init({
     appId      : '19871816653254',
     cookie     : true,  // enable cookies to allow the server to access 
                         // the session
     xfbml      : true,  // parse social plugins on this page
     oauth      : true,
     status     : true,
     version    : 'v2.4' // use version 2.4
   });
 });
} 
```

希望这是有用的！

# c - C中好的矩阵求逆例程

> ID：11184037
> 
> 赞同：2
> 
> 时间：2012-06-25T05:48:44.803
> 
> 标签：c, matrix-inverse

作为用于数值计算的 python 代码的一部分，我必须多次反转较大（稀疏）矩阵（~100x100）。我真的很想加快程序的速度，向我建议的一种方法是调用 C 中的子程序来进行矩阵求逆步骤。

对于这项任务，是否有任何推荐的高效且经过良好测试的 C 例程？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:24:56.353

```
>>> from numpy import *
>>> from numpy.linalg import inv
>>> from scipy.sparse import csr_matrix
>>> m = matrix([[3,1,5],[1,0,8],[2,1,4]])
>>> s = csr_matrix(m)
>>> invs = inv(a) # Inverse sparse matrix
>>> dot(a,inva) # Check the result, should be eye(3) within machine precision
csr_matrix([[ 1.00000000e-00, 2.77555756e-17, 3.60822483e-16],
           [ 0.00000000e+00, 1.00000000e+00, 0.00000000e+00],
           [ -1.11022302e-16, 0.00000000e+00, 1.00000000e+00]]) 
```

它真的是你需要的逆吗？您可以在不倒置的情况下实现您的目标：

> *真正*需要逆向的情况很少见。此外，稀疏矩阵的逆不一定是稀疏的。通常，反转比 LU 分解更昂贵，并且容易出现舍入错误。

-- [http://mail.scipy.org/pipermail/scipy-user/2007-October/013936.html](http://mail.scipy.org/pipermail/scipy-user/2007-October/013936.html)

--> [http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.linalg.factorized.html#scipy.sparse.linalg.factorized](http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.linalg.factorized.html#scipy.sparse.linalg.factorized)

# jquery - jquery ajax调用上的无效标签错误

> ID：11184038
> 
> 赞同：0
> 
> 时间：2012-06-25T05:48:54.543
> 
> 标签：jquery, ajax, web-services

我正在使用以下代码从 spring 3.0 rest webservice 读取 json 响应。

```
 $(document).ready(function() {
    jQuery.support.cors = true;
        $.ajax({
            url: 'http://localhost:8080/mobile-services/rest/images/',
            type: 'GET',
            dataType: 'jsonp',
            contentType:'application/json',
            success: function(data) { alert(""); },
            error: function() { alert('Error occured.. !'); },
            beforeSend: setHeader
        });
    });

    function setHeader(xhr) {
        xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
        xhr.setRequestHeader('Content-Type', 'application/json');
    } 
```

如果我使用 $.getJSON，我会得到有效的 JSON 作为响应。

```
 $(document).ready(function() 
 {
    alert("Within readky function..");
    $.getJSON('http://localhost:8080/mobile-services/rest/images/',
    function(json) 
    {
        alert(json); 
    });
  }); 
```

如果我从浏览器调用 web 服务，我会得到以下响应，这是一个有效的 JSON。

```
{"imageList":[{"itemName":"tv","picName":"image1.jpg","price":20,"id":0},{"itemName":"radio","picName":"image2.jpg","price":5,"id":0}]} 
```

我还想提一件事。$.getJSON 在 chrome 和 firefox 上运行良好，但在 IE 上失败。

请建议。

# ruby - 在 ruby 1.9.3 上安装 iconv 失败

> ID：11184040
> 
> 赞同：2
> 
> 时间：2012-06-25T05:49:00.723
> 
> 标签：ruby, rubygems, gem, jekyll, iconv

我正在尝试在 ruby​​ 1.9.3 上安装 iconv (gem)，但是运行时失败：

> 宝石安装图标v

```
Building native extensions.  This could take a while...
ERROR:  Error installing iconv:
    ERROR: Failed to build gem native extension.

        /home/adhown/.rbenv/versions/1.9.3-p0/bin/ruby extconf.rb
checking for iconv() in iconv.h... yes
checking for const of iconv() 2nd argument... no
creating Makefile

make
compiling iconv.c
In file included from iconv.c:21:0:
/home/adhown/.rbenv/versions/1.9.3-p0/include/ruby-1.9.1/ruby/backward/st.h:2:2: warning: #warning use "ruby/st.h" instead of bare "st.h" [-Wcpp]
iconv.c:22:20: fatal error: intern.h: No such file or directory
compilation terminated.
make: *** [iconv.o] Error 1

Gem files will remain installed in /home/adhown/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/iconv-0.1 for inspection.
Results logged to /home/adhown/.rbenv/versions/1.9.3-p0/lib/ruby/gems/1.9.1/gems/iconv-0.1/ext/iconv/gem_make.out 
```

我用 rbenv 安装 ruby​​ 是否相关？

谁知道怎么解决，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-15T10:50:10.130

删除 iconv gem 并使用 String#encode 代替。

这将返回 my_string_variable utf-8 编码的字符串副本：

```
my_string_variable.encode('utf-8', {:invalid => :replace, :undef => :replace, :replace => ''}) 
```

参见：[Ruby-Doc](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-encode)

# java - 如何为空对象计算哈希码

> ID：11184041
> 
> 赞同：4
> 
> 时间：2012-06-25T05:49:03.407
> 
> 标签：java

由于 HashMap 和 HashSet 允许空对象，这些“空”对象的哈希值是多少？它是如何在 java 中计算/处理的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T05:55:10.397

openJDK 内置的 HashMap 只是将空引用放入数组中用于保存条目的第一个存储桶中

```
409     private V putForNullKey(V value) {
410         for (Entry<K,V> e = table[0]; e != null; e = e.next) {
411             if (e.key == null) {
412                 V oldValue = e.value;
413                 e.value = value;
414                 e.recordAccess(this);
415                 return oldValue;
416             }
417         }
418         modCount++;
419         addEntry(0, null, value, 0);
420         return null;
421     } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T05:55:30.450

例如`HashMap`，它只是一个特例。请参阅下面我从 JDK 1.6 获取的源代码：

```
public V put(K key, V value) {
    if (key == null)
        return putForNullKey(value);
    int hash = hash(key.hashCode());
    ...

}

/**
 * Offloaded version of put for null keys
 */
private V putForNullKey(V value) {
    for (Entry<K,V> e = table[0]; e != null; e = e.next) {
        if (e.key == null) {
            V oldValue = e.value;
            e.value = value;
            e.recordAccess(this);
            return oldValue;
        }
    }
    modCount++;
    addEntry(0, null, value, 0);
    return null;
} 
```

# actionscript-3 - Adobe Air 与 cmd 通信

> ID：11184042
> 
> 赞同：1
> 
> 时间：2012-06-25T05:49:12.827
> 
> 标签：actionscript-3, apache-flex, air, ping

有没有办法在 adobe air 中与 cmd（使用本机进程）进行通信。举个例子; 如何将“ping www.google.com”发送到 cmd 并在 Air 中捕获返回值。

编辑

```
Microsoft Windows [Version 6.1.7600]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Program Files\Adobe\Adobe Flash Builder 4.5>ping www.google.com

Pinging www.l.google.com [209.85.175.103] with 32 bytes of data:
Reply from 209.85.175.103: bytes=32 time=1733ms TTL=50
Reply from 209.85.175.103: bytes=32 time=189ms TTL=50
Reply from 209.85.175.103: bytes=32 time=188ms TTL=50
Reply from 209.85.175.103: bytes=32 time=186ms TTL=50

Ping statistics for 209.85.175.103:
Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
Minimum = 186ms, Maximum = 1733ms, Average = 574ms

C:\Program Files\Adobe\Adobe Flash Builder 4.5> 
```

我可以从 Air 应用程序在上面打印。我需要知道是否有一种特定的方法来获取最小值 = ?、最大值 = 的值？和平均值 = ? 计划炸开绳子。有没有别的办法。请帮我

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:41:00.017

您应该阅读[Interacting with Native Processes in AIR](http://www.adobe.com/devnet/air/flex/quickstart/articles/interacting_with_native_process.html)。您在命令提示符（`ping`在您的情况下）中写入的是另一个 exe 文件，位于 Windows 路径中指定的文件夹中。因此，您实际上必须使用AIR 中`ping.exe`的类调用 。`NativeProcess`或者，您可以研究 exe 的工作原理，然后在您的 AIR 应用程序中实现该逻辑。

**编辑**

编辑问题后，以下是更多详细信息：

您使用[正则表达式](http://regexlib.com/)（点击该链接并了解正则表达式）

既然你想匹配这个模式

> 最小值 = (number)ms, 最大值 = (number)ms, 平均值 = (number)ms

你的正则表达式看起来像

```
var r:RegExp=/Minimum = ([\d\.]+)ms\, Maximum = ([\d\.]+)ms\, Average = ([\d\.]+)ms/i;

//Then, you execute this on your result string
var arr:Array=r.exec(result);

//Then check if the result matched your regex
if(arr != null) {
    var min:int=arr[1];
    var max:int=arr[2];
    var avg:int=arr[3];
} else {
    trace("invalid result from ping");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:04:19.843

要执行 shell 命令（例如 ping），您需要从它的位置运行 cmd.exe 或运行 ping.exe。我发现没有直接的方法可以在 AIR 中执行 shell 命令，并且也禁止执行 bat 文件。因此，要调用 cmd.exe，您需要知道它在哪里。它的位置由环境变量给出`%ComSpec%`（我假设我们正在谈论 Windows），但您也无法从 AIR 应用程序中获取此值。
因此，当我解决了这样的问题时，我只是将 cmd.exe 与我的本机 AIR 应用程序捆绑在一起。不是最好的解决方案，因为 cmd.exe 是在另一个操作系统上使用的。您可以通过以下方式解决您的问题：

*   创建执行 'echo %ComSpec%' 并退出的本机帮助程序 exe。您可以使用`system()`命令来执行此操作，请参阅 WinApi 文档。
*   在 AIR 应用程序中，运行此帮助程序并读取控制台输出。
*   使用此路径调用 cmd.exe（您可以为单个命令指定 /C 参数。）

或者，如果您愿意，可以创建从 AIR 应用程序获取参数并使用`system()`. 然后 AIR 应用程序可以从此 exe 读取控制台输出。ActionScript 的工作量更少，C++ 的工作量更多（或用于本机帮助程序的任何内容。）
**更新：** 如果您已经获得 ping 输出，只需使用 RegExp 解析它，例如
`"Reply from \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}: bytes=32 time=(\d{1,})ms TTL=\d{1,}"`. 将捕获的时间字符串转换为 int，然后计算最小值/最大值/平均值。

# java - 使用 Struts 2 jQuery 加载 div

> ID：11184046
> 
> 赞同：0
> 
> 时间：2012-06-25T05:49:33.760
> 
> 标签：java, jquery, struts2, struts, struts-html

我正在创建一个基于 struts 的应用程序，我想根据 sj:textfield 中的内容加载一个 div。我正在使用 struts jquery 插件。必须通过将文本字段内容传递给 struts 操作来加载 div。

谁能告诉我该怎么做，因为我在任何地方都找不到任何实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T09:11:00.883

我不确定，如果我说得对。但我会试一试。查看下面的代码

```
<s:form action="action">
  <sj:textfield name="name" value="value" label="label/>
  <sj:submit targets="myResultDiv"/>
</s:form>

<div id="myResultDiv"></div> 
```

提交表单后，结果应该出现在 id 为“myResultDiv”的 div 中，查看 struts2 jquery 插件页面[strut2-jquery-plugin-showcase](http://struts.jgeppert.com/struts2-jquery-showcase/index.action)

# 编辑 1

```
<s:form id="myForm" action="action">
  <sj:textfield name="name" value="value" label="label" onChangeTopics="changeTopic"/>
</s:form>

<div id="myResultDiv"></div>
<script>
$.subscribe('changeTopic', function(event, data) {
var ui = event.originalEvent.ui;
if(ui.item) {
    $('#myResultDiv').html('<p>'+message+'</p>');
}
});
</script> 
```

# python - 使用python创建一个中文文件夹

> ID：11184048
> 
> 赞同：3
> 
> 时间：2012-06-25T05:49:45.213
> 
> 标签：python, beautifulsoup

我现在遇到一个关于中文字符的问题。我使用beautifulsoup 提取数据，并想创建一个文件夹使用提取数据的名称。数据喜欢：

```
<A href="love">星座(1824)</A> 
```

我想提取“星座（1824）”，所以我喜欢

```
soup.find('a',href='love') 
```

但在控制台中，它出来了：

```
ÐÇ×ù(1824) 
```

我在源代码的开头使用了'# - *- coding:utf-8 - -'。*这一定是一些编码问题，任何人都可以提供一些关于python工作的非英语好材料？

我想创建一个名为“星座（1824）”的文件夹，我这样做：

```
if not os.path.exists(dir_name):
        os.mkdir('./pic/'+dir_name) 
```

当我发现一个名为“ÐÇ×ù（1824）”的文件夹存在时，为什么它仍然出现：

```
OSError: [Errno 17] File exists: './vguagua_pic/\xc3\x90\xc3\x87\xc3\x97\xc3\xb9(1824)' 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:14:22.920

即使您的 .py 脚本是用 UTF-8 编写的，如果网页不是，解析的文本也可能不正确。

网页的编码实际上是GB-2312（或GB-18030），但是BeautifulSoup错误地猜测网页的编码为ISO-8859-1，并在这个错误的假设下，转换为UTF-8并导致mojibake。我们可以验证：

```
>>> b'\xc3\x90\xc3\x87\xc3\x97\xc3\xb9'.decode('utf8').encode('latin1').decode('gb2312')
'星座' 
```

您可以将`from_encoding="gb2312"`（在 bs4 中）或`fromEncoding="gb2312"`（在 3.x 中）添加到 BeautifulSoup 构造函数以强制编码，如[Beautiful Soup 文档](http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html#Beautiful%20Soup%20Gives%20You%20Unicode,%20Dammit) [（以及中文文档）](http://www.crummy.com/software/BeautifulSoup/bs3/documentation.zh.html#Beautiful%20Soup%20Gives%20You%20Unicode,%20Dammit)中所述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:06:27.120

你的问题很可能是你的控制台不能显示汉字。

我在Win7上试过这个，代码如下：

```
# -*- coding: utf-8 -*-
import os
os.mkdir(u'星座(1824)') 
```

dos控制台将中文字符显示为两个框，但是，将它们粘贴到此处时，它们会正确显示：

```
2012-06-25  07:59    <DIR>          星座(1824) 
```

它们也在 Windows 资源管理器中正确显示。

# c - CGFX 着色器从 Alpha 通道中提取数据

> ID：11184049
> 
> 赞同：0
> 
> 时间：2012-06-25T05:49:45.883
> 
> 标签：c, colors, shader, vertex, cg

我也在 Nvidia Developer 讨论中发布了这个。

[http://forums.developer.nvidia.com/devforum/discussion/9946/extracting-numbers-cgfx-shader](http://forums.developer.nvidia.com/devforum/discussion/9946/extracting-numbers-cgfx-shader)

我正在学习编写我的第一个 cgfx 着色器——一个地形着色器。所以我只能使用 1 个顶点通道（alpha 通道），我希望它存储 3 个蒙版。我在 3d App Maya 中编写了一个脚本没有问题，我可以将 1 个蒙版存储在十分位，1 个在百分位，1 个在千分位。

每个原始绘制的蒙版都被夹在 0 - .9 处（以防止使用 fmod 归零），因此如果一个顶点具有：

掩码 1 =.857

掩码 2 =.345

掩码 3 -.948

此顶点的组合 Alpha 通道为 = .839

我遇到的问题是我无法在我的着色器中正确地将这些蒙版提取到单独的蒙版中。

如果我输出 Mask1，我会得到正确混合好的遮罩。我这样做：

```
float Mask1 = (fmod((Mcolor  * 10f ), 10f)) *.111f; 
```

如果我输出 Mask2，我会得到所有这些奇怪的伪像。看起来 mask1 正在将自己推到顶部，即使我只输出 Mask2。我很肯定数学是有效的，我在 Maya 中运行了同样的东西来存储开始的值。谁能告诉我为什么会这样？

甚至：

```
float Mask2 = frac(Mcolor *10); 
```

这应该只是将掩码 2 推到十分位并擦除掩码 1 会导致相同的伪影。

```
float Mcolor = In.VertColor.a;
float Mask1 = (fmod((Mcolor  * 10f ), 10f)) *.111f;
float Mask2 = (fmod((Mcolor * 100f ), 10f)) *.111f; 
```

我在 Nvidia 论坛上发布了一些有关该问题的图片，但由于防止垃圾邮件，我无法在此处发布。

[http://forums.developer.nvidia.com/devforum/discussion/9946/extracting-numbers-cgfx-shader](http://forums.developer.nvidia.com/devforum/discussion/9946/extracting-numbers-cgfx-shader)

非常感谢您的帮助-感谢您通读！如果可以/有时间，请解释您的回复，我是编程新手，所以描述性越强越好！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T00:37:14.600

只需向您的顶点着色器添加一个额外的*输出值。*给它一个“texcoord”语义，例如 float4 Masks: TEXCOORD1;

然后只需分配'OUT.Masks.x'而不是'Mask1'，'OUT.Masks.y'而不是'Mask2'等

在片段/像素着色器中，只需在输入中包含相同的值（使用连接器结构使其易于管理）并读取“IN.Masks.x”等

# android - Android：在 TextView 中自动滚动文本

> ID：11184054
> 
> 赞同：5
> 
> 时间：2012-06-25T05:50:26.580
> 
> 标签：android, scroll, textview

我创建了一系列固定宽度为 100 像素的选项卡。选项卡包含一个图像，其下方有一些文本。如果文本太长而无法容纳，我希望它自动滚动。我只想要一条线。我尝试了以下但没有奏效。我使用的是安卓 2.3：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_marginRight="3dp"
    android:layout_marginTop="3dp"
    android:background="#ff737373"
    android:gravity="center"
    android:minWidth="64dp"
    android:orientation="vertical"
    android:padding="3dp" >

    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:tag="tabImage" >
    </ImageView>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:ellipsize="marquee"
        android:marqueeRepeatLimit="marquee_forever"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:scrollHorizontally="true"
        android:singleLine="true"
        android:maxWidth="100px"
        android:tag="tabCaption"
        android:textColor="#ffd9d9d9"
        android:textSize="16sp" />

</LinearLayout> 
```

知道为什么这不起作用吗？我从另一个帖子中找到了解决方案，用户表示它有效。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-25T05:56:48.243

在您的活动中，如果您想在文本上选框，您必须添加

```
 TextView tv=(TextView)findViewById(R.id.textview1);
  tv.setSelected(true); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T05:55:54.440

你可能想试试这个：

[https://github.com/kaeppler/ignition/blob/master/ignition-core/ignition-core-lib/src/com/github/ignition/core/widgets/ScrollingTextView.java](https://github.com/kaeppler/ignition/blob/master/ignition-core/ignition-core-lib/src/com/github/ignition/core/widgets/ScrollingTextView.java)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-09T11:08:10.790

```
<TextView

        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:singleLine="true"
        android:gravity="center"
        android:ellipsize="marquee"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:marqueeRepeatLimit="marquee_forever"
        android:text="Auto text scroller" 
        android:textSize="50sp"
        /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-23T23:06:25.167

请注意，如果文本的长度小于为其定义的边界的宽度，它将不会滚动。在这种情况下，您可能希望使用自身扩展文本，例如：

-。. . . .

```
String charsInBreak = "   ";
 while (bounds.width() < this.m_width)
 {
    m_text = (m_text + charsInBreak + m_text);
    paint.getTextBounds(m_text, 0, m_text.length(), bounds);
 } 
```

如果你想让你的文字永远选框：

```
m_textView.setMarqueeRepeatLimit(-1); 
```

# android - 如何在opengl中使用压缩纹理？

> ID：11184062
> 
> 赞同：2
> 
> 时间：2012-06-25T05:51:20.467
> 
> 标签：android, opengl-es

我想将`.PVR`图像用于纹理目的。
为此，我在 drawables-mdpi 中使用`PVRtextool`并加载了我的图像。 现在，当我在我的项目中使用它时，应用程序就会崩溃。 `pvr`

我错过了一些步骤吗？
请指导。

这是我遇到问题的加载纹理代码。 `resource`包含`.pvr`格式的图像。

```
static void loadTexture(GL10 gl, Context context, int[] resource)
   {  
       gl.glGenTextures(n, textureIDs, 0);
       BitmapFactory.Options opts = new BitmapFactory.Options();
       opts.inScaled = false;
       for (int face = 0; face < n; face++)
       {

           gl.glBindTexture(GL10.GL_TEXTURE_2D, textureIDs[face]);

           bitmap[face] = BitmapFactory.decodeResource(
            context.getResources(), resource[face],opts); 

           gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_NEAREST);
           gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_LINEAR);

           GLUtils.texImage2D(GL10.GL_TEXTURE_2D, 0, bitmap[face], 0);
                  bitmap[face].recycle();
}
] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T19:37:46.223

您不能使用`BitmapFactory.decodeResource()`该格式。您必须使用该`openRawResource()`函数并将`InputStream`它的返回值传递给该`ETC1Util.loadTexture()`函数。

示例实现应该在`/sdk/platforms/<version>/samples/CompressedTextureActivity.java`，或者在线版本在[这里。](http://grepcode.com/file/repository.grepcode.com/java//com.google.android/android-apps/2.3.3_r1/com/example/android/apis/graphics/CompressedTextureActivity.javaext)

# exim - Interspire Emailmarketer 性能不佳：每 2 秒 5 封电子邮件 - PMTA/EXIM

> ID：11184064
> 
> 赞同：1
> 
> 时间：2012-06-25T05:51:54.103
> 
> 标签：exim, massmail, phplist

谁能告诉我是什么阻碍了我们。

我在前端尝试了每个不同的 php 脚本来发送电子邮件。Interspire、Oempro、PHP 列表、PHPknode。但是我们每 2 秒只能发送 5 封电子邮件。

我们升级了我们的服务器，我们的硬件配置很好。我们使用过 EXIM，我们甚至尝试过 PMTA。即使我们的发送速度没有提高。

我们的要求是每天发送 200,000 - 300,000 封电子邮件，但我们需要在高峰时段发送，即上午 9 点到下午 1 点之间。我们只能在 6-7 小时内发送 15000 封电子邮件。

我不知道是什么问题，为什么我们无法快速发送电子邮件。是因为 PHP 脚本、MTA 还是服务器硬件配置。

谁能帮我解决这个问题？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:13:33.707

我可以直接告诉你，Interspire Emailmarketer 并不是特别高效。我有和你类似的情况。我们有一台高端服务器机器，配备 SAS 磁盘、16 个 CPU 内核和大量 RAM。我们有一个高度微调的 Postfix MTA 和 MySQL 服务器（花了几天时间配置这些）。您获得的性能符合我们的经验。在我们的案例中，负载完全在 PHP 脚本中，而不是在数据库中，也不在 MTA 中。

我怀疑 Interspire 软件适用于流量非常低的时事通讯（其中接收者可以数以百计）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T20:32:13.140

Interspire 默认使用单个 php 进程来处理电子邮件队列，因此它无法使用多核机器。[有一个名为MSH 插件](http://vimmaniac.com/msh)的付费多处理脚本，它采用 IEM 处理队列并将其分布在多个处理器内核上以获得巨大的速度奖励。从插件[网站](http://vimmaniac.com/msh/#technology)：

> MSH 是围绕“多处理库”构建的，一个多平台、无共享、多处理框架，灵感来自 Python 多处理模块（但与 api 级别有很大不同）。它使用“proc 系列函数”进行进程生成，使用“soq”进行 IPC。

免责声明：我是 MSH 插件的开发者之一。

# email - 通过 shell 脚本发送邮件

> ID：11184065
> 
> 赞同：0
> 
> 时间：2012-06-25T05:51:56.207
> 
> 标签：email, shell, command

我想通过电子邮件在 shell 脚本上发送一个 zip 文件。我知道我需要使用以下命令：

```
cat file.txt | mail -s "This is subject" [email]name@address.com[/email] 
```

我总是收到这个错误：

```
line 13: mail: command not found 
```

有谁知道我可以在哪里以及如何安装邮件命令？

我正在使用 Cygwin 来测试我的 shell 脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:02:59.783

如果你在ubuntu，你可以使用*apt*

```
sudo apt-get install mailutils postfix 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:12:56.960

安装“nail”或“mailx”包。

# php - 使用 PHP 和 MySQL 进行验证之间的日期

> ID：11184067
> 
> 赞同：0
> 
> 时间：2012-06-25T05:52:09.883
> 
> 标签：php, mysql, validation, date, between

我有一个包含以下字段的表：`staff_id`, `leave_applied_from`, `leave_applied_to`.

```
+----------+--------------+------------+
| staff_id | applied_from | applied_to |
+----------+--------------+------------+
|     1    | 2012-06-21   | 2012-06-21 |
|     2    | 2012-06-21   | 2012-06-23 |
+----------+--------------+------------+ 
```

所以要求是，如果staff_id`1`尝试输入`2012-06-21`它不应该允许输入的日期，如果staff_id`2`尝试输入`2012-06-22`它不应该允许员工输入的日期。

我知道如何在 PHP 端显示错误，但我不知道如何检查数据库中数据库中是否存在日期，我不知道如何在一个 MySQL 查询中检查两个字段。

查询应首先检查 staff_id，然后检查其他字段（applied_from、applied_to）。如果工作人员已经输入了相同的日期范围，它应该会出错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T05:57:38.380

请尝试以下方法：

```
SELECT * from tbl where (applied_from =< @inputdate AND applied_to >= @inputdate) 
AND staff_id=@inputid 
```

如果查询返回记录，则表示日期中的键在范围内，可能会提示错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T05:56:22.057

```
select case when curdate() < applied_from or curdate() > applied_to
            then 1
            else 0
            end as is_staff_id_ok
from your_table
where staff_id = 1 
```

# c# - 防止调试器在已编译的 LambdaExpression 中出现异常时停止

> ID：11184074
> 
> 赞同：8
> 
> 时间：2012-06-25T05:52:29.260
> 
> 标签：c#, visual-studio-2010, visual-studio, debugging, attributes

在我的程序中，我创建了动态 lambda 表达式，然后将它们编译为委托。然后调用这些委托以从我的实体中提取信息。一些代表可能会抛出异常，我已经捕获了我调用代表的异常。我已启用“仅启用我的代码”并将 [DebuggerNonUserCode] 属性应用于 LambdaExpression 的创建位置、编译位置和调用位置。但是因为在Debug>Exceptions>Common Language Runtime Exceptions中勾选了Thrown复选框，Visual Studio总是在出现错误时停止，这给开发者带来了很大的不便。

似乎 [DebuggerNonUserCode] 应该以某种方式应用于已编译的委托，但如何？或者有什么其他建议？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:21:44.943

据我所知，你不能将属性应用于使用表达式生成的匿名方法，除了动态类型生成可能会有一些可怕的混乱。

但是，一个可能的建议是转到异常菜单`Debug > Exceptions`并选择您要专门中断的异常。如果您的表达式倾向于抛出特定类型的异常，您可以禁用对这些异常的中断。

# javascript - 获取和使用所有元素和属性

> ID：11184075
> 
> 赞同：0
> 
> 时间：2012-06-25T05:52:34.013
> 
> 标签：javascript, jquery, html

我知道您可以使用 jQuery 通过命令获取所有元素，但是假设我想遍历该列表并**从该列表中**`$("*")`提取某个元素，我该如何找到该项目？我从中得到的只是. 我如何查看该对象集的内部？**`[object Object]`**

 **此外，是否`$("*")`抓取与每个元素关联的所有属性？如果没有，我该如何获得这些。

我的目的是，如果我使用 Chrome 中的“检查元素”修改一些数据，我想在修改完成后获取页面的所有 HTML，以便从本质上获取*新*HTML的副本页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:40:08.373

在控制台中，您有时会得到 [object Object]。查看对象集类型的内部：

```
console.dir($('*')); 
```

现在您可以在控制台中“打开”该对象。

如果您想查找一个元素并且您不确定，如果该元素存在，您还可以：

```
if ($('#IDofTheElement').length > 0) { // Do something with it } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T05:54:54.610

> 我想遍历该列表并从该列表中提取某个元素，我如何找到该项目？我从中得到的只是[object Object]。我如何查看该对象集的内部？

你会用`jQuery.each()`

> 此外，$("*") 是否获取与每个元素关联的所有属性？

是的，它确实。

**例子：**

```
$("*").each(function(i, v){
  // get tag name
  console.log($(this).get(v).tagName); // or nodeName
  // get node type
  console.log($(this).get(v).nodeType);

  // based on element type, you can get attributes using attr()/prop()
}); 
```**

# mongodb - 如何在数组中增加 MongoDB 文档对象字段

> ID：11184079
> 
> 赞同：7
> 
> 时间：2012-06-25T05:53:19.843
> 
> 标签：mongodb, nosql

这是我的文档的格式：

```
{
    _id: some id,
    name: 'some name',
    versions: []
} 
```

在该`versions`字段中，我存储对象`{v: '2.5', count: 5}`，例如`count`保存版本使用次数的位置。

执行以下操作的最简单方法是什么？

1.  `versions`如果数组不存在，则在数组中插入一个新对象
2.  Ff 特定版本存在于`versions`数组中，然后递增其`count`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-25T07:42:57.107

**最简单**的存在方式应该是，

```
db.collection.update({versions.v:'some_version'},{"$inc":{"versions.$.count":1}}); 
```

如果版本存在，这将增加您的计数，但正如 MongoDB 文档所说，`$`运算符不能与 upsert 混合，因此如果`{versions.v:'some_version'}`失败，上述查询不会导致插入。

> 位置运算符不能与 upsert 组合，因为它需要匹配的数组元素。如果您的更新导致插入，则“$”将按字面意思用作字段名称。

以下是 JIRA 票证，用于支持 $ 的 upsert。您可以投票并观看这些问题。

[带有 $-positional 运算符的 Upsert 可以创建错误的文档](https://jira.mongodb.org/browse/SERVER-4713)

[支持带有 upsert 的 $ 位置运算符](https://jira.mongodb.org/browse/SERVER-3326)

# jsf-2 - 节目 仅当执行的操作为 YES 时导航时的内容

> ID：11184083
> 
> 赞同：0
> 
> 时间：2012-06-25T05:53:51.597
> 
> 标签：jsf-2, tabs, richfaces, actionlistener

我在项目中使用带有 JSP 的 RF3.3 和 JSF(2.0)。

我的页面在选项卡面板内包含 4 个选项卡。首次加载页面时，会自动选择 TAB1，这没问题。现在，在用户从一个选项卡导航到另一个选项卡之前，我需要向他显示一个弹出面板，要求他确认从一个选项卡移动到另一个选项卡。因此，当出现在 TAB 1 上的用户单击 TAB2 时，我想要一个弹出面板询问用户他是否确定要导航到 TAB2。

问题是：一旦我单击选项卡 2，`<rich:tab>`将触发存在的动作侦听器并呈现选项卡 2，然后才会出现弹出面板。

一旦用户单击 TAB 2，是否有任何方法可以打开弹出面板，并且只有当他在弹出面板中单击“是”时，才会显示 TAB 2 的内容。

我不能使用 disabled 属性，因为使用它我将无法单击 TAB 2 并且我的弹出面板将无法打开。

```
<rich:tabPanel id="tab" switchType="ajax" headerSpacing="10px"style="overflow:auto"> 

<rich:tab binding="#{Bean.firsttab}" id="tabOne" style="overflow:auto" styleClass="richTab" label="TAB ONE" actionListener="#{Bean.refresh}" switchType="ajax">

<rich:tab binding="#{Bean.secondtab}" id="tabTwo" style="overflow:auto" styleClass="richTab" label="TABTWO" actionListener="#{Bean.refresh}" switchType="ajax">

</rich:tabPanel> 
```

我最好不想使用 Javascript 来实现相同的目标。我怎样才能在 JSF 中实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T05:23:46.490

我通过将选项卡与支持 bean 绑定并使用选项卡的属性根据某些条件呈现和重新呈现选项卡来实现相同的...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:18:03.520

你能尝试使用`onlabelclick`inside吗`<rich:tab`？在其中调用一个 JS 方法并返回一个布尔值以继续执行该操作。希望这有效。如果它有效，请在此发布您的代码片段。

# r - 将 15 分钟的时间序列数据汇总到每日

> ID：11184085
> 
> 赞同：2
> 
> 时间：2012-06-25T05:54:09.340
> 
> 标签：r, time-series, zoo

这是我的文本文件中的数据：（我已经显示了 10,000 行中的 10 行）索引是行名，temp 是时间序列，m 是以 mm 为单位的值。

```
 "Index" "temp" "m"
   1 "2012-02-07 18:15:13" "4297"
   2 "2012-02-07 18:30:04" "4296"
   3 "2012-02-07 18:45:10" "4297"
   4 "2012-02-07 19:00:01" "4297"
   5 "2012-02-07 19:15:07" "4298"
   6 "2012-02-07 19:30:13" "4299"
   7 "2012-02-07 19:45:04" "4299"
   8 "2012-02-07 20:00:10" "4299"
   9 "2012-02-07 20:15:01" "4300"
   10 "2012-02-07 20:30:07" "4301" 
```

我使用这个在 r 中导入：

```
 x2=read.table("data.txt", header=TRUE) 
```

我尝试使用以下代码将时间序列汇总为每日数据：

```
 c=aggregate(ts(x2[, 2], freq = 96), 1, mean) 
```

我已将频率设置为 96，因为 15 分钟数据 24 小时将包含在 96 个值中。

它返回给我：

```
 Time Series:
   Start = 1 
   End = 5 
   Frequency = 1 
   [1] 5366.698 5325.115 5311.969 5288.542 5331.115 
```

但我想要与原始数据相同的格式，即我还想要值旁边的时间序列。我需要帮助来实现这一目标。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T09:58:39.267

将数据转换为对象后使用包中`apply.daily`的：`xts``xts`

像这样的东西应该工作：

```
x2 = read.table(header=TRUE, text='     "Index" "temp" "m"
1 "2012-02-07 18:15:13" "4297"
2 "2012-02-07 18:30:04" "4296"
3 "2012-02-07 18:45:10" "4297"
4 "2012-02-07 19:00:01" "4297"
5 "2012-02-07 19:15:07" "4298"
6 "2012-02-07 19:30:13" "4299"
7 "2012-02-07 19:45:04" "4299"
8 "2012-02-07 20:00:10" "4299"
9 "2012-02-07 20:15:01" "4300"
10 "2012-02-07 20:30:07" "4301"')

x2$temp = as.POSIXct(strptime(x2$temp, "%Y-%m-%d %H:%M:%S"))
require(xts)
x2 = xts(x = x2$m, order.by = x2$temp)
apply.daily(x2, mean)
##                       [,1]
## 2012-02-07 20:30:07 4298.3 
```

## 更新：您的问题采用可重现的格式（使用假数据）

我们并不总是需要实际的数据集来帮助解决问题......

```
set.seed(1) # So you can get the same numbers as I do
x = data.frame(datetime = seq(ISOdatetime(1970, 1, 1, 0, 0, 0), 
                              length = 384, by = 900), 
               m = sample(2000:4000, 384, replace = TRUE))
head(x)
#              datetime    m
# 1 1970-01-01 00:00:00 2531
# 2 1970-01-01 00:15:00 2744
# 3 1970-01-01 00:30:00 3146
# 4 1970-01-01 00:45:00 3817
# 5 1970-01-01 01:00:00 2403
# 6 1970-01-01 01:15:00 3797
require(xts)
x2 = xts(x$m, x$datetime)
head(x2)
#                     [,1]
# 1970-01-01 00:00:00 2531
# 1970-01-01 00:15:00 2744
# 1970-01-01 00:30:00 3146
# 1970-01-01 00:45:00 3817
# 1970-01-01 01:00:00 2403
# 1970-01-01 01:15:00 3797
apply.daily(x2, mean)
#                         [,1]
# 1970-01-01 23:45:00 3031.302
# 1970-01-02 23:45:00 3043.250
# 1970-01-03 23:45:00 2896.771
# 1970-01-04 23:45:00 2996.479 
```

## 更新 2：替代方法

（使用我在上述更新中提供的虚假数据。）

```
data.frame(time = x[seq(96, nrow(x), by=96), 1],
           mean = aggregate(ts(x[, 2], freq = 96), 1, mean))
#               time     mean
# 1 1970-01-01 23:45 3031.302
# 2 1970-01-02 23:45 3043.250
# 3 1970-01-03 23:45 2896.771
# 4 1970-01-04 23:45 2996.479 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T11:56:22.120

这将是在基础 R 中执行此操作的一种方法：

```
x2 <- within(x2, {
   temp <- as.POSIXct(temp, format='%Y-%m-%d %H:%M:%S')
   days <- as.POSIXct(cut(temp, breaks='days'))
   m <- as.numeric(m)
})

with(x2, aggregate(m, by=list(days=days), mean)) 
```

# android - Android 活动绑定到服务并根据活动的启动位置调用不同的命令。

> ID：11184086
> 
> 赞同：1
> 
> 时间：2012-06-25T05:54:10.237
> 
> 标签：android, android-intent, android-activity

你如何让一个活动表现不同（调用不同的方法），这取决于它是从哪里启动的？

我有一个活动，当用户选择一首歌曲或用户按下“正在播放”按钮时启动。

理想情况下，如果从活动 a 中选择了一首歌曲，那么活动 b 将绑定到该服务，并告诉该服务播放所选歌曲。

如果从活动 a 中选择了“正在播放”按钮，则活动 b 会绑定到服务，但不会告诉它开始播放歌曲。

我已经收集到这可以通过意图、广播或只是一堆 if 语句以某种方式实现，但我不确定如何最好地实现这一点。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:18:36.993

您可以添加一个标志（或任何其他额外的详细信息）以指示您是否希望在发送到活动 B 的意图中开始播放歌曲。

所以在活动 A 中：

```
Intent startBIntent = new Intent(this, ActivityB.class);
Bundle extraDetails = new Bundle();
extraDetails.putBoolean("isPlaySong", true);
startBIntent.putExtras(extraDetails);
startActivity(startBIntent); 
```

然后在活动 B 的 onCreate() 中，使用以下命令检索详细信息：

```
Boolean isPlaySong = getIntent().getExtras().getBoolean("isPlaySong"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:11:25.260

您可以将启动器组件名称（或其他唯一的特定字符串）添加为启动 Activity 的**意图**的附加内容。然后在您的 Activity 中获取它的意图（使用 getIntent() ）并检索它的附加内容。然后使用 Switch-Case 来决定什么会去做。

# android - 我可以使用 ViewFlipper 随机更改布局吗？

> ID：11184087
> 
> 赞同：0
> 
> 时间：2012-06-25T05:54:23.443
> 
> 标签：android, android-layout, viewflipper

我的问题是我想通过按 a 从布局 1 转到任何其他布局`Button`。例如：

从布局 1`setDisplayChild(R.id.layout3)`到布局 3，总共 4 个布局（不起作用）。

我制作了一个包含所有四个布局的container.xml，但是我不能直接从布局2转到布局4而不使用`flipper.showNext()`或`flipper.showPrevious()`两次或类似的东西，这些方法`showNext()`只是`showPrevious()`前进或后退，我需要转到任何其他布局。

是否有`ViewFlipper`从布局 1（或其他布局）到其他布局（不是相邻布局）的方法，或者`ViewFlipper`只知道去下一个、上一个或第一个布局（子）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T17:19:59.717

> viewFlipper 上是否有一种方法可以从 layout1（或其他布局）转到其他布局（不是邻居布局），或者鳍状肢只知道下一步、上一个或第一个布局（子）？

是的，类中的方法[`setDisplayedChild`](http://developer.android.com/reference/android/widget/ViewAnimator.html#setDisplayedChild%28int%29)是`ViewAnimator`它的父类，`ViewFlipper`它允许您将其移动`ViewFlipper`到您想要的任何孩子。

> 例如：从带有 setDisplayChild(R.id.layout3) 的 layout1 从总共 4 个布局中转到布局 3。（不起作用）

这`setDisplayedChild`要求您将元素中所需的**位置传递给它，而****不是像您使用它那样传递该布局的 id**。因此，如果您想跳转到刚刚使用的孩子之一：`View``ViewFlipper`**`ViewFlipper`**

 **```
viewFlipper.setDisplayedChild(2); // jumps to the third child
viewFlipper.setDisplayedChild(2); // another call like the one below will not move the ViewFlipper as it is already at the third child
viewFlipper.setDisplayedChild(1); // jumps to the second child 
```

如果你想`ViewFlipper`通过它的孩子随机移动，那么你可以：

```
Random mRandom = new Random();
viewFlipper.setDisplayedChild(mRandom.nextInt(4)); // 4 for 4 children 
```**

# javascript - 如何使用 javascript 在 RadTree 列表的 EditFormSettings 中找到控件

> ID：11184092
> 
> 赞同：2
> 
> 时间：2012-06-25T05:55:21.820
> 
> 标签：javascript, telerik, radtreelist

我一直在我的一个项目中使用 RadTreeList，我使用了位于 RadTreeList 的 EditFormSettings 内的 RadUpload 控件。我已经使用 javascript 来验证 RadUpload 控件（即用户是否选择了任何文件），现在的问题是我无法在我的 javascript 中的 RadTreeList 中找到/获取 RadUpload 控件，尽管我得到了RadTreeList 控件。

以下是我的代码：-

```
 function IsFilesSelected(source, args) {
            debugger;
            args.IsValid = true;
            var treeList = $find("<%= FAQRadTreeList.ClientID %>");
            var RadUpload = treeList._findChildControl.getName("UploadDocumentRadUpload");
            var UploadLabel = treeList.selectItem(ImageExtensionLabel); 
            var FileInputs = RadUpload.getFileInputs();
            for (var i = 0; i < FileInputs.length; i++) {
                if (FileInputs[i].value && FileInputs[i].value.length > 0) {
                    args.IsValid = true;
                }
                else {
                    if (UploadLabel == null || UploadLabel.innerHTML == '')
                        args.IsValid = false;
                    else
                        args.IsValid = true;
                }
            }
        } 
```

虽然我的 RadTreeList 显示为：-

```
 <telerik:RadTreeList ID="FAQRadTreeList" runat="server" AllowPaging="True" DataSourceID="FAQSqlDataSource"
                        PageSize="20" DataKeyNames="FAQ_ID" ParentDataKeyNames="FAQ_Parent_ID" AutoGenerateColumns="False"
                        Width="100%" OnInsertCommand="FAQRadTreeList_InsertCommand" OnItemCommand="FAQRadTreeList_ItemCommand"
                        OnItemDataBound="FAQRadTreeList_ItemDataBound" OnUpdateCommand="FAQRadTreeList_UpdateCommand"
                        OnItemDrop="FAQRadTreeList_ItemDrop">
                        <PagerStyle Mode="NextPrevNumericAndAdvanced" />
                        <Columns>
                            <telerik:TreeListEditCommandColumn UniqueName="InsertCommandColumn" ButtonType="ImageButton"
                                AddRecordText="Add" ShowEditButton="true" ItemStyle-CssClass="MyImageButton">
                                <ItemStyle HorizontalAlign="Left" VerticalAlign="Top" Width="60px" />
                                <HeaderStyle VerticalAlign="Top" HorizontalAlign="Left" Width="60px" />
                            </telerik:TreeListEditCommandColumn>
                            <telerik:TreeListTemplateColumn DataField="FAQ_Title" UniqueName="FAQ_Title" HeaderText="Title">
                                <ItemTemplate>
                                    <asp:Label ID="FAQTitleLabel" runat="server" Text='<%# Bind("FAQ_Title") %>'></asp:Label>
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Left" VerticalAlign="Top" Width="120px" />
                                <HeaderStyle HorizontalAlign="Left" VerticalAlign="Top" Width="120px" />
                            </telerik:TreeListTemplateColumn>
                            <telerik:TreeListTemplateColumn DataField="FAQ_Description" UniqueName="FAQ_Description"
                                HeaderText="Description">
                                <ItemTemplate>
                                    <asp:Label ID="FAQDescriptionLabel" runat="server" Text='<%# ( Eval("FAQ_Description").ToString().Length > 150)? string.Concat(Eval("FAQ_Description").ToString().Substring(0, 150), ".....") : Eval("FAQ_Description") %>'></asp:Label>
                                    <telerik:RadToolTip ID="FAQDescriptionRadToolTip" TargetControlID='<%# ( Eval("FAQ_Description").ToString().Length > 150)? "FAQDescriptionLabel" : "" %>'
                                        Width="400px" Height="300px" ContentScrolling="Y" runat="server" HideDelay="1000"
                                        Position="TopCenter" RelativeTo="Element" ShowDelay="1000">
                                        <%# Eval("FAQ_Description")%>
                                    </telerik:RadToolTip>
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Left" VerticalAlign="Top" />
                                <HeaderStyle HorizontalAlign="Left" VerticalAlign="Top" />
                            </telerik:TreeListTemplateColumn>
                            <telerik:TreeListTemplateColumn DataField="ParentName" UniqueName="ParentName" HeaderText="Parent Item">
                                <ItemTemplate>
                                    <asp:Label ID="ParentTitleLabel" runat="server" Text='<%# Bind("ParentName") %>'></asp:Label>
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Left" VerticalAlign="Top" Width="100px" />
                                <HeaderStyle HorizontalAlign="Left" VerticalAlign="Top" Width="100px" />
                            </telerik:TreeListTemplateColumn>
                            <telerik:TreeListTemplateColumn DataField="FAQ_Order" UniqueName="FAQ_Order" HeaderText="Order">
                                <ItemTemplate>
                                    <telerik:RadNumericTextBox ID="FAQOrderRadNumericTextBox" MinValue="1" NumberFormat-DecimalDigits="0"
                                        Enabled="false" runat="server" Width="50px" Text='<%# Bind("FAQ_Order") %>'>
                                        <EnabledStyle Font-Names="Verdana" HorizontalAlign="Right" />
                                    </telerik:RadNumericTextBox>
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                                <HeaderStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                            </telerik:TreeListTemplateColumn>
                            <telerik:TreeListTemplateColumn HeaderText="Status" DataField="FAQ_ActiveStatus"
                                UniqueName="FAQ_ActiveStatus">
                                <ItemTemplate>
                                    <asp:Label ID="ActiveStatusLabel" runat="server" CssClass='<%# (Convert.ToBoolean(Eval("FAQ_ActiveStatus"))) ? "active" : "inactive" %>'
                                        ToolTip='<%# (Convert.ToBoolean(Eval("FAQ_ActiveStatus"))) ? "Active" : "Inactive" %>'
                                        Text="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"></asp:Label>
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                                <HeaderStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                            </telerik:TreeListTemplateColumn>
                            <telerik:TreeListTemplateColumn DataField="FAQ_ActiveStatus" HeaderText="Action"
                                UniqueName="ActiveStatus">
                                <ItemTemplate>
                                    <asp:ImageButton ID="ActiveInactiveButton" runat="server" ToolTip='<%# (Convert.ToBoolean(Eval("FAQ_ActiveStatus"))) ? "Make inactive" : "Make active" %>'
                                        Width="14px" Height="14px" CommandName="ActiveInactive" ImageUrl='<%# (Convert.ToBoolean(Eval("FAQ_ActiveStatus"))) ? "../App_Themes/ELPISCMS/images/inactive.png" : "../App_Themes/ELPISCMS/images/active.png" %>' />
                                </ItemTemplate>
                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                                <HeaderStyle HorizontalAlign="Center" VerticalAlign="Top" Width="60px" />
                            </telerik:TreeListTemplateColumn>
                        </Columns>
                        <EditFormSettings EditFormType="Template" PopUpSettings-Width="100%">
                            <FormTemplate>
                                <asp:Panel ID="DetailsPanel" runat="server" DefaultButton="SaveRadButton">
                                    <table border="0" cellpadding="0" cellspacing="5" class="innertable">
                                        <tr>
                                            <td class="td18">
                                                Title : <span class="mandatorymark">*</span>
                                            </td>
                                            <td class="td82">
                                                <telerik:RadTextBox ID="FAQTitleRadTextBox" runat="server" SkinID="FAQTitleRadTextBox">
                                                </telerik:RadTextBox>
                                                <asp:RequiredFieldValidator ID="ReferenceTitleRequiredFieldValidator" runat="server"
                                                    ValidationGroup="FAQValidationGroup" Display="Dynamic" SetFocusOnError="true"
                                                    ControlToValidate="FAQTitleRadTextBox" CssClass="requiredfield" ErrorMessage="Required!"></asp:RequiredFieldValidator>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="td18">
                                                Description : <span class="mandatorymark">*</span>
                                            </td>
                                            <td class="td82">
                                                <telerik:RadTextBox ID="FAQDescriptionRadTextBox" runat="server" TextMode="MultiLine"
                                                    Rows="8" SkinID="FAQDescriptionRadTextBox">
                                                </telerik:RadTextBox>
                                                <%-- <telerik:RadEditor ID="ReferenceDescriptionRadEditor" runat="server" AutoResizeHeight="false"
                                                    EnableResize="false" OnClientLoad="OnClientLoad" EditModes="Design, Html" AllowScripts="false"
                                                    ContentFilters="RemoveScripts,MakeUrlsAbsolute,FixUlBoldItalic,FixEnclosingP,IECleanAnchors,MozEmStrong,ConvertFontToSpan,ConvertToXhtml,IndentHTMLContent"
                                                    NewLineBr="true" StripFormattingOptions="AllExceptNewLines" StripFormattingOnPaste="AllExceptNewLines"
                                                    Height="600px" Width="700px">
                                                    <ImageManager ViewPaths="~/uploads/editoruploadimages" UploadPaths="~/uploads/editoruploadimages"
                                                        DeletePaths="~/uploads/editoruploadimages" />
                                                    <CssFiles>
                                                        <telerik:EditorCssFile Value="" />
                                                    </CssFiles>
                                                    <ContextMenus>
                                                        <telerik:EditorContextMenu Enabled="true">
                                                            <telerik:EditorTool Name="Cut" />
                                                            <telerik:EditorTool Name="Copy" />
                                                            <telerik:EditorTool Name="Paste" />
                                                        </telerik:EditorContextMenu>
                                                    </ContextMenus>
                                                    <Tools>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="AjaxSpellCheck" />
                                                            <telerik:EditorTool Name="FindAndReplace" />
                                                            <telerik:EditorTool Name="SelectAll" />
                                                            <telerik:EditorTool Name="Cut" />
                                                            <telerik:EditorTool Name="Copy" />
                                                            <telerik:EditorTool Name="Paste" />
                                                            <telerik:EditorTool Name="Redo" />
                                                            <telerik:EditorTool Name="Undo" />
                                                            <telerik:EditorTool Name="InsertLink" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="Bold" />
                                                            <telerik:EditorTool Name="Italic" />
                                                            <telerik:EditorTool Name="Underline" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="FontName" />
                                                            <telerik:EditorTool Name="RealFontSize" />
                                                            <telerik:EditorTool Name="ApplyClass" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="ForeColor" />
                                                            <telerik:EditorTool Name="BackColor" />
                                                            <telerik:EditorTool Name="FormatStripper" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="InsertAnchor" />
                                                            <telerik:EditorTool Name="InsertCustomLink" />
                                                            <telerik:EditorTool Name="InsertDate" />
                                                            <telerik:EditorTool Name="InsertGroupbox" />
                                                            <telerik:EditorTool Name="InsertHorizontalRule" />
                                                            <telerik:EditorTool Name="InsertUnorderedList" />
                                                            <telerik:EditorTool Name="InsertOrderedList" />
                                                            <telerik:EditorTool Name="Paragraph" />
                                                            <telerik:EditorTool Name="InsertTable" />
                                                            <telerik:EditorTool Name="InsertSnippet" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="Indent" />
                                                            <telerik:EditorTool Name="Outdent" />
                                                            <telerik:EditorTool Name="JustifyRight" />
                                                            <telerik:EditorTool Name="JustifyLeft" />
                                                            <telerik:EditorTool Name="JustifyCenter" />
                                                        </telerik:EditorToolGroup>
                                                        <telerik:EditorToolGroup>
                                                            <telerik:EditorTool Name="LinkManager" />
                                                            <telerik:EditorTool Name="ImageManager" />
                                                            <telerik:EditorTool Name="ImageMapDialog" />
                                                            <telerik:EditorTool Name="DocumentManager" />
                                                            <telerik:EditorTool Name="ConvertToLower" />
                                                            <telerik:EditorTool Name="ConvertToUpper" />
                                                            <telerik:EditorTool Name="ToggleScreenMode" />
                                                        </telerik:EditorToolGroup>
                                                    </Tools>
                                                </telerik:RadEditor>
                                                <div style="float: right;">
                                                    <span id="counter" style="text-align: right;"></span>
                                                </div>--%>
                                                <asp:RequiredFieldValidator ID="FAQDescriptionRequiredFieldValidator" runat="server"
                                                    ValidationGroup="FAQValidationGroup" Display="Dynamic" SetFocusOnError="true"
                                                    ControlToValidate="FAQDescriptionRadTextBox" CssClass="requiredfield" ErrorMessage="Required!"></asp:RequiredFieldValidator>
                                            </td>
                                        </tr>
                                        <td class="td18">
                                            Upload Document : <span class="mandatorymark">*</span>
                                        </td>
                                        <td class="td82">
                                            <telerik:RadUpload ID="UploadDocumentRadUpload" runat="server" ControlObjectsVisibility="AddButton,RemoveButtons"
                                                InputSize="50" AllowedFileExtensions=".png,.jpg,.jpeg,.gif" oncontextmenu="return false;"
                                                onpaste="return false;" ReadOnlyFileInputs="true"/>
                                            <span style="line-height: 15px; vertical-align: top;">
                                                <asp:Label ID="ImageExtensionLabel" runat="server" Text="<br/>(Only .PNG,.JPG,.JPEG,.GIF images allowed)" />
                                                <br />
                                                <asp:Label runat="server" ID="ImageNameLabel" Visible="false" />
                                            </span>
                                            <br />
                                            <telerik:RadProgressArea ID="UploadDocumentRadProgressArea" runat="server" ProgressIndicators="CurrentFileName">
                                            </telerik:RadProgressArea>
                                            <asp:CustomValidator ID="IsFilesSelectedCustomValidator" runat="server" ClientValidationFunction="IsFilesSelected"
                                                Display="Dynamic" SetFocusOnError="true" CssClass="requiredfield" ValidationGroup="FAQValidationGroup"
                                                ErrorMessage="Required!"></asp:CustomValidator>
                                            <asp:CustomValidator ID="ValidateExtensionCustomValidator" runat="server" ClientValidationFunction="validateImageRadUpload"
                                                Display="Dynamic" SetFocusOnError="true" CssClass="requiredfield" ValidationGroup="FAQValidationGroup"
                                                ErrorMessage="<br/>(Only .PNG,.JPG,.JPEG,.GIF images allowed)"></asp:CustomValidator>
                                        </td>
                                        <tr>
                                            <td>
                                                &nbsp;
                                            </td>
                                            <td class="td82">
                                                <telerik:RadGrid ID="FilesRadGrid" runat="server" AllowFilteringByColumn="True" AllowPaging="True"
                                                    AllowSorting="True" AutoGenerateColumns="False" CellSpacing="0" DataSourceID="FilesSqlDataSource"
                                                    GridLines="None" Width="530px" Visible="false" OnItemCommand="FilesRadGrid_ItemCommand">
                                                    <MasterTableView DataKeyNames="FAQ_Uploads_ID" DataSourceID="FilesSqlDataSource">
                                                        <RowIndicatorColumn FilterControlAltText="Filter RowIndicator column">
                                                            <HeaderStyle Width="20px" />
                                                        </RowIndicatorColumn>
                                                        <ExpandCollapseColumn FilterControlAltText="Filter ExpandColumn column">
                                                            <HeaderStyle Width="20px" />
                                                        </ExpandCollapseColumn>
                                                        <Columns>
                                                            <telerik:GridBoundColumn DataField="FileName" FilterControlAltText="Filter FileName column"
                                                                HeaderText="File Name" SortExpression="FileName" UniqueName="FileName" FilterControlWidth="80%">
                                                                <HeaderStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                <ItemStyle HorizontalAlign="Left" Font-Size="11px" Font-Names="Arial" VerticalAlign="Middle" />
                                                            </telerik:GridBoundColumn>
                                                            <telerik:GridTemplateColumn HeaderText="Action" AllowFiltering="false">
                                                                <ItemTemplate>
                                                                    <asp:ImageButton ID="DeleteImageButton" runat="server" ToolTip="Delete" CommandName="Del"
                                                                        ImageUrl="~/App_Themes/ELPISCMS/images/delete.png" OnClientClick="if (!confirm('Are you sure, you want to delete this record?')) {return false;}"
                                                                        CommandArgument='<%# Eval("FAQ_Uploads_ID") +":"+ Eval("FAQ_Uploads_ID") %>' />
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Middle" Width="50px" />
                                                                <HeaderStyle HorizontalAlign="Center" VerticalAlign="Middle" Width="50px" />
                                                            </telerik:GridTemplateColumn>
                                                        </Columns>
                                                        <EditFormSettings>
                                                            <EditColumn FilterControlAltText="Filter EditCommandColumn column" />
                                                        </EditFormSettings>
                                                    </MasterTableView>
                                                    <FilterMenu EnableImageSprites="False" />
                                                    <HeaderContextMenu CssClass="GridContextMenu GridContextMenu_Default" />
                                                </telerik:RadGrid>
                                                <asp:SqlDataSource ID="FilesSqlDataSource" runat="server" ConnectionString="<%$ ConnectionStrings:elpis_cmsConnectionString %>"
                                                    SelectCommand="Usp_FAQ_Uploads_Select" SelectCommandType="StoredProcedure">
                                                    <SelectParameters>
                                                        <asp:ControlParameter ConvertEmptyStringToNull="true" ControlID="FAQIDHiddenField"
                                                            DbType="Int32" Name="FAQ_ID" PropertyName="Value" />
                                                    </SelectParameters>
                                                </asp:SqlDataSource>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="td18">
                                                Status :
                                            </td>
                                            <td class="td82">
                                                <asp:RadioButton ID="ActiveRadioButton" runat="server" CssClass="radiobutton" Checked="true"
                                                    GroupName="ActiveInactive" />Active
                                                <asp:RadioButton ID="InactiveRadioButton" runat="server" CssClass="radiobutton" GroupName="ActiveInactive" />Inactive
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                &nbsp;
                                            </td>
                                            <td class="td82">
                                                <telerik:RadButton ID="SaveRadButton" runat="server" Text='<%# (Container is TreeListEditFormInsertItem) ? "Save" : "Update" %>'
                                                    CausesValidation="true" CommandName='<%# (Container is TreeListEditFormInsertItem) ? "PerformInsert" : "Update" %>'
                                                    ValidationGroup="FAQValidationGroup" Width="80px">
                                                    <Icon PrimaryIconUrl="~/App_Themes/ELPISCMS/images/save2.png" PrimaryIconLeft="5"
                                                        PrimaryIconTop="3" />
                                                </telerik:RadButton>
                                                <telerik:RadButton ID="CancelRadButton" runat="server" Text="Cancel" CommandName="Cancel"
                                                    CausesValidation="false" Width="80px">
                                                    <Icon PrimaryIconUrl="~/App_Themes/ELPISCMS/images/cancel2.png" PrimaryIconLeft="5"
                                                        PrimaryIconTop="3" />
                                                </telerik:RadButton>
                                            </td>
                                        </tr>
                                    </table>
                                </asp:Panel>
                            </FormTemplate>
                        </EditFormSettings>
                        <ClientSettings AllowItemsDragDrop="true">
                            <Selecting AllowItemSelection="True" />
                        </ClientSettings>
                    </telerik:RadTreeList>
                    <asp:SqlDataSource ID="FAQSqlDataSource" runat="server" ConnectionString="<%$ ConnectionStrings:elpis_cmsConnectionString %>"
                        SelectCommand="Usp_FAQ_Select" SelectCommandType="StoredProcedure"></asp:SqlDataSource> 
```

谁能帮我 ？

谢谢

# php - 通过 PHP 阻止远程访问

> ID：11184094
> 
> 赞同：0
> 
> 时间：2012-06-25T05:55:53.947
> 
> 标签：php, javascript, jquery, mysql, post

解决这个问题；我不经常在 php 或数据库编程方面做太多事情，所以我只是想在当前的项目中格外小心。

所以基本上，我有一个由数据库驱动的站点，并且我有一些使用“post”方法将行插入数据库的 Jquery*代码*。一开始我就开始考虑安全性，因为人们看不到我的 php，但可以看到我的 Javascript。完成系统设置后，我进行了测试并运行 jquery 会插入信息，即使我在远程源上……这显然会导致可能的重大安全问题。所以像我一样不成熟，我只想知道我应该如何防止这种情况并更好地保护系统？

而且...请不要侮辱我或无礼...我知道我可能很愚蠢或其他什么，但我只是想学习！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:05:30.493

这就是[Cross Site Request Forgery ( `CSRF`)](http://en.wikipedia.org/wiki/CSRF)和[同源策略沙箱](http://en.wikipedia.org/wiki/Same_origin_policy)旨在防止的。

从另一个角度来看，您如何阻止某人在他们的网站上编写表单并将其作为 POST 请求提交给您的脚本以添加垃圾记录？

通常，CSRF 保护由您的框架提供。如果你想直接在 PHP 中实现它，那是相当简单的。

1.  从您的服务器代码生成一个唯一令牌，并将其添加到会话中。
2.  将其作为隐藏字段嵌入到表单中。
3.  在接受表单的脚本上，检查此隐藏字段是否存在。

如果该字段存在，则将其与会话中的内容进行匹配，如果它们匹配 - 那么这是一个合法请求。

如果它们不匹配（或该字段丢失），则它是一个远程请求，您可以拒绝它。

[该页面](http://www.serversidemagazine.com/php/php-security-measures-against-csrf-attacks/)提供了一些 PHP 代码来实现上述内容。

完成此操作后，您需要确保 jquery 脚本可以以相同的方式进行身份验证。[这个片段](http://erlend.oftedal.no/blog/?blogid=118)详细介绍了在 jquery 中实现相同技术的步骤。

# django - 访问 django formset 数据

> ID：11184097
> 
> 赞同：0
> 
> 时间：2012-06-25T05:56:19.927
> 
> 标签：django, django-forms

我在 django 中有一个表单集，它使用具有一对多关系的模型。许多与会者可以参加一个活动。

我正在表单集中发送模型的“许多”部分。问题是返回的数据没有设置主键。我收到验证错误，因为未设置表单集主键数据。

回到我的观点，我知道主键应该是什么。我想在验证之前设置它。在我发送表单以供显示之前设置值或设置值。但我不知道如何在表单集数据中设置它。

在下面的代码中，外键是`event`.

选项1：在显示表单之前设置外键：

```
#models.py  - note 2 foreign keys
class Attendee(models.Model):
    event = models.ForeignKey(Event)
    sponsor = models.ForeignKey(Customer)
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30) 

# forms.py
class AttendeeForm(forms.ModelForm): 
  event = forms.IntegerField(required=True, widget=forms.HiddenInput()) 

  class Meta: 
    model = Attendee 
    fields = ( 'last_name', 'first_name', ) 
    exclude = ('event', )  # excluded so user can't set foreign key

# views.py
event = get_object_or_404(Event, id=event_id)
AttendeeFormSet = inlineformset_factory(Event, Attendee, form=AttendeeForm, extra=1)
formset = AttendeeFormSet(instance=event, prefix='attendees')
# Error on form submit:  
#  Returns and redisplays the form along with message.
#  (Hidden field event) The inline foreign key did not match the parent instance primary key.

#  I also tried:  
#AttendeeFormSet = inlineformset_factory(Event, Customer, Attendee, form=AttendeeForm, extra=1)
# which gave error: 
# inlineformset_factory() got multiple values for keyword argument 'form' 
```

选项 2：在返回 POST 上设置外键。请注意，即使存在数据，表单也无效，因为未设置外键。

```
formset = AttendeeFormSet(request.POST, request.FILES, prefix='attendees')
i=0
for form in formset.forms:
   # How can I set the foreign key (event) field here?
   pdb.set_trace()

if formset.is_valid():
   attendees = formset.save_all()

(Pdb) p form.fields
{'last_name': <django.forms.fields.CharField object at 0xaa44a2c>, 
'first_name':    <django.forms.fields.CharField object at 0xaa449ec>,  
'event': <django.forms.fields.IntegerField object at 0xaa44fec>}
(Pdb) 
```

在我的表单集中解决我的外键问题的最佳方法是什么？如果选项 2 在测试之前如何设置此字段`is_valid`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:02:56.253

由于这是一个表示外键关系的表单集，因此您应该使用它[`inlineformset_factory`](https://docs.djangoproject.com/en/1.4/topics/forms/modelforms/#inline-formsets)来构造该类。这将为您设置 FK：

```
AttendeeFormSet = formset_factory(Event, Attendee, form=AttendeeForm)
...
formset = AttendeeFormSet(instance=my_event) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:13:35.950

如果传递`commit=False`给`.save()`，则可以修改对象并添加外键。

有关示例代码，请参阅[在表单集中保存对象。](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#saving-objects-in-the-formset)

# ruby - riak content_type 没有方法错误

> ID：11184103
> 
> 赞同：0
> 
> 时间：2012-06-25T05:57:17.783
> 
> 标签：ruby, riak, nomethoderror

我在我的 os x 机器上运行了 4 节点 riak 设置。我有以下程序 -

```
require 'riak'

class RiakClient < Riak::Client
    #attr_accessor :bucket

    def initialize(hosts="")
        return Riak::Client.new(:nodes => [{:http_port => 8091},{:http_port =>8092},{:http_port=>8093},{:http_port =>8094}])
    end

    def get_me(bucket, key)
        obj = self.bucket(bucket).get(key)
        puts obj.data
    end

    def put_me(bucket, key, data, content_type)
        obj=self.bucket(bucket).get_or_new(key)
        puts obj.class
        obj.content_type=content_type
        obj.raw_data=data
        obj.store
    end
end

if __FILE__ == $0
    my_client=RiakClient.new
    my_client.put_me("doc", "index.html", "some data goes here", "text/html")
    hash=my_client.get_me("doc", "index.html")
end 
```

我收到以下错误

```
NilClass
riak_client.rb:32:in `put_me': undefined method `content_type=' for nil:NilClass (NoMethodError)
    from riak_client.rb:42:in `<main>' 
```

我必须导入 RiakBucket 和 RiakObject 类吗？好像这里不能访问 RiakBucket 方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:19:22.310

这里的实际问题是：为什么`get_or_new`返回 nil？

这可能是因为您的`initialize()`方法返回了一个新的 Riak::Client，但作为您的父对象的 Riak::Client 永远不会被初始化。尝试调用 super 而不是`return Riak::Client.new`in `initialize`。

继承 Riak::Client 在这里有点可疑。我倾向于委托给它。

# java - Spring AOP @Pointcut 未触发

> ID：11184104
> 
> 赞同：2
> 
> 时间：2012-06-25T05:57:19.823
> 
> 标签：java, spring, aop

我想在调用另一个类的特定方法时触发一个方法，这就是我想到使用@Pointcut 的原因。

下面的代码几乎与我正在编码的代码相同，我不需要添加其他内容。

```
public class OrgManagerImpl implements OrgManager {
    public IOrg getOrg(String orgShortName) {
    }
} 
```

这是应该被触发的类：

```
@Aspect
public class OrgManagerSynchronizer { 

    @Pointcut("execution(* com.alvin.OrgManager.getOrg(..))")
    public void classMethods() {}

    @Before("classMethods()")
    public void synchronize(JoinPoint jp) {
        //code should be executed. but does not execute.
    }
} 
```

在我的 .xml 中，这是指定的：

```
aop:aspectj-autoproxy 
```

我还应该补充什么？接下来做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:17:13.583

检查以下内容。

1）检查 OrgManagerImpl 是否在上下文 xml 中定义为 bean，或者在您拥有的上下文 xml 或该类的包中标记为 @Component &。

2）如果上面的事情是正确的，那么尝试改变切入点如下

```
@Pointcut("execution(* get*(..))") 
```

此切入点拦截所有 get 方法。看看这点 cut 你的同步方法是否有效。如果它有效，那么至少你的弹簧配置是好的。你只需要细化切入点表达式。但是，如果这也不起作用，那么您的 spring aop 配置本身就有问题，所以我们可以专注于这些。

此外，如果这不起作用，请尝试提供更多信息，例如上下文 xml、bean java 类等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-19T09:48:16.410

你需要检查两件事。

1.  aop:aspectj-autoproxy 在配置中启用
2.  Point Cut / Aspect / Target 是 spring bean

下面是我的 xml 配置示例。

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">

    <aop:aspectj-autoproxy/>
    <context:component-scan base-package="com.techoffice"/>

    <bean class="com.techoffice.example.ExampleAspect"/>

</beans> 
```

**ExampleAspect.java**

```
package com.techoffice.example;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.annotation.After;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.aspectj.lang.annotation.Pointcut;

@Aspect
public class ExampleAspect {

    @Pointcut("execution (* com.techoffice..*(..))")        
    public void anyRun() {}

    @Before(value="anyRun()")
    public void beforeAnyRun(JoinPoint jointPoint){
        System.out.println("Before " + jointPoint.getClass().getName() + "." + jointPoint.getSignature().getName());
    }

    @After(value="anyRun()")
    public void afterAnyRun(JoinPoint jointPoint){
        System.out.println("After " + jointPoint.getClass().getName() + "." + jointPoint.getSignature().getName());
    }
} 
```

**HelloWorld 示例**

```
package com.techoffice.example;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.stereotype.Component;

@Component
public class HelloWorldExample {

    public void run(){
        System.out.println("run");
    }

    public static void main(String[] args){
        ApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
        HelloWorldExample helloWorldExample = context.getBean(HelloWorldExample.class);
        helloWorldExample.run();
    }
} 
```

# c# - 在ListBox winform C#中从单选更改为多选

> ID：11184107
> 
> 赞同：0
> 
> 时间：2012-06-25T05:57:29.147
> 
> 标签：c#, listbox

```
if (productListBox.SelectedIndex >= 0)
                {
                    bool canDelete = true;
                    for (int i = 0; i < bkmNameListBox.Items.Count; i++)
                    {
                        if (((string[])bkmList[i])[1] == _IgnoredBKMID)
                        {
                            canDelete = false;
                        }
                    }
                    if (canDelete)
                    {
                        if (MessageBox.Show("Deleting a product will DELETE ALL debug BKM of this particular product,\r\n Continue?", "Delete Product", MessageBoxButtons.YesNo, MessageBoxIcon.Question) == DialogResult.Yes)
                        {
                            DatabaseAccess.DeleteProduct(productListBox.SelectedItem.ToString());
                            LoadListBox1();
                            bkmNameListBox.Items.Clear();
                        }
                    }
                    else
                    {
                        MessageBox.Show("You cannot delete this product because one if its Debug BKM is in editing", "Access Denied");
                    }
                } 
```

以上代码删除**productListBox**中的一项。如何更改为**删除多个项目**？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:04:13.857

尝试这个：

```
 private void Form1_Load(object sender, EventArgs e)
    {
        bkmNameListBox.SelectionMode = SelectionMode.MultiExtended;
    }
    private void button1_Click(object sender, EventArgs e)
    {

        while (bkmNameListBox.SelectedItems.Count > 0)
        {
            Removedatabasefiled(bkmNameListBox.SelectedItems[0]);
            bkmNameListBox.Items.Remove(bkmNameListBox.SelectedItems[0]);
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:03:05.557

```
listBox1.SelectionMode = SelectionMode.MultiExtended; 
```

[正如评论链接](http://social.msdn.microsoft.com/Forums/nl-BE/csharplanguage/thread/8cabccca-f2b9-40c4-9cf5-89cbcbc06f03)所说 ，遍历`SelectedIndices`并一一删除它们

```
for (int i = listBox1.SelectedIndices.Count-1; i >= 0; i--)
    {
     listBox1.Items.RemoveAt(listBox1.SelectedIndices[i]);

      //Delete from datasource, in case indices are the same  
      DatabaseAccess.DeleteProduct(listBox1.SelectedIndices[i]);
    } 
```

# objective-c - Obj-c Core Data fetch by categoryId in Array（这是托管对象的属性）

> ID：11184108
> 
> 赞同：0
> 
> 时间：2012-06-25T05:57:31.027
> 
> 标签：objective-c, arrays, core-data, nspredicate

我想按类别 id 获取产品。因为产品有一个名为“categories”的属性，它是一个带有类别 id 的数组，我不知道如何使用`NSPredicate`.

甚至可能吗？还是我应该获取所有这些，然后遍历它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:08:52.407

您不存储`NSArray`在核心数据中，没有`NSArray`数据列类型......

很可能您需要过滤类别 id 字段，在这种情况下，您可以通过`NSPredicate`以下方式使用：

```
NSPredicate *searchFilter = [NSPredicate predicateWithFormat:@"category_id = %@", 67]; 
```

# iphone - 检测 iPhone 加速度计不活动

> ID：11184111
> 
> 赞同：1
> 
> 时间：2012-06-25T05:57:48.727
> 
> 标签：iphone, uiaccelerometer

如何检查 iPhone 是否在特定时间内没有晃动？

我的应用程序将支持 iOS 5.x，而且我听说加速度计在 iOS 5.0 中已贬值。我可以在 CoreMotion 框架中检测到不活动吗？

请帮我解决这个问题..

提前致谢。

# php - 将 png 图像从 JavaScript 传递到 PHP（错误：请求 URI 太大）

> ID：11184112
> 
> 赞同：2
> 
> 时间：2012-06-25T05:57:50.147
> 
> 标签：php, javascript, png

我尝试通过按下按钮将 png 图像从 JavaScript 传递到 PHP 页面。但它返回给我一个错误，指出“请求 URI 太大”。以下是我的代码：

myJavaScript.js

```
 var w = window.open(); 
                var dom = w.document;
                var a = canvas[0].toDataURL("image/png"); 
                dom.write('< input type="button" value="Submit" onclick="location.href=\'result.php?a=' + a + '\'" ></input>'); 
```

结果.php

```
 <?php

                $aImg= $_GET["a"];

                $to = "abc@hotmail.com";
                $subject = "Sending an image to email";
                $body = '<img src="' .$aImg. '" alt="This is an image" />';
               if (mail($to, $subject, $body)) 
                              {   
                       echo("Message successfully sent!");  
                               } 
                 else {   
                   echo("Message delivery failed...");
                      }  
              ?> 
```

但是，它返回“请求的 URL 的长度超出了此服务器的容量限制”。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T06:01:12.390

改用帖子。

```
dom.write('<form method="post" action="result.php"><input type="a" value="'+a+'" /><input type="submit" value="Submit" /></form>') 
```

因为使用 GET 方法传递变量需要将变量放在 URL 中，所以对于大型变量，您将达到 URL 的最大长度。POST 没有限制，或者至少有一个更大的限制。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T06:00:57.907

改为使用`POST`代替`GET`，如果使用`GET`，则超出大数据的 URL 长度限制。

# html - 透明 CSS 背景颜色

> ID：11184117
> 
> 赞同：112
> 
> 时间：2012-06-25T05:58:39.597
> 
> 标签：html, css, opacity

我想通过使用不透明度使列表菜单的背景消失，而不影响字体。CSS3可以吗？

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2012-06-25T06:00:25.690

现在您可以在 CSS 属性中使用**rgba ，如下所示：**

```
.class {
    background: rgba(0,0,0,0.5);
} 
```

0.5 是**透明度**，根据您的设计更改值。

**现场演示** [http://jsfiddle.net/EeAaB/](http://jsfiddle.net/EeAaB/)

**更多信息** [http://css-tricks.com/rgba-browser-support/](http://css-tricks.com/rgba-browser-support/)

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2014-10-23T22:13:42.323

记住这三个选项（你想要#3）：

1）整个元素是透明的：

```
visibility: hidden; 
```

2）整个元素有点透明：

```
opacity: 0.0 - 1.0; 
```

3）只是元素的*背景*是透明的：

```
background-color: transparent; 
```

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2012-06-25T06:00:43.110

是的，这是可能的。只需使用[rgba 语法](http://caniuse.com/#search=rgba)作为背景颜色。

```
 .menue {
      background-color: rgba(255, 0, 0, 0.5); //semi-transparent red
    } 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2019-10-12T20:39:35.327

要实现它，您必须修改[`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color)元素的。

创建（半）透明颜色的方法：

*   CSS 颜色名称[`transparent`](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#transparent)创建一个完全透明的颜色。

    用法：

    ```
    .transparent{
      background-color: transparent;
    } 
    ```

*   使用[`rgba`](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/rgba%28%29)or [`hsla`](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/hsla%28%29)color 函数，允许您将 alpha 通道（不透明度）添加到`rgb`and`hsl`函数。它们的 alpha 值范围为 0 - 1。

    用法：

    ```
    .semi-transparent-yellow{
      background-color: rgba(255, 255, 0, 0.5);
    }
    .transparent{
      background-color:  hsla(0, 0%, 0%, 0);
    } 
    ```

    * * *

    [从 CSS 颜色模块级别 4 开始，`rgb`工作`hsl`方式与`rgba`和dos`hsla`相同](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#syntax_2)，接受可选的 alpha 值。所以现在你可以这样做：

    ```
    .semi-transparent-yellow{
      background-color: rgb(255, 255, 0, 0.5);
    }
    .transparent{
      background-color:  hsl(0, 0%, 0%, 0);
    } 
    ```

    * * *

    对标准（颜色模块级别 4）的相同更新也带来了对空格分隔值的支持：

    ```
    .semi-transparent-yellow{
      background-color: rgba(255 255 0 / 0.5);
    }
    .transparent{
      background-color:  hsla(0 0% 0% / 0);
    } 
    ```

    我不确定为什么这两个会比旧语法更好，所以考虑使用`a`- 后缀、逗号分隔的变体以获得更大的支持。

*   除了已经提到的解决方案之外，您还可以使用带有 alpha 值（[`#RRGGBBAA`或`#RGBA`符号](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#RGB_colors)）的 HEX 格式。

    这包含在相同的 CSS 颜色模块级别 4 中，因此它的支持比前两个解决方案更差，但它已经[在更大的浏览器中实现](https://caniuse.com/#feat=css-rrggbbaa)（抱歉，没有 IE）。

    这与其他解决方案不同，因为它也将 alpha 通道（不透明度）视为十六进制值，使其范围为 0 - 255 ( `FF`)。

    用法：

    ```
    .semi-transparent-yellow{
      background-color: #FFFF0080;
    }
    .transparent{
      background-color: #0000;
    } 
    ```

您也可以尝试一下：

*   `transparent`：

    ```
    div {
      position: absolute;
      top: 50px;
      left: 100px;
      height: 100px;
      width: 200px;
      text-align: center;
      line-height: 100px;
      border: 1px dashed grey;

      background-color: transparent;
    }
    ```

    ```
    <img src="https://via.placeholder.com/200x100">
    <div>
      Using `transparent`
    </div>
    ```

*   `hsla()`：

    ```
    div {
      position: absolute;
      top: 50px;
      left: 100px;
      height: 100px;
      width: 200px;
      text-align: center;
      line-height: 100px;
      border: 1px dashed grey;

      background-color: hsla(250, 100%, 50%, 0.3);
    }
    ```

    ```
    <img src="https://via.placeholder.com/200x100">
    <div>
      Using `hsla()`
    </div>
    ```

*   `rgb()`：

    ```
    div {
      position: absolute;
      top: 50px;
      left: 100px;
      height: 100px;
      width: 200px;
      text-align: center;
      line-height: 100px;
      border: 1px dashed grey;

      background-color: rgb(0, 255, 0, 0.3);
    }
    ```

    ```
    <img src="https://via.placeholder.com/200x100">
    <div>
      Using `rgb()`
    </div>
    ```

*   `hsla()`用空格分隔的值：

    ```
    div {
      position: absolute;
      top: 50px;
      left: 100px;
      height: 100px;
      width: 200px;
      text-align: center;
      line-height: 100px;
      border: 1px dashed grey;

      background-color: hsla(70 100% 50% / 0.3);
    }
    ```

    ```
    <img src="https://via.placeholder.com/200x100">
    <div>
      Using `hsla()` with spaces
    </div>
    ```

*   `#RRGGBBAA`：

    ```
    div {
      position: absolute;
      top: 50px;
      left: 100px;
      height: 100px;
      width: 200px;
      text-align: center;
      line-height: 100px;
      border: 1px dashed grey;

      background-color: #FF000060
    }
    ```

    ```
    <img src="https://via.placeholder.com/200x100">
    <div>
      Using `#RRGGBBAA`
    </div>
    ```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2017-08-19T07:47:55.850

这是一个使用 CSS 命名颜色的示例类：

```
.semi-transparent {
  background: yellow;
  opacity: 0.25;
} 
```

这将添加 25% 不透明（彩色）和 75% 透明的背景。

**CAVEAT** 不幸的是，不透明度会影响它所连接的*整个*元素。
因此，如果您在该元素中有文本，它也会将文本设置为 25% 的不透明度。:-(

解决这个问题的方法是使用`rgba`or`hsla`方法将透明度*指示为所需背景“颜色”的一部分。这允许您指定背景透明度*，独立于元素中其他项目的透明度。

*   从技术上讲，我们正在设置*opacity ，尽管我们经常喜欢在**透明度*方面说话/思考。显然它们是相关的，彼此相反，因此设置一个决定另一个。指定的数字是不透明度 %。1 是 100% 不透明，0% 透明，反之亦然）。

以下是在不影响其他元素的情况下将蓝色背景设置为 75% 不透明度（25% 透明）的 3 种方法：

*   `background: rgba(0%, 0%, 100%, 0.75)`
*   `background: rgba(0, 0, 255, 0.75)`
*   `background: hsla(240, 100%, 50%, 0.75)`

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2013-11-23T00:27:33.260

在这种情况下`background-color:rgba(0,0,0,0.5);`是最好的方法。例如：`background-color:rgba(0,0,0,opacity option);`

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2012-06-25T06:06:02.080

尝试这个：

```
opacity:0; 
```

适用于 IE8 及更早版本

```
filter:Alpha(opacity=0); 
```

[W3Schools 的不透明度演示](http://www.w3schools.com/cssref/tryit.asp?filename=trycss3_opacity)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2019-10-12T20:14:25.360

是的，您可以将纯文本作为

```
.someDive{
    background:transparent 
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2021-08-29T10:46:17.383

对于您的情况，我们可以使用`rgba()`：首先，我们操作背景颜色，并使用 rgba。

```
 .selector {
        background-color: rgba(0, 0, 0, 0.3);
    } 
```

现在它的作用是，它基本上为您的元素添加了不透明度，以及黑色背景颜色。这就是你运行它时的样子。

```
 body {background-color: #0008f3;}

    .container {
        height: 100px;
        width: 100px;
        background-color: rgba(255,255,255,0.5);
    }
```

```
 <body>
        <div class="container"></div>
    </body>
```

# android - 在phonegap应用程序的sdcard中保存相机拍摄的照片

> ID：11184122
> 
> 赞同：0
> 
> 时间：2012-06-25T05:59:02.273
> 
> 标签：android, jquery-mobile, cordova

我正在使用[PhoneGap](http://phonegap.com/)相机 API 拍照。拍照后会显示在我的页面中。它可以工作，但图片保存在应用程序缓存文件夹中，

`/mnt/sdcard/Android/data/mypackage.com/cache`.

相反，我想将它们保存在我的 SD 卡中的文件夹中`/mnt/sdcard/myFolder`，或者类似的东西。我经历了很多问答，但我找不到我想要的方式。

这是我的源代码。

```
 <html>
     <div data-role="page" id="camera_page" data-theme="a">
        <div data-role="header"><h1>Camera-page</h1></div>
        <div data-role="content" class="ui-content">
        <div data-role="fieldcontain">
        <button onclick="capturePhotoWithData();" data-theme="a">Capture Photo</button> <br>

            <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
            <img style="display:none;" id="largeImage" src="" />
        </div>

    </div>
    <div data-role="footer" data-position="fixed">footer</div>
</div>

</html>

//here is my  java script

  <script type="text/javascript">

  var pictureSource;   // picture source
  var destinationType; // sets the format of returned value 

  // Wait for PhoneGap to connect with the device
   //
   document.addEventListener("deviceready",onDeviceReady,false);

 // PhoneGap is ready to be used!
  //
 function onDeviceReady() {
    pictureSource=navigator.camera.PictureSourceType;
    destinationType=navigator.camera.DestinationType;
}

// Called when a photo is successfully retrieved
//
function onPhotoDataSuccess(imageData) {
  // Get image handle
  //
  var smallImage = document.getElementById('smallImage');

  // Unhide image elements
  //
  smallImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  smallImage.src = "data:image/jpeg;base64," + imageData;
}

// Called when a photo is successfully retrieved
//
function onPhotoFileSuccess(imageData) {
  // Get image handle
  console.log(JSON.stringify(imageData));

  // Get image handle
  //
  var smallImage = document.getElementById('smallImage');

  // Unhide image elements
  //
  smallImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  smallImage.src = imageData;
}

// Called when a photo is successfully retrieved
//
function onPhotoURISuccess(imageURI) {
  // Uncomment to view the image file URI 
  // console.log(imageURI);

  // Get image handle
  //
  var largeImage = document.getElementById('largeImage');

  // Unhide image elements
  //
  largeImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  largeImage.src = imageURI;
}

// A button will call this function
//
function capturePhotoWithData() {
  // Take picture using device camera and retrieve image as base64-encoded string
  navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50 });
}

function capturePhotoWithFile() {
    navigator.camera.getPicture(onPhotoFileSuccess, onFail, { quality: 50, destinationType: Camera.DestinationType.FILE_URI });
}

// A button will call this function
//
function getPhoto(source) {
  // Retrieve image file location from specified source
  navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
    destinationType: destinationType.FILE_URI,
    sourceType: source });
}

// Called if something bad happens.
// 
function onFail(message) {
  alert("you didn't take any pictures");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-15T08:23:41.407

您必须将文件复制到要存储的目标位置。

我所做的是：

*   从 camera.getPictures 函数接收 fileUri

```
navigator.camera.getPicture(
        onSuccess,
        onFail, {
          quality: 50, destinationType: Camera.DestinationType.FILE_URI //FILE_URI!
        });

      function onSuccess(imageURI) {
        alert(imageURI); //displays the current location of the file 
        $scope.imageURI = imageURI;
      }
```

*   将文件从源文件夹（根据 fileUri）移动到目标：

```
moveFile($scope.imageURI);

        function moveFile(fileUri) {
          window.resolveLocalFileSystemURL(
            fileUri,
            function(fileEntry){
              window.resolveLocalFileSystemURL(
                cordova.file.externalCacheDirectory, //insert your destination here
                function(dirEntry) {
                  // move the file to a new directory and rename it
                  fileEntry.moveTo(dirEntry, fileEntry.name, onSuccess(fileEntry, dirEntry), onFail);
                },
                onFail);
            },
            onFail);
        }
```

（主要是从[Cordova Move File 使用文件 url 获得的](https://stackoverflow.com/questions/27910783/cordova-move-file-using-the-file-url)）

您的目标文件夹应该是 cordova.file.externalRootDirectory （根据[https://github.com/apache/cordova-plugin-file](https://github.com/apache/cordova-plugin-file)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T02:00:42.990

使用 OnActivityResult 方法检查正确的结果 ID，

```
String out = "/mnt/sdcard/myFolder/mypic.png";
Bitmap b = i.getExtras().getData("data");

//Create an OutputStream, can't remember how I did it.  this.getOutputStream() maybe?

Bitmap.compress(Bitmap.CompressFormat.valueOf(out), 100, outputStream); 
```

我已经在一个工作项目中做到了这一点，我明天也许可以准确地更新你。

# php-5.3 - php中的命名空间

> ID：11184132
> 
> 赞同：0
> 
> 时间：2012-06-25T06:00:59.833
> 
> 标签：php-5.3

```
<?php
namespace foo;
use My\Full\Classname as Another;

// this is the same as use My\Full\NSname as NSname
use My\Full\NSname;

// importing a global class
use ArrayObject;

$obj = new namespace\Another; // instantiates object of class foo\Another
$obj = new Another; // instantiates object of class My\Full\Classname
NSname\subns\func(); // calls function My\Full\NSname\subns\func
$a = new ArrayObject(array(1)); // instantiates object of class ArrayObject
// without the "use ArrayObject" we would instantiate an object of class foo\ArrayObject
?> 
```

请帮我解决一下这个。

是什么意思`use My\Full\Classname as Another;`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:02:36.913

那是一个别名。每次您将`Another`其称为（相对）命名空间或类名时，它都会被解析为`\My\Full\Classname`

```
$x = new Another;
echo get_class($x); // "\My\Full\Classname"
$y = new Another\Something;
echo get_class($y); // "\My\Full\Classname\Something" 
```

以命名空间分隔符开头的标识符`\`是全限定名称。如果缺少，则根据当前命名空间和由（按此顺序）定义的别名定义解析标识符（和: 它们始终是完全限定`use`的标识符除外）。`use``namespace`

[PHP 手册：命名空间](http://php.net/manual/en/language.namespaces.php)

# jsf - JSF 2.1 的战斧

> ID：11184133
> 
> 赞同：0
> 
> 时间：2012-06-25T06:01:03.670
> 
> 标签：jsf, myfaces, tomahawk

“用于 JSF 2.0 的战斧”是否适用于 JSF 2.1 / MyFaces Core 2.1？如果没有，新版本“用于 JSF 2.1 的战斧”预计/很快就会宣布？

如果没有，使用“Tomahawk for JSF 2.0”和 JSF 2.0 / MyFaces Core 2.0 会有什么缺点吗？

我正在从 MyFaces 1.2.6 + Facelets 1.1.15-jsf1.2 升级（使用大量模板）

首先十分感谢。

问候，库马尔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T12:10:07.820

是的，适用于 JSF 2.0 的 Tomahawk 将适用于 JSF 2.1。我们也在生产中使用它。

JSF 2.1 不是规范更改，而仅仅是维护版本。然而，JSF 1.2 -> 2.0 是一个重大的规范更改，这就是为什么 JSF 1.x 目标组件库不适用于 JSF 2.x。

# python - 为什么不能就地编辑文件？

> ID：11184136
> 
> 赞同：0
> 
> 时间：2012-06-25T06:01:13.403
> 
> 标签：python, c, file-io

我在[这里](https://stackoverflow.com/a/125759/553707)读到，就地编辑文件是不可能的，因为它与操作系统相关并且完全独立于语言。这是为什么？C 标准 fseek() 没有定义就地文件写入吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:05:23.903

您也可以在 Python 中寻找 - 您链接的答案只是指出您不能在文件中间*插入*`ABC`（ -> `ABXC`）。

如果您先查找然后再写入，则写入的任何数据都会**覆盖**`ABC`文件（ -> `AXC`）该位置的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:23:16.867

问题与操作系统有关，因为它取决于操作系统如何使用其文件系统组织磁盘上的数据。

通常，磁盘被分成固定大小的块来存储文件的内容。当一个字节被覆盖时，只有包含该字节的（整个）块被重写。附加文件时，可能会重写最后一个块，并分配新块并“链接”到文件以存储附加数据的内容。这两个操作在这个方案下是有效的。

但是，当插入或删除某个字节时，通常需要从包含插入/删除更改的第一个块重写文件。

技术上可以减少重写文件所花费的时间。对于插入情况，操作系统可以为插入的数据分配一个新块，将其“链接”到文件，并重写一个或两个相邻块。对于删除情况，操作系统可以减少块中的有效字节数、重写块和/或“重新链接”文件中的块。作为免责声明，我刚才提到的“解决方案”取决于特定文件系统的结构。但是，如果降低重写文件的成本，通常会导致稍后的读取操作受到打击，或者会出现内部碎片。

如果有一天有人发明了一种数据结构，可以在保持读取操作的性能的同时有效地插入/删除磁盘上的数据，也许这个问题就会解决。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:05:14.887

关键是文件就像一个数组（只是在磁盘上）。它在磁盘上占据一个固定的位置。

如果必须在数组中间插入一些东西，则必须移出尾随元素，否则将覆盖这些元素。同样的概念适用于文件，您需要移出文件的尾部以在中间插入一些东西。

一个例外是当您需要用相同大小的新块覆盖文件的固定大小块时。然后使用 fseek() 然后覆盖就很好了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:19:04.697

当然，您可以就地编辑文件：

```
import struct
RECSIZE = struct.calcsize('<i')

fp = open('name.txt', 'r+b')
fp.seek(132 * RECSIZE)   # go to record number 132
fp.write(struct.pack('<i', 42))
fp.seek(132 * RECSIZE)
assert struct.unpack('<i', fp.read(RECSIZE)) == 42 
```

这也显示了这样做的最常见原因和局限性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T06:07:14.137

您可以就地修改文件；如果您要替换的数据与您要替换的数据大小相同（更小并且您只需填充）。如果更大怎么办？好吧，那么修改后的所有内容无论如何都需要重新写入磁盘，对吗？您也不能假设在所有情况下最后都有足够的空间，因此可能需要将文件移动到一个全新的位置。

显然，这使得有效的用例相当罕见。通常，除非您有充分的理由这样做，否则这是不值得的。至于您是否可以访问 Python 中的就地修改 API……我不知道。

# javascript - 如何在 JEditable/JQuery 中的事件后保存字段中的更新值？

> ID：11184139
> 
> 赞同：1
> 
> 时间：2012-06-25T06:01:45.893
> 
> 标签：javascript, jquery, jeditable

现在我的页面包含一组字段和用于编辑的 JEditable 脚本：

```
<html>
<head>
    <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="jquery.jeditable.js"></script>
</head>
<body>
    <table border='1'>
    <div id="load-button" style="border:1px solid black; background-color:white;padding:5px;cursor:pointer;width:200px;text-align:center;border-radius:4px;">Load button</div>

    <script type="text/javascript" charset="utf-8">
        $(function() {
          $(".field").editable("echo.php", { 
                indicator : "<img src='img/indicator.gif'>",
                tooltip   : "Move mouseover to edit...",
                event     : "mouseover",
                style  : "inherit"
          });  
        });
    </script>
    <?php
        mysql_connect('localhost', 'root','') or die('connect');
        mysql_select_db('jquery_test') or die('select_db');
        $query=mysql_query('SELECT * FROM labels');
        while ($data=mysql_fetch_assoc($query))
        {
            echo '<b class="field" style="display: inline">'.$data['text'].'</b><br >';
        }
    ?>

</body>
</html> 
```

但它不能正常工作：当我按字段单击时，输入新值并按“输入”然后该字段将其值更改为“单击以编辑”，但我需要该字段继续显示更新的值。我该怎么做？我应该改变什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T22:20:20.110

In you jQuery code I have something like this - it's the .fnUpdate that really is the key part...

```
var tableElement = $(".field");
tableElement.editable("echo.php", { 
            style : "inherit",
            "callback": function(sValue,y){

                    //Grab the cell position
                    var aPos = tableElement.fnGetPosition(this);
                    tableElement.fnUpdate(sValue, aPos[0], aPos[1]);
            },{

              "submitdata" : "OK"
 });

 tableElement.fnDraw(); 
```

# android - 如何加载 KMZ 文件？

> ID：11184148
> 
> 赞同：1
> 
> 时间：2012-06-25T06:03:20.880
> 
> 标签：android, google-maps, kmz

“我必须将 kmz 文件加载到我正在开发的 android 应用程序中，并且该 kmz 文件将从 sdcard 加载到应用程序中。所以我应该为此做些什么，无论是直接的 uri 意图还是我必须解析它通过 xml 解析，如果是这样，那么如何将坐标加载到地图中以显示该 kmz 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:31:40.543

要使用支持 kmz 文件的本机 v3 KmlLayer，受限于[记录的大小和复杂性限制](https://developers.google.com/kml/documentation/mapsSupport)，kmz 文件必须在网络上公开可用（以便 google 的服务器可以访问它）。

要使用本地文件（听起来像您这样做），您唯一的选择是使用第三方解析器，如[geoxml3](https://github.com/geocodezip/geoxml3)或[geoxml-v3](https://code.google.com/p/geoxml-v3/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-25T07:14:13.180

在 android studio 中打开使用下面的代码：

```
 try {
     KmlLayer layer = new KmlLayer(mGoogleMap,R.raw.filename, 
                      getApplicationContext()); 
       // creating the kml layer, put the file in res/raw
     layer.addLayerToMap();
            } catch (XmlPullParserException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

# spring - ireport 中的弹簧加载休眠连接

> ID：11184153
> 
> 赞同：0
> 
> 时间：2012-06-25T06:04:30.283
> 
> 标签：spring, jakarta-ee, ireport

我有一个 Spring Web MVC 项目。而且，我正在尝试使用现有的 spring web mvc 项目应用程序上下文在 IReport 中创建一个 Spring Loaded Hibernate Connection。

在 IReport 中，在 Options 窗口的 ClassPath 选项卡中，我添加了项目使用的所有最新 Spring jar。以及应用程序上下文的文件夹。

但是，在测试连接时出现以下错误

> 错误创建在类路径资源 spring-hibernate.xml 中定义的 bean 名称“mySessionFactory”：调用 init 方法失败；嵌套异常是 org.hibernate.MappingException：找不到实体类。

有没有人在 Ireport 中使用 Spring 加载的 Hibernate 连接成功连接？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T17:11:28.183

IReport 在内部使用过时的 Spring 版本（我认为它是 2.0.0），因此如果您有例如 Annotated Spring 和 Hibernate，则没有机会运行，因为 Ireport 大量使用反射。

所以如果你尝试给我们一个CustomClassLoader，你会碰壁，因为IReport在你给它你的Custom DataSource之后也会尝试加载你的。

# java - 在 Java 中遇到键盘事件问题

> ID：11184155
> 
> 赞同：0
> 
> 时间：2012-06-25T06:04:36.540
> 
> 标签：java

所以我试图诚实地使用 KeyBoardEvent 只是为了测试目的.. 我所做的似乎并不奏效：/希望你们能告诉我我在哪里 derping。谢谢！

```
package com.dillyg10.test.Keys;

import java.awt.Window;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class Keys extends JPanel implements KeyListener  {
    private static final long serialVersionUID = 1L;

    public Keys(){

    }

    public static void registerEvent(Window w){
        w.setFocusTraversalKeysEnabled(false);
        w.setFocusable(true);
        w.addKeyListener(new Keys());
    }
    public void keyPressed(KeyEvent e) {
        System.out.println(KeyEvent.getKeyText(e.getKeyCode()));
    }
    public void keyReleased(KeyEvent e) {

    }
    public void keyTyped(KeyEvent e) {

    }
    public static void gui() {

        JFrame frame = new JFrame("Keys");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        registerEvent(new Window(frame));

        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args){
        SwingUtilities.invokeLater(new Runnable(){
            public void run(){
                gui();
            }
        });
     }
    } 
```

这段代码基本上是一个测试，以确定键盘事件是否有效，我只是在按下时打印出键..但没有打印任何内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:42:32.613

冒昧地对您的代码进行一些更改并设法使其工作：

包sample.examples；

```
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Window;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class Keys extends JPanel implements KeyListener  {
    private static final long serialVersionUID = 1L;

    public Keys(){
        this.setBackground(Color.black);
    }

    public void keyPressed(KeyEvent e) {
        System.out.println("Button Pressed: " + KeyEvent.getKeyText(e.getKeyCode()));
    }
    public void keyReleased(KeyEvent e) {       

    }
    public void keyTyped(KeyEvent e) {      

    }
    public void gui() {

        JFrame frame = new JFrame("Keys");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setPreferredSize(new Dimension(500,500));
        frame.setFocusTraversalKeysEnabled(false);
        frame.setFocusable(true);
        frame.setContentPane(this);
        frame.addKeyListener(this);      

        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args){
        SwingUtilities.invokeLater(new Runnable(){
            public void run(){
                Keys k = new Keys();
                k.gui();
            }
        });
     }
    } 
```

您的问题之一似乎是您`JPanel`没有为`JPanel`. 为了让你更容易，我把黑色涂成`JPanel`黑色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:30:14.540

## 解决方案

```
package com.java.tests;

import java.awt.Window;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class Keys extends JPanel implements KeyListener {

private static final long serialVersionUID = 1L;
public static Keys keys = new Keys();

public Keys() {
}

public void registerEvent(Window w) {
    w.addKeyListener(this);
    w.setSize(200,200);
}

@Override
public void keyPressed(KeyEvent e) {
    System.out.println(KeyEvent.getKeyText(e.getKeyCode()));
}

@Override
public void keyReleased(KeyEvent e) {
    System.out.println(KeyEvent.getKeyText(e.getKeyCode()));
}

@Override
public void keyTyped(KeyEvent e) {
}

public void gui() {

    JFrame frame = new JFrame("Keys");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    registerEvent(frame);

    //Display the window.
    frame.pack();
    frame.setVisible(true);
}

public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            keys.gui();
        }
    });
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:33:31.577

而不是`w.addKeyListener(new Keys());`使用`w.addKeyListener(this);`

希望这可以解决您的问题。

# java - 在Java中序列化自定义类型

> ID：11184156
> 
> 赞同：2
> 
> 时间：2012-06-25T06:04:43.170
> 
> 标签：java, serialization

我正在阅读一些关于Java序列化的资料，发现对于自定义类型，我们可以在类型中定义两个成员函数来改变默认的序列化行为：

```
private void readObject(java.io.ObjectInputStream in)
private void writeObject(java.io.ObjectOutputStream out) 
```

对此我有两个疑问：
1\. 这两个函数都是用`private`关键字限定的，在序列化过程中它们是如何调用的？
2、我们都知道Java`Serializable`接口是一个空接口，那么序列化机制是怎么知道调用这两个函数进行序列化和反序列化的呢？

期待您的帮助！

程

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:07:33.563

> 这两个函数都是用private关键字限定的，在序列化过程中是如何调用的呢？

Java 序列化基本上涉及 JVM 中的魔法。哎呀，它甚至可以在不调用构造函数的情况下创建一个对象。

> 我们都知道Java Serializable Interface是一个空接口，那么序列化机制是如何知道调用这两个函数进行序列化和反序列化的呢？

通过反射很容易（从适当受信任的代码中）判断一个类是否提供某些方法。序列化框架代码具有足够的可信度来确定以及调用方法。

当然，在普通 Java 中，仅检测和调用另一个类的私有方法是可行的（同样，使用适当受信任的代码）：

```
import java.lang.reflect.*;

class Other {
    private static void privateMethod() {
        System.out.println("You can't call me, can you?");
    }
}

public class Test {
    public static void main (String[] args) throws Exception {
        Method method = Other.class.getDeclaredMethod("privateMethod");
        method.setAccessible(true);
        method.invoke(null);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:07:55.243

这两个问题的答案是这些东西在 Java 实现中是硬编码的，因此“正常”规则不适用（这可能有点不一致）。

# sql - 仅使用选择查询的 SQL 一对一映射

> ID：11184157
> 
> 赞同：1
> 
> 时间：2012-06-25T06:04:46.963
> 
> 标签：sql, database, select, cursor

我有两个名为 LeftTable 和 RightTable 的表，如下所示

**左表**

```
obsid    Name      Value                 
1        Ronak     A                      
2        Aakash    B                      
3        Pankti    C                      
4        Sanket    D 
```

**右表**

```
obsid        Name       Value
1            Jhone      F
2            Isabella   M
3            Jonathan   L
4            javafx     p 
```

现在，当我在某种情况下离开时，输出将如下所示

**结果表**

```
obsid    Name      Value                  obsid        Name       Value
-------------------------------------------------------------------------
1        Ronak     A                      1            Jhone      F
1        Ronak     A                      2            Isabella   M
1        Ronak     A                      3            Jonathan   L
1        Ronak     A                      4            javafx     p
2        Aakash    B                      2            Isabella   M
2        Aakash    B                      3            Jonathan   L 
2        Aakash    B                      4            javafx     p
3        Pankti    C                      3            Jonathan   L
3        Pankti    C                      4            javafx     p
4        Sanket    D                      4            javafx     p 
```

这个左连接帮助我在我的应用程序中实现一对多关系。

左连接条件在我的应用程序中是动态的。所以这只是我在这里展示的一个例子。假设上例中的左连接条件是 LeftTable.Obsid <= RightTable.Obsid 现在我想实现一对一的关系。一对一关系意味着当任何右表记录与任何左表记录链接一次时，该右表记录不能与任何其他左表记录链接。

对于上面的示例，一对一的输出如下

```
obsid    Name      Value                  obsid        Name       Value
1        Ronak     A                      1            Jhone      F
2        Aakash    B                      2            Isabella   M
3        Pankti    C                      3            Jonathan   L
4        Sanket    D                      4            javafx     p 
```

我有两种方式实现这个功能：

1.  使用光标
2.  使用选择查询获取一条一条记录

数据库表在我的应用程序中是动态的。因此，虽然处理数百万条记录需要太多时间，因为一条一条地获取记录并对其进行处理需要时间。

有没有办法在单选查询中实现一对一关系？

我想避免一条一条地获取记录，我正在使用 Mysql 数据库

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:46:35.693

您可以通过仅使用内部连接来实现示例中显示的所需输出。

```
select * from LeftTable L inner join RightTable R
on L.obsid=R.obsid 
```

但是如果左表中有重复的obsid，您可以使用以下查询

```
 select  A.obsid,A.Name,A.Value, R.obsid,R.Name,R.Value from(
     select *,row_number() over (partition by obsid order by obsid ) as row_num 
    from LeftTable)A
     inner join RightTable R
     on A.obsid=R.obsid
     where A.row_num=1 
```

请让我知道这是您的期望

# lightbox - 彩盒灯箱未运行

> ID：11184165
> 
> 赞同：0
> 
> 时间：2012-06-25T06:05:52.253
> 
> 标签：lightbox, colorbox

我一直在使用彩盒灯箱（幻灯片），但问题是每当我点击图像时，我都会得到“设置未定义”。它在谈论哪个设置。我很困惑。我试图更改设置，但找不到要更改的内容。它显示的设置是

```
if (settings.slideshow && $related[1]) {
            start = function () {
                $slideshow
                    .text(settings.slideshowStop)
                    .unbind(click)
                    .bind(event_complete, function () {
                        if (index < $related.length - 1 || settings.loop) {
                            timeOut = setTimeout(publicMethod.next, settings.slideshowSpeed);
                        }
                    })
                    .bind(event_load, function () {
                        clearTimeout(timeOut);
                    })
                    .one(click + ' ' + event_cleanup, stop);
                $box.removeClass(className + "off").addClass(className + "on");
                timeOut = setTimeout(publicMethod.next, settings.slideshowSpeed);
            };

            stop = function () {
                clearTimeout(timeOut);
                $slideshow
                    .text(settings.slideshowStart)
                    .unbind([event_complete, event_load, event_cleanup, click].join(' '))
                    .one(click, function () {
                        publicMethod.next();
                        start();
                    });
                $box.removeClass(className + "on").addClass(className + "off");
            };

            if (settings.slideshowAuto) {
                start();
            } else {
                stop();
            }
        } else {
            $box.removeClass(className + "off " + className + "on");
        }
    } 
```

我必须在这里改变什么。感谢您的任何建议或帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T16:28:16.250

你在那里没有改变任何东西。您可能会收到该错误，因为您正在做一些正在删除设置数据的人。显示你在做什么，而不是插件中的代码片段。

# android - 由于多种密度和屏幕尺寸，APK 太大？

> ID：11184167
> 
> 赞同：3
> 
> 时间：2012-06-25T06:06:06.290
> 
> 标签：android, screen, dpi, apk

Google 建议为每个图像创建 4 个不同的版本 - 每个密度（ldpi、mdpi、hdpi、xhdpi）一个。有时您甚至可能想根据屏幕尺寸（小、正常、大、超大）创建其他屏幕。

这会导致一个奇怪的情况，大多数应用程序的图像永远不会被应用程序使用，对吧？

为什么 Google 不在其网站上创建多个 APK，以将最佳 APK 定位到最终用户的设备，以便 100% 的资源将针对设备的规格？还是已经有这样的事情了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:17:29.637

是的，支持多个 APK。请参考[这里](http://developer.android.com/guide/google/play/publishing/multiple-apks.html)。

为了准确地满足您的需求，您可以在清单文件中使用某些过滤器，即`<supports-screens> or <compatible-screens>`

# syntax - 嵌套在水晶报表中的 if else

> ID：11184169
> 
> 赞同：14
> 
> 时间：2012-06-25T06:06:31.377
> 
> 标签：syntax, if-statement, crystal-reports

我想在 Crystal Reports 中嵌套 if-else 语句，但我不知道必要的语法。我怎样才能安排这样的事情：

```
if table1.id <> "1" then
   if table1.name <> "a" then
      var1 := "Hello"
   else
      var1 := "Hi"
else
   var1 := "Bye" 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-25T06:36:03.973

您可以使用括号来避免嵌套`if..else`结构中的歧义：

```
if {table1.id} <> 1 then
   (if {table1.name} <> "a" then
      var1 := "Hello"
   else
      var1 := "Hi";)
else
   var1 := "Bye"; 
```

# php - 我的剧本中出现了令人毛骨悚然的角色

> ID：11184171
> 
> 赞同：2
> 
> 时间：2012-06-25T06:06:35.153
> 
> 标签：php

我有一个 php 脚本在 localhost 中运行良好，但是当我启动它时，每个页面的开头都有这些字符。

`ï»¿ ï»¿ ï»¿ ï»¿ ï»¿ ï»¿ï»¿`

知道这些是什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:11:06.883

`ï»¿`是 Unicode 标准的字节顺序标记 (BOM)。具体来说，它是十六进制字节`EF BB BF`，它形成了 BOM 的 UTF-8 表示，被误解为 ISO 8859/1 文本而不是 UTF-8。

这可能意味着您使用的文本编辑器正在使用带有 BOM 的 UTF-8 格式保存文件，而它应该在没有 BOM 的情况下保存。它可能是具有 BOM 的 PHP 文件，在这种情况下，它们会在您的页面上显示为文字文本。

Unicode 联盟关于字节顺序标记的常见问题解答位于[http://www.unicode.org/faq/utf_bom.html#BOM](http://www.unicode.org/faq/utf_bom.html#BOM)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:10:58.987

它们是您的文本编辑器已放置在所有文件中的[BOM的错误编码。](http://en.wikipedia.org/wiki/Byte_order_mark)

```
>>> u'ï»¿'.encode('latin-1').decode('utf-8')
u'\ufeff' 
```

# facebook-c#-sdk - facebook 应用程序未使用 .net 在 facebook 框架中显示

> ID：11184172
> 
> 赞同：0
> 
> 时间：2012-06-25T06:06:51.017
> 
> 标签：facebook-c#-sdk, facebook-apps

我无法在 fb 框架上显示我的应用程序。我不知道它是否会成功。

我是这样给的。“http://127.0.0.1/fbinfo/”

对于页面标签，我也是这样给出的。

问题是输出是

我们如何在本地系统中调试 facebook 应用程序。我正在使用 C#.Net 和 ASP.Net 技术。

我的要求是这样的，如果一个 fb 用户登录并来到我们的应用程序，如果他点击，那么我们将显示一个代码，否则我们将收集他的信息并将其存储到我们的网站并显示一个代码。我想在 asp.net 中开发和 c#.net

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:38:03.793

您的应用程序是否安装在 Fan Tab 上？您的应用程序是否已正确设置为指向您的本地环境？

# git - 什么是“git完全备份”？

> ID：11184174
> 
> 赞同：2
> 
> 时间：2012-06-25T06:06:52.767
> 
> 标签：git, backup

git 的一个好处是“每个人都可以拥有完整的备份”作为 DVCS 相对于 SVN。我不太明白。

例如，John 有一个带有分支 branch_a 的 git repo，Peter 有另一个带有 branch_b 的 git repo。branch_a 和 branch_b 不同，没有同步备份是不完整的。
作为SVN他们也可以将所有代码拉到本地，这也是一种“完全备份”吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:12:54.963

存储库的每个克隆都是完整的 .. 存储库的克隆：它包含每个提交。当你说

> 就像在 SVN [..] 中一样，它也是一种“完全备份”吗？

这是错误的，因为在 SVN 中，您只需将特定版本检出到本地工作区，仅此而已。特别是：当您的网络连接中断时，您无法使用 SVN 进行任何操作。因为 git 存储库有每个提交（只要您不时获取所有提交，例如通过`git fetch --all`），您可以照常工作并稍后推送到远程提交。如果有人破坏了远程存储库，那么*每个*开发人员都拥有它的副本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:12:45.100

在 SVN 的“正常”使用中，您只有一个分支检出，并且只有最新版本。如果你想要另一个分支，或者文件的旧版本，你需要去服务器。您可以查看整个存储库，但同样只能查看当前版本。更重要的是，您需要设置存储库复制，这很复杂，绝对不是正常开发人员工作流程的一部分。

在 git 中，您可以通过正常的结帐程序轻松地从服务器获取所有数据的*完整*副本。你通常从一个“克隆”开始，它拥有一切。即使您只“拉”一个分支，您仍然可以获得其中所有内容的完整历史记录。

# iphone - 如何在 iPhone 中检测到网页视图页面结束

> ID：11184179
> 
> 赞同：2
> 
> 时间：2012-06-25T06:07:26.230
> 
> 标签：iphone, ipad, uiwebview, uiscrollview, epub

我是`iPhone`开发人员的新手，

我制作了epub阅读器并在我的epub中加载了每一页`webview`，当我看到我的`portrait mode`滚动应用程序不存在时，我已经使用过，

`webview.scalesPageToFit=TRUE;`

但是，当我看到我的应用程序在横向模式页面适合但滚动时会发生，所以我想`swiperight gesture`在滚动结束时添加，以便用户可以导航到下一页，在做`rightswipe`.

有什么方法可以告诉 webview 已完成滚动？

![](../Images/a77c533d834d8799b77b545c3719aba0.png) **_ 简而言之，如何检测 UIWebView 到达顶部或底部？_**

**提前致谢 ！**

**EDIT** 写入确实加载：

```
 swipeRight = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeRightAction:)];
    swipeRight.direction = UISwipeGestureRecognizerDirectionRight;
    swipeRight.delegate = (id<UIGestureRecognizerDelegate>)self;
    [_webview addGestureRecognizer:swipeRight];

    swipeLeft = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(swipeLeftAction:)];
    swipeLeft.direction = UISwipeGestureRecognizerDirectionLeft;
    swipeLeft.delegate = (id<UIGestureRecognizerDelegate>)self;
    [_webview addGestureRecognizer:swipeLeft]; 
```

然后在加载每个页面时，我正在检查方向，如果它是纵向的，然后再添加两个向上和向下的手势，如果是横向的，然后删除向上和向下的手势。

```
if([UIApplication sharedApplication].statusBarOrientation==UIInterfaceOrientationPortrait || [UIApplication sharedApplication].statusBarOrientation==UIInterfaceOrientationPortraitUpsideDown) {

        swipeUp = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeLeftAction:)];
        swipeUp.direction = UISwipeGestureRecognizerDirectionUp;
        swipeUp.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeUp];

        swipeDown = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeRightAction:)];
        swipeDown.direction = UISwipeGestureRecognizerDirectionDown;
        swipeDown.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeDown];

        counterPort++;
        counterLand=0;
      }
    }

    if (counterLand==0) {

        if([UIApplication sharedApplication].statusBarOrientation==UIInterfaceOrientationLandscapeLeft || [UIApplication sharedApplication].statusBarOrientation==UIInterfaceOrientationLandscapeRight) {

            [_webview removeGestureRecognizer:swipeDown];
            [swipeDown release];
            swipeDown=nil;

            [_webview removeGestureRecognizer:swipeUp]; 
            [swipeUp release];
            swipeUp=nil;

            counterPort=0;
            counterLand++;
        } 
```

根据您的建议：

```
-(void)scrollViewDidScroll:(UIScrollView *)scrollView{
    float scrollViewHeight = scrollView.frame.size.height;
    float scrollContentSizeHeight = scrollView.contentSize.height;
    float scrollOffset = scrollView.contentOffset.y;

    if (scrollOffset == 0)
    {
        swipeUp = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeLeftAction:)];
        swipeUp.direction = UISwipeGestureRecognizerDirectionUp;
        swipeUp.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeUp];  
    }
    else if (scrollOffset + scrollViewHeight == scrollContentSizeHeight)
    {
        swipeDown = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeRightAction:)];
        swipeDown.direction = UISwipeGestureRecognizerDirectionDown;
        swipeDown.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeDown];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:50:39.337

在 ios 5.0 及更高版本中，您可以访问该`UIWebView's` `scrollView`属性。如果您将该滚动视图的委托设置为您的对象，您可以找出它何时到达顶部或底部。只需确保在更改之前持有对先前滚动视图委托的引用。

```
 _defaultDelegate=[webview.scrollView.delegate retain];
 webview.scrollView.delegate=myController; 
```

您的`_defaultDelegate`声明将是

```
id <UIScrollViewDelegate> _defaultDelegate; 
```

现在，在 myController 的实现中`scrollViewDidScroll:`，您可以查看滚动是到达页面的末尾还是开头。

棘手的是您必须实现其他 UIScrollViewDelegate 方法并传递给默认委托，以便 webview 不会失去其默认行为。所以，你像这样实现

```
- (void)scrollViewDidScrollToTop:(UIScrollView *)scrollView {
    [_defaultDelegate scrollViewDidScrollToTop:scrollView];
} 
```

请参阅此答案以了解 scrollView 是否滚动到顶部或底部： [iPhone - 知道 UIScrollView 是否到达顶部或底部](https://stackoverflow.com/questions/7706152/iphone-knowing-if-a-uiscrollview-reached-the-top-or-bottom)

编辑：阅读您的代码后，我认为您不应该像那样添加和删除手势识别器。创建 4 个手势识别器，涵盖所有可能的滑动方向，并将其添加到`viewDidLoad`. 您可以通过实现以下方法来控制手势识别器是否应响应：

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch 
```

不要忘记为每个手势识别器设置委托，并检查其他 UIGestureRecognizerDelegate 方法。视图控制器具有您也可以访问的属性 interfaceOrientation。

要解决滚动问题，请尝试使用 BOOL iVar 来指示您是否位于代码的底部。

```
-(void)scrollViewDidScroll:(UIScrollView *)scrollView{
    float scrollViewHeight = scrollView.frame.size.height;
    float scrollContentSizeHeight = scrollView.contentSize.height;
    float scrollOffset = scrollView.contentOffset.y;
    _atBottom=NO;
    if (scrollOffset == 0)
    {
        swipeUp = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeLeftAction:)];
        swipeUp.direction = UISwipeGestureRecognizerDirectionUp;
        swipeUp.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeUp];  
    }
    else if (scrollOffset + scrollViewHeight == scrollContentSizeHeight)
    {
        swipeDown = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeRightAction:)];
        swipeDown.direction = UISwipeGestureRecognizerDirectionDown;
        swipeDown.delegate = (id<UIGestureRecognizerDelegate>)self;
        [_webview addGestureRecognizer:swipeDown];
        _atBottom=YES;
    }
} 
```

并实现 UIGestureRecognizerDelegate 方法

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch {
    return _atBottom;
} 
```

# jquery - Accordion Menu Using jQuery

> ID：11184187
> 
> 赞同：2
> 
> 时间：2012-06-25T06:07:58.080
> 
> 标签：jquery, accordion, slidetoggle

I created one accordion menu, issue is I am using .next on li but the div are not slideToggle. and I want this time to make it like accordion menu.

1.  Want to open the div when I will click on parent li,
2.  When I click on the other li it's div will slide but other li div should be close.

Here is the demo link: [http://jsfiddle.net/H4ueq/](http://jsfiddle.net/H4ueq/). Please help me.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:15:04.930

You can just use *children("div")* instead of *next()*, since it's the child of the clicked *li* element that you want to slide-toggle. Use *slideUp* and *slideDown* instead of toggle, that will produce the accordion functionality.

See here:

[http://jsfiddle.net/45Yab/3/](http://jsfiddle.net/45Yab/3/)

```
$("ul#accordian>li").click(function() {
    $("#accordian").find("div[class=details]").slideUp("slow");
    $(this).children("div[class=details]").slideDown("slow");
});​ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T06:15:08.110

Here's an example of accordion menu: [http://jsfiddle.net/x7SE4/2/](http://jsfiddle.net/x7SE4/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T07:52:25.170

One more cool simple jquery accordion which I got from net uses below code:

```
$(function() {
    $("#accordion > li").click(function() {
        if (false == $(this).next().is(':visible')) {
            $('#accordion > div').slideUp(300);
        }
        $(this).next().slideToggle(300);
    });
    $('#accordion > div:eq(0)').show(); //change it to hide() to hide the first tab on load
}); 
```

I tweaked a bit of css according to your need. Sorry for late reply. I was in search of such code. Here is the example: [http://jsfiddle.net/ravimallya/H4ueq/5/](http://jsfiddle.net/ravimallya/H4ueq/5/)

# php - 您如何同时提交 2 个表单，一个表单位于不同的目录中？

> ID：11184188
> 
> 赞同：0
> 
> 时间：2012-06-25T06:08:10.220
> 
> 标签：php, javascript, forms

我在 iframe 中有几个登录页面，我只想使用一个表单将登录凭据发布到使用相同用户名和密码的各种表单。

`function myform(){document.form1.submit();}`<--作品

`function myform(){/path/to/other_form/login.php.document.form2.submit();}`<--不起作用

当所有表单都在同一个 php 页面中，但不在 iframe 和服务器上的不同文件夹中时，我做了类似的事情。

任何建议将不胜感激。谢谢你。

**形式**

```
<form id="form1" name="form1" action="thisform.php" method="post">
 <input type="hidden" name="act" value="login">
  <table ...
     <input name="username" id="username" type="text"/>
     <input name="password" type="password" id="password"/>
     <a href="javascript:myform()"/>Login</a></td>
      .../table>
</form> 
```

**php**

```
<?php
error_reporting(0);
session_start();
include("config.php");
include('editor.php');

if(isset($_REQUEST["act"])) {
if ($_REQUEST["act"]=='logout') {
        $_SESSION["BLOgLogin"] = "";
        unset($_SESSION["BLOgLogin"]);
} elseif ($_REQUEST["act"]=='login') {
if ($_REQUEST["username"] == $CONFIG["admin_user"] and $_REQUEST["password"] ==     $CONFIG["admin_pass"]) {
    $md_sum=md5($CONFIG["admin_user"].$CONFIG["admin_pass"]);
    $sess_id=$md_sum.strtotime("+1 hour");
    $_SESSION["BLOgLogin"] = $sess_id;      
    $_REQUEST["act"]='posts';
} else {
    $message = 'Incorrect login details.';
}
}
} 
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T18:53:00.753

从技术上讲，您不能将表单提交到两个页面。网络使用请求/响应模型，因此您不能提交两个请求，或返回两个响应。但是，您可以伪造这个。您需要做的是创建一个表单，其中包含您要提交的两个表单的所有字段。然后，将您的表单提交到一个自定义页面，该页面使用 cURL 对每个表单执行单独的请求，然后将它们合并为一个响应。这是 cURL 文档： http: [//php.net/manual/en/book.curl.php](http://php.net/manual/en/book.curl.php)

# c# - RavenDB 读取性能

> ID：11184189
> 
> 赞同：4
> 
> 时间：2012-06-25T06:08:11.410
> 
> 标签：c#, performance, nosql, ravendb

（也许我做错了什么，但是）我从 RavenDB 获得了糟糕的读取性能！

这是我的文件：

```
public class Location
{
    public Guid Id { get; set; }
    public string Description { get; set; }
    public string DescriptionFa { get; set; }
    public double Longitude { get; set; }
    public double Latitude { get; set; }
} 
```

这是我的代码：

```
using (var session = documentStore.OpenSession())
{
    session.Advanced.MaxNumberOfRequestsPerSession = int.MaxValue;

    var page = 1024;
    var pageCount = 0;

    while (true)
    {
        var q = session.Query<Location>().OrderBy(l => l.Id).Skip(pageCount * page).Take(page).ToList();
        pageCount++;
        readCount += q.Count;

        if (q.Count < page)
        {
            break;
        }
    }
} 
```

我在数据库中有 2100000 个此类文档。经度和纬度上有一个空间索引。我想阅读它们并将它们导出到文本文件中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:31:55.283

Kaveh，您正在执行超过 2000 个查询，以及进行深度分页。如果您想获取所有信息，请使用走私者，这就是它的用途，而且非常有效。

# jquery - 提交表单时，如果未选中复选框，则显示提示并阻止提交表单

> ID：11184190
> 
> 赞同：1
> 
> 时间：2012-06-25T06:08:18.273
> 
> 标签：jquery

编码：

```
<form>
<div class="term"><input type="checkbox" />I agree to the terms of the privacy </div>
<div id="tip"> please agree the terms of the privacy </div>
</form> 
```

jQuery代码：

```
 $(document).ready(function() {
            $("#tip").hide();
          jQuery("form").submit(function() {

          if (jQuery('.term').is(':checked')) {
            jQuery("#tip").hide();

          }
          else {
          jQuery("#tip").show();
           return false;
    } 
        });
        }); 
```

当我选中复选框，然后提交表单时，提示仍然显示。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:11:44.993

将复选框字段上的术语类定义为

```
 <div class="test"><input type="checkbox" class="term" />I agree to the terms of the privacy </div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:12:27.773

您显示的代码的问题是您的复选框没有您的 jQuery 选择器使用的类“术语”。它所在的 div 具有“术语”类。因此，您需要将输入更改为如下所示：

```
<input type="checkbox" class="term" /> 
```

或者把 jQuery 选择器改成这样：

```
if (jQuery('.term input[type="checkbox"]').is(':checked')) { 
```

话虽如此，鉴于正是其中一个复选框，我倾向于给它一个 id 并按 id 选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:12:43.087

您的“术语”选择器是一个 div，而不是一个复选框。复选框是“术语”的子项

```
 if( jQuery('.term input:checkbox').is(':checked') ){ 
```

# iphone - 在 iphone phonegap 应用程序中显示联系人时获取空值

> ID：11184191
> 
> 赞同：2
> 
> 时间：2012-06-25T06:08:22.020
> 
> 标签：iphone, html, ios5, cordova, contacts

我正在开发 Phonegap 应用程序并尝试获取设备的联系人。

我从[this reference](http://docs.phonegap.com/en/1.8.1/cordova_contacts_contacts.md.html#Contacts)中所做的如下：

```
function onDeviceReady() {       
    var options = new ContactFindOptions();
    options.filter="";          // empty search string returns all contacts
    options.multiple=true;      // return multiple results
    filter = ["displayName"];

    navigator.contacts.find(filter, onSuccess, onError, options);
 }

// contacts Methods
function onSuccess(contacts) {
    for (var i=0; i<contacts.length; i++) {
        for (var j=0; j<contacts[i].addresses.length; j++) {
            alert("Pref: " + contacts[i].addresses[j].pref + "\n" +
                  "Type: " + contacts[i].addresses[j].type + "\n" +
                  "Formatted: " + contacts[i].addresses[j].formatted + "\n" + 
                  "Street Address: "  + contacts[i].addresses[j].streetAddress + "\n" + 
                  "Locality: "  + contacts[i].addresses[j].locality + "\n" + 
                  "Region: "  + contacts[i].addresses[j].region + "\n" + 
                  "Postal Code: "  + contacts[i].addresses[j].postalCode + "\n" +                          
                  "Country: "  + contacts[i].addresses[j].country);
            }
        }
    };

    // onError: Failed to get the contacts
    function onError(contactError){
        alert('onError!');
    } 
```

在控制台中打印联系人时出现此错误-

```
 [INFO] Error in success callback: Contacts1 = TypeError: 'null' is not an object 
```

我的模拟器中有联系人，并且联系信息不为空，但我仍然为空。不确定原因。

请帮我。

编辑：当我播放音频文件时也会发生同样的事情..

任何人都知道为什么会这样？

# .net - 如何将 XSD 片段添加到架构？

> ID：11184193
> 
> 赞同：1
> 
> 时间：2012-06-25T06:08:43.857
> 
> 标签：.net, xml, .net-4.0, xsd

我正在尝试`XmlDocument`针对仅代表该片段的 XSD 验证一个片段。例如：

```
<!-- Validate entire message against message.xsd -->
<?xml version="1.0" encoding="utf-8" ?>
<Message>
    <Header>
        ...
    </Header>
    <Body>
        <!-- Validate this against body.xsd -->
        ...
    </Body>
</Message> 
```

整个消息根据开发人员提供的**message.xsd**模式进行验证。元素的内容根据`<Body>`客户端提供的**body.xsd**模式进行验证。

body.xsd架构对、或元素**一无所知。**它只定义元素中应该包含的内容。`<Message>``<Header>``<Body>``<Body>`

我不知道如何根据 XML 模式片段验证 XML 片段。一切似乎都表明 XML 模式片段需要了解其祖先元素的所有信息。我有几条路径，但不知道如何实现它们。

1.  以编程方式将**body.xsd注入到****message.xsd**的适当节点中。
2.  从中提取适当`XmlElement`的并基于此节点`XmlDocument`创建一个新的。`XmlDocument`
3.  与名称空间有关，我还不明白。

这个问题有哪些解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:11:12.657

我对用于模式验证的本机 .NET API 了解不多，但通常会发现验证 API 不够灵活，无法验证根以外的元素。一种方法是使用模式感知 XQuery 处理器（例如 Saxon-EE）调用验证，使用查询

```
import schema ... at "body.xsd";
validate strict {/Message/Header/Body} 
```

# jquery - 通过 jQuery.ajax() 获取数据

> ID：11184196
> 
> 赞同：0
> 
> 时间：2012-06-25T06:09:13.203
> 
> 标签：jquery, ajax

我是 jquery 的新手。我正在尝试创建简单的 ajax 调用来获取数据，但我无法获取数据。请帮我。

我只是发送请求，如果成功而不是打印响应但它不起作用，这是我的代码，请检查它。

```
<htrml>
<head>
<title> MyTest </title>
<style type="text/css" media="screen">
<!--
        BODY { margin: 10px; padding: 0; font: 1em "Trebuchet MS", verdana, arial, sans-serif; font-size: 100%; }
        H1 { margin-bottom: 2px; }

    -->
</style>

    <script src="js/jquery.js" type="text/javascript"></script>

    <script type="text/javascript">
    <!--
    $(function () {

        $("#btn").click(function () {

            var jQuery = window.$;
            $.ajax({
                url : "http://www.flickr.com/services/rest/?method=flickr.test.echo&format=json&api_key=XXXXXXXXXXXXXXXXXXXXXX",
                method : "GET",
                dataType : "text",
                context: document.body,
                cache : "false",
                success : function (data, textStatus, jqXHR){
                    alert('Success ... ' + data + " " + textStatus + " " + jqXHR);
                },
                error : function (jqXHR, textStatus, errorThrown){
                    alert('Error ... ' + textStatus);
                }
            });

        });

    });

    //-->
    </script>
</head>
<body>
<input type="button" value="Load" id="btn"  />

</body>
</html> 
```

如果您有任何与 jquery.ajax 示例相关的链接，请不要建议我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:15:02.000

dataType 应该是`"json"`，这就是 flickr 服务返回的内容

# solr - Solr schema.xml 字段混淆

> ID：11184197
> 
> 赞同：2
> 
> 时间：2012-06-25T06:09:17.743
> 
> 标签：solr

我是 solr 的新手，所以我真的需要有人帮助我理解以下领域。如果它的存储=假，索引=假，该字段的含义是什么？看下面的两个例子，有什么区别？如果没有存储该字段，它有什么用......

```
 <field name="test1" type="text" indexed="false"
        stored="false" required="false" /> 
```

这个怎么样？

```
 <field name="test2" type="text" indexed="false"
        stored="false" required="false" multiValued="true" /> 
```

非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T11:40:31.027

[您可以从Solr wiki](http://wiki.apache.org/solr/SchemaXml)找到最佳解释。

如果您希望字段可搜索，则应将 indexed 属性设置为 true。

> indexed=true ：如果该字段应该被“索引”，则为真。如果（且仅当）一个字段被索引，那么它是可搜索的、可排序的和可分面的。

如果要在搜索结果中检索该字段，则应将存储属性设置为 true。

> stored=true ：如果字段的值在搜索期间应可检索，则为真

如果要在单个字段中存储多个值，则应将多值字段设置为 true。

> multivalued=true ：如果此字段可能包含每个文档的多个值，即如果它可以在文档中出现多次，则为真

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-25T08:34:00.690

这比看起来容易：

*   `indexed`: 你可以搜索一下
*   `stored`：您可以在搜索结果中显示它

事实上，可能有些字段您不用于搜索，但您只想在结果中显示它们。另一方面，您可能希望在结果中显示某些字段，但您不想用于搜索。`stored=false`当您不需要显示某个字段时，这很重要，因为它可以提高性能。如果您存储了所有字段并且您有很多字段，Solr 可能会变得很慢返回结果。

当然，两者都为 false 并没有多大意义，因为该字段将变得完全无用。

您的两个字段之间的唯一区别是`multiValued=true`，这意味着第二个字段可以包含多个值。这意味着该字段的内容不仅仅是一个文本条目，而是一个文本条目列表。

# web-services - 拆分其余的 Api WADL？

> ID：11184199
> 
> 赞同：1
> 
> 时间：2012-06-25T06:09:32.060
> 
> 标签：web-services, spring, rest, jersey

有没有办法在 Java 环境中拆分 application.wadl？现有的技术是 Jersey + Spring + spring MVC 。

我只想拆分 application.wadl，这样我就可以只公开那些我将支持的 Web 服务，以便为我的用户提供向后兼容性。此外，身份验证将基于一些不同的标准。jersey 是否为此类要求提供任何支持？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T17:55:53.777

一般来说，我无法找到通过配置拆分 wadl 生成逻辑的任何方法。但这是你可以执行的 hack。有一个名为 GenerateWadlTask​​.java 的类，它基本上为球衣执行 wadl 生成逻辑。您可以在自定义应用程序 wadl 生成任务中扩展此类并根据您的逻辑使用它。对于代码示例，只需下载球衣服务器源 jar 并查看类。逻辑很简单。

希望这有帮助。

**编辑：- 有一个名为 enunicate [http://enunciate.codehaus.org/](http://enunciate.codehaus.org/)的 maven 插件，这将使您的生活变得轻松。**

# c++ - 模棱两可的位域语句

> ID：11184201
> 
> 赞同：0
> 
> 时间：2012-06-25T06:09:58.660
> 
> 标签：c++, bit

以下对我来说`Note`似乎是`ambiguous`[在一本 C++ 书中找到]。

**可以声明一个未命名`Bit-Field`的来创建填充以实现特定的对象布局。**

作者想从上面的注释中传达什么？

我尝试了以下程序来理解但仍然不清楚。

```
class s
{
    public:
    unsigned  i:1;
};

int main()
{
    s x;
    x.i=1;
    cout<<x.i<<endl; //outputs 1
    return 0;
} 
```

**程序如何在不发出任何警告或错误的情况下完美运行？**

我正在使用 ideone[ `C++ (gcc-4.3.4)`]：http: [//ideone.com/bLLz4](http://ideone.com/bLLz4)

但是，如果我`unsigned`从声明中删除，它会给出错误：

```
prog.cpp:7: error: ISO C++ forbids declaration of ‘i’ with no type 
```

**另一个问题**

```
class s
{
    public:
    int i:1;
};

int main()
{
    s x;
    x.i=1;
    cout<<x.i<<endl; //outputs -1
    return 0;
} 
```

**输出是否`-1`取决于机器架构['Endianness']？**
**输出如何-1？**
[http://ideone.com/XWbak](http://ideone.com/XWbak)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:39:26.333

顾名思义，未*命名*位字段是没有名称的位字段。你`unsigned i:1;`的名字不是匿名的；它的名字是`i`。名称是可选的；类型不是。

C 标准（我将引用[N1570](http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf)）在 6.7.2.1p12 中说：

> 没有声明符但只有冒号和宽度的位域声明表示未命名的位域。作为一种特殊情况，宽度为 0 的位域结构成员表示不再将位域打包到放置前一个位域（如果有的话）的单元中。

例如：

```
struct foo {
    unsigned int x:1;
    unsigned int  :0;
    unsigned int y:1;
}; 
```

请注意，位字段不能用于*可靠地*指定对象布局，因为它们表示的许多方面是实现定义的。

# mysql - 如何在 MySQL 中编写此 MSSQL 代码？

> ID：11184203
> 
> 赞同：0
> 
> 时间：2012-06-25T06:10:09.767
> 
> 标签：mysql, sql

嘿伙计们，我用我出色的 MS SQL 技能编写了这个 MS SQL 脚本，我怎样才能让它在 MySQL 中工作？它在某些字符串函数上失败了:(不太了解 MySQL！

```
SELECT i.id as ID, e.code as EMPCODE, lower(e.email_address) as EMAIL
from load_incidents i , dim_employee e
WHERE
(     (i.involvedemail = e.email_address)
or    (replace(lower(e.preferred_name+e.last_name),' ', '') = replace(lower(i.involvedname),' ', ''))
or    (replace(lower(e.preferred_name+e.last_name),' ', '') like replace(lower(i.involvedname),' ', '')+'%')
or    (replace(lower(e.first_name+e.last_name),' ', '') = replace(lower(i.involvedname),' ', ''))
or    (replace(lower(e.first_name+e.last_name),' ', '') like replace(lower(i.involvedname),' ', '')+'%')
or    (replace(lower(e.employee_name),' ','') = replace(lower(i.involvedname),' ',''))
)
and charindex(' ',e.first_name) = 0
and (i.involvedemail= 'none available' or i.involvedemail is null or i.involvedemail = '')
UNION
SELECT i.id as ID, e.code as EMPCODE, lower(e.email_address) as EMAIL
from load_incidents i , dim_employee e
WHERE
(     (i.involvedemail = e.email_address)
or    (replace(lower(e.preferred_name+e.last_name),' ', '') = replace(lower(i.involvedname),' ', ''))
or    (replace(lower(e.preferred_name+e.last_name),' ', '') like replace(lower(i.involvedname),' ', '')+'%')
or    (replace(lower(left(e.first_name,charindex(' ',e.first_name)-1) + e.last_name),' ', '') = replace(lower(i.involvedname),' ',''))
or    (replace(lower(e.employee_name),' ','') = replace(lower(i.involvedname),' ',''))
)
and charindex(' ',e.first_name) > 1
and (i.involvedemail= 'none available' or i.involvedemail is null or i.involvedemail = '') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:14:23.513

您的问题是`charindex`功能，为此目的使用定位（代替charindex）：

```
LOCATE(' ',e.first_name) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:12:43.543

很多功能都是一样的。这是您可以使用的[MySQL 字符串函数列表。](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:18:29.003

我尝试了***[Full Convert Enterprise](http://www.spectralcore.com/fullconvert/)***，并取得了很大的成功。快速，简单，它完成了我的工作。试一试它可能对你有帮助。

Also, You're probably best off doing this yourself to ensure everything is correct rather than relying on a third party tool (Also the additional benefit of understanding the differences between the two pieces of code). However you could use SQL to MySQL tool available ***[here](http://download.cnet.com/SQL-To-MySQL-Converter/3000-10254_4-75693763.html)***.

# android - 使用 Android 中的 SOAP 调用 Magento api 时出现 XMLPull Parser 异常

> ID：11184210
> 
> 赞同：5
> 
> 时间：2012-06-25T06:11:02.360
> 
> 标签：android, magento, soap, ksoap2

我正在尝试使用来自 android 的 Soap 调用 magento api，但我收到 XMLpullparser 异常。我正在使用 ksoap 库。我在 google 上搜索但我找不到任何解决方案。下面是我的代码..

```
1 import java.io.IOException;

2 import org.ksoap2.SoapEnvelope;
3 import org.ksoap2.serialization.SoapObject;
4 import org.ksoap2.serialization.SoapSerializationEnvelope;
5 import org.ksoap2.transport.AndroidHttpTransport;
6 import org.xmlpull.v1.XmlPullParserException;

7 import android.app.Activity;
8 import android.os.Bundle;
9 import android.util.Log;

10       public class MagentoSoapActivity extends Activity {
11         /** Called when the activity is first created. */

12      private static final String NAMESPACE = "urn:Magento";
13      private static final String Method_Name="login";
14      private static final String URL ="http://www,mymagento,com/api/soap/?wsdl=1";
15      private static final String SOAP_ACTION ="urn:Magento/login";

16 @Override
17 public void onCreate(Bundle savedInstanceState) {
18    super.onCreate(savedInstanceState);
19    setContentView(R.layout.main);
20    try {
21      SoapObject request = new SoapObject(NAMESPACE,Method_Name);

22        request.addProperty("username", "XXX");
23        request.addProperty("apiKey", "YYY");
24        SoapSerializationEnvelope envelopes = new SoapSerializationEnvelope(
25                SoapEnvelope.VER11);

26        envelopes.dotNet = false;
27        envelopes.xsd = SoapSerializationEnvelope.XSD;
28        envelopes.enc = SoapSerializationEnvelope.ENC;

29       envelopes.setOutputSoapObject(request);

30        AndroidHttpTransport androidHttpTransport = new AndroidHttpTransport(URL);
31        androidHttpTransport.debug =true;
32        androidHttpTransport.call(SOAP_ACTION, envelopes);//Getting the Exception here
33        Object result = envelopes.getResponse();

34        Log.d("sessionId", result.toString());

35        //making call to get list of customers

36        String sessionId = result.toString();

37        request = new SoapObject(NAMESPACE,"customerCustomerList");
38        request.addProperty("sessionId",sessionId );

39        envelopes.setOutputSoapObject(request);
40        androidHttpTransport.call(SOAP_ACTION, envelopes);

41        result = envelopes.getResponse();

42        Log.d("Customer List", result.toString());

43    } catch (Exception e) {
44        e.printStackTrace();
45    }
46 }
47 } 
```

下面是堆栈跟踪：

```
org.xmlpull.v1.XmlPullParserException: expected: START_TAG   
{http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG <definitions   
name='Magento' targetNamespace='urn:Magento'>@4:50 in   
java.io.InputStreamReader@44f13f40) 
```

请帮助我，我对这个错误感到非常沮丧。提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-04T08:25:56.080

从对我有用的 URL 中删除后缀“?wsdl”。希望这对某人有帮助~

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T15:02:18.560

改变：

```
 private static final String URL ="http://indieswebs.in/demostore/api/soap/?wsdl=1"; 
```

至

```
 private static final String URL ="http://indieswebs.in/demostore/api/soap"; 
```

有关的：

*   [使用 kSoap2 从 android 客户端调用 magento Web 服务](https://stackoverflow.com/questions/7874835/calling-magento-web-service-from-android-client-using-ksoap2)
*   [http://inhoo.net/mobile-development/android-development/magento-v2-api-soap-android/](http://inchoo.net/mobile-development/android-development/magento-v2-api-soap-android/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T05:05:13.860

我解决了我的问题。我更改了完整的代码，现在我使用 XMLRPC 而不是使用 SOAP。http://code.google.com/p/android-xmlrpc/ 上有 XmLRPC 库[以及](http://code.google.com/p/android-xmlrpc/)如何使用的示例这个图书馆。

这是如何在 android [http://inchoo.net/mobile-development/android-development/parsing-the-xmlrpc-webservice-response-in-android/中解析此响应的链接](http://inchoo.net/mobile-development/android-development/parsing-the-xmlrpc-webservice-response-in-android/)

希望这可以帮助某人。

谢谢大家的回复。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-07T22:08:53.970

我们在这类应用程序上做了很多工作，我们刚刚为 Android 和 iOS 开源了一个 SDK，以简化与 Magento 的 API 的连接。也许它可以帮助您进行开发或为您提供有关如何解决此问题的想法，因为我们还使用 ksoap 进行 SOAP 通信：http: [//github.com/agilemonkeys/meets-android](http://github.com/agilemonkeys/meets-android)

# c++ - C++ 函数：不带参数的可变参数模板

> ID：11184223
> 
> 赞同：4
> 
> 时间：2012-06-25T06:12:45.743
> 
> 标签：c++, templates, types, variadic-templates

我不确定这个问题是否已经回答。但它是这样的：

我想知道是否可以做类似的事情

```
template<typename...classes>
void createObject(){

  //pass each type into my template function wich takes one type only.

} 
```

我真的不明白它是如何工作的。我不能提供任何函数参数的原因是因为应该在方法中调用的模板函数只采用一种类型。这是因为它根据对象的类型返回一个对象。

有什么建议吗？

注意：GCC 4.6.2

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:22:44.587

```
template<typename...>
struct caller;

template<typename T, typename...Rest>
struct caller<T, Rest...>
{
     static void call()
     {
        create<T>();
        caller<Rest...>::call();
     }
};

template<>
struct caller<>
{
     static void call()
     {
     }
};

//since you've not mentioned the return type, I'm assuming it to be void
//if it is not void, then I don't know what you're going to return, and HOW!   
template<typename...classes>
void createObject(){
      caller<classes...>::call();
} 
```

演示：http: [//ideone.com/UHY8n](http://ideone.com/UHY8n)

* * *

替代方案（较短的版本）：

```
template<typename...>
struct typelist{};

template<typename T, typename ... Rest>
void call(typelist<T,Rest...>)
{
  create<T>();
  call(typelist<Rest...>());
};

void call(typelist<>) { }

template<typename...classes>
void createObject(){
      call(typelist<classes...>());
} 
```

演示：http: [//ideone.com/cuhBh](http://ideone.com/cuhBh)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:15:37.863

一种方法是使用以下函数来扩展调用：

```
template <typename... Ts>
void swallow(Ts&&...) {
} 
```

我假设您要调用以下函数：

```
template <typename T>
void create() {
} 
```

在这种情况下，您需要一个辅助函数，将 void 转换为`create`返回值的函数，以便我们可以在 arg-list 中扩展它`swallow`（如果您的`create`函数已经是非 void，那么这个额外的步骤是不必要的):

```
template <typename T>
int createHelper() {
    create<T>();
    return 0;
}

template<typename... Ts>
void createObject(){
    swallow(createHelper<Ts>()...);
} 
```

编辑：我们可以使用逗号运算符来代替 createHelper：

```
swallow((create(), 0)...); 
```

# qt - qt mousemoveEvent（与qss有关）

> ID：11184227
> 
> 赞同：1
> 
> 时间：2012-06-25T06:13:11.030
> 
> 标签：qt, qt4, onmousemove

我有一个QLabel的小部件类'BlockWidget'子类，在ctor中我设置了它的qss qss_1，我想要动画效果，当鼠标移动它时，它会改变它的背景颜色，所以我设置它的qss qss_2，但是它似乎不起作用......我的代码是这样的：

```
BlockWidget::BlockWidget(const QString &objname)
{
    this->setObjectName(objname);
    setAlignment(Qt::AlignCenter);
    setStyleSheet(tr("BlockWidget#%1{color:white; background-color: gray; font-size:18px;"
                 "font-family:'Consolas';}").arg(objectName()));
}

void BlockWidget::mouseMoveEvent(QMouseEvent *ev)
{
    setStyleSheet(tr("BlockWidget#%1{color:white; background-color: blue; font-size:18px;"
                 "font-family:'Consolas';}").arg(objectName()));
    repaint();
} 
```

我有一个主窗口，我实例化了 81 个 BlockWidget 实例。当我的鼠标移到其中一个时，什么也没发生。但是如果我点击它几次，它会改变它的 qss 样式（它的背景变成蓝色）

![在此处输入图像描述](../Images/fdbf9590f88a9cf1522bd68ed0e4b043.png)

![在此处输入图像描述](../Images/7830d7470f7512e42ea625006b9763e8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T10:34:48.423

如文档所述，鼠标移动事件仅在您单击、拖动或释放按钮时发送，如果未为小部件启用鼠标跟踪。

您可以通过在您的类中重新定义`QWidget::enterEvent`和来检测鼠标进入和离开标签。`QWidget::leaveEvent``BlockWidget`

或者您可以简单地使用`:hover`QSS 伪状态，而无需重新定义任何与鼠标相关的功能：

```
setStyleSheet("BlockWidget {"
              "    color:white;"
              "    background-color: gray;" 
              "    font-size:18px;"
              "    font-family:'Consolas';"
              "}"
              "BlockWidget:hover {"
              "    background-color: blue;" 
              "}"); 
```

**PS：**

*   根据 Qt 样式表文档，`QLabel`不支持`:hover`伪状态，但是更改背景或边框似乎工作正常。

*   由于您的`BlockWidget`小部件没有自己`BlockWidget`的孩子，并且因为您将样式表单独设置为所有小部件，所以从 QSS 选择器中省略对象名称应该是安全的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T10:05:05.753

您必须为您的小部件启用鼠标跟踪[http://qt-project.org/doc/qt-4.8/qwidget.html#mouseTracking-prop](http://qt-project.org/doc/qt-4.8/qwidget.html#mouseTracking-prop)

# mysql - 从失败的插入中回收磁盘空间

> ID：11184229
> 
> 赞同：1
> 
> 时间：2012-06-25T06:13:14.933
> 
> 标签：mysql, amazon-rds

我愚蠢地试图向一个表中添加一个列，但我没有足够的磁盘空间来复制它，不得不将其杀死并扩展我的 RDS 实例的存储容量以避免站点崩溃。我想再做一次（这次有足够的磁盘空间），但我似乎无法回到我的预查询免费存储级别。我的查询是创建一个像巨型表一样的表，添加一个列，然后将旧表的全部内容与 null 一起插入到新表中。我试过了`CALL mysql.rds_rotate_slow_log;`，`CALL mysql.rds_rotate_general_log;`但从我的 AWS Cloudwatch 面板来看，我仍然比我的预查询水平低了约 10GB。没有行成功插入到新表中。是否有一些“清除硬盘缓存”命令或类似的东西？由于它是 RDS，我无权访问“

**编辑**：似乎我的问题可能与巨型`ibdata`文件有关，但由于我没有 root 访问权限，因此我无法真正执行 [如何在 MySQL 中缩小/清除 ibdata1 文件中提到的解决方案](https://stackoverflow.com/questions/3456159/how-to-shrink-purge-ibdata1-file-in-mysql)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T10:04:41.533

解决方案是删除新表。我不认为有任何东西存储在新表中，因为`select count(*) from new_table;`返回 0 但我猜临时数据无论如何都与新表相关联。从数据库结构的角度来看，我不确定这到底是如何工作的，但幸运的是它做到了我想要的。

底线：被杀死的插入仍然使用存储空间。

如果有人能解释为什么会这样，那将对未来有所帮助。

# django - django 表单方法是否仅用于验证？

> ID：11184230
> 
> 赞同：3
> 
> 时间：2012-06-25T06:13:21.010
> 
> 标签：django, django-forms, django-views

当我在基于类的视图上研究新的 django 文档时，我注意到[这个示例代码](https://docs.djangoproject.com/en/dev//topics/class-based-views/generic-editing/#basic-forms)：

```
# forms.py
from django import forms

class ContactForm(forms.Form):
    name = forms.CharField()
    message = forms.CharField(widget=forms.Textarea)

    def send_email(self):
        # send email using the self.cleaned_data dictionary
        pass 
```

将观看`send_email`视为一种方法的事实`ContactForm`真的让我很恼火。我一直认为表单方法应该用于验证目的，而使用表单的方法（如`send_email`本例中）应该在*视图层*中。我在这里错过了什么吗？还是应该纠正这个例子？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:21:58.770

这个没有正确答案。这真的取决于你的编码风格。使用表单进行的不仅仅是验证与在视图中执行此方法一样有效。

上面的例子虽然有某种优势。假设您有一个模型，并且您想为它使用不同的形式（具有不同的逻辑）。与其将逻辑放在视图中并检查现在使用哪个表单，不如将此逻辑放在表单级别上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T16:10:29.767

我第一次有同样奇怪的感觉是当我遇到`LoginForm`from时`django.contrib.auth`，它还验证了用户的浏览器除了管理传入的凭据之外还[能够使用 cookie 。](https://github.com/django/django/blob/master/django/contrib/auth/forms.py#L126)

就个人而言，我同意你的看法。我更倾向于认为视图应该是负责执行发送电子邮件而不是表单的操作的参与者，这 `send_email`应该是视图中定义的方法。

但是，话又说回来，你可以很容易地观察到我们很多人如何以不同的方式使用 Django，或者有不同的方法来解决相同的问题。由于在开发应用程序时我们有不同的考虑，我们很可能对某些框架组件的使用方式有不同的理解，这有点争议。最后，重要的是要承认，可以以明确定义的方式将视图中的一些繁重的工作委派给表单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:33:58.580

这个例子没有错。除了最简单的情况外，您的表格将只包含清洁方法；大多数表单都会进行额外的验证和其他操作。最后，它只是一个 Python 类，你可以在其中做任何你想做的事情；除了 DRY 之外，没有“规则”。

我们有针对外部服务进行验证、调用其他程序和触发工作流的表单方法。对于如此复杂的逻辑，最好将其嵌入到表单类中，这样可以增加代码的可重用性。开发视图的开发人员只需将表单类用作库，而不必担心奇异的验证要求。在这种情况下，它实际上促进了 DRY。

当我们必须更新逻辑时，我们只更新表单类的“私有”方法（那些以 为前缀的`_`）。这使“公共”界面（由 django 记录）保持完整，并且不必更新使用该表单的所有视图代码。

# powershell - Powershell 自定义 Cmdlet - 在后台线程中调用 WriteObject

> ID：11184233
> 
> 赞同：3
> 
> 时间：2012-06-25T06:13:27.040
> 
> 标签：powershell, cmdlets, cmdlet

无法从后台线程调用 WriteObject 方法！

是否有可能在 powershell 的主线程中调用/调度此方法（如在 WPF 中）？

代码示例：

```
protected override void ProcessRecord()
{
    base.ProcessRecord();
    ...
    Service.StartReading(filter, list => { WriteObject(list, true); } );
} 
```

**编辑：** ![从线程调用 WriteObject 方法后发生的错误](../Images/df5f2287a8a12b341c2b51efb34e24c6.png)

任何解决方案、解决方法或快速修复？

谢谢，马蒂亚斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T08:09:12.200

我找到了一个解决方案，它解决了我的问题。

1.  创建了一个并发队列

    ```
    ConcurrentQueue<LogEntryInfoBase> logEntryQueue = 
            new ConcurrentQueue<LogEntryInfoBase>(); 
    ```

2.  启动后台线程以将项目排入 ConcurrentQueue

    ```
    Task.Factory.StartNew(() => Service.StartReading(
            filter, EnqueueLogEntryInfoBases)); 
    ```

3.  同时，尝试在主线程中从这个队列中出列

    ```
    for ( ; ; )
    {
        LogEntryInfoBase logEntry = null;
        logEntryQueue.TryDequeue(out logEntry);
        if (logEntry != null)
        {
            WriteObject(logEntry);
        }
        Thread.Sleep(100);
    } 
    ```

从我的角度来看，这个解决方案/修复很丑陋，但它适用于我当前的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-29T17:54:24.640

我被困在几乎相同的问题上。在我看来，我们可以通过在无限循环中添加睡眠来改进解决方案。当然，我们需要对主线程有一个全局引用，而后台线程需要在队列中添加项目后立即调用中断。

# c++ - 如何计算 C++ 项目中的函数数量？

> ID：11184235
> 
> 赞同：2
> 
> 时间：2012-06-25T06:13:38.397
> 
> 标签：c++, refactoring, code-analysis, static-analysis

是否有任何工具可以分析和报告 C++ 项目中函数（包括成员函数）的数量？

我需要用 VC++ 项目中的类成员替换全局变量。然后我需要在使用全局变量的函数中引入一个指向新类成员的局部引用，以便项目编译成功。为此，我需要计算该项目中的功能数量。然后我可以粗略地计算出进行更改所需的时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:29:46.890

您可以使用像[LOC Metrics](http://www.locmetrics.com/)这样的静态代码分析工具。它将计算每个函数的代码行数并将其输出到 .csv 文件。此输出文件中的行数等于项目中的函数数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:33:25.687

因为它是一个 VC++ 项目：生成一个`.MAP`文件。列出了每个功能；只是数他们。

# mysql - mysql存储过程，使用从数据库中选择的值

> ID：11184236
> 
> 赞同：0
> 
> 时间：2012-06-25T06:13:49.950
> 
> 标签：mysql, sql, stored-procedures

我在**mysql中有一个****存储过程**。在其中，我使用以下语句从数据库中选择一些值，

 **```
select version_id from version where version_name between '1.1' and '1.5' 
```

现在我想为上面语句中的所有选定值运行循环意味着假设上面的语句返回下一行， `version_id (1,5,3,7)`
所以我想为值 1,5,3,7 运行循环。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:26:02.137

在 MySQL 中，您需要使用 Cursor 元素来循环输入值

```
CREATE PROCEDURE CURSOR_LOOP()
BEGIN
DECLARE C1 CURSOR FOR
  select version_id where version_name between '1.1' and '1.5' 

OPEN C1;
read_loop: LOOP
  FETCH C1 INTO v_ID;
  IF done THEN
     LEAVE read_loop;
  END IF;
-- YOUR ACTION HERE                                            
END LOOP;
CLOSE C1;
-- OTHERS ACTIONS
END; 
```**

# scorm - cmi.exit 数据模型元素

> ID：11184237
> 
> 赞同：1
> 
> 时间：2012-06-25T06:13:51.370
> 
> 标签：scorm, scorm2004

*   根
    *   活动一
    *   活动二
    *   活动 3

假设活动 2 已启动。活动 2 将“cmi.exit”设置为“suspend”，将“adl.nav.request”设置为“exitAll”，并调用 Terminate("")。接下来应该发生什么？我想知道当前的活动树状态是否应该在下一个排序会话中保持？下一次测序会议应提供哪些活动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:21:35.317

“exitAll”将终止整个课程，逻辑上所有活动都将不可用，并且不保存跟踪数据。如果要保留整个课程的跟踪数据，则必须改用“suspendAll”。将“cmi.exit”设置为“suspend”只会保存当前活动的跟踪数据。在您提到的示例中，“简历”将不可用，因为没有保存跟踪数据。

# php - RegEx 正则表达式获取 ID

> ID：11184243
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:14:33.420
> 
> 标签：php, regex

给定以下字符串：

*   [下载 id="1"]
*   [下载id="1" attr=""]
*   [下载attr=""id="1"]
*   [下载attr="" id="1" attr=""]

ID 始终是一个数字。我需要一个正则表达式，它总是给我通过 PHP 使用的数字，最好通过[http://www.solmetra.com/scripts/regex/index.php](http://www.solmetra.com/scripts/regex/index.php)演示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:19:07.913

```
preg_match_all('/id="(\d+)"/', $data, $matches); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:19:12.313

假设您将始终拥有一个`id`字段并且始终将其括在引号 ( `"`) 中，您可以尝试像这样的正则表达式：`id="(\d+)"`. 这将捕获该数字并将其放入一个组中。您可以在[此处](http://www.regular-expressions.info/php.html)查看如何访问这些组。

正如建议的那样，如果您想匹配更多字段，我建议您删除正则表达式并找到能够解析您传递的字符串的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:22:38.953

这也将是一个解决方案

```
\[download[^\]]*id="(\d*) 
```

您在捕获组 1 中找到了结果

[在 Regexr 上](http://regexr.com?31bji)查看

`\[download`匹配“[下载”

`[^\]]*`是一个否定字符类，匹配不是“]”的所有内容（o 或更多次）

`id="`从字面上匹配 "id=""

`(\d*)`是匹配 0 个或多个数字的捕获组，您可以将 更改`*`为 a`+`以匹配一个或多个。

[[每个程序员都应该知道的关于正则表达式的知识](http://blog.xisb.de/?p=4)]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:18:25.813

试试这个：

```
/\[download.*?id=\"(\d+)\"/ 
```

调用函数：

```
preg_match_all('/\[download.*?id=\"(\d+)\"/', '{{your data}}', $arr, PREG_PATTERN_ORDER); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T06:30:15.787

您可以轻松使用 ini 文件，而不需要使用正则表达式，例如：

测试.ini

```
[download]
id=1
attr = ""
[download2]
id=2
attr = "d2" 
```

和 index.php

```
$ini = parse_ini_file('test.ini', true);
print_r($ini); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T12:48:04.480

这是我的解决方案：

```
<?php

    $content =
<<<TEST
[download id="1"]
[download id="2" attr=""]
[download attr="" id="3"]
[download attr="" id="4" attr=""]
TEST;

    $pattern = '/\[download.*[ ]+id="(?P<id>[0-9]+)".*\]/u';

    if (preg_match_all($pattern, $content, $matches))
        var_dump($matches);

?> 
```

适用于单行输入（读取**$matches['id'][0]**）或多行输入（如示例，迭代**$matches['id']**数组）。

笔记：

*   不要使用带有 start **^**和 end **$**分隔符的**preg_match** ，而是使用不带分隔符的 preg_match_all
*   不要使用“s”PCRE_DOTALL 修饰符
*   如果您希望正则表达式与“下载”或“下载”一起使用，请使用“i”修饰符
*   如果输入是 UTF-8 编码的字符串，则使用“u”修饰符

[http://it.php.net/manual/en/function.preg-match-all.php](http://it.php.net/manual/en/function.preg-match-all.php)

[http://it.php.net/manual/en/reference.pcre.pattern.modifiers.php](http://it.php.net/manual/en/reference.pcre.pattern.modifiers.php)

上面的示例将输出：

```
array(3) {
  [0]=>
  array(4) {
    [0]=>
    string(17) "[download id="1"]"
    [1]=>
    string(25) "[download id="2" attr=""]"
    [2]=>
    string(25) "[download attr="" id="3"]"
    [3]=>
    string(33) "[download attr="" id="4" attr=""]"
  }
  ["id"]=>
  array(4) {
    [0]=>
    string(1) "1"
    [1]=>
    string(1) "2"
    [2]=>
    string(1) "3"
    [3]=>
    string(1) "4"
  }
  [1]=>
  array(4) {
    [0]=>
    string(1) "1"
    [1]=>
    string(1) "2"
    [2]=>
    string(1) "3"
    [3]=>
    string(1) "4"
  }
} 
```

因此，您可以读取**$matches['id']**数组上循环的 ID 属性 :)

# r - R：function By - 将单行和多行子集视为相同

> ID：11184245
> 
> 赞同：0
> 
> 时间：2012-06-25T06:14:44.270
> 
> 标签：r, matrix, subset

我正在尝试实现一个非常简单的功能：计算使用“by”选择的矩阵的每个子集的行数（m1 是一个 4 列矩阵）：

```
by(m1, m1[,2:4], nrow) 
```

但我收到错误“参数必须具有相同的长度”。据我了解，当所选子集只有一行时，它是向量而不是矩阵。因此，“nrow”变得无效。我该如何处理？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T12:20:00.163

NROW 函数适用于矩阵、数据帧和向量。

```
> NROW(1:3)
#[1] 3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:21:18.110

你是对的，这`nrow`仅对矩阵参数有效，那么为什么不传入矩阵呢？

```
> nrow(1:3)
NULL
> nrow(matrix(1:3,ncol=3))
[1] 1 
```

您可以将您的电话替换`nrow`为`function(x) nrow(matrix(x,ncol=3))`. 完整的表达式是

```
by(m1, m1[,2:4], function(x) nrow(matrix(x,ncol=3))) 
```

# iphone - 如何增加注释标题和子标题区域的高度？

> ID：11184251
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:15:19.877
> 
> 标签：iphone, mkmapview, mkannotationview

> **可能重复：**
> [如何在 iOS 的 MKAnnotation 中添加更多细节](https://stackoverflow.com/questions/2342070/how-to-add-more-details-in-mkannotation-in-ios)

任何小伙伴都知道如何在 mkannotation 视图中增加注释标题和副标题字段的高度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:27:18.933

[http://developer.apple.com/library/ios/#samplecode/WeatherMap/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/WeatherMap/Introduction/Intro.html)检查这个例子.. 参考：[如何在 iOS 的 MKAnnotation 中添加更多细节](https://stackoverflow.com/questions/2342070/how-to-add-more-details-in-mkannotation-in-ios/2342701#2342701)

# java - 是否可以设置 ProgressIndicator 样式？

> ID：11184255
> 
> 赞同：11
> 
> 时间：2012-06-25T06:16:35.930
> 
> 标签：java, javafx, javafx-2

我喜欢 ProgressIndicator，除了我想改变它的颜色和圆的宽度。有可能（有或没有css）吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-25T09:25:26.507

当然，这很容易。

您可以在 doc 中找到所有相关的方法和样式：

*   API：[http ://docs.oracle.com/javafx/2/api/index.html?overview-summary.html](http://docs.oracle.com/javafx/2/api/index.html?overview-summary.html)
*   CSS：[http ://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#progressindicator](http://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#progressindicator)

    ```
    public class HelloProgressIndicator extends Application {

     public static void main(String[] args) {
        launch(args);
     }

     @Override
     public void start(Stage stage) throws Exception {

        Pane root = new Pane();
        Scene scene = new Scene(root, 200, 200);

        ProgressIndicator pi = new ProgressIndicator(.314);
        // changing color with css
        pi.setStyle(" -fx-progress-color: red;");
        // changing size without css
        pi.setMinWidth(150);
        pi.setMinHeight(150);

        root.getChildren().add(pi);

        stage.setScene(scene);
        stage.show();
     }
    } 
    ```

# java - 推土机映射到具有复合主键的实体类

> ID：11184263
> 
> 赞同：1
> 
> 时间：2012-06-25T06:17:36.193
> 
> 标签：java, jpa, dozer

主要实体类是“订单”。我为复合主键（orderId，orderName）创建了一个 jpa 实体类，例如“OrderPK”。我正在使用 Dozer 映射将另一个类映射到“Order”类。但是，dozer 没有将主类的值映射到复合主键实体（orderId，orderName）的 Order 类。它为复合设置空值主键值（orderId，orderName）。为什么会这样？

# winforms - 如何创建水印文本框

> ID：11184266
> 
> 赞同：3
> 
> 时间：2012-06-25T06:18:14.383
> 
> 标签：winforms, textbox

如何在winForm中创建水印文本框

我想在我的应用程序登录屏幕中使用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:31:27.920

如果你想让它变得简单，你可以这样做：

```
 string xyz = "Enter User Name Here.."; 
    private void textBox_Leave(object sender, EventArgs e)
    {
        {
            if (textBox.Text.Length.Equals(0))
            {
                textBox.Text = xyz;
            }
        }
    }

    private void textBox_Click(object sender, EventArgs e)
    {
        {
            if (textBox.Text.Equals(xyz))
            {
                textBox.Clear();
            }
        }
    } 
```

并在您的 form_load 事件中添加以下几行：

```
 textBox.Text = xyz;
    textBox.Select(textBox.Text.Length, 0); 
```

# git - 执行 'git commit --amend' 后如何推送到 repo

> ID：11184267
> 
> 赞同：21
> 
> 时间：2012-06-25T06:18:20.783
> 
> 标签：git, git-commit, git-amend

我做了一个提交并推送到回购。后来我用 修改了提交消息`git commit --amend`，在弹出的窗口中我输入了新的消息。我可以通过 看到新消息`git log`。经过所有这些过程，我的`git status`节目是这样的。我不知道如何将此更改推送到 repo。

```
On branch master
Your branch and `origin/master` have diverged,
and have 1 and 1 different commit(s) each, respectively. 
```

期待一个可行的解决方案。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-25T06:52:41.430

如果您可以修改远程 repo 上的历史记录（例如，您只是推送了该提交，并且没有进行新的提交），您可以尝试

```
git push --force 
```

但是，请先阅读“[我如何将修改后的提交推送到远程 git 存储库？](https://stackoverflow.com/questions/253055/how-do-i-push-amended-commit-to-the-remote-git-repo) ”：如果有人已经从该存储库中撤出，他/她将不高兴。

[“ Git：推送修改的提交](https://stackoverflow.com/questions/3968281/git-pushing-amended-commits)”中描述了另一种选择。
正如[cpeisert](https://stackoverflow.com/users/1164465/cpeisert)在评论“[`master`分支和' `origin/master`'已经分歧，如何'取消'分支'？](https://stackoverflow.com/questions/2452226/master-branch-and-origin-master-have-diverged-how-to-undiverge-branches) ”中提到的那样，描述了您的警告信息。

# jquery - 从 jQuery 点击事件返回 false

> ID：11184276
> 
> 赞同：63
> 
> 时间：2012-06-25T06:19:02.443
> 
> 标签：jquery, return, jquery-events

我有这样设置的点击事件：

```
$('.dialogLink')
    .click(function () {
        dialog(this);
        return false;
    }); 
```

都有一个“return false”

有人可以解释这是做什么的以及是否需要吗？

* * *

## 回答 #1

> 赞同：104
> 
> 时间：2012-06-25T06:19:48.740

当您`false`从事件处理程序返回时，它会阻止该事件的默认操作并阻止事件通过 DOM 冒泡。也就是说，它相当于这样做：

```
$('.dialogLink')
   .click(function (event) {
       dialog(this);
       event.preventDefault();
       event.stopPropagation();
}); 
```

如果`'.dialogLink'`是一个`<a>`元素，那么它在点击时的默认操作是导航到`href`. 从点击处理程序返回`false`可以防止这种情况。

至于您的情况是否需要它，我猜答案是肯定的，因为您想显示一个对话框以响应点击而不是导航。如果您放置了单击处理程序的元素在单击时没有默认操作（例如，当您单击 div 时通常不会发生任何事情），那么您不需要返回 false，因为没有什么可以取消。

如果你想对点击做一些事情，但让默认导航继续，那么不要返回 false。

进一步阅读：

*   [event.preventDefault()](http://api.jquery.com/event.preventDefault/)
*   [event.stopPropagation()](http://api.jquery.com/event.stopPropagation/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-25T06:23:03.310

事件处理程序的返回值决定了默认浏览器行为是否也应该发生。在点击链接的情况下，这将是跟随链接，但差异在表单提交处理程序中最为明显，如果用户输入信息错误，您可以取消表单提交。

我不相信有这方面的 W3C 规范。所有像这样的古老 JavaScript 接口都被赋予了“DOM 0”的绰号，并且大多未指定。阅读旧的 Netscape 2 文档可能会有一些运气。

实现这种效果的现代方式是调用`event.preventDefault()`，这在[DOM 2 事件规范](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-cancelation)中指定。

所以正确的方法是：

```
$('.dialogLink')
   .click(function (e) {
       dialog(this);
       e.preventDefault();
       e.stopPropagation(); // Stop bubbling up
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-11-04T09:50:26.330

事件处理程序的返回值决定了默认浏览器行为是否也应该发生。在点击链接的情况下，这将是跟随链接，但差异在表单提交处理程序中最为明显，如果用户输入信息错误，您可以取消表单提交。

# c# - C#插入查询不起作用

> ID：11184281
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:19:14.807
> 
> 标签：c#

我已经为我的应用程序编写了插入查询以使用密码创建新用户，但它不起作用，请检查并更正它。

```
 con.Open();
        string a;
        a = "insert into tbl_KKSUser(EName,Uname,Password)values(@en,@un,@pas)";
        SqlCommand cm = new SqlCommand(a, con);
        SqlParameter paramName;
        paramName = new SqlParameter("@en", SqlDbType.VarChar, 25);
        paramName.Value = DropDownList1.SelectedItem.Text;
        cm.Parameters.Add(paramName);

        string original = TextBox2.Text.Trim();
        int h = original.GetHashCode();
        string withHash = original;
        b1 = Encoding.BigEndianUnicode.GetBytes(withHash);
        encrypted = Convert.ToBase64String(b1);
        SqlParameter paramPass;
        paramPass = new SqlParameter("@pas", SqlDbType.VarChar, 300);
        paramPass.Value = Convert.ToString(encrypted);
        cm.Parameters.Add(paramPass);
        Response.Write("<script>alert('inserted')</alert>");
        con.Close(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T06:20:47.747

您没有执行查询。你需要做：

```
cm.ExecuteNonQuery(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:22:38.437

您必须在关闭连接之前调用 ExecuteNonQuery 函数

```
 con.Open();
            string a;
            a = "insert into tbl_KKSUser(EName,Uname,Password)values(@en,@un,@pas)";
            SqlCommand cm = new SqlCommand(a, con);
            SqlParameter paramName;
            paramName = new SqlParameter("@en", SqlDbType.VarChar, 25);
            paramName.Value = DropDownList1.SelectedItem.Text;
            cm.Parameters.Add(paramName);

            string original = TextBox2.Text.Trim();
            int h = original.GetHashCode();
            string withHash = original;
            b1 = Encoding.BigEndianUnicode.GetBytes(withHash);
            encrypted = Convert.ToBase64String(b1);
            SqlParameter paramPass;
            paramPass = new SqlParameter("@pas", SqlDbType.VarChar, 300);
            paramPass.Value = Convert.ToString(encrypted);
            cm.Parameters.Add(paramPass);

            cm.ExecuteNonQuery(); // here call ExecuteNonQuery

            Response.Write("<script>alert('inserted')</alert>");
            con.Close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:45:18.890

那里缺少两件事....

1.  您在查询中传递了 3 个 sql 变量并仅添加了两个参数。

2.  也添加以下行，

    ```
    cm.ExecuteNonQuery(); 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-20T07:05:04.377

ExecuteNonQuery() 是 SqlCommand 对象中最常用的方法之一，用于执行不返回结果集的语句（即插入数据、更新数据等语句）

所以用

```
cm.ExecuteNonQuery(); 
```

并在您的示例中添加所有使用的参数，即 3 个参数。

# linkedin - LinkedIn登录脚本在Opera中不起作用

> ID：11184282
> 
> 赞同：1
> 
> 时间：2012-06-25T06:19:15.213
> 
> 标签：linkedin

我正在使用 LinkedIn 脚本登录我的网站，它似乎在所有浏览器中都能正常工作，但在 Opera 中不起作用。它会打开一个空白的链接身份验证弹出窗口。

下面是我的代码 -

```
<script type="text/javascript">
function onLinkedInLoad() {
IN.Event.on(IN, "auth", function() {onLinkedInLogin();});
}

function onLinkedInLogin() {
IN.API.Profile("me")
.fields(["id", "firstName", "lastName", "pictureUrl", "publicProfileUrl","industry","location","headline"])
.result(function(result) {
})
}
</script>
<script type='IN/Login' data-onAuth='onLinkedInLogin'></script> 
```

任何形式的帮助将不胜感激..在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T13:42:02.497

Opera 和 LinkedIn API 存在已知问题 - 实际上，LinkedIn 插件使用 Opera 不支持的脚本机制：

[https://developer.linkedin.com/comment/11392#comment-11392](https://developer.linkedin.com/comment/11392#comment-11392)

# java - Tomcat7 服务器中的 Eclipse 错误

> ID：11184287
> 
> 赞同：0
> 
> 时间：2012-06-25T06:19:50.110
> 
> 标签：java, eclipse, jakarta-ee, tomcat7

我已经在端口号 8080 上使用 Eclipse Helios 1.3.2 配置了 Tomcat 7。Tomcat 服务和所有内容都已安装。

当我从 Eclipse 启动服务器时，它会执行一些过程并将状态显示为已启动。但是当我尝试点击时`http://localhost:8080`，它说*请求的资源（/）不可用。*即实际上服务器实际上并未启动。

但是，当我通过运行 Tomcat7.exe 或 Tomcat7w.exe 从 Windows 资源管理器启动服务器时，它启动良好，我可以通过参考`http://localhost:8080`.

以下是服务器启动日志。

```
Jul 02, 2012 1:20:12 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program Files/Java/jre7/bin/client;C:/Program Files/Java/jre7/bin;C:/Program Files/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Perforce;O:\ora1106w\bin;C:\Program Files\Java\jdk1.6.0_12\bin;;C:\Program Files\WinMerge;C:\Users\KNIRAV\Downloads\eclipse-jee-helios-SR2-win32\eclipse;;.
Jul 02, 2012 1:20:17 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Jul 02, 2012 1:20:17 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Jul 02, 2012 1:20:17 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 5674 ms
Jul 02, 2012 1:20:17 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Jul 02, 2012 1:20:17 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.28
Jul 02, 2012 1:20:18 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom
INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [126] milliseconds.
Jul 02, 2012 1:20:18 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8080"]
Jul 02, 2012 1:20:18 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
Jul 02, 2012 1:20:18 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 1788 ms 
```

请问我可以对此有一些解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:57:16.677

没有问题。当您从 Eclipse 启动 Tomcat 时，不会部署根应用程序。只有您通过服务器视图部署的项目可用。

您是否尝试过在服务器上部署项目？

# android - 在 android eclipse 上处理 tabhost

> ID：11184288
> 
> 赞同：1
> 
> 时间：2012-06-25T06:19:53.380
> 
> 标签：android, eclipse, android-tabhost

我有四项活动，即

*   Demo_tabActivity.java [主要活动]

*   Tabhost.java

下面两个activity是上面tabhost.java的标签

*   Tab_1.java

*   Tab_2.java

第一个活动（`Demo_tabActivity.java`）包含一个编辑文本和按钮。第二个（`Tabhost.java`）活动包含一个 Tabhost 小部件。第三个和第四个活动分别包含文本视图。

第一个活动将通过获取用户的输入来使用 Web 服务，并在选项卡主机（第二个活动）的第一个选项卡（第三个活动）上返回一些数据。

良好的网络服务消费运作良好并完美返回价值，

但是，问题是，它在单独的页面上显示结果，而不是在 tabhost 上显示。

**Demo_tabActivity.java**

```
 public class Demo_tabActivity extends Activity 
 {

private static String NAMESPACE = "http://tempuri.org/";
   private static String METHOD_NAME = "FahrenheitToCelsius";
   private static String SOAP_ACTION = "http://tempuri.org/FahrenheitToCelsius";
   private static String URL = "http://www.w3schools.com/webservices/tempconvert.asmx?WSDL";

   Button btnFar;
   EditText txtFar;

   @Override
   public void onCreate(Bundle savedInstanceState)
   {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);

       btnFar = (Button)findViewById(R.id.button1);

       txtFar = (EditText)findViewById(R.id.editText_in);

       btnFar.setOnClickListener(new View.OnClickListener()
       {
       public void onClick(View v)
       {
           String b;

         //Initialize soap request + add parameters
         SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);       

         //Use this to add parameters
         request.addProperty("Fahrenheit",txtFar.getText().toString());

         //Declare the version of the SOAP request
         SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

         envelope.setOutputSoapObject(request);
         envelope.dotNet = true;

         try 
         {
             HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

             //this is the actual part that will call the webservice
             androidHttpTransport.call(SOAP_ACTION, envelope);

             // Get the SoapResult from the envelope body.

             SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

             if(result != null)
             {
              //Get the first property and change the label text

                b = result.toString();
                Intent itnt = new Intent(v.getContext(), Tab_1.class);
                itnt.putExtra("gotonextpage", b.toString());
                startActivity(itnt);
             }
             else
             {
           Toast.makeText(getApplicationContext(), "NoResponse",Toast.LENGTH_SHORT).show();
             }
         }
        catch (Exception e)
        {
           e.printStackTrace();
           }
         }
       });
       } 
```

***注意：我只怀疑上面代码中的 if 条件***

* * *

**Tab_1.java**

```
public class Tab_1 extends Activity 
{
TextView tv;
String result;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main2);

Bundle extras = getIntent().getExtras();
if(extras != null)
{   result = extras.getString("gotonextpage");  }
tv = (TextView)findViewById(R.id.textView_main2);
tv.setText(result);
}} 
```

**Tabhost.java**

```
 public class Tabhost extends TabActivity {

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);

    TabHost tabHost = getTabHost();
    TabHost.TabSpec spec;
    Intent intent;

        intent = new Intent().setClass(this, Tab_1.class);
    spec = tabHost.newTabSpec("first").setIndicator("First").setContent(intent);
    tabHost.addTab(spec);

    intent = new Intent().setClass(this, Tab_2.class);
    spec = tabHost.newTabSpec("second").setIndicator("Second").setContent(intent);
    tabHost.addTab(spec);

    tabHost.setCurrentTab(0);
    }
} 
```

非常感谢！..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:27:51.353

```
EDIT:
Demo_tabActivity.java

 public class Demo_tabActivity extends Activity 
 {

private static String NAMESPACE = "http://tempuri.org/";
private static String METHOD_NAME = "FahrenheitToCelsius";
private static String SOAP_ACTION = "http://tempuri.org/FahrenheitToCelsius";
private static String URL = "http://www.w3schools.com/webservices/tempconvert.asmx?
WDL";

  Button btnFar;
EditText txtFar;

@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main); 

    btnFar = (Button)findViewById(R.id.button1);

    txtFar = (EditText)findViewById(R.id.editText_in);

   btnFar.setOnClickListener(new View.OnClickListener()
   {
   public void onClick(View v)
   {
       String b;

     //Initialize soap request + add parameters
     SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);       

     //Use this to add parameters
     request.addProperty("Fahrenheit",txtFar.getText().toString());

     //Declare the version of the SOAP request
     SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

     envelope.setOutputSoapObject(request);
     envelope.dotNet = true;

     try 
     {
         HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

         //this is the actual part that will call the webservice
         androidHttpTransport.call(SOAP_ACTION, envelope);

         // Get the SoapResult from the envelope body.

         SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

         if(result != null)
         {
          //Get the first property and change the label text

            b = result.toString();
            Intent itnt = new Intent(v.getContext(), Tabhost.class);
            itnt.putExtra("gotonextpage", b.toString());
            startActivity(itnt);
         }
         else
         {
       Toast.makeText(getApplicationContext(), "NoResponse",Toast.LENGTH_SHORT).show();
         }
     }
    catch (Exception e)
    {
       e.printStackTrace();
       }
     }
   });
   }

 public class Tabhost extends TabActivity {

@Override
public void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);
setContentView(R.layout.main1);
String result;
Bundle extras = getIntent().getExtras();
    if(extras != null){   
    result = extras.getString("gotonextpage");  
    }

TabHost tabHost = getTabHost();
TabHost.TabSpec spec;
Intent intent;

    intent = new Intent().setClass(this, Tab_1.class);
spec = tabHost.newTabSpec("first").setIndicator("First").setContent(intent);
 intent.putExtra("gotonextpage", result);
        startActivity(itnt);
tabHost.addTab(spec);

intent = new Intent().setClass(this, Tab_2.class);
spec = tabHost.newTabSpec("second").setIndicator("Second").setContent(intent);
tabHost.addTab(spec);

tabHost.setCurrentTab(0);
}
}

Tab_1.java

public class Tab_1 extends Activity 
{
TextView tv;
String result;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main2);

 Bundle extras = getIntent().getExtras();
if(extras != null)
{   result = extras.getString("gotonextpage");  }
tv = (TextView)findViewById(R.id.textView_main2);
tv.setText(result);
}} 
```

我没有尝试，但很可能您需要在 Demo_tabActivity.java 类中运行 TabHost。因为如果您调用选项卡主机类，它将分别调用选项卡一和选项卡二活动。（取决于选项卡主机中哪个选项卡设置为当前选项卡）。尝试让我知道结果！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:32:09.077

您需要使用 TabGroupActivity 来显示 TabHost 中的每个活动。在 TabGroupActivity 上查看此链接，看看它是如何工作的。这将在您启动的任何活动中显示您的选项卡。这应该可以解决您的问题。[http://androidmaterial.blogspot.in/2011/04/how-to-us-tab-group-activity-in-android.html](http://androidmaterial.blogspot.in/2011/04/how-to-us-tab-group-activity-in-android.html)

# vb.net - 制作程序的试用版

> ID：11184289
> 
> 赞同：1
> 
> 时间：2012-06-25T06:20:13.123
> 
> 标签：vb.net

我正在制作我的`vb .net`项目的试用版，但它没有计算天数、日期和时间。

你能不能给我任何建议来纠正它。我正在使用以下代码

```
Public Class Form1

Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Dim intTime As Integer = 1
    Dim dteLastStart, dteStartDate As Date
    Dim blnFirstTime, blnEnabled As Boolean
    Dim lngTimeLeft As Long

    blnEnabled = True
    If dteStartDate = Nothing Then
        dteStartDate = Now
    End If

    My.Application.SaveMySettingsOnExit = True

    If DateDiff(DateInterval.Day, dteLastStart, Now) < 0 Then
        'First clock change
        If intTime = 1 Then
            MsgBox("FRED has detected that you have changed your system date to an earlier date" & vbCrLf & "As FRED has built-in security," & vbCrLf & "FRED will only run until the next intTime you change your system date", MsgBoxStyle.OkOnly Or MsgBoxStyle.Exclamation, "System Date Changed")
            intTime = 2
        ElseIf intTime = 2 Then
            'Second clock change
            blnEnabled = False
            MsgBox("FRED has detected that you have changed your system date to an earlier date" & vbCrLf & "As this is the second warning, FRED will now be disabled", MsgBoxStyle.OkOnly Or MsgBoxStyle.Exclamation, "System Date Changed")
        End If
        'disables app
        If blnEnabled = False Then
            If MsgBox("FRED is disabled", MsgBoxStyle.OkOnly Or MsgBoxStyle.Information, "Disabled") = MsgBoxResult.Ok Then
                For Each form As Form In My.Application.OpenForms
                    form.Close()
                Next
            End If
        End If
    End If

    If DateDiff(DateInterval.Day, dteStartDate, Now) > 29 Then
        blnEnabled = False
        If blnEnabled = False Then
            If MsgBox("FRED has reached the end of it's trial.", MsgBoxStyle.OkOnly Or MsgBoxStyle.Information, "Trial Ended") = MsgBoxResult.Ok Then
                'Close all open forms
                For Each form As Form In My.Application.OpenForms
                    form.Close()
                Next
            End If
        End If
    End If
    dteLastStart = Now
    If blnFirstTime = True Then
        blnFirstTime = False
    End If
    'Saves variable settings
    My.Settings.Save()

    lngTimeLeft = 29 - (DateDiff(DateInterval.Day, dteStartDate, Now))

    MsgBox("This is a 29-day trial version." & vbCrLf & "You have " & CStr(lngTimeLeft) & " days left.", MsgBoxStyle.OkOnly, "FRED Trial")
end sub
end class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:43:38.327

假设您的程序名为“MyProg”，您希望用户试用 7 天。

因此，从概念上讲，您将在注册表中输入：

```
HKLM\SOFTWARE\MyProg 
```

每次运行软件，您都必须检查它是否存在，如果不存在，假设它是第一次运行，您将创建条目并设置值。如果条目存在，您将检索值并与现在进行比较。

不编码，这是一个处理注册表的示例函数，如果日期已过期，则返回 false，如果仍在试用期，则返回 true：

```
Private Function HandleRegistry() As Boolean
        Dim firstRunDate As Date
        firstRunDate = My.Computer.Registry.GetValue("HKEY_LOCAL_MACHINE\SOFTWARE\MyProg", "FirstRun", Nothing)
        If firstRunDate = Nothing Then
            firstRunDate = Now
            My.Computer.Registry.SetValue("HKEY_LOCAL_MACHINE\SOFTWARE\MyProg", "FirstRun", firstRunDate)
        ElseIf (Now - firstRunDate).Days > 7 Then
            Return False
        End If
        Return True
    End Function 
```

您所要做的就是调用它并处理响应：

```
Private Sub Form1_Load(sender As System.Object, e As System.EventArgs) Handles MyBase.Load
        Dim result As Boolean = HandleRegistry()
        If result = False Then 'something went wrong
            MsgBox("Trial expired")
        Else
            MsgBox("Trial version")
        End If
    End Sub 
```

当然这只是一个例子，所以你明白了，但实用性我会编码日期并调用注册表名称条目其他东西，所以它不会是用户友好的。另外，请记住架构问题，以便您知道它是在哪里编写的。

希望有帮助

# python - 练习 14.5，“思考 Python”（艾伦·唐尼）

> ID：11184292
> 
> 赞同：3
> 
> 时间：2012-06-25T06:20:22.713
> 
> 标签：python, urllib

我是第一次程序员，第一次 StackOverflow 用户，学习[Allen Downey 的免费在线文本“Think Python”](http://www.greenteapress.com/thinkpython/)。

此处显示的代码来自练习 14.5 (p.143)。我一直在试图弄清楚那是做什么的`.fp`；我的搜索都是空的。我在有和没有它的情况下运行了代码，并没有注意到结果有任何差异。我很感激任何人对此的帮助。

```
import urllib

conn = urllib.urlopen('http://thinkpython.com/secret.html')

for line in conn.fp:
    print line.strip() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:24:03.403

它只是一个附加到套接字对象的虚假文件对象。

阅读文档字符串：

```
>>> help(conn.fp) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T06:24:43.887

urllib.urlopen 返回一个[Request](http://docs.python.org/dev/library/urllib.request.html#urllib.request.Request)对象，该对象具有 .fp（文件指针）作为属性。默认情况下，Request 对象在迭代时使用相同的指针，因此没有功能差异。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-25T06:32:42.030

如前所述，它是一个文件指针，在此示例中实际上并不需要它，因为`conn`返回的 object`urlopen()`已经是一个类似文件的对象，您可以调用`readlines()`它。

我认为如果将示例更改为：

```
import urllib

conn = urllib.urlopen('http://thinkpython.com/secret.html')

for line in conn.readlines():
    print line.strip() 
```

# kinect - 使用 Microsoft kinect 计算用户参数

> ID：11184293
> 
> 赞同：0
> 
> 时间：2012-06-25T06:20:25.470
> 
> 标签：kinect, openkinect

我想获取使用 WPF 应用程序使用 Microsoft Kinect 捕获的用户的以下信息。

*   肩宽
*   高度
*   腰宽
*   臀宽
*   臂长
*   胸围

除了计算用户的 x,y 坐标外，我找不到任何标准的方法。有没有非常有效和准确的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:43:22.500

可以关注文章@http [://www.codeproject.com/Articles/380152/Kinect-for-Windows-Find-user-height-accurately](http://www.codeproject.com/Articles/380152/Kinect-for-Windows-Find-user-height-accurately)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T10:34:32.143

完成这项任务的最简单方法是使用[勾股定理](http://mathworld.wolfram.com/Distance.html)来计算两个骨骼关节之间的距离。

要获得肩宽，您将使用关节`JointType.ShoulderLeft`和`JointType.ShoulderRight`。要获得左臂的长度，您可以将 和 之间的距离添加到`JointType.ShoulderLeft`和之间的`JointType.ElbowLeft`距离。`JointType.ElbowLeft``JointType.WristLeft`

请注意，以上联名来自 Kinect for Windows SDK。就其本身而言，OpenKinect 不提供用于骨骼跟踪的方法，因为它专门用于访问设备。Kinect for Windows SDK 的一个流行替代品是[OpenNI](http://www.codeproject.com/Articles/148251/How-to-Successfully-Install-Kinect-on-Windows-Open)。

# google-maps - 谷歌地图 API。居中和缩放

> ID：11184295
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:20:48.817
> 
> 标签：google-maps, google-maps-api-3

```
 $('#map_canvas').gmap().bind('init', function(ev, map) {
        if (myPosition) {
            $('#map_canvas').gmap({ 'center' : myPosition });

            $('#map_canvas').gmap('addMarker', { 'position':  myPosition, 'bounds': true, 'icon' : '../../css/images/current_location.png'}).click( function () {
                $('#map_canvas').gmap('openInfoWindow', { 'content': 'You are here!' }, this);
            });

            $('#map_canvas').gmap('option', 'zoom', 20);        
        } else {
            $('#map_canvas').gmap('option', 'zoom', 8);
        }

        $.each(markers, function(i, marker) {
            $('#map_canvas').gmap('addMarker', { 
                'position': new google.maps.LatLng(marker.lat, marker.lng), 
                'bounds': true 
            }).click(function() {
                $('#map_canvas').gmap('openInfoWindow', { 'content': marker.name }, this);
            });
        });     
    }); 
```

我想居中并缩放到特定位置。这段代码的结果：http: [//postimage.org](http://postimage.org/image/v4auwuzwr/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:33:57.453

将每个标记的 latLng 添加到 LatLngBounds 对象，然后使用 fitBounds()

[这](http://www.geocodezip.com/orderby_test_gviz.html)是一个例子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T15:14:30.823

总而言之，我达到了我的目的，但是 fitBounds() 函数让我的期望有些混乱。我的任务是：创建许多制造商并将它们放置在地图中。如果我使用 fitBounds() 函数，我的地图会缩小以适合我的所有标记。现在看起来像我的地图： http: [//postimage.org](http://postimage.org/image/hukrtclup/)

# javascript - 滚动内部 div

> ID：11184296
> 
> 赞同：0
> 
> 时间：2012-06-25T06:20:58.333
> 
> 标签：javascript, html, scroll

我有一个固定长度的 div。还有一个可变长度的div。我想滚动内部 div。但它不工作。

```
<div style="width:200px">
  <div style=" overflow-x:scroll">
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
  </div>
</div>​ 
```

[JS小提琴](http://jsfiddle.net/ranasaani/57wdH/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:26:00.617

这是一个例子，你需要固定的宽度和高度[http://jsfiddle.net/57wdH/487/](http://jsfiddle.net/57wdH/487/)

```
<div style="width: 200px; overflow-x: auto; ">
    <div style="height: 70px; width: 500px">
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
        <img src="https://www.google.com.pk/images/srpr/logo11w.png" />
    </div>
</div> 
```

风格

```
img{
    max-width:100px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:31:49.823

这对我有用...

```
<div style="width:200px; height:100px; overflow: scroll; overflow-x: hidden;">
    <div style=""> 
```

...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:26:11.967

你可以试试这个：演示：http: [//jsfiddle.net/epinapala/57wdH/23/](http://jsfiddle.net/epinapala/57wdH/23/)

```
<div style="width: 150px;overflow-x:auto; ">
<div style="height: 100px; width: 500px"> 
```

您可以更改高度以使其与外部 div 成比例！

# xaml - 如何在 ContextMenu 中传递整个视图？

> ID：11184298
> 
> 赞同：0
> 
> 时间：2012-06-25T06:21:10.517
> 
> 标签：xaml, mvvm, contextmenu, commandparameter

我在数据网格上使用上下文菜单进行复制/粘贴。但是我没有在 ContextMenu 的命令参数中获取当前视图。在其他命令绑定中，我已将视图名称作为命令参数传递以获取当前视图状态。但是现在我被这个 ContextMenu 卡住了，因为我无法通过它传递我的视图。我正在使用 MVVM。

我的片段是

```
<DataGrid.ContextMenu>
     <ContextMenu x:Name="_menu">
           <MenuItem Header="Copy" Command="{Binding CopyCommand}" 
           CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}},Path=DataContext}" />
      </ContextMenu>
</DataGrid.ContextMenu> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T10:34:30.703

```
<DataGrid.ContextMenu>
     <ContextMenu x:Name="_menu">
           <MenuItem Header="Copy" Command="{Binding CopyCommand}" 
           CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}},Path=PlacementTarget.DataContext}" />
      </ContextMenu>
</DataGrid.ContextMenu> 
```

我假设您的数据网格在您当前的视图中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:06:48.177

最好的方法（在我看来）是`ViewModel`在你的页面中声明你的静态资源。然后你可以将你的根面板绑定`DataContext`到这个静态资源（让你到现在的位置）。然后，这具有使绑定在您中工作的额外好处`CommandParameter`（通过将参数绑定到 a`StaticResource`而不是 using `FindAncestor`）。

您当前的 Binding 表达式不起作用的最可能原因是您遇到了模板封装边界，但如果没有看到所有代码，我无法确定

# python - AutoKey - clipboard.get_selection() 函数在某些字符串上失败

> ID：11184300
> 
> 赞同：1
> 
> 时间：2012-06-25T06:21:40.687
> 
> 标签：python, encoding, python-2.7, special-characters, autokey

我已经简化了我的脚本，所以你可以专注于我的问题的本质。

在[AutoKey](http://code.google.com/p/autokey/)（不是 AutoHotKey）中，我制作了一个热键（shift-alt-T），它在我突出显示的任何字符串上执行此脚本（例如在 gedit 中 - 但也包括任何其他 gui 编辑器）。

```
strSelectedText = clipboard.get_selection()
keyboard.send_keys(" " + strSelectedText) 
```

该脚本修改突出显示的文本并在字符串的开头添加一个空格。

它适用于我强调的大多数字符串，但不适用于这个：

```
* Copyright © 2008–2012 Lonnie Best. Licensed under the MIT License. 
```

它适用于这个字符串：

```
* Add a Space 2.0.1 
```

但不是这个：

```
* Add a Space 2.0.1 – 
```

在 python 命令提示符下，这些字符串中的任何一个都没有问题，但是 clipboard.get_selection() 函数似乎被它们破坏了。

我对 python 脚本相当陌生，所以我不确定这是否是一个 AutoKey 错误，或者我是否缺少一些我应该知道的关于在 python 中编码/准备字符串的知识。

请帮忙。我在 Ubuntu 12.04 上这样做：

```
sudo apt-get install autokey-qt 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-12-05T16:27:31.977

版权符号没有键盘键，也没有任何非 ASCII 字符，如第三个示例中的 EN DASH。您的脚本代码必须以某种方式将任何非 ASCII Unicode 字符转换为适当的键盘序列来生成它们。也许您可以从剪贴板中抓取并使用剪贴板功能将修改后的字符串粘贴回您的应用程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-08-17T05:26:57.780

这是 Python 3 实现中的一个错误`autokey`（特殊字符未通过`keyboard.send_keys`）。例如，参见[GitHub 。](https://github.com/autokey-py3/autokey/issues/49)

# php - 我在哪里可以找到 PHP 内置 crypt 的来源，如 bcrypt 密码散列中使用的那样？

> ID：11184304
> 
> 赞同：2
> 
> 时间：2012-06-25T06:22:07.920
> 
> 标签：php, cryptography

在这个备受赞誉的[回答](https://stackoverflow.com/a/6337021/903600)中，[*如何在 PHP 中使用 bcrypt 对密码进行哈希处理？*](https://stackoverflow.com/q/4795385/903600)，代码将加密计算委托给`crypt`函数。

根据[bcrypt 密码散列的原始定义，](http://static.usenix.org/event/usenix99/provos/provos.pdf)从常量派生的三个 64 位块`"OrpheanBeholderScryDoubt"`应该被 Blowfish 加密 64 次。我想检查源代码的那部分，如果那里有 PHP 源代码，或者 PHP 委托的任何地方；那是为了改进[我所做的这个答案](https://crypto.stackexchange.com/a/3032/555)，以及[我现在阅读的维基百科的 bcrypt 条目](http://en.wikipedia.org/w/index.php?title=Bcrypt&oldid=499138394)。

我应该在哪里寻找 PHP 的内置源代码`crypt`，特别是 bcrypt 密码散列中使用的部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:47:08.150

我相信以下链接会有所帮助

*   `crypt.c`来自[PHP-SRC](https://github.com/php/php-src/blob/master/ext/standard/crypt.c)
*   `php_crypt_blowfish_rn`来自`crypt_blowfish.c`PHP [-SRC](https://github.com/php/php-src/blob/master/ext/standard/crypt_blowfish.c#L819)

# ruby-on-rails - 如何在 Ruby 中转换日期格式

> ID：11184305
> 
> 赞同：3
> 
> 时间：2012-06-25T06:22:21.640
> 
> 标签：ruby-on-rails, ruby, date, formatting, strftime

以下是一些输出：

```
Date.today  => Mon, 25 Jun 2012 
Date.today.to_formatted_s(:long_ordinal)  => "June 25th, 2012" 
Date.today.strftime('%A %d, %B')  =>  "Monday 25, June" 
```

现在我需要以下格式的输出，即：

```
 Monday 25th, June      or       Thrusday, 1st, October 
```

问题是**to_formatted_s**和**strftime**仅适用于日期并且两者或它们都返回字符串。如何以我需要的方式获得输出？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T06:39:02.657

您可以使用`Date::DATE_FORMATS`添加新的自定义格式，并`Integer.ordinalize`获取日期序号：

```
Date::DATE_FORMATS[:month_ordinal] = lambda { |date| 
  date.strftime("%A #{date.day.ordinalize}, %B") 
}

>> Date.today.to_formatted_s(:month_ordinal)
=> "Monday 25th, June" 
```

# c# - 在 C# Windows 应用程序中使用 Web 服务

> ID：11184308
> 
> 赞同：10
> 
> 时间：2012-06-25T06:22:28.530
> 
> 标签：c#, web-services

我是使用网络服务的新手。我被分配了一项任务，我需要在我的 Windows 应用程序中使用 Web 服务。这是我将使用的网络服务： [https ://api.betfair.com/global/v3/BFGlobalService.wsdl](https://api.betfair.com/global/v3/BFGlobalService.wsdl)

现在，我已经学会了如何向该服务添加 Web 引用，但是我找不到可以帮助我学习如何制作该 Web 服务的对象并按照我的意愿使用该服务的基本教程。

基本上，我需要的是在我的表单中从上述 Web 服务创建一个对象，并调用它的方法。AC# 代码片段会很棒。

谁能给我一些指示？我正在使用 Visual Studio 2008 和 C# Windows 应用程序。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-25T06:41:52.387

1.  右键单击引用
2.  选择添加服务参考
3.  在地址文本框中给出 wsdl 地址
4.  点击发现
5.  为命名空间命名，例如；- BFG
6.  您可以从代码中访问 BFG.MethodName() 等资源

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-23T07:40:08.887

在这里使用 Web 服务的步骤是。看看它。从那里你会得到你的解决方案。

[点击这里](http://www.c-sharpcorner.com/UploadFile/0c1bb2/consuming-web-service-in-Asp-Net-web-application/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T06:43:09.907

请查看以下链接以获取在 Win App 中使用 C# WEB 服务的示例应用程序，

[http://www.codeproject.com/Articles/2761/Consuming-Web-Services-from-a-Win-Forms-Applicatio](http://www.codeproject.com/Articles/2761/Consuming-Web-Services-from-a-Win-Forms-Applicatio)

# jquery - 输入类型文本的任何侦听器

> ID：11184309
> 
> 赞同：1
> 
> 时间：2012-06-25T06:22:36.343
> 
> 标签：jquery, html, jquery-ui, jquery-mobile

嗨，在我的输入类型文本中，如果用户输入假设三个字符，我想调用 URL 如何添加监听器？我正在开发搜索应用程序现在我在下面的代码中发送硬编码值“油”。这是我的代码：

```
<body>

<div data-role="page" id="mainPage">

    <div data-role="header">
        <h1>jQM Autocomplete</h1>

    </div>

    <div data-role="content">

        <p>
            <input type="text" id="searchField" placeholder="Categories">
            <ul id="suggestions" data-role="listview" data-inset="true"></ul>
        </p>

        <p>
            <a href="https://github.com/commadelimited/autoComplete.js" data-role="button">Download the code</a>
        </p>

    </div>

</div>

<script>

    $("#mainPage").bind("pageshow", function(e) {

        var substr,out,pra;

            var finalStr = "system"+encodeURIComponent("|^")+"0"+encodeURIComponent("|^")+"oil";
             var encodedURL = encodeURI("http://myDomainSearch.asp?requestString=");
             var parameters =  decodeURIComponent(finalStr);

        $.ajax({
        type: "POST",
        contentType:"application/x-www-form-urlencoded; charset=UTF-8",
        url: encodedURL,
        data: parameters
      }).done(function( msg )
              {
                  response  = msg
                    alert(response);
                    if(response.charAt(0)=='0')
                    {   
                        console.log("***"+ response);                                                         
                        substr = response.split('$');   

                        alert("inside if"+substr);

                        for (var out = 0;out<substr.length-1;out++)
                        {                       
                            pra = substr[out].split('|^');
                            console.log(">>>>>>>>>>>"+pra[0]);
                            console.log(">>>>>>>>>>>"+pra[1]);
                            console.log(">>>>>>>>>>>"+pra[2]);
                            console.log(">>>>>>>>>>>"+pra[3]);                  

                        }
                    }
                    else
                    {
                        alert("error")
                    }

                    $("#searchField").autocomplete({
                    target: $('#suggestions'),
                    source: pra,
                    link: 'target.html?term=',
                    minLength:1
                });
             }              
        );
    });
</script> 
```

现在，我希望如果用户在上面的输入类型文本中输入三个字符而不是硬编码值，那么它会点击 URL，并且根据该响应将显示在列表中。

任何帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:29:55.570

试着举个例子：

```
$('#searchField').keyup(function() {
  var val = $.trim( this.value );
  if(val.length == 3) {
    // do something
     .....
     ....
    var finalStr = "system"+encodeURIComponent("|^")+"0"+encodeURIComponent("|^")+ val;
  }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:53:01.060

你可以`.live`用来监听全局按键事件

```
<form>
<input type="text" />
<input type="text" />
<input type="text" />
<input type="text" id="txtHidden" style="display:none"/>
</form>​​​​​​​​​​ 
```

jQuery：

```
$(document).live('keypress', function (e) {

$('#txtHidden').val($('#txtHidden').val() + String.fromCharCode(e.which));

    if($('#txtHidden').val() == "oil")
        alert("Black gold!");
});​ 
```

[jsfiddle 示例](http://jsfiddle.net/maSFE/)

# asp.net - “/”应用程序中的服务器错误。指定的模块无法找到。（来自 HRESULT 的异常：0x8007007E）

> ID：11184313
> 
> 赞同：0
> 
> 时间：2012-06-25T06:22:43.387
> 
> 标签：asp.net, .net, visual-studio

我有一个使用 Visual Studio 2005 的 .net 应用程序，当我尝试从调试器运行它时，它显示了这样的错误，看起来缺少一些 dll 或模块文件，有关解决此错误的任何建议以及如何找到丢失的模块还是 dll？

## “/”应用程序中的服务器错误。

指定的模块无法找到。（来自 HRESULT 的异常：0x8007007E） 说明：在执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详细信息：System.IO.FileNotFoundException：找不到指定的模块。（来自 HRESULT 的异常：0x8007007E）

源错误：

在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。

堆栈跟踪：

[FileNotFoundException：找不到指定的模块。（来自 HRESULT 的异常：0x8007007E）] System.Reflection.Assembly._nLoad（AssemblyName fileName，String codeBase，Evidence assemblySecurity，Assembly locationHint，StackCrawlMark& stackMark，布尔 throwOnFileNotFound，Boolean forIntrospection）+0 System.Reflection.Assembly.nLoad（AssemblyName fileName，字符串 codeBase、证据 assemblySecurity、Assembly locationHint、StackCrawlMark& stackMark、布尔 throwOnFileNotFound、Boolean forIntrospection) +43 System.Reflection.Assembly.InternalLoad(AssemblyName assemblyRef、证据 assemblySecurity、StackCrawlMark& stackMark、Boolean forIntrospection) +127 System.Reflection.Assembly.InternalLoad(字符串 assemblyString，证据 assemblySecurity，StackCrawlMark 和 stackMark，Boolean for Introspection）+142 系统。

[ConfigurationErrorsException：找不到指定的模块。（HRESULT 异常：0x8007007E）] System.Web.Configuration.CompilationSection.LoadAssemblyHelper（字符串 assemblyName，布尔型 starDirective）+613 System.Web.Configuration.CompilationSection.LoadAllAssembliesFromAppDomainBinDirectory() +203 System.Web.Configuration.CompilationSection.LoadAssembly(AssemblyInfo ai) +105 System.Web.Compilation.BuildManager.GetReferencedAssemblies(CompilationSection compConfig) +178 System.Web.Compilation.WebDirectoryBatchCompiler..ctor(VirtualDirectory vdir) +163 System.Web.Compilation.BuildManager.BatchCompileWebDirectoryInternal(VirtualDirectory vdir, Boolean ignoreErrors ) +53 System.Web.Compilation.BuildManager.BatchCompileWebDirectory(VirtualDirectory vdir, VirtualPath virtualDir, Boolean ignoreErrors) +175 System.

* * *

版本信息：Microsoft .NET Framework 版本：2.0.50727.5420；ASP.NET 版本：2.0.50727.5420

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T07:05:11.650

谢谢，终于找到dll了，是sagem指纹软件的dll，安装后问题解决了，谢谢

# c# - 泛型和抽象类

> ID：11184316
> 
> 赞同：0
> 
> 时间：2012-06-25T06:22:55.797
> 
> 标签：c#

我已经实现了以下泛型：

```
 public class GenericAnimal<T> 
  {
    public int legs;
    public void Walk()
    {
        Console.WriteLine("Animals Walk....");
    }
}

public class Dog 
{
    public void Bark()
    {
        Console.WriteLine("Barking....");
    }
}

public class Cat 
{
    public void Mew()
    {
        Console.WriteLine("Mewing....");
    }
} 
```

然后我使用的类如下：

```
 GenericAnimal<Dog> dogObj = new GenericAnimal<Dog>();
        GenericAnimal<Cat> catObj = new GenericAnimal<Cat>(); 
```

在 dogObj 和 catObj 中，我都得到了“Walk”方法。我可以使用抽象类来做这件事。那么使用泛型而不是抽象类的额外优势是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:26:37.960

在你的情况下，没有。泛型在您希望代码可被不同类型重用的场景中是有意义的。在`GenericAnimal<T>`，你没有做任何事情`T`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:41:22.840

`Generics`和`Inheritance`是两个完全不同的概念，具有完全不同的功能。没有这样的比较“使用泛型而不是抽象类的额外优势是什么？”。如果您可以从这个意义上从所有子对象中抽象出一些通用功能，那么使用`Abstract class`. [这里](http://en.wikipedia.org/wiki/Generic_programming)有更多关于`Generics`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:47:02.790

您的具体示例最好通过没有泛型的正常继承来解决 - Dog 和 Cat 子类 Animal。但是，假设您现在想要一份动物列表。作为非通用解决方案，您可以选择一个 ArrayList，您可以在其中添加 cat 和 dog 实例。但是，ArrayList 的 Add 方法将对象作为参数。因此，您也可以将一条鱼添加到列表中，而一条鱼不能行走。当您处理列表以告诉所有动物走路时，您首先必须检查它们是否是动物。

这就是泛型帮助的地方。您可以使用 List<Animal> 定义您的列表，然后只能将符合“is Animal”的对象添加到列表中。假设一条鱼不是动物，那么如果你尝试添加一条鱼，你会得到一个编译器错误。此外，当您获取列表中的项目时，您会得到 Animal 实例而不仅仅是对象，因此您可以告诉它们立即行走。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:37:37.613

将您的代码更改为下一个

```
public class GenericAnimal<T> 
{
  public T Instance{get;set;}
  public int legs;
  public void Walk()
  {
      Console.WriteLine("Animals Walk....");
  }
} 
```

您将能够使用`Dog`和`Cat`。但是 eyossi 为这种情况描述了更好的代码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T06:32:33.820

尝试改写：

```
public class Animal
{
  public int legs;
  public void Walk()
  {
      Console.WriteLine("Animals Walk....");
  }
}

public class Dog : Animal
{
   public void Bark()
    {
      Console.WriteLine("Barking....");
    }
}

public class Cat : Animal
{
   public void Mew()
   {
      Console.WriteLine("Mewing....");
   }
} 
```

并尝试制作两个列表：第一个仅列出猫，第二个仅列出狗-首先不使用`List<T>`，然后尝试使用`List<T>`。我认为它将帮助您更好地理解它

# iphone - 在选择时更改颜色 - TableView/SplitView

> ID：11184317
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:23:02.770
> 
> 标签：iphone, objective-c, ios, xcode, ipad

我有一个`UITableView`用于我的 SplitView 应用程序的 MasterView。

在选择任何行时，该行的颜色变为蓝色。我想把它改成黑色或深灰色。我怎样才能做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:26:35.690

```
-(UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{

static NSString *CellIdentifier = @"CellIdentifier";
UITableViewCell *tableCell = (UITableViewCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (tableCell == nil) {
    tableCell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease] ;   

[tableCell setSelectionStyle:UITableViewCellSelectionStyleGray]; 
   }
 } 
```

或者你也可以试试这个`cellForRowAtIndexPath`

```
if (indexPath.row == selectedIndex) 
{ 
    Cell.LblDynamicCell.textColor=[UIColor whiteColor];
    Cell.LblBackView.backgroundColor=[UIColor Black];
}
//LblDynamicCell,LblBackView objects  declare in cellViewController class

 - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
 {
  selectedIndex = indexPath.row;
  [self.ResultTbl reloadData];

 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:27:01.907

以下枚举是为选择样式定义的 -

```
typedef enum {
    UITableViewCellSelectionStyleNone,
    UITableViewCellSelectionStyleBlue,
    UITableViewCellSelectionStyleGray
} UITableViewCellSelectionStyle; 
```

因此，出于您的目的，您可以使用 -`UITableViewCellSelectionStyleGray`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:27:15.633

您可以按如下方式更改所选单元格的颜色：

```
- (void)setSelected:(BOOL)selected animated:(BOOL)animated

    {
        [super setSelected:selected animated:animated];

        UIImageView *theImageView = [[UIImageView alloc] initWithImage:[UIImage imageName:@"table_selected_cell.png"]];
        self.selectedBackgroundView = theImageView;
        [theImageView release];
    } 
```

更改您选择的颜色，其中 table_selected_cell.png 是您颜色的 2px 图像。

# android - 网速慢导致强制关闭

> ID：11184322
> 
> 赞同：4
> 
> 时间：2012-06-25T06:23:16.720
> 
> 标签：android

我正在开发一个 android 应用程序，在每个活动中，我需要将一些数据传递到服务器并在进行下一个活动之前取回响应。如果互联网足够快，该应用程序可以正常工作。但随着速度下降，应用力关闭。如何处理缓慢的互联网连接，以免导致应用程序强制关闭？？？？？？

这是代码的一部分

```
public void onClick(View v) {
    // TODO Auto-generated method stub
    UserFunctions userFunction = new UserFunctions();
    if(userFunction.isNetworkAvailable(getApplicationContext()))
    {
        answer="";
        for(int check1=0;check1<counter2;check1++){
            int check2=0;
            answer=answer+option4[check1]+"|";
            while(check2<counter1){
                if(edTxt[check1][check2].getText().toString().equals("")){
                    answer="";
                    break;
                }
                else{
                    answer=answer+edTxt[check1][check2].getText().toString()+"|";
                }
                check2++;       
            }   
            if(answer.equals("")){
                break;
            }
            else{
                answer=answer+"||";
            }
        }
        if(answer.equals("")){
            Toast.makeText(this, "Please fill all fields", 600).show();
        }
        else{
        userFunction.form1(surveyId,userId , quesNo, answer);
        if(total>0){
            draw(temp); 
        }
        else{
            ques_no++;
            ArrayList<NameValuePair> params = new ArrayList<NameValuePair>();  
            params.add(new BasicNameValuePair("quesNo", Integer.toString(ques_no)));
            params.add(new BasicNameValuePair("surveyId", surveyId));
            count = getJsonFromURL22(surveyCond, params);           
            j=Integer.parseInt(result);
            if(j==22)
            {
                Toast.makeText(this, "Survey Completed", 600).show();
                Intent home=new Intent(Format16.this, SurveyCompleted.class);
                UserFunctions userFunctions = new UserFunctions();
                userFunctions.full(surveyId);
                Bundle d=new Bundle();
                d.putString("userId", userId);
                home.putExtras(d);
                startActivity(home);
            }
     public String getJsonFromURL22(String url, List<NameValuePair> params){
try{
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost(url);
    httppost.setEntity(new UrlEncodedFormEntity(params));
    HttpResponse response = httpclient.execute(httppost);
    HttpEntity entity = response.getEntity();
    is = entity.getContent();
}catch(Exception e){
    Log.e("log_tag", "Error in http connection"+e.toString());
}
//convert response to string
try{
    BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
    sb = new StringBuilder();
    sb.append(reader.readLine());

    String line="0";
    while ((line = reader.readLine()) != null) {
        sb.append(line);
    }
    is.close();
    result=sb.toString();
}catch(Exception e){
    Log.e("log_tag", "Error converting result "+e.toString());
}
return result;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:27:16.710

由于您没有显示任何代码，我猜您的目标是 Android API 级别 10 或更低，并且您正在 UI 线程中执行所有网络，导致可怕的 App Not Responding(ANR) 错误。解决此问题的一种方法是使用[`AsyncTask`](http://developer.android.com/reference/android/os/AsyncTask.html)并将所有网络代码移到那里。如果操作正确，`AsyncTask`'s`doInBackground()`将在一个单独的线程中处理您的所有网络，从而允许 UI 保持响应。

它通常是这样工作的：

```
private class NetworkTask extends AsyncTask<String, Void, String> {

      @Override
      protected String doInBackground(String... params) {
           // Do all networking here, this will work away in a background thread.
           // In your case:
           // HttpResponse response = httpclient.execute(httppost);
           // Must happen here
      }      

      @Override
      protected void onPostExecute(String result) { 
         // dismiss progress dialog if any (not required, runs in UI thread)
      }

      @Override
      protected void onPreExecute() {
         // show progress dialog if any, and other initialization (not required, runs in UI thread)
      }

      @Override
      protected void onProgressUpdate(Void... values) {
// update progress, and other initialization (not required, runs in UI thread)
      }
} 
```

如果您启用[`StrictMode`](http://developer.android.com/reference/android/os/StrictMode.html)，或针对 api 版本 11 及更高版本，Android 将`NetworkOnMainThreadException`在您尝试执行此操作时抛出一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:30:43.477

> 如果互联网足够快，该应用程序可以正常工作。但随着速度下降，应用力关闭。

它清楚地表明您正在 UI 线程上进行网络操作。根据 Google Docs，如果异步操作是在主线程上执行的并且如果花费超过 5 秒，那么您的应用程序将显示强制关闭对话框，这对最终用户来说非常不愉快.

事实上，如果您尝试在最新的 android 版本（即 4.0 或更高版本）上运行此类应用程序，它将不允许您运行应用程序，一旦检测到在主线程上执行异步操作，它将在启动时崩溃。

您必须使用`AsyncTask`或`Handlers`执行长时间运行的应用程序。

通过以下博客了解更多信息。

[http://android-developers.blogspot.in/2010/07/multithreading-for-performance.html](http://android-developers.blogspot.in/2010/07/multithreading-for-performance.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:27:03.793

使用[setConnectionTimeout](http://developer.android.com/reference/org/apache/http/params/HttpConnectionParams.html)或[setSoTimeout](http://developer.android.com/reference/org/apache/http/params/HttpConnectionParams.html)处理连接超时。

```
HttpGet httpGet = new HttpGet(url);
HttpParams httpParameters = new BasicHttpParams();
// Set the timeout in milliseconds until a connection is established.
// The default value is zero, that means the timeout is not used. 
int timeoutConnection = 3000;
HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);
// Set the default socket timeout (SO_TIMEOUT) 
// in milliseconds which is the timeout for waiting for data.
int timeoutSocket = 5000;
HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket); 
```

并使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)或[Handler](http://developer.android.com/reference/android/os/Handler.html)或[HandlerThread](http://developer.android.com/reference/android/os/HandlerThread.html)或 [runOnUiThread](http://developer.android.com/reference/android/app/Activity.html)任何人从服务器获取数据（在后台执行长时间运行的任务）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:29:37.240

那一定是 ANR 问题而不是 Force Close 问题。

您可以使用 StrictMode 来帮助查找可能长时间运行的操作，例如您可能不小心执行主线程的网络。

或者尝试放置进度条。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T10:20:45.120

您应该看看这个工具，它可以让您了解导致应用程序速度变慢的原因。ARO 工具旨在诊断这类网络问题[http://developer.att.com/developer/forward.jsp?passedItemId=9700312](http://developer.att.com/developer/forward.jsp?passedItemId=9700312)

# c - 如何将带小数点的数字截断为int？这是什么功能？

> ID：11184326
> 
> 赞同：2
> 
> 时间：2012-06-25T06:23:30.437
> 
> 标签：c

当我进行除法运算时会出现问题。我想知道谁将带小数点的数字截断为整数，例如 2、4、67。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T06:24:59.500

如果您将值分配给“int”变量，它会自动截断：

```
int c;    
c = a/b; 
```

或者你可以像这样投射：

```
c = (int) (a/b); 
```

即使 c 定义为 float 或 double，这也会截断它。

通常截断不是最好的（当然取决于你想要达到的目标）。通常结果是这样四舍五入的：

```
c= round(a/b,0); 
```

更智能，因为回合结果正确。如果您使用 linux，您可以通过“man round”轻松获得有关确切数据类型等的参考。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-12-22T16:28:11.090

您可以使用中`trunc()`定义的函数`math.h`。它将删除小数部分并返回不大于给定数字的最接近的整数。

它是这样定义的：

```
double trunc(double x); 
```

以下是如何使用它：

```
double a = 18.67;
double b = 3.8;
int c = trunc(a/b); 
```

您可以`man trunc`在 Linux 上查看以获取有关此功能的更多详细信息。正如前面的答案所指出的，您可以将除法结果转换为整数，或者如果分配给整数，它将自动被截断，但如果您有兴趣了解一个可以完成这项工作的 C 函数，那么`trunc()`就是这个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:31:43.573

从浮点类型手动或隐式转换为整数类型会导致自动截断为零。请记住，如果整数类型不足以存储值，则会发生溢出。如果您只需要打印值并截断小数点后的所有内容，请使用`printf()`：

```
printf("%.0f", floor(float_val)); 
```

正如 Tõnu Samuel 指出的那样，`printf()`默认情况下，该调用实际上将舍入浮点参数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T06:34:48.333

```
int result = (int)ceilf(myFloat );
int result = (int)roundf(myFloat );
int result = (int)floor(myFloat);

float result = ceilf(myFloat );
float result = roundf(myFloat );
float result = floor(myFloat); 
```

我想这会对你有所帮助。

# svn - svn:externals 已设置，但对 root 无效

> ID：11184331
> 
> 赞同：1
> 
> 时间：2012-06-25T06:24:02.280
> 
> 标签：svn, version-control

在一个 SVN 目录中，我`svn:externals`在根目录和子文件夹中设置了两个定义：

```
aromanov@aromanov-desktop:~/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7$ svn propget svn:externals .
doc svn+ssh://192.168.1.102/repos/libraries/java/vkt7/trunk/doc

aromanov@aromanov-desktop:~/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7$ svn propget svn:externals external/src/main
java svn+ssh://192.168.1.102/repos/libraries/java/vkt7/trunk/src 
```

两者都承诺。但仅`external/src/main/java`显示为 external in `svn status`：

```
aromanov@aromanov-desktop:~/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7$ svn st
X       external/src/main/java
?       target
?       generated
?       bin 
```

或更新为`svn update`：

```
aromanov@aromanov-desktop:~/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7$ svn up
Updating '.':

Fetching external item into 'external/src/main/java':
External at revision 93.

At revision 615. 
```

为什么`doc`外部不起作用？

更新：`svn info`输出：

```
aromanov@aromanov-desktop:~/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7$ svn info .
Path: .
Working Copy Root Path: /home/aromanov/workspaces/odp-server/ru.focusmedia.odp.server.driver.vkt7
URL: svn+ssh://192.168.1.102/repos/projects/odp/server/trunk/drivers/ru.focusmedia.odp.server.driver.vkt7
Repository Root: svn+ssh://192.168.1.102/repos/projects/odp/server
Repository UUID: 9563c6ab-c084-4a4b-8888-c82da4f59334
Revision: 621
Node Kind: directory
Schedule: normal
Depth: immediates
Last Changed Author: aromanov
Last Changed Rev: 618
Last Changed Date: 2012-06-25 11:43:44 +0400 (Пн., 25 июня 2012) 
```

# java - 将背景图片添加到我的 jpanel 时遇到问题，找不到错误，我也没有理解错误

> ID：11184332
> 
> 赞同：1
> 
> 时间：2012-06-25T06:24:02.680
> 
> 标签：java, swing

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
public class Test 
    {

    public static void panel1()
    {
            JFrame frame=new JFrame("@b's metric calculator");
            //Color b=new Color(0,150,255);
            //JPanel Cr=new JPanel();
            final JTextField textField = new JTextField(10);
            //textField.setBackgound(0,255,220);
            JButton button=new JButton("Enter Centimeter");
            final JTextField textFiel= new JTextField("Your result will be here",20);
            String[] list = {"cm-inch","cm-meter","cm-feet","inch-feet"};
            /*The <string> added below is to avoid "unchecked or unsafe operations” warning in Java ,
            if passing integer set it <Integer>*/
            final JComboBox<String> list1 = new JComboBox<String>(list);
            list1.setSelectedIndex(0);
            JButton submit=new JButton("Submit");
            submit.addActionListener(new ActionListener()
            {
                public void actionPerformed(ActionEvent e) 
                {   
                //textFiel.setText(textField.getText());

                //following command converts textfild value to integer
                int centi=Integer.parseInt(textField.getText());
                //----------------------------------------------------
                //double area = 3.14*radius*radius;
                int cb = list1.getSelectedIndex();//to get the index of selected item(eg. 0,1,2..)
                if(cb==0)
                {   
                    Double inch = centi/2.54;
                    //following command converts double to string
                    String out = Double.toString(inch);
                    //-----------------------------------------
                    textFiel.setText(out);
                }
                else if(cb==1)
                {   
                    Double meter = centi/100.00;
                    String out = Double.toString(meter);
                    textFiel.setText(out);
                }
                else if(cb==2)
                {   
                    Double feet = centi/30.48;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                }
                else 
                {   
                    Double feet = centi/12.00;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                }
                }
            });
            //c.setBackground(b);
            frame.add(new Cr());
            Cr.add(button);
            Cr.add(textField);
            Cr.add(list1);
            Cr.add(submit);
            Cr.add(textFiel);
            button.setPreferredSize(new Dimension(150,30));
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            frame.setSize(400,300);
            frame.setVisible(true);
            JOptionPane.showMessageDialog(frame,"Welcome \n enter centimeter in blank box\n Select your choice\n then press submit");
    }   
        class Cr extends JPanel{

            ImageIcon image = new ImageIcon("C:/Users/Public/Pictures/Sample Pictures/Desert.jpg");
            public void paint( Graphics g ) {
            Dimension d = getSize();
            for( int x = 0; x < d.width; x += image.getIconWidth() )
            for( int y = 0; y < d.height; y += image.getIconHeight() )
            g.drawImage( image.getImage(), x, y, null, null );
            super.paint(g);
            }           
            } 

        public static void main(String[] args)
        {

            javax.swing.SwingUtilities.invokeLater(new Runnable()
             {
                        public void run() {
                                 panel1();
                                  }
            });
        }

} 
```

问题代码是这一部分，它是在我尝试将图像添加到面板时开始的。

```
class Cr extends JPanel{

        ImageIcon image = new ImageIcon("C:/Users/Public/Pictures/Sample Pictures/Desert.jpg");
        public void paint( Graphics g ) {
        Dimension d = getSize();
        for( int x = 0; x < d.width; x += image.getIconWidth() )
        for( int y = 0; y < d.height; y += image.getIconHeight() )
        g.drawImage( image.getImage(), x, y, null, null );
        super.paint(g);
        }           
        } 
```

你能帮帮我吗，请说出我必须改变的一切。它说错误非静态变量不能从静态上下文中引用。提前谢谢。 **感谢每个人，'vedant1811' 用于布局创意，'mKorbel' 用于覆盖油漆和 'nIcE cOw' 用于将我的代码放在中心，我现在使用它，我的程序终于可以工作了。谢谢**

> **我的最终代码**

```
 import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
public class Test extends JPanel{

    public Test() {

    setOpaque(false);
    setLayout(new FlowLayout());
    }
    public static void main(String[] args) {

        JFrame frame = new JFrame("@b's metric calculator"); 
        final JTextField textField = new JTextField(10);
        JButton button = new JButton("Enter Centimeter");
        final JTextField textFiel = new JTextField("Your result will be here", 20);
        String[] list = {"cm-inch", "cm-meter", "cm-feet", "inch-feet"};
        /*The <string> added below is to avoid "unchecked or unsafe operations” warning in Java ,
        if passing integer set it <Integer>*/
        final JComboBox<String> list1 = new JComboBox<String>(list);
        list1.setSelectedIndex(0);
        JButton submit = new JButton("Submit");
        Test Cr = new Test();
        submit.addActionListener(new ActionListener() {

            public void actionPerformed(ActionEvent e) {
                //textFiel.setText(textField.getText());

                //following command converts textfild value to integer
                int centi = Integer.parseInt(textField.getText());
                //----------------------------------------------------
                //double area = 3.14*radius*radius;
                int cb = list1.getSelectedIndex();//to get the index of selected item(eg. 0,1,2..)
                if (cb == 0) {
                    Double inch = centi / 2.54;
                    //following command converts double to string
                    String out = Double.toString(inch);
                    //-----------------------------------------
                    textFiel.setText(out);
                } else if (cb == 1) {
                    Double meter = centi / 100.00;
                    String out = Double.toString(meter);
                    textFiel.setText(out);
                } else if (cb == 2) {
                    Double feet = centi / 30.48;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                } else {
                    Double feet = centi / 12.00;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                }
            }
        }); 
        frame.add(Cr);      
        Cr.add(button);
        Cr.add(textField);
        Cr.add(list1);
        Cr.add(submit);
        Cr.add(textFiel);
        button.setPreferredSize(new Dimension(150, 30));
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(400, 300);
        frame.setVisible(true);
        JOptionPane.showMessageDialog(frame, "Welcome \n enter centimeter in blank box\n Select your choice\n then press submit");
    }   
    public void paint(Graphics g)
    {
        // Loads the background image and stores in img object.
        Image img = Toolkit.getDefaultToolkit().getImage("C:\\Users\\Administrator\\Documents\\JAVA\\My java programs\\hd_wall_11493.jpg");
        // Draws the img to the BackgroundPanel.
        g.drawImage(img,0,0,getSize().width,getSize().height,this);
        super.paint(g);
    }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:36:42.253

不想评论某事

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class Test {

    public Test() {
        JFrame frame = new JFrame("@b's metric calculator");
        //Color b=new Color(0,150,255);
        //JPanel Cr=new JPanel();
        final JTextField textField = new JTextField(10);
        //textField.setBackgound(0,255,220);
        JButton button = new JButton("Enter Centimeter");
        final JTextField textFiel = new JTextField("Your result will be here", 20);
        String[] list = {"cm-inch", "cm-meter", "cm-feet", "inch-feet"};
        /*The <string> added below is to avoid "unchecked or unsafe operations” warning in Java ,
        if passing integer set it <Integer>*/
        final JComboBox<String> list1 = new JComboBox<String>(list);
        list1.setSelectedIndex(0);
        JButton submit = new JButton("Submit");
        submit.addActionListener(new ActionListener() {

            public void actionPerformed(ActionEvent e) {
                //textFiel.setText(textField.getText());

                //following command converts textfild value to integer
                int centi = Integer.parseInt(textField.getText());
                //----------------------------------------------------
                //double area = 3.14*radius*radius;
                int cb = list1.getSelectedIndex();//to get the index of selected item(eg. 0,1,2..)
                if (cb == 0) {
                    Double inch = centi / 2.54;
                    //following command converts double to string
                    String out = Double.toString(inch);
                    //-----------------------------------------
                    textFiel.setText(out);
                } else if (cb == 1) {
                    Double meter = centi / 100.00;
                    String out = Double.toString(meter);
                    textFiel.setText(out);
                } else if (cb == 2) {
                    Double feet = centi / 30.48;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                } else {
                    Double feet = centi / 12.00;
                    String out = Double.toString(feet);
                    textFiel.setText(out);
                }
            }
        });
        //c.setBackground(b);
        Cr cr = new Cr();
        cr.add(button);
        cr.add(textField);
        cr.add(list1);
        cr.add(submit);
        cr.add(textFiel);
        button.setPreferredSize(new Dimension(150, 30));
        frame.add(cr);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(400, 300);
        frame.setVisible(true);
        JOptionPane.showMessageDialog(frame, "Welcome \n enter centimeter in blank box\n Select your choice\n then press submit");
    }

    class Cr extends JPanel {

        private static final long serialVersionUID = 1L;
        private ImageIcon image = new ImageIcon("C:/Users/Public/Pictures/Sample Pictures/Desert.jpg");

        @Override
        public void paint(Graphics g) {
            Dimension d = getSize();
            for (int x = 0; x < d.width; x += image.getIconWidth()) {
                for (int y = 0; y < d.height; y += image.getIconHeight()) {
                    g.drawImage(image.getImage(), x, y, null, null);
                }
            }
            super.paint(g);
        }
    }

    public static void main(String[] args) {

        javax.swing.SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                Test test = new Test();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:56:27.070

我会解释你的错误：你的 test() 方法是一个静态方法。它不能直接访问非静态方法/变量（这具有完美的编程意义，如果您希望我详细说明，请发表评论）。静态方法和变量只能访问静态成员。您需要创建一个静态成员的对象，并且该对象可以访问其他非静态成员。

至于代码中所需的更正，mKorbel 的解决方案是完美的。但是，要将图像添加到 JPanel，最好将其“添加”为 JLabel，而不是绘制它。：

```
BufferedImage myPicture = ImageIO.read(new File("path-to-file"));
JLabel picLabel = new JLabel(new ImageIcon( myPicture ));
frame.add( picLabel );//see javadocs for JLabel for more info 
```

**编辑**

但是你需要一张背景图片。以下是更正后的代码：

```
class Cr extends JPanel{
    //change here ('\\' is the escape sequence for '\') :
    ImageIcon image = new ImageIcon("C:\\Users\\Public\\Pictures\\Sample Pictures\\Desert.jpg");
    public void paint( Graphics g ) {
    Dimension d = getSize();
    for( int x = 0; x < d.width; x += image.getIconWidth() )
    for( int y = 0; y < d.height; y += image.getIconHeight() )
    g.drawImage( image.getImage(), x, y, null, null );
    super.paint(g);
    }           
} 
```

# tcp - 如何在 Go 编程中将 []byte 转换为 int

> ID：11184336
> 
> 赞同：93
> 
> 时间：2012-06-25T06:24:39.213
> 
> 标签：tcp, client-server, byte, type-conversion, go

我需要通过 TCP 创建一个客户端-服务器示例。在客户端，我读取了 2 个数字并将它们发送到服务器。我面临的问题是我无法从`[]byte`to转换`int`，因为通信只接受 type 的数据`[]byte`。

有什么方法可以转换`[]byte`或`int`我可以发送`int`到服务器？

一些示例代码将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2014-10-25T11:37:35.457

（转发[此答案](https://stackoverflow.com/questions/20872173/more-idiomatic-way-in-go-to-encode-a-byte-slice-int-an-int64/20872656#20872656)）

您可以使用 encoding/binary 的[ByteOrder](http://golang.org/pkg/encoding/binary/#ByteOrder)为 16、32、64 位类型执行此操作

[玩](http://play.golang.org/p/g9ZQxiDYJu)

```
package main

import "fmt"
import "encoding/binary"

func main() {
    var mySlice = []byte{244, 244, 244, 244, 244, 244, 244, 244}
    data := binary.BigEndian.Uint64(mySlice)
    fmt.Println(data)
} 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2019-03-21T10:53:20.713

如果 []byte 是 ASCII 字节数，则首先将 []byte 转换为字符串，然后使用将字符串转换为 int 的`strconv`封装`Atoi`方法。

```
package main
import (
    "fmt"
    "strconv"
)

func main() {
    byteNumber := []byte("14")
    byteToInt, _ := strconv.Atoi(string(byteNumber))
    fmt.Println(byteToInt)
} 
```

去游乐场 - [https://play.golang.org/p/gEzxva8-BGP](https://play.golang.org/p/gEzxva8-BGP)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-06-25T06:53:40.300

从字节数组开始，您可以使用[二进制包](http://golang.org/pkg/encoding/binary/)进行转换。

例如，如果您想阅读 ints ：

```
buf := bytes.NewBuffer(b) // b is []byte
myfirstint, err := binary.ReadVarint(buf)
anotherint, err := binary.ReadVarint(buf) 
```

[同一个包允许使用通用读取](http://golang.org/pkg/encoding/binary/#Read)函数读取具有所需字节顺序的无符号整数或浮点数。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2020-08-21T08:47:24.857

```
now := []byte{0xFF,0xFF,0xFF,0xFF}
nowBuffer := bytes.NewReader(now)
var  nowVar uint32
binary.Read(nowBuffer,binary.BigEndian,&nowVar)
fmt.Println(nowVar) 
```

```
4294967295 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-06-25T07:00:24.523

对于编码/解码数字到/从字节序列，有[encoding/binary](http://golang.org/pkg/encoding/binary/)包。文档中有示例：请参阅目录中的示例部分。

这些编码函数在[io.Writer](http://golang.org/pkg/io/#Writer)接口上运行。net.TCPConn类型实现了[io.Writer](http://golang.org/pkg/net/#TCPConn)，因此您可以直接写入/读取网络连接。

如果您在连接的任一侧都有 Go 程序，您可能需要查看使用[encoding/gob](http://golang.org/pkg/encoding/gob/)。有关使用 gob 的演练，请参阅文章“[数据 Gobs](http://golang.org/doc/articles/gobs_of_data.html) ”（跳到底部以查看自包含示例）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-09-20T16:46:26.540

`binary.Read`in`encoding/binary`提供将字节数组转换为数据类型的机制。

请注意，网络字节顺序是[BigEndian](https://stackoverflow.com/questions/997571/big-endian-or-little-endian-on-net)，因此在这种情况下，您需要指定`binary.BigEndian`.

```
 package main

  import (
    "bytes"
    "encoding/binary"
    "fmt"
  )

  func main() {
    var myInt int
    b := []byte{0x18, 0x2d} // This could also be a stream
    buf := bytes.NewReader(b)
    err := binary.Read(buf, binary.BigEndian, &myInt) // Make sure you know if the data is LittleEndian or BigEndian
    if err != nil {
        fmt.Println("binary.Read failed:", err)
        return
    }
    fmt.Print(myInt)
  } 
```

查看此文档可能会有所帮助：[https ://pkg.go.dev/encoding/binary@go1.17.1#Read](https://pkg.go.dev/encoding/binary@go1.17.1#Read)

* * *

## 回答 #7

> 赞同：-11
> 
> 时间：2015-05-07T12:28:23.777

```
var bs []byte
value, _ := strconv.ParseInt(string(bs), 10, 64) 
```

# qt - UI 文件在台式机和笔记本电脑中显示不同

> ID：11184338
> 
> 赞同：0
> 
> 时间：2012-06-25T06:24:46.627
> 
> 标签：qt, qt4

在我的项目中，有一个 ui 文件，当我在笔记本电脑（具有 15 英寸的屏幕）中查看该 ui 文件时，一半的 ui 文件没有显示，当我在桌面上运行相同的项目时（屏幕比我的笔记本电脑）完全显示相同的 ui 文件。可能是什么原因以及如何在我的笔记本电脑中显示完整的用户界面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:29:17.220

我得到了解决方案，我只是减少了我的 UI 文件的高度。现在它在我的台式机和笔记本电脑上都可以正常工作..

# java - 获取查询的主要位置

> ID：11184355
> 
> 赞同：0
> 
> 时间：2012-06-25T06:27:04.203
> 
> 标签：java, regex

我想在 Java 中获取数据库查询的主要 where 子句的索引？我如何使用正则表达式处理这个问题？

例如，在此查询中，我想获得第二个 where 子句：

```
 select u.id, (select x.id from XEntity where x.id = 200) 
  from UserEntity u 
  **where** u.id in (select g.id from AnotherEntity g where g.id = 100) 
```

我认为主要是哪个“（”字符和“）”字符的数量在它之后是相等的。但我不知道如何用正则表达式得到这个。

最诚挚的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T23:40:01.040

正则表达式不太擅长识别 SQL 查询等复杂结构。主要是因为 SQL 不是上下文无关的，这正是您遇到的问题：WHERE 可以出现在很多地方，而您特别需要一个取决于查询的整体结构的地方。

您将需要一个合适的解析器。我能找到的[唯一 JavaScript SQL 解析器](https://github.com/forward/sql-parser)不是太完整，但您始终可以通过确保它满足您的需求来帮助开发它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T00:03:52.467

图特和大卫布拉班特所说的绝对正确。解析 SQL，尤其是仅使用正则表达式的复杂 SQL 是一个非常困难的问题。

就在 Java 中解析 SQL 而言，这似乎是您问题的重点，有一个非常好的（如果显然未维护）库[，称为 JSQLParser](http://jsqlparser.sourceforge.net/)。可以在 Github 上找到该库的更新版本[（](https://github.com/wumpz/JSqlParser)免责声明：我对此做出了很小的贡献）。主页显示了一个访问者示例，旨在使用[此处](http://jsqlparser.sourceforge.net/example.php)的 AST 输出。

[ANTLR的语法列表中](http://www.antlr.org/grammar/list)还有一个可用的语法。或者，如果您喜欢冒险，H2 数据库支持相当广泛的 SQL，包括一些专有特性，例如 MySQL。您可以修改它的[Parser](https://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/command/Parser.java)以生成适当的结构来提取您需要的信息。

# android - C2DM 或 XMPP——推送通知哪个更好

> ID：11184356
> 
> 赞同：3
> 
> 时间：2012-06-25T06:27:13.247
> 
> 标签：android, xmpp, android-c2dm

我正在构建一个基于 Web 的聊天应用程序，例如 gtalk。我应该在 C2DM 和 XMPP 中使用什么。还有其他选择吗？C2DM的失败成功率是多少。

## 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:32:16.770

C2DM 是最好的，因为它是 Google 服务器，并且 API 也可用于 Android 中的 C2DM。

您使用的任何第三方服务器，Android 设备将仅与 C2DM 服务器通信。

# c++ - C++ Winsock HTTP - gzip/deflate 失败

> ID：11184363
> 
> 赞同：0
> 
> 时间：2012-06-25T06:28:00.703
> 
> 标签：c++, gzip, winsock, inflate

我正在尝试使用 winsock 以编程方式检索 twitter RSS 提要，并且看起来尽可能像真正的浏览器。我不想使用 WinINET。获取数据似乎有效，但 gzip_decompress 没有。我正在使用来自[http://code.msdn.microsoft.com/windowsdesktop/An-Asynchronous-HTTP-382f98ce的 gzip_decompress](http://code.msdn.microsoft.com/windowsdesktop/An-Asynchronous-HTTP-382f98ce)

```
void gettweet()
{
  std::string szHost = "api.twitter.com";
  std::string szIP = ResolveDns(szHost);
  std::string szUri = "/1/statuses/user_timeline.rss?screen_name=johnlol";
  std::string szRequest;

  szRequest += "GET " + szUri + " HTTP/1.1\r\n";
  szRequest +=
    "Accept: text/html, application/xhtml+xml, */*\r\n" \
    "Accept-Language: en-US\r\n" \
    "User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\r\n" \
    "Accept-Encoding: gzip, deflate\r\n" \
    //"Accept-Encoding: text\r\n"
    "Connection: Keep-Alive\r\n" \
    "Host: " + szHost + "\r\n" \
    "\r\n";

  SOCKET sock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
  if (sock < 0) {
    MessageBox(0,"couldnt create socket.",0,0);
    return;
  }

  struct sockaddr_in serveraddr;
  memset(&serveraddr, 0, sizeof(serveraddr));

  serveraddr.sin_family      = AF_INET;
  serveraddr.sin_addr.s_addr = inet_addr(szIP.c_str());
  serveraddr.sin_port        = htons(80);

  if (connect(sock, (struct sockaddr *) &serveraddr, sizeof(serveraddr)) != 0) {
    MessageBox(0,"couldnt connect.",0,0);
    return;
  }

  if (send(sock, szRequest.c_str(), szRequest.length(), 0) != szRequest.length()) {
    MessageBox(0,"couldnt send.",0,0);
    return;
  }

  char buffer[4096];
  std::string szBuffer;

while (1)
  {
    int len = recv(sock,buffer,sizeof(buffer),0);
    if (len == 0 || len == SOCKET_ERROR)
      break;

    for (int i = 0; i <= len; i++)
      szBuffer += buffer[i];
    ZeroMemory(buffer,sizeof(buffer));
  }

  if (int pos = szBuffer.find("\r\n\r\n") != std::string::npos) {

    szBuffer.erase(0,pos+4);
    if (szBuffer.size() <= 10) {
      gettweet();
      return;
    }
    FILE *fp; fopen_s(&fp,"test.txt","ab+");fputs(szBuffer.data(),fp);fclose(fp);

    if (szBuffer.data()[0] == 0x1F && szBuffer.data()[1] == 0xFFFFFF8B) {// gzip headers
      std::string raw_data;
      if (!gzip_decompress(szBuffer.c_str(),szBuffer.size(),raw_data))
        MessageBox(0,"decompress failed.",0,0);
      else
        MessageBox(0,raw_data.c_str(),0,0);
      //FILE *fp; fopen_s(&fp,"test.txt","ab+");fputs(szBuffer.data(),fp);fclose(fp);
      exit(0);
    }
  }

  closesocket(sock);
} 
```

# c# - Excel文件上传

> ID：11184364
> 
> 赞同：-2
> 
> 时间：2012-06-25T06:28:14.120
> 
> 标签：c#, excel, object, asp-classic

我需要上传一个excel文件到服务器。但问题是我需要检查这是否有**MS Excel 12.0 对象库** ？任何人都可以为此提出平均方法..？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:11:30.947

这是 Excel 文件上传到服务器后的一些经典 ASP 代码（[从此处复制](http://forums.aspfree.com/code-bank-54/classic-asp-read-excel-file-into-recordset-141448.html)）。

```
<% Option Explicit %>
<html>
<body>
<%
Dim objConn, objRS, strSQL
Dim x, curValue

Set objConn = Server.CreateObject("ADODB.Connection")
objConn.Open "DRIVER={Microsoft Excel Driver (*.xls)}; IMEX=1; HDR=NO; "&_
    "Excel 8.0; DBQ=" & Server.MapPath("excelfile.xls") & "; "

'if using xslx (Excel 2007) use this instead:
'objConn.Open "Driver={Microsoft Excel Driver (*.xls, *.xlsx, *.xlsm, *.xlsb)};"&_
'   "DBQ=" & Server.MapPath("excelfile.xlsx") & ";"

strSQL = "SELECT * FROM A1:Q10000"
Set objRS=objConn.Execute(strSQL)
Response.Write("<table border=""1"">")
Response.Write("<tr>")
For x=0 To objRS.Fields.Count-1
   Response.Write("<th>" & objRS.Fields(x).Name & "</th>")
Next
Response.Write("</tr>")
Do Until objRS.EOF
    Response.Write("<tr>")
    For x=0 To objRS.Fields.Count-1
        curValue = objRS.Fields(x).Value
        If IsNull(curValue) Then
            curValue="N/A"
        End If
        curValue = CStr(curValue)
        Response.Write("<td>" & curValue & "</td>")
    Next
    Response.Write("</tr>")
    objRS.MoveNext
Loop
objRS.Close
Response.Write("</table>")
objConn.Close
Set objRS=Nothing
Set objConn=Nothing
%>
</body>
</html> 
```

# c++ - 自动拆分（重构）.h 为头文件和实现（h+cpp）

> ID：11184366
> 
> 赞同：15
> 
> 时间：2012-06-25T06:28:37.847
> 
> 标签：c++, refactoring, header-files, automated-refactoring

在编写 C++ 代码时，我通常首先在头文件中编写完整的“实现”代码，然后需要将实现重构为 .cpp 文件。

这很好，但我发现这个过程很费力，但在其他方面很容易，所以我想知道是否有任何自动化的方法可以做到这一点？

具体来说，我想将`.h`to 声明中的所有类和函数定义转换，并将它们声明在一个新`.cpp`文件中。

我正在使用 xcode，但我愿意接受任何解决方案。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T06:32:55.007

有[Lazy C++](http://www.lazycplusplus.com/)，你只写一个 .lzz 文件，它会为你生成 .h 和 .cpp。

我真的很期待您只编写 .cpp 并自动生成导入文件的[C++ 模块。](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3347.pdf)但是即使*Clang*已经开始实现模块，我们也将不得不等待几年。[这里](http://llvm.org/viewvc/llvm-project/cfe/trunk/test/Modules/)有一些例子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:35:43.397

您可以使用一些工具，例如 Makeheaders

[http://www.hwaci.com/sw/mkhdr/](http://www.hwaci.com/sw/mkhdr/)

但总的来说，这些工具并不完整，尤其是遇到新的 c++11 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-07T12:08:11.933

您可能还对 Eclipse 的功能“重构/切换功能”感兴趣。然而，它并不总是正常工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-13T17:37:01.767

**C++20 模块本质上是为我们做的**

如前所述：[https](https://quuxplusone.github.io/blog/2019/11/07/modular-hello-world/) : //quuxplusone.github.io/blog/2019/11/07/modular-hello-world/ clang 2019-11 实现了它：

```
clang++ -std=c++2a -c helloworld.cpp -Xclang -emit-module-interface -o helloworld.pcm
clang++ -std=c++2a -c -fprebuilt-module-path=. -o helloworld.o helloworld.cpp
clang++ -std=c++2a -fprebuilt-module-path=. -o main.out main.cpp helloworld.o 
```

在哪里：

*   `helloworld.cpp`包含实现
*   `helloworld.pcm`是一个预编译模块，基本上是一个自动提取的头文件`.cpp`（但采用 clang 内部语言格式），它可以在`main.cpp`没有`.hpp`

所以基本上clang是工具，因此解析是完美的。

# jsp - JSP中文件的代码在哪里？

> ID：11184367
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:28:44.723
> 
> 标签：jsp

我对 JSP 很陌生。我需要找到重定向代码在哪个文件中？我正在像这样在浏览器中输入 URL

```
/home/userpage.htm?method=veiwuser    --> Its opening viewuser.jsp

/home/userpage.htm?method=deleteuser  -->Its opening deleteuser.jsp page 
```

我怎样才能找到这个魔法背后的代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:32:03.477

检查此应用程序是否使用像 Spring MVC 或 Struts 这样的 MVC 框架。这种类型的事情通常由 Controller servlet 处理。

但是，您描述的行为也可以通过来自 htm 页面的 javascript 重定向调用或自定义 servlet 来完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:42:15.077

在您的项目中全局搜索“userpage.htm”并找到

```
@RequestMapping(value = {"/**/userpage.htm" ... 
```

其中包含 userpage.htm 的代码

# jquery - 在 symfony2 项目中使用 ajax 时出现错误 500

> ID：11184374
> 
> 赞同：3
> 
> 时间：2012-06-25T06:29:51.560
> 
> 标签：jquery, symfony

ajax 功能正在开发中`http://mysite/playlist-edit/3`

Javascript：

```
 $("#applySort").click(function(){
        var list = $("#sortable").sortable('toArray');

        $.post({
                type: 'POST',
                url: " {{ path('save_sorting', { 'id' : customer.id}) }} ",
                data: { "list" : JSON.stringify(list) },
                success: function(data) {
                    alert("success");
                }
        });
        return false;
    }); 
```

路线：

```
save_sorting:
    pattern: /save-sorting/{id}
    defaults: { _controller: SomeApiBundle:Customer:applySorting}
    requirements:
       _method: POST 
```

控制器动作（空）：

```
private function applySortingAction($id){

} 
```

错误：

POST `http://mysite/playlist-edit/%5Bobject%20Object%5D`500 内部服务器错误

正如您在 javascript 代码中看到的，`http://mysite/playlist-edit/%5Bobject%20Object%5D`实际上不是 javascript 中的 url，它应该是`http://mysite/save-sorting/3`.

Jquery 似乎调用了错误的 url。

```
Request-Header
Accept  */*
Accept-Encoding gzip, deflate
Accept-Language de-de,de;q=0.8,en-us;q=0.5,en;q=0.3
Connection  keep-alive
Cookie  PHPSESSID=rkdre4frkoidgo3n1hsi4th7v5
DNT 1
Host    gartenfernsehen
Referer  http://mysite/playlist-edit/3
User-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0
X-Requested-With    XMLHttpRequest

Response-Header
Connection  close
Content-Length  0
Content-Type    text/html
Date    Mon, 25 Jun 2012 06:21:07 GMT
Server  Apache/2.2.21 (Win32) mod_ssl/2.2.21 OpenSSL/1.0.0e PHP/5.3.8 mod_perl/2.0.4 Perl/v5.10.1
X-Powered-By    PHP/5.3.8 
```

任何想法为什么我会收到此错误？我注意到这`http://mysite/playlist-edit/%5Bobject%20Object%5D`实际上是错误的，但我不知道它是如何创建的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:11:28.170

您的控制器中的操作方法应命名为：

```
public function applySortingAction($id){
} 
```

`$id`成为`{id}`您`save_sorting`路线的参数

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-27T05:58:57.023

我没想到会这样。但是我将**$.post**更改为**$.ajax**，现在请求了正确的 url。

# gstreamer - 运行 gstreamer 管道（无法在回调中获取视频和音频数据）

> ID：11184377
> 
> 赞同：0
> 
> 时间：2012-06-25T06:30:02.230
> 
> 标签：gstreamer

我是 gstreamer 的新手，我想从 3gp 文件中获取音频和视频缓冲区，并在回调中进行一些处理。

（我将管道启动到一个单独的线程中，管道在回调 AudioCallback 中提供音频缓冲区，在 VideoCallback 中提供视频缓冲区。）

这就是我的管道的外观：

```
GstElement* audioQueue;//global variable , needed in on_pad_added (cant pass both while connecting demuxer to callback)
GstElement* videoQueue;//global variable , needed in on_pad_added (cant pass both while connecting demuxer to callback)

//static functions
static gboolean
bus_call (GstBus* bus, GstMessage* msg, gpointer    data)
{
  GMainLoop* loop = (GMainLoop*) data;

  switch (GST_MESSAGE_TYPE (msg))
  {
  case GST_MESSAGE_EOS:
      g_main_loop_quit (loop);
      break;

  case GST_MESSAGE_ERROR: {
      gchar  *debug;
      GError *error;

      gst_message_parse_error (msg, &error, &debug);
      g_free (debug);

      g_printerr ("Error: %s\n", error->message);
      g_error_free (error);

      g_main_loop_quit (loop);
      break;
    }
  default:
      break;
  }
  return true;
}

static void link_two_elements(GstElement* src_element, GstElement* sink_element)
{
  if(!gst_element_link(src_element, sink_element))
      g_printerr ("Linking Error");

}

static void
 on_pad_added (GstElement *element,
              GstPad     *pad,
              gpointer    data)
{
  GstCaps *caps;
  GstStructure *str;
  gchar *tex;
  GstPad* sinkpad;

  /* check media type */
  caps = gst_pad_get_caps (pad);
  str = gst_caps_get_structure (caps, 0);
  tex = (gchar*)gst_structure_get_name(str);

  if(g_strrstr(tex,"audio"))
  {
    //GstElement *audioQueue = (GstElement *) data;
    sinkpad = gst_element_get_static_pad (audioQueue, "sink");

    if(sinkpad)
    {
        GstPadLinkReturn linkReturn = gst_pad_link (pad, sinkpad);
        gst_object_unref (sinkpad);
    }
  }

  if(g_strrstr(tex,"video"))
  {
    //GstElement *videoQueue = (GstElement *) data;
    sinkpad = gst_element_get_static_pad (videoQueue, "sink");

    GstPadLinkReturn linkReturn = gst_pad_link (pad, sinkpad);
    gst_object_unref (sinkpad);
  }
}

void runPipeline()
    {
    GMainLoop *loop;
    GstElement *__pPipeline, *source, *demuxer, *audioDecoder, *audioConverter, *audioresample, /**audioQueue,*/ *audioSink, *videoDecoder, *videoSink, /**videoQueue,*/ *ffmpegcolorspace, *videoscale;
    GstBus* bus;

     //Initialisation
    gst_init (null,null);

    loop = g_main_loop_new (NULL, FALSE);

    // Create gstreamer elements
    __pPipeline = gst_pipeline_new("test_appsink");
    source = gst_element_factory_make ("filesrc", "file-source");
    demuxer = gst_element_factory_make("qtdemux", "demuxer");
    //audioDecoder = gst_element_factory_make("ffdec_mp3", "audioDecoder");
    audioDecoder = gst_element_factory_make("decodebin", "audioDecoder");
    audioConverter = gst_element_factory_make("audioconvert", "audioConverter");
    audioresample = gst_element_factory_make("audioresample", "audioresample");
    audioSink = gst_element_factory_make("appsink", "audioSink");
    audioQueue = gst_element_factory_make("queue2", "audioQueue");
    //videoDecoder = gst_element_factory_make("ffdec_h264", "videoDecoder");
    videoQueue = gst_element_factory_make("queue2", "videoQueue");
    videoDecoder = gst_element_factory_make("decodebin ", "videoDecoder");
    ffmpegcolorspace = gst_element_factory_make("ffmpegcolorspace", "ffmpegcolorspace");
    videoscale = gst_element_factory_make("videoscale", "videoscale");
    videoSink = gst_element_factory_make("appsink", "videoSink");
    //appsink = gst_element_factory_make("appsink", "sink-buffer");

    if (!__pPipeline || !source  || !demuxer || !audioDecoder || !audioConverter ||!audioresample || !audioSink || !videoSink || !audioQueue || !videoQueue || !videoDecoder || !ffmpegcolorspace || !videoscale )
    {
      //return -1;
    }

    //we set the input filename to the source element
    g_object_set (G_OBJECT (source), "location", "/etc/20000101-161404.3gp", NULL);

    //Make appsink emit the "new-preroll" and "new-buffer" signals.
    gst_app_sink_set_emit_signals ((GstAppSink*) audioSink, TRUE);
    gst_app_sink_set_emit_signals ((GstAppSink*) videoSink, TRUE);

    //we add a message handler
    bus = gst_pipeline_get_bus (GST_PIPELINE (__pPipeline));
    gst_bus_add_watch (bus, bus_call, loop);
    gst_object_unref (bus);

     //we add all elements into the pipeline
    gst_bin_add_many (GST_BIN (__pPipeline),
                    source, demuxer, videoDecoder, audioDecoder, audioConverter, audioresample, audioSink, videoSink,
                    audioQueue, videoQueue, ffmpegcolorspace, videoscale, NULL);

    //link source and demuxer seperately
    link_two_elements(source, demuxer);

    //link rest of the elements
    int retValVideoLinking = (int)gst_element_link_many (videoQueue, videoDecoder, ffmpegcolorspace, videoscale, videoSink, NULL);
    int retValAudioLinking = (int)gst_element_link_many (audioQueue, audioDecoder, audioConverter, audioresample, audioSink, NULL);

    gulong sigConRet =  g_signal_connect (demuxer, "pad-added", G_CALLBACK (on_pad_added), null);

    _ArAudioIn audioInstance = _ArAudioIn::GetArAudioInstance();

    g_signal_connect (videoSink, "new-buffer",  G_CALLBACK (AudioCallback), null);//AudioCallback static API
    g_signal_connect (audioSink, "new-buffer",  G_CALLBACK (VideoCallback), null);//VideoCallback static API

     //Set the pipeline to "playing" state
    GstStateChangeReturn state = gst_element_set_state (__pPipeline, GST_STATE_PLAYING);

    g_main_loop_run (loop);
    return null;
    }

I'm just getting a single video buffer in my Videocallback and also in the on_pad_addded : I'm getting a linking err for audio pad linking.
GST_PAD_LINK_NOFORMAT         = -4,

I'm trying to link the queue's sink pad to the pad recieved in on_pad_added, same is working for video but not for audio.

If anybody has any idea about this then please give me some pointers to get rid off this err and make this pipeline work. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T16:06:47.553

如果你在要求我们调试之前清理你的代码会很好。作为一般建议，检查返回值并记录警告或简单地退出（1）以确保您的管道设置正常工作（例如在 pad_added 处理程序中）。我也会开始使用普通的视频和音频接收器来检查它是否可以播放。

最后，从管道中提取数据通常是个坏主意。也许您可以在回调中有数据后告诉您要如何处理数据，以便我们提供更好的建议。

# php - 如何使用 Unicode Bangla 字符生成 PDF？

> ID：11184378
> 
> 赞同：4
> 
> 时间：2012-06-25T06:30:09.253
> 
> 标签：php, pdf, fpdf

我在使用 PHP 生成 PDF 格式的报告时遇到问题。我尝试过 FPDF、TCPDF 和 HTML2PDF 库，但它们不支持所有 Unicode 字符集。

TCPDF 支持捷克语 (cz)、丹麦语 (da)、德语 (de)、西班牙语 (es) 等。但我需要同时输出英语和孟加拉语文本。但是孟加拉语字符正在替换为`?`s。

是否有支持所有 Unicode 字符集的 PHP 库？如何使用 FPDF、TCPDF 或 HTML2PDF 输出孟加拉语字符集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:33:20.683

FPDF 有支持。请查看：[http ://www.fpdf.org/phorum/read.php?f=1&i=5142&t=5142](http://www.fpdf.org/phorum/read.php?f=1&i=5142&t=5142)

# r - 从纬度和经度计算角度

> ID：11184381
> 
> 赞同：3
> 
> 时间：2012-06-25T06:30:18.517
> 
> 标签：r, latitude-longitude, angle

我有一组 latitudes 和 longitudes ，所以这是动物随时间移动的数据。我想做的是计算转动角度，即每次运动之间转动的角度。所以说我有点 1、点 2 和点 3，每个点对应的纬度和经度值（动物从点 1 移动到点 2 到点 3 等等），我想计算这 3 个点之间的角度，点2 是中间点。我该怎么办？我的操作系统是 Windows，我正在使用 R 进行分析。

所以这是我的示例数据：

```
longitude                       latitude
36.89379547                0.290166977
36.89384037                0.290194109
36.88999724                0.286821044
36.88708721                0.288339411
36.88650313                0.29010232
36.88563203                0.289939416
36.88545224                0.290924863 
```

它们是十进制度

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-25T07:51:33.863

使用中的`trackAzimuth`函数`maptools`：

```
library(maptools)

trackAngle <- function(xy) {
    angles <- abs(c(trackAzimuth(xy), 0) -
                  c(0, rev(trackAzimuth(xy[nrow(xy):1, ]))))
    angles <- ifelse(angles > 180, 360 - angles, angles)
    angles[is.na(angles)] <- 180
    angles[-c(1, length(angles))]
} 
```

该`trackAzimuth`函数是一个简单的循环包装器`gzAzimuth`。有关`?gzAzimuth`计算球体方向的参考资料，请参阅。

使用您的数据：

```
x <- read.table(text = "longitude                       latitude
36.89379547                0.290166977
36.89384037                0.290194109
36.88999724                0.286821044
36.88708721                0.288339411
36.88650313                0.29010232
36.88563203                0.289939416
36.88545224                0.290924863", header = TRUE)

trackAngle(as.matrix(x))
[1]  10.12946 111.17211 135.88514  97.73801  89.74684 
```

编辑：我不得不从函数中删除第一个/最后一个角度，这是我在其他地方使用这个函数之后所做的事情。应该是现在。:)

此外，包`adehabitatLT`和`argosfilter`包含计算轨道方向和角度的函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:54:10.590

您的数据点仅在很小的范围内变化。我们可以看一小块地球表面，并假装它是平面的二维的。您必须计算出多少公里、米、英里，无论您最喜欢的单位是多少，对应于一个纬度和一个经度。后者取决于纬度——它与赤道附近的纬度比例相同，但如果你站在离北极一臂远的地方，一步将带你穿过 50 度。设置 x,y 坐标，其中 x=0 为经度 36.88000，y=0 为纬度 0.29000。

所以，现在你有一系列 (x,y) 点。将每个点的差异带到下一个点：P2-P1、P3-P2 等。这些可以称为“位移​​矢量”，但其他术语可能用于我来自的其他领域。称它们为 V1、V2 等。使用点积和范数： dot(V1,V2) = 幅度(V1)*幅度(V2)*cos(a) 其中 a 是 V2 偏离 V1 方向的角度。对 V3 和 V2 重复此操作，依此类推。

R 拥有执行此操作的所有工具，但我对 R 的语法了解不多，无法举出例子。

# node.js - Nodejs bigint 安装

> ID：11184387
> 
> 赞同：0
> 
> 时间：2012-06-25T06:31:12.993
> 
> 标签：node.js, bigint

我正在尝试安装 bigint：

[https://github.com/substack/node-bigint](https://github.com/substack/node-bigint)

但由于以下错误，我无法做到：

![在此处输入图像描述](../Images/261dd2708540bbad0436c85ea79d52fc.png)

npm-debug.log 文件包含：

```
info it worked if it ends with ok
verbose cli [ 'C:\\Program Files\\nodejs\\\\node.exe',
verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',
verbose cli   'install',
verbose cli   'bigint' ]
info using npm@1.1.21
info using node@v0.6.17
verbose C:\Program Files\nodejs\\node.exe node symlink
verbose config file C:\Users\rkara\.npmrc
verbose config file C:\Program Files\nodejs\etc\npmrc
verbose config file C:\Program Files\nodejs\node_modules\npm\npmrc
verbose caching C:\node\pazooza3\webrole1\package.json
verbose loadDefaults application-name@0.0.1
verbose caching C:\node\pazooza3\webrole1\node_modules\accounting\package.json
verbose loadDefaults accounting@0.3.2
verbose caching C:\node\pazooza3\webrole1\node_modules\azure\package.json
verbose loadDefaults azure@0.5.3
verbose caching C:\node\pazooza3\webrole1\node_modules\cron\package.json
verbose loadDefaults cron@0.3.2
verbose caching C:\node\pazooza3\webrole1\node_modules\ejs\package.json
verbose loadDefaults ejs@0.7.1
verbose caching C:\node\pazooza3\webrole1\node_modules\express\package.json
verbose loadDefaults express@2.5.8
verbose caching C:\node\pazooza3\webrole1\node_modules\http-get\package.json
verbose loadDefaults http-get@0.3.12
verbose caching C:\node\pazooza3\webrole1\node_modules\jade\package.json
verbose loadDefaults jade@0.25.0
verbose caching C:\node\pazooza3\webrole1\node_modules\node-uuid\package.json
verbose loadDefaults node-uuid@1.3.3
verbose caching C:\node\pazooza3\webrole1\node_modules\sprintf\package.json
verbose loadDefaults sprintf@0.1.1
verbose caching C:\node\pazooza3\webrole1\node_modules\underscore\package.json
verbose loadDefaults underscore@1.3.3
verbose from cache C:\node\pazooza3\webrole1\package.json
verbose readDependencies: using package.json deps
verbose cache add [ 'bigint', null ]
silly cache add: name, spec, args [ undefined, 'bigint', [ 'bigint', null ] ]
verbose parsed url { pathname: 'bigint', path: 'bigint', href: 'bigint' }
verbose addNamed [ 'bigint', '' ]
verbose addNamed [ null, '' ]
silly name, range, hasData [ 'bigint', '', false ]
verbose raw, before any munging bigint
verbose url resolving [ 'https://registry.npmjs.org/', './bigint' ]
verbose url resolved https://registry.npmjs.org/bigint
verbose etag "5IO0KO6KLRQHDBIRV0A68ADZ0"
http GET https://registry.npmjs.org/bigint
http 304 https://registry.npmjs.org/bigint
silly get cb [ 304,
silly get cb   { server: 'CouchDB/1.2.0 (Erlang OTP/R15B)',
silly get cb     etag: '"5IO0KO6KLRQHDBIRV0A68ADZ0"',
silly get cb     date: 'Mon, 25 Jun 2012 06:21:46 GMT',
silly get cb     'content-length': '0' } ]
verbose etag bigint from cache
silly name, range, hasData 2 [ 'bigint', '', true ]
silly versions [ 'bigint',
silly versions   [ '0.0.1',
silly versions     '0.0.2',
silly versions     '0.0.5',
silly versions     '0.0.6',
silly versions     '0.0.7',
silly versions     '0.0.8',
silly versions     '0.0.9',
silly versions     '0.0.10',
silly versions     '0.0.11',
silly versions     '0.0.12',
silly versions     '0.1.0',
silly versions     '0.2.0',
silly versions     '0.2.1',
silly versions     '0.2.2',
silly versions     '0.3.0',
silly versions     '0.3.1',
silly versions     '0.3.2',
silly versions     '0.3.3',
silly versions     '0.3.4',
silly versions     '0.3.5',
silly versions     '0.3.6',
silly versions     '0.3.7',
silly versions     '0.3.8',
silly versions     '0.3.9' ] ]
verbose bin dist [ '0.6-ares1.7.5-DEV-evundefined-openssl0.9.8r-v83.6.6.25-win32-ia32-6.1.7601',
verbose bin dist   { shasum: '0e32f5f685001a74b45d4fd9dd2e6fcbac335422',
verbose bin dist     tarball: 'http://registry.npmjs.org/bigint/-/bigint-0.3.9.tgz' } ]
verbose has wscript [ undefined,
verbose has wscript   { file: 'C:\\Users\\rkara\\AppData\\Roaming\\npm-cache\\bigint\\0.3.9\\package\\package.json',
verbose has wscript     gypfile: false,
verbose has wscript     contributors: false,
verbose has wscript     serverjs: false,
verbose has wscript     wscript: true } ]
verbose caching C:\Users\rkara\AppData\Roaming\npm-cache\bigint\0.3.9\package\package.json
verbose loadDefaults bigint@0.3.9
silly resolved [ { name: 'bigint',
silly resolved     version: '0.3.9',
silly resolved     description: 'Arbitrary-precision integer arithmetic using libgmp',
silly resolved     main: './index.js',
silly resolved     repository: 
silly resolved      { type: 'git',
silly resolved        url: 'git://github.com/substack/node-bigint.git' },
silly resolved     keywords: 
silly resolved      [ 'gmp',
silly resolved        'libgmp',
silly resolved        'big',
silly resolved        'bignum',
silly resolved        'bigint',
silly resolved        'integer',
silly resolved        'arithmetic',
silly resolved        'precision' ],
silly resolved     author: 
silly resolved      { name: 'James Halliday',
silly resolved        email: 'mail@substack.net',
silly resolved        url: 'http://substack.net' },
silly resolved     devDependencies: { tap: '~0.2.5', put: '~0.0.6' },
silly resolved     license: 'MIT/X11',
silly resolved     engine: { node: '>=0.2.0' },
silly resolved     scripts: { install: 'node-waf configure build', test: 'tap test/*.js' },
silly resolved     _id: 'bigint@0.3.9',
silly resolved     dependencies: {},
silly resolved     optionalDependencies: {},
silly resolved     engines: { node: '*' },
silly resolved     _engineSupported: true,
silly resolved     _npmVersion: '1.1.21',
silly resolved     _nodeVersion: 'v0.6.17',
silly resolved     _defaultsLoaded: true,
silly resolved     _from: 'bigint' } ]
info into C:\node\pazooza3\webrole1 bigint@0.3.9
info installOne bigint@0.3.9
verbose from cache C:\Users\rkara\AppData\Roaming\npm-cache\bigint\0.3.9\package\package.json
info unbuild C:\node\pazooza3\webrole1\node_modules\bigint
verbose unpack C:\Users\rkara\AppData\Roaming\npm-cache\bigint\0.3.9\package.tgz
silly gunzTarPerm modes [ '755', '644' ]
silly extracting entry .npmignore
silly modified mode [ '.npmignore', 438, 420 ]
silly extracting entry .travis.yml
silly modified mode [ '.travis.yml', 438, 420 ]
silly extracting entry bigint.cc
silly modified mode [ 'bigint.cc', 438, 420 ]
silly extracting entry examples/
silly modified mode [ 'examples/', 438, 493 ]
silly extracting entry examples/gen.js
silly modified mode [ 'examples/gen.js', 438, 420 ]
silly extracting entry examples/perfect.js
silly modified mode [ 'examples/perfect.js', 438, 420 ]
silly extracting entry examples/simple.js
silly modified mode [ 'examples/simple.js', 438, 420 ]
silly extracting entry index.js
silly modified mode [ 'index.js', 438, 420 ]
silly extracting entry package.json
silly modified mode [ 'package.json', 438, 420 ]
silly extracting entry README.markdown
silly modified mode [ 'README.markdown', 438, 420 ]
silly extracting entry test/
silly modified mode [ 'test/', 438, 493 ]
silly extracting entry test/arithmetic.js
silly modified mode [ 'test/arithmetic.js', 438, 420 ]
silly extracting entry test/bitwise.js
silly modified mode [ 'test/bitwise.js', 438, 420 ]
silly extracting entry test/bit_length.js
silly modified mode [ 'test/bit_length.js', 438, 420 ]
silly extracting entry test/buf.js
silly modified mode [ 'test/buf.js', 438, 420 ]
silly extracting entry test/cmp.js
silly modified mode [ 'test/cmp.js', 438, 420 ]
silly extracting entry test/create.js
silly modified mode [ 'test/create.js', 438, 420 ]
silly extracting entry test/gcd.js
silly modified mode [ 'test/gcd.js', 438, 420 ]
silly extracting entry test/invertm.js
silly modified mode [ 'test/invertm.js', 438, 420 ]
silly extracting entry test/mod.js
silly modified mode [ 'test/mod.js', 438, 420 ]
silly extracting entry test/pow.js
silly modified mode [ 'test/pow.js', 438, 420 ]
silly extracting entry test/primes.js
silly modified mode [ 'test/primes.js', 438, 420 ]
silly extracting entry test/rand.js
silly modified mode [ 'test/rand.js', 438, 420 ]
silly extracting entry test/seed.js
silly modified mode [ 'test/seed.js', 438, 420 ]
silly extracting entry test/shift.js
silly modified mode [ 'test/shift.js', 438, 420 ]
silly extracting entry wscript
silly modified mode [ 'wscript', 438, 420 ]
verbose has wscript [ undefined,
verbose has wscript   { file: 'C:\\node\\pazooza3\\webrole1\\node_modules\\bigint\\package.json',
verbose has wscript     gypfile: false,
verbose has wscript     serverjs: false,
verbose has wscript     contributors: false,
verbose has wscript     wscript: true } ]
verbose caching C:\node\pazooza3\webrole1\node_modules\bigint\package.json
verbose loadDefaults bigint@0.3.9
info preinstall bigint@0.3.9
verbose from cache C:\node\pazooza3\webrole1\node_modules\bigint\package.json
verbose readDependencies: using package.json deps
verbose from cache C:\node\pazooza3\webrole1\node_modules\bigint\package.json
verbose readDependencies: using package.json deps
silly resolved []
verbose about to build C:\node\pazooza3\webrole1\node_modules\bigint
info build C:\node\pazooza3\webrole1\node_modules\bigint
verbose from cache C:\node\pazooza3\webrole1\node_modules\bigint\package.json
verbose linkStuff [ false,
verbose linkStuff   false,
verbose linkStuff   false,
verbose linkStuff   'C:\\node\\pazooza3\\webrole1\\node_modules' ]
info linkStuff bigint@0.3.9
verbose linkBins bigint@0.3.9
verbose linkMans bigint@0.3.9
verbose rebuildBundles bigint@0.3.9
info install bigint@0.3.9
verbose unsafe-perm in lifecycle true
silly exec cmd "/c" "node-waf configure build"
silly spawning [ 'cmd',
silly spawning   [ '/c', 'node-waf configure build' ],
silly spawning   'C:\\node\\pazooza3\\webrole1\\node_modules\\bigint' ]
info bigint@0.3.9 Failed to exec install script
info unbuild C:\node\pazooza3\webrole1\node_modules\bigint
verbose from cache C:\node\pazooza3\webrole1\node_modules\bigint\package.json
info preuninstall bigint@0.3.9
info uninstall bigint@0.3.9
verbose unbuild bigint@0.3.9 [ true,
verbose unbuild bigint@0.3.9   'C:\\node\\pazooza3\\webrole1\\node_modules',
verbose unbuild bigint@0.3.9   'C:\\node\\pazooza3\\webrole1\\node_modules' ]
info postuninstall bigint@0.3.9
ERR! bigint@0.3.9 install: `node-waf configure build`
ERR! `cmd "/c" "node-waf configure build"` failed with 1
ERR! 
ERR! Failed at the bigint@0.3.9 install script.
ERR! This is most likely a problem with the bigint package,
ERR! not with npm itself.
ERR! Tell the author that this fails on your system:
ERR!     node-waf configure build
ERR! You can get their info via:
ERR!     npm owner ls bigint
ERR! There is likely additional logging output above.
ERR! 
ERR! System Windows_NT 6.1.7601
ERR! command "C:\\Program Files\\nodejs\\\\node.exe" "C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js" "install" "bigint"
ERR! cwd C:\node\pazooza3\webrole1
ERR! node -v v0.6.17
ERR! npm -v 1.1.21
ERR! code ELIFECYCLE
ERR! message bigint@0.3.9 install: `node-waf configure build`
ERR! message `cmd "/c" "node-waf configure build"` failed with 1
ERR! errno {}
verbose exit [ 1, true ] 
```

有没有人成功安装 bigint，如果是，您是否遇到并解决了这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:13:56.160

问题在于 node-waf，它是构建系统 waf 的包装器。目前在 Windows 上不可用。有一个 Node 版本应该可以解决这里的问题：http: [//blog.nodejs.org/2012/01/23/node-v0-7-1/](http://blog.nodejs.org/2012/01/23/node-v0-7-1/)

没试过，但它是一个不稳定的版本，所以不要抱太大希望。在linux下运行，问题就消失了。

# makefile - makefile 中的通配符是什么意思？

> ID：11184389
> 
> 赞同：16
> 
> 时间：2012-06-25T06:31:25.393
> 
> 标签：makefile

我在makefile教程中找到了以下几行，但粗体线有一些问题。

在 1 行中，如果我写

```
program_C_SRCS:=$(*.c) 
```

这没用。所以请告诉我这里的通配符是什么。这个词是特定于 makefile 的吗？

在教程中写到第二行将执行测试替换。谁能告诉我有关此文本替换的信息？

如果我的问题非常基本，请原谅我，因为我是制作文件的新手。

[教程链接](https://sites.google.com/site/michaelsafyan/software-engineering/how-to-write-a-makefile)

```
CC:=g++
program_NAME:=myprogram
**program_C_SRCS:=$(wildcard *.c)**  # 1 line 
program_CXX_SRCS:=$(wildcard *.cc)
**program_C_OBJ:=$(program_C_SRCS:.c=.o)** # 2 line
program_CXX_OBJ:=$(program_CXX_SRCS:.c=.o)
program_OBJ:= $(program_C_OBJ) $(program_CXX_OBJ) 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-25T11:37:07.210

假设您有两个源文件。`foo.c`和`bar.c`。

```
program_C_SRCS:=$(wildcard *.c) # 1 line 
```

该`wildcard`函数是 Make 语法。该变量`program_C_SRCS`现在将具有该值`foo.c bar.c`（可能不是该顺序）。

```
program_C_OBJ:=$(program_C_SRCS:.c=.o) # 2 line 
```

这是一个[替代参考](http://www.gnu.org/software/make/manual/make.html#Substitution-Refs)。它转换文本，用另一个子字符串替换一个子字符串。该变量`program_C_OBJ`现在具有值`foo.o bar.o`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-05T05:01:01.373

make 文件中通配符功能的使用是列出所有具有特定扩展名的源文件。例如：

```
program_C_SRCS:=$(*.c) // In this the variable program_C_SRCS will have all the files with ".c" extension. 
```

假设如果要将`.c`文件转换为`.o`文件，则以下语法可能有用：

```
program_C_OBJS:=$(patsubst %.c,%.o,$(wildcard *.c)) 
```

# php - MAMP 中的 phpunit 路径

> ID：11184392
> 
> 赞同：0
> 
> 时间：2012-06-25T06:31:34.123
> 
> 标签：php, phpunit, mamp

我在 MAMP 中使用 zend 框架正确安装 phpunit 时遇到了麻烦。

我创建了 zf 别名，每次创建新项目时，我都会收到“测试说明：在您的 include_path 中找不到 PHPUnit，因此不会创建任何测试操作。” 在终端。

我知道我已经安装了 phpunit。只需在终端中输入“phpunit”即可获得手册。我将它安装在“/Applications/MAMP/bin/php/php5.3.6/lib/php/PHPUnit”中。

我的 php.ini 文件中的 include_path 是 include_path = ".:/Applications/MAMP/bin/php/php5.3.6/lib/php:/Applications/MAMP/svn/zendframework/trunk/library"

如果我在终端中输入“which phpunit”，我会得到“/usr/local/bin/phpunit”，我认为这可能是问题所在。

任何想法将不胜感激！

# java - android中的路径交叉点

> ID：11184397
> 
> 赞同：5
> 
> 时间：2012-06-25T06:31:49.990
> 
> 标签：java, android, graphics, path, android-gesture

我的android代码中有2个路径对象。我一直尝试检查这些路径是否相交，但无法做到。如何检查路径是否相交。感谢任何好的回应，谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-19T07:53:02.520

Dheeraj 给出的答案可以回答您的问题：

[https://stackoverflow.com/a/9918830/1268168](https://stackoverflow.com/a/9918830/1268168)

***这是他的答案的复制和粘贴：***

我能想到的另一种方法适用于可以使用路径构造的简单对象。

一旦你有两个对象的边界由路径表示，你可以试试这个：

```
Path path1 = new Path();
path1.addCircle(10, 10, 4, Path.Direction.CW);
Path path2 = new Path();
path2.addCircle(15, 15, 8, Path.Direction.CW);

Region region1 = new Region();
region1.setPath(path1, clip);
Region region2 = new Region();
region2.setPath(path2, clip);

if (!region1.quickReject(region2) && region1.op(region2, Region.Op.INTERSECT)) {
    // Collision!
} 
```

将对象作为路径后，您可以使用 drawPath() 直接绘制它们。您还可以通过变换（）路径来执行移动。

根据我的理解，上面代码中的变量“clip”应该是路径的边界框。出于一般目的，我使用

```
Region clip = new Region(0, 0, layoutWidth, layoutHeight); 
```

布局宽度和高度可以是画布或活动的大小或其他任何内容。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-05-26T13:44:57.517

从 API 19 开始，`Path`现在有了一个[`op()`](http://developer.android.com/reference/android/graphics/Path.html#op%28android.graphics.Path,%20android.graphics.Path,%20android.graphics.Path.Op%29)方法。

```
boolean intersects = path.op(p1,p2,Path.Op.INTERSECT) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-25T07:01:49.597

看看[Region.op](http://developer.android.com/reference/android/graphics/Region.html#op%28android.graphics.Region,%20android.graphics.Region,%20android.graphics.Region.Op%29)

我没有尝试过，但我建议使用：

```
Region.setPath(Path path, Region clip); 
```

从您的两条路径中获取一个区域，然后您可以使用：

```
if (region1.op(region2,Region.Op.INTERSECT)) {
  // intersection
} 
```

检查交叉点...

# sql - 列引用另一列的 ERROR Column CHECK 约束

> ID：11184398
> 
> 赞同：3
> 
> 时间：2012-06-25T06:31:52.267
> 
> 标签：sql, sql-server-2008-r2

我使用 MS SQL 2008 R2，我需要在特定列上创建一个带有 CHECK 的表，但我收到此错误。你能指出我正确的方向吗？谢谢

```
HeatingSystem   tinyint             NOT NULL
    CONSTRAINT  CK_ReProperties_HeatingSystem   CHECK(Size between 0 and 3), 
```

**错误**

消息 8141，级别 16，状态 0，行 1 列 'HeatingSystem' 的列 CHECK 约束引用另一列，表 'ReProperties'。消息 1750，级别 16，状态 0，行 1 无法创建约束。请参阅以前的错误。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-25T07:09:26.703

在列级别内联定义的约束只能引用它们旁边定义的列。

将约束定义移动到正确的列旁边，或者将约束定义移动到表定义的末尾。

## 失败

```
CREATE TABLE HeatingSystem
(
Size INT,
HeatingSystem TINYINT CHECK(Size between 0 and 3)
) 
```

## 成功

```
CREATE TABLE HeatingSystem
(
Size INT CHECK(Size between 0 and 3),
HeatingSystem TINYINT
) 
```

## 也成功了

```
CREATE TABLE HeatingSystem
(
Size INT ,
HeatingSystem TINYINT,
CHECK(Size between 0 and 3 AND HeatingSystem BETWEEN 1 AND 10)
) 
```

最后一种方法还允许您声明引用多列的[行级](https://stackoverflow.com/a/9495030/73226)约束。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:52:33.130

这是我如何解决的。

```
HeatingSystem   tinyint             NOT NULL
    CONSTRAINT  CK_ReProperties_HeatingSystem   CHECK(HeatingSystem between 0 and 3), 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:53:29.550

有了你的评论，我不明白“大小”是从哪里来的......

你就不能做吗

```
CONSTRAINT  CK_ReProperties_HeatingSystem   CHECK(HeatingSystem between 0 and 3) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:59:04.960

我尝试了您的查询，它给了我错误，因为`Invalid column name 'Size'.`您应该写 columnname -`HeatingSystem` 代替`size`. 使用以下内容：-

```
HeatingSystem   tinyint             NOT NULL
 CONSTRAINT  CK_ReProperties_HeatingSystem   CHECK(HeatingSystem between 0 and 3), 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-03-02T22:14:05.430

您可能只是在单词 CONSTRAINT 之前缺少逗号分隔符！

例如）如果在下面的片段中（[WorkLocationId]）之后的“，”缺失，那么它将抛出 ERROR Column CHECK 约束，用于列引用另一个列错误。

这将引发错误 -

```
CREATE TABLE [MYSYSTEM].[User](
[UserId] int Primary key NOT NULL,
[UserName] [nvarchar](50) NULL,
[UserStatus] [nvarchar](1) NULL,
[CreatedDate] [Datetime] NOT NULL,
[WorkLocationId] int NOT NULL Foreign Key References [HRSYSTEM].[WorkLocations]([WorkLocationId])
CONSTRAINT [_UserStatusValues] CHECK ([UserStatus] IN ('A','I') )
) 
```

这将起作用 -

```
CREATE TABLE [MYSYSTEM].[User](
[UserId] int Primary key NOT NULL,
[UserName] [nvarchar](50) NULL,
[UserStatus] [nvarchar](1) NULL,
[CreatedDate] [Datetime] NOT NULL,
[WorkLocationId] int NOT NULL Foreign Key References [HRSYSTEM].[WorkLocations]([WorkLocationId]),
CONSTRAINT [_UserStatusValues] CHECK ([UserStatus] IN ('A','I') )
) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-09-10T16:03:07.567

只需使用表级约束，即将约束移动到表定义的末尾。

# c++ - 类地图类型的 C++ 模板特化

> ID：11184399
> 
> 赞同：1
> 
> 时间：2012-06-25T06:31:53.260
> 
> 标签：c++, templates

我想定义一个通用函数来打印`std::map`类似类型的内容。我最初的尝试是这样的功能：

```
template <class K, class V>
inline void PrintCollection(const std::map<K,V>& map,
                            const char* separator="\n",
                            const char* arrow="->",
                            const char* optcstr="") {
  typedef typename std::map<K,V>::const_iterator iter_type;
  std::cout << optcstr;
  for (iter_type begin = map.begin(), it = begin, end = map.end();
       it != end; ++it) {
    if (it != begin) {
      std::cout << separator;
    }
    std::cout << it->first << arrow << it->second;
  }
  std::cout << std::endl;
} 
```

效果很好。当我尝试将这个函数再推广一步，即让它适用于`std::multimap`类型时，编译器会生气。我尝试了几种方法`std::map`在函数定义中进行泛型，例如：

```
template <class M, class K, class V>
inline void PrintCollection(const M<K,V>& map,
                            const char* separator="\n",
                            const char* arrow="->",
                            const char* optcstr="") {
  typedef typename M<K,V>::const_iterator iter_type;
  std::cout << optcstr;
  for (iter_type begin = map.begin(), it = begin, end = map.end();
       it != end; ++it) {
    if (it != begin) {
      std::cout << separator;
    }
    std::cout << it->first << arrow << it->second;
  }
  std::cout << std::endl;
} 
```

没有成功。

我如何概括我上面定义的这个函数？

更清楚地说，我已经为在这个函数之前定义的类向量类定义了一个函数。它像是

```
template <class T>
inline void PrintCollection(const T& collection,
                            const char* separator="\n",
                            const char* optcstr="") {
  typedef typename T::const_iterator iter_type;

  std::cout << optcstr;

  for (iter_type begin = collection.begin(), it = begin, end = collection.end();
       it != end;
       ++it) {
    if (it != begin) {
      std::cout << separator;
    }
    std::cout << *it;
  }

  std::cout << std::endl;
} 
```

所以我想要实现它来使这个功能专门用于类似地图的类。我是 C++ 的新手，所以我不知道这类东西的确切术语。这是否称为“模板专业化”？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:37:27.177

像 stdlib 那样做，并在你的算法接口中使用迭代器。这是最通用的解决方案。

```
template<class Iter>
void PrintCollection(Iter first, Iter last,
                     const char* separator="\n",
                     const char* arrow="->",
                     const char* optcstr="") 
{
    typedef Iter iter_type;
    std::cout << optcstr;
    for (iter_type begin = first, it = begin, end = last;
        it != end; ++it) {
    if (it != begin) {
        std::cout << separator;
    }
    std::cout << it->first << arrow << it->second;
    }
    std::cout << std::endl;
}

int main()
{
    vector<pair<int, int>> collection;
    map<int, int> collection2;
    pair<int, int> collection3[3];

    PrintCollection(begin(collection), end(collection));
    PrintCollection(begin(collection2), end(collection2));
    PrintCollection(begin(collection3), end(collection3));
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:46:53.310

答案相当简单。

不依赖于类型名`K`和`V`函数。所以删除它们并制作一个通用模板。它可以同时用于`map`和`multimap`：

```
template <class AnyMap>
void PrintCollection(const AnyMap& map,
  ...
{
  typedef typename AnyMap::const_iterator iter_type; 
```

附带说明，使用`template`s，您不需要`inline`关键字。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:38:02.533

您可以使用模板模板参数

```
template<template<class, class> class M, class K, class V>
inline void PrintCollection(const M<K, V>& map, /* rest as before */)
{
    // rest as before
}

int main()
{
    std::map<int, int> m1;
    std::multi_map<int, int> m2;

    // fill both maps

    PrintCollection(m1);
    PrintCollection(m2);
} 
```

但正如 hansmaad 所指出的，您也可以使用一对迭代器而不是容器作为参数。一般来说，如果您`PrintCollection`的解决方案非常通用并且没有利用它具有`Key`and`Value`类型的事实，您会更喜欢该解决方案。OTOH，如果您`PrintCollection`还需要在将来的某个版本中打印该信息，那么您可能需要使用将这两种类型作为参数的模板模板参数。

# android - 创建外部 Jar 文件

> ID：11184407
> 
> 赞同：3
> 
> 时间：2012-06-25T06:32:17.863
> 
> 标签：android

我创建了一个库项目，可以在任何应用程序中用作参考项目。现在我想创建该库项目的 jar 文件，而不是引用库项目，我可以将创建的外部 jar 文件添加到构建路径并可以使用库项目组件。在 eclipse 中有什么方法可以这样做吗？ ?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:46:37.457

**使用 Eclipse IDE 的 JAR 文件**

使用 Eclipse IDE 创建 JAR 文件非常简单。遵循简单的步骤。右键单击要为其创建 JAR 文件的项目。并从上下文菜单中选择导出。

![在此处输入图像描述](../Images/ed79d4e5f8a873d69c99ed3c83935b9f.png)

从 Java 文件夹中选择 JAR 文件，然后单击下一步。

![在此处输入图像描述](../Images/effc91bb541df5f633725b27c9197a0e.png)

提供目标路径并单击完成以创建 JAR。

[在这里](https://stackoverflow.com/questions/4203447/how-to-add-jar-file-to-android-application)如何将 JAR 添加到您的项目中，您还可以创建 libs 文件夹并将您的 jar 拖放到此文件夹中

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T06:38:18.783

您将需要在 Eclipse 中导出该项目。以下是步骤： 1) 右键单击​​项目资源管理器视图中的项目。2) 点击 exprot 并输入 jar。3) 选择 jar 选项并通过给出适当的名称单击导出。

将创建 jar 文件，您可以通过将其添加到另一个项目的构建路径中来使用它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:47:31.963

是的，你可以在 Eclipse 中做到这一点......

//将项目导出为jar文件

右键单击所需的项目->导出项目->选择java->jarFile->选择要导出的项目并选择要保存的jar文件的目标->单击完成->将在所需的目标中创建jar文件

//包含jar文件

再次右键单击项目（要包含的jar文件）->选择属性->选择java构建路径->添加外部jar->选择jar文件->将包含jar文件。

# ios - UIDocument 打开/关闭行为

> ID：11184408
> 
> 赞同：2
> 
> 时间：2012-06-25T06:32:17.907
> 
> 标签：ios, objective-c, icloud, uidocument

我有一个基于 UIDocument 的应用程序，没有 iCloud 支持。用户可以创建文档，并将它们保存到应用程序的 Document 目录。

我还创建了一些“示例”文档，并将它们与应用程序的捆绑包一起传递。我希望用户能够像打开自己的文档一样打开示例文档：

```
NSArray *samplesContent = [[NSBundle mainBundle] URLsForResourcesWithExtension:@"doco" subdirectory:@"Samples"];

for (NSURL *sampleURL in samplesContent) {
    Doco *doco = [[Doco alloc] initWithFileURL:sampleURL];
    [doco disableEditing];

    [doco openWithCompletionHandler:^(BOOL success) {
        if (success) {
            [self.docos addObject:doco];

            if (self.docos.count >= samplesContent.count) {
                [self.tableView reloadData];
            }
        } else DLog(@"Failed to open %@", [sampleURL pathExtension]);
     }];
} 
```

我看到的是这样的：

1.  在 上`viewDidLoad`，docs 数组将填充示例文档，并在应用程序首次启动时显示在 tableView 中。这里没有问题，一切都很顺利和美好。
2.  然后我使用以下代码退出视图以关闭所有打开的文档：

    ```
    int count = 0;

    for (Doco *doco in self.docos) {
        if (doco.documentState == UIDocumentStateNormal) {
            [doco closeWithCompletionHandler:nil];
            count++;
        }
    }

    DLog(@"Closed %i docs", count); 
    ```

3.  当我再次打开视图时，应该再次填充文档数组并重新填充 tableView，但没有任何反应。

下面的完成处理程序永远不会被调用，尽管 URL 指向同一个文件并且它是有效的：

```
[doco openWithCompletionHandler:^(BOOL success) {} 
```

对于存储在 Documents 中的用户生成的文档，我没有这个问题，所以我的假设是它与自动保存有关，它在只读包上被调用并失败

但我有点卡在这部分，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-30T03:39:30.127

如果 UIDocument 已更新，它将尝试在关闭时保存更改。由于`UIDocument`是从只读包加载的，我必须确保它不会被更新，否则关闭块返回`success=NO`，并且文档没有关闭......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-17T08:26:34.343

问题已经确定，但我认为值得描述几个简单的解决方案，因为在应用程序包中包含示例文档并不少见。

### *所以问题是示例文档在关闭时尝试保存更改，但在只读应用程序包中保存无法成功。*

我认为这里有两个主要的解决方案：

1.  将示例文档复制到 Documents 目录中，可以将其与任何其他文档一样处理并成功保存（如果您希望保存用户对示例文档的编辑，请使用此方法）。

2.  防止文档尝试保存（对于只读示例文档）。

所以这里有一些简单的例子......

* * *

## 1\. 将示例文档复制到 Documents 目录中

在第一次启动时（或者实际上每当您决定“刷新”示例文档时），使用`NSFileManager`将文件复制到位：

```
- (void)refreshSampleDocuments
{
    NSArray *sampleFromURLs = [[NSBundle mainBundle] URLsForResourcesWithExtension:@"doc" subdirectory:@"Samples"];

    for (NSURL *sampleFromURL in sampleFromURLs) {

        NSString *sampleFilename = [sampleFromURL lastPathComponent];
        NSURL *sampleToURL = [[self documentsDirectoryURL] URLByAppendingPathComponent:sampleFilename];

        // ...
        // Do some checks to make sure you won't write over any user documents!
        // ....

        NSError *error;
        BOOL copySuccessful = [[NSFileManager defaultManager] copyItemAtURL:sampleFromURL toURL:sampleToURL error:&error];

        if (!copySuccessful) {
            // Handle error...
        }
    }
} 
```

* * *

## 2.防止示例文档尝试保存

这种方法要简单得多（对于只读文档），并且比试图阻止文档中可能出现的更新更容易。

当`closeWithCompletionHandler:`被调用时`UIDocument`，`autosaveWithCompletionHandler:`被调用以确保在关闭之前保存文档文件。这反过来调用`hasUnsavedChanges`以决定是否需要保存。所以如果`hasUnsavedChanges`返回`NO`，那么自动保存机制的*任何*调用都不会导致任何更改被写出。

*（NB 手动调用`saveToURL:forSaveOperation:completionHandler:`仍然会强制保存，无论`hasUnsavedChanges`返回什么。）*

因此，在您的子类中，如果文档是只读的`UIDocument`，则覆盖`hasUnsavedChanges`以返回。`NO`

```
@interface MyDocument : UIDocument

@property(nonatomic, getter = isReadOnly) BOOL readOnly;

@end

@implementation MyDocument

- (BOOL)hasUnsavedChanges
{
    return [self isReadOnly] ? NO : [super hasUnsavedChanges];
}

@end 
```

* * *

# report - 在 Pentaho Reporting API 中构建图表

> ID：11184413
> 
> 赞同：0
> 
> 时间：2012-06-25T06:32:42.030
> 
> 标签：report, pentaho

我正在使用 Pentaho Reporting 3.5 JAVA API 生成报告。我想在我的报告中绘制一些图表，但没有找到任何关于如何使用报告 api 绘制图表的信息。

是否可以使用此报告 API 绘制图表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T14:22:55.457

鉴于 pentaho 报表设计器能够生成图表这一事实，“是否可能”的答案是肯定的。

Pentaho Wiki 中有一些文档描述了一般方法。

[http://wiki.pentaho.com/display/Reporting/Pentaho+Charting+Extensions](http://wiki.pentaho.com/display/Reporting/Pentaho+Charting+Extensions)

要生成图表，您需要两个协作部分 - 一个数据收集器函数和一个图表表达式。数据收集器函数负责创建 JFreeChart 可以理解的 JFreeChart 数据集类型，并可用作绘制图表的输入数据。图表表达式用于根据收集的数据实际绘制图表。

这些函数的代码可以在“legacy-charts”子项目中找到。

我建议您首先使用报表设计器来获取工作图表配置。然后查看报告和图表元素及其子功能（通过查看 PRPT 文件或解析 prpt 文件并使用调试器，任何对您来说更容易的方法）。

在 Will Gorman 的“Pentaho Reporting 3.5 for Java Developers”一书中也有一些关于图表的很好的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T00:35:18.850

Pentaho 用于报告的报告 API 是 JFreeReport。我相信如果您需要一个 API 来绘制图表，您将需要[JFreeChart](http://www.jfree.org/jfreechart/)，因为它是 BI 平台使用的引擎。

# android - Android：在另一个元素下方和中间对齐一个元素

> ID：11184414
> 
> 赞同：7
> 
> 时间：2012-06-25T06:32:42.583
> 
> 标签：android, alignment

我有一个`ImageView`和`TextView`。我想将其放置`TextView`在图像视图下方，但中间与（沿水平轴）`TextView`的中间对齐。`ImageView`如果`TextView`更改中的文本变得更大或更小，则文本的中间始终需要与`ImageView`. 这可能`xml`吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-25T06:37:54.937

是的，您只是希望在`LinearLayout`设置`android:gravity`为`center_horizontal`.

像这样的东西：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center_horizontal"
    android:orientation="vertical"
    ... >

    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        ... />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        ... />

</LinearLayout> 
```

因为`TextView`的宽度是`wrap_content`，所以不需要设置它的重力。我会这样做只是为了安全（此外，我也可以将宽度设置`match_parent`为）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:37:06.270

设置`TextView` `android:layout_width="fill_parent"`和设置`android:gravity="center"`。`TextView`

我认为它对你有帮助。

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:51:08.330

您可以按如下方式使用 RealtiveLayout..

```
<RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center_horizontal"
    android:orientation="vertical"
    ... >

    <ImageView
        android:id="@+id/imageView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        ... />

    <TextView
        android:layout_below="@+id/imageView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
         />

</RelativeLayout> 
```

如果您希望您的 textview 仅为单行，则将以下属性添加到 TextView

机器人：省略号=“结束” 机器人：单线=“真”

使用给定的布局并将其添加到您现有的任何布局中，您将获得所需的结果..

希望这个解释对你有用..

# jquery - 对所有 Web 浏览器使用 keydown

> ID：11184420
> 
> 赞同：2
> 
> 时间：2012-06-25T06:33:10.883
> 
> 标签：jquery

有人可以帮助我，我如何将`keyCode`,which定义`charcode`为变量。下面是我的代码。但似乎在 Firefox 中不起作用。我已经尝试过 Google chrome 和 ie，它的工作正常。

```
 $(function() {
      $('#txtInput').keydown(function(event) {

      var Key = event.keyCode ? event.keyCode : event.which ? event.which : event.charCode;
            //number
        if (Key >= 48 && Key <= 57)
            return true;
        //numpad
        else if (Key >= 96 && Key <= 105)
            return true;
        //backspace,tab
        else if (Key >= 8 && Key <= 9)
            return true;
        else return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:34:34.503

我认为`event.which`足以检查`keyCode`所有浏览器并正常工作。

根据 jQuery 文档：

> event.which属性规范**了****event.keyCode**和 **event.charCode**。建议观看**event.which**作为键盘键。******`input`******

 *********更多的***

> **event.which**还标准化按钮按下（mousedown 和 mouseupevents），报告*1 为 left button*，*2 为 middle*，*3 为 right*。使用**event.which**而不是**event.button**。

***代码***

```
$('#txtInput').keydown(function(event) {

    var Key = event.which;
    //number
    if (Key >= 48 && Key <= 57) {
        alert('number');
        return true;
    }
    //numpad
    else if (Key >= 96 && Key <= 105) {
        alert('numpad');
        return true;
    }
    //backspace,tab
    else if (Key >= 8 && Key <= 9) {
        alert('backspace, tab');
        return true;
    }
    else return false;
}); 
```

**[工作样本](http://jsfiddle.net/gqcn5/2/)**

### 阅读更多关于[event.which](http://api.jquery.com/event.which/)******

# php - 用 CakePHP 寻找 invalidFields()

> ID：11184425
> 
> 赞同：0
> 
> 时间：2012-06-25T06:33:55.460
> 
> 标签：php, validation, cakephp

我试图找出如何从我的 validate() 数组中获取实际消息，该数组包含在我的模型中验证提交的所有规则。

基本上我正在发布 ajaxily 并且我想返回表单中验证失败的所有错误消息，但即使它们通过了验证，它仍然会发送它们。

所以在我的

`SubmissionsController`我正在这样做：

```
if ($this->request->is('ajax')) {
    $formData = $this->Submission->invalidFields();
    $this->set(compact('formData'));
} 
```

在我的`Submission`模型中，我有：

```
 var $validate = array(
    'title' => array(
        'title' => array(
            'rule' => 'notEmpty',
            'required' => true,
            'allowEmpty' => false,
            'message' => 'Please enter a title'
        ),
        'minLength' => array(
            'rule' => array('minLength', 5),
            'message' => 'Please make your title longer (e.g. IJL John F. Kennedy donated his presidential salary to charity)'
        ),
        'maxLength' => array(
            'rule' => array('maxLength', 300),
            'message' => 'Your title needs to be shorter'
        ),
    ),
    'description' => array(
        'shortDescription' => array(
            'rule' => array('shortDescription'),
            'message' => 'Your description needs to be longer'
        ),
        'longDescription' => array(
            'rule' => array('longDescription'),
            'message' => 'Your description needs to be shorter'
        ),
    ),
    'source' => array(
        'source' => array(
            'rule' => 'notEmpty',
            'required' => true,
            'allowEmpty' => false,
            'message' => 'Enter a valid source URL (e.g. http://en.wikipedia.org/wiki/Penguins)'
        ),
        'website' => array(
            'rule' => 'url',
            'message' => 'Enter a valid source URL (e.g. http://en.wikipedia.org/wiki/Penguins)'
        ),
    ),
    'category' => array(
        'category' => array(
            'rule' => 'notEmpty',
            'required' => true,
            'allowEmpty' => false,
            'message' => 'Please choose a category'
        )

    )
); 
```

在我的`Submissions/json/submit.ctp`文件中，我有：

```
<?php
$fragment = $this->element('errors/flash_error');
$toReturn = array(
    'formData' => $formData
    );

echo json_encode($toReturn); 
```

如果我输入了有效的标题或任何其他有效字段，我仍然会收到错误消息，而不是什么也没有。

`invalidFields()`为了不返回已通过验证的字段，我是否缺少某些东西？

编辑：

正如 Leo 在下面建议的那样，我之前没有调用 save`invalidFields()`

正确的代码应该是：

```
 if ($this->Submission->save($this->request->data)) {
                $formData = null;
            } else {
                $formData = $this->Submission->invalidFields();
            }
            $this->set(compact('formData')); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T17:53:20.673

您正在通过 save() 调用或 validates() 调用 invalidFields() 而不进行验证！

# java - java多线程中面临的问题

> ID：11184427
> 
> 赞同：1
> 
> 时间：2012-06-25T06:33:58.687
> 
> 标签：java, multithreading

我在多线程期间读取广播数据的流数据捕获中面临一个问题，请帮助或建议，

实际上有一个类正在从一个 udp 套接字读取数据。另一个类接受来自每个客户端请求的 tcp 连接，为每个客户端创建一个线程并为数据请求相同的 udp 类。事情正在使用创建的第一个线程。但是当我从另一个 pc/ip 向另一个客户端请求时，数据包会丢失到第二个客户端/线程

我通过创建一个存储线程输出流对象并循环它以将数据发送到所有客户端的列表来解决此问题。但这只是暂时的，因为如果客户端/连接增加，它会延迟数据包。

读取 UDP 数据的代码

```
 public class EventNotifier    
    {
      private InterestingEvent ie;
      public DatagramSocket clientSocket;
      public String[] split_str;

      byte[] receiveData;

      HashMap<String, String> secMap = new HashMap<String, String>();

      public EventNotifier(InterestingEvent event)
      {
        ie = event; 
     clientSocket = new DatagramSocket(9050);
        receiveData = new byte[500];
      }

      public String getDataFeed(String client_id)
      {
        try 
        {
             DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);
             clientSocket.receive(receivePacket);
             String s = new String(receivePacket.getData());
             String split_str = s.split(","); 
             if(secMap.containsValue(split_str[0]))
                  return s;
             else
                  return "";
             } catch(Exception e3) {}
      }
     }// end of eventNotifier class 
```

多线程处理客户端请求的代码

```
public class multiServer 
{

    static protected List<PrintWriter> writers = new ArrayList<PrintWriter>();
    static String client_id = "";
    public static void main(String[] args)
    { 
       try
       {
           ServerSocket servsock = new ServerSocket(8858);
           Socket incoming;
           while(true)
           {
             incoming = servsock.accept();
             multiServerThread  connection = new multiServerThread(incoming);

             Thread t1 = new Thread(connection);
             t1.start();
           }
       }
       catch(IOException e)
       {
            System.out.println("couldnt make socket");
       }
    }
}

class multiServerThread extends Thread implements InterestingEvent
{

    Socket incoming;
    PrintWriter out=null;
    PrintWriter broad=null;
    BufferedReader in = null;
    String cliString=null;
    private EventNotifier en; 
    int id;

    public static String udp_data;

    public void interestingEvent(String str1)
    {
          this.udp_data = str1;
    }
    public String getUdpData()
    {
      String _udp_data = this.udp_data;
      return _udp_data;
    }
    multiServerThread(Socket incoming)
    {  
        this.incoming=incoming;
        en = new EventNotifier(this);
    } 
    public void run()
    {
        try
        {
            out = new PrintWriter(incoming.getOutputStream(), true);
            in = new BufferedReader(new InputStreamReader(incoming.getInputStream()));
        cliString = in.readLine();
        multiServer.writers.add(out);
        while(true)
                {
               try
                   {
                    udp_data = en.getDataFeed(cliString);
                    if(udp_data!=null && udp_data.length()>0)
                    {
              //workaround for serving the data to all cleints who are connected    
                        for (int i=0; i<multiServer.writers.size();i++)
                        {
                            broad=multiServer.writers.get(i);
                            broad.println(udp_data.trim());
                        }
             //else will directly write to the outputstream object for every thread which is connected
             // out.println(udp_data.trim());
                    }

               }
               catch (Exception e)
               {
                 System.out.println("exception "+e);
               }
               Thread.sleep(1);

            }
        } catch(IOException e)
        {
            System.out.print("IO Exception :: "+ e);
        }
        catch(InterruptedException e)
        {
            System.out.print("exception "+ e);
        }        
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:19:04.490

您需要互斥（或不同的设计）。

例如，如果两个线程`multiServer.writers.add(out);` 同时调用会发生什么？

来自 ArrayList Javadocs

> 请注意，此实现不同步。如果多个线程同时访问一个 ArrayList 实例，并且至少有一个线程在结构上修改了列表，则必须在外部进行同步。（结构修改是添加或删除一个或多个元素的任何操作，或 [...]）

另一个问题是两个同时调用`udp_data = en.getDataFeed(cliString);`。第二个线程可能会覆盖第一个线程的结果。你会丢失数据！

如果一个线程调用`for (int i=0; i<multiServer.writers.size();i++)`而另一个线程忙于做会发生什么`multiServer.writers.add(out);`？大小可能已经增加，之前`out`实际上已经添加到列表中！

```
public class multiServer 
{

    private List<PrintWriter> writers = new ArrayList<PrintWriter>();

    public synchronized void addWriter(PrintWrite out) {
         writers.add(out);
    }
    public synchronized void serveAllWriters(String data) {
         for (int i=0; i<multiServer.writers.size();i++)
         {
             broad=multiServer.writers.get(i);
             broad.println(data);
         }
    }
} 
```

现在，当一个线程试图添加一个 writer 时，`synchronized`s 将确保没有其他线程正在执行`add`或打印。所以`multiServerThread`应该修复使用新方法：

```
class multiServerThread extends Thread implements InterestingEvent
{
      //...
      private String udp_data;
      //...
      myMultiServer.addWriter(out);

      //...
      udp_data = en.getDataFeed(cliString);
      if(udp_data!=null && udp_data.length()>0)
            myMultiServer.serveAllWriters(udp_data.trim());
      //...
} 
```

可能还有更多问题，不确定我不完全理解您的代码。您必须问自己的问题是，另一个线程可以读取和/或写入相同的数据或对象吗？是的？然后你需要适当的同步。

# magento-1.6 - 如何在magento中设置媒体图像属性

> ID：11184431
> 
> 赞同：0
> 
> 时间：2012-06-25T06:34:25.670
> 
> 标签：magento-1.6

您好，我是磁电机的新手。我正在尝试添加新属性以浏览图像。所以我成功创建了具有媒体类型的新属性，但问题是它在管理面板产品页面上不可见。我还在默认属性集中设置了新属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T14:25:51.550

新的图像上传属性成为标准图像上传器的一部分。您会注意到那里有一个新的单选按钮选项卡。

# java - 无法让 Spring 2.5 与 Tomcat 5 一起工作

> ID：11184435
> 
> 赞同：0
> 
> 时间：2012-06-25T06:34:44.883
> 
> 标签：java, spring, tomcat

我正在编写一个在 Apache Tomcat 5.0 和 JDK 1.4.2 之上使用 Spring Framework 2.5 的 Web 项目。

当 Tomcat 启动时，它从未加载过 Spring。

Web.xml 如下所示：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
id="WebApp_ID" version="2.5">
<display-name>TestSpring25Web</display-name>
<listener>
    <description>
  loads the spring application context on startup
</description>
    <display-name>spring application context loader listener</display-name>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/web-applicationContext.xml</param-value>
</context-param>
<context-param>
    <param-name>locatorFactorySelector</param-name>
    <param-value>
  classpath:Spring-config.xml
</param-value>
</context-param>
<context-param>
    <param-name>parentContextKey</param-name>
    <param-value>businessBeanFactory</param-value>
</context-param>
<welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
</welcome-file-list>
<resource-ref>
    <description>DB Connection</description>
    <res-ref-name>jdbc/TestDB</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
</resource-ref>
<servlet>
    <description></description>
    <display-name>QueryDS</display-name>
    <servlet-name>QueryDS</servlet-name>
    <servlet-class>servlet.QueryDS</servlet-class>
</servlet>
<!-- DWR -->
<servlet>
    <display-name>DWR Servlet</display-name>
    <servlet-name>dwr-invoker</servlet-name>
    <servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>
    <init-param>
        <param-name>debug</param-name>
        <param-value>true</param-value>
    </init-param>
</servlet>
<servlet-mapping>
    <servlet-name>QueryDS</servlet-name>
    <url-pattern>/QueryDS</url-pattern>
</servlet-mapping>
<servlet-mapping>
    <servlet-name>dwr-invoker</servlet-name>
    <url-pattern>/dwr/*</url-pattern>
</servlet-mapping>
</web-app> 
```

“web-applicationContext.xml”就像：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:aop="http://www.springframework.org/schema/aop"
xmlns:tx="http://www.springframework.org/schema/tx"
xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
http://www.springframework.org/schema/tx
http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
http://www.springframework.org/schema/aop
http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

</beans> 
```

控制台给了我以下日志堆栈跟踪：

严重：配置类 org.springframework.web.context.ContextLoaderListener java.lang.ClassNotFoundException 的应用程序侦听器时出错：org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1680 处的 org.springframework.web.context.ContextLoaderListener ) 在 org.apache.catalina.core.StandardContext 的 org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4149) 的 org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)。在 org.apache.catalina.core.StandardHost.start(StandardHost.java:840) 在 org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057) 在 org.apache 开始(StandardContext.java:4705) .catalina.core.ContainerBase.start(ContainerBase.java:1057) 在 org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463) 在 org.apache.catalina.core.StandardService.start(StandardService.java:525) 在 org.apache.catalina.core.StandardServer.start(StandardServer.java:754) 在 org.apache.catalina.startup.Catalina .start(Catalina.java:595) 在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 在 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) ) 在 java.lang.reflect.Method.invoke(Method.java:597) 在 org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) 在 org.apache.catalina.startup.Bootstrap.main( Bootstrap.java:414) 25/06/2012 5:16:28 PM org.apache.catalina.core.StandardContext listenerStart 严重：由于先前的错误而跳过安装应用程序侦听器 25/06/2012 5:16:28 PM org.apache。catalina.core.StandardContext start SEVERE: Error listenerStart 25/06/2012 5:16:28 PM org.apache.catalina.core.StandardContext start SEVERE: Context [/TestSpring25Web] 由于先前的错误而启动失败

任何人都可以提供一些想法吗？谢谢！

干杯，亚历克斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:11:09.290

根据您在类路径中缺少 spring jar 的错误，最简单的解决方案是将 spring jar（包含类 org.springframework.web.context.ContextLoaderListener 的那个）复制到 tomcat 下的 lib 文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:29:14.027

你在使用 Maven 吗？您完全有可能在不同的 Spring 工件之间存在版本不匹配，其中一个调用的是您所依赖的其他工件的旧依赖项。我已经在以前看到过这一点`ClassNotFoundException`。

1.  确保在类路径上拥有所有应有的依赖项（可能`spring-web`）
2.  确保没有依赖版本冲突
3.  如果可能，认真考虑尝试使用所有内容的更新版本！

# java - 请为 Java 推荐一个基于图形的 PDF 生成器

> ID：11184439
> 
> 赞同：0
> 
> 时间：2012-06-25T06:35:05.690
> 
> 标签：java, pdf, itext, pdfsharp

我目前在 .NET 中使用[PDF Sharp](http://www.pdfsharp.net/)生成 PDF 文档，由于这些类型的文档的格式，这些文档大量使用直接绘图方法来生成输出。这是一种有效的格式，可以创建非常小但非常详细的基于矢量的文档。

我现在需要在 Java 中做同样的事情。我过去曾使用过 iText，但发现它具有限制性，并且必须嵌入图像，这使得文档非常大并且无法很好地缩放。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:41:39.183

在 iText 中，您也可以使用直接绘图。您可以在图形设备上使用 iText API 甚至 awt API。画线示例：

```
PdfContentByte cb = writer.getDirectContentUnder();
cb.saveState();
cb.setLineWidth(1.2);
cb.setColor(BaseColor.DARK_GRAY);
cb.moveTo(x, y);
cb.lineTo(x + width, y);
cb.stroke();
cb.restoreState(); 
```

# html - Copperplate Gothic 字体在某些版本的 Firefox 中不起作用

> ID：11184446
> 
> 赞同：0
> 
> 时间：2012-06-25T06:35:55.147
> 
> 标签：html, css, firefox, fonts

Copperplate Gothic 字体在某些版本的 Firefox 中无法正常工作。而在其余浏览器中完美运行。当我按照说明在安全模式下重新启动 Firefox 时，问题不会在安全模式下发生。根据 Firefox 问题的故障排除和诊断说明，如果在安全模式下没有出现问题，则很可能是因为硬件加速。当我关闭硬件加速时，问题不再发生，那么硬件加速可能是导致此问题的原因。我如何在不更改字体的情况下为已部署站点上的 Firefox 解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:14:37.240

我向 mozilla firefox 支持发布了问题（https://support.mozilla.org/en-US/questions/930600）。让我们看看他们的反应。

# html - 使用安全登录抓取特定区域的网站内容

> ID：11184447
> 
> 赞同：0
> 
> 时间：2012-06-25T06:35:59.627
> 
> 标签：html, curl, scrape

我正在尝试抓取网站的一些特定文本，这些文本是登录保护的，这里是使用 curl [http://www.digeratimarketing.co.uk/2008/12/16/curl-page-scraping-script/的教程](http://www.digeratimarketing.co.uk/2008/12/16/curl-page-scraping-script/)

但我无法在我的 curl 代码中实现这一点，这是我的 curl 脚本

```
$url = "http://aftabcurrency.com/login_script.php";

$ch = curl_init();    
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 

curl_setopt($ch, CURLOPT_URL, $url); 
$cookie = 'cookies.txt';
$timeout = 30;

curl_setopt ($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_TIMEOUT,         10); 
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT,  $timeout );
curl_setopt($ch, CURLOPT_COOKIEJAR,       $cookie);
curl_setopt($ch, CURLOPT_COOKIEFILE,      $cookie);

curl_setopt ($ch, CURLOPT_POST, 1); 
curl_setopt ($ch,CURLOPT_POSTFIELDS,"user_name=user&user_password=pass&passcode=code");     

$result = curl_exec($ch); 
curl_close($ch); 
$source = $result;
if(preg_match("/(CC3300\">)(.*?)(<\/font>)/is",$source,$found)){
echo $found[2];
}else{
echo "Text not found.";
} 
```

例如在 aftabcurrency.com 中，我只希望废弃“我们的服务很重要！” （此文本每天都在更改）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T18:49:35.150

我要做的是在开始和开始之间“剪切”一个文本......在源代码中，文本以文本颜色 613A75 开始，并带有结束 </font> 标记。这是一个正则表达式解决方案：

```
$source = file_get_contents("http://aftabcurrency.com/index.php");
if(preg_match("/(613A75\">)(.*?)(<\/font>)/is",$source,$found)){
echo $found[2];
}else{
echo "Text not found.";
} 
```

如果您想在成员区域内使用您的文本执行此操作，请将我的源代码添加到您的源代码中，并将 $source = file_get_contents... 替换为 $source = $result

还有其他方法可以做到这一点，DomDocument 和 xpath 或简单的 strpos / strstr / substr php 函数。

# spring - JSF+Spring+hibernate 出错

> ID：11184449
> 
> 赞同：0
> 
> 时间：2012-06-25T06:36:05.300
> 
> 标签：spring, hibernate, jsf

我正在尝试将 JSF 与 spring 和 hibernate 集成。

以下是我的代码：

LeaveBean.java

```
 package com.nagra.bean;

    import java.io.Serializable;
       import java.sql.SQLException;
     import java.text.DateFormat;
     import java.text.SimpleDateFormat;
     import java.util.ArrayList;
    import java.util.Date;
      import java.util.List;
  import java.util.Properties;

   import javax.annotation.Resource;
    import javax.faces.bean.ManagedBean;
  import javax.faces.bean.SessionScoped;
   import javax.mail.Message;
      import javax.mail.MessagingException;
    import javax.mail.Session;
    import javax.mail.Transport;
    import javax.mail.internet.InternetAddress;
     import javax.mail.internet.MimeMessage;

  import org.hibernate.HibernateException;

     import com.nagra.leaveapp.BO.LeaveInfoBo;
   import com.nagra.leaveapp.model.LeaveInfo;

  @ManagedBean(name="customer")
       @SessionScoped
     public class LeaveBean implements Serializable{

/**
 * 
 */
//private LeaveAppDo leaveAppDo=new LeaveAppDo();
LeaveInfoBo leaveinfoBo;

public LeaveInfoBo getLeaveinfoBo() {
    return leaveinfoBo;
}
public void setLeaveinfoBo(LeaveInfoBo leaveinfoBo) {
    this.leaveinfoBo = leaveinfoBo;
}

private String total_sick_leave;
private String total_paidoff_leave;
private String start_date;
private String end_date;
private String reason;
private String status;
private Date secondDate;

public Date getSecondDate() {
    return secondDate;
}
public void setSecondDate(Date secondDate) {
    this.secondDate = secondDate;
}
public String getTotal_sick_leave() {
    return total_sick_leave;
}
public void setTotal_sick_leave(String total_sick_leave) {
    this.total_sick_leave = total_sick_leave;
}
public String getTotal_paidoff_leave() {
    return total_paidoff_leave;
}
public void setTotal_paidoff_leave(String total_paidoff_leave) {
    this.total_paidoff_leave = total_paidoff_leave;
}
public String getStart_date() {
    return start_date;
}
public void setStart_date(String start_date) {
    this.start_date = start_date;
}
public String getEnd_date() {
    return end_date;
}
public void setEnd_date(String end_date) {
    this.end_date = end_date;
}
public String getReason() {
    return reason;
}
public void setReason(String reason) {
    this.reason = reason;
}
public String getStatus() {
    return status;
}

public void setStatus(String status) {
    this.status = status;
}

private static final long serialVersionUID = 1L;
//resource injection
@Resource(name="jdbc/leaveapp")
//private DataSource ds;

//if resource inject is not support, you still can get it manually.
/*public CustomerBean(){
    try {
        Context ctx = new InitialContext();
        ds = (DataSource)ctx.lookup("jdbc:mysql://localhost:3306/leaveapp");
    } catch (NamingException e) {
        e.printStackTrace();
    }

}*/

public List<LeaveInfo> getCustomerList() throws SQLException{
    System.out.println("Getting In " );

    return null;

    //  return leaveinfoBo.retrieveData();

}

public String addCustomer() throws HibernateException 
{
    /* String url = "jdbc:mysql://localhost:3306/leaveapp"; 
    Connection con = DriverManager.getConnection(url,"root","root");

    System.out.println(con);

    if(con==null)
        throw new SQLException("Can't get database connection");
    String sql="insert into leaveinformation(start_date,end_date,reason,status)values(?,?,?,?)";
    java.util.Date utilDate = new Date();
    // Convert it to java.sql.Date
    java.sql.Date date = new java.sql.Date(utilDate.getTime());
     java.sql.Timestamp  sqlDate = new java.sql.Timestamp(new java.util.Date().getTime());*/
     DateFormat formatter ; 
      try
      {
         System.out.println("Start date " + getStart_date());
      formatter = new SimpleDateFormat("yyyy-MM-dd");
      Date startDate = formatter.parse(LeaveBean.this.getStart_date());
      System.out.println(startDate);

      Date endDate = formatter.parse(LeaveBean.this.getEnd_date());

//    Days d = Days.daysBetween(startDate,endDate);
    //  int days = d.getDays();
      @SuppressWarnings("deprecation")
    java.sql.Date startdate=new java.sql.Date(startDate.getDate());
      @SuppressWarnings("deprecation")
    java.sql.Date enddate=new java.sql.Date(endDate.getDate());
    /* System.out.println("Today is " +date );
     PreparedStatement ps 
        = con.prepareStatement(sql);
    ps.setDate(1,startdate,Calendar.getInstance(Locale.ENGLISH));
    ps.setDate(2,enddate,Calendar.getInstance(Locale.ENGLISH));
    ps.setString(3,CustomerBean.this.reason);
    ps.setString(4,"Waiting");*/
      LeaveInfo leave = new LeaveInfo();
      System.out.println("Entering addCustomer()  ");
      leave.setEnd_date(enddate);
      leave.setStart_date(startdate);
      leave.setReason(reason);
      leave.setStatus("Waiting");
     System.out.println(leave.toString());
     leaveinfoBo.save(leave);
     clearall();
    // Insert the row
  /*  ps.executeUpdate();
    con.close();*/

     sendmail();

      }
      catch(Exception e)
      {
          System.out.println("There is an error " + e.getStackTrace().toString());
          e.printStackTrace();
      }
      return "";
}

 private void clearall() {
    // TODO Auto-generated method stub
    setEnd_date("");
    setStart_date("");  
    setReason("");
    setStatus("");
}
public String sendmail()
 {
        // Recipient's email ID needs to be mentioned.
     String to = "nsbharathi88@gmail.com";

     // Sender's email ID needs to be mentioned
     String from = "web@gmail.com";

     // Assuming you are sending email from localhost
     String host = "localhost";

     // Get system properties
     Properties properties = System.getProperties();

     // Setup mail server
     properties.setProperty("mail.smtp.host", host);

     // Get the default Session object.
     Session session = Session.getDefaultInstance(properties);

     try{
        // Create a default MimeMessage object.
        MimeMessage message = new MimeMessage(session);

        // Set From: header field of the header.
        message.setFrom(new InternetAddress(from));

        // Set To: header field of the header.
        message.addRecipient(Message.RecipientType.TO,
                                 new InternetAddress(to));

        // Set Subject: header field
        message.setSubject("This is the Subject Line!");

        // Now set the actual message
        message.setText("This is actual message");

        // Send message
        Transport.send(message);
        System.out.println("Sent message successfully....");
     }catch (MessagingException mex) {
        mex.printStackTrace();
     }
     return "";
  }

 } 
```

应用程序上下文.xml

```
 <beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

<!-- Database Configuration -->
<import resource="classes/spring/database/DataSource.xml"/>
<import resource="classes/spring/database/Hibernate.xml"/>

<!-- Beans Declaration -->
<import resource="classes/spring/bean/LeaveApp.xml"/>

  </beans> 
```

当我在 tomcat 服务器上运行它时出现以下错误：

```
 Start date 2012-02-03
            java.lang.NullPointerException
       at com.nagra.bean.LeaveBean.addCustomer(LeaveBean.java:167)
            Fri Feb 03 00:00:00 IST 2012
         Entering addCustomer()  
     LeaveInfo [id=0, total_sick_leave=15, total_paidoff_leave=15, start_date=1970-01- 01, end_date=1970-01-01, reason=cfklsn, status=Waiting]
    There is an error [Ljava.lang.StackTraceElement;@fc644a
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.apache.el.parser.AstValue.invoke(AstValue.java:262)
at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)
at  com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)
at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
at javax.faces.component.UICommand.broadcast(UICommand.java:315)
at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)
at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:250)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:166)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
at java.lang.Thread.run(Thread.java:619) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:08:33.070

我认为，您的 startdate 和 enddate 是 String 类型，将其更改为 java.util.Date 并尝试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T09:02:22.590

开始日期=1970-01-01

您的开始日期中有一个空格。它不会解析。

# python - == 与 Python 中的 in 运算符

> ID：11184450
> 
> 赞同：-8
> 
> 时间：2012-06-25T06:36:09.953
> 
> 标签：python, if-statement, equals

我对python中的比较运算符有疑问。我想知道这是对还是错。

我有某些分配给变量的输出。所以让我们说：

```
result1, result2, result3 
```

现在我做一个比较

```
if result1 == 0 and result2 == 0 and result3 == 0: 
    print "Success "
else:
    print "failure" 
```

我怀疑这种比较可以用这种格式完成吗

```
if 0 in (result1 , result2 ,result3):
    print "Success"
else :
    print "failure" 
```

使用 Python 是否正确？如果不是，那是什么原因？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T06:38:16.093

您可以进行比较，但您的第二次比较与第一次的比较不同。

`True`仅当每个变量为 0 时才会进行此比较：

```
if result1 == 0 and result2 == 0 and result3 == 0: 
```

此比较将`True`在至少一个变量为 0 时进行：

```
if 0 in (result1, result2, result3): 
```

如您所见，这并不完全相同。要执行相同的比较，您可以执行以下操作：

```
if (0, 0, 0) == (result1, result2, result3): 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-25T06:38:07.893

```
if 0 in (result1, result2, result3): 
```

相当于：

```
if result1==0 or result2==0 or result3==0: 
```

你想要的是这样的：

```
if (0,0,0) == (result1, result2, result3): 
```

这相当于：

```
if result1==0 and result2==0 and result3==0: 
```

你甚至可以这样做：

```
if result1==result2==result3==0: 
```

因为您正在检查所有 3 个变量是否都相等。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-25T06:45:04.167

在您的第二个示例中，如果任何值为“0”并且不等于`and`.

如果您有多个结果并想确认它们是否都匹配给定值，我建议使用该`all()`函数：

```
results = [0, 1, 0]
if all(result == 0 for result in results):
    print "Success"
else:
    print "Failure" 
```

或使用`any()`

```
if not any(results):
    print "Success"
... 
```

然而，这种逆逻辑一开始我通常很难理解，也许检查存在比不存在更pythonic。因此，如果您更改逻辑以检查是否存在，您可以编写：

```
if all(results):
    print "Success"
else:
   print "Failure" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:42:51.620

也许做一个可变参数函数？

```
def allZero(*args):
    for elem in args:
        if elem != 0:
            return False
    return True

if allZero(result1, result2, result3):
    return "Success"
else: 
    return "Failure" 
```

然后，您可以根据需要`resultN`一次测试任意多个。

# java - 开发不同版本的产品

> ID：11184451
> 
> 赞同：0
> 
> 时间：2012-06-25T06:36:10.167
> 
> 标签：java, multiple-versions

我有一个基于 Java 的服务器，通过 TCP/IP 将数据从许多远程设备传输到一个应用程序。我需要开发它的几个版本。我如何在不需要为 2 个项目进行编码的情况下开发并保留它们？
我不仅要求那个项目，而且要求不同的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:39:59.713

在行为不同的地方，使行为“[数据驱动](http://en.wikipedia.org/wiki/Data-driven_programming)” - 通常通过将驱动行为的数据外部化到在运行时/启动时读取的属性文件。

目标是拥有一个单一的二进制文件，其行为取决于运行时环境中的属性文件。

Java supports this pattern through the Properties class, which offers convenient ways of loading properties. In fact, most websites operate in this way, for example the production database user/pass details are never (should never be) in the code. The sysadmins will edit a properties file that is read at start up, and which is protected by the operating system's file permissions.

Other options are to use a database to store the data that drives behaviour.

It can be a very powerful pattern, but it can be abused too, so some discretion is advised.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:40:03.720

I think you need to read up on Source Control Management (SCM) and Version Control Systems (VCS).

I would recommend setting up a git or Subversion repository and adding the code initially to trunk and then branching it off to the number of branches (versions you'll be working on).

The idea of different versions is this: You're developing your code and have it in your SCM's `trunk` (or otherwise known as a `HEAD`). At some point you consider the code stable enough for a release. You therefore create a `tag` (let's call it version `1.0`). You cannot (should not) make changes to tags -- they're only there as a marker in time for you. If you have a client who has version `1.0` and reports bugs which you would like to fix, you create a `branch` based on a copy of your `tag`. The produced version would (normally) be 1.x (`1.1`, `1.2`, etc). When you're done with your fixes, you tag again and release the new version.

Usually, most of the development happens on your `trunk`. When you are ready with certain fixes, or know that certain fixes have already been applied to your `trunk`, you can merge these changes to other branches, if necessary.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:08:38.467

通过重用代码库、配置和任何其他资产，在前一个版本的基础上制作任何其他版本。如果一次应该有多个版本，请使用配置管理实践。可能您应该考虑在服务器端进行一些路由活动和客户端版本检查。这就是“向后兼容性”发挥作用的地方。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:20:41.907

主要方法是首先找到并提取不会从一个版本更改为另一个版本的代码。最好是最大化这部分以共享最大的代码库并简化维护（纠正一个错误意味着纠正所有错误）。

然后，这取决于从一个版本到另一个版本的真正变化。最好的是，在主项目上，您可以使用一些抽象类或接口，您可以为每个特定项目实现这些类或接口。

# .net - .Net授权/认证思路

> ID：11184455
> 
> 赞同：0
> 
> 时间：2012-06-25T06:36:34.050
> 
> 标签：.net, asp.net-mvc

我的应用程序是 ASP.Net MVC 并且有很多视图。我想给每个用户不同的权限。例如，user1 可以看到 view1 和 view2，user2 可以看到 view2 和 view3，等等。

我当时正在考虑这样做：在数据库中的一个表中为每个用户存储一行以及他可以查看的视图的名称。然后，在控制器中的每个 ActionResult 方法之前，我将编写：

```
[Authorize(Roles = "NameOfView")] 
```

有没有办法可以工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:02:44.163

当然。如果您使用默认的 Asp.Net Mvc 模板，那么它会工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T16:28:34.820

解决方案是扩展 AuthorizeAttribute。

# eclipse - Eclipse 插件在包资源管理器中对条目进行着色/视觉标记？

> ID：11184458
> 
> 赞同：3
> 
> 时间：2012-06-25T06:36:37.753
> 
> 标签：eclipse, user-interface, colors, eclipse-plugin

我正在寻找一种方法来为 Eclipse 包资源管理器中的条目着色：

在更大的项目中，一个包中有几十个文件，它们都列在彼此的下方。这使得很难找到您要查找的文件（例如，用于右键单击操作）。因此，如果我可以手动为某些条目着色，那就太好了。

是否存在用于此的插件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-14T22:58:20.797

这是我以前使用的一个。它允许您设置规则并相应地为图标着色：

[标签装饰器](http://www.jave.de/eclipse/labeldecorator/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-15T10:39:56.943

让 Eclipse 过滤您看到的类的一种方法是使用[Eclipse Mylyn](http://www.eclipse.org/mylyn)。您创建自己处理的任务，Mylyn 将记住与特定任务关联的包和类。然后它将过滤掉所有其他类/包。这为您提供了一个仅显示与特定任务相关的信息的编辑器。

我还建议 Mylyn 解决一个不同的问题[，](https://stackoverflow.com/a/14335713/207764)在那个答案中我提供了更多信息。

# ios - CFUUIDCreate、iOS版本使用统计和用户权限

> ID：11184460
> 
> 赞同：1
> 
> 时间：2012-06-25T06:36:53.043
> 
> 标签：ios, permissions, uuid

我正在考虑使用`CFUUIDCreate`API 在我的服务器中构建一个数据库，以衡量我的每个应用程序的用户百分比正在运行哪个版本的 iOS（帮助我决定未来开发的 iOS 最低支持版本）。

我的问题是：我应该请求用户允许将（**匿名**）**UUID / iOS 版本**数据对发送到我的服务器，还是可以自动发送？

我之所以问是因为我可以在安全方面打赌，无论如何都可以问，但大多数用户会对技术细节感到害怕，很可能会拒绝。此外， 中的文本越长`UIAlertView`，用户越有可能不会阅读它。

如果我不问，Apple 会拒绝我的应用吗？即使他们不这样做，您认为我是否应该始终要求用户允许发送这些**匿名**数据？

实现这种功能的每个人都有什么经验？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:36:05.120

好的，这就是我要做的，基于 Nikolai Ruhe 的回答，但改进了我刚刚发现的一个陷阱。

假设用户 John Doe 在他运行 iOS 5.0 的 iPhone 上安装了我的应用程序。

在第一次启动时，该应用程序向我的服务器发送了一个匿名请求，该请求有效地将“运行 iOS 5.0 的设备”的计数器增加了一个。应用程序会记录此事件和 iOS 版本（在用户默认值或钥匙串中），并且只要本地存储的操作系统版本字符串与当前版本字符串（由系统返回）相等，就不会发送任何进一步的请求。

下周，John 升级到 iOS 5.1 并启动了我的应用程序。该应用程序检测到操作系统版本差异并向我的服务器发送新请求。

但是，如果这仅将一台设备添加到“iOS 5.1”人群中，那么 John 的 iPhone 现在会被计算两次：一次是“运行 5.0 的设备”，一次是“运行 5.1 的设备”。

因此，要解决此问题，我的 HTTP 请求应如下所示：

```
http://myserver.com/my_stats_scripts/index.php?app_id=com.myCompany.myApp&new_os_ver=5.1&old_os_ver=5.0 
```

So my database can **increase** the number of 5.1 devices and **decrease** the number of 5.0 devices by one.

Of course, on the first request, the HTTP parameter `old_os_ver` is set to empty, and the server treats it like a new device.

If I pull this right, I no longer need UUIDs. But I am still sending system info covertly to my server. I think I'll also disclose this on the Terms of Use.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:53:00.437

您绝对应该征求许可。这里的关键是您的数据收集可能是匿名的，但**它可以用来跟踪个人用户**。

Web 浏览器会随每个请求发送一个用户代理字符串。不同之处在于它们不会发送永远不会改变的普遍可跟踪的 id。

因此，您提案中的问题部分是 UUID。为什么不把它排除在外？您的应用将发送一次匿名请求并在本地存储传输的 iOS 版本。当用户升级操作系统时，您会发送另一个请求，其中包含新的 iOS 版本和更新计数。

使用此方案，您将不会传输可跟踪的数据，但仍会获得正确的按操作系统使用统计信息。

# java - 未对单独项目中的 Google App Engine 实体进行数据增强

> ID：11184461
> 
> 赞同：0
> 
> 时间：2012-06-25T06:37:02.990
> 
> 标签：java, google-app-engine, ant, jdo, datanucleus

我的应用程序实体与我的主 servlet 位于一个单独的项目中，并且它们没有被 DataNucleus 增强。

不确定我是否只是违反规则或什么，但在项目上设置 ORM 设置并不能增强我的 .class 文件。我的工作空间的构建方式是编译项目，然后运行一个 ant 脚本构建 jar 文件并将它们复制到我的 servlet 的 lib 目录中。

我想如果必须的话，我可以在我的 ant 脚本中添加一些 java 任务来增强我的 .class 文件。如果是这种情况，该任务的示例将很有帮助。

我确实想保留我的项目，让我知道我需要做些什么来维护它。

这是包含我的实体的项目的 build.xml：

```
<project default="default">

<property name="appengine.sdk.dir" location="C:\superlongpathtomyeclipseplugins\plugins\com.google.appengine.eclipse.sdkbundle_1.6.5\appengine-java-sdk-1.6.5"/>
<import file="${appengine.sdk.dir}/config/user/ant-macros.xml"/>

<target name="default" depends="dist"/>

<target name="dist">
    <enhance>
        <classpath>
            <pathelement path="${appengine.sdk.home}/lib/*"/>
            <pathelement path="bin"/>
        </classpath>
        <fileset dir="bin" includes="**/*.class" />
    </enhance>
    <jar basedir="bin" destfile="dist\sessionexample.model.jar"/>
</target>
</project> 
```

但现在这是我得到的错误：

> java.lang.RuntimeException：在 com.google.appengine.tools.enhancer.Enhance.(Enhance.java:71) 的 com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:76) 出现意外异常com.google.appengine.tools.enhancer.Enhance.main(Enhance.java:51) 引起：java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke （未知来源）在 sun.reflect.DelegatingMethodAccessorImpl.invoke（未知来源）在 java.lang.reflect.Method.invoke（未知来源）在 com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:74 ) ... 2 更多原因：java.lang.Class.getDeclaredMethods0(Native Method) 处的 java.lang.Class.getDeclaredMethods0(Native Method) 处的 java.lang.NoClassDefFoundError: com/google/appengine/api/datastore/Key。Class.privateGetDeclaredMethods(Unknown Source) at java.lang.Class.getDeclaredMethods(Unknown Source) at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getJavaBeanAccessorAnnotationsForClass(AbstractAnnotationReader.java:238) at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getMetaDataForClass (AbstractAnnotationReader.java:128) 位于 org.datanucleus.metadata.MetaDataManager.loadAnnotationsForClass(MetaDataManager.java:2278) 的 org.datanucleus.metadata.AnnotationManagerImpl.getMetaDataForClass(AnnotationManagerImpl.java:136)。 MetaDataManager.loadClasses(MetaDataManager.java:385) 在 org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:743) 在 org.datanucleus.enhancer.DataNucleusEnhancer。在 org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1252) 处增强（DataNucleusEnhancer.java:545）... 7 更多原因：java.lang.ClassNotFoundException：com.google.appengine.api.datastore.Key在 java.net.URLClassLoader$1.run(Unknown Source) 在 java.security.AccessController.doPrivileged(Native Method) 在 java.net.URLClassLoader.findClass(Unknown Source) 在 java.lang.ClassLoader.loadClass(Unknown Source) 在com.google.appengine.tools.enhancer.EnhancerLoader.loadClass(EnhancerLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) ... 还有 18 个键在 java.net.URLClassLoader$1.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source)在 com.google.appengine.tools.enhancer.EnhancerLoader.loadClass(EnhancerLoader.java:107) 在 java.lang.ClassLoader.loadClass(Unknown Source) ... 还有 18 个键在 java.net.URLClassLoader$1.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(Unknown Source) at java.lang.ClassLoader.loadClass(Unknown Source)在 com.google.appengine.tools.enhancer.EnhancerLoader.loadClass(EnhancerLoader.java:107) 在 java.lang.ClassLoader.loadClass(Unknown Source) ... 还有 18 个

我是否需要继续添加东西`<classpath>`直到它起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:14:37.280

DataNucleus 项目定义了[许多运行增强](http://www.datanucleus.org/products/accessplatform_3_0/enhancer.html)的方法。您可以选择对您的环境和构建系统最有意义的一个。（我们）不支持该页面上未定义的任何其他方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T20:41:37.950

终于有一个 ant 任务运行了：

```
<project default="default">

<property name="appengine.sdk.dir" location="c:\pathtoeclipse\eclipse\plugins\com.google.appengine.eclipse.sdkbundle_1.6.5\appengine-java-sdk-1.6.5"/>
<import file="${appengine.sdk.dir}/config/user/ant-macros.xml"/>

<target name="default" depends="dist"/>

<target name="dist">
    <enhance>
        <classpath>
            <pathelement path="${appengine.sdk.home}/lib/*"/>
            <pathelement path="${appengine.sdk.home}/lib/user/*"/>
            <pathelement path="${appengine.sdk.home}/lib/user/orm/*"/>
            <pathelement path="bin"/>
        </classpath>
        <fileset dir="bin" includes="**/*.class" />
    </enhance>
    <jar basedir="bin" destfile="dist\sessionexample.model.jar"/>
</target>
</project> 
```

# java - ORM 将变量映射到 Hibernate 中的 SQL 查询

> ID：11184463
> 
> 赞同：1
> 
> 时间：2012-06-25T06:37:06.390
> 
> 标签：java, hibernate, orm

由于hibernate，我有一个简单的pojo。我想看到这个 pojo 中的一个变量被映射到一个非常具体的 SQL 查询，我想知道这是否可以在 hibernate.xml 文件中创建这样的映射？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:55:51.583

在纯 JPA 中没有简单的方法可以做到这一点。最好的办法是使用[Hibernate 的 @Formula](http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e2785)注释，您可以在其上指定应该用于获取字段数据的“SQL 片段”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:53:49.903

你在寻找这样的东西吗

```
String sql = "SELECT a.id As id, CONCAT(a.firstName,' ',a.lastName) AS advisorName from tableAdvis";

List<CollectionReport> collectionList = (List<CollectionReport>) getSession().createSQLQuery(sql).setResultTransformer(Transformers.aliasToBean(CollectionReport.class)).list(); 
```

这是我的 CollectionReport POJO 看起来像

```
public class CollectionReport {

    private BigInteger id;
    private String advisorCode;
    private String advisorName;    
   //Getter & Setter

} 
```

ResultTransformer 将获取查询结果并根据 POJO 中的属性名称为其分配值。

# javascript - 客户端修改 HTML/CSS/JS

> ID：11184466
> 
> 赞同：1
> 
> 时间：2012-06-25T06:37:37.440
> 
> 标签：javascript, html, css, browser

我目前正在使用`var bodyHTML = document.body.innerHTML;`获取网页正文的 HTML。如果我在 Chrome 的“检查元素”面板中编辑或修改 HTML 中的某些信息，我想复制*此*HTML。此外，这个问题真的延伸到 HTML/CSS/JS。我想通过代码获取这些数据，而不是通过右键单击和复制数据，因为我想最终基于这个修改后的 HTML/CSS/JS 创建新文件。

是否可以访问此浏览器修改的 HTML/CSS/JS？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:22:58.373

所以你想保存你的实时修改（我不确定我是否真的理解）？为此，您可以使用[chrome 自动保存扩展程序，](https://github.com/NV/chrome-devtools-autosave)[这里](http://addyosmani.com/blog/autosave-changes-chrome-dev-tools/)也有说明，但它可能已过时，因此请查看自述文件；）

# php - PHP - 使用数组作为类常量

> ID：11184469
> 
> 赞同：68
> 
> 时间：2012-06-25T06:37:55.447
> 
> 标签：php, arrays, constants

> **可能重复：**
> [是否可以将数组声明为常量](https://stackoverflow.com/questions/3803349/is-it-possible-to-declare-an-array-as-constant)

[是否可以在PHP](http://www.php.net/)中使用数组作为类常量？

IE

```
const MYARRAY = array('123', '234'); 
```

如果不是为什么？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-06-25T06:40:05.173

不，你不能。

但是您可以将其声明为静态属性。

```
public static $MYARRAY = array('123', '234'); 
```

*- - - - - - - -更新 - - - - - - - - - - - - - - -*

**数组 const 可从 PHP 5.6 开始使用。**

[php.net/manual/en/migration56.new-features.php](http://php.net/manual/en/migration56.new-features.php)

* * *

## 回答 #2

> 赞同：66
> 
> 时间：2012-06-25T06:49:31.323

更新：

这现在在 PHP 5.6 中可用[https://php.net/manual/en/migration56.new-features.php](https://php.net/manual/en/migration56.new-features.php)

* * *

不，您不能将数组分配给 PHP 常量。

在[http://www.php.net/manual/en/language.constants.syntax.php](http://www.php.net/manual/en/language.constants.syntax.php)

> 常量只能计算为标量值

这就是原因。

示例的标量值为`int`, `float`,`string`

# sql-server - sql server 数据类型转换

> ID：11184470
> 
> 赞同：0
> 
> 时间：2012-06-25T06:37:57.450
> 
> 标签：sql-server, sql-server-2008, sql-server-2005, sql-server-2000

我有列 Percentage varchar(10) 的表格 该表格中的数据是

```
Pecentage
2/10
4/10
6/10
.............. 
```

现在我必须将上述百分比转换为小数，所以现在我正在这样做。从 TabName 中选择 CAST(percentage as decimal) 我收到以下异常错误将数据类型 varchar 转换为数字。

我想得到像 0.2,0.4,0.6 这样的结果

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T06:50:10.623

您无法将该 varchar 格式（2/10）转换为 float 。您需要获取单个字符串，然后执行除法

```
Declare @Sample Table
(Percentage varchar(10))

Insert into @Sample
values
('2/10'),('4/10'),('6/10')

;With CTE (Numerator,denominator)
as
(
  Select cast(substring(Percentage,0,charindex('/',percentage))as float),
  cast(substring(Percentage,charindex('/',percentage)+1,len(Percentage)) as float)
  from @Sample
)
select Numerator/denominator from CTE 
```

结果

```
(No column name)
0.2
0.4
0.6 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:50:07.533

尝试这个

```
declare @str varchar(20)='2/10'

select @str, CAST(LEFT(@str,CHARINDEX('/',@str)-1) as DECIMAL(10,5))/CAST(RIGHT(@str,LEN(@str)-CHARINDEX('/',@str)) as DECIMAL(10,5)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:35:19.083

```
Declare @Temp Table
(Percentage varchar(10))

Insert into @Temp
values
('2/10'),('4/10'),('6/10')

select 
convert(float,SUBSTRING (Percentage ,0 , charindex('/',Percentage)))/    
convert(float,SUBSTRING (Percentage ,charindex('/',Percentage)+1,len(Percentage))) 
as Result

from @Temp 
```

# c++ - 如何将 C++ 共享库与 gcc 链接

> ID：11184473
> 
> 赞同：4
> 
> 时间：2012-06-25T06:38:05.570
> 
> 标签：c++, c, linker, shared-libraries

我已经看到一个带有 C++ 共享库的 GCC 链接，但我无法自己复制它。所以首先我创建了一个带有 testfunction 的 C++ 库：

```
g++ -shared -o libtest.so test.c 
```

然后我有一个测试主函数，它调用库函数并像这样编译它

```
gcc -o prog.out main.c -L. -ltest 
```

然后我收到错误

```
undefined reference to 'testfunc' 
```

我认为这是由库中的不同引用引起的……C 将函数命名为 testfunc，而 C++ 将函数命名为 [一些东西]__testfunc [也许又是一些东西]。

我也尝试过使用

```
gcc -o prog.out main.c -l:libtest.so 
```

但这会导致相同的错误。

因此，我的问题是：如何将带有 gcc 的 c++ 库链接到 ac 文件？

更新：我知道我可以使用`extern "C"`，但这不是解决方法。也许链接器有一些参数？

更新2：只是认为第一部分也有可能只是用c ++编译并与gcc链接。也试过这个：

```
g++ -c testlib.c -o testlib.o
gcc -shared -o libtest.so testlib.o
gcc -o prog.out -l:libtest.so 
```

还是不行。旗帜有问题吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T06:42:02.610

是的，这个问题与共享库无关（我认为......）并且与名称修改有关。

在您的标头中，您必须像这样声明函数：

```
#ifdef __cplusplus
extern "C" {
#endif

void testfunc(void);

#ifdef __cplusplus
}
#endif 
```

这将导致`testfunc`C 和 C++ 具有相同的符号和调用约定。

在我现在使用的系统上，C 符号名称将为`_testfunc`，C++ 符号名称（假设您*不*使用`extern "C"`）将为`__Z8testfuncv`，它们对有关参数类型的信息进行编码，因此重载将正常工作。例如，`void testfunc(int x)`变得`__Z8testfunci`不与 碰撞`__Z8testfuncv`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:43:48.960

当您使用 g++ 时，它会将**所有**源代码编译为 C++。这意味着所有函数都使用 C++ ABI（这也包括名称修饰）。当您使用 gcc 时，它会使用 C ABI（无名称修改）编译 *.c 文件。

因此，同一个函数用两个不同的编译器编译会生成不同的函数（在很多方面）。那是因为**它们是不同的语言**。

强制 g++ 使用 C ABI 前缀编译函数`extern "C"`

```
extern "C" void testfunc(char*); 
```

或者使用块版本

```
extern "C" {
<multiple Functions>
} 
```

老实说，我再也没有用 gcc 编译任何东西了（除非有一些硬性要求这样做（在这种情况下，我通常会修复代码以便它可以在 C++ 中工作））。如果您使用 g++ 编译所有文件，只会使过程更简单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T10:34:52.573

如果您确定这不是因为名称混乱。那么这意味着 gcc 找不到库尝试给出库的完整路径，除非`.so`文件位于标准位置。如果您不确定，请重新检查变量（函数）名称中的任何冲突。使用命名空间对类进行分组并在类内部定义函数以避免命名冲突

# java - 如果脚本通过 CTRL + C 终止，如何终止由脚本启动的 Java 进程？

> ID：11184475
> 
> 赞同：3
> 
> 时间：2012-06-25T06:38:09.423
> 
> 标签：java, linux, bash, process

我有以下内容`script1.sh`：

```
#!/bin/bash

trap 'echo "Exit signal detected..."; kill %1' 0 1 2 3 15

./script2.sh & #starts a java app
./script3.sh #starts a different java app 
```

当我执行 CTRL + C 时，它会终止`script1.sh`，但启动的 Java Swing 应用程序`script2.sh`仍然保持打开状态。怎么不杀呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T07:43:25.663

我认为这样的事情可能对你有用。但是，正如@carlspring 提到的，您最好在每个脚本中都有类似的内容，这样您就可以捕获相同的中断并杀死任何丢失的子进程。

随便拿

```
#!/bin/bash

# Store subproccess PIDS
PID1=""
PID2=""

# Call whenever Ctrl-C is invoked
exit_signal(){
    echo "Sending termination signal to childs"
    kill -s SIGINT $PID1 $PID2
    echo "Childs should be terminated now"
    exit 2
}

trap exit_signal SIGINT

# Start proccess and store its PID, so we can kill it latter
proccess1 &
PID1=$!
proccess2 &
PID2=$!

# Keep this process open so we can close it with Ctrl-C
while true; do
    sleep 1
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:29:26.693

好吧，如果您在后台模式下启动脚本（使用`&`），在调用脚本退出后继续执行是正常行为。您需要通过存储`echo $$`到文件来获取第二个脚本的进程 ID。然后让相应的脚本有一个`stop`命令，当你调用它时，它会杀死这个进程。

# sql - 如何在 T-SQL 中用年、月、日、小时、分钟、秒和毫秒计算年龄

> ID：11184476
> 
> 赞同：0
> 
> 时间：2012-06-25T06:38:13.003
> 
> 标签：sql, sql-server

这个问题是[这里问题的延伸](https://stackoverflow.com/questions/57599/how-to-calculate-age-in-t-sql-with-years-months-and-days/11139005)

我试图扩展 Dane 的答案，但结果有点问题。

```
DECLARE @dateFrom DATETIME
DECLARE @dateTo DATETIME
DECLARE @tmpdate DATETIME 
DECLARE @years INT
DECLARE @months INT
DECLARE @days INT
DECLARE @hours INT
DECLARE @minutes INT
DECLARE @seconds INT
DECLARE @milliseconds INT

SELECT @dateFrom = '2011-01-01 11:24:38:100'
SELECT @dateTo = '2012-01-01 11:24:38:110'

SELECT @tmpdate = @dateFrom

SELECT @years = DATEDIFF(yy, @tmpdate, @dateTo) 
        - CASE WHEN (MONTH(@dateFrom) > MONTH(@dateTo)) OR (MONTH(@dateFrom) =  MONTH(@dateTo) AND DAY(@dateFrom) > DAY(@dateTo))
            THEN 1
            ELSE 0
        END
SELECT @tmpdate         = DATEADD(yy, @years, @tmpdate)
SELECT @months          = DATEDIFF(mm, @tmpdate, @dateTo) - CASE WHEN   DAY(@dateFrom) > DAY(@dateTo) THEN 1 ELSE 0 END
SELECT @tmpdate         = DATEADD(mm, @months, @tmpdate)
SELECT @days            = DATEDIFF(dd, @tmpdate, @dateTo)
SELECT @tmpdate         = DATEADD(dd, @days, @tmpdate)
SELECT @hours           = DATEDIFF(hh, @tmpdate, @dateTo)
SELECT @tmpdate         = DATEADD(hh, @hours, @tmpdate)
SELECT @minutes         = DATEDIFF(mi, @tmpdate, @dateTo)
SELECT @tmpdate         = DATEADD(mi, @minutes, @tmpdate)
SELECT @seconds         = DATEDIFF(ss, @tmpdate, @dateTo)
SELECT @tmpdate         = DATEADD(ss, @seconds, @tmpdate)
SELECT @milliseconds    = DATEDIFF(ms, @tmpdate, @dateTo)

SELECT
    @years AS [years]
    , @months AS [months]
    , @days AS [days]
    , @hours AS [hours]
    , @minutes AS [minutes]
    , @seconds AS [seconds]
    , @milliseconds AS [milliseconds] 
```

结果是：

```
years   months  days    hours   minutes seconds milliseconds
1       0       0       0       0       0       10 
```

但是当我运行时：

```
SELECT @dateFrom = '2011-01-02 11:24:38:110'
SELECT @dateTo = '2012-01-01 10:23:37:100' 
```

结果是：

```
years   months  days    hours   minutes seconds milliseconds
0       11      30      -1      -1      -1      -10 
```

帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:11:49.787

答案是正确的，但它显示为负值。您需要使用 abs 来返回正值

```
 SELECT
 @years AS [years]
, abs(@months) AS [months]
, abs(@days) AS [days]
, abs(@hours) AS [hours]
, abs(@minutes) AS [minutes]
, abs(@seconds) AS [seconds]
, abs(@milliseconds) AS [milliseconds] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:41:04.953

你得到这些负值是因为@dateFrom 中的日期晚于@dateTo 中的日期，我认为你能做的最好的事情就是在发生这种情况时在进程开始之前交换这些值，所以你不需要在之后重新格式化你的变量过程：

```
DECLARE @auxDate DATETIME

IF (@dateFrom>@dateTo) 
BEGIN
     SET @auxDate = @dateFrom
     SET @dateFrom = @dateTo
     SET @dateTo = @auxDate
END

     -- Your code.. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-08-09T13:01:11.340

```
CREATE FUNCTION CMN.UFN_AGE 
(   @DATE_BEG DATETIME,
    @DATE_END DATETIME
) RETURNS NVARCHAR(255) AS
BEGIN
    DECLARE @Ret NVARCHAR(255) = NULL;
    DECLARE @s INT = DATEPART(SECOND, @DATE_END);
    DECLARE @n INT = DATEPART(MINUTE, @DATE_END);
    DECLARE @h INT = DATEPART(HOUR, @DATE_END);
    DECLARE @d INT = DATEPART(DAY, @DATE_END);
    DECLARE @m INT = DATEPART(MONTH, @DATE_END);
    DECLARE @y INT = DATEPART(YEAR, @DATE_END);

    IF (NOT ((@DATE_BEG IS NULL) OR (@DATE_END IS NULL))) 
    BEGIN
        IF (@DATE_BEG < @DATE_END)
        BEGIN
            IF (@s < DATEPART(SECOND, @DATE_BEG))
            BEGIN
                SET @s = @s + 60;
                SET @DATE_END = DATEADD(MINUTE,-1,@DATE_END);
                SET @n = DATEPART(MINUTE, @DATE_END);
                SET @h = DATEPART(HOUR, @DATE_END);
                SET @d = DATEPART(DAY, @DATE_END);
                SET @m = DATEPART(MONTH, @DATE_END);
                SET @y = DATEPART(YEAR, @DATE_END);
            END
            IF (@n < DATEPART(MINUTE, @DATE_BEG))
            BEGIN
                SET @n = @n + 60;
                SET @DATE_END = DATEADD(HOUR,-1,@DATE_END);
                SET @h = DATEPART(HOUR, @DATE_END);
                SET @d = DATEPART(DAY, @DATE_END);
                SET @m = DATEPART(MONTH, @DATE_END);
                SET @y = DATEPART(YEAR, @DATE_END);
            END
            IF (@h < DATEPART(HOUR, @DATE_BEG))
            BEGIN
                SET @h = @h + 24;
                SET @DATE_END = DATEADD(DAY,-1,@DATE_END);
                SET @d = DATEPART(DAY, @DATE_END);
                SET @m = DATEPART(MONTH, @DATE_END);
                SET @y = DATEPART(YEAR, @DATE_END);
            END

            SET @d = @d + DATEPART(DAY, EOMONTH(@DATE_BEG)) - DATEPART(DAY, @DATE_BEG);
            IF (@d = DATEPART(DAY, EOMONTH(@DATE_BEG)))
            BEGIN
                SET @d = 0
            END
            ELSE IF (@d > DATEPART(DAY, EOMONTH(@DATE_BEG)))
            BEGIN
                SET @d = @d - DATEPART(DAY, EOMONTH(@DATE_BEG));
            END
            ELSE
            BEGIN
                SET @DATE_END = DATEADD(MONTH,-1,@DATE_END);
                SET @m = DATEPART(MONTH, @DATE_END);
                SET @y = DATEPART(YEAR, @DATE_END);
            END

            IF (@m < DATEPART(MONTH, @DATE_BEG))
            BEGIN
                SET @m = @m + 12;
                SET @DATE_END = DATEADD(YEAR,-1,@DATE_END);
                SET @y = DATEPART(YEAR, @DATE_END);
            END

            SET @s = @s - DATEPART(SECOND, @DATE_BEG);
            SET @n = @n - DATEPART(MINUTE, @DATE_BEG);
            SET @h = @h - DATEPART(HOUR, @DATE_BEG);
            SET @m = @m - DATEPART(MONTH, @DATE_BEG);
            SET @y = @y - DATEPART(YEAR, @DATE_BEG);

            SET @Ret = CONCAT(CASE WHEN (@y < 1) THEN '' ELSE
                CONCAT(FORMAT(@y, '00'), ' year(s)  ') END,
                CASE WHEN (@m < 1) THEN '' ELSE
                CONCAT(FORMAT(@m, '00'), ' month(s)  ') END,
                CASE WHEN (@d < 1) THEN '' ELSE
                CONCAT(FORMAT(@d, '00'), ' day(s)  ') END,
                FORMAT(@h, '00'), ':', FORMAT(@n, '00'), ':', FORMAT(@s, '00'));
        END
    END
    RETURN @Ret;
END 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T10:03:42.610

```
DECLARE @dateFrom DATETIME
DECLARE @dateTo DATETIME
DECLARE @tmpdate DATETIME 
DECLARE @years INT
DECLARE @months INT
DECLARE @days INT
DECLARE @hours INT
DECLARE @minutes INT
DECLARE @seconds INT
DECLARE @milliseconds INT
DECLARE @sign CHAR

--SELECT @dateFrom = '2011-01-01 11:24:38:100'
--SELECT @dateTo = '2012-01-01 11:24:38:110'

SELECT @dateFrom    = '2012-02-03 11:24:38:000'
SELECT @dateTo      = '2013-03-04 12:25:39:003'
SELECT @sign        = '+'

IF @dateFrom > @dateTo
BEGIN
    SET @tmpdate = @dateFrom
    SET @dateFrom = @dateTo
    SET @dateTo = @tmpdate
    SET @sign = '-'
END

SELECT @tmpdate = @dateFrom

SELECT @years           = DATEDIFF(yy, @tmpdate, @dateTo) 
                            - CASE WHEN
                                   (DATEPART(mm, @dateFrom) > DATEPART(mm, @dateTo)) 
                                OR (DATEPART(mm, @dateFrom) = DATEPART(mm, @dateTo) AND DATEPART(dd, @dateFrom) > DATEPART(dd, @dateTo))
                                OR (DATEPART(dd, @dateFrom) = DATEPART(dd, @dateTo) AND DATEPART(hh, @dateFrom) > DATEPART(hh, @dateTo))
                                OR (DATEPART(hh, @dateFrom) = DATEPART(hh, @dateTo) AND DATEPART(mi, @dateFrom) > DATEPART(mi, @dateTo))
                                OR (DATEPART(mi, @dateFrom) = DATEPART(mi, @dateTo) AND DATEPART(ss, @dateFrom) > DATEPART(ss, @dateTo))
                                OR (DATEPART(ss, @dateFrom) = DATEPART(ss, @dateTo) AND DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(yy, @years, @tmpdate)
SELECT @months          = DATEDIFF(mm, @tmpdate, @dateTo)
                            - CASE WHEN
                                   (DATEPART(dd, @dateFrom) > DATEPART(dd, @dateTo))
                                OR (DATEPART(dd, @dateFrom) = DATEPART(dd, @dateTo) AND DATEPART(hh, @dateFrom) > DATEPART(hh, @dateTo))
                                OR (DATEPART(hh, @dateFrom) = DATEPART(hh, @dateTo) AND DATEPART(mi, @dateFrom) > DATEPART(mi, @dateTo))
                                OR (DATEPART(mi, @dateFrom) = DATEPART(mi, @dateTo) AND DATEPART(ss, @dateFrom) > DATEPART(ss, @dateTo))
                                OR (DATEPART(ss, @dateFrom) = DATEPART(ss, @dateTo) AND DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(mm, @months, @tmpdate)
SELECT @days            = DATEDIFF(dd, @tmpdate, @dateTo)
                            - CASE WHEN
                                   (DATEPART(hh, @dateFrom) > DATEPART(hh, @dateTo))
                                OR (DATEPART(hh, @dateFrom) = DATEPART(hh, @dateTo) AND DATEPART(mi, @dateFrom) > DATEPART(mi, @dateTo))
                                OR (DATEPART(mi, @dateFrom) = DATEPART(mi, @dateTo) AND DATEPART(ss, @dateFrom) > DATEPART(ss, @dateTo))
                                OR (DATEPART(ss, @dateFrom) = DATEPART(ss, @dateTo) AND DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(dd, @days, @tmpdate)
SELECT @hours           = DATEDIFF(hh, @tmpdate, @dateTo)
                            - CASE WHEN
                                   (DATEPART(mi, @dateFrom) > DATEPART(mi, @dateTo))
                                OR (DATEPART(mi, @dateFrom) = DATEPART(mi, @dateTo) AND DATEPART(ss, @dateFrom) > DATEPART(ss, @dateTo))
                                OR (DATEPART(ss, @dateFrom) = DATEPART(ss, @dateTo) AND DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(hh, @hours, @tmpdate)
SELECT @minutes         = DATEDIFF(mi, @tmpdate, @dateTo)
                            - CASE WHEN
                                   (DATEPART(ss, @dateFrom) > DATEPART(ss, @dateTo))
                                OR (DATEPART(ss, @dateFrom) = DATEPART(ss, @dateTo) AND DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(mi, @minutes, @tmpdate)
SELECT @seconds         = DATEDIFF(ss, @tmpdate, @dateTo)
                            - CASE WHEN
                                   (DATEPART(ms, @dateFrom) > DATEPART(ms, @dateTo))
                                THEN 1
                                ELSE 0
                            END
SELECT @tmpdate         = DATEADD(ss, @seconds, @tmpdate)
SELECT @milliseconds    = DATEDIFF(ms, @tmpdate, @dateTo)

SELECT
    @sign AS [sign]
    , @years AS [years]
    , @months AS [months]
    , @days AS [days]
    , @hours AS [hours]
    , @minutes AS [minutes]
    , @seconds AS [seconds]
    , @milliseconds AS [milliseconds] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-24T11:26:44.497

请看我[在这里](https://stackoverflow.com/questions/23242773/ms-sql-server-calculate-age-with-accuracy-of-hours-and-minuets)回答的问题。
它处理这样的情况：

@dateFrom = '2014-04-24 13:59:00'
@dateTo = '2014-04-24 14:01:00'

您的代码为这些值返回了错误的日期。

# java - 自动装箱不适用于参数化类型

> ID：11184483
> 
> 赞同：0
> 
> 时间：2012-06-25T06:38:54.977
> 
> 标签：java, generics, casting, autoboxing

我有一个参数化的泛型类 X，它采用类型 T。在其上没有定义任何条件（如 T 扩展/实现）。

```
class X <T> {
    Map<T, String> map = new HashMap<T, String>();

    public void put() {
        map.put((T)getLong(), "");
    }

    public long getLong() {
        return 0L;
    }
} 
```

我们知道 T 绝对是对象类型而不是原始类型。因此，我希望返回的“long”值自动装箱为 Long，然后强制转换为 T，但这不会发生。

编译器说“不能从 long 转换为 T”。如果我将参数化类型 T 替换为“Long”，则没有问题。谁能解释为什么 Java 在涉及参数化类型时不支持原始类型的自动装箱？有什么我想念的吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:47:02.393

我认为，首先你应该自动装箱然后转换为 T。它应该写成如下。

```
public Long getLong() {  //not long, because it's primitive
        return 0L;
    } 
```

所以当这个方法返回时会发生自动装箱。在您的情况下发生的情况是，它不会自动装箱长原语，并且您试图将这个长原语转换为 T. 您根本做不到。

# sql - 计数列计数作为选择查询的结果

> ID：11184485
> 
> 赞同：0
> 
> 时间：2012-06-25T06:39:04.390
> 
> 标签：sql, db2

如何计算选择查询的结果列数。

我想要的是

有一个包含 100 列的表，但我只选择 40-45 列。我想知道选择的列数。

使用模式信息我可以获得所有列的计数，但我想要该选择查询的列计数。

可能吗。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:58:04.350

正如 David Brabant 所提到的，这在很大程度上取决于您使用的 RDBMS。

这是使用 DBMS_SQL 的 Oracle 解决方案：

```
declare
  c       number;
  d       number;
  col_cnt integer;
  rec_tab dbms_sql.desc_tab;
begin
  c := dbms_sql.open_cursor;

  dbms_sql.parse(c,
                 'select 1 as pk, 2 as value from dual',
                 dbms_sql.native);

  d := dbms_sql.execute(c);

  dbms_sql.describe_columns(c,
                            col_cnt,
                            rec_tab);
  dbms_output.put_line(col_cnt);
end; 
```

# ipad - 应用程序未在 ipad 模拟器中运行

> ID：11184488
> 
> 赞同：-2
> 
> 时间：2012-06-25T06:39:18.650
> 
> 标签：ipad, ios-simulator

我从一个越狱的 ipad 中获取了一个应用程序 (*.app)。我无法在 iphone 模拟器（ipad 3.2）中运行该 ipad 应用程序。有什么建议么。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:41:40.737

模拟器和设备构建是分开的。您需要在设备上而不是模拟器上尝试。

# php - 5分钟生成随机数

> ID：11184492
> 
> 赞同：2
> 
> 时间：2012-06-25T06:39:33.620
> 
> 标签：php, srand

如何每 5 分钟生成一个随机数？当我搜索它时，我发现[需要在时间间隔之后生成随机数](https://stackoverflow.com/questions/6662417/need-to-generate-random-number-after-time-interval)。使用它，我像这样编码，

```
 <?
    $seed = floor(time()/(60*60*12));
    srand($seed);
    $item = rand(0,9);
    echo $item;
    ?> 
```

但是 $item 的值在 5 分钟内没有变化。如何编辑此代码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:47:09.407

您从另一个 SO 问题中提取的示例每十二个小时生成一个新的随机数，如代码中的“12”所示。

由于您想要每五分钟一个新的随机数，代码如下：

```
<?
$seed = floor(time()/(60*5));
srand($seed);
$item = rand(0,9);
echo $item;
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:43:43.913

您每 12 小时使用相同的值播种它，这会导致它显示相同的结果。停止不必要的播种。

# android - MK802 - Android 4.0 Mini PC - 未使用“adb devices”命令列出 - 如何安装我的应用程序

> ID：11184493
> 
> 赞同：2
> 
> 时间：2012-06-25T06:39:34.403
> 
> 标签：android

我最近购买了 MK802；安卓 4.0 迷你电脑。但是，我无法安装我开发的应用程序。我尝试使用“adb devices”命令，但该设备未出现在列表中。我还在我的电脑上下载了 Andorid 4.0 SDK（MK802 中使用的版本），但仍然没有运气。我还确保在设备设置中启用“USB 调试”和“未知来源”。

我意识到我可以从 SD 卡加载我的应用程序（但我必须买一个）；或者我可以通过在服务器或安卓市场上提供我的应用程序将其下载到设备上，但这些选项似乎只是为了安装应用程序而付出的努力。

任何建议或建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-04-13T10:46:21.623

即使使用随附的 USB 电缆，我也设法将我的连接到 ADB。

1.  将您的计算机连接到加密狗的 OTG 端口（加密狗上有标记）。
2.  进入设置并启用 ADB 调试。
3.  最后*（这是诀窍）*启用特殊`Connect to PC`设置。

![启用连接到 PC](../Images/ff21a94b13fe044cb0ab2b5a8329b209.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T13:03:38.787

简单地通过 USB 进行 adb**不起作用**（目前）您唯一可以做的就是：使用无线 ADB！ [这个小部件](https://play.google.com/store/apps/details?id=com.ryosoftware.adbw&feature=search_result#?t=W251bGwsMSwyLDEsImNvbS5yeW9zb2Z0d2FyZS5hZGJ3Il0.)可以帮助您启用它。一旦一切就绪并运行，请执行

```
adb connect xxx.xxx.xxx.xxx 
```

使用 MK802 的 IP 地址作为 IP。一旦连接运行

```
adb shell 
```

像往常一样访问远程shell。该系统仍在大力开发中（至少全赢者是这样说的）

* * *

**编辑**：使用较短的 USB 电缆可以解决问题！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:52:30.017

谷歌司机。安装 Android SDK 并不能确保您的设备被检测到。

1.  连接设备
2.  安装从网上下载的驱动程序
3.  断开并重新连接
4.  亚行！

这很可能会为您解决问题。

# php - PHP - urldecode - utf8 字符串？

> ID：11184500
> 
> 赞同：0
> 
> 时间：2012-06-25T06:41:03.697
> 
> 标签：php, urldecode

我正在处理的网站显示的 Crylic 字符不正确。我不知道为什么。它似乎不是字符编码问题。页面标题是 Crylic 的，看起来很好。它只是显示不正确的 urldecoded 字符串。

在本地我做了一个演示，看看我是否能确定发生了什么。

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>
<?php
$str = '%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9C%D0%B5%D0%BD%D1%8F%20%D0%B7%D0%BE%D0%B2%D1%83%D1%82%20%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%2C%20%D1%80%D0%B0%D0%B4%20%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%92%D0%B0%D1%81%20%D0%BD%D0%B0%20%D0%BC%D0%BE%D0%B5%D0%BC%20%D1%81%D0%B0%D0%B9%D1%82%D0%B5!%20%D0%9A%D0%B0%D0%BA%20%D0%92%D1%8B%20%D1%83%D0%B6%D0%B5%20%D0%B4%D0%BE%D0%B3%D0%B0%D0%B4%D0%B0%D0%BB%D0%B8%D1%81%D1%8C%2C%20%D1%8F%20-%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84.%20%D0%9A%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D1%82%D0%BE%20%D0%B4%D0%B0%D0%B2%D0%BD%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%B1%D1%8B%D0%BB%D0%BE%20%D0%BC%D0%BE%D0%B8%D0%BC%20%D1%85%D0%BE%D0%B1%D0%B1%D0%B8%2C%20%D0%BD%D0%BE%20%D1%83%D0%B6%D0%B5%20%D1%81%202005%20%D0%B3%D0%BE%D0%B4%D0%B0%20%D1%8D%D1%82%D0%BE%20%D0%BC%D0%BE%D1%8F%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D1%8F.%20%D0%98%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D1%80%D0%B8%D1%8F%D1%82%D0%BD%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%B5%D0%B9%20%D1%81%D1%82%D0%B0%D0%BB%D0%BE%20%D0%BB%D1%8E%D0%B1%D0%B8%D0%BC%D0%BE%D0%B5%20%D0%B4%D0%B5%D0%BB%D0%BE!%20%D0%9D%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82%20%D1%8F%20%D0%B6%D0%B8%D0%B2%D1%83%20%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%B2%20%D0%9F%D1%80%D0%B0%D0%B3%D0%B5.%20%D0%98%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D0%B7%D0%B4%20%D0%B2%20%D1%8D%D1%82%D0%BE%D1%82%20%D1%83%D0%B4%D0%B8%D0%B2%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D0%B3%D0%BE%D1%80%D0%BE%D0%B4%20%D0%B2%202006%20%D0%B3%D0%BE%D0%B4%D1%83%20%D0%B2%D0%BE%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BC%20%D0%BF%D0%BE%D0%B2%D0%BB%D0%B8%D1%8F%D0%BB%20%D0%BD%D0%B0%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%8F%20%D1%81%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BD%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BB%20%D1%81%D0%B2%D0%BE%D0%B5%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B8%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B5%20%D1%81%D0%B5%D0%B9%D1%87%D0%B0%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%B1%D1%83%D1%80%D0%BD%D0%BE%D0%B5%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20-%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8!%20%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D0%B8%D0%B5%206%20%D0%BB%D0%B5%D1%82%20%D1%8F%20%D1%81%D0%BD%D1%8F%D0%BB%20%D1%81%D0%BE%D1%82%D0%BD%D0%B8%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%2C%20%D1%87%D1%82%D0%BE%2C%20%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%8B%D0%BC%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%BE%D0%BC!%20%D0%AD%D1%82%D0%BE%D1%82%20%D0%BE%D0%BF%D1%8B%D1%82%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BC%D0%BD%D0%B5%20%D0%B2%20%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B9%20%D0%BC%D0%B5%D1%80%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B8%20%D1%81%D1%83%D0%B4%D0%B8%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F.%20%D0%94%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D1%87%D1%82%D0%BE%20%D0%BC%D0%BE%D0%B8%20%D1%81%D0%BE%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BC%D0%BE%D0%B3%D1%83%D1%82%20%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%D1%81%D1%8F%20%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%82%D0%B5%D0%BC%20%D0%B8%D0%B7%20%D0%92%D0%B0%D1%81%2C%20%D0%BA%D1%82%D0%BE%20%D0%B7%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC%20%D1%81%D0%B2%D0%BE%D0%B5%D0%B3%D0%BE%20%D1%82%D0%BE%D1%80%D0%B6%D0%B5%D1%81%D1%82%D0%B2%D0%B0.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%230000FF%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D2787%22%20TARGET%3D%22_blank%22%3E%D0%92%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8%20Happywedding%3C%2FA%3E%3CFONT%20COLOR%3D%22%23000000%22%3E%20%20%D1%8F%20%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D1%80%D0%B0%D0%BB%D1%81%D1%8F%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%B2%20%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D0%B5%20%D0%B2%D0%B8%D0%B6%D1%83%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%83%D1%8E%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8E.%3CFONT%20COLOR%3D%22%230000FF%22%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9A%D1%80%D0%BE%D0%BC%D0%B5%20%D1%82%D0%BE%D0%B3%D0%BE%2C%20%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D1%83%D1%8E%20%D0%92%D0%B0%D0%BC%20%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%B8%D1%82%D1%8C%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%3CFONT%20COLOR%3D%22%230000FF%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D812%22%20TARGET%3D%22_blank%22%3E%20%D1%81%D1%82%D0%B0%D1%82%D1%8C%D1%8E%2C%20%D0%BF%D0%BE%D1%81%D0%B2%D1%8F%D1%89%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%D1%82%D0%B5%D0%BC%D0%B5%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%B0%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%26quot%3B%D0%92%D0%B0%D1%88%D0%B5%D0%B3%D0%BE%26quot%3B%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B0%3C%2FA%3E%3C%2FFONT%3E%20-%20%D1%8F%20%D0%BD%D0%B5%20%D0%BF%D0%BE%20%D0%BD%D0%B0%D1%81%D0%BB%D1%8B%D1%88%D0%BA%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%8E%2C%20%D0%BA%D0%B0%D0%BA%20%D0%BD%D0%B5%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%BE%D0%BA%D0%B0%D0%B7%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B5...%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9D%D0%BE%2C%20%D1%80%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%BD%D0%B5%20%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D1%81%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D1%8C%D0%B1%D0%B0%D0%BC%D0%B8.%20%D0%9C%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D0%92%D1%8B%20%D0%BC%D0%BE%D0%B6%D0%B5%D1%82%D0%B5%20%D1%83%D0%B2%D0%B8%D0%B4%D0%B5%D1%82%D1%8C%20%D0%B8%20%D0%B2%20%D0%BC%D0%BE%D0%B4%D0%BD%D1%8B%D1%85%20%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D1%85%2C%20%D0%B8%20%D0%B2%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B5%2C%20%D0%B8%20%D0%BD%D0%B0%20%D0%BE%D0%B1%D0%BB%D0%BE%D0%B6%D0%BA%D0%B0%D1%85%20%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D0%B0%D0%BB%D1%8C%D0%B1%D0%BE%D0%BC%D0%BE%D0%B2%2C%20%D0%B8%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D0%BD%D0%B0%20%D1%8D%D1%82%D0%B8%D0%BA%D0%B5%D1%82%D0%BA%D0%B0%D1%85%20%D0%BA%D0%BE%D1%80%D0%BC%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%B6%D0%B8%D0%B2%D0%BE%D1%82%D0%BD%D1%8B%D1%85!%20%D0%AF%20-%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%20%D0%B8%20%D0%B4%D0%B5%D0%BB%D0%B0%D1%8E%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%83%D0%BC%D0%B5%D1%8E%20%D0%B8%20%D0%BB%D1%8E%D0%B1%D0%BB%D1%8E.%20%D0%9D%D0%BE%20%D0%B2%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%2C%20%D0%BD%D0%B0%D0%B8%D0%B1%D0%BE%D0%BB%D0%B5%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D1%8B%D0%BC%20%D0%B4%D0%BB%D1%8F%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B2%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%20%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%BB%D1%8E%D0%B4%D1%8C%D0%BC%D0%B8%2C%20%D1%81%20%D0%B8%D1%85%20%D1%87%D1%83%D0%B2%D1%81%D1%82%D0%B2%D0%B0%D0%BC%D0%B8%2C%20%D1%8D%D0%BC%D0%BE%D1%86%D0%B8%D1%8F%D0%BC%D0%B8%20%D0%B8%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8%2C%20%D1%81%20%D1%82%D0%B5%D0%BC%2C%20%D1%87%D1%82%D0%BE%20%D0%BE%D1%81%D1%82%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B5%D0%B2%D1%8B%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%85%2C%20%D0%BD%D0%BE%20%D0%BF%D1%80%D0%BE%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D1%84%D0%BE%D1%82%D0%BE%D0%B1%D1%83%D0%BC%D0%B0%D0%B3%D0%B5.%20%D0%92%D0%B5%D0%B4%D1%8C%20%D0%B8%D0%B4%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F%20%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%B2%20%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%20%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B5%D0%B2%20%D0%BD%D0%B5%20%D1%81%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC%20%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D1%81%D0%BE%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D1%81%D1%82%D0%B2%D0%BE%D0%BC%2C%20%D0%B0%20%D1%82%D0%B5%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%BE%D1%82%D0%BA%D0%BB%D0%B8%D0%BA%20%D0%BE%D0%BD%D0%B0%20%D0%BE%D0%B1%D1%80%D0%B5%D1%82%D0%B0%D0%B5%D1%82%20%D0%B2%20%D0%BD%D0%B0%D1%88%D0%B5%D0%BC%20%D0%BF%D0%BE%D0%B4%D1%81%D0%BE%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B8.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D1%80%D0%BE%D1%88%D1%83%20%D0%BF%D1%80%D0%BE%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%B5%D1%81%D0%BB%D0%B8%20%D1%83%D1%82%D0%BE%D0%BC%D0%B8%D0%BB%20%D0%92%D0%B0%D1%81%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8!%20%D0%9F%D0%BE%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%20%D1%8F%20-%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA-%D0%BB%D0%B0%D0%B7%D0%B5%D1%80%D1%89%D0%B8%D0%BA%2C%20%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D0%BB%D0%B5%D1%82%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D1%83%D0%BF%D0%BE%D1%80%D0%BD%D0%BE%20%D1%83%D1%87%D0%B8%D0%BB%20%D1%81%D1%82%D1%83%D0%B4%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0%D0%BC%20%D0%BE%D0%BF%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85%20%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9%20%D0%B8%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA%D0%B5%20%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%B2%20%D1%81%D1%82%D0%B8%D0%BC%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%B8%D0%B7%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%BE%D1%82%D1%87%D0%B0%D1%81%D1%82%D0%B8%20%D0%BF%D0%BE%D1%8D%D1%82%D0%BE%D0%BC%D1%83%20%D0%BC%D0%BD%D0%B5%20%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%20%3A)%20%D0%A0%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D0%BD%D0%B5%20%D0%BC%D0%BE%D0%B3%20%D0%BD%D0%B5%20%D0%BF%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D1%8C%D1%81%D1%8F%20%D1%81%20%D0%92%D0%B0%D0%BC%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B8%D0%BC%D0%B8%20%D0%B8%D0%B4%D0%B5%D1%8F%D0%BC%D0%B8%20%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BD%D0%BE%2C%20%D0%B4%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D0%BD%D0%B0%D0%B3%D0%BB%D1%8F%D0%B4%D0%BD%D0%B5%D0%B5%20%D0%BE%D0%B1%20%D1%8D%D1%82%D0%BE%D0%BC%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B6%D1%83%D1%82%20%D0%BC%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%A3%D0%B4%D0%B0%D1%87%D0%B8%20%D0%92%D0%B0%D0%BC%20%D0%B8%20%D1%85%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D1%85%20%D1%81%D0%BD%D0%B8%D0%BC%D0%BA%D0%BE%D0%B2!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%91%D1%83%D0%B4%D0%B5%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%B2%D1%8F%D0%B7%D0%B8!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%98%D1%81%D0%BA%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%20%D0%92%D0%B0%D1%88%2C%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%20%D0%9A%D1%80%D1%83%D0%B3%D0%BB%D0%BE%D0%B2.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E';

echo urldecode($str);
?>
</body>
</html> 
```

这工作正常。我再次上​​传到客户端主机。它显示不正确。有人知道为什么吗？urldecode 在 PHP 版本之间会发生变化吗？我下一步该去哪里解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-14T03:30:11.287

```
<!DOCTYPE html>
<meta Content-Type= "text/html"; charset='UTF-8'>
<?php
$str = '%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9C%D0%B5%D0%BD%D1%8F%20%D0%B7%D0%BE%D0%B2%D1%83%D1%82%20%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%2C%20%D1%80%D0%B0%D0%B4%20%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%92%D0%B0%D1%81%20%D0%BD%D0%B0%20%D0%BC%D0%BE%D0%B5%D0%BC%20%D1%81%D0%B0%D0%B9%D1%82%D0%B5!%20%D0%9A%D0%B0%D0%BA%20%D0%92%D1%8B%20%D1%83%D0%B6%D0%B5%20%D0%B4%D0%BE%D0%B3%D0%B0%D0%B4%D0%B0%D0%BB%D0%B8%D1%81%D1%8C%2C%20%D1%8F%20-%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84.%20%D0%9A%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D1%82%D0%BE%20%D0%B4%D0%B0%D0%B2%D0%BD%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%B1%D1%8B%D0%BB%D0%BE%20%D0%BC%D0%BE%D0%B8%D0%BC%20%D1%85%D0%BE%D0%B1%D0%B1%D0%B8%2C%20%D0%BD%D0%BE%20%D1%83%D0%B6%D0%B5%20%D1%81%202005%20%D0%B3%D0%BE%D0%B4%D0%B0%20%D1%8D%D1%82%D0%BE%20%D0%BC%D0%BE%D1%8F%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D1%8F.%20%D0%98%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D1%80%D0%B8%D1%8F%D1%82%D0%BD%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%B5%D0%B9%20%D1%81%D1%82%D0%B0%D0%BB%D0%BE%20%D0%BB%D1%8E%D0%B1%D0%B8%D0%BC%D0%BE%D0%B5%20%D0%B4%D0%B5%D0%BB%D0%BE!%20%D0%9D%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82%20%D1%8F%20%D0%B6%D0%B8%D0%B2%D1%83%20%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%B2%20%D0%9F%D1%80%D0%B0%D0%B3%D0%B5.%20%D0%98%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D0%B7%D0%B4%20%D0%B2%20%D1%8D%D1%82%D0%BE%D1%82%20%D1%83%D0%B4%D0%B8%D0%B2%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D0%B3%D0%BE%D1%80%D0%BE%D0%B4%20%D0%B2%202006%20%D0%B3%D0%BE%D0%B4%D1%83%20%D0%B2%D0%BE%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BC%20%D0%BF%D0%BE%D0%B2%D0%BB%D0%B8%D1%8F%D0%BB%20%D0%BD%D0%B0%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%8F%20%D1%81%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BD%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BB%20%D1%81%D0%B2%D0%BE%D0%B5%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B8%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B5%20%D1%81%D0%B5%D0%B9%D1%87%D0%B0%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%B1%D1%83%D1%80%D0%BD%D0%BE%D0%B5%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20-%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8!%20%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D0%B8%D0%B5%206%20%D0%BB%D0%B5%D1%82%20%D1%8F%20%D1%81%D0%BD%D1%8F%D0%BB%20%D1%81%D0%BE%D1%82%D0%BD%D0%B8%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%2C%20%D1%87%D1%82%D0%BE%2C%20%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%8B%D0%BC%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%BE%D0%BC!%20%D0%AD%D1%82%D0%BE%D1%82%20%D0%BE%D0%BF%D1%8B%D1%82%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BC%D0%BD%D0%B5%20%D0%B2%20%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B9%20%D0%BC%D0%B5%D1%80%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B8%20%D1%81%D1%83%D0%B4%D0%B8%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F.%20%D0%94%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D1%87%D1%82%D0%BE%20%D0%BC%D0%BE%D0%B8%20%D1%81%D0%BE%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BC%D0%BE%D0%B3%D1%83%D1%82%20%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%D1%81%D1%8F%20%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%82%D0%B5%D0%BC%20%D0%B8%D0%B7%20%D0%92%D0%B0%D1%81%2C%20%D0%BA%D1%82%D0%BE%20%D0%B7%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC%20%D1%81%D0%B2%D0%BE%D0%B5%D0%B3%D0%BE%20%D1%82%D0%BE%D1%80%D0%B6%D0%B5%D1%81%D1%82%D0%B2%D0%B0.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%230000FF%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D2787%22%20TARGET%3D%22_blank%22%3E%D0%92%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8%20Happywedding%3C%2FA%3E%3CFONT%20COLOR%3D%22%23000000%22%3E%20%20%D1%8F%20%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D1%80%D0%B0%D0%BB%D1%81%D1%8F%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%B2%20%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D0%B5%20%D0%B2%D0%B8%D0%B6%D1%83%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%83%D1%8E%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8E.%3CFONT%20COLOR%3D%22%230000FF%22%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9A%D1%80%D0%BE%D0%BC%D0%B5%20%D1%82%D0%BE%D0%B3%D0%BE%2C%20%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D1%83%D1%8E%20%D0%92%D0%B0%D0%BC%20%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%B8%D1%82%D1%8C%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%3CFONT%20COLOR%3D%22%230000FF%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D812%22%20TARGET%3D%22_blank%22%3E%20%D1%81%D1%82%D0%B0%D1%82%D1%8C%D1%8E%2C%20%D0%BF%D0%BE%D1%81%D0%B2%D1%8F%D1%89%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%D1%82%D0%B5%D0%BC%D0%B5%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%B0%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%26quot%3B%D0%92%D0%B0%D1%88%D0%B5%D0%B3%D0%BE%26quot%3B%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B0%3C%2FA%3E%3C%2FFONT%3E%20-%20%D1%8F%20%D0%BD%D0%B5%20%D0%BF%D0%BE%20%D0%BD%D0%B0%D1%81%D0%BB%D1%8B%D1%88%D0%BA%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%8E%2C%20%D0%BA%D0%B0%D0%BA%20%D0%BD%D0%B5%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%BE%D0%BA%D0%B0%D0%B7%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B5...%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9D%D0%BE%2C%20%D1%80%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%BD%D0%B5%20%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D1%81%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D1%8C%D0%B1%D0%B0%D0%BC%D0%B8.%20%D0%9C%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D0%92%D1%8B%20%D0%BC%D0%BE%D0%B6%D0%B5%D1%82%D0%B5%20%D1%83%D0%B2%D0%B8%D0%B4%D0%B5%D1%82%D1%8C%20%D0%B8%20%D0%B2%20%D0%BC%D0%BE%D0%B4%D0%BD%D1%8B%D1%85%20%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D1%85%2C%20%D0%B8%20%D0%B2%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B5%2C%20%D0%B8%20%D0%BD%D0%B0%20%D0%BE%D0%B1%D0%BB%D0%BE%D0%B6%D0%BA%D0%B0%D1%85%20%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D0%B0%D0%BB%D1%8C%D0%B1%D0%BE%D0%BC%D0%BE%D0%B2%2C%20%D0%B8%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D0%BD%D0%B0%20%D1%8D%D1%82%D0%B8%D0%BA%D0%B5%D1%82%D0%BA%D0%B0%D1%85%20%D0%BA%D0%BE%D1%80%D0%BC%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%B6%D0%B8%D0%B2%D0%BE%D1%82%D0%BD%D1%8B%D1%85!%20%D0%AF%20-%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%20%D0%B8%20%D0%B4%D0%B5%D0%BB%D0%B0%D1%8E%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%83%D0%BC%D0%B5%D1%8E%20%D0%B8%20%D0%BB%D1%8E%D0%B1%D0%BB%D1%8E.%20%D0%9D%D0%BE%20%D0%B2%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%2C%20%D0%BD%D0%B0%D0%B8%D0%B1%D0%BE%D0%BB%D0%B5%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D1%8B%D0%BC%20%D0%B4%D0%BB%D1%8F%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B2%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%20%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%BB%D1%8E%D0%B4%D1%8C%D0%BC%D0%B8%2C%20%D1%81%20%D0%B8%D1%85%20%D1%87%D1%83%D0%B2%D1%81%D1%82%D0%B2%D0%B0%D0%BC%D0%B8%2C%20%D1%8D%D0%BC%D0%BE%D1%86%D0%B8%D1%8F%D0%BC%D0%B8%20%D0%B8%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8%2C%20%D1%81%20%D1%82%D0%B5%D0%BC%2C%20%D1%87%D1%82%D0%BE%20%D0%BE%D1%81%D1%82%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B5%D0%B2%D1%8B%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%85%2C%20%D0%BD%D0%BE%20%D0%BF%D1%80%D0%BE%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D1%84%D0%BE%D1%82%D0%BE%D0%B1%D1%83%D0%BC%D0%B0%D0%B3%D0%B5.%20%D0%92%D0%B5%D0%B4%D1%8C%20%D0%B8%D0%B4%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F%20%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%B2%20%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%20%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B5%D0%B2%20%D0%BD%D0%B5%20%D1%81%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC%20%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D1%81%D0%BE%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D1%81%D1%82%D0%B2%D0%BE%D0%BC%2C%20%D0%B0%20%D1%82%D0%B5%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%BE%D1%82%D0%BA%D0%BB%D0%B8%D0%BA%20%D0%BE%D0%BD%D0%B0%20%D0%BE%D0%B1%D1%80%D0%B5%D1%82%D0%B0%D0%B5%D1%82%20%D0%B2%20%D0%BD%D0%B0%D1%88%D0%B5%D0%BC%20%D0%BF%D0%BE%D0%B4%D1%81%D0%BE%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B8.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D1%80%D0%BE%D1%88%D1%83%20%D0%BF%D1%80%D0%BE%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%B5%D1%81%D0%BB%D0%B8%20%D1%83%D1%82%D0%BE%D0%BC%D0%B8%D0%BB%20%D0%92%D0%B0%D1%81%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8!%20%D0%9F%D0%BE%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%20%D1%8F%20-%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA-%D0%BB%D0%B0%D0%B7%D0%B5%D1%80%D1%89%D0%B8%D0%BA%2C%20%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D0%BB%D0%B5%D1%82%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D1%83%D0%BF%D0%BE%D1%80%D0%BD%D0%BE%20%D1%83%D1%87%D0%B8%D0%BB%20%D1%81%D1%82%D1%83%D0%B4%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0%D0%BC%20%D0%BE%D0%BF%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85%20%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9%20%D0%B8%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA%D0%B5%20%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%B2%20%D1%81%D1%82%D0%B8%D0%BC%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%B8%D0%B7%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%BE%D1%82%D1%87%D0%B0%D1%81%D1%82%D0%B8%20%D0%BF%D0%BE%D1%8D%D1%82%D0%BE%D0%BC%D1%83%20%D0%BC%D0%BD%D0%B5%20%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%20%3A)%20%D0%A0%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D0%BD%D0%B5%20%D0%BC%D0%BE%D0%B3%20%D0%BD%D0%B5%20%D0%BF%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D1%8C%D1%81%D1%8F%20%D1%81%20%D0%92%D0%B0%D0%BC%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B8%D0%BC%D0%B8%20%D0%B8%D0%B4%D0%B5%D1%8F%D0%BC%D0%B8%20%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BD%D0%BE%2C%20%D0%B4%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D0%BD%D0%B0%D0%B3%D0%BB%D1%8F%D0%B4%D0%BD%D0%B5%D0%B5%20%D0%BE%D0%B1%20%D1%8D%D1%82%D0%BE%D0%BC%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B6%D1%83%D1%82%20%D0%BC%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%A3%D0%B4%D0%B0%D1%87%D0%B8%20%D0%92%D0%B0%D0%BC%20%D0%B8%20%D1%85%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D1%85%20%D1%81%D0%BD%D0%B8%D0%BC%D0%BA%D0%BE%D0%B2!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%91%D1%83%D0%B4%D0%B5%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%B2%D1%8F%D0%B7%D0%B8!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%98%D1%81%D0%BA%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%20%D0%92%D0%B0%D1%88%2C%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%20%D0%9A%D1%80%D1%83%D0%B3%D0%BB%D0%BE%D0%B2.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E';
echo urldecode($str);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:08:48.650

试试这个**标题（“内容类型：文本/html；字符集=UTF-8”）；**

```
<?php
header("Content-Type: text/html; charset=UTF-8");
$str = '%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9C%D0%B5%D0%BD%D1%8F%20%D0%B7%D0%BE%D0%B2%D1%83%D1%82%20%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%2C%20%D1%80%D0%B0%D0%B4%20%D0%BF%D1%80%D0%B8%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%92%D0%B0%D1%81%20%D0%BD%D0%B0%20%D0%BC%D0%BE%D0%B5%D0%BC%20%D1%81%D0%B0%D0%B9%D1%82%D0%B5!%20%D0%9A%D0%B0%D0%BA%20%D0%92%D1%8B%20%D1%83%D0%B6%D0%B5%20%D0%B4%D0%BE%D0%B3%D0%B0%D0%B4%D0%B0%D0%BB%D0%B8%D1%81%D1%8C%2C%20%D1%8F%20-%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84.%20%D0%9A%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D1%82%D0%BE%20%D0%B4%D0%B0%D0%B2%D0%BD%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%B1%D1%8B%D0%BB%D0%BE%20%D0%BC%D0%BE%D0%B8%D0%BC%20%D1%85%D0%BE%D0%B1%D0%B1%D0%B8%2C%20%D0%BD%D0%BE%20%D1%83%D0%B6%D0%B5%20%D1%81%202005%20%D0%B3%D0%BE%D0%B4%D0%B0%20%D1%8D%D1%82%D0%BE%20%D0%BC%D0%BE%D1%8F%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D1%8F.%20%D0%98%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D1%80%D0%B8%D1%8F%D1%82%D0%BD%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%B5%D0%B9%20%D1%81%D1%82%D0%B0%D0%BB%D0%BE%20%D0%BB%D1%8E%D0%B1%D0%B8%D0%BC%D0%BE%D0%B5%20%D0%B4%D0%B5%D0%BB%D0%BE!%20%D0%9D%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82%20%D1%8F%20%D0%B6%D0%B8%D0%B2%D1%83%20%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%B2%20%D0%9F%D1%80%D0%B0%D0%B3%D0%B5.%20%D0%98%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B5%D0%B7%D0%B4%20%D0%B2%20%D1%8D%D1%82%D0%BE%D1%82%20%D1%83%D0%B4%D0%B8%D0%B2%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D0%B3%D0%BE%D1%80%D0%BE%D0%B4%20%D0%B2%202006%20%D0%B3%D0%BE%D0%B4%D1%83%20%D0%B2%D0%BE%20%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BC%20%D0%BF%D0%BE%D0%B2%D0%BB%D0%B8%D1%8F%D0%BB%20%D0%BD%D0%B0%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%8F%20%D1%81%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BD%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BB%20%D1%81%D0%B2%D0%BE%D0%B5%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20%20%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B8%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B5%20%D1%81%D0%B5%D0%B9%D1%87%D0%B0%D1%81%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%20%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%20%D0%B1%D1%83%D1%80%D0%BD%D0%BE%D0%B5%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20-%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B9%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8!%20%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%97%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D0%B8%D0%B5%206%20%D0%BB%D0%B5%D1%82%20%D1%8F%20%D1%81%D0%BD%D1%8F%D0%BB%20%D1%81%D0%BE%D1%82%D0%BD%D0%B8%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%2C%20%D1%87%D1%82%D0%BE%2C%20%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%BE%2C%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D1%82%D1%8C%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%8B%D0%BC%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%BE%D0%BC!%20%D0%AD%D1%82%D0%BE%D1%82%20%D0%BE%D0%BF%D1%8B%D1%82%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%BC%D0%BD%D0%B5%20%D0%B2%20%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B9%20%D0%BC%D0%B5%D1%80%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B8%20%D1%81%D1%83%D0%B4%D0%B8%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F.%20%D0%94%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D1%87%D1%82%D0%BE%20%D0%BC%D0%BE%D0%B8%20%D1%81%D0%BE%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BC%D0%BE%D0%B3%D1%83%D1%82%20%D0%BF%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%D1%81%D1%8F%20%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%82%D0%B5%D0%BC%20%D0%B8%D0%B7%20%D0%92%D0%B0%D1%81%2C%20%D0%BA%D1%82%D0%BE%20%D0%B7%D0%B0%D0%BD%D0%B8%D0%BC%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC%20%D1%81%D0%B2%D0%BE%D0%B5%D0%B3%D0%BE%20%D1%82%D0%BE%D1%80%D0%B6%D0%B5%D1%81%D1%82%D0%B2%D0%B0.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%230000FF%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D2787%22%20TARGET%3D%22_blank%22%3E%D0%92%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8%20Happywedding%3C%2FA%3E%3CFONT%20COLOR%3D%22%23000000%22%3E%20%20%D1%8F%20%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D1%80%D0%B0%D0%BB%D1%81%D1%8F%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C%20%D0%BE%20%D1%82%D0%BE%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%B2%20%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D0%B5%20%D0%B2%D0%B8%D0%B6%D1%83%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D1%83%D1%8E%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8E.%3CFONT%20COLOR%3D%22%230000FF%22%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9A%D1%80%D0%BE%D0%BC%D0%B5%20%D1%82%D0%BE%D0%B3%D0%BE%2C%20%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D1%83%D1%8E%20%D0%92%D0%B0%D0%BC%20%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%B8%D1%82%D1%8C%20%D0%B2%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%3CFONT%20COLOR%3D%22%230000FF%22%3E%3CA%20HREF%3D%22http%3A%2F%2Fwww.happywedding.cz%2Fblog%2F%3Fp%3D812%22%20TARGET%3D%22_blank%22%3E%20%D1%81%D1%82%D0%B0%D1%82%D1%8C%D1%8E%2C%20%D0%BF%D0%BE%D1%81%D0%B2%D1%8F%D1%89%D0%B5%D0%BD%D0%BD%D1%83%D1%8E%20%D1%82%D0%B5%D0%BC%D0%B5%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%B0%20%D0%B8%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%20%26quot%3B%D0%92%D0%B0%D1%88%D0%B5%D0%B3%D0%BE%26quot%3B%20%D1%81%D0%B2%D0%B0%D0%B4%D0%B5%D0%B1%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B0%3C%2FA%3E%3C%2FFONT%3E%20-%20%D1%8F%20%D0%BD%D0%B5%20%D0%BF%D0%BE%20%D0%BD%D0%B0%D1%81%D0%BB%D1%8B%D1%88%D0%BA%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%8E%2C%20%D0%BA%D0%B0%D0%BA%20%D0%BD%D0%B5%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%20%D1%8D%D1%82%D0%BE%20%D0%BE%D0%BA%D0%B0%D0%B7%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B5...%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9D%D0%BE%2C%20%D1%80%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%20%D0%BD%D0%B5%20%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D1%81%D0%BE%20%D1%81%D0%B2%D0%B0%D0%B4%D1%8C%D0%B1%D0%B0%D0%BC%D0%B8.%20%D0%9C%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D0%92%D1%8B%20%D0%BC%D0%BE%D0%B6%D0%B5%D1%82%D0%B5%20%D1%83%D0%B2%D0%B8%D0%B4%D0%B5%D1%82%D1%8C%20%D0%B8%20%D0%B2%20%D0%BC%D0%BE%D0%B4%D0%BD%D1%8B%D1%85%20%D0%B6%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B0%D1%85%2C%20%D0%B8%20%D0%B2%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B5%2C%20%D0%B8%20%D0%BD%D0%B0%20%D0%BE%D0%B1%D0%BB%D0%BE%D0%B6%D0%BA%D0%B0%D1%85%20%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D0%B0%D0%BB%D1%8C%D0%B1%D0%BE%D0%BC%D0%BE%D0%B2%2C%20%D0%B8%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D0%BD%D0%B0%20%D1%8D%D1%82%D0%B8%D0%BA%D0%B5%D1%82%D0%BA%D0%B0%D1%85%20%D0%BA%D0%BE%D1%80%D0%BC%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%B6%D0%B8%D0%B2%D0%BE%D1%82%D0%BD%D1%8B%D1%85!%20%D0%AF%20-%20%D0%BF%D1%80%D0%BE%D1%84%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%20%D0%B8%20%D0%B4%D0%B5%D0%BB%D0%B0%D1%8E%20%D1%82%D0%BE%2C%20%D1%87%D1%82%D0%BE%20%D1%83%D0%BC%D0%B5%D1%8E%20%D0%B8%20%D0%BB%D1%8E%D0%B1%D0%BB%D1%8E.%20%D0%9D%D0%BE%20%D0%B2%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%2C%20%D0%BD%D0%B0%D0%B8%D0%B1%D0%BE%D0%BB%D0%B5%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D1%8B%D0%BC%20%D0%B4%D0%BB%D1%8F%20%D0%BC%D0%B5%D0%BD%D1%8F%20%D0%B2%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%20%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%BB%D1%8E%D0%B4%D1%8C%D0%BC%D0%B8%2C%20%D1%81%20%D0%B8%D1%85%20%D1%87%D1%83%D0%B2%D1%81%D1%82%D0%B2%D0%B0%D0%BC%D0%B8%2C%20%D1%8D%D0%BC%D0%BE%D1%86%D0%B8%D1%8F%D0%BC%D0%B8%20%D0%B8%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8%2C%20%D1%81%20%D1%82%D0%B5%D0%BC%2C%20%D1%87%D1%82%D0%BE%20%D0%BE%D1%81%D1%82%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B5%D0%B2%D1%8B%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%85%2C%20%D0%BD%D0%BE%20%D0%BF%D1%80%D0%BE%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%BD%D0%B0%20%D1%84%D0%BE%D1%82%D0%BE%D0%B1%D1%83%D0%BC%D0%B0%D0%B3%D0%B5.%20%D0%92%D0%B5%D0%B4%D1%8C%20%D0%B8%D0%B4%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F%20%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%B2%20%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%20%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B5%D0%B2%20%D0%BD%D0%B5%20%D1%81%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC%20%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D1%81%D0%BE%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D1%81%D1%82%D0%B2%D0%BE%D0%BC%2C%20%D0%B0%20%D1%82%D0%B5%D0%BC%2C%20%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%BE%D1%82%D0%BA%D0%BB%D0%B8%D0%BA%20%D0%BE%D0%BD%D0%B0%20%D0%BE%D0%B1%D1%80%D0%B5%D1%82%D0%B0%D0%B5%D1%82%20%D0%B2%20%D0%BD%D0%B0%D1%88%D0%B5%D0%BC%20%D0%BF%D0%BE%D0%B4%D1%81%D0%BE%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B8.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D1%80%D0%BE%D1%88%D1%83%20%D0%BF%D1%80%D0%BE%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%B5%D1%81%D0%BB%D0%B8%20%D1%83%D1%82%D0%BE%D0%BC%D0%B8%D0%BB%20%D0%92%D0%B0%D1%81%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8!%20%D0%9F%D0%BE%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%20%D1%8F%20-%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA-%D0%BB%D0%B0%D0%B7%D0%B5%D1%80%D1%89%D0%B8%D0%BA%2C%20%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D0%BB%D0%B5%D1%82%20%D0%B4%D0%B0%D0%B6%D0%B5%20%D1%83%D0%BF%D0%BE%D1%80%D0%BD%D0%BE%20%D1%83%D1%87%D0%B8%D0%BB%20%D1%81%D1%82%D1%83%D0%B4%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B0%D0%BC%20%D0%BE%D0%BF%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85%20%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9%20%D0%B8%20%D1%84%D0%B8%D0%B7%D0%B8%D0%BA%D0%B5%20%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%B2%20%D1%81%D1%82%D0%B8%D0%BC%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%B8%D0%B7%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%2C%20%D0%BE%D1%82%D1%87%D0%B0%D1%81%D1%82%D0%B8%20%D0%BF%D0%BE%D1%8D%D1%82%D0%BE%D0%BC%D1%83%20%D0%BC%D0%BD%D0%B5%20%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%20%3A)%20%D0%A0%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B5%D1%82%D1%81%D1%8F%2C%20%D1%8F%20%D0%BD%D0%B5%20%D0%BC%D0%BE%D0%B3%20%D0%BD%D0%B5%20%D0%BF%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D1%8C%D1%81%D1%8F%20%D1%81%20%D0%92%D0%B0%D0%BC%D0%B8%20%D1%81%D0%B2%D0%BE%D0%B8%D0%BC%D0%B8%20%D0%B8%D0%B4%D0%B5%D1%8F%D0%BC%D0%B8%20%D0%BE%D1%82%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%20%D1%84%D0%BE%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%B8%2C%20%D0%BD%D0%BE%2C%20%D0%B4%D1%83%D0%BC%D0%B0%D1%8E%2C%20%D0%BD%D0%B0%D0%B3%D0%BB%D1%8F%D0%B4%D0%BD%D0%B5%D0%B5%20%D0%BE%D0%B1%20%D1%8D%D1%82%D0%BE%D0%BC%20%D1%80%D0%B0%D1%81%D1%81%D0%BA%D0%B0%D0%B6%D1%83%D1%82%20%D0%BC%D0%BE%D0%B8%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%A3%D0%B4%D0%B0%D1%87%D0%B8%20%D0%92%D0%B0%D0%BC%20%D0%B8%20%D1%85%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D1%85%20%D1%81%D0%BD%D0%B8%D0%BC%D0%BA%D0%BE%D0%B2!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%91%D1%83%D0%B4%D0%B5%D0%BC%20%D0%BD%D0%B0%20%D1%81%D0%B2%D1%8F%D0%B7%D0%B8!%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%98%D1%81%D0%BA%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%20%D0%92%D0%B0%D1%88%2C%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E%3CTEXTFORMAT%20LEADING%3D%222%22%3E%3CP%20ALIGN%3D%22JUSTIFY%22%3E%3CFONT%20FACE%3D%22Arial%22%20SIZE%3D%2212%22%20COLOR%3D%22%23000000%22%20LETTERSPACING%3D%220%22%20KERNING%3D%220%22%3E%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%20%D0%9A%D1%80%D1%83%D0%B3%D0%BB%D0%BE%D0%B2.%3C%2FFONT%3E%3C%2FP%3E%3C%2FTEXTFORMAT%3E';
echo urldecode($str); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:57:45.913

也许您需要将文本编辑器中的字符编码更改为您正在使用的 UTF-8。这是程序员记事本中的样子。尝试谷歌如何更改文本编辑器中的字符编码。

![在此处输入图像描述](../Images/779097972812ce6abf5d5b448d14625c.png)

# android - 通过模拟器控制台或 ADB 更改 Android 模拟器方向

> ID：11184503
> 
> 赞同：2
> 
> 时间：2012-06-25T06:41:14.040
> 
> 标签：android, console, orientation, emulation, adb

我正在尝试构建一个自动化测试框架来检查应用程序应该响应的基本内容，而不会崩溃。其中之一是检查应用程序是否正确响应配置更改。现在，由于它是自动化的，我必须在横向和纵向之间切换模拟器的方向，并以编程方式观察它是否崩溃。[大写因为有很多关于 ctrl+F12 或 num pad 7 的问题]

我正在尝试找出一个 adb 或模拟器控制台命令来完成这项工作。

我对 localhost:5554 做了一个 telnet 并输入了以下命令：

> $sensor status // 给出所有传感器的启用/禁用状态

```
acceleration: enabled.
magnetic-field: enabled.
orientation: enabled.
temperature: enabled.
proximity: enabled.
OK 
```

> $sensor 获取方向

```
orientation = 0:0:0 
```

> $sensor 设置方向 90:0:0

```
OK 
```

我尝试了不同的组合，但它没有响应。为了获得在横向模式下设置的值，我使用 ctrl+F12 手动更改了方向并尝试再次获取方向传感器状态，但令我沮丧的是，该值没有改变。

[某个博客也提到了 ADB 中的这个特定命令](http://discuz-android.blogspot.com/2008/01/change-android-screen-landscapeportrait.html)

> $service 调用窗口 18 i32 1
> 
> $service 调用窗口 18 i32 0

用于切换方向。但是，我收到此错误消息

> 结果：包裹（fffffffc ffffffff '........'）

如果我能找到解决方案，那就太好了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T18:38:28.010

最后我想出了一个办法。

首先，我将尝试稍微澄清一下这个问题：

通常人们谈论“旋转”AVD 屏幕实际上意味着将皮肤布局更改为纵向/横向（平板电脑的模拟旋转）。这可以通过按数字键盘上的“7/9”键或按 ctrl+Fn+F12 来完成。在这种情况下，显示的方向不会改变，有时显示会令人讨厌的从左到右或从右到左，而不是自然的从上到下。这可以通过取消选中android设置中的自动旋转来解决。

但是，在某些情况下，我们希望看到重力传感器的效果。我认为这实际上与OP的问题有关。与 GPS 不同，Eclipse 没有 GUI 工具来执行此操作。OP非常接近解决问题。但是，方向传感器不是正确的，我们需要使用重力/加速度传感器来自动旋转屏幕。尝试以下命令并观察自动旋转的显示方向：

```
sensor set acceleration 9.77622:0:0
sensor set acceleration 0:9.77622:0
sensor set acceleration 0:0:9.77622 
```

# java - 我可以在 android xml 布局或字符串值文件中编写 java 代码吗？

> ID：11184505
> 
> 赞同：3
> 
> 时间：2012-06-25T06:41:39.737
> 
> 标签：java, android, android-layout

我想知道是否可以在 android XML 布局或字符串值文件中编写 java 代码？

我的意思是这样的：

```
<string name="hello">Utilities.doSomething("Hello World, ActMain!")</string>
<string name="app_name">insurance</string> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:47:42.590

你试过了吗？显然，`Eclipse`它没有显示错误。所以答案是：

> 我可以在 android xml 布局或字符串值文件中编写 java 代码吗？

是是的。

但是当你执行它时你不会得到想要的功能。因此，无论如何它都是死代码。因此，最终，您可以编写它，但不能使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:57:41.707

可以通过以下方式从 strings.xml 运行代码（未经测试，但这样做的高级想法） 1.使用 R.string.* 从 strings.xml 获取字符串，其中 * 是字符串的名称。

2.使用任何表达式评估库来运行它。

这又是一个非常高级的想法。您必须自己弄清楚如何做到这一点。

[检查 Jel 库](http://www.gnu.org/software/jel/)

[或查看此评估库列表](http://java-source.net/open-source/expression-languages)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:48:34.587

不，不可能在字符串 xml 或布局中编写代码并让它执行，原因很简单：

1）如果您编写的Java代码必须运行，则必须对其进行编译。2）资源被编译成不同的形式，这样android就不必每次都解析XML（昂贵的操作）。

strings.xml 的基本用途是用于国际化（即使您必须添加对多种语言的支持，您的应用程序的代码也不会改变）。IMO，没有正当理由在 XML 文件中编写 java 代码。

# function - QTP，有没有一次对所有函数库进行更改？

> ID：11184507
> 
> 赞同：0
> 
> 时间：2012-06-25T06:41:43.160
> 
> 标签：function, qtp

QTP 中是否有任何方法可以一次对所有函数库进行更改，而无需访问每个函数库并进行更新？

我对某些功能有疑问，我已经构建了新功能，我想在我的脚本中使用它们。

非常感谢您的帮助。

谢谢马奈萨

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:41:26.087

AFAIK，在 QTP 中，没有这样的方法可以更新多个选项卡中存在的代码，无论它可能是函数库、操作还是可在多个选项卡中重用。您必须手动进行。您可以使用一些高级编辑器，例如[Notepad++](http://notepad-plus-plus.org/)。但同样，您只能在代码中进行更改，而不能在 OR 中进行更改。数据表的这种任务很容易，因为它可以直接作为excel文件打开。

如果您只想更新代码，那么您可以在 notepad++ 中打开所需的函数库。然后转到搜索 - 替换 (Ctrl + H)& 然后单击全部替换所有打开的文档。

希望这会帮助你。

# javascript - 如何在tinymce的第一段中添加html链接

> ID：11184512
> 
> 赞同：0
> 
> 时间：2012-06-25T06:42:11.780
> 
> 标签：javascript, tinymce

我想在 TinyMCE 的第一段中添加 HTML 链接并禁用所有段落。我该如何解决？请帮忙。

```
mode : "exact",
elements:"home_textarea",
theme : "advanced",
plugins : "pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave",
gecko_spellcheck : true,

// Theme options
theme_advanced_buttons1 : "bold,italic,underline,strikethrough",
theme_advanced_buttons2 : "code",
theme_advanced_buttons3 : "",
theme_advanced_buttons4 : "",
theme_advanced_toolbar_location : "top",
theme_advanced_toolbar_align : "left",
theme_advanced_statusbar_location : "bottom",
theme_advanced_resizing : true, 
```

我想要 in 的“代码 `theme_advanced_buttons2`” `theme_advanced_buttons1`。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:28:32.647

那这个呢：

```
theme_advanced_buttons1 : "bold,italic,underline,strikethrough,code",
theme_advanced_buttons2 : "", 
```

# mysql - 如何优化 MySQL 查询

> ID：11184514
> 
> 赞同：0
> 
> 时间：2012-06-25T06:42:15.287
> 
> 标签：mysql, sql, indexing, query-optimization

我有很多查询，例如以下查询。我如何优化它们-

```
SELECT DISTINCT
  n.nid AS nid, n.title AS title, n.created AS created, n.changed AS changed,
  n.type AS type, n.status AS status, n.uid AS uid, u.name AS name,
  fit.field_item_topic_tid AS field_item_topic_tid,
  fui.field_upload_item_fid AS field_upload_item_fid,
  fist.field_item_sub_topic_tid AS field_item_sub_topic_tid,
  asid.field_item_asset_id_value AS field_item_asset_id_value,
  fur.field_item_urgent_value AS field_item_urgent_value,
  scrubbing.field_item_scrubbing_value AS field_item_scrubbing_value,
  wsts.field_item_workflow_status_value AS field_item_workflow_status_value,
  wfs.state AS state
FROM 
node n
LEFT OUTER JOIN field_data_field_item_topic fit ON n.nid=fit.entity_id
LEFT OUTER JOIN field_data_field_upload_item fui ON fui.entity_id= n.nid
LEFT OUTER JOIN field_data_field_item_sub_topic fist ON n.nid=fist.entity_id
LEFT OUTER JOIN field_data_field_item_asset_id asid ON n.nid=asid.entity_id
LEFT OUTER JOIN field_data_field_item_urgent fur ON fur.entity_id= n.nid
LEFT OUTER JOIN field_data_field_item_scrubbing scrubbing ON scrubbing.entity_id= n.nid
LEFT OUTER JOIN field_data_field_item_workflow_status wsts ON wsts.entity_id = n.nid
LEFT OUTER JOIN workflow_states wfs ON wfs.sid = wsts.field_item_workflow_status_value
LEFT OUTER JOIN users u ON u.uid = n.uid
WHERE ( (n.type = 'item') )
AND( (wsts.field_item_workflow_status_value IN  ('All', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10')) )
AND(    (fit.field_item_topic_tid IN  ('NULL', '46', '47', '48', '52', '73', '90', '118', '142', '150', '154', '175', '196', '362', '363', '366', '367', '383', '403', '406', '533', '535', '543'))
     OR (fist.field_item_sub_topic_tid IN  ('NULL', '50', '51', '66', '67', '70', '71', '74', '75', '76', '93', '143', '151', '197', '198', '206', '211', '304', '364', '368', '384', '404', '407', '534', '536'))
)
ORDER BY n.changed desc
LIMIT 20 OFFSET 0 
```

```
EXPLAIN-
id  select_type     table   type    possible_keys   key     key_len     ref     rows    Extra
1   SIMPLE  wsts    range   entity_id,field_item_workflow_status_value  field_item_workflow_status_value    5   NULL    1708    Using where; Using temporary; Using filesort
1   SIMPLE  wfs     eq_ref  PRIMARY     PRIMARY     4   lightening1.wsts.field_item_workflow_status_value   1    
1   SIMPLE  n   eq_ref  PRIMARY,node_type,nid   PRIMARY     4   lightening1.wsts.entity_id  1   Using where
1   SIMPLE  u   eq_ref  PRIMARY     PRIMARY     4   lightening1.n.uid   1    
1   SIMPLE  fit     ref     entity_id   entity_id   4   lightening1.wsts.entity_id  1    
1   SIMPLE  fui     ref     entity_id   entity_id   4   lightening1.wsts.entity_id  1    
1   SIMPLE  fist    ref     entity_id   entity_id   4   lightening1.n.nid   1   Using where
1   SIMPLE  asid    ref     entity_id   entity_id   4   lightening1.wsts.entity_id  1    
1   SIMPLE  fur     ref     entity_id   entity_id   4   lightening1.wsts.entity_id  1    
1   SIMPLE  scrubbing   ref     entity_id   entity_id   4   lightening1.n.nid   1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:54:34.930

您没有包含表结构（尤其是索引），所以我只能提供一半的答案。首先，在输出中注意这一行：

```
1   SIMPLE  wsts    range   entity_id,field_item_workflow_status_value  field_item_workflow_status_value    5   NULL    1708    Using where; Using temporary; Using filesort 
```

这意味着它必须手动查看 1708 条记录。使用了索引等，但保留了 1708 个。这些记录将使用已知速度较慢的文件进行排序。

在查询中

```
LEFT OUTER JOIN field_data_field_item_workflow_status wsts ON wsts.entity_id = n.nid 
```

根据表 field_data_field_item_workflow_status 进行一些选择。如果你可以在那里添加索引，我认为你必须集中精力。如果索引存在，也许可以更好地描述它？如果有索引，也许字段长度可以缩短？索引随着数据类型的增加而变得越来越大。因此，尽可能使用 TINYINT 而不是 INT。

无论如何你很接近:)

# asp.net - 如何将字节转换为图像并将图像转换为字节并在wpf c#中的图像框中显示

> ID：11184516
> 
> 赞同：0
> 
> 时间：2012-06-25T06:42:44.237
> 
> 标签：asp.net, wpf

我将图像转换为字节的代码，但我在图像框中出现黑屏：

```
 Bitmap bitmap = new Bitmap(100, 100);
 MemoryStream MemImage = new MemoryStream();
 bitmap.Save(name, ImageFormat.Bmp);
 bitmap.Save(MemImage, ImageFormat.Bmp);
 byte[] Byte = MemImage.ToArray(); 
```

将字节转换为图像：

```
byte[] data = (byte[])Query.Images;
MemoryStream strm = new MemoryStream();
strm.Write(data, 0, data.Length);
strm.Position = 0;
System.Drawing.Image imgTemp = System.Drawing.Image.FromStream(strm);
BitmapImage bi = new BitmapImage();
bi.BeginInit();
MemoryStream ms = new MemoryStream();
imgTemp.Save(ms, System.Drawing.Imaging.ImageFormat.Bmp);
ms.Seek(0, SeekOrigin.Begin);
bi.StreamSource = ms;
bi.EndInit();
ImageBox.Source = bi; 
```

但是在上面的代码中，一个问题是图像没有显示在图像框中（显示黑屏）请解决这个问题并发给我.....谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:34:31.670

试试这个代码

```
public byte[] imageToByteArray(System.Drawing.Image imageIn)
{
    MemoryStream ms = new MemoryStream();
    imageIn.Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);
    return ms.ToArray();
}
public Image byteArrayToImage(byte[] byteArrayIn)
{
    MemoryStream ms = new MemoryStream(byteArrayIn);
    Image returnImage = Image.FromStream(ms);
    return returnImage;
} 
```

# php - 在gentoo上切换apache mpm

> ID：11184520
> 
> 赞同：0
> 
> 时间：2012-06-25T06:43:13.900
> 
> 标签：php, apache, concurrency, apache2

我有一个 gentoo 盒子，我已经完成了默认 gentoo 安装。现在我想改变它的mpm，因为我的[彗星阻止](https://stackoverflow.com/questions/11126465/php-comet-usleep-blocking-apache-mpm) 了所有其他请求。mpm应该`worker`解决这个并发问题吗？我怎样才能改变gentoo上的mpm？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T17:12:07.597

您只需将 APACHE2_MPMS 设置为所需的 MPM：

```
# echo 'APACHE2_MPMS="worker"' >> /etc/portage/make.conf 
```

我不知道它是否会解决您的并发问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-20T13:46:47.033

您应该使用`APACHE2_MPMS="prefork"` in，`/etc/portage/make.conf`因为这是唯一可以确保不会出现并发问题的模块。这样做的原因是，这个模块对每个请求都使用一个线程。

# sql-server - SQL IF-ELSE 结构中的 CTE

> ID：11184522
> 
> 赞同：6
> 
> 时间：2012-06-25T06:43:21.910
> 
> 标签：sql-server, common-table-expression

我想做这样的事情

```
declare @a int=1
if (@a=1)
with cte as 
(
select UserEmail from UserTable 
)
else
with cte as
(
select UserID from UserTable
)
select * from cte 
```

这只是一个例子，我的实际查询要复杂得多。所以我不想在CTE之后写两次`SELECT`声明里面`IF`和声明。`ELSE`

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-25T07:16:54.133

如果可能的话，想办法`if`完全避免这种说法。

例如，在您的问题中这样一个微不足道的例子中：

```
;with CTE as (
      select UserEmail from UserTable where @a = 1
      union all
      select UserID from UserTable where @a != 1 or @a is null
)
select /* single select statement here */ 
```

通常应该可以将一个或多个不同的查询组合成最终的`UNION ALL`cte，而不是使用`if`- 毕竟，被组合的两个查询无论如何都必须具有兼容的结果集，才能使您的原始问题有意义。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-25T06:49:02.277

您不能这样做 - CTE**必须**紧跟一个可以引用它的 SQL 语句。您不能将 CTE 的“定义”与使用它的语句分开。

所以你需要这样做：

```
declare @a int=1

if (@a=1)
    with cte as 
    (
       select UserEmail from UserTable 
    )
    select * from cte

else

    with cte as
    (
       select UserID from UserTable
    )
    select * from cte 
```

您不能拆分 CTE“定义”以供其使用 ( `select * from cte`)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-25T08:50:08.413

这`with cte (...) select from cte ...`是**一个单一的声明**。不是“跟随”语句，而是语句**的**一部分。您要求将声明一分为二，这显然是不可能的。

作为一般规则，SQL 是一种非常不友好的语言，用于 DRY 和避免代码重复。尝试使代码更易于维护、更易读，或者只是尝试保存一些击键可能（并且通常会）导致严重的运行时性能损失（例如，尝试将 CTE 移动到表值函数 UDF 中）。最简单的事情就是咬紧牙关（这次和将来......）并写两次 CTE。有时将 CTE 实体化为 #temp 表然后对 #temp 表进行操作是有意义的，但仅在*某些时候*。

这种[现状是不幸的](http://37signals.com/svn/posts/3179-you-only-get-one-chance-to-be-a-beginner)，但是您可以从[委员会的设计](http://www.ansi.org/)中获得一切...

# android - 带有固定文本视图的表格布局

> ID：11184524
> 
> 赞同：0
> 
> 时间：2012-06-25T06:43:24.727
> 
> 标签：android, tablelayout

我需要有关如何在表格布局中制作固定 textview 大小的帮助。说如果它上面的文本超过它的大小，我希望它上面的文本转到下一行，并且同一行上的其他文本视图的高度也会被拉伸。

我正在使用 layout_weight 来确定 textview 的大小，但是当它上面的文本超过它的大小时就会出现问题。表格布局将变得一团糟。

我正在尝试使用“dp”来固定尺寸，但恐怕尺寸不适合大屏幕的尺寸。

有人可以帮忙吗？提前致谢。

我在其他行上使用滚动视图，但标题行。

编辑：更改了描述，如果文本太长，我想要的是文本将转到下一行，并且同一行上的其他文本视图也会被拉伸。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:05:32.443

您可以将`android:stretchColumns`属性用于表格布局。因此它会拉伸您的列，然后在表格行的子视图中，您可以设置权重，以便您可以使所有列具有相同的宽度。

这是一个示例代码。

```
 <TableLayout
android:id="@+id/TableLayout01"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:stretchColumns="1" >

<TableRow
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="center_vertical" >

    <TextView
        android:layout_width="0dip"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Number of Years of Installation"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <EditText
        android:id="@+id/etNumberOfYearsOfInstallation"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:inputType="number" />
</TableRow> 
```

# mysql - 无法在 MySQL 中删除具有奇怪名称的过程

> ID：11184532
> 
> 赞同：1
> 
> 时间：2012-06-25T06:43:53.823
> 
> 标签：mysql, stored-procedures

在 MySQL 中，我不能删除过程**mobisys_mtly_db`cms_partner_add_or_edit**因为它有符号**`**。

控制台中的详细示例

```
mysql> DROP PROCEDURE mobisys_mtly_db`cms_partner_add_or_edit;
`> `
-> ; 
```

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以`cms_partner_add_or_edit;` 在第 1 行的“”附近使用正确的语法

```
mysql> DROP PROCEDURE "mobisys_mtly_db\`cms_partner_add_or_edit"; 
```

> ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“mobisys_mtly_db`cms_partner_add_or_edit”附近使用正确的语法

以下不起作用：

> 删除过程 mobisys_mtly_db`cms_partner_add_or_edit
> 
> 删除过程 mobisys_mtly_db\`cms_partner_add_or_edit
> 
> 删除过程'mobisys_mtly_db`cms_partner_add_or_edit'
> 
> 删除过程'mobisys_mtly_db\`cms_partner_add_or_edit'
> 
> 删除程序“mobisys_mtly_db`cms_partner_add_or_edit”
> 
> 删除程序“mobisys_mtly_db\`cms_partner_add_or_edit”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:57:22.603

你应该使用这个查询 -

```
DROP PROCEDURE `mobisys_mtly_db``cms_partner_add_or_edit` 
```

文档页面 -[架构对象名称](http://dev.mysql.com/doc/refman/5.5/en/identifiers.html)。

# iphone - Iphone：图像选择器不工作

> ID：11184533
> 
> 赞同：-3
> 
> 时间：2012-06-25T06:43:55.193
> 
> 标签：iphone, objective-c, xcode, uiimageview

我正在为 imagePicker 演示实现，但它不起作用。当我单击选择图像按钮时，什么也没有发生。我的代码如下：

```
-(IBAction)pick:(id)sender
{
    ipc=[[UIImagePickerController alloc]init];
    ipc.delegate=self;
    ipc.sourceType=UIImagePickerControllerSourceTypePhotoLibrary;
    NSLog(@" %@",ipc.sourceType);

    [ipc presentModalViewController:self animated:YES];

}

-(void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
{
    [[picker parentViewController]dismissModalViewControllerAnimated:YES];
    [picker release];
}

-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    img.image=[info objectForKey:UIImagePickerControllerOriginalImage];

    [[picker parentViewController]dismissModalViewControllerAnimated:YES];
    [picker release];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:48:34.243

请更改您的代码

```
[ipc presentModalViewController:self animated:YES]; 
```

至

```
[self presentModalViewController:ipc animated:YES]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:51:12.403

问题是您正在尝试使用以下方式呈现模态视图：

```
[ipc presentModalViewController:self 动画:YES];

```

相反，您应该使用：

```
[自我presentModalViewController：ipc动画：是]；

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:51:15.007

这个怎么样：

```
 -(IBAction)pick:(id)sender
{
       if ([UIImagePickerController isSourceTypeAvailable:
             UIImagePickerControllerSourceTypeCamera])
        {
            UIImagePickerController *imagePicker =
            [[UIImagePickerController alloc] init];
            imagePicker.delegate = self;
            imagePicker.sourceType =
            UIImagePickerControllerSourceTypeCamera;
            imagePicker.mediaTypes = [NSArray arrayWithObjects:
                                      (NSString *) kUTTypeImage,
                                      nil];
            imagePicker.allowsEditing = NO;
            [self presentModalViewController:imagePicker
                                    animated:YES];

            newMedia = YES;
        } 

 -(void) imagePickerController:(UIImagePickerController *)picker
didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    [self.popoverController dismissPopoverAnimated:YES];
    NSString *mediaType = [info
                           objectForKey:UIImagePickerControllerMediaType];

    if ([mediaType isEqualToString:(NSString *)kUTTypeImage]) {
        UIImage *image = [info
                          objectForKey:UIImagePickerControllerOriginalImage];

        imageView.image = image;
        if (newMedia)
            UIImageWriteToSavedPhotosAlbum(image,
                                           self,  
                                           @selector(image:finishedSavingWithError:contextInfo:),
                                           nil);
    }
    else if ([mediaType isEqualToString:(NSString *)kUTTypeMovie])
    {
        // Code here to support video if enabled
    } 
} 
```

# c# - 如何初始化自定义类型的数组？

> ID：11184534
> 
> 赞同：0
> 
> 时间：2012-06-25T06:43:59.253
> 
> 标签：c#, arrays

如何创建一个包含 400 个类型元素的数组`myClass`并将不同的参数传递给每个元素？

我有两个班级：`mainClass`和`myClass`。我想在`mainClass`. 如您所见，`myClass`需要 3 个参数。

**我的课：**

```
namespace prj1
{
    class myClass
    {
        public myClass(int A, int B int C)
        {
            ...
            ...
            ...
        }
    }
} 
```

**主类：**

```
namespace prj1
{
    class mainClass
    {
        public myClass[] myVar = new myClass[400];

        public mainClass(int y, int m, int d)
        {
            ...
            ...
            ...
        }
    }
} 
```

如果我必须使用`setValue`它们来初始化它们，我该怎么做？我应该如何传递 3 个参数？

```
for (int i = 0; i < 400; i++)
            {
                myVar.SetValue(object Value, i);
            } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T06:47:27.770

为什么不直接在已有的循环中构造每个实例？

```
for(int i = 0; i < myVar.Length; i++)
{
    myVar[i] = new myClass(arg1, arg2, arg3);
} 
```

您已经有一个合适的构造函数，并且正在循环中进行初始化... 1 + 1 == 2，我们不要尝试重新发明轮子，好吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:46:53.837

试试这个，

```
for (int i = 0; i < 400; i++)
 {
   myVar[i]=new MyClass(y,m,d);
 } 
```

//或者

```
for (int i = 0; i < 400; i++)
 {
   myVar.SetValue(new MyClass(y,m,d),i);
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:47:08.047

```
for (int i = 0; i < 400; i++)
{
    myClass tempObject = new myClass(y,m,d);
    myVar.SetValue(tempObject,i)
} 
```

# android - 如何在我的项目中激活 proguard？

> ID：11184535
> 
> 赞同：4
> 
> 时间：2012-06-25T06:44:01.193
> 
> 标签：android, proguard

我想防止我的应用程序被其他人反向工程和反编译。如何在我的项目中激活 proguard 以帮助我实现这一目标？

```
-keep public class * extends android.view.View {
    public <init>(android.content.Context);
    public <init>(android.content.Context, android.util.AttributeSet);
    public <init>(android.content.Context, android.util.AttributeSet, int);
    public void set*(...);
}

-keepclasseswithmembers class * {
    public <init>(android.content.Context, android.util.AttributeSet);
} 
```

我应该把它写到我的应用程序中吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:56:52.963

要在您的项目中简单地激活启用：

1.  创建一个`<project_root>/proguard.cfg`在您的项目中调用的文件。
2.  在您的`<project_root>/project.properties`中，添加`proguard.config=proguard.cfg`.

然后，您需要在 proguard.cfg 文件中为您的项目定义 Proguard 配置。[您可以从Proguard 网站](http://proguard.sourceforge.net/index.html#manual/usage.html)了解进入此文件的各种 proguard 选项。[您可以在文档](https://developer.android.com/tools/help/proguard.html)中阅读更多关于在 Android 中使用 Proguard 的信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T06:50:05.900

[Progaurd](http://developer.android.com/tools/help/proguard.html)混淆了代码，使得逆向工程变得困难。需要保留 proguard 生成的映射文件，以防您可能需要重新设计代码。我想说，将它用于任何市场构建都非常方便。

**编辑**

progaurd.cfg 在您通过 Eclipse 创建 Android 项目时会自动创建。

您现在可能想要为您的项目启用 progaurd。可能有一个文件说 default.properties 其中包括您的应用程序的目标。您可能需要添加以下行

```
proguard.config = proguard.cfg 
```

为您的应用程序启用 progaurd。您现在已经为启用 progaurd 的应用程序做好了准备。如果 progaurd 配置成功，在导出您的 apk 时，您可能会看到一个文件夹 progaurd 生成，其中包含文件列表。（请参阅提供的链接中的启用 Progaurd）。希望能帮助到你

# php - 如何使用 php session 将字段值从一个页面发送到另一个页面？

> ID：11184538
> 
> 赞同：0
> 
> 时间：2012-06-25T06:44:21.313
> 
> 标签：php, session

因为我是初学者，所以我陷入了困境。注意：thankyou.php 中存在电子邮件发送代码

我的问题是我必须存储所选日期并在通过贝宝付款完成后传递到另一个页面。我已经尝试过 php 会话，但没有在我落后的地方。

成功完成交易后，我从贝宝（如 txn_id、payer_email 等）获得了 $_POST 中的所有详细信息，但我没有得到我在表格中选择的日期。

请帮助我走向正确的方向。

我正在研究贝宝集成，我有 1 个表单，其中存在两个字段（index.php）

1.  选择日期
2.  票数

代码 index.php ：

```
 <?php

@session_start(); 
    $var_value = $_POST['eventdate'];
    $_SESSION['eventdate'] = $var_value;
    echo $_SESSION['eventdate'];
?>

<form name="_xclick" action="https://www.sandbox.paypal.com/r" method="post">
                      <table border="0" cellspacing="0" cellpadding="5" id="tbl_paypal_form">
                        <tr>
                          <td colspan="2"><div id="ticket_amount">£10 per person</div></td>
                        </tr>
                        <tr>
                          <td>Select Event Date <span class="mandatory">*</span></td>
                          <td><select name="eventdate" id="eventdate" class="form_field">
                              <option value="">Select Date</option>
                              <option value="Sat 14 July 2012">Sat 14 July 2012</option>
                              <option value="Sun 15 July 2012">Sun 15 July 2012</option>
                              <option value="Mon 16 July 2012">Mon 16 July 2012</option>
                            </select></td>
                        </tr>
                        <tr>
                          <td>No. of Tickets <span class="mandatory">*</span></td>
                          <td><input type="text" name="quantity" id="quantity" class="form_field">
                          <span style="color:#bbb; font-size:11px; padding-top:5px;">For ex: 4</span>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2"><?php
                                if(!empty($errorMessage)) 
                                {
                                    echo("<div id='validation_error'>");
                                    echo("<p class='error_message'>There was an error with your form:</p>\n");
                                    echo("<ul class='error_message'>" . $errorMessage . "</ul>\n");
                                    echo("</div>");
                                }
                            ?></td>
                        </tr>
                        <tr>
                          <td><img src="images/paypal.gif" /></td>
                          <td><input type="image" src="images/btn_paypal.gif" border="0" name="formsubmit" value="Submit" onclick="return ValidateForm();" alt="Make payments with PayPal - it's fast, free and secure!">                              
                          </td>
                        </tr>
                      </table>
                      <input type="hidden" name="cmd" value="_xclick">
                      <input type="hidden" name="business" value="gala@iskconcoventry.com">
                      <input type="hidden" name="currency_code" value="EUR">
                      <input type="hidden" name="item_name" value="Gala Charity Show Tickets">
                      <input type="hidden" name="amount" value="10">
                      <input type="hidden" name="return" value="http://www.vyx.com/gala/thankyou.php">
                      <input type="hidden" name="notify_url" value="http://www.xyx.com/gala/thankyou.php">
                      <input type="hidden" name="cbt" value="Return to The Store">
                      <!--<input type="hidden" name="eventdate" value="<?php echo $_POST['eventdate'];?>">-->
                    </form> 
```

代码：thankyou.php

```
<?php

session_start();
$ticketdate = $_SESSION['eventdate'];
//echo $_SESSION['eventdate'];
echo $ticketdate;
?>

<pre style="background:#fff;">
<?php print_r($_POST);?>
</pre>

<?php

if($_POST['txn_id'] != "") 
{
    $mail_subject='Ticket Booked for Gala Charity event';
    $mail_body.= 'Hello Dear, <br><br>';
    $mail_body.= 'Below are the ticket booking details for Gala Charity event. <br><br>';
    $mail_body.= '<b>Booking Date : </b>'. $ticketdate .'<br><br>';
    //$mail_body.= '<b>Booking Date : </b>'.trim($_POST['eventdate']).'<br><br>';
    $mail_body.= '<b>Number of tickets buyed : </b>'.trim($_POST['quantity']).'<br><br>';

    $mail_body.= '<b>Transaction ID : </b>'.trim($_POST['txn_id']).'<br><br>';
    $mail_body.= '<b>First Name : </b>'.trim($_POST['first_name']).'<br><br>';
    $mail_body.= '<b>Last Name : </b>'.trim($_POST['last_name']).'<br><br>';
    $mail_body.= '<b>Payers Email  : </b>'.trim($_POST['payer_email']).'<br><br>';
    $mail_body.= '<b>Payment Date : </b>'.trim($_POST['payment_date']).'<br><br>';

    $mail_body.= '<b>Address Name : </b>'.trim($_POST['address_name']).'<br><br>';
    $mail_body.= '<b>Street : </b>'.trim($_POST['address_street']).'<br><br>';
    $mail_body.= '<b>Zip : </b>'.trim($_POST['address_zip']).'<br><br>';
    $mail_body.= '<b>State : </b>'.trim($_POST['address_state']).'<br><br>';
    $mail_body.= '<b>Country Code : </b>'.trim($_POST['address_country_code']).'<br><br>';

    $mail_body.= '<b>Item Name : </b>'.trim($_POST['item_name']).'<br><br>';
    $mail_body.= '<b>Total Amount Paid : </b>'.trim($_POST['mc_currency']).'&nbsp;'.trim($_POST['mc_gross']).'<br><br>';

    $mail_from=$_POST['payer_email'];
    $mail_to = "myname@example.com";

    //$mail_reply_to = $mail_from;
    $mail_headers = "Content-Type: text/html; charset=iso-8859-1\r\nFrom: $mail_from\r\nReply-to: $mail_reply_to\r\n";
    @mail($mail_to, $mail_subject, $mail_body, $mail_headers);

}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:55:40.043

您应该使用 paypal 的自定义数据字段来发送和接收额外的付款值。只需在表单中添加另一个输入

```
<input name="custom" type="hidden" value="" /> 
```

如果您需要发送两个或多个值，您可以使用分隔符将它们连接起来，`|`然后在您从贝宝取回它们时处理它们。

编辑

将您的表格更改为

```
<form name="_xclick" action="https://www.sandbox.paypal.com/r" method="post" onsubmit="buildCustomVar()"> 
```

`</body>`在结束标记之前添加一点 javascript 到您的页面

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    function buildCustomVar()
    {
        var custom = $('select[name="eventdate"]').val() + "|" + $('input[name="quantity"]').val();
        $('input[name="custom"]').val(custom);
    }
</script> 
```

在服务器端只是简单地爆炸你得到的价值

```
$temp = explode("|", $_POST['custom']);
$date = $temp[0];
$quantity = $temp[1]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-23T04:43:31.707

将您的表格更改为

```
<form name="_xclick" action="https://www.sandbox.paypal.com/r" method="post" onsubmit="buildCustomVar()"> 
```

添加 javascript

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
enter code here
    function buildCustomVar()
    {
        var custom = $('select[name="eventdate"]').val() + "|" + $('input[name="quantity"]').val();
        $('input[name="custom"]').val(custom);
    }
</script> 
```

# jquery - 试图将焦点放在隐藏的文本框上

> ID：11184547
> 
> 赞同：12
> 
> 时间：2012-06-25T06:45:18.307
> 
> 标签：jquery

我正在尝试将焦点放在隐藏的文本框上。我希望当包含文本框的正文或 div 加载时，焦点应该在特定的文本框上，以便来自键盘或任何其他设备的任何输入都被此元素捕获。我尝试了以下代码但没有效果：

```
<body>
    <input type="text" id="exp" maxlength="16"></input>
    <input type="text" id="exp2" maxlength="16"></input>
    <script>
        $("#exp").hide();
        $("#exp").focus();
        $("#exp2").keypress(function(){
            alert($("#exp").val());
        });
    </script>
</body> 
```

提出任何建议。jquery 解决方案将是首选。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-25T06:47:37.113

您不能将焦点设置到通过该`hide`方法隐藏的文本框。相反，您需要将其移出屏幕。

```
<body>
<!-- it's better to close inputs this way for the sake of older browsers -->
<input type="text" id="exp" maxlength="16" />
<input type="text" id="exp2" maxlength="16" />
<script>
// Move the text box off screen
$("#exp").css({
    position: 'absolute',
    top: '-100px'
});
$("#exp").focus();
$("#exp2").keypress(function(){
alert($("#exp").val());
});
</script>
</body> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-20T18:23:24.503

```
visibility:hidden; 
position: absolute; 
```

在 Chrome 53 中工作，并且似乎比试图将元素移出屏幕更干净，如 Nathan Wall 的回答。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-18T01:11:27.913

这可以通过 async/await 实现，其中选择输入的代码仅在显示输入的代码返回其已履行的承诺*之后运行。*

```
let selectInput = async () => {
    await setInputDisplayBlock();
    document
        .getElementById("input")
        .focus();
};
selectInput(); 
```

# jquery - 没有href的锚的CSS下划线

> ID：11184549
> 
> 赞同：13
> 
> 时间：2012-06-25T06:45:29.827
> 
> 标签：jquery, css

我有一个`<a id="javascriptlink">`标签，没有href。它的动作由 jquery onclick 处理。所以，我想把css放进去`a:link {text-decoration: underline;}`，`a:hover {text-decoration: none;}`让它看起来像一个链接。

但是，锚下划线似乎仅在出现 href 属性时才起作用。任何想法？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-25T06:47:22.450

`a:link`仅适用于存在的 href。如果没有href，它只是一个锚而不是链接。

```
a {text-decoration: underline;} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-25T06:47:18.443

```
a{
    text-decoration: underline;
    cursor: pointer;
}
a:hover{
    text-decoration: none;
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-25T06:57:41.450

只需添加 href 属性，但通过取消事件使链接不执行任何操作。

```
<a href="#" onclick="event.preventDefault(); return false;" id="javascriptlink"> 
```

# iphone - 使用 iOS 在 cordova 项目中打开本地 pdf

> ID：11184554
> 
> 赞同：1
> 
> 时间：2012-06-25T06:46:27.880
> 
> 标签：iphone, ios, cordova, phonegap-plugins

我试图在我的 XCode 项目中打开存储在 www/Documents 文件夹中的本地 PDF。我放在 .js 文件中的代码是：

```
Cordova.exec("ChildBrowserCommand.showWebPage", "file:///www/Documents"+pdf ); 
```

其中 pdf 是文件的名称，每个文件都会更改。它在模拟器上运行良好，但在设备上不起作用。我怎样才能解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:28:21.357

我正在使用以下函数在子浏览器中加载文件，它会创建正确的本地 URL，以防您要加载内部文件：

```
function loadChildBrowser(isInternal, URL) { 
        if(isInternal){ 
                var strPath = window.location.href; 
                var path = strPath.substr(0,strPath.lastIndexOf('/')) + URL; 
                cb.showWebPage(encodeURI(path)); 
        } 
        else{ 
                cb.showWebPage(URL); 
        } 
} 
```

## 编辑

试试这个为你的情况：

```
 function loadChildBrowser(isInternal, URL) { 
            if(isInternal){ 
                    var strPath = window.location.href; 
                    var path = strPath.substr(0,strPath.lastIndexOf('/')) + URL; 
                    Cordova.exec("ChildBrowserCommand.showWebPage", encodeURI(path) ); 
            } 
            else{ 
                    Cordova.exec("ChildBrowserCommand.showWebPage", URL ); 
            } 
    } 
```

# python - 如何在scrapy中实现嵌套项？

> ID：11184557
> 
> 赞同：26
> 
> 时间：2012-06-25T06:46:39.520
> 
> 标签：python, json, scrapy

我正在用复杂的分层信息抓取一些数据，需要将结果导出到 json。

我将项目定义为

```
class FamilyItem():
    name = Field()
    sons = Field()

class SonsItem():
    name = Field()
    grandsons = Field()

class GrandsonsItem():
    name = Field()
    age = Field()
    weight = Field()
    sex = Field() 
```

当蜘蛛运行完成时，我会得到一个打印的项目输出，比如

```
{'name': 'Jenny',
   'sons': [
            {'name': u'S1',
             'grandsons': [
                   {'name': u'GS1',
                    'age': 18,
                    'weight': 50
                   },
                   {
                    'name':u'GS2',
                    'age': 19,
                    'weight':51}]
                   }]
} 
```

但是当我运行时`scrapy crawl myscaper -o a.json`，它总是说结果“不是 JSON 可序列化的”。然后我将项目输出复制并粘贴到 ipython 控制台并使用 json.dumps()，它工作正常。那么问题出在哪里？这让我发疯了……

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-12-19T02:27:44.807

保存嵌套项时，请确保将它们包装在对 dict() 的调用中，例如：

```
gs1 = GrandsonsItem()
gs1['name'] = 'GS1'
gs1['age'] = 18
gs1['weight'] = 50

gs2 = GrandsonsItem()
gs2['name'] = 'GS2'
gs2['age'] = 19
gs2['weight'] = 51

s1 = SonsItem()
s1['name'] = 'S1'
s1['grandsons'] = [dict(gs1), dict(gs2)]

jenny = FamilyItem()
jenny['name'] = 'Jenny'
jenny['sons'] = [dict(s1)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-26T13:13:23.430

不确定是否有办法在scrapy中使用类做嵌套项目，但数组工作正常。你可以这样做：

```
grandson = Grandson(name = 'Grandson', age = 2)

son = Son(name = 'Son', grandsons = [grandson])

item = Item(name = 'Name', son = [son]) 
```

# c++ - 通过winapi用QT读取comport

> ID：11184559
> 
> 赞同：0
> 
> 时间：2012-06-25T06:46:43.120
> 
> 标签：c++, winapi

我正在尝试获取当前正在使用的组件列表，以便在我的 GUI 中显示它们。我正在使用以下代码：

```
 TCHAR szComPort[8];
   HANDLE hCom = NULL;
   char str[20];

   for (int i = 1; i <= 255; ++i)
   {
       if (i < 10)
         wsprintf(szComPort, ("COM%d"), i);
       else
         wsprintf(szComPort, ("\\\\.\\COM%d"), i);

       hCom = CreateFile(szComPort,
           GENERIC_READ|GENERIC_WRITE, 
           0,                          
           NULL,                       
           OPEN_EXISTING,             
           0,                          
           NULL);                      

       if (INVALID_HANDLE_VALUE != hCom)
       {
           sprintf_s(str,"COM%d",i);
           ui->COMLIST->addItem(str);
       }
       CloseHandle(hCom);
   } 
```

这在我的笔记本电脑上运行良好，但由于某种原因，它在我的 PC 上崩溃了 QT 的 comports 10 及更高版本（这意味着如果我将 i<=255 更改为 i<=9 它工作正常），

有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:59:15.420

您在缓冲区中有 8 个 wchars `szComPort`，您正在为 COM10 及更高版本写入 10 个字符，为 COM11 及更高版本写入 11 个字符。使缓冲区至少 11 个单位。

编辑：通常的做法是使缓冲区足够大并具有足够的斜率，这样您就不必计算字符数。我可能只是看一下字符串，认为它有大约 10 个字符，所以对于格式化值它不会导致 30 并声明缓冲区 32 项。堆栈有足够的空间容纳这几个额外的字节，你甚至没有初始化它，所以没有性能损失并且风险更小。

# css - @font-face 给出超重的字体重量和/或不好的抗锯齿

> ID：11184560
> 
> 赞同：6
> 
> 时间：2012-06-25T06:46:48.913
> 
> 标签：css, font-face, antialiasing

我找到了一种我喜欢的开放字体（[Crete Round](http://www.fontsquirrel.com/fonts/crete-round)），并用它在 Photoshop 中设计了一些屏幕。设置 CSS 时，我尝试使用 Google 字体和 fontsquirrel.com 的可下载“工具包”（一个包含四种不同类型字体和一个现成样式表的 zip 文件），但在 Mac 上都给了我奇怪的结果.

**Photoshop——**我希望它看起来像什么：

![在此处输入图像描述](../Images/b2d3a2d255468669458d10497fb8dc12.png)

**Yuck** — Mac 上的 Chrome（和 Safari）使用 fontsquirrel.com 的 @font-face 工具包：

![在此处输入图像描述](../Images/93e48516fc6e9faf8a6ff90cb52d3288.png)

Mac 上使用 Google 字体的 Chrome（和 Safari）（基本相同）：

![在此处输入图像描述](../Images/dd6f2b1727f3c15c4858b24af7ad7980.png)

**好**—Windows 上的 Chrome (fontsquirrel)：

![在此处输入图像描述](../Images/a35c8076b3eacff56ec0365b1d7e60c9.png)

**好**——哈克。我发现任何不透明度（*不是*文本颜色 alpha）都小于 1.0，Chrome 给了我很好的结果（但 Safari 仍然很糟糕。）

Mac 上的 Chrome 使用 fontsquirrel，具有`opacity:0.999;`：

![在此处输入图像描述](../Images/0f30c4f901f6e15855a1ec0c36c401fd.png)

有没有人对这里发生的事情有任何想法，或者我可能做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:31:46.540

尝试

`html { -webkit-font-smoothing: antialiased; }`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T11:07:33.243

我不认为你做错了什么。我也不认为有办法解决它，除了使用图像而不是样式绝对至关重要的文本。

我发现[THIS LINK](http://blog.typekit.com/2010/10/21/type-rendering-web-browsers/)讨论了不同操作系统上的渲染引擎（也考虑了不同的浏览器）。

我希望这有帮助！

# c# - ASP.NET MVC 中的线程安全

> ID：11184561
> 
> 赞同：1
> 
> 时间：2012-06-25T06:46:50.207
> 
> 标签：c#, asp.net-mvc, thread-safety

在 ASP.NET MVC 中，当应用程序启动时，我需要在后台建立一些连接（LDAP，...）。有没有办法在 ASP.NET MVC 应用程序中执行此“线程安全”？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T06:58:24.780

您应该[避免](http://haacked.com/archive/2011/10/16/the-dangers-of-implementing-recurring-background-tasks-in-asp-net.aspx)在 AS.NET 中运行后台任务。但是如果由于某种原因你需要这样做，你可以在其中启动一个新线程`Application_Start`并执行这些任务。由于`Application_Start`只执行一次，因此该线程将运行一次（当然，除非您配置了一些计时器-> 您可能不应该这样做）。

另一方面，如果您需要使用 ASP.NET MVC 控制器（在 HTTP 请求的上下文中运行）在此后台线程中完成的工作，您将需要适当的同步以确保您启动的初始化线程`Application_Start`已完成。根据您的具体情况，可能有不同的方法可以实现这一目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T06:53:56.223

这是您需要如何执行的示例，基本上我们正在创建一个匿名函数，该函数`delegate`将`Invoke`启动连接。

```
if(this.InvokeRequired)
{
    Invoke(new MethodInvoker( () => yourFunctionThatCreatesSomeConnections(Args)));
}
else
{
yourFunctionThatCreatesSomeConnections(Args);
} 
```

# mysql - MySQL 5.6.5-m8 转储失败

> ID：11184573
> 
> 赞同：6
> 
> 时间：2012-06-25T06:47:20.250
> 
> 标签：mysql, ubuntu, mysqldump

我们使用 MySQL 5.6.5-m8 开发版本。
当我们尝试转储数据库时，我们收到以下错误：

> user@ubuntu-11:~$ mysqldump -u root -p my_schema > dump.sql
> 输入密码：
> mysqldump: 无法执行 'SET OPTION SQL_QUOTE_SHOW_CREATE=1': 你的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行 (1064) 的 'OPTION SQL_QUOTE_SHOW_CREATE=1' 附近使用正确的语法

任何人都可以就这个问题提出建议吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-19T08:56:04.950

MySQL 5.6 停止并删除了对`SET OPTION`语法的支持，但即使是最新的 mysqldump 5.5.30（在撰写本文时）仍会生成`SET OPTION`. 换句话说，mysqldump 5.5 不能从 MySQL 5.6 服务器转储。

见：[http ://bugs.mysql.com/bug.php?id=67507](http://bugs.mysql.com/bug.php?id=67507)

最初的问题可能是 5.6.5-m8 的临时问题，但我认为找到这个问题的人可以使用这些信息。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-17T19:11:48.193

我有这个问题。事实证明，我使用的 mysqldump 客户端是服务器后面的几个版本，并且使用了过时的语法。检查您的路径中是否有较旧的二进制文件 - 可能在 /usr/bin/ 中 - 并在与当前执行的 mysql 二进制文件相同的位置查找较新的二进制文件 - 可能是 /usr/local/mysql。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-01-15T22:27:04.350

如果您处于无法升级 mySQL（或接触现有工具）的情况，请尝试以下方法：

*   找到**mysqldump**（我的在 /usr/bin/mysqldump）
*   获取它的副本并将其放入十六进制编辑器（我使用 HxD）
*   查找**“SET OPTION SQL_QUOTE_SHOW_CREATE”**作为纯文本（ANSI，1-byte-per-char）字符串，并用空格（0x20 in hex）将“OPTION”字节空白
*   请改用这个修改后的**mysqldump**版本！

然后，假装你不只是用一个坚韧不拔的技巧解决了问题，并在去喝咖啡的路上试着忘记它。它已经为我工作了几个月！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-05T20:24:35.230

得到同样的错误。我在 /usr/bin 中有以前安装的 MySQL 5.1 遗留下来的二进制文件。我验证了二进制文件也在我的 MySQL 5.6 bin 文件夹中，然后我删除了 /usr/bin 版本。之后，mysqldump 运行正常。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-12-28T22:11:32.130

为 Burhan Khalid 的回答 +1

使用 --force 运行它，将其输出到 dbdump.sql，针对任何不兼容的语句对其进行编辑。

解决方法命令示例：

mysqldump -uusername --ppassword --force dbname > dbdump.sql

*编辑您的 dbdump.sql 以修复跨 mysql 版本的任何不兼容语句。* 对我来说，这是时间戳表达式：从 5.6 默认的 'CURRENT_TIMESTAMP' 到 5.5 的默认 CURRENT_TIMESTAMP。

然后导入 dbdump.sql 或做任何你需要做的事情都可以。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-06-18T05:55:24.447

Workbench 没有和 MYSQL 安装在同一个地方。除了与 MySQL 一起安装的副本之外，Workbench 还安装了它自己的 sqldump 副本。

工作台 "C:\Program Files\MySQL\MySQL Workbench CE 5.2.47\sqldump.exe" = 5.5.16 MYSQL "C:\Program Files\MySQL\MySQL Server 5.6\bin\sqldump.exe" = 5.6.10。

我将 MYSQL 版本复制到我的工作台目录，现在一切正常:)

希望这可以帮助！这是[链接](http://forums.mysql.com/read.php?152,580376,582394#msg-582394)

# linux-kernel - 为什么等待队列实现在循环中等待直到满足条件？

> ID：11184581
> 
> 赞同：3
> 
> 时间：2012-06-25T06:47:36.053
> 
> 标签：linux-kernel, linux-device-driver

让我们考虑一个单处理器场景。

`wait_event_interruptible()`（或其他等待 API）循环等待，直到满足某个条件。

现在，由于 linux 将线程实现为单独的进程，我相信错误唤醒（在`wait_event*`未满足条件的情况下唤醒）表明程序/驱动程序中存在错误。

我错了吗？- 是否有任何有效的场景可以发生和使用这种错误唤醒？换句话说，为什么要在实现的**循环**`wait_event*`中等待条件？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-26T02:22:46.743

等待队列的一个常见用例是中断。也许您的内核驱动程序当前正在等待三种不同的条件，每个条件都会被中断唤醒。

这允许您的内核中断处理程序只唤醒所有侦听器，然后他们可以确定它们的特定条件是否已经发生，或者它们是否应该唤醒。

此外，您可能会收到虚假中断，因为可以共享中断并且因为中断被延迟和合并。

* * *

*添加一些代码以及不尝试更明确的内容。*

我在下面编写了一些代码，这些代码可能是内核驱动程序的一部分。中断处理程序只是要唤醒所有的侦听器。然而，并不是所有的听众都可以真正做到。两者都将被同一个中断唤醒，但他们都会在继续之前查看他们的特定条件是否完成。

```
// Registered interrupt handler
static irqreturn_t interrupt_handler(void *private) {
    struct device_handle *handle = private;
    wake_up_all(&handle->wait);
}

// Some Kernel Thread
void program_a(struct device_handle * handle) {
    wait_event_interruptible(&handle->wait, hardware_register & 0x1);
    printk("program_a finished\n");
}

// Some other kernel thread
void program_b(struct device_handle * handle) {
    wait_event_interruptible(&handle->wait, hardware_register & 0x2);
    printk("program_b finished\n");
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-26T02:13:47.140

代码：

```
#define __wait_event(wq, condition)                     \
do {                                    \
    DEFINE_WAIT(__wait);                        \
                                    \
    for (;;) {                          \
        prepare_to_wait(&wq, &__wait, TASK_UNINTERRUPTIBLE);    \
        if (condition)                      \
            break;                      \
        schedule();                     \
    }                               \
    finish_wait(&wq, &__wait);                  \
} while (0) 
```

（除了内核是抢占式的事实......）

我假设您指的是上面的无限“for”循环？如果是这样，它存在的主要原因是：

代码一旦被唤醒，就不会对状态做出任何假设。只是被唤醒并不*意味着*您正在等待的事件实际上已经发生；你*必须*重新检查。这正是循环实现的目的。如果“if”条件为真（在正常情况下应该如此），它退出循环，否则（虚假唤醒）它通过调用 schedule() 再次使自己进入睡眠状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T10:47:12.570

即使在单处理器情况下，内核也是抢占式的，即控制可以随时传递给其他线程/进程，因此行为与多处理器相同。关于丢失等待问题的良好讨论在这里： [http ://www.linuxjournal.com/node/8144/print](http://www.linuxjournal.com/node/8144/print)

# playframework - 如何在 Akka 微内核中使用 Play-mini？

> ID：11184583
> 
> 赞同：1
> 
> 时间：2012-06-25T06:47:40.170
> 
> 标签：playframework, akka, play2-mini

我已经阅读了 letitcrash.com 上关于 Play-mini 和 Akka（[这一篇](http://letitcrash.com/post/17888436664/a-sample-application-showcasing-play-mini-and-akka)）的博客文章，只是无法理解如何在 Akka 微内核中使用 Play-mini。由于没有使用 Global 对象，所以我需要手动打开 play-mini 对吗？问题是，怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T18:33:48.967

为了启动 Play-mini，将以下内容添加到引导类中：

```
play.core.server.NettyServer.main(Array()) 
```

感谢 Patrik Nordwall，他在 Akka 邮件列表中回答了我的问题（[这里](https://groups.google.com/d/msg/akka-user/xAy5h0tzbAQ/NqmbkkjUQL4J)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T13:14:34.077

akka 微内核（akka->akka 微内核）只是启动 akka 演员系统的一种方式。如果您决定使用 play-mini，那么设置将是 akka->play mini，因此您不需要微内核，只需在您的 play mini 应用程序中使用您的演员。

如果您想在应用程序启动时执行您的演员系统创建，只需将您的引导代码添加到 onStart() 全局事件，即。

```
 object Global extends play.api.mini.Setup(com.example.App) {
   def onStart(): Unit = {
      //my actor bootstrapping code
   }
 } 
```

开始使用 play mini 的最简单方法是使用我们的 g8 模板之一：

*   [https://github.com/pk11/play-mini-java.g8](https://github.com/pk11/play-mini-java.g8)

*   [https://github.com/pk11/play-mini-scala.g8](https://github.com/pk11/play-mini-scala.g8)

关于play-mini的更多信息：

*   [https://github.com/typesafehub/play2-mini](https://github.com/typesafehub/play2-mini)

# iphone - 按钮在数组中删除但不在视图中

> ID：11184586
> 
> 赞同：0
> 
> 时间：2012-06-25T06:47:48.097
> 
> 标签：iphone, ios, xcode

我在删除滚动视图中的图像时遇到问题，我将图像放在 UIScrollView 中，然后添加按钮，单击时会提示一个警报视图，询问您是否要删除它。`NSDocumentDirectory`如果是，则在我的视图中但不在我的视图中删除。我的图像是`NSDocumentDirectory`从一个`ImagePicker`.

```
- (void)addImage:(UIImage *)image {
    [_images addObject:image];
    [_thumbs addObject:[image imageByScalingAndCroppingForSize:CGSizeMake(60, 60)]];
    [self createScrollView];
}

- (void) createScrollView {

    [scrollView setNeedsDisplay];
    int row = 0;
    int column = 0;
    for(int i = 0; i < _thumbs.count; ++i) {

        UIImage *thumb = [_thumbs objectAtIndex:i];
        UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];
        button.frame = CGRectMake(column*60+10, row*60+10, 60, 75);
        [button setImage:thumb forState:UIControlStateNormal];
        [button addTarget:self 
                   action:@selector(buttonClicked:) 
         forControlEvents:UIControlEventTouchUpInside];
        button.tag = i; 

        [scrollView addSubview:button];

        if (column == 4) {
            column = 0;
            row++;
        } else {
            column++;
        }

    }
   [scrollView setContentSize:CGSizeMake(300, (row+1) * 60 + 10)];
}

- (IBAction)buttonClicked:(id)sender {
        _clickedButton = (UIButton *)sender;
        UIAlertView *saveMessage = [[UIAlertView alloc] initWithTitle:@""
                                                              message:@"DELETE？"
                                                             delegate:self
                                                    cancelButtonTitle:@"NO"
                                                    otherButtonTitles:@"YES", nil];
        [saveMessage show];  
   }

- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
    NSString *title = [alertView buttonTitleAtIndex:buttonIndex];
if([title isEqualToString:@"YES"]) {
            UIButton *button = _clickedButton;
            [button removeFromSuperview];
            [_images objectAtIndex:button.tag];
            [_images removeObjectAtIndex:button.tag];

            NSFileManager *fileManager = [NSFileManager defaultManager];
            NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
            NSString *documentsDirectory = [paths objectAtIndex:0];
            NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"images%lu.png", button.tag]];
            [fileManager removeItemAtPath: fullPath error:NULL];
            NSLog(@"image removed");
}

- (void)viewDidLoad
{
        self.slotBg = [[UIView alloc] initWithFrame:CGRectMake(43, 370, 310, 143)];
        CAGradientLayer *gradient = [CAGradientLayer layer];
        gradient.frame = self.slotBg.bounds;
        gradient.colors = [NSArray arrayWithObjects:(id)[[UIColor grayColor] CGColor], (id)[[UIColor whiteColor] CGColor], nil];
        [self.slotBg.layer insertSublayer:gradient atIndex:0];
        [self.view addSubview:self.slotBg];
        self.scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0.0f,0.0f,300.0f,130.0f)];
        [slotBg addSubview:self.scrollView];
}

- (void)viewDidAppear:(BOOL)animated
{
    [_thumbs removeAllObjects];
    for(int i = 0; i <= 100; i++) 
    { 
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDir = [paths objectAtIndex:0];

        NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%d.png", i]]; 
        NSLog(@"savedImagePath=%@",savedImagePath);
        if([[NSFileManager defaultManager] fileExistsAtPath:savedImagePath]){ 
            [self addImage:[UIImage imageWithContentsOfFile:savedImagePath]]; 
            NSLog(@"file exists");
        } 
    } 
    NSLog(@"Count : %d", [_images count]);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:10:25.473

`createScrollView`每次将图像添加到数组时，您都会调用。它似乎在做的是创建包含相同图像的按钮。您的代码似乎正在将其从视图中删除，但它下方似乎有类似的按钮。因此，`createScrollView`只有在您添加了所有图像并将其从`addImage:`.

```
for(int i = 0; i <= 100; i++) 
{ 
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];

    NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"oneSlotImages%d.png", i]]; 
    NSLog(@"savedImagePath=%@",savedImagePath);
    if([[NSFileManager defaultManager] fileExistsAtPath:savedImagePath]){ 
        [self addImage:[UIImage imageWithContentsOfFile:savedImagePath]]; 
        NSLog(@"file exists");
    } 
}
[self createScrollView]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-30T10:09:28.227

试试这个方法：

```
- (void)removeObjectWithTag:(int)objectTag
{
    [_thumbs removeObjectAtIndex:objectTag];

    for (UIView *view in scrollView.subviews)
    {
        [view removeFromSuperview];
    }

    scrollView.contentSize = CGSizeZero;
    [self createScrollView];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:30:05.923

```
//after deleting the image from document directory just call viewDidAppear again...

[self viewDidAppear:yes]; 
```

希望对你有帮助...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:57:35.803

将标签值设置为按钮。然后通过以下函数获取按钮

```
 (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
         UIButton *btn = (UIButton*)[scrollview viewWithTag:button.tag];
         //your button tag
         [btn removeFromSuperView];
} 
```

* * *

# android - 单个进程的多个 setOnClickListeners

> ID：11184588
> 
> 赞同：2
> 
> 时间：2012-06-25T06:47:59.723
> 
> 标签：android

在我的应用程序中，我有一行显示要播放的音频文件的一个`(ImageButton)icon`和一个`(textView)title`，我使用 setOnClickListener 的 ImageButton 来启动一个播放文件的过程。我还想将`(textView)title`用作可点击项目来开始相同的过程。

我可以简单地复制两个 setOnClickListeners 中的所有功能，但这似乎不是最有效的方法。

现在我是新人，所以有没有这样的事情

```
ImageButton.setOnClickListener() ||  textView.setOnClickListener() {

.

.

.

} 
```

基本上，如果单击 ImageButton 或单击 textView 执行此过程。

我知道上面的语法不正确，但它让你知道我想要做什么

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:52:58.110

拥有`class`这两个元素`ImageButton`并`textView`实现`OnClickListener`. `OnClickListener`是一个接口，它的方法`onClick(View v)`将为这两个元素实现点击。然后你可以使用`imageButton.setOnClickListener(this)`and `textView.setOnClickListener(this)`。

示例代码：

```
public MyClass extends Activity implements  OnClickListener {

ImageButton imageButton;
TextView textView;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    imageButton = (ImageButton) findViewById(R.id.btn);
    textView = (TextView) findViewById(R.id.txt);

    imageButton.setOnClickListener(this);
    textView.setOnClickListener(this);
    }

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    int viewId = v.getId() ;
    if(viewId == R.id.btn || viewId == R.id.txt){
        //common implementation of click event
    }
}
} 
```

希望这个解释有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:04:08.087

```
 ImageButton iv=(ImageButton)findViewById(R.id.imagebutton1);
    TextView tv=(TextView)findViewById(R.id.textview1);
    iv.setOnClickListener(OnClick);
    tv.setOnClickListener(OnClick); 
```

在**OnCreate()**方法中添加这个，然后添加这个方法，如下所示

```
 private OnClickListener OnClick=new OnClickListener(){
                    @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            switch(v.getId()){
                         case R.id.imagebutton1:{
                             // do here code what u want on imagebutton click
                                break;}
                         case R.id.textview1:{
                            // do here code what u want on textview click
                               break;}

                }
            }
        }

     }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:00:53.133

将 imagebutton 和 textview 放在一个布局中并给它一个 ID。然后实现布局的onClickListener，这样你只需要编写一次代码。

# c# - C# 代码使用数据表查找 excel 工作表数据的结束范围

> ID：11184589
> 
> 赞同：0
> 
> 时间：2012-06-25T06:48:00.967
> 
> 标签：c#

我正在尝试使用 SSIS 脚本组件查找 Excel 行位置以获取我的数据获取范围的 END 点。我在脚本任务中使用 Datatable 来促进这一点。在下面的示例中，我的工作表范围始终以 1 开头。我需要通过在 A2:A10 范围内搜索“数据结束”来获取结束位置

![在此处输入图像描述](../Images/a84b0ec18d05a2893643c3fb3ef232df.png)

下面是我正在使用的代码

```
string currentable ="Sheet1$"
string strSQL = "Select * From ["+currentTable+"A2:A10]";
int iCnt = 0;
OleDbDataAdapter objAdapter = new OleDbDataAdapter(strSQL, excelConnection);
DataSet ds = new DataSet();
objAdapter.Fill(ds, currentTable);
DataTable dt = ds.Tables[currentTable];

foreach (DataRow  row in dt.Rows)
{
    MessageBox.Show("In for Loop");
    iCnt = iCnt + 1;
    MessageBox.Show(row[iCnt].ToString());

} 
```

在这段代码中，我收到以下错误

System.IndexOutOfRangeException：找不到第 1 列。

我需要浏览 excel 的第一列并搜索字符串“End of Data”并获取其位置。

任何想法/帮助

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:14:17.747

上面的代码看起来有点错误。用于选择数据的 SQL 选择单行，但当仅存在一列 (row[0]) 时，for 循环会查看第二列 (iCnt + 1)。

无论如何，这样的事情可能会满足您的需求：

```
var lastRow = dt.Rows.AsEnumerable().Select((row, index) => new { Name = row.ToString(), index }).First(row => row.Name == "End of data").index; 
```

# visual-studio-2010 - 如何在 Visual Studio 中查看 qDebug()？

> ID：11184590
> 
> 赞同：10
> 
> 时间：2012-06-25T06:48:01.217
> 
> 标签：visual-studio-2010, visual-studio, qt

在 Qt Creator 中，我可以直接在 IDE 中查看等输出`qDebug()`。`qWarning()`我怎么能在 Visual Studio 中做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-01-22T08:37:06.833

有一个更简单的方法：

转到项目属性>链接器>系统：将子系统设置为“SUBSYSTEM：CONSOLE”

现在，当您运行程序时，您将获得一个控制台，并且 qDebug() 将被重定向到它。（您也可以使用 std::cout）

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-25T08:43:54.847

当您使用附加的调试器运行程序时，它将显示在 Visual Studio 的输出窗口中，但出于调试目的，我经常将调试输出重定向到某种漂亮的日志窗口，您可以使用以下函数来完成`qInstallMsgHandler`：

我使用的代码：

```
#include <qapplication.h>
#include <qwidget.h>
#include <qplaintextedit.h>
#include <qmetaobject.h>
#include <qthread.h>
#include <qboxlayout.h>
#include <qdatetime.h>
#include <qdebug.h>
#include <cstdio>
#include <cassert>

QWidget         *DEBUG_MESSAGE_DISPLAY_WIDGET   = NULL;
QPlainTextEdit  *DEBUG_MESSAGE_DISPLAY_TEXTEDIT = NULL;
void setupDebugDisplay();
void debugMessageDisplayFunc(QtMsgType type, const char *msg);

int main( int argc, char* argv[] )
{
  QApplication a( argc, argv );
  a.setQuitOnLastWindowClosed( true );
  setupDebugDisplay();
  // your code here.... e.g:
  //   YourMainWindow mainWindow;
  int ret = a.exec();
  delete DEBUG_MESSAGE_DISPLAY_WIDGET;
  return ret;
}

void setupDebugDisplay()
{
    QWidget *widget = new QWidget();
    widget->setWindowTitle( "Debug Log" );
    widget->setAttribute( Qt::WA_QuitOnClose, false ); //quit only when mainwindow is closed
    QBoxLayout* layout = new QVBoxLayout();
    widget->setLayout( layout );
    QPlainTextEdit *textEdit = new QPlainTextEdit( widget );
    QFont font = QFont( "Monospace" );
    font.setStyleHint(QFont::TypeWriter);
    textEdit->setFont( font );
    textEdit->setReadOnly(true);
    layout->addWidget( textEdit );
    widget->show();
    DEBUG_MESSAGE_DISPLAY_WIDGET   = widget;
    DEBUG_MESSAGE_DISPLAY_TEXTEDIT = textEdit;
    qInstallMsgHandler(debugMessageDisplayFunc);
}

void debugMessageDisplayFunc(QtMsgType type, const char *msg)
{
  bool do_abort = false;
  const char* msgTypeStr = NULL;
  switch (type) {
    case QtDebugMsg:
      msgTypeStr = "Debug";
      break;
    case QtWarningMsg:
      msgTypeStr = "Warning";
      break;
    case QtCriticalMsg:
      msgTypeStr = "Critical";
      break;
    case QtFatalMsg:
      msgTypeStr = "Fatal";
      do_abort = true;
    default:
      assert(0);
      return;
  }
  QTime now = QTime::currentTime();
  QString formattedMessage = 
    QString::fromLatin1("%1 %2 %3")
    .arg(now.toString("hh:mm:ss:zzz"))
    .arg(msgTypeStr).arg(msg);
  // print on console:
  fprintf( stderr, "%s\n", formattedMessage.toLocal8Bit().constData() );
  // print in debug log window
  {

    bool isMainThread = QThread::currentThread() == QApplication::instance()->thread();
    if(DEBUG_MESSAGE_DISPLAY_TEXTEDIT)
    {
      if( isMainThread )
        DEBUG_MESSAGE_DISPLAY_TEXTEDIT->appendPlainText( formattedMessage );
      else // additional code, so that qDebug calls in threads will work aswell
        QMetaObject::invokeMethod( DEBUG_MESSAGE_DISPLAY_TEXTEDIT, "appendPlainText", Qt::QueuedConnection, Q_ARG( QString, formattedMessage ) );
    }
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:49:25.727

它重定向到 Visual Studio 的输出窗口。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-19T15:28:31.380

您也可以将 DebugView++ 用于 QDebug 它仍然可以使用

[https://github.com/CobaltFusion/DebugViewPP](https://github.com/CobaltFusion/DebugViewPP)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-12-18T15:25:27.903

`OutputDebugString`是做到这一点的关键。

我如何使用 Qt 5.15：

```
#if defined(Q_OS_WIN) && defined(QT_DEBUG)
qInstallMessageHandler([](QtMsgType type, const QMessageLogContext &ctx, const QString &message) {
    const QString msg = qFormatLogMessage(type, ctx, message);
    // write logs to Output window of Visual Studio
    {
        QString prefix;
        switch (type) {
        case QtWarningMsg:
            prefix = "[WARNING] ";
            break;
        case QtCriticalMsg:
            prefix = "[CRITICAL ERROR] ";
            break;
        case QtFatalMsg:
            prefix = "[FATAL ERROR] ";
            break;
        }
        auto msgW = QString(prefix + message).toStdWString();
        msgW.append(L"\n");
        OutputDebugString(msgW.c_str());
    }
});
#endif 
```

# java - java中如何判断谁上传了文件到ftp？

> ID：11184592
> 
> 赞同：2
> 
> 时间：2012-06-25T06:48:04.490
> 
> 标签：java, swing, ftp, swingworker, ftp-client

我有一个允许用户上传文件的 ftp 客户端。我想确定哪个用户/主机/...上传了该文件。所有人都使用相同的用户名上传文件。唯一的区别是他们使用不同的计算机。

**有什么方法可以跟踪哪个用户上传了该文件？**

```
public static void uploadFileToServerViaSunFtp(final String source,final JPanel panel, final JTextArea textArea)
{
    SwingWorker uploadWorker = new  SwingWorker<Boolean,String>()
    {
        @Override
        protected Boolean doInBackground() throws Exception
        {
            publish("File "+FilenameUtils.getName(source).concat(" starts uploading on ") + String.valueOf(Calendar.getInstance().getTime() + "\n"));
            boolean success = false;
            FtpClient client;
            try
            {
                client = new FtpClient(server.getFtpServer());
                client.login(server.getUsername(), server.getPassword());
                client.cd("PC");
                client.binary();
                int BUFFER_SIZE = 10240;
                byte[] buffer = new byte[BUFFER_SIZE];

                File f = new File(source);
                FileInputStream in = new FileInputStream(source);
                // *** If uploading take long time, progress bar will show up ***
                InputStream inputStream = new BufferedInputStream(
                        new ProgressMonitorInputStream(panel, "Uploading " + f.getName(), in));
                OutputStream out = client.put(f.getName());
                while (true) {
                    int bytes = inputStream.read(buffer);
                    if (bytes < 0)
                        break;
                    out.write(buffer, 0, bytes);
                }
                out.close();
                in.close();
                inputStream.close();
                client.closeServer();
                success = true;
            }
            catch (IOException e)
            {
                OeExceptionDialog.show(e);
            }
            return success;
        }

        @Override
        protected void done()
        {
            super.done();
            try {
                if(get())
                    textArea.append("File "+FilenameUtils.getName(source).concat(" Uploaded successfully.\n"));
        }
    };
    uploadWorker.execute();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T07:28:48.327

存储在 FTP 服务器上的文件具有所有者 ( `oid`) 和组 ( `gid`)。

登录 FTP 服务器的目的是让您获得身份验证和授权。因此，对于将上传文件的每个用户，您应该有不同的用户，如“不同的用户名”。

让所有用户使用相同的用户名是没有意义的，因为这将无法区分。

检查IP地址完全没有意义。我这么说的原因是任何人都可以劫持一个 IP 地址，如果他们在你的本地网络上的话。这里几乎没有验证，您不能相信您的本地 DNS 会为您完成这项工作。

只需使用不同的用户名。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:08:57.877

您的客户端代码与问题有何关联？当然，服务器知道在上传文件之前登录的用户的名称以及从哪个 IP 地址建立连接（除非 IP 地址被代理/NAT 屏蔽）。此外，上传文件的属性通常设置为具有与上传文件的用户的所有者和组相对应的 Unix 上的所有者和组或 Windows 上的安全属性。

# html - HTML5/Jquery Meter Shim：在 Chrome/Opera 中更改背景

> ID：11184593
> 
> 赞同：2
> 
> 时间：2012-06-25T06:48:20.763
> 
> 标签：html, css, cross-browser, meter

我正在开发一个使用比例尺来显示统计数据的网站。

我使用 CSS3 和 HTML5`meter`元素为每个比例创建了背景渐变，如本教程所示： [HTML5-Meter-Shim](https://github.com/xjamundx/HTML5-Meter-Shim)

它适用于除 Chrome 和 Opera 之外的所有浏览器，它们显示默认颜色。

这在 Chrome 和 Opera 中是否可行，还是有其他解决方案？

这是我的工作：http: [//jsfiddle.net/KRnUd/2/](http://jsfiddle.net/KRnUd/2/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-07T23:19:25.343

使用 RGB 颜色语法，`background-image`而不是`background`, 和`meter`属性，让它在 Chrome 中完全工作并在 Opera 中部分工作：

```
 <!doctype html>
    <html lang="en">
    <head>
        <title>Meter Usage</title>
        <style type="text/css">
    meter {
        display: inline-block;
        height: 16px;
        width: 200px;
        overflow: hidden;
        background-color: rgb(237,237,237);
        background-image: -webkit-linear-gradient(top, rgb(237,237,237),rgb(187,187,187) 36%,rgb(247,247,247) ); /* Chrome10+,Safari5.1+ */
        background-image: -o-linear-gradient(top, rgb(237,237,237),rgb(187,187,187) 36%,rgb(247,247,247) ); /* Opera 11.10+ */
    }
        </style>
    </head>
    <body>
        <meter min="1024" max="10240" low="2048" high="8192" value="9216"/>
    </body>
    </html>
```

# perl - Perl 模块 (WWW::Mechanize) 从页面中选择图像

> ID：11184595
> 
> 赞同：0
> 
> 时间：2012-06-25T06:48:27.953
> 
> 标签：perl

我试图搜索 SO 但找不到接近的答案。

我所拥有的是这个（链接和 URL 将被更改，但概念将完全相同）

```
#!/usr/bin/perl
#Some of the modules are going to be unused for now
use Win32::OLE;
use Win32::Ole::Variant;
use LWP::Simple;
use DBI;
use DBD::mysql;
use WWW::Mechanize qw();

$url = 'http://example.com';
$mechanize = WWW::Mechanize->new(autocheck => 1); #BTW what's autocheck=>1 for?
$mechanize->get($url);
$content = $mechanize->content();

print $content; #Shows the HTML (OK)

$mechanize->form_name('search');
$mechanize->field('level', '100');
$response = $mechanize->submit();

print $response->content(); #Shows the html of the submitted page (OK); 
```

现在这个新表单生成了一个不是 .jpg 也不是其他图像格式的随机图像。我要做的就是将该图像（我知道名称）保存到我的文件夹中。图片标签是`<img src="someImage.php"> and I would like to save it as`文件夹中的 someImage.jpg`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:37:05.323

它有助于阅读[您正在使用的软件的文档](http://p3rl.org/WWW%3a%3aMechanize)，而您没有这样做。您需要图像方法。

```
use strictures;
use WWW::Mechanize qw();
my $m = WWW::Mechanize->new; # autocheck is default since v1.50 (year 2008)
$m->get('file:///tmp/so11184595.html');
for my $i ($m->images) {
    $m->mirror($i->url_abs, 'some/someImage.jpg')
      if 'someImage.php' eq $i->url;
} 
```

# c# - c# ValueInjecter : 映射整个对象图

> ID：11184596
> 
> 赞同：3
> 
> 时间：2012-06-25T06:48:28.023
> 
> 标签：c#, dto, valueinjecter, object-object-mapping

我刚刚开始为我的实体映射（DTO <-> 实体）使用 ValueInjecter。这是我的 DTO：

```
public class IncidentDTO
{
    int ID { get; set; }
    string Name { get; set; }
    AgencyDTO agencyDTO { get; set; }
}

public class AgencyDTO
{
    int ID { get; set; }
    string Name { get; set; }
    List<IncidentTypeDTO> incidentTypeDTOList { get; set; }
}

public class IncidentTypeDTO
{
    int ID { get; set; }
    string TypeName { get; set; }
} 
```

这是我的 NHibernate 代理类：

```
 public class Incident
{
    int ID { get; set; }
    string Name { get; set; }
    Agency agency { get; set; }
}

public class Agency
{
    int ID { get; set; }
    string Name { get; set; }
}

public class IncidentType
{
    int ID { get; set; }
    string TypeName { get; set; }
}

public class AgencyIncidentType
{
    int ID { get; set; }
    Agency agency { get; set; }
    IncidentType incidentType { get; set; }
} 
```

现在，我需要`IncidentDTO`从存储库中查询。来自数据库和地图的存储库查询`Incident`和表->使用 ValueInjecter 并返回。`AgencyIncidentType``Incident``IncidentDTO``IncidentDTO`

使用 ValueInjecter 进行上述映射的最佳方法是什么？

谢谢， 普拉泰克

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T17:24:57.893

如果您想映射`Incident`到`IncidentDTO`同时保留和映射实例`Agency`的`agency`属性（到`AgencyDTO`）中的对象，`Incident`我建议将`agencyDTO`属性重命名为`agency`您的`IncidentDTO`，然后使用 Value Injector 文档中的 CloneInjection 示例进行调整，如下所述：[omu.valueinjecter 深度克隆不同类型](https://stackoverflow.com/questions/8249891/omu-valueinjecter-deep-clone-unlike-types/10842907#10842907)

# iphone - 在动画 CCSprite 上添加 CCLabel

> ID：11184597
> 
> 赞同：0
> 
> 时间：2012-06-25T06:48:32.670
> 
> 标签：iphone, ios, cocos2d-iphone

我似乎无法在动画 CCSprite 之上添加 CCLabelTTF。我基本上是想通过使用将它添加到我的精灵中`[self.sprite addChild:label]`。这会因错误而崩溃：

```
Terminating app due to uncaught exception 'NSInternalInconsistencyException', 
reason: 'CCSprite is not using the same texture id' 
```

我怎样才能简单地在我的精灵上放一个标签？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T10:29:52.763

您的动画可能是 CCSpriteBatchNode，如果精灵没有相同的纹理，则不能将精灵添加到 CCSpriteBatchNode 子节点或 CCSpriteBatchNode。您不能将 self.sprite 添加到节点（因为它已经是 batchNode 的子节点）。我想这会让你

1.  创建没有 batchNode 的动画精灵，或者
2.  创建一个 CCNode，首先将 CCSpriteBatchNode 添加到其中，然后再添加标签。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:41:04.707

我不确定你的代码到底出了什么问题，但你可以尝试将你的 CCSprite 添加到 CCNode，然后将 CCLabelTTF 添加到这个节点。然后，您可以在您的精灵上运行任何换帧动画，以及在此节点上运行任何旋转/移动等动画：精灵和标签将同步移动。

# php - 如何在远程服务器中执行查询

> ID：11184599
> 
> 赞同：-6
> 
> 时间：2012-06-25T06:48:34.303
> 
> 标签：php, mysql-connect

我正在尝试从另一个网站的代码向网站插入数据。我该如何使用该`mysql_connect()`命令。我可以在第二个网站代码中使用第一个网站的 IP 地址吗？

请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:56:20.980

是的，您可以使用带有 mysql_connect() 的远程 MySQL 服务器。根据 PHP 手册 (http://php.net/manual/de/function.mysql-connect.php) 使用 mysql_connect() 并将服务器的 IP 用作 $server。但是，请确保可以从 MySQL 服务器上的远程访问 MySQL 端口（端口 3306）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:06:37.350

要在数据库中插入数据，您需要连接数据库

[选择数据库](http://php.net/manual/en/function.mysql-select-db.php)

您只需要连接我们要插入的数据库所在的服务器

```
<?php

$link = mysql_connect('ip or server of the db in which inserting', 'mysql_user', 'mysql_password');
if (!$link) {
    die('Not connected : ' . mysql_error());
}

// make myDB the current database 
$db_selected = mysql_select_db('myDB', $link);
if (!$db_selected) {
    die ('Can\'t use myDB: ' . mysql_error());
}
?> 
```

要在另一个网站中插入记录，您只需连接该特定网站的服务器和数据库，然后触发查询。

让我知道如果更多..

# android - ProgressDialog中圆形动画的渐变是什么？

> ID：11184601
> 
> 赞同：0
> 
> 时间：2012-06-25T06:48:48.440
> 
> 标签：android, animation, gradient, progressdialog

ProgressDialog中圆形动画的渐变是什么？

我想自己使用它，我真的很喜欢它的颜色……你能帮我一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:12:05.823

在 Honeycomb（根据评论）`ProgressDialog`动画中，有两种交替的颜色。一个，我相信，是`#72a6de`，第二个，`#5380c4`。每个色环都从该主色淡化为透明度（0 alpha）。

请注意，您可以查看[Honeycomb UI 设计](https://www.google.ca/search?um=1&hl=en&biw=1745&bih=868&tbm=isch&sa=1&q=honeycomb+ui&oq=honeycomb+ui&aq=f&aqi=g1g-S1g-mS3&aql=&gs_l=img.3..0j0i24j0i5i24l3.288565.288606.0.288792.2.2.0.0.0.0.166.243.1j1.2.0...0.0.RaAGWUPeKcE)并使用吸管（Photoshop、GIMP 甚至 Paint）来挑选颜色。

最后，我将[在 Android 开发人员页面中向您展示此链接，](http://developer.android.com/design/style/color.html)其中列出了使用颜色的最佳实践。这包括当代蓝色、老式绿色以及它们的最佳补充。

祝你好运！:)

# javascript - 如何在客户端函数 rowcreated 的 RadGrid 的 CommandItemTemplate 中找到控件

> ID：11184606
> 
> 赞同：0
> 
> 时间：2012-06-25T06:49:23.947
> 
> 标签：javascript, client-side, radgrid

我在我的应用程序中使用 radgrid。我想在 rowselected 客户端事件中启用/禁用 RadGrid 的 CommandItemTemplate 内部。我尝试了一些示例代码，但总是为控件返回空值。尝试了此示例，但返回 null。[http://www.telerik.com/community/forums/aspnet-ajax/grid/getting-at-the-gridcommanditem-via-the-client-side-api.aspx](http://www.telerik.com/community/forums/aspnet-ajax/grid/getting-at-the-gridcommanditem-via-the-client-side-api.aspx)

```
 var toolbar = $telerik.findControl(sender.get_masterTableView().get_element(), "export");

    <CommandItemTemplate>

                <a href="#" target="_blank" onclick="return ShowExportPortfolioDialog();" runat="server" id="export">
                    <asp:Image ID="ExportPortfolio" runat="server" ImageUrl="~/ExportIcon.png"
                    AlternateText="Export Portfolio" Height="16px" Width="16px" />
                    Export
                </a>
            </CommandItemTemplate> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T12:57:56.530

试试这个： var anchorWrapper = $telerik.findElement(document, "export");

确保在已创建 RadGrid 的客户端对象时调用此代码。

祝你好运

# jquery-ui - 回发后保持动态添加的元素

> ID：11184622
> 
> 赞同：0
> 
> 时间：2012-06-25T06:50:31.960
> 
> 标签：jquery-ui, dynamic, tabs, postback

我遇到了 jquery 和回发的大问题。

我正在向我的页面动态添加 html 元素。例如 JQuery UI 选项卡。

但是在回发后所有动态添加的元素都消失了。

如何在回发后保留所有这些元素以及文本框和日期时间选择器的值？

问候

托比

编辑：

例如，我正在使用以下代码添加一些 JqueryUI 选项卡：

```
$(function () {
                var $tab_title_input = $("#tab_title"),
            $tab_content_input = $("#tab_content");
                var tab_counter = 1;

                var $addButton = $('<li class="ui-state-default ui-corner-top add-button"><span>+</span></li>');
                $addButton.click(function () { addTab(); });

                var $tabs = $("#tabsTravel, #tabsWork").tabs({ autoHeight: true, fillSpace: true,
                    tabTemplate: "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",
                    add: function (event, ui) {
                        var tab_content = $tab_content_input.val() || "Tab " + tab_counter + " content.";
                        $(ui.panel).append("<p>" + tab_content + "</p>");

                        $("#tabsTravel ul.ui-tabs-nav").append($addButton);
                    }
                });

                $("#tabsTravel ul.ui-tabs-nav").append($addButton);

                // actual addTab function
                function addTab() {
                    tab_counter++;
                    var tab_title = "worker " + tab_counter;
                    $tabs.tabs("add", "#tabsTravel-" + tab_counter, tab_title)
                 .tabs("select", "#tabsWork-" + tab_counter, tab_title);

                }

                // close icon: removing the tab on click
                $("#tabsTravel span.ui-icon-close").live("click", function () {
                    var index = $("li", $tabs).index($(this).parent());
                    $tabs.tabs("remove", index);
                    tab_counter--;
                });
                $("#tabsWork span.ui-icon-close").live("click", function () {
                    var index = $("li", $tabs).index($(this).parent());
                    $tabs.tabs("remove", index);
                    //                    tab_counter--;
                });
                $('#button').click(function () {
                    addTab()
                });
            }); 
```

我怎样才能将此 localStorage 实现到此代码？

问候

闪电侠

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T06:59:36.177

通常这将是您的服务器端代码的工作；您可以将添加的元素保存在会话缓存中，如果更改需要永久保存，则保存在数据库中。

您也可以考虑使用新的 HTML5*会话存储*或*本地存储*，但这种方法可能会比较麻烦；如果可能，最好使用 PHP、.NET 等复杂的服务器端库。

*编辑*

这是一个简单的例子。假设您的客户端脚本向页面添加了一些 HTML：

```
var html = "<div>hello world</div>";
$("body").append(html); 
```

现在，您可以像这样将其保存在本地存储中：

```
localStorage.setItem("dynamichtml", html); 
```

如果您在页面启动脚本中添加如下内容：

```
$(document).ready(function() {
    if (localStorage["dynamichtml"]) {
        $("body").append(localStorage["dynamichtml"]);
    }
}); 
```

然后您将实现动态功能。请注意，*localStorage*数据将一直保存，直到用户明确删除它。

# java - forEach 迭代器标签

> ID：11184624
> 
> 赞同：0
> 
> 时间：2012-06-25T06:50:39.157
> 
> 标签：java, json, jsp

我有一个 for each 循环，它可以通过以下方式正常工作：

```
<c:forEach begin="0" end="10" varStatus="status">'+
      <td><div id="text<c:out value="${status.index}"/>"> </div></td>
</c:forEach>'+ 
```

我在 Action 类中有以下代码。我只想在上面的循环中传递 listSize 来代替 end="10" 。

```
Vector<String> l1 = new Vector<String>();
Vector<String> v1 = new Vector<String>();
l1.add("listSize");
v1.add(String.valueOf(list.length));
for (int i=0;i<list.length;i++){
    if (notEmpty(list[i].getText())){
    l1.add("text"+i);
    v1.add(list[i].getText());
         }
}response.getWriter().print(JSONUtils.toJSON(new Collection[]{l1}, new Collection[]{v1})); 
```

有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T06:53:19.277

用于`<c:set>`设置变量（从 JSP/JSTL 中）或将变量添加到`requestScope`第一个（在 JSP 的 Java 部分中），然后通过 requestScope.variable 引用变量。

然后`end="${variable}"`在`<c:forEach>`标签中使用。

问候。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:42:15.883

您需要为请求设置“listSize”属性，该属性将包含列表的大小。

所有答案都在这里：[Pass variables from servlet to jsp](https://stackoverflow.com/questions/3608891/pass-variables-from-servlet-to-jsp)

# java - 从连接到 USB 端口的设备读取数据

> ID：11184633
> 
> 赞同：1
> 
> 时间：2012-06-25T06:51:39.737
> 
> 标签：java, usb, jusb

我必须从将信号连续发送到 USB 端口并将其显示在监视器上的设备中读取数据（信号）。

作为 POC，我尝试从连接到我的系统的 USB 闪存驱动器中读取数据。我正在为 Windows 使用 JUSB 库。但是，当我更改我的设备驱动程序设置时，如下面的 JUSB 文档中所述，我的设备配置消失了（我的 device.getConfiguration(); 为空）。

[http://www.steelbrothers.ch/jusb/](http://www.steelbrothers.ch/jusb/) -- 文件 --> 附录 D

谁能帮我弄清楚我哪里出错了，或者建议我一些其他好的 API 来使用 JAVA 从 USB 设备读取数据。

代码如下，

```
try{
        Device device = null;
      DeviceImpl dev;
      for(int k=0; k < busses.length ; k++){
         System.out.println("\n\nBus[ " + ((USB)busses[k]).getBusNum() + " ]  ");  
         for(int i = 0; i < 5; i++){
              dev = (DeviceImpl)busses[k].getDevice(i);
              device = busses[k].getDevice(i);
            System.out.print(" [ " + i + " ] :  ");
            if(dev != null){
                   if(dev.getAddress() == 0)        System.out.println(" [ROOT]          numOfPort:" + dev.getNumPorts()+"  Address:" + dev.getAddress());
                   else {
                       if(dev.getNumPorts() > 0)   System.out.println(" [EXTERNAL HUB]  numOfPort:" + dev.getNumPorts()+"  Address:" + dev.getAddress());
                       else System.out.println(" [USB DEVICE]    on Port "+dev.getHubPortNum() +  "  Address           : " + dev.getAddress());
                       System.out.println("                                      uniqueID          : " + dev.getUniqueDeviceID());
                       System.out.println("                                      driverKeyName     : " + dev.getDriverKeyName());
                       System.out.println("                                      friendlyDeviceName: " + dev.getFriendlyDeviceName());
                       if (dev instanceof Device) System.out.print("                                      Object Type       : Device");
                       if (dev instanceof DeviceImpl) System.out.print(", DeviceImpl");
                       if (dev instanceof JUSB) System.out.println(", JUSB");
                       if (dev instanceof NonJUSB) System.out.println(", NonJUSB");
                       System.out.println("***************confoig: "+dev.configuration);//getConfiguration(0));
                      boolean brk = false;
                       StringTokenizer uniqueNameValPairs = new StringTokenizer(dev.getUniqueDeviceID(),"&");
                       while(uniqueNameValPairs.hasMoreTokens()){
                           StringTokenizer strToken = new StringTokenizer(uniqueNameValPairs.nextToken(),"_");
                           while(strToken.hasMoreTokens()){
                               if(strToken.nextToken().equals("03f0")){
                                  System.out.println("breaking");
                                 readData(dev);
                                 brk = true;
                                  break;
                               }
                           }
                       }

static void readData(DeviceImpl device){
    try{
        if (device != null)
           {
               // Obtain the current Configuration of the device and the number of 
               // Interfaces available under the current Configuration.
               Configuration config = device.getConfiguration();
               if(null == config)
                   config = device.configuration;
               System.out.println("config: "+config);
               int total_interface = config.getNumInterfaces();

               // Traverse through the Interfaces
               for (int k=0; k<total_interface; k++)
               {
                   // Access the currently Interface and obtain the number of 
                   // endpoints available on the Interface. 
                   Interface itf = config.getInterface(k, 0);
                   int total_ep  = itf.getNumEndpoints();

                   // Traverse through all the endpoints.
                   for (int l=0; l<total_ep; l++)
                   {
                       // Access the endpoint, and obtain its I/O type.
                       Endpoint ep = itf.getEndpoint(l);
                       String io_type = ep.getType();
                       boolean input  = ep.isInput();
                       System.out.println("ep.getInputStream(): "+ep.getInputStream());
                       // If the endpoint is an input endpoint, obtain its
                       // InputStream and read in data.
                       if (input)
                       {
                           InputStream in;
                           System.out.println("ep.getInputStream()111: "+ep.getInputStream());
                           BufferedReader brIn = new BufferedReader(new InputStreamReader(ep.getInputStream()));
                           System.out.println("**************Input stream: "+brIn);
                           String inStr = null;
                           while( (inStr = brIn.readLine()) != null){
                               System.out.println(inStr);
                           }
                           // Read in data here
                          // in.close();
                       }
                       // If the Endpoint is and output Endpoint, obtain its 
                       // OutputStream and write out data.
                       else
                       {
                           OutputStream out;
                           out = ep.getOutputStream();
                           System.out.println("**************Output stream: "+out);
                           // Write out data here.
                           out.close();
                       }
                   }
               }
            }
    }catch(Exception e){
        e.printStackTrace();
    }finally{
        //System.exit(0);
    }
} 
```

# asp.net-mvc - Html.ActionLink 生成的意外 href

> ID：11184634
> 
> 赞同：1
> 
> 时间：2012-06-25T06:51:52.150
> 
> 标签：asp.net-mvc, actionlink

我的代码中有这个 Html.ActionLink：

```
@Html.ActionLink("Up", 
                "GetCategory", 
                "Category", 
                 new { C_ID = CID, D_ID = DID, E_ID = EID, F_ID = FID },
                 new { id = "item-" + ItemID + "-getcategories-" + ItemLevel, 
                       @class = "getCategory" }) 
```

我想将 Javascript 变量的值附加到路由字典中。为此，我使用了这个 SO 问题[ASP.NET MVC 2 Html.ActionLink 中指定的解决方案和 JavaScript 变量](https://stackoverflow.com/questions/5067813/asp-net-mvc-2-html-actionlink-with-javascript-variable)

我试图自定义[答案](https://stackoverflow.com/a/5071403/1242061)，这就是我所拥有的：

```
$(function ()
{
      $('a.getCategory').click(function ()
      {
        .
        .
        .
        var CatID = 0; //Calculate from this.ID
        this.href = this.href + '?Cat_ID=' + CatID;
      });
}); 
```

**问题是， 的值`this.href`不是 Html.ActionLink 生成的值。相反，它是页面的当前 URL。我的理解是`this.href`应该参考ActionLink的href（因为`this`是指ActionLink生成的锚元素）。我究竟做错了什么？**

**编辑**

*更令人困惑*的是： Html.ActionLink 用于其中一个选项卡（我使用的是 Jquery UI 选项卡）。因此，如果我使用`.attr('href')`读取 JS 函数中的值，我会得到一个完全不同的值：

```
 var AnchorHref = $(this).attr('href'); 
```

的值`AnchorHref`是`#ui-tabs-XX`（其中 XX 是一个数字） - 这是由 Jquery UI 选项卡自动生成的 div。

# javascript - 如何在jquery中使用.before时为元素设置动画

> ID：11184635
> 
> 赞同：0
> 
> 时间：2012-06-25T06:51:54.120
> 
> 标签：javascript, jquery

我想在 .content 元素之前附加 .item 元素，但它只是从以前的位置删除 .item 并在 .content 之前附加。

我想要的是使用一些动画，将 .item 元素从其原始位置缓慢移除并缓慢出现在其新位置上。我该怎么做？

```
$Item = $('.item');
$('.content').before($Item); 
```

问候。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:10:39.093

像这样的东西怎么样：

```
$Item = $('.item');
$Item.fadeOut(1000, function() {
   $('.content').before($Item);
   $Item.fadeIn(1000);
} 
```

该[`.fadeOut()`方法](http://api.jquery.com/fadeOut/)在指定的时间内（以毫秒为单位）淡化元素，并在完成时调用该函数，然后移动元素并将其淡入。

演示：http: [//jsfiddle.net/9gGAT/5/](http://jsfiddle.net/9gGAT/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:16:26.383

也可以使用jquery的and-方法来实现滑动效果`hide`。`show`我还将转换打包在它自己的方法中，以便可以重复使用，因此您不必多次编写相同的代码。

```
var smoothLikeSilk = function(mover, before) {
     $item = $(mover);
     $content = $(before);
   $item.hide('slow', function() {
     $content.before($item);
     $item.show('slow');
   });
}

$(function(){

  $('#btnMove').on('click',function(){
    smoothLikeSilk('.item', '.content');
  });

}); 
```

[http://jsfiddle.net/9gGAT/6/](http://jsfiddle.net/9gGAT/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:10:28.937

你的意思是这样的： [jsFiddl Link](http://jsfiddle.net/9gGAT/4/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:12:00.200

试试这个，

```
$(function() {

    $('#btnMove').on('click', function() {
        $Item = $('.item').fadeOut('slow', function() {
            $('.content').before($Item);
             $Item.fadeIn('slow');
        })

        });

    });​ 
```

[演示](http://jsfiddle.net/BRLB3/)

# .htaccess - 如何避免 htaccess 重定向重写循环？

> ID：11184637
> 
> 赞同：0
> 
> 时间：2012-06-25T06:51:58.707
> 
> 标签：.htaccess, mod-rewrite, redirect, url-rewriting

我当前的 htaccess 为两个简单的页面做了两个简单的 url 重写。这是代码。

```
RewriteEngine On
RewriteRule    ^home/?$    index.php#home    [NC,L]
RewriteRule    ^contact/?$    index.php#contact    [NC,L] 
```

现在 mywebsites.com 和 mywebsite.com/home 是相同的页面。我正在使用 twitter 引导轮播在页面之间翻转幻灯片而不实际加载它们。

不幸的是，mywebsite.com/home 上的 facebook 共享数量为 2000，mywebsite.com/ 上为 29。所以我想 301 将 mywebsite.com/ 重定向到 mywebsite.com/home，但这会使 htaccess 陷入无限循环。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T12:05:07.727

以下应该只允许一个重定向。

```
RewriteCond %{ENV:REDIRECT_STATUS} 200
RewriteRule .* - [L] 
```

这有帮助吗？

# android - 是否有任何适用于 android 的 Gmail sdk，就像 facebook sdk

> ID：11184639
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:52:05.820
> 
> 标签：android, gmail

是否有任何适用于 android 的 Gmail sdk，就像 facebook sdk 一样。我不想使用设计 gmail 应用程序。谁能帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:02:39.973

不，没有这样的 SDK，如果你想访问 Gmail 的电子邮件，那么你需要实现你`own email client`的，然后按照上面共享的链接`Spk`。

**编辑：** Android 提供了一种访问机制。`Email thru it's Gmail App's content provider`这里是：

[Gmail 公共标签 API](http://android-developers.blogspot.in/2012/04/gmail-public-labels-api.html)

# android-intent - 我想完成一个不活跃的活动

> ID：11184641
> 
> 赞同：0
> 
> 时间：2012-06-25T06:52:18.380
> 
> 标签：android-intent

我正在为 Android 编码 1 周，很抱歉我的理解不好^^..

例如，我有 4 个活动：

[http://i.stack.imgur.com/kaTw8.jpg](http://i.stack.imgur.com/kaTw8.jpg)

通过向左或向右滑动来切换 A2->A3->A4，反之亦然。

Wenn A1 开始 A2，A2->A3，A3->A4，A4->A2，我现在按下返回按钮，我想回到 A1。但是如果 A1->A2、A2->A3、A3->A4 然后返回我想来 A3 等等。如果 A1->A2, A2->A3, A3->2, A2->A3...A3->A2 然后返回我想来 A1..

所以我实际编码的是，我用 FLAG_ACTIVITY_REORDER_TO_FRONT 为 Intent 启动每个 Activity。然后我调用了finish(); 通过 A4->A2 和 A3->A2 .. 现在的问题是，当调用堆栈是这样的时：A1->A2->A3->A4->A2->BACK 它将转到 Activity A3，然后是 A1。 .但我想直接A1 ..

当我在 A4 时，有没有办法在 A3 上调用完成？一种常见的方式？可能在某些情况下将活动存储在全球范围内，然后完成它们..但我认为这不是正确的方法..

希望你能理解我的问题^^。对不起我的英语不好

问候

马蒂亚斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:23:59.800

欢迎来到安卓。

我想你会喜欢 Android Play Store App 中的行为。左右滑动。他们用 Fragments 解决了这个问题。所以你有 3 个片段 F2-F4 的活动。

以下是更多信息：[http ://android-developers.blogspot.de/2011/08/horizo​​ntal-view-swiping-with-viewpager.html](http://android-developers.blogspot.de/2011/08/horizontal-view-swiping-with-viewpager.html)

您应该为此解决方案使用[Android 支持包。](http://developer.android.com/tools/extras/support-library.html)

# java - Java 中的同步是如何工作的？

> ID：11184642
> 
> 赞同：19
> 
> 时间：2012-06-25T06:52:21.150
> 
> 标签：java, thread-synchronization

我对 Java Synchronization 有疑问。我想知道我的类中是否有三个同步方法，并且一个线程在一个同步方法中获得锁定，另外两个将被锁定？我问这个问题是因为我对以下陈述感到困惑。

> 当线程位于对象的同步方法中时，所有其他希望执行此同步方法或对象的任何其他同步方法的线程都必须等待。此限制不适用于已经拥有锁并正在执行对象的同步方法的线程。这样的方法可以调用对象的其他同步方法而不会被阻塞。对象的非同步方法当然可以随时被任何线程调用

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-25T06:59:49.890

Java 中的同步是通过在某些特定对象上获取监视器来完成的。因此，如果您这样做：

```
class TestClass {
    SomeClass someVariable;

    public void myMethod () {
        synchronized (someVariable) {
            ...
        }
    }

    public void myOtherMethod() {
        synchronized (someVariable) {
            ...
        }
    }
} 
```

然后，这两个块将在不被修改的情况下随时通过执行 2 个不同的线程来保护`someVariable`。基本上，据说这两个块与变量同步`someVariable`。

当你把`synchronized`方法放在上面的时候，它基本上和 的意思是一样的`synchronized (this)`，也就是在执行这个方法的对象上进行同步。

那是：

```
public synchronized void myMethod() {
    ...
} 
```

意思相同：

```
public void myMethod() {
    synchronized (this) {
       ...
    }
} 
```

因此，要回答您的问题 - 是的，线程将无法在不同的线程中同时调用这些方法，因为它们都持有对同一监视器的引用，即`this`对象的监视器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T06:55:10.543

是的。
执行同步方法线程需要获取对象锁，并且一次只有一个线程可以获取对象锁。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T06:56:17.590

每个 java 对象（类实例）都有一个互斥对象。方法前面的 synchronized 关键字意味着正在运行的线程必须获取该对象的互斥锁。实际上，

```
public synchronized doSomething(){
   ...
} 
```

与此完全相同：

```
public  doSomething(){
   synchronized(this){
      ...
   }
} 
```

所以是的，每个类实例只有一个线程执行同步方法。

请注意，有时这可能不是最理想的，因为您想保护修改，但对并发读取很好，在这种情况下，您可能需要查看[ReadWriteLock](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html)而不是 synchronized 关键字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T06:59:38.780

好吧，每个对象只有一个锁。并且所有同步方法都被此锁锁定。因此，无论哪个线程一次获得锁，它都被授权通过所有同步方法。但是等待锁的线程在获得锁之前不能进入同步方法。

**因此，一次只有线程规则和其他规则必须等待进入任何同步方法，无论统治线程是否正在执行该方法。**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T07:00:06.753

是的，除了获得锁的线程之外的所有线程都必须等到锁再次被释放才能执行三种同步方法之一。

请记住，同步方法与普通方法相同

```
synchronized(this) {
    // method body
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T07:01:50.903

这是真的，而且是这样的。也有必要使该对象的数据保持一致。

假设不存在此验证，并且有一个变量 x 正在由 2 个不同的同步方法 xxx() 和 yyy() 操作。

因此，如果线程 A 获得方法 xxx() 的锁定，该方法正在操作 x=5，第二个线程 B 获得方法 yyy() 的锁定并操作 x=-5，那么在方法 xxx() 结束时，线程 A 期望 x=5但它会得到 x=0 这是错误的。

这就是它以这种方式实现的原因。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-02-08T20:29:33.047

如果一个类有 4 个同步方法，那么是的，一次只有一个线程可以访问这些方法。我想这里的疑问是，每个线程可以一次访问单个类实例的不同同步方法。答案是不。一次只有一个线程可以访问同步方法。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-06-25T06:56:25.257

我不确定您会感到困惑，但是获取锁会阻止其他线程在您持有它时获取它，并且类的所有非静态同步方法在同一个对象上同步，所以您的问题的答案是'是的'，假设我已经正确理解了你。我不知道“同步”还有什么意思，或者它对任何其他含义有什么用处。

# database - 使用 cast 创建 oracle 视图在 oracle sql developer 中出现错误

> ID：11184651
> 
> 赞同：1
> 
> 时间：2012-06-25T06:53:17.270
> 
> 标签：database, oracle, database-design, view, oracle-sqldeveloper

我正在使用以下查询在 oracle sql developer 中创建一个 oracle 视图，

```
 select * from (SELECT DATEENTER as PI_TIMESTAMP,PI_TAG as  PI_TAGNAME, 
case when LENGTH(TRIM(TRANSLATE(final, ' +-.0123456789', ' '))) is null then cast(final as number) else null end as PI_VALUE,
STATUS AS  PI_STATUS  
FROM T2) a
where PI_VALUE is not null 
```

该查询在查询窗口中运行良好，但是它给了我错误**Error(s) parsing SQL: Unexpected token at 134 near )。在 136 附近的意外令牌是。** 当我尝试将其创建为视图时

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:03:12.323

可能，SQL Developer 被列名“final”弄糊涂了。"final" 在 Oracle PL/SQL 中用于防止从 Object 类型继承。

尝试在 SQL/Plus 中运行您的语句 - 应该可以正常工作。

顺便说一句，我建议使用 to_number(final) 而不是普通的演员表。

# eclipse - 将 jquery.min.js 文件添加到 phonegap eclipse 应用程序

> ID：11184654
> 
> 赞同：1
> 
> 时间：2012-06-25T06:53:29.393
> 
> 标签：eclipse, jquery-mobile, cordova, eclipse-plugin

我第一次在 phonegap eclipse 应用程序中使用 jquery。我已经从 internet 下载了 jquery.min.js 文件。现在我想将该文件包含到我的项目文件夹中。所以请帮我怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-25T07:03:42.750

如果你使用 eclipse 而不是做一件事，每次为每个新项目包括 jquery 都不是一个聪明的任务，我给你一个链接，你可以通过它在 eclipse 中安装 phonegap 插件，所以在遵循之后你会得到如下图所示的符号。单击该符号后，您将能够直接从中创建 phonegap 项目，并且项目将自动包含创建 phonegap 环境所需的所有 jquery min js、phonegap.js 等文件。这是一张图片![在此处输入图像描述](../Images/b82bcc760a7d674db65e6d4e64342844.png)

这是在 Eclipse 中安装 phonegap 插件需要遵循的链接

按照给出的所有步骤比看看这个链接

[http://www.mobiledeveloperssolutions.com/home/start](http://www.mobiledevelopersolutions.com/home/start)

[http://www.mobiledevelopersolutions.com/home/start/startdetails](http://www.mobiledevelopersolutions.com/home/start/startdetails)

祝你好运

阿米尔汗一世。

# math - 需要一个公式来计算二维空间中某个点的 ID

> ID：11184661
> 
> 赞同：1
> 
> 时间：2012-06-25T06:54:20.687
> 
> 标签：math, 2d, formula, identification

基本上，我试图找出一个计算二维空间中点的唯一标识号的公式。条件：如果 f(x,y) = c 则没有其他 X1, Y1 使得 f(X1,Y1) = c x 和 y 都是整数并且 c 也必须是整数（double 可能不适合，因为它的精度是有问题的，我不确定它是否适合用作哈希表中的键）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:33:57.107

当然，这是非常微不足道的。让我概述一个算法，我将把编码作为练习留给任何愿意做的人。

拿一张纸，最好把它弄大，然后在上面画一个方格。用从 min 到 max 的数字标记列，因此对于从 1 到大数的整数。以相同的方式标记行。我假设您从 1 开始标记行和列，那么该网格的左上角单元格将位于 (1,1)。

在 (1,1) 的单元格中写入数字 1。在单元格 (2,1) 中写入 2，在 (1,2) 中写入 3，在 (1,3) 中写入 4，在 (2,2) 中写入 5 , ....

您现在有一个从 2D 整数“空间”到 1D 整数空间的可逆映射。

感谢[康托尔](http://en.wikipedia.org/wiki/Georg_Cantor)在这方面的帮助。

# c# - 需要在c#中访问其他winform

> ID：11184665
> 
> 赞同：0
> 
> 时间：2012-06-25T06:54:52.437
> 
> 标签：c#, winforms

我有 2 个表格：**Form1**，**Form2**。Form1 已选中列表框：**checkedlistbox1**

我所需要的只是当我从 Form2 中单击一个按钮时，checklistbox 项目应该被清除。通过搜索，我找到并应用了此代码，但没有用。

```
using (Form1 form1 = new Form1())
      {
          form1.checkedListBox1.Items.Clear();
      } 
```

但没有用。请提出一些想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T06:58:47.330

您正在创建一个未显示的新表单，并且正在清除该表单上的列表框。您需要的是对您已经打开的表单的引用。因此，无论您打开什么（可能来自 program.cs？），存储对 Form1 的引用，以便您可以从调用`Form1`中使用该引用`form2``checkedListBox1.Items.Clear();`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T07:01:56.730

因为当你这样做时

```
using (Form1 form1 = new Form1()) 
```

您实际上是在**创建**`Form1`. 这就是为什么它不起作用。您需要获取`Form1`.

```
foreach (var item in Application.OpenForms)
{
    Form1 form1 = item as Form1;
    if (form1 != null)
    {
        form1.checkedListBox1.Items.Clear();
    }
} 
```

或者可能

```
((Form1) Application.OpenForms["Form1"]).checkedListBox1.Items.Clear(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T06:58:12.040

您所做的是创建 Form1 的新实例。您需要访问已创建的（填满列表）然后清除。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T06:58:47.233

如果要在当前显示的表单上访问它，则必须将 Form1 的实例传递给 Form2。
如果您以下列方式从 Form1 中显示 Form2，

```
Form2 form2 = new Form2();            
  form2.ShowDialog(this); 
```

然后，您可以使用，

```
using (Form1 form1 = ((Form1)Owner))
  {
    form1.checkedListBox1.Items.Clear();
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T06:56:09.603

你应该做几件事：

*   确保 form1 的访问修饰符是 public
*   注册到form2上的按钮`OnClick`事件
*   从Form2获取Form1的引用，我们称之为form1reference
*   点击事件你应该写：`form1reference.checkedListBox1.Items.Clear();`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T06:59:46.300

您在这里创建 Form1 的新实例，它将不起作用。使用所有者等属性。尝试这样的事情。

```
var myowner = this.Owner as Form1;
myowner.checkedListBox1.Items.Clear(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-25T07:02:45.310

检查或更改 Form1 复选框的修饰符属性为 public

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-25T07:03:28.623

在表单 1 中将复选框 1 修饰符设置为公共，如果表单 1 已经打开，表单 2 代码将是：

```
 private void button1_Click(object sender, EventArgs e)
    {
        form1.checkBox1.Checked = false;

    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-06-25T07:13:22.270

使您的 CheckBoxList 从`Form1.Designer.cs`.

然后

```
private void button1_Click(object sender, EventArgs e)
{
    Form1 form1 = new Form1();
    form1.Show();   
    //form1.checkedListBox1.SetItemChecked(0, true);
    form1.checkedListBox1.Items.Clear(); 
} 
```

# cordova - 如何在 Sencha Touch 2 中开发黑莓应用程序

> ID：11184667
> 
> 赞同：0
> 
> 时间：2012-06-25T06:55:03.387
> 
> 标签：cordova, sencha-touch, extjs, sencha-touch-2, sencha-architect

我在 Sencha Touch 2 中创建了一个应用程序，并将其提供给 Phonegap，它构建了 APK，但没有构建黑莓 OTA。

谁能给我使用 Sencha Touch 2 在 Phonegap 中创建 Blackberry OTA 安装的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:09:40.283

为什么是 APK？您使用的是 Android 还是黑莓版本？

[此链接显示如何将 PhoneGap 与 Blackberry 一起使用](http://docs.phonegap.com/en/1.8.1/guide_getting-started_blackberry_index.md.html#Getting%20Started%20with%20Blackberry)

PS：如果你已经使用了BB build，会出现什么错误？

# javascript - 从 onclick 调用 JQuery 对话框

> ID：11184671
> 
> 赞同：0
> 
> 时间：2012-06-25T06:55:15.850
> 
> 标签：javascript, jquery

下面的 HTML 将显示一个带有 2 个按钮的页面。一个人将以正常方式打开一个 JQuery 对话框 - 并且工作正常。

另一个按钮是尝试以非 jquery 函数的形式打开对话框 - 但它不起作用。我知道第二个按钮不是应该如何完成的 - 但由于我将跳过此处解释的原因，我想知道这是否可能？

我是 jquery 的新手——所以我确信在命名空间等方面有一些基本的东西我目前并不完全理解。尝试了多种方法使其无法成功运行后-我现在请教如何做到这一点。更一般的问题是关于“普通”javascript 如何引用和操作 JQuery 函数。

可以做到吗？

```
<!doctype html>
<html>
<head>
    <title>My Dialog demo</title>
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/jquery-ui.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var $dialog = $('<div></div>')
            .html('My Dialog Demo...')
            .dialog({
                autoOpen: false,
                title: 'My Dialog'
            });

            $('#Button1').click(function () {
                $dialog.dialog('open');
                return false; ////cancel eventbubbeling
            });
        });

        function showDialog() {
            $dialog.dialog('open');
            return false //cancel eventbubbeling
        }

    </script>

</head>
<body>
 <!-- JQuery autowired event-->
<button id="Button1">Open dialog (JQuery event wireup)</button>
<!-- Manual -->
<button id="Button2" onclick="showDialog();">Open (manual onClick event)</button>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:59:07.890

`$dialog`像这样制作 地球仪

```
<script type="text/javascript">
        var $dialog; 
        $(document).ready(function () {
            $dialog = $('<div></div>')
            .html('My Dialog Demo...')
            .dialog({
                autoOpen: false,
                title: 'My Dialog'
            });

            $('#Button1').click(function () {
                $dialog.dialog('open');
                return false; ////cancel eventbubbeling
            });
        });

        function showDialog() {
            $dialog.dialog('open');
            return false //cancel eventbubbeling
        }

    </script> 
```

# mysql - 选择用户不是特定用户的朋友

> ID：11184672
> 
> 赞同：0
> 
> 时间：2012-06-25T06:55:16.020
> 
> 标签：mysql, sql

![在此处输入图像描述](../Images/68596f9eca9aee7e219847f483e3e794.png)

嗨，我有这两个表：用户和朋友（friend_status = 1 表示请求已发送，friend_status = 2 表示他们是朋友）。现在我想选择所有用户不是特定用户的朋友。怎么做？

假设当前用户是 1。我试过这个 SQL。它有效，但它太长而且太慢。第一个选择向 user1 发送请求但未被接受的所有用户。第二个选择从 user1 接收请求的所有用户。第三个和第四个选择所有不在“朋友”表中的用户。

```
SELECT user_id, name, email
                FROM
                (
                    SELECT user_id, name, email
                    FROM users u INNER JOIN friends f ON u.user_id = f.sender
                    WHERE f.receiver = 1 AND friend_status <> 2
                    UNION
                    SELECT user_id, name, email
                    FROM users u INNER JOIN friends f ON u.user_id = f.receiver
                    WHERE f.sender = 1 AND friend_status <> 2
            UNION
            SELECT u.user_id, u.name, u.email
                    FROM users u LEFT JOIN friends f ON u.user_id = f.sender
                    WHERE f.receiver IS NULL
                    GROUP BY user_id
                UNION 
            SELECT u.user_id, u.name, u.email
                    FROM users u LEFT JOIN friends f ON u.user_id = f.receiver
                    WHERE f.sender IS NULL
                    GROUP BY user_id
                ) T
        GROUP BY user_id 
```

**更新：**添加图片。 ![在此处输入图像描述](../Images/83670c3c5c888f1eb09e609c5f408e6c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:41:38.240

```
SELECT
    a.user_id,
    a.name,
    a.email,
    b.status IS NOT NULL AS friend_status
FROM
    users a
LEFT JOIN
    friends b ON 
        a.user_id IN (b.sender, b.receiver) AND
        1 IN (b.sender, b.receiver)
WHERE
    (b.friend_id IS NULL OR b.status <> 2) AND
    a.user_id <> 1 
```

您之前[在这里问过一个](https://stackoverflow.com/questions/11183428/select-the-users-are-not-friend-of-anyone)[问题](https://stackoverflow.com/a/11183475/1446794)- “选择与任何人都不是朋友的用户”，我提供了一个使用`LEFT JOIN`.

***在此基础上，要选择与特定***用户不是朋友的用户，我们只需将该特定用户的 ID 添加到`LEFT JOIN`条件 ( `1 IN (b.sender, b.receiver`) 中。

*次要编辑：*除非用户可以与他/她自己成为朋友，否则选择我们正在选择的用户是没有意义的！所以我加了`WHERE a.user_id <> 1`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:13:42.293

您可以通过使用以下内容来简化此操作：

```
SELECT user_id, name, email
FROM
(
    SELECT u.user_id, u.name, u.email
    FROM users u LEFT JOIN friends f ON u.user_id = f.sender
    WHERE IFNULL(friend_status,0) <> 2
    GROUP BY user_id
    UNION
    SELECT u.user_id, u.name, u.email
    FROM users u LEFT JOIN friends f ON u.user_id = f.receiver
    WHERE IFNULL(friend_status,0) <> 2
    GROUP BY user_id
) T
GROUP BY user_id 
```

IFNULL 函数返回第一个参数的值，将 NULL 替换为 value 第二个参数的值。在这种情况下，这意味着如果朋友表中没有匹配的朋友，friend_status 将被视为 0，这使您可以将 UNION 中的选择次数减少一半。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:15:59.080

假设您要在`user_id`1 上执行查询：

```
SELECT user_id, name, email
FROM users AS u
WHERE NOT EXISTS (SELECT * FROM friends AS f
                  WHERE (f.sender = u.user_id AND f.receiver = 1 AND f.friend_status = 2)
                  OR (f.sender = 1 AND f.receiver = u.user_id AND f.friend_status = 2)
                 )
AND u.user_id <> 1 
```

子查询获取所有已建立的友谊关系，其中用户 1 是发送者或接收者。外部查询选择不存在此类关系的所有用户。ID 为 1 的用户被排除在使用最后一行的查询之外，因为即使他不能与自己成为朋友，我想他也不应该出现在最终的查询结果中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T07:40:57.390

试试这个查询

```
select
  u.user_id,
  u.name,
  u.email,
  ifnull(f.friend_status,0) as Relation
from users as u
  left join friends as f
    on f.sender = u.user_id
where u.user_id not in(select
             sender
               from friends
               where sender = 1) 
```

这里 sender = 1 表示用户 id = 1。您可以传递用户 id 来限制此条件。状态 0 也意味着他不是朋友。和 1 , 2 , 3 是根据你的规则

# javascript - 禁用带有复选框的网格面板

> ID：11184674
> 
> 赞同：0
> 
> 时间：2012-06-25T06:55:42.667
> 
> 标签：javascript, extjs, grid, fieldset, gridpanel

我的要求是在特定条件下禁用字段集或网格行内的网格面板。网格有 20 多个项目，应该有一个滚动条来查看网格的所有元素。如果我使用网格面板的禁用属性，那么滚动条也会被禁用。但我需要启用滚动条，以便用户可以看到所有网格项目。

对于上面我用 feildset autoscroll: true 和 layout:fit 编码。但是在禁用网格面板时，由于 fieldset 的 layout:fit 属性，fieldset 的滚动条也会被禁用。有什么方法可以达到要求吗？

代码：

```
Ext.applyIf(this,  {
    border : false,
    frame : false,
    bodyStyle : 'padding:12px 15px 0px',
    labelAlign : 'top',
    columnWidth : 0.5,
    heigth : 350,
    layout : 'form',
    items: [{
        xtype: 'fields',
        id: 'fields',
        layout: 'fit',
        height: 321,
        autoScroll: true,
        title: 'Element list',
        items: mygridPanel
    }]
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T08:14:20.440

我在 jsFiddle 上制作了一个小演示供您查看：

[http://jsfiddle.net/CGtqp/](http://jsfiddle.net/CGtqp/)

这能帮助您解决问题吗？

# php - 如何在 Joomla 2.5 中创建新文件并转储其中的内容？

> ID：11184677
> 
> 赞同：0
> 
> 时间：2012-06-25T06:55:53.073
> 
> 标签：php, file, joomla, joomla2.5, joomla1.6

我在 Joomla 1.6 中知道 JFile 和 write 函数，但是 Joomla 2.5 也有类似的函数吗？我在 Joomla 文档中没有得到任何东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:26:08.347

是的 - 它就在那里。

你可以在里面看到`/libraries/joomla/filesystem/file.php`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T18:29:30.970

您可以使用以下代码片段导入它：

```
jimport( 'joomla.filesystem.file' ); 
```

# java - 获取java中最后一个upserted文档的_id

> ID：11184681
> 
> 赞同：0
> 
> 时间：2012-06-25T06:56:07.753
> 
> 标签：java, mongodb

我需要在 java 中找到最后一个 upserted 文档的 _id。我正在使用 2.0.5。如果元素已更新，我在 getLastError 返回的输出中看不到“更新”字段。如果插入了元素，我会看到它。无论元素是更新还是插入，我都需要获取 _id。除了发出另一个 find 命令之外，是否可以通过某种方式获取文档的 _id ？我正在尝试减少不必要的查询。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-24T07:54:38.710

以下代码将为您提供最后修改的记录：

```
db.products.find().sort({"$natural":1}).limit(1); 
```

以下代码将为您提供最后插入的记录：

```
db.products.find().sort({"_id":-1}).limit(1);
db.products.find().sort({"$natural":-1}).limit(1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T00:22:33.060

您可以使用 DBCollection.findAndModify()。您可以设置它的参数，以便它执行 upsert 并返回包含您刚刚创建/修改的对象的 _id 的 DBObject。

查看文档以获取更多信息： [http ://www.mongodb.org/display/DOCS/findAndModify+Command](http://www.mongodb.org/display/DOCS/findAndModify+Command)

附录：我刚刚重新审视了我的答案，并意识到有一种更好、更简单的方法。在文档通过网络发送到服务器之前，_id 的值总是在客户端设置。如果您尚未为 _id 分配值，驱动程序会为您执行此操作。由于客户端设置了_id，您甚至在插入操作开始之前就知道它是什么。考虑这个例子。

```
> var id = ObjectId()
> id
ObjectId("5511062d729ddce46b99ea3f")
> db.test.insert( { _id: id, text:"a trivial experiment"})
WriteResult({ "nInserted" : 1 })
> db.test.find( { _id: id} )
{
    "_id" : ObjectId("5511062d729ddce46b99ea3f"),
    "text" : "a trivial experiment"
} 
```

# templates - ModX：使用GetResources在一页中显示多个页面

> ID：11184691
> 
> 赞同：0
> 
> 时间：2012-06-25T06:56:48.660
> 
> 标签：templates, resources, modx, television

我正在尝试使用 getResources 使用一个资源显示多个资源，包括它们的模板和电视。

我要显示它们的页面中的代码是：

```
[[!getResources? &parents=`50` &sortdir=`ASC` &sortby=`menuindex` &limit=`100` &includeTVs=`1` &processTVs=`1` &tpl=`gigtemp` ]] 
```

`&tpl=gigtemp`我创建的所有模板 HTML 和电视都在哪里。

但是，页面上没有显示任何内容。

谁能帮我吗？

如果我需要解释更多，请告诉我。

更新：

一些信息正在显示，但很多 html 已损坏。

我在块上的 HTML 是：

```
<div class="gig-guide">
<div class="gig-info">
<h2>[[+tv.gigname]]</h2>
<strong>[[=tv.gigcity]]</strong>
<img src="[[+tv.gigthumb]]" alt="Contra Clave Contra Event: [[+tv.gigname]" /></div>
<div class="gig-info">
<h2>[[+tv.gigdate]]</h2>
[[+tv.gigtime]]</div>
<div class="gig-info">
<h2>[[+tv.gigvenue]]</h2>
[[+tv.gigaddress]]</div>
<div class="gig-info">
<h2>[[+tv.gigcost]]</h2>
</div>
<div class="gig-bottom">
<div class="fb-like" data-href="[[+tv.gigfbevent]]" data-send="false" data-width="300" data-colorscheme="dark" data-show-faces="false"> </div>
<div class="gigsocialmedia"><a href="[[+tv.gigbandfb]]" target="_blank"><img src="assets/images/ccc-fb.png" alt="This event on Facebook" /></a> <a class="twitter-share-button" href="https://twitter.com/share?text=[[+tv.gigtwitter]]" target="_blank" data-lang="en"><img src="assets/images/ccc-twiter.png" alt="Tweet this event" /></a> <a href="mailto:?subject=[[+tv.gigemail]]"><img src="assets/images/ccc-email.png" alt="Email this event to a friend" /></a></div>
</div>
<!--END GIG BOTTOM DIV-->
<!--END GIG GUIDE DIV--> 
```

再次感谢任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:23:37.763

您的代码是有效的，据我所知，没有错误。这意味着还有其他问题，我猜是以下之一：

*   您尚未清除缓存，这不是必需的，但可以解决奇怪的问题
*   资源 50 的子代未发布或隐藏
*   您的代码还有其他问题，导致 Modx 无法正确解析它。

编辑：您的块中有几个错误。尝试用这个替换它：

```
<div class="gig-guide">
<div class="gig-info">
<h2>[[+tv.gigname]]</h2>
<strong>[[+tv.gigcity]]</strong>
<img src="[[+tv.gigthumb]]" alt="Contra Clave Contra Event: [[+tv.gigname]]" /></div>
<div class="gig-info">
<h2>[[+tv.gigdate]]</h2>
[[+tv.gigtime]]</div>
<div class="gig-info">
<h2>[[+tv.gigvenue]]</h2>
[[+tv.gigaddress]]</div>
<div class="gig-info">
<h2>[[+tv.gigcost]]</h2>
</div>
<div class="gig-bottom">
<div class="fb-like" data-href="[[+tv.gigfbevent]]" data-send="false" data-width="300" data-colorscheme="dark" data-show-faces="false"> </div>
<div class="gigsocialmedia"><a href="[[+tv.gigbandfb]]" target="_blank"><img src="assets/images/ccc-fb.png" alt="This event on Facebook" /></a> <a class="twitter-share-button" href="https://twitter.com/share?text=[[+tv.gigtwitter]]" target="_blank" data-lang="en"><img src="assets/images/ccc-twiter.png" alt="Tweet this event" /></a> <a href="mailto:?subject=[[+tv.gigemail]]"><img src="assets/images/ccc-email.png" alt="Email this event to a friend" /></a></div>
</div>
<!--END GIG BOTTOM DIV-->
<!--END GIG GUIDE DIV--> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T14:19:05.617

您尝试显示的资源是否隐藏？那么你需要 &showHidden= `1`。

他们是未发表的吗？那么你还需要 &showUnpublished=`1`

您可能还需要 &includeContent= `1`~maybe~

看看你是否可以在不使用 &processTV 的情况下逃脱

如果你仍然有问题 - 忽略 &tpl=``，getResources 只会将它的输出转储到页面，这样你就可以看到实际返回的内容。可能会给你另一个关于没有发生什么的线索..

# php - PDO 将执行结果返回到数组

> ID：11184693
> 
> 赞同：2
> 
> 时间：2012-06-25T06:56:54.773
> 
> 标签：php, pdo

所以我在一个很可能有一个简单解决方案的问题上撞到了墙上。这是我的代码。

```
public function login($username, $password){

        $sql = "SELECT * FROM users WHERE username = :user AND password = :pass";
        $stmt = $this->pdo->prepare($sql);
        $data = array('user' => $username, 'pass' => md5($password . $this->salt));
        $stmt->execute($data);

        $status = $stmt->fetchColumn();
        if($status){
            echo "You are Logged in!";
            print_r($result);
        } else {
            echo $status;
            $this->error['alert'] = "You have not entered the correct login information.";
            Users::ErrorReport();
        }

    } 
```

我想要做的是从该用户行中提取所有数据并将其存储在一个数组中，以便我可以访问它以便将其存储到类变量中。我想做类似的事情

```
while($row = $stmt->fetchAll()){
   $this->username = $row['username'];
} 
```

我这样做时的问题是我遇到了一百万个令人讨厌的错误，并且在搜索网络时找不到任何解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T06:59:00.797

使用`fetch()`代替`fetchAll()`

```
while($row = $stmt->fetch(PDO::FETCH_ASSOC)){
   $this->username = $row['username'];
} 
```

或者如果你喜欢，你可以使用`fetchAll()`这种方式

```
$result_array = $stmt->fetchAll(PDO::FETCH_ASSOC) 
```

更新：Venu 是对的，如果您只想使用关联，那么使用混合（数字和关联）有点浪费。所以使用是个好主意`PDO::FETCH_ASSOC`

# c# - C#下拉列表值不插入

> ID：11184694
> 
> 赞同：0
> 
> 时间：2012-06-25T06:57:09.110
> 
> 标签：c#

我已经编写了一个代码来将数据加载到下拉列表中，正如我所写的那样，它已加载，但是在尝试插入下拉列表的值时（我的意思是 selectedItem.text）它不会插入，而是如果 thtat selectedIndex= 0 已单独插入。请纠正我。

```
//Load the name to Drop down list
      public void name()
        {
            DropDownList1.Items.Clear();
            ListItem i = new ListItem();
            i.Text = "-Select-";
            DropDownList1.Items.Add(i);
            DropDownList1.SelectedIndex = 0;
            Conhr.Open();
            string s;
            s = "select EmployeeName from tbl_EmploeeDetails where SiteName='" + Label5.Text + "' ";
            SqlCommand cd = new SqlCommand(s, Conhr);
            SqlDataReader dr;
            dr = cd.ExecuteReader();
            while (dr.Read())
            {
                ListItem m= new ListItem();
                m.Text = dr["EmployeeName"].ToString().Trim();
                DropDownList1.Items.Add(m);
            }
            dr.Close();
            Conhr.Close();
        }

//trying to insert the data for drop down list

    protected void Button1_Click(object sender, EventArgs e)
        {
                        con.Open();
                        string a;
                        a = "insert into tbl_KKSUser(EName,Uname,Password)values(@en,@un,@pas)";
                        SqlCommand cm = new SqlCommand(a, con);
                        SqlParameter paramName;
                        paramName = new SqlParameter("@en", SqlDbType.VarChar, 25);
                        paramName.Value = DropDownList1.SelectedItem.Text;
                        cm.Parameters.Add(paramName);
                        cm.ExecuteNonQuery();
                        con.close
         } 
```

数据库中的答案将是这样的

1 -Select- dsad AGEAcwBkAGY=

2 -Select- 达 AGEAZA==

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:07:28.787

每次我们使用 DropDownlist 时，最好的方法是选择值，尝试使用：将 DataSource 设置为 reader 并执行 DataBind()

```
 conn.Open();   
  SqlDataReader MyDataSet = cmd.ExecuteReader();    
  ddlClassList.DataSource = MyDataSet;
  ddlClassList.DataTextField = "Field1";
  ddlClassList.DataValueField = "Field2";
  ddlClassList.DataBind();
  MyDataSet.Close();
  conn.Close(); 
```

# android - 没有声音的 Android 视频流

> ID：11184695
> 
> 赞同：3
> 
> 时间：2012-06-25T06:57:21.883
> 
> 标签：android, video-streaming

我正在编写一个 android 应用程序，它是来自 rtsp 源的流式视频。对于大多数 rtsp URI 应用程序都可以正常工作。但是对于某些 URI，视频播放时没有任何声音。当我检查日志文件时，它说“音频硬件 pcm 播放将进入待机状态”。

第二个问题是流媒体几分钟后视频冻结。

我认为问题在于流式视频编码。

提前致谢。

```
MediaController mediaController = new MediaController(live);
mediaController.setAnchorView(videoView);

Uri video = Uri.parse(liveUrlString);

videoView.setMediaController(mediaController);

videoView.setVideoURI(video);
videoView.setOnCompletionListener(myVideoViewCompletionListener);
videoView.setOnPreparedListener(MyVideoViewPreparedListener);
videoView.setOnErrorListener(myVideoViewErrorListener);

videoView.start(); 
```

# iphone - CDVPlugin 类 ChildBrowserCommand (pluginName: ChildBrowserCommand) 不存在

> ID：11184698
> 
> 赞同：0
> 
> 时间：2012-06-25T06:57:24.507
> 
> 标签：iphone, cordova, salesforce, phonegap-plugins

我创建了一个基于 PhoneGap 的应用程序，并包含了我从该链接下载的相同代码：[Building PhoneGap Mobile Applications Powered by Database.com](http://wiki.developerforce.com/page/Building_PhoneGap_Mobile_Applications_Powered_by_Database.com)

当我运行应用程序时，我可以看到登录屏幕。这是屏幕截图： ![在此处输入图像描述](../Images/dd990f430f28c9991d634a1c85edaab1.png)

当我单击登录按钮时，什么也没有发生，我在同一页面中。我已经在`salesforceWrapper.js`文件中包含了我的 cosumer 密钥，如下所示：

```
function SalesforceWrapper() {
    /* AUTHENTICATION PARAMETERS */
    this.loginUrl = 'https://login.salesforce.com/';
    this.clientId = 'sadsadasdadadasdasdasdsadasdas.dsddsd_sdsds.dsdsdsdsdsds';
    this.redirectUri = 'https://login.salesforce.com/services/oauth2/success';

    /* CLASS VARIABLES */
    this.cb = ChildBrowser.install(); //ChildBrowser in PhoneGap
    this.client = new forcetk.Client(this.clientId, this.loginUrl); //forceTk client instance

    this.init();
} 
```

为什么我无法重定向到 salesforce 登录页面？这是控制台输出：

```
2012-06-25 16:20:53.023 J[2396:13403] Opening Url : https://login.salesforce.com/services/oauth2/authorize?display=touch&response_type=token&client_id=sadsadasdadadasdasdasdsadasdas.dsddsd_sdsds.dsdsdsdsdsds&redirect_uri=https%3A//login.salesforce.com/services/oauth2/success
2012-06-25 16:20:53.024 J[2396:13403] *** WebKit discarded an uncaught exception in the webView:decidePolicyForNavigationAction:request:frame:decisionListener: delegate: <NSInvalidArgumentException> Application tried to present modally an active controller <MainViewController: 0x9a67dc0>.
2012-06-25 16:20:53.034 J[2396:13403] ERROR whitelist rejection: url='https://login.salesforce.com/services/oauth2/authorize?display=touch&response_type=token&client_id=sadsadasdadadasdasdasdsadasdas.dsddsd_sdsds.dsdsdsdsdsds&redirect_uri=https%3A//login.salesforce.com/services/oauth2/success' 
```

向 Cordova.plist 添加了 ChildBrowserCommand 和 ChildBrowser 字段。 ![在此处输入图像描述](../Images/f39cc83c37ed0cf9015c161714530842.png)

在 Index.html 页面中包含脚本文件路径：

```
<script type="text/javascript" charset="utf-8" src="ChildBrowser.js"></script> 
```

这是我的 Xcode 项目截图：

![在此处输入图像描述](../Images/f067f00f3990a14129f2972fd7d08353.png)

我已经解决`CDVPlugin`了参考问题并得到了`WebKit discarded an uncaught exception`问题。我该如何解决这个问题？

通过向 Crodova.plist 中的 ExternalHosts 添加额外参数来解决它。 ![在此处输入图像描述](../Images/47e580d10d9a2a3ae0d2aebf2697434d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T22:31:20.020

对于其他面临此问题的人，

问题可能是由于事件处理程序没有正确绑定。- 或多次绑定（很可能）。

虽然必须对插件代码进行修补以防止其尝试绑定多次，但防止这种情况发生的简单方法是在 jQuery 中使用委托事件处理程序并确保事件仅绑定到目标一次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:23:25.417

*   您是否编辑了 Cordova.plist 文件以包含 ChildBrowser 插件所需的映射？
*   您是否在项目中正确包含了 ChildBrowser 插件的 .h .m 源代码？
*   您是否包含了 childbrowser.js 文件，并将其加载到您的 index.html 文件中？

这通常是导致问题的这些问题之一。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T15:33:53.370

对于在 IOS 5 上遇到此问题的其他所有人，问题是 Childbrowser 尝试显示两次导致错误。一种解决方案是在显示代码周围抛出一个 try catch。

即改变这个（ChildBrowserCommand.m -> showWebPage）

```
#ifdef CORDOVA_FRAMEWORK
CDVViewController* cont = (CDVViewController*)[ super viewController ];
childBrowser.supportedOrientations = cont.supportedOrientations;
childBrowser.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
[ cont presentModalViewController:childBrowser animated:YES ];
#endif 
```

对此：

```
#ifdef CORDOVA_FRAMEWORK
CDVViewController* cont = (CDVViewController*)[ super viewController ];
childBrowser.supportedOrientations = cont.supportedOrientations;
childBrowser.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
@try {
    [ cont presentModalViewController:childBrowser animated:YES ];
}@catch(NSException * e){
    NSLog(@"ALready visible");
}
#endif 
```

# css - css：li元素后的图像进入新行

> ID：11184703
> 
> 赞同：1
> 
> 时间：2012-06-25T06:57:46.270
> 
> 标签：css, list, html-lists, line-breaks

我在列表中的每个元素之后插入图像时遇到问题。我使用了“：after”，它向我显示了图像，但不是在每个元素之后，而是图像在每个元素下都有一个新的换行符：

应该是（|=图像）：Site1 | 站点2 | 地点...

现实：Site1 Site2 Site3 | | |

按照我的css代码，也许有人可以提供帮助：

```
/* Navigation */
#nav {
    position:relative; 
    height:70px;
    background:#191919;
    position:relative;
}

/* The main menu */
.menu{
    list-style: none; 
    position: relative; 
    float: left; 
    display: block; 
    left: 50%;
    padding-top:20px;
 }

/* First level of navigation */ 
.menu li{
    position: relative; 
    float: left; 
    display: inline; 
    right: 50%;
    padding-right:15px;
      }

.menu li a{
    display:inline;
    width:auto;
    word-wrap: break-word;
    text-shadow: none; 
    color:#FFF;
    text-decoration:none;
    font-size:14px;
    font-weight:normal;
     }

.menu li:after {
    display: block;
    content: "";
    width: 5px;
    height: 50px;
    background: transparent url('../images/nav_bar_line.png') no-repeat;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:00:26.473

您可以`absolute`为此使用位置。像这样写：

```
.menu li:after {
    display: block;
    content: "";
    position:absolute;
    top:0;
    right:-5px;
    width: 5px;
    height: 50px;
    background: transparent url('../images/nav_bar_line.png') no-repeat;
} 
```

# java - JSP 和 servlet 中的设计问题

> ID：11184705
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:58:05.040
> 
> 标签：java, jsp, tomcat, servlets

我正在使用 JSP、servlet 和 Tomcat 做我的大学小项目，我发现我的设计存在一些问题。

问题：当我在浏览器中重新加载页面时，我的设计总是会发生变化，尽管我没有对 CSS 或任何 JSP 代码进行任何更改，但如果我从 Dreamweaver 打开相同的文件而不是显示所需的设计。你能帮我解决这个问题吗？

```
login.css
    body {
        font-family: "Trebuchet MS", Tahoma, Arial, Geneva, sans-serif, Helvetica, sans-serif;
        font-size: 13px;
        background: url(../images/bg.png) 0 64px repeat-x;
        margin: 0;
    }

    .wrapper {
        xmargin: 0 auto;
    }

    #border-top.h_green {
        background: url(../images/j_header_middle.png) repeat-x;
        height: 84px;
        xmargin: 0 auto;
    }

    #contentbox,#header-top {
        width: 755px;
        margin: 0 auto;
        xbackground: #efefef;
        padding: 0px;
        position: relative;
    }

    #menuheader {
        position: relative;
    }

    #contentbox p {
        padding: 0 0 10px 0;
    }

    #menubox {
        background: #fff;
        padding: 3px 10px;
        border-left: 1px solid #cccecc;
        border-right: 1px solid #cccecc;
        height: 15px;
    }

    #user_name {
        position: absolute;
        right: 0px;
        top: 0px;
        xbackground: url(../../../images/icons/user.png) no-repeat scroll 0 2px
            transparent;
        padding-left: 20px;
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        font-size: 11px;
        font-weight: bold;
        color: #666;
    }

    .loginwrapper {
        width: 755px;
        margin: 0 auto;
    }

    .btn{ 
        background:url(../images/btn.jpg) repeat-x;
        height:28px;
        border:none;
        color:#fff;
        margin-top:20px;
    }

    .loginbox {
        background: url(../images/login_shadow.png) no-repeat;
        height: 310px;
        padding: 40px;
    }

    .rightsection {
        width: 85%;
        float: right;
        border-bottom: 1px solid #cccc;
    }

    .rightboxwrapper {
        float: left;
        width: 325px;
        padding-right: 30px;
        background: url(../images/loginleft.png) no-repeat center bottom;
        height: 262px;
    }

    .rightboxwrapper .loginheader h2 {
        color: #0588ab;
        font-size: 16px;
        font-family: trebuchet MS;
        margin: 0;
        text-align: left;
    }

    .loginform input {
        width: 170px;
    }

    .loginform input#btnsubmit {
        width: 80px !important;
        border: none;
    }

    .loginform {
        padding: 10px 0 0 45px;
        line-height: 35px;
        background: url(../images/lock.png) no-repeat right center;
        width: 335px;
    }

    .loginform td {
        color: #333333;
        font-family: trebuchet MS;
        font-size: 12px;
        padding: 0;
        margin: 0;
    }

    .copyright {
        width: 100%;
        text-align: right;
        padding: 5px 0px;
        font-size: 11px;;
        color: #0588ab;
        font-family: trebuchet MS;
    }

    .copyright p {
        padding-right: 15px !important;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:22:02.127

我能想到的原因有几个：

1.  您忘记将页面链接到 CSS。
2.  css 没有加载（可能是 url 错误），您可以通过右键单击页面并选择“查看源代码”来检查这一点，然后在顶部找到 css url 并单击它以查看是否得到它。

如果您发布 jsp/css 将会很有帮助。

# java - Ipad号码域代码

> ID：11184706
> 
> 赞同：0
> 
> 时间：2012-06-25T06:58:05.967
> 
> 标签：java, php, ipad

我正在寻找一种将我的普通 html 文本字段转换为 Ipad 的 Numpad 字段的方法。所以当用户在 Ipad 的字段中点击输入数字时，它会自动在 Ipad 上显示小键盘，用户不必从字符键盘中选择小键盘。

此致。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:03:45.633

以下枚举是为键盘类型定义的 -

```
typedef enum {
    UIKeyboardTypeDefault,                // Default type for the current input method.
    UIKeyboardTypeASCIICapable,           // Displays a keyboard which can enter ASCII characters, non-ASCII keyboards remain active
    UIKeyboardTypeNumbersAndPunctuation,  // Numbers and assorted punctuation.
    UIKeyboardTypeURL,                    // A type optimized for URL entry (shows . / .com prominently).
    UIKeyboardTypeNumberPad,              // A number pad (0-9). Suitable for PIN entry.
    UIKeyboardTypePhonePad,               // A phone pad (1-9, *, 0, #, with letters under the numbers).
    UIKeyboardTypeNamePhonePad,           // A type optimized for entering a person's name or phone number.
    UIKeyboardTypeEmailAddress,           // A type optimized for multiple email address entry (shows space @ . prominently).
    #if __IPHONE_4_1 <= __IPHONE_OS_VERSION_MAX_ALLOWED
    UIKeyboardTypeDecimalPad,             // A number pad with a decimal point.
    #endif
    #if __IPHONE_5_0 <= __IPHONE_OS_VERSION_MAX_ALLOWED
    UIKeyboardTypeTwitter,                // A type optimized for twitter text entry (easy access to @ #)
    #endif

    UIKeyboardTypeAlphabet = UIKeyboardTypeASCIICapable, // Deprecated

} UIKeyboardType; 
```

您可以根据需要选择合适的键盘类型。与文本字段一样 -

```
textField.keyboardType = UIKeyboardTypeNumberPad; 
```

# html - 如何居中对齐 10 列 HTML 页面？

> ID：11184709
> 
> 赞同：0
> 
> 时间：2012-06-25T06:58:08.187
> 
> 标签：html, css

1）嗨，[http://www.getustad.com/TableProject/](http://www.getustad.com/TableProject/)是一个 10 列的页面，我需要位于页面的中心，如果我更改页面的分辨率 [移动到更大的屏幕]，所有列都不应该向左移动。

2）如何使html视图独立于屏幕分辨率？

请帮忙谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:04:06.680

将所有列包装在具有设置宽度属性的 div 中，例如

```
<div id="main_body">
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
   <div class="column"></div>
</div>

Set the css properties of main_body to whatever u want. ex: align:center. width:840px; etc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:06:27.987

如果表的 id 为“mytable”，您可以这样做：

```
table#mytable
{
    margin-left: auto;
    margin-right: auto;
    width: 50em;
} 
```

但是，它在旧浏览器中不起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:09:49.400

嘿，现在您可以像这样更改您的 html 和 css 代码

**CSS代码**

```
#main{
margin:0 auto;
    border:solid 1px red;
    text-align:center;

}

.box{
margin:2px;
    background:rgba(0,0,0,0.2);
    display:inline-block;
    vertical-align: top;
} 
```

**HTML 代码**

```
<div id="main">
    <div class="box">
    <img src="">
        <p>Oncenter</p>
    </div>

    <div class="box">
    <img src="">
        <p>Oncenter</p>
    </div>

    <div class="box">
    <img src="">
        <p>Oncenter</p>
    </div>

    <div class="box">
    <img src="">
        <p>Oncenter</p>
    </div>

</div> 
```

**现场演示** [http://jsfiddle.net/TKMCc/](http://jsfiddle.net/TKMCc/)

# java - 在文本框或任何视图中显示从数据库中选择的内容

> ID：11184710
> 
> 赞同：1
> 
> 时间：2012-06-25T06:58:08.383
> 
> 标签：java, android, database

我有 4 个信息，我得到了 frm 数据库。我想在视图 XML 中查看所有这些。

```
viewCr=viewDb.rawQuery("SELECT * FROM CONTACTS",null);
    while(viewCr.getCount()!=0)
    {

    } 
```

请帮我填充while循环：|

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:07:27.020

要从 viewCr 游标获取数据，请尝试以下操作：

```
viewCr=viewDb.rawQuery("SELECT * FROM CONTACTS",null);
if (viewCr != null) {
viewCr.moveToFirst(); 

     while(!viewCr.isAfterLast())
    {
      myTextView.append(viewCr.getString(viewCr.getColumnIndex("your_column_name")));
      //Your code...
      viewCr.moveNext();
    } 
    //close cursor here
   viewCr.close();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:10:20.743

或者也可以试试这个

```
viewCr.moveToFirst();
    do {
        // 
    } while (viewCr.moveToNext()); 
```

或者 ...

```
viewCr.moveToFirst();
    while(!viewCr .isAfterLast()) {

        viewCr.moveToNext();
    } 
```

# mysql - mysql left join 很慢 & mysql server down

> ID：11184712
> 
> 赞同：2
> 
> 时间：2012-06-25T06:58:14.727
> 
> 标签：mysql

我有以下 3 个 MySQL innoDb 表（显示为 table_name:column_list）：

```
meter_type: id, meter_type (primary key id)
tag_type: id, meter_type_id (primary key id, foreign key meter_type_id(meter_type table))
tag: id, tag_type_id(primary key id, foreign key tag_type_id(tag_type table)) 
```

我有标签：id 我想查找级别 1、级别 2 或级别 3 的meter_type。我的查询是

```
SELECT m.`meter_type`
  FROM `tag` t  
          LEFT JOIN `tag_type` tt 
              ON tt.`id` = t.`tag_type_id`  
          LEFT JOIN `meter_type` m 
              ON m.`id` = tt.`meter_type_id`  
 WHERE t.`id` = '10' 
```

花费 4-4 分钟太慢了，这个查询使 mysql 服务器停机。

如何解决这个问题......任何其他方式来快速编写这个查询

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:03:31.647

我敢打赌你没有在这个字段上添加索引：`tag_type_id`和`meter_type_id`. 这是有关如何在字段上正确添加索引的**[MySQL 文档。](http://dev.mysql.com/doc/refman/5.0/en/create-index.html)**

# c# - 如何从 DateTime 获取 TimeSpan

> ID：11184718
> 
> 赞同：26
> 
> 时间：2012-06-25T06:58:48.110
> 
> 标签：c#, .net

设想：

第三方 Web 服务`datetime`在两个单独的字段中返回，即日期和时间。我需要一种连接到单个字段的方法。

```
e.g.

 startDate='24-06-2012'
 startTime='1-01-1970 1:00:00 AM'

Expected result:
 fullStartDateTime='24-06-2012 1:00:00 AM' 
```

我试图从 startTime 获取 TimeSpan 部分，但无处可去。有人可以让我知道是否有一种聪明的方法可以实现上述目标。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-06-25T07:00:21.823

[TimeOfDay](http://msdn.microsoft.com/en-us/library/system.datetime.timeofday.aspx)是您正在寻找的*DateTime*的属性：

```
TimeSpan timeOfDay = startTime.TimeOfDay;
DateTime fullStartDateTime = startDate.Add(timeOfDay); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-22T19:00:28.063

`timespan fr = new timespan(); fr.parse(string date)`

# java - 一个 webapp 的两个单独的 Spring 上下文

> ID：11184724
> 
> 赞同：8
> 
> 时间：2012-06-25T06:59:29.747
> 
> 标签：java, spring, grails, spring-security

我想使用**两个不同的 Spring web contexts**，每个都有自己的 contextConfig、spring servlet 和 filter，应该映射到不同的 url。我有一个

1.  标准 Grails 项目，映射到 '/'
2.  和一个现有的 Spring webapp，我想映射到`/extra/`

我知道我可以将两者部署到一个 Tomcat 中，但我正在寻找一种制作一个应用程序（一个`war`等）的方法，因为它可以简化我们的部署和开发过程。

这个应用程序不需要共享 bean 或任何东西，应该是完全独立的。两者都有 DispatcherServlet 和 DispatcherFilter （并且都使用 Spring Security，但配置不同）

我如何配置`web.xml`这样的 webapp？

我试图添加新的过滤器：

```
<filter>
    <filter-name>extraSpringSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
    <init-param>
        <param-name>contextAttribute</param-name>
        <param-value>org.springframework.web.servlet.FrameworkServlet.CONTEXT.extraSpring</param-value>
    </init-param>
    <init-param>
        <param-name>targetBeanName</param-name>
        <param-value>extraSecurityFilterBean</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>extraSpringSecurityFilterChain</filter-name>
    <url-pattern>/extra/*</url-pattern>
    <dispatcher>FORWARD</dispatcher>
    <dispatcher>REQUEST</dispatcher>
</filter-mapping> 
```

和 spring 调度程序 servlet：

```
<servlet>
    <servlet-name>extraSpring</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
    <init-param>
        <param-name>springConfigLocation</param-name>
        <param-value>classpath:extra-spring-web.xml</param-value>
    </init-param>
</servlet> 
```

在哪里：

*   类路径中的两个上下文 xml（在 exra 库 jar 中）：
    *   额外的弹簧 web.xml
    *   extra-spring-security.xml ( **!!!**我应该如何配置它？)
*   额外的spring-security.xml
    *   是非常标准的 Spring Security 配置
    *   已配置bean`extraSecurityFilterBean`
    *   对来自 -web 上下文的 bean 有依赖（但不是必须的）

它现在处于半工作状态：

*   正如我从日志中看到的那样，`extraSpring`servlet 成功地从`extra-spring-web.xml`
*   但在访问 url 后，`/extra/`我得到`NoSuchBeanDefinitionException`：没有定义名为“extraSecurityFilterBean”的 bean。

那么，问题是，我如何定义上下文`DelegatingFilterProxy`？我什至尝试将此文件添加到主上下文（contextConfigLocation 参数）中，这不是我想要的，但它没有用。

我查看了 DelegatingFilterProxy 源，但我不清楚它是如何加载上下文的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T09:20:10.437

根据我对这个问题的评论，如果在中定义了安全过滤器链，`extra-spring-security.xml`那么您需要确保该文件由您的额外 DispatcherServlet 加载，除了`extra-spring-web.xml`通过`<import>`从 -web 下载 -security 文件或将其配置为：

```
<servlet>
    <servlet-name>extraSpring</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>
          classpath:extra-spring-web.xml
          classpath:extra-spring-security.xml
        </param-value>
    </init-param>
</servlet> 
```

您还需要确保*Grails*应用程序中的安全过滤器不适用于`/extra`URI，具体操作方式取决于您是否使用注释、数据库 RequestMap 条目等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T09:25:19.710

如果模块**完全**分离：最简单的方法是将它们打包为两个不同的 webapp。数十个不同的基于 spring 的应用程序可以在一个应用程序服务器中运行——即使在一台普通的开发人员机器上——也不会出现问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-27T02:42:21.670

# 几个问题

*   您的 Spring Security 配置是什么样的？
*   我很困惑为什么错误状态“没有定义名为'apiservSecurityFilterChain'的bean”但是您发布的web.xml只引用了extraSpringSecurityFilterChain（bean名称应该匹配或一些重要的配置被遗漏）。

# 可能的答案

我猜问题是过滤器名称需要与 Spring Security 的 bean 名称匹配（如果没有看到您正在使用的 Spring Security 配置就无法确定）。Spring Security 命名空间使用的默认值是 springSecurityFilterChain，因此请在 web.xml 中尝试以下操作（注意 extraSpringSecurityFilterChain 更改为 springSecurityFilterChain）：

```
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
    <init-param>
        <param-name>contextAttribute</param-name>
        <param-value>org.springframework.web.servlet.FrameworkServlet.CONTEXT.extraSpring</param-value>
    </init-param>
    <init-param>
        <param-name>targetBeanName</param-name>
        <param-value>extraSecurityFilterBean</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/extra/*</url-pattern>
    <dispatcher>FORWARD</dispatcher>
    <dispatcher>REQUEST</dispatcher>
</filter-mapping> 
```

# web-crawler - 网络爬虫评测？

> ID：11184726
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:59:34.927
> 
> 标签：web-crawler

我在专注的网络爬虫（又名主题网络爬虫）中看到，评估指标 - 收获率 - 被定义为：在抓取 ' **t** ' 页面后，**收获率 = number_of_relevant_pages/pages_crawled(t)**。

例如，在爬取 100 个页面后，我得到 80 个真阳性，那么此时爬虫的收获率为 0.9。但是爬虫可能忽略了一些与爬取域完全相关但未计入评估比率的爬取页面。这是什么？我们能否改进评估指标以包括完全相关的缺失页面？这个考虑重要吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:14:12.737

聚焦爬行最基本的评估是精确度和召回率，可以聚合成 F-measure。

[http://en.wikipedia.org/wiki/Precision_and_recall](http://en.wikipedia.org/wiki/Precision_and_recall)

[http://en.wikipedia.org/wiki/F1_score](http://en.wikipedia.org/wiki/F1_score)

如果您对页面与特定关键字的相关性更感兴趣，则希望使用 tf/idf（词频-逆文档频率）

[http://en.wikipedia.org/wiki/Tf](http://en.wikipedia.org/wiki/Tf) *idf

# c# - 映射坏 wsdl

> ID：11184730
> 
> 赞同：1
> 
> 时间：2012-06-25T06:59:41.040
> 
> 标签：c#, asp.net, visual-studio-2010, web-services, service-reference

我试图通过 WSDL 与另一家公司的 Web 服务进行交互。

我已经将它作为服务参考导入VS2010，我可以提出请求就好了。问题是，返回类型是字符串（xml）。现在我对 WSDL 交易相当陌生，但根据我所读到的，合同中应该有返回类型，然后服务引用会自动为我生成类。

我该如何补救？

*   我想我可以映射 XML 的字符串，如果是这样，有人可以给我看一个很好的例子吗？正如我尝试过的一样，无济于事。
*   我可以告诉 Web 服务使用我指定的返回类型吗？
*   或者，我对 WSDL 有错误的想法吗？如果是这样，有人可以解释我理解中的不一致之处吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:28:11.837

您的基本想法是正确的，拥有一个服务 wsdl**应该**定义服务操作的返回和输入对象。服务提供商可能有正当的理由只给您返回字符串，或者他只是不知道更好。

对您而言，WSDL 是最后的边界，除非您的业务伙伴能够提供新的，否则您无法更改服务接口，因此您必须处理 XML 字符串。

查看[XMLDocument](http://msdn.microsoft.com/en-US/library/system.xml.xmldocument.aspx)，它提供了接受字符串的 Load() 方法。如果它失败了，很可能你错过了一个 XSD，或者你没有包含在字符串中的有效/格式正确的 xml 文档。在这两种情况下，您的业务合作伙伴必须纠正错误或提供更多信息。

# android - Android中的eclipse错误“无法获取标签”？

> ID：11184731
> 
> 赞同：4
> 
> 时间：2012-06-25T06:59:44.743
> 
> 标签：android, eclipse, android-activity

在我的项目中，我在运行时出现错误：`failed to get tags 4/15`虽然它在没有“ANR”对话框的情况下工作。但**有时**在项目主要活动中，当它变得可见时，背景会发生变化并且图标的背景变成活动的背景。我检查了我的代码，每个事情就在它的地方，当我调试项目时，背景名称是真实的，即使它的背景是错误的。真的我不确定这个问题是关于那个错误的，但是当我尝试调试时，只有这个错误出现在 LogCat .
我该如何解决这个问题？我使用`eclipse`.

# php - PHP向客户端显示推送通知

> ID：11184732
> 
> 赞同：0
> 
> 时间：2012-06-25T06:59:44.797
> 
> 标签：php, push-notification

当照片被标记为某个名称时，我会从 instagram 获得实时服务器端通知。

我现在需要将它们推送到客户端。是否有任何 php 类可用于将通知推送到客户端？

我可以为此实现彗星模型吗？如果是这样，我该如何实施？

对此有所了解。如果您提出更好的方法，那就太好了。我没有做过推送通知。

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:27:06.983

就我而言，这不能单独使用 php 完成，除非 html 页面自动提交回服务器......您想使用 ajax。我发现使用 jQuery 是最简单的方法。

[http://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

你像这样使用它：

```
$.get('ajax/new_notifications.php', function(data) {
    $('.notification-area').html(data);
}); 
```

这将处理 new_notification.php 文件，并将回显的结果返回到`.notification-area`

# c++ - 线程化八叉树

> ID：11184734
> 
> 赞同：-1
> 
> 时间：2012-06-25T06:59:48.143
> 
> 标签：c++, octree

线程化八叉树的有效方法，使得八进制中每个八进制单元所包含的指针可以轻松地遍历同一级别的树。

我们必须在这里使用全线程树，以便我可以使用 openmp 在同一级别并行化代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:40:58.687

我对八叉树有一些经验，并自己编写了几个代码。基本问题是树有（至少）两个遍历方向：水平（在子细胞之间）和垂直（在母细胞和子细胞之间），不能映射到线性内存。因此，遍历树（例如邻居搜索）将不可避免地导致缓存未命中。

对于最有效的实现，您应该将非最终单元的所有（最多 8 个）子单元都放在一个连续的内存块中，避免在遍历它们时缓存未命中以及使用指针链接它们的需要。然后每个单元只需要一个指针/索引用于它们的第一个子单元，并且可能（取决于您的应用程序的需要）一个指向其母单元的指针。

类似地，任何由树排序的粒子/位置都应该被排序，使得一个单元中包含的所有粒子/位置在所有树级别的内存中都是连续的。然后每个单元只需要存储第一个和数量的粒子，允许在树的每个级别访问所有粒子（不仅仅是最终单元）。

在实践中，可以通过首先构建一个完全链接的树，然后将其映射到上述形式来实现这种排序。这种映射的开销很小，但应用程序的增益很大。

最后，当仅略微改变粒子位置重新构建树时，将先前树顺序中的粒子提供给树构建算法会显着加快速度（取决于您的算法）。

# javascript - 将http标头设置为浏览器生成的请求？

> ID：11184738
> 
> 赞同：8
> 
> 时间：2012-06-25T07:00:05.293
> 
> 标签：javascript, http, authentication, browser, http-headers

我有具有 HTTP 基本身份验证的服务器，并且我有知道上述 HTTP 服务器的用户名和密码的客户端脚本。我使用`XHR`请求，它是`setRequestHeader`设置授权标头，这一位避免浏览器提示默认 HTTP 登录对话框。

```
request.setRequestHeader('Authorization', authInfo); 
```

*这对于 AJAX 请求*来说是正常的，但如果我想从提到的服务器下载文件并且我被迫*不使用 AJAX*并使用浏览器自己创建请求的 JavaScript 之类的东西`window.location.href`。由于此请求不包含授权标头（浏览器仅在提示登录对话框并为实际服务器保存登录信息的 base64 后才会自动为每个请求添加授权标头）浏览器将提示 HTTP 登录对话框，这是我想避免的。

那么有没有办法将标头设置为浏览器创建的*非 ajax请求？*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:06:58.563

您是否尝试在 URL 中设置用户名和密码？

```
location.href = 'http://user:password@example.com/path/to/download'; 
```

我认为这应该适用于大多数浏览器，但不幸的是[Internet Explorer 7+](http://support.microsoft.com/kb/834489)除外。

或者，如果您有权访问服务器，则可以在服务器端放置一个脚本，该脚本使用 cookie 进行身份验证。可以使用 JavaScript 设置 Cookie。

# java - Java中的对象到数字到数字的转换。公共库中的任何方法？

> ID：11184740
> 
> 赞同：1
> 
> 时间：2012-06-25T07:00:18.300
> 
> 标签：java, guava, apache-commons

我们的项目使用 google guava、apache commons 和其他具有常见任务的库，我想知道这些库是否包含执行 null 安全转换（对象到数字、对象到字符串）的方法。至于现在我给自己写了一些辅助方法，例如：

```
int parseInteger(Object obj) {
        if (obj!= null) {
            if (obj instanceof Integer) return (Integer) obj;
            if (obj instanceof Long) return ((Long) obj).intValue();
            return Integer.parseInt(obj.toString());
        } else {
            return 0;
        }
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T13:18:10.547

我很确定番石榴中没有这样的东西。正如已经指出的

> Guava 试图强迫您尽可能避免使用 null，因为在 null 存在下不正确或未记录的行为会导致大量的混乱和错误。我认为尽可能避免使用空值绝对是一个好主意，如果您可以修改代码使其不使用空值，我强烈推荐这种方法。

类似的论点适用于`parseEverythingAsInt`。您正在寻找一种接受*任何东西*并返回`int`. 这种方法的存在鼓励人们编写返回*任何东西*的方法。这肯定不是好的做法，因为严格有助于防止错误。这就是为什么我很确定番石榴中没有这种方法。

^(也许我的答案最好是评论，但它太长了，无论如何我认为不会有一个肯定的答案。)

# php - PHP OOP 中 $a=&$b 、 $a = $b 和 $a= clone $b 之间的区别

> ID：11184743
> 
> 赞同：3
> 
> 时间：2012-06-25T07:00:22.883
> 
> 标签：php, class, reference, clone, copy-initialization

和在 PHP OOP 中`$a = &$b`有什么区别？是一个类的实例。`$a = $b``$b = clone $a``$a`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T07:08:34.893

```
// $a is a reference of $b, if $a changes, so does $b.    
$a = &$b; 

// assign $b to $a, the most basic assign.
$a = $b; 

// This is for object clone. Assign a copy of object `$b` to `$a`. 
// Without clone, $a and $b has same object id, which means they are pointing to same object.
$a = clone $b; 
```

[并通过References](http://www.php.net/manual/en/language.references.whatdo.php)和[Object Cloning](http://jp.php.net/manual/en/language.oop5.cloning.php)查看更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:15:14.143

```
// $a has same object id as $b. if u set $b = NULL, $a would be still an object
$a = $b;

// $a is a link to $b. if u set $b = NULL, $a would also become NULL
$a = &$b;

// clone $b and store to $a. also __clone method of $b will be executed
$a = clone $b; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-25T07:36:03.240

如果你不知道什么是 ZVAL 结构，什么是 refcount，ZVAL 结构中的 is_ref 大约是什么，请花点时间进行[PHP 的垃圾回收](http://www.php.net/manual/en/features.gc.refcounting-basics.php)。

# java - 使用 int 进行字符串加法

> ID：11184746
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:00:39.450
> 
> 标签：java, string

```
System.out.println(1+2+"3");
System.out.println("1"+2+3); 
```

输出：-

```
33
123 
```

第一种情况可以理解，但第二种情况不清楚。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:07:08.297

如果我们在字符串中进行 + 操作，则作为附加（连接）工作。

所以在你的第一种情况下`1+2+"3"`...... `1+2 =3`但是当它执行`3+"3"`java concate 3 到 String 3 时，它是 33。

在第二个示例中`"1"+2+3`... 2 附加到字符串“1”中，结果为`12`，然后`"12" + 3`结果为 = `123`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T07:01:46.313

如果左边部分是，`String`那么它将调用`+`对字符串的操作，即`append`(concatenation) ，而在数量上它是求和

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T07:01:41.807

`+`是右结合；`"1"+2`结果`"12"`，并添加`3`给出`"123"`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T07:03:03.597

评估从左到右进行。第一次遇到字符串时，所有后续值在添加到表达式之前都会隐式转换为字符串。因此，在第一种情况下，您有 1+2 = 3，然后遇到一个字符串并将 2 附加到字符串“3”。第二种情况 - 遇到字符串“1”，然后将每个 int 转换为字符串，然后再添加到迄今为止累积的结果中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T07:08:52.807

如果您向字符串添加任何内容，它将是一个字符串，因此 1 +“2”（字符串）是“12”（字符串）。如果您继续添加到字符串，您将继续获得字符串“12”（字符串）+ 33 是​​“1233”（字符串）。我认为这更好地证明了你的问题。

谢谢

卡皮尔·加格

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T07:08:55.280

好吧，数学表达式通常是从右边扫描的。

1.  在第一种情况下，如果您从右侧扫描，您会得到两个 int 操作数（**1**和**2**），然后将其相加，当您继续前进时，它会变成**3**作为 int，您会发现一个操作数（**“3”**）是字符串，因此您可以连接结果是**33**。

2.  在第二种情况下，如果您从右侧扫描，您会得到一个字符串操作数（**“1”**），然后将它与**2**连接起来，因此它是**12**作为字符串，当您继续前进时，您会找到 int（**2**），但这一次您的第一个操作数（**12**）是字符串，所以再次连接它，结果是**123**。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-14T12:46:52.673

在第一种情况下，添加 1+2+"3" 第一个 1+2 并附加字符串，因此输出为 33。

但在第二种情况下：“1”+2+3 第一个字符串附加了 2，因此“1”+2 的操作是字符串，最后一个自动是 (“12”+3) 也是字符串。

那就是：第一种情况：数字输出+字符串=字符串

第二种情况：字符串 + 数字 = 字符串

**即转换为具有较低/包装数据类型的父类，最终输出将是父类。**

# c# - 如何在 linq 中使用 sql 查询更新列数据？

> ID：11184750
> 
> 赞同：4
> 
> 时间：2012-06-25T07:01:06.987
> 
> 标签：c#, linq, predicate

我在 sql 中有这个查询，它工作正常：

```
update userinfo set Interest = 0.98 where userid = 313 
```

我想在linq中做，所以我准备了以下内容：

```
public class TableDataDTO
{
    public string Columnname { get; set; }
    public string Value { get; set; }
    public Type DataType { get; set; }
} 
```

执行：

```
TableDataDTO tableData = new TableDataDTO();
tableData.Columnname = "Interest";
tableData.Value = "0.98";

using (dbase instance = new dbase())
{
    string predicate = string.Format("it.UserID=={0} set it.{1}={2}" ,
                313, tableData.Columnname, tableData.Value);

    var uinfo = instance.userinfoes.Where(predicate).FirstOrDefault();

    if (uinfo != null)
    {
        instance.SaveChanges();
        return true;
    }
} 
```

但它给了我这个错误：

```
The query syntax is not valid. Near keyword 'SET' 
```

我将处理不同的列，所以我需要使用 linq 谓词来最小化代码。我不喜欢使用任何插件来制作这个。希望有人能帮忙。

**编辑**

我想我的意思是`"How to update data in using Dynamic linq"`

**编辑2**

所以这是真实的场景。用户/客户可以更新他们的信息，例如名字、姓氏、地址、城市.. 等等。不是一次，而是能够一个一个地更新信息。
那么这是什么意思呢？好的，我可以创建一个可以更新名字的方法，接下来是姓氏，地址等等。但是如果我这样做，它将消耗大量代码。如果 linq 中有一个代码可以执行 SQL 在更新数据时所做的事情，那么我只需要一个获取列名并设置其值的代码。希望我能解释清楚。

**编辑3**

我将问题从`How to update data in linq using predicates?`改为`How to update column data using sql query in linq?`，因为我误解了谓词的真正含义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:07:43.320

您的谓词应该只是查询的*where*部分（谓词只返回 true 或 false）。尝试这个：

```
instance.userinfoes.Where(user => user.userid == 313).First().Interest = 0.98; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:29:37.470

您可以像构建 SQL 一样构建 LINQ。通过 Where 和 ForEach 的组合，您应该能够更新您需要的所有行。IE：

```
 instance.userinfoes.Where(it => it.UserId == 313).ToList()
                       .ForEach(
                           it => it.Interest = 0.98M
                        ); 
```

据我所知，实际上没有任何方法可以将类似 SQL 的查询编写为文本并将它们传递给常规 LINQ。

有关更多解决方案，请参阅此问题： [Update all objects in a collection using LINQ](https://stackoverflow.com/questions/398871/update-all-objects-in-a-collection-using-linq)

# python - 如何在 Python Map 中进行循环？

> ID：11184751
> 
> 赞同：0
> 
> 时间：2012-06-25T07:01:19.797
> 
> 标签：python, loops, map

我想在地图中做一个循环。我的代码是这样的：

```
for (abcID,bbbID) in map(abcIdList,bbbIdList):
        buildXml(abcID,bbbID) 
```

我该怎么做才能完成这项工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:03:38.780

呃，我想你想要`zip()`...

```
>>> zip((1, 2), ('a', 'b'))
[(1, 'a'), (2, 'b')] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:45:31.387

你混淆了[`map()`](http://docs.python.org/library/functions.html#map)and [`zip()`](http://docs.python.org/library/functions.html#zip)or [`dict()`](http://docs.python.org/library/functions.html#func-dict)。

`map`对可迭代对象进行操作并接受两个参数，一个函数和一个可迭代对象：

```
>>> def addOne(x):
...     return x+1
... 
>>> l = [1, 2, 3, 4]
>>> print(map(addOne, l))
[2, 3, 4, 5] 
```

因此，它将作为第一个参数传递的函数应用于序列的每个元素，并将新序列作为列表返回（请注意，这种行为在 python3 中是不同的，你得到的是可迭代的而不是列表）。

`zip()`而是做你想做的事。它采用任意数量的可迭代对象并将每个迭代步骤合并到一个元组中：

```
>>> l1, l2 = [1, 2, 3, 4], [5, 6, 7, 8]
>>> print(zip(l1, l2))
[(1, 5), (2, 6), (3, 7), (4, 8)] 
```

同样，结果值是 python2 中的列表和 python3 中的迭代器。您可以像在问题中那样使用普通的 for 循环对其进行迭代。对于这样的压缩迭代器，您还可以创建一个`dict`（也可以称为*map*，因为它将项目映射到值）：

```
>>> d = dict(zip(l1, l2))
>>> d[1]
5
>>> d
{1: 5, 2: 6, 3: 7, 4: 8} 
```

但是，您不能直接迭代 dicts 中的键值对：

```
>>> for key, value in d:
...   print(key)
... 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'int' object is not iterable 
```

这是一个相当模糊的错误消息，因为我们传递了一个`dict`不是`int`！到底是`int`从哪里来的？默认情况下，当遍历 a 时`dict`，将遍历键：

```
>>> list(d)
[1, 2, 3, 4] 
```

但是我们指示 python对我们的值进行[*解包。*](http://docs.python.org/tutorial/datastructures.html#tuples-and-sequences)所以它试图从一个 int 中获取两个值，这显然是行不通的。从这个角度来看，这个错误似乎是合理的。因此，要迭代键值对，必须使用：

```
>>> for key, value in d.items():
...   print(key, value)
... 
1 5
2 6
3 7
4 8 
```

（输出可能会有所不同，具体取决于您是否导入了`print_function`from `__future__`）。对于大型 dicts 和在 python2 上，`iteritems()`将比 快`items()`，因为`items()`首先将所有键值对放在一个列表中，而`iteritems()`只创建一个惰性迭代器。在 python3 上，`items()`已经做了类似的事情。

我希望能稍微澄清一下情况。

# c++ - 在网格单元游戏中找到子弹轨迹上的所有单元

> ID：11184754
> 
> 赞同：0
> 
> 时间：2012-06-25T07:01:24.817
> 
> 标签：c++, game-engine, game-physics

在简单的游戏中，地图（地形）被划分在网格单元格中，我有一个站在一个单元格上的士兵（索引 row=5，column=4 ），士兵将另一名士兵瞄准单元格 row=8 column=5（士兵站在单元格点 5.5 , 4.5 和 8.5 , 5.5 的中间。如何找到子弹从士兵一到士兵二的轨迹上的所有单元格？我有像矩阵一样的棋盘表示。可以用光线追踪算法有效地解决这个问题吗？（我只需要算法或想法或示例的建议，而不是代码）。有人有类似的问题吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T07:06:03.647

试着看看[Bresenham 的线算法](http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)。似乎您可以对其进行修改来确定遍历了哪些单元格。

# php - 在 php 中连接到 MySQL 数据库时遇到问题

> ID：11184755
> 
> 赞同：2
> 
> 时间：2012-06-25T07:01:28.087
> 
> 标签：php, mysql, database, connect, host

我制作了 mysql.php 文件，其中包含连接到我的数据库的代码。

但是，我一遍又一遍地收到此错误消息。

```
Warning: mysql_connect() [function.mysql-connect]: Can't connect to MySQL server on 'localhost' (10061) in C:\CustomerData\webspaces\webspace_00290195\wwwroot\mysql.php on line 7
Warning: mysql_select_db() [function.mysql-select-db]: Can't connect to MySQL server on 'localhost' (10061) in C:\CustomerData\webspaces\webspace_00290195\wwwroot\mysql.php on line 8
Warning: mysql_select_db() [function.mysql-select-db]: A link to the server could not be established in C:\CustomerData\webspaces\webspace_00290195\wwwroot\mysql.php on line 8
Unable to select database 
```

我检查了我的用户名、主机、数据库和密码是否拼写错误，但它们都是正确的。

我浏览了互联网，但似乎找不到适合我的问题的解决方案。

我的 mysql.php 文件包含：

```
<?php
// Mysql settings
$user   = "example_example";
$password = "example";
$database = "example_example";
$host   = "localhost";
mysql_connect($host,$user,$password);
mysql_select_db($database) or die( "Unable to select database");
?> 
```

我已将用户名、密码和主机名更改为“示例”。

我只是找不到自己的解决方案，我需要你的帮助。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:51:36.640

```
Warning: mysql_connect() [function.mysql-connect]: Can't connect to MySQL server on 'localhost' (10061) 
```

这是出现此错误时您必须做的问题列表：

1.- mysql 在服务器上运行吗？

1.1.- mysql 是在默认端口还是在自定义端口上运行？

1.2 - mysql是否接受连接（来自本地主机，来自ip ...？

1.3 - 你的防火墙阻止了mysql？

2.- 数据库存在于服务器上？

3.-用户：密码可以访问该数据库吗？

3.1-用户：密码可以从本地主机，从ip ...从mysql接受的任何地方登录？

我想我什么都不会忘记

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:15:33.370

请尝试使用以下函数找出错误`mysql_error()`：

```
mysql_connect($host,$user,$password) or die(mysql_error());
mysql_select_db($database) or die(mysql_error()); 
```

然后尝试找出失败的确切原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-23T13:57:01.307

您必须首先获取数据库信息。当您尝试连接到您的网站托管中的数据库时，您发布了这个问题，对吧？

所以，去你的主机控制面板获取 MySQL 数据库（并注意数据库的存储位置！有时一些主机提供商不使用“localhost”。相反，其中一些可能使用 'serverXX.yourhostingprovider.tld ' 其中 XX 表示服务器 ID），然后将相应的变量更改为您从主机控制面板获得的值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:18:53.850

您应该在选择数据库时提供需要从数据库使用的连接。也使用单引号而不是双引号。

```
<?php
// Mysql settings
$user   = 'example_example';
$password = 'example';
$database = 'example_example';
$host   = 'localhost';
$link = mysql_connect($host,$user,$password);
mysql_select_db($database,$link) or die( "Unable to select database");
?> 
```

## [参考](http://php.net/manual/en/function.mysql-select-db.php)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T07:09:44.890

请首先检查您的 mysql 服务器是否正常运行。

mysql设置

```
$user   = "example_example";
$password = "example";
$database = "example_example";
$host   = "localhost";
$cn=mysql_connect($host,$user,$password);
mysql_select_db($database,$cn); 
```

请试试这个它可能会工作
我不是 php 专家，但是
如果您在应用此代码后遇到任何错误，那么此代码在我的网站上运行良好，那么请通知我，我将立即解决问题。谢谢

# android - 如何将一个 android.mk mdule 导入 Android 中的另一个 android.mk 模块？

> ID：11184756
> 
> 赞同：2
> 
> 时间：2012-06-25T07:01:34.850
> 
> 标签：android, android-ndk

在应用程序中的 Android 中，我想将一个 android.mk 文件导入应用程序中的另一个 Android.mk 文件

为此，我在一个 Andorid.mk 文件中使用了该文件，该文件将被导入同一项目的另一个模块中

```
LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)
LOCAL_MODULE := EDSDKModule
LOCAL_SRC_FILES :=libEDSDK.a
LOCAL_ARM_MODE := arm
TARGET_PLATFORM:=android-8
TARGET_ARCH_ABI:=armeabi
TARGET_ABI:=$(TARGET_PLATFORM)-$(TARGET_ARCH_ABI)
include $(PREBUILT_STATIC_LIBRARY) 
```

主要的 Andorid.mk 文件是

```
include C:\my_module\Android.mk
 LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)
LOCAL_MODULE    := EDSK
LOCAL_MODULE_FILENAME := foo 
LOCAL_SRC_FILES := sample.c
LOCAL_STATIC_LIBRARIES := EDSDKModule
include $(BUILD_SHARED_LIBRARY)
LOCAL_ARM_MODE := arm
TARGET_PLATFORM:=android-8
TARGET_ARCH_ABI:=armeabi
TARGET_ABI:=$(TARGET_PLATFORM)-$(TARGET_ARCH_ABI)
$(call import-module,EDSDKModule) 
```

但我在使用 Android-NDk 构建项目时遇到了这个错误，即

请就如何将一个模块导入项目中的 android.mk 文件的另一个模块提出一些解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T04:57:53.533

我猜问题出在这里：

```
 $NDK_MODULE_PATH\C:\Final FOlder\final c\Mysetup\newworks\SimpleApp\jni\path1\Android.mk:
    /*here i have given directory path of android.mk file */ 
```

可能的错误：

*   尝试摆脱路径中的空格：

    ```
    C:\Final FOlder\final c\ 
    ```

像这样：

```
 C:\FInal_Folder\final_c\myotherdir\xyz.mk 
```

*   如果您使用的是绝对路径，例如：

    ```
    C:\mypath\myotherdir\xyz.mk 
    ```

那么你**不需要**在它前面加上**`$NDK_MODULE_PATH`**. 只需使用上面的绝对路径本身，即**`C:\mypath\myotherdir\xyz.mk`**

*   您需要**`include`**在上述包含语句前面有一个关键字：

    ```
    # comment : including my mk file here
    include C:\mypath\myotherdir\xyz.mk 
    ```

*   去掉**`:`**包含语句末尾的

所以你必须做类似的事情：

```
 include C:\mypath\myotherdir\xyz.mk 
```

**或者**

如果您在**NDK 本地文件夹**中有 mk 文件，那么

```
 include $NDK_MODULE_PATH\mylocaldir\xyz.mk 
```

希望这可以帮助。干杯！

# php - PHP、Zend、Facebook Share（更改内容）

> ID：11184762
> 
> 赞同：0
> 
> 时间：2012-06-25T07:01:58.157
> 
> 标签：php, facebook, zend-framework

如何更改我的 Facebook 分享选项的内容？我的 Web 应用程序是使用 Zend 框架在 PHP 上编写的。我想更改 facebook 分享选项的内容，而不是网站中已经存在的描述。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:09:12.910

如果您使用 fb 社交插件，它会读取打开的图形标签。

```
<meta property="og:title" content="title" />
<meta property="og:description" content="description" />
<meta property="og:image" content="thumbnail_image" /> 
```

您可以使用 in 控制器在 zend 中设置它们

```
$this->view->headMeta()->setProperty('og:description','asdasdasd'); 
        $this->view->headMeta()->setProperty('og:title',"title here");
        $this->view->headMeta()->setProperty('og:image',"url"); 
```

如果您不想使用打开的图形标签，

**创建您自己的共享 URL**

```
https://www.facebook.com/sharer/sharer.php?s=100&p[title]=titlehere&p[url]=http%3A%2F%2Fwww.yoururlhere.com&p[summary]=yours description 
```

当用户单击共享图标/链接时，在浏览器中打开该 URL。

顺便说一句，共享已被弃用。
仅供参考：[https ://developers.facebook.com/docs/share/](https://developers.facebook.com/docs/share/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:15:54.913

**FB 分享描述**：您可以通过将以下元标记添加到页面中的元素来控制 Facebook 分享使用的确切标题、描述和缩略图：

```
<meta property="og:title" content="title" />
<meta property="og:description" content="description" />
<meta property="og:image" content="thumbnail_image" /> 
```

[请在此处](http://developers.facebook.com/docs/share/)阅读更多信息：

问候。

# python - TypeError：“int”类型的参数不可迭代

> ID：11184769
> 
> 赞同：0
> 
> 时间：2012-06-25T07:02:44.663
> 
> 标签：python, linux

```
#!/usr/bin/python 

import time 
from array import *

THINKING  = 0
HUNGRY = 1
EATING = 2

class Philosopher: 
    def __init__(self):
        self.ph = array('i',[1, 2, 3, 4, 5])
        self.sleeptime = array('i',[30, 30, 30, 30, 30])

    def initialization_code(self):
        for i in range(self.ph.__len__()):
            self.ph[i] = THINKING

    def pickup(self,i):
        self.ph[i] = HUNGRY 
        self.test(i)
        if(EATING not in (self.ph[i])):
            while(EATING not in (self.ph[i])):
                time.sleep(self.sleeptime[i])

    def putdown(self,i):
        self.ph[i] = THINKING
        self.test((i+4)%5)
        self.test((i+1)%5)

    def test(self,i):
        if((2 not in (self.ph[(i+4)%5]))and(2 not in (self.ph[(i+1)%5]))and(self.ph[i]==HUNGRY)):
            self.ph[i] = EATING

    def start_process(self):
        for i in range(self.ph.__len__()):
            self.pickup(i)
            self.putdown(i)

    def display_status(self):
        for i in range(self.ph.__len__()):
            if (self.ph[i] == 0):
                print "%d is THINKING" % i+1
            elif (self.ph[i] == 1):
                print "%d is WAITING" % i+1
            elif (self.ph[i] == 2):
                print "%d is EATING" % i+1

phil = Philosopher()
phil.initialization_code()
phil.start_process()
phil.display_status() 
```

以上是我试图在python中实现餐饮哲学家问题的一段代码。当我运行此代码时，它向我显示此错误：

```
Traceback (most recent call last):

File "dining.py", line 59, in <module>

phil.start_process()

   File "dining.py", line 43, in start_process    
   self.pickup(i)    
   File "dining.py", line 27, in pickup    
   self.test(i)    
   File "dining.py", line 38, in test    
   if((2 not in (self.ph[(i+4)%5]))and(2 not in (self.ph[(i+1)%5]))and(self.ph[i]==HUNGRY)):
   TypeError: argument of type 'int' is not iterable 
```

任何人都可以帮我解决这个问题，为什么会显示此错误。我搜索了它，但无法解决。提前致谢！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T07:04:43.990

你的方程产生整数。你不能`in`在整数上使用。

```
>>> 'foo' in 3
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: argument of type 'int' is not iterable 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:33:56.060

除了`in`只能应用于可迭代对象和具有`__contains__`其类定义的对象的问题之外，您可能会遇到下一个问题：您没有并行化。因此，您应该使用线程或替换

```
if(EATING not in (self.ph[i])):
    while(EATING not in (self.ph[i])):
        time.sleep(self.sleeptime[i]) 
```

行 - 这是一个无限循环，因为没有人设置`EATING`状态。

或者您应该通过其他方式进行计时，通过不断检查挂钟时间或通过创建一个事件调度系统来处理必须完成的操作。

顺便说一句：`print "%d is THINKING" % i+1`也被破坏了，因为`()`周围没有`i+1`并且`%`具有更高的优先级。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:14:10.383

我认为您通常使用：

```
in / not in 
```

不正确。看起来您正在尝试比较应该使用的整数

```
==
!=
>
>=
<
<= 
```

而是运营商。

# random - 随机拉取sqlite3中四个不同行的ID？

> ID：11184775
> 
> 赞同：0
> 
> 时间：2012-06-25T07:03:03.927
> 
> 标签：random, sqlite, ruby-on-rails-3.2

我再次需要 Ruby on Rails 和 Sqlite3 方面的帮助。

这是我做了四次：

```
<%= Bullet.select(:content).order('random()').limit(1).collect { |b| b.content } %> 
```

但是，它不会执行四个不同的随机“子弹”，而是从我拥有的子弹列表中随机选择四个相同的子弹。

我也尝试`select * from bullets order by random() limit 4;`过 sqlite3（使用程序 sqliteman）并且也做了`select * from bullets order by random() limit 1;`四次。

关于如何通过访问数据库表并使用嵌入式 ruby​​ (.erb) 在 Ruby on Rails 中成功完成此操作的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T01:08:53.360

如果有人看过这个，这就是答案：MurifoX 发布（所以所有功劳归于他/她）

```
<% random_bullets = Bullet.all %>
<ul>
  <% 4.times do %>
    <li><%= random_bullets.sample.content %></li>
  <% end %>
</ul> 
```

# android - 以编程方式设置布局 xml 中项目的默认状态

> ID：11184776
> 
> 赞同：0
> 
> 时间：2012-06-25T07:03:04.257
> 
> 标签：android, android-layout

我决定暂时避免设置用户设置的设置首选项方法。我是 android 和 xml 的菜鸟。我有一个显示各种单选按钮、复选框和可选图像按钮的布局。我想知道在显示布局（未设置任何内容）后如何以编程方式更改显示以匹配存储的用户首选项。以及如何在布局屏幕上查询每个项目的选定状态。我的一些 settings.xml 代码。这两个项目的变量是 WifiOn 和 AirplaneOn。

```
 <CheckBox
    android:id="@+id/CkBxAutoWifiStart"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:clickable="true"
    android:onClick="ToggleAutoWifiOnOff"
    android:text="Turn Wifi On If Off" />

    <CheckBox
    android:id="@+id/ckBxAutoAirPlane"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:clickable="true"
    android:onClick="ToggleAutoAirPlaneModeOnOff"
    android:text="Turn Air Plane Mode Off If On" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:13:55.190

您只需要在设置活动的 onResume 中设置每个组件。

首先，您需要引用每个组件。

```
CheckBox myCheckBox = findViewById(R.id.checkBox); 
```

在您的 onResume 上，只需检查共享首选项并设置每个组件的状态。

```
myCheckBox.setChecked(true); 
```

是这样还是我误解了这个问题？

问候，亚历克斯

# ravendb - 检查 RavenDB 中是否存在属性

> ID：11184779
> 
> 赞同：3
> 
> 时间：2012-06-25T07:03:25.457
> 
> 标签：ravendb

我想向现有文档添加属性（使用[http://ravendb.net/docs/client-api/partial-document-updates](http://ravendb.net/docs/client-api/partial-document-updates)表单的线索）。但在添加之前要检查该属性是否已存在于我的数据库中。

是否有任何“特殊的、适当的 ravenB 方式”来实现这一目标？
或者只是加载文档并检查此属性是否为空？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-16T18:51:50.353

您可以使用基于集合的数据库更新来执行此操作。您可以使用 JavaScript 来执行它，幸运的是，它与 C# 非常相似，因此对任何人来说都是一个非常轻松的过程。这是我刚刚运行的更新示例。

**注意**：您必须**非常小心地**执行此操作，因为脚本中的错误可能会产生不希望的结果。例如，在我的代码中，CustomId 包含类似“1234-1”的内容。在我编写脚本的第一次迭代中，我有：

```
product.Order = parseInt(product.CustomId.split('-')); 
```

请注意，我在拆分后忘记了索引器。结果？一个错误，对吧？没有。订单的价值为 12341！它应该是1。所以要小心，一定要彻底测试它。

例子：

Job 有一个 Products 属性（一个集合），我正在将新的 Order 属性添加到现有 Products 中。

```
ravenSession.Advanced.DocumentStore.DatabaseCommands.UpdateByIndex(
    "Raven/DocumentsByEntityName",
    new IndexQuery { Query = "Tag:Jobs" },
    new ScriptedPatchRequest { Script =
        @"
        this.Products.Map(function(product) {   
            if(product.Order == undefined)
            {
                product.Order = parseInt(product.CustomId.split('-')[1]);
            }
            return product;
        });"
    }
); 
```

我参考了这些页面来构建它：

[基于集合的操作](http://ravendb.net/docs/client-api/set-based-operations)

[部分文档更新](http://ravendb.net/docs/client-api/partial-document-updates)（特别是[地图](http://ravendb.net/docs/client-api/partial-document-updates#map)部分）

# jquery-mobile - 敲除刷新 html 中的 observableArray

> ID：11184791
> 
> 赞同：6
> 
> 时间：2012-06-25T07:04:14.740
> 
> 标签：jquery-mobile, cordova, knockout.js

我正在使用带有 PhoneGap 的 Jquery Mobile 开发 Android，使用 Knockout 加载数据。

我正在获取数据并根据标签上的每个数据绑定将其加载到 HTML 页面上。

当我想刷新数据时，它就是不这样做。它只返回一个没有绑定数据的 HTML 或未找到抛出 dom 异常。

我的 applyBinding 发生在页面的 pagecreate 事件中。

我在我的 SkyDrive 上发布了一个描述问题的简单示例 - [http://sdrv.ms/LpUdLt](http://sdrv.ms/LpUdLt) 这是一个重现问题的公共示例。viewmodel 拥有一个包含数组的数组。用随机值刷新。尝试通过按下导航栏按钮在 jquery mobile 中重新加载页面并使用新数据重新加载 changepage 失败，并出现 dom 对象错误。我不同意我不应该在每个页面创建时都创建一个 VM 实例，只是找不到实现它的方法，以便在 HTML 上重新呈现数据。

```
 //indexPage.js
   var wAViewModelInst ;
   var viewPageIndexContent;
   $('#pageIndex').live('pagecreate', function (event) { 
        viewPageIndexContent = document.getElementById("pageIndexContent");
        wAViewModelInst = new WAViewModel(true);
        ko.applyBindings(wAViewModelInst, viewPageIndexContent);

        waHeaderVM.refreshContentData = function () {

              // wAViewModelInst.updateRowList();
              // ko.cleanNode(viewPageIndexContent);
              // viewPageIndexContent = document.getElementById("pageIndexContent");
              //wAViewModelInst = new WAViewModel(true);
             //ko.applyBindings(wAViewModelInst, viewPageIndexContent);
              $.mobile.changePage("index.html", { allowSamePageTransition: true, reloadPage: true });
              $.mobile.hidePageLoadingMsg();
       }
   }

    //WAViewModel
    self.WARowList = ko.observableArray();
    self.updateRowList = function () {
        self.WARowList(self.GetWA());
    }
    //tried the exteding 
    //ko.observableArray.fn.WARowListUpdate = function () {
    //    //create a sub-observable
    //    this.hasItems = ko.observable();

    //    //update it when the observableArray is updated
    //    this.subscribe(function (newValue) {
    //        this.hasItems(newValue && newValue.length ? true : false);
    //    }, this);

    //    //trigger change to initialize the value
    //    this.valueHasMutated();

    //    //support chaining by returning the array
    //    return this;
    //}; 
```

有什么方法可以在第一次渲染后更新 html 吗？

添加html代码：

```
<div id="pageIndex" data-role="page" data-transition="flip" data-theme="e" data-dom-cache="true">
    <div id="indexHeader" data-role="header" data-theme="e">
        <div data-role="navbar" data-iconpos="right">
            <ul>
                <li><a href="login.html" data-role="tab" data-icon="back" data-bind="click: loadingHandler"
                    class="brighter-text">חזרה</a></li>
                <li><a href="#" data-role="tab" data-icon="refresh" data-bind ="click: refreshContentData" >רענן</a></li>
                <li><a href="researchEvent.html" data-role="tab" data-icon="check" id="navBarResearchEventPage"   data-bind="click: loadResearchEvent" class="brighter-text">ביצוע חקר</a></li>
                <li><a href="#" data-role="tab" data-icon="grid" class="ui-btn-active brighter-text">
                    סידור עבודה</a></li>
            </ul>
        </div>
    </div>
    <div id="pageIndexContent" data-role="content" data-theme="e" style="padding-bottom: 52px;
        height: 570px;">
        <h2 data-bind="text:Title" class="brighter-text" style="font-size:22pt;">
        </h2>
        <div data-bind="foreach: WARowList" style="width: 99%; text-align: center">
            <div>
                <table style="float: right; width: 20%; height: 60px;" cellpadding="0" cellspacing="0">
                    <tr data-bind="visible : FirstRow " style="height: 31px;">
                        <th class="AlignedHeader">
                            <label>
                                שעה / שילוט</label>
                        </th>
                    </tr>
                    <tr data-bind="style: { backgroundColor: Odd() ? '#8CC63F' : '#AFC493' }">
                        <td style="width: 20%;" data-bind="style: { backgroundColor: IsNew() ? 'yellow' : 'transparent' }">
                            <input  type="button" data-bind="click: ShowSampleDetails, value: ShilutTime , jQueryButtonUIEnableDisable:$data"
                                data-icon="plus" data-iconpos="right"/>
                        </td>
                    </tr>
                </table>
                <table style="height: 60px; width: 80%; background-color: #8CC63F;" data-bind="style: { backgroundColor: Odd() ? '#8CC63F' : '#AFC493' }"
                    cellpadding="0" cellspacing="0">
                    <thead data-bind="if : FirstRow">
                        <tr data-bind="foreach: CellList">
                            <th class="AlignedHeader">
                                <label data-bind="text: Date">
                                </label>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-bind="foreach: CellList">
                            <td style="width: 11.5%;">
                                <div data-bind="visible:IsPopulated ">
                                    <div data-bind="visible: HasDrivers">
                                        <input type="button" data-role="button" data-bind="click: ShowBusDriverList.bind($data , $root) , jQueryButtonUIEnableDisable: $data "
                                            data-icon="search" data-iconpos="right" value="נהגים" class="brighter-text" />
                                    </div>
                                    <div data-bind="visible: !HasDrivers()">
                                        <input type="button" data-role="button" id="btnNoDriver" disabled="disabled" data-icon="info"
                                            data-iconpos="right" value="אין נהג" class="brighter-text" />
                                    </div>
                                </div>
                                <div data-bind="visible: !IsPopulated">
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div> 
```

等等 ..

GetWA 函数返回一个 observableArray 的 wow list 。它在第一次遇到重新渲染 dom 对象的问题时起作用。dom元素被ko污染并失败..

我尝试了路飞的答案：

```
var lVM = new loginViewModel();
var  footerViewModelLogin = {
        IsOnline: ko.observable(globalContext.Network()),
        IsSync: ko.observable(globalContext.Sync())
    };
$('#login').live('pagecreate', function (event) {

     viewLoginContent = document.getElementById("loginContent");

    ko.applyBindingsToNode(viewLoginContent, lVM);

    viewLoginFooter= document.getElementById("footerLogin");

    ko.applyBindingsToNode(viewLoginFooter, footerViewModelLogin);

});

$('#login').live('pagehide', function (event, ui) {
    $.mobile.hidePageLoadingMsg();

});

function loginViewModel() {
    var self = this;

    try {

        self.userName = ko.observable("");
        self.password = ko.observable("");
        self.message = ko.observable("");

        self.CleanGlobalContext = function () {
          ...

        };

        self.Validate = function () {

            ...

        };
    }
    catch (e) {
        if (IsDebug) alert("GlobalContext.prototype.SetMapOverlay  " + e.message);
        if (typeof (console) != 'undefined' && console) console.log("GlobalContext.prototype.SetMapOverlay "     + e.message);
    }
}

ko.applyBindings(lVM);
ko.applyBindings(footerViewModelLogin); 
```

如果没有要绑定的元素预定义事件，淘汰赛将失败。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-08T11:44:10.840

我没有很好地理解你的困难。但是，我不明白您为什么需要重新应用绑定。请注意以下内容：

1.  如果您更改可观察数组，则需要的模板将重新实例化以连贯地更新 UI。但是，您必须通过使用 observable 数组函数或通过将新数组传递给 observable 来更新 observalble 数组：obs(newArray)。
2.  如果需要在ko重新渲染后执行动作，只需要使用模板绑定的afterRender或afterAdd参数即可
3.  如果您添加新的 jquery mobile 代码，则必须在创建后对其进行解析，否则 jquery mobile 将无法工作……您可以再次在 afterRender 函数中执行此操作。
4.  通过 ajax 加载包含 ajax ko 绑定的 html 是有问题的。正确的方法是将该内容创建为模板，然后立即呈现（而不是使用 ajax）。然后您查询服务器只是为了获取新的 json 内容。然后，您可以使用例如 with 绑定来实例化模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-07T21:39:06.823

是的，您可以使用 ko.applyBindingsToNode 函数将绑定重新应用于特定的 dom 元素。

> > 检查这些示例
> 
> 1.  [http://jsfiddle.net/rniemeyer/gYk6f/](http://jsfiddle.net/rniemeyer/gYk6f/) ---> 带模板
> 2.  [http://jsfiddle.net/rniemeyer/BnDh6/](http://jsfiddle.net/rniemeyer/BnDh6/) ---> 带数据-值对

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T11:32:51.903

解决方案是在 foreach 表数据绑定上添加 afterRender。正如 – Francesco Abbruzzese 建议的那样。不过，ajax 请求已变为 async:false。每次更新列表时，我都会执行一些 dat-bind = "click:updateRowList" 来更新表。非常感谢 Elad Katz 在赏金方面的帮助。

# php - 使用 GridFS 和 MongoDB 处理大文件时出错

> ID：11184796
> 
> 赞同：0
> 
> 时间：2012-06-25T07:04:53.130
> 
> 标签：php, mongodb, gridfs

尝试将大文件上传到 MongoDB 时，我似乎遇到了错误。

```
Fatal error: Uncaught exception 'MongoGridFSException' with message 'could not open file ' in /home/jclark/thundergrid.fusionstrike.com/thundergrid/thundergrid.php:33 Stack trace: #0 /home/jclark/thundergrid.fusionstrike.com/thundergrid/thundergrid.php(33): MongoGridFS->storeUpload('pic', Array) #1 /home/jclark/thundergrid.fusionstrike.com/thundergrid/admin/index.php(7): Admin->upload() #2 {main} Next exception 'MongoGridFSException' with message 'error setting up file: ' in /home/jclark/thundergrid.fusionstrike.com/thundergrid/thundergrid.php:33 Stack trace: #0 /home/jclark/thundergrid.fusionstrike.com/thundergrid/thundergrid.php(0): MongoGridFS->storeUpload() #1 /home/jclark/thundergrid.fusionstrike.com/thundergrid/admin/index.php(7): Admin->upload() #2 {main} thrown in /home/jclark/thundergrid.fusionstrike.com/thundergrid/thundergrid.php on line 33 
```

我得到这些是有原因的还是......

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:46:08.267

如果文件超过 2GB/4GB，那么这可能是 PHP 在您的平台上构建方式的限制。在大多数情况下，LFS（大文件系统）没有启用（理论上它也没有得到 PHP 开发团队的官方支持）。您也可能使用 32 位编译的 PHP，在这种情况下，您需要 64 位构建。

# c# - 如何创建 2 个多维字符串数组（删除空白字符串）？

> ID：11184799
> 
> 赞同：1
> 
> 时间：2012-06-25T07:05:02.543
> 
> 标签：c#, .net, multidimensional-array

```
var movieNext = new string[,]
{
    { "superhero", "action", "waltdisney", "bat"}, 
    {"superhero", "action", "marvel",""}, 
    {"history", "action", "malay", "" },
    {"malay", "novel", "", ""}, 
    {"history", "bat", "", ""}
}; 
```

上面的代码是一个多维数组，里面存储了一系列电影的关键字。有没有办法实现这一点而不必将空白字符串放入数组初始化中？

例如你可以在上面的代码中看到，我必须把空白字符串“”来填充数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:18:11.503

您可以改用[锯齿状数组](http://msdn.microsoft.com/en-us/library/2s05feca.aspx)。

```
string[][] movieNext = new string[][] { { etc... } }. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:22:53.130

您可以考虑 C# 锯齿状数组（尽管它们与多维数组不同）。

```
string[][] movieNext =  {
new [] { "superhero", "action", "waltdisney", "bat"},
new []  {"superhero", "action", "marvel"}, <and so on>
}; 
```

如果要坚持使用多维数组，则必须单独初始化值。如果您没有为任何索引 (i,j) 提供任何字符串值，默认情况下它将为空。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:33:33.543

我建议永远不要使用二维数组。它们在 API 中几乎没有支持（您将很难找到接受二维数组作为参数的方法），并且不能转换为`IEnumerable<T>`或类似的良好支持的接口。因此，您实际上只能在最本地的范围内使用它们。

相反，我建议您使用可铸造的东西来`IEnumerable<IEnumerable<string>>`. 哦，另一个提示。看看[这个](http://msdn.microsoft.com/en-us/library/bb531208.aspx)。具体来说，

> 要初始化 Dictionary 或其 Add 方法采用多个参数的任何集合，请将每组参数括在大括号中，如下例所示。

因此，以下将起作用：

```
class Program
{
    static void Main(string[] args)
    {
        var d = new ManyList()
        {
            {"Hi", "Good", "People", "None", "Other"}
            {"Maybe", "Someone", "Else", "Whatever"}
        };
        Console.Read();
    }
}

class ManyList : List<string>
{
    public void Add(params string[] strs)
    {
        Console.WriteLine(string.Join(", ", strs));
    }
} 
```

这可能会帮助您稍微清理一下语法。

# c# - 无法在 Enter 事件中更改 Panel.BackColor

> ID：11184800
> 
> 赞同：1
> 
> 时间：2012-06-25T07:05:09.653
> 
> 标签：c#, winforms, devexpress

我在其他里面有一堆`UserControl`s ，在它们的顶部有一个面板和一些其他控件。我想要做的是更改该面板的背景色。

如果我从设计师那里设置颜色，颜色会正确显示。

如果我通过代码设置它不会改变。

同时，我设置了面板的背景颜色，我还设置了它的父边框颜色，它会正确更改。

更改颜色后，我尝试`Update`在`Invalidate`面板上但没有任何反应。面板的容器有焦点，不知道是否有帮助。

是什么阻止面板改变颜色？

```
Color highlightedColor = Color.Blue;
panelControl.BorderColor = highlightedColor;
indicatorPanel.BackColor = highlightedColor; 
```

虽然我使用 DevExpress，但我也尝试过使用 winforms 的面板。相同的行为。

**编辑**

还有很多我无法改变的。刚刚尝试了标签的背景色。来自设计器的代码更改不会。

代码在`Enter`事件上运行

**编辑2**

问题取决于我调用代码的事件。我尝试使用一个按钮，它可以工作。`Enter`所以在事件上做事时一定有问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:34:00.047

解决方案是调用`Update`它`UserControl`本身，而不是我正在改变颜色的容器。

# android - 如何在android中实现打印功能？

> ID：11184801
> 
> 赞同：2
> 
> 时间：2012-06-25T07:05:12.447
> 
> 标签：android, printing

我正在开发一个电子邮件应用程序。在我的应用程序中，我想提供打印邮件的打印选项。在这里，我想通过 WiFi 或 LAN 连接到打印机。

如何实现这个功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:07:08.453

*与可以*打印的东西（例如云打印）共享您的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:24:27.300

[谷歌云打印](https://developers.google.com/cloud-print/?hl=en)是要走的路

从他们的网站

> Google 云打印可让任何设备上的任何应用程序（网络、桌面、移动）打印到任何打印机。
> 
> 应用程序通过服务提供的基于 Web 的通用打印对话框或 API 向服务提交打印作业。然后，Google 云打印将打印作业发送到用户之前已向该服务注册的选定打印机。一类新的云就绪打印机直接连接到该服务并提供最佳用户体验。非云打印机通过软件连接器连接到服务。

# asp.net-mvc-3 - 如何从自定义模型绑定器返回 HTTP 状态代码

> ID：11184802
> 
> 赞同：3
> 
> 时间：2012-06-25T07:05:31.783
> 
> 标签：asp.net-mvc-3, http-status-codes, defaultmodelbinder, imodelbinder

我有一个自定义模型绑定器，它从 MEF 容器中提取接口的实现。它的实现如下：

```
public class PetViewModelBinder : DefaultModelBinder
{
    public object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        var petId = bindingContext.ValueProvider.GetValue("id");
        var container = controllerContext.HttpContext.Application[MvcApplication.PLUGINS] as CompositionContainer;
        Lazy<IPet, IPetMetadata> pet = null;
        try
        {
            pet = container.GetExport(typeof(IPet), petId);
            var petVM = new Models.PetViewModel(pet);
            bindingContext.ModelMetadata.Model = petVM;

            return base.BindModel(controllerContext, bindingContext);
        }
        catch (Exception)
        {

            throw;
        }
        finally
        {
            container.ReleaseExport(pet);
        }

    } 
```

当 MEF 具有 petId 的导出时，这非常有效......但当导出不存在时返回 http 状态 500（服务器错误）。错误消息混淆要求指示应返回 http 状态 403（禁止）。

可以做些什么来捕获错误，更改响应状态，或者不返回内容，或者重新路由 Action 来处理这种情况？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T07:13:56.633

如果您想返回特定的 http 状态代码，您应该从控制器或操作过滤器中执行此操作。

一种方法是从模型绑定器返回 null 并在控制器中处理它。但是，这有点粗略，因此您将无法区分不同的错误。

另一种方法是抛出一个特定的异常并在你的（全局）错误处理中处理它。一个定制的 HandleError 动作过滤器可以做到这一点：

```
public class CustomHandleErrorAttribute : HandleErrorAttribute
{
  public int StatusCode { get; set; }

  public override void OnException( ExceptionContext filterContext )
  {
     base.OnException( filterContext );
     if ( StatusCode > 0 )
     {
        filterContext.HttpContext.Response.StatusCode = StatusCode;
     }
  }
} 
```

在您的控制器中，使用此属性装饰操作：

```
[CustomHandleError( ExceptionType = typeof (NotAllowedException), View = "~/Views/Shared/Error.cshtml",
     StatusCode = 403 )]
public ActionResult Index( FancyModel model )
{
   return View( model );
} 
```

最后，在您的模型绑定器中抛出 NotAllowedException，这是您还需要定义的自定义异常类型。

请注意，如果您在 web.config 文件中启用了自定义错误，这仅适用于您的开发设置。

# php - wordpress 调整图片大小

> ID：11184805
> 
> 赞同：0
> 
> 时间：2012-06-25T07:05:46.027
> 
> 标签：php, wordpress, image-resizing

我使用插件wp-type，在那里我可以制作服装页面，这个插件有在页面或帖子中显示图像的功能，但我这个功能不起作用，图像仍然没有调整大小。也许是一些更好的解决方案来调整页面/帖子中的比例图像？

```
<?php echo(types_render_field("product_image", array("alt"=>"Product image",
"width"=>"300","height"=>"200","proportional"=>"true"))); ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:22:20.717

您可以使用此插件来满足您的要求，我已经在我的许多项目中使用过它并且效果很好。这是插件链接[http://austinmatzko.com/wordpress-plugins/filosofo-custom-image-sizes/](http://austinmatzko.com/wordpress-plugins/filosofo-custom-image-sizes/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T03:29:59.580

在您的主题的functions.php 文件中使用[add_image_size](http://codex.wordpress.org/Function_Reference/add_image_size)。这将允许你设置你想要的图像大小（假设你想在你的主题中使用这个大小）。您还需要使用像[这个这样](http://wordpress.org/extend/plugins/regenerate-thumbnails/)的重新生成缩略图插件来重新创建各种图像大小。

# jpa - 使用 JPA (EL) 和 Enum 编译查询时出错

> ID：11184806
> 
> 赞同：0
> 
> 时间：2012-06-25T07:05:54.520
> 
> 标签：jpa, enums, eclipselink

我对命名查询中的 JPA (EclipseLink 2.3.2) 和枚举有一个奇怪的问题。

我有一个命名查询：

`SELECT f FROM FILES f WHERE (:dataType IS NULL OR f.dataType = :dataType)`

这导致

`Error compiling the query ... invalid enum equal expression, cannot compare enum value of type [com.example.DataTypeEnum} with a non enum value of type [java.lang.Object]`

现在我想我可能会做一个无效的操作，但如果我尝试

`SELECT f FROM FILES f WHERE (:dataType IS NULL)`

或者

`SELECT f FROM FILES f WHERE (f.dataType = :dataType)`

甚至

`SELECT f FROM FILES f WHERE (f.dataType = :dataType OR :dataType IS NULL)`

查询编译并运行良好。（但显然不是预期的结果）。

有谁知道我做错了什么？

编辑：

我将我的实体注释为：

```
@Enumerated(EnumType.STRING)
public DataTypeEnum getDataType() {
    return dataType;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T13:59:41.793

这很奇怪。你用的是什么版本？你试过2.4吗？

# php - 如何在文件中获取常量名称和常量值

> ID：11184810
> 
> 赞同：0
> 
> 时间：2012-06-25T07:06:11.853
> 
> 标签：php

我有带有文本和常量的文件。如何获取常量名称和常量值。问题是常量值有一些时间空间。`file()`我用然后用`foreach`...读取文件

例子：

```
define('LNG_UTF-8',         'Universal Alphabet (UTF-8)');
define('LNG_ISO-8859-1',   'Western Alphabet (ISO-8859-1)');
define('LNG_CustomFieldsName', 'Custom Field');
define('LNG_CustomFieldsType', 'Type'); 
```

我已经尝试过：

获取常量名称：

```
$getConstant1 = strpos($mainFileArray[$i], '(\'');
$getConstant2 = strpos($mainFileArray[$i], '\',');              
$const = substr($mainFileArray[$i], $getConstant1 + 2, $getConstant2 - $getConstant1 - 2); 
```

获得恒定值

```
$position1 = strpos($file[$i], '\',');
$position2 = strpos($file[$i], '\');');

$rest = substr($file[$i], $position1 + 3, $position2 - $position1 - 2); 
```

但在空格或'，'时不起作用......

我怎样才能让它一直工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:42:49.623

与此匹配的正则表达式将是：

```
preg_match("/define\(\s*'([^']*)'\s*,\s*'([^']*)'\s*\)/i", $line, $match);
echo $match[1], $match[2]; 
```

请参阅[http://rubular.com/r/m9plE2qQeT](http://rubular.com/r/m9plE2qQeT)。

但是，这仅在字符串是单引号`'`、不包含转义引号、字符串未连接等情况下才有效。例如，这会中断：

```
define('LNG_UTF-8', "Universal Alphabet (UTF-8)");
define('LNG_UTF-8', 'Universal \'Alphabet\' (UTF-8)');
define('LNG_UTF-8', 'Universal Alphabet ' . '(UTF-8)');
// and many similar 
```

要至少使前两个工作，您应该使用[`token_get_all`](http://php.net/token_get_all)根据PHP 解析规则*解析*PHP 文件，然后遍历生成的令牌并提取您需要的值。
为了使所有情况都能正常工作，您需要实际*评估*PHP 代码，即`include`文件，然后简单地访问常量作为 PHP 中的常量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T10:19:22.423

您应该[`get_defined_constants()`](http://php.net/manual/en/function.get-defined-constants.php)为此使用功能。它返回一个关联数组，其中包含所有常量的名称及其值。

# c# - 通过其托管的 WCF 服务访问 Windows 服务的静态类（或任何方法）

> ID：11184817
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:06:35.663
> 
> 标签：c#, asp.net, wcf

我最近一直在做很多研究。我似乎无法访问正在运行我的 wcf 服务的 Windows 服务。这就是我正在做的事情。

在 Windows 服务中：我从我的端口收集一些信息并将它们放在一个静态类中。我还托管 wcf 服务。

在 Windows 窗体中 gui：我访问我的 wcf 服务。

一切都很好。但我希望我的 Windows 窗体 GUI 应用程序能够通过它可以通过 netTcpBinding 连接到的 wcf 服务访问我的 Windows 服务中的静态类。我已经在双工模式下定义了我的 netTcpBinding，但我不一定非要这样。

我想知道我的 wcf 服务是否可以连接并读取位于我的 Windows 服务中的静态类。请提供您拥有的任何代码链接。

谢谢你

泰兰·O·塞文克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:13:06.287

> 但我希望我的 Windows 窗体 GUI 应用程序能够通过它可以通过 netTcpBinding 连接到的 wcf 服务访问我的 Windows 服务中的静态类

如果您希望这些信息可以从客户端访问，则必须在服务合同中公开它 => 编写一个查询静态类并返回数据的操作合同，以便客户端可以看到它。显然，由于您使用的是静态类，并且可能有多个并发客户端访问此操作协定，因此您必须确保正确同步对您可能在此静态类中处理的任何共享数据的访问。

# iphone - 使用 TTTAtributedLabel 中的核心文本在文本中添加空格

> ID：11184829
> 
> 赞同：0
> 
> 时间：2012-06-25T07:07:26.140
> 
> 标签：iphone, ios5, uilabel, core-text

我在我的应用程序中使用 TTTAtributedLabel 使文本变为粗体并保持原样，因为它使用的是自定义字体。现在我想在粗体和非粗体文本之间添加一些 5px 的空间。我怎样才能做到这一点？我想在 1.JANUAR 1934 之后添加空间。

![在此处输入图像描述](../Images/f5ac6a7b2bc72f18aa2e66f232120b78.png)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T02:16:11.877

使用[CTRunDelegate](http://developer.apple.com/library/ios/#DOCUMENTATION/CoreGraphics/Reference/CTRunDelegateRef/Reference/reference.html)，并将其添加到您的 ns-attributed-string 中，

```
 CTRunDelegateCallbacks callbacks;
  callbacks.version = kCTRunDelegateCurrentVersion;
  callbacks.getAscent = ascentCallback;
  callbacks.getDescent = descentCallback;
  callbacks.getWidth = widthCallback;
  callbacks.dealloc = deallocCallback;
  spaceRunDelegate = CTRunDelegateCreate(&callbacks, NULL);

  spacingAttrs = [[NSDictionary dictionaryWithObjectsAndKeys:
                (id)spaceRunDelegate, 
                (NSString*)kCTRunDelegateAttributeName,nil] retain];

  //add the attr to your ns-attributed-string 
```

# magento - Magento 捆绑产品 + 普通产品导致百分比促销代码的折扣计算无效

> ID：11184833
> 
> 赞同：1
> 
> 时间：2012-06-25T07:07:52.090
> 
> 标签：magento, promotion-code

我已将产品添加到购物篮并应用了提供全额折扣“产品价格折扣百分比”的优惠券。推广申请成功。现在，我将捆绑产品添加到购物篮，其中包含先前添加的产品作为主要产品。之后我去了购物篮页面，发现折扣没有正确应用，应付总额为负数。

有人有想法吗？？它是怎么发生的？

# objective-c - 如何从 UIImageview 获取图像文件路径

> ID：11184834
> 
> 赞同：1
> 
> 时间：2012-06-25T07:07:55.813
> 
> 标签：objective-c, iphone, xcode

我有一个`UIImageView`显示图像的。然后我有一个标题为 'save' 的按钮。我想要做的是，当我单击按钮时，它应该将图像文件名保存到 a`plist`中以供进一步检索和填充。

我知道如何存入`plist`和所有。问题只是我不知道如何获取显示在`UIImageView`.

我做了功课，发现了几篇文章，但我仍然很困惑。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:09:52.613

我认为不可能从 UIImage 获取图像路径，如果路径是指磁盘上的原始位置，那么我认为你不能做到

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:29:04.537

最好的方法是将图像保存在名为 image1、image2 等的文档文件夹中，或者如果您知道图像的确切名称。您可以将图像名称保存在 plist 中。使用此处的名称，您可以轻松地做进一步的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:24:09.857

创建 `UIImageview`为`CustomImageview`带有`NSString`变量的类。然后在显示该图像时，将图像文件路径存储在该字符串变量中。然后您可以使用该字符串在任何您想要的地方获取它。使用以下代码

```
 #import <UIKit/UIKit.h> 
 @interface Imager : UIImageView  
 { 
 NSString* imageFileName; @property(nonatomic,retain)NSString* imageFileName;
 }
 @end

 #import "Imager.h" 
 @implementation 
 @synthesize imageFileName 
```

并分配您要分配图像的文件路径名，例如您 `Imageview.image = UIImage;` 的 `Imageview.imageFileName=yourImageFilepath;`

要获取 yourImageFilepath，请将“AssetsLibrary.framework”添加到您的框架文件夹。然后添加#import“AssetsLibrary/AssetsLibrary.h”；到你的类的头文件。

然后在“didFinishPickingMediaWithInfo”方法中添加以下代码

```
UIImage *viewImage = yourImage;
ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];  
[library writeImageToSavedPhotosAlbum:[viewImage CGImage] orientation:   (ALAssetOrientation)[viewImage imageOrientation] completionBlock:^(NSURL *assetURL, NSError *error)
{  
if (error) 
{  
    NSLog(@"error");  
} 
else 
{  
    NSLog(@"url %@", assetURL);  
}  
}];  
[library release]; 
```

它会返回一个 url.that 是你的 yourImageFilepath。

# matlab - Matlab 字符串数组

> ID：11184836
> 
> 赞同：1
> 
> 时间：2012-06-25T07:08:06.083
> 
> 标签：matlab

我要做的就是：

```
 type = cell(size(A));
    ...
    i = find(A == 0);
    type{i} = 'pasok'; 
```

然而，它悲惨地失败是`size(A) > 1`或者如果`i`是空的。这个问题有什么解决方法吗？

**更新-错误**

类型 =

```
[]    [] 
```

答案=

```
 1     2 
```

我 =

```
 1     2 
```

此分配的右侧的值太少，无法满足左侧的要求。

椭圆错误（第 48 行） type{i} ='pasok';

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:55:13.027

要一次将一个值分配给多个单元格条目，您可以使用

```
[type{i}] = deal('pasok'); 
```

请注意，`type{i}`必须在方括号中。

# installation - WIX：写入永久注册表项，但在卸载时删除该值

> ID：11184837
> 
> 赞同：0
> 
> 时间：2012-06-25T07:08:11.773
> 
> 标签：installation, wix, registry, uninstallation

对于我们使用 WIX 3.6 的安装程序项目，我有这样一个场景：我们想在安装中创建一个注册表项（如果该注册表项尚不存在），写入一个带有版本号的字符串值。在卸载过程中，我们希望保留这个注册表项，但是将这个字符串值擦除为空字符串。我知道我可以通过将其设置为“永久”来实现“保留注册表项”部分，但我不知道如何使卸载删除该值。提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T17:22:00.433

不是 100% 确定这会起作用，因为我自己没有做过，但可能值得一试。

首先使用 ForceCreateOnInstall 创建密钥（不需要永久），这不会在卸载时删除密钥：

```
<Component Id="RegistryEntryKey" Guid="PUT-GUID-HERE">
    <RegistryKey Root="HKCU"
                 Key="Software\Microsoft\MyApplicationName"
                 ForceCreateOnInstall="yes">
        <RegistryValue Type="integer" 
                       Name="VersionNumber"                            
                       KeyPath="yes"/>
    </RegistryKey>
</Component> 
```

然后只有第二个组件，它只在安装时写入版本：

```
<Component Id="RegistryEntryValue" Guid="PUT-GUID-HERE">
    <RegistryKey Root="HKCU"
                 Key="Software\Microsoft\MyApplicationName"
                 Action="write">
        <RegistryValue Type="integer" 
                       Name="VersionNumber" 
                       Value="1.2.35" 
                       KeyPath="yes"/>
    </RegistryKey>
</Component> 
```

然后应该在卸载时撤消写入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T12:54:03.750

就像我在 Caveman_dick 回答的评论中提到的那样，我必须添加一个自定义操作来完成这项工作。找不到配置 WIX 的方法。

# python - Python min() 函数获取最高数字

> ID：11184842
> 
> 赞同：1
> 
> 时间：2012-06-25T07:08:34.363
> 
> 标签：python, tkinter

我正在使用 tkinter GUI 从用户那里获取一堆不同的条目，并且我想从一组中获取最小的数字。但是当我使用 min 函数找到最小的数字时，它给了我最高的数字。每次我使用以下代码（变量名称更改）时都会发生这种情况：

```
GCFz = int(min([z2, z3])) 
```

当我反转它（改为使用 max() ）时，它给了我想要的东西（最小的数字）。

z2 和 z3 是 GUI 中的 entrybox.get() 变量。

示例想要的输入/输出：

输入：z2 = 5，z3 = 11
输出：GCFz == 5

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T07:09:55.583

文本框给出字符串。先转换成数字。

```
>>> min(['11', '5'])
'11'
>>> min([11, 5])
5 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T07:11:34.427

如果`z2`和`z3`是字符串，比较它们将按字母顺序进行，含义`"11"`小于`"5"`。

您可以使用`min ((int(z2),int(z3))`

# python - 从 Python virtualenv 运行 OpenCV

> ID：11184847
> 
> 赞同：14
> 
> 时间：2012-06-25T07:08:48.093
> 
> 标签：python, opencv, virtualenv

我正在尝试在我的 Ubuntu Server 12.04 上的 virtualenv 中安装 OpenCV。我找到[了一个讨论这个问题的线程，](https://stackoverflow.com/questions/9592389/is-it-possible-to-run-opencv-python-binding-from-a-virtualenv)但没有从中提取任何信息。

我尝试使用`pip install pyopencv`但失败了。

```
...
package/extras/core/ndarray.cpp:598:1:   instantiated from here

package/extras/core/ndarray.cpp:546:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘Py_intptr_t {aka long int}’ [-Wformat]

package/extras/core/ndarray.cpp: In function ‘boost::python::api::object sdcpp::from_ndarray_impl(const sdcpp::ndarray&) [with T = cv::Scalar_<double>]’:

package/extras/core/ndarray.cpp:601:1:   instantiated from here

package/extras/core/ndarray.cpp:546:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘Py_intptr_t {aka long int}’ [-Wformat]

package/extras/core/ndarray.cpp: In function ‘boost::python::api::object sdcpp::from_ndarray_impl(const sdcpp::ndarray&) [with T = cv::Range]’:

package/extras/core/ndarray.cpp:604:1:   instantiated from here

package/extras/core/ndarray.cpp:546:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘Py_intptr_t {aka long int}’ [-Wformat]

error: command 'gcc' failed with exit status 1 
```

此错误仅在我第二次运行时发生`pip install`。如果我删除剩余的`build/`文件夹，我会收到此错误。

```
-- Configuring incomplete, errors occurred!

Configuring PyOpenCV via CMake...

Error: error occurred while running CMake to configure PyOpenCV.

You may want to manually configure PyOpenCV by running cmake's tools:

    mkdir build

    cd build

    cmake-gui ..    OR    cmake ..

    cd ..

----------------------------------------
Command python setup.py egg_info failed with error code 255 
```

我至少安装了以下 apt 软件包。

```
build-essential
uuid-dev
python-dev
python-pip
libpq-dev
cmake
libboost-dev
libcv-dev
libcvaux-dev
libboost-python-dev
libboost1.48-dev 
```

如何在我的 virtualenv 中安装 OpenCV？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-09T20:29:13.230

启动 virtualenv 并遵循本指南： http: [//www.samontab.com/web/2011/06/installing-opencv-2-2-in-ubuntu-11-04/](http://www.samontab.com/web/2011/06/installing-opencv-2-2-in-ubuntu-11-04/)，直到操作和复制 cv 共享对象。相反，我将 cv.so（从我的 OpenCV-2.2.0/lib 目录）复制到了我的 virtualenv 站点包（例如 env/lib/python2.7/site-packages/）。一旦 cv.so 在我的环境中，我就可以在 python 中导入 cv。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-06-09T00:14:00.287

Here is the cleanest way, using pyenv and the virtualenv plug-in.

Install Python with shared library support (so we get a libpython2.7.dylib on Mac OS X or libpython2.7.so on Linux).

```
env PYTHON_CONFIGURE_OPTS="--enable-shared" pyenv install -v 2.7.6 
```

Create the virtualenv, based on the version of python we just installed.

```
pyenv virtualenv 2.7.6 myvirtualenv 
```

Activate the virtualenv.

```
pyenv shell myvirtualenv
pyenv rehash 
```

Install numpy. Otherwise opencv will fail to link itself to Python correctly.

```
pip install numpy 
```

Set the prefix of the python install.

```
PREFIX_MAIN=`pyenv virtualenv-prefix` 
```

Set the prefix of the environment. (sic! The name of these pyenv commands are a bit deceptive!)

```
PREFIX=`pyenv prefix` 
```

Now configure and install opencv. Notice that the opencv binaries and packages will be installed in our virtualenv while the dynamic library and includes of the Python install is used.

```
cd openCV2.4
mkdir release
cd release
cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX="$PREFIX" -DPYTHON_EXECUTABLE="$PREFIX"/bin/python2.7 -DPYTHON_LIBRARY="$PREFIX_MAIN"/lib/libpython2.7.so -DPYTHON_INCLUDE_DIR="$PREFIX_MAIN"/include/python2.7 -DPYTHON_PACKAGES_PATH="$PREFIX"/lib/python2.7/site-packages/ ..
make install 
```

(On OSX, replace libpython2.7.so with libpython2.7.dylib.)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-27T09:25:42.587

你已经`apt-get build-dep python-opencv`？这将安装所有必需的依赖项以从源代码构建它；如果您尝试在虚拟环境中安装它，则需要它。

# java - 获取带有 MVEL 中参数的运行时值的表达式

> ID：11184849
> 
> 赞同：0
> 
> 时间：2012-06-25T07:08:50.310
> 
> 标签：java, regex, expression, mvel

我正在使用 MVEL 来执行一个数学公式的表达式。表达式是这种格式

10 * 可用SI

我有一个 DataObject，它有 availableSI 作为参数，它有它的 getter 和 setter。

当我说 MVEL.eval(expression,DataObject) 时，它通过从数据对象中查找 availableSI 的值来执行表达式并返回最终结果

但是，我需要具有 availableSI 运行时值的表达式（如果avaiableSI 为 1000），10 * 1000

需要帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T13:52:00.713

在构造函数中调用您的函数以检索动态值。

```
public class Rules extends SimpleVariableResolverFactory
{    
    public Rules()
    {
            super(new HashMap());
            String newValue = callToYourFunction();
            super.createVariable("availableSI" , newValue);
    } 

    public static void main(String[] argv)
    {
          Rules arf = new Rules();
          String expression="avaiableSI * 10"; //Your expression
          Serializable compiledExpression = MVEL
                            .compileExpression(expression);

          System.out.println(expression + " == "
                            + MVEL.executeExpression(compiledExpression, arf)
    }
} 
```

# android-service - 如何在后台启动服务以及如何从该服务启动 Activity？

> ID：11184855
> 
> 赞同：1
> 
> 时间：2012-06-25T07:09:00.573
> 
> 标签：android-service

我想在后台启动服务。我不会从任何广播接收器或活动中启动此服务。无论如何都可以在没有任何接收器或活动干预的情况下在后台启动服务吗？从那个服务如何开始一个活动？

请帮我提供一个合适的例子和解释。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T10:02:32.563

启动 a`Service`或 an所需的`Activity`只是应用程序的`Context`. 这就是你可以调用`startService()`, `startActivity`,`startActivityForResult()`等的地方。第一次你可以让`Context`你的应用程序中可用的对象在`onCreate()`你的主要活动中（如*AndroidManifest.xml*中定义的那样）。

# css - 在 .well 类中垂直居中引导 btn

> ID：11184868
> 
> 赞同：5
> 
> 时间：2012-06-25T07:09:53.740
> 
> 标签：css, ruby-on-rails, twitter-bootstrap

我有一个链接，我想在`.well`引导框架的类中垂直居中，并`btn btn-danger`在锚标记上使用该类。这是下面的图片。我尝试使用`vertical-align:middle;`，但这似乎不起作用。您可以看到井上的空间甚至不在顶部和底部。

![在此处输入图像描述](../Images/74580dc67fbad6c30ea61ab410d14ca6.png)

这是HTML：

```
<div class="well">
   <%= link_to "Remove", thing, method: :delete, style: "font-size: 11px; float:right; ", :class => 'btn btn-danger'%>

</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:51:12.333

看来您不应该（或根本不能）垂直对齐浮动元素。

这是我的建议：

```
<div class="well mywell">
    <div class="pull-right myfloater">
       <button class="btn btn-danger vcenter">Remove</button>    
    </div>
    <p><!-- things --></p>
</div> 
```

```
.mywell{
   height: 150px;
}
.myfloater {
    line-height: 150px;
}
.vcenter{
    vertical-align: middle;
} 
```

现场示例：http: [//jsfiddle.net/Sherbrow/wxM5Z/2/](http://jsfiddle.net/Sherbrow/wxM5Z/2/)

**编辑**

更好地`line-height`应用于浮动元素。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:03:50.023

也许这就是你需要的：[jsfiddle](http://jsfiddle.net/D2RLR/613/)。

我添加了新类，以免覆盖默认引导程序。

# c# - 报告查看器控件将内容导出为 pdf

> ID：11184870
> 
> 赞同：4
> 
> 时间：2012-06-25T07:10:00.700
> 
> 标签：c#, asp.net, pdf, reportviewer

我正在为一个客户创建 asp.net 网络应用程序，他喜欢在他的页面上有报告，所以我在页面上有 rdlc 文件，我使用默认的 asp.net 报告查看器控件在页面上显示这个文件......一切都是好的，除了当客户想要将文件保存为 pdf 时，页面的结构发生了变化并且看起来不一样我也注意到字段中的某些值是空的，但它们出现在页面上并且当我保存相同的报告时在 Word(*.doc) 格式中，word 文件也应该是这样......问题仅出在 pdf 上。欢迎任何建议

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T13:53:30.380

问题是由于报告属性中的边距设置，如果您遇到同样的问题，将边距设置（左、右、上、下）设置为 0 英寸。你的问题就解决了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:48:01.647

试试这个代码....它将有助于以 pdf 格式显示您的数据

```
 protected void submit_Click(object sender, EventArgs e)
    {
        bindReportData();  
        try
        {
            // Export the Report to Response stream in PDF format and file name Customers

            abc_reportDocument.ExportToHttpResponse(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat, Response, true, "ABC");
            // There are other format options available such as Word, Excel, CVS, and HTML in the ExportFormatType Enum given by crystal reports
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.Message);
            ex = null;
        }
    }

    private void bindReportData()
    {
        abc_reportDocument = new ReportDocument();
        dsReport = new DataSet();
        dsReport = getAccumulationData();
        if (dsReport.Tables[0].Rows.Count > 0)
        {
            abc_reportDocument.Load(this.MapPath("report1.rpt"));
            abc_reportDocument.Database.Tables[0].SetDataSource(dsReport.Tables[0]);
            rptviewerAccumulation.ReportSource = abc_reportDocument;
            rptviewerAccumulation.DataBind();

        }

} 
```

# c++ - VC++的开端

> ID：11184871
> 
> 赞同：0
> 
> 时间：2012-06-25T07:10:02.583
> 
> 标签：c++, visual-studio-2010, visual-c++

我用 c++ 做过小项目，我使用的 IDE 是 Visual Studio 2010。程序现在通过命令提示符运行。我希望转向 VC++，以便我能够拥有按钮和对话框，以便以更人性化的方式与用户进行交互。我寻求的是从小事做起。任何人都可以提供指导方针，以便更容易开始。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:20:03.840

您所说的**VC++**实际上是**Visual C++**，就像在**Visual Studio** IDE的**C++** “组件”中一样。所以你已经在使用**VC++**，但是（怪微软）即使它被称为视觉，它也没有视觉组件。

 ****如果你想为你的程序创建一个用户界面，你需要使用一个额外的库。您可以从中选择一些不错的选择：

1）[QT](http://qt.nokia.com/products/)

2）[GTK+](http://www.gtk.org/)

3）[关于C++的GUI库主题的SO讨论](https://stackoverflow.com/questions/115045/good-c-gui-library-for-windows)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:12:48.840

您需要做的是创建一个基于选择 MFC->Dialog 的应用程序，它将帮助您开始创建对话框和控件，如按钮、单选按钮和复选框。此外，我建议你阅读[这](https://rads.stackoverflow.com/amzn/click/com/1572316950)本书。****

# c++ - 贝叶斯网络分类器

> ID：11184874
> 
> 赞同：-2
> 
> 时间：2012-06-25T07:10:13.383
> 
> 标签：c++, classification, bayesian-networks

我正在寻找一个用 C++ 编写的开源贝叶斯网络分类器库。将不胜感激任何帮助找到一个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:17:54.147

这不是我完全熟悉的主题，但几分钟谷歌搜索发现了这个：

[http://genie.sis.pitt.edu/](http://genie.sis.pitt.edu/)

由于我对这个主题不太熟悉，我并没有真正使用过这个软件，所以我实际上不能说它是否很好——我会让你决定。

这里有一个可能感兴趣的其他链接列表：

[http://ksvanhorn.com/bayes/free-bayes-software.html](http://ksvanhorn.com/bayes/free-bayes-software.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-13T14:36:42.373

[这里](https://github.com/topics/bayesian-networks?l=c%2B%2B)有五个 C++ 库。虽然我没有使用过它们中的任何一个，但它们看起来相当笼统（例如，[https](https://github.com/godai0519/BayesianNetwork) ://github.com/godai0519/BayesianNetwork ）并且可能不包含您可能正在寻找的一些标准分类算法。

[这里](https://www.cs.ubc.ca/~murphyk/Software/bnsoft.html)有一个库列表，尽管最后一次更新是在 2014 年。

# oracle - 将 dmp 文件导入 Oracle 11g XE

> ID：11184875
> 
> 赞同：3
> 
> 时间：2012-06-25T07:10:19.217
> 
> 标签：oracle, import, impdp

我有一些 dmp 文件（由不同的用户生成）需要导入 MS SQL。我意识到我首先需要将文件导入 Oracle（我有 11g XE）。

我的问题是我不知道如何将文件导入 Oracle。我正在尝试 impdp 工具，但不断收到以下错误：

```
Processing object type TABLE_EXPORT/TABLE/TABLE_DATA
ORA-39034: Table TABLE_DATA:"PO"."PO_VENDORS" does not exist.
ORA-39126: Worker unexpected fatal error in KUPW$WORKER.UPATE_TD_ROW_IMP [15] 
TABLE_DATA:"PO"."PO_VENDORS"
ORA-31603: object "PO_VENDORS" of type TABLE not found in schema "PO"
ORA-06512: at "SYS.DBMS_SYS_ERROR", line 105
ORA-06512: at "SYS.KUPW$WORKER", line 8364 
```

尝试使用和不使用 remap_tablespace，但甚至不确定为 remap 提供哪些参数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:55:45.417

从日志中；看起来您导出了带有参数的表`content=data_only`以及何时导入它；Oracle 期望存在表结构和元数据。所以要么在没有`content=data_only`参数的情况下导出 - 或者如果那是不可能的；创建表并重新导入。

# objective-c - 自定义标题文本并在 NSOutlineview 中显示/隐藏

> ID：11184877
> 
> 赞同：2
> 
> 时间：2012-06-25T07:10:21.317
> 
> 标签：objective-c, macos, cocoa

我在源列表模式下使用 NSOutlineView 来显示我的树视图。我需要更改组中标题文本的字体颜色并禁用显示/隐藏按钮出现在右侧。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T05:20:46.837

我不相信可以更改自定义标题的字体颜色。但是，您可以通过对委托方法 -outlineView:shouldShowOutlineCellForItem: 响应 NO 来禁用显示/隐藏文本。Apple 示例代码“SidebarDemo”显示了这一点。

[https://developer.apple.com/librarY/mac/samplecode/SidebarDemo/Introduction/Intro.html](https://developer.apple.com/librarY/mac/samplecode/SidebarDemo/Introduction/Intro.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:27:14.887

实施

```
-(BOOL)outlineView:(NSOutlineView*)outlineView isGroupItem:(id)item 
```

委托方法并为您的标题行返回 YES。

看看这个问题： [Changing default font size for NSTable/NSOutlineView](https://stackoverflow.com/questions/1233299/changing-default-font-size-for-nstable-nsoutlineview)

# jsp - PreparedStatement 的方法未定义错误

> ID：11184881
> 
> 赞同：0
> 
> 时间：2012-06-25T07:10:35.940
> 
> 标签：jsp

我是 java 服务器页面的新手，并为涉及 jdbc 连接的 jsp 文件编写了代码，它给了我一个错误“方法 resultString(int, String) 未定义为 PreparedStatement 类型”。这是我的源代码

```
<%@ page import = "java.sql.*"%>
<html>
<head>
<title>Player Details</title>
</head>
<body>
<center>
Welcome to Players Details Page
<br><br>
Player Details are
<br><br>
<table border=7>
<tr>
<td>Player No</td>
<td>Player Name</td>
<td>Country</td>
<td>Club</td>
</tr>
<%
 String Player_No = request.getParameter("Player_No");
 try
 {
Class.forName("oracle.jdbc.OracleDriver");
Connection con = DriverManager.getConnection("jdbc:oracle:thin:SYSTEM/rambabu@localhost:8081:XE");
PreparedStatement ps = con.prepareStatement("Select * from Player where Player_No=?");
ps.resultString(1,Player_No);
ResultSet rs = ps.executeQuery();
if(rs.next())
{   
%>
<tr>
<td><%=rs.getString(1) %></td>
<td><%=rs.getString(2) %></td>
<td><%=rs.getString(3) %></td>
<td><%=rs.getString(4) %></td>
</tr> 
<%
    }
    rs.close();
ps.close();
con.close();
}
catch(Exception e)
{
System.out.println(e);
}
%>

</table>
</center>
</body>
</html> 
```

`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:19:08.353

没有名为**ps.resultString**的方法，它的**[public void setString(int parameterIndex, String x) throws SQLException](http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setString%28int,%20java.lang.String%29)**

采用

```
 ps.setString(1,Player_No); 
```

一旦为 SQL 语句创建（准备）了 PreparedStatement，您就可以在问号的位置插入参数。这是使用许多 setXXX() 方法完成的。

xxx 可以是 String ,Int ,...

the above statement sets Player_No at the first question mark in the SQL Query. as a result SQL query will be as follow :(assuming that request.getParameter("Player_No") returns 5 for example)

```
"Select * from Player where Player_No=5" 
```

# c - OpenSSL AES_set_encrypt_key 因编译目标而异

> ID：11184882
> 
> 赞同：4
> 
> 时间：2012-06-25T07:10:38.767
> 
> 标签：c, openssl, aes

根据我正在编译的架构，我从 AES_set_encrypt_key() 得到不同的结果。据我了解，密钥扩展是确定性的，这意味着其他事情是错误的。

我设置了一个简单的打印并与 diff 进行比较以轻松验证差异。

如果有人有任何想法，我将不胜感激

**调试.sh：**

```
#!/bin/bash

gcc -std=c99 -m32 bug.c -lssl -o test && ./test > m32.log && \
gcc -std=c99 -m64 bug.c -lssl -o test && ./test > m64.log && \
diff m32.log m64.log 
```

**错误.c：**

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include <openssl/aes.h>

void
hexdump(FILE *f, const char *title, const unsigned char *s, int length)
{
    for(int n = 0; n < length ; ++n) {
        if((n%16) == 0)
            fprintf(f, "\n%s  %04x", title, n);
        fprintf(f, " %02x", s[n]);
    }
    fprintf(f, "\n");
}    

int main()
{
    char *key = "Lorem ipsum dolor sit amet, consectetur adipiscing elit.";
    AES_KEY aes_key;

    if(AES_set_encrypt_key((unsigned char*) key, 128, &aes_key) != 0)
            return EXIT_FAILURE;

    hexdump(stdout, "AES_KEY", (unsigned char*) &aes_key, sizeof(AES_KEY));

    return EXIT_SUCCESS;
} 
```

**差异：**

```
2,16c2,16
< AES_KEY  0000 65 72 6f 4c 70 69 20 6d 20 6d 75 73 6f 6c 6f 64
< AES_KEY  0010 26 da 3f e5 56 b3 1f 88 76 de 6a fb 19 b2 05 9f
< AES_KEY  0020 fd 0e 08 8c ab bd 17 04 dd 63 7d ff c4 d1 78 60
< AES_KEY  0030 2d 12 36 34 86 af 21 30 5b cc 5c cf 9f 1d 24 af
< AES_KEY  0040 54 c9 92 0a d2 66 b3 3a 89 aa ef f5 16 b7 cb 5a
< AES_KEY  0050 ea 8e 3b 05 38 e8 88 3f b1 42 67 ca a7 f5 ac 90
< AES_KEY  0060 8a d2 dd b4 b2 3a 55 8b 03 78 32 41 a4 8d 9e d1
< AES_KEY  0070 b4 9b 80 ff 06 a1 d5 74 05 d9 e7 35 a1 54 79 e4
< AES_KEY  0080 dd a9 a0 c9 db 08 75 bd de d1 92 88 7f 85 eb 6c
< AES_KEY  0090 8d 7b 37 3b 56 73 42 86 88 a2 d0 0e f7 27 3b 62
< AES_KEY  00a0 27 13 fb ef 71 60 b9 69 f9 c2 69 67 0e e5 52 05
< AES_KEY  00b0 88 fe 95 ff e5 2a 62 f7 00 00 00 00 f4 9f 04 08
< AES_KEY  00c0 98 fe 95 ff 44 84 04 08 90 ce 7d f7 f4 9f 04 08
< AES_KEY  00d0 c8 fe 95 ff 89 86 04 08 24 33 76 f7 f4 2f 76 f7
< AES_KEY  00e0 70 86 04 08 c8 fe 95 ff 65 b9 63 f7 90 ce 7d f7
---
> AES_KEY  0000 4c 6f 72 65 6d 20 69 70 73 75 6d 20 64 6f 6c 6f
> AES_KEY  0010 e5 3f da 26 88 1f b3 56 fb 6a de 76 9f 05 b2 19
> AES_KEY  0020 8c 08 0e fd 04 17 bd ab ff 7d 63 dd 60 78 d1 c4
> AES_KEY  0030 34 36 12 2d 30 21 af 86 cf 5c cc 5b af 24 1d 9f
> AES_KEY  0040 0a 92 c9 54 3a b3 66 d2 f5 ef aa 89 5a cb b7 16
> AES_KEY  0050 05 3b 8e ea 3f 88 e8 38 ca 67 42 b1 90 ac f5 a7
> AES_KEY  0060 b4 dd d2 8a 8b 55 3a b2 41 32 78 03 d1 9e 8d a4
> AES_KEY  0070 ff 80 9b b4 74 d5 a1 06 35 e7 d9 05 e4 79 54 a1
> AES_KEY  0080 c9 a0 a9 dd bd 75 08 db 88 92 d1 de 6c eb 85 7f
> AES_KEY  0090 3b 37 7b 8d 86 42 73 56 0e d0 a2 88 62 3b 27 f7
> AES_KEY  00a0 ef fb 13 27 69 b9 60 71 67 69 c2 f9 05 52 e5 0e
> AES_KEY  00b0 00 00 00 00 00 00 00 00 db 05 40 00 00 00 00 00
> AES_KEY  00c0 58 65 e0 e0 ff 7f 00 00 65 08 40 00 00 00 00 00
> AES_KEY  00d0 68 6b e6 0b e6 7f 00 00 20 08 40 00 00 00 00 00
> AES_KEY  00e0 00 00 00 00 00 00 00 00 30 06 40 00 00 00 00 00 
```

**gcc -Wl,-t -std=c99 -m32 bug.c -l ssl -o test**

```
/usr/bin/ld: mode elf_i386
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib32/crt1.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib32/crti.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/32/crtbegin.o
/tmp/ccppFYUU.o
-lssl (/lib/../lib32/libssl.so)
-lgcc_s (/usr/lib/gcc/x86_64-linux-gnu/4.4.5/32/libgcc_s.so)
/lib32/libc.so.6 (//lib32/libc.so.6)
(//usr/lib32/libc_nonshared.a)elf-init.oS
/lib32/ld-linux.so.2 (//lib32/ld-linux.so.2)
-lgcc_s (/usr/lib/gcc/x86_64-linux-gnu/4.4.5/32/libgcc_s.so)
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/32/crtend.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib32/crtn.o 
```

**gcc -Wl,-t -std=c99 -m64 bug.c -l ssl -o test**

```
/usr/bin/ld: mode elf_x86_64
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib/crt1.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib/crti.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/crtbegin.o
/tmp/cclvw4XV.o
-lssl (/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib/libssl.so)
-lgcc_s (/usr/lib/gcc/x86_64-linux-gnu/4.4.5/libgcc_s.so)
/lib/libc.so.6 (//lib/libc.so.6)
(//usr/lib/libc_nonshared.a)elf-init.oS
/lib/ld-linux-x86-64.so.2 (//lib/ld-linux-x86-64.so.2)
-lgcc_s (/usr/lib/gcc/x86_64-linux-gnu/4.4.5/libgcc_s.so)
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/crtend.o
/usr/lib/gcc/x86_64-linux-gnu/4.4.5/../../../../lib/crtn.o 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T17:06:17.227

您正在比较 openssl 库中密钥的私有二进制表示。此实现细节并不意味着跨平台保持一致。OpenSSL 使用优化的汇编函数进行加密和解密，这些优化的例程以不同的方式存储密钥。

aes.h 公共标头包含注释中的注释：

```
/* This should be a hidden type, but EVP requires that the size be known */
struct aes_key_st {
#ifdef AES_LONG
    unsigned long rd_key[4 *(AES_MAXNR + 1)];
#else
    unsigned int rd_key[4 *(AES_MAXNR + 1)];
#endif
    int rounds;
};
typedef struct aes_key_st AES_KEY; 
```

请自己看一下（来自 openssl 源 tarball 的路径）：

*   crypto/aes/aes_misc.c：AES_set_encrypt_key 调用 private_AES_set_encrypt_key
*   加密/aes/asm/{ *.pl|* .S}：private_AES_set_encrypt_key 有很多实现

根据 cpu 类型，您可以在 32 位 386 兼容 pc 上获得不同的结果事件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-23T05:55:03.233

这两个`AES_KEY`s 并没有太大的不同，以至于看起来很快。两者都将存储 4 字节长的整数，不同的是字节顺序。似乎另一个使用 big-endian 和 otherone 使用 little-endian。

如果更改另一个开头的字节顺序`AES_KEY`：

```
0000 65 72 6f 4c 
```

你会得到：

```
0000 4c 6f 72 65 
```

而这与另一个人的开始完全一样。

另一个区别在于这些`AES_KEY`值的末尾。因为您不使用最大密钥大小，所以不需要所有轮次的 AES。所以不需要初始化整个`AES_KEY`结构。所以最后 4 行 hexdump 可能是堆栈中未初始化的垃圾。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:24:26.830

我会检查或控制您链接的内容*。即使用：

```
 gcc -Wl,-t -std=c99 -m64 bug.c -l ssl 
```

并检查您是否正在链接您认为的内容。或者使用 'gcc -c ...' 创建一个 bug.o 并将其手动/显式链接到您确定是正确的库。32 位 (65 72 6f 4c...) 是“正确”的。

德。

**：在大多数成熟的平台上，应该得到一个“/usr/bin/ld: 在搜索 -lssl 时跳过不兼容”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-07-25T00:51:55.193

我有一个类似的问题。我为解决问题所采取的步骤： 1\. 转到 openssl 路径并发布`sudo make clean` 2\. 制作依赖项`sudo make depend` 3\. 构建整个项目`sudo make all` 4\. 安装二进制文件`sudo make install`

编译并构建指向正确库集的 openssl 应用程序。找到要包含的路径很重要 `gcc test.c -o test -I/usr/local/ssl/include -L/usr/local/ssl/lib -lssl -lcrypto`

现在，当您执行二进制文件时，您应该会看到对 OpenSSL 项目所做更改的输出。

# jquery - 如何动态地将新行附加到我的 html 表中？

> ID：11184885
> 
> 赞同：0
> 
> 时间：2012-06-25T07:10:51.737
> 
> 标签：jquery, asp.net

以下是我项目中的一些代码（在 sys_Params.aspx 文件中）：

```
 <tr class="TR_BG_list" id="printsizescroll" style="display:none">
<td align="right" class="list_link" style="width: 214px">
    Resize the picture：
</td>
<td align="left" class="list_link">

            Description:
<asp:TextBox ID="PrintSizeDec" runat="server" CssClass="form"  style="width: 106px"/>
            width|height:
<asp:TextBox ID="PrintSmallSize" runat="server" CssClass="form"  style="width: 50px"/>
    &nbsp;
     <label>
<input type="button" name="PintSizeAddClick" value="Add" class="form" id="ButtonAdd" style="width: 44px" onclick="createInputTexts(this)" />
</label>
<span class="helpstyle" style="cursor: help;" title="click for some help" onclick="Help('H_WaterParam_0008',this)">Help</span>
</td> 
```

问题是我想在按下 [add] 按钮时动态添加一个新行（与上一行相同）。我尝试以这种方式这样做，但它似乎无法正常工作，它以错误的格式呈现：

```
function createInputTexts() {             
    var trOrigin = $("#printsizescroll");
    var trClone = trOrigin.clone(true);
    var target = $("#printTbl tr:last-child").prev();
    trClone.appendTo(target);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:39:32.207

```
function createInputTexts() {             
    var trOrigin = $("#printsizescroll");
    var trClone = trOrigin.clone(true);
    var target = $("#printTbl tr").append(trClone);
} 
```

或者

```
function createInputTexts() {             
    var trOrigin = $("#printsizescroll");
    var trClone = trOrigin.clone(true);
    var target = $("#printTbl tr:last-child").prev();
    trClone.css('display', '');
    // Here you can also set new ID.
    target.after(trClone);
} 
```

这应该可以正常工作。您以错误的方式附加该行。

# python - 使用 Python 脚本在 Ubuntu 中安装 Git

> ID：11184887
> 
> 赞同：0
> 
> 时间：2012-06-25T07:11:10.557
> 
> 标签：python, git, ubuntu, subprocess

我正在尝试编写一个脚本来检查 Ubuntu 中的必备软件，如果未安装，则继续安装它。

我是 Python 的新手，我知道 Python 的`subprocess`模块可以用来实现这个目标。

我在下面的示例代码中编写了这个，但不确定它为什么会失败。

```
import subprocess
c = subprocess.Popen(['sudo','apt-get','install','git'], stdout=subprocess.PIPE, stdin=subprocess.PIPE, stderr=subprocess.STDOUT)
grep_stdout = c.communicate(input='root')[0]
print(grep_stdout) 
```

当我运行这个程序时，我收到以下错误...

```
sudo: no tty present and no askpass program specified
Sorry, try again.
sudo: no tty present and no askpass program specified
Sorry, try again.
sudo: no tty present and no askpass program specified
Sorry, try again.
sudo: 3 incorrect password attempts 
```

我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T09:01:24.560

> 有大量的先决条件。我只是认为要求用户安装所有这些会让人头疼。所以只是想写一个功能来测试软件，如果没有安装的东西会继续为他安装

有几种方法：

1.  检查软件是否存在，如果它没有退出程序并显示列出要安装的缺失组件的消息。

2.  提供需要安装的软件列表`README`或文档。

3.  创建一个列出所需依赖项的[debian 包；](http://wiki.debian.org/CreateDummyPackage)并让用户使用他们喜欢的方法安装它。

如果您的程序*必须*自己安装软件（它真的必须安装吗？），然后指示用户以提升的权限运行您的脚本。在您的文档中，要求他们将其作为`root`.

顺便说一句，`sudo`可能不会安装在所有系统上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-02-26T10:44:38.877

```
import subprocess

c = subprocess.Popen(['sudo','yum','install','git','-y'], 
stdout=subprocess.PIPE, stdin=subprocess.PIPE, stderr=subprocess.STDOUT)
grep_stdout = c.communicate(input='root')[0]

print(grep_stdout) 
```

# c# - 无法获得签名

> ID：11184890
> 
> 赞同：0
> 
> 时间：2012-06-25T07:11:17.193
> 
> 标签：c#, .net, cryptography, certificate, x509

我需要带有证书的签名数据。我的签名方法：

```
private static string CreateSignature(string signatureString)
    {
        SHA1CryptoServiceProvider sha1 = new SHA1CryptoServiceProvider();
        X509Certificate2 cert = new X509Certificate2(HttpContext.Current.Server.MapPath("~/eCommerceConnectCrfs/test-server.cert"), "password");
        RSACryptoServiceProvider rsaCryptoIPT = (RSACryptoServiceProvider)cert.PrivateKey;
        ASCIIEncoding encoder = new ASCIIEncoding();
        byte[] binData = encoder.GetBytes(signatureString);
        byte[] binSignature = rsaCryptoIPT.SignData(binData, sha1);
        return Convert.ToBase64String(binSignature);
    } 
```

但字段 cert.PrivateKey 为 NULL。我有带有私钥的 *.pem 文件，但我不知道如何使用它。请帮助获得签名！

# css - 滚动时 IE7 模态灯箱覆盖消失

> ID：11184897
> 
> 赞同：0
> 
> 时间：2012-06-25T07:11:36.567
> 
> 标签：css, internet-explorer, internet-explorer-7

我希望能在我被困在的开发网站上获得一些帮助。我正在尝试在此页面底部做一个灯箱：http: [//learningseat.wpdemo.com.au/discover/#links](http://learningseat.wpdemo.com.au/discover/#links)。单击四个圆形按钮之一以触发灯箱。

我在单击其中一个按钮时附加到页面底部的#fade 覆盖有问题。当我在页面上向上滚动时，覆盖不会覆盖 IE7 中页面上方的其他元素。

有没有人对我有任何指示？我一直在使用带有 IE7 渲染的 Internet Explorer 9 进行测试，我在#fade div 周围添加了一个 4px 纯红色边框进行测试，我还在页面上安装了 Firebug Lite 来提供帮助。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:39:22.843

看看这个主题：[位置固定和 Internet Explorer](https://stackoverflow.com/questions/1193255/position-fixed-and-internet-explorer)

可能性：

*   添加严格的文档类型。但由于您使用的是 HTML5，我怀疑这无法完成。
*   使用 Riga 的解决方法：

`

```
#fade {
  position:fixed;
  _position:absolute;
  top:0;
  _top:expression(eval(document.body.scrollTop));
  left: 0;
  width: 100%;
  height: 100%;
  opacity: .2;
  background-color: black;
  z-index: 1;
  display: none;
} 
```

`

# objective-c - 为什么这个功能在应用程序启动时自动执行

> ID：11184898
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:11:39.640
> 
> 标签：objective-c, ios, llvm

这是我的代码。

```
#import "States.h" 

@interface States ()
+ (NSString *)statesFilePath;
@end

static NSMutableDictionary *states = nil;

@implementation States
+ (NSString *)statesFilePath
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *statesFilePath = [[paths objectAtIndex:0] stringByAppendingPathComponent:gStatesFile];
    return statesFilePath;
}

+ (void)load
{   
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

    [states release];
    NSString *filePath = [[States statesFilePath] retain];
    if ([[NSFileManager defaultManager] fileExistsAtPath:filePath]) {
        states = [[NSMutableDictionary alloc] initWithContentsOfFile:filePath];
    } else {
        states = [[NSMutableDictionary dictionaryWithObject:[NSNumber numberWithInt:0] forKey:@"ID"] retain];
    }
    [filePath release];
    [pool release];
} 
```

我知道静态变体中的存储状态不是一个好主意。

**但我的问题是：为什么每次应用启动时都会自动执行 load() ？**

导致状态是一个未分配的静态变量，编译器**自动**找到一个方法来初始化它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:15:57.150

每当将静态类添加到运行时时都会调用 load 函数，因此发生在您身上的是正常行为，如果您希望不调用函数，请将其命名为其他

来自[苹果文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsobject_Class/Reference/Reference.html)

> 每当将类或类别添加到 Objective-C 运行时时调用；实现此方法以在加载时执行特定于类的行为。

# php - JQuery 与 PHP 一起使用以获取第二个列表

> ID：11184899
> 
> 赞同：0
> 
> 时间：2012-06-25T07:11:42.900
> 
> 标签：php, jquery, drop-down-menu

我正在使用一个 JQuery 函数，该函数在选择列表上发生实时更改事件时调用另一个函数。这是我的 JQuery 函数

```
 var formObject = {
    run : function(obj) {
        if (obj.val() === '') {
            obj.next('#indlist').html('<option value="">Select Topic First</option>').attr('disabled', true);
        } else {
            var v = obj.val();
            jQuery.getJSON('/lib/update.php', {topicid : v }, function(data) {
                if (!data.error) {
                    obj.next('#indlist').html(data.list).removeAttr('disabled');
                } else {
                    obj.nextAll('#indlist').html('<option value="">Select Topic Correctly</option>').attr('disabled', true);
                }
            });
        }
    }
};
$(function() {

    $('#update').live('change', function() {
        formObject.run($(this));
    });

}); 
```

这是我的PHP代码：

```
<div class="dropdownlist">
    <form action="" method="post">
       <table width="500px">
       <tr>
       <td>
        <select name="gender" id="update">
            <option value="">Select one</option>
            <?php if (!empty($list)) { ?>
                <?php foreach($list as $row) { ?>
                    <option value="<?php echo $row['topicid']; ?>">
                        <?php echo $row['topicname']; ?>
                    </option>
                <?php } ?>
            <?php } ?>
        </select>
        </td></tr><tr><td>
        <select name="category" id="indlist"
            disabled="disabled">
            <option value="">----</option>
        </select>
        </td></tr></table>
    </form>
</div> 
```

但它不起作用并且没有填充下一个选择列表

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:25:43.887

错误`.next()`可能在。

`#indlist`在一个完全不同的 DOM 分支中，你不能指望`.next()`找到它，因为它找到了下一个**兄弟**：

```
TR
  TD
    SELECT#update
    ?? <---- .next("#indlist")? There's no obj after #update with that id!
  /TD
/TR
TR 
  TD
    SELECT#indlist
  /TD
/TR 
```

如果`#indlist`是唯一的（如果您使用的是 id**应该**`$("#indlist")`是唯一的！），只需使用.

```
$("#indlist").html("<option ... etc.>"); 
```

如果没有，最好使用一个类 ( `<select class='indlist' ...>`) 并找到元素：

```
$(obj).parent("table").find(".indlist") 
```

请注意，我也使用`$(obj)`and not `obj`。

顺便说一句也`.nextAll("#indlist")`没有意义：正如我所说，**“id”在文档中必须是唯一的**，如果有多个，请尝试使用一个类。

* * *

旁注：我认为`<?php if (!empty($list)) { ?>`可以删除，如果`$list`为空，则 for-each 循环不会触发。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:29:11.163

您错误地使用了 next() 方法。

## 下一个（）

> **描述**：获取匹配元素集中每个元素的紧随其后的兄弟。如果提供了选择器，则仅当它与该选择器匹配时，它才会检索下一个兄弟。

由于您的选择标签是其父 TD 中唯一的元素，因此它们没有兄弟姐妹。

要在代码中进行下一个选择，您需要遍历父级，转到父级的兄弟姐妹并在那里找到选择

但是：选择有一个 ID。所以只需使用 ID 作为选择器。

代替：

```
obj.next('#indlist').html.... 
```

和

```
$('#indlist').html..... 
```

做同样的事情`obj.nextAll('#indlist')`

# android - Android ICS - 嵌入式 youtube 视频无法在全屏模式下工作

> ID：11184900
> 
> 赞同：2
> 
> 时间：2012-06-25T07:11:44.830
> 
> 标签：android, tags, youtube, embed, android-4.0-ice-cream-sandwich

我创建了一个简单的演示应用程序，我试图在其中嵌入 youtube 视频。这是`<object>`我正在使用的标签

```
String urlTag = "<object><param name=\"movie\" value=\"http://www.youtube.com/v/opZ69P-0Jbc?version=3&feature=player_detailpage\">" +
            "<param name=\"allowFullScreen\" value=\"true\"><param name=\"allowScriptAccess\" value=\"always\">" +
            "<embed style=\"width:100%; height:100%\" src=\"http://www.youtube.com/v/opZ69P-0Jbc?version=3&feature=player_detailpage\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowScriptAccess=\"always\" width=\"200\" height=\"300\"></object>"; 
```

视频已嵌入，运行良好。但是，当我单击全屏按钮时，演示应用程序崩溃了。我已经提到了 SO 上的其他链接，但没有任何帮助。

[我已经在这个网站](http://jsfiddle.net/c9ch5/2/)上尝试了上述代码（替换对象标签）。它工作正常。我不知道出了什么问题。谢谢。

**更新1：**根据@DarkXphenomenon 的建议，我发现我收到了这个错误：

```
java.lang.NullPointerException
android.webkit.PluginFullScreenHolder.show(PluginFullScreenHolder.java:85) 
```

通过添加消除错误`webView.setWebChromeClient(new WebChromeClient());`。参考[链接](https://stackoverflow.com/questions/8541443/whats-causing-this-nullpointerexception)。现在演示没有崩溃，但它仍然没有以全屏模式播放视频。屏幕一片空白。

**更新 2：**而且，很多时候整个嵌入式播放器都消失了。在检查 WebView 示例 ApiDemo 时，我发现其中也发生了这样的事情。冰淇淋三明治上的 WebView 有问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:02:11.433

您可以手动启动一个意图，让用户在他喜欢的应用程序中观看视频。

```
startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.youtube.com/watch?v=xyz"))); 
```

此外，您可以将 URL 设置为`vnd.youtube:<video_id>?<parameters>` 强制视频在 youtube 应用程序中播放。

编辑：还要确保您的网站启用了插件和脚本。

```
 mWebView.getSettings().setJavaScriptEnabled(true);
    mWebView.getSettings().setPluginsEnabled(true); 
```

# c# - 在 C#-ASP.NET 中的所有页面中访问 gridview

> ID：11184906
> 
> 赞同：0
> 
> 时间：2012-06-25T07:12:01.790
> 
> 标签：c#, asp.net

我有一个网格视图。我需要在四页中显示该网格视图。我不想在所有四个页面中编写 gridview 的代码。请告诉一个好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:25:08.657

1.  创建一个新的 WebUserControl 并在其中放置一个 GridView。
2.  在代码隐藏中编写必要的代码，例如从数据库中获取数据。
3.  在要添加的页面中注册 userControl。

> ```
> <%@ Register src="WebUserControl1.ascx" tagname="WebUserControl1" tagprefix="uc1" %> 
> ```

1.  现在，通过从解决方案窗口拖放并编写此代码，在您的页面中添加用户控件。

> < uc1:WebUserControl1 ID="WebUserControl11" runat="server" />

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:41:53.753

1）创建一个WebUserControl，里面有一个网格

2）打开您的aspx设计并将WebUserControl拖放到您自动注册的aspx页面中。

3）当你想要那个网格时使用这个过程。

使用以下链接创建用户控制器...

[http://www.c-sharpcorner.com/uploadfile/jayendra/how-to-create-user-control-in-Asp-Net/](http://www.c-sharpcorner.com/uploadfile/jayendra/how-to-create-user-control-in-Asp-Net/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:16:51.123

您可以将 GridView 放在可重用[用户控件](http://msdn.microsoft.com/en-us/library/fb3w5b53.aspx)(.ASCX) 中，然后在所有 4 个页面中引用此控件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:17:03.180

将其作为**Web 用户控件**并在那里编写您的所有逻辑。使用它的实例访问它。

请查看以下链接以供参考。 [http://msdn.microsoft.com/en-us/library/wt3k2fyw.aspx](http://msdn.microsoft.com/en-us/library/wt3k2fyw.aspx)

# php - 在 for 循环中将项目添加到多维数组

> ID：11184907
> 
> 赞同：0
> 
> 时间：2012-06-25T07:12:02.477
> 
> 标签：php

这是我的数组，我想添加一些元素使其像第二个数组

1.)

```
array(7) {
  [0] => array(3) {
    ["name"] => string(9) "airG Chat"
    ["product_id"] => int(2469)
    ["price"] => string(4) "0.00"
  }

  [1] => array(3) {
    ["name"] => string(9) "PingChat!"
    ["product_id"] => int(7620)
    ["price"] => string(4) "0.00"
  }
  [2] => array(3) {
    ["name"] => string(25) "MobiEXPLORE Zagreb County"
    ["product_id"] => int(8455)
    ["price"] => string(4) "0.00"
  }
} 
```

添加项目后应该是这样的，我尝试使用每个功能但没有奏效。2.)

```
array(7) {
  [0] => array(3) {
    ["name"] => string(9) "airG Chat"
    ["product_id"] => int(2469)
    ["price"] => string(4) "0.00"
    ["description"] => string(23) "this is the custom test"
    ["brief_description"] => string(23) "this is the custom test"
  }

  [1] => array(3) {
    ["name"] => string(9) "PingChat!"
    ["product_id"] => int(7620)
    ["price"] => string(4) "0.00"
    ["description"] => string(23) "this is the custom test"
    ["brief_description"] => string(23) "this is the custom test"
  }
  [2] => array(3) {
    ["name"] => string(25) "MobiEXPLORE Zagreb County"
    ["product_id"] => int(8455)
    ["price"] => string(4) "0.00"
    ["description"] => string(23) "this is the custom test"
    ["brief_description"] => string(23) "this is the custom test"
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:15:15.770

`foreach`与参考 ( ) 一起使用`&`：

```
foreach($data as &$datum) {
    $datum["description"] = "this is the custom test";
    $datum["brief_description"] = "this is the custom test";
} 
```

如果您不想使用`&`（[以避免此问题](https://stackoverflow.com/a/8220457/135448)），您可以这样做

```
foreach($data as $i => $datum) {
    $data[$i]["description"] = "this is the custom test";
    $data[$i]["brief_description"] = "this is the custom test";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:14:44.970

如果你使用 foreach 并想更改原始数组，则需要添加`&`.

```
foreach ($arr as &$item) {
  $item["description"] = "this is the custom test";
  $item["brief_description"] = "this is the custom test";
} 
```

# html - html 5 同步音频播放 - AudioGroups

> ID：11184912
> 
> 赞同：0
> 
> 时间：2012-06-25T07:12:42.500
> 
> 标签：html

如何使用直接的 HTML5 在完全相同的起始位置播放 2 个或更多文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:27:14.657

你应该能够，是的，虽然不是在 iOS 上，我认为目前只允许一个（这是 Apple 的设计）。

# c# - 复合运算符隐式转换失败

> ID：11184914
> 
> 赞同：2
> 
> 时间：2012-06-25T07:12:46.513
> 
> 标签：c#, type-conversion

这个错误：

```
double z;
int? x = 0;
int? y = 0;

z = (double)x -= (double)y; 
```

..这不会出错：

```
double z;
int? x = 0;
int? y = 0;

double x_con = (double)x;
double y_con = (double)y;

z = x_con -= y_con; 
```

简单的问题。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T07:16:31.050

如果仅此一项失败，则没有`z`：

```
(double)x -= (double)y; 
```

仅仅因为赋值运算符的左侧必须是变量、属性或索引器，而不是另一个表达式，就像你的演员一样。

但是，您的第二个示例的作业是这样写的：

```
x_con -= y_con; 
```

这当然很好，因为`x_con`它是一个变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:20:42.693

如果您尝试在赋值运算符的左侧执行算术运算，也会发生此错误。有关详细信息，请参阅[语句、表达式和运算符（C# 编程指南）](http://msdn.microsoft.com/en-us/library/ms173142%28v=vs.80%29.aspx)

# awk - awk 中的绝对值不起作用？

> ID：11184915
> 
> 赞同：24
> 
> 时间：2012-06-25T07:12:47.437
> 
> 标签：awk, absolute

我想选择第 9 列的绝对值小于 500 的文件的行。列有时为正，有时为负。

```
awk -F'\t' '{ if ($9 < |500|) {print $0} }' > output.bam 
```

到目前为止这不起作用..互联网上的一轮告诉我要使用我们应该添加的绝对值

```
func abs(x) { return (x<0) ? x*-1 : x } 
```

那我怎么把它和第 9 列的值放在一起呢？我不知道什么可能是正确的语法..

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-25T07:20:57.673

```
awk -F'\t' 'function abs(x){return ((x < 0.0) ? -x : x)} {if (abs($9) < 500) print $0}' 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-11-13T15:09:26.843

对于快速单行，我使用这种方法：

```
awk -F'\t' 'sqrt($9*$9) < 500' > output.bam 
```

打字很快，但对于大型工作，我想 sqrt() 会影响性能。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-05-22T17:23:24.580

这是否太明显和/或不优雅？

```
awk -F'\t' '$9 < 500 && $9 > -500' > output.bam 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-09-10T22:59:30.783

使用 sqrt($9^2) 会损失精度。如果您还想打印绝对值，这可能是个问题。

**解决方案**：处理为文本，并简单地删除前导减号（如果存在）。

这保证了输出与输入完全匹配。

**代码**：

```
awk '{sub("^-", "", $9); if ($9 < 500) print $9}' inputfile 
```

**摘要**：要使用 awk 获取绝对值，只需从字段中删除前导减号 (-) 字符（如果存在）。

# javascript - 如何在使用 java 脚本单击按钮时关闭和打开窗口？

> ID：11184918
> 
> 赞同：-5
> 
> 时间：2012-06-25T07:12:53.743
> 
> 标签：javascript

我想在单击按钮时关闭当前窗口，并使用 java 脚本打开一个新窗口。

如果这是可能的。任何人都可以帮助我吗？

提前致谢 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:15:35.650

这很简单，很明显你甚至没有尝试过搜索

```
my_window = window.open("", "mywindow","status=1,width=350,height=150");

if(false == my_window.closed)
      {
         my_window.close ();
      }
      else
      {
         alert('Window already closed!');
      } 
```

阅读更多：

[窗口.打开窗口.](https://developer.mozilla.org/en/DOM/window.open)
[关闭](https://developer.mozilla.org/en/DOM/window.close)

# perl - cpan LWP 失败 03modlist.data.gz

> ID：11184920
> 
> 赞同：1
> 
> 时间：2012-06-25T07:13:09.890
> 
> 标签：perl, module, cpan, perl-module

最近安装`Perl 5.16`并且能够正常安装模块，直到今天。除了**root**尝试安装模块时，它会**导致 LWP 失败，代码为 403**。

```
Reading '/home/user01/.cpan/sources/modules/02packages.details.txt.gz'
  Database was generated on Sun, 24 Jun 2012 18:23:03 GMT
............................................................................DONE
Fetching with LWP:
http://mwn-tlkm.archive.or.id/cpan/modules/03modlist.data.gz
LWP failed with code[403] message[Forbidden] 
```

有没有办法解决这个问题？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:45:00.400

使用不同的镜子。

```
 $ cpan
 o conf init urllist
 ...
 o conf commit
 quit 
```

# android - TabActivity 中的屏幕方向更改处理程序失败

> ID：11184922
> 
> 赞同：1
> 
> 时间：2012-06-25T07:13:20.107
> 
> 标签：android, screen-orientation, tabactivity

我正在开发一个在 SDK 7 中带有 TabHost 的 Android 应用程序。

我的问题是屏幕方向更改处理程序无法完成这项工作。这是场景：

*   在纵向和横向之间切换时，屏幕更新良好，反之亦然。
*   ***每当黑屏（屏幕保护程序）打开***或我***按下锁定按钮***时，屏幕都无法更新。

我所说的“失败”更新屏幕的意思是：

*   在横向模式下，我按下锁定按钮。之后，我以竖屏模式解锁，竖屏完美更新。但是，一旦我旋转到横向模式，屏幕无法在横向模式下更新。在我再次旋转为纵向然后再次将其旋转为横向后，横向模式将再次完美更新。在纵向模式下，我按下锁定按钮，没有发生上述失败情况。

这是我使用的方法：

*   我申请：`android:configChanges="keyboardHidden|orientation"`在每个场景中（TabActivity 和它的每个孩子）
*   我申请：`onConfigurationChanged()`在每个子屏幕中
*   我没有使用任何景观资源（布局资源和可绘制土地）。因此，我只对屏幕使用一种 xml 布局（横向和纵向）

对我的问题有什么建议或解决方法吗？我会感激并尝试每一个建议。谢谢 :D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-30T23:10:12.263

您的解决方案应该是正确处理配置更改。使用 configChanges 只是针对非常极端的情况的一种优化，但是您仍然需要为保存 Activity 状态和销毁 Activity 以减轻内存压力的情况做好准备。

在您的活动中：

```
@Override
public void onSaveInstanceState(Bundle outState) {
    // Put any temporary state for this Activity instance
    // into the outState bundle
} 
```

然后在 onCreate() 中：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    if (savedInstanceState != null) {
        // Retrieve and reassign any state that you saved
    }
} 
```

另请参阅[处理运行时更改](http://developer.android.com/guide/topics/resources/runtime-changes.html)

# ios - NSDATE 到日期时间选择器

> ID：11184929
> 
> 赞同：0
> 
> 时间：2012-06-25T07:13:43.753
> 
> 标签：ios, nsdate, nsdateformatter

我有带有 datetimepicker 的 ios 应用程序，并且我将日期存储到具有“日期”类型的数据库中。所以它会存储一些数字

日期来自数据库并在 NSString 中显示如下：2012-06-25 06:45:06 +0000

这会给我格林威治标准时间 0，我希望这次是格林威治标准时间 +5:30 并将其显示到 texlfield。

* * *

`strTime = @"2012-06-25 06:45:06 +0000";// thats comes form database like this.`

`NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init]; [dateFormat setDateFormat:@"yyyy-MM-dd hh:mm"]; NSDate *myDate = [dateFormat dateFromString:strTime];` `NSString *strDate = [dateFormat stringFromDate:myDate]; NSLog(@"%@", strDate);` `txtTime.text = strDate;`

结果将是（空）我想显示像 2012-06-25 12:15:06 这样的时间（格林威治标准时间 +5:30）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:20:08.723

您需要设置时区，如下所示

```
NSString *strDate = @"2012-06-25 06:45:06 +0000";
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss z"];
int secondsFromGMT = 5.5 * 3600;
[formatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:secondsFromGMT]];

NSDate *date = [formatter dateFromString:strDate];
NSString *strWithTimeZone = [formatter stringFromDate:date];
NSLog(strWithTimeZone); //2012-06-25 12:15:06 GMT+05:30 
```

# wpf - 在 WPF WebBrowser 中隐藏 ScriptError 对话框

> ID：11184933
> 
> 赞同：0
> 
> 时间：2012-06-25T07:14:04.753
> 
> 标签：wpf, vb.net, wpf-controls

Twitter 现在似乎在其授权页面中有一些 Javascript 文件，这些文件在 WPF WebBrowser 控件上引发了一些错误。有没有办法隐藏这些对话框？它们真的很烦人，看起来像是应用程序错误。

这是我正在谈论的错误： ![在此处输入图像描述](../Images/0f0914d271bccf4615517a5965e0d7ad.png)

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T16:17:37.680

我在使用 WPF 浏览器控件时遇到了同样的问题。我在这里找到了答案：[http](http://chironexsoftware.com/blog/?p=37) ://chironexsoftware.com/blog/?p=37 ，它对我来说非常有效。

# mesa - 镓 3D 架构中的 winsys 到底是什么？

> ID：11184934
> 
> 赞同：4
> 
> 时间：2012-06-25T07:14:05.330
> 
> 标签：mesa

我发现我无法理解gallium 3D Architecture中的winsys接口。winsys模块是什么？winsys和X server是什么关系？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-15T18:25:46.110

winsys 是 Gallium3D 和操作系统之间的桥梁。因此，当您实现驱动程序时，Linux 的 winsys 是 DRI，Windows GDI 是。

# java - 检查文件是否存在并返回java中的文件列表？

> ID：11184937
> 
> 赞同：-3
> 
> 时间：2012-06-25T07:14:14.947
> 
> 标签：java

我的任务是我有一个 inputFileLocation 和一些配置文件的列表，并且需要检查这些文件是否存在于该位置。

*   例子：`inputfileLocation = C:/input`
*   配置文件列表：`sample_a.conf, refund_a.conf, sample_b.conf, refund_b.conf`

需要检查文件是否存在，然后返回`sample.conf`文件列表和文件列表`refund.conf`。

如何在 java 中实现这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:16:00.373

使用`java.io.File`类。它有方法：

*   `exists()`

    > 测试此抽象路径名表示的文件或目录是否存在。

*   `list(FilenameFilter)`

    > 返回一个字符串数组，命名由该抽象路径名表示的目录中满足指定过滤器的文件和目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:27:31.823

很简单：

```
import java.io.File;
import java.util.LinkedList;
import java.util.List;

public class FileFinder
{
    private String mInputFileLocation;
    private List<String> mSampleList;
    private List<String> mRefundList;

    public FileFinder(String inputFileLocation)
    {
        mInputFileLocation = inputFileLocation;
        mSampleList = new LinkedList<String>();
        mRefundList = new LinkedList<String>();
    }

    public void processList(List<String> filenameList)
    {
        for (String filename : filenameList)
        {
            File f = new File(mInputFileLocation, filename);
            if (f.exists())
            {
                if (filename.startsWith("sample_"))
                {
                    mSampleList.add(filename);
                }
                else if (filename.startsWith("refund_"))
                {
                    mRefundList.add(filename);
                }
            }
        }
    }

    public List<String> getSampleList()
    {
        return mSampleList;
    }

    public List<String> getRefundList()
    {
        return mRefundList;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:29:35.080

```
 File path = new File("C:/input");

        // Get the list of files in the directory
        File [] files = path.listFiles();

        for (int i = 0; i < files.length; i++){
            // Check whether files[i] is a file. If it is a file, it will print it.
            if (files[i].isFile()){ 
                System.out.println(files[i]);
            }
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:21:06.680

我会这样做：

1.  使用方法检查文件是否存在[`exists()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#exists%28%29)；
2.  使用方法检查文件是否为目录[`isDirectory()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isDirectory%28%29) ；
3.  使用 Apache Commons[`iterateFiles()`](http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#iterateFiles%28java.io.File,%20java.lang.String%5B%5D,%20boolean%29)方法获取文件。

# python - scrapy如何爬取更多的url？

> ID：11184942
> 
> 赞同：0
> 
> 时间：2012-06-25T07:14:49.687
> 
> 标签：python, scrapy

如我们所见：

```
def parse(self, response):
    hxs = HtmlXPathSelector(response)
    sites = hxs.select('//ul/li')
    items = []

    for site in sites:
        item = Website()
        item['name'] = site.select('a/text()').extract()
        item['url'] = site.select('//a[contains(@href, "http")]/@href').extract()
        item['description'] = site.select('text()').extract()
        items.append(item)

    return items 
```

scrapy 只是得到一个页面响应，并在页面响应中找到 url。我认为这只是表面爬行！！

但我想要更多具有定义深度的网址。

我能做些什么来实现它？

谢谢你！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:10:20.607

我不明白您的问题，但我注意到您的代码中有几个问题，其中一些可能与您的问题有关（请参阅代码中的注释）：

```
sites = hxs.select('//ul/li')
items = []

for site in sites:
    item = Website()
    # this extracts a list, so i guess .extract()[0] is expected
    item['name'] = site.select('a/text()').extract() 
    # '//a[...]' maybe you expect that this gets the links within the `site`, but it actually get the links from the entire page; you should use './/a[...]'.
    # And, again, this returns a list, not a single url.
    item['url'] = site.select('//a[contains(@href, "http")]/@href').extract() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-04T22:53:40.277

您可以通过使用`CrawlSpider`可以导入的页面`scrapy.contrib.spiders`并定义您`rules`希望爬虫抓取的链接类型来抓取更多页面。

请按照[此处](http://doc.scrapy.org/en/latest/topics/link-extractors.html)有关如何定义规则的说明进行操作

顺便说一句，考虑从文档更改函数名称：

> 警告
> 
> 在编写爬虫规则时，避免使用 parse 作为回调，因为 CrawlSpider 使用 parse 方法本身来实现其逻辑。所以如果你重写 parse 方法，爬虫将不再工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:20:46.720

查看[有关请求和响应的文档](http://doc.scrapy.org/en/latest/topics/request-response.html)。

当您抓取第一页时，您会收集一些链接，用于生成第二个请求并导致第二个回调函数来抓取第二个级别。抽象地说，这听起来很复杂，但您会从[文档中的示例代码中](http://doc.scrapy.org/en/latest/topics/request-response.html#passing-additional-data-to-callback-functions)看到它非常简单。

此外，[CrawlSpider 示例](http://scrapy.readthedocs.org/en/latest/topics/spiders.html?highlight=rule#crawlspider-example)更加充实，并为您提供了您可能只想适应您的情况的模板代码。

希望这能让你开始。

# android - 单击gridview中的按钮开始新活动

> ID：11184944
> 
> 赞同：0
> 
> 时间：2012-06-25T07:15:00.297
> 
> 标签：android, android-layout, android-intent, android-activity, android-gridview

我有一个gridview，我正在为它设置一个按钮适配器。它有 2 个按钮，我想为这些按钮设置 Onclick 侦听器。

```
 GridView gridview = (GridView) findViewById(R.id.gridView_table_select);
 gridview.setAdapter(new ButtonAdapter(this)); 
```

在我的 Gridview 的 getView() 方法中，我将按钮添加为网格项。我还在为按钮设置 onClick 侦听器。

```
 public View getView(int position,
                           final View convertView, ViewGroup parent) {
  Button btn;

  if (convertView == null) {
   // if it's not recycled, initialize some attributes
   btn = new Button(mContext);
   btn.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            Context context = v.getContext();
            Intent intent = new Intent(context , Main.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            context.startActivity(intent);
        }
    });
   btn.setLayoutParams(new GridView.LayoutParams(350, 65));
   btn.setPadding(8, 8, 8, 8);
   btn.setWidth(LayoutParams.WRAP_CONTENT); 
```

如您所见，我正在为按钮设置 onClick，并尝试开始一个新活动，但是当我单击这些按钮时，什么也没有发生。我应该纠正什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:20:42.157

`Context context = v.getContext();`而是`mContext`在那里使用你已经拥有的

```
 if (convertView == null) {
           // if it's not recycled, initialize some attributes
           btn = new Button(mContext);
           btn.setOnClickListener(new OnClickListener() {

                public void onClick(View v) {
                    Intent intent = new Intent(mContext, //<-------------
Main.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    context.startActivity(intent);
                }
            }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:25:29.887

让你的 Activity 类实现`AdapterView.OnItemClickListener`

并在 oncreate() 调用中

```
gv.setAdapter(myAdapter);
gv.setOnItemClickListener(this); 
```

并使用 onItemClick() 处理项目点击

```
public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
    //Do something
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:18:44.827

像这样做：

```
public void onClick(View v) {
            Intent intent = new Intent(getApplicationContext() , Main.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent);
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:19:49.893

尝试在课程开始时设置上下文，如果不是你的活动，可能在构造函数中。你已经完成了。上下文。在那里使用它而不是获取新的上下文。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T07:23:43.600

对您的代码的一些更正..

```
public View getView(int position,
                    final View convertView, ViewGroup parent) {
    Button btn = convertView;

    if (btn == null) {
       btn = new Button(mContext);
       btn.setOnClickListener(new OnClickListener() {

          public void onClick(View v) {
              Intent intent = new Intent(mContext, Main.class)
              intent .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
              mContext.startActivity(intent);
          }
       });
       btn.setLayoutParams(new GridView.LayoutParams(350, 65));
       btn.setPadding(8, 8, 8, 8);
       btn.setWidth(LayoutParams.WRAP_CONTENT);
   }
   // set some text or do something
   ...
   return btn;
} 
```

# sql - oracle中fn Convert的等价物

> ID：11184948
> 
> 赞同：0
> 
> 时间：2012-06-25T07:15:18.787
> 
> 标签：sql, oracle

这个语句在oracle中的等价物是什么

```
SELECT {fn CONVERT(mycolumn, nvarchar) }
as MyConvertedColumn FROM MyTable; 
```

根据[链接](http://docs.oracle.com/html/A95915_01/sqfunc.htm)

它应该是

```
SELECT {fn CONVERT('Groß', 'US7ASCII') }
"Conversion" FROM DUAL; 
```

但这也不起作用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:26:40.810

这是一个错误，应该写成：

```
SELECT CONVERT('Groß', 'US7ASCII') "Conversion" FROM DUAL; 
```

在[11g 文档](http://docs.oracle.com/cd/E11882_01/server.112/e10592/functions034.htm#i77037)中是可以的。

# jquery - 表单、动态显示元素

> ID：11184952
> 
> 赞同：0
> 
> 时间：2012-06-25T07:15:37.700
> 
> 标签：jquery

我有这个表格：

```
<form>
        <div class="box">
            <h1>Contact form :</h1>
            <label>
                <span>Typ: </span>
                <input type="radio" name="typ" value="admin" />admin<br />
                <input type="radio" name="typ" value="user" />user<br />
            </label>
            <label>
                <span>E-mail :</span>
                <input type="text" class="post" name="email" id="email"/>
            </label>
            <label>
                <span>Subject :</span>
                <input type="text" class="post" name="subject" id="subject"/>
            </label>

            <label>
                <span>If admin :</span>
                <input type="text" class="post" name="ifadmin" id="ifadmin"/>
            </label>

        </div>
    </form> 
```

如何做这样的事情：如果我选择第一个收音机“admin”使用jquery动态显示“ifadmin”，如果我选择“user”不显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:22:21.913

您可以使用以下代码执行此操作。在标签上放一个`class`或`id`（这将使使用jQuery更容易操作）`ifadmin`

```
<label class="ifadmin">
                <span>If admin :</span>
                <input type="text" class="post" name="ifadmin" id="ifadmin"/>
            </label> 
```

以及收音机`show/hide`的`change`回调。

```
$('input[name=typ]').on('change',function(){
        if($(this).val() == 'admin')
          $('.ifadmin').show();
       else
          $('.ifadmin').hide();           
    }); 
```

**演示：http:** [//jsfiddle.net/joycse06/dSEzE/](http://jsfiddle.net/joycse06/dSEzE/)

阅读更多关于[`.show()`](http://api.jquery.com/show/)和[`.hide()`](http://api.jquery.com/hide/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:22:34.647

[读这个](http://www.diskusiweb.com/discussion/40590/enabledisable-textfield-dengan-radio-button#Item_1)

**JAVASCRIPT**

```
function pilihanmu(){
    var val = 0;
    for( i = 0; i < document.contoh.pilihan.length; i++ ){
        if( document.contoh.pilihan[i].checked == true ){
            val = document.contoh.pilihan[i].value;
            if(val=='3'){
                document.contoh.opsional.disabled = false;      
            }
            else{
                document.contoh.opsional.disabled = true;
            }
        }
    }
} 
```

**HTML**

```
<form name="contoh">
    <input type="radio" name="pilihan" value="1" onclick="pilihanmu()"> Google<br>

    <input type="radio" name="pilihan" value="2" onclick="pilihanmu()"> Momonimo<br>

    <input type="radio" name="pilihan" value="3" onclick="pilihanmu()"> Lainnya..<br>

            <input type="text" name="opsional" class="text" disabled="">            
</form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:27:03.677

将 id='ifadmin' 赋予`<label>`ifadmin 并将此代码简单地放在表单上方或头部。

```
 <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){

$("input:radio[name=typ]").click(function() {
    if($(this).val()=="admin")
    $("#ifadmin").css("display","none");
    else
    $("#ifadmin").css("display","block");
});

    });
    </script> 
```

# objective-c - iOS中奇怪的WebThread崩溃

> ID：11184957
> 
> 赞同：5
> 
> 时间：2012-06-25T07:16:09.367
> 
> 标签：objective-c, ios, exc-bad-access, nsurlcache

我在 webthread 中遇到了奇怪的崩溃，发生在发布 URLResponse 时。我没有直接操作 URLCache 的内容，那么这个问题的原因可能是什么？

这是崩溃日志以供参考：

```
Incident Identifier: E4116BAA-7467-42F8-B28E-7A1FA2D12278
CrashReporter Key:   dcaac993b4bfa7e5015f07b0ffc611182b196e57
Hardware Model:      iPad2,1
Process:         *** [6299]
Path:            /var/mobile/Applications/
Identifier:      ***
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-06-25 11:11:59.347 +0800
OS Version:      iPhone OS 5.0.1 (9A405)
Report Version:  104

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x42810008
Crashed Thread:  2

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0:
0   libsystem_kernel.dylib          0x30367010 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x30367206 mach_msg + 50
2   CoreFoundation                  0x37cea41c __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x37ce911a __CFRunLoopRun + 818
4   CoreFoundation                  0x37c6c4d6 CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x37c6c39e CFRunLoopRunInMode + 98
6   GraphicsServices                0x37a43fc6 GSEventRunModal + 150
7   UIKit                           0x317ec73c UIApplicationMain + 1084
8   ***                             0x00002d80 0x1000 + 7552
9   ***                             0x00002c9c 0x1000 + 7324

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x303673b4 kevent + 24
1   libdispatch.dylib               0x308d2f74 _dispatch_mgr_invoke + 708
2   libdispatch.dylib               0x308d2c92 _dispatch_mgr_thread + 30

Thread 2 name:  WebThread
Thread 2 Crashed:
0   libobjc.A.dylib                 0x3785cfbc objc_msgSend + 16
1   CoreFoundation                  0x37c5f470 CFRelease + 88
2   CFNetwork                       0x33adc9e4 URLResponse::~URLResponse() + 72
3   CoreFoundation                  0x37c5f524 CFRelease + 268
4   CFNetwork                       0x33b2e278 __CFCachedURLResponse::~__CFCachedURLResponse() + 60
5   CFNetwork                       0x33b2e07c _ZL30_CFCachedURLResponseDeallocatePKv + 12
6   CoreFoundation                  0x37c5f524 CFRelease + 268
7   CFNetwork                       0x33b2e39a __CFURLCacheNode::~__CFURLCacheNode() + 30
8   CFNetwork                       0x33b2fba6 __CFURLCache::RemoveResponseFromCacheContainers(__CFURLCacheNode*, _CFCachedURLResponse const*, __CFString const*, bool) + 110
9   CFNetwork                       0x33b2fc92 __CFURLCache::RemoveLRUCachedItems(long, __CFURLCacheNode*) + 150
10  CFNetwork                       0x33b308ac __CFURLCache::CreateAndStoreCacheNode(__CFURLCacheNode*, _CFCachedURLResponse const*, __CFString const*, _CFURLRequest const*, void const*, bool, bool&) + 92
11  CFNetwork                       0x33b30aa4 AddCacheTask(__CFURLCacheNode*) + 280
12  CFNetwork                       0x33b32778 CFURLCacheAddCachedResponseForRequest + 136
13  CFNetwork                       0x33ade7b2 URLConnectionClient::_clientWillCacheResponse(URLConnectionClient::ClientConnectionEventQueue*) + 478
14  CFNetwork                       0x33ad353e URLConnectionClient::ClientConnectionEventQueue::processAllEventsAndConsumePayload(XConnectionEventInfo<XClientEvent, XClientEventParams>*, long) + 418
15  CFNetwork                       0x33ad323c URLConnectionClient::processEvents() + 100
16  CFNetwork                       0x33ad3172 MultiplexerSource::perform() + 150
17  CoreFoundation                  0x37ceaafc __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 8
18  CoreFoundation                  0x37cea2c8 __CFRunLoopDoSources0 + 208
19  CoreFoundation                  0x37ce906e __CFRunLoopRun + 646
20  CoreFoundation                  0x37c6c4d6 CFRunLoopRunSpecific + 294
21  CoreFoundation                  0x37c6c39e CFRunLoopRunInMode + 98
22  WebCore                         0x32743128 _ZL12RunWebThreadPv + 396
23  libsystem_c.dylib               0x377dac16 _pthread_start + 314
24  libsystem_c.dylib               0x377daad0 thread_start + 0

Thread 3 name:  com.apple.NSURLConnectionLoader
Thread 3:
0   libsystem_kernel.dylib          0x30367010 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x30367206 mach_msg + 50
2   CoreFoundation                  0x37cea41c __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x37ce9154 __CFRunLoopRun + 876
4   CoreFoundation                  0x37c6c4d6 CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x37c6c39e CFRunLoopRunInMode + 98
6   Foundation                      0x34fbbbc2 +[NSURLConnection(Loader) _resourceLoadLoop:] + 302
7   Foundation                      0x34fbba8a -[NSThread main] + 66
8   Foundation                      0x3504f59a __NSThread__main__ + 1042
9   libsystem_c.dylib               0x377dac16 _pthread_start + 314
10  libsystem_c.dylib               0x377daad0 thread_start + 0

Thread 4 name:  com.apple.CFSocket.private
Thread 4:
0   libsystem_kernel.dylib          0x30377570 __select + 20
1   CoreFoundation                  0x37cee66a __CFSocketManager + 726
2   libsystem_c.dylib               0x377dac16 _pthread_start + 314
3   libsystem_c.dylib               0x377daad0 thread_start + 0

Thread 5 name:  WebCore: CFNetwork Loader
Thread 5:
0   libsystem_kernel.dylib          0x30367010 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x30367206 mach_msg + 50
2   CoreFoundation                  0x37cea41c __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x37ce9154 __CFRunLoopRun + 876
4   CoreFoundation                  0x37c6c4d6 CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x37c6c39e CFRunLoopRunInMode + 98
6   WebCore                         0x3276c69e _ZN7WebCoreL15runLoaderThreadEPv + 122
7   libsystem_c.dylib               0x377dac16 _pthread_start + 314
8   libsystem_c.dylib               0x377daad0 thread_start + 0

Thread 6:
0   libsystem_kernel.dylib          0x30377cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x377d530a _pthread_wqthread + 610
2   libsystem_c.dylib               0x377d509c start_wqthread + 0

Thread 2 crashed with ARM Thread State:
    r0: 0x0ae93de0    r1: 0x30da109c      r2: 0x00000001      r3: 0x00000000
    r4: 0x42810000    r5: 0x0ae93de4      r6: 0x3f000000      r7: 0x012e7d68
    r8: 0x3f936690    r9: 0x0c368427     r10: 0x0000011c     r11: 0x00000080
    ip: 0x3f910814    sp: 0x012e7d34      lr: 0x37c5f477      pc: 0x3785cfbc
  cpsr: 0x20000030 
```

# iphone - iOS 50mb 文件大小限制在全世界都一样吗？

> ID：11184961
> 
> 赞同：2
> 
> 时间：2012-06-25T07:16:33.467
> 
> 标签：iphone, size, limit, archive, ota

1.)据我所知，应用程序大小计算压缩的 IPA 文件，是否有任何国家/地区对 OTA 下载有不同的文件大小限制或都使用相同的 50mb 限制？

2.）对于我的另一个应用程序，在我存档后，“估计的应用程序商店大小：”写入 1.17GB。当我在finder中显示文件时，.xcarchive文件为665.5MB，在finder中压缩.xcarchive后，zip显示为598.3MB，那么用于比较50MB的实际应用程序大小是哪一个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:55:08.813

对于你的第一个问题，我不知道。但控制允许大小的是 Apple，而不是运营商（当他们从 20mb -> 50mb 更改时，从来没有任何延迟）。因此，它很可能是全球性的，或者接近于全球性的。

捆绑包在提交到应用商店时会被加密，这消除了纯文本捆绑包可能存在的大部分压缩可能性。通常最终大小将介于 XCode 估计和纯文本 zip 版本之间。

# android - 如何从服务拨打电话并在通知栏中显示状态？

> ID：11184963
> 
> 赞同：0
> 
> 时间：2012-06-25T07:16:36.230
> 
> 标签：android, android-intent

我正在开发一个应用程序，当我单击活动中的数字时，它应该拨打电话但不应该隐藏我的活动。我想在后台拨打电话并将其显示在通知栏中。有什么办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:40:48.520

[检查此对话以了解在呼叫方面什么是可能的，什么是不可能的](https://groups.google.com/forum/?fromgroups#!topic/android-developers/wM_KJBm-2AY)

根据此对话，如果没有在您的活动顶部打开呼叫屏幕，则无法拨打电话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T10:58:49.797

实际上我找到了解决方案，但不是通过服务。我们必须扩展“PhoneStateListener”并需要在“TelephonyManager.CALL_STATE_RINGING”中启动 Activity，它起作用了，呼叫显示通知栏而不是呼叫打开屏幕。

# facebook - FB.XFBML.parse 在 IE 中不起作用

> ID：11184968
> 
> 赞同：2
> 
> 时间：2012-06-25T07:16:52.123
> 
> 标签：facebook, internet-explorer, xfbml, facebook-javascript-sdk

嗨，我在我的网站上使用 Facebook 之类的按钮。我所有的内容都是通过 ajax 加载的，我知道如果你想使用带有 ajax 加载内容的 facebook 按钮，你应该使用`FB.XFBML.parse()`. 我已经使用了它，它运行良好的是 firefox 和 chrome，但它在 IE 中不起作用。我正在检查 IE 8。我已经搜索了解决方案，并在[此处](https://stackoverflow.com/questions/4116711/fblogin-button-problems-with-ie8-internet-explorer-only)找到添加`xmlns:fb="http://www.facebook.com/2008/fbml"`我的 html 标记。我做了，但它还没有修复。我的代码看起来像

```
 layout.php

 <div id="fb-root" style="display:none"></div>
    <script>
        window.fbAsyncInit = function() {
        FB.init({
          appId      : 'APPID', // App ID
          status     : true, // check login status
          cookie     : true, // enable cookies to allow the server to access the session
          xfbml      : true  // parse XFBML
        });

        // Additional initialization code here
      };

        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

    </script> 
```

这就是我使用的方式`XFBML.parse`

```
 $(".fblike").each(function(){
  FB.XFBML.parse($(this).get(0));
  //because having multiple likes button on same page.
}); 
```

这是我喜欢的按钮

```
 <div class='fblike'><fb:like send='false' layout='button_count' width='100' show-faces='false' href='www.myurl.com?ref=facebook' ></fb:like></div> 
```

如何让它与 IE8 和 IE9 一起工作？我在哪里错了，如何解决这个问题？

问候，

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T20:55:08.527

以我的经验，如果您尝试`FB.XFBML.parse()`在此调用之前隐藏在某些东西中运行，它将无法在 IE 和 Firefox 上运行。

**这将不起作用：**

```
<div id="wrapper" style="display:none">
    <fb:like id="like_button" ... ...></fb:like>
</div>

<script>
FB.XFBML.parse(document.getElementById('like_button'), function() {
    $('#wrapper').show();
});
</script> 
```

**可以改用这样的东西：**

```
<div id="wrapper" style="display:block; height:0px; overflow:hidden;">
    <fb:like id="like_button" ... ...></fb:like>
</div>

<script>
FB.XFBML.parse(document.getElementById('like_button'), function() {
    $('#wrapper').animate({height:'30px'}, 300) 
});
</script> 
```

希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-27T09:58:26.900

这适用于所有浏览器（在 IE6+、Chrome、FF、Opera、Safari 上测试）。

我没有显示隐藏的 FB 按钮，而是动态地将 FB 按钮 HTML 代码附加到我希望它显示的 DIV 包装器中：

```
<div id="fbWrapper"></div>

<script>
    $("#fbWrapper").append("<div class='fblike'><fb:like send='false' layout='button_count' width='100' show-faces='false' href='www.myurl.com?ref=facebook' ></fb:like></div>");
    FB.XFBML.parse($("#fbWrapper").get(0));
</script> 
```

或者，如果您想在之前隐藏的面板中显示 FB 按钮，请先使面板可见，然后附加 FB 按钮 HTML 代码：

```
<div id="myPanel" style="display: none">
    Follow us on Facebook:
    <div id="fbWrapper"></div>
</div>

<script>
    $("myPanel").show();
    $("#fbWrapper").append("<div class='fblike'><fb:like send='false' layout='button_count' width='100' show-faces='false' href='www.myurl.com?ref=facebook' ></fb:like></div>");
    FB.XFBML.parse($("#fbWrapper").get(0));
</script> 
```

# windows - MS Visual Studio 2012 可以与 Windows Vista 一起使用吗？

> ID：11184975
> 
> 赞同：8
> 
> 时间：2012-06-25T07:17:17.463
> 
> 标签：windows, visual-studio, visual-studio-2012

我运行 windows vista 业务并想尝试 MS Visual Studio Express 2012。它们兼容吗？兼容性列表在哪里？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-25T07:21:32.157

至少不是正式的：http: [//www.microsoft.com/visualstudio/11/en-us/products/compatibility](http://www.microsoft.com/visualstudio/11/en-us/products/compatibility)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-25T07:21:42.060

您不能在 Windows Vista 上安装 VS2012。

您将能够使用 VS2012 来定位 Vista，但不能使用公共测试版。令人困惑的是，beta 版可再发行版[曾经安装](http://connect.microsoft.com/VisualStudio/feedback/details/699143/vs-2012-redistributables-should-refuse-clearly-to-install-on-xp-vista)在 Vista 上，但在那里不起作用。

在 VS2012 中无法调试或分析安装在 Vistas 上的应用程序。

这适用于托管和非托管应用程序。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2014-12-05T00:22:34.933

不，它们不兼容，更新必须至多 2008 年

# java - 找不到符号方法 initCause

> ID：11184976
> 
> 赞同：0
> 
> 时间：2012-06-25T07:17:19.257
> 
> 标签：java, linux, intellij-idea, classnotfoundexception

这是我在 Lubuntu 12.04 32bit + jdk1.6.0_33 + Intellij IDEA 11.1.2 下编译我的课程时得到的输出：

> 找不到符号方法 initCause(java.lang.ClassNotFoundException)

该项目的语言级别是“5 个枚举词”。

![错误截图](../Images/9ff9aae03f01f0c555b996524817c294.png)

你能解释一下这里有什么问题以及如何解决吗？

PS这是一个SUN jdk

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:15:25.727

你的问题没有足够的细节，但据我了解，你有一个类，它的方法 initCause() 接受一个对象，而该对象不在你的类路径中，所以你需要做的是找到 jar/项目包含此类并将其添加到您的类路径中。

如果您发布代码示例（失败的示例）以及您如何执行它（使用 IDE 或在命令行中），将会很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T13:24:40.470

我必须道歉 - 这个问题不是特定于 linux 的。

这是因为JavaSE和JavaME之间的区别：

SE 和 ME 都有类**java.lang.Throwable**。

ME 实现没有 initCause() 方法——这就是代码无法编译的实际原因。

看来我已经将此代码从 SE 项目复制/粘贴到我没有检查。

# ruby-on-rails - 跨模型传递对象 ID Rails

> ID：11184977
> 
> 赞同：0
> 
> 时间：2012-06-25T07:17:26.450
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1

我正在尝试创建一个允许用户创建和申请工作但似乎遇到问题的应用程序。

我无法将 job_id 传递到我的数据库中的应用程序（工作应用程序）表中。

为了让这个应用程序成功运行，我需要将 job_id 和 user_id 传递给用户的申请表，以便在他们提交工作申请时，此信息存储在我的应用程序表中。然后，工作所有者将能够查看他们收到的申请。

我的模型中有以下关联：

```
 class App < ActiveRecord::Base
 belongs_to :job
 belongs_to :user

 class Job < ActiveRecord::Base
 belongs_to :user
 has_many :apps
 has_many :applicants, :through => :apps, :source => :user

 class User < ActiveRecord::Base
 has_many :apps
 has_many :jobs
 has_many :jobs_applied_for, :through => :apps, :source => :job 
```

在我的作业控制器的显示页面（用户可以单击“立即申请”以启动应用程序的页面）上定义我有以下内容：

```
def show
  @job = Job.find(params[:id])    
end 
```

实际页面上“立即申请”的链接是：

```
<%=link_to "Apply Now", new_app_path %> 
```

在我的应用程序控制器的新页面上，我有：

```
def new
  @user = current_user
  @app = @user.apps.build
end 
```

我的 user_id 完美传递并出现在我的应用程序表中，但我完全不知道如何正确传递 job_id。

如果我错过了可以编辑到这个问题中以帮助您回答的任何内容，请告诉我。

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:29:07.987

您没有在 new_app_path 链接中传递 job_id。尝试将其更改为`new_app_path(:job_id => @job.id)`，并在您的控制器中添加`@job = Job.find(params[:job_id])`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T07:22:28.427

假设您的路线将应用程序嵌套在作业中，您到新应用程序页面的链接应该类似于

```
link_to 'apply now', new_app_job_path(@job) 
```

在您的新操作中，您将拥有一个`params[:job_id]`可用于设置 @job

然后在表单上，​​您对表单的调用应该如下所示

```
form_for [@job, @app] do |f|
  ... 
```

这可确保您的创建操作也将有一个 :job_id 参数，您可以在创建应用程序时使用该参数

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-25T07:51:24.227

您应该调用的操作`create`不是`new`。

更改`link_to`代码如下：

```
<%=link_to "Apply Now", apps_path(:app => {:job_id => @job.id}), :method => :post %> 
```

在您的控制器中：

```
def create
  app = current_user.apps.build(params[:app])
  if app.save
    # handle success
  else
    # handle error
  end
end 
```

# javascript - src 更改时 Flashplayer 在 chrome 或 IE 中不刷新

> ID：11184981
> 
> 赞同：0
> 
> 时间：2012-06-25T07:17:59.617
> 
> 标签：javascript, html, internet-explorer, google-chrome

这是我正在处理的网页：[http ://sebastianbiermanlytle.com/music.htm](http://sebastianbiermanlytle.com/music.htm)

当您单击媒体播放器侧面的箭头时，javascript 会更改源。所有的 soundcloud 播放器都令人耳目一新，但 mixcloud 插件（在“完整的 1+ 小时集”下）在使用 chrome 或 ie（可能还有 safari）时不可用，但在 Mozilla 中可以很好地刷新。如果您检查元素，您会看到 src 和 value 属性在按下箭头时发生了应有的变化——玩家只是没有刷新以显示新内容。

我怎样才能让这些玩家刷新？

更新：

此代码有效：

```
var curSet=0;
var sets = ['<object>....</object>', '<object>...</object>',....];
function nextSet(direction){
     ....//update curSet value
     $('#firstSet').html(sets[curSet]);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T22:36:33.877

你是对的，它在 Safari 中也不起作用......不幸的是，这是一种已知的行为：例如，检查[这个讨论](http://www.codingforums.com/showthread.php?t=209730)。克服它的唯一方法是将操纵移到更高的水平。) 您将动态元素包装在`<div>`元素中，如下所示：

```
<div id="flash-container">
  <object ...>
  <embed...></embed>
  </object>
</div> 
```

...然后在每次触发控件时使用新的 flash 对象（具有所需的值）完全刷新*容器：*`src`

```
$('#flash-container')
  .html('<object ...><param value="new src" ...><embed ... src="new src">') 
```

希望这会有所帮助。)

# c# - AIMLBot C# 拯救大脑

> ID：11184984
> 
> 赞同：0
> 
> 时间：2012-06-25T07:18:07.147
> 
> 标签：c#, .net, aiml

我正在 c# 中使用 AIMLbot.dll。我看到了两个函数`saveToBinaryFile`和`loadFromBinaryFile`. 我认为这些功能是将机器人大脑中的当前内容存储到文件中。但这似乎不起作用！意思是，如果我说要记住我的名字并将内容保存到 GraphMaster.dat 文件。下次我加载同一个文件的内容时，当我问我的名字时，它给出了错误的答案。我的课如下。

```
class AIBot
    {
        private Bot myBot;
        private User myUser;

        public AIBot()
        {
            myBot = new Bot();
            myUser = new User("UnknownUser", myBot);
        }

        public void Initialize()
        {
            myBot.loadSettings();
            myBot.isAcceptingUserInput = false;
            myBot.loadAIMLFromFiles();
            myBot.isAcceptingUserInput = true;
        }

        public void Load()
        {
            if (File.Exists(AppDomain.CurrentDomain.BaseDirectory + @"\Graphmaster.dat"))
                myBot.loadFromBinaryFile(AppDomain.CurrentDomain.BaseDirectory + @"\Graphmaster.dat");
        }

        public string GetResponse(string input)
        {
            Request r = new Request(input, myUser, myBot);
            Result res = myBot.Chat(r);
            return (res.Output);
        }

        public void Save()
        {
            myBot.saveToBinaryFile(AppDomain.CurrentDomain.BaseDirectory + @"\Graphmaster.dat");
        }
    } 
```

有人可以帮忙指出问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:37:42.163

我得到了解决这个问题的办法。希望它会帮助别人。

1.  保存用户会话

    ```
    this.myUser.Predicates.DictionaryAsXML.Save(saveFileDialogDump.FileName); 
    ```

2.  下次加载存储的会话。

    ```
    this.myUser.Predicates.loadSettings(openFileDialogDump.FileName); 
    ```

# c# - 使用 LINQ 按子记录数排序

> ID：11184986
> 
> 赞同：1
> 
> 时间：2012-06-25T07:18:12.700
> 
> 标签：c#, linq, entity-framework-4, linq-to-entities

我有以下两个表：

```
-Groups-
Id
Name

-Members-
Id
GroupId (Group.Id is related to Member.GroupId)
Name
IsActive (bit) 
```

如何编写一个 LINQ 查询，该查询将按组中 IsActive 成员的数量从高到低排序？

查询看起来像这样

```
//pseudo code
    from grp in database.Groups
    orderby Count(grp.Members.where(m=>m.IsActive == true)) descending
    select grp 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:23:12.930

您可以为此使用[let 子句](http://msdn.microsoft.com/en-us/library/bb383976.aspx)。结果，您将获得以下信息：

```
from grp in database.Groups
let activeCount = grp.Members.Where(m=>m.IsActive == true).Count()
order by activeCount descending
select grp 
```

实现所需排序的另一种方法是使用`select ... into`. 查询将非常相似，但您应该注意这两种方法之间的区别：[linq 的 let 关键字是否优于其 into 关键字？](https://stackoverflow.com/questions/641931/is-linqs-let-keyword-better-than-its-into-keyword)

# android - 从另一个活动回来时，Android ListView 项目没有响应？

> ID：11184987
> 
> 赞同：2
> 
> 时间：2012-06-25T07:18:17.260
> 
> 标签：android, listview, onclick

我从 ArrayAdapter 创建了一个 ListView。ListView 的每一行都有一个 ImageView 和一个 TextView。现在我使用 setOnItemClickListener 处理点击事件

```
lv = getListView();
    lv.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            CategoryInfo cat = (CategoryInfo) lv
                    .getItemAtPosition(position);
            showGameByCategory(Long.valueOf(cat.getId()), cat.getName());
        }
    }); 
```

当我单击一行时，它将开始另一个活动。在那个活动中，我有一个返回 ListView 的按钮。当单击该按钮时，我会调用`Activity.finish();`.

这是问题所在：我第一次打开 ListView 并单击任何项​​目时，它工作正常并打开新活动。但是当我单击按钮返回并返回 ListView 时，我无法单击任何项​​目。我的应用程序有很多选项卡，如果我切换到另一个选项卡并切换回 ListView，我可以再次单击 ListView 项。但是每当我点击按钮返回时，这些项目都是不可点击的。

我在 2 个不同的操作系统上进行了测试，它在 Android 2.3 上正常工作，但在 Android 4.0 上发生了这个错误。

有谁知道如何解决这一问题？

编辑：这是我的布局文件：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="?android:attr/listPreferredItemHeight"
    android:background="@drawable/listitem_selector_odd"
    android:padding="6dip" >

    <RelativeLayout
        android:layout_width="0dip"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:orientation="vertical" >

        <ImageView
            android:id="@+id/avatar"
            android:layout_width="70dp"
            android:layout_height="70dp"
            android:layout_marginRight="6dip" 
            android:layout_alignParentLeft="true"/>

        <TextView
            android:id="@+id/toptext"
            android:layout_width="wrap_content"
            android:layout_height="fill_parent"
            android:layout_toRightOf="@+id/avatar"
            android:layout_marginRight="6dip"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:textColor="#000000"
            android:textSize="18dp"
            android:textStyle="bold" >
        </TextView>

        <ImageView
            android:id="@+id/arrow"
            android:layout_width="10dip"
            android:layout_height="15dip"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:layout_marginLeft="6dip"
            android:layout_weight="1"
            android:gravity="center_vertical"
            android:src="@drawable/arrow_icon" />
    </RelativeLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-30T12:14:48.550

I had exactly the same problem as you. Even stranger, it happened on some tablet 4.0 or 4.1, while it didn't happen on a phone 4.1. Using "descendentFocusabilty=blocksDescendants" didn't solve it.

Following the idea of user1603602, I ask for the invalidation of Views of the list (hence a redraw of elements of the list) each time the View becomes visible:

```
@Override
protected void onWindowVisibilityChanged(int visibility) {
    super.onWindowVisibilityChanged(visibility);
    if (visibility == View.VISIBLE) {
        list.invalidateViews();
    }
} 
```

As it reloads each items of the list, it can be annoying if you load images with animations for example, but it solves the problem, and it keep the scrolled position.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-16T14:52:47.657

我有同样的问题，只是想出了一个解决方法。删除列表视图，然后将其添加回来。这将强制视图刷新到原始工作状态。

例如，如果您`ListView lv`在`LinearLayout lout`

```
 lout.removeView(lv);
 lout.addView(lv); 
```

确保从 UI 线程调用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-07T18:30:40.663

[我认为这与此处](https://stackoverflow.com/questions/11257357/listview-haswindowfocus-true-but-child-views-haswindowfocus-false)描述的问题相同

我使用了一个包含视图数组的自定义适配器。在 getView(position, ...) 中，我返回指定位置的视图。显然，ListView 不喜欢这样，有时（特定于平台）会回收不应该回收的视图。

# php - joomla 模块位置 else if

> ID：11184988
> 
> 赞同：3
> 
> 时间：2012-06-25T07:18:20.100
> 
> 标签：php, joomla

我正在制作一个响应式 joomla 模板，但我遇到了一个问题。

我有四个模块位置：header1、header2、header3、header4 如果只有位置 active ，那么它的类将是 'col12' & 'last'

如果有两个位置，那么位置的类将是“col6”，而类“last”仅适用于最后一个位置

如果有位置，则所有位置为“三”类，最后一个位置为“最后”类

我如何在数组中做到这一点？这样做的任何好的解决方案

目前我正在使用它但不能正常工作，或者请告诉我在 JAT3 框架中使用的块系统如何为我的模板制作我自己的块系统，如 jat3

```
if($header1 && $header2 && $header3 && $header4 > 0){
    $hCols='three';
}elseif($header1 && $header2 && $header3 > 0){
    $hCols='four';
    $h3last='last';
}elseif($header1 && $header2 > 0){
    $hCols='six';
    $h2last='last';
}elseif($header1 > 0){
    $hCols='twelve';
    $h1last='last';
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T18:53:48.700

您可能打算检查所有值是否不为空（我更喜欢使用`isset`） - 但实际上您只检查 each 中的最后一个值`if`，您可以这样做：

```
if($header1 > 0 && $header2 > 0 && $header3 > 0 && $header4 > 0){
    $hCols='three';
}elseif($header1 > 0 && $header2 > 0 && $header3 > 0){
    $hCols='four';
    $h3last='last';
}elseif($header1 > 0 && $header2 > 0){
    $hCols='six';
    $h2last='last';
}elseif($header1 > 0){
    $hCols='twelve';
    $h1last='last';
} 
```

`&`您也可以只使用一个（按位运算符）来做到这一点（这可能是您的初衷）：

```
if($header1 & $header2 & $header3 & $header4 > 0){
    $hCols='three';
}elseif($header1 & $header2 & $header3 > 0){
    $hCols='four';
    $h3last='last';
}elseif($header1 & $header2 > 0){
    $hCols='six';
    $h2last='last';
}elseif($header1 > 0){
    $hCols='twelve';
    $h1last='last';
} 
```

# java - 如何在java中重新启动当前正在执行的jar

> ID：11184989
> 
> 赞同：2
> 
> 时间：2012-06-25T07:18:23.653
> 
> 标签：java

> **可能重复：**
> [有什么方法可以“重启”JVM？](https://stackoverflow.com/questions/259343/any-way-to-reboot-the-jvm)

是否有任何选项可以通过该程序内部的代码重新启动当前正在执行的.jar（一个完整的项目）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T07:26:43.057

您可以调用使用`Runtime.getRuntime().exec()`

```
java -jar yourJar.jar 
```

你可以立即调用

```
System.exit(0); 
```

所以启动新实例并停止当前

# php - 如何在 Magento 结账时添加自定义运输和付款选项？

> ID：11184990
> 
> 赞同：1
> 
> 时间：2012-06-25T07:18:28.663
> 
> 标签：php, magento, e-commerce, magento-1.5

运行 Magento 1.5.1。我的网上商店包含许多直接从制造商处发货的产品。运输成本是非常可变的，并且由于我们携带的产品数量，确定许多物品的运输成本是不可行的。

我想在结帐时添加“请求报价”选项。我的基本想法是这样的：

- 没有重量或尺寸的物品将需要通过 RFQ（报价请求）流程。在结帐期间，如果用户的购物车中有需要 RFQ 的物品（因为它没有定义重量或尺寸），它将显示一个运输选项：“请求运输报价”。-下一步是付款屏幕。将出现“稍后付款发票”或“收到报价时付款”选项，而不是实际付款选项。用户将被迫选择这个（或者我们可以完全跳过支付屏幕？）。

这似乎应该相对容易破解，但我想知道我是否以错误的方式解决这个问题？有没有更简单的方法来做到这一点？我的想法是修改结帐代码以检查重量或尺寸，如果没有，只显示一个运输选项（我可能会将“免费送货”重新用作该选项）。然后，在付款屏幕中，检查订单中是否选择了免费送货，然后显示自定义付款选项（可能是重新使用支票或汇票选项）。从那里我们会通过 Paypal 或类似的方式向他们发送官方报价。

有什么想法吗？谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T18:33:16.677

我会提供[我的正常建议](https://stackoverflow.com/questions/10580712/magento-1-6-adding-custom-fields-for-registration-page/10606489#10606489)：有很多扩展可以让这种情况发生。我的理念是在尝试用 magento 编写任何东西之前开始研究扩展。当升级破坏某些东西时特别有用；他们通常会免费修复明显影响他们自己的扩展的升级问题。

在您的情况下，有一个免费的自定义运输选项扩展我用于“Will Call”，您可以将其用于“RFQ”目的。我强烈建议不要搞乱支付模块。我已经用 PHP 编写了 6 个或更多“支付”内容，用于实时站点和管理后端使用。在您真正了解 Magento 之前，您是在浪费时间和金钱编写代码。如果您的问题是让网站正常运行以便赚钱，请购买可以完成工作的扩展程序...

为了继续编写代码，我在联系表单中手动滚动了一些代码以添加谷歌重新验证码以及让客户从现有产品属性（车辆年份、品牌、型号）中进行选择。我最终能够弄清楚如何让这些反映在我们从联系表单获得的电子邮件中，但是，没有数据库持久性，这是正确的解决方案。此外，在代码中快速轻松地以意想不到和令人惊讶的方式破坏 Magento，因此我在这里的正常 Magento 回复是强烈敦促人们购买扩展。如果你问我会问的那种问题，你知道的不够多，无法进行专业扩展……购买一些合适的扩展，分析它们，花大量时间试图弄清楚。

再有很多扩展都在竞争做同样的任务，所以应该有一些东西已经在做你想做的事了。

# python - 如何使用python在特定桌面上显示程序窗口

> ID：11184997
> 
> 赞同：3
> 
> 时间：2012-06-25T07:19:10.487
> 
> 标签：python, window, gtk3, freedesktop.org

我正在编写 python 应用程序，需要在 openbox 中的特定（不是当前）桌面上运行另一个程序（我有 4 个桌面）。有freedesktop _NET_CURRENT_DESKTOP 参数，但是我不知道如何在python和gi.repository（Wnck，Gdk？）下更改它。或者也许使用 Xlib？我找不到最好的方法来做到这一点......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:53:41.677

使用 PyGTK，您将创建一个[gio.AppInfo](http://www.pygtk.org/docs/pygobject/class-gioappinfo.html)实例来表示您要启动的应用程序，然后将[gtk.gdk.AppLaunchContext](http://www.pygtk.org/docs/pygtk/class-gdkapplaunchcontext.html)提供给它的[launch()](http://www.pygtk.org/docs/pygobject/class-gioappinfo.html#method-gioappinfo--launch)方法。

当您创建启动上下文时，您将调用它的[set_desktop()](http://www.pygtk.org/docs/pygtk/class-gdkapplaunchcontext.html#method-gdkapplaunchcontext--set-desktop)方法来指定启动的应用程序将在其上运行的桌面的索引。

# android - 造型 Sherlock 动作条

> ID：11184999
> 
> 赞同：4
> 
> 时间：2012-06-25T07:19:13.433
> 
> 标签：android, actionbarsherlock, nine-patch, android-resources

我正在尝试将图像设置为 Sherlock 操作栏的背景，但即使它是 720 x 112 像素，图像似乎也不会拉伸。白色部分仍然是操作栏的一部分，因为三角形设置在正确的位置，并且右侧的按钮在顶部和底部具有不同的边距。

我需要将其设为 9patch 图像吗？不知道为什么它不起作用..

我正在设置背景`getSupportActionBar().setBackgroundDrawable(getResources().getDrawable(R.drawable.topbar));`

非常感谢您的帮助！

![在此处输入图像描述](../Images/2fd22e2d3fb7ab7c5a9230d8ffba52aa.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:33:23.287

你把你的图像放在hdpi还是mdpi？换个试试。最终，使用 draw-9-patch 并让自己免于头痛。