# StackOverflow 问答 11776000-11776999

# php - PayPal IPN 交付状态设置为“重试”，HTTP 响应代码为 404

> ID：11776000
> 
> 赞同：3
> 
> 时间：2012-08-02T10:56:57.493
> 
> 标签：php, paypal, wordpress, paypal-ipn, http-error

我正在使用 Wordpress 插件 Donate Plus，它有一段时间没有更新，并且对于大多数用户来说都无法正常工作。因此，我对代码进行了一些更改，试图让它再次工作。除了在我的 PayPal 帐户的 IPN 历史记录中，所有交易都具有“重试”状态，HTTP 响应代码为 404，我一切正常。

脚本中有一个 IPN 调试功能，它返回“已验证的 IPN 交易 [已完成]”，表明一切正常。但是，我收到了多条调试消息、多条发送的感谢消息，以及我的 MySQL 数据库中的多个条目，我认为所有这些都与“重试”问题有关。

我已经在 PayPal 中手动设置了通知 URL，因为我听说这可以解决一些问题。但是我仍然遇到同样的问题。

我了解该脚本需要将完整的未更改 IPN 消息发送回 PayPal；即消息必须以相同的顺序包含相同的字段，并以与原始消息相同的方式进行编码。但是，我不确定如何检查 $postipn 返回的内容，以检查这是否是问题所在。

我在下面包含了完整的 paypal.php 脚本，以防任何人发现问题所在：

```
<?php
    /*
    //************************************************************
    //************************************************************
    //**  Bugs fixed by...                                      **
    //**                                                        **
    //**  Copyright Encentra 2011                               **
    //**  www.encentra.se                                       **
    //**  consultant: Johan Rufus Lagerström                    **
    //************************************************************
    //************************************************************
    */

#########################################################
#                                                       #
#  File            : PayPal.php                         #
#  Version         : 1.9                                #
#  Last Modified   : 12/15/2005                         #
#  Copyright       : This program is free software; you #
# can redistribute it and/or #modify it under the terms #
# of the GNU General Public License as published by the #
# Free Software Foundation                              #
# See the #GNU General Public License for more details. #
#               DO NOT REMOVE LINK                      #
# Visit: http://www.belahost.com for updates/scripts    #
#########################################################
#    THIS SCRIPT IS FREEWARE AND IS NOT FOR RE-SALE     #
#########################################################

require("../../../wp-blog-header.php");
global $wpdb;
$dplus = get_option('DonatePlus');
$email_IPN_results = $dplus['IPN_email'];
$tmp_nl = "\r\n";

if(class_exists('DonatePlus'))$donateplus = new DonatePlus();

#1 = Live on PayPal Network 
#2 = Testing with www.BelaHost.com/pp
#3 = Testing with the PayPal Sandbox
$verifymode     = $dplus['testing_mode']; # be sure to change value for testing/live!
# Send notifications to here
$send_mail_to   = $dplus['paypal_email'];
# subject of messages
$sysname        = "Donate Plus - Paypal IPN Transaction";
# Your primary PayPal e-mail address
//$paypal_email     = $dplus['paypal_email'];
# Your sendmail path
//$mailpath         = "/usr/sbin/sendmail -t";
#the name you wish to see the messages from
//$from_name        = $dplus['ty_name'];
#the emails will be coming from
//$from_email   = $dplus['ty_email'];

# Convert Super globals For backward compatibility
if(phpversion() <= "4.0.6") {$_POST=($HTTP_POST_VARS);}

# Check for IPN post if none then return 404 error.
if (!$_POST['txn_type']){
    if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - 404]","IPN Fail: 404 error!","",__LINE__);
    header("Status: 404 Not Found");
    die();
}else{
    header("Status: 200 OK");
}

# Now we Read the Posted IPN
$postvars = array();

//print_r($_POST);
foreach ($_POST as $ipnvars => $ipnvalue){
    $postvars[] = $ipnvars; $postvals[] = $ipnvalue;
}
# Now we ADD "cmd=_notify-validate" for Post back Validation
$postipn    = 'cmd=_notify-validate'; 
$orgipn     = '<b>Posted IPN variables in order received:</b><br><br>';
# Prepare for validation
for($x=0; $x < count($postvars); $x++){ 
    $y          = $x+1; 
    $postkey    = $postvars[$x]; 
    $postval    = $postvals[$x]; 
    $postipn    .= "&".$postkey."=".urlencode($postval);  
    $orgipn     .= "<b>#".$y."</b> Key: ".$postkey." <b>=</b> ".$postval."<br>";
}

if($verifymode == 1){       //1 = Live on PayPal Network
    ## Verify Mode 1: This will post the IPN variables to the Paypal Network for Validation
    $port = fsockopen ('ssl://www.paypal.com', 443, $errno, $errstr, 30);
    //$port = fsockopen ("paypal.com", 80, $errno, $errstr, 30);
    $header = "POST /cgi-bin/webscr HTTP/1.0\r\n".
    "Host: www.paypal.com\r\n".
    "Content-Type: application/x-www-form-urlencoded\r\n".
    "Content-Length: ".strlen($postipn)."\r\n\r\n";
}elseif ($verifymode == 2){ //2 = Testing with www.BelaHost.com/pp
    ## Verify Mode 2: This will post the IPN variables to Belahost Test Script for validation
    ## Located at www.belahost.com/pp/index.php
    $port = fsockopen ("www.belahost.com", 80, $errno, $errstr, 30);
    $header = "POST /pp/ HTTP/1.0\r\n".
    "Host: www.belahost.com\r\n".
    "Content-Type: application/x-www-form-urlencoded\r\n".
    "Content-Length: ".strlen($postipn)."\r\n\r\n";        
}elseif ($verifymode == 3){ //3 = Testing with the PayPal Sandbox
    $port = fsockopen ("ssl://www.sandbox.paypal.com", 443, $errno, $errstr, 30);
    $header = "POST /cgi-bin/webscr HTTP/1.0\r\n".
    "Host: www.sandbox.paypal.com\r\n".
    "Content-Type: application/x-www-form-urlencoded\r\n".
    "Content-Length: ".strlen($postipn)."\r\n\r\n";
}else{ 
    $error=1; 
    //echo "CheckMode: ".$verifymode." is invalid!";
    if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - Misc]","Fail: CheckMode: ".$verifymode." is invalid!","",__LINE__);
    die(); 
}

# Error at this point: If at this point you need to check your Firewall or your Port restrictions?
if (!$port && !$error){
    //echo "Problem: Error Number: ".$errno." Error String: ".$errstr;
    #Here is a small email notification so you know if your system ever fails           
    if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - Misc]","Your Paypal System failed due to $errno and string $errstr","",__LINE__);          
    die();
}else{
    # If No Errors to this point then we proceed with the processing.
    # Open port to paypal or test site and post Varibles.
    fputs ($port, $header.$postipn);
    while (!feof($port)){
        $reply = fgets ($port, 1024);
        $reply = trim ($reply); 
    }

    # Prepare a Debug Report
    $ipnreport = $orgipn."<br><b>"."IPN Reply: ".$reply."</b>";

    # Buyer Information
    $address_city           = $_POST['address_city'];
    $address_country        = $_POST['address_country'];
    $address_country_code   = $_POST['address_country_code'];
    $address_name           = $_POST ['address_name'];
    $address_state          = $_POST['address_state'];
    $address_status         = $_POST['address_status'];
    $address_street         = $_POST['address_street'];
    $address_zip            = $_POST['address_zip'];
    $first_name             = $_POST['first_name'];
    $last_name              = $_POST['last_name'];
    $payer_business_name    = $_POST['payer_business_name'];
    $payer_email            = $_POST['payer_email'];
    $payer_id               = $_POST['payer_id'];
    $payer_status           = $_POST['payer_status'];
    $residence_country      = $_POST['residence_country'];
    # Below Instant BASIC Payment Notifiction Variables
    $business               = $_POST['business'];
    $item_name              = $_POST['item_name'];
    $item_number            = $_POST['item_number'];
    $quantity               = $_POST['quantity'];
    $receiver_email         = $_POST['receiver_email'];
    $receiver_id            = $_POST['receiver_id'];
    #Advanced and Customer information
    $custom                 = $_POST['custom'];
    $invoice                = $_POST['invoice'];
    $memo                   = $_POST['memo'];
    $option_name1           = $_POST['option_name1'];       //name
    $option_name2           = $_POST['option_name2'];
    $option_selection1      = $_POST['option_selection1'];  //email
    $option_selection2      = $_POST['option_selection2'];  //comment
    $tax                    = $_POST['tax'];
    #Website Payment Pro and Other IPN Variables
    $auth_id                = $_POST['auth_id'];
    $auth_exp               = $_POST['auth_exp'];
    $auth_amount            = $_POST['auth_amount'];
    $auth_status            = $_POST['auth_status'];
    # Shopping Cart Information
    $mc_gross               = $_POST['mc_gross'];
    $mc_handling            = $_POST['mc_handling'];
    $mc_shipping            = $_POST['mc_shipping'];
    $num_cart_items         = $_POST['num_cart_items'];
    # Other Transaction Information
    $parent_txn_id          = $_POST['parent_txn_id'];
    $payment_date           = $_POST['payment_date'];
    $payment_status         = $_POST['payment_status'];
    $payment_type           = $_POST['payment_type'];
    $pending_reason         = $_POST['pending_reason'];
    $reason_code            = $_POST['reason_code'];
    $remaining_settle       = $_POST['remaining_settle'];
    $transaction_entity     = $_POST['transaction_entity'];
    $txn_id                 = $_POST['txn_id'];
    $txn_type               = $_POST['txn_type'];
    # Currency and Exchange Information
    $exchange_rate          = $_POST['exchange_rate'];
    $mc_currency            = $_POST['mc_currency'];
    $mc_fee                 = $_POST['mc_fee'];
    $payment_fee            = $_POST['payment_fee'];
    $payment_gross          = $_POST['payment_gross'];
    $settle_amount          = $_POST['settle_amount'];
    $settle_currency        = $_POST['settle_currency'];
    # Auction Information 
    $for_auction            = $_POST['for_auction'];
    $auction_buyer_id       = $_POST['auction_buyer_id'];
    $auction_closing_date   = $_POST['auction_closing_date'];
    $auction_multi_item     = $_POST['auction_multi_item'];
    # Below are Subscription - Instant Payment Notifiction Variables
    $subscr_date            = $_POST['subscr_date'];
    $subscr_effective       = $_POST['subscr_effective'];
    $period1                = $_POST['period1'];
    $period2                = $_POST['period2'];
    $period3                = $_POST['period3'];
    $amount1                = $_POST['amount1'];
    $amount2                = $_POST['amount2'];
    $amount3                = $_POST['amount3'];
    $mc_amount1             = $_POST['mc_amount1'];
    $mc_amount2             = $_POST['mc_amount2'];
    $mc_amount3             = $_POST['mc_amount3'];
    $recurring              = $_POST['recurring'];
    $reattempt              = $_POST['reattempt'];
    $retry_at               = $_POST['retry_at'];
    $recur_times            = $_POST['recur_times'];
    $username               = $_POST['username'];
    $password               = $_POST['password'];
    $subscr_id              = $_POST['subscr_id'];
    # Complaint Variables Used when paypal logs a complaint
    $case_id                = $_POST['case_id'];
    $case_type              = $_POST['case_type'];
    $case_creation_date     = $_POST['case_creation_date'];
    #Last but not least
    $notify_version         = $_POST['notify_version'];
    $verify_sign            = $_POST['verify_sign'];

    #There are certain variables that we will not store for cart since they are dynamic                    
    #such as mc_gross_x as they will be forever changing/increasing your script must check these

    #IPN was Confirmed as both Genuine and VERIFIED
    if(!strcmp($reply, "VERIFIED")){
        /* Now that IPN was VERIFIED below are a few things which you may want to do at this point.
         1\. Check that the "payment_status" variable is: "Completed"
         2\. If it is Pending you may want to wait or inform your customer?
         3\. You should Check your datebase to ensure this "txn_id" or "subscr_id" is not a duplicate. txn_id is not sent with subscriptions!
         4\. Check "payment_gross" or "mc_gross" matches match your prices!
         5\. You definately want to check the "receiver_email" or "business" is yours. 
         6\. We have included an insert to database for table paypal_ipn
         */
        $split = explode(':', $item_number);
        $display = $split[0];
        $uID = $split[1];
        $url = 'http://'.str_replace('http://','',$option_name2);

        if(!$mc_gross)$mc_gross = $payment_gross;
        $table_name = $wpdb->prefix."donations";

        //kontrollera om transaktionen redan finns sparad
        $tmp_txn_id     = $wpdb->escape($txn_id);
        $tmp_count      = $wpdb->get_var($wpdb->prepare("SELECT COUNT(*) FROM $table_name WHERE txn_id='$tmp_txn_id';")); 

        //if($payment_status    == 'Completed'){
        if($tmp_count == 0){
            //all pin:s som kommer in tolkar vi som complete
            $tmp_payment_status = "Completed";
            $mc_net = $mc_gross - $mc_fee;
            //USE SECURE INSERT!
            $wpdb->query(
                $wpdb->prepare("INSERT INTO $table_name
                ( name, email, url, comment, display, amount, charge, net, currency, date, user_id, status, txn_id )
                VALUES ( %s, %s, %s, %s, %d, %s, %s, %s, %s, %s, %d, %s, %s )", 
                $option_name1, $option_selection1, $url, strip_tags($option_selection2), $display, $mc_gross, $mc_fee, $mc_net, $mc_currency, date('Y-m-d H:i:s'), $uID, $tmp_payment_status, $txn_id )
            );
            //send payer thank you email about where to download
            global $currency;
            $subject    = stripslashes($dplus['ty_subject']);
            $prefix     = $currency[$mc_currency]['symbol'];
            $amount     = $prefix.$mc_gross.' '.$mc_currency;
            $payer_msg  = nl2br($donateplus->TagReplace(stripslashes($dplus['ty_emailmsg']), $option_name1, $amount));
            //$payer_msg = utf8_encode($payer_msg);
            //echo '<br />'.$payer_msg;
            $headers  = 'MIME-Version: 1.0'."\r\n";
            //$headers .= 'Content-type: text/html; charset=iso-8859-1'."\r\n";
            $headers .= 'Content-type: text/html; charset=utf-8'."\r\n";
            $headers .= 'From: '.$dplus['ty_name'].' <'.$dplus['ty_email'].'>'."\r\n";
            wp_mail($option_selection1, $subject, $payer_msg, $headers);
            //wp_mail($notify_email, 'New Donation Recieved!', "Donation from $option_name1 for $payment_amount");
            //echo $postquery;
            if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [PIN - Completed]","\n Verified IPN Transaction [Completed] \n \n$ipnreport\n","",__LINE__);
        }else{
            //not "Completed"
            //tar bort nedan, annars trilalr det in 10 mail per donation
            //send_mail($send_mail_to,$sysname." [PIN - $payment_status]","\n Verified IPN Transaction [$payment_status] \n \n$ipnreport\n","",__LINE__);
        }

    }elseif(!strcmp($reply, "INVALID")){    # IPN was Not Validated as Genuine and is INVALID
        /* Now that IPN was INVALID below are a few things which you may want to do at this point.
         1\. Check your code for any post back Validation problems!
         2\. Investigate the Fact that this Could be an attack on your script IPN!
         3\. If updating your DB, Ensure this "txn_id" is Not a Duplicate!
        */

        # Remove Echo line below when live
        //echo $ipnreport;
        if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - Invalid]","Invalid IPN Transaction".$tmp_nl.$tmp_nl.$ipnreport,"",__LINE__);

    }else{  #ERROR
        # If your script reaches this point there is a problem. Communication from your script to test/paypal pages could be 1 reason.
        echo $ipnreport;
        if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - Misc]","FATAL ERROR No Reply at all".$tmp_nl.$tmp_nl.$ipnreport,"",__LINE__);
    }

    #Terminate the Socket connection and Exit
    fclose ($port); 
    die();
}

/* =================================
         Below are functions
   ================================= */

# Email function
function send_mail($to, $subj, $body, $headers="",$tmp_line=0){
    //global
    global $tmp_nl; 

    //var_dump till en sträng
    $posts = var_export($_POST, true);

    //body
    $tmp_body   = "===================================".$tmp_nl.
                $subj." [line: $tmp_line]".$tmp_nl.
                "===================================".$tmp_nl.
                $body.$tmp_nl.
                $tmp_nl.
                "===================================".$tmp_nl.
                $posts;

    //skickar mail
    wp_mail($to, $subj, $tmp_body, $headers);

    /*
    global $from_name, $from_email, $mailpath;

# E-mail Configuration
    $announce_subject = "$subj";
    $announce_from_email = "$from_email";
    $announce_from_name = "$from_name";
    $announce_to_email = "$to";
    $MP = "$mailpath"; 
    $spec_envelope = 1;
    # End email config
# Access Sendmail
# Conditionally match envelope address
    if(isset($spec_envelope))
    {
    $MP .= " -f $announce_from_email";
    }
    $fd = popen($MP,"w"); 
    fputs($fd, "To: $announce_to_email\n"); 
    fputs($fd, "From: $announce_from_name <$announce_from_email>\n");
    fputs($fd, "Subject: $announce_subject\n"); 
    fputs($fd, "X-Mailer: MyPayPal_Mailer\n");
    fputs($fd, "Content-Type: text/html\n");
    fputs($fd, $body); # $body will be sent when the function is used
    pclose($fd);
    */
}

?> 
```

**.htaccess 文件**

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress

<Files wp-cron.php>
allow from all
Satisfy Any
</Files>

AddType text/x-component .htc 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T14:02:17.853

在我看来，似乎只有几种可能性。

编码

```
if (!$_POST['txn_type']){
    if( $email_IPN_results ) send_mail($send_mail_to,$sysname." [ERROR - 404]","IPN Fail: 404 error!","",__LINE__);
    header("Status: 404 Not Found");
    die();
}else{
    header("Status: 200 OK");
} 
```

显然是值得研究的部分，因为它输出 404。在我的 IPN 处理程序中，我使用`empty($_POST)`你使用过的`!$_POST['txn_type']`. 你也可以试试`!isset($_POST['txn_type'])`。`!$_POST['txn_type']`是从字面上评估 txn_type 是否等于 false，这不像专门检查该值是否普遍存在那样可靠。我怀疑这是实际的问题，但值得一看。

404 的其他一些可能原因可能是：

*   在您的贝宝按钮代码的某处，它设置了一个不存在的 IPN URL。
*   您手动输入的 IPN URL 有错字。
*   您的 htaccess 阻止了对 IPN URL 的直接访问。如果 htaccess 进行任何重定向（例如从 domain.com 到 www.domain.com）并且您使用 domain.com 作为您的 IPN 域，则重定向将导致所有帖子数据被丢弃，然后您的代码将准确输出404 错误。

我的钱将用于 htaccess 重定向问题。我对破坏我的表单发布的重定向非常熟悉。

**编辑**

您可以尝试制作一个完全跳过 paypal 的简单测试表单来测试 IPN。像这样简单的东西

```
<form method="post" action="IPN_URL">
<input type='hidden' name='txn_type' value='subscr_payment'>
<input type='submit' value='Test IPN'></form> 
```

显然，将 IPN_URL 替换为适当的 url。如果提交这不是 404，那么脚本设置 IPN URL 的方式可能有问题。

您还可以检查服务器日志中的 404 错误，并将日志中缺少的 URL 与您希望看到的 URL 进行比较。

**编辑 2**

仅供参考，我用这个插件做了一个测试，你正在使用相同的版本，它马上就完美地工作了。我没有在paypal中设置IPN URL。我将“测试模式”设置为“与 Paypal 一起生活”并填写了 PayPal 电子邮件地址字段，并将其他所有内容设置为默认值。我付款了，IPN 和其他一切正常。我正在使用版本为 3.4.1 的普通 WP 设置（不是多站点）。

你在使用 WP 多站点吗？我知道在这些情况下，设置页面中显示的 URL 可能是错误的。

在阅读[http://wordpress.org/support/topic/plugin-donate-plus-ipn-not-working](http://wordpress.org/support/topic/plugin-donate-plus-ipn-not-working)之后，看起来这个插件实际上存在一些问题。我快速浏览了一下，[http:](http://wordpress.org/extend/plugins/paypal-donations/) //wordpress.org/extend/plugins/paypal-donations/ 似乎最近更新了一点，而且它似乎没有与另一个相同的怪癖。你可以在[这里](http://wpstorm.net/wordpress-plugins/paypal-donations/)阅读。最坏的情况，你可以切换到那个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-13T21:02:31.493

今天我遇到了这个问题......`retrying`即使`notify_url`我指定的通知是有效的，paypal IPN 历史也会显示通知。

问题是 PayPal 将数据发送到`https://`该 URL 的（安全）版本；如果您将`https://`url 粘贴到浏览器中，您可能会看到您的主机没有显示站点`https://`，这也是 Paypal 看到的，通常是 404 错误页面。

# c# - windows phone 多个导航键

> ID：11776006
> 
> 赞同：0
> 
> 时间：2012-08-02T10:57:13.617
> 
> 标签：c#, .net, vb.net, windows-phone-7, navigation

我正在尝试使用多个导航键在 windows phone 7.1 上从一个页面导航到另一个页面

```
Me.NavigationService.Navigate(New Uri(String.Format("/ImagePage.xaml?tag={0}", li.Tag), UriKind.Relative)) 
```

这个工作完美......

但是当我添加第二个键时：

```
Me.NavigationService.Navigate(New Uri(String.Format("/ImagePage.xaml?tag={0}?tag2={1}", li.Tag,l2.tag), UriKind.Relative)) 
```

但第二页上的结果是：

标签 = "标签"?tag2="标签2"

其中“tag” = tag 的内容和“tag2” = tag2 的内容

有什么想法...一定是错的？操作员，但我不确定：S 我尝试过很多其他的，但没有一个主题似乎是正确的：O

还是非常感谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:01:11.423

第二个`?`应该是`&`：

```
Me.NavigationService.Navigate(New Uri(String.Format("/ImagePage.xaml?tag={0}&tag2={1}", ... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:00:21.080

第二次应该有 AND 符号，而不是两次问号。

```
/ImagePage.xaml?tag={0}&tag2={1}" 
```

# c# - 试图删除表中的所有内容

> ID：11776008
> 
> 赞同：-1
> 
> 时间：2012-08-02T10:57:27.853
> 
> 标签：c#, sql

我正在尝试解决为什么我的代码不起作用。小费很重要。我还想知道，当它起作用时，主键，在这种情况下，ID 列也会重置并从 1 重新开始吗？

```
 connection = new SqlConnection(connectionString);
        connection.Open();
        sql = "DELETE * From Guests";
        sqlCommand = new SqlCommand(sql, connection);
        sqlCommand.EndExecuteNonQuery();
        connection.Close(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T10:58:52.807

你不需要星号

```
DELETE FROM Guests 
```

要重置主键，请使用

```
TRUNCATE TABLE Guests 
```

而你想要

```
sqlCommand.ExecuteNonQuery(); 
```

不是`EndExecuteNonQuery`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T10:59:17.383

您不需要“*”。删除语句的正确语法是：

```
delete from Guests 
```

您还应该养成对一次性类型使用“使用”的习惯，例如 SqlConnection 和 SqlCommand。像这样：

```
using (SqlConnection connection = new SqlConnection(connectionString))
{
    connection.Open();
    string sql = "DELETE From Guests";
    using (SqlCommand sqlCommand = new SqlCommand(sql, connection))
    {
        sqlCommand.ExecuteNonQuery();
    }
} 
```

# github - 使用崇高文本2的缩进问题

> ID：11776009
> 
> 赞同：7
> 
> 时间：2012-08-02T10:57:27.630
> 
> 标签：github, indentation, sublimetext

我有以下问题。

我使用 ubuntu 12.04 和 sublime-text-2 或 gedit。

有时我在 haml/ruby 文件中复制/粘贴某些内容，我将其缩进 2 个空格，但是当我将其推送到 github 时，缩进都是错误的，而不仅仅是我复制/粘贴的部分。在我的编辑器中看起来不错。

如果我用 LibreOffice/LeafPad 打开文件，标识就像在 github 上一样，但我想让它在 ST2 上工作。

有什么建议么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-03T10:27:47.337

要在服务中正确缩进，您不应使用硬制表符

[http://opensourcehacker.com/2012/05/13/never-use-hard-tabs/](http://opensourcehacker.com/2012/05/13/never-use-hard-tabs/)

您可以使用选项卡策略设置在 Sublime Text 2 中实现此功能：

[http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Configure_sane_tab_and_whitespace_policy_and_other_settings](http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Configure_sane_tab_and_whitespace_policy_and_other_settings)

也不是您可能需要从“视图”>“缩进”菜单中为现有文件选择新策略。

您还可以将现有文件从选项卡中批量转换。

使用崇高文本 2：

[http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Converting_existing_files_to_use_spaces_instead_of_tabs](http://opensourcehacker.com/2012/05/11/sublime-text-2-tips-for-python-and-web-developers/#Converting_existing_files_to_use_spaces_instead_of_tabs)

...或批量转换整个项目：

[http://miohtama.github.com/vvv/tools/expandtabs.html](http://miohtama.github.com/vvv/tools/expandtabs.html)

# php - 如何禁用在 CRUD 中添加元素？

> ID：11776010
> 
> 赞同：0
> 
> 时间：2012-08-02T10:57:27.477
> 
> 标签：php, user-interface, crud, atk4

如何防止用户在 Agile Toolkit 的标准 CRUD 视图中添加新条目？

```
$this->add('CRUD')->setModel('User'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T10:59:48.630

CRUD 有一个属性`$allow_add`会禁用添加功能。您应该使用此代码在 Agile Toolkit 中设置对象属性的初始值：

```
$this->add('CRUD',array('allow_add'=>false))->setModel('User'); 
```

或者，如果您不想进行编辑或想要自定义编辑页面，您可以使用 Grid：

```
$this->add('Grid')->setModel('User'); 
```

# c# - 将匿名对象转换为表达式委托

> ID：11776013
> 
> 赞同：5
> 
> 时间：2012-08-02T10:57:46.117
> 
> 标签：c#

我有一个具有以下 API 的第三方库：

```
 Update<TReport>(object updateOnly, Expression<Func<TReport,bool>> where) 
```

我想要做的是调用此方法，但使用匿名对象，例如：

```
Update(new {Name = "test"}, new {Id = id}) 
```

是否可以获取第二个匿名对象并将其转换为：

```
x => x.Id == id. 
```

所以我想要的是将新的 {Id = id} 转换为一个接受 TReport 并返回 bool 的函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:10:19.613

即使我同意 Daniel A. White 的观点，即这会使事情变得复杂，但我还是尝试了一些。

但这并不安全，因为你是`losing strong typing`. （你可以把你想要的任何东西放在一个匿名对象中：它没有链接到对象的“真实”属性......所以没有重构，没有检查......）

它没有经过真正的测试，所以不确定这是否是你想要的。您可以在“谓词对象”中拥有（如果有效）不同的对象：

```
new {Name="test"}, new{Id=1, Name="test2"}) 
```

所以，你可以有这样的东西：

```
public static class MyHelpers
{
        public static Expression<Func<TReport, bool>> CreatePredicate<TReport>(this object predicateObject)
        {
            var parameterExpression = Expression.Parameter(typeof(TReport), "item");
            Expression memberExpression = parameterExpression;
            var objectDictionary = MakeDictionary(predicateObject);
            foreach (var entry in objectDictionary.Where(entry => typeof(TReport).GetProperty(entry.Key) == null))
            {
               throw new ArgumentException(string.Format("Type {0} has no property {1}", typeof(TReport).Name, entry.Key));
            }
            var equalityExpressions = GetBinaryExpressions(objectDictionary, memberExpression).ToList();
            var body = equalityExpressions.First();
            body = equalityExpressions.Skip(1).Aggregate(body, Expression.And);

            return Expression.Lambda<Func<TReport, bool>>(body, new[] { parameterExpression });
        }
        private static IDictionary<string, object> MakeDictionary(object withProperties)
        {
            var properties = TypeDescriptor.GetProperties(withProperties);
            return properties.Cast<PropertyDescriptor>().ToDictionary(property => property.Name, property => property.GetValue(withProperties));
        }

        private static IEnumerable<BinaryExpression> GetBinaryExpressions(IDictionary<string, object> dic, Expression expression)
        {
            return dic.Select(m => Expression.Equal(Expression.Property(expression, m.Key), Expression.Constant(m.Value)));
        }
} 
```

用法，例如

```
public void Update<TReport>(object updateOnly, object predicateObject) {
   var predicate = predicateObject.CreatePredicate<TReport>();
   yourGenericApi.Update(updateOnly, predicate);
} 
```

编辑：当你失去强大的打字安全性时，你应该添加类似的东西

```
foreach (var entry in objectDictionary.Where(entry => typeof(TReport).GetProperty(entry.Key) == null))
{
    throw new ArgumentException(string.Format("Type {0} has no property {1}", typeof(TReport).Name, entry.Key));
} 
```

后

```
var objectDictionary = MakeDictionary(predicateObject); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:06:08.583

如果您希望函数返回一个特定的值，我认为您可以简单地执行以下操作：

```
bool desiredResult = true;
Update(new { Name = "test" }, x => desiredResult); 
```

# python - django-paypal 信号未触发

> ID：11776014
> 
> 赞同：0
> 
> 时间：2012-08-02T10:57:51.450
> 
> 标签：python, django, paypal, paypal-ipn, django-paypal

我已经尝试了几个小时来让我的信号与 django-paypal 一起工作。

这是我的 signals.py（在我的 urls.py 中导入）：

```
from django.dispatch import receiver
from paypal.standard.ipn.signals import payment_was_successful, payment_was_flagged

@receiver(payment_was_successful)
def confirm_admin_payment(sender, **kwargs):
    print 'SUCCESS: %s' % sender.payer_email

@receiver(payment_was_flagged)
def payment_flagged(sender, **kwargs):
    print "FLAGGED: %s" % sender.payer_email

print "signals.py has been imported" 
```

当我使用 PayPal 的 IPN 模拟器时，我知道交易有效，因为我可以进入数据库，查看 paypal_ipn 表并看到输入的交易很好​​，所以信号应该有效。

我也尝试过 dcramer 和 johnboxall 的 django-paypal 版本，但仍然没有乐趣。

我没有想法，我花了几个小时研究并试图解决这个问题。提前谢谢各位。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:16:56.577

请参阅付款交易中的错误/警告。仅当交易中没有标志时才会触发信号`payment_was_successful`，即使标志根本不重要（如果您的`settings.PAYPAL_RECEIVER_EMAIL`！= 交易接收者电子邮件）。

您可以在开始时使用 pdb 调试`standard.ipn.models.PayPalIPN.send_signals`方法，它会被触发吗？不要因为调试目的而修改第三方代码。

# compiler-errors - 正方体 OCR 3.0 + dll C#

> ID：11776017
> 
> 赞同：3
> 
> 时间：2012-08-02T10:58:01.313
> 
> 标签：compiler-errors, tesseract

我在 google 上找到了示例项目并下载并编译了示例 .net 项目。

1.  是否有可以找到填充的 tessdata 文件夹的位置，或者我必须训练图书馆？正如我正在评估的那样，如果我能找到一个预先填充的英语 tessdata 文件夹，我会更喜欢。

2.  示例项目确实打开了我的示例 jpeg 文件，但是它没有自动旋转。我认为这可能是因为 tessdata 文件夹中没有文件。这是一个正确的假设还是 tesseract dll 应该在加载图像时执行自动旋转

3.  我尝试打开灰度图像，但未能说明该像素不受支持。我找不到任何列出此类限制的文档。谁能帮我验证一下？

4.  基本上，我希望自动旋转通过传真/扫描等方式发送的文档——因此，如果有另一个我可以在 C# 项目中使用的开源替代方案，我也愿意接受这个想法。

更新 1：我 [在谷歌上得到了这个 tesseract](http://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-setup-3.01-1.exe&can=2&q=)

启动 cmd 提示符并启动 tesseract.exe，如下所示

```
>tesseract.exe myimage.tiff -l eng 
```

收到以下错误

```
Tesseract Open Source OCR Engine v3.01 with Leptonica
TIFFReadDirectory: Warning, TIFFstream: unknown field with tag 59932 (0xea1c) en
countered.
TIFFReadDirectory: Warning, TIFFstream: unknown field with tag 59932 (0xea1c) en
countered.
TIFFReadDirectory: Warning, TIFFstream: unknown field with tag 59932 (0xea1c) en
countered.
Page 0 
```

更新 2：解决了错误的问题，但是自动旋转似乎不会自动发生

# c# - smartfox 服务器未收到登录请求

> ID：11776022
> 
> 赞同：2
> 
> 时间：2012-08-02T10:58:17.220
> 
> 标签：c#, unity3d, smartfoxserver

我正在使用 SFS 2X 作为游戏服务器在 Unity (C#/.NET Api) 中制作游戏。当用户尝试登录时，我在日志中没有任何迹象表明客户端已发出登录请求。当游戏没有通知我发送登录请求时，这一点得到了确认，我确实得到了一个会话已创建的跟踪，该会话由于不活动而过期。这是服务器日志的一部分：

```
SocketReader bitswarm.sessions.DefaultSessionManager created: { Id: 21, Type: DEFAULT, Logged: No, IP: 116.71.185.89:52914 } on Server port: 9933 <---> 52914

SocketReader bitswarm.sessions.DefaultSessionManager Session removed: { Id: 21, Type: DEFAULT, Logged: No, IP: 116.71.185.89:52914 } 
```

在我随身携带的 iPad 上连接时我没有遇到任何问题。但是，当某个用户尝试通过他/她的 iPad 从他/她的国家/地区登录时，就会出现问题。

我有一个相关的问题：服务器如何在日志中确认收到登录请求？用户登录后是否会知道它？

在这方面的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T11:43:27.637

SmartfoxServer 2X 有一个管理工具，可以显示有多少用户登录。为了让您使用 adim 工具查看他们，您必须创建一个区域和一个房间，因为服务器将用户放在房间中，而不是您可以看到他们。

抱歉，如果我误解了您的问题，但我希望这些信息对您有用。

# wix - Windows 设置项目中的广告快捷方式与非广告快捷方式

> ID：11776023
> 
> 赞同：39
> 
> 时间：2012-08-02T10:58:17.460
> 
> 标签：wix, windows-installer, setup-project

我无法理解在 Shortcut 属性中使用属性 Advertise 的确切后果。有什么区别？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-02T11:32:34.817

广告的功能使用广告的快捷方式：

*   当按照宣传的方式安装某个功能时，它只在 Windows Installer 中注册；它的内容实际上并没有在机器上复制
*   当启动针对此广告功能中某些内容的广告快捷方式时，功能内容最终会复制到机器上

因此，宣传的功能和快捷方式是“广告”的一种形式。您的包向用户显示它具有可用的功能，并且仅在用户想要使用它时安装它。如果从未使用过快捷方式，则永远不会完全安装该功能。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2016-05-14T14:43:40.200

**非广告快捷方式（标准快捷方式）**是标准的 Windows 快捷方式。如果您右键单击它，您将看到目标字段指向将要启动的可执行文件。如果出于某种原因，该可执行文件丢失，则应用程序将失败。

**广告快捷方式（Windows Installer Shortcuts）**是一种特定于 Windows Installer 的技术。如果您右键单击广告快捷方式，则目标字段将显示为灰色。广告快捷方式支持广告和修复。

修复意味着如果快捷方式指向的可执行文件不存在，则 Windows 安装程序将修复应用程序并替换丢失的文件。事实上，它还会检查其他重要文件，标记为关键路径，如果其中任何一个丢失，它也会替换它们。

广告是一个过程，其中应用程序似乎已安装，快捷方式在那里，但应用程序并未实际安装。安装、文件和注册表项的复制仅在用户首次启动应用程序时进行。广告安装只会放下我们所谓的应用程序接口。应用程序接口是启动应用程序的任何方式。这可以是快捷方式、文件扩展名或 COM 接口。

[http://www.symantec.com/connect/articles/about-windows-installer-shortcuts](http://www.symantec.com/connect/articles/about-windows-installer-shortcuts)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-11T13:17:22.303

以下是广告快捷方式如何使用的更详细说明：

[http://www.advancedinstaller.com/user-guide/advertised-shortcuts.html](http://www.advancedinstaller.com/user-guide/advertised-shortcuts.html)。

这里是 MSDN 描述，它对我也非常有用 - 了解什么是广告以及如何正确使用广告功能（不是直接关于快捷方式，而是部分情况）：

[http://msdn.microsoft.com/en-us/library/windows/desktop/aa367548%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa367548%28v=vs.85%29.aspx) [http://msdn.microsoft.com/en-us/library/windows/desktop /aa369293%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa369293%28v=vs.85%29.aspx)

# javascript - 挣扎于 onUnload

> ID：11776024
> 
> 赞同：3
> 
> 时间：2012-08-02T10:58:22.767
> 
> 标签：javascript, onunload

我正在尝试编写一些 javascript 来询问用户，当他们离开页面时，他们是否想填写调查（尽管这可能很烦人！）。我认为我的解决方案是通过这个网站上的答案找到的。这是我目前拥有的似乎不起作用的代码：

```
<script language="javascript">

function comfirmsurv() {

var ConfirmStatus = confirm("We would love to receive your feedback on your experience of this page. Would you like to complete our short survey?");

if (ConfirmStatus == true) {

window.open("#");

}
else 
{window.close();} 
} 
}
window.onUnload=confirmsurv()

</script>
<body>
Test
</body> 
```

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:02:21.353

您正在分配调用函数的结果，而不是函数本身：

```
window.onunload = confirmsurv; // Note no () 
```

其他几个问题：

1.  Javascript 区分大小写，您所追求的属性是“onunload”，而不是“onUnload”。
2.  该函数的名称是“comfirmsurv”，但您分配的是“confirmsurv”
3.  `window.close()`: 你只能关闭你打开的窗口，不能关闭其他的。
4.  有一个额外的`}`。
5.  脚本元素的语言属性已被弃用十多年，类型属性是必需的，使用`type="text/javascript"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:14:19.390

unload 属性被错误地表述为`onUnload`而不是`onunload`。此外，代码到处都有太多错误。

浏览器的控制台日志提供了一个日志，您可以使用它来查找错误原因。

这是固定的脚本。

```
<SCRIPT>
function confirmsurv() {

  var ConfirmStatus = confirm("We would love to receive your feedback on your experience of this page. Would you like to complete our short survey?");

 if (ConfirmStatus == true) {
   window.open("#");
 } else {
   window.close();
 }

}

window.onunload=confirmsurv;
</SCRIPT> 
```

# php - Predis 给出“从服务器读取行时出错”

> ID：11776029
> 
> 赞同：24
> 
> 时间：2012-08-02T10:58:42.643
> 
> 标签：php, redis

我正在使用[predis](https://github.com/nrk/predis)，它订阅了一个频道并收听。它会引发以下错误（如下）并在 60 秒后完全消失。这肯定不是我的网络服务器错误或超时。

[这里](https://github.com/nrk/predis/issues/32)讨论了一个类似的问题。无法得到太多。

我尝试将 predis conf 文件中的 connection_timeout 设置为 0，但没有多大帮助。

此外，如果我继续使用（向它发送数据并处理）工人，它不会给出任何错误。所以它很可能在某个地方超时，而且也有联系。

这是我的代码片段，它可能会产生错误，因为如果将数据提供给工作人员，它会运行此代码并继续前进，之后不会产生错误。

```
$pubsub = $redis->pubSub();
$pubsub->subscribe($channel1);

foreach ($pubsub as $message) { //doing stuff here and unsubscribing from channel
} 
```

痕迹

```
PHP Fatal error:  Uncaught exception 'Predis\Network\ConnectionException' with message 'Error while reading line from the server' in Predis/Network/ConnectionBase.php:159 Stack trace:
#0 library/vendor/predis/lib/Predis/Network/StreamConnection.php(195): Predis\Network\ConnectionBase->onConnectionError('Error while rea...')
#1 library/vendor/predis/lib/Predis/PubSub/PubSubContext.php(259): Predis\Network\StreamConnection->read()
#2 library/vendor/predis/lib/Predis/PubSub/PubSubContext.php(206): Predis\PubSub\PubSubContext->getValue()
#3 pdf/file.php(16): Predis\PubSub\PubSubContext->current()
#4 {main}   thrown in Predis/Network/ConnectionBase.php on line 159 
```

也检查了 redis.conf 超时，它也被禁用。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-08-13T09:39:14.367

只需将`read_write_timeout`连接参数设置为 0 或 -1 即可解决此问题。例如

```
$redis = new Predis\Client('tcp://10.0.0.1:6379'."?read_write_timeout=0"); 
```

设置连接参数[记录在 README 中](https://github.com/nrk/predis#connecting-to-redis)。Redis 的作者[在 GitHub 上的一个问题](https://github.com/nrk/predis/issues/33#issuecomment-1395652)`read_write_timeout`中指出了参数与此错误的相关性，他在其中指出：

> 如果你在一个类似守护进程的脚本中使用 Predis，如果你想完全禁用超时，你应该设置`read_write_timeout`为（这个值适用于旧版本和新版本的 Predis）。`-1`另外，请记住，您必须通过`timeout = 0`在[redis.conf](https://github.com/antirez/redis/blob/2.2.10/redis.conf#L38)中设置来禁用 Redis 的默认超时，否则 Redis 将在 300 秒不活动后断开空闲客户端的连接。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-04T20:07:21.780

我有类似的问题，更好的解决方案不是将超时设置为 0，而是使用指数退避并设置上限和下限。将配置参数 connection_timeout 更改为 0 也将解决该问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-06-07T12:03:04.640

我得到了问题的解决方案。因此，应用程序服务器可以连接到另一台机器上的特定应用程序的端口是有限制的。这些端口已经耗尽。我们增加了限制，问题得到了解决。

我们是怎么知道这个问题的？在 php 中，我们在创建套接字时收到“无法分配请求的地址”错误（错误代码 99）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-12-09T10:40:24.183

我正在使用 Heroku，并通过从*Redis Heroku*切换到*Redis Enterprise*插件解决了这个问题，然后：

```
use Predis\Client as PredisClient; 
```

解决与 GuzzleHttp\Client 的冲突。你可以离开

> 作为 PredisClient

如果您不使用 GuzzleHttp，则行。

然后连接：

```
$redisClient = new PredisClient(array(
     'host' => parse_url(env('REDIS_URL'), PHP_URL_HOST),
     'port' => parse_url(env('REDIS_URL'), PHP_URL_PORT),
     'password' => parse_url(env('REDIS_URL'), PHP_URL_PASS)
) 
```

);

（您可以在 Heroku 配置变量中找到自动预填充的“REDIS_URL”）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-09-25T15:22:25.597

在*/etc/redis/redis.conf*，设置

```
timeout = 0 
```

# android - Sherlock 操作栏更改文本颜色

> ID：11776034
> 
> 赞同：6
> 
> 时间：2012-08-02T10:59:02.453
> 
> 标签：android, actionbarsherlock

我正在使用 sherlock 操作栏版本 4.1.0 *(2012-05-17)*。如何更改此屏幕截图中文本颜色的颜色？在实际设备上几乎不可读

![在此处输入图像描述](../Images/f10da11a3978ed3f991a6236d1dad47a.png)

我有这个主题

```
<style name="MyTheme" parent="@style/Theme.Sherlock.Light">
    <item name="android:textSize">20dp</item> 
</style> 
```

这在 AndroidManifest.xml

```
<application
        android:name="abc.MyApp"
        android:icon="@drawable/ic_launcher"
        android:logo="@drawable/logo"
        android:label="@string/app_name"
        android:theme="@style/MyTheme" 
        > 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-27T11:11:04.050

实际上，通过执行以下操作，我已经设法在 abs 4.2 中设置 SearchView 文本颜色的样式：

```
<style name="MyTheme" parent="Theme.Sherlock.Light">

    <item name="searchAutoCompleteTextView">@style/Widget.Styled.SearchAutocompleteTextView</item>

    <item name="queryHint">@string/Search</item>
    <item name="android:queryHint">@string/Search</item>

</style>

<style name="Widget.Styled.SearchAutocompleteTextView" parent="Widget.Sherlock.Light.SearchAutoCompleteTextView">
    <item name="android:textColor">YOU_COLOR_HERE</item>

</style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T09:59:56.183

我对 Sherlock 没有任何经验，但您是否尝试添加：

```
<item name="android:textColor">@color/my_color</item> 
```

夏洛克动作栏主题？

然后在你的 values/color.xml 你有颜色：

```
<color name="my_color">#ff00ff00</color> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T12:46:11.410

感谢这个[答案：更改 searchview 小部件的背景可绘制对象](https://stackoverflow.com/a/11669808/579646)

```
SearchManager searchManager = (SearchManager) a.getSystemService(Context.SEARCH_SERVICE);
SearchView searchView = new android.widget.SearchView(a.getApplicationContext());
int searchPlateId = searchView.getContext().getResources().getIdentifier("android:id/search_src_text", null, null);
// Getting the 'search_plate' LinearLayout.
AutoCompleteTextView searchPlate = (AutoCompleteTextView) searchView.findViewById(searchPlateId);
// Setting background of 'search_plate' to earlier defined drawable.
searchPlate.setTextColor(Color.BLACK);
... 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T10:32:19.113

用这个，就对了。:D

```
AutoCompleteTextView searchText = (AutoCompleteTextView) searchView.findViewById(R.id.abs__search_src_text);
searchText.setHintTextColor(getResources().getColor(color.black));
searchText.setTextColor(getResources().getColor(color.black)); 
```

# jquery - 如何更改 DropKick.js 默认淡入效果？

> ID：11776035
> 
> 赞同：3
> 
> 时间：2012-08-02T10:59:03.040
> 
> 标签：jquery, jquery-plugins

我只想显示（）它，我不想要淡入淡出（）效果，我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:30:36.527

您可以将控制淡入淡出时间的 startSpeed 设置为零，这基本上具有相同的效果`.show()`

`$("select").dropkick({startSpeed:0});`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:31:38.993

您是否尝试编辑 DropKick.js 并替换

```
.fadeIn(settings.startSpeed); 
```

和

```
.show(); 
```

# windows-8 - 使用 Javascript 在 Windows 8 中写入文件

> ID：11776038
> 
> 赞同：2
> 
> 时间：2012-08-02T10:59:12.297
> 
> 标签：windows-8

我正在创建一个 Windows 8 应用程序，我需要将有关应用程序的一些数据存储在应用程序内的文本文件中，我发现这个有用的教程[http://msdn.microsoft.com/en-us/library/windows/apps /hh464978.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh464978.aspx) 但它使用已知文件夹来存储文件在我的情况下我想将它存储在应用程序中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T14:20:15.747

我找到了答案，您可以使用

```
 Windows.Storage.ApplicationDataContainer localSettings = Windows.Storage.ApplicationData.Current.LocalSettings;
    Windows.Storage.StorageFolder localFolder = Windows.Storage.ApplicationData.Current.LocalFolder; 
```

然后在写入和读取文件中使用它

[这个链接很有用](http://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.applicationdata.localfolder.aspx#Y735)

# zedgraph - 我可以使用 zedgraph 在每个堆叠条旁边创建一个条吗？

> ID：11776039
> 
> 赞同：0
> 
> 时间：2012-08-02T10:59:15.040
> 
> 标签：zedgraph

我目前有一些使用 zedgraph 创建的堆叠条形图，效果很好。堆积图显示成本，堆积条形图将它们分成不同的部分。我现在想在每个堆叠条旁边添加一个条以显示该堆叠条的可用容量？可以用 Zedgraph 做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:19:17.300

在[Zedgraph wiki](http://goorman.free.fr/ZedGraph/zedgraph.org/wiki/index4875.html?title=Main_Page)上有一个[示例](http://goorman.free.fr/ZedGraph/zedgraph.org/wiki/index9b40.html?title=Percent_Stack_Bar_Demo)，在同一个图表中包含堆叠条和线曲​​线，线曲线与 Y2 轴相关联。调整这个例子应该相当简单，用单条代替直线曲线。

# php - javascript 或 jquery 中是否有与 PHP array_key_exists 相同的值

> ID：11776042
> 
> 赞同：26
> 
> 时间：2012-08-02T10:59:18.250
> 
> 标签：php, javascript, jquery

> **可能重复：**
> [检查 Javascript 中是否存在关联数组键](https://stackoverflow.com/questions/1098040/checking-if-an-associative-array-key-exists-in-javascript)

我有一个 PHP 代码块。出于某种目的，我将其转换为 JavaScript 块。

我有 PHP

```
if(array_key_exists($val['preferenceIDTmp'], $selected_pref_array[1])) 
```

现在我想在 jQuery 中做到这一点。是否有任何内置功能可以做到这一点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-02T11:01:45.897

请注意，对象（具有命名属性）和关联数组在 javascript 中是相同的。

您可以使用[`hasOwnProperty`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/HasOwnProperty)检查对象是否包含给定属性：

```
o = new Object();  
o.prop = 'exists'; // or o['prop'] = 'exists', this is equivalent 

function changeO() {  
  o.newprop = o.prop;  
  delete o.prop;  
}  

o.hasOwnProperty('prop');   //returns true  
changeO();  
o.hasOwnProperty('prop');   //returns false 
```

或者，您可以使用：

```
if (prop in object) 
```

细微的区别在于后者检查原型链。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-02T11:03:23.843

在 Javascript 中......

```
if(nameofarray['preferenceIDTmp'] != undefined) {
    // It exists
} else {
    // Does not exist
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T11:01:33.697

[http://phpjs.org/functions/array_key_exists:323](http://phpjs.org/functions/array_key_exists:323)

对于迁移到 js 的 PHP 程序员来说，这是一个很棒的网站。

# c++ - 如何将像素设置为 cv::Mat 对象中的值？

> ID：11776043
> 
> 赞同：19
> 
> 时间：2012-08-02T10:59:18.630
> 
> 标签：c++, opencv

我需要将 Mat 对象中的单个像素设置为某个值。

怎么做？

我在 Visual Studio 2010 中使用 openCV 2.1。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-08-03T12:30:58.297

如果您正在处理 uchar (CV_8U) 矩阵：

```
 mat.at<uchar>(row, column, channel) = val; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-09-06T05:06:14.910

事实上，如[OpenCV 教程](http://docs.opencv.org/doc/tutorials/core/how_to_scan_images/how_to_scan_images.html#performance-difference)中所述，有 4 种方法可以获取/设置 cv::Mat 对象中的像素值。

@Régis 提到的一个在 OpenCV 教程中称为**On-The-Fly RA 。**这是最方便的，但也很耗时。

根据[教程的实验](http://docs.opencv.org/doc/tutorials/core/how_to_scan_images/how_to_scan_images.html#performance-difference)，它还列出了所有 4 种方法的性能差异。

*   高效方式 79.4717 毫秒
*   迭代器 83.7201 毫秒
*   **On-The-Fly RA** 93.7878 毫秒
*   LUT 函数 32.5759 毫秒

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-05-26T02:34:00.720

这是一个例子：

```
vector<cv::Point3f> xyzBuffer;
cv::Mat xyzBuffMat = cv::Mat(307200, 1, CV_32FC3);
for (int i = 0; i < xyzBuffer.size(); i++) {
    xyzBuffMat.at<cv::Vec3f>(i, 1, 0) = xyzBuffer[i].x;
    xyzBuffMat.at<cv::Vec3f>(i, 1, 1) = xyzBuffer[i].y;
    xyzBuffMat.at<cv::Vec3f>(i, 1, 2) = xyzBuffer[i].z;
} 
```

# android - 再次执行之前的 EditText 侦听器延迟

> ID：11776048
> 
> 赞同：1
> 
> 时间：2012-08-02T10:59:43.407
> 
> 标签：android, delay, execute

我的应用程序有问题 它在向 EditText 字段发送垃圾邮件后崩溃 如何在执行“DoSearch”之前向代码添加延迟？

即，当编辑EditBox时，应用程序必须空闲1秒，如果它再次被编辑，如果为真，则等待另一秒，如果为假，则执行DoSearch

希望你能理解我的情况

```
et = (EditText) findViewById(R.id.Searchfield);
et.addTextChangedListener(new TextWatcher() {
    public void afterTextChanged(Editable s) { }
    public void beforeTextChanged(CharSequence s, int start, int count, int after) { }
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        new DoSearch().execute();
    }
}); 
```

**编辑**：好的，我解决了问题，我将 int searchCount 定义为 0 每次更改 TextEdit 时，它被称为延迟处理程序延迟处理程序仅通过检查 searchCount 是否等于最后一个延迟处理程序调用在最后一个延迟处理程序调用上执行 DoSearch

```
et = (EditText) findViewById(R.id.SearchCoupon);
et.addTextChangedListener(new TextWatcher() {
    public void afterTextChanged(Editable s) { }
    public void beforeTextChanged(CharSequence s, int start, int count, int after) { }
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        searchCount++;
        SearchHandler.sendMessageDelayed(SearchHandler.obtainMessage(searchCount), 1000);   
    }
}); 

private Handler SearchHandler = new Handler() {
    public void handleMessage(android.os.Message msg) {
        if(msg.what == searchCount) {
            new DoSearch().execute();
            System.out.println("Success" + searchCount + "=" + msg.what);
        }
        else {
            System.out.println(msg.what + " - " + searchCount);
        }
    }
}; 
```

这个方法有没有改进的地方？还是它实际上是一种有效的方法？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-02T11:03:01.113

添加一个[延迟的 Handler](http://developer.android.com/reference/android/os/Handler.html#sendMessageDelayed%28android.os.Message,%20long%29)，每次调用 onTextchanged 从处理程序中删除上一条消息并保持 1 秒延迟的发布。如果在一秒钟内调用 ontextChanged 则之前的 Dosearch 将被取消

# ekeventkit - EventKit：有什么方法可以从 EKEventEditViewController 中删除被邀请者

> ID：11776049
> 
> 赞同：1
> 
> 时间：2012-08-02T10:59:45.243
> 
> 标签：ekeventkit, ekevent

根据要求，我只需要事件存储中的最少输入即可将事件添加到日历。

所以我想隐藏/删除受邀者并从 EKEventEditViewController 重复。

有什么办法可以做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T07:51:42.737

我想您是在谈论 EKEventEditViewController 中受邀者和重复选项的显示吗？

在查看了 EKEventEditViewController 的当前 API 之后，它看起来似乎没有办法。

但是，您可以创建一个自定义视图控制器，复制 EKEventEditViewController 的外观减去您不感兴趣的事件选项。您需要构建接口、编写视图控制器和委托接口。这比使用 EKEventEditViewController 更努力，但我看不到你以任何其他方式实现你想要的。

# java - JavaScript 和 Servlet 之间的通信

> ID：11776055
> 
> 赞同：0
> 
> 时间：2012-08-02T11:00:01.950
> 
> 标签：java, ajax, jsp, jquery

在我的 JSP 页面中，我有`DIV`.

```
<div id="100">
ALI
</div> 
```

当我点击这个`DIV`...

```
$("#100").click(function(){

}); 
```

...我需要将 , 的值发送`id 100`到 servlet，以便 servlet 生成一些数据库 java 代码，并返回例如 1 或 0。我该怎么做？这是正确的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:04:57.697

使用 Ajax，您应该使用类似于以下的 URL 调用您的服务器：

```
http://localhot:8080/youAppContext/yourServer?id=100 
```

然后，在服务器端，您应该检索将在请求中名为“id”的值

有许多工具，如 jQuery，可以帮助您执行 Ajax 请求。

**已编辑**

好吧，[在这里](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_ajax2)您可以找到一个使用 jQuery 的非常简单的 Ajax 示例。在示例中，您应该调用一个 URL（如上所述），而不是调用一个文件 (test1.txt)。当然，您需要编写一些 JS 代码来构建您的 URL（其中 id 是一个变量）。一旦任务在 servlet 端完成，您可以返回任何内容，例如：“完成”并显示或不显示此信息的 HTML，就像它在示例中所做的那样。

看看这个[网站](http://www.w3schools.com/jquery/jquery_ajax.asp)，有很多链接可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:05:01.073

使用获取值

```
var value = $("#100").html(); 
```

[并使用 AJAX](https://stackoverflow.com/questions/10752496/send-parameter-to-java-server-pages-jsp-using-jquery)将其传递给servlet

# c# - 如何验证大型 xml 流，其方式是创建流读取块并发送到其他线程进行处理，同时验证继续

> ID：11776056
> 
> 赞同：0
> 
> 时间：2012-08-02T11:00:08.223
> 
> 标签：c#, xml, wcf, sockets, tcp

我正在寻找在以下情况下验证大型 XML 文件的有效方法：

1) 文件从网络接收。

2) 需要根据提供的 DTD 验证 xml。

3）还有其他线程正在运行，它们将处理节点信息可配置的文件的特定节点中的数据。

4) 验证不能阻塞其他线程等待整个文件验证。

由于这是一个长时间运行的进程，xml 文件将在端口上连续接收数小时、数天或数月，中间有未知的中断。

我需要一个解决方案

1）不要让阅读器/验证器读取到文件末尾，然后发送验证结果。

2）由于Data节点包含所有数据，停止验证器到数据节点开始，开始只读取固定数量的数据，并将读取的数据发送到常设线程异步处理，让验证器继续读取和发送。

上述方法正确吗？是否存在这样的 xml 验证器？如果不是如何创建它？我尝试在一个类中继承 IXmlLineInfo、IXmlNamespaceResolver，但这似乎是实现它们的一项艰巨工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:05:29.463

[XmlReader可以解析文件并使用](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.aspx)[XmlReaderSettings](http://msdn.microsoft.com/en-us/library/system.xml.xmlreadersettings.aspx "XmlReaderSettings")进行内联验证。

```
XmlReaderSettings settings = new XmlReaderSettings();
settings.ValidationType = ValidationType.Schema;
settings.Schemas.Add(null, path);
settings.ValidationFlags |= XmlSchemaValidationFlags.ProcessInlineSchema;
settings.ValidationFlags |= XmlSchemaValidationFlags.ProcessSchemaLocation;
settings.ValidationFlags |= XmlSchemaValidationFlags.ReportValidationWarnings;
settings.ValidationEventHandler += new System.Xml.Schema.ValidationEventHandler(ValidationEventHandler); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-03T09:02:46.583

我认为可以使用 Saxon-EE 中的验证和流式处理功能（当然可以从 C# 调用）来解决这个问题，但这是一项艰巨的要求，并且产生设计超出了典型的 StackOverflow 答案的范围：它是这可以证明投资几天的咨询是合理的。

我实际上在这里考虑的是 XSD 验证而不是 DTD 验证。从您的 DTD 生成 XSD 很容易。

可能解决方案就这么简单：

```
<xsl:stylesheet version="3.0" ...>
<xsl:mode streamable="yes"/>

<xsl:template match="record">
  <xsl:try>
    <xsl:result-document href="{@id}.xml" validation="strict">
      <xsl:copy-of select="."/>
    </xsl:result-document>
    <xsl:catch/>
  </xsl:try>
</xsl:template>

</xsl:stylesheet> 
```

这显然不满足您的要求的唯一部分是它全部在一个线程中运行。我们在 Saxon 中具有多线程功能，但它们不能很好地与流混合；但是，随着对要求的更详细了解，应该有解决方案。

# c# - 闪烁工具条按钮

> ID：11776057
> 
> 赞同：2
> 
> 时间：2012-08-02T11:00:15.043
> 
> 标签：c#, winforms, toolstripbutton

我正在使用`ToolStrip`带有多个`ToolStripButton`s 的 a。

我想要的是能够闪烁其中一个按钮以引起用户的注意。

例如，如果他们对信息进行了更改并且需要单击“**保存**”按钮。

如果这是一个普通按钮，我可以使用 a 来执行此操作`Timer`并定期更改，`BackColor`但是这不适用于 a `ToolStrip`。

我可以创建一个 Renderer 子类并将其分配给 ，`ToolStrip`但这似乎只在特定情况下使用 - 即它是事件驱动的。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T12:07:26.860

好吧，只需使用自定义渲染器，您就可以更改按钮背景的颜色。有一个让它闪烁的计时器。在您的项目中添加一个新类并粘贴以下代码：

```
using System;
using System.Drawing;
using System.Collections.Generic;
using System.Windows.Forms;

class BlinkingButtonRenderer : ToolStripProfessionalRenderer {
    public BlinkingButtonRenderer(ToolStrip strip) {
        this.strip = strip;
        this.strip.Renderer = this;
        this.strip.Disposed += new EventHandler(strip_Disposed);
        this.blinkTimer = new Timer { Interval = 500 };
        this.blinkTimer.Tick += delegate { blink = !blink; strip.Invalidate(); };
    }

    public void BlinkButton(ToolStripButton button, bool enable) {
        if (!enable) blinkButtons.Remove(button);
        else blinkButtons.Add(button);
        blinkTimer.Enabled = blinkButtons.Count > 0;
        strip.Invalidate();
    }

    protected override void OnRenderButtonBackground(ToolStripItemRenderEventArgs e) {
        var btn = e.Item as ToolStripButton;
        if (blink && btn != null && blinkButtons.Contains(btn)) {
            Rectangle bounds = new Rectangle(Point.Empty, e.Item.Size);
            e.Graphics.FillRectangle(Brushes.Black, bounds);
        }
        else base.OnRenderButtonBackground(e);
    }

    private void strip_Disposed(object sender, EventArgs e) {
        blinkTimer.Dispose();
    }

    private List<ToolStripItem> blinkButtons = new List<ToolStripItem>();
    private bool blink;
    private Timer blinkTimer;
    private ToolStrip strip;
} 
```

带有包含按钮的工具条的表单中的示例用法：

```
public partial class Form1 : Form {
    public Form1() {
        InitializeComponent();
        blinker = new BlinkingButtonRenderer(toolStrip1);
    }
    private void toolStripButton1_Click(object sender, EventArgs e) {
        blink = !blink;
        blinker.BlinkButton(toolStripButton1, blink);
    }
    private bool blink;
    private BlinkingButtonRenderer blinker;
} 
```

# python - 从静态方法调用非静态方法

> ID：11776060
> 
> 赞同：1
> 
> 时间：2012-08-02T11:00:24.210
> 
> 标签：python, plone

我有一个类和 portal_type `Person`，其中有 2 个方法：

```
class Person(BaseContent):
    def print_all(self):
        catalog = getToolByName(self, "portal_catalog")
        results = catalog(portal_type = 'Person')
        final_result = ''
        for result in results:
            final_result += result.getObject().print_person()
        return final_result

    def print_person(self):
        return self.name 
```

但我意识到它`print_all`与任何对象都没有关联，所以它应该是静态方法。我想要做的是获取该人的所有实例并调用 print_person()。但问题是：在我将 print_all 方法设为静态方法后，由于没有 self 对象，我应该在目录中写什么。例如现在我不能写

```
catalog = getToolByName(self, "portal_catalog") 
```

我想要类似的东西：

```
@staticmethod
def print_all():
    instance = Person()
    catalog = getToolByName(instance, "portal_catalog")
    .
    .
    . 
```

但它给了我`'invalid syntax'`错误`instance = Person()`！我希望我的问题很清楚，任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:03:49.583

您可以替换`self`为`context`，如下所示：

```
# this is needed only if you don't have a context to pass
from zope.app.component import hooks

def print_all(context=None):
    if context is None:
        context = hooks.getSite()
    catalog = getToolByName(context, "portal_catalog")
    results = catalog(portal_type = 'Person')
    final_result = ''
    for result in results:
        final_result += result.getObject().print_person()
    return final_result 
```

# spring-ws - 将 spring-ws 实现转换为 spring-integration-ws 实现

> ID：11776062
> 
> 赞同：3
> 
> 时间：2012-08-02T11:00:31.843
> 
> 标签：spring-ws, spring-integration, spring-jms

我有一个使用 spring-ws 的 Web 服务（服务器端）实现。我想更改我的代码以使用 spring-integration-ws（ws:inbound-gateway 和 channels）。我已经尝试过示例，但仍然不确定是否可以转换我的实现。简而言之，我正在使用@Endpoint、@PayloadRoot、PayloadRootAnnotationMethodEndpointMapping 和 JMS（作为传输）。请在下面找到我的实现：

**端点类（MyEndpoint.java）：**

```
@Endpoint
public class MyEndpoint {
    @PayloadRoot(localPart="getUserRequest", namespace="http://play.zahid.springint/Jibx")
    public GetUserResponse getUserResponse(GetUserRequest request){
        log.info("Start getUserResponse " + request);
        GetUserResponse response = new GetUserResponse();

        User user = new User();
        user.setFirstName(request.getFirstName());
        user.setLastName(request.getFirstName() + " Last");
        response.setUser(user);

        log.info("End getUserResponse " + response);
        return response;
    }

    @PayloadRoot(localPart="sayHiUserRequest", namespace="http://play.zahid.springint/Jibx")
    public SayHiResponse sayHiUserResponse(SayHiUserRequest request){
        log.info("Start sayHiUserResponse " + request);
        SayHiUserResponse response = new SayHiUserResponse();

        response.setResponse("Hi " + request.getFirstName() + " " + request.getLastName());

        log.info("End sayHiUserResponse " + response);
        return response;
    }   
} 
```

**spring xml文件（applicationContext.xml）：**

```
<bean id="listenerContainer"
        class="org.springframework.jms.listener.DefaultMessageListenerContainer">
        <property name="connectionFactory" ref="mqCachedConnectionFactory" />
        <property name="destination" ref="defaultDestination" />
        <property name="messageListener">
            <bean class="org.springframework.ws.transport.jms.WebServiceMessageListener">
                <property name="messageFactory" ref="messageFactory"/>
                <property name="messageReceiver" ref="messageReceiver" />
            </bean>
        </property>
        <property name="concurrentConsumers" value="1" />
        <property name="acceptMessagesWhileStopping" value="false" />
        <property name="recoveryInterval" value="10000" />
        <property name="cacheLevelName" value="CACHE_CONSUMER" />
    </bean>

    <bean id="messageFactory" class="org.springframework.ws.soap.saaj.SaajSoapMessageFactory" />    

    <bean id="messageReceiver" class="org.springframework.ws.soap.server.SoapMessageDispatcher">
        <property name="endpointAdapters">
            <list>
                <bean id="endpointAdapter" class="org.springframework.ws.server.endpoint.adapter.GenericMarshallingMethodEndpointAdapter">
                    <constructor-arg ref="marshaller" />
                </bean>
            </list>
        </property>         
    </bean>

    <bean class="org.springframework.ws.server.endpoint.mapping.PayloadRootAnnotationMethodEndpointMapping" /> 
```

为简单起见，我删除了不必要的代码和 xml 配置。

**无论如何要保持我的端点类（MyEndpoint.java）原样并使用spring-integration-ws支持（ws：inbound-gateway和channel）？**

如果您需要更多信息，请告诉我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T14:42:53.623

> 无论如何要保持我的端点类（MyEndpoint.java）原样并使用spring-integration-ws支持（ws：inbound-gateway和channel）？

是的你可以。

我将尝试为您的情况解释一个简单的 integration-ws 实现：

**应用程序上下文.xml：**

```
<bean id="endpointMappings"
        class="org.springframework.beans.factory.config.ListFactoryBean"
        lazy-init="true">
        <property name="sourceList">
            <list>
                <ref bean="uriEndpointMapping"/>
            </list>
        </property>
</bean>

<bean id="uriEndpointMapping"
        class="org.springframework.ws.server.endpoint.mapping.UriEndpointMapping"
        p:defaultEndpoint-ref="ws-inbound-gateway">
        <property name="mappings">
            <props>
                <prop key="${yourEndPointUrl}">ws-inbound-gateway</prop>
            </props>
        </property>
</bean>

<int-ws:inbound-gateway id="ws-inbound-gateway"
                        request-channel="ws-request-channel"
                        reply-channel="ws-response-channel"
                        error-channel="ws-error-channel"
                        marshaller="marshaller"
                        unmarshaller="marshaller"/>

<int:channel id="ws-request-channel"/>
<int:channel id="ws-response-channel"/>
<int:channel id="ws-error-channel"/>

<int:chain input-channel="ws-request-channel" output-channel="ws-response-channel">
    <int:service-activator ref="yourBean" method="getUserResponse"/>
</int:chain> 
```

这里有几点。你需要定义一个bean，MyEndpoint类型，我这里命名为*yourBean*。
*yourEndPointUrl定义**getUserResponse*方法的端点 URL 。
我在一个链中定义了 service-activator，你可以在这个链中添加日志或其他东西来丰富你的处理机制。
您还需要有一个路由器来将您的请求路由到您的 bean 的不同方法中。

# c# - 对象引用未设置为对象实例 - BaseStream.Seek

> ID：11776064
> 
> 赞同：1
> 
> 时间：2012-08-02T11:00:32.733
> 
> 标签：c#, asynchronous

在 BaseStream.Seek 的以下代码中，我收到运行时错误 NullReferenceException 未被用户代码处理。对象引用未设置为对象的实例。

我该如何解决这个问题？

```
public void GoButton_Click(object sender, System.EventArgs e)
{
    IAsyncResult ar = DoSomethingAsync(strURL, strInput);
    Session["result"] = ar;
    Response.Redirect("wait1.aspx");
}

private IAsyncResult DoSomethingAsync(string strURL, string strInput)
{
    DoSomethingDelegate doSomethingDelegate = new DoSomethingDelegate(DoSomething);
    IAsyncResult ar = doSomethingDelegate.BeginInvoke(strURL, strInput, new AsyncCallback(MyCallback), null);
    return ar;
}

private delegate void DoSomethingDelegate(string strURL, string strInput);

private void MyCallback(IAsyncResult ar)
{
    AsyncResult aResult = (AsyncResult)ar;
    DoSomethingDelegate doSomethingDelegate = (DoSomethingDelegate)aResult.AsyncDelegate;
    doSomethingDelegate.EndInvoke(ar);
}

private void DoSomething(string strURL, string strInput)
{
    int i = 0;
    for (i = 0; i < 1000; i++)
    {
        m_streamWriter.BaseStream.Seek(0, SeekOrigin.End);
        m_streamWriter.WriteLine("{0} ", MethodCall(strURL, strInput));
        m_streamWriter.Flush();
        m_streamWriter.Close();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:40:46.817

您正在关闭流，然后尝试在 for 循环的下一次迭代中对其调用 Seek() - 这看起来很适合作为异常的来源

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:15:22.287

```
for (i = 0; i < 1000; i++) 
    { 
        m_streamWriter.BaseStream.Seek(0, SeekOrigin.End); 
        m_streamWriter.WriteLine("{0} ", MethodCall(strURL, strInput)); 
    } 
    m_streamWriter.Flush(); 
    m_streamWriter.Close(); 
```

尝试将 m_streamWriter.Close 移出循环。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T12:08:50.540

您正在尝试`Seek`打开和`WriteLine`关闭流。

编辑：哦，伊恩更快。

# jquery - jQuery News Ticker - 平滑启动

> ID：11776067
> 
> 赞同：0
> 
> 时间：2012-08-02T11:00:48.303
> 
> 标签：jquery, javascript-events

编辑：为了明确目标，当文档准备好并且第一个动画开始时，最终代码应该干净地淡入淡出，代码有一个小的更新和一个演示[http://jsfiddle.net/pushplaybang/aFSJk/](http://jsfiddle.net/pushplaybang/aFSJk/) 虽然开始仍然有点波涛汹涌，但它是一个进步

我目前正在为推荐构建一个代码，总体来说效果很好，除了我试图在页面加载后使用 setTimout 淡入代码，而使用 setTimout 会在页面加载时停止显示第一个项目，但它并没有像我预期的那样轻轻淡入，而是突然卡入到位。

有人可以纠正我这样做的方式吗？有没有更好的方法让它淡入淡出？

请注意，以下内容将被包装在文档就绪函数中，并且在随附的 CSS 中，容器最初设置为 display:none 。

```
function bangingTicker(container,element) {

    var tickContainer = $(container);

    setTimeout(function(){
    tickContainer.fadeIn(1000);
    },6200);

        function tick(){
            var tickElem = tickContainer.children(element);
            tickElem.eq(1).siblings().animate({
                opacity: 0
                },400, function() {
                    tickContainer.stop(true,true).delay(10).animate({
                    'margin-top': 120
                    },0,function() {
                        tickContainer.delay(100).animate({
                        'margin-top': 20
                        },8000);
                    });
                        tickElem.first().appendTo(tickContainer);
                        tickElem.eq(1).delay(200).animate({
                            opacity: 1
                        },400);
                    });

        }

        setInterval(function(){ tick () }, 6000);

}

bangingTicker('#testi_ticker','li'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:22:08.037

试试这个[jsfiddle](http://jsfiddle.net/RzMTj/1/)。这是你需要的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T13:59:32.340

在今天工作了一段时间之后，我已经让它以我想要的方式工作，虽然我仍然觉得代码可以改进 - 我希望尽可能少地依赖 css / html，但它可以工作并且看起来也很棒。

看看这个 js fiddle。 [http://jsfiddle.net/pushplaybang/aFSJk/3/](http://jsfiddle.net/pushplaybang/aFSJk/3/)

总结是：

*   一起删除 setTimout

*   同时运行一次 tick 函数来设置 setInterval 函数

*   这会在动画开始之前停止延迟。

*   将整个刻度函数包装在对fadeIn 的回调中

*   在子元素的 css 中将不透明度设置为 0，以便它们仅由 tick 函数淡入

# jquery - 另一个图像中的轮播图像

> ID：11776068
> 
> 赞同：0
> 
> 时间：2012-08-02T11:00:48.570
> 
> 标签：jquery, css, twitter-bootstrap

我的 twitter 引导轮播运行良好。但是，我想让轮播图像在另一个图像（如计算机显示器）内旋转。

如何让图像在另一个图像中旋转并使所有内容完美排列？

我什至不知道如何开始尝试这个。

# bezier - 来自样本点的三次贝塞尔曲线

> ID：11776069
> 
> 赞同：3
> 
> 时间：2012-08-02T11:00:49.943
> 
> 标签：bezier, curve-fitting

采样点以固定采样率（例如 1s=25 帧）从飞行器中获取，它包含 x、y、z 位置。

要求是导入点列表并编辑曲线，然后将其导出到新的点列表。我想使用**三次贝塞尔曲线**来显示点，问题是：

1.  飞行路径是任意的，能不能一直画成贝塞尔曲线？
2.  如何确认**顶点**和**控制**点？

顶点和控制点的原因是为了编辑，我想拖动控制点来修改曲线。

我是这个领域的新手，感谢任何建议或示例代码。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-19T15:02:47.427

三次贝塞尔样条曲线不适合任意数字化曲线。如果三次贝塞尔样条曲线以不可接受的平方误差逼近您的曲线，则有两种选择：

1.  将原始曲线分割成段（例如，曲线弯曲处），然后使用三次贝塞尔样条拟合段。有[自动拟合数字化曲线的算法的描述](http://iut-arles.univ-provence.fr/web/romain-raffin/sites/romain-raffin/IMG/pdf/PSchndeider_An_Algorithm_for_automatically_fitting_digitized_curves.pdf)

2.  使用比三次更高阶的贝塞尔样条，它可以拟合任何连续的平滑曲线。这将导致迭代过程以找到最小阶贝塞尔样条曲线以可接受的误差拟合曲线。

# javascript - 日期不能在高位图上显示

> ID：11776073
> 
> 赞同：1
> 
> 时间：2012-08-02T11:00:57.367
> 
> 标签：javascript, highcharts

我很难在基本高位图表上显示用日期分隔的字符串

我正在从 twitter 获取推文并将其保存到数组中，然后将数组转换为用逗号和引号分隔的字符串。
不幸的是，我无法在图表上显示它们，我不知道我做错了什么。

```
 function search(){
    var value = $('#box').val();
    var array=[];
    var dateArray = [];
    var dateString;
    if (value!==""){$.getJSON("",
      function(data){

   $.each(data.results, function(i, item){
      var user=item.from_user;
      var created_at=new Date(item.created_at);
      var month = created_at.getMonth();
      var day = created_at.getDate();
      var year = created_at.getFullYear();
      var created= day +'/'+ month+ '/'+ year;
      array.push({date:created,username:user});
     });
    //    console.log(array);
    for (var i in array) {
        dateArray.push(array[i].date);
            }  
    dateString="'" + dateArray.join("','") + "'";
    console.log(dateString);
    });
      }
    var chart;
    chart = new Highcharts.Chart({
    chart: {
        renderTo: 'container',
        type: 'line',
        marginRight: 130,
        marginBottom: 25
    },
    title: {
        text: 'Monthly Average Temperature',
        x: -20 //center
    },
    subtitle: {
        text: 'Source: WorldClimate.com',
        x: -20
    },
    xAxis: {
        categories: [dateString]
    }, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T13:19:13.143

[修复了 JsFiddle](http://jsfiddle.net/yPU67/55/)

您的 x 轴参数应如下所示：

```
xAxis: {
        categories: dateString
    }, 
```

阿尔斯，只是改变这个:-)

```
for (var i in array) {
    dateString.push(array[i].date);
}  

highchart(dateString); 
```

哦，你当然应该改成这个。

```
<input type="text" id="box" value="a"/> 
```

**额外调查信息：** 看起来（在旧情况下）

```
console.log(stringArray);
highchart(stringArray); 
```

是空的。你会通过吗

```
highchart(["ab", "b", "c"]); 
```

那你就没事了。这是因为您传递的是一个空数组，您是在获得 JSON 数据之前创建图表。因此，我将创建移至 JSON 函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T13:01:16.047

为什么不使用 xAxis 作为[datetime](http://www.highcharts.com/ref/#xAxis--type)：

```
xAxis: {
    type: 'datetime'
}, 
```

将 twitter 数据中的日期解析为 JS 时间，并将类似以下的内容作为您的系列数据数组：

```
[[<jstime1>, "big cool tweet1"], [<jstime2>, "big cool tweet2"]] 
```

# google-chrome - chrome 根据 URL 选择要使用的网络连接

> ID：11776076
> 
> 赞同：2
> 
> 时间：2012-08-02T11:01:06.510
> 
> 标签：google-chrome

我不确定要问哪个 StackExchange，所以我将从这个开始，如果被否决，我将删除该问题。

我想让 Chrome 根据 URL 选择要使用的网络连接。

例如。如果我想访问 www.bob.com，请使用 wifi。如果我想访问 www.jane.com，请使用有线连接。

为什么我听到你问？因为我在不同的连接上获得不同的特权。

我看过 Switchy，但它只对 VPN 连接进行连接切换。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T13:06:41.800

已经有一段时间了，我现在找到了解决方案。

强制绑定IP

[http://www.r1ch.net/stuff/forcebindip/](http://www.r1ch.net/stuff/forcebindip/)

下载它，将其粘贴在 Windows\System32 文件夹中。

找到您要使用的网卡的 GUID（通过 RegEdit）并运行此命令...

C:\Windows\System32\ForceBindIP.exe {5CBB6FC0-3C9D-43C4-A166-0CB41387F7E8} "C:\Program Files (x86)\Mozilla Firefox\firefox.exe"

宾果游戏，Firefox 只绑定到无线网卡。

为什么？因为工作中的无线网络是不受限制的，所以有线是受限制的。因此，当我想要访问 Google 承诺解决我所有问题的博客条目时，就该启动 Firefox。

# c# - 无法反序列化 64 位对象

> ID：11776078
> 
> 赞同：-3
> 
> 时间：2012-08-02T11:01:18.877
> 
> 标签：c#, .net, serialization

如果我以 64 位运行应用程序，当我尝试使用 BinaryFormatter 反序列化对象时出现以下异常

异常未找到反序列化类型对象的构造函数

如果我强制应用程序在 32 位模式下运行，它会完美运行。我正在反序列化的对象实现了 ISerializable 接口。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:40:22.880

这不太可能与 64 位有关。一个例子会有很长的路要走，但是：在 and 的情况下`BinaryFormatter`，`ISerializable`您还需要提供一个构造函数，以（作为参数）`SerializationInfo`and `StreamingContext`。这听起来像是一种或另一种方式，你的类型缺少这个。所以：确保它在那里。

# php - 从数组中删除值

> ID：11776084
> 
> 赞同：1
> 
> 时间：2012-08-02T11:01:36.177
> 
> 标签：php

我有数组：

```
$array = array('aaa', 'bbb', 333, 'ddd', 555, '666'); 
```

我想删除 key > 3 的所有值；

最好的方法是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-02T11:03:28.450

```
$array = array_slice($array, 0, 3); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:03:20.627

您可以使用 array_slice()[请参阅此处的文档](http://php.net/manual/en/function.array-slice.php)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-02T11:03:37.720

您可以使用 foreach 循环

```
foreach($array as $key => $image) {
    if($value > 3) {
        unset($array[$key]);
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-03T11:32:21.107

`array_splice($array, 3);`

可能这将是最简单的方法。

# wordpress - 移动pdf文件的htaccess规则？

> ID：11776085
> 
> 赞同：2
> 
> 时间：2012-08-02T11:01:36.477
> 
> 标签：wordpress, apache, .htaccess

我试过了，我真的……我屈服了。Wordpress 和 htaccess ……哦，痛苦。

旧静态站点的根目录中包含 pdf、doc、xls 和 zip 文件。我已将所有文件作为媒体项加载，因此它们都位于 /wp-content/uploads 中。

我只是想捕获任何 .pdf 文件的 404 并将其重定向到上传文件夹。应该很容易，但我显然没有做对。htaccess 有太多的标志和设置，有些东西会发生冲突，或者我只是没有“明白”。

```
RewriteEngine On

# Catch incorrect case (must be a better way of doing this?)
RewriteCond %{REQUEST_FILENAME} !-f  
RewriteRule (.*)\.JPG$ $1.jpg [L,R=301] 

RewriteCond %{REQUEST_FILENAME} !-f  
RewriteRule (.*)\.PNG$ $1.png [L,R=301] 

RewriteCond %{REQUEST_FILENAME} !-f  
RewriteRule (.*)\.GIF$ $1.gif [L,R=301] 

# BEGIN WordPress
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
# END WordPress

# Start of my woes...what am I doing wrong?
RewriteCond %{REQUEST_FILENAME} .*\.pdf [NC]
#RewriteCond %{REQUEST_FILENAME} !\/wp-content\/uploads\/
RewriteRule ([^/]*\.pdf) /wp-content/uploads/$1 [NC,L,R=301] 

RewriteCond %{REQUEST_FILENAME} !-f  
RewriteRule ([^\/]*.zip) /wp-content/uploads/$1 [L,R=301] 

RewriteCond %{REQUEST_FILENAME} !-f  
RewriteRule ([^\/]*.xls) /wp-content/uploads/$1 [L,R=301] 

# For bonus points, is this the correct way to do this? Catch old reference to an old folder and move them on?
RedirectMatch 301 /Graphic\sFiles/(.*\.jpg) /wp-content/uploads/$1
RedirectMatch 301 /Graphic\sFiles/(.*\.png) /wp-content/uploads/$1
RedirectMatch 301 /Graphic\sFiles/(.*\.gif) /wp-content/uploads/$1 
```

我一直在工作：

*   [http://httpd.apache.org/docs/current/rewrite/flags.html](http://httpd.apache.org/docs/current/rewrite/flags.html)
*   [http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule)
*   [http://httpd.apache.org/docs/current/rewrite/remapping.html#fallback-resource](http://httpd.apache.org/docs/current/rewrite/remapping.html#fallback-resource)

对于我认为是一项简单的工作，需要接受很多规则。我不是 htaccess 大师，也永远不会是，我非常尊重那些虽然是的人！

感谢女士们和先生们提前提供的任何指示。

皮特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:35:55.710

如果您将部分更改为如下所示，它是否有效？

```
RewriteCond %{REQUEST_FILENAME} !-f  
RewriteCond %{REQUEST_URI} !^/wp-content/uploads/
RewriteRule ([^/]*\.(pdf|zip|xls))$ /wp-content/uploads/$1 [NC,L,R=301] 
```

第一个条件检查请求是否针对不存在的文件，第二个条件是确保我们尚未重定向到上传目录（以防它也不存在），并且规则与任一匹配pdf、zip 或 xls。

# perl - 从 Catalyst 模型内部访问配置

> ID：11776087
> 
> 赞同：1
> 
> 时间：2012-08-02T11:01:42.530
> 
> 标签：perl, catalyst

我正在尝试从这样的模型中访问 Catalyst 配置哈希（人为示例）：

```
package Dabadie::Model::DirFind;
use Moose;
use namespace::autoclean;

extends 'Catalyst::Model';use namespace::autoclean;

sub list {
     my ($self, $c) = @_;
     return $c->config();
} 
```

然而，$c 是 undef，并且 $self->config 什么也不返回。

任何人都可以帮助解决这个问题吗？

谢谢，

西蒙娜

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:23:12.113

这是预期的 - 根据 MVC 设计理念，您的模型应该与您的控制器逻辑分离。

当您在控制器代码中初始化模型时，您可以将 $c 作为参数传递，但这会导致您进入违反模式的“互连”模型和控制器设计，但这样做可能有意义 - 是您的模型设置配置参数或只是接收它们？如果您通过模型设置配置参数，您可能会遇到设计问题。

或者只是将配置哈希作为参数传递给模型初始化：

```
 $c->model('AppModel')->new(config => $configParameters); 
```

这将要求您在模型中声明 moose 属性以捕获构造时的配置参数。

```
has 'config' ( isa => 'HASH', is => 'ro' ); 
```

更多关于 Moose 属性的[信息在这里](http://search.cpan.org/~doy/Moose-2.0603/lib/Moose/Manual/Attributes.pod)

# ruby - 递归复制排除与过滤器匹配的文件夹

> ID：11776089
> 
> 赞同：9
> 
> 时间：2012-08-02T11:01:44.473
> 
> 标签：ruby, rake

我正在尝试创建一种 Rake 方法来将所有文件从一个位置复制到另一个位置，但排除所有属于 SVN 文件夹的文件夹，包括它们的文件。

这是我开始使用的名为 Filesystem 的模块中的方法，但无法确定它是否可以工作或缺少的代码是什么。该模块具有以下要求：

```
require "fileutils" 
```

方法：

```
def FileSystem.CopyFilesWithoutSVN(source, target)
  # will copy files from source folder to target folder excluding .svn folders
  FileUtils.cp_r  Dir.glob( source ).reject{|entry| entry =~ missingCode }, target
end 
```

因此，例如，来源将是：

```
folderA
  folderB
    file1.cs
    file2.cs
    file3.cs
    file4.cs
    .svn
        fileA.base
        fileB.base
.svn
  fileC.base
  fileD.base
folderC 
    file5.cs 
```

那么目标将在复制后包含以下内容：

```
folderA
  folderB
    file1.cs
    file2.cs
    file3.cs
    file4.cs
folderC
    file5.cs 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-02T14:04:27.507

这种事情最简单的解决方案是使用[rsync](http://rsync.samba.org/)，前提是您的软件在安装它的系统上运行。

```
`rsync -a --exclude=.svn #{source}/ #{target}` 
```

您可能还想添加`--delete`选项以删除目标树中不再存在于源树中的现有文件。

作为奖励，它只会在您下次运行时复制新的或修改过的文件。您还可以使用它通过网络跨系统复制文件。有关更多信息，请参阅文档。

* * *

如果你没有 rsync 可用，或者不想让你的代码依赖它，你可以使用以下方法：

```
require 'find'
require 'fileutils'

def copy_without_svn(source_path, target_path)    
  Find.find(source_path) do |source|
    target = source.sub(/^#{source_path}/, target_path)
    if File.directory? source
      Find.prune if File.basename(source) == '.svn'
      FileUtils.mkdir target unless File.exists? target
    else
      FileUtils.copy source, target
    end
  end
end 
```

[Find](http://ruby-doc.org/stdlib-1.9.3/libdoc/find/rdoc/Find.html)是 Ruby 标准库的一部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T15:21:54.083

what you want is something like

```
.reject {|f| /.svn/.match(f) != nil } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:27:21.607

您只是在根目录中查找名称匹配项，您应该递归地查找每个目录。我会说更容易复制所有内容，然后通过在新创建的目录中运行类似的内容来删除 SVN 文件：

```
`find #{target} -name ".svn" -type d -exec rm -rf {} \;` 
```

所以你的方法看起来像这样：

```
module FileSystem
  def self.CopyFilesWithoutSVN(source, target)
    # will copy files from source folder to target folder excluding .svn folders
    FileUtils.cp_r  Dir.glob( source ).reject{|entry| entry =~ missingCode }, target
    `find #{target} -name ".svn" -type d -exec rm -rf {} \;`
  end
end 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-03T01:03:05.567

`find`并且`rsync`不是很好，因为很多系统都没有这些。一次做一个文件并不难：

```
FileUtils.mkdir_p(target) unless File.exists? target
Dir.glob("#{source}/**/*").reject{|f| f['.svn']}.each do |oldfile|
  newfile = target + oldfile.sub(source, '')
  File.file?(oldfile) ? FileUtils.copy(oldfile, newfile) : FileUtils.mkdir(newfile)
end 
```

# javascript - 无法清除基于 Jquery Mobile 的应用程序中的 Dom

> ID：11776091
> 
> 赞同：1
> 
> 时间：2012-08-02T11:01:44.747
> 
> 标签：javascript, html, jquery-mobile

我在清除 DOM 数据时遇到问题。在我的基于 jquery 移动的应用程序中。我有一个第一页，在其中我正在对特定内容中的数据进行一些拖动，并将这些数据带到第二个屏幕。如果我从第二个屏幕返回到第一页，那么我会得到带有动态拖动数据的页面，但我希望刷新第一页（没有拖动数据），就像我在一开始看到我的主页一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T20:10:21.887

只需添加`data-ajax="false"`到链接以返回上一页，这将重新加载页面。

例如：

```
<a href="page-two.html" data-role="button" data-ajax="false">Page Two</a> 
```

来源：http: [//jquerymobile.com/test/docs/pages/page-cache.html](http://jquerymobile.com/test/docs/pages/page-cache.html)

# excel - 仅使用没有宏的公式从 Excel 中的单元格中获取行号和列号

> ID：11776094
> 
> 赞同：4
> 
> 时间：2012-08-02T11:01:46.600
> 
> 标签：excel, excel-formula

有没有办法通过在该单元格中插入公式来获取任何给定单元格的行和列？

所以单元格 A1 会说 (1,1)，C2 会读取 (3, 2) 等等。这在某种程度上是一种自我引用。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-02T11:17:53.403

要自引用单元格，请使用

```
=CONCATENATE("(",COLUMN(), ", ",ROW(),")") 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:06:37.380

```
=CONCATENATE("(",COLUMN(A1), ", ",ROW(A1),")") 
```

编辑：删除了不必要的函数调用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:06:52.763

```
=CONCATENATE("(";COLUMN(A1);",";ROW(A1);")") 
```

=>(1,1)

# javascript - 将元素包装在技术选择器中的最佳方法

> ID：11776096
> 
> 赞同：1
> 
> 时间：2012-08-02T11:02:00.060
> 
> 标签：javascript, jquery

在一个项目中，我经常通过添加/替换 HTML 字符串中的元素来操作 DOM：

```
$("#myDiv").html("<ul><li>foo</li><li>bar</li></ul><p>This is a list</p>"); 
```

我想将它们包装在“附加技术 id 的东西”中，以便我的 jQuery 选择器可以针对页面的这些特定片段。

类似的东西：

```
var techId = ...; 
$("#myDiv").html(wrap(techId, "<ul id="myList"><li>foo</li><li>bar</li></ul><p>This is a list</p>"));
$(document).on("click", "#"+techId+" #myList", function(event){
    alert("List clicked");
}); 
```

知道包装器在任何情况下都不会对页面产生任何视觉影响，“包装”功能的内容应该是什么。

在包装器上调用 .remove() 应该删除被包装的元素，但应该有一种方法可以在不修改内部元素的情况下删除包装器（以破坏选择器为代价）。

# c# - Windows 8 Metro 应用程序将 WriteableBitmap 转换为字节 [] 问题 C#

> ID：11776098
> 
> 赞同：0
> 
> 时间：2012-08-02T11:02:18.803
> 
> 标签：c#, windows-8, microsoft-metro

我正在尝试将 WriteableBitmap 转换为 byte[]，但是当它转换为 byte[] 时，它的字节值或字节像素为 0（零）。请告诉我如何解决这个问题或如何获得字节像素？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T19:37:31.933

我认为您需要获取[WinRT XAML 工具包](http://bit.ly/WinRTXamlToolkit)并在您的 WriteableBitmap 上调用“await modifiedImage.WaitForLoaded [( )”，然后才能阅读它。](http://winrtxamltoolkit.codeplex.com/SourceControl/changeset/view/16916#309128)

# wordpress - WP Supersized 未显示在自定义内容中

> ID：11776100
> 
> 赞同：0
> 
> 时间：2012-08-02T11:02:22.757
> 
> 标签：wordpress, plugins, supersized

我的 WP Supersized（用于 Wordpress）正在做它需要做的事情，但它没有显示在来自自定义内容类型的帖子上。我安装了另一个插件，称为自定义内容类型管理器，带有像投资组合和新闻这样的菜单。但是这些帖子没有在内容区域下方显示“WP Supersized 图片来源”框。我还检查了设置中的位置，它设置为：“无处不在”、“在所有页面上”、“投资组合”和“新闻”。但它仍然没有给我选择来源的选项。我错过了什么吗？还是 WP Supersized 不处理自定义类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T19:29:37.920

听起来这可能与元框发生冲突。调试插件之间的冲突可能非常困难。

# ios - 用于回答测验的 Apple 应用内购买

> ID：11776101
> 
> 赞同：1
> 
> 时间：2012-08-02T11:02:44.770
> 
> 标签：ios, in-app-purchase, payment

我一遍又一遍地查看苹果应用内购买指南，但似乎找不到答案。

我正在制作一个向用户展示每周测验的应用程序。我想做的是向用户收取他对应用内购买问题的回答。

所以我的问题是可以根据苹果向一个人收取测验答案的费用吗？有没有可以做到这一点的应用程序？

谢谢你的帮助！

稍微澄清一下......用户支付前 70 美分来发送他的答案。然后，他能够赢得奖品，例如正确的一等奖答案的 iPad。

前任。美国独立日是哪一天？

回答 1：8 月 4 日 回答 2：6 月 4 日 回答 3：7 月 4 日 回答 4：7 月 5 日

（在 iphone 上按正确的答案需要 70 美分...）

用户为他的回答付费，然后能够赢得奖品。当然，多个用户将有相同的正确答案，以这种方式将随机选择一等奖获得者。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-07T07:49:30.713

您至少应该担心以下两条规则：

> 11.3 使用 IAP 购买实体商品或在应用程序外使用的商品和服务的应用程序将被拒绝
> 
> 20.4 允许用户在应用内直接购买彩票或抽奖券的应用将被拒绝

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T18:47:56.660

经验法则是应用内购买仅适用于电子内容。如果它是真实世界的产品或服务，那么你就不走运了。只要它不属于该类别，Apple 似乎很乐意从您可以说服人们购买的任何产品中抽取 30%。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-05T11:54:55.147

您需要 iOS 应用审查指南的第 11 节。[App Store Review Guidelines](https://developer.apple.com/appstore/resources/approval/guidelines.html) 根据我的阅读，我认为它会很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T07:41:54.993

我怀疑这可能会通过，尽管这可能是他们在商店不想要的那一天决定的。来自@Cameron 链接的[App Store Review Guidelines ：](https://developer.apple.com/appstore/resources/approval/guidelines.html)

> 我们将拒绝任何我们认为过分的内容或行为的应用程序。你问什么线？好吧，正如最高法院大法官曾经说过的那样，“我看到它就知道了”。我们认为，当您穿越它时，您也会知道它。

一个需要付费才能参加抽奖式比赛的应用程序听起来有点像垃圾邮件，但它可能会被认为是完全合法的。我想，取决于你如何呈现它。

消耗性 IAP 将是您在这里所追求的，具有一些应用程序内/服务器逻辑来确定用户是否已经回答了该特定问题（假设您将需要服务器端的东西来确定谁有回答，谁先做的，等等等等）。这意味着您每周不需要新的 IAP 产品，只需一个测验模块。在您的 UI 中，您可以根据周修改问题，检查用户是否已经回答，如果没有，则允许他们购买消耗性 IAP 产品。下周，相同的流程、相同的产品、不同的问题会通过您服务器的信息呈现给用户。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T03:56:00.337

那是赌博。如果苹果允许整个应用商店都是低价拍卖应用。不会飞

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-11T13:39:44.360

我希望您在申请中使用 PayPal，不会有申请被拒绝的机会。

希望能帮助到你......

# java - 与类共享字段方法

> ID：11776103
> 
> 赞同：0
> 
> 时间：2012-08-02T11:02:49.113
> 
> 标签：java, inheritance, methods, extend, friend

我有一个带有对象的类现在我想从 Container 类外部的 Box 和 Toy 对象中调用一个函数

```
class Container
{
   Box box1 = new Box();
   Toy toy1 = new Toy();
   public void open()
   {
      box1.open();
   }
   public void play()
   {
      toy1.play();
   }
} 
```

如何避免重新创建方法并仅与 Container 类共享方法。我不能使用继承，因为我有 2 个或更多对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:33:51.950

您可以按如下方式进行。

```
public interface ToyInterface {
    public void play();
}

public class Toy implements ToyInterface {
    @Override
    public void play() {
        System.out.println("Play toy");
    }
}

public interface BoxInterface {
    public void open();
}

public class Box implements BoxInterface {
    @Override
    public void open() {
        System.out.println("open box");
    }
}

public class Container implements ToyInterface, BoxInterface {
    private BoxInterface box;
    private ToyInterface toy;

    public Container() {
        box = new Box();
        toy = new Toy();
    }

    public BoxInterface getBox() {
        return box;
    }

    public ToyInterface getToy() {
        return toy;
    }

    @Override
    public void play() {
        System.out.println("play container");
        this.toy.play();
    }

    @Override
    public void open() {
        System.out.println("open container");
        this.box.open();
    }
} 
```

然后你就可以在 Container 之外访问 Box 和 Toy 类的方法。

```
Container container = new Container();
container.open();
container.getBox().open();

container.play();
container.getToy().play(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:48:18.610

像这样做 ：

~~`main`或者你正在*初始化的***地方**将两个**对象**都传递给它 *`Container`*~~

 ***~~```
public static void main(String args[]){
   Box box1 = new Box();
   Toy toy1 = new Toy();
   Container c = new Container(box1, toy1);
   box1.open();
   toy1.play();
   //or pass both object where ever you want without recreating them
}

class Container {
    Box box1 = new Box();
    Toy toy1 = new Toy();   

    public Container(Box box1, Toy toy1){
        this.box1 = box1;
        this.toy1 = toy1;
    }
} 
```~~  ~~**更新：**现在根据您的需要以下解决方案，但我也不喜欢这样做：

```
class Container
{
   public Box box1 = new Box(); // should not be public but as your needs
   public Toy toy1 = new Toy(); // should not be public but as your needs
}
container.box1.open();
container.toy1.play(); 
```~~***

# ios - 如何在用户默认值中存储自定义对象 - IOS

> ID：11776108
> 
> 赞同：1
> 
> 时间：2012-08-02T11:03:02.657
> 
> 标签：ios, class, ios4, nsuserdefaults

我创建了一个自定义类并为该类创建了对象。我想将该对象存储到 NSUserDefault 中。将对象设置为用户错误时出现错误。我该如何设置？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:07:50.287

你必须在你的类中实现 NSCoding 协议并实现协议方法。这只是序列化。在存储对象时，您应该序列化（NSKeyedArchiver）类并与检索相同，您应该取消序列化（NSKeyedUnArchiver）该对象。

方法是

*   (void)encodeWithCoder:(NSCoder *)aCoder;
*   (id)initWithCoder:(NSCoder *)aDecoder;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:08:46.850

[正如文档所述](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsuserdefaults_Class/Reference/Reference.html)：

> 默认对象必须是一个属性列表，即以下实例（或集合实例的组合）：NSData、NSString、NSNumber、NSDate、NSArray 或 NSDictionary。如果要存储任何其他类型的对象，通常应该将其归档以创建 NSData 的实例。

创建 的实例的最简单方法`NSData`是使用[`NSKeyedArchiver`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:10:50.727

最可能的原因是您的结构中有一些难以归档的内容。

这是来自 NSUserDefaults 类参考的引用，您可能会发现它很有用：

> NSUserDefaults 类提供方便的方法来访问常见类型，例如浮点数、双精度数、整数、布尔值和 URL。默认对象必须是一个属性列表，即以下实例（或集合实例的组合）：NSData、NSString、NSNumber、NSDate、NSArray 或 NSDictionary。如果要存储任何其他类型的对象，通常应该将其归档以创建 NSData 的实例。有关更多详细信息，请参阅首选项和设置编程指南。

编辑。被斯蒂芬打败了，给这个人一个奖品:)

# .net - 从配置文件统一加载和缓存所有容器的最佳方法

> ID：11776110
> 
> 赞同：0
> 
> 时间：2012-08-02T11:03:12.010
> 
> 标签：.net, unity-container, ioc-container

我有一个 Unity.config 文件，其中我将有几个容器，并且每个容器都有一个类型映射详细信息列表。

有没有一种最好的方法让我一口气阅读它们，然后加载和缓存它们以供以后使用以获得更好的性能。

另外，让我知道 Unity 容器添加和类型解析的性能改进步骤。

# c# - 输入字符串的格式不正确。但是我没有字符串数据

> ID：11776111
> 
> 赞同：1
> 
> 时间：2012-08-02T11:03:15.353
> 
> 标签：c#, asp.net, web-services

您可以在下面返回我的数据和异常。我使用 Web 服务来调用类的方法。

```
 List<CargoOptionTo> list = ds.CargoOptionList().AsQueryable().OrderBy(sidx + " " + sord).ToList(); 
```

在这段代码之后，抛出一个异常。

![在此处输入图像描述](../Images/4e5af5c52cba1c267db15d29929df9da.png)

这是我返回的数据：

![在此处输入图像描述](../Images/f8a9e4e4db8bbc953647b21895fa561a.png)

你有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:06:56.640

您应该使用 lambda 来定义您的 OrderBy

IE

```
.OrderBy(x => x.SortField) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:56:34.957

我只是删除了我的服务引用并再次添加，然后它就解决了。

# joomla - Joomla！Virtuemart - 转到下一个要编辑的产品的选项

> ID：11776119
> 
> 赞同：0
> 
> 时间：2012-08-02T11:03:38.980
> 
> 标签：joomla, virtuemart

是否有 Virtuemart 扩展程序可以转到您要编辑的下一个产品，因此您无需返回产品概述页面来选择下一个？浏览许多要编辑的产品，快速浏览它们会很棒，但现在这似乎是不可能的。想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T19:04:15.663

我的王国需要这样的工具，但可惜，据我所知，没有这样的工具。但是，我使用了一种解决方法 - 在产品页面中，我只需右键单击链接进行编辑，然后选择“在新窗口中打开”并在完成后关闭窗口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T12:06:12.573

您还可以在浏览器栏中获取 URL，将您当前正在编辑的产品的 id 添加到 id 中，以避免打开更多页面。

保存后记得这样做，显然

[http://yourserver.com/administrator/index.php?option=com_virtuemart&view=product&task=edit&virtuemart_product_id[]=3615](http://yourserver.com/) _

然后你做

[http://yourserver.com/administrator/index.php?option=com_virtuemart&view=product&task=edit&virtuemart_product_id[]=3616](http://yourserver.com/) _

等等

# jquery - Audio.js HTML5 音量控制

> ID：11776121
> 
> 赞同：0
> 
> 时间：2012-08-02T11:03:49.370
> 
> 标签：jquery, html, audio

我正在将[audio.js](http://kolber.github.com/audiojs/docs/)库用于我正在处理的项目中，并且很难实现音量控制器。我尝试联系构建库的开发人员，但无法联系到他。我已经使用 jQuery UI 构建了一个音量滑块，现在我正在尝试使用[.setVolume](http://kolber.github.com/audiojs/docs/#section-62)函数将滑块的值解析给我的实例中的所有玩家。我不能让它工作。这是我的代码：

```
audiojs.events.ready(function() {

    var audio = audiojs.createAll(),
        slider = $('#slider');

    tooltip.hide();

    slider.slider({
        range: 'min',
        min: 1,
        value: 35,

        start: function(event,ui) {
            // Start
        },

        slide: function(event, ui) {

            var value = slider.slider('value');

            // Slide

        },

        stop: function(event,ui) {
            // Stop
        },

        change: function(event,ui) {
            audio.setVolume(ui.value / 100);
        },

    });

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-11-14T11:28:25.853

在不使用`audio.js`库的情况下，您只需使用`volume`HTML5 的音频元素的属性即可。

为此，您可以使用以下几行。

```
var myAudio = document.getElementById('myAudio');
myAudio.volume = 0.32; 
```

其中音量 1.0 最高，0.0 为最低音量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-11T19:44:38.773

`audiojs.createAll()`创建一个数组，因此变量`audio`是一个数组。如果您使用的是一个音频 js 播放器，请声明：`var audio = audio[0];`这应该可以。如果您使用多个，那么您将需要执行`for`循环或使用索引号调用音频 js 播放器，例如`audio[0].setVolume(ui.value / 100);`.

# python - bash 文件不适用于在 Fedora 上执行 python 文件

> ID：11776123
> 
> 赞同：0
> 
> 时间：2012-08-02T11:03:49.050
> 
> 标签：python, cron

例如，我创建了一个 python 脚本，`test.py`文件的路径是`/Desktop/test.py`

我想使用 cron 作业运行该文件，因此决定`test.sh`使用以下代码创建一个名称为 bash 的脚本

**测试.sh**：

```
#!/bin/bash 
cd /Desktop/test.py
python test.py 2>log.txt 
```

但这不起作用，当我尝试像下面这样测试它时，我收到如下错误

```
sh-4.2$ python test.sh
  File "test.sh", line 4
    python test.py 2>log.txt 
              ^
SyntaxError: invalid syntax 
```

如果这工作正常，那么我可以打开 cron 选项卡`crontab -e`并可以使用以下命令执行

```
/2 * * * * /path/to/bashscript/test.sh 
```

任何人都可以制作这项工作将不胜感激............

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:08:38.417

因为您正在尝试`bash`通过 python 运行文件！

错误： `python test.sh`

你应该改为`bash test.sh`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:14:43.183

你不需要 bash 脚本。

您可以在 crontab 中执行您在脚本中执行的所有操作：

```
*/2 * * * * cd ${HOME}/Desktop/; python test.py 2> log.txt 
```

# jquery - Coffeescript、RequireJS、Backbone - @ 超出范围

> ID：11776125
> 
> 赞同：0
> 
> 时间：2012-08-02T11:04:05.697
> 
> 标签：jquery, model-view-controller, backbone.js, coffeescript, requirejs

我有以下代码

```
define [
  "jquery", 
  "backbone", 
  "underscore",
  "models/days"
], ($, Backbone, _, days) =>

  class Calendar extends Backbone.View

    el          : "#calendar_box"
    collection  : days

    display: =>
      @collection.fetch_data
        month :8
        year  :2012
      , @render

    render: =>
      # console.log @collection - gives "undefined"
      console.log @ # this returns "Window" instead of "Calendar" - current obj.

  # return the calendar object
  new Calendar() 
```

它是 Coffeescript 中的 BackboneView，它请求服务器获取给定月份和年份的日期作为日历。

数据返回正常，因为我可以在 Chrome 控制台中检查它 - GET 请求及其响应。

但是，在“render”函数中，“@”看起来像是在全局级别，而不是在“Calendar”级别。

这里发生了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:39:00.103

Check the backbone.js docs on [binding this](http://backbonejs.org/#FAQ-this) and then add an initialize- function into your Calendar and use the underscore `bindAll` -function to bind render and other methods to have the right context

NOT COFFEESCRIPT:

```
initialize: function() {
  _.bindAll(this, 'render', 'display');
} 
```

Hope this helps!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:39:33.357

I solved it by changing

```
($, Backbone, _, days) => 
```

to

```
($, Backbone, _, days) -> 
```

That seems to work.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T17:09:41.707

为了澄清为什么将胖箭头 => 更改为细箭头 -> 有效，是因为 Coffeescript 编译器故意在这两者之间进行区分。

**简而言之**：胖箭头`this`在外部范围内创建对关键字的引用，并使`@`符号引用外部`this`

```
# Coffeescript
fatArrow => @
thinArrow -> @ 
```

现在编译的Javascript：

```
// make a reference to the 'this' keyword (might be the global scope)
// for the @ symbol inside the fat arrow function
var _this = this;

fatArrow(function() {
   // the @ symbol does not actually reference 'this'
   // but the outer scope _this variable
   return _this;
});

thinArrow(function() {
   // the @ symbol in a thin arrow function
   // is the same as the 'this' keyword in javascript
   return this;
}); 
```

# 为什么？

javascript 中的许多模式都需要引用外部范围 this，通常称为`self`或在 Coffeescript 的情况下`_this`。例如在事件回调中，常见于 jQuery 等框架中。Coffeescript 使这很容易，因为您可以只使用粗箭头，而不是使用外部范围`this`引用来混乱您的代码。

```
# Coffeescript
initializeFatGuy = ->
    @eat = (food) -> alert 'eating some #{food}'  

    # common example of event callback with double arrow
    $('body').on 'click', (event) =>
        # call the eat method
        # @ is the outer scope _this variable generated by Coffeescript
        @eat 'chips' 
```

# spring-integration - 文件架构上的spring-integration异常

> ID：11776127
> 
> 赞同：0
> 
> 时间：2012-08-02T11:04:21.633
> 
> 标签：spring-integration

嗨，我是 spring 集成框架的新手，我只是在创建一个 xml 读取应用程序。但现在我面临一个问题：无法找到 XML 模式命名空间的 Spring NamespaceHandler [http://www.springframework.org/schema/integration/file]

任何人都可以建议我遇到问题的地方。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T13:24:22.877

命名空间处理程序会自动从 JAR 中解析 - 您需要在类路径中有 spring-integration-file jar。

# php - php类名，有什么区别

> ID：11776128
> 
> 赞同：1
> 
> 时间：2012-08-02T11:04:26.133
> 
> 标签：php, oop, class

我是 PHP OOP 编程方面的新手，我不明白以下类名何时以及如何使用以及何时使用它们：

```
$a = new Classname();
$a = new Classname;

$a = ClassName::function();
$a = ClassName::getInstance(); 
```

非常感谢和抱歉愚蠢的问题：

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-02T11:07:21.267

这些是相同的。

```
$a = new Classname();
$a = new Classname; 
```

当类构造函数不采用或不需要其他参数时，您可以互换使用它们。

例子：

```
class Classname
{
    public function __construct($var = null)
    {
        // ..
    }

    static public function getInstance()
    {
        // ..
    }
} 
```

在这种情况下，您可以使用`$a = new Classname;`and`$var`将采用默认值，或者`$a = new Classname('hello')`and`$var`将等于传递的值。

* * *

这些都是[静态](http://php.net/manual/en/language.oop5.static.php)方法调用。

```
$a = ClassName::function();
$a = ClassName::getInstance(); 
```

一个调用一个名为“function”的方法（它不能存在 - 它是一个保留字），另一个调用一个名为“getInstance”的方法。何时使用它们实际上取决于方法的作用。

无需创建对象实例即可调用静态方法。

IE

```
Classname::staticMethod(); 
```

相对

```
$obj = new Classname;
$obj->method; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:06:10.073

至于

```
$a = new Classname(); 
$a = new Classname; 
```

`__construct()`如果没有要接收的参数，则没有区别。

* * *

至于

```
$a = ClassName::function();
$a = ClassName::getInstance(); 
```

这只是静态方法的正常调用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:11:32.543

为了：

```
$a = new Classname();
$a = new Classname; 
```

这些只是表达同一件事的 2 种不同方式： 创建一个不带任何参数的对类“Classname”的新引用（php 在 if () 方面更宽松，并且必须提供或不提供参数比许多其他编程语言）。

为了：

```
$a = ClassName::function();
$a = ClassName::getInstance(); 
```

这两个是函数“function()”和“getInstance()”的静态调用，因此 $a 将被设置为这些函数的适当返回值。静态意味着您可以在不引用类本身的情况下使用这些函数（因此不需要 $b=ClassName(); $a=$b->function() 而是您可以像上面那样编写它）。

# mysql - 1+ 列上的索引可以帮助 MySQL 中的哪些查找？

> ID：11776130
> 
> 赞同：0
> 
> 时间：2012-08-02T11:04:33.847
> 
> 标签：mysql

如果我在 2 个十进制列上创建索引，我进行了`col1`哪些`col2`更快的查找？

直观地说，它可以满足两列**的完全匹配**，并且适用于 a`where col1...`并且根本不适用于`where col2 ...`. 并且**范围搜索**on`col1`但不是 on `col2`; `col2`并在给定的范围内搜索`col1`。

正确答案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:10:12.300

条件会更胖

```
where col1=(something) and  col2=(something) 
```

或只是`where col1=(something)`

它**不会**将此索引用于

```
where col2=(something) and  col1=(something) 
```

对于 Range 搜索，只有 col1 会更快，因为 col1 在索引的最左边

# mysql - mysql concat regexp 单词边界和引号

> ID：11776134
> 
> 赞同：2
> 
> 时间：2012-08-02T11:04:45.393
> 
> 标签：mysql, regex, concat, word-boundary

这是我的查询

```
SELECT producer FROM producers WHERE producer REGEXP CONCAT('[[:<:]]', 'dell\'', '[[:>:]]') 
```

我用这个替换了 mysql 以使用此处另一个示例中的单词边界。但是现在我遇到了转义撇号的问题，即使有匹配项，它也无法在数据库中找到 dell'。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:30:28.563

```
select count(*) from (select 'dell\'' as c) t where c regexp '[[:<:]]dell\'';        -- -> 1
select count(*) from (select 'dell\'' as c) t where c regexp '[[:<:]]dell\'[[:>:]]'; -- -> 0 
```

因此，失败的是尾随边界要求。这是有道理的。引用[文档](http://dev.mysql.com/doc/refman/5.6/en/regexp.html)：

> 这些标记代表单词边界。它们分别匹配单词的开头和结尾。单词是前面或后面没有单词字符的单词字符序列。单词字符是 alnum 类中的字母数字字符或下划线 ( `_`)。

由于`'`不是单词字符，它不能是单词的结尾，因此`[[:>:]]`无法匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-03T12:20:11.433

我创建了 UDF，它解决了这个问题，只需调用一个函数，您可以根据您的条件设置前缀、后缀和值。

DROP FUNCTION IF EXISTS `pp`$$ CREATE FUNCTION `pp`(Slist varchar(100)) RETURNS char(100) CHARSET latin1 BEGIN Declare sregex varchar(100); SET slist = 'G'; return Concat('[[:<:]]',Slist,'[[:>:]]'); 结尾;

# ruby-on-rails - 邀请*所有*您的朋友加入 Facebook 应用程序

> ID：11776135
> 
> 赞同：-2
> 
> 时间：2012-08-02T11:04:52.770
> 
> 标签：ruby-on-rails, facebook, facebook-graph-api, facebook-javascript-sdk

目前，当我希望用户邀请他们的朋友加入我的应用程序时（此时未定义“to”参数） ，使用[请求对话框，我可以得到一个多朋友选择器。](https://developers.facebook.com/docs/reference/dialogs/requests/)在 Chrome / Safari 上 - 这是一个新窗口，但有没有办法让所有用户的朋友都已经被选中？

否则 - 有没有办法向*所有*用户朋友提出请求/邀请？我尝试将所有用户的朋友 id 的数组放入“to”参数中，但这会在 FB 上出现错误。

我在 facebook 上看到了一些应用程序，它们确实可以让用户“全选”或“邀请所有”他们的朋友 - [http://blog.fbsocialapps.com/2011/10/5-ways-to -tune-your-requests-to-improve-the-virality-of-your-facebook-application/](http://blog.fbsocialapps.com/2011/10/5-ways-to-tune-your-requests-to-improve-the-virality-of-your-facebook-application/)

编辑 - 如评论中所述，我正在使用omniauth gem + JS SDK 在RoR 上执行此操作。我希望有人可能遇到过这个问题，并可以分享一个解决方案。我的意图不是垃圾邮件，而是让用户更容易共享应用程序，如果它值得分享的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:47:45.153

基本上，您发布的网站上提到的应用程序正在使用[自定义朋友选择器](https://developers.facebook.com/docs/guides/games/custom-muti-friend-selector/)（另请参阅：[请求专业提示，专业提示 2：创建自定义多朋友选择器](https://developers.facebook.com/docs/guides/games/requests/)）。

这非常简单直接——读取用户好友列表，生成您希望他们显示的 HTML 类型（表单、UL、带有好友头像的 IMG 元素、用于选择好友的复选框，……）。如果您不想使用 JS SDK，您也可以在您的 RoR 应用程序中执行此操作（读取好友列表 + 生成 HTML）服务器端。

只有用户可以一次选择所有朋友的部分可能最好在客户端完成 - 遍历代表列出的朋友的所有 HTML 元素，并通过脚本检查复选框。例如，如果您使用 jQuery 或其他东西，这很容易。

（当然，这*也*可以通过标记为“向所有朋友发送请求”的复选框来完成，并查看是否在服务器端检查了此项，然后向所有朋友发送请求——但这不会提供所有朋友都在的直接反馈现在选择给页面上的用户。）

然后，您可以将带有标记的所有/一些朋友的表单发送到您的服务器端应用程序，在那里为请求对话框生成 URL，并将朋友的 id 放入`to`参数中，并将用户的浏览器重定向到它。

# nhibernate - 使用 Fluent NHibernate 映射公共列

> ID：11776140
> 
> 赞同：2
> 
> 时间：2012-08-02T11:05:21.737
> 
> 标签：nhibernate, fluent-nhibernate, multi-tenant

我们有一个多租户数据库 - 即多个客户端使用的公共数据库，因此每个表将有一个“ClientID”列指示租户。我们正在使用 Fluent NHibernate for ORM 并寻找解决多租户问题的最佳方法：每个 Mapping 类都需要映射 ClientID，但是，该值将来自用户帐户对象 - 即来自某种用户会话。

有没有使用 Fluent NHibernate 实现这一目标的简便方法？如果是这样，你能举个例子吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T06:32:51.827

我不完全确定这是否是您的要求，但如果您需要每个类都映射到 ClientId，这是一个示例。

基本上，每个类都有一个 UserAccount 属性或任何类将存储具有 ClientId 属性的用户帐户信息。然后在您的 Fluent NHibernate 映射中，您可以使用 References() 方法将这些类映射在一起。请参见下面的示例：

```
public class UserAccount
{
    public virtual int Id { get; set; }

    public virtual string Name { get; set; }

    public virtual IList<Bill> Bills { get; set; }
}

public class Bill
{
    public virtual int BillId { get; set; }

    public virtual UserAccount User { get; set; }
}

public class UserAccount : ClassMap<UserAccount>
{
    public UserAccount()
    {
        Id( x => x.Id ).Column( "ClientId" );

        Map( x => x.Name );

        HasMany( x => x.Bills );
    }
}

public class BillMap : ClassMap<Bill>
{
    public BillMap()
    {
        Id( x => x.Id ).Column( "BillId" );
        References( x => x.User ).Column( "ClientId" );
    }
} 
```

因此，在您的 Bill 表中，您将有一个 ClientId 列，在数据库术语中它实际上是一个外键，它引用了 UserAccount 表的主键列，该列也将被命名为 ClientId。

如果您确实要拥有大量表，这些表都将具有 ClientId 列，您还可以选择将其抽象为您的实体继承的基类，该基类上已经具有 UserAccount 属性。您也可以对 Fluent NHibernate 映射文件执行相同的基类方法。

# php - symfony2致命错误无法重新声明类

> ID：11776145
> 
> 赞同：19
> 
> 时间：2012-08-02T11:05:33.763
> 
> 标签：php, symfony, fatal-error

好的，我已经在这两个小时了，我看到其他一些人有这个错误，但我似乎无法将他们的原因/解决方案与我的匹配。

致命错误：require() [function.require]: Cannot redeclare class companycontroller in /var/www/biztv_symfony/vendor/symfony/src/Symfony/Component/ClassLoader/DebugUniversalClassLoader.php 在第 55 行

终端给出了一个更好的错误消息，将我指向它报告有问题的实际类的结束子句（试图重新声明）。

如果我删除或重命名文件 companyController.php 它会抛出一个 Symfony2 错误，说它去寻找类但没有在预期的位置找到它。

如果我把文件放回原来的位置，apache 会抛出一个 php 错误，指出类 companyController 不能被重新声明。

我只有一次？！

这是整个班级...如果有人有耐心尝试帮助我...

```
<?php

use Symfony\Bundle\FrameworkBundle\Controller\Controller;

use BizTV\BackendBundle\Entity\company;
use BizTV\BackendBundle\Form\companyType;

/**
 * company controller
 *
 */

class companyController extends Controller
{
    /**
     * Lists all company entities.
     *
     */
    public function indexAction()
    {
        $em = $this->getDoctrine()->getEntityManager();

        $entities = $em->getRepository('BizTVBackendBundle:company')->findAll();

        return $this->render('BizTVBackendBundle:company:index.html.twig', array(
            'entities' => $entities
        ));
    }

    /**
     * Finds and displays a company entity.
     *
     */
    public function showAction($id)
    {
        $em = $this->getDoctrine()->getEntityManager();

        $entity = $em->getRepository('BizTVBackendBundle:company')->find($id);

        if (!$entity) {
            throw $this->createNotFoundException('Unable to find company entity.');
        }

        $deleteForm = $this->createDeleteForm($id);

        return $this->render('BizTVBackendBundle:company:show.html.twig', array(
            'entity'      => $entity,
            'delete_form' => $deleteForm->createView(),

        ));
    }

    /**
     * Displays a form to create a new company entity.
     *
     */
    public function newAction()
    {
        $entity = new company();
        $form   = $this->createForm(new companyType(), $entity);

        return $this->render('BizTVBackendBundle:company:new.html.twig', array(
            'entity' => $entity,
            'form'   => $form->createView()
        ));
    }

    /**
     * Creates a new company entity.
     *
     */
    public function createAction()
    {
        $entity  = new company();
        $request = $this->getRequest();
        $form    = $this->createForm(new companyType(), $entity);
        $form->bindRequest($request);

        if ($form->isValid()) {
            $em = $this->getDoctrine()->getEntityManager();
            $em->persist($entity);
            $em->flush();

            /* Create adminuser for this company to go along with it */
            $userManager = $this->container->get('fos_user.user_manager');
            $user = $userManager->createUser();

            //make password (same as username)
            $encoder = $this->container->get('security.encoder_factory')->getEncoder($user); //get encoder for hashing pwd later
            $tempPassword = $entity->getCompanyName(); //set password to equal company name

            //Get company
            $tempCompanyId = $entity->getId(); //get the id of the just-inserted company (so that we can retrieve that company object below for relating it to the user object later)
            $tempCompany = $em->getRepository('BizTVBackendBundle:company')->find($tempCompanyId); //get the company object that this admin-user will belong to

            $user->setUsername($entity->getCompanyName() . "/admin"); //set username to $company/admin
            $user->setEmail('admin.'.$entity->getCompanyName().'@example.com'); //set email to non-functioning (@example)
            $user->setPassword($encoder->encodePassword($tempPassword, $user->getSalt())); //set password with hash
            $user->setCompany($tempCompany); //set company for this user            
            $user->setConfirmationToken(null); //we don't need email confirmation of account
            $user->setEnabled(true); //without a confirmation token, we of course also need to flag the account as enabled manually
            $user->addRole('ROLE_ADMIN');

            $userManager->updateUser($user);

            return $this->redirect($this->generateUrl('company_show', array('id' => $entity->getId())));

        }

        return $this->render('BizTVBackendBundle:company:new.html.twig', array(
            'entity' => $entity,
            'form'   => $form->createView()
        ));
    }

    /**
     * Displays a form to edit an existing company entity.
     *
     */
    public function editAction($id)
    {
        $em = $this->getDoctrine()->getEntityManager();

        $entity = $em->getRepository('BizTVBackendBundle:company')->find($id);

        if (!$entity) {
            throw $this->createNotFoundException('Unable to find company entity.');
        }

        $editForm = $this->createForm(new companyType(), $entity);
        $deleteForm = $this->createDeleteForm($id);

        return $this->render('BizTVBackendBundle:company:edit.html.twig', array(
            'entity'      => $entity,
            'edit_form'   => $editForm->createView(),
            'delete_form' => $deleteForm->createView(),
        ));
    }

    /**
     * Edits an existing company entity.
     *
     */
    public function updateAction($id)
    {
        $em = $this->getDoctrine()->getEntityManager();

        $entity = $em->getRepository('BizTVBackendBundle:company')->find($id);

        if (!$entity) {
            throw $this->createNotFoundException('Unable to find company entity.');
        }

        $editForm   = $this->createForm(new companyType(), $entity);
        $deleteForm = $this->createDeleteForm($id);

        $request = $this->getRequest();

        $editForm->bindRequest($request);

        if ($editForm->isValid()) {
            $em->persist($entity);
            $em->flush();

            return $this->redirect($this->generateUrl('company_edit', array('id' => $id)));
        }

        return $this->render('BizTVBackendBundle:company:edit.html.twig', array(
            'entity'      => $entity,
            'edit_form'   => $editForm->createView(),
            'delete_form' => $deleteForm->createView(),
        ));
    }

    /**
     * Deletes a company entity.
     *
     */
    public function deleteAction($id)
    {
        $form = $this->createDeleteForm($id);
        $request = $this->getRequest();

        $form->bindRequest($request);

        if ($form->isValid()) {
            $em = $this->getDoctrine()->getEntityManager();
            $entity = $em->getRepository('BizTVBackendBundle:company')->find($id);

            if (!$entity) {
                throw $this->createNotFoundException('Unable to find company entity.');
            }

            $em->remove($entity);
            $em->flush();
        }

        return $this->redirect($this->generateUrl('company'));
    }

    private function createDeleteForm($id)
    {
        return $this->createFormBuilder(array('id' => $id))
            ->add('id', 'hidden')
            ->getForm()
        ;
    }
} 
```

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-08-02T11:31:34.197

所以，原来那是 moi 那里的一个笨拙的错字。

但是对于在 Symfony2 中遇到此错误消息的任何其他人：

致命错误：require() [function.require]：无法重新声明类...

这里有一个提示：检查您是否不小心删除或拼写错误：文件中的命名空间包含 php 声称它试图重新定义的类的定义。

php 错误消息并没有真正给你一个线索来寻找那个...... =）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-04-11T10:26:45.233

就个人而言，我只是手动删除了缓存并且它有效

```
rm -rf app/cache/* 
```

清除缓存并没有解决我的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-19T21:16:59.793

重新声明类 - 可能有两个具有相同名称的类

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-11T17:00:26.440

有时，如果您被复制/粘贴所吸引，请检查您的类名、命名空间以及可能发生的其他“错别字”。（复制/粘贴是编程的恶魔：/）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-11-10T12:26:12.680

与其他答案类似，在我的情况下，我重命名了类，但没有重命名包含文件。每个类都应该在同名文件中声明。所以也检查一下。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-05T12:24:00.713

在我的例子中，它是`use`命名空间下的一个语句，它使用了相同的类名（但另一个路径）。

```
namespace Bsz\RecordTab;
use \Bsz\Config\Libraries; // I used  this in constructor
class Libraries 
{
...
} 
```

没有使用指令，它工作

# wpf - WPF XAML 全球化

> ID：11776154
> 
> 赞同：2
> 
> 时间：2012-08-02T11:05:54.190
> 
> 标签：wpf, xaml, globalization

我有一个为美国开发的 WPF 应用程序，现在我计划为英国市场做好准备。我面临的问题是英国不需要美国的某些 UI 选项（以 XAML 编码）。所以我需要隐藏它们并在其位置显示一些其他 UI 元素。请注意，我也计划为其他一些国家/地区做好准备。那么最好的解决方案是什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T13:44:31.130

您是否查看过此链接[Globalization for WPF](http://msdn.microsoft.com/en-us/library/ms745650.aspx#design_intl_ui_with_xaml)。尤其是“构建可本地化的应用程序”部分。我希望它能帮助你实现目标

# .htaccess - 从一个域到另一个域的 URL 掩码 (?in .htaccess)

> ID：11776155
> 
> 赞同：0
> 
> 时间：2012-08-02T11:05:55.167
> 
> 标签：.htaccess, url-rewriting

我一直在搜索档案，但我找不到任何对我来说太有意义的东西。我有一个带有几个子域的站点，这些子域重定向到其他站点。

例如，访问者类型 - [www.jmp.redtwenty.com.au](http://www.jmp.redtwenty.com.au) - 并被重定向到 - [http://creator.zoho.com/redtwenty/jmp-conversion-tracking](http://creator.zoho.com/redtwenty/jmp-conversion-tracking)

有什么方法可以屏蔽此重定向，以便访问者仍能在地址栏中看到 jmp.redtwenty.com.au？

我不断看到在 .htaccess 中提到重写规则，但不确定这是否是我想要的。

谢谢迈克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:23:41.390

您可以通过几种方式做到这一点，但您需要确保 mod_proxy 已启用。

如果您可以控制域的服务器配置或虚拟主机配置，则`www.jmp.redtwenty.com.au/`可以将其添加到其中：

```
ProxyPass / http://creator.zoho.com/redtwenty/jmp-conversion-tracking/ 
```

或者在文档根目录的 htaccess 文件中`http://www.jmp.redtwenty.com.au/`：

```
RewriteEngine On
RewriteRule ^(.*)$ http://creator.zoho.com/redtwenty/jmp-conversion-tracking/$1 [L,P] 
```

# jquery - JQuery Nested sortable Syntax Error

> ID：11776156
> 
> 赞同：0
> 
> 时间：2012-08-02T11:06:04.553
> 
> 标签：jquery, jquery-ui

Hey I am trying to do the nested sorting using jQuery I am getting a syntax error Can anyone figure it out I cant see any syntax error. My code

```
<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.8.22.custom.min"></script>

 <script type="text/javascript">
  $(document).ready(function(){
    $('ol.sortable').nestedSortable({
        disableNesting: 'no-nest',
        forcePlaceholderSize: true,
        handle: 'div',
        helper: 'clone',
        items: 'li',
        maxLevels: 3,
        opacity: .6,
        placeholder: 'placeholder',
        revert: 250,
        tabSize: 25,
        tolerance: 'pointer',
        toleranceElement: '> div',
        connectWith: '.sortable'
    });​
});
</script> 
```

rest of the code is just HTML not logic till now. I am getting this error

**SyntaxError: syntax error });? test.html (line 30, col 5)**

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:13:11.807

I'm just guessing by the col number... remove the `;` at the end of nestedSortable().

# python - 使用 BeautifullSoup (python) 查找最近的链接

> ID：11776157
> 
> 赞同：7
> 
> 时间：2012-08-02T11:06:06.477
> 
> 标签：python, beautifulsoup, lxml

我正在做一个小项目，从中提取政治领导人在报纸上的出现。有时会提到政治家，但没有父母或孩子有联系。（由于我猜是语义不好的标记）。

所以我想创建一个可以找到最近链接的函数，然后提取它。在下面的情况下，搜索字符串是`Rasmussen`，我想要的链接是：`/307046`。

```
#-*- coding: utf-8 -*-

from bs4 import BeautifulSoup
import re

tekst = '''
<li>
  <div class="views-field-field-webrubrik-value">
    <h3>
      <a href="/307046">Claus Hjort spiller med mrkede kort</a>
    </h3>
  </div>
  <div class="views-field-field-skribent-uid">
    <div class="byline">Af: <span class="authors">Dennis Kristensen</span></div>
  </div>
  <div class="views-field-field-webteaser-value">
    <div class="webteaser">Claus Hjort Frederiksens argumenter for at afvise
      trepartsforhandlinger har ikke hold i virkeligheden. Hans rinde er nok
      snarere at forberede det ideologiske grundlag for en Løkke Rasmussens
      genkomst som statsministe
    </div>
  </div>
  <span class="views-field-view-node">
    <span class="actions">
      <a href="/307046">Ls mere</a>
      |
      <a href="/307046/#comments">Kommentarer (4)</a>
    </span>
  </span>
</li>
'''

to_find = "Rasmussen"
soup = BeautifulSoup(tekst)
contexts = soup.find_all(text=re.compile(to_find)) 

def find_nearest(element, url, direction="both"):
    """Find the nearest link, relative to a text string.
    When complete it will search up and down (parent, child),
    and only X levels up down. These features are not implemented yet.
    Will then return the link the fewest steps away from the
    original element. Assumes we have already found an element"""

    # Is the nearest link readily available?
    # If so - this works and extracts the link.
    if element.find_parents('a'):
        for artikel_link in element.find_parents('a'):
            link = artikel_link.get('href')
            # sometimes the link is a relative link - sometimes it is not
            if ("http" or "www") not in link:
                link = url+link
                return link
    # But if the link is not readily available, we will go up
    # This is (I think) where it goes wrong
    # ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
    if not element.find_parents('a'):
        element =  element.parent
        # Print for debugging
        print element #on the 2nd run (i.e <li> this finds <a href=/307056> 
        # So shouldn't it be caught as readily available above?
        print u"Found: %s" % element.name
        # the recursive call
        find_nearest(element,url)

# run it
if contexts:
    for a in contexts:
        find_nearest( element=a, url="http://information.dk") 
```

下面的直接调用有效：

```
print contexts[0].parent.parent.parent.a['href'].encode('utf-8') 
```

作为参考，整个抱歉的代码都在 bitbucket 上：[https ://bitbucket.org/achristoffersen/politikere-i-medierne](https://bitbucket.org/achristoffersen/politikere-i-medierne)

（ps 使用 BeautifullSoup 4）

* * *

**编辑**：SimonSapin 要求我定义最近：最近是指在任一方向上距搜索词的嵌套级别最少的链接。在上面的文本中，`a href`由基于 drupal 的报纸站点生成的，既不是找到搜索字符串的标记的直接父级也不是子级。所以 BeautifullSoup 找不到。

我怀疑“最少的字符”通常也会起作用。在这种情况下，可以将解决方案与 find 和 rfind 一起破解 - 但我真的很想通过 BS 来做到这一点。因为这会起作用：`contexts[0].parent.parent.parent.a['href'].encode('utf-8')`必须可以将其推广到脚本。

**编辑**：也许我应该强调我正在寻找一个 BeautifulSoup 解决方案。我认为将 BS 与 @erik85 建议的自定义/简单的呼吸优先搜索结合起来很快就会变得混乱。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-04T12:02:49.643

有人可能会想出一个适用于复制和粘贴的解决方案，您会认为这可以解决您的问题。不过，您的问题不在于代码！这是你的策略。有一个称为“分而治之”的软件设计原则，您应该在重新设计代码时应用它：将将 HTML 字符串解释为树/图形的代码与搜索最近的节点（可能是[广度优先搜索](https://stackoverflow.com/questions/8922060/breadth-first-search-trace-path)）分开。您不仅会学会设计更好的软件，而且**您的问题可能会不复存在**。

我认为您足够聪明，可以自己解决这个问题，但我也想提供一个骨架：

```
def parse_html(txt):
    """ reads a string of html and returns a dict/list/tuple presentation"""
    pass

def breadth_first_search(graph, start, end):
    """ finds the shortest way from start to end
    You can probably customize start and end to work well with the input you want
    to provide. For implementation details see the link in the text above.
    """
    pass

def find_nearest_link(html,name):
    """putting it all together"""
    return breadth_first_search(parse_html(html),name,"link") 
```

PS：这样做也适用于另一个原则，但来自数学：假设有一个问题您不知道解决方案（找到靠近所选子字符串的链接）并且有一组问题您知道解决方案（图遍历），然后尝试转换您的问题以匹配您可以解决的问题组，这样您就可以使用基本的解决方案模式（甚至可能已经在您选择的语言/框架中实现），您就完成了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T20:20:28.850

这是使用 lxml 的解决方案。主要思想是找到所有前面和后面的元素，然后通过这些元素进行循环迭代：

```
def find_nearest(elt):
    preceding = elt.xpath('preceding::*/@href')[::-1]
    following = elt.xpath('following::*/@href')
    parent = elt.xpath('parent::*/@href')
    for href in roundrobin(parent, preceding, following):
        return href 
```

使用 BeautifulSoups（或 bs4）的[next_elements 和 previous_elements](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-elements-and-previous-elements)的类似解决方案也应该是可能的。

* * *

```
import lxml.html as LH
import itertools

def find_nearest(elt):
    preceding = elt.xpath('preceding::*/@href')[::-1]
    following = elt.xpath('following::*/@href')
    parent = elt.xpath('parent::*/@href')
    for href in roundrobin(parent, preceding, following):
        return href

def roundrobin(*iterables):
    "roundrobin('ABC', 'D', 'EF') --> A D E B F C"
    # http://docs.python.org/library/itertools.html#recipes
    # Author: George Sakkis
    pending = len(iterables)
    nexts = itertools.cycle(iter(it).next for it in iterables)
    while pending:
        try:
            for n in nexts:
                yield n()
        except StopIteration:
            pending -= 1
            nexts = itertools.cycle(itertools.islice(nexts, pending))

tekst = '''
<li>
  <div class="views-field-field-webrubrik-value">
    <h3>
      <a href="/307046">Claus Hjort spiller med mrkede kort</a>
    </h3>
  </div>
  <div class="views-field-field-skribent-uid">
    <div class="byline">Af: <span class="authors">Dennis Kristensen</span></div>
  </div>
  <div class="views-field-field-webteaser-value">
    <div class="webteaser">Claus Hjort Frederiksens argumenter for at afvise
      trepartsforhandlinger har ikke hold i virkeligheden. Hans rinde er nok
      snarere at forberede det ideologiske grundlag for en Løkke Rasmussens
      genkomst som statsministe
    </div>
  </div>
  <span class="views-field-view-node">
    <span class="actions">
      <a href="/307046">Ls mere</a>
      |
      <a href="/307046/#comments">Kommentarer (4)</a>
    </span>
  </span>
</li>
'''

to_find = "Rasmussen"
doc = LH.fromstring(tekst)

for x in doc.xpath('//*[contains(text(),{s!r})]'.format(s = to_find)):
    print(find_nearest(x)) 
```

产量

```
/307046 
```

# c# - ASP.NET => 编译器错误消息：CS0246：类型或命名空间名称“HtmlAgilityPack”

> ID：11776161
> 
> 赞同：0
> 
> 时间：2012-08-02T11:06:10.547
> 
> 标签：c#, asp.net, .net, html-agility-pack

```
using HtmlAgilityPack; 
```

// 引用它

产生错误：ASP.NET => 编译器错误消息：CS0246：类型或命名空间名称 'HtmlAgilityPack' ...

在我的网站中引用了 HtmlAgilityPack。

从 ASP.NET 2.0 切换到 4.0。之后，得到这个错误。在制作控制台或 Windows 窗体应用程序时，一切都很好，但是 ASP.NET 构建系统给了我这个错误。使用 HtmlAgilityPack 时出现此编译错误。

直到今天才解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-06T14:53:55.773

有同样的问题，我的 .NET 项目的目标是 .NET Framework 4.0，但 HtmlAgilityPack.dll 是使用 .NET Framework 4.5 构建的。

解决方案是使用 .NET Fx 4.0 引用 HtmlAgilityPack.dll 构建。

[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)的下载包提供了 Net20、Net40、Net45 甚至 WinRT 的版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T20:02:09.753

所以它在您将框架版本更改为 .Net 4 之前有效吗？

如果这种情况听起来更像您还需要将您的 dll 升级到 .Net 4。

只需[从 Codeplex 获取版本](http://htmlagilitypack.codeplex.com/releases/view/90925)，在 zip 中，每个框架版本都有一个 AgilityPack 版本，只需获取 .Net 4 的版本，看看是否有任何改变。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:19:34.987

请将该`Copy Local`属性设置`True`为 HtmlAgilityPack 的引用 DLL

这会将 dll 复制到应用程序的输出目录

# powershell - Powershell 启用-WSManCredSSP

> ID：11776163
> 
> 赞同：1
> 
> 时间：2012-08-02T11:06:17.713
> 
> 标签：powershell

我需要执行远程命令并传递凭据，所以我在这里遵循了答案：[What security setting is prevent Remote PowerShell 2.0 from access UNC paths](https://stackoverflow.com/questions/8362057/what-security-setting-is-preventing-remote-powershell-2-0-from-accessing-unc-pat)

问题是，我收到以下错误 **Enable-WSManCredSSP : This command cannot be executed because the setting cannot be enabled**

我检查了两台服务器上的事件日志，但什么也看不到。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:12:26.040

我找到了！问题出在组策略编辑器中，我需要在我委托的服务器名称前加上“wsman/”前缀。正如我在问题中提到的答案所述，但我错过了！非常感谢您的回答。

# automation - 当我在编码的 UI 测试中更新 UIMap 时，UIMap.Designer.cs 文件会覆盖我的代码

> ID：11776167
> 
> 赞同：1
> 
> 时间：2012-08-02T11:06:40.697
> 
> 标签：automation, coded-ui-tests

当我使用 Coded UI 测试记录“登录场景”的测试方法时，它会生成这样的代码

**生成的代码**

```
 public void LoginMethod()
    {
        #region Variable Declarations
        WinEdit uIItemEdit = this.UIDiagnosoftVIRTUEWindow.UIItemWindow.UIItemEdit;
        WinEdit uIItemEdit1 = this.UIDiagnosoftVIRTUEWindow.UIItemWindow1.UIItemEdit;
        WinComboBox uIItemComboBox = this.UIDiagnosoftVIRTUEWindow.UIItemWindow2.UIItemComboBox;
        WinButton uIConnectButton = this.UIDiagnosoftVIRTUEWindow.UIConnectWindow.UIConnectButton;
        #endregion

        // Type 'username' in 'Unknown Name' text box
        uIItemEdit.Text = this.LoginMethodParams.UIItemEditText;

        // Type '********' in 'Unknown Name' text box
        Keyboard.SendKeys(uIItemEdit1, this.LoginMethodParams.UIItemEditSendKeys1, true);

        // Select 'facility' in 'Unknown Name' combo box
        uIItemComboBox.SelectedItem = this.LoginMethodParams.UIItemComboBoxSelectedItem;

        // Click 'Connect' button
        Mouse.Click(uIConnectButton, new Point(64, 14));
    } 
```

我更新此代码以允许包含用户名、密码、....的数据驱动源、CSV 文件。这是更新后的代码

**更新代码**

```
 public void LoginMethod(string username,string password,string facility)
       {
        #region Variable Declarations
        WinEdit uIItemEdit = this.UIDiagnosoftVIRTUEWindow.UIItemWindow.UIItemEdit;
        WinEdit uIItemEdit1 = this.UIDiagnosoftVIRTUEWindow.UIItemWindow1.UIItemEdit;
        WinComboBox uIItemComboBox = this.UIDiagnosoftVIRTUEWindow.UIItemWindow2.UIItemComboBox;
        WinButton uIConnectButton = this.UIDiagnosoftVIRTUEWindow.UIConnectWindow.UIConnectButton;
        #endregion

        // Type 'msameeh' in 'Unknown Name' text box
        uIItemEdit.Text = username;

        // Type '{Tab}' in 'Unknown Name' text box
       uIItemEdit.Text=password;

        // Select 'diagnosoft.com' in 'Unknown Name' combo box
       uIItemComboBox.SelectedItem = facility;

        // Click 'Connect' button
        Mouse.Click(uIConnectButton, new Point(64, 14));
    } 
```

并且我运行测试方法并且效果很好但是当我编辑 UIMap 以添加未使用的控件（例如“取消按钮”）或此链接中的任何其他控件时

[http://blogs.microsoft.co.il/blogs/shair/archive/2010/08/08/coded-ui-test-tip-4-add-unused-controls-to-ui-map.aspx](http://blogs.microsoft.co.il/blogs/shair/archive/2010/08/08/coded-ui-test-tip-4-add-unused-controls-to-ui-map.aspx) UIMap。 Designer.CS 文件覆盖了我的登录方法使用生成的代码**更新了****代码**

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-03T19:44:08.720

您不应编辑 *UIMap.Designer.cs 文件。这些是自动生成的。这就是 *UIMap.cs 文件的目的，用于不会被覆盖的自定义方法和实现。

这就是为什么 Designer 文件顶部的注释块声明不要手动编辑它们的原因。

# android - 在 Android 中播放多种声音

> ID：11776174
> 
> 赞同：2
> 
> 时间：2012-08-02T11:07:07.167
> 
> 标签：android

我想播放多个声音。我知道如何播放它们，但我想同步播放它们。例如，我有所有长度为 4 秒的声音。如果我在 04:00:00 播放第一个声音，在 04:00:02 播放第二个声音，那么第二个在 04:00:04 开始，而不是在中间。android中是否有可用的框架来执行此操作或任何其他帮助...

# nhibernate - 二进制字段和命名查询的问题 - nHibernate

> ID：11776180
> 
> 赞同：1
> 
> 时间：2012-08-02T11:07:28.480
> 
> 标签：nhibernate

我正在使用 nHibernate 尝试使用命名查询登录用户，但他们的密码经过哈希处理，因此存储为 MS SQL DB 中的二进制字段。但是我无法让登录代码工作。它抛出一个错误：

```
using (var session = sessionFactory.OpenSession())
{
  user = (CreamUser)session.GetNamedQuery("loginuser")
         .SetString("UserName", userName)
         .SetBinary("Password", hashedPassword).UniqueResult();

}

<sql-query name="loginuser">
    <query-param name="UserName" type="string" />
    <query-param name="Password" type="binary" />
    <return alias="User" class="components.User"/>
    <![CDATA[
    SELECT * FROM users 
    WHERE username=:UserName AND 
    password=:Password 
    ]]>
</sql-query> 
```

我已经尝试了我能想到的一切，但无法让它发挥作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T20:55:44.300

好的，所以我解决了。我发现这与我正在执行的查询缺少一些与我返回的类型（用户）匹配的字段有关。

如果其他人遇到此问题，这是错误：

无法执行查询\r\n[ SELECT * FROM users \n WHERE username=@p0 AND \n
password=@p1 ]\r\n Name:UserName - Value:admin Name:Password - Value:System.Byte[] \r\n[SQL: SELECT * FROM users \n WHERE username=@p0 AND \n password=@p1]

谢谢你让我看起来更深入 ExpectoPatronum

# perl - 如何在 Moose 中存储哈希值？

> ID：11776184
> 
> 赞同：4
> 
> 时间：2012-08-02T11:07:46.093
> 
> 标签：perl, moose, hash-of-hashes

我想知道，在 Moose 中存储哈希哈希的最佳方法是什么。让我们以这样的哈希为例：

```
my %hash = ('step1' => {'extraction' => \$object1,
                         'analysis' => \$object2},
            'step2' => {'extraction' => \$object3,
                         'analysis' => \$object4}); 
```

但我想把这个保存在驼鹿属性中。我应该如何组织对此的访问（阅读，写作）。网络上的示例主要用于“平面”哈希。但是你可以使用像 Moose::Meta::Attribute::Native::Trait::Hash 这样的助手。散列的散列有类似的东西吗？

这样做的原因是，我想遍历步骤键并访问其中的对象实例。还是有更好的、更像 Moose 的方法来做到这一点？

提前致谢！！！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-02T11:38:13.573

您可以在 Moose 对象中存储散列的散列，其方式与存储任何其他散列的方式几乎相同：

```
has steps => ( is => 'ro', isa => 'HashRef' ); 
```

但是，您可以更具体地将其声明为您需要存储的特定类型的哈希，以验证存储在该插槽中的任何内容是否正确：

```
has steps => ( is => 'ro', isa => 'HashRef[HashRef[Object]]' ); 
```

根据数据，我也可能`Object`在此处更改为类名。您可以变得更花哨，并使用[MooseX::Types](https://metacpan.org/module/MooseX::Types::Structured)和[MooseX::Types::Structured](https://metacpan.org/module/MooseX::Types::Structured)来指定更精确的结构。

至于跨过您的结构的助手，我不知道 Moose 或 MooseX 中有什么可以做到这一点。如果您知道数据的结构，最好只实现一个子例程来自己做您需要的事情。与任何通用遍历相比，您的代码可能会表现得更好，并能更好地完成您需要的工作。

**编辑/附加信息：**每个 Moose 属性都会在您的类中创建一个访问器方法，该方法返回存储的值，因此访问数据是：

```
# Assuming we put the attribute in a package named StepTool
my $step_tool = StepTool->new(
    steps => { 'step1' => {'extraction' => \$object1,
                             'analysis' => \$object2},
               'step2' => {'extraction' => \$object3,
                             'analysis' => \$object4} },
);

# To do something one of the values
do_something($step_tool->steps->{step1}{extraction});

# To iterate over the structure, could be done in a method on StepTool
for my $step_name (keys %{ $step_tool->steps }) {
    my $step = $step_tool->steps->{ $step_name };

    for my $action_name (keys %$step) {
        my $object = $step->{ $action_name };

        do_something($object);
    }
}

# If doing the above as a method, $self is the Moose object, so...
sub traverse_steps {
    my ($self) = @_;

    for my $step_name (keys %{ $self->steps }) {
        ... # just like above
    }
} 
```

还有一点需要注意的是，如果你愿意，你仍然可以使用`traits => [ 'Hash' ]`并添加一些句柄来给自己一些额外的帮助。

如果数据结构比这更自由，您可能需要查看[Data::Visitor](https://metacpan.org/module/Data::Visitor)之类的东西来在子例程中迭代您的结构。（我在 Data::Visitor 上遇到了一些难以调试的奇怪问题，所以我尽量避免它。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-25T19:23:24.923

还有一种受[Moose 启发的类型安全方法：如何获取对象数组？特质？](https://stackoverflow.com/questions/28094959/moose-how-to-get-an-array-of-objects-traits)

有一个类来保存具有`traits => ['Hash']`. 这种方法可以使用例如`Array`s 和`Hash`es 无限深地嵌套：

```
package StepTool;

use Moose;

has 'steps' => (
    'is' => 'rw',
    'isa' => 'StepTool::Steps',
    'default' => sub { StepTool::Steps->new() },
);

package StepTool::Steps;

use Mouse;

has '_steps' => (
    is => 'ro',
    isa => 'HashRef[StepTool::Step]',
    traits => ['Hash'],
    default => sub { {} },
    handles => {
        # You'll probably want a fuller set here...
        get => 'get',
        set => 'set',
        keys => 'keys',
    }
);

package StepTool::Step;

use Mouse;

has 'extraction' => (
    is => 'rw',
);

has 'analysis' => (
    is => 'rw',
);

package main;

my $object1 = bless {}, 'Foobar1';
my $object2 = bless {}, 'Foobar2';
my $object3 = bless {}, 'Foobar3';
my $object4 = bless {}, 'Foobar4';

my $stepTool = StepTool->new();

# set up step1 one field at a time.
$stepTool->steps->set('step1', StepTool::Step->new());
# I have no idea why the OP wants references to objects
# everywhere but he does...
$stepTool->steps->get('step1')->extraction(\$object1);
$stepTool->steps->get('step1')->analysis(\$object2);

# set up step2 all at once
$stepTool->steps->set('step2', StepTool::Step->new(
    extraction => \$object3,
    analysis => \$object4
));

# or, less elegantly, initialize an entire StepTool:
my $stepTool2 = StepTool->new(
    steps => StepTool::Steps->new(
        _steps => {
            step1 => StepTool::Step->new(
                extraction => \$object1,
                analysis => \$object2
            ),
            step2 => StepTool::Step->new(
                extraction => \$object3,
                analysis => \$object4
            ),
        }
    ),
);

printf "step1->analysis is a ref to an instance of class: %s\n",
    ref(${$stepTool->steps->get('step1')->analysis}); 
```

# c - 无法找出为什么我的程序在 c 中崩溃

> ID：11776186
> 
> 赞同：1
> 
> 时间：2012-08-02T11:07:53.157
> 
> 标签：c, arrays

在 Windows 7 64 位上使用 Dev C++

我试图实现 ac 程序，以最佳方式识别句子中出现次数最多的单词。这是我创造的..

```
 struct word{
    char *str;
    int count;
    };

int main()
{
    struct word words[10]={0};
    int i,j,flag=0,max=0;
    char *maxw=NULL,*arr[] = {"how","do","you","do"};

    for(i=0;arr[i];i++)
    {
        flag =0;
        for(j=0;words[j].count!=0;j++)
            if(strcmp(words[j].str,arr[i]) == 0 )
            {
                words[j].count++;
                flag = 1;
                break;
            }

        if(flag == 0){  
        words[j].str = arr[i];
        words[j].count++;
        }

        if (max < words[j].count){
        max = words[j].count;
        maxw=words[j].str;
        }
    }
    printf("\nMost occurrences is of %s with %d count",maxw,max);

    getch();
    return 0;
} 
```

我已经发现程序只有在出现的最大单词也是句子的最后一个单词时才会崩溃，这与内存中固定字符串的地址有关。但我不确定这里到底发生了什么。另外，这是解决这个问题的好方法还是存在一些更优的解决方案？

PS这不是作业，我只是在练习一些编码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:42:37.253

您的指针数组不是以空值终止的，但在您的循环中，您正在检查空值，例如：

```
for(i=0;arr[i];i++) 
```

所以你应该空终止你的`arr`喜欢

```
char *maxw=NULL,*arr[] = {"how","do","you","do",NULL} 
```

# javascript - touchstart 和 touchend 事件引用同一个元素，而事件在不同元素上完成

> ID：11776190
> 
> 赞同：1
> 
> 时间：2012-08-02T11:08:02.530
> 
> 标签：javascript, android, dom-events

我的 Android 平板电脑的 Javascript 代码有问题。

假设我有几个**div**标签组成的网格。与“盒子”类；

现在我为网格中的所有这些 div 绑定事件处理程序。

当**touchstart** (mousedown) 事件发生时，我将光标移动到网格中的其他 div（不释放光标），然后在当前 div 上释放光标（touchend）。当我试图提醒当前 div（即 touchend div）的 id 时，警报会显示发生“touchstart”的 div**的****id**。

```
$(".box").bind('touchstart',function () {alert($(this).attr("id"))});
$(".box").bind('touchend',function () {alert($(this).attr("id"))}); 
```

实际上这是我的第一个安卓平板程序。所以我需要帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T20:23:20.007

这是意料之中的，如果它做了其他任何事情，那将是非常混乱的。如果它最终所在的元素没有注册的侦听器，您将永远不会收到 touchEnd 事件。

您可以通过查看触摸的坐标属性来查看触摸的位置，并且您可以使用 touchmove 跟踪它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:15:18.967

真的不明白你的问题。您是否正在尝试获取警报以显示鼠标按下位置的 div id？您需要将 touchstart 事件中的 id 存储在一个变量中，并在 touchend 发生时显示该值。

# android - 在布局中放置 3 个图像

> ID：11776191
> 
> 赞同：1
> 
> 时间：2012-08-02T11:08:15.643
> 
> 标签：android, android-layout

我想做一个简单的事情：将 3 张图片放在一个布局中 - 一张在左边，第二张在中间，第三张在右边。

这是我的代码：

```
<LinearLayout  android:id="@+id/linearV" 
        android:background="@drawable/gradientbg" 
        android:orientation="horizontal" 
        android:layout_width="fill_parent" 
        android:layout_height="50dip"       
         >
         <ImageView android:id="@+id/headerimage1"           
            android:layout_height="fill_parent" 
            android:layout_width="100dip" 
            android:src="@drawable/image1"
            android:scaleType="fitXY"/>
         <ImageView android:id="@+id/headerimage2"            
            android:layout_height="fill_parent" 
            android:layout_width="100dip" 
            android:src="@drawable/image2"
            android:scaleType="fitXY"/>
        <ImageView android:id="@+id/headerimage3"             
            android:layout_height="fill_parent" 
            android:layout_width="100dip"
            android:src="@drawable/image3"
            android:scaleType="fitXY"
            />             
    </LinearLayout> 
```

我尝试将：“android:gravity”标签添加到每个 ImageView，但它似乎没有任何效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:13:15.560

如果您坚持使用线性布局，请对图像使用 layout_weight，对线性布局使用[WeightSum](http://developer.android.com/reference/android/widget/LinearLayout.html#attr_android%3aweightSum)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:12:03.293

你必须使用RelativeLayout。检查此链接： [http ://android-coding.blogspot.com.es/2011/03/example-of-relativelayout.html](http://android-coding.blogspot.com.es/2011/03/example-of-relativelayout.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T06:08:40.263

这应该可以解决您的问题

```
<LinearLayout  android:id="@+id/linearV" 
    android:background="@drawable/gradientbg" 
    android:orientation="horizontal" 
    android:layout_width="fill_parent" 
    android:layout_height="50dip"       
     >
     <ImageView android:id="@+id/headerimage1"           
        android:layout_height="fill_parent" 
        android:layout_width="100dip" 
        android:src="@drawable/image1"
        android:layout_weight="1.0"/>
     <ImageView android:id="@+id/headerimage2"            
        android:layout_height="fill_parent" 
        android:layout_width="100dip" 
        android:src="@drawable/image2"
        android:layout_weight="1.0"/>
    <ImageView android:id="@+id/headerimage3"             
        android:layout_height="fill_parent" 
        android:layout_width="100dip"
        android:src="@drawable/image3"
        android:layout_weight="1.0"
        />             
</LinearLayout> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T13:13:03.293

当然，这可以通过使用 a 来实现`LinearLayout`，只需使用`layout_gravity`参数，然后将其值设置为`center`, `left`, `right`.. 或其他任何值。你甚至可以组合其中的一些。

你应该看看[文档](http://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html#attr_android%3alayout_gravity)。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-02T11:14:34.103

您应该使用相对布局，而不是 LinearLayout，

```
<RelativeLayout android:id="@+id/linearV" 
        android:background="@drawable/gradientbg" 
        android:orientation="horizontal" 
        android:layout_width="fill_parent" 
        android:layout_height="50dip" >

         <ImageView android:id="@+id/headerimage1"           
            android:layout_height="fill_parent" 
            android:layout_width="100dip" 
            android:src="@drawable/image1"
            android:scaleType="fitXY"
            android:layout_alignParentLeft="true" />

         <ImageView android:id="@+id/headerimage2"            
            android:layout_height="fill_parent" 
            android:layout_width="100dip" 
            android:src="@drawable/image2"
            android:scaleType="fitXY"
            android:layout_centerHorizontal="true" />

        <ImageView android:id="@+id/headerimage3"             
            android:layout_height="fill_parent" 
            android:layout_width="100dip"
            android:src="@drawable/image3"
            android:scaleType="fitXY"
            android:layout_alignParentRight="true" />           

    </RelativeLayout > 
```

# regex - 带有 '#' 的字符串的正则表达式

> ID：11776200
> 
> 赞同：0
> 
> 时间：2012-08-02T11:08:52.927
> 
> 标签：regex

我想知道字符串包含'#'的正则表达式字符串应该如何

例如

```
abc#def#ghj#ijk 
```

我想要

*   #def
*   #ghj
*   #ijk

我试过`#[\S]+`了，但它选择了整个`#def#ghj#ijk`任何想法？

## 编辑

下面的代码只选择`#Me`而不是`#MessageBox`. 为什么 ？

```
var m = new RegExp('#[^\s#]+').exec('http://localhost/Lorem/10#MessageBox');

if (m != null) {
   var s = '';

   for (i = 0; i < m.length; i++) {
     s = s + m[i] + "\n";
   }
} 
```

## 编辑 2

双反斜杠解决了这个问题。`'#[^\\s#]+'`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:11:20.863

尝试`#[^\s#]+`匹配`#`后跟一个或多个既不是空格也不`#`是空格的字符序列。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:10:38.180

匹配所有不是的字符`#`：

```
#[^#]+ 
```

# android - Kindle Fire 状态栏和软键栏错误

> ID：11776202
> 
> 赞同：3
> 
> 时间：2012-08-02T11:08:57.740
> 
> 标签：android, android-activity, java-native-interface, fullscreen, kindle

我正在开发一个针对 Kindle Fire 的杂志阅读器应用程序。在横向模式下，Kindle 操作系统中的内置软键栏和状态栏为我的内容留下的空间很小，因此我选择使用以下活动主题以全屏模式运行活动：

```
android:theme="@android:style/Theme.NoTitleBar.Fullscreen" 
```

这很好用，状态栏被隐藏并且软栏被最小化，如下所示：

![在此处输入图像描述](../Images/3d0f12d17178c7d048bcd87081a46c02.png)

我可以像这样向上拖动菜单栏：

![在此处输入图像描述](../Images/1cac86d52f1bac029e1d6234ff0e5e7e.png)

当我然后单击屏幕上的某个位置以关闭软键栏时，就会出现该错误。底部栏向后滑动，顶部也向后滑动，但它占用的空间变成了黑色空白，我的应用程序被向下推到它下方，因此应用程序底部的标签栏现在无法使用：

![在此处输入图像描述](../Images/4338c71af2af6231b47e9c4244e16063.png)

我在这里使用 tabhost 活动，我在这些屏幕截图中的选项卡是应用程序的实际阅读器部分。此子活动使用使用本机代码编写的 PDF 查看器小部件，并且此错误仅发生在此选项卡上。如果我切换到不包含 JNI 代码的其他选项卡之一，则不会发生此错误，因此我很确定它是 Kindle Fire OS、全屏活动和 JNI 代码使用的组合。

有没有其他人遇到过这个问题？

非常感谢任何帮助！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T17:41:29.390

Fire 有几种全屏模式（至少是基于 ICS 的新模式）——请查看[https://developer.amazon.com/sdk/fire/cx-guidelines.html#Fullscreen](https://developer.amazon.com/sdk/fire/cx-guidelines.html#Fullscreen)了解选项。我怀疑 ICS 全屏模式将是您所需要的

此外，根据 https://developer.amazon.com/sdk/fire/samples 上的屏幕布局示例，捕获 onOrientationChanged 和 onSizeChanged 事件以确保在菜单/工具栏出现和消失时正确重新绘制屏幕也是值得的[。 html](https://developer.amazon.com/sdk/fire/samples.html)

# javascript - Javascript/Jquery 将字符串转换为数组

> ID：11776204
> 
> 赞同：24
> 
> 时间：2012-08-02T11:09:27.370
> 
> 标签：javascript, jquery

我有一个字符串

```
var traingIds = "${triningIdArray}";  // ${triningIdArray} this value getting from server 
alert(traingIds)  // alerts [1,2]
var type = typeof(traingIds ) 
alert(type)   // // alerts String 
```

现在我想将它转换为数组，以便我可以迭代

我试过了

```
var trainindIdArray = traingIds.split(',');
$.each(trainindIdArray, function(index, value) { 
    alert(index + ': ' + value);   // alerts 0:[1 ,  and  1:2]
}); 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2012-08-02T11:12:23.453

由于数组文字表示法仍然是有效的 JSON，您可以[使用`JSON.parse()`](http://jsfiddle.net/3S6C8/)将该字符串转换为数组，然后从那里使用它的值。

```
var test = "[1,2]";
parsedTest = JSON.parse(test); //an array [1,2]

//access like and array
console.log(parsedTest[0]); //1
console.log(parsedTest[1]); //2 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-08-02T11:12:15.010

改变

`var trainindIdArray = traingIds.split(',');`

至

`var trainindIdArray = traingIds.replace("[","").replace("]","").split(',');`

这将基本上删除`[`然后`]`拆分字符串

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-08-02T11:14:18.960

假设似乎是这样，`${triningIdArray}`是一个服务器端占位符，它被 JS 数组文字语法替换，只是丢失了引号。所以：

```
var traingIds = ${triningIdArray}; 
```

不是

```
var traingIds = "${triningIdArray}"; 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-08-02T11:22:50.360

看一下这个 ：）

```
var traingIds = "[1,2]";  // ${triningIdArray} this value getting from server 
alert(traingIds);  // alerts [1,2]
var type = typeof(traingIds);
alert(type);   // // alerts String

//remove square brackets
traingIds = traingIds.replace('[','');
traingIds = traingIds.replace(']','');
alert(traingIds);  // alerts 1,2        
var trainindIdArray = traingIds.split(',');

​for(i = 0; i< trainindIdArray.length; i++){
    alert(trainindIdArray[i]); //outputs individual numbers in array
    }​ 
```

# c++ - 将 C++ 字符串变量转换为 long

> ID：11776210
> 
> 赞同：8
> 
> 时间：2012-08-02T11:09:51.943
> 
> 标签：c++, string, long-integer

我有一个变量：

```
string item; 
```

它在运行时被初始化。我需要将其转换为长。怎么做？我已经尝试过 atol() 和 strtol() 但我总是分别得到 strtol() 和 atol() 的以下错误：

```
cannot convert 'std::string' to 'const char*' for argument '1' to 'long int strtol(const char*, char**, int)'

cannot convert 'std::string' to 'const char*' for argument '1' to 'long int atol(const char*)' 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-02T11:11:52.673

c++11：

```
long l = std::stol(item); 
```

[http://en.cppreference.com/w/cpp/string/basic_string/stol](http://en.cppreference.com/w/cpp/string/basic_string/stol)

C++98：

```
char * pEnd;.
long l = std::strtol(item.c_str(),&pEnd,10); 
```

[http://en.cppreference.com/w/cpp/string/byte/strtol](http://en.cppreference.com/w/cpp/string/byte/strtol)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-08-02T11:12:01.513

试试这样：

```
long i = atol(item.c_str()); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-02T11:14:38.087

使用字符串流。

```
#include <sstream>

// code...
std::string text;
std::stringstream buffer(text);
long var;
buffer >> var; 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-08-02T11:12:52.340

使用[std::stol](http://en.cppreference.com/w/cpp/string/basic_string/stol) < 字符填充空间 >

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-02T12:32:57.457

如果您无法访问 C++11，并且可以使用 boost 库，则可以考虑以下选项：

```
long l = boost::lexical_cast< long >( item ); 
```

# wicket - Wicket - 从枚举到原始的 DropDownChoice

> ID：11776213
> 
> 赞同：0
> 
> 时间：2012-08-02T11:09:56.177
> 
> 标签：wicket, dropdownchoice

我对 DropDownChoice 有一些问题。我有一个带有学校名称列表的枚举，例如：

```
public enum StudyTitle {

    NONE(null,null),ELEMENTARY("1","Elementary"),COLLEGE("2","College");

    private String code;
    private String description;

    private StudyTitle(String code, String description){
        setCode(code);
        setDescription(description);
    }

    [setter and getter]

} 
```

然后我有一个带有字符串属性的 Pojo，调用“studyTitleCode”，我想在其中放置代码（例如 1 用于小学，2 用于大学等......）。

当我创建 DropDownChoice Wicket 时，如果 DropDownChoice 的类型为 StudyTitle，则不允许我拥有 String 类型的属性模型。

前任。[将 listOfStudyTitle 构建为枚举的 ArrayList]

```
DropDownChoice<String> studyLevel = new DropDownChoice<String>("id",new PropertyModel<String>(myPojo,"studyTitleCode"),listOfStudyTitle,new ChoiceRenderer<StudyTitle>("description","code")); 
```

是否有一种方法允许 Wicket 将枚举的一个属性链接到模型的属性？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:43:22.480

AbstractSingleSelectChoice 的选择选项必须与值模型的类型相匹配。我知道的 DropDownChoice 唯一相关的配置选项是 IChoiceRenderer，它允许您设置枚举值的呈现方式（与默认调用 toString() 相比）。

一种选择是，不要将枚举实例本身用于您的选择模型，而是为枚举提供一个可以使用的 String 属性：

```
public enum TestEnum {
    ONE ("ONE"),
    TWO ("TWO"), 
    THREE ("THREE");

    private String value;

    TestEnum(String value) {
        this.value = value;
    }

    public String getValue() {
        return value;
    }

    public static List<String> getStringValues()
    {
        List<String> stringValues = new ArrayList<String>();
        for (TestEnum test : values()) {
            stringValues.add(test.getValue());
        }

        return stringValues;
    }
}

@Override
protected void onInitialize() {
    super.onInitialize();

    IModel<String> myStringValueModel = new Model<String>();
    add(new DropDownChoice<String>("id", myStringValueModel, TestEnum.getStringValues()));
} 
```

# c# - C# AES-128 CFB 错误

> ID：11776227
> 
> 赞同：0
> 
> 时间：2012-08-02T11:11:04.733
> 
> 标签：c#, aes

我目前以这种方式设置 RijndaelManaged（由于服务器如何处理加密，IV 和密钥相同）。服务器也使用 CFB8 作为模式，我设置正确了吗？

```
 public static RijndaelManaged GenerateAES(byte[] key)
    {
        RijndaelManaged cipher = new RijndaelManaged();
        cipher.Mode = CipherMode.CFB;
        cipher.Padding = PaddingMode.None;
        cipher.KeySize = 128;
        cipher.Key = key;
        cipher.IV = key;

        return cipher;
    } 
```

我通过这样做写入数据： ICryptoTransform e = GenerateAES(key).CreateEncryptor();

```
 using(CryptoStream stream = new CryptoStream(BaseStream, e, CryptoStreamMode.Write))
        {
            stream.WriteByte(b);
            stream.FlushFinalBlock();
        } 
```

BaseStream 是我打开的 NetworkStream，'b' 是我发送给函数的值。

当我尝试对流进行 0x00 （作为测试）时，出现此错误：

```
System.Security.Cryptography.CryptographicException: Length of the data to encrypt is invalid.
at System.Security.Cryptography.RijndaelManagedTransform.EncryptData(Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount, Byte[]& outputBuffer, Int32 outputOffset, PaddingMode paddingMode, Boolean fLast)
at System.Security.Cryptography.RijndaelManagedTransform.TransformFinalBlock(Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount)
at System.Security.Cryptography.CryptoStream.FlushFinalBlock()
at System.Security.Cryptography.CryptoStream.Dispose(Boolean disposing)
at System.IO.Stream.Close() 
```

我只测试了这个函数是否可以在不依赖任何外部库的情况下与服务器通信。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T12:16:16.223

您已将 设置`PaddingMode`为 None，并且尝试加密的字节数少于完整的数据块。加密更多数据（ 的倍数`cipher.BlockSize`）或将填充模式设置为 None 以外的其他值，以便自动填充到适当的长度。

**编辑：**

RijndaelManaged 的​​默认 FeedbackSize 为 128 位，但您想使用 CFB8。如果将 设置`cipher.FeedbackSize`为 8，您将能够将其用作没有填充的流密码，并且写入 CryptoStream 的每个字节都将被加密并立即写入输出流。您不应*在*每次写入后调用`FlushFinalBlock`，因为这会终止加密过程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-13T18:09:04.720

在这里提供了一个解决方案： [https ://stackoverflow.com/a/29038974/725903](https://stackoverflow.com/a/29038974/725903)

The idea is to wrap ICryptoTransform passed to a CryptoStream ctor that handles TransformFinalBlock adding required bytes before encryption/decryption and removing them on return

# c# - 从 .NET 4.0 客户端访问 JAX-WS Web 服务

> ID：11776229
> 
> 赞同：0
> 
> 时间：2012-08-02T11:11:15.780
> 
> 标签：c#, .net, c#-4.0, jax-ws, webservice-client

我想做的是从 .net 4.0 客户端访问用 JAX-WS java 编写的 web 服务。

当我尝试通过 https 添加对该 Web 服务的引用时，它已成功添加到我的项目中，但随后我无法构建我的项目，出现如下错误：

`An object reference is required for the non-static field, method, or property 'Test.Test.ListDevicesResponseReturn.System.get'`

我试图将我的客户端版本更改为 3.5，但它没有帮助。

我不知道这个webservice是怎么写的。

感谢您的任何回复：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T07:49:06.997

我得到了答案......这是一个愚蠢的但在用 JAX-WS 编写的 WebService 中是一个名为的属性`System`，当我将此属性名称更改为`SystemJs`一切似乎工作正常时，它在 .NET Framework 中保留。

我希望它也能帮助其他人。感谢大家尝试帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:26:33.480

我认为您需要这样的对象：

```
Test test = new Test(); 
```

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T21:25:35.147

我认为您正在从静态方法调用非静态属性。你们中的某个人的方法不是静态的。

**希望这些有所帮助。:)**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T13:17:28.737

尝试按照此处的步骤操作。我认为您可能必须从命令行手动生成客户端。 [开发 .NET 客户端](http://metro.java.net/nonav/1.2/guide/Developing_a_Microsoft__NET_Client.html)

# php - 必须使用活动访问令牌来查询有关当前 user-Graph api 异常的信息

> ID：11776234
> 
> 赞同：7
> 
> 时间：2012-08-02T11:11:42.950
> 
> 标签：php, facebook-graph-api

我正在尝试使用 Graph api 更新 Facebook 用户状态。我的代码是

```
<?php 
    require 'facebook.php'; 
    $facebook = new Facebook(array( 
    'appId' =>'389694921095423',
    'secret' =>'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX',
    'cookie' => true
    )); 
    $access_token = $facebook->getAccessToken();
    echo($access_token);
    $me = null; 

    try 
    { 
        $uid = $facebook->getUser(); 
        $me = $facebook->api('/me'); 
        echo "Welcome User: " . $me['name'] . "<br />"; 
        //access permission
        $permissions_needed = array('publish_stream', 'read_stream', 'offline_access', 'manage_pages');
        foreach($permissions_needed as $perm) 
        {  
            if( !isset($permissions_list['data'][0][$perm]) || $permissions_list['data'][0][$perm] != 1 )
            {    
            $login_url_params = array(
                'scope' => 'publish_stream,read_stream,offline_access,manage_pages',         
                'fbconnect' =>  1,         
                'display'   =>  "page",         
                'next' => 'http://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI']      
                );    
            $login_url = $facebook->getLoginUrl($login_url_params);   
            header("Location: {$login_url}");
            exit(); 
            }
        }
        //Access permission

        $post_id = $facebook->api("/$uid/feed", "post", array("message"=>"Hello World!")); 
        if(isset($post_id)) 
        {
            echo "A new post to your wall has been posted with id: $post_id"; 
        }
    } 
    catch (FacebookApiException $e) 
    { 
        echo($e); 
    } 
?> 
```

问题是它显示了一个运行时错误，例如致命错误：未捕获的 OAuthException：必须使用活动访问令牌来查询有关当前用户的信息。我已经生成了访问令牌。我必须用它来删除这个异常提前谢谢

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-12-13T11:45:26.123

尝试换行：

```
$me = $facebook->api('/me'); 
```

至

```
$me = $facebook->api('/'.$uid); 
```

如果您没有使用最新版本，并且如果您刚刚升级了 sdk 并导致了问题，也可以尝试升级您的 sdk，然后您可以尝试降级版本并检查。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-08-15T11:51:04.297

清除缓存和 cookie（如果您正在测试或开发应用程序），请执行以下操作：-

```
try
{  
  $fb_user_info = $facebook->api('/me');
} catch (Exception $ex)
{
  $facebook->destroySession();
  $params = array(
      'scope' => 'YOUR_PERMISSIONS',
      'redirect_uri' => 'YOUR_SITE_URL'
  );
  $fb_login_url = $facebook->getLoginUrl($params);  
  header("Location:" . $fb_login_url);
} 
```

# android - 可展开的列表视图子点击监听器

> ID：11776238
> 
> 赞同：1
> 
> 时间：2012-08-02T11:11:54.017
> 
> 标签：android, expandablelistview, android-alertdialog

我有一个非常简单的问题。在包含可扩展列表视图的对话框中，当我单击一个孩子时，我想做一些操作并返回到活动。`setOnChildClickListener()`我的和的点击事件`setOnGroupClickListener()`都在工作，但我的警报对话框没有关闭。我想在单击列表时关闭我的警报对话框并返回到我的活动。任何人都可以帮忙吗？

代码：

```
final AlertDialog.Builder builder = new AlertDialog.Builder(
                    TestActivity.this);

        ExpandableListView dialogExpandableListView = new ExpandableListView(
                this);
        dialogExpandableListView
                .setAdapter(new EfficienctExpandableAdapter(
                        this));
        dialogExpandableListView
                .setOnChildClickListener(new ExpandableListView.OnChildClickListener() {

                    @Override
                    public boolean onChildClick(ExpandableListView arg0,
                            View arg1, int arg2, int arg3, long arg4) {
                        // TODO Auto-generated method stub

                        Log.d("skt", "clicked parent " + arg2 + " child "
                                + arg3);

                        return false;
                    }
                });

        dialogExpandableListView.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() {

            @Override
            public boolean onGroupClick(ExpandableListView arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub

                Log.d("skt", "group click --- clicked parent " + arg2);
                return false;
            }
        });

        builder.setView(dialogExpandableListView);

        builder.create();
        builder.show(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:29:12.387

我想你开始在这里显示 Alertdialog

```
 builder.setView(dialogExpandableListView); 
    builder.create();
    builder.show(); 
```

但是您还没有在任何地方取消 alertView 。

尝试在此处取消 alertView

```
 @Override
                public boolean onChildClick(ExpandableListView arg0,
                        View arg1, int arg2, int arg3, long arg4) {
                 Log.d("skt", "clicked parent " + arg2 + " child "
                             + arg3);
                 builder.cancel();
                 //or
                 builder.dismiss();
                 return false;

   } 
```

希望能帮助到你

# python - 以下 Python 代码有什么作用？这就像一个带括号的列表推导。

> ID：11776241
> 
> 赞同：2
> 
> 时间：2012-08-02T11:12:12.060
> 
> 标签：python, web-crawler

我正在研究用 Python 制作的网络爬虫，我偶然发现了一个非常简单的爬虫。但是，我不明白最后几行，在以下代码中突出显示：

```
import sys
import re
import urllib2
import urlparse

tocrawl = [sys.argv[1]]
crawled = []

keywordregex = re.compile('<meta\sname=["\']keywords["\']\scontent=["\'](.*?)["\']\s/>')
linkregex = re.compile('<a\s(?:.*?\s)*?href=[\'"](.*?)[\'"].*?>')

while 1:
    crawling = tocrawl.pop(0)
    response = urllib2.urlopen(crawling)
    msg = response.read()
    keywordlist = keywordregex.findall(msg)
    crawled.append(crawling)
    links = linkregex.findall(msg)
    url = urlparse.urlparse(crawling)

    a = (links.pop(0) for _ in range(len(links))) //What does this do?

    for link in a:
        if link.startswith('/'):
            link = 'http://' + url[1] + link
        elif link.startswith('#'):
            link = 'http://' + url[1] + url[2] + link
        elif not link.startswith('http'):
            link = 'http://' + url[1] + '/' + link

        if link not in crawled:
            tocrawl.append(link) 
```

那条线对我来说看起来像是某种列表理解，但我不确定，我需要一个解释。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-02T11:16:58.543

它是一个[生成器表达式](http://docs.python.org/tutorial/classes.html#generator-expressions)`links`，它只是在您迭代它时清空列表。

他们本可以更换这部分

```
a = (links.pop(0) for _ in range(len(links))) //What does this do?

for link in a: 
```

有了这个：

```
while links:
    link = links.pop(0) 
```

它的工作原理是一样的。但由于从列表末尾弹出更有效，这将比以下任何一种都好：

```
links.reverse()
while links:
    link = links.pop() 
```

当然，如果您可以按相反顺序跟踪链接（我不明白为什么需要按顺序处理它们），那么不颠倒`links`列表而直接弹出结尾会更有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:28:47.493

它创建了一个生成器，它将对象从链接列表中删除。

解释：

`range(len(links))`返回从 0 到但不包括链接列表长度的数字列表。所以如果 links 包含`[ "www.yahoo.com", "www.google.com", "www.python.org" ]`，那么它将生成一个列表 [0, 1, 2 ]。

`for _ in blah`, 只是循环列表，丢弃结果。

`links.pop(0)`从链接中删除第一项。

整个表达式返回一个生成器，它从链接列表的头部弹出项目。

最后，在 python 控制台中进行演示：

```
>>> links = [ "www.yahoo.com", "www.google.com", "www.python.org "]
>>> a = (links.pop(0) for _ in range(len(links)))
>>> a.next()
'www.yahoo.com'
>>> links
['www.google.com', 'www.python.org ']
>>> a.next()
'www.google.com'
>>> links
['www.python.org ']
>>> a.next()
'www.python.org '
>>> links
[] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:16:34.757

```
a = (links.pop(0) for _ in range(len(links))) 
```

也可以写成：

```
a = []
for _ in range(len(links)):
    a.append(links.pop(0)) 
```

**编辑：**

唯一的区别是在使用生成器时它是懒惰地完成的，因此项目仅在通过 a 请求时才从链接中弹出。而不是一次全部，在处理大量数据时效率更高，如果不使用高级 pythonic 函数，就无法做到这一点。

# javascript - JS中空格的CSS问题

> ID：11776244
> 
> 赞同：1
> 
> 时间：2012-08-02T11:12:21.340
> 
> 标签：javascript

我试图创建图例来映射。

图例应采用颜色名称和文本格式。（例如蓝色1-10）

颜色和文本之间有空格的问题，我希望文本与颜色对齐，而不是在中间。文本存在于 div 中间）

您能否建议我如何将文本与颜色附近的左侧对齐？

CSS 文件

```
#legendWrapper {
position : absolute;
top : 700px;
right: 70px;
} 

 #legend {
    background-color: #FFF;
    margin: 10px;
    padding: 5px;
    width: 150px;
  }

 #legend p {
    font-weight: bold;
    margin-top: 3px;
  }

#legend div {
    clear: both;
}

.color {
    height: 12px;
    width: 12px;
    margin-right: 3px;
    float: left;  
    display: block;     
  } 
```

JS文件

```
 var legendWrapper = document.createElement('div');
            legendWrapper.id = "legendWrapper";
            parentSelector.appendChild(legendWrapper);

             var legend = document.createElement('div');
             legend.id = 'legend';

             var title = document.createElement('p')
             title.innerHTML = 'Map Title';
             legend.appendChild(title);

             for ( var i  = 0; i < 5  ;i++){
                 var legendItem = document.createElement('div');
                 var color = document.createElement('span');
                 color.setAttribute('class', 'color');
                 color.style.backgroundColor = "blue";
                 legendItem.appendChild(color);

                 var minMax = document.createElement('span');
                 minMax.innerHTML = "6100000" + ' - ' + "9050000";
                 legendItem.appendChild(minMax);

                 legend.appendChild(legendItem);                              

             }
             legendWrapper.appendChild(legend); 
```

# jquery - 在cakePHP中使用jQuery ajax方法，将新保存的数据的id返回给ajax onSuccess

> ID：11776248
> 
> 赞同：0
> 
> 时间：2012-08-02T11:12:27.303
> 
> 标签：jquery, ajax, cakephp

我正在使用 cakePHP 2.2.1

我有一个**目标控制器**，其中有一个**添加**操作。此操作将发布的数据保存到目标表。

在**add.ctp**中使用 jQuery ajax 方法将表单数据发布到上述**添加**操作。

我想要的是，

1.  ajax 方法将表单数据发布到目标/添加
2.  目标/添加操作将数据保存到目标表
3.  使用 $this->Goal->id 获取新插入行的 id
4.  将此id返回给ajax方法的onSuccess函数

步骤 1、2、3 工作正常。但我不知道如何实现第 4 步。

我知道 php 是服务器端，而 js 是客户端。无论如何我可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:30:07.103

请务必阅读有关[Json 视图](http://book.cakephp.org/2.0/en/views/json-and-xml-views.html)的书籍条目并实现以下内容：

```
// Routes.php
Router::parseExtensions('json');

// Controller
$this->set('id', $this->Goal->id);
$this->set('_serialize', array('id'));

// AppController.php
public $components = array('RequestHandler'); // Or add 'RequestHandler' to the existing list. 
```

然后你需要将你的 ajax 发布到`/goals/add.json`，Cake 将识别`.json`扩展名并结合 .`$this->set('_serialize')`并返回一个 json 字符串`{ id: 1 }`。

然后在你的`$.ajax`函数中，有一个这样的成功调用：

```
$.ajax({
    url: '/goals/add.json',
    dataType: 'json'
    // other settings
    success: function(response) {
        alert(response.id); // response contains the returned data
    }
}); 
```

# matlab - 在MATLAB中的向量中的非零元素之间插入可变数量的零

> ID：11776251
> 
> 赞同：3
> 
> 时间：2012-08-02T11:12:36.753
> 
> 标签：matlab, vector, zero

我有一个像这样的向量：

```
a = [1,2,3,4,5,6...,n] 
```

我想获得一个像这样的新向量：

```
a_new = [1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,...,0,0,n] 
```

其中在非零元素之间插入了固定数量的零（上例中为 2）。如果我选择`zero_p=3`，新向量将是：

```
a_new = [1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,...,0,0,0,n] 
```

等等

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:58:54.283

试试这个：

```
zero_p=3;
a_new=zeros(1, (zero_p+1)*length(a)-zero_p);
a_new(1:(zero_p+1):end)=a; 
```

（未经测试，但希望可以工作。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-02T13:02:08.510

我能想到几种方法：

## 克罗内克产品

kronecker 产品非常适合这一点。在 Matlab`kron`中，您正在寻找的是：

```
a = 1:4;
a = kron(a, [1 0 0])

ans = 

    1     0     0     2     0     0     3     0     0     4     0     0 
```

或者，概括地说，

```
a = 1:4;
zero_p = 3;
b = [1 zeros(1,zero_p-1)];
a = kron(a, b)

ans = 

    1     0     0     2     0     0     3     0     0     4     0     0 
```

如果你想让它以非零元素结束，你必须做一个额外的步骤：

```
a = a(1:end-zero_p); 
```

或者，如果你喜欢单行，整个事情可以这样完成：

```
a = 1:4;
zero_p = 3;
a = [kron(a(1:end-1), [1 zeros(1,zero_p-1)]), a(end)]

ans = 

   1     0     0     2     0     0     3     0     0     4 
```

## 零填充

可能是最简单的方法和最好的性能：

```
 a = 1:4;
 zero_p = 3;
 a = [a; zeros(zero_p, size(a, 2))];
 a = a(1:end-zero_p); 
```

## 矩阵乘法

同样简单、易读且性能出色，尽管在此特定场景之外的许多情况下它可能有点矫枉过正：

```
a = 1:4;
b = [1; zeros(zero_p, 1)];
a = b*a;
a = a(1:end-zero_p); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-01T23:45:01.767

x = [1 2 3 4 5]；上采样（x，3）

o/p：1 0 0 2 0 0 3 0 0 4 0 0 5 0 0

干杯！！

# sql - listagg 函数失败

> ID：11776257
> 
> 赞同：0
> 
> 时间：2012-08-02T11:12:52.790
> 
> 标签：sql, oracle, oracle11g, plsqldeveloper

我正在尝试将 listagg 用作 listagg(select...) 方式，但我想这不可能以我想说的方式。

我有一个度数表。

```
Degree table:
-----------------------------------------------
| user_id | degree_fi | degree_en | degree_sv |
-----------------------------------------------
| 3601464 | 3700      |  1600     |  2200     |
|  1020   | 100       |  0        |   0       |
| 3600520 |  100      | 1300      |  1400     |
| 3600882 |  0        |   100     |  200      |
| 3600520 |  3200     |   800     |  600      |
| 3600520 |  400      | 3000      |  1500     |
----------------------------------------------- 
```

然后我有另一个表格，上面有这些等级的名称。

```
codes:
------------------------------
|  degree_code |  degree_text|
------------------------------
|   3700       |  Masters    |
|   100        | Bachelors   |
|   3200       | Doctorate   |
|   400        |  Diploma A  |
|   1600       | High school |
|   1300       | Secondary   |
|   800        | Post doc    |
|   3000       | Training    |
|   2200       | LLB         |
|   1400       | M.Sc        |
|   200        |  B.Sc       |
|   600        | Foreign Dip |
|   1500       | Failure     |
------------------------------ 
```

我想要的是这样的：

```
--------------------------------------------------------------------------------------------------------------------------------------------------------------
 | user_id | degree_fi    | degree_fi_txt                   | degree_en       | degree_en_txt                  |degree_sv        | degree_sv_txt              |
 --------------------------------------------------------------------------------------------------------------------------------------------------------------
 | 3601464 | 3700         | Masters                         | 1600            |  high school                   |  2200           |   LLB                      |
 |  1020   | 100          | Bachelors                       | 0               |                                |   0             |                            |
 | 3600520 | 100,3200,400 | Bachelors, Doctorate, Diploma A | 1300, 800, 3000 |  secondary, post doc, Training | 1400, 600, 1500 | M.Sc, Foreign Dip, Failure | 
 | 3600882 |  0           |                                 | 100             |  Bachelors                     |  200            |   B.Sc                     |
  ------------------------------------------------------------------------------------------------------------------------------------------------------------- 
```

我曾尝试使用这样的 listagg 函数：

```
SELECT user_id, listagg(degree_fi, ',') within GROUP (ORDER BY degree_fi) degree_fi,
                listagg(SELECT degree_text from codes WHERE degree_code IN (SELECT degree_fi feom degree), ',') within GROUP (ORDER BY degree_text) degree_fi_txt,
                listagg(degree_en, ',') within GROUP (ORDER BY degree_en) degree_en,
                listagg(SELECT degree_text from codes WHERE degree_code IN (SELECT degree_en feom degree), ',') within GROUP (ORDER BY degree_text) degree_en_txt,
                listagg(degree_sv, ',') within GROUP (ORDER BY degree_en) degree_sv
                listagg(SELECT degree_text from codes WHERE degree_code IN (SELECT degree_sv feom degree), ',') within GROUP (ORDER BY degree_text) degree_sv_txt,
FROM  degree GROUP BY user_id 
```

但我正在用它撞墙。有什么推荐吗？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:58:04.053

您只需要加入`codes`表格三次，而不是使用`select`内部`listagg`：

```
SELECT user_id,
    listagg(d.degree_fi, ',')
        WITHIN GROUP (ORDER BY d.degree_fi) degree_fi,
    listagg(cf.degree_text, ',')
        WITHIN GROUP (ORDER BY d.degree_fi) degree_fi_txt,
    listagg(d.degree_en, ',')
        WITHIN GROUP (ORDER BY d.degree_en) degree_en,
    listagg(ce.degree_text, ',')
        WITHIN GROUP (ORDER BY d.degree_en) degree_en_txt,
    listagg(d.degree_sv, ',')
        WITHIN GROUP (ORDER BY d.degree_sv) degree_sv,
    listagg(cs.degree_text, ',')
        WITHIN GROUP (ORDER BY d.degree_sv) degree_sv_txt
FROM degree d
LEFT JOIN codes cf on cf.degree_code = d.degree_fi
LEFT JOIN codes ce on ce.degree_code = d.degree_en
LEFT JOIN codes cs on cs.degree_code = d.degree_sv
GROUP BY d.user_id
ORDER BY d.user_id;

   USER_ID DEGREE_FI            DEGREE_FI_TXT                  DEGREE_EN            DEGREE_EN_TXT                  DEGREE_SV            DEGREE_SV_TXT
---------- -------------------- ------------------------------ -------------------- ------------------------------ -------------------- ------------------------------
      1020 100                  Bachelors                      0                                                   0
   3600520 100,400,3200         Bachelors,Diploma A,Doctorate  800,1300,3000        Post doc,Secondary,Training    600,1400,1500        Foreign Dip,M.Sc,Failure
   3600882 0                                                   100                  Bachelors                      200                  B.Sc
   3601464 3700                 Masters                        1600                 High school                    2200                 LLB 
```

我不确定您是否希望这些`degree_text`值按字母顺序排序，或者与 ID 的顺序匹配；我选择了后者，但如果你想要前者，你可以将其更改`order by`为`cf.degree_text`等。

# java - 需要计数值为0表示输出显示

> ID：11776262
> 
> 赞同：0
> 
> 时间：2012-08-02T11:13:30.407
> 
> 标签：java, mysql, loops, conditional-statements

我尝试开发一个 java 应用程序。这里正在从 mysql 数据库获取信息。我的代码是：

```
public class RetailerWs {
  public int data(){
    int count=0;
    try {
      Class.forName("com.mysql.jdbc.Driver");
      Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/pro","root","");
      PreparedStatement statement =  con.prepareStatement("select * from orders where status='Q' AND MONTH(date) = MONTH(CURDATE()) AND YEAR(date) = YEAR(CURDATE())");
      ResultSet result = statement.executeQuery();
      while(result.next()) {
        // Do something with the row returned.
        count++; //if the first col is a count.
      }
    }
    catch(Exception exc){
      System.out.println(exc.getMessage());
    }
    return count;
  }
} 
```

另一类是：

```
 public class Demo {
 public static void main(String[] args){
    RetailerWs obj = new RetailerWs();
    System.out.println(obj.data());
 }

} 
```

在这里我必须检查查询并显示计数值是否成功。但我怀疑查询匹配项为零表示输出显示空白。但我希望它是显示 0.不显示空白屏幕..所以请帮忙我该怎么办。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:20:20.237

创建类 RetailerWs 的对象。

```
RetailerWs  obj =new RetailerWs ();
System.out.println(obj.data()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:21:32.320

该声明

```
System.out.println(new RetailerWs().data()); 
```

将始终**无条件地**打印一个整数值，即使该值为 0。除非异常阻止它执行，否则。

# windows - IShellView：如果 AutoView 未选择详细信息，则不隐藏 ColumnHeaders

> ID：11776266
> 
> 赞同：0
> 
> 时间：2012-08-02T11:13:46.387
> 
> 标签：windows, winapi, windows-shell, windows-explorer, columnheader

我正在使用带有 FVM_AUTO (-1) 标志的 IShellView 实例作为视图模式。这意味着资源管理器应该选择适合显示文件夹内容的视图样式。这工作得很好，除了这个事实，列标题对于除详细信息以外的视图样式是可见的，例如缩略图。

IShellView 对象和视图窗口是这样创建的：

```
ShellFolder1.CreateViewObject(this.Handle, 
                              ref IID_IShellView, 
                              out shellViewObject));
IShellView shellView = shellViewObject as IShellView;
FolderSetting folderSettings = new FolderSetting();
folderSettings.ViewMode = (int)View; // view is FVM_AUTO = -1
folderSetting.FolderFlags = FolderFlags.NoClientEdge
                            | FolderFlags.ExtendedTiles
                            | FolderFlags.AutoArrange
                            // only columnheaders for view mode details
                            | FolderFlags.NoHeaderInAllViews;
shellView.CreateViewWindow(oldView, ref folderSettings, isb, 
                            ref rect, ref m_ShellViewHandle); 
```

可以在此处找到可用文件夹标志的列表：http: [//msdn.microsoft.com/en-us/library/bb762508 (VS.85).aspx](http://msdn.microsoft.com/en-us/library/bb762508(VS.85).aspx)

有什么建议可以告诉视图仅在自动视图模式下为“详细信息”显示列标题？设置 FolderFlags.NoColumnHeader 不会改变任何东西。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T14:33:33.090

此行为似乎是一个错误，并在[MS connect上报告](https://connect.microsoft.com/VisualStudio/feedback/details/757170/ishellview-columnheaders-not-hidden-if-autoview-does-not-choose-details-for-a-library)

**来自 MS 支持的附加信息**：
该文件夹控制视图。您传递给 CreateViewWindow 的值仅仅是建议。在大多数情况下，这些建议是受尊重的，但技术上允许文件夹忽略它们。

特别是，这种情况会覆盖与 Windows XP 兼容的建议。如果您使用 IShellView3::CreateViewWindow3，则此兼容性行为不适用，并且应该更好地尊重标志。*您可以使用 SV3CVW3_FORCEFOLDERFLAGS 标志使您的建议更加明确。*

--> 使用[IShellView3.CreateViewObject3](http://msdn.microsoft.com/de-de/library/windows/desktop/bb774819%28v=vs.85%29.aspx)和 ForceFolderFlags 标志

# wix - 如何从 .msi 执行 .bat 而不在 .msi 本身中包含 .bat？

> ID：11776267
> 
> 赞同：1
> 
> 时间：2012-08-02T11:13:45.887
> 
> 标签：wix, windows-installer

我的目标是创建一个简单的 msi 包，它除了运行与 .msi 位于同一文件夹中的 .bat 脚本之外什么都不做。我不需要在目标机器上复制任何文件或创建文件夹等。我尝试将 Wix 3.5 与 vb-script 一起使用，它将运行我需要的 .bat。vb 代码本身运行良好，但在 .msi 内部它以一种奇怪的方式运行 - 我可以看到一个带有“路径”的消息框，我没有错误，但脚本不执行 .bat。

```
 <Property Id="Launch">
  <![CDATA[
  Function Main()
    Set shell = CreateObject("WSCript.shell") 
    path = Session.Property("SourceDir") 
    MsgBox path
    shell.Run path & "sample.bat", 0, False
    Set shell = Nothing
    Main = 1
  End Function
  ]]>
</Property> 
<CustomAction Id="Die"
              VBScriptCall="Main"
              Property="Launch"                   
              Return="check"              
              Impersonate="yes"/>

  <InstallExecuteSequence>
     <Custom Action='Die' Before='RegisterProduct'> NOT Installed </Custom>  
  </InstallExecuteSequence> 
```

我还尝试了另一种方法：

```
<Property Id='CMD'>cmd.exe</Property>
  <CustomAction Id='LaunchFile' Property='CMD' ExeCommand='[SourceDir]sample.bat' Return='check' Impersonate='yes'/> 
```

但是，如果我将“notepad.exe”放在属性中 - 一切都很好，当我使用“cmd.exe”时，控制台会在不执行我的 sample.bat 的情况下打开和关闭。如果是“notepad.exe”，则显示“sample.bat”的内容。你们能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T19:33:59.237

尝试添加`/C`到 ExeCommand

```
<CustomAction Id='LaunchFile' Property='CMD' ExeCommand='/C [SourceDir]sample.bat' Return='check' Impersonate='yes'/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-17T15:52:14.427

嗯，这很容易......实际上，一切都很好，但是 .bat 本身正在计算`%WinDir%\System32\`我刚刚放在`CD %~dp0`.bat 的第一行的相对路径，它开始正常工作。

# javascript - 需要创建一个函数，将我自己创建的范围对象转换为字符串？

> ID：11776268
> 
> 赞同：1
> 
> 时间：2012-08-02T11:13:46.853
> 
> 标签：javascript

下面是我用来在整个程序中创建范围对象的代码

```
function parseRangeString(id, range) {
    var myRangeString = range;
    var myRangeStringArray = myRangeString.split(/[\s]+/);
    var myMax;
    var myMin;
    var myMinOp;
    var myMaxOp;
    var myMaxInc = false;
    var myMinInc = false;
    var op1;
    var op2;
    var cons1;
    var cons2;
    op1 = myRangeStringArray[0];
    cons1 = parseFloat(myRangeStringArray[1]);
    if (myRangeStringArray[2] != null) {
        op2 = myRangeStringArray[3];
        cons2 = parseFloat(myRangeStringArray[4]);
    }
    if (cons1 < cons2) {
        myMin = cons1;
        myMinOp = op1;
        myMax = cons2;
        myMaxOp = op2;
    } else {
        myMin = cons2;
        myMinOp = op2;
        myMax = cons1;
        myMaxop = op1;
    }
    if (myMaxOp.indexOf('=') != -1) {
        myMaxInc = true;
    }
    if (myMinOp.indexOf('=') != -1) {
        myMinInc = true;
    }
    firstRange = new Range(id, myMin, myMax, myMinInc, myMaxInc); //gives back a range object
    return firstRange;
} 
```

现在我需要创建另一个将范围对象转换为字符串的函数，因为我被困在 atm 中，所以需要尽快帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:21:29.807

您可以覆盖`toString`javascript 对象上的标准函数，以使它们返回您想要的任何内容。考虑这个例子（[演示](http://jsfiddle.net/unUaW/1/)）：

```
var a = { some_property:'this could be coming from the user' }; // create a new object
a.toString = function(){
    // in here, the "this" will point to the object in "a" variable. (well, at least mot of the times)
    return this.some_property;
};
console.log(''+a); // force the object to string 
```

如果你创建很多这样的对象，考虑使用`prototype`它们中的一个来放置`toString`函数，效率会更高，MDN 有[很好的例子](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/toString)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-02T11:21:00.547

好吧，我想我每天都会给出相同的答案。:)

```
JSON.stringify( range ); 
```

# android - 使用区域字符 (pt_PT) 在 android 中搜索 SQLite 数据库且不区分大小写

> ID：11776277
> 
> 赞同：3
> 
> 时间：2012-08-02T11:14:39.257
> 
> 标签：android, database, sqlite, sql-like

如何使用此记录搜索表（tbl）：

```
_id   name
----- ----------
1     antónio
2     antonio
3     antõnio
4     ANTONIO
5     ANTÓNIO

select * from tbl where name like "%to%" COLLATE LOCALIZED; 
```

结果是：

```
_id   name
----- ----------
2     antonio
4     ANTONIO 
```

但结果必须是全部 5 条记录！

# sql-server - 如果 nvarchar 的长度为 x 则更改它

> ID：11776280
> 
> 赞同：2
> 
> 时间：2012-08-02T11:14:56.850
> 
> 标签：sql-server, alter, nvarchar

我一直在对数据库进行更改并正在创建一个脚本，以便它可以在原始数据库上运行以继承我所做的所有更改。

我需要更改 NVARCHAR 的长度，但想在更改列之前检查它的长度。我在语法上有点挣扎，有人可以帮我吗？

```
SELECT LEN(colName) AS MyLength FROM tblName
IF MyLength = 60
BEGIN
    ALTER TABLE tblName
    ALTER COLUMN colName nvarchar(140) NOT NULL
END
GO 
```

如果我尝试在 SQL Server Management Studio 中运行此查询，我会收到一条错误消息：

> 列名“MyLength”无效。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:17:23.543

试试这个：

```
IF (select max(LEN(colName)) from tblName) = 60
BEGIN
    ALTER TABLE tblName
    ALTER COLUMN colName nvarchar(140) NOT NULL
END
GO 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:16:59.943

您需要将其定义为变量

```
declare @i int
select @i = len(colname) from table 
```

但这无论如何都不起作用，因为它返回数据的长度，而不是作为 varchar 的列本身是可变的。尝试查看`sysobjects`and`syscolumns`表或`Information_Schema.Columns`代替

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-04-24T16:49:28.240

跟进 podiluska 的回答，您正在寻找的完整命令是：

```
IF (SELECT [CHARACTER_MAXIMUM_LENGTH] FROM INFORMATION_SCHEMA.COLUMNS WHERE [COLUMN_NAME] = 'ColumnName' AND [TABLE_NAME] = 'TableName') < 140
BEGIN
    ALTER TABLE [dbo].[TableName] ALTER COLUMN [ColumnName] NVARCHAR(140) NOT NULL
END 
```

重申一下， using`MAX(LEN())`只会给你列中最长字符串的长度，而不是最大允许长度！

# .net - MSBuild - 使用旧版本的程序集

> ID：11776283
> 
> 赞同：1
> 
> 时间：2012-08-02T11:15:10.883
> 
> 标签：.net, visual-studio-2010, msbuild, tfsbuild

我有：

*   共享功能库 [A]
*   另一个引用 A [A1] 的 v1 的库 [B]

我当前的 Visual Studio 解决方案有：

*   A dll [L]，（文件）引用 B
*   一个 WindowsService [S]，它（项目）引用 L 并且还具有对 A 的更新但向后兼容的版本 [A2] 的文件引用。

当我在 Visual Studio 中构建解决方案时，一切正常。S 的 bin 文件夹包含 L、B 和 A2（与 B 兼容，因此效果很好）。

但是，如果我使用 MSBuild（通过 TeamBuild）进行构建，最终的构建文件夹会以 L、B 和 A1 结尾。A1 没有 S 需要的库 A 的新特性，所以当你尝试运行它时，S 会掉下来。

* * *

我已经阅读了一些内容，表明这与被 MSBuild 忽略的 .sln 的构建顺序有关。

正如我所料，我发现 L 的 bin 目录包含 B 和 A1，因为其中没有任何对 A2 的引用。因此，大概当 MSBuild 构建了 L（本地拉入 B 和 A1）和 S（拉入 L 和 A2）时，它必须将所有二进制文件合并到构建的最终输出中。我不明白是什么让它选择A1（来自L bin）而不是A2（来自S bin）？

我很感激没有什么可以说它应该是相反的，但我只是不知道 MSBuild 使用什么标准来进行这个调用。

任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T10:15:58.707

汤姆teambuild中msbuild的工作方式是所有项目的所有输出dll都放在输出目录中。此输出目录为解决方案中的所有项目共享。因此，如果您有相同 dll 的不同版本，它们将相互覆盖。

解决此问题的方法是使用此类项目的子目录 $(Outdir)\SpecificDir 或使用版本标记重命名 dll，即 A.1.0.dll 和 A.dll

# weblogic - Weblogic 在运行现有应用程序时尝试访问不存在的应用程序

> ID：11776285
> 
> 赞同：4
> 
> 时间：2012-08-02T11:15:21.357
> 
> 标签：weblogic, jdeveloper, oracle-adf

我正在尝试在 Windows 上使用 JDeveloper IDE 运行 Oracle ADF 应用程序（例如“MyApp”）。

当我运行 MyApp 时，Weblogic Server 会抛出一个 DeploymentException，它不会停止 MyApp 的执行过程。

错误日志是：

```
Failed to initialize the application 'Demo' due to error \
 weblogic.management.DeploymentException: [Deployer:149003]Unable to access \
  application source information in \
  'C:\Users\AppData\Roaming\JDeveloper\system11.1.1.4.37.59.23\o.j2ee\drs\Demo' \
  for application 'Demo'. \
  The specific error is: [Deployer:149158] No application files exist at \ 
   'C:\Users\AppData\Roaming\JDeveloper\system11.1.1.4.37.59.23\o.j2ee\drs\Demo'... \
   weblogic.management.DeploymentException: [Deployer:149003]Unable to access \
   application source information in \
  'C:\Users\AppData\Roaming\JDeveloper\system11.1.1.4.37.59.23\o.j2ee\drs\Demo' \
  for application 'Demo'. \
The specific error is: [Deployer:149158] No application files exist at \
'C:\Users\AppData\Roaming\JDeveloper\system11.1.1.4.37.59.23\o.j2ee\drs\Demo'..
at weblogic.deploy.internal.targetserver.BasicDeployment.verifyLocalApp(BasicDeployment.java:124)
                at weblogic.deploy.internal.targetserver.BasicDeployment.createDeployment(BasicDeployment.java:146)
                at weblogic.deploy.internal.targetserver.AppDeployment.prepare(AppDeployment.java:114)
                at weblogic.management.deploy.internal.DeploymentAdapter$1.doPrepare(DeploymentAdapter.java:39)
                at weblogic.management.deploy.internal.DeploymentAdapter.prepare(DeploymentAdapter.java:191) 
```

演示应用程序已从 drs(Data Replication Service) 文件夹中删除，并且该应用程序已在 JDeveloper 中关闭。

但是在编译 MyApp 时它仍然会尝试访问 Demo 应用程序文件。我已经搜索过这个错误但找不到任何有用的东西。

我想知道为什么 weblogic 会检查 drs 文件夹中不存在于 drs 文件夹中的应用程序。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T18:21:42.200

您可以直接从 JDeveloper 内部从 WLS 中删除应用程序。见：[https ://blogs.oracle.com/shay/entry/removing_applications_from_you](https://blogs.oracle.com/shay/entry/removing_applications_from_you)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T16:12:26.030

进入 WebLogic 管理控制台并确保所有对演示应用程序的引用都从已部署的应用程序列表中删除。

# r - 使用 gsub 从字符串中删除模式

> ID：11776287
> 
> 赞同：32
> 
> 时间：2012-08-02T11:15:42.670
> 
> 标签：r, gsub

我正在努力删除字符串中下划线之前的子字符串。我想使用 * （通配符）作为下划线之前的位可以变化：

```
a <- c("foo_5", "bar_7")

a <- gsub("*_", "", a, perl = TRUE) 
```

结果应如下所示：

```
> a
[1] 5 7 
```

我也尝试过诸如“^* *”或“?* ”之类的东西，但并没有真正奏效。

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-08-02T11:19:00.527

以下代码适用于您的示例：

```
gsub(".*_", "", a) 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-04-09T20:20:57.263

**或者，您也可以尝试：**

```
gsub("\\S+_", "", a) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-06-02T18:43:53.480

只是要指出，有一种方法使用来自 的函数`tidyverse`，我发现它比以下更具可读性`gsub`：

```
a %>% stringr::str_remove(pattern = ".*_") 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2017-07-23T03:08:37.003

```
as.numeric(gsub(pattern=".*_", replacement = '', a)
[1] 5 7 
```

# c# - ASP.NET MVC4 用户配置文件

> ID：11776294
> 
> 赞同：4
> 
> 时间：2012-08-02T11:16:05.307
> 
> 标签：c#, profile

在 ASP.NET MVC4 中处理用户配置文件的最佳实践是什么？

我想将自定义字段添加到我的用户配置文件中，例如姓名、姓氏、关于和其他，这是现成的解决方案吗？

现在我的解决方案是：创建新用户帐户时，我会在我的用户表中自动创建一个条目（主键是用户 Guid），并且我保留姓名、姓氏和我的操作点 - 照片、评论（1 个用户有很多照片，1照片有很多评论） - 这是一个很好的解决方案 - 或者我坐在 MS 的一些自动魔法上来做这个用户配置文件并将它链接到我的数据？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-08T17:44:38.413

MVC4 对成员资格和配置文件使用了非常不同的方法。SQL 表要简单得多，但是如果您参考旧教程，您很快就会感到非常困惑。

它仍然很新，所以没有大量的参考资料，但是有两个非常有用的链接可以进一步了解它......

[http://geekswithblogs.net/Aligned/archive/2012/08/30/mvc-4-authentication.aspx](http://geekswithblogs.net/Aligned/archive/2012/08/30/mvc-4-authentication.aspx)

以及上面文章中的第一个链接 [http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4- 5-web-forms-and-asp-net-mvc-4-templates.aspx](http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx)

在用户配置文件方面，现在有一个表格来保存这些（很像旧版本），但这次每个项目都有一个列，而不是以前使用的混乱。

# java - 动作监听器不工作

> ID：11776296
> 
> 赞同：1
> 
> 时间：2012-08-02T11:16:09.093
> 
> 标签：java, swing, action, actionlistener

I am trying to implement an ActionListener for a JComboBoxe so that when an item in the list is selected, and the ok jbutton clicked, I want it to appear in a new gui I have defined with a textfield in it therefore when an item is selected从组合框中，它将出现在 gui 的文本字段中，并显示所选项目的详细信息。

这个例子显示了一个组合框，但我总共有 6 个。

```
jComboBox4.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
jComboBox4.addMouseListener(new java.awt.event.MouseAdapter() {
    public void mouseClicked(java.awt.event.MouseEvent evt) {
        jComboBox4MouseClicked(evt);
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T21:53:42.007

首先添加一个`ActionListener`到所需的按钮

```
// When the button is clicked this is called...
public class ButtonActionListener extends ActionListener {
    public void actionPerformed(ActionEvent evt) {
        Object value = comboBox.getSelectedItem();
        // check for null value
        // do what ever it is you want to do after that...            
    }
} 
```

如果你想监听 Co​​mboBox 的变化，你有很多选择，最简单的就是 ActionListener

```
// When the button is clicked this is called...
public class ComboBixActionListener extends ActionListener {
    public void actionPerformed(ActionEvent evt) {
        Object value = comboBox.getSelectedItem();
        // The combo box value has changed, maybe update the text field???
    }
} 
```

# java - 如何表示成员字段默认为@Nonnull？

> ID：11776302
> 
> 赞同：25
> 
> 时间：2012-08-02T11:16:33.773
> 
> 标签：java, findbugs, jsr305

[我的问题是对这个](https://stackoverflow.com/questions/9255738/deprecated-annotations-in-findbugs-2-0)问题的跟进。

在过去的 FindBugs 版本中，可以使用`@DefaultAnnotation(Nonnull.class)`或`@DefaultAnnotationForFields(Nonnull.class)`指示包中的所有*字段*都应视为`@Nonnull`. 在当前版本的 FindBugs (2.0) 中，`@DefaultAnnotation`并`@DefaultAnnotationForFields`已弃用，我们都应该使用 JSR-305 来代替。但 JSR-305 似乎并未涵盖（现已弃用）FindBugs 注释所涵盖的所有内容。

[javadoc](http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/DefaultAnnotation.html)确实提出了一些替代方案：

*   `@ParametersAreNonnullByDefault`. 这（显然）仅适用于参数，不适用于成员字段。
*   `@CheckReturnValue`, 当应用于类型或包时。同样，这不适用于成员字段。
*   `@TypeQualifierDefault`. 也许这可以做我想做的事，但我不明白它是如何工作的，除了一些神秘的 javadoc 之外，我找不到任何关于其用法或意图的文档或示例。我认为它会帮助我创建自己的注释，但我能确定所有工具（FindBugs、Eclipse 等）都能正确解释这个新注释（甚至根本不解释）吗？

[javadoc](http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/DefaultAnnotationForFields.html)没有提供任何关于如何处理其弃用的提示。

那么，使用当前版本的 FindBugs 和/或 JSR-305，我应该如何指示某个包（甚至某个类）中的所有成员字段都应该被视为`@Nonnull`？甚至可能吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-04T10:41:52.777

我有一个类似的问题，发现以下似乎适用于 findbugs (2.0.1-rc2)

使用以下注解定义创建一个 java 文件

```
@Nonnull
@TypeQualifierDefault(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
public @interface FieldsAreNonNullByDefault
{
} 
```

同样，强制方法的所有返回值都是非空的

```
@Nonnull
@TypeQualifierDefault(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface ReturnTypesAreNonNullByDefault
{
} 
```

然后像往常一样注释包。

我在测试中使用了以下内容（package-info.java）

```
@javax.annotation.ParametersAreNonnullByDefault
@com.habit.lib.lang.FieldsAreNonNullByDefault
@com.habit.lib.lang.ReturnTypesAreNonNullByDefault

package com.mypackagename.subpkg; 
```

# javascript - 无法使用 jquery 设置 cookie

> ID：11776314
> 
> 赞同：1
> 
> 时间：2012-08-02T11:17:18.037
> 
> 标签：javascript, jquery, dhtml

我正在尝试使用以下代码使用 jquery 和 qtip 设置 cookie。正如你所看到的，当这个'beforeShow'事件被触发时，我需要设置一个cookie。当我看到警报时，我可以确认事件正在被触发，尽管我无法看到正在设置的 cookie？这段代码应该工作还是我错过了什么？
非常感谢，

```
 api: {
            beforeShow: function() {
                if(document.getElementById('CheckMessage')) {
                    alert("");
                    $.cookie("MyTestExampleCookie", "1");
                    return false;
                }
            }
        }, 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:18:51.330

你安装了 jQuery cookie 吗？

[https://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:23:08.297

除非您需要在用户离开页面后记住该值，否则您不需要 cookie。如果您只想知道是否触发了特定事件，请设置一个普通变量。

如果您确实需要使用 cookie 并在客户端操作这些客户端，那么使用上面建议的插件会更容易（但不是绝对必要的）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:52:29.380

```
document.cookie = ("MyTestExampleCookie=1"); 
```

虽然使用一些 cookie 库更可取

# python - python numpy转置没有按预期工作

> ID：11776318
> 
> 赞同：0
> 
> 时间：2012-08-02T11:17:32.733
> 
> 标签：python, arrays, matrix, transpose

我想通过不同的方式转置矩阵，但我没有成功。我第一次尝试这个

```
import numpy as np

z = self.mat 

print len(z), len(z[0])
print   '  z  ' + str(z) + ' ztr  ' + str(np.transpose(z)) 
```

使用`self.mat`矩阵（数组数组，[[...]，[...]，...]）。

控制台中打印的内容与我的预期不符：z 和 np.transpose(z) 相同。

我试过了`zip(*self.mat)`。这一次，问题是从 60*15 的原始矩阵，我得到一个 15*69 的转置矩阵。

你能想出一个解决办法吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T20:51:32.133

我为此工作

我使用以下来转置矩阵并保持数据结构类型“数组数组”（不是元组数组）：

```
 z = [list(x) for x  in zip(*z)] 
```

# spring - Spring Views - 将元素组合到视图中

> ID：11776319
> 
> 赞同：0
> 
> 时间：2012-08-02T11:17:38.320
> 
> 标签：spring, model-view-controller, jakarta-ee, spring-mvc, web

目前，在我们的部署中，我们有一个抽象类型的组件，它代表我们页面的一部分，基本上是一个元素，例如一个可以有多项选择的问题，一个文本框或任何其他形式的回答，或者一个用户可以选择的视频玩，基本上是一个可互换的页面碎片，基本上，我们的设计是在我们的网站中有一个特定区域，它将通过一个组件列表呈现，我们首先尝试让每个“页面”对象都有一个列表组件，并且每个组件都有一个方法 render 会返回一个 Spring View，我们认为我们可以遍历列表并以某种方式将视图混合在一起。

我们还尝试使用 XSTLViews，但没有更多成功，这似乎更多是设计问题，而且我们滥用了 Spring MVC 的使用方式。

我们真的很高兴收到有关如何正确操作的任何建议/提示/更正，以及对我们可能存在的误解的一些更正。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T16:49:43.650

听起来您已经完成了使用 AJAX 构建页面的设计的一半以上。您正在尝试将一堆组件混搭到一个请求中。如果你返回一个容器页面，然后为每个 URL 请求/插入一个 html 块，它被赋予了渲染时间。这些 URL 中的每一个都将引用单个组件。如果您包含大量这些组件，可能会影响性能，但它似乎适合设计。

# html - 从谷歌驱动器打开 html

> ID：11776324
> 
> 赞同：50
> 
> 时间：2012-08-02T11:17:49.337
> 
> 标签：html, google-drive-api

我用css3在html5中创建了一个页面。它在本地运行良好（我不使用任何服务器，只需双击索引即可打开它）。
我想把它放在谷歌驱动器中。我已经加载了所有需要的文档，但是当我尝试打开 html 时，我只能看到文本（我的意思是，它没有被执行，我只能看到源代码）。有什么建议吗？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2016-10-06T23:58:06.307

不再可用，[https://support.google.com/drive/answer/2881970?hl=en](https://support.google.com/drive/answer/2881970?hl=en)

> 使用 Google Drive 托管网页
> 
> 注意：此功能在 2016 年 8 月 31 日之后将不可用。

我强烈推荐[https://www.heroku.com/](https://www.heroku.com/)和[https://www.netlify.com/](https://www.netlify.com/)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-11-23T07:12:20.503

**编辑：截至 2016 年 8 月，Google Drive 不能再用于托管静态网页，因此此解决方案不再有效。**

1.  在云端硬盘中创建一个新文件夹并将其共享为“在网络上公开”。
2.  将您的内容文件上传到此文件夹。
3.  右键单击您的文件夹，然后单击详细信息。
4.  复制托管 URL 并将其粘贴到您的浏览器中。（例如[https://googledrive.com/host/0B716ywBKT84AcHZfMWgtNk5aeXM](https://googledrive.com/host/0B716ywBKT84AcHZfMWgtNk5aeXM)）
5.  如果 index.html 存在于您的文件夹中，它将启动它，否则列出您文件夹中的所有文件。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-05-21T03:59:15.663

我认为没有必要使用接受的答案中的方式“托管”内容。对于开发技能有限的普通用户来说太复杂了。

Google 实际上已经提供了托管功能，而无需使用 Drive SDK/API，您只需点击几下即可。看一下这个：

[http://support.google.com/drive/bin/answer.py?hl=en&answer=2881970](http://support.google.com/drive/bin/answer.py?hl=en&answer=2881970)

与user1557669的回答相同。但是，在第 4 步中，URL 不正确，就像：

[https://drive.google.com/#folders/](https://drive.google.com/#folders/) ...

获取正确的主机 URL。右键单击 html 文件（您必须先完成 1-3 步并将 html 放在公共共享文件夹中），然后从上下文菜单中选择“详细信息”。您会在详细信息面板底部附近找到托管 URL。它应该看起来像：

[https://googledrive.com/host/.../abc.html](https://googledrive.com/host/.../abc.html)

然后，您可以将链接分享给任何人。快乐分享。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-03-17T14:37:29.970

这里提供的许多解决方案似乎不再起作用。我目前正在使用 chromebook 并想查看 HTML5 横幅。现在通过 Google Drive 或其他应用程序（如之前的评论中提到的）这似乎是不可能的。

我最终用来查看 HTML5 的方法如下：

1.  打开 Google Adwords（如果没有，请创建一个免费帐户）
2.  点击顶部面板中的广告
3.  点击“+AD”并选择图片广告
4.  选择“上传广告”
5.  将您的 zip 文件拖放到该区域
6.  点击预览
7.  瞧，您将看到您的 HTML5 横幅完全美丽

可能有更简单的方法，但这种方法也很好。希望它对我有帮助并且效果很好。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-01-10T14:05:14.827

现在您可以使用 [https://sites.google.com](https://sites.google.com)

构建内部项目中心、团队网站、面向公众的网站等——所有这些都无需设计师、程序员或 IT 帮助。使用新的 Google 协作平台，构建网站变得轻而易举。只需将内容拖动到您需要的地方。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-11-05T21:08:38.323

虽然驱动器允许您编辑纯文本和 HTML 文件，但我不相信它们允许实际显示 HTML。我认为他们不希望人们从他们的驱动器空间托管网站。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-10T11:12:41.687

1.  在云端硬盘中创建一个新文件夹并将其共享为“在网络上公开”。
2.  将您的 HTML、JS 和 CSS 文件上传到此文件夹。
3.  打开 HTML 文件，您将在工具栏中看到“预览”按钮。
4.  从预览窗口分享看起来像 www.googledrive.com/host/... 的 URL，任何人都可以查看您的网页。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2015-08-30T18:47:07.633

找到查看您自己的 html 文件的方法（从此处（向下滚动以从 prac 回答）：[https](https://productforums.google.com/forum/#!topic/drive/YY_fou2vo0A) ://productforums.google.com/forum/#!topic/drive/YY_fou2vo0A ）

-- 使用 Get Link 获取带有 id=... 子字符串的 URL -- 将**uc**而不是在 URL中**打开**

# c# - SplashScreen - 无法找到来自另一个项目的图像

> ID：11776326
> 
> 赞同：2
> 
> 时间：2012-08-02T11:18:05.330
> 
> 标签：c#, .net, wpf, splash-screen

我尝试`SplashScreen`使用来自另一个项目的图像创建一个：

```
SplashScreen s = new SplashScreen("/MyAssembly;component/myImage.png"); 
```

使用此资源地址适用于常规图像，但我无法创建`SplashScreen`：

> 找不到资源“/MyAssembly;component/myImage.png”。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:46:51.473

使用闪屏的重载构造函数：`SplashScreen s = new SplashScreen(assembly, "myImage.png");`

`assembly`可以获取为`var assembly = Assembly.Load("MyAssembly")`（`"MyAssembly"`您的程序集的全名在哪里）。

# iphone - 如何更改 defaultCalendarForNewEvents 目标-c

> ID：11776331
> 
> 赞同：1
> 
> 时间：2012-08-02T11:18:31.927
> 
> 标签：iphone, objective-c, ios, ios4, eventkit

我想将事件保存在我选择的日历中，但该功能`setcalendar:calendarWithIdentifier()` 仅在 ios5 之后才有效，我想支持 ios4，因此我需要`defaultCalendarForNewEvents`在具有 Objective-c 的设备上进行更改。

请帮我一把！

# backbone.js - Chain Backbone.js 收集方法

> ID：11776333
> 
> 赞同：7
> 
> 时间：2012-08-02T11:18:36.097
> 
> 标签：backbone.js, underscore.js

如何在[主干.js](http://backbonejs.org/)中链接收集方法？

```
var Collection = this.collection;
Collection = Collection.where({county: selected});
Collection = Collection.groupBy(function(city) {
  return city.get('city')
});
Collection.each(function(city) {
  // each items
}); 
```

我尝试过这样的事情，但它是错误的：

```
Object[object Object],[object Object],[object Object] has no method 'groupBy' 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-02T13:51:14.467

您不能以这种方式访问`Backbone.Collection`​​方法（希望我没有错），但您可能知道大多数 Backbone 方法都是基于 Underscore.js 的方法，这意味着如果您查看[`where`](http://backbonejs.org/docs/backbone.html#section-94)方法的源代码，您会发现它使用了 Underscore。 js`filter`方法，所以这意味着你可以实现你想要的：

```
var filteredResults = this.collection.chain()
    .filter(function(model) { return model.get('county') == yourCounty; })
    .groupBy(function(model) { return model.get('city') })
    .each(function(model) { console.log(model); })
    .value(); 
```

`.value()`在这里对您没有任何用处，您正在`.each`为每个模型的方法内部制作“东西”，但是如果您想说返回一组过滤后的城市，您可以使用`.map`并且 in`filteredResults`将是您的结果

```
var filteredResults = this.collection.chain()
    .filter(function(model) { return model.get('county') == yourCounty; })
    .map(function(model) { return model.get('city'); })
    .value();
console.log(filteredResults); 
```

# objective-c - SublimeText 2 ObjC 符号（方法签名过滤器）

> ID：11776335
> 
> 赞同：1
> 
> 时间：2012-08-02T11:18:51.480
> 
> 标签：objective-c, editor, symbols, sublimetext2

我正在尝试使用 SublimeText2 作为我的编辑器来开发 iOS 应用程序（期望 IB 和 Coredata）。我无法获得以 objc 样式格式列出符号的插件或方法。例如。

```
- (void)unlockWasUnsuccessful:(int)falseEntryCode afterAttemptNumber:(int)attemptNumber 
```

符号应该是`unlockWasUnsuccessful:afterAttemptNumber:`，但它将它们显示为两行。这是将 ST2 符号列表与巧克力进行比较的图像。

![转到符号 CMD+R](../Images/9cc8ae9f094712cb6c76753eec4eb09b.png)

让我知道是否有办法/插件以正确的方式列出符号。

# sql - SQL - 多个计数作为附加列

> ID：11776338
> 
> 赞同：0
> 
> 时间：2012-08-02T11:18:57.907
> 
> 标签：sql

我有一个查询：

```
select e.Owner as 'Owner', COUNT(l.EnquiryID) as 'Total Sales Lines'
from DayBookQuoteLines l, DayBookEnquiries e
where l.EnquiryID = e.EnquiryID
and MONTH(e.enquirydate) = 8 and YEAR(e.enquirydate) = 2012 
group by e.Owner 
```

这将返回包含名称和总列的所有者列，但我希望再有两列我应用额外的过滤器并再次计数，添加：

```
l.LostStatusId =2 
```

和

```
l.LostStatusId =3 
```

所以我会得到一个看起来像这样的结果集：

```
Owner      Total Lines    Total Sold    Total Lost    

Person1    124            112           12 
```

我似乎无法正确查询。我正在尝试使用子选择，但显然缺少一些东西，我们将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:24:38.690

这将为您提供各种总数

```
select e.owner, LostStatusID , COUNT(l.EnquiryID)
from DayBookQuoteLines l
    inner join DayBookEnquiries e  
    on l.EnquiryID = e.EnquiryID    
group by owner, LostStatusID with rollup 
```

如果你想水平排列它，你需要一个 PIVOT。这取决于您的各种 SQL。

```
select owner, [2]+[3] as total, [2],[3]
from 
(
    select e.owner, LostStatusID , l.EnquiryID
    from DayBookQuoteLines l
        inner join DayBookEnquiries e  
        on l.EnquiryID = e.EnquiryID    

) v
    pivot
(count(enquiryid) for LostStatusID in ([2],[3])) p 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:26:52.870

您可以通过在满足条件时添加一个来有条件地计算记录。

```
select e.Owner as 'Owner', 
       COUNT(l.EnquiryID) as 'Total Sales Lines',
       sum(case when l.LostStatusId = 2 then 1 end) TotalSold,
       sum(case when l.LostStatusId = 3 then 1 end) TotalLost
  from DayBookQuoteLines l
 inner join DayBookEnquiries e
    on l.EnquiryID = e.EnquiryID
 where MONTH(e.enquirydate) = 8 
   and YEAR(e.enquirydate) = 2012 
 group by e.Owner 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:26:56.970

不看架构就很难写，但你试过这个：

```
select 
    e.Owner as 'Owner', 
    COUNT(l.EnquiryID) as 'Total Sales Lines'
    count(select count(a.salesMade) from DayBookQuoteLines where month=MONTH(e.enquirydate)) as totalSold,
    count(select count(a.lostSales) from DayBookQuoteLines where month=MONTH(e.enquirydate)) as totalLost
from 
    DayBookQuoteLines l, 
    DayBookEnquiries e
where 
    l.EnquiryID = e.EnquiryID
    and MONTH(e.enquirydate) = 8 
    and YEAR(e.enquirydate) = 2012 
group by e.Owner 
```

# wcf - 无法使用 webHttpBinding 在 WCF RESTful 服务中获得自定义身份验证

> ID：11776343
> 
> 赞同：0
> 
> 时间：2012-08-02T11:19:08.270
> 
> 标签：wcf, rest, authentication

我目前正在研究 WCF 以实现将通过 IIS 运行的 RESTful 服务。目前，我们的软件提供了针对各种来源对用户进行身份验证的能力

1.  我们自己的内部用户帐户存储在数据库中

2.  一个指定的 windows 活动目录，如果身份验证成功，则会进行查找以查找 windows 链接到哪个内部帐户

3.  另一个 LDAP 服务器，例如 Novell

所以我希望它工作的方式是客户端通过 SSL 发送带有身份验证标头（现在基本）的 http(s) 请求，然后服务将使用自定义身份验证来实现上述过程。

目前，我正在自托管服务并尝试使自定义身份验证示例正常工作，它可以正确启动，但是当我尝试从浏览器或可以附加身份验证标头的工具发出请求时，我得到的只是

“错误 101 (net::ERR_CONNECTION_RESET)：连接已重置。”

我在自定义身份验证类中设置了一个断点，但它永远无法到达，所以我猜测它的配置有问题。

我的应用程序配置；

```
<configuration>

...

<system.serviceModel>

    <bindings>
        <webHttpBinding>
            <binding name="secure">
                <security mode="Transport">
                    <transport clientCredentialType="Basic"></transport>
                </security>
            </binding>
        </webHttpBinding>
    </bindings>

  <services>
    <service name="CELCAT.RegisterMarker.RegisterMarker" behaviorConfiguration="myServiceBehavior">
      <endpoint address="https://mymachine:8001/servicename" 
                binding="webHttpBinding"
                bindingConfiguration="secure" 
                contract="myServiceContract" />
    </service>
  </services>

  <behaviors>
    <serviceBehaviors>
      <behavior name="myServiceBehavior">
        <serviceMetadata httpGetEnabled="True"/>
        <serviceDebug includeExceptionDetailInFaults="True"/>
          <serviceAuthorization serviceAuthorizationManagerType="MyServiceAuthorizationManager, authenticatonassembly" />

          <serviceCredentials>
              <userNameAuthentication userNamePasswordValidationMode="Custom"
                                      customUserNamePasswordValidatorType="servicenamespace, serviceassembly" />

              <serviceCertificate findValue="certname"
                                  storeLocation="LocalMachine"
                                  storeName="My"
                                  x509FindType="FindBySubjectName" />
          </serviceCredentials>
      </behavior>
    </serviceBehaviors>
  </behaviors>

</system.serviceModel>
</configuration> 
```

我读过一篇文章说我想要做的事情是不可能使用 WCF 开箱即用的，为了实现这一点，我需要编写一个自定义模块或请求拦截器，如下所述；

通过自定义模块进行身份验证； [http://custombasicauth.codeplex.com/](http://custombasicauth.codeplex.com/)

通过请求拦截器进行身份验证； [http://www.codeproject.com/KB/WCF/BasicAuthWCFRest.aspx](http://www.codeproject.com/KB/WCF/BasicAuthWCFRest.aspx)

这对我来说似乎应该是可能的，所以我的问题是

1.  我正在尝试做的事情可能吗？
2.  如果是这样，我做错了什么？或者如果不是，哪种解决方法最好？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T13:04:44.190

好的，经过 Andrew Church 的大量谷歌搜索和提示（感谢 Andrew），我已经弄清楚了。

问题是虽然我生成了证书，但我没有将它绑定到端口。帮助生成证书和绑定它们的步骤可以在以下位置找到：

[http://www.codeproject.com/Articles/24027/SSL-with-Self-hosted-WCF-Service](http://www.codeproject.com/Articles/24027/SSL-with-Self-hosted-WCF-Service)

然而，这要求你使用 httpcfg，这个工具在 Windows Vista 或 7（我的操作系统）上不存在，所以谷歌进一步透露了这篇文章；

[http://msdn.microsoft.com/en-us/library/ms733791.aspx](http://msdn.microsoft.com/en-us/library/ms733791.aspx)

这告诉我使用netsh，完美！不完全是，因为这需要一个名为 appid 的参数，我不知道在哪里可以找到它，所以进一步搜索返回这里；

[我应该在 netsh.exe 中使用什么 appid？](https://stackoverflow.com/questions/537173/what-appid-should-i-use-with-netsh-exe)

所以我按照所有步骤，注释掉了我的 app.config 的证书部分，嘿，我在自定义配置中遇到了我的断点。

希望这可以帮助其他有同样问题的人

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T19:36:04.420

我不确定这是否可行，但我过去所做的是使用自定义 HTTP 模块。我们的 API 使用访问令牌，因此我们使用模块检查标头是否存在令牌，如果不存在，我们将重定向到 api 中的身份验证端点。端点需要基本身份验证。希望这可以帮助。

# python - 如何保持 QPushbutton 被选中，然后在按钮网格中找到选择的内容（pyQt）

> ID：11776347
> 
> 赞同：3
> 
> 时间：2012-08-02T11:19:19.260
> 
> 标签：python, qt, qpushbutton

```
#!!/usr/bin/python

# Qt modules
from PyQt4 import QtCore, QtGui
import sys

class gui(QtGui.QDialog):
    def __init__(self, parent=None):
        QtGui.QDialog.__init__(self, parent)

        self.setWindowTitle('Grid of buttons')
        self.resize(450, 300)

#------------------------------------------------------------------------------ 
#       WIDGETS
#------------------------------------------------------------------------------

        self.grid = QtGui.QGridLayout()

        btnNum = 1
        columnCount = 0
        rowCount = 0

        while btnNum != 26:
            button = QtGui.QPushButton(str(btnNum))
            self.grid.addWidget(button, rowCount, columnCount)
            btnNum += 1

            if columnCount == 4:
                columnCount = 0
                rowCount += 1
            else:
                columnCount += 1

#------------------------------------------------------------------------------ 
#       LAYOUT
#------------------------------------------------------------------------------ 
        self.idChannelGroup = QtGui.QGroupBox("My Button Layout")
        self.idChannelGroup.setLayout(self.grid)

        self.mainLayout = QtGui.QVBoxLayout()
        self.mainLayout.addWidget(self.idChannelGroup)

        self.setLayout(self.mainLayout)   

def main():

    app = QtGui.QApplication(sys.argv)
    ex = gui()
    ex.show()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main() 
```

大家好...我有两个关于使用 QPushButton 的问题。我对 Qt 很陌生，所以如果这些看起来有点愚蠢，我提前道歉......

首先，有没有办法让 QPushButton 保持按下状态，即保持选中状态？

其次，查询所有按钮，找出当前选中的是哪个按钮？假设单击另一个按钮时它会释放？所以只会选择一个按钮。

任何帮助都会很棒。谢谢你。

干杯

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:46:32.360

> 首先，有没有办法让 QPushButton 保持按下状态，即保持选中状态？

是的，您将其设置为“可检查”（`setCheckable(true)`），“检查”时它处于“关闭”状态。

> ...所以只会选择一个按钮。

为此，只需将您的按钮添加到`QButtonGroup`. 它默认为独占，因此单击一个将取消按下任何其他。

# c# - 从 javascript 调用 ac# 函数

> ID：11776348
> 
> 赞同：-2
> 
> 时间：2012-08-02T11:19:19.823
> 
> 标签：c#, javascript

我有 C# 代码，其中嵌入了 javascript 代码。该`CalculateSalary()`方法在 C# 代码中定义。但是当我尝试从 javascript 代码中调用它时，会返回错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:23:53.837

哇，伙计，这太错误了。您的 c# 代码将在另一个上下文（服务器、服务等）中运行，而 javascript 将在浏览器上下文中运行。您不能直接从 javascript 调用在您的服务器中编写的方法。您需要一个像 ajax 这样的通信层或用 javascript 编写 CalculateSalary，以便它可以在客户端计算机（浏览器）上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:23:33.607

一个错误是this 应该在 javascript 附近的脚本`<">`中替换：`<'>`

```
"<script type='text/javascript'>alert('" + name+"');CalculateSalary();</script>"; 
```

# c++ - 为什么要调用通用模板函数？

> ID：11776349
> 
> 赞同：1
> 
> 时间：2012-08-02T11:19:22.823
> 
> 标签：c++

```
#include <iostream>

using namespace std;

     template <typename T> void compare(const T&, const T&){
        cout<<"T"<<endl;
     }
     void compare(const char*, const char*){

        cout<<"const char*"<<endl;
     }

int main()
{

     char a[]="123";

     char b[]="123";

     char *p1 = a, *p2 = b;

     compare(p1,p2);
    return 0;
} 
```

结果是：T

但为什么？实例化后模板函数可能是这样的：

比较（常量字符*&，常量字符*&）

与普通功能相同。应该调用普通函数！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:24:30.400

这就是为什么我认为写作`T const&`优于写作`const T&`。

模板函数使用`void(char* const&, char* const&)`比 更好匹配的签名来实例化`void(char const*, char const*)`，因为它不需要指针从`char*`到的转换`char const*`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:22:09.300

`T`推导出为`char *`，这给出了完全匹配。对于另一个超载，你不得不说，

```
 compare(static_cast<char const *>(p1), static_cast<char const *>(p2)); 
```

使其成为更好的匹配。

（或者首先声明`p1`and 。）`p2``char const *`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:35:53.210

`a`将和分配`b`给 const 不会使它们成为 const 的，这可能是混淆的根源。你如何声明它们是更重要的部分。我相信你需要像 Kerrek SB 所说的那样声明它们，以获得你想要的东西......

# jquery - 如何在没有回调的情况下在 fadeIn 之后运行函数？

> ID：11776350
> 
> 赞同：1
> 
> 时间：2012-08-02T11:19:28.483
> 
> 标签：jquery, function, callback, fadein

> **可能重复：**
> [使用 jQuery 检测 div 的高度何时发生变化](https://stackoverflow.com/questions/172821/detecting-when-a-divs-height-changes-using-jquery)
> [jQuery：获取 jQuery 中隐藏元素的高度](https://stackoverflow.com/questions/2345784/jquery-get-height-of-hidden-element-in-jquery)

有没有办法用jQuery检测fadeIn事件的完成，所以我可以在完成时触发一个函数？

我知道fadeIn 有一个内置的回调函数，但这需要我直接影响fadeIn 代码。我无权访问该代码，因此我想添加一个事件侦听器或其他东西来检测项目何时淡入。

我想这样做的原因是因为我有一些代码可以检测 div 的高度，但是在页面加载时这个 div 元素是隐藏的。我想检测 div 淡入后的高度。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-02T11:34:18.037

您可以使用 DOMAttrModified 事件，尽管这取决于您需要支持的浏览器，因为它仍处于试验阶段。

但是由于 jQuery`animate()`改变了`style`元素的属性，所以它是合适的。

```
//your code
var div = $('#some_div'), target_height = 100;
div.on('DOMAttrModified', function(evt) {
    if ($(this).height() == target_height) do_something();
});

//some code in another, untouchable script
$('#some_div').animate({height: 100}); 
```

# php - 使用 ajax 和 php 上传文件

> ID：11776351
> 
> 赞同：1
> 
> 时间：2012-08-02T11:19:30.393
> 
> 标签：php, javascript, ajax, html

我想使用ajax和php实现文件上传。我有一个表单输入标签。我想要输入标签的 onchange 事件，文件将被上传到服务器，我将在 javascript 的变量中获取文件的路径！所以，我想保持在同一页面上并上传文件，在 javascript 变量中获取文件路径。

任何伪代码、示例或教程将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T12:07:18.447

演示网址：--

[http://jquery.malsup.com/form/progress.html](http://jquery.malsup.com/form/progress.html)

您可以从此 url 下载 jQuery 文件并添加 html`<head>`标签

[http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js](http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js)

[http://malsup.github.com/jquery.form.js](http://malsup.github.com/jquery.form.js)

尝试这个：

这是我的 html 标记：

```
<!doctype html>
<head>
<title>File Upload Progress Demo #1</title>
<style>
body { padding: 30px }
form { display: block; margin: 20px auto; background: #eee; border-radius: 10px; padding: 15px }

.progress { position:relative; width:400px; border: 1px solid #ddd; padding: 1px; border-radius: 3px; }
.bar { background-color: #B4F5B4; width:0%; height:20px; border-radius: 3px; }
.percent { position:absolute; display:inline-block; top:3px; left:48%; }
</style>
</head>
<body>
    <h1>File Upload Progress Demo #1</h1>
    <code>&lt;input type="file" name="myfile"></code>
        <form action="upload.php" method="post" enctype="multipart/form-data">
        <input type="file" name="uploadedfile"><br>
        <input type="submit" value="Upload File to Server">
    </form>

    <div class="progress">
        <div class="bar"></div >
        <div class="percent">0%</div >
    </div>

    <div id="status"></div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script>
<script>
(function() {

var bar = $('.bar');
var percent = $('.percent');
var status = $('#status');

$('form').ajaxForm({
    beforeSend: function() {
        status.empty();
        var percentVal = '0%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    uploadProgress: function(event, position, total, percentComplete) {
        var percentVal = percentComplete + '%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    complete: function(xhr) {
     bar.width("100%");
    percent.html("100%");
        status.html(xhr.responseText);
    }
}); 

})();       
</script>

</body>
</html> 
```

我的PHP代码：

```
<?php
$target_path = "uploads/";

$target_path = $target_path . basename( $_FILES['uploadedfile']['name']); 

if(move_uploaded_file($_FILES['uploadedfile']['tmp_name'], $target_path)) {
    echo "The file ".  basename( $_FILES['uploadedfile']['name']). 
    " has been uploaded";
} else{
    echo "There was an error uploading the file, please try again!";
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:25:46.170

这是一种方法，也是我做到的。使用 XHR。在我们说话的时候，我已经启动并运行了

[通过 AJAX 和 jQuery 使用 HTML5 文件上传](https://stackoverflow.com/questions/4006520/using-html5-file-uploads-with-ajax-and-jquery)

[http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface](http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface)

```
$(':file').change(function(){
            var file = this.files[0];
            name = file.name;
            size = file.size;
            type = file.type;

            if(file.name.length < 1) {

            }
            else if(file.size > 100000) {
                alert("File is to big");
            }
            else if(file.type != 'image/png' && file.type != 'image/jpg' && !file.type != 'image/gif' && file.type != 'image/jpeg' ) {
                alert("File doesnt match png, jpg or gif");
            }
            else { 
                $(':submit').click(function(){
                    var formData = new FormData($('*formId*')[0]);
                    $.ajax({
                        url: 'script',  //server script to process data
                        type: 'POST',
                        xhr: function() {  // custom xhr
                            myXhr = $.ajaxSettings.xhr();
                            if(myXhr.upload){ // if upload property exists
                                myXhr.upload.addEventListener('progress', progressHandlingFunction, false); // progressbar
                            }
                            return myXhr;
                        },
                        //Ajax events
                        success: completeHandler = function(data) {
                            /*
                            * workaround for crome browser // delete the fakepath
                            */
                            if(navigator.userAgent.indexOf('Chrome')) {
                                var catchFile = $(":file").val().replace(/C:\\fakepath\\/i, '');
                            }
                            else {
                                var catchFile = $(":file").val();
                            }
                            var writeFile = $(":file");

                            writeFile.html(writer(catchFile));

                            $("*setIdOfImageInHiddenInput*").val(data.logo_id);

                        },
                        error: errorHandler = function() {
                            alert("Något gick fel");
                        },
                        // Form data
                        data: formData,
                        //Options to tell JQuery not to process data or worry about content-type
                        cache: false,
                        contentType: false,
                        processData: false
                    }, 'json');
                });
            }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:20:46.477

您可能应该查看一些很酷的 jQuery 插件，它们可以为您完成这项工作，这两个流行的插件是。

[http://www.uploadify.com/](http://www.uploadify.com/)

[http://www.plupload.com/](http://www.plupload.com/)

# excel - 使用 VBA 基于枢轴钻重命名工作表名称

> ID：11776353
> 
> 赞同：2
> 
> 时间：2012-08-02T11:19:38.997
> 
> 标签：excel, pivot-table, vba

我在 excel 中有一个数据透视表，如下所示：

```
Team         Doc 1  Doc 2   Grand Total
Team A       13     12      25
Team B       8      7       15
Team C       32     5       37
Grand Total  53     24      77 
```

我已经编写了一段 VBA，它将格式化任何用于打印的钻取表 (Workbook_NewSheet(ByVal Sh As Object))。但是，由于我试图使其尽可能用户友好，我真的希望能够使用 vba 自动重命名从数据透视表生成的任何工作表。但是，我不确定如何操作，因为每个工作表的内容会根据用户单击的位置而有所不同（即，如果用户在 Team A Doc 1 Total 中单击，则工作表应命名为“Team A Doc 1”但如果用户单击 Doc 2 的总计行，则工作表应命名为“Grand Total Doc 2”） - 我认为可能会出现 15 个不同的工作表名称，这就是为什么我猜测工作表默认为表1！一世'

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T13:15:10.993

我希望我可以发表评论，但我还不能，因为我没有足够的代表点！（不得不重新启动我的帐户！）

我可以建议您在手动钻取任何给定数据点时录制宏，并查看录制的 vba 代码的外观。我想从那里你可以配置你的代码，使你的工作表的名称基于记录代码的某些元素。

因为，我希望这是一个评论，如果它没有帮助，我会删除它。

**更新您新发布的答案：**

要在用户向下钻取时检查工作表是否已经存在，您可以在获取工作表名称后检查工作表是否存在，如果存在，请选择它，而不是创建新的工作表。否则，您创建它。

请参阅此代码：

```
Private Sub Workbook_NewSheet(ByVal sh As Object)

Application.ScreenUpdating = False

Dim shtCur As Worksheet
Set shtCur = ActiveSheet

Sheets("DQ Summary").Select
RN = ActiveCell.Row
CN = ActiveCell.Column
SheetName = Cells(RN, 2).Value & " - " & Cells(9, CN).Value

If SheetExists(SheetName) Then
    Worksheets(SheetName).Select
Else

    shtCur.Move _
        After:=ActiveWorkbook.Sheets(ActiveWorkbook.Sheets.Count)
    shtCur.Name = "SheetName"
End If

Application.ScreenUpdating = True

End Sub

Function SheetExists(wsName As String, Optional wb As Workbook = Nothing) As Boolean

SheetExists = False
Dim WS As Worksheet

If wb Is Nothing Then Set wb = ThisWorkbook

On Error Resume Next
Set WS = wb.Worksheets(wsName)
On Error GoTo 0

If Not WS Is Nothing Then SheetExists = True

End Function 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T13:42:05.423

我设法想出了一些相当可行的方法：

```
Private Sub Workbook_NewSheet(ByVal sh As Object)

Dim RN, CN As Byte
Dim SheetName As String

Application.ScreenUpdating = False

ActiveSheet.Move _
After:=ActiveWorkbook.Sheets(ActiveWorkbook.Sheets.Count)

'Names the sheet according to the pivot drill

Sheets("DQ Summary").Select
RN = ActiveCell.Row
CN = ActiveCell.Column
SheetName = Cells(RN, 2).Value & " - " & Cells(9, CN).Value

'Identifies if worksheet already exists and replaces it if so.
Application.DisplayAlerts = False
On Error Resume Next
mySheetNameTest = Worksheets(SheetName).Name
If Err.Number = 0 Then
Worksheets(SheetName).Delete
    MsgBox "The sheet named ''" & SheetName & "'' already exists but will be replaced."
Else
    Err.Clear
End If
Application.DisplayAlerts = True

Sheets(ActiveWorkbook.Sheets.Count).Select
ActiveSheet.Name = SheetName    

End Sub 
```

基本上它被添加到 newsheet 事件中 - 宏将新工作表添加到工作簿的末尾，转到数据透视表工作表并标识活动单元格的列名和行名（因为列名和行名将始终是静态的我可以硬编码）然后找到新添加的工作表（总是在工作簿的末尾）并重命名它。不幸的是，如果用户尝试对相同的数据进行两次钻取（不能有两个同名的工作表），我希望解决这个问题。

感谢您的意见/评论。

编辑：更新代码以解决工作表重复问题，似乎可以解决问题！

# android - Android SQLite 约束冲突。Try/Catch 无法捕捉

> ID：11776356
> 
> 赞同：4
> 
> 时间：2012-08-02T11:20:04.917
> 
> 标签：android, sqlite, try-catch, constraints

```
08-02 16:26:24.750: E/Database(28841): Error inserting data
08-02 16:26:24.750: E/Database(28841): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed
08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteStatement.native_execute(Native Method)
08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:61)
08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1584)
08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1428)
08-02 16:26:24.750: E/Database(28841):  at com.app.android.DataOperations.insertItems(DataOperations.java:69)
08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.createDatabase(DownloadTask.java:173)
08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.doInBackground(DownloadTask.java:59)
08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.doInBackground(DownloadTask.java:1)
08-02 16:26:24.750: E/Database(28841):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.FutureTask.run(FutureTask.java:138)
08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
08-02 16:26:24.750: E/Database(28841):  at java.lang.Thread.run(Thread.java:1019) 
```

以上是我的 LogCat 报告。我想做的是插入数据。查看logcat后，我发现这是违反约束的。我试图把我的代码：

```
public void insert(...){
            long insertID = 0;
            try{
                Log.i("DataOperation", String.valueOf(insertID));
                insertID = sqllitedb.insert(DBase.TABLE_NAME, null, contentValues);
            }catch(android.database.sqlite.SQLiteException ex){
                Log.i("dataops_", "Error Constraint"); //Print
            }

} 
```

什么都没有发生..我的 logcat 充满了堆栈跟踪。没有注释的行符号（见上文）。

怎么可能处理。注意在我的整个程序中只有一个插入语句（上面）。测试确定，然后我将继续。

还告诉我如何处理我的数据库是否已创建/已经存在，这样如果存在我就不会运行我的 DownloadTask。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-04T10:39:41.063

也许`insert(..)`方法本身会捕获异常。

改用`insertOrThrow(..)`方法。

```
 try {
        SQLiteDatabase db = SQLiteHelper.getDatabase();
        db.insertOrThrow(Table, nullColumnHack, values);
    } catch (SQLiteConstraintException e) {
        Log.d(TAG, "failure to insert word,", e);
        return false;
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:24:24.240

您需要使用 a`android.database.sqlite.SQLiteConstraintException`而不是 a`android.database.sqlite.SQLiteException`

如果这不起作用，请尝试捕获任何异常`Exception`以查看是否正在调用 catch 块。

# javascript - 检查图像是否正确加载了 Qunit

> ID：11776359
> 
> 赞同：7
> 
> 时间：2012-08-02T11:20:19.073
> 
> 标签：javascript, jquery, image, qunit

我试图通过将 URL 设置为测试图像的属性并使用事件处理程序检查`URLs`是否顺利来验证图像。到目前为止，我所拥有的是：`Qunit``src``error`

```
test('image',function() {
    var test_image = $('#test-image');
    test_image.error(function(e) { // properly triggered
        console.log(e);             
        is_valid = false;
        // ok(false,'Issue loading image'); breaks qunit
    });
    var is_valid = true;
    test_image.attr('src','doesntexist');
    console.log('checking is_valid');  // occurs before error event handler
    if (is_valid) {  // therefore always evaluates to the same
        ok(true,'Image properly loaded');
    } else {
        ok(false,'Issue loading image');
    }
}); 
```

我的问题是，虽然`error`事件被正确触发，但它似乎以异步方式发生并且在评估之后`is_valid`（因此无论我进行什么检查，结果总是相同的）。我尝试`ok()`在事件处理程序中添加断言`error`，但出现以下错误：

```
Error: ok() assertion outside test context 
```

**如何根据`error`事件处理程序内部执行的处理运行断言？**

`alert('test');`PS：如果我在检查之前插入 a ，`is_valid`它可以正常工作（这证实了错误处理程序是异步的问题），但您可以想象这是不可接受的。我尝试使用`setTimeout`延迟执行 if 语句，但它带来了相同的断言上下文错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-02T12:02:38.110

通过快速浏览 QUnit API，我发现您应该[`asyncTest`](http://api.qunitjs.com/asyncTest/)为此使用函数。在为您的 src 设置 src 属性之前`test_image`，将函数挂钩到[`load`](http://api.jquery.com/load-event/)事件。这是一个未经测试的代码：

```
asyncTest('image',function() {
    var test_image = $('#test-image');
    test_image.error(function(e) {
        console.log(e);             
        ok(false,'Issue loading image');
        start();
    });
    test_image.load(function() {
        ok(true,'Image properly loaded');
        start();
    });
    test_image.attr('src','doesntexist');
}); 
```

# xml - 如何使用 XSLT 声明数组

> ID：11776361
> 
> 赞同：0
> 
> 时间：2012-08-02T11:20:23.317
> 
> 标签：xml

我有一个从 Web 服务获得的 XML 响应。我需要使用 XSLT 转换此 XML 并将数据插入数据库。示例 XML 响应如下。

```
<?xml version="1.0" encoding="UTF-8"?>
<SOAP-ENV:Body>
<ttordhdr>
 <ttordhdrRow>
    <OH-ORDNBR>123</OH-ORDNBR>
    <OH-ORDTYPE>B</OH-ORDTYPE>
    <OH-DSTNFLR></OH-DSTNFLR>
    <OH-RCVTYP>P</OH-RCVTYP>
  </ttordhdrRow>
  <ttordhdrRow>
    <OH-ORDNBR>456</OH-ORDNBR>
    <OH-ORDTYPE>c</OH-ORDTYPE>
    <OH-DSTNFLR></OH-DSTNFLR>
    <OH-RCVTYP>P</OH-RCVTYP>
  </ttordhdrRow>
 </ttordhdr>
<ttordline>
 <ttordlineRow>
    <OH-ORDNBR>123</OH-ORDNBR>
    <OL-ORDLNNBR>1</OL-ORDLNNBR>
    <OL-ITEMTYPE>true</OL-ITEMTYPE>
    <OL-QTY>10</OL-QTY>
    <OL-DISP></OL-DISP>
    </ttordlineRow>
     <ttordlineRow>
    <OH-ORDNBR>123</OH-ORDNBR>
    <OL-ORDLNNBR>1</OL-ORDLNNBR>
    <OL-ITEMTYPE>true</OL-ITEMTYPE>
    <OL-QTY>10</OL-QTY>
    <OL-DISP></OL-DISP>
    </ttordlineRow>
   </ttordline>
</SOAP-ENV:Body> 
```

我的要求是从“B”中选择全部/在哪里。并用 / 映射它并得到对应的 .

我想我可以使用一个数组来存储和做映射。请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T13:06:29.983

您仍然没有指定要对数据执行的操作，而是指定了以下 XSLT 1.0 模板：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
    xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">

<xsl:output method="xml" indent="yes"/>

<xsl:template match="/">
    <xsl:apply-templates select="//ttordhdr/ttordhdrRow[OH-ORDTYPE[text()='B']]/OH-ORDNBR"/>
</xsl:template>

<xsl:template match="OH-ORDNBR">
    <xsl:variable name="val" select="text()"/>
    <xsl:apply-templates select="//ttordline/ttordlineRow[OH-ORDNBR = $val]"/>
</xsl:template>

<xsl:template match="ttordlineRow">
   <!-- do something here -->
    For OH-ORDNBR <xsl:value-of select="OH-ORDNBR"/>
</xsl:template>
</xsl:stylesheet> 
```

当应用于您的数据时，会给出：

```
<?xml version="1.0" encoding="utf-8"?>
    For OH-ORDNBR 123
    For OH-ORDNBR 123 
```

显然它本身并没有多大好处，但是在底部的模板中（它说在这里做某事）你会得到每一个匹配的 ttordlineRow，所以你可以做你最终决定需要用它做的事情。

# java - 在语音通话期间从麦克风录制的音频静音

> ID：11776366
> 
> 赞同：2
> 
> 时间：2012-08-02T11:20:47.640
> 
> 标签：java, android, audio-recording, audiorecord

我正在尝试构建从麦克风录制音频以供以后处理的应用程序。

一切正常，除了以下问题：在语音通话（进出）期间，录制的文件没有音频数据，它只包含 NULL。

我正在使用 AudioRecorder 和 MediaRecorder，两者都有同样的问题。问题是这是正常的 API 行为还是我遗漏了什么？

这里有一些附加信息：权限：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.RECORD_AUDIO" /> 
```

SDK：minSdkVersion="9" targetSdkVersion="15"

我正在使用 Jelly Bean 在 Nexus S 上测试我的应用程序。

提前致谢！

PS如果有人需要更具体的细节，请告诉我。

***编辑***

好的，所有答案都表明这是正常行为，但我仍然感到困惑，因为我可以找到很多使用麦克风录制语音通话的应用程序。录制语音通话不是我的本意，但我认为即使在语音通话期间我也可以使用麦克风。有什么建议么？

***编辑***

我刚刚在 Galaxy S Gingerbread 上测试了该应用程序，它成功了！现在我真的很困惑，开始理解“分段”这个词是什么意思......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T13:08:11.280

我不会称这为正常，但您在此处输入特定于平台的行为。在语音通话期间录音`AudioSource.MIC`将适用于某些设备，但不适用于其他设备。

仅举几个我自己遇到的为什么此功能可能已被禁用的原因：

*   某些平台仅支持在任何给定时间以单一采样率捕获麦克风音频。而且由于语音通话优先于其他任何东西（毕竟这*是*一部电话），并且语音通话需要 8 或 16 kHz 采样率，因此当您在语音通话开始时进行持续录音时，决定做什么可能很简单将录音静音，这样当您的应用程序认为它达到 44.1 kHz 时，您的录音就不会充满 8 kHz 数据。

*   如果您在语音通话期间让录音机处于空闲状态（停止但未释放），某些平台可能会停止从麦克风传输音频数据，从而有效地使语音通话上行链路静音。为了避免这种情况，供应商可能刚刚决定，语音通话期间的录音实际上不会路由到任何输入设备，而只是用零填充。

免责声明：我没有使用过 Nexus S，所以我不知道该特定设备上的原因是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:34:46.613

我相信这是正常行为，连接 CALL 时的音频数据永远不会通过运行 Android 的应用程序处理器进行处理。通常音频芯片组会将其切换为来自调制解调器的流。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:37:34.957

从理论上讲，您可以从呼叫本身获得提要（http://stackoverflow.com/questions/4194342/how-can-i-record-voice-and-record-call-in-android），但显然大多数制造商不支持这个。

# windows - 无法在 Windows 环境中启动 OracleXNTNSListener

> ID：11776367
> 
> 赞同：5
> 
> 时间：2012-08-02T11:20:57.897
> 
> 标签：windows, oracle

我已经在本地机器上安装了 oracleXE。

我已将 Oracle 级别的服务自动更改为手动。知道我什么时候启动 Oracle 服务，除了 OracleXNTNSListener 服务之外，所有的服务都开始了。

它在下面提到了1个错误或2个错误

1>Windows 无法在本地计算机上启动 OracleXETNSListner 服务。

错误 1067：进程意外终止。

或者

2> 本地计算机上的OracleXNTNSListener 服务启动然后停止。如果某些服务没有被其他服务或程序使用，它们会自动停止。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-03T05:57:53.930

经过一些试验后，听众开始了。

我所做的就是为此，我编辑了 listener.ora 文件。

在这一行中，最初 HOST = hostname 在那里，我将其更改为 localhost ip 即 127.0.0.1

（地址 =（协议 = TCP）（**主机 = 127.0.0.1**）（端口 = 1521））

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-10-20T17:24:00.703

我知道它是一个非常古老的线程，但是在两者中都改变并`127.0.0.1`帮助了我。`localhost``listener.ora``tnsnames.ora`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-02-05T12:22:28.200

我的`listener.ora`文件是这样的

```
(ADDRESS = (PROTOCOL = TCP)(HOST = my_computer_name)(PORT = 1521)) 
```

我改为

```
(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) 
```

然后它起作用了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-04-27T08:44:56.187

我遇到这个问题，因为我之前安装过Oracle 12c，然后我尝试安装Oracle 11g express。

检查此注册表项以确保为服务配置了 ORACLE_HOME：

```
HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\ORACLE\KEY_XE\ORACLE_HOME 
```

如果不存在，请在此处检查：

```
HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_XE\ORACLE_HOME 
```

还要确保这个其他键没有指向您的旧客户端注册表键：

```
HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\ORACLE\KEY_XE\ORACLE_HOME_KEY 
```

或者

```
HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_XE\ORACLE_HOME_KEY 
```

*   检查系统变量 ORACLE_HOME 是否设置为`C:\oraclexe\app\oracle\product\11.2.0\server`（或类似）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-21T12:58:11.067

这可能是因为您更改了 PC-NAME。确保在“listener.ora”文件中 HOST = PC-NAME（例如：admin-PC）。

# apache - 用apache隐藏文件

> ID：11776369
> 
> 赞同：1
> 
> 时间：2012-08-02T11:21:04.393
> 
> 标签：apache, security

我已经开始使用 SCSS，所以在我的项目的 css 文件夹中，我有 main.css 和 main.scss。

当我把它放在我的 ftp 上时，有什么办法可以防止隐藏 main.scss 吗？所以它仍然存在，但不能直接访问？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-02T11:34:00.077

将其放在包含要隐藏文件的目录中的 .htaccess 中。不过，适当地重命名文件（而不是 yourfile.css）。

```
<files yourfile.css>
    deny from all
</files> 
```

当然，您也可以在 httpd.conf 文件中执行此操作，但需要修改路径。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-06-28T15:44:34.343

@GhostInTheSecureShell 的答案的问题在于，这也拒绝访问文件，因此浏览器无法再下载`yourfile.css`，这可能不是您想要的。

要从索引列表中隐藏文件（或目录），但仍允许访问它们，请使用

```
IndexIgnore yourfile.css 
```

在你的`.htaccess`文件中。

这也适用于模式，因此您可以使用隐藏所有 css 文件

```
IndexIgnore *.css 
```

或者只是用某种模式命名要隐藏的文件，例如

```
IndexIgnore hide_me_* 
```

将隐藏所有以 . 开头的文件或目录`hide_me_`。

# c# - Asp.Net 使用带有 Web 应用程序项目的 dll

> ID：11776370
> 
> 赞同：0
> 
> 时间：2012-08-02T11:21:20.310
> 
> 标签：c#, asp.net, dll, class-library

我正在开发一个 asp.net Web 应用程序项目。我已经使用添加引用命令添加了一个 dll 文件，但是当我说它使用命名空间名称时出现错误。

注意：我尝试作为 Asp.Net 网站。但问题是继续。我检查了框架版本。

C＃ ：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using DenemePc; <-- dll file

public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

    }
} 
```

错误：

'DenemePc' 可以找到类型或命名空间名称（您是否缺少 using 指令或程序集引用？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:22:48.713

我相信我已经回答了类似的问题[ASP.NET => Compiler Error Message: CS0246: The type or namespace name 'HtmlAgilityPack'](https://stackoverflow.com/questions/11776161/asp-net-compiler-error-message-cs0246-the-type-or-namespace-name-htmlagili)

请在 DenemePc 的引用 DLL 上设置`Copy Local`属性`True`

这会将 dll 复制到应用程序的输出目录

# android - 使用 xml pull 解析器的困难

> ID：11776371
> 
> 赞同：2
> 
> 时间：2012-08-02T11:21:21.840
> 
> 标签：android, xmlpullparser

我正在尝试解析 xml 文件：

```
<?xml version="1.0"?>
<root>
    <command>
        <word>cancel</word>
        <explanation>cancel print requested with lp</explanation>

    </command>
    <command>
        <word>cat file</word>
        <explanation>Display the file</explanation>

    </command>
</root> 
```

我为此使用 XML 拉解析器。我的程序是

```
package com.example.androidsample2;

import java.io.IOException;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;
import android.app.Activity;
import android.content.res.Resources;
import android.content.res.XmlResourceParser;
import android.os.Bundle;
import android.widget.TextView;

public class MainActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        TextView myXmlContent = (TextView)findViewById(R.id.my_xml);
        String stringXmlContent;
        try {
            stringXmlContent = getEventsFromAnXML(this);
            myXmlContent.setText(stringXmlContent);
        } catch (XmlPullParserException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private String getEventsFromAnXML(Activity activity)
    throws XmlPullParserException, IOException
    {
        StringBuffer stringBuffer = new StringBuffer();
        Resources res = activity.getResources();
        XmlResourceParser xpp = res.getXml(R.xml.xmlfile);
        xpp.next();
        int eventType = xpp.getEventType();
        String tag;
        while ((eventType = xpp.next()) != XmlPullParser.END_DOCUMENT)
        {
            if(XmlPullParser.START_TAG==eventType)
            {
                tag=xpp.getName();
                //stringBuffer.append("\n"+tag);
                if(tag=="word")
                {
                    eventType=xpp.next();
                    stringBuffer.append("\n"+xpp.getText().toString());
                }
            }

        }
        return stringBuffer.toString();

    }
} 
```

如何使用“word”获得“解释”。即如何使用“cancel”获得“cancel print requests with lp”？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:29:05.153

以下行可能在 C# 中有效，但在 Java 中无效：

```
if(tag=="word") 
```

相反，写：

```
if (tag.equals("word")) 
```

**更新：**

```
String word = null;
while ((eventType = xpp.next()) != XmlPullParser.END_DOCUMENT)

    ...

    if (tag.equals("word"))
    {
        eventType = xpp.next();
        word = xpp.getText();
    }
    else if (tag.equals("explanation"))
    {
        eventType = xpp.next();
        if ("cancel".equals(word))
        {
            stringBuffer.append("\n" + xpp.getText());
        }
    } 
```

# android - Android：将应用程序草稿上传到一个 Google Play 帐户，然后与另一个帐户一起发布？

> ID：11776372
> 
> 赞同：3
> 
> 时间：2012-08-02T11:21:23.207
> 
> 标签：android, google-play, in-app-billing

我目前正在使用 InApp Billing 功能开发一个 Android 应用程序。为了使用真正的端到端支付场景执行测试，我需要将应用程序草稿上传到 Google Play - 如此[处](http://developer.android.com/guide/google/play/billing/billing_testing.html#billing-testing-real)所述。

但是，我的客户希望稍后使用自己的 Google Play 帐户发布应用程序。

是否有可能，我先上传草稿，**在测试后将其删除**，然后我的客户使用完全不同的 Google Play 帐户发布应用程序（具有相同的包名称）？Google Play 会允许这样做吗？

我不想弄乱包 ID，这很烦人（但也许是最安全的？）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-17T14:51:23.140

回答（某种）我自己的问题：

*   **从一个配置文件中删除应用程序草稿**并重新上传到另一个配置文件似乎很好
*   目前我只检查了重新上传使用相同私钥签名的 APK
*   有趣的是，我在自己的个人资料上为此应用程序配置的所有应用程序内项目在上传到第二个个人资料后重新出现！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:25:17.583

不，当应用程序被导出时，它们被导出并使用某些证书和私钥签名，这样如果有人拥有该私钥，就可以上传具有相同标识符的应用程序，即

```
com.yourcompanyname.appname 
```

这是唯一标识符，用于标识您的应用以进一步更新它。

# asp.net - 尝试使用 db 值检查单选按钮时，在 asp.net 中出现预期的错误表达式

> ID：11776374
> 
> 赞同：2
> 
> 时间：2012-08-02T11:21:27.763
> 
> 标签：asp.net, vb.net, radio-button, repeater

中继器中有 4 个 readiobutton，我试图从数据库值中显示选中的单选按钮。

```
<asp:RadioButton ID="rb_option1" GroupName="answer" CssClass="frm_label"
    Checked='<%# IIF(Eval("ANSWER")==1,true,false) %>'
     Text='<%# Eval("OPTION1")%>' runat="server" /> 
```

第二种方法

```
<asp:RadioButton ID="rb_option1" GroupName="answer" CssClass="frm_label"
Checked='<%# Eval("ANSWER")==1 ? true : false %>'
 Text='<%# Eval("OPTION1")%>' runat="server" /> 
```

其余的单选按钮依此类推。但是，它显示错误`Expression Expected`错误。需要帮忙。！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:09:02.847

It looks like you've got your C# and VB.Net mixed. Your first example looks like VB, the second like C#. However, you've got a few problems in your VB implementation:

*   The equality operator in VB is `=`, not `==`
*   You should use the `IF` operator, not the `IIF` function, which is obsolete

The correct code should be as follows:

```
<asp:RadioButton ID="rb_option1" GroupName="answer" CssClass="frm_label"
  Checked='<%# IF(Eval("ANSWER")=1,true,false) %>'
  Text='<%# Eval("OPTION1")%>' runat="server" /> 
```

# java - 为什么我们不能从 Object[] 转换为 String[]，而我们可以从数组中的值转换？

> ID：11776381
> 
> 赞同：0
> 
> 时间：2012-08-02T11:21:55.783
> 
> 标签：java, arrays, casting

为什么会这样运行：

```
 static TreeMap<String, int[]> configs = new TreeMap<String, int[]>();

    int[] upperarms_body = {2,3,4,6};
    int[] left_arm = {1,2};
    int[] right_arm = {6,7};
    int[] right_side = {5,6,7};
    int[] head_sternum = {3,4};

    configs.put("upperarms_body", upperarms_body);
    configs.put("left_arm", left_arm);
    configs.put("right_arm", right_arm);
    configs.put("right_side", right_side);
    configs.put("head_sternum", head_sternum);

    // create a config counter
    String[] combi = new String[configs.keySet().size()];

    Set<String> s = configs.keySet();
    int g = 0;
    for(Object str : s){
        combi[g] = (String) str; 
    } 
```

这不是：

```
 static TreeMap<String, int[]> configs = new TreeMap<String, int[]>();

    int[] upperarms_body = {2,3,4,6};
    int[] left_arm = {1,2};
    int[] right_arm = {6,7};
    int[] right_side = {5,6,7};
    int[] head_sternum = {3,4};

    configs.put("upperarms_body", upperarms_body);
    configs.put("left_arm", left_arm);
    configs.put("right_arm", right_arm);
    configs.put("right_side", right_side);
    configs.put("head_sternum", head_sternum);

    //get an array of thekeys which are strings
    String[] combi = (String[]) configs.keySet().toArray(); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-02T11:24:12.897

该方法`toArray()`返回一个不能转换为的`Object[]` *实例*`String[]`，就像不能转换为`Object` *实例*`String`一样：

```
// Doesn't work:
String[] strings = (String[]) new Object[0];

// Doesn't work either:
String string = (String) new Object(); 
```

但是，因为您可以分配`String`给`Object`，所以您也可以放入`String`（`Object[]`这可能会让您感到困惑）：

```
// This works:
Object[] array = new Object[1];
array[0] = "abc";

// ... just like this works, too:
Object o = "abc"; 
```

当然，反过来是行不通的

```
String[] array = new String[1];
// Doesn't work:
array[0] = new Object(); 
```

当你这样做时（从你的代码）：

```
Set<String> s = configs.keySet();
int g = 0;
for(Object str : s) {
    combi[g] = (String) str; 
} 
```

您实际上并没有将`Object` *实例*强制转换为`String`，而是将`String`声明为`Object`类型的实例强制转换为`String`.

您的问题的解决方案将是以下任何一种：

```
String[] combi = configs.keySet().toArray(new String[0]);
String[] combi = configs.keySet().toArray(new String[configs.size()]); 
```

有关更多信息，请参阅 Javadoc[`Collection.toArray(T[] a)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#toArray%28T%5B%5D%29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:28:31.537

A`Object[]`可以添加任何类型的对象。A`String[]`只能包含字符串或`null`

如果你能按照你建议的方式施放，你就能做到。

```
Object[] objects = new Object[1];
String[] strings = (String[]) objects; // won't compile.
objects[0] = new Thread(); // put an object in the array.
strings[0] is a Thread, or a String? 
```

# c++ - 如何使用自动工具处理子项目？

> ID：11776382
> 
> 赞同：14
> 
> 时间：2012-08-02T11:21:57.857
> 
> 标签：c++, git, autotools

我有一些由 autotools 构建的 C++ 项目。

该项目使用了一些库，也是我编写的。库的源代码作为 git 的子模块导入到项目中。每个库都有自己的自动工具文件。

说，我有：

```
src/<my src files>
modules/libfoo/
        libbar/
Makefile.am
Configure.in
<other autotools junk> 
```

我想要的是以某种方式将库包含到主项目编译链中。我想只在 Makefile.am 中包含 subdir 是不够的，因为可以在 configure.am 中重新进行一些检查。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-02T12:09:40.587

You can run the configure scripts in the sub-modules by adding the **AC_CONFIG_SUBDIRS** command to the top-level configure script. It tells the top-level script to descend into the sub directories and invoke the configure script found there. Then, you can just reference the built libraries from your Makefile.am.

Read this [section](http://www.gnu.org/software/automake/manual/html_node/Subpackages.html) of the GNU automake manual.

# ios - 关于在 iOS Paint 应用程序中模拟笔画的任何想法？

> ID：11776383
> 
> 赞同：1
> 
> 时间：2012-08-02T11:21:59.743
> 
> 标签：ios, cgcontext

我正在开发适用于 iOS 平台的绘图应用程序。我使用 CGContextAddQuadCurveToPoint 使线条更加流畅。但我被困在如何模拟笔画上。

Papers 53 是一个非常酷的应用程序。我只想像“Papers 53”那样模拟笔画。

关于在绘图过程中动态平滑地更改线条宽度的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T09:41:10.763

我找到了一篇关于这个东西的文章。

[http://www.merowing.info/2012/04/drawing-smooth-lines-with-cocos2d-ios-inspired-by-paper/](http://www.merowing.info/2012/04/drawing-smooth-lines-with-cocos2d-ios-inspired-by-paper/)

这个真的很可靠，我只是用它的算法成功地使用 Quartz2d 模拟了平滑的笔划。

# asp.net - FreeTextBox 仅在页面刷新后填充

> ID：11776384
> 
> 赞同：0
> 
> 时间：2012-08-02T08:58:08.993
> 
> 标签：asp.net, sql

我使用“FreeTextBox”让用户编辑网页内容（ASP.NET VB）

我在页面加载时查询数据库并设置：

```
FreeTextBoxFoo.text = dbFoo.GetValue(2).ToString() 
```

例如，如果我将其写入 asp:Literal，这将返回正确的字符串数据。

但是文本框中没有显示任何内容，直到我刷新页面 (F5) 现在在调试的 Visual Studio 中运行应用程序时，它工作正常。

那么这个字符串数据在哪里丢失或挂起？它是否被加载到文本框中但直到回发才显示？

ETA：我忘了提到这是在一个 ASP:AccordionPane 添加了更多......似乎如果我将文本框放在手风琴面板之外，那么它会填充好，所以可能与执行顺序有关？

# objective-c - 无效的 v 令牌过期 twitter sharekit

> ID：11776385
> 
> 赞同：0
> 
> 时间：2012-08-02T11:22:01.670
> 
> 标签：objective-c, xcode, twitter, sharekit

我正在使用 sharekit 从我的 xcode 应用程序中共享 url。我得到`Invalid V Token expires`并且无法共享链接。有什么想法吗？考虑在模拟器上进行测试，以前它工作正常，但现在它通过这样的错误。我在重置密钥后也尝试过..没有运气

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T23:31:37.003

这与推特无关。Twitter OAuth 令牌永不过期。

# django - Django 获取模块的更改表命令

> ID：11776386
> 
> 赞同：0
> 
> 时间：2012-08-02T11:22:02.973
> 
> 标签：django, django-models, django-admin, django-manage.py

我在我的模型中添加了一个新字段。从 django manage.py 我如何打印迁移（更改表语句）。以下 is_tag 是我的新字段

当我执行 sqlall 时，我得到以下输出。如何获取更改表命令

```
 root@rajeev-laptop:/opt/labs/labs_site# python manage.py sqlall content
 BEGIN;
 CREATE TABLE `content_content` (
`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
`name` varchar(255) NOT NULL,
`uploaded_by_id` integer NOT NULL,
`is_local` integer NOT NULL,
`access` integer NOT NULL,
`fq_name` varchar(255) NOT NULL,
`description` longtext NOT NULL,
`is_tag` bool NOT NULL,
`timestamp` datetime NOT NULL
 )
 ;
    ALTER TABLE `content_content` ADD CONSTRAINT `uploaded_by_id_refs_id_4f9cfefd` FOREIGN KEY (`uploaded_by_id`) REFERENCES `users_userprofile` (`id`);
   CREATE INDEX `content_content_1bc5ce19` ON `content_content` (`uploaded_by_id`);
 COMMIT; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:27:49.210

[`syncdb`永远不会改变表格](https://docs.djangoproject.com/en/dev/ref/django-admin/#syncdb)，或者在文档中自己的话：

> syncdb 只会为尚未安装的模型创建表。它永远不会发出 ALTER TABLE 语句来匹配安装后对模型类所做的更改。对模型类和数据库模式的更改通常涉及某种形式的歧义，在这些情况下，Django 必须猜测要做出的正确更改。在此过程中存在丢失关键数据的风险。

要管理迁移，您应该使用[South](http://south.aeracode.org/)

# android - Android 上的 TCP 数据包编辑

> ID：11776390
> 
> 赞同：2
> 
> 时间：2012-08-02T11:22:11.540
> 
> 标签：android, tcp, root, editing, packet

我正在尝试编写一个 android 应用程序（或服务、命令行工具等），它监视一个特定应用程序的 TCP 流量并在需要时丢弃一个数据包。在 Windows 上，我可以通过在目标进程中挂钩 send() 和 recv() 调用来做到这一点。这样做的目的是我的应用程序应该监控 WhatsApp Messenger 的流量，并阻止它在我在线时通知服务器。但我不知道如何在有根的安卓手机上监控和编辑数据包。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:23:08.650

您可以使用以下方式读取通过移动设备流动的所有数据：

[安卓的 libpcap](https://github.com/android/platform_external_libpcap)

但是，为了监控特定应用程序的流量，您需要通过读取数据包来解析 HTTP 数据。你可以在这里阅读：[https ://stackoverflow.com/a/2768724/776765](https://stackoverflow.com/a/2768724/776765)

此外，Whatsapp 对话已使用新版本加密。您可以在[wiki](http://en.wikipedia.org/wiki/WhatsApp)中阅读。

# java - jdbc 和 z/os db2

> ID：11776392
> 
> 赞同：0
> 
> 时间：2012-08-02T11:22:17.623
> 
> 标签：java, jdbc, db2

有人可以解释为什么我从访问 z/os DB2 的 java JDBC 中看到这种行为吗

我有一个包含三列的 z/os db2 v10 表，两列组成 uniue 索引，第三列是一个 pureXML 列，它包含一个长度为 1KByte 的 xml 文档。

该表有 100 万行。每一行都有相同的 xml 文档用于测试目的。

当我运行一个对表进行 10,000 次随机读取的循环时，每次读取总是会找到一行，我的 jdbc 跟踪文件中显示的 db2 服务器时间在 2ms 和 62,000ms 之间变化

什么会导致如此广泛的响应时间？

还有为什么我的 jdbc 跟踪对核心和网络有负时间？

```
 [jcc][SystemMonitor:start] 
[jcc][Time:2012-08-02-11:43:48.188][Thread:main][PreparedStatement@10b4b2f] executeQuery () called
[jcc][Time:2012-08-02-11:43:48.219][Thread:main][PreparedStatement@10b4b2f] executeQuery () returned com.ibm.db2.jcc.t4.j@812862
[jcc][SystemMonitor:stop] core: 22.185222ms | network: 21.831545ms | server: 2.956ms 
```

```
 [jcc][Time:2012-08-02-11:44:23.251][Thread:main][PreparedStatement@10b4b2f] executeQuery () called
[jcc][Time:2012-08-02-11:45:25.251][Thread:main][PreparedStatement@10b4b2f] executeQuery () returned com.ibm.db2.jcc.t4.j@68ef48
[jcc][SystemMonitor:stop] core: -3615.90705ms | network: -3616.401806ms | server: 61978.244ms 
```

这是 java/jdbc 环境详细信息

```
 [jcc] Driver: IBM Data Server Driver for JDBC and SQLJ 4.12.79
[jcc] Compatible JRE versions: { 1.6 }
[jcc] Target server licensing restrictions: { z/OS: enabled; SQLDS: enabled; iSeries: enabled; DB2 for Unix/Windows: enabled; Cloudscape: enabled; Informix: enabled }
[jcc] Range checking enabled: true
[jcc] Bug check level: 0xff
[jcc] Default fetch size: 64
[jcc] Default isolation: 2
[jcc] Collect performance statistics: false
[jcc] No security manager detected.
[jcc] Access to package sun.io is permitted by security manager.
[jcc] JDBC 1 system property jdbc.drivers = null
[jcc] Java Runtime Environment version 1.6.0_21
[jcc] Java Runtime Environment vendor = Sun Microsystems Inc.
[jcc] Java vendor URL = [http://java.sun.com/](http://java.sun.com/)
[jcc] Java installation directory = C:\Program Files\Java\jre6
[jcc] Java Virtual Machine specification version = 1.0
[jcc] Java Virtual Machine specification vendor = Sun Microsystems Inc.
[jcc] Java Virtual Machine specification name = Java Virtual Machine Specification
[jcc] Java Virtual Machine implementation version = 17.0-b17
[jcc] Java Virtual Machine implementation vendor = Sun Microsystems Inc.
[jcc] Java Virtual Machine implementation name = Java HotSpot(TM) Client VM
[jcc] Java Runtime Environment specification version = 1.6
[jcc] Java Runtime Environment specification vendor = Sun Microsystems Inc.
[jcc] Java Runtime Environment specification name = Java Platform API Specification
[jcc] Java class format version number = 50.0
[jcc] Operating system name = Windows XP
[jcc] Operating system architecture = x86
[jcc] Operating system version = 5.1
[jcc] File separator ("/" on UNIX) = \
[jcc] Path separator (":" on UNIX) = ;
[jcc] Dumping all file properties: {  }
[jcc] pureQuery present = false

Database product name: DB2
Database product version: DSN10015
Driver name: IBM Data Server Driver for JDBC and SQLJ
Driver version: 4.12.79 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-27T01:26:44.400

z/OS 拥有世界上最复杂的调度程序，可以对资源的分配方式进行各种控制……这是硬件昂贵的时代的遗物，企业希望控制这些稀缺资源的去向。

一个例子是绩效期。这是一种方法，您可以为短期运行的程序提供出色的响应时间，同时防止较长的进程占用资源。在繁忙的系统上，琐碎的工作会立即运行，但大量资源用户会减慢速度。这很容易成为您所看到的内容的一部分。

尽管如此，还是有很多很多的变量……想想所有涉及的组件：客户端程序、网络、LPAR 管理程序、z/OS TCP/IP 堆栈、DB2——然后是磁盘场等所有物理东西，内存等。任何这些都可能导致响应时间的可变性。

IBM、CA 和其他公司提供了非常复杂的性能监控产品，它们将为您提供比您想要的更多的详细信息。如果您的组织拥有这些工具中的任何一个，那么受过训练的人只需片刻就可以告诉您正在发生的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-16T17:01:29.623

稍多于一分钟的等待闻起来就像在某处设置了一分钟的超时。是否是您的应用程序无法分配足够的线程来发出请求（异步）？或者服务器中的类似超时 - 10000 个顺序或并行请求对于任何数据库来说都是一个相当大的负载。

# c# - WPF 消息框本地化

> ID：11776395
> 
> 赞同：3
> 
> 时间：2012-08-02T11:22:45.547
> 
> 标签：c#, .net, wpf, localization

有没有办法将 Messagebox**是**和**否**按钮文本更改为其他内容？例如 - **Sí**和 **否**？！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:35:41.200

您可以随时制作自己的 MessageBox。只需创建一个带有按钮的窗口并按照您想要的方式对其进行自定义。为我工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:25:08.467

尝试在调用消息框的窗口中设置 xml:lang='your languagecode'。也许这会奏效。

编辑：谷歌第一击：[MessageBox 按钮 - 设置语言？](https://stackoverflow.com/questions/930754/messagebox-buttons-set-language)

# ruby-on-rails - Rails 控制器 - 添加自定义操作

> ID：11776403
> 
> 赞同：1
> 
> 时间：2012-08-02T11:23:02.537
> 
> 标签：ruby-on-rails, model-view-controller, controller, routes

我有一个文章资源，并为它定义了资源丰富的路线。我想创建一个显示当前用户文章的简单页面。我知道可以通过添加另一个操作来做到这一点，例如“搜索”到文章控制器，该控制器将包含搜索具有相同用户 ID 的文章的自定义代码。对于路线：

```
resources :articles do
  get 'search'
end 
```

但我不确定在这种情况下添加自定义操作是否是个好主意。我想我仍然可以使用索引操作（显示所有文章）并从 url 传递某种参数，以便它可以区分用户是想查看所有文章还是只查看他自己的文章。但我不确定如何做到这一点。任何帮助都会很棒。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:27:26.943

您可以使用查询字符串来传递参数。看到[这里](http://guides.rubyonrails.org/routing.html#the-query-string) 所以你可以在你的控制器中传递类似的东西`.../articles?user_id=2` ，只需根据 user_id 参数更改行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:38:35.713

您无需为其创建新的操作/视图。

您可以添加一个小表单来过滤`all articles`或仅`my articles`，例如：

```
<%= form_tag articles_path, method: :get do %> 
    <%= radio_button_tag :search, "all", :checked => true %>
    <%= label_tag :all %><br />

    <%= radio_button_tag :search, "my" %>
    <%= label_tag :my_articles %><br />

    <%= submit_tag "filter", name: nil %>
<% end %> 
```

比在你的控制器中：

```
def index
  if params[:search] == 'my'
    @articles = current_user.articles
  else
    @articles = Article.all
end 
```

# eclipse-plugin - 如何通过我的插件向 Eclipse 属性添加快捷方式（“模板”）？

> ID：11776405
> 
> 赞同：0
> 
> 时间：2012-08-02T11:23:20.743
> 
> 标签：eclipse-plugin

我正在开发一个插件，通过调用来可视化对象`Doo.dle(Object o)`。现在我想自动定义一个快捷方式，例如`sysout`for `System.out.println()`，例如`doodle`.

我已经知道如何手动完成：

`Window`> `Preferences`> `Java`> `Editor`>`Templates`

是否有扩展点或类似的东西可以使用我的插件自动执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T13:25:33.727

我设法自己做到了：

我必须定义一个`javaCompletionProposalComputer`扩展并实现一个`ICompletionProposal`.

这不完全是我的意图，但它也在起作用。

**更新：**

我终于发现了：

关键是为`org.eclipse.ui.editors.templates`. 模式等可以被 Eclipse 属性中的预定义模板欺骗（见问题）。

# loops - 我们如何确保 while 循环不会是无限循环？

> ID：11776407
> 
> 赞同：0
> 
> 时间：2012-08-02T11:23:32.083
> 
> 标签：loops, while-loop

这是我使用 while 循环的方法。我强烈怀疑无限循环是可能的。如何检查和消除？

我在这里使用了两个 while 循环。我是否可以完全拆除 while 循环？

```
public class ReferenceListSaveHandler
{
public PublishReferenceListUpdates populateResponse(SearchQueryResponse pSearchQueryResponse,SearchQueryResponse pListResponse, ObjectFactory objFactory)         throws IOException, ParserConfigurationException, SAXException,SipException, Exception
    {
        ReferenceDataProcessor lRefPro = new ReferenceDataProcessor();
        PublishReferenceListUpdates lResponse = null;
        Record listRecord = null;
        ReferenceDataListItemListType lReferenceDataListItemListType = objFactory
            .createReferenceDataListItemListType();
        ReferenceDataListType lReferenceDataListType = null;
        ReferenceDataListItemType lReferenceDataListItemType = null;
        boolean ifSynonym = false;
        String lRowIdObject = null;
        final int lRowIdLength = 14;

        if (refListItemItr.hasNext())
        {
            Record record = (Record)refListItemItr.next();
            boolean continueProcessing = true;
            boolean lastRecord = false;
            while (continueProcessing)
            { // first use of while loop
                if (refListItemItr.hasNext() || lastRecord)
                {
                    continueProcessing = true;
                    lastRecord = false;
                }
                else
                {
                    continueProcessing = false;
                }

                if (continueProcessing)
                {
                    lSynonymListType = objFactory
                        .createSynonymListType();

                    Field itemLSIDField = record
                        .getField(ReferenceDataConstants.FIELD_COMPOUND_ASSET_ID);

                    if (itemLSIDField == null)
                    {
                        continue;
                    }
                    else
                    {
                        currentItemLSID = itemLSIDField
                            .getStringValue().trim();
                    }
                    lReferenceDataListItemType = objFactory
                        .createReferenceDataListItemType();
                    lReferenceDataListItemType = setListDetails(record,
                        lReferenceDataListItemType,
                        lId, lName, objFactory);

                    while (refListItemItr.hasNext()
                           && continueProcessing)
                    {  // second use of while loop
                        SynonymType lSynonymType = null;
                        if (continueProcessing)
                        {
                            if (lSynonymType != null)
                                lSynonymListType.getSynonym().add(lSynonymType);
                        }
                    }
                    continueProcessing = true;
                }
            }//while loop
        }
    }
} 
```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:36:26.890

问题一：`refListItemItr`不管是什么（其定义未显示），都有一个`.next()`方法，但它从未在循环内调用。

问题二：如果你输入第二个`while`循环，它总是无限的：

```
while (refListItemItr.hasNext()
       && continueProcessing)
{
    SynonymType lSynonymType = null;
    if (continueProcessing)
    {
        if (lSynonymType != null)
            lSynonymListType.getSynonym().add(lSynonymType);
    } 
} 
```

既不`refListItemItr.hasNext()`，也不`continueProcessing`可以在这个循环内改变。这就是为什么它是一个无限循环。

编辑：我不能告诉你如何更改代码，因为有很多可能的方法来更改它，这取决于应该发生的事情。你可以试试这个，但它可能有效，也可能无效：

1.  完全删除第二个循环（它现在什么都不做）。
2.  在第一个循环结束之前添加这一行：

    ```
     record = (Record)refListItemItr.next(); // ADD THIS LINE
    } //while loop BEFORE THIS LINE 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:29:42.183

这是一个无限循环，外部循环取决于`lastrecord`程序中哪个没有设置为真

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:33:31.877

每当我写单词时，我都会抛出一个循环计数器`while`，如下所示：

```
int loopCounter = 0, maxLoops = 1000; //just an example
while((loopCounter++) < maxLoops && (myConditions)) 
{
    // loop away, this can't ever be infinite
} 
```

或这个

```
int loopCounter = 0, maxLoops = 1000; //just an example
do    
{
    // loop away, this can't ever be infinite
}
while((loopCounter++) < maxLoops && (myConditions)) 
```

当然，`maxLoops`总是大小比任何合理的迭代次数大几个数量级......然后我添加一个检查：

```
if (loopCounter == maxLoops) { throw new InvalidOperationException("Infinite loop detected!"); } 
```

# ios5 - 如何在 UIViewController 中实现的 UITableView 中控制自定义的 UITableViewCell？

> ID：11776409
> 
> 赞同：0
> 
> 时间：2012-08-02T11:23:38.947
> 
> 标签：ios5, uitableview, custom-controls

在我的应用程序中，我希望有一个**UIViewController**将在其中保存一个**UITableView**。在这个 UITableView 中，我希望有一个**自定义的 UITableViewCell**（即我希望在这个 CELL 中定义我自己的元素 - 图像、标签和按钮 - 如下图所示）。而且...我想在情节提要中创建它们。

*   现在，在 Storyboard 中设置元素很容易。
*   我了解如何连接 UITableView 并将其设置在 UIViewController 中（包括 .h 文件中的委托并使用基本的表委托方法）。
*   我不清楚的是如何连接和控制自定义的 UITableViewCell 及其插座。我可以在**UIViewController** .h 和 .m 文件中创建 Outlets 和 Actions 吗？我是否需要创建一个单独的**UITableViewCell.h/.m**文件并在 cellForRowAtIndexPath 方法中调用它们？

谁能建议什么是满足我需求的最佳方法？

![在此处输入图像描述](../Images/331d6e5acfe7b1ea980a71dd0a88854c.png)

**更新**：这是我在使用分离的**MyCell.h/m**文件选项时在**cellForRowAtIndexPath中使用的代码。**这段代码写在**ViewController.m**文件中，UITableView 就是在这个文件中实现的。

 ****```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{    
    static NSString *CellIdentifier = @"ContentCell";

    MyCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

//MyCell is the Objective-C Class I created to manage the table cells attributes.

//@"ContentCell" is what I had entered in the Storyboard>>UITableViewCell as the Cell Identifier.

    if (cell == nil) {
        cell = [[MyCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
//Here is the place I'm not clear about - Am I supposed to init the cell in a different way? If so, how?    
    }

    cell.contentNameLabel.text = [self.dataArray objectAtIndex: [indexPath row]];

// this is the test I had done to check if the new "MyCell" object is actually getting what I would expect it to get. well... the text gets updated in the relevant label, so i guess it gets it 

    return cell;

} 
```

运行应用程序时，使用调试器断点，我可以看到代码总是跳过“if (cell == nil)”，并且永远不会进入应该分配和启动新 MyCell 对象的代码。知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:25:58.737

正确，创建单独的 UITableViewCell.h/.m 文件以匹配您的自定义 UITableViewCell 类并在您的 cellForRowAtIndexPath 方法中调用它们。

在您的故事板中，将您的自定义 UITableViewCell 的类设置为您的自定义类（例如 CustomTableCell）。

您的自定义 UITableViewCell 类将包含您将在情节提要中连接的 IBOutlets，这是一个示例：

CustomTableCell.h：

```
#import "CustomStuff.h" // A custom data class, for this example

@interface CustomTableCell : UITableViewCell

@property (nonatomic, weak) IBOutlet UILabel *titleLabel;

- (void)configureForCustomStuff:(CustomStuff *)stuff;

@end 
```

CustomTableCell.m:

```
#import "CustomTableCell.h"

@implementation CustomTableCell

@synthesize titleLabel;

#pragma mark - Configure the table view cell

- (void)configureForCustomStuff:(CustomStuff *)stuff
{
    // Set your outlets here, e.g.
    self.titleLabel.text = stuff.title;
}

@end 
```

然后，在您的 cellForRowAtIndexPath 方法中，配置您的单元格：

```
CustomTableCell *cell = (CustomTableCell *)[tableView dequeueReusableCellWithIdentifier:@"CustomCellID"];

// Your custom data here
CustomStuff *customStuff = <YOUR CUSTOM STUFF>

[cell configureForCustomStuff:customStuff]; 
```****

# node.js - MongoDB 文档保存，但以下功能不会触发

> ID：11776412
> 
> 赞同：0
> 
> 时间：2012-08-02T11:23:51.323
> 
> 标签：node.js, mongodb

以下代码片段会将文档保存到数据库中，但不会引发错误或 socket1 发出。但是，socket2 发射将起作用。这个查询有什么错误？

```
 db.doc.findOne({field1: value1}, function(err, doc) {
        if (!doc) {
            db.doc.save({field1: value1, field2: value2, field3: value3}, function(err, saved) {
                if( err || !saved ) console.log("User not saved");
                else socket.emit('socket1', value1, value2);                    
            });                     
        }
        else {
            socket.emit('socket2', value1);             
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:47:47.517

你可以试试`save({...}, {safe:true}, function(...) {...})`

# netbeans-7 - 在 Netbeans 7.2 中启动项目时出现“方法中非本机或抽象的方法中的缺失代码属性”异常

> ID：11776413
> 
> 赞同：2
> 
> 时间：2012-08-02T11:23:52.107
> 
> 标签：netbeans-7

我刚刚安装了最新版本的 Netbeans ( 7.2 ) 并尝试在其中运行现有的 Swing 项目。我得到以下异常：

堆栈跟踪：

```
java.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file com/eositservices/eldorado/dialogs/zahlungverrechnung/model/InitDataList
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)
    at java.lang.Class.getDeclaredMethod(Class.java:1935)
    at java.awt.Component.isCoalesceEventsOverriden(Component.java:5975)
    at java.awt.Component.access$500(Component.java:169)
    at java.awt.Component$3.run(Component.java:5929)
    at java.awt.Component$3.run(Component.java:5927)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.awt.Component.checkCoalescing(Component.java:5926)
    at java.awt.Component.<init>(Component.java:5895)
    at java.awt.Container.<init>(Container.java:249)
    at javax.swing.JComponent.<init>(JComponent.java:570)
    at javax.swing.JPanel.<init>(JPanel.java:65)
    at javax.swing.JPanel.<init>(JPanel.java:92)
    at javax.swing.JPanel.<init>(JPanel.java:100)
    at com.eositservices.eldorado.masken.FormForderung.<init>(FormForderung.java:72)
    at com.eositservices.eldorado.tabsheets.zahlung.TSZahlung.<init>(TSZahlung.java:183)
    at com.eositservices.eldorado.masken.TFormForderung.addTabs(TFormForderung.java:366)
    at com.eositservices.eldorado.masken.TFormForderung.initializeComponents(TFormForderung.java:275)
    at com.eositservices.eldorado.masken.TFormForderung.configureComponents(TFormForderung.java:148)
    at com.eositservices.bones.view.components.EOSInternalFrame.setUp(EOSInternalFrame.java:81)
    at com.eositservices.eldorado.masken.TFormForderung.<init>(TFormForderung.java:113)
    at com.eositservices.eldorado.main.MainFrame.oeffneForderung(MainFrame.java:577)
    at com.eositservices.eldorado.main.MainFrame.showForderung(MainFrame.java:488)
    at com.eositservices.eldorado.dev.QuickLogin.openForderung(QuickLogin.java:109)
    at com.eositservices.eldorado.dev.QuickLogin.openInitialViews(QuickLogin.java:143)
    at com.eositservices.eldorado.main.MainFrame$2.run(MainFrame.java:433)
    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:646)
    at java.awt.EventQueue.access$000(EventQueue.java:84)
    at java.awt.EventQueue$1.run(EventQueue.java:607)
    at java.awt.EventQueue$1.run(EventQueue.java:605)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
    at java.awt.EventQueue.dispatchEvent(EventQueue.java:616)
    at com.eositservices.bones.view.GlobalHotkeyManager.dispatchEvent(GlobalHotkeyManager.java:163)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
    at java.awt.EventDispatchThread.run(EventDispatchThread.java:122) 
```

有问题的方法如下所示：

```
@Override
public boolean add( InitData e ) {
    boolean returnValue = super.add( e );
     Collections.sort( this, c );
    return returnValue;
} 
```

奇怪的是，只有当我将项目属性设置为“保存时编译”时才会出现异常。当该选项未选中时，它运行良好。在以前的 NetBeans 版本中我们没有遇到这样的问题。这只是一个巧合，我应该在其他地方寻找这个错误的来源还是有人遇到过类似的问题？在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-16T05:37:20.080

这似乎是**NetBeans**中的一个错误。

当这个异常发生时，让我们在代码中出错（例如

```
@Override
**efefefefef**
public boolean add( InitData e ) {
    boolean returnValue = super.add( e );
     Collections.sort( this, c );
    return returnValue;
} 
```

)

保存它，当 Netbeans 显示错误时，将其更正回来。我试图清除项目，从缓存中删除所有内容，但什么也没发生。但这种方式对我有帮助。

# mysql - 如果在 concat 内

> ID：11776415
> 
> 赞同：3
> 
> 时间：2012-08-02T11:23:55.070
> 
> 标签：mysql, sql, concat

这是我试图用来创建触发器的代码：

```
-- Dumping structure for trigger kavanga_lead.click_links_insert
DROP TRIGGER IF EXISTS `click_links_insert`;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='';
DELIMITER //
CREATE TRIGGER `click_links_insert` AFTER INSERT ON `click_links` FOR EACH ROW BEGIN
    INSERT INTO actions_log 
        (
            `uid`,
            `table`,
            `action`,
            `new`
        )
        VALUES
        (  
            @user_id,
            'click_links',
            'insert',
            concat(NEW.id ,'|', NEW.`contents`, '|', NEW.channel_id, '|', NEW.name, '|', NEW.hidden, '|', if(NEW.prefix_id is null,'',NEW.prefix_id) '|', if(NEW.postfix_id is null,'',NEW.postfix_id))
        );
END//
DELIMITER ;
SET SQL_MODE=@OLD_SQL_MODE; 
```

我不断收到错误 (1583) `Incorrect parameters in the call to concat`。如果我不使用`if(NEW.prefix_id is null,'',NEW.prefix_id)`但只使用`NEW.prefix_id`. 但是这个字段可以`null`，所以所有`concat`的结果都变成`null`了to。

所以，问题是我如何`IF`在`CONCAT`调用中使用语句？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:27:05.507

那是因为您在 尝试`comma`后忘记了一个：`if(NEW.prefix_id is null,'',NEW.prefix_id)`

```
concat(NEW.id ,'|', NEW.`contents`, '|', NEW.channel_id, '|', NEW.name, '|', NEW.hidden, '|', if(NEW.prefix_id is null,'',NEW.prefix_id), '|', if(NEW.postfix_id is null,'',NEW.postfix_id)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:28:32.060

你的 . 后面少了一个逗号`IF`。解决此问题后，最好改用[COALESCE](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#function_coalesce)（如果您愿意，也可以使用 IFNULL）[：](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_ifnull)

```
COALESCE(NEW.prefix_id,  '') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:32:48.040

您的查询无效，因为`comma`您的`inline IF`声明后缺少。

```
concat(NEW.id ,'|', NEW.`contents`, '|', 
       NEW.channel_id, '|', NEW.name, '|', NEW.hidden, '|', 
       if(NEW.prefix_id is null,'',NEW.prefix_id) '|', 
       --                                         ^ error here
       if(NEW.postfix_id is null,'',NEW.postfix_id)) 
```

肯定是

```
concat(NEW.id ,'|', NEW.`contents`, '|', 
       NEW.channel_id, '|', NEW.name, '|', NEW.hidden, '|', 
       if(NEW.prefix_id is null,'',NEW.prefix_id), '|', 
       if(NEW.postfix_id is null,'',NEW.postfix_id)) 
```

# c# - C# 列表框拖放行

> ID：11776416
> 
> 赞同：0
> 
> 时间：2012-08-02T11:23:59.277
> 
> 标签：c#, drag-and-drop, listbox

我正在尝试使用列表框实现 C# 拖放行重新排序。我在互联网上遇到了一些代码片段，但似乎没有一个符合我的需求。

我希望您向我展示如何在 ListBox 中移动行的示例代码。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:58:45.653

行的移动是在“listBox1_MouseUp 和 listBox1_MouseDown”方法中完成的。

使用视图代码来改变这一点：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace Calculator
{
    public partial class ComponentMover : Form
    {
        private Control trackedControl;
        private int gridWidth = 100, gridHeight = 20;
        private int row;

        public ComponentMover()
        {
            this.InitializeComponent();
            this.InitializeDynamic();
        }

        void draggable_MouseDown(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            if (this.trackedControl == null)
                this.trackedControl = (Control)sender;
        }

        void draggable_MouseMove(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            if (this.trackedControl != null)
            {
                int x = e.X + this.trackedControl.Location.X;
                int y = e.Y + this.trackedControl.Location.Y;
                Point moved = new Point(x - x % this.gridWidth, y - y % this.gridHeight);

                Console.WriteLine(e.X + ", " + e.Y + ", " + ", " + moved.X + ", " + moved.Y);
                if (moved != this.trackedControl.Location)
                    this.trackedControl.Location = moved;
            }
        }

        void draggable_MouseUp(object sender, MouseEventArgs e)
        {
            this.trackedControl = null;
        }

        private void AddDragListeners(Control draggable)
        {
            draggable.MouseDown += new MouseEventHandler(draggable_MouseDown);
            draggable.MouseMove += new MouseEventHandler(draggable_MouseMove);
            draggable.MouseUp += new MouseEventHandler(draggable_MouseUp);
        }
    }
} 
```

设计师代码：

```
namespace Calculator
{
    // Designer code.
    partial class ComponentMover
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        private void InitializeDynamic()
        {
            this.AddDragListeners(button1);
            this.AddDragListeners(button4);
            this.AddDragListeners(domainUpDown1);
            this.AddDragListeners(textBox1);
            this.AddDragListeners(checkBox1);
            this.AddDragListeners(radioButton1);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.button1 = new System.Windows.Forms.Button();
            this.button4 = new System.Windows.Forms.Button();
            this.domainUpDown1 = new System.Windows.Forms.DomainUpDown();
            this.textBox1 = new System.Windows.Forms.TextBox();
            this.checkBox1 = new System.Windows.Forms.CheckBox();
            this.radioButton1 = new System.Windows.Forms.RadioButton();
            this.listBox1 = new System.Windows.Forms.ListBox();
            this.SuspendLayout();
            // 
            // button1
            // 
            this.button1.Location = new System.Drawing.Point(13, 13);
            this.button1.Name = "button1";
            this.button1.Size = new System.Drawing.Size(75, 23);
            this.button1.TabIndex = 0;
            this.button1.Text = "button1";
            this.button1.UseVisualStyleBackColor = true;
            // 
            // button4
            // 
            this.button4.Location = new System.Drawing.Point(177, 43);
            this.button4.Name = "button4";
            this.button4.Size = new System.Drawing.Size(75, 23);
            this.button4.TabIndex = 3;
            this.button4.Text = "button4";
            this.button4.UseVisualStyleBackColor = true;
            // 
            // domainUpDown1
            // 
            this.domainUpDown1.Location = new System.Drawing.Point(95, 42);
            this.domainUpDown1.Name = "domainUpDown1";
            this.domainUpDown1.Size = new System.Drawing.Size(74, 20);
            this.domainUpDown1.TabIndex = 4;
            this.domainUpDown1.Text = "domainUpDown1";
            // 
            // textBox1
            // 
            this.textBox1.Location = new System.Drawing.Point(177, 72);
            this.textBox1.Name = "textBox1";
            this.textBox1.Size = new System.Drawing.Size(100, 20);
            this.textBox1.TabIndex = 5;
            // 
            // checkBox1
            // 
            this.checkBox1.AutoSize = true;
            this.checkBox1.Location = new System.Drawing.Point(281, 13);
            this.checkBox1.Name = "checkBox1";
            this.checkBox1.Size = new System.Drawing.Size(80, 17);
            this.checkBox1.TabIndex = 6;
            this.checkBox1.Text = "checkBox1";
            this.checkBox1.UseVisualStyleBackColor = true;
            // 
            // radioButton1
            // 
            this.radioButton1.AutoSize = true;
            this.radioButton1.Location = new System.Drawing.Point(366, 42);
            this.radioButton1.Name = "radioButton1";
            this.radioButton1.Size = new System.Drawing.Size(85, 17);
            this.radioButton1.TabIndex = 7;
            this.radioButton1.TabStop = true;
            this.radioButton1.Text = "radioButton1";
            this.radioButton1.UseVisualStyleBackColor = true;
            // 
            // listBox1
            // 
            this.listBox1.FormattingEnabled = true;
            this.listBox1.Items.AddRange(new object[] {
            "word1",
            "word2",
            "word3"});
            this.listBox1.Location = new System.Drawing.Point(13, 42);
            this.listBox1.Name = "listBox1";
            this.listBox1.Size = new System.Drawing.Size(76, 82);
            this.listBox1.TabIndex = 8;
            this.listBox1.MouseDown += new System.Windows.Forms.MouseEventHandler(listBox1_MouseDown);
            this.listBox1.MouseUp += new System.Windows.Forms.MouseEventHandler(listBox1_MouseUp);
            // 
            // ComponentMover
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(485, 159);
            this.Controls.Add(this.listBox1);
            this.Controls.Add(this.radioButton1);
            this.Controls.Add(this.checkBox1);
            this.Controls.Add(this.textBox1);
            this.Controls.Add(this.domainUpDown1);
            this.Controls.Add(this.button4);
            this.Controls.Add(this.button1);
            this.Name = "ComponentMover";
            this.Text = "ComponentMover";
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        void listBox1_MouseUp(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            System.Windows.Forms.ListBox list = (System.Windows.Forms.ListBox)sender;
            int swap = list.SelectedIndex;

            if(swap != this.row)
            {
                string temp = (string)list.Items[this.row];
                list.Items[this.row] = list.Items[swap];
                list.Items[swap] = temp;
            }
        }

        void listBox1_MouseDown(object sender, System.Windows.Forms.MouseEventArgs e)
        {
            this.row = ((System.Windows.Forms.ListBox)sender).SelectedIndex;
        }

        #endregion

        private System.Windows.Forms.Button button1;
        private System.Windows.Forms.Button button4;
        private System.Windows.Forms.DomainUpDown domainUpDown1;
        private System.Windows.Forms.TextBox textBox1;
        private System.Windows.Forms.CheckBox checkBox1;
        private System.Windows.Forms.RadioButton radioButton1;
        private System.Windows.Forms.ListBox listBox1;
    }
} 
```

# c# - C#文本框限制输入的字符和快捷方式

> ID：11776422
> 
> 赞同：0
> 
> 时间：2012-08-02T11:24:16.687
> 
> 标签：c#, visual-studio-2010, textbox, keyboard-shortcuts

我正在做练习，我想出了一个问题，如果有人帮助我并启发我，我会很高兴。

`button1`写入`1`但`texbox1`我想限制一个人可以写的字符数，在这个例子中我想限制在 4 个字符。这意味着一个人最多可以输入 4 个字符。

问题是：当我单击`textbox1`属性并更改`MaxLength`属性时，如果我通过键盘输入字符，它会起作用，但是当设置`textbox1`为只读时，它就不起作用。`1`当我单击 时，我可以输入尽可能多的内容`button1`。

我能做些什么？我想制作`textbox1`只读并想在按下时最多写入 4 个字符`button1`。

问题 2 是：`button1`当我按下键盘上的 Enter 键时，我想按下。提前致谢。

这是我的代码

```
namespace formlar
{
public partial class Form3 : Form
{
    public Form3()
    {
        InitializeComponent();
    }

    private void button1_Click(object sender, EventArgs e)
    {
        //textBox1.Text += textBox1.Text = "1";
        textBox1.Text += "1";
    }
}
} 
```

![在此处输入图像描述](../Images/678a6895e9d5f05ba2b9d83141ad24a7.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:33:38.367

如果您查看它说的文档

[最长长度](http://msdn.microsoft.com/en-us/library/system.windows.controls.textbox.maxlength.aspx)

> 获取或设置可以手动输入到文本框中的最大字符数。

因此，如果您想限制代码，则必须添加该检查，然后停止添加部分。

将[`AcceptButton`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.acceptbutton.aspx)当前表单的属性设置为`Button`您想要的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:33:24.833

试试这个来限制字符串长度：

```
 if (TextBox1.Text.Length < 4) TextBox1.Text += "1"; 
```

# android - Android：切换按钮监听器

> ID：11776423
> 
> 赞同：18
> 
> 时间：2012-08-02T11:24:18.433
> 
> 标签：android

我这里有这段代码

```
ToggleButton toggleAlarm = (ToggleButton) d.findViewById(R.id.toggle_alarm);
toggleAlarm.setOnCheckedChangeListener(new OnCheckedChangeListener() {
    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
        if(isChecked)
        {
            Log.d("alarmCheck","ALARM SET TO TRUE");
            sched.setAlarm(true);
        }
        else
        {
            Log.d("alarmCheck","ALARM SET TO FALSE");
            sched.setAlarm(false);
        }
    }
}); 
```

我必须跟踪它是打开还是关闭。但是，当我将某些内容记录到 logcat 的打开或关闭位置时，它不会做任何事情。我不知道，出了什么问题，因为在我的其他代码上，语法相同，但它可以工作，我只是复制粘贴它并仅更改 ToggleButton 变量。

## **编辑**

我在 cdr 的帮助下观察到。鲍威尔当然，当你把这个代码块，我发布的那个，放在另一个匿名侦听器中，比如说保存按钮的侦听器，checkOnChangedListener 坏了，它在另一个匿名侦听器中不能正常工作，但是我不明白的是，我的代码中还有一个外部侦听器，它就像一个显示对话框的按钮，在该对话框内，有一个添加按钮，可以打开另一个具有该切换的对话框按钮和另一个用于保存或添加的按钮关闭该对话框并返回到上一个对话框，然后将显示新添加的记录，所以你们中的任何人都知道为什么当我将它放在一个监听器中保存按钮时它会损坏但是在外部侦听器中工作正常。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-02T11:41:18.603

试试这个，可能是问题出在`import`

```
toggleAlarm.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

@Override
public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
    if(isChecked)
    {
        Log.d("alarmCheck","ALARM SET TO TRUE");
        sched.setAlarm(true);
    }
    else
    {
        Log.d("alarmCheck","ALARM SET TO FALSE");
        sched.setAlarm(false);
    }

}
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:27:43.287

也试试看`toggleAlarm.isChecked()`按钮是否被选中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-15T19:36:14.063

如果 toggleAlarm.isChecked() 对你不起作用，你总是可以的。

```
boolean _isChecked = false;
((ToggleButton) d.findViewById(R.id.toggle_alarm)).setOnClickListener(new OnOnClickListener() {
    public void onClick(View arg0) {
        _isChecked = !isChecked;            
        if(_isChecked()) {
            Log.d("alarmCheck","ALARM SET TO TRUE");
            sched.setAlarm(true);
        }
        else {
            Log.d("alarmCheck","ALARM SET TO FALSE");
            sched.setAlarm(false);
        }
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-19T14:02:01.797

所以我观察到，在 cdr 的帮助下。鲍威尔当然，当你把这个代码块，我发布的那个，放在另一个匿名侦听器中，比如说保存按钮的侦听器，checkOnChangedListener 坏了，它在另一个匿名侦听器中不能正常工作，但是那个我不明白的是，我的代码中还有一个外部侦听器，它就像一个显示对话框的按钮，在该对话框内部，有一个添加按钮，可以打开另一个具有该切换按钮的对话框和另一个用于保存或添加的按钮，它关闭该对话框并返回到上一个对话框，然后将显示新添加的记录，所以你们中的任何人都知道为什么当我将它放在一个监听器中保存按钮但工作时它会损坏在外部听众中很好。

# php - Sort array by date where the date is a string of just month-year

> ID：11776428
> 
> 赞同：0
> 
> 时间：2012-08-02T11:24:32.450
> 
> 标签：php, arrays, date, sorting

I have an array which contains a Month field which is just a string as below:

```
Array
(
    [0] => stdClass Object
        (
            [id] => 1
            [Month] => Jan-13
        )

    [1] => stdClass Object
        (
            [id] => 2
            [Month] => Jan-14
        )

    [2] => stdClass Object
        (
            [id] => 3
            [Month] => Jul-12
        )

) 
```

How can I sort this array into date order?

Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:34:36.843

Obviously you need custom sorting so use [usort](http://php.net/manual/en/function.usort.php). That leaves us with comparator. The not-that-pretty way might look like these:

```
function datescompare($a, $b) {
    $a = str_replace('-', ' 20', $a->Month); //changing year to full number to avoid treating it as day number
    $b = str_replace('-', ' 20', $b->Month); //same with $b

    $a = strtotime($a); //dirty, but works
    $b = strtotime($b);

    return ($a-$b);
} 
```

example call:

```
uasort($array, 'datescompare'); 
```

You'd probably want to add some validation (if year might be before 2000, if the string is incorrect etc), but the above should roughly work.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:41:11.683

You can try this

```
$array = array();
$array[0] = new stdClass();
$array[0]->id = 1 ;
$array[0]->Month = "Jul-13" ;

$array[1] = new stdClass();
$array[1]->id = 2 ;
$array[1]->Month = "Jul-14" ;

$array[2] = new stdClass();
$array[2]->id = 3 ;
$array[2]->Month = "Jul-12" ;

function cmp($a, $b) {
    $aDate = DateTime::createFromFormat("M-d",$a->Month);
    $bDate = DateTime::createFromFormat("M-d",$b->Month);
    return $aDate->getTimestamp() - $bDate->getTimestamp();
}

usort($array, "cmp");
var_dump($array); 
```

Output

```
array
  0 => 
    object(stdClass)[3]
      public 'id' => int 3
      public 'Month' => string 'Jul-12' (length=6)
  1 => 
    object(stdClass)[1]
      public 'id' => int 1
      public 'Month' => string 'Jul-13' (length=6)
  2 => 
    object(stdClass)[2]
      public 'id' => int 2
      public 'Month' => string 'Jul-14' (length=6) 
```

# php - 删除所有文件夹的内容

> ID：11776431
> 
> 赞同：0
> 
> 时间：2012-08-02T11:24:44.790
> 
> 标签：php, destroy, unlink

我有一张表，其中包含我希望删除内容的所有文件夹的名称。现在我有一个脚本，它将删除我设置的文件夹的全部内容。现在我虽然可以将该代码放在一个while循环中，它会删除所有文件夹的内容。但是，我得到一个错误。这是代码，错误在底部，出了什么问题，我该如何解决？

```
$query = "SELECT * FROM gemeentes"; 

$result = mysql_query($query) or die(mysql_error());

while($row = mysql_fetch_array($result)){

$gemeente1 = str_replace(" ","",$row['gemeente']);
$gemeente2 = strtolower($gemeente1);
$gemeente3 = str_replace("(","-",$gemeente2);
$gemeente4 = str_replace(")","",$gemeente3);
$gemeente5 = str_replace(",","",$gemeente4);

if(isset($_POST['GO'])) {

$directory = "../subdomains/".$gemeente5."/httpdocs/";

echo $directory;

define('PATH', $directory);

function destroy($dir) {

    $mydir = opendir($dir);

    while(false !== ($file = readdir($mydir))) {

        if($file != "." && $file != "..") {

            chmod($dir.$file, 0777);

            if(is_dir($dir.$file)) {

                chdir('.');

                destroy($dir.$file.'/');

                rmdir($dir.$file) or DIE("couldn't delete $dir$file<br />");

            }

            else

                unlink($dir.$file) or DIE("couldn't delete $dir$file<br />");

        }

    }

    closedir($mydir);

}

destroy(PATH);

echo 'all done.'; 

}

} 
```

第一个删除恢复正常，第二个不再起作用：

```
../subdomains/aaenhunze/httpdocs/all done.../subdomains/aalburg/httpdocs/
Fatal error: Cannot redeclare destroy() (previously declared in /vhosts/url.nl/httpdocs/deletecontent.php:50) in /vhosts/url.nl/httpdocs/deletecontent.php on line 50 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:44:04.937

`destroy(PATH);`你为什么用“定义”的常量来调用你的函数，而不仅仅是实际的底层变量： `destroy($directory);`？一旦按照 Bulk 的建议将函数从循环中取出，我认为这应该可以工作......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:28:41.237

您`destroy`在最外面的 while 循环内定义函数，因此第二次运行循环时，该函数已经定义。将函数定义移到 while 循环之外以解决此问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:57:23.293

谢谢大家的帮助。我看了你所有的答案，OzgurH 的建议起到了作用。工作代码：

```
$query = "SELECT * FROM gemeentes"; 

$result = mysql_query($query) or die(mysql_error());

while($row = mysql_fetch_array($result)){

$gemeente1 = str_replace(" ","",$row['gemeente']);
$gemeente2 = strtolower($gemeente1);
$gemeente3 = str_replace("(","-",$gemeente2);
$gemeente4 = str_replace(")","",$gemeente3);
$gemeente5 = str_replace(",","",$gemeente4);

if(isset($_POST['GO'])) {

$directory = "../subdomains/".$gemeente5."/httpdocs/";

echo $directory;

destroy($directory);

echo 'all done.'; 

}

}

function destroy($dir) {

    $mydir = opendir($dir);

    while(false !== ($file = readdir($mydir))) {

        if($file != "." && $file != "..") {

            chmod($dir.$file, 0777);

            if(is_dir($dir.$file)) {

                chdir('.');

                destroy($dir.$file.'/');

                rmdir($dir.$file) or DIE("couldn't delete $dir$file<br />");

            }

            else

                unlink($dir.$file) or DIE("couldn't delete $dir$file<br />");

        }

    }

    closedir($mydir);

} 
```

# windows - Metro应用程序中的OnLaunched事件和恢复事件有什么区别？

> ID：11776436
> 
> 赞同：1
> 
> 时间：2012-08-02T11:25:24.577
> 
> 标签：windows, microsoft-metro, windows-runtime

我正在尝试了解应用程序生命周期。

场景：我正在启动一个空白应用程序；之后，我有意退出该应用程序并打开一个单独的应用程序。一段时间后，我查看了任务管理器。空白应用程序似乎已暂停。然后我再次启动空白应用程序（处于暂停状态）。那一刻，它必须击中恢复事件，对吗？

1）为什么恢复事件没有触发？（应该触发 Resuming 事件，因为应用程序正在从挂起状态进入运行状态。）

2) 为什么会触发 OnLaunched 事件？

3) OnLaunched 事件是仅在应用程序第一次启动时触发，还是在终止后被激活时触发？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T13:02:07.137

我还没有太多使用 Metro 应用程序的经验，但我会尝试回答：

广告 1) 如果您的应用程序从 Suspended 状态变为 Running 状态（如[Metro Application Lifecycle 上的 MSDN 文章](http://msdn.microsoft.com/en-us/library/windows/apps/hh464925.aspx)中的图表所示），**resumeing**事件实际上*应该*触发。我在类似的情况下做了一些测试，它确实做到了。顺便说一句，这是我发现的对这个事件的最佳描述：

> 当应用程序从 Suspended 状态恢复时，它会进入 Running 状态并*从暂停时的位置继续*。应用程序数据不会丢失，因为它存储在内存中。因此，*大多数应用程序在恢复时不需要做任何事情*。但是，该应用程序可能已暂停数小时甚至数天。因此，如果您的应用程序的内容或网络连接可能已经过时，则应在应用程序恢复时刷新这些内容或网络连接。

广告 3）我所理解的 Launch 只是一种特殊的 Activation （应用程序的可能入口点之一），它对应于从*Not running* -> *Running*的转换。一些报价：

> 当应用程序被激活时，无论出于何种原因，系统都会发送 Activated 事件。

和

> 当用户切换到您**终止**的应用程序时，系统会发送 Activated 事件，其中 Kind 设置为 Launch，**PreviousExecutionState** 设置为**Terminated**或**ClosedByUser**。应用程序应*加载其保存的应用程序数据并刷新其显示的内容*。

广告 2) 如果执行了*OnLaunched*并且没有触发*Resuming*事件，我猜您的应用程序处于“未运行状态”，例如它在您重新启动之前被系统终止（暂停->未运行）。我不知道为什么任务管理器可能没有刷新此信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-05T20:08:44.387

ResumeEvent 未触发，因为您从开始屏幕或其固定磁贴打开了应用程序。在这种情况下，应用程序被视为已再次启动。这就是执行 OnLaunched 事件而不是 ResumeEvent 的原因。

为确保 ResumeEvent 被触发，请在切换到其他应用程序后等待 10 秒，然后转到左上角并将应用程序带回前台。确保等待 10 秒，然后 Windows 会将应用视为正在运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-14T23:42:27.707

我可以回答这个：

1）但为什么恢复事件没有触发？（需要触发恢复事件，因为应用程序正在从挂起状态变为运行状态）

有一个调试按钮可用于强制您的应用程序进入暂停状态。在 Visual Studio 的快速搜索中搜索“调试位置”。这是一个调试工具栏，您在调试时点击“暂停”按钮。一旦你回到你的应用程序（在你返回之前给它几秒钟），那么你应该触发恢复事件。

# php - PHP MySql - 每个页面加载的最大查询数

> ID：11776438
> 
> 赞同：0
> 
> 时间：2012-08-02T11:25:28.410
> 
> 标签：php, mysql, sql

我的应用程序平均有 2000 个在线用户，这是一个非常高的页面加载数量。我的问题是在每个页面加载中我可以执行多少个 mysql 查询？因为我的应用程序需要加载大量数据。

我的数据库有可能崩溃吗？还是我的服务器？

***_* ____ SOME INFO *_* ____**
内存限制：60Mb
并行进程：15
脚本执行时间：30 seg
DB：MySQL5 (1Gb)

结构：在结构中，所有的表都很好地相互连接。Allmowst 95% 的字段是 INT 类型（与 FOREIGN 和 PRIMARY 键相关）。有14张桌子。总共有 32 个 INT 字段和 6 个 TEXT 字段。

如果我无法在我的服务器上安装应用程序怎么办，还有其他方法可以缓存我的数据吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:28:48.760

如果你有这样的负载，你可能应该开始考虑设置某种缓存 - 所以请求只会命中 DB 一次。

我的选择是[Varnish](https://www.varnish-cache.org/)。

如果您有部分动态内容，例如与用户相关的数据，您可以将其与[**Edge Side Includes**](https://www.varnish-cache.org/docs/trunk/tutorial/esi.html)一起使用。

此外，尝试通过聚合选择条件来尽可能少地优化您的查询。例如，首先 - 收集`ids`你需要选择的所有内容，然后 - 做`SELECT * FROM table WHERE id IN (...)`

之后 - 您将能够在服务器端使用结果，而无需打扰数据库

* * *

**编辑**

如果您无法在主机上安装任何应用程序 - 那么您应该继续使用一个请求获取尽可能多的数据，然后 - 使用数组。

并且拥有索引字段也**很重要**- 这将加快您的查询速度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:42:00.413

对于这样的负载，您可能希望在应用程序和 MySQL 服务器之间设置[具有复制](http://dev.mysql.com/doc/refman/5.5/en/replication-howto.html)和负载平衡器的多台服务器，以在多个实例之间分配读取负载（并考虑缓存和优化您的查询，如 @thecatontheflat 所建议的那样）。它还有助于提高可用性（当一台数据库服务器关闭时，其他人可能会分担它的工作）

# windows - Windows 操作系统是从头开始编写的吗？

> ID：11776439
> 
> 赞同：0
> 
> 时间：2012-08-02T11:25:36.733
> 
> 标签：windows, operating-system

如果有的话，它的背景和“灵感”是什么？它是否有任何机会在其深处有 Unix DNA 的片段，但由于某种原因没有被披露？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T13:45:44.357

不，不是。

MS-DOS 是微软从西雅图计算机产品公司购买的 CP/M 操作系统的重命名并移植到 IBM PC 克隆（这适用于从一开始的所有 Windows 和 Windows 98/Me）

如果谈到基于 NT 的 Windows，微软从 DEC 公司聘请了一个工程师团队（由 DEC 的 VMS 操作系统开发人员之一 Dave Cutler 领导）。他被告知要开发一个支持 OS/2 API 的 32 位操作系统。所以最后，新的操作系统（NT OS/2）真的和VMS很像，后来在这个新的NT OS/2的基础上，1993年发布了Windwows NT 3.1。

PS 此信息取自我读过的一本书——[现代操作系统，第 3 版。作者：安德鲁·S·塔南鲍姆。](http://en.wikipedia.org/wiki/Modern_Operating_Systems)

# json - 外部 JSON 文件为未知类型

> ID：11776441
> 
> 赞同：0
> 
> 时间：2012-08-02T11:25:47.427
> 
> 标签：json, actionscript-3

我有这段代码，我试图加载一个 JSON 文件并解析它。但是当我尝试用我制作的类加载它（我可以加载图像和声音）时，它给了我这个错误：

```
Error #2124: Loaded file is an unknown type. URL: http://192.168.1.19/Sheet1.json 
```

这是我用来加载它的函数，我怎样才能让它让 Flash 识别文件类型？

```
 public function LoadString(path:String) {
        var stringLoader:flash.display.Loader = new flash.display.Loader();
        stringLoader.contentLoaderInfo.addEventListener(LoaderEvent.COMPLETE, loadStringComplete);
        stringLoader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpError,false,0,true);
        stringLoader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, error, false, 0 ,true);
        stringLoader.load(new URLRequest(path));
    }

    private function loadStringComplete(e:Event) {
        try {
            dispatchEvent(new LoaderEvent(LoaderEvent.STRING_LOADED,0,0,e.target.data,true));
        } catch (error:*) {
            dispatchEvent(new LoaderEvent(LoaderEvent.ERROR,0,0,"Error: "+ error.toString(),true));
        }
    } 
```

JSON 文件的内容是使用 Flash CS6 中的新 Spritesheet 方法生成的。

```
{"frames": {

"Front AA0000":
{
    "frame": {"x":0,"y":0,"w":12,"h":13},
    "rotated": false,
    "trimmed": false,
    "spriteSourceSize": {"x":0,"y":0,"w":12,"h":13},
    "sourceSize": {"w":12,"h":13}
},
"Rot AA0000":
{
    "frame": {"x":12,"y":0,"w":14,"h":6},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":14,"y":8,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
},
"Rot AA0001":
{
    "frame": {"x":0,"y":13,"w":20,"h":8},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":9,"y":6,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
},
"Rot AA0002":
{
    "frame": {"x":0,"y":21,"w":28,"h":8},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":4,"y":6,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
},
"Rot AA0003":
{
    "frame": {"x":0,"y":29,"w":24,"h":8},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":4,"y":6,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
},
"Rot AA0004":
{
    "frame": {"x":0,"y":37,"w":28,"h":11},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":0,"y":3,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
},
"Rot AA0005":
{
    "frame": {"x":0,"y":48,"w":28,"h":14},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":0,"y":0,"w":32,"h":14},
    "sourceSize": {"w":32,"h":14}
}},
"meta": {
    "app": "Adobe Flash CS6",
    "version": "12.0.0.481",
    "image": "Rocket AA 8-Bit.png",
    "format": "RGB8",
    "size": {"w":32,"h":64},
    "scale": "1"
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T12:22:29.977

在互联网上进行了一些研究后，我发现了问题，Flash 使用了图像、声音和 swf 文件的默认加载器。您必须使用 URLLoader 来加载其他文件。我使用这个函数成功加载了文本文件，LoaderEvent 是一个自定义事件类，我用它传递字符串：

```
public function LoadString(path:String) {
        var stringLoader:URLLoader = new URLLoader(new URLRequest(path));
        stringLoader.addEventListener(LoaderEvent.COMPLETE, loadStringComplete);
        stringLoader.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpError,false,0,true);
        stringLoader.addEventListener(IOErrorEvent.IO_ERROR, error, false, 0 ,true);
}

private function loadStringComplete(e:Event) {
        try {
            dispatchEvent(new LoaderEvent(LoaderEvent.STRING_LOADED,0,0,e.target.data,true));
        } catch (error:*) {
            dispatchEvent(new LoaderEvent(LoaderEvent.ERROR,0,0,"Error: "+ error.toString(),true));
        }
} 
```

# asp.net - W3C 验证包含 CSS 的 UserControl

> ID：11776442
> 
> 赞同：0
> 
> 时间：2012-08-02T11:25:58.067
> 
> 标签：asp.net, css

如果我的页面上有一个画廊，我已经为画廊编写了一个 .net 用户控件，它在我的 Web 应用程序中运行良好。问题是当我去验证我的页面时，使用 XHTML 1.0 Strict，我得到文档类型不允许元素“链接”。

我做了一些研究，这是因为我在用户控件中嵌入了一个样式表，并且是从母版页的正文中调用的，所以它没有验证。我可以将样式表移出用户控件并移到主文件中，但我不需要在每个页面上加载样式表。最好的方法是什么 - 我希望将样式表包含在用户控件中，以便“管理”简单。

任何建议都会很棒。还在想，我是否也需要从用户控件中删除 javascript？

这是有问题的用户控件

```
<%@ Control Language="C#" Debug="true" AutoEventWireup="true" CodeFile="Gallery.ascx.cs" Inherits="Gallery" %>

<%@ Register Assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
Namespace="System.Web.UI.WebControls" TagPrefix="asp" %>

<link ID="FancyboxCSS" type="text/css" rel="stylesheet" href="" runat="server" />
<link ID="FancyboxButtonsCSS" type="text/css" rel="stylesheet" href="" runat="server" />

<script type="text/javascript">

$(document).ready(function () {
    $(".fancybox").fancybox({
        maxWidth: 800,
        maxHeight: 800,
        fitToView: true,
        aspectRatio: true,
        openEffect: 'fade',
        closeEffect: 'fade',
        nextEffect: 'fade',
        prevEffect: 'fade',

        helpers: {
            title: {
                type: 'outside'
            },
            overlay: {
                opacity: 0.8,
                css: {
                    'background-color': '#000'
                }
            },
            buttons: {}
        }
    });
}); 
```

```
<div id="gallery" runat="server">
//images here
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:48:48.337

标记验证器以标记语言（例如 HTML 或 XML）处理文档，并且文档必须是完整的。例如，HTML 文档必须至少包含一个`title`元素。并且`<%@`不应包含类似的内容：它们不是 HTML 文档的一部分，而是生成 HTML 的软件的说明。

因此，如果您想验证，您需要提交一个完整的、生成的 HTML 文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T13:41:04.763

在这里为将来寻找相同事物的其他人找到答案[http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmllink(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.htmlcontrols.htmllink(v=vs.80).aspx)

```
// Define an HtmlLink control.
HtmlLink myHtmlLink = new HtmlLink();
myHtmlLink.Href = "~/StyleSheet.css";
myHtmlLink.Attributes.Add("rel", "stylesheet");
myHtmlLink.Attributes.Add("type", "text/css");

// Add the HtmlLink to the Head section of the page.
Page.Header.Controls.Add(myHtmlLink); 
```

# httpwebrequest - Metro Style App HttpWebRequest Headers 不包含 Add 的定义

> ID：11776443
> 
> 赞同：0
> 
> 时间：2012-08-02T11:26:01.800
> 
> 标签：httpwebrequest, microsoft-metro, custom-headers

我想将自定义标头/值对添加到 HttpWebRequest 对象的标头集合中。我可以像这样将自定义标头/值对添加到 WPF 应用程序的集合中。

```
HttpWebRequest HWR = (HttpWebRequest)WebRequest.Create("........");
WHR.Headers.Add("Header", "Value"); 
```

但！

当我在 Metro Style App 中使用相同的代码时，标题会出现错误。我应该如何将自定义标头/值对添加到标头集合中？

谢谢...

# openerp - OpenERP：修改核心模块

> ID：11776445
> 
> 赞同：0
> 
> 时间：2012-08-02T11:26:29.060
> 
> 标签：openerp

我也是 OpenERP 和 Python 的新手。我有**OpenERP 6.0.4**

我已经使用**python 2.7修改了****account文件夹中的****invoice.py**文件（我只是编辑并保存了文件，我没有编译任何东西）。

 ****我所做的更改是如何计算总金额，我需要总金额总是在总金额中添加 0.3 欧元。

然后我重新启动了 OpenERP 服务器，我还去管理>模块>设置**帐户模块**升级，然后应用升级。

然后我开始了一张新的发票，但没有反映所做的更改。

出于测试目的，由于我是 Python 新手，并且认为我可能没有正确编码，因此我通过修改 invoice.py 中的一行，修改了当您将鼠标悬停在发票界面中的“Residual”上时出现的帮助消息从`help="Remaining amount due."`到`help="This is just for testing."`

我重新启动了服务器并升级了模块，甚至没有反映这种变化。

我什至创建了一个新数据库，但仍然没有显示修改。

我错过了什么吗？甚至可以编辑核心模块吗？有什么解决方法吗？

最终解决方案：卸载并重新安装服务器解决了问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T13:20:20.637

最可能的原因是`addons`正在使用的目录与您正在编辑的目录不同。您可以确定是否更改了`addons`目录名称，并且可以毫无问题地重新启动服务器。您也可以尝试将`--addons-path`参数设置为服务器启动命令。

如果/当您确认正在处理正确的文件时，请尝试在视图上进行小的文本更改，因为这些在模块升级后立即可见，不需要重新启动服务器。例如，尝试`string`更改`account\partner_view.xml`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T14:52:31.737

稍微偏离主题，但很重要：您**不**应该直接在源代码中修改核心模块。正确的方法是在您自己的模块中扩展核心类，这将依赖于核心模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-03T08:31:31.417

从您的评论来看，您似乎想在发票中添加设定的税额。看看[http://doc.openerp.com/v6.1/book/3/3_7/invoicing.html#tax-management](http://doc.openerp.com/v6.1/book/3/3_7/invoicing.html#tax-management) - openerp 已经满足了这种需求，然后你不需要破解应该应该的源代码成为你最后的手段:)****

# ios - 体积数据的 16 位到 8 位转换（iOS + OpenGL ES 2.0）

> ID：11776447
> 
> 赞同：0
> 
> 时间：2012-08-02T11:26:41.410
> 
> 标签：ios, opengl-es

我将体积数据加载为 8 位 GL_LUMINANCE 纹理。

我已经发布了一个关于[如何在 OpenGL ES 2.0 中直接加载 16 位亮度纹理的问题](https://stackoverflow.com/questions/11072990/creating-a-16-bit-luminance-texture-in-opengl-es-2-0-on-ios)，但我没有得到解决方案。因此，为了加载 16 位数据，我尝试将 16 位值重新缩放为 8 位，如下所示：

```
newvol[i] = 255 * (oldVol[i] + 32768)/66536; 
```

我确认 16 位数据是短符号的。对于下面显示的数据集，我发现最小值/最大值为 (-32768, 32516)

但是上面的转换会产生伪影（剪辑？），如下面的横截面所示：

![在此处输入图像描述](../Images/accb1ae0ef96da0b695b00f4cfd8d3e1.png)

转换错了吗？有没有更好的方法来转换为 8 位？

# google-chrome - gif 图像渲染然后消失 chrome

> ID：11776448
> 
> 赞同：0
> 
> 时间：2012-08-02T11:26:46.840
> 
> 标签：google-chrome, gif

Gif 图像呈现一瞬间，当页面完全加载时消失，留下损坏的图像图标。这只发生在 Chrome 其他浏览器中，它很好，包括 Safari。

奇怪的是，直到昨晚，一切都很好，并且工作了几个月。

Chrome 的网络开发者工具显示“加载资源失败”。

任何建议，将不胜感激。

下面是一个页面的链接。

谢谢，

[http://www.isenterprises.co.uk/product_info.php?cPath=33_46&products_id=748](http://www.isenterprises.co.uk/product_info.php?cPath=33_46&products_id=748)

（这是无法正确渲染的“可用颜色”色板）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T15:14:12.567

事实上，IE 并不知道“Transfer-Encoding”是谁。你必须写：

```
header('内容传输编码：放气');
```

在`paps_makethumb.php`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-28T00:07:38.440

添加：

```
header('Transfer-Encoding: deflate'); 
```

在`paps_makethumb.php`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-18T00:09:01.380

对我来说同样的问题，通过删除 Chrome**扩展**解决了！

*   Chrome 菜单 Chrome 菜单 > 设置。
*   单击扩展。

检查里面有什么...我必须卸载以前安装的“QR 码生成器”。也许一些扩展需要更新，但我卸载了它们，现在 Chrome 渲染得很好。

# java - GWT 的 Web 测试工具？

> ID：11776450
> 
> 赞同：4
> 
> 时间：2012-08-02T11:26:49.220
> 
> 标签：java, unit-testing, gwt, testing, automated-tests

我正在为使用**GWT开发的应用程序寻找****开源**测试自动化工具。该工具应允许：

 ***   **场景录制**
*   **场景维护（二进制文件、XML、..）**
*   集成到构建工具 (Ant)

我知道 Selenium 可以做到这一点，但我不确定这是唯一也不是最好的工具。如果您知道其他自动化测试工具，请随时向我推荐。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:50:39.083

你试过[GWTTestCase](http://google-web-toolkit.googlecode.com/svn/javadoc/1.5/com/google/gwt/junit/client/GWTTestCase.html)吗？请参阅有关 Google Developers 更好地洞察力的[使用 Google Web Toolkit 测试方法一文。](https://developers.google.com/web-toolkit/articles/testing_methodologies_using_gwt)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-02T11:43:41.130

尝试硒 2。

看：

*   [http://www.carfey.com/blog/testing-gwt-apps-with-selenium-or-webdriver/](http://www.carfey.com/blog/testing-gwt-apps-with-selenium-or-webdriver/)

如果需要负载测试：

*   [使用 jmeter 进行 GWT 负载测试](https://stackoverflow.com/questions/2803661/gwt-load-testing-with-jmeter)

问候

菲利普

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T15:38:17.550

如果您对商业工具持开放态度，那么我想推荐[Telerik 的 Test Studio](http://www.telerik.com/automated-testing-tools)。（披露：我是该工具的传播者。）

我们在创建非常可维护的记录测试方面做得很好，而且您可以根据需要深入编写尽可能少的代码来充实您的测试套件。Test Studio 也处理负载测试。还有一个命令行运行器，它是 Ant 或任何其他构建系统的完美集成点。（如果您愿意，我们也有自己的调度程序。）

此外，我们在帮助创建动态内容情况下的可靠测试方面做得很好——AJAX，例如**

# python - 如何获取成功上传的 youtube 视频的视频 ID？

> ID：11776453
> 
> 赞同：0
> 
> 时间：2012-08-02T11:26:53.597
> 
> 标签：python, youtube-api

我正在使用他们的 API 将视频上传到 youtube。上传成功后，我想获取我找不到的视频ID。我在 video_entry 对象中找到了这个作为 id。

```
 <ns0:id xmlns:ns0="http://www.w3.org/2005/Atom">http://gdata.youtube.com/feeds/api/videos/nK1Ax6320T8</ns0:id> 
```

这里，nK1Ax6320T8 是视频 ID。我如何在python中解析它。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:59:50.927

您需要解析该 url 参数，Python 提供了一个[很好的库](http://docs.python.org/library/urlparse.html#module-urlparse)来做到这一点。

YouTube 数据 API 文档中有[很好的示例代码](https://code.google.com/p/hello-youtube/source/browse/trunk/06_hello_browser_based_upload/main.py)可以完全满足您的要求。结帐[行 76](https://code.google.com/p/hello-youtube/source/browse/trunk/06_hello_browser_based_upload/main.py#76)。

# mysql - 我可以在 MySQL 中使用 SHA 5 解密数据吗？

> ID：11776455
> 
> 赞同：-1
> 
> 时间：2012-08-02T11:26:56.920
> 
> 标签：mysql

我正在尝试在 mysql 中使用 SHA 5 加密和解密数据。我能够加密数据但无法解密它。如何在mysql中实现SHA5加密数据的解密。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:52:12.000

你到底想做什么？正如迈克尔所说，您将无法反转哈希。当我们想要隐藏真实信息并且从不解密时，我们使用哈希。如果要解密它，请使用可逆函数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-02T11:33:47.143

哈希算法（SHA = 安全哈希算法）是一种方法。您可以使用 then 来验证密码等信息，方法是检查输入的密码在 SHA 时是否等于记录的加密版本。你不能用它解密。

# jquery - 如何获取 jQuery ui 范围滑块选择的值

> ID：11776456
> 
> 赞同：5
> 
> 时间：2012-08-02T11:26:58.337
> 
> 标签：jquery, jquery-ui

我正在使用 jQuery ui 范围滑块[http://jqueryui.com/demos/slider/#range](http://jqueryui.com/demos/slider/#range)，其中有两个值在滑动完成时得到（范围选择完成）然后如何将这些值放入 jQuery变量并且仅在选择范围之后？在我得到这些值之后，我必须进行 ajax 调用。谁能帮助我，只有在完成两个范围选择后才能获得这些值？

我正在使用这个 jQuery ui 函数来启动滑块

```
$(function() {
    $( "#slider-range" ).slider({
        range: true,
        min: 0,
        max: 500,
        values: [ 75, 300 ],
        slide: function( event, ui ) {
            $( "#amount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
        }
    });
    $( "#amount" ).val( "$" + $( "#slider-range" ).slider( "values", 0 ) +
        " - $" + $( "#slider-range" ).slider( "values", 1 ) );
}); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-02T11:35:27.640

```
$(function() { 
    $( "#slider-range" ).slider({ 
        range: true, 
        min: 0, 
        max: 500, 
        values: [ 75, 300 ], 
        slide: function( event, ui ) { 
            $( "#amount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] ); 
        },
        change: function(event, ui) {
            // when the user change the slider
        },
        stop: function(event, ui) {
            // when the user stopped changing the slider
            $.POST("to.php",{first_value:ui.values[0], second_value:ui.values[1]},function(data){},'json');
        }
    }); 
    $( "#amount" ).val( "$" + $( "#slider-range" ).slider( "values", 0 ) + 
                        " - $" + $( "#slider-range" ).slider( "values", 1 ) ); 
}); 
```

# timer - Lua Timer(s) 上的命令

> ID：11776460
> 
> 赞同：0
> 
> 时间：2012-08-02T11:27:11.913
> 
> 标签：timer, lua

抱歉，但这可能是一些人所说的开放式问题。

我正在尝试发出命令，如果有人说 !spectate，他们将进入观看模式，并在那里停留 30 秒。到目前为止，我完全不成功，因此，我真的不知道我在做什么，所以没有可用的错误代码:(

这里有一些事情可以帮助那些回答的人：

要将一个人置于观看模式，在有人说 !spectate （没有 30 秒限制）之后，您可以这样做：

```
if Message == "!spectate" then
  InputConsole("spectate %d", pID)
end 
```

将使用的游戏是命令与征服：叛徒

对不起，我不能比这更有帮助，我在这里完全超出了我的深度！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:36:25.070

但是，您要执行此操作将特定于 Renegade 的 Lua API。我自己从未使用过它，但全能的谷歌认为 Renegades 使用[LuaTT](http://luaplugin.wikispaces.com/functions)，API 文档说：

> 您只能将 255 个脚本附加到对象。对于计时器，基于 OnThink 和 os.time 制作自己的 api

文档不是特别好，但快速查看[此处](http://dl.dropbox.com/u/29623549/LuaTT_091011.rar)找到的示例代码表明，这些行中的某些内容会起作用：

```
local timers = {
  { time = 1343910384, cb = function() doSomething() end }
}

function OnThink()  -- this is called every frame
  for i = 1, #timers do
    if os.time() > timers[i].time then 
      timers[i].cb()
      table.remove(timers, i)
    end
  end
end 
```

您发布的代码将如下所示：

```
if Message == "!spectate" then
  InputConsole("spectate %d", pID) -- move player to spectators
  table.insert(timers, {
    time = os.time() + 30,                                 -- 30 seconds from now,
    cb   = function() InputConsole("spectate %d", pID) end -- remove player from spectators
  })
end 
```

# php - 在列表之前立即删除

> ID：11776461
> 
> 赞同：-1
> 
> 时间：2012-08-02T11:27:13.963
> 
> 标签：php, html

我有使用 PHP 遍历数据库的代码，并将 HTML 处理为如下所示：

```
First line etc<br />
Text blah blah blah blah, etc<br />
Moar text blah blah blah,<br />
<ul>
    <li>List Item 1</li>
    <li>List Item 2</li>
</ul> 
```

但是，我希望在删除`<br />`之前立即`<ul>`删除。IE

```
...
Moar text blah blah blah,
<ul>
... 
```

我无法使用 CSS 来纠正这个问题，因为它正在被解析为 PDF 格式。

我该如何删除（或）`<br />`之前的立即？`<ul>``<ol>`

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:31:28.023

您可以使用这样的正则表达式：

```
<?php

$text = 'First line etc<br />
Text blah blah blah blah, etc<br />
Moar text blah blah blah,<br />
<ul>
    <li>List Item 1</li>
    <li>List Item 2</li>
</ul>
';

$text = preg_replace('#<br\s*/>\s*<ul>#ims',"\n<ul>",$text); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:32:34.000

我为此使用数组。

```
$foo = get_elements_to_output_in_some_way_or_another();

echo implode("<br />\n", $foo); 
```

# asp.net-mvc - 为什么我不能将我的 ObjectSet 绑定到我的 ASP.NET MVC 列表视图？

> ID：11776466
> 
> 赞同：0
> 
> 时间：2012-08-02T11:27:35.293
> 
> 标签：asp.net-mvc, model-view-controller

我正在开发与 mvc 应用程序相关的电影。我正在尝试搜索电影的名称。

它给出了一个错误：

> 传入字典的模型项的类型为“System.Data.Objects.ObjectSet `1[MvcMovie.Movie]', but this dictionary requires a model item of type 'System.Collections.Generic.IEnumerable`1[MvcMovie.Models.Movie]”。

下面是 Movie 控制器的 searchIndex 方法代码。

```
 public ActionResult SearchIndex(string searchString)
    {
        var movies = from m in db.Movies select m;

        if (!string.IsNullOrEmpty(searchString))
        {
            movies = movies.Where(s => s.Title.Contains(searchString));

        }

        return View(db.Movies);
  } 
```

以及下面的查看页面代码

```
@model IEnumerable<MvcMovie.Models.Movie>

@{
ViewBag.Title = "SearchIndex"; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:06:08.743

该错误表明您的`Movie`实体的命名空间`MvcMovie`不是`MvcMovie.Models`

```
System.Data.Objects.ObjectSet1[**MvcMovie.Movie**] 
```

改变这个

```
@model IEnumerable<MvcMovie.Models.Movie> 
```

对此

```
@model IEnumerable<MvcMovie.Movie> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:29:50.117

您需要将结果转换为可枚举类型.. 例如 List：

```
return View(db.Movies.ToList()); 
```

# bash - 在 bash 3 中创建关联数组

> ID：11776468
> 
> 赞同：38
> 
> 时间：2012-08-02T11:27:38.517
> 
> 标签：bash

在彻底搜索了一种在 bash 中创建关联数组的方法之后，我发现这`declare -A array`可以解决问题。但问题是，它只适用于 bash 版本 4，而我们系统中服务器的 bash 版本是 3.2.16。

如何在 bash 3 中实现某种类似关联数组的 hack？这些值将传递给脚本，例如

```
ARG=array[key];

./script.sh ${ARG} 
```

编辑：我知道我可以在 awk 或其他工具中执行此操作，但我要解决的场景需要严格的 bash。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-02T11:55:50.750

Bash 3 没有关联数组，因此您将不得不使用其他一些语言功能来实现您的目的。请注意，即使在 bash 4 下，您编写的代码也不会像您声称的那样做：`./script.sh ${ARG}`不会将关联数组传递给子脚本，因为当关联数组`${ARG}`时扩展为空。`ARG`您不能将关联数组传递给子进程，无论如何您都需要对其进行编码。

您需要在父脚本和子脚本之间定义一些参数传递协议。一种常见的方法是以 形式传递参数`key=value`。这假设字符`=`没有出现在键中。

您还需要弄清楚如何在父脚本和子脚本中表示关联数组。它们不需要使用相同的表示。

表示关联数组的常用方法是为每个元素使用单独的变量，并使用通用的命名前缀。这要求密钥名称仅由 ASCII 字母（任何一种情况）、数字和下划线组成。例如，代替`${myarray[key]}`，写`${myarray__key}`。如果密钥是在运行时确定的，则需要先进行一轮扩展：而不是`${myarray[$key]}`，写

```
n=myarray__${key}; echo ${!n} 
```

对于作业，使用`printf -v`. 请注意使用指定值的`%s`格式。`printf`不要写~~`printf -v "myarray__${key}" %s "$value"`~~，因为这会被`$value`视为一种格式并对其执行 printf`%`扩展。

```
printf -v "myarray__${key}" %s "$value" 
```

如果您需要将这样表示的关联数组传递给具有`key=value`参数表示的子进程，您可以使用它`${!myarray__*}`来枚举名称以 . 开头的所有变量`myarray__`。

```
args=()
for k in ${!myarray__*}; do
  n=$k
  args+=("$k=${!n}")
done 
```

在子进程中，将表单的参数转换为`key=value`带有前缀的分隔变量：

```
for x; do
  if [[ $x != *=* ]]; then echo 1>&2 "KEY=VALUE expected, but got $x"; exit 120; fi
  printf -v "myarray__${x%%=*}" %s "${x#*=}"
done 
```

顺便问一下，你确定这是你需要的吗？与其从另一个 bash 脚本调用 bash 脚本，不如在子 shell 中运行子脚本。这样它将继承父级的所有变量。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-23T02:48:43.960

这是关于 bash 3 和更早版本中使用参数扩展的关联数组的另一篇文章/解释：
[https ://stackoverflow.com/a/4444841](https://stackoverflow.com/a/4444841)

Gilles 的方法有一个很好的`if`声明来捕捉分隔符问题，清理奇怪的输入......等等。用那个。

如果您对参数扩展有点熟悉：
[http ://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html](http://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html)

要在您的场景中使用 [如上所述：发送到脚本]：脚本 1： `sending_array.sh`

```
# A pretend Python dictionary with bash 3 
ARRAY=( "cow:moo"
        "dinosaur:roar"
        "bird:chirp"
        "bash:rock" )

bash ./receive_arr.sh "${ARRAY[@]}" 
```

脚本 2：`receive_arr.sh`

```
argAry1=("$@")

function process_arr () {
    declare -a hash=("${!1}")
    for animal in "${hash[@]}"; do
        echo "Key: ${animal%%:*}"
        echo "Value: ${animal#*:}"
    done
}

process_arr argAry1[@]

exit 0 
```

方法 2，采购第二个脚本： 脚本 1： `sending_array.sh`

```
source ./receive_arr.sh
# A pretend Python dictionary with bash 3 
ARRAY=( "cow:moo"
        "dinosaur:roar"
        "bird:chirp"
        "bash:rock" )

process_arr ARRAY[@] 
```

脚本 2：`receive_arr.sh`

```
function process_arr () {
    declare -a hash=("${!1}")
    for animal in "${hash[@]}"; do
        echo "Key: ${animal%%:*}"
        echo "Value: ${animal#*:}"
    done
} 
```

参考：
[在 bash 中将数组作为参数传递](https://stackoverflow.com/questions/1063347/passing-arrays-as-parameters-in-bash)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-03-03T16:06:46.847

如果您不想处理大量变量，或者键只是无效的变量标识符，*并且*您的数组保证*少于 256 项*，则可以滥用函数返回值。该解决方案不需要任何子shell，因为该值很容易作为变量获得，也不需要任何迭代，因此性能会尖叫。它的可读性也很强，几乎就像 Bash 4 版本一样。

这是最基本的版本：

```
hash_index() {
    case $1 in
        'foo') return 0;;
        'bar') return 1;;
        'baz') return 2;;
    esac
}

hash_vals=("foo_val"
           "bar_val"
           "baz_val");

hash_index "foo"
echo ${hash_vals[$?]} 
```

[此答案](https://stackoverflow.com/questions/688849/associative-arrays-in-shell-scripts/22151682#22151682)中的更多详细信息和变体

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-01T03:24:27.717

事实证明这非常容易。我必须将使用一堆关联数组的 ba​​sh 4 脚本转换为 bash 3。这两个辅助函数完成了所有工作：

```
array_exp() {
    exp=${@//[/__}
    eval "${exp//]}"
}

array_clear() {
    unset $(array_exp "echo \${!$1__*}")
} 
```

我很惊讶这确实有效，但这就是 bash 的美妙之处。例如

```
((all[ping_lo] += counts[ping_lo])) 
```

变成

```
array_exp '((all[ping_lo] += counts[ping_lo]))' 
```

或者这个打印声明：

```
printf "%3d" ${counts[ping_lo]} >> $return 
```

变成

```
array_exp 'printf "%3d" ${counts[ping_lo]}' >> $return 
```

唯一改变的语法是清除。这个：

```
counts=() 
```

变成

```
array_clear counts 
```

你已经准备好了。您可以轻松地告诉 array_exp 识别像 "=()" 这样的表达式，并通过将它们重写为 array_clear 表达式来处理它们，但我更喜欢上述两个函数的简单性。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-02T11:45:26.310

您可以将键值对写入文件，然后按键 grep。如果您使用类似的模式

```
key=value 
```

那么你可以`egrep`为此`^key=`非常安全。

要“覆盖”一个值，只需将新值附加到文件末尾并用于`tail -1`获取最后一个结果`egrep`

或者，您可以将此信息放入普通数组中，使用`key=value`作为数组的值，然后对数组进行迭代以查找该值。

# c# - 在 SQL Server 2008 中对不同表进行多次插入

> ID：11776469
> 
> 赞同：0
> 
> 时间：2012-08-02T11:27:39.687
> 
> 标签：c#, .net, sql-server-2008

我正在使用 Visual Studio 2010 中的 C#、.NET 框架 3.5 编写 Web 服务。我的问题可能是基本的，但我没有运气让它工作。

我可以通过 Web 服务成功地将我的数据提交到 SQL db。我想做的是在 SQL db 的一个表中插入记录/行时，我希望能够将数据插入到另一个表中，比如说表 B。表 B 有 5 个列。它将从前一个表（通过 Web 服务插入的表 A）中获取两个列值。表 B 中的一列是主键值，其余两列将具有静态文本值。

这是表A的结构

```
id int (primary key)
CustName varchar(45)
CustAddress varchar(45)
CustContacts varchar(45)
CustQuoteDate varchar(45)
CustLoginId varchar(45) 
```

表B结构：

```
id int (primary key)
OrderId varchar(45) NOT NULL //This will get value from table A's Primary key
OrderReqDate [varchar](45) NOT NULL //This will get value from table A's  CustQuotDate 
OrderStatus [varchar](45) NOT NULL // This will be a static value "Requested"
OrderGroup [varchar](45) NOT NULL // This will be a static value "GGGG" 
```

所以我测试了我的第二次插入查询：

```
INSERT INTO dbo.TableB(OrderId , currstatus, OrderReqDate, OrderGroup) 
SELECT ta.id, 'REQUESTED', ta.CustQuoteDate, 'GGGG' from dbo.TableA ta
where ta.CustLoginId = 'kenw1' 
```

因此，对于 TableA 中每个新添加的 CustLoginId ，第二个表即。TableB 还从 tableA 中获取包含一些字段的行插入。

我的问题是如何/在哪里编辑下面的 Web 服务代码以便能够进行第二次插入？非常感谢您为我提供帮助的时间和精力。TIA。

这是我的网络服务：

```
[WebMethod(Description = "Adds a Customer Request Form data to the database [TableA].")]
public void AddCustRequestRecord(string CustName, string CustAddress, string custContacts, string custQuoteDate, string CustLoginId)
{
    //Static text values for columns in tableB
    string OrderStatus = "REQUESTED";
    string OrderGroup = "GGGG";

    string connectionString =
      ConfigurationManager.ConnectionStrings["myDatabase"].ConnectionString;

    using (SqlConnection conn = new SqlConnection(connectionString))
    {
        DateTime now = DateTime.Now;
        string QuoteDt = now.ToString();

        SqlCommand cmd = new SqlCommand();
        cmd.CommandType = System.Data.CommandType.Text;
        cmd.CommandText = "INSERT INTO TableA "
          + "(CustName, CustAddress, custContacts, CustLoginId, custQuoteDate) "
          + "VALUES (@CustName, @CustAddress, @custContacts, @CustLoginId,'" + Quotedt + "')";

        cmd.Parameters.AddWithValue("CustName", CustName);
        cmd.Parameters.AddWithValue("CustAddress", CustAddress);
        cmd.Parameters.AddWithValue("custContacts", custContacts);
        cmd.Parameters.AddWithValue("CustLoginId", CustLoginId);
        cmd.Parameters.AddWithValue("custQuoteDate", custQuoteDate);

        cmd.Connection = conn;

        try
        {
            conn.Open();
            cmd.ExecuteNonQuery();                
        }
        catch
        {
            // Handle the error using your own preferred error-handling method
        }
        finally
        {
            conn.Close();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:57:51.963

根据你所拥有的，你会想要使用一个连接和第二个命令。为这两个命令保持连接打开，但确保使用事务，以便在出现错误时回滚两个 sql 插入。

在`SqlConnection.BeginTransaction`MSDN 上找到的内容显示了一个很好的示例[http://msdn.microsoft.com/en-us/library/86773566.aspx](http://msdn.microsoft.com/en-us/library/86773566.aspx)，它应该如何编码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T13:08:33.470

老实说，最合适的方法是使用存储过程。第一，最好避免 SQL 注入，第二，它会通过一次连接和一次调用数据库来完成您想要的操作，并且效率更高。让 SQL Server 为您完成工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T14:32:45.723

表 A 中 OP CustLoginID 的每条评论都是唯一的。我建议您将数据设计更改为第三范式。使用自然键，不要重复列。

```
Table A
CustLoginId varchar(45) (primary key)
CustName varchar(45)
CustAddress varchar(45)
CustContacts varchar(45)
CustQuoteDate varchar(45)

Table B 
id int (primary key)
CustLoginId varchar(45) NOT NULL 
OrderReqDate varchar(45) NOT NULL 
OrderStatus varchar(45) NOT NULL 
OrderGroup varchar(45) NOT NULL 
```

现在您可以直接插入表 B，因为您不需要 A 的 ID。您已经有了 CustLoginId。

但我质疑 LogonID 是唯一的说法。这意味着您只有每个 LogonID 的 CustQuoteDate。我怀疑一个客户可以有不止一个报价。假设客户可以有多个报价，这将是设计。为什么日期是varchar？由于数据时间已降至毫秒，因此您不应在 TableB 上出现 PK 违规。如果您想允许 LogonID 的两个引用相同，则只需从表 B 中删除 PK。

```
Table A
CustLoginId varchar(45) (primary key)
CustName varchar(45)
CustAddress varchar(45)
CustContacts varchar(45)

Table B 
CustLoginId varchar(45) (primary key) foreign key relation to Table A
CustQuoteDate datetime (primary key)
OrderReqDate varchar(45)   
OrderStatus varchar(45)  
OrderGroup varchar(45) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T11:37:43.053

There are multiple ways in which you can achieve it

1.You can use second command object(This command will use the same connection)to have another insert.

2.You can call a stored procedure where in you can handle multiple inserts & have access to recently inserted data in table A.

3.You can always use ORMs like Linq to SQL or EF.

4.Use trigger on Table A's Insert.

# wordpress - IE7/8 中的边距和填充问题

> ID：11776471
> 
> 赞同：0
> 
> 时间：2012-08-02T11:27:47.770
> 
> 标签：wordpress, css

我有一个混合使用表单/选择元素的搜索框。

搜索在 firefox、chrome、safari 等中渲染得很好，但是 IE8 忽略了边距和填充规则（两者都尝试过）。

见这里： http: [//property.begbies-traynor.com](http://property.begbies-traynor.com)

有问题的部分位于滑块下方，即搜索区域。

例如，在 chrome 中查看时，“搜索提交”按钮正确地位于主容器内，而 IE 则将其放在侧面。

同样，尽管有足够的边距规则将 Select 元素彼此分开，但 Select 元素仍位于彼此之上。

对此的任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T14:01:20.970

它也不能在任何其他不使用 Webkit 引擎的浏览器中工作（我已经在 Opera 和 Firefox 中测试过），因为您只包括 Webkit 的填充和边距样式：

```
@media screen and (-webkit-min-device-pixel-ratio:0) {
    /* … */
} 
```

如果你想看到你的 CSS 属性在任何浏览器中都能正常工作，你应该为任何浏览器定义它们。

# jquery - jQuery.autocomplete 在 Firefox 中给出 TypeError

> ID：11776473
> 
> 赞同：2
> 
> 时间：2012-08-02T11:27:57.370
> 
> 标签：jquery, firefox, autocomplete

所以我有以下代码：

```
jQuery('#id').live('keyup.autocomplete', function () {
    jQuery(this).autocomplete({
        source: function (request, response) {
            jQuery.getJSON("link?callback=?", {
                format: 'jsonp',
                ...
            }, response);
        },
        minLength: 2,
        selectFirst: true,
        select: function (event, ui) {
                ...
        }
    })
}); 
```

在 Firefox 中，当我尝试使用它给我的输入时：

```
TypeError: jQuery(this).autocomplete is not a function
[Break On This Error]   

select: function( event, ui ) { 
```

此错误仅在 Firefox 中，在所有其他浏览器上都可以正常工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-15T12:21:27.960

从 jQuery 1.7 开始，不推荐使用 .live() 方法。使用 .on() 附加事件处理程序。旧版本 jQuery 的用户应该使用 .delegate() 而不是 .live()。

$(*选择器*).live(*事件*,*数据*,*处理程序*); // jQuery 1.3+

$(document).delegate(*选择器*,*事件*,*数据*,*处理程序*); // jQuery 1.4.3+

$(document).on( *events* , *selector* , *data* , *handler* ); // jQuery 1.7+

请参考下面的链接 [http://api.jquery.com/live/](http://api.jquery.com/live/)

# php - PHP错误的时区邮件

> ID：11776475
> 
> 赞同：4
> 
> 时间：2012-08-02T11:28:03.877
> 
> 标签：php, email, timezone

我的 PHP 邮件发送的日期和时间错误。我已经设置了我的 PHP 时间：

```
date_default_timezone_set('Europe/Brussels'); 
```

当我

```
echo date('r'); //returns correctly: Thu, 02 Aug 2012 13:28:00 
```

我得到了正确的时间。但是，当我发送邮件时，邮件的日期是现在时间 + 1 天 + 1 小时。

我四处搜索，发现了一些旧文档，它是一个 PHP 错误左右，但那些日期是 2001 年和 2005 年，所以我认为我做错了其他事情......我希望发送邮件时没有错误，因为它确实被发送了，但我还是会发布我的代码：

```
<?php
    session_start();
    date_default_timezone_set('Europe/Brussels');
    $receiver = 'test@yourhost.com';
    $subject = 'Test';
    $message = 'This is a test';
    $receiver = $email;
    $headers = "From: me@myhost.com" . "\r\n" . "X-Mailer: PHP/" . phpversion();
    if(mail($receiver,$subject,$message,$headers)){
        //This is done
    }
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:04:48.553

这是 php.ini
中的 php.ini 配置错误，请搜索：

```
; date.timezone 
```

替换为：

```
date.timezone = America/New_York 
```

并重新启动apache

支持的时区列表：
[http ://www.php.net/manual/en/timezones.php](http://www.php.net/manual/en/timezones.php)

**编辑：**在 htaccess 中，时区应该以这种方式使用：

```
php_value date.timezone "Europe/Brussels" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T11:33:09.583

读这个 ：-

[http://php.net/manual/en/function.date-default-timezone-set.php](http://php.net/manual/en/function.date-default-timezone-set.php)

[http://php.net/manual/en/function.date-default-timezone-get.php](http://php.net/manual/en/function.date-default-timezone-get.php)

或者

试试这个

```
date_default_timezone_set( 'America/New_York' ); 
```

//或者

```
ini_set('date.timezone', 'America/Los_Angeles'); 
```

# java - Java使用正则表达式匹配多个标记

> ID：11776476
> 
> 赞同：1
> 
> 时间：2012-08-02T11:28:05.653
> 
> 标签：java, regex, token

我找到了一个正则表达式，它匹配用 {} 包围的标记，但它似乎只找到第一个找到的项目。

如何更改以下代码以便找到所有令牌而不仅仅是 {World}，我需要使用循环吗？

```
// The search string
String str = "Hello {World} this {is} a {Tokens} test";

// The Regular expression (Finds {word} tokens)
Pattern pt = Pattern.compile("\\{([^}]*)\\}");

// Match the string with the pattern
Matcher m = pt.matcher(str);

// If results are found
if (m.find()) {
    System.out.println(m);
    System.out.println(m.groupCount()); // 1
    System.out.println(m.group(0)); // {World}
    System.out.println(m.group(1)); // World (Get without {})
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:35:36.377

该[`groupCount()`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29)方法不返回匹配的数量，它返回此匹配器模式中捕获组的数量。您在模式中定义了一个组，因此此方法返回 1。

您可以通过再次调用找到与您的模式匹配的下一个匹配项`find()`；它将尝试找到与模式匹配的输入序列的下一个子序列。当它返回时`false`，您会知道没有更多匹配项。

因此，您应该像这样遍历您的匹配项：

```
while (m.find()) {
    System.out.println(m.group(0));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:30:59.330

是的，在您的代码中，您只需进行一次匹配，并在该单一匹配中获取组。

如果要获取其他匹配项，则必须在循环中继续匹配，直到`find()`返回 false。

所以基本上你需要的只是替换`if`，`while`你就在那里。

# webgl - 如何让相机围绕一个点旋转？

> ID：11776479
> 
> 赞同：3
> 
> 时间：2012-08-02T11:28:25.140
> 
> 标签：webgl, three.js

如何让相机围绕一个点旋转？我开始这样做，但是当 phi = 90 和 -90 时我遇到了一些问题，并且以这种旋转方式我不会滚动相机

```
 theta = - ( ( event.clientX - lastLeft ) * 360 /window.innerWidth ) + onMouseDownTheta;
    phi = ( ( event.clientY - lastTop ) * 360 /window.innerHeight ) + onMouseDownPhi;
    var cosPhi = Math.cos( phi * Math.PI / 180 );
    var sinPhi = Math.sin( phi * Math.PI / 180 );
    var sinTheta = Math.sin( theta * Math.PI / 180 );
    var cosTheta = Math.cos( theta * Math.PI / 180 );

   camera.position.x = - radious * sinTheta * cosPhi;
   camera.position.y = radious * sinPhi;
   camera.position.z = radious * cosTheta * cosPhi;

   camera.lookAt(new THREE.Vector3(0,0,0))

  if(phi > 90){
     u = u*(-1);                
     camera.up = new THREE.Vector3(0, u, 0);
  }
  camera.updateMatrix(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T16:39:29.023

常见类型的相机控件已内置在 three.js 中，并且可以轻松实现。

许多示例已经使用了这些控制接口，您可以自己利用它们，如下所示：

```
var scene, renderer, camera, controls, clock;

function init() {
    scene = new THREE.Scene();
    renderer = new THREE.WebGLRenderer();
    renderer.setSize(WIDTH, HEIGHT);
    document.body.appendChild(renderer.domElement);

    camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT_RATIO, NEAR, FAR);
    controls = new THREE.TrackballControls(camera);

    clock = new THREE.Clock();

    // ... (Scene setup)

    requestAnimationFrame(update);
}

function update() {
    requestAnimationFrame(update);

    // Fetch the delta from THREE.js' clock.
    var delta = clock.getDelta();
    // Pass it to the camera controller.
    controls.update(delta);

    renderer.render();
}

// Load up the scene when the page finishes loading.
// This can be done a few different ways, this one is
// useful for script tags embedded in the <head> of the page.
window.addEventListener('load', init, false); 
```

或者，如果您想编写自己的控件，可以查看控件的源代码，以了解内置控制器如何操作相机： [https ://github.com/mrdoob/three.js/blob/master /examples/js/controls/TrackballControls.js](https://github.com/mrdoob/three.js/blob/master/examples/js/controls/TrackballControls.js)

# ruby-on-rails - 面向文档或图形数据库

> ID：11776481
> 
> 赞同：2
> 
> 时间：2012-08-02T11:28:28.157
> 
> 标签：ruby-on-rails, nosql, graph-databases, document-oriented-db

这是一个 RoR 项目。

我们要存储用户活动，例如上传照片、投票给某人、关注某人等。列出活动时，我们还需要列出您朋友的活动。那么，在这种情况下使用什么更好：面向文档的数据库（couchdb、mongo db）、图形数据库（neo4js），或者其他方法？

感谢您提前帮助伙计们:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T21:44:06.040

根据您的应用程序的规模和活动量，我建议将 Couchbase（而不是 CouchDB）用于可扩展且快速的实际活动数据的组合，以及用于图形发现的 Neo4J（同时使用两个数据库） . 我在我的社交和实时应用程序中非常有效地使用了这种组合。

如果您想从我这里获得更多信息，请随时直接与我联系，我可以提供架构决策或实施帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T15:31:30.930

是的，我认为 Neo4j 是一个不错的选择，Rails 3 支持非常好，请参阅[https://github.com/andreasronge/neo4j](https://github.com/andreasronge/neo4j)，甚至可以在[http://docs.neo4j.org/chunked中查看带有密码的社交示例/snapshot/data-modeling-examples.html](http://docs.neo4j.org/chunked/snapshot/data-modeling-examples.html)，对于活动流，有各种很酷的方法，如 Graphity，请参阅[http://www.rene-pickhardt.de/graphity-an-efficient-graph-model-for-retrieving -the-top-k-news-feeds-for-users-in-social-networks/](http://www.rene-pickhardt.de/graphity-an-efficient-graph-model-for-retrieving-the-top-k-news-feeds-for-users-in-social-networks/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-05T05:56:18.157

看看无限图。与 neo4j 不同，它具有可扩展性。我认为他们可以免费下载 100 万个节点。

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-08-02T11:33:27.080

考虑使用 Sqlite。它是一个平面文件模拟数据库，可以用作嵌入式数据库。

# java - 线程诞生并在java中启动

> ID：11776495
> 
> 赞同：0
> 
> 时间：2012-08-02T11:29:26.760
> 
> 标签：java, multithreading

```
class cc extends Thread {
    cc(String s)  {
        super(s);
    }
}

class mainn {
    public static void main (String args[]) {
        cc t1 = new cc("first");   
        t1.start();                
    }
} 
```

问题：线程是否出生

*   此时——>`cc t1 = new cc("first");`
*   或者它是在这一点上诞生和开始的——> `t1.start();`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T11:31:07.783

“Born”不是我以前在 Java 中看到的与线程相关的正式术语。

Thread 对象在您调用时被**构造/实例化/创建**`new cc("first")`。

当您**调用**`t1.start()`. 在此之前它仍然存在，但没有运行，并且不会被操作系统调度。

（PS Java 命名约定是类名以大写字母开头 - 阅读违反这一点的代码令人惊讶地令人困惑。 因为某种*错误*`new cc(...)`而对我跳出来。）

 ** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:33:31.903

`Thread is born at this point ?--> cc t1 = new cc("first");`

此时线程处于`New`非`alive`

`t1.start();`

在这里，您的线程还活着，但可能处于`Running/Runnable`状态。

请参阅下面的 Java Doc 了解所有`States`.

[http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.State.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.State.html)

**例子**

```
public static void main(String[] args) {
    Thread t1=new Thread(new Runnable() {
        @Override
        public void run() {
            while(true){
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                System.out.println("running");
            }
        }
    });
    System.out.println(t1.isAlive());
    t1.start();
    System.out.println(t1.isAlive());
} 
```

哪个打印：

```
false
true
running 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:36:03.120

如果你的词“天生”创建了新的线程对象，那么就是当你调用

> 新抄送（“第一”）

但是只有您使用启动线程时才会分叉一个线程进程

> t1.start()

它是在实际准备好从调用线程的执行路径中运行的时候。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T12:18:28.930

**-**在这一行`cc t1 = new cc("first");`线程**对象将出现。**

**-**在这一行 t1.start() `toe`（**执行线程**）将被**创建并分配一个** `Runtime Stack.`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-02T11:30:40.670

写得不好的问题，但答案是它是在`t1.start();`阶段出生的。*

# moses - 摩西服务器安装

> ID：11776496
> 
> 赞同：2
> 
> 时间：2012-08-02T11:29:32.520
> 
> 标签：moses

我已经成功安装了 moses，我还通过 sudo apt-get install libxmlrpc-core-c3 安装了 xmlrpc-c 然后我通过 ./bjam --with-xmlrpc-c=[/path/to/xmlrpc- 构建了 moses c-配置]。在执行这些操作时，我遵循了[http://www.statmt.org/moses/?n=Development.GetStarted](http://www.statmt.org/moses/?n=Development.GetStarted)中的说明。到那时，我想一切都是正确的。从现在开始，我需要连接到安装 moses 的机器，但是我无法启动 mosesserver。我应该如何处理 mosesdecoder/contrib/server/mosesserver.cpp 中的文件。我认为在构建之后应该在那里创建一个可执行文件，还是我要手动编译它？顺便说一句，这是远程版本：x86_64 x86_64 x86_64 GNU/Linux。

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T12:27:55.643

编译成功后，“mosesserver”二进制可执行文件位于 mosesdecoder/bin 目录中。

它可以以与 moses 类似的方式启动，即 /path/to/mosesserver -f /path/to/moses.ini

默认情况下，它将在端口 8080 上运行 Web 服务器，期望 XML-RPC v2 协议进行通信。

对于构建，请确保在可以找到它们的位置（即 /lib 或 /usr/lib 或 lib64，取决于系统）安装了 Boost 库（+ devel 包），或者如果编译它们，则将路径添加到 LD_LIBRARY_PATH手动。

# java - 如何在不获取完整实体的情况下获取依赖 Hibernate 实体的外键列值？

> ID：11776502
> 
> 赞同：9
> 
> 时间：2012-08-02T11:29:58.550
> 
> 标签：java, hibernate

我正在努力解决一个似乎太容易的问题：

设置是 Hibernate 3 中具有多对一关系的两个实体：

```
@Entity
class M {
  private N n;
  @ManyToOne(fetch = FetchType.LAZY)
  public N getN() { return n; }
  public void setN(N n) { this.n = n; }
}

@Entity
class N {
  private List<M> ms = new ArrayList<M>();
  @OneToMany(mappedBy="n")
  public List<M> getMs() { return ms; }
  public void setMs(List<M> ms) { this.ms = ms; }
} 
```

很容易。在我的应用程序中，我有一个有或没有的`M`s列表。`N`此列表是 a 的输入，`h:dataTable`它根据 FK 是否为空来显示不同的列内容。但是当我测试`m.getN() != null`这会导致休眠加载`N`。我怎样才能避免这种情况？

**编辑**：这实际上是我的一个错误，正如 JBNizet 在评论中指出的那样。为了至少使这对某人有用并保持上面的布局，我将问题改写为“如何在不获取完整实体的情况下获取依赖 Hibernate 实体的外键列值？” 正如 Aaron Digulla 所建议的那样。

**编辑 2**：原来新问题是这个问题的重复：[当我只访问外键 id 时，如何防止 Hibernate 获取加入的实体？](https://stackoverflow.com/questions/5351713/how-can-i-prevent-hibernate-fetching-joined-entities-when-i-access-only-the-fore?rq=1)- 所以，近距离投票？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:39:18.520

Create a projection mapping which contains M or several fields of M and e.g. id of N

Your query might liook sopething like

`select new com.my.ProjectionObject(m, m.n.id) from M m where ...`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-02T11:41:19.323

你如何期望 Hibernate 告诉你一些它不知道的事情？在不加载实体的情况下，Hibernate 无法知道它是否（仍然）存在。

如果您跳出 Hibernate “实体映射器”框，则可以直接查询数据库，例如，`N`计算`M`.

# php - 我应该如何整理网站上的版本控制和离线测试

> ID：11776505
> 
> 赞同：3
> 
> 时间：2012-08-02T11:30:19.367
> 
> 标签：php, git, apache, svn

我是一个狂热的网络开发爱好者和自由职业者，到目前为止，我只是在现场编辑网站（在制作网站时发布维护消息），现在我所有的项目都非常小。

例如，我创建一个网站，向他们展示，拿钱然后走，我从来没有在网站上线后工作过。

现在我的新项目非常大，我知道在它上线后我将不得不对其进行编辑，并且可能会有一小群开发人员（atm just me）

那么人们如何专业地处理这个问题呢？我知道我需要一个前缀放大器应用程序，因为我运行一个 apache 服务器，我也听说人们使用 github 进行版本控制，但我不太确定，因为它显然不是 svn？

谢谢

附言。我有一台 Windows 7 电脑，所以请不要使用 mac 应用程序

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T11:37:52.900

> 到目前为止，我只是在现场编辑网站

在我的书中很糟糕；）

> 那么人们如何专业地处理这个问题呢？

首先，您需要设置一个开发服务器（最好让它尽可能接近预期的实时环境）。在此服务器上，您将安装所需的所有软件。

您可能还想设置一个登台服务器。

> 我知道我需要一个前缀放大器应用程序

我希望您不是在谈论那些一键式安装程序。如果你想专业地做，你应该自己安装所有东西，你可以按照你需要的方式设置它。

> 我还听说人们使用 github 进行版本控制，但我不太确定，因为它显然不是 svn？

GitHub 只是一个网站。您正在寻找的是用于版本控制的 git 或 svn。您还可以在本地设置 git 或 svn 服务器，而不是使用 GitHub 等服务。基本上什么是版本控制是当有人对代码进行更改时，他/她需要提交更改。这样就很容易跟踪代码库中的更改（例如更改了什么、何时更改以及由谁更改）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:38:10.157

*   用于开发的本地 XAMP 堆栈（LAMP 或 WAMP）
*   用于测试和暂存的 Intranet 系统
*   当然是直播系统
*   版本控制，我更喜欢`git`. 当然，您也可以使用 SVN，但是……可以说：它是 SVN。
*   在本地进行更改，在本地测试此更改
*   一切正常：将其推送到“主”vcs-repository
*   新版本准备好了（或者它是“周日晚上发布时间”）？在测试/舞台上推送所有这些东西
*   那里也一切正常：将其推送到实时系统中

当然，这非常缩短，但它应该给你一个想法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:37:53.027

管理软件版本的工具并不重要。使用 Git，或 SVN 或任何你最喜欢的。但是*使用*_one_。

同样重要的是，您在两个站点上运行“页面”，一个测试和一个实时系统，严格分开。两个系统的布局必须非常接近，所有更改必须首先在测试系统中完成，经过验证，然后在实时系统中以相同的方式完成。不要只允许对实时系统进行更改（“因为这只是一个小改动”）。没有例外。

然后考虑部署：如何将更改的文件传输到目标系统？为此，您需要例程，一旦开始就运行并且不要忘记中间的步骤。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T11:58:48.683

首先，您需要某种版本控制系统：SVN 或 Git。GitHub 只是一个提供托管 Git 存储库的在线服务。其次，您需要一个开发服务器。

如果只是你在做开发，你可以在你的本地台式电脑上托管这两个，但由于其他开发人员将加入，你需要一个远程服务器。如果您不想在家外运行服务器，最好的选择是 VPS（虚拟专用服务器），您可以在其上安装 Git、Apache 等以及您需要的任何其他东西。

至于开发软件，请自行选择——有很多选择。一个常见的选择是 NetBeans IDE 和 TortoiseGit 组合。您使用 NetBeans 开发您的代码，自动上传到您的开发服务器，然后您使用 TortoiseGit 提交和同步更改。

只有当您准备好上线时，您才会将代码从开发服务器复制到生产服务器。

# java - 如何在 jprogressbar 上添加文本？

> ID：11776506
> 
> 赞同：20
> 
> 时间：2012-08-02T11:30:28.803
> 
> 标签：java, swing, desktop, jtextfield, jprogressbar

我正在使用 jprogressbar 来指示可用性状态。 **我想在进度条内显示 40%[assumption] 的文本**。怎么做？根据可用性值更改了文本

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-08-02T11:36:08.813

您可以使用：

初始化：

```
progressBar.setStringPainted(true); 
```

更新：

```
progressBar.setValue(newValue); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:55:17.070

*   用于`setStringPainted(true)`显示已完成工作的**百分比**。

*   使用`setValue()`这将有助于设置**增量值**并在完成`setString()`后显示**结束消息**......

**这是我的代码库中的一个示例：**

```
final JProgressBar bar = new JProgressBar(0 , 100);  // 0 - min , 100 - max
bar.setStringPainted(true);
panel.add(bar);                   // panel is a JPanel's Obj reference variable

JButton butt = new JButton("start");
butt.addActionListener(){

    public void actionPerformed(){
        new Thread(new Runnable(){
            public void run(){
                int x = 0;
                while(x<=100) {
                    x++;
                    bar.setValue(x);        // Setting incremental values
                    if (x ==  100 ){
                        bar.setString("Its Done");   // End message
                        try{
                            Thread.sleep(200);
                        }catch(Exception ex){ }
                    }
                }).start();
            }
        }); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-02T11:52:01.533

*   > 我正在使用 jprogressbar 来指示可用性状态。

    请阅读[有关 JProgressBar 的教程](http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html)

*   > 我想在进度条内显示 40%[假设] 的文本。

    在 JProgressBar 教程中[使用确定进度条](http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html)

*   > 怎么做？根据可用性值更改了文本

    [SwingWorker 教程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)中的更多内容

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-02T11:34:18.720

这将显示栏内的进度

```
 progressBar.setStringPainted(true); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-23T14:05:21.880

这显示了进度条内的进度百分比

```
progressBar.setStringPainted(true); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-02T11:52:39.760

我不清楚你`[assumption]`是否是你想要显示的字符串的一部分。如果是这样，完整的解决方案将类似于：

```
private static final String PROGRESS_MASK = "%d%% [assumption]";

public void someMethod() {
  ...

  progressBar.addChangeListener(new ChangeListener() {
    @Override
    void stateChanged(ChangeEvent e) {
      progressBar.setString(String.format(PROGRESS_MASK,
        progressBar.getValue()));
    }
  }

  progressBar.setStringPainted(true);
} 
```

...因为您将无法依赖仅显示百分比的默认字符串。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-02T11:54:45.900

您应该在这里注意两件事。那些是，

1）您必须使用 setStringPainted 方法设置 JProgressBar 的paintString 变量。你可以这样做

> jprogressBar.setStringPainted(true)

你必须这样做，因为，

> isStringPainted()

如果进度条必须显示其上的值或进度百分比，则方法应返回 true。

2）现在使用您的自定义值进行自定义，使用 jprogressBar 实例设置您的自定义

> jprogressBar.setString(customString)

那么它应该可以正常工作。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-02T11:54:51.017

这是教程链接，显示如何根据进度条的状态设置值（即 10% 或 40%...）[http://docs.oracle.com/javase/tutorial/uiswing/components/progress .html](http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html)

# elasticsearch - elasticsearch 可下载手册

> ID：11776510
> 
> 赞同：6
> 
> 时间：2012-08-02T11:30:47.853
> 
> 标签：elasticsearch

有谁知道我在哪里可以找到弹性搜索的可下载手册（任何格式）？[http://www.elasticsearch.org/guide/](http://www.elasticsearch.org/guide/)是可以的，但是有时候网站不可达，搜索内容也不实用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T11:47:58.103

不是我知道的。如果您遇到无法访问的问题，您可以在本地分叉并运行该站点，顺便说一句，这对我来说从未发生过。它在 github 上可用：[https ://github.com/elastic/elasticsearch/tree/master/docs](https://github.com/elastic/elasticsearch/tree/master/docs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-03-09T08:26:29.270

克隆 repo 是没用的。您无法构建他们的文档，因为 build --all 命令的 asciidoc 文件受访问保护。

唯一的解决方案是抓取他们的网站，例如使用 wget：

```
wget -r -l1 --page-requisites -N --convert-links -E robots=off "https://www.elastic.co/guide/en/elasticsearch/reference/6.5/index.html" 
```

index.html 包含 doc 子目录的所有链接，因此您可以指定`-l1`哪些将使 wget 仅抓取一级深度

请注意，您不能在已抓取的文档上使用搜索功能，因为后台没有运行服务器

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-10-31T21:59:43.043

Semi related and perhaps helpful - ES docs are available as a [DocSet](https://kapeli.com/dash#docsets) for the [Dash](https://kapeli.com/dash) MacOS and iOS app for offline docs. May or may not be useful but I find it great for travel. It cost $ but can be used for free as well.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2018-03-02T04:42:38.803

这是他们产品的所有文档的 GitHub 存储库： [https ://github.com/elastic/docs](https://github.com/elastic/docs)

请注意回购中的以下免责声明：

```
Conditions of use
This documentation build process is provided to the public purely for the
purpose of testing documentation changes before submitting pull requests to
the appropriate Elasticsearch repository.

The documents produced by this build process may be published only on 
http://www.elastic.co. They may not be published in any other form or on
any other website without explicit permission. 
```

# c#-4.0 - ASPxHtmlEditor 禁用 HTML 输入

> ID：11776521
> 
> 赞同：0
> 
> 时间：2012-08-02T11:31:43.650
> 
> 标签：c#-4.0, devexpress

我希望`ASPxHtmlEditor`将文本显示为纯文本（这是出于某些要求，我必须禁用 HTML 编辑器并将文本显示为仅对少数用户的普通文本）。它可以实现吗？我已将`HtmlEditorToolbar`可见性设置为 false。但是，如果我复制并粘贴彩色文本，编辑器仍将显示彩色文本。

如果这无法实现，唯一的选择是为少数用户显示正常的 aspx 文本区域，`ASPxHtmlEditor`为其他用户显示 DevExpress 编辑器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T19:13:03.387

我相信可以将 ASPxHtmlEditor 用于富文本，将 ASPxMemo/textarea 用于纯文本。执行必要的检查并决定应该显示哪个控件。通过将其 Visible 属性设置为 false 来隐藏另一个控件。然后，将 ASPxHtmlEditor.Html 或 ASPxMemo.Value 属性与相应的字段绑定，并将其显示给最终用户。

PS 你为什么不就你的询问联系 DevExpress 人员？

# python - Django - 除非刷新页面，否则会话变量不会更改

> ID：11776523
> 
> 赞同：1
> 
> 时间：2012-08-02T11:32:05.847
> 
> 标签：python, django, session, session-variables

我正在使用会话变量来检查用户是作为**承包商**还是**雇主登录**

当承包商：

```
request.session['LoggedAsContractor'] = True 
```

当雇主：

```
request.session['LoggedAsContractor'] = False 
```

然后我实现了两个切换方法，toContractor 和 toEmployer，它们只是改变了会话变量。

从 HTML 视图中，当我单击切换按钮时，变量没有改变，其他也没有改变，但是当我刷新页面时，变量和其他一切都改变了。

**在本地主机上运行项目时不会发生此错误，仅在部署项目时发生（Gondor）。**

这是我的会话类型：

```
INSTALLED_APPS = (
'django.contrib.sessions',
)

MIDDLEWARE_CLASSES = (
'django.contrib.sessions.middleware.SessionMiddleware',
) 
```

**更新**

这是由按钮**Switch调用的****toContractor方法**

 **```
def switchToContractor(request, user_name):
    request.session['LoggedAsContractor'] = True
    if "employer" in request.GET['next']:
        if str(request.user) == user_name:
            return redirect('/contractor/' + user_name + '/')
        else:
            return redirect(request.GET['next'])
    else:
        return redirect(request.GET['next']) 
```

**request.session['LoggedAsContractor'] = True**和**request.session['LoggedAsContractor'] = False**之间的区别在于HTML 中的视图。

**HTML 代码：**

```
{% if request.session.LoggedAsContractor %}
    <!-- Show some buttons -->
{% else %}
    <!-- Show other buttons -->
{% endif %} 
```

**更新 2**

这是包含 Switch 按钮的 HTML 代码：

```
{% if request.session.LoggedAsContractor %}
    <a href="/contractor/{{request.user}}/switch/?next={{request.path}}">Switch to Employer View</a>
{% else %}
    <a href="/employer/{{request.user}}/switch/?next={{request.path}}">Switch to Contractor View</a>
{% endif %} 
```

url **/contractor/username/switch/**重定向到方法**switchToEmployer**。

url **/employer/username/switch/**重定向到方法**switchToContractor**。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-04T21:57:18.220

而不是重定向，您应该使用更新的会话呈现响应。例如：

```
def my_example(request):    
    request.session['key'] = True
    response = render_to_response("example.html", context_instance = RequestContext( request ), mimetype = "text/html" )
    return response 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:40:06.630

这不是错误，任何请求都需要响应才能向用户显示某些内容。你能添加你的按钮功能吗？**

# jsp - jsp中如何将一个字符串对象的字符串值赋给另一个字符串对象？

> ID：11776524
> 
> 赞同：0
> 
> 时间：2012-08-02T11:32:12.140
> 
> 标签：jsp

jsp中如何将一个`String`对象的字符串值赋给另一个对象？`String`

例如：

```
String a = rsobj.getString(1); // rsobj is ResultSet obj
String b = null; 
```

那么我该如何分配`a`to的值`b`。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:40:19.283

你可以试试这个：

```
String a=rsobj.getString(1); // rsobj is ResultSet obj
String b=a; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:41:18.750

什么让你困惑？不要把问题复杂化，这和你在`.java`课堂上做的一样。

```
b = a; 
```

# css - HTML 5占位符：当用户选择字段时使文本消失

> ID：11776525
> 
> 赞同：-2
> 
> 时间：2012-08-02T11:32:16.533
> 
> 标签：css, forms, html, input, placeholder

这可以在没有 javascript/jQuery 的情况下实现吗？

我目前有一个登录模板，其输入字段为：

```
 <input id="username" type="text" name"username" placeholder="username" autofocus> 
```

我想知道是否有一种方法，当用户在字段上单击鼠标以键入占位符文本时，如果可能的话，不使用 javascript 就会消失？在此之前，我只是使用值并将变量回显到字段中，但目前正在尝试使用 HTML 5 和 CSS3。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:35:16.313

新的浏览器有一种本地方式来做到这一点。如果支持，您无需执行任何操作。

对于较旧的浏览器，您确实需要使用 javascript。

编辑：在旧浏览器上使用新功能时，它称为 Pollyfills。这是一个很好的列表，其中包含许多可以与[Modernizer](http://modernizr.com/)一起使用[的 pollyfills](https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills) ，它们反过来可以检测到这个特性。

# ios - 无法从地图中删除叠加视图

> ID：11776528
> 
> 赞同：1
> 
> 时间：2012-08-02T11:32:31.463
> 
> 标签：ios, overlay, mkoverlay

我创建了一些叠加层：

```
 //additionally draw an overlay
    MKCircle *circle = [MKCircle circleWithCenterCoordinate:choosenCountry.coordinate radius:choosenCountry.placeMark.region.radius/4];
    circle.title = @"test";
    [_mapView addOverlay:circle]; 
```

和：

```
 -(MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id)overlay 
{MKCircleView* circleView = [[MKCircleView alloc] initWithOverlay:overlay];
circleView.fillColor = [[UIColor cyanColor] colorWithAlphaComponent:0.2];
circleView.strokeColor = [[UIColor blueColor] colorWithAlphaComponent:0.7];
circleView.lineWidth = 2;

return circleView;} 
```

但是现在，不知何故我需要删除它们，但我不能：

```
- (void)clearOverlays{
NSArray *overlayCountries = [self.mapView overlays];
[self.mapView removeOverlays:overlayCountries];  
} 
```

你知道，这是怎么做到的吗？谢谢！

# java - JPA query returns proxied entities

> ID：11776534
> 
> 赞同：1
> 
> 时间：2012-08-02T11:32:50.893
> 
> 标签：java, hibernate, jakarta-ee, jpa-2.0, hibernate-4.x

Suppose I have 2 entities, EntityA and EntityB.
EntityB is `@OneToOne` related to EntityA:

```
@Entity
public class EntityB {
    @OneToOne(fetch = FetchType.LAZY)
    private EntityA entA;

    // other stuff
} 
```

When I load EntityB from DB, the corresponding EntityA (say **entA1**) is lazy loaded.
After that I load EntityA list by

```
 List result = entityManager.createQuery("select A from EntityA A")
                  .setFirstResult(start).setMaxResults(end).getResultList(); 
```

The result list contains both previously lazy loaded and proxied EntityA and normal materialized EntityAs such like:

```
EntityA
EntityA_$$_javassist_nnn   <--- entA1 which is loaded lazily earlier
EntityA
... 
```

So my questions:
1) Is this an expected behavior? Where can I find apidoc info about that?
2) Can I entirely load proxied entities only or entirely load eagerly all of them? Not mixed.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:46:44.213

Yes, it's expected behavior. Hibernate does everything it can to have one and only one instance of an entity in the session. Since it already has a proxy to EntityA, stored in the session when you loaded EntityB, a subsequent query returning the same EntityA instance effectively return the same instance: the proxy already stored in the session.

You shouldn't care much about the fact that the list contains proxies. Calling any method on the proxy (except `getClass()`) will return the same thing as calling it on the unproxied entity.

AFAIK, that's what allows having collections of entities behaving correctly with attached objects, although the objects don't even have an `equals()` method.

# objective-c - 对 NSArray 进行反向排序

> ID：11776540
> 
> 赞同：0
> 
> 时间：2012-08-02T11:33:10.700
> 
> 标签：objective-c, sorting, nsarray

> **可能重复：**
> [如何在 Objective-C 中反转 NSArray？](https://stackoverflow.com/questions/586370/how-can-i-reverse-a-nsarray-in-objective-c)

`NSArray`我想按索引降序排序。

我可以对数组值进行排序我如何按索引排序...

```
NSArray* arr = [[NSArray alloc] initWithObjects:@"First",@"Second",@"Third",@"Fifth",@"Last",nil]; 
```

结果应该是这样的

*   最后的
*   第五
*   第三
*   第二
*   第一的

iOS中是否有任何直接方法可用？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T12:40:26.777

如果您只想反转数组，有一种优雅的方法可以做到这一点。

我在danielpunkass的[这个答案中找到了解决方案。](https://stackoverflow.com/a/586529/1044642)

```
NSArray *reversedArray = [[originalArray reverseObjectEnumerator] allObjects]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:19:01.900

```
NSMutableArray *array = ...;
[array sortUsingComparator: ^(id obj1, id obj2) {
    _NSComparisonResult result = [obj1 compare:obj2]; // [NSString compare:]
    if (result == NSOrderedAscending)
        return NSOrderedDescending;
    if (result == NSOrderedDescending)
        return NSOrderedAscending;
    return NSOrderedSame;
}]; 
```

* * *

或者

```
NSMutableArray *array = ...;
[array sortUsingComparator: ^(id obj1, id obj2) {
    _NSComparisonResult result = [obj1 compare:obj2]; // [NSString compare:]
    return -result; // minus result
}]; 
```

* * *

[请参阅有关 NSArray -sortUsingComparator 的苹果文档：](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html)

NSObjCRuntime.h

枚举_NSComparisonResult {NSOrderedAscending = -1，NSOrderedSame，NSOrderedDescending}；

# android - 从我自己的服务器分发 android 应用程序

> ID：11776552
> 
> 赞同：4
> 
> 时间：2012-08-02T11:33:44.153
> 
> 标签：android, distribution

我开发了一个安卓应用程序。我只想从我自己的服务器上分发它。我不想把它放在谷歌播放。可能吗？如果是，我该怎么办？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-05-29T14:06:37.733

## 脚步：

*   在 Web 服务器上为*apk*配置*MIME-TYPE*为*application/vnd.android.package-archive*

***   为此，您必须首先准备以正常方式*发布的应用程序。*

    *   *在您的网站上托管可发布的 APK 文件*并向用户提供下载链接。** 

 **## 这个怎么运作：

当用户从他们的安卓设备浏览到下载链接时，文件被下载，*安卓系统自动开始*在设备上安装它。

## 缺点：

*   但是，只有当用户将其*设置*配置为*允许*安装来自*未知来源的应用程序时，**安装*过程才会*自动*启动。

     ***![设置](../Images/6dc779c6e0694e862534bedb98562da9.png)*** 
****   如果您想通过您的应用程序*获利*，您将必须自己处理和跟踪所有金融交易，并且您将无法使用 Google Play 的*[应用内结算服务](http://developer.android.com/google/play/billing/index.html)*来销售*应用内产品*。

    ![应用内计费服务](../Images/f3c8466dc2ed6607171dcb8c3a4b02d8.png)

    *   您将无法使用*[许可服务](http://developer.android.com/google/play/licensing/index.html)*来帮助防止未经授权安装和使用您的应用程序。

    ![谷歌许可服务](../Images/95adab12e32ff7d381ef11066e7304b1.png)*** 

 **## 笔记：

说了它的缺点，由你决定坚持哪一个

[参考](http://developer.android.com/tools/publishing/publishing_overview.html#unknown-sources)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:35:20.623

您只需将 .apk 文件上传到您自己的服务器，然后将链接指向它，如果用户在他们的设备中启用了“**从其他来源安装”选项，每个人都可以下载并安装它。******

# junit - 有条件地跳过单元测试

> ID：11776556
> 
> 赞同：1
> 
> 时间：2012-08-02T11:33:52.447
> 
> 标签：junit, conditional, suppress

我目前正在上课，处理网络问题。使用 JUnit 3.8.1 并拥有一个硬件设备，这并不总是可以测试，我想有条件地抑制单个测试。有没有办法通过像 @if(!gatewayAvailable) -> 测试被抑制这样的简单注释来实现这一点？

感谢任何指针，马库斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-04T11:03:41.257

JUnit 3.8.1 中没有这样的功能。您必须使用 JUnit4 及其[Assume 类](http://kentbeck.github.com/junit/javadoc/latest/org/junit/Assume.html)。

# jquery - 结合具有相同代码的jquery函数

> ID：11776559
> 
> 赞同：1
> 
> 时间：2012-08-02T11:33:55.200
> 
> 标签：jquery

我的脚本中有以下功能，它们做同样的事情。我该如何组合它们？

```
$('.AddOne').live('click', function(){
    $('.saveGroup').show();
});
$('#PhoneNumbersSelectms2side__sx  option').dblclick(function(){
    $('.saveGroup').show();
});
$('.AddAll').live('click', function(){
    $('.saveGroup').show();
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:35:37.470

`click`和event 方法都将`dblclick`回调函数作为它们的第一个参数。在 javascript 中，函数是变量。您创建一个函数，并将其传递给回调

```
var showFn = function(){
    $('.saveGroup').show();
};

$('.AddOne').live('click', showFn);
$('#PhoneNumbersSelectms2side__sx  option').dblclick(showFn);
$('.AddAll').live('click', showFn); 
```

您可以通过像这样组合实时选择器来进一步简化此代码：

```
$('.AddOne, .AddAll').live('click', showFn); 
```

最后，如果您使用的是 jquery 1.7.x，您应该使用新的[`on`](http://api.jquery.com/on/)事件方法而不是[`live`](http://api.jquery.com/live/). 您的新代码如下所示：

```
var showFn = function(){
    $('.saveGroup').show();
};
var $doc = $(document);
$doc.on('click', '.AddOne, .AddAll', showFn);
$doc.on('dblclick', '#PhoneNumbersSelectms2side__sx  option', showFn); 
```

# sql - COBOL DB2 中的可选字段

> ID：11776561
> 
> 赞同：0
> 
> 时间：2012-08-02T11:34:05.803
> 
> 标签：sql, db2, cobol, sql-like

我正在尝试在接受许多可选字段的 COBOL DB2 中编写 SQL 语句。

到目前为止，我已经设法通过使用以下代码使 VALID-FROM-DATE 和 VALID-TO-DATE 和 SYSTEM-ID 成为可选。

```
MOVE A-CURRENT-TIMESTAMP(1:10)
  TO A-VALID-FROM-DATE        
MOVE A-CURRENT-TIMESTAMP(1:10)
  TO A-VALID-TO-DATE          

MOVE 0               
  TO A-SYSTEM-ID-FROM
MOVE 999             
  TO A-SYSTEM-ID-TO 
```

但现在我想将第四个字段设为可选，并将其设为 char 字段。

我尝试了以下方法 - 它在我的 SQL-Wizard 中有效，但在我运行程序时无效：

```
MOVE '%'    
  TO A-NAME 
```

在以下 DB2 SQL 语句中：

```
 SELECT                                      
       COALESCE(NAME,' ')                   
      ,SYSTEM_ID                             
      ,COALESCE(VALUE_DATE,'0001-01-01')     
 FROM TABLE                                
WHERE                                        
      NAME          LIKE :A-NAME            
  AND SYSTEM_ID  BETWEEN :A-SYSTEM-ID-FROM   
                     AND :A-SYSTEM-ID-TO     
  AND VALUE_DATE BETWEEN :A-VALID-FROM-DATE  
                     AND :A-VALID-TO-DATE    
 ORDER BY VALUE_DATE 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:35:51.473

解决方案相当简单。代替

```
MOVE '%'    
  TO A-NAME 
```

我把它改成

```
MOVE '%%%%%%%'    
  TO A-NAME 
```

因为 A-NAME 是一个 X(7) 字段。

# google-app-engine - 为什么在 Firefox 中从 Google AppEngine Blobstore 下载时文件名不完整？

> ID：11776563
> 
> 赞同：1
> 
> 时间：2012-08-02T11:34:17.360
> 
> 标签：google-app-engine, firefox, blobstore

我的 GWT 和 App Engine 应用程序上有一个页面，该页面基本上是用户上传的文件表。

这是 BlobServiceImpl 的 doGet 函数的最后一部分，它在用户请求时为 blob 提供服务：

```
 // got the entity already

    filename = (String) entity.getProperty("filename");

    resp.addHeader("Content-Disposition", "filename=" + filename);

    blobstoreService.serve(blobKey, resp); 
```

上面的代码从实体元数据中获取文件名，在 HttpServletResponse 中设置文件名，然后提供实际的 blob。

我遇到的问题是，对于文件名中有空格的文件，Firefox 仅将文件名设置为第一个单词 - 空格后的所有内容都被排除在外。这很烦人，因为名为“My Amazing File.xls”的文件将保存为“My”。

也许与字符编码有关？奇怪的是它在其他浏览器中运行良好。

感谢您的帮助:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T09:53:01.743

正如 Amy 所说，这是一个 Firefox 问题，与 App Engine 无关。

改变这个：

```
resp.addHeader("Content-Disposition", "filename=" + filename); 
```

对此：

```
resp.addHeader("Content-Disposition", "filename=\"" + filename + "\""); 
```

解决了我的问题。

快乐编码！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:38:45.927

您可能希望对文件名使用 urlencode 函数，以使“”变为“%20”。

# android - Android：如何在服务中使用 Activity 提供的功能

> ID：11776564
> 
> 赞同：0
> 
> 时间：2012-08-02T11:34:16.853
> 
> 标签：android, android-widget, android-service

我是 Android 新手，正在开发一个应用程序，其中我的小部件显示 Location latlong。我正在通过配置活动执行此操作。在刷新按钮上刷新相同的位置。一切正常，但小部件上的活动屏幕闪烁。我希望从服务中获得相同的输出，以便活动屏幕不会在前面闪烁。

为此，我创建了一项服务，该服务在单击刷新按钮时启动，但现在我如何在使用地图视图、位置管理器等服务时进行编码，而这些服务不允许。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T08:19:38.950

在您的服务中，您可以使用以下内容：

```
 private void startPositionListener() {
        if (mLocationManager == null) {
            // Get the location manager
            mLocationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
        }
        try {
            gpsEnabled = mLocationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);
            networkEnabled = mLocationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);
        } catch (Exception e) {
            Log.e(TAG, e.getLocalizedMessage());
        }
        // Register the listener with the Location Manager to receive location updates
        if(gpsEnabled) {
            mLocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 6000, 1, mGpsListener);
            Log.d(TAG, "GPS Listener started.");
        } else if(networkEnabled) { // Checking for GSM
            mLocationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 6000, 1, mNetworkListener);
            Log.d(TAG, "Network Listener started.");
        }
} 
```

Where`mNetworkListener`和`mGpsListener`are 实现`LocationListener`. 您必须填写的唯一方法是`onLocationChanged(Location)`（这是您在服务中获取位置数据的地方）。完成以下操作后不要忘记停止更新这些对象：

```
private void stopPositionListner() {
        if (mLocationManager != null) {
            mLocationManager.removeUpdates(mGpsListener);
            mLocationManager.removeUpdates(mNetworkListener);
            Log.d(TAG, "Position Listener stopped.");
        }
    } 
```

# html - 试图让rails应用程序的css在float中进行自动换行

> ID：11776568
> 
> 赞同：1
> 
> 时间：2012-08-02T11:34:30.747
> 
> 标签：html, css

我有一些大约 20 行的文本。大多数行都很短，但有些很长。文本在一列内，页面有两列。问题是长线导致与浮动的交互很糟糕。我将一列堆叠在另一列之上，而不是列。

我四处搜索，我认为我应该能够使用自动换行，但将它添加到我的 css 中没有任何作用。我错过了什么？

这是CSS。

```
.two{
    float: right;
    width: 45%;
    margin-right: 2.5%;
    margin-left: 2.5%;
    word-wrap: break-word;  
} 
```

如果有更好的方法可以做到这一点，我会全力以赴。

编辑：这是一个[jsfiddle 链接](http://jsfiddle.net/QUppe/embedded/result/)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T11:34:40.457

您的页脚设置为 100% 宽度，这很好，但您有一个 2px 的边框。这会使元素的总宽度超过 100%，这样它将创建一个滚动条，将宽度更改为 98%/99% 或像素的确切数量，它应该可以工作（或者只是删除边框）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T12:46:46.247

这是一个只出现在 Chrome 中的问题。

我找到了这篇文章，它给了我解决方案：[http ://ryan.stawarz.com/tech-tidbits/chrome-table-cells-not-word-wrapping-correctly/](http://ryan.stawarz.com/tech-tidbits/chrome-table-cells-not-word-wrapping-correctly/)

我将这些行添加到我的 CSS 文件的相应部分，并且所有内容都已修复。

```
table-layout: fixed;
word-wrap: break-word; 
```

# javascript - Javascript - 子节点数

> ID：11776570
> 
> 赞同：24
> 
> 时间：2012-08-02T11:34:36.573
> 
> 标签：javascript, dom

```
<ul>
    <li>Array1</li>
    <li>Array2</li>
    <li id="element">Array3</li>
</ul>
<script>
   var temp = document.getElementById('element').parentNode;
   child = temp.childNodes;
   console.log(temp.length);
</script> 
```

我需要使用元素 id 获取子节点长度。结果我的代码返回 7，但我只有 3 个节点。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-02T11:52:34.660

`childNodes`获取**所有**现有的 childNode，包括文本节点！在您的示例标记中，您有三个“常规节点”和 4 个文本节点 - 换行符 - 总共有 7 个子节点。

相反，您想要的是`.children.length`或`.childElementCount`（在 IE<9 中不支持）仅获取“实际”节点：

```
let temp = document.getElementById('element').parentNode;
console.log(temp.children.length);
// or the following
console.log(temp.childElementCount); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-02T11:42:13.630

`childNodes`返回 3 个列表项、它们的文本内容和它们之间的空格（但并非在所有浏览器中）。三种选择：

1.  FF 和 Chrome：（`elem.childElementCount`将返回 3）

2.  IE (&& FF AFAIK): `elem.childNodes.length`(===3)

3.  旧版IE：`elem.children.length`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T11:50:55.627

childrenNodes 属性包括所有类型的节点：TEXT_NODE、ELEMENT_NODE、COMMEN_NODE 等。

您需要计算元素的数量，这是一个基于 DOM[的示例解决方案，它应该适用于所有引擎：](http://jsfiddle.net/88fky/)

```
var temp = document.getElementById('element').parentNode;
var children = temp.childNodes;
console.log(children.length); // 7

function countElements(children) {
  var count=0;
  for (var i=0, m=children.length; i<m; i++) 
     if (children[i].nodeType===document.ELEMENT_NODE) 
         count++;
  return count;
}
console.info(countElements (children));​ // 3 
```

**编辑**

同样，如果您希望一个函数仅使用 DOM 检索所有子元素，这里有一个函数：

```
function childElements(node) {
  var elems = new Array();
  var children = node.childNodes;

    for (var i=0,i < children.length ; i++) {
         if (children[i].nodeType===document.ELEMENT_NODE) {
             elems.push(children[i]);
             return elems;
          }
         }
     }

console.info(childElements(temp).length);​ //3 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-08-10T08:49:08.180

如果要获取所有嵌套 DOM 节点的列表，可以使用以下代码片段：

```
function getNestedElements(node) {
  const elems = [];
  const children = node.childNodes;

  for (let i = 0; i < children.length; i++) {
    if (children[i].nodeType === document.ELEMENT_NODE) {
      elems.push(children[i], ...getNestedElements(children[i]));
    }
  }
  return elems;
} 
```

这是@julien-ch[答案的修改版本](https://stackoverflow.com/a/11776810/1065780)

# .htaccess - Apache RewriteRules - 你什么时候不使用 [L] 标志？

> ID：11776573
> 
> 赞同：9
> 
> 时间：2012-08-02T11:34:46.193
> 
> 标签：.htaccess, mod-rewrite

我知道 [L] 标志应该停止处理任何进一步的 RewriteRules，但我似乎理所当然地将 [L] 添加到每个 RewriteRule 中，这几乎是代码片段和网上的例子。

我真的不明白你什么时候会和不想使用 [L] 标志，因为看起来我写过的所有 RewriteRules 都可以使用或不使用 [L] 标志。

有人可以提供一个需要 [L] 和不应该有 [L] 的规则的示例吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-02T12:42:04.713

在我的脑海中，你不想使用的时候`L`：

*   当您需要使用`N`标志循环重写时

    ```
    # Replace all instances of "aaa" with "zzz"
    RewriteRule ^(.*)aaa(.*)$ /$1zzz$2 [N] 
    ```

*   当您使用`C`标志将一组重写逻辑链接在一起时

    ```
    # replace "old" with "new" but only if the first rule got applied
    RewriteRule ^special/(.*)$ /chained/$1 [C]
    RewriteRule ^(.*)/old/(.*)$ /$1/new/$2 [L] 
    ```

*   当您需要使用`S`标志跳过一些规则时（取自 apache 文档，因为我想不出一个工作示例）

    ```
    # Is the request for a non-existent file?
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    # If so, skip these two RewriteRules
    RewriteRule .? - [S=2]

    RewriteRule (.*\.gif) images.php?$1
    RewriteRule (.*\.html) docs.php?$1 
    ```

*   当您想要重定向但需要在使用`R`标志重定向之前让其他规则处理 URI 时

    ```
    # If host is wrong, redirect
    RewriteCond %{HTTP_HOST} bad.host.com
    RewriteRule ^stuff/(.*)$ http://good.host.com/$1 [R=301]

    # but not until we apply a few more rules
    RewriteRule ^(.*)/bad_file.php$ /$1/good_file.php [L] 
    ```

另一方面，有时`L`不需要使用该标志，但它确保在应用该规则时停止重写。它只是让制定规则更容易，因为它可以防止不同的规则集相互干扰，所以在所有规则的末尾无害地包含一个标志通常是*安全的*`L`，因为 99%时间，你真的只想停在那里。

请注意，`L`仅停止*当前迭代*的重写。重写引擎将循环，直到进入引擎的 URI 与输出的 URI 完全相同（查询字符串不是 URI 的一部分）。

# c# - 将数据保存到表中不起作用？

> ID：11776574
> 
> 赞同：1
> 
> 时间：2012-08-02T11:34:48.757
> 
> 标签：c#, sql

在下面的代码中，我调用了一个方法以及对列表的引用来保存每个对象的所有数据，如姓名、年龄、性别和信息，但是在我测试了我的应用程序之后，表是空的！我错过了什么或做错了吗？我没有错误。

```
public void SaveDataToDB(List<Animal> animals)
    {
        connection = new SqlConnection(connectionString);
        dataset = new DataSet();
        sql = "SELECT * From Guests";

        try
        {
            connection.Open();
            adapter = new SqlDataAdapter(sql, connection);
            adapter.Fill(dataset, "Guests");

            foreach (Animal animal in animals)
            {
                DataRow row = dataset.Tables["Guests"].NewRow();
                row["Name"] = animal.Name;
                row["Age"] = animal.Age;
                row["Gender"] = animal.Gender;
                row["Info"] = animal.ImportantInfo;

                dataset.Tables["Guests"].Rows.Add(row);
            }
            new SqlCommandBuilder(adapter);
            adapter.Update(dataset.Tables["Guests"]);
            connection.Close();
        }
        catch
        {
            throw;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:05:38.057

为了使您的插件正常工作，您需要`InsertCommand`为适配器定义一个。这是示例：

```
public void SaveDataToDB(List<Animal> animals)
{
    SqlConnection connection = new SqlConnection(connectionString);
    DataSet dataset = new DataSet();
    string sql = "SELECT * From Guests";

    try
    {
        connection.Open();
        SqlDataAdapter adapter = new SqlDataAdapter(sql, connection);
        adapter.Fill(dataset, "Guests");

        // Create the InsertCommand.
        SqlCommand command = new SqlCommand(
            "INSERT INTO Guests (Name, Age, Gender, ImportantInfo) " +
            "VALUES (@Name, @Age, @Gender, @ImportantInfo)", connection);

        // Add the parameters for the InsertCommand.
        command.Parameters.Add("@Name", SqlDbType.NVarChar, 50, "Name");
        command.Parameters.Add("@Age", SqlDbType.Int, 4, "Age");
        command.Parameters.Add("@Gender", SqlDbType.NVarChar, 6, "Gender");
        command.Parameters.Add("@ImportantInfo", SqlDbType.NVarChar, 100, "ImportantInfo");

        foreach (Animal animal in animals)
        {
            DataRow row = dataset.Tables["Guests"].NewRow();
            row["Name"] = animal.Name;
            row["Age"] = animal.Age;
            row["Gender"] = animal.Gender;
            row["Info"] = animal.ImportantInfo;

            dataset.Tables["Guests"].Rows.Add(row);
        }
        new SqlCommandBuilder(adapter);
        adapter.Update(dataset.Tables["Guests"]);
        connection.Close();
    }
    catch
    {
        throw;
    }
} 
```

确保为 db 参数指定实际的 db 类型和大小。

# azure-table-storage - Azure 表中的一项事务是什么？

> ID：11776576
> 
> 赞同：0
> 
> 时间：2012-08-02T11:34:52.110
> 
> 标签：azure-table-storage

我正在尝试计算 Azure 云存储服务的成本。它说每 100 000 笔交易只需 0.01 美元。我猜这一项交易是用于读写的。但是，在使用 LINQ 进行查询时。例如，如果我要更新在 100 个实体中找到的值。假设我可以进行批量更新，这会调用一个事务吗？

例如，使用以下代码，它会算作一次交易吗？

```
CloudTableQuery<Data> aBatch = (from e in s_context.CreateQuery<Data>("Table") where e.PartitionKey == "some_pkey" select e).AsTableServiceQuery<Data>();
foreach (Data d in aBatch)
{
   d.Content = "updated content";
   s_context.UpdateObject(d);
}
s_context.SaveChangesWithRetries(SaveChangesOptions.Batch); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T15:46:05.550

该代码看起来不对...您需要将`UpdateObject`调用置于循环中。

但要回答您的一般问题，一批更新就是一笔交易。有关非常详细的说明，请参阅[http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)。

# matlab - 使matlab的控制台向下滚动

> ID：11776577
> 
> 赞同：3
> 
> 时间：2012-08-02T11:34:59.360
> 
> 标签：matlab, console, scroll

我正在运行一个`fprintf`用于打印到控制台的脚本。有时控制台停止向下滚动到打印的最新行，我需要手动下拉滚动条才能看到最后一行，这很烦人，因为我想查看控制台和我在每次迭代时绘制的一些图形。

有没有人可以解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T14:01:49.953

以下[内容](http://www.mathworks.com/matlabcentral/answers/10352)已发布到 mathworks，可能会有所启发：

> R2011a 中命令行窗口的行为似乎发生了变化，因此如果 MATLAB 忙，它不会自动滚动到换行符的底部。
> 
> 如果我在我闪亮的新 MATLAB 7.12.0.635 中运行它：
> 
> clc, for a=1:100,fprintf('%i\n',a);pause(0.1);end
> 
> ...计数器将运行到我的 CW 的底部，然后在垂直滚动条增长时继续运行。我沉闷的 7.11.0.584 (R2010b) 和我的 linux 版本（任何一个版本）都不会这样做；命令窗口在换行符上向下滚动。这是故意的新行为还是错误？如果它是一个功能，我该如何控制它？
> 
> **编辑：好的，我很确定这是一个功能。如果循环中的任何内容在计算上不是非常昂贵并且不调用系统命令或 mex 代码，它实际上让我可以选择冻结滚动或通过移动滚动条来释放它（即，如果滚动条位于底部，它会像以前一样更新）。似乎这并不总是有效。**
> 
> Edit2：此外，控制它的技巧仅适用于 Windows 7。

# ios - IOS 搜索栏 SQlite - 是否可以在数据库中同时搜索文本和数字

> ID：11776578
> 
> 赞同：0
> 
> 时间：2012-08-02T11:35:02.983
> 
> 标签：ios, xcode

我是新手，请多多包涵。我曾尝试寻找答案，但没有成功。

我有一个在 sqlite 数据库中搜索颜色的应用程序。它目前可以用于文本搜索。

但是在这个数据库中，有代表每种颜色的名称和数字。

目前搜索是文本搜索，会查找单词，但如果我输入数字，它不会找到任何东西。

是否可以有一个可以同时查找文本和数字的搜索字段？有这方面的教程吗？或者任何人就如何设置搜索来执行此操作提供任何建议？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:39:34.837

Are you targeting a specific field (name) in the SQLite database that you are tying the search to?

If so you could set to search up to query the two fields (number and name) and return all results. If there were duplicates then filter them out before displaying.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T14:10:48.820

从 rossei 提供的答案中，我猜您正在使用 CoreData 对您的 SQL 数据库进行任何查询，但是由于您在问题中没有提到它，所以很高兴知道您可以在没有谓词的情况下直接向您的 SQLite DB 进行查询如果你可以有一个 SQLQuery 来检查字符串和数字：

```
select * from yourtable where yourtable.stringfield == "yourstring" and yourtable.numberfield == number 
```

# android - 无法从 View 转换为 EditTextPreference

> ID：11776583
> 
> 赞同：3
> 
> 时间：2012-08-02T11:35:20.107
> 
> 标签：android

我已经定义了我的设置活动的布局，如下所示：

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<PreferenceCategory 
    android:title="Second Category"
    android:key="second_category">

    <EditTextPreference
        android:id="@+id/pcnSetting"
        android:key="pcn"
        android:title="Set Canton Digits" 
        android:summary="Define your canton digits"
        android:dialogTitle="Set Canton Digits"
        android:dialogMessage="Please add your canton digits"
        android:inputType="number"
        android:imeOptions="actionDone"
        android:maxLength="4"/>

</PreferenceCategory> 
```

我想将其导入`EditTextPreference`到我的 java 代码中，以确保用户输入至少和最多 4 位数字。

这就是我尝试`EditTextPreference`进入java的方式

```
 canton = (EditTextPreference)findViewById(R.id.pcnSetting); 
```

但是`Eclipse`给了我这个错误：

```
Cannot cast from View to EditTextPreference 
```

为什么会这样？以及如何检查用户是否输入了至少和最大`4` `int's`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-02T11:39:39.673

EditTextPreference 不是一个视图，它是一个首选项。所以你必须在你的 PreferenceActivity 中使用[findPreference](http://developer.android.com/reference/android/preference/PreferenceActivity.html#findPreference%28java.lang.CharSequence%29) ()。然后，您可以执行 EditTextPreference.getEdittext 以从此首选项中获取视图

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:37:33.163

因为 EditTextPreference 没有扩展 View，它扩展了 DialogPreference

[http://developer.android.com/reference/android/preference/EditTextPreference.html](http://developer.android.com/reference/android/preference/EditTextPreference.html)

# jquery - 延迟动画并仅在滚动时显示

> ID：11776592
> 
> 赞同：1
> 
> 时间：2012-08-02T11:36:02.833
> 
> 标签：jquery, css

其实这个网站有我想要的：[http ://www.3magine.com/our-work/](http://www.3magine.com/our-work/)

我可以看到所有动画都是用 css3 完成的，但是它们如何延迟动画并仅在滚动时显示内容？

没有javascript，据我所知，这不是不可能的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-14T01:21:21.190

您可以在[http://www.netmagazine.com/tutorials/getting-animations-trigger-right-time找到关于我们如何构建主页动画的完整教程](http://www.netmagazine.com/tutorials/getting-animations-trigger-right-time)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:21:50.397

要回答你的最后一个问题，不，这不能用严格的 CSS 来完成（为什么你也想要，JS 很棒）。

本站使用一些 JS 结合 CSS3 来完成这些事情。

查看链接的 JS 文件。他们在你提到的网站上使用这个

[http://www.3magine.com/wp-content/themes/3magine/js/jquery.appear-1.1.1.modified.js](http://www.3magine.com/wp-content/themes/3magine/js/jquery.appear-1.1.1.modified.js)（同样在 Google Code 上的 jQuery 出现插件）

结合这个 css 文件

[http://www.3magine.com/wp-content/themes/3magine/css/animations.css](http://www.3magine.com/wp-content/themes/3magine/css/animations.css)

完成所有这些幻想。在所有这些都被链接之后，他们使用以下代码在页面上实现所有这些

```
if(Modernizr.csstransitions){               
                var script = document.createElement( 'script' );
                script.type = 'text/javascript';
                script.src = "http://www.3magine.com/wp-content/themes/3magine/js/jquery.appear-1.1.1.modified.js";
                $('head').append( script );
                                document.write('<link rel="stylesheet" type="text/css" href="http://www.3magine.com/wp-content/themes/3magine/css/animations.css" />');
                $(function(){

                    //rewind all animations and remove classes when they appear
                    $('.sequential').appear({
                        once:true,
                        forEachVisible:function(i,e){   if(i==0)return; $(e).addClass('delay'+i); },
                        appear:function(){      $(this).removeClass('init').removeClass('disappear');   },
                        disappear:function(){   $(this).addClass('disappear');  }
                    });
                    $('.sequentialChildren > *').each(function(ic,e){
                        //if(i==0) return;  $(e).addClass('delay'+i);
                        $(e).appear({
                            once:true,
                            forEachVisible:function(i,e){   if(ic==0)   return; $(e).addClass('delay'+ic); },
                            appear:function(){      $(this).removeClass('init').removeClass('disappear');   },
                            disappear:function(){   $(this).addClass('disappear');  }
                        });
                    });
                });
            } 
```

代码量很大，但应该不难理解。此外，您会在我发布的代码块的顶部注意到，它以

```
if(!Modernizr.csstransitions) 
```

Modernizr ( [http://modernizr.com/](http://modernizr.com/) ) 是一个 HTML5/CSS3 功能浏览器检测 JS 库。该站点使用该库来确保用户的浏览器与正在编写的代码功能兼容。

另一个流行的 CSS 动画库是 Animate.css [http://daneden.me/animate/](http://daneden.me/animate/)

检查所有这些事情，你应该有一个好的开始

# ruby-on-rails-3 - rails 中的 tweetstream gem 如何处理stall_warnings？

> ID：11776596
> 
> 赞同：0
> 
> 时间：2012-08-02T11:36:07.710
> 
> 标签：ruby-on-rails-3, api, twitter, streaming, tweetstream

我正在使用精彩的 tweetstream gem ( [https://github.com/intridea/tweetstream](https://github.com/intridea/tweetstream) ) 让 rails 使用流式 twitter api。但是，我在 twitter 文档中读到，我们可以将参数“stall_warnings”设置为 true，以便在客户端有断开连接的危险时接收来自 twitter 的警告消息，这表明当前客户端队列已满。（[https ://dev.twitter.com/docs/streaming-apis/parameters#stall_warnings](https://dev.twitter.com/docs/streaming-apis/parameters#stall_warnings)）

我如何在 tweetstream gem 中使用此功能？我在推文流文档中没有看到任何关于它的内容。

提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T16:08:14.883

查看github上的代码：

[https://github.com/intridea/tweetstream/blob/master/lib/tweetstream/client.rb](https://github.com/intridea/tweetstream/blob/master/lib/tweetstream/client.rb)

它可能是 on_no_data_received 方法。

*“将 Proc 设置为在没有从服务器接收到数据并且发生停顿时运行。Twitter 将其定义为 90 秒。”*

它没有明确说它是来自 Twitter 的相同的stall_warning，但它确实说这将在“发生失速”时触发。

# php - 使用 curl 访问远程文件的一部分

> ID：11776599
> 
> 赞同：1
> 
> 时间：2012-08-02T11:36:10.483
> 
> 标签：php, curl

我需要将远程文件下载到我的服务器，我找到了一种使用 curl 下载的方法。fopen .. 不工作，因为 url 文件访问被禁用。我只想下载几 MB 大小为 100 MB 到几 Gb 的文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:53:18.723

是的，您可以使用下载几 MB 的大文件`CURLOPT_RANGE`

例子

```
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'http://link-to-large-file');

/**
 * First 2MB of that file 
 */
curl_setopt($ch, CURLOPT_RANGE, '0-2000');
curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$result = curl_exec($ch);
curl_close($ch);
echo $result 
```

您还可以将其与`CURLOPT_WRITEFUNCTION`您可以创建自定义回调以编写文件的特定部分的位置结合使用

# java - 未通过向组件添加服务引用调用 Service.FindHook 事件

> ID：11776600
> 
> 赞同：0
> 
> 时间：2012-08-02T11:36:22.730
> 
> 标签：java, osgi, declarative-services, bnd

今天我在 OSGi Hooks 上做了一点工作，特别是服务`FindHook`和`EventListenerHook`服务。我想尝试代理服务。工作正常，我的`EventListenerHook`服务被代理了。但是我意识到，`FindHook`如果服务将通过使用（Bnd 样式）注释相关`setXXX`方法来获取服务实现的引用，则不会调用该事件。`@Reference`也许这不是注释的问题，但一般来说是DS。

这很糟糕，因为注册了两项服务，一项没有代理，一项已代理。我只想从代理那里获得参考。一般来说，如果没有 DS，你可以通过调用获取引用，`BundleContext.getServiceReference(java.lang.Class<S> clazz)`并且事件`FindHook.find`将被调用，你可以在其中决定`ServiceReference`要返回哪个。

当我使用类似 DS 的方法（对我来说：Bnd 注释`@Reference`）时，将执行什么样的流程？正如我在上一节中所描述的：我想决定应该引用哪些服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:28:43.153

这确实是您的 DS 实施的一个问题。这取决于 DS impl 如何代表组件包管理服务访问，因为定位服务的是 DS 实现包。如果 DS 实现使用组件包的 BundleContext 来查找服务，那么您应该能够影响组件包可见的服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T15:41:57.147

当框架必须在两个都满足请求的服务之间做出决定时，它首先选择具有更高服务等级的服务。该排名可以在注册服务时设置为属性。因此，在注册代理时，请确保它的服务排名高于竞争服务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-03T16:17:27.757

感谢您的回答，但我自己找到了解决方案。经过数小时的调试，我发现我的代码的条件被违反了，并且没有发生任何特别的事情。

# iphone - Objective-C 委托类型

> ID：11776607
> 
> 赞同：1
> 
> 时间：2012-08-02T11:36:58.497
> 
> 标签：iphone, objective-c, ios, xcode, delegates

在 Objective-C 中创建委托时，假设 delegate: `id <DelegateName> delegate`，`delegate`' 的类型应该是什么？那么运行`po delegete`或者`po self.delegate`在 LLDB 中，预期的结果是什么？

如果它预期是`DelegateName`，而不是你将如何手动更改它？

**编辑：**

@protocol NavigationBarDelegate @optional - (void)titleViewClicked:(BOOL)titleClicked; @结尾

`po`LLDB 中的输出：

```
(lldb) po self.delegate
(objc_object *) $1 = 0x073d0840 <UINavigationController: 0x73d0840> 
```

结果，委托被发送到`UINavigationController`与预期类相反的类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:39:12.263

类型是`id`这样的，它可以是*任何*Objective-C 对象。该`<DelegateName>`符号意味着对象将符合`DelegateName`协议，但这不会影响其类型。

# android - Android SharedPreferences after reboot device

> ID：11776612
> 
> 赞同：6
> 
> 时间：2012-08-02T11:37:35.930
> 
> 标签：android, sharedpreferences

My English very very BAD cause i'm Russian. :)

In my application I use `SharedPreferences` to store my values. The data has stored in the `SharedPreferences`, when application is running, and after exit from it. And everything works fine until I reboot my device. After reboot I can't use `SharedPreferences`, and the application doesn't read and write the data from there. I use the function `getPreferences(0)` to get preferences from application data folder. I also tried to use the `getSharedPreferences(myPref, MODE_PRIVATE)`, but the effect is the same. Saves only one solution - data cleaning application after reboot device.

```
 favoriteButton = (ImageView) findViewById(R.id.favorite_button);
    SharedPreferences favorite = getSharedPreferences("Favorites", MODE_PRIVATE);
    if(favorite.getString(""+Loader.currentVideo.getTitle()+"", "") == "true") {
        favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_selected));
    } else {
        favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_empty));
    }
    favoriteButton.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            SharedPreferences favorite = getSharedPreferences("Favorites", MODE_PRIVATE);
            SharedPreferences.Editor editor = favorite.edit();
            if(favorite.getString(""+Loader.currentVideo.getTitle()+"", "") == "true") {
                favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_empty));
                Loader.favoriteVideos.remove(Loader.currentVideo);
                editor.remove(""+Loader.currentVideo.getTitle()+"");
            } else {
                favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_selected));
                Loader.favoriteVideos.add(Loader.currentVideo);
                editor.putString(""+Loader.currentVideo.getTitle()+"", "true");
            }
            editor.commit();
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T12:14:50.087

谢谢大家的建议！但是我已经解决了这个问题！我希望这对某人有所帮助，这是一个解决方案。

在请求值 SharedPreferences 之前，请检查密钥的可用性！！！

SharedPreferences sharedpreferences = getSharedPreferences("SharedPreferences", MODE_PRIVATE); **sharedpreferences.contains("key")** --- 检查密钥！

```
 favoriteButton = (ImageView) findViewById(R.id.favorite_button);
    SharedPreferences favorite = getSharedPreferences("Favorites", MODE_PRIVATE);
    String tempFav = "";
    if(favorite.contains(""+Loader.currentVideo.getTitle()+"")) {
        tempFav = favorite.getString(""+Loader.currentVideo.getTitle()+"", "");
    }
    if(tempFav.equalsIgnoreCase("true")) {
        favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_selected));
    } else {
        favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_empty));
    }
    favoriteButton.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            SharedPreferences favorite = getSharedPreferences("Favorites", MODE_PRIVATE);
            SharedPreferences.Editor editor = favorite.edit();
            String tempCFav = "";
            if(favorite.contains(""+Loader.currentVideo.getTitle()+"")) {
                tempCFav = favorite.getString(""+Loader.currentVideo.getTitle()+"", "");
                Log.d(Loader.currentVideo.getTitle());
                Log.d(tempCFav);
            }
            if(tempCFav.equals("true")) {
                favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_empty));
                Loader.favoriteVideos.remove(Loader.currentVideo);
                editor.remove(""+Loader.currentVideo.getTitle()+"");
            } else {
                favoriteButton.setImageDrawable(getResources().getDrawable(R.drawable.fav_selected));
                Loader.favoriteVideos.add(Loader.currentVideo);
                editor.putString(""+Loader.currentVideo.getTitle()+"", "true");
            }
            editor.commit();
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:55:36.757

以下代码应该可以为您保存共享首选项。重要的部分是 edit.commit(); 如果这不起作用，那么可能是您使用的手机有一些不同的行为，因为手机制造商可能已经修改了一些东西。

```
private static final String PREFERENCES = "Preferences";
static protected SharedPreferences getSharedPreferences( Context context ) {

    return context.getSharedPreferences( PREFERENCES, Context.MODE_PRIVATE);
}

public void setString(String setting, String value) {

    SharedPreferences settings = getSharedPreferences( getApplicationContext() );
    Editor edit = settings.edit();
    edit.putString(setting, value);
    edit.commit();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-14T06:58:30.980

将这些行添加到清单应用程序标记中。

android:allowBackup="true" android:fullBackupContent="true"

# ios - iOS httprequest data recovery

> ID：11776613
> 
> 赞同：0
> 
> 时间：2012-08-02T11:37:36.393
> 
> 标签：ios, http

I'm having problem with getting data from my http client on iOS. This is my code for client class

```
@synthesize receivedData;

- (void) HTTPRequest1 :(NSURL *) url {
        NSURLRequest *req = [NSURLRequest requestWithURL: url cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];

    NSURLConnection *connect = [[NSURLConnection alloc] initWithRequest:req delegate:self];

    if (connect) {
        receivedData =[NSMutableData data];

    }
    else {

    }

}

-(void) connection:(NSURLConnection*) connection didReceiveResponse:(NSURLResponse *)response{
    [self.receivedData setLength:0];

}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{

        [self.receivedData appendData:data];
    //receivedData

}

- (void)connection:(NSURLConnection *)connection
  didFailWithError:(NSError *)error
{

    NSLog(@"Connection failed! Error - %@ %@",
          [error localizedDescription],
          [[error userInfo] objectForKey:NSURLErrorFailingURLStringErrorKey]);
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{

    NSLog(@"Succeeded! Received %d bytes of data",[receivedData length]);

} 
```

but when i'm trying to get data from this client:

```
NSURL *url = [NSURL URLWithString:@"http://ya.ru"];
MAHTTPClient *client = [MAHTTPClient alloc];
[client HTTPRequest1:url];
 NSMutableData *data = client.receivedData; 
```

data variable is empty, but data was received (NSLog showed the fact of downloading some bytes of data). The problem is that my app is trying retrieve data when it still hasn't been downloaded from server (there is 200 ms difference) is there any way to make main thread to wait until connectionDidFinishLoading is called?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:04:46.107

您在此处分配的 NSMutableData：

```
if (connect) {
    receivedData =[NSMutableData data];

}
else {

} 
```

可能正在自动释放，因为您使用的是返回自动释放对象的方法。

您应该执行以下操作：

```
self.receivedData = [NSMutableData data]; 
```

如果接收数据是强/保留属性或

```
receivedData = [[NSMutableData alloc] init]; 
```

// 但你需要了解内存管理规则，以确保你没有在这里泄漏内存。

# matlab - Matlab中的时间同步

> ID：11776619
> 
> 赞同：0
> 
> 时间：2012-08-02T11:37:57.613
> 
> 标签：matlab

我有 2 个测量系列。两者都是用时间和相应的值构造的。时间和数值数据是 1 个变量，格式为 <6800x1 double>。第一个系列的时间结构如下：0s、0.1s、0.2s……。第二个系列的时间结构如下：0s, 0.123s, 0.212s, 0,345s,...。如何在 matlab 中同步和绘制这两个系列？他们同时开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:16:28.407

只需用 x 和 y 参数[绘制它们：](http://www.mathworks.nl/help/techdoc/ref/plot.html)

如果您已经有了时间向量（我假设您将它们称为 t1 和 t2，数据向量分别为 x1 和 x2）

```
plot(t1,x1,t2,x2) 
```

Matlab 将绘制这两个系列，即：它将绘制点`[ (t1(1), x1(1)) ; (t1(2),x1(2)) ; ...]`，同样为第二个系列。中的数据是否周期性无关紧要`t2`，matlab只查看值本身并相应地在图形上放置一个数据点。

否则，找到一种方法来构建它们。如果你有一个固定的采样频率（你的第一个系列似乎是 10Hz）：

```
t1=0.1*(0:(numel(x1)-1)); 
```

对于第二个系列，我看不到任何时期。

# java - How to publish wsdl in to UDDI?

> ID：11776621
> 
> 赞同：0
> 
> 时间：2012-08-02T11:38:05.850
> 
> 标签：java, eclipse, web-services

Can any one tell me how to publish the web service(which is created in java using eclipse) in to the UDDI.Can any one explain me with steps.

thanks for your precious time!...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-31T01:24:32.250

jUDDI 有许多示例可以通过编程方式或通过注释来执行此操作。

[http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/](http://svn.apache.org/repos/asf/juddi/trunk/juddi-examples/)

不幸的是，Eclipse 的插件（当前）使用的是非常旧的 UDDI v2 版本。这里有一张关于更新的公开票：[https ://bugs.eclipse.org/bugs/show_bug.cgi?id=307202](https://bugs.eclipse.org/bugs/show_bug.cgi?id=307202)

# java - Java applet write file to local computer error

> ID：11776627
> 
> 赞同：0
> 
> 时间：2012-08-02T11:38:20.000
> 
> 标签：java, security, file-io, applet

I created a JAVA applet which downloads a file from the internet to the memory, do some operations with it, and then writes to the disk. I know that i have to sign the applet and create policy files, i did that but that didn't work.

Here is the code:

```
public static ByteArrayOutputStream file_kikodolva = new ByteArrayOutputStream() {  ... data ...};
public void bt_save_click()
{

    FileOutputStream output = null;
    try {

    FileDialog fileDialog = new FileDialog(new Frame(), "Save", FileDialog.SAVE);
    fileDialog.setFilenameFilter(new FilenameFilter() {
        public boolean accept(File dir, String name) {
            return name.endsWith(".txt");
        }
    });        

    fileDialog.setFile(GlobalData.filename);
    fileDialog.setVisible(true);
   if (fileDialog.getFile() != null)
   {
        System.out.println("File: " + fileDialog.getDirectory() + fileDialog.getFile());
        String filename = fileDialog.getFile();
        output = new FileOutputStream(filename);
        output.write( GlobalData.file_kikodolva.toByteArray());
        output.close();
        System.out.println("File saved: "+ fileDialog.getDirectory() + fileDialog.getFile());
        lb_save.setText("Saved.");
        bt_save.enable(false);
   }else
   {
       lb_save.setText("User canceled.");
   }

    } catch (IOException ex) {
        System.out.println("File write error");
        Logger.getLogger(Send.class.getName()).log(Level.SEVERE, null, ex);
    }
    finally {
        try {
            output.close();
        } catch (IOException ex) {
            Logger.getLogger(Send.class.getName()).log(Level.SEVERE, null, ex);
        }
    }   

} 
```

I also tried to use Jar Maker. Here is what i did: NetBeans -> Ctrl + F11 -> create jar file I used KeyMaker to create Signer jar file.

Do you have any suggestions how can i make this work?

# javascript - 数字格式的javascript正则表达式

> ID：11776628
> 
> 赞同：1
> 
> 时间：2012-08-02T11:38:21.247
> 
> 标签：javascript, regex

你能建议一个 javascript 正则表达式来检查数字格式 1.00.999,000
这里 '.' 代表 100 和 ',' 代表小数点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:46:35.870

如果您只是要求精确匹配的数字格式，那么

1.00.999,000 变成`[0-9]\.[0-9]{2}.[0-9]{3},[0-9]{3}`

我怀疑你真正想要的可能是

```
[0-9]{0,2}(.[0-9]{3})+,[0-9]{0,3} 
```

所以`two numbers`，后跟任意量，`dot three number`后跟，之间`0 and 3 numbers`。我在解释数字格式时可能是错误的，但我怀疑您的示例`1.00.999,000`应该在左侧的第一个分组中添加一个额外的零（000 而不是 00），以使其与后面的样本一致，或者在 1.00 之间放置点.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:50:08.553

这适用于带或不带小数的数字（最多 3 个）

```
[0-9]{1,2}(\.[0-9]{3})*(,[0-9]{1,3})? 
```

# html - Position of an image bigger than window size

> ID：11776629
> 
> 赞同：0
> 
> 时间：2012-08-02T11:38:23.760
> 
> 标签：html, css

I noted that a backgorund image is bigger than browser window, and it's positioned at some percentage, his assume a position that start out of the screen... Check [this page](http://html.it/articoli/esempi/articoli_pro/534/3colPerc.html)

the background of the left column is a gif of 2000px, and this is the CSS rule

```
div#container{min-width: 550px;background: #FFF url(leftP.gif) repeat-y 25%} 
```

In a normal/logical situation, the image should be positioned at (window size*25)/100 pixel, but in this case the image seems positioned in a negative coordinate (es. -50px)

So, when the image is bigger than window size, what the position expressed in percentage refers to? What's the formula that the HTML apply?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:01:24.130

我想你想要背景大小属性：

[http://www.w3schools.com/cssref/css3_pr_background-size.asp](http://www.w3schools.com/cssref/css3_pr_background-size.asp)

在您上面的示例中，25% 将适用于定位，而不是大小。

# git - Rules in .gitignore

> ID：11776633
> 
> 赞同：1
> 
> 时间：2012-08-02T11:38:52.297
> 
> 标签：git

**1.** I add this in my .gitignore:

```
temp/cache/
!temp/cache/.htaccess 
```

But it still skip (dont commit) everything in *cache* dir including *.htaccess*.

How fix it?

**2.** Is ok that I commit my .gitignore on github?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:47:05.537

是的，您确实提交并将您的 .gitignore 推送到您的 github。它只是忽略您对这些文件所做的任何更改。

例如

.gitignore 文件

```
*~   
/application/config/config.ini 
```

这将忽略对 config.ini 所做的任何更改

# c# - 使用 HTML Agility Pack 抓取节点右侧的文本

> ID：11776634
> 
> 赞同：1
> 
> 时间：2012-08-02T11:38:52.373
> 
> 标签：c#, html, html-agility-pack

**HTML：**

```
<strong>Capture Date/Time:</strong> August 1, 2012 1:05:00 PM EST<br>
<strong>Instructor:</strong> Ash<br>
<strong>Instructor Email:</strong> email@email.com<br>
<strong>Course ID:</strong> Course321<br> 
```

我将如何获取每个强节点右侧的文本？

例如，为了获取课程 ID，我最终得到了一个字符串“Course321”。

**代码：**

```
private string getCourseID()
{
    foreach (HtmlAgilityPack.HtmlNode strong in htmlDoc.DocumentNode.SelectNodes("//strong"))
    {
        string innerText = strong.InnerText;

        if (innerText.Contains("Course ID"))
        {
            //select the outer text
            //return outertext;
        }
    }
} 
```

**当前代码：**

```
private string getCourseID()
{
    HtmlAgilityPack.HtmlDocument htmlDoc = new HtmlAgilityPack.HtmlDocument();

    string value = "Error";

    foreach (HtmlAgilityPack.HtmlNode strong in htmlDoc.DocumentNode.SelectNodes("//strong"))
    {
        string innerText = strong.InnerText;

        if (innerText.Contains("Course ID"))
        {
            HtmlAgilityPack.HtmlNode sibling = strong.SelectSingleNode("following-sibling::text()");

            value = sibling.InnerText.Trim();

            MessageBox.Show(value);
        }
    }

    return value;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:48:04.460

使用 following-sibling::* XPath 轴：

```
HtmlNode sibling = strong.SelectSingleNode("following-sibling::text()");
Console.WriteLine("Course ID = " + sibling.InnerText.Trim()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T17:17:26.023

对于那些分享我的 XPathofobia 的人，这样做可以获得兄弟姐妹发布 strong-tags ：

```
new HtmlDocument().LoadHtml("blah blah blah").DocumentNode.DescendantsAndSelf().Where (dn => dn.Name == "strong").Select (dn => dn.NextSibling.InnerText) 
```

# c++ - 奇怪的 c++ 算术

> ID：11776635
> 
> 赞同：0
> 
> 时间：2012-08-02T11:38:55.173
> 
> 标签：c++

我对`h`这个实验中的值有点困惑。在cpp中，

```
int h,J=3,n=200,p=3,h_m=(n+p+1)/2;
float rt=(float)h_m/n;

for(int j=0,j<J,j++){
   h=floor((j+1)/J*rt*(n-p-1)+p+1);
   std::cout<<h<<" "<<j<<" "<<rt<<" "<<n-p-1<<" "<<h_i<<" "<<J<<std::endl;
} 
```

给出：

```
4 0 0.51 196 7  3
4 1 0.51 196 7  3
103 2 0.51 196 7  3 
```

我试图得到（这是在 R 中）：

```
n<-200
p<-3
h_m<-as.integer((n+p+1)/2)
J<-3
j<-0:(J-1)
rt<-h_m/n
floor((j+1)/J*rt*(n-p-1)+p+1)
[1]  37  70 103 
```

cpp 构造有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:40:47.813

这

```
(j+1)/J 
```

是整数除法，因此被截断。明确地将操作数之一转换为浮点数：

```
(j+1)/(float)J 
```

# ruby-on-rails - Rails 迁移最佳实践——许多类似的迁移还是一个大的？

> ID：11776637
> 
> 赞同：0
> 
> 时间：2012-08-02T11:39:03.480
> 
> 标签：ruby-on-rails, rails-migrations

我必须在近 10 个表中添加一列。你认为最好的方法是什么？

*   使用奇怪的名称进行一次迁移并使用循环更改每个模型中的列

*   使用类似的内容进行 10 次迁移，但具有好听的名称，例如：add_extra_field_to_user

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:48:51.660

我会选择 10 个。另一个优点是您可以运行它们，并单独回滚它们。此外，我总是优先考虑可读性，尤其是当你得到奇怪的名字时；）

# iphone - 如何在iphone中自动滚动到textview？

> ID：11776638
> 
> 赞同：2
> 
> 时间：2012-08-02T11:39:05.243
> 
> 标签：iphone, ios

我正在创建一个游戏，根据可用的提示计数，我想在 textview 中向玩家显示提示。现在我想给 textview 自动滚动，因为每当新提示添加到以前的提示中时，我需要滚动 textview 才能看到提示。这意味着每当添加新提示时，我都想自动滚动到 textview 的底部。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-02T12:01:56.363

像这样的东西应该可以解决问题......

```
[myTextView scrollRangeToVisible:NSMakeRange([myTextView.text length], 0)]; 
```

# regex - How to return a character set after matching a specific string in a regular expression

> ID：11776641
> 
> 赞同：0
> 
> 时间：2012-08-02T11:39:25.193
> 
> 标签：regex, sox

I'm actually using using a command line tool called `sox` to retrieve information about an audio file. This returns the following output:

```
Samples read:            449718
Length (seconds):     28.107375
Scaled by:         2147483647.0
Maximum amplitude:     0.999969
Minimum amplitude:    -0.999969
Midline amplitude:     0.000000
Mean    norm:          0.145530
Mean    amplitude:     0.000291
RMS     amplitude:     0.249847
Maximum delta:         1.316925
Minimum delta:         0.000000
Mean    delta:         0.033336
RMS     delta:         0.064767
Rough   frequency:          660
Volume adjustment:        1.000 
```

I'd like to extract the values out of this using a regular expression. So far I have `/^Length \(seconds\):\s*[0-9.]*/m` which matches `Length (seconds): 28.107375` but I just want the value.

What do I need to do?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T10:57:06.260

"soxi -D filename" 以秒为单位返回文件名的长度。只是数字，没有别的。关于 SoXI 的信息可以在[这里找到](http://sox.sourceforge.net/soxi.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:43:43.877

两种选择（我对 sox 不熟悉，所以我不确定这在 sox 中究竟是如何工作的）：

1.  您可以使用lookbehind 来匹配第一部分。这适用于正则表达式引擎允许可变长度后视的情况：`/(?<=^Length \(seconds\)\:\s*)[\d.]*/`
2.  您可以捕获组中的值以供以后引用：`/^Length \(seconds\):\s*([\d.]*)/`. 如果 sox 具有捕获组功能，这将起作用。在这种情况下，该值将保存在第一个捕获组中（1 美元的红宝石）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:55:51.143

```
awk '/^Length \(seconds\):/ { print $NF }' 
```

# ruby-on-rails-3 - Show line number where Rails test fails

> ID：11776643
> 
> 赞同：1
> 
> 时间：2012-08-02T11:39:29.423
> 
> 标签：ruby-on-rails-3, testing

For some reason the line number where unit test is failing is not show. New in Rails 3? I'm not sure. This makes it very difficult to know where the test is failing. The only way to know which line is causes the error is to put debug statements everwhere in your test code.

Example of the output is below. The example shows a lot of useful information. For example the error message: wrong number of arguments (o for 2). Unfortunately it doesn't show the line number of the unit test code line. Is it possibly to get the line number?

```
ActionController::TestCase
ActionDispatch::IntegrationTest
ActiveRecord::TestCase
ActiveSupport::TestCase
DefineIssueTest
     test_Get_issues                                                     ERROR
        wrong number of arguments (0 for 2)
        STDERR:
        Exception `ArgumentError' at c:/Ruby19/lib/ruby/gems/1.9.1/gems/activesu
pport-3.1.4/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run
'
        c:/Ruby19/lib/ruby/gems/1.9.1/gems/activesupport-3.1.4/lib/active_suppor
t/callbacks.rb:408:in `_run_setup_callbacks'
        c:/Ruby19/lib/ruby/gems/1.9.1/gems/activesupport-3.1.4/lib/active_suppor
t/callbacks.rb:81:in `run_callbacks'
        c:/Ruby19/lib/ruby/gems/1.9.1/gems/activesupport-3.1.4/lib/active_suppor
t/testing/setup_and_teardown.rb:34:in `run'
Test::Unit::TestCase
==============================================================================
  pass: 0,  fail: 0,  error: 1
  total: 1 tests with 20 assertions in 0.935994 seconds
==============================================================================
Errors running test:single! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T13:58:51.227

我最近遇到了这个问题；事实证明，我编写了一个测试套件本身失败的测试。（最小密码长度：8 个字符。然后我设置了一个 6 个字符的示例。）我花了很长时间才弄清楚问题，因为错误消息是无意义的。

# ubuntu - Feasibility of rsyncing the whole Plone production server running Ubuntu once in a day

> ID：11776648
> 
> 赞同：1
> 
> 时间：2012-08-02T11:39:35.803
> 
> 标签：ubuntu, plone, rsync, zodb

Has anyone experience of doing full VM snapshot or rsync back-ups with Plone? We have a server running several separate Zope application server worth of around 10-20 GB ZODB data and blobs.

*   Would it be possible to duplicate the server by rsynching the whole server filesystem to a replicate machine once in a day?

This would provide "barebone high availability" where in the case of server breakage one could just switch the production IP to the back-up server.

The issues here are

*   Can rsync delta algorithm cleverly copy append-only Data.fs files or does it copy the whole Data.fs every time? Data.fs and blobs are the only data changing on the server running Plone sites.

*   Is rsync fast enough for calculating deltas for the whole server file system once in a day

*   Does rsync cause too much stress to the system when it is running

*   Do one need to run something more advanced over rsync to speed up the process (e.g. Duplicity)

*   Does Ubuntu system partition has something which must be excluded from rsync

As far as I know live ZODB Data.fs copies are ok due to their append-only nature.

The benefits of such replication method would

*   Very simple to set-up: No advanced replication knowledge beyond normal Linux sysadmin knowledge needed

The data in our case is not that critical. We are fine if we can restore 1-2 old back-ups as long as the replication takes over within one day.

The server is running Ubuntu 12.04\.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T12:07:04.287

是的，rsync 将能够以增量方式复制 Data.fs 数据；毕竟，这是一种仅附加的方法。

当被 rsync 复制时，你确实冒着最后一个正在进行的事务不完整的风险，但是 Zope 足够聪明，可以忽略这样的不完整事务。

rsync 将不得不做很多工作来找出在 Data.fs 中从哪里开始复制，因为它不知道格式只是附加的。所以在每次运行时，它都会从头开始分析整个文件，这会消耗一些 CPU 和磁盘访问资源。

也许使用[repozo](http://wiki.zope.org/ZODB/FileStorageBackup)和 rsync 的组合会是一个更好的解决方案？运行 repozo 以创建快照（创建快照效率更高，因为 repozo*确实*知道 Data.fs 的仅附加性质），重新同步*这些*快照，并自动从这些备份中“恢复”您的冷故障转移服务器。在[`collective.recipe.backup`](https://pypi.python.org/pypi/collective.recipe.backup)你的构建中包含 repozo 是一件轻而易举的事。

# android - 卡在addview

> ID：11776658
> 
> 赞同：1
> 
> 时间：2012-08-02T11:40:23.380
> 
> 标签：android, android-layout, android-widget

```
LinearLayout.LayoutParams labellayoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);
    LinearLayout.LayoutParams textlayoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.MATCH_PARENT);
    for(int i=0 ;i < 2;i++){
        TextView label = new TextView(this);
        EditText text = new EditText(this);

        labellayoutParams.setMargins(40, 30, 30 , 0);
        textlayoutParams.setMargins(60, 30, 30 , 0);
        text.setHint("Type Here");
        label.setText("some text");

        ll.addView(label);
        ll.addView(text);
    }
    this.setContentView(ll); 
```

上面的代码将显示输出为

注意：让我们假设 sometext 作为 textview 和***_* __ *_***作为 edittext

```
some text ____________ some text _____________ 
```

但我想要这样的输出

```
some text ____________

some text ____________ 
```

我试过 setOrientation(LinearLayout.VERTICAL) 但它给了喜欢这个

```
some text 

_____________

some text

_____________ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:44:07.667

您名为 ll 的 LinearLayout 应该将其属性“android:orientation”设置为“vertical”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:51:04.513

如果您调整布局垂直的方向，它将正常工作....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:44:10.330

您必须设置线性布局方向 [ll.setorientation(VERTICAL)](http://developer.android.com/reference/android/widget/LinearLayout.html#setOrientation%28int%29)以使文本视图垂直排列

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T12:20:14.843

尝试使用不同的布局......我认为它不能水平和垂直添加到单个布局中（在 LinearLayout 中）。你想在这里做..

# list - 在scala中将两个列表一起排序

> ID：11776661
> 
> 赞同：4
> 
> 时间：2012-08-02T11:40:34.303
> 
> 标签：list, scala, functional-programming

假设我有两个列表：

```
List(("a",1),("b",4),("d",5),("a",7),("b",6)) 
```

和

```
List("a","b","c","d") 
```

我想根据第一个列表对它们进行分组，这样我得到：

```
List("a" -> List(("a",1),("a",7)), "b" -> List(("b",4),("b",6)), "d" -> List(("d",5))) 
```

实现这一目标的最佳方法是什么？我知道我可以对预先确定的值使用 groupBy 和模式匹配，但是当第二个列表不是预先确定的时，我会有点卡住。

编辑：

我需要第二个列表中对象的副本作为已处理列表的键。我可能需要按第二个列表中的 on 对象的参数进行分组，但仍将整个对象保持为键……如果有意义的话。

```
List(("a",1),("b",4),("d",5),("a",7),("b",6)) 
List(("a",1,1),("b",2,3),("c",5,6),("d",6,7)) 
```

变成：

```
 List(("a",1,1) -> List(("a",1),("a",7)), ("b",2,3) -> List(("b",4),("b",6)), ("d",6,7) -> List(("d",5))) 
```

对不起，不清楚！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:52:20.363

根据您的编辑，使用`for`-comprehension：

```
for {
  key <- second
  pair <- first.groupBy(_._1).get(key)
} yield key -> pair 
```

或未加糖的等价物：

```
second.flatMap(key => first.groupBy(_._1).get(key).map(key -> _)) 
```

这两者都`groupBy`对每个键执行操作。如果这是一个问题，您当然可以使用稍微详细一点的方法来避免它：

```
val mappings = first.groupBy(_._1)
second.flatMap(key => mappings.get(key).map(key -> _)) 
```

并解决您的新编辑问题：如果您需要转换第二个列表中的每个项目以将其用作第一个列表的键，您可以通过几种方法来解决这个问题。例如，给定：

```
val first = List(("a", 1), ("b", 4), ("d", 5), ("a", 7), ("b", 6))
val second = List(("a", 1, 1), ("b", 2, 3), ("c", 5, 6), ("d", 6, 7)) 
```

任何一个：

```
for {
  item @ (key, _, _) <- second
  pair <- first.groupBy(_._1).get(key)
} yield item -> pair 
```

或者：

```
for {
  item <- second
  pair <- first.groupBy(_._1).get(item._1)
} yield item -> pair 
```

根据需要工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:43:14.047

解决方案非常简单：

```
first groupBy(_._1) toList 
```

结果：

```
List((a,List((a,1), (a,7))), (d,List((d,5))), (b,List((b,4), (b,6)))) 
```

你的第一个列表在哪里`first`（第二个的目的是什么）？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T12:32:12.917

其他方式。

```
val first = List(("a",1),("b",4),("d",5),("a",7),("b",6))
val second = List(("a",1,1),("b",2,3),("c",5,6),("d",6,7))
first groupBy {k => second find {_._1 == k._1} get} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-02T15:05:41.123

```
val a = List(("a",1),("b",4),("d",5),("a",7),("b",6))
val b = List(("a",1,1),("b",2,3),("c",5,6),("d",6,7))
val a1 = a.groupBy{ _._1 }
b.flatMap{ x => a1.get(x._1).map{x -> _} } 
```

或者

```
val a = List(("a",1),("b",4),("d",5),("a",7),("b",6))
val b = List(("a",1,1),("b",2,3),("c",5,6),("d",6,7))
b.view.map{ x => x -> a.filter{ _._1 == x._1 } }.filter{ _._2.nonEmpty }.toList 
```

第二种方法应该是最有效的。

# css - 如何让 CSS 动画不消耗一个人的整个 CPU？

> ID：11776662
> 
> 赞同：3
> 
> 时间：2012-08-02T11:40:35.007
> 
> 标签：css, twitter-bootstrap, css-transforms, css-animations, vendor-prefix

我正在尝试使用 CSS 动画和转换来制作加载器 gif。不幸的是，以下代码将我的 Mac OSX 上的 Firefox（有时还有 Chrome、Safari）的 CPU 使用率从 <10% 转换为 >90%。

```
i.icon-repeat {
   display:none;
  -webkit-animation: Rotate 1s infinite linear;
  -moz-animation: Rotate 1s infinite linear; //**this is the offending line**
   animation: Rotate 1s infinite linear;
}
@-webkit-keyframes Rotate {
  from {-webkit-transform:rotate(0deg);}
   to {-webkit-transform:rotate(360deg);}
}
@-keyframes Rotate {
  from {transform:rotate(0deg);}
   to {transform:rotate(360deg);}
}
@-moz-keyframes Rotate {
  from {-moz-transform:rotate(0deg);}
   to {-moz-transform:rotate(360deg);}
} 
```

请注意，如果没有`infinite linear`旋转或`-moz-`供应商前缀，“loader gif”-like 行为就会丢失。也就是说，图标不会连续旋转。

也许这只是一个错误，或者我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:03:16.457

首先，您使用的是哪个版本的 Firefox？这可能是一个错误，但众所周知，CSS3 动画会在几分之一秒内占用大量 CPU。但是，它们比对应的 jQuery 快得多。

这不是@-关键帧。这是@keyframes。

在旁注中，我想你最好使用新的东西而不是旋转图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-30T20:10:07.633

我解决了我自己的问题。我没有切换图标的可见性，而是简单地添加了它，然后将其从 DOM 中删除。关于使用 CSS 动画，我不知道的关键是，无论`display:none`哪种`display:inline`方式都消耗 CPU。

所以代替那个，这样做（结合我上面问题中的CSS）：

```
var icon = document.createElement("i"); //create the icon
icon.className = "icon-repeat";

document.body.appendChild(icon);  //icon append to the DOM

function removeElement(el) {    // generic function to remove element could be used elsewhere besides this example 
  el.parentNode.removeChild(el);
}

removeElement(icon); //triggers the icon's removal from the DOM 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:42:39.883

可能是一个错误。但与许多这些供应商前缀的东西一样，它仍然是一项正在进行中的工作。为了全面获得更可靠的结果，我建议使用 JavaScript - 也许是 jQuery。

# python - 使用 matplotlib.imshow 绘制二维数组

> ID：11776663
> 
> 赞同：5
> 
> 时间：2012-08-02T11:40:38.957
> 
> 标签：python, matplotlib, 2d

此循环产生的`np.array`结果有 4383 行和 6 列。我尝试使用`pylab.imshow()`matplotlib(pylab) 来显示数组，但没有成功。目标是创建数组的图像，其中颜色渐变表示数组值的大小。数组的每一行代表每天（4383 天）内湖泊温度深度的变化。因此，目标是找出湖温随时间变化的深度差异。谢谢

```
TempLake=np.zeros((N+1,Nlayers)) 
TempLake[0]=T0 

Q=np.zeros(N+1) 
Q[0]=0.0 
for i in xrange(N): 
    Q[i+1]=Qn(HSR[i],TD[i],FW[i],TempLake[i][0]) 
    TempLake[i+1]=main_loop(Z,z,Areat0,Areat1,TempLake[i],wind[i],Q[i],Q[i+1]) 

im = plt.imshow(tem, cmap='hot') 
plt.colorbar(im, orientation='horizontal')  
plt.show() 
```

结果是这样的：图例很好，但是 x 轴倒置了，图像没有出现 ![在此处输入图像描述](../Images/7653ec72cae0d68a88fbf6e9b67e9465.png)

这就是我需要的： ![在此处输入图像描述](../Images/587e3cdde015120832ca051ec992711f.png)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-12T00:09:30.423

如果您只是在调用它时设置了方面，则可以**使用**它。`imshow`如下：

```
im = plt.imshow(tem, cmap='hot', aspect=aspect_ratio*(cols/rows)) 
```

此处`aspect_ratio`将设置您想要的实际纵横比，`cols/rows`并将原始纵横比标准化为 1。`cols`并且`rows`是列数和行数（例如`rows = data.shape[0]`，`cols = data.shape[1]`）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-02T12:04:12.097

您需要使用`pcolor`or`pcolormesh`代替`imshow`. 这是因为在`imshow`图形方面与数组相同，在您的情况下为 4383x6。

```
import pylab as plt
import numpy as np

Z=np.array((range(1,30),range(31,60),range(61,90))).transpose()

X,Y=np.meshgrid(range(Z.shape[0]+1),range(Z.shape[1]+1))
im = plt.pcolormesh(X,Y,Z.transpose(), cmap='hot')
plt.colorbar(im, orientation='horizontal')
plt.show() 
```

![在此处输入图像描述](../Images/6c60056d7bd94b4e92df4e33fdefbd3d.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:48:26.553

您可以使用 matplotlib.pyplot 中的轴函数：

```
axis('auto') 
```

所以你的例子会变成：

```
TempLake=np.zeros((N+1,Nlayers)) 
TempLake[0]=T0 

Q=np.zeros(N+1) 
Q[0]=0.0 
for i in xrange(N): 
    Q[i+1]=Qn(HSR[i],TD[i],FW[i],TempLake[i][0]) 
    TempLake[i+1]=main_loop(Z,z,Areat0,Areat1,TempLake[i],wind[i],Q[i],Q[i+1]) 

im = plt.imshow(tem, cmap='hot') 
plt.colorbar(im, orientation='horizontal')
plt.axis('auto')
plt.show() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T12:45:40.567

也许我错了，但你仍然可以使用 imshow 只是转置图像

```
im = plt.imshow(tem.transpose(),cmap='hot',origin='lower',aspect='auto') 
```

下面说plost从左下角开始，imshow中的auto关键字。但正如我所说，也许我不明白这个问题

# shell - 需要了解shell awk 代码

> ID：11776664
> 
> 赞同：-2
> 
> 时间：2012-08-02T11:40:39.383
> 
> 标签：shell, printing, awk

我偶然发现了这段代码，我试图用分隔符“;”解析文件 并将其保存到其他新文件中。但现在它将原始内容保存到新文件中而不分离。

```
cat $file | awk 'BEGIN {FS=";"}{ print  > "final.txt"}END{ print "parsed now..."}' 
```

但它给了我原始文件内容。我想，`print`将打印由 awk 处理的文件的所有列。

有人可以帮帮我吗？

多谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:48:11.280

如果我理解正确，问题是您没有在“;”处获得输出 应该用“”代替（这是标准的OFS）？
如果这是问题，为什么不这样做

```
sed 's/;/ /g' $file 
```

无论如何 - `print`awk 中的 AFAIK 意味着输入行在`print $0`哪里。`$0`如果该行中没有明确更改的字段`$0`则根本不会更新。我的解决方法通常是进行伪更新`$1=$1`以强制更新`$0`。也许有一种“更清洁”的方式......

```
cat $file | awk 'BEGIN {FS=";"}{$1=$1;print  > "final.txt"}END{ print "parsed now..."}' 
```

**编辑：**

```
awk -F";" '{print $4}' $file >final.txt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T11:52:43.857

Print 将默认打印 $0 ，这是完整的行。所以无论你得到什么都是正确的。

我可以知道你到底需要什么吗？你需要删除分隔符吗？

第四列可以打印如下：

```
awk 'BEGIN {FS=";"}{ print $4 > "final.txt"}END{ print "parsed now..."}' $file 
```

# fortran - 作为 Polydata VTK 文件创建的矢量无法在 VisIt 中正确显示

> ID：11776665
> 
> 赞同：2
> 
> 时间：2012-08-02T11:40:40.217
> 
> 标签：fortran, visualization, vtk

我正在改进用 Fortran 编写的热工水力代码，方法是将其网格数据写入可在可视化器中打开的 VTK 文件。以前，数据只是简单地写入用户必须手动操作的文本文件。我写了两个文件：一个用于标量数据，其中包括结构化网格单元的顶点和其中的标量数据，第二个文件用于矢量数据。由于求解算法，向量位于网格单元的面上，因此我使用 Polydata 点定义它们的位置。

我测试了我对 500 个单元格的小型网格的修改，它运行良好，但我尝试升级到更大的 9,000 个单元格网格。矢量显示不正确。网格在 x 方向有 18 个单元，在 y 方向有 18 个单元，在 z 方向有 29 个单元。在我下面附上的图片中，您可以看到 y 方向有 18 个向量，这是正确的，但 y 方向只有 7 个向量。我将 z 方向网格减少到 3 个级别，以降低此处的复杂性。我需要确定这是否是可视化工具、VTK 文件或我的代码的问题。

![在此处输入图像描述](../Images/5913566c51aa63e3b580707fddea8aeb.png)

我检查了 VTK 文件，在我看来一切都在那里。实际上，我之前的尝试涉及打印数据，因此 z 方向坐标变化最快，然后是 x，然后是 y，这会在 z 方向产生一组交错的向量。让 x 变化最快，然后是 y，然后是 z 产生了你在上面看到的结果。我很惊讶地看到这有所不同，因为 VTK 文件的实际内容没有改变。当然，我在写入 VTK 格式时遇到了麻烦，因为我在网上找不到太多关于它的信息，所以我可能会遗漏一些明显的东西。我附上了我在下面写的 VTK 文件，看看是否有我忽略的东西。这是一个很长的文件，所以我删除了这篇文章的大部分数据，只留下了两个标题部分和一些数据点。

```
# vtk DataFile Version 1.0
Vector Data
ASCII
DATASET POLYDATA
POINTS     972 double
0.33500000E-02  0.33500000E-02  0.00000000E+00
0.13000000E-01  0.33500000E-02  0.00000000E+00
0.25600000E-01  0.33500000E-02  0.00000000E+00
0.38200000E-01  0.33500000E-02  0.00000000E+00
0.50800000E-01  0.33500000E-02  0.00000000E+00
0.63400000E-01  0.33500000E-02  0.00000000E+00
... up to 972 values
POINT_DATA     972
VECTORS Axial_Liquid_Mass_Flow_Rate float         
0.0000E+00  0.0000E+00  0.9075E-01
0.0000E+00  0.0000E+00  0.1636E+00
0.0000E+00  0.0000E+00  0.1636E+00
0.0000E+00  0.0000E+00  0.1636E+00
0.0000E+00  0.0000E+00  0.1636E+00
0.0000E+00  0.0000E+00  0.1636E+00
... up to 972 values 
```

**关于克里斯的评论：**

首先，代码实际上使用两个网格来与交错网格方法保持一致：1) 一个标量网格，其中求解连续性和能量方程（在标量网格的中心定义压力、密度、焓和空隙率）单元），2）动量单元网格，其中求解动量方程（速度定义在动量网格单元的中心）。标量网格由用户定义，动量网格建立在其之上，因此动量单元的中心位于标量单元的表面上。

我认为最好使用 VTK 的直线格式来捕获这样的网格，但我不知道如何捕获非正方形或矩形的几何图形，例如此处显示的几何图形：

![在此处输入图像描述](../Images/21672cfda97def32666e31297bd751a2.png)

因此，我使用了非结构化网格，因为所有单元格顶点信息都很容易获得（这也更容易从代码中打印出来，因为我不必考虑单元格的连通性）。动量单元实际上会相互重叠，因为它们的设置使中心位于标量单元面上。因此，只有单元的中心很重要，这就是为什么我使用点而不是网格来定义速度矢量的原因。如果我添加一些动量网格单元，请参见上图，如红色虚线所示：

![在此处输入图像描述](../Images/d915cf21df294ad2b875fc188011a155.png)

我修改了代码，使每个标量单元现在都有六个与之关联的数组：1) x_location(i,j) - 标量网格单元中心的 x 位置，以米为单位 2) y_location(i,j) -标量网格单元中心的 y 位置 3) z_location(i,j) - 标量网格单元中心的 z 位置 4) x_size(i,j) - x 方向上标量单元的大小5) y_size(i,j) - 标量单元在 y 方向上的大小 6) z_size(i,j) - 标量单元在 z 方向上的大小

i 索引表示沿 z 方向堆叠的一列单元（通道）。j 索引代表一层细胞，跨越 x,y 方向。

一个单元格可以由 i 和 j 索引唯一标识。所有标量单元数据也针对这些指数给出（即密度（i,j）、焓（i,j）、压力（i,j）等）。

# c# - 为什么日期时间会阻止导航属性被加载？

> ID：11776666
> 
> 赞同：7
> 
> 时间：2012-08-02T11:40:43.433
> 
> 标签：c#, ef-code-first, sql-server-2012, navigation-properties, entity-framework-4.3.1

我正在对 SQL Server 2012 数据库使用实体框架 4.3.1，并使用 DbContext POCO 方法。

我在数据库中只有两个表，它们看起来像这样：

![表](../Images/8834fedae20e51159e903a76d426dee5.png)

*注意：数据库中根本没有指定外键 - 我只是在模型中强制执行关系（我无法更改数据库）。*

它们每个都有一行数据，如下所示：

![数据](../Images/f14a2ea885aa83c64f066d367edc3932.png)

我执行了以下查询以确保连接有效：

![验证](../Images/d7227025fb9c43a1a215a1c227258c31.png)

现在，我有以下实体：

```
public class Two
{
    public long TwoId { get; set; }
    public string OneId { get; set; }
    public virtual One One { get; set; }
}

public class One
{
    public string OneId { get; set; }
    public DateTime DeliveryDate { get; set; }
    public virtual ICollection<Two> Twos { get; private set; }

    public void AddTwo(Two two)
    {
        if (two == null)
            throw new ArgumentNullException("two");

        if (Twos == null)
            Twos = new List<Two>();

        if (!Twos.Contains(two))
            Twos.Add(two);

        two.One = this;
    }
} 
```

这是上下文：

```
public class TestContext : DbContext
{
    public TestContext(string conectionString)
        : base(conectionString)
    {
        Configuration.LazyLoadingEnabled = true;
        Ones = Set<One>();
        Twos = Set<Two>();
    }
    public DbSet<One> Ones { get; private set; }
    public DbSet<Two> Twos { get; private set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        var one = modelBuilder.Entity<One>();
        one.ToTable("One");
        one.HasKey(d => d.OneId);

        var two = modelBuilder.Entity<Two>();
        two.ToTable("Two");
        two.HasKey(d => new
                            {
                                d.OneId,
                                d.TwoId
                            });
        two.Property(p => p.TwoId)
            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);
        two.HasRequired(t => t.One)
            .WithMany(o => o.Twos)
            .HasForeignKey(o => o.OneId);
        base.OnModelCreating(modelBuilder);
    }
} 
```

当我运行这段代码时，我会`Why is this printed?`打印到我的控制台 - 我不希望你可以看到应该填写导航属性（我什至明确包含它）：

```
using (var ctx = new TestContext(@"......"))
{
    const string oneId = "111348718";
    var one = ctx.Ones.Single(o => o.OneId.Equals(oneId));

    if (one != null)
    {
        var sdi = ctx
            .Twos
            .Include(s => s.One)
            .Single(s => s.OneId.Equals(oneId));

        if (sdi.One == null)
        {
            Console.WriteLine("Why is this printed?");
        }
        else
        {
            Console.WriteLine("This is what I expect");
        }
    }
} 
```

现在，**这真的很奇怪**：如果我只是从类中注释掉该`DeliveryDate`属性，`One`它就可以正常工作（我会`This is what I expect`打印到控制台）。

这里有什么问题，我该如何解决？

*注意：如果我查看变量`DeliveryDate`上的属性，`one`它已正确设置为预期值，因此数据库中的日期必须是正确的，并且实体框架完全能够实现它。*

**更多信息：** 它是一个日期这一事实并不重要 - 如果是这样，说一个 nvarchar 它仍然失败 - 似乎任何简单的属性都会导致整个事情崩溃 - 这对我来说就像一个错误......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T15:05:23.140

好的，所以我已经深入了解了，我认为这是实体框架中的一个错误，但我可以解决它。这是什么...

**Two 表中的 OneId 列末尾有一个空格。**

是的 - 去想象 - 那有多可怕！？

所以我敲了一个 sql 脚本，`LTRIM(RTRIM(`它对数据库中的每个 nvarchar 列都执行了一次，一切正常。

现在，鉴于 SQL 服务器不关心空格（正如问题中带有 join 的查询所证明的那样），我真的不喜欢 Entity Framework 确实关心，尤其是因为它在这里完全奇怪且不一致。当然，我调用填充变量的点`Single`应该`sdi`已经抛出，或者导航属性应该已经填充 - 一个或另一个，但这种行为真的很混乱（在我看来） - 一些任意属性与鱼价？？

只是为了完整起见，这里真的很简单地重现了这一点。创建一个新数据库，然后在其上运行此 SQL 脚本：

```
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[One](
    [OneId] [nvarchar](10) NOT NULL,
    [SomeInt] [int] NOT NULL,
 CONSTRAINT [PK_Delivery] PRIMARY KEY CLUSTERED 
(
    [OneId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

CREATE TABLE [dbo].[Two](
    [TwoId] [int] NOT NULL,
    [OneId] [nvarchar](10) NOT NULL,
 CONSTRAINT [PK_DeliveryItem] PRIMARY KEY CLUSTERED 
(
    [TwoId] ASC,
    [OneId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

INSERT INTO Two(TwoId, OneId) VALUES (1, '1 ')
INSERT INTO One(OneId, SomeInt) VALUES ('1', 1.0) 
```

现在创建 ac# 控制台应用程序，添加对*EntityFramework*（版本 4.3.1）和*System.Data.Entity*程序集的引用，将这段代码放入并运行它 - 它会打印`SHOULD NOT BE PRINTED!!!`.

```
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Data.Entity;
using System.Linq;

namespace EFTest
{
    public class Two
    {
        public int TwoId { get; set; }
        public string OneId { get; set; }
        public virtual One One { get; set; }
    }

    public class One
    {
        public string OneId { get; set; }
        public virtual ICollection<Two> Twos { get; private set; }

        // Comment out this property and it will work
        public int SomeInt { get; set; }

        public void AddTwo(Two two)
        {
            if (two == null)
                throw new ArgumentNullException("two");

            if (Twos == null)
                Twos = new List<Two>();

            if (!Twos.Contains(two))
                Twos.Add(two);

            two.One = this;
        }
    }

    public class Context : DbContext
    {
        public Context(string connectionString)
            : base(connectionString)
        {
            Configuration.LazyLoadingEnabled = true;
            Ones = Set<One>();
            Twos = Set<Two>();
        }

        public DbSet<One> Ones { get; private set; }
        public DbSet<Two> Twos { get; private set; }

        protected override void OnModelCreating(DbModelBuilder modelBuilder)
        {
            modelBuilder
                .Entity<One>()
                .HasKey(d => d.OneId)
                .ToTable("One");

            var two = modelBuilder.Entity<Two>();
            two.ToTable("Two");
            two.HasKey(d => new
                                {
                                    d.OneId,
                                    d.TwoId
                                });

            two.Property(d => d.TwoId)
                .HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);

            two.HasRequired(m => m.One)
                .WithMany(t => t.Twos)
                .HasForeignKey(d => d.OneId);

            base.OnModelCreating(modelBuilder);
        }
    }

    internal class Program
    {
        private static void Main()
        {
            using (var ctx = new Context(@"your connection string"))
            {
                const string oneId = "1";
                var one = ctx.Ones.Single(o => o.OneId.Equals(oneId));

                if (one == null)
                {
                    Console.WriteLine("No row with one ID in the database");
                    return;
                }

                var two = ctx
                    .Twos
                    .Include(s => s.One)
                    .Single(s => s.OneId.Equals(oneId));

                Console.WriteLine(two.One == null
                                      ? "SHOULD NOT BE PRINTED!!!"
                                      : "SHOULD BE PRINTED");
            }
        }
    }
} 
```

然后执行以下操作之一：

*   注释掉类`SomeInt`上的属性`One`
*   删除数据库中的空间 ( `UPDATE Two SET OneId = RTRIM(OneId)`)。

两者都可以（显然修剪是现实生活中唯一合理的修复方法）。

# sql - 使用行号的记录的新序列号

> ID：11776671
> 
> 赞同：1
> 
> 时间：2012-08-02T11:41:17.490
> 
> 标签：sql, vb.net, ms-access

我有一个包含“id”和“name”列的表

```
id Name
1  John
2  Peter
3  Alex
4  Robin
5  Mario 
```

因此，当我删除记录“3 Alex”时，它应该如下所示。我知道可以使用行号，但我不知道该怎么做。我需要一个合适的 sql 才能在 vb.net（或访问）中使用。

```
id Name
1  John
2  Peter
3  Robin
4  Mario 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T13:54:58.983

创建临时表：

```
DECLARE @tbl TABLE(
[Name] VARCHAR(64) NULL
, OldID INT NULL
, NewID INT INCREMENT(1,1)
) 

INSERT INTO @tbl
 (
 [Name]
 , OldID
 )
 SELECT
 [Name]
 , ID
 FROM
   OriginalDataTable
 WHERE
    ID  NOT IN (4, 5) ' actually 3 for your example
 ORDER BY
   ID

SELECT
 [Name]
 , NewID ID
FROM
  @tbl
ORDER BY 
 NewID 
```

我有点假设您真的不想更改实际 ID，因为如上所述这不是好的做法。

# mediaelement.js - mediaelementplayer 从特定位置播放

> ID：11776673
> 
> 赞同：0
> 
> 时间：2012-08-02T11:41:17.987
> 
> 标签：mediaelement.js

我怎样才能从特定位置玩这个球员。实际上我有播放的秒数，我需要从这个指定的位置开始播放视频。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-15T13:56:47.137

你应该使用

```
mediaElement.setCurrentTime(10); 
```

其中 mediaElement 是视频实例。

我在以下代码中使用它来使视频在达到指定时间后跳回时间码：

```
$('#video').mediaelementplayer({
    success: function (mediaElement) {                      
        mediaElement.addEventListener('timeupdate', function(e) {
            //console.log(mediaElement.currentTime)                                         
            if(mediaElement.currentTime > 80 ) mediaElement.setCurrentTime(10);                 
        }, false);                  
     }
 }); 
```

# c# - EF排序问题

> ID：11776683
> 
> 赞同：2
> 
> 时间：2012-08-02T11:42:30.397
> 
> 标签：c#, linq, entity-framework, lambda, linq-to-entities

linq 表达式有问题。我想从 db 中获取一些按日期时间排序的数据。早期有按字符串字段排序。排序表达式（按字符串）：

```
Expression<Func<Matter, Object>> result = e => e.MatterNumber;
//In debug mode: {e => e.MatterNumber} 
```

工作正常

排序表达式（按日期时间或整数）：

```
Expression<Func<Matter, Object>> result = e => e.Created;
//In debug mode: {{e => Convert(e.Created)}} 
```

这会引发错误：**{“无法将类型 'System.Int32' 转换为类型 'System.Object'。LINQ to Entities 仅支持转换实体数据模型原始类型。”}**

请帮忙 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:56:04.130

alexei，你可能想看看这个 SO 问题：

[实体框架：LINQ to Entities 仅支持转换实体数据模型原始类型](https://stackoverflow.com/questions/1145847/entity-framework-linq-to-entities-only-supports-casting-entity-data-model-primi)

或者这里的这个：

[帮助我理解“LINQ to Entities 仅支持转换实体数据模型原始类型”](https://stackoverflow.com/questions/4953946/help-me-understand-linq-to-entities-only-supports-casting-entity-data-model-pri)

最后是这样：

[Entityframework 4.0 .CreateQuery<T> 和 OrderBy 异常](https://stackoverflow.com/questions/3033787/entityframework-4-0-createqueryt-and-orderby-exception)

在 forums.asp.net 上：

[http://forums.asp.net/t/1580414.aspx/1](http://forums.asp.net/t/1580414.aspx/1)

所有 4 都以略有不同的方式处理此问题，但希望对您的方案有所帮助。

# wordpress - 如何仅显示自定义帖子类型的精选帖子？

> ID：11776687
> 
> 赞同：2
> 
> 时间：2012-08-02T11:42:39.827
> 
> 标签：wordpress, custom-fields, custom-post-type

早上好，

我创建了一个自定义帖子类型 - 产品 - 并为该自定义帖子类型创建了一个自定义字段 - 特色产品 - 使用高级自定义字段插件。当我创建自定义字段时，我使用了 True/False 字段类型。

我试图只显示那些选中了 features_product 复选框的产品帖子。

这是我当前的代码：

```
<?php query_posts(array(
'posts_per_page' => 3,
'post_type' => 'products',
'orderby' => 'post_date',
'paged' => $paged
)
); ?>

<?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>

<?php if(get_field('featured_product')){ ?>

<div id="post-<?php the_ID(); ?>" class="cpt">
<h2><?php the_title(); ?></h2>
<?php
if ( has_post_thumbnail() ) {
    the_post_thumbnail('excerpt');
}
?> 
<?php the_excerpt(); ?>
<ul class="prod_detail">
<li><a href="<?php the_field('product_detail_page'); ?>">Learn More</a></li>
<li><a href="<?php the_field('purchase_link'); ?>">Place Order</a></li>
</ul>
</div>

<?php } ?>

<?php endwhile; ?>

<?php wp_reset_query(); ?> 
```

问题是它只返回一个帖子 - 但我有 3 个帖子被选中。

我在这里做错了什么？

非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-04T20:01:04.370

我想到了 ：）

```
<?php query_posts(array(
'posts_per_page' => 3,
'post_type' => 'products',
'orderby' => 'post_date',
'meta_key' => 'featured_product', // the name of the custom field
'meta_compare' => '=', // the comparison (e.g. equals, does not equal, etc...)
'meta_value' => 1, // the value to which the custom field is compared. In my case, 'featured_product' was a true/false checkbox. If you had a custom field called 'color' and wanted to show only those blue items, then the meta_value would be 'blue'
'paged' => $paged
)
); ?>

<?php if ( have_posts() ) while ( have_posts() ) : the_post(); ?>

<div id="post-<?php the_ID(); ?>" class="cpt">
<h2><?php the_title(); ?></h2>
<?php
if ( has_post_thumbnail() ) {
    the_post_thumbnail('excerpt');
}
?> 
<?php the_excerpt(); ?>
<ul class="prod_detail">
<li><a href="<?php the_field('product_detail_page'); ?>" target="_blank">Learn More</a></li>
<li><a href="<?php the_field('purchase_link'); ?>" target="blank">Place Order</a></li>
</ul>
</div>

<?php endwhile; ?>

<?php wp_reset_query(); ?> 
```

# oracle - 替代 Oracle 上名为“DATE”的列

> ID：11776689
> 
> 赞同：1
> 
> 时间：2012-08-02T11:42:44.273
> 
> 标签：oracle

我正在将数据库迁移到 Oracle，其中保留了“DATE”一词。我可以使用什么替代方案？你们都用哪一个？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:46:46.900

给列名提供更多上下文的好机会：`REG_DATE`, `UPD_DATE`, `EXPIRATION_DATE`,`BIRTHDATE`等等

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T11:47:10.777

您可以将日期列名称与其连接的项目相关联。假设您有一张包含发票的表格，您的日期列可以命名为`invoice_date`或`invoice_dat`。

对我来说，这看起来非常好读，它使带有连接操作的语句更具可读性。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T12:26:58.083

虽然不是推荐的做法，但可以`DATE`通过将其括在双引号中来用作列名，如

```
CREATE TABLE TEST_TAB
  (NUM_COL   NUMBER,
   "DATE"    DATE); 
```

例如，如果您的查询经常使用此列名并且不愿意更改它，则这是一个选项。这样做的一个缺点是，您必须在使用它的任何地方将列名放在双引号中，如

```
SELECT *
  FROM TEST_TAB
  WHERE "DATE" BETWEEN TRUNC(SYSDATE)
                   AND TRUNC(SYSDATE) + INTERVAL '1' DAY - INTERVAL '1' SECOND 
```

总体而言，最好遵循@stb 或@Thilo 的建议将名称更改为更有意义的名称。

分享和享受。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-25T11:54:21.487

我建议使用`DT`or `TS`(TimeStamp) or `DATEX`or`DATE_`名称。

如果您在单个表中有多个日期列，请`_DATE`用作后缀或`DATE_`前缀。

或者`"DATE"`用双引号括起来，但`DT`更短。

# ruby-on-rails - Rails：我已经设计了可确认的安装，但我想要一个单独的邮件来联系我和其他功能

> ID：11776690
> 
> 赞同：0
> 
> 时间：2012-08-02T11:42:51.153
> 
> 标签：ruby-on-rails, devise, actionmailer, devise-confirmable

**导轨 3**

我目前已经安装了可确认的设计，并且一切正常。我的问题是，我怎样才能为应用程序的其他部分提供单独的邮件？

我希望发生的事情：
我想要一个联系我的表单，或者我想要用户填写的其他表单，这些表单会通过电子邮件发送给管理员以供审核。

设计也可以处理这个吗？还是我需要运行一个单独的邮件程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:48:27.033

是的，您可以有单独的邮件程序，最好有单独的邮件程序，而不是让设备处理所有邮件。

ActionMailer 基础知识：http: [//guides.rubyonrails.org/action_mailer_basics.html](http://guides.rubyonrails.org/action_mailer_basics.html)

# android - 使用 Phonegap 构建 Android 应用程序并包含 HTML5 和 Jquery Mobile

> ID：11776693
> 
> 赞同：0
> 
> 时间：2012-08-02T11:42:57.187
> 
> 标签：android, cordova

我是新的 phonegap 开发人员，想知道如何在离线 Android 应用程序中包含 HTML 和 JS 文件。

我试过[这个链接](http://wiki.phonegap.com/w/page/16494774/Getting%20started%20with%20Android%20PhoneGap%20in%20Eclipse)，但它不工作。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:45:14.710

官方文档更新（PhoneGap 2.0.0）[http://docs.phonegap.com/en/2.0.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android](http://docs.phonegap.com/en/2.0.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)

# android - ImageView 冲突

> ID：11776696
> 
> 赞同：0
> 
> 时间：2012-08-02T11:43:07.217
> 
> 标签：android, android-imageview, collision

在我的游戏中，我有矩形`ImageView`，从屏幕顶部掉下来。在底部有另一个`ImageView`可以用加速度计移动。

现在我想检查一下，从顶部掉落的 's 是否与底部的`ImageView`'s 发生碰撞。`ImageView`我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:52:38.257

我不确定您是否可以碰撞，但您仍然可以使用 getMeasuredWidth() 和 Height() 来确定您的方形边界框。然后看看两个正方形的边缘中是否有任何一个在相对的边界框中......

```
if((square1.x > square2.x && square1.x < square2.x+square2.width) && (square1.y > square2.y && square1.y < square2.y+square2.height))
//collision happened 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-20T05:17:04.260

尝试这个。此函数检测 2 个 ImageView 之间的冲突

```
public boolean collision(ImageView a, ImageView b){
    float bl = a.getY();
    float bt = a.getX();
    float br = a.getWidth() + bl;
    float bb = a.getHeight() + bt;
    float pl = b.getY();
    float pt = b.getX();
    float pr = b.getWidth() + pl;
    float pb = b.getHeight() + pt;
    if (bl <= pr && bl >= pl && bt >= pt && bt <= pb) {
        return true;

    } else if (br >= pl && br <= pr && bb >= pt && bb <= pb) {
        return true;
    } else if (bt <= pb && bt >= pt && br >= pl && br <= pr) {
        return true;
    } else if (bb >= pt && bb <= pb && bl >= pl && bl <= pr) {
        return true;
    }
    return false;
} 
```

# visual-studio - 如何在 Visual Studio 2012 中快速打开文件

> ID：11776697
> 
> 赞同：134
> 
> 时间：2012-08-02T11:43:11.683
> 
> 标签：visual-studio, visual-studio-2012

我正在尝试 VS2012 RC，但发现一个好功能不再可用（或者如果它仍然可用，请告诉我）：在 VS2010 中，如果我知道文件名，例如，`MyFile.cs`我可以通过键入`Ctrl`+ `D`(或分配的任何快捷方式）转到查找工具，然后键入`>of myfile.cs`，然后将打开文件，这将更方便地对文件名进行增量搜索。在整个过程中，我根本不需要使用鼠标。

VS2012中新的快速启动工具只搜索打开的文件，这真的不是我想要的。VS2012 是否支持此功能？是这样或者是否存在类似的方式，请告诉我。

* * *

## 回答 #1

> 赞同：245
> 
> 时间：2012-08-02T14:59:45.567

我使用`Ctrl`+`;`然后*文件名*然后`enter`然后`enter`。

* * *

## 回答 #2

> 赞同：147
> 
> 时间：2013-01-16T09:49:22.610

在 Navigate To 中查看 EDIT 菜单... 键盘快捷键是`Ctrl`+`,`

* * *

## 回答 #3

> 赞同：81
> 
> 时间：2013-12-13T02:20:07.970

我希望有一个简单的快捷方式可以在解决方案中打开文件。

这三个很接近，但没有一个是完美的。

1.  `Ctrl`+`;`有延迟，并且在您打开文件后不会清除您的搜索。

2.  `Ctrl`+`,`最初花费的时间太长，它会显示方法名称等，如果您只想打开文件，则会显示很多不相关的结果。

3.  使用命令行窗口，您必须输入`open`or `of`，但在某些情况下，这可能/可能是最快的。

    点击`Ctrl`++`Alt`打开`A`命令行窗口，然后输入`of your_filename`

    ![动作截图](../Images/847580fb65837e03195898998346b2ae.png)

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2012-09-26T19:34:05.497

您可以将它放回标准工具栏，如下所示。

*   右键单击工具栏并选择自定义
*   转到命令选项卡
*   选择工具栏单选按钮
*   然后从组合框中选择标准
*   选择添加命令按钮
*   从类别列表中选择编辑
*   然后从命令列表中找到并选择“Go To Find Combo”，然后按 OK
*   将其移动到您希望它出现在工具栏中的位置，然后按关闭以保存它。

完毕！

//*尔金

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2016-12-08T11:45:05.950

实际上，有很多方法可以在不接触鼠标的情况下切换到文件。

`Ctrl`+`,`并输入文件名：切换到所选文件（我认为这是您需要的）

`Ctrl`+ `-`: 切换到之前打开的文件
`Ctrl`+ `Shift`+ `-`: 以相反的顺序执行相同的操作

`Ctrl`+ `Tab`：再次切换到上一个文件
`Ctrl`+ `Shift`+ `Tab`：以相反的顺序执行相同的操作

`Ctrl`长按多次`Tab`：切换到选中的文件
长按`Ctrl`，`Tab`松开`Tab`，再用`Arrow`键选中文件：切换到选中的文件

**更新：**
[这](https://stackoverflow.com/questions/1003445/key-shortcut-in-visual-studio-to-open-a-file-inside-your-solution/44164379#44164379)是较新版本的**Visual Studio**（2017、2019）的解决方案

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2014-01-10T00:16:21.020

由于我不关心这些仅用于定位文件的任何方法，因此我在 VS 2012 中使用[VSFileNav 扩展名](http://visualstudiogallery.msdn.microsoft.com/cfdf85c2-aaa4-4bdd-b8ea-e22bcc9860af)。如果您知道文件名或其中的一部分，它比大多数其他方法要快得多，尤其是对于大型解决方案。我大多只使用解决方案资源管理器搜索我记得对象名称但不记得文件名的实例。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-03-25T09:32:59.337

尝试使用“代码”命令在 VS 中快速打开已保存/新文件。

对于 Mac 用户 Press `command+shift+p`，将在 VS 顶部打开一个搜索栏

搜索code，“Install code command in PATH”会提示按回车。

**现在可以使用代码文件名或代码 -r 文件名打开任何文件或新文件

# java - 枚举类型中静态块的执行顺序 wrt 到构造函数

> ID：11776698
> 
> 赞同：12
> 
> 时间：2012-08-02T11:43:12.653
> 
> 标签：java, enums, jls

这是来自有效的 Java ：

```
// Implementing a fromString method on an enum type
  private static final Map<String, Operation> stringToEnum
      = new HashMap<String, Operation>();

  static { // Initialize map from constant name to enum constant
    for (Operation op : values())
      stringToEnum.put(op.toString(), op);
  }

  // Returns Operation for string, or null if string is invalid
  public static Operation fromString(String symbol) {
    return stringToEnum.get(symbol);
  } 
```

> 请注意，Operation 常量从创建常量后运行的静态块放入 stringToEnum 映射。试图让每个常量从其自己的构造函数中将自己放入映射中会导致编译错误。这是一件好事，因为如果它是合法的，它会导致 NullPointerException。不允许枚举构造函数访问枚举的静态字段，编译时常量字段除外。这个限制是必要的，因为这些静态字段在构造函数运行时还没有被初始化。

我的问题是关于这条线：

> “请注意，操作常量是从创建常量后运行的静态块中放入 stringToEnum 映射的”。

我认为静态块在构造函数运行之前被执行。它们实际上是在类加载期间执行的。

我在这里想念什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-02T12:02:21.243

我将您的问题理解为：为什么可以保证在运行静态块之前初始化枚举常量。答案在[JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9)中给出，具体例子在[#8.9.2.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e12220)中给出，解释如下：

> 静态初始化从上到下发生。

并且枚举常量是隐式最终静态的，并且在静态初始化程序块之前声明。

**编辑**

这种行为与普通班级没有什么不同。下面的代码打印：

```
In constructor: PLUS
PLUS == null MINUS == null

In constructor: MINUS
PLUS != null MINUS == null

In static initialiser
PLUS != null MINUS != null

In constructor: after static
PLUS != null MINUS != null 
```

```
public class Operation {

    private final static Operation PLUS = new Operation("PLUS");
    private final static Operation MINUS = new Operation("MINUS");

    static {
        System.out.println("In static initialiser");
        System.out.print("PLUS = " + PLUS);
        System.out.println("\tMINUS = " + MINUS);
    }

    public Operation(String s) {
        System.out.println("In constructor: " + s);
        System.out.print("PLUS = " + PLUS);
        System.out.println("\tMINUS = " + MINUS);
    }

    public static void main(String[] args) {
        Operation afterStatic = new Operation ("after static");
    }    
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:50:50.217

当`static`类加载器加载类时，块按出现顺序执行（您可以有多个静态块），例如。它在构造函数之前运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:50:07.553

`Operation`常量是按出现顺序在静态块中创建的静态字段。

```
static { 
    // instantiate enum instances here
    ...
    // Initialize map from constant name to enum constant     
    for (Operation op : values())       
       stringToEnum.put(op.toString(), op);   
} 
```

# c# - 更新数据库表

> ID：11776704
> 
> 赞同：0
> 
> 时间：2012-08-02T11:43:38.937
> 
> 标签：c#, .net, database

我想知道是否有人可以向我解释这一点：

我用我的一个数据库中的数据创建了一个数据行

```
DataRow table = sessions.Tables["Sessions"].Rows[position]; 
```

然后我对其进行一些更改并使用如下更新命令：

```
da.Update(sessions, "Sessions"); 
```

我的问题是，为什么“会话”数据库会使用“DataRow 表”中的值进行更新？我只是把值拿出来..

如果我想制作 DataRow table1 和 DataRow table2，同时更改它们，然后再决定使用哪一个怎么办？

如果需要，其余代码在此线程中。

[在数据库中插入一行](https://stackoverflow.com/questions/11773201/inserting-a-row-into-a-database)

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:25:54.793

table1 和 table2 等都引用了表中相同的 DataRow 对象。

当你使一个变量等于一个对象（DataRow）时，它只持有对该对象的引用。

如果您希望 table1 或 table2 仅具有 DataRow 的*副本*，则必须创建一个*新*DataRow 并相应地复制列和数据。

# python - 请说明套装顺序

> ID：11776707
> 
> 赞同：-1
> 
> 时间：2012-08-02T11:43:45.677
> 
> 标签：python, set

我发现了一些`set`在 Python 中使用 s 的代码。我试图用列表来模拟它们，但是`pop()`从它们中得到不同的结果！

我打开 Ipython 来测试这些东西是如何工作的，发现了一些很奇怪的东西：

```
In [16]: x
Out[16]: set([])

In [17]: x.add("a")

In [18]: x.add("b")

In [19]: x.add("c")

In [20]: x
Out[20]: set(['a', 'c', 'b']) 
```

不应该`'b'`出现*在*c 之前，因为它是在它之前添加的？我不明白这一点。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-02T11:45:49.750

[http://docs.python.org/library/stdtypes.html#set](http://docs.python.org/library/stdtypes.html#set)

> 作为无序集合，集合不记录元素位置或插入顺序。因此，集合不支持索引、切片或其他类似序列的行为。

[一个集合的底层数据结构是一个哈希映射，这里](http://en.wikipedia.org/wiki/Hash_table)有很多关于这些的信息。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-02T11:50:49.270

如果您查看[维基百科的设置条目](http://en.wikipedia.org/wiki/Set_(computer_science))，他们会说

> 抽象数据结构是数据的集合或聚合。数据可以是布尔值、数字、字符或其他数据结构。如果考虑包装[1]或索引产生的结构，[2]有四种基本数据结构：[3][4]
> 
> 未打包，未索引：捆绑
> **打包，未索引：设置**
> 未打包，索引：字符串（序列）
> 打包，索引：列表（数组）

所以集合是*未索引*的，或者没有以特定方式排序。

python 文档同意这一点（总是检查文档，Python 有一些我见过的最好的）：

[5.7\. 设置类型](http://docs.python.org/library/stdtypes.html#set-types-set-frozenset)

> 集合对象是**不同的可散列对象的无序集合**。常见用途包括成员资格测试、从序列中删除重复项以及计算数学运算，例如交集、并集、差分和对称差分。（对于其他容器，请参阅内置的 dict、list 和 tuple 类以及集合模块。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T15:53:48.290

除了[jamylak](https://stackoverflow.com/a/11776732/289011)和[crashmstr](https://stackoverflow.com/a/11776807/289011)给你的好答案，你可以通过一个例子自己看。

```
>>> stringA="A"
>>> stringB="B"
>>> hash(stringA)
-269909568
>>> hash(stringB)
-141909181
>>> mySet = set()
>>> mySet.add(stringB)
>>> mySet.add(stringA)
>>> mySet
set(['A', 'B']) 
```

所以我在集合中插入了“B”而不是“A”。为什么它显示“A”，“B”（当列表保持顺序时？）。好吧，看看为字符串“A”和“B”计算的哈希值。哪个更小？如果你对一个字典做同样的事情，其中​​的键是那些散列，会发生什么？：

```
>>> myDict = {-141909181: "B", -269909568: "A"}
>>> myDict
{-269909568: 'A', -141909181: 'B'} 
```

也许这有助于理解这些集合。

# c# - 为什么我的 DropDownList 总是返回 0 值？

> ID：11776710
> 
> 赞同：1
> 
> 时间：2012-08-02T11:43:49.617
> 
> 标签：c#, asp.net-mvc, razor, html-select

我有一个带有下拉列表和几个列表的网站。目的是：如果您在下拉列表中选择一个名称，列表应该填充与所选名称相关的数据。

如果您在下拉列表中选择另一个名称，则始终返回与 0 索引相关的名称。

**我必须在源中更改什么，以便显示我选择的名称？**

**以及如何为 ViewBag.ID_Artiest 提供所选名称的“键”值？**

```
<form id="form1" runat="server">
    <label for="ArtiestenLijst">Selecteer artiest:</label>

    <% using (Html.BeginForm("OnChange", "HitdossierController", FormMethod.Post, new { ID_Artiest = "DoChange" })) %>
    <% { %>
        <%= Html.LabelFor(x => x.ID_Artiest)%>
        <%= Html.DropDownListFor(
                x => x.ID_Artiest,
                new SelectList(ViewBag.ArtiestenLijst, "Value", "Text"),
                "-- Selecteer artiest --",
                new
                {
                    @onchange = @"this.form.submit();"
                })%>
    <%} %> <br />
    <br />
    <div id="divPartialView">
        <%= Html.Action("Detail_Hitdossier", new { AID_Artiest = ViewBag.ID_Artiest })%> <br />
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:49:39.987

问题很可能是当您发回控制器时，您没有使用下拉列表重新填充“ViewBag.ArtiestenLijst”。我会使用模型来存储您的值，而不是使用 ViewBag。这样，当您从帖子返回视图时，它仍将包含您的项目列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-03T08:45:52.040

谢谢你们的快速响应。

我通过使用**FormCollection**找到了解决方案。选择后，我再次调用操作索引，但重载为 HttpPost。

在 Index.aspx 中，您可以找到以下代码：

```
<% using (Html.BeginForm("Index", "Hitdossier", FormMethod.Post, new { id = "frmArtiest" })) %>
<% { %>
    <label for="ArtiestenLijst">Selecteer artiest:</label>
    <%= Html.DropDownList("ID_Artiest",
            new SelectList(ViewBag.ArtiestenLijst, "Value", "Text"),
            "-- Selecteer artiest --",
            new
            {
                @onchange = "document.getElementById('frmArtiest').submit();"
            })%>
    <br />
    <br />
    <div id="divPartialView">
        <%= Html.Action("Detail_Hitdossier", new { AID_Artiest = ViewBag.ID_Artiest })%> <br />
    </div>
<%} %> 
```

...在控制器中，您有以下**ActionResult**：

```
public ActionResult Index(int? AID_Artiest=810000)
{
    ReadSelectie(AID_Artiest.Value);

    ViewBag.ID_Artiest = _ArtiestInfoModel.ID_Artiest;
    ViewBag.ArtiestenLijst = _ArtiestInfoModel.ArtiestenLijst;

    return View();
}

[HttpPost]
public ActionResult Index(FormCollection ACollection)
{
    int iID_Artiest;
    int.TryParse(ACollection["ID_Artiest"], out iID_Artiest);
    return Index(iID_Artiest);
}

public ActionResult Detail_Hitdossier(int? AID_Artiest)
{
    int iID_Artiest = AID_Artiest ?? 810000;

    return View(GetArtiestData(iID_Artiest));
} 
```

# c++ - 从 Python 扩展调用 C++ 虚拟成员崩溃

> ID：11776711
> 
> 赞同：1
> 
> 时间：2012-08-02T11:43:52.993
> 
> 标签：c++, python, python-extensions

我正在尝试围绕一些 C++ 类编写一个薄包装器，以便从 Python 调用它们。具体的问题是，如果`virtual`下面没有注释，那么尝试创建`Foo()`解释器就会崩溃。我没有兴趣将此代码重写为 Boost::python、SWIG 或 Pyxxx 来解决这个问题 - 这是从一个更大的系统中提取的我想知道它为什么会发生，尽管如果这些库中的任何一个解决了这个问题我很想知道他们是如何实现它的。如果我在系统中设置扩展模块并注册类型，那么来自 Python 解释器的调用可以毫无问题地工作，无论是使用`extern "C"`类中的静态成员还是仅使用类中的静态成员来在 Python 类型的插槽中注册。

如果我声明一个成员是虚拟的，那么尝试调用它（在 Python 解释器的调用中）会导致内存访问错误的崩溃。如果我将类成员打印为指针，访问的地址是我得到的偏移量。我有特定的代码要遵循，但基本问题是：Python 调用的 C 运行时环境中的某些东西是否会破坏虚拟类成员函数的发送？Python 是 v2.6.7，C++ 扩展是由 GCC 4.2.1 编译的。有相关问题提示Boost::python支持这个，是直接做还是通过类成员函数模拟？

```
// PythonType is a class that inherits from PyTypeObject and fills in defaults ...

extern "C" int initHook(PyObject *self, PyObject *args, PyObject *kwds);
class Foo
{
public:
static PythonType thePyType;
  static void registerType(PyObject *module)
  {
    thePyType.tp_init = initHook;
    PyType_Ready(&thePyType);
    PyModule_AddObject(module, thePyType.tp_name, (PyObject*)&thePyType);
  }

  /*virtual*/ void insert()
  {
    printf("Inserted\n");
  }
};
PythonType Foo::thePyType("Foo",sizeof(Foo));
extern "C" {
  int initHook(PyObject *self, PyObject *args, PyObject *kwds)
  {
    ((Foo*)self)->insert();
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:15:02.820

谢谢 Let_Me_Be，你的评论让我走上了正轨。问题是 Foo 对象的内存正在被 Python 解释器分配。这并没有在我的其他代码中造成问题，因为它不依赖于正在初始化的 vtable。最简单的解决方案是使用placement-new 来确保实际调用ctor，然后虚拟成员正常工作：

```
 int initHook(PyObject *self, PyObject *args, PyObject *kwds)
 {
    new(self) Foo();
    ((Foo*)self)->insert();
 } 
```

[On VTable pointers 和 malloc](https://stackoverflow.com/questions/7702791/on-vtable-pointers-and-malloc)有更详细的问答。

# android - Android - 如何序列化和反序列化与公共外部存储之间的对象？

> ID：11776715
> 
> 赞同：1
> 
> 时间：2012-08-02T11:44:10.653
> 
> 标签：android, serialization, save, android-sdcard, android-file

我需要将对象保存到公共外部存储（[http://developer.android.com/guide/topics/data/data-storage.html#filesExternal](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)）请向下滚动到“保存应该共享的文件”，即保存文件这样它就不会在应用程序被卸载时被删除。

保存后，我需要从保存的文件中加载对象并显示它。仅使用 int 对象进行测试。请帮忙。

这是我的保存和加载代码

```
int a = 1;
if (Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState()))
{
    String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();
    final File file = new File (path, "int_object_saved.dat");

    FileOutputStream file_output_stream = null;
    ObjectOutputStream object_output_stream = null;
    boolean should_keep_file = true;

    try
    {
        file_output_stream = new FileOutputStream(file);
        object_output_stream = new ObjectOutputStream(file_output_stream);
        object_output_stream.writeObject(a);

    }
    catch (FileNotFoundException e)
    {
        e.printStackTrace();
        should_keep_file = false;
    }
    catch (IOException e)
    {
        e.printStackTrace();
        should_keep_file = false;
    }
    finally
    {
        try
        {
            if(object_output_stream != null)
                object_output_stream.close();

            if(file_output_stream != null)
                file_output_stream.close();

            if(!should_keep_file)
                file.delete();
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }
}
else
{
    Log.d("mytag", "Sorry can't write to external media");
}

int b = 0;
try
{
    FileInputStream file_input_stream;
    file_input_stream = activity_parameter.openFileInput("int_object_saved.dat");
    ObjectInputStream object_input_stream = new ObjectInputStream(file_input_stream);
    b = (Integer) object_input_stream.readObject();
    object_input_stream.close();
}
catch (FileNotFoundException e)
{
    e.printStackTrace();
}
catch (OptionalDataException e)
{
    e.printStackTrace();
}
catch (ClassNotFoundException e)
{
    e.printStackTrace();
}
catch (IOException e)
{
    e.printStackTrace();
}

Log.d("mytag", Integer.toString(b)); 
```

这是我得到的 logcat

```
08-02 12:39:48.382: I/ApplicationPackageManager(13109): cscCountry is not German : BTU
08-02 12:39:48.421: D/mytag(13109): my Log is working :D
08-02 12:39:48.437: W/System.err(13109): java.io.FileNotFoundException: /data/data/j.violajones.facedetect1/files/int_object_saved.dat (No such file or directory)
08-02 12:39:48.437: W/System.err(13109): at org.apache.harmony.luni.platform.OSFileSystem.open(Native Method)
08-02 12:39:48.437: W/System.err(13109): at dalvik.system.BlockGuard$WrappedFileSystem.open(BlockGuard.java:232)
08-02 12:39:48.437: W/System.err(13109): at java.io.FileInputStream.<init>(FileInputStream.java:80)
08-02 12:39:48.437: W/System.err(13109): at android.app.ContextImpl.openFileInput(ContextImpl.java:416)
08-02 12:39:48.437: W/System.err(13109): at android.content.ContextWrapper.openFileInput(ContextWrapper.java:152) 
08-02 12:39:48.437: W/System.err(13109): at j.violajones.facedetect1.Detector.<init>(Detector.java:94) 
08-02 12:39:48.437: W/System.err(13109): at j.violajones.facedetect1.Camera_Activty.onCreate(Camera_Activty.java:72)
08-02 12:39:48.437: W/System.err(13109): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-02 12:39:48.437: W/System.err(13109): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)
08-02 12:39:48.437: W/System.err(13109): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
08-02 12:39:48.437: W/System.err(13109): at android.app.ActivityThread.access$1500(ActivityThread.java:117)
08-02 12:39:48.437: W/System.err(13109): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
08-02 12:39:48.437: W/System.err(13109): at android.os.Handler.dispatchMessage(Handler.java:99)
08-02 12:39:48.437: W/System.err(13109): at android.os.Looper.loop(Looper.java:130)
08-02 12:39:48.437: W/System.err(13109): at android.app.ActivityThread.main(ActivityThread.java:3687)
08-02 12:39:48.445: W/System.err(13109): at java.lang.reflect.Method.invokeNative(Native Method)
08-02 12:39:48.445: W/System.err(13109): at java.lang.reflect.Method.invoke(Method.java:507)
08-02 12:39:48.445: W/System.err(13109): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
08-02 12:39:48.445: W/System.err(13109): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
08-02 12:39:48.445: W/System.err(13109): at dalvik.system.NativeStart.main(Native Method)
08-02 12:39:48.445: D/mytag(13109): 0 
```

这是我的 AndroidManifest.xml 文件

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="j.violajones.facedetect1"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>

    <uses-feature android:name="android.hardware.camera" />
    <uses-feature android:name="android.hardware.camera.autofocus" />

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".Camera_Activty"
            android:label="@string/title_activity_camera__activty"
            android:screenOrientation="landscape" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:59:00.717

错误信息很清楚：

```
java.io.FileNotFoundException: /data/data/j.violajones.facedetect1/files/int_object_saved.dat (No such file or directory) 
```

你没有这样的文件`/data/data/j.violajones.facedetect1/files/int_object_saved.dat`

事实上，您似乎并没有写信到那个位置，因为您使用：

```
String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();
final File file = new File (path, "int_object_saved.dat"); 
```

因此，请尝试从您保存它的位置读取：

```
String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();
FileInputStream file_input_stream = new FileInputStream(path + "/int_object_saved.dat");
/*...*/ 
```

# javascript - JS 和动作脚本

> ID：11776717
> 
> 赞同：1
> 
> 时间：2012-08-02T11:44:39.127
> 
> 标签：javascript, actionscript-3, flash, extjs

我已经构建了一个自定义的 Flash 播放器，它在后台使用 html 和 javascript extjs 框架嵌入到网页中。

播放器嵌入到网页中的 extjs 可拖动窗口中。我知道我可以在网页中从 Flash 播放器和 javascript 发送/接收变量和触发事件。

当我拖动带有播放器的窗口时，如果我快速拖动它，光标会越过播放器并且拖动停止。这是因为当我将鼠标悬停在 Flash 画布上时，从 javascript 拖动事件会停止。

所以我的问题是，有没有办法防止这种情况发生？有没有办法告诉js即使鼠标在flash画布上也继续拖动窗口？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T16:54:18.803

您可以添加嵌套在对象标签中的“wmode”参数标签。将“wmode”的值设置为“透明”。

```
<object ...>
    <param name="wmode" value="transparent">
</object> 
```

或者，如果您正在使用 JavaScript 使用 swfobject 或类似方法创建闪存

```
swfobject.embedSWF('theFile.swf',
            "main-pars-flash_0",
            "480",
            "518",
            "9.0.0",
            "",
            {}, //flashvars 
            {wmode: 'transparent'},  //params
            {} //attributes); 
```

更多信息：http://helpx.adobe.com/flash/kb/transparent-background-swf-file.html

# android - 如何在android中使用arrayadapter在代码中创建布局

> ID：11776718
> 
> 赞同：0
> 
> 时间：2012-08-02T11:44:38.540
> 
> 标签：android, android-arrayadapter

我在这里有这段代码：

```
 CustomAdapter adapter = new CustomAdapter(myActivity.this, R.layout.listitemrow,
                        catalogList);
 myListView.setAdapter(adapter);
 ....

 class CustomAdapter:

 public class CustomAdapter extends ArrayAdapter<String>{

    public CustomAdapter(Activity a, int textViewResourceId, ArrayList<String> tweets){
                ....
    }
    ....
  } 
```

listitemrow 是 android 布局文件夹中的 xml。出于某种原因，我不想使用`R.layout.listitemrow`. 我想使用在代码中创建的 mylayout：

```
 public class myLayout extends RelativeLayout{
      .....
  } 
```

有没有办法做到这一点？像这样：

```
 CustomAdapter adapter = new CustomAdapter(myActivity.this, new myLayout() ,
                            catalogList); 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:54:59.547

您可能应该覆盖`getView()`适配器的方法：

```
public class CustomAdapter extends ArrayAdapter{

    public CustomAdapter(Activity a, int textViewResourceId, ArrayList<String> tweets){
        ....
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View itemview = new myLayout(parent.getContext());
        ...
        return itemView;
    }

   ....
} 
```

# jquery - 将元素放置在 jQuery 之上

> ID：11776720
> 
> 赞同：0
> 
> 时间：2012-08-02T11:44:56.760
> 
> 标签：jquery, html, css

我的网站上有一个弹出式音乐播放器（www.tranceil.fm -> 右键单击​​耳机 -> 弹出式）

该窗口包含一个 jQuery 插件..

在那个 popup.html 上，我向页面添加了流信息，但无论我试图做什么，它都会卡在播放器后面。请注意播放器及其背后的内容。

![在此处输入图像描述](../Images/3bf02e538b0fbd6db685012254eb22e4.png)

我尝试将该 div 定位在不同的位置..尝试 z-index:1000 和绝对元素样式..没有。

这是完整的弹出页面代码。

```
<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Fullwidth Audio Player</title>

        <!-- Style sheets -->
        <link rel="stylesheet" type="text/css" href="css/jquery.fullwidthAudioPlayer.css" />
        <style type="text/css">

            /* RESET */
            html, body, div, span, applet, object, iframe, p, blockquote, pre,
            a, abbr, acronym, address, big, cite, code,
            del, dfn, em, img, ins, kbd, q, s, samp,
            small, strike, strong, sub, sup, tt, var,
            b, u, i, center,
            dl, dt, dd, ol, ul, li,
            fieldset, form, label, legend,
            table, caption, tbody, tfoot, thead, tr, th, td,
            article, aside, canvas, details, embed, 
            figure, figcaption, footer, header, hgroup, 
            menu, nav, output, ruby, section, summary,
            time, mark, audio, video {
                margin: 0;
                padding: 0;
                border: 0;
                font-size: 100%;
                font: inherit;
                vertical-align: baseline;
            }

            /* SET HERE YOUR BACKGROUND COLOR OF THE POPUP WINDOW */
            body {
                background-color: #141414;
            }

        </style>

        <!-- Include js files -->
        <script src="js/jquery.min.js" type="text/javascript"></script>
        <script src="js/jquery-ui.js" type="text/javascript"></script>
        <script src="js/soundmanager2-nodebug-jsmin.js" type="text/javascript"></script>
        <script src="js/jquery.fullwidthAudioPlayer.js" type="text/javascript"></script>
        <script language="javascript" type="text/javascript" src="http://94.23.250.14:2199/system/recenttracks.js"></script>

        <script type="text/javascript">

            //DO NOT CHANGE ANYTHING FROM THIS JAVASCRIPT CODE

            //let target window know that popout window is openend
            function notifyOpener() {
                //close popout when target window gets closed, comment the next line if you dont want that
                if(!self.opener) { self.close(); }

                if(self.opener || !self.opener.fapPopupWin) self.opener.fapPopupWin = self;

            }
            setInterval( notifyOpener, 200 );
            self.focus();

            //some soundmanager settings
            soundManager.url = 'swf/';
            soundManager.flashVersion = 9;
            soundManager.useHTML5Audio = true;

            //functions that will be called from the target window
            function initPlayer(opts, html) {
                opts.wrapperPosition = 'bottom';
                $('#fap-popup').html(html).fullwidthAudioPlayer(opts);

            }

            function addTrack(trackUrl,title,meta,cover,linkUrl) {
                $.fullwidthAudioPlayer.addTrack(trackUrl, title, meta, cover, linkUrl, true);
            }

        </script>

    </head>
    <body>
        <div id="cc_recenttracks_tranceilfm" style= "z-index:1000;" class="cc_recenttracks_list">Loading...</div>
        <!-- Fancy Music Player Container -->
        <div id="fap-popup"></div>
    </body>
</html> 
```

我想要的 div 是：“cc_recenttracks_tranceilfm”

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:57:28.590

您的播放器的 z-index 是`100000`，因此只需使`cc_recenttracks_tranceilfm`元素的索引高于该值（即`100001`或更高）。

另外不要忘记您需要定位元素以使 z-index 生效（通过应用相对、绝对或固定位置）

# php - 如何在自定义帖子类型中添加自定义字段

> ID：11776722
> 
> 赞同：1
> 
> 时间：2012-08-02T11:45:09.977
> 
> 标签：php, wordpress, custom-post-type

我想在我的自定义帖子类型中添加一个自定义字段。我想在自定义帖子类型中添加一个文本字段，但我不知道该怎么做。这是我在主题的functions.php中实现的代码。

```
add_action( 'init', 'register_cpt_advert' );

function register_cpt_advert() {

$labels = array( 
    'name' => _x( 'Adverts', 'advert' ),
    'singular_name' => _x( 'Advert', 'advert' ),
    'add_new' => _x( 'Add New', 'advert' ),
    'add_new_item' => _x( 'Add New Advert', 'advert' ),
    'edit_item' => _x( 'Edit Advert', 'advert' ),
    'new_item' => _x( 'New Advert', 'advert' ),
    'view_item' => _x( 'View Advert', 'advert' ),
    'search_items' => _x( 'Search Adverts', 'advert' ),
    'not_found' => _x( 'No advert found', 'advert' ),
    'not_found_in_trash' => _x( 'No adverts found in Trash', 'advert' ),
    'parent_item_colon' => _x( 'Parent Advert:', 'advert' ),
    'menu_name' => _x( 'Adverts', 'advert' ),
);

$args = array( 
    'labels' => $labels,
    'hierarchical' => false,
    'description' => 'Show image adverts on videos',
    'supports' => array( 'title', 'thumbnail'),
    //'taxonomies' => array( 'category', 'post_tag', 'page-category' ),
    'public' => false,
    'show_ui' => true,
    'show_in_menu' => true,

    'show_in_nav_menus' => true,
    'publicly_queryable' => true,
    'exclude_from_search' => true,
    'has_archive' => false,
    'query_var' => false,
    'can_export' => true,
    'rewrite' => false,
    'capability_type' => 'post'
);
register_post_type( 'advert', $args );
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T09:43:07.443

这个插件对于在任何帖子类型上添加自定义字段非常有用。

[http://wordpress.org/extend/plugins/more-fields/](http://wordpress.org/extend/plugins/more-fields/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T21:25:16.613

如果您想要特定帖子类型的自定义字段，Meta Box 也是一个很棒的插件。

[http://www.deluxeblogtips.com/meta-box/](http://www.deluxeblogtips.com/meta-box/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-28T07:01:15.437

您可以使用[Advanced Custom Fields](https://wordpress.org/plugins/advanced-custom-fields/) Plugin 在使用 CPT UI 创建自定义 Pot Type 时使用此插件

如果您使用生成器生成插件，[请](https://generatewp.com/post-type/)转到此参考 [https://sltaylor.co.uk/blog/control-your-own-wordpress-custom-fields/](https://sltaylor.co.uk/blog/control-your-own-wordpress-custom-fields/)

# android - 在哪里可以找到 Android 中 AndEngine 的俄罗斯方块等游戏的示例代码？

> ID：11776725
> 
> 赞同：1
> 
> 时间：2012-08-02T11:45:17.990
> 
> 标签：android, andengine

我正在使用 AndEngine 做一个基于俄罗斯方块的游戏，但我没有得到任何示例代码来启动这个游戏。因此，如果有任何俄罗斯方块游戏示例，以便我可以研究它并根据我的游戏修改该代码。因此，如果有人知道 AndEngine 中有源代码，请回复？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:52:24.083

AndEngine 中没有多少游戏是开源的。但是，您可以查看向您展示如何使用引擎功能的 AndEngine 示例。从[https://github.com/nicolasgramlich/AndEngineExamples查看它们](https://github.com/nicolasgramlich/AndEngineExamples)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:46:08.973

问制作 AndEngine 的人？和这个人有关。。

[AndEngine 示例不起作用](https://stackoverflow.com/questions/11763518/andengine-examples-not-working)

# matlab - 使用 DAQ 工具箱 MCC 卡触发 Matlab

> ID：11776727
> 
> 赞同：1
> 
> 时间：2012-08-02T11:45:29.890
> 
> 标签：matlab

我需要使用 Matlab 和 MCC USB-2527 卡收集数据。

一切正常，除了触发。这是我的代码：

```
BoardNR=1;
Chan=[0 1 2 3];
fs        = 100   
duration=60

ai        = analoginput('mcc',BoardNR);                                 
ch        = addchannel(ai,Chan);                                
set(ai,'SampleRate',fs);                                       
set(ai,'SamplesPerTrigger',duration*fs);                  
set(ai,'TriggerChannel',ch(3))                %Channel 3 is the position signal of a cyclic movement
set(ai,'TriggerType','Software')
set(ai,'TriggerCondition','Leaving')          %Should trigger when the position signal is not 0
set(ai,'TriggerConditionValue',[0,0])
set(ai,'TriggerDelay',1);
set(ai,'Timeout',5);

%The data collection is started
start(ai);
wait(ai, duration+1)

data=getdata(ai,fs*duration); 
plot(0.01:(1/fs):duration,data);             %Plotting real time vs signals 
```

如果我删除带有触发的部分，我会完美地收集数据。但是，我需要触发，当我运行此代码时，出现错误：“WAIT 在 OBJ 停止运行之前达到超时”。我认为这意味着它停止等待触发信号。我 100% 肯定位置信号每 20 秒左右为 0，所以它应该定义。扳机。

我希望你能帮忙。我已经尝试了一切，包括拥有另一个 TriggerCondition（如 Entering、Rising、Falling）和另一个 TriggerConditionValue。

提前致谢，

亨里克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T07:15:17.010

我不确定，但我认为您必须将 TriggerType 设置为 Manual。命令“propinfo(ai.TriggerType)”应该显示哪些选项是可能的。

我还将 USB 2527 与 MatLab 一起使用；-)

# wordpress - Wordpress - 用户评论显示发布时间 - 而不是评论时间

> ID：11776731
> 
> 赞同：1
> 
> 时间：2012-08-02T11:45:48.657
> 
> 标签：wordpress

在这里查看问题：http: [//www.codywilliamsmma.com/cody-williams-vs-martin-guerra/](http://www.codywilliamsmma.com/cody-williams-vs-martin-guerra/)

如果你看帖子的日期“09/09/2009”，那么看看我在帖子“2 年零 328 天前”评论的时间……等于帖子日期的确切时间！这是非常错误的。自从我今天早些时候发布以来，它应该说类似“3 小时前”。

这是一个名为 WP-Days-Ago 的 wordpress 插件，该插件有很多好评，我不认为问题出在他们的尽头。我认为这是我可能在其中一个评论 php 文件中篡改的东西（因为我自定义构建了这个主题）.. 话虽如此，我仍然不确定。

有谁知道它可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:32:54.570

尝试在编辑器中搜索“日期”并查看 comments.php 文件。

看看它说的是发布日期还是类似的东西？

它看起来应该是这样的：

```
 <?php comment_date('F jS, Y') ?> 
```

# iphone - 如何访问默认的 iOS 声音以将其设置为通知声音？

> ID：11776737
> 
> 赞同：11
> 
> 时间：2012-08-02T11:46:28.120
> 
> 标签：iphone, objective-c, ios, notifications, uilocalnotification

如何访问默认的 iOS 声音（Tri-tone、Chime、Glass、Horn、Bell、Electronic...）以将其设置为本地通知声音？

我创建了本地通知，一切正常，但使用默认声音（即三音）。我想使用 Chime 或其他

我只知道如何使用自己的声音文件：

```
localNotif.soundName = @"sound.wav"; 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-02T11:57:44.103

看看[这个](http://iphonedevwiki.net/index.php/AudioServices)网站。

如果要播放默认系统声音。参考以下代码，但私有框架。你会被拒绝。

```
AudioServicesPlaySystemSound(1004); 
```

并查看其他[此](https://developer.apple.com/library/ios/#samplecode/SysSound/)示例代码（无私有框架。支持 Apple）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-18T01:29:10.473

不幸的是，您的应用程序无法使用系统声音。从[文档](http://developer.apple.com/library/ios/DOCUMENTATION/AudioToolbox/Reference/SystemSoundServicesReference/Reference/reference.html#//apple_ref/doc/uid/TP40007916-CH3-SW8)：

> 注意：系统提供的警报声音和系统提供的用户界面声音效果不适用于您的 iOS 应用程序。例如，使用 kSystemSoundID_UserPreferredAlert 常量作为 AudioServicesPlayAlertSound 函数的参数将不会播放任何内容。

**更新**

虽然Apple确实说您无法访问系统声音，但我想它们一定意味着您无法出于自己的目的访问它们，但我看到 UILocalNotification.h 提供：

```
UIKIT_EXTERN NSString *const UILocalNotificationDefaultSoundName; 
```

“标识显示通知警报时要播放的默认系统声音。将此值分配给 soundName 属性。” 我现在在我的应用程序中使用它，它似乎工作正常。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T16:17:14.207

音频服务不是私有的。这些方法记录在开发人员参考指南和[多媒体编程指南](http://developer.apple.com/library/ios/documentation/AudioToolbox/Reference/SystemSoundServicesReference/Reference/reference.html)中。

如果找出您想要播放的声音的参考 id，您需要做的就是。

# jquery - 动态创建的图片行不会触发点击事件

> ID：11776747
> 
> 赞同：4
> 
> 时间：2012-08-02T11:46:56.853
> 
> 标签：jquery

我有一些 jquery 向脚本发出 ajax 请求并返回一些 json 结果。然后解析这些结果并创建一个小图像库。然后将其添加到我的表单中。这一点都很完美....我遇到的问题是我试图触发图像的事件，以便当您单击图像时我可以进行更多处理....但我就是无法让 onclick 到工作...

如果有人有任何指示，我将不胜感激。

```
 $('.imgSel').click(function()
{
    alert("I WORK!!!!");
});

$("#mydiv").change(function(){ 
{
var url = "ajax_pics.php";

$.ajax({
    type: "GET",
    url: url,
    error: function(data){
        console.log("could not get get pics");
    },
    success: function(data){
        console.log(data);
        var pics = jQuery.parseJSON( data );
    $("#imageResultsDiv").remove();
    var imageResults ='<label>Image</label><div id="currImg"></div>';

    imageResults += "<div style='clear:both'></div><ul>";
    imageResults += "<div id='imageResultsDiv'><ul>";
    for(var i in pics) 
    {
        imageResults +="<li>"; 
        imageResults +="<img class='imgSel' id='"+pics[i].filename+"' src='"+pics[i].image+"'  title='"+pics[i].summary+"'>"; 
        imageResults +="<br/><small>"+pics[i].title+"</small>"; 
        imageResults +="</li>";
    }
    imageResults +="</ul>";

    $('#picsplaceholder').before(imageResults);
    }
}); 
```

});

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-02T11:50:06.120

如果我理解正确，那么您正在向 DOM 动态添加元素。

在这种情况下，您不能使用标准的点击绑定，因为它们仅适用于 DOM 中已经存在的元素。

尝试使用[**on()**](http://api.jquery.com/on/)，这是自 jQuery 1.7 以来的首选方法：

```
$('#mydiv').on("click", ".imgSel", function()
{
    alert("I WORK!!!!");
}); 
```

您必须使用最接近的静态元素来绑定，然后指定您希望单击事件应用到的子元素。我认为在你的情况下`$('#mydiv')`是最接近的静态元素。

如果您碰巧使用旧版本的 jQuery，请改用[**delegate()**](http://api.jquery.com/delegate/)。有关不同绑定方法的更多详细信息，以及添加它们的时间以及替换的对象和时间，
请参阅[**这篇文章。**](https://stackoverflow.com/a/11148053/448144)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:59:54.147

弗朗索瓦·瓦尔是对的。这是如何工作的，您在最近的静态“父”元素上添加一个事件处理程序。因此，当在其任何子元素上触发 click 事件时，它会传播到该父元素并触发事件处理程序。

当您向 DOM 添加新元素时，jQuery 不能在它们上注册任何事件处理程序。唯一的选择是将事件处理程序附加到父元素上并让事件向上传播。因此，无论您在 DOM 中添加多少新元素，事件都会在父元素处触发。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-02T11:49:30.763

尝试使用直播活动： [http ://api.jquery.com/live/](http://api.jquery.com/live/)

# language-agnostic - 在 RGB 和 HSL/HSV 之间转换：如何处理溢出？

> ID：11776753
> 
> 赞同：1
> 
> 时间：2012-08-02T11:47:25.770
> 
> 标签：language-agnostic, colors, rgb, hsv, hsl

我已经根据 HSL->RGB 和 HSV->RGB 算法实现了一些功能。
它们大多工作正常，但我不确定什么是正确的做法，然后颜色组件由于转换而溢出。

例如，红色分量最终是，`1.2`而允许的范围是`[0..1]`。如果我将它乘以 255，我显然会得到一个在 RGB 世界中无效的值。

处理这个问题的正确方法是什么——截断（`if > 1 then set to 1`）或环绕（`if > 1 then substract 1`）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T22:16:31.327

如果您正确实现了标准算法并且输入在它们的范围内，则 R、G 和 B 的值不可能超出它们的范围。

你实现了什么算法？

# spring - Spring MVC：网站图标

> ID：11776757
> 
> 赞同：0
> 
> 时间：2012-08-02T11:47:46.283
> 
> 标签：spring, spring-mvc, spring-security, favicon

我正在使用具有这样定义的 Spring MVC：

```
<servlet>
        <servlet-name>spring</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <load-on-startup>0</load-on-startup>
    </servlet>  
    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>/*</url-pattern>
    </servlet-mapping> 
```

但是spring总是默认尝试查找/favicon.ico的问题，因此我无法呈现任何页面。我怎样才能禁用这种行为？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:36:02.583

如果您使用的是 Spring Security，请确保您[已从安全过滤器链](https://stackoverflow.com/questions/11242609/default-spring-security-redirect-to-favicon/11244868#11244868)中省略了 favicon 请求（和任何其他静态资源） 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:56:39.687

它与 spring mvc 无关，但这是您使用的浏览器的默认行为。这也不应该破坏任何东西，即使它没有 ico，你的应用程序也应该正常工作。（除非您专门编码使其在缺少 ico 的情况下失败）

# java - java - 如何在Java中翻译C语言的转换？

> ID：11776758
> 
> 赞同：-1
> 
> 时间：2012-08-02T11:47:45.777
> 
> 标签：java, c, reference, casting

鉴于 C 中的以下声明，我可以这样写

```
char tab[64];
(*(uint32_t*)(tab[0])); 
```

换句话说，应用这种类型的演员表`(*(uint32_t*)`

有没有另一种方法可以在java中实现这个来获取标签的地址？

非常感谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:49:56.790

Java 语言不支持使用指针（算术等）的直接操作。因此，让开发人员直接使用指针是不合理的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:50:49.910

> 有没有另一种方法可以在java中实现这个来获取标签的地址？

不，那里没有。

在 Java 中 a`long[]`和 a`int[]`是根本不同的类型，你不能假装一个是另一个，反之亦然。

简单的解决方案是使用移位和掩码来提取各个`long`值的高 32 位和低 32 位部分。

另一种选择可能是将 long 数组包装在 a 中`LongBuffer`，然后创建它的`IntegerBuffer` *视图*。但这（IMO）很麻烦，实际上只是隐藏了在幕后进行的转移/掩蔽。

* * *

评论指出，问题实际上是将字节数组视为指针数组。

这也不可能......而且没有明智的解决方法。标准 Java 不允许您将位模式转换为指针，反之亦然。（您可以使用一些技巧来做到这一点，但它们从根本上是不安全的，如果您没有完全正确地使用它们，它们很可能会导致您的 JVM 崩溃。）

无论您想要实现什么，您都应该找到一种不同的方式来用 Java 对其进行编码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:49:54.400

您需要使用移位和掩码构造 32 位 int。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T12:23:48.903

Java 中的引用不像 C 中的指针那样是被动的。对象的地址可以随时更改，因此如果 JVM 不知道值是引用，它就无法正确更新它。

从字面上回答您的问题，您可以使用 Unsafe 类来执行此操作，但它仅在您对对象在内存中的布局感兴趣时才有用。更改这些值可能会导致 JVM 随机崩溃。

> 有没有另一种方法可以在java中实现这个来获取标签的地址？

如果您查看为什么要尝试这样做，您可能会发现在 Java 中解决方案完全不同，根本不需要指针。

# c# - MVC 3 部分缓存

> ID：11776761
> 
> 赞同：1
> 
> 时间：2012-08-02T11:47:52.463
> 
> 标签：c#, asp.net-mvc, security, caching, formsauthentication

我知道以前有人问过这个问题，但我对最好的方法感到困惑，所以请原谅我再次问...

我有一个 MVC3 应用程序，它将成为一个外联网，允许用户通过表单身份验证登录。用户将访问机密信息，因此，为了防止有人在他们注销后回击（并且我注销 FormsAuthentication），我禁用了所有缓存，强制重定向到登录页面。

从安全的角度来看，一切都很好，但我的问题是我想缓存页面的非安全元素，例如图像、背景、徽标等。

目前，每个页面都呈现出难看的闪烁，因为我的所有作品每次都被下载。

当然，这也会对带宽产生负面影响。

如何控制缓存以使艺术品、css、脚本等得到缓存，同时防止在 FormsAuthentication SignOut 问题后出现可怕的后退按钮？

先感谢您，

西蒙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:52:38.347

假设图像不是动态生成的，您可以通过 MVC 或使用 IIS 在内部进行。

在内部，您需要提供所有图像并设置过期时间。

如果您使用 IIS，它会变得简单得多，您只需将 IIS 自定义标头部分中的过期标头编辑为将来的日期（过去的日期会自动使其过期）。如果您希望确保不缓存图像，请向其添加查询字符串

```
<img src="image.png?dummy=8sn7ahh2" /> 
```

然后图像也不会被缓存，因此您基本上想要缓存所有图像，然后将不希望缓存的图像列入黑名单（使用查询字符串）。

这是一个关于如何为 IIS7 打开/关闭它的[好例子](http://www.galcho.com/Blog/post/2008/02/27/IIS7-How-to-set-cache-control-for-static-content.aspx)

# spring - 迁移 Eclipselink 时的 Classcastexception 问题，Spring

> ID：11776764
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:02.863
> 
> 标签：spring, eclipselink

我在 Struts2.0.14、Spring 3.0.0M1、Spring Security 3.0.0M2、Eclipselink 1.1.2 中有我的应用程序的工作副本，

现在我正在尝试将其升级到最新版本的框架，所以我放置了 Struts 2.3.4、Spring 3.1.2、Spring security 3.1.1、Eclipselink 2.4.0 jar 文件。

现在，当我运行程序时，它给出了，

```
java.lang.ClassCastException: org.eclipse.persistence.platform.database.oracle.Oracle11Platform cannot be cast to org.eclipse.persistence.internal.databaseaccess.DatasourcePlatform 
```

这是 session.mxl 文件

```
 <!-- server security -->
 <session xsi:type="server-session">
  <name>dbsession_new</name>
  <event-listener-classes/>
  <logging xsi:type="toplink-log"/>
  <login xsi:type="database-login">
     <platform-class>org.eclipse.persistence.platform.database.oracle.Oracle11Platform</platform-class>         
     <user-name>TEMPDB</user-name>
     <password>TEMPPWD</password>
     <sequencing>
        <default-sequence xsi:type="native-sequence">
           <name>Native</name>
        </default-sequence>
     </sequencing>
     <driver-class>oracle.jdbc.OracleDriver</driver-class>
     <connection-url>jdbc:oracle:thin:@11.101.102.42:1521:ORCL</connection-url>
  </login>
  <connection-pools>
     <read-connection-pool>
        <name>ReadConnectionPool</name>
     </read-connection-pool>
     <write-connection-pool>
        <name>default</name>
     </write-connection-pool>
  </connection-pools>
  <connection-policy/> 
```

持久性.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="1.0" xmlns="http://java.sun.com/xml/ns/persistence" 
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
             xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">  
    <persistence-unit name="healthPU" transaction-type="RESOURCE_LOCAL">
        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
        <exclude-unlisted-classes>false</exclude-unlisted-classes>       
        <properties>
            <property name="eclipselink.sessions-xml" value="META-INF/sessions.xml"/>
            <property name="eclipselink.session-name" value="dbsession_new"/>
            <property name="eclipselink.ddl-generation" value="create-tables"/>
            <property name="eclipselink.target-database" value="org.eclipse.persistence.platform.database.oracle.Oracle11Platform"/> 
            <property name="eclipselink.logging.level" value="FINE"/>
            <property name="eclipselink.logging.timestamp" value="true"/>
            <property name="eclipselink.logging.thread" value="true"/>
            <property name="eclipselink.logging.session" value="true"/>
        </properties>
    </persistence-unit>
</persistence> 
```

春季安全 XML

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
    xmlns:beans="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans 
                http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                        http://www.springframework.org/schema/security 
                    http://www.springframework.org/schema/security/spring-security-3.1.xsd">     

    <global-method-security secured-annotations="enabled" />
    <http auto-config="true" access-denied-page="/deniedAccess.jsp">
        <intercept-url pattern="/source/admin/**" access="ROLE_PowerUser" />

        <intercept-url pattern="/login.action" access=". . .
        <form-login   . . . 
        <logout logout-success-url=". . . 
        <remember-me key="myAppKey"  data-source-ref="dataSource" />
    </http>

    <authentication-manager>
        <authentication-provider>
           <password-encoder hash="sha-256" base64="true"/>
           <jdbc-user-service data-source-ref="dataSource"
            users-by-username-query=" . . .  authorities-by-username-query=" . . .     />
        </authentication-provider>
    </authentication-manager>

    <beans:bean id="springSecurityFilterChain" class="org.springframework.security.util.FilterChainProxy">
        <filter-chain-map path-type="ant">
            <filter-chain pattern="/**" filters="sif"/>
        </filter-chain-map>
    </beans:bean> 
    <beans:bean id="sif" class="org.springframework.security.web.context.SecurityContextPersistenceFilter" />
</beans:beans> 
```

应用程序上下文 xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd">

    <bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="persistenceUnitName" value="healthPU"/>
        <property name="jpaDialect">
            <bean class="org.springframework.orm.jpa.vendor.EclipseLinkJpaDialect" />
        </property>
        <property name="jpaProperties">
            <props>
                <prop key="eclipselink.logging.level">FINEST</prop>
                <prop key="eclipselink.ddl-generation">create-tables</prop>
                <prop key="eclipselink.cache.type.default">HardWeak</prop>
                <prop key="eclipselink.cache.size.default">5000</prop>
            </props>
        </property>
        <property name="jpaVendorAdapter" ref="vendorAdapter"/>
        <property name="persistenceUnitManager" ref="persistenceUnitManager" />
    </bean>

    <bean id="loadTimeWeaver" class="org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver"/>
    <bean id="persistenceUnitManager" class="org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager">
        <property name="loadTimeWeaver" ref="loadTimeWeaver"/>
        <property name="persistenceXmlLocations">
            <list>
                <value>classpath*:META-INF/persistence.xml</value>
            </list>
        </property>
    </bean>
    <bean id="vendorAdapter" class="org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter">
        <property name="databasePlatform" value="org.eclipse.persistence.platform.database.oracle.Oracle11Platform" />
        <property name="showSql" value="true"/>
    </bean>

    <bean class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor"/>
    <bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor"/>

    <tx:annotation-driven transaction-manager="txManager"/>
    <bean id="txManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory" />
    </bean>

    <!--IOC Action Mapings beans start--> 
<!-- Action Mapings beans end --> 
</beans> 
```

# objective-c - UIFont 的磅值到底是多少？

> ID：11776767
> 
> 赞同：50
> 
> 时间：2012-08-02T11:48:06.513
> 
> 标签：objective-c, ios, fonts, uikit, uifont

我正在努力理解点大小的确切`UIFont`含义。它不是像素，也不是与 1/72 英寸相关的点的标准定义。

`-[NSString sizeWithFont:]`我使用各种大小的字体计算出像素大小，并得到以下结果：

```
| Point Size | Pixel Size |
| ---------- | ---------- |
| 10.0       | 13.0       |
| 20.0       | 24.0       |
| 30.0       | 36.0       |
| 40.0       | 47.0       |
| 50.0       | 59.0       |
| 72.0       | 84.0       |
| 99.0       | 115.0      |
| 100.0      | 116.0      | 
```

（我做到了`[@"A" sizeWithFont:[UIFont systemFontOfSize:theSize]]`）

看看`72.0`点的大小，这不是 1 英寸，因为这是在 DPI 为 163 的设备上，所以 1 英寸就是 163.0 像素，对吧？

谁能解释一下什么是“点” `UIFont`？即我上面的方法是错误的，如果我使用其他东西我会看到字体在 72 点处是 163 像素？或者纯粹是从其他东西定义一个点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-02T19:55:23.763

字体有一个内部坐标系，可以把它想象成一个单位正方形，其中一个字形的矢量坐标被指定为任意大小以适应字体中的所有字形 +- 字体设计者选择的任意数量的边距。

在 72.0 点处，字体的单位正方形是一英寸。字体*y*的字形*x*相对于这个平方英寸具有任意大小。因此，字体设计者可以使字体相对于其他字体显得大或小。这是字体“字符”的一部分。

 *因此，在 72 点处绘制“A”告诉您它将是在相同字体中绘制在 36 点处的“A”的两倍 - 绝对没有其他关于实际位图大小的信息。

即对于给定的字体，确定点大小和像素之间关系的唯一方法是对其进行测量。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-02T12:05:23.610

我不确定如何`-[NSString sizeWithFont:]`测量高度。它是使用线高还是贝塞尔峰之间的差异？你用了什么文字？

我相信`-[UIFont lineHeight]`测量高度会更好。

编辑：另外，请注意，没有任何测量方法返回以像素为单位的大小。它返回`points`. 您必须将结果乘以`[UIScreen mainScreen].scale`。

`typographic points`注意构建字体时使用的和`points`从 iOS使用的区别`default logical coordinate space`。不幸的是，文档中没有很清楚地解释差异。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-05-14T19:14:33.507

我同意这很令人困惑。我试图在这里给你一些基本的解释，以使事情更清楚。

首先，DPI（每英寸点数）来自印刷，在物理纸上。字体也是如此。发明单位点是为了描述文本的物理打印尺寸，只是因为英寸对于通常的文本尺寸来说太大了。然后人们发明了一个点，即1/72英寸的长度（实际上是历史上演变而来的），用来描述文字的大小。所以，是的，如果您在 Word 或其他文字处理软件中编写文档进行打印，如果您使用 72pt 字体，您将获得绝对一英寸高的文本。

其次，理论上的文字高度通常与您肉眼实际看到的渲染笔画不同。原始文本高度的想法来自用于打印的实际字形。所有字母都刻在字形块上，它们具有相同的高度——与字体点高度相匹配。但是，根据不同的字母和不同的字体设计，文字的实际可见部分可能会比​​理论高度略短。Helvetica Neue 其实很标准。如果您测量字母“k”的顶部到字母“p”的底部，它将与字体高度匹配。

第三，电脑显示器搞砸了DPI，同时也搞砸了点的定义。计算机显示器的分辨率由它们的原始像素描述，例如 1024 x 768 或 1920 x 1080。软件实际上并不关心显示器的物理尺寸，因为如果它们像在纸上打印一样缩放屏幕内容，一切都会变得非常模糊——只是物理分辨率不够高，无法让一切顺利合法。软件使用一种非常简单且死板的方式：为您使用的任何显示器固定 DPI。对于 Windows，它是 96DPI；对于 Mac，它是 72DPI。也就是说，无论你的显示器上有多少像素一英寸，软件都会忽略它。当操作系统以 72pt 呈现文本时，它在 Windows 上总是 96px 高，在 Mac 上总是 72px 高。（那'

最后在 iOS 上，非常相似，无论是 iPhone、iPod touch、iPad 还是 Apple Watch，iOS 使用固定 72DPI 用于非视网膜屏幕，144DPI 用于@2x 视网膜显示，以及 216DPI 用于 iPhone 6 上使用的@3x 视网膜显示加。

忘记真正的英寸。它只存在于实际打印中，不用于显示。对于在屏幕上显示文本的软件，它只是与物理像素的人为比例。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-02T21:32:55.047

我首先想知道这是否与 [CSS 像素定义为每“英寸”96][1] 而 UI 布局点定义为每“英寸”72 个的方式有关。（当然，“英寸”与物理英寸无关。）为什么 Web 标准会影响 UIKit 业务？好吧，在调试器中检查堆栈跟踪或崩溃报告时，您可能会注意到在许多 UIKit 的基础上有一些 WebKit 代码，即使您不使用`UIWebView`. 但实际上，它比这更简单。

*首先，在常规拉丁文本中*，字体大小是从最低的下降到最高的上升——例如从“j”的底部到“k”的顶部，或者为了方便测量单个字符，高度的“ƒ”。（那是 U+0192 “LATIN SMALL LETTER F WITH HOOK”，在美国 Mac 键盘上使用 option-F 轻松输入。人们用它来缩写“文件夹”。）你会注意到，当使用该方案测量时，以像素为单位的高度（在 1x 显示器上）与指定的字体大小匹配——例如`[UIFont systemFontOfSize:14]`, "ƒ" 将是 14 像素高。（测量大写“A”仅占以字体大小测量的空间的任意部分。这部分可能会在较小的字体大小时发生变化；当将字体矢量渲染为像素时，“提示”会修改结果以产生更清晰的屏幕文本.)

但是，字体包含各种不适合该度量定义的空间的字形。在东欧语言中，字母在升序上方带有变音符号，各种标点符号和特殊字符可以放入更大的“布局框”中。（有关大量示例，请参见 Mac OS X 的特殊字符窗口中的数学符号部分。）

在`CGSize`返回的 by`-[NSString sizeWithFont:]`中，宽度占了字符串中的具体字符，而高度只反映了行数。行高是字体指定的度量，与包含字体最大字符的“布局框”相关。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-03T08:42:05.133

据我所知，事实是`UIFont`谎言。所有这些`UIKit`都使用字体。如果你想要你需要使用的真相`CoreText`，但在很多情况下它会更慢！（因此，对于您的像素高度表，我认为它添加了某种 a + bx 因子，其中 x 是点大小。

那么它为什么要这样做呢？速度！`UIKit`四舍五入并调整间距，以便它可以缓存位图。或者至少那是我的收获！*

# asp.net - 在 ASP.NET 中为用户控件使用控件适配器

> ID：11776772
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:19.333
> 
> 标签：asp.net, user-controls, rendering

我们可以使用控件适配器更改 ASP.NET 控件的输出呈现。现在我想知道，是否可以通过 ASP.NET 中的控件适配器更改用户控件呈现？顺便说一句，我的页面中有几个用户控件，我不想为它们执行相同的操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T11:56:33.230

是的，您可以，但您必须在您的用户控件中将您的控件子项定义为公共

```
(Associate public on child controls in order to access from your adapter)

public class UserControlSample : userControl
{
  public TextBox TextBoxWrapper
  {
      get
      {
         return MyTextBox;
      }
      set
      {
         MyTextBox = value;
      }
  }
}

//Access from adapter
UserControlSample.TextBoxWrapper.Text  
UserControlSample.TextBoxWrapper.Id
..... 
```

# node.js - 在 Ubuntu 上运行 Azure node.js 工具

> ID：11776776
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:33.127
> 
> 标签：node.js, ubuntu, azure

我已按照[这些](https://www.windowsazure.com/en-us/develop/nodejs/how-to-guides/command-line-tools/)说明进行操作。

据我所知，我已经成功安装了 node.js azure 工具。没有错误 - 没有任何迹象表明它失败了。

但是，我不能，而且文档说，简单地运行“azure”......

也许我在 node.js 中缺少一些东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:31:16.993

您可能会遇到一些问题。

首先，我会确保您运行的是 Node.js v0.6.20。您可以通过打开命令提示符并运行：

`node -v`

你应该`v0.6.20`回声。

如果这不起作用，您可能缺少 Node.js 或 NPM 缓存的路径变量。通过运行 [在命令提示符中] 验证环境变量是否存在：

`path`

你应该看到两条路径：

*   `%appdata%\npm`

[x64 机器]

*   `%programfiles(x86)%\nodejs\`

[x86机器]

*   `%programfiles%\nodejs\`

如果这不起作用，我会检查以确保`azure`模块已加载到`%appdata%\npm\node_modules`目录中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-05T22:09:13.267

这可能是PATH问题。就我而言，天蓝色程序位于 ~/.npm-global/bin。

运行“导出 PATH=$PATH:~/.npm-global/bin”。或者只是添加到 bash 源文件

# jquery - 按时更改图像不起作用（找不到导致它的原因）

> ID：11776777
> 
> 赞同：1
> 
> 时间：2012-08-02T11:48:33.920
> 
> 标签：jquery, html, css, wordpress

我想在 wordpress 中制作幻灯片，但由于某种原因它不起作用：

我的 .js 文件：

```
(function ($) {
    function slideSwitch() {
        var $active = $('#gallery1 IMG.active');

        if ( $active.length == 0 ) $active = $('#gallery1 IMG:last');

        var $next =  $active.next().length ? $active.next()
                : $('#gallery1 IMG:first');

        $active.addClass('last-active');

        $next.css({opacity: 0.0})
        .addClass('active')
        .animate({opacity: 1.0}, 1000, function() {
            $active.removeClass('active last-active');
        });
    }

    $(function() {
        setInterval( "slideSwitch()", 5000 );
    });

}); 
```

CSS 样式：

```
#gallery1{
    position: relative;
    width:400px;
    height:300px;
}
#gallery1 img{
    position:absolute;
    z-index:8;
}
#gallery1 img.active{
    z-index:10;
}
#gallery1 img.last-active{
    z-index:9;
} 
```

html代码：

```
 <div id="gallery1">
 <img src="img1.jpg" class="active"/>
 <img src="img2.jpg"/>
 <img src="img3.jpg"/>
  </div> 
```

Chromes 开发者工具不会显示任何错误。虽然萤火虫，显示此错误：错误断点：

但我不明白第一张图片有什么问题，它加载得很好。有没有人看到问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:24:58.317

@nez 是正确的，因为您声明匿名函数的方式，当 DOM 准备好时，您的函数将不会被执行。它应该如下所示：

```
(function ($) { 
    function slideSwitch() {
        var $active = $('#gallery1 IMG.active');

        if ( $active.length == 0 ) $active = $('#gallery1 IMG:last');

        var $next =  $active.next().length ? $active.next()
                : $('#gallery1 IMG:first');

        $active.addClass('last-active');

        $next.css({opacity: 0.0})
        .addClass('active')
        .animate({opacity: 1.0}, 1000, function() {
            $active.removeClass('active last-active');
        });
    }

    $(function() {
        setInterval( "slideSwitch()", 5000 );
    });
}(jQuery)); 
```

此声明有助于确保您的插件不会与可能使用美元符号的其他库发生冲突，最好将 jQuery 传递给将其映射到美元符号的 IIFE（立即调用函数表达式），以便它可以' 不会在其执行范围内被另一个库覆盖。直接来自他们的文档：

[http://docs.jquery.com/Plugins/Authoring](http://docs.jquery.com/Plugins/Authoring)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:31:44.553

你这样做是不对的。

您需要一个没有冲突的 JQuery 版本，它将通过别名将其与原型一起运行，如以下链接所示： http: [//digwp.com/2009/06/including-jquery-in-wordpress-the-right-way/](http://digwp.com/2009/06/including-jquery-in-wordpress-the-right-way/)

然后制作你的代码：

```
var $j = jQuery.noConflict();

function slideSwitch() {
    var $active = $j('#gallery1 IMG.active');

    if ( $active.length == 0 ) $active = $j('#gallery1 IMG:last');

    var $next =  $active.next().length ? $active.next()
            : $j('#gallery1 IMG:first');

    $active.addClass('last-active');

    $next.css({opacity: 0.0})
    .addClass('active')
    .animate({opacity: 1.0}, 1000, function() {
        $active.removeClass('active last-active');
    });
}

$j(function() {
    setInterval( "slideSwitch()", 5000 );
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T12:06:52.037

我无法弄清楚您的代码可能出了什么问题，但是，这是创建使用[SlidesJS](http://slidesjs.com/) jquery 插件的幻灯片的替代方法。

```
$("#slides").slides({
    preload: true,        
    play: 2000,
    pause: 2500        
}); 
```

**[在此处](http://jsfiddle.net/ajorpheus/VGQJ4/2/)**查看实际操作 （上面的代码在 Javascript 编辑器的底部）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T12:12:40.340

首先-您从未执行过第一个功能（这就是为什么您看到图像而没有任何反应的原因）。

尝试：

```
$(function() {

  var slideSwitch = function () {
    var $active = $('#gallery1 IMG.active'),
      $next;

    if ($active.length == 0) {
      $active = $('#gallery1 IMG:last');
    }

    $next = $active.next().length ? $active.next() : $('#gallery1 IMG:first');

    $active.addClass('last-active');

    $next.css({opacity: 0.0})
      .addClass('active')
      .animate({opacity: 1.0}, 1000, function() {
        $active.removeClass('active last-active');
      });
  }

  setInterval(slideSwitch, 5000);
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-02T12:43:52.483

好的，提供的答案解决了我的问题（不知道为什么那个人删除了他的答案）：这个有效：

```
var $j = jQuery.noConflict();

function slideSwitch() {
var $active = $j('#gallery1 IMG.active');

if ( $active.length == 0 ) $active = $j('#gallery1 IMG:last');

var $next =  $active.next().length ? $active.next()
        : $j('#gallery1 IMG:first');

$active.addClass('last-active');

$next.css({opacity: 0.0})
.addClass('active')
.animate({opacity: 1.0}, 1000, function() {
    $active.removeClass('active last-active');
}); 
```

}

```
$j(function() {
setInterval( "slideSwitch()", 5000 );
}); 
```

# android - Android 混合应用程序和远程服务器通信

> ID：11776778
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:36.803
> 
> 标签：android, http, client-server, hybrid

我正在学习为Android平台开发混合应用程序（稍后将扩展到其他移动平台）。我已经阅读了许多文章并且已经开始了，但还没有遇到可以解释这一点的东西。

我想将 UI (HTML/JavaScript/CSS) 文件存储在移动设备上并通过 WebView 显示。这将与远程服务器通信以通过 WebService 获取数据。我没有具体理解的是：

1.  UI 文件 (HTML/JavaScript/CSS) 会安装在 android 设备的文件系统上，还是会在 android 设备上安装本地嵌入式 WebServer。
2.  如果 HTML/JavaScript/CSS 文件在文件系统上，它们如何与远程 WebService 通信。假设我想对远程服务器进行 AJAX 调用……它将由通过 WebView 显示的 UI (HTML/JavaScript) 文件还是由 WebView 所在的 JAVA 容器处理？我不明白的是文件系统上的 HTML/JavaScript 如何进行 AJAX 调用。
3.  如果移动设备上需要本地嵌入式 WebServer，您能给我一些建议吗？如果这是真的，那么相同的架构是否可以在其他平台上运行，比如 iOS、Symbian、BlackBerry 等。

如果有人觉得这不是正确的方法，请让我知道您对架构的看法。

请向我指出正确的文章或解释您对这个特定场景的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T08:05:50.823

我建议您对这些问题采用不同的方法。如果我在你的位置，我会做以下事情：

我假设您将这些作为基于 Java 的 Web 应用程序。即使你们选择 PHP 或其他 Web 开发语言，事情也会几乎相同。

**1）UI文件（HTML/JavaScript/CSS）会安装在android设备的文件系统上，还是android设备上会有本地嵌入式WebServer。**

不，您要处理的 UI 文件只不过是您的 Web 应用程序中的网页。这些网页存储在服务器上而不是本地文件系统上。我们使用浏览器连接到远程服务器，然后这些页面由您的浏览器从中获取并处理然后显示给您。

**2）如果 HTML/JavaScript/CSS 文件在文件系统上，它们如何与远程 WebService 通信。假设我想对远程服务器进行 AJAX 调用……它将由通过 WebView 显示的 UI (HTML/JavaScript) 文件还是由 WebView 所在的 JAVA 容器处理？我不明白的是文件系统上的 HTML/JavaScript 如何进行 AJAX 调用。**

网页从服务器下载并在您的浏览器中显示给您。在网页本身中，我们编写脚本来对适当的事件进行 AJAX 调用，例如单击某个按钮、更改某些字段的值或 @ 页面加载时间等。何时进行 AJAX 调用完全取决于您的项目要求。

**3）如果移动设备上需要本地嵌入式WebServer，你能建议我一些吗？如果这是真的，那么相同的架构是否可以在其他平台上运行，比如 iOS、Symbian、BlackBerry 等。**

现在，正如我之前提到的，数据存储在远程服务器上，因此您的移动设备上不需要 Web 服务器（除非您想将移动设备用作托管或服务器设备）。由于这些是基于网络的解决方案，因此您不必考虑手机的平台。无论是 android、blackberry、Apple 还是 symbian 手机，您所做的只是使用手机中的 Web 浏览器连接到服务器。

# android - 大型位图无法从 Android 中的 sdcard 有效加载

> ID：11776779
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:39.187
> 
> 标签：android, bitmap

通过[点击此链接](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)，我编写了以下代码来显示来自 sdcard 的大图像位图。

```
try {
   InputStream lStreamToImage = context.getContentResolver().openInputStream(Uri.parse(imagePath));
   BitmapFactory.Options options = new BitmapFactory.Options();
   options.inJustDecodeBounds = true;
   BitmapFactory.decodeStream(lStreamToImage, null, options);
   options.inSampleSize = 8; //Decrease the size of decoded image
   options.inPreferredConfig = Bitmap.Config.ARGB_4444;
   options.inJustDecodeBounds = false;
   bitmap = BitmapFactory.decodeStream(lStreamToImage, null, options);
} catch(Exception e){}
image.setImageBitmap(bitmap); 
```

但它没有返回位图（我的意思是它返回 null）。在 logcat 中，它反复显示以下消息

```
08-02 17:21:04.389: D/skia(19359): --- SkImageDecoder::Factory returned null 
```

如果我将评论**options.inJustDecodeBounds**行并重新运行它，它可以正常工作但速度很慢。我在上面提供的开发人员指南链接说使用**inJustDecodeBounds**来有效地加载位图。

请告诉我我在哪里做错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:17:33.430

`inJustDecodeBounds`不**加载**位图。这就是重点。它在不加载实际位图的情况下加载位图的尺寸，因此您可以在实际加载位图之前对其进行任何预处理或检查。如果您遇到内存问题并且需要检查加载位图是否会使您的程序崩溃，这很有帮助。

您的位图可能加载缓慢的原因是它可能非常大并且 SD 卡非常慢。

**编辑**：

[从文档中：](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inJustDecodeBounds)

> 如果设置为 true，解码器将返回 null（无位图），但 out... 字段仍将设置，允许调用者查询位图而无需为其像素分配内存。

**编辑2：**

使用 Google 提供的示例查看您的代码，看起来您正在做相对相同的事情。它返回 null 的原因可能是您`InputStream`在第一次解码时已被修改，因此不是从位图内存地址的开头开始（它们使用资源 ID 而不是`InputStream`.

根据您在此处提供的代码，这就是我的想法。无论第一次解码给你什么，你总是将样本大小设置为 8。谷歌第一次解码的原因是为了弄清楚位图的实际大小与他们想要的大小。他们确定位图是 ZxZ 维度并且他们想要 YxY 维度，因此他们计算`samplesize`他们应该从第二次解码中使用的维度。你没有这样做。您只是检索位图的尺寸而不使用它们。然后，将样本大小设置为硬编码`8`，将其交换为硬编码`ARGB_4444`位图，然后将完整位图解码到内存中。换句话说，这三行没有被使用：

```
BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
BitmapFactory.decodeStream(lStreamToImage, null, options); 
```

设置`inJustDecodeBounds`只是为您提供位图的尺寸，而不会将位图放入内存。它并没有使它更有效率。这意味着如果位图太大，您可以在较小的内存空间中加载位图，因为您可以预先决定它应该是什么大小而无需解码整个事物）。

解码位图速度慢的原因可能仅仅是 CPU 的问题。根据位图的大小，您正在`InputStream`从 SD 卡加载位图，这本身就是一个缓慢的操作。

# c# - SaveFileDialog 在 C# 中使用 streamwriter 产生问题

> ID：11776781
> 
> 赞同：2
> 
> 时间：2012-08-02T11:48:50.347
> 
> 标签：c#, using

我想从streamwriter的内容中保存文件，但是在这段代码中

```
SaveFileDialog savefile = new SaveFileDialog();
                savefile.FileName = "unknown.txt";
                savefile.Filter = "Text files (*.txt)|*.txt|All files (*.*)|*.*|";
                if (savefile.ShowDialog() == DialogResult.OK)
                {
                    using (StreamWriter sw = new StreamWriter(savefile.FileName, false, System.Text.Encoding.Unicode))
                    sw.WriteLine("Test line");
                    sw.WriteLine("Test line2");
                    sw.WriteLine("Test line3");
                } 
```

在行中`sw.WriteLine("Test line2"); sw.WriteLine("Test line3");`，是错误，`sw`不存在！

但我很少使用代码

`using (StreamWriter sw = new StreamWriter("\unknow.txt", false,System.Text.Encoding.Unicode)) sw.WriteLine("Test line"); sw.WriteLine("Test line2"); sw.WriteLine("Test line3");`

一切正常！问题出在哪里？谢谢 ！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T11:50:32.633

您只需要添加大括号：

```
using (StreamWriter sw = new StreamWriter(savefile.FileName, 
          false, System.Text.Encoding.Unicode))
{
     sw.WriteLine("Test line");
     sw.WriteLine("Test line2");
     sw.WriteLine("Test line3");
} 
```

该变量`sw`是`using()`语句范围的本地变量。没有大括号，那只是第一个 WriteLine()。

for 的范围规则与 for`using()`相同`if()`，您已经正确使用了它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T11:51:23.327

试试这样：

```
SaveFileDialog savefile = new SaveFileDialog();
savefile.FileName = "unknown.txt";
savefile.Filter = "Text files (*.txt)|*.txt|All files (*.*)|*.*|";

if (savefile.ShowDialog() == DialogResult.OK)
{
    using (StreamWriter sw = new StreamWriter(savefile.FileName, false, System.Text.Encoding.Unicode))
      { // You are missing this one.. 
                    sw.WriteLine("Test line");
                    sw.WriteLine("Test line2");
                    sw.WriteLine("Test line3");
       } //.. and this one!
 } 
```

当您不使用大括号时，它只会看到下面的第一行代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T11:56:17.817

`Using statement`，当它定义一个对象将被释放的范围时。请参阅[使用语句](http://msdn.microsoft.com/en-us/library/yh598w02.aspx)。

# sphinx - 无法获取状态字段

> ID：11776783
> 
> 赞同：0
> 
> 时间：2012-08-02T11:48:53.070
> 
> 标签：sphinx, sphinxql

使用**SphinxQl**，我无法从特定索引中获取状态字段。如果我尝试获取状态字段，我将收到以下错误。请任何人帮助解决这个问题？

例子：

```
Select Status from tablename; 
```

我收到以下错误：

```
语法错误，意外状态，在“来自表名的状态”附近需要 IDENT（或 17 个其他标记）。
```

注意：我无法`STATUS`在任何索引的字段中插入任​​何值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T21:19:46.173

STATUS 是保留字，请使用``status``

# css - 文本输入中的不同字体渲染？

> ID：11776801
> 
> 赞同：0
> 
> 时间：2012-08-02T11:50:22.930
> 
> 标签：css, input, font-face, font-size

我有一个应该与正常正文完全一样的输入字段。它没有任何特殊规定。在我的 css 重置中，我有这个……</p>

```
input, textarea, button, select {
    margin: 0;
    font-size: 100%;
    line-height: normal;
    vertical-align: baseline;
} 
```

输入字段内的文本比上面的大……见我的示例截图。下面的行是一个输入字段，上面的行是普通文本。

![在此处输入图像描述](../Images/97c57303c03b4741cc7f04612aa55e2c.png)

这发生在所有浏览器中。如果我将`font-size`for 输入更改为`97%`它，那将是正确的。但是我根本不明白为什么文本输入会调整字体大小？

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:54:29.473

您还需要在输入上设置字体大小，因为它不会直接从正文继承它。

这是因为较新的浏览器将使用它自己的基本样式表来格式化输入。

[http://jsfiddle.net/mjPE9/](http://jsfiddle.net/mjPE9/)（firefox 中的默认字体为衬线字体，但如果未另行指定，输入将始终获得无衬线字体）

如果您使用 Firebug，如果您在样式选项卡下拉菜单中选中显示用户代理样式，您可以看到浏览器设置的所有这些用户代理样式。使用的文件是 forms.css - 如果您进行搜索，您可以轻松地在系统上找到它并检查它在幕后发生的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:07:14.800

猜猜这可能对你有帮助。[http://www.w3schools.com/tags/tryit.asp?filename=tryhtml_input_size](http://www.w3schools.com/tags/tryit.asp?filename=tryhtml_input_size)

# php - 变量和值类型

> ID：11776802
> 
> 赞同：0
> 
> 时间：2012-08-02T11:50:22.963
> 
> 标签：php

我有一个关于 php 中的变量类型的简单问题。我的数组中有两个值：

```
$row['DS'] // type :float (with one decimal like 12.2)
$row['TC'] // type :float (with one decimal like 24.2) 
```

在进行以下计算时，我实际上尝试做的是：

```
$row['TC'] / $row['DS'] // $row['DS'] need to be as integer (without point,like 12) 
```

结果应该是两位小数，如（2.32）。我试着那样做

```
$DSF = number_format($row['DS'],0);
$ConF = $row['TC'] / $DSF ;
echo number_format($conF,2); 
```

但它返回错误的结果。例如 ：

```
$row['DS'] = 59,009.3 ---> after change the format is change to 59,009
$row['TC'] = 190.0
$ConF = 190.0  /  59,009 
```

它应该是 000.223 （这个数字附近的东西），我希望得到 0 （在我改变格式之后， `number_format($conF,2)`但程序不是这个，而是返回数字 3.22 我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:57:19.303

该函数`number_format()`用于将数字格式化为逗号样式表示，而不是实际将数字四舍五入为您想要的。

您正在寻找的函数是[round](http://au2.php.net/manual/en/function.round.php)，它将浮点数返回到指定的小数位数。

例如：

```
$yourVar=round($row['TC']/$row['DS'],2); 
```

这意味着`$yourVar`将四舍五入到小数点后两位的除法值。

您应该`number_format()`只使用该功能在最后显示人性化的数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:30:56.630

您可以在计算中使用右`type casting`转换`$row['DS']`，`integer`例如：

`$row['TC'] / (int)$row['DS']`

或者

`$row['TC'] / intval($row['DS'])`

# php - PDO lastInsertId() 总是返回 0

> ID：11776818
> 
> 赞同：20
> 
> 时间：2012-08-02T11:51:24.290
> 
> 标签：php, pdo, lastinsertid

我遇到了一个问题。我的框架在 PHP 5.3.0 上运行良好。我将我的 PHP 版本升级到 PHP 5.4.x，我的框架的某些部分开始出现一些问题。

PHP 版本升级后，`PDO lastInsterId()`总是返回`0`.

我有一个名为 的自动增量字段`id`。它将数据添加到数据库中没有任何问题。

出于某种原因，我一直将 0 作为最后一个插入 ID。

这是我的代码；

**数据库对象.php**

```
public static function create () {
        global $db;
        $attributes = self::sanitize(static::$fields);

        $sql  = "INSERT INTO ".PREFIX.static::$table_name." (";
        $sql .= join(", ", array_keys($attributes));
        $sql .= ") VALUE (:";
        $sql .= join(", :", array_keys($attributes));
        $sql .= ")";

        return ($db->crudQuery($sql, $attributes)) ? true : false;
    }

public static function lastInsertID () {
        global $db;
        return $db->handler->lastInsertId();
    } 
```

**数据库.php**

```
public function crudQuery($sql, $data) {
        $sth = $this->handler->prepare($sql);
        return $sth->execute($data);
    } 
```

第一个`create()`方法被调用，然后`crudQuery()`方法被调用。正如我之前提到的，我可以成功地将数据添加到 MySQL 数据库中。不幸的是，当我调用`lastInsterID()`方法时，它总是返回 0。

如果您能在我使用 SQL Query 获得最后一个 ID 之前帮助我解决这个问题，我将非常高兴（：

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-08-02T12:06:35.410

除了 php/PDO 或您的框架中的错误之外，还有两种可能性。要么`lastInsertId()`在与插入不同的 MySQL 连接上调用，要么您在应用程序/框架中生成 id 并将其插入，而不是让 auto_increment 为您生成它。表中哪一列是主键/auto_increment？该列是否包含`$attributes`在您的`create()`函数中？

您可以测试 PDO 以确保该部分与此代码（在新文件中）正常工作：

```
// Replace the database connection information, username and password with your own.
$conn = new PDO('mysql:dbname=test;host=127.0.0.1', 'user', 'password');

$conn->exec('CREATE TABLE testIncrement ' .
            '(id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50))');
$sth = $conn->prepare('INSERT INTO testIncrement (name) VALUES (:name)');
$sth->execute([':name' => 'foo']);
var_dump($conn->lastInsertId());
$conn->exec('DROP TABLE testIncrement'); 
```

当我运行这个脚本时，输出是

```
string(1) "1" 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-10-03T13:50:52.390

提交事务后 PDO::lastInsertID() 将返回 0，因此最好在事务提交之前调用此方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-07-15T14:34:40.103

另一个问题可能是使用 $pdo->exec($sql) 而不是 $pdo->query($sql)。

当您使用 $pdo->lastInsertId() 时，exec($sql) 将始终返回 0。所以使用 query() 代替。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-10T16:12:28.970

当没有抛出异常时，lastInsertId 返回 0。但是，如果在调用 commit 之前调用了 lastInsertId，则返回正确的 id。

[http://php.net/manual/es/pdo.lastinsertid.php](http://php.net/manual/es/pdo.lastinsertid.php)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-05-03T17:15:02.970

当最后一个插入语句由于外键约束而失败时，我得到一个 0。last_error 是一个字符串。

# java - 如何在速度模板中使用 split()？

> ID：11776820
> 
> 赞同：3
> 
> 时间：2012-08-02T11:51:28.613
> 
> 标签：java, velocity

我试图在速度上下文中拆分一个字符串以获得一个数组作为回报，如下所示 -

```
 #if($stringValue.split("::")[1].length()==0)
       //some code 
```

但它不适用于速度。我收到一个无法编译的解析器错误 []

那么，我怎样才能在速度上实现这个逻辑？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-10T12:44:51.517

使用速度 1.7 和可能低于此可以使用 String`split()`方法完成。与 Java 对应的特殊字符不同，不需要转义正斜杠 (.eg `"\\|"`)。

```
#set ($myString = “This|is|my|dummy|text”) 

#set ($myArray = $myString.split("\|")) or
#set ($myArray = $myString.split('\|')) or
#set ($myArray = $myString.split("[|]")) 
```

注意 1：要获取数组的大小，请使用：`$myArray.size()`

注 2：要获得实际值，请使用`$myArray.get(0)`or `$myArray[0]`… 等

*建议：可以提前使用* `#if ($myString.indexOf(‘|’)) ... #end`

# android - Android 表单验证 UI 库

> ID：11776829
> 
> 赞同：28
> 
> 时间：2012-08-02T11:52:15.650
> 
> 标签：android, user-interface, validation

有用于用户输入验证的 iOS [US2FormValidator](https://github.com/ustwo/US2FormValidator)库（见下图）。我认为该库比默认情况下仅在某些内容未验证时弹出警报要好。

![US2FormValidator 预览](../Images/1197b9f2ac2999167b1ae7a9918aaf16.png)

我正在寻找如何在 Android 上做这些事情。是否有一些[US2FormValidator](https://github.com/ustwo/US2FormValidator)的 Android 类似物？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-10-22T13:48:50.290

您在屏幕截图上显示的弹出效果可以使用 Android 的小部件内置`setError(String)`方法来实现`EditText`。

此外，您可以使用我编写的[Android Saripaar](https://github.com/ragunathjawahar/android-saripaar)库来利用注释的强大功能。

首先添加库：

```
compile 'com.mobsandgeeks:android-saripaar:2.0.2' 
```

该库使用起来非常简单。在您的活动中注释`View`您想要验证的引用，如下例所示。

```
@Order(1)
private EditText fieldEditText;

@Order(2)
@Checked(message = "You must agree to the terms.")
private CheckBox iAgreeCheckBox;

@Order(3)
@Length(min = 3, message = "Enter atleast 3 characters.")
@Pattern(regex = "[A-Za-z]+", message = "Should contain only alphabets")
private TextView regexTextView;

@Order(4)
@Password(min = 6, scheme = Password.Scheme.ALPHA_NUMERIC_MIXED_CASE_SYMBOLS)
private EditText passwordEditText;

@Order(5)
@ConfirmPassword
private EditText confirmPasswordEditText; 
```

该`order`属性指定必须验证字段的顺序。

在您的`onCreate()`方法中实例化一个新`Validator`对象。并`validator.validate()`在您的任何事件侦听器中调用。

您将收到回调`onSuccess`和.`onFailure``ValidationListener`

如果要显示如上图所示的弹出窗口，请执行以下操作，

```
public void onValidationFailed(View failedView, Rule<?> failedRule) {
    if (failedView instanceof Checkable) {
        Toast.makeText(this, failedRule.getFailureMessage(), Toast.LENGTH_SHORT).show();
    } else if (failedView instanceof TextView) {
        TextView view = (TextView) failedView;
        view.requestFocus();
        view.setError(failedRule.getFailureMessage());
    }
} 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-08-17T13:21:12.023

Android 具有非常易于使用的内置验证机制，这已经足够了。请参阅以下链接： [http ://blog.donnfelker.com/2011/11/23/android-validation-with-edittext/](http://blog.donnfelker.com/2011/11/23/android-validation-with-edittext/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-01-25T20:39:49.190

我刚刚遇到了 ValidationKomensky，您可能会发现它很有用

[https://github.com/inmite/android-validation-komensky](https://github.com/inmite/android-validation-komensky)

![在此处输入图像描述](../Images/86b7d1934dadd793bd898e0933c2f345.png)

# iphone - html 表格上的字体大小在 iPhone 和 Mac/PC 上不同

> ID：11776832
> 
> 赞同：0
> 
> 时间：2012-08-02T11:52:22.620
> 
> 标签：iphone, html, css, fonts, size

我的网站上有一张桌子，里面有一些文字。我在我的 iPhone、我的 Mac 和我的 PC 上都看过它，但 iPhone 上的字体大小比 Mac 和 PC 上的字体大小要大得多。我已经尝试设置 css 属性 font-size 但它没有改变。有谁知道如何解决这一问题？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T13:50:05.053

您需要使用[媒体查询](https://developer.mozilla.org/en/CSS/Media_queries/)定位智能手机或任何其他手持设备，然后设置适当的字体大小。

例如，您可以执行以下操作来定位您的 iPhone：

```
@media only screen and (max-device-width: 480px) {
    font-size: 0.8em;
} 
```

# c# - 如果我有一个自定义对话框窗口，每次都可以创建一个新窗口吗？

> ID：11776836
> 
> 赞同：2
> 
> 时间：2012-08-02T11:52:35.097
> 
> 标签：c#, dialog

```
myDialog d = new myDialog(); 
d.ShowDialog(); 
```

一旦我的对话框处理了一些输入，我就会做一个

```
this.Close(); 
```

从对话框类中。

然后回到我的主窗口，我检查一个变量，即

```
if (d.OK = true)
{
//do stuff
} 
```

如果在使用程序时会创建几个这样的对话框，这可以吗？或者我应该在我的主窗体上使用一个引用同一个对话框的静态变量？这有什么不同吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T11:54:59.323

使用此模式，您的对话框将始终正确处理

```
using(myDialog d = new myDialog())
{
     if(DialogResult.OK == d.ShowDialog())
     { 
         //do stuff (for example, read some property values on the dialog)
         if(d.ExecuteSomeAction == true)
              // Do some action -> call a database query or something.....
     } 
} 
```

使用静态变量来维护对话框的处理（在这种情况下，您应该调用`this.Hide()`not `this.Close()`，在我看来，这是一种不好的做法，除非您需要跟踪“状态条件”或向您的用户建议他们的最后输入。当您关闭应用程序时，您还应该非常小心地关闭静态变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T11:54:31.623

一旦处理了一个表单就不能被重用，AFAIK。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T11:55:59.507

你也可以考虑这个：

```
using (myDialog d = new myDialog())
{
   d.ShowDialog();

   if (d.OK)
   {
      // do stuff
    }
} 
```

在最后一个大括号之后，您确定您的对话框被正确处理并且所有内存都被释放。像这样，您可以随心所欲地使用对话框。使用 a`using`是一种很好的做法，可用于实现`IDisposable`接口的所有对象。

请参阅[使用语句](http://msdn.microsoft.com/en-us/library/yh598w02.aspx)。

# html - jQuery.noConflict() 不适用于弹出框

> ID：11776841
> 
> 赞同：0
> 
> 时间：2012-08-02T11:52:48.763
> 
> 标签：html, css, popup, jquery

我有一个带有 3 个滑块和一个弹出框的网页。
对于我使用的滑块`jQuery.noConflict()`，它工作正常。
但是在弹出框的情况下，如果我使用`jQuery.noConflict()`它不起作用。
如果我不使用，`jQuery.noConflict()`那么我的滑块将无法工作。

**弹出html**

```
<div id="popupContact">
  <a id="popupContactClose"><img src="close.gif" alt="close"/></a>
  <div id="contactArea"></div>
</div>
<div id="backgroundPopup"></div> 
```

**弹出jQuery**

```
var popupStatus = 0;
function loadPopup(){
  if(popupStatus==0){
    $("#backgroundPopup").css({
        "opacity": "0.2"
    });
    $("#backgroundPopup").fadeIn("slow");
    $("#popupContact").fadeIn("slow");
    popupStatus = 1;
  }
}

function disablePopup(){
  if(popupStatus==1){
    $("#backgroundPopup").fadeOut("slow");
    $("#popupContact").fadeOut("slow");
    popupStatus = 0;
  }
}

function centerPopup(){
  var windowWidth = document.documentElement.clientWidth;
  var windowHeight = document.documentElement.clientHeight;
  var popupHeight = $("#popupContact").height();
  var popupWidth = $("#popupContact").width();
  $("#popupContact").css({
    "position": "absolute",
    "top": windowHeight/2-popupHeight/2,
    "left": windowWidth/2-popupWidth/2
  });
  $("#backgroundPopup").css({
    "height": windowHeight
  });
}

var $rp = jQuery.noConflict();
$rp(document).ready(function(){ 
  $rp("#buttonpop").click(function(){
    centerPopup();
    loadPopup();
  });
  $rp("#popupContactClose").click(function(){
    disablePopup();
  });
  $rp("#backgroundPopup").click(function(){
    disablePopup();
  });
  $rp(document).keypress(function(e){
    if(e.keyCode==27 && popupStatus==1){
        disablePopup();
    }
 });
}); 
```

**注意：** 这个弹出 jquery 是一个外部 jquery，我`<script src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js" type="text/javascript"></script>`也在使用。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:00:40.683

如果您使用`jQuery.noConflict()`，这会阻止 jQuery 别名`jQuery`为`$`. 但是，您的弹出代码仍在尝试使用`$`.

要么引用`jQuery`，要么不`$`，或者将您的代码包装在一个闭包中，并将引用`$`作为闭包内的局部变量，即

```
(function($) {
    //popup code here
})(jQuery); 
```

# matlab - 为什么解释的 MATLAB 功能块会在 Simulink 中计算两次？

> ID：11776842
> 
> 赞同：3
> 
> 时间：2012-08-02T11:52:52.070
> 
> 标签：matlab, simulation, simulink

我有一个包含以下子系统的 Simulink 模型。

![具有解释型 MATLAB 函数的 Simulink 子系统](../Images/3dcbbe7deba043261307e5f70cd0fbc5.png)

该`bm_train_adapter`模块将调用同名的 MATLAB 函数，将所有输入参数传递到单个向量中。

该子系统的采样时间为 900（秒），这就是为什么所有信号都以红色着色（对于离散信号）。

但是，在调试器中，我观察到该`bm_train_adapter`函数在每个仿真时间步被调用两次。这会产生非常错误的结果，因为该函数包含副作用。

**为什么 Simulink 每个时间步不止一次调用我解释的 MATLAB 函数？我怎样才能防止这种情况？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T00:12:42.167

我认为这是因为您的求解器设置。在您的`Configuration Parameters`窗口中，查看`Solver Options`窗格。

我相信`discrete`和`ode1`求解器会在每个时间步调用一次。 `ode2`每个时间步将调用两次，每个时间步`ode4`将调用 4 次，等等。

这种行为对于模拟连续动力学非常有帮助，但在与离散元素交互时可能会令人困惑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:40:53.200

原因是我的模型存在由子系统中的单位延迟块引起的代数环。为了解决这些循环，求解器别无选择，只能多次评估某些块。

解决方案是从其子系统中消除所有单元延迟。

# regex - 在 mongoDB 中搜索索引数据的复杂度（Big-O）是多少？

> ID：11776844
> 
> 赞同：0
> 
> 时间：2012-08-02T11:52:56.047
> 
> 标签：regex, json, performance, mongodb

这是一个设计问题。你能告诉我我是否正在索引关键字，如下所示。

```
obj = {
    name: "Apollo",
    text: "Some text about Apollo moon landings",
    tags: [ "moon", "apollo", "spaceflight" ]
} 
```

确保这样的索引。

```
db.articles.ensureIndex( { tags: 1 } ); 
```

和频繁查询如下。

```
db.articles.findOne( { tags: "apollo" } ).name 
```

如果我插入了 n 个此类文档，请给我此类查询的性能。

是 O(1) 吗？

在这些数据上搜索正则表达式的性能是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T11:54:34.697

这是一个 B 树索引，就像在几乎所有数据库中一样，因此它具有 O(log n) 查找时间。

正则表达式搜索听起来像是需要进行全表扫描或全索引扫描，两者都是 O(n)。如果表达式是前缀锚定的，它只需要扫描一个范围，但我想这仍然算作 O(n)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T12:36:03.783

正如 Thilo 所提到的，MongoDB 索引是作为“B-Tree”索引实现的，从根本上说，MongoDB 中的索引在操作上类似于其他数据库系统中的索引。[此处](http://docs.mongodb.org/manual/core/indexes/)对 MongoDB 中的索引有一个很好的概述。

我建议阅读有关[索引策略](http://docs.mongodb.org/manual/applications/indexes/)和[索引操作](http://docs.mongodb.org/manual/administration/indexes/)的信息，以帮助您的实施、管理和设计。

为了帮助分析查询的性能并查看它们在做什么，您可以将 explain() 运算符附加到查询中。请参阅[此处](http://www.mongodb.org/display/DOCS/Explain)以获取更多信息`explain()`以及如何解释其输出。

MongoDB 将[PCRE](http://www.pcre.org/pcre.txt)用于正则表达式。用法记录[在这里](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-RegularExpressions)。除了 PCRE 库中的限制之外，没有大小限制。与所有正则表达式一样，请记住构造不良的正则表达式的后果:)

# maven - 如何获取插件依赖项列表？

> ID：11776845
> 
> 赞同：1
> 
> 时间：2012-08-02T11:52:56.657
> 
> 标签：maven

[据说](http://www.sonatype.com/people/2008/04/how-to-override-a-plugins-dependency-in-maven/)：

> Maven 2.0.9 引入了覆盖插件使用的依赖项的能力。当您想使用比插件默认包含的更新的 checkstyle、pmd 等 jar 时，这很方便。

我的问题是 - 我怎样才能获得某些特定插件的依赖项列表，就像获得项目的依赖项列表一样简单？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:06:36.150

Executing`mvn dependency:resolve-plugins`将提供在你的 POM 中定义的所有插件的列表（以及从任何父 POM 继承的插件）以及每个插件的所有依赖项。

# c# - 我们如何将相似的吸气剂合并在一起？

> ID：11776846
> 
> 赞同：1
> 
> 时间：2012-08-02T11:53:04.053
> 
> 标签：c#, oop

我们有 3 个类负责处理图像。老板让我合并它。我将它合并到一个文件中，但他说这是同一件事，我们需要将其合并到一般逻辑中。我们如何将这 3 个吸气剂合并成一个通用吸气剂？它们仅在传递给 Type.GetType() 的参数类型上有所不同。我们需要使用一个通用属性和一个通用 getter。

```
public class BonusImageHandler
{
    private static IStorageProvider _BAstorageProvider; 
    private static IStorageProvider _BAWP8storageProvider;
    private static IStorageProvider _M4MstorageProvider;

    private static readonly object _lock = new object();

    private static IStorageProvider BAStorageProvider
    {
        get
        {
            lock (_lock)
            {
                if (_BAstorageProvider == null)
                {
                    lock (_lock)
                    {
                        var storageProviderType = Type.GetType(BLL.Providers.ConfigurationProvider.Instance.BAStorageProviderTypeName);
                        _BAstorageProvider = (IStorageProvider)Activator.CreateInstance(storageProviderType);
                    }
                }
            }
            return _BAstorageProvider;
        }
    }

    private static IStorageProvider BAWP8StorageProvider
    {
        get
        {
            lock (_lock)
            {
                if (_BAWP8storageProvider == null)
                {
                    lock (_lock)
                    {
                        var storageProviderType = Type.GetType(BLL.Providers.ConfigurationProvider.Instance.BAWP8StorageProviderTypeName);
                        _BAWP8storageProvider = (IStorageProvider)Activator.CreateInstance(storageProviderType);
                    }
                }
            }
            return _BAWP8storageProvider;
        }
    }

    private static IStorageProvider M4MStorageProvider
    {
        get
        {
            lock (_lock)
            {
                if (_M4MstorageProvider== null)
                {
                    lock (_lock)
                    {
                        var storageProviderType = Type.GetType(BLL.Providers.ConfigurationProvider.Instance.M4MStorageProviderTypeName);
                        _M4MstorageProvider= (IStorageProvider)Activator.CreateInstance(storageProviderType);
                    }
                }
            }
            return _M4MstorageProvider;
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T11:56:29.107

像这样的方法：

```
public void GetProvider(string typeName, ref IStorageProvider provider)
{
    if (provider == null)
    {
        lock (_lock)
        {
            if (provider == null)
            {
                var storageProviderType = Type.GetType(typeName);
                provider = (IStorageProvider)Activator.CreateInstance(storageProviderType);
            }
        }
    }
} 
```

应该做的伎俩。然后你这样称呼它：

```
private static IStorageProvider BAWP8StorageProvider
{
    get
    {
        GetProvider(BLL.Providers.ConfigurationProvider.Instance.BAWP8StorageProviderTypeName, ref _BAWP8storageProvider);
        return _BAWP8StorageProvider;
    }
} 
```

虽然我个人会失去 _BAWP8StorageProvider 类成员，而只使用属性（这也会删除丑陋的`ref`参数）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T12:03:39.780

辅助方法：

```
static IStorageProvider GetStorageProvider(ref IStorageProvider field, string name)
{
    lock(_lock)
    {
        if(field == null)
        {
            var storageProviderType = Type.GetType(name);
            field = (IStorageProvider)Activator.CreateInstance(storageProviderType);
        }
    }
    return field;
} 
```

用法：

```
private static IStorageProvider BAStorageProvider
{
    get
    {
        return GetStorageProvider(
            ref _BAstorageProvider,
            BLL.Providers.ConfigurationProvider.Instance.BAStorageProviderTypeName);
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T12:40:00.440

```
private static IStorageProvider GetProvider(string typeName)
{
    return (IStorageProvider)Activator.CreateInstance(Type.GetType(typeName));
}

private static readonly Lazy<IStorageProvider> _BAstorageProvider =
    new Lazy<IStorageProvider>(
        () => GetProvider(
            BLL.Providers.ConfigurationProvider.Instance.BAStorageProviderTypeName),
        LazyThreadSafetyMode.ExecutionAndPublication);
private static readonly Lazy<IStorageProvider> _BAWP8storageProvider =
    new Lazy<IStorageProvider>(
        () => GetProvider(
            BLL.Providers.ConfigurationProvider.Instance.BAWP8StorageProviderTypeName),
        LazyThreadSafetyMode.ExecutionAndPublication);
private static readonly Lazy<IStorageProvider> _M4MstorageProvider =
    new Lazy<IStorageProvider>(
        () => GetProvider(
            BLL.Providers.ConfigurationProvider.Instance.M4MStorageProviderTypeName),
        LazyThreadSafetyMode.ExecutionAndPublication);

private static IStorageProvider BAStorageProvider
{
    get
    {
        return _BAstorageProvider.Value;
    }
}

private static IStorageProvider BAWP8StorageProvider
{
    get
    {
        return _BAWP8storageProvider.Value;
    }
}

private static IStorageProvider M4MStorageProvider
{
    get
    {
        return _M4MStorageProvider.Value;
    }
} 
```

（但我建议使用依赖容器）

# java - 运行测试用例时Spring依赖注入null

> ID：11776847
> 
> 赞同：2
> 
> 时间：2012-08-02T11:53:08.583
> 
> 标签：java, spring, dependency-injection, junit

我正在使用 Spring 3.0 和 jUnit 4.8，并且正在尝试开发一些单元测试。

实际上，我只是尝试在 jUnit 使用的应用程序上下文中加载的 XML 中定义的测试用例中使用依赖注入设置 bean 的属性（文件）。

我正在使用使用 jUnit 4 方法的注释加载的 XML 文件配置。这是所有测试类使用的主要 BaseTest：

```
@ContextConfiguration("/test-context.xml")
@RunWith(SpringJUnit4ClassRunner.class)
@Ignore
public class BaseTest { ... } 
```

这是一部分`test-context.xml`

```
<context:component-scan base-package="com.test" />  

<bean id="ExtractorTest" class="com.test.service.ExtractorTest">
    <property name="file" value="classpath:xls/SimpleFile.xls"></property>
</bean> 
```

所以我试图在我的类中使用测试（`ExtractorTest`）做的只是用类路径中加载的文件设置“文件”属性，没有别的。

这是包含测试的课程的一部分：

```
public class ExtractorTest extends BaseTest {

    private Resource file;
    private InputStream is;

    public void setFile(Resource file) {
        this.file = file;
    }

    @Before
    public void init() {
        this.is = this.getClass().getResourceAsStream("/xls/SimpleFile.xls");
        Assert.assertNotNull(is);
    }

    @Test
    public void testLoadExcel() throws IOException {
        // file is always null, but the InputStream (is) isn't!
        Assert.assertNotNull(file.getFile());
        InputStream is = new FileInputStream(file.getFile());
        HSSFWorkbook wb = new HSSFWorkbook(new POIFSFileSystem(is));
        // todo...
    } 
```

}

问题是 setter 可以工作，因为我添加了一个断点并且 Spring 正在设置它的属性。但是当测试方法启动时它是空的，可能是因为它是另一个正在运行的实例，但是为什么呢？如何使用应用程序上下文的 XML 设置要加载的“文件”以进行测试？我无法使用 jUnit 分配它，我不明白为什么以及如何去做。我试图避免在 @Before 方法中写入，但我不知道这绝对是一个好方法......

谢谢你。

PD：对不起我的英语;-)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:00:07.207

您的配置不起作用，因为 Spring 没有创建`ExtractorTest`JUnit 使用的实例；相反，该实例由 JUnit 创建，然后传递给 Spring 进行后期处理。

您看到的效果是因为应用程序上下文创建了一个具有 id 的 bean，`ExtractorTest`但没有人使用它。

伪代码：

```
ApplicationContect appContext = new ...
appContext.defineBean("ExtractorTest", new ExtractorTest()); // Calls setter

ExtractorTest test = new ExtractorTest(); // Doesn't call setter
test.postProcess(appContext); // inject beans from appContext -> does nothing in your case 
```

所以解决方案是定义一个bean `file`：

```
<bean id="file" class="..." /> 
```

（请参阅文档如何构建`Resource`bean）然后让 Spring 注入：

```
@Autowired
private Resource file; 
```

# javascript - Goo.gl 的 URL 缩短 API 的列表分析

> ID：11776848
> 
> 赞同：3
> 
> 时间：2012-08-02T11:53:13.717
> 
> 标签：javascript, api, list, url-shortener

我一直在挖掘谷歌关于其 url Shorter API 的文档，但无济于事。我试图避免使用 oAuth 而只使用 javascript 来列出统计信息。理论上，应该可以列出使用特定 API 密钥缩短的所有 url 的统计信息，但我得到的状态为 401（未授权）

谁能告诉我这是否可能 - 或者我如何仅使用 JS 和 API 密钥作为授权列出特定域的所有 url 缩短统计信息？

样品要求：

```
https://www.googleapis.com/urlshortener/v1/url/history?key=myAPIkey&start-token=10&projection=FULL 
```

文档： [https ://developers.google.com/url-shortener/v1/url/list](https://developers.google.com/url-shortener/v1/url/list)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:04:48.537

API 文档说：“**此请求需要**至少具有以下范围之一的授权（[阅读有关身份验证和授权](https://developers.google.com/url-shortener/v1/getting_started#auth)的更多信息）。” 当您点击链接阅读更多内容时，它会说：

> 如果请求需要授权（例如对个人私人数据的请求），**则应用程序必须在请求中提供 OAuth 2.0 令牌**。应用程序也可以提供 API 密钥，但不是必须的。

因此，您需要提供 OAuth 令牌才能使用该`url/list`资源（[但不是`url/get`，所以请看一下](https://developers.google.com/url-shortener/v1/url/get)）。

# php - 在没有循环的情况下更新 MySQL 中的多行

> ID：11776850
> 
> 赞同：3
> 
> 时间：2012-08-02T11:53:22.920
> 
> 标签：php, mysql, sql-update

我正在尝试为我创建的招聘网站编写一个电子邮件通知系统，目前正在考虑将一定数量的工作组合在一起，然后再向候选人发送电子邮件

我有一个我称之为candidate_to_job 的表，其中包含candidate_id、job_id 和“通过电子邮件发送”的布尔值

我正在努力的是在发布新工作并发送电子邮件时更新该表。到目前为止，当发布新工作时，我运行以下命令：

```
SELECT     c2j.candidate_id, c2j.job_id, j.title 
FROM       " . DB_PREFIX . "candidate_to_job c2j 
LEFT JOIN  " . DB_PREFIX . "job j 
       ON  (j.job_id = c2j.job_id) 
WHERE      c2j.emailed = 0 
```

然后通过 PHP 我将它们组合在一起，所以我有一个看起来像这样的数组：

```
$candidates = array(
    1 => array(1,2,3),
    2 => array(1,3),
    3 => array(4,5,6)
); 
```

数组键是候选 ID，值是作业 ID 数组

我想要使​​用该数组执行的操作 - 在发送电子邮件后 - 将通过电子邮件发送给 true 的 Candidate_to_job 表设置更新为 true，例如，对于 job_ids 1、2 和 3，candidate_id 1 将通过电子邮件设置为 true

有没有办法在一个查询中做到这一点？我看过 WHEN CASE 语句，但我认为这不适用于这种情况？我真的不想为每个候选人运行多个查询，因为可能有数千个！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:09:44.480

You can run one `UPDATE` query per group provided that the group can share the same `WHERE` criteria and the same update values.

```
UPDATE tbl SET value = TRUE WHERE id IN(1,2,3,4,5,6);
UPDATE tbl SET value = FALSE WHERE id IN(7,8,9,10,11); 
```

Or you can use the `WHEN` clause or even some `IF` clauses provided that the criteria are simple enough.

```
UPDATE tbl SET value = IF(id = 1) WHERE id IN(1,2);
UPDATE tbl
    SET value = CASE
                    WHEN id IN (1,2,3,4,5,6) THEN TRUE
                    WHEN id IN (7,8,9,10,11) THEN FALSE
                    ELSE value
                END
    WHERE id IN (1,2,3,4,5,6,7,8,9,10,11); 
```

Having possibly thousands of `WHEN` cases, may be a hassle to build/change, I'd go with the first option:

Flip the old key=>value array and keep all ids connected to a value:

```
foreach($list AS $id => $value) {
    $list2[$value][] = $id;
} 
```

Iterate through the value=>keys array and build `UPDATE` queries that can bulk update the value for all keys at once.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:53:36.300

这就是你所追求的吗？您可以使用 from 和 where 进行连接，而无需在 PHP 中动态生成 SQL。

```
UPDATE " . DB_PREFIX . "candidate_to_job c2j 
SET emailed = 1
FROM  " . DB_PREFIX . "job j 
WHERE j.job_id = c2j.job_id and
      c2j.emailed = 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T12:28:02.967

如果您在 PHP 中使用 mysqli 扩展而不是 mysql，您还可以编写多个以 ';' 分隔的语句 并在一个查询中发送所有这些。这可能会导致代码比带有案例的复杂 UPDATE 稍微简单一些。

我认为这不会比一个复杂的 UPDATE 语句花费更多的性能。

# eclipse - 无法在 mousedown 事件上将 ui 小部件添加到 Eclipse RCP 视图

> ID：11776851
> 
> 赞同：1
> 
> 时间：2012-08-02T11:53:24.247
> 
> 标签：eclipse, view, widget, add, rcp

我正在尝试通过单击现有按钮在 RPC 视图上添加新的小部件。我正在使用的代码如下：

```
public void createPartControl(final Composite parent) {

    parent.setLayout(new RowLayout(SWT.HORIZONTAL));

    Button btnNewButton = new Button(parent, SWT.NONE);
    btnNewButton.setText("New Button");

    btnNewButton.addMouseListener(new MouseAdapter() {
        @Override
        public void mouseDown(MouseEvent e) {
                    Button b=new Button(parent,SWT.BUTTON1);
                    b.setText("asdasd");
        }
    });

} 
```

按钮被添加到视图中，但不可见。如果我调整视图大小，它们就会变得可见。为什么会发生这种情况，如何解决？我需要以某种方式刷新视图或调用调整大小操作调用的事件。

附加的代码在标准 java 应用程序中没有问题。

谢谢你，尼克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:45:05.883

`Composite`添加小部件时调用父级的布局方法：

```
btnNewButton.addMouseListener(new MouseAdapter() {
    @Override
    public void mouseDown(MouseEvent e) {
                Button b=new Button(parent,SWT.BUTTON1);
                b.setText("asdasd");
                parent.layout();
    }
}); 
```

# objective-c - 空 NSString 不记录

> ID：11776853
> 
> 赞同：0
> 
> 时间：2012-08-02T11:53:52.467
> 
> 标签：objective-c, nsstring, init

我想为 nsstring 设置自动值（如 c 构造函数）。请看下面：

```
NSLog(@"%@",[[currentNode element] class]);
NSLog(@"%@",[currentNode element]);
NSLog(@"hi!!!!"); 
```

安慰：

```
2012-08-02 14:43:46.958 Test[5070:207] NSCFString
2012-08-02 14:43:46.961 Test[5070:207] hi!!!! 
```

由于 [currentNode element] 为空，第二个 NSlog 不起作用！我怎样才能设置像@“-----”这样的值？我试图覆盖'init'，但没有奏效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T11:57:22.817

使用一个简单的宏：

```
#define MIGHT_BE_EMPTY(s) [s length] > 0 ? s : @"-----"

NSLog(@"%@", MIGHT_BE_EMPTY([currentNode element])); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:00:20.270

它可能会帮助您：

```
NSLog(@"%@", [[currentNode element] isEqualToString:@""]?(@"-----"):([currentNode element])); 
```

或这个

```
NSLog(@"string is : %@", [currentNode element])); 
```

# xamarin.ios - 当我将 UIViewController 推到 UINavigationController 上时调整它的大小

> ID：11776855
> 
> 赞同：0
> 
> 时间：2012-08-02T11:54:20.167
> 
> 标签：xamarin.ios

我有一个 UINavigationController，我很高兴地使用它。但是我想将 UIViewController 推到屏幕上，但我希望它比现有的要小。我下面的代码不会调整新 ViewController 的大小。它仍然全屏显示。

```
public void DisplayEditWindow () {
    editViewController = new EditViewController(UITableViewStyle.Grouped);
    editViewController.View.Frame = new RectangleF(0, 0, 500, 600);
    navigationController.PushViewController (editViewController, true);
} 
```

我确定我在做一些愚蠢的事情，但我看不出是什么。非常感谢所有帮助。

麦克风

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T19:52:42.343

`UINavigationController`不能以这种方式工作。 `PresentModalViewController`也不起作用，您最终会在另一个视图所在的位置出现黑屏（除非您使用仅适用于 iPad 的特定过渡）。

获得这种效果的唯一方法是在现有视图中添加一个新的子视图。这当然更复杂，因为您必须自己管理解除它并手动编写任何过渡动画。

# c# - 在 Web 应用程序中模仿用户行为的最佳实践

> ID：11776864
> 
> 赞同：1
> 
> 时间：2012-08-02T11:54:59.157
> 
> 标签：c#, .net

我想知道在编写模拟用户与其他 Web 应用程序交互的应用程序时是否使用了任何最佳实践或常见模式。

我知道自动化 UI 测试会做这类事情，在旅游网站上汇总机票价格的应用程序也是如此。

有什么模式可以帮助解决这个问题。我将在 .NET 中编写一个应用程序，所以也许我可以查看一些特定的类。

我很感激任何帮助。

谢谢。

注意：我不需要专门的自动化测试套件。

我想要实现的是登录到一个网站，加载几个页面，进行一些计算并基于这些网站上的帖子更新。我将在许多网站上做类似的事情，所以如果可能的话，我会尝试重用现有工具，并且不想开始使用 HttpRequest 类。我希望这可以澄清我的问题，我很感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:03:58.107

这里有两种可能。

如果您想从网站上抓取数据（例如汇总航班价格），您编写的代码将直接与 Web 服务器通信，并且通常不会模拟与 UI 的交互。您[从服务器中提取数据并使用](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx)[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)之类的东西来解析和处理它。

如果您想模拟与 UI 的交互以进行测试，您可以使用[Selenium](http://seleniumhq.org/)之类的东西。

这实际上取决于您要实现的目标 - 无论是测试应用程序还是某种数据挖掘。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:16:04.757

我目前正在使用[WatiN](http://watin.org/)来自动化大多数测试。如果你不想写很多东西，你可以使用VS2010 附带的[Coded UI 测试。](http://blogs.msdn.com/b/mathew_aniyan/archive/2009/01/21/tutorial-how-to-create-a-coded-ui-test.aspx)正如@Andrew 所说 - Selenium 也很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-03T03:01:18.270

对于 .NET 中的网络抓取，我最近发现了[ScrapySharp](http://www.romcyber.com/post/2011/09/07/ScrapySharp.aspx)。文档似乎很少，作者似乎是法国人。但总的来说，它为我完成了这项工作，节省了很多样板文件，而且使用那个漂亮的库不需要知道太多。

# android - getLocationOnScreen 返回的位置是什么？

> ID：11776867
> 
> 赞同：6
> 
> 时间：2012-08-02T11:55:25.883
> 
> 标签：android

据我了解，当我们将 int[2] 位置数组传递给 view.getLocationOnScreen(location) 时，我们将获得该视图的左上角坐标。但是当我调试这个函数时，我看到那个位置返回到那个视图的右、顶坐标。我的屏幕是 480x800，视图的边距是 40，所以视图的右坐标是 440，它等于从 view.getLocationOnScreen(location) 返回的 location[0]。为什么位置 [0] 返回视图的正确坐标？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-03T02:19:16.257

它是该视图的左上角坐标的精确返回。我得到了错误的值，因为在我调用 view.getLocationOnScreen(location) 之前我的视图仍未呈现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-23T18:11:37.580

为了确认接受的答案，根据 ; 的实现，坐标确实似乎是视图的**左上角**`getLocationOnScreen`；此外，y 轴是倒置的。

```
public void getLocationOnScreen(@Size(2) int[] outLocation) {
    getLocationInWindow(outLocation);

    final AttachInfo info = mAttachInfo;
    if (info != null) {
        outLocation[0] += info.mWindowLeft;
        outLocation[1] += info.mWindowTop;
    }
} 
```

# backbone.js - 骨干集合 - 模型更新

> ID：11776873
> 
> 赞同：2
> 
> 时间：2012-08-02T11:55:43.023
> 
> 标签：backbone.js, backbone-events

我从服务器检索模型列表到集合中。当用户对特定模型感兴趣时，我会根据 id 将其路由到该模型的查看器。

现在，假设用户需要在视图中编辑该模型 - 例如：他更新了他的名字。我设置模型的 url，更新名称并调用保存。它调用后端（在我的例子中是泽西岛）并被保存。但是，该集合仍未自动更新。

为什么集合不能绑定到模型中的每个更改并自行更新？

保存作为集合一部分的模型的正确方法是什么？在模型上调用保存（通过设置其 url）然后从其父集合中删除然后再次使用静默：true 添加它是否正确？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T13:57:00.027

### 合集没更新？

当您说*“集合不会自动更新”*时，我猜您的意思是*“视图不会自动更新”*。

视图不会响应模型更改，至少您使用*绑定*明确表示：

```
// code simplified and no tested
var MyModel = Backbone.Model.extend({});

var MyModelView = 
  Backbone.View.extend({
    initialize: function(){
      this.model.on( "change:all", this.render, this );
    },
    render: function(){
      this.$el.html( "<h1>" + this.model.title + "</h1>" );
    }
  }) 
```

### 为每个模型显式声明 URL

正如@OlliM 所说，如果您的后端支持标准 CRUD API，则不需要这样做。您可以像这样在 Collection 中声明 URL：

*   `/app/collection`

Backbone 将使用这些 URL 作为 API：

*   (GET)`/app/collection`获取整个集合
*   (GET)`/app/collection/1`仅获取 id = 1 的模型
*   (PUT)`/app/collection/1`使用 id = 1 更新模型
*   (POST)`/app/collection`创建一个新模型
*   ...删除等等

# c# - 如何测量超链接元素的高度？

> ID：11776878
> 
> 赞同：1
> 
> 时间：2012-08-02T11:55:54.527
> 
> 标签：c#, .net, wpf, hyperlink, flowdocument

我想为 WPF RichTextBox 中的超链接创建简单的“延迟加载工具提示”。

我使用 Popup 控件执行此操作，如下所示：

```
 private Popup popup;
    private void Hyperlink_MouseEnter(object sender, MouseEventArgs e)
    {
        Hyperlink hyper = sender as Hyperlink;
        popup = new Popup();
        popup.Child = new Label() { Content = "content of the popup" };
        popup.IsOpen = true;
        var pos = e.GetPosition(richTextBox);
        popup.Placement = PlacementMode.RelativePoint;
        popup.PlacementTarget = richTextBox;
        popup.HorizontalOffset = pos.X;
        popup.VerticalOffset = pos.Y + 30;
    } 
```

为此，我必须测量给定超链接元素的高度（以像素为单位），因此我可以用正确的值替换这个“30”常数。

有没有办法测量 WPF 中超链接的高度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T18:41:22.413

您将要测量字体高度 `Font.Height`，然后将其与元素的基本位置一起使用来确定放置工具提示的高度

# sqlite - SQLite 查询 - || 或者。串联结果

> ID：11776889
> 
> 赞同：0
> 
> 时间：2012-08-02T11:56:46.687
> 
> 标签：sqlite, concatenation

我对以下查询有疑问：

```
SELECT DISTINCT city || strftime("%Y", begintime) FROM Texts_original1 
```

查询本身有效，但结果本身是连接的，因此而不是例如：

```
city = Dublin 
strftime("%Y", begintime) = 2008 
```

我得到：

```
city || strftime("%Y", begintime) = Dublin2008 
```

任何想法如何避免这种连接并将响应分开到不同的列？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:00:28.337

> || 运算符是“连接” - 它将其操作数的两个字符串连接在一起。（[来源](http://www.sqlite.org/lang_expr.html)）

因此，无论您尝试做什么，`||`操作员都不是您想要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:05:20.113

更改`||`a`comma`以使其成为不同的列。如果您尝试执行此操作会发生什么？

```
SELECT DISTINCT city, strftime("%Y", begintime) 
FROM Texts_original1 
```

您试图提及这一点：***如何避免这种连接并使响应分离到不同的列***

# c# - 正则表达式根据匹配替换为单独的替换

> ID：11776890
> 
> 赞同：1
> 
> 时间：2012-08-02T11:56:51.343
> 
> 标签：c#, regex, replace, pattern-matching

假设我有一本字典（**单词**及其替换）：

```
var replacements = new Dictionary<string,string>();
replacements.Add("str", "string0");
replacements.Add("str1", "string1");
replacements.Add("str2", "string2");
... 
```

输入字符串为：

```
 string input = @"@str is a #str is a [str1] is a &str1 @str2 one test $str2 also [str]"; 
```

**编辑**：
预期输出：

```
string0 is a string0 is string0 is string1 string2 one test string2 
```

我想用字典中**相应**的条目/值替换所有出现的“ **[CharSymbol]word** ” 。

 **其中**Charsymbol**可以是 @#$%^&*[] .. 也可以是单词有效后的 ']' ，即 [str] 。

我尝试了以下替换

```
string input = @"@str is a #str is a [str1] is a &str1 @str2 one test $str2 also [str]"; 
string pattern = @"(([@$&#\[]+)([a-zA-Z])*(\])*)"; // correct?
Regex re = new Regex(pattern, RegexOptions.IgnoreCase | RegexOptions.Compiled);
// string outputString = re.Replace(input,"string0"); 
 string newString = re.Replace(input, match =>   
         {  
             Debug.WriteLine(match.ToString()); // match is [str] #str 
             string lookup = "~"; // default value
             replacements.TryGetValue(match.Value,out lookup);
             return lookup;
         }); 
```

我如何获得匹配为 str 、 str1 等，即没有字符符号的单词。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:04:38.837

这适合吗？

```
(?<=[#@&$])(\w+)|[[\w+]] 
```

它与您的示例中的以下内容匹配：

@ `str`is a # `str`is a [ `str`] is a & `str1`@ `str2`one test $`str2`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:04:40.337

试试这个`Regex`: `([@$&#\[])[a-zA-Z]*(\])?`，并替换为`string0`

你的代码应该是这样的：

```
var replacements = new Dictionary<string, string>
                        {
                            {"str", "string0"},
                            {"str1", "string1"},
                            {"str2", "string2"}
                        };

String input="@str is a #str is a [str] is a &str @str can be done $str is @str";

foreach (var replacement in replacements)
{
    string pattern = String.Format(@"([@$&#\[]){0}(\])?", replacement.Key);
    var re = new Regex(pattern, RegexOptions.IgnoreCase | RegexOptions.Compiled);
    string output = re.Replace(input, 
                               String.Format("{0}", replacement.Value)); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T15:51:29.447

将您的正则表达式更改为：

```
// Move the * inside the brackets around [a-zA-Z]
// Change [a-zA-Z] to \w, to include digits.
string pattern = @"(([@$&#\[]+)(\w*)(\])*)"; 
```

更改此行：

```
replacements.TryGetValue(match.Value,out lookup); 
```

对此：

```
replacements.TryGetValue(match.Groups[3].Value,out lookup); 
```

注意：您`IgnoreCase`不是必需的，因为您匹配正则表达式中的大小写。**

# actionscript-3 - 在这种情况下如何循环timelinemax动画

> ID：11776893
> 
> 赞同：2
> 
> 时间：2012-08-02T11:57:04.673
> 
> 标签：actionscript-3, loops, tween, gsap

我有这个代码：

```
import com.greensock.*;
import com.greensock.easing.*;
import com.greensock.events.*;

var timeline:TimelineMax = new TimelineMax({yoyo:true,repeat:1});
var timeline2:TimelineMax = new TimelineMax({repeat:0,delay:12});

timeline.appendMultiple([ 
 TweenLite.from(crno_mc, .2, {x:-450,ease:Cubic.easeInOut}), 
 TweenLite.from(plavo_mc, .2, {x:-450,ease:Cubic.easeInOut}),
     TweenLite.from(network_mc, .6, {x:-450,ease:Cubic.easeInOut}),
 TweenLite.from(computers_mc, .6, {x:-450,ease:Cubic.easeInOut}), 
     TweenLite.from(odzaci_mc, .6, {x:-450,ease:Cubic.easeInOut}),
 TweenLite.from(adresa_mc, 1, {x:-350,ease:Cubic.easeInOut}),
 TweenLite.to(adresa_mc, 1, {x:50,ease:Cubic.easeInOut}),
 ], 1, TweenAlign.SEQUENCE, .3);

timeline2.appendMultiple([
   TweenLite.to(krediti_mc, .2, {x:10,ease:Cubic.easeInOut}), 
   TweenLite.to(dodva_mc, .3, {x:10,ease:Cubic.easeInOut}),
   TweenLite.to(nula_mc, 1, {x:10,ease:Bounce.easeOut}),
       TweenLite.to(tel_mc, .6, {x:10,ease:Cubic.easeInOut}),
   TweenLite.to(comp_mc, 1, {x:110,ease:Cubic.easeInOut}), 
], 1, TweenAlign.SEQUENCE, .5); 
```

如何循环这两个补间？当第二个动画完成时，它会停止。是否可以在无限循环中一个接一个地运行时间线？

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-02T21:23:16.073

您可以根据需要将时间线嵌套在时间线中的深度，因此您可以简单地将两个时间线附加到具有重复：-1（这意味着永远重复）的主时间线。在现有代码下方添加：

```
var master:TimelineMax = new TimelineMax({repeat:-1});
master.append(timeline);
master.append(timeline2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:26:05.753

由于您可以计算完成动画的时间，因此您可以使用

延迟调用 ()

您还可以在 TweenLite.to 函数上使用 onComplete var，请参阅[文档](http://www.greensock.com/as/docs/tween/)

# c# - 通过互操作库 C# 向多个收件人发送邮件

> ID：11776894
> 
> 赞同：4
> 
> 时间：2012-08-02T11:57:07.573
> 
> 标签：c#, visual-studio-2010, office-interop, outlook-2010

我正在开发一个具有邮件发送选项的桌面应用程序。我有以下代码，它仅适用于 1 个收件人：

```
DialogResult status;
status = MessageBox.Show("Some message", "Info", MessageBoxButtons.OKCancel, MessageBoxIcon.Information);
if (status == DialogResult.OK)
{
    try
    {
        // Create the Outlook application.
        Outlook.Application oApp = new Outlook.Application();
        // Create a new mail item.
        Outlook.MailItem oMsg = (Outlook.MailItem)oApp.CreateItem(Outlook.OlItemType.olMailItem);

        // Set HTMLBody. 
        //add the body of the email
        oMsg.HTMLBody = "<html>" +
                "<body>" +
                "some html text" +
                "</body>" +
                "</html>";

        int iPosition = (int)oMsg.Body.Length + 1;
        //Subject line
        oMsg.Subject = txt_mailKonu.Text;
        oMsg.Importance = Outlook.OlImportance.olImportanceHigh;
        // Recipient
        Outlook.Recipients oRecips = (Outlook.Recipients)oMsg.Recipients;    
        //Following line causes the problem  
        Outlook.Recipient oRecip = (Outlook.Recipient)oRecips.Add(senderForm.getRecipientList().ToString());
        oRecip.Resolve();
        //oRecip.Resolve();
        // Send.
        oMsg.Send();
        // Clean up.
        oRecip = null;
        oRecips = null;
        oMsg = null;
        oApp = null;
        MessageBox.Show("Successful", "Info", MessageBoxButtons.OK, MessageBoxIcon.Information);
    }
    catch (Exception)
    {
        MessageBox.Show("Failed", "Eror", MessageBoxButtons.OK, MessageBoxIcon.Error);
    }                
} 
```

我在以以下模式添加多个收件人的粗体行出现错误：john.harper@abcd.com; adam.smith@abcd.com

它适用于 1 个地址，但是当我将多个地址分开时，它会引发**COM 异常 - Outlook 无法解析一个或多个名称。**

希望你能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:26:27.820

您是否尝试添加多个收件人`oMsg.Recipients`？

```
// I assume that senderForm.getRecipientList() returns List<String>
foreach(String recipient in senderForm.getRecipientList())
{
    Outlook.Recipient oRecip = (Outlook.Recipient)oRecips.Add(recipient);
    oRecip.Resolve();
} 
```

`senderForm.getRecipientList().ToString()`如果需要，你可以爆炸

```
String [] rcpts = senderForm.getRecipientList().ToString().Split(new string[] { "; " }, StringSplitOptions.None); 
```

`foreach`并在循环中使用新对象。

# php - PHP 等价于 JavaScript function()['index']

> ID：11776895
> 
> 赞同：-1
> 
> 时间：2012-08-02T11:57:11.093
> 
> 标签：php, arrays

> **可能重复：**
> [php中函数返回的访问数组](https://stackoverflow.com/questions/1459377/access-array-returned-by-a-function-in-php)

琐碎的问题；是否可以从 PHP 函数中获取返回数组的当前索引，就像 JavaScript 可以这样：

```
function returnSomething()
{
    return ['one', 'two', 'three'];
}

var two = returnSomething()[1]; // two 
```

我一直想知道 PHP 是否可以做到这一点，我很久以前就尝试过（但这样做是无效的），从来没有在这里问过。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T11:58:36.097

[PHP从 5.4 开始](http://php.net/manual/en/migration54.new-features.php)可以做到这一点；它被称为[数组解引用](http://schlueters.de/blog/archives/138-Features-in-PHP-trunk-Array-dereferencing.html)。

# algorithm - 移动平均精度？

> ID：11776896
> 
> 赞同：0
> 
> 时间：2012-08-02T11:57:18.840
> 
> 标签：algorithm, language-agnostic, approximation, tradeoff

我有一些人们对事物进行投票的数据，如果对每个项目进行平均投票，那将是很好的选择。您可以将投票视为不断传入的数字流。现在我可以准确地计算出平均值，但要做到这一点，我必须存储两个数字，要么是总数，要么是当前平均值，以及到目前为止已经看到的项目数。如果我这样做，我可以使用

```
AVG[n+1] = (AVG[n]*count + item)/(count+1) 
```

但这很痛苦，因为它迫使我为每个我想要投票的项目存储两条数据。我知道还有另一种方法称为移动平均值或迭代器平均值，它可以处理流数据，但只会给出一个近似平均值，如下所示：

```
AVG[n+1] = alpha*(item - AVG[n]) + AVG[n] 
```

其中 alpha 是一些小的固定学习率。这只是试图将新平均值向新项目的方向移动，并按与该新项目与当前估计值之间的差异成比例的量移动。这给了我一种方法，只需要存储一个数字（当前平均值）并且当有新项目进入时仍然能够更新它，但代价是这只是一个近似值。

我想知道这种方法引入的错误是否有任何已知的界限......是否有一个公式来估计这个估计与事实的差距，以及我应该如何选择一个好的阿尔法？有关此[帖子](http://cheind.wordpress.com/2010/01/23/simple-moving-average/)和此[问题](https://stackoverflow.com/questions/1058813/on-line-iterator-algorithms-for-estimating-statistical-median-mode-skewnes)的更多信息。

# asp.net - facebook 登录 asp.net

> ID：11776898
> 
> 赞同：0
> 
> 时间：2012-08-02T11:57:19.670
> 
> 标签：asp.net, facebook

我正在使用 asp.net/vb.net 开发 Web 应用程序，我们有一个用户帐户和登录等。

我们想在网站上添加“使用 Facebook 登录”，但在 Facebook 对话框显示和用户点击后的问题 Facebook 会返回什么？他们的文档没有显示下一步应该做什么。我已选择该应用程序将返回查询字符串，但我没有看到它们，或者我可能不知道如何接收它们。我已经放了他们的按钮代码，它工作正常，它调用了对话框。

我的问题是下一步是什么对不起我已经阅读了他们网站上的文档但它没有显示下一步要做什么请指导我或指导我找到正确的文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T14:09:12.333

几周前我和你的情况完全一样。我发现了一篇关于使用名为 Hammock 的 C# REST 库的非常好的文章。在这里查看教程：[http ://www2.suddenelfilio.net/2010/09/08/connect-to-facebook-using-asp-net-facebook-graph-api-hammock/](http://www2.suddenelfilio.net/2010/09/08/connect-to-facebook-using-asp-net-facebook-graph-api-hammock/)

使用 Hammock，您可以将所需的信息从 Facebook 获取到您自己的应用程序中。

# cordova - datePicker 插件在 Phonegap 2.0 中不起作用

> ID：11776905
> 
> 赞同：2
> 
> 时间：2012-08-02T11:57:41.390
> 
> 标签：cordova, datepicker, phonegap-plugins, android-datepicker

升级到 Phonegap 2.0 后，datePicker 插件不起作用。错误是：未捕获的类型错误：无法读取未定义的属性“datePicker”。

javascript代码上出现错误：window.plugins.datePicker.show({...

DatePicker js 文件：

```
/**
* Phonegap DatePicker Plugin Copyright (c) Greg Allen 2011 MIT Licensed
* Reused and ported to Android plugin by Daniel van 't Oever
*/
if (typeof cordova !== "undefined") {
/**
 * Constructor
 */
function DatePicker() {
    this._callback;
}

/**
 * show - true to show the ad, false to hide the ad
 */
DatePicker.prototype.show = function(options, cb) {
    if (options.date) {
        options.date = (options.date.getMonth() + 1) + "/" + (options.date.getDate()) + "/" + (options.date.getFullYear()) + "/"
                + (options.date.getHours()) + "/" + (options.date.getMinutes());
    }
    var defaults = {
        mode : '',
        date : '',
        allowOldDates : true
    };

    for ( var key in defaults) {
        if (typeof options[key] !== "undefined")
            defaults[key] = options[key];
    }
    this._callback = cb;

    return cordova.exec(cb, failureCallback, 'DatePickerPlugin', defaults.mode, new Array(defaults));
};

DatePicker.prototype._dateSelected = function(date) {
    var d = new Date(parseFloat(date) * 1000);
    if (this._callback)
        this._callback(d);
};

function failureCallback(err) {
    console.log("datePickerPlugin.js failed: " + err);
}

cordova.addConstructor(function() {debugger;
    if (!window.plugins) {
        window.plugins = {};
    }
    window.plugins.datePicker = new DatePicker();
});
}; 
```

DatePicker 插件 java 文件：

```
 /**
 * 
 */
package com.phonegap.plugin;

import java.util.Calendar;
import java.util.Date;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.app.DatePickerDialog;
import android.app.DatePickerDialog.OnDateSetListener;
import android.app.TimePickerDialog;
import android.app.TimePickerDialog.OnTimeSetListener;
import android.util.Log;
import android.widget.DatePicker;
import android.widget.TimePicker;

import org.apache.cordova.DroidGap;
import org.apache.cordova.api.Plugin;
import org.apache.cordova.api.PluginResult;

/**
 * @author ng4e
 * @author Daniel van 't Oever
 * 
 *         Rewrote plugin so it it similar to the iOS datepicker plugin and it
 *         accepts prefilled dates and time
 */
public class DatePickerPlugin extends Plugin {

    private static final String ACTION_DATE = "date";
    private static final String ACTION_TIME = "time";
    private final String pluginName = "DatePickerPlugin";

    /*
     * (non-Javadoc)
     * 
     * @see com.phonegap.api.Plugin#execute(java.lang.String,
     * org.json.JSONArray, java.lang.String)
     */
    @Override
    public PluginResult execute(final String action, final JSONArray data, final String callBackId) {
        Log.d(pluginName, "DatePicker called with options: " + data);
        PluginResult result = null;

        this.show(data, callBackId);
        result = new PluginResult(PluginResult.Status.NO_RESULT);
        result.setKeepCallback(true);

        return result;
    }

    public synchronized void show(final JSONArray data, final String callBackId) {
        final DatePickerPlugin datePickerPlugin = this;
        @SuppressWarnings("deprecation")
        final DroidGap currentCtx = (DroidGap) ctx.getContext();
        final Calendar c = Calendar.getInstance();
        final Runnable runnable;

        String action = "date";

        /*
         * Parse information from data parameter and where possible, override
         * above date fields
         */
        int month = -1, day = -1, year = -1, hour = -1, min = -1;
        try {
            JSONObject obj = data.getJSONObject(0);
            action = obj.getString("mode");

            String optionDate = obj.getString("date");

            String[] datePart = optionDate.split("/");
            month = Integer.parseInt(datePart[0]);
            day = Integer.parseInt(datePart[1]);
            year = Integer.parseInt(datePart[2]);
            hour = Integer.parseInt(datePart[3]);
            min = Integer.parseInt(datePart[4]);

            /* currently not handled in Android */
            // boolean optionAllowOldDates = obj.getBoolean("allowOldDates");

        } catch (JSONException e) {
            e.printStackTrace();
        }

        // By default initialize these fields to 'now'
        final int mYear = year == -1 ? c.get(Calendar.YEAR) : year;
        final int mMonth = month == -1 ? c.get(Calendar.MONTH) : month - 1;
        final int mDay = day == -1 ? c.get(Calendar.DAY_OF_MONTH) : day;
        final int mHour = hour == -1 ? c.get(Calendar.HOUR_OF_DAY) : hour;
        final int mMinutes = min == -1 ? c.get(Calendar.MINUTE) : min;

        if (ACTION_TIME.equalsIgnoreCase(action)) {
            runnable = new Runnable() {
                public void run() {
                    final TimeSetListener timeSetListener = new TimeSetListener(datePickerPlugin, callBackId);
                    final TimePickerDialog timeDialog = new TimePickerDialog(currentCtx, timeSetListener, mHour,
                            mMinutes, true);
                    timeDialog.show();
                }
            };

        } else if (ACTION_DATE.equalsIgnoreCase(action)) {
            runnable = new Runnable() {
                public void run() {
                    final DateSetListener dateSetListener = new DateSetListener(datePickerPlugin, callBackId);
                    final DatePickerDialog dateDialog = new DatePickerDialog(currentCtx, dateSetListener, mYear,
                            mMonth, mDay);
                    dateDialog.show();
                }
            };

        } else {
            Log.d(pluginName, "Unknown action. Only 'date' or 'time' are valid actions");
            return;
        }

        //((Activity) ctx).runOnUiThread(runnable);
    }

    private final class DateSetListener implements OnDateSetListener {
        private final DatePickerPlugin datePickerPlugin;
        private final String callBackId;

        private DateSetListener(DatePickerPlugin datePickerPlugin, String callBackId) {
            this.datePickerPlugin = datePickerPlugin;
            this.callBackId = callBackId;
        }

        /**
         * Return a string containing the date in the format YYYY/MM/DD
         */
        public void onDateSet(final DatePicker view, final int year, final int monthOfYear, final int dayOfMonth) {
            String returnDate = year + "/" + (monthOfYear + 1) + "/" + dayOfMonth;
            datePickerPlugin.success(new PluginResult(PluginResult.Status.OK, returnDate), callBackId);

        }
    }

    private final class TimeSetListener implements OnTimeSetListener {
        private final DatePickerPlugin datePickerPlugin;
        private final String callBackId;

        private TimeSetListener(DatePickerPlugin datePickerPlugin, String callBackId) {
            this.datePickerPlugin = datePickerPlugin;
            this.callBackId = callBackId;
        }

        /**
         * Return the current date with the time modified as it was set in the
         * time picker.
         */
        public void onTimeSet(final TimePicker view, final int hourOfDay, final int minute) {
            /*Date date = new Date();
            date.setHours(hourOfDay);
            date.setMinutes(minute);*/
            Calendar today = Calendar.getInstance();
            today.set(Calendar.HOUR_OF_DAY, hourOfDay);
            today.set(Calendar.MINUTE, minute);
            Date date = today.getTime();

            datePickerPlugin.success(new PluginResult(PluginResult.Status.OK, date.toString()), callBackId);

        }
    }

} 
```

在我花时间在谷歌上之后，我做了以下更改：替换

```
 cordova.addConstructor(function() {debugger;
    if (!window.plugins) {
        window.plugins = {};
    }
    window.plugins.datePicker = new DatePicker();
    }); 
```

和

```
window.datePicker = new DatePicker(); 
```

更新调用它的js代码

```
window.datePicker.show({... 
```

现在我无论如何都可以得到 datePicker 对象，但是得到了这个新错误：

未捕获的类型错误：对象 # 没有方法 'exec'

上

```
DatePicker.prototype.show = function(options, cb) {
    ...
    return cordova.exec(cb, failureCallback, 'DatePickerPlugin', defaults.mode, new  Array(defaults));
}) 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T08:44:34.233

[http://docs.phonegap.com/en/2.0.0/guide_plugin-development_android_index.md.html#Developing%20a%20Plugin%20on%20Android](http://docs.phonegap.com/en/2.0.0/guide_plugin-development_android_index.md.html#Developing%20a%20Plugin%20on%20Android)

检查后，我发现：

> 常见的陷阱
> 
> 插件可以访问 CordovaInterface 对象。此对象有权访问运行应用程序的 Android 活动。这是启动新的 Android Intent 所需的上下文。CordovaInterface 允许插件为结果启动 Activity，并为 Intent 返回应用程序时设置回调插件。这很重要，因为 Intents 系统是 Android 在进程之间进行通信的方式。
> 
> 插件不能像过去那样直接访问上下文。旧版 ctx 成员已弃用，并将在 2.0 发布六个月后删除。ctx 的所有方法都存在于 Context 上，因此 getContext() 和 getActivity() 都能够返回所需的正确对象。
> 
> 避免使用 webView.loadUrl() 调用 JavaScript。我们有一个回调服务器的原因是允许 JavaScript 执行是线程安全的，并且 loadUrl 显式中断 UI 线程，并且会影响插件的可用性。

这是我的修复：

在 DatePickerPlugin.java

```
import android.content.Context;
....

public synchronized void show(final JSONArray data, final String callBackId) {
     final DatePickerPlugin datePickerPlugin = this;
     final DroidGap currentCtx = (DroidGap) ctx.getContext();
     final Calendar c = Calendar.getInstance();
..... 
```

替换行：

```
final DroidGap currentCtx = (DroidGap) ctx.getContext(); 
```

经过：

```
final Context currentCtx = cordova.getActivity(); 
```

寻找：

```
ctx.runOnUiThread(runnable); 
```

替换为：

```
cordova.getActivity().runOnUiThread(runnable); 
```

这在我的模拟器 4.0.3 和 phonegap 2.0 中运行良好

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-20T20:42:13.683

将输入字段设置为键入“日期”会调出本机日期选择器。超级简单的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T13:05:18.920

`window.plugins`已在 PhoneGap 2.0 中删除。[尝试从https://github.com/phonegap/phonegap-plugins](https://github.com/phonegap/phonegap-plugins)下载最新版本的插件。

# java - Java FutureTask 完成检查

> ID：11776908
> 
> 赞同：5
> 
> 时间：2012-08-02T11:57:46.733
> 
> 标签：java, futuretask

我检查了 Oracle Java API，它提供了一些关于[FutureTask.isDone()的信息](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/FutureTask.html#isDone%28%29)

但我需要检查任务是否已完成或因任何错误而终止。isDone() 方法即使完成/终止也会返回。但我需要知道它是否由于某些问题而完成或终止。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-02T12:00:30.140

如果`FutureTask`完成，请[`get()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/FutureTask.html#get())稍后调用（可以没有任何超时，它应该立即返回）。它要么返回一些结果，要么抛出：

> `ExecutionException`- 如果计算抛出异常

`ExecutionException.getCause()`将返回您的任务引发的异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:00:37.713

为什么不调用[FutureTask.get()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/FutureTask.html#get%28%29)？

这将返回结果或抛出包含最初抛出/捕获的异常的异常。如果任务未完成，dit 将阻塞，您可以选择提供超时。

我*通常*希望客户在创建后简单地依次调用`get()`每个，而不是 poll 。`FutureTask``isDone()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T12:01:03.473

返回 true时`isDone()`，您希望通过调用`get()`方法来检查执行结果。`get()`operation 可以 throw `ExecutionException`，其中包含原因，您可以在其中找到问题。

# clojure - 如何忽略不必要的争论？

> ID：11776909
> 
> 赞同：11
> 
> 时间：2012-08-02T11:57:47.500
> 
> 标签：clojure

有没有简单的方法来忽略不必要的争论？

例如： `(#(+ %1 %2) 1 2)`返回 3

我想强制执行此代码

```
(#(+ %1 %2) 1 2 3) 
```

也返回 3。但它返回

> java.lang.IllegalArgumentException：传递给的 args (3) 数量错误。

如何改变`#(+ %1 %2)`？

我希望有一些比`#(+ (nth %& 0) (nth %& 1))`.

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-02T13:12:50.463

这就是我会去的：

```
=> ((fn [a b & _] (+ a b)) 1 2 3)
=> 3 
```

这将创建一个匿名函数，它接受任意数量的参数，但只添加前两个。该`_`符号没有做任何特别的事情，它只是“我不关心这件事，但我需要以某种方式绑定它”的惯用语。如果你认为你会经常这样做，那么你可能想要定义它：

```
(defn add-first-two
  [a b & _]
  (+ a b)) 
```

如果您真的很喜欢`#()`语法，则必须`%&`在定义中包含某处以“意识到”它应该接受任意数量的参数。这并不意味着您必须在显示时对其进行索引，它只需要存在*于某个地方*即可。这是一个例子：

```
=> (#(do %& (+ %1 %2)) 1 2 3)
=> 3 
```

另一方面，此解决方案涉及某种处理`%&`，您不需要任何处理，并且*可能会*稍微减慢速度（我对此不确定，也许其他人可以对此提供反馈）。一个相当有趣的解决方案是只停留`%&`在一个`(comment ...)`块内，该块的计算结果为`nil`.

```
=> (#(do (comment %&) (+ %1 %2)) 1 2 3)
=> 3 
```

一个更奇特的解决方案是使用`#_...`，这很像`(comment...)`，只是读者实际上将其从评估中删除，就好像您只是在那里没有输入任何内容一样。这样，也许我们可以将其粘贴在 的主体中`(+ ...)`以缩短代码。

```
=> (#(+ %1 %2 #_%&) 1 2 3)
=> 3 
```

你知道吗，它奏效了。实际上，我以前从未尝试过这个，看到它起作用我感到非常惊讶。`#_...`显然，在删除该部分之前有一些处理。奇怪的。

如果您不喜欢这些奇怪的评论解决方案中的任何一个，并且`do`不是为您做的，您总是可以将它放在一个`(if nil ...)`块中：

```
=> (#(if nil %& (+ %1 %2)) 1 2 3)
=> 3 
```

好吧，毕竟，我仍然最喜欢第一个解决方案（使用`(fn ...)`），但其中一些肯定*更短*。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-02T12:22:27.337

这适用于任意数量的参数，并且是可读的：

```
(fn [& args] (apply + args)) 
```

如果您只想使用前 2 个参数（根据 Alex 的评论）：

```
(fn [& args] (apply + (take 2 args))) 
```

您可以直接使用它：

```
((fn [& args] (apply + (take 2 args))) 1 2)
; => 3 
```

或者将函数绑定到这样的符号：

```
(let [f (fn [& args] (apply + (take 2 args)))]
  (f 1 2))
; => 3 
```

或者创建一个变量：

```
(def f (fn [& args] (apply + (take 2 args)))) 
```

或者一个函数：

```
(defn f [& args] (apply + (take 2 args))) 
```

最佳定义取决于您的用例。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-02T13:58:20.397

这个怎么样？

```
(#(apply + (take 2 %&)) 1 2 3 4 5)
;; => 3 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T13:09:33.963

```
user> (#(do %& (+ % %2)) 1 2)
3
user> (#(do %& (+ % %2)) 1 2 3)
3 
```

它不是很优雅，但我认为这是可以接受的。

# xpath - 删除空格的 xpath 表达式

> ID：11776910
> 
> 赞同：65
> 
> 时间：2012-08-02T11:57:48.710
> 
> 标签：xpath

我有这个 HTML：

```
 <tr class="even  expanded first>
   <td class="score-time status">
     <a href="/matches/2012/08/02/europe/uefa-cup/">

            16 : 00

     </a>
    </td>        
  </tr> 
```

我想在没有额外空格的情况下提取 (16 : 00) 字符串。这可能吗？

* * *

## 回答 #1

> 赞同：142
> 
> 时间：2012-08-02T12:39:43.100

**I. 使用这个单一的 XPath 表达式**：

```
translate(normalize-space(/tr/td/a), ' ', '') 
```

**说明**：

1.  **[`normalize-space()`](http://www.w3.org/TR/xpath/#function-normalize-space)**从其参数生成一个新字符串，其中删除任何前导或尾随空格（空格、制表符、NL 或 CR 字符），并将任何中间空格替换为单个空格字符。

2.  **[`translate()`](http://www.w3.org/TR/xpath/#function-translate)**获取由 生成的结果`normalize-space()`并生成一个新字符串，其中每个剩余的中间空格都被空字符串替换。

* * *

**二、或者**：

```
translate(/tr/td/a, ' &#9;&#10;&#13', '') 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2016-08-22T09:23:08.563

请尝试以下 xpath 表达式：

```
//td[@class='score-time status']/a[normalize-space() = '16 : 00'] 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2020-01-08T05:48:00.067

您可以使用 XPath 的[normalize-space()](https://developer.mozilla.org/en-US/docs/Web/XPath/Functions/normalize-space)，如`//a[normalize-space()="16 : 00"]`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-07-08T14:58:33.840

当我遇到与上述类似的问题时，我遇到了这个线程。

HTML

```
<div class="d-flex">
<h4 class="flex-auto min-width-0 pr-2 pb-1 commit-title">
  <a href="/nsomar/OAStackView/releases/tag/1.0.1">

    1.0.1
  </a> 
```

XPath 启动命令

```
tree.xpath('//div[@class="d-flex"]/h4/a/text()') 
```

然而，这抓住了随机空白并给了我以下输出：

```
['\n          ', '\n        1.0.1\n      '] 
```

使用 normalize-space，它删除了第一个空白节点并给我留下了我想要的东西

```
tree.xpath('//div[@class="d-flex"]/h4/a/text()[normalize-space()]')

['\n        1.0.1\n      '] 
```

然后我可以抓取列表的第一个元素，并使用 strip() 删除任何进一步的空格

XPath 最终命令

```
tree.xpath('//div[@class="d-flex"]/h4/a/text()[normalize-space()]')[0].strip() 
```

这让我得到了我所需要的：

```
1.0.1 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-02T12:21:07.233

*   您可以检查 text() 节点是否为空。

    /path/text()[不是(.='')]

如果没有容器，它可能对像 follow-sibling:: 这样的轴有用，或者对 child:: 有用。

*   您可以使用 xpath 2 的 string() 或 regex() 函数。

注意：一些评论说 xpath 不能进行字符串操作......即使它不是真的设计用于你可以做一些基本的事情：包含（），开始（），替换（）。

如果你想检查空白节点，那就更难了，因为你通常会有一个节点列表结果集，而且大多数 xpath 函数，比如匹配或替换，只操作一个节点。

*   您可以分离节点和字符串操作

因此，您可以使用 xpath 检索容器或文本节点列表，然后使用另一种语言对其进行处理。（例如 java、php、python、perl）。

# rally - 访问 blocker.BlockedBy

> ID：11776912
> 
> 赞同：3
> 
> 时间：2012-08-02T11:57:53.593
> 
> 标签：rally

使用 Rally SDK 2.0，我正在自定义看板应用程序。我正在做的一项工作是尝试添加谁将故事设置为 BLOCKED 状态。

调试时似乎没问题，但由于某种原因，我的 blocker.BlockedBy 设置为未定义。我猜我需要做一些与此不同的事情？

**var blocker = this.getRecord().get("Blocker");**

// blocker.BlockedBy 在这里是未定义的 // blocker 似乎已填充，但我不确定它实际上是一个 Blocker 对象。

我还在卡片的附加字段中添加了“Blocker” getAdditionalFetchFields: function () { return ['Owner', 'FormattedID', 'Blocked', 'Ready', 'Priority', 'DefectStatus', 'Defects', “PlanEstimate”、“LastUpdateDate”、“TaskStatus”、“ **Blocker** ”]；

在文档中它说类型 Blocker 是“不可创建类型”，所以不确定这实际上意味着什么......

似乎从调用中返回的对象有一个 _type 字段，将其定义为“Blocker”。

有点卡住了，我尝试将结果类型转换为 Blocker，但仍然没有太多运气。只是想知道谁阻止了这个故事:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T14:51:06.317

通过添加`Blocker`为 fetch 字段，它只返回一个表示 Blocker 对象的简单 ref 对象。但您也可以告诉 fetch 获取 Blocker 字段。因此，如果您添加`BlockedBy`为另一个要获取的字段，它将为您的拦截器抓取该字段。WSAPI 在这里做了一个小魔术来弄清楚你的意思是`BlockedBy`在`Blocker`对象上。

`BlockedBy`是一个`User`对象，因此从那里获取用户名的最简单方法是使用

```
var blockerName = this.getRecord().get('Blocker').BlockedBy._refObjectName; 
```

# asp.net - 将 MaxDisplayedLines 设置为 gridView

> ID：11776913
> 
> 赞同：0
> 
> 时间：2012-08-02T11:57:54.397
> 
> 标签：asp.net

我想将 MaxDisplayedLines 设置为 gidView 。请问你有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T12:04:53.860

你可以试试

```
YourGridView.PageSize= yourLimit; 
```

和

```
YourGridView.AllowPaging= true; 
```

链接： http: [//msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.allowpaging (v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.allowpaging(v=vs.80).aspx)

# c# - 如何替换富文本框中插入符号位置下的单词？- 实施拼写检查建议

> ID：11776914
> 
> 赞同：3
> 
> 时间：2012-08-02T11:57:54.300
> 
> 标签：c#, wpf, ms-word, richtextbox, spell-checking

我有一个带有自定义拼写检查器的 RichTextBox 派生版本。他们为我提供了一个拼写错误单词的建议列表。我想实现**与 MS Word 中相同的更正功能**。

如果用户右键单击一个单词，我如何获得一个仅包含 1 个单词的字符串？

获得建议列表后，我会将它们加载到富文本框的 ContextMenu 中。

从上下文菜单中选择一个词后，如何替换该词？

注意**我不能对整个 TextRange(start,end).Text 进行操作**，因为 RichTextBox 包含文本以外的对象，如果我修改 Text 属性，它们会消失。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-02T23:37:01.217

您应该能够使用以下内容（其中 rtb 是 RichTextBox）将鼠标在 RichTextBox 中的当前位置作为 TextPointer 获取：

```
var mousePosition = Mouse.GetPosition(rtb);
var textPointer = rtb.GetPositionFromPoint(mousePosition, false); 
```

给定指针，您可以使用以下方法在指定位置获取和替换单词（但您可能希望更改将字符计为单词的规则）

```
private string GetWordAtPointer(TextPointer textPointer)
{
    return string.Join(string.Empty, GetWordCharactersBefore(textPointer), GetWordCharactersAfter(textPointer));
}

private void ReplaceWordAtPointer(TextPointer textPointer, string replacementWord)
{
    textPointer.DeleteTextInRun(-GetWordCharactersBefore(textPointer).Count());
    textPointer.DeleteTextInRun(GetWordCharactersAfter(textPointer).Count());

    textPointer.InsertTextInRun(replacementWord);
}

private string GetWordCharactersBefore(TextPointer textPointer)
{
    var backwards = textPointer.GetTextInRun(LogicalDirection.Backward);
    var wordCharactersBeforePointer = new string(backwards.Reverse().TakeWhile(c => !char.IsSeparator(c) && !char.IsPunctuation(c)).Reverse().ToArray());

    return wordCharactersBeforePointer;
}

private string GetWordCharactersAfter(TextPointer textPointer)
{
    var fowards = textPointer.GetTextInRun(LogicalDirection.Forward);
    var wordCharactersAfterPointer = new string(fowards.TakeWhile(c => !char.IsSeparator(c) && !char.IsPunctuation(c)).ToArray());

    return wordCharactersAfterPointer;
} 
```

# android - 如何在android中创建一条闪烁的线？

> ID：11776918
> 
> 赞同：2
> 
> 时间：2012-08-02T11:58:14.353
> 
> 标签：android, android-canvas, android-view

我在 android 中使用画布来使用一条线，如下所示。

```
canvas.drawLine(100,100,600, 600,mpaint); 
```

我希望这条线不断闪烁。如果有人知道这件事，请帮助我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:18:46.487

要使线条看起来闪烁，您必须交替使用不同的颜色：

*   `Draw red line`
*   `Draw blue line`

您可以使用以下方法简单地执行此操作：

```
boolean blink = false;

// Define paint objects
Paint red = new Paint;
red.setColor(Color.RED);
Paint blue = new Paint;
blue.setColor(Color.BLUE); 
```

在您的更新方法中，您可以这样做：

```
if(blink == false) {
blink = true;

}
else {
blink = false;
} 
```

在您的渲染方法中：

```
if(blink == true) {
canvas.drawLine(100,100,600, 600,red);
}
else {
canvas.drawLine(100,100,600, 600,blue);
} 
```

我希望这有帮助！

# android - Android NFC：将 APDU 命令发送到智能卡时标签丢失

> ID：11776919
> 
> 赞同：10
> 
> 时间：2012-08-02T11:58:19.390
> 
> 标签：android, tags, nfc, apdu

我正在 Android 操作系统（三星 Galaxy）上做一个 EMV 应用程序。

我可以毫无问题地发送几个 APDU 命令，但是当我尝试发送内部身份验证命令时。我有这个错误：标签丢失。您对此错误的目的有任何想法吗？我不是 Android 上的实验开发人员，可能我忘记了一些东西。

*   命令是正确的。
*   我可以用另一个命令替换它，它可以工作（我的意思是我可以恢复响应）。

在哪些情况下，Android 上的 NFC 通信会中断？

在这里，您可以在发送命令时看到我的问题：

> D/ECInfoGrabber(14088)：发送：00 88 00 00 04 14 16 67 3D
> D/OpenGLRenderer(14088)：刷新缓存（模式 0） D/dalvikvm(14088)：GC_FOR_ALLOC 释放 227K，4% 释放 14298K/14855K，暂停29ms I/dalvikvm-heap(14088)：将堆（碎片情况）增加到 14.142MB，分配 115216 字节 D/dalvikvm(14088)：GC_FOR_ALLOC 释放 3K，释放 4% 14408K/14983K，暂停 15ms

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-03T21:31:26.717

一种可能性是卡的响应比默认超时设置花费的时间更长。这通常发生在卡片必须进行一些内部计算时；通常在加密操作（例如身份验证）的情况下。

您可以使用以下方法更改超时值[`IsoDep.setTimeout()`](http://developer.android.com/reference/android/nfc/tech/IsoDep.html#setTimeout%28int%29)：

```
 IsoDep iso = IsoDep.get(tag);
 iso.connect();
 iso.setTimeOut(5000); // 5 sec time out
 iso.transceive(apduCommand); // now send your command 
```

# c++ - OLE/COM 对象查看器报告 STG_E_FILENOTFOUND

> ID：11776922
> 
> 赞同：2
> 
> 时间：2012-08-02T11:58:44.983
> 
> 标签：c++, visual-studio-2010, com

我使用 ATL 创建了简单的 COM DLL，然后添加了“ATL 简单对象”。为了确保服务器正在注册，我放置了消息框：

```
STDAPI DllRegisterServer(void)
{
     MessageBoxA ( NULL, "Hello World!", "Test", MB_OK );
    HRESULT hr = _AtlModule.DllRegisterServer();
        return hr;
} 
```

注册就好了。我决定使用作为 SDK 一部分的 OLE-COM 对象查看器来查看该对象的外观。查看器报告错误：

```
 "LoadTypelib'(c:\pr\ILight.dll) failed. 
 <No system message defined> STG_E_FILENOTFOUND ($800300002) 
```

这是否意味着我的 COM dll 已损坏？如何让 VIewer 显示我的 dll 信息？

PS Project RC 文件包含：

**“登记处”**

```
IDR_ILIGHT
    HKCR{}
IDR_LIGHT
    HKCR
    {
AboutiLight.1 = s 'Light Class'
{
    CLSID = s '{DBC53EA8-A51E-4374-B104-06A834273B0C}'
}
AboutiLight = s 'Light Class'
{       
    CurVer = s 'AboutiLight.1'
}
NoRemove CLSID
{
    ForceRemove {DBC53EA8-A51E-4374-B104-06A834273B0C} = s 'Light Class'
    {
        ProgID = s 'AboutiLight.1'
        VersionIndependentProgID = s 'AboutiLight'
        ForceRemove Programmable
        InprocServer32 = s '%MODULE%'
        {
            val ThreadingModel = s 'Apartment'
        }
        TypeLib = s '{1D9F859D-10FF-4827-A341-4A8B8E318A61}'
        Version = s '1.0'
    }
}
    } 
```

**字符串表**

```
String table
ID=IDS_PROJNAME Value=100 Caption ILight 
```

**版本**

```
VS_VERSION_INFO
FILEVERSION 1,0,0,1
PRODUCTVERSION 1,0,0,1
FILEMASK 0x3fL
FILEFLAGS 0x0L
FILEOS VOS_NT_WINDOWS32
FILETYPE VFT_DLL
FILESUBTYPE VFT2_UNKNOWN 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T20:20:48.210

在收到相同的错误 (STG_E_FILENOTFOUND) 并看到 Joe Willcoxson 关于 64 位和 32 位的评论后，我找到了解决方案。

如果您使用的是 OleView.exe，即 OLE/COM 对象查看器，实际上它有两个版本：32 位和 64 位。确保您使用正确版本的 OleView 启动。SDK 的基本“BIN”文件夹中的版本将是 32 位版本。“x64”文件夹将包含 64 位版本的应用程序，它与旧的二进制文件及其类型库（在 32 位世界中制作）不完全兼容。

另一方面，如果您的新 DLL 正在为 x64 积极编译，那么 32 位 OleView 很可能也无法正确读取数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T12:37:28.383

1) 检查以确保这是您的 DLL 的正确路径。

2) 从 Visual Studio 打开 DLL 本身并检查以确保资源中嵌入了类型库。如果找不到类型库，请添加一个。

3）如果一切都失败了，你是否在管理员帐户/shell下注册了它。如果您在其上调用 regsvr32.exe，请确保您以提升的权限运行。

# java - JUnitCore：测试java文件的最好方法还是有更好的方法？

> ID：11776924
> 
> 赞同：0
> 
> 时间：2012-08-02T11:58:47.263
> 
> 标签：java, unit-testing, testing, junit

我目前正在为自己创建自己的自定义应用程序来编译 Java 文件。我有应用程序完美地编译 Java 文件，但现在我想开始为 Java 文件添加某种类型的测试（例如，我将一些变量传递给许多不同的文件 - 都在做同样的事情 - 正在测试并将结果与我期望它们是什么）...有点像 JUnit 的工作方式

我一直在寻找将 JUnitCore 添加到我的应用程序中来执行此操作，但我仍然不确定它是如何工作的。是否有任何好的教程可以解释 JUnitCore，或者有没有更好的方法来做这件事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:48:28.563

JUnit 应该是要走的路……因为它很简单，您可以在很短的时间内启动并运行。

这里有几个链接...

1.  [六月 4](http://www.mkyong.com/unittest/junit-4-tutorial-1-basic-usage/)

2.  [Junit.org](http://www.junit.org/)

3.  [通过 Junit 进行软件测试](http://www.softwaretestingtutorials.com/junit-tutorial-for-beginners/)

编辑：根据评论：这是一个例子：`WayA`计算总和的类

```
class WayA {
    public int sum(int a, int b){
         return a+b;
    }   
} 
```

另一个班级`WayB`做同样的事情

```
class WayB {
    public int sum(int a, int b){
        int sum = a;
        for(int i=1;i<=b;i++)
            sum++;
        return sum;
    }   
} 
```

在这里，您可以使用测试用例：

```
class WayTest extends TestCase {
    WayA wayA;
    WayB wayB;

    public void setUp() {
        wayA = new WayA();
        wayB = new WayB();
    }

    public void testAdd() {
        int a = 9, b = 3;
        assertEquals(wayA.sum(a, b), wayB.sum(a, b));
    }

    public void tearDown() {
        wayA = null;
        wayB = null;
    }

} 
```

希望这可以帮助！！！

# objective-c - 从括号和引号中提取 NSString

> ID：11776926
> 
> 赞同：0
> 
> 时间：2012-08-02T11:58:50.373
> 
> 标签：objective-c, nsstring, nsscanner

我有一个从 WebAPI 调用返回的字符串，如下所示：

```
 (
    "username@domain.com"
    ) 
```

作为一种解决方法，我试图只提取电子邮件地址，即 username@domain.com

我不确定执行此操作的最佳方法是什么，因为我正在提取括号和引号中的数据。

任何指针（没有双关语）表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:17:17.360

最简单的方法是使用[`stringByTrimmingCharactersInSet:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/instm/NSString/stringByTrimmingCharactersInSet%3a)：

```
NSString *source = /* your source */;
NSCharacterSet *charSet = 
    [NSCharacterSet characterSetWithCharactersInString:@" \"()\n"];
NSString *email = [source stringByTrimmingCharactersInSet:charSet]; 
```

更难的是涉及[`NSRegularExpression`](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSRegularExpression_Class/Reference/Reference.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:20:54.583

如果您知道字符串始终以 开头`("`和结尾，则更容易`")`：

```
NSString *email = [response substringWithRange:NSMakeRange(2, [response length] - 4)]; 
```

# iphone - 如何从 iPhone sdk 中的标签中获取文本字段值？

> ID：11776927
> 
> 赞同：6
> 
> 时间：2012-08-02T11:58:49.883
> 
> 标签：iphone, ios, xcode, ios4

如果我有一个文本字段标签，那么我如何在 iPhone sdk 中选择文本字段的值

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-02T12:00:45.293

你应该没问题（假设 TextField 是 self.view 的子视图）：

```
NSString *text = [(UITextField *)[self.view viewWithTag:THE_TAG] text]; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-02T12:04:12.457

试试下面一个

```
UITextField *textField = (UITextField*)[self.view viewWithTag:tag_Number];
NSString* textString=[textField text];
//Use textString  further 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-08T05:25:55.540

NSString *text = [(UITextField *)[self.view viewWithTag:tag] text];

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-02T12:01:20.390

采用：

```
UITextField *textField = (UITextField*)[self.view viewWithTag:100];

NSLog(@"%@",textField.text); 
```

您需要用自己的标签替换 100 。

# nunit - Coypu/SpecFlow 验收测试在通过 Jenkins 作业运行时挂起

> ID：11776928
> 
> 赞同：0
> 
> 时间：2012-08-02T11:58:53.307
> 
> 标签：nunit, jenkins, watin, specflow

我正在通过 SpecFlow、NUnit 和 Coypu（用于浏览器自动化，使用 WatiN 驱动程序）对项目进行验收测试。测试的运行是通过 powershell/psake 脚本调用的。

如果我在本地机器上运行这些测试，它们运行良好。但是，我们有一个构建服务器，Jenkins 作业将在其上自动运行这些测试，当通过这个 Jenkins 作业运行时，它们不会执行——它们只是挂起。

查看任务管理器，我可以看到`iexplore.exe`Jenkins 作业运行时创建了两个实例。然而，在某一点之后，它们只是挂起 - 内存使用或 CPU 没有变化。

`nunit-agent-x86.exe`并且`nunit-console-x86.exe`也在运行，但主要是挂起，只是`nunit-agent-x86.exe`在内存中上升得很慢。

如果我杀死其中一个 iexplore.exe 进程，事情会继续，但 SpecFlow 规范随后都会失败。

在杀死 iexplore.exe 时，日志中出现以下异常：

```
Unhandled Exception: System.Runtime.InteropServices.COMException: The remote procedure call failed. (Exception from HRESULT: 0x800706BE) 
```

如果我在登录到服务器时手动调用 psake 脚本，则规范运行正常。

当我尝试将基本 DI 用于 BrowserSession 时，此问题开始出现，如下所示：[https ://gist.github.com/2301407](https://gist.github.com/2301407)

在此之前，我通过 NUnit [SetupFixture] 类的静态属性共享 BrowserSession。事情基本上都是这样工作的，除了一个涉及模态对话框的测试的小问题不能正常工作，但我不确定我做对了，所以想在要点中做这项技术

对于导致挂起的原因，我有点迷茫。任何想法它是什么或追踪它的提示？

**更新**：切换到 Firefox 作为浏览器，Selenium 作为驱动程序后，问题就消失了......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T08:18:00.227

我在 Coypu 名单上收到了一些回复。我还没有对它们进行测试，因为目前 Firefox 一切正常，但万一它们对其他人有帮助......

> 2012 年 8 月 2 日星期四 16:38:30 UTC+1，Adiel 写道：
> 
> [...]我相信 watin 需要 nunit 在 STA（单线程）中运行，这可能与您的问题有关。
> 
> 换句话说，也许您使用静态单例浏览器会话使您的测试线程安全，但是现在通过 specflow 的 IOC，由于 nunit 的运行方式，您将获得多个实例。

* * *

> 2012 年 8 月 2 日星期四 16:41:11 UTC+1，Matt Ellis 写道：
> 
> 这听起来像是 Internet Explorer 的保护模式妨碍了它。IE 在不同的进程中运行不同的区域，例如 Internet 和 Intranet（以及 about:blank），而 IIRC WatiN 处理得不是很好。如果你可以在你的服务器上禁用保护模式，你应该没问题。

# java - 在 HQL 上使用 select 进行内部连接

> ID：11776932
> 
> 赞同：4
> 
> 时间：2012-08-02T11:59:15.177
> 
> 标签：java, hibernate, hql

我想用 HQL 做类似的事情：

```
SELECT *
FROM tableA a
INNER JOIN (select fieldA, sum(fieldB) as sum from tableB) b
ON a.fieldA = b.fieldA and a.fieldC = b.sum; 
```

但这给出了一个错误：

```
org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: (... 
```

有什么方法可以使用 HQL 和 Hibernate 做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-02T12:17:54.883

尝试**原生 SQL**解决方案：

需要先导入这个：

```
import org.hibernate.SQLQuery; 
```

然后在您的代码中的某处：

```
SQLQuery query = session.createSQLQuery(
    "SELECT * FROM tableA a
    INNER JOIN 
    (SELECT fieldA, sum(fieldB) as sum from tableB) b
    ON a.fieldA = b.fieldA and a.fieldC = b.sum"
); 
```

**[更多关于这个链接](http://www.jumpingbean.co.za/blogs/mark/hibernate)**
**[和这里（加入休眠查询语言）](http://levelup.lishman.com/hibernate/hql/joins.php)**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-02T12:58:55.090

你可以尝试用 HQL 做这样的事情：

```
String sqlText = 
        "select entityA 
         from EntityA entityA, EntityB entityB 
         where entityA.fieldA=entityB.fieldA 
         and entityA.fieldC=(select sum(entityB.fieldB) 
                             from EntityB entityB 
                             where entityB.fieldA=entityA.fieldA)"

Query query = session.createQuery(sqlText); 
```

它应该与您的 sql 类似。关于您的陈述-我知道您不能在 HQL 中使用内部视图，因为它是面向对象的。

这是一篇关于 HQL 中连接的好[文章。](http://levelup.lishman.com/hibernate/hql/joins.php)

**编辑：**

根据 user1495181 的注释，上面的查询可以重写为（但我不确定）：

```
String sqlText = 
        "select entityA 
         from EntityA entityA
         join entityA.entitiesB entityB
         Where entityA.fieldC=(select sum(entityB.fieldB) 
                             from EntityB entityB 
                             where entityB.fieldA=entityA.fieldA)" 
```

但我更喜欢第一个变体，因为对我来说它更容易理解（尤其是对于曾经使用原生 SQL 的人来说）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T12:58:00.340

您不能使用 on 关键字定义连接。Hibernate 知道如何根据您的映射进行连接。如果您在 a 和 b 之间的映射中定义了一个关系，那么 hibernate 将根据您定义的关系进行连接。如果您在 a 和 b 之间存在关系，则在不使用 on 的情况下进行内部连接并将连接条件放在 where 子句中

# wordpress - 将 wordpress 菜单添加到自定义角色

> ID：11776933
> 
> 赞同：0
> 
> 时间：2012-08-02T11:59:15.327
> 
> 标签：wordpress

我正在使用以下命令向 wordpress 添加一个菜单：

```
add_action('admin_menu','menu');

function menu(){
add_menu_page('Test Admin Panel','Test Admin Panel','TestAdmin','test-plugin'.'-  top-level','mnuTopLevel');
add_submenu_page( 'test-plugin'.'-top-level', 'Test Results', 'Test Results', 'TestAdmin', 'test-plugin'.'results', 'mnuResults' ); 
```

使用管理员角色登录时会显示该菜单，但使用自定义角色（使用用户角色编辑器创建）登录时不会显示该菜单。

你能帮我解决这个问题吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:24:52.890

[add_menu_page()](http://codex.wordpress.org/Function_Reference/add_menu_page)的第三个参数应该是用户的[能力](http://codex.wordpress.org/Roles_and_Capabilities)。

# java - Logback 占位符不适用于测试

> ID：11776936
> 
> 赞同：0
> 
> 时间：2012-08-02T11:59:27.537
> 
> 标签：java, logging, slf4j, logback

我有带有日志行的代码，如下所示：

```
log.info("Message received with ID :"+ messageId); 
```

我需要使用占位符将所有 concat 更改为 logback 样式。

```
log.info("Message received with ID :{}", messageId); 
```

它工作正常，当我看到日志时它们还可以。我也有基于日志记录的测试，我编写期望消息，然后发送消息，它通过逻辑并检查日志是否与预期相同。[http://www.infoq.com/articles/Utilizing-Logging](http://www.infoq.com/articles/Utilizing-Logging)。当我有 concat 风格的日志时，一切都很好，但现在我看不到值，我在这个测试中看到括号 {}，它们都失败了。所以，应用程序给了我：

```
Message received with ID : 32145 
```

但测试给了我：

```
Message received with ID :{} 
```

有没有人有同样的问题以及如何解决？请帮我。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:09:33.593

You should try `new Object[]{messageId}` as method paramether instead of `messageId`. To be more precise:

```
log.info("Message received with ID :{}", new Object[]{messageId}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-03T06:26:13.963

该问题很可能是[InfoQ 文章](http://www.infoq.com/articles/Utilizing-Logging)中提到的 TestLoggingAppender 中的实现问题。文章中提到了其`doAppend`方法的实现：

```
public synchronized void doAppend(LoggingEvent loggingEvent) {
  String msg = **loggingEvent.getMessage()**.toString();
} 
```

在 logback-classic 中，[ILoggingEvent](http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html) .getMessage() 方法返回原始（未格式化）消息。您需要调用[getFormattedMessage()](http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html#getFormattedMessage%28%29)来检索格式化的消息。

# objective-c - RestKit：连接不在响应中的关系

> ID：11776941
> 
> 赞同：3
> 
> 时间：2012-08-02T11:59:50.750
> 
> 标签：objective-c, ios, rest, restkit

假设在我的数据模型中，我有`Pages`，其中有很多`Comments`。

我想连接模型中的关系，该关系从评论返回到它所属的页面，但页面对象没有嵌套在响应中，也没有任何可以识别响应中存在的父页面的主键.

在我调用的时候`loadObjectsAtResourcePath`，所有`Comments`加载的都应该属于一个固定的、已知的`Page`对象。我可以建立这种关系的一种方法是：

```
loader.onDidLoadObjects = ^(NSArray* objs) {
    for (Comment* comment in objs) comment.page = self.page;
    ...
} 
```

但我希望有更好的方法。请注意，我不能使用`connectRelationship`方法系列，因为响应中没有主键可以让我将每个方法都`Comment`连接到`Page`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T06:53:20.363

您可以使用委托方法`- (void)objectLoader:(RKObjectLoader *)loader willMapData:(inout id *)mappableData`在映射步骤之前注入额外的参数。如果您使用核心数据，它可以确保 RestKit 正确保存对象和关系（请注意，您上面提供的解决方案不会保存关系）。

或者，查看[这个](https://stackoverflow.com/questions/11751880/how-to-fetch-pages-of-results-with-restkit/11753866#11753866)答案，我在其中展示了如何覆盖`RKObjectLoader`以从 URL 本身检索页面信息。

编辑：这是我在评论中提到的类别：

。H

```
#import <RestKit/RestKit.h>

typedef void(^RKObjectLoaderWillMapDataBlock)(id* mappableData);

@interface RKObjectLoader (Extended)

@property (nonatomic, copy) RKObjectLoaderWillMapDataBlock onWillMapData;

@end 
```

还有他们：

```
#import <objc/runtime.h>

NSString* kOnWillMapDataKey = @"onWillMapData";

@implementation RKObjectLoader (Extended)

- (RKObjectLoaderWillMapDataBlock) onWillMapData {
    return objc_getAssociatedObject(self, &kOnWillMapDataKey);
}

- (void) setOnWillMapData:(RKObjectLoaderWillMapDataBlock) block {
    objc_setAssociatedObject(self, &kOnWillMapDataKey, block, OBJC_ASSOCIATION_COPY);
}

- (RKObjectMappingResult*)mapResponseWithMappingProvider:(RKObjectMappingProvider*)mappingProvider toObject:(id)targetObject inContext:(RKObjectMappingProviderContext)context error:(NSError**)error {
    id<RKParser> parser = [[RKParserRegistry sharedRegistry] parserForMIMEType:self.response.MIMEType];
    NSAssert1(parser, @"Cannot perform object load without a parser for MIME Type '%@'", self.response.MIMEType);

    // Check that there is actually content in the response body for mapping. It is possible to get back a 200 response
    // with the appropriate MIME Type with no content (such as for a successful PUT or DELETE). Make sure we don't generate an error
    // in these cases
    id bodyAsString = [self.response bodyAsString];
    RKLogTrace(@"bodyAsString: %@", bodyAsString);
    if (bodyAsString == nil || [[bodyAsString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]] length] == 0) {
        RKLogDebug(@"Mapping attempted on empty response body...");
        if (self.targetObject) {
            return [RKObjectMappingResult mappingResultWithDictionary:[NSDictionary dictionaryWithObject:self.targetObject forKey:@""]];
        }

        return [RKObjectMappingResult mappingResultWithDictionary:[NSDictionary dictionary]];
    }

    id parsedData = [parser objectFromString:bodyAsString error:error];
    if (parsedData == nil && error) {
        return nil;
    }

    // Allow the delegate to manipulate the data
    if ([self.delegate respondsToSelector:@selector(objectLoader:willMapData:)]) {
        parsedData = [parsedData mutableCopy];
        [(NSObject<RKObjectLoaderDelegate>*)self.delegate objectLoader:self willMapData:&parsedData];
    }

    if( self.onWillMapData ) {
        parsedData = [parsedData mutableCopy];
        self.onWillMapData(&parsedData);
    }

    RKObjectMapper* mapper = [RKObjectMapper mapperWithObject:parsedData mappingProvider:mappingProvider];
    mapper.targetObject = targetObject;
    mapper.delegate = (id<RKObjectMapperDelegate>)self;
    mapper.context = context;
    RKObjectMappingResult* result = [mapper performMapping];

    // Log any mapping errors
    if (mapper.errorCount > 0) {
        RKLogError(@"Encountered errors during mapping: %@", [[mapper.errors valueForKey:@"localizedDescription"] componentsJoinedByString:@", "]);
    }

    // The object mapper will return a nil result if mapping failed
    if (nil == result) {
        // TODO: Construct a composite error that wraps up all the other errors. Should probably make it performMapping:&error when we have this?
        if (error) *error = [mapper.errors lastObject];
        return nil;
    }

    return result;
}

@end 
```

# java - 带有日期的 Compass Lucene 查询的空结果集

> ID：11776943
> 
> 赞同：4
> 
> 时间：2012-08-02T11:59:56.550
> 
> 标签：java, lucene, indexing, search-engine, compass-lucene

我正在使用 Compass 对内存数据结构中的数据进行查询。它适用于搜索字符串和枚举值，现在我想搜索日期。

搜索条件由`@SearchRestriction`注释注释。关于 someDate 的示例：

```
 @SearchRestriction(path="fooBar.someDate" type = SearchRestrictionType.EQUAL)
    String someDate; 
```

在可搜索的数据中，SomeDate 的注释如下：

```
 @SearchableProperty
    Date someDate; 
```

`SomeDate`内部可搜索数据由`new Date();`) 生成，查询字符串为`20120802`。

**调试器的情况：** 此代码生成如下查询：

```
 someDate:20120802 
```

这`someDate`是我要查找的字段的名称，并且`20120802`是按 yyyyMMdd 顺序排列的日期。

**问题：** 运行此查询时未返回任何结果。我得到一个空列表。查询中的日期与日期对象中的相同。

**怎么了？？** 这是`Date`用 Compass 搜索 s 的错误方法吗？我只能找到有关日期的范围查询，但我找不到确切日期或部分确切日期的搜索。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T19:01:35.680

您需要指定可搜索属性 [日期] 的格式

```
@SearchableProperty(format = "yyyyMMdd") 
```

在某种程度上，它与[Grails：Lucene、Compass Query Builder 和日期范围有关](https://stackoverflow.com/questions/5809428/grails-lucene-compass-query-builder-and-date-ranges)

# c# - 使用 {} 语句在内部调用 return 是一种好方法吗？

> ID：11776945
> 
> 赞同：106
> 
> 时间：2012-08-02T11:59:57.293
> 
> 标签：c#, return, using

我只想知道`return`在`using`块内调用是否安全/好方法。

例如。

```
using(var scope = new TransactionScope())
{
  // my core logic
  return true; // if condition met else
  return false;
  scope.Complete();
} 
```

我们知道最后一个花括号 `dispose()`将被取消。但是在上述情况下会发生什么，因为`return`将控制权跳出给定范围（AFAIK）......

1.  我的`scope.Complete()`被​​叫了吗？
2.  作用域的`dispose()`方法也是如此。

* * *

## 回答 #1

> 赞同：159
> 
> 时间：2012-08-02T12:02:31.590

`return`在你的块内调用是完全安全的`using`，因为 using 块只是一个`try/finally`块。

在上面的示例中，在 return 之后`true`，范围将被释放并返回值。`return false`，并且`scope.Complete()`不会**被**调用。`Dispose`然而无论如何都会被调用，因为它位于 finally 块中。

您的代码与此基本相同（如果这样更容易理解）：

```
var scope = new TransactionScope())
try
{
  // my core logic
  return true; // if condition met else
  return false;
  scope.Complete();
}
finally
{
  if( scope != null) 
    ((IDisposable)scope).Dispose();
} 
```

请注意，您的交易将**永远不会**提交，因为无法`scope.Complete()`提交交易。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-02T12:02:48.883

这很好 -`finally`子句（这是子句的右花括号在`using`幕后所做的）总是在离开范围时执行，无论如何。

但是，这仅适用于 finally 块中的语句（使用 时无法显式设置`using`）。因此，在您的示例中，`scope.Complete()`永远不会被调用（我希望编译器会警告您有关无法访问的代码）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T12:03:17.643

一般来说，这是一个很好的方法。但在你的情况下，如果你在调用之前返回`scope.Complete()`，它只会破坏 TransactionScope。取决于你的设计。

因此，在这个示例中，Complete() 没有被调用，并且作用域被释放，假设它继承了 IDisposable 接口。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-02T12:07:48.857

scope.Complete 绝对应该在之前调用`return`。编译器将显示警告，并且永远不会调用此代码。

关于`return`它本身 - 是的，将其称为内部`using`语句是安全的。using被翻译成try-finally块在幕后，finally块肯定会被执行。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-02T12:09:49.307

In the example you have provided, there is a problem; `scope.Complete()` is never called. Secondly, it is not a good practice to use `return` statement inside `using` statements. Refer to the following:

```
using(var scope = new TransactionScope())
{
    //have some logic here
    return scope;      
} 
```

In this simple example, the point is that; the value of `scope` will be null when using statement is finished.

So it is better not to return inside using statements.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-02T12:07:35.603

在这个例子中，scope.Complete() 永远不会执行。但是，return 命令将清除堆栈上分配的所有内容。GC 将处理所有未引用的内容。所以，除非有不能被 GC 拾取的对象，否则没有问题。

# asp.net - 属性根据条件获取价值

> ID：11776959
> 
> 赞同：0
> 
> 时间：2012-08-02T12:00:39.093
> 
> 标签：asp.net, c#-4.0

我想创建一个`string`基于 a返回路径的类`Boolean`。例如，我有一个名为`ErrorLog`. 如果当前环境是开发环境，则为该属性返回的字符串是`"C:\LogFiles\AppLogs\ErrorLogs"`，而在生产环境中，返回的字符串将是`"D:\LogFiles\AppLogs\ErrorLogs"`

我可以在方法中确定环境并返回`boolean`- 我只是不知道如何返回正确的路径。我一直在研究条件属性，但不确定这是最好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:05:48.493

由于您使用的是 VS 2010，因此您应该查看 Web.config 转换。通过它，您可以在该`appSettings`部分中设置日志文件的路径，并在您将应用程序部署到生产环境时将其自动更改为适当的值。

这里有一个非常完整的例子[。](http://weblogs.asp.net/srkirkland/archive/2009/10/13/common-web-config-transformations-with-visual-studio-2010.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:05:25.123

你可以用这个

```
protected String ErrorLog
{
get {return YourMethodThatReturnTrueIfDevelopment() ? "C:\LogFiles\AppLogs\ErrorLogs" : "D:\LogFiles\AppLogs\ErrorLogs";}

set {ErrorLog = value;}
} 
```

定义`Get`方法，返回`Bool`环境所在的那个 eval，然后使用[三元运算符](http://msdn.microsoft.com/en-us/library/ty67wk28%28v=vs.80%29.aspx)返回一个或另一个字符串。

无论如何，这就是你要求的方法；我推荐（在看到之后）伊卡洛斯的回答

# regex - 正则表达式匹配字符串

> ID：11776961
> 
> 赞同：4
> 
> 时间：2012-08-02T12:00:40.320
> 
> 标签：regex

我想匹配所有满足以下规则的字符串-

*   应该由*小写*字母和数字和破折号组成
*   应该以字母或数字开头
*   应以字母或数字结尾
*   总字符串长度应至少为 3 且最多 20 个字符
*   dot`.`是可选的，不应该有两个或多个连续的点`.`
*   破折号`-`是可选的，不应有两个或多个连续破折号`-`
*   点`.`和破折号`-`不应该是连续的 // 字符串`aaa.-aaabbb`无效
*   不允许下划线

我想出了这个正则表达式：

```
^[a-z0-9]([a-z0-9]+\.?\-?[a-z0-9]+){1,18}[a-z0-9]$

[a-z0-9] //should start/end with a letter or a number
([a-z0-9]+\.?\-?[a-z0-9]+){1,18}  //other rules 
```

然而，它在某些情况下失败了 -

```
abcdefghijklmnopqrstuvwxyz //should fail total number of chars greater than 20  
aaa.-aaabbb //should fail as dot '.' and dash '-' are consecutive 
```

谁能帮我纠正这个正则表达式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:03:51.240

[您可以通过前瞻断言](http://www.regular-expressions.info/lookaround.html)来实现这一点：

```
^(?!.*[.-]{2})[a-z0-9][a-z0-9.-]{1,18}[a-z0-9]$ 
```

**解释：**

```
^                # Start of string
(?!              # Assert that the following can't be matched:
 .*              #  Any number of characters
 [.-]{2}         #  followed by .. or -- or .- or -.
)                # End of lookahead
[a-z0-9]         # Match lowercase letter/digit
[a-z0-9.-]{1,18} # Match 1-18 of the allowed characters
[a-z0-9]         # Match lowercase letter/digit
$                # End of string 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:17:37.527

我想出了这个方法，它使用类似于 Tim 的解决方案的[负前瞻，但应用它的方式不同。](http://www.regular-expressions.info/lookaround.html)因为它只在看到点或破折号时才会向前看，所以它可能不需要做太多的[回溯](http://www.regular-expressions.info/catastrophic.html)，这可能会使它的执行速度稍微快一些。

```
^[a-z0-9]([a-z0-9]|([-.](?![.-]))){1,18}[a-z0-9]$ 
```

解释：

```
^                  # Start of string
[a-z0-9]           # Must start with a letter or number
(                  # Begin Group
   [a-z0-9]        # Match a letter or number
   |               # OR
   ([-.](?![.-]))  # Match a dot or dash that is not followed by a dot or dash
){1,18}            # Match group 1 to 18 times
[a-z0-9]           # Must end with a letter or number
$                  # End of string 
```

# python - 如何使用 Qt4 制作具有富文本格式的平面按钮？

> ID：11776966
> 
> 赞同：2
> 
> 时间：2012-08-02T12:00:59.210
> 
> 标签：python, qt4, pyqt4, richtext, qpushbutton

我想创建显示富文本和图像的平面按钮。例如一个按钮应该能够显示：

`|¯¯¯¯¯¯|` **按钮标题 按钮** `¯¯¯¯|`
`| ICON |` *说明* `|`
`|_____̣̣_|___________________|`

我一直在玩 Qt4，但找不到一种简单的方法来制作这样的按钮。将 QLabel 添加为 QPushButton 的子项无法正常工作（文本未正确对齐并且按钮不考虑标签内容的大小）。

有没有办法制作一个简单的平面按钮，可以处理富文本和图像作为其内容？我可以从 QLabel 创建一个按钮吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:21:30.753

如果您查看[文档](http://doc.qt.nokia.com/4.7/qpushbutton.html)，您会看到 QPushButton 不接受子小部件。

因此，您将不得不编写自己的小部件。`QLabel`是一个好的开始。给它和 a 一样的边框和颜色（属性的`QButton`文档应该有帮助）。`flat``QPushButton`

您需要实现`mousePressEvent`并添加必要的按钮槽。一个好主意可能是查看源代码`QAbstractButton`以了解它是如何实现的。

# c# - 将用户控件弹出到新窗口中

> ID：11776971
> 
> 赞同：4
> 
> 时间：2012-08-02T12:01:05.503
> 
> 标签：c#, user-interface, popup

我想让它使我的一些用户控件能够“弹出”到新窗口中。我认为它的工作原理是用户控件将保留在当前位置，但会将其当前状态的副本发送到新窗口中。我还希望此功能位于基类中，以便派生类具有此功能。

这是我到目前为止所拥有的：

```
public class PopoutControl : XtraUserControl
{
    public void Popout()
    {
        XtraForm PopoutForm = new XtraForm();
        PopoutForm.Controls.Add(this);
        Dock = DockStyle.Fill;
        PopoutForm.Show();
    }
}

public partial class PopoutControlTest : PopoutControl
{
    public PopoutControlTest()
    {
        InitializeComponent();
    }

    private void OnPopoutRequest(object sender, EventArgs e)
    {
        Popout();
    }
} 
```

这有效，除了它从它所在的原始表单中删除用户控件 - 为了将其放置在新表单上 - 我该如何解决这个问题？

*   威廉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:13:44.007

您应该复制控件而不是传递引用，例如，通过实现一些“克隆”方法：

```
public class PopoutControl : XtraUserControl
{
    public void Popout()
    {
        XtraForm PopoutForm = new XtraForm();
        PopoutForm.Controls.Add(this.Clone());
        Dock = DockStyle.Fill;
        PopoutForm.Show();
    }

    public PopoutControl Clone()
    { 
       var p = new PopoutControl();

       // implement copying of the current state to p here
       // ...

       return p;
    }

} 
```

编辑：有关克隆或序列化 Windows 窗体控件的一般方法，请阅读本文：

[http://www.codeproject.com/Articles/12976/How-to-Clone-Serialize-Copy-Paste-a-Windows-Forms](http://www.codeproject.com/Articles/12976/How-to-Clone-Serialize-Copy-Paste-a-Windows-Forms)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:14:58.293

您的 PopOut() 必须更改。创建“this”的克隆。将克隆的对象添加到创建的新表单中。在 PopOutControl 类中实现 ICloneable 接口。您的clone() 方法必须被实现，使其具有与您的“PopOutControl”对象相同的状态，即“this”。

```
public void Popout()
    {
        XtraForm PopoutForm = new XtraForm();
        PopoutForm.Controls.Add(this.Clone());
        Dock = DockStyle.Fill;
        PopoutForm.Show();
    } 
```

# php - 无法存储 document_id

> ID：11776974
> 
> 赞同：5
> 
> 时间：2012-08-02T12:01:11.713
> 
> 标签：php, mysql

我有`tb_sentence`桌子：

```
=========================================================================
| id_row | document_id | sentence_id |          sentence_content        |
=========================================================================
|   1    |     1       |    0        |  Introduction to Data Mining.    |
|   2    |     1       |    1        |  Describe how data mining.       |
|   3    |     2       |    0        |  The boss is right.              |
========================================================================= 
```

我想标记 sentence_content，所以`tb_tokens`表格将包含：

```
==========================================================================
| tokens_id | tokens_word  | tokens_freq | sentence_id  | document_id    |
==========================================================================
|     1     | Introduction |        1    |       0      |       1        |
|     2     | to           |        1    |       0      |       1        |
|     3     | Data         |        1    |       0      |       1        |
|     4     | Mining       |        1    |       0      |       1        |
|     5     | Describe     |        1    |       1      |       1        |
etc... 
```

这是我的代码：

```
$sentence_clean = array();
$q1 = mysql_query("SELECT document_id FROM tb_sentence ORDER BY document_id ") or die(mysql_error());
while ($row1 = mysql_fetch_array($q1)) {
    $doc_id[] = $row1['document_id'];
}
$q2 = mysql_query('SELECT sentence_content, sentence_id, document_id FROM tb_sentence ') or die(mysql_error());
while ($row2 = mysql_fetch_array($q2)) {
    $sentence_clean[$row2['document_id']][] = $row2['sentence_content'];
}
foreach ($sentence_clean as $kal) {
    if (trim($kal) === '')
        continue;
    tokenizing($kal);
} 
```

具有标记化功能的是：

```
function tokenizing($sentence) {
    foreach ($sentence as $sentence_id => $sentences) {
        $symbol = array(".", ",", "\\", "-", "\"", "(", ")", "<", ">", "?", ";", ":", "+", "%", "\r", "\t", "\0", "\x0B");
        $spasi = array("\n", "/", "\r");
        $replace = str_replace($spasi, " ", $sentences);
        $cleanSymbol = str_replace($symbol, "", $replace);
        $quote = str_replace("'", "\'", $cleanSymbol);
        $element = explode(" ", trim($quote));
        $elementNCount = array_count_values($element);

        foreach ($elementNCount as $word => $freq) {
            if (ereg("([a-z,A-Z])", $word)) {
                $query = mysql_query(" INSERT INTO tb_tokens VALUES ('','$word','$freq','$sentence_id', '$doc_id')");
            }
        }
    }
} 
```

问题是`document_id`无法读取且无法插入 tb+tokens 表中。怎么称呼那些`document_id`？谢谢你 ：）

已编辑的问题：每个单词（标记化的结果）都有`document_id`and `sentence_id`。我的问题是无法调用`document_id`. 如何称呼两者`sentence_id`和`document_id`每句话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T13:58:09.547

我认为您不需要这些代码：

```
$q1 = mysql_query("SELECT document_id FROM tb_sentence ORDER BY document_id ") or die(mysql_error());
while ($row1 = mysql_fetch_array($q1)) {
    $doc_id[] = $row1['document_id'];
} 
```

$doc_id 数组从未被使用过

```
if (trim($kal) === '')
        continue; 
```

$kal 是一个数组，不需要修剪

```
$sentence_clean[$row2['document_id']][] = $row2['sentence_content']; 
```

因为你要记录sentence_id，它应该是$row2['sentence_id'] 而不是[]

（当然你应该确保，同一个document_id中不会有相同的sentence_id，否则你应该连接它）

这是我的一些更正：

```
$sentence_clean = array();
$q2 = mysql_query('SELECT sentence_content, sentence_id, document_id FROM tb_sentence ') or die(mysql_error());
while ($row2 = mysql_fetch_array($q2)) {
    $sentence_clean[$row2['document_id']][$row2['sentence_id']] = $row2['sentence_content'];
}

foreach ($sentence_clean as $doc_id => $kal) {
    tokenizing($kal, $doc_id);
}

function tokenizing($sentence, $doc_id) {
    foreach ($sentence as $sentence_id => $sentences) {
        $symbol = array(".", ",", "\\", "-", "\"", "(", ")", "<", ">", "?", ";", ":", "+", "%", "\r", "\t", "\0", "\x0B");
        $spasi = array("\n", "/", "\r");
        $replace = str_replace($spasi, " ", $sentences);
        $cleanSymbol = str_replace($symbol, "", $replace);
        $quote = str_replace("'", "\'", $cleanSymbol);
        $element = explode(" ", trim($quote));
        $elementNCount = array_count_values($element);

        foreach ($elementNCount as $word => $freq) {
            if (ereg("([a-z,A-Z])", $word)) {
                $query = mysql_query(" INSERT INTO tb_tokens VALUES ('','$word','$freq','$sentence_id', '$doc_id')");
            }
        }
    }
} 
```

我将 document_id 解析为函数

# java - 在自定义 JavaDoc Taglet 中加载类？

> ID：11776981
> 
> 赞同：4
> 
> 时间：2012-08-02T12:01:33.727
> 
> 标签：java, javadoc, taglet

我正在编写一个自定义 JavaDoc Taglet，并且想要加载并创建一个正在处理 JavaDoc 的类的实例。这是我的代码（公共类 CDKIOOptionsTaglet 实现 Taglet）：

```
public String toString(Tag tag) {
    return "<DT><B>IO options: </B><DD>"
           + expand(tag) + "</DD>\n";
}

public String toString(Tag[] tags) {
    if (tags.length == 0) {
        return null;
    } else {
        return toString(tags[0]);
    }
}

private String expand(Tag tag) {
    // create a table with IOOptions
    StringBuffer tableContent = new StringBuffer();
    SourcePosition file = tag.position();
    String pathAndFile = file.file().toString();
    pathAndFile = pathAndFile.replaceAll("/", ".");
    pathAndFile = pathAndFile.substring(pathAndFile.indexOf("src.main") + 9);
    pathAndFile = pathAndFile.substring(0, pathAndFile.indexOf(".java"));
    try {
        Class ioClass = Class.forName(pathAndFile);
        Object ioInstance = ioClass.newInstance();
        if (ioInstance instanceof IChemObjectIO) {
            IChemObjectIO objectIO = (IChemObjectIO)ioInstance;
            tableContent.append("<table>");         
            for (IOSetting setting : objectIO.getIOSettings()) {
                tableContent.append("<tr>");
                tableContent.append("<td>" + setting.getName() + "</td>");
                tableContent.append("<td></td>");
                tableContent.append("</tr>");
            }
            tableContent.append("</table>");
        }
    } catch (Exception e) {
        e.printStackTrace();
        return "";
    }
    return tableContent.toString();
} 
```

这是 Ant 脚本，包括将要加载的类添加到调用期间使用的类路径的 jar：

```
<classpath>
  <pathelement location="." />
  <fileset dir="dist/jar">
    <include name="*.jar" />
  </fileset>
  <javadoc ...>
</classpath> 
```

我为其创建 JavaDoc 的类位于 dist/jar 中的 jar。为了完整起见（并根据要求），这是完整的电话：

```
 <javadoc destdir="${javadoc.dir}"
             author="true" version="true" use="true"
             public="true"
             windowtitle="CDK API - version ${TODAY_SVN}">
        <classpath>
            <pathelement location="." />
            <fileset dir="dist/jar">
                <include name="*.jar" />
            </fileset>
            <fileset dir="jar">
                <include name="*.jar" />
            </fileset>
            <fileset dir="jar/jena">
                <include name="*.jar" />
            </fileset>
             <dirset dir="src/main">
                 <include name="net/**/*"/>
             </dirset>
        </classpath>
        <tag name="cdk.set" scope="all" description="Belongs to the set:" />
        <tag name="cdk.keyword" scope="all" description="Keywords:" />
        <tag name="cdk.created" scope="all" description="Created on:" />
        <tag name="cdk.require" scope="all" description="Requires:" />
        <tag name="cdk.depends" scope="all" description="Required library to be able to run this class:" />
        <tag name="cdk.builddepends" scope="all" description="Required library to be able to compile this class:" />
        <tag name="cdk.todo" scope="all" description="To do:" />
        <tag name="cdk.license" scope="all" description="License:" />
        <taglet name="net.sf.cdk.tools.doclets.CDKCiteTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKModuleTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKBugTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKDictRefTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKInChITaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKThreadSafeTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKThreadNonSafeTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKGitTaglet" path="jar/xom-1.1.jar:src/main" />
        <taglet name="net.sf.cdk.tools.doclets.CDKIOOptionsTaglet" path="jar/xom-1.1.jar:src/main" />
        <packageset dir="${src}/main" defaultexcludes="yes">
            <include name="org/openscience/cdk/**" />
        </packageset>
            <link href="${javaURL}"/>
    </javadoc> 
```

我用“ant -v”确认适当的 jar 确实包含正在加载的类。尽管如此，我还是得到了这个堆栈跟踪：

```
[javadoc] java.lang.ClassNotFoundException: org.openscience.cdk.Atom
[javadoc]     at java.net.URLClassLoader$1.run(URLClassLoader.java:217)
[javadoc]     at java.security.AccessController.doPrivileged(Native Method)
[javadoc]     at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
[javadoc]     at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
[javadoc]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
[javadoc]     at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
[javadoc]     at net.sf.cdk.tools.doclets.CDKIOOptionsTaglet.expand(CDKIOOptionsTaglet.java:104)
[javadoc]     at net.sf.cdk.tools.doclets.CDKIOOptionsTaglet.toString(CDKIOOptionsTaglet.java:83)
[javadoc]     at net.sf.cdk.tools.doclets.CDKIOOptionsTaglet.toString(CDKIOOptionsTaglet.java:91)
[javadoc]     at com.sun.tools.doclets.internal.toolkit.taglets.LegacyTaglet.getTagletOutput(LegacyTaglet.java:130)
[javadoc]     at com.sun.tools.doclets.internal.toolkit.taglets.TagletWriter.genTagOuput(TagletWriter.java:185)
[javadoc]     at com.sun.tools.doclets.formats.html.HtmlDocletWriter.printTags(HtmlDocletWriter.java:230)
[javadoc]     at com.sun.tools.doclets.formats.html.ClassWriterImpl.writeClassTagInfo(ClassWriterImpl.java:246)
[javadoc]     at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.buildClassTagInfo(ClassBuilder.java:287) 
```

如何让 Taglet 加载它为其创建 JavaDoc 的类，以便我可以使用反射（等）来了解有关该类的更多信息，并将其作为 Taglet 输出的一部分返回？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-05T19:01:08.897

`<classpath>`配置不是声明实例化类的正确位置。由于 taglets 实例化了你的类，你需要将这些类添加到 taglets 的类路径中：

```
<taglet name="net.sf.cdk.tools.doclets.CDKCiteTaglet">
  <path>
    <pathelement location="." />
    <fileset dir="dist/jar">
      <include name="*.jar" />
    </fileset>
  </path>
</taglet> 
```

在命令行上，它应该如下所示：

```
javadoc \
  ...
  -taglet 'net.sf.cdk.tools.doclets.CDKCiteTaglet' \
  -tagletpath '/.../jar/xom-1.1.jar:/.../jar/my-lib1.jar:/.../jar/my-lib2.jar:...' \
  ... 
```

# django - Django 不显示图像

> ID：11776982
> 
> 赞同：0
> 
> 时间：2012-08-02T12:01:36.123
> 
> 标签：django, image, web-applications

我正在尝试使用 Django 创建一个站点，但是，我无法显示要显示的图像。

我的模型是：

```
class Place(models.Model):
Pic=models.ImageField(upload_to="media",blank=True,null=True)
StoreName=models.CharField(max_length=200)
Address=models.CharField(max_length=200)
OpenDate=models.DateField('date opened')
SubmitDate=models.DateTimeField('date submitted')
def __unicode__(self):
    return self.StoreName 
```

观点是：

```
def PlaceView(request,thisPlace):
PlaceObject=Place.objects.get(StoreName=thisPlace)
return render_to_response('Pages/place.html',{'PlaceObj':PlaceObject}) 
```

然后在“place.html”中

```
<img src="{{PlaceObj.Pic.url}}" alt="test" width="50px" height="50px" 
```

但图片永远不会显示。在控制台中，我收到 404 错误：

```
[02/Aug/2012 14:49:50] "GET /Media/media/24228302_1.jpg HTTP/1.1" 404 2220 
```

我已将 MEDIA_ROOT 设置为系统中的文件夹 (/home/Project_root/Media/)，并且 MEDIA_URL ='http://127.0.0.1:8000/Media/'

有什么我做的不对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:07:05.143

您必须在`urls.py`（或您的 URL 模式所在的任何位置）设置 URL 模式以提供媒体图像。像这样：

```
url(r'^media/(?P<path>.*)$', 'django.views.static.serve', {
        'document_root': settings.MEDIA_ROOT,
    }), 
```

确保包含`from django.conf import settings`在您的 urls.py 文件中。

# utc - 如何从 .vcs 文件中的 Android 中的 DateTime 字符串获取上午和下午的时间

> ID：11776983
> 
> 赞同：1
> 
> 时间：2012-08-02T12:01:36.450
> 
> 标签：utc, datetime-format, android-calendar, vcalendar

我正在解析一个 .vcs 文件，它只有以下格式的日期时间。例如 - 事件的开始日期时间格式如下：

DTSTART:20000803T103000Z

由于我有这个字符串，我可以轻松找出小时、分钟、日、月、年等的值，并以可读的格式轻松显示。但我想随时间显示上午和下午。我怎样才能做到这一点？我可以使用哪个 Android 函数从此字符串中获取 AM 和 PM。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T05:22:44.600

```
 hour = StartDate.substring(9,11);
             minutes= StartDate.substring(11,13);
             hoursofday = Integer.parseInt(hour);
             minutesofday = Integer.parseInt(minutes);      

if(hourOfDay>12)
    {

        datehid.setText(String.valueOf(hourOfDay-12)+ ":"+(String.valueOf(minute)+"pm"));
    }
    if(hourOfDay==12)
    {
        datehid.setText("12"+ ":"+(String.valueOf(minute)+"pm"));
    }
    if(hourOfDay<12)
    {
        datehid.setText(String.valueOf(hourOfDay)+ ":"+(String.valueOf(minute)+"am"));
    } 
```

# c# - WebReference 生成的命名空间

> ID：11776985
> 
> 赞同：2
> 
> 时间：2012-08-02T12:01:46.350
> 
> 标签：c#, asp.net, web-services

我真的被这个问题困住了：我在类中有一些数据，`BigStorage` 在 GUI 中有一些操作。我需要将此类中的数据传递给 Web 服务，然后接收答案并进行处理。

我已经编译了一个包含这个 BigStorage 类定义的 dll 并将它提供给我们的网络管理员 - 他使用了这个类并将结果返回给我。但是我收到了这个结果 `webRefName.BigStorage`，这不等于我的`BigStorage`（它们有不同的命名空间）。

顺便说一下，其中的一个私有字段`webRefName.BigStorage`是`typeof DataSet`（？！），当在我的 BigStorage 中它有我自己定义的类型（我已经为它添加了 xml 序列化）。

有没有办法执行以下操作：

```
webRefName.BigStorage bS = (webRefName.BigStorage) bSfromLocalProject;
 //where  bSfromLocalProject typeof BigStorage 
```

另外，为什么 Reference.cs 中的这个字段（见上文）是 DataSet？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T12:12:33.553

从 Web 引用生成的类型是从可用的元数据 (wsdl) 生成的浅层代理类型。它们与原始类型不同，不能互换使用**。**命名空间可以配置为 web-reference 属性的一部分，但使其相等不会使这个工作。

如果您在另一端使用原始程序集，请考虑使用*Web 服务引用*（即 WCF）。这可以选择重用现有类型，这意味着它可以使用现有 dll 引用中的类型。然后它们是完全可以互换的（或者更准确地说，它们是相同的东西——所以没有什么可以互换*的*）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:27:07.787

在 C# 中，您不能（默认情况下）将不同的类型相互转换；但是，您可以在您有权访问的类中定义转换操作：如果您有权访问 Web 引用的类，那么自动生成的类应该是部分的，您可以扩展它；如果您可以访问该库，则向其添加转换操作方法（尽管我不建议为该库执行此操作 - 最好为 Web 引用的类执行此操作）。

基本上，为了能够使用您在问题中提供的代码，您可以在源类或目标类中定义显式或隐式转换。

参考 MSDN：[显式转换](http://msdn.microsoft.com/en-us/library/xhbhezf4.aspx)，[隐式转换](http://msdn.microsoft.com/en-us/library/z5z9kes2.aspx)。
在您的情况下，隐式转换似乎更合适，因为这种转换不容易发生数据丢失。

这看起来像这样：

```
namespace webRefName {
    public partial class BigSorage {
        public static implicit operator BigStorage(otherNamespace.BigStorage otherBigStorage) {
            //write conversion code from otherBigStorage to webRefName.BigStorage.
            //return the resulting webRefName.BigStorage.
        }
    }
} 
```

顺便说一句，此代码必须驻留在引用 web 服务的同一程序集中，因为不能在不同的程序集中定义部分。

之后，您可以写出您所要求的内容（即使没有明确的演员表）：

```
webRefName.BigStorage bS = bSfromLocalProject; 
```

我希望这有帮助！
滕吉兹

# java - Java - 在方法外使用 TryCatch

> ID：11776987
> 
> 赞同：3
> 
> 时间：2012-08-02T12:01:54.723
> 
> 标签：java

```
import org.newdawn.slick.Image;
import org.newdawn.slick.SlickException;

public class Images {
    try {
        public static Image button = new Image("images/buttons/0/Button.png");
    } catch(SlickException e) {
    e.printStackTrace();
    }
} 
```

这只是给出了一个错误，我希望能够将一些图像存储在静态变量中并从另一个类访问它们而不实例化它。

我可能会创建一个方法来初始化所有它们并为它们设置值，但是这些变量不会是静态的。

我需要 TryCatch 的原因是因为`Image`类的构造函数抛出了一个`SlickException`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-02T12:04:25.160

两种选择：

*   使用静态初始化程序块

    ```
    public static final Image button;

    static {
        try/catch in here, assign to button
    } 
    ```

*   使用方法进行初始化

    ```
    public static final Image button = createButton();

    private static Image createButton() {
        try/catch in here
    } 
    ```

不过，就我个人而言，我有点怀疑这是一个好主意——让类型初始化做“真正的工作”会导致难以追踪的错误。在出现问题的情况下，所有引用代码是否*真的*设置为空？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T12:03:54.967

您可以将异常处理代码放在一个`static`块中。

```
public static Image button;

static {
   try {
       button = new Image("images/buttons/0/Button.png");
    } catch(SlickException e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-02T12:06:25.223

只需在块外声明静态变量..它就会工作..

```
public static final Image button = setImageButt();

public static Image setImageButt(){
   try {
       button = new Image("images/buttons/0/Button.png");
    } catch(SlickException e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T12:04:33.500

尝试将其放入静态块中

```
 public static Image button;
    static{
          try {
                button = new Image("images/buttons/0/Button.png");
            } catch(SlickException e) {
            e.printStackTrace();
            }
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-02T12:04:04.003

您应该使用静态构造函数。

```
public class Images {
    public static Image button;

    static{
        try {
            button = new Image("images/buttons/0/Button.png");     
        } catch(SlickException e) {
             e.printStackTrace();
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-02T12:27:51.807

使用静态块进行初始化，并特别注意不要吞下异常：

```
public class Images {

    public final static Image BUTTON;
    static {
        Image i;
        try {
            i = new Image("images/buttons/0/Button.png");
        } catch (SlickException e) {
            throw new ExceptionInInitializerError(e);
        }
        BUTTON = i;
    }
} 
```

我更正了您的代码中的一些内容：

*   在初始化程序中创建图像意味着它应该是一个常量，因此是*final*。
*   常量应该有大写名称，因此*BUTTON*。
*   初始化期间的异常不应被吞下，但应正确指出。否则，您可能会花费数小时调试未找到的图像，因为不会显示初始化失败。ExceptionInInitializerError 是在这种情况下抛出的标准异常。

还有其他解决方案，但这是最干净的 IMO。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-05T09:41:59.753

为了找到我刚刚遇到的这个问题的解决方案，我曾经遇到过类似的问题。我已经解决了类似的问题，只是将所有代码放在默认构造函数中。

您的解决方案代码将如下所示：

```
import org.newdawn.slick.Image;
import org.newdawn.slick.SlickException;

public class Images {

    public Images{
        try {
        public static Image button = new Image("images/buttons/0/Button.png");
        } catch(SlickException e) {
            e.printStackTrace();
        }   
    }   
} 
```

# php - php和xml错误

> ID：11776990
> 
> 赞同：1
> 
> 时间：2012-08-02T12:02:03.017
> 
> 标签：php, xml

我有一个由我的 Web 服务生成的 xml 文件，我现在想显示 xml 中的一些信息

xml 中的所有标签都处于同一级别，没有层次结构。

但是，我在文档的两侧都有这些标签，即：

```
<xml version="1.0" encoding="ISO-8859-1"><xmlresponse> 
```

和：

```
</xmlresponse></xml> 
```

afin d'utiliser une balise et de l'afficher j'ai donc le code suivant：

```
<?php
$document_xml = new DomDocument(); 
$resultat_html = '';
$document_xml->load('tmp/'.$_GET['n_doss'].'.xml'); 
//echo $elements = $document_xml->getElementsByTagName('rating');

$title = $document_xml->xpath('rating');
echo trim($title[0]);
?> 
```

但是，我转发一条错误消息说：

```
Fatal error: Call to undefined method DOMDocument :: xpath () 
```

我不知道如何解决它。

预先感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T12:08:17.400

Check your `xml` file is valid and it loads correctly by `DomDocument`. And why you don't use `SimpleXML` library ? It also supports `XPath` expressions the following way:

```
$simplexml= new SimpleXMLElement($xml); // loading RAW XML string `$xml` retrieved from WebService
$items =  $simplexml->xpath('/rating'); // querying DOM to retrieve <rating></rating> from the root of of the structure
echo $items[0]; // getting result 
```

**NOTE:** `DomDocument` doesn't have `xpath` method. Use `query` method to apply `XPath` expression to the *object* using `DomXPath` like this:

```
$dom = new DomDocument();
$dom->load('tracks.xml');
$xpath = new DOMXPath($dom);
$query = '//distance[. > "15000"]';
$distances = $xpath->query($query); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T12:08:20.303

I don't think the `DOMDocument` has an `xpath` method. Instead you can use the `DOMXPath` class.

Try this:

```
$xpath = new DOMXPath($document_xml);
$ratings = $xpath->query('rating'); 
```

# css - css - 清除浮动不起作用

> ID：11776991
> 
> 赞同：2
> 
> 时间：2012-08-02T12:02:03.470
> 
> 标签：css, css-float

我有一个明确的浮动问题，我无法弄清楚。这是 HTML 代码：

```
 <div id="main">
   <div id="primary">
      <div id="content" role="main">
      </div><!-- #content -->
   </div><!-- #primary -->
   <div id="secondary">
   <div><!-- #secondary -->
 </div><!-- #main --> 
```

这是每个元素的 CSS：

```
#main {
clear: both;
}

#primary {
float: left;
width: 100%;
margin: 0 -40% 0 0!important;
}

#content {
background: none repeat scroll 0 0 white;
box-shadow: 0px 10px 10px 2px #888;
float: left;
margin: 0 12.3%!important;
position: relative;
width: auto;
 }

#secondary {
float: right;
margin-right: 15%;
width: 22%;
position: relative;
padding-top: 170px;
} 
```

该网站建立在 wordpress 之上，因此`main`以 header.php 开始，以 footer.php 结束。`primary`和`content`div 在每个页面模板中开始和结束，并且在div结束`secondary`后在每个页面模板（获取侧边栏）中调用`primary`div。

问题是内容 div 在主 div 结束后立即停止，而辅助 div 继续向下延伸。内容 div 应延伸到辅助或主要 div 结束的文档末尾。

[您可以在此网站](http://nelsonandco.pro/learncenter/about/)上实时查看代码及其引起的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:10:25.087

它是因为`float`

给`overflow property`你的父母。

或创建一个额外的 div 并给`clear:both`

在使用基于浮动的布局进行编码时，我们面临的一个常见问题是包装容器不会扩展到子浮动元素的高度。解决此问题的典型解决方案是`clear float`在浮动元素之后添加一个元素或添加一个`clearfix`到包装器。但是你也可以使用溢出属性来解决这个问题。这也不是一个新的 CSS 技巧。它在很久以前就被记录在案了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:05:46.280

父元素永远不会扩展以包含浮动元素。要使该元素扩展以包含它们，您可以添加`overflow: auto`到父元素，以便在大多数情况下包含溢出该元素的浮动元素。我找不到一个元素来应用它，所以你可能做了其他事情来导致这个。position:absolute 具有相同的问题，即从正常流程中取出并且父元素将不包含它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T12:09:36.837

css 中的`clear`属性需要应用于`div`代码中的新属性。它通过在父元素中的所有浮动元素下方启动 div 来工作。它看起来像这样：

```
<div id="main">
  <div id="primary">
    <div id="content" role="main">
    </div>
  </div>
  <div id="secondary">
  <div>
  <div style="clear: both"></div> <!-- Don't do inline styles -->
</div> 
```

那应该这样做。您还应该取出`clear: both`on `#main's`CSS。这不是必需的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-02T12:10:53.693

我认为问题在于“次要”元素不包含在您网站上的“内容”元素中，因此显然“内容”不会增长以适应“次要”。

您需要重新考虑您的 html 结构。

# css - DIV 行内块 + 宽度 100%

> ID：11776993
> 
> 赞同：13
> 
> 时间：2012-08-02T12:02:20.607
> 
> 标签：css, css-tables

我不能在一行中显示几个 DIV。`display: inline-block`并且`float: left`不起作用。我的网站宽度不是`fixed`所以我希望它是动态的以适应任何宽度的屏幕。

* * *

**HTML：**

```
<div id="all">
    <div id="a">25px</div>
    <div id="b">200px</div>
    <div id="c">
        <div id="c1">100%</div>
        <div id="c2">100%</div>
        <div id="c3">100%</div>
    </div>
    500px
</div> 
```

**CSS：**

```
DIV {
    margin:5px;
    font-size:10px;
}

DIV#all {
    width:500px;
    border:1px dotted black;
}

DIV#a {
    display:inline-block;
    width:25px;
    height:200px;
    border:1px solid red;
    color:red;
}

DIV#b {
    display:inline-block;
    width:150px;    
    height:200px;
    border:1px solid green;
    color:green;
}

DIV#c {
    display:inline-block;
    width:auto;
    height:200px;
    border:1px solid blue;
    color:blue;
}

DIV#c1 {
    width:auto;
    border:1px dotted blue;
    color:blue;   
}

DIV#c2 {
    width:auto;
    border:1px dotted blue;    
}

DIV#c3 {
    width:auto;
    border:1px dotted blue;   
    color:blue;
}​ 
```

**现场演示：**

*   **问题：http:** [//jsfiddle.net/BC2d9/](http://jsfiddle.net/BC2d9/)

*   **已解决：http :** [//jsfiddle.net/RAds3/](http://jsfiddle.net/RAds3/) ( `display:table`)

​</p>

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-02T12:14:03.603

您当前尝试的问题是`width: 100%;`在第三列`div#c`。这里的 100% 将是其父级的 100% - 它包含所有三列。根据您想要的灵活性级别，您有几个选择。

如果站点宽度是固定的，则为第三列设置固定宽度。

如果您希望第三列拉伸到其内容，请设置 max-width。

如果您希望第三列拉伸以填充其父列，则最好使用 (css) 表。

查看[http://somacss.com/cols.html](http://somacss.com/cols.html)以获取有关 css 列布局的绝佳资源。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-02T12:23:00.930

问题出在第三列。您不能将宽度设置为 100%。此外，您需要`float: left;`. 这是固定代码：

```
<div id="all">
    <div id="a">25px</div>
    <div id="b">200px</div>
    <div id="c">
        <div id="c1">100%</div>
        <div id="c2">100%</div>
        <div id="c3">100%</div>
    </div>
    <div style="clear:both;"></div>
    500px
</div> 
```

和 CSS：

```
DIV {
    margin:5px;
    font-size:10px;
}

DIV#all {
    width:500px;
    border:1px dotted black;
}

DIV#a {
    float: left;
    width:25px;
    height:200px;
    border:1px solid red;
    color:red;
}

DIV#b {
    float: left;
    width:200px;    
    height:200px;
    border:1px solid green;
    color:green;
}

DIV#c {
    float: left;
    width:210px; 
    min-height:190px;
    border:1px solid blue;
    color:blue;
    padding: 5px;
}

DIV#c1 {
    width:100%;
    border:1px dotted blue;
    color:blue;
    margin: 0 0 5px 0;   
}

DIV#c2 {
    width:100%;
    border:1px dotted blue;
    margin: 0 0 5px 0;   
}

DIV#c3 {
    width:100%;
    border:1px dotted blue;   
    color:blue;
    margin: 0 0 5px 0;
}​ 
```

还有[**现场演示**](http://jsfiddle.net/BC2d9/5/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-02T12:21:00.587

如果您的站点宽度是固定的，则只需替换`100%`为容器中所有剩余的宽度。
**示例：[jsFiddle](http://jsfiddle.net/BC2d9/8/)**

* * *

如果您希望它是动态的并适合任何宽度的屏幕，我认为纯 CSS 是不可能的。我用jQuery做到了：

```
var containerWidth = $('#all').outerWidth();
var widthLeft = $('#a').outerWidth(true) + $('#b').outerWidth(true);
var widthRight = containerWidth - widthLeft - 20; // 20px = spacing between elements

$('#c').css('width', widthRight+ 'px');
$('#c1, #c2, #c3').css('width', widthRight-10+ 'px'); // 10 = padding on the right side 
```

修改后的 CSS：

```
DIV#c {
    display:inline-block;
    height:200px;
    border:1px solid blue;
    color:blue;
    float: right;
}

DIV#c1 {
    border:1px dotted blue;
    color:blue;   
}

DIV#c2 {
    border:1px dotted blue;    
}

DIV#c3 {
    border:1px dotted blue;   
    color:blue;
} 
```

删除`width: 100%`并设置`float:right`为`#c`.

**现场演示：[jsFiddle](http://jsfiddle.net/BC2d9/7/)**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-02T12:21:21.130

看看[这个更新](http://jsfiddle.net/BC2d9/6/)。我希望足够好:)

```
DIV {
margin:5px;
font-size:10px;
}

DIV#all {
    width:500px;
    border:1px dotted black;
}

DIV#a {
    display:inline-block;
    width:25px;
    height:200px;
    border:1px solid red;
    color:red;
    float:left;
}

DIV#b {
    display:inline-block;
    width:150px;    
    height:200px;
    border:1px solid green;
    color:green;
    float:left;
}

DIV#c {
    display:inline-block;
    width:277px; 
    height:200px;
    border:1px solid blue;
    padding:0 7px 0 5px;
    color:blue;
    float:left;
}

DIV#c1 {
    width:100%;
    margin:5px 0;
    border:1px dotted blue;
    color:blue; 
}

DIV#c2 {
    width:100%;
    margin:5px 0;
    border:1px dotted blue;    
}

DIV#c3 {
    width:100%;
    margin:5px 0;
    border:1px dotted blue;   
    color:blue;
} 
```

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2012-08-02T12:10:41.510

```
div { float:left; width:10px; height:10px; } 
```

有帮助吗？