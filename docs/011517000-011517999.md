# StackOverflow 问答 11517000-11517999

# java - 在 SOLR 中使用类似操作

> ID：11517000
> 
> 赞同：0
> 
> 时间：2012-07-17T06:19:22.863
> 
> 标签：java, solr

我正在使用 SOLR 搜索引擎。

几天前，我提出了在给定列上执行类似操作的要求。

例如：

```
Column name: Name

Content: Stackoverflow is good. 
```

查询是

```
Name:("*overflow is*") 
```

这个查询应该给我特定 **的“Stackoverflow 很好”。**因此

该输入参数应被视为一个整体输入。它不应被视为自由文本搜索。它应该像 SQL 中的“like”操作一样工作。

为此我使用此配置。

```
<fieldtype class="solr.TextField" name="string_wildcards" positionIncrementGap="100">
      <analyzer type="index">
        <tokenizer class="solr.StandardTokenizerFactory"/>
        <filter class="solr.StandardFilterFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>
        <filter class="solr.TrimFilterFactory" />
        <filter class="solr.EdgeNGramFilterFactory" minGramSize="2" maxGramSize="15"/>
      </analyzer>
      <analyzer type="query">
        <tokenizer class="solr.StandardTokenizerFactory"/>
        <filter class="solr.StandardFilterFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>
        <filter class="solr.TrimFilterFactory" />
        <filter class="solr.KeywordTokenizerFactory"/>
      </analyzer>
    </fieldtype> 
```

这个查询没有给我“like”操作所期望的结果。

例如：名称：（“*溢出是*”）

将搜索为免费文本，而不是像“喜欢”运算符。

它给了我结果

1.  什么是溢出。
2.  我的名字是ABC
3.  什么是溢出
4.  堆栈溢出很好。

我的预期结果只有第 4 点，上面的配置给了我所有 4 个结果，这是错误的。

请根据我的要求帮助我正确配置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T13:03:38.267

关键是，您使用 StandardTokenizerFactory 拆分/标记您的输入。在这种情况下，您搜索`*overflow`and `is*`。

但是：左边的通配符，比如

> *溢出

solr 默认不支持。在这种情况下，您必须索引字段（列）“名称”两次。

这意味着：从 string_wildcards 类型添加一个文件名，因为您编写了一个添加第二个字段 - 让我们`eman`从 left_wildcards_string 类型调用它（反转：名称）。在此字段类型定义中，您添加[solr.ReversedWildcardFilterFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.ReversedWildcardFilterFactory)

最后，您的搜索范围涵盖了这两个领域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-14T12:11:43.053

关键字之间的默认布尔参数是 OR，这就是您获得所有 4 个结果的原因。

# c++ - QLineEdit 圆角？

> ID：11517001
> 
> 赞同：9
> 
> 时间：2012-07-17T06:19:30.127
> 
> 标签：c++, qt, user-interface

有没有办法使 QLineEdit 小部件的角落变圆？如果没有，是否有类似的小部件我可以这样做？

**视觉意义：**

![在此处输入图像描述](../Images/6d1a778aca00f6daa6e3d06a27d0ef97.png)

**已解决：（**有关*更多信息，请参见下文*）

```
 QLineEdit *lineEdit = new QLineEdit;

      lineEdit -> setStyleSheet("QLineEdit {  border: 2px solid gray;"
                                             "border-radius: 5px;}"); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-17T06:27:13.053

您可以使用*StyleSheets*设置 Qt 组件的样式，就像在制作网站时使用它们一样。您可以通过两种方式设置样式表：在应用程序代码中或在 QtDesiner 中。

要在*QtDesiner*中完成（最方便），右键单击您放置在表单上的组件，然后按“编辑样式表”（或者可能是“更改样式表”，对不起，我的 Qt 不是英文的，所以我不确定该选项的确切名称）。将打开一个窗口，您可以在其中编辑元素的样式表。

它非常方便，因为它有一些有用的选项，例如在此处添加资源、颜色或字体，您只需按几个按钮即可通过 GUI 设置所需的选项，而无需键入甚至了解 CSS 语法.

从*代码*中，您可以这样做（示例）：

```
SomeComponent->setStyleSheet("QLineEdit { border-radius: 5px; }"); 
```

[这](http://doc.qt.io/archives/qt-4.7/stylesheet-reference.html)是有关样式表的文档。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-17T06:24:00.490

使用样式表。来自[http://doc.qt.io/archives/qt-4.7/stylesheet-examples.html](http://doc.qt.io/archives/qt-4.7/stylesheet-examples.html)：

```
QLineEdit {
 border: 2px solid gray;
 border-radius: 10px;
} 
```

此外，如果你想弄脏你的手，你总是可以覆盖paintEvent。

# c# - 如何从 Outlook 收件箱下载 excel 附件并将数据保存到 C# 控制台应用程序中的 sql server？

> ID：11517009
> 
> 赞同：0
> 
> 时间：2012-07-17T06:21:01.457
> 
> 标签：c#, sql-server, excel, console-application

我想从 Outlook 收件箱下载一个 excel 附件（将其保存在应用程序文件夹中），然后将 excel 表的数据保存到 C# 控制台应用程序中的 sql server 表中。你能帮我实现这个目标吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:39:48.310

基本上你有两种方法：调用安装在客户端计算机上的 Outlook 和调用服务器（Exchange？）。

展望方式。首先，您需要登录。在这里阅读[http://msdn.microsoft.com/en-us/library/ff869819.aspx](http://msdn.microsoft.com/en-us/library/ff869819.aspx)。然后在这里阅读更多[http://msdn.microsoft.com/en-us/library/ff863719.aspx](http://msdn.microsoft.com/en-us/library/ff863719.aspx)和[http://msdn.microsoft.com/en-us/library/ff870432](http://msdn.microsoft.com/en-us/library/ff870432)。是的，有些例子在 VB 中，你必须将它们翻译成 C#。还可以在这里查看[C# MAPI 以读取交换服务器收件箱](https://stackoverflow.com/questions/5065017/c-sharp-mapi-to-read-exchange-server-inbox)

交换方式。谷歌搜索`IMAP C# example`。

要保存到 SQL Server，您需要创建带有 BLOB 字段的表并将数据插入其中，例如，通过 ADO.NET。搜索谷歌，`ADO.NET`你`ADO.NET blob`肯定会得到很多例子。

# c++ - Dektop 和 Metro Windows 8 的通用 UI

> ID：11517010
> 
> 赞同：1
> 
> 时间：2012-07-17T06:21:06.747
> 
> 标签：c++, windows-8, microsoft-metro, windows-runtime

我需要开发可以在桌面和 Metro 上运行的通用 UI。

这可能吗？我想在桌面和地铁应用程序中使用相同的 UI 代码

我知道桌面和 Metro 都支持 Win RT。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:38:38.620

我相信您的问题是关于创建一个既能像 Metro Style 一样工作又能像传统桌面应用程序一样工作的应用程序。您需要做的是将所有业务逻辑代码包装成一个`WinRT DLL`并创建两个不同的 UI 应用程序，一个使用`XAML`另一个使用`windows Form`和使用 DLL。

但理想情况下，你不能有一个像原生应用程序和 Metro 风格应用程序一样运行的 exe，你应该有两个 exe。

另一件事是您以这种方式开发的本机应用程序可能不向后兼容，因为在`build`会议上我记得他们说`WinRT`只是从`Windows 8`开始。所以你不能在`Windows 7`.

# python - 使用哪种 AES 模式加密数据库中的电子邮件地址？

> ID：11517017
> 
> 赞同：1
> 
> 时间：2012-07-17T06:21:46.863
> 
> 标签：python, aes, pycrypto

在存储它们之前，我正在使用 AES 对存储在我的数据库中的电子邮件地址进行加密。我希望能够判断电子邮件是否已添加到数据库中。这意味着当我调用`encrypt(email)`相同的输入电子邮件时，结果必须始终相同，否则我必须解密每封电子邮件以查看它是否匹配。

我目前正在使用带有恒定 IV 的 CFB 模式来执行此操作，这可以提供所需的结果。对于不用于此电子邮件字段的任何 aes 加密，我正在使用不同的密钥和随机 IV，这是[进行 AES CFB 加密的推荐方式](https://www.dlitz.net/software/pycrypto/api/current/Crypto.Cipher.blockalgo-module.html#MODE_CFB)。

我的问题是：

*   哪种 AES 模式最适合这个用例？
*   重复使用相同的 IV 有多大的破坏性？
*   加密电子邮件以存储在数据库中是否被认为是不好的做法，为什么？（假设我的数据库首先得到了适当的保护）

# linq - 如何使用 EDMX 从 SSAS Cube 中检索数据？

> ID：11517018
> 
> 赞同：0
> 
> 时间：2012-07-17T06:21:55.280
> 
> 标签：linq, ssas, edmx, cubes

我得到了一个包含所有相关信息的立方体。现在，我想通过 .net EDMX 框架查询多维数据集并获取数据。

谁能帮助我从我应该开始的地方开始？我真的很困惑，不知道如何将 MDX 与 edmx 一起使用。

是否可以在不使用 MDX 的情况下使用 EDMX 和 LINQ 从多维数据集获取数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T09:51:27.833

目前不可能，有一家公司做一个版本的 LinqToMdx，我想他们之前已经在这里发布过，我不认为他们完全通过 EDMX 路线。

.Net 中的标准方法是 ADOMD.Net [http://msdn.microsoft.com/en-us/library/ms123477.aspx](http://msdn.microsoft.com/en-us/library/ms123477.aspx)

获取数据的一个好方法是通过 CellSet 类，因为它包含原生值和用于度量的格式化字符串的单元格：

```
 CellSet adomdCellSet;

    using (var adomdConnection = new AdomdConnection())
    {
        adomdConnection.ConnectionString = "YourConnectionString";
        adomdConnection.Open();

        var adomdCommand = adomdConnection.CreateCommand();
        adomdCommand.CommandText = "YourMDXQuery";

        adomdCellSet = adomdCommand.ExecuteCellSet();
    }

    return adomdCellSet; 
```

编辑：找到编写提供程序的人的网站 - 我无法为他们担保，因为我从未使用过它，但它看起来很有趣[http://www.agiledesignllc.com/Products.htm](http://www.agiledesignllc.com/Products.htm)

# actionscript-3 - 动作脚本：TypeError：错误 #1009

> ID：11517019
> 
> 赞同：-1
> 
> 时间：2012-07-17T06:22:09.873
> 
> 标签：actionscript-3, debugging, button, actionscript, error-handling

在过去的一个小时里，我一直在尝试修复我的项目中的一个错误，我真的不知道原因是什么。我将在我的 Skydrive 上发布代码：

[https://skydrive.live.com/embed?cid=9AB08B59DCCDF9C6&resid=9AB08B59DCCDF9C6%21108&authkey=AGVkp5KnQLMYu7M](https://skydrive.live.com/embed?cid=9AB08B59DCCDF9C6&resid=9AB08B59DCCDF9C6%21108&authkey=AGVkp5KnQLMYu7M)

一切都不像我想要的那样工作。当我测试这部电影时，inventoryrelationships_btn 出现故障。更糟糕的是，当我调试并单击库存/关系按钮时，它会冻结所有内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:44:59.863

罪魁祸首来自以下行

```
menuback_btn.addEventListener(MouseEvent.CLICK, menubackClick); 
```

在您的“弹出窗口”符号中，第 2 帧。没有 menuback_btn，如果您执行跟踪（menuback_btn）；输出窗口显示为空。

希望这可以帮助。

# php - Magento：致命错误：找不到类（谷歌购物）

> ID：11517022
> 
> 赞同：0
> 
> 时间：2012-07-17T06:22:11.530
> 
> 标签：php, magento

试图让[Google 购物扩展](http://www.magentocommerce.com/magento-connect/google-content-api-for-shopping.html)在 Magento Enterprise Magento 版本上运行。1.10.1.1

**目录 > Google 内容 > 管理属性**会引发*此错误：*

```
Fatal error: Class 'Mage_Core_Model_Resource_Db_Collection_Abstract' not found in /var/www/html/app/code/core/Mage/GoogleShopping/Model/Resource/Type/Collection.php on line 35 
```

**目录 > Google 内容 > 管理属性 > 添加属性映射**会引发*此错误：*

```
Fatal error: Class 'Mage_Core_Model_Resource_Db_Abstract' not found in /var/www/html/app/code/core/Mage/GoogleShopping/Model/Resource/Type.php on line 35 
```

我通过 FTP 复制文件来安装扩展程序，而不使用 Magento Connect 管理器，如果这有什么不同？

我不知道从这里去哪里？谷歌在这个问题上效率不高！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:50:20.190

您是否将 xml 文件添加到 'app/etc/modules' 目录？我建议使用 Magento Connect 安装扩展。

# c# - 从 silverlight 调用 aspx 页面

> ID：11517027
> 
> 赞同：0
> 
> 时间：2012-07-17T06:22:21.977
> 
> 标签：c#, asp.net, silverlight, crystal-reports

我想从我的 silverlight 应用程序中调用 aspx 页面。我将该 aspx 页面保存在我的 silverlight 应用程序的 .Web 部分中，以便我可以在我的 silverlight 应用程序中使用水晶报表。

我在 silverlight 页面中调用该 asp.net 页面的代码是

```
private void bttnGenerateReport_Click(object sender, RoutedEventArgs e)
    {
        if (cboBranch.SelectedIndex != -1)
        {

            Uri myUri = null;

            myUri = new Uri(HtmlPage.Document.DocumentUri, String.Format("Reports/ConcurrentReport.aspx?PlanCode={0}&BranchCode={1}", PlanCode, BranchCode));
            HtmlPage.Window.Navigate(myUri, "_blank");
        }
    } 
```

但我在 HtmlPage.Window.Navigate(myUri, "_blank") 收到错误，因为“访问被拒绝”.. invalidoperationexception 未处理

我正在使用 Windows 7 和 IE8

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:08:32.580

问题得到了解决，实际上我的 web 项目不是启动项目，实际上 silverlight 项目是启动项目，因此 url 具有文件系统路径，这导致“访问被拒绝”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T14:08:26.553

还有另一个选项可以导航到服务器端脚本（ASPX、ASHX）。1) 确保您的 XAML 中具有未设置 NavigateURL 属性的超链接按钮 2) 将目标设置为新页面“_blank” 3) 在 initializecomponent() 调用后分配 NavigateURL 属性

# c# - 使用 C# 代码模拟文本框填充和按钮按下

> ID：11517034
> 
> 赞同：6
> 
> 时间：2012-07-17T06:22:58.150
> 
> 标签：c#, windows

我正在开发一个自动执行任务的 C# 程序。例如，我的程序打开一个外部应用程序（特别是 mstsc.exe）并使用该应用程序。我想编写用某些值填充文本框并按下某些按钮的代码。在 C# 4 代码中实现此类操作的正确和最优雅的方式是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:33:22.330

如果您的特殊目标是`mstsc.exe`使用[其参数](http://technet.microsoft.com/en-us/library/cc753907%28v=ws.10%29)：

```
mstsc.exe [<Connection File>] [/v:<Server>[:<Port>]] [/admin] [/f] [/w:<Width> /h:<Height>] [/public] [/span]

mstsc.exe /edit <Connection File>

mstsc.exe /migrate 
```

else [**Windows Input Simulator** (C# SendInput Wrapper - Simulate Keyboard and Mouse)是](http://inputsimulator.codeplex.com/)*CodePlex*上一个可靠的开源库，可以解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:03:34.700

我对这个问题的解决方案是用“SendKeys”解决的：

```
var Proc = new System.Diagnostics.Process();
Proc.StartInfo.FileName = "C:\\Windows\\System32\\mstsc.exe";

//Proc.StartInfo.Arguments = "/v:" + "PCwg01"; normaly
Proc.Start();

System.Threading.Thread.Sleep(100);
SendKeys.Send("PCwg01"); //name or IP adress
SendKeys.Send("\r"); 
```

我希望它会有所帮助；）

# php - 存储过程 - 在单个查询中使用单个值“1”更新表的所有列

> ID：11517037
> 
> 赞同：1
> 
> 时间：2012-07-17T06:23:05.500
> 
> 标签：php, stored-procedures, triggers

我有一张表，里面有近 40 个字段。我想在单个查询中使用单个值（即 1）更新所有这些字段，并且我不想在更新查询中指定每一列。

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T08:01:03.527

你可以试试：

```
$sql = "SHOW COLUMNS FROM sometable";
$fields = mysql_fetch_array(mysql_query($sql)); 
```

应该帮助你从表中检索列名，并将它们存储在一个数组中。

```
 $field_string = implode("='1', ", $fields); 
```

将数组更改为字符串并添加`"=1"`到其中。然后你可以这样运行你的查询：

```
 $sql = "UPDATE sometable SET {$field_string}"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:34:43.420

根据[*MySql UPDATE 规范*](http://dev.mysql.com/doc/refman/5.0/en/update.html)，如果不详细说明要更新哪些列，您似乎无法做到这一点。

# ruby-on-rails - 一般与特定于模型的观察者和邮件者？

> ID：11517042
> 
> 赞同：2
> 
> 时间：2012-07-17T06:23:28.997
> 
> 标签：ruby-on-rails, ruby, activerecord, actionmailer

在创建邮件程序和/或观察者时，您是根据模型还是根据他们的任务来组织它们？

### 基于模型

```
PictureMailer
PictureObserver
EventMailer
EventObserver
UserMailer
UserObserver 
```

### 或基于任务

```
AdminMailer (Mails to be sent to admins)
AdminObserver 
NotificationMailer
NotificationObserver 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T09:09:45.957

我根据他们的任务组织他们。我更喜欢拥有更多、小的、细粒度的邮件，而不是一些更大、更粗的邮件。例如，我可能没有`AdminMailer`，但有几个不同的邮件程序，用于管理管理员中发生的不同事情。通知也是如此——您可能有多个发送通知的用例，所以我会为每个用例准备一个邮件程序。通常，可以将其视为每个功能的邮件程序。

至于观察者，这取决于他们的任务。如果我正在监视用户的创建和修改以进行分析，我可能只有一个`UserObserver`. `UserAnalyticsObserver`只要我需要第二个用户观察者，我就会将其重命名为。查看当前项目，我有四个观察者，其中只有一个以模型命名 - 大多数以特征命名。

我在这里的推理是遵循单一职责原则，这本质上意味着一个类应该有一个改变的理由。如果我在模型之后命名邮件程序/观察者，我最终会得到支持多种功能的类，因此有多种更改原因。

# image - 如何以编程方式下载图像？

> ID：11517046
> 
> 赞同：0
> 
> 时间：2012-07-17T06:23:38.210
> 
> 标签：image, web, download

嘿，我想知道如何通过代码下载图像，我熟悉 C++、java，并且刚刚开始使用 javascript 和 HTML。

我正在尝试从以下位置下载此图像：

[http://wallbase.cc/wallpaper/335950](http://wallbase.cc/wallpaper/335950)

一个类似的问题是这个链接：

[https://stackoverflow.com/a/10443205/983292](https://stackoverflow.com/a/10443205/983292)

但我不明白，如果有人能解释一下，也许它可以帮助我。（旁注查看wallbase网站的源代码，我链接到的问题似乎是在尝试做同样的事情）

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:32:55.590

在 c 中使用以下代码：[在 C/C++ 中使用 libcurl 下载文件](https://stackoverflow.com/questions/1636333/download-file-using-libcurl-in-c-c)

您需要安装 libcurl3-dev 或 libcurl4-dev 以获取与库关联的头文件。

编译时，您应该将 $(pkg-config --cflags libcurl) 传递给 gcc。链接时，$(pkg-config --libs libcurl)。如果您在一步中编译和链接，您可以这样做：

gcc myfile.c $(pkg-config --libs --cflags libcurl) -o myprogram

希望这可以帮助。

# mysql - 数据库mysql中的计数列

> ID：11517048
> 
> 赞同：0
> 
> 时间：2012-07-17T06:23:47.280
> 
> 标签：mysql, count

如何计算数据库中两个不同列的值？

例子：

我有一家桌子医院，里面有一列，hosptal_id 和 sex

现在我想要一个在医院内按类型（男性或女性）计算性别列的结果

我想要结果像..

hospital_id ------ F ------ M

1 ------ 14----- 45

2 ------ 23----- 49

3 ------ 29-------- 76

，我怎样才能得到这个结果？

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:35:44.287

```
SELECT id,SUM(IF(sex='M',1,0)) AS 'male', 
SUM(IF(sex='F',1,0)) AS 'female' 
FROM hospital 
GROUP BY id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:25:29.750

试试这样的查询——

```
SELECT COUNT(DISTINCT column_name) AS some_alias FROM table_name 
```

# uml - 如何在组件图中表示数据

> ID：11517058
> 
> 赞同：0
> 
> 时间：2012-07-17T06:25:03.033
> 
> 标签：uml

是否有任何选项可以在组件图中表示数据结构。我可以将组件中的子模块表示为“零件”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:03:52.050

数据结构不能在组件图中表示，如果要表示数据结构，则使用类图。

# jquery - 传单地图网址被禁止

> ID：11517068
> 
> 赞同：5
> 
> 时间：2012-07-17T06:25:53.647
> 
> 标签：jquery, mobile, cloudmade, leaflet

我正在尝试创建一个 jquery mobile phonegap 应用程序，并且我想使用其中嵌入的传单地图。我目前正在做一个非常基本的概念验证，但我运气不佳。每次我尝试加载地图时，地图的 .png 都不会加载，控制台会告诉我它的禁止。我想我可能设置了错误的地图 URL，但是 CloudMade 网站上的文档有点模糊。您能提供的任何帮助将不胜感激。

代码：

```
var map = new L.Map('map');

var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/MY_APP_KEY/997/256/{z}/{x}/{y}.png',
    cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18});
map.addLayer(cloudmade);

map.locateAndSetView(16);

map.on('locationfound', onLocationFound);

function onLocationFound(e) {
    var radius = e.accuracy / 2;

    var marker = new L.Marker(e.latlng);
    map.addLayer(marker);
    marker.bindPopup("You are within " + radius + " meters from this point").openPopup();

    var circle = new L.Circle(e.latlng, radius);
    map.addLayer(circle);
}

map.on('locationerror', onLocationError);

function onLocationError(e) {
    alert(e.message);
} 
```

当我尝试加载图像时，出现以下错误：GET [http://a.tile.cloudmade.com/MY_APP_KEY/997/256/0/0/0.png](http://a.tile.cloudmade.com/MY_APP_KEY/997/256/0/0/0.png) 403（禁止）。显然，我正在用从 CloudMade 获得的密钥替换 MY_APP_KEY，但除此之外，我不知道还能去哪里。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-30T04:51:31.840

提供 Cloudmade API 密钥是强制性的，但还不够。您还必须提供一个令牌，您必须为每个用户和设备请求该令牌。如[Cloudmade Authorization API 文档](http://cloudmade.com/documentation/auth)中所述，可以通过简单的 POST 检索令牌：

```
POST http://auth.cloudmade.com/token/APIKEY?userid=UserID&deviceid=DeviceID 
```

这将为您提供一个令牌，您必须将其附加到磁贴 url 以在 cloudmade 服务器上进行身份验证：

```
var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/MY_APP_KEY/997/256/{z}/{x}/{y}.png?token=TOKEN' 
```

但是，为了快速验证概念，您可以直接使用[他们自己的 API 密钥](http://cloudmade.com/documentation/map-tiles)，不需要身份验证令牌：

```
var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/8ee2a50541944fb9bcedded5165f09d9/997/256/{z}/{x}/{y].png 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T15:33:12.890

看起来地理定位方法不起作用，因此它尝试加载图像 0、0、0，因为您尚未定义任何坐标。

您可以尝试在顶行中设置一些默认选项（即），如下所示：

```
var options ={
  center: new L.LatLng(37.7, -122.2),
  zoom: 10
};

var map = new L.Map('map', options); 
```

这至少应该将地图默认为旧金山，以便您可以确定图块是否正确加载。

JSFiddle：http: [//jsfiddle.net/peBZp/](http://jsfiddle.net/peBZp/)

传单可能存在地理位置和电话间隙的问题。您可以尝试遵循以下文档：[http](http://docs.phonegap.com/en/1.0.0/phonegap_geolocation_geolocation.md.html) ://docs.phonegap.com/en/1.0.0/phonegap_geolocation_geolocation.md.html ，只需使用该函数返回的 lat/long 设置上面的选项变量，而不是使用内置的传单在方法。

希望有帮助。

# java - Java servlet：如何像 SessionTrackingMode 一样对 url 进行编码？

> ID：11517072
> 
> 赞同：2
> 
> 时间：2012-07-17T06:26:41.477
> 
> 标签：java, session, servlets, sessionid, jsessionid

我设计了基于 Java servlet 的 Web 应用程序，我将使用 swfupload（它是 Flash 组件）来让用户上传文件。

问题是 Flash 无法将 cookie 发送到服务器。所以我需要将会话 ID 添加到 Flash 的回调 url 的方法。Servlet 容器可以做到这一点（方法 HttpServletResponse.encodeUrl），但它只有在浏览器中禁用 cookie 或 SessionTrackingModes 是 URL 时才有效。

有什么方法可以独立于任何其他设置获取使用 jsessionid 编码的 URL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:33:48.637

我发现 servlet 规范要求将 sessionID 编码为**路径参数**（由 ; （分号）分隔），并且它的名称必须是“jsessionid”。

所以我可以简单地将 ';jsessionid=' 附加到 URL，它应该适用于任何 servlet 容器。

# jquery - 自定义 jquery Datatable 文本属性

> ID：11517073
> 
> 赞同：3
> 
> 时间：2012-07-17T06:26:45.363
> 
> 标签：jquery, jquery-datatables

我只是想知道是否有一种方法可以自定义数据表中的默认文本，如`sLengthMenu`, `sZeroRecords`,`sInfo`等。

我想更改上述属性的文本的字体和颜色。[我在Datatables](http://datatables.net/)站点中没有得到任何与此相关的参考。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T20:25:40.663

当然，你有 i18n 组件：[翻译](http://datatables.net/usage/i18n)

```
$('#example').dataTable( {
    "oLanguage": {
       "sLengthMenu": "custom length",
       "sInfo": "custom  info",
       "sZeroRecords": "<p style='color:red;'>custom no records</p>",
    }
  }); 
```

# apache - 从从属 svn 服务器初始化 svnsync 命令

> ID：11517075
> 
> 赞同：0
> 
> 时间：2012-07-17T06:26:53.957
> 
> 标签：apache, svn, hook, svnsync

我有一个主从 SVN 服务器的设置。
Master和两个Slave服务器设置在三个不同时区的三个不同位置。我们不能让从服务器 24 小时开机，所以从服务器需要在每天结束时关闭。但与此同时，开发人员正在从另一个从服务器向主服务器提交更改。主服务器永远启动。

所以我的情况是在一天开始时，每个从服务器都需要与主服务器同步，这只能通过 svnsync 命令从主服务器完成。

**从服务器启动时有什么方法可以自动同步？**

我们正在使用 apache 服务器来托管颠覆。操作系统是 windows server 2008 R2。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T13:11:53.203

如果`svnsync`在启动时脚本中无法在从属服务器上使用，您可以执行类似于[此博客文章](http://blogs.atlassian.com/2008/11/subversion_replication_at_atla/)中描述的解决方案的操作。

总而言之，然后在主服务器（用 Python 编写）上监听一个专用服务器，该服务器将`svnsync`在接收到一个特殊的 TCP 数据包时启动。

然后，在您的从属设备上，您可以使用[Windows 版本](http://joncraton.org/blog/46/netcat-for-windows)的[netcat](http://netcat.sourceforge.net/)（如博客文章中所述）来触发同步。

# php - 来自 jquery $.post 的 POST 信息是否在父页面中发送

> ID：11517076
> 
> 赞同：0
> 
> 时间：2012-07-17T06:26:53.827
> 
> 标签：php, jquery, mysql, post

我有一个父页面，其中有一个下拉列表。使用 onchange 事件，数据使用`$.post()`. 此页面使用发布的变量来输出 mysql 数据，每行都有一个复选框。然后使用 jquery 将此页面输出插入到父页面中`$('#DIV name').html(output).show();`

然后用户可以看到带有相应复选框的 mysql 表行。然后他们选择他们想要的复选框并说删除。删除是一个表单提交按钮。

我的问题是，当他们单击删除时，我如何从第二页获取表单数据并将其与父页面的数据一起发布，以便我可以`$_POST[]`用来获取复选框信息并删除选定的表格行？

父页面代码的示例是：

**javascript/jquery**

```
<script type="text/javascript">
        function get(row){      //row being processed, defined in onchange="get(x)"
            ('getpeopleinjobs.php',{        //data posted to external page
        postvarposition: form["position"+row].value,        //variable equal to input box, sent to external page
        postvarjob: form["job"+row].value,      //variable equal to input box, sent to external page
        postvarperson: form["person"+row].value,        //variable equal to drop down list, sent to external page
        postrow: row},      //variable equal row being processed, sent to external page
            function(output){ 
                $('#training'+row).html(output).show();     //display external results in row div
                //popupWindow = window.open('t4.php?variable1Name=Vicki&amp;variable2Name=Maulline','popUpWindow','height=400,width=1000,left=10,top=10,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes')
                    });
                }
</script> 
```

**表单数据是**

```
 <tr>
    <td>
    <?PHP echo $i; ?>
    </td>
    <td>
        <input type=text NAME="position<?PHP echo $i; ?>" id="position<?PHP echo $i; ?>"  style="border: 1px solid #2608c3;color:red; width=200px" value="<? echo mysql_result($resultpositionjob,$r,0);?>"> 
    </td>
    <td>
        <input type=text NAME="job<?PHP echo $i; ?>" id="job<?PHP echo $i; ?>"  style="border: 1px solid #2608c3;color:red; width=200px" value="<? echo mysql_result($resultpositionjob,$r,1);?>"> 
    </td>
    <td>
        <SELECT NAME="person<?PHP echo $i; ?>" id="person<?PHP echo $i; ?>" style="border: 1px solid #2608c3;color:red; width=200px" onchange="get(<? echo $i; ?>);"> 
        <OPTION VALUE=0 >
        <?=$optionpeople?> 
        </SELECT>
    </td>
    <td onclick="train(<? echo $i; ?>);" style="color:grey; cursor: pointer;">
    <div id="training<?PHP echo $i; ?>"><font color=grey size=2></div>
    </td>
    <td>
        &nbsp;
    </td>
    </tr>
    <?PHP
        $i++;
        $r++;
        }
    ?> 
```

jquery调用的第二个页面或页面，输出为：

```
 echo 
        "
        <table border=0 width=400>
            <tr>
                <td width=20>
                    &nbsp;
                </td>
                <td width=150>
                    <b>Position<b>
                </td>
                <td>
                    <b>Job<b>
                </td>
            </tr>
        ";
        while($line = mysql_fetch_array($result))
   {
        echo "
            <tr>
                <td>
                ";
        ?>
        <input type=checkbox name="delete[]" id="delete[]" value="<?php echo $rows['id']; ?>">
        <?PHP
        echo    "
                </td>
                <td>
                ";
        echo $line['position'];
        echo    "
                </td>
                <td>
                ";
        echo $line['job'];
        echo    "
                </td>           
            </tr>
            ";
        } 
            ?>
            <tr>
                <td>
                    <input type=submit name="update" id="update" value="Update">
                </td>
            </tr>
        </table>
        <?PHP       
 } 
```

重复一遍，我希望第二页中的表格复选框元素与父页面的表单数据一起发布。

这可能吗，因为我的测试没有给我任何运气。

我做错了什么还是需要修改jquery代码？

一如既往地感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T09:28:32.757

没有第二页。真的 - 您正在从第二页加载 HTML 内容，但它被插入到父页面中。从浏览器的角度来看，所有内容都在同一页面中。只要字段位于元素内的 DOM 中，就应该包含这些字段。使用浏览器的开发者工具或 Firefox 的 Firebug 确保内容放置在 DOM 的表单元素中。开发人员工具还应该能够准确地向您显示提交表单时将哪些变量提交给服务器。

'form' 的 'action' 参数将指示提交内容的位置（并且您似乎已将该部分留在 HTML 之外，因此无法确定您是否已将其遗漏或只是未将其包含在粘贴中.

# javascript - 如何在javascript中检测android捏缩放

> ID：11517086
> 
> 赞同：5
> 
> 时间：2012-07-17T06:27:50.400
> 
> 标签：javascript, android

我想知道是否有任何方法可以检测到发生了捏缩放事件。我可以通过对 iOS 使用这个事件绑定来实现它

```
$(document).bind('gesturechange',function(event){
     zoomAdjust();
}); 
```

android设备有这样的事件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:29:37.867

有一个很棒的 js 准备好了，叫做[Hammer JS](http://eightmedia.github.com/hammer.js/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T08:44:08.303

还有另一个很棒的 jQuery 插件，叫做[TouchSwipe](http://labs.rampinteractive.co.uk/touchSwipe/demos/)。

# jquery - jQuery 图像在 div 中显示不正确

> ID：11517087
> 
> 赞同：0
> 
> 时间：2012-07-17T06:27:57.110
> 
> 标签：jquery, html, css

我来这里已经有一段时间了！我在画廊页面上有一个奇怪的间歇性问题，我强烈认为它与某些 jQuery 有关？！

[http://www.savvysites.com/ASD/gallery.html#](http://www.savvysites.com/ASD/gallery.html#)

从此链接开始，第一个图库图像按预期加载！？有时？当去第二个和/或第三个画廊时，图像会加载到 div 的一半，如下所示：

[http://prntscr.com/c7uyy](http://prntscr.com/c7uyy)

如果有人能解释为什么会发生这种情况（并提供可能的解决方案），我将不胜感激:)

...如果您靠近 South Yarra，啤酒就是您的奖励！

问候卢克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:47:53.047

由于 margin-top 为 0（结合绝对定位和 top:50%），图片出现在中间。在 main.js 中有一个名为“imageResize(holder)”的函数，其中设置了这些值。我不确定发生了什么，但似乎 img.height() 有时会在不应该返回 0 时返回。函数 imageH 的前面已经设置好了，所以如果你改变 margin-top 设置的部分：

```
img.css({
  'margin-top':-(imgageH/2),
  'margin-left':-(imageW/2)
}) 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:55:37.897

我相信发生的事情是，当您将图像放在页面上时，它会将其放在 span 标签之后。

保存时钟的跨度标签有时位于盒子的中间，因此，将图像放在盒子的中间。以其绝对位置。

尝试将 img 标签相对于`li`而不是`span`.

# android - 使用 HttpsURLConnection 的 Android ssl 连接并使用 .pem 文件验证主机名？

> ID：11517090
> 
> 赞同：0
> 
> 时间：2012-07-17T06:28:21.177
> 
> 标签：android, https

在`android`我正在开发的应用程序中，我需要连接到`https`服务器。

客户为我提供了 2 个文件`mycert.pem`和`mykey.pem`，我认为是`certificate`和`public keystrore`服务器的。

我需要使用服务器`HttpsURLConnection`和`verify host name`服务器进行安全连接，以避免中间人攻击。我对制作 https 连接和加密术语知之甚少。我遇到的大多数教程都使用 HttpClient 并且他们信任所有主机。有人能指出我正确的方向吗？如何使用`.pem`文件来建立`secure https`连接。`HttpsURLConnection``verify hostname`

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:56:32.683

使用以下方法完成

```
httpsConn.setHostnameVerifier(org.apache.http.conn.ssl.SSLSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER); 
```

我正在使用`BROWSER_COMPATIBLE_HOSTNAME_VERIFIER`，我希望它运作良好。

# ruby-on-rails - RESTful API Ruby on Rails

> ID：11517093
> 
> 赞同：0
> 
> 时间：2012-07-17T06:28:37.807
> 
> 标签：ruby-on-rails, ruby, rest, restful-url

我是第一次使用 Ruby on Rails，并且启动并运行了一个应用程序。这是快速数据库定义：

```
Teams
- id: int
- name: char[20]

Answers
- id: int
- answer_value: text 
```

如果团队 1 回答紫色，我希望能够在浏览器中输入：“http://localhost:3000/teams/1/answers/purple”。

我认为将以下内容添加到我的 routes.rb 文件中可以让我这样做，但事实并非如此。

```
resources :teams do
  resources :answers
  post 'answer_value', :on => :member
end 
```

我可以通过转到 "http://localhost:3000/teams/1/answers/1" 看到团队 1 的第一个答案，但我不知道如何通过 URI 实际设置值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:28:40.547

如果我对您的理解正确，请在您回答控制器的显示动作时，而不是做`Answer.find(params[:id])`，做`Answer.find_by_answer_value(params[:id])`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T16:46:30.383

在浏览器中输入内容不会执行发布，无论您在路由中输入什么，它只会执行获取。通过 get 创建东西不是 RESTful，你真的不应该这样做。就是说，既然你说你只是在“玩铁轨”，你可以这样做：

如果你想创建一个东西，你必须在路由中设置它。/teams/1/answers/紫色

```
get '/teams/:team_id/answers/:answer_value' => 'answers#create' 
```

然后在您的答案控制器中，创建操作，您可以检查 params[:team_id] 和 params[:answer value] 并确保在保存之前设置。

```
def create
  @answer = Answer.new()
  @answer.team_id=params[:team_id]
  @answer.answer_value=params[:answer_value]

  respond_to do |format|
    if @answer.save
      format.html { redirect_to @answer, notice: 'Answer was successfully created.' }
      format.json { render json: @answer, status: :created, location: @answer }
    else
      format.html { render action: "new" }
      format.json { render json: @answer.errors, status: :unprocessable_entity }
    end
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T13:52:46.143

您需要覆盖`to_param`模型中的方法，尽管有一些警告，但它可以做您正在寻找的事情 - 包括需要使用 @Chirantan`Answer.find_by_answer_value(params[:id])`为您的所有发现者建议的内容。您可以在此[Railscast 中找到有关该主题的](http://railscasts.com/episodes/63-model-name-in-url)`to_param`更多信息，或在[Rails API](http://api.rubyonrails.org/)中搜索并选择 ActiveRecord::Integration 下的条目。

或者，您可以使用像[FriendlyId](https://github.com/norman/friendly_id)这样的 gem ，它提供了一些更全面的功能和对 URL 构造的控制。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:50:52.150

如果您想创建答案，请发布到

/团队/1/答案

带参数 :answer => { :answer_value => 'purple' }

不要将 answer_value 附加到 url，看起来它是记录 id。

# php - 带有 PHP 和自定义文件的系统日志

> ID：11517094
> 
> 赞同：0
> 
> 时间：2012-07-17T06:28:45.330
> 
> 标签：php, syslog

我正在尝试获取一个 PHP 命令行脚本来将信息性消息写入自定义文件。我正在使用安装了 OSX Lion 的 MacBook。我（现在）在我的 syslog.conf 文件中有这个：

```
local2.error        /var/log/myapp/error.log
local2.=warning     /var/log/myapp/info.log
local2.=notice      /var/log/myapp/info.log
local2.=info        /var/log/myapp/info.log
local2.=debug       /var/log/myapp/info.log 
```

我在我的 PHP 脚本中有这个：

```
openlog("myapp", LOG_NDELAY, LOG_LOCAL2);
syslog(LOG_INFO, 'Testing informational messages with PHP');
closelog(); 
```

当我运行脚本时，/var/log/myapp/info.log 中没有记录任何内容，但（我认为）应该是。

谢谢，

特洛伊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:56:34.047

local2.!err 表示除错误级别之外的所有级别都将写入文件，而不是低于。

local2.=err 表示只写入错误级别。

local2.err 表示级别等于或大于将写入错误。

local2.* 表示将写入所有级别。

在你的问题中，你编码

```
syslog(LOG_INFO, 'Testing informational messages with PHP'); 
```

使用时生效，`local2.err`但不应该。更改conf后是否重新启动了syslogd？

# powershell - 事件日志中的 Powershell 搜索注册表内容

> ID：11517095
> 
> 赞同：0
> 
> 时间：2012-07-17T06:28:46.947
> 
> 标签：powershell

我正在寻找一些代码来搜索日志文件的注册表内容。具体来说：

```
Get-ItemProperty -path hklm:\system\currentcontrolset\enum\usbstor\*\* | select PSChildName 
```

将列出序列号。对于每个序列号，我需要能够搜索文本日志文件以查看该项目何时出现。

这是我现在使用的：

```
Get-ItemProperty -path hklm:\system\currentcontrolset\enum\usbstor\*\* | select PSChildName | foreach-object {Get-Content C:\Windows\inf\setupapi.dev.log | select-string '$_.PSChildName' -context 1} 
```

但是搜索`PSChildName`不起作用，我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T22:16:57.727

我认为它的原因是| 没有通过 $_.PSChildName 发送任何东西。所以你可以使用 2 个解决方案中的 1 个

解决方案 1

```
Get-ItemProperty -path hklm:\system\currentcontrolset\enum\usbstor\*\* | select PSChildName | foreach-object {$P = $_.PSChildName ; Get-Content  C:\Windows\inf\setupapi.dev.log | select-string $P -SimpleMatch -context 1} 
```

解决方案 2

```
$KeyListArray = @()
    Foreach($key in Get-ItemProperty -path hklm:\system\currentcontrolset\enum\usbstor\*\* | select PSChildName)
    {$KeyListArray +($key)}

foreach($PsChild in $KeyListArray)
{Get-Content C:\Windows\inf\setupapi.dev.log | select-string -Pattern "$PsChild" -context 1} 
```

# hash - 如何生成哈希到自身的 MD5 哈希值？

> ID：11517098
> 
> 赞同：1
> 
> 时间：2012-07-17T06:29:14.320
> 
> 标签：hash, md5sum

是否可以生成一个文本文件，其内容是文件的 hash/md5 值。

如何编写程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:34:44.740

如果存在这样的文件，则可以通过尝试所有可能的 MD5 散列并检查其 MD5 散列是否等于它来生成它。但由于所有可能的 MD5 散列值都是有限集，因此这种特殊的 MD5 值甚至可能根本不存在。

注意：您只问是否可能，而不是需要多长时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-01T01:06:33.503

我也很感兴趣，所以我写了下面的pascal程序：

```
program hash;

uses md5;

var a, b: string;

begin

b:='d41d8cd98f00b204e9800998ecf8427e'; //md5sum of /dev/null

repeat

a:=md5Print(md5String(b));
b:=md5Print(md5String(a));

until a=b;

writeln(a);
writeln(b);

end. 
```

它已经运行了大约五天，但仍然没有结果）））

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-05T18:09:56.730

请注意，如果您想强行使用它，则三甲氧基的方法存在根本缺陷。每个散列有效地指向另一个随机散列，并且随着散列系列的增加，任何新访问的散列越来越有可能简单地将您指向以前访问过的散列，从而形成数百万或数十亿个散列长的循环。

如果我们假设 MD5 的整个散列空间不是单个循环循环，这是极不可能的，那么几乎所有值都处于一个竞争性较短的循环循环中，这使得绝大多数 MD5 散列未被访问。

基本上，即使存在自映射哈希，这种方法仍然更有可能简单地将自己置于无限循环中，而不是实际找到一个。

# text-to-speech - 我可以改变不同性别的谷歌翻译的声音吗？

> ID：11517099
> 
> 赞同：5
> 
> 时间：2012-07-17T06:29:18.513
> 
> 标签：text-to-speech, google-translate

通过一些出色的答案，我知道我可以通过使用以下带有属性的 URL 从文本输入中获取 MP3 文件：

[http://www.translate.google.com/translate_tts?tl=zh-TW&q](http://www.translate.google.com/translate_tts?tl=zh-TW&q) =我要吃饼干</p>

但是MP3上的声音是女性的（我用的是中文）。

我可以通过提供以下附加属性来获得不同性别的语音输出：

[http://www.translate.google.com/translate_tts?tl=zh-TW&q](http://www.translate.google.com/translate_tts?tl=zh-TW&q) =我要吃饼干&gender=male

有谁知道？非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-30T13:18:06.440

我一直在寻找相同的方法，但是在做了一些研究之后，没有办法配置声音。无论是音高、速度还是性别。Google TTS API 是非官方的，这就是不支持的原因。

# c# - 事件没有被触发

> ID：11517100
> 
> 赞同：0
> 
> 时间：2012-07-17T06:29:32.370
> 
> 标签：c#, silverlight, events

我制作了一个继承 ChildWindow 的自定义对话框窗口

```
public partial class InputWindow : ChildWindow
{
    public InputWindow()
    {
        InitializeComponent();
    }

    private void OKButton_Click(object sender, RoutedEventArgs e)
    {
        MessageBox.Show("clicked");
    }

    private void CancelButton_Click(object sender, RoutedEventArgs e)
    {
        this.DialogResult = false;
    }

    private void inputTextBox_KeyDown(object sender, KeyEventArgs e)
    {
        if (e.Key == Key.Enter)
            this.OKButton_Click(this, new RoutedEventArgs());
    }
} 
```

当我在 tetxbox 中按 enter 时，事件`OKButton_Click`被触发（因为出现了消息框）。但是，下面的事件处理程序中存在于另一个类中的代码（添加文件夹）不会被触发！即使出现消息框！为什么会这样？我该如何解决？

```
InputWindow win = new InputWindow();
win.Title = "Enter New Folder Name";
win.OKButton.Click += (s, e) =>
{
    if (!string.IsNullOrWhiteSpace(win.inputTextBox.Text))
    {
        AddNewFolder(win.inputTextBox.Text);
        win.DialogResult = true;
    }
};
win.Show(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T06:43:13.710

您只是`OKButton_click`直接从您的`KeyDown`事件处理程序调用。这*与*在 OK 按钮本身上引发`Click`事件不同——它只是一个方法调用。因此，没有`OKButton.Click`调用其他事件处理程序也就不足为奇了。

我不知道`Click`自己手动引发事件的任何方式。听起来你真的应该有一个从`Click`事件处理程序和`KeyDown`事件处理程序调用的通用方法。

# android - 在android中水平滚动屏幕上的文本

> ID：11517103
> 
> 赞同：1
> 
> 时间：2012-07-17T06:29:40.230
> 
> 标签：android, android-layout

我已经展示了条款和条件页面。

协议文本很大，所以我添加了滚动视图，现在它垂直滚动。那没有问题。

但我希望设计能够像 viewpager 一样水平滚动术语文本。

我的代码是，

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/RelativeLayout1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
        <RelativeLayout
            android:id="@+id/RelativeLayout2"
            android:layout_width="fill_parent"
            android:layout_height="50dp"
            android:background="#000000"  >
            <TextView 
                android:id="@+id/Title"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Terms and Condition"
                android:layout_centerInParent= "true"
             />
        </RelativeLayout>
    <RelativeLayout 
        android:id="@+id/RelativeLayout3"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/RelativeLayout2"
        android:layout_above="@+id/RelativeLayout4"
        android:background="#123456">
            <ScrollView 
                android:id="@+id/scroll_view"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:scrollbars="horizontal"
                >
            <TextView 
                android:id="@+id/lang_list_view"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/terms_condition">
                </TextView>
            </ScrollView>
    </RelativeLayout>
    <RelativeLayout
        android:id="@+id/RelativeLayout4"
        android:layout_width="fill_parent"
        android:layout_height="50dp"
        android:background="#808080"
        android:layout_alignParentBottom="true">
        <TextView 
            android:id="@+id/page_indication"
            android:text="Pages:"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            />
        <Button 
            android:id="@+id/cancel"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Cancel"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            />
        <Button 
            android:id="@+id/done"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text=" Agree "
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            />
    </RelativeLayout>
</RelativeLayout> 
```

如何水平滚动条款和条件文本并指示有多少页？

我期望的设计是![在此处输入图像描述](../Images/c44cfdab2df32ddec96a04914c906917.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:35:44.933

您可以使用[Horizo​​ntalScrollView](http://developer.android.com/reference/android/widget/HorizontalScrollView.html)而不是普通的`ScrollView`. 实现方式类似

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:52:27.553

检查这将在用户滚动文本时滚动，仅当文本超出屏幕宽度时

```
<HorizontalScrollView
    android:id="@+id/ho"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content">

    <TextView 
            android:id="@+id/lang_list_view"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/terms_condition">
            </TextView>

</HorizontalScrollView> 
```

将此实施到您的代码中。这将对您有所帮助。您可以在 textview 中添加 android:singleLine="true" 以单行显示文本。

# c# - 设置连接时出错

> ID：11517105
> 
> 赞同：-2
> 
> 时间：2012-07-17T06:29:55.293
> 
> 标签：c#, asp.net, sql

我的代码有什么问题？当我在我的 sql 和 asp 之间建立连接时，它给了我这个错误：找不到 sqlcommand。你失踪了吗……”

这是我的代码。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data;
using System.Data.Sql;

  protected void Button2_Click(object sender, EventArgs e)
{
    SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
    SqlCommand cmd = new SqlCommand("Insert into CarTab( Brand,Model,Plate,Color,Service) Values (@brand,@model,@plate,@color,@year,@service)",conn);

    cmd.CommandType = CommandType.Text;
    cmd.Parameters.AddWithValue("@brand", Label1.Text);
    cmd.Parameters.AddWithValue("@model", Label2.Text);
    cmd.Parameters.AddWithValue("@plate", Label3.Text);
    cmd.Parameters.AddWithValue("@color", Label4.Text);
    cmd.Parameters.AddWithValue("@year", Label5.Text);
    cmd.Parameters.AddWithValue("@service", Label6.Text);

    conn.Open();
    cmd.ExecuteNonQuery();
} 
```

我已经把 Using system.data; 并使用 system.data.sql；但它仍然一样。错误：1.找不到类型或命名空间名称“SqlConnection”（是否缺少 using 指令或程序集引用？） 2.找不到类型或命名空间名称“SqlConnection”（是否缺少 using 指令或程序集引用？） 3.名称“ConfigurationManager”在当前上下文中不存在 4.找不到类型或命名空间名称“SqlCommand”（您是否缺少 using 指令或程序集引用？） 5.The找不到类型或命名空间名称“SqlCommand”（您是否缺少 using 指令或程序集引用？）

希望这可以帮助您找到解决我的错误的方法。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:32:56.167

两件事情。你还没有关闭你的 SQL 命令：

```
SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
SqlCommand cmd = new SqlCommand("Insert into CarTab") 
```

其次，您没有任何符合条件的数据可以插入到 CarTab 表中？您需要指定字段和值：

```
SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
SqlCommand cmd = new SqlCommand("Insert into CarTab(field1, field2) VALUES('val1', 12)") 
```

还有许多其他插入数据的方法——比如 INSERT SELECT：

```
SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
SqlCommand cmd = new SqlCommand("Insert into CarTab(field1, field2) SELECT field1, field2 FROM Table2") 
```

[http://www.sqlteam.com/article/using-select-to-insert-records](http://www.sqlteam.com/article/using-select-to-insert-records)

除了评论之外，这里是一个如何以您指定的方式充分使用 ADO 的示例：

```
using System.Data;
using System.Data.SqlClient;

            using (var con = new SqlConnection("your connection string")) {
                con.Open();
                using (var com = con.CreateCommand()) {
                    var var1 = "test";
                    var var2 = "test2";
                    com.CommandText = string.Format("INSERT INTO Table1(col1, col2) VALUES({0}, {1})", var1, var2);
                    com.CommandType = CommandType.Text;
                    com.ExecuteNonQuery();
                }
                con.Close();
            } 
```

请注意，我没有测试过它，但它应该给你一个很好的起点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-22T08:49:25.463

你使用什么样的数据库程序？因为就像上面说的 grayfox 一样，您需要 sql server，并尝试以这种方式进行操作，结果如下：

```
 using (SqlConnection connection = new SqlConnection())
        {
            string connectionStringName = this.DataWorkspace.dbsMSccData.Details.Name;

            connection.ConnectionString =
            ConfigurationManager.ConnectionStrings[connectionStringName].ConnectionString;

            string procedure = entity.Procedure;
            using (SqlCommand command = new SqlCommand(procedure, connection))
            {
                command.CommandType = CommandType.StoredProcedure;

                //foreach (var item in entity.StoredProcedureParameters)
                //{
                //    command.Parameters.Add(
                //        new SqlParameter(item.ParameterName, item.ParameterValue));
                //}

                connection.Open();
                command.ExecuteNonQuery();
            }
        }
        this.Details.DiscardChanges(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T06:36:10.643

1）你没有关闭SqlCommand对象和错误的Sql Insert语句。这将是

```
 SqlCommand cmd = new SqlCommand("Insert into CarTab(col1,col2,...) VALUES(val1,val2,..)"); 
```

2）您没有打开连接，也没有将连接分配给命令对象，例如

```
 conn.Open();
 cmd.Connection = conn; 
```

3）执行查询后，您必须关闭连接

```
cmd.ExecuteNonQuery();
conn.Close(); // close the connection. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T06:46:03.060

System.Data.Sql 用于 SqlServer

[http://msdn.microsoft.com/en-us/library/system.data.sql.aspx](http://msdn.microsoft.com/en-us/library/system.data.sql.aspx)

> System.Data.Sql 命名空间包含支持 SQL Server 特定功能的类。

使用此处找到的 ADO.NET 驱动程序： [http ://www.mysql.com/products/connector/](http://www.mysql.com/products/connector/)

或使用 ODBC（不是首选选项）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T06:32:12.947

您是否添加了对 System.Data 程序集的引用？

# python - python - 如何使用python更新mysql，其中字段和条目来自字典？

> ID：11517106
> 
> 赞同：10
> 
> 时间：2012-07-17T06:29:57.043
> 
> 标签：python, mysql, dictionary

我正在尝试创建一个可重用的 mysql 语句，用于从字典进行更新，其中键是数据库字段，进入该字段的数据是字典中与之关联的值。这在创建一个插入 mysql 的函数时很容易，因为它只涉及两个列表。现在，我需要分解列表。

这是我必须处理的。

```
fields = self.dictionary.keys()
vals = self.dictionary.values()

stmt = "UPDATE TABLE table_name SET %s = '%s'" %(.join(fields), .join(vals))" 
```

这会输出如下语句：

```
UPDATE TABLE table_name SET column1, column2 = ('value1','value2') 
```

我需要它以标准格式输出以更新表格，例如：

```
UPDATE table_name SET column1=value1, column2=value2 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-17T07:17:15.817

您不想在使用字符串插值时使用文字值 - SQL 注入攻击**不是一件好事（tm）**。相反，您使用与您的数据库相关的占位符语法（我认为 MySQL 是 '%s'）。

*注意：我在`.format`这里使用，如果需要，可以更改为使用 %，但要转义任何 %*

```
d = {'col1': 'val1', 'col2': 'val2'}
sql = 'UPDATE table SET {}'.format(', '.join('{}=%s'.format(k) for k in d))
print sql
# 'UPDATE table SET col2=%s, col1=%s' 
```

假设`cur`是一个 DB 游标，执行查询的正确方法是：

```
cur.execute(sql, d.values()) 
```

这是有效的，因为尽管字典的顺序实际上是任意顺序，但字典的键/值的顺序将是一致的，使得`dict(zip(d.keys(), d.values())) == d`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:19:12.650

试试怎么样

```
stmt = "UPDATE TABLE table_name SET "
for k,v in di.items():
    stmt += "%s = %s, " %(k,v)

stmt = stmt[-2:] 
```

# symfony - 注销另一个用户

> ID：11517108
> 
> 赞同：3
> 
> 时间：2012-07-17T06:30:01.007
> 
> 标签：symfony, fosuserbundle

我将 symfony 2 与 FOSuserbundle 一起使用。使用代码为锁定用户创建操作：

```
$repository = $this->getDoctrine()->getRepository('MainUserBundle:User')
$user = $repository->findOneByUsername($request->request->get('name'));

/* some code */

$user->setLocked(true);
$em = $this->getDoctrine()->getEntityManager();
$em->persist($user);
$em->flush(); 
```

但用户只有在注销并再次登录时才会收到锁定错误消息。我如何注销另一个用户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:20:55.893

请参阅[我](https://stackoverflow.com/questions/8455337/symfony-2-userinterfaceequalsuser-comparing-for-re-authentication/8456607#8456607)对相关问题的回答。基本上，您需要检查`equals`方法中的锁定标志。这样，无论何时更改标志，用户都必须重新进行身份验证。

# vps - 在一个 vps 上跨域的 scandir

> ID：11517109
> 
> 赞同：1
> 
> 时间：2012-07-17T06:30:15.117
> 
> 标签：vps, permission-denied, scandir

我可以使用 php scandir 命令从一个 domian 抓取照片并将它们显示在另一个上吗？

两者都托管在同一个vps上。

我试过这个：

```
$dir = '/home/user/public_html/assetts/media/users/'.$idContainer.'/photos/'; 
```

我试过这个：

```
$dir = 'https://mymainwebsite.com/assetts/media/users/'.$idContainer.'/photos/'; 
```

他们俩都返回此错误：

```
[function.scandir]: failed to open dir: Operation not permitted in 
```

和这个：

```
Warning: scandir() [function.scandir]: (errno 13): Permission denied in 
```

我猜通过在 WHM 中设置我的用户可能会以某种方式可行？或不？

提前干杯:) 强尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T02:29:33.247

open_basedir 限制？ [http://www.php.net/manual/en/ini.core.php#ini.open-basedir](http://www.php.net/manual/en/ini.core.php#ini.open-basedir)

或者您已禁用 scandir 功能。你也可以使用 DirectoryIterator 类 [http://php.net/manual/en/class.directoryiterator.php](http://php.net/manual/en/class.directoryiterator.php)

# objective-c - 禁用 UIButton

> ID：11517118
> 
> 赞同：1
> 
> 时间：2012-07-17T06:31:19.087
> 
> 标签：objective-c, xcode, cocoa-touch, uibutton

我有一个圆形矩形`UIButton`，其中定义了一个动作方法`-(IBAction)btnclicked:(id)sender`。现在我想创建另一种方法`-(void)disableButton`来禁用我的这个按钮。所以我可以在需要的时候调用这个函数。我怎样才能`mybtn.enabled = NO;`在这个功能中使用它？这个功能会是什么样子？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-17T06:37:07.467

这是一个简单的解决方案

我假设**mybtn**将在您的头文件中作为实例变量

取另一个按钮并将其绑定在 IBAction 下方，或者您可以像这样在同一类中直接调用此函数`[self disableButton];`

```
-(IBAction)disableButton {
   //Disable  mybtn
    mybtn.enabled = NO;
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-17T06:37:30.553

如果您将 IB 用于按钮，则为您的按钮创建一个 IBOutlet 并将其与 InterfaceBuilder 中的按钮映射。

```
IBOutlet UIBUTTON *mybtn; 
```

现在在：

```
-(void)disableButton{

mybtn.enabled = NO;

} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-17T06:36:57.953

。H

```
 {
 IBOutlet UIBUTTON *mybtn;
 }
-(IBAction)btnclicked:(id)sender;
-(void)disableButton; 
```

.m

```
 -(IBAction)btnclicked:(id)sender{ 
  [self disableButton];
  }
   -(void)disableButton {
    mybtn.enabled = NO;
  } 
```

# jquery - 如何为动态复选框添加 div

> ID：11517120
> 
> 赞同：0
> 
> 时间：2012-07-17T06:31:26.270
> 
> 标签：jquery, checkbox, size

海我动态创建了一个复选框，但是大小非常小，所以我决定添加图像。在这里我不能附加 div 来添加图像。

是调整复选框大小的任何方式吗？或任何其他方式。

我的代码

```
 $optionInput = $('<input />');
        $optionInput.attr({
       'name' : 'ckbox_'+results.rows.item(i).PollId,
       'type' : 'checkbox'
        }).val(arrOption[o]); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:56:16.153

尝试设置复选框的样式

```
$optionInput = $('<input />');
        $optionInput.attr({
       'name' : 'ckbox_'+results.rows.item(i).PollId,
       'type' : 'checkbox'
        }).css({
          'height' : '28px'
        }).val(arrOption[o]); 
```

# asp.net-mvc - 确保此代码文件中定义的类与“继承”属性匹配

> ID：11517124
> 
> 赞同：0
> 
> 时间：2012-07-17T06:31:46.503
> 
> 标签：asp.net-mvc

```
**File :Views/Shared/Default.aspx:**

<%@ Page Language="C#" AutoEventWireup="True" CodeFile="Default.aspx.cs" Inherits="Views_Shared_Default" %> 
```

**文件：视图/共享/Default.aspx.cs：**

```
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;

public partial class Views_Shared_Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

    }
}

Error:Make sure that the class defined in this code file matches the 'inherits' attribute, and that it extends the correct base class (e.g. Page or UserControl).
My Documents\Visual Studio 2008\Projects\3ICMS\Views\Shared\Default.aspx.cs 15 14 C:\...\3ICMS\

P.S I have 2 Default.aspx files in my Project 3ICMS.

1 File is at 3ICMS\Views\Shared\Default.aspx.cs 
2nd File is at 3ICMS\Default.aspx 
```

我尝试创建一个新文件并复制粘贴此代码..没用。我试过将代码文件更改为代码隐藏...没有用

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:37:31.873

文件位于不同的文件夹视图和视图中，您应该将完整的目录路径或将它们放在同一个文件夹中

```
<%@ Page Language="C#" AutoEventWireup="True" CodeFile="../../Views/Shared/Default.aspx.cs" Inherits="Views_Shared_Default" %> 
```

# mysql - 计算匹配查询的单词数的MySQL列光栅？

> ID：11517125
> 
> 赞同：1
> 
> 时间：2012-07-17T06:31:49.647
> 
> 标签：mysql, sql

我正在尝试根据在行中找到的查询中的单词数对匹配项进行评分。我盯着这样做：

```
SELECT Text, MATCH(`Text`) AGAINST ('$s') AS Grade 
```

但很快我意识到这不起作用，因为`Grade`它基于很多东西，例如单词的顺序，每个单词的长度等等。

我只想知道连续出现的单词的百分比。

例如：

```
$s = 'i want pizza'
`Text` = 'pizza I want' // In this case Grade should be 100 as all words are found 
```

其他示例：

```
Text             | Grade
pizza I want too | 100 // All words were found, It doesn't matter if there are extra words
pizza I want     | 100
i want           | 66 // Only 66% of the words are present
want want want   | 33 // Only 33% of the words are present 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:17:59.877

```
$s = 'i want pizza';
$text = 'pizza I want';

//move to lower-case to ignore case-differences
$s = strtolower($s);
$text = strtolower($text);

//count the number of words in $s
$slen = count(explode(" ", $s));
//create an array of words from the text that we check
$arr = explode(" ", $text);
$count = 0;
//go over the words from $text and count words that appear on $s
foreach ($arr as $word) {
    if(strpos($s, $word) !== false){
        $count++;
    }
}
//display the percentage in format XX.XX
echo number_format((double)(100 * $count/$slen),2); 
```

# vb6 - 如何拆分 SQL 的字符串值

> ID：11517126
> 
> 赞同：2
> 
> 时间：2012-07-17T06:31:56.613
> 
> 标签：vb6

我想用单引号分割值

将 usr 调暗为字符串

```
usr = "01,AF,BF,CD,DF,FE," 
```

我想将此字符串传递给 sql 查询

Sql 查询

```
Select * from table1 where code in ('" & usr & "') 
```

不显示任何输出，bcoz 在 sql 中传递字符串不正确

Sql 不会理解 '01,AF,BF,CD,DF,FE,', 而不是这个我们需要像这样传递字符串

```
user = 'AF', 'BF', 'CD', 'FE' 
```

这个怎么做。

需要vb6代码帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T08:39:46.933

这就是我的做法：

```
usr = Replace(Left(usr, Len(usr) - 1), ",", "','")
sql = "Select * from table1 where code in ('" & usr & "')" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:37:06.040

```
arr = split(usr, ",") 
usr = join(arr,"','") 
```

修剪掉双引号并用单引号替换

# javascript - 这个 Javascript 有什么问题？购物车

> ID：11517129
> 
> 赞同：-2
> 
> 时间：2012-07-17T06:32:16.423
> 
> 标签：javascript, html, external, shopping-cart

这个 javascript 或 html 中有一些东西允许勾选复选框，但甚至不到半秒。（我需要支票留在那里！）我还需要 additems 功能工作

```
var computer = new Array();

computer[0] = "10001, Nvidia Geforce GTX 690, 1200";
computer[1] = "10002, Raedon HD 7950, 450";
computer[2] = "20001, Ivy Bridge i7 3770, 400";
computer[3] = "20002, Ivy Bridge i7 3770k, 420";
computer[4] = "20003, Sandy Bridge i7 2700k, 340";
computer[5] = "20004, Bulldozer FX-8150, 270";
computer[6] = "30001, Antec eleven-hundred, 120";
computer[7] = "30002, Coolermaster HAF-X, 170";
computer[8] = "30003, Antec three-hundred, 50";
computer[9] = "30004, Corsair 550D, 160";
computer[10] = "40001, INTEL-ASrock fatal1ty Z77 Professional Motherboard, 250";
computer[11] = "40002, INTEL-ASrock Z77 extreme9 Motherboard, 350";
computer[12] = "40003, AMD-ASrock fatal1ty 990FX Professional Motherboard, 240";
computer[13] = "40004, AMD-ASUS Sabertooth 990FX Motherboard, 260"; 
```

检查所有复选框功能

```
function check() { 

var leftSide = document.getElementById('table_container_left');
var inputs = leftSide.getElementsByTagName('input');
for (x=0; x<=inputs.length-1; x++)  {
    if(inputs[x].type == 'text')  {
        inputs[x].value = 1;
    } else {
        inputs[x].checked = true;
    }
}
} 
```

取消选中所有复选框功能

```
function uncheck() { 

var leftSide = document.getElementById('table_container_left');
var inputs = leftSide.getElementsByTagName('input');
for (x=0; x<=inputs.length-1; x++)  {
    if(inputs[x].type == 'text')  {
        inputs[x].value = 0;
    } else {
        inputs[x].checked = false;
    }
}
} 
```

将选中的物品添加到购物车

```
function addItems() { 
var leftSide = document.getElementById('table_container_left');
var rightSide = document.getElementById('table_container_right');
var inputs = leftSide.getElementByTagName('input');
var totalPrice = 0;
var basketTable = "<h3>My Basket:</h3><table><thead><tr><th>Item</th><th>Quantity</th><th>price</th><th>Sub-total</th></tr></thead><tbody>";
for (x=0; x<=inputs.length-1; x++)  {
    if(inputs[x].type == 'checkbox' && inputs[x].checked == true)  {
        var quantity = ParseFloat(inputs[x+1).value);
        var itemName = computer[x/2].split(",")[1];
        var itemPrice = parseFloat(computer[x/2].split(",")[2])
        var itemTotal = parseFloat(quantity*itemPrice);
        totalPrice += itemTotal;
        basketTable += "<tr><td>"+itemName+"</td><td>"+quantity+"</td><td>$"+itemPrice+"</td><td>$"+itemTotal+"</td></tr>";
    }
}
basketTable +=" <tr><td> colspan='3'><b>Total:</b></td><td><b>$"+totalPrice+"</b></td></tr></tbody><table>";
rightsSide.innerHTML = basketTable;
} 
```

检查项目时将数量更新为 1

```
function updateQty(id)  {

var targetRow = document.getElementById(id);
var qtyBox = targetRow.getElementsByTagName('input')[1];
if (qtyBox.value == 0)  {
    qtyBox.value = 1;
} else {
    qtyBox.value = 0;
}
} 
```

这是所要求的 HTML

```
 <form name="myForm" action="index.html" method="post">

        <div id="table_container_left">

                    <button onclick="check();">Select All</button>

                    <button onclick="uncheck();">Unselect All</button>

                    <button onclick="addItems();">Add Items</button>

            <table>

                <thead>

                        <th><u>Item Code</u></th>

                        <th><u>Item</u></th>

                        <th><u>Qty</u></th>

                        <th><u>Price</u></th>

                </thead>

                <tbody>

<script type="text/javascript">

for(x=0; x<=computer.length-1; x++) {

document.write("<tr id='"+x+"'><td><label><input type='checkbox' name='item' value='"+x+"'     onclick='updateQty('"+x+"');'/> "+computer[x].split(",")[0]+"</label></td><td>"+computer[x].split    (",")[1]+"</td><td> <input name='qty' id='qty' type='textbox' value='0' onchange='qtychange    ('"+x+"');'/></td><td>$"+computer[x].split(",")[2]+"</td></tr>");

}

</script>

                </tbody>

            </table>

        </div>

        <div id="table_container_right">

            <table id="shoppingBasket">

                    <input name='selectAll' type='button' value='Select All' onclick="itemSelected();"/>

                    <input name='clearAll' type='button' value='Clear All' onclick=""/>

                    <input name='removeItem(s)' type='button' value='Remove Item(s)' />

                    <input name='sortItemCode' type='button' value='Sort by Item Code' disabled='disabled' />

                    <input name='sortPrice' type='button' value='Sort by Price' disabled='disabled' />

                </tbody>

            </table>

        </div>

</div>

</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:36:06.570

您正在使用`i = 0`而不是`var i = 0`，这将引入一个全局变量。如果您在其他地方编写类似的代码，这可能是个问题。

您的`if`-statements 根本不是陈述。它们看起来像伪代码。您还在与`=`而不是比较`==`，这将导致分配而不是条件，即使您修复了语法。

您没有正确缩进您的代码，这将使您更容易引入新的错误。

这些是我立即注意到的一般问题。当然，这段代码*可能有很多问题。*`fields`可能不是数组，`computer`也`selected`可能与 的大小不匹配`fields`，等等。

如果您有任何具体问题，请描述，我们或许能够解决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:37:00.743

你的 JS 语法很差，这就是它应该的样子

```
function addItems(field) {
    for (i = 0; i <= field.length-1; i++) 
    {
        if (field[i].checked == true)
        {
            if (computer[i]!=null) { 
                selected[i] = computer[i];
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T06:39:15.607

您的一半 if 语句缺少括号，这是一些基本的错误。

我不知道任何变量应该是什么以及在哪里，但这是我最好的选择：

```
function addItems(field) {
    var i;
    for (i = 0; i < field.length; i++) {
        if (field[i].checked === true) {
            if (computer[i] !== null) { 
                selected[i] = computer[i];
            }
        }
    }
} 
```

# jquery - 使用jquery更改div位置

> ID：11517132
> 
> 赞同：0
> 
> 时间：2012-07-17T06:32:46.010
> 
> 标签：jquery

我有一个包含许多小框的 HTML 结构，我希望在页面加载时框会从右到左。为此，我有功能，但我希望盒子应该一个一个来。

```
<head>

<style>

body {margin:0; padding:0}

.box { position:absolute; background:#FF0000; height:300px; width:300px; margin:5px 5px; -webkit-transition-duration:0.15s}

.box1 { position:absolute; top:0; right:-300px; height:300px; width:300px;}

</style>

<script type="text/javascript" src="jquery-1.7.2.js"></script>

<script type="text/javascript">

function jhj (){

    $('.container').find('.box1').each(function (i){

        $(this).delay(i*100).toggleClass('box1 box')        
        })

    }

window.onload= jhj

</script>

</head>

<body>
<div class="container">

<div class="box1"></div>
<div class="box1"></div>
<div class="box1"></div>

<div class="box1"></div>
<div class="box1"></div>
<div class="box1"></div>

</div>

</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:34:53.133

## *[jsBin 演示](http://jsbin.com/uluteh/2/edit)*

添加一些初始正确值：

```
.box {
   right: -300px; /*initial position (off-screen)*/
} 
```

比使用：

```
function jhj(){
    $('.container').find('.box1').each(function (i, el){
        $(el).delay(i*100).animate({right: 300},800);
    });
}

jhj(); 
```

# cassandra - 赫克托分量相等

> ID：11517133
> 
> 赞同：2
> 
> 时间：2012-07-17T06:32:47.517
> 
> 标签：cassandra, composite-key, hector

我正在阅读以下[链接](http://www.datastax.com/dev/blog/introduction-to-composite-columns-part-1)，它提供了对复合列的介绍，我几乎没有疑问，特别是关于 ComponentEquality.EQUAL 和 ComponentEquality.GREATER_THAN_EQUAL 的用法。

在以下示例中：

```
Composite start = compositeFrom(startArg, Composite.ComponentEquality.EQUAL);
Composite end = compositeFrom(startArg, Composite.ComponentEquality.GREATER_THAN_EQUAL);
start.addComponent(1,"CA",Composite.ComponentEquality.EQUAL);
end.addComponent(1,"CA",Composite.ComponentEquality.GREATER_THAN_EQUAL); 
```

我无法理解为什么最终组件需要 GREATER_THAN_EQUAL 作为相等组件。举例说明会很有帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T14:05:11.033

切片查询在 cassandra 中的工作方式是您指定一个开始列和一个结束列（limit/isDescending 标志也是如此，但这在这里无关紧要）。查询您的用例的一种方法是传递以 US:CA 开头的第一个复合列和以 US:CA 开头的最后一个复合列的完整（复合）列名称。但是，您事先并不知道这一点。

切片查询的好处是开始和结束列不需要是实际的列名。由于列名总是排序的，如果切片查询中的起始列不存在，cassandra 将从大于提供的起始列的下一列开始。

因此，我们需要为您的查询构造一个开始列和一个结束列。如链接中所述，复合对象具有 eoc 位。该位由切片查询使用。

一个复合列有几个组件。每个组件都有 eoc 位。当一个组件将此位设置为 Equal 时，Cassandra 继续查看下一个组件。当一个组件将此位设置为 GREATER_THAN_EQUAL 时，Cassandra 将继续查看列，直到找到相应组件不等于我们正在查找的组件的内容。

因此，现在考虑链接中的示例：我们要对具有包含三个组件的复合比较器的列族进行切片查询。我们想要获取第一个组件为 US 而第二个组件等于 CA 的所有列。

我们必须创建一个开始列和一个结束列。开始列将有两个组件（均以 EQUAL 作为 eoc），结束列将具有第一个组件作为 EQUAL，第二个组件作为 GREATER_THAN_EQUAL。这将匹配所有第一个组件是 US 而第二个组件是 CA 的列。

如果将此位设置为 EQUAL，切片查询将匹配它找到的第一列，其起始分量等于“CA”。这很好，但 Cassandra 还需要知道切片查询的结束列。为此，它将查看您提供的最终组合。

希望这有帮助。

编辑：为了更好地解释

# javascript - 如何在javascript中实现接口

> ID：11517134
> 
> 赞同：51
> 
> 时间：2012-07-17T06:32:49.700
> 
> 标签：javascript

是否可以在javascript中实现接口

如果是的话，你有什么例子吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-05-23T07:09:48.827

首先，JavaScript 中没有内置对传统抽象的支持。至少，没有像接口和抽象类这样的类型。但是，可以使用 Object.create 方法和原型来实现接口。如需更多信息，请访问[此处](http://www.yusufaytas.com/achieving-abstraction-in-javascript/)。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-17T06:34:58.017

引用 Mark McDonnell 写的一篇文章：

> 在 JavaScript 中，没有真正的“经典”面向对象特性，但通过巧妙地使用该语言，您可以模拟接口以与 JavaScript API 一起使用。

完整文章请参见以下内容：

[http://www.javascriptbank.com/how-implement-interfaces-in-javascript.html](http://www.javascriptbank.com/how-implement-interfaces-in-javascript.html)

# bash - 带有 getopts 的可选选项参数

> ID：11517139
> 
> 赞同：50
> 
> 时间：2012-07-17T06:33:14.310
> 
> 标签：bash, getopt, getopts

```
while getopts "hd:R:" arg; do
  case $arg in
    h)
      echo "usage" 
      ;;
    d)
      dir=$OPTARG
      ;;
    R)
      if [[ $OPTARG =~ ^[0-9]+$ ]];then
        level=$OPTARG
      else
        level=1
      fi
      ;;
    \?)
      echo "WRONG" >&2
      ;;
  esac
done 
```

*   level 指的是参数`-R`，dir 指的是参数`-d`

*   当我输入 `./count.sh -R 1 -d test/`它正常工作

*   当我输入`./count.sh -d test/ -R 1`它正常工作

*   但我想让它在我输入`./count.sh -d test/ -R`或`./count.sh -R -d test/`

这意味着我想要`-R`一个默认值并且命令序列更加灵活。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-10T14:22:46.960

错误的。实际上`getopts`确实支持可选参数！从 bash 手册页：

```
If  a  required  argument is not found, and getopts is not silent, 
a question mark (?) is placed in name, OPTARG is unset, and a diagnostic
message is printed.  If getopts is silent, then a colon (:) is placed in name 
and OPTARG is set to the option character found. 
```

当手册页显示“静默”时，表示静默错误报告。要启用它，*optstring*的第一个字符需要是冒号：

```
while getopts ":hd:R:" arg; do
    # ...rest of iverson's loop should work as posted 
done 
```

由于 Bash 的*getopt*无法识别结束选项列表，因此当是最后一个选项`--`时，它可能不起作用，然后是一些路径参数。`-R`

PS：传统上，*getopt.c*使用两个冒号 ( `::`) 来指定一个可选参数。但是，Bash 使用的版本没有。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-07-17T07:32:13.410

`getopts`并不真正支持这一点；但编写自己的替代品并不难。

```
while true; do
    case $1 in
      -R) level=1
            shift
            case $1 in
              *[!0-9]* | "") ;;
              *) level=$1; shift ;;
            esac ;;
        # ... Other options ...
        -*) echo "$0: Unrecognized option $1" >&2
            exit 2;;
        *) break ;;
    esac
done 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2016-08-01T11:28:39.673

此解决方法定义不带参数的“R”（没有“:”），测试“-R”之后的任何参数（管理命令行上的最后一个选项）并测试现有参数是否以破折号开头。

```
# No : after R
while getopts "hd:R" arg; do
  case $arg in
  (...)
  R)
    # Check next positional parameter
    eval nextopt=\${$OPTIND}
    # existing or starting with dash?
    if [[ -n $nextopt && $nextopt != -* ]] ; then
      OPTIND=$((OPTIND + 1))
      level=$nextopt
    else
      level=1
    fi
    ;;
  (...)
  esac
done 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2012-07-25T20:49:06.583

我同意 Tripleee，getopts 不支持可选参数处理。

我已经确定的折衷解决方案是使用相同选项标志的大写/小写组合来区分带参数的选项和不带参数的选项。

***例子：***

```
COMMAND_LINE_OPTIONS_HELP='
Command line options:
    -I          Process all the files in the default dir: '`pwd`'/input/
    -i  DIR     Process all the files in the user specified input dir
    -h          Print this help menu

Examples:
    Process all files in the default input dir
        '`basename $0`' -I

    Process all files in the user specified input dir
        '`basename $0`' -i ~/my/input/dir

'

VALID_COMMAND_LINE_OPTIONS="i:Ih"
INPUT_DIR=

while getopts $VALID_COMMAND_LINE_OPTIONS options; do
    #echo "option is " $options
    case $options in
        h)
            echo "$COMMAND_LINE_OPTIONS_HELP"
            exit $E_OPTERROR;
        ;;
        I)
            INPUT_DIR=`pwd`/input
            echo ""
            echo "***************************"
            echo "Use DEFAULT input dir : $INPUT_DIR"
            echo "***************************"
        ;;
        i)
            INPUT_DIR=$OPTARG
            echo ""
            echo "***************************"
            echo "Use USER SPECIFIED input dir : $INPUT_DIR"
            echo "***************************"
        ;;
        \?)
            echo "Usage: `basename $0` -h for help";
            echo "$COMMAND_LINE_OPTIONS_HELP"
            exit $E_OPTERROR;
        ;;
    esac
done 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2017-08-01T16:27:10.627

这实际上很容易。只需在 R 之后删除尾随冒号并使用 OPTIND

```
while getopts "hRd:" opt; do
   case $opt in
      h) echo -e $USAGE && exit
      ;;
      d) DIR="$OPTARG"
      ;;
      R)       
        if [[ ${@:$OPTIND} =~ ^[0-9]+$ ]];then
          LEVEL=${@:$OPTIND}
          OPTIND=$((OPTIND+1))
        else
          LEVEL=1
        fi
      ;;
      \?) echo "Invalid option -$OPTARG" >&2
      ;;
   esac
done
echo $LEVEL $DIR 
```

count.sh -d 测试

> 测试

count.sh -d 测试 -R

> 1 次测试

count.sh -R -d 测试

> 1 次测试

count.sh -d 测试 -R 2

> 2 测试

count.sh -R 2 -d 测试

> 2 测试

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-07-31T17:15:53.590

受@calandoa 的[回答](https://stackoverflow.com/a/38697692/297586)（唯一真正有效的！）的启发，我制作了一个简单的功能，可以轻松多次使用。

```
getopts_get_optional_argument() {
  eval next_token=\${$OPTIND}
  if [[ -n $next_token && $next_token != -* ]]; then
    OPTIND=$((OPTIND + 1))
    OPTARG=$next_token
  else
    OPTARG=""
  fi
} 
```

一个示例用法：

```
while getopts "hdR" option; do
  case $option in
  d)
    getopts_get_optional_argument $@
    dir=${OPTARG}
    ;;
  R)
    getopts_get_optional_argument $@
    level=${OPTARG:-1}
    ;;
  h)
    show_usage && exit 0
    ;;
  \?)
    show_usage && exit 1
    ;;
  esac
done 
```

这为我们提供了一种实用的方法来获得*“缺少的功能*” `getopts`:)

**请注意**，尽管如此，带有可选参数的命令行选项似乎被[明确地劝阻](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html#tag_12_02)

> **准则 7：**选项参数不应是可选的。

但是如果没有这个，我没有直观的方法来实现我的案例：我有 2 种模式可以通过使用一个标志或其他标志来激活，并且它们都有一个带有明确默认值的参数。引入第三个标志只是为了消除歧义，使它看起来是一种糟糕的 CLI 风格。

我已经用许多组合对此进行了测试，包括@aaron-sua 的答案中的所有组合并且效果很好。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-12-03T21:15:40.073

尝试：

```
while getopts "hd:R:" arg; do
  case $arg in
    h)
      echo "usage" 
    ;;
    d)
      dir=$OPTARG
    ;;
    R)
      if [[ $OPTARG =~ ^[0-9]+$ ]];then
        level=$OPTARG
      elif [[ $OPTARG =~ ^-. ]];then
        level=1
        let OPTIND=$OPTIND-1
      else
        level=1
      fi          
    ;;
    \?)
      echo "WRONG" >&2
    ;;
  esac
done 
```

我认为上面的代码在仍然使用`getopts`. `getopts`遇到时，我在您的代码中添加了以下三行`-R`：

```
 elif [[ $OPTARG =~ ^-. ]];then
        level=1
        let OPTIND=$OPTIND-1 
```

如果`-R`遇到并且第一个参数看起来像另一个 getopts 参数，则将 level 设置为默认值`1`，然后将`$OPTIND`变量减一。下一次`getopts`去抓取一个参数，它会抓取正确的参数而不是跳过它。

* * *

这是基于[Jan Schampera 在本教程中的评论中](http://wiki.bash-hackers.org/howto/getopts_tutorial)的代码的类似示例：

```
#!/bin/bash
while getopts :abc: opt; do
  case $opt in
    a)
      echo "option a"
    ;;
    b)
      echo "option b"
    ;;
    c)
      echo "option c"

      if [[ $OPTARG = -* ]]; then
        ((OPTIND--))
        continue
      fi

      echo "(c) argument $OPTARG"
    ;;
    \?)
      echo "WTF!"
      exit 1
    ;;
  esac
done 
```

> 当您发现 OPTARG von -c 是以连字符开头的内容时，请重置 OPTIND 并重新运行 getopts（继续 while 循环）。哦，当然，这并不完美，需要更多的稳健性。这只是一个例子。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-03-13T00:18:46.650

以下代码通过检查前导破折号来解决此问题，如果找到则减少 OPTIND 以指向跳过的选项进行处理。这通常可以正常工作，只是您不知道用户在命令行上放置选项的顺序 - 如果您的可选参数选项是最后一个并且不提供参数，getopts 会出错。

为了解决最后一个参数丢失的问题，“$@”数组只需附加一个空字符串“$@”，这样 getopts 就会满足于它已经吞噬了另一个选项参数。为了修复这个新的空参数，设置了一个变量来保存要处理的所有选项的总数 - 当处理最后一个选项时，调用一个名为 trim 的辅助函数，并在使用该值之前删除空字符串。

这不是工作代码，它只有占位符，但您可以轻松修改它，并且稍加注意，它对于构建一个健壮的系统很有用。

```
#!/usr/bin/env bash 
declare  -r CHECK_FLOAT="%f"  
declare  -r CHECK_INTEGER="%i"  

 ## <arg 1> Number - Number to check
 ## <arg 2> String - Number type to check
 ## <arg 3> String - Error message
function check_number() {
  local NUMBER="${1}"
  local NUMBER_TYPE="${2}"
  local ERROR_MESG="${3}"
  local FILTERED_NUMBER=$(sed 's/[^.e0-9+\^]//g' <<< "${NUMBER}")
  local -i PASS=1
  local -i FAIL=0
    if [[ -z "${NUMBER}" ]]; then 
        echo "Empty number argument passed to check_number()." 1>&2
        echo "${ERROR_MESG}" 1>&2
        echo "${FAIL}"          
  elif [[ -z "${NUMBER_TYPE}" ]]; then 
        echo "Empty number type argument passed to check_number()." 1>&2
        echo "${ERROR_MESG}" 1>&2
        echo "${FAIL}"          
  elif [[ ! "${#NUMBER}" -eq "${#FILTERED_NUMBER}" ]]; then 
        echo "Non numeric characters found in number argument passed to check_number()." 1>&2
        echo "${ERROR_MESG}" 1>&2
        echo "${FAIL}"          
  else  
   case "${NUMBER_TYPE}" in
     "${CHECK_FLOAT}")
         if ((! $(printf "${CHECK_FLOAT}" "${NUMBER}" &>/dev/random;echo $?))); then
            echo "${PASS}"
         else
            echo "${ERROR_MESG}" 1>&2
            echo "${FAIL}"
         fi
         ;;
     "${CHECK_INTEGER}")
         if ((! $(printf "${CHECK_INTEGER}" "${NUMBER}" &>/dev/random;echo $?))); then
            echo "${PASS}"
         else
            echo "${ERROR_MESG}" 1>&2
            echo "${FAIL}"
         fi
         ;;
                      *)
         echo "Invalid number type format: ${NUMBER_TYPE} to check_number()." 1>&2
         echo "${FAIL}"
         ;;
    esac
 fi 
}

 ## Note: Number can be any printf acceptable format and includes leading quotes and quotations, 
 ##       and anything else that corresponds to the POSIX specification. 
 ##       E.g. "'1e+03" is valid POSIX float format, see http://mywiki.wooledge.org/BashFAQ/054
 ## <arg 1> Number - Number to print
 ## <arg 2> String - Number type to print
function print_number() { 
  local NUMBER="${1}" 
  local NUMBER_TYPE="${2}" 
  case "${NUMBER_TYPE}" in 
      "${CHECK_FLOAT}") 
           printf "${CHECK_FLOAT}" "${NUMBER}" || echo "Error printing Float in print_number()." 1>&2
        ;;                 
    "${CHECK_INTEGER}") 
           printf "${CHECK_INTEGER}" "${NUMBER}" || echo "Error printing Integer in print_number()." 1>&2
        ;;                 
                     *) 
        echo "Invalid number type format: ${NUMBER_TYPE} to print_number()." 1>&2
        ;;                 
   esac
} 

 ## <arg 1> String - String to trim single ending whitespace from
function trim_string() { 
 local STRING="${1}" 
 echo -En $(sed 's/ $//' <<< "${STRING}") || echo "Error in trim_string() expected a sensible string, found: ${STRING}" 1>&2
} 

 ## This a hack for getopts because getopts does not support optional
 ## arguments very intuitively. E.g. Regardless of whether the values
 ## begin with a dash, getopts presumes that anything following an
 ## option that takes an option argument is the option argument. To fix  
 ## this the index variable OPTIND is decremented so it points back to  
 ## the otherwise skipped value in the array option argument. This works
 ## except for when the missing argument is on the end of the list,
 ## in this case getopts will not have anything to gobble as an
 ## argument to the option and will want to error out. To avoid this an
 ## empty string is appended to the argument array, yet in so doing
 ## care must be taken to manage this added empty string appropriately.
 ## As a result any option that doesn't exit at the time its processed
 ## needs to be made to accept an argument, otherwise you will never
 ## know if the option will be the last option sent thus having an empty
 ## string attached and causing it to land in the default handler.
function process_options() {
local OPTIND OPTERR=0 OPTARG OPTION h d r s M R S D
local ERROR_MSG=""  
local OPTION_VAL=""
local EXIT_VALUE=0
local -i NUM_OPTIONS
let NUM_OPTIONS=${#@}+1
while getopts “:h?d:DM:R:S:s:r:” OPTION "$@";
 do
     case "$OPTION" in
         h)
             help | more
             exit 0
             ;;
         r)
             OPTION_VAL=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             ERROR_MSG="Invalid input: Integer or floating point number required."
             if [[ -z "${OPTION_VAL}" ]]; then
               ## can set global flags here 
               :;
             elif [[ "${OPTION_VAL}" =~ ^-. ]]; then
               let OPTIND=${OPTIND}-1
               ## can set global flags here 
             elif [ "${OPTION_VAL}" = "0" ]; then
               ## can set global flags here 
               :;               
             elif (($(check_number "${OPTION_VAL}" "${CHECK_FLOAT}" "${ERROR_MSG}"))); then
               :; ## do something really useful here..               
             else
               echo "${ERROR_MSG}" 1>&2 && exit -1
             fi
             ;;
         d)
             OPTION_VAL=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             [[  ! -z "${OPTION_VAL}" && "${OPTION_VAL}" =~ ^-. ]] && let OPTIND=${OPTIND}-1            
             DEBUGMODE=1
             set -xuo pipefail
             ;;
         s)
             OPTION_VAL=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             if [[ ! -z "${OPTION_VAL}" && "${OPTION_VAL}" =~ ^-. ]]; then ## if you want a variable value that begins with a dash, escape it
               let OPTIND=${OPTIND}-1
             else
              GLOBAL_SCRIPT_VAR="${OPTION_VAL}"
                :; ## do more important things
             fi
             ;;
         M)  
             OPTION_VAL=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             ERROR_MSG=$(echo "Error - Invalid input: ${OPTION_VAL}, Integer required"\
                              "retry with an appropriate option argument.")
             if [[ -z "${OPTION_VAL}" ]]; then
               echo "${ERROR_MSG}" 1>&2 && exit -1
             elif [[ "${OPTION_VAL}" =~ ^-. ]]; then
               let OPTIND=${OPTIND}-1
               echo "${ERROR_MSG}" 1>&2 && exit -1
             elif (($(check_number "${OPTION_VAL}" "${CHECK_INTEGER}" "${ERROR_MSG}"))); then
             :; ## do something useful here
             else
               echo "${ERROR_MSG}" 1>&2 && exit -1
             fi
             ;;                      
         R)  
             OPTION_VAL=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             ERROR_MSG=$(echo "Error - Invalid option argument: ${OPTION_VAL},"\
                              "the value supplied to -R is expected to be a "\
                              "qualified path to a random character device.")            
             if [[ -z "${OPTION_VAL}" ]]; then
               echo "${ERROR_MSG}" 1>&2 && exit -1
             elif [[ "${OPTION_VAL}" =~ ^-. ]]; then
               let OPTIND=${OPTIND}-1
               echo "${ERROR_MSG}" 1>&2 && exit -1
             elif [[ -c "${OPTION_VAL}" ]]; then
               :; ## Instead of erroring do something useful here..  
             else
               echo "${ERROR_MSG}" 1>&2 && exit -1
             fi
             ;;                      
         S)  
             STATEMENT=$(((${NUM_OPTIONS}==${OPTIND})) && trim_string "${OPTARG##*=}" || echo -En "${OPTARG##*=}")
             ERROR_MSG="Error - Default text string to set cannot be empty."
             if [[ -z "${STATEMENT}" ]]; then
               ## Instead of erroring you could set a flag or do something else with your code here..  
             elif [[ "${STATEMENT}" =~ ^-. ]]; then ## if you want a statement that begins with a dash, escape it
               let OPTIND=${OPTIND}-1
               echo "${ERROR_MSG}" 1>&2 && exit -1
               echo "${ERROR_MSG}" 1>&2 && exit -1
             else
                :; ## do something even more useful here you can modify the above as well 
             fi
             ;;                      
         D)  
             ## Do something useful as long as it is an exit, it is okay to not worry about the option arguments 
             exit 0
             ;;          
         *)
             EXIT_VALUE=-1
             ;&                  
         ?)
             usage
             exit ${EXIT_VALUE}
             ;;
     esac
done
}

process_options "$@ " ## extra space, so getopts can find arguments 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-12-30T13:57:37.253

您始终可以决定用小写或大写来区分选项。

但是我的想法是调用`getopts`两次和第一次解析，不带参数忽略它们（`R`），然后第二次只解析带有参数支持的选项（`R:`）。唯一的技巧是`OPTIND`(index) 在处理期间需要更改，因为它保持指向当前参数的指针。

这是代码：

```
#!/usr/bin/env bash
while getopts ":hd:R" arg; do
  case $arg in
    d) # Set directory, e.g. -d /foo
      dir=$OPTARG
      ;;
    R) # Optional level value, e.g. -R 123
      OI=$OPTIND # Backup old value.
      ((OPTIND--)) # Decrease argument index, to parse -R again.
      while getopts ":R:" r; do
        case $r in
          R)
            # Check if value is in numeric format.
            if [[ $OPTARG =~ ^[0-9]+$ ]]; then
              level=$OPTARG
            else
              level=1
            fi
          ;;
          :)
            # Missing -R value.
            level=1
          ;;
        esac
      done
      [ -z "$level" ] && level=1 # If value not found, set to 1.
      OPTIND=$OI # Restore old value.
      ;;
    \? | h | *) # Display help.
      echo "$0 usage:" && grep " .)\ #" $0
      exit 0
      ;;
  esac
done
echo Dir: $dir
echo Level: $level 
```

以下是一些适用于场景的测试：

```
$ ./getopts.sh -h
./getopts.sh usage:
    d) # Set directory, e.g. -d /foo
    R) # Optional level value, e.g. -R 123
    \? | h | *) # Display help.
$ ./getopts.sh -d /foo
Dir: /foo
Level:
$ ./getopts.sh -d /foo -R
Dir: /foo
Level: 1
$ ./getopts.sh -d /foo -R 123
Dir: /foo
Level: 123
$ ./getopts.sh -d /foo -R wtf
Dir: /foo
Level: 1
$ ./getopts.sh -R -d /foo
Dir: /foo
Level: 1 
```

不起作用的场景（因此代码需要更多调整）：

```
$ ./getopts.sh -R 123 -d /foo
Dir:
Level: 123 
```

有关`getopts`使用的更多信息，请参见`man bash`。

另请参阅：Bash Hackers Wiki 上的[小型 getopts 教程](http://wiki.bash-hackers.org/howto/getopts_tutorial)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-01-14T04:20:50.367

我自己也遇到了这个问题，觉得现有的解决方案都不是真正干净的。在进行了一些工作并尝试了各种事情之后，我发现利用 getopts SILENT 模式`:) ...`似乎已经完成了这个技巧，同时保持了 OPTIND 同步。

* * *

```
usage: test.sh [-abst] [-r [DEPTH]] filename
*NOTE: -r (recursive) with no depth given means full recursion

#!/usr/bin/env bash

depth='-d 1'

while getopts ':abr:st' opt; do
    case "${opt}" in
        a) echo a;;
        b) echo b;;
        r) if [[ "${OPTARG}" =~ ^[0-9]+$ ]]; then
               depth="-d ${OPTARG}"
           else
               depth=
               (( OPTIND-- ))
           fi
           ;;
        s) echo s;;
        t) echo t;;
        :) [[ "${OPTARG}" = 'r' ]] && depth=;;
        *) echo >&2 "Invalid option: ${opt}"; exit 1;;
    esac
done
shift $(( OPTIND - 1 ))

filename="$1"
... 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-11-26T08:32:44.363

我认为有两种方法。

首先是 calandoa 的回答，使用 OPTIND 并且没有静音模式。

其次是使用 OPTIND 和静默模式。

```
while getopts ":Rr:" name; do
    case ${name} in
        R)
            eval nextArg=\${$OPTIND}
            # check option followed by nothing or other option.
            if [[ -z ${nextArg} || $nextArg =~ ^-.* ]]; then
                level=1
            elif [[ $nextArg =~ ^[0-9]+$ ]]; then
                level=$nextArg
                OPTIND=$((OPTIND + 1))
            else
                level=1
            fi
            ;;
        r)
            # check option followed by other option.
            if [[ $OPTARG =~ ^-.* ]]; then
                OPTIND=$((OPTIND - 1))
                level2=2
            elif [[ $OPTARG =~ ^[0-9]+$ ]]; then
                level2="$OPTARG"
            else
                level2=2
            fi
            ;;
        :)
            # check no argument
            case $OPTARG in
                r)
                    level2=2
                    ;;
            esac
    esac
done

echo "Level 1 : $level"
echo "Level 2 : $level2" 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-07-06T20:06:23.393

到目前为止提供的所有解决方案都将代码放入`case ... in ... esac`，但在我看来，修改命令会更自然`getopts`，因此我编写了这个函数：

**编辑：**

现在，您可以指定可选参数的类型（请参阅使用信息）。

此外，`$nextArg`该函数现在不再测试是否“看起来像”一个选项 arg，而是检查是否`$nextArg`包含来自`$optstring`. 这样，不包含在其中的选项字母`$optstring`可以用作可选参数，与`getopts`' 强制参数一样。

**最新变化：**

*   固定测试 if`$nextArg`是一个选项 arg：
    测试是否`$nextArg`以破折号开头。如果没有此测试，则无法识别
    包含 from 字母的可选参数。`$optstring`
*   添加了正则表达式类型说明符（请参阅使用信息）。
*   固定：0 未被识别为指定为 int 的可选 arg。
*   简化测试 if`$nextArg`是一个 int。
*   类型说明符`::/.../:`用于`perl`测试是否`$nextArg`匹配正则表达式。
    这样，您就可以从（几乎 (*)）Perl 正则表达式的全部功能中受益。
    (*)：见最后一段使用信息。
*   已修复：不适用于一个以上的正则表达式类型说明符：
    使用`perl`而不是`grep`/`sed`构造，因为需要非贪婪匹配。

**用法：**

调用：`getopts-plus optstring name "$@"`

`optstring`: 和普通的一样，但是你可以通过在选项字母后面附加**::**`getopts`来指定带有可选参数的选项。

 **但是，如果您的脚本支持使用带有可选参数作为唯一选项参数的选项的调用，然后是非选项参数，则非选项参数将被视为该选项的参数。

如果你很幸运并且可选参数应该是一个整数，而非选项参数是一个字符串，反之亦然，你可以通过附加**:::i**为整数或**:::s**来指定类型字符串来解决这个问题。

如果这不适用，您可以通过将**::/.../**附加到选项字母来为可选参数指定 Perl 正则表达式。
有关 Perl 正则表达式的介绍，请参见此处：[https ://perldoc.perl.org/perlretut](https://perldoc.perl.org/perlretut)
**请注意**：ATM，只会`/.../`在 之后被识别为正则表达式`::`，即不能使用其他分隔符，也不能使用修饰符，因此 eg`m#...#a`不会认可。
如果在带有可选参数的选项之后有一个非选项参数，那么只有匹配正则表达式时才会被认为是可选参数。
需要明确的是：`::/.../`并非用于参数验证，而仅用于区分具有可选参数和非选项参数的选项的参数。

```
#!/bin/bash

# Invocation: getopts-plus optstring name "$@"\
# \
# optstring: Like normal getopts, but you may specify options with optional argument
# by appending :: to the option letter.\
# \
# However, if your script supports an invocation with an option with optional
# argument as the only option argument, followed by a non-option argument,
# the non-option argument will be considered to be the argument for the option.\
# \
# If you're lucky and the optional argument is expected to be an integer, whereas
# the non-option argument is a string or vice versa, you may specify the type by
# appending :::i for an integer or :::s for a string to solve that issue.\
# \
# If that doesn't apply, you may specify a Perl regexp for the optional arg by appending
# ::/.../ to the option letter.\
# See here for an introduction to Perl regexps: https://perldoc.perl.org/perlretut
# Please note: ATM, only /.../ will be recognised as a regexp after ::,\
# i. e. neither other delimiters, nor modifiers may be used, so e. g. m#...#a will
# not be recognised.\
# If there is a non-option argument after the option with optional argument, it will
# be considered to be the optional argument only if it matches the regexp.\
# To be clear: ::/.../ is not meant for argument validation but solely to discriminate
# between arguments for options with optional argument and non-option arguments.
function getopts-plus
{
    local optstring=$1
    local -n name=$2

    shift 2

    local optionalArgSuffixRE='::(?::[si]|/.*?/)?'
    local optionalArgTypeCaptureRE=':::([si])|::(/.*?/)'

    # If we pass 'opt' for 'name' (as I always do when using getopts) and there is
    # also a local variable 'opt', the "outer" 'opt' will always be empty.
    # I don't understand why a local variable interferes with caller's variable with
    # same name in this case; however, we can easily circumvent this.
    local opt_

    # Extract options with optional arg

    local -A isOptWithOptionalArg

    while read opt_; do
        # Using an associative array as set
        isOptWithOptionalArg[$opt_]=1
    done <<<$(perlGetCaptures "$optstring" "([a-zA-Z])$optionalArgSuffixRE")

    # Extract all option letters (used to weed out possible optional args that are option args)
    local optLetters=$(perlGetCaptures "$optstring" "([a-zA-Z])(?:$optionalArgSuffixRE|:)?")

    # Save original optstring, then remove our suffix(es)
    local optstringOrg=$optstring
    optstring=$(perl -pe "s#$optionalArgSuffixRE##g" <<<$optstring)

    getopts $optstring name "$@" || return # Return value is getopts' exit value.

    # If current option is an option with optional arg and if an arg has been provided,
    # check if that arg is not an option and if it isn't, check if that arg matches(*)
    # the specified type, if any, and if it does or no type has been specified,
    # assign it to OPTARG and inc OPTIND.
    #
    # (*) We detect an int because it's easy, but we assume a string if it's not an int
    # because detecting a string would be complicated.
    # So it sounds strange to call it a match if we know that the optional arg is specified
    # to be a string, but merely that the provided arg is not an int, but in this context,
    # "not an int" is equivalent to "string". At least I think so, but I might be wrong.

    if ((isOptWithOptionalArg[$name])) && [[ ${!OPTIND} ]]; then
        local nextArg=${!OPTIND} foundOpt=0

        # Test if $nextArg is an option arg
        if [[ $nextArg == -* ]]; then
            # Check if $nextArg contains a letter from $optLetters.
            # This way, an option not contained in $optstring can be
            # used as optional arg, as with getopts' mandatory args.

            local i

            # Start at char 1 to skip the leading dash
            for ((i = 1; i < ${#nextArg}; i++)); do
                while read opt_; do
                    [[ ${nextArg:i:1} == $opt_ ]] && foundOpt=1 && break 2
                done <<<$optLetters
            done

            ((foundOpt)) && return
        fi

        # Extract type of optional arg if specified
        local optArgType=$(perlGetCaptures "$optstringOrg" "$name(?:$optionalArgTypeCaptureRE)" '$1$2')

        local nextArgIsOptArg=0

        case $optArgType in
            /*/) # Check if $nextArg matches regexp
                perlMatch "$nextArg" "$optArgType" && nextArgIsOptArg=1
                ;;
            [si]) # Check if $nextArg is an int
                local nextArgIsInt=0

                [[ $nextArg =~ ^[0-9]+$ ]] && nextArgIsInt=1

                # Test if specified type and arg type match (see (*) above).
                # N.B.: We need command groups since && and || between commands have same precedence.
                { [[ $optArgType == i ]] && ((nextArgIsInt)) || { [[ $optArgType == s ]] && ((! nextArgIsInt)); }; } && nextArgIsOptArg=1
                ;;
            '') # No type or regexp specified => Assume $nextArg is optional arg.
                nextArgIsOptArg=1
                ;;
        esac

        if ((nextArgIsOptArg)); then
            OPTARG=$nextArg && ((OPTIND++))
        fi
    fi
}

# Uses perl to match \<string\> against \<regexp\>.\
# Returns with code 0 on a match and 1 otherwise.
function perlMatch # Args: <string> <regexp>
{
    perl -e 'q('"$1"') =~ '"$2"' and exit 0; exit 1;'
}

# Uses perl to match \<string\> against \<regexp\>
# and prints each capture on a separate line.\
# If \<regexp\> contains more than one capture group,
# you must specify the \<line format\> which is an
# arbitrary Perl string containing your desired backrefs.\
# By default, merely $1 will be printed.
function perlGetCaptures # Args: <string> <regexp> [<line format>]
{
    local lineFmt=${3:-\$1}

    # Matching repeatedly with g option gives one set of captures at a time.
    perl -e 'while (q('"$1"') =~ m#'"$2"'#g) { print(qq('"$lineFmt"') . "\n"); }'
} 
```

如果您不需要它们，则函数体内没有注释的相同脚本：

```
#!/bin/bash

# Invocation: getopts-plus optstring name "$@"\
# \
# optstring: Like normal getopts, but you may specify options with optional argument
# by appending :: to the option letter.\
# \
# However, if your script supports an invocation with an option with optional
# argument as the only option argument, followed by a non-option argument,
# the non-option argument will be considered to be the argument for the option.\
# \
# If you're lucky and the optional argument is expected to be an integer, whereas
# the non-option argument is a string or vice versa, you may specify the type by
# appending :::i for an integer or :::s for a string to solve that issue.\
# \
# If that doesn't apply, you may specify a Perl regexp for the optional arg by appending
# ::/.../ to the option letter.\
# See here for an introduction to Perl regexps: https://perldoc.perl.org/perlretut
# Please note: ATM, only /.../ will be recognised as a regexp after ::,\
# i. e. neither other delimiters, nor modifiers may be used, so e. g. m#...#a will
# not be recognised.\
# If there is a non-option argument after the option with optional argument, it will
# be considered to be the optional argument only if it matches the regexp.\
# To be clear: ::/.../ is not meant for argument validation but solely to discriminate
# between arguments for options with optional argument and non-option arguments.
function getopts-plus
{
    local optstring=$1
    local -n name=$2

    shift 2

    local optionalArgSuffixRE='::(?::[si]|/.*?/)?'
    local optionalArgTypeCaptureRE=':::([si])|::(/.*?/)'

    local opt_

    local -A isOptWithOptionalArg

    while read opt_; do
        isOptWithOptionalArg[$opt_]=1
    done <<<$(perlGetCaptures "$optstring" "([a-zA-Z])$optionalArgSuffixRE")

    local optLetters=$(perlGetCaptures "$optstring" "([a-zA-Z])(?:$optionalArgSuffixRE|:)?")

    local optstringOrg=$optstring
    optstring=$(perl -pe "s#$optionalArgSuffixRE##g" <<<$optstring)

    getopts $optstring name "$@" || return

    if ((isOptWithOptionalArg[$name])) && [[ ${!OPTIND} ]]; then
        local nextArg=${!OPTIND} foundOpt=0

        if [[ $nextArg == -* ]]; then
            local i

            for ((i = 1; i < ${#nextArg}; i++)); do
                while read opt_; do
                    [[ ${nextArg:i:1} == $opt_ ]] && foundOpt=1 && break 2
                done <<<$optLetters
            done

            ((foundOpt)) && return
        fi

        local optArgType=$(perlGetCaptures "$optstringOrg" "$name(?:$optionalArgTypeCaptureRE)" '$1$2')

        local nextArgIsOptArg=0

        case $optArgType in
            /*/)
                perlMatch "$nextArg" "$optArgType" && nextArgIsOptArg=1
                ;;
            [si])
                local nextArgIsInt=0

                [[ $nextArg =~ ^[0-9]+$ ]] && nextArgIsInt=1

                { [[ $optArgType == i ]] && ((nextArgIsInt)) || { [[ $optArgType == s ]] && ((! nextArgIsInt)); }; } && nextArgIsOptArg=1
                ;;
            '')
                nextArgIsOptArg=1
                ;;
        esac

        if ((nextArgIsOptArg)); then
            OPTARG=$nextArg && ((OPTIND++))
        fi
    fi
}

# Uses perl to match \<string\> against \<regexp\>.\
# Returns with code 0 on a match and 1 otherwise.
function perlMatch # Args: <string> <regexp>
{
    perl -e 'q('"$1"') =~ '"$2"' and exit 0; exit 1;'
}

# Uses perl to match \<string\> against \<regexp\>
# and prints each capture on a separate line.\
# If \<regexp\> contains more than one capture group,
# you must specify the \<line format\> which is an
# arbitrary Perl string containing your desired backrefs.\
# By default, merely $1 will be printed.
function perlGetCaptures # Args: <string> <regexp> [<line format>]
{
    local lineFmt=${3:-\$1}

    perl -e 'while (q('"$1"') =~ m#'"$2"'#g) { print(qq('"$lineFmt"') . "\n"); }'
} 
```

**使用最新版本的一些测试：**

指定为整数的可选 arg 类型`-g`，不传递 int 但后跟非选项字符串 arg。

```
$ . ./getopts-plus.sh
$ while getopts-plus 'b:c::de::f::g:::ia' opt -ab 99 -c 11 -def 55 -g "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == '' <-- Empty because "hello you" is not an int 
```

像上面一样，但使用 int arg。

```
$ OPTIND=1
$ while getopts-plus 'b:c::de::f::g:::ia' opt -ab 99 -c 11 -def 55 -g 7 "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == '7' <-- The passed int 
```

`-h`添加了带有 regexp的可选选项`/^(a|b|ab|ba)$/`，没有传递参数。

```
$ OPTIND=1
$ while getopts-plus 'b:c::de::f::g:::ih::/^(a|b|ab|ba)$/a' opt -ab 99 -c 11 -def 55 -gh "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == ''

-------------------------

opt == 'h'

OPTARG == '' <-- Empty because "hello you" does not match the regexp 
```

像上面一样，但 arg 匹配正则表达式。

```
$ OPTIND=1
$ while getopts-plus 'b:c::de::f::g:::ih::/^(a|b|ab|ba)$/a' opt -ab 99 -c 11 -def 55 -gh ab "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == ''

-------------------------

opt == 'h'

OPTARG == 'ab' <-- The arg that matches the regexp 
```

`-i`添加了另一个带有正则表达式的正则表达式类型的可选选项`/^\w+$/`（使用 Perl 标记`\w`，表示字母数字或下划线），没有传递参数。

```
$ OPTIND=1
$ while getopts-plus 'b:c::de::f::g:::ih::/^(a|b|ab|ba)$/ai::/^\w+$/' opt -ab 99 -c 11 -def 55 -gh ab -i "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done
[23:10:49]

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == ''

-------------------------

opt == 'h'

OPTARG == 'ab'

-------------------------

opt == 'i'

OPTARG == '' <-- Empty because "hello you" contains a space. 
```

像上面一样，但 arg 匹配正则表达式。

```
$ OPTIND=1
$ while getopts-plus 'b:c::de::f::g:::ih::/^(a|b|ab|ba)$/ai::/^\w+$/' opt -ab 99 -c 11 -def 55 -gh ab -i foo_Bar_1 "hello you"; do e opt OPTARG; echo; printf "%.0s-" $(seq 1 25); echo -e "\n"; done
[23:15:23]

opt == 'a'

OPTARG == ''

-------------------------

opt == 'b'

OPTARG == '99'

-------------------------

opt == 'c'

OPTARG == '11'

-------------------------

opt == 'd'

OPTARG == ''

-------------------------

opt == 'e'

OPTARG == ''

-------------------------

opt == 'f'

OPTARG == '55'

-------------------------

opt == 'g'

OPTARG == ''

-------------------------

opt == 'h'

OPTARG == 'ab'

-------------------------

opt == 'i'

OPTARG == 'foo_Bar_1' <-- Matched because it contains only alphanumeric chars and underscores. 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-08-07T06:36:31.780

旧线程，但我想无论如何我都会分享我所做的（这也大多比这个线程更老）。我厌倦了试图让 getopt 做我想做的事，并且在沮丧中这样做是为了支持带有可选参数的短选项和长选项。这是很长的路要走，肯定有人会笑，但它完全按照我想要的方式工作 - 所有三种情况的过度评论示例如下：

```
#!/usr/bin/bash
# Begin testme.sh

shopt -s extglob;
VERSION="1.0"

function get_args(){
  while test -n "${1}" ; do
    case "${1}" in
      -a | --all)
         # dumb single argument example
         PROCESS_ALL="yes"
         shift 1
      ;;
      -b | --buildnum)
         # requires a second argument so use check_arg() below
         check_arg $1 $2
         BUILD_NUM=${2}
         shift 2
      ;;
      -c | --cache)
        # Example where argument is not required, don't use check_arg()
        if [ echo ${2} | grep -q "^-" ]; then
          # no argument given, use default cache value
          CACHEDIR=~/mycachedir
          # Note: this could have been set upon entering the script
          #       and used the negative above as well
          shift 1
        else
          cache=${2}
          shift 2
        fi
      ;;
      -h | --help)
        showhelp
        exit 0
      ;;
      -v | --version)
        echo -e "$(basename ${0}) ${VERSION}\n"
        exit 0
      ;;
      # Handle getopt style short args (reason for shopts above)
      -+([a-z,A-Z]))
        # split up the arguments and call recursively with trailing break
        arg="${1}"
        newargs=$( echo ${1} | sed 's@-@@' | \
                               sed 's/.\{1\}/& /g' | \
                               sed 's/[^ ]* */-&/g')
        newargs="${newargs} $(echo ${@} | sed "s@${arg}@@")"
        get_args ${newargs}
        break;
      ;;
      *)
        echo -e "Invalid argument ${1}!\n\n"
        showhelp
        exit 1
      ;;
    esac
  done
}

# Super lazy, but I didn't want an if/then/else for every required arg
function check_arg(){
  if [ echo "${2}" | grep -q "^-" ]; then
    echo "Error:  $1 requires a valid argument."
    exit 1
  fi
}

function showhelp(){
  echo ""
  echo "`basename ${0}` is a utility to..."
}

# Process command line arguments
get_args $@
...
# End testme.sh 
```

我从来没有遇到过它，但我想可能存在我需要第二个参数以“-”字符开头的情况，在这种情况下，我会在调用 get_args() 之前将其删除。我也使用了 with 固定位置参数，在这种情况下，它们在最后，但相同的解决方案。另外，我认为便携式版本可以只处理 *) 中的组合短 args，但我认为如果 bash 的要求太高，那你就靠你自己了。**

# python - 分配一个变量来表示一个代码块

> ID：11517140
> 
> 赞同：0
> 
> 时间：2012-07-17T06:33:16.503
> 
> 标签：python, variables

我是 python 编程的新手，我有一个（也许）特定的问题。我不知道 python 是否允许你这样做，但基本上我想分配一个变量来表示一整块东西。

例如我有这个：

```
item.history[len(item.history)] = {'user': item.user,
                        'email': item.email, 'phone': item.phone,
                        'status': item.status, 'usage': item.usage,
                        'checkouttime': item.checkouttime,
                        'checkintime': item.checkintime,
                        'timeout': item.checkintime - item.checkouttime} 
```

这在一个地方有很多东西，在我的程序中，这段代码的同一块（如下所示为 ShortHis）重复了大约 15 次，更改了历史键，并且有时使用不同的变量而不是 checkintime 和 checkouttime，所以我想如果我这样做：

```
ShortHis = ('user': item.user,
    'email': item.email, 'phone': item.phone,
    'status': item.status, 'usage': item.usage,
    'checkouttime': item.checkouttime,
    'checkintime': item.checkintime,) 
```

那么这个：

```
item.history[len(item.history)] = {ShortHis
                        'timeout': item.checkintime - item.checkouttime} 
```

会工作，我可以节省一些空间，并且仍然能够编辑密钥以及 checkintime 和 checkouttime 变量，但它没有。为什么这不起作用，我怎样才能做出我想要的东西？（如果存在类似的东西）

如果我遗漏了这些东西的具体术语，我很抱歉，因为我说过我是 python 编程的新手。

**更清晰：**我希望将一大块东西，任何东西，无论内容或长度如何，都分配给一个代表该东西的变量（或其他东西），就像以前一样，所以我可以将该变量放在某物的中间它仍然像原始代码一样运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:13:31.840

在这里只使用一个函数可能是个好主意

```
def get_short_history(item):
    return {
       'user': item.user,
       'email': item.email,
       'phone': item.phone,
       'status': item.status,
       'usage': item.usage,
       'checkouttime': item.checkouttime,
       'checkintime': item.checkintime
    } 
```

然后你可以重用这个块

```
items.history.append(get_short_history(item).update({checkintime: 'overwrite'})) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T08:11:05.050

> ... 一个代表一整块东西的变量。

那么您应该使用一个具有可选[**属性的**](http://archive.org/details/SeanKellyRecoveryfromAddiction)[**类**](http://docs.python.org/tutorial/classes.html)。[](http://archive.org/details/SeanKellyRecoveryfromAddiction)

 **```
class Item(object):
  def __init__(self, user, ...):
    self.user = user
     ...

someitem = Item(me, ...)
print someitem.timeout 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:14:18.387

您可以使用“更新”方法来修改字典的内容。参考下面的例子：

```
dict1 = {'a':1, 'b':2}
dict1.update({'c':3}) 
```

因此，创建一个原始字典并使用 modify 方法对其进行更新，而不是将值存储在某个临时变量中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:14:24.360

不管问题中的代码是否有效，任何 Python 赋值都意味着将引用分配给对象。这样，**任何分配的对象实际上都通过一个引用共享**。换句话说，**Python 赋值意味着共享**。

如果共享块是恒定的，那么您可以将其视为内存空间使用的优化。如果共享块不是恒定的，那么它取决于初衷。

任何 Python 变量都是对目标对象的引用。

现在，如果我理解你的话，你想将新记录附加到历史列表中。`'timeout'`是特别的，是`ShortHis`要分享的。如果是这种情况，您必须将新密钥用于共享块（例如`'ref'`）并将该`ShortHis`块用作密钥的值。像这样的东西：

```
record = { 'timeout': item.checkintime - item.checkouttime,
           'ref': ShortHis }

item.history.append(record) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T08:31:11.040

也许像这样？

```
class Item(object):

    def __init__(self, user='', email='', phone=''):
        self.user = user
        self.email = email
        self.phone = phone
        self.time = ''
        self.history = []

    def add_short(self):
        self.time = time.asctime()
        self.history.append( {'user':self.user, 'time': self.time} )

    def add_long(self):
        self.time = time.asctime()
        self.history.append( {'user':self.user, 'email': self.email, 
            'phone': self.phone, 'time': self.time } ) 
```

示例用法：

```
import time
from pprint import pprint as pp
item = Item('dudely', 'dudely@doright.com', '111-222-3333')
item.add_short()
time.sleep(1)
item.add_short()
time.sleep(1)
item.add_long()
time.sleep(1)
item.add_short()
time.sleep(1)
item.add_long()
pp(item.history) 
```

示例输出：

```
[{'time': 'Tue Jul 17 04:26:05 2012', 'user': 'dudely'},
 {'time': 'Tue Jul 17 04:26:06 2012', 'user': 'dudely'},
 {'email': 'dudely@doright.com',
  'phone': '111-222-3333',
  'time': 'Tue Jul 17 04:26:07 2012',
  'user': 'dudely'},
 {'time': 'Tue Jul 17 04:26:08 2012', 'user': 'dudely'},
 {'email': 'dudely@doright.com',
  'phone': '111-222-3333',
  'time': 'Tue Jul 17 04:26:09 2012',
  'user': 'dudely'}] 
```**

# sql - 连接来自各种 XML 列的 XML，无需类型转换为字符串

> ID：11517141
> 
> 赞同：1
> 
> 时间：2012-07-17T06:33:20.050
> 
> 标签：sql, sql-server, xml, concatenation, for-xml-path

我的 SQL 表中有三个 XML 列（单行表仅用于存储 XML），XML 结构如下所示：

在第 1 列 -

```
<Column1XML>
    ....
</Column1XML> 
```

在第 2 列 -

```
<Column2XML>
    ....
</Column2XML> 
```

在第 3 列 -

```
<Column3XML>
    ....
</Column3XML> 
```

我正在寻找的最终生成的 XML 是：

```
<SomeTagName>
    <Column1XML>
        ....
    </Column1XML>
    <Column2XML>
        ....
    </Column2XML>
    <Column3XML>
        ....
    </Column3XML>
</SomeTagName> 
```

如何在不进行字符串连接的情况下获得这个所需的结构？我确信必须有使用 Typed XML 的出路。

提前感谢您查找我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:00:12.450

这里有两种方法供您参考。

样本数据

```
declare @T table
(
  Col1 xml,
  Col2 xml,
  Col3 xml
)

insert into @T values
(
'<Column1XML></Column1XML>',
'<Column2XML></Column2XML>',
'<Column3XML></Column3XML>'
) 
```

使用根名称作为列别名

```
select Col1 as 'SomeTagName',
       Col2 as 'SomeTagName',
       Col3 as 'SomeTagName' 
from @T
for xml path('') 
```

用作`*`列别名并指定一个`path()`.

```
select Col1 as '*',
       Col2 as '*',
       Col3 as '*' 
from @T
for xml path('SomeTagName') 
```

结果：

```
<SomeTagName>
  <Column1XML />
  <Column2XML />
  <Column3XML />
</SomeTagName> 
```

# python - 在 Python 中快速访问和更新整数矩阵或数组

> ID：11517143
> 
> 赞同：1
> 
> 时间：2012-07-17T06:33:30.767
> 
> 标签：python, performance

我将需要创建整数数组的数组，例如`[[0,1,2],[4,4,5,7]...[4,5]]`. 内部数组的大小可变。内部数组的最大数量是`2^26`。那么对于更新此数组的最快方法，您有什么建议。当我使用`list=[[]] * 2^26`初始化非常快但更新非常慢。相反，我使用

`list=[] , for i in range(2**26): list.append.([])`.

现在初始化很慢，更新很快。例如，对于 16777216 内部数组和 0.213827311993 平均每个数组上的元素数，对于 2^26 元素数组，需要 1.67728900909 秒。这很好，但我会处理更大的数据，因此我需要最好的方法。初始化时间并不重要。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:52:34.527

你问的问题挺大的。不同的数据结构有不同的属性。一般来说，如果您需要快速访问，请不要使用列表！它们具有线性访问时间，这意味着您放入其中的越多，平均访问元素所需的时间就越长。

你也许可以使用numpy？该库具有可以非常快速地访问的矩阵，并且可以在运行中重新调整。但是，如果要添加或删除行，它可能会有点慢，因为它通常会重新分配（从而复制）整个数据。所以这是一个权衡。

如果你有这么多不同大小的内部数组，也许你可以有一个包含内部数组的字典。我认为如果它由整数索引，它将比列表快得多。然后，可以使用 numpy 创建内部数组。

# ios - 如何从设备中清理 iPad 应用程序？

> ID：11517144
> 
> 赞同：0
> 
> 时间：2012-07-17T06:33:46.027
> 
> 标签：ios

我将带有视网膜显示图像的应用程序部署到我的 iPad 上。那些图太大了。所以我想尝试使用正常大小的图像。我从项目中删除了我的视网膜显示图像。我进行了清理并将应用程序部署到我的 iPad 上。我仍然在设备上看到视网膜显示图像。我正在使用 cocos2d。因此视网膜显示图像文件被命名为 sprite-hd.png。

我将尝试使用 sprite@2x.png 格式进行测试。我认为即使删除了应用程序（长按然后触摸小 x 图标），应用程序的资源仍然在设备中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:38:54.990

从设备中删除应用程序，在 Xcode 中清理目标（command-shift-k）并再次运行，它应该可以正常工作。

# css - 创建一个从右到左的 css Display:block

> ID：11517145
> 
> 赞同：0
> 
> 时间：2012-07-17T06:33:47.197
> 
> 标签：css, right-to-left

我使用 display:block css 属性创建了一个项目列表。

display:block 属性创建了一个从左到右的英文项目列表。我将这些项目翻译成希伯来语，这是从右到左的，但文本留在左边。我需要让 display:block 文本粘在右侧（从右到左）。我试过了：

方向：rtl；text-align:right 甚至 float:right 都不会影响 display:block。

正如您在示例中看到的那样，列表粘在左侧并忽略了我添加的上述属性：

![在此处输入图像描述](../Images/e4714c1aaf0ae1064c81147a75b4c65c.png)

我怎样才能显示：块有从右到左的文本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T10:28:49.817

该`text-align: right`设置已足够，但在您的代码中，某些部分（在屏幕截图中不可见）以某种方式覆盖它，无论是在`ul`元素上还是在内部`li`元素上。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-17T07:06:05.203

CSS 具有对 RTL-Languages `direction`属性的多语言支持。使用值`ltr`（拉丁语）或`rtl`（希伯来语）。任何其他属性都应该是多余的，尤其是`text-align`. 删除它有帮助吗？它应该依赖于脚本方向：http: [//www.w3schools.com/cssref/pr_text_text-align.asp](http://www.w3schools.com/cssref/pr_text_text-align.asp)

# c++ - Visual Studio 2008 -> 2010 端口：错误 C2039：“select2nd”：不是“std”的成员

> ID：11517146
> 
> 赞同：1
> 
> 时间：2012-07-17T06:33:50.513
> 
> 标签：c++, visual-c++

我正在将一个大型 C++ COM 项目从 VS2008 移植到 VS2010。有如下一行代码，在我的VS2008项目中编译得很好，但是在VS2010中编译时给出了引用的错误：

```
std::select2nd<std::map<DWORD, ISomethingUseful*>::value_type>()); 
```

编译错误是：

```
error C2039: 'select2nd' : is not a member of 'std' 
```

我知道这是一个“非标准”函数，但是编写此代码的人最初是在 VS2008 的 std 命名空间中发现它的，而他们使用的任何 #include 在 VS2010 中似乎不再正确。

有谁知道这个功能现在在VS2010中的什么位置？特别是现在需要包含哪个头文件才能使用它？

* * *

编辑：为了暂时解决这个问题，我从 VS2008 VC\include\functional 头文件中获取了代码，并包含在我的代码库中（在实用程序类中），如下面的回答中所述。

仍然会感谢其他人能够提供的任何见解！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T05:24:04.743

好吧，似乎这个问题的答案是*std::select2nd(...)*函数在 VS2008 中通过*函数*库得到支持，但在 VS2010 中已被弃用。以下是来自 VS2008 的代码，如果需要，可以在将代码移植到 VS2010 时重新实现此功能：

```
template<class Pair> struct select2nd : public std::unary_function<Pair, typename Pair::second_type>
{   
    // functor for unary second of pair selector operator
    const typename Pair::second_type& operator()(const Pair& Left) const
    {   
        // apply second selector operator to pair operand
        return (Left.second);
    }
}; 
```

# javascript - 如何在函数外调用这个函数？

> ID：11517148
> 
> 赞同：0
> 
> 时间：2012-07-17T06:33:57.430
> 
> 标签：javascript

```
function firstFunction()
{
  stringWord = "Hello World";
  function secondFunction()//How to call this function in thirdfunction() ??
  {
    alert(stringWord);
  }
} 

function thirdFunction()
{
  run = setTimeout( ... , 5000);
} 
```

你好，我放弃了。任何人帮助我或有另一种方式来调用该函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:53:01.283

尝试这个：

```
 function firstFunction()
        {
          stringWord = "Hello World";
          this.secondFunction = function()//How to call this function in thirdfunction() ??
          {
            alert(stringWord);
          }
        }
        var instand = new firstFunction();
        function thirdFunction(){
            run = setTimeout( 'instand.secondFunction()', 5000);
        } 
```

希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:51:13.843

```
function firstFunction()
{
  stringWord = "Hello World";
  return function secondFunction()//How to call this function in thirdfunction() ??
  {
    alert(stringWord);
  };
}

secondFunction = firstFunction(); 

function thirdFunction()
{
  run = setTimeout( 'secondFunction()' , 5000);
} 
```

JSFiddle：http: [//jsfiddle.net/DRfzc/](http://jsfiddle.net/DRfzc/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T07:08:43.123

不修改就无法`secondFunction()`从外部调用。如果这是可以接受的，请继续阅读...`firstFunction()``firstFunction()`

方法一：修改`firstFunction()`返回引用`secondFunction()`：

```
function firstFunction() {
  stringWord = "Hello World";
  return function secondFunction() {
    alert(stringWord);
  }
}
// And then call `firstFunction()` in order to use the function it returns:
function thirdFunction() {
  run = setTimeout(firstFunction(), 5000);
}
// OR
var secondFunc = firstFunction();
function thirdFunction() {
  run = setTimeout(secondFunc, 5000);
} 
```

方法 2：已将`firstFunction()`引用`secondFunction()`放在其范围之外可访问的变量中：

```
var secondFunc;
function firstFunction() {
  stringWord = "Hello World";
  function secondFunction() {
    alert(stringWord);
  }
  window.secondFunc = secondFunction;  // to make a global reference, AND/OR
  secondFunc = secondFunc; // to update a variable declared in same scope
                           // as firstFunction()
}
firstFunction();
function thirdFunction() {
  run = setTimeout(secondFunc, 5000);
} 
```

请注意，无论哪种方法，您都必须在尝试使用内部函数之前实际*调用。* `firstFunction()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T06:39:12.053

```
var stringWord;
function firstFunction()
{
  stringWord = "Hello World";
  secondFunction();
} 

 function secondFunction()
  {
    alert(stringWord);
  }

function thirdFunction()
{
  run = setTimeout( 'secondFunction()' , 5000);
} 
```

# blackberry - 单击按钮时如何启动另一个应用程序？

> ID：11517149
> 
> 赞同：1
> 
> 时间：2012-07-17T06:33:59.520
> 
> 标签：blackberry, parameter-passing, uiapplication

单击此按钮时，我想启动另一个应用程序。

```
sharebtn = new Custom_ButtonField(share, shareactive, shareactive) {
            protected boolean navigationClick(int status, int time) {
                //I want to start another apps (Strawberry)
                return true;
            }
        };
        add(sharebtn); 
```

这是草莓应用程序

```
public class StrawBerry extends UiApplication implements ActionListener {

public static void main(String url) {
    new StrawBerry(url).enterEventDispatcher();
}
} 
```

我想传递`String url`给草莓应用程序。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T08:05:25.933

首先，系统永远不会调用您的 main 方法。正确的签名：

```
public static void main(String[] arguments){} 
```

看看这篇文章以启动另一个带有参数的应用程序：[How To - Launch a third-party application from another third-party application](http://www.blackberry.com/knowledgecenterpublic/livelink.exe/fetch/2000/348583/800332/800620/How_To_-_Launch_a_third-party_application_from_another_third-party_application.html?nodeid=1094023&vernum=0)

在FB页面上发布。你需要类似的东西：

```
private final String NEXT_URL = "http://www.facebook.com/connect/login_success.html";
private final String APPLICATION_ID = "your id";
private final String APPLICATION_SECRET = "your secret";
private Facebook fb;
private User user;
...
fb = Facebook.getInstance(new ApplicationSettings(NEXT_URL, APPLICATION_ID, APPLICATION_SECRET, Facebook.Permissions.PUBLISH_STREAM));
user = fb.getUser(pUserId);
user.publishPost(messageEditField.getText(), linkEditField.getText(), pictureEditField.getText(), nameEditField.getText(), captionEditField.getText(), descriptionEditField.getText(), sourceEditField.getText()); 
```

# javascript - 如何使用java脚本更改表格中单元格的背景颜色

> ID：11517150
> 
> 赞同：25
> 
> 时间：2012-07-17T06:34:00.497
> 
> 标签：javascript, html

我需要使用 java 脚本更改表格中单个单元格的背景颜色。

在文档期间，我需要所有单元格的样式应该相同（因此使用样式表来添加此内容。），但是在单击按钮时，我需要更改第一个单元格的颜色。

以下是示例代码

```
<html lang="en">
  <head>    
    <script type="text/javascript" >        

    function btnClick()
    {
            var x = document.getElementById("mytable").cells;
            x[0].innerHTML = "i want to change my cell color";
            x[0].bgColor = "Yellow";            
    }
    </script>   
</head>
    <style>
    div
    {
    text-align: left; 
    text-indent: 0px; 
    padding: 0px 0px 0px 0px; 
    margin: 0px 0px 0px 0px;
    }
    td.td
    {
                 border-width : 1px; 
                 background-color: #99cc00;
                 text-align:center;

    }
    </style>  
  <body>
  <div>  
    <table id = "mytable" width="100%" border="1" cellpadding="2" cellspacing="2" style="background-color: #ffffff;">
      <tr valign="top">
      <td class = "td"><br />  </td>
      <td class = "td"><br />  </td>
      </tr>
      <tr valign="top">
      <td class = "td"><br />  </td>
      <td class = "td"><br />  </td>
      </tr>
    </table>
  </div>
      <input type="button" value="Click" OnClick = "btnClick()">
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-07-17T06:37:21.560

尝试这个：

```
function btnClick() {
    var x = document.getElementById("mytable").getElementsByTagName("td");
    x[0].innerHTML = "i want to change my cell color";
    x[0].style.backgroundColor = "yellow";            
} 
```

从 JS 设置，`backgroundColor`相当于`background-color`在您的样式表中。

另请注意，该`.cells`集合属于表*行*，而不是表本身。要从所有行中获取所有单元格，您可以改用`getElementsByTagName()`.

演示：http: [//jsbin.com/ekituv/edit#preview](http://jsbin.com/ekituv/edit#preview)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-01-10T10:10:45.263

```
<table border="1" cellspacing="0" cellpadding= "20">
    <tr>
    <td id="id1" ></td>
    </tr>
</table>
<script>
    document.getElementById('id1').style.backgroundColor='#003F87';
</script> 
```

为单元格输入 id，然后更改单元格的背景。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-03-21T01:07:52.677

```
document.getElementById('id1').bgColor = '#00FF00'; 
```

似乎工作。我认为`.style.backgroundColor`不会。

# windows-xp - 如何在 XP 上手动安装 .Net 4.0.x 和 4.5

> ID：11517151
> 
> 赞同：6
> 
> 时间：2012-07-17T06:34:11.533
> 
> 标签：windows-xp, .net-4.5

XP 不是 .NET 4.5 支持的操作系统。这是一个已知的问题。

几个月前我读到 XP 无法安装 4.5 的原因是因为 4.5 调用的内核 API 在 XP 上不存在。我还读到可以将您自己的“新”内核调用的实现注入到 XP 机器上——并且 4.5*可以*运行。

我再也找不到这些信息了。有人知道更多吗？

第二个但相关的问题是 - 我如何从 Windows 7 机器（安装了 4.5）获取升级的 .Net 4.0 库并将它们注入 xp 机器？相信我看了4.5的实现文件其实和4.0的文件是一样的，没有两套。事实上，两个 .net 文件夹（4.0 和 4.5）只是接口——它们链接回这些相同的文件。如果是这种情况，那么手动注入 4.0 文件可能需要解决我的第一个问题。

简而言之 - 有没有人有更多关于黑客/手动升级 .net for xp 的信息？

# javascript - 自动字段javascript的货币字段验证

> ID：11517152
> 
> 赞同：0
> 
> 时间：2012-07-17T06:34:31.167
> 
> 标签：javascript

我的表单中有价格字段。`Any number`的价格领域可能会来。我必须检查`currency validation`所有价格字段。它应该只允许数字、小数点 (.)、逗号 (,) 和美元符号 ($)。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:39:31.777

使用 accounting.js jquery 插件屏蔽输入。 [http://josscrowcroft.github.com/accounting.js/](http://josscrowcroft.github.com/accounting.js/)

# c# - 通用远程层

> ID：11517153
> 
> 赞同：1
> 
> 时间：2012-07-17T06:34:33.020
> 
> 标签：c#, generics, remoting

我目前正在使用定义层通过远程发送消息的项目，目前它正在工作，以便所有数据访问方法都包含在该层内。例如：

```
public class RemoteLayer: MarshalByRefObject
{
    DataAccessThing1() 
    {
         //Do things
    } 
```

然而，随着时间的推移，这些层变得非常庞大。我虽然可以制作通用工厂来询问来自其他应用程序域的远程对象：

```
 public class Abc : MarshalRefObject // This layer also residues in server, to its remoted.

 public T Factory<T> ()
 {
   return (T) Activator.CreateInstance(typeof(T));
 } 
```

我虽然可以在客户端这样使用它：

```
var fooDA = _remoteLayer.Factory<DataAccessClassForFoo>();
var Foo = FooClass(FooDA); // Now class uses data access over remote layer. 
```

但是，仅此一项是行不通的。它仅在我添加对要与工厂一起使用的源类型的直接引用时才有效。例如：

```
private ExampleType Foo() { return null; }  // This method is unused.
public T Factory<T> ()
{
   return (T) Activator.CreateInstance(typeof(T));
} 
```

这行得通。示例类型引用了程序集，它工作正常。由于某种原因，如果没有直接调用类型，我会收到错误：无法加载文件或程序集“AssemblyForExampleType”，版本...

我为所有要投影的案例都引用了 AssemblyForExampleType，但是如果没有直接在源代码中使用，似乎引用没有帮助。

有什么我完全错过的吗？如果没有直接使用源代码中的类型，程序集是否缺少元数据或其他内容？或者这个想法是否完全糟糕。

我尝试过使用 where T: ExampleType，但是，现在每个接口使用者都需要引用 where 之后定义的所有类型，我真的不想要...

泰。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:46:55.913

在使用远程处理之前尝试加载“AssemblyForExampleType”程序集：[Assembly.Load](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.load.aspx)

# iis - 404 异常 (IIS)

> ID：11517158
> 
> 赞同：0
> 
> 时间：2012-07-17T06:34:53.040
> 
> 标签：iis, azure

我正在尝试在 IIS（和 Azure）下处理 404 错误，但下面的代码不起作用。在本地主机上，这很好用。我应该怎么做才能解决这个问题？

来自http模块

```
protected void Application_Error(Object source, EventArgs e)
{
    HttpApplication application = (HttpApplication)source;
    HttpContext context = application.Context;
    Exception ex = application.Server.GetLastError().GetBaseException();
    if (ex != null && ex is HttpException)
    {
        var httpEx = ex as HttpException;
        if (httpEx != null && httpEx.GetHttpCode() == 404)
        {
            context.Response.StatusCode = 404;
            application.Response.Redirect(BXSite.Current.GetUrl("/404/"));
            application.Server.ClearError();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T21:59:49.177

我刚刚在重定向函数的第二个参数中添加了“false”，重定向开始正常工作。像这样：application.Response.Redirect("/404/",false)。

# mysql - 查询优化器的奇怪 mysql 问题

> ID：11517161
> 
> 赞同：0
> 
> 时间：2012-07-17T06:35:05.473
> 
> 标签：mysql, optimization

我有 2 台 mysql 服务器。1 个节点是主节点，另一个充当从节点，从主节点复制

2 个节点具有相同的数据和架构。但是，在两个节点上运行时，1 个特定查询的执行方式与 mysql 不同

询问

```
EXPLAIN SELECT t.*, COUNT(h.id)
                         FROM tags t
                         INNER JOIN tags2articles s
                         ON t.id = s.tag_id
                         INNER JOIN tag_hits h
                         ON h.id = s.tag_id
                         INNER JOIN articles art
                         ON art.id = s.`article_id`
                         WHERE art.source_id IN (SELECT id FROM feeds WHERE source_id = 15074)
                         AND time_added > DATE_SUB(NOW(), INTERVAL 1 DAY)
                         AND t.type = '1'
                         GROUP BY t.id
                         HAVING COUNT(h.id) > 4
                         ORDER BY COUNT(h.id) DESC
                         LIMIT 15 
```

下面是在两个节点上运行的 EXPLAIN 查询的输出。请注意，主节点输出的是正确的

主节点输出

```
+----+--------------------+-------+-----------------+-----------------------------+---------------------+---------+----------------+--------+----------------------------------------------+
| id | select_type        | table | type            | possible_keys               | key                 | key_len | ref            | rows   | Extra                                        |
+----+--------------------+-------+-----------------+-----------------------------+---------------------+---------+----------------+--------+----------------------------------------------+
|  1 | PRIMARY            | art   | ALL             | PRIMARY                     | NULL                | NULL    | NULL           | 100270 | Using where; Using temporary; Using filesort |
|  1 | PRIMARY            | s     | ref             | PRIMARY,FK_tags2articles    | FK_tags2articles    | 4       | art.id         |     12 | Using index                                  |
|  1 | PRIMARY            | h     | ref             | tags_hits_idx               | tags_hits_idx       | 4       | s.tag_id       |      1 | Using index                                  |
|  1 | PRIMARY            | t     | eq_ref          | PRIMARY,tags_type_idx       | PRIMARY             | 4       | s.tag_id       |      1 | Using where                                  |
|  2 | DEPENDENT SUBQUERY | feeds | unique_subquery | PRIMARY,f_source_id_idx     | PRIMARY             | 4       | func           |      1 | Using where                                  |
+----+--------------------+-------+-----------------+-----------------------------+---------------------+---------+----------------+--------+----------------------------------------------+ 
```

从节点上的输出

+----+--------+-------+---------------- --+--------------+------ -+---------+--------+--------+-------- --------------------------------

```
------+
| id | select_type        | table | type            | possible_keys               | key              | key_len | ref                | rows   | Extra                                        |
+----+--------------------+-------+-----------------+-----------------------------+------------------+---------+--------------------+--------+----------------------------------------------+
|  1 | PRIMARY            | t     | ref             | PRIMARY,tags_type_idx       | tags_type_idx    |  2      | const              | 206432 | Using where; Using temporary; Using filesort |
|  1 | PRIMARY            | h     | ref             | tags_hits_idx               | tags_hits_idx    | 4       | t.id               |      1 | Using index                                  |
|  1 | PRIMARY            | s     | ref             | PRIMARY,FK_tags2articles    | PRIMARY          | 4       | h.id               |      2 | Using where; Using index                     |
|  1 | PRIMARY            | art   | eq_ref          | PRIMARY                     | PRIMARY          | 4       | s.article_id       |      1 | Using where                                  |
|  2 | DEPENDENT SUBQUERY | feeds | unique_subquery | PRIMARY,f_source_id_idx     | PRIMARY          | 4       | func               |      1 | Using where                                  |
+----+--------------------+-------+-----------------+-----------------------------+------------------+---------+--------------------+--------+----------------------------------------------+ 
```

我无法理解为什么存在这种差异。有什么帮助吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:01:40.687

它们可以有不同的索引/键统计信息，这会导致索引使用的差异。如果可能（锁定表，因此并不总是推荐）为所有参与的表运行[ANALYZE TABLE](http://dev.mysql.com/doc/refman/5.0/en/analyze-table.html)，然后查询计划可能相同。

# asp.net - 如何在asp.net中使用amcharts？

> ID：11517162
> 
> 赞同：0
> 
> 时间：2012-07-17T06:35:13.810
> 
> 标签：asp.net, charts, amcharts

我必须在 asp.net 中使用 am 图表（列类型），但我不知道如何使用它。我已经阅读了一些文章，但没有一篇文章有​​正确的使用指南。谁能提供 am 图表的代码示例。我需要 .aspx 页面和 .aspx.cs 页面的示例。此外，我想在我的图表中添加效果。效果应该就像 x 轴上的列应该慢慢增加到 y 轴上的某个值。我需要在 .aspx 页面和我的项目中包含哪些文件？

# python - OSX 上的 Scipy、Numpy、Matplotlib 问题

> ID：11517164
> 
> 赞同：1
> 
> 时间：2012-07-17T06:35:21.590
> 
> 标签：python, numpy, matplotlib, scipy, homebrew

我刚刚使用自制软件和 pip 安装了 scipy 和 numpy。我做了以下事情：

```
brew install python
brew install gfortran
easy_install pip
sudo pip install numpy
sudo pip install scipy 
```

numpy 和 scipy 都可以在 /Library/Python/2.7/site-packages 中轻松找到，但是当我在终端中打开 python shell 并键入：

```
import numpy
import scipy 
```

我得到：

```
Traceback (most recent call last):
 File "<stdin>", line 1, in <module>
ImportError: No module named numpy 
```

和 scipy 一样。怎么了？Pip 似乎认为它们已安装。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:24:54.413

您从终端运行的 python shell 可能是 OSX 预捆绑的 python，而不是您安装的那个（使用 numpy 和 scipy）。

您可以使用以下命令列出当前路径：

```
import sys
print(sys.path) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T14:01:10.787

这可能有点矫枉过正，但我​​曾经写过一个在 OS X 中安装 Python 2.7.x 的简短指南。你可以在[这里](http://urinieto.com/2012/02/install-python-2-7-x-under-snow-leopard-lion-64-bits/)找到它。

最重要的是，现在您可能安装了两个版本的 Python，并且只卸载其中一个可能有点棘手。如果您确定哪一个使用了正确的站点包文件夹，则删除另一个并更新您的路径变量。如果没有，我建议遵循该指南。

# google-app-engine - 任务队列高级呼叫计数

> ID：11517166
> 
> 赞同：0
> 
> 时间：2012-07-17T06:35:23.427
> 
> 标签：google-app-engine, task-queue

随着我们扩展我们的服务并添加使用拉取队列 REST API 的后端，我们发现我们达到了 100k/天的限制。文档不清楚这是否可以计费。是否可以在启用计费的情况下超过此限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T06:35:59.697

启用计费，限制增加到 1,000,000,000 [https://developers.google.com/appengine/docs/quotas#Task_Queue](https://developers.google.com/appengine/docs/quotas#Task_Queue)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T16:56:03.333

您的信息似乎已过时 - 这不是当前版本的拉取队列配额中列出的限制： [https ://developers.google.com/appengine/docs/python/taskqueue/overview-pull#Quotas_and_Limits_for_Pull_Queues](https://developers.google.com/appengine/docs/python/taskqueue/overview-pull#Quotas_and_Limits_for_Pull_Queues)

# c - 指向结构的指针和指向结构的指针数组的指针。C中的动态内存

> ID：11517173
> 
> 赞同：1
> 
> 时间：2012-07-17T06:36:15.470
> 
> 标签：c, arrays, memory, pointers, dynamic

我在 C 中的某些代码访问此指针链的内容时遇到问题：

我有这些结构：

```
typedef struct {
    unsigned int hash;
    char string[10]; 
    void *memory;
} thing;

typedef struct {
    int num; 
    thing *thing;
} node;

typedef struct {
    int size;
    thing* things;
    node* nodes;
} t_system; 
```

行。现在我像这样初始化所有东西：

```
thing* things = NULL;
things = calloc(10, sizeof(thing));

node* nodes = NULL;
nodes = calloc(10, sizeof(node));

t_system* theSystem = NULL;
theSystem = calloc(1, sizeof(t_system));

    theSystem->things = things;
    theSystem->nodes = nodes; 
```

现在，我想设置这个：

```
theSystem->nodes[2].thing = &theSystem->things[1]; 
```

在该行之后，如果我调试并设置断点 theSystem 节点指向 0x0

我哪里错了？

* * *

```
if (theSystem->nodes[2].thing == NULL) {
    theSystem->nodes[2].thing = &theSystem->things[1]; //this is executed
}
if (theSystem->nodes[2].thing == NULL) {
    //this is not executed...
} 
```

* * *

我可以做这个：

```
theSystem->nodes[2].thing->hash = 123; 
```

调试显示哈希和事物的正确值，但不显示节点的正确值。它指向 0x0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:39:13.623

你写了

```
node* nodes = NULL;
tree = calloc(10, sizeof(node)); 
```

你应该写

```
node* nodes = NULL;
nodes = calloc(10, sizeof(node)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:40:07.613

您在此行将节点初始化为 NULL：

```
node* nodes = NULL; 
```

然后在这一行将节点分配给 System->nodes：

```
theSystem->nodes = nodes; 
```

由于您从不更改中间节点的值，因此 System->nodes 也将为 NULL。

您确定以下行是正确的：

```
tree = calloc(10, sizeof(node)); 
```

你不应该把它分配给节点吗？

# c++ - 通过 curl 通过 http 发送和接收字符串

> ID：11517179
> 
> 赞同：1
> 
> 时间：2012-07-17T06:36:47.287
> 
> 标签：c++, c, http, curl, client-server

我有一种情况，我在服务器（Windows 机器）上的程序输出一些字符串。我需要使用 curl 通过 HTTP 将这些字符串从服务器发送到客户端。发送后，我将在客户端以字符串形式接收数据，对其进行解码并执行后续操作。我已经`C Sockets`使用 berkely API 实现了这个功能，因为我对此很熟悉。但由于某种原因，我不允许使用自己的程序。我四处寻找，似乎 CURL 可以成为我的解决方案。但是，我对 curl 很陌生，似乎无法弄清楚如何实现此功能。在客户端，我发现这很有用可能是：

```
#include <stdio.h>
#include <curl/curl.h>

int main(void)
{
  CURL *curl;
  CURLcode res;

  curl = curl_easy_init();
  if(curl) {
    curl_easy_setopt(curl, CURLOPT_URL, "http://example.com");

    /* Perform the request, res will get the return code */ 
    res = curl_easy_perform(curl);
    /* Check for errors */ 
    if(res != CURLE_OK)
      fprintf(stderr, "curl_easy_perform() failed: %s\n",
              curl_easy_strerror(res));

    /* always cleanup */ 
    curl_easy_cleanup(curl);
  }
  return 0;
} 
```

我知道您必须使用回写功能来接收数据？同样在客户端，我需要使用 curl 开发一个程序，每当服务器通过字符串发送时，它应该接收并解码它。任何指向与特定问题相关的教程的指针都将受到高度赞赏。或者，如果有人已经尝试过，我将非常感谢这里的任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:13:14.307

看看他们网站上的这个示例代码。它详细说明了如何将响应数据写入内存区域而不是文件：

[http://curl.haxx.se/libcurl/c/getinmemory.html](http://curl.haxx.se/libcurl/c/getinmemory.html)

还可以查看 curl 网站上的通用教程：

[http://curl.haxx.se/libcurl/c/libcurl-tutorial.html](http://curl.haxx.se/libcurl/c/libcurl-tutorial.html)

最后要考虑的一件事，如果使用 C++，你需要确保你的回调不是非静态成员函数（见这里[libcurl - 无法下载文件](https://stackoverflow.com/questions/11349101/libcurl-unable-to-download-a-file/11349306#11349306)）

这至少应该让你开始。

# objective-c - UIViewController 的视图层次结构

> ID：11517187
> 
> 赞同：0
> 
> 时间：2012-07-17T06:37:07.100
> 
> 标签：objective-c, ios, cocoa-touch, ipad, uiviewcontroller

在我的 ContainerViewController 中，我将滚动视图添加为子视图。在该滚动视图中，我将 ImageViewController 的视图添加为子视图。现在我应该将 ImageViewController 作为子视图控制器添加到 ContainerViewController 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:38:00.863

你不需要`UIImageView`再为基本添加`UIViewController`。

按层次结构，您创建了第一个`UIViewController`，并为它`UIView`添加了`UIScrollView`作为子视图，并将一个添加`UIImageView`到`UIScrollView`.

太棒了。

****试着把它们想象成盒子里****的一双鞋**（`UIImageView`）（）**你抽屉里的东西**（）。**`UIScrollView`**`UIViewController`******

 ******如果您之前将装有鞋子的盒子放入抽屉，则无需再次将这双鞋放入抽屉；因为你的一双鞋已经在抽屉里，在一个盒子里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:07:27.427

没有“子视图控制器”的概念。您只需要设置视图的层次结构，并让视图控制器控制视图的行为。******

# events - 按键事件是否不适用于 Backbone.js 视图

> ID：11517190
> 
> 赞同：2
> 
> 时间：2012-07-17T06:37:28.153
> 
> 标签：events, backbone.js, keypress

我不明白这个想法是否有任何问题，但主干视图不会触发按键、按键事件。我创建了一个简单的购物清单应用程序是 JsBin 供您检查。在 chrome 检查`ul`器中，视图显示了 keyup 事件，但当我按下键盘上的某些键时它不会发生。我需要使用键盘事件导航 Treeview 的想法

### 杰宾

[http://jsbin.com/arucom/2/edit](http://jsbin.com/arucom/2/edit)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-17T14:22:42.267

除了@rkw 链接的问题之外，您可能想看看这个 SO 问题[为什么音频事件不使用 BackboneJS 触发，但其他事件是？](https://stackoverflow.com/questions/11461954/why-audio-events-are-not-firing-with-backbonejs-but-others-are)

基本上，backbone.js 使用委托来绑定事件，这仅适用于可委托的事件。

您可以在初始化程序中手动绑定到按键

```
 initialize: function () {
        _.bindAll(this);
          $(document).bind('keyup', this.navigate);
    }, 
```

# objective-c - 在 UIView 上添加 Cocos2D 场景

> ID：11517191
> 
> 赞同：0
> 
> 时间：2012-07-17T06:37:29.423
> 
> 标签：objective-c, cocos2d-iphone, ios5

我想在名为**camera_view**的 UIView 上运行 cocos2D 场景。

所以我尝试将 camera_view 添加到 openGLView ：

```
[[CCDirector sharedDirector].openGLView addSubview:cameraView]; 
```

然后推送我的场景，称为**场景**：

```
[[CCDirector sharedDirector] pushScene: scene]; 
```

但是做完之后就只能看到UIView了，cocos2D的场景就看不到了。但是，在将 camera_view 添加为 openGLView 的子视图之前，场景工作得非常好。

我该如何解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:37:49.913

我的解决方案如下：

我添加了我的 camera_view 和 openGLView，每个都作为 UIWindow 的子视图：

```
[window addSubview: camera_view];
[window addSubView: [CCDirector sharedDirector].openGLView]; 
```

然后我推了cocos2D场景：

```
[[CCDirector sharedDirector] pushScene: scene]; 
```

这解决了问题。现在我可以在我的 UIView 上查看 cocos2D 场景。

# html - 有谁知道为什么这个音频在 FireFox 中不起作用？

> ID：11517194
> 
> 赞同：0
> 
> 时间：2012-07-17T06:37:29.403
> 
> 标签：html, firefox, audio

我一直在搜索并将其简化为仅导致问题的原因。

```
<audio id="SoundHandle" style="display:none" />
<script type="text/javascript">
    SoundHandle = document.getElementById('SoundHandle');
    SoundHandle.src = 'test.ogg';
    SoundHandle.play();
</script> 
```

上面的代码在 Chrome 中运行良好，当我仍然有适当的检查等时，它适用于 IE 9 中的 MP3。但在 FireFox 中，它根本不播放声音，当我将其更改为这种布局时，我把它放在页面的顶部。现在在 Firefox 中，除了不播放声音之外，脚本标签下方的任何内容都不会呈现到页面上。

有人对这个有了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:32:01.300

有几件事：

这里可能会发生一些特定于 JS 的事情，也可能会发生一些特定于服务器的事情。

要解决上述所有问题，请先尝试此操作。

```
<audio id="player" controls>
    <source src="test.ogg" type='audio/ogg; codecs="vorbis"'>
</audio> 
```

看看能不能解决你的演奏问题。如果是这样，那么您可能正在处理 JavaScript 问题。

但是，如果该播放器根本不允许您播放音频，即使它是 100% HTML，那么您正在查看服务器问题。

有两个罪魁祸首。第一个是 MIME 类型。MIME 类型是您在该源元素的“类型”属性中看到的第一部分。

他们告诉程序他们应该如何读取文件中的数据。在过去，您会在 CSS (type="text/css") 或 JS (type="text/javascript") 中看到这一点。

对于这些事情，根本不重要——您的浏览器知道如何处理 CSS 以及如何处理 JS，它们很重要。

FireFox*要求*您的服务器设置为提供具有正确 MIME 类型的 .ogg/.oga/.ogv 文件。即：FF 需要知道将它们视为 OGG 文件而不是文本文件。

看看这里： [https ://developer.mozilla.org/en/Configuring_servers_for_Ogg_media](https://developer.mozilla.org/en/Configuring_servers_for_Ogg_media)

这应该是您调试的起点。之后，我们可以讨论 JavaScript。

它在 Chrome 中工作的原因是因为 Chrome 有一些魔法来猜测它是一个 .ogg 文件，即使服务器暗示它是一个“文本/html”文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:14:50.370

我的朋友它正在工作：

```
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<script type="text/javascript">
    var mediaElement = document.getElementById("myMediaElementID");
    mediaElement.pause();
    mediaElement.src = "";
</script>
</head>
<body>
<audio id="demo" src="song.ogg"></audio>

<div>
  <button onclick="document.getElementById('demo').play()">Play the Audio</button>
  <button onclick="document.getElementById('demo').pause()">Pause the Audio</button>
  <button onclick="document.getElementById('demo').volume+=0.1">Increase Volume</button>
  <button onclick="document.getElementById('demo').volume-=0.1">Decrease Volume</button>
</div> 
</body>
</html> 
```

# php - PHP重复一段代码并访问变量

> ID：11517198
> 
> 赞同：-1
> 
> 时间：2012-07-17T06:38:18.577
> 
> 标签：php

如何在不同的 PHP 文件中重复相同的 PHP 片段？例如我定义了变量`$user`，然后我插入 PHP 代码，它可以访问这个变量。 **更新：** 我将在 if 语句中使用它

> 示例（没有 if 语句）：

```
 function sanitizeString($var)
    {
    $var = htmlentities($var, ENT_QUOTES, "UTF-8");
    return mysql_real_escape_string($var);
    }
    $user = sanitizeString($_POST['user']);
    $pass = sanitizeString($_POST['pass']);
    //code i want to repeat in different files
    $user=$user;
    $pass=$pass;
    #salt generation
    $salt=uniqid(mt_rand(), true);
    #Add data to tables
    queryMysql("INSERT INTO accounts VALUES('$user', '".hash('sha512',$pass+$salt)."', '$salt', '$cookie_value')");
    mysql_query("INSERT INTO passwordreset VALUES('$user', NULL, NULL)");
    //end of code to repeat 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:40:52.110

使用带[*参数的*](http://php.net/manual/en/functions.arguments.php)[*函数*](http://php.net/manual/en/functions.user-defined.php)，这就是它们的用途。可以在具有不同变量的不同上下文中重用的代码片段。[](http://php.net/manual/en/functions.arguments.php)

 ** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:42:53.673

制作类和方法

```
class User
{
   public $user;
   public function User($name)
   {
      $user = $name;
   }
}

$User = new User('name1');
echo $User->user;
$User = new User('name2');
echo $User->user;
$User = new User('name3');
echo $User->user;
$User = new User('name4');
echo $User->user; 
```

输出：name1name2name3name4

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T06:46:51.743

U 可以将代码或变量添加到一个 php 文件中，然后将该文件包含在您想要的任何位置 U 可以在[此处查看示例](http://php.net/manual/en/function.include.php)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-17T06:46:41.717

*（删除[global 关键字](http://php.net/manual/en/language.variables.scope.php)，因为在这种情况下不需要）*

一种方法是使用 $GLOBALS 变量，它可以在任何地方访问，就像 $_SERVER、$_POST 等。请参阅[Superglobals](http://php.net/manual/en/language.variables.superglobals.php)。正如 Deceze 所提到的，**全局变量通常不是最好的解决方案**，因为它们很容易导致意外错误。有关这方面[的更多信息，请阅读](http://c2.com/cgi/wiki?GlobalVariablesAreBad)。

```
$GLOBALS['user'] = "RadGH";
include "my_file.php"; 
```

我的文件.php：

```
echo $GLOBALS['user']; 
```

* * *

Bondeye 在评论中表示，在处理不需要更改的数据时，首选使用**常量。**全局变量的问题之一是，某处的数据可能会被意外更改或引用。由于常量无法更改，因此情况并非如此。

```
define('USER', 'RadGH');
include "my_file.php"; 
```

我的文件.php：

```
echo USER; 
```*

# javascript - document.createElement 在 ie 中不起作用

> ID：11517202
> 
> 赞同：1
> 
> 时间：2012-07-17T06:38:50.030
> 
> 标签：javascript, jquery

嗨，我有一个表结构

```
<table id ="tbl1" >
            <thead>

              <tr>
                <td></td>
                <td>
<button class="btn-danger btn fileinput-button" type="button">-</button></td>
              </tr>
        </thead>
          </table> 
```

我必须在 javascript 中构建动态行...我正在使用下面的代码生成..

```
 var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);

            var cell1 = row.insertCell(0);
            cell1.innerHTML = filename;

            var cell2 = row.insertCell(1);
            var element2 = document.createElement("button");
            element2.type = "button";
            element2.className = "btn-danger btn fileinput-button";
            var element3 = document.createElement("span");
            element3.innerHTML = "-";
            element2.appendChild(element3);
            cell2.appendChild(element2); 
```

上面的代码在火狐中运行良好，但在按钮 td 中没有创建。任何人都可以帮助解决这个问题。

非常感谢安娜

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:05:36.367

jQuery 中的替代方法：

```
 var filename = 'sdsd';
    var $btn = $('<button type="button">-</button>');
    $btn.attr('class', 'btn-danger btn fileinput-button');

    var $tr = $('<tr />');
    $tr.append('<td>'+filename+'</td>');
    $tr.append('<td />');
    $tr.find('td:last').append( $btn );
    $('#tbl1').append( $tr ); 
```

错误是因为您的代码中的这一行： `element2.type = "button";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:40:06.597

谢谢莎莉，

我已经改变了我的代码，如下所示，这也有效。

```
var strTableRow = "<tr><td>" + filename + "</td><td><button class='btn-danger btn fileinput-button' type='button'>-</button></td></tr>";

$('#'+tableID).append(strTableRow); 
```

非常感谢安娜

# php - 如何从根目录中删除 100k + 文件？

> ID：11517205
> 
> 赞同：0
> 
> 时间：2012-07-17T06:39:01.030
> 
> 标签：php

我最近需要从 www 目录之外删除 100K + 文件我尝试使用下面有人建议我的代码

```
foreach(glob('*.*') as $file) unlink($file); 
```

但它从 public_html 文件夹中删除文件，我想从 www 目录之外删除文件

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:44:29.670

```
glob('/*.*') 
```

它不是递归的。该脚本应具有从根目录删除文件的权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:02:55.237

我认为问题是为什么您希望公开可用的脚本可以访问您的根文件夹。

如果您从命令行使用此脚本来执行某些任务，那很好，但我强烈建议不要在 public_html 中使用任何脚本修改根文件夹中的文件。

如果您仍然想授予脚本访问根文件夹的权限，您可以

```
chmod -R www-data:www-data /root/folder 
```

并遍历所有文件夹并删除文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T09:19:29.173

韦巴托告诉我要改变

```
foreach(glob('*.*') as $file) unlink($file); 
```

至

```
foreach(glob('../*.*') as $file) unlink($file); 
```

及其工作成功

# python - Python minidom 寻找空文本节点

> ID：11517212
> 
> 赞同：0
> 
> 时间：2012-07-17T06:39:29.327
> 
> 标签：python, replace, minidom

我正在使用 minidom 解析器解析 XML 文件，我在其中迭代 XML 并将位于标签之间的特定信息输出到字典中。

像这样：

```
d={}
dom = parseString(data)
macro=dom.getElementsByTagName('macro')
for node in macro:
    d={}
    id_name=node.getElementsByTagName('id')[0].toxml()
    id_data=id_name.replace('<id>','').replace('</id>','')
    print (id_data)
    cl_name=node.getElementsByTagName('cl')[1].toxml()
    cl_data=cl_name.replace('<cl>','').replace('</cl>','')
    print (cl_data)
    d_source[id_data]=(cl_data) 
```

现在，我的问题是我在 cl_name=node.getElementsByTagName('cl')[1].toxml() 中寻找的数据有时不存在！

在这种情况下，XML 的一部分如下所示：

```
<cl>blabla</cl>
<cl></cl> 
```

因此，我收到“索引超出范围”错误。但是，我的字典中确实需要这个“无”。我的字典应该是这样的：

```
d={blabla:'',xyz:'abc'} 
```

我必须寻找空文本节点，我尝试这样做：

```
if node.getElementsByTagName('cl')[1].toxml is None:
    print ('')
else:
    cl_name=node.getElementsByTagName('cl')[1].toxml()
    cl_data=cl_name.replace('<cl>','').replace('</cl>','')
    print (cl_data)
    d_target[id_data]=(cl_data)
    print(d_target) 
```

我仍然收到该索引错误...我还考虑在原始源文件中插入一个空格，但不确定这是否能解决问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:23:01.523

如果 minidom 不是以某种方式规定的，我建议您改变主意并使用标准的 xml.etree.ElementTree。这要容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:23:54.020

我发现在原始源文件中添加空格时它正在工作。不过这看起来有点乱。所以如果有人有更好的想法，我很期待！

# c# - 引用的程序集无法读取 app.config

> ID：11517214
> 
> 赞同：0
> 
> 时间：2012-07-17T06:39:33.603
> 
> 标签：c#, unit-testing, sitecore, appsettings

我的单元测试有问题。问题是：我正在使用 Sitecore。我问的另一个问题是：[Unit Testing Sitecore LicenseManager](https://stackoverflow.com/questions/11503985/unit-testing-sitecore-licensemanager)

我的问题是我得到了例外：

```
Test method foo.Bar.Framework.Tests.Core.UnitTest1.TestMethod1 threw exception: 
System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---> System.TypeInitializationException: The type initializer for 'Sitecore.Services.Heartbeat' threw an exception. ---> System.InvalidOperationException: Could not read Sitecore configuration. 
```

我用 dotPeek 查看了代码，函数 Sitecorre.Configuration.Settings.GetSetting("HeartbeatInterval") 抛出异常。因为它无法读取配置。当我将相同的代码添加到我的单元测试 .cs 文件并调试测试时，它可以读取配置。该设置也可在 app.config 中使用

看起来引用的程序集无法读取配置，而测试本身可以。我怎样才能解决这个问题？

**编辑**

Settings.GetSetting() 函数最终使用 Sitecore.Configuration.ConfigReader.GetConfigNode()。这个函数最终使用这个函数：

```
private static ConfigReader GetReader()
{
    return ConfigurationManager.GetSection("sitecore") as ConfigReader;
} 
```

那么...为什么引用的dll不能通过ConfigurationManager读取app.config？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T07:49:21.490

原来是 *.testsettings。当我在我的电脑上运行它时，它可以工作，但在构建服务器上却没有。结果我只需要提交 *.testsettings 并包含 /testsettings 参数

# ios5 - 从 Phonegap 访问 IOS 中的通知中心

> ID：11517218
> 
> 赞同：4
> 
> 时间：2012-07-17T06:39:48.110
> 
> 标签：ios5, jquery-mobile, cordova

我需要使用 phonegap 访问通知中心。我正在使用 phonegap (Cordova - 1.9.0) 和 JQM 1.0.1 开发 iPad 应用程序。

有没有办法使用phonegap访问通知中心？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-19T00:45:57.973

您的应用程序必须发送推送通知。用户必须同意接收。

使用以下插件的位置通知： [https ://github.com/phonegap/phonegap-plugins/tree/master/iOS/LocalNotifications](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/LocalNotifications)

或通过 Apples 服务器或 Urban Airship Push 推送通知 [http://urbanairship.com/blog/2010/06/09/phonegap-push/](http://urbanairship.com/blog/2010/06/09/phonegap-push/)

完成推送设置后，用户可以从“设置”的通知中心选择您的应用。

# iphone - 比较 iPhone 中的两个 NSMutableArray 索引

> ID：11517219
> 
> 赞同：2
> 
> 时间：2012-07-17T06:39:48.840
> 
> 标签：iphone, ipad, nsmutablearray, nsarray, compare

我想比较两个数组索引，

```
for (int i=0; i<[CustomeDateArray count]; i++)
  {
      if (([CustomeDateArray objectAtIndex:1] == [newDateArray objectAtIndex:1]) && ([CustomeDateArray objectAtIndex:2] == [newDateArray objectAtIndex:2]))          
                {
                    exists=TRUE;
                    NSLog(@"exists=TRUE");
                }
  } 
```

**我的日志显示了这个结果：**

```
 CustomeDateArray at Index1=06
 CustomeDateArray at Index2=2012

 newDateArray at Index1=06
 newDateArray at Index2=2012 
```

如果我的`if`条件为真，那么控制应该进入内部并且应该打印`exists=TRUE` 但我无法看到`exists=TRUE`控制没有进入内部。

有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T06:46:08.463

```
for (int i=0; i<[CustomeDateArray count]; i++)
  {
          if (([[CustomeDateArray objectAtIndex:1] isEqual:[newDateArray objectAtIndex:1]]) && ([[CustomeDateArray objectAtIndex:2] isEqual:[newDateArray objectAtIndex:2]]))        
                {
                    exists=TRUE;
                    NSLog(@"exists=TRUE");
                }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:49:59.783

好吧，我发现您的代码中存在一些问题：

1.  为什么你在 CustomDateArray（for 循环）中循环并且你没有使用索引“i”？（这与具体问题无关，但只需检查您的代码是否有错别字！）

2.  更具体到您的问题： NSArray 包含对象，并且 Obj-C 中的对象是指针，因此您的 "==" 只是比较指针。这意味着：

```
if([CustomDateArray objectAtIndex:1]==[CustomDateArray objectAtIndex:2]) ...
```

对应于：

```
id obj1 = [CustomDateArray objectAtIndex:1];
id obj2 = [CustomDateArray objectAtIndex:2];
if(obj1==obj2) ... 
```

仅当 obj1 和 obj2 指向相同的地址时，“if”才会返回 true，因此它们是完全相同的对象。但是如果您检查的目的是要知道两个日期是否相同，那么您应该使用 NSDate 特定的比较方法：

```
 NSDate *d1 = [CustomDateArray objectAtIndex:1];
NSDate *d2 = [CustomDateArray objectAtIndex:2];
if([d1 isEqualToDate:d2]) ... 
```

相反，如果对象是字符串，则应使用“isEqualToString:”方法。

# php - 在 IIS 中使用 PHP 时“调用未定义的 ..mssql_connect”？

> ID：11517220
> 
> 赞同：1
> 
> 时间：2012-07-17T06:39:58.500
> 
> 标签：php, sql

可能会问您如何使用 PHP 连接到 Microsoft SQL Server 2005 企业版。

我正在使用 Appserv 2.5.10（Apache 2.2.8、PHP 5.2.6）和 SQL Server 2005

在我从这个链接下载扩展后：

```
http://www.microsoft.com/en-us/download/details.aspx?id=20098 
```

通过添加这些行来启用 php.ini 文件。

```
extension=php_pdo.dll
extension=php_sqlsrv_52_ts_vc6.dll
extension=php_pdo_sqlsrv_52_ts_vc6.dll 
```

使用此代码重新启动 Apache 以进行连接

```
$link = mssql_connect($server, $user, $pass); 
```

浏览器中显示的错误是

> 致命错误：在第 12 行的 G:\AppServ\www\testmssql_connect.php 中调用未定义函数 mssql_connect()

谁能帮我 ？

注意：我使用的是 windows server 2003，但在 Microsoft Driver 3.0 for PHP 的操作系统支持列表中没有找到这个操作系统。这个问题是导致问题的原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:46:06.197

看看这个链接：

*   [PHP 致命错误：调用未定义函数 mssql_connect()](https://stackoverflow.com/questions/9986804/php-fatal-error-call-to-undefined-function-mssql-connect)

1) 检查你的 PHP.INI 文件`extension_dir`

2) 确保将 .dll 复制到该目录中（例如，复制到 .dll 中`C:\PHP\ext"`）。

3）创建一个虚拟页面来调用`phpinfo();`。在浏览器中显示页面。确保您看到“sqlsrv”条目。

'希望有帮助！

# android - sendKeys - 发送特殊字符

> ID：11517222
> 
> 赞同：2
> 
> 时间：2012-07-17T06:40:00.120
> 
> 标签：android

```
addressBar = (AutoCompleteTextView) mActivity.findViewById(package.R.id.addressBar);
TouchUtils.tapView(this, addressBar);

sendKeys("1");  //Works
sendKeys("G M A I L");  // Works - Result would be "gmail"
sendKeys("G M A I L . C O M");  // Doesn't work
sendKeys("{.}");  // Doesn't work
sendKeys("gmail")  // Doesn't work

sendKeys("G M A I L {.} C O M")  //Doesn't work 
```

我正在使用“InstrumentationTestCase2”编写 android 测试脚本。我实际上想发送密钥-“gmail.com”，但是无法发送特殊字符“。”（点）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T06:46:43.963

对于`'.'`（句点或点），您可以尝试`int`它的等效值。

像，

```
sendKeys(56); 
```

**来自 Android 文档**

```
public static final int KEYCODE_PERIOD

Key code constant: '.' key.
Constant Value: 56 (0x00000038) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-12T22:44:20.207

“键序列是包含 KeyEvent 中指定的键名称的字符串，没有 KEYCODE_ 前缀。” （发送密钥文档）

因此，您可以在 sendKeys 字符串中使用 NUMPAD_DOT。

例如

```
sendKeys("G M A I L NUMPAD_DOT C O M"); 
```

有关更多信息，请参阅：（[http://developer.android.com/reference/android/test/InstrumentationTestCase.html#sendKeys(java.lang.String)](http://developer.android.com/reference/android/test/InstrumentationTestCase.html#sendKeys(java.lang.String))）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T06:47:24.857

```
sendKeys(56); // for special character "." (Dot) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-29T13:43:57.803

您是否尝试过以下方法：

```
getInstrumentation().sendStringSync("Do.You@Love.IT???"); 
```

像魔术一样工作，让生活变得更简单！

# c# - 为什么数据矩阵编码需要纠错？

> ID：11517223
> 
> 赞同：1
> 
> 时间：2012-07-17T06:40:02.940
> 
> 标签：c#, visual-studio-2010, barcode, barcode-scanner

我正在研究一种数据矩阵编码技术，我研究了 ECC-200 编码方法，在 8x8 数据矩阵的 ECC-200 方法中，他们使用 8 位数据，其中 8 位 3 位用于数据，其余 5 位用于纠错。但是我想使用完整的 8 位数据。那么如何通过避免纠错码字来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-19T06:15:30.637

根据规范，DataMatrix 是 8x8 + 2 用于对齐和查找模式。所以它通常被称为10x10。无法更改可用于数据与纠错的位数。它们是固定的，不能像 QRCode 那样定制。

一个 10x10 的符号大小有 3 个数据码字和 5 个错误码字；这给出了 62.5% 的纠错率。你无法改变这一点。

小心不要被比特和代码字混淆。在 10x10（8x8 数据区域）中，3 个数据码字对应 6 个数值、3 个字母数字或 1 个字节。

您可以在此处找到更多信息：[http ://www.barcodephp.com/en/2d/datamatrix/technical](http://www.barcodephp.com/en/2d/datamatrix/technical)

您可以查看每种尺寸可以包含多少种字符。

# jquery - handsontable：使用 ajax 插入数据

> ID：11517226
> 
> 赞同：2
> 
> 时间：2012-07-17T06:40:07.853
> 
> 标签：jquery, json, handsontable

我找不到使用带有 jquery 的 $.ajax 函数在可动手做的表中插入数据的正确方法。是否有任何有用的教程或示例？

非常感谢！！

* * *

感谢您的示例，但我无法通过 json（使用 PHP::json_encode()）将 PHP 数组推送到 handsontable。我试了很多次，最后还是不行。。。

例如：我得到了一些带有行的数组：

```
<?php
        $row1 = array(1=>"value1",
        2=>"value2",
        3=>"value3",
        4=>"value4",
        5=>"value5");

    $row2 = array(1=>"value1",
        2=>"value2",
        3=>"value3",
        4=>"value4",
        5=>"value5");

    $row3 = ....... 
```

所以我尝试了：

```
$data = array($row1,$row2,$row...);
echo json_encode($data); 
```

但它根本不起作用......

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-17T10:49:14.173

下面的示例展示了如何使用 $.ajax 和 Handsontable 加载和保存数据：

```
var first = true;
$("#example6grid").handsontable({
  rows: 8,
  cols: 8,
  rowHeaders: true,
  colHeaders: true,
  minSpareCols: 1,
  minSpareRows: 1,
  contextMenu: true,
  onChange: function (change) {
    if (first) {
      first = false;
      return; //don't save this change
    }
    $.ajax({ //saves changes from Handsontable
      url: "save.php",
      dataType: "json",
      type: "POST",
      data: {"data": $("#example6grid").handsontable('getData')}, //returns full array of grid data
      //data: change, //contains only information about changed cells
      success: function (data) {
        console.log("saved", data);
      },
      error: function (data) {
        console.log("error", data);
      }
    });
  }
});

$.ajax({ //loads data to Handsontable
  url: 'source.json',
  dataType: 'json',
  type: 'GET',
  success: function(res){
    $("#example6grid").handsontable("loadData", res.data);
  }
}); 
```

上面的代码假定`<div id="example6grid" class="dataTable"></div>`存在，并且该文件`source.json`包含以下 JSON：

```
{
  "data": [
    ["", "Kia", "Nissan", "Toyota", "Honda"],
    ["2008", 10, 11, 12, 13],
    ["2009", 20, 11, 14, 13],
    ["2010", 30, 15, 12, 13]
  ]
} 
```

# java - 为什么 SQLQuery setParameter 不能使用 LIKE？

> ID：11517227
> 
> 赞同：4
> 
> 时间：2012-07-17T06:40:16.223
> 
> 标签：java, hibernate

我在这里：

```
Session session = getSession();
SQLQuery query = session.createSQLQuery("SELECT * FROM PERSON WHERE NAME LIKE '%?%'");
query.setParameter(0, personName); 
```

我收到以下错误：

> java.lang.IndexOutOfBoundsException：记住序数参数是从 1 开始的！

但是当我尝试时：

```
Session session = getSession();
SQLQuery query = session.createSQLQuery("SELECT * FROM PERSON WHERE NAME = ?");
query.setParameter(0, personName); 
```

它的工作。

我需要使用 LIKE。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-17T06:41:36.397

你可以这样做：

```
Session session = getSession();
SQLQuery query = session.createSQLQuery("SELECT * FROM PERSON WHERE NAME LIKE ?");
query.setParameter(0, "%" + personName + "%"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T06:42:50.857

用户标准为

```
Criteria criteria = getSession().createCriteria(Person.class);
criteria.add(Restrictions.like("name", personName, MatchMode.ANYWHERE));
criteria.list(); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-17T06:56:36.963

```
String strQuery = "SELECT * FROM PERSON WHERE upper(NAME) LIKE '%"
                + personName.trim().toUpperCase()  + "%'";

Session session = getSession();

SQLQuery query = session.createSQLQuery(strQuery ); 
```

# tridion - 使用事件处理程序覆盖 SDL Tridion 组件的内容

> ID：11517228
> 
> 赞同：6
> 
> 时间：2012-07-17T06:40:21.230
> 
> 标签：tridion, tridion-2011

如何使用事件处理程序覆盖组件的字段值？当我有下面的代码片段时，保存组件时没有错误。但是事件处理程序所做的内容更改不会反映在组件中。我希望单值字段“大小”具有“blabla ...”作为值。

```
// Call to Subscribe the events
EventSystem.Subscribe<Component, SaveEventArgs>(ComponentSaveInitiatedHandler,
                                                EventPhases.Initiated); 

private void ComponentSaveInitiatedHandler(Component component, 
                                          SaveEventArgs args, EventPhases phases)
{
    if (component.Schema.Title == "XYZ")
    {
        ItemFields Fields = new ItemFields(component.Content, component.Schema);
        SingleLineTextField textField = (SingleLineTextField)Fields["size"];
        textField.Value = "blabla...";
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-17T07:10:06.350

您需要使用 XML 字符串更新 Content 属性，如下所示：

```
ItemFields Fields = new ItemFields(component.Content, component.Schema);
SingleLineTextField textField = (SingleLineTextField)Fields["size"];
textField.Value = "blabla...";
component.Content = Fields.ToXml(); 
```

# python - 如何配置 Tkinter 列表框以禁用保持选定项目突出显示的状态

> ID：11517229
> 
> 赞同：3
> 
> 时间：2012-07-17T06:40:32.183
> 
> 标签：python, listbox, tkinter

我在配置列表框小部件时遇到问题，即使选择（以编程方式）设置为`DISABLED`状态，选择仍然突出显示。下面的代码显示了问题：

```
from Tkinter import *
master = Tk()
listbox = Listbox(master)
listbox.pack()
listbox.insert(END, "Text1")
listbox.insert(END, "Text2")
listbox.insert(END, "Text3")
listbox.selection_set(first=0, last=None)
listbox.configure(exportselection=False)
listbox.configure(state=DISABLED) 
```

现在，当我将状态更改为 时`NORMAL`，所选项目被突出显示。有没有办法我可以禁用小部件（即鼠标点击无响应）但保持所选对象保持突出显示？

意图：我想在我正在创建的向导应用程序上使用这个小部件。我希望这个小部件指示用户选择的当前页面/向导编号。我可以使用其他任何小部件来代替它吗？（标签可能吗？）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T15:13:16.523

您可以保持启用状态，但删除或覆盖所有默认绑定；这会给你你想要的效果。

您可以通过删除“列表框”绑定标签或添加您自己的覆盖默认绑定的绑定来删除所有默认绑定。

以下是如何设置绑定标签，以便删除所有标准列表框绑定：

```
listbox.bindtags((listbox, master, "all")) 
```

# objective-c - 完成操作后如何隐藏或删除 UIwebview？

> ID：11517234
> 
> 赞同：0
> 
> 时间：2012-07-17T06:40:51.527
> 
> 标签：objective-c, ios, cocoa-touch, uiwebview

我有两个`IBActions`。在一个动作中，我正在加载`UIWebview`以显示`PDF`我的包中的文件。单击另一个按钮时，应该将整个按钮`UIWebView`从超级视图中删除。

我试过使用：

`[webview removeFromSuperview];`

和

`webview.hidden=YES;`

这些都不起作用。他们隐藏了我`UIWebView`一秒钟，但它又出现了。

是我以编程方式创建了 UIWEBVIEW 并在界面文件中添加了 UIWebviewWDelegate。但是在初始化 UIWebView 时我没有设置 webview.delegate=self; 是问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T08:55:00.043

您是否已连接`Referencing Outlet`到*Interface Builder*`@property`中的类？

 *如果您不这样做，**这可能是**您无法访问`UIWebView`源代码的一个可能原因。为了你，你应该检查 的指针`webview`，如果它是`nil`长期的，有 100% 你没有相互连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-28T09:58:45.143

我试图做这样的事情。对我有用的解决方案是将 UIview 对象添加为子视图，以使用 webview 的框架进行查看并将其置于顶部......当你想让 uiwebview 可见时，只需从超级视图中删除该 uiview 对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-08T14:46:01.920

好的，这似乎是个老问题，但我也可以看到有近千人查看它，并且可能有同样的问题。所以我对将来有同样问题的人的回答。我只是在做一些微笑的事情，并想在某个动作时隐藏 web 视图。我试过以下

```
-(void)viewDidLoad
{
    [super viewDidLoad];
    process = [ProcessingData new];
    [DetailView setHidden:YES];
    DetailView.hidden = YES;
    [DetailView removeFromSuperview];
    self.DetailView = nil;
} 
```

但是它仍然无法正常工作，因为我在 WebView 中几乎没有标签在视图加载时不会消失，当我查看“StoryBoard”时，我注意到标签不是

![在此处输入图像描述](../Images/b0c0ec3aa13e00dd5ccab7c68211e645.png)

你能看到 WebView 下诽谤的层次结构吗，它们是主视图的子视图，它们假设与表视图层次结构相同

所以在可能的情况下 WebView 被隐藏但标签不是因为它们不是 Webview 的一部分。

如何解决这个问题，如果你真的不需要 web 视图使用普通的，否则你必须隐藏该视图中的所有标签。希望这有帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-19T13:30:40.853

我不知道 obj-c，但仍然发布了一个快速为我工作的解决方案。基本上你必须使用主线程来删除 webview。

```
DispatchQueue.main.async {
            print("\nremoving webview\n")
            self.myWebView.stringByEvaluatingJavaScript(from: "document.body.innerHTML='';")
            self.myWebView.removeFromSuperview()
        } 
```*

# iphone - 如何将 XML 数据转换为 NSMutableArray

> ID：11517235
> 
> 赞同：0
> 
> 时间：2012-07-17T06:40:54.617
> 
> 标签：iphone, xml, nsmutablearray

我通过`NSData`对象从服务器接收 XML 数据，我想将此数据转换为`NSMutableArray`对象。

如何从`NSData`对象转换数据（知道应该有不同的对象传输到`NSMutableArray`- UIImages ，CLLocation2D 对象，字符串，...）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:49:30.067

给你个[网址](http://www.google.com.hk/url?sa=t&rct=j&q=NSXMLParser&source=web&cd=13&ved=0CFoQFjACOAo&url=http://wiki.cs.unh.edu/wiki/index.php/Parsing_XML_data_with_NSXMLParser&ei=ixgFUKLNKoSfiAf4w-HQCQ&usg=AFQjCNEJHUq_4l9YP3SJanINeKYVDT2HZg&cad=rjt)，自己查，很容易解决。

# python - 如何使用灵活性以编程方式创建内容项/容器？

> ID：11517236
> 
> 赞同：1
> 
> 时间：2012-07-17T06:41:08.407
> 
> 标签：python, plone, dexterity

我已经阅读了专门关于在灵巧下操纵物体的手册。[http://plone.org/products/dexterity/documentation/manual/developer-manual/reference/manipulating-content-objects/](http://plone.org/products/dexterity/documentation/manual/developer-manual/reference/manipulating-content-objects/)

我想要做的是以编程方式将内容（项目/容器）添加到当前正在创建的容器中。更具体地说，我正在创建一个容器/文件夹，一旦创建了这个容器，它将自动在父文件夹（手动新创建的那个）下创建项目/文件夹。

我尝试使用类似的代码 createContentInContainer(folder, 'content_type_name', title=u"title_here")，但我的实例出现错误，提示“文件夹”未定义。我想问一下这个片段如何插入到内容类型中？它是在类构造函数中定义的函数/方法中，还是最初应该如何声明/定义“文件夹”？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:09:39.147

答案似乎很简单：你`folder`必须是`existing instance`一个文件夹类型。例如：

```
new_id = plonesite.invokeFactory('Folder', 'some_id')
folder = plonesite[new_id]

from plone.dexterity.utils import createContentInContainer
createContentInContainer(folder, 'example.type', title=u"Foo") 
```

高温高压

# c# - 获取上次备份活动目录的时间

> ID：11517255
> 
> 赞同：5
> 
> 时间：2012-07-17T06:42:59.677
> 
> 标签：c#, active-directory

有谁知道我们怎么能找到

上次使用 C# 备份活动目录的时间是什么时候？

据我所知，当我们运行这个命令 repadmin /showbackup

它会向我们展示完整的细节。我尝试使用 C# 获取 dsa 签名的值，但即使该值也没有多大意义，并且将帮助我们获得正确的信息。

比如从哪个域控制器启动备份以及何时启动？

任何人都知道如何使用 C# 获取活动目录的最后一个备份详细信息？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T13:15:23.747

我多次发现并非所有事情都可以使用 WMI 完成，下面的代码应该运行必要的命令来显示您请求的信息，然后将其重定向到标准输出。

```
System.Diagnostics.ProcessStartInfo PSI =
new System.Diagnostics.ProcessStartInfo("cmd", "/c " + "Repadmin.exe /showbackup");

PSI.RedirectStandardOutput = true;
PSI.UseShellExecute = false;

PSI.CreateNoWindow = true;
System.Diagnostics.Process proc = new System.Diagnostics.Process();
proc.StartInfo = PSI;
proc.Start();
string result = proc.StandardOutput.ReadToEnd();
Console.WriteLine(result);
      }
      catch (Exception e)
      {
      Messagebox.Show(e.InnerException);
      }
} 
```

# python - 无法从脚本访问数据库

> ID：11517258
> 
> 赞同：1
> 
> 时间：2012-07-17T06:43:12.107
> 
> 标签：python, sqlalchemy, flask, flask-sqlalchemy

我正在尝试从脚本中的数据库中的表中删除一行。也许这不是最简单的方法，但我认为它应该是可能的。我正在尝试以下操作：

```
from stemewebapp import app
from stemewebapp.models import Job, db
import sys

#
# Check arguments
#
if len(sys.argv) != 2:
    print 'USAGE: %s <job uuid>' % (sys.argv[0])
    sys.exit(-1)
job_uuid = sys.argv[1]

#
# Do everything in context
#
with app.test_request_context():

    #
    # Get job
    #
    query = db.session.query(Job).filter_by(uuid=job_uuid)
    #query = Job.query.filter_by(uuid=job_uuid)
    if 1 != query.count():
        raise RuntimeError('Got more than one job by UUID.')

    #
    # Delete from database
    #
    db.session.delete(query.first())
    db.session.commit() 
```

我收到以下错误：

```
OperationalError: (OperationalError) no such table: job u'SELECT count(*) AS count_1 \nFROM (SELECT job.id AS job_id, job.creation_date AS job_creation_date, job.name AS job_name, job.uuid AS job_uuid, job.pid AS job_pid, job.completed AS job_completed \nFROM job \nWHERE job.uuid = ?) AS anon_1' ('743d952f-9cfc-4efc-bfa5-58da67c4a131',) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T09:08:46.250

这不是正确的方法。

Sqlalchemy`one`在查询对象上提供带有名称的方法。

```
 try:
         obj = db.session.query(Job).filter_by(uuid=job_uuuid).one()
     except NoResultFound:
         raise
     except MultipleResultsFound:
         raise RuntimeError('Got more than one job by UUID.')
     else:  
         db.session.delete(obj)
         db.session.commit() 
```

One() 仅获取一个结果，如果有多个结果则引发该异常。

错误提示表不存在。检查您是否访问了错误的数据库，或者您忘记了初始化数据库。当前信息不足以帮助您。

# android - 如何使用内置的 android SIP 堆栈转移 SIP 呼叫

> ID：11517264
> 
> 赞同：7
> 
> 时间：2012-07-17T06:43:40.327
> 
> 标签：android, sip

我想知道如何使用 android SIP 堆栈转移 SIP 呼叫。

我查看了 liblinphone，他们在 LinphoneCore 中有一个名为：（
`transferCall(LinphoneCall call, String referTo)`我没有尝试过使用，我只是看了一下），但我在API `liblinphone`中找不到类似的东西。`android.net.sip`

有任何想法吗？

# iphone - iPhone App Binary 拒绝应用内购买

> ID：11517265
> 
> 赞同：0
> 
> 时间：2012-07-17T06:43:45.897
> 
> 标签：iphone, ios, app-store, in-app-purchase

我已经提交了一个带有应用内购买的 iphone 应用但我的二进制文件被拒绝了，我收到了来自苹果的以下消息

来自苹果。缺少 IAP

我们无法完成对您应用的审核，因为您的一项或多项应用内购买尚未提交审核。

请务必采取行动并提交您的应用内购买并在 iTunes Connect 中上传新的二进制文件。在 iTunes Connect 开发人员指南中了解有关提交应用内购买以供审核的更多信息。

一旦您提交了应用内购买并上传了新的二进制文件，我们就可以继续您的审核。

请告诉我如何解决这个问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:48:27.727

您需要提交应用内购买，`itunesconnect.apple.com->manage application-> your application` 您可以在这里找到如图所示![在此处输入图像描述](../Images/7f5558d8a1258553e761f9fb86d15ed3.png)

现在转到管理应用内购买并单击新建。创建后提供您的产品 ID 和 IAP 类型，`waiting for review`然后再次提交您的二进制文件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T06:48:09.737

在您的 iTunes Connect 帐户中，转到您的应用程序页面并单击“管理应用内购买”，然后添加应用内购买并提交以供审核。

![在此处输入图像描述](../Images/94d2eefa212e7e8ca9372cb178c97d2f.png)

![在此处输入图像描述](../Images/fe326c53e6b3bc54cf01b5601ac408cf.png)

# c# - 使用 C# 将文本文件中的每一行读入双精度或整数数组

> ID：11517268
> 
> 赞同：1
> 
> 时间：2012-07-17T06:43:57.573
> 
> 标签：c#, arrays

假设我有一个包含如下数据的文本文件，我想读取第一行并将元素存储在一个数组中。读取第二行并存储在第二个数组中，依此类推。稍后我将对数组进行一些操作。你能帮我在 C# 中做到这一点吗？

**输入文本文件：**

5,7,3,6,9,8,3,5,7

5,6,8,3,4,5

6,4,3,2,65,8,6,3,3,5,7,4

4,5,6,78,9,4,2,5,6

***我正在尝试的代码是：***

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.IO;

namespace ReadFile
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        static void Main(string[] args)
        {
            TextReader tr = new StreamReader("Data.txt");
            // write a line of text to the file
            string word = tr.ReadLine();
            //now split this line into words
            string[] val = word.Split(new Char[] { ',' });
        }
    }

} 
```

***如果我使用上述技术，我可以得到数组 val 中的第一行。有没有办法为所有行循环它？***

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T06:50:43.530

[File.ReadAllLines](http://msdn.microsoft.com/en-us/library/system.io.file.readalllines.aspx)将帮助您从文件中读取所有行作为字符串数组。
[String.Split](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)将帮助您将线条分割成几部分。
[Int.Parse](http://msdn.microsoft.com/en-us/library/system.int32.parse.aspx)将帮助您将字符串转换为 int（double 具有类似的方法）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:02:57.373

好的，既然您是初学者，我建议您集中注意力。首先，您的消费者是否总是需要所有的线路，或者它可以在某个时候停止？如果是这样，使用[yield](http://msdn.microsoft.com/en-us/library/9k7k7cf0.aspx)策略将结果一一返回。在任何情况下，您都可以使用[StreamReader](http://msdn.microsoft.com/en-us/library/system.io.streamreader.aspx)逐行读取，并在使用分隔符[拆分字符串](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)后使用[double.TryParse(...)](http://msdn.microsoft.com/it-it/library/994c0zb1.aspx)或[int.TryParse()](http://msdn.microsoft.com/it-it/library/f02979c7.aspx)。请注意分隔符可以更改的事实，因此请以某种可配置性使用它，并且在双精度的情况下，确保您的代码即使在配置了不同小数点的机器上也能正常工作。如果您确定您的 csv 始终用作小数点分隔符，请指定`'.'`

```
double.TryParse("",System.Globalization.CultureInfo.InvariantCulture); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:46:09.690

我分两部分介绍了以下代码，只是为了分步向您展示。

## 第 1 节

这段代码只是为了表明您只需要遍历所有行并将每行的字符串数字存储在 List 中。

第 1 节

```
static void Main(string[] args)
{
     List<string[]> allLines = new List<string[]>();

     TextReader tr = new StreamReader("Data.txt");
     string word = tr.ReadLine();

     // write a line of text to the file
     while ( word !=  null ) {

         //now split this line into words
         string[] vals = word.Split(new Char[] { ',' });

         //Add this line into allLines
         allLines.Add(vals);

         //Now read the next line
         word = tr.ReadLine();
     }
} 
```

* * *

## 第 2 节

本节将为您提供结果`int`。

```
static void Main(string[] args)
{
     //A list of arrays of integers
     //A single array will have numbers from a single line
     List<int[]> allNumbers = new List<int[]>();

     TextReader tr = new StreamReader("Data.txt");
     string word = tr.ReadLine();

     // write a line of text to the file
     while ( word !=  null ) {

         //now split this line into words
         string[] vals = word.Split(new Char[] { ',' });
         int[] intVals = new int[vals.Length];

         for ( int i = 0; i < vals.Length; i++) {
             Int32.TryParse(vals[i], out intVals[i]);
         }

         //Add this array of integers into allNumbers
         allNumbers.Add(intVals);

         //Now read the next line
         word = tr.ReadLine();
     }
} 
```

注意：我没有编译或测试上面的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T06:48:15.353

看到这行代码：

```
List<List<int>> numbers = new List<List<int>>();
foreach (string line in File.ReadAllLines(""))
{
    var list = new List<int>();
    foreach (string s in line.Split(new[]{',', ' '}, 
                                    StringSplitOptions.RemoveEmptyEntries))
    {
        int i;
        if(int.TryParse(s, out i))
        {
            list.Add(i);
        }
    }
    numbers.Add(list);
}

var specialNumber = numbers[3][4];        // gives line 3 number 4
var specialLine = numbers[2].ToArray();   //  gives an array of numbers of line 2 
```

**描述：** 我使用了这个有用的 Generic：

*   [`List`](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx): 表示可以通过索引访问的对象的强类型列表

以及这些有用的类：

*   [`File.ReadAllLines`](http://msdn.microsoft.com/en-us/library/system.io.file.readalllines.aspx): 打开一个文本文件，将文件的所有行读入一个字符串数组
*   [`String.Split`](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)：返回一个字符串数组，其中包含此实例中由指定字符串或 Unicode 字符数组的元素分隔的子字符串。
*   [`Int.TryParse`](http://msdn.microsoft.com/en-us/library/f02979c7)：将数字的字符串表示形式转换为其等效的 32 位有符号整数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-03T06:56:48.123

我想到了。谢谢大家的时间！

```
private void ReadFile()
    {
        var lines = File.ReadLines("Data.csv");
        var numbers = new List<List<double>>();
        var separators = new[] { ',', ' ' };
        /*System.Threading.Tasks.*/
        Parallel.ForEach(lines, line =>
        {
            var list = new List<double>();
            foreach (var s in line.Split(separators, StringSplitOptions.RemoveEmptyEntries))
            {
                double i;

                if (double.TryParse(s, out i))
                {
                    list.Add(i);
                }
            }

            lock (numbers)
            {
                numbers.Add(list);
            }
        }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-17T06:53:39.410

尝试这个

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Xml;
using System.IO;
using System.Xml.Linq;
using System.Diagnostics;

namespace ConsoleApplication5
{
    class Program
    {
        static void Main(string[] args)
        {

            List<int[]> arrays = new List<int[]>();

            int counter = 0;
            string line;

            // Read the file
            System.IO.StreamReader file =
               new System.IO.StreamReader("c:\\temp\\test.txt");
            while ((line = file.ReadLine()) != null)
            {
                // split the line into a string array on , separator
                string[] splitLine = line.ToString().Split(',');

                // if our split isnt null and has a positive length
                if (splitLine != null && splitLine.Length > 0)
                {

                    // create a lineArray the same size as our new string[]
                    int[] lineArray = new int[splitLine.Length];

                    int posCounter = 0;

                    foreach (string splitValue in splitLine)
                    {
                        // loop through each value in the split, try and convert
                        // it into an int and push it into the array
                        try
                        {
                            lineArray[posCounter] = Int32.Parse(splitValue);
                        }
                        catch { }
                        posCounter++;
                    }

                    // if our lineArray has a positive length then at it to our
                    // list of arrays for processing later.
                    if (lineArray.Length > 0)
                    {
                        arrays.Add(lineArray);
                    }
                }
                counter++;
            }

            file.Close();

            // go through the List<int[]> and print to screen
            foreach (int[] row in arrays)
            {
                foreach (int rowCol in row)
                {
                    Console.Write(rowCol + ",");
                }
                Console.WriteLine();
            }

            // Suspend the screen.
            Console.ReadLine();
        }
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-17T07:02:02.060

大致像这样的东西会起作用：

```
StreamReader reader = new (File.OpenRead(@"YourFile.txt"));
List<string> LstIntegers = new List<string>();

            while (!reader.EndOfStream)
            {
                var line = reader.ReadLine();
                //values is actually a string array.
                var values = line.Split(',');
                //add the entire array fetched into string List
        LstIntegers.AddRange(values);   
            }
          // important to close the reader. You can also use using statement for reader. It 
          // will close the reader automatically when reading finishes.
            reader.Close();

   // You can then further manipulate it like below, you can also use int.Parse or int.TryParse:
   foreach (var v in LstIntegers)
   {
      // use int.TryParse if there is a chance that a non-int is read.
      int someNum = Convert.ToInt32(v);

   } 
```

# python - Python：在限制性环境中读取/存储配置文件？

> ID：11517269
> 
> 赞同：0
> 
> 时间：2012-07-17T06:44:07.050
> 
> 标签：python, configuration-files

这是场景：

我正在编写一个将在 Telit HE910 GSM 模块中运行的程序，该模块具有板载 python 解释器。我希望我的程序能够在 GSM 模块上的配置文件中读取和存储一些参数。该文件有时可能会被传输到单独的机器中进行查看和更改，因此它应该在多个平台上都是机器可读和可写的。

到目前为止，这个问题有多种解决方案。这是踢球者：

*   GSM 模块没有任何用于解析/编写配置文件的 python 模块（所以我不能简单地使用`import yaml`, `import json`, `import configparser`, 甚至`import csv`）
*   GSM 模块不允许创建子目录。根据我有限的理解，这使我无法简单地将 PyYAML python 模块的内容转储到 GSM 模块中并从我的程序中调用它。

[我在这里](https://stackoverflow.com/questions/1112618/import-python-package-from-local-directory-into-interpreter)发现了一个类似的问题 ，但我什至不知道我在 GSM 模块的文件系统中的哪个位置。`import os`似乎不起作用，这很奇怪（与文档相反）。

我知道我可以使用 Python 文件来存储一些只读配置，但我也希望能够写入配置文件（重新设计系统以避免这种情况确实是不可取的）。

我认为到目前为止我最好的选择似乎是自己编写一个简单的 csv 解析器/编写器，除非有人有更好的想法（或者知道如何在没有任何子目录的情况下使用 Python 模块）。

PS：下面的文档有一个支持的模块列表。但是，似乎没有任何与配置相关的模块可用。

*   GSM模块主页：[http ://www.telit.com/en/products/umts-hsdpa.php?p_ac=show&p=108](http://www.telit.com/en/products/umts-hsdpa.php?p_ac=show&p=108)
*   Python 解释器手册：[http ://www.telit.com/module/infopool/download.php?id=4378](http://www.telit.com/module/infopool/download.php?id=4378)

**编辑：**我应该提到，配置文件需要从 ac# .NET 应用程序读取/写入，而不是桌面上的另一个 python 解释器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:52:22.390

你有`_ast`（§5.2.36），所以应该可以重新实现[`ast.literal_eval()`](https://stackoverflow.com/questions/4388626/python-safe-eval-string-to-bool-int-float-none-string). 到那时，阅读和写作就变得微不足道了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:39:48.120

我不建议在正常的 Python 使用中使用它，但可能的选项是`marshal`您发布的手册的 5.2.34 中提到的模块，以及此处的描述/限制/警告：http: [//docs.python.org/library/元帅.html](http://docs.python.org/library/marshal.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T15:17:56.870

为什么不直接打开一个 txt 文件并将所有信息存储为文本文件？我为您的模块阅读了简易脚本手册，有一个 posix 模块支持打开、关闭、取消链接等方法。

# django - Django 自定义 Logger + Djcelery

> ID：11517270
> 
> 赞同：0
> 
> 时间：2012-07-17T06:44:10.040
> 
> 标签：django, celery, django-celery, amazon-dynamodb

我正在尝试使用 Django 自定义记录器和 Celery 任务的组合来捕获某些应用程序日志消息并将它们异步转储到 DynamoDB 中。我创建了一个 Django Celery 任务，它接收一条日志消息并将其异步传输到 DynamoDB。我试图从我的自定义记录器中调用这个 celery 任务，以将其异步传输到 DynamoDB。

但是，Django 自定义记录器不允许我导入：

```
from celery.task import task, Task, PeriodicTask, periodic_task 
```

我的服务器因以下错误而崩溃：

```
ValueError: Unable to configure handler 'custom_handler': Cannot resolve 'myApp.analytics.tasks.LogHandler': cannot import name cache 
```

我知道如果自定义记录器文件包含 settings.py，[Django Logger 文档](https://docs.djangoproject.com/en/dev/topics/logging/#topic-logging-parts-loggers)会警告循环导入，但我确定不是这种情况。但它仍然给我与循环导入相同的错误。

我做错了什么还是有任何其他方法可以使用 Django 自定义记录器和 DjCelery 实现到 DynamoDB 的异步数据传输？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T14:56:01.813

我找到了解决方案。

问题是“如果您的 settings.py 指定了一个自定义处理程序类，并且定义该类的文件也导入了 settings.py，则会发生循环导入。”

为了解决这个问题，我们需要在方法体而不是定义类的文件中进行导入。

这是我的自定义 LogHandler：

```
import logging
#Do not import settings here, as this would lead to circular import.

#This custom log handler parses the message and inserts the entry to the DynamoDB tables.
 class LogHandler(logging.Handler):
   def __init__(self):
    logging.Handler.__init__(self)
    self.report_logger = logging.getLogger('reporting')
    self.report_logger.setLevel(logging.INFO)

   def emit(self, record):
    #Submit the task to "reporting" queue to be picked up and processed by the worker lazily.
    #myApp.analytics.tasks imports celery.task
    from myApp.analytics import tasks
    tasks.push_row_to_dynamodb.apply_async(args=[record])
    return 
```

希望它可以帮助某人。

# c - 使用 valgrind 和 gdb 跟踪变量变化

> ID：11517271
> 
> 赞同：2
> 
> 时间：2012-07-17T06:44:23.940
> 
> 标签：c, memory-leaks, gdb, valgrind

我有一个程序在执行 > 5 小时后发出 SIGABRT。这很可能是由 valgrind 检查后的内存泄漏引起的，但我有问题根据 valgrind 报告（它只包含地址和???）来追踪到底是哪个变量导致了这个问题。

我尝试使用 valgrind 和 gdb 来逐步完成。但是，由于需要 5 小时才能到达泄漏点（循环 428 轮之后），我想设置一个断点，比如说，当 loop=428 时，然后进入代码。我怎样才能做到这一点？

根据下面的一个简单程序，我可以知道，

a）如何跟踪变量'a'中的值变化？

b) 当loop = 428时如何设置断点？

* * *

```
typedef struct data_attr {
   int a[2500];
}stdata;

typedef struct pcfg{
    stdata *data;
}stConfig;

int funcA(stConfig* pt){  

    int loop = 0;

    while (loop < NUM_NODE){  
        pt->data->a[0] = 1000;
        pt->data->a[0] = 1001;
        loop++;
    }
    return 0;
}

int main(){
    stConfig *p;

    p = (stConfig*) malloc(sizeof(stConfig));
    p->data = (stdata*) malloc (sizeof(stdata));

    funcA(p);

    free(p->data);
    free (p);

    return 0;
} 
```

* * *

我在 ubuntu 10.04 上使用 valgrind 3.7

@valgrind 终端，

> valgrind -v --vgdb=yes --vgdb-error=0 --tool=memcheck --leak-check=full --leak-resolution=high --num-callers=40 --track-origins=yes --日志文件=mr3m1n2500_valgrind_0717_1155.txt ./pt m >& mr3m1n2500_logcheck_0717_1155.txt

@gdb 终端我试图获取 'p' 的地址，但它返回 void，为什么？

```
> gdb ./pt
(gdb) target remote | vgdb
Remote debugging using | vgdb
relaying data between gdb and process 12857
Reading symbols from /lib/ld-linux.so.2...Reading symbols from /usr/lib/debug/lib/ld-2.11.1.so...done.
done.
Loaded symbols for /lib/ld-linux.so.2
[Switching to Thread 12857]
0x04000850 in _start () from /lib/ld-linux.so.2
(gdb) p $p
$1 = void
(gdb) bt 10
#0  0x04000850 in _start () from /lib/ld-linux.so.2 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T09:01:05.267

1.  要跟踪变量值的变化，您可以在该变量上设置观察点。

    对于您的情况，请使用：`watch p->data->a[index]`

2.  要在所需条件下中断，您可以使用 break`break if loop_counter==428`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T08:51:04.353

从`help break`GDB 中：

```
(gdb) 帮助破解
在指定的行或函数处设置断点。
中断 [位置] [线程 THREADNUM] [如果条件]
LOCATION 可以是行号、函数名或“*”和地址。
如果指定了行号，则在该行的代码开始处中断。
如果指定了函数，则在该函数的代码开始处中断。
如果指定了地址，则在该确切地址处中断。
如果没有 LOCATION，则使用所选堆栈帧的当前执行地址。
这对于在返回堆栈帧时中断很有用。

THREADNUM 是来自“信息线程”的数字。
CONDITION 是一个布尔表达式。

允许在一个地方设置多个断点，如果有条件的话很有用。

执行“帮助断点”以获取有关处理断点的其他命令的信息。

```

要在条件上设置断点`break if condition`，请在您的情况下使用 ,`break if loop_counter == 428`或类似的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T08:56:10.263

对于您的第一个问题，如何跟踪变量“a”中的值变化？请使用“看”，

```
watch [-l|-location] expr [thread threadnum] [mask maskvalue] 
```

为表达式设置观察点。当程序写入表达式 expr 并且其值发生变化时，gdb 将中断。此命令最简单（也是最流行）的用法是查看单个变量的值：

```
 (gdb) watch foo 
```

Joachim Pileborg 有你第二个问题的答案。

对于第三个问题，您需要在该行设置一个中断

```
 p->data = (stdata*) malloc (sizeof(stdata)); 
```

然后尝试打印“p”的值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T08:15:16.220

a）如果可以执行以下操作，则设置该循环的断点：

```
if(loop == 428)
    int nop = 0; 
```

然后为 int nop = 0 行设置断点。像这样，程序仅在执行该行时停止，这发生在循环 428 中。

b）我不确定这个。您在哪里尝试检查“p”的值？

# html - html选择默认

> ID：11517275
> 
> 赞同：0
> 
> 时间：2012-07-17T06:44:41.813
> 
> 标签：html

在 html 标签中，有没有类似的东西

```
<select default="someValue" ... > 
```

或者

指定加载页面时选择的值？我无法访问单个选项，所以

```
<option value="" selected> ... 
```

对我不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:46:41.877

```
<option value="something" selected="selected"> 
```

是唯一的*html*方式。但是你可以用[jQuery](http://jquery.com/)来做到这一点，例如给你的选择一个 ID`<select id="mySelect">`

和

```
$(document).ready(function() {
    $("#mySelect option[value='someValue']").attr('selected', 'selected');
}); 
```

如果您不想使用 jQuery，也有一个[纯 javascript 解决方案](https://stackoverflow.com/a/149620/180174)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:52:02.130

```
 <select id="Select1" >
           <option value="x" selected="selected">x</option>
           <option value="y">Y</option>
  </select> 
```

# mysql - 具有连接和分组依据的复杂选择查询

> ID：11517278
> 
> 赞同：0
> 
> 时间：2012-07-17T06:45:04.190
> 
> 标签：mysql, database

我有两个 mysql 表，我想做一个选择查询：我的目标是为某个订阅者计算他从当前时间开始的最后 7 天的积分。第一个表为每个订阅者显示他点击来自内容 id 1 2 或 3 的特定内容的时间。他可能在某一天没有内容点击，因此他不会在这一天获得积分。

![在此处输入图像描述](../Images/7fb19b14e15624a620890adb63462dee.png)

![在此处输入图像描述](../Images/1ef69239191f7029510c5f2891ef185c.png)

这些表格显示在这些图片中。我的选择查询不完整：

```
 SELECT SUM( points ) AS POINT, DAY FROM
 (SELECT content_hits.content_id, COUNT( * ) * points AS points, 
DATE_FORMAT( hit_time,  "%d-%m-%Y" ) AS  DAY 
FROM content_hits JOIN content 
WHERE content_hits.content_id = content.content_id AND subscriber_id =1
 AND DATE_FORMAT( hit_time,  "%Y-%m-%d" ) > ( CURDATE( ) - INTERVAL 7 DAY )
 GROUP BY content_hits.content_id, DAY) AS tm 
GROUP BY DAY 
ORDER BY DAY DESC 
```

结果如下图所示： ![在此处输入图像描述](../Images/fff8b2a59e9943b241bcd9747b6ff195.png)

我预计这些天的计数为零：17-7-2102 16-7-2012 15-7-2012 14-7-2012 和 12-7-2012。有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:16:21.977

需要创建用于左连接的日历表

```
CREATE TABLE ints (i INTEGER);
INSERT INTO ints VALUES (0), (1), (2), (3), (4), (5), (6), (7), (8), (9); 
```

将日历表左连接到您的查询。

```
 SELECT cal.date,COALESCE(a.point,0) as point
 FROM (
    SELECT DATE_FORMAT(CURDATE() + INTERVAL a.i * 10 - b.i DAY,"%Y-%m-%d") as date
    FROM ints a JOIN ints b
    ORDER BY a.i * 10 - b.i
 ) cal LEFT JOIN 
 (SELECT SUM( points ) AS POINT, DAY FROM
  (SELECT content_hits.content_id, COUNT( * ) * points AS points, 
    DATE_FORMAT( hit_time,  "%Y-%m-%d" ) AS  DAY 
   FROM content_hits JOIN content 
   WHERE content_hits.content_id = content.content_id AND subscriber_id =1
     AND DATE_FORMAT( hit_time,  "%Y-%m-%d" ) > ( CURDATE( ) - INTERVAL 7 DAY )
   GROUP BY content_hits.content_id, DAY) AS tm 
   GROUP BY DAY 
 )a
 ON cal.date = a.day
 WHERE cal.date BETWEEN CURDATE( ) - INTERVAL 7 DAY AND CURDATE()
 ORDER BY cal.date desc; 
```

[SQL 演示](http://sqlfiddle.com/#!2/83cbb/35)在这里。

# javascript - 是否有类似 initComponent 的 Ext.create 方法？

> ID：11517280
> 
> 赞同：1
> 
> 时间：2012-07-17T06:45:38.053
> 
> 标签：javascript, extjs, extjs4.1

**当我使用Ext.create("....")**时，我想做一些初始化。该对象既简单又小，我不想定义它，但它需要一些来自 mixin 的方法（在调用组件创建之前）......我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T18:21:06.167

听起来您正在按照以下方式做一些事情：

```
Ext.create('Ext.panel.Panel', {
    prop1: value1,
    prop2: value2
}); 
```

如果是这种情况，您应该能够添加一个名为 initComponent 的属性，它是一个执行您想要的功能的函数。只要记住调用原始的 initComponent 以便一切都正确构建：

```
Ext.create('Ext.panel.Panel', {
    prop1: value1,
    prop2: value2,
    initComponent: function () {
        this.doSomething();
        Ext.panel.Panel.prototype.initComponent.apply(this, arguments);
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T22:45:09.553

# 标准实例覆盖

* * *

*   通常，我们会使用`Ext.override()`after`Ext.create()`将覆盖应用到类的特定实例（请参阅[文档](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-override)）：

    ```
    var myObj = Ext.create('Ext.some.Component', {
        ...
    });

    Ext.override(myObj, {
        myMethod: function() {
            // Do something.
            this.callParent(arguments); // From Ext.some.Component class.
            // Do something else.
        }
    }); 
    ```

*   `this.callParent(arguments)`***仅***适用于创建的覆盖

    *   通过`Ext.override()`, 或
    *   隐含地通过`Ext.define()`

# 特殊情况：覆盖`initComponent`

* * *

*   由于该`initComponent`方法在执行*期间*`Ext.create()`被调用，我们必须在`Ext.create`. 为了访问原始方法，我们必须使用一种变通方法来访问被覆盖的方法：

    ```
    var myObj = Ext.create('Ext.some.Component', {
        initComponent: function() {
            // Do something.

            // Get a reference to the class.
            var myClass = Ext.getClass(this);

            // Apply the overridden method from the class' prototype.
            myClass.prototype.initComponent.apply(this, arguments);

            // Do something else.
        }
    }); 
    ```

# php - 如何在 php 中使用 preg 删除字符串的一部分？

> ID：11517283
> 
> 赞同：1
> 
> 时间：2012-07-17T06:45:43.223
> 
> 标签：php, regex, preg-match, preg-match-all

我想从一个更大的字符串 ($str) 中取出 GP123（一个由任意顺序的数字和字符组成的字符串）并排除 Hello ($str1)，它将是另一个变量中的字符串。我的代码是这样的。但它不起作用。如何删除字符串的一部分。

```
$str=" HelloGP123";
$str1="Hello";
preg_match_all("/(?:$str1)\w+\d+\w+/",$str,$str2);
print_r($str2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T19:04:07.933

好吧，我的需要只是从 $str (HelloGP123) 中删除 $str1(Hello) 部分并将最后的剩余部分存储在 $str2 中。而且我到处都是正则表达式。

但我意识到这可以通过字符串替换以更简单的方式解决。所以这就是我所做的并且它奏效了。

```
$str2= str_ireplace($str1, '', $str); 
```

我想这是最简单的方法，而不是通过尝试各种正则表达式组合来冲击我们的大脑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T06:55:18.287

```
preg_replace("/hello/","","hellogp123"); 
```

为什么不是上面那个？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T06:55:51.843

```
$pattern = sprintf('/(?<=%s)[a-zA-Z0-9]+/', preg_quote($str1, '/'));

if (preg_match($pattern, $str, $matches)) {
    $str2 = $matches[0];
} 
```

这将匹配任何字母和/或数字的组合，但仅匹配紧跟在`$str1`.

这里的例子 - [http://codepad.viper-7.com/okY8TP](http://codepad.viper-7.com/okY8TP)

另见 - [http://www.regular-expressions.info/lookaround.html](http://www.regular-expressions.info/lookaround.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T06:56:46.043

```
$string="HelloGP123";
$pattern="/Hello/";
echo preg_replace($pattern, "", $string); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T15:05:17.620

您的代码不起作用有几个原因：

*   首先`(?:$str1)`实际上是在尝试匹配字符串中的 'hello'。这是因为`(?:)`它是一个非捕获子模式，这*并不*意味着结果中的任何内容都不会返回（这似乎是您尝试使用它的方式），但子模式不会作为自己的返回匹配数组中的条目。
*   `\w+\d+\w+`表示“一个或多个单词字符，后跟一个或多个数字，后跟一个或多个单词字符”，其中“单词”字符是字母、数字或下划线。这不是您所说的要匹配的内容。

这是一些可以执行您所说的代码：

```
$str_minus_str1 = preg_replace('/'.preg_quote($str1,'/').'/',' ',$str);
preg_match_all('/[0-9A-Za-z]+/',$str_minus_str1,$matches); 
```

请注意，我已将字符串中的 $str1 替换为 ' ' 而不是删除它，因为例如，如果 $str 是“applehellobanana”，您可能希望将 'apple' 和 'banana' 作为单独的匹配项返回，而不是只是匹配'applebanana'。

如果您想将整个内容作为单个字符串返回，这似乎是您的意图，那么您需要使用类似于以下内容的内容来内爆您的匹配项

```
$str2 = implode('',$matches); 
```

# objective-c - XML 下载 NSUTF8StringEncoding 问题

> ID：11517284
> 
> 赞同：0
> 
> 时间：2012-07-17T06:45:48.873
> 
> 标签：objective-c, utf-8, character-encoding

我已经制作了这种从 URL 下载 XML 的方法。问题是编码字符。

```
-(void) scaricamentoXML{
    /*Save XML IN LOCALE*/
    NSString* docsDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];
    NSLog(@"Doc dir:  %@:",docsDir);
    //dichiaro il file locale in cui salvare i dati XML
    NSString* fileToDownload = @"provaXML.xml";

    NSString *hostURLString = @"http://demo.gigamips.com/rss.php?authkey=12345";
    NSURL *xmlURL = [NSURL URLWithString:hostURLString];
    NSLog(@"xmlURL = %@", xmlURL);
    //gestione codifica UTF-8
    NSError *error;
    NSString *dataString = [[NSString alloc] initWithContentsOfURL:xmlURL encoding:NSASCIIStringEncoding error:&error];
    NSLog(@"DataString = %@", dataString);
    //NSData *xml = [[NSData alloc]initWithContentsOfURL:xmlURL];
    NSData *xml = [dataString dataUsingEncoding:NSUTF8StringEncoding]; 
    //creo una stringa di appoggio in encoding UTF8 - verificare se funziona
    NSString *str =  [[NSString alloc] initWithData:xml encoding:NSUTF8StringEncoding];
    NSLog(@"NSData xml = %@", xml);
    //NSString *newStr = [[NSString alloc] initWithData:xml encoding:NSUTF8StringEncoding];
    //NSLog(@"newStr  = %@", newStr);
    NSString *filePath = [docsDir stringByAppendingPathComponent: fileToDownload];

    //[xml writeToFile: filePath atomically: NO];
    [str writeToFile: filePath atomically: NO];
    /*Save XML IN LOCALE*/

    /*SALVO LE IMMAGINI MINI IN LOCALE*/
    AuthParserImages *parser=[[AuthParserImages alloc]init];
    entryArray=[parser startParserLocale:@"provaXML"];
    GestioneImages *gi = [[GestioneImages alloc]init];
    for(int i =0; i< [entryArray count];i++){
        item=[entryArray objectAtIndex:i];
        [gi saveImageLocal:item.urlImageLow :item.id];
    }
    /*SALVO LE IMMAGINI MINI IN LOCALE*/

    /*CREA IL FILE GESTIONE NEW*/
    gp = [[GestionePlist alloc]init];
    [gp savePlist:@"begin"]; 
    /*CREA IL FILE GESTIONE NEW*/

    [self controlloXML];
    [activityIndicator stopAnimating];

} 
```

我看不到像 ' 或重音 ù - à - ò 等特殊字符。

这是网络服务[http://demo.gigamips.com/rss.php?authkey=12345](http://demo.gigamips.com/rss.php?authkey=12345)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:17:02.843

问题出在您的网络服务上。您没有收到使用 UTF8 字符串编码编码的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T12:45:00.450

[虽然http://demo.gigamips.com/rss.php?authkey=12345](http://demo.gigamips.com/rss.php?authkey=12345) *中*的 XML 以UTF-8 编码，但它没有使用正确的字符。例如，在应该出现单引号 ' (U+2019) 的地方，它使用 U+0092，这是一个不可打印的控制字符。

看起来该文档的作者是在[Windows-1252](http://en.wikipedia.org/wiki/Windows-1252)中编写的，然后使用假定它是[latin-1](http://en.wikipedia.org/wiki/ISO-8859-1)的工具将其转换为 UTF-8 。

您可以尝试说服作者首先使用正确的字符，或者编写代码将控制字符替换为可能的替代字符（即 U+2018 代替 U+0091，U+2019 代替 U+ 0092, U+201C 代替 U+0093 等等..你可以使用 Windows-1252 的字符表作为参考)

# sql-server - 如何将超过 8000 个字符的 XML 字段转换为字符串？

> ID：11517288
> 
> 赞同：6
> 
> 时间：2012-07-17T06:46:14.657
> 
> 标签：sql-server, xml, sql-server-2008

我有一个 SQL Server 类型的列，`XML`其中包含一些超过 8000 个字符的记录。

我想将此列转换为`varchar`.

我不关心截断（前 8000 个字符很好）。

但是，每当我尝试时，都会`CONVERT(varchar(8000), Content)`出现错误：

> 目标字符串太小，无法表示 XML 实例

当我尝试时`CONVERT(varchar(MAX), Content)`出现错误：

> 字符串或二进制数据将被截断

当我尝试时`CONVERT(varchar(20000), Content)`出现错误：

> 赋予类型“varchar”的大小 (20000) 超过任何数据类型允许的最大值 (8000)

当我尝试时`CONVERT(text, Content)`出现错误：

> 不允许从数据类型 xml 到文本的显式转换

有解决方法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-17T07:33:55.240

Cast to`varchar(max)`应该可以正常工作。你可能在其他地方有问题。如果您尝试使用 datatype 插入/更新列，则会收到该错误`varchar(8000)`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T17:09:20.740

您遇到的问题与尝试将 xml 转换为 varchar 有关。在尝试将比您的小得多的 XML 字符串转换为 NVARCHAR 之前，我遇到了类似的问题。从 CONVERT 切换到 CAST 应该可以解决您的问题。就尺寸而言，您最好将其设置为 MAX。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:05:55.363

我从来没有这种特殊需要，但我会尝试的另一种方法是

```
SUBSTRING(CAST(Content AS VARCHAR), 1, 8000) 
```

# jquery - 弹出对话框背景100%高度

> ID：11517291
> 
> 赞同：0
> 
> 时间：2012-07-17T06:46:26.023
> 
> 标签：jquery, css

我正在研究 onClick 对话框弹出窗口功能。我有 200 x 200 像素的弹出窗口。onClick 按钮打开了框，现在我希望框后面的内容应该是不可点击的，我已经完成了，但问题是它不能覆盖整个页面，因为它只禁用了屏幕区域和我希望它应该覆盖整个页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:54:18.667

您可以做的是包含您希望在 div 中不可点击的所有其他内容。给出 body 和 div`z-index:0;`并单击给出 div `z-index:-1;`，这将使 div 低于 body 并且 div 内的所有内容都将无法点击。

CSS：

```
body{z-index:0;}
#MainDiv{z-index:0;} 
```

将此行添加到您的函数中

```
document.getElementById("MainDiv").style.zIndex="-1"; 
```

# c - C中的字符串和字符串函数

> ID：11517298
> 
> 赞同：2
> 
> 时间：2012-07-17T06:46:54.277
> 
> 标签：c, string, strcpy

我写了以下内容：

```
#include <stdio.h>
#include <string.h>
char* getString();

char* getString(){
    char str[10];
    gets(str);
    return str;

}

int main() {

    char* s;
    s=getString();
    strcpy(s,"Hi");
    puts(s);
    return 0;
} 
```

我知道 的长度`str`必须小于 10，但即使我只写了“Hi”，也没有打印任何内容。据我看，应该没问题。编译器这么说`fgets is dangerous and should not be used`。

屏幕上什么都没有打印的原因是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T06:50:32.390

```
char str[10];
// ...
return str; 
```

这是***错误的！！！***局部变量在其作用域退出时失效；因此使用返回的数组是未定义的行为。您必须 malloc 一个字符串并返回它：

```
return strdup(str); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T07:14:48.900

与结果有关的问题已经讨论过了。您可以执行的解决方案列表包括：

1）。将 str 全局定义为 "char str[10]" 并在函数 main 和 getString 中使用

2）。在函数 getString 中使用 malloc/calloc，代码是这样的......

```
char* getString(){
char *str = NULL;
str = (char *)calloc(10, sizeof(char));
gets(str);
return str;
}

int main() {
    char* s;
    s=getString();
    strcpy(s,"Hi");
    puts(s);
    free(s);
    return 0;
}` 
```

3）。使用静态来获得帮助。但这不是概念上正确的方法

例如在函数getString中声明如下

```
static char str[10]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T06:53:12.210

让你的代码工作的最简单的方法，虽然不一定是最好的方法，是`str`静态化。

IE

```
static char str[10]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:26:48.740

那么是一个分配在**堆栈**`str[10]`上的 10 个字符的数组。函数超出范围后，堆栈将被删除。因此，函数返回的地址不再有效。**`getString()`**

 **考虑声明一个指针`char *str`并使用`malloc`. 现在您的变量指向**堆中**的一个位置，即使在函数完成执行后该位置仍然存在。

希望它回答了你的问题**

# asp.net-mvc-3 - 在我运行此错误时，mvc3 中缺少程序集引用

> ID：11517300
> 
> 赞同：0
> 
> 时间：2012-07-17T06:46:58.427
> 
> 标签：asp.net-mvc-3, compiler-errors

运行我的应用程序时出现以下错误：

```
error CS0234: The type or namespace name 'FacebookApplication' does not exist in   the namespace 'Facebook' (are you missing an assembly reference?) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:17:23.037

您需要确保在项目引用中包含对它的引用。

在**解决方案资源管理器**中滚动到您的**参考**部分并检查它是否在那里。

如果不是**右键单击**并选择**添加引用**，然后导航到文件所在的任何位置。

希望这可以帮助。

# jquery - JSON Int64 数据随机翻转/更改

> ID：11517303
> 
> 赞同：1
> 
> 时间：2012-07-17T06:47:23.063
> 
> 标签：jquery, json, int64

我正在使用 jquery 从我的网络服务器获取 json 数据。当我检查返回的 Fiddler 数据时，一切看起来都很正常。但是，当我在 Chrome/IE/ 或 Safari 中开始调试时，我注意到一些值发生了变化。例如，从服务器发送的 Int64 值为：10150987224093521。但是，当我调试时，我看到它为 1015098722409352* *0* * 该值始终减一。Fiddler 显示正确的值，即：10150987224093521。它随机发生。我找不到合乎逻辑的理由。关于为什么会发生这种情况的任何想法或暗示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T10:05:52.663

JavaScript 用双浮点数表示所有数字：

[http://en.wikipedia.org/wiki/JavaScript_syntax#Number](http://en.wikipedia.org/wiki/JavaScript_syntax#Number)

> 数字以二进制形式表示为 IEEE-754 Doubles，它提供了接近 16 位有效数字的准确度。因为它们是浮点数，所以它们并不总是准确地表示实数，包括分数。

您的号码有 17 位数字：`10 15098 72240 93521`，因此您开始失去精度。

快速javascript演示：http: [//jsfiddle.net/EYjjX/](http://jsfiddle.net/EYjjX/)

# jquery - 通过 Enter 键导航

> ID：11517305
> 
> 赞同：0
> 
> 时间：2012-07-17T06:47:26.443
> 
> 标签：jquery

我在 Firefox 浏览器中使用 jQuery 1.4.2.min.js。如果我按下回车键，它会导航到下一个字段，但不会显示模糊事件警报。这导致了问题，因为在 Tab 键上，会显示模糊事件中指定的这些消息。有什么解决办法吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:58:03.610

您可能会返回 false 或阻止默认值。在检查回车键的代码中查找以下一行或多行：

```
e.preventDefault();
e.stopPropagation();
e.stopImmediatePropagation(); 
```

如果您不知道如何修复它，请发布相关代码。

# c - 在 GDB 中查看进程空间之外的内存 (mmap)

> ID：11517306
> 
> 赞同：1
> 
> 时间：2012-07-17T06:47:32.563
> 
> 标签：c, gdb, mmap, raspberry-pi

问题：

出于教育目的，我正在尝试准确了解 RaspberryPI 如何与其 GPIO 接头接口。我有一个简单的程序可以控制扩展板上的 LED，效果很好。但是，我想使用 GDB 来查看程序更改映射控制寄存器中的位。通常我会在 GDB 中做这样的事情：

```
x /t 0x20200000 
```

但这似乎会导致以下错误，大概是因为目标内存不在进程空间中：

```
0x20200000: Cannot access memory at address 0x20200000 
```

我尝试映射内存区域，但似乎没有帮助。

```
mem 0x20200000 0x20208192 
```

我也确实编写了一个从 GDB 调用的函数，但不知道如何编写返回我感兴趣的整个内存块的东西，因此可以将其视为二进制文件（我不想将每个字节都视为写入位）相当分散的区域）。*有什么办法可以在 GDB 中做到这一点吗？*

## 支持代码

要映射的内存地址：

```
#define BCM2708_PERI_BASE   0x20000000
#define GPIO_BASE           (BCM2708_PERI_BASE + 0x200000) 
```

指向映射内存的指针：

```
static volatile uint32_t *gpio ; 
```

映射例程：

```
int gpio_init (void)
{
  int      fd ;
  uint8_t *gpioMem;

  if ((fd = open ("/dev/mem", O_RDWR | O_SYNC) ) < 0)
  {
    fprintf (stderr, "gpio_init: unable to open /dev/mem: %s\n", strerror (errno)) ;
    return -1 ;
  }

  if ((gpioMem = malloc (BLOCK_SIZE + (PAGE_SIZE-1))) == NULL)
  {
    fprintf (stderr, "gpio_init: malloc failed: %s\n", strerror (errno)) ;
    return -1 ;
  }

  if (((uint32_t)gpioMem % PAGE_SIZE) != 0)
    gpioMem += PAGE_SIZE - ((uint32_t)gpioMem % PAGE_SIZE) ;

  gpio = (uint32_t *)mmap((caddr_t)gpioMem, BLOCK_SIZE, PROT_READ|PROT_WRITE,  MAP_SHARED|MAP_FIXED, fd, GPIO_BASE) ;

  if ((int32_t)gpio < 0)
  {
    fprintf (stderr, "gpio_init: mmap failed: %s\n", strerror (errno)) ;
    return -1 ;
  }

  return 0 ;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T06:57:31.313

物理内存地址`0x20200000`被映射到您的进程地址空间中存储在变量`gpio`中的地址，所以这就是您应该检查的地址`gdb`。只需打印`gpio`after的内容`gpio_init()`已被调用并使用该值。

顺便说一句，映射完​​成的方式很混乱。无需分配内存块`malloc`然后对其进行映射，并且它也无法关闭文件描述符。整个函数可以更好地写成：

```
int gpio_init (void)
{
  int      fd ;

  if ((fd = open ("/dev/mem", O_RDWR) ) < 0)
  {
    fprintf (stderr, "gpio_init: unable to open /dev/mem: %s\n", strerror (errno)) ;
    return -1 ;
  }

  gpio = mmap(NULL, BLOCK_SIZE, PROT_READ|PROT_WRITE, MAP_SHARED, fd, GPIO_BASE) ;

  if (gpio == MAP_FAILED)
  {
    fprintf (stderr, "gpio_init: mmap failed: %s\n", strerror (errno)) ;
    close(fd);
    return -1 ;
  }

  close(fd);
  return 0 ;
} 
```

# xcode - 使用 xcode 配置 phonegap 时出错

> ID：11517307
> 
> 赞同：0
> 
> 时间：2012-07-17T06:47:44.180
> 
> 标签：xcode, macos, cordova

我正在尝试在我的 mac mini 中使用 xcode 配置 phonegap。我的配置：

*   Mac OS X (10.6.8)
*   Xcode 4.1

我按照教程[http://wiki.phonegap.com/w/page/52010495/Getting%20Started%20with%20PhoneGap-Cordova%20and%20Xcode%204](http://wiki.phonegap.com/w/page/52010495/Getting%20Started%20with%20PhoneGap-Cordova%20and%20Xcode%204)进行操作。但是我在编译时遇到错误，我看不到错误：找不到“www/index.html”处的起始页，而是收到以下错误：

```
Undefined symbols for architecture i386:
  "_NSURLIsExcludedFromBackupKey", referenced from:
      -[CDVFile setMetadata:withDict:] in Cordova
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

请告诉我如何在我的 xcode 中配置电话间隙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:55:05.667

我在 AppDelegate.m 文件中添加了以下行，此错误得到解决（[https://groups.google.com/forum/?fromgroups#!topic/phonegap/1KePUPYywEk](https://groups.google.com/forum/?fromgroups#!topic/phonegap/1KePUPYywEk)）。

```
NSString * const NSURLIsExcludedFromBackupKey = @"NSURLIsExcludedFromBackupKey"; 
```

但现在我收到错误 www/index.html not found。

已解决（请参阅） [PhoneGap 应用程序：“错误：未找到位于 `www/index.html` 的起始页”](https://stackoverflow.com/questions/6026285/phone-gap-application-error-start-page-at-www-index-html-was-not-found)

# visual-studio-2010 - 自动更改 Visual Studio 2010 源代码控制提供程序（使用宏/插件）

> ID：11517308
> 
> 赞同：1
> 
> 时间：2012-07-17T06:47:46.063
> 
> 标签：visual-studio-2010, vba, version-control, visual-studio-macros

如今，我在使用不同的源代码控制提供程序的项目上工作是一种常见的情况。例如，SVN、Mercurial 等。

我觉得插件应该自动检测用于项目的源代码控制，并且应该自动接管。但遗憾的是，事实并非如此。每次，我加载一个项目，我都必须去选项和更改源代码控制插件。

我正在考虑编写一个宏或插件来为我做这件事。

*我在DTE.Properties*中寻找要更改的属性名称，但在注册表 @ 中找不到任何相关属性`HKCU/Software/Mircosoft/VisualStudio/10.0_Config`。

我正在寻找这方面的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T15:50:33.540

查看：[https ://scs.codeplex.com/](https://scs.codeplex.com/)

没有亲自使用过，但似乎满足您的需求。

# android - 我的 NFC 阅读器无法成功读取正确的数据

> ID：11517312
> 
> 赞同：1
> 
> 时间：2012-07-17T06:48:09.627
> 
> 标签：android, nfc

我开发了一个简单的 NFC 应用程序，它将在感应到 NFC 标签后启动。我想问两个问题，为什么我的程序启动后，我需要让设备再次感应标签，而不是启动后才读取标签？而且，我已将数据类型设置为 text/plain，但是为什么当我在 textview 字段中输出数据时，会出现无意义的查询？

```
public class Reader extends Activity {

TextView mText;
NfcAdapter mAdapter;
PendingIntent mPendingIntent;
IntentFilter mFilters[];
String mTechLists[][];

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

}

@Override
public void onStart(){
    super.onStart();
    setContentView(R.layout.activity_reader);

    mText = (TextView) findViewById(R.id.text);

    mAdapter = NfcAdapter.getDefaultAdapter(this);
    mPendingIntent = PendingIntent.getActivity(this, 0,
            new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);

    IntentFilter ndef = new IntentFilter(NfcAdapter.ACTION_NDEF_DISCOVERED);
    try{
        ndef.addDataType("text/plain");
    }catch(MalformedMimeTypeException e){
        throw new RuntimeException("fail", e);
    }

    IntentFilter nt = new IntentFilter(NfcAdapter.ACTION_TAG_DISCOVERED);
    mFilters = new IntentFilter[]{
            ndef, nt
    };

    mTechLists = new String[][]{
            new String[]{
                    Ndef.class.getName()
            }
    };
    Intent intent = getIntent();
    mText.setText(getNdefMessages(intent));
}

public String getNdefMessages(Intent intent){
    NdefMessage[] msgs = null;
    String action = intent.getAction();
    if(NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)||
            NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)){
        Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);
        if(rawMsgs != null){
            msgs = new NdefMessage[rawMsgs.length];
            for(int i=0; i<rawMsgs.length; i++){
                msgs[i] = (NdefMessage) rawMsgs[i];
            }
        }else{
            byte[] empty = new byte[]{};
            NdefRecord record = new NdefRecord(NdefRecord.TNF_UNKNOWN, empty, empty, empty);
            NdefMessage msg = new NdefMessage(new NdefRecord[]{record});
            msgs = new NdefMessage[]{msg};
        }

    }
    if(msgs==null)
        return "No Tag discovered!";
    else
        return msgs.toString();
}

@Override
public void onResume(){
    super.onResume();
    if (mAdapter != null)
        mAdapter.enableForegroundDispatch(this, mPendingIntent, mFilters, mTechLists);

}

@Override
public void onPause(){
    super.onPause();
    if (mAdapter != null)
        mAdapter.disableForegroundDispatch(this);
}

@Override
public void onNewIntent(Intent intent){
    Log.i("Foreground dispatch", "Discovered tag with intent:" + intent);
    mText = (TextView) findViewById(R.id.text);
    mText.setText(getNdefMessages(intent));
}

} 
```

上面是我的主程序，下面是 Manifest 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="android.reader"
android:versionCode="1"
android:versionName="1.0">

<uses-sdk 
    android:minSdkVersion="10" 
    android:targetSdkVersion="15" />

<uses-permission 
    android:name="android.permission.NFC"/>

<uses-feature 
    android:name="android.hardware.nfc"
    android:required="true"/>

<application android:label="@string/app_name"
    android:icon="@drawable/ic_launcher"
    android:theme="@style/AppTheme"
    android:debuggable="true">
    <activity 
        android:name=".Reader"
        android:label="@string/title_activity_reader">
        <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
        </intent-filter>
        <intent-filter>
            <action android:name="android.nfc.action.NDEF_DISCOVERED"/>
            <data android:mimeType="text/plain" /> 
            <!--<data 
                android:scheme="http"
                android:host="developer.android.com"/>-->
            <category android:name="android.intent.category.DEFAULT"/>
        </intent-filter>
        <intent-filter>
            <action android:name="android.nfc.action.TAG_DISCOVERED"/>
            <category android:name="android.intent.category.DEFAULT"/>
        </intent-filter>
    </activity>

</application>

</manifest> 
```

应用程序中显示的消息：

![在此处输入图像描述](../Images/0d0e001db158ce13932acc2250a7979a.png)

最后是我输入标签的数据：

![在此处输入图像描述](../Images/ade71ef653e2134e98d503d203c620d5.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T08:29:38.443

An`NdefMessage`是一个包含一个或多个`NdefRecord`s 的对象。调用`yourNdefMessage.getRecords()`以访问它们。

一个`NdefRecord`可以有各种类型的附带内容，包括纯文本。有两种纯文本类型`NdefRecord`：众所周知的文本类型和 MIME 类型的“text/plain”（都使用相同的意图过滤器；参见[http://developer.android.com/guide/topics/connectivity/nfc/ nfc.html#ndef](http://developer.android.com/guide/topics/connectivity/nfc/nfc.html#ndef)了解详情）。

您似乎使用 MIME 类型的 text/plain。因此，您可以轻松地将其转换为 String: `new String(yourNdefMessage.getRecords()[0].getPayload())`。

为了确保您的应用程序在启动时可以立即访问标签，您应该将 Android 应用程序记录作为 NDEF 消息中的最后一条记录。否则，生成的意图将包含操作 MAIN 而不是 NDEF_DISCOVERED，并且意图中将没有 NDEF 消息和 TAG EXTRA。

# django - Django 中的数据丢失 - SQLite

> ID：11517315
> 
> 赞同：0
> 
> 时间：2012-07-17T06:48:10.597
> 
> 标签：django, sqlite

我正在使用的堆栈：Ubuntu 64bit - Django (1.4) - SQLite (不记得我安装了这个，但我认为它随 Ubuntu 或 Django 一起提供) - uwsgi (1.2.3 服务器) - Nginx(1.1\. 19) - Extjs (4.1)

我已经使用 Django 大约 2 个月了，在过去的 40 天左右，在三个不同的场合，我发现我的 SQLite 数据库中的所有表都是空的（我可以写截断但我不知道原因） .

它正在进行中，所以我（偶尔）重塑模型并运行 manage.py syncdb （可能每天一次），但正如我所读的那样，syncdb 不会截断或删除任何表。我必须经常重启 uwsgi 服务器（每隔一条语句），因为它缓存了应用程序。

我主要专注于客户端部分，因此数据库非常简单，到目前为止只有几个表和零关系。

还有其他人经历过这种不当行为吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:32:16.333

您应该开始使用 South [http://south.aeracode.org/](http://south.aeracode.org/)

# java - 如何使用launch4j和maven首先在类路径上添加目录？

> ID：11517317
> 
> 赞同：1
> 
> 时间：2012-07-17T06:48:14.587
> 
> 标签：java, maven, launch4j

我正在使用 launch4j maven 插件为我的应用程序生成一个 .exe。这就是我在 pom.xml 中的内容：

```
 <plugin>
            <groupId>com.akathist.maven.plugins.launch4j</groupId>
            <artifactId>launch4j-maven-plugin</artifactId>
            <version>1.5.1</version>
            <executions>
                <execution>
                    <id>step-1-build-exe</id>
                    <phase>package</phase>
                    <goals>
                        <goal>launch4j</goal>
                    </goals>
                    <configuration>
                        <dontWrapJar>true</dontWrapJar>
                        <headerType>gui</headerType>
                        <outfile>target/MyApplication.exe</outfile>
                        <jar>${project.artifactId}-${project.version}.jar</jar>
                        <errTitle/>
                        <cmdLine>-Xms25m -Xmx50m</cmdLine>
                        <chdir>.</chdir>
                        <priority>normal</priority>
                        <downloadUrl>http://java.com/download</downloadUrl>
                        <supportUrl/>
                        <customProcName>false</customProcName>
                        <stayAlive>false</stayAlive>
                        <manifest/>
                        <icon>${project.basedir}/src/main/assembly/MyApp.ico</icon>
                        <classPath>
                            <mainClass>com.company.app.MainApp</mainClass>
                            <addDependencies>false</addDependencies>
                            <preCp>config;koala.jar;comm.jar;jniwrap.jar;log4j-1.2.12.jar</preCp>
                        </classPath>
                        <jre>
                            <path>jre</path>
                            <minVersion/>
                            <maxVersion/>
                            <jdkPreference>preferJre</jdkPreference>
                        </jre>
                    </configuration>
                </execution>
            </executions>
     </plugin> 
```

我希望会发生的是“config”目录将首先放在类路径上，但包含我的主类的 jar 总是放在类路径的首位。我想把配置目录放在第一位，所以很容易覆盖也在主jar中的某些配置文件。

[我用http://www.mkyong.com/java/how-to-print-out-the-current-project-classpath/](http://www.mkyong.com/java/how-to-print-out-the-current-project-classpath/)打印了类路径，看看它是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-13T11:15:50.950

如果您可以使用普通的 java cmd 来完成，那么也许您可以通过这种方式将其直接添加到 java 调用中

```
<jre>
    <path>jre</path>
    <minVersion/>
    <maxVersion/>
    <jdkPreference>preferJre</jdkPreference>
    <opts>
        <opt>-cp yourclasspath/opt>
    </opts>
</jre> 
```

# javascript - 从 Javascript 调用 DLL 方法

> ID：11517319
> 
> 赞同：6
> 
> 时间：2012-07-17T06:48:17.967
> 
> 标签：javascript, dll

我想从 javascript 调用一个 dll 的方法。

我按照这篇文章[用 C# 创建 activex 对象](http://www.dreamincode.net/forums/topic/38890-activex-with-c#/)

由于 activeX 仅适用于 IE，我应该如何在 FireFox 或 Chrome 中从 javascript 调用这些方法？

我已经有一个使用 ActiveX 对象来调用 Dll 方法的应用程序，但它只在 IE 中工作。

有没有可能使我的应用程序浏览器独立的方法？

**更新**

我使用 Jquery async AJAX 和 webservice 来调用 dll 方法：

```
var to_return = $.ajax({
         type: "POST",
         url: "Default.aspx/CallMe", //CallMe is WebService method
         data: "{}", // parameter to pass
         async: false,
         contentType: "application/json; charset=utf-8",
         dataType: "json",
     });

     alert(to_return.responseText); 
```

如果**CallMe()**返回一个字符串，它会警告它为**{"d":"True"}**其中 "True" 是从 CallMe 返回的字符串。

我如何才能从中获取仅返回的字符串？

此外，如果Web 服务的**CallMe()**方法返回该 DLL 中存在的类的对象？如何在 JavaScript 中检索该对象？我可以使用返回的对象调用该类的方法吗？

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T06:56:17.460

像这样的东西应该可以工作：

```
var obj = new ActiveXObject("ABCDll.testMethod");
var vResult = obj.TestMethod();
alert(vResult); 
```

**：： 更新 ：：**

从此[链接](https://stackoverflow.com/questions/1550112/how-to-call-user32-dll-methods-from-javascript)检查 hazerd 的答案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-23T20:28:04.793

你不能只在浏览器中执行一个 dll 方法（这是出于安全原因）。
为了在浏览器中执行一些编译代码，您必须使用[插件](https://stackoverflow.com/questions/2649056/how-to-write-a-browser-plugin)

ActiveX 只是在 IE 中实现浏览器插件的一种方法。所有其他浏览器使用不同的插件接口。
然后，如果用户将在浏览器中安装您的插件 - 该插件将在 JS 中可用，您可以使用它在 dll 中执行某些功能。

# cocos2d-iphone - cocos2d 中 CCMenu 或 CCLayer 中的锚点

> ID：11517323
> 
> 赞同：0
> 
> 时间：2012-07-17T06:48:41.723
> 
> 标签：cocos2d-iphone, anchor, cocos2d-x

我了解精灵锚点的概念。
（它告诉纹理的哪个点将在精灵的位置。例如，如果 anchorPoint=(1,0)，则纹理的右下角将在精灵的位置）

我在看cocos2d-x的CCMenu源代码，它在它的init方法中设置了anchorPoint、m_bIsRelativeAnchorPoint和Position..

当 CCMenu 显然没有与之关联的纹理时，有人可以解释这些变量的含义吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T10:14:31.103

锚点和纹理坐标不同。

这是一篇关于 Cocos2D 锚点的好帖子：[点击这里](http://www.qcmat.com/understanding-anchorpoint-in-cocos2d/)

精灵的旋转、缩放和定位是相对于这个锚点完成的。例如：

```
sprite.anchorPoint = ccp(0.5,0.5); 
```

说精灵宽度= w，精灵高度= h

在这种情况下，当您访问精灵的位置属性时，它会给出像素点（wx 0.5，hx 0.5）在父节点中的位置。旋转也在同一点完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T15:16:33.403

你理解不对。锚点与精灵的纹理无关。它仅与节点的 contentSize 相关。就 CCSprite 而言，它的内容大小会自动设置为图片的大小（甚至不是纹理，因为大小为 129x129 的图片的纹理将具有 256x256 的大小）

# html - 如何在中心找到链接

> ID：11517325
> 
> 赞同：0
> 
> 时间：2012-07-17T06:48:48.113
> 
> 标签：html

我正在尝试在中心定位链接，即假设我们有以下代码

```
<html  >
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body bgcolor="blue">

<a href="indexE.html"><img src ='english.gif' style="float:right"  width="88" height="88"> </a>
<a href="indexR.html"><img src ='russian.gif' alt="Russian flag" style="float:right"  width="88" height="88"/>
<a href="index.html"> <img src="georgian.jpg"  style="float:right" width="88" height="88"/>
<a href="index.html">მთავარი </a>

</body>
</html> 
```

这里 (მთავარი)(mtavari) 表示主要，只是我正在将网站改成英语、格鲁吉亚语和俄语，我希望它在中心定位主要 (მთავარი)，你能帮我吗？还有如何放大文本？

编辑：

```
<html  >
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<style>
#links {
    margin: 0 auto;
    width:1050px; 
     font-size:70px

}
</style>
<body bgcolor="blue" >
<a href="indexE.html"><img src ='english.gif' style="float:right"  width="88" height="88"> </a>
<a href="indexR.html"><img src ='russian.gif' alt="Russian flag" style="float:right"  width="88" height="88"/>
<a href="index.html"> <img src="georgian.jpg"  style="float:right" width="88" height="88"/>
<div id="links">

<a href="index.html">მთავარი </a>
</div>
<div id="links">
<a href="ბაკურიანი.html">ბაკურიანი </a>
</div>
<div id="links">
<a href="გუდაური.html">გუდაური </a>
</div>
<div id="links">
<a href="ზღვა.html">ზღვა </a>
</div>
<div id="links">
<a href="კახეთი.html">კახეთი </a>
</div>
<div id="links">
<a href="სვანეთი.html">სვანეთი </a>
</div>
<div id="links">
<a href="ვარძია.html">ვარძია </a>
</div>
<a href="ქართლი.html">ქართლი </a>
</div>
<div id="links">
<a href="ძველი_თბილისი.html">ძველი_თბილისი </a>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:05:38.690

您是在谈论将链接置于页面中心吗？然后你冷使用css：将标签包装在一个div中，然后将div居中。为了使 div 居中，您需要为其分配一个宽度。例如，我选择了 600px。您还缺少一对关闭标签的夫妇。

```
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>

<style>
#links {
    margin: 0 auto;
    width: 600px;   
}

#test { 
    margin: 0 auto; 
    width: 400px; 
    clear: both; 
    display: block;
}
#test a {
    float: right;
}

</style>

<body bgcolor="blue">

<div id="links">
    <a href="indexE.html"><img src ='english.gif' style="float:right"  width="88" height="88"> </a>
    <a href="indexR.html"><img src ='russian.gif' alt="Russian flag" style="float:right"  width="88" height="88"/></a>
    <a href="index.html"> <img src="georgian.jpg"  style="float:right" width="88" height="88"/></a>
</div>

<div id="test">
    <a href="index.html">test1</a>
    <a href="index.html">test2</a>
    <a href="index.html">test3</a>
    <a href="index.html">test4</a>
    <a href="index.html">test5</a>
</div>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:07:30.503

只需将 text-align: center 放在包含元素的位置，在这种情况下为主体。

其次，您忘记了一些结束锚标记 (</a>)。最后，您应该将样式更改为 CSS 而不是内联。

```
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <style>
            body {
                background-color: blue;
                text-align: center;
            }
            .flag {
                float: right;
                height: 88px;
                width: 88px;
            }
        </style>
    </head>
    <body>
        <a href="indexE.html"><img class="flag" src='english.gif'></a>
        <a href="indexR.html"><img class="flag" src='russian.gif' alt="Russian flag"/></a>
        <a href="index.html" ><img class="flag" src='georgian.jpg'/></a>
        <a href="index.html">მთავარი </a>
    </body>
</html> 
```

# eclipse - Eclipse 中的 Java JAI 访问错误

> ID：11517330
> 
> 赞同：0
> 
> 时间：2012-07-17T06:48:53.727
> 
> 标签：eclipse, image-processing, java, jai

导入 JAI（Java 高级成像）库时出现此错误。

```
PlanarImage image = JAI.create("fileload", "image12.tiff"); 
```

它说以下错误：

```
Access restriction: The type PlanarImage is not accessible due to restriction on required library C:\Program Files (x86)\Java\jre6\lib\ext\jai_core.jar 
```

我不明白原因。我的 JRE 版本是 6。

请帮助，提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:50:37.117

答案在[这里](http://www.digizol.com/2008/09/eclipse-access-restriction-on-library.html)给出。

简而言之，它说您可以通过更改以下设置来忽略此类错误

*（项目）属性 -> Java 编译器 -> 错误/警告*

（你用谷歌搜索了错误信息吗？上面的页面是第一次点击。）

# java - 执行查询后，没有将值导入 Access

> ID：11517340
> 
> 赞同：2
> 
> 时间：2012-07-17T06:50:36.167
> 
> 标签：java, ms-access

我正在尝试将值插入 Ms access 数据库。该表有 4 个字段，没有主键，这 4 个字段也是数字类型。当我尝试使用准备好的语句执行以下 java 代码时：

```
DatabaseConnection dbcon=new DatabaseConnection();

Connection con=dbcon.dbconnection();
String query="INSERT INTO test2 VALUES(?,?,?,?)";
PreparedStatement ps= con.prepareStatement(query);
ps.setInt(1, 1);
ps.setInt(2, 2);
ps.setInt(3, 3);
ps.setInt(4, 4);
ps.executeUpdate(); 
```

查询成功执行，但 table2 不显示值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-24T07:07:34.610

Connection 没有任何问题。我没有关闭 ResultSet 和 Connection 对象，这就是问题发生的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:17:19.023

像这样检查你的数据库连接，

```
 String dataSourceName = "mdbTEST";
    String dbURL = "jdbc:odbc:" + dataSourceName;
    try { 
         Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
         Connection con = DriverManager.getConnection(dbURL, "",""); 
   } catch (Exception err) {
        System.out.println( "Error: " + err );
   } 
```

如果连接不正常，您可能在系统上设置了数据源名称。请尝试以下步骤。

1.  在 Windows 中，选择开始 > 设置 > 控制面板 > 管理工具 > 数据源。
2.  在 ODBC 数据源管理器对话框中，单击系统 DSN 选项卡。
3.  单击添加以将新的 DSN 添加到列表中。
4.  向下滚动并选择 Microsoft Access (.MDB) 驱动程序
5.  为数据源名称键入名称“mdbTEST”（不加引号，但大小写相同）
6.  单击创建并选择一个文件来保存数据库（我选择“D:\java\mdbTEST.mdb”）——这将创建一个新的空白 MS Access 数据库！一路点击“ok” 现在我们的数据源就完成了！

# postgresql - 何时打开/关闭与数据库的连接？

> ID：11517342
> 
> 赞同：4
> 
> 时间：2012-07-17T06:50:36.990
> 
> 标签：postgresql, odbc

我在 Windows 上通过 VB.NET/ODBC 使用 PostgreSQL 数据服务器，这似乎是存储/操作数据的非常可靠且高度可用的解决方案。
作为这里的初学者，我对何时打开/关闭与数据库的连接有些疑问。

例如，我可以在程序启动时打开连接，并在程序执行期间保持打开状态，持续时间可以是几天，甚至几个月。在这种情况下，我会传输连接参考以用于程序中的所有读/写功能。

或者，在其他情况下，我可以为每个函数调用或数据库上的操作打开/关闭连接，这不会花费很长时间，但会带来许多打开/关闭情况。

现在我想从有经验的用户那里得到更好的建议。

1）在程序执行期间始终保持打开的连接。
2）每次需要读取/保存数据时连接/关闭。

第二个但相关的问题是当我像这样打开与数据库的连接时：

```
 Dim conn As New OdbcConnection
    conn.ConnectionString = "Dsn=" + dbDsn + _
                            ";database=" + mydatabase + _
                            ";server=" + dbServer + _
                            ";port=" + dbPort + _
                            ";uid=" + dbUser + _
                            ";pwd=" + dbPass
    conn.Open()
    ... etc... 
```

这里有一种方法可以稍后在程序中使用“conn”引用的连接打开哪个确切的数据库？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-17T08:12:47.500

长时间保持连接，但尽可能缩短[事务。](http://www.postgresql.org/docs/9.1/static/tutorial-transactions.html)

**如何找到数据库**

`SELECT current_database()`

查看[postgresql 信息函数](http://www.postgresql.org/docs/9.1/static/functions-info.html)

**具有容错能力的长连接**

不要过于频繁地打开和关闭连接。抓住它们，但要准备好让它们从你身下消失，例如：

*   如果数据库或它所在的服务器重新启动
*   如果您和服务器之间有状态防火墙/路由器可能会在一段时间后忘记空闲连接跟踪关联
*   如果数据库管理员出于任何原因故意关闭您的连接

您的应用程序必须优雅地处理连接变得不可用，并准备好在建立新连接后重试操作。确保限制重试，这样您就不会永远循环，一遍又一遍地用相同的故障锤击数据库服务器。

因为连接随时可能变得无效，所以您*必须始终检查绝对每个数据库操作的错误代码，*除非您的语言在数据库操作失败时会抛出异常。如果可以使用异常，则只需将整个数据库操作序列包装在单个 try/catch 中。

如果您的应用程序非常简单并且不必对用户友好，那么只需告诉用户您失去连接并要求他们重新启动应用程序即可。我个人认为，如果你选择这种方法，你会后悔的，但它确实使错误处理更容易。

如果您的应用一次需要多个连接，请使用[连接池](http://wiki.postgresql.org/wiki/Replication,_Clustering,_and_Connection_Pooling#Connection_Pooling_and_Acceleration)或重新设计以对单个连接上的操作进行排队。

**具有容错和重试的短事务**

如果您愿意，*您可以长时间保持连接，但您应该尽可能缩短交易时间*。长时间运行的事务会导致一些数据库系统出现问题，包括 PostgreSQL - 它们会降低效率，增加锁定问题的风险等。不要在用户“思考时间”内保持事务打开 - 即暂停用户交互 - 如果可能的话. 如果您必须保持交易开放，请尝试设置一个超时，如果他们决定在填写该表格的中途去度假，您可以在会话到期时将用户弹回开始。如果您认为我在开玩笑，那么您还没有花足够的时间来维护生产应用程序。

您的应用程序应该为任何数据库操作失败做好准备，并且能够重试它。不要在数据库语句成功运行后丢弃应用程序对任务的了解；保留它直到*整个事务*成功提交。这样，如果您遇到序列化失败、您的 tx 被服务器取消等，您可以重新发出整个交易。

想象一下，您编写了一些典型的线性数据库访问代码（伪代码，我不会说 Visual Basic），如下所示：

```
BEGIN;
value = get_value1_from_user();
UPDATE something SET field = :value;
value = get_value2_from_user();
UPDATE somethingelse SET otherfield = :value;
COMMIT; 
```

现在想象一下如果第二个`UPDATE`失败会发生什么。`COMMIT`不会发生 - 如果您尝试运行它，它会改为执行`ROLLBACK`- 而且您不知道用户输入的内容，`get_value1_from_user()`因此您无法重试。

写这样的东西通常更明智：

```
value1 = get_value1_from_user();
value2 = get_value2_from_user();
committed = false;
retries = 3;
do:
    try:
        BEGIN;
        UPDATE something SET field = :value1;
        UPDATE somethingelse SET otherfield = :value2;
        COMMIT;
        committed = true;
    catch ...:
        retries = retries - 1;
        log "Failed to commit (sometask) because of (error message from database), "+retries+" left"
while not committed and retries > 0;
if not committed:
    print "Tell the user I couldn't save their work"
end if; 
```

当然，你想聪明地重试。失败后，检查以确保连接仍然存在，如果不存在则在重试之前重新建立连接。还要检查您的语句失败的原因 - 重新尝试语法错误的语句是没有意义的。这就是[`SQLSTATE`](http://www.postgresql.org/docs/9.1/static/errcodes-appendix.html)为了在不检查消息文本的情况下区分不同类型的错误。

*永远不要*将错误消息文本作为做出决定的一种方式，因为消息会被翻译，并且可能会因版本而异。

**没有“已验证”连接之类的东西**

数据库开发新手的开发人员认为，他们可以通过在进行操作之前验证其数据库连接来省去很多麻烦。他们发出 a `SELECT 1`or something 并根据连接可用的结论得出结论*，因此在尝试下一个操作时不会失败*。

这是假的。“验证”和下一个操作之间存在固有的竞争条件。不仅如此，仅仅因为您的简单验证操作成功并不意味着下一个重要的语句不会失败。您的应用程序应该跟踪它在事务期间所做的所有更改，直到提交，并且能够在事务失败时重试。

另一种方法是告诉用户“哎呀，失败了。重新输入所有更改并重试”。有时这实际上是正确的做法，例如当使用乐观锁定策略时，两个正在进行的更改发生冲突，并且您无法以编程方式安全地合并它们。不过，通常最好在幕后重试。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-17T11:33:18.133

使用连接池，例如 pgbouncer 或 pgpool。本月早些时候我们做了一些测试：

> 使用 pgpool 大约需要 9 毫秒来执行查询，没有 pgpool 大约需要 700 毫秒来执行相同的查询。

区别在于查询计划的缓存。

# facebook-graph-api - facebook api 离线调用

> ID：11517344
> 
> 赞同：-1
> 
> 时间：2012-07-17T06:50:50.337
> 
> 标签：facebook-graph-api

我正在尝试 Facebook api。为此，我创建了一个应用程序密钥。并写了一个小程序。安装 apache 并执行该 HTML 文件。facebook 徽标出现了，但我无法从该程序中获取任何值。如果我在 facebook 控制台上执行相同的程序，它可以工作并给出值。

是否不能在连接到互联网但在私有 IP 的本地计算机上使用 facebook api？我不想直接在我的服务器上工作。想在我的机器上离线测试一些东西而不是部署代码..这不可能>

有没有更好的方法在 facebook apis 中使用 java API 打印 frdslist

```
 <html>
<head>
  <title>My  Test Facebook Login Page</title>
</head>
<body>

  <div id="fb-root"></div>
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : 'xxxxx', // App ID
        channelUrl : 'sample.com/backup', // Channel File
        status     : true, // check login status
        cookie     : true, // enable cookies to allow the server to access the session
        xfbml      : true  // parse XFBML
      });
    };                  
    // Load the SDK Asynchronously
    (function(d){
       var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement('script'); js.id = id; js.async = true;
       js.src = "//connect.facebook.net/en_US/all.js";         
       ref.parentNode.insertBefore(js, ref);
     }(document));

   FB.api('/me', function(response) {
alert("Name: "+ response.name + "\nFirst name: "+ response.first_name + "ID: "+response.id);
var img_link = "http://graph.facebook.com/"+response.id+"/picture" 
```

});

```
 FB.api('/me/friends', { fields: 'name,id,location,birthday' }, function(result) {

})

  </script>

   <div class="fb-login-button" >Login with Facebook</div>

</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T08:49:19.277

添加“read_friendlist”权限。

# javascript - 如何从 asp.net 页面中删除厚框背景屏幕？

> ID：11517347
> 
> 赞同：0
> 
> 时间：2012-07-17T06:51:09.060
> 
> 标签：javascript, jquery, asp.net, tags, thickbox

我在 javascript 中有 aa href 标记和验证方法

我的 aspx 代码类似这样

```
<a onclick="validate();" href="PopUpPage.aspx?KeepThis=true&TB_iframe=true&height=150&width=400"
      class="thickbox" id="AnchorImage" >
<img id="ColorImageButton" src="SiteImages.png" runat="server" />
</a> 
```

单击链接时，我需要验证并删除thickbox

我的 javascript 类似这样

```
function validate() {

if (document.getElementById('<%=ColorImageButton.ClientID%>').src.indexOf('Red.png') >= 0) {
             document.getElementById('AnchorImage').removeAttribute('href');
             document.getElementById('AnchorImage').removeAttribute('class');
         }
 } 
```

我有两个按钮来更改锚标签内的图像。基于使用按钮设置的图像，我正在删除厚盒类。意味着如果它是 Green.png 我需要显示thickbox.if Red.png 的弹出窗口我需要删除或禁用thickbox 或者不应该采取任何行动

```
<asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text="Button"  />
    <asp:Button ID="Button2" runat="server" OnClick="Button2_Click" Text="Button" />
protected void Button1_Click(object sender, EventArgs e)
{
    ColorImageButton.Src = "~/SiteImages/Red.png";
}
protected void Button2_Click(object sender, EventArgs e)
{
    ColorImageButton.Src = "~/SiteImages/Green.png";
} 
```

当用户单击锚标记内的图像时调用验证，如果条件满足，则不会显示弹出窗口。但是thickbox的黑色透明屏幕仍然出现，用户需要点击它。我怎么能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T05:12:10.453

查看thickbox.js 源代码，它没有提供取消的方法，因此请尝试手动调用它。

例如从锚点中删除thickbox 和href 属性

```
<a onclick="validate(); return false;" href="#" id="AnchorImage">
    <img id="ColorImageButton" src="SiteImages.png" runat="server" />
</a> 
```

在您的验证函数中调用 tb_show 以在必要时显示thickbox

```
function validate() {

    if (document.getElementById('<%=ColorImageButton.ClientID%>').src.indexOf('Red.png') >= 0) {
        // Do nothing
    } else {
       //tb_show(caption, url, imageGroup)
       tb_show(null, "PopUpPage.aspx?KeepThis=true&TB_iframe=true&height=150&width=400", false);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T05:23:30.720

如果您想删除 class="thickbox"，请更改您的 java 脚本，如下所示

```
document.getElementById("AnchorImage").removeAttribute('class'); 
```

否则，如果您想更改属性，请使用下面的代码

例如：对于文本框

```
document.getElementById("txt").removeAttribute("readonly",0); 
```

(0,1) 将属性值声明为 true 或 false。

希望这可以帮助你

# iphone - 如何在 iPhone 的 tableview 中的特定行显示传入消息

> ID：11517350
> 
> 赞同：0
> 
> 时间：2012-07-17T06:51:17.803
> 
> 标签：iphone, ios, tableview

我正在使用 xmpp 开发聊天应用程序。我可以发送和接收消息。我的联系人在 tableview 中我的问题是当有来自在线用户的消息时，我想在我的 tableview 的在线用户行显示消息符号。当该行被选中消息符号将消失。

我尝试了使用标签的休闲方式，但没有实现

```
-(UITableViewCell*)tableView:(UITableView *)tableView1 cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier=@"cell";
    UITableViewCell *cell=[tableView1 dequeueReusableCellWithIdentifier:cellIdentifier];
    if(cell==nil)
    {
        cell=[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
    }

      XMPPUserCoreDataStorageObject *user1= [[self fetchedResultsController] objectAtIndexPath:indexPath];
      cell.textLabel.text = user1.displayName;

      UILabel *lblText = [[UILabel alloc] initWithFrame:CGRectMake(290,16,10,20)]; 
      lblText.textColor = [UIColor orangeColor];
      [cell addSubview:lblText];

      if([cell.textLabel.text isEqualToString:user1.jidStr])
      {
        lblText.text=@"g";
      }

} 
```

谁能帮我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:56:37.387

传入的消息存储在字典或数组中，然后重新加载 tableview 以显示到达的最新消息。

每次检索消息时都必须重新加载表视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:01:45.080

使用以下表格视图方法将新行添加到表格中。

```
 -insertRowsAtIndexPaths:withRowAnimation: 
```

希望能帮助到你....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:24:36.673

您应该刷新存储表数据的 NSArray，然后 [tableView reloadData]; 例如，NSArray 的计数是 15，并且您收到一条新消息，您应该刷新 NSArray 以包含 16 个对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:01:41.757

您的标签应添加到`cell.contentView`. 表格视图单元格有许多子视图，指定供您使用的是`contentView`.

假设您为我们的利益简化了代码，但以防万一，您必须在消息进入后存储消息（大概在您的核心数据对象中）并调用`[UITableView reloadRowsAtIndexPaths:withRowAnimation:]`.

# wordpress - wp 管理插件：为特定用户创建特殊页面

> ID：11517354
> 
> 赞同：0
> 
> 时间：2012-07-17T06:51:44.463
> 
> 标签：wordpress

我想创建一些具有相同角色的用户，并希望每个用户只能访问由管理员创建的他自己的页面。**即使这些页面也不会显示为公开**

就像我在**承包商**角色下创建了 50 个用户，管理员为每个用户创建了具有不同内容的页面，现在每个用户只能在登录后访问他们自己的页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:13:32.327

这是解决方案[25 个适用于多作者博客的免费 WordPress 插件](http://www.noupe.com/wordpress/25-useful-free-wordpress-plugins-for-multi-author-blogs.html)

# php - Wordpress 是否能够维护多用户登录网站？

> ID：11517355
> 
> 赞同：0
> 
> 时间：2012-07-17T06:51:43.607
> 
> 标签：php, mysql, wordpress, content-management-system

我正在为我的大学制作一个网站，学生必须在其中注册，然后才能登录并拥有自己的个人资料。这意味着使用多个用户名、密码和其他数据维护数据库。学生将能够组建小组、社区并向他人提问。

Wordpress 对开发这样的网站有何帮助？还有其他好的 WP 教程吗？

我已经安装了 WP 并且正在学习它的[课程](http://codex.wordpress.org/WordPress_Lessons)，但这似乎是关于一个用户（管理员）编写自己的博客并控制其他人的帖子/评论。其他用户似乎没有登录。（也许我错过了多用户登录的课程，因为我刚刚开始一天）。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T08:37:29.923

### 默认功能

Wordpress 内置了[多用户支持。](https://codex.wordpress.org/Roles_and_Capabilities)您可以根据需要向您的网站添加任意数量的帐户。有不同类型的帐户，用户可以执行的操作不同：

> *   超级管理员 - 有权访问控制整个网络的博客网络管理功能的人（请参阅创建网络）。
> *   管理员 - 有权访问所有管理功能的人
> *   编辑 - 可以发布和管理帖子和页面以及管理其他用户的帖子等的人。
> *   作者 - 可以发布和管理自己的帖子的人
> *   贡献者 - 可以撰写和管理帖子但不能发布的人
> *   订阅者 - 只能管理其个人资料的人

您不需要手动设置所有用户，但允许人们自己注册，仅限于某种帐户类型（例如，让他们只创建具有有限访问权限的订阅者帐户）。

### 插件：Buddypress

那里有用于 Wordpress的[Buddypress 插件。](http://buddypress.org/)它将 Wordpress 扩展为更像一个社交网络。

> 我可以使用 BuddyPress 做什么？
> 
> BuddyPress 旨在将人们聚集在一起。它可以很好地使具有相似兴趣的人建立联系和交流。一些奇妙的用途可能是：
> 
> *   适用于您的大学、学校或学院的校园社交网络。
> *   适合您公司的内部沟通工具。
> *   您感兴趣的主题的利基社交网络。
> *   专注于您的新产品的社交网络。

如果您刚刚开始使用 Wordpress 开发，这听起来是个不错的选择。

# c++ - 创建一个 Windows 驱动程序，为用户透明地加密和解密文件

> ID：11517358
> 
> 赞同：1
> 
> 时间：2012-07-17T06:52:13.503
> 
> 标签：c++, windows, driver

我想创建一个加密文件的应用程序（比如文本文件）

当应用程序（例如记事本）尝试打开文件时，我的应用程序会拦截请求并向应用程序提供解密数据。

记事本不知道刚刚发生了什么。

问题是我从哪里开始？

我已经是 10 多年的业余程序员，并且对 c++ 非常熟悉，但这将是视觉 c++ 的第一次。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T04:47:22.670

[您可以使用文件系统微过滤器文件系统微过滤器驱动程序](http://msdn.microsoft.com/en-us/library/windows/hardware/ff540402%28v=vs.85%29.aspx)来实现此类加密。有了这个，您可以拦截所有文件操作 (IRP) 并决定您想要做什么，其中可以包括加密。

但是，当您修改文件数据时，有很多棘手的情况需要处理（例如分页 IO、直接 IO 等）。此外，如果您透明地更改文件数据大小，则非常难以管理，这可能会导致很多问题。因此，在加密/解密时尽量避免更改文件数据大小。

为了理解，您可以查看 IFS 工具包文档中的 minispy 和 swapbuffers 示例。

顺便说一句，这不是 VC++。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:16:50.207

本质上你是在复制 NTFS 加密，所以从 NTFS 文件系统驱动程序开始。特别是，加密文件需要是“重解析点”。

# java - 如何检测在java中打开的文件

> ID：11517370
> 
> 赞同：5
> 
> 时间：2012-07-17T06:53:36.687
> 
> 标签：java

我想写一个java应用程序。它在后台运行，当用户尝试在某个文件夹中打开文件或目录（双击或右键单击并选择打开）时，将生成一个事件，我可以在事件处理程序中执行某些操作。是否可以在java中检测到这一点？顺便说一句，似乎 java.nio 包无法检测到这个..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T06:59:07.643

您可以轮询所有文件以查看它们是否已在 Windows 上锁定。

无法判断文件是由直接用户打开还是由另一个程序（例如单词搜索）简单地扫描。

我怀疑您尝试做的任何事情都以另一种方式做得更好或更可靠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:10:01.710

注意目录变化。看看[这个](http://docs.oracle.com/javase/tutorial/essential/io/notification.html)

# utf-8 - 使用 Gmail X-GM-RAW IMAP 命令搜索 utf-8 字符串

> ID：11517375
> 
> 赞同：2
> 
> 时间：2012-07-17T06:54:02.513
> 
> 标签：utf-8, gmail, imap, gmail-imap

如果我使用 ascii 查询字符串，Gmail 的 imap 扩展命令 X-GM-RAW 允许我执行搜索。如果查询中使用了 utf-8 字符，则 imap 会返回错误响应。

[https://developers.google.com/google-apps/gmail/imap_extensions#extension_of_the_search_command_x-gm-raw](https://developers.google.com/google-apps/gmail/imap_extensions#extension_of_the_search_command_x-gm-raw)

应该如何对 utf-8 输入字符串进行编码，以便 X-GM-RAW 搜索能够正常工作。我不想失去搜索“主题”或“rfc833msgid”等特定字段的灵活性

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-06T22:32:36.717

指定 CHARSET UTF-8 并以文字形式发送 UTF-8 搜索词。例如，要搜索 UTF-8 编码的 6 字节长的你好：

```
A SEARCH CHARSET UTF-8 X-GM-RAW {6}
+ go ahead
你好
* SEARCH 15
a OK SEARCH completed (Success) 
```

在此示例中，您实际上将在第三行发送 6 字节的 UTF-8 编码的你好。

这适用于任何接受字符串的 SEARCH 关键字，包括 SUBJECT 和 HEADER MESSAGE-ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T07:47:18.370

IMAP isn't [8-bit clean](http://en.wikipedia.org/wiki/8-bit_clean), so it has to use a variety of different encodings to represent any 8-bit data.

For things like **folders and labels** IMAP4 uses **[Modified UTF-7](https://www.rfc-editor.org/rfc/rfc3501#section-5.1.3)** to represent these characters. Conveniently, ascii data encoded in modified utf7 encodes as itself, so normally nothing special needs to be done.

For message **headers** (including subjects) the text is encoded as **[Mime words](http://en.wikipedia.org/wiki/MIME#Encoded-Word)**.

And finally **atttachments** are generally encoded as either **Base64** or **Quoted-Printable**

My best guess is that GMail uses modified utf7 for their X-GM-RAW queries. The best reference implementation for modified utf7 I've found is in the [IMAPClient python library](http://pypi.python.org/pypi/IMAPClient/)

Hope this helps!

# android - 如何在android中制作通知图标

> ID：11517376
> 
> 赞同：-1
> 
> 时间：2012-07-17T06:54:08.100
> 
> 标签：android, icons

我想在我的应用程序中创建一个通知图标，它显示我的应用程序中发生的任何新事件，就像你在 android 中找到的新消息或新邮件一样。你们能帮我一个链接或分享你自己的想法来实现这个..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-06T19:41:34.237

找到了一个关于通知的很棒的教程 [http://www.tutorialspoint.com/android/android_notifications.htm](http://www.tutorialspoint.com/android/android_notifications.htm)这有更多的细节，但对于一个简单的图标......

将通知图标复制到可绘制文件夹

将以下变量添加到您的活动中

```
private NotificationManager mNotificationManager;
private int notificationID = 100; 
```

添加以下方法

```
// Start the Notification Icon
protected void displayNotification() {
    Log.i("Start", "notification");

    /* Invoking the default notification service */
    NotificationCompat.Builder  mBuilder = new NotificationCompat.Builder(this);    
    mBuilder.setSmallIcon(R.drawable.fl_notification);
    mBuilder.setContentTitle("Flashlight");

    mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);

    /* notificationID allows you to update the notification later on. */
    mNotificationManager.notify(notificationID, mBuilder.build());

 }

// Stop the Notification Icon
 protected void cancelNotification() {
    Log.i("Cancel", "notification");
    mNotificationManager.cancel(notificationID);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:03:02.880

现在创建的首选方式`Notification`是使用`Notification.Builder`类。[在这里](http://developer.android.com/reference/android/app/Notification.Builder.html)您可以找到使用此类的文档和示例。它有一个`setSmallIcon()`正是你需要的方法。希望这可以帮助。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-17T06:57:51.427

您可以使用吐司。Toast 通知是在窗口表面弹出的消息。例子：

```
Toast toast = Toast.makeText(context, text, duration);
toast.show(); 
```

您可以查看[http://developer.android.com/guide/topics/ui/notifiers/index.html](http://developer.android.com/guide/topics/ui/notifiers/index.html)了解更多详情。

# jsp - 在浏览器客户端和 Java 服务器端之间创建安全连接

> ID：11517377
> 
> 赞同：0
> 
> 时间：2012-07-17T06:54:09.930
> 
> 标签：jsp, jakarta-ee, servlets, security

我正在从事与网络安全相关的学术项目。我需要在客户端（浏览器）和服务器端 jsp/servlet 之间创建安全连接。在我的示例应用程序中，我有一个简单的 html 表单来捕获用户的 USERNAME 和 PASSWORD，然后将这些详细信息发送到服务器端 jsp/servlet 以检查登录帐户是否存在。现在，为了保护 HTML 表单数据，我需要在客户端浏览器上加密数据，然后再将其发送到服务器。我不必使用 java 脚本进行客户端加密。我被要求使用证书实现安全连接。

就我在安全方面的知识而言，我需要创建一些证书，然后将其发送给客户端，以便客户端可以将其用于与安全相关的功能。

我坚持以下查询：

1.  如何在 java 中创建证书（我需要任何第三方工具，或者是否有任何 java API 来创建证书）。

2.  当客户端首先从服务器请求应用程序时，我应该如何将证书发送给客户端。有没有类似的东西：

    ```
    out.println(certificate); 
    ```

    这样当用户使用服务器的 URL 请求服务器时，服务器就会返回证书。

3.  如何在客户端使用证书进行加密（是否有任何 html 标签，如果我们将存储在客户端机器上的证书路径提供给该标签，那么该标签会自动加密 HTML 表单数据。）

对于上述查询的任何帮助，我将非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T10:09:48.883

最后我得到了解决方案。处理上述情况需要以下步骤：

1.  我们需要在我们正在使用的 Web 服务器中激活 SSL（在我的例子中是 tomcat 7）。

2.  我们需要创建一个密钥库。KeyStore 是存储生成的密钥的地方。使用以下命令生成密钥库：

    ```
    C:\jdk_7\bin> keytool -genkey -keyalg RSA -alias <alias-name> -keystore <location-of-keystore> -validity 999 -keysize 2048 
    ```

3.  之后，我们需要对位于“Tomcal 安装目录”中的“server.xml”进行以下更改。将以下代码添加到 server.xml

    ```
    <Connector  port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol" 
        SSLEnabled="true"
        maxThreads="150" scheme="https" secure="true"
           clientAuth="false" sslProtocol="TLS"
         keystoreFile="E:\keystore\keystore.jks"
        keystorePass="password" /> 
    ```

    这里的“密码”是生成密钥库时输入的密码。

4.  现在只需使用以下 URL 访问应用程序。

    ```
    https://localhost:8443/application_name 
    ```

    之后，浏览器会自动要求用户安装证书。

这个解决方案对我有用。

# android - Android：网络无线电在 ACTION_SHUTDOWN 事件之前关闭。事件顺序在 ICS 中更改

> ID：11517380
> 
> 赞同：20
> 
> 时间：2012-07-17T06:54:43.903
> 
> 标签：android, android-intent

当用户在设备上关闭电源时，我正在向我的服务器发送注销。2.3**和 4.0.3**中的事件顺序如下。所以现在注销失败。
设备：**三星 Galaxy s2**

安卓：2.3

1) 接收 ACTION_SHUTDOWN
2) 发送 Logout 事件，休眠 5 秒，**LOG OUT SENT SUCCESSFULLY**
3) Data Network Radio off 事件。
4）设备断电。

安卓：4.0.3

1) 数据网络无线电关闭事件。
2) 接收 ACTION_SHUTDOWN
3) 发送 Logout 事件，**LOG OUT FAIL As Network is down**。
有什么办法可以在数据网络无线电关闭之前获得 ACTION_SHUTDOWN？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T20:02:46.483

它看起来不像普通的 Android 行为。可能是您的设备制造商对关机过程进行了一些内部改进以加快速度。

您可以在当前主分支上的[frameworks/base/services/java/com/android/server/pm/ShutdownThread.java#L296](https://github.com/android/platform_frameworks_base/blob/master/services/java/com/android/server/pm/ShutdownThread.java#L296)看到如何处理关闭。

但是，作为移动应用程序开发人员，您不应该依赖持续的网络连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T01:02:20.467

创建一个接收关闭广播的服务，如下所示：

```
public class MyAppShutdown extends BroadcastReceiver{
    private static final String TAG = "MyAppShutdown";
    @Override
    public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub
        Log.v(TAG, "onReceive - ++ ENTER ++");
        if (intent != null && intent.getAction().equals(Intent.ACTION_SHUTDOWN)){
            Log.v(TAG, "onReceive - ***] SHUTDOWN [***");
            // perhaps send a broadcast to your app via intent to perform a log out.
            Intent intent = new Intent();
            intent.addAction("intent.myapp.action.shutdown");
            sendBroadcast(intent);
        }
        Log.v(TAG, "onReceive - ++ LEAVE ++");        
    }
} 
```

在您的`AndroidManifest.xml`中，将以下片段嵌入`<application>`标签中：

```
<receiver android:name=".MyAppShutdown">
    <intent-filter>
         <action android:name="android.intent.action.SHUTDOWN"/>
    </intent-filter>
</receiver> 
```

从您的应用程序的活动中注册一个广播接收器，该接收器具有适当的意图过滤器：

```
public class myApp extends Activity{
    private myAppBroadcastRcvr myAppRcvr = new myAppBroadcastRcvr();
    @Override
    public void onCreate(Bundle savedInstanceState){
        IntentFilter filter = new IntentFilter();
        filter.addAction("intent.myapp.action.shutdown");
        registerReceiver(myAppRcvr, filter);
    }
    // Perhaps you have this
    private void LogOff(){
    }
    class myAppBroadcastRcvr extends BroadcastReceiver{
        @Override
        public void onReceive(Context context, Intent intent){
            if (intent.getAction().equals("intent.myapp.action.shutdown")){
                 LogOff();
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T13:01:58.640

您是否尝试过为此使用服务？您可以注册一个永远运行的服务，这样当它收到 onDestroy() 时，您就知道您的应用程序正在被杀死并执行该注销请求。

只是一个想法。我不知道服务的 onDestroy() 是否在网络出现故障之前被调用，但我会试一试以防万一。

# asp.net-mvc - 对 Visual Studio 2010 中的发布/调试文件夹感到困惑

> ID：11517383
> 
> 赞同：7
> 
> 时间：2012-07-17T06:55:04.923
> 
> 标签：asp.net-mvc, asp.net-mvc-3, deployment

我正在研究 ASP.Net MVC 3。当我在调试模式下构建它时，所有文件都进入 bin 文件夹。但我见过在 bin 文件夹中有“Debug”和“Release”文件夹的人。为什么我的 bin 文件夹中没有那个？

如何在我的 bin 文件夹中有 Debug & Release 文件夹？还是我真的应该拥有它们？

然后我看到使用“部署向导”时创建的 \obj\ 文件夹内有 Debug & Release 文件夹。这些文件夹与“bin”文件夹下的文件夹有什么不同？这两个一样吗？

请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-03T14:22:42.377

[这是一个关于 /obj 文件夹的用途以及它与 /bin 文件夹有何不同的好帖子](https://stackoverflow.com/questions/5308491/what-are-the-obj-and-bin-folders-created-by-visual-studio-used-for)

至于为什么您的 /bin 文件夹中没有 Debug/Release 文件夹：

- 在您的项目属性下，转到构建选项卡

- 从顶部的配置中选择调试或发布

- 对于每个配置，您可以在窗口底部设置**输出路径。**对于 Debug 使用 bin\Debug 并对 Release 执行相同的操作。

我不确定为什么 VS 不自动执行此操作——它在同一解决方案中为我的其他项目执行此操作。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-17T08:50:10.613

> **发布模式**
> 
> 在发布模式下构建程序集时，编译器会执行所有可用的优化，以确保输出的可执行文件和库尽可能高效地执行。此模式应用于要发布给最终用户的已完成并经过测试的软件。发布模式的缺点是，虽然生成的代码通常更快更小，但调试工具无法访问它。
> 
> **调试模式**
> 
> 开发软件时使用调试模式。在调试模式下编译程序集时，会嵌入额外的符号信息，并且不会优化代码。这意味着编译器的输出通常更大、更慢且效率更低。但是，可以将调试器附加到正在运行的程序，以允许在监视内部变量值的同时单步执行代码。

关于这个的一些优秀的SO线程是[here](https://stackoverflow.com/questions/2049844/why-have-separate-debug-and-release-folders-in-visual-studio)和[here](https://stackoverflow.com/questions/4767545/difference-between-debug-and-release-folders)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-07-16T19:20:12.637

尝试执行以下步骤：

**步骤一。**

1.  在解决方案资源管理器中右键单击 Web 项目名称，然后选择“发布”
2.  在“选择发布目标”中选择“文件夹”
3.  确保在“文件夹或文件共享”右侧面板中有“bin\Release\”
4.  单击弹出窗口右下角的“创建配置文件”按钮
5.  在打开的窗口中单击“重命名配置文件”蓝色链接
6.  在“新建配置文件名称”输入框中设置“发布”

**第二步。**

1.  再次右键单击解决方案资源管理器中的 Web 项目名称，然后选择“发布”
2.  点击“创建新个人资料”蓝色链接
3.  在“选择发布目标”中选择“文件夹”
4.  确保在“文件夹或文件共享”右侧面板中有“bin\Debug\”
5.  单击弹出窗口右下角的“创建配置文件”按钮
6.  在打开的窗口中单击“设置”蓝色链接
7.  在左侧菜单中打开的“发布”弹出窗口中选择“设置”
8.  在“配置”下拉列表中设置“调试”
9.  点击“保存”按钮
10.  点击“重命名个人资料”蓝色链接
11.  在“新配置文件名称”输入框中设置“调试”
12.  点击“保存”按钮

因此，您将拥有 2 个用于发布的配置文件，您可以在发布前在下拉列表中指定它们。您还可以根据需要创建任意数量的配置文件。

**最后一步。**

尝试使用它不断更改配置文件，然后单击“发布”按钮并检查您指定的输出文件夹：

*   bin/调试/
*   bin/发布/

如果你做的一切正确，你将在每个文件夹中都有特定的 Web.config 文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T06:59:26.137

我认为当您制作桌面应用程序时，您的调试和发布文件夹会在 Bin 文件夹中创建，而在 Web 应用程序中，调试和发布文件夹不在 bin 文件夹中。

debug 和 release 文件夹的区别在于，Debug 模式：帮助您进行调试，如行号等。Release 模式时没有优化：因为删除了所有调试信息，所以优化且高效。

# java - java.lang.IllegalArgumentException: NamedQuery of name: MY_FUNCTION not found in EJB

> ID：11517386
> 
> 赞同：1
> 
> 时间：2012-07-17T06:55:18.510
> 
> 标签：java, jpa, eclipselink, weblogic11g

我的 EJB 代码遇到问题。以下是我的代码，部署在 Weblogic 10.3.3 上：

```
@Entity
@NamedStoredFunctionQuery(name = "MY_FUNCTION", functionName = "apipay",
    parameters = {
        @StoredProcedureParameter(
            queryParameter = "consubflag", name = "consubflag", direction = Direction.IN, type=String.class),
        @StoredProcedureParameter(
            queryParameter = "contrno", name = "contrno", direction = Direction.IN, type=String.class),
        @StoredProcedureParameter(
            queryParameter = "username", name = "username", direction = Direction.IN, type=String.class)
    },
    returnParameter = 
        @StoredProcedureParameter(
            queryParameter = "paymentid", type = String.class)
)
public class MyPayment implements Serializable {

    @Id
    String paymentid;
    String consubflag;
    String contrno;
    String username;
} 
```

以下是我从中调用的 EJB 代码：

```
Query q = tabsEntityManager.createNamedQuery("MY_FUNCTION");
q.setParameter("consubflag", "S");
q.setParameter("contrno", contrno);
q.setParameter("username", "ATMGTW");

paymentId = (String) q.getSingleResult(); 
```

以下是我的persistence.xml：

```
<persistence-unit name="PU1" transaction-type="JTA">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
        <jta-data-source>jdbc/myDS1</jta-data-source>
        <class>com.MyPayment</class>
</persistence-unit>
<persistence-unit name="PU2" transaction-type="JTA">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
        <jta-data-source>jdbc/myDS2</jta-data-source>
        <class>com.MyRequest</class>
    </persistence-unit>
</persistence> 
```

完整的错误堆栈跟踪是：

```
java.lang.IllegalArgumentException: NamedQuery of name: My_FUNCTION not found.
        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getDatabaseQueryInternal(EJBQueryImpl.java:545)
        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameterInternal(EJBQueryImpl.java:1145)
        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:1032)
        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:71)
        at com.warid.es.onelink.facade.TopUpControllerBean.postPaidPayment(TopUpControllerBean.java:594) 
```

我在 Java SE 应用程序中尝试了相同的代码，它运行良好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:19:33.190

[NamedStoredFunctionQuery](http://www.eclipse.org/eclipselink/api/2.3/org/eclipse/persistence/annotations/NamedStoredFunctionQuery.html)是在 EclipseLink 2.3.x 中引入的，并且根据[文档](http://wiki.eclipse.org/EclipseLink/Examples/JPA/WebLogic_Web_Tutorial#Oracle_WebLogic_Server_10.3.3.0)WebLogic 10.3.3.0 是随 EclipseLink 2.0.2 一起提供的。

这就是为什么在部署期间忽略注释并且找不到在 @NamedStoredFunctionQuery 中定义的查询的原因。

# ios - 使按钮在 uitableview 滑动上可见

> ID：11517389
> 
> 赞同：0
> 
> 时间：2012-07-17T06:55:24.073
> 
> 标签：ios

我有一个 uitableview，我在其中添加了两个自定义按钮（接受/拒绝），它们也设置了样式，并且还检测了从哪个行按钮被按下。现在我希望它们在用户滑动时默认隐藏，然后它们出现像动画一样的删除按钮。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:04:44.860

这正是您需要的：

```
UISwipeGestureRecognizer *deleteRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(gestureToShowDeleteButton:)];
            deleteRecognizer.direction = UISwipeGestureRecognizerDirectionRight;
            [deleteRecognizer setNumberOfTouchesRequired:1];
            [cell addGestureRecognizer:deleteRecognizer];
            [deleteRecognizer release]; 
```

现在在您的视图控制器中添加一个方法“gestureToShowDeleteButton”，并在此方法中使用动画显示删除按钮...

这将进入gestureToShowDeleteButton方法......

```
[UIView animateWithDuration:0.2 delay: 0.0 options: UIViewAnimationOptionCurveEaseIn animations:^{ 
    [btnDeleteButton setFrame:CGRectMake(160, 10, 128, 55)]; 
    } 
    completion:^(BOOL finished){ }
    ]; 
```

使用框架 (288,10,0,55) 初始化按钮，前提是按钮的尺寸为 128x55....

希望能帮助到你... ;）

# facebook - 使用 Facebook PHP SDK 发布全尺寸图片

> ID：11517392
> 
> 赞同：1
> 
> 时间：2012-07-17T06:55:42.153
> 
> 标签：facebook

我正在使用 php sdk 在 facebook 墙上发布大小为 480*480 的图像。但是，墙上张贴的图像被调整为缩略图。有没有办法通过 PHP sdk api 以原始大小将图像发布到 FB 墙上？

感谢您对此的帮助。

# gps - 在黑莓中通过 GPS 获取坐标

> ID：11517393
> 
> 赞同：0
> 
> 时间：2012-07-17T06:55:47.680
> 
> 标签：gps, location, blackberry-simulator

我在 BlackBerry 模拟器 9800 中调用 startLocationUpdate() 以获取我所在位置的坐标（纬度、经度），即在阿联酋。但是我得到了加拿大的坐标。这是什么意思？GPS不工作吗？我尝试检查模拟器的设置，但没有看到“打开 GPS”的任何选项。请指导如何获取我的当前位置。

```
private boolean startLocationUpdate()
    {
        boolean retval = false;

            try
            {
            locationProvider = LocationProvider.getInstance(null);

            if ( locationProvider == null )
            {

            Runnable showGpsUnsupportedDialog = new Runnable()
            {
                public void run()
                {

                Dialog.alert("GPS is not supported on this platform, exiting...");
                //System.exit( 1 );
                }
            };

            UiApplication.getUiApplication().invokeAndWait( showGpsUnsupportedDialog ); // Ask event-dispatcher thread to display dialog ASAP.
            }
            else
            {

            locationProvider.setLocationListener(new LocationListenerImpl(), interval, -1, -1);

            retval = true;
            }
            }
            catch (LocationException le)
            {
                System.err.println("Failed to instantiate the LocationProvider object, exiting...");
                System.err.println(le);
                System.exit(0);
            }
            return retval;
            }

            private class LocationListenerImpl implements LocationListener
            {

            public void locationUpdated(LocationProvider provider, Location location)
            {
                    if(location.isValid())
                    {
                        longitude = location.getQualifiedCoordinates().getLongitude();
                        latitude = location.getQualifiedCoordinates().getLatitude();

                        updateLocationScreen(latitude, longitude);              

                    }
            }

            public void providerStateChanged(LocationProvider provider, int newState)
            {
            }
        }

         private void updateLocationScreen(final double latitude, final double longitude)
            {
                    UiApplication.getUiApplication().invokeAndWait(new Runnable()
                    {
                    public void run()
                    {
                    lat = latitude;
                    longt = longitude;

                    RichTextField txt=new RichTextField();
                    txt.setText("Long=="+longt);

                    RichTextField txt1=new RichTextField();
                    txt1.setText("lat=="+lat);

                    add(txt);
                    add(txt1);

//                  persistentLatitude.setContents(Double.toString(latitude));
//                  persistentLongitude.setContents(Double.toString(longitude));

                    }
                    });
            } 
```

我想检查 GPS 和互联网（Wifi、BES、GPRS/edge 等），无论哪种连接可用，我想通过可用服务获取坐标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:57:08.700

BB Simulators 中的默认 GPS 位置设置为加拿大的某个位置（据我所知是滑铁卢），这就是您获取加拿大坐标的原因。您可以从 BB Simulator 中的“模拟-> GPS 位置”更改 GPS 位置。 [来自 BB SupportForums 的这段视频](http://supportforums.blackberry.com/t5/Testing-and-Deployment/How-to-Simulate-GPS-Functionality/ta-p/446892?name=GPSSimNew)可能会对您有所帮助。

以下链接也可能有帮助：

1.  [SO 回答“黑莓 GPS 应用程序”](https://stackoverflow.com/questions/8738198/blackberry-gps-application)
2.  [黑莓位置 API](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/gps/BlackBerryLocation.html)

有关连接问题，请参阅此[链接](http://develop-for-fun.blogspot.com/2011/05/blackberry-connectivity-issues.html)

# delphi - 使用 Delphi 的自定义 IP 进行 URL 命中

> ID：11517396
> 
> 赞同：0
> 
> 时间：2012-07-17T06:56:05.983
> 
> 标签：delphi, sockets

我想通过使用自定义 IP 从 Delphi 访问 URL。我正在尝试使用[http://delphi.xcjc.net/viewthread.php?tid=47042](http://delphi.xcjc.net/viewthread.php?tid=47042) 但这仅接受目标 IP 和端口。

如何更改为 URL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T12:57:57.790

You can't spoof your IP address over a TCP connection, so "hitting" a URL via a spoofed IP address is impossible, as HTTP/HTTPS uses [TCP](http://en.wikipedia.org/wiki/Transmission_Control_Protocol).

The reason you can't spoof your IP address with a TCP connection is because there is a [handshake with TCP connections](http://en.wikipedia.org/wiki/Tcp_handshake#Connection_establishment), and your ACK must include the random number sent by the server in their SYN-ACK part of the handshake.

If you lie to the server about your IP address, you'll never receive the SYN-ACK, so you won't have the information required to finish the handshake.

Now, if you could guess the random number, that's a different story, and in the past, this was a common tactic, however the protocol has improved since then.

You can spoof your IP address with [UDP](http://en.wikipedia.org/wiki/User_Datagram_Protocol), since it's connectionless, using Indy UDP sockets, however, you won't get a response back from the server, of course.

With Windows XP SP3 or above, access to raw sockets requires elevated privileges. This is fine on your own machine, however, if you are developing software to run by others, you will probably want to build in your own IP stack to avoid privilege issues.

There are some services that run on UDP, like some games even, however, the web as we know it is mostly TCP, so spoofing is mostly out of the question.

If you are trying to disguise your actual IP address, take a look at using a remote [proxy server](http://en.wikipedia.org/wiki/Proxy_server), which will forward any traffic through a third party IP address. You will, for all intent and purposes, appear to be the proxy.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:07:06.413

我认为您必须围绕该代码编写自己的 http 包装器。

Http 通过向 IP 地址和包含标头的端口发送文本消息来工作，以通知服务器您要检索哪个页面。

因此，在您的情况下，您需要使用 url 的服务器和域部分查找 IP 地址，然后制作一个 http 请求消息。

[http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol](http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol)

[http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html)

但请记住，如果您欺骗您的 IP 地址，您将不会收到任何响应，而且，欺骗您的 IP 地址可能会违反与您的 ISP 的合同。

可能有图书馆可以做到这一点，但要小心隐藏的惊喜，因为其中许多可能是由有议程的人编写的；）

# c# - 在控件生命周期的哪个阶段，它可以访问继承的附加属性？

> ID：11517403
> 
> 赞同：1
> 
> 时间：2012-07-17T06:56:19.113
> 
> 标签：c#, wpf, dependency-properties, attached-properties, object-lifetime

我有一个使用某个继承的附加属性的控件，我发现我无法在构造函数中访问该属性，这是合理的，因为在那个阶段该控件不是可视化树的一部分，因此它可以'不继承任何附加属性。

```
// Constructor
public MyClassName()
{
    InitializeComponent();

    MyValue value = DeclaringClass.GetMyAttachedProperty(depObj); // value == null
} 
```

当我在活动期间尝试访问该属性时`Loaded`，我能够检索该值：

```
// Constructor
public MyClassName()
{
    InitializeComponent();

    Loaded += OnLoaded;
}

void OnLoaded(object sender, RoutedEventArgs e)
{
    Loaded -= OnLoaded;

    MyValue value = DeclaringClass.GetMyAttachedProperty(depObj); // value != null

    // Do something with value
} 
```

所以这让我想到了我的问题——控件生命周期中可以访问继承的附加属性的最早阶段是什么？有没有更好的地方来代替`Loaded`活动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:48:49.093

最早的可能确实在`Loaded`事件处理程序内部。您唯一的其他选择是构造函数（或道德上等价的`Initialized`事件），但是对于依赖属性来说，假设继承值还为时过早。

另请参阅MSDN 上的[常见对象生命周期事件](http://msdn.microsoft.com/en-us/library/ms754221.aspx#common_events)。

# javascript - 如何定义 html5 形状的 z-index 值？

> ID：11517407
> 
> 赞同：1
> 
> 时间：2012-07-17T06:56:33.370
> 
> 标签：javascript, html

我使用 canvas.getContext('2d') 绘制了 html5 形状矩形、直线和曲线。我很困惑我怎样才能给他们z-index？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:06:43.813

在 Html5 画布绘制 API 中，您不能设置在画布中绘制的任何形状的 z-index。因为画布是即时绘图模式，一旦你绘制你就不能访问那个绘制的形状，因为画布不是 DOM 的一部分。但是伪造 z-index 您可以按某种顺序绘制形状，第一个绘制的形状将采用 0 索引，依此类推。

您可以使用 EaselJS 一个 javascript 库，它将为您提供保留的显示模式，您可以设置每个孩子的索引并轻松访问该孩子。

# r - ggplot2：如何手动调整 scale_area

> ID：11517411
> 
> 赞同：6
> 
> 时间：2012-07-17T06:56:44.047
> 
> 标签：r, ggplot2

我制作了 2 个气泡图，分别称为 beta 和 km。我想并排比较这些图，但 scale_area 似乎不同，这使得很难根据气泡的大小直观地比较 2 个图。

如果您注意到下图中的图例，则比例不同。我认为这是因为 betaGSD5 数据集上的最高 BiasAM 值 ~ 64 和 kmGSD5 数据 = 100。

如何手动更改 scale_area 以使 betaPlot 比例与 kmPlot 比例匹配？

也可以手动设置图例中断吗？而不是自动生成，可以指定我想要的图例吗？0-10、10-30、30-50、50-70、70-100、

> 100

betaGSD5 数据：[https ://dl.dropbox.com/u/63947093/betaGSD5.csv](https://dl.dropbox.com/u/63947093/betaGSD5.csv)

kmGSD5 数据： [https ://dl.dropbox.com/u/63947093/kmGSD5.csv](https://dl.dropbox.com/u/63947093/kmGSD5.csv)

这是测试版情节代码

```
betaPlot <- ggplot(betaGSD5, aes(N,PctCens,size=BiasAM,label=NULL)) +
  geom_point(colour="red", shape=16) +scale_area(to=c(1,10)) +
  xlab("Sample size") + ylab("Percent censored") +
  xlim(0,100)+ ylim(0,100) +
  theme_bw()+
  opts(
 #legend.position='none',
  panel.grid.minor = theme_blank(),
  panel.background = theme_blank(),
  axis.ticks = theme_blank(),
  axis.title.x=theme_text(face='bold',vjust=0.2, size =12), #size=15 #hjust:move     horizonal, vjust-move verticall
  axis.title.y=theme_text(face='bold',angle=90, vjust=0.2,size =12))
print(betaPlot) 
```

![在此处输入图像描述](../Images/5b9e80d40997e2f1a3931d4bec970444.png)

公里图

```
kmPlot <- ggplot(kmGSD5, aes(N,PctCens,size=NewBiasAMpct,label=NULL)) +
    geom_point(colour="red", shape=16) +scale_area(to=c(1,10)) +
    xlab("Sample size") + ylab("Percent censored") +
    xlim(0,100)+ ylim(0,100) +
    theme_bw()+
    opts(
      #legend.position='none',
     panel.grid.minor = theme_blank(),
     panel.background = theme_blank(),
     axis.ticks = theme_blank(),
     axis.title.x=theme_text(face='bold',vjust=0.2, size =12), #size=15 #hjust:move       horizonal, vjust-move verticall
     axis.title.y=theme_text(face='bold',angle=90, vjust=0.2,size =12))

 print(kmPlot) 
```

![在此处输入图像描述](../Images/6df427a6bfbd0588b1ab66739d0fe837.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-17T08:23:25.950

如果您希望它们并排，那么这很容易。只需结合数据集并使用 facet_wrap()

```
ggplot(dataset, aes(x = N, y = PctCens, size = BiasAM, label = NULL)) +
  geom_point(colour="red", shape = 16) + 
  scale_size_area(limits = c(1, 10), breaks = c(0, 10, 30, 50, 70, 100)) +
  scale_x_continuous("Sample size", limits = c(0, 100)) + 
  scale_y_continuous("Percent censored", limits = c(0, 100)) +
  facet_wrap(~ Method) + 
  theme_bw() +
  theme(
    panel.grid.minor = element_blank(),
    panel.background = element_blank(),
    axis.ticks = element_blank(),
    axis.title.x = element_text(face = 'bold', vjust = 0.2, size = 12),
    axis.title.y = element_text(face = 'bold', angle = 90, vjust = 0.2, size = 12)
  ) 
```

![在此处输入图像描述](../Images/63bcf347233cca99aee456be3dc65334.png)

# javascript - 如何包装 div？

> ID：11517415
> 
> 赞同：11
> 
> 时间：2012-07-17T06:57:01.793
> 
> 标签：javascript, html, css, layout

基本上，我希望外部 div 之外的内部 div 根据外部 div 的宽度进行换行，而外部 div 又根据浏览器窗口的宽度进行扩展和收缩，如下所示：

```
.---------------------.
|                     | <-- Browser Window
| .-----------------. |
| |  ,-,  ,-,  ,-,  | |
| |  |X|  |X|  |X|  | |
| |  `-`  `-`  `-`  | |
| |                 | |
| |  ,-,  ,-,  ,-,  | |
| |  |X|  |X|  |X|  | |
| |  `-`  `-`  `-`  | |
| `-----------------` |
|                     |
`---------------------`

.-------------------------------.
|                               | <-- Browser Window enlarged
| .---------------------------. |
| |  ,-,  ,-,  ,-,  ,-,  ,-,  | |
| |  |X|  |X|  |X|  |X|  |X| <----- Inner divs wrap around accordingly, as if
| |  `-`  `-`  `-`  `-`  `-`  | |     they are text
| |                           | |
| |  ,-,                      | |
| |  |X|                      | |
| |  `-`                      | |
| `---------------------------` |
|                               |
`-------------------------------` 
```

什么是最好的（就开发人员时间而言最简单的）方法来实现这一点？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-17T07:02:27.227

为此块设置 - `display: inline-block`，并为主容器设置一些宽度...

```
 .div {
     display: inline-block;
  } 
```

[http://jsfiddle.net/guh5Z/1/](http://jsfiddle.net/guh5Z/1/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-17T06:57:56.727

您可以只应用`float: left`到每个内部 div。请参阅以下 jsFiddle 作为示例（尝试调整结果窗格的大小以查看行为）：

jsFiddle（现场）：http: [//jsfiddle.net/guh5Z/](http://jsfiddle.net/guh5Z/)

源代码：

```
<html>
<head>
    <style type="text/css">
        #outer {
            width: 90%;
            height: 90%;
            margin: 5%;
            overflow: auto;
            background-color: red;
        }

        .inner {
            float: left;
            width: 150px;
            height: 150px;
            margin: 20px;
            background-color: blue;
        }
    </style>
<body>
    <div id="outer">
        <div class="inner">X</div>
        <div class="inner">X</div>
        <div class="inner">X</div>
        <div class="inner">X</div>
        <div class="inner">X</div>
        <div class="inner">X</div>
    </div>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-17T07:05:36.620

如果您要输入文本，则可以`<ul>`改用。像这样的东西：

CSS：

```
ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

li {
  width: 100px;
  height: 120px;
  border: 1px solid;
  float: left;
  margin: 5px;
} 
```

HTML：

```
<ul>
  <li>Random text here</li>
  <li>Random text here</li>
</ul> 
```

我希望这会有所帮助

# python - 是否可以在同一个脚本中使用 pyGTK 和 Monkeyrunner？

> ID：11517420
> 
> 赞同：0
> 
> 时间：2012-07-17T06:57:15.727
> 
> 标签：python, adb, importerror, monkeyrunner

我从导入 GTK 和 monkeyrunner 开始：

```
from com.android.monkeyrunner import MonkeyRunner
import gtk
... 
```

当我在 SDK 工具中使用 monkeyrunner 运行它时，它会显示`ImportError: No module named gtk`. 当我用 Python 运行它时，它说`ImportError: No module named com.android.monkeyrunner`.

有没有办法设置一个同时使用这两个模块的程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T20:51:27.200

MonkeyRunner 是用 Jython 构建的，它只编译了一小部分标准模块。如果您想将 MonkeyRunner 与其他 python 包一起使用，那么您需要在 MonkeyRunner 程序中使用 os.system 或类似的东西来调用单独的python实例。

# extjs - 如何在 ExtJS 4.0 中连接两个绘图组件

> ID：11517425
> 
> 赞同：3
> 
> 时间：2012-07-17T06:57:35.387
> 
> 标签：extjs

我在 ExtJS4 中使用绘图组件绘制了两个圆圈。我想知道如何使用带箭头的线连接这些圆圈。是否有任何方法可以绘制这样的线，而无需手动绘制箭头。

谢谢， Boopathy

# windows - 如何为多个列表框（TCL）实现 tk 滚动条？

> ID：11517429
> 
> 赞同：1
> 
> 时间：2012-07-17T06:57:55.927
> 
> 标签：windows, tcl, tk

我尝试了各种选项，但没有成功为两个或多个列表框实现简单的滚动条。以下是我在滚动时出错的代码。我希望你们能帮助我...

```
scrollbar .scroll -orient v
pack .scroll -side left -fill y
listbox .lis1
pack .lis1 -side left 
listbox .lis2
pack .lis2 -side left 

for {set x 0} {$x < 100} {incr x} {
 .lis1 insert end $x
 .lis2 insert end $x
}
.lis1 configure -yscrollcommand [list .scroll set]
.lis2 configure -yscrollcommand [list .scroll set]
.scroll configure -command ".lis1 yview .lis2 yview "; 
```

感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T08:14:25.290

[Tcler 的 wiki](http://wiki.tcl.tk/9254)上有许多示例，但核心原则是使用一个过程来确保小部件之间的滚动协议同步。这是基于该 wiki 页面的示例：

```
# Some data to scroll through
set ::items [lrepeat 10 {*}"The quick brown fox jumps over the lazy dog."]

# Some widgets that will scroll together
listbox .list1 -listvar ::items -yscrollcommand {setScroll .scroll}
listbox .list2 -listvar ::items -yscrollcommand {setScroll .scroll}
scrollbar .scroll -orient vertical -command {synchScroll {.list1 .list2} yview}

# The connectors
proc setScroll {s args} {
    $s set {*}$args
    {*}[$s cget -command] moveto [lindex [$s get] 0]
}
proc synchScroll {widgets args} {
    foreach w $widgets {$w {*}$args}
}

# Put the GUI together
pack .list1 .scroll .list2 -side left -fill y 
```

值得注意的是，您还可以将任何其他可滚动小部件插入此方案；Tk 中的所有内容都以相同的方式滚动（水平滚动`-xscrollcommand`和`xview`滚动条方向的变化除外）。此外，*这里*的连接器与 wiki 页面上的连接器不同，可以同时用于多组滚动小部件；一起滚动的内容存储在滚动条的选项中（回调`-command`的第一个参数）。`synchScroll`

* * *

[编辑]：对于 8.4 及之前的版本，您需要稍微不同的连接器程序：

```
# The connectors
proc setScroll {s args} {
    eval [list $s set] $args
    eval [$s cget -command] [list moveto [lindex [$s get] 0]]
}
proc synchScroll {widgets args} {
    foreach w $widgets {eval [list $w] $args}
} 
```

其他一切都将是一样的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-10T16:06:01.903

我知道这篇文章真的很旧，但我最近发现了我认为是一个相当简单的解决方案。我发现我可以使用滑块小部件，而不是使用垂直滚动条。使用滑块，您可以获得滑块的位置并使用它来设置列表框的 yview。可以同时滚动多个列表框。我使用 vtcl 来构建 GUI，因此我可以提供的代码对于那些使用 tk wm 命令的人来说可能并不明显。但这是我使用的代码。它与滑块运动有关。

```
set listIndex [$widget(Scale1) get]
$widget(Listbox1) yview $listIndex
$widget(Listbox2) yview $listIndex 
```

希望这对某人有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:05:09.350

如果您打算在回调命令中做很多工作 - 制作一个过程来完成它，因为它既更快（过程得到字节编译）并且不太可能引入 tcl 语法问题。在这种情况下，您尝试在滚动条函数中执行两个 tcl 命令，因此您需要使用换行符或分号分隔语句。

从两个列表框调用滚动条设置函数只会让第二个覆盖第一个。您需要一个函数来合并这两个，或者如果列表具有相同的长度，只需从其中一个调用它来设置滚动条大小和位置，然后使用滚动条回调更新所有列表框。

某处有一个 multilistbox 包 - 尝试[Tcl wiki](http://wiki.tcl.tk/)查找示例。

# android - Android - 布局错误：106 宽度：0 ellipsizedWidth：0

> ID：11517430
> 
> 赞同：3
> 
> 时间：2012-07-17T06:58:01.410
> 
> 标签：android, eclipse, layout

当我调试和测试我的 Android 应用程序时，它在 DDMS 中一直显示以下警告：

布局错误：106 宽度：0 ellipsizedWidth：0

即使在连接我的手机并在那里进行测试时，它也会不断重复相同的警告。

基本上我所做的是将我的活动之间的转换更改为 iPhone 样式（活动移到一边，另一个活动到位）。

我在网上获得了该代码，但基本上它非常简单，您只需为过渡创建一个 xml 文件，并在您想要调用另一个活动时调用以下方法：

```
overridePendingTransition(R.anim.left_to_right, R.anim.right_to_left); 
```

现在我的应用程序运行良好并且运行速度非常快，但我担心因为 DDMS 中有大量类似的警告，所以我不知道这是否会影响我的应用程序或移动设备的性能该应用程序将在将来安装。

下面是 DDMS 的截图

[![Eclipse 错误](../Images/fe4c70b704d7c96574aed3c6826d92d1.png)](https://i.stack.imgur.com/cdxUx.jpg)
[（来源：[cleverservice.net](http://www.cleverservice.net/stackoverflow/eclipse_error_17_07_2012.jpg)）]

![Eclipse 错误][1]

# html - 如何隐藏表格指定行的边框？

> ID：11517432
> 
> 赞同：44
> 
> 时间：2012-07-17T06:58:10.270
> 
> 标签：html, css, html-table, border

我想隐藏表格特定行的边框。怎么做？
任何的想法？
示例代码受到高度赞赏。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-07-17T07:06:51.593

`<td>`在s 后面的s上使用 CSS 属性边框，`<tr>`您不希望有边框。

在我的例子中，我做了一个`noBorder`我给 one的课程`<tr>`。然后，我使用一个简单的选择`tr.noBorder td`器通过分配.`<td>``<tr>``noBorder``border: 0`

请注意，`px`如果您将某些内容设置`0`为，则不需要提供单位（即 ），因为无论如何它都无关紧要。零只是零。

```
table, tr, td {
  border: 3px solid red;
}
tr.noBorder td {
  border: 0;
}
```

```
<table>
  <tr>
    <td>A1</td>
    <td>B1</td>
    <td>C1</td>
  </tr>
  <tr class="noBorder">
    <td>A2</td>
    <td>B2</td>
    <td>C2</td>
  </tr>
  <tr>
    <td>A3</td>
    <td>A3</td>
    <td>A3</td>
  </tr>
</table>
```

这是作为图像的输出：

![从 HTML 输出](../Images/b739b5458678ea626bddc2c481c7e516.png)

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2016-01-26T20:59:37.103

我用这个效果很好：

```
border-style:hidden; 
```

它也适用于：

```
border-right-style:hidden; /*if you want to hide just a border on a cell*/ 
```

例子：

```
<style type="text/css">
      table, th, td {
       border: 2px solid green;
      }
      tr.hide_right > td, td.hide_right{
        border-right-style:hidden;
      }
      tr.hide_all > td, td.hide_all{
        border-style:hidden;
      }
  }
</style>
<table>
  <tr>
    <td class="hide_right">11</td>
    <td>12</td>
    <td class="hide_all">13</td>
  </tr>
  <tr class="hide_right">
    <td>21</td>
    <td>22</td>
    <td>23</td>
  </tr>
  <tr class="hide_all">
    <td>31</td>
    <td>32</td>
    <td>33</td>
  </tr>
</table>
```

结果如下： [![在此处输入图像描述](../Images/79bf6ad5b508bbe631d66eac8dfc512f.png)](https://i.stack.imgur.com/FzglY.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:09:09.283

以编程方式将 noborder 类添加到特定行以隐藏它

```
<style>
     .noborder
      {
        border:none;
      }
    </style>

<table>

    <tr>
       <th>heading1</th>
       <th>heading2</th>
    </tr>

    <tr>
       <td>content1</td>
       <td>content2</td>
    </tr>
    /*no border for this row */
    <tr class="noborder">
       <td>content1</td>
       <td>content2</td>
    </tr>

</table> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-12-21T05:04:28.207

您可以简单地在此处添加这些代码行来隐藏一行，

要么你可以写`border:0`，要么`border-style:hidden;` `border: none`它会发生同样的事情

```
<style type="text/css">
              table, th, td {
               border: 1px solid;
              }

              tr.hide_all > td, td.hide_all{
                 border: 0;

              }
          }
        </style>
    <table>
      <tr>
        <th>Firstname</th>
        <th>Lastname</th>
        <th>Savings</th>
      </tr>
      <tr>
        <td>Peter</td>
        <td>Griffin</td>
        <td>$100</td>
      </tr>
      <tr class= hide_all>
        <td>Lois</td>
        <td>Griffin</td>
        <td>$150</td>
      </tr>
      <tr>
        <td>Joe</td>
        <td>Swanson</td>
        <td>$300</td>
      </tr>
      <tr>
        <td>Cleveland</td>
        <td>Brown</td>
        <td>$250</td>
      </tr>
    </table>
```

运行这几行代码可以轻松解决问题

# apache-flex - flex中i18n的成本是多少？

> ID：11517434
> 
> 赞同：0
> 
> 时间：2012-07-17T06:58:25.270
> 
> 标签：apache-flex, data-binding, internationalization

在 flex 中，大部分 i18nized 字符串是通过与`{resourceManager.getString()}`. 实际上，它会生成十几个等待更新 resourceManager.localeChain 的侦听器，这种情况很少（或在大多数情况下......）不会发生。

我想知道数据绑定的实际成本是多少，是否有办法限制这种开销以及 babel fx 之类的框架是否有用？

注意：在我的业务中，如果用户更改其区域设置时他必须注销/登录到更新的标签，这不是问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:08:45.333

几个月前我已经实现了一个示例，如果它应该成为一个问题，如何轻松摆脱数据绑定。

从我的角度来看，并不是数据绑定没有那么糟糕，而是当有很多资源字符串时，这可能会导致片刻的无响应。如果 babel 是一个更好的选择，我不知道。当语言环境更改时，您将调用侦听器，我认为我的解决方案（[L18nExample@github](https://github.com/floriansalihovic/L18nExample)）在性能方面很好。一种优化的方法是实现 setter，它与组件的生命周期正确对应。

# c# - 母版页检查会话问题

> ID：11517436
> 
> 赞同：4
> 
> 时间：2012-07-17T06:58:33.133
> 
> 标签：c#, asp.net, session, .net-4.0

我正在修复我朋友的代码。我对母版页中的会话值有疑问。我正在检查主页面中的会话是否为空或为空，如果为空，请转到登录页面。但是母版页创建的其他页面从不工作。

```
if (Session["user"] != null && Session["user"] != "")
{ }
else
{
    Response.Redirect("/Account/Login.aspx?link=" + System.Web.HttpContext.Current.Request.Url.PathAndQuery);
} 
```

我尝试使用 Session["user"].ToString() 但结果相同。

并且其他页面通过此会话具有其他控件，因此如果您未登录，它总是会出错。

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true"
    MaintainScrollPositionOnPostback="true" CodeFile="document.aspx.cs" Inherits="document" %> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T08:05:25.420

基于此：

> 但是 back.master 的 page_load 中的会话控制在 default.aspx page_load 之后触发，所以它给了我错误“会话为空”

这里的根本问题很简单……你需要充分了解[ASP.Net 页面生命周期](http://msdn.microsoft.com/en-us/library/ms178472.aspx)

快速浏览一下：

![在此处输入图像描述](../Images/948956a54ff5e9b8ef1a5661d7d2994a.png)

基本上你的以下假设是错误的：

> 然后我创建名称为 default.aspx**并由 back.master 派生的普通 aspx 页面**

来自 MSDN：

> 母版页的行为类似于页面上的子控件：母版页 Init 事件发生在页面 Init 和 Load 事件之前，而母版页 Load 事件发生在页面 Init 和 Load 事件之后

遗憾的是 ASP.Net**不是从母版页派生的，**为什么？因为母版页被视为控件，所以真正发生的是母版页是`Page`

## 备择方案：

*   由于您正在检查用户是否经过身份验证，因此最好依赖 ASP.Net 身份验证和授权 API

## 解决方法（如果您坚持使用自己的身份验证机制）：

*   （最佳推荐）创建一个自定义`HttpModule`并在那里检查`Session`对象。我认为最适合您需求的事件是：`Application_AuthenticateRequest`. 这是您可以选择的完整事件列表：（顺便说一句，无需创建新的 HttpModule，您可以使用 Web 应用程序的*Global.asax*文件订阅事件，仅当您想封装重用它的逻辑）

    *   应用程序_开始请求。
    *   **Application_AuthenticateRequest。**
    *   **Application_PostAuthenticateRequest。**
    *   应用程序_默认身份验证。
    *   **应用程序_授权请求。**
    *   **Application_PostAuthorizeRequest。**
    *   Application_ResolveRequestCache。
    *   Application_PostResolveRequestCache。
    *   Application_MapRequestHandler。仅当服务器以集成模式运行 IIS 7 且至少 >Net Framework 3.0 时触发
    *   Application_PostMapRequestHandler。
    *   Application_AcquireRequestState。
    *   Application_PostAcquireRequestState。
    *   Application_PreRequestHandler 执行。
    *   页面事件处理程序被执行。（参考页面生命周期）
    *   Application_PostRequestHandler 执行。
    *   Application_ReleaseRequestState。
    *   Application_PostReleaseRequestState
    *   Application_UpdateRequestCache。
    *   Application_PostUpdateRequestCache
    *   Application_LogRequest。仅在服务器为 IIS 7 集成模式且至少为 .Net Framework 3.0 时触发
    *   Application_PostLogRequest。仅在服务器为 IIS 7 集成模式且至少为 .Net Framework 3.0 时触发
    *   应用程序_结束请求。

    欲了解更多信息：

    *   [IIS 5.0 和 6.0 的 ASP.NET 应用程序生命周期概述](http://msdn.microsoft.com/en-us/library/ms178473.aspx)

    *   [IIS 7.0 的 ASP.NET 应用程序生命周期概述](http://msdn.microsoft.com/en-us/library/bb470252.aspx)

*   创建一个通用页面，继承`Page`并在`PreLoad`or`Load`事件中放置检查代码，这两个事件都可以工作并最终从该页面继承您的所有页面

*   （不推荐）如果您想将检查封装在母版页中，您可以使用`Init`事件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:25:12.780

IIS 具有用于身份验证和授权的标准方法。

如果您想在用户未登录的情况下限制对网站某些区域的访问，那么配置中的机制允许这样做：

在您的 web.config 中，您可以添加：

```
<location path="LoginRequiredDir">
  <system.web>
     <authorization>
        <deny users="?"/>
     </authorization>
  </system.web>
</location> 
```

如果用户未登录，这将自动将用户带到登录页面。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T05:48:30.890

修复：它将解决您的问题。

```
protected void Page_Init(object sender, EventArgs e)
{
    if (Session["master"] != null)
    { }
    else
    {
        Response.Redirect("login.aspx?link=" + System.Web.HttpContext.Current.Request.Url.PathAndQuery);
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-11-15T03:52:16.720

我也遇到过类似的问题。我习惯`true`了这种`Response.Redirect`方法，因此其余的负载应该被终止。[参考](https://msdn.microsoft.com/en-us/library/a8wa7sdt(v=vs.110).aspx)。我检查了母版页中的会话值，`Page_Init`如下所示。

```
public partial class Dashboard : System.Web.UI.MasterPage
{
    protected void Page_Init(object sender, EventArgs e)
    {
        if (Session["RoleId"] == null || Session["RoleId"].ToString() == "")
        {
            Response.Redirect("/account", true);
        }
    }
    protected void Page_Load(object sender, EventArgs e)
    {

        if (!IsPostBack)
        {
                setUserInfo();
        }
    }
} 
```

希望能帮助到你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T07:09:32.423

您通过以下方式定义上述代码`Page_Load`方法：

```
 protected void Page_Load(object sender, EventArgs e)
    {
        if (Session["user"] != null && Session["user"].ToString() != "")
        {
            //do code here
        }
        else
        {
            Response.Redirect("/Account/Login.aspx?link=" + System.Web.HttpContext.Current.Request.Url.PathAndQuery);
        }
    } 
```

# arrays - 类型安全的矩形多维数组类型

> ID：11517437
> 
> 赞同：7
> 
> 时间：2012-07-17T06:58:34.763
> 
> 标签：arrays, scala, collections, types, multidimensional-array

如何在 Scala 中表示**矩形**二维（或多维）数组数据结构？

也就是说，每一行都有相同的长度，**在编译时验证**，但尺寸是在运行时确定的？

`Seq[Seq[A]]`具有所需的接口，但它允许用户提供“参差不齐”的数组，这可能导致运行时失败。

`Seq[(A, A, A, A, A, A)]`（和类似的）确实验证了长度是否相同，但它也强制在编译时指定这个长度。

### 示例界面

这是我的意思的示例界面（当然，内部维度不必是元组；它可以指定为列表或其他类型）：

```
// Function that takes a rectangular array
def processArray(arr : RectArray2D[Int]) = {
    // do something that assumes all rows of RectArray are the same length
}

// Calling the function (OK)
println(processArray(RectArray2D(
    ( 0,  1,  2,  3),
    (10, 11, 12, 13),
    (20, 21, 22, 23)
)))
// Compile-time error
println(processArray(RectArray2D(
    ( 0,  1,  2,  3),
    (10, 11, 12),
    (20, 21, 22, 23, 24)
))) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T07:19:41.720

这可以使用[Shapeless](https://github.com/milessabin/shapeless)库的大小类型：

```
import shapeless._

def foo[A, N <: Nat](rect: Seq[Sized[Seq[A], N]]) = rect

val a = Seq(Sized(1, 2, 3), Sized(4, 5, 6))
val b = Seq(Sized(1, 2, 3), Sized(4, 5)) 
```

现在`foo(a)`编译，但`foo(b)`没有。

这使我们可以编写非常接近您所需界面的内容：

```
case class RectArray2D[A, N <: Nat](rows: Sized[Seq[A], N]*)

def processArray(arr: RectArray2D[Int, _]) = {
  // Run-time confirmation of what we've verified at compile-time.
  require(arr.rows.map(_.size).distinct.size == 1)
  // Do something.
}

// Compiles and runs.
processArray(RectArray2D(
  Sized( 0,  1,  2,  3),
  Sized(10, 11, 12, 13),
  Sized(20, 21, 22, 23)
))

// Doesn't compile.
processArray(RectArray2D(
  Sized( 0,  1,  2,  3),
  Sized(10, 11, 12),
  Sized(20, 21, 22, 23)
)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:57:51.207

使用封装来确保合适的尺寸。

```
final class Matrix[T]( cols: Int, rows: Int ) {
  private val container: Array[Array[T]] = Array.ofDim[T]( cols, rows )
  def get( col: Int, row: Int ) = container(col)(row)
  def set( col: Int, row: Int )( value: T ) { container(col)(row) = value } 
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-18T07:15:27.967

**注意：**我误读了这个问题，将矩形误认为是正方形。哦，好吧，如果您正在寻找正方形，这将适合。否则，您应该选择@Travis Brown 的回答。

这个解决方案可能不是最通用的解决方案，但它与Scala 中定义*Tuple*类的方式一致。

```
class Rect[T] private (val data: Seq[T])

object Rect {
    def apply[T](a1: (T, T), a2: (T, T)) = new Rect(Seq(a1, a2))
    def apply[T](a1: (T, T, T), a2: (T, T, T), a3: (T, T, T)) = new Rect(Seq(a1, a2, a3))
    // Continued...
}

Rect(
     (1, 2, 3),
     (3, 4, 5),
     (5, 6, 7)) 
```

这是您正在寻找的界面，如果您有无效大小的行、列或元素类型，编译器将阻止您。

# c++ - MFC扩展dll资源加载问题

> ID：11517439
> 
> 赞同：3
> 
> 时间：2012-07-17T06:58:44.407
> 
> 标签：c++, dll, mfc, dialog, afx

我已经构建了以下配置：

*   A) 具有 2 个 MFC 对话框的 MFC 扩展 DLL。
*   B) 使用 DLL A 函数的 MFC 常规 dll。
*   C) win32 应用程序 (NON MFC) 从 DLL B 调用函数

当从 DLL B 调用函数时，在调用 DLL A 中的函数以显示对话框时，由于找不到资源而发生错误。

我已经挖掘找到确切的根本原因，主要的原因似乎是模块上下文设置为调用 dll B 而不是包含对话框资源的 DLL A。

在 DllMain 内部，初始化按照 MSDN 中的描述完成：

```
static AFX_EXTENSION_MODULE NEAR extensionDLL = { NULL, NULL };

extern "C" int APIENTRY DllMain(HINSTANCE hInstance, DWORD dwReason, LPVOID lpReserved)
{   
   if (dwReason == DLL_PROCESS_ATTACH)
   {      
       Hinstance = hInstance;  //save instance for later reuse
      // Extension DLL one-time initialization
      if (AfxInitExtensionModule(extensionDLL,hInstance) == 0)
      {
          AfxMessageBox("Error on init AfxInitExtensionModule!");
          return 0;
      }
      // Insert this DLL into the resource chain
      new CDynLinkLibrary(extensionDLL);
   }
   else if (dwReason == DLL_PROCESS_DETACH)
   {
       Release();
   }
   return 1;
} 
```

我发现的一个解决方法是存储从 DLLMain 接收的**hInstance参数：** *extern "C" int APIENTRY DllMain(HINSTANCE **hInstance** , DWORD dwReason, LPVOID lpReserved)* 并在调用函数时在 DLL A 中保存当前句柄并设置新的处理从 DllMain 收到的句柄：

```
DLL A function1(............)
{
    HINSTANCE HinstanceOld = AfxGetResourceHandle(); 
    AfxSetResourceHandle(CErrohInstance); 
    .......
    //display dialog
    .....
    AfxSetResourceHandle(HinstanceOld);
} 
```

通过使用这个 workarround 它仍然会引起断言，但会显示对话框。

解决这个问题的正常方法应该是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-14T19:28:26.437

您必须将扩展 DLL 的资源插入到常规 DLL 的资源链中，而不是 EXE。只需在扩展 DLL 中创建一个函数，并在常规 DLL 的 InitInstance 方法中调用它，如下所示：

```
void initDLL()
{
  new CDynLinkLibrary(extensionDLL);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-20T11:23:53.507

您说“模块上下文”，但实际上技术终点是“模块状态”。

AFAICS 这是相对标准（即最常出现）的 MFC 模块状态相关用例，即：通过回调/公共导出 API 进入内部实现区域。

[AFX_MANAGE_STATE](https://msdn.microsoft.com/en-us/library/ba9d5yh5.aspx)直接提到了这个用例：“如果你在 DLL 中有导出的函数”

此时，当前处于活动状态的模块状态是调用方的状态，而不是实现范围内需要的状态。由于实现范围*知道*它需要不同的模块状态（并且它*知道*哪个是正确的！），它需要暂时切换到正确的状态，以实现任何模块状态相关的查找（准确地说：资源实例查找）在正确的实例范围内完成。

这不需要通过 AfxSetModuleState() 手动完成，而是通过 AFX_MANAGE_STATE 宏的适当生命周期范围（保证适当销毁，在可能存在的任何取消点，无论是返回还是异常或其他）机制来完成。

IOW，实现可能需要非常类似于以下内容：

```
BOOL MyPublicAPIOrCallback()
{
    AFX_MANAGE_STATE(AfxGetStaticModuleState()); // ensure locally expected module state within this externally-invoked handling scope

    some_handling_which_does_resource_lookup_or_whatever;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T10:38:40.567

不知道您是否已经找到解决方案，如果没有您可以尝试使用

[AfxFindResourceHandle](http://msdn.microsoft.com/en-us/library/zf0f9ezz%28v=vs.80%29.aspx)

在访问 Dll A 中有问题的资源之前。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-18T17:20:52.823

我已经在我的 DLLMain 中添加了这些行，现在使用我的 DLL 调用的其他 DLL 中的资源（例如对话框）没有问题。这是代码：

```
static AFX_EXTENSION_MODULE CODIAbantailDLLDLL = { NULL, NULL };

AplicacionBase      theApp;

extern "C" int APIENTRY
DllMain(HINSTANCE hInstance, DWORD dwReason, LPVOID lpReserved)
{
    // Quitar lo siguiente si se utiliza lpReserved
    UNREFERENCED_PARAMETER(lpReserved);

    if (dwReason == DLL_PROCESS_ATTACH)
    {
        // ******** VERY IMPORTANT ***********************
        // IF you doesn't put this, when you call other DLL that has 
        // its owns resources (dialogs for instance), it crash
        CoInitialize(NULL);
        AfxWinInit(hInstance, NULL, ::GetCommandLine(), 0);
        AfxEnableControlContainer();
        //**************************************************
        TRACE0("Inicializando CODIAbantailDLL.DLL\n");

        // Inicialización única del archivo DLL de extensión
        if (!AfxInitExtensionModule(CODIAbantailDLLDLL, hInstance))
            return 0;

        new CDynLinkLibrary(CODIAbantailDLLDLL);

    }
    else if (dwReason == DLL_PROCESS_DETACH)
    {
        TRACE0("Finalizando CODIAbantailDLL.DLL\n");

        // Finalizar la biblioteca antes de llamar a los destructores
        AfxTermExtensionModule(CODIAbantailDLLDLL);
    }
    return 1;   // aceptar
} 
```

# javascript - 使用 JavaScript 在文本框中只允许阿拉伯字母

> ID：11517440
> 
> 赞同：2
> 
> 时间：2012-07-17T06:58:49.723
> 
> 标签：javascript, asp.net

我有一个 aspx 页面，该页面具有用于“用户阿拉伯名称”的 TextBox 控件我想允许用户使用 JavaScript 在文本框中仅键入阿拉伯字母

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T07:09:54.720

首先，您制作如下文本框：

```
<asp:textbox id="txtbxr" runat="server"  onselectstart="return false" ondragstart="return false" onkeypress="return(KeyPressOrder(this,event))" onkeydown="(KeyPressOrder(this,event))" ></asp:textbox> 
```

然后添加javascript方法：

```
function KeyPressOrder(fld, e) {

    var strCheck = '0123456789acbdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
    var whichCode = e.which ? e.which : e.keyCode;

        if (whichCode == 13 || whichCode == 8 || whichCode == 9) return true;
        key = String.fromCharCode(whichCode);
        if (strCheck.indexOf(key) == -1)
            return false;

    return true;
} 
```

现在您必须像上面的示例一样在 strCheck 中输入所有阿拉伯字符

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-02T09:06:45.437

“ذض ص ث ق ف غ ع ه خ ح ج دش س ي ب ل ا ت ن م ك ط ئءؤرلاى ةوزظ .acbdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ”；

此字符串与上述解决方案相结合将允许用户键入任何英文或阿拉伯字符，并额外允许点 (.)

# common-lisp - 测试是否已经在 clisp 中安装了 quicklisp

> ID：11517444
> 
> 赞同：2
> 
> 时间：2012-07-17T06:59:02.203
> 
> 标签：common-lisp, clisp, quicklisp

我正在 Common Lisp 中开发一个项目，该项目使用通过快速加载安装的包。我在项目的根目录中制作了一个 bash 脚本，用于测试是否安装了必要的程序，如果一切顺利，它会运行一个加载我的项目的 lisp 脚本。我想要一些方法来测试是否安装了 quicklisp，这样我就可以让它可以请求用户自动下载和安装 quicklisp 的权限。有没有办法对此进行测试？Quicklisp 安装在 clisp 中，而不是作为操作系统上的包安装，因此使用 bash 内置函数来测试是否安装了程序将不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:38:15.977

从 Lisp 内部：Quicklisp`:quicklisp`列入`cl:*features*`名单。如果 Quicklisp 已经加载到 Lisp 中，那么这个符号就在`*features*`列表中。

要测试它：

```
(member :quicklisp *features*) 
```

在 Lisp 代码中，您还可以使用条件阅读器：

```
#+quicklisp (print "quicklisp installed") 
```

或者

```
#-quicklisp (print "quicklisp not installed") 
```

# android - 关于 Android R.java 文件

> ID：11517449
> 
> 赞同：0
> 
> 时间：2012-07-17T06:59:20.253
> 
> 标签：android

我正在尝试创建一个新的 android 应用程序项目，但 google 更新了 adt 并在修订版 20 中对应了新屏幕。当我创建一个新项目时，没有生成 R.java 文件，我尝试了数百万次但结果相同。我没有更改任何代码行，默认情况下它不会出现。帮帮我，伙计们。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:20:37.910

执行以下步骤：

```
1\. Clean your project.
2\. If their is import android.R statement, remove this.
3\. close your project & start it again & rebuild it.
4\. check out your xml file. 
```

希望这会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:23:18.440

1.  确保所有 xml 文件都没有错误
2.  干净的
3.  建造`// don't forget this one`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T07:01:46.163

检查 xml 文件和 res 文件夹中的任何错误。然后去项目>清理和清理你的项目。

然后会生成你的 R.java

# php - YouTube Zend 库获取播放列表条目的 VideoId

> ID：11517451
> 
> 赞同：4
> 
> 时间：2012-07-17T06:59:32.920
> 
> 标签：php, zend-framework, youtube, gdata, playlists

我正在使用 Zend GData 库从我的应用程序中管理 YouTube 视频。该应用程序使用户能够根据需要选择将上传的视频添加到他们预先存在的 YouTube 播放列表之一。一个问题是，如果视频随后从我们的应用程序中删除，它似乎会在添加它的播放列表中留下一个“孤立”的已删除视频对象。

我一直在想办法让我们的应用程序先从任何播放列表中删除视频，然后再将其从 YouTube 中删除，但我很难弄清楚如何确定播放列表中是否包含特定的 YouTube 视频。

我编写了一个函数，它遍历与登录用户相关的每个播放列表中的每个条目，并尝试将播放列表中视频的视频 ID 与作为参数传递的视频 ID 进行比较。但是，我似乎无法获得播放列表中任何视频的视频 ID 值。

这是功能：

```
function remove_video_from_playlists($yt,$hash){

    $playlistListFeed = $yt->getPlaylistListFeed("default");

    foreach ($playlistListFeed as $playlistListEntry) {

        $playlistVideoFeed = $yt->getPlaylistVideoFeed($playlistListEntry->getPlaylistVideoFeedUrl());

        foreach ($playlistVideoFeed as $playlistVideoEntry) {

        //check to see if each video in the playlist matches the video we are trying to delete
            if($playlistVideoEntry->getMediaGroup()->videoId == $hash){

                $playlistVideoEntry->delete();

            }
        }   
    }
} 
```

任何帮助，将不胜感激。如何获取播放列表中每个视频条目的底层 videoId？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T02:55:10.373

我发现了这个问题。

我需要在 $yt 对象上将 GData 库版本设置为版本 2

使用这个：$yt->setMajorProtocolVersion(2);

这使得所有奇怪的行为都消失了，并且 $playlistVideoEntry->getMediaGroup()->getVideoId() 的使用按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T08:19:10.197

你试过做

```
$playlistVideoEntry->getMediaGroup()->getVideoId(); 
```

因为从 API 中看，似乎有这样一个函数应该返回你需要的东西。

# css - 如何垂直对齐不同尺寸的图像 “列表样式类型：无；”？

> ID：11517460
> 
> 赞同：1
> 
> 时间：2012-07-17T07:00:22.000
> 
> 标签：css, alignment, vertical-alignment

这是一个代码，垂直对齐仍然没有运气。尝试了很多东西放入`#mylist`和放入`#mylist li img`。

CSS：

```
#mylist
{
list-style-type : none;
padding-top     : 0px;

border:1px solid red;
overflow: hidden;
}

#mylist li
{
float         : left;
padding-right : 3px;
}

#mylist li img
{

} 
```

html:

```
<div id="div-to-align">
    <ul id="mylist">
    <li><a href="#"><img src="img1.png" alt="" ></a></li>
    <li><a href="#"><img src="img2.png" alt="" ></a></li>
    <li><a href="#"><img src="img3.png" alt="" ></a></li>
    <li><a href="#"><img src="img4.png" alt="" ></a></li>
    </ul>
<span>Some text here. Everything should be centered vertically</span>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:08:17.313

尝试将 css 添加到**li**并将 vertical-align:middle 添加到**img**

```
#mylist
{
    list-style-type : none;
    padding-top     : 0;
    border:1px solid red;
    overflow: hidden;
}
#mylist li {
    display:inline-block
}
#mylist li img
{
    vertical-align:middle

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:10:06.587

`float: left`像这样使用：

```
#mylist li
{
    float: left;
    list-style-type : none;
    padding-top     : 0px;

    border:1px solid red;
    overflow: hidden;
} 
```

**编辑：** 您在此处进行的更正后是更新版本：

```
#mylist {   
    position : relative;            
    display : inline-block; 
    left : 40%; // depends on the width of the image
    list-style-type : none;
    padding-top     : 0px;

    border :1px solid red;
    overflow : hidden;
}
#clear {
    clear : both;     
}

#mylist li {
    float : left;
    padding-right : 3px;
}​ 
```

这就是你需要的吗？它将与图像对齐到 div 或父元素的中心。

# android - What is difference between these two statement?

> ID：11517461
> 
> 赞同：1
> 
> 时间：2012-07-17T07:00:26.887
> 
> 标签：android, mysql, jdbc

> **Possible Duplicate:**
> [What is difference between “Class.forName()” and “Class.forName().newInstance()”?](https://stackoverflow.com/questions/2092659/what-is-difference-between-class-forname-and-class-forname-newinstance)

In my android apps to connect mysql server using jdbc connection. In that I want to know difference

```
`Class.forName("com.mysql.jdbc.Driver");` 
```

and

```
Class.forName("com.mysql.jdbc.Driver").newInstance(); 
```

and also how to set the timeout functions, when server is not connected?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:03:55.087

`Class.forName()` returns a Class object -- an object that represents a particular Java class.

`newInstance()` -- a method of java.lang.Class -- will use the no-argument constructor of the represented class to create an instance of that class.

**For your question:** (Reference from [http://www.coderanch.com/t/385654/java/java/Difference-between-Class-forName-Class](http://www.coderanch.com/t/385654/java/java/Difference-between-Class-forName-Class))

`Class.forName()` gets a reference to a Class, `Class.forName().newInstance()` tries to use the no-arg constructor for the Class to return a new instance. No surprises so far. Another common use for `Class.forName()` is to cause the Class to be loaded, since some types of Classes have side-effects from the loading process which is required for other purposes. `JDBC` is a large user of this process, since the Driver class is required to register itself with the `DriverManager` Class when it gets loaded.

In the deep dark days of Java, probably v1.1.8 but possibly up to Java 1.2, there was an issue that the default `ClassLoader` would not load a Class until it had an instance created. In these cases, JDBC code would fail if you used `Class.forName()` rather than `Class.forName().newInstance()`.

While `newInstance()` would create an instance that got immediately thrown away, it was required to make `Class.forName()` work correctly. This work around is no longer required.

# asp.net - 使用页面渲染与响应过滤器

> ID：11517462
> 
> 赞同：0
> 
> 时间：2012-07-17T07:00:31.427
> 
> 标签：asp.net

基本上，我正在寻找一种删除给定页面的脚本标签的方法。我已经使用 RegEx 来执行此“src=\”（{0}）\“。” 在覆盖无效渲染（HtmlTextWriter writer）方法中。但是我发现如果在渲染方法中操作HTML，第一个字节的时间会增加。我想知道是否有更好的方法可以使用ResponseFilters而不妥协关于表演

```
 StringBuilder regExpressionForScriptTags = new StringBuilder();
                regExpressionForScriptTags.AppendFormat("<script .*src=\"({0})\".*</script>", sRepalcableScripts);

                Regex scriptTags = new Regex(regExpressionForScriptTags.ToString(), RegexOptions.Compiled | RegexOptions.IgnoreCase);
                MatchCollection collection = scriptTags.Matches(RawHtml);

                int? firstMatchPosition = null;

                RawHtml = scriptTags.Replace(RawHtml, new MatchEvaluator(delegate(Match match)
                {
                    if (!firstMatchPosition.HasValue)
                        firstMatchPosition = match.Index;

                    return string.Empty;
                })); 
```

# jquery - jQuery map 函数将图像元素附加为对象

> ID：11517463
> 
> 赞同：0
> 
> 时间：2012-07-17T07:00:37.713
> 
> 标签：jquery

这是我的功能：

```
var listImg = params.list.find('img'), naviHtml = '<ul>';

$.map ( listImg, function ( img, i ) {

        naviHtml += '<li>'+ img + '</li>'
        //naviHtml += '<li><img width=150 height=50 src=' + $(img).attr('src') + '></li>'

    })

    naviHtml += '</ul>'

    console.log(naviHtml); 
```

当我控制台或附加到正文元素时，它给出的结果如下：

```
<ul><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li><li>[object HTMLImageElement]</li></ul> 
```

因为我没有得到图像，我怎样才能使 htmlimageElement 对象成为 html 常规元素？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:06:13.750

```
var listImg = params.list.find('img'), 
    $navi = $('<ul>');

$.each( listImg, function (img, i) {
  $('<li>').append(img).appendTo($navi);
});

console.log( $navi.html() ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:03:49.410

通过创建标签并设置属性：

```
naviHtml += '<li><img width="'+img.width+'" height="'+img.height+'" src="'+img.src+'" /></li>'; 
```

# python - 在 python 中进行减法运算时得到奇怪的结果

> ID：11517473
> 
> 赞同：1
> 
> 时间：2012-07-17T07:01:23.500
> 
> 标签：python

> **可能重复：**
> [Python“is”运算符对整数的行为异常](https://stackoverflow.com/questions/306313/python-is-operator-behaves-unexpectedly-with-integers)
> [为什么（0-6）为-6 = False？](https://stackoverflow.com/questions/11476190/why-0-6-is-6-false)

```
>>> (0 - 10) is -10
False
>>> (0 - 5) is -5
True 
```

任何人都可以解释一下，我如何在一种情况下得到 False，在另一种情况下得到 True 来进行相同的操作......

还有点诡异...

```
>>> (0 - 10) is (0 - 10)
False 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:03:40.783

不要`is`用于相等测试 - 它是身份运算符，两个相等的对象不一定相同（即位于计算机内存中的同一地址下）。一些小整数可能会被缓存和重用，但不是全部，这就是您在这里看到不同结果的原因。

此外，此行为依赖于实现，因此您不能始终依赖这种情况。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:06:37.277

从[文档](http://docs.python.org/c-api/int.html#PyInt_FromLong)：

*当前的实现为 -5 到 256 之间的所有整数保留一个整数对象数组，当您在该范围内创建一个 int 时，您实际上只是取回了对现有对象的引用。所以应该可以改变 1 的值。我怀疑 Python 在这种情况下的行为是未定义的。:-)*

根据我的经验：在我的 Python2.7 中，在其他地方`(0 + x) is x`返回between and 。`True``x``-5``+256``False`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T07:08:11.190

您正在创建实例`int`并期望它们都是同一个对象。对于大多数其他对象，这通常根本不起作用，所以也许你会感到惊讶`True`。

这样做的原因是 Python 在启动时会创建一堆经常使用的整数对象，只要它们被调用就可以重用它们。这行得通，因为`int`它是不可变的，但只是一种优化。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-17T07:08:36.727

运算符将`is`确定两个对象是否具有相同的标识（在低级术语中，它们的表示是否位于内存中的相同地址）。

```
a = object()
a is a
True 
```

在 Python 中，数字和其他任何东西一样都是对象，因此是否`is`有效取决于您如何创建它们。

```
a = 0
a is a
True 
```

您的代码在一种情况下工作而不在另一种情况下工作的原因是 Python*实习*小整数；也就是说，与其为它创建一个新的数字对象，不如为`-5`它保留一个小整数的缓存并为您提供适当的数字对象。另一方面，在您的情况下`-10`没有实习，因此 Python 每次都必须创建一个新的数字对象。

其他被实习的对象包括短字符串（包括单字符串）`True`和 `False。

你不应该依赖实习；而不是`is`你应该使用`==`运算符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T07:12:29.930

可能有一些实现优化可以重用相同的数字对象。

我会说这就是为什么你`True`有时会得到。

```
$ python3
Python 3.2.3 (default, May  3 2012, 15:51:42)
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> id(3)
9357472
>>> id(3)
9357472 
```

我认为您正在寻找的平等检查`==`：

```
>>> 3 is 3    # Result may depend on implementation details
True
>>> 3 == 3    # Always True
True 
```

# xcode - Xcode：搜索栏过滤

> ID：11517475
> 
> 赞同：1
> 
> 时间：2012-07-17T07:01:36.837
> 
> 标签：xcode, uitableview, sqlite, uisearchdisplaycontroller

大家好，我开发了一个应用程序来搜索连接到 sqlite 数据库的表视图。应用程序中添加了一个搜索栏，搜索工作正常，但是当我键入时，我只需要出现以键入的字母开头的项目。这是我到目前为止的代码：

```
-(void)searchBar:(UISearchBar*)searchBar textDidChange:(NSString*)text
{
    if(text.length == 0)
    {
        isFiltered = FALSE;
    }
    else
    {
        isFiltered = true;
        filteredTableData = [[NSMutableArray alloc] init];

        for (Author* author in theauthors)
        {  //[NSPredicate predicateWithFormat:@"SELECT * from books where title LIKE %@", searchBar.text];
            NSRange nameRange = [author.name rangeOfString:text options:NSCaseInsensitiveSearch];
            NSRange descriptionRange = [author.genre rangeOfString:text options:NSCaseInsensitiveSearch];
            if(nameRange.location != NSNotFound || descriptionRange.location != NSNotFound)
            {
                [filteredTableData addObject:author];
            }
        }
    }

    [self.tableView reloadData];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:14:55.713

其实很简单。我只需要将选项文件从 options:NSCaseInsensitiveSearch 更改为 option:NSAnchoredSearch 它就像一个魅力

# magento - Magento 自定义客户地址属性未保存

> ID：11517479
> 
> 赞同：0
> 
> 时间：2012-07-17T07:01:42.623
> 
> 标签：magento

我正在尝试向实体添加一个属性`mobile`。`customer_address`当我从前端创建用户时，Magento 不会保存此属性值，但是当我从管理员创建用户时它可以工作。

这是代码片段

```
$installer->addAttribute('customer_address','trading2_mobile',array(
    'type'               => 'varchar',
    'label'              => 'Mobile 2',
    'input'              => 'text',
    'global' => 1,
    'visible' => 1,
    'required' => 0,
    'visible_on_front' => 1,
));

$trading2_mobile = Mage::getSingleton('eav/config')->getAttribute('customer_address', 'trading2_mobile');
$trading2_mobile->setData('used_in_forms',array('customer_register_address','customer_address_edit','adminhtml_customer_address'))->save(); 
```

**前端代码**

```
<div class="field">
  <label for="mobile2" class="required"><em>*</em><?php echo $this->__('Mobile 2') ?></label>
  <div class="input-box">
  <input type="text" name="mobile2" id="mobile2" value="<?php echo $this->htmlEscape($this->getFormData()->getTrading2Mobile()) ?>" title="<?php echo $this->__('Mobile 2') ?>" class="input-text required-entry" />
</div>
                    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T08:03:35.393

输入字段的名称和 id（用于 JS 验证）属性应为“trading2_mobile”：

```
<input type="text" name="trading2_mobile" id="trading2_mobile" value="<?php echo $this->htmlEscape($this->getFormData()->getTrading2Mobile()) ?>" title="<?php echo $this->__('Mobile 2') ?>" class="input-text required-entry" /> 
```

# wpf - WPF 钢笔绘图可视化

> ID：11517486
> 
> 赞同：0
> 
> 时间：2012-07-17T07:01:57.583
> 
> 标签：wpf, stroke

我正在使用 WPF DrawingVisual 和 Pen 并遇到问题。

当我用 Pen 画一个 DrawingVisual 时，比如说一个 Rectangle，如下所示：

```
Pen StrokePen = new Pen();
StrokePen.Brush = Brushes.SkyBlue;
StrokePen.Thickness = 6;

DrawingVisual dv = new DrawingVisual
DrawingContext dc = dv.RenderOpen();
dc.DrawingRectangle(......., StrokePen, ......);
dc.Close(); 
```

我发现 Stroke 的一半覆盖了矩形，如下所示：

![在此处输入图像描述](../Images/0c534759a74a9fe6a27e9da53d3120c3.png)

因此，如果 Pen 的粗细太大以至于比 Rectangle 还要大，则 Rectangle 会消失（整个矩形都被 Stroke 覆盖）。

我可以调整一些设置，以便在矩形上绘制的笔划（笔）不会覆盖矩形（只在矩形的边上绘制）

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T10:14:58.507

您可以简单地绘制 Rectangle 两次，首先使用 Pen，然后使用 Brush：

```
using (DrawingContext dc = dv.RenderOpen())
{
    ...
    dc.DrawingRectangle(null, StrokePen, ...); 
    dc.DrawingRectangle(FillBrush, null, ...);
    ....
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:31:44.203

在矩形的 wpf 边框中是它的内部内容，所以没有办法强制它在矩形之外。但是您可以调整矩形的大小以补偿 Pen.Thickness。

# php - 仅在magento中加载特定的视图文件而没有页眉和页脚

> ID：11517490
> 
> 赞同：2
> 
> 时间：2012-07-17T07:02:25.230
> 
> 标签：php, magento, magento-1.6

如果我确实遵循控制器的操作

```
$this->loadLayout();     
$this->renderLayout(); 
```

并遵循该布局文件

```
<label>Label</label>
<remove name="right" />
<remove name="left" />
<remove name="header" />
<remove name="footer" />
<reference name="root">
    <action method="setTemplate">
        <template>page/1column.phtml</template>
    </action>
</reference>
<reference name="content">
    <block type="abc/abc" name="hello" template="abc/abc.phtml" />
</reference> 
```

有没有办法在不加载magento的页眉和页脚的情况下加载特定的视图文件。我不想在该页面上加载任何类型的 css、js。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:46:37.160

在 Magento 中，“head”块负责 js 和 css 输出等。因此，您提供的布局 xml 中唯一缺少的代码如下：

```
<remove name="head" /> 
```

此外，您还没有在示例代码中提供布局句柄。确保您的目标是正确的布局句柄。

# javascript - 如何使用 OpenLayers 以编程方式选择功能

> ID：11517503
> 
> 赞同：0
> 
> 时间：2012-07-17T07:03:20.397
> 
> 标签：javascript, openlayers

我有个问题。我有一张带有 OpenLayers 图层的地图。接下来我有一个包含图层功能的列表。
我想在此列表中选择功能并进行编辑。
所以我需要如何向`OpenLayers.Control.SelectFeature`.
这该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T13:59:02.553

调用控件的`select`(1) 方法`SelectFeature`怎么样？

1 - [http://dev.openlayers.org/docs/files/OpenLayers/Control/SelectFeature-js.html#OpenLayers.Control.SelectFeature.select](http://dev.openlayers.org/docs/files/OpenLayers/Control/SelectFeature-js.html#OpenLayers.Control.SelectFeature.select)

# php - 字符串助手；数组和子串

> ID：11517505
> 
> 赞同：1
> 
> 时间：2012-07-17T07:03:35.860
> 
> 标签：php, string

我的问题是我使用的是下面显示的随机字符串创建器，我没有使用“alpha”，我使用的是“fourlet”。唯一的问题是这个在一个数组中

```
substr($pool, mt_rand(0, strlen($pool) -1), 1); 
```

不能作为数据数组的随机创建者。有人可以帮忙吗？

下面是帮助程序的完整代码。

```
{
function random_string($type = 'alnum', $len = 8)
{
    switch($type)
    {
        case 'basic'    : return mt_rand();
            break;
        case 'alnum'    :
        case 'numeric'  :
        case 'nozero'   :
        case 'alpha'    :

                switch ($type)
                {
                    case 'alpha'    :   $pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
                        break;
                    case 'fourlet'  :   $pool = array('my', 'fun', 'zone', '12', '24', '37');
                        break;
                }

                $str = '';
                for ($i=0; $i < $len; $i++)
                {
                    $str .= substr($pool, mt_rand(0, strlen($pool) -1), 1);
                }
                return $str;
            break;
        case 'unique'   :
        case 'md5'      :

                    return md5(uniqid(mt_rand()));
            break;
        case 'encrypt'  :
        case 'sha1' :

                    $CI =& get_instance();
                    $CI->load->helper('security');

                    return do_hash(uniqid(mt_rand(), TRUE), 'sha1');
            break;
    }
} 
```

}

所以

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:36:00.097

我做了一些改变。希望这会帮助你。

```
 <?php 
```

// $input = array("Neo", "Morpheus", "Trinity", "Cypher", "Tank"); // $rand_keys = array_rand($input, 2); // 回显 $input[$rand_keys[0]] . "\n"; // 回显 $input[$rand_keys[1]] . "\n";

function random_string($type = 'alnum', $len = 8) { switch($type) { case 'basic' : return mt_rand(); 休息; 案例“alnum”：案例“数字”：案例“nozero”：默认值：

```
 switch ($type)
    {
    case 'alpha'    :   $pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        break;
    case 'fourlet'  :   $pool = array('my', 'fun', 'zone', '12', '24', '37');
        break;
    }

    $str = '';
        if(gettype($pool)=='string'){
            for ($i=0; $i < $len; $i++){
                $str .= substr($pool, mt_rand(0, strlen($pool) -1), 1);
            }
        }   
        else if(gettype($pool)=='array'){       
            $rand_keys = array_rand($pool,4);
         $str=$pool[$rand_keys[0]].$pool[$rand_keys[1]].$pool[$rand_keys[2]].$pool[$rand_keys[3]];

        }       

    return $str;
    break;
case 'unique'   :
case 'md5'      :

    return md5(uniqid(mt_rand()));
    break;
case 'encrypt'  :
case 'sha1' :

    $CI =& get_instance();
    $CI->load->helper('security');

    return do_hash(uniqid(mt_rand(), TRUE), 'sha1');
    break;
} 
```

}

var_dump(random_string('fourlet',8));

?>

# php - php_monetdb.dll

> ID：11517507
> 
> 赞同：0
> 
> 时间：2012-07-17T07:03:43.463
> 
> 标签：php, windows, build, monetdb

我需要 php_monetdb.dll 用于 php 5.4。我发现通过在 Windows 上使用 HAVE_PHP=1 选项构建 monetDB 将创建 dll，但构建过程在很多点上都失败了。我正在使用来自 sourceforge 的 monetdb 源，它有点过时了。较新版本的 .msc 文件本身存在问题，因此继续构建本身很痛苦。我正在尝试的旧版本至少通过了 nmake 步骤，但在 nmake 安装步骤中失败了。原因因组件而异。一种说法是 devenv /build 不存在。为此，我复制了 vcexpress 并将其重命名为 devenv。我不确定这是否正确，但是当我从命令提示符运行它时，它似乎可以正常工作，并显示一些警告警报。在其他 make 安装期间，似乎缺少头文件。谁能帮我解决这个问题。另外请让我知道这种获取 php_monetdb.dll 的方法是否有其他替代方法。

PS：我使用的是 Windows 7、MSVC 10 express、PHP 5.4.4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T16:08:40.553

有关构建问题，请参阅[http://bugs.monetdb.org/show_bug.cgi?id=3121](http://bugs.monetdb.org/show_bug.cgi?id=3121)

对于 php_monetdb.dll，请参见 [http://sourceforge.net/mailarchive/forum.php?thread_name=20120717145132.GU49719%40cwi.nl&forum_name=monetdb-developers](http://sourceforge.net/mailarchive/forum.php?thread_name=20120717145132.GU49719%40cwi.nl&forum_name=monetdb-developers) http://sourceforge.net/mailarchive/forum.php?thread_name=500581D5 .8030808%40acm.org&forum_name=monetdb-developers

# javascript - 确定浏览器中的PNG透明区域

> ID：11517510
> 
> 赞同：1
> 
> 时间：2012-07-17T07:03:51.953
> 
> 标签：javascript, browser, png, transparency

我有一个透明背景上有一个对象的 png 图像。这显示在浏览器中。

当用户悬停PNG图像时，javascript中有一个悬停事件。是否可以确定鼠标指针是否在 PNG 图像的透明区域上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:06:38.960

在支持画布的浏览器中是的。您可以在画布上[绘制图像](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-drawimage)，然后[获取特定像素的颜色和透明度](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-getimagedata)。

# android - 无法在运行 4.0.3 ICS 的 Android 设备上执行带有地图的应用程序

> ID：11517519
> 
> 赞同：8
> 
> 时间：2012-07-17T07:04:41.563
> 
> 标签：android, google-maps

刚刚完成了一个具有一些基本地图功能的应用程序。正在跨多个 sdk 进行测试，以确保正确执行和支持。

发现它不会在我**在 Android 4.0.3 ICS 上运行**的平板电脑上执行。（注意：标准地图和导航应用程序工作正常）。

对模拟器执行相同操作不会引发任何异常并且运行良好。尝试谷歌，发现**异常：java.lang.NoClassDefFoundError: android.security.MessageDigest**是由于某些固件兼容性/与Google MAPS API/SDK不匹配引起的。

某些其他人[**建议使用 java.security.MessageDigest**](https://stackoverflow.com/a/11407929/383414)，但在这种情况下，我/我们将无法自行**编辑 com.google.maps.jar**。您能否建议一种解决方法或一些技巧以确保它适用于 Android 4.0.3 ICS 设备

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:19:31.030

找到了解决方法。一件事是确定运行 Android 4.0.3 ICS 的设备与 Google Maps API 存在问题。所以试图谷歌搜索任何特定于 Android 4.0.3 ICS 的库。找到这个 gapps-ics-20120429-signed.zip [mediafire.com/?owj7hj310var5rq]。通过设备下载并连接到我的电脑。用于安装库 1\. adb remount 2\. adb push system/etc/permissions/com.google.android.maps.xml /system/etc/permissions 3\. adb push system/framework/com.google.android.maps .jar /system/framework 4\. adb reboot ，一切正常。希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T14:45:24.917

我已经支持这个很久了。并设法解决了这个问题。我想在这里解释问题和最简单的解决方法。

***错误在这里...***

> 该错误是设备制造商或 ROM 创建者使用旧版地图库和新版 Android 造成的。通常，这与晦涩的平板电脑隔离，但理论上它可能会出现在其他情况下。（[在这里解释](https://stackoverflow.com/a/13042056/1441326)）

`android.security.MessageDigest`在 Honeycomb 及以后被删除。这是导致问题的原因。

**从您的代码中轻松修复：**

只需在包 android\security 下的 src 目录中创建 MessageDigest.java 并将下面的代码放入其中。

这种解决方法实际上有效，并且是我发现的最非侵入性的。我还没有看到任何副作用。

```
package android.security;

import java.security.NoSuchAlgorithmException;

public class MessageDigest
{
    private java.security.MessageDigest instance;

    public MessageDigest() {}

    private MessageDigest(java.security.MessageDigest instance)
    {
        this.instance = instance;
    }

    public static MessageDigest getInstance(String algorithm) throws NoSuchAlgorithmException
    {
        if (algorithm == null) return null;

        try
        {
            if (algorithm.equals("SHA-1"))
                return (MessageDigest) Class.forName("android.security.Sha1MessageDigest").newInstance();
            else if (algorithm.equals("MD5"))
                return (MessageDigest) Class.forName("android.security.Md5MessageDigest").newInstance();
        }
        catch (Exception e) {}

        return new MessageDigest(java.security.MessageDigest.getInstance(algorithm));
    }

    public void update(byte[] input)
    {
        instance.update(input);
    }

    public byte[] digest()
    {
        return instance.digest();
    }

    public byte[] digest(byte[] input)
    {
        return instance.digest(input);
    }
} 
```

# web-services - 关于 Web 服务、REST 及其类型

> ID：11517526
> 
> 赞同：2
> 
> 时间：2012-07-17T07:05:08.423
> 
> 标签：web-services, rest, soap

有哪些不同类型的 Web 服务？在我的搜索过程中，我遇到了：1) REST vs. SOAP 2) REST vs. Big Web Services 3) REST vs. Arbitrary Web Services 它们是什么？他们之间有什么区别？Web 服务的主要类型有哪些？REST/SOAP/Big Web Services/Arbitrary Web Services 是否形成某种层次结构？是否有 Web 服务的类和子类？

此外，我还读到 Web 服务由以下部分组成：WSDL + SOAP + UDDI。如果是这样，那么当每个 Web 服务都必须使用 SOAP 时，人们如何区分 RESTful Web 服务和 SOAP Web 服务？

REST 到底是什么？我了解 REST 使用 HTTP，并且 REST 操作访问数据，而不是执行操作。但它只是一种理论/方法论，还是一种工具，还是别的什么？

REST 如何为我们提供干净的 URL？我花了将近一整天的时间搜索这些东西，但我仍然有点不清楚。任何有关这些事情的信息将不胜感激。

# javascript - JS 从通过 AJAX 调用传递的值创建日期对象

> ID：11517529
> 
> 赞同：0
> 
> 时间：2012-07-17T07:05:20.350
> 
> 标签：javascript

我有一个 Python 脚本，它以 XML 格式返回一个计算的日期时间，如下所示：

```
<prev><date>2012,07,16</date><time>22:00:00</time></prev> 
```

虽然我可以更改格式，但我的问题是，当我尝试使用返回的值创建 JS 日期对象时 - 我得到“无效日期”：

```
$.ajax({
        async: false,
        type: "POST",
        url:  "/cgi-bin/prev_hour.py",
        success: function(xml)
        {
                pdate = $(xml).find('date').text();
                ptime = $(xml).find('time').text();
                //alert prints correct date time ex 2012-07-16 22:00:00
        },
        error:function(xhr,err,html)
        {
                alert("Failed\nreadyState: "+xhr.readyState+"\nstatus: "+xhr.status + "\nresponseText: "+xhr.responseText);
        }

var max_date = new Date("'" + pdate + ptime + "'");
alert(max_date); 
```

我尝试了几种可能性，例如以各种格式返回的 Python 脚本：

```
<prev><date>2012/07/16 </date><time>22:00:00</time></prev>
<prev><date>2012,07,16 </date><time>22,00,00</time></prev> 
```

但是在尝试创建 JS 日期对象时我仍然得到无效的日期？

请让我知道实现它的正确方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:10:24.540

[尝试对名为Moment.js](http://momentjs.com/)的日期使用惊人的库

```
moment("2012/07/16 22:00:00") 
```

从那里你可以用日期实现一切。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:12:12.210

您不需要在日期字符串中添加额外的引号，并且在日期和时间组件之间需要一个空格，请尝试：

```
new Date(pdate + " " + ptime); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:12:28.933

这：

```
var max_date = new Date("'" + pdate + ptime + "'"); 
```

应该：

```
var max_date = new Date(pdate + ' ' + ptime); 
```

下次遇到此类问题时，请对发送给函数的值发出警报，看看它是什么样子的。

# c++ - 在字符串向量中创建 20,000 个 MAC 地址

> ID：11517530
> 
> 赞同：1
> 
> 时间：2012-07-17T07:05:22.667
> 
> 标签：c++, mac-address

我需要创建一个从 1000.1111.1111 到 1000.1131.1111 或类似范围的 MAC 地址的字符串向量。

我不确定如何增加字符串，或者如果我连接然后如何保持前导零。

任何指针表示赞赏。

是的，这些是十六进制的。虽然我不介意只处理 base 10 的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:36:10.343

这将生成一个字符串向量，如下所示：

```
1000.1111.1111
1000.1111.1112
1000.1111.1113
<...>
1000.1112.1111
1000.1112.1112
<...>
1000.1131.1111 
```

* * *

代码：

```
#include <iostream>
#include <string>
#include <sstream>

using namespace std;

//Converts a number (in this case, int) to a string
string convertInt(int number)
{
   stringstream ss;//create a stringstream
   ss << number;//add number to the stream
   return ss.str();//return a string with the contents of the stream
}

int main(int argc, char *argv[])
{
    //The result vector
    vector<string> result;
    string tmp;//The temporary item 
    for( int i = 1111; i < 1139; i++ )
        for( int j = 1111; j < 9999; j++ )
        {
            tmp = "1000.";//the base of the adress
            //Now we append the second and the third numbers.
            tmp.append( convertInt( i ) ).append( "." ).append( convertInt( j ) );
            //and add the tmp to the vector
            result.push_back(tmp);
        }
} 
```

# c# - 为什么线程在 C# 中不能正确执行？

> ID：11517531
> 
> 赞同：0
> 
> 时间：2012-07-17T07:05:27.320
> 
> 标签：c#

嗨，我有如下方法：

```
void Foo
{
MethodInvoker method=delegate{
frm2 frm=new frm2();
frm.show();
} 
```

我在这个表单中有一个 datagridview 控件，它从 DB 中进行大量加载，并在 frm2 中的这个 datagridview 中加载数据。

问题是主线程（form1线程）在数据附加到frm2中的datagridview时被冻结。为什么会发生这种情况。

我创建了两个不同的项目，并在这两个项目中将 frm2 和 form1 分开，结果还可以，没有一个冻结发生。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T07:08:58.567

好吧，我认为 WinForms 中的任何 UI 操作都只有一个线程。如果您在 Form 构造函数中进行 DB 检索，那么这将在 UI 线程中执行，并且所有表单都会冻结。

您应该创建一个新线程来从 DB 中获取数据并稍后在 UI 线程中的 UI 中进行设置。

# jquery - 如何使用 jquery 删除特定列表？

> ID：11517544
> 
> 赞同：0
> 
> 时间：2012-07-17T07:06:05.930
> 
> 标签：jquery

当我尝试使用 jquery remove() 方法删除列表时，该列表保持不动。这是我用来删除列表的代码：

```
 $("li.span.folder").remove(); 
```

有人可以告诉我在这里做错了什么吗？

谢谢你...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:08:12.770

尝试：

```
$("li span.folder").remove(); 
```

如果你的结构是这样的：

```
<ul>
    <li> <span class="folder"></span> </li>
</ul> 
```

...只是如果你想保持`li`元素删除`<span>`.

* * *

**如果你想摆脱`li`父母......**比这样做：

```
$("span.folder").parent('li').remove(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:08:10.053

你打算做的任何机会：

```
$("li .span .folder").remove(); 
```

代替

```
$("li.span.folder").remove(); 
```

?

（或者其他一些组合，点和空格应该去哪里？）

发布您的 HTML。

# vb.net - 使用分隔符以指定格式将内容写入记事本

> ID：11517549
> 
> 赞同：0
> 
> 时间：2012-07-17T07:06:36.777
> 
> 标签：vb.net, file-io

我想以这种格式创建一个记事本

```
100001|10001|1001|91|9942321400|MR|Hari|Q|PUBLIC|249 MUNDON ROAD|MALDON|FL|44|TN|NO_PROVINCE|600004|IN|M|27304|9942321400|test@test.com|nothing|COMMENTS|1|Southeast
100001|10001|1001|91|9865015695|MR|Hari|Q|PUBLIC|249 MUNDON ROAD|MALDON|FL|44|TN|NO_PROVINCE|600004|IN|M|27304|9942321400|test@test.com|nothing|COMMENTS|1|Southeast
100001|10001|1001|91|9894825469|MR|Hari|Q|PUBLIC|249 MUNDON ROAD|MALDON|FL|44|TN|NO_PROVINCE|600004|IN|M|27304|9942321400|test@test.com|nothing|COMMENTS|1|Southeast 
```

我正在使用 vb.net，以上述格式，除了电话号码其余值相同。它将使用管道分隔符写入记事本。从数据集中接收电话号码值并将其存储在变量中。在循环中使用流写入器语句。但我无法获得输出。请帮我这样做？我是 vb.net 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:16:15.077

尝试类似的方法来编写您的文件。

导入 System.IO 并添加该例程。Path 应该是完整的路径，包括您要生成的文件的文件名和扩展名。如果您将 False 更改为 True，如果您再次写入，它将在文件末尾附加文本，使用 false 它会覆盖它。

```
 Using writer As StreamWriter = New StreamWriter(path, False, System.Text.Encoding.UTF8)
    for each ...
        writer.writeLine(var1+"|"+var2...)
    Next
    writer.Close()

    End Using 
```

# google-drive-api - 如何知道谷歌帐户是否在谷歌应用域下？

> ID：11517551
> 
> 赞同：8
> 
> 时间：2012-07-17T07:06:41.733
> 
> 标签：google-drive-api, google-docs

我正在开发一个允许用户将他们的云端硬盘文件分享给朋友的应用程序。但是Google App Account存在问题，例如`someone@somadomain.com`，其中的文件无法与不在该域下的人共享。尽管共享策略可以由管理员更改`somedomain.com`，但我更喜欢不允许人们通过 Google Apps 帐户使用我的应用程序。

我还查看了这篇文章：[如何确定该帐户是否为 Google Apps 帐户？](https://stackoverflow.com/questions/10598846/how-to-determine-if-the-account-is-a-google-apps-account). 但我不同意检查域以检测帐户类型的想法。因为人们可以使用任何电子邮件地址注册 Google 帐户。我刚刚在我的 Hotmail 上注册了一个，`someone@hotmail.com`共享文件时没有域限制。

有人能帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-18T14:39:35.117

假设您包括：

```
https://www.googleapis.com/auth/userinfo.email 
```

在您的 OAuth 范围内，您可以提出以下请求：

```
https://www.googleapis.com/oauth2/v2/userinfo 
```

如果它是 Google Apps 帐户，则调用将返回一个“hd”参数（托管域？），并将 Google Apps 域作为其值。如果是消费者账户，无论是@gmail.com 还是潜在的“冲突账户”，都不会返回 hd 参数。请参阅下面的示例。admin@jay.powerposters.org 是 Google Apps 帐户，而 consumer@jay.powerposters.org 是消费者帐户。如果我在 Google Apps 域中创建消费者用户，它将成为一个冲突帐户，并且消费者帐户将被推出 @jay.powerposters.org 命名空间，但这还没有发生。

对于 admin@jay.powerposters.org：

```
GET https://www.googleapis.com/oauth2/v2/userinfo

HTTP/1.1 200 OK
Content-length: 99
X-xss-protection: 1; mode=block
...

{
 "email": "admin@jay.powerposters.org",
 "verified_email": true,
 "hd": "jay.powerposters.org"
} 
```

对于 consumer@jay.powerposters.org：

```
GET https://www.googleapis.com/oauth2/v2/userinfo

HTTP/1.1 200 OK
Content-length: 71
X-xss-protection: 1; mode=block

{
 "email": "consumer@jay.powerposters.org",
 "verified_email": true
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T19:31:49.763

我认为没有一种好方法可以检查帐户是否为 Google Apps 帐户。我想到的唯一方法是检查域的 DNS MX 记录，看看域的某些服务是否由 Google Apps 服务器提供（例如从 gmail 提供的电子邮件等......）但即使在那里你也可能需要检查更多而不是一项服务，因为某些 Google Apps 公司例如停用 Gmail（或其他服务）以使用自定义解决方案。

如果我是你，我不会禁用 Google Apps 帐户的服务（多么不公平！！:)）许多人购买 Google Apps 帐户是为了拥有一个漂亮的电子邮件域，并且他们的帐户的行为就像任何其他 Google 帐户一样......

我会在需要时尝试将 fils 的 ACL 设置为公共，如果这不起作用，则显示它们并显示一条很好的错误消息，警告他们他们的管理员已禁用公共共享...不会有很多用户无论如何，让其他“正常”Google Apps 帐户无法使用您的应用程序太糟糕了。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2014-12-29T17:50:23.983

Or check the domain using a service like [BrowserSpy](http://browserspy.dk/googleapps.php). If the MX records appear correct, then it's using Google Apps.

# javascript - 使用 jquery 验证器插件为十进制数设置正则表达式

> ID：11517562
> 
> 赞同：0
> 
> 时间：2012-07-17T07:07:33.543
> 
> 标签：javascript, jquery, validation, jquery-validate

我使用 jquery 验证器插件来验证我的表单。在表单中存在`currency`字段，该字段需要适合此 regexp 的值`^\d{1,9}(\.\d{1,2})?$`。下面是我的`js`代码片段。

```
$("#myForm").validate({
        ignore:[],
        rules:{
            currency:{
                required: true
            }
            .....
        }
} 
```

**问题：** 如何将上述正则表达式设置为`currency`字段`jquery`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:10:03.263

您可以定义自定义规则：

```
$.validator.addMethod('currency', function(value, element, regexp) {
    var re = /^\d{1,9}(\.\d{1,2})?$/;
    return this.optional(element) || re.test(value);
}, ''); 
```

进而：

```
$('#myForm').validate({
    ignore:[],
    rules: {
        currency: {
            currency: true
        }
        .....
    }
} 
```

# android-intent - 通过电子邮件发送数据时“未找到处理 Intent 的活动”

> ID：11517563
> 
> 赞同：30
> 
> 时间：2012-07-17T07:07:35.333
> 
> 标签：android-intent

我正在尝试使用以下代码邮寄数据：

```
email = (Button) findViewById(R.id.enail);
    email.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            Intent emailIntent = new Intent(
                    android.content.Intent.ACTION_SEND);
            emailIntent.setAction(Intent.ACTION_SEND);
            emailIntent.setType("message/rfc822");
            emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,
                    new String[] { "" });
            emailIntent.putExtra(android.content.Intent.EXTRA_CC, "");
            emailIntent.putExtra(android.content.Intent.EXTRA_BCC, "");
            emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,
                    "Playlist Details");
            emailIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(Detail));
            emailIntent.setType("text/html");
            startActivity(emailIntent);

        }
    }); 
```

但它会引发以下错误：

```
07-17 12:31:33.438: E/AndroidRuntime(498): FATAL EXCEPTION: main
07-17 12:31:33.438: E/AndroidRuntime(498): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.SEND (has extras) }
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1408)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.app.Instrumentation.execStartActivity(Instrumentation.java:1378)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.app.Activity.startActivityForResult(Activity.java:2817)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.app.Activity.startActivity(Activity.java:2923)
07-17 12:31:33.438: E/AndroidRuntime(498):  at com.playlist.ViewPlayList$3.onClick(ViewPlayList.java:93)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.view.View.performClick(View.java:2408)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.view.View$PerformClick.run(View.java:8816)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.os.Handler.handleCallback(Handler.java:587)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.os.Handler.dispatchMessage(Handler.java:92)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.os.Looper.loop(Looper.java:123)
07-17 12:31:33.438: E/AndroidRuntime(498):  at android.app.ActivityThread.main(ActivityThread.java:4627)
07-17 12:31:33.438: E/AndroidRuntime(498):  at java.lang.reflect.Method.invokeNative(Native Method)
07-17 12:31:33.438: E/AndroidRuntime(498):  at java.lang.reflect.Method.invoke(Method.java:521)
07-17 12:31:33.438: E/AndroidRuntime(498):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-17 12:31:33.438: E/AndroidRuntime(498):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-17 12:31:33.438: E/AndroidRuntime(498):  at dalvik.system.NativeStart.main(Native Method) 
```

请帮我。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2013-07-03T08:18:22.093

调用`StartActivity`方法如下：

```
 Intent emailIntent = new Intent(
                        android.content.Intent.ACTION_SEND);
                emailIntent.setAction(Intent.ACTION_SEND);
                emailIntent.setType("message/rfc822");
                emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,
                        new String[] { "" });
                emailIntent.putExtra(android.content.Intent.EXTRA_CC, "");
                emailIntent.putExtra(android.content.Intent.EXTRA_BCC, "");
                emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,
                        "Playlist Details");
                emailIntent.putExtra(Intent.EXTRA_TEXT, Html.fromHtml(Detail));
                emailIntent.setType("text/html");

// FOLLOWING STATEMENT CHECKS WHETHER THERE IS ANY APP THAT CAN HANDLE OUR EMAIL INTENT 
startActivity(Intent.createChooser(emailIntent,
                        "Send Email Using: ")); 
```

如果系统没有找到任何 emil 应用程序，将显示一个不错的对话框：

![在此处输入图像描述](../Images/b29e216ad29925a6398fa8d3ef473804.png)

* * *

*我知道我正在回答一个老问题，但也许它可以帮助某人。*

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-17T07:52:33.920

我在我的设备上对此进行了测试，代码运行良好。我也在模拟器上测试了这段代码，它崩溃了。问题是操作系统没有找到任何可以处理这个的活动`ACTION_SEND`。始终用 包围此类代码`try/catch`，因为您无法确定是否存在可以处理您的意图的此类活动。并尝试安装至少一个可以处理的应用程序`ACTION_SEND`，然后再试一次，看看它是否适合您。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-13T11:17:50.840

尝试使用它来更好地练习向用户显示消息以设置邮件应用程序。

```
try{

// you email code here

} catch (ActivityNotFoundException e) {
// show message to user
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-25T05:26:19.317

是的，问题出在模拟器中，因为它没有在模拟器中配置任何电子邮件，如果有人发现此问题，请在您的模拟器中配置电子邮件，以执行此操作

从应用程序菜单中选择电子邮件并按照步骤操作。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2017-02-06T00:40:00.340

发生此异常还有另一个微妙的原因。

我的应用程序在两种不同的条件下发送电子邮件。我设置 To: 字段的一个条件 - 它需要 Intent.ACTION_SENDTO

但是 Intent.ACTION_SENDTO 在未提供 To: 的其他情况下会导致所描述的异常。在那种情况下，需要 Intent.ACTION_SEND。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-08T20:29:06.580

也`intent.resolveActivity(activity.getPackageManager())`可以使用。该`resolveActivity`方法检查是否存在`Activity`要处理`intent`。

从 Activity 调用的代码示例：

```
if (intent.resolveActivity(getPackageManager()) != null) {
    startActivity(intent);
} else {
    Toast.makeText(this, "No app to send email. Please install at least one", 
    Toast.LENGTH_SHORT).show();
} 
```

并检查一下：[https ://medium.com/better-programming/the-imperfect-android-send-email-action-59610dfd1c2d](https://medium.com/better-programming/the-imperfect-android-send-email-action-59610dfd1c2d)

# c# - 播放声音文件时突出显示句子

> ID：11517564
> 
> 赞同：0
> 
> 时间：2012-07-17T07:07:53.700
> 
> 标签：c#, javascript, browser

我有一个波斯语句子和一个阅读此文本的 mp3 文件。我正在尝试突出显示句子上的文本，因为该文本的音频剪辑被阅读给读者。有任何想法吗？

我无法使用语音 2 文本算法

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T14:47:54.683

我为此找到了解决方案：

1.  我得到声音文件的持续时间

2.  句子中的第二个字数

3.  将声音持续时间除以字数

4.  并以分秒的数量突出显示每个世界

我用计时器完成了

# visual-c++ - Visual C++ 中的 CreateFile 函数

> ID：11517566
> 
> 赞同：1
> 
> 时间：2012-07-17T07:08:09.507
> 
> 标签：visual-c++, createfile

我想在 Visual C++ 中使用 CreateFile() 函数。当我以这种方式使用它时：-

```
{
BOOL bTest=FALSE;
DWORD dwNumRead=0;
HANDLE hFile=CreateFile(L"D:\\a.dat",GENERIC_READ,FILE_SHARE_READ,
                              NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL,NULL);
bTest= CloseHandle(hFile);
} 
```

bTest 的值为 False 并且未创建文件。如果可能，请举例说明使用 CreateFile 创建文件的示例，并告诉我我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:15:51.060

如果您希望创建文件，请使用 CREATE_ALWAYS 或 CREATE_NEW 而不是 OPEN_EXISTING。

CreateFile 函数 [http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:14:37.917

“OPEN_EXISTING : 打开文件或设备，仅当它存在时。如果指定的文件或设备不存在，则函数失败”。那是你的问题，我敢打赌。

`GetLastError()`不过，会告诉你更多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:14:50.380

实际问题是由于您指定的参数，您正在获得一个`Invalid File Handle`in`CreateFile`函数。这意味着将其 更改为或它将起作用。`dwCreationDisposition``OPEN_EXISTING``Opens a file or device, only if it exists.``CREATE_ALWAYS``CREATE_NEW`

# session - 在发布请求期间尝试理解 cookie

> ID：11517570
> 
> 赞同：0
> 
> 时间：2012-07-17T07:08:16.480
> 
> 标签：session, post, cookies

在发布请求期间，浏览器如何将 cookie 发送回服务器。这与发布期间发送的表单数据有何不同？

此外，特定域的 cookie 值是否会自动发送回该域以供其所有后续请求使用？

谢谢，穆尔塔萨

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:39:12.187

为 GET 和 POST 请求发送 cookie 的方式没有区别。

表单数据是 HTML 表单中的字段等数据，例如。名称、用户名、文件等...

来自域的响应中发回的任何 cookie 都将在后续请求中发回服务器。至少在 Web 浏览器中是这样，如果您在代码中执行此操作，您可能需要编写额外的代码来处理 cookie。

这应该适用于浏览器进行的 AJAX 调用以及整个页面。每个请求，无论是整页、图像还是 AJAX 调用，如果它们要去适当的域和路径，都将附加 Cookie。

这些关于 cookie 和 HTTP POST 的入门知识会很有用：

[http://en.wikipedia.org/wiki/HTTP_cookie](http://en.wikipedia.org/wiki/HTTP_cookie)

[http://en.wikipedia.org/wiki/POST_(HTTP](http://en.wikipedia.org/wiki/POST_(HTTP) )

# c - 每次连接 USB 设备时，我都需要执行用户空间应用程序

> ID：11517576
> 
> 赞同：1
> 
> 时间：2012-07-17T07:08:40.283
> 
> 标签：c, linux-kernel, driver, embedded-linux, kernel-module

我正在使用嵌入式平台。该设备中的典型软件是 Linux 2.6 + Busybox，因此资源有限。

每次连接 USB 设备时，我都需要运行用户空间应用程序。我需要将 DeviceID 和 ProductID 作为参数传递给这个用户空间应用程序。

我真的不知道我应该遵循哪种策略来实现这一目标：

*   编写一个 linux 内核模块。
*   从内核（usb驱动程序）内部*做我目前正在这样做，但我认为它不是最好的方法*
*   为 USB 连接设备“轮询”的用户空间应用程序。？

哪一个应该是最好的方法？

感谢您的回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T17:44:40.770

如果你想留在用户空间，那么你可以使用`libudev`.

你有一个例子[在这里](https://stackoverflow.com/questions/10979123/how-to-get-notifications-for-sd-card-events)。您可以从中提取产品 ID 和设备 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T09:20:18.357

据我所知，内核中有一种 USB 热插拔机制。当热插拔事件发生时，可以通知用户。不幸的是，我对细节不是很熟悉。

也许`linux-3.3.5/samples/kobject/kset-example.c`会给你一些想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:25:50.277

尽管提到了像@aisbaa 这样的其他选项，但修改内核是有趣且具有挑战性的一项。建议你修改USB驱动。原因是，您需要将参数发送到用户空间应用程序（产品 ID、设备 ID）。

这些 ID 将在驱动程序中获得。所以用这些 ID 调用用户空间应用程序是我的选择。

对于调用用户空间应用程序，[这里](http://www.ibm.com/developerworks/linux/library/l-user-space-apps/index.html?ca=dgr-lnxw97Kernel-APIs-P1dth-LX)提供了很好的解释。

# javascript - HTML 表格过滤器脚本 + 可排序表格：始终显示 tfoot 和 thead

> ID：11517582
> 
> 赞同：0
> 
> 时间：2012-07-17T07:09:01.837
> 
> 标签：javascript, html, html-table

我使用[这个](http://tablefilter.free.fr)精彩的脚本来使我的表格可排序并添加一些过滤器。我的问题是我需要始终查看标题中的第二行（带有复选框）。我避免在单击时对行进行排序（通过将其设置为 td 而不是 th 虽然它在 thead 中）。

所以主要问题是我需要查看复选框（thead/td，当单击以将表格排序为上面的行时它不应该处于活动状态）并且还总是看到 tfoot - 添加过滤器时它也被隐藏。 ..

这是我的设置

```
var Props =  {
          popup_filters: true,
          mark_active_columns: true,
          sort: true,
          sort_config: {  
            sort_types:['EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU']  
          },  
          loader: true,  
          loader_html: '<img src="/images/load.gif" style="vertical-align:middle; margin:0 5px 0 5px"><span>Зареждане...</span>',
          mark_active_columns: true,
          col_0: "select",  
            col_1: "multiple",  
            col_2: "select",  
            col_3: "select",
            cEUtom_slc_options: {  
        cols:[1],  
        texts: [['0- 50','60 - 80','80 - 100']],  
        values: [  
                    ['<=50','>60 && <=80','>80 && <=100']  
                ],  
        sorts: [false],
        sort_config: {  
            sort_types:['EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU','EU']  
        }, 
    },   
    themes: {   
    name:['MyTheme'],   
    src:['TableFilter/TF_Themes/MyTheme/MyTheme.css'],   
    description:['My stylesheet'],   
    initialize:[null]  
} 
        };
          setFilterGrid("advancedtable1",Props ); 
```

![在此处输入图像描述](../Images/2c2624739ffc055d42d7856dd1f2ddb1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:32:13.463

我发现我首先需要的是获取页脚的行号： `var totRowIndex = tf_Tag(tf_Id('advancedtable1'),"tr").length; //advancedtable1 is the table id` 然后我将其添加 `rows_always_visible:[2,totRowIndex]`到表格道具中，其中 2 是我希望始终看到的行，而 totRowIndex 是页脚行。

# android - 如何避免“Activity未启动，其当前任务已被置于最前面”的警告？

> ID：11517588
> 
> 赞同：6
> 
> 时间：2012-07-17T07:09:09.467
> 
> 标签：android

如果我不修改源代码并编译，我会收到“Activity 未启动，它的当前任务已被带到最前面”的消息。Eclipse 中是否有选项可以强制它在不更改源代码的情况下运行？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-17T07:12:08.073

如果您想强制执行，请执行此操作。我通常这样做，虽然听起来很蹩脚。在代码中的任何位置（在任何文件中）添加一个空格。只需保存项目并运行。然后它将再次经历上传和安装过程。这是最简单的方法，无需实际更改任何重要的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:14:45.520

你为什么不尝试再次从模拟器运行它，如果你不修改源，它会像你提到的那样做，要么改变源（你可以添加日志，或者只是在任何文件中做空白输入。）或者关闭它并打开它来自模拟器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T07:15:28.523

--> 仅当您的应用程序的上一次运行没有变化时才会发生这种情况。
-->为了避免这种情况，您可以：

1.  关闭您的应用程序，然后编译，
2.  您必须更改代码的至少 1 个文件，然后才能编译它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-17T07:17:00.383

还有另一种方法可以解决这个问题。运行另一个应用程序而不是运行您当前的应用程序，因此您不会收到此类错误消息。并且不需要更改代码或添加不必要的空格。它还可以节省您重新启动模拟器的时间。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T07:17:09.830

如果您不修改代码并想在模拟器中重新运行代码，系统只会抛出您尝试运行的代码已执行的警告。即使我已经多次遇到此警告。您可以做一些更改代码并尝试再次运行或只是完成前面的所有活动然后尝试运行。它将成功运行。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-15T10:06:28.520

在我看来，“活动没有开始，它的当前任务......”真的很乏味。在某些情况下，我没有更改源代码，但需要重新启动，因为我更改了数据

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-03-24T06:51:14.543

**清理**你的项目（菜单->项目->清理）然后再次运行它。

*为我工作。*

# c# - DictionaryEntry 循环的性能问题

> ID：11517589
> 
> 赞同：0
> 
> 时间：2012-07-17T07:09:14.650
> 
> 标签：c#

目前我有 231556 个单词集合，并在下面循环检查每个单词是否重复。

我正在使用这个功能： -

```
public bool IsContainStringCIAI(string wordIn, HybridDictionary hd, out string wordOut)
    {
        int iValue = 1;
        foreach (DictionaryEntry de2 in hd)
        {
            iValue = CultureInfo.CurrentCulture.CompareInfo.Compare(wordIn.ToLower(), de2.Key.ToString().ToLower(), CompareOptions.IgnoreNonSpace);
            if (iValue == 0)
            {
                wordOut = de2.Key.ToString(); //Assign the existing word
                return true;
            }
        }
        wordOut = wordIn;
        return false;
    } 
```

完成循环大约需要 20 个小时，因为每个单词如果不一样都会在比较后添加到字典中。我能做些什么来改善这个循环？之前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:23:11.977

您可以将您的 HybridDictionary 转换为 Dictionary<string, string> ，其中所有键都已转换为您可以比较的格式（小写，去除不需要的字符等）？然后你的方法几乎变成了这样：

```
return hd.TryGetValue(wordIn.ToLower(), out wordOut); 
```

而且字典非常快；]

# ubuntu - 如何在 PHP CLI 中调试分段错误？

> ID：11517593
> 
> 赞同：7
> 
> 时间：2012-07-17T07:09:32.890
> 
> 标签：ubuntu, php-5.3, php

我已经编写了一些通过 php-cli 在服务器上远程运行的代码，以及此代码中的特定方法（我目前不确定*哪种方法*）导致`segmentation fault`.

除了通过我的方法添加`exit`和`echo`调用并手动查明坏位之外 - **有没有办法在分段错误发生时捕获它**并找出拼图的哪一部分正在崩溃？标准 PHP 错误通过错误关闭处理程序显示，我不确定从哪里开始这个分段错误。

干杯!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:39:12.593

是的。使用 GNU 调试器：[how-to-debug-a-segmentation-fault-caused-by-php](http://www.trafexisblogging.com/2009/12/how-to-debug-a-segmentation-fault-caused-by-php/)

`DBIG_SECURITY_HOLE`或者通过在编译 php 时设置标志： [Fixing Apache Segmentation Faults Caused by PHP](http://www.omh.cc/blog/2008/mar/6/fixing-apache-segmentation-faults-caused-php/)

看看[bugs.php.net](https://bugs.php.net/)，也许 PHP 源代码中有一个相关的已知错误。

# c# - 在 Silverlight 4 中打印 html 格式的文本

> ID：11517594
> 
> 赞同：0
> 
> 时间：2012-07-17T07:09:38.200
> 
> 标签：c#, silverlight, silverlight-4.0, printing

我如何在 silvelight 4 API 中打印 html 格式的文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T08:12:26.640

一个快速的谷歌搜索提供了以下页面：

[在 Silverlight 应用程序中呈现 HTML 内容](https://stackoverflow.com/questions/1172278/rendering-html-content-within-silverlight-application)

选择的答案建议使用名为 Telerik 的第 3 方工具。

Telerik 有一个 HtmlPlaceholder，允许您在 Silverlight 应用程序中显示 html 页面。

你可以在这里看到一个演示：[Telerik Demo](http://demos.telerik.com/silverlight/#HtmlPlaceholder/FirstLook)

# python - Python子进程Popen将字符串传递给程序

> ID：11517597
> 
> 赞同：2
> 
> 时间：2012-07-17T07:09:47.257
> 
> 标签：python, subprocess

我正在尝试编写一个 python 脚本，将字符串发送到程序并将其置于后台。在命令行上，我可以复制并粘贴以下代码并让它成功地完成我希望 python 程序执行的操作：

```
printf "f\nil\ncs\n1.e-8 100.0 1.e-8\nn\n0.002\nb\n0.05\nz\n2.e-7\nx4\n5.e-7\n\n\nfort.13\nn\nn\n\n" | vpfit95 
```

其中：`vpfit95`是我的 PATH 中可执行程序的别名。

我尝试过的一些排列（一次尝试一个）：

```
import subprocess
vpfitExecutable = 'vpfit95'

String1=r'f\nil\ncs\n1.e-8 100.0 1.e-8\nn\n0.002\nb\n0.05\nz\n2.e-7\nx4\n5.e-7\n\n\nfort.13\nn\nn\n\n'
String2=r"f\nil\ncs\n1.e-8 100.0 1.e-8\nn\n0.002\nb\n0.05\nz\n2.e-7\nx4\n5.e-7\n\n\nfort.13\nn\nn\n\n"
String3="f\nil\ncs\n1.e-8 100.0 1.e-8\nn\n0.002\nb\n0.05\nz\n2.e-7\nx4\n5.e-7\n\n\nfort.13\nn\nn\n\n"

cmd1 = "printf \"" + String1 + "\"" 
cmd2 = "printf \"" + String1 + "\" | " + vpfitExecutable 
cmd3 = "printf \"" + String2 + "\"" 
cmd4 = "printf \"" + String3 + "\"" 

print cmd2

p1 = subprocess.Popen([vpfitExecutable, cmd1])
p2 = subprocess.Popen([cmd2])
p3 = subprocess.Popen([vpfitExecutable, cmd3])
p4 = subprocess.Popen([vpfitExecutable, cmd4])
p4 = subprocess.Popen([vpfitExecutable, String1])
p5 = subprocess.Popen([vpfitExecutable, String2])
p6 = subprocess.Popen([vpfitExecutable, String3])

# check
p7 = subprocess.Popen([vpfitExecutable]) # works. 
```

并且全部失败（p7除外）。有些因“Fortran 运行时错误：文件结尾”（来自 vpfit 程序）而失败。其他失败并返回到子进程库和“OSError：[Errno 2] 没有这样的文件或目录”。

一些检查：当我打印`cmd2`并将其复制并粘贴到终端时，它可以正常工作。当我运行时`p7`，它按预期正确开始运行程序，只是没有输入字符串。我显然在这里遗漏了一些基本的东西，我就是不知道是什么。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T07:17:48.820

是的，你缺少一些基本的东西——管道由外壳处理。要对子进程执行您想要的操作，您应该将其`vpfit95`作为子进程运行，然后再`communicate`使用它。请参阅文档的第 17.1.4.2 节，[替换 shell pipeline](http://docs.python.org/library/subprocess.html#replacing-shell-pipeline)。

```
proc = subprocess.Popen([vpfitExecutable], stdin=subprocess.PIPE)
proc.communicate(input='your string') 
```

如果您需要检查 vpfit 的 stdout 和 stderr，请从`communicate`.

一个肮脏的替代方法是使用 运行你的命令`shell=True`，它在 shell 中生成它，然后你可以在你的命令中使用管道，但是“去掉中间人”并直接与子进程交互更干净。

# javascript - 如何将文本放在拉斐尔路径的顶部？

> ID：11517598
> 
> 赞同：0
> 
> 时间：2012-07-17T07:09:46.990
> 
> 标签：javascript, svg, raphael

我绘制了拉斐尔路径并在其顶部绘制了文本，但是当两条路径重叠时，较长的文本会被其他元素破坏或隐藏。我有[jsfiddle](http://jsfiddle.net/nhYSr/4/)。我试过 ：

```
 r.toFront(); for path
  AND 
   'fill-opacity' : 0 for object 
```

但它不工作。我尝试手动定位文本，但是当路径在 50 左右时它相当困难 :(。在 raphael 中是否有像 z-index 这样的属性。我也尝试过，但它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:38:54.570

`r.text()`为您创建一个新的文本元素。你需要把它送到前面。但是，如果您在后面添加更多路径，它们仍然会堆叠在上面。为了解决这个问题，您可以在第二个循环中分离文本创建或使用`Element.insertBefore()`并将`Element.insertAfter()`国家大纲发送到后面，将文本标签发送到前面。

[jsfiddle](http://jsfiddle.net/8GGPu/5/)上有一个非常简单的修复。

# php - 鼠标悬停暂停jQuery

> ID：11517600
> 
> 赞同：-2
> 
> 时间：2012-07-17T07:09:53.270
> 
> 标签：php, javascript, jquery

当鼠标悬停在文本上时，我想停止动画。但我不知道如何在鼠标悬停时停止动画。

我的代码是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Animation</title>
        <script type="text/javascript" language="javascript" src="js/jquery.min.js"></script>
        <script>
            function tick2(){
                jQuery('#ticker_02 li:first').slideUp(function(){
                   jQuery(this).appendTo(jQuery('#ticker_02')).slideDown(); 
                   jQuery("#ticker_02 ul > li:lt(2)").show();
                   jQuery("#ticker_02 ul > li:gt(2)").hide();  
                });
            }
            setInterval(function(){ tick2 () }, 3000);
        </script>
    </head>
    <body>
        <ul class="ticker" id="ticker_02">
             <li>Looong text.....</li>
             <li>Looong text.....</li>
             <li>Looong text.....</li>
             <li>Looong text.....</li>
        </ul> 

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:14:36.363

试试[jQuery.stop](http://api.jquery.com/stop/)方法。

```
$(".someMovingBlock").animate({left: '-=100px'}, 10000); //Start animation.

$(".someMovingBlock").mouseover(function(){ //Stop on mouseover.
  $(this).stop();
});
$(".someMovingBlock").mouseout(function(){
  $(this).animate({left: '-=' + (100 - $(this).position().left) + 'px'}, 10000); //Continue on mouseout.
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:24:40.057

[这](http://jsfiddle.net/k9SLK/1/)可能就足够了......或者是否需要暂停“真实”动画。

```
function tick2(){
    $('#ticker_02 li:first').slideUp( function () {
        $(this).appendTo(jQuery('#ticker_02')).slideDown(); 
        $("#ticker_02 ul > li:lt(2)").show();
        $("#ticker_02 ul > li:gt(2)").hide();  
    });
}
var interval_id = setInterval(tick2, 3000);
$(".ticker").mouseover(function(){
   clearInterval(interval_id);                                             
}).mouseout(function(){
     interval_id = setInterval(tick2, 3000);       
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:16:18.890

```
<script>
            var paused = false;
            function tick2(){ 
                if(paused)
                  return false;
                jQuery('#ticker_02 li:first').slideUp( function () {jQuery(this).appendTo(jQuery('#ticker_02')).slideDown(); 
                jQuery("#ticker_02 ul > li:lt(2)").show();
                jQuery("#ticker_02 ul > li:gt(2)").hide();  
                });
            }
            setInterval(function(){ tick2 () }, 3000);
                $("element").hover(
  function () {
    paused = true;
  }, 
  function () {
    paused = false;
  }
);
        </script> 
```

您可以这样做，存储一个全局变量并在 Hover-in 和 Hover-ou 事件上更改它的状态

# logging - 在 jira 中查看我的工作日志

> ID：11517610
> 
> 赞同：109
> 
> 时间：2012-07-17T07:11:00.687
> 
> 标签：logging, jira

我想查看我登录 jira 的总小时数。目前 jira 显示单个故事/子任务的工作日志。但是是否可以显示单个开发人员在 jira 中记录的总工作量。

如果它显示一种指标，其中显示每天记录的工作，那就太好了。

**编辑**：我可以查看个人开发人员的燃尽图吗？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-04-01T18:27:31.550

我们正在[为 JIRA 使用 Timesheet Reports and Gadgets Add-On](http://www.jiratimesheet.com/#/wiki/Overview)。它可以在BSD 许可下的[Atlassian Marketplace上获得，但它](https://marketplace.atlassian.com/plugins/jira-timesheet-plugin)[不是免费](http://www.jiratimesheet.com/#/wiki/Commercial)的。

在我们的 JIRA 5.0.x 服务器上，可以从**Projects**选项卡 > **Summary**页面 > **Reports**下拉列表 > **Time Sheet Report**项访问它。

升级到 JIRA 6.x 后，可以从**Projects** tab > **Summary** page > **Reports** section heading > **Time Sheet Report**访问它。

时间表报告的一个提示是，您不需要为报告提供开始和结束日期：它默认为过去一周。因此，您可以为报告添加书签，稍后再回来查看上周的报告。

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2018-04-20T12:38:53.597

可用的免费选项之一是使用以下网址中提供的名为 Jira Assistant 的浏览器扩展。此扩展程序具有更多有用的功能，不仅有助于生成报告，还有助于通过通知、日历集成和更多酷功能记录您的日常工作，这些功能有助于经理和团队成员的日常活动：

对于 Chrome 用户： [https ://chrome.google.com/webstore/detail/jira-assistant/momjbjbjpbcbnepbgkkiaofkgimihbii?src=sof](https://chrome.google.com/webstore/detail/jira-assistant/momjbjbjpbcbnepbgkkiaofkgimihbii?src=sof)

对于 Firefox 用户： [https ://addons.mozilla.org/en-US/firefox/addon/jira-assistant/](https://addons.mozilla.org/en-US/firefox/addon/jira-assistant/)

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2017-01-04T23:54:52.297

如果您使用 atlassian，请选择您的项目，然后转到左侧工具栏并单击图表并选择此报告：

[![在此处输入图像描述](../Images/cd6a622e68e47c54541ee5bccb854e20.png)](https://i.stack.imgur.com/azZFm.png)

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2018-05-18T22:48:23.820

没有很好的构建方式来实现它，但是您可以通过内置功能获得的最大收益如下。

**选项 1：** 创建如下 JQL 的过滤器： `worklogDate > startofWeek(-1w) AND worklogAuthor = john.smith`

然后使用工作日志“饼图”小部件进行汇总。它适用于标准仪表板。在“最大化”视图中，它给出了带有数字的表格。它允许按某些标准打破。然后，对于每个用户，您将需要仪表板上的小部件来跟踪不方便的情况。

**选项 2：** 使用上面给出的过滤器来创建敏捷板并利用“TimeTrackingReport”或“WorkLog”报告。请记住，Worklog 报告可以按用户缩小范围，但没有太大的灵活性 [![在此处输入图像描述](../Images/839193cf9e0b0fce04fde9cfceebc3a6.png)](https://i.stack.imgur.com/1mioK.png)

希望这可以帮助！

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2018-12-03T19:47:32.727

# 仪表板 -> 我的 Dash -> [+ 添加小工具] -> Tempo 用户时间表 -> 添加

将显示每天/门票等的总时间。

[![在此处输入图像描述](../Images/5494bfc9a79ee128654f21236dfe5a75.png)](https://i.stack.imgur.com/G6P3y.png)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-07-17T07:15:42.177

我认为普通的 JIRA 是不可能的。您可以使用 REST api 自己构建一些东西，或者查看 JIRA 的各种时间跟踪插件（如[Tempo](http://www.tempoplugin.com/)）。另请参阅[https://confluence.atlassian.com/display/JIRACOM/Using+JIRA+For+Time+Tracking](https://confluence.atlassian.com/display/JIRACOM/Using+JIRA+For+Time+Tracking)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2020-08-20T05:17:00.597

您可以在 JIRA 中使用如下查询

```
project in ("TEST_PROJECT") AND worklogAuthor in ("testuser@testjira.com") AND worklogDate >= startOfMonth() 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-07-16T14:08:25.150

您可以使用“sumUp for Jira”插件

[https://marketplace.atlassian.com/apps/1211625/sumup-for-jira?hosting=cloud&tab=overview](https://marketplace.atlassian.com/apps/1211625/sumup-for-jira?hosting=cloud&tab=overview)

它总结了任何数字字段值，包括。工作日志并在问题导航器、仪表板小工具或自定义字段中显示总和

您可以使用当前用户受理人创建过滤器并使用它创建一个板，然后您可以将燃尽小工具添加到仪表板以查看每个人的图表

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-03-02T21:18:54.287

Tempo 插件可以做到这一点。虽然它很慢。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-01-16T13:34:45.903

您还可以在市场上搜索免费插件。有一些不错的。

例如这个（免费到版本 3.4.4） [https://marketplace.atlassian.com/plugins/org.everit.jira.timetracker.plugin/versions](https://marketplace.atlassian.com/plugins/org.everit.jira.timetracker.plugin/versions)

# ios - 使用 RestKit 创建简单请求

> ID：11517612
> 
> 赞同：1
> 
> 时间：2012-07-17T07:11:16.700
> 
> 标签：ios, restkit

我无法使用 RestKit api 创建一个简单的 RKRequest。

我只需要使用提供的 url（这是一个预签名的 amazon s3 url）发出一个 PUT 请求，然后将一些 NSData 附加到这个请求中。我也想设置这个请求的委托。

我尝试了很多方法，但似乎都没有奏效。

任何帮助将不胜感激。

```
RKParams* params = [RKParams params];
        [params setData:picInUse.imageData MIMEType:@"image/jpeg" forParam:@"image"];

uploadPictureRequest = [[RKRequest alloc] init];
uploadPictureRequest.URL = [NSURL URLWithString:currentRequestURL];
uploadPictureRequest.method = RKRequestMethodPUT;
uploadPictureRequest.delegate = self;
uploadPictureRequest.params = params;

[uploadPictureRequest sendAsynchronously]; 
```

编辑：

问题是委托永远不会被调用，它确实会被 RKCLient 发送的请求调用，但不会被这个特定的请求调用。

当我 NSLOG 来自 uploadpicture 请求的 url 时，我得到 NULL

```
NSLog(@"%@",uploadPictureRequest.URL); 
```

我收到的信息是：

> E restkit.network:RKRequest.m:623 由于连接超时，无法向 (null) 发送请求。超时间隔 = 0.000000

# javascript - 我们如何计算任何文本的宽度

> ID：11517613
> 
> 赞同：1
> 
> 时间：2012-07-17T07:11:30.133
> 
> 标签：javascript, html, css

我在 div 中有一个文本。我可以输出div的宽度如下

```
alert($("div").width()); 
```

但我有兴趣获取其中文本的宽度，不包括边框或填充空间。如果我指定`font-family`为 arial 或 verdana，那么文本占用的空间会有所不同。所以我想知道文本的宽度如何。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:16:31.303

我在文本周围设置了一个 span 元素，并得到了我想要的。

这是代码 -

[http://jsbin.com/oduvan/edit#javascript,html](http://jsbin.com/oduvan/edit#javascript,html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:17:28.813

**[演示](http://jsfiddle.net/nawazhi/2DhJW/)**

使用`innerWidth()`和减去填充

```
 alert($("div").innerWidth()-($("div").css("padding").replace("px","")*2)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T07:53:34.983

```
 <div id="div">Some text here</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){
        var div2 = $('#div').clone();
        div2.addClass('for-calc');
        $('body').append(div2);
        $('.for-calc').html('<span style="display:inline; padding:0">' + $('.for-calc').html() + '</span>');
        var width = $('.for-calc > span').width();
        $('.for-calc').remove();
        alert(width);
    });
</script> 
```

可变**宽度**包含来自 div#div 的文本宽度

# jquery - 2012 年 7 月 15 日晚上 9:31:45 的日期格式

> ID：11517614
> 
> 赞同：1
> 
> 时间：2012-07-17T07:11:34.370
> 
> 标签：jquery, telerik

我需要上述日期的日期格式，我的代码是这样的

```
function formatDateTime(date) { return $.telerik.formatString('{0:dd/MM/yyyy hh:mm:ss}', date); } 
```

但它只显示 07/15/2012 09:31:45，错过了上午和下午，但我需要上午和下午，有人可以帮忙吗？

谢谢，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T07:13:51.343

尝试

```
function formatDateTime(date) { return $.telerik.formatString('{0:dd/MM/yyyy hh:mm:ss tt}', date); 
```

# php - 如何删除 joomla 中的所有 javascript？

> ID：11517622
> 
> 赞同：3
> 
> 时间：2012-07-17T07:12:10.587
> 
> 标签：php, joomla

我在这里使用代码

```
<head>
...
<?php 
$user =& JFactory::getUser(); 
if ($user->get('guest') == 1) { 
   $headerstuff = $this->getHeadData(); 
   $headerstuff['scripts'] = array(); $this->setHeadData($headerstuff); 
} 
?>
<jdoc:include type="head" />
</head> 
```

但是当运行代码是模板加载所有javascript时，如何修复它删除模板joomla中标头中的所有javascript

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T15:59:51.173

要删除可以在模板中使用的脚本：

```
$doc = JFactory::getDocument();    
unset($doc->_scripts[$this->baseurl.'/media/system/js/mootools-core.js']); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-07-18T14:01:50.613

您可以从您的 Joomla 站点中删除不需要的脚本。你要么这样尝试

```
<?php 
         //get the all the script declarations
         $document = JFactory::getDocument(); 
         $headData = $document->getHeadData();
         $scripts = $headData['scripts'];

         //if you want to remove all the script
         unset($scripts);

         //if you want to remove specific file then try like this
         unset($scripts['/media/system/js/mootools-core.js']);
?> 
```

或者像这样尝试

```
//if you want to remove all the script
<?php unset($this->_scripts); ?>

//if you want to remove specific file then try like this
<?php unset($this->_scripts['/media/system/js/mootools-core.js']); ?> 
```

您可以应用之前的任何方法`<jdoc:include type="head" />`。它将删除所有脚本。

希望这会帮助你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-18T13:23:20.297

我是这样做的：

```
$doc = JFactory::getDocument();
$doc->_scripts = array(); // just clear array 
```

在这条线之前

```
<jdoc:include type="head" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T08:21:29.457

`head`如果我正确理解了您的问题，您想删除标签之间的所有 javascript吗？

如果是这样，您需要在其中找到模板的文件夹`joomla_root\templates\`并在其中打开`index.php`（例如：`joomla_root\templates\beez5\index.php`）（我建议先备份）。然后删除`head`以以下开头的标签之间的所有内容：

`<script type="text/javascript"`

您可能还需要删除`$doc->addScript(`行..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T10:46:17.823

您提供的行从另一个文件获取数据，因此它将是另一个包含嵌入 javascript 文件的代码行的文件。只需搜索

```
<script type="text/javascript"></script> 
```

和

```
$document->addScript(.....); 
```

你可能还会发现类似的东西

```
$document->addScriptDeclaration($variable); 
```

# android - Android 中的 3D 图表库

> ID：11517624
> 
> 赞同：3
> 
> 时间：2012-07-17T07:12:17.200
> 
> 标签：android, android-webview

在这里，我正在寻找如何在 webview 中显示 3D 图表。目前我正在使用 aChartEngine 库，即 2D 图表库，但现在要升级，我想使用 3D 图表..所以我正在寻找一些 3rd 方库来显示 3D 图表......（付费或免费）.. 任何人都可以请帮我解决这个问题..请向我提供 3D 图表 3rd 方库的列表

我正在寻找的图表应如下所示：

![在此处输入图像描述](../Images/88f20bf11551f81b5de2a852e712fe5d.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-07T11:51:01.287

我在 android 中收集了几种类型的图表方面做了很多研究......这些是其中的一些......

## Java相关图表

1.  J4L 图表
2.  巧妙的位图
3.  steema 图表
4.  图表
5.  安卓情节
6.  图表引擎图表

使用 Javascript 构建图表。下面我提到了它们

1.  图表
2.  opengl
3.  融合图表...像这样，您可以使用 javascript 构建更多图表

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-18T05:59:19.107

[http://www.object-refinery.com/orsoncharts/android/index.html](http://www.object-refinery.com/orsoncharts/android/index.html) Orson Charts 3D 是现在可在 Android 上使用的商业库，演示应用程序在这里：

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-02T06:46:32.970

对于那些仍在寻找的人 - 有[NChart3D](http://nchart3d.com/nchart-android/)。那是商业库，用 C++ 实现并完全用 Java 封装。

# silverlight - 需要将silverlight转换为exe

> ID：11517627
> 
> 赞同：0
> 
> 时间：2012-07-17T07:12:33.207
> 
> 标签：silverlight, exe

其实我需要做内网聊天应用程序（桌面应用程序）。

为此，我只是从网上下载应用程序。它的曲线。它由silverlight开发。

我只是从该站点下载源代码并进行了一些修改。现在我需要该应用程序的 exe 文件。我不知道如何将应用程序转换为 exe 文件，那么只有我可以将该应用程序安装到另一个系统。

我基本上是 php 开发人员，所以我不知道如何转换它，所以请指导我完成这个项目。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:39:26.927

我没试过。但这似乎是您所需要的： [http ://weblogs.asp.net/alnurismail/archive/2010/05/24/a-distributable-exe-silverlight-oob-application.aspx](http://weblogs.asp.net/alnurismail/archive/2010/05/24/a-distributable-exe-silverlight-oob-application.aspx)

这是另一种解释（不幸的是德语：（）[http://www.heise.de/developer/artikel/Silverlight-Anwendungen-ausserhalb-des-Browsers-per-Batch-Setup-MSI-oder-Click-Once-verteilen -1077886.html](http://www.heise.de/developer/artikel/Silverlight-Anwendungen-ausserhalb-des-Browsers-per-Batch-Setup-MSI-oder-Click-Once-verteilen-1077886.html)

希望这可以帮助，

TJ

# excel - 将字符串中的一个字符替换为另一个字符

> ID：11517628
> 
> 赞同：20
> 
> 时间：2012-07-17T07:12:34.860
> 
> 标签：excel, replace, extract, formula, delimiter

我有如下数据：

`A:B:C:D`

我想`C`用数据（比如说，`Z`）替换它，这样它可能看起来像

`A:B:Z:D`

我该怎么做？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-07-17T17:36:30.073

`=SUBSTITUTE(A1,"C","Z")`

虽然我不清楚您是否想要`G`或`Z`，但您提到`G`但您的示例输出显示`Z`。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-07-17T14:18:56.980

如果您在单元格 A1 中有 A:B:C:D，则此方法有效：

```
=CONCATENATE(MID(A1, 1, SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + SEARCH(":", A1)), "Z", MID(MID(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1), SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1, LEN(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) - SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1), SEARCH(":", MID(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1), SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1, LEN(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) - SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1)), LEN(MID(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1), SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1, LEN(MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) - SEARCH(":", MID(A1, SEARCH(":", A1) + 1, LEN(A1) - SEARCH(":", A1) + 1)) + 1)))) 
```

我知道这非常令人费解，但它确实有效。

编辑：为了清楚起见，您可以将“Z”替换为要添加的数据。

# javascript - 返回 False 不起作用

> ID：11517629
> 
> 赞同：0
> 
> 时间：2012-07-17T07:12:42.577
> 
> 标签：javascript, cross-browser

```
if ((key > 57 || key < 48) && key != 46) 
{
  if(window.event)
  {          
    window.event.returnValue=false;       // IE
  }          
  else
  {
   ???????           

  }
} 
```

以上代码适用于 IE，但不适用于 Firefox、Chrome 和 Safari。返回 false 不起作用。请指导我可以写什么来返回 false ？？？区域。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:24:59.733

您对其他浏览器（以及标准模式下的 IE9）所做的事情是[`event.preventDefault()`](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event-preventDefault) —*可能是*. 这在一定程度上取决于您如何连接该事件处理程序。但基本上，IE`returnValue = false`映射到`preventDefault`IE`cancelBubble = true`映射到[`stopPropagation`](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event-stopPropagation).

# c# - 仅当使用某些图标时，应用程序仅在 2003 服务器上崩溃

> ID：11517631
> 
> 赞同：0
> 
> 时间：2012-07-17T07:12:44.697
> 
> 标签：c#, .net, vb.net

我有一个奇怪的问题，我想。

如果我在我的应用程序中使用特定图标，那么它只会在 2003 服务器（32 位和 64 位）上崩溃；不在 2008、Vista、7、XP 上。我没有得到任何有用的崩溃信息。

如果我删除该图标或将其替换为其他图标，则应用程序不会崩溃。

我准备了一个带有“崩溃图标”的测试项目（VS2010，VB.NET），您可以使用它来测试自己：

[http://examples.sent.com/IconCrash.rar](http://examples.sent.com/IconCrash.rar)

那个图标一定有问题，但是什么？

注意：我用 VB.NET/C# 标记了这个问题，因为我可以同时使用这两种语言，而且这个问题不是特定于语言的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-19T09:01:49.750

![在此处输入图像描述](../Images/23a79dcf3ea4a03cf1d88ccb4e03d8c2.png)

该图标仅包含 PNG 图像。[直到 Vista](http://en.wikipedia.org/wiki/ICO_%28file_format%29#PNG_format)才支持该格式。不太确定为什么它可以在 XP 上运行，但显然您需要确保该图标是基于 BMP 的，以保持与旧 Windows 版本的兼容。使用 Visual Studio 中内置的图标编辑器，图像 + 新图像类型易于修复。

# c# - 如何在内部运行服务器端代码标签？

> ID：11517635
> 
> 赞同：0
> 
> 时间：2012-07-17T07:13:11.600
> 
> 标签：c#, asp.net, parameters

在 ASP.NET 中，在客户端，我使用了一种重复的方法来生成包含来自数据库的数据的表。对于每个条目，我都有一个 asp 按钮来删除每个条目。现在，当我需要传递时，我遇到了一个问题，对于每个按钮，它都是数据库中的 ID，并且因为它是`<asp:button ... />`，所以我无法使用 CommandArgument='<%=id %>' 运行服务器端代码行，所以我可以把它每个按钮的 ID。我能做些什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:16:41.990

使用绑定表达式。

```
<%# Id %> 
```

并从代码隐藏调用`Control.DataBind()`或方法。`DataBind()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:25:55.417

如果你有中继器，你可以这样使用：

```
<asp:Repeater ID="Repeater1" runat="server" OnItemCommand="Repeater1_ItemCommand">
    <ItemTemplate>
        <div class="box">
            <%# Eval("name") %>  
            <asp:Button ID="btnDelete" Runat="server" Text="Delete" CommandName="delete" CommandArgument='<%# Eval("Id") %>'></asp:Button>
        </div>
    </ItemTemplate>
</asp:Repeater> 
```

- -C＃ - - -

```
protected void Repeater1_ItemCommand(object source, RepeaterCommandEventArgs e)
{
...
((System.Web.UI.WebControls.Button)(e.CommandSource)).CommandArgument - is the id of current row
...
} 
```

# jquery - 如何从表格中的文本区域对齐右侧的按钮？

> ID：11517637
> 
> 赞同：0
> 
> 时间：2012-07-17T07:13:18.393
> 
> 标签：jquery, html, css

有一些代码：

```
 $('.field').live({
            mouseenter:
                function()
                {
                    old_value=$(this).text();
                    item_id=$(this).attr('id');
                    item=$(this).parent('td');
                    //height=item.attr('height');
                    height=event.target.parentNode.offsetHeight;
                    width=event.target.parentNode.offsetWidth;
                    //$(event.target).replaceWith('<textarea id="current-editor"></textarea>');
                    //$("#current-editor").height(height-10);
                    new_value=(old_value=='Not translated') ? '' : old_value;
                    $(this).empty();
                    var field="<textarea style='vertical-align: middle; font-family: Helvetica; font-size: 12pt;' id='new_value' name='term'>" + new_value + "</textarea><div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div>";
                    $(this).html(field);
                    $("#new_value").height(height);
                    $("#new_value").width(width);
                    button_id=item_id.split('/')[0];
                    button_id=button_id.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g, "\\$1");
                    $("#"+button_id).show();
                },
            mouseleave:
                function()
                {
                    $(this).empty();
                    $(this).html(old_value);
                    $("#"+button_id).hide();
                }
            }
        ); 
```

“字段”的代码：

```
echo "<td width='200' style='vertical-align: middle;'><div class='field' id='".$record['translate']['label_value']."/".$record['language_id']."'>".
strip_tags($record['translate']['coalesce(loc.language_value)'])."</div>"; 
```

因此，此代码将表格单元格的文本内容更改为 textarea，并且可以正常工作。但是我需要在textarea之后添加“保存”按钮，它也可以。按钮在新行中（因为 textarea 必须有 100% 的宽度），但我需要按钮和 textarea 在同一行。请告诉我，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:20:15.587

将宽度设置为 textarea 并将 float:left 设置为它，试试这个

```
var field="<textarea style='vertical-align: middle; float:left; width:250px; font-family: Helvetica; font-size: 12pt;' id='new_value' name='term'>" + new_value + "</textarea><div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div>"; 
```

# sql - sql查询查找哪个国家的供应商和客户数量最多

> ID：11517640
> 
> 赞同：-3
> 
> 时间：2012-07-17T07:13:34.367
> 
> 标签：sql

**客户表列：**

客户 ID 公司名称 联系人姓名 联系人职位 地址 城市 地区 邮政编码 国家 电话 传真

**供应商表列：**

供应商 ID 公司名称 联系人姓名 联系人职位 地址 城市 地区 邮政编码 国家 电话 传真 主页

*从这些表中我们如何找到“哪个国家的供应商和客户数量最多......？” 我需要查询上述问题....？请回答我任何人......！*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:37:09.107

要获得单个国家/地区作为单个值包含*在两个表中的最大次数，请将它们合并，然后将它们分组：*

```
 select top 1 x.Country
 from (
   select Country from Customer
   union all
   select Country from Supplier) x
 group by x.Country
 order by count(1) desc 
```

* * *

编辑：或者，您可以将两个表分别分组，然后将它们完全外部连接在一起，并添加匹配的术语（请记住处理`null`来自仅位于两个列表之一中的国家的 s ）：

```
select top 1 ISNULL(x.Country, y.Country) as [Country]
from (
  select Country, COUNT(1) as [Count] from Customers
  group by Country) x
full outer join (
  select Country, COUNT(1) as [Count] from Suppliers
  group by Country) y
on x.Country = y.Country
order by ISNULL(x.[Count], 0) + ISNULL(y.[Count], 0) desc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:24:36.713

SQL 服务器语法

最大客户数

```
select Country from (
(with cte as (select Country,COUNT(*) cnt
from Customer
group by Country)
select Country,Rank() over (order by cnt desc) row_num from cte)a
where a.row_num=1 
```

最大供应商数量

```
select Country from (
(with cte as (select Country,COUNT(*) cnt
from suppliers
group by Country)
select Country,Rank() over (order by cnt desc) row_num from cte)a
where a.row_num=1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:26:21.607

```
SELECT a.country AS MaxCustomers, b.country AS MaxSuppliers
FROM
(
    SELECT TOP 1 country
    FROM customers
    GROUP BY country
    ORDER BY COUNT(*) DESC
) a
CROSS JOIN
(
    SELECT TOP 1 country
    FROM suppliers
    GROUP BY country
    ORDER BY COUNT(*) DESC
) b 
```

应该输出如下内容：

```
MaxCustomers    |    MaxSuppliers
---------------------------------
USA             |    Japan 
```

# wso2 - 收到故障时 WSO2 ESB 在错误序列上启动

> ID：11517641
> 
> 赞同：2
> 
> 时间：2012-07-17T07:13:43.447
> 
> 标签：wso2, wso2esb

当我在编排中收到肥皂故障响应时，我需要启动错误序列以生成内部错误。像在Java中抛出异常之类的东西。

一种简单的方法是在每个序列中设置一个过滤器，以便在收到故障标签时启动 onError 序列。我想必须有更好的方法来做到这一点。

如何使肥皂故障响应被视为错误，以便启动错误序列？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T08:22:54.073

[在WSO2 ESB 4.5.0](http://wso2.com/products/enterprise-service-bus/)（这是最新版本）之前，这并不简单。引入了新属性“FORCE_ERROR_ON_SOAP_FAULT”来完成这项工作。有关示例配置，请参阅[这篇](http://maharachchi.blogspot.com/2012/09/now-you-can-send-soapfaults-to-fault.html)文章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T09:20:24.523

在您的代理配置中，定义故障序列..

# php - 在没有 BOM 的 UTF-8 下工作的最佳轻量级 PHP 编辑器

> ID：11517642
> 
> 赞同：0
> 
> 时间：2012-07-17T07:13:47.283
> 
> 标签：php, editor

我的网页无法在 ASCI 下运行。它显示计划文本而不是链接。通过六边形编辑器，我发现了一些阻止程序的未使用字符。为了工作，我需要在没有 bom 的情况下将编码更改为 utf-8 。我正在使用记事本++。当我关闭记事本++程序并打开它时，它默认设置为ASCI。这会导致很多问题。是否有任何编辑器可以在没有 bom 的情况下在 utf-8 下工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:24:40.613

在记事本++中，转到：

`Settings -> Preferences -> New Document/ Open Save Directory tab`

然后

`New Document -> Encoding`

查看

`UTF8 without BOM`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:38:48.767

除了 Michael E 的回答之外，您还可以在 Notepad++ 中打开一个文件。

单击格式 -> 转换为 UTF-8（无 BOM）。

不是 100% 确定我在挪威语中的拼写，但应该是这样的。

# jquery - jQuery：在组页脚/页眉中具有分组和总和的表？

> ID：11517653
> 
> 赞同：2
> 
> 时间：2012-07-17T07:14:41.323
> 
> 标签：jquery

我正在寻找一个支持按列排序和分组的 jQuery 解决方案；然后，在页脚部分，应该可以显示上述所有值的总和。

示例：我有三列：国家、日期和销售额：

```
US     20120714       50
DE     20120714       40
BR     20120714       30
US     20120715       60
DE     20120715       60
BR     20120715       20 
```

如果我按国家排序：

```
BR     20120714       30
BR     20120715       20
                      50
DE     20120714       40
DE     20120715       60
                     100
US     20120714       50
US     20120715       60
                     110 
```

如果我按日期排序：

```
BR     20120714       30
DE     20120714       40
US     20120714       50
                     120
BR     20120715       20
DE     20120715       60
US     20120715       60
                     140 
```

等等...

有可用的插件吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T12:17:31.310

如前所述，Datatables 是一个很好且易于使用的 JQuery 插件，可以满足您的需求。它支持开箱即用的排序，也可以进行分组。请参阅此[示例](http://datatables.net/examples/advanced_init/row_grouping.html)。
您还可以修改页脚以显示列的总和，如本[例所示](http://datatables.net/release-datatables/examples/advanced_init/footer_callback.html)。

但是，您也可以使用该`fnDrawCallback`功能。每次绘制表格时都会调用它，并为您提供修改应如何绘制的可能性。

例子：

```
"fnDrawCallback": function (oSettings) {
    // Get all rows of your table
    var nTrs = $tableElement.find('tbody tr');
    // Enumerate all rows
    var sum = 0;
    for (var i = 0; i < nTrs.length; i++) {
         var iDisplayIndex = oSettings._iDisplayStart + i;
         var dataIndex = oSettings.aiDisplay[iDisplayIndex];
         sum += oSettings.aoData[dataIndex]._aData.{your item};
    }
    // Insert sum at the end
    $tableElement.find(' tbody tr:last').after('<p>'+sum+'</p>'); 
```

在此示例中，变量`$tableElement`包含数据表实例的 JQuery 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:30:29.047

很明显你需要尝试 serach，它非常容易使用谷歌，在这里你需要自己尝试然后你需要问你关于你的“问题”的问题。

在这里你必须学习如何钓鱼不给你免费的鱼:)

你问题的另一面很广泛，我的意思是很多人会给你很多插件，而且都是正确的，但是你会选择“你”的答案作为“你”想要的，而不是因为那个答案真的正确或最好。

所以这就是为什么你会降低选票的原因。**（如我所想或所见）**

无论如何，你可以看看你是否想要这样的插件：http: [//datatables.net/release-datatables/examples/plug-ins/sorting_sType.html](http://datatables.net/release-datatables/examples/plug-ins/sorting_sType.html)

或其他方式：[http](http://datatables.net/) ://datatables.net/ 也许您需要编码（求和）。

这里有很多插件：[http ://www.jquery4u.com/plugins/30-amazing-jquery-tables/#.UAUUD_XU6Iw](http://www.jquery4u.com/plugins/30-amazing-jquery-tables/#.UAUUD_XU6Iw)

自己探索它们我希望你能得到一些有用的东西，我用谷歌搜索很容易得到这些链接，用傻话:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T12:22:48.803

我宁愿不要用沉重的逻辑来占领客户，它会口吃而且很慢。

只需执行所有排序/分组/计数*服务器*端，并为您的客户端提供所有已处理并准备显示的数据。

为此，您只需要一个简单的 ajax 调用和一堆参数：不需要在不需要的地方施展魔法。

# java - Openfire 插件集成

> ID：11517657
> 
> 赞同：2
> 
> 时间：2012-07-17T07:14:52.527
> 
> 标签：java, xmpp, openfire

我正在开发 openfire 插件并面临一些性能问题。我的问题是哪种类型的插件集成最快。

*   数据包拦截器
*   IQHandler
*   零件
*   其他？

我正在使用数据包拦截器并考虑切换到 IQHandler 并通过 $iq（而不是 $msg）发送消息。可以使用 $iq 发送消息吗？

当前的性能问题是在一段时间后 openfire 响应非常缓慢（10-20 秒后），我启动了 pubsub 模块。

经过一些观察，我发现如果传输大消息（html模板或大json字符串），服务器会显着减慢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T05:26:07.907

经过调查，我发现 html 文件和其他“大” json 实际上并不大。问题与浏览器有关。浏览器限制连接，因此它在客户端变慢。出于测试目的，我同时使用了不同的浏览器（chrome、firefox、safari）

# c# - 如何使用 Ghostscript 将 PDF 转换为图像

> ID：11517659
> 
> 赞同：5
> 
> 时间：2012-07-17T07:15:03.487
> 
> 标签：c#, image, pdf, ghostscript

我发现 Ghostscript 能够将 PDF 转换为图像格式。

我尝试[了 PDF to Image Converter](http://www.codeproject.com/Articles/32274/How-To-Convert-PDF-to-Image-Using-Ghostscript-API)但无法清楚地理解它。

我已经安装了`gs905w64.exe`，但是当我尝试使用`add reference`我的 Web 应用程序时，我收到了这个错误。

`A reference to gsdll32.dll could not be added. No type libraries were found in the component.`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-09T12:32:35.643

您不需要向您的项目添加任何 DLL 引用。首先下载 gs910w32.exe 应用程序文件，然后将其安装到本地计算机。获取已安装 .exe 文件的位置，例如：-

> "C:\Program Files (x86)\gs\gs8.64\bin\gswin32.exe"

在您的 C# 应用程序中使用它：

```

  private void PdfToJpg(string inputPDFFile, string outputImagesPath)
        {
            string ghostScriptPath = @"C:\Program Files (x86)\gs\gs8.64\bin\gswin32.exe";
            String ars = "-dNOPAUSE -sDEVICE=jpeg -r102.4 -o" + outputImagesPath + "%d.jpg -sPAPERSIZE=a4 " + inputPDFFile;
            Process proc = new Process();
            proc.StartInfo.FileName = ghostScriptPath;
            proc.StartInfo.Arguments = ars;
            proc.StartInfo.CreateNoWindow = true;
            proc.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
            proc.Start();
            proc.WaitForExit();
        }

```

如果您输入的 PDF 文件名有空格，您需要将参数更改为

```

String ars = "-dNOPAUSE -sDEVICE=jpeg -r102.4 -o" + outputImagesPath + "%d.jpg -sPAPERSIZE=a4 " +"\"" + inputPDFFile + "\"";

```

您可以使用 -r 标志在参数中指定输出图像的纵横比。如果您使用“-r300”，图像的宽度将为 3000 像素，高度将相应改变，根据上述参数，您将获得 1024 到 768 大小的 jpg 图像。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-17T08:46:31.440

您可以使用 C# 运行 GhostScript 命令行或使用 Platform Invoke (pInvoke) 调用直接调用 GhostScript dll。

GhostScript 主要是基于文件的，因此输入是磁盘上文件的路径，输出是磁盘上文件的创建。用于调用dll或exe的参数基本相同，因此直接调用dll并没有太大的好处，但确实可以使代码更好。

我有可用于调用 ghostscript dll 的 C# 包装器，如果您给我发电子邮件（个人资料上的地址），我会将其发送给您。

高温高压

更新：

代码仓库移至[https://bitbucket.org/brightertools/ghostscript](https://bitbucket.org/brightertools/ghostscript)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-07-17T07:49:01.590

该`gsdll32.dll`文件*不是*托管的 .NET 库。你不能在你的项目中引用它。您必须将它作为“内容”包含在您的项目中（菜单：添加现有项目）并让 VS 将其复制到输出目录。同时，您应该阅读[Ghostscript API 文档](http://www.ghostscript.com/doc/current/API.htm)和[PInvoke.net 上的这篇文章，了解](http://pinvoke.net/default.aspx/gsapi.gsapi_new_instance)如何引用 Ghostscript 函数。

请记住，Ghostscript 都是非托管代码，您必须在使用该库后自己进行清理。

*编辑：*罗伯特所说的也很重要。当然，您必须使用正确版本的 Ghostscript 库。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-17T07:31:21.490

为什么您尝试将库添加为对您的项目的引用？`gsdll32.dll`是本机 dll，而不是 Dot-Net 库。

当我使用 Visual C# Express 2010 构建示例项目时，我得到一个 exe 文件。如果我执行它，它会尝试访问`gsdll32.dll`. 现在的问题是，在 64 位系统上生成了 64 位可执行文件，但`gsdll32.dll`编译为 32 位。

正确的解决方案是修改源代码并替换`gsdll32.dll`它`gsdll64.dll`出现的任何地方。更简单的解决方案是使用 64 位版本的 Ghostscript，将 复制`gsdll64.dll`到与 相同的目录`ConvertPDF.exe`并重命名为`gsdll32.dll`. 这绝对有效 - 刚刚测试并将 PDF 转换为 TIFF。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-01T07:06:32.250

您需要运行以下命令来引用库 [http://www.nuget.org/packages/GhostScriptSharp/](http://www.nuget.org/packages/GhostScriptSharp/)

VS2012 --> 工具 --> 库包管理器 --> 包管理器控制台

# php - 如何为PHP开发的web应用程序开发桌面应用程序或exe文件，以便客户可以在没有互联网的情况下访问它

> ID：11517660
> 
> 赞同：4
> 
> 时间：2012-07-17T07:15:11.637
> 
> 标签：php, desktop-application, exe

我们有一个用 PHP 开发的网络应用程序（餐厅忠诚度平台）。但是这些商家中的大多数一直没有互联网连接。那么，有没有办法只将商家模块转换为桌面应用程序，以便商家独立工作，并在有互联网连接时同步到 Web 应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:18:30.370

是的，这是可能的，但不像巫师的工作。

如果您只知道 PHP，那么您可以使用[Titanium](http://www.appcelerator.com/)并部署桌面应用程序。您可以使用本地数据库、XML、jSON 或 SQLite，并且在第一次连接互联网时，您可以清除本地数据库并更新远程数据库。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:28:17.863

我正在做一个类似的项目，就我而言，我遵循以下方法。

1.  Web 应用程序是 PHP 和 MySQL
2.  桌面应用程序是使用 SQL Lite 的 .net 应用程序
3.  Windows 服务检查互联网连接并在后台同步数据库

就我而言，我的用户可能会离线数天或数周，而数据对我来说很重要，我觉得 HTML 5 离线内容并不是最好的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:18:04.237

不可以。设计一个桌面 PHP 应用程序与设计一个 Web PHP 应用程序*非常*不同，并且需要大量的重新架构。

*话虽*如此，可以将 Web 服务器部署到客户端计算机并让它在那里运行 Web PHP 应用程序。不过，它仍然需要一些重新架构才能使同步正常工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:27:23.107

使用您熟悉的 .net 或 Java 开发桌面应用程序，并使用 SQLite 等数据库在本地保存数据。当用户上网时，您需要连接到您的在线数据库并同步数据。

如果有可能不同的用户可以更新相同的数据，那么您必须计划处理冲突的场景，例如如果数据记录在两端都更新，应该使用哪些数据。如果不可能同时更新，那么您只需在用户上线时上传您的数据。

# c# - 当在 c# 中加载不同的 .mdb 文件时，如何自动填充树视图？

> ID：11517663
> 
> 赞同：0
> 
> 时间：2012-07-17T07:15:34.563
> 
> 标签：c#, treeview, oledb

我目前正在开发一个项目，它是 ac# winform 应用程序，它可以打开任何 .mdb 文件读取并显示记录并对其进行更改并再次保存更改。为此，我正在使用 OLEDb 库。

现在我的问题是，我希望用我打开的 .mdb 文件中的数据填充树视图。

这可能吗？

我的 Google 搜索仅向我展示了使用单个 .mdb 文件创建树视图的示例，但无法适应不同的 .mdb 文件。

拜托，任何可能的答案的答案或指示对我来说意义重大。

我感谢你的帮助。

# c# - 在 EF 4 上映射外键而不创建新的 Edmx 文件

> ID：11517665
> 
> 赞同：4
> 
> 时间：2012-07-17T07:15:36.067
> 
> 标签：c#, .net, entity-framework, orm

我通过取消选中为外键创建实体的选项创建了 edmx 文件。所以我的外键字段没有映射。是否可以在不创建新 edmx 文件的情况下映射外键？如果可能的话如何。？我从我已经拥有的数据库中创建了 .edmx。我正在使用 VS 2012 。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T19:50:08.817

右键单击 edmx，从数据库中点击更新模型。那里有一个外键复选框。那是你要找的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-09T09:34:04.803

如果 edmx 模型生成有任何问题（如果您更改选项并尝试部分刷新，可能会发生这种情况），完全刷新模型的最简单方法是选择所有内容（例如 Ctrl-A）并从模型中删除该批次.

Then right click the empty model page and select "Update Model from Database", selecting all the tables you wish to include again, along with the appropriate options checked or unchecked (like "Include foreign key columns in the mode").

如果您尝试进行部分更新，此序列往往会清理出现的问题。它当然会删除您对模式所做的任何自定义（额外导航等），但通常是最简单的 edmx 问题解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-07T05:01:46.060

您可以删除并再次添加模型。我希望这会奏效。:)

# c# - Asp.net 中的日期验证器

> ID：11517667
> 
> 赞同：0
> 
> 时间：2012-07-17T07:15:42.870
> 
> 标签：c#, asp.net, date, validation

我只是想知道如何制作一个只接受日期作为数据的文本框。例如，`dd/mm/yyyy`。如果用户输入 april 或 dd.mm.yyyy，则不能被接受。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T07:18:31.863

你应该试试`CompareValidator`。

`<asp:CompareValidator type="Date" Operator="DataTypeCheck" />`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:20:50.293

考虑使用 ajax 控件工具包中的屏蔽编辑文本框扩展器。[你可以在这里](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/MaskedEdit/MaskedEdit.aspx)看到它的作用

# jquery - Jquery datepicker自动关闭

> ID：11517670
> 
> 赞同：1
> 
> 时间：2012-07-17T07:15:49.213
> 
> 标签：jquery, asp.net, jquery-ui

我正在使用日期文本框和日历按钮。当我点击日历按钮时，我应该得到日期选择器，我可以从中选择日期。

以下是我的代码

```
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css"
    rel="stylesheet" type="text/css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script type="text/javascript">
    function OpenDatePicker() {
        $("#<%=datepicker.ClientID %>").datepicker({ changeMonth: true,
            changeYear: true,
            duration: "slow",
            dateFormat: "dd-mm-yy",
            closeText: "X",
            showButtonPanel: true,
            onSelect: function (dateText, inst) { $("#<%=tbFromDate.ClientID %>").val(dateText); $(this).datepicker("hide"); },
            onClose: function (dateText, inst) {
                $("#<%=datepicker.ClientID %>").blur();
            }
        });

    }      

</script> 
```

ASP代码：

```
<div id="datepicker" runat="server">
    <asp:TextBox runat="server" ID="tbFromDate"></asp:TextBox><asp:ImageButton runat="server"  ID="ibtnDateFrom" ImageUrl="~/Images/date.gif" OnClientClick="javascript:OpenDatePicker();" /></div> 
```

当我运行代码并单击按钮时，日期选择器打开不到一秒或其他时间并关闭并刷新页面。

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:21:27.500

这是由于 ImageButton 导致回发。您可以只使用图像，并在其上应用 css 样式以在悬停时显示手形光标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:24:09.740

当您单击 ImageButton 时，您的页面会执行回发。

1-您可以使用 Image 代替 ImageButton。
2-您可以在 OpenDatePicker 函数中放置 return false 以防止回发。
3-您可以使用 datepicker 的内置图像支持。

```
 function OpenDatePicker() {
                        $("#<%=datepicker.ClientID %>").datepicker({ 
                            buttonImage: "../Images/date.gif",
                            changeMonth: true,
                            changeYear: true,
                            duration: "slow",
                            dateFormat: "dd-mm-yy",
                            closeText: "X",
                            showButtonPanel: true,
                            onSelect: function (dateText, inst) { $("#<%=tbFromDate.ClientID %>").val(dateText); $(this).datepicker("hide"); },
                            onClose: function (dateText, inst) {
                                $("#<%=datepicker.ClientID %>").blur();
                            }
                        });
                    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:20:14.893

放置语句返回false；在您的 OpenDatePicker() 函数中

```
function OpenDatePicker() {
    $("#<%=datepicker.ClientID %>").datepicker({ changeMonth: true,
        changeYear: true,
        duration: "slow",
        dateFormat: "dd-mm-yy",
        closeText: "X",
        showButtonPanel: true,
        onSelect: function (dateText, inst) { $("#<%=tbFromDate.ClientID %>").val(dateText); $(this).datepicker("hide"); },
        onClose: function (dateText, inst) {
            $("#<%=datepicker.ClientID %>").blur();
        }
    });
return false;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-17T07:23:18.563

向您显示日历按钮代码..是否输入 type=submit ？单击日历按钮时，您必须调用一个方法。它可以是 OpenDatePicker() 函数。添加返回 false 或 event.preventDefault() 以禁止默认表单提交。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-17T07:28:59.657

尝试以下代码：

```
 <script type="text/javascript">
     $(function() {
            $("#<%= tbFromDate.ClientID %>").datepicker({
            changeMonth: true,
            changeYear: true,
            duration: "slow",
            dateFormat: "dd-mm-yy",
            closeText: "X",
            showButtonPanel: true
            });

            $("#<%= ImageButton1.ClientID %>").click(function() {
              $("#<%= tbFromDate.ClientID %>").datepicker('show');
            });
        });
    </script>

    <asp:TextBox runat="server" ID="tbFromDate"></asp:TextBox>
    <asp:ImageButton ID="ImageButton1" runat="server" ImageUrl="~/Images/date.gif"/> 
```

希望这可以帮助

# javascript - 是否可以检查浏览器正在使用多少内存并清除javascript当前使用的内存？

> ID：11517673
> 
> 赞同：0
> 
> 时间：2012-07-17T07:15:52.167
> 
> 标签：javascript

我遇到了一个大问题，我正在处理自动挂起浏览器的大项目 javacript 执行
“如何检测 javascript 正在使用多少内存并定期清除内存。这可能吗？”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T07:54:38.460

你没有办法玩记忆。Javascript 在沙盒环境中运行，因此您无法以任何方式访问内存管理。垃圾收集器会处理这个问题，你*可以*以某种方式让它做你想做的事，但它是随机的。不要指望它。

相反，对于您的问题，您可以使用 Chrome Inspector 的 Profiler。

![探查器](../Images/17caae53316e68f3a4788d1c11dd1503.png)

它有什么作用？嗯......它描述了你所在的网页。你可以看到每个功能需要多长时间，尤其是：*你的瓶颈在哪里*。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:43:06.137

特别是在 Chrome 中尝试。

Chrome 的 V8 有一个出色的世代垃圾收集器，其中发生了三种类型的轮询：三个线程不断地轮询这三种类型，我认为它们以 10、50 和 200 毫秒的间隔运行（我可能弄错了数字，但是它们基本上是相似的，老一代的时间间隔增加了）。

这是激进的，并确保内存使用率保持在低水平。

尽管如此，如果您的代码在 Chrome 中占用内存，那么您可以确定问题出在代码上。可能是这样的：

(a) 您的代码确实未优化，或者
(b) 它确实在处理可能不适合客户端的非常大的数据（例如，具有大量小部件、dom 节点等的过重页面）

想发布一些片段吗？

# image - WordPress 函数未定义：file_is_displayable_image()

> ID：11517686
> 
> 赞同：0
> 
> 时间：2012-07-17T07:16:42.760
> 
> 标签：image, wordpress, function, undefined

当我从模板文件中调用函数 file_is_displayable_image() 时，出现以下错误：

> 致命错误：调用未定义的函数 file_is_displayable_image()

当我使用钩子调用时，该函数工作正常，但我不知道为什么......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T04:11:02.097

永远不要在主题前做任何事情`after_setup_theme`。等到所有需要的功能[都可用](https://wordpress.stackexchange.com/a/14042/73)。

# android-emulator - android 哪个版本的移动火狐，完全支持扩展？

> ID：11517695
> 
> 赞同：2
> 
> 时间：2012-07-17T07:17:24.227
> 
> 标签：android-emulator, firefox-addon-sdk, browser-addons, fennec

我使用 addon-sdk 为 Dektop Firefox 做了一个插件。现在我想将它启动到 android 中的 firefox mobile(fennec) 中。我正在使用 android 4.0.3 模拟器。我已经在其中安装了移动 firefox 浏览器（几乎所有版本）。我正在尝试使用 addon-sdk 将我的插件安装到移动 Firefox。在这一步中，我遇到了不同类型的错误。

1.一些安装了禁用模式的插件，但启用/禁用选项不起作用。

2.对于某些插件，我得到“插件已安装，需要重新启动”选项，但重新启动后，插件在插件管理器中不可见

请提供atlesat一种工作方式，在andoid（任何模拟器/任何手机）的fennec（任何版本）中开发和安装firefox插件（任何简单）。

谢谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T09:30:42.623

你问错问题了。任何版本的 Firefox Mobile 都支持扩展，这里没有问题。但是，它的用户界面与桌面版 Firefox 有很大不同，这意味着为桌面版 Firefox 构建的扩展程序通常无法在不进行调整的情况下运行。所以正确的问题是：

> 哪个版本的附加 SDK 支持 Firefox Mobile？

您需要附加 SDK 1.5 或更高版本。运行时，`cfx`您必须使用`--force-mobile`命令行标志来确保您的扩展被标记为与 Firefox Mobile 兼容。但是仍然存在限制，大多数 SDK 模块目前不支持 Firefox Mobile。附加 SDK 1.8[列出](https://addons.mozilla.org/en-US/developers/docs/sdk/1.8/dev-guide/tutorials/mobile.html)了以下支持 Firefox Mobile 的模块：

*   页面模式
*   页面工作者
*   要求
*   自己
*   简单存储
*   计时器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T16:11:45.103

Wladimir 是正确的，我只想补充一点，我们正在努力扩展对原生 Fennec 的模块支持。如果您现在想在基于 SDK 的附加组件中使用一些额外的 Fennec 功能，您可以通过在模块中使用以下代码来访问 Fennec 实现的 NativeWindow 和 BrowserApp 对象：

```
let utils = require('api-utils/window-utils');
exports =  {
  BrowserApp: utils.activeBrowserWindow.BrowserApp,
  NativeWindow: utils.activeBrowserWindow.NativeWindow
}; 
```

这些对象的文档在 MDN 上：

*   [https://developer.mozilla.org/en/Extensions/Mobile/API/BrowserApp](https://developer.mozilla.org/en/Extensions/Mobile/API/BrowserApp)
*   [https://developer.mozilla.org/en/DOM/window.NativeWindow](https://developer.mozilla.org/en/DOM/window.NativeWindow)

# java - 是否可以在一个 Java 类中运行 Java 应用程序和 Junit 测试？

> ID：11517696
> 
> 赞同：2
> 
> 时间：2012-07-17T07:17:23.580
> 
> 标签：java, class, selenium, junit

我是这里的新手。

我的问题是：是否可以在一个 Java 类中运行这些类？

```
@RunWith(Suite.class)
@Suite.SuiteClasses({
   Test.class,
   Chart.class,
}) 
```

注意：
`Test.class`-> 这是一个**Junit 测试类**
`Chart.class`-> 这是一个**Java 应用程序类**

我希望我的问题很清楚。我的英语并不完全好。

此代码适用于 Java 应用程序：**Chart.Class**

```
public static class PieChart extends JFrame {

        private static final long serialVersionUID = 1L;

        public PieChart(String applicationTitle, String chartTitle) {
            super(applicationTitle);
            // This will create the dataset 
            PieDataset dataset = createDataset();
            // based on the dataset we create the chart
            JFreeChart chart = createChart(dataset, chartTitle);
            // we put the chart into a panel
            ChartPanel chartPanel = new ChartPanel(chart);
            // default size
            chartPanel.setPreferredSize(new java.awt.Dimension(500, 270));
            // add it to our application
            setContentPane(chartPanel);
            // it will save the chart on the specified location
            String fileLocation = "C:/temp/pieChartReport.jpg";
            saveChart(chart, fileLocation);   

        }

        /**
         * Creates a sample dataset 
         */
        ABMTLinks abmt = new ABMTLinks();

        private  PieDataset createDataset() {
            DefaultPieDataset result = new DefaultPieDataset();
            result.setValue("Failed:", abmt.Fail);
            result.setValue("Error:", 100);
            result.setValue("Passed:", abmt.Pass);
            return result;

        }

        /**
         * Creates a chart
         */

        private JFreeChart createChart(PieDataset dataset, String title) {

            JFreeChart chart = ChartFactory.createPieChart3D(title,                 // chart title
                dataset,                // data
                true,                   // include legend
                true,
                true);

            PiePlot3D plot = (PiePlot3D) chart.getPlot();
            plot.setLabelGenerator(new StandardPieSectionLabelGenerator("{0} {1} {2}")); //Shows the total count and percentage for Failed/Passed/Error
            plot.setStartAngle(480);
            plot.setDirection(Rotation.CLOCKWISE);
            plot.setForegroundAlpha(0.5f);
            return chart;

        }

        //This will store the chart on the specified location/folder
        public void saveChart(JFreeChart chart, String fileLocation) {
            String fileName = fileLocation;
            try {
                /**
                 * This utility saves the JFreeChart as a JPEG First Parameter:
                 * FileName Second Parameter: Chart To Save Third Parameter: Height
                 * Of Picture Fourth Parameter: Width Of Picture
                 */
                ChartUtilities.saveChartAsJPEG(new File(fileName), chart, 500, 270);
            } catch (IOException e) {
                e.printStackTrace();
                System.err.println("Problem occurred creating chart.");
            }
        }

        public static void main(String[] args) {
            String pieChartTitle = "Harold's Pie Chart";
            String pieChartName = "Pie Chart";
            PieChart demo = new PieChart(pieChartName, pieChartTitle);
            demo.pack();
            demo.setVisible(true);

            } 

    } 
```

此代码用于 JUnit 测试代码：**Test.Class**

```
import com.thoughtworks.selenium.*;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.Test;

public class ABMTLinks extends SeleneseTestCase {

      public int Fail=10, Pass=10;
      public static String
       //Declaring of variables to store the Actual values for URLs
         HMT = "http://dev.abmt.igloo.com.au/GetInvolved/Hostamorningtea/tabid/165/Default.aspx",
         DMT = "http://dev.abmt.igloo.com.au/GetInvolved/Donatetoamorningtea/tabid/141/Default.aspx";   

    @Before
    public void setUp() throws Exception {
        selenium = new DefaultSelenium("localhost", 1111, "*googlechrome", "http://dev.abmt.igloo.com.au/");
        selenium.start();
    }

    @Test
    public void testUntitled() throws Exception {
        selenium.open("/GetInvolved/tabid/114/Default.aspx");
        selenium.click("link=Get Involved");
        selenium.waitForPageToLoad("30000");

        if (URL.equals(HMT)
            && URL1.equals(DMT)
            ){

            Pass = Pass + 1;
            System.out.println("All pages redirects to each URL with no errors");           
        }
        else {
            Fail = Fail + 1;
            assertTrue("Test Case is Failed!", false);
            System.out.print("Failed");     
        }           
    }

    @After
    public void tearDown() throws Exception {   
        System.out.println(Fail + "+" + Pass);
    }   

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T11:17:16.137

不，这是不可能的。

下面列出的类[`@Suite.SuiteClasses({})`](http://www.junit.org/apidocs/org/junit/runners/Suite.html)必须是有效的 Junit4 测试类。这些类至少有一个用 注释的方法`@Test`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T02:28:38.343

在我看来，您只是想获得测试结果并根据它生成一些特殊报告。为什么不简单地编写一个小程序来读取 JUnit 生成的测试报告并创建您想要的图表呢？

* * *

（添加）虽然我相信你正在做的事情是朝着错误的方向前进并且没有意义，但可能有一些你可以研究的东西。

您说要调用 Chart 以根据 Test 中的信息生成饼图，您可以考虑使用 @AfterClass：

```
public class Test {
  private int success;
  private int fail;

  @AfterClass
  public void generateChart() {
    // generate your chart base on this.success and this.fail
  }
} 
```

@AfterClass 将在此类中的所有测试被调用后被调用。

但是，这样做仍然毫无意义，因为单元测试的整个想法是自动完成验证等，您不应该对过程或结果进行手动检查。生成图表无助于告诉计算机什么是成功/失败。而且，你的代码对我的建议只不过是普通的单元测试报告，告诉你有多少测试用例成功/失败。为什么要做一些没有实际价值的额外事情？

# php - mysql内部连接2个表并按计数排序

> ID：11517699
> 
> 赞同：0
> 
> 时间：2012-07-17T07:17:28.080
> 
> 标签：php, mysql, count, sql-order-by, inner-join

我的数据库中有以下表格

项目

```
+----+-------------------------------------------+
| id | name                                      |
+----+-------------------------------------------+
|  1 | YANNONALI COURT                           |
|  2 | UNIVERSITY OF COLORARDO DENVER RESEARCH 2 |
|  3 | G.R.E.A.T PROGRAM DESALTER BUILDING       |
|  4 | MONARCH CLUB                              |
|  5 | LAFAYETTE MERCANTILE                      |
|  6 | CAMELBACK VILLAGE RAQUET AND HEALTH CLUB  |
|  7 | BACK COUNTRY                              |
|  8 | URBAN CRASHPAD                            |
|  9 | PRIVATE RESIDENCE                         |
| 10 | EATON RESIDENCE                           |
+----+-------------------------------------------+ 
```

PROJECT_ASSIGNMENTS(WHERE projects.id=project_assignment.target_id)

```
+-------+-----------+-------------+
| id    | target_id | property_id |
+-------+-----------+-------------+
| 19178 |         1 |          48 |
| 19192 |         1 |          39 |
| 19391 |         1 |           3 |
| 19412 |         2 |           3 |
| 19591 |         2 |          34 |
| 19610 |         2 |          34 |
| 21013 |         3 |           2 |
| 21032 |         3 |           2 |
| 30876 |         4 |        2433 |
| 38424 |         5 |        2580 |
+-------+-----------+-------------+ 
```

属性（其中 properties.id=project_assignment.property_id）

```
+----+------------------+
| id | name             |
+----+------------------+
|  2 | Residential      |
|  3 | Multi Family     |
| 34 | New Construction |
| 39 | Contemporary     |
| 48 | Southwest        |
+----+------------------+ 
```

我希望 O/P 按列表中的项目数排序...

```
Residential(177) //12 - total no.of projects which is having this property
Multi Family(15)
New Construction(13)
Contemporary(11) 
```

请给我一些 MySQL 查询

```
 Thank You 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:25:52.540

这应该可以解决问题：

```
select
    c.name,
    count(c.id) as CountOfProperties
from
    projects a,
    project_assignments b,
    properties c
where
    a.ID=b.target_id
    and b.property_id=c.ID
group by
    c.name
order by
    count(c.id) desc; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:43:43.697

试试这个：：

```
select
    prop.name,
    count(prop.id) as CountOfProperties
from
    projects p
    inner join  project_assignments pa on (p.ID=pa.target_id)
    inner join  properties prop on (pa.property_id=prop.ID)
group by
    prop.name
order by
    count(prop.id) desc; 
```

# haskell - Haskell 语法错误

> ID：11517700
> 
> 赞同：-2
> 
> 时间：2012-07-17T07:17:43.543
> 
> 标签：haskell, if-statement, compiler-errors

我添加了**最后一个函数和重要性函数** -`bSearch()`并将其链接`combining()` 如下

```
 combining::[BookInfo]->[[Int]]

       combining books=superBubble [(map index books)] 
        bSearch [xs] key s
                  if length[xs] <> s then return 9999
                  else
                  if
                    key=m then elemIndex m [xs]
                  else
                    if key<m then bsearch (splitAt (x:xs) o) key o 
                   else bsearch (splitAt ms (o+2) ) key n  
                  o<-s/2-1
                  n<-length ms
        finalBsearch::(Ord)=> [a]->a->a->Int
        finalBsearch ms key s= bsearch  (combining [ms]) key s 
```

但它`Syntax error in input (unexpected keyword "if")`在第 5 行给了我一个错误谢谢你的帮助=有关完整代码的更多详细信息，请参阅[Haskell 中的运行时错误](https://stackoverflow.com/questions/11511536/runtime-error-in-haskell)

**但请给我指示，而不是完整的解决方案**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:41:02.290

为了快速修复，请将整个`if`- `then`-`else`表达式括在括号中：`(`- `)`。但这只会修复此错误消息。您的代码包含更多错误。我不知道你期望这段代码做什么。

除了使用级联`if`- `then`- `else`s，您可能会发现使用守卫更清晰。

nb 你没有*例外*；你有一个*编译错误*。

# objective-c - 只将对象添加到核心数据一次

> ID：11517702
> 
> 赞同：1
> 
> 时间：2012-07-17T07:17:48.047
> 
> 标签：objective-c, ios, cocoa-touch, ipad, core-data

我想创建一个大型数据库。我正在考虑为此目的使用核心数据。但我想手动将数据插入其中一次。这些数据永远不会被删除或编辑，而只会被读取。我如何使用核心数据将如此大量的对象添加到数据库中？如何在核心数据中创建数据库并且只写入一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T10:41:45.623

你的问题很笼统，但我会尽量给你一些提示。

根据我的经验，实现它的最简单方法是遵循以下两个步骤：

1) 您可以创建一个 XML、JSON 或 plist 格式的外部文件，您可以解析并使用它来创建一个预置的 Core Data 存储。[您可以在core-data-tutorial-how-to-preloadimport-existing-data-updated](http://www.raywenderlich.com/12170/core-data-tutorial-how-to-preloadimport-existing-data-updated)中找到一些信息。特别是，您可以设置一个虚拟项目（或仅使用`AppDelegate`方法）并使用它来创建存储，例如 MyDataStore.sqlite。

2) 创建后，忘记您之前使用过的例程，然后将商店发送到应用程序的应用程序包中。那里的商店是只读的。否则，如果你需要修改它，你是不允许这样做的，所以你需要将它移动到例如文档目录中。

您可以在以下 SO 主题中找到更多信息：

[Core Data 对只读数据也有用吗？](https://stackoverflow.com/questions/1638443/is-core-data-useful-for-readonly-data-too)

[如何使用预填充的 Core Data 数据库发布我的应用程序？](https://stackoverflow.com/questions/6029653/how-can-i-ship-my-app-with-an-pre-populated-core-data-database)

[App Bundle 中包含的 Core Data Store](https://stackoverflow.com/questions/5633079/core-data-store-included-in-app-bundle)

PS 如果您在生产中并且需要对商店进行相同的更改，则需要重新发布应用程序（因为商店在主捆绑包中）。为了避免这种情况，您需要将存储移动到不同的目录并设置例如某种同步机制。

希望有帮助。

# excel - 有没有办法告诉 PowerPoint 在创建图表时不要打开 Excel？

> ID：11517704
> 
> 赞同：7
> 
> 时间：2012-07-17T07:17:56.987
> 
> 标签：excel, powerpoint, office-interop

`Slide.Shapes.AddChart()`自动打开 Excel。即使我很快这样做`Chart.ChartData.Workbook.Application.Visible = false`，它仍然会显示一点点。这使得自动创建图表容易出错，因为用户必须尽量不要触摸不断弹出的 Excel 应用程序。

创建新图表时，打开演示文稿`WithWindow = false`仍会打开 Excel。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-22T16:28:25.193

这种行为是“设计使然”，Microsoft 对改变不感兴趣。这就是 UI 的运作方式。

您可以做的是在 Excel 中创建图表（使用互操作或 OpenXML），然后将该文件导入（插入）到 PowerPoint 中。

[从MSDN](http://social.msdn.microsoft.com/Forums/hu/exceldev/thread/9eaf6577-dd0c-4cfc-a560-c2498ec9c456)检查此链接

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T14:20:42.650

这是一个可能的解决方法。

```
Sub ChartExample()
Dim s As Shape
Set s = Application.Presentations(1).Slides(1).Shapes.AddOLEObject(ClassName:="Excel.Chart")
End Sub 
```

然后，您将通过`s.OLEFormat.Object`. 我只是进行了轻微的实验，但它没有打开外部 Excel 应用程序，除非我激活该对象，否则我没有看到任何极端闪烁。一个折衷方案是，至少在 Powerpoint 2010 中，您需要将其转换为使用所有功能。如果这不起作用，您可以随时尝试[Web 组件。](http://office.microsoft.com/en-us/access-help/introduction-to-scripting-with-office-web-components-HA001034603.aspx)

编辑：我不明白为什么这种方法会导致问题，但为了进一步提供帮助，这里有更多代码显示实际操作对象。这是用对象而不是工作簿等编写的，因此不需要进行引用。它只要求用户在他们的机器上安装 Excel。

```
Option Explicit
Const xlcolumns = 2
Sub ChartExample()
Dim s As Shape
Dim wb As Object, chart As Object, data As Object
Set s = Application.Presentations(1).Slides(1).Shapes.AddOLEObject(ClassName:="Excel.Chart")
Set wb = s.OLEFormat.Object
Set chart = wb.Sheets(1)
Set data = wb.Sheets(2)
'Set the range for the chart data
chart.setsourcedata Source:=data.Range("A1:C7"), PlotBy:= _
        xlcolumns
'Update data values for the chart
data.Range("B1").Value = "Column Label 1"
data.Range("C1").Value = "Column Label 2"
data.Range("A2:C7").clearcontents
data.Range("A2").Value = "Row Label"
data.Range("B2").Value = 7
data.Range("C2").Value = 11
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-03T10:33:21.430

我会建议另一种方法来克服同样的问题。

1.  在 powerpoint VBA 中添加对“Microsoft Excel 12.0 对象库”的引用

2.  确保用户对于此操作，必须在操作之前通过 yuser 表单弹出窗口打开任何 excel。

3.  在VBA中创建一个excel并在下面的代码中设置它的参数

4.  添加powerpoint图表，用户在添加图表时无法看到底层excel表的打开，可以通过代码控制excel选项卡。

示例代码：

```
Option Explicit

Sub AddExcelChartSample()

    Dim xlApp As Excel.Application, xlWkbk As Excel.Workbook

    Dim pres As PowerPoint.Presentation, sld As PowerPoint.Slide, iCount As Integer, chtShape As PowerPoint.Shape

    'Open up the excel instance and set parameters

    Set xlApp = New Excel.Application
    With xlApp
        .WindowState = xlNormal
        .Top = -1000
        .Left = -1000
        .Height = 0
        .Width = 0
    End With

    Set sld = PowerPoint.ActiveWindow.View.Slide

    For iCount = 1 To 10

        Set chtShape = sld.Shapes.AddChart(xlLine)
        Set xlWkbk = chtShape.Chart.ChartData.Workbook
        With xlWkbk

            .Sheets(1).Range("A2").Value = "Test 1"
            .Sheets(1).Range("A3").Value = "Test 2"
            .Sheets(1).Range("A4").Value = "Test 3"

        End With

        chtShape.Chart.Refresh

        xlWkbk.Close False

    Next iCount

    xlApp.Quit

End Sub 
```

# java - 使用 apache poi 明智地阅读 Excel 工作表列

> ID：11517705
> 
> 赞同：5
> 
> 时间：2012-07-17T07:17:58.873
> 
> 标签：java, apache-poi

我可以使用 apache poi.. 读取 excel 表列吗？（不使用行迭代器）

```
for (Row row : sheet) {
    Cell firstCell = row.getCell(0);
    // Printing Stuff
} 
```

我知道，上面的会做同样的事情。但我需要在不使用行迭代器的情况下获取第一列的数据。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-17T08:34:39.867

您可以在不使用迭代器的情况下迭代工作表

```
 Workbook wb = WorkbookFactory.create(new FileInputStream("file.xls"));
    Sheet sheet = wb.getSheetAt(0);

    for (int j=0; j< sheet.getLastRowNum() + 1; j++) {
        Row row = sheet.getRow(j);
        Cell cell = row.getCell(0); //get first cell
        // Printing Stuff
    } 
```

# sql - 日期时间差铸造

> ID：11517707
> 
> 赞同：0
> 
> 时间：2012-07-17T07:18:02.557
> 
> 标签：sql, sql-server-2008

日期时间1：`2010-11-23 15:30:00.000`

日期时间2：`2010-11-23 18:30:00.000`

DateTime2 - DateTime1 应该是`03:00:00`

但是当我使用下面的查询时

```
SELECT (EndTime - StartTime) as Hour From [Day] 
```

它返回

```
1900-01-01 03:00:00.000 
```

我怎样才能得到它`03:00`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:42:11.337

正如你所说，`DATEDIFF`是合适的。格式化可能最好留给客户端，但是下面将按照您的要求工作

```
DECLARE @Start DATETIME = '20120716 09:00',
        @End DATETIME = '20120717 12:00'

SELECT  CASE WHEN DATEDIFF(HOUR, @Start, @End) < 10 THEN '0' ELSE '' END + CAST(DATEDIFF(HOUR, @Start, @End) AS VARCHAR) + ':' + 
        RIGHT('0' + CAST(DATEDIFF(MINUTE, @Start, @End) - (DATEDIFF(HOUR, @Start, @End) * 60) AS VARCHAR), 2) [Difference] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:19:55.893

Datediff 函数适合这种操作。

```
SELECT DATEDIFF ( hour , StartTime, EndTime ) as hour From [Day] 
```

看看[http://msdn.microsoft.com/en-us/library/ms189794.aspx](http://msdn.microsoft.com/en-us/library/ms189794.aspx)

# asp.net-mvc - 在哪里可以找到 Asp.net MVC 3 SportsStore 数据库下载

> ID：11517717
> 
> 赞同：-1
> 
> 时间：2012-07-17T07:18:52.883
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我正在开始本教程，想知道是否可以找到完整的数据库？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:33:41.533

在源代码的 zip 中有一个目录，`DatabaseScripts`您只需执行脚本即可创建数据库

# ios - 导入ics文件，在iOS中创建事件

> ID：11517720
> 
> 赞同：3
> 
> 时间：2012-07-17T07:19:19.210
> 
> 标签：ios, import, icalendar

我发现了一些关于 SO 的问题，即使有答案，但没有一个能帮助我解决问题。我有 ICS 文件

```
BEGIN:VCALENDAR
VERSION:1.0
BEGIN:VEVENT
DTSTART:20120719T110000
DTEND:20120719T120000
LOCATION:26 - 12 Hyde Way, Welwyn Garden Centre, Hertfordshire, AL7 3UQ
DESCRIPTION:You are going to be interviewed by: Paddy Allum - Group Health & Safety Manager and Heather Hughes - Group Training Manager
SUMMARY:CreativeSchool Group Plc
PRIORITY:3
END:VEVENT
END:VCALENDAR 
```

当它是本地文件时，我尝试导入它：

```
NSString * path = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES) objectAtIndex:0];
path = [path stringByAppendingPathComponent:@"appointment.ics"];
NSURL *targetURL = [NSURL fileURLWithPath:path];
[[UIApplication sharedApplication] openURL:targetURL]; 
```

并来自外部网址：

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"http://mysite.com/appointment.ics"]]; 
```

并直接加载到 UIWebView 但都失败了。在模拟器（没有日历应用程序）和设备上都试过。当尝试打开外部 URL 时，我收到一条警报“无法订阅……一些废话”

如果可能的话，谁能给我一个线索？Apple 宣布 iOS 4.2 将支持这些东西。

# c# - 安全协议无法验证传入消息？

> ID：11517721
> 
> 赞同：0
> 
> 时间：2012-07-17T07:19:31.540
> 
> 标签：c#, wcf, web-services

我开发了一个应用程序安全 wcf 使用消息模式：

```
 <security mode="Message">                      
<message clientCredentialType="UserName" negotiateServiceCredential="true"/>
</security> 
```

它在本地机器上运行良好，但是当我将它运行到其他电脑时，它会通知错误：

> 安全协议无法验证传入消息

使用跟踪我看到：

> 安全时间戳无效，因为它的创建时间 ('2012-07-17T21:08:43.211Z') 在未来。当前时间为“2012-07-17T07:08:48.769Z”，允许的时钟偏差为“00:05:00”。

什么是问题？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-22T20:29:21.017

一种选择可能是（如果您不需要时间戳） - 您可以禁用向请求中的安全标头添加时间戳，并且 WCF 不会在响应中期望它。取自[此](http://www.west-wind.com/weblog/posts/2007/Dec/09/Tracing-WCF-Messages)链接的代码

```
// *** Don't include TimeStamp header - so server won't expect it back
// *** This allows results returned without any Soap Headers
BindingElementCollection elements = client.Endpoint.Binding.CreateBindingElements();
elements.Find<SecurityBindingElement>().IncludeTimestamp = false;
client.Endpoint.Binding = new CustomBinding(elements); 
```

# android - 在android中保存listview中显示的项目

> ID：11517725
> 
> 赞同：0
> 
> 时间：2012-07-17T07:19:43.063
> 
> 标签：android, android-listview

我在列表视图中的 packagemanager 的帮助下显示了手机上安装的所有应用程序的列表，并且列表中显示了一个复选框以及每个应用程序名称。我想保存用户选择文本框的应用程序的名称。保存的项目将用于生成收藏应用程序列表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:27:32.257

您可以在用户按下复选框时将其保存在数据库中，如果用户取消选中它，则如果它已经存在于您的数据库中，则可以将其删除。您可以使用监听器并将保存代码放在监听器中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:27:37.237

您应该在复选框中添加一个侦听器 => [OnCheckedChangeListener](http://developer.android.com/reference/android/widget/CompoundButton.OnCheckedChangeListener.html)

然后，每次复选框的状态发生变化时都会通知您，如果复选框被选中，您可以将元素添加到列表中，如果未选中，您可以从列表中删除元素。

这需要您有自己的适配器思想。

祝你好运，祝你有美好的一天

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:27:47.443

您需要使用复选框制作自定义列表视图：这是给您的一个**[示例](http://windrealm.org/tutorials/android/listview-with-checkboxes-without-listactivity.php)**。

您将需要在 Listview 下方/上方有一个按钮，单击您可以获取所有项目并将其存储到数据库中的内容：完整的**[文章](http://www.vogella.com/articles/AndroidSQLite/article.html)**。

现在您可以随时从数据库中获取数据以显示那些喜欢的应用程序。

# objective-c - 有什么好的练习可以练习iOS的编程逻辑吗？

> ID：11517727
> 
> 赞同：1
> 
> 时间：2012-07-17T07:20:00.410
> 
> 标签：objective-c, ios

我已经学习如何开发 iOS 大约 3 个月了。只是想知道是否有任何好的编程练习可以学习objective-c中的编程逻辑。像一些具有解决方案的具有挑战性的问题。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:25:54.543

您可能面临的最大挑战是为有**期限**的实际客户设计的项目。如果您没有客户，只需向自己提出一个项目（一个 RSS 阅读器，通常在 iOS 面试中会被问到）并为它设置一个截止日期。

# android - 谷歌地图出现叠加错误

> ID：11517728
> 
> 赞同：0
> 
> 时间：2012-07-17T07:20:00.840
> 
> 标签：android, google-maps, android-layout, layout, google-maps-api-3

我在谷歌地图工作...

我做了波纹管应用程序，它工作正常然后突然停止工作，我从一开始就跟踪它，我发现当我添加

```
 mapOverlays = mapView.getOverlays(); 
```

应用程序停止工作...

我需要帮助

```
public class MapGtugActivity extends MapActivity implements OnClickListener  {
MapView mapView ; 
MyLocationOverlay compass ; 
MapController controller ; 
Drawable drawable ; 
Drawable drawable2 ; 
List<Overlay> mapOverlays ; 
GeoPoint point1 ; 
GeoPoint point2 ; 
GeoPoint point3 ;
MapItemizedOverlay custom ; 
MapItemizedOverlay custom2 ; 
//List <GeoPoint> LGP ; 
 GeoPoint LGP[] = new GeoPoint[6] ; 
 Button AddLayers ; 

 int x , y ; 
 GeoPoint touchedpoint ;
 long start ; 
 long stop ;

   CharSequence[] items = {"Layer1", "Layer2"};
   boolean[] itemsChecked = new boolean[items.length];

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    MapView mapview = (MapView) findViewById(R.id.mapview) ;
    mapview.setBuiltInZoomControls(true) ; 

    mapOverlays = mapView.getOverlays();

}

@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}

public void onClick(View v) {
    // TODO Auto-generated method stub

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:25:43.367

您只能在添加叠加层后调用 getOverlays。我认为它在那时返回 nullpointerException（因为你在 onCreate 中调用它）。因为当 getOverlays() 被调用时，你的地图上没有定义覆盖来获取它。

# powershell - powershell - 如何检查一个文件的存在

> ID：11517735
> 
> 赞同：4
> 
> 时间：2012-07-17T07:20:45.853
> 
> 标签：powershell, powershell-2.0

我有不同数量的文件的文件夹。如何检查是否有一些文件以及有多少？我使用它，但是当只有一个文件时，它什么也没给我。谢谢你。

```
$number_of_files = Get-Childitem c:\folder -name -force
$number_of_files.Count 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T07:32:50.973

像这样改变它：

```
$number_of_files = @(Get-Childitem c:\folder -name -force)
$number_of_files.Count 
```

这种力量`$number_of_files`始终是一个数组，并且将 count 属性设置为值 1

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T10:26:17.027

@Marek 的答案有效，但它可能不是最有效的。与其进行 .GetType() 并进行正则表达式匹配，不如只根据文件夹中的属性而不是文件对象中的属性进行过滤。IE：

(Get-ChildItem c:\folder -name -force | where {!$_.PSIsContainer} | measure-object).count。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-17T07:28:08.517

尝试

```
(Get-ChildItem c:\folder -name -force | where {$_.GetType() -match "fileInfo"} | measure-object).count 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-17T07:28:19.003

我用`measure`这个：

```
$f = Get-Childitem c:\folder -name -force
($f | measure).Count 
```

# objective-c - nsmutablearray 元素到 nsstring

> ID：11517739
> 
> 赞同：0
> 
> 时间：2012-07-17T07:21:01.820
> 
> 标签：objective-c, cocoa, nsstring, nsmutablearray, nscombobox

我想检索在 a 中解析的元素`NSMutableArray`并将它们存储到一个`NSString`变量中，然后将它们存储在`NSMutableArray`as 中`NSString`（因为我想在 a 中显示内容`NSComboBox`）。我试过这个，但它不起作用。你能解决问题吗，我无法解决：

```
//--this is the parsing code : 
- (void)parser:(NSXMLParser *)parser 
didStartElement:(NSString *)elementName 
  namespaceURI:(NSString *)namespaceURI 
 qualifiedName:(NSString *)qualifiedName 
    attributes:(NSDictionary *)attributeDict {

    if ([elementName isEqualToString:@"user"]) {
        NSLog(@"user element found – create a new instance of User class...");
        if(currentElementValue == nil)
            currentElementValue = [NSMutableString string];
        else 
            [currentElementValue setString:@""];
    }
    else {
        currentElementValue = nil;
    }
        user = [[User alloc] init];

}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string {
    if (!currentElementValue) {
        // init the ad hoc string with the value     
        currentElementValue = [[NSMutableString alloc] initWithString:string];
    } else {
        // append value to the ad hoc string    
        [currentElementValue appendString:string];
        if (currentElementValue) 
        {
            currentElementValue = nil;
        }
    }
    NSLog(@"Processing value for : %@", string);
}  

- (void)parser:(NSXMLParser *)parser 
 didEndElement:(NSString *)elementName
  namespaceURI:(NSString *)namespaceURI 
 qualifiedName:(NSString *)qName {

    if ([elementName isEqualToString:@"users"]) {
        // We reached the end of the XML document
        return;
        NSLog(@"QUIT");
    }
    if ([elementName isEqualToString:@"userName"]) {
        [[self user] setUserName:currentElementValue];
        NSLog(@"final step for value: %@", user.userName);
        NSLog(@"currentElementName content : %@", currentElementValue);
        [currentElementValue release];
        NSLog(@"release : %@", currentElementValue);
        currentElementValue = nil;
        NSLog(@"release : %@", currentElementValue);
    }
    if ([elementName isEqualToString:@"firstName"]) {
        [[self user] setFirstName:currentElementValue];
        [currentElementValue release];
        currentElementValue = nil;
    }

    if ([elementName isEqualToString:@"lastName"]) {
        [[self user] setLastName:currentElementValue];
        [currentElementValue release];
        currentElementValue = nil;
    }

    if ([elementName isEqualToString:@"user"]) {
        NSLog(@"\n user=%@ \n",user);

        [users addObject:user];
        NSLog(@"userName test : %@", users);

        [user release];
        user = nil;
    }
}
-(BOOL)parseDocumentWithData:(NSData *)data {

    if (data == nil)
        return NO;
    NSXMLParser *xmlparser = [[NSXMLParser alloc] initWithData:data];
    [xmlparser setDelegate:self];
    [xmlparser setShouldResolveExternalEntities:NO];

    BOOL ok = [xmlparser parse];
    if (ok == NO)
        NSLog(@"error");
    else
        NSLog(@"OK");

    [xmlparser release];
    return ok;
}

// this is the xml file : 

<users>
 <user>
  <userName>mspeller</userName>
  <firstName>Mike</firstName>
  <lastName>Speller</lastName>
 </user>
 <user>
  <userName>mgdan</userName>
  <firstName>Mila</firstName>
  <lastName>Gdan</lastName>
 </user>

</users>

//-------
NSMutableArray *tabletest= [[NSMutableArray alloc] init];
NSMutableString * result = [[NSMutableString alloc] init];
int i;
for(i=0; i < [users count]; i++){

    [result appendString:[NSString stringWithFormat:@"%@",[[users objectAtIndex:i] valueForKey:@"userName"]] ];
    NSLog(@"result==%@",result);

    [tabletest addObject:result];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:51:29.737

根据您在评论部分中的链接，我认为您以错误的方式访问“userName”属性。您正在尝试访问它，因为用户包含`NSDictionary`对象。据我所知，您正在将`User`对象添加到`NSMutableArray`.

尝试以下操作（我冒昧地对代码进行了一些美化）：

```
NSMutableArray *tabletest= [NSMutableArray array];

for (User* user in users)
{
    NSString* result = [NSString stringWithFormat:@"%@", user.userName];
    NSLog(@"result==%@",result);

    [tabletest addObject:result];
} 
```

如果我完全误解了您的设计，请纠正我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:53:33.513

我不遵循您的意图，但是您的代码目前所做的是将*相同*的字符串`[user count]`时间添加到数组`tabletest`中，如下所示：

该行：

```
[result appendString:[NSString stringWithFormat:@"%@",[[users objectAtIndex:i] valueForKey:@"userName"]] ]; 
```

累积成`result`将每个附加`[[users objectAtIndex:i] valueForKey:@"userName"]`在一起的结果 - 循环的每次迭代都将下一个项目添加到`result`.

该行：

```
[tabletest addObject:result]; 
```

将引用的*对象*`result`添加到数组中。每次迭代都会这样做一次，因此数组最终会`[users count]`引用*同一个*对象。将对可变字符串的引用放置到数组**中不会**放置其当前值的副本，而只是对字符串的引用 - 对字符串进行变异，并且通过存储在数组中的引用可以看到变异。

因此，您的代码的最终结果是对同一可变字符串的引用数组`[users count]`，并且该字符串是所有`[[users objectAtIndex:i] valueForKey:@"userName"]`值的串联。

你的意图是什么？

如果您尝试创建一个字符串表示形式的数组，`[[users objectAtIndex:i] valueForKey:@"userName"]`则将代码更改为：

```
NSMutableArray *tabletest= [[NSMutableArray alloc] init];

for(int i = 0; i < [users count]; i++)
{
   // create a string representation of userName
   NSString *result = [NSString stringWithFormat:@"%@",[[users objectAtIndex:i] objectForKey:@"userName"]];
   // add the string to the array
   [tabletest addObject:result];
} 
```

但也许你的意图是别的？

# objective-c - -[CFRunLoopTimer release]：消息发送到释放实例 0x62398f80

> ID：11517741
> 
> 赞同：1
> 
> 时间：2012-07-17T07:21:14.250
> 
> 标签：objective-c, ios, xcode, exc-bad-access

我已经搜索了几个小时并阅读了很多`message sent to deallocated instance`帖子，并尝试了这些帖子中建议的方法，但我仍然无法发现导致崩溃的错误。

我尝试启用`NSZombieEnabled`,`MallocStackLogging`并`MallocStackLoggingNoCompact`得到了这一行：

```
*** -[CFRunLoopTimer release]: message sent to deallocated instance 0x62398f80 
```

但是在我的代码中，我没有使用`CFRunLoopTimer`or `NSTimer`。

，`info malloc`我得到以下输出：

```
[Switching to process 97238 thread 0x11903]
sharedlibrary apply-load-rules all 
mygame(97238,0xb01cd000) malloc: recording malloc stacks to disk using standard recorder
(gdb) info malloc 0x62398f80
Alloc: Block address: 0x62398f80 length: 128 
Stack - pthread: 0xac0422c0 number of frames: 41
    0: 0xe9d22 in GMmalloc_zone_malloc_internal
    1: 0xe9ebb in GMmalloc_zone_malloc
    2: 0x142ba88 in __CFAllocatorSystemAllocate
    3: 0x142ba63 in CFAllocatorAllocate
    4: 0x142b8de in _CFRuntimeCreateInstance
    5: 0x147c1c5 in CFRunLoopTimerCreate
    6: 0x32bb831 in _ZN7WebCore22setSharedTimerFireTimeEd
    7: 0x338dd4b in _ZN7WebCore21MainThreadSharedTimer11setFireTimeEd
    8: 0x338daf3 in _ZN7WebCore12ThreadTimers17updateSharedTimerEv
    9: 0x3397781 in _ZN7WebCore9TimerBase15setNextFireTimeEd
   10: 0x339786a in _ZN7WebCore9TimerBase5startEdd
   11: 0x2be78be in _ZN7WebCore5Frame9keepAliveEv
   12: 0x2e86312 in _ZN7WebCore15JSDOMWindowBase10globalExecEv
   13: 0x2ea699a in _ZN7WebCore15JSEventListener11handleEventEPNS_22ScriptExecutionContextEPNS_5EventE
   14: 0x2bc4e02 in _ZN7WebCore11EventTarget18fireEventListenersEPNS_5EventEPNS_15EventTargetDataERN3WTF6VectorINS_23RegisteredEventListenerELm1EEE
   15: 0x2bc4f1c in _ZN7WebCore11EventTarget18fireEventListenersEPNS_5EventE
   16: 0x2bc46ee in _ZN7WebCore11EventTarget13dispatchEventEN3WTF10PassRefPtrINS_5EventEEE
   17: 0x33eb040 in _ZN7WebCore9WebSocket10didConnectEv
   18: 0x33eafa4 in _ZThn20_N7WebCore9WebSocket10didConnectEv
   19: 0x33ed470 in _ZN7WebCore16WebSocketChannel13processBufferEv
   20: 0x33edd18 in _ZN7WebCore16WebSocketChannel14didReceiveDataEPNS_18SocketStreamHandleEPKci
   21: 0x32c681b in _ZN7WebCore18SocketStreamHandle18readStreamCallbackEm
   22: 0x32c68f8 in _ZN7WebCore18SocketStreamHandle18readStreamCallbackEP14__CFReadStreammPv
   23: 0x14c803d in _signalEventSync
   24: 0x14c879a in _cfstream_solo_signalEventSync
   25: 0x14c7e41 in _CFStreamSignalEvent
   26: 0x14c86f7 in CFReadStreamSignalEvent
   27: 0x1ca371 in _ZN12SocketStream40dispatchSignalFromSocketCallbackUnlockedEP24SocketStreamSignalHolder
   28: 0x126011 in _ZN12SocketStream14socketCallbackEP10__CFSocketmPK8__CFDataPKv
   29: 0x125f21 in _ZN12SocketStream22_SocketCallBack_streamEP10__CFSocketmPK8__CFDataPKvPv
   30: 0x1495e14 in __CFSocketPerformV0
   31: 0x14fb94f in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__
   32: 0x145eb43 in __CFRunLoopDoSources0
   33: 0x145e424 in __CFRunLoopRun
   34: 0x145dd84 in CFRunLoopRunSpecific
   35: 0x145dc9b in CFRunLoopRunInMode
   36: 0x1d5c7d8 in GSEventRunModal
   37: 0x1d5c88a in GSEventRun
   38: 0x39c626 in UIApplicationMain
   39: 0x3095 in main at /Users/neevek/workspace/xcode_projects/mygame/mygame/main.m:16
   40: 0x2925 in start 
```

**编辑**

我几乎绝望了，我在这个问题上花了 2 天时间。我唯一能发现的是`CFRunLoopTimer`僵尸物体。我在我的代码中使用CocoaHttpServer [。](https://github.com/robbiehanson/CocoaHTTPServer)`NSURLConnection`从某个地方我了解到这`NSURLConnection`取决于`NSRunLoop`，所以我想知道是否是`NSRunLoop`导致崩溃的原因。在我的应用程序中，两者都`CocoaHTTPServer`依赖`NSURLConnection`于`NSRunLoop`，因为它们在不同的线程上运行。

请帮忙！

我使用**Instruments**找到了僵尸对象，并截取了 2 张崩溃报告截图： ![在此处输入图像描述](../Images/cd23b08aac3b2b6c83b07a8d2d2de34d.png) ![在此处输入图像描述](../Images/282606edb0eec20c2b9d12b476edcd5e.png)

和`[HttpServer bonjourThread]`方法：

![在此处输入图像描述](../Images/378b93318f35912ae0f05cfb2b022428.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-30T17:56:29.233

我已经解决了这个问题，只需在 UIWebView 上调用一个虚拟 stringByEvaluatingJavaScriptFromString，然后再在上下文中调用一个方法。我相信这个工作的原因是对 javascript 的调用是在 Web 线程上完成的，它使用一个计时器来接收返回给主线程的回复，当调用调用时，这个计时器没有被创建，所以当回复从 Web 返回时线程在尝试释放一个从未创建过的计时器时崩溃。通过使用适当的 API stringByEvaluatingJavaScriptFromString in 确保创建计时器，然后 invokeMethod 可以使用相同的计时器。

```
JSContext* context = [webView valueForKeyPath:@"documentView.webView.mainFrame.javaScriptContext"];
JSValue* value = context[@"Colors"];

// timer CFRelease crash fix
[webView stringByEvaluatingJavaScriptFromString:nil]; 

[value invokeMethod:@"update" withArguments:@[objectID,modifier]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-01T14:26:58.253

根据我的唯一解决方案是在您的代码中搜索 NSTimer-任何第 3 部分库都可以使用它。一旦找到 NSTimer，只需在 NSTimer 初始化结束时添加一个保留语句，如下所示：

```
idleTimer = [[NSTimer scheduledTimerWithTimeInterval:maxIdleTime
                                                    target:self
                                                    selector:@selector(idleTimerExceeded)
                                                    userInfo:nil
                                                    repeats:NO]retain]; 
```

# python - 等待程序完成其任务

> ID：11517743
> 
> 赞同：0
> 
> 时间：2012-07-17T07:21:19.640
> 
> 标签：python, process, applescript

我想知道如何让一个程序等待另一个程序完成任务。我不确定我会寻找什么...

另外，我用的是mac。

我想使用 Python 甚至可能是 applescript（如果解决方案适用于 applescript，我可以只使用 osascript python）

基本上，这个程序“MPEGstreamclip”会转换视频，它会在转换时打开似乎是 2 个新窗口。一个窗口是转换进度条，另一个窗口是转换预览。（不确定这些是否真的算作窗口）

（另外，MPEGstreamclip 没有applescript 字典，据我所知，它无法监听某些窗口名称的存在）

但基本上我希望我的程序在 MPEGstreamclip 完成时进行监听，然后运行它的任务。

如果有帮助，转换完成后，停靠栏中的 mpegstreamclip 图标会弹跳一次。我不确定这意味着什么，但我认为你可以用它来触发一些东西，不是吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T15:39:40.707

如果 MPEGstreamclip 在完成后实际上结束了，您可以使用已经在[另一篇文章](https://stackoverflow.com/questions/89228/calling-an-external-command-in-python)中讨论过的各种技术将整个事情包装在一个 python 脚本中。请务必等待外部流程结束，然后再继续执行其他步骤。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T07:40:21.667

我意识到 GUI applescript 是这种情况下的答案。有了它，我可以告诉 PROCESS 获取每个窗口，这很有效。但是，我将其保留，因为我想知道其他方式。我确信这个 GUI 变通方法不会适用于所有情况。

# javascript - 使用 jQuery 强制更改表单

> ID：11517745
> 
> 赞同：4
> 
> 时间：2012-07-17T07:21:21.467
> 
> 标签：javascript, jquery, forms

谁能告诉我如何在 jQuery 中强制更改表单。我正在使用 jQuery 手动设置值，但表单没有输入此函数：

```
$('form[name="xy"] :input').change(function() { ... 
```

我可以手动执行此操作以进入此功能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T07:23:21.163

您可以使用[`trigger()`](http://api.jquery.com/trigger/)：

```
$('form[name="xy"] input').trigger('change'); 
```

或`change`方法：

```
$('form[name="xy"] input').change(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:41:37.850

在这种情况下触发 UI 事件（例如更改）可能不是一个好的代码实践，因为事件通常应仅由 UA 调度以通知 App 逻辑有关 UI 的更改。您可以考虑重新组织您的代码，以便您可以直接调用您想要调用的逻辑，而不是通过调度伪事件的循环。

# ruby-on-rails - Mongoid has_many 关联和 factorygirl

> ID：11517746
> 
> 赞同：3
> 
> 时间：2012-07-17T07:21:25.487
> 
> 标签：ruby-on-rails, ruby, factory-bot

我第一次使用 mongoid，在工厂中为我的规范创建 has_many 关联时遇到问题。

场景是这样的：

我有一个小组课程：

```
class Group
  include Mongoid::Document
  field :name, :type => String
end 
```

我有一个运动课。一个练习可以属于许多组。练习类当前定义如下：

```
class Exercise
  include Mongoid::Document
  field :name, :type => String
  field :description, :type => String

  has_many :groups

  validates_presence_of :name, :description
end 
```

我想使用 factorygirl 为规格创建实例。我正在努力解决如何做到这一点。

目前我的运动工厂是这样的；

```
FactoryGirl.define do
  factory :exercise do
    name "Preacher curls"
    description "Do something"

    after(:build) do |exercise|
      exercise.groups << FactoryGirl.build(:group)
    end
  end
end 
```

这会导致以下错误：

> ```
>  NoMethodError:
>    undefined method `=' for #<Group _id: 4fbc6f5a26a3181742000004, _type: nil, name: "Arms"> 
> ```

如何正确创建练习工厂以添加 group_ids？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T09:40:26.840

尝试添加

```
belongs_to :exercise 
```

进入您的小组课程

它应该如下所示：

```
class Group
  include Mongoid::Document
  field :name, :type => String
  belongs_to :exercise
end 
```

# java - 在 JasperReport 中创建/传递 Java bean 数据源

> ID：11517748
> 
> 赞同：10
> 
> 时间：2012-07-17T07:21:31.030
> 
> 标签：java, jasper-reports, reporting

我在我的 JSF 应用程序中使用 JasperReport 和 ireport 来动态生成报告。这就是我想要实现的目标：-

1.  我的结构（读取为 HashMap/ArrayList）包含需要传递给报告的数据，以便在报告中显示相同的数据。

2.  我的报告已经包含一个数据源连接，我使用它从数据库中获取一些值并将其填充到报告中。

3.  我正在创建一个子报表，以便对于需要从代码传递的数据，我可以使用子报表并将这个子报表嵌入到主报表中。

我的问题是：- 1\. 我无法将集合（读取为 HashMap/ArrayList）传递给子报表以使用我的代码中的数据填充它。

我绝对确定必须有某种方法将整个集合传递给子报表以填充它，我还尝试创建一个 JavaBean 数据源连接，但是在创建连接时它显示缺少类路径条目。

我不能将相应的类捆绑在一个 jar 中并将 jar 放在类路径中，因为值在结构中不断变化，...

谁能指导我如何创建/将Java bean数据源传递给报告，以便可以填充数据...

请指导...

更新部分：-

用于将参数传递给报告并生成报告的 Java 代码：-

```
public class TestDataSource
{
    public static void main(String[] args)
    {

        try {
            JasperDesign jasperDesign = JRXmlLoader.load("D:\\jasperReports\\subReportDataSource.jrxml");
            JasperReport jasperReport =(JasperReport)JasperCompileManager.compileReport(jasperDesign);
            Map<String,Object> parameters = new HashMap<String,Object>();
            parameters.put ("Title",generateCollection());

            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, new JRBeanCollectionDataSource(generateCollection()));

            JasperViewer.viewReport(jasperPrint);
            }catch(Exception e)
            {
                e.printStackTrace();
            }
    }

    public static ArrayList<PersonBean> generateCollection()
    {
        ArrayList<PersonBean> arrlist=new ArrayList<PersonBean>();
        arrlist.add(new PersonBean("A", 20));
        arrlist.add(new PersonBean("B",30));
        arrlist.add(new PersonBean("C",40));
        arrlist.add(new PersonBean("D",50));
        arrlist.add(new PersonBean("E",40));
        arrlist.add(new PersonBean("F",60));

        return arrlist;
    } 
```

}

现在我创建了一个新报告（Report）..在里面我放置了一个子报告（Sub-Report）..将子报告数据源配置为 new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{标题}）

连接类型：- 使用数据源连接类型。

现在在我的子报告中，我只放置了两个静态字段，分别是姓名和年龄。我如何告诉我的报告/子报告打印值作为正在传递的哈希图中的值。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-17T17:27:38.960

如果您已经有一个 DataSource，那么您可以在填写报告时通过参数 Map 传递您的 List/Map。

```
Map<String, Object> param = new HashMap<String, Object>();
param.put("SUB_DATA_SOURCE", yourList);

JasperFillManager.fillReport(jasperReport, param,
                new JRBeanCollectionDataSource(yourMainListHere)); 
```

这样做，您必须在 MAIN 报告中创建一个与您在参数映射中设置的名称相同的参数，并为此提供一个类型类（在我的情况下为列表）。

比您必须创建子报表元素并将连接类型设置为“使用数据源表达式”并在“数据源表达式”中设置以下内容：

```
new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{SUB_DATA_SOURCE}) 
```

# regex - 匹配perl中的文本后如何提取所需的行？

> ID：11517749
> 
> 赞同：3
> 
> 时间：2012-07-17T07:21:31.320
> 
> 标签：regex, perl

**输入文件：**

```
{test test
{***********************************************************************
{Rtest
{***********************************************************************
{test
{***********************************************************************
{* date
{*
{* Initial revision
{*
{***********************************************************************

{output}

{output1}

{output 2}

{Test TEst TEST}  
{Test test test}

{*********************}

{********************} 
```

**所需输出：**

```
{Output}
{output1}
{output2} 
```

**脚本**

```
use strict;
use warnings;

while (<DATA>) {
  $line = $_;
  chomp $line;

  push( @lines, $line );

  $line =~ s/^\s+//;
  $line =~ s/\s+$//;

  for ( my $i = 0 ; $i <= $#lines ; $i++ ) {
    if ( $lines[$i] =~ m/(^{\**$)/ ) {

      push( @matched, $lines[ $i + 1 ] );
      print "$lines[$i+1]"."\n";
    }
  }
} 
```

**我的输出：**

```
 {test test
    {***********************************************************************
    {Rtest
    {***********************************************************************
    {test
    {***********************************************************************
    {* date
    {*
    {* Initial revision
    {*
    {*********************************************************************** 
```

我能够匹配顶部块，但无法获得所需的前 3 行作为输出。从上面的匹配条件中，我试图提取下一行，但我得到一个空格作为输出。我错过了什么吗，在此先感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T11:00:55.157

这个程序是我对你可能想要的最好的猜测。它需要命令行上的输入文件。

我已经编写了它，以便它在以 . 开头的行之后打印接下来的三个非空白行`{*`。但我无法理解什么规则会排除这些行

```
{Rtest 
```

和

```
{test 
```

但包括你说你想要的那些。如果您还需要什么，请再次询问。

**更新**

也许您只想打印*那些*以`}`? 我已经改变了我的代码来做到这一点

```
use strict;
use warnings;

my @lines;
my @matched;

my $n = 0;

while (<>) {
  if ( /^\s*\{\*+/ ) {
    $n = 3;
  }
  elsif ( $n and /\}\s*$/ ) {
    print;
    $n-- ;
  }
} 
```

**输出**

```
{output}
{output1}
{output 2} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T07:29:53.017

**更新：**最后一次编辑后，此答案不再有效，因为 OP 已更改所需的输出。

这可以非常简单地完成。只需删除所有以卷曲开头的行`{`和空行。

```
use strict; use warnings;
use Data::Dumper;
my @output;
while (<DATA>) {
  chomp;           # remove newline
  next if /^\{\*/; # We don't want lines starting with an open curly and an asterisk
  next if /^\s*$/; # We also do not want lines that are empty
  push @output, $_;
}

print Dumper \@output; 
```

输出：

```
$VAR1 = [
          'output',
          'output1',
          'output 2'
        ]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T12:45:59.547

我不知道您为什么要通过积压的行返回并反复将它们推入-尤其是当它们与您说要获得的输出`@matched`不*匹配时。*这样比较好...

```
while ( <DATA> ) { 
    print if m/^[{]o/i;
} 
```

但它并没有达到你指定的输出，因为没有对应的输入行`'{Output}'`or`'{output2}'`只有`'{output}'`and `'{output 2}'`，所以，以防万一它不仅仅是草率的规范，我们可能不得不修改它。

```
while ( <DATA> ) { 
    next unless my ( $n ) = m/^[{]output\s*(\d)?[}]/i;
    my $output = length $n ? 'output' : 'Output';
    say "{$output$n}";
} 
```

# c++ - 静态无符号 hashStr (const RWCString& str)

> ID：11517751
> 
> 赞同：0
> 
> 时间：2012-07-17T07:21:49.173
> 
> 标签：c++, string, hash

我正在浏览我的应用程序核心代码，我发现了这个功能：

```
//======================================================
// Hash functions needed for the different Dictionaries
//------------------------------------------------------

static unsigned hashStr (const RWCString& str)
{
    return (str.hash () );
} 
```

当我用谷歌搜索时，我发现了以下内容：

```
unsigned
hash(caseCompare = RWCString::exact) const; 
```

*返回一个合适的哈希值。如果 caseCompare 是 RWCString::ignoreCase 那么这个函数将与 MBCS 字符串不兼容。*

但我几乎无法理解这一点！

有人可以帮我理解这背后的概念吗？可能是一个例子会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:46:06.363

我希望你知道什么是哈希函数。否则有一个[维基](http://en.wikipedia.org/wiki/Hash_function)。

（一般来说，散列函数是一个函数，它从（大）数据域（通常可以说是任意长度的字节序列）返回较小域的元素（可以说是 32..256 位序列）（ 32位你有一个`unsigned`）

引用维基：

> 散列函数是任何算法或子程序，可将可变长度的大型数据集（称为键）映射到固定长度的较小数据集。例如，具有可变长度的人名可以散列为单个整数。散列函数返回的值称为散列值、散列码、散列和、校验和或简称为散列。

`MBCS`是一种用于编码中文、日文的旧编码......假设它是一个祖先，`UTF8`并且它以类似的方式工作（一些字符被编码为 1 个字节，一些字符被编码为 2 个字节，依此类推。

关于 MBCS 的评论是因为可能`RWCString`没有用于多字节字符串的排序规则表（告诉它如何使字符大写以及执行其他操作的表，例如排序......）。

可能是哈希函数，当调用时`RWCString::ignoreCase`：

```
return mystring.toUpper().hash(RWCString::exact) 
```

所以它将字符串转换为大写并计算哈希。没有排序规则表，它就无法发挥`toUpper()`作用。

# objective-c - 在设备中安装应用程序时出现错误

> ID：11517752
> 
> 赞同：0
> 
> 时间：2012-07-17T07:21:49.760
> 
> 标签：objective-c, xcode

我已经开发了一个 iphone 应用程序。我能够安装该应用程序并且工作正常。在过去的两个小时中，我在设备中安装应用程序时遇到错误。我尝试重新启动我的设备和 mac，但它是徒劳的..你能不能伙计们帮帮我。

下面是错误

无法向引导服务器注册 com.upspl.bigbapp。错误：未知错误代码。这通常意味着该进程的另一个实例已经在运行或挂在调试器中。(lldb)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:25:49.197

您是否尝试重新启动 Mac 或终止调试器？您也可以尝试按`cmd`+`.`停止该过程。

对于其他参考，请查看类似的帖子：

*   [iPhone - 在模拟器上测试时出现奇怪的错误](https://stackoverflow.com/questions/788277/iphone-strange-error-when-testing-on-simulator)
*   [无法向引导服务器注册 [...]](https://stackoverflow.com/questions/7853136/couldnt-register-with-the-bootstrap-server)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:37:24.617

您可以尝试：从设备和 iTunes 中删除您的应用程序，重新启动您的设备，然后重新启动它。

# .htaccess - 无效页面上的“内部服务器错误”

> ID：11517753
> 
> 赞同：1
> 
> 时间：2012-07-17T07:21:52.943
> 
> 标签：.htaccess, internal-server-error

我的 htaccess 文件的某些行将如下所示

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !\.css$
RewriteCond %{REQUEST_URI} !\.js$
RewriteCond %{REQUEST_URI} !\.images$  
RewriteCond %{REQUEST_URI} ^/(.*)$
RewriteCond %{REQUEST_URI} !(\.jpg|\.gif|\.png)$ [NC] 
RewriteRule ^(.*)$ user/$1 [L,QSA] 
```

但是当我选择无效的 url 时，对于 mydomain.com/blablabla ，它会给出内部服务器错误。我的 .htaccess 有什么问题吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:38:11.840

尝试在之后立即添加这些条件`RewriteCond %{REQUEST_URI} ^/(.*)$`

```
RewriteCond %{DOCUMENT_ROOT}/user/%1 -f [OR]
RewriteCond %{DOCUMENT_ROOT}/user/%1 -d 
```

这将检查重写的 URI 是否存在，如果不存在，则不会进行重写，如果 URI 不存在，则会导致内部循环。

# c# - C#++ 一元运算符增量问题

> ID：11517757
> 
> 赞同：2
> 
> 时间：2012-07-17T07:22:22.543
> 
> 标签：c#, operators, increment

关于 C# ++（正确放置）运算符的问题。

由于左侧的 ++ 运算符，例如 ++var，（比如保持一个 int 值 1）将在任何其他计算发生之前递增 1（示例值 1 将在执行表达式并显示结果后变为 2） .

任何人都可以解释左放置运算符和右放置运算符之间的区别吗？(var++) 因为即使在表达式按预期执行后它似乎也不会增加。这是一些示例代码：

```
 int var1, var2 = 5, var3 = 6;

        var1 = var2++ * --var3;
        Console.WriteLine(" {0} ", var1);
        Console.ReadKey(); 
```

由于 var3 的递减，这只是 5 x 5，但如果没有递减，它是 5 x 6，并且 var2++ 似乎除了它携带的 5 的值之外没有任何影响。如果有人能阐明这个话题，我将不胜感激。谢谢。

***问题已解决。很多很棒的答案和意见的家伙，很难决定接受什么答案，但你们都是这里的赢家！再次感谢您的帮助！=)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T07:26:02.020

```
 int var1, var2 = 5, var3 = 6;

        var1 = var2++ * --var3;
        Console.WriteLine(" {0} ", var1);
        Console.WriteLine(" {0} ", var2);
        Console.ReadKey(); 
```

输出：

25

6

所以`var2`按预期递增。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-17T07:29:48.033

`++x`（前缀增量）在计算表达式**之前**增加值。因此，它首先增加值，然后返回它。

`x++`（后缀增量）在计算表达式**后**增加值。因此，它返回未更改的值，并且仅在此之后`x`递增。

在`var1 = var2++ * --var3;`,`var2`实际上是行之后`6`，因为它在其值被评估**后递增。**

所以你的代码：

```
var1 = var2++ * --var3; 
```

做这样的事情：

```
int oldVar2 = var2;
var2 = var2 + 1;
var3 = var3 - 1;
var1 = oldVar2 * var3; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-17T07:28:48.920

在 C# 中，运算符和运算符之间的**唯一**区别是计算后的实际*返回值*。`left-placed``right-placed`

 *如果是`left-hand`运算符，则返回*新值或递增*值。

在`right-hand`运算符的情况下，返回值是“旧”值，即使*实际*值增加了。

但重要的是要知道在这两种情况下执行的操作*顺序**完全相同*。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-17T07:30:51.607

该`var2`值在乘法计算**后**递增；该`var3`值在乘法评估**之前递减；**它可以大致概念化为：

```
 var tmp = var2; // 5
    var2 = var2 + 1; // 5 + 1 = 6
    var3 = var3 - 1; // 6 - 1 = 5;
    var1 = tmp * var3; // 5 * 5 = 25; 
```

所以 25 是正确的。如果您检查`var2`，您会发现它已按预期增加。

然而！如果涉及`++foo`和的复杂计算`bar--`变得混乱，那么就*不要内联*；将计算分解成更简单的部分，然后执行。编译器不会评判你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-16T04:09:31.683

这是一些利用**PreFix**和**PostFix** *增量运算符*概念的示例类。代码写有注释，使输出更清晰。

```
public class Test
    {
            public Test()
            { }

        public static void Main(string[] args)
        {
            int i = 0;

            Console.WriteLine("\n" + "Displaying Initial            i      =     " + i + "\n");   // Prints 0 i.e. Initial value of i

            Console.WriteLine("\n" + "Displaying PostFix            i++    =     " + i++ + "\n"); // Prints 0\. Then value of i becomes 1.

            Console.WriteLine("\n" + "Displaying Post-incremented   i      =     " + i + "\n");   // Prints 1 i.e. Value of i after Post-increment

            Console.WriteLine("\n" + "Displaying PreFix             ++i    =     " + ++i + "\n"); // Prints 2\. Then value of i incremented to 2

            Console.WriteLine("\n" + "Displaying Pre-incremented    i      =     " + i + "\n");   // Prints 2 i.e. Value of i after Pre-increment

            Console.WriteLine("\n" + "---------------------------------------------" + "\n");

            int j = 0;

            Console.WriteLine("\n" + "Displaying Initial            j      =     " + j + "\n");   // Prints 0 i.e. Initial value of j

            Console.WriteLine("\n" + "Displaying PreFix             ++j    =     " + ++j + "\n"); // Prints 1\. Then value of j incremented to 1.

            Console.WriteLine("\n" + "Displaying Pre-incremented    j      =     " + j + "\n");   // Prints 1 i.e. Value of j after Pre-increment

            Console.WriteLine("\n" + "Displaying PostFix            j++    =     " + j++ + "\n"); // Prints 1\. Then value of j incremented to 2.

            Console.WriteLine("\n" + "Displaying Post-incremented   j      =     " + j + "\n");   // Prints 2 i.e. Value of j after Post-increment

            Console.ReadLine();
        }
    } 
```*

# image - mod_pagespeed - 如何设置过期和缓存更新时间？

> ID：11517759
> 
> 赞同：2
> 
> 时间：2012-07-17T07:22:34.470
> 
> 标签：image, apache, caching, pagespeed, mod-pagespeed

我对两件事感兴趣：

T.1) mod_pagespeed 已经为每个文件安装了 Expires 标头值，除了 html、xml...、documents。那么我怎样才能为每个文件和文件夹更改这个时间？这个模块可以做到吗？

我希望第一个任务不需要示例。

T.2) mod_pagespeed 在每个缓存文件被更改后 3-4 分钟更新它。因此，如果我更改文件的内容，那么它会在 3-4 分钟后刷新后更新。这个模块如何控制这个时间？

第二个问题的例子：

我保存了名为 test.jpg 的 JPEG 图像，在浏览器中刷新如下：

**本地主机/图像/test.jpg**

然后我用图像编辑器更改这个文件并重新保存它。现在此文件已保存在浏览器的缓存中，3-4 分钟后将在浏览器中呈现。所以我想为每个文件和文件夹控制这个时间。

PS：伙计们，我真的需要你们的帮助！整个星期都在试图解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T17:46:29.417

一点背景：mod_pagespeed 延长了资源的缓存寿命，并在资源名称中添加了唯一的哈希码，以提高用户的可缓存性，从而加快返回用户的页面加载速度。

正如您所指出的，有两个不同的缓存生命周期对 mod_pagespeed 很重要。

(T.1) 是缓存生存期 mod_pagespeed 集。它目前设置为 1 年，我认为它不可定制。但是由于我们在 URL 中添加了唯一的哈希码，因此在大多数情况下您不需要自定义它。一旦 mod_pagespeed 意识到资源发生了变化，它就会将不同的 URL 放入 HTML 文件中，从而更新用户缓存。

(T.2) 是资源的原始缓存生命周期（默认为 5 分钟）。mod_pagespeed 会在文件过期时重新加载文件，因此您会看到 3-4 分钟的延迟。有几种不同的方法可以改善这一点。最好的情况是，如果文件完全是静态的，您可以使用[ModPagespeedLoadFromFile](https://developers.google.com/speed/docs/mod_pagespeed/domains#ModPagespeedLoadFromFile)。当您使用该指令时，mod_pagespeed 将在每次重写 HTML 时检查文件，这意味着资源将立即更新。如果您不能使用 LoadFromFile，您可以在 Apache 中为您的资源显式设置较短的缓存生命周期。例如：

```
<Directory ".../foo/">
  ExpiresByType image/gif "modification plus 3 minutes"
  ExpiresByType text/css  "modification plus 1 minute"
</Directory>
<Directory ".../bar/">
  ExpiresByType text/css "modification plus 5 minutes"
</Directory> 
```

但是，请注意，如果您减少此时间，您将使 mod_pagespeed 更频繁地请求资源（对于上述 foo/ 目录中的 CSS 文件，每 1 分钟一次），并且会不必要地给您的服务器增加更多负载。另一种解决方案是在开发过程中[清除 mod_pagespeed 缓存](http://code.google.com/p/modpagespeed/wiki/FAQ#How_do_I_clear_the_cache_on_my_server?)。这可以让您在开发时快速更新服务器，但不会让您的服务器在其余时间不必要地负担。

# nservicebus - 启动 NserviceBus.host 时出现 RavenTimeoutPersistence 错误

> ID：11517763
> 
> 赞同：2
> 
> 时间：2012-07-17T07:22:54.130
> 
> 标签：nservicebus, ravendb

当我尝试启动我的一项服务时，我收到此错误： `There is no index named: RavenTimeoutPersistence/TimeoutDataSortedByTime`

堆栈跟踪：

> 未处理的异常：Magnum.StateMachine.StateMachineException：在`1[[NServiceBus.Hosting.Windows.WindowsHost, NServiceBus.Host, Version=3.2.0.0, Culture=neutral, PublicKeyToken=9fc3864 79f8a226c]] during state Initial while handling OnStart ---> System.Exception: Exception when starting endpoint, error h as been logged. Reason: There is no index named: RavenTimeoutPersistence/TimeoutDataSortedByTime ---> System.InvalidOper ationException: There is no index named: RavenTimeoutPersistence/TimeoutDataSortedByTime at Raven.Client.Connection.ServerClient.DirectQuery(String index, IndexQuery query, String operationUrl, String[] inc ludes) at Raven.Client.Connection.ServerClient.<>c__DisplayClass37.<Query>b__36(String u) at Raven.Client.Connection.ServerClient.TryOperation[T](Func`Raven.Client.Connection.ServerClient.ExecuteWithReplication
> [T]（字符串方法，Func `2 operation) at Raven.Client.Connection.ServerClient.Query(String index, IndexQuery query, String[] includes) at Raven.Client.Document.AbstractDocumentQuery`2\. Raven.Client.Document.AbstractDocumentQuery 的ExecuteActualQuery()
> 1.Raven.Client.Linq.RavenQueryProviderProcessor的 ExecuteQueryTProjection 1.Raven.Client.Linq.RavenQueryProvider 的1.Execute(Expression 表达式) System.Collections.Generic.List 的 1.GetEnumerator() 1 个集合）在 NServiceBus.Timeout.Hosting.Windows.Persistence.RavenTimeoutPersistence.GetAll() 在 NServiceBus.Timeout.Core.TimeoutRunner.CacheExistingTimeouts()`2.get_QueryResult()
> at Raven.Client.Linq.RavenQueryProviderProcessor``1.Execute(Expression expression) at Raven.Client.Linq.RavenQueryProvider``1.System.Linq.IQueryProvider.Execute(Expression expression) at Raven.Client.Linq.RavenQueryInspector``1.InsertRange(Int32 index, IEnumerable`
> 在 NServiceBus.Timeout.Core.TimeoutRunner.Run() 在 System.Collections.Generic.List `1.ForEach(Action`1 action) 在 NServiceBus.Unicast.UnicastBus.NServiceBus.IStartableBus.Start(Action startupAction) 在 NServiceBus.Hosting.GenericHost.Start() 在c:\TeamCity\buildAgent\work\nsb.master_6\src\hosting\NServiceBus.Hosting\GenericHost.cs:第 34 行

主机配置如下：

```
var container = new WindsorContainer();
container.Install(FromAssembly.This());

Configure.With()
    .DefiningEventsAs(t => t.Namespace != null && t.Namespace.StartsWith("Events"))
    .DefiningCommandsAs(t => t.Namespace != null && t.Namespace.StartsWith("Messages"))
    .CastleWindsorBuilder(container)
    .XmlSerializer()
    .MsmqTransport()
    .IsTransactional(true)
    .IsolationLevel(IsolationLevel.ReadUncommitted) 
    .UnicastBus()
    .RavenSagaPersister()
    .RavenSubscriptionStorage()
    .UseRavenTimeoutPersister()
    .RunTimeoutManager()
    .ForInstallationOn<NServiceBus.Installation.Environments.Windows>().Install(); 
```

我在这台机器上还有其他服务正在正常运行。我已经尝试重新启动 ravendb 服务。

运行 Nservicebus 3.2.5

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T22:18:55.667

您缺少索引：RavenTimeoutPersistence/TimeoutDataSortedByTime

你需要创建它，或者 NSB 需要创建它，我不确定这个索引是从哪里来的。

# wcf - WCF：从另一方收到不安全或不正确安全的故障

> ID：11517772
> 
> 赞同：5
> 
> 时间：2012-07-17T07:23:23.270
> 
> 标签：wcf

我创建了一个具有 aspnet 角色和安全性的 wcf 服务。

当我在一个网站上使用它并尝试检查时，使用正确的用户名和密码它可以完美运行，但是使用不正确的用户名和密码它会给我一个错误：

> 从另一方收到不安全或不正确安全的故障。有关故障代码和详细信息，请参阅内部 FaultException。

我本来希望得到“拒绝访问”。

所以，知道为什么吗？？？

**更新**

你是对的，我们可以添加 FaultContracts ...但即使我添加了它也会给我同样的错误..此外，我尝试检查同一个用户是否是 inrole，如果不是，则从外部触发 FaultException...

仍然得到同样的错误，没有得到实际的“访问被拒绝”。

只是为了更新您，我已使用 aspnet Form Authentication 来检查凭据和角色...代码有点像

```
public class SampleService : ISampleService
{
    [PrincipalPermission(SecurityAction.Demand, Role = "admin")]
    public string GetCurrentTime()
    {
        if (!Roles.IsUserInRole(HttpContext.Current.User.Identity.Name, "admin"))
            return DateTime.Now.ToString();
        else
            throw new FaultException("Access is denied");
    }
}

[ServiceContract]
public interface ISampleService
{
    [OperationContract]
    string GetCurrentTime();
} 
```

在客户端，我消费的地方，这项服务......

```
protected void btnSubmit_Click(object sender, EventArgs e)
    {
        try
        {
            ChannelFactory<AuthCustWithAspnetRoleService.ISampleService> factory = new ChannelFactory<AuthCustWithAspnetRoleService.ISampleService>("*");
            factory.Credentials.UserName.UserName = txtUserName.Text.Trim(); // "admin"; 
            factory.Credentials.UserName.Password = txtPassword.Text.Trim(); // "admin";
            AuthCustWithAspnetRoleService.ISampleService proxy = factory.CreateChannel();
            lblMessage.Text = proxy.GetCurrentTime();
        }
        catch (Exception ex)
        {
            lblMessage.Text = ex.Message;
        }
    } 
```

希望这将指导您更多地了解我的代码，并且您可以更详细地帮助我......我不知道为什么其他（我理解这个概念的参考很少）得到“访问被拒绝”而我没有直接得到这个从系统...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:27:17.427

您应该使用[FaultContracts](http://msdn.microsoft.com/en-us/library/ms752208.aspx)来避免此消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T21:23:05.197

我刚遇到这个问题，不得不关闭 WCF 绑定的安全上下文。您需要在客户端和服务中的绑定上关闭它们。

如果您的 WCF 是 IIS 托管的，则这是配置文件：

```
<ws2007FederationHttpBinding>
    <binding>
        <security mode="TransportWithMessageCredential">
            <message establishSecurityContext="false" />
        </security>
    </binding>
</ws2007FederationHttpBinding> 
```

看到这篇文章： [http ://stack247.wordpress.com/2013/05/28/an-unsecured-or-incorrectly-secured-fault-was-received-from-the-other-party/](http://stack247.wordpress.com/2013/05/28/an-unsecured-or-incorrectly-secured-fault-was-received-from-the-other-party/)

# php - 时间戳为“X 天前”，无法正确修改脚本

> ID：11517773
> 
> 赞同：-1
> 
> 时间：2012-07-17T07:23:34.367
> 
> 标签：php, mysql, timestamp

我有一个正在开发的待办事项列表应用程序。它显示创建待办事项时的时间戳，甚至允许用户选择格式。

在此代码段中，代码从 mySQL 数据库中获取信息以查看如何格式化日期：

```
public function __toString(){
    // The string we return is outputted by the echo statement

    if ( $this->data['date_created'] == '') {
        $date_created =  date($GLOBALS["config"]["date_format"].' '.$GLOBALS["config"]["time_format"]);
    }
    else 
        $date_created = date($GLOBALS["config"]["date_format"].' '.$GLOBALS["config"]["time_format"], strtotime($this->data['date_created'])); 
```

（它是从名为 date_format 的行和名为 time_format 的行中提取的）

我正在尝试实现此代码：

```
function relativeTime($dt,$precision=2) {
    if(is_string($dt)) $dt = strtotime($dt);

    $times=array(   365*24*60*60    => "year",
                    30*24*60*60     => "month",
                    7*24*60*60      => "week",
                    24*60*60        => "day",
                    60*60           => "hour",
                    60              => "minute",
                    1               => "second");

    $passed=time()-$dt;

    if($passed<5)
    {
        $output='less than 5 seconds ago';
    }
    else
    {
        $output=array();
        $exit=0;

        foreach($times as $period=>$name)
        {
            if($exit>=$precision || ($exit>0 && $period<60)) break;

            $result = floor($passed/$period);
            if($result>0)
            {
                $output[]=$result.' '.$name.($result==1?'':'s');
                $passed-=$result*$period;
                $exit++;
            }
            else if($exit>0) $exit++;
        }

        $output=implode(' and ',$output).' ago';
    }

    return $output;
} 
```

我更换`$dt`并`$date_created`尝试了不同的组合，但我似乎无法做到正确。我有一个前端错误告诉我相对时间未定义（它没有在错误消息中说 relativeTime，它有一个小写的“t”）。我该怎么做才能`$date_created`以“几天前”的格式显示？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:38:59.170

我会把它完全改写成这样：

```
$times = array(365*24*60*60    => "year",
               30*24*60*60     => "month",
               7*24*60*60      => "week",
               24*60*60        => "day",
               60*60           => "hour",
               60              => "minute",
               1               => "second");

$passed = time() - $dt;

if ($passed < 5) {
    echo "Less than 5 seconds ago.";
} else {
    foreach ($times as $period => $name) {
        if ($passed >= $period) {
            echo round($passed / $period) . " " . $name . "(s) ago";
            break;
        }
    }
} 
```

有关示例，请参见此链接（`$passed`出于测试目的，我对 的值进行了硬编码；您可以编辑该值以查看它如何影响事物）：

[http://ideone.com/e8KXK](http://ideone.com/e8KXK)

* * *

*顺便说一句，我意识到我认为您的原始解决方案试图充分考虑已经过去的每一秒。从用户体验的角度来看，这是一个坏主意。我认为很多用户不会希望看到**“创建于 1 年 7 个月 19 天 4 小时 36 分 28 秒前”**，这是您的原始代码所针对的结果类型。这个答案只会显示最大的单位。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-16T19:39:36.563

将此函数用于将来的日期或过去的日期。

```
function relativeTime($dt,$precision=2) {
        if(is_string($dt)) $dt = strtotime($dt);
        $times = array(365*24*60*60    => "year",
                   30*24*60*60     => "month",
                   7*24*60*60      => "week",
                   24*60*60        => "day",
                   60*60           => "hour",
                   60              => "minute",
                   1               => "second");

        $passed = abs(time() - $dt);

        if ($passed < 5) {
            echo "Less than 5 seconds ago.";
        } else {
            foreach ($times as $period => $name) {
                if ($passed >= $period) {
                    $value = round($passed / $period);
                    $nameReal = $name;
                    if($value != 1) $nameReal .= "s";

                    if(time() > $dt)
                        echo  $value . " " . $nameReal . " ago";
                    else
                        echo "In ". $value . " " . $nameReal;
                    break;
                }
            }
        }
    } 
```

# java - onLocationChanged 不起作用？

> ID：11517780
> 
> 赞同：1
> 
> 时间：2012-07-17T07:24:24.440
> 
> 标签：java, android

在 LocationChanged 监听器上不起作用。

```
import android.app.Activity;
import android.content.Context;
import android.location.Criteria;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.widget.Toast;

public class SimpleLocation extends Activity implements LocationListener {
    private LocationManager locationManager;
    private String provider;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // setContentView(R.layout.main);
        // Get the location manager
        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
        // Define the criteria how to select the locatioin provider -> use
        // default
        Criteria criteria = new Criteria();
        provider = locationManager.getBestProvider(criteria, false);
        Location location = locationManager.getLastKnownLocation(provider);

        // Initialize the location fields
        if (location != null) {
            System.out.println("Provider " + provider + " has been selected.");
            int lat = (int) (location.getLatitude());
            int lng = (int) (location.getLongitude());
            Toast.makeText(getApplicationContext(),
                    "Lat:" + lat + " Lng:" + lng, Toast.LENGTH_LONG).show();
        } else {
            Toast.makeText(getApplicationContext(), "No Value",
                    Toast.LENGTH_LONG).show();
        }
    }

    /* Request updates at startup */
    @Override
    protected void onResume() {
        super.onResume();
        locationManager.requestLocationUpdates(provider, 400, 1,
                (LocationListener) this);
    }

    /* Remove the locationlistener updates when Activity is paused */
    @Override
    protected void onPause() {
        super.onPause();
        locationManager.removeUpdates((LocationListener) this);
    }

    public void onLocationChanged(Location location) {
        int lat = (int) (location.getLatitude());
        int lng = (int) (location.getLongitude());
        Toast.makeText(getApplicationContext(),
                "onLocationChanged Lat:" + lat + " Lng:" + lng,
                Toast.LENGTH_LONG).show();
    }

    public void onStatusChanged(String provider, int status, Bundle extras) {
        // TODO Auto-generated method stub

    }

    public void onProviderEnabled(String provider) {
        Toast.makeText(this, "Enabled new provider " + provider,
                Toast.LENGTH_SHORT).show();

    }

    public void onProviderDisabled(String provider) {
        Toast.makeText(this, "Disabled provider " + provider,
                Toast.LENGTH_SHORT).show();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:29:59.853

```
locationManager.requestLocationUpdates(provider, 400, 1,
            (LocationListener) this); 
```

其格式为：

```
requestLocationUpdates(String provider, long minTime, float minDistance, LocationListener listener) 
```

代码中的这一行指定仅当距离移动最小为“1”时，位置更改才会在您的应用程序中注册。将其设置为 0 并尝试再次运行您的代码。或者将 minTime 和 minDistance 都设置为 0 并尝试。

# java - 使用不受支持的库，引导我进行投射

> ID：11517789
> 
> 赞同：1
> 
> 时间：2012-07-17T07:24:59.583
> 
> 标签：java, casting

我必须与这个处理生物多样性标准的图书馆合作。本质上，它读取 csv、xml 等文件并对其进行验证，允许人们遍历*DarwinCoreRecord类型的记录*

出于某种奇怪的原因，一旦对象从迭代器中移出，它就消失了。下面的小例子：

```
 ArrayList<DarwinCoreRecord> dwc = new ArrayList<DarwinCoreRecord>();
            for(; iter.hasNext();) {
            DarwinCoreRecord record = iter.next();
                    System.out.println(record.getSomeValue());
            dwc.add(record);
        } 
```

该打印语句是完美的，并且打印出正确的细节，如果我在 for 循环之外输出该打印语句，则所有人都有空值。

所以，关于我的问题（除非有人能解决上述问题）。我创建了一个扩展此 DarwinCoreRecord 的骨架类。它看起来完全像这样：

```
public class DWCRecordStore extends DarwinCoreRecord {

public DWCRecordStore() {

}
  } 
```

这只是为了测试我的计划是否可行，但我得到了一个 classcastexception。自从我处理强制转换（至少在 Java 中）以来已经有一段时间了，但我没有发现任何问题。我没有从 DWCRecordStore 投射到 DarwinCoreRecord，所以我看不到问题所在。

有没有人看到我错过的任何明显的东西？

提前致谢。

编辑：对不起，错误在这里：

```
java.lang.ClassCastException: org.gbif.dwc.record.DarwinCoreRecord cannot be cast to com.encima.DWCRecordStore
at com.encima.DroolsTest.main(DroolsTest.java:37) 
```

编辑 2：添加了我对铸件的使用。

```
DWCRecordStore drs = new DWCRecordStore();
            DarwinCoreRecord dwc  = iter.next();
            drs = (DWCRecordStore) dwc; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:41:16.850

您正在尝试`DarwinCoreRecord`转换为`DWCRecordStore`- 但第一个不是第二个的实例！

将`DarwinCoreRecord`其视为多边形和`DWCRecordStore`正方形，您始终可以将正方形 ( `DWCRecordStore`) 转换为多边形 ( `DarwinCoreRecord`) - 但反过来不行。

可能是您试图将从 lobrary 返回的对象存储为`DWCRecordStore`. 但是该库对 不熟悉`DWCRecordStore`，它只返回`DarwinCoreRecord`对象，而不是`DWCRecordStore`.

查明确切的问题可能需要更多的代码——你*究竟*是如何使用你的新类的。

**编辑：**您的最后一次编辑澄清了它，因为`dwc`不是 的实例`DWCRecordStore`，它不能被强制转换为一个。

另一种方法可能是创建一个构造函数：`DWCRecordStore(DarwinCoreRecord)`，并使用：

```
drs = new DWCRecordStore(dwc); 
```

# javascript - JavaScript 代码，如 TextArea Wrapping 或 Div overflow:auto

> ID：11517790
> 
> 赞同：-1
> 
> 时间：2012-07-17T07:25:01.473
> 
> 标签：javascript, html, html5-canvas

我正在开发 HTML5 项目。我想将我的文本包装在 HTML5 画布上的矩形（即文本边界）内。我想换行类似于 a 的文本`<textarea>`。当我调整 textarea 的大小时，文本应该自己调整大小（wrt line 或 Characters）。这就是我想要的：当我在 HTML5 画布上调整矩形大小时换行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:34:37.987

这是你想要达到的目标吗？

[http://dhtmlexamples.com/2011/01/20/creating-a-user-resizable-div-tag-using-css3/](http://dhtmlexamples.com/2011/01/20/creating-a-user-resizable-div-tag-using-css3/)

如果是这样，您需要`overflow`按照说明设置属性。

**编辑 ：**

正如您似乎正在使用的那样`<canvas>`，您可以查看本教程，解释如何在特定上下文中使用 javascript 在画布中包装文本：

[http://www.html5canvastutorials.com/tutorials/html5-canvas-wrap-text-tutorial/](http://www.html5canvastutorials.com/tutorials/html5-canvas-wrap-text-tutorial/)

# android - 是否可以拥有 xml-land 资源文件夹？

> ID：11517791
> 
> 赞同：3
> 
> 时间：2012-07-17T07:25:03.273
> 
> 标签：android, android-softkeyboard, android-resources

我正在开发一个自定义键盘。我的键盘字符是在“xml”资源文件夹中的 xml 文件中定义的。我想为不同的设备和不同的方向提供不同的键盘。

是否可以拥有像 xml-land、xml-xlarge 和...这样的资源文件夹？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:26:21.450

是的，您的所有资源文件夹都可以。查看[此参考资料](http://developer.android.com/guide/topics/resources/providing-resources.html)和以下示例链接：

[http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/frameworks/base/core/res/res/xml-land/password_kbd_qwerty.xml](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/frameworks/base/core/res/res/xml-land/password_kbd_qwerty.xml)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-17T07:31:50.343

是的，横向模式可以有 xml 文件。例如，布局文件夹中有 main.xml，横向模式也可以有相同的文件。

在 res 文件夹下创建**layout-land文件夹，并在其中添加文件****main.xml**。纵向模式下将调用 layout 文件夹的 main.xml，而在横向模式下将调用 layout-land 文件夹的 main.xml。

但请确保 xml 文件的名称与纵向模式下的名称相同，因为将引用相同的名称，但用于不同的模式。

# jquery - jquery：链接打开

> ID：11517794
> 
> 赞同：-2
> 
> 时间：2012-07-17T07:25:24.283
> 
> 标签：jquery

我发现以下代码效果很好

我想知道如何做到这一点

单击 [http://stackoverflow.com](http://stackoverflow.com)时打开链接[https://stackoverflow.com/questions/ask?title=jquery](https://stackoverflow.com/questions/ask?title=jquery)

这可能吗 ？jquery 新手

```
 <!DOCTYPE html>
 <html>
 <!--

   Created using /
   Source can be edited via /uwogi4/2/edit

 -->
 <head>
 <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
 <meta charset=utf-8 />
 <title>Test Page</title>
 <!--[if IE]>
   <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-               ->
 <style>
   article, aside, figure, footer, header, hgroup, 
   menu, nav, section { display: block; }
   body {
     font-family: sans-serif;
   }
   p {
     margin: 0px;
   }
 </style>
 </head>
 <body>
   <div>Foo <span class='pc_more'>http://www.google.com</span></div>
   <div>Bar <span class='pc_more'>http://webvikas.net.in</span></div>
 <script>
 jQuery(function($) {

   $('div').click(function() {
     window.location = $(this).find('.pc_more').html();
   });

 });
 </script>
 <script src="/js/render/edit.js"></script>
 <script>var _gaq=[['_setAccount','UA-1656750-13'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)})(document,'script')</script></body>
 </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:43:19.613

把事情简单化：

```
$('.pc_more').click(function() {
    window.location = $(this).html();
}); 
```

你为什么想做这个？像这样进行链接和重定向是完全错误的。a-tags 的发明是有原因的......这个。

你可以简单地做：

```
<a href="http://stackoverflow.com/questions/ask?title=jquery" target="_blank">http://stackoverflow.com</a> 
```

# javascript - 如何在搜索过滤器jQuery mobile中查找可见列表项的计数

> ID：11517795
> 
> 赞同：5
> 
> 时间：2012-07-17T07:25:28.670
> 
> 标签：javascript, android, jquery-mobile

我已经使用 jQuery Mobile 和 java 脚本为 android 实现了一个电话间隙应用程序。

在我的应用程序中

我已经动态添加了一个**列表视图**并使用了**搜索过滤器**属性（true）。

现在我想为每次搜索弹出一个警报。

该警报会显示用于输入每个字符**的可见列表项的计数。**

如何？

提前感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T08:06:07.000

以下应该为您提供当前可见`li`s的`listview`数量`id=myList`

`$('#myList li').size() - $('#myList li.ui-screen-hidden').size()`

[http://jsfiddle.net/nirmaljpatel/Vy7Vu/](http://jsfiddle.net/nirmaljpatel/Vy7Vu/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T08:28:50.653

我给你做了一个你想要的例子：http: [//jsfiddle.net/Calavoow/ddTX9/3/](http://jsfiddle.net/Calavoow/ddTX9/3/)

它使用[本主题](https://stackoverflow.com/questions/7897433/jquerymobile-listview-events-number-of-remaining-items-after-filter-applied)中的 css 选择器来快速计算元素。

javascript 代码使用带有`id="filterlist"`.

```
$(document).on("pageshow", function() {
    $("#filterlist").prev().on("keyup",function(){
        count();
    });
});

function count(){
    var elements = $("#filterlist li:visible").length;
    alert(elements);
} 
```

# logic - 如何自动证明两个一阶公式是等价的？

> ID：11517805
> 
> 赞同：3
> 
> 时间：2012-07-17T07:26:00.373
> 
> 标签：logic, first-order-logic, proof-system

自动证明两个一阶公式 F 和 G 等价的最佳方法是什么？

与“完整”一阶公式相比，这些公式有一些限制：

1.  无量词
2.  无功能
3.  隐含的普遍量化的

我可以将这些公式转换为子句范式，并且我有统一文字的例程。但是，我不确定如何继续以及是否可以确定此问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-11T20:34:21.620

如前所述，要证明*F <=> G*两者都是封闭（普遍量化）公式，您需要证明*F => G*和*G => F*。为了证明这两个公式中的每一个，您可以使用各种微积分。我将描述[分辨率演算]：

*   否定猜想，因此*F => G*变为*F & -G*。
*   转换为 CNF。
*   运行解决程序。
*   如果你推导出一个空子句，你就证明了最初的猜想*F => G*。如果搜索饱和并且无法派生更多新子句，则猜想不成立。

在您的条件下，来自*F*的所有原子公式将是仅应用于变量的谓词符号，而来自*G*的所有原子公式将是仅应用于 skolem 常量的谓词符号。因此，解析过程只会产生将变量映射到其他变量或将变量映射到那些 skolem 常量的替换。这意味着它只能导出有限数量的不同文字，因此解析过程将始终停止——它将是可判定的。

* * *

您还可以为此目的使用自动化工具，该工具将为您完成所有工作。我使用[The E Theorem Prover](http://eprover.org/)来解决这些问题。作为输入语言，我使用了[TPTP 问题库](http://www.cs.miami.edu/~tptp/)的语言，它对人类来说很容易读/写。

举个例子： 输入文件：

```
fof(my_formula_name, conjecture, (![X]: p(X)) <=> (![Y]: p(Y)) ). 
```

然后我跑

```
eprover --tstp-format -xAuto -tAuto myfile 
```

（`-tAuto`并`-xAuto`进行一些自动配置，在您的情况下很可能不需要），结果是

```
# Garbage collection reclaimed 59 unused term cells.

# Auto-Ordering is analysing problem.
# Problem is type GHNFGFFSF00SS
# Auto-mode selected ordering type KBO6
# Auto-mode selected ordering precedence scheme <invfreq>
# Auto-mode selected weight ordering scheme <precrank20>
#
# Auto-Heuristic is analysing problem.
# Problem is type GHNFGFFSF00SS
# Auto-Mode selected heuristic G_E___107_C41_F1_PI_AE_Q4_CS_SP_PS_S0Y
# and selection function SelectMaxLComplexAvoidPosPred.
#
# No equality, disabling AC handling.
#
# Initializing proof state
#
#cnf(i_0_2,negated_conjecture,(~p(esk1_0)|~p(esk2_0))).
#
#cnf(i_0_1,negated_conjecture,(p(X1)|p(X2))).
# Presaturation interreduction done
#
#cnf(i_0_2,negated_conjecture,(~p(esk1_0)|~p(esk2_0))).
#
#cnf(i_0_1,negated_conjecture,(p(X2)|p(X1))).
#
#cnf(i_0_3,negated_conjecture,(p(X3))).

# Proof found!
# SZS status Theorem
# Parsed axioms                        : 1
# Removed by relevancy pruning         : 0
# Initial clauses                      : 2
# Removed in clause preprocessing      : 0
# Initial clauses in saturation        : 2
# Processed clauses                    : 5
# ...of these trivial                  : 0
# ...subsumed                          : 0
# ...remaining for further processing  : 5
# Other redundant clauses eliminated   : 0
# Clauses deleted for lack of memory   : 0
# Backward-subsumed                    : 1
# Backward-rewritten                   : 1
# Generated clauses                    : 4
# ...of the previous two non-trivial   : 4
# Contextual simplify-reflections      : 0
# Paramodulations                      : 2
# Factorizations                       : 2
# Equation resolutions                 : 0
# Current number of processed clauses  : 1
#    Positive orientable unit clauses  : 1
#    Positive unorientable unit clauses: 0
#    Negative unit clauses             : 0
#    Non-unit-clauses                  : 0
# Current number of unprocessed clauses: 0
# ...number of literals in the above   : 0
# Clause-clause subsumption calls (NU) : 0
# Rec. Clause-clause subsumption calls : 0
# Unit Clause-clause subsumption calls : 1
# Rewrite failures with RHS unbound    : 0
# Indexed BW rewrite attempts          : 4
# Indexed BW rewrite successes         : 4
# Unification attempts                 : 12
# Unification successes                : 9
# Backwards rewriting index :     2 leaves,   1.00+/-0.000 terms/leaf
# Paramod-from index        :     1 leaves,   1.00+/-0.000 terms/leaf
# Paramod-into index        :     1 leaves,   1.00+/-0.000 terms/leaf 
```

最重要的线路在哪里

```
# Proof found!
# SZS status Theorem 
```

# c# - 使用 linq 折叠子节点以列出

> ID：11517807
> 
> 赞同：1
> 
> 时间：2012-07-17T07:26:06.273
> 
> 标签：c#, xml, linq

我有一个定义 xml 的类和另一个定义候选者的类和另一个类，它是类候选者的列表。

我正在尝试根据 xml 中的节点数动态创建列表。

我尝试了各种变体，但没有任何效果，直到节点候选人我得到了所有信息，但候选人列表一直为空。

```
public class Candidate
{
}

public class CandidateList : List<Candidate>
{
}

public class Request
{
    public CandidateList CandidateList { get; set; }
} 
```

```
<?xml version="1.0" encoding="utf-8"?>
<Requests>
  <Request>
    <MidaClientID>1040</MidaClientID>
    <!--elided other elements-->
    <OrderDescription></OrderDescription>
    <Candidates>
      <Candidate>
        <QuestNum>6</QuestNum>
        <!--elided other elements-->
        <EventNum>012</EventNum>
      </Candidate>
      <Candidate>
        <QuestNum>6</QuestNum>
         <!--elided other elements-->
        <EventNum>012</EventNum>
      </Candidate>
    </Candidates>
  </Request>
</Requests> 
```

```
try
{
    IEnumerable<Request> req = from r in input.Descendants("Request")
    select new Request()
    {
        MidaClientID = (int)r.Element("MidaClientID") != 0 ? (int)r.Element("MidaClientID") : 0,
        Password = (string)r.Element("MidaClientPassword") != null ? (string)r.Element("MidaClientPassword") : string.Empty,
        ClientNum = (int)r.Element("ClientNum") != 0 ? (int)r.Element("ClientNum") : 0,
        ClientName = (string)r.Element("ClientName") != null ? (string)r.Element("ClientName") : string.Empty,
        ContactNum = (int)r.Element("ContactNum") != 0 ? (int)r.Element("ContactNum") : 0,
        ContactFirstName = (string)r.Element("ContactFirstName") != null ? (string)r.Element("ContactFirstName") : string.Empty,
        ContactLastName = (string)r.Element("ContactLastName") != null ? (string)r.Element("ContactLastName") : string.Empty,
        ContactEmail = (string)r.Element("ContactEmail") != null ? (string)r.Element("ContactEmail") : "",
        OrderID = (int)r.Element("OrderID") != 0 ? (int)r.Element("OrderID") : 0,
        OrderDesc = (string)r.Element("OrderDescription") != null ? (string)r.Element("OrderDescription") : "",
        CandidateList = (from i in input.Root.Element("Candidates").Elements("Candidate")
            select new Candidate()
            {
                QuestNum = (int)r.Element("QuestNum") != 0 ? (int)r.Element("QuestNum") : 0,
                CandNum = (int)r.Element("CandNum") != 0 ? (int)r.Element("CandNum") : 0,
                EventNum = (int)r.Element("EventNum") != 0 ? (int)r.Element("EventNum") : 0,
                EventDate = (string)(r.Element("EventDate")) == string.Empty ?
                            DateTime.Today : (DateTime)(r.Element("EventDate")),
                EventTime = (string)(r.Element("EventTime")) == string.Empty ?
                            DateTime.Now : (DateTime)(r.Element("EventTime")),
                CandFirstName = (string)r.Element("CandFirstName") != null ? (string)r.Element("CandFirstName") : string.Empty,
                CandLastName = (string)r.Element("CandLastName") != null ? (string)r.Element("CandLastName") : string.Empty,
                CandPhone1 = (string)r.Element("CandPhone1") != null ? (string)r.Element("CandPhone1") : string.Empty,
                CandPhone2 = (string)r.Element("CandPhone2") != null ? (string)r.Element("CandPhone2") : string.Empty,
                CandPhone3 = (string)r.Element("CandPhone3") != null ? (string)r.Element("CandPhone3") : string.Empty,
                CandAttach1 = (string)r.Element("CandAttach1") != null ? (string)r.Element("CandAttach1") : string.Empty,
                CandAttach2 = (string)r.Element("CandAttach2") != null ? (string)r.Element("CandAttach2") : string.Empty,
                CandAttach3 = (string)r.Element("CandAttach3") != null ? (string)r.Element("CandAttach3") : string.Empty
            }) as CandidateList
    };
    return req.ToList();
}

catch (Exception ex)
{
    throw ex;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:02:28.557

感谢您整理问题 - 必须水平滚动是一场噩梦（将编辑显示）。

无论如何-您的主要问题似乎是您选择候选人节点的位置：

```
CandidateList = (from i in input.Root.Element("Candidates").Elements("Candidate") 
```

问题是 linq 查询不产生`CandidateList`实例。一种方法是向您的`CandidateList`类型添加范围构造函数并将 linq 查询提供给它。另外 - 我认为这`input.Root`是错误的。

```
public class CandidateList : List<Candidate>{
  public CandidateList() {}
  public CandidateList(IEnumerable<Candidate> range) : base(range) {}
} 
```

```
//.. in 'new Request{' block
select new Candidate {
  // ... other members elided
  CandidateList = new CandidateList(
    (from i in r.Element("Candidates").Elements("Candidate") 
    select new Candidate()     
    {   
      //...all the Candidate members
    })
  ) //<-- end of the constructor call
} 
```

`as CandidateList`在将查询移入构造函数之后，您还需要从该查询的末尾删除，否则您将获得一个空的 CandidateList ，或者可能`ArgumentNullException`来自`List<T>`. `CandidateList`请注意，我已经更改了`from`; 因为你想要`Candidates/Candidate`当前的节点`Requests/Request`，它由`r`.

最后 - 您对对象的所有属性分配`Candidate`都来自`r`- 您需要将它们更改为`i`（内部 Linq 语句的产物）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:24:22.367

您需要显式实例化该`CandidateList`属性。

```
var doc = XElement.Load(@"path-to-xml");
var result = doc.Descendants("Request")
    .Select(RequestSelector);

private Request RequestSelector(XElement elem)
{
    var request  = new Request();
    // Fill properties here
    request.Candidates = new CandidateList();
    request.Candidates.AddRange(elem.Descendants("Candidate").Select(CandidateSelector));
    return request;
}

private Candidate CandidateSelector(XElement elem)
{
    var candidate = new Candidate();
    candidate.CandFirstName = elem.Element("CandFirstName").Value;
    // Fill other properties here
    return candidate;
} 
```

# php - 根据用户在提交前输入的文本框（数字）值对表格进行排序

> ID：11517808
> 
> 赞同：0
> 
> 时间：2012-07-17T07:26:08.703
> 
> 标签：php, jquery, mysql, textbox, tablesorter

下面是供您参考的图像...这个带有文本框的表是用循环创建的。我也有其他列具有从数据库中获取的值，我可以对它们进行排序。但我的问题是，我想要根据用户在文本框中的数字条目对图像中的第一列进行排序。它应该在我单击它的标题时对其进行排序..我已经搜索了谷歌但无法解决..如果你们中的任何人都可以..那将非常有用..我正在使用 PHP、MySql、JQuery。

提前致谢..

![在此处输入图像描述](../Images/896f1c6cc4f08c0d72f5e516f162d403.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:34:30.263

当然，您可以在每次单击标题时进行重新加载，发送 get 或 post 参数，例如百分比 + desc，然后调整 mysql 查询和 php 中的输出。

或者您可以采用简单的方法并在 javascript 中进行排序。由于您使用的是 jQuery，我强烈推荐插件 Tablesorter：http: [//tablesorter.com/docs/](http://tablesorter.com/docs/)

# javascript - 观察其他场模糊事件

> ID：11517810
> 
> 赞同：0
> 
> 时间：2012-07-17T07:26:17.523
> 
> 标签：javascript, jquery

我想观察其他场模糊事件。假设我有：

```
<input type="text" name="age" id="age"> 
```

其值由其他字段观察，例如

```
<select name = "married" id = "married" someEvent = "function(par1, par2);">
   <option value = "Yes">Yes</option>
   <option value ="No">No</option>
</select> 
```

函数观察年龄字段（即年龄字段的模糊事件）。

这里的问题是什么事件调用了观察年龄模糊事件的函数。请帮助。以上只是一个例子，我知道我可以通过使用字段的 id 来做到这一点，但这并不是每次都一样。我的 id、表单元素和条件总是会改变。

作为参考，我之前的问题是存在 -[显示或隐藏表单元素](https://stackoverflow.com/questions/11503444/show-or-hide-form-element)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:35:41.010

您表达问题的方式听起来像是您希望选择元素观察输入发生的情况。这不是 html/JS 事件的工作方式。您需要将事件处理程序附加到输入，并在该处理程序中对选择执行某些操作。

使用 jQuery：

```
$("#age").on("blur", function() {
   // do something
}); 
```

使用您已经拥有的内联属性进行选择（我不推荐这样做，但它似乎适合您已经在做的事情）：

```
<input type="text" name="age" id="age" onblur="someFunction(this);">

function someFunction(el) {
   // do something
} 
```

> *“我的身份、表单元素和条件总是在变化。”*

您需要某种方法来确定要将事件处理程序应用于哪些元素。例如，如果您不确定哪些 id 可能适用，请使用类：

```
<input type="text name="whatever" id="something" class="needsBlurEvent">

$(".needsBlurEvent").on("blur", function() {
   // do something
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:36:00.577

使用 jQuery [.blur()](http://api.jquery.com/blur/)

```
​$('#age').blur(function(){
    alert('!!');
});​​​​​​​​ 
```

这是你的[jsfiddle](http://jsfiddle.net/jA3r4/)。

# java - 将数据从服务器发送到客户端

> ID：11517814
> 
> 赞同：0
> 
> 时间：2012-07-17T07:26:26.517
> 
> 标签：java

我想在服务器更新时将数据从服务器发送到客户端。通常客户端向服务器发送请求，服务器向客户端响应。有没有办法直接向特定客户端发送数据？

请指导我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:31:33.820

您似乎在追求所谓的[推送技术](http://en.wikipedia.org/wiki/Push_technology)：

> 推送或服务器推送描述了一种基于 Internet 的通信方式，其中对给定事务的请求由发布者或中央服务器发起。它与拉取形成对比，拉取信息的传输请求由接收方或客户端发起。

[这个](https://stackoverflow.com/questions/9898066/java-push-from-server-to-clients)和[这个](https://stackoverflow.com/questions/7698739/server-side-push-with-java)以前的 SO 帖子似乎讨论了你所追求的。

# oracle - PL/SQL：在触发器中按名称设置列值

> ID：11517815
> 
> 赞同：-1
> 
> 时间：2012-07-17T07:26:37.007
> 
> 标签：oracle, triggers, plsql, httprequest, httpresponse

我在我的 Oracle 基础上创建了一个触发器。

```
TRIGGER Customer_trigger
BEFORE INSERT ON Customer
FOR EACH ROW 
```

它通过 http 请求连接到某个服务。该服务在响应中提供列及其值。我的问题是如何按名称设置列值。我想做这样的事情。

```
column_name := from http response
column_value := from http response
:new.<column_name> := column_value 
```

我试过使用立即执行，但没有运气。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T10:52:14.000

您不能在触发器中动态设置列名，但您可以执行以下操作：

```
case http_response.column_name
  when 'c1' then :new.c1 := http_response.column_value;
  when 'c2' then :new.c2 := http_response.column_value;
  when 'c3' then :new.c3 := http_response.column_value;
  ...
end case; 
```

# apache - 如果从服务器不同步，则自动从主服务器初始化 svnsync 命令

> ID：11517821
> 
> 赞同：0
> 
> 时间：2012-07-17T07:27:06.673
> 
> 标签：apache, svn, hook, svnsync

我有一个主从 SVN 服务器的设置。从站使用通过代理写入，因此每个提交都转发给主站。

当从服务器不同步时，从从存储库签出的工作副本无法更新到最新版本。

因此，我正在寻找一种解决方案，如果从属服务器在提交**时不同步，它将自动从主服务器初始化 svnsync 命令。**

谢谢

[更新] 出现这种情况是因为我们在一天结束时关闭了从服务器，而主服务器一直处于运行状态。所以如果svnsync在slave启动时没有发生，普通用户一定不会遇到问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-04-24T12:40:28.693

然而，这已经是很久以前的事了，只是为了给任何面临这个问题的人关闭它。这是我完成的设置

```
1\. Created a batch command to call svnsync from master to slave
2\. Created a RDP service to call batch created in previous step on master svn server
3\. User this service call on startup of slave machine with authentication. 
```

所以主从同步以两种方式发生

```
1\. When Slave machine startup it automatically calls this rdp service
2\. Next commit automatically calls svnsync as it is in post-commit hook 
```

# c++ - 检查输入类型并根据它工作

> ID：11517823
> 
> 赞同：1
> 
> 时间：2012-07-17T07:27:08.200
> 
> 标签：c++, input, types

嘿，我是编程的初学者。所以这听起来很愚蠢。但我真的不知道很多事情。我想编写一个程序，其中用户输入可以是数字或字符串/单词。如果是数字，则以某种方式处理；如果它是一个单词，它将以另一种方式处理。这意味着我想检查输入类型并根据它工作！我已经尝试过了，但它不起作用！

```
#include<stdio.h>
#include<string.h>
#include<iostream>
using namespace std;
int main()
{
    int number;
    string word;
    cout<<"enter a number or a word\n";
    while(cin>>number || cin>>word){
    if(cin>>number){
        cout<<number<<"\n";}
    if(cin>>word){
        cout<<word<<"\n";}
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:33:01.700

一旦格式化提取失败，您的流就处于“失败”状态，您无法轻松地进一步处理它。*总是*读取一个字符串，然后尝试解析它要简单得多。例如，像这样：

```
#include <iostream>
#include <string>

for (std::string word; std::cin >> word; )
{
    long int n;
    if (parse_int(word, n)) { /* treat n as number */ }
    else                    { /* treat word as string */ }
} 
```

您只需要一个解析器功能：

```
#include <cstdlib>

bool parse_int(std::string const & s, long int & n)
{
    char * e;
    n = std::strtol(s.c_str(), &e, 0);
    return *e == '\0';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:41:42.347

好吧，您需要先阅读如何`cin`和`cout`工作。

您的问题的解决方案将是

```
1) Declare a single string variable eg: var_input
2) Take input only once (using cin>>var_input)
3) Check if the string is a number or a word taking help from Link One 
```

链接一： [如何用C++判断一个字符串是否为数字？](https://stackoverflow.com/questions/4654636/how-to-determine-if-a-string-is-a-number-with-c)

# php - 如何从 $_POST 引用 php 中的数组数组？

> ID：11517828
> 
> 赞同：2
> 
> 时间：2012-07-17T07:27:33.397
> 
> 标签：php, arrays, forms, post

```
<input type="checkbox" id="one" name="form[age[]]" value="1"/><label for="one">0 to 12 months</label> 
```

`name`使用 POST 提交后，如何在 PHP 中引用它。我正在尝试收集所有复选框值，然后`implode age[]`，但我需要将其放入`form[]`表单验证中。

当 i 时`print_r[$_POST['form']['age']`，它显示`Notice: Undefined index: age`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:30:12.720

只需在表单中使用密钥形式和密钥年龄：

```
$age = $_POST['form']['age'];
$imploded = implode(',', $age); 
```

HTML-Attribute 的值`name`是 $_POST 中的键，所以`form`是`$_POST['form']`

**编辑：**您的名称值的语法错误，请`form[age][]`改用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:50:22.267

您应该`name="form[age][]"`为每个带有年龄值的复选框使用，然后在将这些值发送到 PHP 之后，它们将作为数组 $_POST['form']['age'] 可用。

例子：

```
<input type="checkbox" name="form[age][]" value="1"/>
<input type="checkbox" name="form[age][]" value="2"/>
<input type="checkbox" name="form[age][]" value="3"/> 
```

将在 PHP 中生成一个数组，如：

```
$_POST['form']['age'][0]; // = 1
$_POST['form']['age'][1]; // = 2
$_POST['form']['age'][2]; // = 3 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:51:18.093

我想你想要这个：

```
<input type="checkbox" id="one" name="form[age][]" value="1"/>
<input type="checkbox" id="one" name="form[age][]" value="2"/>
.
.
<input type="checkbox" id="one" name="form[age][]" value="12"/>

<?
$implode = implode(',', $_POST['form']['age']);
?> 
```

# android - android中的数据库操作

> ID：11517832
> 
> 赞同：0
> 
> 时间：2012-07-17T07:27:45.963
> 
> 标签：android, database

在我的应用程序中，我必须创建一个包含 2 列和 5 行的表。现在我需要一次更新 5 个值。我有 1 个屏幕，5`EditText`秒和一个保存`Button`。单击保存后，5 个编辑框中的值应该在数据库中更新。有人可以帮我查询吗？提前致谢.

我的表结构是：

```
id    name
1     wee
2     fvfb
3     erer
4     fgfg
5     fggfg

private static final String DATABASE_CREATE =

"create table incomexpense(_id integer primary key autoincrement,"+"price text not null,description text not null,"+"quantity text not null,"+"total text not null,"+"category text not null,"+"recurrence text not null,"+"date text not null,"+"groups text not null);";

private static final String DATABASE_TABLESPIN = "create table spinner(_id primary key autoincrement,"+" spin text not null);"; 
```

但是只显示一张桌子？？帮帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:35:27.307

**这个类将创建一个表..您可以创建您的必填字段编辑这个类。**

```
public class TableCreater extends SQLiteOpenHelper 
{

    public static final String DATABASE_NAME = "userregister.db";
    public static final int VERSION = 1;

    public static final String TABLE_NAME = "USER_SESSION";

    public static final String COLUMN_ID = "_id";
    public static final String USER_ID = "user_id";

    public static final String TABLE_CREATE =

    "create table " + TABLE_NAME + " (" + COLUMN_ID
            + " integer primary key autoincrement," + USER_ID + " integer);";

    public static final String FIRST_QUERY = "insert into " + TABLE_NAME
            + " (user_id) values(0);";

    public loginchecker(Context context) {
        super(context, DATABASE_NAME, null, VERSION);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        db.execSQL(TABLE_CREATE);
        db.execSQL(FIRST_QUERY);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        Log.w(loginchecker.class.getName(),
                "Upgrading database from version " + oldVersion + " to "
                        + newVersion + ", which will destroy all old data");
        db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
        onCreate(db);

    }

} 
```

**此方法将更新表中的数据..您可以根据需要进行编辑**

```
public InsertingClass InsertID(int uid) 
    {
        ContentValues values = new ContentValues();
        values.put(loginchecker.USER_ID, uid);
        long insertedId = database.insert(loginchecker.TABLE_NAME, null,
                values);
        Cursor cursor = database.query(loginchecker.TABLE_NAME, allColumnsLogin,
                loginchecker.COLUMN_ID + " = " + insertedId, null, null,
                null, null);
        cursor.moveToFirst();
        return cursorToModel(cursor);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T09:16:35.947

有关创建表，请参阅[SQLiteOpenHelper](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html)。对于数据库的 crud 操作，请参见[ContentProvider](http://developer.android.com/reference/android/content/ContentProvider.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T10:24:29.987

尝试这个：

```
public boolean updateValue(long rowId, String useridvalue)
{
    ContentValues args = new ContentValues();
    args.put(USER_ID, useridvalue);
    return db.update(TABLE_NAME, args,
            COLUMN_ID + "=" + rowId, null) > 0;
} 
```

# c#-to-vb.net - C# 将委托定义为函数，如何在 VB.NET 中进行转换

> ID：11517836
> 
> 赞同：0
> 
> 时间：2012-07-17T07:27:57.303
> 
> 标签：c#-to-vb.net

我有这个类，将委托定义为函数

```
<br />

using System;<br />
using System.Collections.Generic;<br />
using System.Linq;<br />
using System.Text;<br />
using System.ComponentModel;<br />
using System.Collections;<br /><br />
namespace ClassLibrary1<br />
{<br />
    public delegate bool DrillDownHandler(IComponent control);<br />
    public delegate void ComponentLoadedHandler(IComponent control);

        public interface interface1
    {
        event DrillDownHandler DrillDown;
        event ComponentLoadedHandler ComponentLoaded;
    }

    public class Class1 : interface1
    {
        public Class1()
        {
            DrillDown += new DrillDownHandler(DrillDownDefault);
        }

        private ArrayList drillList = new ArrayList();
        public event DrillDownHandler DrillDown
        {
            add
            {
                drillList.Add(value);
            }
            remove
            {
                drillList.Remove(value);
            }
        }
        public event ComponentLoadedHandler ComponentLoaded;

        private bool DrillDownDefault(IComponent control)
        {
            return false;
        }
    }
} 
```

* * *

当转换为 VB.Net 时，我们得到以下代码，但不起作用

```
<br /><br />
Imports System<br />
Imports System.Collections.Generic<br />
Imports System.Linq<br />
Imports System.Text<br />
Imports System.ComponentModel<br />
Imports System.Collections<br />
<br />
Namespace ClassLibrary1<br />
    Public Delegate Function DrillDownHandler(control As IComponent) As Boolean<br />
    Public Delegate Sub ComponentLoadedHandler(control As IComponent)<br />

    Public Interface interface1
        Event DrillDown As DrillDownHandler
        Event ComponentLoaded As ComponentLoadedHandler
    End Interface

    Public Class Class1
        Inherits interface1
        Public Sub New()
            DrillDown += New DrillDownHandler(DrillDownDefault)
        End Sub

        Private drillList As New ArrayList()
        Public Custom Event DrillDown As DrillDownHandler
            AddHandler(ByVal value As DrillDownHandler)
                drillList.Add(value)
            End AddHandler
            RemoveHandler(ByVal value As DrillDownHandler)
                drillList.Remove(value)
            End RemoveHandler
        End Event
        Public Event ComponentLoaded As ComponentLoadedHandler

        Private Function DrillDownDefault(control As IComponent) As Boolean
            Return False
        End Function
    End Class
End Namespace 
```

任何人都可以提供帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:34:58.000

在 VB.Net 中，不能使用具有返回类型的委托来声明事件。只有具有子“代表”的事件是可能的。改为使用带有“ByRef”参数的“Sub”委托。

```
Public Delegate Sub DrillDownHandler(control As IComponent, ByRef bReturnVal As Boolean) 
```

欲了解更多信息，请访问[http://social.msdn.microsoft.com/Forums/en/vblanguage/thread/f1141545-6ef5-49df-8c16-ad27ee41a3bc](http://social.msdn.microsoft.com/Forums/en/vblanguage/thread/f1141545-6ef5-49df-8c16-ad27ee41a3bc)

希望它应该工作。

# c# - 将double格式化为String

> ID：11517837
> 
> 赞同：1
> 
> 时间：2012-07-17T07:28:03.150
> 
> 标签：c#, string, formatting

我做了这样的格式化：

```
 str += String.Format("{0,-25}", doubl); 
```

我需要将我的数字除以空格，这就是我使用 {0,-25} 的原因。

但有时我会得到像 2.15083096934631E-05 这样的数字

如何在没有“E-05”的情况下获得像 0,000021508 这样的传统数字？

double 的值就像 0.000021436573129839587

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:33:29.343

使用[“0”自定义说明符](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx#Specifier0)：

```
str = doubl1.ToString("0.0000000"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:33:47.317

尝试`double.ToString("format")`（F - 定点）

```
str=doubleValue.ToString("F10"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:45:26.493

`F`您可以通过传入或传递`N`来格式化输出`ToString()`，以表示更多小数点我认为您必须指定类似`N15`的内容（根据您的值找到所需的合适限制）但这里的问题在`0`您的实际数字之后

```
[double value].ToString("N15") // this should output without the exponent sign 
```

为避免尾随零，您只需要修剪

```
[double value].ToString("N15").TrimEnd('0'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-06T04:26:56.910

我之前的所有答案都很好，但对我来说，我遇到了一个非常难看的问题。我的“答案”将由零填充，如果只需要 5 个零，它会使答案变得非常庞大。我想出了这个：

```
double Q = ((1000 * 1000) * (2 * 2));
double Answer = ((Q * 199) / 2);
this.AnswerTBox1.Text = String.Format("{0:F" + Answer.ToString().Length + "}", Answer); 
```

这整理了不必要的零的“丑陋”。

一切顺利

克里斯

# android - 是否有 UI 模式来更改列表中元素的位置？

> ID：11517842
> 
> 赞同：1
> 
> 时间：2012-07-17T07:28:22.927
> 
> 标签：android

我需要创建一个元素列表。列表中的元素根据字段（例如位置）进行排序。我应该有可能在这个列表中添加元素，删除它们并移动列表中的元素。Android 中是否有此任务的 UI 模式？您能为此推荐一些资源吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:14:40.543

最后，我在列表项中添加了一个新字段，用于显示该项的位置。长按一个项目调用对话框，我可以在其中更改该位置的值。之后我进行排序。

# c# - 使用来源和目的地（纬度和经度）查找行进方向

> ID：11517843
> 
> 赞同：0
> 
> 时间：2012-07-17T07:28:26.593
> 
> 标签：c#, javascript

我有两点说 Source=(lat1,lon1) 和 destination=(lat2,lat3)

我想知道消息来源的路线，

例如：从西北到东南（或）西南到东北等......

任何人都可以帮助..

谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:34:27.067

您可以使用 Haversine 论坛。[请参阅此页面上](http://www.movable-type.co.uk/scripts/latlong.html)的一个工作示例（使用 JavaScript）。您可以[通过 Wikipedia 了解有关 Haversine](http://en.wikipedia.org/wiki/Haversine_formula)的更多信息。

# java - SimpleDateFormat 解析不正确的时间

> ID：11517846
> 
> 赞同：0
> 
> 时间：2012-07-17T07:28:33.217
> 
> 标签：java, parsing, timezone

我从格式为“HH：mm”的字符串中解析时间`java.text.SimpleDateFormat`。例如`10:30`或`22:10`

```
SimpleDateFormat formatter = new SimpleDateFormat("HH:mm");
Date parsed = formatter.parse((String) value); 
```

格式化程序时区是我设备的默认时区（莫斯科时区 +04:00）。时间字符串是`10:30`并且在解析后我希望`10:30 01/01/1970`在莫斯科时区但得到`09:30 01/01/1970`。我做错了什么？为什么我会出现这种行为？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:35:41.200

从 1931 年到 1981 年，莫斯科是 UTC+3。 [http://www.timeanddate.com/worldclock/timezone.html?n=166&syear=1970](http://www.timeanddate.com/worldclock/timezone.html?n=166&syear=1970)

时区会随着时间而改变，通常是出于政治原因。

# bash - 如何在 bash 脚本中使用 du -sh

> ID：11517849
> 
> 赞同：0
> 
> 时间：2012-07-17T07:28:44.603
> 
> 标签：bash, du

我想在校园的 HPC 上为我的工作文件创建一个管理员。如果我的磁盘使用量超过 50GB，我希望我的所有工作都停止（并且可能会收到一封关于此的电子邮件）。我想做的是这样的事情：

```
#!/bin/bash

run=1
while [ $run -gt 0 ]; do
  a=du -sh ~
  if [ $a -gt 50GB ]; then
    run=0
    break
  fi
done

qdel j*fd
qdel j*fd
#send email in some way 
```

我被困在两件事上：

1.  我不能在脚本中使用 du -sh，我得到一个错误：

    -sh：找不到命令

2.  我不知道如何比较大小。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:44:48.183

1.  `a=$(du_command)`. `a=du -sh ~`相当于`-sh ~`with环境变量`a=du`

2.  以 kb 为单位比较大小：`a=$(du -sk ~ | awk '{print$1}')`和 [ ${a} -gt 51200 ]

# ruby-on-rails - 在 Capistrano 任务中获取远程 IP

> ID：11517853
> 
> 赞同：2
> 
> 时间：2012-07-17T07:29:08.160
> 
> 标签：ruby-on-rails, deployment, capistrano, asset-pipeline

我正在尝试编写一个自定义 capistrano 任务，该任务在本地编译我的资产，然后使用 rsync 将它们推送到生产服务器。问题是我无法弄清楚在使用 capistrano 时如何访问我的应用服务器的 IP 地址`run_locally`。

这是我的摘录`config/deploy.rb`：

```
server "[some_ip_address]", :web, :app, :db, :primary => true

...

namespace :assets do
  desc 'Run the precompile task locally and rsync with shared'
  task :precompile, :roles => :web, :except => { :no_release => true } do

    run_locally "bundle exec rake assets:precompile"
    run_locally "rsync -zvrh --progress -e 'ssh -i #{ssh_options[:keys][0]}' public/assets #{user}@$CAPISTRANO:HOST$:#{shared_path}"
    puts "cleaning up locally compiled assets"
    run_locally "bundle exec rake assets:clean"
  end
end 
```

问题是`$CAPISTRANO:HOST$`没有扩展到ip。我知道我可以对其进行硬编码，但我想正确地做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:41:23.447

尝试使用主机 IP 定义 capistrano 变量并在 capistrano 脚本中的任何位置引用它以保持它们干燥：

```
set :host, "some IP addresss"
server host, :web, :app, :db, :primary => true 
```

并在您的任务定义中：

```
run_locally "... #{host} ..." 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:47:49.713

不幸的是，`run_locally`没有与 相同的字符串替换`run`，因此`$CAPISTRANO:HOST$`不起作用。

如果您要做的只是对资产进行预编译，则可以将以下行放入您的`deploy.rb`:

```
load 'deploy/assets' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:51:06.550

您是否尝试过`getaddrinfo`在[Socket](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/socket/rdoc/Socket.html#method-c-getaddrinfo)或[Addrinfo](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/socket/rdoc/Addrinfo.html#method-c-getaddrinfo)中使用？

```
1.9.3p125 :035 > Addrinfo::getaddrinfo('ya.ru', 'http', :INET, :STREAM)[0].ip_address
 => "93.158.134.203"
1.9.3p125 :037 > Socket::getaddrinfo('ya.ru', 'http', :INET, :STREAM)[0][3]
 => "93.158.134.3" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-07T21:54:06.247

使用 pry gem 我发现了这样一个选项：

```
 run_locally %{bundle exec rake assets:precompile}
  roles[:web].servers.each do |web_server|
    run_locally %{rsync --recursive --times --rsh=ssh --compress --human-readable --progress public/assets #{user}@#{web_server.host}:#{shared_path}}
  end
  run_locally %{bundle exec rake assets:clean} 
```

PS。我试图做同样的事情并发现了这个问题:)

另一种选择是看 turbo-sprockets-rails3 gem。

# iphone - 如何将html内容保存在文件夹中？

> ID：11517855
> 
> 赞同：0
> 
> 时间：2012-07-17T07:29:23.163
> 
> 标签：iphone, objective-c

我有一个 URL，当用户在线时，我启动`UIWebView`并将内容保存在`Documents`文件夹中，但是当用户离线时，我从文件夹中获取内容并显示在`UIWebView`. 那么任何人都可以告诉如何将html或aspx或jsp等保存在`Documents`文件夹中并`UIWebView`以离线模式显示。

# asp.net - 数据绑定列表框和设置 css 类

> ID：11517864
> 
> 赞同：3
> 
> 时间：2012-07-17T07:30:04.553
> 
> 标签：asp.net, events, listbox, web-controls

我想从数据库中获取值以生成一个列表框，哪些项目属于不同的类。在 HTML 中，我希望它会像

```
<option value="a" class="A">A</option> 
```

在asp.net中，我写了这个，但我不知道是否有任何方法可以帮助在数据绑定阶段指定类属性。（在这个阶段，我只能正确放置选项项的文本和值。）

```
lb.DataSource = CreateDataSourceForLB()
lb.DataTextField = "TextField"
lb.DataValueField = "ValueField"
lb.DataBind() 
```

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:40:19.423

我不认为在数据绑定阶段你只需要循环所有项目。

```
foreach (ListItem item in lb.Items)
{
              item.Attributes.Add("class", item.Value.ToUpper());      
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:40:35.773

我认为您不能绑定 a 的属性`DropdDownList`来设置 HTML 属性，但是，您可以在绑定控件后遍历所有项目并设置它们的属性：

```
 foreach (var item in this.ddl.Items.OfType<ListItem>())
        {
            item.Attributes.Add("class", "koko");
        } 
```

上面的代码生成以下 HTML：

```
 <select name="ddl" id="ddl">
<option selected="selected" value="" class="koko">---Select---</option>
<option value="1" class="koko">New Hire - Job not specified</option>
<option value="2" class="koko">Chief Executive Officer</option>
    .....
 </select> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:43:28.940

您需要添加列表框的数据绑定事件并将类属性添加到其每个列表项。

```
protected void ListBox1_DataBound(object sender, EventArgs e)
    {
        foreach (ListItem li in ListBox1.Items)
        {
            li.Attributes.Add("Class", "A");
        }
    } 
```

# jquery - 将一个json对象放入Dropdownlist value属性，如何访问

> ID：11517868
> 
> 赞同：1
> 
> 时间：2012-07-17T07:30:19.767
> 
> 标签：jquery, drop-down-menu, extend

我将一个 json 对象放入下拉列表/选项的值中

```
<select>
    <option value="{a:'1',b:'11'}">a</option>
    <option value="{a:'2',b:'12'}">b<option>
    <option value="">c</option>
    <option value="">d</option>
</select> 
```

如何访问所选项目的值？

```
var s = {};
$('select').change(function(){
    s = $(this).val();
    alert (s.a);
}); 
```

[http://jsfiddle.net/uzCm9/](http://jsfiddle.net/uzCm9/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:57:09.543

首先，您应该养成缓存值的习惯，因为不断地执行 $() 操作会影响您的性能。

这并不是说它很重要，在这里。但这是 Twitter 人不止一次地通过艰难的方式学到的东西。

当您处理大量结果或处理大量更改时，请将项目列表保存到变量中，或保存要使用的元素。

反正...

var json = $(this).value, obj = $.parseJSON(json);

```
do_awesome_thing(obj.a); 
```

# ckeditor - 如何在 CKEDITOR 中正确配置 Base URL/Base Href

> ID：11517869
> 
> 赞同：2
> 
> 时间：2012-07-17T07:30:25.103
> 
> 标签：ckeditor

我在管理端使用 ckeditor。我的新演示端位于 mydomain.com/new/，管理面板位于 mydomain.com/new/admin/ 内。我正在使用 CKeditor 作为

```
 <script type="text/javascript" src="js/ckeditor/ckeditor.js"></script>
   <script type="text/javascript" src="js/ckeditor/adapters/jquery.js"></script>
   <script type="text/javascript">
    jQuery(document).ready(function($) {
       $('.ckeditor').ckeditor( {
filebrowserImageUploadUrl : 'js/ckeditor/filemanager/connectors/php/upload.php?Type=Image',
baseHref : "http://mydomain.com/new", 
baseUrl  : "http://mydomain.com/new",
} );
}) 
```

```
 <form>

 <textarea name='myeditor' class='ckeditor' id='ckeditor'></textarea>
   </form> 
```

在这里，我使用了来自 fckeditor 的 fileuploader，每个 thig 都可以正常上传，但是在显示上传的图像时，ckeditor 无法从位于 mydomain.com/new/uploads/ 的上传文件夹中加载图像。

但是当我将整个站点设置为基本目录时，即在 mydomain.com 和管理站点在 mydomain.com/admin 时，它能够在编辑器中显示图像。

# objective-c - 字符串解析目标 C

> ID：11517875
> 
> 赞同：0
> 
> 时间：2012-07-17T07:30:42.893
> 
> 标签：objective-c, parsing, nsstring

我想解析并获取大括号内的内容，实际上如下。

```
-(void)testfunction
{
   //do something
   integer myVal = 0;
   NSString *testString = @"Test";

   myVal = [someObject test];
   if(myVal >10)
   {
       NSLog(@"Test Succeed");
   }
   else
   {
       NSLog(@"Test Succeed");
       if(testString)
       {
            NSLog("Still");
       }
    }  
} 
```

我期待输出作为 testFunction 中的所有文本。

是否有更简单的逻辑来解析？

我正在使用 NSString 并为 MAC OS 而不是 iPhone 开发。

问候，尼拉夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T09:17:43.647

您需要做的是构建一个程序来识别函数的开头，并读取它直到它到达右大括号，这基本上是编译器所做的。

最简单的方法可能是使用正则表达式找到函数头，然后逐行（或逐字符）读取开始和结束大括号。请记住，您阅读的代码可能并不总是格式正确，并且右大括号实际上可能位于代码和/或注释前后的行中间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T09:18:16.227

解析 NSStrings 的基本构建块是[NSScanner](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Strings/Articles/Scanners.html)类。

更基本的是普通的 C 风格`strtok()`。

# jquery - 如何使用 jquery 使用 String.localeFormat() 将数字格式化为货币格式？

> ID：11517876
> 
> 赞同：0
> 
> 时间：2012-07-17T07:30:46.537
> 
> 标签：jquery

数字`56675.456`

我想用 Format 格式化这个数字：`{0:$###.##}`

`String.localeFormat()`在 JQuery 中使用

预期结果：`$56675.46`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:37:00.370

```
function convert(num) {    
  return "$" + (num.toFixed(2));
}

convert(56675.456) 
```

[演示](http://jsfiddle.net/3gvst/1/)

# android - 使用活动操作的 Android

> ID：11517882
> 
> 赞同：0
> 
> 时间：2012-07-17T07:31:32.200
> 
> 标签：android, android-activity

我回到`Button`了我的`Activity`which starts dashboard `Activity`。每次用户尝试返回仪表板时 - 它都会重新创建。但是当用户尝试通过通常的后退按钮导航时，他会看到很多相同的屏幕。我是否必须检查是否`Activity`已经开始，如果是 - 显示它而不是再次创建相同的活动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:44:00.403

--> 你可以保留一个全局**标志，它的****初始**值为0 。
-->现在，当仪表板活动创建时，将**标志值设置为 1**。
-->现在，当您按下后退按钮时，只需检查**flag 的值**，
---->如果**flag==1**，只需完成活动，不要创建仪表板活动。它将安全地返回到您的仪表板活动。
---->如果**标志==0**，则创建一个新的仪表板活动。

# spring - spring jms 侦听器将确认类型更改为非自动

> ID：11517886
> 
> 赞同：0
> 
> 时间：2012-07-17T07:31:47.893
> 
> 标签：spring, jms, spring-jms

好的，我正在使用 spring jms 侦听器，目前我正在使用默认确认类型 - auto，因此在导入/处理 ti 之前使用该消息。我如何将此类型更改为稍后使用此侦听器的类型，我可以手动确认何时处理此消息并将其删除

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:36:46.130

您需要将侦听器容器的确认属性设置为客户端。有关更多信息，请参阅参考[文档](http://static.springsource.org/spring/docs/2.5.x/reference/jms.html)。

```
<listener-container acknowledge="client"> 
</listener-container> 
```

# typo3 - 从 4.5 升级到 4.6 后无法访问 TYPO3 后端和安装工具

> ID：11517889
> 
> 赞同：2
> 
> 时间：2012-07-17T07:31:48.640
> 
> 标签：typo3

我的提供商的服务器使用 PHP 5.3.11、MySQL 5.1.55。安全模式已开启。将源文件从 4.5 升级到 4.6 版本，删除缓存文件后，我看不到安装工具和后端。我只看到空白页，源代码简单“1”。当文件 ENABLE_INSTALL_TOOL 丢失时，我只能看到“安装工具已锁定”消息，仅此而已。

我想 PHP 的一些设置没有正确设置。您能否说，我必须逐步检查哪些设置才能使 TYPO3 4.6 正常工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:59:54.017

1.  安装 extbase 和流体，如果还没有完成
2.  降级到 4.5
3.  启用弃用日志（请参阅安装工具“enableDeprecationLog”）
4.  检查typo3conf/deprecation_*.log 中的日志文件
5.  再次尝试更新
6.  使用更新向导
7.  清除缓存
8.  如果它还没有工作，请检查 PHP 错误

在我看来，关于将 apache 降级到 http 1.0 的一些事情——可以通过 .htaccess 来完成。您可能会得到分块编码。

也许停用非系统扩展？

# extjs - 如何在“卡片”布局中切换面板

> ID：11517894
> 
> 赞同：1
> 
> 时间：2012-07-17T07:32:04.417
> 
> 标签：extjs, extjs4

我是 Extjs 的新手，我正试图找到一种根据用户点击在面板之间切换的方法。

当用户单击按钮 1 时，应出现面板 1

当用户单击项目 1 时，应出现面板 2

当用户单击项目 2 时，应该出现面板 3

不能让它工作。我不确定如何使用“setActiveItem”并使面板正确切换

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T12:33:33.340

将您的 control() 引用更改为

```
this.control({
   '#mi_1': ...
}) 
```

# c# - 无法加载文件或程序集 x86

> ID：11517896
> 
> 赞同：1
> 
> 时间：2012-07-17T07:32:09.280
> 
> 标签：c#, x86, iis-7.5

我在本地 iis x64 中创建了 web 应用程序。

在 x86 中不起作用。

我要做的：pool 4.0。启用 32 位应用程序标志并将其设置为 true。

我还可以做些什么？我在草稿中指出它们被复制到项目中。

完整错误：

```
Could not load file or assembly 'Microsoft.Expression.Encoder.Api2.dll' or one of its dependencies. The specified module could not be found. 
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.IO.FileNotFoundException: Could not load file or assembly 'Microsoft.Expression.Encoder.Api2.dll' or one of its dependencies. The specified module could not be found.

Source Error: 

An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  

Stack Trace: 

[FileNotFoundException: Could not load file or assembly 'Microsoft.Expression.Encoder.Api2.dll' or one of its dependencies. The specified module could not be found.]
   System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark& stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +0
   System.Reflection.RuntimeAssembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark& stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +39
   System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection, Boolean suppressSecurityChecks) +132
   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection) +144
   System.Reflection.Assembly.Load(String assemblyString) +28
   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +46

[ConfigurationErrorsException: Could not load file or assembly 'Microsoft.Expression.Encoder.Api2.dll' or one of its dependencies. The specified module could not be found.]
   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +618
   System.Web.Configuration.CompilationSection.LoadAllAssembliesFromAppDomainBinDirectory() +209
   System.Web.Configuration.CompilationSection.LoadAssembly(AssemblyInfo ai) +130
   System.Web.Compilation.BuildManager.GetReferencedAssemblies(CompilationSection compConfig) +178
   System.Web.Compilation.BuildManager.GetPreStartInitMethodsFromReferencedAssemblies() +94
   System.Web.Compilation.BuildManager.CallPreStartInitMethods() +332
   System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel, Exception appDomainCreationException) +677

[HttpException (0x80004005): Could not load file or assembly 'Microsoft.Expression.Encoder.Api2.dll' or one of its dependencies. The specified module could not be found.]
   System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +9078652
   System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +97
   System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +256 
```

# android - android 4 - 具有多个线程的图形

> ID：11517903
> 
> 赞同：0
> 
> 时间：2012-07-17T07:32:17.317
> 
> 标签：android, multithreading, graphics

我有一个绘图程序的骨架，使用一个线程：

```
 @Override
public void surfaceCreated( SurfaceHolder holder) {
    pajeuThread = new PageThread( holder);
    pajeuThread.setRunning(true);
    Log.v(TAG, "surfaceCreated"  );
    pajeuThread.start();
} // end method surfaceCreated 
```

然后我在页面中心附近写下“Hello World”，我还在页面左侧写了一个增加 30 的数字，如下所示：

```
public void dessineArbre( Canvas canvasse ) {
    compteur += 30;
    if ( compteur > 500 ) compteur = 30;
    screenWidth = getWidth();
    screenHeight = getHeight();
    Log.v(TAG, "dessineArbre"  );
    pagePaint.setColor( Color.WHITE);
    canvasse.drawRect(0, 0, screenWidth, screenHeight, pagePaint);
    pagePaint.setColor( Color.GREEN);
    canvasse.drawText( "Hello World", 200, 200, pagePaint);
    canvasse.drawText(Integer.toString( compteur ), 10, compteur, pagePaint);
} // end method dessineArbre 
```

我想要使​​用第二个线程绘制的数字。

线程由内部类以这种方式处理：

```
 private class PageThread extends Thread {
    private SurfaceHolder surfaceHoldere;
    private boolean threadIsRunning = true;

    public PageThread( SurfaceHolder holdere){
        surfaceHoldere = holdere;
        setName( "page thread");
    } // end constructor

    public void setRunning( boolean runninge)   {
        threadIsRunning = runninge;
    } // end setRunning

    @Override
    public void run() {
        Canvas canvasvas = null;

        while( threadIsRunning ) {
            try {
                canvasvas = surfaceHoldere.lockCanvas(null);

                synchronized( surfaceHoldere) {
                    Log.v(TAG, "PageThread try synchronized"  );
                    dessineArbre( canvasvas);
                }// end synchronized
            } // end try
            finally {
                if( canvasvas != null)
                    Log.v(TAG, "Pagethread finally"  );
                    surfaceHoldere.unlockCanvasAndPost(canvasvas);
            } // end finally
        } // end while
    } // end method run
} // end class Pagethread 
```

如何创建此类 Pagethread 的另一个对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:06:58.440

我找到了一种方法来创建第二个线程并让它休眠 1000 毫秒

```
 private PageThread pajeuThread;
private PageThread pajeuThread2;
    .
    .
@Override
public void surfaceCreated( SurfaceHolder holder) {
    pajeuThread = new PageThread( holder);
    pajeuThread.setRunning(true);
    pajeuThread2 = new PageThread( holder);
    pajeuThread2.setRunning(true);
    Log.v(TAG, "surfaceCreated"  );
    pajeuThread.start();
} // end method surfaceCreated 
```

（我没有 start() pajeuThread2 但它仍然有效。）

```
public void dessineArbre( Canvas canvasse ) {
    screenWidth = getWidth();
    screenHeight = getHeight();
    Log.v(TAG, "dessineArbre"  );
    pagePaint.setColor( Color.WHITE);
    canvasse.drawRect(0, 0, screenWidth, screenHeight, pagePaint);
    pagePaint.setColor( Color.GREEN);
    canvasse.drawText( "Hello World", 200, 200, pagePaint);
} // end method dessineArbre

public void drawCounter( Canvas canvassed ) {
    compteur += 30;
    if ( compteur > 500 ) compteur = 30;
    Log.v(TAG, "drawCounter"  );
    pagePaint.setColor( Color.GREEN);
    canvassed.drawText(Integer.toString( compteur ), 10, compteur, pagePaint);
    try{
       pajeuThread2.sleep( 1000);
    }
    catch( InterruptedException e) {
        Log.v(TAG, "drawCounter exception"  );
    }

} // end method drawCounter 
```

我添加了对 drawCounter 方法的调用：

```
 private class PageThread extends Thread {
    private SurfaceHolder surfaceHoldere;
    private boolean threadIsRunning = true;

    public PageThread( SurfaceHolder holdere){
        surfaceHoldere = holdere;
        setName( "page thread");
    } // end constructor

    public void setRunning( boolean runninge)   {
        threadIsRunning = runninge;
    } // end setRunning

    @Override
    public void run() {
        Canvas canvasvas = null;

        while( threadIsRunning ) {
            try {
                canvasvas = surfaceHoldere.lockCanvas(null);

                synchronized( surfaceHoldere) {
                    Log.v(TAG, "PageThread try synchronized"  );
                    dessineArbre( canvasvas);
                    drawCounter( canvasvas );
                }// end synchronized
            } // end try
            finally {
                if( canvasvas != null)
                    Log.v(TAG, "Pagethread finally"  );
                    surfaceHoldere.unlockCanvasAndPost(canvasvas);
            } // end finally
        } // end while
    } // end method run
} // end class Pagethread 
```

这工作正常，但我不确定这是否是管理线程的正确方法。

非常感谢您的帮助

# autosuggest - 用户选择后如何获取原始的 SelectItem 值？

> ID：11517906
> 
> 赞同：0
> 
> 时间：2012-07-17T07:32:28.897
> 
> 标签：autosuggest, oracle-adf

我使用自动建议项目创建输入文本

```
<af:inputText label="Seller" id="Seller"
              valueChangeListener="#{managedBeanTest.OnChangeSeller}" autoSubmit="true"
              autoComplete="on">
  <af:autoSuggestBehavior suggestedItems="#{managedBeanTest.OnSearchSellers}"/>
</af:inputText> 
```

将 SelectItem 值设置为我的类 Item

```
public class Test
{
    public static class Item
    {
        public Item(int id, String code, String name) { ... }
        public String toString() { ... }
    }

    public List<SelectItem> OnSearchSellers(String search)
    {
        ResultSet rs;
        ...
        List<SelectItem> result = new ArrayList<SelectItem>();

        while (rs.next())
            result.add(new SelectItem(new Item(rs.getInt(1), rs.getString(2), rs.getString(3))));

        return result;
    }

    public void OnChangeSeller(ValueChangeEvent valueChangeEvent)
    {
        Object newVal = valueChangeEvent.getNewValue();

        if(newVal != null)
          System.out.println("OnChangeSeller: " + newVal.getClass().getName());
    }
} 
```

但在 OnChangeSeller 中，我只有 java.lang.String。如何获得原始选定项目值（项目类）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T16:42:44.703

valueChangeEvent.getOldValue() 没有这个吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:06:31.163

实际上将 Java 对象传递给 HTML 页面是行不通的，因为浏览器只显示字符串值（查看呈现的 HTML 页面）。所以你需要做的就是将对象的索引作为值传递。然后，当用户选择一个值时，您获取索引并在列表中查找您感兴趣的真实对象。

坦率

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-19T05:54:02.573

*“不是 valueChangeEvent.getOldValue() 没有这个吗？”*

是的，如果您使用 ADF 装订。在这种情况下，返回值是列表的索引

# documentation - 如何在 PyCharm IDE 中添加文档注释

> ID：11517907
> 
> 赞同：1
> 
> 时间：2012-07-17T07:32:29.593
> 
> 标签：documentation, comments, pycharm

在 PhpStorm 中，您可以`/**`在任何函数/方法/类之前和按下回车键之后编写，您将获得自动完成的文档注释，其中包含参数、异常和返回语句。PyCharm 中是否存在类似的功能？我试过写`'''`，但它不适合我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T07:44:27.357

`Alt`+ `Enter`（激活意图操作），**插入文档字符串 stub**。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-10-18T14:59:01.887

在输入函数标题（例如 def myfunc(...)）和下面的冒号 (:) 后按 enter，然后输入 """（3 个双引号），然后再次按 enter。

# mysql - 如何将某些列从表复制到另一个mysql

> ID：11517913
> 
> 赞同：1
> 
> 时间：2012-07-17T07:33:00.530
> 
> 标签：mysql, copy

我有两张桌子，例如：

表格1：

```
|A|B|C|D|E|F|G|H|I|J| 
```

表2：

```
|A|C|D|E|G|H|J|K|L|M|N|O|P| 
```

我必须将一些列从表 2 复制到表 1。我尝试的是：

```
INSERT INTO `table 1` (`C`,`D`,`E`,`G`,`J`)
     SELECT `C`,`D`,`E`,`G`,`J` FROM `table 2` WHERE 
     `table 1`.`A` = `table 2`.`A`; 
```

但结果是：

```
#1054 - Unknown column 'table 1.A' in 'where clause' 
```

错误在哪里？有人能帮我吗？

我的错误是我不必插入新行，而是更新与 A 列匹配的行...我必须以哪种方式编辑查询？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T07:36:49.770

试试这个：：

```
INSERT INTO `table1` (`C`,`D`,`E`,`G`,`J`) VALUES
     (SELECT `C`,`D`,`E`,`G`,`J` FROM `table2` WHERE 
     `table1`.`A` = `table2`.`A`); 
```

**编辑::**

如果你只需要更新那么::

```
 update table1 
    inner join table2 on table1.A = table2.A
    set 
    table1.C=table2.C, 
    table1.D=table2.D,
    table1.E=table2.E, 
    table1.G=table2.G,
    table1.J=table2.J
    WHERE 1=1
    ; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T07:44:46.613

```
INSERT INTO `table 1` (`A`,`C`,`D`,`E`,`G`,`J`)
SELECT `t2`.`A`, `t2`.`C`, `t2`.`D`, `t2`.`E`, `t2`.`G`, `t2`.`J`
FROM `table 2` AS t2
INNER JOIN `table 1` AS t1
ON `t2`.`A` = `t1`.`A`
ON DUPLICATE KEY UPDATE `C` = VALUES(`C`), `D` = VALUES(`D`), `E` = VALUES(`E`), `G` = VALUES(`G`), `J` = VALUES(`J`) 
```

我在您给定的查询中看不到任何 JOIN 。

[**重复密钥更新**](http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html)

# jquery-mobile - jQuery 移动和购物篮处理：外面有什么好的方法吗？

> ID：11517919
> 
> 赞同：1
> 
> 时间：2012-07-17T07:33:25.617
> 
> 标签：jquery-mobile

如果你用谷歌搜索“jQuery mobile basket”，你会发现只有大量关于“jQuery mobile”的书籍和按钮：“添加到购物篮”......

这是我的做法，它只是告诉我这不是好方法（=糟糕的用户交互）：

MP = 手机

1.  MP：创建本地购物篮（JavaScript 类）
2.  MP：下载所有产品的整个页面，但隐藏（=不同的页面）。
3.  MP：选择产品时，只改变页面
4.  MP：每次**添加**产品时，都进行AJAX调用，这样*一切都保存在服务器端*
5.  MP：每次**删除**一个产品时，都会进行 AJAX 调用，以便将*所有内容都保存在服务器端*
6.  服务器端：将所有内容保留在一个会话中，直到它过期，或者用户在 MP 注册。如果是这样，请在数据库中添加包含所有信息的新记录。

最大的问题是添加或删除时。有时，仅仅进行 Ajax 调用就非常慢，这是不可接受的：您经常添加许多产品，因此您可能不得不等待每个调用。一点都不友好。

我的（未来）网站以这种方式完美运行，我不知道移动版会有这么大的问题。

什么是“移动版”解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:54:11.503

您可以将篮子中的任何内容存储在全局变量中。因为在使用普通 jQuery-mobile 转换时不会在页面之间删除变量（仅`data-role="page"`加载），所以您可以使用此变量来存储项目。我认为 JSON 对象最容易用于存储“篮子”项目的所有属性。

您必须确保您的变量不会被`rel="external"`某处的某个转换删除。也许您网站上的备份可以针对这些情况提供一些保护。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:12:26.667

可能的实现可以有一个`basket`结构作为 Javascript 中的全局变量，并将其与服务器端结构同步。

MP 页面上的 JS 代码只能从本地`basket`结构中添加/删除。

然后可以有一个计时器，以定期使用 Ajax 调用将本地同步`basket`到服务器。`basket`

这样，您就不会（更慢！！！）在每次添加/删除时调用 Ajax，而是将增量批量发送到您的服务器。

# c++ - 如何转换 const std::vector 烧焦

> ID：11517921
> 
> 赞同：0
> 
> 时间：2012-07-17T07:33:29.267
> 
> 标签：c++

从 unsigned char std::vector 转换为 char 的正确方法是什么？

```
void SendSocket(const std::vector<BYTE> &buffer)
{
    int ret;
    const BYTE* bufferPtr = &buffer[0];
    ret = send(_socket, (const char*)bufferPtr, buffer.size(), 0);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:48:06.773

假设这`BYTE`是一个 typedef `char`（有或没有`signed`or `unsigned`），那么你的代码很好，但比必要的稍微冗长。a 使用的存储空间`vector`必须是一个连续的数组，因此获取第一个元素的地址会给您一个指向该数组的指针。任何一种 的`char`布局和对齐方式都与任何其他 的 相同`char`，因此指针转换是有效的。

`send`is的参数`const void*`，并且（或多或少）任何指针都可以隐式转换为，因此无需强制转换：

```
ret = send(_socket, &buffer[0], buffer.size(), 0); 
```

但是，您应该`buffer`在使用`[]`.

# spring - 将 JNDI 数据源 Bean 转换为 JEE：jndi-lookup

> ID：11517925
> 
> 赞同：1
> 
> 时间：2012-07-17T07:33:43.733
> 
> 标签：spring, jakarta-ee, jboss, jndi

我有一个弹簧设置如下。

```
<bean id="jndiTemplate" class="org.springframework.jndi.JndiTemplate">
    <property name="environment">
        <props>
            <prop key="java.naming.factory.initial">org.jnp.interfaces.NamingContextFactory</prop>
            <prop key="java.naming.provider.url">jnp://jndi.myURL.com:1099</prop>
            <prop key="java.naming.factory.url.pkgs">org.jboss.naming:org.jnp.interfaces</prop>
            <prop key="jnp.disableDiscovery">true</prop>
        </props>
    </property>
</bean>

<bean id="dataSource" class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiName" value="jdbc/mysql"/><!-- DataSource Name -->
    <property name="resourceRef" value="false"/>
    <property name="jndiTemplate" ref="jndiTemplate" />
</bean> 
```

我想将其转换为 JEE 标签格式。

我想将我的 DataSrouce 定义为

```
<jee:jndi-lookup jndi-name="jdbc/mysql" resource-ref="false" >
    <jee:environment>
        ....
    </jee:environment>
</jee:jndi-lookup> 
```

有没有办法定义它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-12-10T09:52:31.723

您可以与以下人员共享定义：

```
<bean id="jndiTemplate" class="org.springframework.jndi.JndiTemplate">
    <property name="environment" ref="remoteEnv" />
</bean>

<jee:jndi-lookup id="wcDataSource" jndi-name="jdbc/wc-mysql" resource-ref="false" environment-ref="remoteEnv" />

<util:properties id="remoteEnv">
    <prop key="java.naming.provider.url">jnp://jndi.myURL.me:1099</prop>
    <prop key="java.naming.factory.url.pkgs">org.jboss.naming:org.jnp.interfaces</prop>
    <prop key="java.naming.factory.initial">org.jnp.interfaces.NamingContextFactory</prop>
    <prop key="jnp.disableDiscovery">true</prop>
</util:properties> 
```

这样，如果需要，您仍然可以在其他地方引用 jndiTemplate。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T08:00:35.483

感谢您的时间，我找到了问题。我发现了这个问题，但并没有真正找到正确的解决方案。以下是对我有用的代码片段。

```
<jee:jndi-lookup id="wcDataSource" jndi-name="jdbc/wc-mysql" resource-ref="false">
    <jee:environment>
      java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory
      java.naming.provider.url=jnp://jndi.myURL.me:1099
      java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces
      jnp.disableDiscovery=true
    </jee:environment>
</jee:jndi-lookup> 
```

# objective-c - 学习目标-C：编译时“Command /Developer/usr/bin/clang failed with exit code 1”

> ID：11517926
> 
> 赞同：0
> 
> 时间：2012-07-17T07:33:43.993
> 
> 标签：objective-c, ios

似乎有很多关于该错误消息的帖子，但我找不到与实际代码有关的帖子。我有一个名为 Xcode 4.0 的项目`prog1`，里面有一个文件`main.m`：

```
#import <Foundation/Foundation.h>

@interface Fraction : NSObject
    -(void) print;
    -(void) setNumerator: (int) n;
    -(void) setDenominator: (int) d;
@end

@implementation Fraction {
    int numerator;
    int denominator;
}

-(void) print {
    NSLog(@"The fraction is %i/%i.", numerator, denominator);
}

-(void) setNumerator: (int) n {
    numerator = n;
}

-(void) setDenominator: (int) d {
    denominator = d;
}
@end

int main (int argc, const char * argv[])
{
    NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];

    Fraction *f = [[Fraction alloc] init];
    [f setNumerator:5];
    [f setDenominator:6];
    [f print];

    [pool drain];
    return 0;
} 
```

这是完整的错误信息：

```
ProcessPCH /Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/PrecompiledHeaders/prog1-Prefix-ethcjsncaxczlsgsnayacjarhmne/prog1-Prefix.pch.pth prog1/prog1-Prefix.pch normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler
cd /Users/rh/Desktop/prog1/prog1
setenv LANG en_US.US-ASCII
/Developer/usr/bin/clang -x objective-c-header -arch x86_64 -fmessage-length=0 -fdiagnostics-print-source-range-info -fdiagnostics-show-category=id -fdiagnostics-parseable-fixits -std=gnu99 -Wno-trigraphs -fpascal-strings -O0 -Wreturn-type -Wparentheses -Wswitch -Wno-unused-parameter -Wunused-variable -Wunused-value -Wshorten-64-to-32 -DDEBUG -isysroot /Developer/SDKs/MacOSX10.6.sdk -fasm-blocks -mmacosx-version-min=10.6 -gdwarf-2 -iquote /Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/prog1-generated-files.hmap -I/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/prog1-own-target-headers.hmap -I/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/prog1-all-target-headers.hmap -iquote /Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/prog1-project-headers.hmap -I/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Products/Debug/include -I/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/DerivedSources/x86_64 -I/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Intermediates/prog1.build/Debug/prog1.build/DerivedSources -F/Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/Products/Debug -c /Users/rh/Desktop/prog1/prog1/prog1/prog1-Prefix.pch -o /Users/rh/Library/Developer/Xcode/DerivedData/prog1-djucagjboveiuwcnycgafzuugucf/Build/PrecompiledHeaders/prog1-Prefix-ethcjsncaxczlsgsnayacjarhmne/prog1-Prefix.pch.pth

clang: error: no such file or directory: '/Users/rh/Desktop/prog1/prog1/prog1/prog1-Prefix.pch'
clang: error: no input files
Command /Developer/usr/bin/clang failed with exit code 1 
```

我在这里没有发现任何问题，但是我又开始学习 Objective-C。帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T09:09:25.567

为了结束这个问题，我将引用 Till 的评论，他懒得写作为答案。:)

“该文件称为预编译头文件。您可以通过在 Xcode 的构建设置中停用预编译头文件来解决问题。”

# c# - 如何在 C# 中创建多对多 linq 查询？

> ID：11517927
> 
> 赞同：0
> 
> 时间：2012-07-17T07:33:45.693
> 
> 标签：c#, linq

我的 linq 语句有问题，我的结构如下所示：

Class1 有一个 id 和对 Class2 列表的引用 Class2 有一个 id 和对 Class1 列表的引用

现在我想进行这样的 linq 查询：从这些元素中获取 id == 1 的所有 Class1 获取所有没有 ID == 2 的 Class2（在参考列表中）

如何用一个命令做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T07:37:02.553

下面怎么样...

```
List<Class1> classOneList = ...
List<Class2> classTwoList = ...

var items = classOneList.Where(c1 => c1.Id == 1)
                        .Where(c1 => !c1.Class2Collection.Any(c2 => c2.Id == 2)); 
```

# jira - 如何与一位客户共享 JIRA 仪表板？

> ID：11517932
> 
> 赞同：1
> 
> 时间：2012-07-17T07:33:57.457
> 
> 标签：jira

我为我们的一位客户设置了一个仪表板，我正在努力寻找与他们分享的最佳方式。客户应该在系统中有一个帐户，我不希望仪表板公开可见，并且我不希望客户可以访问仪表板以外的任何内容。

我已经在系统中为他们创建了一个帐户，但我无法弄清楚如何正确配置组、角色和权限。有人可以在这里提供一些指导吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T18:44:50.857

定义一个名为 customerA 的 JIRA 组

将客户的用户 ID 添加到组

创建仪表板

与群组共享仪表板

与项目的用户或 mycompany-staff 等组的用户共享仪表板。但不是 jira 用户，因为每个人都将在该组中。

# java - Java中的存根方法

> ID：11517934
> 
> 赞同：2
> 
> 时间：2012-07-17T07:34:18.267
> 
> 标签：java, junit

我来自 ruby​​/rails 背景，正在尝试使用 JUnit 测试我正在处理的 Java 项目。

我正在寻找一个类似于 Mocha 的带有 Rspec 但用于 Java 的库。

我到底想做的是类似于这样的事情：

Model.any_instance.stubs(:method).returns('foo')。

目标是存根对给定类实例的方法的任何调用的答案。

任何想法？我看着 Mockito，但找不到这样做的方法。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:39:31.343

使用 Mockito，您可以做到

```
MyClass myObj = mock(MyClass.class);
when(myObj.callMyMethod(any(Integer.class)).thenReturn("foo"); 
```

提供 callMyMethod 接受一个整数，并返回一个字符串。

如果您希望更具体，您可以指定确切的参数而不是 any(???.class)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T09:57:48.907

You can look EasyMock Framework, it's very easy to use and have a good community. You can find documentation here [EasyMock documentation](http://easymock.org/Documentation.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-27T15:51:27.030

尝试[任何存根](https://anystub-guides.github.io/)。它适用于导轨的切换器。

# java - java swing：焦点丢失在输入键事件上

> ID：11517935
> 
> 赞同：4
> 
> 时间：2012-07-17T07:34:20.287
> 
> 标签：java, swing, button, focus, action

我的对话框中有一个按钮。在该对话框中按回车键后，分配给该按钮的操作将被一一调用。

```
public void buttonAction1() { }
....
public void buttonAction2() { } 
```

在我的对话框中，我还有一个文本字段，用于监听焦点丢失事件。每当最初焦点在该文本字段内时，我单击选项卡或使用鼠标单击按钮，调用焦点丢失事件并打开一个弹出窗口。此弹出窗口有助于在文本字段中设置值。此值将由按下按钮时调用的操作使用。

```
public void focusLostAction() { } 
```

现在的问题是，当焦点在文本字段内并且我按下回车键时，焦点丢失事件不会被调用。所以弹出窗口没有打开，并且没有在该文本字段内设置正确的值。但是由于输入键事件，该特定按钮上的操作被调用，并且该操作无法在文本字段中找到正确的值。

在输入键事件调用的操作方法中，我尝试使用以下方法手动设置焦点：

```
public void buttonAction1() {
    button.requestFocusInWindow();
}

public void buttonAction2() {
    // do the remaining task
} 
```

我也尝试使用 button.requestFocus;

我期待在该按钮上手动设置焦点会从文本字段调用松散焦点，并且可能会调用焦点丢失事件（因为这是在单独的 Swing 工作线程中实现的）。但它不起作用。请让我知道，如果您之前遇到过这个问题以及相同的解决方案。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T08:07:26.693

Here second `JTextField` is acting the way you want it to. Try your hands on this code example :

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.text.*;

public class TextFieldExample
{
    private JTextField tfield1;
    private JTextField tfield2;
    private JLabel label;
    private JButton button;
    private FocusListener tfieldListener = new FocusListener()
    {
        @Override
        public void focusGained(FocusEvent fe)
        {
        }

        @Override
        public void focusLost(FocusEvent fe)
        {
            System.out.println("I am LOST");
            String num1 = tfield1.getText().trim();
            String num2 = tfield2.getText().trim();
            if (num1 == null || num1.equals(""))
                num1 = "0";
            if (num2 == null || num2.equals(""))
                num2 = "0";         
            label.setText(Integer.toString(Integer.parseInt(num1) + Integer.parseInt(num2)));
        }
    };

    private void displayGUI()
    {
        JFrame frame = new JFrame("Text Field Focus Example");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel contentPane = new JPanel();
        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 5));

        tfield1 = new JTextField(10);
        tfield2 = new JTextField(10);
        tfield2.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent ae)
            {
                button.requestFocusInWindow();
            }
        });

        tfield1.addFocusListener(tfieldListener);
        tfield2.addFocusListener(tfieldListener);

        ((AbstractDocument)tfield1.getDocument()).setDocumentFilter(new MyDocumentFilter());
        ((AbstractDocument)tfield2.getDocument()).setDocumentFilter(new MyDocumentFilter());

        label = new JLabel("SUM IS");

        button = new JButton("USELESS");

        contentPane.add(tfield1);
        contentPane.add(tfield2);
        contentPane.add(label);
        contentPane.add(button);

        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    class MyDocumentFilter extends DocumentFilter
    {
        @Override
        public void insertString(FilterBypass fb, int offset
                                                , String text
                                                , AttributeSet aset)
        {
            try
            {
                super.insertString(fb, offset, text.replaceAll("\\D++", ""), aset);
            }
            catch(BadLocationException ble)
            {
                ble.printStackTrace();
            }
        }

        @Override
        public void replace(FilterBypass fb, int offset, int len
                                           , String text
                                           , AttributeSet aset)
        {
            try
            {
                super.replace(fb, offset, len, text.replaceAll("\\D++", ""), aset);
            }
            catch(BadLocationException ble)
            {
                ble.printStackTrace();
            }
        }       
    }

    public static void main(String... args)
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new TextFieldExample().displayGUI();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T09:50:38.173

gain and lost focus from frame in java Swing Application

```
public class MainFrame extends Frame {
Frame awe;
public MainFrame(Database database) {
    awe = this;
    this.addWindowFocusListener(new WindowFocusListener() {
        @Override
        public void windowGainedFocus(WindowEvent we) {
            System.out.println("Gain Focus");
        }

        @Override
        public void windowLostFocus(WindowEvent we) {
            System.out.println("Lost Focus");
        }
    }); 
```

}

# java - android中的hexdigest等价物

> ID：11517940
> 
> 赞同：0
> 
> 时间：2012-07-17T07:34:31.433
> 
> 标签：java, android, python, django

我已经实现了 HMAC 在 python 中散列密码，如下所示

```
SECRET_KEY='SOME_KEY'     
digest = hmac.new(SECRET_KEY,str(bundle.data['password']), hashlib.sha256).hexdigest() 
```

谁能告诉我如何在Android上准确地做到这一点

# iphone - 如何为iphone应用旋转谷歌地图

> ID：11517941
> 
> 赞同：0
> 
> 时间：2012-07-17T07:34:36.347
> 
> 标签：iphone, xcode, google-maps, mkmapview

我正在做面向地图的 iphone 应用程序。在那显示谷歌地图上的一个区域。该区域放置在水平视图中。我想在垂直视图中旋转它。有什么想法吗？请帮助我。我附上了下面的地图图像。

![在此处输入图像描述](../Images/dfa36a235b4b3314542cf5ce2bde5388.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T09:13:46.747

要旋转视图，我建议使用`CGAffineTransform`来旋转视图。当您的地图显示在 mapView 中时，您可以旋转它。

```
float   angle = M_PI;  //rotate 180°, or 1 π radians
CGAffineTransform transform = CGAffineTransformMakeRotation(angle);
[[self viewWithTag:999] setTransform:transform]; //you can use the view or its tag 
```

希望有帮助

# java - 使用 ExecutorService 时的 CancellationException

> ID：11517943
> 
> 赞同：11
> 
> 时间：2012-07-17T07:34:37.597
> 
> 标签：java, android, multithreading

我想等待两个任务完成然后返回它们的结果，但有时我会收到这个错误。为什么？CancellationException 是从哪里来的？

```
public class ShouldVoteTask extends AbstractWorkerTask<Void, Void, Boolean> {
    private final int placeID; 
    private final int userID;

    public ShouldVoteTask(final int placeID, final int userID) {
        this.placeID = placeID;
        this.userID = userID;
    }

    @Override
    protected Boolean doInBackground(final Void... params) {
        try {
            // Prepare callables.
            final IsMaxRatingCallable call1 = new IsMaxRatingCallable(placeID);
            final DidVoteCallable call2 = new DidVoteCallable(placeID, userID);         
            final List<Callable<Boolean>> callables = new ArrayList<Callable<Boolean>>();           
            callables.add(call1);
            callables.add(call2);

            // Execute them.
            final ExecutorService service = Executors.newFixedThreadPool(2);            
            final List<Future<Boolean>> futures = service.invokeAll(callables, 5, TimeUnit.SECONDS);

            // Check the result.
            boolean result = true;
            for(final Future<Boolean> future : futures) {
                if(future.get()) {
                    result = false;
                }
            }

            return result;
        } catch (final InterruptedException e) {
            e.printStackTrace();
        } catch (final ExecutionException e) {
            e.printStackTrace();
        }
        return false;
    }
}

private class IsMaxRatingCallable implements Callable<Boolean> {
    private final int placeID;

    public IsMaxRatingCallable(final int placeID) {
        this.placeID = placeID;
    }

    @Override
    public Boolean call() throws Exception {
        return Places.isMaxRating(placeID);         
    }
}

private class DidVoteCallable implements Callable<Boolean> {
    private final int placeID;
    private final int userID;

    public DidVoteCallable(final int placeID, final int userID) {
        this.placeID = placeID;
        this.userID = userID;
    }

    @Override
    public Boolean call() throws Exception {
        return Votes.didVote(placeID, userID);          
    }
} 
```

错误

```
E/AndroidRuntime(19014): FATAL EXCEPTION: AsyncTask #1
E/AndroidRuntime(19014): java.lang.RuntimeException: An error occured while executing doInBackground()
E/AndroidRuntime(19014):    at android.os.AsyncTask$3.done(AsyncTask.java:200)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
E/AndroidRuntime(19014):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
E/AndroidRuntime(19014):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
E/AndroidRuntime(19014):    at java.lang.Thread.run(Thread.java:1027)
E/AndroidRuntime(19014): Caused by: java.util.concurrent.CancellationException
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask.get(FutureTask.java:83)
E/AndroidRuntime(19014):    at com.vfa.android.planet.task.ShouldVoteTask.doInBackground(ShouldVoteTask.java:43)
E/AndroidRuntime(19014):    at com.vfa.android.planet.task.ShouldVoteTask.doInBackground(ShouldVoteTask.java:1)
E/AndroidRuntime(19014):    at android.os.AsyncTask$2.call(AsyncTask.java:185)
E/AndroidRuntime(19014):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
E/AndroidRuntime(19014):    ... 4 more 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-17T08:38:07.560

您要求执行服务以 5 秒的超时时间执行您的可调用对象。根据[javadoc](http://developer.android.com/reference/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection%3C?%20extends%20java.util.concurrent.Callable%3CT%3E%3E,%20long,%20java.util.concurrent.TimeUnit%29)：

> [在超时结束前] 未完成的任务将被取消

我的猜测是`future.get()`抛出 a`CancellationException`因为已经达到超时并且执行程序调用`future.cancel()`.

您可以：

*   增加超时
*   `InterruptedException`在您的可调用对象中捕获一个以优雅地处理取消

# java - 何时可以将应用程序视为 Java EE 应用程序

> ID：11517946
> 
> 赞同：2
> 
> 时间：2012-07-17T07:34:52.890
> 
> 标签：java, jakarta-ee

> **可能重复：**
> [在什么基础上我们可以将特定的 java 应用程序确定为 J2EE 应用程序](https://stackoverflow.com/questions/2092435/on-what-basis-we-can-decide-a-particular-java-appliaction-as-a-j2ee-application)

我是 Java EE 的新手，我不明白什么时候可以将应用程序视为 Java EE 应用程序。例如，我使用 jsp 和 servelet 的网站是一个 Java EE 应用程序，可能不是。在我看来，通过使用一些特定的技术、API、框架、库，应用程序可以被视为 Java EE 应用程序。如果我是对的，那是什么。我如何定义一个应用程序，无论是 Java EE 应用程序还是非 Java EE 应用程序。我真的很困惑。如果可以的话，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:45:35.580

请阅读[Java EE 到底是什么？](https://stackoverflow.com/questions/7295096/what-exactly-is-java-ee), Java EE 规范是由 JCP 定义的。JavaEE 应用程序是使用 JavaEE 技术构建的应用程序。

**更多阅读**

[http://en.wikipedia.org/wiki/Java_EE_application](http://en.wikipedia.org/wiki/Java_EE_application)

[http://jcp.org/en/home/index](http://jcp.org/en/home/index)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T08:00:43.823

**首先，您需要知道什么是企业软件/应用程序。**

企业应用软件是执行订单处理、采购、生产调度、客户信息管理、能源管理、会计等业务功能的应用软件。它通常托管在服务器上，并通常通过计算机网络为大量用户提供同步服务。这与在用户的个人计算机上执行并且一次只为一个用户服务的单用户应用程序形成对比。

**Java EE 有很多规范：** 如 JDBC、RMI、电子邮件、JMS、Web 服务、XML 等，并定义了如何协调它们。Java EE 还具有一些 Java EE 特有的组件规范。其中包括 Enterprise JavaBeans、连接器、servlet、JavaServer Pages 和多种 Web 服务技术。这允许开发人员创建可移植和可扩展的企业应用程序，并与传统技术集成。

**如果您正在使用其中任何一个`Java EE specification`并满足`Enterprise application`软件标准，那么您的应用程序就是 EE。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T07:44:19.683

[您可以在此处](http://docs.oracle.com/javaee/6/api/)大致了解 Java EE 6 API 中指定的内容。在文档中，您将找到以下规范：

*   **JPA** - Java 持久性 API；
*   **JTA** - Java 事务 API；
*   **小服务程序**；
*   **CDI** - 依赖注入；
*   **EJB** - 企业 Java Bean；
*   **JSF** ——Java 服务器端；
*   **JACC** - 容器的 Java 授权合约；
*   **JSP** - Java 服务器页面

和别的。

# objective-c - 如何在 iOS 中处理谷歌地图的搜索结果？

> ID：11517947
> 
> 赞同：1
> 
> 时间：2012-07-17T07:34:55.803
> 
> 标签：objective-c, ios, google-maps

我发现了很多关于它的样本。但他们都在使用地理编码喜欢

[http://maps.google.co.kr/maps/geo?q](http://maps.google.co.kr/maps/geo?q) =대성학원&output=json

我想要原始谷歌地图返回的结果

像 [http://maps.google.co.kr?q](http://maps.google.co.kr?q) =대성학원&output=json

问题是如何处理输出数据？

我想在那里获取信息，就像地址信息和位置信息一样。

谁能帮帮我？？非常感谢~~

# fuelphp - 错误 - ...fuelPHP 迁移中的数据源名称无效

> ID：11517948
> 
> 赞同：2
> 
> 时间：2012-07-17T07:35:06.977
> 
> 标签：fuelphp

我是 MAC OS 和 Fuel PHP 的新手，我尝试学习 FuelPHP，它引导我学习了一些教程，你可以在这里找到链接： [link](https://tutsplus.com/lesson/code-generation/)

如教程所示，通过命令行在 FuelPHP 中使用迁移：

```
oil r migrate 
```

它显示了某种奇怪的错误，当我用谷歌搜索时（以及在教程中），有人建议在fuel/app/config/development/db.php 文件中将“localhost”更改为“127.0.0.1”，错误应该消失。

然后它显示另一个错误是：

```
ERROR - invalid data source name in COREPATH/classes/database/pdo/connection.php on line 87 
```

虽然我已经通过浏览器检查了与数据库的连接，但连接到数据库的所有用户名和密码也是正确的。我仍然不知道是什么问题。请帮助和对不起我的英语，它不是我的母语。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-12T10:28:42.467

我认为您的问题实际上不是数据源名称，而是环境。

您需要正确设置环境，在此页面中有说明：http: [//fuelphp.com/docs/general/environments.html](http://fuelphp.com/docs/general/environments.html)

这就是我在我的 debian 中所做的：

```
env FUEL_ENV=production oil refine migrate:up 
```

我在 Windows 上的开发计算机上做什么：

```
set FUEL_ENV=development // One time only
oil refine migrate:up 
```

跳它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T01:55:10.220

转到您的 Fuel/app/bootstrap.php 并检查第 27 - 30 行，它看起来像这样

```
Fuel::$env = (isset($_SERVER['FUEL_ENV']) ? $_SERVER['FUEL_ENV'] : Fuel::DEVELOPMENT); 
```

在你的情况下，如果它的 Fuel::DEVELOPMENT 那么你应该（它可能是`FUEL::PRODUCTION`或`FUEL::TESTING`）

现在根据环境检查文件中的数据库连接配置。燃料/app/config/development/db.php

在该文件中检查 DB 连接会有点像这样，并验证它们是否正确。

```
return array(
    'default' => array(
        'connection'  => array(
            'dsn'        => 'mysql:host=localhost;dbname=yourdatabasename',
            'username'   => 'yourusername',
            'password'   =>  'yourpassword',
        ),
    ),
); 
```

我认为在您的情况下，环境集和使用的配置不匹配。

希望这可以帮助

# ruby-on-rails - 如何从 ruby on rails 中的两个数据库表中获取数据

> ID：11517949
> 
> 赞同：0
> 
> 时间：2012-07-17T07:35:10.013
> 
> 标签：ruby-on-rails, ruby, database, ruby-on-rails-3

我有两张桌子在下面

```
contacts table
id
email
name
company
phone 
```

和

```
signups table
id
contact_id
code
details 
```

我有两个模型`contacts`，`signups`并且也有相同的控制器。

我在这里想要的是从联系人表中获取所有数据，其中联系人表 id = 注册表contact_id。

我怎样才能在 ruby​​ on rails 中做到这一点？

**更新**

这是我的模型，现在是空的

```
class Usercontacts < ActiveRecord::Base
#has_one :signups
#has_one :receiver, :class_name => "Signups"
end 
```

这是第二个模型

```
class Signups < ActiveRecord::Base
 attr_accessible :contact_id, :code, :event_id, :details

 #belongs_to :usercontacts
 #belongs_to :receiver, :class_name => "Usercontacts"
end 
```

**现在我正在做这样的事情我的注册控制器**

```
class SignupsController < ApplicationController
layout 'admin_layout'

def signups
    #@signups = Contact.joins('LEFT OUTER JOIN signups ON contacts.id = signups.contact_id')
            @contacts = Contact.joins(:sign)
end
end 
```

但这会从联系人表中获取所有数据。但我只想获取其 id 存在于注册表中的数据。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-17T08:47:18.197

you are not following rails conventions

`Usercontacts` should be `UserContact` with corresponding table name `user_contacts`(or `Contact` if you already have `contacts` table)

`Signups` should be `Signup` with corresponding table name `signups`

relation declarations follow same conventions - `belongs_to :singular_name`, `has_many :plural_name`

if you start following conventions all your problems will go away

# google-maps-api-3 - Gmaps方向保存路线，航点

> ID：11517952
> 
> 赞同：6
> 
> 时间：2012-07-17T07:35:25.473
> 
> 标签：google-maps-api-3

我有一张带路线的地图（多个目的地 - 不仅仅是下面页面上的 A、B）。方向是可拖动的。我想保存更改后的路线。下面的页面是我要去的...

[http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm](http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm)

这是我所拥有的：

```
google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {
            console.log('reroute');

            var rleg_count = directionsDisplay.directions.routes[0].legs.length;

            data.start = {
                'lat':directionsDisplay.directions.routes[0].legs[0].start_location.lat(), 
                'lng':directionsDisplay.directions.routes[0].legs[0].start_location.lng()
            };
            data.end = {
                'lat':directionsDisplay.directions.routes[0].legs[rleg_count-1].end_location.lat(), 
                'lng':directionsDisplay.directions.routes[0].legs[rleg_count-1].end_location.lng()
            };

            var wp=[];
            var w = [];
            var route = directionsDisplay.directions.routes[0];
            for (var l = 0; l < route.legs.length; l++) 
            {
                for(var j = 0; j < route.legs[l].via_waypoints.length; j++)
                {
                    w.push({
                        location:{'lat':route.legs[l].via_waypoints[j].lat(), 'lng':route.legs[l].via_waypoints[j].lng()},
                        stopover:true
                    });
                }
            }

            data.waypoints = w;
        }); 
```

和 SetRoute 功能：

```
function setRoute(os)
    {
        var wp = [];
        for(var i=0;i<os.waypoints.length;i++)
        {
            wp[i] = {
                'location': new google.maps.LatLng(os.waypoints[i].location.lat, os.waypoints[i].location.lng),
                'stopover': os.waypoints[i].stopover
            }
        }

        var request = {
            'origin':new google.maps.LatLng(os.start.lat, os.start.lng),
            'destination':new google.maps.LatLng(os.end.lat, os.end.lng),
            'waypoints': wp,
            optimizeWaypoints: false,
            avoidHighways: false,
            avoidTolls: false,
            travelMode: google.maps.TravelMode.DRIVING,
        }

        directionsService.route(request, function(res,sts){
            // console.log(res);
            // console.log(sts);
            if(sts=='OK')
                directionsDisplay.setDirections(res);
        }); 
    } 
```

问题是，如果只有 2 个目的地（A，B），代码就可以工作，但是一旦有更多目的地......它就不能正常工作......它会忽略其他目的地

据我所知，航点是正确的。多个目的地似乎有问题，我不知道如何纠正它。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T11:44:26.553

我已经设法通过对我的代码进行以下更新来解决问题：

```
google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {
            console.log('reroute');

            var rleg_count = directionsDisplay.directions.routes[0].legs.length;

            data.start = {
                'lat':directionsDisplay.directions.routes[0].legs[0].start_location.lat(), 
                'lng':directionsDisplay.directions.routes[0].legs[0].start_location.lng()
            };
            data.end = {
                'lat':directionsDisplay.directions.routes[0].legs[rleg_count-1].end_location.lat(), 
                'lng':directionsDisplay.directions.routes[0].legs[rleg_count-1].end_location.lng()
            };

            var wp=[];
            var w = [];
            var route = directionsDisplay.directions.routes[0];
            for (var l = 0; l < route.legs.length; l++) 
            {
                    // Skip first and last leg - for more than 2 legs
            if(l != 0 || l != rleg_count-1)
            {
/* start solution */
                w.push({
                    location:{'lat':route.legs[l].start_location.lat(), 'lng':route.legs[l].start_location.lng()},
                    stopover:true
                });
            }
/* end solution */
                for(var j = 0; j < route.legs[l].via_waypoints.length; j++)
                {
                    w.push({
                        location:{'lat':route.legs[l].via_waypoints[j].lat(), 'lng':route.legs[l].via_waypoints[j].lng()},
                        stopover:false
                    });
                }
            }

            data.waypoints = w;
        }); 
```

# jquery - 导航菜单上的 slideUp 不起作用

> ID：11517954
> 
> 赞同：1
> 
> 时间：2012-07-17T07:35:29.890
> 
> 标签：jquery, html, css

我有这个菜单： [http ://tabletest.orgfree.com/](http://tabletest.orgfree.com/)

我为此使用此功能：

```
function mainMenu(){
            (function($){

                //cache nav
                var nav = $("#nav");

                //add indicator and hovers to submenu parents
                nav.find("li").each(function() {
                    if ($(this).find("ul").length > 0) {
                        //$("<span>").text("^").appendTo($(this).children(":first"));
                        //show subnav on hover
                        $(this).mouseenter(function() {
                            $(this).find("ul").stop(true, true).slideDown();
                        });
                        //hide submenus on exit
                        $(this).mouseleave(function() {
                        $(this).find("ul").stop(true, true).slideUp();
                        //alert("this is an alert!");
                        });
                    }
                });
            })(jQuery);
            }; 
```

slideDown 效果很好，但 slideUp 不起作用，我不明白为什么，如果有人可以帮助我解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T08:20:07.447

它在你的 CSS 中。菜单被放置在视野之外。删除 'left: -999em;' #nav li ul 的声明：

```
#nav li ul {
    position: absolute;
    left: -999em; <--- REMOVE THIS
    height: auto;
    width: 14.4em;
    font-weight: normal;
    margin: 0;
} 
```

此外，将其从内联样式中删除：

```
<ul style="left:-999em" id="matrix"> 
```

看到它正常工作：http: [//jsfiddle.net/c_kick/tsLPT/1/](http://jsfiddle.net/c_kick/tsLPT/1/)

# plone - 自定义类型的修订之间的 CMFEditions 比较

> ID：11517958
> 
> 赞同：1
> 
> 时间：2012-07-17T07:35:43.277
> 
> 标签：plone, archetypes

将新闻项目的类型设置设置为“自动版本控制”：

![新闻项目默认设置为自动版本控制](../Images/408e8216a8f503a08a498c1db16a9298.png)

我可以看到（可比较的）历史视图：

![新闻项目保存可以查看和比较的版本历史](../Images/6d130c27a3ed891c8309c8e09419eb1f.png)

和内联差异：

![新闻项目修订之间的差异可以显示为内联或作为代码](../Images/e00fb055e9a260ff2a6559c40993ac33.png)

但是，这些与我的自定义类型的工作方式不同。

在我的自定义类型照片之后，设置为自动版本控制：

![自定义类型 - 照片（将在 Temple Type 中创建）更改为自动版本控制](../Images/be0b6f9c12800159b4a534e9289e2bba.png)

它的历史视图只列出了修订，但这些没有可比性：

![照片历史视图](../Images/c746a965eba5a75b9d69139cf3420d86.png)

我可以看到每个修订预览：

![照片修订预览](../Images/aa16d049e47207b22748092666729d55.png)

但看到所选修订之间没有任何变化。

![所选修订之间没有变化？](../Images/dcf16486e09da424ec949b4fdd2c947d.png)

如何使自定义类型与 CMFEditions 完全兼容？

# asp.net - 应用程序“默认网站”中的服务器错误

> ID：11517962
> 
> 赞同：3
> 
> 时间：2012-07-17T07:36:07.207
> 
> 标签：asp.net

我在记事本中写了一个短代码并将其保存为 .asp 在 inetpub\wwwroot\MyWeb 之后，当我`"http://localhost/MyWeb/test1.asp"`在我的 chrome 中访问此页面的地址时，此错误发生“应用程序中的服务器错误“默认网站”“。我阅读本主题中的一些页面，但我找不到解决方案。

我在 IIS 之前安装了 Visual Studio 2010。我应该卸载 Visual Studio 并重新安装它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:55:37.557

假设您使用的是 II 6.0 及更高版本，因此您需要在 Web 扩展设置中设置 IIS 以允许您使用活动服务器页面

> 1.  启动 IIS，然后转到 Web 服务扩展
> 2.  将出现一个列表
> 3.  在右侧。选择“活动服务器页面” 3) 按“允许”按钮

**更新来自 OP 的评论：**

> 默认情况下，IIS 7 上未启用 ASP，因此请使用有关如何启用它的链接 [http://learn.iis.net/page.aspx/562/classic-asp-not-installed-by-default-on-iis/](http://learn.iis.net/page.aspx/562/classic-asp-not-installed-by-default-on-iis/)

# sql - 数据库图作为文件

> ID：11517964
> 
> 赞同：0
> 
> 时间：2012-07-17T07:36:09.733
> 
> 标签：sql, sql-server, sql-server-2008, documentation

我使用`SQL Server 2008 R2`并想记录我的数据库。什么是从数据库创建图表的最佳软件，并在其他系统上查看创建图表的查看器。

编辑1：

我希望这个工具有以下设施：

*   创建彩色图表
*   显示/隐藏一对一、一对多关系
*   显示/隐藏关系描述
*   显示/隐藏每个表的索引
*   附加说明
*   列类型，大小，描述，...
*   可以在图表中对表格进行分组
*   可以另存为文件。
*   让查看器在其他系统中显示创建的图表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:41:02.417

我会使用数据库图表（来自 SSMS），然后将其复制到剪贴板，然后.. 粘贴到 Word、Paint 或其他地方。

# string - 按特定标签拆分数据框中列的值并将它们添加为额外行

> ID：11517966
> 
> 赞同：1
> 
> 时间：2012-07-17T07:36:18.903
> 
> 标签：string, r, split, dataframe

假设我有以下数据框

```
> df <- data.frame(var1 = c("A", "B", "C", "D"),            
                 var2 = c("test", "5 | 6", "X & Y", "M | N | O"))
> df
  var1          var2
1    A          test
2    B         5 | 6
3    C         X & Y
4    D     M | N | O 
```

如何`var2`通过`|`and`&`运算符拆分值并将它们作为单独的行放入`same data.frame`. 输出应如下所示：

```
> df
  var1          var2
1    A          test
2    B             5
3    B             6
4    C             X
5    C             Y
6    D             M
7    D             N
8    D             O 
```

我使用`strsplit`了一个for循环来实现它。但是，我认为这不是很好的编码。任何想法如何以更好的 R 方式实现这一目标？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-17T07:50:43.110

你可以这样做：

```
s <- strsplit(df[,2], " \\| | & ")
cbind(var1=rep(df[,1], sapply(s, length)), var2=unlist(s))
     var1 var2  
[1,] "A"  "test"
[2,] "B"  "5"  
[3,] "B"  "6"  
[4,] "C"  "X"  
[5,] "C"  "Y"  
[6,] "D"  "M"  
[7,] "D"  "N" 
[8,] "D"  "O" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-23T13:04:34.440

另一种选择是`cSplit`从我的“splitstackshape”包中使用：

```
library(splitstackshape)
cSplit(df, "var2", "[|&]", "long", fixed = FALSE)[var2_new != ""]
#    var1 var2_new
# 1:    A     test
# 2:    B        5
# 3:    B        6
# 4:    C        X
# 5:    C        Y
# 6:    D        M
# 7:    D        N
# 8:    D        O 
```

# mysql - 通过备用端口建立 mysql 连接

> ID：11517967
> 
> 赞同：1
> 
> 时间：2012-07-17T07:36:29.397
> 
> 标签：mysql, port, iptables, minecraft

我正在尝试连接到外部 mysql 数据库，但端口 3306 已经绑定在托管我的 minecraft 服务器的主机上，我可以更改插件尝试连接的端口，但不知道如何重定向另一个端口网络主机以 3306 结尾，我曾考虑更改网络服务器上的 mysql 端口，但感觉这可能会导致并发症...

我不想干扰当前正在运行的任何其他内容，只需添加其他功能

有什么建议么？

如果这是发布此内容的错误区域，也很抱歉，不确定它会属于什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T07:43:05.457

您必须在 IPTABLES 中打开端口：

`vi /etc/sysconfig/iptables`

然后查找该行：

`-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 3306 -j ACCEPT`

复制它并将端口更改为请求的端口。

然后编辑`vi /etc/my.cnf`并将端口更改`3306`为新端口。
完成后，运行：

```
service iptables restart
service httpd start 
```

# sql - SQL 查询包含 IF/ELSE 语句

> ID：11517968
> 
> 赞同：3
> 
> 时间：2012-07-17T07:36:40.827
> 
> 标签：sql, sql-server-2008-r2

> **可能重复：**
> [SQL Server 上的 INSERT OR UPDATE 解决方案](https://stackoverflow.com/questions/108403/solutions-for-insert-or-update-on-sql-server)

我遇到了很大的麻烦，我想编写一个包含条件语句的 SQL 查询。

EG：我有一个带有列的 SQL 表，`ID,NAME,STATUS`因此在将值插入该表之前，我想检查表中已经存在的名称。如果它存在，那么我想更新状态值。

是否可以使用 queryString（SQL Server 查询而不是存储过程）方法编写查询，如果有人知道请帮助我。我正在使用 SQL Server 2008 R2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T07:39:45.727

您想要`MERGE`查询语法

从文档（[http://technet.microsoft.com/en-us/library/bb510625.aspx](http://technet.microsoft.com/en-us/library/bb510625.aspx)）

```
MERGE Production.UnitMeasure AS target
USING (SELECT @UnitMeasureCode, @Name) AS source (UnitMeasureCode, Name)
ON (target.UnitMeasureCode = source.UnitMeasureCode)
WHEN MATCHED THEN 
    UPDATE SET Name = source.Name
WHEN NOT MATCHED THEN   
    INSERT (UnitMeasureCode, Name)
    VALUES (source.UnitMeasureCode, source.Name)
    OUTPUT deleted.*, $action, inserted.* INTO #MyTempTable 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T08:02:15.873

以下是可能的方法：

1）使用'EXISTS'方法

```
IF EXISTS(SELECT 1 FROM Table1 WHERE Name = @Name)
    UPDATE Table1 SET Status = @Status WHERE Name = @Name
ELSE
    INSERT INTO Table1 (Name, Status) VALUES(@Name, @Status) 
```

2）使用合并

```
MERGE Table1 AS TARGET
USING (SELECT @Name, @Status FROM Table1) AS Source (Name, Status)
ON (TARGET.Name = Source.Name)

WHEN MATCHED 
    THEN UPDATE SET Status = Source.Status
WHEN NOT MATCHED 
    THEN INSERT (Name, Status) VALUES (Source.Name, Source.Status) 
```

3）未编译的查询（构建查询）

```
--Unable to post on S.O.F due to security limitations 
```

虽然建议的方法是第 1 和第 2 （第 3 是不必要的）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T08:09:54.913

你想要类似的东西

```
IF EXISTS (SELECT Name FROM YourDatabase WHERE [_SomeCondition_])
BEGIN
    INSERT INTO YourTable (Status) 
    SELECT OtherStatus AS  Status 
    FROM SomeOtherTable 
END 
```

就是这样。

我希望这有帮助。

# asp.net-mvc - asp.net mvc 3 - 在项目属性中没有“启用 SSL”的选项

> ID：11517980
> 
> 赞同：7
> 
> 时间：2012-07-17T07:37:27.173
> 
> 标签：asp.net-mvc, asp.net-mvc-3, visual-studio-2010, ssl, security

我正在关注 Pluralsight ASP.NET MVC 3[教程](http://www.asp.net/mvc)，模块 7 - 安全性（顺便说一句，这是一个很棒的教程）。在授权部分，在 6:24 标记处，它显示了如何将项目属性设置`SSL Enabled`为`true`。我的问题是，当我进入项目属性时，我没有那个选项。我只看到`Always Start When Debugging`,`Project File`和`Project Folder`。有谁知道为什么我没有选项`SSL Enabled`，我如何让它出现，或者我可以用不同的方式来实现相同的结果？我正在使用 Visual Studio 2010 SP1Rel。

在其他阅读中，我`requireSSL="true"`在标签下看到了有关 Web.config 文件中设置的一些信息`authentication`。`SSL Enabled = true`这是否与在项目属性下设置相同？如果没有，任何人都可以简要解释差异或指出一篇好文章吗？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-17T08:25:13.760

我刚刚发现如果在开发环境中使用 IIS Express，则此选项可用，但如果使用我的项目正在使用的 VS 开发服务器则不可用。我通过右键单击项目资源管理器窗口中的项目，然后选择“为 IIS 配置项目”或类似的东西解决了我的问题。现在选项`SSL Enabled`显示在属性中。

顺便说一句，[这](http://www.hanselman.com/blog/WorkingWithSSLAtDevelopmentTimeIsEasierWithIISExpress.aspx)是帮助我找出问题的网页。

此外，即使我弄清楚了我的主要问题，我仍然会对关于我的次要问题的任何评论感兴趣。

[编辑] 设置此项的快捷方式是在“解决方案资源管理器”中右键单击您的项目名称，然后单击“属性”...在“属性”窗口中，单击“Web”选项卡，然后在“服务器”下更改下拉框到“IIS Express”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T08:08:12.043

使用表单配置元素的 requireSSL 属性在 ASP.NET 应用程序的配置文件中设置 RequireSSL 属性。

鉴于您使用的是 asp.net mvc，您可以将操作标记为安全

像这样：

```
[RequireHttps]
public ActionResult Login()
{
   return View();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T16:14:21.127

请参阅我的博客[http://blogs.msdn.com/b/rickandy/archive/2011/04/22/better-faster-easier-ssl-testing-for-asp-net-mvc-amp-webforms.aspx](http://blogs.msdn.com/b/rickandy/archive/2011/04/22/better-faster-easier-ssl-testing-for-asp-net-mvc-amp-webforms.aspx)
我推荐使用 IIS 7.5 (localserver) 进行测试 - 请参阅[在 30 秒内在 IIS 7 上测试您的 ASP.NET MVC 或 WebForms 应用程序](http://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) 要求 SSL 的正确方法是通过

```
filters.Add(new System.Web.Mvc.RequireHttpsAttribute()); 
```

请参阅我的博客文章[保护您的 ASP.NET MVC 4 应用程序和新的 AllowAnonymous 属性](http://blogs.msdn.com/b/rickandy/archive/2012/03/23/securing-your-asp-net-mvc-4-app-and-the-new-allowanonymous-attribute.aspx)

# moodle - Moodle php扩展错误

> ID：11517981
> 
> 赞同：0
> 
> 时间：2012-07-17T07:37:52.713
> 
> 标签：moodle

我对moodle有问题。即使我已经安装了所有 php_extensions，为什么错误仍然存​​在。下面附上我遇到的错误。这是我的 phpinfo() 的链接：http: [//1picto.com/info.php](http://1picto.com/info.php)

我可以从我的 phpinfo 中看到我已经安装了所有扩展，但错误仍然存​​在。

![在此处输入图像描述](../Images/1e456f58b2f5c3ec1f2f2ede4c5d90ee.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T08:01:05.537

您是否重新启动了网络服务器？

# c# - 如何为 Windows 窗体应用程序设置皮肤/主题

> ID：11517985
> 
> 赞同：-4
> 
> 时间：2012-07-17T07:38:14.713
> 
> 标签：c#, .net, html, css, winforms

我需要创建一个 Windows 窗体应用程序，用户可以轻松灵活地自定义窗体样式，而且我的应用程序需要访问注册表和系统文件。我该怎么做？有没有更好的方法（使用 html 和 css）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:40:53.347

除了一些允许 WinForms Skinning / Themeing 的第三方库（例如[DevExpress](http://www.devexpress.com/products/NET/Controls/WinForms/Skins/)）之外，您无能为力。不，您不能使用 HTML 和 CSS，您需要开发 WinRT Win8 应用程序才能将 HTML 用于 UI。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:41:24.317

为了使丰富的用户界面使用 WPF 和主题，为了更性感的外观使用 devexpress 控件和 WPF

# python - 用条形图表示统计上的显着差异

> ID：11517986
> 
> 赞同：17
> 
> 时间：2012-07-17T07:38:24.787
> 
> 标签：python, matplotlib, figure

我使用条形图来表示每组的数据。其中一些条形图彼此显着不同。如何指示条形图中的显着差异？

```
import numpy as np
import matplotlib.pyplot as plt
menMeans   = (5, 15, 30, 40)
menStd     = (2, 3, 4, 5)
ind = np.arange(4)    # the x locations for the groups
width=0.35
p1 = plt.bar(ind, menMeans, width=width, color='r', yerr=menStd)
plt.xticks(ind+width/2., ('A', 'B', 'C', 'D') ) 
```

我的目标是

![在此处输入图像描述](../Images/a12b885dd3e651456b50377fd8fdca0a.png)

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-18T14:26:17.867

我在这里做了几件事，我建议在处理复杂的情节时做这些事情。将自定义格式提取到字典中，当您想要更改参数时，它使生活变得简单 - 您可以将此字典传递给多个绘图。我还为`annotate`itervalues 编写了一个自定义函数，作为奖励，`(A,C)`如果你真的想要，它可以在两者之间进行注释（但我坚持我的评论，这不是正确的视觉方法）。一旦数据发生变化，它可能需要一些调整，但这应该会让你走上正确的轨道。

```
import numpy as np
import matplotlib.pyplot as plt
menMeans   = (5, 15, 30, 40)
menStd     = (2, 3, 4, 5)
ind  = np.arange(4)    # the x locations for the groups
width= 0.7
labels = ('A', 'B', 'C', 'D')

# Pull the formatting out here
bar_kwargs = {'width':width,'color':'y','linewidth':2,'zorder':5}
err_kwargs = {'zorder':0,'fmt':None,'linewidth':2,'ecolor':'k'}  #for matplotlib >= v1.4 use 'fmt':'none' instead

fig, ax = plt.subplots()
ax.p1 = plt.bar(ind, menMeans, **bar_kwargs)
ax.errs = plt.errorbar(ind, menMeans, yerr=menStd, **err_kwargs)

# Custom function to draw the diff bars

def label_diff(i,j,text,X,Y):
    x = (X[i]+X[j])/2
    y = 1.1*max(Y[i], Y[j])
    dx = abs(X[i]-X[j])

    props = {'connectionstyle':'bar','arrowstyle':'-',\
                 'shrinkA':20,'shrinkB':20,'linewidth':2}
    ax.annotate(text, xy=(X[i],y+7), zorder=10)
    ax.annotate('', xy=(X[i],y), xytext=(X[j],y), arrowprops=props)

# Call the function
label_diff(0,1,'p=0.0370',ind,menMeans)
label_diff(1,2,'p<0.0001',ind,menMeans)
label_diff(2,3,'p=0.0025',ind,menMeans)

plt.ylim(ymax=60)
plt.xticks(ind, labels, color='k')
plt.show() 
```

![在此处输入图像描述](../Images/aa38d6a901b40d96bab7b238424ec015.png)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2018-09-14T13:59:49.193

上面的答案启发我自己编写了一个小而灵活的函数：

```
def barplot_annotate_brackets(num1, num2, data, center, height, yerr=None, dh=.05, barh=.05, fs=None, maxasterix=None):
    """ 
    Annotate barplot with p-values.

    :param num1: number of left bar to put bracket over
    :param num2: number of right bar to put bracket over
    :param data: string to write or number for generating asterixes
    :param center: centers of all bars (like plt.bar() input)
    :param height: heights of all bars (like plt.bar() input)
    :param yerr: yerrs of all bars (like plt.bar() input)
    :param dh: height offset over bar / bar + yerr in axes coordinates (0 to 1)
    :param barh: bar height in axes coordinates (0 to 1)
    :param fs: font size
    :param maxasterix: maximum number of asterixes to write (for very small p-values)
    """

    if type(data) is str:
        text = data
    else:
        # * is p < 0.05
        # ** is p < 0.005
        # *** is p < 0.0005
        # etc.
        text = ''
        p = .05

        while data < p:
            text += '*'
            p /= 10.

            if maxasterix and len(text) == maxasterix:
                break

        if len(text) == 0:
            text = 'n. s.'

    lx, ly = center[num1], height[num1]
    rx, ry = center[num2], height[num2]

    if yerr:
        ly += yerr[num1]
        ry += yerr[num2]

    ax_y0, ax_y1 = plt.gca().get_ylim()
    dh *= (ax_y1 - ax_y0)
    barh *= (ax_y1 - ax_y0)

    y = max(ly, ry) + dh

    barx = [lx, lx, rx, rx]
    bary = [y, y+barh, y+barh, y]
    mid = ((lx+rx)/2, y+barh)

    plt.plot(barx, bary, c='black')

    kwargs = dict(ha='center', va='bottom')
    if fs is not None:
        kwargs['fontsize'] = fs

    plt.text(*mid, text, **kwargs) 
```

这使我可以相对简单地获得一些不错的注释，例如：

```
heights = [1.8, 2, 3]
bars = np.arange(len(heights))

plt.figure()
plt.bar(bars, heights, align='center')
plt.ylim(0, 5)
barplot_annotate_brackets(0, 1, .1, bars, heights)
barplot_annotate_brackets(1, 2, .001, bars, heights)
barplot_annotate_brackets(0, 2, 'p < 0.0075', bars, heights, dh=.2) 
```

[![在此处输入图像描述](../Images/ad7c029a3a613ae7bb5f94effc267874.png)](https://i.stack.imgur.com/fm75E.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-17T14:23:15.977

如果您正在使用 matplotlib 并寻求箱线图注释，请使用我的代码作为函数：

# 统计注释

```
def AnnoMe(x1, x2, ARRAY, TXT):
    y, h, col = max(max(ARRAY[x1-1]),max(ARRAY[x2-1])) + 2, 2, 'k'
    plt.plot([x1, x1, x2, x2], [y, y+h, y+h, y], lw=1.5, c=col)
    plt.text((x1+x2)*.5, y+h, TXT, ha='center', va='bottom', color=col) 
```

其中“x1”和“x2”是您要比较的两列，“ARRAY”是用于说明箱线图的列表列表。而且，“TXT”是您的文本，例如 p 值或字符串格式的显着/不显着。

因此，调用它：

```
AnnoMe(1, 2, MyArray, "p-value=0.02") 
```

# svg - SVG - 从中 心缩放圆圈

> ID：11517988
> 
> 赞同：8
> 
> 时间：2012-07-17T07:38:25.710
> 
> 标签：svg

我想缩放嵌入在 svg 中的弧。在应用缩放变换时，它被缩放到 0、0。而不是那样，我希望它从它自己的中心缩放。

这是代码

```
<g>                 
    <path d="M 300 100 a 200 200 0 1 0 0.00001 0" fill="#7EEC4A" stroke="rgb(208,231,235)" linejoin="round" stroke-width="1" fill-opacity="0.9" stroke-opacity="0.2">
    </path>

    <animateTransform attributeType="xml"
        attributeName="transform"
        type="scale"
        from="0"
        to="1"
        dur="0.5s" fill="freeze" />
</g> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-17T08:08:20.863

使用`<circle>`元素并为“r”属性设置动画：

```
<g>                 
    <circle cx="200" cy="200" r="200" fill="#7EEC4A" stroke="rgb(208,231,235)" linejoin="round" stroke-width="1" fill-opacity="0.9" stroke-opacity="0.2">
        <animate attributeType="xml" attributeName="r" from="0" to="200" dur="5s" repeatCount="indefinite" />    
    </circle>
</g> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-17T20:25:07.217

不完全令人满意，因为我一直无法保持你原来的形状不变，但所需的效果似乎还可以：

```
<g transform="translate(300,250)">
        <g>
            <path d="M 0 -150 a 200 200 0 1 0 0.00001 0" fill="#7EEC4A"
                stroke="rgb(208,231,235)" linejoin="round" stroke-width="1" fill-opacity="0.9"
                stroke-opacity="0.2">
            </path>
            <animateTransform attributeType="xml"
                attributeName="transform"
                type="scale"
                from="0"
                to="1"
                dur="0.5s" fill="freeze" />
        </g>
    </g> 
```

你可以试试[这个](http://jsfiddle.net/a5C6U/)小提琴

# sql - 使用可能的循环依赖创建 SQL 约束

> ID：11517990
> 
> 赞同：1
> 
> 时间：2012-07-17T07:38:31.203
> 
> 标签：sql, sql-server, constraints, circular-dependency

我有以下表格结构（虚构的，用于演示）：

```
ArticlePrice
------------
Id (int, identity)
Price (float)

SpecialArticlePrice
-------------------
Id (int, identity)
ArticlePriceId (int, FK to AriclePrice.Id)
SpecialPrice (float) 
```

在这些表之间是一个删除约束。

```
Foo
-----
Id (int, identity)
ArticlePriceId (int, NULL, FKto ArticlePrice.Id)
SpecialArticlePriceId (int, NULL, FK to SpecialArticlePrice.Id)
Price (int) 
```

我想为两个 FK 设置一个删除约束，以防 ArticelPrice 或 SpecialArticlePrice 将被删除，Foo 记录也应该被删除。唯一的合同（在开发者网站上）是，Foo 的记录将只包含一个 FK 关系。

例子：

```
INSERT INTO Foo (ArticlePrice, SpecialArticlePrice, Price) VALUES (13, NULL, 20.0) 
INSERT INTO Foo (ArticlePrice, SpecialArticlePrice, Price) VALUES (NULL, 3, 134.25) 
```

我该如何解决这种情况？

非常感谢你。亲切的问候，丹尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-22T07:22:39.713

您需要`DELETE TRIGGERS`在您的 ArticlePrice 和 SpecialArticlePrice 表上创建。

```
create trigger trgArticlePriceDelete on ArticlePrice for delete
as
begin
delete foo 
from foo
        inner join deleted on foo.ArticlePriceID = deleted.ID
end
go

create trigger trgSpecialArticlePriceDelete on SpecialArticlePrice for delete
as
begin
    delete foo 
    from
        foo
        inner join deleted on foo.SpecialArticlePriceID = deleted.ID
end
go 
```

此外，您不应将价格存储为浮点数。用途`money`或`decimal`类型

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T07:53:23.843

我不知道我是否得到了您真正想要实现的目标但是：

如果您在 SSMS 中设计 Foo-Table，则必须插入外键。然后您需要设置 SpecialPrice-Table 和 ArticlePrice-Table 的外键的“插入和更新规范”（与表 Foo 的关系）-> 只需将 Delete Rule 设置为**Cascade**。

因此，每次您删除 ArticlePrice 或 SpecialArticlePrice 时，引用这些项目的行也应该被删除。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T07:01:24.490

您可以将触发器与存储过程一起使用。 [SQL Server 2008 - 多个级联 FK - 我需要触发器吗？](https://stackoverflow.com/questions/5100525/sql-server-2008-multiple-cascading-fks-do-i-need-a-trigger)

非常感谢， Girish

# mysql - mysql加载数据文件的困难

> ID：11517991
> 
> 赞同：0
> 
> 时间：2012-07-17T07:38:37.080
> 
> 标签：mysql

我是 SQL 新手，只是对加载数据文件的语法有点困难。

所以我的数据采用以下格式，我创建了一个包含 2 列的表，其中一列用于整数，另一列用于 varchars。

```
0,Albert
1,America
2,American
3,April
4,Austrian
5,Badcock's 
```

这是我正在尝试的代码，但它只是将所有内容放入 varchar 列的第一行，有人能指出我正确的方向吗？谢谢

```
load data infile 'C:/temp/correct.csv'
into table correct_spellings
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\r\n' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:46:11.507

由于您已经复制+粘贴了数据，因此无法判断行是否真正以`\r\n`.

我建议您先尝试不使用该`LINES TERMINATED BY...`子句。让 MySQL 为您自动检测。

如果这不起作用，请再试一次，这次只使用`\n`，或仅使用`\r`。

抱歉-我无法提供明确的答案，您必须进行测试...

# jquery - 如何将 .net ajax 项目转换为控件或组件

> ID：11517994
> 
> 赞同：0
> 
> 时间：2012-07-17T07:38:47.720
> 
> 标签：jquery, asp.net, ajax

我是组件开发的新手。我设计了一个使用 jQuery 和 ajax 与 asp.net（单独项目）的文件管理器。我想把它作为一个可重用的组件，应该在各种项目中使用。有没有办法让它成为用户或自定义控件..？

提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:07:36.810

没有任何标准指南可以使其可重用，但您应该尝试使其更通用。例如，它不应该编写任何特定于域/用户的代码，然后它可以用作自定义控件。

但一般来说，自定义控件项目通常只有类，所以如果你能分享更多关于你的项目的细节，那将有很大的帮助评论。供参考： http: [//msdn.microsoft.com/en-us/library/aa728786 (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/aa728786(v=vs.71).aspx)

# axapta - 在 AOT 中隐藏类

> ID：11517996
> 
> 赞同：0
> 
> 时间：2012-07-17T07:38:58.753
> 
> 标签：axapta, x++, aot

如何在 AOT 中隐藏用户创建的类。

我想将我的课程隐藏在不可见源的地方。我知道如何在表格和表格中做到这一点。请指导我如何在课堂上做同样的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T07:30:48.887

抱歉，如果您有查看 AOT 的凭据，则无法隐藏源。

表格和表格也不可能这样做。请告诉我们你是怎么做到的：）

# c# - 如何在 SQL Server 中存储 filestream 的数据（每行数据）

> ID：11517998
> 
> 赞同：1
> 
> 时间：2012-07-17T07:38:59.223
> 
> 标签：c#, sql-server

我有一个包含大量数据的文件流，我想将这些数据移动到数据库中，以便每个数据都存储在 SQL Server 表的一行中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T07:44:25.313

您将需要使用 BLOB（二进制大对象）。但是，它们对性能有不小的影响。请参阅[此处了解介绍。](http://www.databasejournal.com/features/mssql/article.php/3719221)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T08:04:40.270

你看过`FILESTREAM`数据类型吗？

[http://technet.microsoft.com/en-us/library/bb933993(SQL.105).aspx](http://technet.microsoft.com/en-us/library/bb933993(SQL.105).aspx)

# android - 需要在布局中动态设置单选按钮：android

> ID：11517999
> 
> 赞同：0
> 
> 时间：2012-07-17T07:39:03.790
> 
> 标签：android, layout, radio-button

我需要在布局中动态设置单选按钮，但是当我水平添加它时，它将能够在单行中显示单选按钮，因此我的所有单选按钮都不可见，我需要将休息单选按钮设置为下方到上方单选按钮，意味着所有按钮都应该在水平方向上可见，除了单选按钮的左侧之外还有文本。我的代码在下面，但它在单行中显示单选按钮，因此所有单选按钮都不可见..

主要的.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
android:orientation="vertical" >

<TextView
    android:id="@+id/TextView01"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Choose Your Favorite Actress" >
</TextView>

<RadioGroup
    android:id="@+id/RadioGroup01"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" >
</RadioGroup>
<Button
    android:id="@+id/Button01"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Submit" >
</Button>

 </LinearLayout> 
```

和java类是：

```
 @Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    DisplayRadioButton();

}

public void DisplayRadioButton()
{
    for(int i=0;i<10;i++)
    {
        RadioGroup radiogroup = (RadioGroup)findViewById(R.id.RadioGroup01);
        RadioButton rdbtn = new RadioButton(this);
        rdbtn.setId(i);
        rdbtn.setText(text[i]);
        radiogroup.addView(rdbtn);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T09:01:19.343

radgroup.layout(l, t, r, b); 左上右下位置