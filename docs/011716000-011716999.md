# StackOverflow 问答 11716000-11716999

# javascript - 普通数据到 xml 数据的图像滑块

> ID：11716000
> 
> 赞同：0
> 
> 时间：2012-07-30T05:47:06.927
> 
> 标签：javascript, jquery, html

我正在使用普通变量来显示图像列表。但我需要的同样是使用 XML。谁能帮帮我吗。var 'imgs' 应该是一个 xml。

**jQuery**

```
$(function() {

    var imgs = ['http://www.academy-florists.com/images/shop/thumbnails%5CValentines_Day_flowers.jpg', 'http://www.everythingbuttheprincess.com/assets/images/babies-in-bloom-fuchsia-flower_thumbnail.jpg', 'http://www.behok.ru/i/a/cat/gerbera.jpg', 'http://www.thebutterflygrove.com/images/thumbnails/0/200/200/thumbnail_flower-decor-makpk.jpg', 'http://gameinfestedent.com/gallery_photo/medium_image/image1322820610_MainPurpleOrchids3_1a.jpg'];

   var maximages = imgs.length; //No of Images
   Slider();
   setInterval(Slider, 3000);
   var prevIndex = 0, prevPrevIndex = 0;

   function Slider() {
       $('#imageSlide').fadeOut("slow", function() {
           do {
               shuffleIndex = Math.floor(Math.random() * maximages);
           } while(prevIndex == shuffleIndex || prevPrevIndex == shuffleIndex)

           prevPrevIndex = prevIndex;
           prevIndex = shuffleIndex;

           $("#panel").fadeIn("slow").css('background', '#000');

           $(this).attr('src', imgs[shuffleIndex]).fadeIn("slow");
       });
   }

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:26:46.647

我假设你想要 xml 格式的图像 url，然后你想要解析这个 xml。

```
<images>
<image-url>http://www.academyflorists.com/images/shop/thumbnails%5CValentines_Day_flowers.jpg</image-url>
<image-url>http://www.everythingbuttheprincess.com/assets/images/babies-in-bloom-fuchsia-flower_thumbnail.jpg</image-url>
<image-url>http://www.behok.ru/i/a/cat/gerbera.jpg</image-url>
<image-url>http://www.thebutterflygrove.com/images/thumbnails/0/200/200/thumbnail_flower-decor-makpk.jpg</image-url>
<image-url>http://gameinfestedent.com/gallery_photo/medium_image/image1322820610_MainPurpleOrchids3_1a.jpg</image-url>
</images> 
```

您可以通过以下方式解析它

```
var imgs = "<images><image-url>'http://www.academy-florists.com/images/shop/thumbnails%5CValentines_Day_flowers.jpg'</image-url><image-url>'http://www.everythingbuttheprincess.com/assets/images/babies-in-bloom-fuchsia-flower_thumbnail.jpg'</image-url><image-url>'http://www.behok.ru/i/a/cat/gerbera.jpg'</image-url><image-url>'http://www.thebutterflygrove.com/images/thumbnails/0/200/200/thumbnail_flower-decor-makpk.jpg'</image-url><image-url>'http://gameinfestedent.com/gallery_photo/medium_image/image1322820610_MainPurpleOrchids3_1a.jpg'</image-url></images>"
$xml = $.parseXML(imgs)
images = []
$($($xml).find('image-url')).each(function() { images.push($(this).text()) }) 
```

**images**将包含所有图像 url 的数组

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:39:22.010

您还没有告诉我们您的 xml 会是什么样子，所以我将以下基本架构放在一起

```
<?xml version="1.0" encoding="utf-8" ?>
<images>
    <image>url of image</image>
    <image>url of next image</image>
<images> 
```

如果您搜索 jQuery 站点，您会发现它告诉您如何使用 Xml - [http://api.jquery.com/jQuery.parseXML/](http://api.jquery.com/jQuery.parseXML/)

您需要`parseXML`在 xml 字符串上使用并转换为 jQuery 对象。然后，您可以`find()`元素、循环元素或挑选元素文本和属性。以下示例显示了这一点。

```
$(function() {

    // your image list as xml string
    var xmlStr = '<?xml version="1.0" encoding="utf-8" ?><images><image>http://www.academy-florists.com/images/shop/thumbnails%5CValentines_Day_flowers.jpg</image><image>http://www.everythingbuttheprincess.com/assets/images/babies-in-bloom-fuchsia-flower_thumbnail.jpg</image><image>http://www.behok.ru/i/a/cat/gerbera.jpg</image><image>http://www.thebutterflygrove.com/images/thumbnails/0/200/200/thumbnail_flower-decor-makpk.jpg</image><image>http://gameinfestedent.com/gallery_photo/medium_image/image1322820610_MainPurpleOrchids3_1a.jpg</image></images>';

    // parse the xml and produce an jQuery image object ($image) to represent the list of image elements
    var xmlDoc = $.parseXML(xmlStr),
        $xml = $(xmlDoc),
        $image = $xml.find("image");

    // loop throught your image elements and alert the url
    $image.each(function() {
        var imageElement = this, // this within the loop is the current element
            $imageElement = $(imageElement),
            imageUrl = $imageElement.text(); // use text to get the url

        alert(imageUrl);
    });

    // use length on the jQuery object to get the element count
    var maximages = $image.length;
    alert(maximages);

    var shuffleIndex = 3,
        imageElement = $image[shuffleIndex], // index the random image that you want to use
        $imageElement = $(imageElement),
        imageUrl = $imageElement.text();

    alert(imageUrl);

}); 
```

# c++ - 向量中没有 find(element) 方法

> ID：11716007
> 
> 赞同：1
> 
> 时间：2012-07-30T05:47:57.657
> 
> 标签：c++

我只是在浏览 stl 并注意到 C++ 向量没有一种`find(givenElement)`方法。有解决办法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T05:48:51.933

你可以[`std::find`](http://www.cplusplus.com/reference/algorithm/find/)改用。

```
std::vector<int> x;
//...
std::find(x.begin(),x.end(),42); 
```

*请注意*，如果您有多个相同值的元素，您只会得到第一个（但您可以相应地更改开始迭代器）。

示例[http://ideone.com/JADSl](http://ideone.com/JADSl)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T05:57:45.033

另请注意，`std::find`不返回`true`或`false`。它将迭代器返回到找到元素的位置。例如。

```
if ( std::find( x.begin(), x.end(), 42 ) == x.end() )
{
    // We get here if 42 is not found in the vector!!
} 
```

# javascript - jQuery Mobile 水平可滚动 div（动态多列但 1 行）

> ID：11716015
> 
> 赞同：0
> 
> 时间：2012-07-30T05:49:34.133
> 
> 标签：javascript, jquery

jQuery Mobile 中有没有一种方法可以创建具有可水平滚动的动态多列的布局。（类似于无限轮播/图片幻灯片，但带有 DIV 而不是图像。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T11:03:09.593

您可能想看看[iScroll-4](http://cubiq.org/iscroll-4)。这可用于垂直和水平滚动条

# twitter-bootstrap - 带有 Ember 和 Twitter Bootstrap 的 FullCalendar

> ID：11716016
> 
> 赞同：5
> 
> 时间：2012-07-30T05:49:43.880
> 
> 标签：twitter-bootstrap, fullcalendar, ember.js

我在一个用 Ember 编写的 JS 应用程序的 Twitter Bootstrap 选项卡中实现了 FullCalendar。选项卡的内容中包含以下把手。

```
<div class="container-fluid">
    <div class="row-fluid">
        <div class="commands pull-left">
            <input type="text" placeholder="Display Calendar for" data-provide="typeahead">
        </div>
        <div class="commands pull-right">
            <a {{bindAttr class=":btn :btn-primary"}} href="#" {{action "newEvent"}}><i class="icon-plus icon-white"></i> Add Event</a>
        </div>
    </div>
    <hr/>
    <div class="row-fluid">
        {{#view App.CalendarTool id="calendar" class="calendar"}}
        {{/view}}
    </div>
</div> 
```

App.CalendarTool 类定义如下：

```
require('fullcalendar/fullcalendar');
require('fullcalendar/gcal');

App.CalendarTool = Em.View.extend({
    tagName:'div',
    attributeBindings:['id','events','owner'],
    classNamesBindings:['class'],
    didInsertElement:function(){

        this.$().fullCalendar({
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay '
            },
            editable: true,
            events: []
        });

    }

}); 
```

当页面加载时，fullcalendar 没有出现。只有顶部的按钮会出现。当我今天按下时，完整的日历正在显示。

JSFIddle - [http://jsfiddle.net/uMVyu/](http://jsfiddle.net/uMVyu/)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-30T06:38:57.163

[http://jsfiddle.net/uMVyu/1/](http://jsfiddle.net/uMVyu/1/)

在选项卡单击时使用 FullCalendar 渲染解决。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-04-20T05:37:22.160

刚刚遇到这个问题......我认为这可以通过使用 emberCalendar 现在解决[https://github.com/joinspton/ember-calendar](https://github.com/joinspoton/ember-calendar)

# android - 成功分离精灵后仍然调用 onAreaTouch

> ID：11716019
> 
> 赞同：1
> 
> 时间：2012-07-30T05:50:09.560
> 
> 标签：android, opengl-es-2.0, sprite, andengine

这是我在场景中添加精灵的代码。

```
 for (int i = 3; i <= cage.getDirtMeter(); i++) {
        Sprite dirtSprite = new Sprite(0, 0, Main.dirtTextureRegion,
                mainActivity.getVertexBufferObjectManager()) {
            @Override
            public boolean onAreaTouched(TouchEvent pSceneTouchEvent,
                    float pTouchAreaLocalX, float pTouchAreaLocalY) {
                removeDirt(this);
                return true;
            }
        };
        float x = Utility.getRandomXWithinCamera(dirtSprite);
        float y = Utility.getRandomYWithinCamera(dirtSprite);

        dirtSprite.setPosition(x, y);
        this.registerTouchArea(dirtSprite);
        attachChild(dirtSprite);
    } 
```

这是我的 removeDirt 方法

```
public void removeDirt(final Sprite sprite) {
    synchronized (this) {
        if (CoolDown.getSharedInstance().checkValidity()) {
            if (isCleanSelected) {
                Log.d("detach", "Calling remove dirt");
                cage.removeDirt();
                mainActivity.runOnUpdateThread(new Runnable() {
                    @Override
                    public void run() {
                        /* Now it is save to remove the entity! */
                        if (MainMenuScene.this.detachChild(sprite)) {
                            Log.d("detach", "detached Successfuly!");
                        }
                    }
                });
                updateMetersUI();
            }
        }
    }
} 
```

调用 removeDirt 后，屏幕上看不到精灵，但精灵 onAreaTouch 仍然被调用，即使精灵已成功解除附加。知道如何从场景中完全移除精灵。谢谢。而且我也试过

```
 sprite.setVisible(false);
 sprite.clearEntityModifiers();
 sprite.setIgnoreUpdate(true);
 sprite.clearUpdateHandlers();
 sprite.reset();
 sprite.detachSelf(); 
```

但在那之后 onAreaTouch 仍然被调用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T05:57:48.903

您需要从场景中取消注册 Sprite 的触控区域。例如

```
yourScene.unregisterTouchArea(yourSprite); 
```

# entity-framework - LINQPad 查询错误

> ID：11716020
> 
> 赞同：3
> 
> 时间：2012-07-30T05:50:21.870
> 
> 标签：entity-framework, entity-framework-4, linqpad

**问题：**无法正确设置与我的实体框架 dll 的 LINQPad 连接。

1.  我下载了 LINQPad (v4.42.01)
2.  我开始使用实体框架 DbContext POCO 驱动程序创建新连接
3.  在设置对话框中，我指向了我的 C# 项目的 dll，它找到了适当的 DbContext 类。
4.  接下来我将配置文件指向我的 C# 项目的 app.config
5.  当我点击测试按钮时，我收到此错误：

> 错误：“System.Data.Entity.Internal.AppConfig”的类型初始化程序出现异常。为 entityFramework 创建配置节处理程序时出错：无法在其依赖项之一上加载文件或程序集 'EntityFramework, Version=4.3.1.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'。该系统找不到指定的文件。（C:\Code\NET\FTI_Opp_Model\App.Config 第 5 行）

所以我尝试做@Sorax 在[这个相关问题](https://stackoverflow.com/questions/10605859/having-trouble-with-linqpad-adding-a-connection-to-entity-framework)中所做的事情，并将我的 EntityFramework.dll 从我在项目中从 NuGet 获得的那个移动到 LINQPad.exe 文件夹中。这让我走得更远，测试现在工作了。我很受鼓舞，因为我在 LINQPad 面板中的连接显示了它下面的所有实体。

但是当我右键单击我的 Borrower 实体并选择“Borrower.Take(100)”时，我从 LINQPad 收到了这个错误：

> 'System.Data.Entity.Internal.AppConfig' 的类型初始化程序引发了异常。

带有内部异常消息：

> [A]System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection 无法转换为 [B]System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection。类型 A 源自 'EntityFramework, Version=4.3.1.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' 在位置 'C:\MarkSisson\LinqPad\EntityFramework.dll' 的上下文 'Default' 中。类型 B 源自 'EntityFramework, Version=4.3.1.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' 在上下文 'LoadFrom' 的位置'C:\Users\msisson\AppData\Local\Temp\LINQPad\vlnebssu\shadow_ujjvzp\EntityFramework .dll'。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T01:21:23.810

下载[最新的测试版](http://www.linqpad.net/beta.aspx)- 此问题已在 4.42.05 中修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T23:51:35.053

顺便说一句，重要的是要了解程序集的类型还包括加载位置。

意味着从不同位置加载的两个相同的程序集不是同一类型！

# google-bigquery - Bigquery：提取作业不创建文件

> ID：11716021
> 
> 赞同：1
> 
> 时间：2012-07-30T05:50:41.853
> 
> 标签：google-bigquery

我正在开发一个使用 Bigquery 作为分析引擎的 Java 应用程序。能够使用[Insert a Query Job](http://developers.google.com/bigquery/articles/gettingstartedwithjava#insertqueryjob)上的代码运行查询作业（并获得结果） 。必须使用stackoverflow 上的[此评论](https://stackoverflow.com/a/10526246/1557399)修改代码以使用服务帐户。

现在，需要运行提取作业以将表导出到 GoogleStorage 上的存储桶。基于[Exporting a Table](http://developers.google.com/bigquery/docs/reference/v2/jobs#exporting)，能够修改 Java 代码以插入提取作业（代码如下）。运行时，提取作业的状态从 PENDING 变为 RUNNING 再到 DONE。问题是实际上没有文件上传到指定的存储桶。

可能有用的信息：

*   该`createAuthorizedClient`函数返回一个 Bigquery 实例并适用于查询作业，因此服务帐户、私钥等可能没有问题。
*   [还尝试在谷歌的 api-explorer](https://developers.google.com/apis-explorer/#s/bigquery/v2/bigquery.jobs.insert)上手动创建和运行插入作业，并且文件在存储桶中成功创建。对项目、数据集、表和目标 uri 使用与代码中相同的值，因此这些值应该是正确的。

这是代码（粘贴完整的文件以防其他人发现这很有用）：

```
import java.io.File;
import java.io.IOException;
import java.security.GeneralSecurityException;
import java.util.Arrays;
import java.util.List;

import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;
import com.google.api.client.http.HttpTransport;
import com.google.api.client.http.javanet.NetHttpTransport;
import com.google.api.client.json.JsonFactory;
import com.google.api.client.json.jackson.JacksonFactory;
import com.google.api.services.bigquery.Bigquery;
import com.google.api.services.bigquery.Bigquery.Jobs.Insert;
import com.google.api.services.bigquery.BigqueryScopes;
import com.google.api.services.bigquery.model.Job;
import com.google.api.services.bigquery.model.JobConfiguration;
import com.google.api.services.bigquery.model.JobConfigurationExtract;
import com.google.api.services.bigquery.model.JobReference;
import com.google.api.services.bigquery.model.TableReference;

public class BigQueryJavaGettingStarted {

    private static final String PROJECT_ID = "123456789012";
    private static final String DATASET_ID = "MY_DATASET_NAME";
    private static final String TABLE_TO_EXPORT = "MY_TABLE_NAME";
    private static final String SERVICE_ACCOUNT_ID = "123456789012-...@developer.gserviceaccount.com";
    private static final File PRIVATE_KEY_FILE = new File("/path/to/privatekey.p12");
    private static final String DESTINATION_URI = "gs://mybucket/file.csv";

    private static final List<String> SCOPES =  Arrays.asList(BigqueryScopes.BIGQUERY);
    private static final HttpTransport TRANSPORT = new NetHttpTransport();
    private static final JsonFactory JSON_FACTORY = new JacksonFactory();

    public static void main (String[] args) {
        try {
            executeExtractJob();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static final void executeExtractJob() throws IOException, InterruptedException, GeneralSecurityException {
        Bigquery bigquery = createAuthorizedClient();

        //Create a new Extract job
        Job job = new Job();
        JobConfiguration config = new JobConfiguration();
        JobConfigurationExtract extractConfig = new JobConfigurationExtract();
        TableReference sourceTable = new TableReference();

        sourceTable.setProjectId(PROJECT_ID).setDatasetId(DATASET_ID).setTableId(TABLE_TO_EXPORT);
        extractConfig.setSourceTable(sourceTable);
        extractConfig.setDestinationUri(DESTINATION_URI);
        config.setExtract(extractConfig);
        job.setConfiguration(config);

        //Insert/Execute the created extract job
        Insert insert = bigquery.jobs().insert(PROJECT_ID, job);
        insert.setProjectId(PROJECT_ID);
        JobReference jobId = insert.execute().getJobReference();

        //Now check to see if the job has successfuly completed (Optional for extract jobs?)
        long startTime = System.currentTimeMillis();
        long elapsedTime;
        while (true) {
            Job pollJob = bigquery.jobs().get(PROJECT_ID, jobId.getJobId()).execute();
            elapsedTime = System.currentTimeMillis() - startTime;
            System.out.format("Job status (%dms) %s: %s\n", elapsedTime, jobId.getJobId(), pollJob.getStatus().getState());
            if (pollJob.getStatus().getState().equals("DONE")) {
                break;
            }
            //Wait a second before rechecking job status
            Thread.sleep(1000);
        }

    }

    private static Bigquery createAuthorizedClient() throws GeneralSecurityException, IOException {
        GoogleCredential credential = new GoogleCredential.Builder()
            .setTransport(TRANSPORT)
            .setJsonFactory(JSON_FACTORY)
            .setServiceAccountScopes(SCOPES)
            .setServiceAccountId(SERVICE_ACCOUNT_ID)
            .setServiceAccountPrivateKeyFromP12File(PRIVATE_KEY_FILE)
            .build();

        return Bigquery.builder(TRANSPORT, JSON_FACTORY)
            .setApplicationName("My Reports")
            .setHttpRequestInitializer(credential)
            .build();
    }
} 
```

这是输出：

```
Job status (337ms) job_dc08f7327e3d48cc9b5ba708efe5b6b5: PENDING
...
Job status (9186ms) job_dc08f7327e3d48cc9b5ba708efe5b6b5: PENDING
Job status (10798ms) job_dc08f7327e3d48cc9b5ba708efe5b6b5: RUNNING
...
Job status (53952ms) job_dc08f7327e3d48cc9b5ba708efe5b6b5: RUNNING
Job status (55531ms) job_dc08f7327e3d48cc9b5ba708efe5b6b5: DONE 
```

这是一张小桌子（大约 4MB），所以大约需要一分钟的工作似乎还可以。不知道为什么没有在存储桶中创建文件或如何进行调试。任何帮助，将不胜感激。

正如克雷格指出的那样，打印了 status.errorResult() 和 status.errors() 值。

*   getErrorResults(): {"message":"后端错误。作业中止。","re​​ason":"internalError"}
*   获取错误（）：空

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:51:47.363

我认为问题出在您使用的存储桶名称上——`mybucket`上面只是一个示例，您需要将其替换为您在 Google 存储中实际拥有的存储桶。如果您以前从未使用过 GS，那么[介绍文档](https://developers.google.com/storage/docs/hellogooglestorage)会有所帮助。

您的第二个问题是如何调试它——我建议在`Job`状态设置为`DONE`. 以错误结尾的作业仍然会`DONE`声明，不同之处在于它们附加了错误结果，因此`job.getStatus().hasErrorResult()`应该是正确的。（我从未使用过 Java 客户端库，所以我猜测该方法名称。）您可以在[工作文档](https://developers.google.com/bigquery/docs/reference/v2/jobs)中找到更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T19:38:16.100

看起来有一个访问被拒绝错误写入路径：gs://pixalate_test/from_java.csv。您能否确保执行导出作业的用户对存储桶具有写入权限（并且该文件尚不存在）？我已经就这个问题提交了一个内部 bigquery 错误……在这种情况下，我们应该给出一个更好的错误。.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-03T22:00:12.167

我有同样的问题。但结果是我输入了错误的表名。但是，Google 并没有生成一条错误消息，说“该表不存在”。那将帮助我找到我的问题。

谢谢！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-11T19:21:52.683

还有一个区别，我注意到您没有将作业类型传递为 config.setJobType(JOB_TYPE); 其中常量是私有静态最终字符串 JOB_TYPE = "extract"; 同样对于 json，也需要设置格式。

# android - Android中的C# Listview Control等效？

> ID：11716025
> 
> 赞同：0
> 
> 时间：2012-07-30T05:51:29.420
> 
> 标签：android

我正在尝试在 android 中构建一个应用程序，其中我需要以类似于 Windows 文件资源管理器中的图标视图的方式显示列表中的项目（仅显示缩略图和名称）。在 C# 中，我可以通过 ListView 控件实现这一点。Android 中是否有与 C# 中的 ListView 控件具有相同功能的等效组件？

**编辑**

这是一个类似于我想要实现的图像的链接。

[http://goo.gl/vGsgJ](http://goo.gl/vGsgJ)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:04:57.637

根据您的图像，您正在寻找`GridView`小部件：

[http://developer.android.com/reference/android/widget/GridView.html](http://developer.android.com/reference/android/widget/GridView.html)

`GridView`此外，在 Android 培训网站上有一个关于如何将图像加载到 a 中的很棒的教程：

[http://developer.android.com/training/displaying-bitmaps/display-bitmap.html#gridview](http://developer.android.com/training/displaying-bitmaps/display-bitmap.html#gridview)

# php - 如果一天没有结果，MySQL 查询得到 0

> ID：11716031
> 
> 赞同：2
> 
> 时间：2012-07-30T05:52:18.793
> 
> 标签：php, mysql, flot

我在 flot 中创建了一个折线图，除了没有结果的日子我需要它们返回结果 0 + 日期之外，我都可以正常工作。这在mysql中可能吗？这是我当前的查询：

```
$chartQuery = "SELECT count(date) as counted_leads, UNIX_TIMESTAMP(date) as time FROM enquiries WHERE visibility != 'deleted' group by date"; 
```

或者我需要在我的php中做吗？这是我的代码：

```
<?php 
        $last_key = end(array_keys($chartResults));
        foreach ($chartResults as $item => $value)
        {
            $timestamp = round($value['time'] * 1000);

            if ($item == $last_key)
            {
                // last element
                echo '['.$timestamp.', '.htmlentities($value['counted_leads']).']';
            }
            else 
            {
                // not last element
                echo '['.$timestamp.', '.htmlentities($value['counted_leads']).'],';
            }
        }
        unset($value);
        ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T05:55:32.007

```
SELECT 
     ifnull(count(date),0) as counted_leads, 
     UNIX_TIMESTAMP(date) as time 
FROM enquiries WHERE visibility != 'deleted' 
group by date 
```

使用 if null 作为默认值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:03:35.730

我认为这就是你要找的：

```
SELECT time, SUM(counted_leads) AS counted_leads
FROM(
        SELECT UNIX_TIMESTAMP(date) AS time, count(1) AS counted_leads
        FROM enquiries
        WHERE visibility != 'deleted'
        GROUP BY time

        UNION ALL

        SELECT a.Date AS time, 0 AS counted_leads
        FROM (
            SELECT CURDATE() - INTERVAL (a.a + (10 * b.a) + (100 * c.a)) DAY AS Date
            FROM (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS a
            CROSS JOIN (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS b
            CROSS JOIN (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS c
        ) a
        WHERE a.Date BETWEEN (SELECT MIN(date) FROM enquiries) AND (SELECT MAX(date) FROM enquiries)
) a
GROUP BY time; 
```

# jquery - 如何设置嵌套可拖动元素的正确位置

> ID：11716033
> 
> 赞同：1
> 
> 时间：2012-07-30T05:52:54.800
> 
> 标签：jquery

背景：我有一个可拖动的对象，我将其放入可拖放的可拖动对象中。在“放置”时，可拖动对象嵌套在可放置对象中。在“出”时（即将可拖动对象拖到可放置对象之外），可拖动对象变为非嵌套 - 即嵌套到主体。

ISSUE: 可拖动对象的嵌套和取消嵌套导致可拖动对象的位置捕捉​​到新位置。这是因为可拖动的 css 包含了与前一个父级的相对位置，并且在嵌套到新父级的过程中，这个相对 css 被假定为相对于新父级。

示例和问题： http: [//jsfiddle.net/sandeepy02/CNtRX/2/](http://jsfiddle.net/sandeepy02/CNtRX/2/)上的示例 您可以通过以下方式复制问题

1.  创建对象“房间”和“桌子”。

2.  移动“房间”。

3.  将“表”放入“房间”。

表格被重新定位到远离鼠标光标的位置。发生这种情况的原因是因为“表”的 css 包含表相对于主边界容器的位置。当我将“桌子”放入“房间”并将其嵌套时，然后相对于“房间”应用相同的相对位置，从而导致“桌子”位置的突然变化。

事实上，当我拖出“table”时，该位置再次捕捉到不同的位置，因为“table”css 现在包含与“room”的相对位置，并且将“table”附加到“boundaryContainer”会导致“room”的相对位置被假定为“boundaryContainer”的相对位置。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:07:49.817

您的问题在于附加到 Table Div -> `left`&的两个额外参数`top`。我建议的一种解决方法是，可以选择在每个可拖动或可放置事件之后调用函数。在该函数中，您可以将这两个属性的值设置为 0；

当我使用 Firebug 删除那些时，位置完全对齐。您可以尝试一下并在此处发布结果吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T08:14:27.737

阿夫林，谢谢你的回复。我已经放弃了相同的解决方案，并停止检查上周的响应。但你的反应似乎是隧道尽头的曙光。

我从你的建议中获取并修改了我的代码，使得左右不为零，而是可拖动的左侧和可放置的左侧的总和。

当我将可拖动对象放入可放置对象时，它似乎起作用了。但是，当我将可拖动对象拖到可放置对象之外时，同样的方法不起作用。可拖动的位置仍然跳跃。

相同的代码位于[http://jsfiddle.net/sandeepy02/CNtRX/3/](http://jsfiddle.net/sandeepy02/CNtRX/3/)

我做了一点修改，以便我们也可以看到 div 的位置。

更改位置的代码是：

```
 ui.draggable.css({
            "left": positionDrag.left - $(this).offset().left,
            "top": positionDrag.top - $(this).offset().top
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-10T07:07:49.707

我是这样解决的

在**jquery_ui.js**我发现**_mouseDrag:** part

```
this.helper[ 0 ].style.left = this.position.left - new_el_pos + "px";
this.helper[ 0 ].style.top = this.position.top - new_el_pos + "px"; 
```

在创建 elemen 时，我添加了**new_el_pos**变量，它等于元素的第一个位置。所以每次我拖动 - 它都会纠正对象的 css。

我在互联网上没有找到其他解决方案..

# openerp - 顺便说一句，deb 和 src 的区别

> ID：11716038
> 
> 赞同：-1
> 
> 时间：2012-07-30T05:53:30.560
> 
> 标签：openerp, deb

我使用`deb file`生产和`source`开发。这是正确的做事方式吗？

我认为 deb 可能对生产环境有某些优化（pyo 或 pyc）。

* * *

但是由于我必须将我的自定义模块一次一个地移动到生产中，我发现它越来越困难。

实际的插件路径在这里

```
(1) /usr/share/pyshared/openerp/addons 
```

但是 init.d 指向

```
(2) /usr/lib/pymodules/python2.7/openerp/addons 
```

在某些模块`__init__.py`中`1`（例如：web_rpc）

并且对于一些它`2`（例如：hr）

* * *

顺便说一句，实际的区别是什么

```
http://nightly.openerp.com/6.1/nightly/src/ 
```

和

```
http://nightly.openerp.com/6.1/nightly/deb/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T04:08:32.697

您可以使用 6.1 为您的配置文件提供多个插件路径，以逗号分隔，或者您可以在插件文件夹中为您的自定义文件夹创建链接，同时您可以将 cumized 模块保留在您想要的位置，只需放置链接（快捷方式）到你的插件sfoderl。这会给你灵活性。

谢谢你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T22:34:52.230

我没有尝试过 deb 文件，因为我们使用来自 openerpappliance.com的 Ubuntu[一体化脚本。](http://openerpappliance.com/tag/all-in-one/)它从 Launchpad 下载源代码，然后为您运行部署脚本。它还会在您安装后进行更新。

我们对 5.0 版本非常满意，但我们还没有尝试过 6.1 版本。

# windows - 解压/压缩 ipa 文件会导致安装问题

> ID：11716044
> 
> 赞同：1
> 
> 时间：2012-07-30T05:54:42.567
> 
> 标签：windows, macos, sign, ipa

我一直在努力辞去第三方提供的 iOS 应用程序（ipa 文件）。正如许多其他地方所记录的那样，我正在遵循这个过程：

*   解压
*   复制嵌入式.mobileprovision
*   协同设计
*   压缩

有时它有效，有时则无效。有时会加载相同的文件而不是其他文件。在试图隔离问题时，我只是解压缩了 ipa，然后重新压缩它。新的 ipa 文件与原始文件略有不同，但原始文件和新 ipa 中的所有内容都是相同的。当我尝试安装新的 ipa 文件时，它失败了：

无法在设备上安装应用程序。错误：已添加、修改或删除签名资源。

查看设备的控制台日志，我收到以下消息：

*   iPad1已安装[843]：00403000 verify_signer_identity：无法复制验证签名：-402620393
*   iPad1 已安装 [843]：00403000 preflight_application_install：无法在 /var/tmp/install_staging.VEviVe/BlahBlahBlah.app 验证可执行文件
*   iPad1已安装[843]：00403000 install_application：无法预检应用程序安装
*   iPad1 mobile_installation_proxy[876]：handle_install：安装失败

鉴于 ipa 文件中的任何内容都没有改变，我认为所有签名信息都在此处，为什么不安装重新压缩的文件？

更多信息，使用在 Windows 下运行的 iPhone 配置实用程序安装重新压缩的 ipa 文件时出现上述错误。重新压缩的 ipa 文件使用 iTunes 安装，但在设备的控制台日志中显示以下错误：

*   iPad1已安装[918]：权利“aps-environment”具有配置文件不允许的值
*   iPad1 已安装 [918]：权利“应用程序标识符”具有配置文件不允许的值

# php - 如何使用 php (mcrypt) 加密/解密文件？

> ID：11716047
> 
> 赞同：1
> 
> 时间：2012-07-30T05:55:37.813
> 
> 标签：php, file, encryption, mcrypt

令我惊讶的是，我在网络上没有找到任何解释如何仅使用标准 php 组件加密文件的代码片段、建议或教程。

所以我在问你的建议：如何仅使用 mcrypt 和 php 标准函数来加密/解密文件？我没有使用 gnupg 的选项。不，实际上，我的问题是：如何在不弄乱我的文件的情况下执行上述操作？因为我已经对这些文件进行了加密/解密（使用 mcrypt/AES），它适用于 jpeg、PDF、一些 .doc 文件和有趣的密码保护 .docx 文件。它不适用于不安全的 .docx 文件和许多其他文件类型。

我目前的代码是这样的。基本上，我真的只是打开文件，用 mcrypt/AES 搅拌数据，然后将其写入服务器/让用户下载它。

上传后编码：

```
// using codeigniter's encryption library, which uses mcrypt and the AES cypher
$this->load->library('encrypt');
$pathandname = $config['upload_path'].$output['content'][$a]['file_name']; 
$theFile = file_get_contents($pathandname);
$fh = fopen($pathandname,'w');
fwrite($fh,$this->encrypt->encode($theFile));
fclose($fh); 
```

解码和下载：

```
$this->load->library('encrypt');
$pathandname = $filelocation.$results[0]['encryptedfile']; 
$theFile = file_get_contents($pathandname);
$decrypted = $this->encrypt->decode($theFile);
force_download($filename, $decrypted); // a codeigniter function to force download via headers 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-10-27T07:53:24.550

> 如何仅使用 mcrypt 和 php 标准函数加密/解密文件？

好吧，[您不想使用 mcrypt](https://paragonie.com/blog/2015/05/if-you-re-typing-word-mcrypt-into-your-code-you-re-doing-it-wrong)。这些天你想使用钠。

# 使用 Sodium 加密文件（PHP 7.2+、PECL ext/sodium 或 sodium_compat）

您正在寻找的相关 API 是[`crypto_secretstream`](https://download.libsodium.org/doc/secret-key_cryptography/secretstream).

```
const CUSTOM_CHUNK_SIZE = 8192;

/**
 * @ref https://stackoverflow.com/q/11716047
 */
function encryptFile(string $inputFilename, string $outputFilename, string $key): bool
{
    $iFP = fopen($inputFilename, 'rb');
    $oFP = fopen($outputFilename, 'wb');

    [$state, $header] = sodium_crypto_secretstream_xchacha20poly1305_init_push($key);

    fwrite($oFP, $header, 24); // Write the header first:
    $size = fstat($iFP)['size'];
    for ($pos = 0; $pos < $size; $pos += CUSTOM_CHUNK_SIZE) {
        $chunk = fread($iFP, CUSTOM_CHUNK_SIZE);
        $encrypted = sodium_crypto_secretstream_xchacha20poly1305_push($state, $chunk);
        fwrite($oFP, $encrypted, CUSTOM_CHUNK_SIZE + 17);
        sodium_memzero($chunk);
    }

    fclose($iFP);
    fclose($oFP);
    return true;
} 
```

解密看起来像这样：

```
/**
 * @ref https://stackoverflow.com/q/11716047
 */
function decryptFile(string $inputFilename, string $outputFilename, string $key): bool
{
    $iFP = fopen($inputFilename, 'rb');
    $oFP = fopen($outputFilename, 'wb');

    $header = fread($iFP, 24);
    $state = sodium_crypto_secretstream_xchacha20poly1305_init_pull($header, $key);
    $size = fstat($iFP)['size'];
    $readChunkSize = CUSTOM_CHUNK_SIZE + 17;
    for ($pos = 24; $pos < $size; $pos += $readChunkSize) {
        $chunk = fread($iFP, $readChunkSize);
        [$plain, $tag] = sodium_crypto_secretstream_xchacha20poly1305_pull($state, $chunk);
        fwrite($oFP, $plain, CUSTOM_CHUNK_SIZE);
        sodium_memzero($plain);
    }
    fclose($iFP);
    fclose($oFP);
    return true;
} 
```

一起使用这两个函数：

```
$key = random_bytes(32);
encryptFile('input.txt', 'cipher.txt', $key);
decryptFile('cipher.txt', 'decrypt.txt', $key); 
```

# c++ - #define 宏中的特殊字符

> ID：11716049
> 
> 赞同：0
> 
> 时间：2012-07-30T05:55:44.477
> 
> 标签：c++, windows, visual-c++, macros, porting

我是 C++ 新手，面临下面提到的一个简单问题。在 Visual C++ 2008 中，我正在尝试#define 类似的东西

```
#define fromThis*  toThisPtr
#define fromThis   toThisObj 
```

我正在移植一些用linux编写的代码，需要按照winapi进行移植。我得到这样的错误。

```
 error C2008: '*' : unexpected in macro definition
 warning C4005: 'fromThis' : macro redefinition
 see previous definition of 'fromThis' 
```

我需要在预处理期间重新定义 fromThis* 和 fromThis 。#define 宏中的特殊字符是否不允许？我怎样才能解决这个代码？

* * *

EDIT-1：我正在寻找可能的解决方案。我正在尝试将 *fromThis 替换为 'toThisPtr'。一种建议的解决方案是使用 typedef。我喜欢下面的。

```
typedef toThisPtr   fromThis*;
typedef toThisObj   fromThis; 
```

现在有了这个解决方案，我得到的错误是：

错误 C2143：语法错误：缺少“；” 在'*'错误C2059之前：语法错误：';' 错误 C2040：“iovec”：“toThisObj”与“toThisPtr”的间接级别不同

typedef 可以解决这个问题。将 fromThis* 替换为 toThisPtr 的标准方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T05:59:37.027

的[文档](http://msdn.microsoft.com/en-us/library/teas0593.aspx)`#define`说它的第一个参数是一个标识符。标识符只能包含字母、数字和下划线，并且不能以数字开头。

因此，`fromThis*`不是一个有效的标识符，你不能把`#define`它换成别的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T05:59:37.620

也许你只是把它倒过来了

```
#define toThisPtr fromThis*
#define toThisObj fromThis 
```

这定义了两个称为 toThisPtr 和 toThisObj 的宏。否则我很难理解你想要做什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T05:59:46.450

你不能这样做，也不应该这样做。:)

为此，我个人会使用`typedef`s 而不是宏。

```
typedef toThisPtr fromThis*
typedef toThisObj fromThis 
```

然后全部替换。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:08:47.367

您不能在名称中使用 *。请参阅文档的摘录：

> 您可以将任何有效标识符定义为宏，即使它是 C 关键字
> 
> 有效标识符是一个或多个字母、数字或下划线字符 (_) 的序列。空格、标点符号或符号都不能成为标识符的一部分。只有字母、数字和单下划线字符有效。此外，变量标识符总是必须以字母开头。

# java - 在 Eclipse Helios 中使用 C++ 的 Android Cocos2DX

> ID：11716052
> 
> 赞同：1
> 
> 时间：2012-07-30T05:55:58.640
> 
> 标签：java, c++, eclipse, android-ndk, cocos2d-x

我使用 Eclipse Helios 3.6.1 进行 Java 开发。我想在同一个 IDE 中开始 C++ 开发，所以我安装了**Autotools Support For CDT、C/C++ Development Tools、C/C++ Library API Documentation Hover Help plugins**。我现在在我的**HelloWorldScene.h**

文件中包含了**#include“cocos2d.h”** ，当我写下面的语句时，我没有像 coco 一样在我的键盘上按**Ctrl + Space时获得自动完成栏（模板建议）。**可能是什么问题？这可能会帮助您解决我的问题。请[在此处查看](http://i.stack.imgur.com/qmC8a.png)。这是我在单击右键单击项目 -> 索引 -> 搜索未解决的索引后得到的。但我在[这里添加了所有包括检查](http://i.stack.imgur.com/ujvMs.png) **`cocos2d::CCSprite * ccSprite;`

 **. 我认为这会导致 Content Assist 出现问题。在这种情况下我该怎么办？包容似乎是合适的。****

 ***** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T13:39:10.223

你能检查一下你的项目属性中是否包含了 Cocos2d-x headers 文件夹的路径吗？如果没有右键单击您的项目 > 属性 > C/C++ 常规 > 路径和符号 > 包含选项卡 > 添加 > $PATH_TO_YOUR_COCOS2DX/cocos2dx/include 您必须将 $PATH_TO_YOUR_COCOS2DX 替换为下载 cocos2dx 框架的实际绝对路径。

PS：你也应该把你的eclipse升级到Juno，Helios现在有点老了:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T15:45:21.737

抱歉，实际上不要下载 eclipse juno。它带有一个用于发现选项的新工具（天大的笑话），导致很多“类型无法解析”。很多人都对此有疑问，包括我自己，因为您可以在[Eclipse Juno 的“预处理器包括路径、宏等”中看到。CDT 的符号扫描仪](https://stackoverflow.com/questions/11125703/eclipse-junos-preprocessor-include-paths-macros-etc-symbol-scanner-for-cdt)它弄乱了我所有的包含，因此我回到靛蓝。****

# ios - 编写一个使用 Web 服务的 iOS 5.1 应用程序

> ID：11716053
> 
> 赞同：0
> 
> 时间：2012-07-30T05:56:06.147
> 
> 标签：ios, ios5, xcode4, database-connection, xcode4.4

我对 iOS 编程相当陌生，我正在尝试制作一个与服务器通信以从数据库接收信息的 iOS 5.1 应用程序。我按照本教程让服务器从数据库中返回所需的信息： [http ://www.raywenderlich.com/2941/how-to-write-a-simple-phpmysql-web-service-for-an-ios-应用程序](http://www.raywenderlich.com/2941/how-to-write-a-simple-phpmysql-web-service-for-an-ios-app)

但后来我尝试按照同一个人的另一半教程： [http ://www.raywenderlich.com/2965/how-to-write-an-ios-app-that-uses-a-web-服务](http://www.raywenderlich.com/2965/how-to-write-an-ios-app-that-uses-a-web-service)

在这个我们使用 JSON、ASIHTTPRequest 和 MBProgressHUD，但是当我运行它时我得到了很多错误，因为 iOS 5.1 不再支持 ASIHTTPRequest。

谁能在这里指出我正确的方向？我可以向我展示另一个适用于 iOS 5.1 的教程，它会很棒。我已经看过但我找不到任何东西。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:43:13.383

`ASIHTTPRequest`最有可能在您的 iOS 5.1 应用程序中返回错误，因为您使用的是 ARC。 `ASIHTTPRequest`不是用 ARC 编写的，这就是它抛出大量错误的原因。但是有一个简单的解决方法：

1.  在 Xcode 4 的组和文件窗格中，选择列表顶部的项目文件。
2.  向左侧面板选择您的目标。
3.  您现在应该看到在整个程序过程中引用和编译的所有实现 (.m) 文件的列表。
4.  双击实现文件`ASIHTTPRequest`并添加以下链接器标志：`-fno-objc-arc`. 此链接器标志充当旧的非 ARC 文件和基于 ARC 的项目之间的桥梁。

尽管可能会留下残留警告，但此技巧应删除与`ASIHTTPRequest`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-28T22:13:29.327

当我按照相同的教程进行操作时，我遇到了很多错误。并且构建一直失败，直到我relias那是因为不在`libz.1.2.3.dylib`那里。如果您转到构建阶段，请将其从列表中删除并添加`libz.1.2.5.dylib`所有我的工作，然后我让应用程序完全运行:)

# php - 无法通过php发送邮件

> ID：11716054
> 
> 赞同：2
> 
> 时间：2012-07-30T05:56:08.900
> 
> 标签：php

我有一个表单，用户输入消息，消息被发送到另一端的收件人。我已经多次尝试这个脚本，浏览了教程，但我似乎无法找到问题所在。有任何想法吗？

HTML 表单：

```
 <form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>" >
       <?php 
        if(isset($sent))
                 echo 'Your message has been sent. '; ?>
      <label for="Name">Name</label><br />                  
      <input type="text" class="textbox" size="35" id="Name" name="Name" <?php if(isset($name)) echo "value=\"$name\"";?> /><br />
      <label for="Service">Service</label><br />
      <input type="text" size="35" class="textbox" id="Service" name="Service" <?php  if(isset($subject)) echo"value=\"$subject\"";?> /><br />
      <label for="Email">Email</label><br />
      <input type="text" size="35" class="textbox" id="Email" name="Email" <?php if(isset($from)) echo"value=\"$from\""; ?> /><br />     
      <label for="message">Message</label><br />
      <textarea rows="95" cols="100" id="message" name="message"><?php if(isset($message)) echo"$message"; ?></textarea><br />
      <button type="submit">Send Message</button>               
</form> 
```

PHP：

```
if(isset($_POST['Name']) && isset($_POST['Email']) && isset($_POST['Service']) && isset($_POST['message'])) {
    $name = $_POST['Name'];
    $from = $_POST['Email'];
    $subject = $_POST['Service'];
    $to = "emailtestertora@gmail.com";
    $message = $_POST['message'];
    mysql_query("INSERT INTO `Contact`(`Name`, `Email`, `Message`, `Service`) VALUES('$name', '$from', '$message', '$subject')");
    $headers = "From:".$from;
    if(mail($to,$subject,$message,$headers)) 
        $msgsent = true;
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T06:29:55.220

（道歉，因为这应该作为评论，但它会更容易在文本框中布局）

首先，使用以下代码进行调试：

```
<?php

error_reporting(E_ALL);
ini_set('display_errors', 'on');

if (mail('emailtestertora@gmail.com', 'test', 'test')) {
    echo 'Mail Sent';
} else {
    echo 'Mail Failed';
}

?> 
```

此脚本将在发送电子邮件时为您提供有助于调试的错误消息。

* * *

但是，此评论的重要部分是上面的电子邮件脚本对垃圾邮件（以及 SQL 注入）开放。我**强烈建议**您使用其中一个可用的函数/类来帮助您消除邮件脚本中的安全漏洞。

如果您决定自己动手，那就太好了，但是在将此脚本放在服务器上之前，请先阅读有关电子邮件垃圾邮件标头注入的信息。当垃圾邮件发送者发现这样的开放脚本时，他们可以非常迅速地发送数千封电子邮件，他们会定期自动测试，因此您必须加以制止。

（并阅读有关 PHP 数据库对象 - PDO - 同时保存 MySQL 注入。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T05:59:49.067

1.  您的服务提供商可能会阻止您的邮件。

2.  如果您在专用服务器中，您可能需要配置邮件服务器

谢谢

斯雷拉杰

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:32:12.123

使用此方法这是一个`php`不需要任何`smpt`连接的电子邮件脚本

```
<?php
$to = "someone@example.com";
$subject = "Test mail";
$message = "Hello! This is a simple email message.";
$from = "someonelse@example.com";
$headers = "From:" . $from;
mail($to,$subject,$message,$headers);
echo "Mail Sent.";
?> 
```

# php - 在 Drupal 7 中为视图实现寻呼机

> ID：11716058
> 
> 赞同：0
> 
> 时间：2012-07-30T05:56:36.547
> 
> 标签：php, drupal-7, pagination, drupal-views

我是 Drupal 的新手。我必须在 Drupal-7 中实现一个寻呼机以获取视图。我已阅读 `themer_pager_next() and theme_pager_previous()` 但我无法使用这些功能。请告诉我如何使用这些功能。我必须实现`<< Next || Prev >>`寻呼机。请告诉我必须在哪个文件中实现分页功能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T06:28:57.187

这是视图中寻呼机的标记

```
<div class="item-list">
    <ul class="pager">
    <li class="pager-previous first">&nbsp;</li>
    <li class="pager-current">1 of 4</li>
    <li class="pager-next last"><a href="url">››&lt;/a></li>
    </ul>
</div> 
```

您可以将 css 添加到主题的 style.css
或使用 theme_* 函数，请查看下面的链接

*   [D7 覆盖主题寻呼机](https://drupal.stackexchange.com/questions/9825/in-drupal-7-how-to-override-theme-pager)
*   [在 D7 中自定义视图寻呼机](http://www.cyber-sundae.com/create-custom-pager-view-drupal-7-howto)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-27T08:45:33.710

您可以编写自定义视图分页器，但是[Views Simple Pager](http://www.drupal.org/project/views_simple_pager)模块将为您完成此操作。

# selenium - Selenium IDE如何使选择选项在单击时可见

> ID：11716063
> 
> 赞同：0
> 
> 时间：2012-07-30T05:57:41.867
> 
> 标签：selenium, selenium-ide

我有一个下拉菜单，上面设置了点击事件。当用户单击时，某些选项会变灰（禁用），因此用户应该无法选择它们。

可以通过 Selenium IDE 来模拟这个过程，即

*   a) 调用点击事件，它应该显示选项[需要视觉显示]

*   b）我运行一些测试（禁用/启用）选项

*   c) 选择一个可选选项

    这里需要的是下拉选项应该是可见的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T18:39:25.400

您可以使用以下内容展开下拉列表：

```
Command: getEval
Target: window.document.getElementById('your_dropdown_id').size = window.document.getElementById('your_dropdown_id').length
Value: 
```

这将设置下拉菜单的大小，以便可以看到所有选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T18:56:42.847

您可能还想考虑安装浏览器插件，以帮助您查看正在测试的站点上的 JS 事件处理程序的细节。一个不错的是视觉事件： [http ://www.sprymedia.co.uk/article/Visual+Event](http://www.sprymedia.co.uk/article/Visual+Event)

这将让您确切地看到处理程序在哪个元素上，是否需要鼠标向上或鼠标向下或按键等。

# actionscript-3 - 将horizo ntalscrollpolicy设置为auto后如何确定vbox是否有滚动条？

> ID：11716073
> 
> 赞同：0
> 
> 时间：2012-07-30T05:58:29.450
> 
> 标签：actionscript-3, apache-flex, flex3, actionscript-2

在下面的代码中，当我的 hbox 的宽度超过 vbox 滚动条时出现，但填充底部是 disaaper 所以我想确定 vbox 是否有 hscrollbar。我应该检查 vbo 的哪个属性或方法来确定？

![在此处输入图像描述](../Images/e7841b042ba5ecb4cc02e903da141782.png)

![在此处输入图像描述](../Images/173c7cbe2a272013d99811217cfabae7.png)

我想要图 2 中的相同填充，如图 1 所示

```
<?xml version="1.0" encoding="utf-8"?>
    <mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"  layout="vertical"
            verticalAlign="middle"
            backgroundColor="white">

        <mx:Script>
            <![CDATA[
                private function updateScrollPosition():void {
                    vSP.text = vBox.verticalScrollPosition.toString();
                    mVSP.text = vBox.maxVerticalScrollPosition.toString();
                }
            ]]>
        </mx:Script>

        <mx:Style>
            VBox {
                paddingLeft: 10;
                paddingRight: 10;
                paddingTop: 10;
                paddingBottom: 10;
            }
        </mx:Style>

        <mx:ApplicationControlBar dock="true">
            <mx:Form>
                <mx:FormItem label="verticalScrollPolicy:">
                    <mx:ComboBox id="comboBox">
                        <mx:dataProvider>
                            <mx:Array>
                                <mx:Object label="auto" />
                                <mx:Object label="on" />
                                <mx:Object label="off" />
                            </mx:Array>
                        </mx:dataProvider>
                    </mx:ComboBox>
                </mx:FormItem>
                <mx:FormItem label="height:">
                    <mx:HSlider id="slider"
                            minimum="50"
                            maximum="300"
                            value="50"
                            liveDragging="true"
                            snapInterval="1"
                            tickInterval="50" />
                </mx:FormItem>
                <mx:FormItem label="verticalScrollPosition:">
                    <mx:Label id="vSP" />
                </mx:FormItem>
                <mx:FormItem label="maxVerticalScrollPosition:">
                    <mx:Label id="mVSP" />
                </mx:FormItem>
            </mx:Form>
        </mx:ApplicationControlBar>

        <mx:VBox id="vBox"
                horizontalScrollPolicy="{comboBox.selectedItem.label}"
                backgroundColor="haloSilver"
                verticalAlign="middle" horizontalAlign="center" 
               height="50"
               width="200"
               paddingLeft="10" paddingRight="10" paddingBottom="10" paddingTop="10"
                updateComplete="updateScrollPosition();"
                creationComplete="updateScrollPosition();">
            <mx:HBox id="box"
                    backgroundColor="haloBlue"
                    width="{slider.value}"
                    height="100%" verticalAlign="middle" horizontalAlign="center"
                  >

                <mx:VBox height="12" width="12" borderStyle="solid" backgroundColor="red"/>
                <mx:Label fontSize="13" text="Label 13"/>

            </mx:HBox>
        </mx:VBox>

    </mx:Application> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T08:56:14.983

我认为这可以通过访问 VBox'/HBox' "verticalScrollBar" 或 "horizo​​ntalScrollBar" 实例并检查它们的 "visible" 属性来实现：

```
var scrollbarVisible:Boolean = myVBox.verticalScrollBar.visible; 
```

# scala - 将 Option[Any] 转换为 int

> ID：11716081
> 
> 赞同：27
> 
> 时间：2012-07-30T05:59:18.240
> 
> 标签：scala

我如何将其转换为 Int 而不是`Some(Int)`

```
val a: Option[Any] = Some(1) 
```

我试过`toInt`了，它给出了一个错误`value toInt is not a member of Option[Any]`

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-07-30T06:10:06.070

你可以这样做，`a.get.asInstanceOf[Int]`但它是不安全的。更好的方法是保留类型信息，即使用 a`Option[Int]`而不是`Option[Any]`. 那么你就不需要用`asInstanceOf`.

```
val a:Option[Int] = Some(1)
val i = a.get 
```

直接使用`get`是不安全的，因为如果`Option`是`None`，则会引发异常。所以使用`getOrElse`更安全。或者您可以使用模式匹配`a`来获取值。

```
val a:Option[Any] = Some(1) // Note using Any here
val i = (a match {
  case Some(x:Int) => x // this extracts the value in a as an Int
  case _ => Int.MinValue
}) 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-07-30T06:06:39.220

使用`.asInstanceOf`方法

```
a.getOrElse(0).asInstanceOf[Int] 
```

我必须注意这是*不安全*的强制转换：如果您的 Option 不包含 Int，您将获得运行时异常。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-30T06:53:23.500

你不能施放它的原因是因为你不应该施放。虽然静态类型编程语言允许您在一种类型和另一种类型之间手动转换，但我能给您的最好建议是忘记这些特性。

特别是，如果您想充分利用每种编程语言，请尝试创建合适的用户，如果一种语言不适合您想要的用途，只需选择另一种（例如动态类型的语言）：

> 如果您进行强制转换，您会将潜在的编译时错误（我们喜欢因为它很容易解决）转变为 ClassCastException，而我们不喜欢它，因为它发生在运行时。如果您需要在 Scala 中使用强制转换，很可能您使用了不正确的模式。

# cobol - 我的任务是从第一个文件中读取一条记录并从第二个文件中检查相应的记录并显示它

> ID：11716089
> 
> 赞同：0
> 
> 时间：2012-07-30T06:00:10.363
> 
> 标签：cobol

我的任务是从第一个文件中读取一条记录，并从第二个文件中检查相应的记录并显示它。这是我的代码：

```
PERFORM READ-PARA1 THRU END-PARA UNTIL WS-END-OF-FILE.   
    PERFORM READ-PARA2 THRU END-PARA UNTIL WS-END-OF-FILE.   
    CLOSE FILEX.                                             
    CLOSE FILEY.                                             
    STOP RUN.                                                
READ-PARA1\.                                                  
    READ FILEX                                               
      AT END                                                 
         MOVE 'Y' TO WS-EOF-IND.                             
      DISPLAY SPACE                                          
      DISPLAY OCODE1,'    'ACODE1,'    'POLNO1,' 'EDATE1,    
              ' 'PHOLD1,' 'LOCATION1,' '.                    
READ-PARA2\.                                                  
    READ FILEY                                               
     READ FILEY                                                   
       AT END                                                     
          PERFORM READ-PARA3 UNTIL R1 = 4\.                        
   IF POLNO1 = POLNO2                                             
      DISPLAY '                                                ', 
              LICNO1,' 'VMAKE1,' 'VMODEL,' 'YEAR,' 'PREM          
   ELSE                                                           
      READ FILEY NEXT RECORD                                      
      GO TO READ-PARA2\.                                           
 END-PARA.                                                        
       EXIT.                                                      
 READ-PARA3\.                                                      
      CLOSE FILEY.                                                
      OPEN INPUT FILEY.                                           
      READ FILEY                                                  
        AT END                                                    
           MOVE 'Y' TO WS-EOF-IND.                                
   ADD 1 TO R1\.                                                   
   IF POLNO1 = POLNO2                                             
      DISPLAY '                                                ', 
   DISPLAY '                                                ', 
           LICNO1,' 'VMAKE1,' 'VMODEL,' 'YEAR,' 'PREM          
ELSE                                                           
   READ FILEY NEXT RECORD                                      
   GO TO READ-PARA3. 
```

此代码仅用于查找文件 1 的第一条记录的相应记录，但其余所有显示为空白，并且都是顺序文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T13:36:55.297

我真的不知道该说什么，除非尝试使用最新的编码实践重新编写程序 - 您当前的代码是 COBOL-85 前后编码风格的混合，因此很难遵循。尝试根据以下目标重写。

1.  不要使用`PERFORM THRU`. `PERFORM`很好，该`THRU`位是 COBOL-85 之前的回归，不应再使用。如果您需要在循环中执行多个段落/部分，请尝试以下操作：

    ```
          执行直到某些条件
              执行 A 段
              PEROFMR PARA-B
          最终执行

    ```

2.  `END-IF`使用显式范围终止符，例如`END-PERFORM`等。
3.  切勿使用句点 (.) 作为条件语句终止符。句号应该（必须）出现的唯一位置是分隔段落/部分的结尾。
4.  不要使用`GO TO`. 很少有地方需要使用`GO TO`。在这种规模/复杂性的程序中，永远不应该使用它。
5.  摆脱仅包含`EXIT`. 正确使用作用域终止符时（参见第 1 点和第 2 点）。`EXIT`不再需要。
6.  您还没有使用它，但以防万一，请不要使用`NEXT SENTENCE`. 这也是 COBOL-85 之前的回归，在技术上已经过时。

如果您设法按照上述指南重新编写，您可能会发现您的问题更容易发现和修复。再试一次。我认为第二次尝试可能会更好。

# php - php中星期天的记录

> ID：11716096
> 
> 赞同：0
> 
> 时间：2012-07-30T06:00:39.307
> 
> 标签：php, mysql

我必须显示员工周六和周日的记录。我如何使用 php 来做到这一点。

```
while($row=mysql_fetch_row($res))
    { 
        list($name, $crd,$indate,$in,$out,$t) = $row;   
        $row[3] = date("g:i A", $in);
        $row[4] = date("g:i A" ,$out);
        $d3 = date("d-m-Y (D)", $in);
            $bg = '';
            if(date('D', $in) == 'Sun' || date('D', $in) == 'Sat')
                $bg = 'bgcolor=#EEEEEE';
                else 
                $bg = 'bgcolor= #ECE5B6';
                if ($ddate != $row[2] && $row[2] != null)
                {   
                    echo "<tr $bg><td colspan=4>Date: ".$d3."</td></tr>";
                    $ddate = $row[2];
                }
                else if($row[2]==null)
                {
                    $bg = 'bgcolor=#EEEEEE';
                    echo "<tr $bg><td colspan=4>Date: ".$from."</td></tr>";
                }

                if ($row[2] != null)
                {
                    echo "<tr>";
                    echo "<td align=left width='35%'>".trim($name)."</td>";
                    echo "<td align=center width='20%' >".$row[3]."</td>";
                    echo "<td align=center  width='23%' >".$row[4]."</td>";
                    echo "<td align=center width='16%'>".$t."</td>";
                    echo "</tr>";
                }

                else
                {
                    echo "<tr>";
                    echo "<td align=left width='35%'>".trim($name)."</td>";
                    echo "<td align=center width='20%' >Null</td>";
                    echo "<td align=center  width='23%' >Null</td>";
                    echo "<td align=center width='16%'>".$t."</td>";
                    echo "</tr>";
                }

            } 
```

现在这个问题是星期天所有记录都显示没有日期。

mysql是

```
SELECT mstEmp.empname, mstEmp.cardno, InDate, 
dailyattendance.InTime,dailyattendance.OutTime, mstEmp.teamtype 
FROM mstEmp 
LEFT JOIN dailyattendance
 ON (dailyattendance.HolderName = mstEmp.empname )  
 AND (InDate BETWEEN '$from' AND '$to') 
 WHERE (mstEmp.teamtype = '$chk') 
order by InDate DESC 
```

我有这个代码调用上面的代码

```
$sFrom = toYYYYMMDD($frm);
$sTo = toYYYYMMDD($t) . " 23:59:59";
while (strtotime($sFrom) <= strtotime($sTo)) 
{   
        setvalue($checkbox,$sFrom,$sFrom);
        $sFrom = date ("Y-m-d", strtotime("+1 day", strtotime($sFrom)));
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:03:48.727

您应该将 DATE 条件放在 WHERE 子句中

```
SELECT mstEmp.empname, mstEmp.cardno, InDate,  
dailyattendance.InTime,dailyattendance.OutTime, mstEmp.teamtype  
FROM mstEmp  
LEFT JOIN dailyattendance 
 ON (dailyattendance.HolderName = mstEmp.empname )   
 WHERE (mstEmp.teamtype = '$chk')  AND (InDate BETWEEN '$from' AND '$to')  
order by InDate DESC 
```

# ios - 通过使用 heatma.ps 获取地图视图的坐标集，在地图视图上显示热图

> ID：11716097
> 
> 赞同：0
> 
> 时间：2012-07-30T06:00:45.663
> 
> 标签：ios, mkmapview, mkannotation, heatmap

在我的 iOS 应用程序中，我有一个地图视图，并通过一组坐标显示了一些注释。现在，我想显示这些坐标集的热图。我安装了 heatma.ps 来显示热图。但我不知道如何使用这个框架来显示热图。请告诉我如何使用 heatma.ps 显示热图.....

提前致谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:15:54.957

Heatma.ps 是一个分析工具。您不能使用它来获取基于坐标的热图。

Heatma.ps 收集用户触摸并生成触摸热图，以便您了解用户最常触摸屏幕的哪些区域。

要做你想做的事，你必须自己实现热图。

# asp.net-mvc-3 - mvc 3中的模型绑定

> ID：11716098
> 
> 赞同：-3
> 
> 时间：2012-07-30T06:00:54.763
> 
> 标签：asp.net-mvc-3, binding, model

我有一个这样的模型：

```
public Products()
{
  string name {get; set;}
  string category { get; set;}
} 
```

我试图在操作方法中创建一个对象，或者作为参数传递给该方法并使用该对象通过将该对象传递给视图方法来创建视图。我期待框架能够创建一个合适的视图来展示产品。这是正确的方法吗？我有一种感觉，我在两者之间严重遗漏了一些东西，但无法弄清楚。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:09:55.513

直接来自 MSDN：http: [//msdn.microsoft.com/en-us/library/dd410405.aspx](http://msdn.microsoft.com/en-us/library/dd410405.aspx)

主要思想是模型绑定在 asp.net mvc 中自动完成。您只需要将模型传递给 get 方法的视图，并在 post 方法中将模型作为参数检索，如下所示：

```
 [HttpGet]
    public ViewResult MyProducts()
    {
        Products model = new Products()
        return View(model);
    }

    [HttpPost]
    public ViewResult MyProducts(Products model)
    {
     // model.name contains the value from the view
     // model.category contains the value from the view.
    } 
```

并且在视图中，您必须在顶部`@model Products`并输入如下字段：`@Html.EditorFor(m=>m.name)`和`@Html.EditorFor(m=>m.category)`

说实话。您没有搜索网络。

# extjs - 如何在 Extjs4 中引入 Arrow

> ID：11716103
> 
> 赞同：0
> 
> 时间：2012-07-30T06:01:53.353
> 
> 标签：extjs, extjs4

我必须在面板中绘制两个组件（2 个圆圈），我必须使用箭头（`---->`， ）连接这 2 个绘制组件（2 个圆圈） `<----`，我不知道在 Extjs4 中该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T11:14:52.137

检查文档中的[绘图和图表](http://docs.sencha.com/ext-js/4-1/#!/guide/drawing_and_charting)教程。

# opencv - OpenCV：哪种技术可以将调整大小的图像中的点投影回原始图像大小？

> ID：11716105
> 
> 赞同：1
> 
> 时间：2012-07-30T06:01:56.850
> 
> 标签：opencv, resize

我使用 OpenCV 的“GoodFeatureToTrack”来查找特征并在第二张图像上追踪它们。

为了加快这个过程，我使用双线性插值将图像缩小 4 倍，比如说从 4000x2000 到 1000x500。

KLT 与调整大小的图像上的点完美匹配。但我想在原始图像大小中有点位置。

我尝试将我在调整大小的图像上得到的特征位置乘以 4（到原始大小的图像）。在我看来，相乘后，调整大小的图像上的相应特征在原始图像大小中不再对应。

我需要插值（？）还是将调整大小的图像中的点投影回原始图像大小？以便调整大小的图像中的相应特征仍然与原始图像大小匹配。

非常感谢你。

请原谅我的英语不好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T06:33:29.120

缩小尺寸将导致精度损失。但是，通常这种损失很小，以至于无法检测到。如果您的点远离其正确位置，则可能是乘法步骤错误。

你在那里写的公式是正确的，即

```
pointInBigImage = scale*pointInSmallImage 
```

在您的情况下，比例为 4。

您应该打印两个图像中的点，并并排显示它们。然后，直观地比较两个图像中的位置。这样，您将看到它是错误还是精度损失。

最后，为了提高精度，您可以使用cornerSubpix——这是OpenCV中的一个函数，它以亚像素精度提取角的位置——所以当你将它们乘回到原始图像时，精度应该会更好

# php - 组函数的无效使用

> ID：11716106
> 
> 赞同：0
> 
> 时间：2012-07-30T06:01:58.037
> 
> 标签：php, mysql

是什么导致了这个错误？：

> 组函数的无效使用

这是导致错误的sql代码：

```
$sql_data = "UPDATE `database1`.`users` SET `balance` = MIN(`balance` + 5) 
WHERE ('" . $session->value('user_id') . "') "; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:05:24.993

聚合函数需要由`GROUP BY`子句引起的聚合。没有一个，查询无效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:05:42.627

试试这个

```
$sql_data = "UPDATE `database1`.`users` SET `balance` = MIN(`balance`) + 5  
WHERE ('" . $session->value('user_id') . "') " 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:06:35.230

在不知道错误是什么的情况下，我假设它源于`MIN(balance + 5)`. 我想你的意思是`MIN(balance) + 5`- MIN 应该只取一个列名，而不是一个算术表达式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:08:22.733

我认为这就是你要找的：

```
UPDATE database1.users a
    INNER JOIN
        (SELECT id, MIN(balance)
         FROM database1.users
         WHERE user_id= ('" . $session->value('user_id') . "')
         GROUP BY id
        ) b
        ON a.id = b.id
WHERE user_id = ('" . $session->value('user_id') . "'); 
```

# python - Mac OS-X Mountain Lion 上的 GCC-4.2 错误，无法使用 pip / virtualenv 安装某些软件包

> ID：11716107
> 
> 赞同：11
> 
> 时间：2012-07-30T06:02:06.337
> 
> 标签：python, macos, gcc, pip, osx-mountain-lion

我看到一个非常烦人的错误，我真的不知道如何处理。这似乎很常见，我尝试了几乎所有我能找到的解决方案，但都无济于事。

我正在尝试使用 pip 安装库。使用 gevent、使用 psycopg2 和使用 greenlet 时遇到了这个问题。问题似乎是我的计算机找不到应该提供 XCode 4 的特定 C 编译器：gcc-4.2。这是一个示例（尽管也在 virtualenv 中进行了尝试）。

```
Last login: Sun Jul 29 23:35:54 on ttys000
*******s-MacBook-Pro:~ ******$ pip install gevent
Downloading/unpacking gevent
  Downloading gevent-0.13.7.tar.gz (288Kb): 288Kb downloaded
  Running setup.py egg_info for package gevent

Downloading/unpacking greenlet (from gevent)
  Downloading greenlet-0.4.0.zip (72Kb): 72Kb downloaded
  Running setup.py egg_info for package greenlet

Installing collected packages: gevent, greenlet
  Running setup.py install for gevent
    building 'gevent.core' extension
    gcc-4.2 -fno-strict-aliasing -fno-common -dynamic -isysroot /Developer/SDKs/MacOSX10.6.sdk -arch i386 -arch x86_64 -g -O2 -DNDEBUG -g -O3 -I/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c gevent/core.c -o build/temp.macosx-10.6-intel-2.7/gevent/core.o
In file included from /Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/unicodeobject.h:4,
                 from /Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/Python.h:85,
                 from gevent/core.c:4:
/Developer/SDKs/MacOSX10.6.sdk/usr/include/stdarg.h:4:25: error: stdarg.h: No such file or directory
In file included from gevent/core.c:225:
gevent/libevent.h:9:19: error: event.h: No such file or directory
gevent/libevent.h:38:20: error: evhttp.h: No such file or directory
gevent/libevent.h:39:19: error: evdns.h: No such file or directory
gevent/core.c:361: error: field ‘ev’ has incomplete type
gevent/core.c:741: warning: parameter names (without types) in function declaration

....more like this but i'll skip it for now....

copying gevent/wsgi.py -> build/lib.macosx-10.6-intel-2.7/gevent

running build_ext

building 'gevent.core' extension

creating build/temp.macosx-10.6-intel-2.7

creating build/temp.macosx-10.6-intel-2.7/gevent

gcc-4.2 -fno-strict-aliasing -fno-common -dynamic -isysroot /Developer/SDKs/MacOSX10.6.sdk -arch i386 -arch x86_64 -g -O2 -DNDEBUG -g -O3 -I/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c    gevent/core.c -o build/temp.macosx-10.6-intel-2.7/gevent/core.o

In file included from /Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/unicodeobject.h:4,

             from /Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/Python.h:85,

             from gevent/core.c:4:

/Developer/SDKs/MacOSX10.6.sdk/usr/include/stdarg.h:4:25: error: stdarg.h: No such file or directory

In file included from gevent/core.c:225:

gevent/libevent.h:9:19: error: event.h: No such file or directory

gevent/libevent.h:38:20: error: evhttp.h: No such file or directory

gevent/libevent.h:39:19: error: evdns.h: No such file or directory

....more like this as well....

gevent/core.c:15559: warning: assignment makes pointer from integer without a cast

gevent/core.c: At top level:

gevent/core.c:21272: error: expected ‘)’ before ‘val’

lipo: can't figure out the architecture type of:    /var/folders/xc/f2mg5kn96kqdr3tj19pgyhs00000gn/T//cckLxkJ2.out

error: command 'gcc-4.2' failed with exit status 1

Command /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c        "import setuptools;__file__='/Users/******/build/gevent/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record   /var/folders/xc/f2mg5kn96kqdr3tj19pgyhs00000gn/T/pip-yA5oWR-record/install-record.txt failed with error code 1 in /Users/******/build/gevent
Storing complete log in /Users/******/.pip/pip.log
***********s-MacBook-Pro:~ ******$ 
```

你可能会问的事情：

1）您是否尝试过使用virtualenv？

是的。我试图符号链接一个预先存在的 gcc（它存在于 /usr/bin/ 目录中），如下所示：

```
ln -s /usr/bin/gcc gcc-4.2
ln -s /usr/bin/gcc-4.2 gcc-4.2
ln -s /usr/bin/gcc gcc 
```

这些都没有奏效。

2）您是否尝试重新安装 XCode？

是的。

3) 您是否安装了 XCode 命令行工具？

是的。

4）你确定你有gcc吗？

```
**********s-MacBook-Pro:~ sanjay$ gcc
i686-apple-darwin11-llvm-gcc-4.2: no input files 
```

5) Python 安装？

```
************s-MacBook-Pro:~ ******$ python
Python 2.7.3 (v2.7.3:70274d53c1dd, Apr  9 2012, 20:52:43) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type "help", "copyright", "credits" or "license" for more information. 
```

关于可能出了什么问题以及如何解决的任何想法？

我也试过安装这个：[https](https://github.com/kennethreitz/osx-gcc-installer) ://github.com/kennethreitz/osx-gcc-installer 。我不知道还能尝试什么。在涉及到这个 unix-y 编码/安装的东西时，我是一个新手，所以如果有什么我做的很糟糕，请指出来。

谢谢！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-03T13:03:09.687

pycrypto install 无法在 virtualenv 中编译的同样问题。通过海报 jiaaro 在此线程中找到解决方案： [https ://gist.github.com/3179227#gistcomment-379913](https://gist.github.com/3179227#gistcomment-379913)

> 您需要安装 Xcode 4.4（来自应用商店），然后在 xcode 中打开 Xcode > Preferences（或按 Cmd + ,），然后打开下载选项卡并安装命令行工具。

在 Mac OSx Mountain Lion 10.8 上，我使用命令行工具安装了 xCode 4.3。我对 xCode 4.4 进行了更新，但仍然无法正常工作。Xcode 显然不会自动下载新的命令行工具，即使你已经安装了它们。正如 jiaaro 的帖子所述，您必须再次明确下载命令行工具。

当前版本的 gcc 在下面，并且为我在 virtualenv 中成功 sudo pip install packages 而无需符号链接。

> 海合会
> 
> i686-apple-darwin11-llvm-gcc-4.2

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-29T20:55:52.507

设置这个环境变量为我做了这件事，而不需要弄乱 Xcode 或它的下载。

```
ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-14T22:54:46.867

当我遇到类似问题时，这对我有用。

[http://www.computersnyou.com/2025/2013/06/install-command-line-tools-in-osx-10-9-mavericks-how-to/](http://www.computersnyou.com/2025/2013/06/install-command-line-tools-in-osx-10-9-mavericks-how-to/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-31T20:42:05.580

不确定这是否有帮助，但也许值得一试：

[https://gist.github.com/3179227](https://gist.github.com/3179227)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-03T02:22:44.857

所以我自己解决了这个问题，但我有点生活在狂野的西部，我现在在那里修复问题，并担心当事情破裂时正确的做法。我刚刚创建了一个符号链接，以便 stdargs.h 位于一个合理的位置，在请求时可以看到它。

```
sudo ln -s /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk/System/Library/Frameworks/Kernel.framework/Versions/A/Headers/stdarg.h /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk/usr/include/stdarg.h 
```

您可能必须将“MacOSX10.8.sdk”更改为您当前使用的那个。满怀希望

# c - char指针和指向char的指针之间的区别？

> ID：11716108
> 
> 赞同：1
> 
> 时间：2012-07-30T06:02:12.940
> 
> 标签：c, pointers

我想知道 char 指针和指向 char 的指针之间的区别..？他们是一样的吗？如果没有，有什么区别？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T06:06:03.367

我认为“指向字符的指针”和“字符指针”之间没有区别。

```
char *p; 
```

两者只是指定类型指针的不同方式`char`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T06:10:21.247

如果你用示例代码来支持这个问题，这个问题可能会更有意义。就我而言，它们的意思是一样的，但我只想到“char 指针”。

我想你可能的意思是这样的：

```
char c = 'A';
char *pc = &c;            // <-- "pointer to char"?
char *p = new char [50];  // <-- "char pointer"? 
```

其实`pc`和`p`上面都是char指针。它们都可以用作数组，尽管处理除第零个元素之外的任何内容`pc`都会导致问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-30T14:25:11.080

当您替换为时会出现`char`混乱`double`。人们通俗地使用*双指针*来表示*指向某种类型的*指针，而不是*指向双精度类型*的指针。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-30T06:10:16.550

char 指针和指向 char 的指针之间没有区别。两者都是一样的。通常，文本字符串在 C 中由字符数组表示。由于数组可以很容易地被指针操作，所以它经常被使用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-30T06:09:34.840

`char pointer`并且`pointer to a char`是相同的，即`char *ptr;`

但是，如果您的意思是指向 char*数组*的指针，那么它们是不同的。

指向 char 数组的指针被声明为`char (*ptr)[n]`存储大小为 n 的 char 数组的地址。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-30T06:09:23.287

没有区别。它们只是以不同的方式编写。

# xcode - 我对 xcode-select -switch 使用什么设置？

> ID：11716110
> 
> 赞同：5
> 
> 时间：2012-07-30T06:02:22.747
> 
> 标签：xcode, osx-mountain-lion

我正在尝试通过以下方式在macos山狮上安装八度：

```
sudo port install octave 
```

但是，此命令的结果始终如下：

```
Error: 
Error: No valid Xcode installation is properly selected.
Error: Please use xcode-select to select an Xcode installation:
Error:     sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer # version 4.4
Error: 
```

我试过建议的`sudo xcode-select -switch`命令无济于事。总是发生同样的错误。任何想法如何解决这个问题？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-30T20:32:12.367

你安装了 xcode 还是只安装了命令行工具？

我只安装了命令行工具，并且能够通过使用以下命令来欺骗一些 GEMS：

```
sudo xcode-select -switch /usr/bin 
```

我基本上将它们指向我的 GCC 所在的 bin 文件夹。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-05T12:16:04.260

```
sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer 
```

为我解决了

# php - 如何将活动类添加到 Joomla K2 内容模块

> ID：11716111
> 
> 赞同：1
> 
> 时间：2012-07-30T06:02:25.243
> 
> 标签：php, joomla2.5, joomla-k2

我正在尝试将一个类添加到`<li>`Joomla K2 内容模块中的活动中，以制作动态创建的菜单。到目前为止，我得到了：

```
<li class="<?php if ($item->id == $active_id) echo 'active';?> hello"> 
```

我在那里打了个招呼，以检查模板覆盖是否正常工作，是的。

我显然不了解 php，我认为这对于了解 Joomla K2 和 php 的人来说是一个简单的问题？;)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T14:13:31.777

我遇到了同样的问题并想出了这个解决方案（Joomla 3.0.3 & K2 2.6.5）

```
 <li class="<?php

    $active_sub = substr(($app->input->getCmd('task', '')), 0, 3);

    if ($item->id == $active_sub) echo 'active';
                                                   ?>" > 
```

'task' 在主 index.php 中定义，并返回子菜单 itemid 以及菜单项名称，使用 substr 获取与 K2 模块中的 $item->id 对应的前 3 个字符。此解决方案将一直有效，直到您在模块中获得超过 999 个菜单项。

我也不是 PHP 专家，但这适用于我的模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-14T06:20:17.423

上面的代码在 Joomla 3.4.1 和 K2 2.6.8 中对我不起作用。这是一个适用于任何版本（J1.5/J2.5/3.0 和任何版本的 K2）的解决方案。

```
<li class="<?php        
        $active_sub = intval(JRequest::getCmd('id'));

        if ($item->id == $active_sub) echo 'active';
        ?>"> 
```

# java - 就地运行长度编码链表（Java）

> ID：11716113
> 
> 赞同：0
> 
> 时间：2012-07-30T06:02:30.117
> 
> 标签：java, linked-list, run-length-encoding

我的 LinkedList 是单一链接的（每个节点都有一个计数 + 下一个引用）。

我需要创建 runlengthencode 方法，该方法采用 LinkedList 并返回列表的运行长度编码版本，而不创建任何新节点 - 即到位。*它恰好在 Java 中*。

我遇到的问题是跟踪代表运行开始的节点，当我沿着它运行时，它将出现在新列表中。**在下面的外部**while 循环中，我应该在哪里添加 rle 节点 ？

目前我有一个名为 CurrRun 的引用和一个来自 CurrRun 的跑步者，而 CurrRun 和 CurrRun.next 的值是相同的。

**当心：此代码已尽可能去除其丑陋的 Java 语法**

```
//instantiated nodes here

currRun = myListHead.next
Node runner = currRun

while (currRun.next != null){

   int count = 1;

   while (runner.value == runner.next.value){
     count++
     runner = runner.next
   //no more runs in current run
   //update currRun count
   currRun.count = count

   //move currRun to next run node
   currRun = runner.next
   }

}
// return the myHead-> currNode1 -> currNode2 -> .... -> null
return myHead 
```

任何指针将不胜感激。

> MOAN：在美国大学校，他们应该教我们这个，但我们只能自己动手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:10:51.417

我不会将结果写回`currRun`. 相反，我会保留指向列表中第 n 个节点的指针，并将第 n 个运行写回该节点。这样，您的新 rle 编码列表将是连续的，您不必担心哪些节点代表运行的开始，哪些不代表运行的开始。

# java - 如何有效地在 SWT/Swing 表中填充数百万条记录

> ID：11716114
> 
> 赞同：0
> 
> 时间：2012-07-30T06:02:35.717
> 
> 标签：java, algorithm, swing, swt

这是一个普遍的问题，但我有一个特殊的场景——我从`<XYZ>`硬件设备通过 JNI 层获取记录，它给了我数百万/大量的记录，并在 SWT 表中处理所有这些记录就像把你的烂摊子弄乱一样，它只是崩溃。

> 因此，为了进行高效编程，我使用了 ScrollBar ，我将 UI 大小用于滚动条，然后填充了很多特定的数据，然后在移动滚动条时再次移动下一组数据，但我意识到它根本不是有效的方式，因为在滚动条的每一次移动中，我都通过 JNI 层调用硬件，这是非常昂贵的方式

所以现在我有一点时间考虑更新逻辑。请给我一些有效的算法。

**不会有任何 Paging Strategy ，只有一个垂直 ScrollBar 直到最后一条记录**

*百万只是一个数字，并不是必须拥有百万条记录。我只想知道一些有效的算法来填充大量记录*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:53:16.753

如果我没记错的话， a 的“问题”之一`JTable`是它遍历整个模型来计算列的大小。因此，即使使用滚动条，它也会在第一次绘制时遍历整个模型（而不仅仅是可视化部分）。

`JXTable`SwingX 允许在列 ( ) 上设置原型值，从而`TableColumnExt#setPrototypeValue`避免此循环。设置此值可以显着缩短表创建时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:59:05.180

我会说您使用某种数据存储来有效地表示您的数据。取决于数据，但可以使用一组自定义对象。然后将其包装到您自己的自定义[TableModel 中](http://docs.oracle.com/javase/7/docs/api/javax/swing/table/TableModel.html)，让 Swing 处理其余的事情。未显示的数据根本不需要任何资源。

# mysql - 通过创建额外的表格在网站中使用 2 种语言的最佳方式

> ID：11716115
> 
> 赞同：0
> 
> 时间：2012-07-30T06:02:39.813
> 
> 标签：mysql, cakephp, internationalization

我使用 cakephp 建立了一个网站。用户可以在 2 种语言（英语和日语）之间切换以访问所有页面。在我的后端数据库中，我想以 2 种语言保存数据客户端 (MySQL)。目前我有两种方法：

方法 1：使用 1 个包含 2 列 field_en 和 field_ja +clients id | 的表 client_name_zh | 客户名称_ja | 其他... 2 | 早上 | 阿莎 | ...

方法2：使用2张表，第二张表将存储2种语言的id和对应名称+clients id | 其他...

+clients_lang [client_id, language_id, client_name]

第 1 行：2 | 1 | 早晨

第 2 行：2 | 2 | 阿莎

注：1 为英文，2 为日文。

哪种方法更适合我的情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T15:15:15.623

先看下面的网址

[http://book.cakephp.org/2.0/en/core-libraries/internationalization-and-localization.html](http://book.cakephp.org/2.0/en/core-libraries/internationalization-and-localization.html)

或者

尝试这个

//国际化你的应用程序

```
<h2><?php echo __('Posts'); ?></h2>

//The default domain is ‘default’, therefore your locale folder would look something like this:

/app/Locale/eng/LC_MESSAGES/default.po (English)
/app/Locale/fre/LC_MESSAGES/default.po (French)
/app/Locale/por/LC_MESSAGES/default.po (Portuguese)

<?php
// App Controller Code.
public function beforeFilter() {
    $locale = Configure::read('Config.language');
    if ($locale && file_exists(VIEWS . $locale . DS . $this->viewPath)) {
        // e.g. use /app/View/fre/Pages/tos.ctp instead of /app/View/Pages/tos.ctp
        $this->viewPath = $locale . DS . $this->viewPath;
    }
} 
```

或者：

```
<?php
// View code
echo $this->element(Configure::read('Config.language') . '/tos'); 
```

//CakePHP 中的本地化

```
<?php
Configure::write('Config.language', 'fre');
?>

<?php
$this->Session->write('Config.language', 'fre');
?>

<?php
class AppController extends Controller {
    public function beforeFilter() {
        Configure::write('Config.language', $this->Session->read('Config.language'));
    }
}
?> 
```

///翻译模型验证错误

```
<?php
class User extends AppModel {

    public $validationDomain = 'validation';

    public $validate = array(
        'username' => array(
                'length' => array(
                'rule' => array('between', 2, 10),
                'message' => 'Username should be between %d and %d characters'
            )
        )
    )
}
?>

//Which will do the following internal call:

<?php
__d('validation', 'Username should be between %d and %d characters', array(2, 10)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T09:56:50.760

如果你只有这两种语言是更好的解决方案之一，如果语言可以更多不是最好的解决方案。

我建议您的方法是使用第二种方法在其他站点中使用相同的代码，您只需插入新语言。

# web-applications - Jetty - 复制已经加载的文件

> ID：11716116
> 
> 赞同：1
> 
> 时间：2012-07-30T06:02:46.603
> 
> 标签：web-applications, maven, plugins, jetty

所以我一直在尝试配置jetty maven插件来运行应用程序。所以这里是前提：

我的应用程序依赖于一个 WAR，基本上我拉那个 WAR 覆盖了一些使用 maven 覆盖特性的库。现在应用程序使用 maven for tomcat/jboss 构建得很好，但这里是转折点。Jetty 构建应用程序，然后再次将该战争提取到某个临时目录中，并在出现异常的情况下再次开始加载相同的东西：

ava.lang.RuntimeException：消息属性文件 URL [jar:file:/C:/my_m2_repo/some.war!/WEB-INF/classes/messages/messages.properties] 复制了已加载的文件 [C:\src\myApp \applications\market\target\tmp\webinf\WEB-INF\classes\messages\messages.properties] - 这是“tmp”文件夹jetty插件另外创建的地方，它解压从本地repo获取的WAR，没有任何覆盖等...

请指教。

使用码头-7.1.6.v20100715

```
 <plugin>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty-maven-plugin</artifactId>
            <configuration>
                <scanIntervalSeconds>10</scanIntervalSeconds>
                <webAppConfig>
                    <jettyEnvXml>jetty-env.xml</jettyEnvXml>
                </webAppConfig>

                <connectors>
                    <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
                        <port>9090</port>
                    </connector>
                </connectors>

                <stopKey>foo</stopKey>
                <stopPort>9999</stopPort>
            </configuration>
            <dependencies>
                <dependency>
                    <groupId>com.oracle</groupId>
                    <artifactId>ojdbc14</artifactId>
                    <version>10.2.0.2.0</version>
                    <type>jar</type>
                </dependency>
            </dependencies>
        </plugin> 
```

我不会传递 jetty-env.xml，因为它是一些 JNDI 参数，它们似乎是合法的。

# iphone - 为 iPad 测试创建 IPA 文件

> ID：11716120
> 
> 赞同：0
> 
> 时间：2012-07-30T06:02:57.230
> 
> 标签：iphone

我需要提供一个 IPA 文件以便在我的客户 i Pad 中进行测试。到目前为止，我已经给了他 3 个 IPA 文件，并且在安装时它们都崩溃了。客户说，当点击应用程序图标时，会出现一个黑屏并立即关闭，将他带回主屏幕。如何创建 IPA 文件。我需要从创建配置文件、创建苹果 id、设置捆绑标识符等明确步骤。我已经浏览了许多论坛和链接，但所有这些似乎都让我感到困惑。我使用 xcode 4.2。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-19T11:48:11.597

当我使用在线服务创建 ipa 文件并且无法按照他们的指示安装它时，这种情况发生在我身上几次。原来我的手机太满了。当我删除了一些我从未使用过的应用程序时，我能够按照指示进行安装。

# python - django cms - /url/ 正在变成 /en/url/，我不知道为什么

> ID：11716121
> 
> 赞同：0
> 
> 时间：2012-07-30T06:03:05.110
> 
> 标签：python, django, url, django-cms

我已经很好地安装了 django cms 并且工作也很好，但是现在正常的 url`/url/`正在变得`/en/url/`正常吗？我不认为是这样，因为我所有的 SEO 工作都依赖于正常的 url 而不是`/en/url/`. 有人可以帮我弄这个吗，

这是我的[settings.py：http://pastebin.com/j7crx54J](http://pastebin.com/j7crx54J)

这是我的[urls.py：http://pastebin.com/s0QgY022](http://pastebin.com/s0QgY022)

我将不胜感激任何帮助！多谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:35:53.880

设置`LANGUAGE_CODE = 'en-us'`必须是“en-us”吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:02:54.317

您是否尝试[删除](https://groups.google.com/forum/?fromgroups#!topic/django-cms/1sfjcOl130Y)[`Multilingual URL Middleware`](http://django-cms.readthedocs.org/en/2.1.3/advanced/i18n.html#multilingual-url-middleware)?

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-15T19:13:46.793

今天遇到完全相同的问题时遇到了这个问题。对我来说，我已经没有多语言中间件，所以很困惑。在上传我的设置文件以打开一个问题的过程中，我注意到**urls.py**文件中的这一行：

```
urlpatterns = i18n_patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^', include('cms.urls')),
) 
```

好吧`i18n_patterns`，把它改成这样，`patterns`问题就解决了。

## A.教程中的django-cms urls.py

作为参考，这里是 django-cms 教程为您提供的 urls.py ( [http://django-cms.readthedocs.org/en/latest/getting_started/tutorial.html](http://django-cms.readthedocs.org/en/latest/getting_started/tutorial.html) )：

```
from django.conf.urls.defaults import *
from django.conf.urls.i18n import i18n_patterns
from django.contrib import admin
from django.conf import settings

admin.autodiscover()

urlpatterns = i18n_patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^', include('cms.urls')),
)

if settings.DEBUG:
    urlpatterns = patterns('',
    url(r'^media/(?P<path>.*)$', 'django.views.static.serve',
        {'document_root': settings.MEDIA_ROOT, 'show_indexes': True}),
    url(r'', include('django.contrib.staticfiles.urls')),
) + urlpatterns 
```

这需要更改为：

```
from django.conf.urls.defaults import *
from django.conf.urls.i18n import i18n_patterns
from django.contrib import admin
from django.conf import settings

admin.autodiscover()

urlpatterns = i18n_patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^', include('cms.urls')),
)

if settings.DEBUG:
    urlpatterns = patterns('',
    url(r'^media/(?P<path>.*)$', 'django.views.static.serve',
        {'document_root': settings.MEDIA_ROOT, 'show_indexes': True}),
    url(r'', include('django.contrib.staticfiles.urls')),
) + urlpatterns 
```

## B. 版本

我正在使用 Django 1.5.1 和 django-cms 2.4.2，它们都是撰写本文时最新的稳定版本

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:41:45.613

您正在查看 urls.py，但您应该查看 cms/urls.py，您的 urls.py 中的这一行包含它：

网址（r'^'，包括（'cms.urls'）），

如果您在其中找不到答案，请同时发布此文件的内容。

# html - html 网站 url 打开时没有 .html 扩展名。为什么？

> ID：11716123
> 
> 赞同：0
> 
> 时间：2012-07-30T06:03:07.933
> 
> 标签：html, file-extension

我有一个 html5 网站，我的查询是当我打开任何没有 .html 扩展名的 url 时它会打开为什么？

我想要建议，这样我的所有网址都应该仅以 .html 扩展名打开。

例子。

现在 url [http://www.abc.com/about-us](http://www.abc.com/about-us) 打开网页，我希望它应该重定向到[http://www.abc.com/about-us.html](http://www.abc.com/about-us.html) 或者应该显示 404 错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:06:49.050

这一切都基于服务器配置。像 abc.com 这样的网站使用[URL 重写](http://en.wikipedia.org/wiki/Rewrite_engine)使您能够输入“漂亮”的 url（如 abc.com/about-us）并被定向到相关内容。

大多数托管环境的默认配置应该只允许按全名浏览页面（即 yoursite.com/about-us.html）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:13:09.273

我只能猜测，但最有可能的是，您启用了 Apache 的 MultiView 功能（或另一个 Web 服务器上的类似机制）。此功能选择与请求 URL 匹配的多个文件之一（无扩展名），并具有一个扩展名，该扩展名映射到客户端通过`Accept`标头请求的 MIME 类型。因此，例如，如果您同时拥有`foo.txt`和`foo.html`在您的 docroot 中，并且客户端 requests `/foo`，一个`Accept`标头会说`text/plain`yield `foo.txt`，而`text/html`会给你`foo.html`.

预期用途是 Apache 可以根据不同的浏览器功能为不同的文件提供不同的文件：例如，您可以拥有同一图像的 PNG 和 GIF 版本，而 Apache 提供浏览器表示它可以处理的任何内容。

在正常情况下，您希望禁用 MultiViews，因为（尤其是当您正在执行服务器端脚本时，例如 PHP）它可能会导致不希望的（有时是令人费解的）结果。

顺便说一句，这种机制与 HTML（4、5、XHTML 或其他）完全无关 - 您将看到图像文件、视频、样式表、纯文本等任何东西的相同行为。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:13:20.337

一个可能的原因是**url 重写**。在**.htaccess**文件中，您可以编写不同的规则和条件，通过这些规则和条件，页面扩展名将不会出现在浏览器上。

例如：[http ://roshanbh.com.np/2008/03/url-rewriting-examples-htaccess.html](http://roshanbh.com.np/2008/03/url-rewriting-examples-htaccess.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:16:53.657

这是一种称为[**URL 重写**](http://coding.smashingmagazine.com/2011/11/02/introduction-to-url-rewriting/)的技术，它可以将难看的 URL 变成漂亮的 URL——比选择一个好的域名要少得多的痛苦和费用。**它使您能够使用友好、易读的关键字填写 URL，而不会影响页面的底层结构。**

许多网络公司花费数小时为他们的客户寻找最好的域名。他们试图找到一个相关且合适、听起来专业但又与众不同、易于拼写、记忆和通过电话阅读、在名片上看起来不错并且可以作为 .com 使用的域名。

否则，他们会花费数千美元购买他们真正想要的，而这恰好在 1998 年被一个具有远见且难以找到的擅自占地者登记。

**他们经历了域名的所有麻烦，但忽略了 URL 的其余部分，即域名之后的元素。它也应该是相关的、适当的、专业的、令人难忘的、易于拼写和阅读的。出于同样的原因：吸引客户并提高搜索排名。**

# jquery - jquery如何从搜索框中获取字符串

> ID：11716126
> 
> 赞同：4
> 
> 时间：2012-07-30T06:03:43.327
> 
> 标签：jquery, search-box

我正在研究 jquery 搜索框。

我在从 html 获取字符串 var 时遇到了麻烦。

在我的 html 文件中。

我有..

```
<header>
  <div id="searchBox">
    <form name="searchForm">
      <div>
        <i class="icon-search icon-large icon-height"></i>
        <input name="searchfield" type="search" size="20" maxlength="30">
      </div>
    </form>
  </div>
</header> 
```

和

在我的 jquery 文件中，我有

```
$(".icon-search").click(function() {
  var searchstring  = $(this).text('#searchfield');// $('#searchfield');
  searchstring.focus();
  //$('#searchBox').html($('input:searchfield').val());
  alert("searchfield.  " + searchstring +  " hahah");
}); 
```

当我点击搜索一些字符串时。

它显示了 Object 对象而不是一些字符串。

我不太确定如何将对象转换为字符串。

有人知道如何转换吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-30T06:07:18.460

这行代码没有任何意义：

```
var searchstring  = $(this).text('#searchfield');// $('#searchfield'); 
```

确实应该是：

```
var searchstring = $('#searchfield'); 
```

然后你就可以做到：

```
searchstring.focus(); 
```

并使用以下命令检索文本`.val()`：

```
alert("searchfield.  " + searchstring.val() +  " hahah"); 
```

`.text()`获取或设置 HTML 元素的文本内容。如果在没有任何参数的情况下调用它，它*会获取*一个值，如果将值传递给它，它会*设置一个值。*因此`$(this).text('#searchfield')`将`$(this)`(your `.icon-search`) 的内部文本设置为 string `"#searchfield"`。

现在，一个表单元素没有内部文本，它有一个*值*，因此`.val()`，它的工作方式与`.text()`

```
alert(myTextbox.val()); // get value
myTextbox.val('test');  // set value 
```

编辑：

此外，`$('#searchfield')`查找 ID 为“searchfield”的元素。您应该添加`id="searchfield"`到您的文本字段，或将您的脚本更新为

```
var searchstring = $('input[name=searchfield]'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:13:02.090

您的代码访问 DOM 对象。

尝试`$("#searchfield").attr('value')`

您可以将所需的任何属性放入 attr() 函数并获取它。要获取其 ID，只需使用 `$("#searchfield").attr('id')`

就我个人而言，我经常使用`val()`它，因为它会导致其他一些 DOM 对象出现跨浏览器问题。

# wix - 我可以同时释放 msi 和 exe 吗？

> ID：11716128
> 
> 赞同：3
> 
> 时间：2012-07-30T06:03:59.753
> 
> 标签：wix, wix3.6, burn

我想发布 Setup Project 的 setup.msi 输出和 Setup.BootStrapper Project 的 setup.exe 输出，它会刻录 Setup.msi。由于我想同时发布（setup.msi & setup.exe）所以，安装顺序是不可预测的。如果用户先安装 setup.exe 然后 setup.msi 它工作正常。它提供了“删除”和“修复”选项。但如果先安装 msi，然后使用 exe，那么它也会安装 setup.exe。因此，它在 ARP 中显示了两个设置。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T12:03:24.660

在 ARP 中看到 2 个条目表明 MSI 和 EXE 具有不同的 ProductCode 值。您可能将 Product@Id 属性设置为 *。通常这是正确的，但在您的情况下并非如此。MSI 和 EXE 可能也有不同的 PackageCode 值。（包@Id）

两种解决方案：

1）构建EXE，然后使用构建后事件提取MSI

2) 构建 EXE 和 MSI 两次，但将 GUID 生成放入您的构建自动化中，并将其作为变量传递到 WiX 构建中，这样它们都可以获得相同的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T07:23:56.093

将此语句放在您的 MSI 项目中，这将防止 MSI 表单在 ARP 中创建 ICON。

```
<Property Id="ARPSYSTEMCOMPONENT" Value="1" /> 
```

# iphone - 表格单元格展开时如何显示图像/视频？

> ID：11716131
> 
> 赞同：2
> 
> 时间：2012-07-30T06:04:07.693
> 
> 标签：iphone, uitableview

我已经创建了表格，我想在单击“+”按钮时在其中展开单元格，并在其中添加图像和视频。有时它需要增加特定的单元格高度，然后显示视频，“+”号将转换为“-”。

![在此处输入图像描述](../Images/ee650a045758b98694442e61d12a22bf.png)

现在我添加了代码来扩展单元格，如下所示

```
-(void)cellButtonOneSelected
{
    // Deselect cell
[safetChecklistsTableView deselectRowAtIndexPath:selectedIndexPath1 animated:TRUE];

// Toggle 'selected' state
BOOL isSelected = ![self cellIsSelected:selectedIndexPath1];

// Store cell 'selected' state keyed on indexPath
NSNumber *selectedIndex = [NSNumber numberWithBool:isSelected];
[selectedIndexes setObject:selectedIndex forKey:selectedIndexPath1];    

// This is where magic happens...
[safetChecklistsTableView beginUpdates];
[safetChecklistsTableView endUpdates];
} 
```

现在如何在其中显示/添加视频或图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:34:21.597

在单元格 'cellForRowAtIndexPath:' 中添加以下代码

```
 if([self cellIsSelected:indexPath])
    {
        [cellButton setImage:[UIImage imageNamed:plusImageName] forState:UIControlStateNormal];
        cellSubLabel.text=@"Close";

      if (indexPath==selectedIndexPath) {
        UIImageView *imageView=[[UIImageView alloc] initWithImage:[UIImage imageNamed:imageName]];
        imageView.frame = (CGRect){170,80,130,80};
        [tableCell addSubview:imageView];
     }
   }
    else
    {
        [cellButton setImage:[UIImage imageNamed:minusImageName] forState:UIControlStateNormal]; 
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T09:06:31.263

将视频和图像放在uiview中并将它们添加到您的单元格中，就像单元格的高度为50一样，将它们添加到51。然后写

```
yourView.hidden=YES; 
yourView.tag=@"your Tag" 
```

按下此添加按钮时，调用以下循环：

```
for (int section = 0, sectionCount = _iTableView.numberOfSections; section < sectionCount; ++section) {
        for (int row = 0, rowCount = [_iTableView numberOfRowsInSection:section]; row < rowCount; ++row) {
            UITableViewCell *cell = [_iTableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:row inSection:section]];
            UIView *view=(UIView*)[cell.contentView viewWithTag:@"Your Tag"];
            view.hidden=NO;
        }
    } 
```

希望这可以帮助！！

# java - Java7中方法句柄的用途是什么？

> ID：11716133
> 
> 赞同：4
> 
> 时间：2012-07-30T06:04:18.290
> 
> 标签：java

我看到在 Java7 命名方法处理程序中添加了一个新东西。它们对什么场景有用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-30T06:10:44.947

> [http://www.oracle.com/technetwork/articles/javase/index-136358.html](http://www.oracle.com/technetwork/articles/javase/index-136358.html)
> 
> 随着在 JDK 7 中增加了对 JSR 292 的支持，动态类型语言在 JVM 中的运行速度应该比现在更快。这种支持的一个关键部分是添加了一个新的 Java 字节码，invokedynamic，用于方法调用，以及一个附带的链接机制，该机制涉及一个称为方法句柄的新结构。这些特性使动态类型语言编译器的实现者，即为 JRuby 和 Jython 等语言开发编译器的人员，能够生成在 JVM 中运行速度极快的字节码。
> 
> ...
> 
> 方法句柄是 java.dyn.MethodHandle 类型的简单对象，其中包含对 JVM 方法的匿名引用。方法句柄是可调用的，就像对方法的命名引用一样。然而，它的独特之处在于它是通过指针结构访问的，而不是链接名称。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-30T06:25:01.867

恕我直言，这是一套超前的工具。它打算替换反射，但有一些性能问题（它可以更快或更慢，但不能始终更快）它 synatx 也有点麻烦。

Java 8 中出现的是闭包和第一类方法引用。MethodHandles 将在其中发挥重要作用，并使它们的使用/语法自然和集成。即，您将能够使用新的 java 语法，而不必直接引用此类，并且编译器将协助检查类型和异常抛出，这是现在反射无法做到的。我假设到 Java 8 发布时，它的性能问题也将得到解决。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:10:49.940

> JDK 7 为这种动态/运行时检查引入了一个新角色，即方法句柄（即抽象类 java.dyn.MethodHandle 的子类）。方法句柄为我们提供了调用非公共方法的不受限制的能力，例如，它可以由可以访问它的类在非公共方法上形成。与使用反射 API 相比，访问检查是在创建方法句柄时执行的，而不是在每次调用方法时执行的。

直接取自[MethodHandle 及其用法的一瞥](http://www.java7developer.com/blog/?p=191)

大约在那一点上，我出现了段错误

# jquery - ckeditor 和粘贴文本事件

> ID：11716143
> 
> 赞同：2
> 
> 时间：2012-07-30T06:05:19.237
> 
> 标签：jquery, ckeditor

谁能告诉我们如何只将粘贴作为文本事件挂钩？

我试过这个：

```
CKEDITOR.on('instanceReady', function (ev) {
    ev.editor.on('paste', function (evt) {
        alert('Paste Event....');
    });

    ev.editor.on('pastetext', function (evt) {
        alert('Paste Text Event....');
    });
}); 
```

但是，无论我选择哪个粘贴选项，我得到的唯一事件是粘贴...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-27T20:57:52.310

您可以挂钩粘贴事件并检查它是否被粘贴为纯文本调用。这可以通过调查事件的数据属性来完成。

```
CKEDITOR.on('instanceReady', function (ev) {
    ev.editor.on('paste', function (evt) {
        if(evt.data.text) {
            // data was pasted as plain text
        }
    });
}); 
```

# android - 为什么 DOM 库删除转义的特殊字符？

> ID：11716147
> 
> 赞同：0
> 
> 时间：2012-07-30T06:05:48.587
> 
> 标签：android, xml

我在 XML 中有这个内容：

```
<place>
   <placeName>!@#$%&*?/_"'()-+;</placeName>
</place> 
```

当我查看页面源时它是正确的

```
<place>
    <placeName>!@#$%&amp;*?/_&quot;'()-+;</placeName>
</place 
```

我使用 org.w3c.dom.Document, org.w3c.dom.Element, ... 来获取内容“placeName”。问题是 DOM 库删除了转义的特殊字符。它在 Android logcat 中显示“！@#$%”。为什么？如何解决？

这是我的代码的一部分，我使用 Node::getNodeValue 从上面的 XML 中获取值：

```
 public static Document getDocument(final String xml) {
        Document doc = null;
        final DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
            try {
            final DocumentBuilder db = dbf.newDocumentBuilder();
            final InputSource is = new InputSource();
            is.setCharacterStream(new StringReader(xml));
            doc = db.parse(is);

            } catch (final ParserConfigurationException e) {
                System.out.println("XML parse error: " + e.getMessage());
                return null;
            } catch (final SAXException e) {
                System.out.println("Wrong XML file structure: " + e.getMessage());
                return null;
            } catch (final IOException e) {
                System.out.println("I/O exeption: " + e.getMessage());
                return null;
            }
            return doc;
    }

    private static String request() {
        String line = null;
        try {
            final DefaultHttpClient httpClient = new DefaultHttpClient();
            final HttpGet httpGet = new HttpGet("http://api-url.com");
            final HttpResponse httpResponse = httpClient.execute(httpGet);
            final HttpEntity httpEntity = httpResponse.getEntity();
            line = EntityUtils.toString(httpEntity);

        } catch (final UnsupportedEncodingException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        } catch (final MalformedURLException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        } catch (final IOException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        }
        return line;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:10:47.770

当你从字符串中获取文档时添加这个

```
 dbf.setCoalescing(true); 
```

dbf 在哪里

```
 DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance(); 
```

# java - java mongo自定义对象ID用户ID

> ID：11716158
> 
> 赞同：0
> 
> 时间：2012-07-30T06:07:33.043
> 
> 标签：java, mongodb, insert, mongo-java

我们在 Mongo DB 中有一个用户文档，并希望使用 _id 字段作为 userID 字段并增加它。
我在 Mongo 文档（http://www.mongodb.org/display/DOCS/Object+IDs）中找到了一个 counter("user") JS 方法。

从 Mongo Shell，我可以调用，

> db.user.insert({_id:counter("user"), name:"tom"...});

现在，我如何在 Java 代码中使用相同的命令？无法找到从 Java 代码中指定 Javascript 函数的方法。
还看到了 $inc 的 findAndModify 命令和用法，但无法使其正常工作。这样我们就可以在不调用 JS 计数器函数的情况下完成，我想。

在 _id 字段中使用自定义值而不是 Mongo 的对象 ID 有什么影响，有什么注意事项吗？
〜vish

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:26:54.050

**TL;DR**：只需使用 ObjectIds

像这样生成新的 ObjectId 没有什么意义。您应该为每个新对象创建一个新的 ObjectId。这很容易，并提供良好的全球唯一性保证。

如果您这样做是为了将自己从数据库中抽象出来，那将是行不通的。MongoDB 是一个非常特殊的数据库。如果您只将 mongo 用作 K/V 存储（想想 memcached，但速度较慢），抽象是可能的，但有更好的产品具有此功能。

# html - 有人将 Zurb Foundation 3.0 与 Twitter Boostrap 2.0 集成了吗？

> ID：11716160
> 
> 赞同：1
> 
> 时间：2012-07-30T06:07:56.990
> 
> 标签：html, twitter-bootstrap, zurb-foundation

我认为在 zurb 基础布局结构中使用 twitter bootstrap 将是有益的。

我只是以前没有尝试过，但我认为它是可行的。

计划使用 Foundation 的布局结构，将使用 Twiiter Bootstrap 的 thumb、dropdown、tipsy、icon 按钮。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-21T10:10:59.520

我做到了！

大多数情况下，我将 Foundation 的方式更清洁的网格（以及诸如显示脚本之类的东西）与 Bootstrap 的 UI 和移动菜单集成在一起。一位客户希望我使用 bootstrap，但我是一名基础人员。所以，这是我的解决方案。

为了保持它对他们来说相当即插即用，我保留了 span1 命名约定（我讨厌它），但是用 Foundation 的“行”替换了 Bootstrap 的“容器”。但是，这仍然需要为每一列添加“列”类。IE; “span4 列。”

如果您想偷看，只需软启动该项目：Mogreet.com（我在根目录下做了所有事情（技术上：main.mogreet.com）和主页上的小型企业链接。我没有在“企业”下做任何事情或“开发者”链接）。

今天有几件事情要解决，但你会明白的。如果你想要这些文件，请联系我@sosweetcreative。

# php - Symfony2 FOSUserBundle => 自定义错误

> ID：11716166
> 
> 赞同：1
> 
> 时间：2012-07-30T06:08:25.433
> 
> 标签：php, symfony, fosuserbundle

我正在为用户端使用 Symfony2 和 FOSUserBundle 开发一个网站。我正在尝试自定义注册表单，并且正在尝试一些问题。

1.  我试图按照文档在字段旁边包含字段错误，但它只显示在表单顶部；
2.  当两个密码不同时，表格顶部会出现错误：该值无效。这不是很清楚，我想把它翻译成法语，但我似乎在语言文件中找不到它。我曾经翻译过所有的表格，除了那个错误。

这是我的字段模板：

```
{% block field_errors %}
{% spaceless %}
{% if errors|length > 0 %}
<ul class="list_error">
{% for error in errors %}
<li>{{ error.messageTemplate|trans(error.messageParameters, 'validators') }}</li>
{% endfor %}
</ul>
{% endif %}
{% endspaceless %}
{% endblock field_errors %}

{% block field_row %}
{% spaceless %}
<tr>
    <td>
        <label for="{{ form.vars.id }}">{{ form.vars.id|trans( {}, "FOSUserBundle" ) }}</label>
    </td>
    <td>
        {{ form_widget(form) }}
        {{ form_errors(form) }}
    </td>
</tr>
{% endspaceless %}
{% endblock field_row %} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:39:19.277

2.（！）消息在验证中是硬编码的，看起来。位于：Vendor/bundles/FOS/UserBundle/Validator/Password.php。

# java - 如何使用phonegap插件从android调用javascript函数

> ID：11716167
> 
> 赞同：2
> 
> 时间：2012-07-30T06:08:28.010
> 
> 标签：java, javascript, android, cordova, call

这是我的 index.html

```
<!DOCTYPE HTML>
<html>
  <head>
    <title>PhoneGap</title>
    <script type="text/javascript" charset="utf-8" src="cordova-1.7.0rc1.js"></script>      
    <script type="text/javascript" charset="utf-8">

    function call(){
      console.log("ANDROID");
    }
    </script>

</head>
<body >
</body>
</html> 
```

这是我的接收器类

```
package com.example.jsfrmjv;
import org.apache.cordova.DroidGap;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;

public class BootReciver extends BroadcastReceiver {
Context ctx;
@Override
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub
    System.out.println("BBBBOOOOOOOOOOTTTTTTT COMPLETED");
    Log.d("ALARM STRIKE", "Reboot completed");

    //Pluginjava pl = new Pluginjava();
        //((DroidGap) this.ctx).sendJavascript("javascript:call()");                
}   
} 
```

所以，每当我重新启动手机时，这个接收器应该在 index.html 中调用 JavaScript 中的 call() 方法。使用 Phonegap 插件，我可以从 index.html 调用 java 方法。但是在这种情况下，我需要从这个接收器类调用 javascript 中的方法。感谢您对未来的帮助。请帮助解决这个问题。这是紧急的家伙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T12:33:23.003

这样做的方法不止一种，可以从以下位置调用 java 脚本`MainActivity`函数

```
this.sendJavascript("appResumed"); 
```

这里 appResumed 是 javascript 函数名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T07:44:07.680

你会在[这里得到正确的答案](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/1o9PgfmyRd8)

# hadoop - DistributedCache/File 和单节点 Hadoop

> ID：11716172
> 
> 赞同：0
> 
> 时间：2012-07-30T06:09:22.720
> 
> 标签：hadoop, mapreduce

两者都可以在单节点 hadoop 设置中工作吗？我猜它可能无法在本地模式（独立模式）下工作，但在伪分布式模式下工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-18T09:42:56.323

分布式缓存在两种模式下运行，即分布式和独立。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-05T04:56:08.917

它似乎可以在伪分布式模式下工作，但不能在本地（独立）模式下工作。

# javascript - 多个数组元素的总和

> ID：11716178
> 
> 赞同：3
> 
> 时间：2012-07-30T06:09:41.850
> 
> 标签：javascript, jquery

我在 javascript 中有多个数组，我想对这些数组和最终数组求和。

```
EX: Array1 = [1,9,10,11], Array2 = [5,8,7,2], Total = [6,17,17,13]. 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T06:16:41.637

```
var Array1 = [1,9,10,11];
var Array2 = [5,8,7,2]; 
var Total = [];

for( var i = 0; i < Array1.length; i++)
{
    Total.push(Array1[i]+Array2[i]);
} 
```

顺便说一句，以大写字母开头的变量名感觉很尴尬。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:35:44.540

```
function aSum(/*arrays list*/){
  var total=[],undefined;
  for(var i=0,l0=arguments.length;i<l0;i++)
    for(var j=0,arg=arguments[i],l1=arg.length;j<l1;j++)
      total[j]=(total[j]==undefined?0:total[j])+arg[j];
  return total;
}

var Array1 = [1,9,10,11], Array2 = [5,8,7,2], Array3 = [1,2,3,4,8];

console.log(aSum(Array1, Array2, Array3)); // [7, 19, 20, 17, 8] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T06:19:22.057

```
var Array1 = [1,9,10,11];
var Array2 = [5,8,7,2];
var Total = new Array();
for(var i= 0;i<Math.min(Array1.length,Array2.length);i++){
  Total.push(Array1[i]+Array2[i]);
}
alert(Total); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-21T05:31:56.060

ES6 中的箭头函数

```
var Array1 = [1,9,10,11];
var Array2 = [5,8,7,2]; 
var sum = Array1.map((val, idx) => val + Array2[idx]);

console.log(sum);
```

# c# - 通过单击 C# 组合框中的项目来调用新表单

> ID：11716179
> 
> 赞同：0
> 
> 时间：2012-07-30T06:09:49.893
> 
> 标签：c#, winforms

我想在 C# 中使用`visual studio 2010`. 我有一个包含不同项目示例的组合框

1.  X
2.  是
3.  Z

我想为每个选定的项目调用一个新表单。每个项目的表单都不同。请告诉我如何做到这一点。

它的一个`window application`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:14:46.920

在 WinForm 中尝试

*   [`ComboBox.SelectedIndexChanged`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedindexchanged.aspx): 当 SelectedIndex 属性改变时发生

    或者

*   [`ComboBox.SelectionChangeCommitted`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectionchangecommitted)：当所选项目发生更改并且该更改显示在 ComboBox 中时发生

事件。

由这些成员检查组合框：

*   [`ComboBox.SelectedText`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedtext)：获取在 ComboBox 的可编辑部分中选择的文本。
*   [`ComboBox.SelectedItem`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selecteditem)：获取 ComboBox 中当前选定的项目。
*   [`ComboBox.SelectedIndex`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedindex)：获取指定当前选定项的索引。

例子：

```
//private void comboBox1_SelectionChangeCommitted(object sender, EventArgs e)
//or
private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    ComboBox senderComboBox = (ComboBox) sender;

    Form1 form = new Form1();
    // You can check senderComboBox.SelectedText or other here
    form.Text = senderComboBox.SelectedItem.ToString();
    form.ShowDialog();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:17:34.417

您可以注册`SelectedValueChanged`事件，并创建将检查所选值的事件处理程序。您可以添加条件代码（例如 if/else 或 switch case），根据当前选定的值检查您希望打开的表单是什么。

样本：

```
 private void ListBox1_SelectedValueChanged(object sender, EventArgs e)
    {
        if (ListBox1.SelectedIndex == 1)
        {
            Form1 form = new Form1();
            form.ShowDialog();
        }
    } 
```

我假设您正在开发 Windows 应用程序（您编写的是“软件”而不是 Web 应用程序）。

请查看此链接以获取有关`SelectedValueChanged`事件处理程序的更多详细信息。[http://msdn.microsoft.com/en-us/library/system.windows.forms.listcontrol.selectedvaluechanged.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.listcontrol.selectedvaluechanged.aspx)

此外，许多控件都有各种事件，可用于根据用户输入采取行动。

# mysql - ASP.NET MVC Entity Framework 4.3 中数据库调用的会话超时

> ID：11716181
> 
> 赞同：0
> 
> 时间：2012-07-30T06:09:51.277
> 
> 标签：mysql, asp.net-mvc-3, entity-framework, session-timeout

我正在使用 Entity Framework 4.3 作为数据库在 ASP.NET MVC3 中开发分类广告应用程序。

当用户处于活动状态并意外`session`执行任何数据库查询时，我遇到了问题。`entity framework``application session time's out`

请注意，查询成功执行，我也可以看到我的结果，但过了一会儿 asp.net 会话终止。

这只发生在我将应用程序托管到实时服务器 (Arvixe) 时。在我的本地 IIS 上它工作正常。

如果我使用任何其他来源进行数据库查询，那么它工作正常。

我也在`session time-out`web.config 中进行了重置。我正在使用`MYSQL`. 有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:13:28.050

尝试在 MySQL 配置文件中将`wait_timeout`&的值设置为：`interactive_timeout``my.cnf`

```
interactive_timeout = 120
wait_timeout = 120 
```

然后重新启动 MySQL 服务器。

# linux - Linux /dev/中的sla设备是什么

> ID：11716192
> 
> 赞同：0
> 
> 时间：2012-07-30T06:11:26.217
> 
> 标签：linux

我使用“df -h”检查我的 Linux 分区并看到“/dev/sla2,3,4”。

什么是“SLA”设备？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T09:13:45.440

运行`ls -l /dev/sla2,3,4`，它将在用户和组字段之后显示两个数字。这些是设备主要和次要编号（它们仅存在于设备特殊文件中）。然后，检查[http://www.mjmwired.net/kernel/Documentation/devices.txt](http://www.mjmwired.net/kernel/Documentation/devices.txt)或其他类似列表，以了解主要编号对应的设备类别。如果此列表不能回答您的问题，您可以查看网络上的内核源代码，主要/次要数字及其含义的完整列表必须以一种或另一种形式存在。

# .net - 如果我在 Windows 7 上安装 .NET 4.0 Full，是否需要 .NET 4.0 Client Framework？

> ID：11716193
> 
> 赞同：1
> 
> 时间：2012-07-30T06:11:36.263
> 
> 标签：.net, windows-7, .net-framework-version

我想为可能存在的任何现有或新的 .NET 应用程序完全准备 x86 Windows 7 PC。我应该安装哪些版本的 .NET Framework？Windows 7 似乎[内置了 .NET 3.0 或 .NET 3.5.1](http://www.msigeek.com/2390/what-version-of-the-net-framework-is-included-in-which-version-of-the-os)。这意味着我需要安装：

*   .NET Framework 3.5 SP1 -[完整版，230 MB](http://www.microsoft.com/en-in/download/details.aspx?id=22) - 我需要这个，因为 Windows 7 默认包含它吗？
*   .NET Framework 4.0 -[完整版，35 MB](http://download.microsoft.com/download/5/6/4/5641DA81-E6FA-4550-9F80-A1D862D9CFAA/dotNetFx40_Full_x86.exe)
*   .NET Framework 4.0 -[客户端，28 MB](http://download.microsoft.com/download/3/1/8/318161B8-9874-48E4-BB38-9EB82C5D6358/dotNetFx40_Client_x86.exe) - 如果我安装 4.0 Full，我需要这个吗？

那是对的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:14:46.100

据我所知，.NET Framework 3.5 随 Windows 7 一起提供，因此您必须安装 .NET Framework 4.0 Full。客户端库只允许您执行 .NET 程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:17:32.280

除非您进行需要完整框架的 .NET 开发，否则您应该安装 .NET Framework 4.0 客户端。

# c# - 在 C# 中解析 XML 的困难

> ID：11716196
> 
> 赞同：-2
> 
> 时间：2012-07-30T06:11:57.707
> 
> 标签：c#, xml

> **可能重复：**
> [在 C# 中解析 XML 字符串](https://stackoverflow.com/questions/4703252/parsing-xml-string-in-c-sharp)

如何处理以下 XML 文件并将元素值存储在数组中

```
 <UserID>
  <Total>2</Total>
  <X1>2</X1>
  <Y1>4</Y1>
  <Attached1>2,3,4</Attached1>
  <X2>7</X2>
  <Y2>8</Y2>
  <Attached2>4,5,6</Attached2>
  </UserID> 
```

这里我需要解析元素 X1 和 X2 并将它们存储在同一个数组中。

同样，我需要解析 Y1、Y2 和 Attached1、Attached2 的元素并将它们存储在同一个数组中。

此文件可能会动态增长或缩小。

我们可以有 X1、X2 最多 X100 个元素或 X1、X2、最多 X10 个元素。

我不希望它仅限于少数元素。

这里 Total element 表示可以有两个 X 元素，如 X1 和 X2

如果 total 的值为 5，则可以有 5 个 X 元素，例如 X1、X2、X3、X4 和 X5。

我需要动态解析和存储这些值。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:40:21.500

使用[`XmlDocument.SelectNodes`](http://msdn.microsoft.com/en-us/library/hcebdtae)和`XPath`：

```
XmlDocument document = new XmlDocument();
document.LoadXml("yourFile");

List<string> first = (from XmlNode node in document.SelectNodes("//X1 | //X2") 
                     select node.Value).ToList();
List<string> second = (from XmlNode node in document.SelectNodes("//Y1|//Y2|//Attached1|//Attached2") 
                      select node.Value).ToList(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:20:42.747

我只能说，文件的设计很糟糕。你不应该命名你的元素来表明它们的位置。只需给他们一个通用名称，然后根据需要添加任意数量。

话虽如此，在您的情况下，您可以生成名称（假设它们始终是连续的）。

```
var xmlStr = @"<UserID>
  <Total>2</Total>
  <X1>2</X1>
  <Y1>4</Y1>
  <Attached1>2,3,4</Attached1>
  <X2>7</X2>
  <Y2>8</Y2>
  <Attached2>4,5,6</Attached2>
</UserID>
";
var doc = XDocument.Parse(xmlStr);
var users =
    from user in doc.Descendants("UserID")
    let total = (int)user.Element("Total")
    select new
    {
        X = Enumerable.Range(1, total)
                      .Select(i => (int)user.Element("X" + i))
                      .ToArray(),
        Y = Enumerable.Range(1, total)
                      .Select(i => (int)user.Element("Y" + i))
                      .ToArray(),
        Attached = Enumerable.Range(1, total)
                             .Select(i => (string)user.Element("Attached" + i))
                             .ToArray(),
    }; 
```

# python - matplotlib生成动画，每个文件都是一个新帧

> ID：11716197
> 
> 赞同：3
> 
> 时间：2012-07-30T06:12:05.183
> 
> 标签：python, animation, matplotlib

首先，我要感谢任何可以让我提前度过难关的人。我是 Matplotlib 的新手，通常也不用 python 编码。

我拥有的是大量数据文件（100 到 10,000 ）。这些文件中的每一个都有 20 个我想变成动画的图，其中每个文件代表一个不同的帧。代码在试图让事情正常工作时变得非常复杂。有 6 个子图 (3,2,1-6)。它们都共享相同的 x 轴。在任何给定的子图上，我都绘制了 1 到 6 个 y 值。他们还需要正确的标签，有些是“符号日志”图，因为我想查看正数和负数的对数数据。我希望在不依赖 ffmpeg 或 mencoder 的情况下形成动画，因为它们在运行代码的计算机上可能不可用。似乎解决这个问题的明显方法在于 FuncAnimation，但这真的让我非常困惑。大多数例子我 已经看到只是在单个图中添加另一个点。我想在基本上 20 个图中替换数据。我将只包括两个子图，并假设我足够聪明，可以将其推断为 6...

我已经成功地将绘图形成为单独的“安全”文件中的 .png 文件。

所以这里有一些非常非常难看的代码：

```
#!/usr/bin/python
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import matplotlib.animation as animation
import glob
import os
import re
from StringIO import StringIO
from matplotlib.ticker import MaxNLocator
from matplotlib.font_manager import FontProperties

def GetFiles(dir_name, extension):
    fileList = []
    for file in os.listdir(dir_name):
        index = file.find(extension)
        if index != -1:
            dirfile = os.path.join(dir_name, file)
            fileList.append(dirfile)
    return fileList

dirString = raw_input('Please enter a directory name: ')
extension = raw_input('Please enter the extension: ')
ClearFiles = raw_input('Remove temporary .png files (Y/N): ')
dataName = GetFiles(dirString, extension)
print dataName  #just make sure right files are being loaded
pngfilelist = []

figure = plt.figure()
fontP = FontProperties()
fontP.set_size('small')

ax1 = figure.add_subplot(1,2,1)
ax1.grid(True)  # Enable Grid Lines
ax1.legend(loc=9, ncol=6, borderaxespad=0., prop=fontP)
ax1.set_title('Band Diagram')
PsiPlot, = ax1.plot([], [], label='Psi')
EcPlot, = ax1.plot([], [], label='Ec')
EvPlot, = ax1.plot([], [], label='Ev')
ax1.legend(loc=9,ncol=6, borderaxespad=0., prop=fontP)
ax2 = figure.add_subplot(1,2,2, sharex=ax1)
NPlot, = ax2.plot([], [], label='n')
PPLot, = ax2.plot([], [], label='p')
ax2.grid(True)  # Enable Grid Lines
ax2.set_title('Electron/Hole Concentrations')
ax2.legend(loc=9,ncol=2, borderaxespad=0., prop=fontP)
X = []
Psi = []
Ec = []
Ev = []
n = []
p = []

def UpdatePlot(dataFile):
    data = np.genfromtxt(dataFile, autostrip=True, skip_header=4, names=True, usecols=("X", "Psi", "Ec", "Ev", "n", "p"))  #Load the specified data into giant list

    entries = len(data)
    for ctr in range(0,entries):
        X.append(data[ctr][0])  # X-value for all plots
        Psi.append(data[ctr][1])    #plot 1,1
        Ec.append(data[ctr][2])
        Ev.append(data[ctr][3])
        n.append(data[ctr][4]) # plot 1,2
        p.append(data[ctr][5])

    figure.suptitle(dataFile, y=0.99)
    PsiPlot.set_data(X, Psi)
    EcPlot.set_data(X, Ec)
    EvPlot.set_data(X, Ev)
    NPlot.set_data(X, n)
    PPlot.set_data(X, p)

    plt.subplot(1,2,1)
    plt.xlabel('Position (cm)')
    plt.ylabel('Energy (eV)')

    plt.subplot(1,2,2)
    plt.xlabel('Position (cm)')
    plt.ylabel('cm^-3')
    plt.yscale('symlog', linthreshy=1e10)

    figure.set_size_inches(16,10)
    figure.set_dpi(200)

    plt.tight_layout(pad=0.2, w_pad=0.2, h_pad=0.2)
    filename = dataFile.replace(extension, '.png')
    plt.savefig(filename)
    pngfilelist.append(filename)

    return PsiPlot, EcPlot, EvPlot, NPlot, PPlot,

ani = animation.FuncAnimation(figure, UpdatePlot, dataName, interval=500, blit=True)

ani.save('test.mp4', fps=15)

# remove the temporary png files if wanted.
if ClearFiles == 'y' or ClearFiles == 'Y':
    for fname in pngfilelist:
        os.remove(fname) 
```

我意识到的事情：附加数据不是获取列表中所有 X 和 Y 数据的最佳方式。第二组数据也将包括在此代码段中写入的第一组数据（寻找删除它的好方法，这样以后不会导致问题）。由于我尝试了各种方法，然后将它们删掉，因此导入的内容可能比我目前需要的要多得多。使用这种方法，X/Y 比例不会自动设置为当我尝试做的只是保存到一个 .png 文件时（我通过 plt.plot 完成所有操作并在保存后清除而不是所有这些关于将数据设置为轴）。例如，我想用最低的 Ev 设置最低的 Y 值，用最高的 Psi 设置最高的 Y 值。此外，在第二个情节上似乎没有任何效果。当然，这些值非常大。

使用此代码，我收到“未找到标记的对象”的警告。和一个运行时错误，说基础 C/C++ 对象已被删除 - 我在刚才的绘图中没有收到两个错误并保存到 .png 文件代码。

不过，我真的不知道如何将所有这些图表放入 FuncAnimation。

有什么想法吗？我厌倦了用 Python 敲打我的脑袋——我真的需要敲打我的模拟代码。

最后，这是一个旧（坏）数据文件的示例部分：

```
Data from: TestLoad.dev
Simulation time: 4.08738e-013
Iteration : 665
Data binning: 5
Point          X            Psi             Ec             Ev          Fermi        Fermi_n            Efp              n              p            n*p            Rho    Ec_Carriers    Ev_Carriers      Light_Gen  Generation_Th Recomb_Thermal      SRH_Rate1      SRH_Rate2      SRH_Rate3      SRH_Rate4           Jn_x           Jp_x
0       4.9e-006           3.58      -0.500001      -0.500001           -0.5           -0.5      -0.500001   2.72507e+021   2.72507e+021   7.42603e+042              0   2.67057e+008   2.67057e+008              0              0              0              0              0              0              0        4577.65              0
1      9.95e-006           3.58           -0.5           -0.5           -0.5      -0.499999           -0.5   2.72508e+021   2.72508e+021   7.42603e+042              0   8.17523e+006   8.17523e+006              0              0              0              0              0              0              0              0        -114441
2     1.015e-005        3.61356      0.0255559       -1.09444       -0.95916       -0.95916      -0.830208              0   1.08799e+015              0      -0.132665              0       0.971429              0              0              0              0              0              0              0              0        -114441
3     1.025e-005        3.62841      0.0404132       -1.07959      -0.944094      -0.944094      -0.844848              0   2.89096e+015              0      -0.132656              0        3.02857              0              0              0              0              0              0              0              0        -119019
4     1.035e-005        3.64199      0.0539899       -1.06601      -0.930857      -0.930857      -0.854293              0   9.46844e+015              0      -0.131488              0        10.3143              0              0              0              0              0              0              0              0        -114441
5     1.045e-005         3.6543      0.0662974        -1.0537      -0.919519      -0.919519      -0.867723              0   2.36441e+016              0      -0.129511              0        21.6571              0              0              0              0              0              0              0              0        -123596
6     1.055e-005        3.66535      0.0773546       -1.04265      -0.909748      -0.909748      -0.873209              0   4.47623e+016              0      -0.125061              0        48.4286              0              0              0              0              0              0              0              0       -96130.6
7     1.065e-005         3.6752      0.0872047        -1.0328      -0.901449      -0.901449      -0.876584              0    6.9861e+016              0        -0.1222              0        66.2857              0              0              0              0              0              0              0              0        -146485
8     1.075e-005        3.68388      0.0958752       -1.02412      -0.895041      -0.895041      -0.880708              0   1.18029e+017              0      -0.113068              0        124.286              0              0              0              0              0              0              0              0       -86975.3
9     1.085e-005        3.69145       0.103454       -1.01655      -0.889233      -0.889233      -0.879943              0   1.57625e+017              0      -0.111058              0        136.829              0              0              0              0              0              0              0              0        -137329
10     1.095e-005        3.69796       0.109961       -1.01004      -0.885743      -0.885743      -0.881837              0   2.16895e+017              0     -0.0941347              0        240.457              0              0              0              0              0              0              0              0       -22888.2
788     0.00998975        4.19373       0.605734      -0.514266        -0.3792        -0.3792      -0.287991              0   5.78298e+015              0      -0.131942              0        5.48571              0              0              0              0              0              0              0              0          77820
789     0.00998985        4.17975       0.591751      -0.528249      -0.393181      -0.393181      -0.292558              0   2.27746e+015              0      -0.132404              0            1.6              0              0              0              0              0              0              0              0        68664.7
790      0.0099904           4.08  -1.45745e-006  -1.45745e-006   3.16863e-016   4.06816e-008  -7.67735e-007   2.72507e+021   2.72507e+021   7.42603e+042              0   2.72507e+007   2.72507e+007              0              0              0              0              0              0              0              0              0
791     0.00999545           4.08  -1.45745e-006  -1.45745e-006   3.16863e-016   4.06816e-008  -7.67735e-007   2.72507e+021   2.72507e+021   7.42603e+042              0   2.47982e+008   2.47982e+008              0   6.27943e+027              0              0              0              0              0              0              0 
```

* * *

以防未来人们看到这一点，在我开始投入所有其他情节之前，这就是我最终的简化答案（概念证明）。

```
#!/usr/bin/python
import numpy as np
import matplotlib as mpl
mpl.use( "agg" )
import matplotlib.pyplot as plt
import matplotlib.animation as animation
import os
from StringIO import StringIO
from matplotlib.font_manager import FontProperties

def GetFiles(dir_name, extension):
    fileList = []
    for file in os.listdir(dir_name):
        index = file.find(extension)
        if index != -1:
            dirfile = os.path.join(dir_name, file)
            fileList.append(dirfile)
    return fileList

def UpdatePlot(dataFile):
    global MinX, MaxX, ax1MinY, ax1MaxY, ax2MinY, ax2MaxY, first
    print 'loading data for ', dataFile
    data = np.genfromtxt(dataFile, autostrip=True, skip_header=4, names=True, usecols=("X", "Psi", "Ec", "Ev", "n", "p"))  #Load the specified data into giant list

    # get new bounds on limits for graphs

    tempMin = data['X'].min()
    tempMax = data['X'].max()
    if tempMax > MaxX or first == True:
        MaxX = tempMax + (tempMax - tempMin) * 0.01
        ax1.set_xlim(MinX, MaxX)
        ax2.set_xlim(MinX, MaxX)
    if tempMin < MinX or first == True:
        MinX = tempMin - (tempMax - tempMin) * 0.01
        ax1.set_xlim(MinX, MaxX)
        ax2.set_xlim(MinX, MaxX)

    tempMin = data['Psi'].min()
    tempMax = data['Psi'].max()
    if tempMax > ax1MaxY or first == True:
        ax1MaxY = tempMax + (tempMax - tempMin) * 0.5
        ax1.set_ylim(ax1MinY, ax1MaxY)

    tempMin = data['Ev'].min()
    tempMax = data['Ev'].max()
    if tempMin < ax1MinY or first == True:
        ax1MinY = tempMin - (tempMax - tempMin) * 0.2
        ax1.set_ylim(ax1MinY, ax1MaxY)

    tempMax = data['n'].max()
    if tempMax > ax1MaxY or first == True:
        ax2MaxY = tempMax * 2    # This is basically a log plot...
        ax2.set_ylim(ax2MinY, ax2MaxY)

    tempMax = data['p'].max()
    if tempMax > ax1MaxY or first == True:
        ax2MaxY = tempMax * 2    # This is basically a log plot...
        ax2.set_ylim(ax2MinY, ax2MaxY)

    # Now update all the data for the plots

    titleText.set_text(dataFile)
    PsiPlot.set_data(data['X'], data['Psi'])
    EcPlot.set_data(data['X'], data['Ec'])
    EvPlot.set_data(data['X'], data['Ev'])
    NPlot.set_data(data['X'], data['n'])
    PPlot.set_data(data['X'], data['p'])

    plt.draw()  # need to update the figure regardless because the title changes
    if GeneratePNG == 'Y' or GeneratePNG == 'y':
        filename = dataFile.replace(extension, '.png')
        plt.savefig(filename)

    first = False

    return

dirString = raw_input('Please enter a directory name: ')
extension = raw_input('Please enter the extension: ')
GeneratePNG = raw_input('Generate .png files of each file (Y/N): ')
framesps = raw_input('Frames per second: ')
outname = raw_input('Output file name (no extension): ')
outname = outname + '.mp4'
dataName = GetFiles(dirString, extension)
# print dataName

MinX = 0
MaxX = 0
ax1MinY = 0
ax1MaxY = 0
ax2MinY = 0
ax2MaxY = 0
first = True

figure = plt.figure()
fontP = FontProperties()
fontP.set_size('small')
figure.set_size_inches(16,10)
figure.set_dpi(200)
titleText = figure.suptitle('Title', y=0.99)  # must do this way to allow title to be changed later

ax1 = figure.add_subplot(1,2,1)
ax1.grid(True)  # Enable Grid Lines
ax1.set_title('Band Diagram')
plt.xlabel('Position (cm)')
plt.ylabel('Energy (eV)')
PsiPlot, = ax1.plot([], [], label='Psi')
EcPlot, = ax1.plot([], [], label='Ec')
EvPlot, = ax1.plot([], [], label='Ev')
ax1.legend(loc=9,ncol=6, borderaxespad=0., prop=fontP)

ax2 = figure.add_subplot(1,2,2, sharex=ax1)
plt.xlabel('Position (cm)')
plt.ylabel('cm^-3')
plt.yscale('symlog', linthreshy=1e10)
ax2.grid(True)  # Enable Grid Lines
ax2.set_title('Electron/Hole Concentrations')
NPlot, = ax2.plot([], [], label='n')
PPlot, = ax2.plot([], [], label='p')
ax2.legend(loc=9,ncol=2, borderaxespad=0., prop=fontP)

plt.tight_layout(pad=0.5, w_pad=0.5, h_pad=0.5)

ani = mpl.animation.FuncAnimation(figure, UpdatePlot, dataName, init_func=None, interval=500, blit=True)

ani.save(outname, fps=framesps, codec='mpeg4') 
```

再次感谢您为我指明正确的方向！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T09:34:54.370

好的，我已经深入研究了您的代码。我可以看到一些东西。

首先，如果发生错误，请始终尝试提供完整的回溯。在这种情况下，错误是相当不错的 googleable(*)，并导致我例如[RuntimeError: undersing C/C++ object has been deleted when Saving and then close a pyplot figure](https://stackoverflow.com/questions/11670495/runtimeerror-underlying-c-c-object-has-been-deleted-when-saving-and-afterward)。这表明 pyqt 有问题；显然，这是您的默认后端。

因此，正如该页面上的答案所暗示的，请尝试更改您的后端：

```
import matplotlib as mpl
mpl.use( "agg" ) 
```

由于您只是保存文件，因此您不需要交互式后端。“agg”是一个非交互式的，所以没有带有情节的弹出窗口，你只能保存到磁盘。这可能会解决 RuntimeError。我并没有真正为标签错误而烦恼，尽管我猜您正试图将标签放在实际数据不存在的图上。也许这是未使用的第 6 个地块（因为我在任何地方都看不到第 6 个地块）？

在读取数据时：您现在似乎将下一组数据*附加*到当前数据。那是对的？还是您想更换它？如果更换，只需执行以下操作：

```
Psi = data['Psi'] 
```

等等当然没有for循环。甚至更简单，只有：

```
PsiPlot.set_data(data['X'], data['Psi']) 
```

如果您要追加，那就有点棘手了，但我猜您可以执行以下操作。首先，初始分配需要是 numpy 数组（再次仅显示 Psi）：

```
Psi = nparray([]) 
```

然后，追加变为：

```
Psi = np.concatenate((Psi, data['Psi'])) 
```

（注意双括号。同样，没有 for 循环）。

我注意到你以这种方式得到了 UnboundLocalError 。看起来默认 Python 对象（诸如 [] 之类的列表）会自动在函数中找到，但像 numpy.ndarray（上面的 Psi 是）这样的命名空间对象却不是。因此，在 UpdatePlot 开始时，您需要：

```
global X, Psi, Ec, Ev, n, p 
```

这样 Python 就可以找到要附加到的正确对象。

最后，您提到您不想要`mencoder`or`ffmpeg`依赖项，但在后台`matplotlib.animation.save()`调用这些程序。例如，我试图运行你的脚本并得到一个 RuntimeError，因为`ffmpeg`我的系统上没有安装。因此，在尝试在其他地方运行此代码时请注意这一点。我不知道只有 Python 的 mpeg 编码器。

(*) 事实上，你可能也可以。我猜您对整个过程和 Python 脚本感到非常沮丧，这意味着您没有将问题分解为错误和其他细节，因为您提到了几个问题。这可能没问题，但像往常一样，它会分散实际问题的注意力。

# c#-4.0 - 如何在if条件下检查字符串变量？

> ID：11716200
> 
> 赞同：-1
> 
> 时间：2012-07-30T06:12:34.323
> 
> 标签：c#-4.0

我有字符串变量，这里如何动态检查名称，因为字符串名称的值是动态的。

```
string name;
if(studentname==.............)          
{

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:03:36.253

```
 String name; 
    if(studentname==name) {

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:17:06.603

您可以使用

```
String.Compare（姓名，学生姓名）
```

[资源](http://msdn.microsoft.com/en-us/library/fbh501kz%28v=vs.80%29.aspx)

# winapi - 完成后如何从 DLL 中从目标进程中卸载注入的 DLL？

> ID：11716204
> 
> 赞同：3
> 
> 时间：2012-07-30T06:12:54.827
> 
> 标签：winapi, visual-c++, dll, dll-injection

我有一个使用 CreateRemoteThread/LoadLibrary 方法注入自身的 DLL。

在调试和开发DLL时退出目标应用程序并重新启动它很麻烦（它的加载时间为10-20秒），所以我想在检查我的代码是否有效后卸载DLL，重新编译/重新注入它。

我想避免使用用于加载和卸载所述 DLL 的框架创建新的 DLL。

这怎么可能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T14:10:45.303

在[DllMain](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682583%28v=vs.85%29.aspx)产生一个线程的情况下，并且当该线程完成它正在做的任何事情时，您可以使用[FreeLibraryAndExitThread](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683153%28v=vs.85%29.aspx)：

> FreeLibraryAndExitThread 函数允许在 DLL 中执行的线程安全地释放它们正在执行的 DLL 并自行终止。**如果他们分别调用 FreeLibrary 和 ExitThread，就会存在竞争条件。可以在调用 ExitThread 之前卸载库。**

从那句话中，我用简单的英语声明你不应该**在 DllMain 中调用这个函数**。

# android - 为什么 android 应用程序在市场上发布后大小会增加？

> ID：11716212
> 
> 赞同：3
> 
> 时间：2012-07-30T06:13:55.007
> 
> 标签：android, size, google-play, apk

我最近在 android 市场上发布了我的应用程序。它显示应用程序大小为 5.4MB，而实际 apk 大小为 2.8MB。为什么它显示2MB额外？我应该怎么做才能限制我的应用程序大小？请帮我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T06:16:21.083

您的应用程序大小会增加，因为您`ON`在发布选项中使用了复制保护选项。**市场需要额外的空间来存储这些安全相关信息。**

> 有助于防止从设备复制此应用程序。增加安装应用程序所需的手机内存量。

# php - PHP：“调用未定义的方法”......但方法已定义？

> ID：11716213
> 
> 赞同：3
> 
> 时间：2012-07-30T06:13:55.953
> 
> 标签：php, inheritance, static, abstract-class

我有一个类 Database.php，它是一个抽象的 Singleton 类：

```
<?php

abstract class Database
{
    protected static $_instance;
    ...

    public static function instance()
    {
        $class = get_called_class();

        if (!self::$_instance) {
            self::$_instance = new $class();
        }

        return self::$_instance;
    }
}

?> 
```

其他数据库扩展了这个类并实现了抽象函数，这样我就可以改变我使用的数据库，同时确保我的应用程序只要它使用这个抽象层中的函数仍然可以工作（我已经省略了上面的函数定义代码）。

我在 PDO.php 中有一个 PDO 类。它扩展了数据库，还包括`instance()`与上述相同的功能，但它没有自己的`$_instance`变量。

```
class PDO extends Database
{
    //...

    public static function instance()
    {
        $class = get_called_class();

        if (!self::$_instance) {
                self::$_instance = new $class();
        }

        return self::$_instance;
    }
} 
```

最初我认为我不必`instance()`在 PDO 类中包含该函数，因为它继承自 Database。但我把它包括在内是因为我收到了这个错误：

`Fatal error: Call to undefined method PDO::instance()`

问题是即使使用上面的代码，我仍然会收到此错误。我不知道这是否相关，但我遇到了另一个奇怪的错误。我要使用的数据库类型（在本例中为 PDO）存储在一个可通过`App::setting('DB')`. 我的 MVC 框架中的 Model 基类加载适当的数据库类并将其存储在`$this->_db`. 这是模型的代码：

```
<?php

require_once 'Databases/Database.php';

class Model
{
    protected $_db;

    public function __construct()
    {
        $database = App::setting('DB'); // 'PDO' 
        require_once 'Databases/' . $database . '.php';
        $this->_db = $database::instance(); // this is what triggers the error
    }
}

?> 
```

现在这段代码给了我一个错误，我无法重新声明 PDO 类。我在网上搜索，发现问题通常与使用`include()`而不是`require_once()`. 我到处检查，我的 Autoloader 没有看到任何`include()`. 即使`require_once()`在上面的模型中，它仍然给我错误（这是我唯一需要 PDO 类的地方......）。

为了解决这个错误，我使用了一个创可贴解决方案，我将 Model 构造函数中的 require 替换为：

```
if (!class_exists($database)) {
    require_once 'Databases/' . $database . '.php';
} 
```

谁能解释这里发生了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-30T06:20:18.160

类名`PDO`是 PHP 的标准类，因此使用包含类的解决方案`PDO`实际上永远不会包含您的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:48:43.057

我建议使用自动加载。它会让你的生活更简单，你可以摆脱所有这些`require`电话。

[PHP手册](http://www.php.net/manual/en/function.spl-autoload-register.php)中有一个实现，我发现它非常有用。它可能看起来像这样：

```
function my_autoloader($class) {
    include 'classes/' . $class . '.class.php';
}

spl_autoload_register('my_autoloader');

// Or, using an anonymous function as of PHP 5.3.0
spl_autoload_register(function ($class) {
    include 'classes/' . $class . '.class.php';
}); 
```

如果您使用的是 PHP 5.3，还可以考虑使用命名空间。拥有一个良好的结构和默认实现的简单自动加载器实际上更容易：

```
spl_autoload_extensions(".php"); // comma-separated list
spl_autoload_register(); 
```

但是，我记得那里有一个错误。通常我有一个“引导”文件，带有这个自动加载器：

```
spl_autoload_register(function($class) {
    if(file_exists('./lib/' . str_replace('\\', '/', $class) . '.php')) {
        require_once './lib/' . str_replace('\\', '/', $class) . '.php';
    }
}); 
```

使用此机制，您将拥有一个模仿命名空间结构的文件夹结构。使用这种方法，您有一个良好的结构，并且不需要关心包含您的库和其他类。

# android - 使用 LruCache 缓存图像

> ID：11716214
> 
> 赞同：2
> 
> 时间：2012-07-30T06:13:58.743
> 
> 标签：android, android-lru-cache

我正在尝试在 android 中使用 LruCache 来缓存一些图像，但它没有缓存

这是代码

```
 int cacheSize1 = 4 * 1024 * 1024; // 4MiB
    bitmapCache = new LruCache(cacheSize1) {
        protected int sizeOf(String key, Bitmap value) {
            return value.getRowBytes() * value.getHeight();

    }}; 
```

这里是它的其他方法

```
 public void addBitmapToMemoryCache(String key, Bitmap bitmap) {
    if (getBitmapFromMemCache(key) == null) {
        bitmapCache.put(key, bitmap);
    }
}
    public Bitmap getBitmapFromMemCache(String key) {
    Bitmap b = (Bitmap)bitmapCache.get(key);
    return b;
} 
```

我在这里使用它们这是我的代码

```
for (int i = 0; i < HomeActivity.globalObj.categoriesList.size(); i++) {
            ImageView iv = new ImageView(getApplicationContext());
            Bitmap bb = getBitmapFromMemCache(HomeActivity.globalObj.categoriesList.get(i).name);
            if (bb != null) {
                iv.setImageBitmap(bb);
                imageViewList.add(iv);
            }
            else{
            Bitmap b = getImageBitmap(HomeActivity.globalObj.categoriesList.get(i).large_image);
            addBitmapToMemoryCache(HomeActivity.globalObj.categoriesList.get(i).name, b);
            iv.setImageBitmap(b);
            imageViewList.add(iv);

            }

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:21:19.393

参考这个[项目](http://code.google.com/p/iogallery/)，它是一个谷歌 I/O 示例项目来解释如何使用`LRU Cache`。

# entity-framework - IValidatableObject 的 Validate 方法期间的延迟加载问题

> ID：11716216
> 
> 赞同：2
> 
> 时间：2012-07-30T06:14:06.077
> 
> 标签：entity-framework, lazy-loading, navigational-properties

我正在使用 EF4.3、POCO、延迟加载和 IValidatableObject 接口。

我有一个与合同实体有 1-1 关系的贷款实体。合同包含一堆数据，除非需要，否则最好不要加载。

我的问题是......当我对我的贷款实体进行更改时，它的 Validate 方法旨在加载相关的合同实体，以确保其数据根据贷款的状态（或状态）有效......但合同导航属性仍然为空？如果我在调用 SaveChanges 之前立即快速查看贷款，则会加载合同数据并且 SaveChanges 会正常进行，否则会失败。

如果有人能够解释为什么我会看到这种行为，我将不胜感激。

干杯

克雷格

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T08:22:36.000

在验证期间，延迟加载被设计（内部 EF 实现）关闭，以避免对数据库的意外查询。如果您的验证逻辑需要相关实体，您的代码应该加载它。

# jquery - Jquery Modal Popup 显示在屏幕中心

> ID：11716218
> 
> 赞同：0
> 
> 时间：2012-07-30T06:14:06.757
> 
> 标签：jquery, asp.net-mvc-3

我正在使用以下 jquery 代码在单击 MVC 3 中的操作时打开模式弹出窗口。

**行动**

```
@Html.ActionLink("Change", "Settings", "Account", null, new { @class = "openDialog", data_dialog_id = "newPostDialog", data_dialog_title = "Change" }) 
```

**jQuery**

```
 $(document).ready(function () {
        $(".openDialog").live("click", function (e) {
            e.preventDefault();

            $("<div></div>")
                .addClass("dialog")
                .attr("id", $(this)
                .attr("data-dialog-id"))
                .appendTo("body")
                .dialog({
                    title: $(this).attr("data-dialog-title"),
                    close: function () { $(this).remove() },
                    modal: true,
                    width:1020

                })
                .load(this.href);
        });

        $(".close").live("click", function (e) {
            e.preventDefault();
            $(this).closest(".dialog").dialog("close");
        });
    }); 
```

**问题**

我无法将模态弹出窗口定位在屏幕中央或与屏幕顶部对齐。

我试过这个，但没有用。

```
dialog({
            title: $(this).attr("data-dialog-title"),
            close: function () { $(this).remove() },
            modal: true,
            width:1020,
            top:0,
            left:10

        }) 
```

作为 jquery 的一个天真者，我无法找到解决方案。谁能指导我得到这个。

自动添加默认样式`style=display: block; z-index: 1002; outline: 0px none; position: absolute; height: auto; width: 1020px; top: 394px; left: 439px;`，我只想更改`top`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:55:09.317

奇怪地添加了一个`height`值就可以了，这就是我用过的

```
$(document).ready(function () {
    $(".openDialog").live("click", function (e) {
        e.preventDefault();

        $("<div></div>")
            .addClass("dialog")
            .attr("id", $(this)
            .attr("data-dialog-id"))
            .appendTo("body")
            .dialog({
                title: $(this).attr("data-dialog-title"),
                close: function () { $(this).remove() },
                modal: true,
                height:860,
                width:900,
                left:0

            })
            .load(this.href);
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T00:31:40.553

我有一个类似的问题，中心对我不起作用的两个原因......

第一次我没有包含位置 javascript 库/类，所以即使所有代码都是正确的，我不得不手动设置高度，直到我意识到`jquery.ui.position`缺少

在我整理好之后，它正确居中，但是页面正在运行，我看不到模式，发生的事情是我的链接将页面重定向到自身并向上滚动，`return false;`在函数的末尾添加`dialog{}`解决了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:22:58.020

打开后尝试定位。

```
dialog({
            title: $(this).attr("data-dialog-title"),
            close: function () { $(this).remove() },
            open: function () {$( ".selector" ).dialog( "option", "position", "center" );},
            modal: true,
            width:1020,
            top:0,
            left:10

        }) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:23:33.490

你可以用一点 CSS 来解决这个问题。

让我们假设您的 HTML 的结构类似于以下内容：

`<div id="modal-container"><div id="modal-dialog"></div></div>`

```
#modal-container { position: fixed; width: 100%; height: 100%; }
#modal-dialog { width: 1020px; margin: auto; } 
```

本质上，您只需要一个`position: fixed`位于 HTML 文档正文根下方的容器。这样，容器的宽度和高度将等于窗口的宽度和高度。在其中，设置`margin: auto`对话框的宽度和将确保它水平居中，因为它会根据整个窗口的宽度自动设置其边距。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T09:54:43.813

亚瑟，

我确定只有两个属性缺失：

```
.dialog({
    title: $(this).attr("data-dialog-title"),
    close: function() { $(this).remove() },
    modal: true,
    width: 1020,
    height: 800,
    position: 'center'
}); 
```

我认为应该工作。

# javascript - 条形图中的条形被弄脏在一起

> ID：11716220
> 
> 赞同：2
> 
> 时间：2012-07-30T06:14:08.317
> 
> 标签：javascript, charts, cross-browser, d3.js, transitions

我正在尝试在 d3 中制作条形图，但是当我在 Chrome 中查看它们时，我的条形图会被弄得一团糟。（它们在 Firefox 或 Safari 中看起来不错。）

例如，它们看起来像这样：

![在此处输入图像描述](../Images/c66598b2507359e8cc6739a01709ec88.png)

当酒吧之间真的应该有一些空白时。

奇怪的是，我什[至在官方 d3 教程中](http://mbostock.github.com/d3/tutorial/bar-1.html)也看到了这一点，但仅在某些条形图上——该页面上的第一个和第四个条形图具有正确的间距量，但第二个和第三个条形图像图表一样被弄脏以上。

对此有什么解决方法，以便条形图在 Chrome 中正确显示？该页面上的第一个和第四个条形图有什么特别之处？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-31T15:47:16.030

使用基于浏览器的缩放时可能会发生这种情况，因为缩小时单个像素间隙可能会塌陷。

在 Chrome 中，您需要选择“查看 → 实际大小”或按 Ctrl/⌘-0，这应该可以修复它。

# macos - 用本机 OSX 库替换 OpenSSL

> ID：11716221
> 
> 赞同：1
> 
> 时间：2012-07-30T06:14:10.557
> 
> 标签：macos, openssl, osx-lion, commoncrypto

在我们现有的与 OpenSSL 紧密耦合的应用程序中，我们希望使用 OSX 原生加密库。与此相关，我有以下问题：

1.  我相信 OpenSSL 做了两件工作，一是确保传输层的安全，二是负责发送和接收数据。在阅读了几篇博客和文档时，我得出的结论是，我需要使用 CommonCrypto 和 NSStream，其中 CommonCrypto 用于加密和解密，而 NSStream 将用于发送和接收数据。如果这听起来不对，请纠正我。

2.  使用 NSStream 似乎是非阻塞框架，而我们现有的应用程序将受益于阻塞机制。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T04:24:34.143

谢谢你看，

[安全传输参考](https://developer.apple.com/library/mac/#documentation/security/Reference/secureTransportRef/Reference/reference.html)是研究它的关键......

# linux - DNS 错误列表

> ID：11716228
> 
> 赞同：1
> 
> 时间：2012-07-30T06:15:09.423
> 
> 标签：linux, networking, dns, ip

我在linux系统中工作。

当 DNS 不存在、DNS 没有响应、DNS 无法解析名称时，是否可能收到任何错误报告？

如果有可能检测到不同的错误？

从哪里可以获得可以使用 DNS (Linux) 获得的错误列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:29:33.573

如果您在 Linux 中使用*命名，您可以通过运行启用日志记录*

```
rndc querylog 
```

之后，您应该检查系统日志文件（/var/log/messages 或 /var/log/syslog）中的消息。要禁用日志记录，请再次运行该命令。

# c#-4.0 - 是否可以使用自定义类型属性的内容创建果园自动路由？

> ID：11716230
> 
> 赞同：2
> 
> 时间：2012-07-30T06:15:19.987
> 
> 标签：c#-4.0, orchardcms, routes, permalinks

我有一个 Orchard cms 模块，其中设置了一些额外的内容类型，并通过代码添加了一个 AutoRoute 组件。一切都很完美，但是我对默认的永久链接模式不满意。

我想要做的是添加一个自定义模式并在我的内容类型中使用其中一个公共属性。在我的例子中，自定义类型有一个名为 ClubName 的公共属性，我希望使用它（从路由的角度来看更有意义）。
Orchard 部分类名称称为`TrackPart`。

我尝试过`{Content.TrackPart.ClubName}`, `{Content.Track.ClubName}`,和各种其他变体`{ContentItem.TrackPart.ClubName}`，`{Content.TrackPart.ClubName}`但似乎没有任何效果。

我对果园很陌生，所以我很可能会错过一些简单的东西。
任何帮助将不胜感激。

为了响应@Bertrand-le-roy 的反馈，我通过复制示例令牌创建了自己的令牌。我现在可以在下拉菜单中看到令牌并选择它。但是路由模式仍然不起作用。

我只能假设我误解了 Evaluate() 函数的`context.For`用法。看起来我没有得到我需要的数据

这是我到目前为止所拥有的。

`public class TrackPartTokens : ITokenProvider { private readonly IContentManager _contentManager;`

 ````
 public TrackPartTokens(IContentManager contentManager) {
        _contentManager = contentManager;
    }

    public Localizer T { get; set; }

    public void Describe(dynamic context) {
        context.For("Track", T("Track"), T("Tokens for Track"))
            .Token("ClubName", T("ClubName"), T("The name of the club."))
            ;
    }

    public void Evaluate(dynamic context) {
        context.For<TrackPart>("Track")
            .Token("ClubName", (Func<TrackPart, object>)(field => field.ClubName))
            .Chain("ClubName", "ClubName", (Func<TrackPart, object>)(field =>field.ClubName))
            ;
    }</code> 
```

The above code was based on the DateTimeField token inside the Orchard.Fields module.` 

`context.For("DateTimeField") .Token("Date", (Func)(field => field.DateTime)) .Chain("Date", "Date", (Func)(field => field.DateTime));`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-14T12:40:38.853

我遇到过同样的问题。

经过一些故障排除后，我设法通过将实现更改为以下内容来使自动路由正常工作（适应您的示例，请注意您的设置可能需要对 linq-function 进行一些更改）：

在您的令牌类中：

*   首先添加一个 using System.Linq 语句。
*   然后将您的 Evaluate 实现更改为以下内容：

    ```
    context.For<IContent>("Content")
           .Token("ClubName", (Func<IContent>, object>)(content => 
                content.ContentItem.Parts.OfType<TrackPart>().First().ClubName)); 
    ```

*   确保 Migrations.cs 中的 AutoroutePart 设置使用内容前缀。喜欢：

    ```
    .WithPart("AutoroutePart", partBuilder =>
        partBuilder
        .WithSetting("AutorouteSettings.AllowCustomPattern", "true")
        .WithSetting("AutorouteSettings.AutomaticAdjustmentOnEdit", "false")
        .WithSetting("AutorouteSettings.PatternDefinitions",
        @"[{Name:'Track', Pattern:'{Content.ClubName}', 
            Description:'Your description'}]")
        .WithSetting("AutorouteSettings.DefaultPatternIndex", "0")) 
    ```

Orchard 源中的 TokenManager 类似乎存在一些问题，它只允许目标参数等于“内容”以便调用：_data.TryGetValue(target, out value) 起作用（TokenManager.cs，第 67 行）。我尝试了许多不同的设置，但 _data-dictionary 始终只包含“内容”键。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T18:56:50.390

您必须制作自己的令牌。这真的很容易。复制一个工作示例。

# javascript - 无法在 Javascript 中获取文本框值

> ID：11716233
> 
> 赞同：0
> 
> 时间：2012-07-30T06:15:51.140
> 
> 标签：javascript, jquery, asp.net

我正在使用 Jquery Tokeninput 来选择多个值，但是当我尝试在文本框中选择值时，它总是空白我在 Jquery 函数下面使用来检索 val。请参考我之前关于堆栈的问题[Here](https://stackoverflow.com/questions/11613194/how-to-send-json-data-from-aspx-page)

```
 var values = $("#txtTest").val();
        $("#Button1").click(function() {
          alert(values);
            return false;
        }); 
```

请找到屏幕截图或相同的。

![在此处输入图像描述](../Images/0a6d026c48221ae7bb318de64955f9fa.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:18:11.610

采用

var values = $("#txtTest").attr('value');

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:19:54.197

文本框实际上并不是保存选择的列表

```
 $("#Button1").click(function() {
      var txt = '';
      $("#txtTest").prev('ul').find('li:not(:last-child)').each(function(){
          txt += $(this).text()+ " ";
      });
      //alert(val());
      alert(txt);
        return false;
    }); 
```

编辑

这只是获得您想要的东西的技巧，但库有一种方法来获取列表中的值[`selector.tokenInput("get");`](http://loopj.com/jquery-tokeninput/#methods)

```
 $("#Button1").click(function() {
      var txt = '';
      $.each($("#txtTest").tokenInput('get'), function(){
          txt += this.id + " " + this.name;
      });
      //alert(val());
      alert(txt);
        return false;
    }); 
```

# java-me - 如何在 j2me (java) 中创建屏幕选项卡

> ID：11716235
> 
> 赞同：1
> 
> 时间：2012-07-30T06:16:14.977
> 
> 标签：java-me, midp-2.0

我有一个要求将我的屏幕创建为屏幕选项卡，当点击 tab1 时，应该显示与 Tab1 相关的列表屏幕，当点击 tab2 时，应该显示与 tab2 相关的列表屏幕？我们如何在 j2me java 中实现这一点，因为我是新手j2me?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T09:23:13.697

您不能直接在本机 Java ME 代码上执行此操作。对于这样的要求，您有一个外部 GUI 构建器，例如[J2mepolish](http://www.enough.de/products/j2me-polish/)。J2me Polish 使用 CSS 来设计这样的 gui。看看 J2mepolish 的[表格](http://www.enough.de/products/j2me-polish/documentation/lush-ui/visual-guide/gui-screen-tabbedform.html)。

# mysql - 从多列连接到一张表

> ID：11716240
> 
> 赞同：0
> 
> 时间：2012-07-30T06:16:34.883
> 
> 标签：mysql, sql, join

我有一个表格流派链接和其他流派描述，其中有以下列

```
Genere link table :

titleID
GENID1
GENID2
GENID3
GENID4
GENID5

GenereDesscription table

GENID
DESC 
```

我想一键获取Genere Link的所有GENID的Genere deciption ...查询

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:23:16.563

这应该适合你：

```
SELECT titleID,
    b.description AS description1,
    c.description AS description2,
    d.description AS description3,
    e.description AS description4,
    f.description AS description5
FROM Genere a
    LEFT JOIN GenereDesscription b
        ON a.GENID1 = b.GENID
    LEFT JOIN GenereDesscription c
        ON a.GENID2 = c.GENID
    LEFT JOIN GenereDesscription d
        ON a.GENID3 = d.GENID
    LEFT JOIN GenereDesscription e
        ON a.GENID4 = e.GENID
    LEFT JOIN GenereDesscription f
        ON a.GENID5 = f.GENID; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:24:13.550

```
SELECT 
  titleID,
  gdesc1.DESC,
  gdesc2.DESC,
  gdesc3.DESC,
  gdesc4.DESC,
  gdesc5.DESC
FROM 
  genrelink
JOIN 
  GenereDesscription AS gdesc1 ON genrelink.GENID1 = gdesc1.GENID
JOIN 
  GenereDesscription AS gdesc2 ON genrelink.GENID1 = gdesc2.GENID
JOIN 
  GenereDesscription AS gdesc3 ON genrelink.GENID1 = gdesc3.GENID
JOIN 
  GenereDesscription AS gdesc4 ON genrelink.GENID1 = gdesc4.GENID
JOIN 
  GenereDesscription AS gdesc5 ON genrelink.GENID1 = gdesc5.GENID 
```

但应该建议您的模式将从规范化中受益。这是多对多的，应该这样建模：

```
Titles
id

Genres
id
description

titleGenres
titleID
genreID 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:20:55.043

使用多个连接，每个 ID 连接一次。

```
SELECT ...
FROM `Genere link` l
INNER JOIN GenereDesscription d1 ON l.GENID1 = d1.GENID
INNER JOIN GenereDesscription d2 ON l.GENID2 = d2.GENID
INNER JOIN GenereDesscription d3 ON l.GENID3 = d3.GENID
INNER JOIN GenereDesscription d4 ON l.GENID4 = d4.GENID
INNER JOIN GenereDesscription d5 ON l.GENID5 = d5.GENID 
```

# iphone - 如何在 iPhone 中使用 URL 链接播放音乐文件？

> ID：11716244
> 
> 赞同：6
> 
> 时间：2012-07-30T06:16:52.340
> 
> 标签：iphone, objective-c, ios, xcode, avfoundation

我想在 iPhone 中使用 URL Link 播放音乐文件。但是，当我使用下面的代码时，我得到了错误，我没有得到错误的地方。谁能纠正我？

```
-(void)viewDidLoad 

{

[super viewDidLoad];
NSString* resourcePath = @"http://192.167.1.104:8888/SHREYA.mp3"; //your url

NSData *_objectData = [NSData dataWithContentsOfURL:[NSURL URLWithString:resourcePath]];
NSError *error;

audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:_objectData error:&error];
audioPlayer.numberOfLoops = -1;

if (audioPlayer == nil)
    NSLog([error description]);             

else 
    [audioPlayer play];
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-30T07:03:12.440

这应该有效：

```
NSURL *url = [NSURL URLWithString:@"<#Live stream URL#>];

// You may find a test stream at <http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8>.

self.playerItem = [AVPlayerItem playerItemWithURL:url];

//(optional) [playerItem addObserver:self forKeyPath:@"status" options:0 context:&ItemStatusContext];

self.player = [AVPlayer playerWithPlayerItem:playerItem];

self.player = [AVPlayer playerWithURL:<#Live stream URL#>];

//(optional) [player addObserver:self forKeyPath:@"status" options:0 context:&PlayerStatusContext]; 
```

使用以下代码播放音乐：

`[self.player play];`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-09-20T06:20:05.317

尝试以下操作：

```
-(void)viewDidLoad 

{

[super viewDidLoad];
NSString* resourcePath = @"your url"; //your url

NSData *_objectData = [NSData dataWithContentsOfURL:[NSURL URLWithString:resourcePath]];
NSError *error;

audioPlayer = [[AVAudioPlayer alloc] initWithData:_objectData error:&error];
audioPlayer.numberOfLoops = 1;

if (audioPlayer == nil)
    NSLog([error description]);             

else 
    [audioPlayer play]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:19:18.670

试试我的代码：

```
NSURL *filepath = [NSURL fileURLWithPath:audioFilePath];
 [yourMediaPlayer setContentURL:filepath];
  //set player.
  yourMediaPlayer.controlStyle = MPMovieControlStyleNone;
  yourMediaPlayer.currentPlaybackTime = 0;
  yourMediaPlayer.shouldAutoplay = FALSE;

  [yourMediaPlayer play]; 
```

^-^，我在上面的代码中使用 MPMoviePlayerController。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:28:00.693

当前答案：

现在考虑[为什么 AVAudioPlayer initWithContentsOfURL 总是失败，错误代码=-43](https://stackoverflow.com/questions/9462728/ios-why-does-avaudioplayer-initwithcontentsofurl-always-fail-with-error-code)链接。它的解决方案是[avplayer](https://stackoverflow.com/questions/6818254/avplayer-cant-play)链接

较早的答案

```
//You have to pass NSURL not NSData
 NSString* resourcePath = @"http://192.167.1.104:8888/SHREYA.mp3"; //your url
 NSURL *url = [NSURL alloc]initWithString:resourcePath];
 audioPlayer = [[AVAudioPlayer alloc] initWithURL:url error:&error];

 audioPlayer.delegate = self;
 [url release];

 [audioPlayer prepareToPlay];
 [audioPlayer play]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-07T09:11:28.270

我猜你正在发送

```
audioPlayer.numberOfLoops = -1; 
```

接收 NSInvalidArgumentException 将其更改为

```
audioPlayer.numberOfLoops = 1; 
```

[并在此处](https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAudioPlayerClassReference/Reference/Reference.html#//apple_ref/occ/instp/AVAudioPlayer/numberOfLoops)查看苹果的文档

# java - java类初始化解释

> ID：11716247
> 
> 赞同：0
> 
> 时间：2012-07-30T06:16:59.500
> 
> 标签：java

我对 java 有点陌生，如果有人能向我解释以下代码示例，我会很高兴。这只是一个示例 java 代码片段，用于说明。但主要问题是，如果 Learn 类使用也是类 Object 的参数初始化另一个类 Smart ，那么将点类添加到类 Object Sample 对我来说有点混乱。任何解释将不胜感激。如果这是一个基本问题，我深表歉意。谢谢。

```
class Learn {
//some codes 
Smart smart = new Smart(Sample.class);
//some codes
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T06:21:54.120

`Sample`是一个类的名称。它*不是*一个对象。A`new Sample()`是一个对象，其类是`Sample`。 `Sample.class`是一个对象，其类是`java.lang.Class`描述类`Sample`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:34:32.957

我将通过以下方式打破你的例子....

**学习 -**是一个`Class`

**smart -**是一个`Object Reference Variable`type `Smart`，我们可以说 Class Learn 有一个 Smart 类型的引用。

**Sample.class -**是一种获取`Class<T>`特定类型的方法。

**从 Java 文档中提取。**

`During implementation it depends on the Targeting bytecode version. If -target 1.4 (or` `below), a call to Class.forName() is inserted into your code in a static method which is` `called during type initialization. If you use -target 1.5 (or above) the constant pool` `gets a "class" entry`

有关详细信息，请参阅**Java 语言规范的第 15.8.2 节**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:40:14.963

1.  在java中，有一个类叫做“Class”，代表类和接口。
2.  有几种方法可以获取类“Class”的实例。请看一下 java.lang.Class 文件。
    *   Class.forName（字符串类名）
    *   obj.getClass() -obj 是任何类实例
    *   Sample.class -Sample 是一个类
3.  您正在使用第三种方法来获取类“Sample”的实例。

# string - Lua中的反向字符串？

> ID：11716248
> 
> 赞同：3
> 
> 时间：2012-07-30T06:17:02.370
> 
> 标签：string, function, lua, character, reverse

我试图在不使用 string.reverse() 函数的情况下反转 Lua 中的字符串。这是我的代码 -

```
 function reverseStr(s)
   return string.gsub(s, "(.)(.)", "%2%1")
 end 
```

该代码目前仅反转字符串中的前两个字符，我想知道如何使函数反转字符串中的*每个*字符。

abc -- cba bbc -- cbb dka -- akd

谢谢！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-30T06:26:57.483

你不能让 Lua 的模式匹配系统反转一个字符串。您必须编写明显的反转代码（向后迭代字符串，以相反的顺序从字符串构建新表，并使用`table.concat`）或使用`string.reverse`.

# jquery - Jqgrid将参数传递给自定义元素

> ID：11716250
> 
> 赞同：0
> 
> 时间：2012-07-30T06:17:24.963
> 
> 标签：jquery, jquery-ui, jqgrid

我正在使用 Jqgrid 来显示和编辑信息。在我使用自定义元素的列之一中，

```
 editoptions:{custom_element: getcustomElement,
                     custom_value:getCustomValue}, 
```

如何将参数传递给这个 custom_element 函数，比如 getCustomElement(a) ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:18:52.297

你可以检查这个[链接](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules)。它将帮助您了解如何将参数传递给自定义元素。转到`custom`副标题，我认为它会有所帮助。

# java - 将 JForm 的 Controls 的数据显示到 JTable 中

> ID：11716255
> 
> 赞同：1
> 
> 时间：2012-07-30T06:17:45.853
> 
> 标签：java, swing, jtable, desktop-application

我制作了一个应用程序，其中包含 JTextfields、JButtons 的 JForm。当我单击一个按钮时，我想在 JTable 中显示 JTextfield 的数据。我该怎么做有人帮助我。我知道数据库中的数据如何在 JTable 中显示。现在我使用控件..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:24:06.787

在 jButton give 的动作事件中，

```
jTable1.setValueAt(jTextField1.getText(), rowIndex,columnIndex); 
```

希望这可以帮助你..

# javascript - 无法在requirejs中调用另一个模块

> ID：11716256
> 
> 赞同：0
> 
> 时间：2012-07-30T06:17:46.447
> 
> 标签：javascript, requirejs

在下面的代码中，我正在调用`myscript.getNum();`但`myscript.js`抛出一个错误说

> 意外的标记 （

**jloader.js**

```
require(["evtManager","myscript"] , function(evtManager , myscript) {

var el = document.getElementById("Clickarea");
evtManager.addEvent(el , "click" , function(){
    myscript.getNum();
    }); 
}); 
```

**myscript.js** -> 加载`myscript2.js`并调用一个函数`getValue()`

```
define(["myscript2"], function(myscript2) 
{
    getNum : function(){            //Throws an error "Unexpected token (" 
        var x = require("myscript2").getValue();
        return 5 + x;
    }
}); 
```

**myscript2.js**

```
define({
    getValue : function(){
         return 30;
    }
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:53:12.620

您可能希望**myscript.js**返回与此[示例](http://requirejs.org/docs/api.html#defdep)类似的对象。我认为您不需要“myscript2”，因为这已经为您完成了：

```
define(["myscript2"], function(myscript2)
{
    return {
        getNum : function(){
            var x = myscript2.getValue();
            return 5 + x;
        }
    };
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:39:58.547

你的例子，重要的部分：

函数（） { getNum ：函数（）{ } }

那应该如何工作？冒号实际上是完全错误的。您必须使用等号。您可以`var getNum = function()`用于私有方法，也`this.getNum = function()`可以用于公共方法。

# python - Python - 在 __hash__ 方法定义中使用默认的 __hash__ 方法

> ID：11716258
> 
> 赞同：2
> 
> 时间：2012-07-30T06:17:58.767
> 
> 标签：python, methods, hash, magic-methods

我有一个类，我想`__hash__()`为这个类写一个方法。我要编写的方法在某些情况下会返回对象的默认哈希值，而在其他情况下会返回其属性之一的哈希值。所以，作为一个简单的测试用例：

```
class Foo:
    def __init__(self, bar):
        self.bar = bar
    def __hash__(self):
        if self.bar < 10:
            return hash(self) # <- this line doesn't work
        else:
            return hash(self.bar) 
```

这样做的问题是`hash(self)`简单地调用`self.__hash__()`，导致无限递归。

我收集到一个对象的哈希值是基于`id()`该对象的，所以我可以重写`return hash(self)`为`return id(self)`, 或`return id(self) / 16`，但是在我自己的代码中重新创建默认实现对我来说似乎是一种不好的形式。

我还想到我可以将它重写为`return object.__hash__(self)`. 这可行，但似乎更糟，因为不打算直接调用特殊方法。

所以，我要问的是；有没有办法使用对象的默认哈希而不隐式调用该`__hash__()`对象是其实例的类的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T06:22:20.560

要调用父实现，请使用：

```
super(Foo, self).__hash__() 
```

> 我还想到我可以将它重写为`return object.__hash__(self)`. 这可行，但似乎更糟，因为不打算直接调用特殊方法。

您正在覆盖一个魔术方法，因此可以直接调用父级的实现。

# javascript - iPhone AVPlayer 从 PhoneGap 中的远程 URL 流式传输

> ID：11716259
> 
> 赞同：0
> 
> 时间：2012-07-30T06:18:02.593
> 
> 标签：javascript, iphone, objective-c, cordova

我们正在使用用 Obj-C 编写的 PhoneGap 插件从 iPhone 应用程序中的远程 URL 获取音频流。出于某种原因，它不是通过扬声器播放音频，而是通过耳机播放。我们尝试过使用 AVAudioPlayer，但没有成功。我需要在某处设置音频输出吗？

```
--CharStream.m--

#import "CharStream.h"
#import "AppDelegate.h"

@implementation CharStream

-(CDVPlugin*) initWithWebView:(UIWebView*)theWebView {
    self = (CharStream*)[super initWithWebView:theWebView];
    return self;
}

-(void) loadPlaylist:(NSArray*)arguments withDict:(NSMutableDictionary *)options {
    //currentSong = 0;
    //playlist = [[arguments objectAtIndex:currentSong] objectFromJSONString];
    item = [[AVPlayerItem playerItemWithURL:[NSURL URLWithString:@"http://music.clayfreeman.com/music/Hybrid%20Minds%20-%20Inner%20Beauty.m4a"]] retain];
    [item addObserver:self forKeyPath:@"playbackBufferEmpty" options:0 context:nil];
    [item addObserver:self forKeyPath:@"status" options:0 context:nil];
    player = [[AVPlayer alloc] initWithPlayerItem:item];
    [player addObserver:self forKeyPath:@"status" options:0 context:nil];
    NSLog(@"Loading song.");
}

-(void) play:(NSArray*)arguments withDict:(NSMutableDictionary *)options {
    [self play];
}

-(void) play {
    [player play];
}

-(void) pause:(NSArray*)arguments withDict:(NSMutableDictionary *)options {
    [player pause];
}

-(void) nextSong:(NSArray*)arguments withDict:(NSMutableDictionary *)options {
    [self nextSong];
}

-(void) nextSong {
    currentSong++;
    item = [[AVPlayerItem playerItemWithURL:[NSURL URLWithString:[playlist objectAtIndex:currentSong]]] retain];
    [item addObserver:self forKeyPath:@"status" options:0 context:nil];
    [item addObserver:self forKeyPath:@"playbackBufferEmpty" options:0 context:nil];
    player = [AVPlayer playerWithPlayerItem:item];
}

-(void) observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {
    if ([object isKindOfClass:[AVPlayerItem class]]) {
        AVPlayerItem* changedItem = (AVPlayerItem *)object;
        if ([keyPath isEqualToString:@"playbackBufferEmpty"]) {
            [item removeObserver:self forKeyPath:@"playbackBufferEmpty"];
            [self nextSong];
            NSLog(@"Song over. Moving to next item.");
        } else if ([keyPath isEqualToString:@"status"]) {
            if (changedItem.status == AVPlayerItemStatusFailed) {
                [item removeObserver:self forKeyPath:@"status"];
                [self nextSong];
                NSLog(@"Item failed. :( Moving to next item.");
            } /*else if (changedItem.status == AVPlayerItemStatusReadyToPlay) {
                [self play];
                NSLog(@"Item is ready to play.");
            }*/
        }
    } else if ([object isKindOfClass:[AVPlayer class]]) {
        AVPlayer* playerLol = (AVPlayer *) object;
        if ([keyPath isEqualToString:@"status"]) {
            if (playerLol.status == AVPlayerStatusReadyToPlay) {
                [self play];
            }
        }
    }
}

@end

--CharStream.h--

#import <AVFoundation/AVFoundation.h>

#ifdef CORDOVA_FRAMEWORK
#import <Cordova/CDVPlugin.h>
#else
#import "CDVPlugin.h"
#endif

@interface CharStream : CDVPlugin {
    NSMutableArray* playlist;
    AVPlayerItem* item;
    int currentSong;
    AVPlayer* player;
}

-(CDVPlugin*) initWithWebView:(UIWebView*)theWebView;
-(void)loadPlaylist:(NSArray*)arguments withDict:(NSMutableDictionary*)options;
-(void)pause:(NSArray*)arguments withDict:(NSMutableDictionary*)options;
-(void)play:(NSArray*)arguments withDict:(NSMutableDictionary*)options;
-(void)play;
-(void)nextSong:(NSArray*)arguments withDict:(NSMutableDictionary*)options;
-(void)nextSong;

@end

--CharStream.js--
function CharStream() {
    this.init = true;
};

CharStream.prototype.loadPlaylist = function(array, options) {
    Cordova.exec("CharStream.loadPlaylist", array, options);
};

CharStream.prototype.pause = function(options) {
    Cordova.exec("CharStream.pause", options);
};

CharStream.prototype.play = function(options) {
    Cordova.exec("CharStream.play", options);
};

CharStream.prototype.nextSong = function(options) {
    Cordova.exec("CharStream.nextSong", options);
};

Cordova.addConstructor(function() 
{
    if(!window.plugins)
    {
        window.plugins = {};
    }
    window.plugins.CharStream = new CharStream();

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-28T14:01:41.490

设置音频会话很重要，如下所示：

```
AVAudioSession *audioSession = [AVAudioSession sharedInstance];
BOOL ok;
NSError *setCategoryError = nil;
ok = [audioSession setCategory:AVAudioSessionCategoryPlayback
                         error:&setCategoryError];
if (!ok) {
  NSLog(@"%s setCategoryError=%@", __PRETTY_FUNCTION__,
        setCategoryError);
  return;
}
NSError *activationError = nil;
ok = [audioSession setActive:YES error:&activationError];
if (!ok) {
  NSLog(@"%s activationError=%@", __PRETTY_FUNCTION__,
             activationError);
  return;
}
// The audio session is OK and ready for playback. 
```

# android - 创建双向通信的更好方法

> ID：11716261
> 
> 赞同：0
> 
> 时间：2012-07-30T06:18:12.360
> 
> 标签：android, tcp, bidirectional

我最近在 Android 3.2 上做了一个项目，通过 TCP 连接将字符串发送到我的 PC 中的服务器。我必须做一个线程来实现这一点，这是我在 Java 程序中不必做的事情。我也使用了该方法，但是除了创建套接字连接`AsyncTask`的函数之外，我无法使用其他函数发送信息。`doInBackground`

为了发送字符串，我在`doInBackground`函数中创建了一个循环，因此它一直在等待接收要发送到计算机的新消息。问题是我无法进行双向通信。在这个项目之后，我继续尝试使用其中的函数之外的其他函数发送字符串`doInBackground`。最后，我能够成功使用 Android 1.6。

遗憾的是，由于需要线程，并且您需要在创建套接字连接的同一函数中发送消息，因此无法在高级版本的 Android 中使用此方法，这很遗憾。

我想知道在较新版本的 Android 中是否有更好的方法来执行双工操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:13:41.230

您可以`Thread`在任何 android 版本中使用 s。

做你想做的事的正确方法是创建一个`Service`（[http://developer.android.com/reference/android/app/Service.html](http://developer.android.com/reference/android/app/Service.html) ）并在发送和接收数据中使用单独`Thread`的 s 。`Service`

# algorithm - wget简历算法

> ID：11716262
> 
> 赞同：4
> 
> 时间：2012-07-30T06:18:15.493
> 
> 标签：algorithm, wget, resume

我注意到恢复中断的下载`wget -c`非常快速且非常可靠。

是否`wget`使用任何算法来恢复下载，还是只是比较大小并附加到现有文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T06:25:04.380

这个答案有帮助吗？

[http://www.ale.org/pipermail/ale/2005-November/082061.html](http://www.ale.org/pipermail/ale/2005-November/082061.html)

> Wget 查看文件大小并假设检索应该从下载文件段末尾之后的下一个字节继续。Wget 然后向服务器发送一个 http 'range' 标头字段，告诉它在哪里重新开始检索。

# c# - Linq to XML XElement 解析未知命名空间

> ID：11716264
> 
> 赞同：1
> 
> 时间：2012-07-30T06:18:24.620
> 
> 标签：c#, linq-to-xml

我有一个 XML 文档。例如这个：

```
<Root xmlns:x="anynamespace" xmlns:html="htmlnamespace">
   <x:Data>bla bla</x:Data>
</Root> 
```

在这里，我得到了 html 命名空间来格式化数据。但是元素的值可以是例如
`<html:Font ...>bla bla</html:Font>` 或
`bla <html:Font ...>bla</htmk:Font>`

在我的 C# 代码中，我这样做：
`new XElement(main + "Data",myvalue); //main is namespace`
结果，我得到`<x:Data>&lt;html:Font ...&gt;bla bla etc.`Linq 用它们的文本代码替换了关键标签。所以这是不可接受的。

然后我尝试了这个：`new XElement(main + "Data",XElement.Parse(myvalue));`
我得到了前缀 html 无法识别的异常。

有没有人遇到过这样的问题？你是怎么解决的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T12:30:57.673

通常您不会从字符串构造内容，而是简单地使用 LINQ to XML 构造节点，例如

```
 XElement foo = XElement.Parse(@"<foo xmlns=""http://example.com/ns1"" xmlns:html=""http://example.com/html"">
  <bar>bar 1</bar>
</foo>");
            foo.Add(new XElement(foo.GetNamespaceOfPrefix("html") + "p", "Test"));

            Console.WriteLine(foo); 
```

创建 XML

```
<foo xmlns="http://example.com/ns1" xmlns:html="http://example.com/html">
  <bar>bar 1</bar>
  <html:p>Test</html:p>
</foo> 
```

如果您想解析作为字符串给出的片段，那么以下方法可能会有所帮助：

```
 public static void AddWithContext(this XElement element, string fragment)
        {
            XmlNameTable nt = new NameTable();
            XmlNamespaceManager mgr = new XmlNamespaceManager(nt);

            IDictionary<string, string> inScopeNamespaces = element.CreateNavigator().GetNamespacesInScope(XmlNamespaceScope.ExcludeXml);

            foreach (string prefix in inScopeNamespaces.Keys)
            {
                mgr.AddNamespace(prefix, inScopeNamespaces[prefix]);
            }

            using (XmlWriter xw = element.CreateWriter())
            {
                using (StringReader sr = new StringReader(fragment))
                {
                    using (XmlReader xr = XmlReader.Create(sr, new XmlReaderSettings() { ConformanceLevel = ConformanceLevel.Fragment }, new XmlParserContext(nt, mgr, xw.XmlLang, xw.XmlSpace)))
                    {
                        xw.WriteNode(xr, false);
                    }
                }
                xw.Close();
            }
        }
    }

    class Program
    {
        static void Main()
        {
            XElement foo = XElement.Parse(@"<foo xmlns=""http://example.com/ns1"" xmlns:html=""http://example.com/html"">
  <bar>bar 1</bar>
</foo>");
            foo.Add(new XElement(foo.GetNamespaceOfPrefix("html") + "p", "Test"));

            Console.WriteLine(foo);
            Console.WriteLine();

            foo.AddWithContext("<html:p>Test 2.</html:p><bar>bar 2</bar><html:b>Test 3.</html:b>");

            foo.Save(Console.Out, SaveOptions.OmitDuplicateNamespaces);

        } 
```

这样我得到

```
<foo xmlns="http://example.com/ns1" xmlns:html="http://example.com/html">
  <bar>bar 1</bar>
  <html:p>Test</html:p>
  <html:p>Test 2.</html:p>
  <bar>bar 2</bar>
  <html:b>Test 3.</html:b>
</foo> 
```

# ruby-on-rails - 如何在rails中设置自引用多态关系？

> ID：11716265
> 
> 赞同：0
> 
> 时间：2012-07-30T06:18:32.433
> 
> 标签：ruby-on-rails, ruby-on-rails-3, polymorphism

我有 3 个模型

*   `User`
*   `Journal`
*   `Post`

关于这些可以假设几件事

*   `User has_many :journals`
*   `Journal has_many :posts`

我希望用户能够**订阅**我网站上的其他用户和特定期刊。

我在想我需要一个`Subscription`看起来像这样的多态模型

```
class CreateSubscriptions < ActiveRecord::Migration
  def change
    create_table :subscriptions do |t|
      t.integer :user_id
      t.references :subscribable, :polymorphic=>true
      t.timestamps
    end
  end
end 
```

但这就是我卡住的地方。我不知道如何在我的`User`模型中设置多态关系。

## 我希望能够得到以下东西：

*   `@user.watched_users`
*   `@user.watched_journals`
*   `@user.followers`
*   `@journal.followers`

有人可以帮忙吗？文档在这方面很少见，我知道这些设置起来可能很麻烦。

^_^

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:47:24.843

虽然我理解希望让用户订阅任意对象的愿望，但实际上，您最终会以不同的方式处理这些不同的订阅，所以至少现在（直到您发现自己想要订阅站点），只需将它们分开（YAGNI）。

您可以通过每个关系的简单连接表来完成此操作。[关于如何在 ActiveRecord 中进行自反自连接关系](https://stackoverflow.com/questions/1034411/how-do-i-do-reflexive-self-join-relationships-in-activerecord)的答案？[在http://railscasts.com/episodes/163-self-referential-association](http://railscasts.com/episodes/163-self-referential-association)中引出了一个很好的例子

# javascript - 在 Javascript 中声明数组时，最好遵循哪一个？

> ID：11716266
> 
> 赞同：5
> 
> 时间：2012-07-30T06:18:37.230
> 
> 标签：javascript, arrays, web-applications

> **可能重复：**
> [在 JavaScript 中使用 {} 或 new Object() 创建一个空对象？](https://stackoverflow.com/questions/251402/create-an-empty-object-in-javascript-with-or-new-object)

当我想声明一个新数组时，我使用这个符号

```
var arr = new Array(); 
```

但是当在线测试时，例如在 jsbin 上，一个警告信号告诉我“使用数组文字符号 []”。

我没有找到避免使用构造函数的理由。在某种程度上比使用效率低`[]`吗？或者这是不好的做法？

是否有充分的理由使用`var arr = [];`而不是`var arr = new Array();`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-30T06:20:13.637

`[]`是：

*   更短
*   更清晰
*   不受制于`new Array(3)`和`new Array(3,3)`做完全不同的事情
*   不能被覆盖。

示例代码：

```
var a = new Array(3);
var b = new Array(3,3);
Array = function () { return { length: "!" }; };
var c = new Array();
var d = [];
alert(a.length); // 3
alert(b.length); // 2
alert(c.length); // !
alert(d.length);​ // (still) 0​​​​​​​​ 
```

此代码[实时](http://jsfiddle.net/Y8nv9/1/)- 将尝试创建 4 个警报！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-30T06:23:37.553

大多数情况下，人们使用`var a = []`是因为[Douglas Crockford](http://yuiblog.com/blog/2006/11/13/javascript-we-hardly-new-ya/)这么说的。

他的原因包括 new Array() 的不直观和不一致的行为：

```
var a = new Array(5);     // an array pre-sized to 5 elements long
var b = new Array(5, 10); // an array with two elements in it 
```

请注意，无法`new Array()`创建仅包含一个预先指定的数字元素的数组！

使用 [ ] 实际上更有效，也更安全！可以覆盖 Array 构造函数并让它做一些奇怪的事情，但你不能覆盖 [ ] 的行为。

就个人而言，我总是使用 [ ] 语法，同样总是使用 { } 语法来代替 new Object()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:27:13.410

在 javascript 中，您应该尽可能使用文字。

`var a = [];`代替`var o = new Array();`

`var o = {};`代替`var o = new Object();`

同样，不要做`new String("abc");`, `new Number(1);`, 等等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:34:43.053

JavaScript 是一种原型语言，而不是像 C# 这样的经典语言。尽管 JavaScript 确实有一个看起来很像 C# 的 new 运算符，但您不应该使用它来创建新对象或数组。

```
//Bad way to declare objects and arrays
var person = new Object(), 
    keys = new Array(); 
```

新关键字被添加到语言中部分是为了安抚经典语言，但实际上它往往使开发人员感到困惑而不是帮助他们。相反，在 JavaScript 中有声明对象和数组的原生方式，你应该使用它们。

与其使用前面的语法，不如使用它们的字面表示法来声明对象和数组。

```
//Preferred way to declare objects and arrays
var person = {}, 
    keys = []; 
```

使用这种模式，你实际上有很多使用对象文字和数组初始化语法的表达能力。

```
//Preferred way to declare complex objects and arrays
var person = {
        firstName: "Elijah",
        lastName: "Manor",
        sayFullName: function() {
            console.log( this.firstName + " " + 
                this.lastName );
        }
    }, 
    keys = ["123", "676", "242", "4e3"]; 
```

最佳实践

您应该使用文字符号而不是使用新操作来声明所有变量。以类似的方式，您不应该对布尔值、数字、字符串或函数使用 new 关键字。他们所做的只是增加额外的膨胀并减慢速度。

使用 new 关键字的唯一真正原因是，如果您正在创建一个新对象并且希望它使用您定义的构造函数。有关此主题的更多信息，您可以查看 Douglas Crockford 题为 JavaScript, [We Hardly new Ya](http://yuiblog.com/blog/2006/11/13/javascript-we-hardly-new-ya/)的文章。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T06:20:12.767

推荐的做法是使用

```
var arr = []; 
```

[已经在这里](https://stackoverflow.com/questions/931872/whats-the-difference-between-array-and-while-declaring-a-javascript-ar)回答了

# c - 多边形算法中的点

> ID：11716268
> 
> 赞同：64
> 
> 时间：2012-07-30T06:19:09.877
> 
> 标签：c, algorithm

[我看到下面的算法可以从这个链接](https://stackoverflow.com/a/2922778/872344)检查一个点是否在给定的多边形中：

```
int pnpoly(int nvert, float *vertx, float *verty, float testx, float testy)
{
  int i, j, c = 0;
  for (i = 0, j = nvert-1; i < nvert; j = i++) {
    if ( ((verty[i]>testy) != (verty[j]>testy)) &&
     (testx < (vertx[j]-vertx[i]) * (testy-verty[i]) / (verty[j]-verty[i]) + vertx[i]) )
       c = !c;
  }
  return c;
} 
```

我尝试了这个算法，它实际上非常完美。但遗憾的是，在花了一些时间试图了解它之后，我无法很好地理解它。

所以如果有人能够理解这个算法，请给我解释一下。

谢谢你。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-07-30T06:31:30.010

该算法是向右投射光线。循环的每次迭代，都会根据多边形的一个边检查测试点。如果点的 y 坐标在边的范围内，则 if 测试的第一行成功。第二行检查测试点是否在该行的左侧（我想 - 我没有任何废纸要检查）。如果是这样，则从测试点向右绘制的线穿过该边缘。

通过反复反转 的值`c`，该算法计算向右的线穿过多边形的次数。如果它穿过奇数次，则该点在内部；如果是偶数，则该点在外面。

不过，我会担心 a) 浮点运算的准确性，以及 b) 具有水平边缘或与顶点具有相同 y 坐标的测试点的影响。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-03-24T14:10:27.593

**编辑 1/30/2022**：我在 9 年前上大学时写了这个答案。聊天对话中的人表示它不准确。你可能应该去别处看看。‍♂️</p>

乔利特在各个方面、形状和形式上都是正确的。该算法假设如果您的点在多边形的线上，那么它就在外面——在某些情况下，这是错误的。将两个 '>' 运算符更改为 '>=' 并将 '<' 更改为 '<=' 将解决此问题。

```
bool PointInPolygon(Point point, Polygon polygon) {
  vector<Point> points = polygon.getPoints();
  int i, j, nvert = points.size();
  bool c = false;

  for(i = 0, j = nvert - 1; i < nvert; j = i++) {
    if( ( (points[i].y >= point.y ) != (points[j].y >= point.y) ) &&
        (point.x <= (points[j].x - points[i].x) * (point.y - points[i].y) / (points[j].y - points[i].y) + points[i].x)
      )
      c = !c;
  }

  return c;
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-03-27T14:02:34.703

这可能与解释实际代码中的光线追踪算法一样详细。它可能没有经过优化，但必须始终在完全掌握系统之后进行。

```
 //method to check if a Coordinate is located in a polygon
public boolean checkIsInPolygon(ArrayList<Coordinate> poly){
    //this method uses the ray tracing algorithm to determine if the point is in the polygon
    int nPoints=poly.size();
    int j=-999;
    int i=-999;
    boolean locatedInPolygon=false;
    for(i=0;i<(nPoints);i++){
        //repeat loop for all sets of points
        if(i==(nPoints-1)){
            //if i is the last vertex, let j be the first vertex
            j= 0;
        }else{
            //for all-else, let j=(i+1)th vertex
            j=i+1;
        }

        float vertY_i= (float)poly.get(i).getY();
        float vertX_i= (float)poly.get(i).getX();
        float vertY_j= (float)poly.get(j).getY();
        float vertX_j= (float)poly.get(j).getX();
        float testX  = (float)this.getX();
        float testY  = (float)this.getY();

        // following statement checks if testPoint.Y is below Y-coord of i-th vertex
        boolean belowLowY=vertY_i>testY;
        // following statement checks if testPoint.Y is below Y-coord of i+1-th vertex
        boolean belowHighY=vertY_j>testY;

        /* following statement is true if testPoint.Y satisfies either (only one is possible) 
        -->(i).Y < testPoint.Y < (i+1).Y        OR  
        -->(i).Y > testPoint.Y > (i+1).Y

        (Note)
        Both of the conditions indicate that a point is located within the edges of the Y-th coordinate
        of the (i)-th and the (i+1)- th vertices of the polygon. If neither of the above
        conditions is satisfied, then it is assured that a semi-infinite horizontal line draw 
        to the right from the testpoint will NOT cross the line that connects vertices i and i+1 
        of the polygon
        */
        boolean withinYsEdges= belowLowY != belowHighY;

        if( withinYsEdges){
            // this is the slope of the line that connects vertices i and i+1 of the polygon
            float slopeOfLine   = ( vertX_j-vertX_i )/ (vertY_j-vertY_i) ;

            // this looks up the x-coord of a point lying on the above line, given its y-coord
            float pointOnLine   = ( slopeOfLine* (testY - vertY_i) )+vertX_i;

            //checks to see if x-coord of testPoint is smaller than the point on the line with the same y-coord
            boolean isLeftToLine= testX < pointOnLine;

            if(isLeftToLine){
                //this statement changes true to false (and vice-versa)
                locatedInPolygon= !locatedInPolygon;
            }//end if (isLeftToLine)
        }//end if (withinYsEdges
    }

    return locatedInPolygon;
} 
```

关于优化只有一句话：最短（和/或最简洁）的代码不是最快的实现。从数组中读取和存储元素并在代码块的执行中（可能）多次使用它比每次需要时访问数组要快得多。如果阵列非常大，这一点尤其重要。在我看来，通过将数组的每个项存储在一个命名良好的变量中，也更容易评估其用途，从而形成更易读的代码。就我的两分钱...

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-05-10T15:32:50.233

我更改了[原始代码](https://wrf.ecse.rpi.edu//Research/Short_Notes/pnpoly.html)以使其更具可读性（这也使用了 Eigen）。该算法是相同的。

```
// This uses the ray-casting algorithm to decide whether the point is inside
// the given polygon. See https://en.wikipedia.org/wiki/Point_in_polygon#Ray_casting_algorithm
bool pnpoly(const Eigen::MatrixX2d &poly, float x, float y)
{
    // If we never cross any lines we're inside.
    bool inside = false;

    // Loop through all the edges.
    for (int i = 0; i < poly.rows(); ++i)
    {
        // i is the index of the first vertex, j is the next one.
        // The original code uses a too-clever trick for this.
        int j = (i + 1) % poly.rows();

        // The vertices of the edge we are checking.
        double xp0 = poly(i, 0);
        double yp0 = poly(i, 1);
        double xp1 = poly(j, 0);
        double yp1 = poly(j, 1);

        // Check whether the edge intersects a line from (-inf,y) to (x,y).

        // First check if the line crosses the horizontal line at y in either direction.
        if ((yp0 <= y) && (yp1 > y) || (yp1 <= y) && (yp0 > y))
        {
            // If so, get the point where it crosses that line. This is a simple solution
            // to a linear equation. Note that we can't get a division by zero here -
            // if yp1 == yp0 then the above if be false.
            double cross = (xp1 - xp0) * (y - yp0) / (yp1 - yp0) + xp0;

            // Finally check if it crosses to the left of our test point. You could equally
            // do right and it should give the same result.
            if (cross < x)
                inside = !inside;
        }
    }
    return inside;
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-03-21T21:53:51.343

只要多边形的边不交叉，该算法就适用于任何封闭的多边形。三角形、五边形、正方形，甚至是非常弯曲的不交叉的分段线性橡皮筋。

1）将您的多边形定义为一组有向向量。这意味着多边形的每一边都由一个从顶点an到顶点an+1的向量来描述。这些向量是这样定向的，以至于一个人的头部接触到下一个向量的尾部，直到最后一个向量接触到第一个向量的尾部。

2) 在多边形内部或外部选择要测试的点。

3) 对于沿多边形周边的每个向量 Vn，找到从测试点开始到 Vn 尾部结束的向量 Dn。计算定义为 DnXVn/DN*VN 的向量 Cn（X 表示叉积；* 表示点积）。将 Cn 的大小称为 Mn。

4) 把所有的 Mn 相加，称这个量为 K。

5) 如果 K 为零，则该点在多边形之外。

6) 如果 K 不为零，则该点在多边形内。

理论上，位于多边形边缘上的点将产生未定义的结果。

K 的几何含义是坐在我们测试点上的跳蚤“看到”在多边形边缘行走的蚂蚁向左行走的总角度减去向右行走的角度。在闭合回路中，蚂蚁在它开始的地方结束。在多边形之外，无论位置如何，答案都是零。
在多边形内部，无论位置如何，答案都是“绕点一次”。

* * *

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-12-18T11:35:22.513

该算法被精简为最必要的元素。在它被开发和测试之后，所有不必要的东西都被删除了。结果，您无法轻易理解它，但它可以完成工作并且性能也非常好。

* * *

我冒昧地将其翻译为**ActionScript-3**：

```
// not optimized yet (nvert could be left out)
public static function pnpoly(nvert: int, vertx: Array, verty: Array, x: Number, y: Number): Boolean
{
    var i: int, j: int;
    var c: Boolean = false;
    for (i = 0, j = nvert - 1; i < nvert; j = i++)
    {
        if (((verty[i] > y) != (verty[j] > y)) && (x < (vertx[j] - vertx[i]) * (y - verty[i]) / (verty[j] - verty[i]) + vertx[i]))
            c = !c;
    }
    return c;
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-07-30T07:17:36.043

此方法检查从点 (testx, testy) 到 O (0,0) 的光线是否切过多边形的边。

[这里](http://en.wikipedia.org/wiki/Point_in_polygon)有一个众所周知的结论：如果一条来自 1 点的射线切割多边形的边一段奇数时间，则该点将属于该多边形，否则该点将位于该多边形之外。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2015-09-20T06:38:54.393

为了扩展@chowlette 的[答案](https://stackoverflow.com/a/11716371/1159326)，第二行检查点是否在行的左侧，没有给出推导，但这是我得出的结论：首先，它有助于想象2个基本情况：

*   该点位于线的左侧`. /`或
*   点在直线的右边`/ .`

如果我们的观点是水平射出一条射线，它会在哪里击中线段。我们的点是在它的左边还是右边？里面还是外面？我们知道它的 y 坐标，因为根据定义它与点相同。x坐标是什么？

采取您的传统线路公式`y = mx + b`。m 是在运行中的上升。在这里，我们试图找到与我们**的 point 具有相同高度 (y) 的线段上的点的 x 坐标**。

所以我们求解 x: `x = (y - b)/m`。`m`是上升超过运行，所以这变成溢出上升或`(yj - yi)/(xj - xi)`变为`(xj - xi)/(yj - yi)`。b 是与原点的偏移量。如果我们假设`yi`作为我们坐标系的基础，b 就变成了 yi。我们的观点`testy`是我们的输入，减法`yi`将整个公式变成一个偏移量`yi`。

我们现在有`(xj - xi)/(yj - yi)`or`1/m`时间 y or `(testy - yi)`:`(xj - xi)(testy - yi)/(yj - yi)`但 testx 不是基于，`yi`所以我们将它添加回来以便比较两者（或零 testx ）

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-07-30T06:30:02.163

我认为基本思想是从点计算向量，多边形的每个边缘一个。如果向量穿过一条边，则该点在多边形内。通过凹多边形，如果它穿过奇数个边，它也在里面（免责声明：虽然不确定它是否适用于所有凹多边形）。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-01-01T13:05:22.517

这是我使用的算法，但我添加了一些预处理技巧来加速它。我的多边形有大约 1000 条边并且它们不会改变，但我需要在每次鼠标移动时查看光标是否在一个内部。

我基本上将边界矩形的高度分割为相等长度的间隔，并且对于这些间隔中的每一个，我都会编译位于其中/与它相交的边的列表。

当我需要查找一个点时，我可以计算 - 在 O(1) 时间内 - 它位于哪个区间，然后我只需要测试区间列表中的那些边。

我使用了 256 个间隔，这将我需要测试的边数减少到 2-10 而不是 ~1000。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2015-05-19T02:23:11.263

这是一个 php 实现：

```
<?php
class Point2D {

    public $x;
    public $y;

    function __construct($x, $y) {
        $this->x = $x;
        $this->y = $y;
    }

    function x() {
        return $this->x;
    }

    function y() {
        return $this->y;
    }

}

class Point {

    protected $vertices;

    function __construct($vertices) {

        $this->vertices = $vertices;
    }

    //Determines if the specified point is within the polygon. 
    function pointInPolygon($point) {
        /* @var $point Point2D */
    $poly_vertices = $this->vertices;
    $num_of_vertices = count($poly_vertices);

    $edge_error = 1.192092896e-07;
    $r = false;

    for ($i = 0, $j = $num_of_vertices - 1; $i < $num_of_vertices; $j = $i++) {
        /* @var $current_vertex_i Point2D */
        /* @var $current_vertex_j Point2D */
        $current_vertex_i = $poly_vertices[$i];
        $current_vertex_j = $poly_vertices[$j];

        if (abs($current_vertex_i->y - $current_vertex_j->y) <= $edge_error && abs($current_vertex_j->y - $point->y) <= $edge_error && ($current_vertex_i->x >= $point->x) != ($current_vertex_j->x >= $point->x)) {
            return true;
        }

        if ($current_vertex_i->y > $point->y != $current_vertex_j->y > $point->y) {
            $c = ($current_vertex_j->x - $current_vertex_i->x) * ($point->y - $current_vertex_i->y) / ($current_vertex_j->y - $current_vertex_i->y) + $current_vertex_i->x;

            if (abs($point->x - $c) <= $edge_error) {
                return true;
            }

            if ($point->x < $c) {
                $r = !$r;
            }
        }
    }

    return $r;
} 
```

测试运行：

```
 <?php
        $vertices = array();

        array_push($vertices, new Point2D(120, 40));
        array_push($vertices, new Point2D(260, 40));
        array_push($vertices, new Point2D(45, 170));
        array_push($vertices, new Point2D(335, 170));
        array_push($vertices, new Point2D(120, 300));
        array_push($vertices, new Point2D(260, 300));

        $Point = new Point($vertices);
        $point_to_find = new Point2D(190, 170);
        $isPointInPolygon = $Point->pointInPolygon($point_to_find);
        echo $isPointInPolygon;
        var_dump($isPointInPolygon); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-01-24T21:30:09.267

我修改了代码以检查该点是否在多边形中，包括该点是否在边缘上。

```
bool point_in_polygon_check_edge(const vec<double, 2>& v, vec<double, 2> polygon[], int point_count, double edge_error = 1.192092896e-07f)
{
    const static int x = 0;
    const static int y = 1;
    int i, j;
    bool r = false;
    for (i = 0, j = point_count - 1; i < point_count; j = i++)
    {
        const vec<double, 2>& pi = polygon[i);
        const vec<double, 2>& pj = polygon[j];
        if (fabs(pi[y] - pj[y]) <= edge_error && fabs(pj[y] - v[y]) <= edge_error && (pi[x] >= v[x]) != (pj[x] >= v[x]))
        {
            return true;
        }

        if ((pi[y] > v[y]) != (pj[y] > v[y]))
        {
            double c = (pj[x] - pi[x]) * (v[y] - pi[y]) / (pj[y] - pi[y]) + pi[x];
            if (fabs(v[x] - c) <= edge_error)
            {
                return true;
            }
            if (v[x] < c)
            {
                r = !r;
            }
        }
    }
    return r;
} 
```

# android - 用于拔下耳机的广播接收器

> ID：11716275
> 
> 赞同：12
> 
> 时间：2012-07-30T06:20:09.943
> 
> 标签：android

嗨，我正在开发一个应用程序，该应用程序会在从手机上取下耳机时生成一个事件。我用接收方法创建了一个广播接收器

```
public void onReceive(Context context, Intent intent) {

        // TODO Auto-generated method stub
        String action = intent.getAction();
        Log.i("Broadcast Receiver", "Hello");
        if( (action.compareTo(Intent.ACTION_HEADSET_PLUG))  == 0)   //if the action match a headset one
        {
            int headSetState = intent.getIntExtra("state", 0);      //get the headset state property
            int hasMicrophone = intent.getIntExtra("microphone", 0);//get the headset microphone property
            if( (headSetState == 0) && (hasMicrophone == 0))        //headset was unplugged & has no microphone
            {

                    //do whatever
            }
        }           

    } 
```

调用该方法如下

```
 IntentFilter receiverFilter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);
        HeadSetBroadCastReceiver receiver = new HeadSetBroadCastReceiver();
        registerReceiver( receiver, receiverFilter ); 
```

我也在清单中将其注册为

```
 <receiver android:name=".HeadsetBroadCastReceiver">
    <intent-filter>
        <action android:name="android.intent.action.ACTION_HEADSET_PLUG"/>
    </intent-filter>
</receiver> 
```

和许可

但这不起作用任何人都可以指导我完成这个吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-06-28T10:04:37.430

**这是一个棘手的问题，但您可以在您的活动**中使用 BroadCast 作为以下与我一起工作

 **```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    myReceiver = new HeadSetReceiver();
} 
```

并在**onResume()**方法中注册您的广播

```
public void onResume() {
    IntentFilter filter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);
    registerReceiver(myReceiver, filter);
    super.onResume();
} 
```

然后在您的活动中声明您的广播

```
private class HeadSetReceiver extends BroadcastReceiver {
    @Override public void onReceive(Context context, Intent intent) {
        if (intent.getAction().equals(Intent.ACTION_HEADSET_PLUG)) {
            int state = intent.getIntExtra("state", -1);
            switch (state) {
            case 0:
                Log.d(TAG, "Headset unplugged");
                break;
            case 1:
                Log.d(TAG, "Headset plugged");
                break;
            }
        }
    }
} 
```

希望对你有帮助,,,

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T08:28:16.697

这里的问题是这个广播设置了标志[Intent.FLAG_RECEIVER_REGISTERED_ONLY](http://developer.android.com/reference/android/content/Intent.html#FLAG_RECEIVER_REGISTERED_ONLY)。这意味着清单接收者不会捕捉到这一点。[这](https://stackoverflow.com/questions/6249023/detecting-whether-a-headset-is-plugged-in-or-not/6366238#6366238)是一个完整的解释。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-30T08:18:59.120

我的问题的答案是这样的。谢谢大家的回复

```
class NoisyAudioStreamReceiver extends BroadcastReceiver
{
    @Override
    public void onReceive(Context context, Intent intent) {
        if (AudioManager.ACTION_AUDIO_BECOMING_NOISY.equals(intent.getAction())) {
           // pause();
            Log.d("Mesage","Unplug");
            Toast.makeText(context, "Heello",Toast.LENGTH_LONG).show();
        }
    }
}
 IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_AUDIO_BECOMING_NOISY);
        NoisyAudioStreamReceiver receiver = new NoisyAudioStreamReceiver();
        registerReceiver( receiver, intentFilter ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:58:26.940

我建议您在 onReceive 中切换断点，并在调试模式下检查插入手机设备时收到的事件类型。然后插入这个事件而不是 Intent.ACTION_HEADSET_PLUG 谢谢。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T07:01:32.187

我想用各自的意图注册广播接收器存在问题。参考这篇[文章](https://stackoverflow.com/questions/2524923/issues-with-action-headset-plug-broadcast-in-android?rq=1)，看看它是否有效。

我的 logcat 中的异常

```
07-30 12:41:01.448: E/ActivityThread(321): Activity com.example.test.MainActivity has leaked IntentReceiver com.example.test.BroadcastsHandler@44ee81d8 that was originally registered here. Are you missing a call to unregisterReceiver()?
07-30 12:41:01.448: E/ActivityThread(321): android.app.IntentReceiverLeaked: Activity com.example.test.MainActivity has leaked IntentReceiver com.example.test.BroadcastsHandler@44ee81d8 that was originally registered here. Are you missing a call to unregisterReceiver()?
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread$PackageInfo$ReceiverDispatcher.<init>(ActivityThread.java:939)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread$PackageInfo.getReceiverDispatcher(ActivityThread.java:734)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ContextImpl.registerReceiverInternal(ContextImpl.java:791)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ContextImpl.registerReceiver(ContextImpl.java:778)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ContextImpl.registerReceiver(ContextImpl.java:772)
07-30 12:41:01.448: E/ActivityThread(321):  at android.content.ContextWrapper.registerReceiver(ContextWrapper.java:318)
07-30 12:41:01.448: E/ActivityThread(321):  at com.example.test.MainActivity.onCreate(MainActivity.java:19)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
07-30 12:41:01.448: E/ActivityThread(321):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-30 12:41:01.448: E/ActivityThread(321):  at android.os.Looper.loop(Looper.java:123)
07-30 12:41:01.448: E/ActivityThread(321):  at android.app.ActivityThread.main(ActivityThread.java:4627)
07-30 12:41:01.448: E/ActivityThread(321):  at java.lang.reflect.Method.invokeNative(Native Method)
07-30 12:41:01.448: E/ActivityThread(321):  at java.lang.reflect.Method.invoke(Method.java:521)
07-30 12:41:01.448: E/ActivityThread(321):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-30 12:41:01.448: E/ActivityThread(321):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-30 12:41:01.448: E/ActivityThread(321):  at dalvik.system.NativeStart.main(Native Method) 
```

这就是我在我的一个项目中注册广播接收器的方式：

创建：

```
$////////////////broadcast reciever/////////////
    IntentFilter iFilter = new IntentFilter();
    iFilter.addAction(handler.ACTION);
    iFilter.addCategory(Intent.CATEGORY_DEFAULT);
    handler = new HandleTime();
    registerReceiver(handler, iFilter); 
```

清单.xml：

```
<activity android:name=".MainActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>

    </activity> 
```**

# jquery - 带有链接按钮的 Jquery 表

> ID：11716277
> 
> 赞同：0
> 
> 时间：2012-07-30T06:20:12.830
> 
> 标签：jquery, jquery-ui, hyperlink, href

我使用以下行在 td 中创建链接按钮，并在 jquery 表中追加。如果我使用此行，则链接按钮不支持以蓝色显示。**如何赋予该链接按钮的样式，如蓝色**？

```
.append($("<td/>", {'html': '<a href="#" id="id1" style="color:Blue" class="cls1" >Link Button</a>' })) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T08:54:05.777

像这样使用，简单的方法

```
.append($("<td/>").append($("<a/>",{"href":"#","html":"Link","id":"id1","style":"color:blue","class":"cls1" }))) 
```

# plsql - 如何在plsql中获取执行开始时间和执行结束时间之间的差异

> ID：11716283
> 
> 赞同：1
> 
> 时间：2012-07-30T06:20:39.220
> 
> 标签：plsql

如何在plsql中获取执行开始时间和执行结束时间之间的差异。

```
 SET SERVEROUTPUT ON;
DECLARE
  l_start_time DATE :=sysdate +1;
  l_end_time DATE   := SYSDATE;
  to_hours DATE;
BEGIN
  dbms_output.put_line(l_start_time);
  dbms_output.put_line(l_end_time);
  TO_HOURS:=TO_CHAR(L_END_TIME - to_date(L_START_TIME,'HH24:MI:SS'));
  dbms_output.put_line (TO_HOURS);
END ; 
```

我需要执行时间差和输出在`HH:MI:SS`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-02-06T14:42:10.470

您应该使用 DBMS_UTILITY.GET_TIME 函数。此函数以 100 秒为单位确定当前时间。该子程序主要用于确定经过的时间。子程序被调用两次——在某个进程的开始和结束时——然后从第二个（后面的）数字中减去第一个（前面的）数字来确定经过的时间。例如：

```
declare 
  v_end_time        number(10) ; 
  v_start_time      number(10) ; 
begin
   v_start_time := dbms_utility.get_time ;
   -- <Your code is here>
   null;
   --<\Your code is here>
   v_end_time :=  dbms_utility.get_time   ;

   dbms_output.put_line(  'Elapse Time= '|| to_char( (v_end_time - v_start_time) /100 ) ||' seconds.' );
end; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-31T20:17:47.353

您可以将差值计算为一个数字，然后根据一天中的分数进行计算。以下示例脚本提供以下输出

```
SET SERVEROUTPUT ON;
DECLARE
  l_start_time date := sysdate;
  l_end_time   date := SYSDATE+1;
  l_diff       number;
BEGIN
  dbms_output.put_line('start time='||l_start_time);
  dbms_output.put_line('end time  ='||l_end_time);
  l_diff :=l_end_time-l_start_time;
  dbms_output.put_line('a) difference days   ='||to_char(l_diff));
  dbms_output.put_line('a) difference hours  ='||to_char(l_diff*24));
  dbms_output.put_line('a) difference minutes='||to_char(l_diff*24*60));
  dbms_output.put_line('a) difference seconds='||to_char(l_diff*24*60*60));
  l_start_time := to_date('31/07/2012 20:00:00','DD/MM/YYYY HH24:MI:SS');
  l_end_time   := to_date('01/08/2012 04:15:44','DD/MM/YYYY HH24:MI:SS');
  l_diff :=l_end_time-l_start_time;
  dbms_output.put_line('b) difference days   ='||to_char(l_diff));
  dbms_output.put_line('b) difference hours  ='||to_char(l_diff*24));
  dbms_output.put_line('b) difference minutes='||to_char(l_diff*24*60));
  dbms_output.put_line('b) difference seconds='||to_char(l_diff*24*60*60));
END ;
/ 
```

输出到：

```
start time=31-JUL-12
end time  =01-AUG-12
a) difference days   =1
a) difference hours  =24
a) difference minutes=1440
a) difference seconds=86400
b) difference days   =.3442592592592592592592592592592592592593
b) difference hours  =8.26222222222222222222222222222222222222
b) difference minutes=495.733333333333333333333333333333333333
b) difference seconds=29744 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-31T08:29:06.137

try please the follow code

```
TO_HOURS:= L_END_TIME - L_START_TIME;
dbms_output.put_line (to_char(TO_HOURS, "your format")); 
```

# ms-word - 将文档从 .odt 转换为 .doc 时的数据丢失

> ID：11716285
> 
> 赞同：0
> 
> 时间：2012-07-30T06:21:18.113
> 
> 标签：ms-word, openoffice-writer

我有一个为 MS word 和 Open Office 开发的插件。

使用 open office 插件，可以添加一组标记的引用（使用 XNamed），该标记的 content.xml 中的 xml 是：

```
-<text:p text:style-name="Standard">
<text:reference-mark-start text:name="abc"/>hello
<text:reference-mark-end text:name="abc"/>
</text:p> 
```

当我将此文档另存为 .doc 或 .docx 并在 MS Word 中打开它时，标记引用丢失并且只出现纯文本 (hello)。我希望能够在此处保留一些信息，例如“abc”。

有没有一种方法可以在 open office 将其转换为 doc 格式或 ms word 打开转换后的文档时以编程方式更改 xml？

有没有办法（以毫秒为单位）“意识到”正在打开的文档是使用开放式办公室创建或编辑的？

我使用 C# interop 开发 word plugin 和 java UNO for open office。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T10:40:03.310

我最终在我的插件中提供了一个“兼容模式”按钮，用于在保存之前和打开之后修改文档......找不到更好的解决方案。

# android - 从另一个线程设置可见后，android textview不显示

> ID：11716286
> 
> 赞同：0
> 
> 时间：2012-07-30T06:21:18.050
> 
> 标签：android, multithreading, visibility, textview

我在`TextViews`使用该方法使我在另一个线程中可见时遇到问题`showDisclaimer()`。我习惯于设置我的 s`runOnUiThread()`的可见性。`TextView`基本上，我想在将 csv 导入数据库后显示这些视图。你能看看我错过了什么吗？

```
public class MainActivity extends Activity {

final static int INDEX_ACCTTYPE = 0; 
final static int INDEX_ECN = 1; 
final static int INDEX_TLN = 2; 
final static int INDEX_SIN = 3; 
final static int INDEX_MOBILE = 4; 
final static int INDEX_CITY = 5;
final static int INDEX_START_DATE = 6;
final static int INDEX_START_TIME = 7;
final static int INDEX_END_DATE = 8; 
final static int INDEX_END_TIME = 9; 
final static int INDEX_REASON = 10;
final static int INDEX_DETAILS = 11;

DatabaseHandler db;
String str;
ProgressDialog pd;

final private String csvFile = "http://www.meralco.com.ph/pdf/pms/pms_test.csv";
final private String uploadDateFile = "http://www.meralco.com.ph/pdf/pms/UploadDate_test.txt";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    TextView homeText1 = (TextView) findViewById(R.id.home_text1);
    TextView homeText2 = (TextView) findViewById(R.id.home_text2);
    TextView homeText3 = (TextView) findViewById(R.id.home_text3);
    TextView homeText4 = (TextView) findViewById(R.id.home_text4);

    homeText1.setVisibility(View.INVISIBLE);
    homeText2.setVisibility(View.INVISIBLE);
    homeText3.setVisibility(View.INVISIBLE);
    homeText4.setVisibility(View.INVISIBLE);

    //db = new DatabaseHandler(MainActivity.this);

    if(dbExists()){
        db = new DatabaseHandler(MainActivity.this);
        Log.d("Count", "" + db.count());

        if(!uploadDateEqualsDateInFile())
            promptOptionalUpdate("There is a new schedule");
        showDisclaimer();
        Log.i("oncreate", "finished!");
        return;
    }

    promptRequiredUpdate("Schedule not updated");
    //showDisclaimer();
    Log.i("oncreate", "finished!");

}

public void promptOptionalUpdate(String Message) {
    AlertDialog.Builder builder = new AlertDialog.Builder(
            this);
    builder.setMessage(Message)
            .setCancelable(false)
            .setPositiveButton("Update Now",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog, int id) {
                            Log.d("SHOW ALERT -->!", "update");
                            dropOldSchedule();
                            triggerDownload();
                            dialog.cancel();
                        }
                    })
            .setNegativeButton("Later",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog, int id) {
                            Log.d("SHOW ALERT -->!", "cancel");
                            dialog.cancel();
                        }
                    });
    AlertDialog alert = builder.create();
    alert.show();
}

public void dropOldSchedule(){
    //TODO drop old schedule
}

public void triggerDownload() {

    if (!checkInternet()) {
        showAlert("An internet connection is required to perform an update, please check that you are connected to the internet");
        return;
    }

    if(pd!=null && pd.isShowing()) pd.dismiss();
    pd = ProgressDialog.show(this, "Downloading schedule", 
            "This may take a few minutes...", true, false);

    Thread thread = new Thread(new Runnable() {

        public void run() {

            db = new DatabaseHandler(MainActivity.this);
            db.beginTransaction();

            try {
                URL myURL = new URL(csvFile);

                BufferedReader so = new BufferedReader(new InputStreamReader(myURL.openStream()));
                while (true) {
                    String output = so.readLine();
                    if (output != null) {
                        String[] sched = output.split(",");
                        try {
                            db.addRow(sched[INDEX_SIN], sched[INDEX_CITY], 
                                    sched[INDEX_START_DATE], sched[INDEX_START_TIME], 
                                    sched[INDEX_END_DATE], sched[INDEX_END_TIME], 
                                    sched[INDEX_DETAILS], sched[INDEX_REASON]);
                        } catch (IndexOutOfBoundsException e) {
                            db.addRow(sched[INDEX_SIN], sched[INDEX_CITY], 
                                    sched[INDEX_START_DATE], sched[INDEX_START_TIME], 
                                    sched[INDEX_END_DATE], sched[INDEX_END_TIME], 
                                    "", sched[INDEX_REASON]);
                            e.printStackTrace();
                        }
                    }
                    else {
                        break;
                    }
                }

                so.close();
            } catch (MalformedURLException e) {
                e.printStackTrace();
                db.endTransaction();
            } catch (IOException e) {
                e.printStackTrace();
                db.endTransaction();
            } 
            Log.d("Count", ""+db.count());
            db.setTransactionSuccessful();
            db.endTransaction();

            runOnUiThread(new Runnable() {
                public void run() {
                    while (!pd.isShowing());

                    getUploadDate();
                    writeUploadDateInTextFile();
                    showDisclaimer();

                    pd.dismiss();
                }
            });
        }

    });
    thread.start();

    //while(thread.isAlive());

    Log.d("triggerDownload", "thread died, finished dl. showing disclaimer...");

}

public void getUploadDate() {
    Log.d("getUploadDate", "getting upload date of schedule");

    if(pd!=null && pd.isShowing()) pd.dismiss();
    pd = ProgressDialog.show(this, "Getting upload date", 
            "This may take a few minutes...", true, false);

    Thread thread = new Thread(new Runnable() {

        public void run() {

            try {
                URL myURL = new URL(uploadDateFile);

                BufferedReader so = new BufferedReader(new InputStreamReader(myURL.openStream()));
                while (true) {
                    String output = so.readLine();
                    if (output != null) {
                        str = output;
                    }
                    else {
                        break;
                    }
                }
            so.close();
            }
            catch (MalformedURLException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            } 

            runOnUiThread(new Runnable() {
                public void run() {
                    while (!pd.isShowing());
                    pd.dismiss();
                }
            });
        }

        });
    thread.start();

    while (thread.isAlive());

    Log.d("getUploadDate","thread died, upload date="+str);
}

public void writeUploadDateInTextFile() {
    Log.d("writeUploadDateTextFile", "writing:"+str);

    try {
        OutputStreamWriter out = new OutputStreamWriter(openFileOutput(
                "update.txt", 0));
        out.write(str);
        out.close();
    } catch (java.io.IOException e) {
        e.printStackTrace();
    }
}

public void showDisclaimer() {
    Log.d("ShowDisclaimer", "showing disclaimer");

    TextView homeText1x = (TextView) findViewById(R.id.home_text1);
    TextView homeText2x = (TextView) findViewById(R.id.home_text2);
    TextView homeText3x = (TextView) findViewById(R.id.home_text3);
    TextView homeText4x = (TextView) findViewById(R.id.home_text4);

    homeText3x
    .setText("You may view the schedule of pre-arranged power interruptions by clicking any of these buttons : SIN, City or Date. " +
            "The schedule has been updated as of " + str
            + ". Meralco is exerting all efforts to restore electric service as scheduled." +
            " The schedule, however, may change without further notice. For verification, follow-ups, or " +
            "latest updates, please contact our CALL CENTER through telephone nos. 16211, " +
            "fax nos. 1622-8554/1622-8556 or email address callcenter.tech.assist@meralco.com.ph.");

    homeText1x.setVisibility(View.VISIBLE);
    homeText2x.setVisibility(View.VISIBLE);
    homeText3x.setVisibility(View.VISIBLE);
    homeText4x.setVisibility(View.VISIBLE);

    Log.d("ShowDisclaimer", "finished showing disclaimer");

}

public void promptRequiredUpdate(String Message) {
    Log.d("required update","required!");
    AlertDialog.Builder builder = new AlertDialog.Builder(
            this);
    builder.setMessage(Message)
    .setCancelable(false)
    .setPositiveButton("Update Now",
            new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int id) {
            Log.d("SHOW ALERT -->!", "update");
            triggerDownload();
            dialog.cancel();
        }
    })
    .setNegativeButton("Later",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int id) {
                Log.d("SHOW ALERT -->!", "cancel");
                dialog.cancel();
                finish();
            }
    });
    AlertDialog alert = builder.create();
    alert.show();
}

public boolean uploadDateEqualsDateInFile() {
    Log.d("uploadDateEqualsDateInFile","comparing schedule upload dates");

    getUploadDate();

    try {
        String recordedDate = "";
        InputStream instream = openFileInput("update.txt");
        if (instream != null) { // if file the available for reading
            Log.d("uploadDateEqualsDateInFile","update.txt found!");

            InputStreamReader inputreader = new InputStreamReader(instream);
            BufferedReader buffreader = new BufferedReader(inputreader);

            String line = null;
            while ((line = buffreader.readLine()) != null) {
                recordedDate = line;
                Log.d("uploadDateEqualsDateInFile","recorded:"+recordedDate);
            }

            Log.d("uploadDateEqualsDateInFile","last upload date: " + str + ", recorded:" +recordedDate);

            if(str.equals(recordedDate)) return true;
            return false;
        }
        Log.d("uploadDateEqualsDateInFile","update.txt is null!");
        return false;

    } catch (FileNotFoundException e) {
        e.printStackTrace();
        return false;

    } catch (IOException e) {
        e.printStackTrace();
        return false;
    }

}

public void showAlert(String Message) {
    AlertDialog.Builder builder = new AlertDialog.Builder(getBaseContext());
    builder.setMessage(Message).setCancelable(false)
            .setNeutralButton("Ok", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int id) {
                    dialog.cancel();
                }
            });
    AlertDialog alert = builder.create();
    alert.show();
}

public boolean checkInternet() {
    ConnectivityManager cm = (ConnectivityManager) this
            .getSystemService(Context.CONNECTIVITY_SERVICE);

    NetworkInfo infos[] = cm.getAllNetworkInfo();

    for (NetworkInfo info : infos)
        if (info.getState() == NetworkInfo.State.CONNECTED
                || info.getState() == NetworkInfo.State.CONNECTING) {
            return true;
        }

    return false;
}

public boolean dbExists() {

    File database=getApplicationContext().getDatabasePath(DatabaseHandler.DATABASE_NAME);

    if (!database.exists()) {
        Log.i("Database", "Not Found");
        return false;
    }

    Log.i("Database", "Found");
    return true;

}

@Override
protected void onDestroy() {
    super.onDestroy();
    if (db != null) {
        db.close();
    }
}
@Override
protected void onPause() {
    super.onPause();
    if (db != null) {
        db.close();
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:20:08.757

简直喜怒无常，按照 Chirag Raval 的建议，在全局范围内声明私有静态 TextView homeText1，并在您的 onCreate 中初始化它们。但是，您应该始终从主线程更新 UI。但是 showDisclaimer() 仍在后台线程上运行，因此您可以通过几种不同的方式运行 showDisclaimer()。一种是执行您在 getUploadDate() 中所做的事情：

```
 runOnUiThread(new Runnable() {
            public void run() {
               showDisclaimer()
            }
        }); 
```

或者您可以使用处理程序：

```
private Handler showDisclaimerHandler = new Handler(new Handler.Callback() {
@Override
public boolean handleMessage(Message msg) {
homeText3x.setText("TEXT");

homeText1x.setVisibility(View.VISIBLE);
homeText2x.setVisibility(View.VISIBLE);
homeText3x.setVisibility(View.VISIBLE);
homeText4x.setVisibility(View.VISIBLE);

Log.d("ShowDisclaimer", "finished showing disclaimer");

return false;
}
}); 
```

在后台线程的任何地方，您都希望运行 showDisclaimer()，而是运行：

```
showDisclaimerHandler.sendEmptyMessage(0); 
```

# c++ - 哪个工具可以显示 C++ 中方法或函数的最大语句？

> ID：11716288
> 
> 赞同：5
> 
> 时间：2012-07-30T06:21:26.953
> 
> 标签：c++, metrics

我们的项目真的很大。一个模块的源代码大小约为 620KLOC。所以我想检查目录/模块中哪个函数最大？有什么工具可以支持吗？

SourceMonitor 只有“每个方法的平均语句”，而不是每个方法的最大语句。CCCC 也不支持。

例子。该函数长度为 1。

```
unsigned short get()
{
    return 1;
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:50:40.257

我能想到的*最简单*的事情就是编写脚本。

*   使用例如[ctags](http://ctags.sourceforge.net/)获取文件中的函数列表
*   使用 perl/python/awk/grep 将源文件拆分为单独的文件，每个函数一个文件
*   只需计算每个文件的行数，取最大长度。如果您需要更多详细信息，请将每个文件输入 loc-counter 例如[sloccount](http://www.dwheeler.com/sloccount/)以
    获得更精确的信息。再次使用 grep 获取您感兴趣的输出

另一个可能有用的工具：

Lazy C++: Is 是一个代码生成器，它将与 c++ 非常相似的文件拆分为 header 和 source。如果您将代码转换为 lzz 文件，则生成的代码包括每个函数的行计数器标记。这些数字的差异会告诉你你的功能有多大

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-27T17:17:54.777

[您可以使用我们的SourceMeter](https://www.sourcemeter.com/)工具扫描您的项目，并根据您的需要提供 CSV 文件，其中包含带有指标的函数/方法（以及您正在寻找的其他大小指标）以及包含模块（例如库、共享对象、可执行文件）。使用电子表格编辑器，您可以轻松找到每个模块最大的功能/方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T03:51:59.047

[CppDepend](http://www.cppdepend.com)为您提供此信息，它基于 Clang 并且使用 CQLinq 您可以根据需要请求您的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T08:37:36.913

我认为许多静态分析工具可能无法满足您的需求，因为它们不一定会考虑模板实例化、头文件包含（包括那些由预编译头文件引入的内容）和编译器的代码生成特性。

我过去也遇到过类似的问题，一个大型可执行文件的大小由特定库控制。我深入了解它的方法只是查看每个 .cpp 的目标文件的大小。这不会为您提供完整的故事，因为链接器会优化未使用的部分（尽管值得检查您是否设置了该选项 -`/OPT:REF`对于 Visual Studio）。不过，它可以让您专注于搜索。找到两个或三个最大的目标文件，然后查看对应的 .cpp 文件。然后，您有两个选择 - 编写一个脚本，该脚本采用`objdump`(VisualStudio) 或`nm -C`(gcc) 的输出，您可以在其中提取模块中每个函数的偏移量，这样您就可以将每个函数与前一个函数进行比较以了解每个函数的大小。

或者最简单的方法就是对 cpp 文件使用二进制搜索。#ifdef 将#includes 结束后的所有代码取出并编译。这将使您了解包含的开销（如果它本身很大，那么您可以深入研究标题包含以找出贡献最大的内容）。接下来，使用#ifdef 禁用每一半代码并找出哪一半较大。使用这种方法，您可以快速找到对库大小贡献最大的函数。

就我所拥有的库而言，它也有同样的问题，原因是每次保存成员变量时都会实例化一个非常大的模板化函数。在这种情况下，解决方案是使函数具体化，以便所有不需要特定类型行为的代码只实例化一次，并且模板函数针对特定类型的逻辑位进行本地化。

# android - FocusChangeListener 不工作

> ID：11716289
> 
> 赞同：1
> 
> 时间：2012-07-30T06:21:47.890
> 
> 标签：android, android-layout, android-intent, android-emulator

我的网格视图中有六个图像视图。我正在尝试使用以下代码为这些图像视图获取焦点更改事件；但是当我改变焦点时这不起作用。有人可以让我知道原因和解决方案。任何帮助深表感谢

```
gridView.setOnFocusChangeListener(new AdapterView.OnFocusChangeListener() {
        //@Override
        public void onFocusChange(View arg0, boolean arg1) {
            Log.d("MyTestActivity", "View:" + arg0.getId() + " boolean = " + arg1);
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:31:54.237

以下代码仅在将焦点 cnahge 放在整个 gridview 上时才有效——如果你想监听每个 imageView 上的焦点——你必须在每个 imageView 上设置监听器。但我想你可能想要类似 onItem...Listener 的东西？你想达到什么目标？

# c++ - 提升上下文类

> ID：11716291
> 
> 赞同：4
> 
> 时间：2012-07-30T06:21:59.453
> 
> 标签：c++, boost, boost-context

我发现 boost 有一个名为 context 的类，用于上下文切换，对吧？

我尝试用谷歌搜索，但没有找到任何文档或示例。我只是想知道是否有人可以提供一些信息。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-05T13:10:33.317

Boost::Context 是 Boost 1.51.0 及更高版本的官方部分。有关它的信息，请参见[http://www.boost.org/doc/libs/1_51_0/libs/context/doc/html/index.html](http://www.boost.org/doc/libs/1_51_0/libs/context/doc/html/index.html)。不幸的是，文档与实现*略有*不同，并且 SVN 中的某些内容发生了变化，因此您需要稍微阅读头文件。

这是我前几天写的一个例子，展示了 Boost::Context 使用 Boost 1.51.0+最新的 SVN 来制作简单的协程：

```
#include <array>
#include <functional>

#include <boost/context/all.hpp>

class Coroutine {
    public:
    Coroutine() :
        my_context(boost::context::make_fcontext(
            stack.data() + stack.size(),
            stack.size(),
            Coroutine::dispatch
        ))
    {}
    virtual ~Coroutine() {}

    void operator()() {
        boost::context::jump_fcontext(&yield_context, my_context, reinterpret_cast<intptr_t>(this));
    }

    protected:
    void yield() {
        boost::context::jump_fcontext(my_context, &yield_context, 0);
    }

    virtual void call() = 0;

    private:
    static void dispatch(intptr_t coroutine_ptr) {
        Coroutine *coroutine = reinterpret_cast<Coroutine *>(coroutine_ptr);
        coroutine->call();
        while (true) coroutine->yield();
    }

    private:
    boost::context::fcontext_t *my_context;
    boost::context::fcontext_t yield_context;
    std::array<intptr_t, 64*1024> stack;
};

struct A : public Coroutine {
    void call() {
        std::cerr << "A went to the store one day.\n";
        yield();
        std::cerr << "A was looking for groceries.\n";
        yield();
        std::cerr << "A finally found what she was looking for.\n";
    }
};

struct B : public Coroutine {
    void call() {
        std::cerr << "B went to the store one day.\n";
        yield();
        std::cerr << "B was looking for replacement tires.\n";
        yield();
        std::cerr << "B didn't find anything at all.\n";
        yield();
        std::cerr << "B went to another store.\n";
        yield();
        std::cerr << "B got the tires installed there.\n";
    }
};

struct C : public Coroutine {
    void call() {
        std::cerr << "C went to the store one day.\n";
        yield();
        std::cerr << "C was looking for USB drives.\n";
        yield();
        std::cerr << "C found several with competitive pricing.\n";
        yield();
        std::cerr << "C couldn't decide which to buy, so gave up.\n";
    }
};

int main() {
    std::cerr << "So, this is what happened.\n";
    A a;
    B b;
    C c;
    for (size_t i=0; i<10; ++i) {
        a();
        b();
        c();
    }
    std::cerr << "Then it all was done.\n";
} 
```

然后编译运行如下：

```
$ g++ -std=c++11 -o coroutines coroutines.c++ -lboost_context
$ ./coroutines
So, this is what happened.
A went to the store one day.
B went to the store one day.
C went to the store one day.
A was looking for groceries.
B was looking for replacement tires.
C was looking for USB drives.
A finally found what she was looking for.
B didn't find anything at all.
C found several with competitive pricing.
B went to another store.
C couldn't decide which to buy, so gave up.
B got the tires installed there.
Then it all was done. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-31T06:42:39.537

作者[网站上的](http://olk.bplaced.net/)[boost-coroutine](http://olk.bplaced.net/boost-coroutine.zip)存档包含一些基本的文档和示例，用于构建基于上下文的协程和上下文本身。您还会在该网站上找到一个光纤包，至少作为另一个用例可能很有趣。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-28T07:00:15.797

感谢 wjl 提供您的示例代码。它帮助我理解了 boost context 是如何工作的，以及 boost coroutine 是如何通过 boost context 来实现的。但是你的代码并没有按原样工作，所以我修改它以在 Windows 上编译。（虽然没有检查它是否适用于Linux）

```
#include <iostream>
#include <array>
#include <boost/context/all.hpp>

class Coroutine {
public:
  Coroutine() :
    my_context(boost::context::make_fcontext(
    stack.data() + stack.size(),
    stack.size(),
    Coroutine::dispatch
    ))
  {}
  virtual ~Coroutine() {}

  void operator()() {
    boost::context::jump_fcontext(&yield_context, my_context, reinterpret_cast<intptr_t>(this));
  }

protected:
  void yield() {
    boost::context::jump_fcontext(&my_context, yield_context, 0);
  }

  virtual void call() = 0;

private:
  static void dispatch(intptr_t coroutine_ptr) {
    Coroutine *coroutine = reinterpret_cast<Coroutine *>(coroutine_ptr);
    coroutine->call();
    while (true) coroutine->yield();
  }

private:
  boost::context::fcontext_t my_context;
  boost::context::fcontext_t yield_context;
  std::array<intptr_t, 64 * 1024> stack;
};

struct A : public Coroutine {
  void call() {
    std::cerr << "A went to the store one day.\n";
    yield();
    std::cerr << "A was looking for groceries.\n";
    yield();
    std::cerr << "A finally found what she was looking for.\n";
  }
};

struct B : public Coroutine {
  void call() {
    std::cerr << "B went to the store one day.\n";
    yield();
    std::cerr << "B was looking for replacement tires.\n";
    yield();
    std::cerr << "B didn't find anything at all.\n";
    yield();
    std::cerr << "B went to another store.\n";
    yield();
    std::cerr << "B got the tires installed there.\n";
  }
};

struct C : public Coroutine {
  void call() {
    std::cerr << "C went to the store one day.\n";
    yield();
    std::cerr << "C was looking for USB drives.\n";
    yield();
    std::cerr << "C found several with competitive pricing.\n";
    yield();
    std::cerr << "C couldn't decide which to buy, so gave up.\n";
  }
};

int main() {
  std::cerr << "So, this is what happened.\n";
  A a;
  B b;
  C c;
  for (size_t i = 0; i < 10; ++i) {
    a();
    b();
    c();
  }
  std::cerr << "Then it all was done.\n";
} 
```

# terminology - 作为 4 位的半字节，8 位的八位字节，有 2 位或 3 位的英文单词吗？

> ID：11716292
> 
> 赞同：1
> 
> 时间：2012-07-30T06:22:09.553
> 
> 标签：terminology

而且，虽然机器*字*的长度是依赖的，但它通常是 16 位长。是否有明确定义为 2 位、3 位和 16 位的英文单词？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:28:59.237

通常，a[`short`](http://en.wikipedia.org/wiki/Integer_%28computer_science%29#Common_integral_data_types)指的是 16 位整数，但这并不能保证。A`short`只需要`char <= short <= int`在位大小方面。

该维基百科文章建议的另一个术语是`halfword`，但我从未见过有人使用该术语。

行话文件建议[`crumb`](http://catb.org/jargon/html/N/nybble.html)（以及其他一些人，坚决反对）2 位数据类型，但没有任何 3 位数据类型。

# javascript - 如何在 beforeShow 块中覆盖 this.href？(jquery/fancybox)

> ID：11716298
> 
> 赞同：2
> 
> 时间：2012-07-30T06:22:25.613
> 
> 标签：javascript, jquery, fancybox

我试图`this.href`在`beforeShow`块中覆盖，但它不起作用。的旧值`this.href`即使被覆盖也会被使用。

代码是：

```
beforeShow: function (opts, fb_obj) {

    // this conditional is some other code checking $(window).width() and $(window).height() and
    // if the bigger image will fit; it is simplified here!
    if (1) {
        var source = this.href;
        this.href = source.replace('_large','_super_large');
        console.log('retina detacted! ' + source + " " + this.href);
        // console output is OK, but this.href is not beeing replaced in the output!
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:04:50.103

如果要覆盖 的值`this.href`，请`beforeLoad`改用。

**注意**：这是为 fancybox v2.0.6+

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:33:32.567

既然你在 jquery 中标记了这个 ..ill say

完整代码

```
if (1) {
         var oldhref = $(this).attr('href');
        $(this).attr('href','_super_large');
        console.log('retina detacted! ' +oldhref + " " + this.attr('href');
} 
```

# java - 弹簧刻板印象注释是否有类似的 preConstruction？

> ID：11716301
> 
> 赞同：2
> 
> 时间：2012-07-30T06:23:04.667
> 
> 标签：java, spring

我可以为我的域类使用 preConstruction=true ，这样我就可以在构造函数中使用自动装配字段，例如：

```
@Configurable(preConstruction=true)
public class MyDomain {

  @Autowired private MyContext context;

  public MyDomain() {
    context.doSomething(this); // access the autowired context in the constructor
  }

} 
```

但是，当我想访问具有正常构造型注释的类中的自动装配字段时，preConstruction 的等价物是什么？

```
@Repository
public class MyDomainRepository {

  @Autowired private MyContext context;

  public MyDomain() {
    // cannot access the autowired context in the constructor
    context.doSomething(this); 
  }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:28:54.893

我不认为这样的东西可用于常规 Spring bean，但解决这个问题的常用方法是使用`@PostConstruct`-annotated 方法而不是构造函数：

```
@PostConstruct
public void init() {
    context.doSomething(this);    
} 
```

在注入所有依赖项后，此方法将由 Spring 调用。

# html - 提交按钮提交错误的表单

> ID：11716311
> 
> 赞同：1
> 
> 时间：2012-07-30T06:24:11.180
> 
> 标签：html, ruby-on-rails-3.1

我在同一页面上有两个表单，一个登录表单和一个注册表单，每个表单都有自己的提交按钮。如果我填写错误数据并单击注册表单上的提交按钮，我会返回错误的表单（预期）。如果我现在在登录表单上输入登录详细信息并单击登录表单的提交按钮，则注册表单将被提交。

这是奇怪的行为。我不知道从哪里开始搜索这个。我正在使用Firefox来测试这个。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-11-12T02:38:51.337

那么，您将需要逐步调试它。

*   检查您的表单嵌套并遵循良好的结构，确保两个表单没有相互重叠或没有正确关闭。
*   给你一个正确的ID和NAME。[当两个表单具有相同的名称From Name Attr](https://stackoverflow.com/questions/11111670/is-it-ok-to-have-multiple-html-forms-with-the-same-name)时要小心。
*   根据您的结构和问题，确保每个表单都有不同的提交按钮，并且该按钮放置在表单嵌套中。
*   与表单相同，为您的提交按钮提供正确的唯一 ID 和 NAME 。
*   选择是通过在 html 中使用 submit 来提交，还是让 JS 为您[提交表单 JS submit form](https://stackoverflow.com/questions/7843355/submit-two-forms-with-one-button)。
*   如果您使用的是 HTML5，则可以将按钮与 FORM 分开。它们可以单独运行。意味着表单和它的提交按钮之间的动态关联，通过将提交按钮放置在任何地方并且可以提交位于不同位置的表单。检查[控件和表单的关联以及](http://www.w3.org/TR/2011/WD-html5-20110525/association-of-controls-and-forms.html#association-of-controls-and-forms)HTML5[的新“表单”属性](http://www.impressivewebs.com/html5-form-attribute/)。

请发布一些代码，以便我们更好地了解您的问题。祝你好运。

# iphone - 如何防止 UIBarButtonItem 的侧边区域可点击？

> ID：11716313
> 
> 赞同：2
> 
> 时间：2012-07-30T06:24:14.490
> 
> 标签：iphone, uibarbuttonitem

`![我想防止点击的箭头显示区域](../Images/e160f0cf497f67a8dca328748d858f9d.png)

每当我单击此区域时，也会对此执行操作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T06:32:11.193

不要担心这种行为，如果没有其他元素，iOS 会在元素附近自动点击。

如果你真的想阻止点击 except 按钮，那么你必须将 Element 放在应该继承`UIControl`或能够获取的未使用区域`UserInteraction`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:54:44.427

我得到了解决方案。我在这两个 UIBarButtonItem 之间放置了一个 UIButton 并使其成为自定义的，而它的选择器为零。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-19T14:44:04.790

另外，你可以试试这个：（Swift 版本）

```
 let btnName = UIButton()
    btnName.setImage(UIImage(named: "settings_filled_25"), forState: .Normal)
    btnName.frame = CGRectMake(0, 0, 30, 30)
    btnName.addTarget(self, action: Selector("toggleRight"), forControlEvents: .TouchUpInside)

    var rightView = UIView()
    rightView.frame = CGRectMake(0, 0, 30, 30)
    rightView.addSubview(btnName)

    let rightBarButton = UIBarButtonItem()
    rightBarButton.customView = rightView
    self.navigationItem.rightBarButtonItem = rightBarButton 
```

# ios - Mac OS X 10.7.3 中的 Xcode 4.3 安装错误？

> ID：11716314
> 
> 赞同：1
> 
> 时间：2012-07-30T06:24:21.247
> 
> 标签：ios, xcode, macos, osx-lion, xcode4.3

我们已经购买了带有`Mac Os X 10.7.3 Lion`版本的新 iMac。我试图`Xcode 4.3`从应用程序安装。但是当我尝试安装 Xcode 时，它​​显示`"A Unknown error occurred. See the install log for more details"`。但是我没有任何错误日志`install.log file`。我在`all messages.log file`. 我不明白出了什么问题。我在这里提到了错误日志，

```
com.apple.SecurityServer: Failed to authorize right 'system.install.app-store-software' by client '/System/Library/PrivateFrameworks/PackageKit.framework/Versions/A/Resources/installd' [744] for authorization created by '/Applications/Xcode.app' [735] 
```

任何人都可以帮助安装 Xcode 4.3 并继续工作吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T07:53:47.017

只需右键单击并显示内容 -> 资源 -> 包手动安装移动设备，我们都设置好了:)

# c++ - 静态链接相同 SQLite 库的两个项目会导致问题

> ID：11716321
> 
> 赞同：0
> 
> 时间：2012-07-30T06:25:29.573
> 
> 标签：c++, c, sqlite, shared-libraries, static-libraries

我有一个奇怪的问题。 

我正在开发一个使用 C 编写的共享库和一个用 C++ 编写的 GUI 应用程序。GUI 应用程序使用共享库。这个共享库使用 SQLite 合并和静态链接。GUI 也将 SQLite 用于某些配置目的。它也是静态链接的。他们都使用最新的 SQLite 版本。 

我的共享库使用`FTS4`. 我通过在编译共享库时提供编译时间选项来启用 FTS4。一切都适用于共享库。我在共享库代码库中的所有测试都通过了。

当我开始在 GUI 程序中使用它时会出现问题。我收到类似的错误，`Unknown module FTS4`. 这很奇怪，因为我将它静态链接到我的共享库中，而这个 GUI 程序所做的只是动态链接到我的库。当我将 FTS 编译选项设置为 GUI 程序时，错误消失并且一切正常。

简而言之，

`libfoo.so`- 静态链接 SQLite 与 FTS4 选项打开 - 静态链接 SQLite `foo`没有任何特殊的编译时选项。动态链接到`libfoo`.

我不确定为什么会这样。任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:16:56.967

听起来共享库中的所有 sqlite 函数都被导出了。结果，当您加载共享对象时，所有这些函数都被解析到主应用程序，它还定义了符号名称的相同副本，但具有不同的功能。

使用如下所示的映射文件编译共享对象可能会更好：

```
{
global:
  *;
local:
  sqlite3*;
}; 
```

将其放入名为 的文件`foo.map`中，并在链接时`libfoo.so`（假设使用 gcc）

```
gcc -Wl,--version-script=foo.map -o libfoo.so <dependent files> 
```

这应该有望导致使用内部符号`.so`而不是主应用程序中定义的符号。

# css - CSS 弹出窗口中关闭按钮的位置

> ID：11716325
> 
> 赞同：2
> 
> 时间：2012-07-30T06:25:53.067
> 
> 标签：css, popup

我有一个缩略图图像，您可以单击以将全尺寸图像打开为弹出 div。

我希望该弹出窗口的关闭按钮位于边框的右上角，但不在图像本身上。我附上了我正在尝试做的另一个站点的屏幕截图示例，以及我的外观示例。

我想要的是：

![在此处输入图像描述](../Images/3afd6742d4f291bc376380e31b2d5a3e.png)

是）我有的：

![在此处输入图像描述](../Images/0c24e762aa8dc0ae49352dc5bae836d2.png)

这是我的 HTML：

```
<div id="blanket" style="display:none;"></div>
    <div id="popUpDiv" style="display:none;">
        <a href="#" onclick="popup('popUpDiv')"><img src="images/close.png" align=right></a><img src="images/largeimg.jpg" width=551 height=750>
    </div>  
  <h1><a href="#" onclick="popup('popUpDiv')">Click Here To Open The Pop Up</a></h1>
</div> 
```

还有我的 CSS：

```
#blanket {
   background-color:#111;
   opacity: 0.65;
   position:absolute;
   z-index: 9001; 
   top:0px;
   left:0px;
   width:100%;
}

#popUpDiv {
    position:absolute;
    background-color:white;
    width:551px;
    height:779px;
border:10px solid white;
    z-index: 9002; 
} 
```

如何移动关闭按钮，使其位于边框上，并且不会因按钮图像高度而导致额外的空白？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T06:32:36.527

不要重新发明轮子。您提供的屏幕截图看起来很像[花哨的盒子](http://fancybox.net/)。一个[jquery](http://jquery.com/)插件。改用它。使用这个或其他主要的类似 jQuery 插件之一，您将节省您自己的跨浏览器头痛。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-30T06:44:23.277

这是工作**[小提琴](http://jsfiddle.net/surendraVsingh/xMe62/)**

**CSS**

```
#blanket {
   background-color:#111;
   opacity: 0.65;
   position:fixed;
   z-index: 9001; 
   top:0px;
   left:0px;
   width:100%;
    height:100%;
}

#popUpDiv {
    position:relative;
    background-color:white;
    width:551px;
    margin:10% auto 0 auto;
    height:259px;
border:10px solid white;
    z-index: 9002; 

}
.close{position:absolute; right:-25px; top:-25px;} 
```

​</p>

# android - Eclipse 加载单独的活动而不是应用程序

> ID：11716327
> 
> 赞同：5
> 
> 时间：2012-07-30T06:26:20.600
> 
> 标签：android, eclipse, android-activity, load, device

我正在使用 Eclipse 和 android SDK（带有 ADT 插件），我不知道这是某种配置问题还是某种代码问题。每当我将我从头开始制作的应用程序（这意味着不使用另一个现有代码或库中的一个示例）加载到我的设备或在模拟器上运行它时，整个应用程序将作为“单独”应用程序加载，这些应用程序是活动. 例如，如果应用程序名为“Hello world”，并且它有两个活动，“MainActivity”和“SecondaryActivity”，则它们都将显示在设备上，并将它们的名称作为应用程序名称并在菜单上共享应用程序图标。现在，如果我转到设置，“Hello World”会显示为一个应用程序，现在再次表现得像它应该的那样。这不会影响应用程序的运行，但是，它' 让超过 1 个图标启动同一个应用程序很烦人。问题是，当我第一次使用 eclipse 时，这并没有发生。

为了以防万一，我已经重新安装了整个 android SDK 和 ADT 插件，我也尝试使用 3 个不同的 Eclipse 版本（经典、EE 和 Java 开发人员），它们似乎都不起作用，甚至但是，在任何活动的图形布局中，应用程序的名称都会显示在带有应用程序图标的栏中，但在模拟器或真实设备上运行时，它会在那里显示活动的名称。我到处寻找，我还没有解决问题。谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-30T15:01:25.057

检查您的清单以查看是否有多个活动具有此：

```
<category android:name="android.intent.category.LAUNCHER" /> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-03T17:07:09.097

我为上述问题找到的答案是，在清单文件中除 MainActivity 之外的所有活动中，将**category.LAUNCHER**替换为**category.EMBED 。**

# css - 如何将输入字段扩展到父级的 100%

> ID：11716330
> 
> 赞同：0
> 
> 时间：2012-07-30T06:26:33.173
> 
> 标签：css

对于一个可能愚蠢的问题，抱歉，我一直在寻找各种方法来解决这个问题，但它仍然不能像我想要的那样工作。

这是输入字段保持非常短（如~150px）的问题之一，即使它的框更宽（如宽显示器上的~1300 px）。

我最初的 html 和 CSS 显示在：http: [//jsfiddle.net/jjoensuu/qSz5x/5/](http://jsfiddle.net/jjoensuu/qSz5x/5/)

为了解决这个问题，我在以下位置找到了解决方案： [如何使文本输入框占据父块内的所有剩余宽度？](https://stackoverflow.com/questions/5825861/how-to-make-text-input-box-to-occupy-all-the-remaining-width-within-parent-block?rq=1)

我在上面的线程中创建了我认为类似于“wdm”的答案，但我遗漏了一些东西，因为结果仍然是一个狭窄的输入字段。我的创作在这里：http: [//jsfiddle.net/jjoensuu/rJ45P/8/](http://jsfiddle.net/jjoensuu/rJ45P/8/)

我还在同一线程中尝试了“Marty Wallace”的解决方案，但无法使其正常工作。

因此，作为对我在 jsfiddle 站点上的代码的参考，“topsearch”框的宽度约为 1300 像素，但“field-topsearch”输入字段保持在 156 像素左右。

在我尝试的一些解决方案中，“开始”按钮会转到下面的下一行。任何有关如何解决此问题的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:59:34.300

这是工作小提琴：http: [//jsfiddle.net/surendraVsingh/rJ45P/18/](http://jsfiddle.net/surendraVsingh/rJ45P/18/)

**CSS**

```
.topsearch
    {
    height: 40px;
    line-height: 35px;
    padding-right: 10px;
    width:100%;
    display:table;
    }

.topsearch label
    {
    color: #c98116;
    text-transform: uppercase;
    font-weight: normal;
    font-size: 0.9em;
    margin: 0 5px;
    }

.topsearch label, .topsearch form
    {
    display: inline;
    } 

.topsearchfield
    {
    border: none;
    height: 24px;
    font-size: 15px;
    width: auto;
    } 
#field-topsearch{width:80%; display:inline-block;}
.button-start-search submit
    {
    display: table-cell;
    } 
```

​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-27T13:55:59.117

我采取了稍微不同的方法。在我看来，您希望输入文本字段扩展，但标签和输入按钮在输入字段的两侧保持相同大小。这对于生成包含多行的表单而不诉诸表格布局可能很有用。此外，先前的建议在将元素保持在一行方面并不能很好地发挥作用。这种技术将允许包含“盒子”的大小随意调整为您喜欢的任何内容。

我确实不得不稍微调整一下你的 html，但我觉得标签应该在与之相关的元素旁边。为了清楚起见，我还省略了 html 表单，因为它不是布局的一部分：

```
<div class="input">
    <label for="field-topsearch">Search</label>
    <div class="value">
        <div>
            <input id="field-topsearch" maxlength="256" type="text" name="search_str" value=""/>
        </div>
        <input type="submit" class="button-start-search submit " value="Go!"/>
    </div>
</div> 
```

和CSS：

```
.value {
    position: relative;
}
.value>div {
    margin-left: 60px;
    margin-right: 40px;
}
label {
    position: absolute;
    top: 0px;
    left: 0px;
}
input.submit {
    position: absolute;
    top: 0px;
    right: 0px;
}
input[type="text"] {
    width: 100%;
} 
```

小提琴在[这里可用](http://jsfiddle.net/monkeydispenser/9bfg3/2/ "JSFiddle 示例")

# c# - 选择查询值临时存储在哪里以及如何分别获取每个值

> ID：11716337
> 
> 赞同：3
> 
> 时间：2012-07-30T06:27:20.913
> 
> 标签：c#, sql-server-2008

我有一个带有`SELECT`输出一行的语句的存储过程。它是这样的：

```
CREATE PROCEDURE [dbo].[CreateCustomer]
...

INSERT INTO Customers values(, , , ,)
SELECT CustomerID, FirstName, LastNam.....
INSERT Roles values(, , , ..... 
```

`Customers`这将从表中选择新存储的值。第二次插入使用 new `CustomerID`向`Roles`表中插入新行。

有没有办法只`customerID`从上面的 select 语句中获取而无需再次查询 CustomerID？

我试图声明一个变量并这样做：

```
SELECT takenCustomerID = CustomerID, FirstName, LastNam....(rest of query statement) 
```

但我必须声明所有变量并这样做：

```
SELECT takenCustomerID, takenFirstName, takenLastNa... = CustomerID, FirstName, LastNam... (rest of query statement) 
```

但是，我认为这很糟糕，因为它在服务器端浪费了大量内存。

**那么，是否有一种简单的方法可以立即获取单个值，而无需在 select 语句中声明所有变量，例如可以调用 TEMP("customerID") 并获取该值的内置类似 TEMP 的变量？**

另外，**存储过程中可以有多个 SELECT 语句吗？我们如何从我们想要的 select 语句中获取 select 值？**

出于好奇，我要求更多，因为我已经知道获得价值的方法。我只是想知道是否有更优雅的方式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:38:58.240

除非您手动将其重定向到表，`SELECT`否则只会转到输出流，所以不：您不能自动访问先前选择的值。

您*可能*只是在寻找`SCOPE_IDENTITY()`：

```
declare @id int

insert ....
values (...)

set @id = SCOPE_IDENTITY() 
```

在 DML 的一般情况下，另一个候选者是[`OUTPUT`从句](http://msdn.microsoft.com/en-us/library/ms177564.aspx)。

对于基于现有选择的更一般的复合选择，表变量可能会有所帮助：

```
declare @foo table (id int not null, name nvarchar(100) not null) // etc

insert @foo (id, name)
select id, name from Foo where ...

select * from @foo // for output

// but we still have the @foo data available for subsequent query

... // more TSQL here 
```

使用多个 select 语句，这完全取决于您使用的 API；但是，这里的原始 ADO.NET API 是`IDataReader`，它具有该`NextResult()`方法。多网格的典型用法是：

```
using(var reader = cmd.ExecuteReader()) {
    do {
        while(reader.Read()) {
          // i.e. for each row in this grid
          ...
        }
    } while (reader.NextResult()); // <== for each grid
} 
```

`while(...) {...}`请注意这里和之间的区别`do {...} while(...)`是因为您**自动**从第一个网格开始，但您需要手动前进到该网格中的第一**行**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T06:48:40.943

**访问插入的值**

很简单。使用该`OUTPUT`子句返回您刚刚创建的值。

```
DECLARE @Customers TABLE (
   CustomerID uniqueidentifier,
   FirstName varchar(100),
   LastName varchar(100)
);

INSERT dbo.Customers 
OUTPUT Inserted.*
INTO @Customers
SELECT newsequentialid(), @FirstName, @LastName, ...;
-- now you have all the values of the new row in the `@Customers` table variable. 
```

然后你可以这样做：

```
INSERT dbo.Roles
SELECT
   CustomerID,
   @OtherValue,
   @AnotherValue,
   AnyotherColumnFrom@Customers
FROM @Customers; 
```

如果您不再使用插入的 Customer 行中的值，您甚至可以取消表变量，直接将 OUTPUT 输入到 Roles 表中，假设进入该表的所有值都来自变量。

该`OUTPUT`子句允许使用特殊的 meta-table 访问插入的值`Inserted`。但是，您也可以将变量和表达式与常量一起使用。

使用这种方法的好处是您可以一次处理许多插入的行。如果您只插入一行，则只需要后面的`CustomerID`，并且需要多次使用它，然后改为这样做：

```
DECLARE @CustomerID uniqueidentifier = newsequentialid();
INSERT @Customer VALUES (@CustomerID, ...);
INSERT @Roles VALUES (..., @CustomerID ...); 
```

通过提前创建 GUID，您无需将其从表中取回。顺便说一句，`newsequentialid()`它可能优于`newid()`聚集索引（这可能是真的），因为您将避免`newid`可能导致的页面拆分。

**返回多个结果集**

这总是可能的。无论您使用什么方法进行查询，都会有一种方法可以将您的数据访问对象推进到下一个记录集。如果您使用的是`DataReader`然后查看该`NextResult`方法。在经典 ADO 中，记录集有一个`NextRecordset`方法。

# c# - AcceleratorKey 和 AccessKey 有什么区别

> ID：11716340
> 
> 赞同：4
> 
> 时间：2012-07-30T06:27:55.100
> 
> 标签：c#, .net, ui-automation

我在写microsoft UI Automation，AutomationElement类中有两个属性AcceleratorKey和AccessKey，有什么区别？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T09:01:42.747

来自[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.automation.automationelement.acceleratorkeyproperty.aspx)：

> 加速键组合调用一个动作。

和

来自[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.automation.automationelement.accesskeyproperty)：

> 访问键是菜单文本中的字符、菜单项或控件标签，例如激活附加菜单功能的按钮。

想象一个包含*文件*菜单的典型菜单栏。在文件菜单中有一个*打开文件*选项。将访问键分配`F`给*文件*菜单将允许按`Alt`+`F`打开此菜单。如果`O`分配给*Open file ，则在打开**File*`O`菜单时按，将调用分配给此菜单的操作 - 通常显示 Open file 对话框。

 *如果您将一个`O`作为加速键分配给*打开文件*菜单，则随时按`Ctrl`+ `O`（即使没有打开*文件*菜单）也会调用它的操作 - 显示打开文件对话框。*

# wpf - 为什么在表单加载时隐藏父项时无法绑定Wpf DataGrid MaxWidth？

> ID：11716344
> 
> 赞同：0
> 
> 时间：2012-07-30T06:28:14.130
> 
> 标签：wpf, binding, wpfdatagrid

我在表单加载时隐藏的网格中有一个 DataGrid，并且想要将数据网格的宽度绑定到它的父节点，但它似乎没有绑定，这是示例：

```
<Grid  Visibility="Binding....}">
    <DataGrid MaxWidth="{Binding ActualWidth, RelativeSource={RelativeSource  Mode=FindAncestor, AncestorType=Grid  }}"
  .../>
 .
 .
 </Grid> 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:51:40.100

像这样试试

```
AncestorType={x:Type Grid} 
```

代替

```
AncestorType=Grid 
```

我希望这将有所帮助。

# actionscript-3 - 多次加入同一个表时无法获得完整结果

> ID：11716346
> 
> 赞同：0
> 
> 时间：2012-07-30T06:28:22.883
> 
> 标签：actionscript-3, sqlite, air

我有这个 SQL 代码：

```
SELECT t1.offname, t2.offname, t3.offname, t4.offname, t5.offname, t6.offname, t7.offname
FROM AS_ADDROBJ_29 t1
LEFT JOIN AS_ADDROBJ_29 t2 ON t1.parentguid = t2.aoguid AND t1.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t3 ON t2.parentguid = t3.aoguid AND t2.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t4 ON t3.parentguid = t4.aoguid AND t3.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t5 ON t4.parentguid = t5.aoguid AND t4.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t6 ON t5.parentguid = t6.aoguid AND t5.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t7 ON t6.parentguid = t7.aoguid AND t6.parentguid NOT NULL
WHERE t1.offname LIKE "smth%" 
```

当我使用 执行此操作时`SQLiteManager`，它返回 7 列，其中一些列等于 null。但是 AIR 只返回最后一个`t7`表结果，其他结果被省略。不同`SQLColumnNameStyle-s`的情况不会改变。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T06:36:11.800

加入同一个表有一个问题 - 结果你得到很多同名的列。AIR sqlite 引擎无法正确处理它，但有一个简单的技巧：您应该用不同的字符串名称命名所有列。像这样：

```
SELECT t1.offname AS 'OFFNAME1', t2.offname AS 'OFFNAME2', t3.offname AS 'OFFNAME3', 
t4.offname AS 'OFFNAME4', t5.offname AS 'OFFNAME5', t6.offname AS 'OFFNAME6',
t7.offname AS 'OFFNAME7'
FROM AS_ADDROBJ_29 t1
LEFT JOIN AS_ADDROBJ_29 t2 ON t1.parentguid = t2.aoguid AND t1.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t3 ON t2.parentguid = t3.aoguid AND t2.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t4 ON t3.parentguid = t4.aoguid AND t3.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t5 ON t4.parentguid = t5.aoguid AND t4.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t6 ON t5.parentguid = t6.aoguid AND t5.parentguid NOT NULL
LEFT JOIN AS_ADDROBJ_29 t7 ON t6.parentguid = t7.aoguid AND t6.parentguid NOT NULL
WHERE t1.offname LIKE "smth%" 
```

现在在 SQLResult.data 中，您将拥有带有 7 个“OFFNAME#”键和所有值的对象。一些值将等于 null。

# visual-studio - 在 DLL 中 /SUBSYSTEM:CONSOLE 到 /SUBSYSTEM:WINDOWS 之间切换的效果

> ID：11716350
> 
> 赞同：16
> 
> 时间：2012-07-30T06:29:06.467
> 
> 标签：visual-studio, winapi, visual-c++, dll

对于这种情况，我在 MSDN 上找不到任何有用的东西。使用[Dependency Walker](http://www.dependencywalker.com/)，在模块列表中，我看到控制台和 GUI 的混合使用。

这对编译 DLL 有影响吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-30T06:37:00.020

此选项仅对应用程序 ( `exe`) 有效，对库 ( `dll`) 无效。

它的[文档](http://msdn.microsoft.com/en-us/library/fcc1zstk.aspx)说：

> 该`/SUBSYSTEM`选项指定可执行文件的环境。
> 
> 子系统的选择会影响链接器将选择的入口点符号（或入口点函数）。

这不会影响具有自己（可选）[入口点](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682583.aspx)的库。

*Cyber​​Shadow 评论后的附加信息：*加载 DLL 时，子系统字段本身似乎被忽略。[这篇关于 CSRSS 的文章](http://j00ru.vexillium.org/?p=492)说（强调我的）：

> 此外，**每个进程都与一个特定的子系统相关联**；此属性由链接器设置（在编译过程中），并位于以下 PE 结构字段中：[...]

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-12-11T02:06:51.263

我下面的回复只是一些发现。

我尝试在 VS2015 中创建以下类型的项目：

*   Win32 控制台应用程序项目
*   Win32 DLL 项目
*   Win32 Windows 应用项目

以下是他们的完整链接选项：

**Win32 控制台应用程序项目**

> /OUT:"C:\Temp\ConsoleApplication3\Debug\ConsoleApplication3.exe" /MANIFEST /NXCOMPAT /PDB:"C:\Temp\ConsoleApplication3\Debug\ConsoleApplication3.pdb" /DYNAMICBASE "kernel32.lib" "user32.lib" “gdi32.lib” “winspool.lib” “comdlg32.lib” “advapi32.lib” “shell32.lib” “ole32.lib” “oleaut32.lib” “uuid.lib” “odbc32.lib” “odbccp32.lib” /DEBUG /MACHINE:X86 /INCREMENTAL /PGD:"C:\Temp\ConsoleApplication3\Debug\ConsoleApplication3.pgd" **/SUBSYSTEM:CONSOLE** /MANIFESTUAC:"level='asInvoker' uiAccess='false'" /ManifestFile:"Debug\ ConsoleApplication3.exe.intermediate.manifest" /ERRORREPORT:PROMPT /NOLOGO /TLBID:1

**Win32 DLL 项目**

> /OUT:"C:\Temp\ConsoleApplication3\Debug\Win32DLLProject1.dll" /MANIFEST /NXCOMPAT /PDB:"C:\Temp\ConsoleApplication3\Debug\Win32DLLProject1.pdb" /DYNAMICBASE "kernel32.lib" "user32.lib" “gdi32.lib” “winspool.lib” “comdlg32.lib” “advapi32.lib” “shell32.lib” “ole32.lib” “oleaut32.lib” “uuid.lib” “odbc32.lib” “odbccp32.lib” /IMPLIB:"C:\Temp\ConsoleApplication3\Debug\Win32DLLProject1.lib" /DEBUG **/DLL** /MACHINE:X86 /INCREMENTAL /PGD:"C:\Temp\ConsoleApplication3\Debug\Win32DLLProject1.pgd" **/SUBSYSTEM:WINDOWS** /MANIFESTUAC :"level='asInvoker' uiAccess='false'" /ManifestFile:"Debug\Win32DLLProject1.dll.intermediate.清单” /ERRORREPORT:PROMPT /NOLOGO /TLBID:1

**Win32 Windows 应用项目**

> /OUT:"C:\Temp\ConsoleApplication3\Debug\Win32WindowsProject1.exe" /MANIFEST /NXCOMPAT /PDB:"C:\Temp\ConsoleApplication3\Debug\Win32WindowsProject1.pdb" /DYNAMICBASE "kernel32.lib" "user32.lib" “gdi32.lib” “winspool.lib” “comdlg32.lib” “advapi32.lib” “shell32.lib” “ole32.lib” “oleaut32.lib” “uuid.lib” “odbc32.lib” “odbccp32.lib” /DEBUG /MACHINE:X86 /INCREMENTAL /PGD:"C:\Temp\ConsoleApplication3\Debug\Win32WindowsProject1.pgd" **/SUBSYSTEM:WINDOWS** /MANIFESTUAC:"level='asInvoker' uiAccess='false'" /ManifestFile:"Debug\ Win32WindowsProject1.exe.intermediate.manifest" /ERRORREPORT:PROMPT /NOLOGO /TLBID:1

所以我们可以看到，对于 a `/DLL`，`/SUBSYSTEM:WINDOWS`定义了。

然后我尝试用 3 个不同的 SUBSYSTEM 值构建一个 DLL：

*   安慰
*   视窗
*   没有设置

还有其他值，但我只能用上面3个才能成功构建。其他值会导致链接错误，这意味着需要一些外部符号。

可能的 SUBSYSTEM 值的完整列表是：

[![在此处输入图像描述](../Images/6b5fcbdf77d0a95935e04a852d2e8871.png)](https://i.stack.imgur.com/o4A7E.png)

您可以使用 CFF Explorer 检查 PE/COFF 二进制文件。

头`SUBSYSTEM`域位于`0x14C`PE/COFF 文件的文件偏移处。它是`Optional Header`.

**/DLL /SUBSYESTEM:控制台**

[![在此处输入图像描述](../Images/e0936361ac720550e11996092079ddc3.png)](https://i.stack.imgur.com/rSJiS.png)

**/DLL /SUBSYESTEM:WINDOWS**

[![在此处输入图像描述](../Images/f138c2939246e683e27251f1e0cf4923.png)](https://i.stack.imgur.com/h5lAt.png)

**/DLL 并且没有 /SUBSYESTEM 选项（通过在 VS2015 项目属性页面中选择 NOT SET**

[![在此处输入图像描述](../Images/bebec44b0e52e8004045410f10f7a3dd.png)](https://i.stack.imgur.com/QV4wr.png)

有趣的是，`NOT SET`和`WINDOWS`值导致二进制标头中的内容相同。

我比较了 3 个 DLL 的整个二进制文件。除了一些时间戳和调试信息外，其余的二进制文件似乎都是一样的。

**这只是我发现的一些事实。选项如何`/SUBSYSTEM`影响二进制行为取决于加载器如何解释该字段。**

在我参与的一个项目中，`/SUBSYSTEM:CONSOLE`和`/DLL`一起使用，这与DLL项目的默认组合不同。但似乎没有什么不好的事情发生。所以我同意@Frédéric Hamidi 的观点，即这个标志对 DLL 没有功能影响。

# java - Spring调度程序导致一个问题，如何解决这个问题？

> ID：11716351
> 
> 赞同：0
> 
> 时间：2012-07-30T06:29:16.937
> 
> 标签：java, spring, quartz-scheduler

我收到以下消息：

```
appears to have started a thread named [schedulerFactory_Worker-1] but has failed to stop it. 
```

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:34:07.763

您的 bean 定义是否有一个销毁钩子？IE

```
<bean id="schedulerFactoryBean" class="org.springframework.scheduling.quartz.SchedulerFactoryBean" 
destroy-method="destroy"> 
```

# xml - 替换 XSLT 1.0 中的字符

> ID：11716358
> 
> 赞同：1
> 
> 时间：2012-07-30T06:30:04.267
> 
> 标签：xml, xslt, xslt-1.0

我的输入 xml 文件中有一个数字，例如**19778.40**，但我想通过 xslt 在输出 xml 文件中更改为**19778,40**（逗号而不是点）。

我怎样才能格式化这个数字？我不想为此使用任何模板。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T07:40:57.327

您可以使用 translate() 函数。作为说明，这个 XSLT 1.0 样式表...

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="text"/>

<xsl:template match="/">
<xsl:variable name="the-number" select="*/text()" />  
The input number with European formatting is <xsl:value-of select="translate($the-number,'.',',')" />
</xsl:template>

</xsl:stylesheet> 
```

...将转换此输入...

```
<t>19778.40</t> 
```

……进入这个……

```
The input number with European formatting is 19778,40 
```

* * *

**或者**

像这样使用 format-number() 函数...

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="text"/>

<xsl:decimal-format name="euro" decimal-separator="," grouping-separator="." />

<xsl:template match="/">
<xsl:variable name="the-number" select="*/text()" />  
The input number with European formatting is <xsl:value-of select="format-number($the-number,'#,00','euro')" />
</xsl:template>

</xsl:stylesheet> 
```

# c# - 如何在登录表单的前面和主窗体上显示登录表单？

> ID：11716362
> 
> 赞同：0
> 
> 时间：2012-07-30T06:30:42.537
> 
> 标签：c#, winforms, login

在我的 winform 应用程序中；我有登录表单和主表单。

当我运行程序时，我希望登录表单位于顶部，主表单位于其后面。

还有一件事是，在我没有使用用户名和密码正确登录之前，主表单应该无法访问，只有登录表单应该可以访问。

我的语言是 C#.Net。

请提供有关如何实现这一目标的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:48:07.987

在您的事件上使用[`Form.ShowDialog`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.showdialog)（将表单显示为模式对话框）[`Form.OnShown`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.onshown)（在首次显示表单时发生）：

```
private void Form1_Load(object sender, EventArgs e)
{
    this.Shown += Form1_Shown;
}

private void Form1_Shown(object sender, EventArgs e)
{
    LoginForm loginForm  = new LoginForm ();

    if (loginForm.ShowDialog() == DialogResult.Ok)
    {
     ....
    }
} 
```

你`Program`和`LoginForm`这样的：

```
//Progrmm.cs
Application.Run(new Form1());

//LoginForm.cs
public partial class LoginForm : Form
{
    public LoginForm ()
    {
        InitializeComponent();
    }

    private void buttonLogin_Click(object sender, EventArgs e)
    {
        //check username password
        if(texboxUser == "user" && texboxPassword == "password")
        {
            DialogResult = DialogResult.OK;
            Close();
        }
        else
        {
            MessageBox.Show("Wrong user pass");
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:39:21.327

我不喜欢你提出的设计，想先显示登录表单，然后是主表单。但是，如果您绝对需要它，那么您可以执行以下操作..

在主类中：

```
Application.Run(new frmMain()); 
```

然后在 Form 类中：

```
private void frmMain_Load(object sender, EventArgs e)
{
    //---------------------------------------------

    System.Windows.Forms.Timer t = new System.Windows.Forms.Timer();
    t.Tick +=new EventHandler(t_Tick);
    t.Interval = 1000;
    t.Start();
}

void t_Tick(object sender, EventArgs e)
{
    frmLogin l = new frmLogin();
    if (l.ShowDialog(this) == DialogResult.Ok)
       ((System.Windows.Forms.Timer)sender.Dispose();
} 
```

尽管您必须进一步确保在没有正确的用户名和密码的情况下不会退出登录表单（这应该取决于您）

使用 System.Windows.Forms.Timer 因为它在同一个线程中运行，因此会阻止对主窗体的调用（与 System.Timers.Timer 不同）

# android - Android：将图像上传到 Facebook 上的特定相册

> ID：11716363
> 
> 赞同：2
> 
> 时间：2012-07-30T06:30:55.157
> 
> 标签：android, facebook, facebook-graph-api

我正在查看适用于 Android 的 facebook SDK 中的示例，但无法弄清楚如何将图像上传到用户的特定相册。我已经完成了身份验证，因此用户可以在必要时上传到私人相册。这是我的上传代码：

```
public void uploadFacebookPhoto(String description)
{
    Bundle params = new Bundle();

    params.putString("method", "photos.upload");
    params.putByteArray("picture", picData);
    params.putString("description", description);

    params.putString(SOME_IDENTIFIER, MY_ALBUM); 

    AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(mFacebook);
    mAsyncRunner.request(null, params, "POST", new SampleUploadListener(), null);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:26:40.263

试试这个片段：

```
Bundle params = new Bundle();
params.putByteArray("source", imageBytes);
params.putString("message", "A wall picture");
facebook.request("ALBUM_ID/photos", params, "POST"); 
```

其中**ALBUM_ID** - 是您需要在其中发布图像的专辑 ID。

如需进一步参考，请查看[Facebook 帖子](https://developers.facebook.com/docs/reference/api/user/#posts)

# c# - EF 序列化：ICollection

> ID：11716366
> 
> 赞同：1
> 
> 时间：2012-07-30T06:31:04.780
> 
> 标签：c#, entity-framework, xml-serialization, icollection

我正在研究 EF，我想序列化数据库中的记录并反序列化以在控制台应用程序中显示它。

这是应用程序的 2 个类：

```
[Serializable()]
public class Product : ISerializable
{
    public int ProductID { get; set; }
    public string Productname { get; set; }
    public Decimal? UnitPrice { get; set; }
    public bool Discontinued { get; set; }
    public virtual Category Category { get; set; }

    public Product() { }

    void ISerializable.GetObjectData(
        SerializationInfo info, StreamingContext context)
    {
    }
}

[Serializable()]
public class Category : ISerializable
{
    public int CategoryID { get; set; }
    public string CategoryName { get; set; }
    public string Description { get; set; }
    public byte[] Picture { get; set; }
    public virtual ICollection<Product> Products { get; set; }

    public Category() { }

    void ISerializable.GetObjectData(
        SerializationInfo info, StreamingContext context)
    {
    }
} 
```

我发现，这将导致错误，因为接口无法序列化，即 Category 类中的 Products。

因此，如果我删除下面导致错误的行：

```
public virtual ICollection<Product> Products { get; set; } 
```

该程序将成功运行。（成功序列化和反序列化）

但是，如果我删除了这一行，lazyloading 属性将会丢失。

我真的很想保留延迟加载属性，任何人都可以为我提出解决方案。谢谢！

# javascript - cakephp javascript 动态更新

> ID：11716367
> 
> 赞同：2
> 
> 时间：2012-07-30T06:31:13.003
> 
> 标签：javascript, cakephp, for-loop

所有创建 cakephp（使用 2.1.2）页面。我们提示用户输入他们之后的字段数（一个 int），然后我们希望页面对输入的数字使用 for 循环。

这是添加页面的代码

```
<h2>Please select how many fields you wish to add</h2></br>

<?php
print $this->Session->flash('flash', array('element' => 'alert'));

echo $this->Form->create('Field', array('action'=>'add'));

For(int i=0; i<'flash'; i++)
{
echo $this->Form->input('name',array('label'=>'Please Enter Field Name: ', 'type'=>'text')); 
echo $this->Form->input('description',array('label'=>'Please Enter Field Description: ', 'type'=>'text')); 
}
echo $this->Form->end('Click Here To Submit Template');

?> 
```

这是警报的代码

```
<script type="text/javascript">
    prompt('How many fields?','<?php print $message; ?>');
</script> 
```

问题是我们如何使用 alert.ctp 创建一个变量，然后能够将该变量用于 for 循环以打印出一个接受用户输入的表单。

编辑：

Javascript函数：

```
<script type="text/javascript">

var number_of_fields=prompt("How many fields?",'<?php print $message; ?>');
var field_html="";
for (i=0; i<number_of_fields; i++)
{
  field_html +='<input type="text" name="data[FIELD]['+i+'][name]">';
}
$("#FORMID").append(field_html); 

</script> 
```

看法：

```
<?php
print $this->Session->flash('flash', array('element' => 'alert'));

echo $this->Form->create('Field', array('action'=>'add'));

echo $this->Form->end('Click Here To Submit Template');

?> 
```

现在没有错误，但无法显示任何字段。我们在视图中放置了什么来打印字段（这将是更多的输入——因此用户可以创建一个字段）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:04:48.657

由于我们在 javascript 中获得了 no: of required 的值，我建议也按照 cakephp 使用的约定在 javascript 中创建字段来创建输入字段。因此，您可以使用 javascript for 循环并将字段连接到 js 变量中，然后使用 javascript 将此 html 输入插入到表单中。

例如：

```
var number_of_fields=prompt("How many fields?",'<?php print $message; ?>');
var field_html="";
for (i=0; i<number_of_fields; i++)
{
  field_html +='<input type="text" name="data[MODELNAME]['+i+'][name]">';
}
$("#FORMID").append(field_html); 
```

我希望这是有道理的

# vb.net - .NET - 块级范围

> ID：11716370
> 
> 赞同：3
> 
> 时间：2012-07-30T06:31:23.643
> 
> 标签：vb.net

请看下面的代码：

```
Public Class TestClass
    Public TestProperty As Integer
End Class

Public Class Form1

    Private Sub Form1_Load(ByVal sender As Object, 
                           ByVal e As System.EventArgs) Handles Me.Load
        Dim i As Integer
        Dim j As Integer
        For j = 0 To 2
            For i = 0 To 10
                Dim k As Integer
                Dim tc As TestClass
                tc = New TestClass
                tc.TestProperty = tc.TestProperty + 1
                k = k + 1
            Next
        Next
    End Sub
End Class 
```

`tc`在 FOR 循环的每次迭代中都会创建一个新对象（称为），因此`tc.TestProperty`总是如此`1`。为什么变量不是这种情况，`k`即`k`每次迭代时递增的值？我意识到这可能与如何处理值类型和引用类型有关，但我想检查一下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T01:59:39.120

这是因为当某些东西被定义为块级别时，它适用于整个块级别，而与循环无关。通常使用控制逻辑，如 IF 块语句，范围开始和结束，没有代码行重复。

在循环结构内，变量是在该块内定义的，即使 Dim 语句似乎被多次调用，但它实际上不是可执行语句（只是上面在一条评论中提到的占位符的定义和保留）

要使其以与“tc”相同的方式运行，您还需要以类似的方式对其进行初始化。（分配给 0 会在每个循环中发生，而不是定义）

```
Dim k As Integer = 0 
```

或者，如果您更改处理 tc 的方式，它的行为方式与 k 相同，它在循环内的整个时间都处于块范围内。在下面的示例中， tc 也没有在每个循环中重新定义。

```
Dim tc as TestClass
if tc is nothing then tc = New TestClass 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T07:37:36.267

“Dim k As Integer”实际上并没有翻译成任何代码，除了“空间保留”（肯定是在编译时进行的）。所以应用程序没有通过该句子 10 次。

作为证据，您**不能**在该代码行上添加跟踪项目符号！

另一方面，您的代码在每个循环上创建一个新的对象 TestClass（保存一个全新的变量“TestProperty”）并将其分配给变量“tc”。之前的对象会丢失，并且很快就会收集碳水化合物。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:43:56.377

您必须将`Dim k As Integer = 0`其保持在 1。

这是因为`Dim k As Integer` [保留它的值](http://msdn.microsoft.com/en-us/library/7ee5a7s1%28v=VS.80%29.aspx)，同时`Dim k As Integer = 0`“声明和初始化”它。

具体来说：“如果您更改值但随后返回 Dim 语句，则更改后的值将替换为 Dim 语句中提供的值。”

实际上，我不知道为什么它似乎没有超出范围。也许没有`New`关键字它使用相同的内存块。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-31T07:24:47.190

正如这个问题的标题所暗示的，您正在查询范围与变量的生命周期。

局部变量的作用域`k`是`tc`内`For`循环。一生就是整个`Sub`。

如果您将 调整`tc = New TestClass`为`If tc Is Nothing Then tc = New TestClass`（并忽略了导致的警告），那么您也应该看到`tc.TestProperty`增量。

# android - Android 地图：在 onDraw() 中使用文本和按钮创建自定义视图

> ID：11716375
> 
> 赞同：0
> 
> 时间：2012-07-30T06:31:48.450
> 
> 标签：android, android-layout, android-mapview, android-maps

在我的 Android 地图应用程序中，我有一些集群图标。每当按下集群图标时，我想显示一个带有文本和按钮的弹出信息框。如果我们按下按钮，它将导致下一个活动。

```
private void drawInfoWindow(Canvas canvas, MapView mapView, boolean shadow,
            int x, int y) {

        if (isSelected_) {

                Point selDestinationOffset = new Point();
                mapView.getProjection().toPixels(cluster_.center_,
                        selDestinationOffset);

                // Setup the info window with the right size & location
                int INFO_WINDOW_WIDTH = 125;
                int INFO_WINDOW_HEIGHT = 25;
                RectF infoWindowRect = new RectF(0, 0, INFO_WINDOW_WIDTH,
                        INFO_WINDOW_HEIGHT);

                infoWindowRect.offset(x, y);

                // Draw inner info window
                canvas.drawRoundRect(infoWindowRect, 5, 5, getInnerPaint());

                // Draw the MapLocation's name
                int TEXT_OFFSET_X = 10;
                int TEXT_OFFSET_Y = 15;

                canvas.drawText(cluster_.number+" Incidents", x + TEXT_OFFSET_X, y
                        + TEXT_OFFSET_Y, getTextPaint());
            }
        } 
```

这仅显示一个小的文本视图，如弹出窗口。但我想显示一个带有文本和按钮的弹出信息框。请给我最好的方法....

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:56:31.297

您可以使用自定义布局 xml 文件在 mapview 上创建覆盖，而不是使用画布。

1.  为您的叠加层创建一个 xml 文件（我在这里使用 overlay_pin_layout.xml）。例如，一个线性布局，顶部有一个文本视图，底部有一个按钮。

2.  将此叠加层添加到您想要的位置。

    // 从 xml 文件中膨胀你的叠加层

    查看 overlayPin = getLayoutInflater().inflate(R.layout.overlay_pin_layout, null);

    // 设置文本视图

    ((TextView)(overlayPin.findViewById(R.id.textview_overlayerpin))).setText(YOUR_TEXT);

    // 设置按钮触摸监听器

    ((Button)(overlayPin.findViewById(R.id.button_overlayerpin))).setOnLongClickListener(new View.OnLongClickListener() {

    ```
     @Override
                        public boolean onLongClick(View v) {
                            // Do something on button click
                            return false;
                        }
                    }
                ); 
    ```

    // 通过地理点在地图视图上添加您的叠加层

    overlayPin.setLayoutParams(new MapView.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT, new GeoPoint(YOUR_LAT, YOUR_LON), MapView.LayoutParams.BOTTOM_CENTER)); mapView.addView(overlayPin);

对于像动画这样的弹出窗口，试试这个。如果没有，请在 res 中创建一个 anim 文件夹。在 anim 文件夹中使用以下代码创建一个 xml。我称之为animation_pop_up.xml。

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
<scale
    android:fromXScale="0.0"
    android:toXScale="1.0"
    android:fromYScale="0.0"
    android:toYScale="1.0"
    android:pivotX="50%"
    android:pivotY="50%"
    android:duration="500"
    android:repeatCount="0"
    android:repeatMode="reverse"
    android:interpolator="@android:anim/accelerate_interpolator"
    >
</scale>
<alpha
    android:fromAlpha="0"
    android:toAlpha="1"
    android:duration="500"
    android:repeatCount="0"
    android:repeatMode="reverse">
</alpha>
</set> 
```

当您在 mapview 上添加 overlayPin 时，播放动画。

```
Animation animation = AnimationUtils.loadAnimation(mainActivity.getApplicationContext(),
                    R.anim.animation_pop_up);
overlayPin.startAnimation(animation); 
```

# python - BeautifulSoup：从锚标签中提取文本

> ID：11716380
> 
> 赞同：47
> 
> 时间：2012-07-30T06:32:24.810
> 
> 标签：python, html, beautifulsoup, tags, scraper

我想提取：

*   `image`来自标签的以下 src 的文本和
*   `div`类数据内的锚标记的文本

我成功地提取了 img src，但无法从锚标记中提取文本。

```
<a class="title" href="http://www.amazon.com/Nikon-COOLPIX-Digital-Camera-NIKKOR/dp/B0073HSK0K/ref=sr_1_1?s=electronics&amp;ie=UTF8&amp;qid=1343628292&amp;sr=1-1&amp;keywords=digital+camera">Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)</a> 
```

这是整个[HTML 页面](http://www.amazon.com/s/ref=sr_pg_1?rh=n:172282,k:digital%20camera&keywords=digital%20camera&ie=UTF8&qid=1343600585)的链接。

这是我的代码：

```
for div in soup.findAll('div', attrs={'class':'image'}):
    print "\n"
    for data in div.findNextSibling('div', attrs={'class':'data'}):
        for a in data.findAll('a', attrs={'class':'title'}):
            print a.text
    for img in div.findAll('img'):
        print img['src'] 
```

我想要做的是**提取图像 src （链接）和里面的标题`div class=data`**，例如：

```
 <a class="title" href="http://www.amazon.com/Nikon-COOLPIX-Digital-Camera-NIKKOR/dp/B0073HSK0K/ref=sr_1_1?s=electronics&amp;ie=UTF8&amp;qid=1343628292&amp;sr=1-1&amp;keywords=digital+camera">Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)</a> 
```

应该提取：

> `Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)`

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-07-30T12:00:42.287

这将有助于：

```
from bs4 import BeautifulSoup

data = '''<div class="image">
        <a href="http://www.example.com/eg1">Content1<img  
        src="http://image.example.com/img1.jpg" /></a>
        </div>
        <div class="image">
        <a href="http://www.example.com/eg2">Content2<img  
        src="http://image.example.com/img2.jpg" /> </a>
        </div>'''

soup = BeautifulSoup(data)

for div in soup.findAll('div', attrs={'class':'image'}):
    print(div.find('a')['href'])
    print(div.find('a').contents[0])
    print(div.find('img')['src']) 
```

如果您正在研究亚马逊产品，那么您应该使用官方 API。至少有[一个 Python 包](http://pypi.python.org/pypi/python-amazon-product-api/)可以缓解您的抓取问题，并使您的活动保持在使用条款范围内。

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2015-12-01T11:37:00.637

就我而言，它是这样工作的：

```
from BeautifulSoup import BeautifulSoup as bs

url="http://blabla.com"

soup = bs(urllib.urlopen(url))
for link in soup.findAll('a'):
        print link.string 
```

希望能帮助到你！

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-07-30T13:19:15.090

我建议走 lxml 路线并使用 xpath。

```
from lxml import etree
# data is the variable containing the html
data = etree.HTML(data)
anchor = data.xpath('//a[@class="title"]/text()') 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-30T21:40:39.387

以上所有答案确实帮助我构建了我的答案，因此我投票支持其他用户提出的所有答案：但我最终对我正在处理的确切问题提出了自己的答案：

正如问题明确定义的那样，我必须访问 dom 结构中的一些兄弟姐妹及其孩子：此解决方案将遍历 dom 结构中的图像并使用产品标题构造图像名称并将图像保存到本地目录。

```
import urlparse
from urllib2 import urlopen
from urllib import urlretrieve
from BeautifulSoup import BeautifulSoup as bs
import requests

def getImages(url):
    #Download the images
    r = requests.get(url)
    html = r.text
    soup = bs(html)
    output_folder = '~/amazon'
    #extracting the images that in div(s)
    for div in soup.findAll('div', attrs={'class':'image'}):
        modified_file_name = None
        try:
            #getting the data div using findNext
            nextDiv =  div.findNext('div', attrs={'class':'data'})
            #use findNext again on previous object to get to the anchor tag
            fileName = nextDiv.findNext('a').text
            modified_file_name = fileName.replace(' ','-') + '.jpg'
        except TypeError:
            print 'skip'
        imageUrl = div.find('img')['src']
        outputPath = os.path.join(output_folder, modified_file_name)
        urlretrieve(imageUrl, outputPath)

if __name__=='__main__':
    url = r'http://www.amazon.com/s/ref=sr_pg_1?rh=n%3A172282%2Ck%3Adigital+camera&keywords=digital+camera&ie=UTF8&qid=1343600585'
    getImages(url) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-30T17:57:38.823

```
>>> txt = '<a class="title" href="http://rads.stackoverflow.com/amzn/click/B0073HSK0K">Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)</a> '
>>> fragment = bs4.BeautifulSoup(txt)
>>> fragment
<a class="title" href="http://rads.stackoverflow.com/amzn/click/B0073HSK0K">Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)</a> 
>>> fragment.find('a', {'class': 'title'})
<a class="title" href="http://rads.stackoverflow.com/amzn/click/B0073HSK0K">Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)</a>
>>> fragment.find('a', {'class': 'title'}).string
u'Nikon COOLPIX L26 16.1 MP Digital Camera with 5x Zoom NIKKOR Glass Lens and 3-inch LCD (Red)' 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-12-16T12:21:15.577

```
print(link_addres.contents[0]) 
```

它将打印锚标签的上下文

例子：

```
 statement_title = statement.find('h2',class_='briefing-statement__title')
 statement_title_text = statement_title.a.contents[0] 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-05-07T11:07:52.287

要从锚标记中获取 href`tag.get("href")`并获取您使用的 img src `tag.img.get("src")`。

例如，使用此数据：

```
data = """
            <div class="image">
            <a href="http://www.example.com/eg1">Content1<img src="http://image.example.com/img1.jpg" /></a>
            </div>
            <div class="image">
            <a href="http://www.example.com/eg2">Content2<img src="http://image.example.com/img2.jpg" /> </a>
            </div>
        """ 
```

获取链接和文本：

```
import requests
from bs4 import BeautifulSoup

def get_soup(url):
    response = requests.get(url)
    if response.ok:
        return BeautifulSoup(response.text, features="html.parser")

def get_links(soup):
    links = []
    for tag in soup.findAll("a", href=True):
        if img := tag.img:
            img = img.get("src")
        links.append(dict(url=tag.get("href"), text=tag.text, img=img))
    return links

# soup = get_soup('www.example.com')
soup = BeautifulSoup(data, features="html.parser")
links = get_links(soup) 
```

输出：

```
[{'url': 'http://www.example.com/eg1', 'text': 'Content1', 'img': 'http://image.example.com/img1.jpg'},
{'url': 'http://www.example.com/eg2', 'text': 'Content2 ', 'img': 'http://image.example.com/img2.jpg'}] 
```

# mysql - cakephp中mysql表的creation_time字段混淆

> ID：11716382
> 
> 赞同：0
> 
> 时间：2012-07-30T06:32:44.453
> 
> 标签：mysql, cakephp, datetime, timestamp

知道为什么我不能自动更新表中的 creation_time 字段：

编号 | 姓名 | 创建时间

**creation_time** --> 类型：时间戳，默认值：CURRENT_TIMESTAMP

当我尝试使用如下语句将数据保存在 cakephp 中时：

```
$this->Model->create();
$this->Model->save(array('name'=>'...')); 
```

我将新数据插入到表中，但没有创建时间。当我在 Mysql 语句中运行**插入**时，该字段会自动更新为当前时间戳，这是异常的。

我知道我可以像在 Cakephp 的文档中那样使用创建的字段，但就我而言，我不想更改现有的字段名称，因为它是在同一项目中工作的其他成员使用的表。

请给我提意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:38:45.083

在 cakephp 中，最好在您的情况下使用常规名称，例如“created”。该字段将是日期时间类型。但是，如果您想创建自己的字段，则必须使用常规设置示例将实际日期和时间手动插入到字段中：

```
$this->Model->set('creation_time', CURRENT_TIMESTAMP); 
```

其中 current_timestamp 是您必须在保存模型后创建的变量

但是cakephp中最好的方法是使用约定名称，不建议使用非常规名称

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:14:33.053

当您调用 时，Cake 会使用默认值`$this->Model->create()`填充其中包含的数据。`$this->Model`如果你调试`$this->Model->data`

```
debug($this->Model->data); 
```

你会发现`creation_time`已经设置好了，但是有一个字符串：

```
array(
    'Model' => array(
         ...,
         'creation_time' => 'CURRENT_TIMESTAMP'
) 
```

)

因此，当 Cake 生成 INSERT 查询时，这个查询包含`creation_time`字段，`CURRENT_TIMESTAMP`作为字符串：

```
INSERT INTO `models` (..., `creation_time`, ...) VALUES (..., 'CURRENT_TIMESTAMP', ...) 
```

如果要将`creation_time`字段保留在数据表中，要生成有效查询，您可以在保存数据之前删除默认值：

```
$this->Model->create();
unset($this->Model->data['Model']['creation_time']);
$this->Model->save(...); 
```

# vb.net - 从另一个表单更新文本文件中的一行

> ID：11716385
> 
> 赞同：0
> 
> 时间：2012-07-30T06:33:10.687
> 
> 标签：vb.net, winforms

我有一个 `form`菜单脚本（顶级和二级）。

我遇到的问题是第二级之一是“添加”，它会将您带到另一个`form`. 这`form`有一个按钮“记录”和`textboxes`。此表单允许用户输入数据，当单击记录按钮时，输入的数据将写入文本文件。

回到第一种形式。另一个二级菜单脚本是“更新”，它把用户带到与`form`“添加”相同的位置；但首先，用户必须单击 a 中的项目`listbox`才能继续。

如何从所选项目中获取数据以显示在适当的位置`textboxes`，以及如何让“记录”按钮更新数据，而不是认为它只是一个添加数据按钮？

此外，如果有人可以给我一些关于确保用户选择其中的项目的指示，那`listbox`肯定是一个加分！

不幸的是，由于我的声誉太低，我无法添加图像。

[这是我最终目标的可视化表示](http://www.flickr.com/photos/83812754@N07/7674806270/in/photostream)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:47:05.930

要以另一种形式访问该控件，您可以将表单名称作为控件名称的前缀（另一种形式的控件名称）。

例子：

```
Form2.TextBox1.Text = "Hey, this is the second form" 
```

要检查是否选择了某个项目，您可以这样做：

```
 If ListBox1.SelectedItems.Count = 0 Then
        MessageBox.Show("Please select an item")
    Else
        MessageBox.Show("Thanks for selecting an item")
    End If 
```

或者，这样：

```
 If ListBox1.SelectedIndex = -1 Then
        MessageBox.Show("Please select an item")
    Else
        MessageBox.Show("Thanks for selecting an item")
    End If 
```

# actionscript-3 - 新的 Flash 5.5 应用程序 - 最佳方法

> ID：11716387
> 
> 赞同：2
> 
> 时间：2012-07-30T06:33:19.307
> 
> 标签：actionscript-3, file, load

我有一个新的应用程序项目，并且在开始之前想知道什么是组织数据的好方法。

这个想法是一个提供每日问题的应用程序，每天的问题都不同。365 个问题可以存储在文本文件中，我一直在将 XML 文件加载到 Flash 中并显示结果。

将问题存储在一个简单的文本文件中并加载到 Flash（使用 URL Loader）或 XML 文件中会更好吗？

XML 文件可能有助于提供“日”信息，但可能有更好的方法让应用程序显示每天的正确问题。

我正在研究“问题 1”与“第 1 天”（年度）相吻合

这种方法是否有意义，或者是否有更好的方法让脚本可以处理问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:52:45.757

XML 将使数据模型对您的目标直观。

```
<?xml version="1.0" encoding="UTF-8"?>
<questions>
    <question day="1"><![CDATA[ <b>Question 1</b>: Lorem ipsum dolor sit amet. ]]></question>
    <question day="2"><![CDATA[ <b>Question 2</b>: Consectetur adipiscing elit. ]]></question>
    <question day="3"><![CDATA[ <b>Question 3</b>: Duis semper risus nec nisi elementum. ]]></question>
</questions> 
```

在 ActionScript 中，要获取一年中的当前日期，可以这样实现：

```
public static function getDayOfTheYear(d:Date):uint {
    var firstDay:Date = new Date(d.getFullYear(), 0, 1);
    return (d.getTime() - firstDay.getTime()) / 86400000;
} 
```

加载 XML 后，您可以使用 e4x 获取当前问题节点：

```
var now:Date = new Date();
var day:uint = getDayOfTheYear(now);

/* Assuming you loaded XML to a variable: var xml:XML */
var question:XMLList = xml.question.(@day == day);
trace(question.valueOf()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:48:25.987

您需要的一件事是找出一年中的哪一天。没有用于此的本机 Flash API，因此您必须自己动手。请注意，您需要 366 个问题才能让您的应用程序在闰年运行。

至于是使用文本文件还是 XML，这取决于您和您觉得更舒服的方式。AS3 的 XML API 很强大，如果您刚开始使用 Flash，这对您来说可能是一个不错的选择。

# ssh - 为什么我的 SSH 在连接到 github 时挂在那里？

> ID：11716399
> 
> 赞同：6
> 
> 时间：2012-07-30T06:34:30.540
> 
> 标签：ssh, github, cygwin

这是我今天尝试做十次但没有成功的事情：

*   使用 ssh-keygen 创建密钥。
*   使用 Gedit 或 Notepad++ 打开 ~/.ssh/id_rsa.pub 并复制内容。
*   转到 github.com 上的帐户设置
*   转到 SSH 密钥
*   单击添加密钥按钮。
*   给钥匙一个标题
*   将密钥粘贴到密钥框中。
*   保存密钥（输入我的 github 密码进行验证）。

然后，我在 cygwin 中运行 '$ ssh -vT git@github.com'，但它总是挂在那里。这是输出：

```
$ ssh -vT git@github.com
OpenSSH_6.0p1, OpenSSL 1.0.1c 10 May 2012
debug1: Reading configuration data /home/eason.wu/.ssh/config
debug1: /home/eason.wu/.ssh/config line 1: Applying options for github.com
debug1: Reading configuration data /etc/ssh_config
debug1: Connecting to github.com [207.97.227.239] port 22.
debug1: Connection established.
debug1: identity file /home/eason.wu/.ssh/id_rsa type 1
debug1: identity file /home/eason.wu/.ssh/id_rsa-cert type -1 
```

有没有人遇到这个问题，任何解决方案将不胜感激

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T06:38:07.710

确保您确实将公钥复制为*一行*，因为来自编辑器的副本有时可以将该密钥的内容缓冲为几行。

如果您仍有问题，请查看“[无法将主服务器推送到 Github](https://stackoverflow.com/questions/922210/unable-to-git-push-master-to-github/922461#922461) ”中的其他 SSH 调试提示。
A`ssh -vvvT git@github.com`可以显示更多的调试信息。

* * *

[OP 吴奕迅](https://stackoverflow.com/users/701457/eason-wu)评论：

> 我找到了这个问题的真正原因，它是由我的网络引起的。
> **有些网站是我公司禁止的**，我想这也会影响 GitHub 服务。
> 我打开VPN连接后，再次使用 重新测试`ssh -vvvT git@github.com`，它成功通过

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-08-13T17:37:42.577

对于最近来这里寻找解决方案的任何人，这也发生在我身上，但是在调试中（根据上述说明），与 GitHub 的连接从未建立。

我的输出看起来像：

```
OpenSSH_7.9p1 Ubuntu-10, OpenSSL 1.1.1b  26 Feb 2019
debug1: Reading configuration data /home/preston/.ssh/config
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: resolving "github.com" port 22
debug2: ssh_connect_direct
debug1: Connecting to github.com [2607:7700:0:1a:0:1:c01e:ff70] port 22. 
```

我注意到最后一行中的 IPv6 地址，并认为这可能是问题所在。因此，我找到了一篇关于将其更改为在全局 ssh 设置中使用 IPv4 地址的文章。

更改为 IPv4 有效。

来源：[https ://stackoverflow.com/a/35113901/3818056](https://stackoverflow.com/a/35113901/3818056)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-05T10:45:09.423

对我来说，问题是我连接的路由器使用的是 WPA，而不是 WPA2/3。一旦我更改为没有此问题的网络，我的 repo 就会立即用 ssh 克隆。

# openerp - 如何将值存储为“应收帐款”

> ID：11716401
> 
> 赞同：-5
> 
> 时间：2012-07-30T06:34:34.437
> 
> 标签：openerp

我想制作几乎像发票一样的发票，如何将字段存款帐户中的价值保存到我选择的帐户中。在哪里可以查看示例代码？我真的很困惑

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-31T04:10:37.127

好JC

根据描述，我可以说您可以创建和编写您的模型，您可以将代码输入到您想要的相应帐户中。

谢谢你。

# c - Wireshark API 可用吗？

> ID：11716403
> 
> 赞同：0
> 
> 时间：2012-07-30T06:34:40.553
> 
> 标签：c, wireshark

我有一个新项目。这是想法。我将我的跟踪作为输入，我的工具应该为我提供该跟踪中的所有连接。然后我必须对这些连接做几件事。

我的问题是 - 我知道 tshark 是一个我可以用来获取这些信息的 API。

是否有任何其他可用的 API，尤其是在 C 中我可以用于此目的？

# c# - 字符串数组不起作用

> ID：11716408
> 
> 赞同：-1
> 
> 时间：2012-07-30T06:35:25.747
> 
> 标签：c#

我使用一个简单的数组：包含字符串的 contentHouseOne[]。但是在 Do/While 循环中它不起作用！似乎代码不明白要创建新对象时它是一个字符串！？当我像下面显示的那样对字符串进行硬编码时，它会起作用。帮助是preciated！谢谢！

这不起作用：

```
listHouseParts.Add(new HousePart(content, contentHouseOne[i], newPosition)); 
```

但这有效：

```
 listHouseParts.Add(new HousePart(content, "100x100", newPosition)); 
```

编辑：

下面是一些声明数组的代码

```
string[] contentHouseOne = new string[] { "ruta100x100Red", 
                                          "ruta100x100Grey", 
                                          "ruta100x100Green", 
                                          "ruta100x100Yellow", 
                                          "ruta100x100Blue" };

bool[,] occupiedPositions = new bool[500,500]; 
```

这是一些将所有网格位置设置为 false 的代码

```
for (int i = 0; i < gridCol; i++)
    for (int ii = 0; ii < gridRow; ii++)
        occupiedPositions[i, ii] = false; 
```

最后这是我遇到问题的代码

```
int i = 0;
do
{
    Vector2 newPosition = NewRandomPosition;
    if (occupiedPositions[(int)newPosition.X, (int)newPosition.Y] == false)
    {
        listHouseParts.Add(new HousePart(content, 
                                         contentHouseOne[i], newPosition));
        occupiedPositions[(int)newPosition.X, (int)newPosition.Y] = true;
        i++;
    }
}
while (i <= 5); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T06:53:23.273

您的字符串数组包含五个元素：

```
string[] contentHouseOne = new string[] { "ruta100x100Red",
                                          "ruta100x100Grey", 
                                          "ruta100x100Green", 
                                          "ruta100x100Yellow", 
                                          "ruta100x100Blue" }; 
```

但是`while`如果您的运行变量`i`大于 5 ，您的循环就会结束

```
while (i <= 5); 
```

which causes a IndexOutOfBounds exception on `contentHouseOne`, because the 6th element at index 5 isn't defined. You should change your while condition to `(i < 5)`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:51:19.803

试试这个，至少你知道它是否为空

```
 HousePart housePart = new HousePart();
    housePart.Content = content;

    if (!string.IsNullOrEmpty(contentHouseOne[i]))
        housePart.ContentHouseOne = contentHouseOne[i];
    else
        housePart.ContentHouseOne = string.Empty;

    housePart.NewPosition = newPosition;

    listHouseParts.Add(housePart); 
```

# mysql - 如何替换 MySQL 中附加了变量编号的部分文本字段

> ID：11716410
> 
> 赞同：2
> 
> 时间：2012-07-30T06:35:33.593
> 
> 标签：mysql, regex, text, replace, field

我在需要替换的字段中有一些文本，但问题是它附加了一个数字 ID，我需要将其删除并替换为我的 MySQL 触发器中的值。

我的领域是这样的：

```
[["Randomthinghere","anotherranodm4234","pitahayas","apples","bananas","apricots","grapes","kiwifruit"],["ACRE_PRC119_ID_9","randomthing","randomthing2"]] 
```

我需要用 ACRE_PRC119 替换 ACRE_PRC119_ID_9 的值，但它并不总是 ID_9，它可以是任何合理的小数值。

我已经搜索并通读了手册，老实说，我不确定MySQL中有什么解决方案，如果有的话，因为我无法应用通配符来替换。如果任何解决方案需要 REGEXP，我可以做类似 REGEXP的事情，`^.*[[.".]]ACRE[[._.]]PRC119[[._.]]ID[[._.]]{[0-9]{1,9}}.*$';`遗憾的是你无法捕获结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:48:07.737

干得好

```
set @var:='[["Randomthinghere","anotherranodm4234","pitahayas","apples","bananas","apricots","grapes","kiwifruit"],["ACRE_PRC119_ID_9"]]';
select concat(substring(@var,1,locate('ID_',@var)-2),'"]]') ; 
```

# c# - 如何通过 IDataErrorInfo 接口验证属于 ViewModel 集合的对象的属性

> ID：11716411
> 
> 赞同：0
> 
> 时间：2012-07-30T06:35:40.790
> 
> 标签：c#, wpf, validation, mvvm, idataerrorinfo

我有一个**MyViewModel**，其中包含标量属性和集合属性。

```
public class MyViewModel :
    System.ComponentModel.INotifyPropertyChanged,
    System.ComponentModel.IDataErrorInfo
{
    public MyViewModel()
    {
        List<SelectableObject> list = new List<SelectableObject>();
        foreach (var weekDay in System.Threading.Thread.CurrentThread.CurrentCulture.DateTimeFormat.DayNames)
        {
            list.Add(new SelectableObject() { Name = weekDay, IsSelected = false });
        }
        WeekDays = list;
    }
    public string Catalog { get; set; }
    public DateTime CreationTime { get; set; }
    public DateTime ModificationTime { get; set; }

    public IEnumerable<SelectableObject> WeekDays { get; private set; }

    public ICommand SaveCommand { get; private set; }

    public string Error
    {
        get { return string.Empty; }
    }

    public string this[string columnName]
    {
        get
        {
            var errorResult = string.Empty;

            switch (columnName)
            {
                case "CreationTime":
                    // Validation logic
                    break;
                case "ModificationTime":
                    // Validation logic
                    break;
                default:
                    break;
            }

            return errorResult;
        }
    }
} 
```

**可选对象**类：

```
public class SelectableObject : System.ComponentModel.INotifyPropertyChanged
{
    public string Name { get; set; }
    public bool IsSelected { get; set; }
} 
```

我想通过**SaveCommand操作****<Button />的****IsEnabled**属性，并且我希望它启用，前提是表单上没有错误。但我不知道如何验证这一点：必须至少选择一个 WeekDay。

 ****是的，我可以监听**WeekDays**集合中每个对象的**PropertyChanged**事件，但在这种情况下，验证逻辑将与**IDataErrorInfo**接口分离。

 ****这个问题有什么解决办法吗？如何将集合的验证逻辑放入**IDataErrorInfo**接口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:36:29.387

只需在您的canexecute中执行您的逻辑吗？

视图模型：

```
private DelegateCommand _save;

public ICommand SaveCommand
{
  get {return this._save ?? (this._save = new DelegateComamnd(this.MyExecuteMethod, this.MyCanExecuteMethod));}
 }

private bool MyCanExecuteMethod()
{
   return this.WeekDays.Any(x=>x.IsSelected) && string.IsNullOrWhiteSpace(this.Error);
} 
```

ps：如果有任何错误，error 应该是非空的。********

# java - 使用 JPA JQL 查询 EXIST 行

> ID：11716418
> 
> 赞同：0
> 
> 时间：2012-07-30T06:36:07.730
> 
> 标签：java, mysql, jpa, jpql

`isUnique`应该只检查新闻组的**存在**并返回一个反映以下内容的布尔值：

```
init:
Deleting: /home/thufir/NetBeansProjects/USENET/build/built-jar.properties
deps-jar:
Updating property file: /home/thufir/NetBeansProjects/USENET/build/built-jar.properties
compile:
run:
DEBUG: nntp: newsrc loading /home/thufir/.newsrc
DEBUG: nntp: newsrc load: 5 groups in 26ms
Jul 29, 2012 8:37:13 PM net.bounceme.dur.usenet.driver.Main getFolders
INFO: [gwene.com.androidcentral, gwene.com.blogspot.emacsworld, gwene.com.blogspot.googlecode, gwene.com.blogspot.googlereader, gwene.com.economist]
[EL Info]: 2012-07-29 20:37:17.607--ServerSession(20908501)--EclipseLink, version: Eclipse Persistence Services - 2.3.0.v20110604-r9504
[EL Info]: 2012-07-29 20:37:19.815--ServerSession(20908501)--file:/home/thufir/NetBeansProjects/USENET/build/classes/_USENETPU login successful
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main persist
INFO: gwene.com.androidcentral
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: []
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: gwene.com.androidcentral  new
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main persist
INFO: gwene.com.blogspot.emacsworld
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: [gwene.com.androidcentral]
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: gwene.com.blogspot.emacsworld new
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main persist
INFO: gwene.com.blogspot.googlecode
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: [gwene.com.androidcentral, gwene.com.blogspot.emacsworld]
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: gwene.com.blogspot.googlecode new
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main persist
INFO: gwene.com.blogspot.googlereader
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: [gwene.com.androidcentral, gwene.com.blogspot.emacsworld, gwene.com.blogspot.googlecode]
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: gwene.com.blogspot.googlereader   new
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main persist
INFO: gwene.com.economist
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: [gwene.com.androidcentral, gwene.com.blogspot.emacsworld, gwene.com.blogspot.googlecode, gwene.com.blogspot.googlereader]
Jul 29, 2012 8:37:20 PM net.bounceme.dur.usenet.driver.Main isUnique
INFO: gwene.com.economist   new
BUILD SUCCESSFUL (total time: 9 seconds) 
```

通过查询数据库，这似乎像宣传的那样工作。但是，这似乎是错误的查询类型：

```
package net.bounceme.dur.usenet.driver;

import java.util.ArrayList;
import java.util.List;
import java.util.logging.Logger;
import javax.mail.Folder;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;
import javax.persistence.TypedQuery;
import net.bounceme.dur.usenet.model.Newsgroups;
import net.bounceme.dur.usenet.model.Usenet;

public class Main {

    private static final Logger LOG = Logger.getLogger(Main.class.getName());
    private Usenet u = Usenet.INSTANCE;

    public static void main(String[] args) {
        Main main = new Main();
    }

    public Main() {
        List<Newsgroups> folderGroups = getFolders();
        EntityManagerFactory emf;
        EntityManager em;
        emf = Persistence.createEntityManagerFactory("USENETPU");
        em = emf.createEntityManager();
        for (Newsgroups n : folderGroups) {
            persist(em, n);
        }
        em.close();
    }

    private void persist(EntityManager em, Newsgroups newNewsgroup) {
        LOG.info(newNewsgroup.toString());
        TypedQuery<Newsgroups> query = em.createQuery("SELECT n FROM Newsgroups n", Newsgroups.class);
        List<Newsgroups> results = query.getResultList();
        if (isUnique(newNewsgroup, results)) {
            em.getTransaction().begin();
            em.persist(newNewsgroup);
            em.getTransaction().commit();
        }
    }

    private boolean isUnique(Newsgroups newNewsgroup, Iterable<Newsgroups> results) {
        LOG.info(results.toString());
        for (Newsgroups existingNewsgroup : results) {
            if ((existingNewsgroup.getNewsgroup().equals(newNewsgroup.getNewsgroup()))) {
                return false;
            }
        }
        LOG.info(newNewsgroup + "\tnew");
        return true;
    }

    private boolean queryDB2(EntityManager em, Newsgroups ng) {
        String newsgroup = ng.getNewsgroup();
        TypedQuery<Newsgroups> query = em.createQuery("SELECT n FROM Newsgroups n WHERE n.newsgroup = :newsgroup", Newsgroups.class);
        Newsgroups result = query.getSingleResult();
        LOG.info("query result:\n" + result + "\ncompared to\n" + ng);
        return false;
    }

    private List<Newsgroups> getFolders() {
        List<Folder> folders = u.getFolders();
        List<Newsgroups> newsgroups = new ArrayList<>();
        for (Folder folder : folders) {
            Newsgroups newsgroup = new Newsgroups(folder);
            newsgroups.add(newsgroup);
        }
        LOG.info(newsgroups.toString());
        return newsgroups;
    }
} 
```

在哪里而不是使用`isUnique`来遍历查询结果，匹配的语法是什么？

我看到在[SQL](https://stackoverflow.com/a/1676573/262852)中有一个`EXISTS`关键词。我怎样才能把这个`isUnique`方法变成一个存在的查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:51:34.523

您可以尝试简单的查询：

```
SELECT 1 
FROM Newsgroups n 
WHERE newNewsgroup = 'newNewsgroup'
LIMIT 1; 
```

# mysql - 如果 MYSQL 不区分大小写，那么登录中的密码字段如何工作？

> ID：11716420
> 
> 赞同：7
> 
> 时间：2012-07-30T06:36:26.550
> 
> 标签：mysql, case-sensitive, case-insensitive

我想知道在正常选择操作的情况下，搜索是不区分大小写的。所以`SELECT * FROM tbl WHERE name = aBc`也会考虑带有值 ABC、abc、abC 等的名称

但是在登录功能的情况下，我们只是 `SELECT * FROM tbl WHERE password = aBc` 区分大小写，只考虑带有 aBc 值的密码。

这是怎么发生的？我在搜索中没有找到任何关于此的内容。

请注意解释。

谢谢大家。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T06:43:46.350

我认为这取决于列的排序规则，MySQL`utf8_general_ci`中`ci`的默认数据库排序规则，最后代表不区分大小写。

`MD5`仅当您使用或`PASSWORD`函数以加密格式存储密码时，区分大小写的密码才有效。

```
show variables like '%collation%';
+---------------------------+-------------------+
| Variable_name             | Value             |
+---------------------------+-------------------+
| collation_connection      | latin1_swedish_ci |
| collation_database        | utf8_general_ci   |
| collation_server          | latin1_swedish_ci |
+---------------------------+-------------------+ 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-09T06:56:43.033

$sql="SELECT * FROM user where username='$username' AND BINARY password='$password'";

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-10T14:27:29.807

区分大小写使用 (BINARY)

> SELECT * FROM tbl WHERE **BINARY**密码 = aBc

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-30T06:50:35.307

我不确定您的确切问题的答案是什么，但是如果您将密码作为文本存储在数据库中，那么这是一个非常糟糕的主意。相反，您应该做的是在注册时散列密码并以该形式将其存储在您的数据库中。然后，每次用户尝试登录时，您都会重新散列提交的密码，并将其与存储在具有匹配用户名的行中的散列进行比较。由于哈希区分大小写，这可以解决您的问题，同时增加急需的安全级别。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-30T07:42:59.807

在许多实现中，密码或其哈希值在应用程序服务器中进行比较，因此不会出现问题。

# node.js - 启动应用程序时`npm start`和`node app.js`之间的区别？

> ID：11716421
> 
> 赞同：195
> 
> 时间：2012-07-30T06:36:52.073
> 
> 标签：node.js, express, npm

我已经使用命令安装了一个应用程序`express new 'filename'`。我刚刚了解到您可以使用以下方式启动应用程序：

```
npm start 
```

到目前为止，我使用过：

```
node app.js 
```

启动我的服务器。有谁知道这两者有什么区别吗？谢谢。

* * *

## 回答 #1

> 赞同：279
> 
> 时间：2012-07-30T06:57:05.663

从[手册页](https://docs.npmjs.com/cli/start)，npm start：

> 运行包的“启动”脚本（如果提供的话）。如果未指定版本，则启动“活动”版本。

诚然，这种描述完全没有帮助，仅此而已。至少它比 socket.io 有更多的文档记录。

无论如何，真正发生的是 npm 在你的[package.json](http://wiki.joyent.com/display/node/npm+Integration)文件中查找，如果你有类似的东西

> “脚本”：{“开始”：“咖啡 server.coffee”}

然后它会这样做。如果 npm 找不到您的启动脚本，则默认为：

> 节点服务器.js

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2017-05-06T19:36:11.243

[文档已](https://docs.npmjs.com/cli/start)更新。我的答案与接受的答案相比有很大的变化：我想反映文档是最新的，并且接受的答案有一些断开的链接。

另外，我不明白什么时候接受的答案说“它默认为`node server.js`”。我认为文档阐明了默认行为：

> # npm-开始
> 
> 开始一个包
> 
> ## 概要
> 
> `npm start [-- <args>]`
> 
> ## 描述
> 
> **这会运行在包的“ ”对象的“ `start`”属性中`scripts`**指定的任意命令。如果没有在“ ”对象`start`上指定“ ”属性，**它将运行****。**`scripts`**`node server.js`**

总之，跑步`npm start`可以做以下两件事之一：

1.  `npm start {command_name}`：运行任意命令（即如果在`start`package.json`scripts`对象的属性中指定了这样的命令）
2.  `npm start`：否则，如果不`start`存在任何属性（或没有`command_name`传递）：运行`node server.js`，（这*可能不合适*，例如 OP 没有`server.js`；OP 运行`node`**`app.js`**）
3.  我说我只会列出 2 项，但还有其他可能性（即错误情况）。例如，如果`package.json`你运行的目录中没有`npm start`，你可能会看到一个错误：`npm ERR! enoent ENOENT: no such file or directory, open '.\package.json'`

# cordova - 无法使用 Eclipse 更新站点安装黑莓网络工作插件

> ID：11716429
> 
> 赞同：1
> 
> 时间：2012-07-30T06:37:52.377
> 
> 标签：cordova, sencha-touch, blackberry-eclipse-plugin, blackberry-webworks

我正在创建黑莓开发环境。我安装了以下：1\. oracle jdk 1.7 2\. Blackberry java eclipse plugin1.5.2。当我使用更新站点安装 blackberry webworks 插件时：

```
 http://www.blackberry.com/go/eclipseUpdate/3.6/web 
```

或者

```
 http://www.blackberry.com/go/eclipseUpdate/3.6/web 
```

但我无法安装它，出现这样的错误：

```
 Cannot complete the install because one or more required items could not be found.
  Software being installed: BlackBerry WebWorks SDK 2.0.0.201103231828-18   
   (net.rim.browser.tools.wcpc.feature.feature.group 2.0.0.201103231828-18) 
```

请任何人提供确切的安装链接（如果有）。如果不可用，请告诉我如何创建黑莓网络开发。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:54:11.343

已停止对 Blackberry webworks 插件的支持。请按照以下步骤使用黑莓开发 phonegap 应用程序

[http://docs.phonegap.com/en/2.0.0/guide_getting-started_blackberry_index.md.html#Getting%20Started%20with%20Blackberry](http://docs.phonegap.com/en/2.0.0/guide_getting-started_blackberry_index.md.html#Getting%20Started%20with%20Blackberry)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T19:53:33.170

更新：您现在还可以使用 Ripple 移动模拟器来构建 BlackBerry WebWorks 应用程序。

只需安装 WebWorks SDK，配置 Ripple 并单击“打包”按钮。

这是一个视频，展示了如何开始使用 Ripple：[http ://www.youtube.com/watch?v=Nj_N7gWjbzs](http://www.youtube.com/watch?v=Nj_N7gWjbzs)

# c# - 如何使用 Javascript 单按 Backspace 键清除文本框？

> ID：11716433
> 
> 赞同：2
> 
> 时间：2012-07-30T06:38:13.290
> 
> 标签：c#, javascript, asp.net, datepicker

我正在开发一个包含文本框的 Web 应用程序。文本框的值由日期选择器填充，其属性默认为只读。到目前为止，一切正常。但是当我按下退格键时会出现问题。它不是清除文本框，而是将我重定向回上一页。

我通过引用此站点上的一些先前答案，通过 javascript 函数处理了这种情况。

```
 function allowBackSpace(val) {
    var keyCodeEntered = (event.which) ? 
                             event.which : 
                             (window.event.keyCode) ? 
                                 window.event.keyCode : 
                                 -1;
    if (keyCodeEntered == 8) {
        $(this).val(""); 
        return true;
    }
    return false;
   } 
```

**更新：**这个函数是从

```
<asp:TextBox ID="txtDate" 
             Style="margin-left: 5px; margin-right: 5px" 
             runat="server"
             Width="88px" 
             onkeypress="return allowBackSpace(this);">
</asp:TextBox> 
```

我在文本框的按键事件上调用此函数。问题是它一次只允许删除一个字符。

如果用户按下退格按钮，我希望清除整个文本框。卡在这里如何实现这一点。

在此先感谢阿基尔

> PS：使用 C# 代码实现这一点的任何方法也将非常有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:45:07.737

您正在从 js 函数返回 true，该函数也执行其按键事件。因此，尝试返回 false。您可以尝试以下代码：

> 函数allowBackSpace（val）{
> 
> ```
> var keyCodeEntered = 
>      (event.which) ? event.which : 
>                  (window.event.keyCode) ? window.event.keyCode : -1;
> if (keyCodeEntered == 8) 
> {
>      $(this).val("");
>      return false;
>  }
>  return false; } 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:15:10.250

试试这个功能。

```
 $("#txt1").keydown(function(eve){
    var keyCodeEntered = eve.keyCode? eve.keyCode : eve.charCode;

    if (keyCodeEntered == 8) 
    {
         $(this).val("");
         return false;
     }
     return false;
  });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T07:21:56.887

使用 jQuery

```
$("#txtDate").keyup(function(event){
    if(event.keyCode == 8){
        $("#txtDate").val("");
        return false;
    }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-30T07:48:58.277

```
function allowBackSpace(e,obj)
{
    var evt=e||window.event;
    if(evt.keyCode==8)
    {
        obj.value='';
    }
} 
```

现在，使用`onkeydown`事件而不是 onkeypress

```
<textarea onkeydown='allowBackSpace(event,this)'></textarea> 
```

# powershell - 在powershell中查找外部IP地址和日志地址号？

> ID：11716435
> 
> 赞同：2
> 
> 时间：2012-07-30T06:38:18.880
> 
> 标签：powershell, logging, ip, external, ip-address

我制作了一个 powershell 脚本来查找我的外部 IP 地址。这是我到目前为止的代码：

```
$wc=New-Object net.webclient
$wc.downloadstring("http://checkip.dyndns.com") -replace "[^\d\.]" >External_IP.txt 
```

我打算每周运行这个脚本，并希望记录 IP 地址更改。目前，它将外部 IP 地址保存在名为 External_IP.txt 的文本文件中。多次运行时，它不会在文本文件中添加新行。

有人可以给我这方面的信息吗？=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:49:55.973

通过管道连接到`Out-File`cmdlet 并指定 Append 开关

```
... -replace "[^\d\.]" | Out-File External_IP.txt -Append 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T12:05:12.970

Shays 的答案在 PowerShell V3 中是正确的 我不确定你是否在 v2 中有 he -append 选项

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:41:58.017

由于您`>`用于写入文件，因此请尝试使用`>>`which 应该附加到文件（如果存在）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-02T11:26:21.463

```
$source = "http://ammaso.com/IP"
$client = new-object System.Net.WebClient
$webpage = $client.downloadString($source)
$obj = New-Object Object
$obj | Add-Member Noteproperty externalIP -value $webpage
$obj 
```

# svn - 在文件及其所有 SVN 版本中搜索

> ID：11716440
> 
> 赞同：4
> 
> 时间：2012-07-30T06:38:57.287
> 
> 标签：svn, search, revision-history

如何（如果可能的话）在文件中搜索字符串，包括其所有修订？

这样做的原因是我知道某些字符串`foo.bar`过去曾在我的文件中，但后来被删除了。该文件有很多修订，因此手动搜索非常耗时。我需要一个工具来下载`foo.bar`文件的所有修订版并在每个修订版中搜索我的字符串。

如果可能的话，我会很高兴在一个目录中搜索，而不仅仅是单个文件（还包括所有修订）。然而，这是可选的。

我带来的唯一解决方案是编写一个 python 脚本来逐个导出修订并始终读取文件并使用[find()](http://docs.python.org/library/string.html#string.find)搜索字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:48:08.423

这可能会回答您的问题： [https ://groups.google.com/forum/?fromgroups#!topic/subversion-development/dFIFGBzKt9A](https://groups.google.com/forum/?fromgroups#!topic/subversion-development/dFIFGBzKt9A)

可能您可以通过整个历史记录（如 git）转储差异并 grep 该文件。但这需要svn 1.7。

如果您通过自己的脚本执行此操作，则使用 svn-diff 逐个修订可能会更快（尽管我没有尝试过）并节省磁盘使用量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:59:58.180

您是否尝试过这个 perl 脚本：[如何在 SubVersion 存储库中搜索文件的所有修订版？](https://stackoverflow.com/questions/1118051/how-do-i-search-all-revisions-of-a-file-in-a-subversion-repository)它从 svn 存储库中搜索从最新版本开始的任意字符串的文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:17:03.420

我还想出了一个 Python 解决方案

```
code = os.system("svn diff <file-name> -r r<n>:r<n+1> | grep <string-to-search>") 
```

如果匹配，`code`则为 0，否则为 256，实际上为 1。[为什么`system('exit 1')`返回 256`](http://blog.tsul.net/2008/04/ossystem-and-its-return-value.html)

# iphone - 使用 CABasicAnimation 像 Fade In 一样显示图像

> ID：11716444
> 
> 赞同：0
> 
> 时间：2012-07-30T06:39:13.123
> 
> 标签：iphone, ios, cocoa-touch, calayer, cabasicanimation

我正在使用 CABasicAnimation 顺时针旋转 Image 360​​，我使用的代码是

```
CALayer*    _caLayer = [CALayer layer];
_caLayer.contents = (id)_logo.CGImage;  
_caLayer.frame = CGRectMake(65,158, 180,55);
[self.view.layer addSublayer:_caLayer];
CABasicAnimation*   rotation;
rotation = [CABasicAnimation animationWithKeyPath:@"transform.rotation"];
rotation.fromValue = [NSNumber numberWithFloat:0];    
rotation.toValue = [NSNumber numberWithFloat:((360*M_PI)/180)];
rotation.duration = 1.4f;
//rotation.beginTime = CACurrentMediaTime() +1;
rotation.repeatCount = 2.0;
rotation.fillMode = kCAFillModeForwards;
[_caLayer addAnimation:rotation forKey:@"360"]; 
```

动画效果很好..但我无法弄清楚一件事。我想从较小的尺寸开始动画图像并以正常尺寸结束。你已经在电影中看到了一些报纸会快速旋转并淡入，最后我们会在屏幕上完全看到报纸。我正在尝试这样做。我不知道该怎么做，拜托！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T13:47:39.973

您也可以使用以下内容，就像一个魅力

```
[UIView beginAnimations:@"fade in" context:nil];
[UIView setAnimationDuration:1.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
_imageView.alpha = 0.0;
_newImageView.alpha = 1.0;
[UIView commitAnimations]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:48:11.950

设置动画前的imageView帧：`[imageView setFrame: CGRectMake(your Frame)];`

然后继续使用循环或其他东西增加动画中的帧..

# android - 在 sqlite 数据库中插入数据错误

> ID：11716447
> 
> 赞同：0
> 
> 时间：2012-07-30T06:39:32.553
> 
> 标签：android, sqlite, logcat

我正在尝试从带有 android 的应用程序中的表单中获取答案。这是我使用的代码：

```
 package com.stage.sondage;

      import android.app.Activity;
      import android.content.Intent;
      import android.database.sqlite.SQLiteException;
      import android.os.Bundle;
      import android.view.View;
      import android.view.View.OnClickListener;
      import android.widget.Button;
      import android.widget.EditText;
      import android.widget.RadioButton;
      import android.widget.RadioGroup;
      import android.widget.Toast;

      public class Questionnaire extends Activity {

//Création d'une instance de ma classe SurveyAdapter
     SurveyAdapter survey=new SurveyAdapter(this);
     Appreciation appreciation=new Appreciation();

public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.questions);

    // We get a reference on the radio-group widget
    RadioGroup mRadioGroup1 = ( RadioGroup )findViewById( R.appreciation.rep1 );
    RadioGroup mRadioGroup2 = ( RadioGroup )findViewById( R.appreciation.rep2 );
    RadioGroup mRadioGroup3 = ( RadioGroup )findViewById( R.appreciation.rep3 );
    RadioGroup mRadioGroup4 = ( RadioGroup )findViewById( R.appreciation.rep4 );
    RadioGroup mRadioGroup5 = ( RadioGroup )findViewById( R.appreciation.rep5 );

    RadioButton b1 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
    appreciation.setRep1((String) b1.getText());
    RadioButton b2 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
    appreciation.setRep1((String) b2.getText());
    RadioButton b3 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
    appreciation.setRep1((String) b3.getText());
    RadioButton b4 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
    appreciation.setRep1((String) b4.getText());
    RadioButton b5 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
    appreciation.setRep1((String) b5.getText());

    EditText zone = (EditText) findViewById(R.appreciation.zone);
    appreciation.setZone(zone.getText().toString());

    appreciation.setLatitude(0);
    appreciation.setLongitude(0);

    OnClickListener ButtonEnregistrer = new OnClickListener(){

        public void onClick(View actuelView) {
            //On ouvre la base de données pour écrire dedans
            survey.open();

            //On insère le livre que l'on vient de créer
            survey.insertAppreciation(appreciation);

            //on ferme la base de données
            survey.close();
            Intent intent = new Intent(Questionnaire.this,Questionnaire.class);
            startActivity(intent);
                }           
    };

    Button enregistrer = ( Button )findViewById( R.appreciation.enregistrer);
    enregistrer.setOnClickListener(ButtonEnregistrer);  

}       

} 
```

这是调查适配器类的代码：

```
 package com.stage.sondage;

      import android.content.ContentValues;
      import android.content.Context;
      import android.database.Cursor;
      import android.database.sqlite.SQLiteDatabase;
      import android.database.sqlite.SQLiteDatabase.CursorFactory;

      public class SurveyAdapter {

        //nom de la table
  public static final String APPRECIATION_TABLE_NAME = "Appreciation";

  public static final String COLUMN_IDAPPRECIATION = "IDAPPRECIATIONL";
      public static final int NUM_COLUMN_IDAPPRECIATION = 0;
      public static final String COLUMN_ZONE = "ZONE";
  public static final int NUM_COLUMN_ZONE = 1;
  public static final String COLUMN_LATITUDE = "LATITUDE";
  public static final int NUM_COLUMN_LATITUDE = 2;
  public static final String COLUMN_LONGITUDE = "LONGITUDE";
  public static final int NUM_COLUMN_LONGITUDE = 3;
  public static final String COLUMN_REP1 = "REP1";
  public static final int NUM_COLUMN_REP1 = 4;
  public static final String COLUMN_REP2 = "REP2";
  public static final int NUM_COLUMN_REP2 = 5;
  public static final String COLUMN_REP3= "REP3";
  public static final int NUM_COLUMN_REP3 = 6;
  public static final String COLUMN_REP4= "REP4";
  public static final int NUM_COLUMN_REP4 = 7;
  public static final String COLUMN_REP5= "REP5";
  public static final int NUM_COLUMN_REP5 = 8;

  private SQLiteDatabase bdd;

  private AppreciationOpenHelper maBaseSQLite;

  public SurveyAdapter(Context context){
    //On créer la BDD et sa table
    maBaseSQLite = new AppreciationOpenHelper(context, null);
  }

  public void open(){
    //on ouvre la BDD en écriture
    bdd = maBaseSQLite.getWritableDatabase();
  }

  public void close(){
    //on ferme l'accès à la BDD
    bdd.close();
  }

  public SQLiteDatabase getBDD(){
    return bdd;
  }

  public long insertAppreciation(Appreciation app){
    //Création d'un ContentValues (fonctionne comme une HashMap)
    ContentValues values = new ContentValues();
    //on lui ajoute une valeur associé à une clé (qui est le nom de la colonne        dans laquelle on veut mettre la valeur)
    values.put(COLUMN_ZONE, app.getZone());
    values.put(COLUMN_LATITUDE, app.getLatitude());
    values.put(COLUMN_LONGITUDE, app.getLongitude());
    values.put(COLUMN_REP1, app.getRep1());
    values.put(COLUMN_REP2, app.getRep2());
    values.put(COLUMN_REP3, app.getRep3());
    values.put(COLUMN_REP4, app.getRep4());
    values.put(COLUMN_REP5, app.getRep5());

    //on insère l'objet dans la BDD via le ContentValues
    return bdd.insert(APPRECIATION_TABLE_NAME, null, values);
}

} 
```

这是 ApprecationOpenHelper 类的代码：

```
 package com.stage.sondage;

     import android.content.Context;
     import android.database.sqlite.SQLiteDatabase;
     import android.database.sqlite.SQLiteOpenHelper;
     import android.database.sqlite.SQLiteDatabase.CursorFactory;

     public class AppreciationOpenHelper extends SQLiteOpenHelper {

 //version de la base de données
    private static final int DATABASE_VERSION = 1;
    //le chemin de la base de donnée
    private static String DB_PATH = "/data/data/com.stage.sondage/databases/";
    //nom de la base
    private static final String SURVEY_BASE_NAME="survey.db";
    //nom de la table
    public static final String APPRECIATION_TABLE_NAME = "Appreciation";
    // Description des colonnes
    public static final String COLUMN_IDAPPRECIATION = "IDAPPRECIATIONL";
    public static final String COLUMN_ZONE = "ZONE";
    public static final String COLUMN_LATITUDE = "LATITUDE";
    public static final String COLUMN_LONGITUDE = "LONGITUDE";
    public static final String COLUMN_REP1 = "REP1";
    public static final String COLUMN_REP2 = "REP2";
    public static final String COLUMN_REP3= "REP3";
    public static final String COLUMN_REP4= "REP4";
    public static final String COLUMN_REP5= "REP5";

    // Requête SQL pour la création da la base
    private static final String REQUETE_CREATION_BDD = "CREATE TABLE "+ APPRECIATION_TABLE_NAME + " (" + COLUMN_IDAPPRECIATION
            + " INTEGER PRIMARY KEY AUTOINCREMENT, " + COLUMN_ZONE
            + " TEXT NOT NULL, " +COLUMN_LATITUDE
            + " DOUBLE NOT NULL, " +COLUMN_LONGITUDE
            + " DOUBLE NOT NULL, " + COLUMN_REP1 + " TEXT NOT NULL, "
            + COLUMN_REP2 + " TEXT NOT NULL,"+COLUMN_REP3 + " TEXT NOT NULL,"
            +COLUMN_REP4+"TEXT NOT NULL,"+COLUMN_REP5 +" TEXT NOT NULL);";

    public AppreciationOpenHelper(Context context, CursorFactory factory) {
        super(context, SURVEY_BASE_NAME, factory, DATABASE_VERSION);
        // TODO Auto-generated constructor stub
            }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL(REQUETE_CREATION_BDD);

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        if (newVersion > DATABASE_VERSION) {
            db.execSQL("DROP TABLE " + APPRECIATION_TABLE_NAME + ";");
            onCreate(db);
        }

    }

        } 
```

这里是欣赏类：包 com.stage.sondage；

```
 public class Appreciation {

        private int idappreciation;
        private String zone;
        private double latitude;
        private double longitude;
        private String rep1;
        private String rep2;
        private String rep3;
        private String rep4;
        private String rep5;

        public Appreciation(String zone, double latitude, double longitude, String rep1, String rep2, String rep3,String rep4,String rep5){

    this.zone=zone;
    this.latitude=latitude;
    this.longitude=longitude;
    this.rep1=rep1;
    this.rep2=rep2;
    this.rep3=rep3;
    this.rep4=rep4;
    this.rep5=rep5;     
    }
    public Appreciation() {
    // TODO Auto-generated constructor stub
        }
    public int getIdappreciation() {
    return idappreciation;
     }
    public void setIdappreciation(int idappreciation) {
    this.idappreciation = idappreciation;
     }
    public String getZone() {
    return zone;
     }
    public void setZone(String zone) {
    this.zone = zone;
     }
    public String getRep1() {
    return rep1;
      }
    public void setRep1(String rep1) {
    this.rep1 = rep1;
     }
    public String getRep2() {
    return rep2;
     }
    public void setRep2(String rep2) {
    this.rep2 = rep2;
     }
    public String getRep3() {
    return rep3;
     }
    public void setRep3(String rep3) {
    this.rep3 = rep3;
     }
    public String getRep4() {
    return rep4;
     }
    public void setRep4(String rep4) {
    this.rep4 = rep4;
     }
    public String getRep5() {
    return rep5;
     }
    public void setRep5(String rep5) {
    this.rep5 = rep5;
     }
    public double getLatitude() {
    return latitude;
     }
    public void setLatitude(double latitude) {
    this.latitude = latitude;
     }
    public double getLongitude() {
    return longitude;
     }
    public void setLongitude(double longitude) {
    this.longitude = longitude;
     }

            } 
```

最后是我在项目午餐时遇到的 logcat 错误

```
 07-30 06:33:14.220: E/AndroidRuntime(656): Uncaught handler: thread main exiting due to uncaught exception
    07-30 06:33:14.300: E/AndroidRuntime(656): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.stage.sondage/com.stage.sondage.Questionnaire}: java.lang.NullPointerException
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread.access$2200(ActivityThread.java:119)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.os.Handler.dispatchMessage(Handler.java:99)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.os.Looper.loop(Looper.java:123)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread.main(ActivityThread.java:4363)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at java.lang.reflect.Method.invokeNative(Native Method)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at java.lang.reflect.Method.invoke(Method.java:521)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at dalvik.system.NativeStart.main(Native Method)
    07-30 06:33:14.300: E/AndroidRuntime(656): Caused by: java.lang.NullPointerException
    07-30 06:33:14.300: E/AndroidRuntime(656):  at com.stage.sondage.Questionnaire.onCreate(Questionnaire.java:54)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
    07-30 06:33:14.300: E/AndroidRuntime(656):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
    07-30 06:33:14.300: E/AndroidRuntime(656):  ... 11 more 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:43:52.107

错误在`(com.stage.sondage.Questionnaire.onCreate(Questionnaire.java:54))`，你能指出这是哪一行吗？

另一件事，在下面的部分 mRadioGroup 应该有所不同吧？mRadioGroup1，mRadioGroup2，..等：

```
RadioButton b1 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
appreciation.setRep1((String) b1.getText());
RadioButton b2 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
appreciation.setRep1((String) b2.getText());
RadioButton b3 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
appreciation.setRep1((String) b3.getText());
RadioButton b4 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
appreciation.setRep1((String) b4.getText());
RadioButton b5 = (RadioButton)findViewById(mRadioGroup1.getCheckedRadioButtonId());
appreciation.setRep1((String) b5.getText()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:49:26.883

```
 after seeing your log there is null pointer exception in below class

       **public class Questionnaire extends Activity**  ..at line nuber 53 or 54 
        you may to see that line your class and debugg and see which object value
         coming as null and fix it 
```

# android - 如何访问手机的外部 Micro SD 卡？

> ID：11716448
> 
> 赞同：8
> 
> 时间：2012-07-30T06:39:33.077
> 
> 标签：android, eclipse

有谁知道如何获取手机的SD卡？

我知道有人会告诉我它的`getExternalStorageDirectory()`or `Environment.getExternalStoragePublicDirectory()`。

但不幸的是，它并不总是指向所有型号的外部 SD 卡。例如，我尝试了一种三星型号，它工作正常，但另一种不行，LG 不行。而且根据文档，它并不总是外部 SD 卡。

这里是，

*“不要被这里的“外部”这个词弄糊涂了。

最好将此目录视为**媒体/共享**存储。它是一个文件系统，可以保存相对大量的数据，并且在所有应用程序之间共享（不强制执行权限）。

传统上这是一张 SD 卡，但它也可以作为设备中的内置存储实现，不同于受保护的内部存储，并且可以作为文件系统安装在计算机上。"*

在我的应用程序中，我希望用户只使用 SD 卡。

我该如何克服呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:46:05.670

您可以在以下条件下检查 SDCard 是否可用

```
if (android.os.Environment.getExternalStorageState().equals(
            android.os.Environment.MEDIA_MOUNTED)) {

     //Check for the file
     File appFolder = new File(Environment.getExternalStorageDirectory() + File.separator
                + context.getString(R.string.app_name));

     boolean exist = appFolder.exists();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T07:00:53.740

查看 CommonsWare 关于同一主题的答案[https://stackoverflow.com/a/5695129/582571](https://stackoverflow.com/a/5695129/582571)

他提到我们无法区分手机的内置外部存储和可移动外部存储。

但是通过 Aleadam 回答[https://stackoverflow.com/a/6049446/582571](https://stackoverflow.com/a/6049446/582571)，我们只能使用 isExternalStorageRemovable() 函数检查外部存储是否可移动。

我希望你能明白。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-12-09T18:51:04.503

我面临着同样的问题。我不知道如何访问外部 sd 卡位置。我正在开发一个应用程序，其中我必须访问外部 sd 卡才能读取和写入一些东西。我尝试了不同的方法，包括预定义的 android 库。这些是我使用的方法：-

这些是失误：-

```
File path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);
File myFile = new File(path, "test.txt"); 

File root = Environment.getExternalStorageDirectory();
File dir = new File(root.getAbsolutePath()+"/Download");

File f = getExternalFilesDir(null); 
File file = new File(f,"test.txt"); 
```

这些都在访问内部存储“/storage/sdcard0”或“/storage/emulated/0”。原因是在 android 设备中，内部存储的一部分充当外部存储。因此，如果您有大约 16 Gb 或更多的内部存储，并且可以选择使用 sd 卡扩展设备，那么这是我猜想访问外部 sd 卡的唯一方法，因为即使是内置函数和库android studio 将访问内部存储作为外部存储。

最后我用了这个： -

```
String extFilePath = "/storage/sdcard1/Download";
File myFile = new File(extFilePath, "test.txt"); 
```

它奏效了。因此，您会看到预定义的 android 库/函数在哪里失败，我能够使用简单的 String 完成任务。

除此之外，如果您想检查设备外部存储的路径，请尝试以下操作：-

```
String sdpath,sd1path,usbdiskpath,sd0path;

if(new File("/storage/extSdCard/").exists())
{sdpath="/storage/extSdCard/";
Log.i("Sd Cardext Path", sdpath);}

if(new File("/storage/sdcard1/").exists())
{sd1path="/storage/sdcard1/";
Log.i("Sd Card1 Path",sd1path);}

if(new File("/storage/usbcard1/").exists())
{usbdiskpath="/storage/usbcard1/";
Log.i("USB Path",usbdiskpath);}

if(new File("/storage/sdcard0/").exists())
{sd0path="/storage/sdcard0/";
Log.i("Sd Card0 Path",sd0path);} 
```

检查这些可能会帮助您了解在访问外部 sd 卡时选择什么路径。我希望这对其他人有帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-11T06:42:06.357

可移动存储路径因设备而异。
可移动路径的示例是：
1\. mnt/ext
2\. mnt/externalsd
3\. mnt/external_sd

我的设备使用 mnt/external_sd。

您可以从vold.fstab 文件中检查文件的路径。
该文件位于系统文件夹下。
文件路径为：

“/etc/vold.fstab”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-28T16:02:34.760

我的最新设备也面临同样的问题。然后我发现可以在 /mnt/ext_sdcard/ 访问可移动 SD 卡。它对我有用。我能够在此位置列出存储在可移动外部 sd 卡中的所有文件。

以下是代码： new File("/mnt/ext_sdcard/").listFiles();

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-07-30T06:46:50.330

您可以通过以下方式获取路径......

```
File sdCardRoot = Environment.getExternalStorageDirectory();
        PATH = sdCardRoot.toString(); 
```

如果路径不存在，那么你必须通过 mkdir() 来创建路径.....

```
private File getTempFile(Context context) {
        final File path = new File(Environment.getExternalStorageDirectory(),
                context.getPackageName());
        if (!path.exists()) {
            path.mkdir();
        }
        return new File(path, "new.png");
    } 
```

上面的函数将返回文件...

# php - 为什么执行 PHP mysql_query 失败

> ID：11716460
> 
> 赞同：0
> 
> 时间：2012-07-30T06:41:06.490
> 
> 标签：php, mysql

为什么这个 PHP 代码（mysql_query 删除用户名所在的行`$phpVar`）什么都不做？

```
mysql_query("DELETE FROM xraydeath WHERE user = $user"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T06:45:36.660

可能是因为您也忘记引用`$user`参数，请将[变量转义](http://php.net/manual/en/function.mysql-real-escape-string.php)到 sql 查询字符串中。如果该参数直接连接到用户输入，则有人可能会提交`' or 1=1 --`并且您的整个表格都消失了。这个想法被称为[sql注入](http://en.wikipedia.org/wiki/SQL_injection)。

*注意：*旧的 mysql_* 函数现在已弃用，您应该避免使用它们，[请参阅替代品](http://php.net/manual/en/mysqlinfo.api.choosing.php)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:42:51.043

您忘记了用户周围的引号：

```
mysql_query("DELETE FROM xraydeath WHERE user = '$user'"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T06:42:47.547

您需要在字符串周围加上引号，如下所示：

```
mysql_query("DELETE FROM xraydeath WHERE user = '$user'"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:45:33.273

你在期待什么？它是如何失败的？Mysql_query 不应该以您正在使用的形式做任何事情，除了将查询发送到服务器。

```
 $result = mysql_query (...);
 // use the result if any.
 if (!$result) {
    die('Invalid query: ' . mysql_error());
 }
 // check the error that you might have 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T06:46:11.507

你需要加上`$user`引号

```
mysql_query("DELETE FROM xraydeath WHERE user = '".$user."';"); 
```

即使没有删除行，DELETE 也会成功，因此要获取实际删除的行数，请使用`mysql_affected_rows()`

```
$x = mysql_query("..");
echo "There were ".mysql_affected_rows()." rows affected"; 
```

**尽量不要使用`mysql_*`切换到 PDO 来代替。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-30T06:46:58.433

假设`xraydeath.user`是字符类型，值需要用引号括起来。如果`$user`尚未包含引号，请尝试：

```
mysql_query("DELETE FROM xraydeath WHERE user = '$user'"); 
```

对于踢球，请尝试设置`$user = "' OR '1'='1";`！（阅读 SQL 注入攻击，你真的应该改用 mysqli！）

* * *

该表也可能没有匹配的行，因此不会删除任何内容。如果不知道您分配的内容`$user`和您的数据，就无法知道。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-30T06:47:51.327

试试这个：

```
mysql_query("DELETE FROM xraydeath WHERE user = '".$user."'"); 
```

或者

```
mysql_query("DELETE FROM xraydeath WHERE user = '".$user."';"); 
```

在 mysql 中使用的每个 php 变量，将它们放入 '".$variable."'

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-07-30T06:55:26.210

首先：不推荐使用mysql。你应该使用mysqli。第二：用户是什么样的类型？if is int : (面向对象的风格)

```
mysqli::query("DELETE (what you want) FROM xraydeath WHERE `user` = '".$user."'"); 
```

如果是 varchar（字符串）：

```
mysqli::query("DELETE (what you want) FROM xraydeath WHERE `user` LIKE '".$user."'"); 
```

或（程序样式）

```
mysqli_query((your mysqli link), "DELETE (what you want) FROM xraydeath WHERE `user` LIKE/= '".$user."'"); 
```

希望能帮助到你

# ruby - Ruby：如何找到相对于实例化类的路径？

> ID：11716463
> 
> 赞同：1
> 
> 时间：2012-07-30T06:41:25.557
> 
> 标签：ruby

我正在创建一个作为 Rack 应用程序的 gem，所以我假设我的应用程序将在 config.ru 文件中实例化。我希望某些路径与此 config.ru 文件相关。那么如何在应用程序初始化时获取和设置路径呢？

例如：

隐藏在我的宝石中：

```
class MyApp
  def initialize
    @base_path = get_the_base_path_here
  end
  def call(env)
    html = render_view(@base_path + '/views/index.erb')
  end
end 
```

gem 的 config.ru 的用户：

```
require 'my_app'
run MyApp.new 
```

...和他们的意见目录：

```
/views
   index.erb 
```

### 更新：

实现这一点的一种方法是将基本路径作为参数传递，但我想找到一种方法来实现这一点而不将其作为参数传递。

```
require 'my_app'
run MyApp.new(File.dirname(__FILE__)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:52:55.560

### 当前文件的绝对路径

一般来说，您可以简单地使用`File.expand_path(__FILE__)`来查找当前文件的绝对路径，然后您可以根据需要存储一个变量或全局。例如：

```
$file_path = File.expand_path(__FILE__) 
```

### 当前程序的绝对路径

`File.expand_path($0)`类似，但返回被调用的程序。这种区别有时很微妙，但有时会很有用。

### 在同一基本目录中创建文件的绝对路径

如果要使用当前文件所在位置的目录名来寻址另一个文件，可以使用 File#join。例如：

```
File.join File.dirname(File.expand_path(__FILE__)), '.X11-unix'
=> "/tmp/.X11-unix" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T08:30:35.820

可能不是最好的方法，但您可以通过以下方式找到 config.ru：

```
$:.find{|path| File.exists? "#{path}/config.ru"} 
```

# objective-c - MKCircle 覆盖未在 MapView 上绘制

> ID：11716465
> 
> 赞同：0
> 
> 时间：2012-07-30T06:41:32.810
> 
> 标签：objective-c, ios, map, overlay, mkoverlay

我正确地将 MapView 连接到我的代表。此外，用户位置确实显示在地图上，但应该显示在同一位置的 MKCircle 没有这样做。它在某个时候起作用，但不知何故停止了工作。这是我的一些代码。

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
        locationManager = [[CLLocationManager alloc] init];
        [locationManager setDelegate:self];
        [locationManager setDesiredAccuracy:kCLLocationAccuracyBest];
        [locationManager startUpdatingLocation];
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
{
    userLocation = newLocation;
    MKCircle *circle = [MKCircle circleWithCenterCoordinate:userLocation.coordinate radius:500];
    circle.title = @"Nearby sites";
    [worldView addOverlay:circle];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T17:09:08.470

有了注解，`viewForAnnotation`就不需要实现委托方法，地图视图会画出默认的红色图钉。

但是对于覆盖，您必须实现`viewForOverlay`委托方法。
地图视图不提供默认覆盖视图。

# android - 为什么图片/图标不显示在菜单中？

> ID：11716467
> 
> 赞同：2
> 
> 时间：2012-07-30T06:41:49.623
> 
> 标签：android, menu, android-menu

我按照[本教程](http://www.droidnova.com/how-to-create-an-option-menu,427.html)创建了一个菜单

但我的菜单看起来不同：

![菜单](../Images/e7eb605f934aee4e2f9239a39dafa3dc.png)

如何创建带有图像的菜单？

这是我的代码：

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">    
    <item android:id="@+id/preferences"
        android:icon="@drawable/preferences"    
        android:title="Preferences" />
    <item android:id="@+id/help"
        android:title="Help"
        android:icon="@drawable/ic_action_search" />    
</menu>

@Override
public boolean onCreateOptionsMenu(Menu menu) {
        /*menu.add(Menu.NONE, PREF_ID, Menu.NONE, "Preferences")
                .setIcon(R.drawable.preferences).setAlphabeticShortcut('e');

        return (super.onCreateOptionsMenu(menu));*/
        MenuInflater inflater = getMenuInflater();      
        inflater.inflate(R.menu.activity_ygo_main, menu);
        return true;        
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:08:12.650

首先我想说：[告别菜单按钮](http://android-developers.blogspot.in/2012/01/say-goodbye-to-menu-button.html)

您的代码没有问题，如果可绘制对象位于正确的文件夹中，它应该显示图标，在 Android 2.2 上运行良好。

菜单功能说：

```
 1\.  Context menus: Do not support item shortcuts and item icons.
   2\. Options menus: The icon menus do not support item check marks and only show the item's condensed title. The expanded menus (only available if six or more menu items are visible, reached via the 'More' item in the icon menu) do not show item icons, and item check marks are discouraged.
   3\. Sub menus: Do not support item icons, or nested sub menus. 
```

您的代码没有问题，问题可能出在您使用的 API 级别，但仍然想建议不要再使用 Menu。

* * *

Android 不再需要专用的菜单按钮，有些设备没有，您应该不再使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T05:48:25.743

如果您在清单文件中使用以下属性，那么它将显示您的图标....

```
<activity android:name=".ui.CategoryActivity"
        android:label="@string/app_name"
        **android:theme="@android:style/Theme.NoTitleBar"**></activity> 
```

这对我来说很好...... :)

**必须输入。

# algorithm - AES可以用足够多的解密数据破解吗？为什么或者为什么不？

> ID：11716468
> 
> 赞同：5
> 
> 时间：2012-07-30T06:41:49.220
> 
> 标签：algorithm, security, encryption, cryptography, aes

假设我有大量文件，比如价值 20GB，全部使用相同的 AES 密钥加密。每个文件都单独加密。

现在，假设我获得了 10GB 的解密格式的这些文件。假设我什至可以通过使用它们的大小来匹配哪些文件。

似乎我在这里有很多信息 - 我是否有可能破解密钥并以未加密的形式获取其他 10GB 数据？

请帮助我理解为什么这可能或不可能。我已经广泛搜索了网络，但我找不到任何人讨论这个话题。我所能找到的只是关于 AES 如何“牢不可破”的一般性陈述。但我很好奇这种牢不可破性在大量数据被泄露的情况下是否成立。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-30T06:51:14.147

不，这是不可能的（相信）。

您所指的攻击场景是一种普遍研究的场景，称为“[已知明文攻击](http://en.wikipedia.org/wiki/Known_plaintext_attack)”。

仅当密码能够抵抗这种（以及许多其他）攻击时，它才被认为是安全的。在这种情况下，“抵抗”意味着拥有明文（无论多少）并不会使找到密钥变得更容易。

至于为什么会这样，如果不了解 AES 的结构和可能的攻击模式，这很难理解。有关介绍，请参阅例如关于 AES 的[Wikipedia 文章的参考资料，或查看](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard)*RijndaeL 的设计：AES - 高级加密标准*（由 Daemen 和 Rijmen 自己编写）。

相关问题：[为什么 AES 能够抵抗已知明文攻击？](https://crypto.stackexchange.com/questions/1512/why-is-aes-resistant-to-known-plaintext-attacks)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:53:50.340

AES 不是流密码，对于小的输入变化，输出变化很大（雪崩效应）

[使用解密数据破解 AES 加密](https://stackoverflow.com/questions/1110152/breaking-aes-encryption-using-decrypted-data)

# jquery - ajax提交gif

> ID：11716469
> 
> 赞同：0
> 
> 时间：2012-07-30T06:41:57.567
> 
> 标签：jquery, ajax

我正在使用 jquery.form 插件，我不认为我的 ajax 加载 gif 在 jQuery 中放置了正确的选择。以下是我的代码，有人可以告诉我如何正确放置加载 gif。

非常感谢。

jQuery：

```
$(document).ready(function(){
    $("#contact-form").validate({

        // .......

        submitHandler: function(form) {
            $(form).ajaxSubmit({
                url:"echo/vali.php",
                type:"POST",
                success: function(){
                    $('#loader').css('visibility','visible');
                    $('#contact-form').hide();
                    $('#sent').show();
                    $('#loader').css('visibility','hidden');
                }
            });
        }
    });  
}) 
```

HTML：

```
<div id="loader"> <img src="images/loader.gif" width="18" height="18" / > 
```

CSS：

```
#loader{
    float:left;
    margin:0px;
    position:relative;
    visibility:hidden;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:48:38.843

我看到的一个问题是您发布的 HTML 格式不正确。如果您希望 GIF 位于`#loader`div 内，则需要确保关闭标签：

```
<div id="loader">
  <img src="images/loader.gif" width="18" height="18"/>
</div> 
```

如果这不是问题，您是否检查过以确保您的`#loader`div 在初始`visibility`设置为 时正确显示`visible`？

**编辑**：

另一个大问题是您只在表单成功发布后才显示加载器——*在*`$('#loader').css('visibility','visible');`成功回调中。尝试将您的 JS 更改为：

```
$(document).ready(function(){
    $("#contact-form").validate({

        // .......

        submitHandler: function(form) {
            $('#loader').css('visibility','visible');
            $(form).ajaxSubmit({
                url:"echo/vali.php",
                type:"POST",
                success: function(){
                    $('#contact-form').hide();
                    $('#sent').show();
                    $('#loader').css('visibility','hidden');
                }
            });
        }
    });  
}); 
```

# android - 如何获取由于 GridView 中的 KeyEvent 而被聚焦的项目的 ID？

> ID：11716472
> 
> 赞同：2
> 
> 时间：2012-07-30T06:42:01.733
> 
> 标签：android

我正在执行**KeyEvent.KEYCODE_DPAD_UP**，因此 GridView 中的一项获得焦点。我的要求是获取该项目的 ID（或位置）。有可能得到它吗？任何帮助或指导将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:42:07.323

我使用**gridView.setOnItemSelectedListener**获得了焦点项目的位置。

```
gridView.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
                int mPosition = pos;
            }
 }); 
```

# java - JVM 有问题的框架 - EXCEPTION_ACCESS_VIOLATION 错误

> ID：11716473
> 
> 赞同：5
> 
> 时间：2012-07-30T06:42:10.800
> 
> 标签：java, grails, jvm, fatal-error, jvm-crash

运行 Grails 应用程序时出现以下错误：

```
 A fatal error has been detected by the Java Runtime Environment:

  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6df13df3, pid=1516, tid=8592

 JRE version: 7.0_05-b06
 Java VM: Java HotSpot(TM) Server VM (23.1-b03 mixed mode windows-x86 )
 Problematic frame:
 V  [jvm.dll+0x63df3]

 Failed to write core dump. Minidumps are not enabled by default on client versions of Windows

 An error report file with more information is saved as:
 E:\Workspace\opal\hs_err_pid1516.log

 If you would like to submit a bug report, please visit:
   http://bugreport.sun.com/bugreport/crash.jsp 
```

仅当我访问名为 show.gsp 的 gsp 页面时才会出现此错误，其中调用名为 s2PublicTrainingLifecycleEdit.gsp 的模板

以下是 s2PublicTrainingLifecycleEdit.gsp 页面的内容。

```
 <script type="text/javascript">
        $(document).ready(function(){

        }); 
    </script>
    <div class="lifecycle">
        <table class="mar">
            <thead>
                <tr>
                    <th width="40%"><g:message code="course.lifecycle.label" default="Task" /></th> 
                    <th ><g:message code="course.lifecycle.label" default="Yes" /></th> 
                    <th ><g:message code="course.lifecycle.label" default="No" /></th>
                    <th ><g:message code="course.lifecycle.label" default="NA" /></th>              
                </tr>
            </thead>    
                <tr>
                    <td class="heading_view" colspan="4">
                        <g:message code="publicTraining.course.label" default="Scheduling" />
                    </td>
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="scheduledInMyLearnStatus">
                                <g:message code="publicTraining.course.label" default="Scheduled in myLearn?" />
                            </label>
                        </div>  
                    </td>
                    <td>

                    <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus=='Yes'}" >
                        <g:checkBox name="scheduledInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="scheduledInMyLearnStatus" value=""  />
                    </g:else>

                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus=='No'}" >
                            <g:checkBox name="scheduledInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="scheduledInMyLearnStatus" value=""  />
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus=='NA'}" >
                            <g:checkBox name="scheduledInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.scheduledInMyLearnStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="scheduledInMyLearnStatus" value=""  />
                    </g:else>

                    </td>   

                </tr>
                <tr>
                    <td colspan="4"  class="heading_view">
                        <g:message code="publicTraining.course.label" default="Marketing" />
                    </td>
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="publishedOnTrainingClassesStatus">
                                <g:message code="publicTraining.course.label" default="Published on Training-Classes?" />
                            </label>
                        </div>  
                    </td>
                        <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus=='Yes'}" >
                                <g:checkBox name="publishedOnTrainingClassesStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus}"  />
                            </g:if>
                            <g:else>
                                <g:checkBox name="publishedOnTrainingClassesStatus" value=""  />
                            </g:else>

                            </td>
                        <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus=='No'}" >
                                <g:checkBox name="publishedOnTrainingClassesStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="publishedOnTrainingClassesStatus" value=""  />
                        </g:else>
                        </td>   
                        <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus=='NA'}" >
                                <g:checkBox name="publishedOnTrainingClassesStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnTrainingClassesStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="publishedOnTrainingClassesStatus" value=""  />
                        </g:else>
                    </td>   
                </tr>

                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="publishedOnJtrainingStatus">
                                <g:message code="publicTraining.course.label" default="Published on Jtraining?" />
                            </label>
                        </div>
                    </td>
                    <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus=='Yes'}" >
                                <g:checkBox name="publishedOnJtrainingStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus}"  />
                            </g:if>
                            <g:else>
                                <g:checkBox name="publishedOnJtrainingStatus" value=""  />
                            </g:else>

                            </td>
                        <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus=='No'}" >
                                <g:checkBox name="publishedOnJtrainingStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="publishedOnJtrainingStatus" value=""  />
                        </g:else>
                        </td>   
                        <td>
                            <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus=='NA'}" >
                                <g:checkBox name="publishedOnJtrainingStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.publishedOnJtrainingStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="publishedOnJtrainingStatus" value=""  />
                        </g:else>
                    </td>   
                </tr>

                <tr>
                    <td colspan="4"  class="heading_view">
                        <g:message code="publicTraining.course.label" default="Logistics" />
                    </td>
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="venueBookedStatus">
                                <g:message code="publicTraining.course.label" default="Venue Booked?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus=='Yes'}" >
                            <g:checkBox name="venueBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="venueBookedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus=='No'}" >
                            <g:checkBox name="venueBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="venueBookedStatus" value=""  />                   
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus=='NA'}" >
                            <g:checkBox name="venueBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.venueBookedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="venueBookedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="flightTicketsBookedStatus">
                                <g:message code="publicTraining.course.label" default="Flight Tickets Booked?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus=='Yes'}" >
                            <g:checkBox name="flightTicketsBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="flightTicketsBookedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus=='No'}" >
                            <g:checkBox name="flightTicketsBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="flightTicketsBookedStatus" value=""  />                   
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus=='NA'}" >
                            <g:checkBox name="flightTicketsBookedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.flightTicketsBookedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="flightTicketsBookedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>

                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="trainingRoomBookingInstructionsEmailedStatus">
                                <g:message code="publicTraining.course.label" default="Training Room Booking Instructions Emailed?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus=='Yes'}" >
                            <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus=='No'}" >
                            <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value=""  />                    
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus=='NA'}" >
                            <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingRoomBookingInstructionsEmailedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="trainingRoomBookingInstructionsEmailedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="roomBookingInstructionsTelecommunicatedStatus">
                                <g:message code="publicTraining.course.label" default="Training Room Booking Instructions Telecommunicated?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus=='Yes'}" >
                            <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus=='No'}" >
                            <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value=""  />                   
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus=='NA'}" >
                            <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.roomBookingInstructionsTelecommunicatedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="roomBookingInstructionsTelecommunicatedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="trainingInfoEmailedStatus">
                                <g:message code="publicTraining.course.label" default="Training Info Emailed?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus=='Yes'}" >
                            <g:checkBox name="trainingInfoEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="trainingInfoEmailedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus=='No'}" >
                            <g:checkBox name="trainingInfoEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="trainingInfoEmailedStatus" value=""  />                   
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus=='NA'}" >
                            <g:checkBox name="trainingInfoEmailedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingInfoEmailedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="trainingInfoEmailedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="telecommunicateTrainingInfoToInstructorStatus">
                            <g:message code="publicTraining.course.label" default="Training Info to Instructor Telecommunicated?" />
                        </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus=='Yes'}" >
                            <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus=='No'}" >
                            <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value=""  />                   
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus=='NA'}" >
                            <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.telecommunicateTrainingInfoToInstructorStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="telecommunicateTrainingInfoToInstructorStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="discountCodesDeactivatedStatus">
                                <g:message code="publicTraining.course.label" default="Discount Codes Deactivated?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus=='Yes'}" >
                            <g:checkBox name="discountCodesDeactivatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="discountCodesDeactivatedStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus=='No'}" >
                            <g:checkBox name="discountCodesDeactivatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="discountCodesDeactivatedStatus" value=""  />                  
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus=='NA'}" >
                            <g:checkBox name="discountCodesDeactivatedStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.discountCodesDeactivatedStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="discountCodesDeactivatedStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td colspan="4"  class="heading_view">
                        <g:message code="publicTraining.course.label" default="Post-Training" />
                    </td>
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="traineesAddedInMyLearnStatus">
                                <g:message code="publicTraining.course.label" default="Trainees Added in myLearn?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus=='Yes'}" >
                            <g:checkBox name="traineesAddedInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="traineesAddedInMyLearnStatus" value=""  />
                        </g:else>   
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus=='No'}" >
                            <g:checkBox name="traineesAddedInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="traineesAddedInMyLearnStatus" value=""  />                    
                    </g:else>
                    </td>   
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus=='NA'}" >
                            <g:checkBox name="traineesAddedInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.traineesAddedInMyLearnStatus}"  />
                    </g:if>
                    <g:else>
                        <g:checkBox name="traineesAddedInMyLearnStatus" value=""  />
                    </g:else>
                </td>   
                </tr>
                <tr>
                    <td class="lifecycleStatus">
                        <div class="lifecycleEditLabel">
                            <label for="trainingClosedInMyLearnStatus">
                                <g:message code="publicTraining.course.label" default="Training Closed in myLearn?" />
                            </label>
                        </div>  
                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingClosedInMyLearnStatus=='Yes'}" >
                            <g:checkBox name="trainingClosedInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingClosedInMyLearnStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="traineesAddedInMyLearnStatus" value=""  />
                        </g:else>
                    </td>
                    <td>

                    </td>
                    <td>
                        <g:if test="${publicTrainingInstance?.s2Publiclifecycle?.trainingClosedInMyLearnStatus=='NA'}" >
                            <g:checkBox name="trainingClosedInMyLearnStatus" value="${publicTrainingInstance?.s2Publiclifecycle?.trainingClosedInMyLearnStatus}"  />
                        </g:if>
                        <g:else>
                            <g:checkBox name="traineesAddedInMyLearnStatus" value=""  />
                        </g:else>
                    </td>

                </tr>   

        </table>
    </div> 
```

如果我删除表应用程序的最后一个 tr 运行良好.. 否则它会在运行时给出上述错误。

**完整的错误报告**

```
 ---------------  T H R E A D  ---------------

    Current thread (0x48ae6400):  JavaThread "http-bio-8080-exec-9" daemon [_thread_in_vm, id=8592, stack(0x4f650000,0x4f6a0000)]

    siginfo: ExceptionCode=0xc0000005, reading address 0x497e1c30

    Registers:
    EAX=0x0000ff08, EBX=0x000000a7, ECX=0x497a2010, EDX=0x07e26112
    ESP=0x4f69ae64, EBP=0x4f69ae68, ESI=0x00000001, EDI=0x00000001
    EIP=0x6df13df3, EFLAGS=0x00010246

    Top of Stack: (sp=0x4f69ae64)
    0x4f69ae64:   07e26112 4f69aea8 6df143a5 07e26112
    0x4f69ae74:   00000001 000008ff 00000002 00000014
    0x4f69ae84:   4f69aee8 000000bb 07e26028 000000ba
    0x4f69ae94:   0000310f 00000000 00000005 4f69aee8
    0x4f69aea4:   000010f7 4f69aec4 6df148b6 07e36b30
    0x4f69aeb4:   00000000 48ae6400 4b34ea18 48ae6858
    0x4f69aec4:   4f69af1c 6df149eb 47c478bc 47c478c4
    0x4f69aed4:   47c478c0 48ae6400 07e3e4a0 47c478bc 

    Instructions: (pc=0x6df13df3)
    0x6df13dd3:   80 7d 10 00 8b 55 08 56 8b 75 0c 0f b7 04 32 75
    0x6df13de3:   1c 89 45 10 66 8b 45 10 86 c4 8b 49 10 0f b7 c0
    0x6df13df3:   66 8b 04 81 66 89 04 32 5e 5d c2 0c 00 8b 49 18
    0x6df13e03:   8b 04 81 c7 45 10 ff ff ff ff a9 00 00 00 40 75 

    Register to memory mapping:

    EAX=0x0000ff08 is an unknown value
    EBX=0x000000a7 is an unknown value
    ECX=0x497a2010 is an unknown value
    EDX=0x07e26112 is an oop
    {constMethod} 
     - klass: {other class}
     - method:       0x07e36b30 {method} 'run' '()Ljava/lang/Object;' in 'E__Workspace_opal_grails_app_views_lifecycle__s2PublicTraininglifecycleEdit_gsp'
     - exceptions:   0x03c41128
    bci_from(07E26112) = 186; print_codes():
    ESP=0x4f69ae64 is pointing into the stack for thread: 0x48ae6400
    EBP=0x4f69ae68 is pointing into the stack for thread: 0x48ae6400
    ESI=0x00000001 is an unknown value
    EDI=0x00000001 is an unknown value

    Stack: [0x4f650000,0x4f6a0000],  sp=0x4f69ae64,  free space=299k
    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
    V  [jvm.dll+0x63df3]
    V  [jvm.dll+0x643a5]
    V  [jvm.dll+0x648b6]
    V  [jvm.dll+0x649eb]
    V  [jvm.dll+0x8dcb3]
    V  [jvm.dll+0x93fe8]
    V  [jvm.dll+0x9549c]
    V  [jvm.dll+0xea44a]
    j  java.lang.Class.getDeclaredConstructors0(Z)[Ljava/lang/reflect/Constructor;+0
    j  java.lang.Class.privateGetDeclaredConstructors(Z)[Ljava/lang/reflect/Constructor;+81
    j  java.lang.Class.getDeclaredConstructors()[Ljava/lang/reflect/Constructor;+10
    j  com.springsource.loaded.ri.ReflectiveInterceptor.jlClassGetDeclaredConstructors(Ljava/lang/Class;)[Ljava/lang/reflect/Constructor;+10
    j  org.codehaus.groovy.reflection.CachedClass$2$1.run()Ljava/lang/Object;+10
    v  ~StubRoutines::call_stub
    V  [jvm.dll+0x13bd4a]
    V  [jvm.dll+0x1f358e]
    V  [jvm.dll+0x13bdcd]
    V  [jvm.dll+0xe4f0a]
    C  [java.dll+0x1015]  Java_java_security_AccessController_doPrivileged__Ljava_security_PrivilegedAction_2+0x15
    j  org.codehaus.groovy.reflection.CachedClass$2.initValue()[Lorg/codehaus/groovy/reflection/CachedConstructor;+8
    j  org.codehaus.groovy.reflection.CachedClass$2.initValue()Ljava/lang/Object;+1

    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
    j  java.lang.Class.getDeclaredConstructors0(Z)[Ljava/lang/reflect/Constructor;+0
    j  java.lang.Class.privateGetDeclaredConstructors(Z)[Ljava/lang/reflect/Constructor;+81
    j  java.lang.Class.getDeclaredConstructors()[Ljava/lang/reflect/Constructor;+10
    j  com.springsource.loaded.ri.ReflectiveInterceptor.jlClassGetDeclaredConstructors(Ljava/lang/Class;)[Ljava/lang/reflect/Constructor;+10
    j  org.codehaus.groovy.reflection.CachedClass$2$1.run()Ljava/lang/Object;+10
    v  ~StubRoutines::call_stub
    j       J  
    Dynamic libraries:
    0x00400000 - 0x0042f000     C:\Program Files\Java\jdk1.7.0_05\bin\java.exe
    0x7c900000 - 0x7c9b2000     C:\WINDOWS\system32\ntdll.dll
    0x7c800000 - 0x7c8f6000     C:\WINDOWS\system32\kernel32.dll
    0x77dd0000 - 0x77e6b000     C:\WINDOWS\system32\ADVAPI32.dll
    0x77e70000 - 0x77f03000     C:\WINDOWS\system32\RPCRT4.dll
    0x77fe0000 - 0x77ff1000     C:\WINDOWS\system32\Secur32.dll
    0x7e410000 - 0x7e4a1000     C:\WINDOWS\system32\USER32.dll
    0x77f10000 - 0x77f59000     C:\WINDOWS\system32\GDI32.dll
    0x773d0000 - 0x774d3000     C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.6028_x-ww_61e65202\COMCTL32.dll
    0x77c10000 - 0x77c68000     C:\WINDOWS\system32\msvcrt.dll
    0x77f60000 - 0x77fd6000     C:\WINDOWS\system32\SHLWAPI.dll
    0x76390000 - 0x763ad000     C:\WINDOWS\system32\IMM32.DLL
    0x78aa0000 - 0x78b5e000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\msvcr100.dll
    0x6deb0000 - 0x6e3e3000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\server\jvm.dll
    0x71ad0000 - 0x71ad9000     C:\WINDOWS\system32\WSOCK32.dll
    0x71ab0000 - 0x71ac7000     C:\WINDOWS\system32\WS2_32.dll
    0x71aa0000 - 0x71aa8000     C:\WINDOWS\system32\WS2HELP.dll
    0x76b40000 - 0x76b6d000     C:\WINDOWS\system32\WINMM.dll
    0x76bf0000 - 0x76bfb000     C:\WINDOWS\system32\PSAPI.DLL
    0x6d950000 - 0x6d95c000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\verify.dll
    0x6d400000 - 0x6d420000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\java.dll
    0x6d3b0000 - 0x6d3d0000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\instrument.dll
    0x6d9a0000 - 0x6d9b3000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\zip.dll
    0x68000000 - 0x68036000     C:\WINDOWS\system32\rsaenh.dll
    0x769c0000 - 0x76a74000     C:\WINDOWS\system32\USERENV.dll
    0x5b860000 - 0x5b8b5000     C:\WINDOWS\system32\netapi32.dll
    0x6d720000 - 0x6d734000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\net.dll
    0x71a50000 - 0x71a8f000     C:\WINDOWS\System32\mswsock.dll
    0x76f20000 - 0x76f47000     C:\WINDOWS\system32\DNSAPI.dll
    0x76d60000 - 0x76d79000     C:\WINDOWS\system32\iphlpapi.dll
    0x76fb0000 - 0x76fb8000     C:\WINDOWS\System32\winrnr.dll
    0x76f60000 - 0x76f8c000     C:\WINDOWS\system32\WLDAP32.dll
    0x76fc0000 - 0x76fc6000     C:\WINDOWS\system32\rasadhlp.dll
    0x6d740000 - 0x6d74f000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\nio.dll
    0x47bc0000 - 0x47c14000     C:\Documents and Settings\Hussain\Local Settings\Temp\jna8999333547967723157.dll
    0x48e30000 - 0x48e38000     C:\Documents and Settings\Hussain\Local Settings\Temp\jline_.dll
    0x6d8c0000 - 0x6d8e0000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\sunec.dll
    0x6d8e0000 - 0x6d8e9000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\sunmscapi.dll
    0x77a80000 - 0x77b15000     C:\WINDOWS\system32\CRYPT32.dll
    0x77b20000 - 0x77b32000     C:\WINDOWS\system32\MSASN1.dll
    0x662b0000 - 0x66308000     C:\WINDOWS\system32\hnetcfg.dll
    0x71a90000 - 0x71a98000     C:\WINDOWS\System32\wshtcpip.dll
    0x6d680000 - 0x6d68a000     C:\Program Files\Java\jdk1.7.0_05\jre\bin\management.dll
    0x59a60000 - 0x59b01000     C:\WINDOWS\system32\dbghelp.dll
    0x77c00000 - 0x77c08000     C:\WINDOWS\system32\VERSION.dll

    VM Arguments:
    jvm_args: -Xmx768M -Xms768M -XX:PermSize=256m -XX:MaxPermSize=256m -Dfile.encoding=UTF-8 -javaagent:E:/springsource/grails-2.0.4/bin/../lib/com.springsource.springloaded/springloaded-core/jars/springloaded-core-1.0.5.jar -Xverify:none -Dspringloaded=profile=grails -Dprogram.name= -Dgrails.home=E:\springsource\grails-2.0.4\bin\.. -Dgrails.version=2.0.4 -Dbase.dir=. -Dtools.jar=C:\Program Files\Java\jdk1.7.0_05\lib\tools.jar -Dgroovy.starter.conf=E:\springsource\grails-2.0.4\bin\..\conf\groovy-starter.conf 
    java_command: org.codehaus.groovy.grails.cli.support.GrailsStarter --main org.codehaus.groovy.grails.cli.GrailsScriptRunner --conf E:\springsource\grails-2.0.4\bin\..\conf\groovy-starter.conf --classpath   run-app
    Launcher Type: SUN_STANDARD

    Environment Variables:
    JAVA_HOME=C:\Program Files\Java\jdk1.7.0_05
    PATH=C:\Program Files\PC Connectivity Solution\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Java\jdk1.7.0_05\bin;C:\Program Files\Java\jdk1.7.0_05\bin;4.3632E+222RAILS_HOME\bin;E:\springsource\grails-2.0.4\bin;C:\xampplite\php;C:\xampplite\htdocs\cakephp\app\Console;C:\Program Files\TortoiseSVN\bin;C:\xampp\htdocs\testApp\lib\Cake\Console;E:\program FilesGroovy-1.8.6\bin;E:\jboss\apache-ant-1.8.4/bin
    USERNAME=Hussain
    OS=Windows_NT
    PROCESSOR_IDENTIFIER=x86 Family 6 Model 23 Stepping 10, GenuineIntel

    ---------------  S Y S T E M  ---------------

    OS: Windows XP Build 2600 Service Pack 3

    CPU:total 2 (2 cores per cpu, 1 threads per core) family 6 model 23 stepping 10, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, tsc

    Memory: 4k page, physical 3072196k(507880k free), swap 5003920k(1202460k free)

    vm_info: Java HotSpot(TM) Server VM (23.1-b03) for windows-x86 JRE (1.7.0_05-b06), built on Jun 27 2012 00:48:44 by "java_re" with unknown MS VC++:1600

    time: Mon Jul 30 11:52:27 2012
    elapsed time: 1039 seconds 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-05T15:23:51.037

尝试将您的 JVM 替换为 1.6 而不是 1.7。

# c - Ubuntu中使用C语言的密码程序

> ID：11716481
> 
> 赞同：1
> 
> 时间：2012-07-30T06:42:48.350
> 
> 标签：c, linux, passwords

> **可能重复：**
> [隐藏终端上的密码输入](https://stackoverflow.com/questions/6856635/hide-password-input-on-terminal)

请给我一个使用 C 语言的 Linux 密码程序的解决方案。

当我们输入密码的第一个字母时，应该显示窗口

```
password:*- 
```

而不是输入的字母。

当我们输入下一个字符时，应该显示窗口

```
password**- 
```

最多 8 个字符，并验证密码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T06:51:49.100

```
read -s -n 8 -p "password:" mypassword 
```

`-s`使其成为密码输入提示
`-n`限制字符数
`-p STRING`设置提示

输入的密码保存在`$mypassword`变量中以供进一步使用。

在 linux 命令行上输入密码时通常不会显示替代字符，因此该命令不提供执行此操作的选项。尽管如此，它仍然是您正在寻找的一个很好的近似值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T07:42:26.267

可能这可以帮助你

[http://www.askdavetaylor.com/how_to_read_password_without_echoing_c.html](http://www.askdavetaylor.com/how_to_read_password_without_echoing_c.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-30T08:26:34.760

使用 C 功能：

```
/* no test */
#include <stdio.h>
#include <termios.h>
#include <unistd.h>

static void 
changeMode(bool b)
{
    static struct termios cooked;
    static int raw_actived = 0;

    if (raw_actived == b) return;
    if (b) {
        struct termios raw;

        tcgetattr(STDIN_FILENO, &cooked);
        raw = cooked;
        cfmakeraw(&raw);
        tcsetattr(STDIN_FILENO, TCSANOW, &raw);
    } else {
        tcsetattr(STDIN_FILENO, TCSANOW, &cooked);
    }   
    raw_actif = b;
}

static void
clean(void)
{
    int c;
    do
        c = getchar();
    while (c != '\n' && c != EOF);
}

void
askPassword(char *s, size_t n)
{
    changeMode(1);
    for (size_t i = 0; i < n; ++i) {
        s[i] = getchar();
        clean();
        putchar('*');
    }
    changeMode(0);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-30T08:34:43.933

这只是一个想法，所以你可以尝试或不尝试。

一开始，您必须将终端设置为非回显模式。因此，不会显示用户的输入。（Termios 设置）

从变量计数器开始。您创建一个循环（while）并在其中使用 read 函数或 getchar 来获取每个输入。接下来，您检查输入是否正确。在终端上写“*”或什么都不写。

# javascript - 使用 div 的类名显示 div 的 Javascript

> ID：11716483
> 
> 赞同：0
> 
> 时间：2012-07-30T06:43:11.637
> 
> 标签：javascript

我的页面中有一个这样的div，

```
 <div class="errormsg" style="display: none;">Username is empty</div> 
```

我有一个这样的输入字段，

```
 <input type=textbox id="userid" /> 
```

现在，如果输入字段为空，我需要一个 javascript 来显示错误消息 div。我需要使用 div 类而不是 id。请帮忙。

PS：我不想要 Jquery，因为我的页面对使用库文件有一些限制。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:51:24.210

试试这个，假设只有一个`errormsg`div -

**更新**
我在[这里添加了一个小提琴](http://jsfiddle.net/8jdNm/5/)。另外，有一个错字 - 已更正

```
<div class="errormsg" style="display: none;">Username is empty</div>
<input type=textbox id="userid" onchange="validate()" />

function validate(){
    var userId = document.getElementById('userId'),
        errorMsg = document.getElementsByClassName('errormsg').item();
    if (userId.value === ''){
       errorMsg.style.display = 'block'
    } else {
       errorMsg.style.display = 'none';
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T13:40:16.240

```
<div class="errormsg">Username is empty</div>
<input type='textbox' id="userid" onkeyup="javascript:call(this);" />

function getElementsByClassName(className) {
    // For IE    
    if (document.all) {
        var allElements = document.all;
    } else {
        var allElements = document.getElementsByTagName("*");
    }   
    var foundElements = [];  

    for (var i = 0, ii = allElements.length; i < ii; i++) {
        if (allElements[i].className == className) {
            foundElements[foundElements.length] = allElements[i];
        }
    }

    return foundElements;

}

function call(control)
{
    var userid=document.getElementById('userid');
    var errorMsg = getElementsByClassName('errormsg')[0];
    if(userid.value == '')
    {        
        errorMsg.style.display = "block";
    }
    else
    {
        errorMsg.style.display = "none";
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-30T07:06:50.947

删除了 JQuery 并添加了 Javascript 代码，如下所示：

```
<div class="errormsg">Username is empty</div>
<input type='textbox' id="userid" onkeyup="javascript:call(this);" />

function getElementsByClassName(className) {
    // For IE    
    if (document.all) {
        var allElements = document.all;
    } else {
        var allElements = document.getElementsByTagName("*");
    }   
    var foundElements = [];  

    for (var i = 0, ii = allElements.length; i < ii; i++) {
        if (allElements[i].className == className) {
            foundElements[foundElements.length] = allElements[i];
        }
    }

    return foundElements;

}

function call(control)
{
    var userid=document.getElementById('userid');
    var errorMsg = getElementsByClassName('errormsg')[0];
    if(userid.value == '')
    {        
        errorMsg.style.display = "block";
    }
    else
    {
        errorMsg.style.display = "none";
    }
} 
```

# java - jdbc 类型 4 -java.lang.ClassNotFoundException: com.mysql.jdbc.Driver

> ID：11716486
> 
> 赞同：0
> 
> 时间：2012-07-30T06:43:14.167
> 
> 标签：java, jdbc

> **可能重复：**
> [ClassNotFoundException com.mysql.jdbc.Driver](https://stackoverflow.com/questions/1585811/classnotfoundexception-com-mysql-jdbc-driver)

嗨，我是 java 初学者，我使用 jdbc type 4 在 eclipse 中创建了一个 java 程序。

我收到一个错误： `java.lang.ClassNotFoundException: com.mysql.jdbc.Driver`。

所以你能帮我解决这个错误吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:44:14.957

您需要不在类路径中的[MySQL Connector jar 。](http://dev.mysql.com/downloads/connector/j/)将其添加到您的类路径中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T08:00:37.573

将您的 mysql 连接器 jar 文件添加到您的项目 WEB-INF\lib 文件夹并再次重新部署。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:50:09.220

两种方式

1) 使用类路径运行 java 应用程序

视窗

```
java -classpath .;mysqljarfile.jar YourApplication 
```

Linux

```
java -classpath .:mysqljarfile.jar YourApplication 
```

2）在清单文件中定义它

```
Manifest-Version: 1.0
Class-Path: mysqljarfile.jar 
Main-Class: mainClass 
```

# workflow-foundation-4 - 更改 codeActivity 的图标

> ID：11716488
> 
> 赞同：3
> 
> 时间：2012-07-30T06:43:40.640
> 
> 标签：workflow-foundation-4

我有一些代码活动。

```
public class baseAct: CodeActivity
{
}
public sealed class C1: baseAct
{
}
public sealed class C2: baseAct
{
}

public sealed class C3: baseAct
{
} 
```

**我使用自定义的 wf 设计器。** 我想在没有定义活动设计器的情况下为活动 C1、C2、C3 设置相同的图标。

有什么东西（AttributeTableBuilder 或类似的）来设置图标？。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T11:29:38.303

1.  将图标添加到您的解决方案中，将其构建操作设置为**Resoruce**
2.  在您的活动中，将 设置`ActivityDesigner.Icon`为此图像

最难的部分是让 Uri 正确。如果您有问题，只需将图像转储到与设计器相同的文件夹中即可。

```
<sap:ActivityDesigner.Icon>
    <DrawingBrush>
        <DrawingBrush.Drawing>
            <ImageDrawing>
                <ImageDrawing.Rect>
                    <Rect
                        Location="0,0"
                        Size="16,16"></Rect>
                </ImageDrawing.Rect>
                <ImageDrawing.ImageSource>
                    <BitmapImage
                        UriSource="RelativeUriToTheImage.bmp" />
                </ImageDrawing.ImageSource>
            </ImageDrawing>
        </DrawingBrush.Drawing>
    </DrawingBrush>
</sap:ActivityDesigner.Icon> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T17:05:19.547

我有一个示例，可以准确说明您需要做什么。 [如何使用 Windows Workflow Foundation (WF4) 创建自定义活动设计器](http://code.msdn.microsoft.com/Windows-Workflow-9e867448)

# javascript - 多个和单个选择/组合框的逻辑

> ID：11716493
> 
> 赞同：0
> 
> 时间：2012-07-30T06:44:01.400
> 
> 标签：javascript, html, jsp, dom-events

下面是我的代码：

```
<%@taglib uri="/WEB-INF/struts-bean.tld" prefix="bean"%>
<%@taglib uri="/WEB-INF/struts-html.tld" prefix="html"%>

<script type="text/javascript">
var flag = false;
function test(selObject)
{
    alert("hi");

    var form = document.forms[0];
    alert("form"+form);

    var txtS =  form["city"];
    alert("txt"+txtS);

    var len = txtS.length;
    alert("len"+len);

    for(var i=0; i<len; i++) 
    {
        if (selObject == txtS[i] )
        {
            if(txtS[i].value==txtS[i].options[3].value)
            {
                alert("YOU ARE SELECTING MYSORE CITY");
                flag = true;
            }

            if(!txtS[i].options[3].selected && flag)
            {
                var result = confirm("Are you sure you wnat to travel to this city");
                if(result)
                {
                    flag = false;
                }
                else
                {
                    txtS[i].options[txtS[i].options.selectedIndex].selected=false;
                    txtS[i].options[4].selected=true;
                }
            }
        }
    }//end of for loop
}
</script>

<html:form action="/login">
    username:<input type="text" name="username" /></br>
    password:<input type="password" name="password"/></br>

    <%
    for(int i = 0; i < 10; i++){
    %>
        <html:select property="city" onchange="javascript:test(this);">
            <html:option value="B">BANGALORE</html:option>
            <html:option value="C">CHENNAI</html:option>
            <html:option value="M">MANGALORE</html:option>
            <html:option value="MR">MYSORE</html:option>
        </html:select></br>
    <%
    }
    %>
    <input type="submit" value="submit"/>
</html:form> 
```

When select-box or combo-box is looped for ten times then I am getting `form["city"]`length as 10 properly and behaviour of `alerts`within combox-box is appropriate, but if I have a single-select-box, then instead of giving `form["city"]`length as `1`it gives它是我的下拉框中元素`4`的数量。`option`

所以我的逻辑在这里行不通。

如何使它适用于单个和多个组合/选择框。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T10:04:51.967

请使用 jQuery 之类的 javascript 库来实现跨浏览器兼容性。

您可以使用以下代码来确定仅存在单个 select 元素或存在多个具有相同名称的 select 元素：

```
if (selObject == txtS) {
    alert("Single select");
    // ... your logic for a single combo-box follows after this
} else {
    // your logic for multiple combo-box follows, like the "for" loop and if-else
} 
```

当只有一个选择框时，该行将`var txtS = form["city"];`返回该选择框中的选项元素数组，当有多个同名选择框时，它将返回选择框数组。

希望这可以帮助。

*与您的问题无关，但此逻辑`if(!txtS[i].options[3].selected && flag)`将始终返回`false`。*

# centos - 如何在 centos 6 和 Roundcube 中管理电子邮件帐户

> ID：11716494
> 
> 赞同：-1
> 
> 时间：2012-07-30T06:44:03.883
> 
> 标签：centos, mail-server, roundcube, centos6

我在我的 centos 6 服务器上设置了圆形立方体。现在想创建一个管理面板，以便我可以管理用户。我找不到在已经运行的服务器上安装像 iredadmin 这样的管理员的方法。我有快递邮件服务器。谁能给个更好的建议。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-16T12:08:43.730

后缀管理员。完美的解决方案。:)

# ruby - 如何使用 ruby 从目录中列出最后修改的文件

> ID：11716498
> 
> 赞同：1
> 
> 时间：2012-07-30T06:44:14.693
> 
> 标签：ruby, list, file, time

```
# List the file that was updated the last
lst_fl = Dir.glob("/home/developer/myFiles/*")
files_updated_last = Dir["/home/developer/myFiles/*"]

Dir.glob(File.join("/home/developer/myFiles/", '*.rb')).each do |lst_fl|
files_updated_last.sort_by{|lst_fl| File.mtime(lst_fl)}
end
puts files_updated_last 
```

以上是我的红宝石代码。我想根据文件的最后修改时间以排序方式列出文件。请帮助如何实现这一目标？使用此代码，我只是获取文件列表，但不是以最后修改时间的有序方式。

我想要根据上次修改时间的文件列表

# javascript - setTimeOut 没有等待适当的延迟时间

> ID：11716501
> 
> 赞同：0
> 
> 时间：2012-07-30T06:44:29.453
> 
> 标签：javascript, jquery

我有两个按钮播放和停止。当我单击播放时，我希望图像像幻灯片一样运行。我正在使用`setTimeout()`并让它在运行前等待 5 秒钟。

单击播放时，代码运行良好，等待 5 秒，然后显示下一张图像，但是当我单击停止，然后再次单击播放时，它停止等待正确的间隔。而不是等待 5 秒再运行，它等待前两个图像一秒钟，然后等待下一个图像 5 秒，再等待下两个图像一秒钟，依此类推..

为什么它第一次运行正确，然后重试时中断？

**代码：**

```
var stop = false;
playClickfunction() {
    showImages();
}
showImages() {
    //code to display image for all no of images
    //and user can stop on any no of image..
    if(!stop)
       setTimeout(showImages, 5000);
}

stopClickfunction() {
   stop = true;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:48:27.973

您需要清除停止时的超时。

也许尝试这样的事情：

```
var timer = false;

playClickfunction()
{
    showImages();
}

showImages()
{

    //code to display image for all no of images
    //and user can stop on any no of image..
    if(!stop)
       timer = setTimeout(showImages, 5000);
}

stopClickfunction()
{

   clearTimeout( timer )
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:49:10.560

尝试使用正确的方法而不是使用标志变量

```
var timer = setTimeout(showImages, 5000);
clearTimeout(timer); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:50:17.430

您应该为此使用方法 clearTimeOut()

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:55:45.550

如果您单击停止，然后在 5 秒过去之前再次单击开始，则第一个超时将继续运行。您需要做的是清除超时，不仅仅是停止图像，而是每次单击开始时，例如：

```
var timeout;

function start() {
    stop();
    showImages();
  }
}

function stop() {

  if (timeout) {
    clearTimeout(timeout);
    timeout = null;
  }
}

function showImages() {
  // do stuff, then
  timeout = setTimeout(showImages, 5000);
} 
```

或者，如果单击开始并设置了超时，则忽略单击，因为计时器已经在运行。在这种情况下，你会这样做：

```
function start() {
  if (!timeout) {
    showImages();
  }
} 
```

# android - Android Edittext 有退格键问题

> ID：11716502
> 
> 赞同：7
> 
> 时间：2012-07-30T06:44:36.707
> 
> 标签：android, android-edittext, backspace

我有一个`AlertDialog`，我在其中设置 a`XML`作为它的视图。在那`xml layout`我有一个`EditText`. 但是在输入数据后`EditText`，如果我尝试使用退格键删除，字符不会被删除（它就像退格键不起作用）。

我错过了什么吗？我进行了搜索，但除了添加 keylistener 之外没有得到任何合适的解决方案。我认为它应该工作简单？

任何人都可以帮助我。

这是我的`EditText`

```
<EditText
        android:id="@+id/TextBox"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text">
        <requestFocus />
</EditText> 
```

对话启动代码：

```
hintDialog = new AlertDialog.Builder(activity)
    .setTitle("Enter Your Hint:")
    .setView(hintDialogView).create();
    hintDialog.setOnKeyListener(new DialogInterface.OnKeyListener() {
      @Override
      public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {
        if(keyCode == KeyEvent.KEYCODE_BACK)
        hintDialog.dismiss();
        return true;
      }
    }); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-30T07:10:24.077

你有任何 onKeyListeners 设置吗？这可能是问题的原因。

试试这个：

```
 hintDialog = new AlertDialog.Builder(activity)
.setTitle("Enter Your Hint:")
.setView(hintDialogView).create();
hintDialog.setOnKeyListener(new DialogInterface.OnKeyListener() {
  @Override
  public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {
    if(keyCode == KeyEvent.KEYCODE_BACK)
    hintDialog.dismiss();
    return true;
  }
  return false;
}); 
```

（添加返回 false；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:07:29.700

你有 KeyEvent.KEYCODE_BACK 监听器吗？调用以处理关键事件。您可以覆盖它以在所有关键事件被分派到窗口之前拦截它们。确保为应该正常处理的关键事件调用此实现。当您覆盖 dispatchKeyEvent 方法时，您必须在返回时调用 super.dispatchKeyEvent(event)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T15:44:59.337

不应该 KEYCODE_BACK 而是 KEYCODE_DEL 。它在你的情况下肯定有效。

# c# - 带有回调的委托上的内存泄漏

> ID：11716505
> 
> 赞同：4
> 
> 时间：2012-07-30T06:44:54.383
> 
> 标签：c#, memory-leaks, delegates, callback

```
 public delegate void SendCallbackType();

  public class SenderBase
  {
      SenderBase()
      {
         mySend = new SendCallbackType(SendData);
         mySend.BeginInvoke(SendCallback, null);
      }

    void SendData()
    {              
         // process / sending data
    }

    void SendCallback(IAsyncResult ar)
    {      
        **SendCallbackType worker = (SendCallbackType)((AsyncResult)ar).AsyncDelegate;
         worker.EndInvoke(ar);**

        //Above code is mandatory ? Working fine without them.

         mySend.BeginInvoke(SendCallback, null);

}

 // Test
  Dictionary<SenderBase> SenderCollection = new Dictionary();
  SenderCollection.Add(new SenderBase()); 
  SenderCollection.Remove(0);
 // Add and remove seven times 
```

对象 (SenderBase) 不是垃圾收集的。他们不断地传给下一代。

使用 RedAnts 内存分析器，

![在此处输入图像描述](../Images/b16e81a635bbc4795323b5ad5de3713c.png)

清理对象的任何建议。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-31T08:05:21.740

你一直在调用 mySend.BeginInvoke()。所以垃圾收集器总是在线程池线程的堆栈上看到对 mySend 对象的引用。因此不会收集它。当然，代码会永远运行。

在这种情况下不调用 EndInvoke() 是一个坏主意，它会为每个 BeginInvoke() 调用泄漏资源 10 分钟。默认远程处理生命周期，远程处理是实现委托的 BeginInvoke() 方法的底层管道。

很难提出清理代码的建议，这样做没有多大意义。您不妨使用 while(true) {} 循环启动一个线程。那肯定会更有效率。

# javascript - 动态选择列表 AJAX 并通过发布表单插入数据库表

> ID：11716506
> 
> 赞同：3
> 
> 时间：2012-07-30T06:44:58.800
> 
> 标签：javascript, html, ajax

我想为我的动态选择城市列表找到解决方案，现在我已成功填充城市，但现在无法将所选城市发布到数据库。

这是php文件：

```
<html>
<head>
<script type="text/javascript" src="show_cities.js"> </script> 
</head>
<body>
<?php 
session_start;
//library   
include("conn.php");
?>
<form enctype='multipart/form-data' action='posting_process.php' method='post'>");
<!-- **************************** Country select list ********************** -->
Country: 
<select name="country" onChange="showCities(this.value)">
<?php $sql = 'SELECT country_no, country_name FROM country '.'ORDER BY country_no';
    $rs = mysql_query($sql);
    echo "<option value='0'>"."Select a Country"."</option>\n  ";
    while($row = mysql_fetch_array($rs))
    {
echo "<option value=\"".$row['country_no']."\">".$row['country_name']."</option>\n  ";
    }
?>
</select>
City: <div id="txtCity" class="city_no">
<input type=submit name=action value=Post>
</body>
</html> 
```

这是javascript：show_cities.js

```
// JavaScript Document
/* <script type="text/javascript"> */
function showCities(str)
{
if (str=="")
{
document.getElementById("txtHint").innerHTML="";
return;
} 
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
document.getElementById("txtCity").innerHTML=xmlhttp.responseText;
}
}
xmlhttp.open("GET","get_cities.php?q="+str,true);
xmlhttp.send();
}
/* </script> */ 
```

这是 php 文件：get_cities.php

```
<?php
session_start;
//library   
include("conn.php");
$q=$_GET["q"];

$sql="SELECT * FROM city WHERE country_no = ".$q;
$result = mysql_query($sql);

echo "<select name='city'>";

while($row = mysql_fetch_array($result))
{

echo "<option value=\"".$row['city_no']."\">".$row['city_name'] . "</option>\n";
}
echo "</select>";

?> 
```

我不知道如何提及以下返回/显示城市的内容：

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T04:38:10.517

为什么不使用 jQuery Ajax 将数据发送到后端 php 代码并接收响应。您的 php 代码看起来不错，我建议使用以下机制来处理 ajax。

请在前端 html 页面中将 id 作为“countrylist”添加到您的国家/地区列表中。

并使用以下代码而不是您的 javascript 进行 ajax 调用。

```
$(function (){
    $('#countrylist').change(function() {
        var sel_val=$("#countrylist").val();
        $.ajax({
           url: 'get_cities.php?q='+sel_val,
           success: function(data) {
             $('#txtCity').html(data);
           }
        });
    });
}); 
```

还要确保在添加此 javascript 代码之前添加了 jquery 库。

希望这可以帮助。

谢谢

# .net - 我可以在不实际执行的情况下测试 LINQ 查询的构造吗

> ID：11716507
> 
> 赞同：4
> 
> 时间：2012-07-30T06:44:59.577
> 
> 标签：.net, unit-testing, linq-to-entities, tdd

我听说在测试 EF 时，您需要对实时数据库使用集成测试，因为 LINQ to Objects 和 LINQ to Entities 提供程序之间存在差异。

为什么我们不能在不实际*执行的情况下对查询的**构造*进行单元测试？我原以为您可以以*某种方式*将您的 IQueryable 附加到 LINQ to Entities 提供程序并确认 SQL 已正确生成（使用不执行实际查询的 ToTraceString 之类的东西）。

 **我想像这些行的代码（此查询在 L2O 中运行良好，但在 L2E 中运行良好）：

```
 <Test()> _
    Public Sub Query_Should_Build_Against_L2E()
        Dim testQuery = From d In myDb
                        Where d.Status = CType(Status.Ready, Integer)

        testQuery.SetQueryProvider("L2E")

        Assert.DoesNotThrow(testQuery.ToTraceString())
    End Sub 
```

**编辑**

我尝试按如下方式实施 GertArnold 的解决方案：

```
Dim context As New Context("Data Source=fakedbserver;Initial Catalog=fakedb;Persist Security Info=True;")
Dim result = context.myTable.Where(Function(d) d.Status=True) 
```

这会引发一条`ProviderIncompatibleException`消息“从数据库获取提供程序信息时发生错误。这可能是由 Entity Framework 使用不正确的连接字符串引起的。请检查内部异常以获取详细信息并确保连接字符串正确。” 这是完整的异常链：

> System.Data.ProviderIncompatibleException ：从数据库获取提供程序信息时出错。这可能是由 Entity Framework 使用不正确的连接字符串引起的。检查内部异常以获取详细信息并确保连接字符串正确。
> 
> System.Data.ProviderIncompatibleException ：提供程序未返回 ProviderManifestToken 字符串。
> 
> System.InvalidOperationException ：此操作需要连接到“主”数据库。无法创建到“主”数据库的连接，因为原始数据库连接已打开并且凭据已从连接字符串中删除。提供一个未打开的连接。
> 
> System.Data.SqlClient.SqlException ：建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-31T23:20:01.077

> 将您的 IQueryable 附加到 LINQ to Entities 提供程序

问题是：哪个`IQueryable`？接口本身什么都不是。使用 EF，您正在处理实现的类`IQueryable`但除此之外还有更多功能的类。事实上，它们完全具备与上下文和*已经附加*在引擎盖下的查询提供程序合作的能力。`IQueryable.IQueryProvider`是一个只读属性，所以它是由创建具体`IQueryable`实现的工厂设置的。

因此，您的`testQuery`将是一个，`ObjectQuery`因为它是从中获取的`myDb`，除了 EF 上下文之外别无他法。

> 为什么我们不能对*构造进行单元测试*在不实际*执行*进行单元测试？

这不是你的实际问题吗？事实上，我什至想知道您是否想要一个不同的查询提供程序。我认为您会希望 EF 查询提供程序具有这样的行为，否则仍然无法保证使用 EF 它的工作方式相同。

无论如何，您可以在其连接字符串中创建一个带有虚假数据库名称的上下文（以确保它不连接）并检查`((ObjectQuery)testQuery).ToTraceString()`. 只要你不迭代就可以了`testQuery`。我可以想象，当查询由复杂的执行路径组成时，这样的测试会有一些价值。（但我宁愿避免这种情况）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T13:46:44.000

### 简短的回答

我能够创建一个模拟 DbContext，它“连接”到正确的 EF 提供程序*，而没有任何实际的数据库连接*。这保证了被测 LINQ 将在针对您的真实数据库的集成场景中实际工作。它目前仅针对 MS SQL Server 实现，但应该很容易扩展到其他 EF 提供程序。我已经在下面发布了完整的代码，我很高兴听到有关它的反馈。

*编辑*我将代码移至[GPL CodePlex 项目](http://fakedbconnection.codeplex.com/)。

### 长答案

在查看了[GertArnold](https://stackoverflow.com/users/861716/gertarnold)的答案并重新思考了整个问题（以及对来源的广泛反思）之后，我想出了我认为可行的解决方案。问题是 DbContext 的默认配置是：

1.  使用默认创建到构造函数属性`SqlConnectionFactory`请求的数据库的连接`nameOrConnectionString``DbContext`
2.  如果数据库不存在则创建数据库（因为它`CreateDatabaseIfNotExists`用作默认的上下文初始化程序）
3.  打开与数据库的连接以确认它是可访问的（使用`DbConnection.Open`and `DbConnection.State`）
4.  查询数据库以确认请求的模型存在于其中（使用`System.Data.Entity.Internal.InternalContext.QueryForModel`它在活动连接上创建一个命令来查询模型的数据库）
5.  构建一个`System.Data.Common.DbProviderServices`和一个对象，它们共同为**将 Expressions 转换为 SQL**`System.Data.Common.DbProviderManifest`提供支持。

 **这些步骤中的前四个（需要实际的数据库连接）可以创建一个新的，它在方法`IDatabaseInitializer`中什么都不做，然后使用.`InitializeDatabase``Database.SetInitializer`

另一方面，第 5 步是我们需要一个真正的 DbContext 进行选择的原因。如果没有 DbProviderServices 和 DbProviderManifest，EF 将不知道如何翻译表达式。我能够使用反射来获取内部信息`SqlProviderManifest`并将`SqlProviderServices`工作传递给他们（我什至可以指定按年份使用的 SQL Server 版本）。****

# c++ - 这是从二进制字符串转换为十进制值的低效方法吗？

> ID：11716508
> 
> 赞同：1
> 
> 时间：2012-07-30T06:45:01.477
> 
> 标签：c++, binary, decimal

```
 while(i < length)
  {
    pow = 1;
    for(int j = 0; j < 8; j++, pow *=2)
    {   
      ch += (str[j] - 48) * pow;
    }   
    str = str.substr(8);
    i+=8;
    cout << ch; 
    ch = 0;
  } 
```

这似乎大大减慢了我的程序。是因为我在那里使用的字符串函数，还是这种方法通常是错误的。我知道有实现长除法的方法，但我想看看这是否真的比这种方法更有效。我想不出另一种不使用相同通用算法的方法，所以问题可能只是我的实现。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T06:53:11.463

也许您想研究使用标准库函数。它们可能至少与您通过编译器运行的任何东西一样优化：

```
#include <iostream>
#include <iomanip>
#include <cstdlib>

int main (void) {
    const char *str = "10100101";

    // Use str.c_str() if it's a real C++ string.
    long int li = std::strtol (str, 0, 2);

    std::cout
        << "binary string = " << str
        << ", decimal = " << li
        << ", hex = " << std::setbase (16) << li
        << '\n';
    return 0;
} 
```

输出是：

```
binary string = 10100101, decimal = 165, hex = a5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:00:02.730

您正在做一些不必要的事情，例如为每个循环创建一个新的子字符串。你可以`str[i + j]`改用。

也没有必要将 0 或 1 乘以幂。只需使用 if 语句。

```
 while(i < length)
  {
     pow = 1;
     for(int j = 0; j < 8; j++, pow *=2)
     { 
         if (str[i + j] == '1')
            ch += pow;
     }
     i+=8; 
     cout << ch; 
     ch = 0; 
  } 
```

这至少会运行得更快一些。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T06:54:35.570

简短的回答可能是：

```
long int x = strtol(your_binary_c++_string.c_str(),(char **)NULL,2) 
```

可能您可以使用 int 或 long int ，如下所示：

只需一步一步地遍历二进制数，从 0 到 n-1，其中 n 是最高有效位（MSB），将它们乘以 2 以提高幂，然后将总和相加。例如要转换 1000（相当于 8 的二进制），只需执行以下操作

1 0 0 0 ==> 从右到左

0 x 2^0 = 0 0 x 2^1 = 0；0 x 2^2 = 0; 1 x 2^3 = 8；现在将它们加在一起，即 0+0+0+8 = 8; 这是 1000 的十进制等值。请阅读下面的程序以更好地理解这个概念是如何工作的。注意：该程序仅适用于 16 位二进制数（非浮点数）或更少。如果有任何不清楚的地方，请发表评论。您一定会收到回复。

// 程序将二进制转换为其十进制等价物

```
#include <iostream>
#include <math.h>

int main()
{
     int x;
     int i=0,sum = 0;
     // prompts the user to input a 16-bit binary number
     std::cout<<" Enter the binary number (16-bit) : ";
     std::cin>>x;

     while ( i != 16 ) // runs 16 times
     {
          sum += (x%10) * pow(2,i);
          x = x/10;
          i++;
     }
     std::cout<<"\n The decimal equivalent is : "<<sum;
     return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T06:57:24.520

尽量减少操作次数，不要多次计算。只需相乘并向上移动：

```
unsigned int result = 0;

for (char * p = str; *p != 0; ++p)
{
    result *= 2;
    result += (*p - '0');  // this is either 0 or 1
} 
```

该方案很容易推广到任何小于 10 的基数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T06:59:05.880

怎么样：

```
int binstring_to_int(const std::string &str)
{
    // 16 bits are 16 characters, but -1 since bits are numbered 0 to 15
    std::string::size_type bitnum = str.length() - 1;
    int value = 0;

    for (auto ch : str)
    {
        value |= (ch == '1') << bitnum--;
    }

    return value;
} 
```

这是我能想到的最简单的了。请注意，这使用了新的 C++11 for-each 循环结构，如果您的编译器无法处理它，您可以使用

```
for (std::string::const_iterator i = str.begin(); i != str.end(); i++)
{
    char ch = *i;
    // ...
} 
```

# android - 适用于 Android 的 Phonegap 推特插件

> ID：11716516
> 
> 赞同：1
> 
> 时间：2012-07-30T06:45:40.670
> 
> 标签：android, phonegap-plugins

我想使用 Phonegap 在我的应用程序中集成具有撰写推文功能的推特。我正在关注[https://github.com/ObjetDirect/phonegap-plugins/blob/master/Android/Twitter/www](https://github.com/ObjetDirect/phonegap-plugins/blob/master/Android/Twitter/www)。现在在自述文件中，他们已经给出了说明，对于撰写推文，我该如何修改我的 index.html 页面？请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:47:38.600

请看一下如何使用 javascript 从 twitter 检索消息、照片、名称的示例。我已经做到了，在 CSS 的帮助下真是太棒了！

[http://wiki.phonegap.com/w/page/42450600/PhoneGap%20Ajax%20Sample](http://wiki.phonegap.com/w/page/42450600/PhoneGap%20Ajax%20Sample)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-05T21:43:06.843

我认为我的教程描述了你想要做什么。请参阅[TMT5P1](http://www.mobiledevelopersolutions.com/home/start/twominutetutorials/tmt5p1)。

需要子浏览器[插件](https://github.com/phonegap/phonegap-plugins/tree/master/Android/ChildBrowser)（不需要 Twitter 插件）来进行 OAuth 1.0a Twitter 登录。PhoneGap / Android 插件的视频[演示](http://www.youtube.com/watch?v=84jmuXS8GJI)。

在 TMT5P1 中，用户从您的 phonegap 应用程序登录到他们的 Twitter 帐户，授予该应用程序访问其 Twitter 帐户的权限，之后所有 Twitter API 都可以通过您的应用程序中的 javascript 使用。包括撰写和发送推文。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-20T05:17:28.480

您可以使用 childbrowser 的概念来实现它。我已经做到了。使用链接：[https](https://github.com/phonegap/phonegap-plugins/tree/master/Android/ChildBrowser) ://github.com/phonegap/phonegap-plugins/tree/master/Android/ChildBrowser 。

# javascript - 如何将xml解析数据获取到jquery中的全局变量

> ID：11716523
> 
> 赞同：0
> 
> 时间：2012-07-30T06:46:12.217
> 
> 标签：javascript, jquery, xml, parsing

这是我阅读“test.xml”的jQuery代码。

```
var htmldata = 0;
$.get('test.xml', function(data) {
    xml_data = $(data);
    xml_data.find("order").find("customer").each(function(k, v) {
        divClass = inactiveClass;
        spanClass = inactiveIcon;
        htmldata += '<div class="' + divClass + '"><span class="' + inactiveIcon + '"></span>' + $(this).text() + '</div>';
    });
});
alert(htmldata); 
```

在这段代码中，我尝试解析 test.xml 并创建一个 htmldata。但我没有把这些数据拿出来。如果我试图提醒它显示为空。我怎样才能把这个价值带到外面。请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:10:59.167

```
function parseXMLdata(data, callback)
{    
    $.get('test.xml', function(data) {
        xml_data = $(data);
        xml_data.find("order").find("customer").each(function(k, v) {
            divClass = inactiveClass;
            spanClass = inactiveIcon;
            var htmldata += '<div class="' + divClass + '"><span class="' + inactiveIcon + '"></span>' + $(this).text() + '</div>';

            callback(htmldata);    
        });
    });
}

parseXMLdata(data, window.alert); 
```

# python - 安装python ldap 单独安装python

> ID：11716524
> 
> 赞同：0
> 
> 时间：2012-07-30T06:46:13.833
> 
> 标签：python

我在将 python ldap 安装到单独的 Python 安装时遇到了一些问题。基本上 Python2.4 不应该被删除，因为系统（linux redhat）依赖它，所以我在 /srv/python2.7 的单独位置安装了 2.7。看起来好像已经为 2.7 安装了 python-ldap，因为我可以在 /srv/python2.7/bin/build/python-ldap 中看到一些文件夹和文件。但是当我运行我的脚本时，它抱怨它找不到 ldap 导入。当我假设没有正确安装 python ldap 再次尝试安装时，我在下面得到这个输出。我的意思是安装 python ldap 的所有先决条件都在系统上，例如 python 2.4+、Openldap、sasl。

Python ldap 适用于 2.4，我可以看到 /usr/bin/build/python-ldap 中的相关文件与 /srv/python2.7/bin/build/python-ldap 中的 2.7 相同...我是还在脚本顶部调用正确的 python 解释器。并且还尝试使用 pip 安装 /srv/python2.7/bin/python /usr/bin/pip install python-ldap 但这也失败了。

[root@stats python-ldap]# /usr/local/bin/python setup.py install

```
defines: HAVE_SASL HAVE_TLS HAVE_LIBLDAP_R
extra_compile_args:
extra_objects:
include_dirs: /opt/openldap-RE24/include /usr/include/sasl /usr/include
library_dirs: /opt/openldap-RE24/lib /usr/lib
libs: ldap_r
running build
running build_py
file Lib/ldap.py (for module ldap) not found
file Lib/ldap/controls.py (for module ldap.controls) not found
file Lib/ldap/extop.py (for module ldap.extop) not found
file Lib/ldap/schema.py (for module ldap.schema) not found
file Lib/ldap.py (for module ldap) not found
file Lib/ldap/controls.py (for module ldap.controls) not found
file Lib/ldap/extop.py (for module ldap.extop) not found
file Lib/ldap/schema.py (for module ldap.schema) not found
running build_ext
building '_ldap' extension
gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DHAVE_SASL -DHAVE_TLS -DHAVE_LIBLDAP_R -DHAVE_LIBLDAP_R -DLDAPMODULE_VERSION=2.4.10 -IModules -I/opt/openldap-RE24/include -I/usr/include/sasl -I/usr/include -I/usr/local/include/python2.7 -c Modules/LDAPObject.c -o build/temp.linux-x86_64-2.7/Modules/LDAPObject.o
In file included from Modules/LDAPObject.c:18:
/usr/include/sasl/sasl.h:349: warning: function declaration isnât a prototype
gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DHAVE_SASL -DHAVE_TLS -DHAVE_LIBLDAP_R -DHAVE_LIBLDAP_R -DLDAPMODULE_VERSION=2.4.10 -IModules -I/opt/openldap-RE24/include -I/usr/include/sasl -I/usr/include -I/usr/local/include/python2.7 -c Modules/ldapcontrol.c -o build/temp.linux-x86_64-2.7/Modules/ldapcontrol.o
Modules/ldapcontrol.c: In function âencode_assertion_controlâ:
Modules/ldapcontrol.c:352: warning: implicit declaration of function âldap_create_assertion_control_valueâ
gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DHAVE_SASL -DHAVE_TLS -DHAVE_LIBLDAP_R -DHAVE_LIBLDAP_R -DLDAPMODULE_VERSION=2.4.10 -IModules -I/opt/openldap-RE24/include -I/usr/include/sasl -I/usr/include -I/usr/local/include/python2.7 -c Modules/common.c -o build/temp.linux-x86_64-2.7/Modules/common.o
gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -DHAVE_SASL -DHAVE_TLS -DHAVE_LIBLDAP_R -DHAVE_LIBLDAP_R -DLDAPMODULE_VERSION=2.4.10 -IModules -I/opt/openldap-RE24/include -I/usr/include/sasl -I/usr/include -I/usr/local/include/python2.7 -c Modules/constants.c -o build/temp.linux-x86_64-2.7/Modules/constants.o
Modules/constants.c: In function âLDAPinit_constantsâ:
Modules/constants.c:155: error: âLDAP_OPT_DIAGNOSTIC_MESSAGEâ undeclared (first use in this function)
Modules/constants.c:155: error: (Each undeclared identifier is reported only once
Modules/constants.c:155: error: for each function it appears in.)
Modules/constants.c:365: error: âLDAP_CONTROL_RELAXâ undeclared (first use in this function)
error: command 'gcc' failed with exit status 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:56:05.727

这显然是要安装的 python-ldap 版本和已安装的 OpenLDAP 版本不匹配。一般来说，你想安装最新的 python-ldap 和一个不错的 OpenLDAP 版本。大胆猜测：您的 OpenLDAP 安装太旧了。您可能希望在不同的路径中安装较新版本的 OpenLDAP 并使用此版本重新编译 python-ldap，或者搜索适合您安装的 OpenLDAP 版本的较旧 python-ldap 版本。

# ruby-on-rails - Rails/Ruby/Postgres - LoadError 无法加载此类文件 -- pg_ext

> ID：11716532
> 
> 赞同：9
> 
> 时间：2012-07-30T06:47:02.247
> 
> 标签：ruby-on-rails, ruby, pg

我正在尝试使用下面的 rails 控制器调用 Ruby 脚本（连接到 postgres db），但它似乎在加载其中一个 PG gem 文件时遇到问题。我已将我的 require 语句设置为 require 'pg' 并尝试了绝对路径（require `/usr/local/rvm/gems/ruby-1.9.3-p194@railsTest/gems/pg-0.14.0/lib/pg/`）。文件“pg_ext”实际上存在于目录中。此外，我可以毫无问题地独立运行 ruby​​ 脚本（dbrubyscript.rb），但是当将 rails 添加到此等式时，它会出现`cannot load such file -- pg_ext`错误。

非常感谢这里的任何方向，因为我无法在网上找到任何可以解决此问题的东西

**导轨控制器：**

```
class TestdlController < ApplicationController
def runmyscript
  load "/usr/local/rvm/my_app/ruby_scripts/reports/dbrubyscript.rb"
  send_file '/usr/local/rvm/tmp/failedtests.csv', :type => 'text/csv', :disposition => 'inline'
  flash[:notice] = "Reports are being processed..."
end
end 
```

**.rb 文件 (dbrubyscript.rb) 具有以下内容：**

```
require 'rubygems'
require 'pg'

connects to (production) database
@conn = PGconn.connect("zzzzz.test.prod", 5432,"","","yyyyy_prod" ,"postgres", "xxxxxx")
..... 
```

**跟踪错误：** TestdlController#runmyscript 中的 LoadError

> 无法加载此类文件 -- pg_ext
> 
> Rails.root：/usr/local/rvm/my_app 应用程序跟踪 | 框架跟踪 | 完整跟踪 app/controllers/Testdl_controller.rb:3:in `runmyscript'
> 
> 加载以下文件时发生此错误：
> /usr/local/rvm/my_app/ruby_scripts/reports/dbrubyscript.rb
> /usr/local/rvm/gems/ruby-1.9.3-p194@railsTest/gems/pg-0.14。 0/lib/pg/
> pg_ext

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-15T11:51:06.927

尝试运行 ruby​​ /usr/local/rvm/gems/ruby-1.9.3-p194@railsTest/gems/pg-0.14.0/lib/pg/ext/extconf.rb 看看你得到了什么错误。这帮助我确定在我的情况下，我的 PostgreSQL 客户端太旧了。您的错误可能会有所不同，因为您似乎安装了当前版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-17T09:35:58.983

我有同样的问题。我有一个独立的红宝石脚本。如果我直接`pg`从.`postgres``shell`

如果我尝试通过 rspec 运行它，我会得到 Error `cannot load such file -- pg`。

**已解决**：rspec 的问题是，`pg`gem 未在`Gemfile`. 将 pg 放入`Gemfile`并通过 rspec 重新测试后，它起作用了。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-11T06:05:24.793

尝试在 Gemfile 中添加一行：

```
gem "pg" 
```

然后通过命令行运行 bundler：

```
bundle install 
```

Rails 使用 Bundler 来管理你的 gems 和依赖项。你可以在这里阅读更多关于 Bundler 背后的想法：http: [//gembundler.com/v1.2/rationale.html](http://gembundler.com/v1.2/rationale.html)

# curl - Solr删除语句错误

> ID：11716535
> 
> 赞同：1
> 
> 时间：2012-07-30T06:47:12.707
> 
> 标签：curl, solr

我正在尝试 solr ...尝试删除查询时出现以下错误：

```
 curl http://localhost:8983/solr/update --data-binary '<delete><id>SP2514N</id></delete>' 
```

错误是：

```
Error 400 missing content stream  
Problem accessing /solr/update. Reason: missing content stream 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T10:04:44.737

另一个答案似乎是正确的，但没有解释原因。您只需要将您正在使用的内容类型更改为`text/xml`，否则 curl 使用`application/x-www-form-urlencoded`带有`--data-binary`选项（或`-d`）的默认值。

您应该使用以下命令：

```
curl -H 'Content-Type: text/xml' http://localhost:8983/solr/update --data-binary '<delete><id>SP2514N</id></delete>' 
```

您可能希望将`commit=true`参数添加到 url 以立即发出提交，否则您仍然会看到要删除的文档（直到下一次提交）。

您还可以使用参数[通过 GET](http://wiki.apache.org/solr/UpdateXmlMessages#Updating_via_GET)直接在 url 中传递 xml，就像另一个答案中建议的那样。`stream.body`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:52:35.927

采用 ： -

```
http://localhost:8983/solr/update?stream.body=<delete><query>id:SP2514N</query></delete>&commit=true 
```

# jquery - 将 .datepicker() 绑定到新的输入元素

> ID：11716536
> 
> 赞同：1
> 
> 时间：2012-07-30T06:47:29.110
> 
> 标签：jquery, datepicker, onload

我正在尝试将 datepicker 添加到动态创建的输入元素中。我了解 .on() 或 .live() 函数的用法，但我找不到将它们绑定到的正确事件：

`.on`自从被淘汰后尝试使用`live()`我成功了以下内容：在输入字段上单击它变成了日期选择器输入

```
 $("#container").on("click", ".date", function(){
        $(this).datepicker()
  }); 
```

但是我需要`onload`在输入中不存在的事件上使用它。

# dns - 如何在不更改域名服务器的情况下测试 CloudFlare

> ID：11716537
> 
> 赞同：25
> 
> 时间：2012-07-30T06:47:32.323
> 
> 标签：dns, nameservers, cloudflare

如何在不更改域名服务器的情况下测试 CloudFlare？

我不想更改我的域名服务器并等待几个小时进行传播，只是为了发现 DNS 设置存在问题。

您可以在本地主机文件上欺骗名称服务器或其他东西吗？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-07-30T07:01:33.553

是的，您应该能够在更改名称服务器之前进行测试。这是做什么：

1.  在 www.cloudflare.com/sign-up 注册并在要求您更新名称服务器时通过第 4 步完成注册。
2.  请注意您提供的两个名称服务器，格式为 [name].ns.cloudflare.com。
3.  在终端上，进行查找以获取您的域已分配的 IP 地址。在 Linux/Unix 中是：dig @[name].ns.cloudflare.com yourdomain.com
4.  对要检查的所有子域重复第 3 步。
5.  更新您的 localhost 记录以将域解析为您通过查找找到的 IP。
6.  从您进行 localhost 更新的同一台机器上浏览该站点，并且流量应该通过 CloudFlare。

虽然这会工作一段时间，但在 24 小时后，CloudFlare 的系统可能会检测到您的名称服务器尚未更新，并且在某些情况下可能会返回错误。但是，此技术应允许您在更新名称服务器之前进行基本测试。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2019-04-16T02:15:34.170

为了让未来的用户免于头痛，上述答案不再适用：[https ://community.cloudflare.com/t/ip-on-cloudflare-nameserver-is-not-masked-despite-orange-cloud/76137](https://community.cloudflare.com/t/ip-on-cloudflare-nameserver-is-not-masked-despite-orange-cloud/76137)

据我了解，您现在需要更改您的名称服务器。

# sql - 维恩图解释的连接有多个连接

> ID：11716541
> 
> 赞同：3
> 
> 时间：2012-07-30T06:47:55.010
> 
> 标签：sql, sql-server, join, data-visualization, venn-diagram

[http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html) 和 [http://www.khankennels.com/blog/index.php/archives/2007/ 04/20/加入/](http://www.khankennels.com/blog/index.php/archives/2007/04/20/getting-joins/)

在学习使用维恩图连接的基础知识方面非常有帮助。但我想知道您如何将相同的想法应用于具有多个连接的查询。

假设我有 3 张桌子：

**雇员**

```
EmployeeID
FullName
EmployeeTypeID 
```

**EmployeeTypes**（全职、兼职等）

```
EmployeeTypeID
TypeName 
```

**保险记录**

```
InsuranceRecordID
EmployeeID
HealthInsuranceNumber 
```

现在，我希望我的最终结果集包含来自所有三个表的数据，格式如下：

```
EmployeeID | FullName | TypeName | HealthInsuranceNumber 
```

使用我从这两个站点中学到的知识，我可以使用以下联接来获取所有员工，无论他们的保险信息是否存在：

```
SELECT 
    Employees.EmployeeID, FullName, TypeName, HealthInsuranceNumber 
FROM Employees
INNER JOIN EmployeeTypes ON Employees.EmployeeTypeID = EmployeeTypes.EmployeeTypeID
LEFT OUTER JOIN InsuranceRecords ON Employees.EmployeeID = InsuranceRecords.EmployeeID 
```

我的问题是，使用同一种维恩图模式，上述查询将如何直观地表示？这张图准确吗？

![多个连接](../Images/b6da486f75b6cce4ceac5196af459749.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T08:09:41.147

我认为不太可能将您的示例映射到这些类型的图表上，原因如下：

这里的图表是用于描述集合论中的交集和并集的图表。为了实现图中所示的重叠，所有三个图表都需要包含相同类型的元素，如果我们正在处理三个不同的表，其中每个表都包含不同类型的（行）对象，则根据定义这是不可能的.

如果所有三个表都将在同一个键上连接，那么您可以将此键的值标识为集合包含的元素，但由于在您的示例中不是这种情况，因此这些图片不适用。

如果我们确实假设在您的示例中，两个连接都使用相同的键，那么只有绿色区域是正确的结果，因为第一个连接将您限制为 and 的交集，`Employees`而`Employee types`第二个连接限制了您的全部，`Employees`因为两个连接条件一定是真的，你会得到上述两个部分的交集，即绿色区域。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-04T12:46:04.657

这不是一个准确的集合图（Venn 或 Euler）。不存在同时属于雇员和雇员类型的实体。即使您的表模式表示某种表继承，所有实体仍将位于基表中。

Jeff 在 Coding Horror 博客上的示例仅适用于相似的实体，即包含相同实体的两个表——技术上违反规范化——或自连接。

维恩图可以准确地描述以下场景：

```
-- The intersection lens
SELECT *
FROM table
WHERE condition1
    AND condition2

-- One of the lunes
SELECT *
FROM table
WHERE condition1
    AND NOT condition2

-- The union
SELECT *
FROM table
WHERE condition1
    OR condition2 
```

# web2py - 空间的 Web2py 标记

> ID：11716543
> 
> 赞同：1
> 
> 时间：2012-07-30T06:48:02.597
> 
> 标签：web2py

如何使用控件中的 web2py 函数显示空间。

我试过像

```
T('test')+'&nbsp;' 
```

但这是显示之类的`'test&nbsp;'`。

我的要求是，正确对齐。我必须用我的数据库值附加一个空格。所以在我的控制器文件中我尝试过

```
result.field+'&nbsp;' output is dbvalue&nbsp;
result.field+' '      output is dbvalue (without space)
result.field+XML('&nbsp;') output is dbvalue&nbsp; 
```

请让我知道如何从控件中附加一个空格

我将不胜感激任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T15:06:15.807

我假设您的意思是它会显示“test&NBSP;'”，但是如果使用小写字母，那么在询问问题时似乎 SO“有帮助”转换它。

所以用它来显示空间：

```
T('text') + XML('&nbsp;') 
```

您需要在 XML 实体和 HTML 标记上调用 XML，除非您希望它转义。

# ruby - Ruby 类设置/获取

> ID：11716550
> 
> 赞同：6
> 
> 时间：2012-07-30T06:48:14.753
> 
> 标签：ruby, get, set

这有什么问题`set/get`？

```
class Pupil
  def name
    @name
  end

  def name=(name)
    @name = name
  end

  def age
    @age
  end

  def age=(age)
    @age
  end
end 
```

同样，如果有一个具有 3 个参数的子类，名称、年龄、性别，那么子类中的 set get 方法是否仅用于性别。您能否显示 set/get 方法并在子类中初始化。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-30T06:55:49.140

```
def age=(age)
    @age
  end 
```

应该

```
 def age=(age)
    @age = age
  end 
```

您还可以通过将 get/set 替换为 attr_accessor 来使您的代码更漂亮，attr_accessor 本身提供了一个 getter/setter

```
 class Pupil
   attr_accessor :age,:name
 end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T06:53:11.940

你忘了设置`@age = age`。

# telerik - 如何在插入新行按钮单击期间禁用数据绑定

> ID：11716551
> 
> 赞同：0
> 
> 时间：2012-07-30T06:48:17.033
> 
> 标签：telerik, telerik-grid

当我单击插入新行时，网格进入数据绑定，我只想在插入新行期间禁用对编辑模板的数据绑定，这怎么可能？

其次，如何在编辑模式下识别文本框绑定到的数据项，并在添加新行命令期间显示错误“Telerik.WebControls.GridInsertionObject 不包含属性”？

我试过了

```
protected void RadGrid1_ItemCommand(object sender, GridCommandEventArgs e)
{
    if (e.CommandName == RadGrid.InitInsertCommandName)
    {
        e.Canceled = true;
    }
} 
```

但是这段代码只是取消了整个插入项模板创建过程..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:02:02.233

itemcommand 事件只会在网格行上的编辑、插入、删除、更新命令时触发。

但是如果你想避免数据绑定使用

```
GRIDVIEW_ITEMDATABOUND() 
{
} 
```

尝试这个

# mysql - 如何合并2条sql语句并一次得到结果

> ID：11716566
> 
> 赞同：0
> 
> 时间：2012-07-30T06:49:07.783
> 
> 标签：mysql, sql, select

我不知道如何合并这两个查询并立即为它们获取结果。

```
 $q1 = "SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score 
            FROM questions_and_exercises q, `lesson-question` lq 
            LEFT JOIN answers a ON (a.uid=? AND a.qid=lq.qid)
            LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id)
            WHERE q.id=lq.qid AND lq.lid=?";
        $q2 ="SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score
             FROM questions_and_exercises q,
             `questions from-to` qft
            LEFT JOIN answers a ON (a.uid=? AND a.qid=qft.qid)
            LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id)
            WHERE q.id=qft.qid AND qft.to_uid=?"; 
```

建议？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:50:35.520

使用[**UNION**](http://dev.mysql.com/doc/refman/5.0/en/union.html)来解决这个问题。

但是在这种情况下，我认为`UNION`甚至不需要：

```
$q1 = "SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score 
        FROM questions_and_exercises q, `lesson-question` lq 
        LEFT JOIN answers a
        ON a.qid=lq.qid
        LEFT JOIN `answer_chk_results` acr 
        ON acr.aid=a.id
        WHERE q.id=lq.qid AND a.uid = ? (lq.lid = ? OR qtf.to_uid = a.uid)"; 
```

它会将这两个结果组合成更多行。

```
$q1 = "SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score 
        FROM questions_and_exercises q, `lesson-question` lq 
        LEFT JOIN answers a ON (a.uid=? AND a.qid=lq.qid)
        LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id)
        WHERE q.id=lq.qid AND lq.lid=?
        UNION # ALL
        SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score
         FROM questions_and_exercises q,
         `questions from-to` qft
        LEFT JOIN answers a ON (a.uid=? AND a.qid=qft.qid)
        LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id)
        WHERE q.id=qft.qid AND qft.to_uid=?"; 
```

使用`UNION`或`UNION ALL`取决于是否要合并相同的行。An`UNION`要求两个`SELECT`s 具有相同数量的列，并将使用第一个`SELECT`s 别名。

您*可以*像这样简化最后一个查询：

```
 SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score
        FROM questions_and_exercises q,
        `questions from-to` qft
        LEFT JOIN answers a 
        ON a.qid=qft.qid
        LEFT JOIN `answer_chk_results` acr 
        ON acr.aid=a.id
        WHERE q.id=qft.qid AND qft.to_uid=? AND qtf.to_uid = a.uid 
```

基本上，既然是相同的值，与 比较`to_uid`，`?`再与 比较就足够`to_uid`了`uid`。这与通过 比较它们的结果相同`ON`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:51:28.627

全部使用联合

```
$q1 = "SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score  
            FROM questions_and_exercises q, `lesson-question` lq  
            LEFT JOIN answers a ON (a.uid=? AND a.qid=lq.qid) 
            LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id) 
            WHERE q.id=lq.qid AND lq.lid=? union all
            SELECT q.id, q.content, a.id, a.content, a.addDT, acr.score 
             FROM questions_and_exercises q, 
             `questions from-to` qft 
            LEFT JOIN answers a ON (a.uid=? AND a.qid=qft.qid) 
            LEFT JOIN `answer_chk_results` acr ON (acr.aid=a.id) 
            WHERE q.id=qft.qid AND qft.to_uid=?"; 
```

# php - PHP 中的固定长度记录 I/O

> ID：11716569
> 
> 赞同：0
> 
> 时间：2012-07-30T06:49:29.453
> 
> 标签：php, binary, fixed-length-record

我已经使用 php.ini 从文件中读取了一个固定长度的记录。我已经给出了下面的代码。

```
$f = fopen('data.txt', 'rb');

while (!feof($f)) {
  // read one segment of 52 bytes
  if ($s = fread($f, 52)) {
    // unpack the binary structure into an associative array
    print_r(unpack('ieid/ieage/a20name/a20city', $s));
  }
}

fclose($f); 
```

现在我需要知道如何将固定长度记录写入文件。我搜索了许多网站，但仍然没有得到正确的答案。如何将固定长度记录写入二进制/文本文件？

# jsp - 在 JSP 中使用 EL 时出错：“未指定默认命名空间时，函数包含必须与前缀一起使用”

> ID：11716571
> 
> 赞同：4
> 
> 时间：2012-07-30T06:49:40.310
> 
> 标签：jsp, jstl, el

在我的 jsp 页面中，我指定：

```
<c:choose>
line 1: <c:when test="${com.community_classification_id.contains('1')}">
            <input type="checkbox" id="by_invitation1"   name="invitaion" value="1" checked="true">By Invitation<span style="padding-left:28px"></span>
        </c:when>
        <c:otherwise>
            <input type="checkbox" id="by_invitation1"   name="invitaion" value="1">By Invitation<span style="padding-left:28px"></span>
        </c:otherwise>
</c:choose> 
```

但@line 没有。1 它给了我 500 错误

```
The function contains must be used with a prefix when a default namespace is not specified 
```

我无法理解。怎么了？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T07:24:40.373

看看这个：[JSTL fn:contains() 函数](http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fn/tld-summary.html)

用于在另一个字符串中找到一个字符串（我想这是你想要实现的）

在您的代码中：

```
<c:choose>
    <c:when test="${fn:contains(com.community_classification_id, '1')}">
        <input type="checkbox" id="by_invitation1" name="invitaion" value="1" checked="true">By Invitation<span style="padding-left:28px"></span>
    </c:when>
    <c:otherwise>
        <input type="checkbox" id="by_invitation1" name="invitaion" value="1">By Invitation<span style="padding-left:28px"></span>
    </c:otherwise>
</c:choose> 
```

不要忘记在您的 JSP 中包含 taglib 以使用它：

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:21:19.807

您可以在 EL 中使用您的静态方法（我假设`com.community_classification_id.contains`是），但首先您必须定义自定义 EL 函数。

检查[这个答案](https://stackoverflow.com/a/6396886/708434)和[这个答案](https://stackoverflow.com/a/296752/708434)，它显示了如何在 JSP 中创建和使用 EL 函数。然后只需记住导入您的 taglib 并使用带有前缀的静态方法，如这些答案中所示。

# xml - xml 中的 schemalocation 未针对 xsd 进行验证

> ID：11716574
> 
> 赞同：0
> 
> 时间：2012-07-30T06:49:45.647
> 
> 标签：xml, vb.net, xsd

我在 xml 的标头中有一个模式位置。xsd 不接受 xml 中的模式位置。我收到以下错误。

SchemaLocation：SchemaLocation Value = 'http://localhost/test/ns/test.xsd' 必须有偶数个 URI

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:58:42.357

尝试

```
xsi:schemaLocation="http://localhost/test/ http://localhost/test/ns/test.xsd"
```

schemalocation 需要 2 个值（=偶数）：namespaceuri + xsdlocation

# python - 元组类型内容python

> ID：11716578
> 
> 赞同：1
> 
> 时间：2012-07-30T06:50:18.333
> 
> 标签：python, types, tuples, instanceof

我能以某种方式查看元组内容的类型和大小吗？我希望输出类似于：

`(str, list, int)`或任何可能的（仅打印它们很困难，因为有嵌套列表）

```
x = someSecretTupleFromSomewhereElse
print type(x)

<(type 'tuple')> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-30T06:51:20.973

```
>>> data = ('ab', [1, 2, 3], 101)
>>> map(type, data)
[<type 'str'>, <type 'list'>, <type 'int'>] 
```

要同时显示长度，您可以这样做，对于不是序列的项目，我将只显示`None`.

```
>>> import collections
>>> [(type(el), len(el) if isinstance(el, collections.Sequence) else None)
     for el in data]
[(<type 'str'>, 2), (<type 'list'>, 3), (<type 'int'>, None)] 
```

# java - Bouncycastle XmlSignatureFactory NoSuchAlgorithmException

> ID：11716579
> 
> 赞同：2
> 
> 时间：2012-07-30T06:50:21.817
> 
> 标签：java, bouncycastle, xml-signature

我在使用 BouncyCastle 检查 XMLSignature 以验证使用 ECDSA 的签名时遇到问题。

以下是相关的代码行：

```
BouncyCastleProvider provider = new BouncyCastleProvider();
Security.addProvider(provider);   
//some unrelated code
XMLSignatureFactory factory = XMLSignatureFactory.getInstance("DOM", provider); 
```

在最后一行，抛出以下异常：

```
javax.xml.crypto.NoSuchMechanismException: java.security.NoSuchAlgorithmException: no such algorithm: DOM for provider SC 
```

如果我将线路更改为

```
XMLSignatureFactory factory = XMLSignatureFactory.getInstance("DOM"); 
```

我明白了

```
javax.xml.crypto.MarshalException: unsupported SignatureMethod algorithm: http://www.w3.org/2007/05/xmldsig-more#ecdsa-ripemd160 
```

任何人有任何想法是什么原因造成的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:22:30.087

在您的第一个错误中，您可以在错误描述中看到“没有这样的算法：提供者 SC 的 DOM”。这很奇怪，因为它说的是“提供者 SC”（Sun PC/SC 提供者）而不是“提供者 BC”（BouncyCastle 安全提供者）。看起来您的代码（内部）没有按照您的意愿使用 Bouncycastle。您应该找出发生这种情况的原因。它可能与 BC 库和类路径（如果您正在使用应用程序服务器）或提供商订单配置有关。

第二个错误。您更改获取 XMLSignatureFactory 的方法。这个更好，因为如果你不指定提供者，因为：

> 此方法使用标准 JCA 提供者查找机制来定位和实例化所需机制类型的 XMLSignatureFactory 实现。它遍历注册的安全提供者列表，从最喜欢的提供者开始。返回来自支持指定机制的第一个 Provider 的新 XMLSignatureFactory 对象。

但是现在，算法不存在。所以为什么？在这里，我想说的是 BC 没有被使用。它在那里？查看您的类路径。

列出所有可用的提供者可能会有所帮助：

```
for (Provider p : Security.getProviders()) {

    log.debug(p.getName());
    log.debug(p.getInfo());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-08-31T16:55:17.200

从你的第二个异常猜测，因为你想验证 xml 签名，你可能使用了一些类似下面的代码，来自[https://www.massapi.com/class/xm/XMLSignatureFactory-2.html的代码](https://www.massapi.com/class/xm/XMLSignatureFactory-2.html)

```
// Step 1: Load an XMLSignatureFactory instance. This factory class will
// be responsible for constructing almost all the major objects we need
// in working with XML Signature in JSR-105 APIs, except those related
// to KeyInfo.
XMLSignatureFactory fac = XMLSignatureFactory.getInstance("DOM");

// Step 3 : Find all Xml Signature element into the provided XML
// document (here for sample use only the first)
NodeList nl = doc.getElementsByTagNameNS(XMLSignature.XMLNS, "Signature");
if (nl.getLength() == 0) {
    throw new Exception("Cannot find Signature element!");
}

// Step 4: Create a DOMValidateContext instance (extract public key from
// the "KeyInfo" bloc using overrided KeySelector impl.)
DOMValidateContext valContext = new DOMValidateContext(new KeyValueKeySelector(), nl.item(0));

// Step 5: Unmarshal the Signature node into an XMLSiganture object.
XMLSignature signature = fac.unmarshalXMLSignature(valContext);

// Step 6 : Validate signature
boolean isValid = signature.validate(valContext);
if (isValid) {
    System.out.println("OK");
} 
```

但 xml 表示有类似的东西

```
<Signature xmlns="http://www.w3.org/2000/09/xmldsig#">
    <SignedInfo>  
            <CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/>  
            <SignatureMethod Algorithm="http://www.w3.org/2007/05/xmldsig-more#ecdsa-ripemd160"/>  
            <Reference URI="">  
                <Transforms>  
                        <Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>  
                </Transforms>  
                <DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>  
                <DigestValue>bHS+6uf8KbJV4AGzoHNHLfnXvKM=</DigestValue>  
            </Reference>  
    </SignedInfo>
    ...
</Signature> 
```

因此，工厂未能将 xml 表示解组为 XMLSignature 对象。实际上`fac`是由`org.jcp.xml.dsig.internal.dom.XMLDSigRI`提供者提供的，请检查`$JRE_HOME/lib/security/java.security`确定。`fac`是`DOMXMLSignatureFactory`类的一个实例。unmarshall 动作将尝试形成`Signature`对象，并且必须首先形成子对象，例如`CanonicalizationMethod`然后`SignatureMethod`，所以最后到达引发异常的调用，在`DOMSignedInfo`构造函数`DOMSignedInfo(Element var1, XMLCryptoContext var2, Provider var3) throws MarshalException`

```
Element var5 = DOMUtils.getNextSiblingElement(var4, "SignatureMethod");
this.signatureMethod = DOMSignatureMethod.unmarshal(var5); 
```

`DOMSignatureMethod.unmarshal`只是静态方法的一步，它用于`http://www.w3.org/2007/05/xmldsig-more#ecdsa-ripemd160`查找数字签名算法，但`DOMSignatureMethod`仅支持以下算法，

```
rsa-sha1
rsa-sha256
rsa-sha384
rsa-sha512
dsa-sha1
dsa-sha256
hmac-sha1
hmac-sha256
hmac-sha384
hmac-sha512
ecdsa-sha1
ecdsa-sha256
ecdsa-sha384
ecdsa-sha512 
```

和解决方案：将 BC 提供程序添加到 Security 并使用**org.apache.santuario -xmlsec**项目中的 XMLSignature 进行验证，

```
public boolean verify(String signedXML) throws Exception {
    Document doc = null;
    try (InputStream is = new ByteArrayInputStream(signedXML.getBytes(Charset.forName("utf-8")))) {
        doc = MyXMLUtils.read(is, false);
    }

    XPathFactory xpf = XPathFactory.newInstance();
    XPath xpath = xpf.newXPath();
    xpath.setNamespaceContext(new DSNamespaceContext());

    String expression = "//ds:Signature[1]";
    Element sigElement =
            (Element) xpath.evaluate(expression, doc, XPathConstants.NODE);

    XMLSignature signature = new XMLSignature(sigElement, "");
    KeyInfo ki = signature.getKeyInfo();

    if (ki == null) {
        throw new RuntimeException("No keyinfo");
    }
    PublicKey pk = signature.getKeyInfo().getPublicKey();

    if (pk == null) {
        throw new RuntimeException("No public key");
    }

    return signature.checkSignatureValue(pk);
} 
```

来自 repo 的更多演示：[https ://github.com/Honwhy/xml-sec](https://github.com/Honwhy/xml-sec)

# android - 如何获取 mp3 或音频文件的波形？

> ID：11716585
> 
> 赞同：2
> 
> 时间：2012-07-30T06:50:45.537
> 
> 标签：android, waveform

我正在制作像 mp3 切割器这样的应用程序。我想知道如何在android中显示音频的波形？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T22:58:15.370

检查[Ringdroid](http://code.google.com/p/ringdroid/)以了解波形的实现以及有关如何剪切音频的一些灵感。

# android - 如何在 Android 列表视图中使用 HTML 内容....？

> ID：11716586
> 
> 赞同：3
> 
> 时间：2012-07-30T06:50:53.373
> 
> 标签：android, android-listview, android-spinner, htmlspecialchars

我正在开发一个应用程序，我需要在其中使用一些数学特殊字符。在谷歌中长时间搜索后，我找到了以下解决方案，即[如何在 TextView、EditView 或其他 Android UI 元素中放置一些特殊的数学符号。](http://www.hrupin.com/2011/12/how-to-put-some-special-math-symbols-in-textview-editview-or-other-android-ui-element)根据上面的链接，如果我使用 textview 意味着它运行良好。但是如何在列表视图中使用以下**“HTML.frommHtml()”**。我试过但它得到错误......

代码：（使用Textview）

```
//by using textview

  String htmlStringWithMathSymbols = " &#8706;   &#8710;   &#8719;   &#8721;      &#61;   &#8800;   &#8776;   &#8801;";
  txtv.setText(Html.fromHtml(htmlStringWithMathSymbols)); 
```

如何在 listview 中使用以下**“HTML.frommHtml()”**。当我为 listview 添加相同的代码时，出现错误...

代码：（使用ListView）

```
//by using listview

 String[] andi={"andi 4","andi 5" , "&#8706;" , "&#8710;","&#8719;"};    

ArrayAdapter<String> adp = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, andi);
    lv.setAdapter(Html.fromHtml(adp)); 
```

在使用 listview 代替 "fromHtml()" 时，它显示错误为**"The method fromHtml(String) in the type Html is not applicable for the arguments (ArrayAdapter)"**。

**那么如何将以下“Html.fromHtml()”代码与 listview 或 spinner 一起使用....**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T07:00:26.827

尝试这个 ：

```
CharSequence[] andi={Html.fromHtml("andi 4"), Html.fromHtml("andi 5") , Html.fromHtml("&#8706;") , Html.fromHtml("&#8710;"),Html.fromHtml("&#8719;")};    

    ArrayAdapter<CharSequence> adp = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_list_item_1, andi);
    lv.setAdapter(adp); 
```

在您的代码中，您尝试为适配器设置字符串值并将适配器传递给`fromHtml`函数

# jquery - 购物车到 Json

> ID：11716587
> 
> 赞同：0
> 
> 时间：2012-07-30T06:50:59.257
> 
> 标签：jquery, json

我需要在单击按钮时生成 json 数据，但我无法获取 json
我的购物车演示链接 [http://jsfiddle.net/bkw5p/48/](http://jsfiddle.net/bkw5p/48/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:36:57.393

在 HTML 的末尾，介于`<p class="total">`和之间`<h2>`：

```
<input type="submit" id="submit" value="Make an order" /> 
```

在 JS 里面`$(function() { ... })`：

```
$('#submit').bind('click',function(){
    if (!$('table#cartcontent1 tr').length) {
        alert('You have no Items in Your Cart');
    } else {

        var result = new Array();
        var name, qty, price;
        $('table#cartcontent1 tr').each(function(){
            name = $(this).find('td[data-bind="text:name"]').text();
            qty = $(this).find('input[data-bind="value:qty"]').val();
            price = $(this).find('td[data-bind="text:price"]').text();
            result.push( {'name' : name, 'qty' : qty, 'price' : price } );
        })

        $.ajax({
            type:"POST",
            url: 'ordering.php',
            data: {data: result},
            success: function(msg){
                // do something when success
            }
        });
    }
    return false;
}) 
```

在 PHP 中会是这样的：

```
$data = $_POST['data'];
foreach ($data as $val) {
    echo $val['name']; // Feeling
    echo $val['price']; // 25
    echo $val['qty']; // 3
} 
```

# asp.net - 将 Linq 转换为 SQL

> ID：11716597
> 
> 赞同：4
> 
> 时间：2012-07-30T06:51:38.437
> 
> 标签：asp.net, sql, linq

我在网上进行了研究，大多数结果都是从 sql 转换为 linq，很少有 linq 到 sql。

这是我要转换为 SQL 的代码：

```
 using (CommerceEntities db = new CommerceEntities())
    {
    try
      {
      var query = (from ProductOrders in db.OrderDetails
                        join SelectedProducts in db.Products on ProductOrders.ProductID  
                        equals SelectedProducts.ProductID
                        group ProductOrders by new
                            {
                            ProductId = SelectedProducts.ProductID,
                            ModelName = SelectedProducts.ModelName
                            } into grp
                        select new
                            {
                            ModelName = grp.Key.ModelName,
                            ProductId = grp.Key.ProductId,
                            Quantity = grp.Sum(o => o.Quantity)
                            } into orderdgrp where orderdgrp.Quantity > 0 
                        orderby orderdgrp.Quantity descending select orderdgrp).Take(5);

                    RepeaterItemsList.DataSource = query;
                    RepeaterItemsList.DataBind(); 
      }
    catch (Exception exp)
      {
      throw new Exception("ERROR: Unable to Load Popular Items - " + 
                           exp.Message.ToString(), exp);
      }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T06:59:46.007

您可以尝试在[LinqPad](http://www.linqpad.net/)中运行 LINQ 语句。有关如何使用 LinqPad[的示例，请在此处查看答案](https://stackoverflow.com/a/8003761/19582)。

它有一个选项卡来显示生成的 SQL 语句。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T07:03:06.087

[这是一篇关于登录 LINQ to SQL 的文章](http://damieng.com/blog/2008/07/30/linq-to-sql-log-to-debug-window-file-memory-or-multiple-writers)。它允许您指定将查询发送到的 TextWriter。

基本上，你可以这样写：

```
db.Log = new System.IO.StreamWriter("linq-to-sql.log") { AutoFlush = true }; 
```

...`db`您的数据上下文在哪里。

在 SQL 中，你会写这样的东西（尽管生成的代码看起来会有很大不同，因为它是自动生成的）：

```
SELECT TOP 5 Products.ModelName, Products.ProductID, SUM(OrderDetails.Quantity) qty
FROM OrderDetails
INNER JOIN Products ON OrderDetails.ProductID = Products.ProductID
GROUP BY Products.ProductID, Products.ModelName
HAVING qty > 0
ORDER BY qty DESC 
```

# jakarta-ee - 将 CSS 和 Javascript 放在 EAR 之外

> ID：11716602
> 
> 赞同：1
> 
> 时间：2012-07-30T06:52:03.527
> 
> 标签：jakarta-ee, web, deployment, websphere, ibm-rad

我在 IBM websphere 中部署了一个 Web 应用程序。每次我更改我的 css 或 javascript 文件时，我都必须重新部署 EAR 文件。是否可以将这些 css/javascript 文件放在 EAR/WAR 文件之外，这样我就可以避免重新部署 EAR 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-31T03:07:13.380

对于该模式，我建议将这些静态文件放在您的 Web 服务器（或代理服务器，如果有的话）上的不同位置，然后使用路径别名从您的页面中引用它们。例如在 Apache/IHS 中：

```
Alias /css /usr/IBM/HTTPServer/htdocs/css 
```

然后在您的 HTML/JSP 中：

```
<link rel="stylesheet" href="/css/styles.css" type="text/css" media="screen"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:10:21.897

You can make an Utility Application as Dynamic Web Project and place all the css,images and script files inside it. you can create a seperate WAR outside EAR. your files inside EAR can refer to this WAR file for the resources, but you have to take care of the context-path. Here you can avoid of complete building of EAR file but you need to build WAR file. Accessing the css/js/images outside WAR and EAR doesnt sound a correct way of implementation.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:31:47.407

使用[JRebel](http://zeroturnaround.com/software/jrebel/)，您可以映射驻留在任意位置的资源。因此，一旦您对资源进行任何更改，这些将立即在应用程序中可见。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T07:49:54.907

将您的耳朵部署为“爆炸档案目录”

请参阅[http://docs.oracle.com/cd/E15051_01/wls/docs103/deployment/deployunits.html](http://docs.oracle.com/cd/E15051_01/wls/docs103/deployment/deployunits.html)

然后你可以复制静态文件并继续

websphere 似乎支持它，至少对于战争部分 [http://publib.boulder.ibm.com/infocenter/discover/v8r4/index.jsp?topic=/com.ibm.websphere.ii.product.ce。文档/配置/iiyviigdepwebexpl.htm](http://publib.boulder.ibm.com/infocenter/discover/v8r4/index.jsp?topic=/com.ibm.websphere.ii.product.ce.doc/configuring/iiyviigdepwebexpl.htm)

# powershell - 在生产环境中执行 Set-executionpolicy 的常见做法是什么？

> ID：11716603
> 
> 赞同：5
> 
> 时间：2012-07-30T06:52:05.317
> 
> 标签：powershell, powershell-2.0

向客户提供脚本时，除非他们设置了执行策略，否则脚本不会执行。

向客户提供脚本时的常见做法是什么？

set-executionpolicy 是否将作为脚本中的第一个命令运行，以便它可以在没有任何错误的情况下执行，或者将捕获一些有关 set-executionpolicy 的文档。

我第一次向我们的客户提供 powershell 脚本。以前我只是用来在我们的环境中执行，所以我没有考虑它。

有人请帮我了解一下

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T07:05:51.543

一种方法：

还将一个 bat 文件作为包装器发送到 .ps1，它将执行以下操作：

```
@powershell -ExecutionPolicy RemoteSigned -File script.ps1 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-30T11:11:09.430

如果我向客户提供脚本，我会对其进行数字签名并建议他们考虑使用 REMOTESIGNED 执行策略。

不过，对于大多数管理员来说，我通常推荐 UNRESTRICTED。这些管理员有足够的权力，让他们跳过箍来运行代码似乎是在浪费时间。归根结底，他们总是可以通过一种或另一种方式运行代码 - 所以为什么要浪费时间签署要求。

# ruby-on-rails - README 和 doc/README_FOR_APP 之间的区别？

> ID：11716606
> 
> 赞同：1
> 
> 时间：2012-07-30T06:52:34.207
> 
> 标签：ruby-on-rails

我想知道`README`和有什么区别`doc/README_FOR_APP`？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T10:13:04.433

`README_FOR_APP`，顾名思义，是针对您的特定 Rails 应用程序的文档，它涉及您将编写的类和方法。

`README`是所有 Rails 应用程序的通用文档，描述了 Rails 应用程序的结构和一些 Web 服务器设置。它比`README_FOR_APP`.

## 结论

大多数时候，你可以只关心`README`，如果你使用`github`，你可以使用`README.md`which 也是 a `README`，`.md`代表 markdown。它用于生成您在项目底部看到的 html 摘要。

# node.js - 服务器上的 Node.js 和 Sphinx 并发连接问题

> ID：11716607
> 
> 赞同：0
> 
> 时间：2012-07-30T06:52:43.910
> 
> 标签：node.js, sphinx, npm

我一直在为站点使用 Sphinx 技术并在 php 和 Node.js 中实现。使用 php 和 Sphinx，到目前为止我没有遇到任何问题。但是使用 Node.js 和 Sphinx，我很快就遇到了以下问题，

```
1\. Error: Error: Connection is opening in OnConnect
    at Socket.<anonymous> (/usr/local/lib/node_modules/limestone/limestone.js:217:26)
    at Socket.emit (events.js:64:17)
    at Object.afterConnect [as oncomplete] (net.js:614:10)

2\. node.js:201
        throw e; // process.nextTick error, or 'error' event on first tick
              ^
    Error: write EPIPE
        at errnoException (net.js:640:11)
        at Object.afterWrite [as oncomplete] (net.js:478:18) 
```

我一直在使用石灰石 node.js 模块作为 Node.js 和 Sphinx 服务器之间的中间件。我的假设是由于对 Sphinx 的并发连接请求而发生上述错误。如果是这样，那么如何避免并发 sphinx 请求。

请提出相同的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T23:31:12.793

您可以尝试通过可用于 sphinx 的 mysql 库之一使用 sphinxql。

# c# - 没有进程的不可关闭的应用程序

> ID：11716613
> 
> 赞同：0
> 
> 时间：2012-07-30T06:53:03.770
> 
> 标签：c#, shell-extensions

首先请原谅我的英语不好我正在为我的公司编写一个安全应用程序，我想阻止用户在我的应用程序中打开特定的程序，如 torrent。但这不是问题。问题开始于用户可以以某种方式关闭我的应用程序......他们可以结束进程并且......我需要一些解决方案来向用户隐藏我的应用程序或使其不可关闭我正在考虑类似网络通知图标或 Windows 中的时钟，我阅读了有关资源管理器扩展的信息，但它们对我没有帮助，因为它们已经可以通过我需要应用程序开始在计算机启动上工作的方式关闭自动
感谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:08:44.957

将您的观察者作为 Windows 服务执行，并提供一个用户 gui，该用户 gui 仅通过使用某种进程间通信从服务向用户提供一些视觉反馈。如果用户关闭 gui，服务仍然在后台运行。

但是，如果您的用户具有本地管理员权限，他们总是可以以某种方式停止您的程序（或服务），否则他们将不再是系统的管理员。

# objective-c - 如何更改 UIImageView 同名图片

> ID：11716614
> 
> 赞同：-1
> 
> 时间：2012-07-30T06:53:06.970
> 
> 标签：objective-c, uiimageview, xcode4.3

我用代码创建了一个图像：

```
UIImageView *Event01 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Event01.jpg"]];
Event01.frame = CGRectMake(4, 48, 75, 75);
Event01.contentMode = UIViewContentModeScaleAspectFill;
Event01.clipsToBounds = YES;
[self.view addSubview:Event01]; 
```

但是我决定更改图像并删除图像并上传其他具有相同名称的图像，但是当我构建它时有旧照片。那么我应该怎么做才能更新 UIImage？

因为我在 MainStoryboard 上工作过，所以我删除了 Image 的名称，然后我上传了新的，然后我把名称放到了 imageview 中。

谢谢您的帮助，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:58:00.000

我很确定它应该仍然有效；您可能不小心删除了新图像？首先将新图像重命名为 Event02，然后更改代码以反映它；也许那么它会起作用？我认为这更像是个人错误而不是编码问题。确保在删除图像时将其移至垃圾箱，并在上传图像时确保将其添加到构建目标中。

# jquery - jquery 1.8.2 zip 有版本 1.4.2 js 文件

> ID：11716625
> 
> 赞同：0
> 
> 时间：2012-07-30T06:53:39.203
> 
> 标签：jquery, jquery-ui

我首先通过官方 jQuery 页面中提供的链接下载 jquery-ui-1.8.2.zip，然后从谷歌来源下载。解压后，它们都包含“jquery-1.4.2.js”。

我正在尝试使用应该在 1.8 包中的“自动完成”功能，但是当使用提到的 zip 中的文件时，我只得到“TypeError: $("#inputId").autocomplete is not a function”。

好像jquery文件确实和名字说的一样。

我还尝试加载早期版本的 jQuery (1.8.16)。zip 有“jquery-1.6.2.js”。

现在请解释是否有原因。对我来说，这似乎是错误的。我们的项目目前使用的是 jQuery 1.7.2。

版本 1.8.14 zip 也有 jquery-1.5.1.js。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:03:44.477

您将 jQuery 与 jQuery-UI 混淆了。jQuery的最新版本是1.7.2，jQuery-UI的最新版本是1.8.22。jQuery-UI 至少需要 jQuery 1.3.2 才能运行，因此请确保在页面中包含这两个文件，并首先加载 jQuery。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T06:58:37.780

它对我有用，Jquery1.8 它必须是你的浏览器缓存，无论如何你所要做的就是下载它并用最新版本的 jquery 替换 jquery ...

# macos - 找出具有特定 OSX 版本的 Mac App Store 应用程序的用户数量

> ID：11716629
> 
> 赞同：1
> 
> 时间：2012-07-30T06:53:49.343
> 
> 标签：macos, mac-app-store

我知道有很多工具可以收集 iOS 应用程序统计信息，但我想专门找出通过 App Store 分发的 Mac 桌面应用程序的统计信息。很高兴看到操作系统版本细分（当然，总体而言 - 无需了解个别情况），以便了解何时/是否是放弃对特定操作系统版本的支持的好时机。

# c#-4.0 - JavaScript 函数不适用于 webbrowser.document.body.innerhtml

> ID：11716631
> 
> 赞同：0
> 
> 时间：2012-07-30T06:54:09.013
> 
> 标签：c#-4.0, webbrowser-control

我正在使用网络浏览器来显示一些数据。

当我使用此代码更改 Web 浏览器控件内容时：

```
webbrowser.document.body.innerhtml=htmlbody; 
```

我的 JavaScript 函数不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:20:34.213

我相信`innerHTML`以这种方式进行更改会破坏 DOM，因此 JavaScript 将不再起作用。

我有同样的问题。如果您尝试更改正文，我发现最简单的方法是将 JavaScript 注入您的页面，而无需以这种方式更改 HTML。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-20T13:03:30.947

我得到了解决方案，我将 j 查询函数放在正文中，我的问题解决了：D

# ria - “智能客户端应用程序”和“富互联网应用程序”有什么区别？

> ID：11716633
> 
> 赞同：1
> 
> 时间：2012-07-30T06:54:13.850
> 
> 标签：ria, rich-internet-application, smartclient

“智能客户端应用”和“富互联网应用”有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-29T08:23:29.337

这篇文章解释得很好： http: [//www.codeproject.com/Articles/7409/Building-Smart-Client-using-NET](http://www.codeproject.com/Articles/7409/Building-Smart-Client-using-NET)

![具有智能客户端功能的维恩图](../Images/5a52266f2cd047702bd2491585adb884.png)

# php - 计算页面加载时间的不同方法之间的差异

> ID：11716634
> 
> 赞同：-2
> 
> 时间：2012-07-30T06:54:16.220
> 
> 标签：php, performance

**第一种方法**

```
$start = microtime(true);

// code

$end = microtime(true);

echo 'This page loaded in '.round($end - $start, 4).' sec'; 
```

**第二种方法**

```
$time = microtime();
$time = explode(' ', $time);
$time = $time[1] + $time[0];
$start = $time;

// code

$time = microtime();
$time = explode(' ', $time);
$time = $time[1] + $time[0];
$finish = $time;
$total_time = round(($finish - $start), 4);
echo 'This page loaded in '.$total_time.' sec'; 
```

它们之间有什么区别，哪个更好？你还有其他建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T06:57:53.713

主要区别在于第一个示例不适用于**PHP4**，而第二个示例可以（请参阅手册的[更改日志](http://php.net/manual/en/function.microtime.php#refsect1-function.microtime-changelog)部分）。如果您的代码预计不会在 PHP4 上运行（我认为不应该有新代码），那么您可以使用第一个代码，它的速度会稍微快一些，因为它做的更少。

# jquery - 异步上传包含其他表单内容的文件

> ID：11716640
> 
> 赞同：0
> 
> 时间：2012-07-30T06:54:39.927
> 
> 标签：jquery, html, ajax

我正在使用[ajax 文件上传](http://www.phpletter.com/Our-Projects/AjaxFileUpload/)来上传文件以及其他表单内容，但它似乎不起作用。

```
 $.ajaxFileUpload({
    url: './uploadtest.php',
    secureuri: false,
    fileElementId: 'userfile',
    dataType: 'json',
    success: function (data, status) {
        if (data.status != 'error') {
            $('#userfile').val('');
        }
    }
}); 
```

问题是其他表单内容（如文本字段）未提交。是否可以使用 AJAX 一次性提交？

```
<form id="myform" method="post" accept-charset="utf-8" enctype="multipart/form-data">
<input type="file" name="userfile" size="20" id="userfile" />
<input type="text" name="nameuser" size="20">
<br /><br />
<button id="test">Send</button> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:22:05.040

试试[ajaxForm](http://malsup.com/jquery/form/)。这支持文件上传。

检查[这个](https://stackoverflow.com/a/425109/513101)答案。

# jquery - 如何使 sj 自动完成器作为选择框的显示值和选定值不同？

> ID：11716642
> 
> 赞同：0
> 
> 时间：2012-07-30T06:54:54.383
> 
> 标签：jquery, autocomplete, jquery-autocomplete, jquery-ui-autocomplete

我们正在使用 Sj:Autocompleter 标签（选择框=true）。在这里，我们必须在列出的数据（显示文本）中显示不同的值，当用户单击其中任何一个时，所选数据的值应填充在自动完成器文本框中。

我们如何使用 sj:autocompleter 和 selectbox=true ？

例子：

以下是自动编译器中列出的数据 (ListValues)

```
 "Apple - Known for it's innovative Design"       
    "MicroSoft - Known for it's usability    "       
    "Intel - Known for it's processors       " 
```

当我选择这些文本中的任何一个时，我们只想在 sj:autocompleter 文本中填充“Apple”或“Microsoft”或“Intel”。我们将这些文本保留为 listKeys。

在选择列表值时，我想在选择框中显示列表键。

如果是这样，谁能告诉我如何实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T08:13:50.700

我们能够通过订阅 onSelectTopics、拦截它并覆盖该值来实现它。

第 1 步：订阅 sj:select 框的 onSelectTopics
第 2 步：编写将在 onSelectTopics 期间调用的 javascript 函数
第 3 步：设置 data.item.value='melon';

```
 <sj:select
                    name="fruitFamily"
                    href="%{fruitFamilyList}"
                    formIds="mainform"
                    list="fruitsList"
                    listKey="fruitFamily"
                    listValue="fruitFamily"
                    parentTheme="simple"
                    autocomplete="true"
                    selectBoxIcon="true"
                    cssClass="selectBox"
                    loadingText="user defined loading...."
                    onSelectTopics="check"/>

$.subscribe('check', function(event,data)
{
    data.item.value='melon';
    }); 
```

# c++ - boost::program_options：如何指定不带“--”或“-”的命令

> ID：11716645
> 
> 赞同：15
> 
> 时间：2012-07-30T06:55:11.837
> 
> 标签：c++, boost, boost-program-options

我正在使用 boost::program_options 来实现具有以下语法的命令行实用程序：

```
myutil command [--in file_name] [---out file_name] 
```

其中“命令”是强制性的，并且是以下之一：

```
read | write | find | version | help 
```

问题是“命令”不应该需要`--`，或者`-`我还没有找到如何使用 boost::program_options 来做到这一点。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-30T07:01:59.457

没有名称的命令行选项称为**[位置选项](http://www.boost.org/doc/libs/1_39_0/doc/html/program_options/tutorial.html#id2891824)**：

```
po::positional_options_description p;
p.add("command", -1);
po::variables_map vm;
po::store(po::command_line_parser(ac, av).
          options(desc).positional(p).run(), vm); 
```

# vbscript - 系统如何计算以获取 VB 中的 NumberOfLogicalProcessors

> ID：11716647
> 
> 赞同：0
> 
> 时间：2012-07-30T06:55:27.593
> 
> 标签：vbscript, windows-server-2008

对于**Intel(R) Core(TM)2 Quad CPU Q8400 @ 2.66GHz**型号 cpu，我将**NumberOfCores**和**NumberOfLogicalProcessors**都设为 4 。

我想知道系统是如何计算**NumberOfLogicalProcessors**的？

我应该用什么来获得实际的 cpu 数量？

操作系统：win2k8 R2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:33:40.190

这取决于您所说的*实际 CPU*的含义。

`Win32_Processor\NumberOfCores`*指定物理*CPU 内核的总数。一个芯片可以包含一个或多个 CPU 内核。

`Win32_Processor\NumberOfLogicalProcessors`*指定虚拟*CPU 内核的总数。一个*物理*CPU 内核中可以有两个或多个*虚拟*CPU 内核。在 x86 兼容计算机上，这仅在 Intel 的[超线程](http://en.wikipedia.org/wiki/Hyper-threading)CPU 中可用。

 *另一方面，指定安装在多处理器主板上的*物理*`Win32_ComputerSystem\NumberOfProcessors`处理器芯片的总数。

 *与`Win32_ComputerSystem\NumberOfLogicalProcessors`相同`Win32_Processor\NumberOfLogicalProcessors`。**

# html - 我的网站似乎以非常“不完整”的方式加载。有任何解决这个问题的方法吗？

> ID：11716648
> 
> 赞同：0
> 
> 时间：2012-07-30T06:55:30.777
> 
> 标签：html, css, tumblr

我是这个网站的新手，但我听说 Stack Overflow 是最好和最有帮助的地方。我的问题确实是 CSS 和 html 的问题（我认为），如果我让你们中的任何一位专家感到无聊，很抱歉……我的网站[http://RapReports.com](http://RapReports.com)似乎以不完整/断断续续的方式加载，非常没有吸引力。它基于我确实有 html/css 的预编码主题。知道问题可能是什么吗？也许白色背景设置为白色图像而不仅仅是白色背景？

如果您指定要查看的标签，我将很乐意发布代码片段。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:06:28.850

它是一个缓慢的网络服务器和大约 130 个请求中的 1.70 MB 数据的组合。你可以做什么：

1.  尝试合并和缩小 JavaScript
2.  清理你的 HTML
3.  将 CSS 放在一个单独的文件中。
4.  使用 firebug 之类的工具，并查看网络选项卡
5.  等等..你会在谷歌找到资源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:13:41.013

把你的javascript放在页面底部...

# php - 作为 symfony 在小部件中添加 html

> ID：11716649
> 
> 赞同：0
> 
> 时间：2012-07-30T06:55:31.370
> 
> 标签：php, symfony-1.4, symfony-forms

我制作了一个用于输入电话号码的小部件，从`sfWidgetFormInputText`. 目标是添加`<span>+7<span>`.

如何实施？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T13:08:27.867

您的小部件类：

```
class MyWidgetFormInputPhoneNumber extends sfWidgetFormInputText 
{

    public function render($name, $value = null, $attributes = array(), $errors = array())
    {
        return '<span>+7</span> '.parent::render($name, $value, $attributes, $errors);
    }
} 
```

# objective-c - NSManagedObject 子类是否可以具有相同类类型的关系？

> ID：11716650
> 
> 赞同：0
> 
> 时间：2012-07-30T06:55:35.490
> 
> 标签：objective-c, ios5, core-data

我正在使用 CoreData，我想知道我是否可以拥有这种类型的关系：

我有一个`NSManagedObject`名为`Station`. 在这个类中，我想添加一个名为`nextStation`Station 类型的关系。这在 CoreData 中可能吗？

如果没有，我该怎么做才能执行我想要的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T10:02:35.000

是的，当然，反身关系是可能的！

来自苹果文档：

> 关系指定目标处对象的实体或父实体。这可以与源处的实体相同（自反关系）。

有关详细信息，请参阅[Apple 文档](http://developer.apple.com/library/mac/#documentation/cocoa/Conceptual/CoreData/Articles/cdRelationships.html#//apple_ref/doc/uid/TP40001857-CJBDBHCB)和[关系部分](http://developer.apple.com/library/mac/#documentation/General/Conceptual/CocoaEncyclopedia/ObjectModeling/ObjectModeling.html)。

# ios - 在封闭路径上绘制 CGGradient

> ID：11716651
> 
> 赞同：2
> 
> 时间：2012-07-30T06:55:37.753
> 
> 标签：ios, quartz-graphics, cgpath

如何在视图内的封闭路径上绘制 CGGradient？我试图绘制渐变，但是，它是在视图本身上绘制的，而不是仅在我在视图内填充的 CGPath 内。我只想在填充路径上绘制渐变，而不是在视图本身上。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:03:25.343

1.  保存上下文的状态。
2.  将路径设置为上下文中的剪辑区域。
3.  绘制渐变。
4.  恢复上下文的状态。

例子：

```
CGContextSaveGState(context);
CGContextAddPath(context, myPath);
CGContextClip(context);
CGContextDrawLinearGradient(context, gradient, startPoint, endPoint, kNilOptions);
CGContextRestoreGState(context); 
```

# java - 直接运行 shell 命令和从 shell 脚本 sh 文件运行的区别

> ID：11716654
> 
> 赞同：2
> 
> 时间：2012-07-30T06:55:48.330
> 
> 标签：java, shell, background-process

我有一个`java program`我正在从标准输入读取

```
BufferedInputStream bis = new BufferedInputStream(System.in);
byte[] b = new byte[1];
int cmd = bis.read(b);
System.out.println("Read command: " + new String(b)); 
```

和一个`shell script`启动停止这个程序

```
'start')
if [ -p myfifo ]; then
    rm myfifo
    rm myfifo-cat-pid
fi
mkfifo myfifo
cat > myfifo &
echo $! > myfifo-cat-pid
java -jar lib/myJar.jar >/dev/null 2>&1 0<myfifo &
echo `date +%D-%T` $! >> process.pid
echo "Started process: "$!
;;

'stop')
echo 0 > myfifo
echo "Stopped process: "
rm myfifo
;; 
```

当我在开始时一一运行命令时，程序会一直等到我在 fifo 上回显。但是当我从 .sh 文件运行它时，它会立即从标准输入中读取。不明白如果直接在命令提示符下运行命令与我创建一个 .sh 文件然后运行它有什么区别

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:33:51.023

区别不在于`Java`侧面，而是在于您的 shell 在启动脚本时处理作业控制的方式不同。来自`man bash`：

```
JOB CONTROL
   Job  control  refers  to  the ability to selectively stop (suspend) the
   execution of processes and continue (resume) their execution at a later
   point.   A  user  typically  employs  this  facility via an interactive
   interface supplied jointly by the operating  system  kernel's  terminal
   driver and bash. 
```

正如[这里](https://stackoverflow.com/questions/690266/why-cant-i-use-job-control-in-a-bash-script)所解释的，默认情况下，脚本中的作业控制是禁用的。

在`cat > myfifo &`交互式 shell 中执行时，它保持在“已停止”模式，等待再次置于前台（使用`fg`）。相反，当在脚本中启动时，作业控制被禁用，因此，一旦`cat`尝试从（分离的）终端读取，它就存在，关闭管道（并且您的`Java`进程读取`EOF`）。

如果您`set -m`在 shell 脚本的顶部使用（因此启用强制作业控制），您应该会看到一致的行为。

```
set [+abefhkmnptuvxBCEHPT] [+o option-name] [arg ...]
  -m      Monitor mode.  Job control is enabled.  This option is on by
          default for interactive shells on systems  that  support  it
          (see JOB CONTROL above).  Background processes run in a sep‐
          arate process group and a line containing their exit  status
          is printed upon their completion. 
```

# actionscript-3 - Flash 管理服务器与 Flash 媒体服务器

> ID：11716655
> 
> 赞同：0
> 
> 时间：2012-07-30T06:55:55.893
> 
> 标签：actionscript-3, flash-media-server

我安装了 Flash Media Server，并且可以看到两个服务：

1.  闪存媒体服务器
2.  Flash 媒体管理服务器

结果在我的控制面板的服务列表中。我可以理解，Flash Media Server。但是第二个是关于什么的，即：“Flash Media Administration Server？”

Thnx V.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T21:41:44.613

它是用于监控和调试闪存媒体服务器的工具。您可以实时查看日志，停止/启动/重置您的应用程序，停止/重置服务器，关闭/监控用户连接。- 除其他事项外。在开发 FMS 应用程序时非常方便。

# asp.net - Using DropDown_SelectedIndexChanged to bind gridview, but paging is not working

> ID：11716657
> 
> 赞同：0
> 
> 时间：2012-07-30T06:56:04.790
> 
> 标签：asp.net, drop-down-menu, paging, selectedindexchanged

I have a DropDownList which is having few list items. Every time I select any item, based on it I am binding a gridview, hence resulting gridview depends on my selection. Some results are exceeding the pagesize hence I need to navigate on 2nd page in GridView, however the GridView is disappeating when I am selecting 2nd page.

```
 protected void DDL_SelectedIndexChanged(object sender, EventArgs e)
 {
    string constr = ConfigurationSettings.AppSettings["ConnectionInfo"];
    SqlConnection con = new SqlConnection(constr);

    con.Open();
    string str = string.Empty;
    str = "SELECT * FROM Table1";

    SqlDataAdapter adp = new SqlDataAdapter(str, con);

    DataSet ds = new DataSet();
    adp.Fill(ds, "myds");

    BusinessKPIGrid.DataSource = ds;
    BusinessKPIGrid.DataBind();
}

 protected void OnGridViewPaging(object sender, GridViewPageEventArgs e)
 {
    //I know I need to bind the gridview here, but how ?
    BusinessKPIGrid.PageIndex = e.NewPageIndex;
    BusinessKPIGrid.DataBind();
 } 
```

I don't know how to bind the gridview in paging event, since I do not have any separate binding function.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:07:09.307

there is a separate function for page event for grid view..create separate method for binding grid & call that method on pageindexchange event..

```
protected void BusinessKPIGrid_PageIndexChanging(object sender, GridViewPageEventArgs e)
{
    BusinessKPIGrid.PageIndex = e.NewPageIndex; 
     bindyourgrid();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:10:39.193

try this

```
protected void DDL_SelectedIndexChanged(object sender, EventArgs e)
{
    string constr = ConfigurationSettings.AppSettings["ConnectionInfo"];
    SqlConnection con = new SqlConnection(constr);

    con.Open();
    string str = string.Empty;
    str = "SELECT * FROM Table1";

    SqlDataAdapter adp = new SqlDataAdapter(str, con);

    DataSet ds = new DataSet();
    adp.Fill(ds, "myds");
    ViewState["ds"]=ds;
    BusinessKPIGrid.DataSource = ds;
    BusinessKPIGrid.DataBind();

}

  protected void OnGridViewPaging(object sender, GridViewPageEventArgs e)
    {
        //I know I need to bind the gridview here, but how ?
        BusinessKPIGrid.PageIndex = e.NewPageIndex;
         BusinessKPIGrid.DataSource = (DataSet)ViewState["ds"];
        BusinessKPIGrid.DataBind();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:10:48.477

From DDL_SelectedIndexChanged if you are searching some thing then use 'PageIndexChanging' and set the page size for it

```
protected void gvworker_PageIndexChanging(object sender, GridViewPageEventArgs e)
    {
        gvworker.PageIndex = e.NewPageIndex;
        //result got from ddl list i.e bind your data set
    } 
```

# python - 硒网格的每个节点可以运行不同的脚本/测试吗？- 如何设置？

> ID：11716677
> 
> 赞同：0
> 
> 时间：2012-07-30T06:58:15.400
> 
> 标签：python, testing, selenium

selenium 网格的每个节点可以运行不同的 python 脚本/测试吗？- 如何设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T08:47:04.370

是的，在集线器中使用不同的浏览器配置，并使用两个或多个程序与不同的浏览器联系网格

# opengl - 关于透视投影的一些困惑

> ID：11716678
> 
> 赞同：0
> 
> 时间：2012-07-30T06:58:22.967
> 
> 标签：opengl, graphics, perspective

我刚刚了解了透视投影，并且发现在 openGl 中应用它有点令人困惑。

考虑一个简单的 Square 。
在使用透视投影之前，我可以在 [-1,1] 空间中定义其顶点的坐标，输入为 {0.0f,0.0f,0.0f,1.0f,1.0f,1.0f,1.0f,0.0 f} ，正方形将占据窗口的第一象限。
考虑我的代码中的以下部分：

设置矩阵：

```
 glm::mat4 mvp(1.0);
    mvp*=glm::perspective(45.0f,1.0f,0.01f,100.0f); 
```

制服：

```
 loc = glGetUniformLocation(program.getHandle(),"mvp");
    glUniformMatrix4fv(loc,1,GL_FALSE,glm::value_ptr(mvp)); 
```

顶点着色器：

```
 #version 330
    in vec2 pos;
    uniform mat4 mvp;
    void main()
    {
        gl_Position = mvp*vec4(pos,0.0f,1.0f);
    } 
```

但是，结果是一个空白屏幕。
我需要在这里应用哪些额外的转换？
另外，顶点数据应该在哪个坐标中？

这是完整的代码：

```
#include "program.h"
#include <GL/glew.h>
#include <SFML/Window.hpp>
#include <stdexcept>
#include <iostream>
#include <glm/glm.hpp>
#include <glm/gtc/type_ptr.hpp>
#include <glm/gtc/matrix_transform.hpp>
#include <glm/core/type.hpp>

void GlewInit()
{
        GLenum err = glewInit();
        if (GLEW_OK != err)
        {
                std::cerr<<"Error: "<<glewGetErrorString(err)<<std::endl;
                throw(std::runtime_error("GLEW_INIT Failure."));
        }
}
int main()
{
    sf::Window win(sf::VideoMode(400,400),"Manasij");
    GlewInit();
    float vertexdata[]={0.0f,0.0f,0.0f,1.0f,1.0f,1.0f,1.0f,0.0f};
    GLubyte indexdata[]={0,1,2,3};
    float colordata[]={0.3f,0.0f,0.5f,1.0f};
    mm::Program program
    (
        {
            mm::Shader(GL_VERTEX_SHADER,"vshader.vert"),
            mm::Shader(GL_FRAGMENT_SHADER,"fshader.frag")
        }
    );

    glm::mat4 mvp(1.0);

    mvp*=glm::perspective(45.0f,1.0f,0.01f,100.0f);

    GLuint vao,vbo,ibo;
    glGenVertexArrays(1,&vao);
    glBindVertexArray(vao);

    glGenBuffers(1,&vbo);
    glBindBuffer(GL_ARRAY_BUFFER,vbo);
    glBufferData(GL_ARRAY_BUFFER,8*sizeof(GLfloat),vertexdata,GL_STATIC_DRAW);

    glGenBuffers(1,&ibo);
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,ibo);
    glBufferData(GL_ELEMENT_ARRAY_BUFFER,4*sizeof(GLubyte),indexdata,GL_STATIC_DRAW);

    glVertexAttribPointer(0,2,GL_FLOAT,GL_FALSE,0,0);
    glEnableVertexAttribArray(0);
    glBindAttribLocation(program.getHandle(),0,"pos");

    glUseProgram(program.getHandle());
    auto loc = glGetUniformLocation(program.getHandle(),"col");
    glUniform4fv(loc,1,colordata);
    loc = glGetUniformLocation(program.getHandle(),"mvp");
    glUniformMatrix4fv(loc,1,GL_FALSE,glm::value_ptr(mvp));
    glUseProgram(0);

    glClearColor(1.0f,1.0f,1.0f,1.0f);
    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LESS);
    while(win.isOpen())
    {
        glClear(GL_COLOR_BUFFER_BIT);
        glUseProgram(program.getHandle());
//      glDrawArrays(GL_QUADS,0,4);
        glDrawElements(GL_QUADS,4,GL_UNSIGNED_BYTE,nullptr);
        glUseProgram(0);

        win.display();
        sf::Event eve;
        while(win.pollEvent(eve))
            if(eve.type==sf::Event::Closed)
                win.close();
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:38:07.937

> 但是，结果是一个空白屏幕。我需要在这里应用哪些额外的转换？

您会看到最后两个`glm::perspective`调用参数，它们定义了近剪辑距离和远剪辑距离。您的正方形位于 Z=0 处，无需进一步转换，因此会超出查看体积。解决方案：将 seqare 沿 -Z 方向移动几个单位。

请注意对近值和远值的以下约束：

*   绝对（远）> 绝对（近）> 0

*   sgn(近) = sgn(远)

如果**sgn(near) = sgn(far) = -**您还必须交换深度范围的符号，或者将深度测试功能更改为 GL_LESS。

由于深度缓冲区分辨率不是线性分布的，而是以类似 1/z 的方式分布

*   abs(near) 应尽可能大
*   abs(far) 应该尽可能小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T12:51:10.810

也许这个网站可以帮助你，它解释了 OpenGL 中投影矩阵的设置：

[http://www.songho.ca/opengl/gl_projectionmatrix.html](http://www.songho.ca/opengl/gl_projectionmatrix.html)

# scala - 查看边界和模棱两可的隐式转换错误

> ID：11716681
> 
> 赞同：2
> 
> 时间：2012-07-30T06:58:38.577
> 
> 标签：scala, implicit-conversion

这是我之前发布的[模糊隐式转换错误的一个更简单的版本](https://stackoverflow.com/questions/11707005/ambiguous-implicit-conversion-errors)

这是帖子中的代码片段[如何在 Scala 中链接隐式？](https://stackoverflow.com/questions/5332801/how-can-i-chain-implicits-in-scala)

```
class A(val n: Int)
class B(val m: Int, val n: Int)
class C(val m: Int, val n: Int, val o: Int) {
  def total = m + n + o
}

object T2 {
  implicit def toA(n: Int): A = new A(n)
  implicit def aToB[A1 <% A](a: A1): B = new B(a.n, a.n)
  implicit def bToC[B1 <% B](b: B1): C = new C(b.m, b.n, b.m + b.n)

  // works
  println(5.total)
  println(new A(5).total)
  println(new B(5, 5).total)
  println(new C(5, 5, 10).total)
} 
```

现在，如果我如下添加一个类`D`和隐式`dToC`定义，我会在代码段中显示的位置出现错误。

```
class A(val n: Int)
class B(val m: Int, val n: Int)
class D(val m: Int, val n: Int) //Added by me
class C(val m: Int, val n: Int, val o: Int) {
    def total = m + n + o
}

object T2 {
  implicit def toA(n: Int): A = new A(n)
  implicit def aToB[A1 <% A](a: A1): B = new B(a.n, a.n)
  implicit def bToC[B1 <% B](b: B1): C = new C(b.m, b.n, b.m + b.n)
  implicit def dToC[D1 <% D](d: D1): C = new C(d.m, d.n, d.m + d.n)  //Added by me

  println(5.total) //Ambiguous implicit conversion error
  println(new A(5).total) //Ambiguous implicit conversion error
  println(new B(5, 5).total) //Ambiguous implicit conversion error
  println(new C(5, 5, 10).total) 
} 
```

我不明白say 的转换函数`bToC`和可能的转换函数如何。`dToC``println(new B(5, 5).total)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T14:00:29.983

视图边界显然被转换为一个额外的隐式函数参数。所以两者都`bToC`被`dToC`翻译成`[T](x: T)(implicit f: T => Something): C`

问题是编译器忽略了歧义检查中隐式参数的存在/不存在。

```
case class Foo[A](value: A)
implicit def foo[A](x: A)(implicit ev: Any =:= String) = Foo(x)
implicit def bar[A](x: A)(implicit ev: Any =:= Int) = Foo(x)
1.value //Ambiguous though none are applicable 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-30T08:39:20.497

> (1) 整数=>A=>B=>C
> 
> (2) 整数=>A=>D=>C

可以选择2条路径，编译器不知道该走哪条路径，这就是为什么会引发模糊隐式转换错误的原因。

# c# - 从 2 个表中选择行的所有组合

> ID：11716684
> 
> 赞同：2
> 
> 时间：2012-07-30T06:58:51.013
> 
> 标签：c#, datatable, cartesian-product

我有两个这样的数据表：

dt1：

```
 ID1
----------
    1
    2
    3
    4
    5
    6
    7
    8
    9
    10 
```

dt2：

```
 ID2
----------
    1
    2
    3
    4
    5 
```

现在，我想从这两个数据表中检索项目的所有组合，以便结果将包含 50 (10 x 5) 行 - 如下所示：

dt结果：

```
ID1     ID2
------------
1        1
1        2
1        3
1        4
1        5
2        1
2        2
2        3
2        4
2        5
3        1
.        .
.        .
.        . 
```

有什么简单的方法而不是使用循环？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T07:11:16.627

您正在寻找笛卡尔积。采用`CROSS JOIN`

```
Select a.ID1, b.ID2 
FROM   dt1 A CROSS JOIN dt2 B 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-30T07:05:01.357

做一个完整的加入：

```
Select a.ID1, b.ID2 FROM dt1 A,dt2 B 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-30T09:34:16.797

林克：

```
var combinedRows = from a in dt1.AsEnumerable()
                   from b in dt2.AsEnumerable()
                   select new { ColumnID1 = a["ID1"], ColumnID2 = b["ID2"] };
        foreach (var item in combinedRows)
        {
            row = dt3.NewRow();
            row["ID1"] = item.ColumnID1;
            row["ID2"] = item.ColumnID2;
            dt3.Rows.Add(row);
        } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-30T07:41:47.700

采用

```
 DataTable dt1 = new DataTable();
            dt1.Columns.AddRange(new DataColumn[] { 
            new DataColumn("ID1") });

            for (int i = 0; i < 10; i++)
                dt1.Rows.Add(i + 1);

            DataTable dt2 = new DataTable();
            dt2.Columns.AddRange(new DataColumn[] { 
            new DataColumn("ID2") });

            for (int i = 0; i < 5; i++)
                dt2.Rows.Add(i + 1);

            var queryOne = from row in dt1.AsEnumerable()
                           from row1 in dt2.AsEnumerable()
                           select new
                           {
                               id1 = row.Field<string>("ID1"),
                               id2 = row1.Field<string>("ID2")
                           };

            var result = queryOne.ToList(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-21T10:14:43.107

谢谢大家，但我已经通过 LINQ 中的 Foreach 方法解决了它。

# python - 为什么 str.split 不接受关键字参数？

> ID：11716687
> 
> 赞同：31
> 
> 时间：2012-07-30T06:58:59.920
> 
> 标签：python, standard-library, cpython, string-split

我遇到了这个 - 在我看来 - 奇怪的行为：

```
"a b c".split(maxsplit=1)
TypeError: split() takes no keyword arguments 
```

为什么 str.split() 不接受关键字参数，即使它是有意义的？我在 Python2 和 Python3 中都发现了这种行为。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-07-30T07:07:14.610

请参阅[此错误](http://bugs.python.org/issue8626)及其[取代者](http://bugs.python.org/issue8350)。

`str.split()`是 CPython 中的本机函数，因此表现出[此处](http://docs.python.org/dev/reference/expressions.html#calls)描述的行为：

> **CPython 实现细节：**实现可以提供其位置参数没有名称的内置函数，即使它们是出于文档目的而“命名”的，因此不能由关键字提供。`PyArg_ParseTuple()`在 CPython 中，在 C 中实现的用于解析其参数的函数就是这种情况。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-07-30T07:07:05.763

`str.split`是用 C 实现的内置方法。不幸的是，一些内置函数/方法不接受关键字参数。请参阅[此错误报告](http://bugs.python.org/issue1176)。

# c# - 使用 Null 更新位域

> ID：11716691
> 
> 赞同：0
> 
> 时间：2012-07-30T06:59:09.187
> 
> 标签：c#, asp.net, sql

一旦我尝试使用 null 更新位字段，就会收到此错误。请注意，从技术上讲，该位设置为“允许空”。

收到此错误：'System.DBNull' 类型的对象无法转换为'System.Nullable' 类型

当我这样做时：

```
 e.NewValues.Add("IdleBlock", DBNull.Value); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:00:40.027

尝试使用实际`null`而不是`DBNull.Value`. 正如您在错误消息中看到的那样，它试图将后者转换为 a `null`，所以我猜 EF 想要一个适当的 null 值并自行处理转换。

**编辑**：错误，实际上我认为我在这里错了。它想要一个`System.Nullable`非空值。尝试将新的 System.Nullable 传递给它，并将其`Value`设置为`null`?

# php - 如何使用 PHP 从给定的数据库结构中打印二叉树？

> ID：11716692
> 
> 赞同：0
> 
> 时间：2012-07-30T06:59:10.077
> 
> 标签：php, mysql, database, binary-tree

我有一个这种格式的 MySQL 数据库：

表名：btree_mst 字段：id、parent_id、left_node_id、right_node_id、user_name

现在我要做的是以无序列表格式打印它，如下所示

*   根节点
    *   节点 A
        *   节点 A 左
        *   节点 A 右
    *   节点 B
        *   节点 B 左
        *   节点 B 右

我试图为此创建一个递归函数，但没有按预期工作。有什么建议么 ？

这是我制作的代码，[http](http://pastebin.com/X15qAKaA) ://pastebin.com/X15qAKaA 这段代码中唯一的错误是，它每次都打印 UL。它应该仅在级别更改时打印。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:50:02.000

如果您的数据库中没有有序列表，则递归是合适的。

```
class A
{
    private $a = array(
        array(
            'id' => 1,
            'parent_id' => 0,
            'title' => 'ROOT'
        ),
        array(
            'id' => 2,
            'parent_id' => 1,
            'title' => 'A'
        ),
        array(
            'id' => 3,
            'parent_id' => 1,
            'title' => 'B'
        ),
        array(
            'id' => 4,
            'parent_id' => 2,
            'title' => 'A left'
        )
    );//your database values

    public function buildTree()
    {
        $aNodes = array();
        $iRootId = 1;//your root id
        foreach ($this->a AS $iK => $aV)
        {
            if($aV['id'] == $iRootId)
            {
                unset($this->a[$iK]);
                $aNodes[$aV['id']] = $aV;
                $aNodes[$aV['id']]['childs'] = $this->getChilds($aV['id']);
            }

        }

        print_r($aNodes);//print tree
    }

    private function getChilds($iParentId)
    {
        $aChilds = array();
        foreach ($this->a AS $iK => $aV)
        {
            if($aV['parent_id'] == $iParentId)
            {
                unset($this->a[$iK]);
                $aChilds[$aV['id']] = $aV;
                $aChilds[$aV['id']]['childs'] = $this->getChilds($aV['id']);
            }

        }

        return $aChilds;
    }

}

$o = new A();
$o->buildTree(); 
```

# c++ - 用于傻瓜的 Linux 线程。有人可以解释linux中多线程库之间的区别吗？

> ID：11716695
> 
> 赞同：3
> 
> 时间：2012-07-30T06:59:23.323
> 
> 标签：c++, linux, multithreading

linux 和 c++ 新手。我想创建一个只需要在 linux (ubuntuz) 上运行的应用程序，我需要使用基本的读写锁。

我看到有一些库提供“并发功能”。例如，要使用互斥锁，至少有 3 个选项：

1.  pthread_mutex_lock (pthread.h)

2.  升压::互斥

3.  std::mutex (互斥量)

有人可以解释各种方法之间的区别吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:13:56.453

`std::mutex`是标准库的一部分。每个 C++ 编译器/库供应商都可以自由地以他们喜欢的任何方式实现它。Posix 的库实现更可能不仅仅是在底层使用 pthreads，而例如 Windows 库将使用 Windows API 原语。

如果可以，请使用`std::mutex`，但如果您还没有 C++11 支持，请编写自己的 SBRM 类来包装 pthread 互斥锁和锁定原语，或者在可行的情况下使用 Boost（例如，如果您的项目已经使用 Boost） . 无论如何，这一切都会归结为同一件事。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T07:14:13.437

*   pthreads 是一个 C-API，可用于所有符合 posix 的系统（`pthreads`代表`Posix THREADS`）。

*   boost::mutex 是一个仅 C++ 的 API，它依赖于“boost”库（你不能在 C 代码中使用它；你添加了对“boost”的依赖）

*   boost 中的许多特性最终都会出现在 C++ 标准库中，例如线程；使用 C++11，你有 std::mutex，但你需要一个足够新的编译器来支持最近的添加。例如，如果您希望您的应用程序可向后移植到较旧的发行版，您可能希望避免使用它。

# php - Wordpress 获取帖子 AJAX 无限滚动

> ID：11716698
> 
> 赞同：0
> 
> 时间：2012-07-30T06:59:40.103
> 
> 标签：php, ajax, wordpress, wordpress-theming, infinite-scroll

我正在一个网站[http://www.matchlessphotography.com](http://www.matchlessphotography.com)上工作，该网站有大量的照片展示 - 它可以使用很长时间......

![在此处输入图像描述](../Images/190c6d117a32ce38ead9cef82bf48562.png)

本质上，客户希望这种情况无限期地继续下去。

我不知道如何做到这一点，并且看了一些教程没有任何轴承......

* * *

这就是我目前获取帖子的方式：

```
<?php

        global $post;

        $args = array('numberposts'     => 104, 'meta_key=visible&meta_value=yes');
        $myposts = get_posts( $args );
        foreach( $myposts as $post ) :  setup_postdata($post); ?>

                <a class="photohovera" href="<?php the_permalink(); ?>">

                <?php $url = wp_get_attachment_url( get_post_thumbnail_id($post->ID) ); ?>            

                    <img src="<?php bloginfo('template_directory'); ?>/timthumb.php?src=<? echo $url ?>&h=138&w=197" width="197" height="138" title="<?php the_title(); ?>" />

                    <span class="spanno">

                        <strong class="title_blog_mini_post">

                        <?php the_title(); ?>

                        </strong>

                    </span>

                </a>

        <?php endforeach; ?> 
```

我想我只需要再做一次，但每次都会增加偏移量......？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:12:40.053

Paul Irishs [jQuery Plugin Infinite Scroll](http://www.infinite-scroll.com/)是这里的必经之路。

该插件会查找分页容器，例如`div.navigation`，以及您要检索的项目的项目容器，就像`.photohovera`您的情况一样。

WordPress 提供了显示分页链接的功能。它被称为[paginate_links](http://codex.wordpress.org/Function_Reference/paginate_links)，它的默认输出应该符合插件的要求。

但是，您需要更改他们现在获取帖子的方式，从 get_posts() 到[WP_Query](http://codex.wordpress.org/Class_Reference/WP_Query)对象：

```
<?php
$args = array('numberposts'     => 104, 'meta_key=visible&meta_value=yes');
$myposts = new WP_Query( $args );
$results = $myposts->get_results();
foreach( $results as $post ) :  setup_postdata($post); ?> 
```

# c# - Excel（字符串）到数据库（时间跨度）

> ID：11716706
> 
> 赞同：0
> 
> 时间：2012-07-30T07:00:08.763
> 
> 标签：c#, database, excel, timespan

我遇到了一个问题，我无法将 Excel 开始时间和结束时间保存到数据库中。对于 Excel，时间类型为“String”，但对于数据库，时间类型为“Time”。有什么方法可以将 Excel 时间保存到数据库中。

这是我将数据保存到数据库中的代码，但它只保存名称和日期，但不保存时间。任何帮助将不胜感激。

```
private void btnSave_Click(object sender, EventArgs e)
    {
        try
        {

            foreach (DataRow dr in dt.Rows)
            {
                string strEmployee = dr["Employee Name"].ToString();
                //store data into employeeshift DB
                using (satsEntities db = new satsEntities())
                {
                    ufi empShift;
                    IList<employeeschedule> employeeList = dict[strEmployee];

                    foreach (employeeschedule es in employeeList)
                    {
                        empShift = new ufi();
                        TimeSpan a = new TimeSpan(Convert.ToInt32(es.startTime.Substring(0,2), Convert.ToInt32(es.startTime.Substring(2,2))));
                        TimeSpan b = new TimeSpan(Convert.ToInt32(es.endTime.Substring(0,2), Convert.ToInt32(es.endTime.Substring(2,2))));
                        empShift.UFISDate = es.day;
                        empShift.EmployeeName = strEmployee;
                        empShift.startTime = a;
                        empShift.endTime = b;
                        db.ufis.AddObject(empShift);
                    }
                    db.SaveChanges();
                }
            }
            MessageBox.Show("Data is stored to database successfully.");
        }
        catch (Exception ex)
        {
            //showMessage("UNABLE to store to database successfully.");
            //show error
        }
    } 
```

由于我的声誉低，我无法发布自己的答案。毕竟，这是让我的代码正常工作的答案。

```
 private void btnSave_Click(object sender, EventArgs e)
    {
            foreach (DataRow dr in dt.Rows)
            {
                string strEmployee = dr["Employee Name"].ToString();
                //store data into employeeshift DB
                using (satsEntities db = new satsEntities())
                {
                    ufi empShift;
                    IList<employeeschedule> employeeList = dict[strEmployee];

                    foreach (employeeschedule es in employeeList)
                    {
                        empShift = new ufi();
                        TimeSpan a = new TimeSpan(Convert.ToInt32(es.startTime.Substring(0,2)), Convert.ToInt32(es.startTime.Substring(2,2)), 0);
                        TimeSpan b = new TimeSpan(Convert.ToInt32(es.endTime.Substring(0,2)), Convert.ToInt32(es.endTime.Substring(2,2)), 0);
                        empShift.UFISDate = es.day;
                        empShift.EmployeeName = strEmployee;
                        empShift.startTime = a;
                        empShift.endTime = b;
                        db.ufis.AddObject(empShift);
                        db.SaveChanges();
                    }

                }
            }
            MessageBox.Show("Data is stored to database successfully.");
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T09:05:17.370

这会有帮助吗

```
 string test = "1234";
        string startTime = test.Substring(0, 2);
        string Endtime = test.Substring(test.Length - 2);
        string NewTime = startTime + ":" + Endtime; 
```

# jquery - 如何使用 jquery 定位从 innerHTML 或 .html() 设置的元素

> ID：11716713
> 
> 赞同：2
> 
> 时间：2012-07-30T07:00:57.580
> 
> 标签：jquery, innerhtml

我有一个 div，其内容是从 innerHTML 动态生成的，我似乎无法使用 jQuery 来定位这些元素进行验证，例如这是页面：

```
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
</head>
<body>
<span id="alert1">Alert1</span>
<input type="button" value="Click Me" id="button1" />
<div id="empty"></div>
</body>
</html> 
```

这是js代码：

```
<script type = "text/javascript"> 
    $(document).ready(function() {
         $('#button1').click(function() {
             var html = "uname <input type='text' id='uname'><br />password <input type='text' id='password'><br /><span id='alert'>Alert</span>";
             $('#empty').html(html);
         });
         $('#alert').click(function() {
             alert('Alert');
         });
         $('#alert1').click(function() {
             alert('Alert1');
         });
    });
</script>​ 
```

带有 id alert1 的 span 的警报有效，但对于使用 innerHTML 或 .html() 设置的 id alert 无效，那么如何解决这个问题？

先谢谢你了​</p>

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:10:48.823

这里的问题是当你这样写时..

```
 $("#element").click(function() {
        alert("Alert!");
    }); 
```

.. 它只会为执行代码时存在的元素创建事件处理程序。它不会为未来的元素创建事件处理程序，即使它们具有相同的 jQuery 选择器（在本例中为“#element”）。

您需要做的是`.on(event, selector, function)`在父元素上绑定，因为事件“冒泡”层次结构。这样您就可以处理来自指定选择器的未来事件。我个人会这样做：

```
$(document).ready(function() {
     $('#button1').click(function() {
         var html = "<insert lots of html stuff here>";
         $('#empty').html(html);
    });

    $(document).on("click", "#alert", function() {
        alert("Alert!");
    });

    $(document).on("click", "#alert1", function() {
        alert("Alert1!");
    });
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:14:33.080

**你应该使用委托**

```
$(elements).delegate(selector, events, data, handler); 
```

**根据您的代码**

```
$(document).ready(function() {
  $("yourdiv").delegate("#alert, #button, #Alert1", "click", function() {
    alert('Alert');
  });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:05:22.530

使用`.on()`而不是`.click()`在运行时绑定事件。您可以尝试`.live()`，但已弃用。

这是小提琴：http: [//jsfiddle.net/Akyrk/](http://jsfiddle.net/Akyrk/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T07:06:26.713

您必须在将对象添加到 dom 之后附加侦听器！

所以之后`.html(...)`

```
<script type = "text/javascript"> 
$(document).ready(function() {
     $('#button1').click(function() {
         var html = "uname <input type='text' id='uname'><br />password <input type='text' id='password'><br /><span id='alert'>Alert</span>";
         $('#empty').html(html);
         $('#alert').click(function() {
             alert('Alert');
         });
     });

}); 
```

​</p>

`.on()`也是一种选择。如果将侦听器渲染到 dom，您将独立绑定侦听器。但我推荐第一种方法。如果您正在编写更大的应用程序，那么在创建后附加处理程序的方法会更加清晰，然后事件委托会自动附加事件处理程序，您甚至可能没有注意到。对于 1 或 2 没关系，但如果您将多个事件添加到多个对象（标签、类），您可能会失去监督......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T07:08:30.260

使用事件委托绑定点击处理程序，[`.on()`](http://api.jquery.com/on/)用于此

```
 $('#empty').on('click', '#alert1', function() {
         alert('Alert1');
     }); 
```

或者您可以在创建内容后绑定处理程序。

# sqlite - 如何从 tar.gz 安装 SQLite 数据库浏览器

> ID：11716714
> 
> 赞同：-1
> 
> 时间：2012-07-30T07:01:01.933
> 
> 标签：sqlite, makefile, installation

（这是一个简单而愚蠢的问题，但我不知道该怎么做）

我不知道如何安装 .tar.gz 文件。

我在这里下载了“SQLite 数据库浏览器”：http: [//sourceforge.net/projects/sqlitebrowser/](http://sourceforge.net/projects/sqlitebrowser/)

它是一个 tar.gz 文件。

所以我找到了一些关于它的东西，我尝试了“./configue”“make”“makeinstall”，但它们都不起作用。

我敢肯定有一个简单的问题，因为我不知道如何安装它，但人们似乎已经安装了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:07:01.317

作为 Qt 项目，他们使用“qmake”（Qt 开发包附带）而不是配置。

# postgresql - 如何将非空间表连接到 Postgis 数据库中的空间表（两个表都在不同的数据库中）

> ID：11716719
> 
> 赞同：1
> 
> 时间：2012-07-30T07:01:39.343
> 
> 标签：postgresql, join, postgis, postgresql-8.4

我需要将非空间表加入空间表，但两者都在不同的数据库中。

```
Spatial_table (dbname:dist)
吉德
区名
区号
几何

```

```
Non_Spatial (dbname:census)
ID
区号
人口
male_popu
female_popu

```

谁能建议我，如何将上述内容与表格联系起来以获取特定地区人口的查询结果？

也有人可以告诉我两个表的联接和关联之间的区别。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T13:36:16.937

您不能在 PostgreSQL 中进行跨数据库连接。MySQL 使用数据库的方式 PostgreSQL 使用模式。

[虽然有一个名为dblink](http://www.postgresql.org/docs/9.1/static/dblink.html)的附加组件，但它可以让您查询另一个 PG 数据库（甚至在另一台机器上）。

但是，这对于连接不会很有效，因为它必须在一个方向或另一个方向上传输整个表才能进行比较。如果您要定期连接表，它们需要位于同一个数据库中（但可能是单独的模式）。

# android - Titanium - 在 Android 中重新打开 TabGroup 崩溃

> ID：11716723
> 
> 赞同：2
> 
> 时间：2012-07-30T07:02:02.967
> 
> 标签：android, tabs, nullpointerexception, titanium, titanium-mobile

我在 Android 上的 Titanium 2.0.2 GA 移动应用程序中遇到崩溃，其中重新打开选项卡组会因 NullPointerException 而崩溃。

症状与我发现的这些 Jira 非常相似，但我已经在这些 Jiras 中测试了测试代码，它并没有崩溃，但是，我的代码每次测试时都会崩溃。

*   [http://developer.appcelerator.com/question/131195/reopen-tabgroup-causes-activity-reference-is-invalid-removing-from-activity-stack-nullpointerexception](http://developer.appcelerator.com/question/131195/reopen-tabgroup-causes-activity-reference-is-invalid-removing-from-activity-stack-nullpointerexception)
*   [https://jira.appcelerator.org/browse/TIMOB-7573](https://jira.appcelerator.org/browse/TIMOB-7573)
*   [https://jira.appcelerator.org/browse/TIMOB-7240](https://jira.appcelerator.org/browse/TIMOB-7240)
*   [https://jira.appcelerator.org/browse/TIMOB-7572](https://jira.appcelerator.org/browse/TIMOB-7572)

我已经确认上述 jiras 使用提供的测试代码确实是固定的。

我的应用程序是一组模块（消息、联系人、地图和日历），每个模块都配置成一个数组。然后应用程序从数组中创建模块并将返回的窗口对象存储在另一个数组中，该数组在构建图标的主屏幕时进行处理。单击主屏幕上的图标会打开该模块的窗口。

当您单击“联系人”模块（唯一具有选项卡组的模块）时，应用程序会打开该选项卡组，但如果您返回主屏幕然后再次单击“联系人”，它就会崩溃。

例外情况如下：

```
[DEBUG][AndroidRuntime(  345)] Shutting down VM
[WARN][dalvikvm(  345)] threadid=1: thread exiting with uncaught exception (group=0x4001d800)
[ERROR][TiApplication(  345)] (main) [1551,84953] Sending event: exception on thread: main msg:java.lang.NullPointerException; Titanium 2.0.2,2012/05/30 10:21,2ff31a3
[ERROR][TiApplication(  345)] java.lang.NullPointerException
[ERROR][TiApplication(  345)]   at android.content.ComponentName.<init>(ComponentName.java:75)
[ERROR][TiApplication(  345)]   at android.content.Intent.<init>(Intent.java:2678)
[ERROR][TiApplication(  345)]   at ti.modules.titanium.ui.TabGroupProxy.handleOpen(TabGroupProxy.java:293)
[ERROR][TiApplication(  345)]   at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage(TiWindowProxy.java:100)
[ERROR][TiApplication(  345)]   at ti.modules.titanium.ui.TabGroupProxy.handleMessage(TabGroupProxy.java:104)
[ERROR][TiApplication(  345)]   at android.os.Handler.dispatchMessage(Handler.java:95)
[ERROR][TiApplication(  345)]   at android.os.Looper.loop(Looper.java:123)
[ERROR][TiApplication(  345)]   at android.app.ActivityThread.main(ActivityThread.java:4627)
[ERROR][TiApplication(  345)]   at java.lang.reflect.Method.invokeNative(Native Method)
[ERROR][TiApplication(  345)]   at java.lang.reflect.Method.invoke(Method.java:521)
[ERROR][TiApplication(  345)]   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
[ERROR][TiApplication(  345)]   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
[ERROR][TiApplication(  345)]   at dalvik.system.NativeStart.main(Native Method)
[ERROR][AndroidRuntime(  345)] FATAL EXCEPTION: main
[ERROR][AndroidRuntime(  345)] java.lang.NullPointerException
[ERROR][AndroidRuntime(  345)]  at android.content.ComponentName.<init>(ComponentName.java:75)
[ERROR][AndroidRuntime(  345)]  at android.content.Intent.<init>(Intent.java:2678)
[ERROR][AndroidRuntime(  345)]  at ti.modules.titanium.ui.TabGroupProxy.handleOpen(TabGroupProxy.java:293)
[ERROR][AndroidRuntime(  345)]  at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage(TiWindowProxy.java:100)
[ERROR][AndroidRuntime(  345)]  at ti.modules.titanium.ui.TabGroupProxy.handleMessage(TabGroupProxy.java:104)
[ERROR][AndroidRuntime(  345)]  at android.os.Handler.dispatchMessage(Handler.java:95)
[ERROR][AndroidRuntime(  345)]  at android.os.Looper.loop(Looper.java:123)
[ERROR][AndroidRuntime(  345)]  at android.app.ActivityThread.main(ActivityThread.java:4627)
[ERROR][AndroidRuntime(  345)]  at java.lang.reflect.Method.invokeNative(Native Method)
[ERROR][AndroidRuntime(  345)]  at java.lang.reflect.Method.invoke(Method.java:521)
[ERROR][AndroidRuntime(  345)]  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
[ERROR][AndroidRuntime(  345)]  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
[ERROR][AndroidRuntime(  345)]  at dalvik.system.NativeStart.main(Native Method)
[WARN][ActivityManager(   62)]   Force finishing activity au.edu.csu.mobile/org.appcelerator.titanium.TiActivity
[WARN][ActivityManager(   62)] Activity pause timeout for HistoryRecord{45126978 au.edu.csu.mobile/org.appcelerator.titanium.TiActivity}
[INFO][Process (  345)] Sending signal. PID: 345 SIG: 9
[INFO][ActivityManager(   62)] Process au.edu.csu.mobile (pid 345) has died.
[INFO][WindowManager(   62)] WIN DEATH: Window{4512a1f8 au.edu.csu.mobile/org.appcelerator.titanium.TiActivity paused=false}
[WARN][ActivityManager(   62)] Activity destroy timeout for HistoryRecord{45126978 au.edu.csu.mobile/org.appcelerator.titanium.TiActivity} 
```

我想我已经将它缩小到仍然存在于 Ti 代码中的错误或者我如何调用我的 TabGroup 窗口，因为我已经将我的代码减少到了可以想象的最简单、最简单的选项卡组......

我的经验是，使用基本按钮关闭选项卡组，它不会崩溃。我可以关闭并重新打开选项卡组，让我心满意足。但是，如果我使用**Android 后退按钮**，然后重新打开选项卡组，那就是它崩溃的时候。

此外，我注意到（您可以在下面的代码中看到）选项卡组的背景颜色设置为蓝色，但是我第二次重新打开它（当然在使用关闭按钮之后）背景变为黑色......

设置每个模块的代码在这里：

```
csu.module.moduleManager = {};

// Loop through the list of modules and include the 
// main modulename.js file if enabled.
var modules = csu.modules;
var config = csu.config;
for (var i = 0; i < modules.length; i++) {
    var _module = modules[i];
    if (_module.enabled) {
        Ti.include(config.moduleBasePath + _module.name + "/" + _module.name + '.js');
        csu.module.moduleManager[_module.name] = createModuleWindow(_module.name);
        Ti.API.debug('Adding module: [' + _module.name + ']');
    }
}

function createModuleWindow(moduleName) {
    var window = csu.module[moduleName].createMainWindow();
    return window;
}; 
```

前面提到的 createMainWindow() 函数在这里：

```
csu.module.contacts = {};

csu.module.contacts.createMainWindow = function() {

    var tabGroup = Ti.UI.createTabGroup();

    var tabWin = Ti.UI.createWindow({
            exitOnClose: false,
            title: 'blue',
            backgroundColor: 'blue'
        });

    var tabButton = Ti.UI.createButton({
        title: 'close'
    });

    var tab = Ti.UI.createTab({
        title: 'blue',
        window: tabWin
    });

    tabWin.add(tabButton);

    tabButton.addEventListener('click', function(e){
        tabGroup.close();
    });

    var label = Ti.UI.createLabel({
        text: 'I am a tabgroup',
        top: 20
    });

    tabWin.add(label);      

    tabGroup.addTab(tab);
    tabGroup.name = 'Contacts_Main_Window';

    return tabGroup;
}; 
```

打开标签组的代码在这里：

```
menuItem.addEventListener('click', function(e) {
    var moduleWindow = csu.module.moduleManager[module.name];
    Ti.API.debug(moduleWindow);

    // If the module requires login and we're not logged in, stop them!
    if (module.verifyLogin && csu.app.session.isValidSession()) { 
        moduleWindow.open();
    } else if (!module.verifyLogin) {
        Ti.API.debug('Opening Module Window: ' + module.name);
        Ti.API.debug('Module Name: ' + moduleWindow.name);
        moduleWindow.open();
        Ti.API.debug('Module Opened');
    } else {
        // Not logged in...
        var loginAlert = Ti.UI.createAlertDialog({
            buttonNames: ['OK', 'Settings'],
            cancel: 0,
            message: 'You must be logged in to access this section.'
        });
        loginAlert.addEventListener('click', function (e) {
            if (e.cancel === e.index || e.cancel === true) {
                return;
            }

            switch (e.index) {
                case 1:
                    var settingsWindow = csu.ui.createLoginDetailsPane();
                    settingsWindow.open({modal: true});
                    break;
                default:
                    break;
            }
        });
        loginAlert.show();
    }
}); 
```

一些截图来说明场景：

*   主屏幕：http: [//i.imgur.com/Wcu7gl.png](http://i.imgur.com/Wcu7gl.png)
*   点击联系人后：http: [//i.imgur.com/Db2HDl.png](http://i.imgur.com/Db2HDl.png)
*   单击关闭后再次单击联系人：http: [//i.imgur.com/QKfryl.png](http://i.imgur.com/QKfryl.png)
*   按返回按钮然后再次按联系人后崩溃：http: [//i.imgur.com/weGcll.png](http://i.imgur.com/weGcll.png)

我检查了重新打开时窗口对象是否仍然存在，我已经确认自定义参数仍然存在，除此之外，我被卡住了。

在过去的 3 天里，这个问题一直困扰着我，我真的需要解决它。如果有人对以下内容有任何见解：

*   这可能是什么原因，
*   如何解决
*   或者至少; 错误堆栈跟踪的组件和意图部分可能指的是什么

将不胜感激。

**更新：**我已经尝试了建议的解决方法，但我仍然遇到崩溃。我的简单标签组测试只有一个标签。当我添加第二个选项卡时，转到该选项卡，然后在返回联系人之前按硬件返回按钮，它会崩溃。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T20:08:39.577

IIRC，你在android上只能有一个标签组？TI 的 android 上的 tabgroup 已经很久没有接触过了。

# sockets - 如何知道我的套接字连接是否成功？

> ID：11716724
> 
> 赞同：1
> 
> 时间：2012-07-30T07:02:04.120
> 
> 标签：sockets, node.js

我想在 nodejs 服务器启动时做一些事情，或者我会做一些与服务器无关的事情。

但我怎么会知道。没有显示连接状态的属性，并且由于套接字是异步的，我无法通过`try..catch...`

以下是我的客户端代码。

```
 var socket = io.connect('http://localhost:3000/monitor');
  socket.on('message', function (data) {
                 console.log(data);
             }); 
```

任何人都可以告诉我如何`if(is connected).. else..`在这个地方？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:10:05.530

尝试收听以下事件：

```
socket.on( 'connect', function() {

});

socket.on( 'disconnect', function() {

});

socket.on( 'connect_failed', function() {

});

socket.on( 'error', function() {

}); 
```

Socket.io 在触发某些事件时存在一些错误，因此最好听取所有可能意味着连接失败的事件。

# css - CSS: 自定义 Jquery Alert- 透明背景

> ID：11716727
> 
> 赞同：2
> 
> 时间：2012-07-30T07:02:12.447
> 
> 标签：css

我目前正在使用来自此[SITE](http://www.abeautifulsite.net/blog/2008/12/jquery-alert-dialogs/)的自定义 jquery 警报。当警报出现但未成功时，我正在尝试实现灰色透明背景。如何获得覆盖警报框后面整个背景的灰色透明屏幕？这是我的[示例](http://webprolearner.ueuo.com/dropdown-menu/test1.php)

**CSS**

```
<style>
#popup_container {
    font-family: Arial, sans-serif;
    font-size: 12px;
    min-width: 300px; /* Dialog will be no smaller than this */
    max-width: 600px; /* Dialog will wrap after this width */
    background: #FFF;
    border: solid 5px #999;
    color: #000;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
}

#popup_title {
    font-size: 14px;
    font-weight: bold;
    text-align: center;
    line-height: 1.75em;
    color: #666;
    background: #CCC url(images/title.gif) top repeat-x;
    border: solid 1px #FFF;
    border-bottom: solid 1px #999;
    cursor: default;
    padding: 0em;
    margin: 0em;
}

#popup_content {
    background: 16px 16px no-repeat url(images/info.gif);
    padding: 1em 1.75em;
    margin: 0em;
}

#popup_content.alert {
    background-image: url(images/info.gif);
}

#popup_content.confirm {
    background-image: url(images/important.gif);
}

#popup_content.prompt {
    background-image: url(images/help.gif);
}

#popup_message {
    padding-left: 48px;
}

#popup_panel {
    text-align: center;
    margin: 1em 0em 0em 1em;
}

#popup_prompt {
    margin: .5em 0em;
}
</style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:13:08.943

你需要像[这个小提琴这样的东西](http://jsfiddle.net/HFURu/)

'alertblanket' 具有高 z-index 并覆盖整个页面。然后，您的对话框必须具有更高的 z-index 才能位于“alertblanket”之上

**编辑**：您可以通过设置简单地设置该警报库的颜色

```
$.alerts.overlayiOpacity = 0.5
$.alerts.overlayColor = '#AAA' 
```

或者你喜欢的任何东西。另请参阅 jquery.alerts.js 的 .js 文件中的注释

# php - 前序遍历父子动态插入不起作用

> ID：11716731
> 
> 赞同：1
> 
> 时间：2012-07-30T07:02:27.293
> 
> 标签：php, mysql, codeigniter

我有以下数据库：

```
id  name            unit_id lft rgt level
--  --------------  ------- --- --- -----
1   Company Name    1       1   2   0
2   Manager         2       2   9   1
3   HR              3       3   8   2
4   Jr.Manager      5       5   8   2
5   Sr.Manager      8       7   8   2 
```

我想在上面的前序遍历表中插入记录。为此，我使用了以下代码和查询：

```
function addstructure() {
        $level = $_GET['level'] + 1;
        $rgt = $_GET['rgt'] + 1;
        if ($_GET['level'] == 0) {
            $sql = "UPDATE xp_subunit SET lft = lft+2, rgt=rgt+2 WHERE rgt > " . $_GET['rgt'] . "; ";
            $this->db->query($sql);
            $sql = "INSERT INTO xp_subunit SET level=" . $level . ", lft =" . $_GET['rgt'] . ", rgt =  " . $rgt . " , name = '" . $_GET['name'] . "', unit_id='" . $_GET['unit_id'] . "', description='" . $_GET['description'] . "';";
            $this->db->query($sql);
        } else {
            $sql = "UPDATE xp_subunit SET rgt = rgt+2 WHERE rgt > " . $_GET['lft'] . "; ";
            $this->db->query($sql);
            $sql = "INSERT INTO xp_subunit SET level=" . $level . ", lft =" . $_GET['rgt'] . ", rgt =  " . $rgt . " , name = '" . $_GET['name'] . "', unit_id='" . $_GET['unit_id'] . "', description='" . $_GET['description'] . "';";
            echo $this->db->query($sql);
        }
    } 
```

我正在从数据库中获取 lft、rgt 和 level。问题是当我尝试插入记录前。Manager 类别下的 Jr.Manager 和 Sr.Manager 未正确插入。而不是“经理”类别，而是在 HR->Jr.Manager->Sr.Manager 下插入。上面的代码有什么问题？

这是更好理解的图像：

![这是更好理解的图像：](../Images/fdce44f1b9cb2cef0b4cb82834090754.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T10:00:06.387

您首先声明“级别”是您从获取请求中获得的任何级别加一。它总是增加你的水平，所以它把 jr. 人力资源部经理和高级经理。jr.下的经理 经理。

是否有必要从您的获取请求中增加级别？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T10:01:02.837

我稍微修改了你的代码，试试这个：

```
 $name = $_GET['name'];
    $rgt = $_GET['rgt'];
    $lft = $_GET['lft'];
    $level = $_GET['level'] + 1;
    $right = $rgt + 1;

    $sql1 = "UPDATE xp_subunit SET lft = lft+2 WHERE lft >= $rgt ;";
    $this->db->query($sql1);
    $sql2 = "UPDATE xp_subunit SET rgt = rgt+2 WHERE rgt >= $rgt ;";
    $this->db->query($sql2);
    $sql3 = "INSERT INTO xp_subunit (`id`,`name`,`unit_id`,`lft`, `rgt`, `level`)        
values (NULL, '$name', '$unit_id',$rgt, $right, '$level');";
    echo $this->db->query($sql3); 
```

它会为你工作。

# java - 读写java KeyStore

> ID：11716733
> 
> 赞同：0
> 
> 时间：2012-07-30T07:02:33.590
> 
> 标签：java, cryptography, keystore, jca

我的应用程序**只**需要读取私钥（带有关联的公共证书），无需写入 KeyStore，无需更改密码，**无需更改**- 只需读取。有谁知道我可以使用以下代码进行阅读：

```
///doing some actions
KeyStore store = KeyStore.getInstance("foo", "bar");
store.load(iaminputstream, iampwd); // I'M JUST LOADING, I'M NOT GONNA STORE IT!
PrivateKey pk = (PrivateKey) store.getKey(iamalias, iamkeypass);
Certificate cert = store.getCertificate(iamalias);
///contnuing some actions 
```

而不是这个：

```
///doing some actions
KeyStore store = KeyStore.getInstance("foo", "bar");

try{
    store.load(iaminputstream, iampwd); //I'VE LOADED

    PrivateKey pk = (PrivateKey) store.getKey(iamalias, iamkeypass);
    Certificate cert = store.getCertificate(iamalias);

} finally {
    store.store(iamoutputstream, iampassword); //AND I'VE SAVED!
}
///contnuing some actions 
```

证明链接非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:20:18.557

你当然不需要保存它。只是不要忘记处理异常。看一下[javadoc](http://docs.oracle.com/javase/6/docs/api/java/security/KeyStore.html) - load() 调用后没有任何关于需要保存的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:24:35.140

如果你不存储任何东西，你不必打电话`store.store()`

但请记住关闭输入流并处理异常。

# unit-testing - 在单元测试中将对象传递给 struts 动作

> ID：11716743
> 
> 赞同：0
> 
> 时间：2012-07-30T07:03:27.987
> 
> 标签：unit-testing, struts2

我想将 java.util.Date 对象从单元测试传递给 struts 动作。

```
Format frmt = new SimpleDateFormat("yyyy/dd/MM");
Date objStartDate = Calendar.getInstance().getTime();
request.setParameter("startDate", frmt.format(objStartDate)); 
```

我还在java类中创建了新的setter方法，

```
public void setStartDate(String startDate) throws ParseException {
    DateFormat df = new SimpleDateFormat("yyyy/dd/MM");
    this.startDate = df.parse(startDate);
} 
```

我试过这个，但它不起作用。那么我应该如何通过单元测试来传递对象呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T12:15:10.910

您必须使用如下所示的请求参考。

```
 action.servletRequest = new HttpServletRequestSimulator(null); 
```

`action`您的 Action 类的引用在哪里。

我认为这将解决您的问题。

# silverlight - 设置 NumericUpDown 的背景

> ID：11716749
> 
> 赞同：2
> 
> 时间：2012-07-30T07:03:45.927
> 
> 标签：silverlight, xaml

我有以下 XAML：

```
<toolkit:NumericUpDown Background="White"/> 
```

但是，这不会更改控件的背景颜色。我已经尝试在**SpinnerTemplate**上分配背景，但这也不起作用。有什么方法可以让这个控件有背景而不必制作新模板？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T11:14:18.180

无需制作新模板？我不这么认为。

这是否可以完成您需要完成的工作？

```
<toolkit1:NumericUpDown Background="Red" HorizontalAlignment="Left" VerticalAlignment="Top">
    <toolkit1:NumericUpDown.Resources>
        <Style x:Key="NumericUpDownStyle1" TargetType="toolkit1:NumericUpDown">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="22"/>
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FFA3AEB9" Offset="0"/>
                        <GradientStop Color="#FF8399A9" Offset="0.375"/>
                        <GradientStop Color="#FF718597" Offset="0.375"/>
                        <GradientStop Color="#FF617584" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="toolkit1:NumericUpDown">
                        <Grid Background="{TemplateBinding Background}">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="DisabledVisualElement"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisualElement">
                                                <SplineDoubleKeyFrame KeyTime="0" Value="1"/>
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unfocused"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <toolkit1:ButtonSpinner x:Name="Spinner" HorizontalContentAlignment="Stretch" MinWidth="35" VerticalContentAlignment="Stretch">
                                <TextBox x:Name="Text" AcceptsReturn="False" BorderThickness="0" Foreground="{TemplateBinding Foreground}" FontWeight="{TemplateBinding FontWeight}" FontStyle="{TemplateBinding FontStyle}" FontStretch="{TemplateBinding FontStretch}" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" MinWidth="20" TextAlignment="Right" TextWrapping="NoWrap" Text="{TemplateBinding Value}">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <ScrollViewer x:Name="ContentElement" BorderThickness="0" Padding="0"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </toolkit1:ButtonSpinner>
                            <Border x:Name="DisabledVisualElement" Background="#A5FFFFFF" CornerRadius="2.5,2.5,2.5,2.5" IsHitTestVisible="false" Opacity="0"/>
                            <Border x:Name="FocusVisualElement" BorderBrush="#FF45D6FA" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="1,1,1,1" IsHitTestVisible="False" Opacity="0"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </toolkit1:NumericUpDown.Resources>
    <toolkit1:NumericUpDown.Style>
        <StaticResource ResourceKey="NumericUpDownStyle1"/>
    </toolkit1:NumericUpDown.Style>
</toolkit1:NumericUpDown> 
```

关键线是：

```
<Grid Background="{TemplateBinding Background}"> 
```

如果您要经常这样做，您可以将这种风格隐藏在资源字典中。

# javascript - 如何在另一个 js 文件中调用函数或触发将参数作为数据对象在 Jquery 中传递的自定义事件？

> ID：11716750
> 
> 赞同：0
> 
> 时间：2012-07-30T07:03:46.800
> 
> 标签：javascript, jquery, function, object, global-variables

我正在使用 reuqireJS 并且正在努力调用一个函数，该函数位于我需要的 js 文件中。我的主要`app.js`“控制器”需要`(plugin)app.js`，它处理所有插件配置和插件相关功能。

这是从 `app.js`

```
define([], function(){
    var start = function() {
        require(['jquery', 'overrides', 'jqm', 'multiview', 'respond'],function() {

            // globals
            var 
            // PROBLEM attempt at an external plugin function object
            dataTablesExt = {},
            ...;

            // call for (plugin)app.js
            enhanceDataTables = 
                function( page, from ) {
                    var datatable = page.find('.table-wrapper table');                  
                    if ( datatable.length > 0 && datatable.jqmData('bound') != true ) {
                        datatable.not(':jqmData(bound="true")')
                            .each( function() {
                                var that = $(this),
                                tblstyle = that.jqmData("table-style");

                                that.jqmData('bound', true);
                                require(['services/datatables/app'], function (App) {
                                // this calls (plugin)app.js
                                App.render({style: tblstyle, table: that });
                                });
                            });
                        }
                }; 

        // PROBLEM - try to call function "Hello" inside datatables.app
       anotherFunc= 
                function( page, from ) {
                    dataTablesExt.sayHello("john");
                }; 
```

我想我的问题是如何设置全局变量**dataTablesExt**，所以我可以用全局调用的函数“填充”它。这是我在里面尝试的`(plugin)app.js`：

```
define(['services/datatables/app', 'services/datatables/datatables.min'], function( app, datatables ) {
    function render(parameters) {
    ...
    // the function I want to call
    function helloName( name ){
        alert( name );
        };

    // I'm trying to add this function to the global "dataTablesExt"
    dataTablesExt.sayHello = helloName; 
    } 
```

但是……不行。我总是得到：

```
 dataTablesExt.sayHello is not a function 
```

**问题：**
有人可以指出我做错了什么吗？如果这是不可能的，那将是一个替代方案。

我想触发一个自定义事件，但我必须设置一个对象来传递事件，我不知道该怎么做。

感谢帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:12:29.170

知道了。我需要将**dataTablesExt**附加到我正在使用的全局变量中，而不是将其声明为变量。所以像这样：

```
 // globals
        var 
        ...;

        $.dataTablesExt = {}; 
```

然后我可以为它分配功能并调用它们。

# java - 使用 Java 的 WebDriver 中的 getText()

> ID：11716751
> 
> 赞同：0
> 
> 时间：2012-07-30T07:03:59.393
> 
> 标签：java, webdriver, gettext

以下是 HTML 代码：

```
<div id="TITLE" class="text">
<label for="widget_polarisCommunityInput_113_title">Title</label>
<input type="text" name="field(TITLE)" id="widget_polarisCommunityInput_113_title">
<div class="error">This field must not be empty</div>
</div> 
```

我尝试通过将 WebDriver 与 Java 结合使用来获取文本“此字段不能为空”，如下所示：

```
driver.findElement(By.xpath("//div[@id='TITLE']/div")).getText();
driver.findElement(By.xpath("//div[@class='error']")).getText(); 
```

但是，没有检索到任何文本。我该怎么做？我的代码有什么问题？

是的，有一个表格。HTML代码包括如下形式：

```
<form action="http://community.sandbox.no/content/save.do;jsessionid=F2BF733599D8D9F812B89ACBC20D37C5" method="post">
<div id="widget_polarisCommunityInput_113_leftcolumn">
<input type="hidden" value="article" name="articleType">
<input type="hidden" value="published" name="state">
<input type="hidden" value=" " name="successUrl">
<input type="hidden" value="" name="articleId">
<input type="hidden" value="http://sandbox.no/community/article/" name="redirect_url">
<input type="hidden" value="113" name="widget_id">
<div id="TITLE" class="text">
<label for="widget_polarisCommunityInput_113_title">Title</label>
<input type="text" name="field(TITLE)" id="widget_polarisCommunityInput_113_title">
<div class="error">This field must not be empty</div>
</div>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:42:43.617

您可以尝试如下：

driver.findElement(By.xpath("//form/div[@id='widget_polarisCommunityInput_113_leftcolumn']/div[@id='TITLE']/div")).getText();

# php - 在 array_filter 中传递数组而不是回调

> ID：11716752
> 
> 赞同：0
> 
> 时间：2012-07-30T07:04:12.823
> 
> 标签：php

我正在查看这个示例[array_filter 注释](http://www.php.net/manual/en/function.array-filter.php#89384)，他将一个参数传递给 array_filter 作为

```
array_filter($subject, array(new array_ereg("image[0-9]{3}\.png"), 'ereg') 
```

回调如何接受具有多个参数的数组，其中一个是实际的回调函数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:12:49.397

In PHP it is possible to represent a [`callable`](http://www.php.net/manual/en/language.types.callable.php) using an array in the following format.

`array($object, 'methodName')`

The documentation itself states:

> A method of an instantiated object is passed as an array containing an object at index 0 and the method name at index 1.

It is quite common to see this used with the `$this` variable inside objects.

In your example, the first element of the array is created with `new`, and is the **instantiated** object required, and `ereg` is the method.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:12:59.287

The [array_filter](http://php.net/manual/en/function.array-filter.php) functions expects a [callable](http://php.net/manual/en/language.types.callable.php) for it's second parameter. PHP understands an `array($instance, 'methodname')` as callable for instance methods, and `array('classname', 'staticmethodname')` for static methods (or simple `'classname::staticmethod'` since version 5.2.3 .

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:21:43.747

扩展其他答案。在 PHP >= 5.3 中，我们可以使用闭包。

```
$numbers = range(1,10);
$newNumbers = array_filter($numbers, function($value) {
    return ($value & 1) === false;
});
// $newNumbers now contains only even integers. 2, 4, 6, 8, 10. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T07:22:34.130

查看[PHP：回调](http://www.php.net/manual/en/language.types.callable.php)页面。

**当为可调用**参数指定数组时，您正在指定一个**对象**和该对象的**方法**。例如：

```
$object = new MyClass();
array_filter($input, array($object, 'myClassMethod')); 
```

在您提供的示例中：

```
array_filter($subject, array(new array_ereg("image[0-9]{3}\.png"), 'ereg'); 
```

**array_ereg**的新实例是*对象*，而**ereg**是 array_ereg 类的*方法*。

# ruby-on-rails - HAML 无法正确解析我的 Ruby 代码

> ID：11716754
> 
> 赞同：0
> 
> 时间：2012-07-30T07:04:20.720
> 
> 标签：ruby-on-rails, ruby, haml

我正在使用[HAML](https://github.com/haml/haml)，以下代码有效：

```
content = '= User.last.name' #last.name = 'joe'
Haml::Engine.new(content).render >> joe 
```

为什么 HAML 可以正确解析该字符串，但无法正确解析以下字符串？

```
 content = '= User.last.name 
              %title
                  html2haml and multiline titles'

 Haml::Engine.xxxx(content) >> "= User.last.name
                                 <title>
                                   html2haml and multiline titles
                                 </title>" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T01:57:05.587

我不清楚您是否如上所述逐字输入，我认为这会导致缩进问题。

考虑一个herestring：

```
content = <<EOS
= User.last.name 
  %title
    html2haml and multiline titles
EOS 
```

我的猜测是你的字符串有缩进问题；以上工作正常。

^(（[`strip_heredoc`在 Rails 3 中](https://github.com/rails/rails/blob/b422cda2ebfff4032f4c18271e96ad329c413dcc/activesupport/lib/active_support/core_ext/string/strip.rb)有一个，所以你可以缩进这里的字符串，这在源代码中更容易阅读。）)

# email-bounces - powermta 不发送退回邮件

> ID：11716755
> 
> 赞同：0
> 
> 时间：2012-07-30T07:04:22.160
> 
> 标签：email-bounces

我正在使用 powermta - port25 进行批量邮寄。我希望它将退回邮件发送回特定的退回地址。

一些服务器发送配额或非活动用户问题，但我想将所有退回邮件报告发送到退回地址。powermta 为退回邮件创建日志。

有可能实现这一目标吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-04T11:13:15.757

绝对可以将退回的电子邮件发送回特定的电子邮件。

PoweMTA 中有两种类型的退回邮件：

1-) 本地退回消息：如果 PowerMTA 从远程 ESP 收到任何退回消息，它就会生成此消息。几乎 90% 以上的退回邮件都是以这种方式生成的。在这种情况下，您无需执行任何操作。PowerMTA 会从电子邮件地址 MX 向邮件发送包含退回信息和退回诊断消息的电子邮件。

2-) 瞬态退回消息：PowerMTA 不会生成此类消息。当 PowerMTA 连接到远程服务器投递邮件时，远程服务器接收邮件时不会出错，超过一段时间后，远程服务器会直接将退回邮件发送到来自地址的邮件。

如果您添加了任何配置以丢弃来自域的邮件。那是完全不同的故事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-24T17:27:08.783

您要配置的是`deliver-local-dsn`. 该指令指示 PowerMTA 是否为消息生成和传递传递状态通知 (DSN)。

```
<domain *>
    deliver-local-dsn no
</domain> 
```

退回通知被发送到`MAIL FROM`地址。您可以在 Port25 博客文章中阅读更多相关信息：[退回邮件发送到哪里？](https://port25.com/to-where-are-bounce-messages-sent/)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-30T16:47:50.813

我的理解是 power mta 无法执行此功能。

# html - CSS 背景颜色开箱即用

> ID：11716758
> 
> 赞同：0
> 
> 时间：2012-07-30T07:04:42.210
> 
> 标签：html, css, color-picker

我对 jQuery colorPicker 插件触发框的 CSS 有一个小问题。它使用背景图像。当您单击颜色触发框并选择任何颜色时，它会将该颜色显示为触发框的背景。但是背景颜色似乎是开箱即用的，这使它看起来像相同颜色的边框。

背景图像大小为 22x22px，我可以通过将框的高度和宽度定义为小于 22px 来克服这个问题，但这也隐藏了图像的一部分，我不希望这样做。我想保留图像的原始大小（即 22 像素）。

这是 jsfiddle 链接，因为它是一个插件并且有很多额外的代码，所以我不在这里粘贴它。

[http://jsfiddle.net/HaFDF/1/](http://jsfiddle.net/HaFDF/1/)

在这里您可以看到问题：

![在此处输入图像描述](../Images/761e785a15262d924cdab3aaa071b1b3.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:25:02.733

我刚刚玩过 jsFiddle，看起来边框是图像的半透明部分。解决这个问题并不难 - 您只需按照您所说的方式剪切图像（我剪切到 20px 以删除所有 4 个边框），然后使用 CSS 重新应用边框。

我在这里用#777 边框模拟了这个：http: [//jsfiddle.net/HaFDF/3/](http://jsfiddle.net/HaFDF/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:16:58.887

那只是因为样式是为创建的。该插件使用居中的背景图像（垂直和水平）。你可以做的是让你的选择器更小来隐藏这个细边框（使用 20*20 而不是 22*22），并放置你自己的边框。

如果您不想要这种颜色，请将此 css 用于`miniColors-trigger`：

```
.miniColors-trigger {
    height: 20px; //reduced from 22 to 20
    width: 20px; //reduced from 22 to 20
    border: 1px solid #a0a0a0; //put whatever you want
    background: url('http://labs.abeautifulsite.net/jquery-miniColors/images/trigger.png') center no-repeat;
    vertical-align: middle;
    margin: 0 .25em;
    display: inline-block;
    outline: none;
} 
```

[Jsfiddle 在这里更新](http://jsfiddle.net/samsamX/HaFDF/2/)

# iphone - 从 IOS 4.0 中的 UITableViewGroupedStyle 中删除黑边

> ID：11716762
> 
> 赞同：0
> 
> 时间：2012-07-30T07:05:00.367
> 
> 标签：iphone, ios, xcode, ios4

嗨，谁能告诉我如何去除我的 UITableView GroupStyle 角落的黑边。我为我的 UITableView Cell 创建了一个自定义视图。我已经尝试过此代码，但它在 IOS 5 中有效，但在 IOS 4.0 中无效。问题是我已经尝试了所有建议的解决方案，请帮助！
`self.tableView = [UIColor ClearColor];`在 viewDidLoad 在 iOS 5 中工作而不在 IOS 4 中工作是什么问题。
当我在模拟器 5.1 上运行它时，它不显示黑边，但在模拟器 4.3 中显示黑边。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T05:44:56.380

谢谢大家帮助我。

实际上这对我有用

```
self.tableView backgroundcolor = [UIColor ClearColor]; 
```

但我错过了`IBOutlet`tableView 的，所以我将 tableview 的属性与接口 Builder 连接起来，它对我有用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:22:42.810

要从单元格中删除边框：

```
tableView.separatorStyle = UITableViewCellSeparatorStyleNone; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T08:56:06.580

在代码中：

```
tableView.backgroundView = nil; 
```

如果您通过 xib 放置表格：

使**SeparatorStyle = 单行**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-31T06:09:39.440

我用新视图替换了 tableView 的 backgroundView。

然后我依靠 tableView 的 backgroundColor 属性来设置我想要的颜色：

self.tableView.backgroundView = [[[UIView alloc] init] autorelease]; self.tableView.backgroundColor = [UIColor whiteColor];

# android - android：只读文件系统错误

> ID：11716766
> 
> 赞同：0
> 
> 时间：2012-07-30T07:05:14.233
> 
> 标签：android, android-emulator, avd

![在此处输入图像描述](../Images/03d838cea0c2412da08c01a27dac8153.png)

我如何在 sdcard 上推送文件.. sdcard 的权限是 d --- 我删除了旧的 avd 并创建了新的但有同样的问题我也试过[这个](https://stackoverflow.com/questions/5231752/can-not-push-file-into-sdcard-in-android)和[这个](https://stackoverflow.com/questions/8061227/how-to-push-file-from-pc-to-sdcard-in-android-mobile-using-abd-push-command)但仍然面临同样的问题..我进入 android- sdk/tools 并使用了提到的命令

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T08:37:53.617

创建新的 AVD 并给出如下所示的**1024** MiB**大小。**我认为这对你有用

 **![在此处输入图像描述](../Images/1a7036d42eb25eb506fa30fb418d3625.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:46:33.533

在 adb shell 中，尝试这样的命令：

```
mount -o remount rw / 
```

我认为这可以帮助你。^-^**

# border - jfreechart如何去掉边框？

> ID：11716768
> 
> 赞同：2
> 
> 时间：2012-07-30T07:05:25.917
> 
> 标签：border, jfreechart

您好我想删除 jfreechart 图表面板的边框。这是该图形面板的图像![在此处输入图像描述](../Images/7a7bf5fbdbf0e3595c7d635b736d83b0.png)

如何删除该边框的小空间？

请帮我。

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:13:08.557

您需要设置`AxisOffset`

```
CategoryPlot plot =  (CategoryPlot) chart.getPlot();
plot.setAxisOffset(RectangleInsets.ZERO_INSETS); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-15T03:46:32.400

```
plot.setInsets(new RectangleInsets(0,0, 0, 0));
//for parameter
//North,west,south,East 
```

# php - 在 PHP 中运行长期会话和垃圾收集

> ID：11716769
> 
> 赞同：1
> 
> 时间：2012-07-30T07:05:30.203
> 
> 标签：php, session, garbage-collection

我想要的是能够将会话变量保存 12 小时，这样用户就不需要重新登录。

我正在使用这样的东西：

```
if(ini_get('session.gc_maxlifetime') !== 3600*12) {
    ini_set('session.gc_maxlifetime', 3600*12);
}
if(ini_get('session.cookie_lifetime') !== 3600*12) {
    ini_set('session.cookie_lifetime', 3600*12);
}

session_start(); 
```

我已经回应了 vars 并且它们都设置正确。但是只要浏览器关闭会话就会被破坏并且用户必须登录。

我最近读过（但现在找不到资源），由于垃圾收集，应该为长时间运行的会话 cookie 更改位置文件夹。

我在哪里/如何配置它？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:42:48.027

这段代码看起来不错。您应该首先在客户端检查 PHPSESSID cookie，以确保它确实设置为在 +12 小时后过期。由于您说“只要浏览器关闭会话就会被破坏并且用户必须登录”，因此 cookie 不会设置为在 +12 小时内过期。设置 session.* 变量后是否开始会话？

# java - 是否应该添加 toString() 方法？

> ID：11716774
> 
> 赞同：0
> 
> 时间：2012-07-30T07:06:07.590
> 
> 标签：java, stringbuffer

这是一段代码。

```
List<BDDObject> childlist = savingObject.getChildren("TherapyAreaReference");

if (childlist.size() > 1) {
  for (int i = 0; i < childlist.size() - 1; i++) {
    String newMedcondRefChild = ((String) childlist
            .get(i)
            .getValue( IDDConstants.IDD_THERAPY_AREA_REF_VALUE))
            .toLowerCase()
            .trim()
            .concat(((String) childlist
            .get(i)
            .getValue(IDDConstants.IDD_THERAPY_AREA_REF_TYPE_NAME)) 
            .toLowerCase().trim());
  }
} 
```

IDDConstants 在其中定义了公共静态最终字符串。由于 StringBuffer 更有效，如何将其合并到 concat 操作中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T09:32:18.087

在您问题的代码中，`StringBuffer`/`StringBuilder`不会给您带来任何性能提升，因为您只连接两个字符串。但是，该问题并未说明您对`newMedconfRefChild`. 如果您的实际目标是连接每个循环迭代的字符串，*那么*您应该使用 a `StringBuilder`（`StringBuffer`仅在确实需要时使用，prefer `StringBuilder`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T10:46:14.163

我猜测其目的是生成一个“报告”列表，每个找到的`BDDObject`记录都有一个。基于这个想法，您的代码应该看起来更像这样：

```
public List<String> getReport(List<BDDObject> records) {
List<String> reports = new ArrayList<String>(record.size());
    for (BDDObject record:records) {
    String newMedcondRefChild = String.valueOf(record.getValue( IDDConstants.IDD_THERAPY_AREA_REF_VALUE))
            .toLowerCase()
            .trim() + String.valueOf(record.getValue(IDDConstants.IDD_THERAPY_AREA_REF_TYPE_NAME))) 
            .toLowerCase().trim());
    reports.add(newMedcondRefChild);
    }
    return reports;
} 
```

关于 toString() 是否有用的问题，我认为它适合的唯一地方就是它`BDDObject`本身。它看起来像这样：

```
class BDDObject {
...
    @Override
    public String toString() {
        return String.valueOf(getValue(IDDConstants.IDD_THERAPY_AREA_REF_VALUE)).toLowerCase().trim() + 
            String.valueOf(getValue(IDDConstants.IDD_THERAPY_AREA_REF_TYPE_NAME)).toLowerCase().trim());
} 
```

在这种情况下，创建报告的功能变得微不足道：

```
public List<String> getReport(List<BDDObject> records) {
List<String> reports = new ArrayList<String>(record.size());
    for (BDDObject record:records) {
        reports.add(record.toString());
    }
    return reports;
} 
```

如果您想要的是一个带有所有值的 looooong 字符串，您可以使用 StringBuilder，如下所示：

```
public String getReport(List<BDDObject> records) {
StringBuilder sb = new StringBuilder();
    for (BDDObject record:records) {
        sb.append(String.valueOf(record.getValue( IDDConstants.IDD_THERAPY_AREA_REF_VALUE))
            .toLowerCase()
            .trim());
        sb.append(String.valueOf(record.getValue(IDDConstants.IDD_THERAPY_AREA_REF_TYPE_NAME)) 
            .toLowerCase().trim()));

    }
    return sb.toString();
} 
```

这将返回所有附加的记录。我怀疑它的可读性，但我希望你明白。当您需要以迭代方式构建字符串时（如前面的示例），StringBuilder 很有帮助。StringBuilder 不应用于替换单个 String 操作，例如 :`String a = b.get() + c.get();`考虑到编译器在这些情况下隐式创建 StringBuilder，因此不会实现实际的性能改进。

# sql - 使用两列的 T-SQL“不在哪里”

> ID：11716775
> 
> 赞同：19
> 
> 时间：2012-07-30T07:06:10.257
> 
> 标签：sql, tsql

我想从表 T1 中选择所有记录，其中列 A 和 B 中的值与表 T2 中的列 C 和 D 没有匹配的元组。

在[使用两列的 mysql “Where not in” 中，](https://stackoverflow.com/questions/8435107/mysql-where-not-in-using-two-columns)我可以阅读如何使用表格 select A,B from T1 where (A,B) not in (SELECT C,D from T2) 来完成此操作，但在 T-SQL 中失败对我来说导致“'，'附近的语法不正确。”。

那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-07-30T07:09:07.290

使用相关子查询：

```
 ... 
WHERE 
  NOT EXISTS (
    SELECT * FROM SecondaryTable WHERE c = FirstTable.a AND d = FirstTable.b
  ) 
```

确保 SecondaryTable over 上有一个复合索引`(c, d)`，除非该表不包含很多行。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-30T07:09:16.017

您不能使用`WHERE IN`类型语句来执行此操作。

相反，您可以`LEFT JOIN`到目标表 (T2) 并选择 T2.ID 所在的位置`NULL`。

例如

```
SELECT 
    T1.*
FROM
    T1 LEFT OUTER JOIN T2
    ON T1.A = T2.C AND T1.B = T2.D
WHERE
    T2.PrimaryKey IS NULL 
```

只会从 T1 返回在 T2 中没有对应行的行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-08T04:46:59.050

我在 Mysql 中使用它是因为在 Mysql 中没有“EXCLUDE”语句。

这段代码：

1.  将表 T2 的字段 C 和 D 连接到一个新字段中，以便于比较列。
2.  将表 T1 的字段 A 和 B 连接到一个新字段中，以便于比较列。
3.  选择 T1 的新字段的值不等于 T2 的新字段的值的所有记录。

SQL 语句：

```
SELECT T1.* FROM T1 
  WHERE CONCAT(T1.A,'Seperator', T1.B) NOT IN
    (SELECT CONCAT(T2.C,'Seperator', T2.D) FROM T2) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-18T21:26:03.263

这是对我有用的答案示例：

```
SELECT Count(1) 
    FROM LCSource as s
    JOIN FileTransaction as t
    ON s.TrackingNumber = t.TrackingNumber  
    WHERE NOT EXISTS (
        SELECT * FROM LCSourceFileTransaction 
        WHERE [LCSourceID] = s.[LCSourceID] AND [FileTransactionID] = t.[FileTransactionID]
    ) 
```

您会看到两列都存在于 LCSourceFileTransaction 中，但一个出现在 LCSource 中，一个出现在 FileTransaction 中，并且 LCSourceFileTransaction 是一个映射表。我想找到两列的组合不在映射表中的所有记录。这很好用。希望这可以帮助某人。

# jquery - 单击导航链接时的 HTML5 加载数据部分

> ID：11716777
> 
> 赞同：1
> 
> 时间：2012-07-30T07:06:20.287
> 
> 标签：jquery, html

我遇到了一些障碍。我有 4 个导航链接，在内容容器中，我声明了一些部分并相应地标记了它们。我想根据单击的导航链接加载所需的部分。我似乎做错了什么，如果有人能帮我解决这个问题，我将不胜感激。

这是我的 HTML 代码：

```
<!Doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>HTML 5</title>
    <meta name="descript" content="">

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/global.css">

</head>
<body>

<div class="wrapper">
    <!--    HEADER  -->
    <header>
        <section class="header-wrapper">
            <!--    LOGO    -->
            <section class="logo">
                <figure>
                    <a href="#" data-section="#home-section" title="home"><img src="assets/img/global/logo2.png"></a>
                </figure>
            </section>
            <!--    NAVIGATION  -->
            <nav>
                <ul>
                    <li><a href="#" data-section="#about" title="about">ABOUT</a></li>
                    <li><a href="#" data-section="#tech" title="technology">TECHNOLOGY</a></li>
                    <li><a href="#" data-section="#vision" title="vision">VISION</a></li>
                    <li><a href="#" data-section="#press" title="press">PRESS</a></li>                  
                </ul>
            </nav>
        </section>
    </header>

    <!--    CONTENT CONTAINER   -->
    <section id="content" class="content-wrapper">  

        <section id="home" style="width:100%; height:500px; background-color:#ff9900;">
            HOME SECTION
        </section>  

        <section id="about" style="width:100%; height:500px; background-color:#ff9900;">
            ABOUT SECTION
        </section>

        <section id="tech" style="width:100%; height:500px; background-color:#ff9900;">
            TECHNOLOGY SECTION
        </section>

        <section id="vision" style="width:100%; height:500px; background-color:#ff9900;">
            VISION SECTION
        </section>

        <section id="press" style="width:100%; height:500px; background-color:#ff9900;">
            PRESS SECTION
        </section>

        <section id="privacy" style="width:100%; height:500px; background-color:#ff9900;">
            PRIVACY SECTION
        </section>

        <section id="contact" style="width:100%; height:500px; background-color:#ff9900;">
            CONTACT SECTION
        </section>      

    </section>  <!--    CONTENT CONTAINER ENDS HERE     -->
        <!--    CLEAR FOOTER    -->
      <div class="clearfooter"></div>
    </div><!--  WRAPPER ENDS HERE   -->
    <footer>Footer Here.</footer>

<script src="js/jquery-1.7.2.min.js"></script>
<script src="js/modernizr.js"></script>

<script>
$("a").bind("click", function() {
    var id = $(this).data("section");

      $("#content section:visible").fadeOut(function() {
        $("#contnet section").fadeIn();
    });
});
</script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:12:22.093

这可能是工作：

```
$("a").bind("click", function(e) {
    e.preventDefault();
    var id = $(this).data("section");
      $("#content section:visible").fadeOut();
      $(id).fadeIn();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:12:10.300

你在这里有一个错字（contnet）：

```
$("#contnet section").fadeIn(); 
```

那能解决吗？

此外，您永远不会使用`id`您定义的变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:39:03.057

这将毫无疑问地起作用：

```
$("a").on("click", function(e) {
    e.preventDefault();
    var sectionID = '#'+ $(this).data("section");
    $("#content section:visible").fadeOut();
    $(sectionID).fadeIn();
}); 
```

[**见工作小提琴**](http://jsfiddle.net/akhurshid/NuwE6/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-22T12:38:54.473

删除导航数据部分中的“#”

示例：
`data-section="about"`

不是“#about”

# restructuredtext - 在 reStructuredText 的新窗口中打开链接

> ID：11716781
> 
> 赞同：44
> 
> 时间：2012-07-30T07:06:40.403
> 
> 标签：restructuredtext

我想使用 reStucturedText 在新窗口中打开一个链接。这可能吗？

这将在同一窗口中打开链接：

```
You can `check your location here. <http://geoiptool.com>`_ 
```

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-07-30T09:06:08.813

要在新窗口或标签中打开页面，您可以将属性添加`target="_blank"`到超链接，尽管我不确定如何将属性添加到 reStructuredText 中的内联超链接。但是，从 Docutils 常见问题解答中，[可以嵌套内联标记](http://docutils.sourceforge.net/FAQ.html#is-nested-inline-markup-possible)，您可以使用该`raw`指令将原始 HTML 包含到您的文档中，例如

```
You can |location_link|.

.. |location_link| raw:: html

   <a href="http://geoiptool.com" target="_blank">check your location here</a> 
```

### 更新以解决评论

我有一个问题“为什么 reStructuredText 没有 [*插入一些很棒的功能*]”。

在这种情况下，“为什么 reStructuredText 没有办法指定链接的打开方式”——我认为 reStructuredText 没有一种简单的方法来做到这一点，因为单击链接的工作方式实际上并不是它的责任。reStructuredText 转换标记——该标记最终如何显示不取决于 reStructuredText，而是用户选择使用的任何浏览器或查看器。

在 Web 浏览器中打开链接的情况下，良好的可用性实践要求您不应该强迫用户在新选项卡中打开链接（这是添加`target="_blank"`所做的）。相反，您应该将如何打开链接的选择权留给用户。如果用户想在新选项卡中打开链接，那么他们可以使用鼠标中键（或任何他们喜欢的快捷键）。

所以我认为 reStructureText 没有简单的`target="_blank"`功能是完全可以接受的。*对于真正*想要这样做的人来说，这可能是件好事，而这样做会有点痛苦，这对阻止这种做法很有好处。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2020-07-05T15:07:17.530

如果您*不想修改主题*，可以执行 Ivonet 所做的操作，但使用`custom.js`文件`_static/js`夹中的文件，然后将其添加到`conf.py`如下所示：

```
html_js_files = [
    'js/custom.js'
] 
```

`_static/js/custom.js`如果您这样做，请忽略 html 标记：

```
$(document).ready(function () {
   $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
}); 
```

如果您想要更短的版本，这也将起作用。

```
$(document).ready(function () {
    $('a.external').attr('target', '_blank');
}); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2019-08-30T21:13:26.987

我完全同意接受的答案，尤其是 reStructuredText 不负责链接行为的部分。

我仍然想要它，所以它应该在主题中解决。由于我希望我的所有外部链接都在新选项卡中打开，因此如上所述进行操作变得非常麻烦。

在我的情况下，我使用第三方主题（sphinx_rtd_theme），并将以下脚本放在 layout.html 的末尾附近：

```
 <script type="text/javascript">
    <!-- Adds target=_blank to external links -->

    $(document).ready(function () {
      $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
    });
  </script> 
```

它似乎做得很好。希望能帮助到你。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-01-07T11:38:20.197

我建议您应该使用 JavaScript 来设置`target="_blank"`每个外部链接。

见[https://github.com/sphinx-doc/sphinx/issues/1634](https://github.com/sphinx-doc/sphinx/issues/1634)

# java - 在 KeyPress 上更改 JTextField 的大小

> ID：11716785
> 
> 赞同：0
> 
> 时间：2012-07-30T07:06:46.780
> 
> 标签：java, swing, layout, graphics, jtextfield

当用户在 textfield 中输入文本时，我必须在 KeyPressed 事件上扩展 JTextField 的大小。请给我一些想法如何实现这一点？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T12:57:28.260

好的，跳起来:-)

让我们假设问题是

> 如何调整 JTextField 的宽度以始终适合其内容宽度？

通常的合作者

*   一个 LayoutManager，它以他们的首选大小来调整其子项的大小，fi FlowLayout
*   JTextField 报告适合内容的首选项大小
*   预期自动调整大小

快速示例：

```
JTextField field = new JTextField("something");
JComponent parent = new JPanel(); // has FlowLayout by default
parent.add(field);
frame.add(parent);
// just to ensure it's bigger 
frame.setSize(400, 400); 
```

类型 ... 并且没有任何反应：大小保持在初始大小。这很令人惊讶：由于某种原因，该字段的自动验证根本不会发生。事实上，在收到更改通知时手动重新验证字段（注意：这里唯一正确的侦听器类型是 DocumentListener）也不会更改字段：

```
final JTextField field = new JTextField("something");
DocumentListener l = new DocumentListener() {

    private void updateField(JTextField field)
        // has no effect
        field.revalidate();
    }

    @Override
    public void removeUpdate(DocumentEvent e) {
        updateField(field);
    }

    @Override
    public void insertUpdate(DocumentEvent e) {
        updateField(field);
    }

    @Override
    public void changedUpdate(DocumentEvent e) {
   }
};

field.getDocument().addDocumentListener(l);
JComponent parent = new JPanel(); // has FlowLayout by default
parent.add(field);
frame.add(parent);
// just to ensure it's bigger 
frame.setSize(400, 400); 
```

@Gagandeep Bali 发现需要重新验证的是*父母：*

```
private void updateField(JTextField field) {
    field.getParent().revalidate();
} 
```

出乎意料，所以下一个问题是臭名昭著的*为什么*？在这里：为什么在找到 validateRoot 之前，invalidate 不会在容器层次结构中冒泡？答案在 api 文档中：

> 来自文本字段本身的重新验证调用将通过验证文本字段来处理，除非文本字段包含在 JViewport 中，在这种情况下返回 false。

或者换句话说：它没有冒泡，因为该字段本身*是*一个 validateRoot。这留下了另一个选项来覆盖并无条件返回false：

```
JTextField field = new JTextField("something") {

    @Override
    public boolean isValidateRoot() {
        return false;
    }
};
JComponent parent = new JPanel(); // has FlowLayout by default
parent.add(field);
frame.add(parent);
// just to ensure it's bigger 
frame.setSize(400, 400); 
```

为此付出的代价是滚动不起作用 - 在这种情况下这没什么大不了的，因为文本总是适合该字段。或者实现稍微智能一点，如果实际宽度小于首选项，则返回 true。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T11:41:13.203

我能想到的最好的方法是向相关对象添加一个CaretListener [，](http://docs.oracle.com/javase/7/docs/api/javax/swing/event/CaretListener.html)`JTextField`并且随着 长度的变化`Document`，您可以通过调用[setColumns(...)](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html#setColumns%28int%29)`Increase/Decrease`来更改所述的列，这反过来将`JTextField``Increase/Decrease``JTextField`

这是一个向您展示如何实现这一目标的示例：

```
import java.awt.*;
import javax.swing.*;
import javax.swing.event.CaretEvent;
import javax.swing.event.CaretListener;

public class JTextFieldColumnExample
{
    private int columns = 1;
    private JTextField tfield;

    private void displayGUI()
    {
        JFrame frame =  new JFrame("JTextField Columns Example");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final JPanel contentPane = new JPanel();
        tfield = new JTextField();
        tfield.setColumns(columns);
        tfield.addCaretListener(new CaretListener()
        {
            public void caretUpdate(CaretEvent ce)
            {
                int len = tfield.getDocument().getLength();
                if (len > columns)
                    tfield.setColumns(++columns);
                else
                {
                    if (--columns != 0)
                        tfield.setColumns(columns);
                    else
                    {
                        columns = 1;
                        tfield.setColumns(columns);
                    }   
                }   
                contentPane.revalidate();
                contentPane.repaint();
            }
        });

        contentPane.add(tfield);

        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    public static void main(String... args)
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new JTextFieldColumnExample().displayGUI();
            }
        });
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-30T07:09:11.383

取决于您是否使用 LayoutManager。如果没有，`KeyListener`请`JTextField`在`keyRelease`您需要计算字符串的长度（以像素为单位）并确定该字段是否需要更新时附加一个

```
addDocumentListener(new DocumentListener() {

    public void changedUpdate(DocumentEvent e) {
        updateField();
    }

    public void insertUpdate(DocumentEvent e) {
        updateField();
    }

    public void removeUpdate(DocumentEvent e) {
        updateField();
    }

    public void updateField() {

        FontMetrics fm = getFontMetrics(getFont());
        String text = getText();

        int length = fm.stringWidth(text);

        Dimension size = getPreferredSize();
        Insets insets = getInsets();
        if (length < min) {

            size.width = min;

        } else {

            size.width = length + (insets.left + insets.right);

        }

        setSize(size);
        invalidate();
        repaint();

    }

}); 
```

可能更明智的解决方案可能是：

```
addDocumentListener(new DocumentListener() {

    public void changedUpdate(DocumentEvent e) {
        updateField();
    }

    public void insertUpdate(DocumentEvent e) {
        updateField();
    }

    public void removeUpdate(DocumentEvent e) {
        updateField();
    }

    public void updateField() {

        setColumns(getText().length());

    }

}); 
```

我也会注意 kleopatra 和 mKorbel 必须说的话。虽然`KeyListener`这似乎是一个好主意，但在许多情况下它不会被通知 -`setText`这是主要的情况。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-30T07:47:51.860

1) 永远不要使用`KeyListener`for `JTextComponent`, use `DocumentListener`, 没有别的

2) 你可以使用`FontMetrics`, `TextLayout`,`SwingUtilities`

3）调整大小后，您必须通知`LayoutManager`，

4) 如果只有`JTextField`那么用于`pack()`for `Top-Level Container`,

5) 否则（在有多个`JPanel`嵌套 other的情况下`JComponents`）您必须重新布局整个 Container `revalidate()`，`repaint()`然后

*   如果您想使用其内容不断调整大小，`pack()`请致电`Top-Level Container`

*   如果您不想调整大小，但需要`pack()`使用`Top-Level Container``JScrollPane`

6）如果 String 的值可能很长，那么要正确`JTextComponent`使用支持多行输出到 GUI，使用`JTextArea`(in `JScrollPane`) 而不是普通`JTextField`

# ios - 如何在钥匙串数据中加载其他 ios 应用程序？

> ID：11716788
> 
> 赞同：0
> 
> 时间：2012-07-30T07:07:00.740
> 
> 标签：ios, xcode, keychain

目前，我在 iOS Apps 中制作了两个应用程序。

这是我的源代码。

* * *

* *TestProject 源代码 ** --> 写入钥匙串

```
KeychainItemWrapper *idKeyChain = [[KeychainItemWrapper alloc] initWithIdentifier:@"TestProject" accessGroup:@"TestProject.com.test"];

[idKeyChain.keychainItemData setObject:@"testValue" forKey:(id)kSecValueData];

[idKeyChain release]; 
```

* * *

**TestKeyChain 源码**-->加载到钥匙串

```
KeychainItemWrapper *idKeyChain = [[KeychainItemWrapper alloc] initWithIdentifier:@"TestProject" accessGroup:@"TestProject.com.test"];

NSString *username = [idKeyChain objectForKey:kSecAttrAccount];

[idKeyChain release];

NSLog(@"password : %@", username); 
```

* * *

我猜想打印屏幕什么用户名值。 `<password : testValue>`

但是日志的打印.. `<password : >`

目前，我只在这个问题上浪费了三个小时.. 怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:30:53.333

您的设置代码应如下所示：

```
keychainItemWrapper = [[KeychainItemWrapper alloc] initWithIdentifier:KEYCHAIN_ID accessGroup:nil];
[keychainItemWrapper setObject:username forKey:kSecAttrAccount];
[keychainItemWrapper setObject:password forKey:kSecValueData]; 
```

您的获取代码应如下所示：

```
keychainItemWrapper = [[KeychainItemWrapper alloc] initWithIdentifier:KEYCHAIN_ID accessGroup:nil];
NSString *username = [keychainItemWrapper objectForKey:kSecAttrAccount];
NSString *password = [keychainItemWrapper objectForKey:kSecValueData]; 
```

如果您想根据 Apple 文档在应用程序之间共享钥匙串数据，请添加适当的访问组字符串。

祝你好运！

# android - 如何在 android phonegap 项目中的 facebook 注册社交插件中返回我的应用程序？

> ID：11716794
> 
> 赞同：0
> 
> 时间：2012-07-30T07:07:26.120
> 
> 标签：android, facebook, cordova

我已经在[phonegap-plugin-facebook-connect 的](https://github.com/davejohnson/phonegap-plugin-facebook-connect/)帮助下成功地在 android phonegap 项目中实现了 facebook connect 插件。

还使用 iframe 成功实现了 facebook 注册社交插件，第一个示例显示在上面的 facebook url 中。
然后我想出了：- [带有输出](http://i774.photobucket.com/albums/yy29/rajugotame/Screen-Shot-2012-07-30-at-121458-PM.png)
的图像当我单击注册按钮时，它会退出我的应用程序并进入移动默认浏览器并出现撤消和继续按钮，当我单击继续按钮时没有任何反应。

我想要的是在浏览器中单击继续按钮后想要返回我的应用程序。我该怎么做？

单击注册按钮后是否可以在我的应用程序中打开？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:50:18.477

我对 Android 浏览器了解不多，但我认为您可以将点击挂钩到注册 iframe，然后在检测到导航事件时将其关闭。

综上所述，这是一种非常复杂的方法——我只需要简单的本地注册表单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T05:41:33.223

访问 facebook 页面时使用 childbrowser

# java - 是否有与 C++ 中的 JAR 文件类似的东西？

> ID：11716796
> 
> 赞同：2
> 
> 时间：2012-07-30T07:07:31.277
> 
> 标签：java, c++, jar, cmd

这个问题可能听起来有点含糊，但我不知道该如何表达。我想知道你是否可以制作一个`C++`类似于文件的`JAR`文件（因此它独立于 eclipse/cmd 运行）。我还想知道`C++`. 这里没有问题，我只是好奇。

注意：我是一个 C++ 菜鸟，但已经使用 java 编程一年多了。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-30T07:11:46.477

Your Java code is translated into JAR which is bytecode which is translated in run-time to machine code. You can run this file on each platform.

C++ is translated to machine code at the time of compilation. You can't transport compiled executable between platforms. For each platform you need to compile source files again.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-30T07:13:18.693

Short answer: No.

Longer answer: No, because C++ is not platform independent. Even if you use only standard library functions like the standard containers, the executable you create can not run on other systems, sometimes not even on other version of the *same* platform (Linux is known for this).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T07:09:51.600

Yes of course. C++ is a platform independent programming language, which means that you can compile every simple program on every platform, as long as you don't use platform specific features. This means you *can compile* it on every platform. But that does not mean that your executable is cross-platform, like a Java JAR.

When you compile it, you create a native executable. In Windows, it compiles to an `exe`. In Linux / OS X (unix) an extension-free file.

So, it depends on what you really want. (Since your question is a bit vague)

And if you are searching for a single cross-platform solution: the answer is **no**.
If you are searching for a way to make your application start without terminal: the answer is **yes**. (But I don't know how, since I never used Windows)

# apache - SVN 重定位 - 内部文件夹仍然具有较旧的存储库位置

> ID：11716803
> 
> 赞同：2
> 
> 时间：2012-07-30T07:08:09.210
> 
> 标签：apache, svn, tortoisesvn

我已经建立了新的存储库并将所有用户重新定位到新位置。但是一些用户仍然有指向旧存储库的内部文件夹。
**因此，当他们提交时，更改会传播到旧存储库**，而他们的工作副本对此一无所知。
***有什么方法可以检查特定的工作副本是否指向特定的存储库？***
我正在使用 subversion 和 apache 服务器来托管它。TortoiseSVN 在客户端。
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T12:19:25.387

每个路径理论上都可能有自己的 URL。

你可以运行： $ svn info --depth infinity | 在工作副本上 grep 'Repository Root' 以查看所有存储库根。

这应该适用于 1.6 和 1.7

在 SVN 1.7 的低级别，您可以查看 .svn/wc.db 表：

```
$ sqlite3 wc.db 
SQLite version 3.7.11 2012-03-20 11:35:50
Enter ".help" for instructions
Enter SQL statements terminated with a ";"
sqlite> select * from REPOSITORY;
1|file:///tmp/test|0c483d57-60fd-477d-b0c6-ccd144a87a70 
```

并且 NODES 表的所有 repos_id 字段值都为 1。

迁移到 svn://localhost 后，我​​有：

```
sqlite> select * from REPOSITORY;
1|file:///tmp/test|0c483d57-60fd-477d-b0c6-ccd144a87a70
2|svn://localhost|0c483d57-60fd-477d-b0c6-ccd144a87a70 
```

并且 NODES 表的所有 repos_id 字段值现在都更改为 2。

# android - android为一层可绘制图层设置边界

> ID：11716806
> 
> 赞同：4
> 
> 时间：2012-07-30T07:08:43.500
> 
> 标签：android, android-widget, drawable, bounds

我正在尝试将 a`LayerDrawable`用于自定义 UI 小部件，并使用与其他图层不同的边界来绘制一个图层，但它似乎不起作用。本质上，我的代码是这样做的：

```
int left, top, right, bottom;
/*... do some math ... */
Drawable d = mDrawable.findDrawableByLayerId(R.id.some_specific_layer);
d.setBounds(left, top, right, bottom); 
```

同时，xml 看起来像这样：

```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

<item>
    <shape android:shape="rectangle" >
        <solid android:color="#ff999999" />
    </shape>
</item>
<item
    android:id="@id/some_specific_layer"
    android:drawable="@drawable/some_drawable"/> 
```

所以理想情况下，我会在一个灰色矩形上看到 some_drawable，从后面显示的灰色量取决于边界计算的结果。但我从来没有看到任何灰色层，这似乎是因为它的边界也在以某种方式设置。

**编辑**

这是期望与预期结果的视觉效果： ![在此处输入图像描述](../Images/8bc16a48ad6adcf0a64e3189baa42e5e.png)

最上面的图像是我想要实现的；灰色对应于第一层，渐变对应于具有预定义的第二层`id`。实际结果从不显示灰色。

有谁知道是否可以在`LayerDrawable`不影响其他层的情况下设置一层的边界？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T21:19:56.057

我收到了来自 Android Developers Google Group 的一些回复。从本质上讲，没有可靠的方法来做到这一点，`LayerDrawable`因为它管理所有它的 child 的状态`Drawables`。从那以后，我采用了一种使用两个单独的可绘制对象的方法，结果令人满意。这是供参考的讨论线程：

[https://groups.google.com/d/topic/android-developers/fUxtJstdkBM/discussion](https://groups.google.com/d/topic/android-developers/fUxtJstdkBM/discussion)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-16T12:22:18.690

我已经设法用这个代码做了类似的事情，使用 LayerDrawable ：

```
// create first shape
ShapeDrawable shape1 = new ShapeDrawable(new OvalShape());
shape1.getPaint().setColor(0xFFFFFF00);
shape1.setIntrinsicWidth(50);
shape1.setIntrinsicHeight(50);
shape1.invalidateSelf();

// create second shape
ShapeDrawable shape2 = new ShapeDrawable(new OvalShape());
shape2.getPaint().setColor(0xFFFFB400);
shape2.setIntrinsicWidth(20);
shape2.setIntrinsicHeight(50);
shape2.invalidateSelf();

// create layerDrawable (layer-list in xml)
// it containt our 2 shapes and the order in wich they will be drawn (shape2 is on top).
LayerDrawable layerDrawable = new LayerDrawable(new Drawable[]{shape1, shape2});

// ajust position shape1 and shape2
layerDrawable.setLayerInset(0, 0,0,0,0);
layerDrawable.setLayerInset(1, 15,0,15,0); 
```

结果是（在黑色背景上）：

[![](../Images/99b0b656afceb4da93f9411389cad039.png)](https://i.stack.imgur.com/ncvTw.png)

# google-app-engine - 从 db 恢复 BlobReferenceProperty

> ID：11716809
> 
> 赞同：1
> 
> 时间：2012-07-30T07:09:00.990
> 
> 标签：google-app-engine, restore, blobstore

我很难理解如何做一些愚蠢的事情。我有一个像这样的 GAE 模型：

```
class Post(Base):
  img1 = blobstore.BlobReferenceProperty(blobstore.BlobKey, required=False) 
```

这是我用于保存 blob 密钥的方法：

```
post.img1 = blobstore.BlobInfo.get(blob_key).key() 
```

但是当我尝试从 db 恢复 blobstore 密钥时

```
post = model.Post.getThePostInSomeWay()
blob_key = post.img1 
```

抛出以下错误：

文件“/Users/piero/Sviluppo/dataplanner/main.py”，第 240 行，在 display_post_by_id 中

```
 blob_key = post.img1
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py", line 604, in __get__
    return getattr(model_instance, self._attr_name())
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py", line 756, in _attr_name
    return '_' + self.name
TypeError: cannot concatenate 'str' and 'NoneType' objects 
```

请注意，如果我记录整个帖子对象，我会看到 img1 字段

```
INFO     2012-07-30 06:54:43,490 main.py:239] Post(key=Key('Post', 31), allow_comments=True, body=u'<p>Test</p>', created_utc=None, img1=datastore_types.BlobKey('YPeUXQSfL_VqwKZITPtk-w=='), title=Test') 
```

问题是什么？谢谢

# javascript - video fallback using object tag doesn't work with appendChild

> ID：11716822
> 
> 赞同：0
> 
> 时间：2012-07-30T07:10:00.837
> 
> 标签：javascript, internet-explorer, html5-video, flash

I've got a video player application that uses a variant of [video For everybody](http://camendesign.com/code/video_for_everybody). With a HTML5 `<video>` tag enclosing a `<object>` tag for flash falback on internet exploder. It all works well when I do this statically, however when the video elements are built using javascript, it seems that IE9 doesn't like this.

If i use static code like this it works:

```
<video id="video" width="360" height="240>
<source type="video/ogg" src="content/mov1.ogv"></source>
<source type="video/mp4" src="content/mov1.mp4"></source>
<object data="player.swf" type="application/x-shockwave-flash" height="384" width="512">
<param name="movie" value="player.swf" >
<param value="autostart=true&amp;file=/mov1.mp4" name="flashvars">
</object>
</video> 
```

but when I use a javascript function to build the video player as below, it doesn't.

```
function makeV4EPlayer(mp4URL, ogvURL, movieWidth, movieHeight, displayname){
    //create the video element and set its attributes
    var videoObject= document.createElement('video');
    videoObject.setAttribute("id", "video");        
    videoObject.setAttribute("width", movieWidth);
    videoObject.setAttribute("height", movieHeight);

    //add mp4 source
    var mp4Src=document.createElement('source');
    mp4Src.setAttribute("src", mp4URL);
    mp4Src.setAttribute("type","video/mp4");
    videoObject.appendChild(mp4Src);

    //add ogv source
    var oggSrc=document.createElement('source');
    oggSrc.setAttribute("src", ogvURL);
    oggSrc.setAttribute("type","video/ogg");
    videoObject.appendChild(oggSrc);

    //add object with flash player      
    var flashObject=document.createElement('object');
    flashObject.setAttribute("width", movieWidth);
    flashObject.setAttribute("height", movieHeight);
    flashObject.setAttribute("type", "application/x-shockwave-flash");
    flashObject.setAttribute("data","swf/player.swf");
    var params1 = document.createElement('param');
    params1.setAttribute("name", "movie");
    params1.setAttribute("value","swf/player.swf");
    var params2=document.createElement('param');
    params2.setAttribute("name","flashvars");
    params2.setAttribute("value",'autostart=true' + '&file=/' + mp4URL);
    flashObject.appendChild(params1);
    flashObject.appendChild(params2);
    videoObject.appendChild(flashObject);

    return videoObject;
} 
```

The Javascript builds the `<video>` tag just fine, and populates it with all the stuff, it's just that IE won't play it. Of course it works happily on every other browser in the universe.

When I use the IE9 developer tools to inspect the pages I note that in the static version it sees the video tag and the object tag as being siblings - that is the object isn't inside the video tag, but in the javascript version the object is nested inside the video tag. That I believe is the nub of the problem.

I don't think it's relevant, but I'm using the JW Player as my fallback flash player.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:14:39.740

*IE*不支持*ogg*格式（另见[浏览器兼容性页面](https://developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements#Browser_compatibility)），其他浏览器支持。

也许 MP4 URL 不正确或文件损坏？

=== 更新 ===

在以下行中，您使用`imagesrc`的是之前未定义的：

```
params2.setAttribute("value",'autostart=true' + imagesrc + '&file=/' + mp4URL); 
```

你应该先初始化它。

=== UDPATE ===

如果`object`标签不应该在`video`标签中，您必须进行更改，因为您只能返回一个元素。例如，将两者都放在一个包装器元素中：

```
function makeV4EPlayer(mp4URL, ogvURL, movieWidth, movieHeight, displayname){
    // create a wrapper
    var videoWrapper = document.createElement('div');
    videoWrapper.style.width = movieWidth+'px';
    videoWrapper.style.height = movieHeight+'px';
    videoWrapper.style.padding = '0';
    videoWrapper.style.margin = '0';

    //create the video element and set its attributes
    var videoObject= document.createElement('video');
    videoObject.setAttribute("id", "video");        
    videoObject.setAttribute("width", movieWidth);
    videoObject.setAttribute("height", movieHeight);

    //add mp4 source
    var mp4Src=document.createElement('source');
    mp4Src.setAttribute("src", mp4URL);
    mp4Src.setAttribute("type","video/mp4");
    videoObject.appendChild(mp4Src);

    //add ogv source
    var oggSrc=document.createElement('source');
    oggSrc.setAttribute("src", ogvURL);
    oggSrc.setAttribute("type","video/ogg");
    videoObject.appendChild(oggSrc);

    // add video to wrapper
    videoWrapper.appendChild(videoObject);

    //add object with flash player      
    var flashObject=document.createElement('object');
    flashObject.setAttribute("width", movieWidth);
    flashObject.setAttribute("height", movieHeight);
    flashObject.setAttribute("type", "application/x-shockwave-flash");
    flashObject.setAttribute("data","swf/player.swf");
    var params1 = document.createElement('param');
    params1.setAttribute("name", "movie");
    params1.setAttribute("value","swf/player.swf");
    var params2=document.createElement('param');
    params2.setAttribute("name","flashvars");
    params2.setAttribute("value",'autostart=true' + '&file=/' + mp4URL);
    flashObject.appendChild(params1);
    flashObject.appendChild(params2);

    // add flash player to wrapper
    videoWrapper.appendChild(flashObject);

    return videoWrapper;
} 
```

你也可以用[这个 jsfiddle](http://jsfiddle.net/Xc5Vn/)进行测试（我没有 IE9，所以我不能为你做）。

或者，您可以创建两个函数，一个用于视频标签，另一个用于对象标签。

# memory - Huge jump in memory use after calling clGetPlatformIDs

> ID：11716823
> 
> 赞同：1
> 
> 时间：2012-07-30T07:10:01.783
> 
> 标签：memory, opencl

I'm in the process of learning something about openCL, and am having what I hope is not a unique problem (found nothing from google, but..). When I call:

clGetPlatformIDs

from my host program I see a sudden increase in the 'VIRT' memory usage as reported by 'top' to about 45 GB. The values for resident and shared memory don't change noticeably and I'm not completely sure as to what top is reporting here. However, if I repeatedly call a function that runs openCL commands I see some fluctuation in the 'VIRT' memory usage, until openCL calls fail with CL_OUT_OF_HOST_MEMORY. I have 32 GB of memory, so this seems a bit absurd.

I see this in some code (C++) that performs maximum intensity projections on image stacks, but I see exactly the same behaviour in code I took from Erik Smistad's blog.

[http://www.thebigblob.com/getting-started-with-opencl-and-gpu-computing/](http://www.thebigblob.com/getting-started-with-opencl-and-gpu-computing/)

running that example through GDB, the first call to openCL functions has the same effect as in my code:

```
cl_platform_id platform_id = NULL;
cl_uint ret_num_platforms;
cl_int ret = clGetPlatformIDs(1, &platform_id, &ret_num_platforms); 
```

VIRT memory jumps massively (again to about 45 GB).

Since I haven't seen anything like this anywhere, I suspect that there may be something funny about my setup:

openSUSE 12.1 GeForce GTX 560Ti 1024 MB nvidia-computeG02-295.49-17.1.x86_64 but.. CUDA toolkit for openSUSE 11.2 downloaded from NVIDIA, which may expect driver versions 295.41 rather than the 295.49 installed with openSUSE.

I'm hoping someone here has seen a similar problem and has some idea as to what's going on, or some idea as to where to look. I'd very much like to work this out as apart from this issue it's working pretty nicely.

thanks,

Martin

# iphone - _GADAdSizeFromCGSize", referenced from:

> ID：11716824
> 
> 赞同：2
> 
> 时间：2012-07-30T07:10:04.263
> 
> 标签：iphone, ipad, ios5

I just integrated adwhirl to my code and I started receiving this error.

```
_GADAdSizeFromCGSize", referenced from: 
_GADAdSizeFromCGSize", referenced from: -[AdWhirlAdapterGoogleAdMobAds getAd] in AdWhirlAdapterGoogleAdMobAds.o 
```

What could be the possible reason. I have added the possible frameworks.

![Frameworks added](../Images/65019258e9e41b066e3b2a5b1c0448f2.png)

# java - 一个完全可覆盖的 compareTo() 方法？

> ID：11716828
> 
> 赞同：3
> 
> 时间：2012-07-30T07:10:26.497
> 
> 标签：java, equals, compareto

由于必须第一次定义相关对象之间的关系，我发现自己花了整个周末在网上搜索有关`equals()`和`compareTo()`. 在发现很少有用的信息后，我决定自己找到解决方案。我相信以下是该解决方案在`compareTo()`方法方面的体现。我有一个想法，类似的技术也可能适用于该`equals()`方法。

我希望比我更聪明的人有时间验证这些发现并就可能遇到的任何陷阱提供反馈。

```
// The name chosen for the following class shell ("Base") is intended to
// portray that this compareTo() method should be implemented on a base class
// as opposed to a subclass.
public class Base
implements Comparable<Base>
{
    /**
     * Compares this Base to the specified Object for semantic ordering.
     *
     * @param other The Object to be compared.
     *
     * @return An int value representing the semantic relationship between the
     *         compared objects. The value 0 is returned when the two objects
     *         are determined to be equal (as defined by the equals method).
     *         A positive value may be returned if the "other" object is a
     *         Base and the "exact types" comparison determines this Base to
     *         have a higher semantic ordering than the "other" object, if the
     *         "other" object is not a Base, or if the "other" object is a
     *         subclass of Base who's compareTo method determines itself to
     *         have a lower semantic ordering than this Base. A negative value
     *         may be returned if the "other" object is a Base and the
     *         "exact types" comparison determines this Base to have a lower
     *         semantic ordering than the "other" object or if the "other"
     *         object is a subclass of Base who's compareTo method determines
     *         itself to have a higher semantic ordering than this Base.
     */
    public int compareTo(Base other)
    {
        int relationship = 0;

        if (other == null)
            throw new NullPointerException("other: Cannot be null.");

        if (!this.equals(other))
        {
            if (this.getClass() == Base.class)
            {
                if (this.getClass == other.getClass())
                    relationship = // Perform comparison of exact types;
                else
                    relationship = -1 * other.compareTo(this);
            }
            else
                relationship = 1;
        }

        return relationship;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:18:56.980

这行不通。考虑两个类，`A`它们`B`直接扩展`Base`并且其实例从不相等。然后是两个实例`Base a = new A();`和`Base b = new B()`。既然`this.getClass() == Base.class`will be `false`for both `a`and `b`，那么情况就是 that`a.compareTo(b) == 1`和 that `b.compareTo(a) == 1`。这违反了所有人的通用合同并且`Comparable`具有可比性。`sgn(x.compareTo(y)) == -sgn(y.compareTo(x))``x``y`

对于比较对象所涉及的一些微妙之处，特别是测试子类之间的相等性，我推荐[这篇优秀的文章](http://www.artima.com/lejava/articles/equality.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:44:53.003

正如主题启动器中所述，我开始这个项目是因为缺乏详细说明构建干净可覆盖`compareTo()`方法背后的过程的可用信息。我希望您会发现以下是这样的实现。Ted Hopp 给我补充了一些我最初忽略的关键元素。

您会发现 RelationalObject 的实现没有定义任何元素之间的初始关系，除了那些不是来自同一层次分支的元素，它认为这是无法比较的（当然，是可覆盖的）。由于此类可能实现的任何关系都无法考虑其派生类的那些状态元素，因此我确定最好将此任务完全留给用户。

这个类的目的是使更改新子类型（包括当前未实现的子类型）的关系行为变得更容易。

因为我在主题启动器中表达了对文档的渴望，所以我对每种方法进行了大量评论，希望它可以提供一些指导。

我希望有足够时间的人愿意提供这些结果的验证。虽然我已尽力考虑所有可能的情况，但获得反馈总是很好的。（正面或负面）

```
public abstract class RelationalObject
implements Comparable<RelationalObject>
{
    /*
     * Compares two RelationalObjects for semantic ordering.
     *
     * @param other The RelationalObject to be compared.
     *
     * @return An int value representing the semantic relationship between the
     *         two RelationalObjects. A value of 0 is returned if the two
     *         objects are determined to be equal. A negative value is
     *         returned if "this" object is determined to have a
     *         lower semantic ordering than the "other" object. A positive
     *         value is returned if "this" object is determined to have a
     *         highter semantic ordering than the "other" object.
     */
    public final int compareTo(RelationalObject other)
    throws ClassCastException, NullPointerException
    {
        if (other == null)
            throw new NullPointerException("other: Cannot be null.");

        int relation = 0;

        if (!this.equals(other))
        {
            if (this.getClass().isAssignableFrom(other.getClass()))
            {
                if (this.getClass() == other.getClass())
                    relation = this.compareToExactType(other);
                else
                    relation = -1 * other.compareTo(this);
            }
            else
            {
                if (other.getClass().isInstance(this))
                    relation = this.compareToSuperType(other);
                else
                    relation = other.compareToForeignType(this);
            }
        }

        return relation;
    }

    /*
     * Compares two RelationalObjects with the exact same class type for
     * semantic ordering. The comparison may be based upon any of the class
     * state elements so long as the compareTo() method contract is not
     * broken.
     *
     * @param exact The RelationalObject with exactly matching type to be
     *              compared.
     *
     * @return An int value representing the semantic relationship between the
     *         two RelationalObjects.
     */
    protected abstract int compareToExactType(RelationalObject exact);

    /*
     * Compares two RelationalObjects not within the same hierarchical branch
     * for semantic ordering. The comparison may be based upon only those
     * state elements common to both objects (i.e. A comparison must be made
     * between each element and the pair's common ancestor). Should the two
     * results be equal, a ClassCastException must be thrown as the objects do
     * not contain enough distinct information to be further compared.
     *
     * @param foreign The RelationalObject from a foreign hierarchical branch
     *                to be compared.
     *
     * @return An int value representing the semantic relationship between the
     *         two RelationalObjects.
     */
    protected abstract int compareToForeignType(RelationalObject foreign);

    /*
     * Compares two RelationalObjects within the same class hierarchical
     * branch for semantic ordering. The comparison may be based upon any of
     * the class state elements so long as the compareTo() method contract is
     * not broken.
     *
     * @param upper The RelationalObject within the same heirarchical branch
     *              and with lesser definition to be compared.
     *
     * @return An int value representing the semantic relationship between the
     *         two RelationalObjects.
     */
    protected abstract int compareToSuperType(RelationalObject upper);
} 
```

# xsd - importing common attributes in XSD

> ID：11716829
> 
> 赞同：1
> 
> 时间：2012-07-30T07:10:35.707
> 
> 标签：xsd

I have 2 separate XSDs with some common attributes. I want to create another XSD and put all my common attributes in the separate XSD and import them in the 2 XSDs i have already rather than repeating them or duplicating them in both the XSDs.

Is there any reference for such implementation?

Please let me know if any example or link is there..

Thanks

# objective-c - Applying CIFilter to NSImage error

> ID：11716830
> 
> 赞同：0
> 
> 时间：2012-07-30T07:10:37.353
> 
> 标签：objective-c, xcode, image, opengl, filter

I am trying to use CIFilter on NSImage. But I am getting `Thread 1: signal SIGABRT` error at `return NSApplicationMain(argc, (const char **)argv);` when trying to run it. And allot of console entries. Witch looks like this:

```
2012-07-30 10:07:29.696 OGL[962:303] -[NSConcreteData CGImage]: unrecognized selector sent to instance 0x10180fde0
2012-07-30 10:07:29.696 OGL[962:303] An uncaught exception was raised 
```

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:38:20.153

我想到了。我创建 NSBitmapImageRep 错误。它看起来像这样：

```
NSBitmapImageRep *bitmap = (NSBitmapImageRep*)[imageN TIFFRepresentation]; 
```

必须看起来像这样

```
NSData *imgData = [imageN TIFFRepresentation];
NSBitmapImageRep *bitmap = [NSBitmapImageRep imageRepWithData:imgData]; 
```

# c# - 如何反序列化 Nullable ?

> ID：11716838
> 
> 赞同：2
> 
> 时间：2012-07-30T07:11:06.810
> 
> 标签：c#, xml, nullable, xml-deserialization

我正在尝试`Nullable<bool>`从我的 XML 文件中反序列化 a 。我的期望是在我的 XMLElement 中找不到的 XMLAttribute 是`null`，如果找到它，它将是`true`or `false`。序列化也是如此。如果它不为空，我的变量将被写入。

无论如何，每次我试图反序列化我的 XML时，`InvalidOperationException`都会被抛出。

我的课看起来像这样

```
[XMLArray("Users")]
public class User
{
    [XMLAttribute("copy")]
    public bool? copy;
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-30T07:32:59.400

```
[XMLArray("Users")]
public class User
{
    [XmlIgnore]
    public bool? m_copy;

    [XmlAttribute("copy")]
    public string copy
    {
        get { return (m_copy.HasValue) ? m_copy.ToString() : null; }
        set { m_copy = !string.IsNullOrEmpty(value) ? bool.Parse(value) : default(bool?); }
    }
} 
```

我从sylon 链接的帖子的[答案中得到了解决方案。](https://stackoverflow.com/questions/1295697/deserializing-empty-xml-attribute-value-into-nullable-int-property-using-xmlseri)非常感谢！

# android - 空值也插入到 mysql 中的 android

> ID：11716841
> 
> 赞同：1
> 
> 时间：2012-07-30T07:11:31.743
> 
> 标签：android, mysql, web-services, ksoap2

嗨，我已经开发了将值插入到 mysql 数据库。点击按钮后我没有输入详细信息，这意味着也插入了空值。所以请帮助我。这里如何验证。dis 是我的代码：

```
 public class RegisterActivity extends Activity{
private final String NAMESPACE = "http://xcart.com";
private final String URL = "http://192.168.1.168:8085/XcartLogin/services/Insert?wsdl";
private final String SOAP_ACTION = "http://xcart.com/insertData";
private final String METHOD_NAME = "insertData";
Button btninsert;
private Button btn_cancel;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.register);

    btninsert = (Button)findViewById(R.id.btn_insert);

    btninsert.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
         insertValues();
         EditText userName = (EditText) findViewById(R.id.editText1);
         if( userName.getText().toString().trim().equals(""))
         {    
           userName.setError( "username is required!" );
           //You can Toast a message here that the Username is Empty
         }
         EditText userPassword = (EditText) findViewById(R.id.editText2);
         if( userPassword.getText().toString().trim().equals(""))
         {    
             userPassword.setError( "password is required!" );
           //You can Toast a message here that the Username is Empty
         }
        else
        {
           Intent i = new Intent(getApplicationContext(), AndroidLoginExampleActivity.class);
           startActivity(i);
        }

             }
         });

}
public void insertValues(){
 SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
 EditText userName = (EditText) findViewById(R.id.editText1);
 String user_Name = userName.getText().toString();

 EditText userPassword = (EditText) findViewById(R.id.editText2);
 String user_Password = userPassword.getText().toString();

 //Pass value for userName variable of the web service
    PropertyInfo unameProp =new PropertyInfo();
    unameProp.setName("userName");//Define the variable name in the web service method
    unameProp.setValue(user_Name);//Define value for fname variable
    unameProp.setType(String.class);//Define the type of the variable
    request.addProperty(unameProp);//Pass properties to the variable

  //Pass value for userPassword variable of the web service
    PropertyInfo passwordProp =new PropertyInfo();
    passwordProp.setName("userPassword");
    passwordProp.setValue(user_Password);
    passwordProp.setType(String.class);
    request.addProperty(passwordProp);

    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.setOutputSoapObject(request);
    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

    try{
     androidHttpTransport.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

        TextView result = (TextView) findViewById(R.id.textView2);
        result.setText(response.toString());

 }
 catch(Exception e){

 }

}

 }. 
```

网络服务代码是：

```
package com.xcart;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class Insert {

public String insertData(String userName,String userPassword){

try{

  Class.forName("com.mysql.jdbc.Driver");
  Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/xcart-432pro","root","");
  PreparedStatement statement =  con.prepareStatement("INSERT INTO xcart_customers(login,password) VALUES ('"+userName+"','"+userPassword+"');");
  int result = statement.executeUpdate();
  }

  catch(Exception exc){
  System.out.println(exc.getMessage());
  }

  return "Insertion successfull!!";
  }

  } 
```

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:15:55.663

在 oncreate 中只定义 `EditText userName = (EditText) findViewById(R.id.editText1);`一次，并在整个活动中使用它们。在您的代码中，您正在调用 insertValues() 方法，并且您正在插入值而不在此方法中检查空字符串。这就是原因。

您的代码应如下所示

```
public class RegisterActivity extends Activity{

 EditText userName, userPassword ;  // << changes here
private final String NAMESPACE = "http://xcart.com";
private final String URL = "http://192.168.1.168:8085/XcartLogin/services/Insert?wsdl";
private final String SOAP_ACTION = "http://xcart.com/insertData";
private final String METHOD_NAME = "insertData";
Button btninsert;
private Button btn_cancel;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.register);

    btninsert = (Button)findViewById(R.id.btn_insert);
  user name = (EditText) findViewById(R.id.editText1);// << changes here
userPassword = (EditText) findViewById(R.id.editText2);// << changes here

    btninsert.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {

         if( userName.getText().toString().trim().equals(""))
         {    
           userName.setError( "username is required!" );
           //You can Toast a message here that the Username is Empty
         }
         EditText 
         if( userPassword.getText().toString().trim().equals(""))
         {    
             userPassword.setError( "password is required!" );
           //You can Toast a message here that the Username is Empty
         }
        else
        {   insertValues();  // << changes here
           Intent i = new Intent(getApplicationContext(), AndroidLoginExampleActivity.class);
           startActivity(i);
        }

             }
         });
} 
```

# iphone - 如何从 NSURL 中提取数据

> ID：11716846
> 
> 赞同：0
> 
> 时间：2012-07-30T07:12:12.643
> 
> 标签：iphone, objective-c, xcode, nsstring, nsurl

我有以下内容`NSSURL`：

```
myURL - myPlatform://sdk/functionName?key1=value1&key2=value2 
```

如何获取 URL 组件？

```
NSString *myPlatform = [myURL...?
NSString *functionName = [myURL...?
NSString *key1 = [myURL...?
NSString *value1 = [myURL...?
NSString *key2 = [myURL...?
NSString *value2 = [myURL...? 
```

我有这个代码：

```
- (BOOL)webView:(UIWebView *)webView2 shouldStartLoadWithRequest:(NSURLRequest *)request     navigationType:(UIWebViewNavigationType)navigationType {
    NSURL *url= [request URL];
    Log(@"url: %@", url);
    NSArray *components = [url pathComponents];  
    for (NSString *c in components)
        Log(@"URL component: %@", c);
} 
```

这在日志中：url：

> 网址：myPlatform://sdk/functionName?key1=value1&key2=value2
> 
> 零件： /
> 
> 组件：函数名

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:22:16.413

它在文档中：

```
NSString *myPlatfrom = [myURL scheme];
NSString *sdk = [myURL host];
NSString *functionName = [[myURL path] substringFromIndex:1];
NSString *query = [myURL query];
for (NSString *arg in [query componentsSeparatedByString:"&"]) {
    NSArray argComponents = [arg componentsSeparatedByString:"="];
    NSString key = [argComponents[0] stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    NSString value = [argComponents[1] stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
} 
```

# css - vertical text height in css

> ID：11716851
> 
> 赞同：0
> 
> 时间：2012-07-30T07:12:32.537
> 
> 标签：css, text, alignment

How to fix the height of the vertical text? It is not working properly with `line-height or height` property

Here is my demo [http://jsfiddle.net/BsZ8f/1/](http://jsfiddle.net/BsZ8f/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T13:01:24.607

我尝试了代码，但无法弄清楚。我的解决方案是只使用 css2 来创建垂直文本，为此你只需要给 .title 一个固定的宽度，比如 10px 就足以容纳一个字符，这样文本将自动垂直对齐并给出 height: auto; 溢出：自动；以确保高度调整。

# sharepoint-2007 - get last modified date of sharepoint group.

> ID：11716855
> 
> 赞同：1
> 
> 时间：2012-07-30T07:12:50.977
> 
> 标签：sharepoint-2007

1.  How to get last modified date of a sharepoint group.
2.  how to get date when a user is added to a sharepoint group.

thanks for your help.

Arvind

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-06-09T07:46:34.070

您可以通过以下代码获取“创建”和“上次修改”日期：

```
SPList groupInformationList = SPContext.Current.Web.SiteUserInfoList;

SPListItem grpItem = groupInformationList.Items.GetItemById(group.ID); // Pass the ID of group
// OR, SPListItem grpItem = web.SiteUserInfoList.GetItemById(web.SiteGroups["group_name"].ID);

string groupCreationDate = Convert.ToDateTime(grpItem[SPBuiltInFieldId.Created]).ToString("MM/dd/yyyy hh:mm tt"); //Group Creation Date

string groupLastModifiedDate = Convert.ToDateTime(grpItem[SPBuiltInFieldId.Modified]).ToString("MM/dd/yyyy hh:mm tt"); // Group Modification Date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T16:04:21.910

我不知道有一种开箱即用的方法来做到这一点。SPGroup和[SPUserCollection](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spgroup_members.aspx)[类](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spusercollection_members)不包含日期。即使查看内容数据库（不受支持），Groups 或 GroupMembership 表也没有日期。

# javascript-events - 使用 javascript 更新网页而不重新加载页面

> ID：11716856
> 
> 赞同：0
> 
> 时间：2012-07-30T07:12:58.213
> 
> 标签：javascript-events

我试图弄清楚当用户更改同一页面另一部分的输入字段时如何使用 Javascript 更新网页的一部分。但是，因为我使用的是 document.write，所以我不能稍后返回并更新它，除非我重新加载页面。我承认我不太擅长 JavaScript。如果有人可以就如何解决这个问题给我建议，将不胜感激。我希望有一种方法可以在没有 Ajax 的情况下做到这一点，因为这只是一项非常简单的任务，我不希望它变得太复杂。

我的网站有一个 5 步报价计算器，可以显示和隐藏 div 以完成这些步骤，而无需加载/重新加载页面。在最后一步，即第 5 步，我根据第 1 步执行计算并使用 document.write 输出。但是因为我允许用户返回第 1 步并对输入文本字段进行更改，所以当他们返回时，第 5 步的计算变得不正确。

我想避免页面重新加载，因为我正在使用 jQuery 来做一些很酷的过渡效果，你需要完成这些步骤。解决此类问题的最佳方法是什么？

我很乐意自己做一些研究，但我不确定从哪里开始。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:17:57.497

那么您应该在步骤 1 中绑定字段的 onchange 事件的计算，以便自动更新步骤 5 中的字段。

示例：在屏幕 1 中：

```
<input type="text" name="inputFromScreen1" id="input1" onchange="calculateResult()"> 
```

在屏幕 5 中：

```
<div id="results"></div> 
```

JS：

```
function calculateResult()
{
   //parse the values into float or int otherwise you'll get a concatenated string
   var result=parseInt($("#input1").val())+.....;

   //check if your result is a number
   if (!isNaN(result))
       $("#results").html('<p>'+result+'</p>');
} 
```

*注意：我使用 JQuery 是因为它使 dom 操作非常容易并且跨浏览器兼容。[在http://jquery.com/](http://jquery.com/)了解更多信息

# commit - How to commit root folder (all the way down) using svnKit, without providing specific file?

> ID：11716860
> 
> 赞同：2
> 
> 时间：2012-07-30T07:13:09.550
> 
> 标签：commit, svnkit

Using tortoiseSVN, I can commit the root folder, so that all the files that were modified are checked in automatically. In other words - I don't need to commit them one by one, manually. I'd like svnKit to do the same: Providing only a folder (in this case - the root folder), I'd like it to commit all the files that were modified, without me adding them to the code. In many code examples I saw, or answers to relative questions, there were always some references to specific files - or specific ACTIONS (delete, add, change, etc.). Is svnKit capable of doing so?

Thanks in advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T21:29:29.290

这是我使用的代码

```
public static SVNCommitInfo addDirectoryContentToSubversion(final String repositoryURL, final String subVersionedDirectory, final String userName, final String hashedPassword, final String commitMessage) throws SVNException {
        final SVNClientManager cm = SVNClientManager.newInstance(new DefaultSVNOptions(), userName, hashedPassword);
        cm.getCommitClient().doImport(new File(subVersionedDirectory), SVNURL.parseURIEncoded(repositoryURL), "<import> " + commitMessage, null, false, true, SVNDepth.fromRecurse(true));
        return cm.getCommitClient().doCommit(new File[]{new File(subVersionedDirectory)}, false, "<commit> " + commitMessage, null, null, false, true, SVNDepth.INFINITY);
    } 
```

# javascript - how to append two strings in javascript without space?

> ID：11716861
> 
> 赞同：-1
> 
> 时间：2012-07-30T07:13:17.230
> 
> 标签：javascript

I have two strings one brings me a time ie:

```
var gettime= $("#select-choice-2 :selected").text(); 
```

it gives me time in 24 hr format like this

```
17:45 
```

but i want my time to be in a format like

```
17:45:00.000 
```

for which i made a string

```
var ext=':00.000'; 
```

I want these two strings to concatenate in such a way to give me proper result.

**I see now whats the problem is my "gettime" is not a proper string, i tried it to show in alertbox but nothing happens, so please tell me how to convert gettime into a string.**

**I got it "gettime" is a local variable and ext is using in some other function thats why "gettime" was not appearing in alertbox, stupid ehh :p**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:15:55.853

只需使用连接运算符：

```
alert( gettime + ext ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:16:55.547

你只是想把字符串加在一起吗？在这种情况下：

```
var bothstrings = gettime + ext; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:52:41.410

**
范围问题，我现在明白了。gettime 是某个函数中的局部变量，而 ext 保存在不同的函数中，这就是为什么函数 gettime 没有出现在 alertbox 中的原因**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-30T07:25:45.737

如果您直接在字符串之间分配一个来连接它们，某些浏览器可能会导致结果字符串出现`+`换行符。标准的做法是——

```
gettime.concat(ext) 
```

# javascript - 如何检测剪贴板是否可以在 Firefox 中访问？

> ID：11716864
> 
> 赞同：1
> 
> 时间：2012-07-30T07:13:32.873
> 
> 标签：javascript, firefox, clipboard

对于我的 JavaScript 项目，我需要检测剪贴板是否可以访问。因为在 Firefox 中，您需要为每个需要它的站点配置访问权限，否则某些功能（例如`execCommand`with cut、copy 或 paste 属性）无法执行，我需要知道这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:18:15.753

您可以尝试将某些内容保存到剪贴板中。如果它失败了，你知道它是不可访问的。

```
try
{
    // Use some library to save some data into the clipboard.
}
catch (ex)
{
    alert("Your browser seems to block access to the clipboard.");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:28:53.887

默认情况下，Chrome 和 Firefox 不允许访问剪贴板。使用纯 javascript，它不能在 Internet Explorer 以外的其他浏览器中完成。您将需要一个 Flash-shim。

你可以在这里找到一篇关于如何实现跨浏览器兼容的[文章](http://www.deluxeblogtips.com/2010/06/javascript-copy-to-clipboard.html)。

[Zeroclipboard](https://github.com/jonrohan/ZeroClipboard)是一个很好的库。

# javascript - 在 Javascript 中查找坏点的算法

> ID：11716865
> 
> 赞同：6
> 
> 时间：2012-07-30T07:13:34.723
> 
> 标签：javascript, algorithm, math, optimization, csv

我正在尝试创建一种算法，该算法可以从 .csv 格式的强度图中检测和计算坏点。我目前的方法是将我正在测试的像素的值除以右侧的像素值（或者，如果在最右侧，则为左侧的像素值）。如果股息小于某个阈值（当前为 0.9），那么我将其标记为坏点。

我的问题是，是否有更好/更有效的方法来计算像素是否死了？

示例 csv 输出：

```
3183    3176    3207    3183    3212
3211    3197    3198    3183    3191
3193    3177    1135    3185    3176
3175    3184    3188    3179    3181
3181    3165    3184    3187    3183 
```

在此示例中，中间像素将是“死”像素。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:56:36.310

**效率**

您需要至少查看每个像素一次，因此您的运行时间不可能超过当前的[O(n)](http://en.wikipedia.org/wiki/Time_complexity#Linear_time)，其中 n 是像素数。您的算法使用恒定数量的内存，这也是最佳的。

但是，我不确定您的算法是否总是正确的。你有办法避免比较连续的坏点吗？示例输入：

```
3183    3176    1135    1135    3212
                ^ Not detected 
```

**更准确的方法**

我假设您采用相邻像素的强度以避免比较屏幕不同区域中的像素，因为屏幕的亮度可能不会均匀分布。

避免误报的一种方法是取附近几个像素的平均值，但如果该区域中有很多坏像素，这可能不起作用。您可以尝试从一个小区域中的所有像素中取出最大值。这样，只要整个区域中的单个像素没有坏点，就会检测到所有坏点。

您采样的像素数将取决于您对假阴性的容忍度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T08:10:47.230

如果您有一堆坏点，您当前的方法将无济于事。根据用于测试屏幕的图像，它还可能将卡住的像素（具有 100% 强度的像素）误解为有效像素，将周围的像素误解为缺陷。

而是计算数据的总体平均值 µ 和方差 σ ²并将数据解释为[正态分布](http://en.wikipedia.org/wiki/Normal_distribution)。根据[68-95-99.7 规则](http://en.wikipedia.org/wiki/68-95-99.7_rule)，95% 的数据应该在区间 [µ-2σ,µ+2σ] 内。

![标准推导图](../Images/d251f847264802338d2d7606fda2e7fe.png)

让我们看看您的样本并确定这是否适用于您的数据：

```
var arr = "5000 3176 3207 3183 3212 3211 3197 3198 3183 3191 3193 3177 1135 3185 3176 3175 3184 3188 3179 3181 3181 3165 3184 3187 3183".split(" ");
var i = 0;
var avg = 0; // average/mean
var vri = 0; // variance
var sigma;   // sqrt(vri)

for(i = 0; i < arr.length; ++i){
    arr[i] = parseInt(arr[i]);
    avg += arr[i];
}
avg /= arr.length;

for(i = 0; i < arr.length; ++i){
    vri += (arr[i]-avg)*(arr[i]-avg);
}
vri /= (arr.length - 1);
sigma =  Math.sqrt(vri);

for(i = 0; i < arr.length; ++i){
    if(Math.abs(arr[i]-avg) > 2*sigma)
        console.log("entry "+i+" with value "+arr[i]+" probably dead");
} 
```

这将导致坏点（占总像素的 8%）显露出来。请注意，我还添加了一个强度非常高的像素，这可能会卡住：

```
值为 5000 的条目 0 可能已死
值为 1135 的条目 12 可能已死
```

但是，有一个主要缺点，因为这种方法只有在屏幕同样照明的情况下才有效。如果您使用纯白色图像记录强度图，则也无法检测到滞留像素。而且，当然，如果您的数据因为屏幕完全损坏而分散，那么这种方法对您没有帮助。除此之外，它很容易实现。您还可以添加本地检查以过滤误报。

请注意，此算法的固定运行时间为`3*n`.

（该[图](http://en.wikipedia.org/wiki/File:Standard_deviation_diagram.svg)由[Mwtoews](http://commons.wikimedia.org/wiki/User:Mwtoews)创建）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T07:56:46.540

在真实图像中，您似乎可以有一个从亮到暗的合理急剧过渡，反之亦然 - 一条清晰的阴影线过渡到明亮的太阳，或者只是黑色背景下的白色物体的边缘。所以，只看右边的像素很容易产生一些误报。

不太可能产生误报的方法是将一个像素与其周围的至少四个像素（上、下、左、右）进行比较。您将允许一个像素与四个相邻像素中的两个存在明显差异，但不允许一个像素与所有四个相邻像素之间存在明显差异，因为真实图像中的一个像素奇点不太可能出现。

如果您需要一个像素在多个单独的图像（不同主题）中未能通过测试，您甚至可以进一步消除误报。

至于如何进行此计算的详细信息，您可以像您已经提出的那样做一些事情，但是与所有四个邻居进行比较，或者在 Google 搜索“死像素检测算法”会产生大量关于各种想法的文章。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-30T21:42:38.883

如果这是一个现实生活中的问题（我们正在谈论相机中的坏点）：

拍摄大约 5 张照片。如果在大多数图片中一个像素与它的邻居有显着不同的强度（fe 11x11 块的平均值，分别比较 RGB），它几乎肯定是死/卡住了。

# c# - 如何使用循环访问 C# 中的表单元素？

> ID：11716867
> 
> 赞同：1
> 
> 时间：2012-07-30T07:13:38.860
> 
> 标签：c#

```
 if(pictureBox1.Tag.ToString() == "accept")
        {
            char room1 = Convert.ToChar(lbl_roomid1.Text);
            row1[13] = (byte)room1;

            DateTime sdt1 = DateTime.Parse(txt_sdate1.Text);
            //some code
         }
  if (pictureBox2.Tag.ToString() == "accept")
        {
            char room2 = Convert.ToChar(lbl_roomid2.Text);
            row1[13] = (byte)room2;

            DateTime sdt1 = DateTime.Parse(txt_sdate2.Text);
            //some code
         } 
```

/* 如果我想在循环中输入这段代码怎么办？我需要为 10 个图片框做同样的事情 */

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:15:31.367

像这样的东西：

```
 public void DoMagic(Label label, TextBox textBox)
    {
        //...
    } 
```

还有这个：

```
 foreach (Control currentControl in this.Controls)
        {
            if (currentControl is PictureBox)
            {
                if (((PictureBox)currentControl).Tag.ToString().Equals("accept"))
                {
                    string controlId = currentControl.Name.Remove(0, 11);
                    string labelName = string.Concat("lbl_roomid", controlId);
                    string txtName = string.Concat("txt_sdate", controlId);

                    this.DoMagic(this.Controls.Find(labelName, true)[0] as Label, this.Controls.Find(txtName, true)[0] as TextBox);
                }
            }
        } 
```

问候

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T07:19:32.650

您可以制作一个元素数组。

以下内容有点脏，但是...

```
class PBRoomDate {
  // Helper data holder class. Could probably be an anonymous class in C# 4.0
  public PictureBox PB;
  public Label RoomLabel;
  public TextBox DateText;
  PBRoomDate(PictureBox PB, Label RoomLabel, TextBox DateText) {
    this.PB = PB; this.RoomLabel = RoomLabel; this.DateText = DateText;
  }
}

// [...]

var pbRoomDates = new PBRoomDate[]{
  new PBRoomDate(pictureBox1, lbl_roomid1, txt_sdate1),
  new PBRoomDate(pictureBox2, lbl_roomid2, txt_sdate2),
  new PBRoomDate(pictureBox3, lbl_roomid3, txt_sdate3),
  // etc.
};

foreach(var pbRoomDate in pbRoomDates) {
  if(pbRoomDate.PB.Tag.ToString() == "accept") {
    row1[13] = (byte)Convert.ToChar(pbRoomDate.RoomLabel.Text);
    DateTime dt = DateTime.Parse(pbRoomDate.DateText.Text);
  }
} 
```

更简洁的解决方案是使用自定义 UserControl 来包含每个“图片框”的三个元素并将它们布局。如果需要，这也将更容易维护和更可扩展。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T08:03:59.357

循环访问 c# 中的表单元素。

我通常使用这样的东西。

假设我有 10 个图片框，我将其命名为图片框 1 - 图片框 10。

然后做一个循环让数字循环到 10 我在里面使用一个变量 no 把这个代码

```
String Picturebox = "picturebox" + no.ToString();
Control[] oControl = Controls.Find(Picturebox, true);
foreach(Control foundControl in oControl)
{
  PictureBox foundControlA = foundControl as PictureBox;
  foundControlA.(methods or property here) = (what you want to put to foundControlA)

} 
```

如果每个控件都有更多控件，则可以使用相同的方法。这里的提示是我在我的 winforms 中的元素或对象上使用相同的命名约定，并根据你想要的循环变量 no。

# java - 在 Eclipse 中为终止的控制台应用程序保持两个控制台窗口打开

> ID：11716871
> 
> 赞同：0
> 
> 时间：2012-07-30T07:13:45.340
> 
> 标签：java, eclipse, ide

使用 Eclipse Indigo 我想保持两个控制台窗口打开 - 来自不同终止应用程序的不同内容。

我有以下情况：

1.  我运行一个 Java 控制台应用程序，它终止并在控制台窗口中有一些输出
2.  我使用“打开控制台”图标来创建一个新的控制台视图。
3.  我运行另一个应用程序（通过 PyDev 插件的 Python 应用程序）；它终止。

此后，两个控制台窗口都包含*相同*的文本（Python 应用程序的输出）。为了清楚起见：第二个应用程序（Python 应用程序）的运行会清理*两个*控制台窗口，然后将其输出写入两个窗口

但显然我希望第一个控制台显示终止的 Java 应用程序的输出，第二个控制台显示 Python 应用程序。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T07:31:06.613

为新的控制台视图选择“打开控制台”->“新控制台视图”。通过下拉菜单“显示选定的控制台”，您可以从不同的控制台中进行选择。

为避免终止程序的控制台将被删除，请转到“窗口”->“首选项”->“运行/调试”->“启动”并将“删除终止的启动...”设置为 false

# c# - 如何从 C# 应用程序将图片插入 Excel？

> ID：11716873
> 
> 赞同：10
> 
> 时间：2012-07-30T07:13:50.433
> 
> 标签：c#, excel

我正在尝试使用我的 C# 应用程序将图片插入 Excel 电子表格。

我使用以下内容作为我的来源。[http://csharp.net-informations.com/excel/csharp-insert-picture-excel.htm](http://csharp.net-informations.com/excel/csharp-insert-picture-excel.htm)

整条线用蓝色下划线。

```
 xlWorkSheet.Shapes.AddPicture("C:\\pic.JPG", Microsoft.Office.Core.MsoTriState.msoFalse, Microsoft.Office.Core.MsoTriState.msoCTrue, 50, 50, 300, 45); 
```

我的代码：

```
private void btnWriteSpreedSheet_Click(object sender, EventArgs e)
{
    Excel.Application xlApp;
    Excel.Workbook xlWorkBook;
    Excel.Worksheet xlWorkSheet;
    object misValue = System.Reflection.Missing.Value;

    xlApp = new Excel.ApplicationClass();
    xlWorkBook = xlApp.Workbooks.Add(misValue);
    xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

    //xlWorkSheet.SetBackgroundPicture("C:/Users/Shaun/Documents/Visual Studio 2010/Projects/TestXMLToEXCEL/TestXMLToEXCEL/bin/Debugpic.JPG"); //

    //add some text 
    xlWorkSheet.Cells[1, 1] = "http://csharp.net-informations.com";
    xlWorkSheet.Cells[2, 1] = "Adding picture in Excel File";

    xlWorkSheet.Shapes.AddPicture("C:\\pic.JPG", Microsoft.Office.Core.MsoTriState.msoFalse, Microsoft.Office.Core.MsoTriState.msoCTrue, 50, 50, 300, 45); //C:\\csharp-xl-picture.JPG

     xlWorkBook.SaveAs("csharp.net-informations.xls", Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);
    xlWorkBook.Close(true, misValue, misValue);
    xlApp.Quit();

    releaseObject(xlApp);
    releaseObject(xlWorkBook);
    releaseObject(xlWorkSheet);

    MessageBox.Show ("File created !");
}

private void releaseObject(object obj)
{
    try
    {
        System.Runtime.InteropServices.Marshal.ReleaseComObject(obj);
        obj = null;
    }
    catch (Exception ex)
    {
        obj = null;
        MessageBox.Show("Unable to release the Object " + ex.ToString());
    }
    finally
    {
        GC.Collect();
    }
} 
```

* * *

错误信息：

> 'Microsoft.Office.Interop.Excel.Shapes.AddPicture(string, Microsoft.Office.Core.MsoTriState, Microsoft.Office.Core.MsoTriState, float, float, float, float)' 的最佳重载方法匹配有一些无效参数
> 
> 类型“Microsoft.Office.Core.MsoTriState”在未引用的程序集中定义。您必须添加对程序集“office，Version=12.0.0.0，Culture=neutral，PublicKeyToken=71e9bce111e9429c”的引用。
> 
> 参数 2：无法从 'Microsoft.Office.Core.MsoTriState [c:\users\shaun\documents\visual studio 2010\Projects\TestXMLToEXCEL\TestXMLToEXCEL\CreateSpreadSheet.cs]' 转换为 'Microsoft.Office.Core.MsoTriState'
> 
> 参数 3：无法从 'Microsoft.Office.Core.MsoTriState [c:\users\shaun\documents\visual studio 2010\Projects\TestXMLToEXCEL\TestXMLToEXCEL\CreateSpreadSheet.cs]' 转换为 'Microsoft.Office.Core.MsoTriState'

* * *

我的参考资料：

```
using Excel = Microsoft.Office.Interop.Excel;
using Microsoft.Office.Core;
using Microsoft.Office;
using System.Xml; 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-25T08:12:46.377

添加以下引用：

*   `Microsoft.Office.Interop.Excel`从 .Net 选项卡
*   `Microsoft Office 14.0 Object Library`从 COM 选项卡

添加以下 using 语句：

```
using Microsoft.Office.Core;
using Excel = Microsoft.Office.Interop.Excel;
using System.Runtime.InteropServices; 
```

然后这是您的方法（略有改动）：

```
private void BtnWriteSpreedSheetClick(object sender, EventArgs e)
{
    var xlApp = new Excel.Application();
    Excel.Workbook xlWorkBook = xlApp.Workbooks.Add();
    Excel.Worksheet xlWorkSheet = xlWorkBook.Sheets[1];

    xlWorkSheet.Cells[1, 1] = "http://csharp.net-informations.com";
    xlWorkSheet.Cells[2, 1] = "Adding picture in Excel File";

    xlWorkSheet.Shapes.AddPicture(@"C:\pic.JPG", MsoTriState.msoFalse, MsoTriState.msoCTrue, 50, 50, 300, 45);

    xlWorkBook.SaveAs("csharp.net-informations.xls", Excel.XlFileFormat.xlWorkbookNormal);
    xlWorkBook.Close(true);
    xlApp.Quit();

    Marshal.ReleaseComObject(xlApp);

    MessageBox.Show("File created !");
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T08:57:22.217

您需要添加 Microsoft excel 库。

![在此处输入图像描述](../Images/ea0f58328c84ebc9ecd4c1b2f74e47a5.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-10-19T12:03:33.627

作为替代方案，您可以使用其中一个 Open Xml 库（例如[EPPlus）](https://www.nuget.org/packages/EPPlus/)来执行此操作。

在我看来，EPPlus 比 Excel 互操作更容易、更直观，无需手动释放资源。它还有一个额外的好处，那就是它可以在没有安装 Excel 的机器上执行。

像这样简单的 EPPlus 效果很好：

```
using (var excel = new ExcelPackage())
{
    var wks = excel.Workbook.Worksheets.Add("Sheet1");
    wks.Cells[1, 1].Value = "Adding picture below:";
    var pic = wks.Drawings.AddPicture("MyPhoto", new FileInfo("image.png"));
    pic.SetPosition(2, 0, 1, 0);
    excel.SaveAs(new FileInfo("outputfile.xlsx"));
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-25T06:46:03.380

只需添加

```
using Microsoft.Office.Interop.Excel;
using Excel = Microsoft.Office.Interop.Excel;
using Microsoft.Office.Core; 
```

到您的代码并在再次运行之前重建您的解决方案。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-12-11T17:09:15.923

我将此代码与 Microsoft.Office.Interop.Excel v 14.0 一起使用：

```
xlWorksheet.Shapes.AddPicture(@"c:\pics\logosmall.jpg", Microsoft.Office.Core.MsoTriState.msoFalse, Microsoft.Office.Core.MsoTriState.msoCTrue, 0, 0, 185, 42); 
```

并且在我的 excel 表格中有图像（`jpg`和）。`png`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-10-05T05:30:00.010

```
 private void Button1_Click(object sender, EventArgs e)
    {

        Microsoft.Office.Interop.Excel._Application application = new Microsoft.Office.Interop.Excel.Application();
        Microsoft.Office.Interop.Excel._Workbook workbook = application.Workbooks.Add(Type.Missing);
        Microsoft.Office.Interop.Excel._Worksheet worksheet = null;

        SaveFileDialog saveDialog = new SaveFileDialog();
        saveDialog.FileName = "ImageToExcel.xlsx";
        if (saveDialog.ShowDialog() == System.Windows.Forms.DialogResult.OK)
        {
            try
            {
                worksheet = workbook.ActiveSheet;
                worksheet.Name = "Image to Excel";
                string imageNetworkLocation = "\\\\192.168.240.110\\images\\image.png";
                worksheet.Shapes.AddPicture(imageNetworkLocation, Microsoft.Office.Core.MsoTriState.msoFalse, Microsoft.Office.Core.MsoTriState.msoCTrue, 0, 0, 170, 85);
                workbook.SaveAs(saveDialog.FileName);
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message, "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
            }

            finally
            {
                application.Quit();
                workbook = null;
                application = null;

            }
        }

        else
            try
            {
                workbook.Close(0);
                application.Quit();
                workbook = null;
                application = null;
                System.Runtime.InteropServices.Marshal.ReleaseComObject(application);
            }
            catch (System.Exception ex) 
            {
                MessageBox.Show(ex.Message, "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
            }
    } 
```

# chef-infra - Vagrant 配置因关闭流而失败 (IOError)

> ID：11716875
> 
> 赞同：2
> 
> 时间：2012-07-30T07:13:56.830
> 
> 标签：chef-infra, puppet, vagrant

在 Mac OS X 上，当尝试按照 Vagrant 教程使用厨师进行配置时，我收到以下错误。如果我改用 puppet，会出现同样的问题，如果我使用 lucid32，也会出现同样的问题。帮助？

```
[default] Importing base box 'lucid64'...
[default] The guest additions on this VM do not match the install version of
VirtualBox! This may cause things such as forwarded ports, shared
folders, and more to not work properly. If any of those things fail on
this machine, please update the guest additions and repackage the
box.

Guest Additions Version: 4.1.16
VirtualBox Version: 4.1.18
[default] Matching MAC address for NAT networking...
[default] Clearing any previously set forwarded ports...
[default] Forwarding ports...
[default] -- 22 => 2222 (adapter 1)
[default] Creating shared folders metadata...
[default] Clearing any previously set network interfaces...
[default] Booting VM...
[default] Waiting for VM to boot. This can take a few minutes.
[default] VM booted and ready for use!
[default] Mounting shared folders...
[default] -- v-root: /vagrant
[default] Running provisioner: Vagrant::Provisioners::ChefSolo...
[default] Generating chef JSON and uploading...
[default] Running chef-solo...
stdin: is not a tty
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: *** Chef 0.10.10 ***
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Setting the run_list to ["recipe[vagrant_main]"] from JSON
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Run List is [recipe[vagrant_main]]
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Run List expands to [vagrant_main]
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Starting Chef Run for lucid64
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Running start handlers
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Start handlers complete.
[Mon, 30 Jul 2012 08:55:18 +0200] INFO: Processing execute[apt-get update] action run (apt::default line 20)
[default] Destroying VM and associated drives...
/Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/ruby_compat.rb:33:in `select': closed stream (IOError)
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/ruby_compat.rb:33:in `io_select'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/ruby_compat.rb:32:in `synchronize'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/ruby_compat.rb:32:in `io_select'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/transport/packet_stream.rb:73:in `available_for_read?'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/transport/packet_stream.rb:85:in `next_packet'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/transport/session.rb:171:in `poll_message'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/transport/session.rb:166:in `loop'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/transport/session.rb:166:in `poll_message'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:451:in `dispatch_incoming_packets'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:213:in `preprocess'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:197:in `process'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:161:in `loop'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:161:in `loop_forever'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/session.rb:161:in `loop'
    from /Library/Ruby/Gems/1.8/gems/net-ssh-2.2.2/lib/net/ssh/connection/channel.rb:269:in `wait'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/communication/ssh.rb:213:in `shell_execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/communication/ssh.rb:53:in `execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/communication/ssh.rb:110:in `connect'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/communication/ssh.rb:52:in `execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/communication/ssh.rb:72:in `sudo'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/provisioners/chef_solo.rb:196:in `run_chef_solo'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/provisioners/chef_solo.rb:189:in `times'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/provisioners/chef_solo.rb:189:in `run_chef_solo'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/provisioners/chef_solo.rb:96:in `provision!'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/provision.rb:34:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/provision.rb:31:in `each'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/provision.rb:31:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/forward_ports.rb:24:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/check_port_collisions.rb:42:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/env/set.rb:16:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/clear_forwarded_ports.rb:13:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/clean_machine_folder.rb:17:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/check_accessible.rb:18:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/general/validate.rb:13:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/general/check_virtualbox.rb:23:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/match_mac_address.rb:16:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/default_name.rb:17:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/check_guest_additions.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/import.rb:31:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/check_box.rb:28:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/vm/check_accessible.rb:18:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/general/validate.rb:13:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/general/check_virtualbox.rb:23:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/warden.rb:33:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/builder.rb:92:in `call'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/runner.rb:49:in `run'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/util/busy.rb:19:in `busy'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/action/runner.rb:49:in `run'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/vm.rb:192:in `run_action'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/vm.rb:145:in `up'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/command/up.rb:31:in `execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/command/base.rb:116:in `with_target_vms'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/command/base.rb:111:in `each'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/command/base.rb:111:in `with_target_vms'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/command/up.rb:24:in `execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/cli.rb:42:in `execute'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/lib/vagrant/environment.rb:167:in `cli'
    from /Library/Ruby/Gems/1.8/gems/vagrant-1.0.3/bin/vagrant:43
    from /usr/bin/vagrant:23:in `load'
    from /usr/bin/vagrant:23 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T10:57:18.557

在[https://github.com/mitchellh/vagrant/issues/516上有一张公开的票](https://github.com/mitchellh/vagrant/issues/516)

对我有用的是以下内容：

1.  更新到**VirtualBox 4.1.20**（从 4.1.18 在 Ubuntu 12.04 主机上运行）
2.  更新了所有**gem**（我使用 rbenv。值得注意的是我的**net-ssh** gem 已经过时了）
3.  [使用https://github.com/jedi4ever/veewee/blob/master/doc/vagrant.md](https://github.com/jedi4ever/veewee/blob/master/doc/vagrant.md)上的说明创建了一个**新的 basebox**

我不再遇到“关闭的流（IOError）”问题，并且可以毫无问题地进行多 VM vagrant 部署。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-20T15:06:30.640

见：[https ://github.com/dcarley/vbox_natbug](https://github.com/dcarley/vbox_natbug)

```
config.vm.define :ubuntu_amd do |c|
  c.vm.box = "lucid64"
  c.vm.customize(["modifyvm", :id, "--nictype1", "Am79C973"])
end 
```

也许它可以帮助...

# ios - 带有显示空标签的uiswitchview视图

> ID：11716877
> 
> 赞同：0
> 
> 时间：2012-07-30T07:14:04.877
> 
> 标签：ios, uiswitch

我在静态表中有一个 uiswitch 视图。我试图通过 viewdid 加载方法中的标签来检索它。由于某种原因，它总是显示为空。我用 viewWithTagMethod 来做。

```
 UISwitch* switch = (UISwitch*)[self.view  viewWithTag:tag];
 [switch setOn:[value boolValue] animated:YES]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:20:00.020

静态表视图内容直到`viewWillAppear:animated:`调用了 super 实现后才会加载。将您的代码移到稍后的位置，您应该没问题。或者，只需使用插座。

# django - Django如何定义常用的url

> ID：11716881
> 
> 赞同：2
> 
> 时间：2012-07-30T07:14:18.900
> 
> 标签：django, url, tags

我正在实施一个目录服务，如您所知，列表 URL 出现在很多地方。我知道使用`{% url %}`标签，对于全局列表 url 结构更改等情况，它仍然不是防弹的，比如我已经`{% url id=listing.id %}`并且必须在 URL 中添加 slug，例如`{% url id=listing.id slug=listing.slug %}`

虽然全局搜索和替换是一种选择，但我很好奇是否有解决此问题的规范方法。

目前我的方法是只有一个`listingurl.html`，只要有`{% url id=listing.id slug=listing.slug %}`，只要有 url 就可以包含`listingurl.html`，但是我不确定实现自定义过滤器是否会更有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T10:39:44.357

不是 100% 确定这可行，如果它是最优雅的解决方案：

some_template.html

```
{% include 'listing.html' with url_thing %} 
```

清单.html

```
{% url url_thing id=object.id %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T14:57:17.270

恕我直言，处理它的最佳方法是`get_absolute_url`向您的模型添加一个方法。然后，您可以调用该方法，而不是在模板中反转 URL：

```
@models.permalink
def get_absolute_url(self):
    return ('listing_view_name', {'id': self.id, 'slug': self.slug}) 
```

然后：

```
<a href="{{ listing.get_absolute_url }}">{{ listing }}</a> 
```

# c# - 动态添加的链接按钮不会触发 OnClick 事件

> ID：11716887
> 
> 赞同：1
> 
> 时间：2012-07-30T07:14:36.200
> 
> 标签：c#, asp.net, .net, dynamic, paging

我需要在我的网页上分页。我为此使用 PagedDataSource。但我需要在 .aspx 上枚举页面，所以我`LinkButtons`动态添加`PlaceHolder`并为所有这些页面编写一个`Eventhandler`。它显示和工作正常。在第一次点击时`Eventhandler`被触发。在第二个它不火。第三个是。等等......有什么想法吗？

```
 protected void Page_Load(object sender, EventArgs e)
    {
        bindrepeater();
    }

    private void bindrepeater()
    {
        var service = new Service();
        var coll = service.GetPeople();

        PagedDataSource Pds1 = new PagedDataSource();
        Pds1.DataSource = coll;
        Pds1.AllowPaging = true;
        Pds1.PageSize = 10;
        Pds1.CurrentPageIndex = CurrentPage;

        Repeater1.DataSource = Pds1;
        Repeater1.DataBind();

        var count = (coll.Count / 10) + 1;
        pages.Controls.Clear();
        for (int i = 1; i < count; i++)
        {
            var lb = new LinkButton() { Text = i.ToString(), CssClass = "hrefia" };
            lb.Click += new EventHandler(lb_Click);
            pages.Controls.Add(lb);
        }
    }

    protected void lb_Click(object sender, EventArgs e)
    {
        var lb = (LinkButton)sender;
        CurrentPage = int.Parse(lb.Text);
        bindrepeater();
    }

    public int CurrentPage
    {
        get
        {
            object s1 = this.ViewState["CurrentPage"];
            if (s1 == null)
            {
                return 0;
            }
            else
            {
                return Convert.ToInt32(s1);
            }
        }
        set { this.ViewState["CurrentPage"] = value; }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T13:47:35.550

需要为所有链接按钮提供 ID。 **@Hassan Boutougha** 在评论中回答了我……

```
var lb = new LinkButton() { Text = i.ToString(), CssClass = "hrefia" };
lb = "btnId" + i.ToString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T11:35:21.300

一件快速的事情，在第一次加载时，根据您的代码，您的当前页面索引将返回为 0。然后在随后的页面点击中，如果您点击第 2 页，则返回的当前页面索引将为 2，但是如果页面索引以0 然后 2 表示第三页而不是第二页。所以我想在设置当前页面时你应该这样做：

```
protected void lb_Click(object sender, EventArgs e)
{   
    var lb = (LinkButton)sender;      
    CurrentPage = int.Parse(lb.Text) **- 1**;
    bindrepeater();   
} 
```

# erlang - 测试 ejabberd 模块

> ID：11716888
> 
> 赞同：4
> 
> 时间：2012-07-30T07:14:37.543
> 
> 标签：erlang, ejabberd

我已经使用行为 gen_mod 编写了一些 ejabberd 模块。这些模块将成为 ejabberd 监督树的一部分并执行一些任务。

我想知道测试此类模块的常用方法是什么。我用谷歌搜索了一下，唯一有用的资源就是[这个 github 项目](https://github.com/cstar/ejabberd_testing)。

你能告诉我测试 ejabberd 模块的最佳方法是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:27:59.353

如果你想验证 ejabberd 模块的正确性，我会推荐使用[Escalus 。](https://github.com/esl/escalus)直接来自 Escalus README：

> Escalus 是 Erlang 库，用于方便地测试 XMPP 服务器。它旨在与 Common Test 一起使用。
> 
> Escalus 旨在检查 XMPP 服务器行为的正确性，这与 Tsung 等关于压力测试的工具相比，不验证正确性。

# facebook - Facebook 对话框与开放图操作

> ID：11716892
> 
> 赞同：2
> 
> 时间：2012-07-30T07:15:14.547
> 
> 标签：facebook, facebook-graph-api, facebook-opengraph

只是想了解我正在制作的第一个 facebook 应用程序通过对话与打开图形操作发布帖子的利弊。

OG action post 最吸引人的方面似乎是“聚合”框，如果我可以吸引用户频繁且一致地使用我的应用程序，但对话框似乎保证帖子有 100% 的机会单独显示在用户的时间线上（与OG 动作帖子可能只显示在“最近的活动”框中，不明显......）

我是否错过了 OG Actions 似乎是 facebook 正在推动的原因（并且逐渐消失的对话框？）

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:47:37.510

对话框根本不会消失，但它们只能代表您的应用程序中的一种操作。

Open Graph 可让您在应用程序中表示 N 个操作，例如，听一首歌曲、盯着/喜欢一首歌曲、将一首歌曲添加到播放列表等。

您显然不想使用对话框将所有这些操作共享到用户的时间轴。

对于某些项目的简单共享，请使用对话框，但其他任何项目，请使用 OG。

# jquery - 使用 jquery，键盘快捷键不会在输入控件中触发

> ID：11716894
> 
> 赞同：0
> 
> 时间：2012-07-30T07:15:27.353
> 
> 标签：jquery, keyboard, keyboard-shortcuts

我必须在使用 jquery 的 Web 应用程序中使用键盘快捷键。我能够做到这一点。但是，当我使用相同的字符进行快捷方式时，即使它们处于输入控制中，也会触发。

例如：当点击a时，它会重定向到主页。但是当在任何输入控件中按下相同的 a 时，它也会重新定向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:20:02.500

您可以使用以下内容阻止`keyup`输入上的事件冒泡：

```
$("input[type=text]").on('keyup', function(event){
  event.stopPropagation();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:20:53.813

尝试在每个输入区域的 $.focus 事件中禁用它们。

例如：

```
 $('input[type="text"], select, textarea').focus(function(){
        $.keyboardShortcuts('unbind');
    }).blur(function(){
        $.keyboardShortcuts('bind');
    }); 
```

$.keyboardShortcuts 只是我给你的键盘快捷键插件的一个通用名称。确保在您的插件中有绑定/取消绑定功能，或者只是创建它。

# .net - 将程序集添加到 GAC 并从 web.config 引用它

> ID：11716896
> 
> 赞同：0
> 
> 时间：2012-07-30T07:15:31.233
> 
> 标签：.net, dll, web-config, gac, .net-assembly

我写了一个类库（.Net Framework 2.0）

我创建了一个空的 Web 应用程序项目

当我添加 dll 作为对 Web 应用程序项目的引用时

一切正常。

但是当我将 dll 添加到 GAC 并编写以下内容时

到 web.config 的行

```
<modules runAllManagedModulesForAllRequests="true">
      <remove name="RedirectModule" />
      <add name="RedirectModule" type="RedirectModule.RedirectModule, RedirectModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=e81458cb6113cf4f"/>
    </modules> 
```

有时它工作，有时它不工作

我怎么解决这个问题？

谢谢你。

# android - 如何使每个设备上的 gui 元素（如每个设备上的按钮）看起来像 android 中的本机 gui？

> ID：11716898
> 
> 赞同：5
> 
> 时间：2012-07-30T07:15:37.047
> 
> 标签：android, android-layout

嗨，我有一个关于 android 应用程序的 gui 的问题。

当我开始一个项目并选择 2.3.3 作为我的 api 版本时。我添加了一些 gui 的东西，比如一个按钮，然后在 4.0.3 设备上运行代码。

现在的问题是：按钮看起来像 2.3.3 按钮，而不像 4.0.3 版本。

有什么办法可以改变吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-30T07:30:56.923

您必须使用`Holo`API Level 11+ 的主题之一：

1.  创建`res/values`文件夹
2.  像这样定义您的应用程序主题：

    ```
    <style name="AppTheme" parent="@android:style/Theme" /> 
    ```

3.  创建`res/values-v11`文件夹

4.  像这样定义您的应用程序主题：

    ```
    <style name="AppTheme" parent="@android:style/Theme.Holo.Light" /> 
    ```

5.  用于`AppTheme`_`AndroidManifest.xml`

如需进一步阅读，请参阅[本文](http://android-developers.blogspot.com/2012/01/holo-everywhere.html)中在支持 Android 2.x的*同时使用 Holo*部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T15:26:46.053

如果你想要 Holo 用于 2.3.3 应用程序，我可以推荐[这个](https://github.com/ChristopheVersieux/HoloEverywhere)项目。只需按照网站上的说明操作即可。

# android - Android - 水平滚动视图中图像的拖放功能

> ID：11716899
> 
> 赞同：0
> 
> 时间：2012-07-30T07:15:54.953
> 
> 标签：android, image, drag-and-drop

我有以下 UI 结构

```
<FrameLayout
<HorizontalScrollView
     <LinearLayout
         <ImageView1  />
          <ImageView2   />
        ........................
          <ImageView7  />
    </LinearLayout>
</HorizontalScrollView>
<ImageView /></FrameLayout> 
```

现在我想在线性布局中的多个图像上实现拖放功能。我尝试了很多代码，但图像只能垂直拖动。我想将图像拖放到屏幕上的任何位置。请让我摆脱这个麻烦。提前致谢。

# jquery - jstree复选框的节点ID

> ID：11716902
> 
> 赞同：3
> 
> 时间：2012-07-30T07:16:11.303
> 
> 标签：jquery, asp.net-mvc-3, jstree

未选中时，我需要检索节点的 ID。在表单提交时，以下代码返回所选节点的所有 id

```
checkbox: {
                real_checkboxes: true,
                two_state: true,
                real_checkboxes_names: function (n) {
                    return [("check_" + (n[0].id)), n[0].id]
                }
            } 
```

但是对于我的需要，当节点未选中时，我需要 id

```
}).bind('uncheck_node.jstree',function(e,data){
            {     
                var a=$(e).attr('id');               
                alert(a);
            }
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:48:02.170

```
.bind("change_state.jstree", function (e, data) {
    if (data.args[1] == true) {
        var a = $(data.rslt).attr('id');
        alert(a);
    }
}) 
```

# java - 部署 spring-mvc 应用程序失败

> ID：11716904
> 
> 赞同：0
> 
> 时间：2012-07-30T07:16:16.217
> 
> 标签：java, hibernate, spring-mvc

我正在`spring-mvc`使用hibernate，并且我已经在go daddy服务器上部署了我的应用程序，当我打开任何`html`文件时它运行良好，但是在打开`jsp`文件时，给我一个404文件未找到错误。请任何人都可以帮助我解决这个问题...？
我正在使用 Spring 3.0、
Jdk 1.7.0_04、
apache-tomcat 6.0.32

`web.xml`我正在使用的是web.xml
**：**

```
 <?xml version="1.0" encoding="UTF-8"?>
        <web-app id="WebApp_ID" version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
            <display-name>seekersworkroom</display-name>
            <welcome-file-list>
                <welcome-file>/view/Index.jsp</welcome-file>
            </welcome-file-list>
             <servlet>
            <servlet-name>imageupload</servlet-name>
            <servlet-class>com.seekersworkroom.controller.imageuploadController</servlet-class> 
          </servlet>

        <servlet-mapping>
             <servlet-name>imageupload</servlet-name>
            <url-pattern>/imageupload.htm</url-pattern>
          </servlet-mapping>

          <servlet>
            <servlet-name>Userimageupload</servlet-name>
            <servlet-class>com.seekersworkroom.controller.UserimageuploadController</servlet-class>

          </servlet>
        <servlet-mapping>
             <servlet-name>Userimageupload</servlet-name>
            <url-pattern>/Userimageupload.htm</url-pattern>
          </servlet-mapping>

        <servlet>
            <servlet-name>seekersworkroom</servlet-name>
            <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>

          </servlet>

          <servlet-mapping>
            <servlet-name>seekersworkroom</servlet-name>
            <url-pattern>*.htm</url-pattern>
          </servlet-mapping>

          <servlet>
                <servlet-name>seekersworkroom-servlet</servlet-name>
                <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
                <load-on-startup>1</load-on-startup>
            </servlet>

            <listener>
                <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
            </listener>

            <context-param>
                <param-name>contextConfigLocation</param-name>
                <param-value>
                    /WEB-INF/seekersworkroom-servlet.xml,
                    /WEB-INF/spring-security.xml

                </param-value>
            </context-param>

            <!-- Spring Security -->
            <filter>
                <filter-name>springSecurityFilterChain</filter-name>
                <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
            </filter>

            <filter-mapping>
                <filter-name>springSecurityFilterChain</filter-name>
                <url-pattern>/</url-pattern>
            </filter-mapping>

        </web-app>

      The welcome doesnot dispaly index.jsp file but if the same is replaced by index.html it shows this file. And by opening any url eith .jsp extension it shows 404 error.

    seekersworkroom-servlet:

    <?xml version="1.0" encoding="UTF-8"?>

    <beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

        <bean name="/login/*.htm" id="AdminprofileController" class="com.seekersworkroom.controller.AdminprofileController">

        </bean>

       <bean name="/Index/*.htm" id="IndexController" class="com.seekersworkroom.controller.IndexController">
        <property name="indexDAO" ref="IndexDAO" />
         <property name="skillsaddedDAO" ref="SkillsaddedDAO" />
             <property name="skillsDAO" ref="SkillsDAO"></property>
         <property name="userDAO" ref="UserDAO" />
             <property name="acountryDAO" ref="acountryDAO" />
          <property name="bregDAO" ref="BregistrationDAO" />
          <property name="cregistrationDAO" ref="CregistrationDAO" />
         <property name="ccontactDAO" ref="CcontactDAO" />
         <property name="caddressDAO" ref="CaddressDAO" />
          <property name="asubcategoryDAO" ref="AsubcategoryDAO" />
          <property name="cportfolioDAO" ref="CportfolioDAO" />
            <property name="keywordDAO" ref="KeywordDAO" />
                 <property name="bcreatejobDAO" ref="BcreatejobDAO" />
         <property name="messageDAO" ref="messageDAO"></property>
         <property name="userimageDAO" ref="UserimageDAO" />
        </bean>

        <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver" p:prefix="/view/" p:suffix=".jsp" />

        <bean id="myDataSource" class="org.apache.commons.dbcp.BasicDataSource" >
            <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
            <property name="url" value="jdbc:mysql://localhost:3306/skw"/>
            <property name="username" value="root"/>
            <property name="password" value="root"/>
        </bean>

        <bean id="sessionFactory"  class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">  
          <property name="dataSource" ref="myDataSource" />  
          <property name="mappingResources">  
           <list>  

            <value>com/seekersworkroom/VO/User.hbm.xml</value>
            <value>com/seekersworkroom/VO/buyerregistration.hbm.xml</value>
            <value>com/seekersworkroom/VO/contractorregistration.hbm.xml</value>
            <value>com/seekersworkroom/VO/Contractorcontact.hbm.xml</value>
            <value>com/seekersworkroom/VO/Contractoraddress.hbm.xml</value>  
            <value>com/seekersworkroom/VO/Contractorkeyword.hbm.xml</value>
            <value>com/seekersworkroom/VO/Userimage.hbm.xml</value>

           </list>  
          </property>  

        <property name="hibernateProperties">
                <props>
                    <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                    <prop key="hibernate.show_sql">true</prop>
                    <prop key="hibernate.hbm2ddl.auto">update</prop>
                </props>
        </property>    
         </bean>

    <bean id="acountryDAO" class="com.seekersworkroom.DAO.AcountryDAO" >
            <property name="sessionFactory"><ref bean="sessionFactory"/></property>
    </bean>

    <bean id="AcategoriesDAO" class="com.seekersworkroom.DAO.AcategoriesDAO" >
            <property name="sessionFactory"><ref bean="sessionFactory"/></property>
    </bean>
    </beans> 
```

这是 servlet 文件，其中的注释用于调用特定的控制器。此 servlet 包含 bean，通过这些 bean 将请求重定向到特定的控制器。
但主要问题是`jsp`文件不能正常工作......我该怎么做才能`web.xml`让我访问服务器端的jsp文件？
是 Spring 框架的问题还是 web.xml 文件丢失了什么？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T04:53:39.897

我假设您正在访问的 jsp 在您的 WEB-INF 文件夹之外。在这种情况下，`<mvc:resources mapping="/static/**" location="/" />`请在您的 seekersworkroom-servlet.xml 中使用；并使用 url 访问 jsp `http://yourdomain/static/yourjspname.jsp`。

此外，您可能不需要保护静态资源；所以， `<http pattern="/static/**" security="none" xmlns="http://www.springframework.org/schema/security"/>`在你的 spring 安全配置文件中使用

# jquery - sj：sjg：网格中的日期选择器？

> ID：11716908
> 
> 赞同：0
> 
> 时间：2012-07-30T07:16:35.467
> 
> 标签：jquery, jquery-ui, jquery-plugins, grid, datepicker

我们正在尝试在可编辑的 sj:grid 中创建一个 sj:datepicker 日历控件。可用的编辑类型很少（文本、文本区域、选择）。

我们在 jqGrid 中看到了有关如何在网格行中引入 Datepicker 的示例，但找不到任何与 sjg:grid （Struts2-jQuery 框架）类似的选项/实现。

有没有人实施它？

***这是我们可以找到的 jQGrid 的所有链接和文档***：

[http://www.trirand.com/jqgridwiki/doku.php?id=wiki:search_config](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:search_config) [jqgrid 在 DatePicker 关闭时保存单元格编辑](https://stackoverflow.com/questions/6471087/jqgrid-save-cell-edit-when-datepicker-is-closed) [Jquery UI DatePicker 在 JQGrid 中](https://stackoverflow.com/questions/8346986/jquery-ui-datepicker-in-a-jqgrid)

[实现jqgrid单元格编辑日期选择器](https://stackoverflow.com/questions/6629424/implement-jqgrid-cell-edit-datepicker)

[当 DatePicker 关闭时 jqgrid 保存单元格编辑](https://stackoverflow.com/questions/6471087/jqgrid-save-cell-edit-when-datepicker-is-closed) [http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules)

[jqgrid - 使用带有动态 colModel 的 datepicker](https://stackoverflow.com/questions/6695043/jqgrid-use-datepicker-with-dynamic-colmodel)

[如何在 jqGrid 的添加行对话框中添加日期选择器？](https://stackoverflow.com/questions/2152763/how-do-i-add-datepicker-in-the-add-row-dialog-in-jqgrid)

[当 DatePicker 关闭时 jqgrid 保存单元格编辑](https://stackoverflow.com/questions/6471087/jqgrid-save-cell-edit-when-datepicker-is-closed)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:30:04.150

到目前为止，我还没有看到通过 sj:head 标签自动包含 ***jquery.ui.datepicker.js文件的方法。***

第 1 步：手动下载 jquery.ui.datepicker.js 文件并将其包含在您的 JSP 中
第 2 步：将此 jScript 函数添加到您的 JSP 页面

```
<script>
    datePick=function(element) { 
    $(element).datepicker(
            {
                dateFormat: 'dd-M-yy',
                buttonImage: "calendar.gif",
                buttonImageOnly: true
            }
            );
    };
</script> 
```

第 3 步：为日期添加网格列。editoptions 用来带日历

```
<sjg:gridColumn name="dateOfBirth" index="dateOfBirth" title="Date of Birth"
    formatter="String" editable="true" editoptions="{size: 12, maxlength: 10, dataInit:datePick,attr:{title:'Select the date'} }"  ></sjg:gridColumn> 
```

***未回答的问题：***
有没有办法使用 struts2-jquery 标签自动包含 jquery.ui.datepicker.js 文件？`<sj:head jqueryui="true" ></sj:head>`仅包括以下文件。

```
 <script type="text/javascript" src="/grid/struts/js/base/jquery-1.7.2.min.js"></script>
 <script type="text/javascript" src="/grid/struts/js/base/jquery.ui.core.min.js?s2j=3.3.3"></script>
  <script type="text/javascript" src="/grid/struts/js/plugins/jquery.subscribe.min.js"></script>
  <script type="text/javascript" src="/grid/struts/js/struts2/jquery.struts2-3.3.3.min.js"></script> 
```

即使**jqueryui 已设置为 true**，我也看不到自动包含的 datepicker js 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T21:10:38.897

您可以使用说明

```
<sj:head ... loadAtOnce="true"/> 
```

# iphone - 我可以为不同的应用程序提交相同的应用程序图标吗？

> ID：11716909
> 
> 赞同：1
> 
> 时间：2012-07-30T07:16:38.507
> 
> 标签：iphone, ios, icons, submit

> **可能重复：**
> [我们可以为多个 ios (ipad/iphone) 应用程序使用相同的图标吗？](https://stackoverflow.com/questions/6290690/can-we-use-same-icon-for-multiple-ios-ipad-iphone-applications)

我在国际应用商店有一个应用程序，我想提交第二个希伯来语应用程序，并且只用于以色列商店。我可以为两者使用相同的图标吗？

谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:28:59.640

这里提出的问题：[我们可以为多个 ios (ipad/iphone) 应用程序使用相同的图标吗？](https://stackoverflow.com/questions/6290690/can-we-use-same-icon-for-multiple-ios-ipad-iphone-applications)

@sergio 回答：

> 据我所知，没有这样的规则。确实，App Store 中的应用程序具有相同的图标，而其他应用程序具有非常小的变化（例如，色调）。
> 
> 除了与批准相关的（您必须提交的不同图标版本的）尺寸要求外，您应该考虑的唯一一件事（但这与批准无关）是您的应用程序图标是否有吸引力，反映一些如何应用程序的功能，并让您的应用程序很容易被识别。
> 
> 如果你独特的图标设计对你来说满足了这个原则，那就没问题了。

如果这回答了您的问题，请也转到该线程并支持他的答案。

# html - 图片上的工具提示

> ID：11716916
> 
> 赞同：163
> 
> 时间：2012-07-30T07:17:02.600
> 
> 标签：html, image, tooltip

我正在使用工具提示。但我希望在图像标签上使用它，比如当我将鼠标悬停在图像上时，工具提示应该可以工作。我已经尝试过但不适用于图像标签。

* * *

## 回答 #1

> 赞同：417
> 
> 时间：2012-07-30T07:25:06.803

您可以为此使用图像的标准 HTML 标题属性：

```
<img src="source of image" alt="alternative text" title="this will be displayed as a tooltip"/> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2020-01-11T06:42:38.257

我在我的工作项目上设置了工具提示，该项目 100% 工作

```
<!DOCTYPE html>
<html>
<style>
.tooltip {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black;
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;

  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.size_of_img{
width:90px}
</style>

<body style="text-align:center;">

<p>Move the mouse over the text below:</p>

<div class="tooltip"><img class="size_of_img" src="https://babeltechreviews.com/wp-content/uploads/2018/07/rendition1.img_.jpg" alt="Image 1" /><span class="tooltiptext">grewon.pdf</span></div>

<p>Note that the position of the tooltip text isn't very good. Check More Position <a href="https://www.w3schools.com/css/css_tooltip.asp">GO</a></p>

</body>
</html>
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-08T17:40:45.083

使用 javascript，您可以为页面上的所有图像设置工具提示。

```
<!DOCTYPE html>
<html>
    <body>
    <img src="http://sushmareddy.byethost7.com/dist/img/buffet.png" alt="Food">
    <img src="http://sushmareddy.byethost7.com/dist/img/uthappizza.png" alt="Pizza">
     <script>
     //image objects
     var imageEls = document.getElementsByTagName("img");
     //Iterating
     for(var i=0;i<imageEls.length;i++){
        imageEls[i].title=imageEls[i].alt;
        //OR
        //imageEls[i].title="Title of your choice";
     }
        </script>
    </body>
</html>
```

* * *

## 回答 #4

> 赞同：-7
> 
> 时间：2018-10-07T01:03:50.777

您可以使用以下格式为图像生成工具提示。

```
<div class="tooltip"><img src="joe.jpg" />
  <span class="tooltiptext">Tooltip text</span>
</div> 
```

# qt - QWidget::resizeEvent() 未在子类中调用

> ID：11716919
> 
> 赞同：2
> 
> 时间：2012-07-30T07:17:23.010
> 
> 标签：qt, qwidget

我有以下片段：

```
 class A : public QWidget
    {
       Q_OBJECT
   public:
     A(QWidget *parent = 0);

     void
     setGeometry(int x, int y, int w, int h);

      protected:
       virtual void
       resizeEvent(QResizeEvent *event);

    }

    class B : public A
    {
       Q_OBJECT
   public:
     B(A*parent = 0);   

     void
    setGeometry(int x, int y, int w, int h);

   protected:
     virtual void
     resizeEvent(QResizeEvent *event);
    }

void
A::setGeometry(int x, int y, int w, int h) 
{
    QWidget::setGeometry(x, y, w, h);
}

void
A::resizeEvent( QResizeEvent * event) 
{
    QWidget::resizeEvent(event);
    // common A and B stuff
}

void
B::setGeometry(int x, int y, int w, int h) 
{
    A::setGeometry(x, y, w, h);
}

void
B::resizeEvent( QResizeEvent * event) 
{
    A::resizeEvent(event);

} 
```

调用will fire`setGeometry`的实例。调用B 的实例不会触发 。这有什么问题吗？`A``resizeEvent()``setGeometry``resizeEvent()`

编辑：我可以成功地进行我需要的相同计算`setGeometry`。现在，我的只是好奇。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T09:51:20.910

上面的代码片段存在一些问题，所以我在几个地方对其进行了更改……下面的代码是产生您想要的行为所必需的最低限度。

**标题：**

```
class TestA : public QWidget
{
  Q_OBJECT

  public:
    explicit TestA(QWidget *Parent = 0) : QWidget(Parent) {}
    ~TestA() {}

  protected:
    virtual void resizeEvent(QResizeEvent *);
};

class TestB : public TestA
{
  Q_OBJECT

  public:
    explicit TestB(QWidget *Parent = 0) : TestA(Parent) {}
    ~TestB() {}

  protected:
    virtual void resizeEvent(QResizeEvent *);
}; 
```

**执行：**

```
void TestA::resizeEvent(QResizeEvent *)
{
  qDebug() << "TestA Resize";
}

void TestB::resizeEvent(QResizeEvent *)
{
  qDebug() << "TestB Resize";
}

MainWindow::MainWindow(QWidget *parent) :
  QMainWindow(parent),
  ui(new Ui::MainWindow)
{
  ui->setupUi(this);

  TestA* A = new TestA(this);
  TestB* B = new TestB(this);

  A->setGeometry(0,0,100,100);
  B->setGeometry(200,200,100,100);
} 
```

**变化：**

*   *在类定义中添加[`Q_OBJECT`宏](https://stackoverflow.com/questions/1368584/qt-question-what-does-the-q-object-macro-do-why-do-all-qt-objects-need-this-ma)*：

    告诉编译器为类添加 Qt 元对象代码（对于确保调用 s 不是绝对必要的，但对于继承的对象当然`resizeEvent()`应该包括在内）。`QObject`

*   *添加允许传入父对象并使用此父对象调用基类构造函数的构造函数，并在创建两个对象时将父对象传递给它们的构造函数*：

    从[文档](http://qt-project.org/doc/qt-4.8/qwidget.html#geometry-prop)：

    > 更改几何图形时，小部件（**如果可见**）会立即接收移动事件 (moveEvent()) 和/或调整大小事件 (resizeEvent())。如果小部件当前不可见，则保证在显示之前接收适当的事件。

    If your widgets don't have parents setting the geometry is half meaningless, as the `x` and `y` parts refer to its position relative to a parent. On top of that, since the widgets have no parents they can't be visible as part of the application so Qt doesn't bother to call the appropriate `resizeEvent()`.

# objective-c - iOS 带有偏移的垂直旋转木马

> ID：11716920
> 
> 赞同：1
> 
> 时间：2012-07-30T07:17:33.340
> 
> 标签：objective-c, uitableview, ios4, icarousel

我想制作带有按位置计算的偏移量的垂直菜单。中心行比其他行更靠右，如图所示。中心行也被标记为已按下。谁能建议一些示例如何实现？现在我在看 iCarousel，但找不到如何制作这样的垂直旋转木马![在此处输入图像描述](../Images/0112dd1a31bc647f992dd19503d2c14e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:05:12.803

将垂直属性设置为 true/YES；您可能需要将轮播类型设置为 iCarouselTypeCustom。然后您可以覆盖委托方法：

```
- (CATransform3D)carousel:(iCarousel *)carousel itemTransformForOffset:(CGFloat)offset baseTransform:(CATransform3D)transform
- (CGFloat)carousel:(iCarousel *)carousel valueForTransformOption:(iCarouselTranformOption)option withDefault:(CGFloat)value;
- (CGFloat)carousel:(iCarousel *)carousel itemAlphaForOffset:(CGFloat)offset; 
```

例如，我建议查看 iCarousel.m 本身并遵循 iCarouselTypeWheel 类型的示例。这将非常接近您想要的效果，但您需要添加自定义突出显示代码。为此，我建议实现 carouselCurrentItemIndexUpdated: 方法并在那里更新视图（设置背景颜色等）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T10:11:26.597

根据您显示的图像，您似乎可以使用此自定义表格视图代码。在哪里选择行方法您可以编写自己的逻辑代码。

[自定义圆形表视图](https://iphone2020.wordpress.com/2012/06/10/uitableview-tricks/)

希望这对你有用。

享受编码:)

# python - R 编程语言的 Python 接口

> ID：11716923
> 
> 赞同：53
> 
> 时间：2012-07-30T07:17:38.447
> 
> 标签：python, r, rpy2, pyrserve, pyper

我对 R 很陌生，并且非常习惯于 python。我不太习惯编写 R 代码。我正在寻找 R 的 python 接口，它可以让我以**pythonic 方式**使用 R 包。

我做了谷歌研究，发现很少有可以做到这一点的软件包：

*   [Rpy2](http://rpy.sourceforge.net/rpy2.html)
*   [派珀](http://www.webarray.org/softwares/PypeR/)
*   [pyRserve](http://packages.python.org/pyRserve/manual.html)

但不确定哪个更好？哪个贡献者更多，使用更积极？

请注意，我的主要要求是**访问 R 包的 pythonic 方式**。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-07-30T07:36:13.160

正如@lgautier 所指出的，[关于这个主题已经有了另一个答案](https://stackoverflow.com/q/5630441/1290420)。我在这里留下我的答案，因为它增加了作为新手接近 R 的经验，首先了解 Python。

* * *

我同时使用 Python 和 R，并同情您作为 R 新手的需求。

由于您得到的任何答案都是主观的，因此我根据我的经验总结几点：

*   我使用[rpy2](https://rpy2.github.io/)作为我的接口，发现它是“Pythonic”、稳定、可预测和有效的，足以满足我的需求。我没有使用过其他软件包，所以这不是对它们的评论，而是对 rpy2 本身的优点的评论。
*   但是不要期望在不学习两者的情况下在 Python 中使用 R 会有一种简单的方法。我发现在两种语言之间添加接口可以在您了解两种语言的情况下轻松编码，但对于缺乏其中一种语言的人来说，这是调试的噩梦。

我的建议：

1.  对于大多数应用程序，Python 都有一些包可以让你做大部分你想在 R 中做的事情，从数据整理到绘图。查看[SciPy](http://www.scipy.org/)、[NumPy](http://www.numpy.org/)、[pandas](http://pandas.pydata.org/)、[BioPython](http://biopython.org/wiki/Biopython)、[matplotlib](http://matplotlib.sourceforge.net/)和其他科学软件包，甚至是完整的[Anaconda](https://store.continuum.io/cshop/anaconda/)或[Enthought](http://www.enthought.com/products/epd.php) python 发行版。这使您可以留在 Python 环境中，并为您提供所需的大部分功能。
2.  同时，您将需要 R 的大量专用软件包，因此请花一些时间在交互式环境中学习它。我发现几乎不可能在命令行上掌握基本的 R，但是[RStudio以及](http://rstudio.org/)[Quick-R](http://www.statmethods.net/)和[Learn-R](http://learnr.wordpress.com/)的教程让我走得非常快。

一旦你知道这两者，那么你将使用[rpy2](https://rpy2.github.io/)做魔法，而不用担心跨语言调试。

* * *

## 新资源

**2015 年 1 月 29 日更新**

这个答案已被证明很受欢迎，所以我认为指出两个最近的资源会很有用：

*   Ralph Heinkel 在 EuroPython 2014 上就这个主题发表了精彩的演讲。有关[*结合强大的 Python 和 R 世界的*](https://www.youtube.com/watch?v=ucJ2-5a2CAA)视频可在[EuroPython YouTube 频道上](https://www.youtube.com/channel/UCadZ6_NWdCN6YolgQdfV8Pg)找到。引用他的话：

> 三元组[R](http://www.r-project.org "R")、[Rserve](https://rforge.net/Rserve/ "储备")和[pyRserve](https://pypi.python.org/pypi/pyRserve/ "pyRserve")允许建立从 Python 到 R 的网桥：现在可以从 Python 调用 R 函数，就好像它们是用 Python 实现的一样，甚至可以通过此连接执行完整的 R 脚本。

*   现在可以将 R 和 Python 结合使用[`rmagic`，`IPython/Jupyter`](https://rpy2.github.io/doc/latest/html/interactive.html#rmagic)从而极大地简化生产结合两种语言的可重复研究和笔记本的工作。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-30T08:20:47.950

之前在网站上回答了一个关于[比较 rpy2、pyrserve 和 pyper](https://stackoverflow.com/questions/5630441/how-do-rpy2-pyrserve-and-pyper-compare)的问题。

关于贡献者的数量，我想说所有 3 个贡献者的数量都相对较少。像[Ohloh](http://www.ohloh.net)这样的网站可以给出更详细的答案。

如何积极地使用一个包是很难确定的。一个指标可能是下载次数，另一个指标可能是邮件列表上的帖子数量，或者像 stackoverflow 这样的网站上的问题数量，使用它或引用它的其他包的数量，简历或职位空缺的数量提到包裹。尽管我相信我可以给出公平的评价，但我也可能被视为存在利益冲突。;-)

三者各有利弊。我会说你基于你的选择。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-30T09:15:23.050

我个人经历过`Rpy`，没有`Rpy2`。`system`我使用了一段时间，但为了使用命令而放弃了它。我的一个典型案例是使用 Python 脚本运行 FORTRAN 模型，并使用 R 进行后处理。根据我的经验，最简单的解决方案是使用 R 创建一个命令行工具，这非常简单（至少在 Linux 下是这样）。命令行工具可以在模型运行的根目录中执行，脚本会在一个`Routput`目录中生成一组 R 对象和绘图。以这种方式断开 R 和 Python 的优势在于，我可以轻松地将 R 代码与 Python 代码分开调试。

我认为`Rpy`当需要在 R 和 Python 之间进行大量来回通信时，它真的会发光。但是，如果功能可以很好地分离，并且磁盘 i/o 的开销不是太差，我会坚持`system`调用。[`?system`](http://stat.ethz.ch/R-manual/R-patched/library/base/html/system.html)有关系统调用以及[`Rscript`](http://stat.ethz.ch/R-manual/R-patched/library/utils/html/Rscript.html)将 R 脚本作为命令行工具运行的更多信息，请参阅参考资料。

关于您希望以 Python 方式编写 R 代码的愿望，这是不可能的，因为所有解决方案都要求您以 R 语法编写 R 代码。因为`Rpy`这意味着 R 语法，但有点不同（`.`例如没有）。我同意@gauden 的观点，即使用 R through 没有捷径`Rpy`。

# php - 使用模式登录的错误消息

> ID：11716925
> 
> 赞同：0
> 
> 时间：2012-07-30T07:17:54.820
> 
> 标签：php, login

如果登录失败，我需要显示一个对话框。现在我可以在表单中显示错误行，但我需要使用`modals`. 这是我的代码：

```
$sfAuth = new SfAuthenticate();
$sfHelper = new SfHelper();

$user = $_POST['txtUsername'];
$pass = $_POST['txtPassword'];  

$checkUser = $sfAuth->checkUserJobSeeker($user);

if($checkUser)
{
    $login = $sfAuth->loginJobSeeker($user, $pass);
    if($login)
    {           
        echo $sfHelper->redirect('forms/jobSeeker/HomeJobSeeker.php');
    }else{

        echo $sfHelper->redirect('forms/jobSeeker/formLoginJobSeeker.php?err=Invalid Username or Password');
    }
}else{
    echo $sfHelper->redirect('forms/jobSeeker/formLoginJobSeeker.php?err=Sorry, We Cannot found your Username');
    } 
```

我想在重定向到登录表单后显示对话框。谁能帮帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-04T12:43:03.070

要显示模式对话框，您需要 javascript。检查这个以前的 SO 问题：[如何在 HTML 中创建弹出窗口（模式对话框](https://stackoverflow.com/q/5337417/1349295)）。同样，我建议检查[jQueryUI](http://jqueryui.com/demos/dialog/)，它是 javascript 库 jQuery 的扩展。

在 3 个步骤中，这是它的工作原理：

**在页面中包含 jQuery 和 jQueryUI 库脚本**

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/themes/base/jquery-ui.css" type="text/css" media="all" />
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"/></script> 
```

**为要显示的模式对话框创建标记**

不需要花哨，但请注意`id`标签，因为 jQuery 使用它来知道要在对话框中显示哪个元素。

```
<div id="dialog" title="Basic dialog">
    <p>This is the message inside the modal dialog.</p>
</div> 
```

**使用 jQueryUI 显示对话框**

```
<script>
    $(document).ready(function() {
        $( "#dialog" ).dialog();
    });
</script> 
```

在此处查看完整的工作示例：http: [//jsfiddle.net/wjp94/3/](http://jsfiddle.net/wjp94/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T02:55:37.767

看看这个小提琴，它应该可以工作：http: [//jsfiddle.net/7PwWp/5/](http://jsfiddle.net/7PwWp/5/)

至于在用户错误时启动模态窗口，您可以添加一个条件：

```
<?php if(isset($_GET['err']): ?>
  launchWindow('#message');
<?php endif; ?> 
```

在消息框中，您可以输入：

```
<p><?php echo (isset($_GET['err'])? $_GET['err']:''; ?></p> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:22:40.973

将此代码放在 formLoginJobSeeker.php 文件中

```
<?php
if($_GET['err'] == "Sorry, We Cannot found your Username")\
{
echo '<script> alert("Sorry Wrong Username Or Password");</script>'
}
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-09T07:07:29.250

如果要显示对话框，则必须使用 jquery 对话框

将以下代码添加到您的页面；

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/themes/base/jquery-ui.css" type="text/css" media="all" />
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"/></script>

<div id="dialog" title="Basic dialog" style="display:none">
  <p>
         <?php if(isset($_GET['err'])) echo $_GET['err'];?>
  </p>
</div>

<?php if(isset($_GET['err']){ ?>
   <script type="text/javascript">
   $(document).ready(function() {

         $( "#dialog" ).dialog();
    });
    </script>
<?php } ?> 
```

如果你想看看你的模态看起来像这个链接 [http://codebins.com/bin/4ldqp8p](http://codebins.com/bin/4ldqp8p)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-09T14:42:01.000

解决了？如果没有，这是我的解决方案。

像那样重定向到某事（注意`#run_modal`）：

```
`forms/jobSeeker/formLoginJobSeeker.php?err=YOUR_MESSAGE#run_modal` 
```

和JS：

```
function detectModalParam()
{
    var hash = $(location).attr('hash');

    if (hash == '#run_modal')
    {
        YOUT_MODAL_FUNCTION();
    };
}

$(document).ready(function()
{
    detectModalParam();
} 
```

# c# - Umbraco 自定义部分中的多级树

> ID：11716932
> 
> 赞同：2
> 
> 时间：2012-07-30T07:18:37.533
> 
> 标签：c#, .net, tree, umbraco

我目前正在尝试创建自定义树，并且在尝试渲染节点子节点时遇到了麻烦。在浏览了各种文章/帖子后，我在这一点上：

```
public override void Render(ref XmlTree tree)
{
  List<Node> articles = NodeUtil.GetAllNodesOfDocumentType(-1, "Promoter");
  Node article = articles.Where(p => p.CreatorID == UmbracoEnsuredPage.CurrentUser.Id).FirstOrDefault();

  if(promo != null)
  {
      var dNode = XmlTreeNode.Create(this);
      dNode.NodeID = article.Id.ToString();
      dNode.Text = article.Name;
      dNode.Icon = "doc.gif";
      dNode.Action = "javascript:openArticle(" + article.Id + ")";
      dNode.Source = article.Children.Count > 0 ? this.GetTreeServiceUrl("" + article.Id) : "";
      tree.Add(dNode);
  }
} 
```

上面的代码获取了属于当前用户的文章（为了测试，目前每个用户只有一篇文章）。然后，我尝试打印出本文的子项，但没有得到所需的输出，而是得到以下结果：

```
Article Name
- Article Name
  - Article Name
   - Article Name 
```

每次我展开一个节点时，它似乎只是渲染同一个节点，然后继续。

我见过其他使用树服务的方法，例如：

```
TreeService treeService = new TreeService(...);
node.Source = treeService.GetServiceUrl(); 
```

但是我收到一条错误消息，说没有 GetServiceUrl 方法需要 0 个参数。我假设上述方法适用于早期版本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-16T03:26:52.400

我花了一段时间才解决这个问题。这是解决方案，希望对某人有所帮助。

```
const string PARENT_ID = "10"; // The ID of the node that has child nodes

public override void Render(ref XmlTree tree)
{
  if (this.NodeKey == PARENT_ID) // Rendering the child nodes of the parent folder
  {
    // Render a child node
    XmlTreeNode node = XmlTreeNode.Create(this);
    node.NodeID = "11";
    node.Text = "child";
    node.Icon = "doc.gif";
    node.Action = ...
    tree.Add(node);
  }
  else // Default (Rendering the root)
  {
    // Render the parent folder
    XmlTreeNode node = XmlTreeNode.Create(this);
    node.NodeID = PARENT_ID;
    node.Source = this.GetTreeServiceUrl(node.NodeID);
    node.Text = "parent";
    node.Icon = "folder.gif";
    tree.Add(node);
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T12:57:22.793

输出表明您正在构建的节点树正在嵌套每个子节点 - 这是[因为 nodeId 在每次 pass 时都被重置为 -1](http://our.umbraco.org/forum/developers/api-questions/8520-Custom-Section-Tree-Child-Node)。

[our.umbraco.org 上的这篇文章](http://our.umbraco.org/forum/developers/api-questions/8520-Custom-Section-Tree-Child-Node)描述了同样的问题，并建议您使用 NodeKey 而不是 ID 在节点之间移动。

**

不一定有帮助，但我会使用ucomponents 包附带的[uQuery 语言扩展（以及谁在没有 ucomponents 的情况下安装 Umbraco？），以简化方法调用：](http://ucomponents.codeplex.com/wikipage?title=uQuery)

例如：

```
List<Node> articles = uQuery.getNodesByType("Promoter");
foreach(Node article in articles)
{
  List<Node> children = article.GetDescendantNodes();
  ... build tree
} 
```

# c# - 如何基于键值对创建对象

> ID：11716933
> 
> 赞同：2
> 
> 时间：2012-07-30T07:18:45.667
> 
> 标签：c#, .net, design-patterns

假设您有键/值对的集合。例如： -

```
dictionary<string,string> myObjectToBeCreated = new dictionary<string,string>();
myObjectToBeCreated.Add("int","myIntObject");
myObjectToBeCreated.Add("string","myStringObject");
myObjectToBeCreated.Add("employee","myEmployeeObject"); 
```

现在，如何使用 myObjectToBeCreated 创建名为 myIntObject 的 int 对象。像这样的东西： -

```
int myIntObject;
string myStringObject;
Employee myEmployeeObject = new Employee(); 
```

注意：您只有收藏。该集合具有数据类型和对象名称。如何使用特定名称（在字典中定义）创建那些数据类型的对象。您可以传递此集合（MyObjectsToBeCreated 以任何您想要的方法）。但最后你应该得到类型的对象（在字典中指定）。

您可以使用任何设计模式，比如***factory/dependency/builder***。甚至您也可以使用模式自由地实现上述 w/o。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T07:23:33.933

仅使用自定义类的类名是不够的。您需要整个命名空间。

然后假设您有一个可以使用的类型的无参数构造函数

```
Activator.CreateInstance(Type.GetType(strNamespace + strType)) 
```

或者

```
Activator.CreateInstance(strNamespace, strType) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T07:30:57.430

如果您可以使用 Type 而不是字符串：

```
Dictionary<Type, object> yourObjects = new Dictionary<Type, object>();
yourObjects[typeof(int)] = 5;
yourObjects[typeof(string)] = "bamboocha";

var integer = (int)yourObjects[typeof(int)]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-30T07:56:52.013

```
var myObjects = new Dictionary<string, Object>();

foreach (var pair in myObjectToBeCreated)
{
    var strNamespace = //set namespace of 'pair.Key'
    myObjects.Add(pair.Value, Activator.CreateInstance(strNamespace, pair.Key));
}

// and using it
var myEmployeeObject = (Employee)myObjects["myEmployeeObject"]; 
```

# php - 有没有办法让所有模板都继承母模板

> ID：11716934
> 
> 赞同：3
> 
> 时间：2012-07-30T07:18:47.673
> 
> 标签：php, templates, symfony

我正在为我的 Web 应用程序使用 symfony。

我的文件夹中有许多模板，没有任何扩展标签。

目前他们只是用自己的内容打开，但我希望所有这些都应该从母模板扩展。

我知道使用这个：

```
{% extends 'AnmeBundle::layout.html.twig' %}
{% block body %} 
```

有没有办法做到这一点而不在每个模板文件中写入？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T20:55:19.933

**对于 Symfony 2.0**

我相信你可以通过复制来解决

```
TwigBundle/Resources/views/layout.html.twig 
```

至

```
app/Resources/TwigBundle/views/layout.html.twig 
```

在那里你可以覆盖 Twig 基本文件，它应该会影响你的所有模板。

将来开始一个项目时，我会创建一个 base.html.twig 模板，并在您创建它们时将其包含在所有其他模板中，而不是重载 twig 基础

我强烈推荐 RTM：[http ://symfony.com/doc/current/book/templating.html](http://symfony.com/doc/current/book/templating.html)

**对于 Symfony 1.4**

layout.php（在apps//templates/layout.php 中）是默认的全局模板。全局模板用于通用代码（页眉、页脚、机器人代码、谷歌分析）。

您可以在与 layout.php 相同的文件夹中创建自己的全局模板，并使用该模块的 view.yml 强制不同的操作使用不同的全局模板。

像这样：

```
indexSuccess:
  layout: my_layout 
```

或者您可以在操作中以编程方式执行此操作：

```
$this->setLayout('my_layout'); 
```

或在模板中

```
<?php decorate_with('my_layout') ?> 
```

我强烈推荐 RTM：[http ://www.symfony-project.org/gentle-introduction/1_4/en/07-Inside-the-View-Layer](http://www.symfony-project.org/gentle-introduction/1_4/en/07-Inside-the-View-Layer)

# plsqldeveloper - 查询执行时间差？

> ID：11716939
> 
> 赞同：1
> 
> 时间：2012-07-30T07:18:56.673
> 
> 标签：plsqldeveloper

我有一个这样的手动查询：

```
 SELECT 
    to_char( to_date('29-Jul-12 22:25:11','DD-MON-YY HH24:MI:SS')- SYSDATE ) 
 FROM DUAL 
```

我只需要显示输出，例如`HH24:MM:SS`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T10:24:41.240

```
SELECT trunc(MOD((SYSDATE - to_date('29-Jul-12 22:25:11', 'DD-MON-YY HH24:MI:SS')) * 24, 24)) || ':' ||
       trunc(MOD((SYSDATE - to_date('29-Jul-12 22:25:11', 'DD-MON-YY HH24:MI:SS')) * 24 * 60, 60)) || ':' ||
       trunc(MOD((SYSDATE - to_date('29-Jul-12 22:25:11', 'DD-MON-YY HH24:MI:SS')) * 24 * 60 * 60, 60)) Time
FROM   dual 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:05:29.637

编写获取您的印章日期并返回 varchar2 的函数（类似于“HH24:MI:SS”的值）

```
 create or replace Function Get_Difference(i_Stamp_Date date) return varchar2 is
  v_Result varchar2(8);
begin    
  v_Result := Round(mod((sysdate - i_Stamp_Date) * 24, 24)) || ':' ||
              Round(mod((sysdate - i_Stamp_Date) * 1440, 60)) || ':' ||
              Round(mod((sysdate - i_Stamp_Date) * 86400, 60));

  return v_Result;
end; 
```

然后你可以这样称呼它：

```
SELECT Get_Difference(to_date('29-Jul-12 22:25:11','DD-MON-YY HH24:MI:SS'))  FROM DUAL 
```

并享受它！

# asp.net - 如何在 vb.net asp.net 上自动选中复选框？

> ID：11716941
> 
> 赞同：2
> 
> 时间：2012-07-30T07:19:07.257
> 
> 标签：asp.net, vb.net

我必须在 insert.aspx 上插入一些数据值和值，例如这张图片

![在此处输入图像描述](../Images/0175d82e31c7a4f48d21ecd063c1a842.png)

以及我如何显示这样来更新数据 update.aspx

![在此处输入图像描述](../Images/375d2a9a8785d189bf4d07c4ed3b85e9.png)

那么如何使 update.aspx 上的复选框像 insert.aspx 一样自动检查

在 Insert.aspx.vb 上

Protected Sub insertdata() Dim cls As New 连接

```
 cls.openconnections()
    Dim cmd As New SqlClient.SqlCommand
    cmd.Connection = cls.cn

    cmd.CommandType = CommandType.StoredProcedure
    cmd.CommandText = "sp_inserttrainer"

    cmd.Parameters.AddWithValue("@id", txtKode.Text)
    cmd.Parameters.AddWithValue("@nama", txtnama.Text)
    cmd.Parameters.AddWithValue("@status", txtstatus.SelectedValue)
    cmd.Parameters.AddWithValue("@alamat", txtalamat.Text)
    cmd.Parameters.AddWithValue("@telp", txttel.Text)
    cmd.Parameters.AddWithValue("@hp", txthp.Text)
    cmd.Parameters.AddWithValue("@email", txtemail.Text)

    cmd.ExecuteNonQuery()
    cls.closeconnection()

End Sub
 Protected Sub savedatamateri()

    Dim cbterpilih As Boolean = False
    Dim cb As CheckBox = Nothing
    Dim n As Integer = 0

    Do Until n = gridsecond.Rows.Count
        cb = gridsecond.Rows.Item(n).FindControl("chkStatus")
        If cb IsNot Nothing AndAlso cb.Checked Then
            cbterpilih = True

            Dim cls As New connections
            cls.openconnections()
            Dim cmd As New SqlClient.SqlCommand
            cmd.Connection = cls.cn

            cmd.CommandText = "Insert Into m_trainer_detil (trainer_id, materi_id)"
            cmd.CommandText &= "values(@triner, @materi)"

            Dim com As HiddenField = CType(gridsecond.Rows(n).FindControl("HiddenField2"), HiddenField)

            cmd.Parameters.AddWithValue("@triner", txtKode.Text)
            cmd.Parameters.AddWithValue("@materi", com.Value)

            cmd.ExecuteNonQuery()
            cls.closeconnection()

        End If

        n += 1
    Loop
End Sub

 Protected Sub insert_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles insert.Click
        If txtalamat.Text = "" Then
            labelran.Text = "Tolong isi Alamat"
        ElseIf txtemail.Text = "" Then
            labelran.Text = "Tolong isi Email"
        ElseIf txtnama.Text = "" Then
            labelran.Text = "Tolong isi Nama"
        ElseIf txttel.Text = "" Then
            labelran.Text = "Tolong isi Telepon"
        ElseIf txthp.Text = "" Then
            labelran.Text = "Tolong isi Handphone"
        Else
            insertdata()
            savedatamateri()
            listhendle()
        End If

    End Sub 
```

对于 update.aspx.vb

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load

        If Not Page.IsPostBack Then
            listhendle()
            listmateri()

    End If
End Sub

Protected Sub listhendle()
    Dim ds As New DataSet
    Dim cls As New connections

    ds = cls.returndataset("select * from [m_trainer] ")

    If ds.Tables(0).Rows.Count = 0 Then
        ds.Tables(0).Rows.Add(ds.Tables(0).NewRow)
    End If
    griddata.DataSource = ds
    griddata.DataBind()

End Sub
Protected Sub listmateri()
    Dim ds As New DataSet
    Dim cls As New connections

    ds = cls.returndataset("select * from [m_materi] ")

    If ds.Tables(0).Rows.Count = 0 Then
        ds.Tables(0).Rows.Add(ds.Tables(0).NewRow)
    End If
    gridsecond.DataSource = ds
    gridsecond.DataBind()

End Sub

Protected Sub griddata_SelectedIndexChanging(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewSelectEventArgs) Handles griddata.SelectedIndexChanging

        Dim kode As HiddenField = CType(griddata.Rows(e.NewSelectedIndex).FindControl("HiddenField1"), HiddenField)

        txtKode.Text = kode.Value
        txtnama.Text = Replace(griddata.Rows(e.NewSelectedIndex).Cells(1).Text, "&nbsp;", "")
        txtalamat.Text = Replace(griddata.Rows(e.NewSelectedIndex).Cells(2).Text, "&nbsp;", "")
        txttel.Text = Replace(griddata.Rows(e.NewSelectedIndex).Cells(3).Text, "&nbsp;", "")
        txthp.Text = Replace(griddata.Rows(e.NewSelectedIndex).Cells(4).Text, "&nbsp;", "")
        txtstatus.SelectedValue = Replace(griddata.Rows(e.NewSelectedIndex).Cells(5).Text, "&nbsp;", "")
        txtemail.Text = Replace(griddata.Rows(e.NewSelectedIndex).Cells(6).Text, "&nbsp;", "")

    End Sub 
```

但我不知道如何将 materi 与数据库连接 谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T16:37:29.953

看起来您将 materi_id 存储在表 m_trainer 中。所以看起来你需要在你的“gridSecond”GridView 上设置一个 OnRowDataBound 事件。在 OnRowDatabound 事件中获取所选 trainer_id 的数据集，如果 materi_id 存在于该数据集中，则将其选中值设置为 true。

# javascript - 我可以在浏览器地址栏上获取#value 吗？

> ID：11716942
> 
> 赞同：2
> 
> 时间：2012-07-30T07:19:07.637
> 
> 标签：javascript, jquery, html

> **可能重复：**
> [使用 Javascript 在字符串中查找“#”字符](https://stackoverflow.com/questions/10298328/find-the-character-in-a-string-with-javascript)
> [如何使用 jquery 从 URL 获取哈希 (#) 后的值](https://stackoverflow.com/questions/11662693/how-do-i-get-the-value-after-hash-from-a-url-using-jquery)

我可以在浏览器地址栏上获取#value 吗？
例如来自 URL： [http](http://test.com/#div1)
://test.com/#div1 我可以使用 javascript 从该 url 获取 div1 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:23:11.413

您可以使用`window.location.hash`.

# c#-3.0 - 3.5 上带有 dapper 的动态结果集

> ID：11716943
> 
> 赞同：3
> 
> 时间：2012-07-30T07:19:11.177
> 
> 标签：c#-3.0, dapper, micro-orm

我有一个存储过程调用返回一个预先未知字段的记录集。出于某种互操作的原因，我需要让它在 3.5 上运行，所以我没有任何动态支持。dapper 中是否有一些内置解决方案？我自己一个也没找到。如果没有这样的解决方案，动态创建一个暴露我要获取的属性的类型是否有意义（并且它是否有效）？ **编辑** 我设法通过在 c# 3.0 中创建一个动态对象来添加一个完全外部的解决方案（无需调整原始代码库）。 [这是扩展小巧的代码](https://github.com/FelicePollano/Dapper.Toolkit/blob/master/Dapper.Toolkit/Dapper/Extensions.cs) [，这里是动态对象的工厂](https://github.com/FelicePollano/Dapper.Toolkit/blob/master/Dapper.Toolkit/PropertyBag/PropertyBagFactory.cs)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T10:46:29.763

好吧，*实际上*dapper 中的`dynamic`支持是通过 ExpandoObject 实现的，它*基本上*只是一个字典。调整现有代码以返回`IDictionary<string,object>`而不是`dynamic`在 3.5 的情况下将非常简单

# android - 为什么填充此数组段错误？

> ID：11716945
> 
> 赞同：2
> 
> 时间：2012-07-30T07:19:25.173
> 
> 标签：android, c, android-ndk, java-native-interface

我在以下代码中遇到了一些问题，这些代码似乎导致了指定行的分段错误。我正在尝试创建一个 8 位无符号整数数组以实例化 OpenCV Mat 对象，但是段错误发生在填充数组的循环的中途。

它似乎每次都发生在不同的迭代中，导致我怀疑某些东西正在被 GC 释放，但我无法确定是什么。

**标志检测器.c**

```
JNIEXPORT void JNICALL Java_org_xxx_detectBlobs(JNIEnv *env, jclass clazz, jintArray in)
{
    jint *contents = (*env)->GetIntArrayElements(env, in, NULL);

    threshold(contents, PIXEL_SAMPLE_RATE);
    detectBlobs(contents);

    (*env)->ReleaseIntArrayElements(env, in, contents, 0);
} 
```

**斑点检测器.cpp**

```
void detectBlobs(jint *contents)
{
    LOGD("Call to detectBlobs in BlobDetector.cpp");

    uint8_t *thresholded = (uint8_t*) malloc(frame_size);

    int i;
    for(i = 0; i < frame_size - 1; i++)
        thresholded[i] = (contents[i] == WHITE) ? 0 : 1; // Segfaults partway through this loop. 
```

frame_size 简单来说就是一张图片的像素数，也相当于图片传入native code的jintArray的长度。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T12:51:50.650

只需在 Android 模拟器上重新启动我的 AVD 即可解决此问题。问题似乎也不会出现在真实设备上，所以我只能得出结论，虚拟设备的 RAM 中发生了爆炸。

# android - 需要有关 android 小部件的帮助

> ID：11716950
> 
> 赞同：1
> 
> 时间：2012-07-30T07:19:33.887
> 
> 标签：android, android-widget

我是android编程的新手。我喜欢创建一个小部件来更新网络状态，例如信号级别、运营商详细信息。我可以每隔一秒更新一次这些数据吗？在小部件中是可能的。如果是，请提供解决方案。
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:31:13.943

您不能在本地执行此操作，因为`android:updatePeriodMillis`限制为至少 30 分钟。

您可以通过添加一个服务来绕过此限制，该服务会将您的小部件更新到 AlarmManager（它支持小于 30 分钟的间隔）：

```
final Intent _intent = new Intent(context, MyUpdateService.class);
final PendingIntent pending = PendingIntent.getService(context, 0, _intent, 0);
final AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
alarm.cancel(pending);
long interval = 60000;
alarm.setRepeating(AlarmManager.ELAPSED_REALTIME, SystemClock.elapsedRealtime(),interval, pending) 
```

# mysql - 更新命令失败。有人可以检查我的查询吗？

> ID：11716954
> 
> 赞同：2
> 
> 时间：2012-07-30T07:20:00.073
> 
> 标签：mysql, sql

我有一张表 ( )，其中缺少 `custTAB`一些*邮政编码，但有**city*，*state*名称。我有`zipTAB`一个*城市*，*州*和*邮政编码*。我的意图是将缺少的邮政编码从 zipTAB 复制到 custTAB。但是，由于某种原因，我的更新无法按预期工作。如果有 10K NULL cust_zips，更新后我得到 20K NULL cust_zips。有人可以检查发生了什么吗？)

```
update custTAB 
   set cust_zip = (select zip 
                     from zipTAB 
                    where custTAB.cust_zip  is null and 
                          custTAB.cust_city   =  zipTAB.city and 
                          custTAB.cust_state  =  zipTAB.state 
                    limit 1 
                  ); 
```

谢谢。PS：为了便于阅读，编辑了行号。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T07:24:38.570

你能试试这个吗？你需要加入这两个表：

```
UPDATE custTab a INNER JOIN zipTab b ON
        a.cust_city = b.city AND
        a.cust_state = b.state
SET a.cust_zip = b.zip
WHERE a.cust_zip IS NULL 
```

# cocos2d-iphone - cocos2d update delta 的单位是秒？

> ID：11716955
> 
> 赞同：3
> 
> 时间：2012-07-30T07:20:01.407
> 
> 标签：cocos2d-iphone, cocos2d-x

cocos2d中update()函数的delta参数单位是什么？

是第二吗？

我似乎找不到任何关于 delta 的文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T08:19:28.060

如果您检查[API](http://www.cocos2d-iphone.org/api-ref/latest-stable/interface_c_c_node.html#a7e0c230d398bba56d690e025544cb745)和[文档](http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide%3adraw_update#update)，则增量时间以秒为单位。

# mysql - 即使条件不满足，sql查询也可以获取数据

> ID：11716956
> 
> 赞同：1
> 
> 时间：2012-07-30T07:20:00.883
> 
> 标签：mysql

我的sql不好，所以请不要因为这样的基本问题骂我。目前我正在做很多关于其他技术的功课，所以当我有时间研究它时，我会改进 sql。无论如何，让我们进入正题。

我的问题是针对以下查询。我正在尝试从三个表中获取数据，只要满足所有条件，它就可以正常工作，但问题是对于发布，可能会发生图像不存在，即不记录图像表中的发布然后`post.post_id = img.post_id and img.sequence='1'`条件失败并且没有行被返回，但我希望行被返回，即使发布的图像中没有记录。在这种情况下，为图像路径列返回 null。

```
SELECT 
    img.path as path, pav.value_text as beds, post.post_id as postID 
FROM 
    postings post, post_attributes_values pav, images img 
where 
    post.post_id = pav.post_id and post.status !='expired' and pav.attr_id='33' and post.post_id = img.post_id and img.sequence='1' and post.post_id=49 
```

如果所有条件都满足，那么 O/P 就像

```
 path                beds          postId
-----------------------------------------------
    saome path value     2             49 
```

但如果`post.post_id = img.post_id and img.sequence='1'`条件不满足，那么 O/P 应该是这样的：

```
 path        beds          postId
----------------------------------------
    null         2              49 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:23:16.560

使用左外连接

```
SELECT 
    img.path as path, pav.value_text as beds, post.post_id as postID 
FROM 
    postings post 
    inner join post_attributes_values pav on post.post_id = pav.post_id and pav.attr_id='33' 
    left outer join images img on post.post_id = img.post_id and  img.sequence='1' 
where  post.status !='expired' and post.post_id=49 
```

# objective-c - AdMob 使应用程序 xcode iPhone 崩溃

> ID：11716959
> 
> 赞同：6
> 
> 时间：2012-07-30T07:20:04.153
> 
> 标签：objective-c, xcode, compiler-errors, admob

因为 iAd 不能在世界范围内使用，所以我决定试试 AdMob

问题是当我启动应用程序时没有错误但是当我按下玩游戏时整个应用程序崩溃

错误->

> [GADBannerView private]：无法识别的选择器发送到实例 0x9159e50 2012-07-30 09:14:12.676 app[1323:c07] ***由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：'-[GADBannerView private]：发送了无法识别的选择器到实例 0x9159e50'

代码->

。H

```
#import "GADBannerView.h"
GADBannerView *_AbMob;
@property(nonatomic,retain) GADBannerView *AbMob; 
```

.m

```
_AbMob =[[GADBannerView alloc]initWithFrame:CGRectMake(0.0,self.view.frame.size.height-195, 320, 50)];

    _AbMob.adUnitID = @"myNumber";
    _AbMob.rootViewController = self;
    [self.view addSubview:_AbMob];

    GADRequest *r = [[GADRequest alloc] init];
    r.testing = YES; 
```

断点->

```
app`-[GADBannerView adSize] at GADBannerView.m:100:
0x1f5c2:  pushl  %ebp
0x1f5c3:  movl   %esp, %ebp
0x1f5c5:  pushl  %esi
0x1f5c6:  subl   $20, %esp
0x1f5c9:  calll  0x1f5ce                   ; -[GADBannerView adSize] + 12 at GADBannerView.m:101
0x1f5ce:  popl   %esi
0x1f5cf:  movl   217414(%esi), %eax
0x1f5d5:  movl   %eax, 4(%esp)
0x1f5d9:  movl   12(%ebp), %eax
0x1f5dc:  movl   %eax, (%esp)
0x1f5df:  calll  0x32022                   ; symbol stub for: objc_msgSend
0x1f5e4:  movl   217442(%esi), %ecx
0x1f5ea:  movl   %ecx, 4(%esp)
0x1f5ee:  movl   %eax, (%esp)
0x1f5f1:  calll  0x32022                   ; symbol stub for: objc_msgSend
0x1f5f6:  movl   8(%ebp), %ecx
0x1f5f9:  testl  %eax, %eax
0x1f5fb:  je     0x1f618                   ; -[GADBannerView adSize] + 86 at GADBannerView.m:101
0x1f5fd:  movl   217402(%esi), %edx
0x1f603:  movl   %edx, 8(%esp)
0x1f607:  movl   %eax, 4(%esp)
0x1f60b:  movl   %ecx, (%esp)
0x1f60e:  calll  0x32034                   ; symbol stub for: objc_msgSend_stret
0x1f613:  addl   $16, %esp
0x1f616:  jmp    0x1f62f                   ; -[GADBannerView adSize] + 109 at GADBannerView.m:101
0x1f618:  movl   $0, 4(%ecx)
0x1f61f:  movl   $0, (%ecx)
0x1f625:  movl   $0, 8(%ecx)
0x1f62c:  addl   $20, %esp
0x1f62f:  popl   %esi
0x1f630:  popl   %ebp
0x1f631:  ret    $4 
```

例外在`0x1f5e4: movl 217442(%esi), %ecx`

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-30T20:27:21.687

我也遇到了这个问题。我使用了`-all_load`链接器标志。

这是您需要的链接。

[https://developers.google.com/mobile-ads-sdk/docs/#incorporating](https://developers.google.com/mobile-ads-sdk/docs/#incorporating)

# php - 在 PHP 中创建一个单词抓取作业

> ID：11716961
> 
> 赞同：1
> 
> 时间：2012-07-30T07:20:08.153
> 
> 标签：php, curl

我想使用 PHP 创建一个作业，它能够遍历字典并将它的所有单词复制到我的数据库中。这是我唯一的要求。

[正如我在这里问的那样](https://webapps.stackexchange.com/questions/29454/dictionary-words-api)，我正在寻找一些可以完成这项工作的 API。但我没有找到任何好的 API，而且看起来没有其他人找到。因此，唯一的可能性是创建一个工作，例如，以某种方式获取诸如 dict.cc 之类的网站的所有单词。

我怎么能开始建立这样的工作？我需要注意什么？对于这样的目的，您有任何意见或构想吗？

谢谢您的意见！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T08:08:03.393

为此，您可以创建一种`dictionary`以下格式（*例如*）：

```
sauna, stoombad|Sauna
fitnessruimte|Fitnessroom
air-conditioning, airconditioning|Air Conditioning
wifi, wlan, internet, adsl, internettoegang|Internet
open haard|Open fire
tv|Television
sat, sat-tv|Satelite
afwasmachine|Vaatwasser
magnetron, combimagnetron|Microwave
oven, mini-oven|Oven
kluis|Safe
koelkast, koel-/vriescombinatie|Frige
koffiemachine|Coffemachine
diepvriezer|Freezer 
```

比你应该读到`file`的`array`，`explode`它进入`values`和`main word`例如：

```
foreach ($dictionary as $key => $value) {
  list($values, $option) = explode('|', $value);
  $values = explode(',', $values);
  $dictionary[$key] = array('option' => trim($option), 'values' => $values);
} 
```

并使用以下方法检索所需的效果（*您也可以`array_walk()`对每个项目使用并应用单独的函数来执行相同的操作*）：

```
foreach ($dictionary[$key]['values'] as $index => $value)
  $itemValues[$index] = '\b'.str_replace(array('/'), array('\/'), trim($value)).'\b'; // adding word boundary to each element and escaping slashes for regexp 
```

并使用读取值数组组成 a`RegExp pattern`来搜索特定的单词集。

```
$pattern = '/'.implode('|', $itemValues).'/i'; // composing RegExpr pattern with case-insensitive option 
```

使用它`pattern`，您可以使用`preg_match`任何文本。如果文本中存在任何单词，例如`air-conditioning`or `airconditioning`，`preg_match`将返回`true`并且您将知道`Air Conditioning` （字典中的单词 after `|`）在文本中可用。您正在针对您的文本`preg_match`对每个`dictionary`项目执行此操作，因此您可以收集您列出的单词。

您可以省略使用单词集并使用每行单词并更详细地测试文本（*针对每个单词*）。

这种技术非常适合用于提取或**测试文本中是否存在**一组单词（*或不同变体或语言中*的一个单词），并将它们**链接****到**一些**概括**的单词或含义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:34:15.913

您可以使用 PERL 或 curl 脚本来记录数据。在[http://www.duden.de](http://www.duden.de)词典网站，使用如下简单思路

[http://www.duden.de/suchen/dudenonline/](http://www.duden.de/suchen/dudenonline/)**字**

你用你的搜索词替换单词“ **word** ”。例如，如果您想获得 car 一词的含义，则 url 必须如下

[http://www.duden.de/suchen/dudenonline/](http://www.duden.de/suchen/dudenonline/)**车**

因此，我们必须找到目标 url 并记录数据。Perl 脚本比 curl 更好。我不知道脚本..你只是谷歌它如何开发 perl 脚本来记录数据..

希望这些信息对你有用

# cakephp - 如何将vb代码翻译成php代码

> ID：11716963
> 
> 赞同：-2
> 
> 时间：2012-07-30T07:20:22.583
> 
> 标签：cakephp, vbscript

我无法将下面编写的 VB 脚本代码翻译成 php 代码，所以请帮助我通过翻译给定的 VB 代码来提供 php 代码。

**VBScript 示例：**

```
Dim HttpObj
Dim sURL
Dim sPage
Dim strResult

sURL = "http://example.com"
Set HTTPObj = New MSXML2.XMLHTTP
HTTPObj.open "get", sURL, False
HTTPObj.Send
sPage = HTTPObj.responseText 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T20:31:46.617

根据您粘贴的损坏代码，您似乎想要获取 xml 页面并转换为可用数组。

本书仅包含该内容，例如[twitter api](http://book.cakephp.org/1.3/en/view/1077/An-Example)

第 46 行`HttpObj`

第 61 行获取数据并转换为数组。您可以改用[Xml 库](http://book.cakephp.org/1.3/en/view/1486/Xml-parsing)。

我已经发布了一些 1.3 的链接，但对于 2.x 应该是一样的。我只是在 2.x 示例中找不到 twitter 示例。

# javascript - Javascript Regex 移动设备音频替换

> ID：11716968
> 
> 赞同：1
> 
> 时间：2012-07-30T07:20:46.500
> 
> 标签：javascript, jquery, regex, replace, podcast

我有一个关于如何在 JavaScript 中使用 Regex 来遍历 div 的每个实例的问题`class="audioplayer"`，然后 a）如果它在台式计算机上，则在底部添加一个下载链接，或者 b）用 HTML5 音频播放器替换整个内容（使用 URL）如果它在 iPhone、iPad、iPod 等上。这是主要的 HTML：

```
<div class="audioplayer">
<embed src="http://www.site.com/audioplayer.swf" wmode="transparent" allowscriptaccess="never" allowfullscreen="false" scale="noscale" flashvars="sourceId=4&amp;mp3url=http://brightcove.vo.llnwd.net/pd16/media/44692000001/44692000001_1745411065001_LEOG-18.mp3&amp;autoplay=false&amp;mp3title=THE LEAGUE OF EXTREMELY ORDINARY GENTLEMEN: Conned Out&amp;color=273643" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/products/flashplayer" height="139" width="356"> 
</embed>
</div> 
```

从我读过的内容来看，这个正则表达式将从上述文本中提取任何和所有 url：

```
/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'\"\\.,<>?\u00AB\u00BB\u201C\u201D\u2018\u2019]))/i 
```

这是我所想的最初模型：

```
jQuery(document).ready(function($) {
    $("div.audioplayer").each(function () {
        var regex = /\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'\"\\.,<>?\u00AB\u00BB\u201C\u201D\u2018\u2019]))/i;
            if(navigator.platform == 'iPad' || navigator.platform == 'iPhone' || navigator.platform == 'iPod') {
                $(this).empty();
                $(this).append('<audio src="'+regex+'"controls>');
            };
            else(){
                $(this).append('<p></p><p></p><p class="audioembed">Click here to <a href="'+regex+'">Download MP3</a></p>');
            };
    });
}); 
```

但显然我错过了一些关键步骤：

1）我只想在 div.audioplayer 中的任何内容上运行正则表达式，并且只返回直接位于 .audioplayer 之后的 URL `mp3url=`。

2) 我显然遗漏了如何获取返回的 URL，将其放入变量中，然后在附加部分中调用该特定变量的内容。

您可以给我的任何帮助，或者如果您能指出我正确的方向，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:31:17.627

您可以尝试仅读取属性：

```
jQuery(document).ready(function($) {
    $(".audioplayer").each(function() {
        var mp3 = $("embed", this).attr("flashvars").match(/mp3url=(.*?)(?:&|$)/)[1];
        if (navigator.platform == 'iPad' || navigator.platform == 'iPhone' || navigator.platform == 'iPod') {
            $(this).empty();
            $(this).append('<audio src="' + mp3 + '"controls>');
        } else {
            $(this).append('<p></p><p></p><p class="audioembed">Click here to <a href="' + mp3 + '">Download MP3</a></p>');
        }
    });
}); 
```

演示：http: [//jsfiddle.net/mNJXc/](http://jsfiddle.net/mNJXc/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:28:14.350

您可以并且应该在不使用正则表达式的情况下遍历 DOM 节点。您可以使用适当的选择器直接使用 jQuery 或 javascript 来完成。见： [http ://api.jquery.com/attr/](http://api.jquery.com/attr/)

使用它来获取“flashvars”属性，并对其进行字符串处理以检索 URL。

# c# - 快速报告错误

> ID：11716970
> 
> 赞同：0
> 
> 时间：2012-07-30T07:21:03.020
> 
> 标签：c#, report

我有[FastReport.NET](http://bit.ly/cKP3lV)，它链接到我的 C# 2010。当我尝试将报告从工具箱拖到 Windows 应用程序上时，它给了我以下错误：

> 类型或命名空间报告不存在。

我尝试添加快速报告的 .dll 引用，但它仍然给我这个错误。可能是因为我使用了 Fast Report.net 演示，或者我缺少什么代码。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:45:13.667

右键单击项目的解决方案资源管理器并选择**添加引用**并浏览并添加相同的**.dll**并按**Ok**。之后，您将不再有此错误。

# jquery - 检查文本框的值是否包含特定的字符串集

> ID：11716973
> 
> 赞同：1
> 
> 时间：2012-07-30T07:21:20.290
> 
> 标签：jquery, contains

我想检查一个文本框的值，它是否包含一组特定的字符串。我该怎么做呢？（最好使用jquery）

我有一个文本框，用户可以在其中输入内容。我想检查他输入的字符串是否同时包含“@”和“端口”。请帮忙..

我尝试使用包含，但它给出了误报。

这是我使用的代码。

```
if($("#id:contains('@'):contains('port')")) {
    $("#1st").hide();
    $("#2nd").show();
} else {
    alert("Wrong value entered.");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:23:11.983

用于`$('#id').val()`获取值。然后，您可以使用常规 JavaScript 函数来检查它是否包含某些值。

```
var value = $('#id').val();
if(~value.indexOf('@') && ~value.indexOf('port')) {
    $("#1st").hide();
    $("#2nd").show();
} else {
    alert("Wrong value entered.");
} 
```

如果您想知道`~`它的作用：这是一种检查`!= -1`as的聪明方法`~-1 == 0`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-07T10:38:28.667

## 这是其他示例的基本解决方案，非常简单，不需要导入任何其他文件。

* * *

函数检查（）

{

```
 var val = frm1.uname.value;
    //alert(val);
    if (val.indexOf("@") > 0)
    {
        alert ("email");
        document.getElementById('isEmail1').value = true;
    }else {
        alert("usernam");
          document.getElementById('isEmail1').value = false;
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-30T07:25:58.737

尝试结合使用 javascript 和 jQuery

```
var txtVal = $("#id").attr('value');
if(txtVal.indexOf("@")!= -1 && txtVal.indexOf("port")!= -1)
   alert('yes');
else
   alert('no'); 
```

# onchange - JavaFX 2 在 FXML 中定义 onChange 监听器

> ID：11716977
> 
> 赞同：3
> 
> 时间：2012-07-30T07:21:48.863
> 
> 标签：onchange, javafx-2, fxml

我正忙于自学 FXML。我是按照[这个](http://www.javaworld.com/javaworld/jw-03-2012/120306-practical-javafx2-2.html?page=6)例子来做的。

这是一个简单的文本编辑器。但是，在本教程中，一切都是 Java 代码。

我自己正在使用 FXML 来分​​离逻辑视图。

我目前面临以下挑战：

我在我的 FXML 中定义了一个 TextArea，如下所示：

```
<TextArea id="taTextArea" fx:id="taContent" wrapText="true" /> 
```

通常你使用 onAction="#actionName" 添加动作监听器

我想知道的是，我怎样才能对文本更改做类似的事情。所以我可以检测是否需要保存，修改状态栏标签等。

我想避免必须将 TextArea 附加到控制器的 init 方法中的更改侦听器（实现 Initializable）。

另外..当我完成这个应用程序时，我会写一篇关于它的博客。由于缺少 FXML 文档，我认为这对其他新手会有帮助。所以我希望我的代码尽可能干净。

## 编辑 1

还没有进展。我需要知道 FXML 中是否有诸如代码完成之类的东西，所以我可以检查我可以在 FXMl 中使用哪些类型的属性。应该有一个 textLength 属性。在提供的链接中，作者使用 lengthProperty.addListener。我需要一个 FXML 等价物

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T10:25:30.323

您可以使用 onKeyPressed 属性：

```
onKeyPressed="#textChanged" 
```

它调用指定控制器中的 textChanged 方法。

对于第二个问题：目前 FXML 的最佳参考是 JavaFX 的 javadoc，因为那里列出了所有属性。

# ibm-midrange - 只能读取一个值

> ID：11716981
> 
> 赞同：2
> 
> 时间：2012-07-30T07:22:25.987
> 
> 标签：ibm-midrange, rpgle, rpg

我编写了一个程序来读取物理文件：

```
0002.00 A REF(USRMF)                                                                
0002.01 AR TSREC                                                                                               
0005.00 A USRID R *用户 ID                                                                                     
0006.00 A USRDT R *日期                                                                                 
0007.00 A USRTI R *time IN                                                                                 
0008.00 A USRTO R *超时                                                                                 
0009.00 AK USRID         

```

我允许用户输入日期、时间和超时。

**当然它会复制 USRID**：

在我的程序中，我检查以前的最大值，如下所示：

```
0019.01 C *LOVAL SETLL USRTS                                                                                  
0019.03 C USRID READE USRTS 45                                               
0019.04 C 道 (*IN45='0')                                                                            
0019.05 C IF (USRDT>=MIN)                                                                           
0019.06 C MOVE USRTO MAX                                                                       
0019.07 C 移动 USRDT 最小值                                                                       
0019.08 C ENDIF                                                                                             
0019.09 C USRID READE USRTS 45                                               
0019.10 C ENDDO                                                                                             
0029.00 C ENDSR

```

我有以下用户：

```
选择 USR ID 用户名  
A0000001 SAMSUL ARIPIN MISDAR                                             
A0000002 NUR QISTINA SAFIYYAH                                             
A0000003 李彩云                                                     
A0000004 SOFFUAN SAURI   

```

但是当我尝试与以前的值进行比较时。我的程序只能检查 user `A000000001`，而不是其他用户。

如何修改程序以便检查所有用户？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T12:53:00.003

在第 19.01 行，为什么要使用 *LOVAL 来设置下限？在我看来，您最好使用“USRID ... SETLL”，这应该可以解决您的问题。当您 SETLL 时，您将光标定位到因子 1 中的值。当因子 1 为 *LOVAL 时，它定位到文件的开头。

然后下一个（READE）操作检索当前位置之后/的记录，并将其键值与因子 1 中指定的键进行比较。由于您定位到文件的开头，READE 将仅匹配第一个（ minimum-order) 文件中的键，所以效果是只有最低的键才会起作用。

出于好奇，你为什么不以自由形式写作？比较/对比...

```
SETLL usrid USRTS ;
READE usrid USRTS ;
DOW Not %EOF(USRTS) ;
   IF USRDT >= MIN ;
      MAX = USRTO ;
      MIN = USRDT ;
   EndIF ;
   READE usrid USRTS ;
EndDO ;
EndSR ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T14:29:19.907

如果要从文件中读取所有用户记录，请将 READE 更改为仅 READ（并删除 key 参数）。

# sql-server-2008 - 使用 SQL Server 2008 运行 Access 2010 时出现运行时错误“-2147024703 (800700c1)”

> ID：11716982
> 
> 赞同：3
> 
> 时间：2012-07-30T07:22:26.733
> 
> 标签：sql-server-2008, odbc, 64-bit, ms-access-2010

我有一个使用 VBA 用 MS ACCESS 2007 编写的应用程序，连接到后端的 SQL Server。Access 和 SQL Server 都在本地运行。我的机器运行 Access 2010 和 MS SQL Server Express 2008 R2（都是 32 位，在 WinXP 上）没有问题。

我有另一台机器，Win7 64 位，运行 Access 2010 和 SQL Server 2008（不是 R2）64 位。

当我在 64 位机器上运行 Access 应用程序时，我有一个下拉框来选择保存各种数据库的 SQL Server。当我选择服务器时，几秒钟后我收到一个错误：

> 运行时错误“-2147024703 (800700c1)”：
> 
> 自动化错误 %1 不是有效的 Win32 应用程序。

当我选择调试选项时，黄色箭头指向： `Set oServer = New SQLDMO.SQLServer`

下一行是： `oServer.Connect ServerName, strSQLUser, strSQLPwd`

在监视列表中，我可以看到`ServerName`、`strSQLUser`和 strSQLPwd 拥有访问 SQL Server 的正确值。我已经在 sqlcmd 中测试了这些，并且成功地能够查询表。

谁能帮我解决这个问题？我不确定下一步该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T08:53:44.013

好像您已经在系统上注册了一个 32 位 SQLDMO，用于连接到 64 位实例。检查您的注册表/文件系统中的 SQLDMO.dll 版本并注册正确的版本。

还要检查 MSDN“[安装 SQL-DMO](http://msdn.microsoft.com/en-us/library/ms141187%28v=sql.105%29.aspx) ”，因为 SQLDMO 计划在 SQL Server 2008 R2 之后删除：

> 避免在新的开发工作中使用此功能，并计划修改当前使用此功能的应用程序。
> 
> SQL Server 数据库管理对象 (SQL-DMO) 已从 SQL Server 2008 R2 Express 和 SQL Server 2008 R2 功能包中删除。SQL-DMO 也不支持 SQL Server 2000 之后引入的数据库引擎功能。我们建议您尽快修改当前使用此功能的应用程序。如果您必须支持 SQL-DMO，请从 Microsoft 下载中心安装 SQL Server 2008 功能包中的向后兼容性组件。不要在新的开发工作中使用 SQL-DMO；请改用 SQL Server 管理对象 (SMO)。您可以通过安装 SQL Server 2008 R2 联机丛书来获取 SMO 文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T00:15:23.997

谢谢你。

我寻找 SQLDMO.DLL 64 位版本，但虽然使用 x64 的向后可比性包，但使用 MSI 安装并没有完成这项工作。

我必须手动提取文件并放置正确的版本（比 x86 版本大约 2MB，以指示知道哪个是 x64），然后在命令行中运行“regsvr32 sqldmo.dll”（非常重要：需要以管理员身份运行 cmd 才能成功）。

模块注册后，我的 Access 前端运行良好。

# c# - 在实体框架c#.net中更改数据库

> ID：11716989
> 
> 赞同：2
> 
> 时间：2012-07-30T07:23:05.197
> 
> 标签：c#, .net, entity-framework, entity

让我们考虑列出的实体类

```
public NerdDinnerEntities() : base("name=NerdDinnerEntities", "NerdDinnerEntities")
        {

            this.ContextOptions.LazyLoadingEnabled = true;

            OnContextCreated();
        }

        /// <summary>
        /// Initialize a new NerdDinnerEntities object.
        /// </summary>
        public NerdDinnerEntities(string connectionString) : base(connectionString, "NerdDinnerEntities")
        {
            this.ContextOptions.LazyLoadingEnabled = true;

            OnContextCreated();
        }

        /// <summary>
        /// Initialize a new NerdDinnerEntities object.
        /// </summary>
        public NerdDinnerEntities(EntityConnection connection) : base(connection, "NerdDinnerEntities")
        {
            this.ContextOptions.LazyLoadingEnabled = true;
            OnContextCreated();
        } 
```

这些在 web 配置文件中被读取为

```
<add name="NerdDinnerEntities" 
    connectionString="metadata=res://*/Models.NerdDinner.csdl|res://*/Models.NerdDinner.ssdl|res://*/Models.NerdDinner.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=*;
    Initial Catalog=db;User ID=*;Password=****;
    MultipleActiveResultSets=True&quot;" providerName="System.Data.EntityClient" /> 
```

我的问题是我需要通过代码将数据库名称从 db 更改为 db1 而无需更改 web 配置文件..

作为一个名为changedatabase（）的类名的实体......但我不知道如何使用它......

我的另一个问题是可以在这个项目中添加一个新的 dll 并在那里更改连接字符串元数据，只要在那里打开连接，它就会到达该 dll 并仅更改数据库名称并返回该数据库。 ..

等待您宝贵的命令和建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T07:35:14.210

```
public class MyEntities : NerdDinnerEntities
{
  public MyEntities() : base(GetConnectionString())
  {
  }

  private string GetConnectionString()
  {
    var connectionString = System.Configuration.ConfigurationManager.
        ConnectionStrings["connectionStringName"].ConnectionString;
    var builder = new System.Data.Common.DbConnectionStringBuilder();
    builder.ConnectionString = connectionString;
    var internalConnectionString = builder["provider connection string"].ToString();
    var newConnectionString = internalConnectionString.Replace("oldDBName", "newDBName");
    builder["provider connection string"] = newConnectionString;
    return builder.ConnectionString;
  }
} 
```

# android - 在Android中为不同布局分离不同编程逻辑的最佳方法是什么？

> ID：11716993
> 
> 赞同：5
> 
> 时间：2012-07-30T07:23:13.310
> 
> 标签：android, android-layout

我为不同的屏幕尺寸和设备使用不同的布局。我使用带有特定布局文件夹的片段。这个概念很棒，对于具有大屏幕的平板电脑和设备，我在 **layout-sw600dp**中放置了一个布局文件，Android 设法在不同的设备上提供正确的布局。

困扰我的是：如何找出代码中使用的布局。对于不同的布局，我的片段需要稍微不同的代码。

**一般来说，在我的片段/活动中分离自定义布局编程逻辑的最佳实践是什么？**

我现在的方法有点老套，与不同的布局文件夹不同步。

```
 private boolean isTabletDevice() {
    if (android.os.Build.VERSION.SDK_INT >= 11) { // honeycomb
      // test screen size, use reflection because isLayoutSizeAtLeast is
      // only available since 11
      Configuration con = getResources().getConfiguration();
      try {
        Method mIsLayoutSizeAtLeast = con.getClass().getMethod("isLayoutSizeAtLeast", int.class);
        Boolean r = (Boolean) mIsLayoutSizeAtLeast.invoke(con, 0x00000004); // Configuration.SCREENLAYOUT_SIZE_XLARGE
        return r;
      } catch (Exception x) {
        x.printStackTrace();
        return false;
      }
    }
    return false;
  } 
```

接着

```
if(isTabletDevice()) {
//findViewById(R.id.onlyInTabletLayoutButton);
}else{
//
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T08:15:49.463

这是我个人使用的方法：

在每个布局中，我将一个[Tag](http://developer.android.com/reference/android/view/View.html#attr_android%3atag)添加到布局的根，并确保所有布局根都具有相同的 id。因此，例如，我将有一个类似于以下内容的布局：

```
<RelativeLayout
android:id="@+id/rootView"
android:tag="landscapehdpi">
<!-- Rest of layout -->
</RelativeLayout> 
```

然后有另一个像：

```
<RelativeLayout
android:id="@+id/rootView"
android:tag="portraitmdpi">
<!-- Rest of layout -->
</RelativeLayout> 
```

然后，一旦布局膨胀，我使用：

```
View rootView = (View) findViewById(R.id.rootView); 
```

这将返回当前正在使用的布局根。现在要确定它到底是哪个布局并运行适当的代码，我使用了一系列 if-else 块：

```
String tag = rootView.getTag().toString();

if(tag.equals("landscapehdpi"))
{
//Code for the landscape hdpi screen
}
else if(tag.equals("portraitmdpi"))
{
//Code for the portrait mdpi screen
}
//And so on... 
```

所以基本上使用它你可以知道在运行时加载了哪个布局，并运行适当的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-30T07:40:42.103

我认为您正在寻找与此问题相同的解决方案，

[如何检测 Android 在我的应用程序中选择了哪个布局？](https://stackoverflow.com/q/11205020/603744).

如果您想查看最佳答案，有两个可用选项。

1.  第一个是为您的值文件夹使用配置，并从那里从您的 xml 文件中获取字符串并交叉检查它。（将其用作标志）。

[https://stackoverflow.com/a/11670441/603744](https://stackoverflow.com/a/11670441/603744)

1.  下一个是将标签设置为您的布局，并从您的代码中获取标签以找出它打印的标签，并根据该标签找到它使用的布局。但是您还必须注意，这种方法存在一个小错误。但我还没有让他们感到厌烦。

[https://stackoverflow.com/a/11205220/603744](https://stackoverflow.com/a/11205220/603744)

# windows-phone-7 - 在 Windows Phone 上播放 M3U8

> ID：11716996
> 
> 赞同：8
> 
> 时间：2012-07-30T07:23:22.107
> 
> 标签：windows-phone-7, live-streaming

我一直在寻找使用媒体框架在 WIndows Mobile 上播放 M3U8 媒体直播流的方法。

请分享这方面的任何信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:52:34.203

您需要读取并解析 m3u8 文件（它是一个简单的文本文件）。然后流式传输解析的 Uri(s)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-04T16:33:34.823

经过更多研究，我发现 m3u8 是 APPLE 支持的格式。

不幸的是，我们无法直接在 windows phone 上播放 m3u8 文件。

相反，我们可以使用流媒体框架来播放 .manifest 文件。.manifest 文件由平滑流媒体服务器生成。.manifest 文件相当于 m3u8 文件。它也是一个播放列表文件，就像 m3u8 文件一样。

SMOOTH STREMAING SERVER，是在 IIS 服务器上工作的 windows 媒体服务的一部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-14T09:37:31.570

您可以使用 Windows Phone 流媒体免费库，它对我来说效果很好，有[一篇关于它的博客文章：](http://www.tareqateik.com/http-live-streaming-hls-on-windows-phone-not-3ivx-free-solution)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-20T08:39:52.810

3ivx 直播 [3ivx](https://www.3ivx.com/technology/windows/metro/http_live_streaming.html)虽然这不是免费的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-06T08:28:13.373

首先添加参考。

```
xmlns:local="clr-namespace:Microsoft.PlayerFramework;assembly=Microsoft.PlayerFramework"
xmlns:smmedia="clr-namespace:SM.Media.MediaPlayer;assembly=SM.Media.MediaPlayer.WP8"

<local:MediaPlayer Name="player"
               HorizontalContentAlignment="Stretch"
               AutoPlay="True"
               Volume="0.7"
               Source="http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8"
               IsPlayPauseVisible="True">
    <local:MediaPlayer.Plugins>
        <smmedia:StreamingMediaPlugin />
    </local:MediaPlayer.Plugins>
</local:MediaPlayer> 
```

# c++ - 在 C++ 中具有唯一条目的队列

> ID：11716997
> 
> 赞同：20
> 
> 时间：2012-07-30T07:23:24.877
> 
> 标签：c++, c, data-structures

我需要在 C 或 C++ 中实现一个包含唯一条目（无重复项）的队列。我正在考虑维护队列中已经可用的元素的引用，但这似乎效率很低。

请让我知道您解决此问题的建议。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-30T07:29:08.933

如何使用辅助数据结构来跟踪唯一性：

```
std::queue<Foo> q;
std::set<std::reference_wrapper<Foo>> s;

// to add:

void add(Foo const & x)
{
    if (s.find(x) == s.end())
    {
        q.push_back(x);
        s.insert(std::ref(q.back()));  // or "s.emplace(q.back());"
    }
} 
```

或者，或者，颠倒队列和集合的角色：

```
std::set<Foo> s;
std::queue<std::reference_wrapper<Foo>> q;

void add(Foo const & x)
{
    auto p = s.insert(x);       // std::pair<std::set<Foo>::iterator, bool>
    if (s.second)
    {
        q.push_back(std::ref(*s.first));  // or "q.emplace_back(*s.first);"
    }
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-30T07:28:28.013

排队：

*   使用 std::set 来维护您的一组独特元素
*   将您能够添加到 std::set 的任何元素添加到 std::queue

出队：

*   从 std::queue 和 std::set 中移除元素

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-07-30T07:39:17.857

`std::queue`是一个容器适配器，使用的底层成员相对较少`Container`。您可以轻松实现包含以下内容的自定义容器： an `unordered_map`of`reference_wrapper<T>`和 a `deque<T>`。它至少需要成员`front`和`push_back`. 检查内部`hash_map`何时`push_back`调用容器并相应地拒绝（可能抛出）。举个完整的例子：

```
#include <iostream>
#include <set>
#include <deque>
#include <queue>
#include <unordered_set>
#include <functional>

namespace std {

// partial specialization for reference_wrapper
// is this really necessary?
template<typename T>
class hash<std::reference_wrapper<T>> {
public:
  std::size_t operator()(std::reference_wrapper<T> x) const 
  { return std::hash<T>()(x.get()); }
};

}

template <typename T>
class my_container {
  // important: this really needs to be a deque and only front
  // insertion/deletion is allowed to not get dangling references
  typedef std::deque<T> storage;
  typedef std::reference_wrapper<const T> c_ref_w;
  typedef std::reference_wrapper<T> ref_w;
public:  
  typedef typename storage::value_type value_type;
  typedef typename storage::reference reference; 
  typedef typename storage::const_reference const_reference; 
  typedef typename storage::size_type size_type;

  // no move semantics
  void push_back(const T& t) {
    auto it = lookup_.find(std::cref(t));
    if(it != end(lookup_)) {
      // is already inserted report error
      return;
    }
    store_.push_back(t);
    // this is important to not have dangling references
    lookup_.insert(store_.back());
  }

  // trivial functions

  bool empty() const { return store_.empty(); }
  const T& front() const { return store_.front(); }
  T& front() { return store_.front(); }

  void pop_front() { lookup_.erase(store_.front()); store_.pop_front();  }
private:
  // look-up mechanism
  std::unordered_set<c_ref_w> lookup_;
  // underlying storage
  storage store_;
};

int main()
{
  // reference wrapper for int ends up being silly 
  // but good for larger objects
  std::queue<int, my_container<int>> q;
  q.push(2);
  q.push(3);
  q.push(2);
  q.push(4);
  while(!q.empty()) {
    std::cout << q.front() << std::endl;
    q.pop();
  }

  return 0;
} 
```

**编辑：**您将想要制作`my_container`一个合适的容器模型（也许还有分配器），但这是另一个完整的问题。感谢 Christian Rau 指出错误。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-30T07:48:59.753

您的问题中没有提到一个非常重要的点，那就是您的项目队列是否已**排序**或具有某种**排序**（称为[Priority queue](http://en.wikipedia.org/wiki/Priority_queue)）或未**排序**（称为普通 FIFO）。您选择的解决方案将仅取决于此问题的答案。

1.  *如果您的队列是 unsorted*，那么在队列之外维护一个额外的数据结构会更有效。使用以某种方式排序的第二个结构来维护队列的内容将允许您检查队列中是否已经存在项目，或者扫描队列本身的速度不会快得多。添加到未排序队列的末尾需要恒定的时间，并且可以非常有效地完成。

2.  *如果您的队列必须排序*，那么将项目放入队列需要您知道项目在队列中的**位置**，这要求无论如何都要扫描队列。一旦你知道了一个项目的位置，你就知道这个项目是否是重复的，因为如果它是重复的，那么一个项目将已经存在于队列中的那个位置。在这种情况下，所有工作都可以在队列本身上以最佳方式执行，并且不需要维护任何辅助数据结构。

数据结构的选择取决于您。但是，对于（1）二级数据结构不应该*是*任何类型的列表或数组，否则扫描二级索引不会比扫描原始队列本身更有效。

# css - 在 Rails 中应该使用什么作为 Sprite 生成器？

> ID：11716998
> 
> 赞同：4
> 
> 时间：2012-07-30T07:23:24.923
> 
> 标签：css, ruby-on-rails, ruby-on-rails-3, twitter-bootstrap, sprite

我见过 Compass 的 Sprite 生成器，它非常简洁。但是，如果有人使用 Twitter Bootstrap，是否有任何类似的 Sprite 生成器解决方案？

我见过[Lemonade](https://github.com/hagenburger/lemonade)（现在已弃用并支持 Compass）和 css_sprite，[它们](https://github.com/flyerhzm/css_sprite)已经有一段时间没有更新了。还有其他选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T12:39:04.280

为什么不使用 Twitter Bootstrap 的 Sass 端口之一，然后使用 compass？

这是我创建的一个示例：http: [//compass-bootstrap2-rails.heroku.com](http://compass-bootstrap2-rails.heroku.com)

```
gem "compass-rails", ">= 0.12"
gem "bootstrap-sass", ">= 2.0" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T07:52:31.623

您还可以尝试[Jammit](http://documentcloud.github.com/jammit/)，它具有大量其他资产打包功能。