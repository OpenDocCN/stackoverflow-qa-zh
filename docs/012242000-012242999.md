# StackOverflow 问答 12242000-12242999

# php - 如何从查询字符串中获取布尔值？

> ID：12242002
> 
> 赞同：4
> 
> 时间：2012-09-03T04:30:16.700
> 
> 标签：php, url, boolean, query-string

如何在查询字符串中发送真值或假值，然后在 php 中使用它？我正在尝试执行以下操作，但即使两者都设置为假，它也会给我真。我将从 htaccess 文件中获取这些值。

```
<?php
$var = $_GET['a'];
$bar = $_GET['b'];

if ($var && $bar)
{
echo "True";
}else
{
echo "False";
}

echo '<a href=?a=false&b=false>Check</a>';
?> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-03T04:32:40.277

它们都评估为 True 因为您无法发送正确的布尔值`true`或`false`通过查询字符串。在 PHP 中，字符串`"true"`和计算结果都为 TRUE。`"false"`要么做：

```
if ($var == "true" && $bar == "true") { 
```

或从您的数据源发送`0`而`1`不是`"true"`和发送`"false"`（我不完全清楚您的 .htaccess 如何适合此处 - 我假设它正在从表单字段中按摩变量，但它最终是无关紧要的。）

有关更多信息，[请查看这个令人难以置信的庞大 PHP 真值表。](http://php.net/manual/en/types.comparisons.php)PHP 的类型强制——也就是说，它将任意变量转换为其他类型的变量的方法——很难预测并根据自己的逻辑进行操作。

也就是说，问题的查询字符串部分本质上不是 PHP 问题 - 没有规范的方法可以通过`GET`或`POST`参数传达布尔值。如果你仔细观察，你会发现每个站点都以自己的方式处理它——一些使用`"true"`，另一些`1`，还有一些使用`TRUE`.

最后一种选择——JSON。尽管对您的情况不太可能有帮助，但我与服务器交换数据的首选方法是将所有数据编码为单个 JSON 字符串。这有一些好处，例如让我可以对封装在我的 JSON 对象中的变量类型进行细粒度的控制，但它的缺点是不能用普通的 HTML 表单来做。不过，如果您正在做一个 AJAX-ey 网络应用程序，那就太好了。

# c# - 如何将这些字符串转换为普通字符串？

> ID：12242003
> 
> 赞同：1
> 
> 时间：2012-09-03T04:30:27.810
> 
> 标签：c#, string, unicode, converter

我有这些字符串：

```
\x22vi\x26#7879;t\\u003Cb\\u003E nam\\u003C\\/b\\u003E\x22
\x22vi\x26#7879;t\\u003Cb\\u003E nam net\\u003C\\/b\\u003E\x22
\x22vi\x26#7879;t\\u003Cb\\u003E b\x26#7843;n \x26#273;\x26#7891;\\u003C\\/b\\u003E\x22
\x22vi\x26#7879;t\\u003Cb\\u003E ti\x26#7871;n\\u003C\\/b\\u003E\x22 
```

我从谷歌自动完成器中得到它，关键字是[việt](https://www.google.com.vn/s?hl=vi&gs_nf=1&tok=47VI6ikAHWQeEbETu4Z-1w&cp=4&gs_id=12&xhr=t&q=vi%E1%BB%87t&pf=p&safe=off&output=search&sclient=psy-ab&oq=&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=be3c25b6da637b79&biw=1366&bih=362&tch=1&ech=8&psi=ojJEULrqIcqJrAeA4YCIDQ.1346646665105.1)。如何通过 C# 将其转换为普通字符串？，如下所示：

```
việt nam
việt nam net
việt nam bản đồ
việt tiến 
```

***注意：字符串可以有 unicode 字符。***感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T04:40:10.047

读这个

[将 Unicode 字符串转换为转义的 ASCII 字符串](https://stackoverflow.com/questions/1615559/converting-unicode-strings-to-escaped-ascii-string)

[http://konfabulator.wikia.com/wiki/Convert_HTML_entities](http://konfabulator.wikia.com/wiki/Convert_HTML_entities)

# javascript - 在 CSS 媒体查询中访问屏幕宽度和高度？

> ID：12242011
> 
> 赞同：0
> 
> 时间：2012-09-03T04:31:04.813
> 
> 标签：javascript, css, media-queries

是否可以在 CSS 媒体查询中访问屏幕的宽度和高度，以编写动态 url，如下所示：

```
@media all
{
    background: url("http://site.com/background/" + width + "/" + height");
} 
```

这里的宽度和高度是变量，可以动态设置为用户的宽度和高度。

这是可能的，还是我必须使用javascript来完成这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T04:32:25.033

不可能。CSS 对环境一无所知。

# string - 为什么 G==G 返回假？

> ID：12242014
> 
> 赞同：0
> 
> 时间：2012-09-03T04:31:56.217
> 
> 标签：string, variables, unity3d, unityscript

我正在使用 Unity 游戏引擎，但我的一些代码遇到了问题。

```
function NoteDecision(n :String) {
    Debug.Log("-"+n+"-"); // This is returning -G- which means its just "G"
    Debug.Log(n=="G");  // This is returning false, although n is G
    switch (n){
        case "G":
            Instantiate(GreenNote, SGreenNote.position, SGreenNote.rotation); break;
        case "R":
            Instantiate(RedNote, SRedNote.position, SRedNote.rotation); break;
        case "Y":
            Instantiate(YellowNote, SYellowNote.position, SYellowNote.rotation); break;
        case "B":
            Instantiate(BlueNote, SBlueNote.position, SBlueNote.rotation); break;
        case "O":
            Instantiate(OrangeNote, SOrangeNote.position, SOrangeNote.rotation); break;
        default : Debug.Log("There is a problem here...");
    }
} 
```

所以我的代码没有改变，尽管我可以告诉你自从它停止工作以来发生了什么变化。

变量 n 保存我使用 String.Split() 拆分的字符串的后半部分。之前，它在逗号之前举行了下半场。

```
Y,023.19592 // this is what it used to look like
023.19592,Y // this is what it looks like now 
```

所以无论如何，这是另一段代码

```
note = lines[position].Split(","[0]); // this is where it gets split.
NoteDecision (note[1]);  // calling the function above. 
```

那么有人知道问题是什么或解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:29:42.057

你应该使用：

```
Debug.Log(n.Equals("G")); // this will return true 
```

# sql - 如何恢复 SQL Server 损坏的数据库？

> ID：12242017
> 
> 赞同：0
> 
> 时间：2012-09-03T04:32:30.757
> 
> 标签：sql, sql-server-2008, data-recovery

我已经实现了在后端有 SQL Server 2008 数据库的应用程序。突然它以可疑模式显示。不幸的是，我没有任何备份。我需要恢复这个数据库。我需要做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:59:59.177

这个脚本对我有用。我从[这里](http://lalitcdhake.blogspot.in/)得到这个。完美的工作

# android - 带有搜索栏的android中带有图像的自定义列表视图/列表

> ID：12242020
> 
> 赞同：0
> 
> 时间：2012-09-03T04:32:53.550
> 
> 标签：android, android-layout, android-intent

我对 Android 开发非常陌生。我正在使用带有搜索栏的android中带有图像的自定义列表视图/列表
问题是 **当单击每个项目时我无法进入下一堂课**
是我的相同屏幕截图

```
private void select(String item) {
    // TODO Auto-generated method stub
    try {
        Intent i = null;

        if (item.equals("Aerosol")) {
            intent = new Intent(Search.this,  Aerosol.class);
        }
        if (item.equals("Aluminium")) {
            intent = new Intent(Search.this,  Aluminium.class);
        }

        startActivity(i);

---------- 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T04:44:33.973

```
private void select(String item) {
        // TODO Auto-generated method stub
      try {
      Intent intent = null;

      if (item.equals("Aerosol")) {
            intent = new Intent(Search.this,  Aerosol.class);
      }
      if (item.equals("Aluminium")) {
            intent = new Intent(Search.this,  Aluminium.class);
        }

      startActivity(intent); 
```

只需更改`i` 为`intent`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T04:47:54.377

您已在适配器中添加了 OnItemClickListener。而是为活动中的列表视图添加一个侦听器。还将选择方法移动到活动中。

```
listView.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

 String item =text[position];
 select(item);

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T04:51:23.090

向列表视图添加一个侦听器。

```
 edittext = (EditText) findViewById(R.id.EditText01);
    listview = (ListView) findViewById(R.id.ListView01);
    listview.setAdapter(new MyCustomAdapter(text, image));
    listView.setOnItemClickListener(  onListViewClicked ); 
```

然后添加这个方法：

```
 OnItemClickListener onListViewClicked = new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

 String item =text[position];
 select(item);

        }
    }; 
```

# php - 通过 PHP 和控制台从 Git 中拉取

> ID：12242022
> 
> 赞同：3
> 
> 时间：2012-09-03T04:33:23.677
> 
> 标签：php, git

我有一个位于 Bitbucket 上的项目存储库。我将 repo 克隆到我的本地 PC 上进行处理。然后我推回 Bitbucket，然后我用 putty 连接到我的服务器并调用

```
git pull 
```

并将更改拉到实时服务器。我从不从我的服务器推送。一切都像这样工作正常，但是通过腻子连接到服务器以便拉取并不是很方便。我在其中制作了小脚本“git_pull_script.sh”，如下所示：

```
git reset --hard
git clean -f
git pull
chown -f -R tdadmin *
... 
```

那里没什么问题。如果我在服务器上运行脚本

```
bash /home/tdadmin/git_pull_script.sh 
```

一切顺利，做我需要的。澄清一下，git_pull_script 设置了所有者和组 tdadmin。

现在为了让我更简单，我写了这个小小的 php 脚本。

```
<?php
exec('bash /home/tdadmin/git_pull_script.sh', $output);
print_r($output); 
```

我认为应该做的工作。所以我可以简单地调用[http://tddomain.com/pullscript.php](http://tddomain.com/pullscript.php)

不幸的是，这不起作用。我做错什么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T10:02:18.623

问题出在文件系统权限中。即使更改了所有权限，“.git”存储库文件夹仍保留在 root 所有者和组中。一旦我改变了，一切都很好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T04:48:49.540

也许找不到bash？这是一个更简单的测试脚本来缩小范围

```
<?php
$output=array();
exec("bash --version",$output);
echo "bash:\n";print_r($output);
$output=array();
exec("/bin/bash --version",$output);
echo "/bin/bash:\n";print_r($output);
?> 
```

另一个想法：如果您的主机正在使用 chroot 或其他什么，也许 /home/tdadmin 找不到？尝试一个脚本来确认：

```
<?php
echo file_exists('/home/tdadmin/git_pull_script.sh')?"Yes":"no";
?> 
```

# java - 通过 Socket 发送图像

> ID：12242033
> 
> 赞同：1
> 
> 时间：2012-09-03T04:34:48.567
> 
> 标签：java, sockets

我在通过 Socket（客户端-服务器）发送图像时遇到一个小问题，我只收到“UTF”文本而不是图像对象，代码有问题吗？

此代码仅发送 UTF txt 并在服务器端接收，我使用 UTF 文本在服务器端识别图像（名称），识别后它可以将图像对象发送到客户端

```
 /*
     * ServerSide
     * 
     */
    package Interface_class;

    import configuraciones.procesador;
    import java.awt.image.BufferedImage;
    import java.io.DataInputStream;
    import java.io.DataOutputStream;
    import java.io.File;
    import java.io.IOException;
    import java.net.ServerSocket;
    import java.net.Socket;
    import java.net.SocketTimeoutException;
    import javax.imageio.ImageIO;

    /**
     *
     * @author TheCoder
     */
    public class img_monitor extends Thread{
            ServerSocket serverSocket;
           Socket server;
           BufferedImage bimg;
            byte[] bytes;
           public img_monitor() 
           {
               try{
//Opening server socket
              serverSocket = new ServerSocket(6066);
              System.out.println("Conectado al Socket!");
    }
               catch(IOException ex){
                   System.out.println("Error en: "+ex);

              }
           }

           public void run()
           {
//This class gets the path from a property file (works well)
            procesador obj = new procesador();
            obj.UBARCHIVO_CONFIG();

               while(true)
              {
                   try
                   {

                      server = serverSocket.accept();
                      System.out.println("Nuevo cliente conectado!");
                      DataInputStream din=new DataInputStream(server.getInputStream());
                      DataOutputStream dout=new DataOutputStream(server.getOutputStream());                 
    //Receiving image "name" from client as txt
                      String nombre = din.readUTF();
                      System.out.println(nombre);
//Using path+name of image to identify and send over socket
                      bimg = ImageIO.read(new File(obj.getRuta_arch_img()+nombre));
                      System.out.println(obj.getRuta_arch_img()+nombre);
                      ImageIO.write(bimg,"JPG",dout);
                      System.out.println("Image sent!!!");
    //                  server.close();

                      //lblimg.setIcon(img);
                  }
                 catch(IOException e)
                 {
                      e.printStackTrace();
                      break;
                 }
                 catch(Exception ex)
                {
                      System.out.println(ex);
                }
              }
           }

    } 
```

客户端

```
 /*
     * Client Side 
     * 
     */
    package Interface_class;

    import java.awt.image.BufferedImage;
    import java.io.DataInputStream;
    import java.io.DataOutputStream;
    import java.io.IOException;
    import java.net.ServerSocket;
    import java.net.Socket;
    import java.net.SocketTimeoutException;
    import javax.imageio.ImageIO;

    /**
     *
     * @author TheCoder
     */
    public class Obtener_imagen extends Thread {

        public Obtener_imagen() {
            System.out.println("Loading  Socket!");

        }

        public void run() {
//The class below gets info from database
            CLIENTINFO_CLASS obj = new CLIENTINFO_CLASS();
            obj.consulta();
            try {
                Socket socket = new Socket("localhost", 6066);
    //              DataInputStream din = new DataInputStream(socket.getInputStream());
                DataOutputStream dout = new DataOutputStream(socket.getOutputStream());
               //Using this to send image "name" to server, so it can identify and send image to client
 dout.writeUTF(obj.getImg_name());
                BufferedImage img = ImageIO.read(ImageIO.createImageInputStream(socket.getInputStream()));
                System.out.println("Image received!!!!");
    //                socket.close();
            } catch (IOException ex) {
                System.out.println("Error al abrir el socket" + ex);
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:56:19.030

发送图像后，您不会关闭套接字，因此客户端永远不会停止读取。服务器应该关闭套接字输出流，并在 finally 块中关闭套接字本身。

客户端还应该在 finally 块中关闭他的套接字。

**编辑：**您不需要使用 ImageIO 在服务器上读取和写入图像文件，除非您要更改格式。只需复制字节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:15:27.023

以下代码是我几天前编写的，适用于任何类型的文件/文本（UI 支持）。希望您能发现它对解决您的问题很有用。在此示例中，您的服务器开始侦听指定端口，并且多个客户端可以在之后发送数据服务器启动。

```
/**
Client sends the data
**/
import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.ObjectOutputStream;
import java.io.PrintWriter;
import java.net.Socket;

import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class Client extends JFrame 
{

    JFileChooser fc;
    JButton browse;
    JPanel p1;
    private File file;
    JButton  upload;
    private final int SERVER_PORT=5000;
    private JTextField tf1;
    BufferedInputStream bis;
    BufferedOutputStream bos;
    PrintWriter pw;
    BufferedReader br;
    public Client() 
    {
        initGui();

    }
    public void initGui()
    {
        setSize(300,200);
        setResizable(false);
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        browse=new JButton("browse");
        browse.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent arg0) {
                open();
                tf1.setText(file.getName());

            }
        });
        tf1=new JTextField();
        upload=new JButton("upload");
        upload.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent arg0) {

                try {
                    sendFile();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
        });
        add(tf1,BorderLayout.NORTH);
        p1=new JPanel();
        p1.setLayout(new FlowLayout(10,10,10));
        p1.add(browse);
        p1.add(upload);
        add(p1,BorderLayout.SOUTH);
        setVisible(true);

    }
    public void open()
    {
        fc = new JFileChooser();
        fc.showOpenDialog(this);
        file = fc.getSelectedFile();
        try {
            initNet();
        } catch (Exception e) {
            System.out.println("in initcatch");// TODO Auto-generated catch block
            e.printStackTrace();
        }

    }
    public void initNet() throws Exception
    {

        Socket s=null;
        try{
            setTitle("Startd Client");          
            s=new Socket("localhost",SERVER_PORT);
            bis=new BufferedInputStream(new FileInputStream(file));
            bos=new BufferedOutputStream(s.getOutputStream());
            pw=new PrintWriter(s.getOutputStream(),true);
            br=new BufferedReader(new InputStreamReader(s.getInputStream()));

        }catch(Exception e)
        {
            System.out.println("Error "+e);
        }finally{

        }
    }
    public void sendFile() throws IOException
    {
        pw.println(file.getName());
        int ch=bis.read();
        int counter=0;
        pw.println(file.length());
        while(counter<file.length())
        {
            bos.write(ch);
            System.out.println(ch);
            ch=bis.read();
            counter++;
        }

        System.out.println(ch);
        bos.write(ch);
        bos.flush();
        JOptionPane.showMessageDialog(null,br.readLine());

    }

    public static void main(String[] args) {
        try{
        Client c=new Client();
        }catch(Exception e)
        {
            System.out.println("in catch");
        }
    }
} 
```

**和服务器：**

```
import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.ObjectInputStream;
import java.io.PrintWriter;
import java.net.*;
import java.util.ArrayList;
import java.util.Scanner;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
public class Server extends JFrame
{
    private JButton start;
    private final int SERVER_PORT=5000;
    private ArrayList<Thread> thrdList;
    ServerSocket ss;
    Socket s;
    FileOutputStream fout;
    BufferedInputStream bis;
    BufferedReader br;
    Scanner sc;
    public Server()
    {
        initGui();

    }
    private void initGui()
    {
        setTitle("Server....");
        setSize(300,200);
        setResizable(false);

        start=new JButton("start");
        start.setBounds(10,20,20,20);
        start.addActionListener(new ActionListener() {
            public void actionPerformed( ActionEvent e )
            {

                try {
                    initNet();
                } catch (Exception e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
            }
        }
);
        add(start,BorderLayout.SOUTH);
        setVisible(true);
        addWindowListener(new WindowAdapter() {

            @Override
            public void windowClosing(WindowEvent arg0) {
                // TODO Auto-generated method stub
//              super.windowClosing(arg0);
                JOptionPane.showMessageDialog(null,"closed");
                try{

                if(br!=null)
                    br.close();
                if(bis!=null)
                    br.close();
                System.exit(0);
                }catch(Exception e)
                {
                    System.out.println("in cathch");
                }
            }

        });

    }
    public void initNet() throws Exception
    {

        thrdList=new ArrayList<Thread>();
        try{
            while(true)
            {
                ss=new ServerSocket(SERVER_PORT,1);
                while(true){
                    setTitle("Waitng for Client");
                    s=ss.accept();
                    MultiHandler mh=new MultiHandler(s);
                    thrdList.add(mh);
            }
            }

        }catch(Exception e)
        {
            System.out.println("Error in initNEt"+e);
        }finally{
            for(Thread t:thrdList)
                t.join();
            if(ss!=null)
                ss.close();
        }
    }
    class MultiHandler extends Thread
    {
        Socket sock;
        public MultiHandler(Socket s1) throws Exception
        {
            sock=s1;
            br=new BufferedReader(new InputStreamReader(s.getInputStream()));
            bis=new BufferedInputStream(s.getInputStream());
            System.out.println("Stream attached");
            start();
        }

        @Override
        public void run()
        {

            try {
                ClntHandler c=new ClntHandler(br,bis);

            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        }
    }
    class ClntHandler extends Thread
    {
        BufferedReader br1;
        BufferedInputStream bis1;
        String filename;
        FileOutputStream fout;

        public ClntHandler(BufferedReader in,BufferedInputStream bis) throws Exception 
        {
            br1=in;
            bis1=bis;
            System.out.println("in clnthandler constr");
            start();
        }
        @Override
        public void run()
        {
            try{
                filename=br1.readLine();

                System.out.println(filename);
                fout=new FileOutputStream(filename);
                sc=new Scanner(s.getInputStream());
                int size=sc.nextInt();
                System.out.println("file created");
                int ch=bis.read();
                System.out.println(ch);
                System.out.println("after bis.read()");

                while(size>0)
                {
                    fout.write(ch);
                    System.out.println(ch);
                    ch=bis1.read();
                    size--;
                }

                System.out.println(ch);
                System.out.println("data written");
                PrintWriter pw1=new PrintWriter(s.getOutputStream(),true);
                pw1.println("DATA UPLOADED SUCCESSFULLY");

            }catch(Exception e)
            {
                System.out.println("Error"+e);
            }finally{
                if(fout!=null)
                    try {
                        fout.close();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

                System.out.println("IN Finally");
            }
        }
    }
    public static void main(String[] args) {
        Server s=new Server();
    }

} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-03T04:58:54.843

图像名称 Unicode 字符串和实际二进制图像数据之间没有分隔符。所以我猜接收器会尝试将整个接收到的流转换为字符串：

```
String nombre = din.readUTF(); 
```

您可以将图像名称作为带有大小前缀的二进制缓冲区发送，因此您的流将如下所示：

[用于图像名称的字节数] [二进制图像名称] [图像数据]

然后读取 X 中的前 4 个字节，读取接下来的 X 个字节并转换为图像名称的字符串，读取其余的图像数据。祝你好运 ：）

# .net - Sql server 哪种访问方式更快

> ID：12242037
> 
> 赞同：0
> 
> 时间：2012-09-03T04:35:13.080
> 
> 标签：.net, sql-server, sql-server-2008, ado.net

在 sql server 连接字符串或名称中使用 Ip 更好吗？这两个哪个会更快？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T04:40:56.230

一般来说，在一切平等的情况下，

*   硬编码 IP 地址：错误

*   主机名：好。

性能差异？微不足道。

恕我直言...

# html - ul 允许的子元素

> ID：12242041
> 
> 赞同：24
> 
> 时间：2012-09-03T04:35:47.327
> 
> 标签：html

我正在维护一个旧版应用程序并遇到以下代码：

```
<ul>
   <li>...</li>
   <li>...</li>
   <li>...</li>
   <li>...</li>
   <li>...</li>
   <div>
      <li>...</li>
      <li>...</li>
   </div>
</ul> 
```

我以前从未`div`将标签视为元素的子元素`ul`。HTML 在浏览器中呈现良好。

这是有效的 HTML 吗？我的直觉是，这是一种奇怪的用法。但是，也许这是完全正常和有效的？将元素嵌套在`div`元素内是否`ul`合适？你会推荐还是反对？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-03T04:55:20.477

它在任何版本的 HTML 中都无效，请参见例如[HTML 4.01 on`ul`](http://www.w3.org/TR/html401/struct/lists.html#h-10.2)。

不过，浏览器允许它，并对其进行解析，使其`div`成为 的子项`ul`，并且它们也允许您设置样式`div`。这可能是使用此标记的原因。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-03T05:08:56.900

HTML[无序列表元素](https://developer.mozilla.org/en-US/docs/HTML/Element/ul)( `<ul>`) 表示项目的无序列表，即没有数字顺序的项目的集合，它们在列表中的顺序是没有意义的。通常，无序列表项用项目符号显示，项目符号可以有多种形式，如点、圆形或方形。项目符号样式未在页面的 HTML 描述中定义，而是在其关联的 CSS 中使用 list-style-type 属性定义。

**允许的内容**

> 零个或多个`<li>`元素，最终与`<ol>`和`<ul>`元素混合。

**示例用法：**

```
<ul>
  <li>first item</li>
  <li>second item</li>
  <li>third item</li>
</ul> 
```

您可以像这样使用`<div>`内部`<li>`标签：

```
<ul>
  <li>first item</li>
  <li>second item</li>
  <li>
      third item
      <div>Third Item Contente</div>
  </li>
</ul> 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-03T05:05:28.353

您可以使用[http://validator.w3.org/](http://validator.w3.org/)进行检查。
错误：
1.document类型不允许元素“DIV”在这里；假设缺少“LI”开始标签
2.document 类型不允许在此处使用元素“LI”；缺少“UL”、“OL”开始标签之一

```
The mentioned element is not allowed to appear in the context in which you've placed it; the other mentioned elements are the only ones that are both allowed there and can contain the element mentioned. This might mean that you need a containing element, or possibly that you've forgotten to close a previous element.  

One possible cause for this message is that you have attempted to put a block-level element (such as "<p>" or "<table>") inside an inline element (such as "<a>", "<span>", or "<font>"). 
```

# ruby-on-rails - 预期 css "title" Hartl 的教程第 5 章练习

> ID：12242045
> 
> 赞同：0
> 
> 时间：2012-09-03T04:36:39.350
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rspec

我正在完成[Michael Hartl 的 Ruby on Rails 教程第 5 章练习](http://ruby.railstutorial.org/chapters/filling-in-the-layout#sec-layout_exercises)，但我不断收到一个我无法弄清楚的失败测试。

我正在处理 click_link 问题，并且所有大写字母都匹配，并且我相信所有其他文件都是正确的。我真的不确定这里有什么问题。我试过重新启动Spork。每当我注释掉第一个 click_link 测试时，它都会为第二个测试拉出一个错误，依此类推...随意查看[http://github.com/sambaek/sample_app](http://github.com/sambaek/sample_app)上的代码。

有人可以帮我吗？非常感谢！

## 规范/支持/实用程序.rb

```
include ApplicationHelper 
```

## 规范/请求/static_pages_spec.rb

```
require 'spec_helper'

describe "Static pages" do

  subject { page }

  shared_examples_for "all static pages" do
    it { should have_selector('h1',    text: heading) }
    it { should have_selector('title', text: full_title(page_title)) }
  end

  describe "Home page" do
    before { visit root_path }

    let(:heading)    { 'Sample App' }
    let(:page_title) { '' }

    it_should_behave_like "all static pages"
    it { should_not have_selector 'title', text: '| Home' }
  end

  describe "Help page" do
    before { visit help_path }

    let(:heading)    { 'Help' }
    let(:page_title) { 'Help' }

    it_should_behave_like "all static pages"  
  end

  describe "About page" do
    before { visit about_path }

    let(:heading)    { 'About Us' }
    let(:page_title) { 'About Us' }

    it_should_behave_like "all static pages"
  end

  describe "Contact page" do
    before { visit contact_path }

    let(:heading)    { 'Contact' }
    let(:page_title) { 'Contact' }

    it_should_behave_like "all static pages"
  end

  it "should have the right links on the layout" do
    visit root_path
    click_link "About"
    page.should have_selector 'title', text: full_title('About Us')
    click_link "Help"
    page.should have_selector 'title', text: full_title('Help')
    click_link "Contact"
    page.should have_selector 'title', text: full_title('Contact')
    click_link "Home"
    click_link "Sign up now!"
    page.should have_selector 'title', text: full_title('Sign Up')
    click_link "sample app"
    page.should_not have_selector 'title', text: full_title(' | Home')
  end
end 
```

## 规范/助手/application_helper_spec.rb

```
require 'spec_helper'

describe ApplicationHelper do

  describe "full_title" do
    it "should include the page title" do
      full_title("foo").should =~ /foo/
    end

    it "should include the base title" do
      full_title("foo").should =~ /^Ruby on Rails Tutorial Sample App/
    end

    it "should not include a bar for the home page" do
      full_title("").should_not =~ /\|/
    end
  end
end 
```

## app/helpers/application_helper.rb

```
module ApplicationHelper
    def full_title(page_title)
        base_title = "Ruby on Rails Tutorial Sample App"
        if page_title.empty?
            base_title
        else
            "#{base_title} | #{page_title}"
        end
    end
end 
```

## 终端输出

```
rspec spec/

..F............

Failures:

  1) Static pages should have the right links on the layout
     Failure/Error: page.should have_selector 'title', text: full_title('About Us')
       expected css "title" with text "Ruby on Rails Tutorial Sample App | About Us" to return something
     # ./spec/requests/static_pages_spec.rb:52:in `block (2 levels) in <top (required)>'

Finished in 4.37 seconds
15 examples, 1 failure

Failed examples:

rspec ./spec/requests/static_pages_spec.rb:49 # Static pages should have the right links on the layout 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:55:58.887

问题是因为你的链接`layouts/footer`没有`layouts/header`去任何地方。它们可以按规范*点击*，但它们只是转到`#`而不是正确的页面。如果您更正这些链接，则规范将起作用。

在`app/views/layouts/_footer.html.erb`：

```
<li><%= link_to "About",   '/about' %></li>
<li><%= link_to "Contact", '/contact' %></li> 
```

在`app/views/layouts/_header.html.erb`：

```
 <li><%= link_to "Home",    '/' %></li>
 <li><%= link_to "Help",    '/help' %></li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-23T09:27:40.663

为什么不继续使用命名的路由路径变量（例如 about_path）？

# php - 如何运行一个查询并填充 2 个类？

> ID：12242047
> 
> 赞同：1
> 
> 时间：2012-09-03T04:36:45.633
> 
> 标签：php, class, object

我有两个 A 类和 B 类。当填充 A 类时，我已经获得了所有数据。B 类需要使用部分数据，我可以将 B 类安排为 A 类内部的私有对象。我不希望在填充 B 类时再次查询数据。如何让同一个查询填充 2 个类，或者是有没有办法将数据从 A 传递到 B？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T04:50:26.450

如果 B 类只能包含 A 类的数据，那么你可以做一些类似的事情；

```
public class A
{
  public string Field_1 {get;set;}
  public string Field_that_B_likes {get;set;}
}

public class B
{
  public string Field_that_B_likes {get;set;}

  public B(A obj) 
  {
    Field_that_B_likes = obj.Field_that_B_likes;
  }
} 
```

# jquery - IE not loading jquery in $(window).load after window.location.reload();

> ID：12242051
> 
> 赞同：1
> 
> 时间：2012-09-03T04:37:26.990
> 
> 标签：jquery, internet-explorer, load

Having a strange issue with IE.

I have code like this:

```
$(window).load(function(){

    $('.deleteButton').click(function(){
            var uid = $(this).attr('rel');
        deleteItem(uid);
    });

}); 
```

This works fine in Firefox and Chrome, my function for deleteItem call a $.post and on completion refreshes the page so that it can update the content.

```
$.post("../jphp/deleteOption.php", {id: uid}, function() {window.location.reload(); }) 
```

However after the page has been reloaded the delete buttons are no longer clickable.

Any ideas?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:07:11.130

Try doing:

```
window.location.reload(true); //dont load from cache 
```

# sql - 插入 SQL 命令错误字符问题

> ID：12242053
> 
> 赞同：2
> 
> 时间：2012-09-03T04:37:34.857
> 
> 标签：sql, insert, oracle10g

我在 Oracle 10g Express Edition 中有这部分代码：

```
CREATE TABLE SALARY (
   GRADE               number(1),
   LOSAL               number(4),
   HISAL               number(4));

   INSERT INTO SALARY VALUES (1,700,1200);
   INSERT INTO SALARY VALUES (2,1201,1400);
   INSERT INTO SALARY VALUES (3,1401,2000);
   INSERT INTO SALARY VALUES (4,2001,3000);
   INSERT INTO SALARY VALUES (5,3001,9999); 
```

我想像 SQL 命令一样输入它，问题是当我点击运行按钮时，我收到以下消息：

> ORA-00911: 无效字符

我检查了语法，但一切似乎都很好，有人看到任何错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T04:49:16.793

这部分代码由六个格式正确的语句组成，但它不*包含*一个格式正确的语句。您需要分别运行每个语句。（顺便说一下，它抱怨的“无效字符”是`;`前两个语句之间的分号。它删除了最后一个语句末尾的分号，因为它可以告诉它是语句的结尾，但它是不删除语句之间的分号，因为据它所知，它们位于一个大语句的中间。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:12:41.570

You are mentioning Oracle Express. Are you using the web frontend (through the browser) to run those statements?

If that is the case: the web frontend does **not** allow running more than one statement at a time.

You need to run each statement separately when using the Oracle Express' web frontend.

SQL Developer from Oracle is free and is much better as a SQL tool. Or use SQL*Plus or use any of the many SQL clients that are out there.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T04:48:15.237

复制记事本中的所有内容，然后从记事本复制并再次将其粘贴到查询分析器中。在记事本中粘贴将删除任何隐藏的特殊字符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T04:51:40.740

您需要`commit;`在插入语句之后编写语句......希望它能解决您的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T04:56:20.183

If the problem persist try `INSERT ALL` See the related post [Where's my invalid character (ORA-00911)](https://stackoverflow.com/questions/10728377/wheres-my-invalid-character-ora-00911) as well as reference on how to do this: [http://psoug.org/snippet/INSERT-ALL_589.htm](http://psoug.org/snippet/INSERT-ALL_589.htm)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-03T05:21:10.160

I suspect you want to put the whole thing in an anonymous PL/SQL block and run that, i.e.I hope it should work,correct me if am wrong

```
BEGIN

    INSERT INTO SALARY VALUES (1,700,1200);
    INSERT INTO SALARY VALUES (2,1201,1400);
    INSERT INTO SALARY VALUES (3,1401,2000);
    INSERT INTO SALARY VALUES (4,2001,3000);
    INSERT INTO SALARY VALUES (5,3001,9999);

 END; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-03T10:44:18.090

NUMBER(p) This is a fixed-point number with precision p and scale 0\. Equivalent to NUMBER(p,0)

The maximum number that a number can hold in oracle range from 1 to 38 that may be the problem of your error..

This may be helpful for you... [http://ss64.com/ora/syntax-datatypes.html](http://ss64.com/ora/syntax-datatypes.html)

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-09-03T05:07:32.120

when i try to create table and insert the values by ur code it was done successfully.

```
SQL> CREATE TABLE SALARY (
  2     GRADE               number(1),
  3     LOSAL               number(4),
  4     HISAL               number(4));

Table created.

SQL> 
SQL>    INSERT INTO SALARY VALUES (1,700,1200);

1 row created.

SQL>    INSERT INTO SALARY VALUES (2,1201,1400);

1 row created.

SQL>    INSERT INTO SALARY VALUES (3,1401,2000);

1 row created.

SQL>    INSERT INTO SALARY VALUES (4,2001,3000);

1 row created.

SQL>    INSERT INTO SALARY VALUES (5,3001,9999);

1 row created. 
```

please try one and see

# python - 我可以从机器学习或人工智能中使用哪些算法，我可以通过网站展示

> ID：12242054
> 
> 赞同：0
> 
> 时间：2012-09-03T04:37:43.423
> 
> 标签：python, web, machine-learning, artificial-intelligence

我是人工智能和机器学习的铁杆粉丝。我对他们了解不多，但我已经准备好学习了。我目前是 PHP 的网络程序员，我正在为网站学习 python/django。

现在这个AI领域很广，算法也数不胜数，不知从何下手。但最终我的主要目标是使用任何算法；像遗传算法，神经网络，优化，可以在 Web 应用程序中编程以显示一些东西。例如：amazon.com 中的商品推荐

现在我想要的是，在我的个人站点中，我有每个算法的演示，如果我点击运行，我可以向某人展示这个算法可以做什么。

所以任何人都可以指导我应该为基于网络的应用程序学习哪些算法。

我在 sci-kit python 库中看到了很多示例，但它们非常基于计算和图形。我不认为我可以从网络的角度使用它们。

有什么想法我应该怎么走？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:31:45.897

我假设您最关心的是在 Web 环境中实现 AI 的一般方法，而不是 AI 算法本身的细节。任何可计算的算法都可以用任何图灵完备语言（即所有现代编程语言）来实现。您可以在 Web 上执行的操作没有特殊限制，这只是表示以及跟踪特定于会话的数据和共享数据的问题。此外，无需回避“计算”和“基于图形”的算法；大多数 AI 算法将是其中之一（或两者兼而有之）——这是乐趣的一部分。

例如，作为神经网络的整体方法，您可以：

1.  使用 python 类实现标准神经网络
2.  可能用历史数据训练集合
3.  在每个请求上加载网络的状态（即来自泡菜）
4.  将请求字符串的一部分（即产品 ID）提供给网络，并输出结果（即其他产品的加权集合，例如“点击此的用户，也点击了此”）
5.  此外，将请求的相关部分（即产品 ID）存储在会话变量（即“previousProduct”）中。当来自同一用户的新请求（即对另一个产品）出现时，加强/创建第一个产品和下一个产品之间的连接。
6.  保存每个请求之间的网络状态（即返回pickle）

这只是一个非常普遍的例子。但请记住——在这种情况下，Web 编程没有什么特别之处，除了跟踪特定于会话的数据和共享数据。

# mysql - 将变量分配给mysql查询红宝石

> ID：12242056
> 
> 赞同：1
> 
> 时间：2012-09-03T04:38:11.830
> 
> 标签：mysql, ruby, sinatra

所以我正在 Ruby/Sinatra 中构建一个登录/注册页面，并且我正在尝试添加一些逻辑，以便如果有人尝试使用正在使用的电子邮件进行注册，它会告诉他们，并且不允许他们注册

```
require 'rubygems'
require 'sinatra'
require 'mysql'

get "/" do
        erb :form
end

post "/" do

begin
        con = Mysql.new('localhost', 'tut', 'tut', 'recruited_users')
        auth = con.query('SELECT school FROM users WHERE email = "#{params[:email]}" AND password = "#{params[:password]}"')
        auth.fetch_row
        ensure
                con.close if con
        end
end

get '/signup' do
        erb :signup
end

post '/signup' do

begin
        con = Mysql.new('localhost', 'tut', 'tut', 'recruited_users')
        check_for_user = con.query("SELECT email FROM users WHERE email = '#{params[:email]}'")
        if check_for_user == ''
                "Sorry, but there is already an account for this user. The ID is '#{params[:check_for_user]}', please try again"
        else
                auth = con.query("INSERT INTO users (email, password, school) VALUES('#{params[:email]}', '#{params[:password]}', '#{params[:school]}')")
                "Succesfully created user #{params[:email]}"
        end
        ensure
                con.close if con
        end
end 
```

问题是该变量`check_for_user`没有收到任何值，至少不是我可以使用的值。我需要能够设置 if 语句，以便他们只能在数据库中不存在电子邮件时创建新用户。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:02:23.857

首先，您不能`#{...}`在单引号字符串中使用字符串插值 ( )，这仅适用于双引号字符串（或类似`%Q{...}`的行为类似于双引号字符串）。其次，SQL 中的字符串字面量应该用单引号引起来，MySQL 和 SQLite 可以让你摆脱双引号，但这是一个坏习惯。第三，我们没有在 1999 年破解 PHP，所以你不应该使用字符串插值来构建 SQL，你应该使用占位符：

```
sth = con.prepare('select school from users where email = ? and password = ?')
sth.execute(params[:email], params[:password])
row = sth.fetch
if(!row)
    # Didn't find anything
else
    # The school is in row.first
end 
```

# iphone - 当我禁用键 az 时如何在 iPhone 键盘上启用键“空格”和删除键

> ID：12242066
> 
> 赞同：2
> 
> 时间：2012-09-03T04:39:24.623
> 
> 标签：iphone, ios, uitextfield, uikeyboard

我正在做一个自定义键盘，但我想使用一些默认键，例如空格键和删除键。这是我用来禁用 key az 的代码。

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
NSMutableString * character;
NSCharacterSet *disableLetters = [[NSCharacterSet characterSetWithCharactersInString:@"abcdefghijklmnopqrstuvwxyz"] invertedSet];

NSRange location = [character rangeOfCharacterFromSet:disableLetters];
return (location.location == NSNotFound);} 
```

这是屏幕截图：（禁用其他键后我无法删除ក）

![键盘](../Images/e62d8aa408d3a9bf05d5d4f43eff070e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:00:39.117

试试这个：

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    //NSMutableString * character;
    NSCharacterSet *disableLetters = [[NSCharacterSet characterSetWithCharactersInString:@"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"] invertedSet];

    NSRange location = [string rangeOfCharacterFromSet:disableLetters];
    if(location.location != NSNotFound);
    {
       return YES;
    }
    else
    {
       return NO;
    }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:29:43.613

我已修复您的代码存在一些问题，因此现在可以使用：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
    NSCharacterSet *disabledLetters = [[NSCharacterSet characterSetWithCharactersInString:@" "] invertedSet];        
    NSRange location = [string rangeOfCharacterFromSet:disabledLetters];
    return (location.location == NSNotFound);
} 
```

此代码现已更新为仅允许使用空格、输入和删除。

# c# - 条件 DataGridView 到 DataTable 的转换

> ID：12242067
> 
> 赞同：2
> 
> 时间：2012-09-03T04:39:30.490
> 
> 标签：c#, datagridview, datagrid, datatable

我有一个看起来像这样的 DataGridView：

```
 DGV 
       | Col 1 | Col 2 | Col 3 | 
```

我想知道当我写入数据表时是否可以删除第一列，使其看起来像这样：

```
 DataTable
        | Col 2 | Col 3 | 
```

此外，是否可以消除包含特定值的行？因此，如果该值在 datagridview 中，我想将其从我的数据表中删除。例如

```
 DGV 
       | Col 1 | Col 2 | Col 3 |
       | Value | One   | Two   |
       | Value | Three | Two   |
       | Value | Four  | Two   | 
```

因此，如果 DataGridView 中有值“三”，则 DataTable 将是

```
 DataTable
        | Col 2 | Col 3 |
        | One   | Two   |
        | Four  | Two   | 
```

任何帮助将非常感激！我已经尝试过逐行解析，但我想知道是否有更有效的方法来实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T04:53:57.993

假设您有一个 GridView，然后我们将其复制到数据表中

```
System.Data.DataTable GridToDT = new System.Data.DataTable();

            GridToDT = (System.Data.DataTable)MyGrid.DataSource; 
```

相应的代码现在将您当前的 gridview 复制到 GridToDt Datatable 以从表中删除任何列您需要做的是找出列的索引值

```
GridToDT .Columns.RemoveAt(1); 
```

或者也使用列名

```
GridToDT .Columns.Remove("Col 1"); 
```

对于你的其他问题，你可以做这样的事情

```
for(int i = GridToDT .Rows.Count-1; i >= 0; i--)
 {
DataRow dr = GridToDT .Rows[i];
if (dr["Col 2"] == "Three")
    dr.Delete();
 } 
```

希望这会有所帮助。如果有帮助，请随时标记为您的答案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:22:13.807

简单地说，您可以这样做以满足您的上述条件：

```
var dtableDemo = new DataTable();
dtableDemo = this.dgvDemo.DataSource as DataTable; //// Getting the datatable of datagridview datasource
if (dtableDemo != null)
{
    dtableDemo.Columns.RemoveAt(0); //// Removing the first column of derived table

    dtableDemo.Rows.Cast<DataRow>().Where(
               row => row.ItemArray.Contains("put_your_value_to_check")).ToList()
               .ForEach(row => row.Delete()); //// Remove the row if it contains the given value
    dtableDemo.AcceptChanges(); //// Finalize the delete
} 
```

# derby - 从 Ubuntu 到 Windows 获取 Derby 数据库连接非常慢，反之亦然

> ID：12242074
> 
> 赞同：1
> 
> 时间：2012-09-03T04:41:13.653
> 
> 标签：derby

我是 Apache Derby 的新手，我被要求用 1000 个并发线程测试 Derby 数据库的性能，在每个线程中，打开一个连接，在一张表上执行一次插入、选择、更新查询。

我实现了模拟代码并在我的本地机器（Windows 7）上进行了测试，我在其中以网络模式运行我的 Derby 数据库。

即使我从我的 LAN 中的另一台 Windows 7 机器（仅 Java 客户端，DB 仅在我的机器上运行）测试了相同的内容。

当我在 Ubuntu 系统上测试上述模拟时，我面临着很多问题。打开每个连接需要 5xxx 毫秒，而在其他情况下需要 2xx 毫秒。

如果我模拟多达 1000 个线程，则意味着获得每个连接的时间也会增加。通常它在 60000 毫秒以上。

我观察到，在 Ubuntu 系统的情况下，wireshark 列出了以下错误。

*   协议：ICMP
*   信息：目的地不可达（端口不可达）。

令人惊讶的是，当我在 ubuntu 机器上安装 Kaspersky 时，我没有收到此错误。我能够在这样的 3xx 毫秒内获得连接。

我也尝试实现连接池（Tomcat 池、DBCP、C3p0）。

无论如何，在 ubuntu 机器上没有防病毒软件需要太多时间才能获得连接，我在 Wireshark 中看到了上述错误。

请帮我解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T14:42:10.567

当然听起来像一个网络问题。您是否尝试过使用 ping、netstat、traceroute 等较低级别的工具进行调查？

特别是，寻找两个系统之间的名称解析问题，因为这些问题通常会导致像这样的网络速度变慢。每台机器是否能够执行反向 DNS 查找（按地址获取名称）？

# c++ - 在执行 cin 后计算标准输入中的字符数

> ID：12242078
> 
> 赞同：0
> 
> 时间：2012-09-03T04:41:23.690
> 
> 标签：c++, cin

我有一些基本上看起来像这样的代码

```
int a;
cin>>a;

if(!cin.good())
{
    std::cin.clear();
    std::cin.ignore(2);

    // set some default value for 'a' and display some messages
} 
```

如果我给出一个整数（如预期的那样），或者我尝试稍微弄乱它并给出最多 2 个字符，这很好用。例如。'ss' ，但如果我给出一个 3 char 输入 'sss' ，最后一个 's' 不会被忽略，并被接受为我在程序中的更多 cin 的输入。

在第一个 cin 发生后，有没有办法计算标准输入（缓冲区？）中的字符数，所以我可以放心地忽略所有这些。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:02:59.570

这是如何运作的？它应该忽略输入缓冲区中可用的所有内容，以防止`s`稍后消耗第三个。它使用[`std::basic_streambuf::in_avail`](http://en.cppreference.com/w/cpp/io/basic_streambuf/in_avail).

```
std::cin.ignore(std::cin.rdbuf()->in_avail()); 
```

如果这不起作用，您可以尝试忽略，直到到达换行符。

```
std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T04:56:45.603

很不清楚您的意思是什么，但一种含义可能是您想忽略当前行上的所有字符。您无需知道字符数即可：

```
std::cin.ignore(std::numeric_limits<std::size_type>::max(), '\n'); 
```

上面的语句将忽略所有字符，直到它提取一个换行符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:17:09.690

做一些谷歌搜索我发现了这篇关于[如何处理 cin 中无关字符的](https://stackoverflow.com/questions/1317424/how-to-cope-with-extraneous-characters-left-on-the-input-stream-cin-skipped)文章。

显然，直接使用`>>`on不是一个好习惯`std::cin`。像这样使用它，

```
int a;
std::string line;
std::getline( cin, line );
std::stringstream ss( line );

if ( ss >> a )
    // Success

// Failure: input does not contain a valid number 
```

由于我们`\n`每次都在阅读直到使用`std::getline()`，因此也会将无关字符提取`std::cin`并放入`line`.

[代码源](http://www.cplusplus.com/forum/articles/6046/)

# java - 使用 Guava 从列表中删除重复项

> ID：12242083
> 
> 赞同：34
> 
> 时间：2012-09-03T04:42:45.043
> 
> 标签：java, list, generics, arraylist, guava

我们如何在**Guava api**的帮助下从 List 中删除重复项？

目前我正在关注这个：

```
private List<T> removeDuplicate(List<T> list){
return new ArrayList<T>(new LinkedHashSet<T>(list));
} 
```

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-09-03T13:04:43.873

可能最有效的方法是`ImmutableSet.copyOf(list).asList()`，它消除了重复并保留了迭代顺序。

（但是您的实现`LinkedHashSet`几乎同样有效，并且不会抛出空值，万一您实际上希望集合中有空值。）

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-03T15:31:52.500

我喜欢[Louis](https://stackoverflow.com/a/12248480/342852)的简单答案（因为它是唯一不需要 2 次完整迭代的答案），但不幸的是，在现实世界中，您经常会遇到`null`确实发生的情况。这是一个稍长的空安全版本：

```
ImmutableSet.copyOf(
    Iterables.filter(
        list, Predicates.not(Predicates.isNull()))).asList(); 
```

或者，使用静态导入：

```
copyOf(filter(list, not(isNull()))).asList(); 
```

当然，您需要注意所有`null`值都将从列表中丢失的事实。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-05-14T02:24:01.117

带有泛型谓词

```
class DuplicateRemover<T> implements Predicate<T> {

    private final Set<T> set = new HashSet<>();

    @Override
    public boolean apply(T input) {

        boolean flag = set.contains(input);

        if (!flag) {
            set.add(input);
        }

        return !flag;
    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-03T04:57:22.283

如果您想以任何价格使用番石榴，您都可以

```
return new ArrayList<T>(HashMultiSet<T>.create(list).elementSet()) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-03T11:31:08.963

我真的不建议使用`(Linked)HashMultiSet`to do 任务，这些任务通常由上面提到`ArrayList`的`(Linked)HashSet`OP 完成 - 它对于普通 Java 程序员来说可读性较差，并且（可能）效率较低。

相反，至少使用像[`newArrayList`](http://docs.guava-libraries.googlecode.com/git-history/v13.0.1/javadoc/com/google/common/collect/Lists.html#newArrayList%28java.lang.Iterable%29)and这样的静态工厂构造函数[`newLinkedHashSet`](http://docs.guava-libraries.googlecode.com/git-history/v13.0.1/javadoc/com/google/common/collect/Sets.html#newLinkedHashSet%28java.lang.Iterable%29)来避免所有这些`<T>`：

```
private static <T> List<T> removeDuplicate(final List<T> list) {
  return Lists.newArrayList(Sets.newLinkedHashSet(list));
} 
```

但是，您可以通过更“番石榴方式”来做到这一点 - 通过[避免空值](http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained)和使用[不可变集合](http://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained)。

因此，如果您的集合**不能**包含 null 元素，我建议使用[不可变集合](http://docs.guava-libraries.googlecode.com/git-history/v13.0.1/javadoc/index.html)而不是[可变且效率较低](http://code.google.com/p/memory-measurer/wiki/ElementCostInDataStructures)的集合：

```
private static <T> List<T> removeDuplicate(final List<T> list) {
  return Lists.newArrayList(ImmutableSet.copyOf(list));
} 
```

它仍在复制对象两次，因此请考虑完全不可变并将方法签名更改为 return `ImmutableList`：

```
private static <T> ImmutableList<T> removeDuplicate(final List<T> list) {
  return ImmutableSet.copyOf(list).asList();
} 
```

这种方式只涉及一次复制，因为[`ImmutableCollection.asList()`](http://docs.guava-libraries.googlecode.com/git-history/v13.0.1/javadoc/com/google/common/collect/ImmutableCollection.html#asList%28%29)返回一个视图。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-03T04:48:49.730

您可以尝试使用 Guava 的 MultiSet API 来删除重复项。只需添加您的列表并使用计数方法。

[多集](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multiset.html)

# java - Java Kerberos 票据更新 TGT

> ID：12242085
> 
> 赞同：2
> 
> 时间：2012-09-03T04:42:59.517
> 
> 标签：java, kerberos

我在其中一个 POC 中使用 Krb5LoginModule。我提供了 useDefaultCache=true 和 renewTGT=true。

尽管我提到了 renewTGT=true，但当票证过期时，代码会引发异常。我已在 Windows 注册表中将 allowtgtsessionkey 值设置为 1（我正在运行 XP SP2）。KDC (ActiveDirectory) 设置是默认设置。票证有效期 = 10 小时，续订请求阈值 = 7 天。

## 源代码

```
import java.util.HashMap;
import java.util.Map;
import javax.security.auth.Subject;
import com.sun.security.auth.module.Krb5LoginModule;

public class Temp3 {
    public static void main(String[] args) throws Exception {
        System.setProperty("sun.security.krb5.debug", "true");

        Subject subject = new Subject();

        Krb5LoginModule krb5 = new Krb5LoginModule();

        Map <String, String> map = new HashMap <String, String>();
        map.put("useTicketCache", "true");
        map.put("doNotPrompt", "true");
        map.put("renewTGT", "true");
        map.put("debug", "true");

        krb5.initialize(subject, null, null, map);
        krb5.login();
        krb5.commit();
        System.out.println(subject);
    }
} 
```

当票证未过期时，代码运行良好，即我在运行上述代码的 10 小时内运行 kinit 的时间。

我编写这个 POC 是因为我必须使用 SQL Server 驱动程序（4.0 版）运行基于 JDBC 的应用程序。我不希望长时间运行的服务在数据库重新连接尝试期间失败，这可能是由于网络故障等因素导致管道损坏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:43:14.077

你走错路了。您应该首先使用它`LoginContext`来获取凭据，而不是直接与 Kerberos 5 交互。其次，非人工访问需要一个 keytab。这相当于 TGT。为您的服务器导出 Keytab 并修改`Krb5LoginModule`配置。[本](http://docs.oracle.com/javase/1.4.2/docs/guide/security/jaas/tutorials/GeneralAcnOnly.html)教程将为您提供帮助。

# jqplot - 强制刻度为整数

> ID：12242088
> 
> 赞同：3
> 
> 时间：2012-09-03T04:43:35.790
> 
> 标签：jqplot

[与这个问题](https://stackoverflow.com/questions/12000202/horizontal-bar-chart-ignores-tickinterval-min-and-max-options)完全相同，但由于我没有支持它的声誉（并且无法回答），我将不得不再次问它......

给定如下图，即使图为空，如何强制刻度始终为整数？目前，如果该图没有数据，它将消失`0, 0.2, 0.4, 0.6, 0.8, 1.0`，但在该图的上下文中，这没有任何意义 - 显示的内容只能由整数组成。如果涉及的数字非常小，它偶尔会显示为，例如，`1.0, 1.5, 2.0, 2.5, 3.0, 3.5`（等），这同样是不理想的。由于该图表代表了一天中发生的事情，它将每天从零开始，然后缓慢增长，第二天重置为零。理想情况下，我希望刻度从 开始`0, 1, 2, 3, 4, 5`，然后根据数据适当缩放。

有什么建议么？我在 X 和 Y 轴上都尝试过`tickInterval: 1`（和`5`... `50`），但这似乎没有做任何事情......也许是 JQPlot 中的一个错误？

编辑：显示问题的[JSFiddle 示例](http://jsfiddle.net/32QBL/3/)。

```
$.jqplot('chartdiv', [ data.a, data.b ], {
    title : "Title",
    stackSeries : true,
    seriesDefaults : {
        renderer : $.jqplot.BarRenderer,
        rendererOptions : {
            barMargin : 15,
            barDirection : 'horizontal'
        },
        pointLabels : {
            show : true,
            stackedValue : false
        },
    },
    seriesColors : [ "#651811", "#126542" ],
    axesDefaults : {
        tickRenderer : $.jqplot.CanvasAxisTickRenderer,
        tickOptions : {
            fontSize : '8pt'
        }
    },
    axes : {
        xaxis : {
            label : "X-Label",
        },
        yaxis : {
            renderer : $.jqplot.CategoryAxisRenderer,
            ticks : [ "T1", "T2", "T3", "T4" ],
            tickOptions : {
                angle : -75
            },
            label : "Y-Label",
            labelRenderer : $.jqplot.CanvasAxisLabelRenderer,
            labelOptions : {
                angle : -90
            },
        }
    },
    highlighter : {
        show : false,
        showTooltip : false,
    },
    legend : {
        show : true,
        location : 'e',
        placement : 'outside',
        labels : [ 'L1', 'L2' ]
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T15:47:18.090

您可能有更好的运气设置轴的最大值和最小值，然后让 JQPlot 填充刻度值。

```
// This is YOUR data set
var series = [882, 38, 66, 522, 123, 400, 777];

var max;

if (series.length > 0) {
    // Instead of letting JQPlot pick the scale on the y-axis, let's figure out our own.
    var series_max =  Math.max.apply(null, series);
    var digits = max.toString().length;
    var scale = Math.pow(10, max_digits - 1);

    max = (Math.ceil(series_max / scale)) * scale;
} else {
    // Since you sometimes have an empty dataset, then just pick an arbitrary max.
    max = 10;
}

$.jqplot(
    'foo',
    [series],
    {
        axes: {
            yaxis: {
                min: 0,
                max: max
            }
        }
        // Put your other config stuff here
    }
) 
```

这种基本方法适用于任何整数。如果您使用浮点数并且它们大于 1，您仍然可以通过将“series_max”转换为 int 来使用这种方法。如果您使用小于 1 的浮点数，这种方法可能不适合：它将始终选择 1 作为 y 轴最大值。

# c# - xml 数据未显示在 Web 服务中

> ID：12242089
> 
> 赞同：0
> 
> 时间：2012-09-03T04:43:40.693
> 
> 标签：c#, web-services

这是我的服务的 xml 输出。

```
<LifeAreas>
    <Overall i:nil="true"/>
    <Career>
        <Good>
            <NamePlanet/>
            <NamePlanet/>
        </Good>
        <Neutral>
            <NamePlanet/>
            <NamePlanet/>
            <NamePlanet/>
        </Neutral>
        <Bad>
             <NamePlanet/>
             <NamePlanet/>
             <NamePlanet/>
             <NamePlanet/>
        </Bad>
   </Career>
   <Finance i:nil="true"/>
   <Relationship i:nil="true"/>
   <Health i:nil="true"/> 
```

使用的 DataContract 如下：

```
[DataContract(Name = "Areas", Namespace = "")] 
public sealed class Areas
{ 
    [DataMember(Name = "Overall", Order = 0)]
    public PlanetDiginity Overall { get; set; }

    [DataMember(Name = "Career", Order = 1)]
    public PlanetDiginity Career { get; set; }

    [DataMember(Name = "Finance", Order = 2)]
    public PlanetDiginity Finance { get; set; }

    [DataMember(Name = "Relationship", Order = 3)]
    public PlanetDiginity Relationship { get; set; }

    [DataMember(Name = "Health", Order = 4)]
    public PlanetDiginity Health { get; set; }
}

[DataContract(Name = "NamePlanet", Namespace = "")]  
public sealed class NamePlanet
{
    public string PlanetName { get; set; }
}

[DataContract(Name = "PlanetDiginity", Namespace = "")] 
public sealed class PlanetDiginity
{
    ///<summary>
    /// Gets and Sets the Planet Diginity
    /// </summary>
    [DataMember(Name = "Good", Order = 0)]
    public List<NamePlanet> Good { get; set; }

    [DataMember(Name = "Neutral", Order = 1)]
    public List<NamePlanet> Neutral { get; set; }

    [DataMember(Name = "Bad", Order = 2)]
    public List<NamePlanet> Bad { get; set; }
}

[DataContract(Name = "GoodBadPlanetList", Namespace = "")]
public sealed class GoodBadPlanetList
{
    [DataMember(Name = "GoodBadPlanetReport", Order = 2)]
    public List<GoodBadPlanetReport> GoodBadPlanetReport { get; set; }

    [DataMember(Name = "AstroDetails", Order = 0)]
    public AstroInfo AstroDetails { get; set; }

    [DataMember(Name = "LifeAreas", Order = 1)]
    public Areas LifeAreas { get; set; }
} 
```

从 web 服务，所需的数据来自节点，但在 xml 中它没有显示。只有它在列表中多次显示属性名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:10:52.083

NamePlanet 类的 PlanetName 属性似乎缺少 DataMember 属性

# php - 我们如何通过脚本将类别添加到 wordpress 管理类别？

> ID：12242091
> 
> 赞同：0
> 
> 时间：2012-09-03T04:43:58.583
> 
> 标签：php, wordpress

实际上，如果我避免手动输入类别，并且想通过编码添加类别。怎么可能？请提出建议，因为我是 wordpress 新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T04:52:48.920

实际上，wordpress wp_create_category() 中有一个函数，即使你可以在 wordpress 手册中看到这个函数的参数，因为链接是

[http://codex.wordpress.org/Function_Reference/wp_create_category](http://codex.wordpress.org/Function_Reference/wp_create_category)

谢谢

# iphone - FastPDFKit 获取文档大小

> ID：12242097
> 
> 赞同：0
> 
> 时间：2012-09-03T04:45:25.293
> 
> 标签：iphone, ios

我可能忽略了这一点，但是如果您使用的是 FastPDFKit，如何获得 PDF 的大小？

我正在尝试从 pdf 创建 PNG，但是在不知道页面的实际尺寸的情况下很难做到正确。

编辑：我之前在文档中搜索过，但我发现的只是这种方法： `- (void)getCropbox:(CGRect *)cropbox andRotation:(int *)rotation forPageNumber:(NSInteger)pageNumber withBuffer:(BOOL)withOrWithout`

但我不知道如何使用它，它不返回任何东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T07:18:03.017

不确定您对 PDF 的熟悉程度，但每个页面都指定了许多“框”，这些“框”是各种感兴趣的矩形（裁剪、媒体等）

大多数使用 PDF 的应用程序都选择使用裁剪框，该裁剪框定义了应显示的页面区域。（请参阅 PDF 1.7 规范的第 10.10.1 节：http: [//www.adobe.com/devnet/pdf/pdf_reference_archive.html](http://www.adobe.com/devnet/pdf/pdf_reference_archive.html)）

另外值得注意的是，页面可以指定 0、90、180 或 270 的旋转角度，您需要自己将其应用于裁剪框。（参见 PDF 1.7 规范的表 TABLE 3.27 中的 /Rotate）

所以使用上面的 API 你可以这样调用它：

[somePDFDoc getCropbox:&cropbox andRotation:&rotation forPageNumber:10 withBuffer:NO];

这会给你cropbox rect和它的旋转。

注意：我从未使用过 FastPDFKit

注意 2：如果cropbox 的值为 CGRectZero，您想使用其他矩形之一。大多数观众使用媒体框。

# php - PHP+cURL Post 没有返回预期的结果

> ID：12242106
> 
> 赞同：0
> 
> 时间：2012-09-03T04:46:38.720
> 
> 标签：php, post, curl

我正在尝试使用 PHP 和 cURL 发布到网站并获取搜索结果，作为抓取概念证明的一部分。但是响应与我直接访问该站点得到的响应不同。我已经使用 FireBug 捕获了所有发布参数和标头，并使用 cURL 发送所有这些参数，但响应仍然不一样。有人可以帮忙弄清楚我做错了什么吗？

我要访问的网站是：[http ://book.goindigo.in/skylights/cgi-bin/skylights.cgi](http://book.goindigo.in/skylights/cgi-bin/skylights.cgi)

在那个网站上，我正在做一个单程搜索，它将返回一堆航班（例如，9 月 25 日的孟买-德里）。我不担心这个结果。显示航班后，如果选择了特定航班，则会在“价格摘要”部分下方的左侧显示票价细分。为了获得这个价格摘要，他们正在触发一个 ajax 调用，这是我想使用 PHP 和 cURL 模拟的。

当通过站点访问时，ajax 调用会返回一堆 javascript 变量作为响应。但是当通过 cURL 访问时，相同的调用返回页面的完整 html 而不是预期的 javascript 变量。

任何帮助，将不胜感激。

谢谢

```
$url='https://book.goindigo.in/skylights/cgi-bin/skylights.cgi';

$header = array("Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",     "Accept-Language: en-us,en;q=0.5", "Connection: keep-alive", "Cache-Control: no-cache", "Accept-Encoding: gzip,deflate", "Content-Length: 342", "Content-Type: application/x-www-form-urlencoded; charset=UTF-8", "Cookie: __utma=1.649498667.1346160326.1346395277.1346415046.4; __utmz=1.1346160326.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmb=1.11.10.1346415046; __utmc=1", "Host: book.goindigo.in", "Pragma: no-cache", "Referer: https://book.goindigo.in/skylights/cgi-bin/skylights.cgi");

$user_agent = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:15.0) Gecko/20100101 Firefox/15.0";

$referrer = 'https://book.goindigo.in/skylights/cgi-bin/skylights.cgi' ;

$post_params="page=INCLUSIVE_PRICING&module=SB&sid=&adults=1&children=0&language=EN&infants=0&numberMarkets=1&market1Data=201209036E%20146BLRDEL%20ININERE0BLRDEL201209031345201209031630Regular%20Fare%20ADULT%20ADT%2001&market2Data=&flt1_cnx1_date=&flt1_cnx2_date=&flt1_paxType1_fare=440000&flt1_paxType2_fare=&itin_type=Domestic";

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, $header);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
#curl_setopt($ch, CURLOPT_PROXY, $proxy);
#curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 1);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);
curl_setopt($ch, CURLOPT_REFERER, $referer);
curl_setopt($ch, CURLOPT_USERAGENT, $agent);

$result = curl_exec($ch);
$error = curl_error($ch);

curl_close($ch);

    echo $result; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T21:16:51.290

你错过了：

```
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_params); 
```

这是我从 shell 所做的：

```
curl -d "page=INCLUSIVE_PRICING&module=SB&sid=&adults=1&children=0&language=EN&infants=0&numberMarkets=2&market1Data=201209116E   176BOMDEL                            ININERE0BOMDEL201209111325201209111530Regular Fare            ADULT ADT 01&market2Data=201209116E   175DELBOM                            ININNRN0BOMDEL201209111345201209111555RoundTrip Fare          ADULT ADT 01&flt1_cnx1_date=&flt1_cnx2_date=&flt2_cnx1_date=&flt2_cnx2_date=&flt1_paxType1_fare=443000&flt1_paxType2_fare=&flt2_paxType1_fare=402000&flt2_paxType2_fare=&itin_type=Domestic" http://book.goindigo.in/skylights/cgi-bin/skylights.cgi 
```

输出是：

```
<!--
//////////////////////////////////////////////////////////////////////////////
//    Copyright(c) 2000 - 2006 Navitaire Inc.  All rights reserved.         //
//                                                                          //
//    This source code is protected by copyright law and international      //
//    treaties.  Unauthorized reproduction, distribution or alteration      //
//    of this source code, or any portion of it, may result in severe       //
//    civil and criminal penalties and will be prosecuted to the maximum    //
//    extent possible under the law.                                        //
//                                                                          //
//  Skylights 9.4b-6E                                    www.navitaire.com  //
//////////////////////////////////////////////////////////////////////////////
-->

numRoutes=2;
        r1destination=DEL;
        r1origin=BOM;

        r1fareLabel=Regular Fare            ;

            r1Pax1Type=ADT;

                                                r1Pax1DiscountBase= Rs 4,430.00 ;
                                                r1Pax1TotalFareCost= Rs 8,426.00 ;

                                                                                r1Pax1Tax1Amount= Rs 233.00 INR;

                            r1Pax1Tax1SummedAmount=233.00;

                                                 r1Pax1Tax1Desciption=Passenger Service Fee;

                                                                                r1Pax1Tax2Amount= Rs 2,800.00 INR;

                            r1Pax1Tax2SummedAmount=2800.00;

                                                 r1Pax1Tax2Desciption=Fuel Surcharge;

                                                                                r1Pax1Tax3Amount= Rs 50.00 INR;

                            r1Pax1Tax3SummedAmount=50.00;

                                                 r1Pax1Tax3Desciption=Transaction Charge;

                                                                                r1Pax1Tax4Amount= Rs 360.00 INR;

                            r1Pax1Tax4SummedAmount=360.00;

                                                 r1Pax1Tax4Desciption=Service Tax;

                                                                                r1Pax1Tax6Amount= Rs 553.00 INR;

                            r1Pax1Tax6SummedAmount=553.00;

                                                 r1Pax1Tax6Desciption=User Development Fee;

                                                r1Pax1TotalTaxAmount= Rs 3,996.00 ;

                           r1Pax1SummedFareAmount=4430.00;

                                                r1Pax1SummedFareAmount=4430.00;
                                                r1Pax1SummedTaxAmount= Rs 3,996.00 ;

        r1InfDescription=;
                                r1InfDiscountBase= Rs 0.00 ;
        r1InfSSRCode=;
                                r1InfTotalFareCost= Rs 0.00 ;

                                r1TotalInfTaxAmount= Rs 0.00 ;
                                r1RouteTotalTax= Rs 3,996.00 ;
                                r1RouteTotalAmount= Rs 8,426.00 ;
                                r1InfSummedFareAmount= Rs 0.00 ;
                                r1InfSummedTaxAmount= Rs 0.00;
                                r1SummedTaxAmount= Rs 3,996.00 ;
                                r1SummedAmount= Rs 8,426.00 ;

        r2destination=BOM;
        r2origin=DEL;

        r2fareLabel=RoundTrip Fare          ;

            r2Pax1Type=ADT;

                                                r2Pax1DiscountBase= Rs 4,020.00 ;
                                                r2Pax1TotalFareCost= Rs 8,101.00 ;

                                                                                r2Pax1Tax1Amount= Rs 146.00 INR;

                            r2Pax1Tax1SummedAmount=146.00;

                                                 r2Pax1Tax1Desciption=Passenger Service Fee;

                                                                                r2Pax1Tax2Amount= Rs 2,800.00 INR;

                            r2Pax1Tax2SummedAmount=2800.00;

                                                 r2Pax1Tax2Desciption=Fuel Surcharge;

                                                                                r2Pax1Tax3Amount= Rs 50.00 INR;

                            r2Pax1Tax3SummedAmount=50.00;

                                                 r2Pax1Tax3Desciption=Transaction Charge;

                                                                                r2Pax1Tax4Amount= Rs 340.00 INR;

                            r2Pax1Tax4SummedAmount=340.00;

                                                 r2Pax1Tax4Desciption=Service Tax;

                                                                                r2Pax1Tax6Amount= Rs 745.00 INR;

                            r2Pax1Tax6SummedAmount=745.00;

                                                 r2Pax1Tax6Desciption=User Development Fee;

                                                r2Pax1TotalTaxAmount= Rs 4,081.00 ;

                           r2Pax1SummedFareAmount=4020.00;

                                                r2Pax1SummedFareAmount=4020.00;
                                                r2Pax1SummedTaxAmount= Rs 4,081.00 ;

        r2InfDescription=;
                                r2InfDiscountBase= Rs 0.00 ;
        r2InfSSRCode=;
                                r2InfTotalFareCost= Rs 0.00 ;

                                r2TotalInfTaxAmount= Rs 0.00 ;
                                r2RouteTotalTax= Rs 4,081.00 ;
                                r2RouteTotalAmount= Rs 8,101.00 ;
                                r2InfSummedFareAmount= Rs 0.00 ;
                                r2InfSummedTaxAmount= Rs 0.00;
                                r2SummedTaxAmount= Rs 4,081.00 ;
                                r2SummedAmount= Rs 8,101.00 ;

                TransactionFeeAmount=0.00; 
                TotalPackageAmount=Rs 16,527.00 ;
                PrefixType=Rs ; 
```

# android - Android4.0.3，如何在没有ddms的情况下获取TrafficStats.setThreadStatsTag()的值？

> ID：12242107
> 
> 赞同：0
> 
> 时间：2012-09-03T04:47:32.597
> 
> 标签：android, network-traffic

在 Android 4.0 中，Google 支持`TrafficStats.setThreadStatsTag()`监控应用数据传输的频率，但我只能在 DDMS 中看到。

如何获取每个标签的值而不使用 DDMS，以便将其保存在手机上？DDMS如何获得价值？它是否保存在系统文件的某个位置？

这是一个这样的问题，但它是针对 API 级别 8 的，并且只能获得总价值： [有人可以解释一下 TrafficStats 如何在 Android 操作系统中发挥其魔力吗？](https://stackoverflow.com/questions/4029186/can-someone-explain-how-trafficstats-works-its-magic-in-the-android-os/9472571#9472571)

这是 googel 解释标签：http: [//source.android.com/tech/datausage/tags-explained.html](http://source.android.com/tech/datausage/tags-explained.html)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:32:33.153

我想我找到了存储值的文件，它是“/proc/net/xt_qtaguid/stats”。

# php - 从搜索结果中隐藏上传的文件？

> ID：12242110
> 
> 赞同：1
> 
> 时间：2012-09-03T04:48:03.903
> 
> 标签：php, wordpress, robots.txt

运行 WordPress 的客户请求在其网站上开发以下功能。

他们希望在搜索结果中包含/排除通过 WordPress 媒体上传器上传的特定文件（通常是 PDF）。

我猜这可以使用 robots.txt 文件以某种方式完成，但我不知道从哪里开始。

有什么建议/想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T11:32:51.030

这是来自谷歌网站管理员开发者网站[https://developers.google.com/webmasters/control-crawl-index/docs/faq](https://developers.google.com/webmasters/control-crawl-index/docs/faq)

我的 robots.txt 文件中的更改需要多长时间才能影响我的搜索结果？

首先，必须刷新robots.txt文件的缓存（我们一般缓存内容最多一天）。即使在发现更改之后，抓取和索引也是一个复杂的过程，有时对于单个 URL 可能需要相当长的时间，因此无法给出准确的时间表。此外，请记住，即使您的 robots.txt 文件不允许访问某个网址，该网址仍可能在搜索结果中可见，尽管我们无法抓取该网址。如果您希望加快从 Google 中删除您已阻止的网页，请通过 Google 网站管理员工具提交删除请求。

[以下是来自 Google https://developers.google.com/webmasters/control-crawl-index/docs/robots_txt](https://developers.google.com/webmasters/control-crawl-index/docs/robots_txt)的 robots.txt 规范

如果您的文件语法正确，那么最好的答案就是等到 Google 更新您的新机器人文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T18:40:12.743

我不确定如何在 WordPress 的范围内执行此操作，但如果您希望排除特定文件类型，我建议使用[X-Robots-Tag HTTP Header](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag)。它对于您通常希望使用机器人标签的 PDF 和非 HTML 文件类型特别有用。

您可以为所有特定的 FileType 请求添加标头，然后将值设置为 NOINDEX。这将阻止 PDF 包含在搜索结果中。

如果 URL 以文件类型或文件类型特有的内容结尾，您可以使用 robots.txt 文件。示例：`Disallow: /*.pdf$`...但我知道 URL 并非总是如此。

[https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag)

# android - 应用骨架支持多屏

> ID：12242111
> 
> 赞同：95
> 
> 时间：2012-09-03T04:48:04.697
> 
> 标签：android, android-layout, screen

正如我们所知，Android 配备了具有不同功能、分辨率和屏幕尺寸的各种设备，因此在开发支持多个（小和大）屏幕的应用程序时，存在尺寸和布局的障碍。

这会导致*屏幕尺寸、分辨率和 DPI*的不同组合，并在为 Android 设备进行设计和开发时带来相当大的挑战。虽然其他一些制造商（非 Android）具有不同的分辨率和 DPI，但它们共享相同的屏幕尺寸并且分辨率遵循相同的纵横比。因此，可以创建适合非 Android 设备的图像。

我的问题是，是否应该遵循适当的流程或架构来满足要求？

![在此处输入图像描述](../Images/c317ab8ff801435880aa846b28f653f1.png)

*请记住，我们确实有不同尺寸和分辨率的平板电脑。*

我知道[**Android Developer**](http://developer.android.com/guide/practices/screens_support.html)包含此信息，但我的观点来自实现。

据我所知，对于设计 Android 图形，即使是程序员也必须了解设计理念。

* * *

## 回答 #1

> 赞同：148
> 
> 时间：2012-09-04T06:42:22.320

最后创建了一个处理多个屏幕的布局和图标的结构。

Android 根据两个参数将设备显示分为几类：

*   屏幕尺寸，显示器的物理尺寸（对角线测量）
*   屏幕密度，显示器的物理像素密度（以每英寸像素数或 ppi 为单位）`

要快速确定屏幕尺寸和密度，请安装适用于 Android 的“[我的尺寸是多少”应用程序。](https://play.google.com/store/apps/details?id=nl.qbus.sizemeup&hl=en)

屏幕尺寸

Android 定义了四种通用的屏幕尺寸：

* * *

```
 Qualifier           Size

 small               ~3 inches (approx) 
 normal              ~4 inches (approx) 
 large               Exceeds 4 inches    
 xlarge              Exceeds 7 inches 
```

*   大多数手机被归类为小型或普通（对角线大约 3 到 4 英寸）。但是现在大屏手机很多，比如 Galaxy S4、HTC One、Xperia Z
*   像三星 Galaxy Tab 这样的小型平板电脑被归类为大型（大于 4 英寸）
*   超大适用于大型设备，例如大型平板电脑

Android 定义了四种通用的屏幕密度：

* * *

```
 Qualifier         Description         Nominal value

 ldpi              low density          120 ppi
 mdpi              medium density       160 ppi
 hdpi              high density         240 ppi
 xhdpi             extra high density   320 ppi 
```

通常：

*   屏幕尺寸对您的应用布局影响最大
*   屏幕密度对您的图像和图形资源的影响最大

[这里](http://developer.android.com/training/multiscreen/screendensities.html)列出了设备屏幕的百分比差异

*   Ldpi- 75%
*   Mdpi- 100%（基于 Android 开发者网站）
*   Hdpi- 150%
*   XHdpi- 200%

![在此处输入图像描述](../Images/ab8640606f2a2acfabf17ab0c1006623.png)

但是我们现在知道大多数设备都带有*480X800*，所以我认为这是基于设备的，所以我们的新计算会像这样

*   Ldpi- 50%
*   Mdpi- 66.67%
*   Hdpi- 100%
*   XHdpi- 133.33%

这意味着将只为*480X800*创建第一个图标和设计，然后为其余的（即 Ldpi、Mdpi、Xhdpi）创建图标和设计。

有些图像对于所有布局都是通用的，并且颜色和形状必须一致（没有复杂的形状，没有曲线），所以对于这种图像，我们正在创建`9patch`将其放在“drawable（无后缀）”文件夹中。要创建 9Patch 图像，您可以使用[**DrawNinePatch**](http://developer.android.com/tools/help/draw9patch.html)或[**BetterNinePatch**](http://android.elex.pe.kr/a-better-9-patch-tool)

现在只需根据 Android 的标准重命名您的图像并完成您的应用程序，`hdpi`然后只需创建`drawable-hdpi`文件夹并打开*Adode Photoshop*（推荐）创建多个大小的[**操作**](http://www.dpandi.com/actions/index.html)（只需根据百分比更改大小）一旦为所有大小创建操作然后执行[**批量自动化**](http://www.maclife.com/article/howtos/automate_photoshop_tasks_actions)并给出源（drawable-hdpi）和目标（drawable-ldpi，drawable-mdpi，drawable-xdpi）。

我坚持你使用 Photoshop 的原因是它会自动调整你的图像大小，还有一个优点是你不需要重命名文件（它会分配与原始文件相同的名称）。

完成所有图像的创建后，刷新您的项目并对其进行测试。

有时，支持屏幕（xhdpi、hdpi、mdpi）的布局可能会在小屏幕（ldpi）中被剪切，因此为了处理这个问题，只需为其创建单独的布局文件夹（layout-small）并添加`ScrollView`（大部分）。就是这样。

**平板**电脑 平板 电脑分为两种尺寸。

1.  7"(1024X(600-48(导航栏))) = 1024X552 (drawable-large)
2.  10"(1280X(800-48(导航栏))) = 1280X752 (drawable-xlarge)

在这个我们需要为两个屏幕创建图像并相应地放置它们

所以总而言之，我们将在我们的应用程序中有这个文件夹来支持多屏。

```
drawable
drawable-ldpi
drawable-mdpi
drawable-hdpi
drawable-xhdpi
drawable-large
drawable-xlarge 
```

*将有更多的限定词组合`Screen size and Screen density`*

```
drawable-large-ldpi
drawable-large-mdpi
drawable-large-hdpi
drawable-large-xhdpi 
```

*更多限定词`Screen density and Version`*

```
drawable-ldpi-v11
drawable-mdpi-v11
drawable-hdpi-v11
drawable-xhdpi-v11 
```

*和更多的限定符`Screen size and Version`*

```
drawable-large-v11
drawable-xlarge-v11 
```

*和更多的限定符`Smallest width concept(SW)`*

```
 drawable-sw???dp 
```

此外，在 Android V3.0 Honeycomb 中，他们引入`SW(smallest width)`了将设备分类为屏幕宽度的新概念，因此如果我们创建一个名为的文件夹，`drawable-sw360dp`则具有 720dp（宽度或高度）的设备将使用此文件夹中的资源。

例如找到`Samsung Galaxy S3` **dp**后缀到**drawable-sw?dp**
参考[**DP Calculation**](http://developer.android.com/guide/practices/screens_support.html#terms)，如果你想支持你的布局或 drawable 到 S3 那么计算说

*px= 设备宽度 = 720*
*dpi= 设备密度= 320*

给出的公式

```
 px = dp * (dpi / 160) 
```

交换公式，因为我们有 px 的值

```
 dp = px / (dpi / 160) 
```

现在把价值，

```
 dp= 720 / (320/160);
     dp=360\. 
```

所以`drawable-sw360dp`会做这项工作

从[GsmArena](http://www.gsmarena.com/) Sameway 获取设备配置，您还可以根据设备的 Android API 版本创建文件夹，即 drawable-hdpi-v11`，因此具有 API11 且为 Hdpi 的设备将使用此资源。

附加提示：

*   使用相对布局、dp、sp 和 mm

    **dp 单位**- 在 160 ppi 屏幕上，与设备无关的像素标准化为 1 个物理像素，即中等密度。在运行时缩放。用于屏幕元素尺寸

    **sp 单位**- 缩放的像素，指定为浮点值，基于 dp 单位，但还针对用户的字体大小首选项设置进行了缩放。在运行时缩放。*用于字体大小*

    *您应该始终使用 RelativeLayout 进行布局；AbsoluteLayout 已弃用，不应使用。*

*   使用适当的图像格式 - PNG 与 JPEG

    `Android "prefers" PNG for bitmap image files, "accepts" JPEG, and "discourages" GIF.`

    但是，PNG 和 JPEG 不是等价物。他们有不同的质量权衡，PNG并不总是最好的：

    **与 PNG 相比， JPEG**最多可减少 50% 的文件大小，如果您的应用程序是图像密集型应用程序，这一点非常重要

    对于相同的文件大小，更高质量的“有损”JPEG 可能比高度压缩的“无损”PNG 看起来更好

*   为您的图像和图形添加标签以进行调试

*   使用 support-screens 元素

*   使用真实设备值配置您的模拟器

    通常，桌面系统以 72ppi (Mac) 或 96ppi (Windows、Linux) 显示。与移动设备相比，桌面显示器始终是低密度的。

    始终将您的 Android 模拟器配置为模仿真实的设备值，并始终将它们设置为缩放以模拟设备密度。

    在 Eclipse 中，很容易创建多个模拟器（从 Eclipse 菜单栏中，选择**Window > AVD Manager > New**），并为真实设备配置值：

    为其模拟的真实设备命名模拟器指定分辨率，不要使用内置通用尺寸设置设备密度以匹配真实设备（在硬件窗格中将抽象 LCD 属性设置为真实密度，始终为整数值）

    启动设备时，请始终选择将显示缩放为实际尺寸，并以英寸为单位输入实际屏幕尺寸。

    如果不设置设备密度，则模拟器默认为低密度，并且始终加载 ldpi 特定的资源。分辨率（像素尺寸）将是正确的，但与密度相关的图像资源不会按预期显示。

    当然，您所做的任何事情都不会在较低密度的桌面显示器上再现较高密度的图像质量。

以下是截至 2012 年 10 月 1 日的 7 天期间收集的数据。要查看有关 Android 平台版本的最新统计信息，[请转到此处](http://developer.android.com/about/dashboards/index.html)

*基于屏幕尺寸*

![在此处输入图像描述](../Images/ec8c9fb127a17917ae8c1ce4ddafd5cc.png)

*基于屏幕密度*

![在此处输入图像描述](../Images/5e7a0e10603a671a158b53ec75f884c5.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-20T13:10:38.967

设计师应该创建基础设计

`base size of mdpi devices * density conversion factor of highest supported density bucket`
size.Base 屏幕尺寸为 320 X 480 px，密度桶如下：

*   低密度脂蛋白：0.75
*   mdpi：1.0（基本密度）
*   高清：1.5
*   xhdpi: 2.0
*   xxhdpi: 3.0
*   xxxhdpi: 4.0

为了解决 Android 设备上的额外可用空间问题，应该在两个方向（水平和垂直）上使用可拉伸组件。详细信息可在此处获得：

[http://vinsol.com/blog/2014/11/20/tips-for-designers-from-a-developer/](http://vinsol.com/blog/2014/11/20/tips-for-designers-from-a-developer/)

# algorithm - 在不使用过多内存的情况下按顺序生成所有排列

> ID：12242112
> 
> 赞同：3
> 
> 时间：2012-09-03T04:48:06.937
> 
> 标签：algorithm, permutation

我有一个我似乎无法弄清楚的面试问题：给定一系列整数。编写一个程序来打印数组中数字的所有排列。输出应按降序排序。例如对于数组 { 12, 4, 66, 8, 9}，输出应该是：

9866412

9866124

9846612

……

……

1246689

一个明显的解决方案是先排列然后排序，但这需要 n！记忆。我正在寻找需要多项式记忆的东西。

我尝试编写递归解决方案，该解决方案涉及从最大的字典序数开始生成排列：

```
def compare(x,y):
    for i in range(max(len(x), len(y))):
        if len(x) <= i:
            return compare(x[0], y[i])
        elif len(y) <= i:
            return compare(x[i], y[0])
        elif x[i] < y[i]:
            return -1
        elif x[i] > y[i]:
            return 1
    return 0

def print_all_permutations(so_far, num_lst):
    if not num_lst:
        print so_far
    for i in range(len(num_lst)):
        cur = num_lst.pop(i)
        print_all_permutations(so_far + [str(cur)], num_lst)
        num_lst.insert(i, cur)

input_arr = sorted([str(x) for x in [3,31,0]], cmp = compare, reverse=True) 
```

但这对于以下情况失败：

```
['3', '31', '0']
3310
3031
error 3130(['31', '3', '0']) is greater than ['3', '0', '31'](3031)
3130
3103
331
313 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T17:41:41.590

看来这可以通过按顺序生成数字排列而不重复，然后为每个数字排列找到所有匹配值来解决。这是python中的一个例子：

```
def reversed_numerically_ordered_permutations(values):
  def permute(digits,prefix):
    assert type(digits) is str
    if len(digits)==0:
      match(prefix,values,[])
    last_digit=None
    for i in range(len(digits)):
      if digits[i]!=last_digit:
        permute(digits[0:i]+digits[i+1:],prefix+digits[i])
        last_digit=digits[i]

  def match(x,values,prefix):
    assert type(x) is str
    if len(x)==0 and len(values)==0:
      print prefix
    for i in range(len(values)):
      value=values[i]
      value_str=str(value)
      if x.startswith(value_str):
        match(x[len(value_str):],values[0:i]+values[i+1:],prefix+[value])

  digits=sorted(''.join(str(x) for x in values),reverse=True)
  digits=''.join(digits)
  permute(digits,'')

reversed_numerically_ordered_permutations([3,31,0]) 
```

输出：

```
[3, 31, 0]
[31, 3, 0]
[31, 0, 3]
[3, 0, 31]
[0, 3, 31]
[0, 31, 3] 
```

但是，在某些情况下，这可能效率极低。

# html - 如何将这 2 个 IE 条件语句合二为一？

> ID：12242115
> 
> 赞同：1
> 
> 时间：2012-09-03T04:48:40.117
> 
> 标签：html, internet-explorer, mobile, html5boilerplate

对于移动优先响应网站。我正在结合[HTML5 样板](http://html5boilerplate.com/)和[移动样板](http://html5boilerplate.com/mobile/)

我有一个小问题。

如何将这 2 个 IE 条件语句合二为一？

```
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js"> <!--<![endif]--> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T04:53:01.020

你试过这个吗：

```
<!--[if (gt IE 8)|((gt IEMobile 7)|!(IEMobile))]><!-->
<html class="no-js">
<!--<![endif]--> 
```

据我所知，应该可以添加另一对括号并将它们与 `or`运算符结合起来。

顺便说一句，我认为以这种方式操作`html`标签不是一个好主意。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T04:54:33.283

有关详细信息，请参阅[http://en.wikipedia.org/wiki/Conditional_comment](http://en.wikipedia.org/wiki/Conditional_comment)。

您可以将逻辑表达式与 ands 和 ors (`&`分别`|`) 结合起来。

所以试试：

```
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js"> <!--<![endif]--> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T04:57:14.517

```
<!--[if gt IE 8 |((gt IEMobile 7)|!(IEMobile))]><!--> <html class="no-js"> <!--<![endif]--> 
```

来源： http: [//msdn.microsoft.com/en-us/library/ms537512 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms537512(v=vs.85).aspx)

# c# - Azure blob 对名称中带有问号的文件的引用

> ID：12242120
> 
> 赞同：0
> 
> 时间：2012-09-03T04:49:26.410
> 
> 标签：c#, azure, blobstorage

我在 'b/123?/1.xml' 的一个名为 'a' 的容器中有一个 blob，我无法通过 cloudclient 删除它。

```
string blobAddressUri = "b/123%3f/1.xml";
var cloudBlobContainer = csa.CreateCloudBlobClient().GetContainerReference("ndrdata");
var blobToDelete = cloudBlobContainer.GetBlobReference(HttpUtility.UrlEncode(blobAddressUri));
            blobToDelete.Delete(); 
```

这是我尝试过使用不同变体的代码？与 %3f 相比。而不是 UrlEncoding 字符串。

如果我通过 CloudBerry 生成 SAS uri 然后替换“？”，我可以访问该文件。与 %3f。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:30:52.467

您使用的是什么版本的 Storage Client 库？我使用了 1.7.0 版本，并针对开发存储使用了以下代码，它对我来说效果很好。

```
 var storage = CloudStorageAccount.DevelopmentStorageAccount;
        string blobAddressUri = "b/123?/MainWindow.xaml";
        var cloudBlobContainer = storage.CreateCloudBlobClient().GetContainerReference("abc");
        var blobToDelete = cloudBlobContainer.GetBlobReference(blobAddressUri);
        blobToDelete.Delete(); 
```

# c# - 从 asp.net 中的 xml 提要读取大数据时避免超时

> ID：12242121
> 
> 赞同：0
> 
> 时间：2012-09-03T04:49:28.797
> 
> 标签：c#, asp.net

我正在开发一个应用程序，我在其中从 xml 提要读取数据。xml 提要包含大量数据，接近 100MB。因此，从提要会话中读取数据时会发生超时。

任何人都可以建议我如何避免超时。

我也尝试过延长执行时间和请求长度，但问题仍未解决。

```
 <httpRuntime  executionTimeout="100000000" maxRequestLength="2097151"
     useFullyQualifiedRedirectUrl="false" minFreeThreads="8"
     minLocalRequestFreeThreads="4" appRequestQueueLimit="100" 
     enableVersionHeader="true" /> 
```

从 URL 读取 xml 数据的代码：

```
WebRequest wrGETURL;
        wrGETURL = WebRequest.Create(sUrl);

        HttpWebResponse wr = (HttpWebResponse)wrGETURL.GetResponse();
        StringBuilder sb = new StringBuilder();
        byte[] buf = new byte[8192];

        if (wr.StatusCode == HttpStatusCode.OK)
        {

            Stream resStream = wr.GetResponseStream();
            string tempString = null;
            int count = 0;
            do
            {
                count = resStream.Read(buf, 0, buf.Length);
                if (count != 0)
                {
                    tempString = Encoding.ASCII.GetString(buf, 0, count);
                    sb.Append(tempString);
                }
            }
         } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T08:24:26.417

我不知道您的确切要求，但正如@DaveB 所说-如果您必须提取 100MB，那么您必须等待 100MB。

要阅读的提要是用户吗？如果是这样，您可以使用 ajax 部分提取 xml - 所以获得 5MB 的价值并显示它，然后获得下一个 5MB，依此类推。或者，基于滚动条的 Twitter 风格的 ajax 调用（如果是这样的话）可能会起作用。

如果提要用于某些处理能力并且不被用户读取，则不要使用 UI 线程 - 获取 WCF 或 WEB API 以在后台检索 100MB。

从您的帖子中很难说出要求，但也许这些想法可能会有所帮助？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:29:44.613

您可以通过拥有本地副本来防止一些延迟。饲料多久更换一次？如果基础数据很少更改，那么经常点击 XML 提要是没有用的。您可以有一个计划的过程来“刷新”数据的本地副本。如果您尝试在每次点击页面时下载 100 MB，那么您将亲身体验该场景的问题。拥有数据后如何处理？或许您可以对数据运行 XPath 或 LINQ to XML 查询以呈现您想要的那部分。一些值得深思的...

# c# - 单击按钮将文本框和面板的值传输到一个多行文本框

> ID：12242127
> 
> 赞同：0
> 
> 时间：2012-09-03T04:50:17.027
> 
> 标签：c#

所以我正在创建一个简单的程序来跟踪我的工作笔记。我的代码运行良好，但我今天正在考虑一种不同的方法来使其工作并仍然达到相同的最终结果。

目前，用户在几个文本框中输入所有内容并选中几个复选框，然后单击保存按钮，所有信息以及一些预定格式被放入文本文件中，然后单击复制按钮，读取文本文件并将其输出到 notes_view 文本框这样他们就可以确保笔记格式正确，并且还可以复制到剪贴板。

现在我想做的是当用户在每个文本框中输入时，它会自动输出到 notes_view 文本框，复选框也一样（需要保持格式和预定的文本行），然后是用户只需按一个按钮即可将其复制到剪贴板，而无需使用文件来存储信息。

我希望这会像我目前的程序一样简单，但只是采用不同的方式来获得相同的最终结果。

我对 C# 和一般编程相当陌生，所以关于如何做到这一点以及我应该从哪里开始的任何想法请告诉我。我也明白这基本上需要对我的代码进行完全重写。

这是我的程序的当前完整代码。

```
 public partial class notes_form : Form
{

    public notes_form()
    {
        InitializeComponent();

    }

    private void save_button_Click(object sender, EventArgs e)
    {

        //Starts the file writer
        using (StreamWriter sw = new StreamWriter("C:\\INET Portal Notes.txt"))
        {
            string CBRSame = cust_btn_text.Text;
            if (cbr_same.Checked)
            {
                cust_callback_text.Text = CBRSame;
            }

            //Writes textboxes to the file
            sw.WriteLine("**Name: " + cust_name_text.Text);
            sw.WriteLine("**BTN: " + cust_btn_text.Text);
            sw.WriteLine("**CBR: " + cust_callback_text.Text);
            sw.WriteLine("**Modem: " + cust_modem_text.Text);

            //Statements to write checkboxes to file

            string checkBoxesLine = "**Lights:";

            foreach (Control control in pnlCheckBoxes.Controls)
            {
                if (control is CheckBox)
                {
                    CheckBox checkBox = (CheckBox)control;

                    if (checkBox.Checked && checkBox.Tag is string)
                    {
                        string checkBoxId = (string)checkBox.Tag;
                        checkBoxesLine += string.Format("{0}, ", checkBoxId);
                    }
                }
            }
            //Newline for checkboxes
            sw.WriteLine(checkBoxesLine);

            //Continues textboxes to file
            sw.WriteLine("**Troubleshooting: " + tshooting_text.Text);
            sw.WriteLine("**Services Offered: " + services_offered_text.Text);
            sw.WriteLine("**Other Notes: " + other_notes_text.Text);
            sw.Flush();

        }

    }
    //Button that will pull all the text from the text file and then show it in the notes textbox and also push to clipboard
    private void generate_button_Click(object sender, EventArgs e)
    {
        //Loads the reader
        StreamReader streamreader = new StreamReader("C:\\INET Portal Notes.txt");
        //Reads the text from the INET Portal Notes.txt
        notes_view_text.Text = "";
        while (!streamreader.EndOfStream)
        {
            string read_line = streamreader.ReadToEnd();
            notes_view_text.Text += read_line + "\n";
        }

        streamreader.Close();
        //Copies text to clipboard for pasting into INET
        Clipboard.SetText(notes_view_text.Text);
    }
    //Button to reset entire form
    private void reset_form_button_Click(object sender, EventArgs e)
    {
        //Reset checkboxes panel
        try
        {
            foreach (Control ctrl in pnlCheckBoxes.Controls)
            {
                if (ctrl.GetType() == typeof(CheckBox))
                    ((CheckBox)ctrl).Checked = false;

            }
            //resets textboxes
            cust_name_text.Clear();
            cust_btn_text.Clear();
            cust_callback_text.Clear();
            cust_modem_text.Clear();
            tshooting_text.Clear();
            services_offered_text.Clear();
            other_notes_text.Clear();
            notes_view_text.Clear();

        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.ToString());

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:19:19.360

我没有仔细查看您的代码，但我想您可以简单地挂钩到 TextChanged（或类似）属性，然后调用您为 Save 进程调用的相同代码。

更新保存过程以使用内存流（而不是写入磁盘），或重新编写它以使用更“适合”您的新场景的东西，例如已经建议的字符串生成器。

这有帮助吗？

# mobile - Paypal 按钮在移动网站上不起作用

> ID：12242129
> 
> 赞同：0
> 
> 时间：2012-09-03T04:50:28.563
> 
> 标签：mobile, paypal, standards, payment

我正在使用 Paypal 在网站上接受付款。它在全尺寸网站上运行良好，但是当我在运行 jQuery mobile 的移动版网站上实现相同的代码时，“添加到购物车”按钮不起作用。

我使用的是网站支付标准，所以它不像在这篇文章中添加“-mobile”那么简单：[Paypal Checkout in mobile website](https://stackoverflow.com/questions/10893457/paypal-checkout-in-mobile-website)

Paypal 说页面应该自动重定向，但它没有。

我的按钮也没有正确显示，这很奇怪。在我的笔记本电脑上（在移动网站上），按钮被奇怪地拉伸了，在我的手机上（在移动网站上），按钮看起来也很奇怪。

这是我的 Paypal 按钮代码：

```
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="ZQK9WXTYG3SDN">
<table>
<tr><td><input type="hidden" name="on0" value="Weekend Ticket Type">Weekend Ticket Type</td></tr><tr><td><select name="os0">
<option value="Full Price Weekend Ticket">Full Price Weekend Ticket £42.00 GBP</option>
<option value="Weekend Concession Ticket">Weekend Concession Ticket £40.00 GBP</option>
<option value="Under 12 Weekend Ticket">Under 12 Weekend Ticket £0.00 GBP</option>
</select> </td></tr>
</table>
<input type="hidden" name="currency_code" value="GBP">
<input style="padding:20px 0px 0px 0px;" width="120" type="image" src="http://www.website-domain.com/images/PayPal-button.jpg" border="0" name="submit" alt="PayPal — The safer, easier way to pay online.">
<img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
</form> 
```

（我已更改网站域名以阻止它在搜索引擎中被收录；-)

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T22:07:19.187

我建议 jQuery Mobile 正在劫持您的表单提交（就像它也使用`<a href="..">`标签一样）。尝试添加`data-ajax="false"`到您的`<form>`标签。

您可以在此处找到有关此行为的更多信息：http: [//jquerymobile.com/test/docs/forms/forms-sample.html](http://jquerymobile.com/test/docs/forms/forms-sample.html)

或者通过将此代码段添加到您的代码来全局禁用它：

```
$(document).bind("mobileinit", function(){
  $.mobile.ajaxEnabled = false;
}); 
```

# sql - 如何制作动态列

> ID：12242131
> 
> 赞同：2
> 
> 时间：2012-09-03T04:50:29.303
> 
> 标签：sql, sql-server, tsql, sql-server-2005

我有一些数据如下

```
Declare @t table (Id int identity,CommaSeperatedValue varchar(100))
Insert Into @t 
Select 'Somalia,Vietnam' Union All 
Select 'apple,banana,guava,India,Australia' 
```

CommaSeparated 值没有限制。提供的样本的期望输出将是

```
Id  Col1    Col2    Col3    Col4    Col5
1   Somalia Vietnam Null    Null    Null
2   apple   banana  guava   India   Australia 
```

这意味着，列将动态生成。让我们再举一个例子

```
Declare @t table (Id int identity,CommaSeperatedValue varchar(100))
Insert Into @t 
Select 'Somalia,Vietnam,Honolulu,Spain' Union All 
Select 'apple,banana,guava,India,Australia,Smart,Bus' Union All
Select 'Mango' 
```

所需的输出

```
Id  Col1    Col2    Col3    Col4    Col5        Col6    Col7    
1   Somalia Vietnam Honolulu Spain  Null        Null    Null
2   apple   banana  guava   India   Australia   Smart   Bus
3   Mango   Null    Null    Null    Null        Null    Null 
```

这个查询怎么做？

到目前为止我的尝试（在此之后我迷路了）

```
SELECT 
    X.id,
    X.CommaSeperatedValue,
    Y.splitdata 
FROM
 (
    SELECT *,
    CAST('<X>'+REPLACE(F.CommaSeperatedValue,',','</X><X>')+'</X>' AS XML) AS xmlfilter 
    FROM @t F
 )X
 CROSS APPLY
 ( 
    SELECT fdata.D.value('.','varchar(50)') as splitdata 
    FROM X.xmlfilter.nodes('X') as fdata(D)
 )Y 
```

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:51:51.423

好吧，这就是您正在寻找的动态解决方案。我使用了临时表，您可以将其替换为永久表或表变量。

```
Declare @t table (Id int identity,CommaSeperatedValue varchar(100))
Insert Into @t 
Select 'Somalia,Vietnam' Union All 
Select 'apple,banana,guava,India,Australia'
IF object_ID('TempDB..#Temp') IS NOT NULL DROP TABLE #Temp;
SELECT 
X.id,
--X.CommaSeperatedValue,
Y.splitdata
,ROW_NUMBER() OVER( PARTITION  BY X.id ORDER BY X.id ) AS DataID
INTO #Temp 
FROM
 (
SELECT *,
CAST('<X>'+REPLACE(F.CommaSeperatedValue,',','</X><X>')+'</X>' AS XML) AS xmlfilter 
FROM @t F
 )X
 CROSS APPLY
 ( 
    SELECT fdata.D.value('.','varchar(50)') as splitdata 
    FROM X.xmlfilter.nodes('X') as fdata(D)
 )Y

DECLARE @MAXCol INT = (SELECT MAX(DataID)FROM #Temp)
     ,@index INT =1
     ,@ColNames varchar(4000)=''
     WHILE (@index<=@MAXCol)
     BEGIN 
     SET @ColNames =@ColNames +'MAX(CASE WHEN DataID = '+LTRIM(STR(@index))+' THEN splitdata END) as Col'+LTRIM(STR(@index))+','
     SET @Index=@Index +1        
     END
SET @ColNames = LEFT(@ColNames,LEN(@ColNames)-1) -- Remove Last Comma
EXECUTE   ( 'SELECT
        [id],'+@ColNames+' FROM #Temp GROUP BY [id]'
      ) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:28:12.727

使用你已经得到的，添加一个行号，并使用 group by 转置它。

```
SELECT
    [id],
    MAX(CASE WHEN RowNumber=1 THEN splitdata END) as Col1,
    MAX(CASE WHEN RowNumber=2 THEN splitdata END) as Col2,
    MAX(CASE WHEN RowNumber=3 THEN splitdata END) as Col3,
    MAX(CASE WHEN RowNumber=4 THEN splitdata END) as Col4,
    MAX(CASE WHEN RowNumber=5 THEN splitdata END) as Col5,
    MAX(CASE WHEN RowNumber=6 THEN splitdata END) as Col6,
    MAX(CASE WHEN RowNumber=7 THEN splitdata END) as Col7,
    MAX(CASE WHEN RowNumber=8 THEN splitdata END) as Col8,
    MAX(CASE WHEN RowNumber=9 THEN splitdata END) as Col9,
    MAX(CASE WHEN RowNumber=10 THEN splitdata END) as Col10

FROM (
    SELECT 
        X.id,
        Y.splitdata,
        ROW_NUMBER() OVER (PARTITION BY id ORDER BY id) AS RowNumber
    FROM
     (
        SELECT *,
        CAST('<X>'+REPLACE(F.CommaSeperatedValue,',','</X><X>')+'</X>' AS XML) AS xmlfilter 
        FROM @t F
     )X
     CROSS APPLY
     ( 
        SELECT fdata.D.value('.','varchar(50)') as splitdata 
        FROM X.xmlfilter.nodes('X') as fdata(D)
     )Y
) X
GROUP BY [id] 
```

这将产生：

```
id  Col1    Col2    Col3    Col4    Col5    Col6    Col7    Col8    Col9    Col10
1   Somalia Vietnam Honolulu    Spain   NULL    NULL    NULL    NULL    NULL    NULL
2   apple   banana  guava   India   Australia   Smart   Bus NULL    NULL    NULL
3   Mango   NULL    NULL    NULL    NULL    NULL    NULL    NULL    NULL    NULL 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:19:28.083

我相信您需要使用动态 SQL 来执行此操作，因为该`SELECT`语句需要指定列数，或者您需要遍历 CSV 列中的项目数。

通常这是一个坏主意，会导致比它解决的问题更多的问题，并且对于下一个人来说太混乱而无法维护。您可能要考虑的只是将数据展平为两列格式

```
-- ie your initial data
1, 'Somalia,Vietnam,Honolulu,Spain'
2, 'apple,banana,guava,India,Australia,Smart,Bus'
3, 'Mango'

-- would become
1, 'Somalia'
1, 'Vietnam'
1, 'Honolulu'
1, 'Spain'
2, 'apple'
2, 'banana
-- etc 
```

现在在您的表示层中进行分组和旋转。

尝试在 SQL 中格式化数据（可能用于报告或数据导出？）是一个常见的错误，实际上只是尝试将日期存储为文字的一个错误。SQL 是一种数据存储和操作语言/平台；它不适用于数据 尝试以这种方式使用它只会让自己头疼不已。

# mysql - 带有触发器或存储过程的 MYSQL 更改跟踪

> ID：12242134
> 
> 赞同：0
> 
> 时间：2012-09-03T04:50:36.537
> 
> 标签：mysql, stored-procedures, triggers, record

我正在考虑实现存储过程或触发器事件来跟踪数据库中任何地方所做的更改。我找到了如何使用触发器跟踪对特定表的更改的示例 - 但没有任何关于如何在更广泛级别上跟踪更改的示例 - 也没有任何允许我传递变量的示例，例如创建的用户的 ID改变。理想情况下 - 我想做的是以下几点：

每当数据库中的记录更新时，在历史表中创建一条记录——无论它在哪个表中——它包含以下信息：

*   记录在哪个表
*   记录的主键（自动递增的整数）
*   已更新列的名称
*   新价值
*   进行更改的用户的 ID
*   进行更新的用户的 IP 地址

如果需要，我不介意在 PHP 脚本中手动调用存储过程 - 我只是希望有一种方法可以自动填充发生更改的表名、列名！

# csv - 从 j2me 中的 csv 文件读取单个单元格记录

> ID：12242136
> 
> 赞同：0
> 
> 时间：2012-09-03T04:50:55.567
> 
> 标签：csv, java-me

在我的 J2ME 应用程序中，我`.csv file`从设备上的文件中获取数据并显示所有数据。但根据我的要求，我只想在设备上显示单个单元格数据。那么，如何从 .csv 文件中获取单个单元格记录并在设备上显示？

“**评论后更新**”

```
InputStream is = getClass().getResourceAsStream("/" + "csvsample.csv");

StringBuffer sb = new StringBuffer();

 try {

int chars;

 while ((chars = is.read()) != -1) {

 sb.append((char) chars);

 return sb.toString();

 } catch (Exception e) {

System.out.println("Exception Occurance::" + e);

}

return sb.toString();

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T11:46:36.290

首先，你必须一次读一行。为此，您可以使用以下方法：

```
private boolean readLine (InputStream is, StringBuffer line) throws IOException {
    int c = in.read();

    while (c != -1 && c != '\n') {
        line.append((char) c);
        c = in.read();
    }

    return line.length() > 0;
} 
```

然后，您需要根据`,`分隔符拆分行内容，例如，就像另一个问题[How do I split strings in J2ME?](https://stackoverflow.com/questions/200746/how-do-i-split-strings-in-j2me) .

```
while (readLine(is, sb)) {
  String line = sb.toString();
  // split line content

  sb.setLength(0);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T19:27:51.590

您将整个 InputStream 消耗为字符串的代码....

您可能希望使用阅读器来支持非 ASCII 字符集，并且希望以块的形式读取，而不是逐字节读取。

这是我使用的：

```
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;

public class StreamUtil {
    public static String consumeInputStream(InputStream in) throws IOException {
        Reader reader = new InputStreamReader(in);
        char[] buff = new char[4096];
        StringBuffer sb = new StringBuffer();
        int ret = 0;
        while(ret != -1) {
            ret = reader.read(buff);
            if(ret > 0) {
                sb.append(buff, 0, ret);
            }
        }
        return sb.toString();
    }
}
```

话虽如此，这个问题需要很多帮助。它非常模糊，您基本上是在要求某人为您完成所有工作。如果你能把它澄清一个非常精确和具体的问题，你会得到更好的回答。StackOverflow 用于回答特定问题，而不是询问是否有人会为您构建功能。

# django - 为什么 {{ form.form_field }} 在 Django 模板中工作？

> ID：12242138
> 
> 赞同：0
> 
> 时间：2012-09-03T04:51:19.353
> 
> 标签：django, django-forms, django-templates

在 Python 中，如果你的 Django 表单`form`中有一个名为 的字段`foo`，则不能使用属性访问语法`form.foo`来访问该字段；相反，您必须使用`form.fields['foo']`.

但是在模板中，您可以（通常会）使用`{{ form.foo }}`适用于模板中任何对象的正常属性访问语法来呈现字段。

`{{ form.foo }}`当 Python`form.foo`不工作时，模板为什么/如何工作？Django在渲染模板时是否有点特殊处理？还是我只是误解了一些简单的事情？

编辑：我知道 Django 的模板语言不是 Python，与 Python 有很多不同。我只是好奇为什么`{{ form.foo }}`语法有效和/或在表单的情况下它是如何实现的。毕竟，通常模板`{{ object.attribute }}`语法确实类似于 Python`object.attribute`语法，但在表单的情况下，它似乎被视为一种特殊情况。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:48:44.643

正如 Kerrek SB 所提到的，Django 的模板语言不是 Python，即使它有时看起来很像。`{{ object.attribute }}` *看起来确实*`{{ a.b }}`模仿了 Python 的属性查找，但它只是模板语言中的一个特例。

当您在模板中使用时，解释器将首先在当前上下文中`{{ a.b }}`查找。`a`一旦有了它，它将尝试以下方法来解决`a.b`：

*   `a["b"]`
*   `a.b`
*   `a.b()`（在 where`b`是 的方法的情况下`a`）
*   `a[b]`（在 是数字的情况下`b`）

对于表格，具体来说，`a["b"]`是使用什么。您可以将字段`"foo"`称为`form.fields["foo"]` *或*。`form["foo"]`不过，那一点魔法来自表单类，而不是模板语言。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:02:27.723

您所指的模板不是 Python——它是由 Python 程序解析的一种单独的、专用的标记*语言*[，](https://docs.djangoproject.com/en/1.4/topics/templates/)但它本身不是用 Python 编写的，也不是直接*执行*的。模板语言提供了一种方便的语法来访问表单字段，但这与 Python 本身的工作方式无关。

# lisp - 带有列表的 Lisp 递归

> ID：12242141
> 
> 赞同：2
> 
> 时间：2012-09-03T04:51:31.240
> 
> 标签：lisp, common-lisp

我需要一个函数，该函数将接收一个包含单词的列表，并将该列表拆分为两个列表，如果在任何时候找到单词“FOO”。我想出了一个递归解决方案，可能不是最好的，但我遇到了一些麻烦。我只需要传递 1 个参数，即要分析的列表，但我不知道如何构建第二个列表。有什么建议么？谢谢！

```
;Splits a list into 2 if the word 'FOO' is present
;----------------------------------------------------------------------
;LOAD FILE: (load "C:\\split.lisp")
;USAGE: (split '(with great power foo comes great responsibility) '())
;OUTPUT: ((with great power)(comes great responsibility))

(defun split (x y)
  (cond
    ( ;IF: first element in list is nil
      (EQ (car x) nil)
        x ;RETURN the list
    )
    ( ;ELSE IF: first element is 'FOO'
      (EQ (car x) 'FOO)
        (cons (reverse y ) (cons (cdr x) nil)) 
    )
    ( ;ELSE: recursively call split but pass the rest of x and 
      ;prepend y with the head of x
      t
        (split (cdr x) (cons (car x) y))
    )
  ) ;END cond
) ;END split 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T07:48:51.013

第一次测试应该不同。

以下不是一个非常好的解决方案：它不是尾递归的并且它使用副作用。但是还是...

```
(defun split (x)
  (cond ((null x) x)
        ((eq (first x) 'foo)
         (list nil (rest x)))
        (t (let ((l (split (rest x))))
             (push (first x) (first l))
             l)))) 
```

以上使用`PUSH`宏。Common Lisp 的有趣功能之一是您可以使用*位置*进行修改。在这种情况下，我们修改要返回的列表的第一个子列表。我们将列表的第一个元素推送到第一个子列表中。

```
CL-USER 12 > (split '(1 2 3 foo a b c))
((1 2 3) (A B C)) 
```

在 Common Lisp 中，人们通常会以非递归方式编写解决方案。

在您的递归版本中，将函数简化为一个参数的典型方法是：用一个参数编写函数，然后该函数调用一个带有两个参数的辅助函数。辅助函数也可以使用本地定义`LABELS`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-27T21:37:20.197

这是我的看法，只使用列表：

```
(defun split (lst)
  (labels ((split-rec (lst a)
    (cond
      ((or (null lst)
           (eq (car lst) 'foo))
             (values (reverse a) (cdr lst)))
      (t (split-rec (cdr lst) (cons (car lst) a))))))

    (split-rec lst ()))) 
```

`split`将大部分工作卸载到`split-rec`（在`labels`调用中定义），它递归地使用令牌列表，直到它到达列表的末尾，或者看到 'foo. 此时，它立即获取列表的其余部分并将其视为第二个列表。因为第一个列表 (a) 是递归构建的，所以 split-rec 必须在返回之前反转它。

以下是 REPL 的一些运行：

```
> (split '(with great power foo comes great responsibility))
(WITH GREAT POWER) ;
(COMES GREAT RESPONSIBILITY)

> (split '(with great power comes great responsibility))
(WITH GREAT POWER COMES GREAT RESPONSIBILITY) ;
NIL

> (split nil)
NIL ;
NIL

> (split '(with great power foo comes great foo responsibility) :on 'foo)
(COMES GREAT) ;
(WITH GREAT POWER RESPONSIBILITY)

> (split '(foo with great power comes great responsibility) :on 'foo)
NIL ;
(WITH GREAT POWER COMES GREAT RESPONSIBILITY) 
```

我能想到的大多数边缘情况都得到了处理，并且总是返回两个列表。来电者可以使用`multiple-value-bind`来获取两个列表，即：

```
(multiple-value-bind (a b)
  (split '(with great power foo comes great responsibility))
    ; do something useful with a and b
    ) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T13:19:07.797

```
(defun split (lst)
  (let* ((a (make-array (length lst) :initial-contents lst))
         (index (position 'foo a)))
    (cond ((null index) a)
          (t (cons (loop for i from 0 to (1- index)
                      collect (aref a i))
               (list (loop for i from (1+ index) to (1- (length a))
                        collect (aref a i)))))))) 
```

*   从列表中创建一个数组，以便更容易访问其中的元素。
*   检查 foo 是否存在，如果它确实标记了索引
*   使用循环创建两个列表，一个是 foo 之前的元素，另一个是 foo 之后的元素，并将它们组合在一起。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T20:03:46.483

这里我也试过！:)

不过，您需要澄清一件事：在极端情况下，例如：`foo`是列表的第一个元素，您应该返回两个列表还是只返回第二个？如果`foo`是列表中的最后一个元素，您应该返回列表`nil`还是只返回第一个列表？如果`foo`不在列表中，您应该只返回列表，还是列表和`nil`/`nil`和列表？

```
(defun split (list &key (on-symbol 'foo))
  (let (result result-head)
    (mapl
     #'(lambda (a)
         (if (eql (car a) on-symbol)
             (return-from split
               (if result
                   (values result (copy-list (cdr a)))
                   (copy-list (cdr a))))
             (if result
                 (setf (cdr result-head) (list (car a))
                       result-head (cdr result-head))
                 (setf result (list (car a))
                       result-head result)))) list) result))

(split '(1 2 3 4 5 foo a b c))
(split '(foo 1 2 3 4 5 foo a b c))
(split '(1 2 3 4 5 a b c)) 
```

# web - 如何使用 HAML 通过布局模板生成独立的 HTML 文件

> ID：12242144
> 
> 赞同：0
> 
> 时间：2012-09-03T04:51:41.230
> 
> 标签：web, haml

我`haml`在开发 Web 应用程序时使用了很多，但对于我现在正在做的工作，所有客户端需要的是平面`HTML`文件和一些`javascript`. 有很多文件，我认为使用 将它们全部编码可能会更容易，并使用`haml`布局文件来捕获每个页面共有的内容。

我检查了`haml`文档，他们提供了一个简单的例子：

```
haml hello_world.haml hello_world.html 
```

从我的模板中愉快地生成一个 hello world 页面。我已经搜索了文档以获取有关如何让它识别`layout.haml`文件的信息，但是没有任何运气。

目标是建立一个目录结构，如

```
/
 - templates/
    - layout.haml
    - other.haml
    - pages.haml
 - output/ 
```

从命令行就可以了

```
haml templates output 
```

并生成`other.html`和`pages.html`

这是可能的，还是我在为这项工作寻找错误的工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T10:23:11.443

[nanoc](http://nanoc.stoneship.org)也很不错.. 在某些方面可能比 jekyll 更简单，尽管好吃的东西更少

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:01:02.830

我会考虑将[Jekyll](https://github.com/mojombo/jekyll)与 HAML 工作流程一起使用，例如[http://mikeferrier.com/2011/04/29/blogging-with-jekyll-haml-sass-and-jammit/](http://mikeferrier.com/2011/04/29/blogging-with-jekyll-haml-sass-and-jammit/)

# iphone - 获取iphone中tesseract Ocr中的文本位置

> ID：12242147
> 
> 赞同：2
> 
> 时间：2012-09-03T04:52:12.317
> 
> 标签：iphone, tesseract

使用 tesseract 我已经提取了文本 iPhone。现在想要提取文本以及 xml 中的文本位置。我使用 GetHocrText 检索 HTML 中的文本。

例如：-

```
<span class='ocr_word' id='word_3_28' title="bbox 55 226 123 243">
<span class='ocrx_word' id='xword_3_28' title="x_wconf -5">Beverage</span>
</span> 
```

有没有其他方法可以在 tesseract OCR 中提取 XML 格式的文本？

感谢广告

斯里维迪亚

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-08-20T18:20:07.367

更好的方法是使用 ResultIterator; 您可以使用 tesseract::RIL_BLOCK、tesseract::RIL_PARA、tesseract::RIL_TEXTLINE、tesseract::RIL_WORD 或 tesseract::RIL_SYMBOL

来自[https://code.google.com/p/tesseract-ocr/wiki/APIExample](https://code.google.com/p/tesseract-ocr/wiki/APIExample)：

```
tesseract::TessBaseAPI api;
// tesseract.Init here
api.SetVariable("save_blob_choices", "T");
// tesseract.SetImage/tesseract.SetRectangle here
api.Recognize(NULL);

tesseract::ResultIterator* ri = api.GetIterator();
tesseract::PageIteratorLevel level = tesseract::RIL_WORD;
if (ri) {
  do {
    const char* word = ri->GetUTF8Text(level);
    float conf = ri->Confidence(level);
    int x1, y1, x2, y2;
    ri->BoundingBox(level, &x1, &y1, &x2, &y2);
    printf("word: '%s';  \tconf: %.2f; BoundingBox: %d,%d,%d,%d;\n",
           word, conf, x1, y1, x2, y2);
    delete[] word;
  } while (ri->Next(level));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-18T00:45:44.567

它不是 xml，但这是获取每个字符位置的一种方法：

```
tesseract::TessBaseAPI tesseract;
// tesseract.Init here
tesseract.SetVariable("save_blob_choices", "T"); // for character-level confidence
// tesseract.SetImage/tesseract.SetRectangle here
char *results_as_text = tesseract.GetBoxText(0);  // characters without spaces/newlines artificially embedded
std::istringstream results_as_stream(results_as_text);
std::string result;
char letter;
int x1, y1, x2, y2;
while (std::getline(results_as_stream,result)) {
    std::istringstream result_stream(result);
    result_stream >> letter;
    result_stream >> x1;
    result_stream >> y1;
    result_stream >> x2;
    result_stream >> y2;
    std::cout << letter << " ((" << x1 << "," << y1 << "),(" << x2 << "," << y2 << "))" << std::endl;
} 
```

# php - 哪个拼写检查器与 PHP 一起使用

> ID：12242149
> 
> 赞同：-1
> 
> 时间：2012-09-03T04:52:23.550
> 
> 标签：php, spell-checking

目前我正在为我的项目使用 Spellify，但它在 ie7 中产生了问题，有些人不喜欢每次都按下忽略。我检查了 aspell 和 pspell。任何人都可以建议使用 PHP 更好的拼写检查实用程序。

或类似一次性拼写检查的东西。一旦在提交之前填写表格，要求拼写检查并在此时而不是在他们打字时调用拼写检查器。

任何帮助都非常感谢。

任何开源或免费的。

非常感谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:02:39.963

PHP 有一个扩展名为`Pspell`：

[http://www.php.net/manual/en/book.pspell.php](http://www.php.net/manual/en/book.pspell.php)

这是免费和开源的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:01:16.250

您可以使用拼写检查库，例如

*   [php拼写检查](http://www.phpspellcheck.com/)

*   [tinymce](http://www.tinymce.com/wiki.php/Plugin%3aspellchecker) 这也给出了建议。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-09-05T04:08:10.510

最后我找到了我要找的东西。

[http://www.broken-notebook.com/spell_checker/](http://www.broken-notebook.com/spell_checker/)

真的感谢所有提供意见的人。

# javascript - 在javascript中可以做“数字加负数”吗？

> ID：12242160
> 
> 赞同：0
> 
> 时间：2012-09-03T04:54:09.630
> 
> 标签：javascript, sum, negative-number

我正在尝试制作函数，它会改变 DOM 元素的高度。

```
 function _changeLiHeight( elem, height ) {
        var area = elem.parent( '.area' ),
            li = area.parents( 'li' ),
            outerh = li.outerHeight( true );

        li.css( 'height', outerh + height );
    } 
```

我希望得到像 100 + -30 = 70 这样的结果，但是当我发送一个负数作为第二个参数时，结果是 100 + -30 = -30。这种行为可以吗？如何解决我的问题？

错误是我将删除的元素作为第一个参数发送，所以真的，outerh 是 0。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:01:17.413

```
function sum(x,y){
      console.log(x+y);
}

sum(100,-30); 
```

输出：70。

它工作正常。请检查此链接[http://jsfiddle.net/KW3kb/](http://jsfiddle.net/KW3kb/)。

# jboss - Jbpm 5 和 Seam 3 集成

> ID：12242162
> 
> 赞同：0
> 
> 时间：2012-09-03T04:54:34.123
> 
> 标签：jboss, jbpm, business-process-management, seam2, seam3

我和 14 位同事将参加为期 12 周的工程软件项目课程。该项目的主要建议是在已制作项目的版本之间迁移技术。

目标是从 Seam 2.2 和 Jbpm3 迁移到 Seam 3 和 Jbpm5。在网上搜索我们发现它们之间没有集成，所以我们真的不知道如何继续。我们也没有使用 Java EE、Seam 或 Jbpm 开发的经验。

所以问题是，

*   您是否尝试过集成 Seam3 和 Jbpm5？网上有没有关于它的信息没有找到？是否有可能在 12 周内完成 14 名没有该主题经验的开发人员？
*   如果不可能，是否可以集成 Jbpm5 和更早版本的 Seam？还是带有 Seam3 的 Jbpm 4.3？
*   Jbpm5 的优势是否如此重要以至于我们可以将其包含在迁移中？还是 Jbpm 4.3 是一个好目标？

如果您发送一些建议，我们将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T10:59:49.347

**问：**您是否尝试过集成 Seam3 和 Jbpm5？网上有没有关于它的信息没有找到？是否有可能在 12 周内完成 14 名没有该主题经验的开发人员？

*A：*目前还没有整合Seam3和jBPM 5的努力。如果我没记错的话，Seam2页面流是基于jpdl的，只有jBPM 3和4可以读取。jBPM 5*无法*读取 jpdl。14 位开发人员能否在 12 周内完成，取决于 14 位开发人员的水平。鉴于开发人员都没有 Seam 或 jBPM 方面的经验，我认为这是不可能的。

* * *

**问：**如果无法实现，是否可以集成 Jbpm5 和更早版本的 Seam？还是带有 Seam3 的 Jbpm 4.3？

*答：*将 jBPM 4.3 与 Seam 3 集成是*可能*的。但我什至不确定 Seam 3 中是否存在页面流功能：有一些关于它的帖子可以追溯到 2010 年，但我不确定它是在 Seam 3 中创建的。

* * *

**问：** Jbpm5 的优势是否如此重要以至于我们可以将其包含在迁移中？还是 Jbpm 4.3 是一个好目标？

*答*：jBPM 5 比 jBPM 3 有很多优势，最重要的是 BPMN2 支持和与 Drools 项目其余部分的无缝集成。然而，这些都与 Seam 集成无关。

简而言之，您最好为您的班级寻找另一个项目，恕我直言。

# wpf - generic.xaml 中的数据模板如何自动应用（redux）？

> ID：12242163
> 
> 赞同：1
> 
> 时间：2012-09-03T04:54:33.580
> 
> 标签：wpf, themes, datatemplate

这是[Thiado de Arruda](https://stackoverflow.com/users/304141/thiado-de-arruda)发布的[问题](https://stackoverflow.com/questions/2751707/how-can-data-templates-in-generic-xaml-get-applied-automatically)的后续。简而言之，他希望在他的 generic.xaml 文件中有一个 DataTemplate，但没有应用该模板。

给出的答案建议将 DataTemplate 放在托管他的自定义类型的控件的 ControlTemplate.Resources 中。这非常有效，但是，假设他需要将 DataTemplate 应用到其他地方，而不仅仅是在主机控件中。是否有必要将 DataTemplate 复制到每个其他主机控件的 ControlTemplates 中？

**编辑**（重申问题）：

我正在使用 MVVM 设计原则开发 WPF 应用程序。 *MainWindow.xaml*包含 UI 的结构，所有样式都编码在*Themes\generic.xaml*中。（行为编码在单独的视图模型类中，但这无关紧要。）作为 UI 的一部分，我创建了`ListBox`( `MyListBoxSubClass`) 的子类来显示我自己创建的普通 .Net 对象的集合 ( `MyObject`)。 *在generic.xaml*中有一个重新定义属性`MyListBoxSubClass`的样式，它会按预期应用。我也有一个for in *generic.xaml*，但这没有得到应用。根据上面的链接，我必须将*`Template``DataTemplate``MyObject`*`DataTemplate``Resources``ControlTemplate`因为`MyListBoxSubClass`为了`DataTemplate`应用这个。这非常有效。**

 **我的问题是如何在我的应用程序`DataTemplate`中应用到`MyObject` *任何地方*而不必复制`DataTemplate`? 我已经尝试`DataTemplate`在我需要的地方添加一个密钥并引用它，但由于某种原因，我在运行时收到 XAML 解析错误，并且 Resharper 说它无法解析我的`DataTemplate`密钥。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T16:58:49.040

在另一个 XAML 文件的单独资源字典中添加数据模板。

将 XAML 文件引入您的 generic.xaml 控件模板资源：

```
<ControlTemplate ...>
    <ControlTemplate.Resources>
         <ResourceDictionary>
              <ResourceDictionary.MergedDictionaries>
                   <ResourceDictionary Source="wherever.xaml" />
              </ResourceDictionary.MergedDictionaries>
         </ResourceDictionary>
    </ControlTemplate.Resources>
</ControlTemplate> 
```

然后，无论您想在哪里使用此数据模板，您都可以将其放入任何您想要的资源的合并字典中 - 用户控件、窗口、另一个控件模板等...

```
<Window x:Name="someWindow">
    <Window.Resources>
         <ResourceDictionary>
              <ResourceDictionary.MergedDictionaries>
                   <ResourceDictionary Source="wherever.xaml" />
              </ResourceDictionary.MergedDictionaries>
         </ResourceDictionary>
    </Window.Resources>
</Window> 
```

希望这可以帮助。**

# javascript - 使用 JavaScript 锁定页面上的任何操作

> ID：12242168
> 
> 赞同：0
> 
> 时间：2012-09-03T04:55:51.817
> 
> 标签：javascript, html, popup, webpage, outsystems

我对 JavaScript 比较陌生。我使用 Outsystems 技术开发了一个应用程序，其中我向用户展示了一个弹出窗口，一旦用户填写了信息，用户就会点击“保存”按钮。现在我需要禁用所有页面内容，因为它需要很长时间才能保存，并且用户可能会单击其他任何内容。

所以我需要使用 JavaScript 锁定页面，并显示一条消息告诉用户等待进程完成。（单击“保存”按钮）

有什么提示吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:01:26.857

只需添加一个整页固定位置覆盖，上面写着“正在保存...请稍候”。在上面。您甚至可以将其设为半透明灰色。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:00:21.440

绝对简单的方法是[jQueryUI 模式对话框。](http://jqueryui.com/demos/dialog/#modal)只需几行代码，加上一点 HTML 标记并包括库，您就可以实现一个：

```
$( "#dialog-modal" ).dialog({
        height: 140,
        modal: true
    });
}); 
```

但是，您应该注意：这*与任何其他 JavaScript 解决方案一样，*不会阻止恶意用户在您不希望他们与您的网站进行交互时阻止他们。唯一真正的保护措施是在用户到达您的服务器端代码时检查用户的所有输入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:00:07.607

您可以使用 JavaScript 禁用所有输入：

（在这种情况下是 jQuery）

```
$(':input').attr('disabled', 'disabled'); 
```

但同样，这不会停止在另一个选项卡中执行某些操作，或者导航离开页面，或者刷新它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T05:00:30.087

你可以做一些非常简单的事情，比如在页面顶部应用一个透明的 div。像这样说：

```
var overlay = $("<div style='width:100%; height: 100%; top: 0; z-index: 100; position: absolute; background: lightgray; opacity: 0.5; text-align: center; font-size: large; padding-top: 25%; font-weight: bold;'>Loading...</div>");
$("body").append(overlay); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T05:11:08.260

如果您使用 jQuery（[演示](http://jsfiddle.net/9G4bT/3/)）：

CSS：

```
.overlay {
    position: absolute; 
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    z-index: 999;
    background-color: #000;

    font-size: 24px;
    font-family: sans-serif;
    color: white;
    text-align: center;
}​ 
```

JavaScript：

```
$('<div>in process...</div>')
    .addClass('overlay')
    .fadeTo(0, 0.4)
    .appendTo('body');
​ 
```

# javascript - 找不到容器：goog.Disposable.instances_ 使用泄漏查找器for-javascript 工具时出错

> ID：12242169
> 
> 赞同：0
> 
> 时间：2012-09-03T04:56:08.567
> 
> 标签：javascript, performance, memory-leaks, google-chrome-devtools

我正在使用leak-finder-for-javascript 工具来查找javascript 中的内存泄漏。对于这个 m 在 Windows 7 上使用 Python 2.5

```
INFO:root:Using leak definition closure-disposable
INFO:root:Reading suppressions from "closure-disposable-suppressions.txt"
INFO:root:Taking heap snapshot
INFO:root:Analyzing heap snapshot
ERROR:root:Error analyzing snapshot: <class 'leak_finder.Error'>
Traceback (most recent call last):
  File "jsleakcheck.py", line 345, in <module>
    sys.exit(main())
  File "jsleakcheck.py", line 340, in main
    result = leak_checker.Run(inspector_client)
  File "jsleakcheck.py", line 151, in Run
    leaks = self._FindLeaks(client)
  File "jsleakcheck.py", line 189, in _FindLeaks
    self.leak_definition.stacktrace_suffix).FindLeaks(nodes))
  File "C:\Projects\retail\depot_tools\file\leak-finder\src\leak_finder.py", lin
e 571, in FindLeaks
    raise Error('Container not found: %s' % edge_description)
leak_finder.Error: Container not found: goog.Disposable.instances_ 
```

当我尝试在 chrome 控制台中检查 goog.Disposable.instances_ 时，它会向我显示有泄漏的对象，但随后会显示此错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:59:42.750

该问题在错误跟踪器中进行了讨论：

[http://code.google.com/p/leak-finder-for-javascript/issues/detail?id=8](http://code.google.com/p/leak-finder-for-javascript/issues/detail?id=8)

此错误消息的最可能原因：

*   您正在检查错误的页面（Leak Finder 总是检查第一个选项卡；在该选项卡上打开开发人员工具会混淆它）。
*   您正在尝试将 Closure 泄漏定义与不使用 Closure 的页面一起使用。

# menu - 应用程序菜单未在 IE8 的 WebSphere Portal 5.1 中呈现

> ID：12242182
> 
> 赞同：1
> 
> 时间：2012-09-03T04:57:33.857
> 
> 标签：menu, internet-explorer-8, rendering, websphere-portal

我有一个在 WebSphere Portal 5.1 上运行的 Portal 应用程序。导航菜单在 IE6 浏览器中显示良好。如果我在 IE8 浏览器中看到相同的应用程序，则不会呈现菜单。我得到的只是 "New Page" 和 "New Label" ![菜单渲染](../Images/b224611bb3c8b40fb779b8ce2c22f8a0.png)。这是 WebSphere Portal 5.1 的问题还是我缺少服务器中的某些设置？

谢谢， SKR

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T05:05:37.897

这是 WebSphere Portal 5.1 和 IE8 的问题。尝试在 WebSphere Portal 6 或更高版本中部署应用程序并检查应用程序。你应该把菜单放在里面。

# html - 如何将 microsoft word para/range 转换为 html？

> ID：12242183
> 
> 赞同：2
> 
> 时间：2012-09-03T04:58:00.237
> 
> 标签：html, ms-word

我正在开展一个项目，该项目需要将 word 文档中的特定段落转换为 HTML。我将拥有 para 或 paras 的范围对象，从该范围我可以获得 WordOpenXML，我想将其转换为 HTML。（它不应该有 html、head、body 标签，因为它不是完整的文档，而只是一个小的 html 块）

我看到了 Eric White 的 open XML 文章，他在这个主题上写了很棒的文章，openxml 的电动工具有 html 转换器，可以将整个文档转换为 html，我的要求是将特定的 para 或范围转换为 HTML。任何人都可以指导我正确的方向。

例如，如果一个 word 文档有

```
This is para1.

This is para2.

This is para3. 
```

我的要求是转换 para2，它可以作为 para 对象使用。所以，基本上我想写一个像

```
public string WordOpenXMLToHtml( string sWordOpenXML) {
    // do the transformation
    return sHtml;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:10:35.710

您可以尝试 HtmlConverter 对象。更多信息在这里[使用 Open XML SDK 2.0 将 Open XML WordprocessingML 转换为 XHTML](http://msdn.microsoft.com/en-us/library/office/ff628051.aspx)

# c - 如何将存储 IEEE 754 浮点数的 4 个字节转换为 C 中的浮点值？

> ID：12242187
> 
> 赞同：3
> 
> 时间：2012-09-03T04:58:37.637
> 
> 标签：c, floating-point, ieee-754

我的程序从文件中读取 4 个字节的 IEEE 754 浮点数。我需要将这些字节可移植地转换为我的 C 编译器浮点类型。换句话说，我需要一个带有`float IEEE_754_to_float(uint8_t raw_value[4])`C 程序原型的函数。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T05:08:29.717

如果您的实现可以保证正确的字节顺序：

```
float raw2ieee(uint8_t *raw)
{
    // either
    union {
        uint8_t bytes[4];
        float fp;
    } un;
    memcpy(un.bytes, raw, 4);
    return un.fp;

    // or, as seen in the fast inverse square root:
    return *(float *)raw;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:06:18.220

如果字节顺序相同，则如下所示：

```
float f;
memcpy(&f, raw_value, sizeof f);
return f; 
```

如果没有，请说：

```
float f;
char * p = (char *)&f; 
```

现在根据需要手动填充字节`p[0]`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T19:42:27.493

这是一个可移植地将 IEEE_754 数字转换为 C 编译器的浮点值的解决方案。此代码有效，但获取分数值的循环很丑陋，可以做得更好。同样，此代码不处理无穷大等特殊情况，而不是数字。

```
float IEEE_754_to_float(const uint8_t raw[4]) {
        int sign = (raw[0] >> 7) ? -1 : 1;

        int8_t exponent = (raw[0] << 1) + (raw[1] >> 7) - 126;

        uint32_t fraction_bits = ((raw[1] & 0x7F) << 16) + (raw[2] << 8) + raw[3];

        float fraction = 0.5f;
        for (uint8_t ii = 0; ii < 24; ++ii)
                fraction += ldexpf((fraction_bits >> (23 - ii)) & 1, -(ii + 1));

        float significand = sign * fraction;

        return ldexpf(significand, exponent);
} 
```

# java - 在模拟器和手机-Android 上获得不同的 DateFormat 结果

> ID：12242188
> 
> 赞同：0
> 
> 时间：2012-09-03T04:58:39.253
> 
> 标签：java, android, datetime, date-format, datetime-format

我想在我的 android 应用程序的特定实例中显示日期和时间。我使用以下代码来实现它。

```
Date now = new Date();
final String time = DateFormat.getDateTimeInstance(DateFormat.MEDIUM,DateFormat.SHORT).format(now); 
```

现在的问题是，在模拟器上它以我想要的完美格式显示日期和时间

```
Sep 1,2012 10:30pm 
```

但是当我在手机上运行我的应用程序时，它会以以下格式显示日期和时间：

```
2012 9 1 10:30 
```

谁能告诉我为什么我在模拟器和手机上会有不同的行为？我应该怎么做才能在手机上获得与我在模拟器上相同的结果？

谢谢你！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:10:51.660

日期格式可能会改变手机到手机，电脑到手机等等。但是您可以使用日期格式化程序，以便实现统一。

[文档 - SimpleDateFormat](http://developer.android.com/reference/java/text/SimpleDateFormat.html)

[例子](http://www.technotalkative.com/android-get-current-date-and-time-in-different-format/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:46:41.650

Sukitha 你的提示有效。我猜维京人错过了它。

无论如何，就这样吧。（在摩托罗拉 DROID 中测试）

```
String format = "MMM d,yyyy H:m a";
        SimpleDateFormat sdf = new SimpleDateFormat(format, Locale.ENGLISH);
        System.out.println("Time : "+sdf.format(new Date(System.currentTimeMillis())));
        Toast.makeText(this, "Time : "+sdf.format(new Date(System.currentTimeMillis())), 1000).show();
```

输出：**时间：1970 年 1 月 4 日上午 6:52**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:05:12.470

编辑：

使用以下代码，您将在模拟器和设备上得到相同的结果。

```
Calendar c = Calendar.getInstance();
SimpleDateFormat df = new SimpleDateFormat("MMM-dd-yyyy HH:mm a");
String formattedDate1 = df.format(c.getTime()); 
```

# php - 在 Internet Explorer 中使用 IFrame 的跨域 Cookie

> ID：12242190
> 
> 赞同：0
> 
> 时间：2012-09-03T04:58:47.793
> 
> 标签：php, iframe, cookies, cross-domain

我有一个客户要求在 iframe 中打开另一个域链接。这件事在 Firefox、Chrome 上运行良好，但在 Internet Explorer 中，它给出了未启用 cookie 的错误。当我直接打开该链接时，它可以在 IE 上正常工作，但在 IFrame 上它的情况不一样。我在 Google 上进行了一些搜索，但没有找到正确的答案。我只是想确认我这边是否有任何编码错误？我也找到了这个问题的解决方案

在 PHP 中：

```
header ( "p3p:CP=\"IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT\""); 
```

但它不适用于我的情况。我不确定我应该把它放在哪里，因为如果需要我可以更改我网站的代码。但我不能更改 iframe 网站，因为我们不是所有者。

这个项目是用 PHP 构建的。

任何帮助将非常感激。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-15T04:57:02.343

子框架的 cookie 被浏览器的 Cookie 隐私功能阻止。

该子框架（设置 cookie 的那个）必须发送一个 P3P 语句，指示如何使用 cookie 以便浏览器接受它们。

*在外部*框架中指定 P3P 语句是不够的，也无济于事。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-03T05:11:34.130

您是否在保护模式下运行 IE？它可能是一个安全例外。转到 IE 设置并查看 IFRAME 是否未禁用。

# google-app-engine - GAE/J - 我如何实现这个重定向？

> ID：12242193
> 
> 赞同：0
> 
> 时间：2012-09-03T04:59:23.093
> 
> 标签：google-app-engine

我在 GAE/J 中有申请，我的申请网址在谷歌中被索引如下 -

[http://myapp.appspot.com/view/121200/this-is-test/](http://myapp.appspot.com/view/121200/this-is-test/)

每当用户单击此 URL 时，我想将用户重定向到我的自定义域，即请求应该重定向到 ..

[http://www.mydomain.com/view/121200/this-is-test/](http://www.mydomain.com/view/121200/this-is-test/)

/view 是映射的 servlet，当用户点击上面的 url 时，它可以控制，所以我不确定我是否可以通过检测 req.getServerName() 来实现重定向，然后如果 ServerName 是“myapp.appspot.com”重定向到“www.mydomain” .com”

请告知实现这一目标的最佳方法，如果您需要代码片段，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T08:02:08.380

你不能只是

```
resp.sendRedirect("http://www.mydomain.com/view/121200/this-is-test/"); 
```

如果您想测试您是否在 AppEngine 上运行，请尝试在 try/catch 块中使用 AppEngine 类。

```
try {
  if (SystemProperty.environment.value() == SystemProperty.Environment.Value.Production) {
      resp.sendRedirect("http://www.mydomain.com/view/121200/this-is-test/");
  } else {
      // running on dev server
  }
}
catch (Exception e) {
    // not running on appengine
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T09:30:05.467

您应该进行[SEO 友好的重定向](http://www.seomoz.org/learn-seo/redirection)，使用 HTTP 307 而不是 HTTP 301。

```
response.setStatus(HttpServletResponse.SC_MOVED_PERMANENTLY);
// note this does not include query parameters, i.e. ?a=123
response.setHeader("Location", "http://www.mydomain.com"+.getRequestURI()); 
```

# twig - Twig 从字符串和变量中设置一个值

> ID：12242194
> 
> 赞同：14
> 
> 时间：2012-09-03T04:59:30.817
> 
> 标签：twig

```
{% set url = '/f/' . topic.name . '/' %} 
```

我在让它工作时遇到了一些问题。任何人都知道如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-03T05:58:57.490

连接是用 a 完成的`~`：

```
{% set url = '/f/' ~ topic.name ~ '/' %} 
```

# reference - 为什么我没有得到 System.Windows？

> ID：12242195
> 
> 赞同：0
> 
> 时间：2012-09-03T04:59:39.247
> 
> 标签：reference, visual-studio-2005, intellisense

当我输入：

```
System. 
```

我期望`Windows`成为 Intellisense 可用的选项之一，但事实并非如此。

为什么不？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:01:59.190

您的项目中没有对 System.Windows.Forms 的引用？

编写控制台应用程序？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:02:08.103

也许您没有对正确程序集的引用。例如，如果您有控制台项目，则需要自己制作。

您需要右键单击引用并添加一个新的：

```
System.Windows.Forms 
```

另请参见[如何：在 Visual Studio 中添加或删除引用](http://msdn.microsoft.com/en-us/library/wkze6zky.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:04:36.283

您正在处理 Windows 窗体项目吗？如果是这样，您应该在项目引用中添加对 System.Windows.Forms 的引用。

但是对于一个类库（可能是控制台或 ASP.NET 项目），默认情况下您不会拥有它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T05:06:23.663

您需要添加参考。

转到 -> 添加引用“.Net” -> “System.Windows.Forms”。

# android - 如何使用 windows 7 和 eclipse 实现 pocketsphinx？或者如何使用 java sphinx 语音识别到 android？

> ID：12242198
> 
> 赞同：3
> 
> 时间：2012-09-03T05:00:06.240
> 
> 标签：android, speech-recognition, offline, sphinx4

我想在 android 中使用 sphinx 4 语音识别。最近我使用 sphinx4 语音识别用于 java 并成功实现。

但我的问题是 pockesphinx 是 android 的语音识别。我看不懂教程。我尝试了很多次运行 pocketsphinx 但没有成功，因为我不知道 Linux 命令，我想用eclipse Helios 和我的操作系统是 windows 7。谁能给我一些步骤来用 windows 7 和 eclipse for android 实现 pocketsphinx。现在已经有两个星期了，我刚刚访问了教程，但我什么也做不了。所以拜托。可以任何人都可以帮助我。或者即使有任何事情，例如我可以将我的 sphinx4 java 语音识别导入到 android 应用程序？因为我什至尝试将 sphinx4 java 的代码实现到 android 但它根本不起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T07:06:21.327

要在 Windows 上运行它，请按照此处的说明进行操作：

[http://cmusphinx.sourceforge.net/wiki/tutorialpocketsphinx#windows](http://cmusphinx.sourceforge.net/wiki/tutorialpocketsphinx#windows)

然后你可以运行 pocketsphinx_continuous 来测试它，例如：

`pocketsphinx_continuous.exe -hmm {pocketsphinx path}\model\hmm\en_US\hub4wsj_sc_8k -dict {pocketsphinx path}\model\lm\en_US\cmu07a.dic -lm {pocketsphinx path}\model\lm\en_US\wsj0vp.5000.DMP`

我为此创建了一篇博文：http: [//mariangemarcano.blogspot.dk/2012/09/speech-recognition-with-pocketsphinx.html](http://mariangemarcano.blogspot.dk/2012/09/speech-recognition-with-pocketsphinx.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T13:04:36.490

windows和本教程的问题是，它在某些步骤中可能与windows或android版本等系统有很大不同。我有权构建 PocketSphinxAndroidDeo，它使用的是 pocketsphinx，而不是 sphinx4。我不知道是否可以将 sphinx4 集成到一个 android 项目中，我读了一些人们说它不是的帖子。但是有了pocketshinx，我现在已经成功地完成了演示工作，也许它可以帮助，试一试并阅读我所做的：

[https://sites.google.com/site/opiatefuchs/home/pocketsphinxandroiddemo](https://sites.google.com/site/opiatefuchs/home/pocketsphinxandroiddemo)

# database - 在 Access 2003 中制作抽认卡表格

> ID：12242200
> 
> 赞同：1
> 
> 时间：2012-09-03T05:00:20.163
> 
> 标签：database, vba, ms-access, random

我想使用 MS Access 2003 制作一个自学或“闪存卡”类型的表格，并且可以使用任何建议。

我有两个文本框（textQuestion、textAnswer）。

我使用了两个命令按钮（cmdQuestion、cmdAnswer）。

单击时，cmdQuestion 会根据主键（我将其保留为自动编号功能）随机选择一个问题。

cmdAnswer 将在单击时显示答案。

这些按钮将显示我已经制作的表格（QA）中的各自字段。[ID, Question, Answer] 是字段。

我被困在随机部分。到目前为止，我有以下想法

使 ID 是随机的，我想我会用这个

```
Randomize
randomID = Int((x * Rnd) + 1) 
```

这部分不起作用并告诉我我取消了以前的操作错误

```
txtQuestion = DLookup("Question", "QA", randomID) 
```

使用以下作品，但我想随机选择 ID 部分。

```
 txtQuestion = DLookup("Question", "QA", "ID = 1") 
```

（我将根据表格的最后一行手动输入“x”中的数字）

在过去的十年中，我真的很陌生，并且没有太多使用 Visual Basic。任何事情都会不胜感激。

* * *

第 2 部分。（感谢 Tony 帮我解决了前半部分的烦恼！）

我想添加一项功能，可以从我可能保存这些抽认卡表的许多不同主题中选择一个表。一个下拉菜单，其中列出了命令按钮在搜索问题和答案时将使用的每个表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:21:34.263

只需更改`txtQuestion = DLookup("Question", "QA", randomID)`为

`txtQuestion = DLookup("Question", "QA", "ID = " & randomID)`

# java - 运算符 += 用于 Java 中的 Double

> ID：12242205
> 
> 赞同：0
> 
> 时间：2012-09-03T05:01:00.813
> 
> 标签：java, double, operator-keyword

我有这样的语法：

```
Double rowIDR += (((Double)view.getTableRaw().getModel().getValueAt(d,4))); 
```

但是算子`+=`不能工作，那么与之匹配`Double`但功能相似的算子是什么`+=`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:04:01.440

当您编写以下内容时：

```
Double rowIDR += (((Double)view.getTableRaw().getModel().getValueAt(d,4))); 
```

您正在添加`rowIDR` **而不初始化它**。

你可以试试这个：

```
Double rowIDR = 0d; 
rowIDR+= (((Double)view.getTableRaw().getModel().getValueAt(d,4))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:24:35.507

```
public static void main(String[] args){
    double a = 1.0;
    Double b = new Double(1.1), c;
    b += 1.1;
    c += 1.1;
    System.out.println(a);
    System.out.println(b);
    System.out.println(c);
} 
```

b 很好，c 是错误的。因为 c 没有初始化

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:40:48.243

每个局部变量都必须先赋值才能使用。所以当我们写

```
Int a+=3; 
```

它相当于-：

```
Int a=a+3; 
```

所以你使用的是局部变量 a 而没有初始化它。所以如果你这样写

```
Int a=0;
a+=3; 
```

它会起作用的。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-03T05:04:09.127

实际上这应该有效。也许您做错了什么，例如右侧的值为“0”。;)

编辑：没有看到初始化。这也是问题所在。

# c++ - 如何在线程之间进行通信

> ID：12242207
> 
> 赞同：5
> 
> 时间：2012-09-03T05:01:09.860
> 
> 标签：c++, multithreading

如何在 C++ 中创建线程并在主线程和另一个线程之间进行通信？

一些代码示例将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:18:04.310

线程与其作用域共享变量，这就是互斥锁如此重要的原因。

因此，只需编辑两个线程共有的变量，您就可以轻松地进行通信：

```
#include <iostream>
#include <pthread.h> 
main()  {
    pthread_t f2_thread, f1_thread; 
    void *f2(), *f1();
    int i1;
    i1 = 1;
    pthread_create(&f1_thread,NULL,f1,&i1);
    pthread_create(&f2_thread,NULL,f2,&i1);
    pthread_join(f1_thread,NULL);
    pthread_join(f2_thread,NULL);
}
void *f1(int *x){
  std::cout << *x << std::endl;
}
void *f2(int *x){
  sleep(1)
  std::cout << ++(*x) << std::endl;
} 
```

这应该打印出来：

```
1
2 
```

并且变量 i1 已在线程之间共享。这是一种通信形式，您可以共享类结构字符串，任何您想要的。

注意：此代码几乎肯定会导致线程竞争。这只是一个示例，在线程之间共享内存时，您应该始终使用同步和线程安全的做法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T07:24:19.007

在线程创建中，答案是显而易见的（我认为是），无论`std::thread`你有 C++11 还是`boost::thread`其他，但如果消息传递它取决于你的问题和你的编程风格。
作为通用解决方案，我更喜欢`boost::asio::io_service`它的使用非常灵活，您可以发布任何类型的函数或函数对象以在其他线程的上下文中执行，使用这种技术您不需要任何互斥锁等，您也可以提供给消费者和生产者的组线程以及许多其他有用的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:41:57.177

好的，我会告诉你我知道的最简单的：`_beginthread`

*   你必须包括`process.h`这个才能工作。
*   必须有一个要线程化的函数。
*   函数参数入口必须是 (void *)。
*   函数应该有一个`_endthread()` 何时需要结束。

在下面的程序中，两个线程竞争寻找 pi 值。如果其中一个找到值 pi，它会通知另一个线程它应该结束。同样在 main() 中，它会打印出哪个找到了 pi。第三个线程只是等待其他线程之一完成。

```
 #include<process.h>
      #include<windows.h> //for the Sleep()
      #include<stdio.h>
      volatile boolean found=false;
      volatile int who=0;

      void find_pi_core1(void * iterations)
      {

          int * ite=(int *)iterations;
          for(int i=0;i<ite;i++)
          {
              //a sample of Monte-Carlo method here to find pi 
              //gets pi with more precision with additional iterations
               if(found) _endthread();
          }
          found=true;who=1;
          _endthread();    

       }

       void find_pi_core2(void * iterations)
       {

           int * ite=(int *)iterations;
           for(int i=0;i<ite;i++)
           {
                //a sample of Monte-Carlo method here to find pi 
                //gets pi with more precision with additional iterations
                 if(found) _endthread();
           }
           found=true;who=2;
          _endthread();
      }

       void printscreeN(void * dummy)
       {

          while(!found)
          {
              Sleep(30);      //if dont sleep, it gets a lot of cpu power
          }
          printf(" found! \n" );
          _endthread();
      }

      int main()
      {

                      Function name
                          ^       Stack size
                          |          ^           Function parameter
                          |          |             ^
          _beginthread(find_pi_core1,0,(void *) 3000000);
          _beginthread(find_pi_core2,0,(void *) 2500000);
          _beginthread(printscreeN,0,(void *)0);
          Sleep(3000);
          if(found)
          { 
               printf("pi has been found! core-%d has found pi first ",who);
          }
          else
          {printf("pi has not been bound!");}
          return 0;
      } 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-03T05:21:55.837

线程创建取决于操作系统。

在 Linux 上，您可以使用 pthread 库函数 pthread_create 创建线程，并使用 pthread_join 等待线程完成。

在 Windows 上，您可以使用 CreateThread() Windows API 函数创建线程，并使用 WaitForSingleObject() 函数等待线程完成。

# c# - “找不到路径的一部分” C:\Users\username\abc\abc.exe.config

> ID：12242210
> 
> 赞同：-3
> 
> 时间：2012-09-03T05:01:25.870
> 
> 标签：c#, filepath, streamreader

> configFilePath = @"C:\Users\" + 用户名 + @"\abc\abc.exe.config";
> if(File.Exists(configFilePath))
> {
> StreamReader fileReader = new StreamReader(configFilePath);
> }

上面的行抛出“找不到路径的一部分”异常。此错误发生在特定机器上。在所有其他机器上它工作正常。甚至在那台机器上，同样的代码以前也可以工作。机器没有做任何改动。我已经阅读了所有讨论过这个问题的论坛。但是无法弄清楚为什么仅在该机器上会发生这种情况，现在也是如此。有权访问文件夹和文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T05:15:12.383

首先，对路径使用[Path.Combine()](http://msdn.microsoft.com/en-us/library/system.io.path.combine.aspx)而不是字符串连接。但是，用户名可能包含在路径中无效的字符，例如单引号，因此它可能已被转义。[假设“C:\Users”是用户的目录而不是您自己的文件夹结构，更好的解决方案是使用Environment.GetFolderPath()](http://msdn.microsoft.com/en-us/library/14tx8hby.aspx)方法和[SpecialFolders](http://msdn.microsoft.com/en-us/library/system.environment.specialfolder.aspx)枚举中的`UserProfile`值查找该用户的用户配置文件文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:25:46.310

其他需要考虑的是文件/文件夹的权限。我遇到了由于 Windows 更新而突然文件夹安全性失控的问题。

# windows - 我需要在 64 位机器上安装 64 位 SDK

> ID：12242212
> 
> 赞同：2
> 
> 时间：2012-09-03T05:01:38.200
> 
> 标签：windows, cuda, tesla

我的实验室刚收到 Tesla C2070，该卡安装在运行 Windows Server 64 位的机器上。我应该写一些cuda模拟。我需要安装 64 位版本的 SDK 和 CUDA 工具包吗？我问的原因是因为我想使用 Visual c++ express 进行编译，而且它们似乎真的是面向 32 位的。还是有另一个编译器可以让我完全摆脱这种限制？

谢谢。

*编辑 1* 感谢您的回答。到目前为止，我可以编译 32 位 cuda / openCL 代码。安装 SDK 后，将目标更改为 64 并链接到 64b 库，它仍然无法正常工作。

```
C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\BuildCustomizations\CUDA 4.2.targets(361,9): error MSB3721: The command ""C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v4.2\bin\nvcc.exe" -gencode=arch=compute_10,code=\"sm_10,compute_10\" --use-local-env --cl-version  -ccbin "C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\x86_amd64"  -I"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v4.2\include"  -G  --keep-dir "x64\Debug" -maxrregcount=0  --machine 64 --compile  -g    -Xcompiler "/EHsc /nologo /Od /Zi  /MDd  " -o "x64\Debug\test.cu.obj" "c:\Users\A\Documents\Visual Studio 2010\Projects\cudaTest2\cudaTest2\test.cu"" exited with code -1. 
```

最后，在谈到 gpgpu 模拟时，是否需要编译为 64 位应用程序？我的意思是在主机上运行的代码几乎什么都没有，而在 gpu 上运行的代码很好，它是由 nvcc 编译的，所以我选择什么并不重要，32 还是 64 ......我错了吗（可能）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:05:01.663

这不是你问的，但是...

Visual C++ Express 可以很好地编译 64 位程序。碰巧 Express 没有随 64 位编译器一起*分发，但编译器是单独下载的。*

安装[Microsoft Windows SDK 7.1](http://www.microsoft.com/en-us/download/details.aspx?id=8279)，您将能够使用 Microsoft Visual C++ Express 为 x64 进行编译。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T08:48:25.633

您应该下载适用于 64 位操作系统的 64 位 SDK，其中有 32 位和 64 位版本的库。对于 Visual C++ 32 位应用程序，您应该使用 32 位库，它会工作。

例如在我的情况下：我有 64 位 Windows7 操作系统，为此我使用了 64 位 CUDA SDK，并且为了在 Visual Studio 2008 中开发我的 32 位 c++ 应用程序，我使用了随 SDK 导出的 32 位 cuda 库。

# ruby-on-rails - Ruby on Rails 3.2 巫术认证与子用户

> ID：12242213
> 
> 赞同：3
> 
> 时间：2012-09-03T05:01:53.687
> 
> 标签：ruby-on-rails, authentication, sorcery

我正在使用**Ruby on Rails 3.2.8**和**Sorcery authentication**。

创建子用户帐户的最佳方法是什么？

理想情况下，我想通过电子邮件邀请成员并让他们点击链接并选择他们的用户名/密码。是否可以在同一个用户表中执行此操作，以便他们都可以从同一个登录页面登录？

让您了解我正在尝试做的事情是......雇主可以添加/邀请员工加入系统，系统的任何数据输入都将属于雇主。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T07:20:33.270

就我个人而言，我会将其作为具有同表关联列的单表继承模型来处理。

`boss_id`在您的用户表上放置一个名为的字段。您将拥有主`User`模型，其中包含巫术身份验证内容和任何通用逻辑。在它下面你有`Employer`和`Employee`。他们有一个方法叫做`boss`: 对于雇主，这返回 self 或 nil （无论你觉得哪个最有意义），而对于雇员，这是一个实际的关联方法，如下所示：

```
class Employee < User
  belongs_to :boss, class_name: 'User'

end 
```

当雇主发出邀请时，将受邀者定向到特定于雇主的邀请的 URL，例如：

[http://yoursite.com/employer/3/invitation](http://yoursite.com/employer/3/invitation)

当用户创建他们的帐户时，您将他们与他们拥有的雇主相关联。

当雇主查看他们的数据时，请确保您也提取其子员工的数据，使用 users 表作为连接表：

```
class Employer < User
  has_many :employees, class_name: 'User', foreign_key: 'boss_id'

  has_many :contacts # Or whatever your application-specific stuff is 
    # that you want employers to see through their employees
  has_many :employee_contacts, through: :employees, source: :contacts
end 
```

如果您需要将所有权分配给数据库中的雇主，我会使用观察者来观察所拥有模型的保存，如果它们是由具有 的人保存的，则为`boss`该老板的 ID 设置一个附加列。

# ios - 可以使用 NSFileManager 处理从 UIManagedDocument 创建的核心数据数据库吗？

> ID：12242215
> 
> 赞同：0
> 
> 时间：2012-09-03T05:02:06.883
> 
> 标签：ios, database, core-data, uimanageddocument

我正在制作一个使用**Core Data**的应用程序，为了我的应用程序的目的，我需要将**一个预填充的数据库**与应用程序包捆绑在一起。

**我正在使用一个`UIManagedDocument`**

为此，我使用应用程序创建了数据库，然后加载了数据。然后我在我的 Mac 中搜索 iOS Simulator 文件夹并将文件拖放`persistentStore`到应用程序包中。

稍后在代码中我将其复制到 ，`NSDocumentDirectory`因为将允许用户在运行时编辑数据库。这是通过以下方法完成的：

```
if(![[NSFileManager defaultManager] fileExistsAtPath:[self.appDatabase.fileURL path]])
{        
    // COPY FROM BUNDLE

    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSError *error;

    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *DB = [[paths lastObject] stringByAppendingPathComponent:@"Default App Database"];
    DB = [DB stringByAppendingPathComponent:@"StoreContent"];

    [fileManager createDirectoryAtPath:DB withIntermediateDirectories:YES attributes:nil error:&error];

    NSLog(@"create directory error: %@",error);

    DB = [DB stringByAppendingPathComponent:@"persistentStore"];

    NSString *shippedDB = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"persistentStore"];
    NSLog(@"%d",[fileManager fileExistsAtPath:shippedDB]);
    [fileManager copyItemAtPath:shippedDB toPath:DB error:&error];

    NSLog(@"Copy error %@",error);
} 
```

一切正常！但是，我不确定这是否会产生某种类型的错误。所以我的问题**是，可以使用 NSFileManager 处理从 UIManagedDocument 创建的核心数据数据库吗？**

而且，**苹果会在审查过程中抱怨捆绑`persistentStore`文件吗？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T16:19:21.977

“核心数据编程指南”中明确提到了将默认持久存储与应用程序捆绑在一起：

> 如何使用默认数据初始化存储？
> 
> ...
> 
> 您可以创建一个包含默认数据的单独持久存储，并将该存储作为应用程序资源包含在内。当您想使用它时，您必须将整个存储复制到合适的位置，或者将对象从默认存储复制到现有存储。

# ios - 当它们离开屏幕时取消与 UITableViewCells 关联的 NSTimer

> ID：12242224
> 
> 赞同：5
> 
> 时间：2012-09-03T05:03:14.750
> 
> 标签：ios, uitableview, nstimer

我实现了一个`UITableView`单元`UIImageView`格，每个单元格每 5 秒通过`NSTimer`. 每个图像都是从后台线程中的服务器加载的，并且从该后台线程我还更新 UI，显示新图像，方法是调用`performSelectorOnMainThread`. 到目前为止，一切都很好。

我注意到的问题是线程数量随着时间的推移而增加，并且 UI 变得无响应。`NSTimer`因此，如果单元格离开屏幕，我想使之无效。我应该使用哪些委托方法`UITableView`来有效地做到这一点？

我将 an`NSTimer`与每个单元格相关联的原因是我不希望所有单元格同时发生图像转换。顺便说一句，还有其他方法可以做到这一点吗？例如，是否可以只使用一个`NSTimer`？

（我不能使用`SDWebImage`，因为我的要求是在从服务器加载的循环中显示一组图像）

**// 在 MyViewController.m 中**

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
        ...
        NSTimer* timer=[NSTimer scheduledTimerWithTimeInterval:ANIMATION_SCHEDULED_AT_TIME_INTERVAL 
                                                    target:self 
                                                  selector:@selector(updateImageInBackground:) 
                                                  userInfo:cell.imageView 
                                                   repeats:YES];
        ...
    }

- (void) updateImageInBackground:(NSTimer*)aTimer
{  
    [self performSelectorInBackground:@selector(updateImage:)
                       withObject:[aTimer userInfo]];
}  

- (void) updateImage:(AnimatedImageView*)animatedImageView 
{      
    @autoreleasepool { 
        [animatedImageView refresh];
    }
} 
```

**// 在 AnimatedImageView.m 中**

```
 -(void)refresh
    {
        if(self.currentIndex>=self.urls.count)
            self.currentIndex=0;

    ASIHTTPRequest *request=[[ASIHTTPRequest alloc] initWithURL:[self.urls objectAtIndex:self.currentIndex]];
    [request startSynchronous];

    UIImage *image = [UIImage imageWithData:[request responseData]];

    // How do I cancel this operation if I know that a user performs a scrolling action, therefore departing from this cell.
    [self performSelectorOnMainThread:@selector(performTransition:)
                       withObject:image
                    waitUntilDone:YES];
}

-(void)performTransition:(UIImage*)anImage
{
    [UIView transitionWithView:self duration:1.0 options:(UIViewAnimationOptionTransitionCrossDissolve | UIViewAnimationOptionAllowUserInteraction) animations:^{ 
        self.image=anImage;
        currentIndex++;
    } completion:^(BOOL finished) {
    }];
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-09-17T09:09:18.553

`willMoveToSuperview:`和/或`didMoveToSuperview:`不适用于 ios 6.0

从 ios 6.0 你有以下 UITableViewDelegate 方法

```
- (void)tableView:(UITableView *)tableView didEndDisplayingCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath 
```

> 使用此方法检测何时从表格视图中删除单元格，而不是监视视图本身以查看它何时出现或消失。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-03T07:50:31.430

If you properly manage memory and dequeue reusable cells, you can subclass `UITableViewCell` and override its `- prepareForReuse` method in order to stop the timer.

Furthermore, as @lnfaziger points out, if you want to stop the timer immediately when the cell is removed from the table view, you can also override its `willMoveToSuperview:` and/or `didMoveToSuperview:` method and check if its `superview` parameter is `nil` - if it is, the cell is being removed, so you can stop the timer.

# javascript - jQuery 在 $.get 数据完成后做作业

> ID：12242247
> 
> 赞同：1
> 
> 时间：2012-09-03T05:05:48.617
> 
> 标签：javascript, jquery

我想停止 JavaScript 直到`$.get`完成它的工作。我习惯`while`这样做。这是我的代码：

```
function process() {
    var s = false;
    var text = "";
    var xs = oxl.join(",");
    var ys = oyl.join(",");
    $.post(processUrl, {
        xl: xs,
        yl: ys,
        text: text
    }, function(data) {
        text = data;
        s = true;
    });
    while (!s);
    return text;
} 
```

但代码没有完成`while`，它挂起。**我想知道完成后** 如何返回文本`$.post`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:10:05.250

不要等待主动使用回调来表示您的`process`方法已完成：

```
function process(callback) {
    var xs = oxl.join(",");
    var ys = oyl.join(",");
    $.post(processUrl, {
        xl: xs,
        yl: ys,
        text: text
    }, function(data) {
      if ($.isFunction(callback))
        callback(data);
    });
} 
```

在你打电话的地方`process`你可以像这样使用它：

```
process(function (text) { /* do something with text */ } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:08:34.937

您可以`$.ajax`改用并设置`async`选项：

```
$.ajax({
     async: false,
     url: ...,
     success: function(result) {
         ...
     }
}); 
```

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:12:34.690

它没有完成，因为 while 循环阻塞了其他所有内容，因此它无法运行任何其他函数。它不是多线程的。

您可以使用异步，但它已被弃用。如果你让它同步，你的 GUI 很可能会被阻塞，尤其是当它使用 javascript 时。

无论您需要做什么，都应该使用回调。重构您的代码，以便无论您想对返回值做什么，都可以在回调中执行。

# c# - 从 C# 中的 Json 字符串中选择元素

> ID：12242248
> 
> 赞同：0
> 
> 时间：2012-09-03T05:05:52.147
> 
> 标签：c#, json

我`Newtonsoft.Json.Linq`用于解析 JSON 对象。我可以`Events`从我的 JSON 字符串中检索，但它包含一个事件数组，我需要一个名为`NumberEvent`. 我怎么能只得到那个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:39:21.897

```
dynamic dynObj = JsonConvert.DeserializeObject(json);
foreach (var events in dynObj.Categories.Types.Events)
{
    foreach (var ne in events.NumberEvent)
    {
        Console.WriteLine("{0}",(string)ne["event"]);
    }

} 
```

# c++ - CreateThread 后跟 TerminateThread 留下大量内存

> ID：12242252
> 
> 赞同：0
> 
> 时间：2012-09-03T05:06:27.417
> 
> 标签：c++, windows, multithreading, winapi

我使用 CreateThread 然后 TerminateThread 来取消线程。似乎仍然分配了堆栈空间。有没有办法解决这个问题？我没有使用任何形式的动态内存调用，例如 malloc/new。线程不必优雅地退出。10 个线程留下了高达 5 MB 的内存！线程都在代码的不同部分，那么有没有一种简单的方法来实现一个线程间通信系统，它可以告诉它们都优雅地退出，从而重新定位堆栈？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-03T05:12:01.113

在大多数情况下，您不**应该**使用`TerminateThread()`. 如果您在应用程序中创建新线程，您有责任确保这些线程确实正常退出。当你使用 时`TerminateThread()`，可能会留下各种资源，因为这个函数只是简单地终止线程而不调用清理函数。

[终止线程文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686717%28v=vs.85%29.aspx)

您应该做的是使用事件（或其他信号方法）来告诉您的线程它们应该关闭。当线程内部接收到消息（事件发出信号或等待到期等）时，线程函数可以内部清理并返回。这样，您将正确退出线程，而不会留下一团糟。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T05:17:47.270

主线程上的非自动重置事件和 WaitForMultipleObjects 将执行您想要的操作。如果您发现自己超过 64 个并发工作线程，则必须重新调整以使用不同的方法，例如非自动重置事件和信号量。从字面上看，有几十种方法可以解决这个问题，互联网上的论坛上有无数示例，以及 MS 在其 Visual Studio 分发中的示例。从那些开始。

# javascript - Defining variable using eval() shows undefined error

> ID：12242260
> 
> 赞同：0
> 
> 时间：2012-09-03T05:07:34.093
> 
> 标签：javascript, variables, eval, undefined

When defining variable directly, it works. Like the following code, the background color of body will be light green in IE and will be light blue in non-IE browsers.

```
<html>
<body>
    <script>
        if (window.attachEvent) {
            var YourBrowserIsIE = true;
        }

        if (YourBrowserIsIE) {
            document.body.style.backgroundColor = 'lightgreen';
        }
        else {
            document.body.style.backgroundColor = 'lightblue';
        }
    </script>
</body>
</html> 
```

However, sometimes the variable need to be defined using eval(), like the following, but the result will show an error saying that `YourBrowserIsIE` is undefined in non-IE browsers.

```
if (window.attachEvent) {
    eval('var YourBrowserIsIE = true;');
} 
```

Yes, I know I can predefine `var YourBrowserIsIE = false;` for non-IE browsers or change the if statement to `if (typeof YourBrowserIsIE != 'undefined')`, but I want to keep the code as minimum as possible.

So is there a solution to use eval() to define the variable and check the variable using the straightforward `if (YourBrowserIsIE)` without showing any error in non-IE browsers?

**== EDIT ==**

Sorry for being unclear. The situation of using eval() being mentioned above is actually for detecting IE version. Please see the following code.

```
<html>
<body>
    <script>
        if (window.attachEvent) {
            var version = /msie (\d+)/i.exec(navigator.userAgent)[1];
            eval('var YourBrowserIsIE' + version + ' = true;');
        }

        if (YourBrowserIsIE9) {
            document.body.style.backgroundColor = 'lightgreen';
        }
        else {
            document.body.style.backgroundColor = 'lightblue';
        }
    </script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:13:52.517

> but I want to keep the code as minimum as possible

Wouldn't that be `window.YourBrowserIsIE = window.attachEvent;` then?

I see 2 advantages it it:

1.  It's minimal
2.  It doesn't need `eval`

Seeing your code, i'd suggest to not use `YourBrowserIsIE` at all, but use:

```
document.body.style.backgroundColor = window.attachEvent 
                                       ? 'lightgreen' : 'lightblue'; 
```

And seeing your edits, that could/would be:

```
document.body.style.backgroundColor = 
              +((/msie (\d+)/i.exec(navigator.userAgent)||[0])[1]) === 9 
                ? 'lightgreen' : 'lightblue'; 
```

And if it has to be a reusable variable, I come back to solution 1 whith a twitch:

```
window['YourBrowserIsIE'+((/msie (\d+)/i.exec(navigator.userAgent)||[0])[1]] 
       = true;
document.body.style.backgroundColor = window.YourBrowserIsIE9 ?
                                       ? 'lightgreen' : 'lightblue'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:19:08.597

Put an `else` case to your `if` condition and try:

```
if (window.attachEvent) {
    eval('var YourBrowserIsIE = true;');
}
else{
    eval('var YourBrowserIsIE = false;');
} 
```

Since you are declaring the variable `YourBrowserIsIE` inside the `if (window.attachEvent)` condition, the variable will be left undefined if the mentioned condition fails.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:21:03.297

As others have suggested there is no need to perform eval.

Anyways, if you are looking to set the code to true/false; you can perform this

```
eval('var YourBrowserIsIE = window.attachEvent ? true : false;') 
```

Unless you share the actual problem, it will be difficult to provide solution.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-03T05:29:54.980

Ignoring the fact that using object inference is a seriously flawed way to detect the user agent (lots of browsers copy IE's event model) and is therefore extremely unreliable, here's how you might do what you are trying to do without eval and with minimal code:

[... ugh, see Kooilnc's answer ...]

# jquery - 任何人都可以推荐一些可用于一页网页设计的滚动 jquery 插件？

> ID：12242263
> 
> 赞同：-3
> 
> 时间：2012-09-03T05:07:47.933
> 
> 标签：jquery

正如我上面提到的，我需要开发一页网站，需要一些好的 jquery 插件，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:16:36.617

你可以试试这个插件：[jQuery one page nav](http://github.com/davist11/jQuery-One-Page-Nav)，这里有一个你需要的演示： [http ://www.gbin1.com/technology/jquerynews/20120421jquerypluginonpagenav/demo1.html](http://www.gbin1.com/technology/jquerynews/20120421jquerypluginonpagenav/demo1.html)

或者您可以尝试其他一些插件，例如[waypoint](http://imakewebthings.github.com/jquery-waypoints/)：

希望能帮到你！</p>

# php - php在循环中连接

> ID：12242265
> 
> 赞同：1
> 
> 时间：2012-09-03T05:08:05.910
> 
> 标签：php, loops, concatenation

我的代码上有这些

```
$from_m = 1;
$to_m = 6;

while( $from_m <= $to_m )
{
    if($from_m == 1)
        $m = "January";

    if($from_m == 2)
        $m = "February";

    if($from_m == 3)
        $m = "March";

    $add = "OR month = '$m' ";

    $from_m++;
} 
```

因此

```
$add = "OR month = 'March' "; 
```

我想要的是...

```
 $add = "OR month = 'January' OR month = 'February' OR month = 'March' "; 
```

我该怎么做？

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:10:47.357

替换这个

```
$add = "OR month = '$m' "; 
```

和

```
$add .= "OR month = '$m' "; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:09:57.450

```
$from_m = 1;
$to_m = 6;

while( $from_m <= $to_m )
{
    if($from_m == 1)
        $m = "January";

    if($from_m == 2)
        $m = "February";

    if($from_m == 3)
        $m = "March";

    $add .= "OR month = '$m' ";

    $from_m++;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-03T05:09:23.703

采用：

```
$add .= "OR month = '$m' "; 
```

代替

```
$add = "OR month = '$m' "; 
```

# amazon - 安装 Linux AMI 2012.03 软件包

> ID：12242269
> 
> 赞同：0
> 
> 时间：2012-09-03T05:08:41.870
> 
> 标签：amazon, amazon-ami

我有 Amazon AMI 2013，我需要安装此链接中列出的一些软件（如 mod_security、zip、GD 等...）[https://aws.amazon.com/amazon-linux-ami/2012.03- packages/](https://aws.amazon.com/amazon-linux-ami/2012.03-packages/) 安装它的 ssh 推荐是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T19:49:56.810

我想你会

```
sudo yum install [whatever you want] 
```

# codeigniter - 使用 codeigniter 和 xammp 进行全文搜索

> ID：12242270
> 
> 赞同：0
> 
> 时间：2012-09-03T05:08:49.450
> 
> 标签：codeigniter, full-text-search, xampp

我一直在寻找全文搜索服务器小程序......我找到了 Sphinx（它工作了一段时间，直到开发转移到 mac，然后一切都崩溃了；然后我研究了 Solr；但不能'不要让这个东西与 phpmyadmin 一起工作。

关于与**xammp上的****codeigniter**很好地集成的**全文搜索**有什么建议吗？

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:47:59.170

solr 和 sphinx 都是您的 php、mysql、apache 三重奏的外部服务，集成与您所做的一样好。在 osx 上，[自制软件](http://brew.sh/)可能会帮助您完成安装编译步骤。

你也可以看看[mysql 的内置全文索引](http://dev.mysql.com/doc/refman/5.0/en/fulltext-search.html)，它的功能比 solr 或 sphinx 少，不支持 innodb 表，但它不需要你维护外部服务。****

# android - 带日期的数字时钟

> ID：12242272
> 
> 赞同：1
> 
> 时间：2012-09-03T05:09:04.970
> 
> 标签：android, system-clock

我想显示日期和时间。我用数字时钟计时。它非常好。但是如何用时钟显示日期？所以如果日期真的改变了，那么我的页面日期也会更新吗？我用数字时钟计时。

```
<DigitalClock
            android:id="@+id/digitalClock1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="DigitalClock" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-06-30T12:23:16.187

使用 Android [TextClock](https://developer.android.com/reference/android/widget/TextClock.html)而不是 DigitalClock

# android - Android opencv 眼睛检测

> ID：12242274
> 
> 赞同：1
> 
> 时间：2012-09-03T05:09:17.173
> 
> 标签：android, opencv, eye-detection

我正在使用android **“opencv samples - face detection”**来检测人脸。它运作良好。现在我想将**“眼睛检测”**和**“面部检测”**包括在内。可能吗？如果是的话，谁能给我一些样本来检测眼睛。我已经在互联网上进行了搜索。但我没有得到任何样品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:19:47.330

您可以使用此代码检测眼睛......（关于面孔数量）

//代码...

```
public void setFace() {
    FaceDetector fd;
    mFaceBitmap = mBitmap.copy(Bitmap.Config.RGB_565, true);
    mFaceWidth = mFaceBitmap.getWidth();
    mFaceHeight = mFaceBitmap.getHeight(); 
    FaceDetector.Face [] faces = new FaceDetector.Face[MAX_FACES];
    PointF eyescenter = new PointF();
    float eyesdist = 0.0f;
    int [] fpx = null;
    int [] fpy = null;

    try {
        Log.e("setFace(): ", "try");
        fd = new FaceDetector(mFaceWidth, mFaceHeight, MAX_FACES);        
        count = fd.findFaces(mFaceBitmap, faces);
    } catch (Exception e) {
        return;
    }

    // check if we detect any faces
    if (count > 0) {
        fpx = new int[count * 1];
        fpy = new int[count * 1];

        for (int i = 0; i < count; i++) { 
            try {
                Log.e("setFace(): ", "loop");
                faces[i].getMidPoint(eyescenter);                  
                eyesdist = faces[i].eyesDistance(); 

                // set up left eye location
                fpx[1 * i] = (int)(eyescenter.x - eyesdist / 2);
                fpy[1 * i] = (int)eyescenter.y;

                // set up right eye location
                fpx[1 * i + 1] = (int)(eyescenter.x + eyesdist / 2);
                fpy[1 * i + 1] = (int)eyescenter.y; 
            } catch (Exception e) {
            }            
        } 
        MainActivity.clicked = true;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T07:29:04.357

我认为这是可能的。您需要加载另一个级联（嵌套级联）并在人脸级联检测到的ROI中使用detectMultiScale。看一下 c 示例中的 facedetect.cpp 示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T18:58:54.917

是的，你可以这样做。既有[通用](http://code.google.com/p/uf-lightbot/source/browse/trunk/src/haarcascade_eye.xml?spec=svn24&r=24)的眼睛检测器，也有特定的[左](http://code.google.com/p/uf-lightbot/source/browse/trunk/src/haarcascade_mcs_lefteye.xml?spec=svn24&r=24)/[右眼](http://code.google.com/p/klucv2/source/browse/trunk/data/haarcascades/haarcascade_mcs_righteye.xml)检测器可用。

您可以使用与面部相同的 Haar 级联代码，只需替换眼睛检测器即可。

在实践中，我发现最好同时尝试两者 - 从通用眼睛检测器开始，然后如果在合理的位置没有发现任何东西，则继续使用左眼和右眼检测器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-09T06:51:52.387

您可以通过此代码

```
public FdView(Context context) {
    super(context);
    this.context = context;

    try {
        InputStream is = context.getResources().openRawResource(
                R.raw.lbpcascade_frontalface);
        File cascadeDir = context.getDir("cascade", Context.MODE_PRIVATE);
        mCascadeFile = new File(cascadeDir, "lbpcascade_frontalface.xml");
        FileOutputStream os = new FileOutputStream(mCascadeFile);

        byte[] buffer = new byte[4096];
        int bytesRead;
        while ((bytesRead = is.read(buffer)) != -1) {
            os.write(buffer, 0, bytesRead);
        }
        is.close();
        os.close();

        // ------------------------- load left eye classificator//
        // -----------------------------------
        InputStream iser = context.getResources().openRawResource(
                R.raw.haarcascade_lefteye_2splits);
        File cascadeDirER = context.getDir("cascadeER",
                Context.MODE_PRIVATE);
        File cascadeFileER = new File(cascadeDirER,
                "haarcascade_eye_right.xml");
        FileOutputStream oser = new FileOutputStream(cascadeFileER);

        byte[] bufferER = new byte[4096];
        int bytesReadER;
        while ((bytesReadER = iser.read(bufferER)) != -1) {
            oser.write(bufferER, 0, bytesReadER);
        }
        iser.close();
        oser.close();
        // ----------------------------------------------------------------------------------------------------

        // --------------------------------- load right eye classificator//
        // ------------------------------------
        InputStream isel = context.getResources().openRawResource(
                R.raw.haarcascade_lefteye_2splits);
        File cascadeDirEL = context.getDir("cascadeEL",
                Context.MODE_PRIVATE);
        File cascadeFileEL = new File(cascadeDirEL,
                "haarcascade_eye_left.xml");
        FileOutputStream osel = new FileOutputStream(cascadeFileEL);

        byte[] bufferEL = new byte[4096];
        int bytesReadEL;
        while ((bytesReadEL = isel.read(bufferEL)) != -1) {
            osel.write(bufferEL, 0, bytesReadEL);
        }
        isel.close();
        osel.close();

        // ------------------------------------------------------------------------------------------------------

        mJavaDetector = new CascadeClassifier(
                mCascadeFile.getAbsolutePath());
        mCascadeER = new CascadeClassifier(cascadeFileER.getAbsolutePath());
        mCascadeEL = new CascadeClassifier(cascadeFileER.getAbsolutePath());
        if (mJavaDetector.empty() || mCascadeER.empty()
                || mCascadeEL.empty()) {
            Log.e(TAG, "Failed to load cascade classifier");
            mJavaDetector = null;
            mCascadeER = null;
            mCascadeEL = null;
        } else
            Log.i(TAG,
                    "Loaded cascade classifier from "
                            + mCascadeFile.getAbsolutePath());

        mNativeDetector = new DetectionBasedTracker(
                mCascadeFile.getAbsolutePath(), 0);

        cascadeDir.delete();
        cascadeFileER.delete();
        cascadeDirER.delete();
        cascadeFileEL.delete();
        cascadeDirEL.delete();

    } catch (IOException e) {
        e.printStackTrace();
        Log.e(TAG, "Failed to load cascade. Exception thrown: " + e);
    }
}

@Override
public void surfaceCreated(SurfaceHolder holder) {
    synchronized (this) {
        // initialize Mats before usage
        mGray = new Mat();
        mRgba = new Mat();
    }

        super.surfaceCreated(holder);
}

@Override
protected Bitmap processFrame(VideoCapture capture) {
    capture.retrieve(mRgba, Highgui.CV_CAP_ANDROID_COLOR_FRAME_RGBA);
    capture.retrieve(mGray, Highgui.CV_CAP_ANDROID_GREY_FRAME);

    if (mAbsoluteFaceSize == 0) {
        int height = mGray.rows();
        if (Math.round(height * mRelativeFaceSize) > 0)

        {
            mAbsoluteFaceSize = Math.round(height * mRelativeFaceSize);
        }
        mNativeDetector.setMinFaceSize(mAbsoluteFaceSize);
    }

    MatOfRect faces = new MatOfRect();

    if (mDetectorType == JAVA_DETECTOR) {
        if (mJavaDetector != null)
            mJavaDetector.detectMultiScale(mGray, faces, 1.1, 2, 2,
                    new Size(mAbsoluteFaceSize, mAbsoluteFaceSize),
                    new Size());

        /*
         * if (mZoomCorner == null || mZoomWindow == null)
         * CreateAuxiliaryMats();
         */

        Rect[] facesArray = faces.toArray();

        for (int i = 0; i < facesArray.length; i++) {

            Rect r = facesArray[i];

            Core.rectangle(mGray, r.tl(), r.br(),new Scalar(255, 0, 255, 0), 3);

            Core.rectangle(mRgba, r.tl(), r.br(),new Scalar(46, 139, 87, 5), 3);

            //eyearea = new Rect(r.x + r.width / 8,(int) (r.y + (r.height / 4.5)), r.width - 10 * r.width/ 8, (int) (r.height / 3.0));

        //  Core.rectangle(mRgba, eyearea.tl(), eyearea.br(), new Scalar(255, 0, 0, 255), 3);

            Rect eyearea_right = new Rect(r.x + r.width / 16,
                    (int) (r.y + (r.height / 4.5)),
                    (r.width - 2 * r.width / 16) / 2,(int) (r.height / 3.0));

            Rect eyearea_left = new Rect(r.x + r.width / 16+ (r.width - 2 * r.width / 16) / 2,(int) (r.y + (r.height / 4.5)),(r.width - 2 * r.width / 16) / 2,(int) (r.height / 3.0));

            // outer recTangles
            //Core.rectangle(mRgba, eyearea_left.tl(), eyearea_left.br(),new Scalar(0, 255, 255, 255), 3);

            //Core.rectangle(mRgba, eyearea_right.tl(), eyearea_right.br(),new Scalar(0, 255, 255, 255), 3);

            teplateR = get_template(mCascadeER, eyearea_right, 3);

            teplateL = get_template(mCascadeEL, eyearea_left, 3);

            learn_frames++;

            /*
             * match_value = match_eye(eyearea_right, teplateR,
             * FdActivity.method);
             * 
             * match_value = match_eye(eyearea_left, teplateL,
             * FdActivity.method); ; }
             */

            /************************************************************************************************/                  

            /*
             * Imgproc.resize(mRgba.submat(eyearea_left), mZoomWindow2,
             * mZoomWindow2.size());
             * Imgproc.resize(mRgba.submat(eyearea_right), mZoomWindow,
             * mZoomWindow.size());
             */

        }
    } else if (mDetectorType == NATIVE_DETECTOR) {
        if (mNativeDetector != null)
            mNativeDetector.detect(mGray, faces);
    } else {
        Log.e(TAG, "Detection method is not selected!");
    }

    Rect[] facesArray = faces.toArray();
    for (int i = 0; i < facesArray.length; i++)
        Core.rectangle(mRgba, facesArray[i].tl(), facesArray[i].br(),
                FACE_RECT_COLOR, 3);

    Bitmap bmp = Bitmap.createBitmap(mRgba.cols(), mRgba.rows(),
            Bitmap.Config.ARGB_8888);

    try {
        Utils.matToBitmap(mRgba, bmp);
    } catch (Exception e) {
        Log.e(TAG,
                "Utils.matToBitmap() throws an exception: "
                        + e.getMessage());
        bmp.recycle();
        bmp = null;
    }

    return bmp;
} 
```

希望这会帮助你。

# sql - 如何使我的 between 语句在 ASP/VB 脚本中工作

> ID：12242276
> 
> 赞同：0
> 
> 时间：2012-09-03T05:09:21.580
> 
> 标签：sql, asp-classic, vbscript

这适用于 Access。我了解您不能将 NZ 函数与 ASP/VB 脚本一起使用。

有谁知道如何使用 VBSCIPT 使这个 SQL 语句在我的 ASP 页面中工作。

```
BatterGames = rsBatQual("TotalPA")
DIM rsBatterLU, sqlBatterLU

sqlBatterLU = "SELECT games FROM tblLookupPSBatters "
sqlBatterLU = sqlBatterLU & "WHERE ((('" & BatterGames & "') Between Nz([minVal],-999999) And Nz([maxVal],999999)));"

set rsBatterLU = Server.CreateObject ("ADODB.RecordSet")
rsBatterLU.Open sqlBatterLU,conn 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T02:44:46.817

OLEDB 和 ODBC 提供程序无法使用 MS Access 和 VBA 中提供的 Nz 等一些功能。但是，还有其他选择。我建议使用 IIf + IsNull 组合。

```
SELECT games FROM tblLookupPSBatters
Where Exp Between
IIf(IsNull([minVal]), -999999, [minVal])
And
IIf(IsNull([maxVal]), 999999, [maxVal]) 
```

关于此问题的有用文章：http: [//tutorials.aspfaq.com/8000xxxxx-errors/can-i-use-the-nz-function-without-getting-80040e14-errors.html](http://tutorials.aspfaq.com/8000xxxxx-errors/can-i-use-the-nz-function-without-getting-80040e14-errors.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:21:04.087

您没有说您在 ASP 页面中使用的存储是什么。如果是 SQL Server，则可以使用[ISNULL](http://msdn.microsoft.com/en-us/library/ms184325.aspx)函数。

```
BatterGames = rsBatQual("TotalPA")
DIM rsBatterLU, sqlBatterLU

sqlBatterLU = "SELECT games FROM tblLookupPSBatters "
sqlBatterLU = sqlBatterLU & "WHERE ((('" & BatterGames & "') Between ISNULL([minVal],-999999) And ISNULL([maxVal],999999)));"

set rsBatterLU = Server.CreateObject ("ADODB.RecordSet")
rsBatterLU.Open sqlBatterLU,conn 
```

# java - SOAP 请求 XML

> ID：12242283
> 
> 赞同：0
> 
> 时间：2012-09-03T05:09:58.353
> 
> 标签：java, javascript

```
 var xmlhttp = new XMLHttpRequest();
    xmlhttp.open("POST", "http://service.project-development-site.de/soap.php",true);
    xmlhttp.onreadystatechange=function() {
     if (xmlhttp.readyState == 4) {

    alert(xmlhttp.responseText);

      // http://www.terracoder.com convert XML to JSON 
      var json = XMLObjectifier.xmlToJSON(xmlhttp.responseXML);
      var result = json.Body[0].GetQuoteResponse[0].GetQuoteResult[0].Text;
      // Result text is escaped XML string, convert string to XML object then convert to JSON object
      json = XMLObjectifier.xmlToJSON(XMLObjectifier.textToXML(result));
      alert(symbol + ' Stock Quote: $' + json.Stock[0].Last[0].Text); 
     }
    }
    xmlhttp.setRequestHeader("SOAPAction", "http://service.project-development-site.de/soap.php");
    xmlhttp.setRequestHeader("Content-Type", "text/xml");
    var xml = '<?xml version="1.0" encoding="utf-8"?>' +
     '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">' + 
        '<soapenv:Header/>'+
           '<soapenv:Body>'+
              '<tem:loginUserSoapInPart>'+
                 '<tem:userName>user</tem:userName>'+
                 '<tem:passWord>pwd</tem:passWord>'+
                 '<tem:accesToken>acktoken</tem:accesToken>'+
              '</tem:loginUserSoapInPart>'+
           '</soapenv:Body>'+
        '</soapenv:Envelope>';
    xmlhttp.send(xml); 
```

我已经将此代码与肥皂请求 xml 一起使用，但它没有给我响应。我在警报中检查它，但我收到空警报消息。

# java - findbug中可能的空指针取消引用是什么意思？

> ID：12242291
> 
> 赞同：19
> 
> 时间：2012-09-03T05:10:52.960
> 
> 标签：java, find, sonarqube, findbugs

我正在使用声纳，我从它那里得到了这种违规行为，以便我的代码和平：

```
 Correctness - Possible null pointer dereference 
```

有人知道 findbugs 中的这条规则吗？我进行了很多搜索，但找不到描述此规则的良好示例代码（Java 中），不幸的是 findbugs 站点没有任何示例代码或有关此规则的良好描述。

为什么会出现这种违规行为？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-10-03T20:05:05.947

示例代码是这样的。

```
String s = null ;
if (today is monday){
    s = "Monday" ;
else if (today is tuesday){
    s = "Tuesday" ;
}
System.out.println(s.length()); //Will throw a null pointer if today is not monday or tuesday. 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-09-03T05:14:43.780

[这里](http://findbugs.sourceforge.net/bugDescriptions.html#NP_NULL_ON_SOME_PATH)说

```
NP: Possible null pointer dereference (NP_NULL_ON_SOME_PATH) 
```

> *有一个语句分支，如果执行，则保证将取消引用空值，这将在执行代码时生成 NullPointerException。当然，问题可能是分支或语句不可行，空指针异常永远无法执行；决定这超出了 FindBugs 的能力。*

如果您发布了一些代码，则更容易回答。

**编辑**我没有看到很多文档，但这里有一个[例子](https://www.securecoding.cert.org/confluence/display/java/EXP01-J.+Do+not+use+a+null+in+a+case+where+an+object+is+required)！希望这可以帮助！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-09-22T22:21:56.647

好的

这是两个简单的例子：第一个给出一个：可能的空指针取消引用

```
1\. Error
     ArrayList a = null;
     a.add(j, PointSet.get(j));
     // now i'm trying to add to the ArrayList 
     // because i'm giving it null it gives me the "Possible null pointer dereference"

2\. No Error
     ArrayList a = new ArrayList<>();
     a.add(j, PointSet.get(j));
     // adding elements to the ArrayList
     // no problem 
```

简单的 ？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-08T04:12:22.213

用简单的语言来说，如果一个变量值被赋值为 null，并且您尝试使用任何内置方法（如 add/get）来访问它。然后 SONAR 会出现空指针取消引用问题。因为有变化让它为空，并抛出空指针异常。如果可能，尽量避免它。

例如：

```
File file=null;
file.getName(); 
```

将抛出“可能的空指针取消引用”

它可能不会像示例中提到的那样直接发生，它可能是无意的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-09-08T11:38:58.827

我用以下代码遇到了这个问题：-

```
BufferedReader br = null;
    String queryTemplate = null;
    try {
        br = new BufferedReader(new FileReader(queryFile));
        queryTemplate = br.readLine();
    } catch (FileNotFoundException e) {
      //  throw exception
    } catch (IOException e) {
       // throw exception
    } finally {
        br.close();
    } 
```

在这里，`br`BufferedReader 可以`null`在`br.close()`. 然而，它只能在`null`失败`new BufferedReader()`时出现，在这种情况下，我们会抛出相关的异常。

因此这是一个错误的警告。`Findbugs`文档提到相同的： -

```
 This may lead to a NullPointerException when the code is executed.  
   Note that because FindBugs currently does not prune infeasible 
   exception paths, this may be a false warning. 
```

# ruby - 脚手架后Rails路由错误？

> ID：12242302
> 
> 赞同：0
> 
> 时间：2012-09-03T05:12:43.017
> 
> 标签：ruby, ruby-on-rails-3.2

所以我收到一个路由错误 No route matches [GET] "/"

我的路线.rb：

```
Webapp::Application.routes.draw do
  resources :ideas
end 
```

我通过在我的项目文件夹中运行这个想法控制器一起搭建了这个想法控制器：

```
$ rails generate scaffold idea name:string description:text picture:string
$ rake db:migrate
$ rails s 
```

& 那是我收到路由错误的时候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:35:55.357

你有什么 `root :to =>`用`routes.rb`？这决定了`[GET] "/"`

# algorithm - 唯一元素数组的最小间隔

> ID：12242303
> 
> 赞同：3
> 
> 时间：2012-09-03T05:12:52.517
> 
> 标签：algorithm, data-structures

我怎样才能找到一个整数数组的最小间隔，其中该数组的所有唯一元素都存在。例如，我的数组是：1 1 1 2 3 1 1 4 3 3 3 2 1 2 2 4 1 最小间隔是从索引 3 到索引 7。我正在寻找 O(nlogn) 或更小的算法（n< =100000)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-03T05:32:20.227

该策略从结尾迭代到开头，记住您上次看到每个整数的时间。例如。在中间的某个地方，您最后在索引 15 处看到 1，在索引 20 处看到 2，在索引 17 处看到 3。间隔长度是您上次看到的最大索引减去当前索引。

为了轻松找到最大索引，您应该使用自平衡二叉搜索树 (BST)，因为它具有`O(log n)`插入和删除时间，以及最大索引的恒定查找时间。

例如，如果您必须更新上次看到的索引 1，则删除当前上次看到的索引（15），并插入新的上次看到的索引。

通过使用每个整数类型允许的所有结束索引更新自平衡 BST，我们可以选择最大的，并说我们可以在那里结束。

确切的代码取决于输入的定义方式（例如，您是否知道所有整数是什么，即您知道数组中存在 1 到 4 之间的所有整数，然后简化代码）。

迭代是`O(n)`，BST是`O(log n)`。总体来说是`O(n log n)`。

* * *

## 实施细节

实现这一点需要一些工作。

初始化：

*   每个起始索引的间隔长度。
*   上次看到某个整数时的数组。（如果您不知道数组中可能有哪些整数，请使用关联数组（例如，`map<>`在 C++ 中），而不是使用普通数组）。
*   类似优先级队列的类型堆，其中队列的顶部是其中的最大整数。您需要能够轻松地从中删除内容，因此请使用自平衡二叉搜索树

现在在循环内部（从输入数组末尾到输入数组开头的循环索引），

*   您可以为此特定索引更新您上次看到的数组。

    只需检查您看到的整数，然后更新索引最后一次看到的数组中的条目。

*   在最后看到的数组中使用 before 和 after，更新 BST（删除旧的结束索引，添加新索引）

*   根据所需的最大结束索引（来自 BST）更新此起始索引的间隔长度。

*   如果您看到一个以前从未见过的整数，则使高于该索引的起始索引的所有间隔长度无效（或者只是避免更新间隔长度，直到所有整数至少被看到一次）。

* * *

## C++代码实现

*   假设在输入数组中找到所有整数 0-(k-1)
*   免责声明：未经测试
*   忽略`#include`和`main`功能

代码：

```
int n=10,k=3;
int input[n]=?;
unsigned int interval[n];
for (int i=0;i<n;i++) interval[i]=-1; // initialize interval to very large number
int lastseen[k];
for (int i=0;i<k;i++) lastseen[i]=-1; // initialize lastseen
multiset<int> pq;

for (int i=n-1;i>=0;i--) {
  if (lastseen[input[i]] != -1) // if lastseen[] already has index
    pq.erase(pq.find(lastseen[input[i]])); // erase single copy
  lastseen[input[i]]=i; // update last seen
  pq.insert(i); // put last seen index into BST
  if (pq.size()==k) { // if all integers seen (nothing missing)
    // get (maximum of endindex requirements) - current index
    interval[i] = (*pq.rbegin())-i+1;
  }
}
// find best answer
unsigned int minlength=-1;
int startindex;
for (int i=0;i<n;i++) {
  if (minlength>interval[i]) { // better answer?
    minlength=interval[i];
    startindex=i;
  }
}
// Your answer is [startindex,startindex+minlength) 
```

# iphone - 如何在我自己的 iphone 图片库应用程序中添加 MWPhotoBrowser 项目参考？

> ID：12242305
> 
> 赞同：0
> 
> 时间：2012-09-03T05:12:56.050
> 
> 标签：iphone, xcode, macos

我想制作一个类似于原生 iphone 照片库的 iphone 应用程序......我找到了一个项目 MWPhotoBrowser，现在我想使用这个项目的一些功能......但我不知道该怎么做...... .我是iphone应用程序开发的新手..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T17:16:02.287

首先，您必须在项目中导入您下载的“框架”。然后，您必须创建一个类“viewController”（.h 和 .m 文件）并像这样设置视图：.h 应该是这样的

```
#import <UIKit/UIKit.h>
#import "MWPhotoBrowser.h"

@interface PhotoLoader : UIViewController<MWPhotoBrowserDelegate> {
    NSArray *_photos;
    UISegmentedControl *_segmentedControl;
}
@property (nonatomic, retain) NSArray *photos;
@end 
```

文件。我应该是这样的

```
//  PhotoLoader.m

#import "PhotoLoader.h"

@interface PhotoLoader ()

@end

@implementation PhotoLoader
@synthesize photos = _photos;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Create browser
    MWPhotoBrowser *browser = [[MWPhotoBrowser alloc] initWithDelegate:self];
    browser.displayActionButton = YES;

    //show your photo whit url

    [photos addObject:[MWPhoto photoWithURL:[NSURL URLWithString:@"http://Url.Photo.Here.jpg"]]];
    [photos addObject:[MWPhoto photoWithURL:[NSURL URLWithString:@"http://http://Url.Photo.Here.jpg"]]];
    [photos addObject:[MWPhoto photoWithURL:[NSURL URLWithString:@"http://http://Url.Photo.Here.jpg"]]];
    [photos addObject:[MWPhoto photoWithURL:[NSURL URLWithString:@"http://http://Url.Photo.Here.jpg"]]];
    // Do any additional setup after loading the view.
}
- (NSUInteger)numberOfPhotosInPhotoBrowser:(MWPhotoBrowser *)photoBrowser {
    return _photos.count;
}
- (MWPhoto *)photoBrowser:(MWPhotoBrowser *)photoBrowser photoAtIndex:(NSUInteger)index {
    if (index < _photos.count)
        return [_photos objectAtIndex:index];
    return nil;
}
- (void)segmentChange {
    [self.tableView reloadData];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

@end 
```

就这样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T13:42:27.590

请参考[Github](https://github.com/mwaterfall/MWPhotoBrowser) 并查看[DOC](https://docs.google.com/document/pub?id=14XR5zcZb2Kz2s6A4AbzB00NLkrW9bWxMMprVsUao-hY)。这可能会有所帮助。还有其他[Lib](https://stackoverflow.com/questions/13269740/which-one-is-a-better-ios-photo-viewer-three20-or-egophotoviewer)也可以提供帮助。它们都遵循相同的缩放、滚动、缓存等步骤。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-14T19:53:48.537

github页面对我来说非常有用。他们有一个很棒的教程。这是链接：[https ://github.com/mwaterfall/MWPhotoBrowser](https://github.com/mwaterfall/MWPhotoBrowser)

# android - 使用库项目加载多个 R.Java

> ID：12242308
> 
> 赞同：1
> 
> 时间：2012-09-03T05:13:11.877
> 
> 标签：android, r.java-file

我在 Eclipse 中有 2 个 android 项目，应用程序项目使用另一个作为库项目公开的项目（在清单中都有不同的包声明。现在应用程序项目有两个相同的 R.java 文件，它们仅由应用程序项目的编译资源制成。图书馆项目在哪里只有一个 R.java 本身编译资源。

当Application 从Library 启动一个Activity 时，由于Application 中引用的R.java 是其自身的，所以当流转发到Library Activity 时，不会识别Lobrary Acitivity 视图中的任何成员（例如Id）。与 noSuchFieldException。

我搜索了类加载器的东西，但没有运气有没有可能改变我们提到的 R.java 可以改变？

谢谢...

# c# - 为自定义复选框生成 OnCheckedChanged

> ID：12242310
> 
> 赞同：1
> 
> 时间：2012-09-03T05:13:20.050
> 
> 标签：c#, user-controls, event-handling, controls

我有一个从 System.Windows.Forms.Control 继承的自定义复选框控件，它没有 CheckedChanged 事件。我想实现与 dot net native CheckBox 相同的 CheckedChange。我怎样才能做好？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T07:53:32.860

您继承自 Control，而不是 CheckBox，因此该解决方案类似于 Frigik 提出的解决方案，但不完全是那个解决方案。

首先，您必须在类中定义事件，即：

```
public event EventHandler CheckedChanged; 
```

这样，每个使用您的控件的开发人员都可以订阅/取消订阅该事件。这还不够，因为事件永远不会被触发。为此，您必须定义一个方法来触发它，并在您的控件状态发生变化时调用此方法：

```
private void RaiseCheckedChanged()
{
    if (CheckedChanged!= null)
        CheckedChanged(this, EventArgs.Empty);
} 
```

调用此方法的位置取决于控件的结构。例如，如果您有一个属性 Checked，您可以在其设置器中调用该方法：

```
public bool Checked
{
    get { return _checked; }
    set 
    { 
        _checked = value; 
        RaiseCheckedChanged();
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:19:52.730

试试这个代码：

```
CheckBox chkList1 = new CheckBox();
chkList1.CheckedChanged += new EventHandler(CheckBox_CheckedChanged);

protected void CheckBox_CheckedChanged(object sender, EventArgs e)
{
    // Do your stuff
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-03T07:20:16.373

试试这个：

```
public class YourCheckBox:CheckBox
    {
        public event EventHandler<EventArgs> OnCheckedChangedCustom;

        protected override void OnCheckedChanged(EventArgs e)
        {
            if (OnCheckedChangedCustom!=null)
            {
                OnCheckedChangedCustom(this, EventArgs.Empty);
            }
            base.OnCheckedChanged(e);
        }
    } 
```

# .net - 无法从另一台机器访问 Windows 服务

> ID：12242315
> 
> 赞同：1
> 
> 时间：2012-09-03T05:14:03.927
> 
> 标签：.net, wcf, web-services

我有一个带有以下配置文件的 Windows 服务：

```
 <system.serviceModel>
    <services>
        <service behaviorConfiguration="ServiceBehavior" name="abc.MyService.MyService">
        <endpoint address="" binding="basicHttpBinding" bindingConfiguration=""
            contract="abc.MyService.MyService">
            <identity>
            <dns value="localhost" />
            </identity>
        </endpoint>
        <endpoint address="mex" binding="mexHttpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        </service>
    </services>
    <bindings>
      <basicHttpBinding>
        <binding name="ServiceSoap" maxBufferSize="15000000" maxBufferPoolSize="524288" maxReceivedMessageSize="15000000">
            <readerQuotas maxDepth="32" maxStringContentLength="30000" maxArrayLength="6291456" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
            <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
            </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <behaviors>
        <serviceBehaviors>
        <behavior name="ServiceBehavior">
            <serviceMetadata httpGetEnabled="true" httpsGetEnabled="false" />
            <serviceDebug includeExceptionDetailInFaults="true" />
            <dataContractSerializer maxItemsInObjectGraph="1000000" />
        </behavior>
        </serviceBehaviors>
    </behaviors>
    <client>
      <endpoint binding="basicHttpBinding"
        bindingConfiguration="ServiceSoap" contract="IMyProject">
      </endpoint>
    </client>
    </system.serviceModel>

    <appSettings>
    <add key="WebServiceEndPoint" value="http://10.10.1.1:8081/MyService" />
    <add key="ServerSDKLogLevel" value="5"/>
    <add key="ServerSDKLogFileName" value="abc.log"/>
    <add key="UseSSL" value="false"/>
    <add key="Port" value="8080"/>
    <add key="LogRetrievalInterval" value="56:00:00" />
    <add key="ResetTimerThreshold" value="100"/>
    <add key="DatabaseThreadsCount" value="10"/>
    <add key="TaskManagerThreadsCount" value="10"/>
    <add key="ClientAccessMaxQueue" value="20000"/>
    </appSettings> 
```

当我启动服务时，我可以在 http://10.10.1.1:8081/MyService 访问它

但是，如果我尝试从另一台机器访问，它根本无法访问。Telnet 到端口 8081 也失败。我也禁用了防火墙，但仍然没有任何线索。

我正在使用 Windows Server 2008 R2。

谁能告诉我如何从其他机器访问此服务？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:40:29.537

查看[http://msdn.microsoft.com/en-us/library/ms733749.aspx ，您可能需要](http://msdn.microsoft.com/en-us/library/ms733749.aspx)[在`<endpoint>`元素](http://msdn.microsoft.com/en-us/library/ms731320)的地址属性末尾包含端口。[否则，http: //msdn.microsoft.com/en-us/library/aa751841](http://msdn.microsoft.com/en-us/library/aa751841)上的标题“为服务定义地址”部分可能会有所帮助。

该示例还包括该行`<add key="Port" value="8080"/>`。那应该是8081还是无关？

# android - mContext 何时清零？（小部件、适配器等）

> ID：12242318
> 
> 赞同：0
> 
> 时间：2012-09-03T05:14:20.940
> 
> 标签：android, memory-leaks, frameworks, android-context

我现在正在与内存泄漏作斗争。

只是出于好奇，视图或适配器类的成员 mContext 何时清空？

我找不到做这种事情的角色...

**编辑：**

**我知道 GC，但例如，**

**一个ArrayAdapter有mContext，如果Activity有对ArrayAdapter的引用，这是循环引用吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:36:58.473

检查何时释放空变量超出了您的控制范围。但是您可以避免 OOME 问题。

正如 Dmitry 所说，如果您正在使用`Bitmaps`，请在使用后立即调用其`recycle()`方法。这样您就可以清除您持有的资源并为应用程序运行腾出空间。

调用 GC 是没有用的，因为即使你调用它，也不确定 GC 是否会释放你的资源。

还要检查您的代码中是否没有内存泄漏问题。因为这也可能导致OOME。[您可以通过使用MAT](http://www.eclipse.org/mat/downloads.php) (plugin) for eclipse来检查内存泄漏问题。

即使这不能解决您的问题，请询问我们，我们会尝试寻找其他解决方案。

谢谢 ：）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:52:15.337

上下文通常是拥有的活动，由 Android 管理。保证活动有效，直到 Activity 处于活动状态。除非您正在做一些棘手或相当低级的事情，否则您不应该`mContext`在视图和适配器中保持一致。

您应该关注的是在一个类中存储对一个活动（例如在一个`Context mContext`或类似字段中）的引用，该类可能比活动（服务、线程、应用程序类等）寿命更长。这将阻止系统正确地对活动进行 GC，并导致内存泄漏和细微的错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:26:13.437

在垃圾收集器得到它之前，它不会被清除。换句话说 - 你不应该担心清除你的变量，因为如果没有对它们的引用，它们都会被 GC 收集（不是立即，但它们会）。

但是Android中有一个类会引起麻烦- `Bitmap`. 如果您的应用程序中存在内存泄漏，首先 - 查看位图使用情况。确保您`recycle`在完成后致电。

# iphone - 在我们做一些检查后是否可以退出 iOS 应用程序

> ID：12242319
> 
> 赞同：2
> 
> 时间：2012-09-03T05:14:41.437
> 
> 标签：iphone, ios, launch, quit

如果应用程序已过时，我们不希望用户进入我们的应用程序。

当我们在应用程序启动之前进行一些日期检查时，是否可以退出 iOS 应用程序？

还是可以在加载主视图后退出应用程序？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T05:21:26.303

在应用程序启动之前：否。当操作系统调用`main`.

一段时间后（1-2 秒）：是的。您可以使用其中一种

```
[[UIApplication sharedApplication] terminateWithSuccess];
exit(0);
abort();
assert(0);
pthread_kill(pthread_self()); 
```

有很多方法，但都不会通过 AppStpre - 你不应该以编程方式关闭你的应用程序。您应该通过 UIAlertView 通知用户有关过时的应用程序并禁用与应用程序的交互。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T05:19:06.850

根据 Apple 的说法，您不能通过代码退出（退出）您的应用程序。即如果你使用exit(0)。您的申请将因此被拒绝。尽管您可以使用 exit(1) 并延迟应用程序的退出时间。或者您可能喜欢使用非常方便的本地通知。

> # 不要以编程方式退出
> 
> * * *
> 
> 永远不要以编程方式退出 iOS 应用程序，因为人们倾向于将其解释为崩溃。但是，如果外部环境阻止您的应用程序按预期运行，您需要告诉您的用户这种情况并解释他们可以做些什么。根据应用程序故障的严重程度，您有两种选择。
> 
> **显示一个有吸引力的屏幕，描述问题并提出更正建议。**屏幕提供反馈，让用户确信您的应用程序没有问题。它使用户处于控制之中，让他们决定是否要采取纠正措施并继续使用您的应用程序，或者按下主页按钮并打开另一个应用程序
> 
> **如果您的应用程序的某些功能无法正常工作，请在人们激活该功能时显示屏幕或警报。**仅当人们尝试访问不起作用的功能时才显示警报。

^([来源](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UEBestPractices/UEBestPractices.html#//apple_ref/doc/uid/TP40006556-CH20-SW27))

# iphone - 如何减去数组对象？

> ID：12242321
> 
> 赞同：1
> 
> 时间：2012-09-03T05:14:53.637
> 
> 标签：iphone

我正在开发一个需要时间戳的应用程序。我有两个数组，其中包含包含小时、分钟和秒的字符串对象，我需要减去这些数组并将它们作为小时、分钟和秒作为三个对象放入第三个数组中。

例子：

```
arr1=[9,10,22]
arr2=[10,12,42]; 
```

所以答案应该是

```
arr3=[1,2,22] 
```

我需要把这个数组对象放在一个由分隔的字符串中`' :'`

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:29:10.587

试试这个

```
NSMutableArray * arr3=[[NSMutableArray alloc]init];

[arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:0]integerValue]-[[arr1 objectAtIndex:0]integerValue]]];

[arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:1]integerValue]-[[arr1 objectAtIndex:1]integerValue]]];

[arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:2]integerValue]-[[arr1 objectAtIndex:2]integerValue]]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:32:47.543

你也可以试试这个：

```
NSMutableArray *arr3=[[NSMutableArray alloc]init];

    [arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:0]intValue]-[[arr1 objectAtIndex:0]intValue]]];
    [arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:1]intValue]-[[arr1 objectAtIndex:1]intValue]]];
    [arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:2]intValue]-[[arr1 objectAtIndex:2]intValue]]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:35:22.717

试试这个：

```
NSMutableArray *arr3 = [NSMutableArray alloc]init];
for(int i=0;i<[arr1 count];i++)
{
  [arr3 addObject:[NSString stringWithFormat:@"%d",[[arr2 objectAtIndex:i]integerValue]-[[arr1 objectAtIndex:i]integerValue]]];
}

NSString *combinedStr = [arr3 componentsJoinedByString:@":"]; 
```

# node.js - Nodejs - 需要解释

> ID：12242323
> 
> 赞同：0
> 
> 时间：2012-09-03T05:15:03.797
> 
> 标签：node.js, coffeescript

```
http = require('http')
https = require('https')
fs = require('fs')
url = require('url')
req = require('request')
server = require('node-router').getServer()

# run server
server.listen process.env.PORT || 8080, '0.0.0.0'

# stop the error
server.get "/favicon.ico", (req, res)->
  return ""

# display image
server.get(new RegExp("^/(.*)(?:.jpg)?$"), (req, res, match) ->

  download(match, output, ()->
    img = fs.readFile(output, (err, data)->
      res.writeHead(200, {'Content-Type' : 'image/jpeg'})
      res.end(data, 'binary')
    )
  )
)

# download image to our host
download = (match, output, callback) ->

  #fetch
  fetch(match, (p_url)->
    #save file
    uri = url.parse(p_url)
    host = uri.hostname
    path = uri.pathname

    if uri.protocol == "https:"
      r = https
    else
      r = http

    r.get host:host, path:path, (res)->
      res.setEncoding 'binary'

      img=''
      res.on 'data', (chunk)->
        img+=chunk

      res.on 'end', ()->
        fs.writeFile output, img, 'binary', (err)->
          callback()
  )

# fetch image from google images
fetch = (query, cb) ->
  uri = 'http://ajax.googleapis.com/ajax/services/search/images?v=1.0&rsz=8&q=' + encodeURI(query)

  req {uri: uri}, (e, res, body) ->
    res = JSON.parse(body)['responseData']['results'][0]
    unless res
      cb("https://img.skitch.com/20110825-ewsegnrsen2ry6nakd7cw2ed1m.png")
    cb(res['unescapedUrl']) 
```

由于文件是下载文件，因此获取和下载功能没有问题。此代码应该将图像返回到浏览器，但它返回的是一堆 json 内容[http://pastebin.com/23CWicgB](http://pastebin.com/23CWicgB)。当我尝试使用 node-inspector 和 node 进行调试时，结果以某种方式是二进制的，但我仍然不知道它为什么返回 json。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T17:35:49.233

如果您有兴趣通过 HTTP 向用户返回图像：考虑使用框架来处理这些请求。Express.js 似乎是 NodeJS 社区的标准。

你在这里做了很多已经完成的工作。

# android - sdk 用于 Android 中的 Amazon App Store 广告暴民服务？

> ID：12242327
> 
> 赞同：1
> 
> 时间：2012-09-03T05:15:30.940
> 
> 标签：android, amazon

我正在开发一个应用程序，我需要在其中为 Amazon App Store 实施**Ad-mob 服务**。我已经为许多应用程序完成了这项工作，但使用的是**Google Ad-mob service sdk**。

请让我知道是否有人可以指导我为 Amazon Ad-mob 服务的 sdk。请给我建议...!!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:48:20.080

没有“亚马逊广告暴民”这样的东西。您可以使用亚马逊上的任何广告网络，包括 AdMob（恰好归 Google 所有）。如果您担心更精细的法律问题，您应该咨询律师，但 AFAIK，在 Amazon Appstore 上使用 AdMob 存在问题。我已经将它用于两个应用程序一年多了。

# actionscript-3 - 如何在 Flash CS4 中为下一帧/上一帧做一个触发键盘（左右箭头）？就像一个 PowerPoint 演示文稿

> ID：12242329
> 
> 赞同：-4
> 
> 时间：2012-09-03T05:15:39.117
> 
> 标签：actionscript-3, flash-cs4

**StackOverflow**社区。

我是新手，但我喜欢 CS4 和 Javascript 代码。我想花时间练习这个。感谢帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:23:33.163

添加一个键盘事件。并得到一个keyCode，处理如下。注意。需要`stop();`在 MovieClip 的第 1 帧上添加代码。

看看我的示例代码：[simple_ppt](http://www.datafilehost.com/download-d9c4e345.html)

```
import flash.events.KeyboardEvent;
import flash.ui.Keyboard;
import flash.display.MovieClip;

stage.addEventListener(KeyboardEvent.KEY_DOWN, onKeyDownHandler);

function onKeyDownHandler(e:KeyboardEvent):void
{
    if(e.keyCode == Keyboard.LEFT)
    {
        trace("left!!!");
        if(myMovieClip.currentFrame > 1)
        {
            myMovieClip.prevFrame();
        }
    }
    else if(e.keyCode == Keyboard.RIGHT)
    {
        trace("right!!!");
        if(myMovieClip.currentFrame < mc.totalFrames)
        {
            myMovieClip.nextFrame();
        }
    }
} 
```

# http - CGI 与长时间运行的服务器

> ID：12242331
> 
> 赞同：-1
> 
> 时间：2012-09-03T05:15:52.013
> 
> 标签：http, cgi

有人可以解释一下golang关于CGI的文档的摘录：

" 请注意，使用 CGI 意味着启动一个新进程来处理每个请求，这通常比使用长时间运行的服务器效率低。这个包主要是为了与现有系统兼容。"

我使用 CGI 来制作数据库的放置和获取。

这是低效的吗？我应该使用“长期运行的服务器”吗？

如果是这样，那是什么意思，我该如何实施？

... [http://golang.org/pkg/net/http/cgi/](http://golang.org/pkg/net/http/cgi/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:36:09.657

是的，它是低效的。启动一个全新进程的成本通常远不止连接到一个已经存在的进程，或者在当前进程中的线程上做某事。

至于有没有必要，那就看情况了。如果您正在创建一个与 Google 竞争的搜索引擎，我建议 CGI*不是*要走的路。

如果它是一个每小时访问一次的个人网站，我想你可能会侥幸逃脱。

就长时间运行的服务器而言，您通常可以为一直在运行的 Web 服务器编写插件之类的东西，并且 Web 服务器只是在需要时将请求传递给它（可能还有多个“它”线程） .

这样，它就一直准备就绪，您不必等待 Web 服务器启动另一个进程来处理请求。

事实上，Apache 本身通过一个模块（如插件）执行 CGI，该模块在运行时将自身集成到 Apache 中 - 外部进程的实际调用是*从*该模块处理的。源代码，如果您认为有帮助，可以在`mod_cgi.c`网络搜索中找到。

另一个示例是`mod_perl`Perl 解释器模块，可在[此链接](http://perl.apache.org/)中找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-27T08:36:13.747

要研究的一个选项是 fastcgi，它是一个长时间运行的服务器程序，不会不断地重新启动每个请求。过去，由于 C、C++、FPC 等语言中的内存泄漏，快速 cgi 有其缺点，因为它们没有被垃圾收集。一个 fastcgi 程序在对网站进行数百万次点击后发生小的内存泄漏可能会导致服务器停机，而普通的旧 CGI 本身就是一个垃圾收集器：程序重新启动，因此每次有人请求页面并且 cgi 退出时都会进行清理。在 Go lang 内存泄漏的情况下，不是问题，但是快速 cgi 可能有一些隐藏的问题，例如：如果 golang 在其垃圾收集器本身中有任何内存泄漏......（不太可能，但可能会弹出这样的问题 - 也堆碎片......随着时间的推移......）

一般来说fastcgi和“长时间运行”是过早的优化。我见过每天有 5 个访问者访问他们的个人主页网站的人大喊“嘿，也许我应该使用 fastcgi”，而实际上他们每天需要 500 万访问者 - 但他们喜欢时髦和酷，所以他们开始考虑在他们的网站甚至被 3 个人知道之前的快速 cgi。

您需要问自己：您使用的服务器是否有大量流量，大量流量并不是指每天有 100 位访客……即使每天 1000 位独立访客也不算多。

目前尚不清楚您是要为 apache 服务器编写 Go lang cgi 程序，还是要为 go 服务器编写 python 程序，或者您是否正在编写具有 cgi 功能的 go 服务器，用于 python 和 perl。澄清你实际上在做什么。

至于有人在另一个答案中发布的与谷歌竞争的搜索引擎：如果你看看谷歌的历史，他们实际上是通过一些 cgi 系统用 C++/C 编写他们的程序......而不是使用 PHP、perl 或其他臀部和孩子们使用的很酷的东西。在很久以前查找 backrub 项目及其模板系统。它被称为 Ctemplate（C 编译程序调用 html 模板......）

[https://www.google.com/search?safe=off&q=google+backrub+template+ctemplate](https://www.google.com/search?safe=off&q=google+backrub+template+ctemplate)

Fastcgi 可能是谷歌在 fastcgi 出现之前就想出来的东西，或者他们有自己的类似于 fastcgi 的专有解决方案，我不知道，因为我没有在谷歌工作 - 但因为他们使用 C++/C 程序为谷歌提供动力在过去（对于某些东西来说，今天可能仍然存在）他们一定一直在使用一些 cgi 技术，即使它是为了速度而修改的 cgi 技术。

# java - 来自数据库的 Java JTable 结果

> ID：12242333
> 
> 赞同：0
> 
> 时间：2012-09-03T05:16:14.760
> 
> 标签：java, database, swing, jdbc, jtable

我的 JTable 有问题，我不知道如何将 String 类型的提取记录从我的数据库存储到多维数组中，比如 Object[][] 数据。我想要做的是向 JTable 显示我的数据库记录，我已经在数据库中获取记录并将其存储在我的 String 变量中，问题是如何将获取记录存储到 Object 的多维数组并在我的表。

这是我获取记录的代码：

```
static class TableData{
    Object[][] data;
    int count = 0;
    Statement sql = null;
    String query, user = "JEROME", pass = "Perbert101", driver = "oracle.jdbc.OracleDriver", conString = "jdbc:oracle:thin:@127.0.0.1:1521:XE";
    Connection con = null;
    ResultSet rs = null;
    TableData(){
        try{
            Class.forName(driver);
        }
        catch(ClassNotFoundException e){
            JOptionPane.showMessageDialog(null, "Problem Loading Driver");
        }
        try{
            con = DriverManager.getConnection(conString, user, pass);
            sql = con.createStatement();
            sql.executeQuery("SELECT * FROM INVENTORY");
            rs = sql.getResultSet();
            int key = 0;
            String val = null, val1 = null, val2 = null, val3 = null, val4 = null, val5 = null;
            System.out.println("Results: ");
            while(rs.next()){

                    key = rs.getInt(1);
                    if(rs.wasNull()){
                        key = -1;
                    }
                    val = rs.getString(2);
                    if(rs.wasNull()){
                        val = null;
                    }
                    val1 = rs.getString(3);
                    if(rs.wasNull()){
                        val = null;
                    }
                    val2 = rs.getString(4);
                    if(rs.wasNull()){
                        val = null;
                    }

                    val3 = rs.getString(5);
                    if(rs.wasNull()){
                        val = null;
                    }
                    val4 = rs.getString(6);
                    if(rs.wasNull()){
                        val = null;
                    }
                    val5 = rs.getString(7);
                    if(rs.wasNull()){
                        val = null;
                    }

                System.out.println("Key = " + key);
                System.out.println("value = " + val);
                System.out.println("value = " + val1);
                System.out.println("value = " + val2);
                System.out.println("value = " + val3);
                System.out.println("value = " + val4);
                System.out.println("value = " + val5);

            }

            sql.close();
            con.close();
        }
        catch(SQLException e){
            JOptionPane.showMessageDialog(null, "Error Loading Database Data");
        }

    }
}
//----------END------------
public static void main(String[] args){
    POSModel.TableData data = new POSModel.TableData();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:19:17.220

我建议您从数据库中提取的数据首先需要存储在一个数组中（按列）...

```
Object[] rowData = new Object[7];
rowData[0] = key;
rowData[1] = val;
rowData[2] = val1;
rowData[3] = val2;
rowData[4] = val3;
rowData[5] = val4;
rowData[6] = val5; 
```

然后需要将其存储在某种行结构中，我个人会使用[List](http://docs.oracle.com/javase/7/docs/api/java/util/List.html)。这种选择的主要原因是您可能事先不知道您将阅读的行数......

```
List<Object[]> rowList = new ArrayList<Object[]>(25);

// Process the resultset...
// Create the column array from above...

rowList.add(rowData); 
```

完成读取所有行后，您需要将列表转换为数组...

```
data = rowList.toArray(new Object[](rowList.size())); // I like to provide my own array 
```

同样，你可以做...

```
data = new Object[rowList.size()][7];
rowList.toArray(data); 
```

哪个更方便...

现在你应该有一个二维数组......

# awk - 格式化来自 dmidecode 的特定输出

> ID：12242344
> 
> 赞同：1
> 
> 时间：2012-09-03T05:17:45.247
> 
> 标签：awk

我正在寻找一种以特定方式格式化 dmidecode 输出的方法，我发现以下文章正是我需要的

[http://www.experts-exchange.com/Programming/Languages/Scripting/Shell/Q_27770556.html](http://www.experts-exchange.com/Programming/Languages/Scripting/Shell/Q_27770556.html)

我从上面答案中的代码中修改了一些我需要的字段，这显示了 awk 从 dmidecode 创建带有引号的 csv 输出

```
dmidecode -t 17 | awk -F: '/Size|Locator|Speed|Manufacturer|Serial Number|Part Number/{sub(/^ */,"",$2);s=sprintf("%s,\"%s\"",s,$2)}/^Memory/{print s;s=""}END{print s}' |sed -e 's/,//' | grep -iv "no module" | tr -d ' '

"4096MB","CPU0","DIMM01","1066MHz","Samsung","754C2C33","M393B5273CH0-YH9" 
```

我需要标签，没有引号

```
4096MB  CPU0    DIMM01  1066MHz         Samsung         754C2C33        M393B5273CH0-YH9 
```

我仍在努力了解 awk，并希望有人向我展示适当的修改

修复了我上面的代码，之前粘贴的非工作语法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:26:42.280

从您发布的链接中，我将数据保存在一个名为`file.txt`. 我注意到记录是用空行分隔的。我使用了以下`awk`代码：

```
awk 'BEGIN { FS=":"; OFS="\t" } /Size|Locator|Speed|Manufacturer|Serial Number|Part Number/ { gsub(/^[ \t]+/,"",$2); line = (line ? line OFS : "") $2 } /^$/ { print line; line="" }' file.txt 
```

结果：

```
2048 MB XMM1    Not Specified   1333 MHz    JEDEC ID    8106812F      HMT125U6BFR8C-H9
No Module Installed XMM2    Not Specified   Unknown JEDEC ID        
2048 MB XMM3    Not Specified   1333 MHz    JEDEC ID    7006C12F    HMT125U6BFR8C-H9
No Module Installed XMM4    Not Specified   Unknown JEDEC ID        
4096 kB SYSTEM ROM  Not Specified   Unknown Not Specified   Not Specified   Not Specified 
```

您的命令行现在看起来像这样：

```
dmidecode -t 17 | awk 'BEGIN { FS=":"; OFS="\t" } /Size|Locator|Speed|Manufacturer|Serial Number|Part Number/ { gsub(/^[ \t]+/,"",$2); line = (line ? line OFS : "") $2 } /^$/ { print line; line="" }' | grep -iv "no module" 
```

**编辑：**

```
dmidecode -t 17 | awk 'BEGIN { FS=":"; OFS="\t" } /Size|Locator|Speed|Manufacturer|Serial Number|Part Number/ { if ($2 ~ /MB$|MHz$/) { gsub(/[ \t]+/,"",$2) } gsub(/^[ \t]+/,"",$2); line = (line ? line OFS : "") $2 } /^$/ { print line; line="" }' | grep -iv "no module" 
```

# c# - 过载分辨率异常

> ID：12242346
> 
> 赞同：6
> 
> 时间：2012-09-03T05:18:01.330
> 
> 标签：c#, .net, overload-resolution

不确定这是否特定于 C# 4+，但只是注意到了这一点。

考虑以下类：

```
class Base
{
  protected void Foo(object bar, DayOfWeek day)
  {
  }
}

class Program : Base
{
  protected void Foo(object bar, object baz)
  {
  }

  void Bar(DayOfWeek day)
  {
    Foo(new { day }, day);
  }
} 
```

调用`Foo`in `Bar`，解析为`Foo(object, object)`。

将其更改为：

```
class Base
{

}

class Program : Base
{
  protected void Foo(object bar, object baz)
  {
  }

  protected void Foo(object bar, DayOfWeek day)
  {
  }

  void Bar(DayOfWeek day)
  {
    Foo(new { day }, day);
  }
} 
```

调用`Foo`in `Bar`，解析为`Foo(object, DayOfWeek)`。

我的理解是它应该总是像第二个例子一样解决。

这是一个“错误”还是只是我缺乏理解（或无知）？

**更新：**

感谢您的回答。正如我所发现的，可以`base.`用来调用基类中的方法。然而，当在混合中添加另一个派生类时，问题又回来了。

```
class Base
{
  protected void Foo(object bar, DayOfWeek day)
  {
  }
}

class Program : Base
{
  protected void Foo(object bar, object baz)
  {
  }

  void Bar(DayOfWeek day)
  {
    base.Foo(new { day }, day);
  }
}

class Derived : Program
{
  void Baz(DayOfWeek day)
  {
    base.Foo(new { day }, day);
  }
} 
```

该`base.`调用在 中有效`Program`，但随后解析为`Foo(object, object)`in `Derived`。

`Foo(object,DayOfWeek)`从那时起如何调用`Derived`而不必在其中创建“冗余”方法`Program`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-03T05:21:21.887

我认为为了解决方法调用，它首先查看它的类，因为`DayOfWeek`可以作为`object`类型传递，它调用类自己的方法，而不是来自基类的方法。

在第二种情况下，方法调用解析为更特殊的类型参数，因此`Foo(object bar, DayOfWeek day)`被调用。

来自 MSDN -[方法解析。](http://msdn.microsoft.com/en-us/library/aa691336%28v=vs.71%29.aspx)

> **如果派生类中的任何方法适用**（第[7.5.5.1](http://msdn.microsoft.com/en-us/library/aa691356%28v=vs.71%29.aspx)节），则基类中的方法不是候选方法。
> 
> *   给定一组适用的候选函数成员，找到该集合中的最佳函数成员。
> *   如果该集合仅包含一个函数成员，则该函数成员是最佳函数成员。
> *   否则，如果使用第 7.4.2.2 节中的规则将每个函数成员与所有其他函数成员进行比较，则最好的函数成员是在**给定参数列表方面优于所有其他函数成员的一个函数成员。**
> *   如果没有一个函数成员比所有其他函数成员更好，那么函数成员调用是不明确的，并且会发生编译时错误。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-03T05:27:01.717

您需要查看 Eric Lippert 的博客 - 特别是这篇文章：http: [//blogs.msdn.com/b/ericlippert/archive/2007/09/04/future-break-changes-part-three.aspx](http://blogs.msdn.com/b/ericlippert/archive/2007/09/04/future-breaking-changes-part-three.aspx)

但实际上，重载解析算法会在当前类中搜索可以调用的重载，并且仅在当前类中找不到替代方案时才在基类中搜索替代方案。

在第一种情况下，`Foo(object, object)`过载是适用的，因此不会执行进一步的搜索。

在第二种情况下`Foo(object DayOfWeek)`更好，所以它被使用。

阅读 Eric 的文章了解全部细节。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:39:30.163

我认为规范是有道理的。派生类程序员不需要知道基类*中非相对*方法的实现。否则，一个倒霉的家伙写了一个比它的基类中的方法更不兼容的方法（而且这个家伙不知道基类的细节），然后调用基类中的方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-03T07:23:59.930

正如其他人指出的那样，问题与重载解决方案的工作方式有关。只是补充一点：

如果`Base.Foo`是`public`，那么您可以这样做以到达`Base.Foo`内部`Derived`（假设`Base.Foo`没有被覆盖）：

```
((Base)this).Foo(new { day }, day); 
```

此外，您可以选择覆盖（如果您可以更改`Base.Foo`为`virtual`）或显式隐藏，因此当您调用`Base.Foo`within时，它仍然调用：`Program``base.Foo``Derived``Base.Foo`

```
class Program : Base
{
  protected void Foo(object bar, object baz)
  {
  }

  protected new void Foo(object bar, DayOfWeek baz)
  {
    base.Foo(bar, baz);
  }

  void Bar(DayOfWeek day)
  {
    base.Foo(new { day }, day);
  }
} 
```

* * *

附带说明： *通常*，派生类提供的重载具有比其基类重载（例如， ）*更具体*的参数类型。`Object.Equals(object)``String.Equals(string)`

即使存在较少（或同等）特定参数类型的情况，它们也会*覆盖*基本方法（例如`Object.Equals(object)`- `String.Equals(object)`> overrides `Object.Equals(object)`），或者它们只是给它一个不同的方法名称。

# python - 连接到 gtalk 的 xmpppy 错误

> ID：12242349
> 
> 赞同：1
> 
> 时间：2012-09-03T05:18:12.370
> 
> 标签：python, google-talk, xmpppy

我要在这个问题上扯掉我的头发。我正在使用我能想到的最简单的代码来测试 xmppy，但它一次又一次地失败。我过去使用过 sendxmpp，但我正在尝试将一些服务器端脚本迁移到使用 python 而不是通过管道输出到 sendxmpp。

无论如何：这是代码：

```
import xmpp

user = "actual.user@gmail.com"
password = "actualPassword"
server = 'talk.google.com'

jid = xmpp.JID(user)
connection = xmpp.Client(server)
connection.connect() 
```

这是结果输出：

```
Invalid debugflag given: always
Invalid debugflag given: nodebuilder
DEBUG: 
DEBUG: Debug created for /Users/ben/Desktop/PythonScripts/XMPP/xmpp/client.py
DEBUG:  flags defined: always,nodebuilder
DEBUG: socket       start Plugging <xmpp.transports.TCPsocket instance at 0x108daae60> into <xmpp.client.Client instance at 0x108daad88>
DEBUG: socket       warn  An error occurred while looking up _xmpp-client._tcp.talk.google.com
DEBUG: socket       start Successfully connected to remote host ('talk.google.com', 5222)
DEBUG: dispatcher   start Plugging <xmpp.dispatcher.Dispatcher instance at 0x108dbd050> into <xmpp.client.Client instance at 0x108daad88>
DEBUG: dispatcher   info  Registering namespace "unknown"
DEBUG: dispatcher   info  Registering protocol "unknown" as <class 'xmpp.protocol.Protocol'>(unknown)
DEBUG: dispatcher   info  Registering protocol "default" as <class 'xmpp.protocol.Protocol'>(unknown)
DEBUG: dispatcher   info  Registering namespace "http://etherx.jabber.org/streams"
DEBUG: dispatcher   info  Registering protocol "unknown" as <class 'xmpp.protocol.Protocol'>(http://etherx.jabber.org/streams)
DEBUG: dispatcher   info  Registering protocol "default" as <class 'xmpp.protocol.Protocol'>(http://etherx.jabber.org/streams)
DEBUG: dispatcher   info  Registering namespace "jabber:client"
DEBUG: dispatcher   info  Registering protocol "unknown" as <class 'xmpp.protocol.Protocol'>(jabber:client)
DEBUG: dispatcher   info  Registering protocol "default" as <class 'xmpp.protocol.Protocol'>(jabber:client)
DEBUG: dispatcher   info  Registering protocol "iq" as <class 'xmpp.protocol.Iq'>(jabber:client)
DEBUG: dispatcher   info  Registering protocol "presence" as <class 'xmpp.protocol.Presence'>(jabber:client)
DEBUG: dispatcher   info  Registering protocol "message" as <class 'xmpp.protocol.Message'>(jabber:client)
DEBUG: dispatcher   info  Registering handler <bound method Dispatcher.streamErrorHandler of <xmpp.dispatcher.Dispatcher instance at 0x108dbd050>> for "error" type-> ns->(http://etherx.jabber.org/streams)
DEBUG: dispatcher   warn  Registering protocol "error" as <class 'xmpp.protocol.Protocol'>(http://etherx.jabber.org/streams)
DEBUG: socket       sent  <?xml version='1.0'?>
  <stream:stream xmlns="jabber:client" to="talk.google.com" version="1.0" xmlns:stream="http://etherx.jabber.org/streams" >
DEBUG: socket       got   <stream:stream from="talk.google.com" id="B0E6462206621A27" version="1.0" xmlns:stream="http://etherx.jabber.org/streams" xmlns="jabber:client">
  <stream:features>
  <starttls xmlns="urn:ietf:params:xml:ns:xmpp-tls">
  <required/>
  </starttls>
  <mechanisms xmlns="urn:ietf:params:xml:ns:xmpp-sasl">
  <mechanism>X-GOOGLE-TOKEN</mechanism>
  <mechanism>X-OAUTH2</mechanism>
  </mechanisms>
  </stream:features>
DEBUG: dispatcher   warn  Unknown stanza: features
DEBUG: dispatcher   ok    Dispatching unknown stanza with type-> props->[u'urn:ietf:params:xml:ns:xmpp-tls', u'urn:ietf:params:xml:ns:xmpp-sasl'] id->None
DEBUG: tls          start Plugging <xmpp.transports.TLS instance at 0x108dbda28> into <xmpp.client.Client instance at 0x108daad88>
DEBUG: tls          ok    TLS supported by remote server. Requesting TLS start.
DEBUG: dispatcher   info  Registering handler <bound method TLS.StartTLSHandler of <xmpp.transports.TLS instance at 0x108dbda28>> for "proceed" type-> ns->(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: dispatcher   warn  Registering namespace "urn:ietf:params:xml:ns:xmpp-tls"
DEBUG: dispatcher   info  Registering protocol "unknown" as <class 'xmpp.protocol.Protocol'>(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: dispatcher   info  Registering protocol "default" as <class 'xmpp.protocol.Protocol'>(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: dispatcher   warn  Registering protocol "proceed" as <class 'xmpp.protocol.Protocol'>(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: dispatcher   info  Registering handler <bound method TLS.StartTLSHandler of <xmpp.transports.TLS instance at 0x108dbda28>> for "failure" type-> ns->(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: dispatcher   warn  Registering protocol "failure" as <class 'xmpp.protocol.Protocol'>(urn:ietf:params:xml:ns:xmpp-tls)
DEBUG: socket       sent  <starttls xmlns="urn:ietf:params:xml:ns:xmpp-tls"/>
DEBUG: socket       got   <stream:error>
  <host-unknown xmlns="urn:ietf:params:xml:ns:xmpp-streams"/>
  <str:text xmlns:str="urn:ietf:params:xml:ns:xmpp-streams">Set the 'to' attribute of stream element to the domain part of the user's JID. Example: to='gmail.com'.</str:text>
  </stream:error>
  </stream:stream>
DEBUG: dispatcher   ok    Got http://etherx.jabber.org/streams/error stanza
DEBUG: dispatcher   ok    Dispatching error stanza with type-> props->[u'urn:ietf:params:xml:ns:xmpp-streams'] id->None
Traceback (most recent call last):
  File "./sendXMPP.py", line 16, in <module>
    print connection.connect()
  File "/Users/ben/Desktop/PythonScripts/XMPP/xmpp/client.py", line 205, in connect
    while not self.TLS.starttls and self.Process(1): pass
  File "/Users/ben/Desktop/PythonScripts/XMPP/xmpp/dispatcher.py", line 303, in dispatch
    handler['func'](session,stanza)
  File "/Users/ben/Desktop/PythonScripts/XMPP/xmpp/dispatcher.py", line 215, in streamErrorHandler
    raise exc((name,text))
xmpp.protocol.HostUnknown: (u'host-unknown', u"Set the 'to' attribute of stream element to the domain part of the user's JID. Example: to='gmail.com'.") 
```

我到底在这里做错了什么？

编辑：更新代码以显示更改。

新代码：

```
import xmpp

user = "actual.user@gmail.com"
password = "actualPassword"
server = 'talk.google.com'

jid = xmpp.JID(user)
connection = xmpp.Client(jid.getDomain())
connection.connect()
result = connection.auth(jid.getNode(), password,"TESTING") 
```

新错误：

```
Invalid debugflag given: always
Invalid debugflag given: nodebuilder
DEBUG: 
DEBUG: Debug created for /Users/ben/Desktop/PythonScripts/XMPP/xmpp/client.py
DEBUG:  flags defined: always,nodebuilder
DEBUG: socket       start Plugging <xmpp.transports.TCPsocket instance at 0x1033c0e60> into <xmpp.client.Client instance at 0x1033c0d88>
DEBUG: socket       warn  An error occurred while looking up _xmpp-client._tcp.gmail.com
DEBUG: socket       error Failed to connect to remote host ('gmail.com', 5222): Operation timed out (60)
Traceback (most recent call last):
  File "/Users/ben/Desktop/PythonScripts/XMPP/xmpp/transports.py", line 133, in connect
    self._sock.connect((server[0], int(server[1])))
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py", line 224, in meth
    return getattr(self._sock,name)(*args)
error: [Errno 60] Operation timed out
DEBUG: socket       stop  Plugging <xmpp.transports.TCPsocket instance at 0x1033c0e60> out of <xmpp.client.Client instance at 0x1033c0d88>.

Traceback (most recent call last):
  File "./sendXMPP.py", line 17, in <module>
    result = connection.auth(jid.getNode(), password,"LFY-client")
  File "/Users/ben/Desktop/PythonScripts/XMPP/xmpp/client.py", line 214, in auth
    while not self.Dispatcher.Stream._document_attrs and self.Process(1): pass
AttributeError: Client instance has no attribute 'Dispatcher' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:50:50.210

您不应该手动设置服务器 -`xmpp.Client`将尝试自行解决：

```
import xmpp

jid = xmpp.JID("actual.user@gmail.com")
connection = xmpp.Client(jid.getDomain())
connection.connect() 
```

应该可以正常工作。

# jquery - 如何使用来自异步 ajax 的值

> ID：12242353
> 
> 赞同：0
> 
> 时间：2012-09-03T05:18:45.963
> 
> 标签：jquery, asynchronous

这是我的代码：

```
function getTitle(url) {
    var urlToGet = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22" + encodeURIComponent(url) + "%22%20and%20xpath%3D'%2F%2Ftitle'&format=json";
    $.ajax({
        type: "GET",
        url: urlToGet,
        contentType: "application/json; charset=utf-8",
        dataType: "jsonp",
        success: function(data) {
            var result = JSON.stringify(data);
            if(JSON.parse(result).query.results !== null) {
                return JSON.parse(result).query.results.title;
            }
        }
    });
} 
```

它使用[YQL](http://developer.yahoo.com/yql/)来获取给定 url 的标题。但是，`getTitle("http://www.google.com")`返回`undefined`，因为它是一个异步过程。所以我在互联网上搜索了解决这个问题的方法，确实，我看到了很多讨论，但没有真正的解决方案。有人可以清楚地说明我该如何解决这个问题吗？（注意：我无法在服务器端做任何事情）

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:24:22.323

最好的方法可能是将回调传递给您的`getTitle`方法......

```
function getTitle(url, callback) {
    var urlToGet = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22" + encodeURIComponent(url) + "%22%20and%20xpath%3D'%2F%2Ftitle'&format=json";
    $.ajax({
       type: "GET",
       url: urlToGet,
       async:false,
       contentType: "application/json; charset=utf-8",
       dataType: "jsonp",
        success: function(data) {
            var result = JSON.stringify(data);
            callback(JSON.parse(result).query.results.title);
        }
    });
} 
```

并这样称呼它：

```
getTitle("http://www.google.com", function(title) {
    alert(title);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:32:24.467

你可以这样做：

```
function getTitle(url) {
    var title = "";
    var urlToGet = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22" + encodeURIComponent(url) + "%22%20and%20xpath%3D'%2F%2Ftitle'&format=json";
    $.ajax({
        type: "GET",
        url: urlToGet,
        async:false,
        contentType: "application/json; charset=utf-8",
        dataType: "jsonp",
        success: function(data) {
            var result = JSON.stringify(data);
            if(JSON.parse(result).query.results !== null) {
                title = JSON.parse(result).query.results.title;
            }
        }
    });
  return title;
} 
```

我已添加`async:false`到将在成功回调中设置的选项和标题变量。这样 getTitle 将像常规函数一样返回标题，但它会停止执行任何其他脚本（如果我没有遗漏某些内容，可能会导致界面冻结），直到请求完成。

唯一的其他选择是在成功回调中使用该标题执行您需要的操作（使用回调函数，如此处的另一个答案或直接将所需的代码放置在成功回调函数中）。嗯。但根据 jquery 文档：

> 跨域请求和 dataType: "jsonp" 请求不支持同步操作。

所以只有一种选择）

# iphone - 如何在 iOS6 中更改 UIImage 的亮度和对比度

> ID：12242354
> 
> 赞同：3
> 
> 时间：2012-09-03T05:18:59.023
> 
> 标签：iphone

如何在 iOS6 中更改 UIImage 的亮度和对比度？

# java - 正在执行的 Java 程序的程序计数器值

> ID：12242355
> 
> 赞同：2
> 
> 时间：2012-09-03T05:18:59.643
> 
> 标签：java, code-coverage, program-counter

> **可能重复：**
> [Java 程序的程序计数器寄存器值](https://stackoverflow.com/questions/10295543/program-counter-register-values-for-a-java-program)

是否可以获得正在运行的 Java 应用程序的程序计数器 (PC) 寄存器值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:26:43.453

这取决于你想怎么做。例如，如果通过 JVM 工具接口，有一个名为[`GetFrameLocation`](http://docs.oracle.com/javase/7/docs/platform/jvmti/jvmti.html#GetFrameLocation). 这应该等同于程序计数器。

```
jvmtiEnv *penv;
...
jmethodID cur_method;
jlocation cur_loc;
(*penv)->GetFrameLocation(0, 0, &cur_method, &cur_loc); 
```

# memory - AXD(ADS 1.2) 中的动态内存（堆）使用情况

> ID：12242366
> 
> 赞同：0
> 
> 时间：2012-09-03T05:19:55.680
> 
> 标签：memory, runtime, arm, ads, axd

我想知道我的 ARM 特定库（C 代码）的动态内存使用情况。

如何通过 ADS/AXD 工具在运行时获取信息？（或 RVDS）
是否有一种简单的方法可以通过 SDK 获取内存统计信息？

我已经尝试了很多次搜索谷歌，但找不到任何对我有用的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T20:57:51.540

这不是一个简单的解决方案，但您可以尝试的一件事是使用 $Super$$ 和 $Sub$$ 链接器功能来检测 malloc/free 调用：

[http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0067d/C4clmmh.html](http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0067d/C4clmmh.html)

# python - 在同一程序中运行的 Python 多线程服务器

> ID：12242367
> 
> 赞同：1
> 
> 时间：2012-09-03T05:20:04.523
> 
> 标签：python, multithreading, sockets

所以我目前正在为一个小游戏编写一个python服务器。我目前正在尝试让程序在线程中运行两个服务器。通过测试，我发现我的过程中有一个小问题，那就是一次只有一个服务器在运行。我为每台服务器使用不同的端口，但是首先连接的端口占主导地位。服务器代码片段：

```
class loginServer(socketserver.BaseRequestHandler):

    def handle(self):
        # self.request is the TCP socket connected to the client
        self.data = self.request.recv(1024).strip()
        sent = str(self.data,'ascii').split(":")
        print("login:\t\t",sent)
        if (sent[0] == "l"):
            #login check
            #cur.execute("SELECT password, userid FROM `prototb` WHERE username = '"+sent[1]+"'")
            cur.execute("SELECT `displayname`,`curmap`,`curpos`,`Inventory`,`abilities`,`password`,`userid` FROM `prototb` WHERE username = '"+sent[1]+"'")            
            plyInfo = cur.fetchone()#get the information from the database
            if (plyInfo != None):#if the account doesnt exist the username is wrong
                if (plyInfo[5] == sent[2]):#check the correctness of the password
                    print("Login-Success:\t",plyInfo)
                    send = pickle.dumps([plyInfo[1],plyInfo[2],plyInfo[3],plyInfo[4],plyInfo[5]])
                else:
                    self.request.send(bytes("-", 'ascii'))#refuse entry (bad password)
            else:
                self.request.send(bytes("-", 'ascii'))#refuse entry (bad username)

def run_loginServer():
    HOST, PORT = "localhost", 9000

    # Create the server, binding to localhost on port 9000
    server = socketserver.TCPServer((HOST, PORT), loginServer)

    # Activate the server; this will keep running until you
    # interrupt the program with Ctrl-C
    server.serve_forever() 
```

对于另一个服务器线程：

```
class podListener(socketserver.BaseRequestHandler):

    def handle(self):
        # self.request is the TCP socket connected to the client
        self.data = self.request.recv(1024).strip()
        sent = str(self.data,'ascii').split(":")
        print("pods:\t\t",sent)
        if (sent[0] == "l"):
            maps[mapNum][0] = sent[1]
            maps[mapNum][1] = self.client_address[0]
            maps[mapNum][2] = sent[2]
            print("Pod Connected:\t",maps[mapNum])
            #send confirmation
            self.request.send(bytes("+", 'ascii'))
        else:
            print("Pod Failed connection: ", self.client_address[0])

def run_podListener():
    HOST, PORT = "localhost", 9001

    # Create the server, binding to localhost on port 9001
    server = socketserver.TCPServer((HOST, PORT), podListener)

    # Activate the server; this will keep running until you
    # interrupt the program with Ctrl-C
    server.serve_forever() 
```

然后我运行它来启动它们：

```
if __name__ == "__main__":
    #get the database handle
    run_dbConnect()
    #run the map pod server
    run_podLauncher()
    #run the login server ### localhost 9000
    run_loginServer() 
```

当我单独注释掉线程但从不一起注释时，客户端分别连接到它们。任何帮助将不胜感激。

# ruby-on-rails - Rails 项目的持续集成工具

> ID：12242368
> 
> 赞同：1
> 
> 时间：2012-09-03T05:20:14.747
> 
> 标签：ruby-on-rails, continuous-integration

我们想为我们的`rails`项目使用持续构建集成工具。想知道是否有任何选项可以让我们在`cloud`环境或本地运行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:14:02.180

[Circle](https://circleci.com)是Rails （和其他 Web 应用程序）的[高级 CI 服务。](https://circleci.com)它在云中运行，您将在大约 20 秒内获得您的第一个测试结果。

[Joel 和我在Stackoverflow 播客](https://blog.stackoverflow.com/2011/10/se-podcast-22/)上聊了一会儿——[看看吧](https://blog.stackoverflow.com/2011/10/se-podcast-22/)！

# iphone - Chartboost 3.0.4 版

> ID：12242369
> 
> 赞同：3
> 
> 时间：2012-09-03T05:20:26.173
> 
> 标签：iphone, ios, xcode4.3, ios5.1

我正在与`chartboost sdk version 3.0.4`. 它确实在我的应用程序中成功加载。但问题是它需要`too much time to load`. 此外，它不加载装载机指示器。是否有任何解决方案可以从这种用户友好的方法中得出？

提前谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T12:58:13.507

找了这么久。最后我从[这里](https://stackoverflow.com/a/11413000/1538079)得到了提示。

任何其他合适的答案仍然值得赞赏。

谢谢你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T12:57:47.000

您不应该让您的用户等待插页式广告显示。一种方法是使用[Chartboost 缓存功能](https://help.chartboost.com/documentation/ios/caching)在您需要插页式广告之前获取它。

例如，您可以`[cb cacheInterstitial];`在您的应用程序第一次启动时调用，然后当您稍后调用它时，`[cb showInterstitial];`它应该立即发生。（文档还描述了如何在第一次显示插页式广告后重新缓存它。）

# vb.net - VB 2008 在 ListBox 中显示数据然后将数据传输到另一个 ListBox

> ID：12242371
> 
> 赞同：1
> 
> 时间：2012-09-03T05:20:36.447
> 
> 标签：vb.net

在 VB 2008 中，我创建了 2 个列表框。第一个列表框是将数据库中的所有数据加载到特定行中，另一个列表框是当我双击第一个列表框上的数据/项时，需要将特定数据/项传输到第二个列表盒子。

我设法传输数据，但它给出的输出是错误的。它给出的输出不是给定数据/项目的实际名称，而是`System.Data.DataRowView`. 我尝试使用`.ToString()`但没有任何反应。我对数据适配器连接使用了拖放方法，我使用的数据库是 MySQL。我使用列表框 1 上的“使用数据绑定项”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:29:06.583

你应该这样做，

```
Private Sub ListBox1_DoubleClick(sender As Object, e As EventArgs) _
                                Handles ListBox1.DoubleClick
    ' checks if the item is empty
    If ListBox1.SelectedItem.ToString.Length <> 0 Then
        ' adds on listbox 2
        ListBox2.Items.Add(ListBox1.Text)
    End If

End Sub 
```

看到这个，

![在此处输入图像描述](../Images/9ab4e5074d76498086642e013bfd02bf.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T01:48:39.693

使用简单的代码，您可以使用它

> ```
> Private Sub ListBox1_SelectedIndexChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ListBox1.SelectedIndexChanged
>     ListBox2.Items.Add(ListBox1.SelectedItem)
> End Sub 
> ```

# android - 安卓中用于电子邮件、用户名和手机号码的正则表达式

> ID：12242379
> 
> 赞同：2
> 
> 时间：2012-09-03T05:21:54.067
> 
> 标签：android, regex

我想在我的 android 应用程序中使用正则表达式来验证某些字段。

### 用户名 ：

> `1`大写字母[AZ]，`2`数字[0-9]，`1`任何特殊字符，然后是小字符[az]，长度为`10`最大字符。

### 电子邮件地址 ：

> 最后必须包含@google.com

### 移动的 ：

> 必须是 +91 及之后的 10 位数字。

如何为所有三个字段形成我的正则表达式模式..？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-24T10:36:57.590

电子邮件 ID 的正则表达式：

**^[A-Za-z][A-Za-z0-9]*([._-]?[A-Za-z0-9]+) *@[A-Za-z]* .[A-Za- z]{0,3}?.[A-Za-z]{0,2}$**

接受值为：

*   hdf4.j8k@bfv.djf
*   ds.sd@c25v.fdv
*   dv_sdv@fvv
*   vdf-f@jn.fdv
*   jfk@mbf.khb.in

等

手机号正则表达式：

**^[7-9][0-9]{9}$**

非常适合印度手机号码。

固定电话号码的正则表达式：

**^[0-9]{3,5}-[2-9]{1}[0-9]{5,7}$**

用于带有地区代码的印度固定电话号码

如：022-58974658

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:29:53.940

例如，您可以找到密码、电子邮件等所需的正则表达式

> 对于用户名：
> 
> ^[a-z0-9_-]{3,15}$
> 
> ^ # 行首
> 
> [a-z0-9_-] # 匹配列表中的字符和符号，az, 0-9 , underscore , hyphen
> 
> {3,15} # 长度至少 3 个字符，最大长度 15
> 
> $ # 行尾

在：[http ://www.mkyong.com/regular-expressions/10-java-regular-expression-examples-you-should-know/](http://www.mkyong.com/regular-expressions/10-java-regular-expression-examples-you-should-know/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-07T13:58:02.470

移动的 ：

```
Must be +91 and after that 10 digit. 
```

**^[7-9][0-9]{9}$**仅对手机号码有用。但是对于国家代码，我们应该使用正则表达式，例如 **^[+(00)][0-9]{6,14}$** ..

就像是

*1)*

```
String phoneNumber = "+919900990000"
if(phoneNumber.matches("^[+(00)][0-9]{6,14}$")){
   //True 
```

*2)*

```
 String phoneNumber = "9900990000"
  if(phoneNumber.matches("^[+(00)][0-9]{6,14}$")){
   //False 
```

第一个是真的，因为它带有国家代码，但第二个是错误的，因为它没有附加任何国家代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T05:27:56.947

请参阅下面的电子邮件验证链接，您可以修改部分代码以进行用户名验证和电话号码验证。

[如何检查-edittexts-text-is-email-address-or-not](https://stackoverflow.com/questions/6119722/how-to-check-edittexts-text-is-email-address-or-not)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T05:35:35.323

```
public static boolean isEmailValid(String email) {
    boolean isValid = false;

    String expression = "^[\\w\\.-]+@([\\w\\-]+\\.)+[A-Z]{2,4}$";
    CharSequence inputStr = email;

    Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);
    Matcher matcher = pattern.matcher(inputStr);
    if (matcher.matches()) {
        isValid = true;
    }
    return isValid;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-19T10:54:27.763

您可以使用 Patterns 类来验证电子邮件、手机号码等因素。方法如下：

```
public static boolean isValidEmail(CharSequence target) {
    return (!TextUtils.isEmpty(target) && Patterns.EMAIL_ADDRESS.matcher(target).matches());
}

public static boolean isValidMobile(CharSequence target) {
    return (!TextUtils.isEmpty(target) && Patterns.PHONE.matcher(target).matches());
} 
```

希望它会帮助你。

# c# - 使这个 Readprocessmemory 代码更有效率

> ID：12242384
> 
> 赞同：5
> 
> 时间：2012-09-03T05:22:20.640
> 
> 标签：c#

**介绍**

目前我正在使用某人的类来读取内存中的字节（通过指针）。到目前为止我的代码运行良好，如果可能的话，我真的不想改变类的设置方式（因为它有效），但希望可以对类和我的代码进行一些小的调整以使其高效.

**我目前取得的成就：**

*   从内存中的指针地址开始，读取该地址的字节，将数据添加到数组中，将原始地址加 1，以便我们现在可以读取下一个地址（例如原始地址是 24004，一旦存储了字节，递增 1，下一个要读取的地址变为 24005）。

*   读取下一个地址 (24005) 处的字节，将其添加到同一数组中，将 1 添加到该地址（读取的下一个变为 24006）。

*   以此类推，迭代次数固定（大约 10,000 次）。

**问题：**

一个接一个地对 readprocessmemory 进行 10,000 次调用会导致系统在执行业务时延迟 20 秒。

**我希望可以实现的目标：**

仅执行 Readprocessmemory 一次，指定要读取的 10,000 个字节的数据（而不是一次只读取一个字节，进行 10,000 次迭代），以与我之前使用单个字节相同的格式将其保存到数组中（因此我知道数组 {0} (1) (2).. 等等。我现在只有数组 {0}，所以我想我需要一种有效的方法将这个非常大的数字分成 10,000 个数字（在另一个数组中） )) 每个地址存储的数据都是整数。因此对于 5 个地址：数组 {12345} 变为 {1}{2}{3}{4}{5}。例如，其中 1 2 3 4 或 5 也可以是 1 200 40 43 或 20。

所以理想情况下，如果我可以挥动我的新手魔杖，它会看起来像这样（下面的课程以及我到目前为止所拥有的）：

***迭代代码：***

```
 private void label1_Click(object sender, EventArgs e)
    {
        int[] valuesSeperated[200];
        List<byte> PreArray = new List<byte>();
        Process[] test = Process.GetProcessesByName("MyProcess"); //Get process handle 
        int baseAddress = test[0].MainModule.BaseAddress.ToInt32(); //Get base address
        byte ReadX  = MyClass.ReadPointerByte("MyProcess", BaseAddress, new int[] { 0xc, 0x0, 0x2 }); //call memory reading function (including memory offsets)
        PreArray.Add(ReadX);
                byte[] PreArrayToInt = PreArray.ToArray();
                int[] MYConvertedBytes = PreArray ToInt.Select(x => (int)x).ToArray();
                foreach (int i in MYConvertedBytes)
{
valuesSeperated // (don't really know what to do here, if the read was successful I would have a long number at [0], so now need to separate these as if I had read each one in memory one at a time. 
}

//new array with 10,000 values created.
    } 
```

***班级：***

```
[DllImport("kernel32", EntryPoint = "ReadProcessMemory")]
private static extern byte ReadProcessMemoryByte(int Handle, int Address, ref byte Value, int Size, ref int BytesRead);

public static byte ReadPointerByte(string EXENAME, int Pointer, int[] Offset)
{
    byte Value = 0;
    checked
    {
        try
        {
            Process[] Proc = Process.GetProcessesByName(EXENAME);
            if (Proc.Length != 0)
            {
                int Bytes = 0;
                int Handle = OpenProcess(PROCESS_ALL_ACCESS, 0, Proc[0].Id);
                if (Handle != 0)
                {
                    foreach (int i in Offset)
                    {
                        ReadProcessMemoryInteger((int)Handle, Pointer, ref Pointer, 4, ref Bytes);
                        Pointer += i;
                    }
                    ReadProcessMemoryByte((int)Handle, Pointer, ref Value, 2, ref Bytes);
                    CloseHandle(Handle);
                }
            }
        }
        catch
        { }
    }
    return Value;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T13:13:03.993

一些建议：

*   不要在“托管包装器”（ReadPointerByte 或其他...）中调用 OpenProcess / CloseHandle，您可以使用[Process.Handle](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.handle.aspx)属性。

*   为了避免与页面权限相关的可能错误，您可能需要使用[VirtualProtectEx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366899%28v=vs.85%29.aspx)包装对 ReadProcessMemory 的调用（一个用于“取消保护”，允许读取，另一个用于“恢复”先前的保护）。

一些代码：

```
// from http://www.pinvoke.net/default.aspx/kernel32.readprocessmemory
[DllImport("kernel32", EntryPoint = "ReadProcessMemory")]
private static extern bool ReadProcessMemory(IntPtr Handle, IntPtr Address, 
    [Out] byte[] Arr, int Size, out int BytesRead);

public static byte[] ReadBytes(IntPtr hnd, IntPtr Pointer, int Length)
{
    byte[] Arr = new byte[Length];
    int Bytes = 0;
    if(!ReadProcessMemory(hnd, Pointer, Arr, Length, out Bytes)){
        // Throw exception ...
    }
    // Check if Bytes == Length ...
    return Arr;
}

private void button1_Click(object sender, EventArgs e)
{
    //Get process handle
    Process[] test = Process.GetProcessesByName("notepad++");  

    //Get base address
    IntPtr baseAddress = test[0].MainModule.BaseAddress; 

    int bytesToRead = 16;
    int[] valuesSeparated = new int[bytesToRead / 4];
    byte[] ret = ReadBytes(test[0].Handle, baseAddress, bytesToRead);

    // Interpret ret as you like ...

    // Convert ret to int[]
    valuesSeparated = ....

} 
```

[**迭代过程**]

您在这里有两个选择：

1.  获取目标进程内存的完整快照到一个字节[]，并在这个数组中执行你的算法
2.  您可以为每次迭代执行一个 readprocessmemory。我相信这是你最好的选择。

无论目标进程内存读取技术如何，您的算法都是这样的（我很难将您的文本翻译成实现......）：

**输入：**进程的BaseAddress，偏移量

**输出：** byte[] Ret

**脚步：**

```
1: LastPtr = BaseAddress
2: IdxOffset = 0
3: Offset = Offsets[IdxOffset]
4: LastValue = Memory[LastPtr + Offset]
5: Ret.Add(LastValue)
6: IdxOffset++
7: LastPtr = LastValue // Is this it?????
8: If IdxOffset < Offsets.Length then return else goto 3 
```

# html - 我的网站设计在缩小时变得一团糟，我该如何解决这个问题？

> ID：12242397
> 
> 赞同：0
> 
> 时间：2012-09-03T05:24:51.373
> 
> 标签：html, css, positioning, center

我一直在弄乱我的几个网页，因为当网页缩小或放大时它们完全搞砸了。我尝试过`<center>`将`<div align:"center">`网页居中，但它似乎不起作用。引起悲伤的网页是：

[http://officialnewvintage.com/photos.html](http://officialnewvintage.com/photos.html)

[http://officialnewvintage.com/joel.html](http://officialnewvintage.com/joel.html)

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:30:45.023

There are two techniques I usually do, first is to let it reflow: [http://jsfiddle.net/PALur/](http://jsfiddle.net/PALur/) and second is to maintain a fixed width and the number of columns: [http://jsfiddle.net/Qg8XQ/2/](http://jsfiddle.net/Qg8XQ/2/) (*edit: corrected the formula to calculate width*)

Note that you need to modify the HTML, your way of dividing into columns would not work right that way.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:28:18.110

您需要使用包装类包装内容，因为`<center>`标签和`align`属性`div`现在无效。:)。对于您的问题，我建议您在`body`.

```
<body>
    <div class="wrap">
    ...
    ...
    </div>
</body> 
```

在 CSS 中，请给出一个固定的宽度。

```
.wrap {width: 960px; margin: 0 auto;} 
```

的宽度`960px`最适合所有浏览器，因为它默认由`1024px`和`1280px`宽度使用。

如果您有需要流过的内容，例如页眉和页脚的背景，那么在这种情况下，您只需在元素内部添加包装器，它承载背景。例如，如果有`<div class="header">...</div>`一个背景，它流动，你可以使用这种方式：

```
<body>
    <div class="header">
        <div class="wrap">
        ...
        ...
        </div>
    </div>
</body> 
```

如果您不明白任何部分，请告诉我。:)

### 在您的网站上进行编辑：

1.  替换第 43 - 44 行：

    `#joel`
    `margin-top: 200px`

    和

    `#joel {`
    `margin-top: 200px;`
    `}`

2.  第 86 行：删除`</p>`.

让我知道这些修复后的输出是什么。

# c++ - 将库链接到 atmel studio 6 C++ 项目

> ID：12242398
> 
> 赞同：1
> 
> 时间：2012-09-03T05:24:53.073
> 
> 标签：c++, static-libraries, atmel

好的，我正在制作一个 CEENBot 程序，但现在这几乎无关紧要。我已经包含了我需要的头文件，并且我认为我已经链接到了使用头文件中的函数所需的静态库（通过链接器标志）。但是，显然，我错了，因为当我尝试使用其中一些函数时，链接器说它们是未定义的。这些函数是用外部声明的，所以它们显然必须来自静态库，而我没有正确引用该库。我正在使用 Atmel Studio 6，所以有人肯定知道您如何链接到 Atmel Studio 中的静态库吗？提前感谢您的帮助。

# django - django 项目的持续集成工具

> ID：12242403
> 
> 赞同：2
> 
> 时间：2012-09-03T05:25:46.457
> 
> 标签：django, continuous-integration

我们想为我们的`django`项目使用持续集成工具。想知道是否有任何选项可以让我们在`cloud`环境或本地运行它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-29T16:55:47.253

我相信您一定已经开始使用其中一个工具，尽管您可以配置[django-jenkins](https://github.com/kmmbvnr/django-jenkins)来进行持续集成。

以下是配置步骤[文档](https://sites.google.com/site/kmmbvnr/home/django-jenkins-tutorial)。希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:31:07.977

您可以将 husdon 用于 CI

[http://www.caktusgroup.com/blog/2010/03/08/django-and-hudson-ci-day-1/](http://www.caktusgroup.com/blog/2010/03/08/django-and-hudson-ci-day-1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-16T09:52:25.213

最近我发现了这个[http://travisci.com/](http://travisci.com/)，但在我看来，每月 129 美元的最低计划太多了。

# java - 每当我们给出重复元素时如何从列表中删除多个重复项

> ID：12242406
> 
> 赞同：-4
> 
> 时间：2012-09-03T05:26:15.523
> 
> 标签：java

> **可能重复：**
> [如何从 ArrayList 中删除重复的元素？](https://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist)

我在这些元素中有一个列表，例如

```
[10,11,12,10,12,13,10,12,11,11]. 
```

要求是当我们输入一个重复值时，删除剩余的重复值。例如：如果我们删除 10，然后自动删除两个十。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:32:45.730

尝试使用[`List.removeAll`](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#removeAll%28java.util.Collection%29)与[`Collections.singleton`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singleton%28T%29).

```
final List<Integer> list
    = new LinkedList<Integer>(Arrays.asList(10, 11, 12, 10, 12,
          13, 10, 12, 11, 11));
list.removeAll(Collections.singleton(10));
assert list.equals(Arrays.asList(11, 12, 12, 13, 12, 11, 11)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:27:59.707

您可以将`removeAll()`列表方法用作：

```
List<Integer> tempList = new ArrayList<Integer>();
tempList.add(10);
list.removeAll(tempList); 
```

或者您可以`Collections.singleton()`用作：

```
list.removeAll(Collections.singleton(10)); 
```

# javascript - 获取jqgrid中的单元格值

> ID：12242409
> 
> 赞同：0
> 
> 时间：2012-09-03T05:26:35.310
> 
> 标签：javascript, jquery, ajax, jqgrid, jqgrid-asp.net

如何使用 java 脚本获取特定的**jqgrid**单元格值？例如，jqgrid 有四列，如 id、name、subject1、subject2。现在我单击特定行，我需要获取 id。如何实现这一点？我使用jqgrid 中的 onSelectRow 我得到了解决方案，但我需要获取 javascript？

我使用 Jqgrid onSelectRow

```
 onSelectRow: function(id){
                  var rowData = jQuery(this).getRowData(id); 
                  var temp= rowData['name'];
                  alert(temp);
                  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-03T16:30:43.433

正如示例中的[@ClydeFlog](https://stackoverflow.com/users/1173390/clydefrog)所示，试试这个：

```
var Id = jQuery('#gridName').jqGrid('getGridParam','selrow'); 
```

在控制台中查看以下结果：

[![在此处输入图像描述](../Images/974e2908eba555e6d845548d86a3c2b9.png)](https://i.stack.imgur.com/9zuCA.png)

[“获取选定行”按钮上的页面示例单击](http://www.trirand.com/blog/phpjqgrid/examples/selection/selectedrow_client/default.php)。

# vb.net - ORA-03113: 数据库重新启动时 VB 应用程序中通信通道上的文件结尾

> ID：12242414
> 
> 赞同：0
> 
> 时间：2012-09-03T05:27:15.967
> 
> 标签：vb.net, oracle, database-connection

我使用 VB 制作了一个 Windows 服务，它监听来自表的特定数据的传入请求并向客户端提供数据。该应用程序运行良好；但是，晚上我们会断开数据库一段时间以进行备份。然后数据库再次启动。但是，不会重新启动 Windows 服务。第二天，当任何客户请求数据时，我收到 ORA-03113；通信通道上的文件结束 此行发生的异常

```
connection.Execute("my query goes here") 
```

我什至尝试在收到客户的任何数据请求后立即进行如下检查。

```
If connection.State = ConnectionState.Closed Then
       connection.Open()
End If 
```

谁能在这里指导我我到底做错了什么。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T09:13:12.823

数据库通信（恕我直言）的最佳方法是这种方法。

1.  创建连接

2.  连接

3.  创建命令

4.  执行查询

5.  处置命令

6.  处置连接

这似乎是一个很大的开销，并且是为每个查询创建连接的性能杀手。但是，大多数 .NET 数据提供者都支持池化，因此基本上打开的连接仍然存在并且有效，并且将在下次请求时被回收。

这种方法比执行 a要好得多，`connection.State`因为您不能 100% 依赖它，并且比`TnsPing`为每个查询执行 a 更快。

oracle 的连接池：http: [//msdn.microsoft.com/en-us/library/aa719767 (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/aa719767(v=vs.71).aspx)

示例代码：

```
Public Static Readonly ConnectionString = "Data Source=MyOracleServer;Integrated Security=yes;"
Public Shared Function ExecuteScalar(of T)(string commandString)

    Using con As new OracleConnection(connectionString)

       con.Open()

       Using cmd As new OracleCommand(con, commandString)

           Return CType(cmd.ExecuteScalar(), T)

       End Using

    End Using ' this one will call con.Dispose() which will close the connection

End Function 
```

使用这个简单的代码，您将拥有一种无连接的方法，就像您使用与您的数据库通信的网站一样。您所需要的只是巧妙的异常处理（这对服务应用程序来说应该不难。只需使用全局异常处理程序，将异常转储到事件日志并稍后重试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T09:01:24.650

尝试将 TNSPING 合并到您的 VB.net 代码中。似乎有一些关于如何在互联网上执行此操作的指示。基本上，使用 vb.net 运行脚本文件并解释文件的重定向输出。

# python - 导入后更改模块变量

> ID：12242417
> 
> 赞同：0
> 
> 时间：2012-09-03T05:27:56.540
> 
> 标签：python, python-2.7, import, circular-reference

所以pyton大师！我刚刚发现了一个我不理解的惊人现象。问题可以最好地显示为代码：

```
#== kid.py ==#
import dad

def spam ():
    dad.spam()

#== dad.py ==#
import kid

x = 1
print "body", x

x = 2
def spam ():
    print "spam", x

if __name__ == '__main__':
    x = 3
    spam()
    kid.spam()
    print "main", x 
```

我正在使用 Python 2.7.3。你能猜出 的输出`python dad.py`吗？答案是（我希望 SO 有一个扰流底纹标签）`body 1 body 1 spam 3 spam 2 main 3`。那你能解释一下吗

1.  为什么要`body 1`打印两次？
2.  怎么可能`dad.x != kid.dad.x`？
3.  如果我真的需要让两个模块相互导入，我该如何修改它才能`kid.dad.x`正确更新？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:31:15.050

1.  因为将 dad.py 作为模块加载与将`__main__`dad.py 作为模块导入是独立的`dad`。
2.  请参阅我对 1 的回答。
3.  `__main__`如果*必须*，请改为导入. 但总的来说，*不要尝试这个*。寻找另一种方式来完成您的任务（例如课程）。

`__name__`在 dad.py 的顶部打印将说明这一点。

# linux - 如何实现 2 个节点之间并发文件访问的共享存储（Linux）

> ID：12242427
> 
> 赞同：1
> 
> 时间：2012-09-03T05:29:28.553
> 
> 标签：linux, storage, ext3

我需要设计一个在 2 个节点上运行单独实例的集群应用程序。这些节点都是在 VMware 上运行的 Linux VM。两个应用程序实例都需要访问一个数据库和一组文件。

我的意图是共享存储磁盘（两个节点外部）应该包含数据库和文件。应用程序将协调（通过类似 RPC 的机制）以确定哪个实例是主实例，哪个是从属实例。主服务器将具有对共享存储磁盘的写访问权限，而从服务器将具有只读访问权限。

我在确定共享存储设备的文件系统时遇到问题，因为它需要支持跨 2 个节点的并发访问。由于成本原因，选择专有的集群文件系统（如 GFS）不是一个可行的选择。有什么方法可以通过其他方式在 Linux (EXT3) 中完成？

期望的行为如下：

*   实例 A 写入共享磁盘上的文件 foo
*   实例 B 可以立即读取 A 写入文件 foo 的任何内容。

我也尝试过使用[SCSI PGR3](http://linux.die.net/man/8/sg_persist)，但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:34:50.520

问：两个 VM 是否位于同一物理主机上？

如果是这样，为什么不使用 VMWare 共享文件夹？

否则，如果两者都位于同一个 LAN 上，那么好的旧 NFS 呢？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T12:06:48.827

您打算从头开始编写应用程序吗？如果是这样，您可以考虑使用[Zookeeper](http://zookeeper.apache.org/)进行主从之间的协调。这会将协调逻辑完全放入应用程序代码中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-31T19:38:52.193

GPFS 本质上是一个集群文件系统。

您设置服务器以查看相同的 lun，在 lun 上构建 GPFS 文件系统并在机器上安装 GPFS 文件系统。

如果您熟悉 NFS，它看起来像 NFS，但它是 GPFS，本质上是一个集群文件系统。

如果您的其中一台 GPFS 服务器出现故障，如果您正确定义了您的环境，那么没有人更聪明，事情会继续运行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:15:40.203

尝试使用 heartbeat+pacemaker，它有几个内置选项来监控集群。也应该有一些东西可以寻找数据

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T06:35:29.890

您可能会使用“drbd+(heartbeat|pacemaker)”查看主动/被动设置..

drbd 为您提供超过 2 个节点的分布式块设备，您可以在其中部署 ext3-fs ontop ..

heartbeat|pacemaker 为您提供了一个解决方案来处理哪个节点是主动和被动的以及一些监控/修复功能..

如果您也需要在“被动”节点上进行读取访问，请尝试在节点上也配置 NAS，被动节点可能会在其中挂载它，例如 nfs|cifs ..

在网络附加存储上处理像 pgsq|mysql 这样的数据库可能不起作用..

# php - 显示实际名称而不是 uid

> ID：12242432
> 
> 赞同：0
> 
> 时间：2012-09-03T05:30:00.753
> 
> 标签：php, facebook, codeigniter, facebook-graph-api, facebook-fql

我当前的查询显示了指定时间在我的墙上发布的一些消息。

```
$fql = "SELECT post_id, actor_id, target_id, message FROM " .
        "stream WHERE filter_key = 'others' AND created_time > 1346277600 LIMIT 50"; 
```

问题是，它只显示 uid 而不是在我的墙上发布消息的人的实际姓名。

编辑：我现在使用多查询

```
$fql = "{" .
    "\"user_stream\" : \"SELECT post_id, actor_id, target_id, message FROM stream WHERE " .
    " filter_key = 'others' AND created_time > 1346277600 LIMIT 50 \"" .
    "\"actor_info\" : \"SELECT uid, name FROM user " .
    " WHERE uid IN (SELECT actor_id, target_id FROM #user_stream)\"" .
"}";

$data['msgs'] = $this->facebook->api(array(
   'method' => 'fql.multiquery',
   'queries' => $fql,
   'access_token'=>$facebook['access_token']
)); 
```

现在我得到一个空数组，但在我的正常查询中我得到 29

```
$fql = "SELECT post_id, actor_id, target_id, message FROM " .
      "stream WHERE filter_key = 'others' AND created_time > 1346277600 LIMIT 50" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:56:11.880

使用 Facebook 多查询。

它将减少对 Facebook API 的更多调用。您必须处理结果以获得所需的输出。

```
$multiQuery = array(
         "query1" => "SELECT actor_id, message FROM stream WHERE filter_key = 'others' AND created_time > 1346277600 LIMIT 50",
         "query2" => "SELECT uid,first_name, last_name FROM user WHERE uid in (SELECT actor_id FROM #query1)",
         "query3" => "SELECT page_id,name FROM page WHERE page_id in (SELECT actor_id FROM #query1)",
         );

$param = array(       
     'method' => 'fql.multiquery',       
     'queries' => $multiQuery,       
     'callback' => '');       
$queryresults = $facebook->api($param);

$result = array();

foreach($queryresults[0]['fql_result_set'] as $message){
    $message_ = $message;
    $actor_ = 'page';
    foreach($queryresults[1]['fql_result_set'] as $actor){
        if($actor['uid'] == $message['actor_id']){
            $actor_ = $actor;
            break;
        }
    }
    if($actor_ == 'page'){
        foreach($queryresults[2]['fql_result_set'] as $actor){
        if($actor['page_id'] == $message['actor_id']){
            $actor_ = $actor;
            break;
        }
    }
    }
    $result[] = array('message'=>$message_,'actor'=>$actor_);
}
print_r($result); 
```

可能是我的结果处理可能没有优化或最好，你可以做得更好:)。

由于某些演员可能是 Facebook 页面，因此我使用“query3”来获取页面详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:49:05.267

因为这可以使用 JOIN 但 FQL 不支持连接：

> FQL FROM 子句只包含一个表。您可以在 SELECT 或 WHERE 子句中使用 IN 关键字进行子查询，但子查询不能引用外部查询范围内的变量。

所以你可以先检索uid，然后检索first_name和last_name。

```
SELECT post_id, actor_id, target_id, message FROM stream WHERE 
filter_key = 'others' AND created_time > 1346277600 LIMIT 50 
```

然后用这个，

```
SELECT name FROM user WHERE uid in ($row[actor_id], $row[target_id]) 
```

# django - 验证问题

> ID：12242433
> 
> 赞同：0
> 
> 时间：2012-09-03T05:30:04.790
> 
> 标签：django, django-forms, django-views

我有一些验证问题。当我提交表单时，**form.is_valid():** 总是返回**false**。修改表单后，即从表单中删除所有验证后，它仍然返回false（我的表单未提交）

html的代码

```
{% extends "base.html" %}
{% block extrahead %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js" type="text/javascript"></script>
    <script>
    $(function() {
        $( "#id_birthday" ).datepicker();
    });
    </script>
{% endblock %}
{% block content %}
<form action="" method="post">
{% csrf_token %}

<div class="register_div">

    <p><label for="username">Username:</label></p>

    <p>{{ form.username }}</p>
</div>
<div class="register_div">

    <p><label for="email">Email:</label></p>
    <p>{{ form.email }}</p>
</div>
<div class="register_div">

    <p><label for="password">Password:</label></p>
    <p>{{ form.password }}</p>
</div>
<div class="register_div">

    <p><label for="password1">Verify Password:</label></p>
    <p>{{ form.password1 }}</p>
</div>
<div class="register_div">

    <p><label for="birthday">Birthday:</label></p>
    <p>{{ form.birthday }}</p>
</div>
<div class="register_div">
    <p><label for="name">Name:</label></p>
    <p>{{ form.username }}</p>
</div>
<p><input type="submit" value="submit" alt="register"/></p>
</form>
{% endblock %} 
```

forms.py 的代码

```
from django import forms
from django.contrib.auth.models import User
from django.forms import ModelForm
from drinker.models import Drinker

class RegistrationForm(ModelForm):
       username   = forms.CharField(label=(u'User Name'))
       email      = forms.EmailField(label=(u'Email Address'))
       password   = forms.CharField(label=(u'Password'), widget=forms.PasswordInput(render_value=False))
       password1   = forms.CharField(label=(u'Verify Password'), widget=forms.PasswordInput(render_value=False))

       class Meta:
              model=Drinker
              exclude=('user',)

       def clean_username(self):
                username=self.cleaned_data['username']
                try:
                      User.objects.get(username=username)
                except User.DoesNotExist:
                      return username
                raise forms.ValidationError("The Username is already taken, please try another.")
       def clean_password(self):
                password=self.cleaned_data['password']
                password1=self.cleaned_data['password1']
                if password1 != password:
                    raise forms.ValidationError("The Password did not match, please try again.")
                return password

class LoginForm(forms.Form):
      username  = forms.CharField(label=(u'User Name'))
      password  = forms.CharField(label=(u'Password'), widget=forms.PasswordInput(render_value=False)) 
```

和views.py的代码

```
def DrinkerRegistration(request):
    if request.user.is_authenticated():
         return HttpResponseRedirect('/profile/')
    if request.method == 'POST':
         form = RegistrationForm(request.POST)
         #return render_to_response('register')
         if form.is_valid():
                  user=User.objects.create_user(username=form.cleaned_data['username'], email=form.cleaned_data['email'], password = form.cleaned_data['password'])

                  user.save()
 #                 drinker=user.get_profile()
  #                drinker.name=form.cleaned_data['name']
   #               drinker.birthday=form.cleaned_data['birthday']
    #              drinker.save()
                  drinker=Drinker(user=user,name=form.cleaned_data['name'],birthday=form.cleaned_data['birthday'])  
                  drinker.save()    
                  return HttpResponseRedirect('/profile/')
         else:
                  return render_to_response('register.html',{'form':form} , context_instance=RequestContext(request))  
    else:
         ''' user is not submitting the form, show them a blank registration form '''

         form = RegistrationForm()
         context={'form':form}
         return render_to_response('register.html',context , context_instance=RequestContext(request)) 
```

型号代码

```
from django.db import models
from django.contrib.auth.models import User
from django.db.models.signals import post_save
class Drinker(models.Model):
       user     =models.OneToOneField(User)
       birthday =models.DateField()
       name     =models.CharField(max_length=100)

       def __unicode__(self):
             return self.name

#create our user object to attach to our drinker object

def create_drinker_user_callback(sender, instance, **kwargs):
      drinker, new=Drinker.objects.get_or_create(user=instance)
post_save.connect(create_drinker_user_callback, User) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T09:52:21.950

您是否在验证时检查了错误报告？

使用`print form.errors`并检查您的控制台是否有错误消息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T16:53:52.143

如果您的代码更改未反映在运行环境中，请查看删除您的 *.pyc 文件。这些有时会被缓存。

对于 linux 操作系统，您可以从项目的根目录运行以下命令；

```
find . -iname "*.pyc" -exec rm -f {} \; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:38:06.653

我可以看到两个可能的原因：

1.  您的模板包含两种用法`username`：一次在顶部，一次在底部。该表单可能会失败，因为它不适合单个`CharField`.
2.  没有你的模型类很难说，但也许它包含你没有明确排除的字段？

如果不是选项1，您也可以发布您的`Drinker`模型吗？

# android - 如何禁用包含类似 facebook 按钮的 webview 的滚动

> ID：12242435
> 
> 赞同：0
> 
> 时间：2012-09-03T05:30:18.030
> 
> 标签：android, scroll, facebook-like, android-webview

我试图在我的 android 应用程序中实现类似 facebook 的按钮。我正在使用宽度和高度有限的 webview 来显示类似按钮并禁用其滚动。我只想显示类似按钮。

这是我在 xml 中的 WebView

```
<WebView
        android:id="@+id/webView2"
        android:layout_width="45dp"
        android:layout_height="25dp"
        android:layout_margin="10dip"
        android:scrollbars="none" /> 
```

我喜欢的按钮是

```
private String getFacebookLikeUrl() {
        return "http://www.facebook.com/plugins/like.php?"
                + "href="
                + URLEncoder
                        .encode("http://www.facebook.com/otcmeds")
                + "&layout=standard" + "&show_faces=false" + "&width=50"
                + "&action=like" + "&colorscheme=light" + "&font=arial"
                + "&access_token=" + URLEncoder.encode(accessToken);
} 
```

使用以下代码禁用 webview 的滚动

```
 webView.setVerticalScrollBarEnabled(false);
        webView.setHorizontalScrollBarEnabled(false);

        webView.setOnTouchListener(new View.OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {

                return (event.getAction() == MotionEvent.ACTION_MOVE);
            }
        }); 
```

现在我的问题是，当多次单击like button**时，它会向左滚动并隐藏like button 的某些部分**。我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:12:08.293

在 WebView 中多次点击时，听起来您可能会放大。尝试设置`WebSettings.setSupportZoom`为 false ，看看是否可以解决您的问题。 [文档在这里](http://developer.android.com/reference/android/webkit/WebSettings.html)。

# javascript - JavaScript 中的构造究竟是什么？

> ID：12242437
> 
> 赞同：6
> 
> 时间：2012-09-03T05:30:28.033
> 
> 标签：javascript, anonymous-function, execution, language-construct

在我学习 JavaScript 的过程中，我一直在网上浏览，看到了许多对Javascript**结构**的引用，但我似乎无法找到它们是什么和不是什么的完整定义，尤其是在 Javascript 的上下文中。

例如，在“类似问题”中，我看到链接指向具有以下代码的示例：

在[javascript 中的这个构造是什么？](https://stackoverflow.com/questions/8228281/what-is-this-construct-in-javascript)：

```
(function () {

})(); 
```

据我了解，这是一个构造，但它们是由什么定义的？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-03T05:36:42.143

构造是一个通用术语，指的是特定形式的任意代码集合。它不是特定于 javascript 的术语。

基本上，它可以适用于任何事情。因此，虽然您引用的代码是一种称为自调用匿名函数`var x = "hello world";`的构造，但它是一种称为变量声明和赋值的构造。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-03-01T19:22:35.430

“*[语言结构](https://en.wikipedia.org/wiki/Language_construct)**”*是您正在寻找的完整术语*。*根据链接定义：

> 语言结构是程序的语法上允许的部分，它可以根据编程语言的规则由一个或多个词法标记组成。

因此，它是遵循语言规则的任何有效的书面代码段。它是“表达式”、“语句”、“函数参数列表”、“赋值语句”、“关键字”、“函数定义”等词的概括，每个词都定义了一系列要查找的标记以及它们将要查找的内容在语言规则中的意思。一个完整程序的代码是用它们*构建*的。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-01-19T19:29:45.790

来自Deborah 和 Eric Ray的[MASTERING HTML4](https://rads.stackoverflow.com/amzn/click/com/0782125247)中的脚本参考：

> 构造是可以在 JavaScript 中用于控制脚本流的结构

他们继续按字母顺序列出所有这样的控件，包括 Break、Comment、If、If else.... 因此，**构造**是 JavaScript 中一个非常具体的术语定义，用于命名和包含所有控制脚本的流程。

# linux - 如何通用 .htaccess 以防止热链接

> ID：12242438
> 
> 赞同：1
> 
> 时间：2012-09-03T05:30:33.947
> 
> 标签：linux, apache, .htaccess, mod-rewrite, hotlinking

以下代码工作正常：

```
RewriteCond %{HTTP_REFERER} !^http://superwebx.com/.*$ [NC]
RewriteRule .*\.(jpe?g|gif|bmp|png|swf|css)$ - [F] 
```

但我想为我管理的几个网站制作一个通用脚本，但尝试获取失败

```
RewriteCond %{HTTP_REFERER} !^http://%{HTTP_HOST}/.*$ [NC]
RewriteRule .*\.(jpe?g|gif|bmp|png|swf|css)$ - [F] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T11:58:55.860

您不能在正则表达式中使用变量。您可以通过使用 RegEx 反向引用来解决此问题，如下所示：

```
RewriteCond %{HTTP_REFERER} ^https?://([^/]+)/ [NC]
RewriteCond %1#%{HTTP_HOST} !^(.+)#\1$
RewriteRule \.(jpe?g|gif|bmp|png|swf|css)$ - [F] 
```

（注意`#`只是用作边界。它可以是任何未在域名中使用的字符。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-24T19:21:57.453

很老的一个，但这是你的答案：

```
RewriteCond %{HTTP_HOST}@@%{HTTP_REFERER} !^([^@]*)@@https?://\1/.* 
```

# vb.net - if语句中的VB.NET逻辑顺序

> ID：12242442
> 
> 赞同：0
> 
> 时间：2012-09-03T05:31:08.537
> 
> 标签：vb.net, if-statement, logic

我是 VB.NET 的新手，但对于 C、C++、C# 和其他语言，我有几年的经验。这个问题对我来说很奇怪，因为我以前从未遇到过。

我有这行代码：

```
If obj is Nothing Or obj.IsDisposed Then
'do some stuffs
End If 
```

这行代码会在 obj 为 Nothing 时显示错误，因为 obj.IsDisposed 不存在（没有句柄）。据我所知，Or 的第一个语句返回 True，因此 If 语句的结果无论如何都是 True。

谁能给我一个指示如何摆脱这个（或者我必须写 If..Then..Else If..End If）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:34:58.263

尝试 OrElse，当“obj is Nothing”为真时，不会评估 obj.Disposed

```
If obj is Nothing OrElse obj.IsDisposed Then
'do some stuffs
End If 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:39:32.867

您可以使用[OrElse 运算符](http://msdn.microsoft.com/en-us/library/ea1sssb2)，如果第一个为真，它将绕过第二个评估。

从上面的链接：

> 如果编译的代码可以根据另一个表达式的结果绕过一个表达式的求值，则称逻辑操作为短路。如果第一个表达式求值的结果决定了运算的最终结果，则不需要对第二个表达式求值，因为它不能改变最终结果。如果绕过的表达式很复杂，或者涉及过程调用，短路可以提高性能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:42:25.210

`OrElse`是你需要的。它只会评估第一次评估，只要它已经`true`

```
If obj is Nothing OrElse obj.IsDisposed Then
    'do some stuffs
End If 
```

# iphone - 如何在 iPhone 上的 OpenGL ES 2.0 中混合具有不同坐标的两个纹理？

> ID：12242443
> 
> 赞同：9
> 
> 时间：2012-09-03T05:31:13.317
> 
> 标签：iphone, ios, opengl-es, opengl-es-2.0, textures

当两个纹理覆盖相同的矩形时，我可以在片段着色器中混合具有不同混合模式的两个纹理。但现在我的问题是，一个纹理是一个没有旋转的普通矩形，另一个纹理是另一个具有旋转/缩放和平移的矩形。如何以我想要的方式合并这些纹理？（在图片里）

我知道该怎么做...

![在此处输入图像描述](../Images/3fb6fc08b069938a5e34b16948e4bde5.png)

但不知道如何做到这一点......

![在此处输入图像描述](../Images/472b99b759c6f455347f53307a73dd01.png)

为了在一个矩形（第一张图像）中混合纹理，我使用了以下代码..

目标C代码...

```
- (void) display {
    [EAGLContext setCurrentContext:context];

    glBindFramebuffer(GL_FRAMEBUFFER, targetFBO);

    glUseProgram(program);

    glActiveTexture(GL_TEXTURE2);
    glBindTexture(GL_TEXTURE_2D, textureTop);

    glActiveTexture(GL_TEXTURE3);
    glBindTexture(GL_TEXTURE_2D, textureBot);

    glUniform1i(inputTextureTop, 2);
    glUniform1i(inputTextureBot, 3);

    glUniform1f(alphaTop, alpha);

    glEnable (GL_BLEND);
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);

    glVertexAttribPointer(position, 2, GL_FLOAT, 0, 0, imageVertices);
    glVertexAttribPointer(inputTextureCoordinate, 2, GL_FLOAT, 0, 0, textureCoordinates);

    glClearColor(0.0, 0.0, 0.0, 0.0);
    glClear(GL_COLOR_BUFFER_BIT);

    glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);

    glBindRenderbuffer(GL_RENDERBUFFER, viewRenderbuffer);
    [context presentRenderbuffer:GL_RENDERBUFFER];
} 
```

顶点着色器...

```
 attribute vec4 position;
 attribute vec4 inputTextureCoordinate;

 varying vec2 textureCoordinate;

 void main()
 {
    gl_Position = position;
    textureCoordinate = inputTextureCoordinate.xy;
 } 
```

片段着色器...

```
varying highp vec2 textureCoordinate;

uniform sampler2D inputTextureTop;
uniform sampler2D inputTextureBot;

uniform highp float alphaTop;

void main()
{
    lowp vec4 pixelTop = texture2D(inputTextureTop, textureCoordinate);
    lowp vec4 pixelBot = texture2D(inputTextureBot, textureCoordinate);

    gl_FragColor = someBlendOperation(pixelTop, pixelBot);
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-03T08:56:04.187

您必须将 2 个纹理坐标传递给着色器并修改着色器

添加到ObjectiveC

```
glVertexAttribPointer(inputTextureCoordinate2, 2, GL_FLOAT, 0, 0, textureCoordinates2); 
```

顶点着色器

```
attribute vec4 position;
attribute vec4 inputTextureCoordinate;
attribute vec4 inputTextureCoordinate2;

varying vec2 textureCoordinate;
varying vec2 textureCoordinate2;

void main()
{
    gl_Position = position;
    textureCoordinate = inputTextureCoordinate.xy;
    textureCoordinate2 = inputTextureCoordinate2.xy;
} 
```

片段着色器

```
varying highp vec2 textureCoordinate;
varying highp vec2 textureCoordinate2;

uniform sampler2D inputTextureTop;
uniform sampler2D inputTextureBot;

uniform highp float alphaTop;

void main()
{
    lowp vec4 pixelTop = texture2D(inputTextureTop, textureCoordinate);
    lowp vec4 pixelBot = texture2D(inputTextureBot, textureCoordinate2);

    gl_FragColor = someBlendOperation(pixelTop, pixelBot);
} 
```

顺便说一句 inputTextureCoordinate 不一定是 vec4 但它可以是 vec2

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-03T06:24:02.730

如果您在同一个图元上混合两个纹理，则可以在着色器中混合颜色。

但是，如果您想混合两个不同的基元，那么您真正只想使用的是硬件混合 (GL_BLEND)。

自己绘制底部图片，然后启用混合并绘制顶部图片。顶部图片的 alpha 值控制它的透明度。

您真的不想尝试在同一个绘制调用中绘制两个四边形，因为它们不使用相同的坐标。

# javascript - jQuery在主页上不起作用

> ID：12242446
> 
> 赞同：-8
> 
> 时间：2012-09-03T05:31:17.137
> 
> 标签：javascript, jquery, html

这真的很奇怪。如果我访问我的网站 www.example.com，jQuery 将无法在我的索引文件/主页上运行。但是，如果我输入 www.example.com/index.html jQuery 加载就好了。任何想法发生了什么或如何解决这个问题？

[http://www.japaneselanguagefriend.com](http://www.japaneselanguagefriend.com)

[http://www.japaneselanguagefriend.com/index.html](http://www.japaneselanguagefriend.com/index.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:51:11.470

[http://www.japaneselanguagefriend.com/](http://www.japaneselanguagefriend.com/)

某些标签不存在，例如：`<body>`标签

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <title>Japanese Language Friend - An Artistic Approach to Learning Japanese! </title>
  <META name="description" content="Learn Japanese by stimulating artwork! Join our community and lay down the first stepping stone to improving your Japanese language skills"><META name="keywords" content="Japanese art, Japanese, Japan, Learning Japanese, learning japanese, study japanese, fluent japanese,  japanese language friend, help with japanese, amazon japanese language, second language, japanese language community, japanese language friends, japanese language friend">
</head>
<frameset rows="100%,*" border="0">
  <frame src="http://japanesefriend.zxq.net" frameborder="0" />
  <frame frameborder="0" noresize />
</frameset>

<!-- pageok -->
<!-- 07 -->
<!-- -->
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:51:58.130

您尝试在包含 jQuery 之前使用它：

```
 <script>$(document).ready(function() {
    $("a.register").fancybox({
        'type': 'iframe'
    });
});
</script>
<script src="http://code.jquery.com/jquery-1.8.1.min.js"></script> 
```

确保这是第一个：

```
<script src="http://code.jquery.com/jquery-1.8.1.min.js"></script> 
```

# c++ - C++11：在 const 和引用类型上执行 `auto` 的标准引用

> ID：12242449
> 
> 赞同：5
> 
> 时间：2012-09-03T05:31:43.357
> 
> 标签：c++, c++11

假设我有一个类型 T：

```
typedef ... T; 
```

然后我有这些功能：

```
T f11();
T& f12();
T&& f13();
const T f21();
const T& f22();
const T&& f23(); 
```

然后像这样称呼他们：

```
auto x11 = f11();
auto x12 = f12();
auto x13 = f13();
auto x21 = f21();
auto x22 = f22();
auto x23 = f23(); 
```

从 C++11 标准的哪些部分/条款可以推导出 x11..x23 的等效非自动声明？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T05:36:54.370

它在 §7.1.6.4 **auto specifier 中**。在您的函数返回类型示例中，模板参数推导规则适用。

引用标准中的相关示例：

> `const auto &i = expr;`
> 
> 的类型是在以下发明的函数模板`i`的调用中推导出的参数 X 的类型：`f(expr)`
> 
> `template <class AUTO> void f(const AUTO& X);`

因此，在您的示例中，所有变量的类型都`x11`被`x23`推断为`T`.

# sql - 具有用户名和密码的集成安全性

> ID：12242451
> 
> 赞同：0
> 
> 时间：2012-09-03T05:32:02.063
> 
> 标签：sql, sql-server, sql-server-2008, tsql

是否可以使用带有用户名和密码的集成安全性来连接到 SQL Server 数据库，因为我正在使用一种称为 Filestream 的功能，它只使用集成安全性。

# php - PHP：试图合并数组，但当数组从函数返回时不是实际的数组？

> ID：12242452
> 
> 赞同：0
> 
> 时间：2012-09-03T05:32:09.133
> 
> 标签：php, arrays, class, function, merge

我有一个函数，它返回一个数组。

```
class myarray
{
 public function getAr()
   {
      // mysql query
      while($dd= $database->fetch(PDO::FETCH_ASSOC))
           {
               $data[] = $dd; //there's values in the array
           }
               return $data;
   }
 public function get3()
   {
      // mysl query
      while($dd= $database->fetch(PDO::FETCH_ASSOC))
           {
               $data[] = $dd; //there's values in the array
           }
               return $data;
   } 
```

}

为什么我试图将数组合并在一起：

```
$get = new myarray();
$arrayAr = $get->getAr();
$array3 = $get->get3();
$new_array = array_merge($arrayAr ,$array3); 
```

它说它不是一个数组？

```
array_merge() [function.array-merge]: Argument #1 is not an array 
```

但我可以`print_r($arrayAr);`，它就像一个数组？

帮助？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:39:16.370

`array`是内置函数的名称；您必须更改班级的名称。此外，您应该定义`$d`（[现场演示](http://ideone.com/LSjUu)）：

```
<?php
class MyArray {
  public function getAr() {
    $d = 42;
    $data = array($d);
    return $data;
  }
  public function get3() {
    $d = 43;
    $data = array($d);
    return $data;
  }
}
$get = new MyArray();
$arrayAr = $get->getAr();
$array3 = $get->get3();
var_export(array_merge($arrayAr ,$array3)); // [0 => 42, 1 => 43] 
```

* * *

作为对编辑版本的回应：如果查询没有返回任何内容怎么办？并注意你`$database`是未定义的。而且，*它实际上不是一个数据库*，而是一个`PDOStatement`对象。假设它实际上是一个有效的 PDO 对象，您应该简单地使用[`fetchAll`](http://php.net/manual/en/pdostatement.fetchall.php)：

```
class MyArray {
  protected $statement;
  public function query($pdo, $sql) {
    $this->statement = $pdo->query($sql);
  }

  // Don't forget to call query before this method.
  public function getAr() {
    return $this->statement->fetchAll(PDO::FETCH_ASSOC);
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:41:02.407

似乎问题在于您正在为您的班级使用保存的名称。您真的不应该使用语言中具有其他含义的关键字作为变量名。就像您不会调用变量一样，`array_merge`因为已经有一个函数调用...

这段代码似乎对我有用 -

```
class customArray{
  public function getAr(){
    $data[] = 'Stack';
    return $data;
  }

  public function get3(){
    $data[] = 'Overflow';
    return $data;
  } 
}

$get = new customArray();
$arrayAr = $get->getAr();
$array3 = $get->get3();
print_r(array_merge($arrayAr ,$array3)) 
```

输出 -

```
Array
(
    [0] => Stack
    [1] => Overflow
) 
```

但是，如果我使用类名`array`，我会得到这个错误 -

> PHP 解析错误：语法错误，意外的 T_ARRAY，期待 T_STRING...

# excel-2007 - Excel 2007 - 条件格式 - 比较同一列中的两个单元格？

> ID：12242453
> 
> 赞同：2
> 
> 时间：2012-09-03T05:32:16.130
> 
> 标签：excel-2007, excel-formula, highlight, conditional-formatting

这似乎是一个非常简单的问题，但我正在努力让它发挥作用。

基本上我有一列这样运行的数字：

1.  56.69
2.  56.74
3.  56.83
4.  56.78
5.  56.78
6.  56.7
7.  56.61
8.  56.58
9.  56.57
10.  56.58

我要做的就是突出显示一个低于/高于其上方的单元格。例如，由于上面列表中的第 2 项高于上面的第 1 项，因此该单元格将突出显示为绿色。与#3 相同。＃4，因为它低于＃3，将突出显示为红色。

我试过做这样的公式：

*   放入一个公式= ($K3 < $K2) // 它试图隔离列而不是行引用（K 是包含数字的行）

*   使用“仅格式化包含的单元格”选项并选择：“单元格值”“小于”“=$K2”

第一个项目符号对单元格进行着色，但不正确。它似乎并没有正确比较项目（突出显示值明显大于前一个单元格的红色单元格）。

我还尝试对公式进行更改，例如：+ K4 > K3（在创建公式时引用所选（引用）单元格下方的单元格）+ 使用/不使用括号使用公式选项。

提前感谢您的任何帮助和/或建议！如果我遗漏了任何细节，请告诉我。

你的，蜘蛛

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:36:56.947

这很简单...

*   选择第二个单元格
*   选择条件格式
*   高光电池
*   少于
*   在值中选择上面的单元格
*   现在复制第二个单元格并单击格式刷
*   选择下面的所有单元格，你应该完成

截屏：

![这是屏幕截图](../Images/9d216540a4a8c94fc28cce343d8146b3.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-27T01:55:51.110

我知道这已经晚了，但有更简单的方法（做基本相同的事情），假设这只是一列（现在我将假设 A1：A10）。您使用条件格式和“使用公式确定要格式化的单元格”。

**对于红细胞：**
公式：=$A2>$A1
适用于：=$A$2:$A$10

**对于绿色单元格：**
公式：=$A2 适用于：=$A$2:$A$10

如果您使用“新规则”选择而不是“管理规则”，请先突出显示单元格（即 A2:A10），然后添加该公式。

这不会突出显示第一个单元格，因为其上方没有单元格来确定公式，并且不会突出显示与其上方单元格具有相同值的任何单元格。

颜色将是：
1\. 无
2\. 绿色
3\. 绿色
4\. 红色
5\. 无
6\. 红色
7\. 红色
8\. 红色
9\. 红色
10\. 绿色

# git - 更改帐户后覆盖所有 Git 作者

> ID：12242464
> 
> 赞同：2
> 
> 时间：2012-09-03T05:33:39.620
> 
> 标签：git, github

我已将 Git 作者作者姓名从“First Last <myemail@email.com>”更改为“First Last <otheremail@email.com>”

这两个电子邮件地址与不同的 Github 帐户相关联，我正在将所有个人项目迁移到第二个。

我的问题是我过去在一些私人存储库上的所有工作（我是唯一的贡献者）都是使用第一个帐户完成的。迁移的代码似乎已由其他用户提交。如何强制更改所有提交以使用我的新 Git 作者姓名？

如果我能做到这一点，我可以强制将更改推送到 Github，并且工作似乎都由用户 First Last 完成，这就是我想要的。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:47:28.170

最简单的方法是：

*   从新的 GitHub 位置克隆您的存储库
*   从所有提交中更改作者：参见“[如何在 git 中更改提交的作者？](https://stackoverflow.com/questions/750172/how-do-i-change-the-author-of-a-commit-in-git) ”，基于`git filter-branch`
*   强制将他们推回去（因为你是唯一的贡献者）

我会[推荐这个解决方案](https://stackoverflow.com/a/10277389/6309)，它不会盲目地更改提交（如果您合并了其他开发人员的补丁）

```
#!/bin/bash

git filter-branch --env-filter '
if [ "$GIT_AUTHOR_NAME" = "<old author>" ];
then
    GIT_AUTHOR_NAME="<new author>";
    GIT_AUTHOR_EMAIL="<youmail@somehost.ext>";
fi
if [ "$GIT_COMMITTER_NAME" = "<old committer>" ];
then
    GIT_COMMITTER_NAME="<new commiter>";
    GIT_COMMITTER_EMAIL="<youmail@somehost.ext>";
fi
' -- --all 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:45:27.540

您可以将`git filter-branch`其用于您的目的；具体来说，它的`env-filter`.

```
--env-filter <command>
  This filter may be used if you only need to modify the environment in which
  the commit will be performed. Specifically, you might want to rewrite
  the author/committer name/email/time environment variables (see
  git-commit-tree(1) for details). Do not forget to re-export the variables. 
```

就像是：

```
git filter-branch \
  --env-filter 'export GIT_AUTHOR_NAME="First Last";
                export GIT_AUTHOR_EMAIL="otheremail@email.com";
                export GIT_COMMITTER_NAME="${GIT_AUTHOR_NAME}";
                export GIT_COMMITTER_EMAIL="${GIT_AUTHOR_EMAIL}";' \
  -- --all 
```

如果您不需要更改作者姓名，只需删除`GIT_AUTHOR_NAME`和`GIT_COMMITTER_NAME`分配。

# mysql - 更新具有一个字段的当前最高（最大值）值的行

> ID：12242466
> 
> 赞同：5
> 
> 时间：2012-09-03T05:34:05.767
> 
> 标签：mysql, sql

我有这个 sql 查询，这是错误的。我想更新wins表中的字段“prevmonth”，但只更新字段“month_wins”的最大值的记录。

```
UPDATE wins 
SET prevmonth_top=1 
WHERE month_wins = (SELECT MAX(month_wins) FROM wins) 
```

但是我该怎么做呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-03T05:39:39.660

试试这个技巧，

```
UPDATE wins
SET prevmonth_top=1 
ORDER BY month_wins DESC
LIMIT 1 
```

或类似的东西，

```
UPDATE IGNORE giveaways 
SET winner = 1 
WHERE month_wins = (select maxID from (SELECT MAX(ID) maxID FROM giveaways) as t) 
```

SAME AS[您不能在 FROM 子句中指定目标表 'table_name' 进行更新](https://stackoverflow.com/a/8333454/491243)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-03T05:43:27.703

运行以下查询，它可能会有所帮助：

```
UPDATE wins 
SET prevmonth_top=1  WHERE month_wins = 
(
      SELECT month_wins FROM (SELECT MAX(month_wins) FROM wins) AS month_wins
) 
```

# ios - 如何初始化具有唯一名称的多个对象

> ID：12242470
> 
> 赞同：1
> 
> 时间：2012-09-03T05:34:47.460
> 
> 标签：ios, xcode, object, namespaces, rename

我确信这是一个非常基本的程序，所以请原谅这个新手问题。

如何使用相同的代码初始化多个对象，但每个对象都有一个唯一的名称？我可以创建一个字符串来表示 theName，但我将如何将它应用为实际的对象名称？我可以重命名对象吗？

顺便说一句，目的是让我可以在以后对每个按名称引用它们的对象执行操作...我认为唯一的名称将是解决此问题的方法...

```
 NSString *theName = [NSString stringWithFormat:@"textView%d",tvNum];

    tvNum ++;

    UITextView *myTextView = [[UITextView alloc] initWithFrame:CGRectMake(self.view.bounds.size.width /2, self.view.bounds.size.height /2, 100, 100)];
    [self.view addSubview:myTextView];
    NSString *theText = [[NSString alloc] initWithString:@"string"];
    [myTextView setText:theText]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:39:49.287

您可以稍后将标签添加到控制器以引用它。

```
myTextView.tag = somePreCalculatedTagValue; 
```

然后通过将该标签值与控制器匹配，您可以做您想做的事

```
if(myTextView.tag == kTagForFirstTextView)
{
//do something
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:48:11.397

最好创建一个对象数组。您可以使用 for 循环来设置它们：

```
NSMutableArray *objectArray = [[NSMutableArray alloc] initWithCapacity:NUM_OF_OBJECTS];

for (int i = 0; i < NUM_OF_OBJECTS; i++) {
    UITextView *myTextView = [[UITextView alloc] initWithFrame:CGRectMake(self.view.bounds.size.width /2, self.view.bounds.size.height /2, 100, 100)];
    [myTextView setText:@"string"];
    [objectArray addObject:myTextView];
    [self.view addSubview:myTextView];
} 
```

稍后通过它们的索引引用它们：

```
UITextView *thirdTextView = [objectArray objectAtIndex:2];
thirdTextView.text = @"Foobar"; 
```

要不就：

```
[objectArray objectAtIndex:2].text = @"Foobar"; 
```

# css - CSS：我可以按边距右对齐元素吗：0 0 0 auto？

> ID：12242472
> 
> 赞同：6
> 
> 时间：2012-09-03T05:34:53.853
> 
> 标签：css, alignment, margin

我可以通过设置 margin-left 来右对齐一个元素吗

```
margin: 0 0 0 auto; 
```

但不浮动

```
float: right; 
```

?

我不知道这是否正确，但它在 Chrome 和 Safari 中都有效。

========

AK的答案是我需要的；

这也很有帮助，来自 Praveen Kumar：您可以，但支持有限。它仅适用于 Chrome 和 Safari。我猜甚至在 Firefox 中也没有。看，如果您只针对 Chrome 浏览器，是的，您可以。所有基于 -webkit- 的浏览器都支持这一点，但不支持其他浏览器。选择是你的。:)

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-03T05:46:10.750

是的，您可以通过设置**右对齐**元素`margin-left:auto`

`margin`但请参阅下面的结果之间的区别`float`：

[**利润**](https://developer.mozilla.org/en-US/docs/CSS/margin)

> margin CSS 属性设置所有四个边的边距。避免将每一边与其他边距属性分开设置是一种简写：margin-top、margin-right、margin-bottom 和 margin-left。

[**浮动**](https://developer.mozilla.org/en-US/docs/CSS/float)：

> float CSS 属性指定一个元素应该从正常流中取出并放置在其容器的左侧或右侧，文本和内联元素将环绕它。

[**查看结果**](http://jsfiddle.net/akhurshid/2sswp/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-03T05:41:01.987

### 解决方案 1：使用定位

如果不通过浮动，您可以使用**定位。**将父元素设为 as `position: relative;`，将元素设为`position: absolute;`with `left: auto;`，其他设为`0`.

**CSS**

```
.parent {position: relative;}
.parent .child {position: absolute; left: auto; right: 0; width: 150px; height: 50px;}​​​ 
```

**HTML**

```
<div class="parent">
    <div class="child">
        Content
    </div>
</div>​ 
```

**小提琴： http: [//jsfiddle.net/U3JXk/](http://jsfiddle.net/U3JXk/)**
**小提琴：http: [//jsfiddle.net/U3JXk/1/](http://jsfiddle.net/U3JXk/1/)**（带边框）

### 解决方案 2：重置显示属性

如果您不愿意使用定位，可以尝试将`display`元素的属性更改为出现 as`inline`和使用`text-align`as `right`。

**CSS**

```
.parent {text-align: right;}
.parent .child {display: inline;}
/* OR */
.parent .child {display: inline-block; *display: inline; *zoom: 1;} 
```

**HTML**

```
<div class="parent">
    <div class="child">
        Content
    </div>
</div> 
```

​小提琴 **： http: [//jsfiddle.net/U3JXk/2/](http://jsfiddle.net/U3JXk/2/)**
**小提琴：http: [//jsfiddle.net/U3JXk/3/](http://jsfiddle.net/U3JXk/3/)**（带边框）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:29:16.050

边距使您的内容在内容流中保持完整，但浮动使您的内容分层，因此内容可能会跟随在其下方；在此位置相对/绝对位置之上，它比浮动元素更多，即它将您的标签从内容流中取出，并根据 z-index 和位置 LTRB 值进行调整（默认情况下：左上）。当您通过 Margin 调整对齐方式时，不同的浏览器会做出不同的反应，因为它实际上会影响您的内容流，但保持 Parent Element Float 选项对我来说效果很好，这完全取决于要求。

# android - 我的列表、滚动视图和按钮出错

> ID：12242474
> 
> 赞同：5
> 
> 时间：2012-09-03T05:35:16.110
> 
> 标签：android, listview, button, android-activity, scrollview

我是 Android 开发的新手，所以我只想问一下我应该如何正确地做这些事情。我制作了一个杂货清单应用程序，它将显示数量、项目名称和状态（复选框）。这是我的问题：

![这是我的错误截图](../Images/b0201e7484d086487a49cc870f9cb907.png)

1.  列表中的项目或项目名称未显示。
2.  标题（数量、项目和状态）和按钮（添加、删除）正在重复，这应该不是。
3.  最后，我应该将 button(additem) 的代码放在哪里，以使其进入预期的布局。它会在 GroceryListActivity 类还是 Grocery 类中？

如果我有这么多问题，我很抱歉，如果您能帮助回答这些问题，我将不胜感激。谢谢！:)

**杂货模特班**

```
public class Grocery{

     private String quantity;
     private String item;
     private boolean selected;

        //quantity

      public Grocery(String quantity, String item) {
        this.quantity = quantity;
        selected = false;
      }

        public String getQuantity() {
            return quantity;
        }

          public void setQuantity(String quantity) {
            this.quantity = quantity;
          }

          //item

      public Grocery(String item) {
            this.item = item;
            selected = false;
          }

          public String getItem() {
            return item;
          }

          public void setItem(String item) {
            this.item = item;
          }

          //chckbox

      public boolean isSelected() {
        return selected;
      }

          public void setSelected(boolean selected) {
            this.selected = selected;
          }

} 
```

**GroceryList 活动**

```
import java.util.ArrayList;
import java.util.List;
import android.app.AlertDialog;
import android.app.ListActivity;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.Toast;

public class GroceryListActivity extends ListActivity implements OnClickListener{

/** Called when the activity is first created. */

  public void onCreate(Bundle icicle) {
    super.onCreate(icicle);
    // Create an array of Strings, that will be put to our ListActivity
    ArrayAdapter<Grocery> adapter = new ArrayAdapterGroceryList(this, getGrocery());
    setListAdapter(adapter);
  }

  private List<Grocery> getGrocery() {
    List<Grocery> list = new ArrayList<Grocery>();
        list.add(get("1", "Soy Sauce"));
        list.add(get("2", "Cabbage"));
        list.add(get("3", "Potato"));
        list.add(get("4", "Bell Pepper"));
    // Initially select one of the items
        list.get(1).setSelected(false);
    return list;
  }

  private Grocery get(String q, String i) {
    return new Grocery(q, i);
  }

     public void onCreate1(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.addgrocery);

            Button addItem_btn = (Button) findViewById(R.id.addItem);
            addItem_btn.setOnClickListener((OnClickListener) this);

            Button delete_btn = (Button) findViewById(R.id.deleteItem);
            delete_btn.setOnClickListener(this);

     }

    public void onClick(View v) {
        // TODO Auto-generated method stub
        switch (v.getId()) {

        case R.id.addItem:
            Intent a = new Intent(this, AddGrocery.class);
            startActivity(a);
            break;

        case R.id.deleteItem:
            AlertDialog.Builder Builder = new AlertDialog.Builder(this);
            Builder.setTitle("Confirm Delete.");
            Builder.setMessage("Are you sure you want to delete selected items?");
            Builder.setPositiveButton("Yes", new DialogInterface.OnClickListener() {                
                public void onClick(DialogInterface dialog, int which) {
                    Toast.makeText(getApplicationContext(), "You clicked on YES", Toast.LENGTH_SHORT).show();
                }
            });
            Builder.setNegativeButton("No", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                    Toast.makeText(getApplicationContext(), "You clicked on NO", Toast.LENGTH_SHORT).show();
                    dialog.cancel();
                }
            });
            Builder.show();
            break;
        }
    }

} 
```

**阵列适配器**

```
import java.util.List;
import android.app.Activity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.CheckBox;
import android.widget.CompoundButton; 
import android.widget.TextView;

public class ArrayAdapterGroceryList extends ArrayAdapter<Grocery> {

private final List<Grocery> list;
private final Activity context;

public ArrayAdapterGroceryList(Activity context, List<Grocery> list) {
super(context, R.layout.grocery, list);
this.context = context;
this.list = list;
}

static class ViewHolder {
protected TextView itemQty;
protected TextView itemName;
protected CheckBox chkItem;
public TextView textQty;
public TextView textName;
public CheckBox checkbox;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
View view = null;
if (convertView == null) {
  LayoutInflater inflator = context.getLayoutInflater();
  view = inflator.inflate(R.layout.grocery, null);
  final ViewHolder viewHolder = new ViewHolder();
      viewHolder.textQty = (TextView) view.findViewById(R.id.itemQty);
      viewHolder.textName = (TextView) view.findViewById(R.id.itemName);
      viewHolder.checkbox = (CheckBox) view.findViewById(R.id.chkItem);
      viewHolder.checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
          Grocery element = (Grocery) viewHolder.checkbox.getTag();
          element.setSelected(buttonView.isChecked());

        }
      });
  view.setTag(viewHolder);
  viewHolder.checkbox.setTag(list.get(position));
} else {
      view = convertView;
      ((ViewHolder) view.getTag()).checkbox.setTag(list.get(position));
    }
    ViewHolder holder = (ViewHolder) view.getTag();
    holder.textQty.setText(list.get(position).getQuantity());
    holder.textName.setText(list.get(position).getItem());
    holder.checkbox.setChecked(list.get(position).isSelected());
return view;
 }
} 
```

**我的 XML 文件**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@layout/bg_list"
android:orientation="vertical"
android:weightSum="1.0">

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" 
    android:weightSum="3"
    android:gravity="center"
    android:background="@layout/bg_box">

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:gravity="center_horizontal"
            android:text="QTY"
            android:textColor="#ffffff"
            android:textSize="20dp"
            android:textStyle="bold"
            android:layout_weight="1" />

        <TextView
            android:id="@+id/serialNumberView"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:gravity="center_horizontal"
             android:layout_weight="1" 
             android:text="ITEM"
             android:textStyle="bold"
             android:textColor="#ffffff"
            android:textSize="20dp"/>

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:gravity="center_horizontal"
            android:text="STATUS"
            android:textStyle="bold"
            android:textColor="#ffffff"
            android:textSize="20dp"
            android:layout_weight="1" />
        </LinearLayout>

<ScrollView
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_weight="1" >

   <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" 
        android:orientation="horizontal"
        android:layout_weight="1"
        android:paddingTop="5dp"
        android:gravity="center_horizontal">

      <TextView android:id="@+id/itemQty"
         android:layout_width="30dp"
         android:layout_height="fill_parent"
         android:paddingLeft="20dp"
         android:textColor="#FFFFFF"
         android:textSize="15dp"/>

     <TextView android:id="@+id/itemName"
         android:layout_width="200dp"
         android:layout_height="fill_parent"
         android:textColor="#FFFFFF"
         android:textSize="15dp"/>

     <CheckBox 
        android:id="@+id/chkItem"
        android:layout_width="50dp"
        android:layout_height="fill_parent"/>

   </LinearLayout>

</ScrollView>

 <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:layout_gravity="bottom">

    <Button
        android:id="@+id/addItem"
        android:layout_width="0dp"
        android:layout_height="fill_parent"
        android:text="Add"
        android:layout_weight="1" />

    <Button
        android:id="@+id/deleteItem"
        android:layout_width="0dp"
        android:layout_height="fill_parent"
        android:text="Delete"
        android:layout_weight="1" />
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:38:28.460

**正如我从您的GroceryListActivity**代码中注意到的，

```
public void onCreate1(Bundle savedInstanceState) { 
```

和

```
public void onCreate(Bundle icicle) { 
```

删除，

```
public void onCreate1(Bundle savedInstanceState) { } method... 
```

并将其中的代码放入`onCreate()`

就像是，

```
public void onCreate(Bundle icicle) {
    super.onCreate(icicle);

    setContentView(R.layout.addgrocery);

    Button addItem_btn = (Button) findViewById(R.id.addItem);
    addItem_btn.setOnClickListener((OnClickListener) this);

    Button delete_btn = (Button) findViewById(R.id.deleteItem);
    delete_btn.setOnClickListener(this);

    // Create an array of Strings, that will be put to our ListActivity
    ArrayAdapter<Grocery> adapter = new ArrayAdapterGroceryList(this, getGrocery());
    setListAdapter(adapter);
  } 
```

# sql - 来自两个连接表的 SQL 条件总和

> ID：12242479
> 
> 赞同：1
> 
> 时间：2012-09-03T05:36:06.510
> 
> 标签：sql, sql-server, ms-access

我有两个表如下：

**发票**

```
InvId | Amount  | Name
-----------------------
1     | 50      | John
2     | 30      | Mike
3     | 20      | John 
```

**细节**

```
MetalType| Weight | InvId
-------------------------
Gold     | 2      | 2
Silver   | 4      | 3
Silver   | 3      | 3
Gold     | 5      | 1 
```

我想要以下输出，但我的查询只会为 John 提供银和金的总数。如何构建一个查询，其中还包括 John 的总发票金额。

John 的总发票金额 = **70**
总银重量 = **7**
总金重量 = **5**

```
SELECT
SUM(IFF(D.MetalType=”Gold”, D.Weight, 0)) AS TotGold,
SUM((IFF(D.MetalType=”Silver”, D.Weight, 0)) AS TotSilver
FROM Invoice I INNER JOIN Detail D ON I.InvId = D.InvId WHERE I.Name = “John” 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:39:57.787

试试这个：

对于 Sql 服务器：

```
SELECT 
SUM(TotalAmount) AS TotalAmount,
SUM(TotGold) AS TotGold,
SUM(TotSilver) AS TotSilver
FROM(
SELECT
SUM (I.Amount) OVER (Partition by D.Invid) AS TotalAmount,
SUM(CASE WHEN D.MetalType='Gold' THEN D.Weight ELSE 0 END) AS TotGold,
SUM(CASE WHEN D.MetalType='Silver' THEN D.Weight ELSE 0 END) AS TotSilver
FROM Invoice I INNER JOIN Detail D ON I.InvId = D.InvId

WHERE I.Name = 'John'
GROUP BY D.InvId, I.Amount) n 
```

这是一个[SQL Fiddle](http://www.sqlfiddle.com/#!3/f4d2f/14) - 现在它会杀死重复的细节并只计算一次。

编辑访问：

```
SELECT
  n.Name,
  MAX(TotalAmount),
  SUM(TotGold) AS TotGold,
  SUM(TotSilver) AS TotSilver
FROM(
  SELECT
   I.Name,
   SUM(CASE WHEN D.MetalType='Gold' THEN D.Weight ELSE 0 END) AS TotGold,
   SUM(CASE WHEN D.MetalType='Silver' THEN D.Weight ELSE 0 END) AS TotSilver
  FROM Invoice I 
  INNER JOIN Detail D ON I.InvId = D.InvId
  GROUP BY I.Name, D.InvId, I.Amount) n
INNER JOIN (
   SELECT
     I.Name, SUM (I.Amount) AS TotalAmount
    FROM Invoice I
    GROUP BY I.Name) m ON m.Name = n.Name
GROUP BY n.Name 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:30:46.833

试试这个：

```
With tbl3 (Amt,Gold,Silver)
as
(
    SELECT
    SUM (I.Amount) OVER (Partition by D.Invid) AS TotalAmount,
    SUM(CASE WHEN D.MetalType='Gold' THEN D.Weight ELSE 0 END) AS TotGold,
    SUM(CASE WHEN D.MetalType='Silver' THEN D.Weight ELSE 0 END) AS TotSilver
    FROM Invoice I Right JOIN Detail D ON I.InvId = D.InvId 
    WHERE I.Name = 'John' Group by D.InvId, I.Amount
)
Select SUM(Amt) as Total_Invoice_Amount_For_John,
SUM(Gold) as Total_Silver_Weight,
SUM(Silver) as Total_Gold_Width from tbl3 
```

**[SQL小提琴](http://www.sqlfiddle.com/#!3/8e315/37)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:34:49.310

我还没有尝试过已经发布的其他查询，它们可能已经适合您想要的，但这是我的看法：-

```
SELECT X.NAME, X.METALTYPE, X.WEIGHT, Y.TOTAL
FROM
    (SELECT NAME, METALTYPE, SUM(Weight) AS WEIGHT
    FROM INVOICE i
    INNER JOIN DETAIL d ON i.InvId = d.InvId
    GROUP BY NAME, METALTYPE) X
INNER JOIN
    (SELECT SUM(AMOUNT) AS Total, NAME
    FROM INVOICE
    GROUP BY NAME)Y
    ON X.NAME = Y.NAME
ORDER BY NAME, TOTAL, METALTYPE 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T09:07:02.967

select name, sum(Amount) as 'total invoice', sum(Gold) as 'Gold', sum(Silver) as Silver from( select aa.Name,aa.Amount, sum(case when bb.MetalType='Gold'然后 bb.Weight else 0 end) as 'Gold', sum(case when bb.MetalType='Silver' then bb.Weight else 0 end) as 'Silver' from a aa left outer join b bb on aa.InvID=bb .InvID group by aa.InvID) as c group by c.name

# java - 如何在方法接口中返回泛型类型

> ID：12242482
> 
> 赞同：1
> 
> 时间：2012-09-03T05:36:22.920
> 
> 标签：java

如何为接口定义通用返回类型，以便它的实现类可以有自己的返回类型？

```
public interface A {
    public <T> T doSomething();     
}

public class ImplA implements A {
    public SomethingElseA doSomething() {
        return obj.doSomething();
    }
}

public class ImplB implements A {
    public SomethingElseB doSomething() {
        return obj.doSomething();
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T05:40:14.013

尝试如下。

```
interface A<T> {

  T doSomething();
}

class ImplA implements A<SomethingElseA> {

  public SomethingElseA doSomething() {
    ...
  }
}

class ImplB implements A<SomethingElseB> {

  public SomethingElseB doSomething() {
    ...
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:40:47.600

我猜你的意思是这样的？我将 do() 更改为 foo() 因为 do 是保留字...

```
public interface A<T> {
    public T foo();      
}

public class ImplA implements A<SomethingElseA> {
    @Override
    public SomethingElseA foo() {
        return obj.doSomething();
    }
}

public class ImplB implements A<SomethingElseB> {
    @Override
    public SomethingElseB foo() {
        return obj.doSomething();
    }
} 
```

# css - 不可点击的分享按钮

> ID：12242483
> 
> 赞同：0
> 
> 时间：2012-09-03T05:36:24.527
> 
> 标签：css, button, html

我在这个网站[http://fireworkslove.com](http://fireworkslove.com)上工作，我添加了一个带有共享按钮的“hello bar”。但我不知道为什么这些不可点击，“hello bar”中的某些内容是错误的。

希望有人能帮忙，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:39:09.107

添加`z-index`到课堂`hellobar`

```
.hellobar {
  background-color: #EBEBEB;
  box-shadow: 0 3px 0 #CCC;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  color: #FDD5D3;
  text-shadow: 0 1px rgba(0, 0, 0, .3);
  font-size: 14px;
  z-index: 1000;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:46:10.677

尝试将此代码放在 css 文件中：

> 输入[type="checkbox"]，输入[type="radio"] {填充：0;}

我认为这不会有任何区别，但尝试一下也无妨。那段代码是为了尽量让上下滑动的过渡更加平滑。

# jquery - AJAX构造列表上的jQuery .empty（）不起作用

> ID：12242484
> 
> 赞同：1
> 
> 时间：2012-09-03T05:36:29.780
> 
> 标签：jquery, html, ajax, mustache

我有一个无序列表（每个列表元素都包含一些进一步的标记，但这不重要），它是从对数据库的 AJAX 调用构造（实例化和附加）的。我想在生成任何以下 AJAX 调用结果之前清除列表。

```
$('#list').empty() 
```

由于某种原因不起作用（我尝试了许多带有 .remove() 和 .not() 的替代模式，但没有成功）。我知道我正确地定位了这些项目，因为我可以更改 css 等。我能做的最好的就是从每个 li 中按类删除一个元素，方法是：

```
$('list li .class').remove() 
```

我在这里做一些根本错误的事情吗？

顺便说一句，列表元素正在使用 Mustache 呈现，但这并不重要，因为一旦呈现它只是 HTML 标记，还是我在这里也错了？

谢谢你的帮助。

* * *

[编辑] 好的，所以没有运气在 jsfiddle 上获得任何体面的 AJAX 响应，所以这里是 AJAX 函数调用的本质：

```
function loadResults() {
$.ajax({
    'type' : 'POST',
    'url' : '/lib/ajax.php',
    'data' :    {
            'data1' : $('#data1').text(),
            'data2' : $('#data2').text(),
            'data3' : $('#data3').text()
            },
    'success' : function(data) {

           data = JSON.parse(data);

           // remove old results and add new results iteratively
           $('#results ul').empty();

           $.each(data, function(i, elem) {

              // Load the template
              $.get('/views/default/templates/elem_tpl.html', function(t) {
                       tmpl = t;
                   });

               $(document).ajaxStop(function() {
                   var template = Mustache.render(tmpl, elem);
                   $('#results ul').append(template);
               });
            });
        }
}); 
```

}

HTML 实际上只是用于测试目的的基本列表：

```
<div id="results">
     <ul>
     </ul>
</div> 
```

如果这有帮助的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T23:17:14.540

不完全是答案，但是对于在使用 Mustache 进行某些动态模板时遇到类似问题的任何人，我的解决方案是切换到 underscore.js 用于客户端模板。

如果您只是在调用模板之前添加以下内容，则无需修改任何模板（我的模板在外部文件中，因此可以节省时间）：

```
_.templateSettings = {
interpolate : /\{\{(.+?)\}\}/g
}; 
```

第一次完美运行。我不知道 Mustache 做了什么来混淆 jQuery，当我有更多时间时，我会试着研究一下。

# javascript - Javascript 链接和变量替换

> ID：12242486
> 
> 赞同：2
> 
> 时间：2012-09-03T05:36:31.730
> 
> 标签：javascript, chaining, method-chaining

我正在尝试使用变量替换让 javascript 链接工作。无法让它工作。帮助表示赞赏。

```
var Class = function() {

 this.one = function() {
   alert('one');        
   return this;
 }

 this.two = function() {
   alert('two');
   return this;
 }

 if (this instanceof Class) {
    return this.Class;
 } else {
    return new Class();
 }

}

var test = new Class();
// this works
test.one().two();

var func = '.one().two()';
// want to make this work
test[func]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:42:44.450

没有名为 '.one().two()' 的函数

尝试这个，

```
test['one']()['two'](); 
```

**编辑：** 我相信您仅将其用于学习目的，而不是在生产站点上使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:41:15.013

强烈不推荐。您可能想尝试使用数组：

```
var funcs = ['one','two'];
for(var i = 0; i < funcs.length; i++) {
  test[funcs[i]]();
} 
```

然后你可以把它包装成一个小函数：

```
function callChain(obj, funcs)
{
  for(var i = 0; i < funcs.length; i++) {
    obj[funcs[i]]();
  }
  return obj;
} 
```

编辑：如果您的链存储为 string: `.one().two()`，则可以使用 split & string 函数动态生成数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T09:20:20.603

谢谢大家的及时帮助。我最终接受了 Ben Rowe 的建议。

```
var funcs = ['one','two'];
   for(var i = 0; i < funcs.length; i++) {
   test[funcs[i]]();
} 
```

它很好地满足了我的要求。感谢大家的帮助。你们都很棒。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:03:18.327

好吧，你所要求的远非最佳实践——所以我会给你一个不受欢迎的答案——使用[`eval`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/eval).
如果您的输入是作为字符串的一般代码，那么您实际上没有任何其他选择（特别是当您的函数具有参数时 - `.one(1 + 0.5).two(new Date())`）。

例如，在您的`Class`中添加：

```
this.excecute = function(commands){
    eval('this' + commands);
}; 
```

接着：

```
test.excecute('.one().two(4 * 5)'); 
```

工作示例：http: [//jsbin.com/ipazaz/1/edit](http://jsbin.com/ipazaz/1/edit)

这会发出警告*“eval is evil”*（jslint，我认为） - 但我不相信函数可能是邪恶的。

更糟糕的是，如果你有字符串`'one(); two(4 * 5);'`怎么办？
您也可以使用[`with`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/with)：

```
this.excecute = function(commands){
    with(this){
        eval(commands);
    }
}; 
```

这有一个额外的警告：*“不要使用'with'”* - 他们今天真的对我们有一些反对，不是吗？

工作示例：http: [//jsbin.com/ipazaz/2/edit](http://jsbin.com/ipazaz/2/edit)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T05:50:10.850

您可以向构造函数添加一个方法：

```
 this.chain = function chain(){
   if (arguments.length && /\./.test(arguments[0])) {
    return chain.apply(this,arguments[0].split('.'));
   }
   var methods = [].slice.call(arguments),
       method = methods.shift();
   if(this[method] instanceof Function){
    this[method].call(this);
   }
   if (methods.length){
    chain.apply(this,methods);
   }
   return this;
 }
 // now you could do something like:
 test.chain('one.two.one.two.two'); 
```

或扩展`Object.prototype`

```
Object.prototype.chain = function chain(){
   if (arguments.length && /\./.test(arguments[0])) {
    return chain.apply(this,arguments[0].split('.'));
   }
   var methods = [].slice.call(arguments),
       method = methods.shift();
   if(this[method] && this[method] instanceof Function){
    this[method].call(this);
   }
   if (methods.length){
    chain.apply(this,methods);
   }
   return this;
};
// usage
({one:function(){console.log('I am one');},
  two:function(){console.log('I am two');}})
 .chain('one.two.one.one.two.two.two.one.two'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-06-27T01:57:50.763

我认为更简单的方法是使用 javascript 的数组**[reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)**函数。对于我正在编写的一些动态 jquery 内容，我需要它。一旦您拥有了一系列可链接的方法，您就可以轻松地执行以下操作。

```
var methods = ['next', 'child', 'parent'];

var element = methods.reduce(function(method){
    return $(selector)[method]();
});

console.log(element) //works! as all method names in methods array are applied and returned each iteration. 
```

对于我的情况，接受的答案对我不起作用，它似乎只返回传递的 obj 而不是 obj 加上它的链接方法。

# objective-c - 在 tabBarView 中管理套接字流

> ID：12242492
> 
> 赞同：0
> 
> 时间：2012-09-03T05:36:58.570
> 
> 标签：objective-c, ios, sockets, uitabbarcontroller, nsstream

我正在使用 UITabBarController 开发一个应用程序。更具体地说，使用故事板。我希望我的所有选项卡都能够从服务器发送和接收数据。

问题是我不知道怎么做。只有具有 initNetworkCommunications 的第一个选项卡能够从服务器发送和接收。那么我应该怎么做才能让我的应用程序能够从其他选项卡发送和接收？

我发现使用 NSNotificationCentre 来处理数据会起作用，但还有其他方法吗？

这是创建套接字连接的代码

```
-(void)initNetworkCommunication
{
CFReadStreamRef readStream;
CFWriteStreamRef writeStream;
CFStreamCreatePairWithSocketToHost(NULL, (CFStringRef)@"169.254.1.1", 2000, &readStream, &writeStream);

inputStream = (NSInputStream *)readStream;
outputStream = (NSOutputStream *)writeStream;

[inputStream setDelegate:self];
[outputStream setDelegate:self];

[inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
[outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];

[inputStream open];
[outputStream open];

} 
```

假设我有 2 个标签。第一个选项卡有一个连接按钮，用于调用 initNetworkCommunication。从这个选项卡我可以发送和接收数据。但是我如何处理另一个选项卡？有没有办法链接这个连接？

我尝试导入彼此的控制器并使用 [FirstController sendMessage]；从 secondViewController 但似乎不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-09T18:17:45.427

创建一个单例很好，我所做的是而不是创建一个类函数（这将强制您的网络在每次切换选项卡时重新初始化连接）我使 networkconnector 成为 tabBar 自定义实现的属性：

```
#import <Foundation/Foundation.h>
#import "NetworkController.h"

@interface NetworkStorageTabBarController : UITabBarController
@property (nonatomic, strong) NetworkController *thisNetworkController;
@end 
```

以及实现文件：

```
#import "NetworkStorageTabBarController.h"

@implementation NetworkStorageTabBarController
@synthesize thisNetworkController;
@end 
```

然后，当我加载选项卡式视图时，我在将出现的第一个视图的 viewWillAppear 中调用它：

```
//set up networking
NetworkStorageTabBarController *thisTabBar = (NetworkStorageTabBarController *) self.tabBarController;
self.thisNetworkController = thisTabBar.thisNetworkController;
self.thisNetworkController.delegate = self; 
```

到目前为止，这对我来说非常有效。花了我很长时间才弄清楚，所以我希望这会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T08:53:57.590

最简单的方法是创建一个 Singleton，我们称之为 NetworkCommunications。

使其成为单例（只会创建一个实例）：

```
+(NetworkCommunications *)sharedManager {
    static dispatch_once_t pred;
    static NetworkCommunications *shared = nil;

    dispatch_once(&pred, ^{
        shared = [[NetworkCommunications alloc] init];
    });
    return shared;
} 
```

然后，您只需从选项卡中调用 [NetworkCommunications sharedManager] 即可访问该单个实例。

你也把你的网络代码放在那个实例中。

# php - PHP PDO 数据库错误特殊字符

> ID：12242493
> 
> 赞同：0
> 
> 时间：2012-09-03T05:37:00.487
> 
> 标签：php, mysql, utf-8, pdo, special-characters

我已经阅读了关于这种情况的大部分问题和答案，但我无法解决我的性格问题。我的数据库的默认字符集是 utf8，所有表的排序规则都是 utf8_general_ci。我确定所有设置都是 utf8 和 utf8_general_ci，因为我已经检查了数十亿次。问题是在表单中发布值后，它似乎不像我想要的数据库，而且如果我从 phpmyadmin 编辑数据库，当我获取数据时，它再次没有显示我想要的。

数据库连接有效，我像之前提到的那样编辑了这种情况，但是我的脚本在字符规范方面有问题..

数据库连接代码是：

```
try {

$db = new PDO("mysql:host={$db_server};dbname={$db_name};charset=utf-8", $db_user, $db_password,array(PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8"));
$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
// exc 
} 
```

如果你能提供帮助会很高兴

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:40:18.913

对于那些有同样错误的人，即使你确定@zerkms 提到的事情：

" 你需要使用相同的编码：1) 页面/表单 2) 表和列（如果有）字符集（不是排序规则） 3) 数据库连接。就是这样。如果你有所有 3 个相同的 utf-8 - 那么它应该可以工作。如果没有 - 你错过了一些东西，需要重新检查它们中的每一个“

如果您仍然像我一样遇到问题，请检查您的表单处理数据是否有您忘记的过滤器。我有一个安全过滤器，它正在清理输入，它仅用于 ansi 编码，所以检查所有内容，然后就可以了。

感谢所有回复的人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:58:00.580

:)在你的工具链的*某个地方*，有些东西没有使用 utf8。PHPMyAdmin 以此类问题而闻名，但我无法为您提供太多帮助，因为我更喜欢命令行或脚本来处理数据库。如果除了 phpMyadmin 之外的所有地方的输出都很好，我可以向您推荐[这篇文章](https://stackoverflow.com/questions/4777900/how-to-display-utf-8-characters-in-phpmyadmin)，它提供了很多与 phpmyadmin 相关的提示。

哦，您可以在对 PDO 的实例化调用中指定 utf-8 编码：

```
$con = new PDO('mysql:host=' . $server . ';dbname=' . $db . ';charset=UTF8', $user, $pass, array(PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8")); 
```

在设置 Mysql 时，你可以做的最基本的有用的事情就是将它添加到你的`/etc/my.cnf`文件中：

```
[mysqld]
default-character-set=utf8
default-collation=utf8_general_ci
character-set-server=utf8
collation-server=utf8_general_ci
init-connect='SET NAMES utf8'

[client]
default-character-set=utf8 
```

编辑也可以对你耍花招。一些编辑器在配置不正确的情况下可以切换并重新保存为不正确的编码，导致在 utf-8 中重新打开时出现乱码。所有体面的 IDE 和编辑器都可以配置为处理 UTF-8。

希望这有帮助，祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T07:20:25.127

您将连接对象的字符集设置为 utf-8，这很好，数据库中的其他设置应该不会有任何影响。

我会检查您的页面（插入的页面和显示的页面）是否都正确编码。有两件事要检查：检查您的页面是否存储为 UTF-8 编码（没有 BOM），这是您的编辑器/ide 的工作。然后检查您是否使用以下内容正确声明了它：

```
<meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
```

当然，如果您已经从错误的编码页面将数据插入数据库，则数据库中的数据无效并且无法在正确编码的页面上正确显示。

# linux - Learning Bash - 如何正确声明和打印/嵌入变量？

> ID：12242494
> 
> 赞同：0
> 
> 时间：2012-09-03T05:37:23.937
> 
> 标签：linux, bash, shell, variables

我正在尝试编写一个 bash 脚本来自动将文件从我的构建和源目录（具有共享对象二进制文件）分别复制到我的系统`/usr/lib`和`/usr/include`目录。

当我运行以下命令时：

```
#!/bin/bash

RELEASE_ARG = "--release"
DEBUG_ARG   = "--debug"

DEST_NAME = "libEngine.so"

SRC_NAME = "libEngineSO.so"

ENGINE_DBG_DEST = "/usr/lib/Stitches/Debug/$DEST_NAME"
ENGINE_REL_DEST = "/usr/lib/Stitches/Release/$DEST_NAME"

ENGINE_REL_SRC = "$STITCH_ROOT/Engine__Release/$SRC_NAME"
ENGINE_DBG_SRC = "$STITCH_ROOT/Engine__Debug/$SRC_NAME"

if [ ! -z $1 ]; then 
    #foo
    echo "No argument specified; please specify either ${RELEASE_ARG} or $DEBUG_ARG. K BAI\n"
    exit
elif [ -z $1 -eq RELEASE_ARG ]; then
    #wat
    echo "If you actually chose this option, you better be damn ready to distribute...\n"
    echo "Updating Release directory in $ENGINE_REL_DEST\n"

    cp $ENGINE_REL_SRC $ENGINE_REL_DEST

elif [ -z $1 -eq DEBUG_ARG ]; then
    #reasonable and realistic
    echo "Good choice...\n"
    echo "Updating Debug directory in $ENGINE_DBG_DEST\n"
    cp $ENGINE_DBG_SRC $ENGINE_DBG_DEST
fi

echo "Sex ;)" 
```

我得到这个输出：

```
x@x ~/Programming/Stitches-Qt/scripts $ sh postbuild.sh --debug
postbuild.sh: 3: postbuild.sh: DEBUG: not found
postbuild.sh: 5: postbuild.sh: RELEASE_ARG: not found
postbuild.sh: 6: postbuild.sh: DEBUG_ARG: not found
postbuild.sh: 8: postbuild.sh: DEST_NAME: not found
postbuild.sh: 10: postbuild.sh: SRC_NAME: not found
postbuild.sh: 12: postbuild.sh: ENGINE_DBG_DEST: not found
postbuild.sh: 13: postbuild.sh: ENGINE_REL_DEST: not found
postbuild.sh: 15: postbuild.sh: ENGINE_REL_SRC: not found
postbuild.sh: 16: postbuild.sh: ENGINE_DBG_SRC: not found
No argument specified; please specify either  or . K BAI 
```

如您所见，我必须不正确地使用变量或其他东西。我如何完成我在这里尝试做的事情？

PS，我知道除非我是 root 否则我不能这样做，所以我在`/usr/lib`|中创建了一个子目录 `/usr/include`所以我可以把它改成我的用户名。所以，这应该工作......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:40:24.657

您不能在 bash 中使用任意空格。

```
RELEASE_ARG="--release"
DEBUG_ARG="--debug" 
```

使用时应该引用`test`。

```
if [ ! -z "$1" ]; then 
```

# qt - Qt SUBDIRS 项目找不到要调试的可执行文件

> ID：12242497
> 
> 赞同：1
> 
> 时间：2012-09-03T05:37:30.373
> 
> 标签：qt, directory, project, projects-and-solutions, subdirectory

我决定将我所有的项目（多个 DLL 和一个可执行文件）移动到一个 SUBDIRS 项目中，以使构建更容易。虽然这让我可以将所有内容构建到一个文件夹中，但我无法再从 Qt Creator 进行调试。

我的文件夹结构如下：

```
Solution.pro
    \MyDLL1
    \MyDLL2
    \MyDLL3
    \MyDLL4
    \MyExecutable
    \OUT 
```

我将所有 DLL 和我的 exe 构建到 OUT 中（通过每个项目的 .pro 中的 DESTDIR）——与子目录 .pro 相同的级别。尝试调试时，我得到以下信息：

```
No executable specified.
Debugging has finished 
```

我尝试将项目运行设置修改为直接指向 \OUT\MyExecutable.exe，我尝试将 DESTDIR 添加到指向 OUT 的 solution.pro 中，但到目前为止没有任何效果。

我的设置完全错误吗？还是我错过了一小块让 Qt 运行 .exe 进行调试？

编辑：我尝试再次填写我的运行设置：这是我通过项目选项设置的运行设置，以及生成的消息。该 exe 从未真正启动。但是，我能够使用此设置运行项目，只是不能调试。我已经通过在可执行文件项目的 main.cpp 中 int main() 的开头放置一个断点来验证 exe 没有被启动。![在此处输入图像描述](../Images/307d7e36d4a1745475a8b8a052b81c9f.png),

```
Debugging starts
Debugging has finished 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T17:20:00.917

似乎更新 Qt（创建者和编译器）已经解决了这个问题。

# iphone - 如何为 iPad/iPhone 应用程序实现 ePub 阅读器

> ID：12242499
> 
> 赞同：8
> 
> 时间：2012-09-03T05:37:48.817
> 
> 标签：iphone, ios, xcode, ipad, epub

我想为 iOS 平台实现一个 ePub 阅读器。请建议任何用于翻书动画、书签、字体大小自定义和单页视图（无滚动条）的开源代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T07:05:54.537

正如上一篇文章所指出的，没有任何 API 可以让 ePub 显示它——你需要做一些工作：

1.  解压 ePub
2.  读取清单文件和元数据文件以找到要显示的 xhtml 文档
3.  使用解压缩文档的 file:/// URL 将 xhtml 文档加载到 UIWebView

如果您想确保文档不会访问网络，您需要实现自定义 NSURLProtocol 并自己为文件提供字节，因为 file:/// 允许跨域访问。

这将很好地显示内容，但“困难”部分正在文档之间移动（通常代表一整章）。这是 iBooks 和其他应用程序为您完成的工作。

注意：要让 UIWebView 正确显示内容，您必须确保在使用 file:/// url 时文件具有 .xhtml 扩展名。如果您实现自己的 URL 协议处理程序，则需要确保协议处理程序为 xhtml 返回正确的 xml 内容类型，即：

应用程序/xhtml+xml

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T00:02:20.207

使用 ePub 打包格式和开源阅读器作为参考：

*   [ePub3 包装](http://apex.infogridpacific.com/df/ePub3Packaging1.html)
*   [fbReader 源](https://code.launchpad.net/fbreader)
*   [阅读源](https://github.com/readium/readium-sdk)
*   [口径来源](https://code.launchpad.net/calibre)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-22T07:12:27.423

将 UITextView 与 pageview 控制器一起使用。（如果有任何疑问，请说明您的疑问）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-13T09:33:17.060

### ****试试这个步骤：****

****源代码：** [AePubReader](https://github.com/fedefrappi/AePubReader)**

 *** * *

**执行：**

**步骤 1：**创建一个视图`UIWebView`

**第 2 步：**下载**EPUB**文件并导入到您的项目中

**第 3 步：将****EPUB**文件解压缩到应用程序文档文件夹中的子目录。

**第 4 步：**解析`XML`目录中的文件`META-INF/container.xml`。如果此文件目录不存在意味着您的 EPUB 文件无效。

**第5步：**在这个`XML`中，找到第一个`rootfile`带有媒体类型的“” `application/oebps-package+xml`。这是本书的 OPF 文件。

**第 6 步：**解析 OPF 文件（也是 XML）

**第7步：**现在你需要知道这本书的第一章是什么。

*   元素中的每个元素都有一个 id 和一个 href。将这些存储在`NSDictionary`其中键是 id 而对象是 href 的地方。
*   看第一个中的。它有一个 idref 属性，对应于（步骤 7a）中的一个 id。在 中查找该 ID，`NSDictionary`您将获得一个 href。
*   这是向用户展示的第一章的文件。找出完整路径是什么（提示：它是您将 zip 文件解压缩到的位置（步骤 3），加上`NSDictionary`OPF 文件的基础（步骤 6）。

**第 8 步：**`NSURL`使用 fileURLWithPath :创建一个，其中路径是来自（第 7c 步）的完整路径。使用您在（步骤 1）中创建的 UIWebView 加载此请求。

**第 9 步：**您需要实现`forward / backward`按钮或`swipes`其他东西，以便用户可以从一章移动到另一章。使用 确定接下来要显示的文件。然后`XML`按照它们应该出现在读者面前的顺序排列。

这些步骤是从此[链接引用的](http://ideveloperworld.blogspot.in/2011/02/epub-reader.html)**

# c# - 使路由更通用，分页

> ID：12242506
> 
> 赞同：0
> 
> 时间：2012-09-03T05:38:53.530
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-routing

我已经像这样在 global.asax 中启用了分页和路由设置

```
routes.MapRoute("Users", "Index/{page}",
                new { controller = "Users", action = "Index", page = UrlParameter.Optional },
                new[] { "MyProject.Controllers" }); 
```

现在我需要将这些应用到每个发送页面参数的控制器上。我怎样才能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:57:58.823

有两种方法可以接近它。

*   `page`为所有 Action 方法添加一个参数：

```
    公共 ActionResult SomeAction(int?page)`
    {
       如果 (page.HasValue) ...
    }

```

*   直接`RouteData`使用：

```
    RouteData.Values["page"]

```

我想您可能需要考虑创建一个*基本控制器*来处理与分页相关的重复性任务。

# javascript - Django 管道和 javascript 依赖项

> ID：12242509
> 
> 赞同：3
> 
> 时间：2012-09-03T05:39:22.450
> 
> 标签：javascript, django, coffeescript, requirejs

我正在开发一个使用 Django 管道作为资产的 Django 项目，并且我一直遇到问题，我在一个 javascript 文件中定义了另一个文件所需的内容，但是第二个文件在第一个文件之前加载，因此是第二个文件无法正确加载。我可以弄乱包含在 PIPELINE_JS 中的顺序，但这很难处理。在大多数语言中，您可以执行诸如`require foo`确保已定义 foo 之类的操作，但使用 javascript 和 django-pipeline 似乎是不可能的。我对 RequireJS 进行了一些研究，但我不确定是否可以将它与 django-pipeline 一起使用。在这种情况下我该怎么办？通常使用 django-pipeline 或 django 的其他人对 javascript 依赖项管理做了什么？

作为旁注，我实际上使用的是 Coffeescript，而不是直接的 Javascript，但这似乎对事情没有任何帮助。在rails中，我可以`#= require 'foo'`要求另一个coffeescript文件，但这似乎与rails资产管道相关联。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T12:48:00.490

做到这一点的唯一方法是相应地对`'source_filenames'`列表进行排序，还请记住，这些文件将在运行时按此顺序连接`collectstatic`。

管道将遵守此顺序，它还将避免重复，以便您在执行此操作时安全：

```
'base.coffee',
'*.coffee', 
```

目前在 django-pipeline 中没有“require”语法。希望这可以帮助。

# iphone - 如何从 iPhone 摄像头获取实时视频流并将其发送到服务器？

> ID：12242513
> 
> 赞同：31
> 
> 时间：2012-09-03T05:39:38.063
> 
> 标签：iphone, objective-c, ffmpeg

我正在使用`AVCaptureSession`从 iPhone 摄像头捕获视频并获取实时帧，但是如何将其发送到具有帧和声音多路复用的服务器以及如何使用 ffmpeg 来完成此任务，如果有人有任何关于 ffmpeg 的教程或任何示例请在这里分享。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-09-13T11:28:15.283

我这样做的方式是实现一个 AVCaptureSession，它有一个带回调的委托，它在每一帧上运行。该回调通过网络将每个帧发送到服务器，该服务器具有自定义设置来接收它。

这是流程：

[http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/03_MediaCapture.html#//apple_ref/doc/uid/TP40010188-CH5-SW2](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/03_MediaCapture.html#//apple_ref/doc/uid/TP40010188-CH5-SW2)

这是一些代码：

```
// make input device

NSError *deviceError;

AVCaptureDevice *cameraDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];

AVCaptureDeviceInput *inputDevice = [AVCaptureDeviceInput deviceInputWithDevice:cameraDevice error:&deviceError];

// make output device

AVCaptureVideoDataOutput *outputDevice = [[AVCaptureVideoDataOutput alloc] init];

[outputDevice setSampleBufferDelegate:self queue:dispatch_get_main_queue()];

// initialize capture session

AVCaptureSession *captureSession = [[[AVCaptureSession alloc] init] autorelease];

[captureSession addInput:inputDevice];

[captureSession addOutput:outputDevice];

// make preview layer and add so that camera's view is displayed on screen

AVCaptureVideoPreviewLayer *previewLayer = [AVCaptureVideoPreviewLayer    layerWithSession:captureSession];
previewLayer.frame = view.bounds;
[view.layer addSublayer:previewLayer];

// go!

[captureSession startRunning]; 
```

然后输出设备的委托（这里是 self）必须实现回调：

```
-(void) captureOutput:(AVCaptureOutput*)captureOutput didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection*)connection

{
CVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer( sampleBuffer );

CGSize imageSize = CVImageBufferGetEncodedSize( imageBuffer );

// also in the 'mediaSpecific' dict of the sampleBuffer

   NSLog( @"frame captured at %.fx%.f", imageSize.width, imageSize.height );

    } 
```

发送原始帧或单个图像对您来说永远不够好（因为数据量和帧数）。您也不能通过电话合理地提供任何服务（WWAN 网络有各种防火墙）。您需要对视频进行编码，并将其流式传输到服务器，最有可能通过标准流格式（RTSP、RTMP）。iPhone >= 3GS 上有一个 H.264 编码器芯片。问题是它不是面向流的。也就是说，它输出最后解析视频所需的元数据。这给您留下了一些选择。

1) 获取原始数据并在手机上使用 FFmpeg 进行编码（将使用大量 CPU 和电池）。

2) 为 H.264/AAC 输出编写自己的解析器（非常难）。

3) 以块的形式记录和处理（将增加等于块长度的延迟，并在您开始和停止会话时在每个块之间减少大约 1/4 秒的视频）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-16T23:48:38.150

[看这里](http://developer.apple.com/streaming/)，[这里](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/00_Introduction.html)

尝试使用 AV Foundation 框架捕获视频。使用 HTTP 流将其上传到您的服务器。

***另请查看下面的堆栈另一个堆栈溢出帖子***

[（下面的帖子是在这个链接上找到的）](https://stackoverflow.com/a/5293729/1442496)

> 你很可能已经知道了......

```
 1) How to get compressed frames and audio from iPhone's camera? 
```

> 你不能做这个。AVFoundation API 从各个角度防止了这种情况。我什至尝试过命名管道和其他一些鬼鬼祟祟的 unix foo。没有这样的运气。您别无选择，只能将其写入文件。在您链接的帖子中，用户建议设置回调以传递编码帧。据我所知，这对于 H.264 流是不可能的。捕获委托将提供以特定像素格式编码的图像。进行编码的是 Movie Writers 和 AVAssetWriter。

```
 2) Encoding uncompressed frames with ffmpeg's API is fast enough for
 real-time streaming? 
```

> 是的。但是，您必须使用 libx264 才能进入 GPL 领域。这与应用商店不完全兼容。
> 
> 出于效率原因，我建议使用 AVFoundation 和 AVAssetWriter。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-11-01T09:35:30.820

它有一个长短的故事。

这是简短的：去看看[https://github.com/OpenWatch/H264-RTSP-Server-iOS](https://github.com/OpenWatch/H264-RTSP-Server-iOS)

这是一个起点。

你可以得到它，看看他是如何提取框架的。这是一个小而简单的项目。

然后您可以查看具有特定功能“encodedFrame”的kickflip，它被回调一次，并且编码帧从这一点到达您可以用它做您想做的事情，通过websocket发送。有一堆非常硬的代码可用于读取 mpeg 原子

# javascript - 使用 Jquery 从页面上许多重复的类中获取特定元素

> ID：12242515
> 
> 赞同：0
> 
> 时间：2012-09-03T05:39:39.833
> 
> 标签：javascript, jquery

我有这段重复的代码。

```
<div class='commentfloatleft'>
                <button type='button' class='button2' onclick='upvote($id8)'>
                    <img src='images/likebutton.png'    class='upvoteimage' width='12' height='12' alt='PearlSquirrel'/>
                </button>
                <button type='button' class='button2' onclick='downvote($id8)'>
                    <img src='images/unlikebutton.png' width='12' height='12' alt='PearlSquirrel'/>
                </button>
            </div> 
```

当我单击 onclick 代码进行投票时是这样的：

```
function upvote(box){
$(this).siblings('.upvoteimage').load('upvote.php?box=' + box);
} 
```

我已经尽一切努力让它发挥作用。get 函数正在工作，但我看不到“.upvoteimage”中的任何变化。有谁知道如何解决这个问题。帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:43:53.497

您的代码说兄弟姐妹，但 .upvoteimage 不是兄弟姐妹而是孩子。尝试改用 find/children。

并且 $(this) 可能在函数中不存在。也许您应该将 onclick 事件移至脚本块。jQuery 有一些很棒的特性不适用于内联代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:45:33.870

试试这个

**HTML**

```
 <div class='commentfloatleft'>
                    <button type='button' class='button2' onclick='upvote(this,\x27$id8\x27)'>
                        <img src='images/likebutton.png'    class='upvoteimage' width='12' height='12' alt='PearlSquirrel'/>
                    </button>
                    <button type='button' class='button2' onclick='downvote($id8)'>
                        <img src='images/unlikebutton.png' width='12' height='12' alt='PearlSquirrel'/>
                    </button>
                </div> 
```

你的 jQuery 代码：

```
function upvote(obj,box){
$(obj).children('.upvoteimage').load('upvote.php?box=' + box);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-03T05:59:36.470

试试这个方法：为你的“按钮”元素设置一个“upvote”类：

```
<div class='commentfloatleft'>
                <button type='button' class='button2 upvote' id='$id8'>
                    <img src='images/likebutton.png'    class='upvoteimage' width='12' height='12' alt='PearlSquirrel'/>
                </button>
                <button type='button' class='button2' onclick='downvote()'>
                    <img src='images/unlikebutton.png' width='12' height='12' alt='PearlSquirrel'/>
                </button>
            </div>​ 
```

并使用这个 JS 代码：

```
$(".upvote").on("click",function(){
    var box=$(this).attr("id");
    $(this).find('.upvoteimage').attr("src",'upvote.php?box=' + box);
    return false;
}​);​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T05:44:49.603

您正在引用按钮的兄弟姐妹，并过滤那些 upvoteimage 类。

你想要做的是引用兄弟姐妹，然后选择他们的 upvoteimage 类的孩子：

```
$(this).siblings('.button2').children('.upvoteimage').load('upvote.php?box=' + box); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T05:52:38.567

它是一个孩子而不是兄弟姐妹，那是它没有发生

你可以试试

```
$(this).siblings('.button2' > '.upvoteimage') 
```

我认为一些这样的东西会起作用

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-03T05:56:33.010

您应该使用[`.on()`](http://api.jquery.com/on/)绑定事件而不是内联。

在您的`upvote`函数`this`中是窗口对象而不是单击的按钮。

带有 upvote 类的 img 是按钮的子级，而不是兄弟级。

您不能将任何内容加载到 img 标签中，它是一个空标签

# android - Android 多按钮手柄

> ID：12242518
> 
> 赞同：0
> 
> 时间：2012-09-03T05:40:10.127
> 
> 标签：android, button, interface

我用两个按钮创建了这个活动

```
import android.app.Activity; 
import android.os.Bundle; 
import android.view.View; 
import android.view.View.OnClickListener; 
import android.widget.Button; 
import android.content.Intent;

public class SelectOption extends Activity{

    Button bu1,bu2,bu3;

    @Override 
    public void onCreate(Bundle savedInstanceState){  
    super.onCreate(savedInstanceState); 
    setContentView(R.layout.option_main); 

    bu1 = (Button)findViewById(R.id.button1);
    bu2 = (Button) findViewById(R.id.button2);

    bu1.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent myintent1 = new Intent(SelectOption.this, CheckBalance.class);
            startActivity(myintent1);

        }
    });

    bu2.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent myintent2 = new Intent(SelectOption.this, CheckAvailability.class);
            startActivity(myintent2);

        }
    }); 
```

还有 2 个名为 CheckBalance.java 和 CheckAvailability.java 的活动。但是当我运行程序时，它什么也没有发生。有谁知道这有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:53:11.890

在点击监听器中使用此代码

```
 Intent intent = new Intent(); 
 intent.setClass(getApplicationContext(), CheckBalance.class);
 startActivity(intent); 
```

并检查您在清单文件和 XML 中声明的活动的天气......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:58:00.357

这是我的清单文件（代表原始问题提问者（Anuradha））

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.people.oshada"
android:versionCode="1"
android:versionName="1.0" >
<uses-permission android:name="android.permission.INTERNET" />
<uses-sdk android:minSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".TheMainActivity"
        android:label="@string/app_name" >      
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".SelectOption"></activity>
    <activity android:name=".CheckBalance"></activity>
    <activity android:name=".CheckAvailability"></activity>
</application> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T05:45:42.203

在 ANDROID MAINFEST 文件中，您必须添加

```
<activity android:name=". CheckBalance"/>
<activity android:name=". CheckAvailability"/> 
```

# c++ - 为 C/C++ 编写检测分析器的最简单方法是什么？

> ID：12242520
> 
> 赞同：3
> 
> 时间：2012-09-03T05:40:13.920
> 
> 标签：c++, c, profiling

我见过一些工具，如[Pin](http://www.pintool.org)和[DynInst](http://www.dyninst.org/)，它们可以进行动态代码操作，以便在无需重新编译的情况下检测代码。这些似乎是对似乎应该是一个简单问题的重量级解决方案：从程序中检索准确的函数调用数据。

我想写一些东西，以便在我的代码中，我可以写

```
void SomeFunction() {
  StartProfiler();
  ...
  StopProfiler();
} 
```

和执行后，检索有关在`StartProfiler()`和`StopProfiler()`（整个调用树）之间调用了哪些函数以及每个函数花费了多长时间的数据。

最好我也可以读出调试符号，以获取函数名称而不是地址。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T06:46:14.797

这是我发现的解决方案的一个有趣提示。

gcc（和 llvm>=3.0）`-pg`在编译时有一个选项，传统上用于 gprof 支持。当您使用此标志编译代码时，编译器会将对该函数的调用添加到`mcount`每个函数定义的开头。您可以覆盖此函数，但您需要在汇编中执行此操作，否则`mcount`您定义的函数将被调用，`mcount`并且您将在调用之前快速耗尽堆栈空间`main`。

这是一个小概念证明：

富.c：

```
int total_calls = 0;
void foo(int c) {
  if (c > 0)
    foo(c-1);
}
int main() {
  foo(4);
  printf("%d\n", total_calls);
}
```

foo.s：

```
.globl mcount
mcount:
  movl  _total_calls(%rip), %eax
  addl  $1, %eax
  movl  %eax, _total_calls(%rip)
  ret 
```

编译`clang -pg foo.s foo.c -o foo`。结果：

```
$ ./foo
6
```

那是 1 `main`， 4`foo`和 1 `printf`。

这是 clang 发出的 asm `foo`：

```
_foo:
  pushq %rbp
  movq  %rsp, %rbp
  subq  $16, %rsp
  movl  %edi, -8(%rbp)          ## 4-byte Spill
  **callq mcount**
  movl  -8(%rbp), %edi          ## 4-byte Reload
  ... 
```

# blackberry - Unicode 到 Ascii API

> ID：12242530
> 
> 赞同：0
> 
> 时间：2012-09-03T05:41:10.063
> 
> 标签：blackberry

您好我正在开发一个应用程序来在应用程序中显示印度语言。我在应用程序中使用的文本是 Unicode 格式。我想知道如何将这些 un​​icode 转换为 ASCII，以便我可以在我的应用程序上显示它们

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T11:48:28.577

[马来文 Unicode](http://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CCcQFjAA&url=http://unicode.org/charts/PDF/U0D00.pdf&ei=IJhEUM6tDofMrQeOuID4BQ&usg=AFQjCNGIaFdnxwnWcGW1A1SJZixtAFqfJw)

字体文件的malyalam字符的unicode错误，使用字体编辑器需要编写相应的malyalam unicode，然后它可能会正常工作..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T10:16:06.080

但是为什么需要转换成ASCII呢？您可以直接显示 unicodes，它会被转换为相应的语言。请看这个链接，我想这会有所帮助：

[在黑莓论坛上看到这个](http://supportforums.blackberry.com/t5/Java-Development/Display-hindi-characters-in-blackberry-os-5-0-application/td-p/1838681/page/2)

# ruby-on-rails - 如何在 Rails 中更改 Devise 生成的帐户确认 URL？

> ID：12242532
> 
> 赞同：0
> 
> 时间：2012-09-03T05:41:14.170
> 
> 标签：ruby-on-rails, devise, routes

我在我的项目中使用 Devise gem。

当用户注册时，Devise 会向他发送一封邮件以确认帐户。该邮件包含一个**帐户确认链接**，当用户单击它时，他们的帐户被激活并且用户被重定向到 [root :to => 'home#welcome'] 页面。

如何更改上述**帐户确认链接**的 URL ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:04:04.410

您可以重新定义`new_user_confirmation_path`以`config/routes.rb`完成此操作。

# javascript - 继续检查直到正确

> ID：12242536
> 
> 赞同：2
> 
> 时间：2012-09-03T05:41:48.333
> 
> 标签：javascript, jquery

基本上，我有一个由 CMS 处理的表单，我无法编辑它的 javascript，但我或多或少想向我的用户添加“加载”或“发送”消息。例如。

目前，一旦提交，默认表单将在发送后将 html 成功消息附加到名为“成功”的 div 中，但基本上，我想在提交按钮上运行一个函数，该函数会持续检查“成功”以外的任何内容一旦它不为空，关闭加载符号。

可能是这样的：

```
$('#submitBtn').click(function(){
    $('#loadingDiv').show();
    while (!$('#success').html() == ''){
        $('#loadingDiv').hide();
    }
}); 
```

任何帮助将不胜感激。我只是不太确定如何编写它，我不擅长 jquery 或 javascript

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T05:49:12.220

您可以使用 setInterval 执行此操作。像这样的东西：

```
$('#submitBtn').click(function(){
    $('#loadingDiv').show();
    var intervalId = setInterval(function() {
        if($('#success').html() != '') {
            clearInterval(intervalId);
            $('#loadingDiv').hide();
        }
    }, 100);
}); 
```

而 (!$('#success').html() == '') 将冻结所有其他操作并将永远持续下去。但是 - 如果你真的不能在成功回调中添加一些代码，最好仔细检查一下。可能[ajaxComplete](http://api.jquery.com/ajaxComplete/)可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:59:59.813

也许您可以使用类似的方式手动发送表单数据？

（在这种情况下，可能要确保“submitBtn”是一个简单的按钮，而不是一个提交按钮，以防止默认提交）

```
$('#submitBtn').click(function(){
    $('#loadingDiv').show();

    // Send the data with post - To complete
    $.post('/your_post_addr', {data_1: my_data_1, ...}, 
        function(data) {
            $('#loadingDiv').hide();          
    }).error(function() {
        // Your error message
        alert('Error'); 
    });
}); 
```

# android - 从 DialogFragment 调用 registerReceiver

> ID：12242538
> 
> 赞同：7
> 
> 时间：2012-09-03T05:42:10.690
> 
> 标签：android, fragment, receiver

**编辑**

我添加了这一行：

```
getActivity().registerReceiver(new BroadcastReceiver(){...}, new IntentFilter(SENT)); 
```

但是现在有一个运行时错误，错误显示为：

**09-03 04:12:41.856: E/AndroidRuntime(1692): java.lang.IllegalStateException: 在视图类 android.widget 上的 onClick 处理程序的活动类 android.view.ContextThemeWrapper 中找不到方法 sendMessage(View)。带有 id 'button_send' 的 ImageView**

**我的问题是：为什么要在android.view.ContextThemeWrapper**中寻找方法？

该按钮是在我们在线引用的布局上创建的：

```
View view = inflater.inflate(R.layout.activity_composer, container); 
```

并且“button_send”有一个 onClick 方法设置为：

```
android:onClick="sendMessage" 
```

后来定义为：

```
public void sendMessage (View v) {
        String phoneNumber = number_input.getText().toString();
        String message = body_input.getText().toString();

        if(message.length() > 0) {              
            sendSMS(phoneNumber, message);
            }

        sendSMS(phoneNumber, message);
        clearForm();
    } 
```

单击发送消息的按钮时会发生运行时错误。

**编辑结束**

**编辑二号**

显然，您不能在 XML 中定义 onClick 方法，因为按钮是片段的一部分。在这种情况下，我必须设置一个 onClickListener

问题已解决，谢谢！

所以我正在尝试创建一个 DialogFragment 来简单地发送一条新的短信。Dialog 有两个 EditText 视图，一个用于电话号码，一个用于实际消息；它还有 1 个 ImageButton，它有一个名为 sendMessage (View v) 的 onClick 方法。话虽如此，我在注册接收器以在发送消息时捕获结果代码时遇到问题。错误信息是：

“方法 registerReceiver(new BroadcastReceiver(){}, IntentFilter) 未定义 ComposerDialog 类型”

使用完全相同的代码块，除了 onCreateView()，我可以在 Activity 上完成这项工作，但显然不能在**DialogFragment**上完成。我的猜测是在线：

```
PendingIntent sentPI = PendingIntent.getBroadcast(getActivity(), 0,
                new Intent(SENT), 0); 
```

通过调用 getActivity()，我将 Dialog 作为**上下文**传递，显然这不是对 registerReceiver 的调用在线识别的参数：

```
registerReceiver(new BroadcastReceiver(){...}, new IntentFilter(SENT)); 
```

我正在考虑如何更改传递给 registerReceiver 调用的上下文，但我什至不确定这实际上是问题所在。有任何想法吗？

这是完整的课程，以获得更好的视角：

```
package com.deadpixels.test.sms;

import android.app.Activity;
import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Bundle;
import android.support.v4.app.DialogFragment;
import android.telephony.SmsManager;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;

public class ComposerDialog extends DialogFragment {

public ComposerDialog () {
}

private EditText body_input;
private EditText number_input;
SmsManager smsMgr = SmsManager.getDefault();
private static final String TAG = "Composer";

   @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.activity_composer, container);
        body_input = (EditText) view.findViewById(R.id.text_input);
        number_input = (EditText) view.findViewById(R.id.text_address);
        getDialog().setTitle("Create your new Message!");

        return view;
    }

   private void clearForm() {
        body_input.setText("");
        number_input.setText("");
    }

   public void sendMessage (View v) {
        String phoneNumber = number_input.getText().toString();
        String message = body_input.getText().toString();

        if(message.length() > 0) {              
            sendSMS(phoneNumber, message);
            }

        sendSMS(phoneNumber, message);
        clearForm();
    }

   private void sendSMS(String phoneNumber, String message)
    {           

        String SENT = "SMS_SENT";

        PendingIntent sentPI = PendingIntent.getBroadcast(getActivity(), 0,
                new Intent(SENT), 0);

         registerReceiver(new BroadcastReceiver(){

            @Override
            public void onReceive(Context arg0, Intent arg1) {
                switch (getResultCode())
                {
                    case Activity.RESULT_OK:
                        Log.v(TAG, "SMS sent succesfully");                     
                        break;
                    case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                        Log.v(TAG, "Generic failure");
                        break;
                    case SmsManager.RESULT_ERROR_NO_SERVICE:
                        Log.v(TAG, "No service");                        
                        break;
                    case SmsManager.RESULT_ERROR_NULL_PDU:
                        Log.v(TAG, "Null PDU");
                        break;
                    case SmsManager.RESULT_ERROR_RADIO_OFF:
                        Log.v(TAG, "Radio off");                       
                        break;
                }
            }
        }, new IntentFilter(SENT));

        smsMgr.sendTextMessage(phoneNumber, null, message, sentPI, null);      
        clearForm();        
    } 
```

}

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-03T05:45:46.523

利用

```
getActivity().registerReceiver(new BroadcastReceiver(){...}, new IntentFilter(SENT)); 
```

`registerReceiver`是 DialogFragment 中不存在的 Context 方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-29T06:09:16.030

做类似的事情

```
@Override
    public void onResume() {
        super.onResume();
        updateUiState();
        LocalBroadcastManager.getInstance(getActivity()).registerReceiver(progressReceiver,new IntentFilter(EPackDownloader.ACTION_PROGRESS));
    }

    @Override
    public void onPause() {
        super.onPause();
        LocalBroadcastManager.getInstance(getActivity()).unregisterReceiver(progressReceiver);
    } 
```

并发送广播之类的。这是从具有应用程序上下文的 AsyncTask 发送的

```
private void updateProgress() {
    //publish progress
    int progress = 100*(totalImageCount - (products.size() * 3 - (3 - (int)downLatch.getCount())))/totalImageCount;
    publishProgress(progress);
}

@Override
protected void onProgressUpdate(Integer... values) {
    Intent data = new Intent(ACTION_PROGRESS);
    data.putExtra("progress",values[0]);
    data.putExtra("ePackId",ePackModel.id);
    LocalBroadcastManager.getInstance(context).sendBroadcast(data);
} 
```

# listview - 拆分按钮列表视图中动态更改数据主题的问题

> ID：12242539
> 
> 赞同：1
> 
> 时间：2012-09-03T05:42:15.490
> 
> 标签：listview, jquery-mobile

我正在尝试按照[此线程](https://stackoverflow.com/q/8554853/194742)中的大纲通过更改数据主题来动态更改拆分按钮列表视图的颜色样本。有趣的是，当我在 javascript 中放入警报语句时，该方案有效，但是当我取出警报时，这不起作用。

这是示例：

*   带有警报：http: [//jsbin.com/ifodij/4/](http://jsbin.com/ifodij/4/)
*   没有警报： http: [//jsbin.com/ifodij/3/](http://jsbin.com/ifodij/3/)（在尝试关闭之前尝试切换两个按钮）

关于为什么会发生这种情况以及我可能缺少什么的任何建议？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:24:07.073

我不太确定原因。但这就是我重新编写您正在做的事情的方式（这似乎可以解决问题）：

首先，`onclick="toggleChecked('2', 'TR02')"`从 HTML 中删除您的内联 javascript ( )。

接下来，用`toggleChecked()`以下 javascript 替换您的函数：

```
$(document).ready(function(){
   $('a[id^="star"]').on("click", function(){

      if ($(this).data("theme") == "d") {
         $(this).buttonMarkup({ theme: 'e' }).button();
      } else {
         $(this).buttonMarkup({ theme: 'd' }).button();
      }
   });
}); 
```

上面是一个事件监听器，它将检查是否单击了任何以 with`id`开头的锚点。`star`

刷新按钮似乎有点问题，尽管重建按钮，上一个主题中的类通常仍然存在。

* * *

**更新**

实际上废弃上述内容，这似乎是一种实现选定按钮的复杂方式。为什么不只是更改 CSS，使用上面的作为指导，删除内联样式并使用以下 jQuery：

```
$(document).ready(function(){
   $('a[id^="star"]').on("click",function(){
      $(this).toggleClass("ui-btn-pressed");
   }); 
}); 
```

这是一个 jsbin：http: [//jsbin.com/ifodij/8/edit](http://jsbin.com/ifodij/8/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-02T12:50:45.743

不幸的是，上面接受的答案对我更改拆分图标主题不起作用，我[在这里解决了我的问题表格](https://stackoverflow.com/questions/18485493/jquery-mobile-change-switch-theme-on-listview-data-split-icon) `$(this).find('span.ui-btn').buttonMarkup({ theme: 'b' });`

# python - 类的 IPython 表示

> ID：12242540
> 
> 赞同：2
> 
> 时间：2012-09-03T05:42:20.493
> 
> 标签：python, ipython, metaclass

我正在使用我创建的模块尝试 IPython，但它没有显示类对象的实际表示。相反，它显示类似

```
TheClass.__module__ + '.' + TheClass.__name__ 
```

我在这个模块中**大量**使用元类，并且我有真正有意义的类表示应该向用户展示。

是否有一个 IPython 特定的方法我可以更改以使正确的表示可用，而不是这个在这个应用程序中非常无用的命名空间？

或者，如果这不可能，我如何自定义我的 IPython 版本以显示我想要的信息？

* * *

编辑

作为补充信息，如果我得到一个类并将`__module__`属性更改为例如 None，则在尝试显示表示时它会因此回溯而崩溃：

```
Traceback (most recent call last):
  ... [Huge traceback] ...
  File "C:\Python32\lib\site-packages\IPython\lib\pretty.py", line 599, in _type_pprint
    name = obj.__module__ + '.' + obj.__name__
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str' 
```

所以我的期望是正确的，这个函数用于显示类对象：

```
def _type_pprint(obj, p, cycle): 
```

我尝试在课堂上对其进行自定义，但我认为我做得不对。这个模块`IPython.lib.pretty`确实有一个大字典链接`type`（元类的父类）和这个函数。

* * *

编辑 2

我尝试过的事情：

1.  将`_repr_pretty_`函数添加到元类。它确实适用于实例，但不适用于类......
2.  使用这个功能。它只改变了上面写的大字典，而不是实例制作的它的副本……所以这个函数根本没有用？！[`IPython.lib.pretty`](http://ipython.org/ipython-doc/dev/api/generated/IPython.lib.pretty.html)`.for_type(typ, func)``RepresentationPrinter`
3.  调用魔法函数`%pprint`。它禁用（或启用）这个漂亮的打印功能，`__repr__`对所有对象使用默认的 Python。这很糟糕，因为列表、dict 和许多其他的漂亮打印非常好。

第一种方法更符合我的要求，因为它不会影响环境并且是针对此类的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T15:13:13.740

这只是IPython 0.12 和更早版本的[问题。](https://github.com/ipython/ipython/issues/2379)现在可以这样做：

```
class A(type):
    def _repr_pretty_(cls, p, cycle):
        p.text(repr(self))

    def __repr__(cls):
        return 'This Information'

class B:   #or for Py3K: class B(metaclass=A):
    __metaclass__ = A 
```

它将显示`B`.

# iphone - 如何在地图视图中绘制路线而用户不断移动

> ID：12242545
> 
> 赞同：0
> 
> 时间：2012-09-03T05:42:51.753
> 
> 标签：iphone, ios, xcode, map, mapkit

我正在开发一个应用程序，我需要根据用户动作在地图上连续绘制路线。我已经搜索过了，但没有得到任何令人满意的解决方案。在这方面需要帮助！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-08-08T11:05:57.623

看到这个链接希望可能有用

**[https://github.com/kadirpekel/MapWithRoutes](https://github.com/kadirpekel/MapWithRoutes)**

或使用此代码

`NSArray *points = [NSArray arrayWithObjects: [[[CLLocation alloc] initWithLatitude:location.latitude longitude:location.longitude] autorelease],nil]; NVPolylineAnnotation *annotation = [[[NVPolylineAnnotation alloc] initWithPoints:points mapView:map] autorelease]; [map addAnnotation:annotation]; [loc release];`

# c++ - 将 int 数组的内容写入向量

> ID：12242546
> 
> 赞同：4
> 
> 时间：2012-09-03T05:42:57.603
> 
> 标签：c++, stl, vector

我想将数组的内容写入向量。

```
int A[]={10,20,30,40,50,60,70,80,90};
vector<int> my_vector; 
```

之前我曾经使用 memcpy将数组**A**的内容复制到另一个数组**B中。**我想使用 my_vector 而不是数组**B**

如何在没有 for 循环的情况下一次性将数组**A 的内容写入 my_vector？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-03T05:52:44.463

使用你想使用的 C++ 2011

```
std::copy(std::begin(A), std::end(A), std::back_inserter(my_vector)); 
```

... 或者

```
std::vector<int> my_vector(std::begin(A), std::end(A)); 
```

...或者，实际上：

```
std::vector<int> my_vector({ 10, 20, 30, 40, 50, 60, 70, 80, 90 }); 
```

如果你没有 C++ 2011，你想定义

```
namespace whatever {
    template <typename T, int Size>
    T* begin(T (&array)[Size]) { return array; }
    template <typename T, int Size>
    T* end(T (&array)[Size]) { return array + Size; }
} 
```

并将`whatever::begin()`and`whatever::end()`与前两种方法之一一起使用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-03T05:46:48.670

```
#include <algorithm>
#include <vector>

int main() {
    int A[]={10,20,30,40,50,60,70,80,90};
    std::vector<int> my_vector;
    unsigned size = sizeof(A)/sizeof(int);
    std::copy(&A[0],&A[size],std::back_inserter(my_vector));
} 
```

C++11 要简单得多。

```
#include <vector>
#include <algorithm>

int main() {
    int A[]={10,20,30,40,50,60,70,80,90};
    std::vector<int> my_vector(std::begin(A),std::end(A));
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-03T05:43:44.280

您可以`memcpy`在 C++98/03 中使用或使用此类初始化。

```
int A[]={10,20,30,40,50,60,70,80,90};
vector<int> my_vector(A, A + sizeof(A) / sizeof(*A)); 
```

您也可以使用算法，例如`copy`.

```
std::copy(A, A + sizeof(A) / sizeof(*A), std::back_inserter(my_vector)); 
```

在 C++11 中，使用`std::begin(A)`,`std::end(A)`作为数组的开始和结束。

# javascript - 页面加载后加载简单的 JS 代码？

> ID：12242547
> 
> 赞同：0
> 
> 时间：2012-09-03T05:43:01.227
> 
> 标签：javascript, jquery, flickr

有没有办法在页面加载后加载 JavaScript 代码（不把它放在 HTML 文档的最底线）？这是脚本示例：

```
<script type="text/javascript" src="http://www.flickr.com/badge_code_v2.gne?count=10&display=latest&size=t&layout=x&source=user&user=XXX"></script> 
```

PS。原因是上面的 Flickr 代码加载缓慢并同时挂起网站。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:51:35.560

如果您想在整个页面（包括所有元素）完成加载后加载脚本，请尝试此操作。(jQuery)

```
$(window).load(function() {
        var js, 
            id = 'SCRIPT-ID', 
            ref = document.getElementsByTagName('script')[0];

        if (document.getElementById(id)) {
            return;
        }

        js = document.createElement('script'); 
        js.id = id; 
        js.async = true;
        js.src = "http://www.website.com/script.js";
        ref.parentNode.insertBefore(js, ref);
    }); 
```

如果您希望它在 DOM 渲染后加载，只需更改`$(window)`为`$(document)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T05:46:06.807

你可以试试

```
<script type="text/javascript">
// Use any event to append the code
$(document).ready(function() 
{
    var s = document.createElement("script");
    s.type = "text/javascript";
    s.src = "test.js";
    // Use any selector
    $("head").append(s);
});
</script> 
```

当然，这将需要 jquery 库，否则您可以将此代码粘贴到 body 的 onload 方法上

嗯，这是有用的东西

## **无法在 URL 处同步执行脚本。进一步注意，当涉及网络（甚至文件系统！）时，同步任何东西都是一个坏主意。某人，有时，某处会在一个缓慢的系统，或一个缓慢的网络，或两者兼而有之，突然间你刚刚在这个过程中挂起了他们的 UI。**

[http://bugs.jquery.com/ticket/6557](http://bugs.jquery.com/ticket/6557)

或者你可以试试

[http://yepnopejs.com/](http://yepnopejs.com/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:46:14.183

将其应用于 body 的 onload 方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-03T06:33:48.437

```
var asyncLoad = function (url) {
    if (typeof url !== 'string') {
        return false;
    }
    var script = document.createElement('script'),
        firstScript = document.getElementsByTagName('script')[0];
    script.setAttribute('src', url);
    firstScript.parentNode.insertBefore(script, firstScript);
    return script;
}; 
```

// 或者，对于无脚本页面，只需添加到头部；

```
var asyncLoad = function (url) {
    if (typeof url !== 'string') {
        return false;
    }
    var script = document.createElement('script'),
        head = document.getElementsByTagName('head')[0];
    script.setAttribute('src', url);
    head.appendChild(script);
    return script;
}; 
```

// 申请：

```
document.addEventListener('DOMContentLoaded', function () {
    asyncLoad('script_url');
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-03T05:46:57.407

如果您需要模块化执行脚本，您可以使用以下库

[http://headjs.com/](http://headjs.com/)

# arrays - 将数组中的所有字符串一一输入到程序

> ID：12242557
> 
> 赞同：0
> 
> 时间：2012-09-03T05:43:46.620
> 
> 标签：arrays, perl, shell, command-line-arguments

我有一个由许多 perl 脚本组成的 shell 脚本，其中一个 perl 脚本每次都必须使用不同的输入运行，并且值必须在最后存储在一个文件中，如图所示

```
 #!/bin/sh
 .....
 ....
 perl test.pl apple
 perl test.pl mango
 perl test.pl banana
 ... 
... 
.... 
```

我通过查看使用这些名称生成的文件在命令行中键入这些名称。

```
**names.txt**
apple
mango
banana 
```

或者

```
**names.txt**
    apple    mango   banana 
```

**它们是 perl 或 shell 中的一种方式，它一次将每个名称作为输入。**
那就是可以将names.txt视为一个数组，然后perl脚本使用ARGV或任何其他方式一次将每个数组值作为输入。这样我就可以拥有我的shell脚本

```
#!/bin/sh
     .....
     ....
     perl test.pl names.txt
     .... 
    ... 
    .... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T08:41:20.760

编写从文件中获取输入的 perl 程序的常用方法是按如下方式构造它们：

```
while ($line = <>) {

    # do stuff with $line
} 
```

如果在命令行上给出了文件名，perl 会自动将它们一一打开，并将这些行提供给您的脚本。如果没有给出文件名，它将从标准输入中读取。

但是，如果您以这种方式编写脚本，您将无法直接在命令行上给它结果，它们必须在文件或标准输入中。

要在同一行处理多个水果，您的代码可以执行以下操作：

```
while (my $line = <>) {

    chomp $line;

    foreach my $fruit ( split ' ', $line ) {

        # do something with $fruit
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:47:44.840

在 bash 中，逐行：

```
while read fruit
do
  perl test.perl "$fruit"
done < names.txt 
```

# iphone - 父线程退出时异步HTTP请求会被杀死吗？

> ID：12242558
> 
> 赞同：0
> 
> 时间：2012-09-03T05:43:51.250
> 
> 标签：iphone, multithreading, nsurlconnection

我在后台线程上通过 NSURLConnecion 发送了一个异步 HTTP 请求，该线程在发布请求后立即完成。而且我无法收到任何响应或错误，就像请求消失一样。但是如果我保持线程运行，那么我可以收到很好的响应。

父线程退出时异步HTTP请求会自动终止吗？

# javascript - 使用 Ext JS SplitButton 或菜单附加商店

> ID：12242561
> 
> 赞同：0
> 
> 时间：2012-09-03T05:44:04.263
> 
> 标签：javascript, extjs, store, extjs4.1

如何使用 SplitButton 或 Menu 附加商店？

我认为与 SplitButton & Menu 相关的项目是存储的好选择。但是我无法将它们放在一起。

我正在使用 Ext JS 4.1.1

# linq-to-sql - LINQ to SQL 在调用我的存储过程时使用 CONVERT

> ID：12242562
> 
> 赞同：1
> 
> 时间：2012-09-03T05:44:11.580
> 
> 标签：linq-to-sql, stored-procedures

我有一个我喜欢与 LINQ to SQL 一起使用的存储过程。我很好地将它添加到 dbml 并设法调用它，但随后发生了奇怪的事情。我收到“找不到列“MySchema”或用户定义的函数或聚合“MySchema.pi_MyStoredProcedure”，或者名称不明确。-错误。试图弄清楚为什么会发生这种情况，因为我可以从 SSMS 很好地执行 proc。SQL Profiler 设法捕获了查询，它是这样的：

```
exec sp_executesql N'SELECT CONVERT(Int,[MySchema].[pi_MyStoredProcedure](@p0)) AS   [value]',N'@p0 nvarchar(4000)',@p0=N'ParameterValue' 
```

当我尝试执行此操作时，我从 SSMS 收到相同的“找不到...”-错误。我怀疑这可能与我的存储过程的返回类型有关。我必须在 .dbml XML 代码中手动设置它。看起来像这样：

```
<Function Name="MySchema.pi_MyStoredProcedure" Method="pi_MyStoredProcedure" IsComposable="true">
    <Parameter Name="MyParameter" Type="System.String" DbType="NVarChar(512)" />
    <Return Type="System.Int32" />
</Function> 
```

我在这里做错了什么？我设法找到的每个在线教程都告诉我这样做，但显然我还缺少其他东西？它是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T05:17:38.337

我设法通过将存储过程更改为使用 OUTPUT 参数而不是 RETURN 来解决此问题。

# android - 从其他音乐文件中过滤歌曲 - Android

> ID：12242566
> 
> 赞同：1
> 
> 时间：2012-09-03T05:44:33.187
> 
> 标签：android, file, audio, filtering

因此，在我正在开发的应用程序中，我试图合并一个列表视图，以显示用户手机上的所有歌曲。我目前将它设置为显示所有音乐文件（如下面的代码所示），但我需要一种方法来过滤掉随机媒体文件中的实际歌曲（即录音或其他应用程序中使用的音频文件，如 facebook 或谷歌+）。我已经搜索并尝试了多种方法，但没有一种方法被证明是成功的。正如您在我的代码中看到的那样，我正在尝试获取歌曲的持续时间并确保它至少大约一分钟长。任何和所有的帮助将不胜感激！

谢谢，欧文

PS 只要问我是否需要查看更多我的代码，但我认为这应该足够了。

```
 private void init_phone_music_grid() {
    System.gc();
    String[] proj = { MediaStore.Audio.Media.DURATION,
            MediaStore.Audio.Media.DATA,
            MediaStore.Audio.Media.TITLE,
            MediaStore.Video.Media.ARTIST };

    musiccursor = managedQuery(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,
            proj, null, null, null);
    count = musiccursor.getCount();
    musiclist = (ListView) findViewById(R.id.lvTrackList);
    musiclist.setAdapter(new MusicAdapter(getApplicationContext()));

    musiclist.setOnItemClickListener(musicgridlistener);
    mMediaPlayer = new MediaPlayer();
}

private OnItemClickListener musicgridlistener = new OnItemClickListener() {
    public void onItemClick(AdapterView parent, View v, int position,
            long id) {
        System.gc();
        music_column_index = musiccursor
                .getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);
        musiccursor.moveToPosition(position);
        String filename = musiccursor.getString(music_column_index);

        try {
            if (mMediaPlayer.isPlaying()) {
                mMediaPlayer.reset();
            }
            mMediaPlayer.setDataSource(filename);
            mMediaPlayer.prepare();
            mMediaPlayer.start();

            if(mMediaPlayer.isPlaying())
                chrono.start();

        } catch (Exception e) {

        }
    }
};

public class MusicAdapter extends BaseAdapter {
    private Context mContext;

    public MusicAdapter(Context c) {
        mContext = c;
    }

    public int getCount() {
        return count;
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {

        System.gc();
        TextView tv = new TextView(mContext.getApplicationContext());
        String id = null;
        if (convertView == null) {
            long size = musiccursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DURATION);

            if(size > 60000) {
            music_column_index = musiccursor
                    .getColumnIndexOrThrow(MediaStore.Audio.Media.TITLE);

            musiccursor.moveToPosition(position);
            id = musiccursor.getString(music_column_index);

            music_column_index = musiccursor
                    .getColumnIndexOrThrow(MediaStore.Audio.Media.DURATION);

            musiccursor.moveToPosition(position);
            if(!(musiccursor.getString(music_column_index).equalsIgnoreCase("<unknown>")))
                id += " - " + musiccursor.getString(music_column_index);

            tv.setText(id);
            }
        } else
            tv = (TextView) convertView;

        return tv;

    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:30:27.033

使用以下查询获取持续时间超过 1 分钟的所有媒体

```
 musiccursor = managedQuery(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,
            proj, MediaStore.Audio.Media.DURATION + ">= 60000", null, null); 
```

# windows-services - 如何增加/减少 Windows 服务的实例数？

> ID：12242568
> 
> 赞同：1
> 
> 时间：2012-09-03T05:44:37.950
> 
> 标签：windows-services

我有一个执行一项特定工作的 Windows 服务。现在，如果有两个或更多实例（假设地说），每个实例只会在配置上有所不同，但它们基本上会做相同的工作。他们只会根据配置引用不同的数据库、表。

但我正在寻找一种方法来增加/减少此类服务的实例？正在寻找一个小型架构来管理这个......

PS：在windows azure中做这个很简单；不同之处在于您将增加/减少 VM 实例的数量，并且您可以在数据库中配置每个 VM 实例应该做什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T05:58:36.193

我认为您面临的问题是多个服务实例不能共享相同的名称。我解决这个问题的方法是以不同的名称安装实例。您可以让您的服务安装程序类吸收一个参数：

```
[RunInstaller(true)]
public partial class ProjectInstaller : Installer
{
    public ProjectInstaller()
    {
        InitializeComponent();
    }
    public override void Install(IDictionary stateSaver)
    {
        ResolveServiceName();
        base.Install(stateSaver);
    }

    private void ResolveServiceName()
    {
        serviceInstaller1.ServiceName = Context.Parameters["ServiceName"];
        serviceInstaller1.DisplayName = Context.Parameters["ServiceName"];
    }
    public override void Uninstall(IDictionary savedState)
    {
        ResolveServiceName();
        base.Uninstall(savedState);
    }
} 
```

当你安装服务时，你提供`ServiceName`参数：

```
installutil.exe /ServiceName=foo YourService.exe 
```

# c# - 如何忽略 GridView 中的空单元格

> ID：12242572
> 
> 赞同：0
> 
> 时间：2012-09-03T05:44:52.743
> 
> 标签：c#, asp.net, gridview

我`GridView`对每一行都有一个和编辑链接。我可以单击编辑并在单元格中填充数据，`GridView`并且可以更新`GridView`行并且数据库中的相应表也被更新。

我有一个保存按钮，on_click 会逐列读取每一行并执行一些操作。

`GridView`如果其中的所有单元格都填充了一些数据，则该函数可以正常工作。如果单元格中的单元格`GridView`为空，则会给出**错误：输入字符串格式不正确。**

我试过的代码是：

```
protected void SAVE_GRID_Click(object sender, EventArgs e)
    {
        foreach (GridViewRow row in GridView2.Rows)
        {
            string Loc = row.Cells[1].Text;

            string strg = "SELECT Location_Type FROM Quantity WHERE Locations='" + Loc + "'";
            SqlCommand com = new SqlCommand(strg, con);
            con.Open();
            SqlDataReader sdr = com.ExecuteReader();
            while (sdr.Read())
            {
                Loctype.Text = sdr[0].ToString().Trim();
            }
            con.Close();

            for (int i = 1; i < GridView2.Columns.Count; i++)
            {
                String header = GridView2.Columns[i].HeaderText;                   

                string str = "SELECT Profile_Type FROM Profile_Tooltip WHERE Profile_Name='"+header+"'";
                SqlCommand cmd = new SqlCommand(str,con);
                con.Open();
                SqlDataReader dr = cmd.ExecuteReader();
                while (dr.Read())
                {
                    profiletype.Text = dr[0].ToString().Trim();
                }
                con.Close();

                if (!string.IsNullOrEmpty(row.Cells[i + 1].Text.Trim()))
                {
                    int n = Convert.ToInt16(row.Cells[i + 1].Text);
                    //int n = int.Parse(row.Cells[i].Text);

                    for (int m = Asset_List.Items.Count - 1; m >= 0; m--)
                    {
                        Asset_List.Items.Remove(Asset_List.Items[m]);
                    }

                    for (int j = 1; j <= n; j++)
                    {
                        Asset_List.Items.Add(string.Concat(profiletype.Text, j));
                    }

                    for (int k = 0; k <= Asset_List.Items.Count - 1; k++)
                    {
                        com = new SqlCommand("INSERT INTO " + Label3.Text + " VALUES ('" + Loctype.Text + "','" + Loc + "','" + header + "','" + Asset_List.Items[k] + "')", con);
                        con.Open();
                        com.ExecuteNonQuery();
                        con.Close();
                    }
              }
           }
        }
        SqlCommand comd = new SqlCommand("SELECT * FROM " + Label3.Text + "", con);
        SqlDataAdapter da = new SqlDataAdapter(comd);
        DataTable dt = new DataTable();
        da.Fill(dt);
        GridView1.DataSource = dt;
        GridView1.DataBind();
    } 
```

我想检查单元格是否为空，如果为空，我想递增到下一个单元格而不对空单元格执行任何操作。

请帮我解决这个问题。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:47:41.640

只需使用修剪和刺痛功能

```
 if (!string.IsNullOrEmpty(row.Cells[i].Text.Trim() ) ) 
```

你需要在这里检查

```
 int n = Convert.ToInt16(row.Cells[i + 1].Text); 
```

检查字符串是否可转换为整数或不使用框架的 parse 或 tryparse 方法

```
short n = 0;
if(Int16.TryParse(row.Cells[i + 1].Text,out n);)
{
  //perform function and user n here now
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T05:55:22.807

对我来说最突出的一行是这一行：

```
int n = Convert.ToInt16(row.Cells[i + 1].Text); 
```

我通常使用这样的东西来避免异常：

```
int n = 0;  
bool didParse = Int16.TryParse(row.Cells[i + 1].Text, out n);
if (didParse)
{
  //add code here
} 
```

您的错误可能是由于您的单元格文本为空甚至可能为空而引发的异常。

# racket - 试图理解为什么 DrRacket 强调了我的一些 cond 子句

> ID：12242573
> 
> 赞同：1
> 
> 时间：2012-09-03T05:45:10.887
> 
> 标签：racket

[How to Design Programs](http://www.ccs.neu.edu/home/matthias/HtDP2e/part_one.html#%28part._sec~3aenums%29)第二版中的练习 42解释说 DrRacket 突出显示了`cond`下面代码中的最后两个子句，因为测试用例并未涵盖所有可能的用例。

```
; TrafficLight -> TrafficLight
; given state s, determine the next state of the traffic light

(check-expect (traffic-light-next "red") "green")

(define (traffic-light-next s)
  (cond
    [(string=? "red" s) "green"]
    [(string=? "green" s) "yellow"]
    [(string=? "yellow" s) "red"])) 
```

我的理解是`else`最后的一个子句应该涵盖其余的情况，所以我尝试替换最后的表达式：

```
(define (traffic-light-next s)
  (cond
    [(string=? "red" s) "green"]
    [(string=? "green" s) "yellow"]
    [(string=? "yellow" s) "red"]
    [else "green"])) 
```

这并不能解决突出显示的问题。这里发生了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T13:56:00.090

我认为您可能误解了突出显示的目的。代码覆盖工具的重点是确保您有足够的*测试用例*（即`check-expect`s）来覆盖您编写的所有代码，而不是确保您的`cond`子句覆盖数据定义的所有情况。在您的代码段中，您`check-expect`只是在测试`"red"`案例。`check-expect`您可以通过为数据定义的其他两种情况编写 s 来消除突出显示。

另请注意，您实际上不想在`else`此处编写案例，因为您的 a 数据定义`TrafficLight`仅包含三个案例。`else`在不违反您的签名/合同的情况下，您无法测试您的案例。

# tinymce - tinymce 删除多余的空格

> ID：12242582
> 
> 赞同：0
> 
> 时间：2012-09-03T05:45:47.090
> 
> 标签：tinymce

我有一个文本区域 tinymce 文件，可以删除多余的空格，但我不希望这样。

例如，如果在文本区域中，如果我输入 hello，5 个空格，bye，当我保存文件并再次查看时，4 个空格被删除，我看到 hello bye。（删除4个多余的空格）

抱歉，如果我对此不太了解，但我只是想知道这是否是默认功能，或者是否有一种简单的方法可以关闭此功能。（我不想删除多余的空格。）

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T09:14:10.267

这里的问题是现代浏览器不会显示多个空格，而是将它们显示为一个空格。`&nbsp;`这里的解决方案是在内容进入编辑器之前用“”替换每个第二个空格（最好是在服务器端替换它们）。这样浏览器将显示所有空格。

# android - 状态栏上的蓝牙状态

> ID：12242584
> 
> 赞同：0
> 
> 时间：2012-09-03T05:45:58.343
> 
> 标签：android, bluetooth, imageview, status, statusbar

我有自己的应用程序主屏幕作为我的 android 设备的默认主屏幕。我的应用程序中有一个状态栏，我正在使用该状态栏中的 Imageview(onclick) 管理蓝牙连接状态。

如果我单击状态栏中的 Imageview，我将打开/关闭蓝牙。我正在根据蓝牙的状态更改 imageview 的背景。

如果蓝牙开启 - Blueimage

如果蓝牙关闭 - grayImage

所以我的问题是 - 如果我在蓝牙设置页面中启用/禁用蓝牙并按下后退按钮并导航到我的主屏幕，那么我的状态栏中的 Imageview（背景图像）应该会自动更改。

我尝试了很多更新后退按钮时 imageview 的图像（通过覆盖 onbackpressed 方法），但没有结果。

只要我们在蓝牙设置页面中启用/禁用蓝牙并据此状态栏图像视图背景将自动更改，是否有任何类似的 API 可以让我们在变量中读取/存储蓝牙的状态？

非常感谢任何帮助，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:09:02.130

您可以将检查蓝牙状态的代码放在 onRestart() 方法中

像这样：

```
public class yourClass {

 public void onCreate(Bundle savedInstanceState) {

 // your code
 }

 public void onRestart() {

 // put the checked code for the Bluetooth status here  
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:18:54.120

您需要在代码中添加广播接收器，以便在您的活动类中打开或关闭蓝牙后接收。供你参考 ：

```
public void onCreate() {

    IntentFilter filter1 = new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED);
    IntentFilter filter2 = new IntentFilter(BluetoothDevice.ACTION_ACL_DISCONNECT_REQUESTED);
    IntentFilter filter3 = new IntentFilter(BluetoothDevice.ACTION_ACL_DISCONNECTED);
    this.registerReceiver(mReceiver, filter1);
    this.registerReceiver(mReceiver, filter2);
    this.registerReceiver(mReceiver, filter3); 
```

}

//监听蓝牙广播的BroadcastReceiver

```
private final BroadcastReceiver mReceiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);

        if (BluetoothDevice.ACTION_FOUND.equals(action)) {
        ... //Device found
        }
        else if (BluetoothAdapter.ACTION_ACL_CONNECTED.equals(action)) {
        ... //Device is now connected
        }
        else if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {
         ... //Done searching
        }
        else if (BluetoothAdapter.ACTION_ACL_DISCONNECT_REQUESTED.equals(action)) {
        ... //Device is about to disconnect
        }
        else if (BluetoothAdapter.ACTION_ACL_DISCONNECTED.equals(action)) {
        ... //Device has disconnected
        } 
```

一旦您收到状态，请执行您的功能..完成！

# java - 即使评估为真，if 语句也不会执行

> ID：12242587
> 
> 赞同：1
> 
> 时间：2012-09-03T05:46:08.780
> 
> 标签：java

在下面的代码中，下面的块`if(timesout[entry] == "exit")`永远不会执行。我已经验证`timesout[entry]`当前循环在调试模式下设置为“退出”，以及在评估 if 语句之前打印出变量，但无论如何，当我`exit`在提示符下输入时，该块永远不会执行，并且我我很难过为什么。

```
import java.util.Scanner;

public class timetracker {
public static void main(String args[]) {
    boolean exit = false;
    String[] reasons = new String[30];
    String[] timesout = new String[30];
    String[] timesin = new String[30];
    int entry = 0;
    Scanner keyinput = new Scanner(System.in);

    recordloop:
    while(exit == false) {
        //record info

        System.out.println("Enter time out:");
        timesout[entry] = keyinput.nextLine();

        if(timesout[entry] == "exit") {
            exit = true;
            break recordloop;   
        }

        System.out.println("Enter reason:");
        reasons[entry] = keyinput.nextLine();
        System.out.println("Enter time in:");
        timesin[entry] = keyinput.nextLine();

        entry = entry + 1;

    }

    System.out.println("Times away from phone:\n ----- \n");
    int count = entry;
    entry = entry + 1;

    while(count < entry) {
        System.out.println(reasons[count] + ": " + timesout[count] + " - " + timesin[count] + "\n");
        count = count + 1;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T05:46:39.040

```
timesout[entry] == "exit" 
```

用于`equals()`比较字符串，`==`比较引用相等

**看**

*   [Java String.equals 与 ==](https://stackoverflow.com/questions/767372/java-string-equals-versus)
*   [采访：Java等于](https://stackoverflow.com/questions/5712100/interview-java-equals/5712112#5712112)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-03T05:47:17.587

代替

```
if(timesout[entry] == "exit") 
```

采用

```
if(timesout[entry].equals("exit")) 
```

或者

```
if("exit".equals(timesout[entry])) 
```

== 和 equals() 之间的更多信息不同

```
 http://stackoverflow.com/questions/12171783/how-is-it-possible-for-two-string-objects-with-identical-values-not-to-be-equal/12171818#12171818 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:48:45.150

你能试一下吗

```
if("exit".equals(timesout[entry])) 
```

代替

```
if(timesout[entry] == "exit") 
```

正如所`@Jigar Joshi`指出的，您应该[看到](https://stackoverflow.com/questions/767372/java-string-equals-versus)`==`和的区别和含义`equals()`

# php - 带有 OR 条件的 MySQL WHERE

> ID：12242592
> 
> 赞同：2
> 
> 时间：2012-09-03T05:46:38.200
> 
> 标签：php, mysql, sql, where

在 MySQL 上是否有任何快捷方式？

```
WHERE month = 'January' OR month = 'January' OR month = 'February' OR month = 'March' OR month = 'April' OR month = 'May' OR month = 'June' 
```

这个我试过了，好像不行

```
WHERE month = '(January || February || March || April || May || June)' 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T05:55:17.660

要回答您的问题：

```
WHERE `month` IN ('January', 'February', 'March', 'April', 'May', 'June'); 
```

在php中

```
$months = array('January', 'February', 'March', 'April', 'May', 'June');
$sql .= "WHERE `month` IN ('".implode("', '", $months)."')"; 
```

除此之外：当存储日期（例如月份）时，最好将它们存储为整数值，而不是字符串。这将有助于提高性能，I18N，如果你使用 int 值，你可以使用 BETWEEN

```
WHERE `month` BETWEEN 1 AND 6 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T05:47:36.220

是的，您可以[`IN`](http://www.tutorialspoint.com/mysql/mysql-in-clause.htm)为此使用子句。像这样：

```
WHERE month in ('January','February','March','April','May','June') 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-03T05:47:34.707

使用`IN`子句。

```
WHERE `month` IN ('January','February','March','April', 'May','June') 
```

看到反引号了`month`吗？**[由于存在名为Month( )](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_month)**的内置函数，它转义了关键字*月*

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-03T05:48:23.613

尝试..

```
WHERE month IN ('January', 'February', 'March', 'April', 'May', 'June'); 
```

# performance - File::Slurp 更快地将文件写入 perl

> ID：12242599
> 
> 赞同：5
> 
> 时间：2012-09-03T05:47:20.970
> 
> 标签：performance, perl, file-io, fileslurp

我有一个 perl 脚本，我在其中写出一个非常大的日志文件。目前我用“传统”的 Perl 方式写出我的文件：

```
open FILE, ">", 'log.txt';
print FILE $line;
.....
close FILE; 
```

在读取文件时，我听说过很多关于[File::Slurp](https://metacpan.org/module/File::Slurp)的好消息，以及它如何极大地改善运行时。我的问题是，使用 File::Slurp 会更快地写出我的日志文件吗？我问是因为用 perl 写出一个文件看起来很简单，我不知道 File::Slurp 如何真正优化它。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T12:03:32.063

在某些情况下，这些`File::Slurp`实用程序总体上可能比等效的流式实现要快一些，但文件 I/O 比仅基于内存和 CPU 速度的任何东西慢得多，以至于它几乎总是限制资源。

我从未听说过任何`File::Slurp`可以*大大改善运行时*的声明，并且希望看到对这种效果的引用。我认为它是一个更有效的解决方案的唯一方法是程序需要随机访问文件或必须多次读取它。因为数据一次全部在内存中，所以访问任何数据都没有开销，但在这种情况下，我的偏好是`Tie::File`让数据*看起来*好像所有数据都同时可用，对速度的影响很小，内存开销也少得多

事实上，很可能是调用`read_file`使该过程在用户看来要慢得多。如果文件非常大，那么读取*所有*文件并将其拆分为行所花费的时间可能会导致处理开始之前的明显延迟，而打开文件并读取第一行通常看起来是瞬时的

这同样适用于程序结束时。调用`write_file`将数据组合到磁盘块并将其分页到文件中，将比简单地关闭文件花费更长的时间

一般来说，传统的流式输出方法更可取。它对速度的影响很小或没有影响，并通过增量保存数据来避免数据丢失，而不是等到大量数据在内存中积累后才发现由于某种原因无法将其写入磁盘

我的建议是，`File::Slurp`当您有随机访问可以显着简化程序代码的小文件时，您保留使用。即使这样也没有错

```
my @data = do {
  open my $fh, '<', 'my_file' or die $!;
  <$fh>;
}; 
```

用于输入，或

```
open my $fh, '>', 'out_file' or die $!;
print { $fh } for @data; 
```

用于输出。特别是在您的情况下，您正在处理一个*非常大的日志文件*，我认为毫无疑问您应该坚持使用流式输出方法

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-03T06:40:41.163

`File::Slurp`主要是一个便利功能。而不是编写通常的`open`, `while read/write`,`close`代码你只有一行`read_file`和`write_file`.

但是，我不知道它是否比您自己的代码快。它是用 Perl 编码的，而不是用 C 编码的。此外，在使用它的数组变体的情况下，`write_file $file_name, @lines`它在内存方面也可能效率低下，因为它首先将所有数组行连接成一个单一的标量，然后再将其写出。

但是，它确实使用`syswrite`而不是缓冲写入。它可以安全地做到这一点，因为它是在其生命周期内访问文件句柄的唯一函数。所以是的，因此它可能会更快。

# java - Netbeans 默认选项，使用更多内存启动 jvm

> ID：12242602
> 
> 赞同：0
> 
> 时间：2012-09-03T05:47:28.473
> 
> 标签：java, netbeans, netbeans-7, out-of-memory

我得到 OutOfMemoryException。我通过Project->Properties->Run->VM Options增加了netbeans中jvm的内存到-Xms1600M -Xmx1600M。

我在 Windows 7 4GB RAM JDK 1.7 版 Netbeans 7.0.1 版上运行 32 位 java

但是当我跑步时，

```
System.out.println("MaxMemory: " + Runtime.getRuntime().maxMemory()/1024/1024);
System.out.println("FeeMemory: " + Runtime.getRuntime().freeMemory()/1024/1024);
System.out.println("TotalMemory: " + Runtime.getRuntime().totalMemory()/1024/1024); 
```

我明白了

`MaxMemory: 247 FeeMemory: 14 TotalMemory: 15`

我试图通过 changinf netbeans.conf 文件更改 netbeans_default_options。

```
netbeans_default_options="-J-client -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true" 
```

至

```
netbeans_default_options="-J-client -J-Xss2m -J-Xmx1800m -J-XX:+UseConcMarkSweepGC -J-XX:+CMSClassUnloadingEnabled -J-XX:+CMSPermGenSweepingEnabled -J-Xms32m -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true" 
```

但它给了我 JVM 创建失败的错误。

**已编辑**

正如建议所做的更改：

```
netbeans_default_options="-J-client -J-Xss2m -J-Xmx1400m -J-Xms1400m -J-XX:+UseConcMarkSweepGC -J-XX:+CMSClassUnloadingEnabled -J-XX:+CMSPermGenSweepingEnabled -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true" 
```

仍然收到 JVM Creation failed 错误

帮助。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T14:18:55.623

我不太确定，但据我所知，如果您在 32 位环境中运行，则不能为 jvm 分配超过 1GB 的内存。

有关更多信息，请参阅此链接[http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T13:48:14.493

我卸载了所有东西（java和netbeans）并重新安装了所有东西（java和netbeans）。它仍然无法分配 -Xmx1400m 但分配 -Xmx1000m 并且运行良好。谢谢大家的努力。

# php - 我们如何使用 wordpress 中的脚本创建类别的子类别？

> ID：12242609
> 
> 赞同：0
> 
> 时间：2012-09-03T05:47:55.783
> 
> 标签：php, wordpress

当我尝试使用此代码时，这似乎很好，但只创建了几个子类别，很少有没有。我没有得到问题。请告诉我是否缺少某些东西。

```
$catIdOfTransport='112';
wp_create_category('car',$catIdOfTransport) ;
$arr=array('maruti','nano','bmw');
$val=count($arr);
for($j=0;$j<$val;$j++){ wp_create_category( $arr[$j], 'car'); } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T05:52:17.573

wp_create_category($values, $parent);

```
 $valow=strtolower($values);
    $slugcre=str_replace(" ","-",$valow);
    $slugname=$slugcre."-transpost";
    $idObj = get_category_by_slug($slugname); 

    $id = $idObj->term_id;
    $parent1=$id;
    $val=count($arr[$i]);

    for($j=0;$j<$val;$j++)
             {
                wp_create_category( $arr[$i][$j], $parent1);
             } 
```

我认为这段代码可以帮助你。

谢谢

# java - 无法使用 CustomTableModel 将 JButton 添加到 JTable

> ID：12242616
> 
> 赞同：0
> 
> 时间：2012-09-03T05:48:23.920
> 
> 标签：java, swing, jtable, jbutton, abstracttablemodel

我正在使用扩展 AbstractTableModel 的 CustomTableModel 创建一个表。我无法使用我的自定义模型将 JButton 添加到列中。如果我对模型执行 new JButton("One") .. 我看到的是文本“javax.swing.JButton[,0 ....,defaultCapable=true]”而不是按钮。任何帮助表示赞赏。

```
public class CustomModelForTable extends AbstractTableModel {

/**
 * 
 */
private static final long serialVersionUID = 1L;

private String[] columnNames = {"First Name",
        "Last Name",
        "Sport",
        "# of Years",
        "Vegetarian",
        "Button"};

private Object[][] data = {
                            {"Kathy", "Smith", "Snowboarding", new Integer(5), new Boolean(false), new JButton("One")},
                            {"John", "Doe", "Rowing", new Integer(3), new Boolean(true), new JButton("Two")},
                            {"Sue", "Black", "Knitting", new Integer(2), new Boolean(false), new JButton("three")},
                            {"Jane", "White", "Speed reading", new Integer(20), new Boolean(true), new JButton("Four")},
                            {"Joe", "Brown", "Pool", new Integer(10), new Boolean(false), new JButton("Five")}
                          };

// # of Rows;
public int getRowCount() {
    return data.length;
}

// # of Columns;
public int getColumnCount() {
    return columnNames.length;
}

public Object getValueAt(int rowIndex, int columnIndex) {
    return data[rowIndex][columnIndex];
}

public Class getColumnClass(int column) {
    return getValueAt(0, column).getClass();
}

public boolean isCellEditable(int rowIndex, int columnIndex) {
    return true;
}

public void setValueAt(Object value, int rowIndex, int columnIndex) {
    if(isCellEditable(rowIndex, columnIndex)) {
       data[rowIndex][columnIndex] = value;
    }
}
} 
```

**编辑：** 我能够通过实现 TableCellRenderer 添加 JButton。谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:12:41.280

通过实现 TableCellRenderer，我可以向表格添加按钮。

```
class CustomModelForTable extends AbstractTableModel {
// Code
// After creating table using model.

 TableCellRenderer defaultRenderer = tableA.getDefaultRenderer(JButton.class);
    tableA.setDefaultRenderer(JButton.class, new      JButtonRendererClass(defaultRenderer) );
// Code
}

class JButtonRendererClass implements TableCellRenderer {

private TableCellRenderer __defaultRenderer;

public JButtonRendererClass(TableCellRenderer myRenderer) {
    __defaultRenderer = myRenderer;
}

public Component getTableCellRendererComponent(JTable table, Object value,
        boolean isSelected, boolean hasFocus, int row, int column) {
    if(value instanceof Component) {
        return (Component) value;
    }
    return __defaultRenderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);
}
} 
```

认为它可能对某人有用。

# visual-studio-2010 - 在调试构建期间跳过安装项目

> ID：12242618
> 
> 赞同：0
> 
> 时间：2012-09-03T05:48:34.470
> 
> 标签：visual-studio-2010, windows-installer, installation

我有一个设置项目，我应该只在发布模式构建期间构建。在调试模式构建期间如何配置以跳过此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T16:45:45.570

转到构建-> 配置管理器。在 Active Solution Configuration 中选择 Debug 取消 Build and Deploy

因此，当您调试时，这将阻止它构建安装项目

# iphone - 集成 Gdata 以在 Youtube 上上传视频时出错

> ID：12242620
> 
> 赞同：0
> 
> 时间：2012-09-03T05:48:41.130
> 
> 标签：iphone, gdata

[要通过您的管上传视频，我将按照此链接http://hoishing.wordpress.com/2011/08/23/gdata-objective-c-client-setup-in-xcode-4](http://hoishing.wordpress.com/2011/08/23/gdata-objective-c-client-setup-in-xcode-4/)中描述的步骤集成 GData 项目[/](http://hoishing.wordpress.com/2011/08/23/gdata-objective-c-client-setup-in-xcode-4/)

完成所有步骤后，我收到错误

```
 "_OBJC_CLASS_$_GDataEntryYouTubeUpload", referenced from:
  objc-class-ref in LibraryViewController.o

"_OBJC_CLASS_$_GDataMediaCategory", referenced from:
  objc-class-ref in LibraryViewController.o
"_OBJC_CLASS_$_GDataMediaDescription", referenced from:
  objc-class-ref in LibraryViewController.o
"_OBJC_CLASS_$_GDataMediaKeywords", referenced from:
  objc-class-ref in LibraryViewController.o
"_OBJC_CLASS_$_GDataMediaTitle", referenced from:
  objc-class-ref in LibraryViewController.o
"_OBJC_CLASS_$_GDataServiceGoogleYouTube", referenced from:
  objc-class-ref in LibraryViewController.o 
```

我该如何解决这些问题？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:47:41.943

由于以下原因，您将收到这些错误：

1）您的实现文件或 nib 文件未添加到您的目标中。或 2) 缺少任何框架。

对于第一个，您检查文件 LibraryViewController 的构建阶段。第二个是通过 GData 的自述文件或 GData 中的任何头文件，将给出详细信息。

# .net - 如何在 VB.NET 中编写事件处理程序？

> ID：12242628
> 
> 赞同：1
> 
> 时间：2012-09-03T05:49:35.057
> 
> 标签：.net, vb.net, events, event-handling, visual-studio-2005

我正在尝试在 VB.NET 中测试非常简单的事件处理。

到目前为止，我有：

```
Public Delegate Sub TestEventDelegate()
Public Event TestEvent As TestEventDelegate

Sub MySub
    Raise TestEvent
End Sub 
```

您将如何为上述仅显示简单的事件编写事件处理程序`MessageBox`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-03T05:55:14.220

编写处理程序方法很简单——只需编写一个`Sub`不带参数并显示消息框的方法。

然后，您需要将处理程序订阅到该事件，您可以[`Handles`](http://msdn.microsoft.com/en-us/library/6k46st1y.aspx)在方法中添加一个子句：

```
Sub ShowMessageBox() Handles foo.TestEvent 
```

或者通过使用[`AddHandler`](http://msdn.microsoft.com/en-us/library/7taxzxka.aspx)语句：

```
AddHandler foo.TestEvent, AddressOf ShowMessageBox 
```

Note that to follow .NET conventions, your delegate should have two parameters - one of type `Object` to specify which object raised the event, and one of type `EventArgs` or a subclass, to provide any extra information. This isn't *required* by the language, but it's a broadly-followed convention.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T05:55:02.187

在VB中，我们有两种方法来订阅`Publisher`类的事件。

```
'Delegate
Public Delegate Sub TestEventDelegate()

'Event publisher class that publishes and raises an event

Public Class EventPublisher
    Private _num As Integer
    Public Event NumberChanged As TestEventDelegate
    Public Property Number As Integer
        Get
            Return _num
        End Get
        Set(value As Integer)
            _num = value
            RaiseEvent NumberChanged()
        End Set
    End Property
End Class

'Event subscriber class

Public Class EventSubscriber
    'instance of EventPublisher class
    Private WithEvents myObject As New EventPublisher

    'Handler of myObject.NumberChanged event
    Public Sub ShowMessage() Handles myObject.NumberChanged
        Console.WriteLine("Value has been changed")
    End Sub

    Shared Sub Main()
        Dim es As New EventSubscriber
        es.myObject.Number = 10
        es.myObject.Number = 20

        'Handle the events dynamically using AddHandler
        Dim ep1 As New EventPublisher
        ep1.Number = 101
        'Attach an event to the handler
        AddHandler ep1.NumberChanged, AddressOf TestIt
        ep1.Number = 102
    End Sub
    Shared Sub TestIt()
        Console.WriteLine("Number is modified")
    End Sub
End Class 
```

# android - 无法导入和引擎库

> ID：12242631
> 
> 赞同：1
> 
> 时间：2012-09-03T05:50:20.960
> 
> 标签：android, eclipse, andengine

我正在尝试将 andegine 导入我的项目。我[在这里](https://github.com/nicolasgramlich/AndEngine)下载了它。但是我不能在我的 eclipse juno 移动版上导入它。这是图像。

![在此处输入图像描述](../Images/7223fb20b5c6e3dca44eec386fad060f.png)

任何人都可以帮助我吗？谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:04:43.003

您应该能够将**andEngine**的 jar 文件添加到您当前的项目中。由于它是一个库项目，只需将文件添加到您的*lib*文件夹中即可访问该库。

# c++ - 如何判断 opencv 中 CvSVMParams 的默认参数是什么？

> ID：12242632
> 
> 赞同：-2
> 
> 时间：2012-09-03T05:50:38.537
> 
> 标签：c++, opencv, svm

我对 opencv 很陌生，刚刚习惯了 C++ 编程，所以这个问题可能很愚蠢。如果我将它们保留为默认值并在不修改它们的情况下训练分类器，那么初始化“struct CvSVMParams”中的参数是什么值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T09:51:54.867

好吧，因为opencv是开源的，你可以看看源代码

但是用谷歌搜索通常会更快，比如[https://www.google.no/search?q=struct+CvSVMParams](https://www.google.no/search?q=struct+CvSVMParams)

然后右键单击第三次点击，在 opencv**文档** [http://docs.opencv.org/modules/ml/doc/support_vector_machines.html结束](http://docs.opencv.org/modules/ml/doc/support_vector_machines.html)

然后使用浏览器的页面搜索功能（通常 [Ctrl F] 表示“查找”）在该页面中查找文本“CvSVMParams”，将页面引导至[http://docs.opencv.org/modules/ml/doc /support_vector_machines.html#cvsvmparams-cvsvmparams](http://docs.opencv.org/modules/ml/doc/support_vector_machines.html#cvsvmparams-cvsvmparams)

在这一点上，这是**阅读文档的问题**

这是一项必不可少的技能，所以我不会在这里重复我在 0.5 秒左右找到的内容来破坏它——看看吧。我还建议尝试自己从头开始搜索。因为这也是你需要的一项基本技能，必须经过培训

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-15T10:46:11.927

这是构造函数：

[https://github.com/Itseez/opencv/blob/ddf82d0b154873510802ef75c53e628cd7b2cb13/modules/ml/src/svm.cpp](https://github.com/Itseez/opencv/blob/ddf82d0b154873510802ef75c53e628cd7b2cb13/modules/ml/src/svm.cpp)

```
// SVM training parameters
struct SvmParams
{
    int         svmType;
    int         kernelType;
    double      gamma;
    double      coef0;
    double      degree;
    double      C;
    double      nu;
    double      p;
    Mat         classWeights;
    TermCriteria termCrit;

    SvmParams()
    {
        svmType = SVM::C_SVC;
        kernelType = SVM::RBF;
        degree = 0;
        gamma = 1;
        coef0 = 0;
        C = 1;
        nu = 0;
        p = 0;
        termCrit = TermCriteria( CV_TERMCRIT_ITER+CV_TERMCRIT_EPS, 1000, FLT_EPSILON );
    }

    SvmParams( int _svmType, int _kernelType,
            double _degree, double _gamma, double _coef0,
            double _Con, double _nu, double _p,
            const Mat& _classWeights, TermCriteria _termCrit )
    {
        svmType = _svmType;
        kernelType = _kernelType;
        degree = _degree;
        gamma = _gamma;
        coef0 = _coef0;
        C = _Con;
        nu = _nu;
        p = _p;
        classWeights = _classWeights;
        termCrit = _termCrit;
    }

}; 
```

# objective-c - 如何在 UIImageview 上检测 touchbegan、touchmoved 和 touchend？

> ID：12242635
> 
> 赞同：0
> 
> 时间：2012-09-03T05:50:55.357
> 
> 标签：objective-c, uiimageview, touch

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *hlCellID = @"hlCellID";

UITableViewCell *hlcell = [tableView dequeueReusableCellWithIdentifier:hlCellID];
if(hlcell == nil) {
    hlcell =  [[[UITableViewCell alloc]
                initWithStyle:UITableViewCellStyleDefault reuseIdentifier:hlCellID] autorelease];
    hlcell.accessoryType = UITableViewCellAccessoryNone;
    hlcell.selectionStyle = UITableViewCellSelectionStyleNone;
}

int section = indexPath.section;
NSMutableArray *sectionItems = [sections objectAtIndex:section];

int n = [sectionItems count];
int i=0, i1=0;

while(i<n){
    int yy = 5 + i1*65;
    int j=0;
    for(j=0; j<4;j++){
        if (i>=n) break;
        Item *item = [sectionItems objectAtIndex:i];

        CGRect rect = CGRectMake(5 + j* 65, yy, 55, 55);
        UIImageView *imageview=[[UIImageView alloc] initWithFrame:rect];
        [imageview setFrame:rect];
        UIImage *image = [UIImage imageNamed:item.imagepath];
        [imageview setImage:image];
        [imageview setUserInteractionEnabled:YES];
        [hlcell.contentView addSubview:imageview];
        [imageview release];
        i++;
    }
    i1 = i1+1;
}

return hlcell;
} 
```

我不是在 xib 中创建 uimageview，而是在代码中。那么如何检测哪个图像开始并拖动到哪里，最后在哪个图像结束？

**更新**

我已经添加了这个

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
[super touchesBegan:touches withEvent:event];
UITouch *touch = [touches anyObject];

//CGPoint location = [touch locationInView:self.view];
if (touch.view == imageview)
NSLog(@"%@", touch.view);
} 
```

但是，它不记录。

# javascript - 如何“暂停”等待用户操作的 Javascript 循环

> ID：12242646
> 
> 赞同：0
> 
> 时间：2012-09-03T05:52:15.577
> 
> 标签：javascript, jquery, jquery-deferred

我有一个循环，在某些情况下，我试图让一个 Jquery 延迟对象在继续或中断循环之前等待用户输入。

如果我将`confirm().then(`块放在它之前，`function confirm(){`它会告诉我确认函数中没有足够的参数。如果我把它放在之后，那么循环永远不会“暂停”等待用户交互。

感谢您的帮助。

谢谢

```
 for(...) {
          if (condition_that_needs_user_interaction){          
              function confirm() {  
                var defer = $.Deferred(); 
                $('<div div="dialogError"></div>').html("Error. Continue?").dialog({
                                            autoOpen: true,
                                            close: function() {  
                                        $(this).dialog('destroy');
                                    },
                                        title: '<span style="color: red";>Warning!</span>',
                                        modal: true,
                                        buttons: {
                                            'No': function() { 
                                                defer.resolve("no"); 
                                               $(this).dialog("close"); 
                                            },
                                            'Yes': function() { 
                                            defer.resolve("yes");
                                                                $(this).dialog("close"); 
                                            },
                                            'Apply to All': function() {                            
                                            defer.resolve("all"); 
                                                $(this).dialog("close"); 
                                            }
                                        }
                                });

                                return defer.promise(); 
                            }

                            confirm().then(
                                function (answer) {
                                    if(answer == "No") return false;
                                    else if(answer == "Yes") {
                                        //do something;
                                    } else if (answer == "all") {
                                        //do something;
                                    }

                                }, function(answer) {

                                }, function(answer) {

                                });
           } else {
        // biz as usual
           }
    } //end for loop 
```

# javascript - 我如何从用户那里读取键盘值？

> ID：12242654
> 
> 赞同：-3
> 
> 时间：2012-09-03T05:52:48.287
> 
> 标签：javascript

我有一个非常简单的 javascript 项目，我想`<div>`用 onclick 事件翻译我的。如何从用户那里读取键盘值来运行我的功能？我只需要箭头按钮。谢谢。

```
upButton.onclick = function() {
moveUp(player);
playerY--;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T05:55:07.177

我在这里的回答是它是如何确定按下的确切内容的：[在 HTML5 画布中创建关键事件的最佳方法是什么？](https://stackoverflow.com/questions/12241113/whats-the-best-way-to-create-key-events-in-html5-canvas/12241197#12241197)

**编辑：**正如我在该链接上的回答所说：您不能只抓住箭头键，而是必须听所有键，然后确定它是否是您想要的键，然后执行您想要的任何功能/操作。所有这些都在该答案中说明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T07:28:26.690

为了让您的用户使用上、下、左、右键盘功能，您必须知道如何在 javascript 上使用 onkeypress 事件。

如果您使用的是 javascript，这里是 onkeypress 的链接：http: [//www.w3schools.com/jsref/event_onkeypress.asp](http://www.w3schools.com/jsref/event_onkeypress.asp)

如果您使用的是 jquery，这里是 .keypress() 的链接：http:
[//api.jquery.com/keypress/](http://api.jquery.com/keypress/)

箭头的代码如下：

*   37 - 左
*   38 岁以上
*   39 - 对
*   40 - 下

# java - Android内存不足错误

> ID：12242655
> 
> 赞同：0
> 
> 时间：2012-09-03T05:52:59.783
> 
> 标签：java, android, memory

我有一个应用程序需要将它保存的 3 个数据库表与 Android 联系人列表同步。

我遍历联系人列表，并为返回的每一行创建一个自定义对象，并将该对象属性与我为该联系人存储在我的应用程序表中的内容进行比较。

此任务在异步任务中执行。

它第一次运行时对我来说很好，但是如果我离开应用程序并多次返回它会中断并返回以下错误。有任何想法吗？

```
09-03 06:42:19.070: E/IMemory(31018): cannot dup fd=1023, size=2097152, err=0 (Too many open files)

09-03 06:42:19.070: E/IMemory(31018): cannot map BpMemoryHeap (binder=0x1197738), size=2097152, fd=-1 (Bad file number)

09-03 06:42:19.070: E/JavaBinder(31018): *** Uncaught remote exception!  (Exceptions are not yet supported across processes.)

09-03 06:42:19.070: E/JavaBinder(31018): java.lang.RuntimeException: No memory in memObj
09-03 
06:42:19.070: E/JavaBinder(31018):  at android.database.CursorWindow.native_init(Native Method)
09-03 
06:42:19.070: E/JavaBinder(31018):  at android.database.CursorWindow.<init>(CursorWindow.java:518)
09-03 
06:42:19.070: E/JavaBinder(31018):  at android.database.CursorWindow.<init>(CursorWindow.java:27)
09-03 
06:42:19.070: E/JavaBinder(31018):  at android.database.CursorWindow$1.createFromParcel(CursorWindow.java:493)

09-03 06:42:19.070: E/JavaBinder(31018):    at android.database.CursorWindow$1.createFromParcel(CursorWindow.java:496)
09-03 06:42:19.070: E/JavaBinder(31018):    at android.content.ContentProviderNative.onTransact(ContentProviderNative.java:103)
09-03 06:42:19.070: E/JavaBinder(31018):    at android.os.Binder.execTransact(Binder.java:288)
09-03 06:42:19.070: E/JavaBinder(31018):    at dalvik.system.NativeStart.run(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:02:44.673

```
E/IMemory(31018): cannot dup fd=1023, size=2097152, err=0 (Too many open files)

android.database.CursorWindow.native_init(Native Method) 
```

这两行表明你正在用光标弄乱一些东西，比如不关闭等，

我建议正确关闭所有游标并观察应用程序的行为。

# c# - 如何将此字符串拆分为数组？

> ID：12242657
> 
> 赞同：-1
> 
> 时间：2012-09-03T05:53:09.627
> 
> 标签：c#, arrays, string, split

我有字符串（来自文件）：

```
 [\x22thanh\x22,
        [[\x22thanh\\u003Cb\\u003E nien\\u003C\\/b\\u003E\x22,0,[]],
        [\x22thanh\\u003Cb\\u003E ca\\u003C\\/b\\u003E\x22,0,[]],
        [\x22thanh\\u003Cb\\u003E nhan\\u003C\\/b\\u003E\x22,0,[]],
        [\x22thanh\\u003Cb\\u003E thao\\u003C\\/b\\u003E\x22,0,[]]
    ] 
```

我将此字符串保存为变量名“s”。我想拆分“[\x22”和“\x22”之间的所有字符串，然后保存到一个名为“s2”的数组中。我怎么能做到这一点？非常感谢你！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T05:55:37.930

您可以执行以下操作：

```
var myArray = myString.Split("[\x22"); 
```

你也想删除最后一个字符吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T05:57:48.187

```
string[] s2 = s.Split(new string[] {@"[\x22", @"\x22"}, 
                        StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T05:57:33.070

您可以找到第一个 \x22 和下一个 \x22 字符串的位置。接下来，您应该复制该位置之间的文本。您可以使用`IndexOf`方法获得位置。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-03T06:10:12.467

```
 string s = @"[\x22thanh\x22,
    [[\x22thanh\\u003Cb\\u003E nien\\u003C\\/b\\u003E\x22,0,[]],
    [\x22thanh\\u003Cb\\u003E ca\\u003C\\/b\\u003E\x22,0,[]],
    [\x22thanh\\u003Cb\\u003E nhan\\u003C\\/b\\u003E\x22,0,[]],
    [\x22thanh\\u003Cb\\u003E thao\\u003C\\/b\\u003E\x22,0,[]]
]";
        string start = @"[\x22";
        string end = @"\x22";
        int pos = -1;

        List<string> list = new List<string>();

        while ((pos = s.IndexOf(start)) > -1)
        {
            s = s.Substring(pos + start.Length);
            if ((pos = s.IndexOf(end)) > -1)
            {
                list.Add(s.Substring(0, pos));
                s = s.Substring(pos + end.Length);
            }
            else
                break;
        }

        string[] s2 = list.ToArray(); 
```

**编辑**

使用相同的结果`Split`：

```
 string[] s2 = s.Split(new string[] { @"[\x22" }, 
                        StringSplitOptions.RemoveEmptyEntries)
                 .Select(i => i.Substring(0, i.IndexOf(@"\x22")))
                 .ToArray(); 
```

# java - 浏览器内小程序自动化

> ID：12242661
> 
> 赞同：-1
> 
> 时间：2012-09-03T05:53:45.617
> 
> 标签：java, applet, automation

我正在尝试自动化浏览器内的小程序。目前我正在使用反射和可访问性进行自动化，但对于浏览器内的小程序，我没有找到任何方法。

谁能提供一种方法或示例代码来做到这一点？

感谢您对问题的看法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T08:22:56.033

扩展小程序以控制它。一旦扩展，就可以直接访问控件。添加您需要的任何功能以使其自动化。

2种可能性是：

1.  创建套接字以使小程序由远程应用程序控制。
2.  提供可以使用 JavaScript 调用的公共方法。

当然，您需要在自己的 HTML 中托管扩展的小程序。

# java - 如何在 SQL 查询中将字符串转换为日期时间？

> ID：12242667
> 
> 赞同：0
> 
> 时间：2012-09-03T05:54:33.807
> 
> 标签：java, sql-server-2005, jdbc

> **可能重复：**
> [TSQL：来自字符串错误的日期时间](https://stackoverflow.com/questions/10494528/tsql-datetime-from-character-string-error)

我无法将字符串转换为日期时间。我正在使用 SQL Server 2005。

```
String frmDate="03/09/2012";
String toDate="04/09/2012";

SimpleDateFormat formater = new SimpleDateFormat("dd/MM/yyyy");
Date frmDate1 = formater.parse(frmDate);
Date toDate1=formater.parse(toDate);

 String query3="select * from dbo.Monthly_PFSPL "  +  
    "where Convert (datetime,Added_Date,103) "  +  
"between '"+frmDate1+"' and '"+toDate1+"' ";
        rsobj1=stat2.executeQuery(query3); 
```

我得到了这个例外：

```
java.sql.SQLException: Conversion failed when converting datetime from character string 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:31:07.133

You *must* have to use PreparedStatement and parameterized SQL statement.

```
String query="select * from dbo.Monthly_PFSPL where Convert(datetime,Added_Date,103) between  ? and ?"; 
```

# c# - COM+ 远程错误代码 8000401a 因为此用户在身份选项卡下的密码被重置

> ID：12242671
> 
> 赞同：8
> 
> 时间：2012-09-03T05:55:02.240
> 
> 标签：c#, .net, com, remoting, com+

我是我的 COM+ 服务器计算机的管理员，我的 COM+ 服务器组件身份设置为“此用户”并在那里提供了我的凭据。我可以从客户端机器调用我的组件。但客户端应用程序将在一段时间后停止工作，错误代码为 8000401a。所以我关闭了我的服务器应用程序，当我重新启动应用程序时，它显示错误用户名和密码不正确，错误代码为 8000401a。当我再次重新输入密码并重新设置密码时。它工作正常。似乎我在身份选项卡中输入的密码正在重置？为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-05T10:52:38.740

The short answer is that your domain account looses its **Log on as a batch job** privilege on every Active Directory resync and the server app is unable to restart afterwards. Re-entering your credentials restores the privilege only temporarily.

You have to permanently give the **Log on as a batch job** privilege to your account via the GPO on the domain controler (see [Q312497](http://support.microsoft.com/kb/312497) for the complete description).

I'm not sure why, but I've had a case where the **Log on as a service** privilege was also required (try that as well if the **Log on as a batch job** doesn't do it).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T16:58:07.883

如果是“此用户”，则检查以确保用户凭据可以访问文件系统和应用程序所需的任何二进制文件。

# postgresql - 在 PostgreSQL 中查找集群给定节点

> ID：12242672
> 
> 赞同：3
> 
> 时间：2012-09-03T05:55:06.197
> 
> 标签：postgresql, postgresql-9.1, recursive-query

我在 Postgres 9.1 中表示一个图（恰好是双向和循环的）：

```
CREATE TABLE nodes (
  id          SERIAL PRIMARY KEY,
  name        text
);

CREATE TABLE edges (
  id          SERIAL PRIMARY KEY,
  node1_id    int REFERENCES nodes(id),
  node2_id    int REFERENCES nodes(id)
); 
```

给定一个特定的节点 ID，想要检索该集群中的所有其他节点。[我从这里](http://explainextended.com/2010/12/24/postgresql-parametrizing-a-recursive-cte/)的“来自单个节点的路径”示例开始，这就是我得到的地方：

```
WITH RECURSIVE search_graph(id, path) AS (
    SELECT id, ARRAY[id]
    FROM nodes
  UNION
    SELECT e.node2_id, sg.path || e.node2_id
    FROM search_graph sg
    JOIN edges e
    ON e.node1_id = sg.id
)
-- find all nodes connected to node 3
SELECT DISTINCT id FROM search_graph WHERE path @> ARRAY[3]; 
```

我不知道a）是否有更简单的方法来编写它，因为我不关心收集完整的`path`，以及b）如何使它在两个方向上遍历（`node1`->`node2`和`node2`->`node1`每个边缘）。对一个好的方法有任何启发将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:46:48.797

几点。

首先，你真的想确保你的路径遍历不会进入循环。其次处理双方也不错。最后，根据您在做什么，您可能希望以某种方式将 where 子句推入 CTE，以减少生成每个可能的图网络，然后选择您想要的。

双向遍历本身并不难。我没有对此进行测试，但应该可以通过以下方式进行测试：

```
WITH RECURSIVE search_graph(path, last_node1, last_node2) AS (
     SELECT ARRAY[id], id, id
     FROM nodes WHERE id = 3 -- start where we want to start!
     UNION ALL
     SELECT sg.path || e.node2_id || e.node1_id, e.node1_id, e.node2_id
     FROM search_graph sg
     JOIN edges e
     ON (e.node1_id = sg.last_node2 AND NOT path @> array[e.node2_id]) 
        OR (e.node2_id = sg.last_node1 AND NOT path @> array[e.node1_id])
 )
-- Moved where clause to start of graph search
SELECT distinct unnest(path) FROM search_graph;  -- duplicates possible 
```

希望这可以帮助。

# php - PHP 从一周中获取日期

> ID：12242679
> 
> 赞同：0
> 
> 时间：2012-09-03T05:55:24.703
> 
> 标签：php, date

如何使用 for 循环（7 天）获取特定周的日期

例如，

```
$date_start = '2012/09/03'; 
```

我想获得功能日期，即。`'2012/09/04','2012/09/05','2012/09/06'...'2012/09/08'`一个星期。

我得到了代码，但是执行需要很长时间：

而（strtotime（$start_date）<= strtotime（$end_date））{}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:01:17.543

这是您可以这样做的解决方案

```
$date_start = '2012/09/03';

$end_date = date ("Y/m/d", strtotime("+7 day", strtotime($date_start)));

while (strtotime($date_start) <= strtotime($end_date)) {
        echo $date_start = date ("Y/m/d", strtotime("+1 day", strtotime($date_start)));         

    } 
```

这是现场工作示例

[演示](http://phpfiddle.org/main/code/in4-gjx)

或者只是访问链接..希望它有所帮助

[循环中的php未来日期](http://www.if-not-true-then-false.com/2009/php-loop-through-dates-from-date-to-date-with-strtotime-function/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-03T06:00:14.573

```
$date = '2012/09/03'; // Start date
$date_seconds = strtodste($date); // Unix-time format (in seconds from 01.01.1970)
$week_seconds = 3600 * 24 * 7; // Second in week = 604800

while(true){

    $date_seconds += $week_seconds;

    var_dump(date('Y/d/m', $date_seconds));

} 
```

# iphone - iphone中带有加速度计值的移动物体？

> ID：12242682
> 
> 赞同：1
> 
> 时间：2012-09-03T05:55:50.663
> 
> 标签：iphone, direction, coordinate, uiaccelerometer

我正在使用 UIAccelerometer 开发一个应用程序，并且我检索了 x、y、z 值。我需要使用这些值来移动一个对象（考虑 UIImageView）。

这是我的代码

```
 UIAccelerometer *accel = [UIAccelerometer sharedAccelerometer];
         accel.delegate = self;
         accel.updateInterval = 1.0f/60.0f;

 - (void)accelerometer:(UIAccelerometer *)acel didAccelerate:(UIAcceleration *)aceler 
      {

     NSLog(@"%f %f %f",aceler.x,aceler.y,aceler.z);
 //i think here i can give the position of objects, tried object.frame.size.x=accelr.x; but which is not assignable :(

     } 
```

我可以根据加速度计值移动物体，比如水平仪？以及如何将加速度计数据转换为度数的任何想法？

# playframework - 是否有 404 页面的控制器（播放！框架）

> ID：12242686
> 
> 赞同：5
> 
> 时间：2012-09-03T05:56:04.290
> 
> 标签：playframework, playframework-1.x

我正在与 Play 合作！框架 1.2.4 并且创建静态 404 页面没有问题。但是，我想让 404 页面更具动态性。

404 页面是否有“控制器”？如果没有，我在哪里执行传统上会在控制器中执行的所有逻辑？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:32:42.883

404 页面没有控制器。尝试查找路线，如果这不可能，则抛出显示 404 页面的 NotFound Result。

您可以创建一个 catch all 控制器来执行此工作，以便该控制器将处理 404 情况而不是 Play 本身。

```
 *       /.*     NotFoundRouter.notFoundPage 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-17T00:25:14.073

正如 Nasir 所说，您可以在任何控制器中使用 NotFound Action 进行响应以返回 404 响应。我们通常使用 Ok Action 来响应正确的 200 Http 响应代码。一个例子（播放 2 - 不确定它是否适用于播放 1）：

```
object BadgeEvidence extends Controller {
  def index(badgeName: String, earner: String) = Action {
    val badgeResponse = BadgeDao.getBadgeDetail(badgeName)
    val evidence = BadgeDao.getBadgeEvidence(badgeName, earner)
    if (evidence.length == 0) {
        NotFound(earner + " is not valid or has not earned " + badgeName);
    } else {
      badgeResponse match {
        case badgeDetail: BadgeRow => Ok(views.html.badgeEvidence(earner, badgeDetail, evidence))
        case errorMessage: String => Ok(views.html.showError(errorMessage))
      }
    }
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T14:41:22.617

您可以使用 GlobalSettings.onHandlerNotFound() 来处理将获得 404 响应的请求。

[http://www.playframework.org/documentation/api/2.0.3/java/play/GlobalSettings.html](http://www.playframework.org/documentation/api/2.0.3/java/play/GlobalSettings.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T16:07:55.963

`app/views/errors/404.html`您可以在模板文件中进行一些编码。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-19T01:31:58.423

好吧，我不确定你打算让它有多动态。在内心深处，[NotFound](https://github.com/playframework/play/blob/master/framework/src/play/mvc/results/NotFound.java)类负责加载 404.html。也许，它对你有用。

# java - String#equals 抛出 ArrayIndexOutOfBoundException

> ID：12242688
> 
> 赞同：0
> 
> 时间：2012-09-03T05:56:16.067
> 
> 标签：java

堆栈跟踪很长，但这是相关部分。

```
Caused by: java.lang.ArrayIndexOutOfBoundsException: 33
  at java.lang.String.equals(String.java:1018)
  at java.util.HashMap.get(HashMap.java:305) 
```

因此，当我从中检索元素时`HashMap<String,?>`，会调用 String#equqls。然后，从行抛出 ArrayIndexOutOfBoundException`if (v1[i++] != v2[j++])`

```
// Sun java 1.6
public boolean equals(Object anObject) {
    if (this == anObject) {
        return true;
    }
    if (anObject instanceof String) {
        String anotherString = (String)anObject;
        int n = count;
        if (n == anotherString.count) {
            char v1[] = value;
            char v2[] = anotherString.value;
            int i = offset;
            int j = anotherString.offset;
            while (n-- != 0) {
                if (v1[i++] != v2[j++])
                    return false;
            }
            return true;
        }
    }
    return false;
} 
```

这真的很奇怪。

* * *

更新。异常来自日志分析程序。我没有在那里使用反射。我还想到了一些损坏了字符串对象但没有从代码中得到任何线索的东西。而且这个问题在重启后没有重现。如果我继续重试，我不知道它是否会重现。

1.  日志工具

    ```
    public static Map<String, String> parseLine(String line) {
        if (StringUtils.isEmpty(line)) {
            return Collections.emptyMap();
        }
        String[] parts = StringUtils.split(line, '\t');
        Map<String, String> results = new HashMap<String, String>();
        for (String part : parts) {
            String[] keyVal = StringUtils.split(part, "=", 2);
            if (keyVal.length == 2) {
                String key = keyVal[0];
                String value = keyVal[1];
                results.put(key, value);
            }
        }
        return results;
    }

    public static void process(String fileName, Date date, Closure closure) throws IOException {
        InputStream is = null;
        Reader r = null;
        try {
            is = new FileInputStream(getFilename(fileName, date));
            is = new BufferedInputStream(is);
            is = new GZIPInputStream(is);
            r = new InputStreamReader(is, "utf8");
            LineIterator iter = IOUtils.lineIterator(r);
            while (iter.hasNext()) {
                String line = iter.nextLine();
                Map<String, String> map = LogUtils.parseLine(line);
                closure.execute(map);
            }
        } finally {
            IOUtils.closeQuietly(r);
            IOUtils.closeQuietly(is);
        }
    } 
    ```

2.  关闭

    ```
    public void execute(Map<String, String> line) {
        if (dataMap == null) {
            dataMap = new HashMap<String, Map<Long, Integer>>();
        }

        String identifier = line.get(Constants.IDENTIFIER_KEY); // Exception thrown from there
        /* ...blahblah... */
    } 
    ```

为简单起见，我将创建一个闭包对象并`LogUtils.process`用它调用。LogUtils 将 line(Example: `key1=value1\tkey2=value2\t...kn=valuen`) 换成`HashMap`. 然后`LogUtils`将地图传递给闭包。`line.get(Constants.IDENTIFIER_KEY);`当 Constants.IDENTIFIER_KEY 是静态最终字段时会引发异常。所以 equals 方法的 lhs 和 rhs 是一个静态的 final String 和一个`StringUtils.split(line, '\t')`. 我检查了 commons-lang 的代码。它`String#substring`实际上是一个。所以还是很奇怪。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:03:46.033

这基本上表明某些东西正在破坏字符串对象。很容易重现：

```
import java.lang.reflect.*;

public class Test {
    public static void main(String[] args) throws Exception {
        String x = "hello";
        String y = new String("xhell");

        Field field = String.class.getDeclaredField("offset");
        field.setAccessible(true);
        field.set(y, 1);
        System.out.println(x.equals(y));
    }
} 
```

...但我们不知道这是否*真的*是字符串在您的情况下被损坏的方式。

# c# - 如何使用事件和 TCP 对数据库同步数据

> ID：12242690
> 
> 赞同：0
> 
> 时间：2012-09-03T05:56:32.027
> 
> 标签：c#, vb.net, events, networking, tcp

我有多个客户端和一个服务器，它们通过 TCP 通信对象更新。

基本上，服务器运行一个访问对象的算法，但这些可能会在通过 TCP 发送更新时发生变化。

我已经设置了标志来检查数据库的更新，并且只有在本地内存或数据库服务器之间的数据存在差异时才发送更新。问题是如果一个对象在迭代时发生了变化。

该算法在后台线程上运行，总结的代码架构如下所示，它是事件驱动的：

**算法后台线程：**

```
Private algorithm As New NewAlgorithmTest
Private Sub bg_workerAlgorithm_DoWork(sender As System.Object, e As System.ComponentModel.DoWorkEventArgs) Handles bg_workerAlgorithm.DoWork

       algorithm.RunAlgorithm()
    End Sub

Private Sub bg_workerAlgorithm_RunWorkerCompleted(sender As System.Object, e As System.ComponentModel.RunWorkerCompletedEventArgs) Handles bg_workerAlgorithm.RunWorkerCompleted
    bg_workerAlgorithm.RunWorkerAsync()
End Sub 
```

**从客户端收到的 Tcp 消息：**

```
Private Sub Client_MessageReceived(sender As Object, e As TcpClient.MessageRecievedEventArgs)
Dim message As String = e.Message
'figure out which object to update based off message and set it as updatedObject
dim updatedObject
updatedObject.GetLatest()
End Sub 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T08:02:20.683

如果在迭代完成之前不能阻塞线程，那么我将实现接收到的消息的 Stack<>（基于 FIFO）。

这将在消息进入时保存消息。然后，您可以依次在每条消息上触发后台线程，以确保只有一个更新触发了 Db 上的迭代。

硅

# android - android - 应用程序架构什么是最好的？

> ID：12242692
> 
> 赞同：1
> 
> 时间：2012-09-03T05:56:33.433
> 
> 标签：android, model-view-controller, architecture

我是android编程的新手，到目前为止只做了一个应用程序。完成后，我开始思考android应用程序的架构。

在我的应用程序中，我使用`Activity`类似控制器并`setContentView`添加布局视图，这个正在工作，当它切换到另一个视图时，我通常会使用另一个 Activity，或者`ViewFlipper`在同一个视图中使用多个视图，通过使用方法`Activity`切换它们。`setContentView`

现在我在想把这个架构改成这个是不是很好 -

活动

控制器

视图 - 布局 XML

Controller类独立于Activity，所以会是这样——

```
class Controller {

    public View view;

    .....

    // logic to deal with view operation
    public void init ()
    {
    }
} 
```

活动会是这样——

```
class MyActivity extends Activity {

    ControllerOne c0 = null;
    ControllerTwo c1 = null;

    .....

    protected void switchView (Controller c)
    {
        setContentView (c.view);
        c.init (); // or something else to restore states of this controller
    }
} 
```

我不知道这是否适用于 android app 架构，或者有什么关于 android app 架构的好主意？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:04:00.303

我认为忽略 Android 的 MVC 架构并不是一个好主意。活动类充当控制器。但是，如果您想为一个活动使用多个控制器，您应该看到 Android 的[Fragments](http://developer.android.com/guide/components/fragments.html)。

# ios - 在新项目中使用现有项目代码

> ID：12242697
> 
> 赞同：-2
> 
> 时间：2012-09-03T05:57:34.333
> 
> 标签：ios, xcode

> **可能重复：**
> [iOS 在另一个项目中使用现有项目的类/资源文件](https://stackoverflow.com/questions/4660923/ios-using-existing-projects-class-resource-files-in-another-project)

我的工作区中有多个 iOS 项目。有没有办法可以在我新创建的项目中使用现有项目的代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:11:12.580

是的，您可以重复使用这些代码。

1.制作一个你想要重用的函数的静态库。

2.在你的项目中添加静态库和.h文件。你可以在你的新项目中直接调用静态库中的那些函数。

您可以找到创建静态库的好教程：[这里](http://www.icodeblog.com/2011/04/07/creating-static-libraries-for-ios/)

# c# - 部分 C# 应用的管理员权限

> ID：12242703
> 
> 赞同：4
> 
> 时间：2012-09-03T05:58:13.723
> 
> 标签：c#, administrator

我正在 VS10 上编写一个 C# GUI 应用程序。它所需的功能之一是检查某个文件的内容，如果需要更新 - 必须以管理员模式更新。写入清单文件会强制应用程序以管理员模式运行，而不管文件内容如何，​​这是不可取的（只是因为它很痛苦）。有没有办法在运行时提示管理员模式并且仅在需要时提示？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:08:01.280

不幸的是，您不能在运行时升级。

为了实现相同的目标，请将更新文件的代码分离到其自己的可执行文件中，该可执行文件通过其清单具有管理员访问权限。

从您的主应用程序运行此应用程序允许您在必要时请求管理员访问权限，*而不会不必要地升级*其余代码的权限。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T06:01:10.867

我相信解决方案是让应用程序在需要时以管理员模式重新启动。

一个快速的谷歌揭示：

[来自代码项目](http://www.codeproject.com/Articles/320748/Haephrati-Elevating-during-runtime%5D)

但我确实同意@WillEddins 的回答......将管理员“模式”代码分离到不同的可执行文件中会“更好”（如果可能/实用）。我想这将取决于（除其他事项外，例如努力/成本/收益/风险）管理功能与非管理功能的紧密集成程度。

# javascript - KnockoutJS 更新行总和字段

> ID：12242708
> 
> 赞同：1
> 
> 时间：2012-09-03T05:58:46.990
> 
> 标签：javascript, knockout.js

我被困在如何使用 knockoutJS 更新 foreach 模板中的行总和

```
 <div id="timeEntryList" data-bind="foreach: timeEntries">
        <table >
            <tr>
                ...

                <td>  //there are more of this, not included here
 <input type="number" 
    data-bind="value: Days[6].Hours, 
               event: { change: $root.setDirty }" />

                </td>
                <td> //this part needs to be updated when the above input is changed
                    <span data-bind="text: $root.sumRow($data)">
                    </span>
                </td> 
```

最后一个 TD 包含一个 span 元素，该元素显示 foreach 中当前项目报告的小时总和。它在加载数据时正确显示，但在我编辑元素时保持陈旧。如何在更改输入框的值时更新此元素？

这是我的视图模型非常精简的版本：

```
var TimeReportModel = function (init) {
    this.timeEntries = ko.observableArray(init.TimeEntries);

    //... helper functions
}; 
```

TimeEntries 是表示每周报告的小时数的对象。所以它包含一个天数组，每一天都有一个小时属性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:35:00.667

根据您绑定的内容，您似乎正在绑定到常规函数的结果。如果你想在有变化时看到更新的值，你需要绑定到一个 observable。在您的视图模型中使总和成为计算的 observable 并绑定到它。

我不知道您的视图模型是什么样的或您要添加什么，但它看起来像这样：

```
// calculate the sum of the hours for each of the days
self.totalDays = ko.computed(function () {
    var sum = 0;
    ko.utils.arrayForEach(self.days(), function (day) {
        sum += Number(day.hours());
    });
    return sum;
}); 
```

这是一个要演示的[小提琴。](http://jsfiddle.net/jeff1203/mDkc2/)

# android - 无法从数据库中获取随机行以显示为主要活动的问答

> ID：12242712
> 
> 赞同：0
> 
> 时间：2012-09-03T05:59:10.173
> 
> 标签：android, sqlite, random

这种方法正确吗？

```
public List<Question> getQuestionSet(int i){
        List<Question> questionSet = new ArrayList<Question>();
       Cursor c = db.rawQuery("SELECT * FROM quiztable ORDER BY RANDOM() LIMIT X" + i, null);
        while (c.moveToNext()){
            Question q = new Question();
            q.setQuestion(c.getString(1));
            q.setAnswer(c.getString(2));
            q.setOption1(c.getString(3));
            q.setOption2(c.getString(4));
            questionSet.add(q);
        }
        return questionSet; 
```

如果是，我如何创建一种方法，以随机顺序单独显示我的数据库中的每个问题..对不起。我不知道该怎么做...

编辑：我尝试将上面的代码更改为您的代码。现在另一个问题。这是我在 MainActivity 文件中的代码：

```
public class Second extends Activity {

TextView questionTextView;
DBAdapter db = new DBAdapter(this);
Cursor mCursor;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.second);

    TextView questionTextView = (TextView) findViewById(R.id.question);
    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroup1);
    RadioButton rb0 = (RadioButton) findViewById(R.id.radio0);
    RadioButton rb1 = (RadioButton) findViewById(R.id.radio1);
    RadioButton rb2 = (RadioButton) findViewById(R.id.radio2);

    db.open();
    db.getQuestionSet(1);
    String question = mCursor.getString(mCursor.getColumnIndex(DBAdapter.KEY_QUESTIONS));
    String answer = mCursor.getString(mCursor.getColumnIndex(DBAdapter.KEY_ANSWERS));
    String opt1 = mCursor.getString(mCursor.getColumnIndex(DBAdapter.KEY_CHOICE1));
    String opt2 = mCursor.getString(mCursor.getColumnIndex(DBAdapter.KEY_CHOICE2));
    questionTextView.setText(question);
    rb0.setText(answer);
    rb1.setText(opt1);
    rb2.setText(opt2);

}

} 
```

当我尝试运行它时出现错误。我知道我的代码不正确。但我不知道如何纠正它。更具体地说，我想做的是创建一个应用测验。我设法创建了一个数据库。我可以通过应用程序插入/更新/删除问题和答案。但是我无法显示存储在我的数据库中的问题，因此我可以回答问题并对其评分。谢谢你们的帮助。我是初学者。现在已经学习 Eclipse 一个月了。我什至不能创建一个简单的测验应用程序。:(

谢谢你。这是 Logcat 中显示的错误：

```
 09-03 15:29:49.516: D/AndroidRuntime(4091): Shutting down VM
 09-03 15:29:49.516: W/dalvikvm(4091): threadid=1: thread exiting with uncaught exception (group=0x40015560)
 09-03 15:29:49.527: E/AndroidRuntime(4091): FATAL EXCEPTION: main
 09-03 15:29:49.527: E/AndroidRuntime(4091): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dtan.quiz/com.dtan.quiz.Second}: java.lang.NullPointerException
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.os.Handler.dispatchMessage(Handler.java:99)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.os.Looper.loop(Looper.java:123)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread.main(ActivityThread.java:3683)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at java.lang.reflect.Method.invokeNative(Native Method)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at   java.lang.reflect.Method.invoke(Method.java:507)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at dalvik.system.NativeStart.main(Native Method)
 09-03 15:29:49.527: E/AndroidRuntime(4091): Caused by: java.lang.NullPointerException
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at com.dtan.quiz.Second.onCreate(Second.java:30)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
 09-03 15:29:49.527: E/AndroidRuntime(4091):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:01:53.820

```
public List<Question> getQuestionSet(int i) {
    List<Question> questionSet = new ArrayList<Question>();
    final Cursor c = db.rawQuery("SELECT * FROM quiztable ORDER BY RANDOM() LIMIT " + i, null);
    if (c != null) {
        try {
            while (c.moveToNext()) {
                Question q = new Question();
                q.setQuestion(c.getString(1));
                q.setAnswer(c.getString(2));
                q.setOption1(c.getString(3));
                q.setOption2(c.getString(4));
                questionSet.add(q);
            }
        } finally {
            c.close();
        }
    }
    return questionSet;
} 
```

> 编辑：

你还没有初始化你的`Cursor`. 但是当你`List`从你的`getQuestionSet()`方法返回时它是没用的，而是使用它。

```
List<Question> questions = db.getQuestionSet(1);
if (questions != null && !questions.isEmpty()) {
   Question question = questions.get(0);
   now use:
   question.getQuestion();
   question.getAnswer();
   question.getOption1();
   question.getOption2();
} 
```

# python - python的list方法`index()`可以在列表中找到列表元素吗

> ID：12242713
> 
> 赞同：-1
> 
> 时间：2012-09-03T05:59:14.347
> 
> 标签：python, indexing

**更新 0**

我的测试代码非常幼稚，我必须按如下方式对其进行增强...

```
n=2
times=intervals([9,30],[11,30])
u=[]
v=[]

for t in times:
    u+= [[t[0],t[1]]]
    for i in range(0,n):
       t.append("")
    t[3]=3
    v+=[t]
    print "t:",t

print "v:",v

print "u.index:",u.index([10, 30]) 
```

...所以从我的测试代码中，我需要将变量的值`v`用于变量`times`，并且我需要将结果`u.index([10, 30])`用于我的索引。我希望，BrenBarn 终于联系上了我。

我的测试代码如下...

```
n=2
times=intervals([9,30],[11,30])
for t in times:
    for i in range(0,n):
       t.append("")
    t[3]=3
    print t 
```

...产生以下打印结果

```
[9, 30, '09:30AM', 3, '']
[10, 0, '10:00AM', 3, '']
[10, 30, '10:30AM', 3, '']
[11, 0, '11:00AM', 3, ''] 
```

例如，该`index()`方法可以用于查找`t`“元素”[10, 30, ...] 列表中的索引吗？或者我是否需要构建整数列表`[930,100,1030,110]`和 index() 该列表？或者有其他建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:01:06.830

你有没有试过，还是我误解了你的问题？

```
>>> t = [[9, 30, '09:30AM', 3, ''],
... [10, 0, '10:00AM', 3, ''],
... [10, 30, '10:30AM', 3, ''],
... [11, 0, '11:00AM', 3, '']]
>>> t.index([10, 30, '10:30AM', 3, ''])
2 
```

# java - 使用 SAX 解析器解析 Xml

> ID：12242714
> 
> 赞同：3
> 
> 时间：2012-09-03T05:59:22.213
> 
> 标签：java, xml, xml-parsing, sax

我正在尝试使用 SAX Parser 解析 xml 文件。我需要获取属性及其起始元素的值

```
<?xml version="1.0" encoding="ISO-8859-1" ?>
<API type="Connection">
<INFO server="com.com" function="getAccount2" />
<RESULT code="0">Operation Succeeded</RESULT>
<RESPONSE numaccounts="1">
<ACCOUNT login="fa051981" skynum="111111" maxaliases="1" creationdate="Fri Nov 16 00:59:59 2001"    password="pass" type="2222" status="open" mnemonic="32051981" ratelimit="0">
    <CHECKATTR />
    <REPLYATTR>Service-Type = Frames-User, Framed-Protocol = PPP, Framed-Routing = None</REPLYATTR>
    <SETTINGS bitval="4" status="open" />
    <SETTINGS bitval="8192" status="open" session_timeout="10800" />
    <SETTINGS bitval="32768" status="open" cisco_address_pool="thepool" />
    <ALIASES numaliases="0" />
</ACCOUNT>
</RESPONSE>
</API> 
```

在这个 xml 中，我需要获取设置标记/开始元素属性及其值。

这些属性是动态的，所以我正在尝试制作它们的地图。我是 SAX 解析器的新手。

到目前为止我的java代码：

```
public void startElement(String s, String s1, String elementName, Attributes attributes) throws SAXException {

    if (elementName.equalsIgnoreCase(GenericConstants.INFO)) {
        this.searchRaidusBean.setServer(attributes.getValue(GenericConstants.SERVER));
        this.searchRaidusBean.setFunction(attributes.getValue(GenericConstants.FUNCTION));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.RESULT)) {
        this.searchRaidusBean.setResultCode(attributes.getValue(GenericConstants.CODE));
    }

    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setLoginId(attributes.getValue(GenericConstants.LOGIN));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setSkyNum(attributes.getValue(GenericConstants.SKYNUM));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setMaxAliases(attributes.getValue(GenericConstants.MAXALIASES));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setCreationDate(attributes.getValue(GenericConstants.CREATION_DATE));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setType(attributes.getValue(GenericConstants.TYPE));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setStatus(attributes.getValue(GenericConstants.STATUS));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setMnemonic(attributes.getValue(GenericConstants.MNEMONIC));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setRateLimit(attributes.getValue(GenericConstants.RATELIMIT));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.SETTINGS)) {
        //this.searchRaidusBean.getBitval().add(attributes.getValue(GenericConstants.BITVAL));
        System.out.println(attributes);
        //stuck here
    }
    if (elementName.equalsIgnoreCase(GenericConstants.ALIASES)) {
        this.tempKey = attributes.getValue(GenericConstants.MNEMONIC);
    }
}

public void endElement(String str1, String str2, String element) throws SAXException {
    if (element.equalsIgnoreCase(GenericConstants.RESULT)) {
        this.searchRaidusBean.setResultMessage(this.tempValue);
    }
    if (element.equalsIgnoreCase(GenericConstants.ALIASES)) {
        if (!StringUtils.isBlank(this.tempKey)) {
            this.searchRaidusBean.getAlias().put(this.tempKey, this.tempValue);
        }
    }
}

public void characters(char[] charArray, int i, int j) throws SAXException {
    this.tempValue = new String(charArray, i, j);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T06:10:05.987

如果您使用的是[DefaultHandler](http://docs.oracle.com/javase/7/docs/api/org/xml/sax/helpers/DefaultHandler.html)，那么您将收到一个`startElement`事件。

此方法携带[属性](http://docs.oracle.com/javase/7/docs/api/org/xml/sax/Attributes.html)作为其参数之一。

您将需要使用[getIndex(String)](http://docs.oracle.com/javase/7/docs/api/org/xml/sax/Attributes.html#getIndex(java.lang.String))来获取命名属性的索引，并使用[getValue(int)](http://docs.oracle.com/javase/7/docs/api/org/xml/sax/Attributes.html#getValue(int))来获取所述属性的值。

正如 Nambari 指出的那样，互联网上有数百个教程，还有更多关于 SO 主题的帖子（我在周末回答了一个）。

**更新**

我建议它应该看起来像这样（我没有测试过）

```
public void startElement(String uri, String localName, String elementName, Attributes attributes) throws SAXException {

    if (elementName.equalsIgnoreCase(GenericConstants.INFO)) {
        this.searchRaidusBean.setServer(attributes.getValue(GenericConstants.SERVER));
        this.searchRaidusBean.setFunction(attributes.getValue(GenericConstants.FUNCTION));
    }
    if (elementName.equalsIgnoreCase(GenericConstants.RESULT)) {
        this.searchRaidusBean.setResultCode(attributes.getValue(GenericConstants.CODE));
    }

    if (elementName.equalsIgnoreCase(GenericConstants.ACCOUNT)) {
        this.searchRaidusBean.setLoginId(attributes.getValue(GenericConstants.LOGIN));
        this.searchRaidusBean.setSkyNum(attributes.getValue(GenericConstants.SKYNUM));
        this.searchRaidusBean.setMaxAliases(attributes.getValue(GenericConstants.MAXALIASES));
        this.searchRaidusBean.setCreationDate(attributes.getValue(GenericConstants.CREATION_DATE));
        this.searchRaidusBean.setType(attributes.getValue(GenericConstants.TYPE));
        this.searchRaidusBean.setStatus(attributes.getValue(GenericConstants.STATUS));
        this.searchRaidusBean.setMnemonic(attributes.getValue(GenericConstants.MNEMONIC));
        this.searchRaidusBean.setRateLimit(attributes.getValue(GenericConstants.RATELIMIT));
    }

    if (elementName.equalsIgnoreCase(GenericConstants.SETTINGS)) {

        for (int index = 0; index < attributes.getLength(); index++) {

            String attName = attributes.getLocalName(index);
            String value = attributes.getValue(index);

            map.put(attName, value);

        }

    }

    if (elementName.equalsIgnoreCase(GenericConstants.ALIASES)) {
        this.tempKey = attributes.getValue(GenericConstants.MNEMONIC);
    }

} 
```

**更新了经过测试的示例**

我带了你的数据（来自 OP）并通过以下处理程序运行它

```
DefaultHandler handler = new DefaultHandler() {
    @Override
    public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException {

        if (qName.equalsIgnoreCase("settings")) {

            System.out.println("Parse settings attributes...");

            for (int index = 0; index < attributes.getLength(); index++) {

                String aln = attributes.getLocalName(index);
                String value = attributes.getValue(index);

                System.out.println("    " + aln + " = " + value);

            }

        }

    }
}; 
```

我得到了以下输出

```
Parse settings attributes...
    bitval = 4
    status = open
Parse settings attributes...
    bitval = 8192
    status = open
    session_timeout = 10800
Parse settings attributes...
    bitval = 32768
    status = open
    cisco_address_pool = thepool 
```

所以我不知道你在做什么。

# mysql - 我的 MySQL 查询中的错误在哪里？

> ID：12242716
> 
> 赞同：0
> 
> 时间：2012-09-03T05:59:33.403
> 
> 标签：mysql, sql

运行此 MySQL 查询时出现以下错误。我的问题在哪里？

> `#1064`- 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 19 行的“INT) LIMIT 0, 30”附近使用正确的语法

```
select tran_date, tran_id,  
    sum(case account_id when 'M0003' then (cr_amt) else 0 end) as cr_sm,  
    sum(case account_id when 'M0003' then (dr_amt) else 0 end) as dr_sm,  
    sum(case account_id when 'M0003' then (balance) else 0 end) as bal_sm,  
    sum(case account_id when 'MD001' then (cr_amt) else 0 end) as cr_cdnw,  
    sum(case account_id when 'MD001' then (dr_amt) else 0 end) as dr_cdnw,  
    sum(case account_id when 'MD001' then (balance) else 0 end) as bal_cdnw,  
    sum(case account_id when 'MD002' then (cr_amt) else 0 end) as cr_cdw,  
    sum(case account_id when 'MD002' then (dr_amt) else 0 end) as dr_cdw,  
    sum(case account_id when 'MD002' then (balance) else 0 end) as bal_cdw,  
    sum(case account_id when 'ML001' then (cr_amt) else 0 end) as cr_loan_ord,  
    sum(case account_id when 'ML001' then (dr_amt) else 0 end) as dr_loan_ord,  
    sum(case account_id when 'ML001' then (balance) else 0 end) as bal_loan_ord,  
    sum(case account_id when 'ML002' then (cr_amt) else 0 end) as cr_loan_emg,  
    sum(case account_id when 'ML002' then (dr_amt) else 0 end) as dr_loan_emg,  
    sum(case account_id when 'ML002' then (balance) else 0 end) as bal_loan_emg  
from TEMP_MEMBER_STATEMENT  
group by tran_date, tran_id  
order by tran_date, cast(tran_id as INT); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:03:12.893

[CAST 函数](http://dev.mysql.com/doc/refman/5.0/en/cast-functions.html#function_cast)没有`int`目标。它是or ，例如。`SIGNED``UNSIGNED`

```
ORDER BY ..., CAST(tran_id AS SIGNED) 
```

# python - python字符串转换

> ID：12242717
> 
> 赞同：0
> 
> 时间：2012-09-03T05:59:34.570
> 
> 标签：python, fabric

尝试使用 python 结构脚本添加用户。

```
uid = prompt("Enter username:")
eid = prompt("Enter user's email address:")
password = generate_passwd()
run('adduser -g vpn -c %s %s') % (eid, uid)
run("echo -e '%s\n' | passwd %s") % (password, uid)
print (password) 
```

错误：

```
File "/tmp/hardway/fabfile.py", line 56, in addvpnuser
    run('adduser -g vpn -c %s %s') % (eid, uid)
TypeError: not all arguments converted during string formatting 
```

知道我做错了什么。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:01:33.523

问题是您将字符串插值放置在错误的位置；它必须直接在字符串之后，而不是在括号之外。（顺便说一句，这不是特定于织物的。）

所以

```
run('adduser -g vpn -c %s %s' % (eid, uid)) 
```

代替

```
run('adduser -g vpn -c %s %s') % (eid, uid) 
```

和

```
run("echo -e '%s\n' | passwd %s" % (password, uid)) 
```

代替

```
run("echo -e '%s\n' | passwd %s") % (password, uid) 
```

# visual-studio-2010 - 是使用它将整个静态库添加到可执行文件中，还是仅将使用的部分添加到可执行文件中？

> ID：12242719
> 
> 赞同：1
> 
> 时间：2012-09-03T05:59:38.420
> 
> 标签：visual-studio-2010, static-libraries

我不知道如何搜索这个问题，这就是我问它的原因。

当您有一个包含 3 个类的项目时。

```
 Class A
{
   int doSomething();
}

// Depends on A.
Class B
{
 A objA; 
}

// Depends on nothing
Class C
{
   void Terminate();
} 
```

然后创建一个包含这 3 个类的静态库。当您将 .lib 文件与可执行文件链接时，将 1) 2)

1.  **该库中的所有**类都将加入可执行文件（A、B、C）
2.  或者只是**使用**的类（以及它的依赖项）？（A，B，不是 C）

```
 void main()
{
 B b;
 b.doSomething();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:03:19.903

静态链接将记录所需的类/函数来自哪个库以及位于哪个文件位置。main() 中除了映射的位置偏移之外没有其他代码。
通常，这看起来像：

```
main(){
  compiled_library.dll 0x01234ABC <- offset in file
} 
```

# java - 如何异步修改字符串数组

> ID：12242725
> 
> 赞同：2
> 
> 时间：2012-09-03T06:00:50.483
> 
> 标签：java, multithreading, string

我认为这是一个有趣的编程问题，所以我发布了它，即使我认为我有一个足够好的解决方案想法，请参阅 (*)。如果有人有一个优雅的解决方案，我很乐意看到它！

我正在使用一种调用外部库的方法，该库向服务器发出 http 请求。我需要有 K 个字符串作为输入才能有效，即外部资源的每次调用都是一个 HTTP 请求，我需要缓冲一些数据以提高效率。（例如，让 K 为 200，并在文本中以 1% 的概率作为标记出现，因此在找到 200 个输入参数之前，我需要处理 20,000 个标记）。

实际上，它的作用是：externalHTTP(commaDelimitedString) -> 获取有关每个字符串的信息。示例 externalHTTP("foo,bar") -> ["信息片段 1","信息片段 2"]。其中“信息片段 1”是关于“foo”的。

我想用信息片段替换长文本（字符串）中的“foo”和“bar”，但前提是我的 HTTP 请求缓冲区已满。在等待这种情况发生时，我仍然想继续阅读原始字符串。

文本通过拆分进行标记（因此我正在使用字符串数组）。

即我不想仅仅因为我正在等待 K 字符串缓冲而停止执行我的文本处理。

起初我认为我可以将单词存储为稍后更新的单个字符串对象，但后来我意识到字符串是不可变的，因此它是按值调用的。

(*) 我的第二个想法是存储单词（foo 和 bar）的索引，然后在 http 请求完成时将片段插入回原始字符串数组。喜欢

```
class doStuff { 

    String text[];
    LinkedList<Integer> idxList = new LinkedList<Integer>();

    public doStuff(String[] t) {

        text = t;
        int i = 0;
        for (String token : text) {
            if (shouldReplaceToken(token)) {
                replaceToken(i);   
            }
            i++;
           //do other work with the tokens
        }
    }

    void replaceToken(int i) {

        idxList.add(i);
        if (++count > buffSize) {
            count = 0;
            String commaDelim = "";
            ListIterator<Integer> it = idxList.getListIterator(0);
            while (it.hasNext()) {
               commaDelim += text[it.next()]+",";
            }       
            String[] http_response = http_req(commaDelim);
            for (String snippet : http_response) {
                idx = idxList.poll(); //this is not elegant, dependent on FIFO order 
                text[Idx] = snippet;
            } 
        } 
    }

} 
```

更复杂的是，我想处理几个较长的文本，所以我需要一个字符串数组矩阵，每个文本一个。

我不喜欢类已知参考

```
String[] text 
```

或者我在这段代码中处理索引的方式......

希望看到一些建议：）

编辑：改变了一点更清楚。我真的不能说我在查找什么，保密等，对不起。有些名称可能与 java 不同（只有一点点不同）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T09:24:18.480

好的...这是尝试使用示例代码完全回答您的问题。

我从来没有经常玩线程，所以我想我今晚会尝试学习一些东西。

此解决方案使用线程来允许异步发生 http 请求。

使用[Thread.sleep()](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#sleep%28long%29)模拟异步请求。

我的测试用例很原始：主类只休眠 30 秒以等待一切完成。

就像我说的，我是线程编程的新手，所以我可能忽略了一些东西。

希望这能让你朝着正确的方向开始......

```
/**
 *  A class that asynchronously replaces text in an
 *  array of strings by using helper threads.
 */

public class TextReplacer {

    private final int bufferSize;

    List<String>   wordList        =  new ArrayList<String>();
    List<Integer>  indexList       =  new ArrayList<Integer>();
    int            bufferPosition  =  0;
    int            lastPosition    =  0;

    public TextReplacer(String[] a, int n) {
        bufferSize = n;
        if (a != null) {
            wordList = Arrays.asList(a);
        }
    }

    public void replaceText() {
        int i = 0;
        for (String thisWord : getWordListCopy()) {
            if (shouldReplaceToken(thisWord)) {
                indexList.add(i);
                processTextReplacement();
            }
            i++;
        }
    }

    private void processTextReplacement() {
        if (isBufferReady()) {
            int currentPos = lastPosition;
            replaceStrings(getCsv(), currentPos);
        }
    }

    /** Uses a thread to replace strings in wordList. */

    private void replaceStrings(String csv, int pos) {
        new ReplacerThread(wordList, indexList, csv, pos, bufferSize).start();
    }

    private String getCsv() {
        StringBuilder csv = new StringBuilder();
        for (int i = 0; i < bufferSize; i ++) {
            int idx = indexList.get(lastPosition++);
            csv.append(wordList.get(idx)).append(",");
        }
        return csv.toString();
    }

    private boolean isBufferReady() {
        bufferPosition++;
        return ( bufferPosition % bufferSize == 0 );
    }

    private List<String> getWordListCopy() {
        List<String> listCopy = new ArrayList<String>();
        listCopy.addAll(wordList);
        return listCopy;
    }

   /**
    *  Simulates a 10% replacement rate by only
    *  returning true for input that ends with a 3.
    */

    private boolean shouldReplaceToken(String s) {
        return s.endsWith("3");
    }

    public List<String> getWordList() {
        return wordList;
    }

    public String[] getWordArray() {
        return wordList.toArray(new String[0]);
    }

}

/**
 *  A thread that sleeps for up to 8 seconds, then
 *  replaces a bunch of words in the list that is
 *  passed to it in its constructor.
 */

public class ReplacerThread extends Thread {

    List<String> originalWords;
    List<Integer> indices;
    String wordCsv;
    String[] replacementWords;
    int startPos;
    int bufferSize;
    int maxSleepMillis = 8000;
    int sleepMillis = getSleepMillis();
    int threadNum;                          // for debugging
    String prefix = new String();           // for debugging

    /** Create a new thread. */

    public ReplacerThread(List<String> o, List<Integer> i, 
                          String c, int p, int n) {
        originalWords = o;
        indices = i;
        wordCsv = c;
        startPos = p;
        bufferSize = n;
        threadNum = startPos / bufferSize;
        int count = 0;
        while (count++ < threadNum) {
            prefix += "   ";
        }
    }

    @Override
    public void run() {
        replacementWords = httpReq(wordCsv);
        for (int i = 0; i < bufferSize; i ++) {
            int pos = startPos + i;
            int idx = indices.get(pos);
            originalWords.set(idx, replacementWords[i]);
        }
        print("Thread #" + threadNum + " COMPLETE");
    }

    /** Simulate an asynchronous http request by using Thread.sleep */

    private String[] httpReq(String s) {
        try { 
            printSleepMessage();
            sleep(sleepMillis);
        }
        catch (InterruptedException ex) {}
        String[] repText = s.split(",");
        for (int i = 0; i < repText.length; i++) {
            repText[i] = repText[i].replace("Line", "Funky Line");
        }
        return repText;
    }

    private void printSleepMessage() {
        int ms = sleepMillis / 1000;
        print("Thread #" + threadNum + " SLEEP(" + ms + ")");
    }

    private int getSleepMillis() {
        Double ms = maxSleepMillis * Math.random();
        return ms.intValue();
    }

    public void print(Object o) {
        String s = (o == null ? "null" : o.toString());
        System.out.println(prefix + s + "\n");
    }

}

/** A class that tests my funky solution. */

public class Main {

    static String inputFile = "test-input.txt";
    static int bufferSize = 50;

    public static void main(String[] args) {
        String[] theInput = readInput();
        TextReplacer testItem = new TextReplacer(theInput, bufferSize);
        testItem.replaceText();
        try {
            // wait 40 seconds for everything to happen
            Thread.sleep(40000);
        }
        catch (InterruptedException ex) { }
        dumpOutput(testItem.getWordArray());
    }

    public static String[] readInput() {
        File inFile = new File(inputFile);
        List<String> lineList = new ArrayList<String>();
        try {
            BufferedReader buff = new BufferedReader(new FileReader(inFile));
            String currentLine = buff.readLine();
            while (currentLine != null) {
                lineList.add(currentLine);
                currentLine = buff.readLine();
            }
        }
        catch (IOException ignoreMe) {}
        print("Lines read:    " + lineList.size());
        return lineList.toArray(new String[0]);
    }

    public static void dumpOutput(String[] txt) {
        long ms = System.currentTimeMillis();
        String fileName = "output-" + ms + ".txt";
        File outFile = new File(fileName);
        try {
            BufferedWriter buff = new BufferedWriter(new FileWriter(outFile));
            for (String s : txt) {
                buff.write(s);
                buff.newLine();
            }
        }
        catch (IOException ignoreMe) {}
        print("Lines written: " + txt.length);
        print("File:          " + fileName);
    }

    public static void print(Object o) {
        System.out.println(o == null ? "null" : o.toString());
    }

} 
```

# c# - 如何使用 c# 在 Datetime 中一次连接小时和分钟

> ID：12242726
> 
> 赞同：0
> 
> 时间：2012-09-03T06:01:01.063
> 
> 标签：c#, datetime

我有一个应用程序，它根据给定时间专门运行该应用程序，我如何通过 App.config 传递参数，

**例如：我的服务应该每天 9 点运行**

```
datetime Runtime = datetime.today.Addhours(9); 
```

上面的行将帮助该服务专门在那个时间，现在我需要将我的服务设置为在 9:30 之前运行，我如何将信息传递给运行时。

我尝试过以下方式，但不被接受

```
ex 1) datetime Runtime = datetime.today.Addhours(9) + datetime.today.Addminutes(30);

ex 2) datetime Runtime = datetime.today.Addhours(9);
               Runtime = datetime.today.Addminutes(30); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:02:59.560

您可以使用

```
DateTime.Today.AddHours(9).AddMinutes(30) 
```

`AddHours`给你另一个`DateTime`，所以你可以调用你可以调用的完全相同的方法`DateTime.Today`。

不过，您也可以添加一个`TimeSpan`：

```
TimeSpan t = TimeSpan.Parse("9:30");
DateTime d = DateTime.Today + t; 
```

这样做的好处是您不必在配置中分隔小时和分钟。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:02:57.857

像这样一起使用它们：

```
DateTime Runtime = DateTime.Today.Addhours(9).AddMinutes(30); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:03:51.050

尝试，

```
datetime newTime = datetime.today.Addhours(9).Addminutes(30); 
```

# javascript - 动态添加更多单选按钮并将其删除

> ID：12242727
> 
> 赞同：0
> 
> 时间：2012-09-03T06:01:06.330
> 
> 标签：javascript, html

我有这样的代码：

```
<html>
<SCRIPT language="javascript">

function add() {
    //Create an input type dynamically.
    var element = document.createElement("input");
    //Assign different attributes to the element.
    element.setAttribute("type", "radio");
    element.setAttribute("name", "feed");
    element.setAttribute("id", "feed");
    element.setAttribute("value", "line");

    var foo = document.getElementById("fooBar");

    //Append the element in page (in span).
    foo.appendChild(element);

   var label=document.createTextNode("Line");
   foo.appendChild(label);

   var br = document.createElement("br");
   foo.appendChild(br);

    //Create an input type dynamically.
    var element = document.createElement("input");
    //Assign different attributes to the element.
    element.setAttribute("type", "radio");
    element.setAttribute("name", "feed");
    element.setAttribute("id", "feed");
    element.setAttribute("value", "pie");

    var foo = document.getElementById("fooBar2");

    //Append the element in page (in span).
    foo.appendChild(element);

   var label=document.createTextNode("Pie");
   foo.appendChild(label);

   var br = document.createElement("br");
   foo.appendChild(br);

     //Create an input type dynamically.
    var element = document.createElement("input");
    //Assign different attributes to the element.
    element.setAttribute("type", "radio");
    element.setAttribute("name", "feed");
    element.setAttribute("id", "feed");
    element.setAttribute("value", "trend");

    var foo = document.getElementById("fooBar3");

    //Append the element in page (in span).
    foo.appendChild(element);

   var label=document.createTextNode("Monthly Trend");
   foo.appendChild(label);

   var br = document.createElement("br");
   foo.appendChild(br);

     //Create an input type dynamically.
    var element = document.createElement("input");
    //Assign different attributes to the element.
    element.setAttribute("type", "radio");
    element.setAttribute("name", "feed");
    element.setAttribute("id", "feed");
    element.setAttribute("value", "heatmap");

    var foo = document.getElementById("fooBar4");

    //Append the element in page (in span).
    foo.appendChild(element);

   var label=document.createTextNode("Heatmap");
   foo.appendChild(label);

   var br = document.createElement("br");
   foo.appendChild(br);

}

function add2() {

  var d = document.getElementById('fooBar');
  var olddiv = document.getElementById("feed");
  d.removeChild(olddiv);

     //Create an input type dynamically.
    var element = document.createElement("input");
    //Assign different attributes to the element.
    element.setAttribute("type", "hidden");
    element.setAttribute("name", "comparison");
    element.setAttribute("name", "comparison");
    element.setAttribute("value", "comparison");

    var foo = document.getElementById("fooBar5");

    //Append the element in page (in span).
    foo.appendChild(element);

   var label=document.createTextNode("Heatmap");
   foo.appendChild(label);

   var br = document.createElement("br");
   foo.appendChild(br);

 }

</script>
 <br/>
<p align="left" id="status"><strong>Report type:</strong></p>
 <input type="radio" name="feed" id="feed" value="comparison" onclick="add2()" /> Comparison Report
<br/>
<br/>
<input type="radio" name="feed" id="feed" value="daily" onclick="add()" /> Individual Reports
<br/>
<form method="post" action ="http://localhost/ana/node/47">
<span id="fooBar">&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="fooBar2">&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="fooBar3">&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="fooBar4">&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="fooBar4">&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="fooBar5">&nbsp; &nbsp; &nbsp; &nbsp;</span>
 <br />
 <br/>
  <p>
    <input type="submit" name="submit" id="submit" value="Next" />
  </p>

</form> 
</div>

 </html> 
```

当我们打开html页面时是这样的：

*   比较报告
*   个人报告

当我们点击个人报告时，它将是这样的：

*   比较报告
*   个人报告
    *   线
    *   馅饼
    *   每月趋势
    *   热图

我的问题是，当我将选择从个人报告更改为比较报告时，如何删除子单选按钮（线、饼图、每月趋势和热图）以及标签？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:16:21.530

如果我正确理解您的问题，您需要某种带有单选按钮的手风琴。

此代码不会删除它们，它会隐藏它们，但是我认为这确实是您所追求的。

这段代码需要[jQuery](http://jquery.com)，我相信你应该研究一下。

[http://jsfiddle.net/NHDmf/1/](http://jsfiddle.net/NHDmf/1/)

我使它尽可能动态和独立，因此您可以继续向比较和个人列表添加选项。

# .net - 如何在 .Net Framework 2.0 中使用 DataContext 类？

> ID：12242730
> 
> 赞同：0
> 
> 时间：2012-09-03T06:01:12.850
> 
> 标签：.net, frameworks, datacontext

我想在我的项目中使用 DataContext 类。但我使用.Net FrameWork 2.0。我能做些什么？.Net Framework 2.o 中有什么选项可以代替 DataContext 类吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T07:01:01.413

我假设您的意思是在 .NET 2.0 上使用 Linq to SQL。

Linq2SQL 需要 .NET 3.5，但据我记得 .NET 2.0 平台尚未针对 .NET 3.5 进行更改，这意味着 .NET 2.0 应用程序可以加载 .NET 3.5 程序集。所以理论上，如果你的输出文件夹中有所有需要的二进制文件，你可以在你的 .NET 2.0 项目中使用 LINQ2SQL。

看看[这篇文章](http://weblogs.asp.net/scottgu/archive/2006/08/27/Building-and-using-a-LINQ-for-SQL-Class-Library-with-ASP.NET-2.0.aspx)。

希望能帮助到你。

# c++ - 使用 Boost.Log 构建 Boost “错误：目标 { simple_event_log.mc.} 没有类型”

> ID：12242733
> 
> 赞同：4
> 
> 时间：2012-09-03T06:01:24.100
> 
> 标签：c++, boost, boost-log

我正在尝试构建 Boost.Log ( [http://boost-log.sourceforge.net/libs/log/doc/html/index.html](http://boost-log.sourceforge.net/libs/log/doc/html/index.html) )。我将它添加到我的 boost 源中并执行了我通常的 boost 构建命令。

```
b2 --build-dir="D:\boost\1.51.0\boost" toolset=gcc variant=release link=static threading=multi  runtime-link=static --build-type=complete 
```

但什么也没发生，我最终收到了这个：

```
D:/boost/1.51.0/src/tools/build/v2/build\generators.jam:1085: in ensure-type from module generators
error: target { simple_event_log.mc. } has no type
D:/boost/1.51.0/src/tools/build/v2/build\generators.jam:1319: in generators.construct from module generators
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1495: in construct from module object(typed-target)@491
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1298: in object(typed-target)@491.generate from module object(typed-target)@491
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:732: in generate-really from module object(main-target)@1871

D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:704: in object(main-target)@1871.generate from module object(main-target)@1871
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:258: in object(project-target)@474.generate from module object(project-target)@474
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:848: in targets.generate-from-reference from module targets D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1217: in generate-dependencies from module object(install-target-class)@96
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1269: in object(install-target-class)@96.generate from module object(install-target-class)@96
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:732: in generate-really from module object(main-target)@930 D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:704: in object(main-target)@930.generate from module object(main-target)@930
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:848: in targets.generate-from-reference from module targets D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1217: in generate-dependencies from module object(top-level-target)@103
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1269: in alias-target-class.generate from module object(top-level-target)@103
D:/boost/1.51.0/src\boostcpp.jam:391: in build-multiple from module object(top-level-target)@103
D:/boost/1.51.0/src\boostcpp.jam:376: in object(top-level-target)@103.generate from module object(top-level-target)@103
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:732: in generate-really from module object(main-target)@934 D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:704: in object(main-target)@934.generate from module object(main-target)@934
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:848: in targets.generate-from-reference from module targets D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1217: in generate-dependencies from module object(top-level-target)@104
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:1269: in alias-target-class.generate from module object(top-level-target)@104
D:/boost/1.51.0/src\boostcpp.jam:391: in build-multiple from module object(top-level-target)@104
D:/boost/1.51.0/src\boostcpp.jam:376: in object(top-level-target)@104.generate from module object(top-level-target)@104
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:732: in generate-really from module object(main-target)@935 D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:704: in object(main-target)@935.generate from module object(main-target)@935
D:/boost/1.51.0/src/tools/build/v2/build\targets.jam:258: in object(project-target)@42.generate from module object(project-target)@42
D:/boost/1.51.0/src/tools/build/v2\build-system.jam:736: in load from module build-system
D:\boost\1.51.0\src\tools\build\v2/kernel\modules.jam:283: in import from module modules
D:\boost\1.51.0\src\tools\build\v2/kernel/bootstrap.jam:142: in boost-build from module
D:\boost\1.51.0\src\boost-build.jam:17: in module scope from module 
```

你能解释一下这是什么意思或我如何能看到更多的错误信息吗？你是如何构建 Boost.Log 的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-19T00:27:55.670

问题的答案可以在[这里](http://boost-log.sourceforge.net/libs/log/doc/html/log/supported_compilers.html)找到：

> 其次，在某些时候，该库将需要一个消息编译器工具 (mc.exe)，而 MinGW、Cygwin 和 MSVC Express Edition 中不提供该工具。您有两种选择来解决问题。在 MinGW 和 Cygwin 的情况下，您可以使用 windmc.exe 工具，它是原始 mc.exe 的类似物。为此，您必须按照此票证中的说明修补 Boost.Build 文件（特别是 tools/build/v2/tools/mc.jam 文件）。之后，您将能够为 bjam 指定 mc-compiler=windmc 选项来构建库。

这是[补丁](https://svn.boost.org/trac/boost/attachment/ticket/4111/mc.jam.patch)的链接。应用补丁并通过`mc-compiler=windmc`应该可以解决问题。

**注意：另外，如**[票据](https://svn.boost.org/trac/boost/ticket/4111)中的评论所述，您需要在in`import mc ;`之后添加。`import fortran ;``tools\build\v2\tools\gcc.jam`

**这是您的 mc.jam 文件在应用补丁后的样子**（确保您的文件如下所示）：

```
import common ;
import generators ;
import feature : feature get-values ;
import toolset : flags ;
import type ;
import rc ;

feature.feature mc-compiler : mc windmc : propagated ; 
feature.set-default mc-compiler : mc ; 

rule init ( )
{
}

type.register MC : mc ;

# Command line options
feature mc-input-encoding : ansi unicode : free ;
feature mc-output-encoding : unicode ansi : free ;
feature mc-set-customer-bit : no yes : free ;

flags mc.compile MCFLAGS <mc-input-encoding>ansi : -a ;
flags mc.compile MCFLAGS <mc-input-encoding>unicode : -u ;
flags mc.compile MCFLAGS <mc-output-encoding>ansi : -A ;
flags mc.compile MCFLAGS <mc-output-encoding>unicode : -U ;
flags mc.compile MCFLAGS <mc-set-customer-bit>no : ;
flags mc.compile MCFLAGS <mc-set-customer-bit>yes : -c ;

generators.register-standard mc.compile.mc : MC : H RC : <mc-compiler>mc ; 
generators.register-standard mc.compile.windmc : MC : H RC : <mc-compiler>windmc ;

actions compile.mc
{ 
    mc $(MCFLAGS) -h "$(<[1]:DW)" -r "$(<[2]:DW)" "$(>:W)" 
}

actions compile.windmc
{ 
    windmc $(MCFLAGS) -h "$(<[1]:DW)" -r "$(<[2]:DW)" "$(>:W)" 
} 
```

**警告**

`boost-log\branches\bleeding-edge`无法为我编译（gcc 4.7.1）。我使用其中`boost-log\trunk\boost-log`一个成功构建（构建于 2012-09-05）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T13:56:14.540

尝试：

```
b2 toolset=gcc --build-type=complete threading=multi architecture=x86 address-model=32 --with-log define=BOOST_LOG_USE_CHAR --stagedir=. 
```

Boost 1.51 和 Boost::Log rev 对我有用。721

# android - 在 Android 上取消选择 ListView 项目

> ID：12242735
> 
> 赞同：0
> 
> 时间：2012-09-03T06:01:36.763
> 
> 标签：android, listview

我`ListView`设置为`singleChoice`模式，项目视图包含一个`Button`. 如果我选择列表项，`Button`则更改为可见。

当取消选择列表项时，`Button`设置为消失。我怎样才能做到这一点？

它类似于背景颜色的变化。

实际上，我的列表项包含一个 textView 和一个删除按钮，删除按钮仅在选中该项时可见

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:05:20.187

使用[`setOnItemClickListener()`](http://developer.android.com/reference/android/widget/AdapterView.html#setOnItemClickListener%28android.widget.AdapterView.OnItemClickListener%29)方法

```
listView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
        Button b = (Button) view.findViewById(R.id.button_id);
        if(b.getVisibility() == View.VISIBLE)
            b.setVisibility(View.INVISIBLE);
        else
            b.setVisibility(View.VISIBLE);

    }
}); 
```

# android - 如何在 Android 中制作自定义 ANR 对话框而不是 android ANR 对话框

> ID：12242736
> 
> 赞同：1
> 
> 时间：2012-09-03T06:01:44.160
> 
> 标签：android

我想设计自定义 ANR 对话框，以便当 ANR 出现时，它会显示我们自己的对话框而不是 ANR 对话框。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:02:45.483

**Android ANR 对话框**是一个系统处理（生成），您无法对其进行任何控制。

正如它在系统操作系统源代码中实现的那样，您无法更改 ANR 对话框。因为当 ANR 到来时你无法捕捉到。

唯一的选择是修改 Android OS Source。

# jquery - jQuery拖放ul和li元素

> ID：12242737
> 
> 赞同：4
> 
> 时间：2012-09-03T06:01:58.433
> 
> 标签：jquery, jquery-ui, jquery-plugins

一方面，我得到了`<ul>`and的列表`<li>`。和元素应该被拖放`<ul>`。`<li>`目标是 a`div`或`span`。我怎么能开始？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:11:24.670

基本上，您的可拖动元素将是`<li>`元素，而您的可放置元素将是`<div>`或`<span>`两者兼而有之。为可拖动和可放置设置必要的选项。然后处理可拖动对象的拖动事件和可放置对象的放置事件，以执行任何自定义功能。使用可放置对象的接受选项验证放置元素（它是选择器或函数）。这是必要的文件：

可拖动：http : [//jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)

可放置：http : [//jqueryui.com/demos/droppable/](http://jqueryui.com/demos/droppable/)

jsFillde：[小提琴](http://jsfiddle.net/wGWTS/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T06:04:00.293

好吧，这会给你一个开始

[Jquery UI 可放置](http://jqueryui.com/demos/droppable/#shopping-cart)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:07:13.660

使用 jQueryUI 的文档：http: [//jqueryui.com/demos/](http://jqueryui.com/demos/)

对于您的问题：http: [//jqueryui.com/demos/draggable/#sortable](http://jqueryui.com/demos/draggable/#sortable)

# c - x86 和 x86-64 之间的套接字和可移植性

> ID：12242739
> 
> 赞同：3
> 
> 时间：2012-09-03T06:02:15.503
> 
> 标签：c, sockets

让我们以我对这个服务器代码的怀疑为例：

```
/* some code */
void *filebuffer = NULL;
/* some other code */

for (size_to_send = fsize; size_to_send > 0; ){
  rc = sendfile(f_sockd, fd, &offset, size_to_send);
  if (rc <= 0){
    perror("sendfile");
    onexit(f_sockd, m_sockd, fd, 3);
  }
  size_to_send -= rc;
} 
```

/* 其他代码 */

这个客户代码：

```
/* some code */
void *filebuffer;
/*some other code */
for(size_to_receive = fsize; size_to_receive > 0;){
  nread = read(f_sockd, filebuffer, size_to_receive);
  if(nread < 0){
    perror("read error on retr");
    onexit(f_sockd, 0, 0, 1);
  }
  if(write(fd, filebuffer, nread) != nread){
    perror("write error on retr");
    onexit(f_sockd, 0, 0, 1);
  }
  size_to_receive -= nread;
}
/* other code */ 
```

我的问题是：如果服务器在 x86 机器（小端）上，而客户端在 x64 机器（小端）上，指针不同大小（4-8 字节）会导致问题吗？
如果是，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T06:07:47.647

不，这不是问题，因为您实际上并没有通过套接字发送指针，只是一个字节流。我看到的唯一问题是文件是否是二进制数据并且其中包含 64 位整数，并且接收平台是 32 位而不支持 64 位整数（例如`long long`），但是，除非您正在接收，否则这不太可能一个嵌入式系统。

PS。在您的接收循环中，您检查读取错误，但不检查另一端关闭的套接字（`read`返回时`0`。）

# authentication - 没有登录屏幕的只读 Web 应用程序的身份验证

> ID：12242752
> 
> 赞同：0
> 
> 时间：2012-09-03T06:03:16.173
> 
> 标签：authentication, login

我有一个基于 Web 的应用程序，用于查找有关设施中各种资产的信息。这仅提供搜索功能，不允许应用程序进行 CRUD 操作（READ 除外）。此网络应用程序始终在触摸屏设备（即工作站）中保持打开状态，任何设施工作人员都可以使用它。用户不想为每个搜索操作启动登录和注销。

我们计划将 Web 应用程序部署到云上。尽管不需要对访问 Web 应用程序的用户进行身份验证，但仍然需要确保其他人无法访问有关设施中资产的信息。如何构建此身份验证层？我能想到的各种选项是： 1\. 在 URL 中包含用户 ID/密码作为参数。我可以为每个设施创建一个用户名/密码。简单，但用户名/密码区域始终可见。2\. 基于证书的方法。为这些工作站中的每一个创建证书并部署在这些工作站上。相当安全，但在管理证书生命周期方面存在挑战。以及使用来自不同设施的证书配置网络服务器的挑战？？？

有什么建议么？

谢谢，普拉萨纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:11:51.787

一个简单但不安全的事情。进行 IP 检查，如果 IP 来自您的设施，则授予访问权限。第二种但安全的方法是在应用程序启动时仅使用密码进行验证并存储会话，以便您知道您所在机构的人员正在访问该站点。

# ruby-on-rails - Ruby on Rails 教程 - 遇到错误，把我的头发拉出来

> ID：12242754
> 
> 赞同：2
> 
> 时间：2012-09-03T06:03:18.370
> 
> 标签：ruby-on-rails

我遵循 [Michael Hartl's tutorial][1] 并做了第 7 章中的练习，现在有 4 个错误我无法弄清楚如何为我的生活修复。当我手动测试生产应用程序时，根本不存在错误。所以我不知道我的文本开发是否有问题或其他什么，但我完全不知所措，所以我想我会在这里发帖，看看我的菜鸟是否让我失明......谢谢你的帮助！

**这是我收到的 4 条错误消息：**

```
Failures:

  1) signup with invalid information after submission 
     Failure/Error: it { should have_selector('title', text: "Sign up") }
       expected css "title" with text "Sign up" to return something
     # ./spec/requests/user_pages_spec.rb:38:in `block (4 levels) in <top (required)>'

  2) signup with invalid information after submission 
     Failure/Error: it { should have_content('error') }
       expected there to be content "error" in "after submission"
     # ./spec/requests/user_pages_spec.rb:39:in `block (4 levels) in <top (required)>'

  3) signup after saving the user 
     Failure/Error: it { should have_selector('title', text: user.name) }
     NoMethodError:
       undefined method `name' for nil:NilClass
     # ./spec/requests/user_pages_spec.rb:60:in `block (3 levels) in <top (required)>'

  4) signup after saving the user 
     Failure/Error: it { should have_selector('div.alert.alert-success', text: 'Welcome') }
       expected css "div.alert.alert-success" with text "Welcome" to return something
     # ./spec/requests/user_pages_spec.rb:61:in `block (3 levels) in <top (required)>'

Finished in 6.8 seconds
10 examples, 4 failures

Failed examples:

rspec ./spec/requests/user_pages_spec.rb:38 # signup with invalid information after submission 
rspec ./spec/requests/user_pages_spec.rb:39 # signup with invalid information after submission 
rspec ./spec/requests/user_pages_spec.rb:60 # signup after saving the user 
rspec ./spec/requests/user_pages_spec.rb:61 # signup after saving the user 
```

**这是我的 user_pages_spec.rb 上的代码：**

```
require 'spec_helper'

    require 'spec_helper'

    describe "User pages" do

      subject { page }

      describe "signup page" do
        before { visit signup_path }

        it { should have_selector('h1',    text: 'Sign up') }
        it { should have_selector('title', text: full_title('Sign up')) }
      end

      describe "profile page" do
      let(:user) { FactoryGirl.create(:user) }
      before { visit user_path(user) }

      it { should have_selector('h1',    text: user.name) }
      it { should have_selector('title', text: user.name) }
    end
    end

      describe "signup" do

        before { visit signup_path }

        let(:submit) { "Create my account" }

        describe "with invalid information" do
          it "should not create a user" do
            expect { click_button submit }.not_to change(User, :count)
          end

            describe "after submission" do
              before { click_button submit }

              it { should have_selector('title', text: "Sign up") }
              it { should have_content('error') }
            end
        end

        describe "with valid information" do
          before do
            fill_in "Name",         with: "Example User"
            fill_in "Email",        with: "user@example.com"
            fill_in "Password",     with: "foobar"
            fill_in "Confirmation", with: "foobar"
          end

          it "should create a user" do
            expect { click_button submit }.to change(User, :count).by(1)
          end
        end

          describe "after saving the user" do
          before { click_button submit }
          let(:user) { User.find_by_email('user@example.com') }

          it { should have_selector('title', text: user.name) }
          it { should have_selector('div.alert.alert-success', text: 'Welcome') }
        end
      end

  [1]: http://ruby.railstutorial.org/ 
```

**这是views/users/show.html.erb的模板代码**

```
<% provide(:title, @user.name) %>
<div class="row">
  <aside class="span4">
    <section>
      <h1>
        <%= gravatar_for @user %>
        <%= @user.name %>

      </h1>
    </section>
  </aside>
</div> 
```

**然后是 users_controller.rb**

```
class UsersController < ApplicationController

  def show
    @user = User.find(params[:id])
  end

  def new
    @user = User.new
  end

 def create
    @user = User.new(params[:user])
    if @user.save
      sign_in @user
      flash[:success] = "Welcome to the Sample App!"
      redirect_to @user
    else
      render 'new'
    end
  end

end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T21:16:07.873

好的你们，

我不知道不回答我的问题是不是对这个论坛的菜鸟来说是一种折磨，但经过将近 24 小时和良好的睡眠后，我解决了这个问题！

经过几次 G 搜索后，我发现我可以通过在错误的位置添加“end”来阻止某些变量通过。事实证明，我做这件事的主要领域有 2 个。一旦我找到并修复了这些，所有的错误都消失了。

我现在要拍拍自己的背。我希望这对将来遇到同样问题的任何新手有所帮助。

# sql - 如何在 SQL SERVER 2000 的 varchar 列中显示特定范围值

> ID：12242758
> 
> 赞同：1
> 
> 时间：2012-09-03T06:03:49.533
> 
> 标签：sql, sql-server-2000

我的表名是“信息”

结构是：

```
No int,
Name varchar(200),
Date varchar(30) 
```

记录：

```
No  Name        Date
=====================================
1   A       25/08/2012
2   B       10/08/2012
3   C       11/08/2012
4   D       01/09/2012 
```

我的问题是我想要 25/08/2012 到 01/09/2012 之间的 No,Name,Date

我尝试了以下查询，但我无法得到它。

```
select No,Name,Date 
from information 
where Date>='25/08/2012' and Date<='01/09/2012' 
```

我不想将日期列（varchar）更改为日期时间

请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:07:58.403

您可以尝试将 varchar 转换为日期时间：

```
SELECT No,Name,Date from information 
WHERE CONVERT(datetime, Date, 103) >= CONVERT(datetime, '25/08/2012', 103) 
AND CONVERT(datetime, Date, 103) <= CONVERT(datetime, '01/09/2012', 103) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:21:02.370

如前所述，将您的列转换为日期时间。我个人会使用 between 语句作为它的清洁剂。

```
select No,Name,Date from information where convert(datetime, Date, 103) between convert(datetime, '25/08/2012', 103) and convert(datetime, '01/09/2012', 103) 
```

根据您的输入参数，您可能可以事先将它们转换为日期时间（因此您可以在执行之前检查输入的值。例如；

```
declare @startdate datetime
declare @enddate datetime

set @startdate = convert(datetime, '25/08/2012', 103)
set @enddate = convert(datetime, '01/09/2012', 103)

select No,Name,Date from information where convert(datetime, Date, 103) between @stardate and @enddate 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T06:26:54.413

请使用以下查询，您不需要将日期列（varchar）更改为日期时间。

```
select No,Name,Date from information where CONVERT(date,[DATE],103) >=  CONVERT(date,'25/08/2012',103)  and CONVERT(date,[DATE],103) <=  CONVERT(date,'01/09/2012',103) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:17:55.713

您需要将`VARCHAR`数据类型转换为`Date`. 尝试，

```
SELECT  No, Name, [Date]
FROM    information 
where   CAST([Date] AS Date) BETWEEN CAST('2012-08-25' AS DATE) AND  
                                     CAST('2012-09-09' AS DATE) 
```

# jquery - 如何通过 remoteFunction 传递 ag:datePicker 值？

> ID：12242764
> 
> 赞同：0
> 
> 时间：2012-09-03T06:04:13.617
> 
> 标签：jquery, ajax, grails, datepicker

我试图通过 remoteFunction 传递 ag:datePicker 值。但它返回一个空值。有人知道如何解决这个问题吗？我的普惠制页面：

```
<%@ page contentType="text/html;charset=ISO-8859-1" %>
<html>
    <g:javascript library="jQuery"/>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
        <meta name="layout" content="main"/>
        <title>Insert title here</title>
    </head>
    <body>
        <form action="">
            <table>
                <tr>
                    <td>Select Category :</td>
                    <td><g:select name="category" 
                        from="['Crop','Location','Pest and Disease']" 
                        onchange="${remoteFunction(controller:'AG10_aggregationReport', 
                        action:'view', update:'report',
                        params:'\'filter=\'+document.getElementById(\'req_date\').value' )};"/>
                    </td>
                    <td>Date :</td>
                    <td><g:datePicker name="req_date" id="req_date" value=""/></td>
                    <td><g:submitButton name="view" value="View"/></td>
                </tr>
                <tr>
                    <td></td>
                </tr>
            </table>
            <div id="report"></div>
        </form>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T12:28:18.487

通常 grails 期望字段名称为：

```
 ${fieldName}_year, ${fieldName}_month, ${fieldName}_day 
```

带有一个名为`${fieldName}`“date.struct”的隐藏字段。

然后它会在遇到`'date.struct'`后端时为您解析数据。当您从中获得价值时，您得到的`req_date`显然`'date.struct'`不是约会。您可以在此处阅读一些解决方法：

[Grails 日期属性编辑器](https://stackoverflow.com/questions/2662598/grails-date-property-editor/2664203#2664203)

[http://www.dariopardo.com/grails/jquerydatepickergrailstag/](http://www.dariopardo.com/grails/jquerydatepickergrailstag/)

# php - PHP：从绝对 URL 获取绝对路径

> ID：12242767
> 
> 赞同：8
> 
> 时间：2012-09-03T06:04:26.493
> 
> 标签：php, path, absolute

我有一个文件的绝对路径，有没有办法获取文件的绝对路径

```
http://domainname/rootfolder/filename.php 
```

我想得到类似的东西

/home/domainname/public_html/foldername/filename.php

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-07-19T10:44:57.597

这是最简单的方法：

```
$path = parse_url('http://domainname/rootfolder/filename.php', PHP_URL_PATH);

//To get the dir, use: dirname($path)

echo $_SERVER['DOCUMENT_ROOT'] . $path; 
```

这将打印你的完整路径。

文档：

[解析网址](http://php.net/manual/en/function.parse-url.php)

[DOCUMENT_ROOT](http://www.php.net/manual/en/reserved.variables.server.php)

[目录名](http://es1.php.net/manual/en/function.dirname.php)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-03T06:09:54.990

您可以使用[该`parse_url`函数](http://php.net/manual/en/function.parse-url.php)获取 URL 的本地部分。

然后将其转换为文件路径需要您知道网络服务器的文档根目录在哪里。如果它与运行页面的服务器是同一台服务器，那么您通常可以从[`$_SERVER['DOCUMENT_ROOT']`](http://www.php.net/manual/en/reserved.variables.server.php).

它还取决于没有什么可以阻止 URL 不直接映射到文件系统（例如 mod_rewrite、mod_alias、通过 MVC 框架路由的 URI 等）。例如，对于我目前正在开发的系统，如果您要访问*http://example.com/blog/2012/01/01/*，那么所涉及的文件将是*/home/user/recall/script /recall.psgi*和*/home/user/recall/root/blog/day.tt*但 DocumentRoot 将是*/home/user/recall/htdocs/*）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:09:06.147

试试`$_SERVER['DOCUMENT_ROOT']`。假设一个 URL 像

```
http://example.com/subfolder/somefile.html 
```

并且文件在服务器上的实际位置是

```
/home/sites/example.com/html/subfolder/somefile.html
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^--- $_SERVER['DOCUMENT_ROOT'] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-03T10:23:20.090

尝试

```
$filepath = $_SERVER['DOCUMENT_ROOT'].'/rootfolder/filename.php' 
```

这可能会对您有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-20T13:08:30.013

我发现这可以可靠地工作：

```
function get_file_path_from_url( $file_url ){
   return realpath($_SERVER['DOCUMENT_ROOT'] . parse_url( $file_url, PHP_URL_PATH ));
} 
```

# linq - Foreach实现将字符串拆分为数组并填充到列表中

> ID：12242769
> 
> 赞同：0
> 
> 时间：2012-09-03T06:04:29.217
> 
> 标签：linq

我有一串电子邮件地址，例如：

> 字符串 str = abc@gmail.com;ghf < ghf@gmail.com >;xyz < xyz@gmail.com>

现在我想做这样的事情

```
List<string> test = new List<string>();
        Regex.Split(to, ";").ToList().ForEach(x => x.Split(new char[] { '<', '>' }).Select(y => y != "<" || y != ">")); 
```

现在我如何在单个 linq 查询中仅将诸如 abc@gmail.com、ghf@gmail.com 和 xyz@gmail.com 之类的电子邮件地址填写到列表测试中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:08:09.177

您是否尝试过类似的方法：

```
var test = Regex.Split(to, ";").ToList().ForEach(x => x.Split(new char[] { '<', '>' }).Select(y => y != "<" || y != ">")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:39:50.477

```
var result = str.Split(';')
              .Select(m => Regex.Replace(m, "([^<]+)<([^>]+)>", "$2")
              .Trim()).ToList(); 
```

# mysql - 将表从一个数据库复制到另一个数据库的最简单方法？

> ID：12242772
> 
> 赞同：189
> 
> 时间：2012-09-03T06:04:43.677
> 
> 标签：mysql, database

当数据库在不同用户下时，将数据从一个数据库中的表复制到另一个数据库中的表的最佳方法是什么？

我知道我可以使用

```
INSERT INTO database2.table2 SELECT * from database1.table1 
```

但这里的问题是两者`database1`都`database2`在不同的 MySQL 用户下。所以`user1`只能访问`database1`和`user2`只能访问`database2`。任何想法？

* * *

## 回答 #1

> 赞同：134
> 
> 时间：2012-09-03T06:51:33.117

如果您有 shell 访问权限，您可以使用`mysqldump`转储 的内容`database1.table1`并将其通过管道传输`mysql`到`database2`. 这里的问题`table1`仍然是`table1`.

```
mysqldump --user=user1 --password=password1 database1 table1 \
| mysql --user=user2 --password=password2 database2 
```

也许您需要使用另一个查询重命名`table1`为。`table2`另一方面，您可以使用 sed 在 to 管道之间将 table1 更改为 table2。

```
mysqldump --user=user1 --password=password1 database1 table1 \
| sed -e 's/`table1`/`table2`/' \
| mysql --user=user2 --password=password2 database2 
```

如果 table2 已经存在，您可以将参数添加到第一个不允许创建 table-creates 的 mysqldump。

```
mysqldump --no-create-info --no-create-db --user=user1 --password=password1 database1 table1 \
| sed -e 's/`table1`/`table2`/' \
| mysql --user=user2 --password=password2 database2 
```

* * *

## 回答 #2

> 赞同：128
> 
> 时间：2014-03-24T19:30:46.437

`CREATE TABLE db1.table1 SELECT * FROM db2.table1`

其中 db1 是目标，db2 是源

* * *

## 回答 #3

> 赞同：72
> 
> 时间：2015-08-13T11:51:57.590

如果您使用的是***PHPMyAdmin，***它可能非常简单。假设您有以下数据库：

```
DB1 & DB2 
```

DB1 有一个表 users，您希望将其复制到 DB2

在 PHPMyAdmin 下，打开 DB1，然后转到 users 表。

在此页面上，单击右上角的**“操作”**选项卡。在 Operations 下，查找**Copy table to (database.table) 部分：**

&你完成了！

* * *

## 回答 #4

> 赞同：29
> 
> 时间：2012-09-03T07:48:27.297

## **[MySql Workbench](http://www.mysql.com/downloads/workbench/)**：强烈推荐

![MySql Workbench 中的数据库迁移工具](../Images/af1136101003ac91cd8cb60ab524a785.png)

这将很容易处理迁移问题。您可以在 MySql 和 SqlServer 之间迁移选定数据库的选定表。你一定要试一试。

* * *

## 回答 #5

> 赞同：24
> 
> 时间：2014-01-26T17:28:10.590

我使用 Navicat for MySQL...

它使所有数据库操作变得容易！

你只需在 Navicat 中选择两个数据库然后使用。

```
 INSERT INTO Database2.Table1 SELECT * from Database1.Table1 
```

* * *

## 回答 #6

> 赞同：15
> 
> 时间：2020-08-17T19:22:58.460

它对我有用

```
CREATE TABLE dbto.table_name like dbfrom.table_name;
insert into  dbto.table_name select * from dbfrom.table_name; 
```

* * *

## 回答 #7

> 赞同：13
> 
> 时间：2017-03-07T18:10:39.980

如果您的表在同一个 mysql 服务器上，您可以运行以下命令

```
CREATE TABLE destination_db.my_table SELECT * FROM source_db.my_table;
ALTER TABLE destination_db.my_table ADD PRIMARY KEY (id); 
ALTER TABLE destination_db.my_table MODIFY COLUMN id INT AUTO_INCREMENT; 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2017-10-26T00:11:03.177

这是另一种简单的方法：

1.  使用 DB1；显示创建表 TB1；
    *   在剪贴板中复制此处的语法以在 DB2 中创建 TB1
2.  使用 DB2；
    *   在此处粘贴语法以创建表 TB1

`INSERT INTO DB2.TB1 SELECT * from DB1.TB1;`

* * *

## 回答 #9

> 赞同：12
> 
> 时间：2017-12-20T09:05:09.387

我知道这是个老问题，只是回答，以便任何来到这里的人都能得到更好的方法。

从 5.6.10 开始，您可以执行

```
CREATE TABLE new_tbl LIKE orig_tbl; 
```

请参阅此处的文档：[https ://dev.mysql.com/doc/refman/5.7/en/create-table-like.html](https://dev.mysql.com/doc/refman/5.7/en/create-table-like.html)

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2015-04-01T15:59:06.860

使用 MySql Workbench 的导出和导入功能。步骤：
1\. 选择你想要的值

```
E.g. select * from table1; 
```

2.  单击“导出”按钮并将其保存为 CSV。
3.  使用与第一个相似的列创建一个新表

    ```
    E.g. create table table2 like table1; 
    ```

4.  从新表中全选

    ```
    E.g. select * from table2; 
    ```

5.  单击导入并选择您在步骤 2 中导出的 CSV 文件

![MySql Workbench 中的导出和导入按钮示例](../Images/564d8489f92d83d4ed476be31ff55bf6.png)

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2012-09-03T08:18:32.340

Try `mysqldbcopy` ([documentation](http://dev.mysql.com/doc/mysql-utilities/1.3/en/mysqldbcopy.html))

Or you can create a "[federated table](http://dev.mysql.com/doc/refman/5.0/en/federated-use.html)" on your target host. Federated tables allow you to see a table from a different database server as if it was a local one. ([documentation](http://dev.mysql.com/doc/refman/5.0/en/federated-use.html))

After creating the federated table, you can copy data with the usual `insert into TARGET select * from SOURCE`

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2015-01-16T16:24:49.833

使用 MySQL Workbench，您可以使用数据导出仅将表转储到本地 SQL 文件（仅数据、仅结构或结构和数据），然后使用数据导入将其加载到另一个数据库中。

您可以同时打开多个连接（不同的主机、数据库、用户）。

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2020-05-12T08:00:51.513

首先创建转储。如果已经存在，则添加`--no-create-info --no-create-db`标志：`table2`

```
mysqldump -u user1 -p database1 table1 > dump.sql 
```

然后输入`user1`密码。然后：

```
sed -e 's/`table1`/`table2`/' dump.sql 
```

```
mysql -u user2 -p database2 < dump.sql 
```

然后输入`user2`密码。

与[helmor 的答案](https://stackoverflow.com/a/12243188/866022)相同，但该方法更安全，因为密码不会以原始文本形式暴露给控制台（反向搜索、密码嗅探器等）。如果它是从对其权限施加适当限制的脚本文件执行的，则其他方法很好。

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2019-06-18T06:43:38.467

获取所需的所有查询的一种简单方法是使用来自 information_schema 和 concat 的数据。

```
SELECT concat('CREATE TABLE new_db.', TABLE_NAME, ' LIKE old_db.', TABLE_NAME, ';') FROM `TABLES` WHERE TABLE_SCHEMA = 'old_db'; 
```

然后，您将获得如下所示的结果列表：

```
CREATE TABLE new_db.articles LIKE old_db.articles;
CREATE TABLE new_db.categories LIKE old_db.categories;
CREATE TABLE new_db.users LIKE old_db.users;
... 
```

然后，您可以运行这些查询。

但是它不适用于 MySQL 视图。`AND TABLE_TYPE = 'BASE TABLE'`您可以通过从初始查询中追加来避免它们：

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2012-09-03T06:09:07.990

这是您需要定期做的事情，还是只做一次？

您可以进行导出（例如使用 phpMyAdmin 或类似方法），将您的表格及其内容编写成文本文件，然后您可以将其重新导入其他数据库。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2015-08-13T07:24:59.817

使用以下步骤将一些列从一个数据库表复制并插入到另一个数据库表 -

1.  CREATE TABLE 表名（列名数据类型（大小），列名数据类型（大小））；

2.INSERT INTO db2.tablename SELECT columnname1,columnname2 FROM db1.tablename;

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2017-03-04T14:38:43.613

在 xampp 中只需将所需的表导出为 .sql 文件，然后将其导入所需的

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2020-12-26T08:59:03.410

对我来说，我需要将特定模式指定为“information_schema.TABLES”

例如。

```
SELECT concat('CREATE TABLE new_db.', TABLE_NAME, ' LIKE old_db.', TABLE_NAME, ';') FROM information_schema.TABLES  WHERE TABLE_SCHEMA = 'old_db'; 
```

* * *

## 回答 #19

> 赞同：-1
> 
> 时间：2020-02-19T16:35:51.907

**像 sakila.customer** (Database_name.tablename) 一样创建表destination_customer，这将只复制源表的结构，对于数据也要与结构一起复制，这样做**创建表destination_customer as select * from sakila.customer**

# php - 未找到 Codeigniter 页面，更改 .htacess

> ID：12242774
> 
> 赞同：0
> 
> 时间：2012-09-03T06:05:10.190
> 
> 标签：php, .htaccess, codeigniter, mod-rewrite, http-status-code-404

我在测试实时服务器上工作，我对文件进行了一些更改并保存了它，突然整个网站崩溃了。

当我现在登录到我的测试服务器时（http://www.uplits.com/）。它显示目录没有索引文件错误，当我登录到 codeigniter (http://uplits.com/skidt/admin919/codeigniter/)

它显示页面未找到错误。

请帮忙，我不知道出了什么问题。

```
RewriteEngine on 
RewriteCond $1 !^(index\.php|resources|robots\.txt) 
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteRule ^(.*)$ index.php?$1 [L,QSA] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:24:50.983

消除：

```
RewriteCond $1 !^(index\.php|resources|robots\.txt) 
```

你不应该需要这个，因为 !-f & !-d 条件应该会处理这个问题。

# symfony - Symfony 2 + GELF

> ID：12242787
> 
> 赞同：0
> 
> 时间：2012-09-03T06:07:02.990
> 
> 标签：symfony, monolog, graylog2

我正在尝试使用 GELF 设置 Symfony 2 以与 GrayLog 一起使用。我在 Symfony 2.0.17 上并使用来自此 GIST [https://gist.github.com/2654837](https://gist.github.com/2654837)的信息我已将日志记录设置为调试模式，并且没有在 Graylog 中接收信息。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T05:06:43.937

没关系。似乎 Symfony 2.1 内置了 GELF，似乎可以正常工作。

# struts2 - 带有复选框的 Struts2 树标记

> ID：12242789
> 
> 赞同：2
> 
> 时间：2012-09-03T06:07:09.140
> 
> 标签：struts2, treeview

我正在尝试构建一个具有树的表单，其中树中的每个节点都需要有一个复选框来获取用户的输入。

如何使用 struts2 树标签完成此操作？。谁能帮帮我吗。

# android - 集成 Aurasma 时出错：资源完整性检查失败

> ID：12242792
> 
> 赞同：2
> 
> 时间：2012-09-03T06:07:22.433
> 
> 标签：android, augmented-reality, aurasma

我正在尝试将 Aurasma 集成到我的应用程序中。所有应用程序都运行良好，但在 Aurasma 部分，当我在 Button Click 上启动它时，它会在初始屏幕上抛出一条消息“发生错误”，在 Log Cat 上显示“资源完整性检查失败”我想知道为什么会这样，我在没有任何点击事件的情况下将 aurasma 集成到单独的应用程序中，它直接启动然后它可以工作，但在我的应用程序中它不工作，为什么。我确信以下几点：

*   确保 SDK 工具是 14 或更高版本。

*   检查 Eclipse 项目以确保在构建路径上按要求设置了 AurasmaKernel

*   检查 AurasmaKernel 包是否已在 Eclipse 中正确构建（也可以尝试手动构建）

*   确保正确提取内核，并且您的资源不会与任何打包的库发生冲突

但它不能正常工作相同的错误消息。

启动 Aurasma 的代码如下：

```
 aurasmaIntent = AurasmaIntentFactory.getAurasmaLaunchIntent(HomeActivity.this,
 getString(R.string.app_name), getString(R.string.app_version));
 } catch (AurasmaLaunchException e) {
 Log.e("AKTest", "Error getting intent", e);
 showDialog(DIALOG_ERROR);
 return;
}

 if (DELAY_START) {
 AurasmaSetupCallback callback = new AurasmaSetupCallback() {

  @Override
  public void onLoaded() {
   dismissDialog(DIALOG_PROGRESS);
   startActivity(aurasmaIntent);
  }

@Override
public void onLoadWarning(final int code) {
 Log.w("AKTest", "Preload warning: " + code);
}

@Override
public void onLoadFail(final int code) {
 Log.e("AKTest", "Preload error: " + code);
 dismissDialog(DIALOG_PROGRESS);
 showDialog(DIALOG_ERROR);
}
 };
 showDialog(DIALOG_PROGRESS);

 AurasmaIntentFactory.startAurasmaPreload(getApplicationContext(), aurasmaIntent,
 callback);
 } else {
  startActivity(aurasmaIntent);
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T16:47:58.740

如果您从 Aurasma 库（布局或字符串）中更改某些资源，您将收到此错误 - “发生错误”。图书馆检查 Aurasma 开始的资源。不要更改或删除任何文件。

可能导致错误的另一件事是：

```
aurasmaIntent = AurasmaIntentFactory.getAurasmaLaunchIntent(HomeActivity.this,
    getString(R.string.app_name), getString(R.string.app_version)); 
```

这里的第二个参数是 userAgentName。这是您从[studio.aurasma.com](http://studio.aurasma.com)获得的应用程序的名称。在“制作您自己的应用程序”中，您可以看到应用程序名称 - 此名称与您的应用程序相关，但可以不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T02:17:20.080

检查清单中的 minSdkVersion

安卓：m​​inSdkVersion="8"

# hadoop - Hadoop Pig 的运行时环境

> ID：12242793
> 
> 赞同：1
> 
> 时间：2012-09-03T06:07:39.610
> 
> 标签：hadoop, apache-pig, hadoop-plugins

我正在构建一个 hadoop pig 编辑器，类似于 sql 编辑器，用户可以在其中编写执行他们的 pig 命令，并查看执行命令的历史记录。还有智能。

我需要知道如何解析我的 pig 命令并运行它。

提前致谢。

# javascript - 如何在java中使用行分隔2个输出数据

> ID：12242796
> 
> 赞同：0
> 
> 时间：2012-09-03T06:07:52.170
> 
> 标签：javascript, javadoc, java

（对不起我的拼写错误）输出来自 .cvs 文件

> "First Name","Last Name","Main-Email","Current Employer","Internal Contact ID","PSI Club Member Nbr.","Membership Type","Membership Status","Member since", "会员卡发送","会员开始日期","会员到期日期","国籍 1","会员 ID" "Pierre","ABT","piero.a@bluewin.ch",,"1655", "1350","居民更新","Active","1968-01-01","2011 年 2 月 10 日","1968-01-01","1968-12-31",,"1915" "Bruno ","ADAM","bruno.adam@bluewin.ch","OCTAVE GROUP","1656","5288","居民更新","Active","2012-01-01","2012 年 2 月 16 日","2012-01-01","2012-12-31","法国","424

```
i want output in this way..separate line between each data.How to do frnds..

 here is my code can any guide me..thanks in advance.
"Bruce", |"ADAMS", |"bruce.adams@bluewin.ch",|,"1657",|"883",|"Resident  Renewal",|"Active",|"2011-05-10",|,"2012-01-01",|"2012-12-31",|"Canada",
         |         |                         |               |                   | 
         |         |                         |               |                   |

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.util.StringTokenizer;

public class FileRead {
/**
* @param args
*/
public static void main(String[] args) {
String fileName="C:/Users/Desktop/cvsFile.csv";
try {
BufferedReader br = new BufferedReader( new FileReader(fileName));
String strLine = null;
StringTokenizer st = null;
int lineNumber = 0, tokenNumber = 0;
while( (fileName = br.readLine()) != null)
{
lineNumber++;

  /* String[] result = fileName.split("[\r\n]+");
for (int x=0; x<result.length; x++) {
    System.out.println(result[x]);*/

//break comma separated line using ","
st = new StringTokenizer(fileName, "|");
while(st.hasMoreTokens())
{
//display csv values
tokenNumber++;
System.out.println("Line # " + lineNumber + " Token : "+ st.nextToken());
}
//reset token number
tokenNumber = 0;
}
 //  }
}
catch (FileNotFoundException e) {
e.printStackTrace();
} catch (IOException e) {
e.printStackTrace();
}
}
} 
```

![在此处输入图像描述](../Images/b0981e3894ac5b75c11ad3d94ee73850.png)

是否有任何选项可以在 java 中执行上述图像输出。
我想要 d 以这种方式输出。任何人都可以指导我..上面有一个代码...在中间我需要分隔输出数据的行。提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:11:38.160

为什么不用新的分隔符替换逗号，例如：

```
str.replace(",", ",|,"); 
```

# iphone - 尝试从 sqlite 数据库中获取数据时未获得输出

> ID：12242804
> 
> 赞同：0
> 
> 时间：2012-09-03T06:08:27.537
> 
> 标签：iphone, ios, uitableview, sqlite

我是 Objective-C 和 Sqlite 数据库的新手。所以我不明白我的代码中的错误是什么。我正在做一个简单的待办事项列表。在第一页，我想显示所有的任务，并且在标题中，有一个添加按钮。当我们单击该按钮时，它将移动到第二个故事板。在那里，我们可以输入主任务和子任务。我创建了一个名为 TodolistView1Controller 的新页面，并在其中创建了数据库并将数据插入到数据库中。但我的问题是当我们回到主页时，它不会显示我们现在输入的新任务。我将粘贴下面的代码：-

在 TodolistView1Controller.m

```
 -(void)viewDidLoad
{

NSString *docsDir;
NSArray *dirPaths;

// Get the documents directory
dirPaths = NSSearchPathForDirectoriesInDomains(
                                               NSDocumentDirectory, NSUserDomainMask, YES);

docsDir = [dirPaths objectAtIndex:0];

// Build the path to the database file
databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent: @"todo.db"]];

NSFileManager *filemgr = [NSFileManager defaultManager];

if ([filemgr fileExistsAtPath: databasePath ] == NO)
{
    const char *dbpath = [databasePath UTF8String];

    if (sqlite3_open(dbpath, &todoDB) == SQLITE_OK)
    {
        char *errMsg;
        const char *sql_stmt = "CREATE TABLE IF NOT EXISTS TODO (ID INTEGER PRIMARY KEY AUTOINCREMENT, MYTASK TEXT, SUBTASK TEXT)";

        if (sqlite3_exec(todoDB, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK)
        {
            status.text = @"Failed to create table";
        }
        status.text = @"Created the database";
        sqlite3_close(todoDB);

    } else {
       status.text = @"Failed to open/create database";
    }

       } - (IBAction)save:(id)sender {

[myTask resignFirstResponder];
[subTask resignFirstResponder];

sqlite3_stmt *statement;

const char *dbpath = [databasePath UTF8String];

if (sqlite3_open(dbpath, &todoDB) == SQLITE_OK)
{

    NSString *insertSQL = [NSString stringWithFormat: @"INSERT INTO TODO (MYTASK, SUBTASK) VALUES (\"%@\", \"%@\")", myTask.text, subTask.text];

    const char *insert_stmt = [insertSQL UTF8String];

    sqlite3_prepare_v2(todoDB, insert_stmt, -1, &statement, NULL);

    if (sqlite3_step(statement) == SQLITE_DONE)

    {
        status.text = @"Contact added";

        myTask.text = @"";

        subTask.text = @"";

    } else {

        status.text = @"Failed to add contact";

    }
    NSLog(@"7");
    sqlite3_finalize(statement);

    sqlite3_close(todoDB);

} 
```

在主 ViewController.m

```
 -(void)viewDidLoad
{
const char *dbpath = [databasePath UTF8String];
sqlite3_stmt    *statement;

NSLog(@"Display1");

if (sqlite3_open(dbpath, &todoDB) == SQLITE_OK)
{

    NSLog(@"Display2");

    NSString *querySQL = [NSString stringWithFormat: 
                          @"SELECT MYTASK, SUBTASK FROM TODO "];

    NSLog(@"Display3");

    const char *query_stmt = [querySQL UTF8String];

    NSLog(@"Display4");

    if (sqlite3_prepare_v2(todoDB, query_stmt, -1, &statement, NULL) == SQLITE_OK)
    {
        NSLog(@"Display5");
        if (sqlite3_step(statement) == SQLITE_ROW)
        {
            NSLog(@"Display6");

            NSLog(@"Data is displayed");

        } else {
            NSLog(@"Display7");
            NSLog(@"Data cannot be displayed");

        }
        sqlite3_finalize(statement);
    }
    sqlite3_close(todoDB);
} 
```

因此，每当我运行它时，我都会在控制台中获得输出 Display1、Display2、Display3 和 Display4。谁能告诉我为什么我没有得到输出 display5 和 display6。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:21:45.570

当您第一次显示待办任务列表时，它们会呈现到屏幕上。

对数据库的后续插入将存储到数据库中，但是当您返回主页时，您还没有告诉应用程序从数据库中重新获取待办事项列表。

在待办事项页面的“viewWillAppear”或“viewDidAppear”中，编写一个获取所有待办事项列表的方法。确保在获取记录时将它们存储在数组中，您将使用该数组将它们呈现到表视图中。

然后从 SQL 数据库中获取待办事项列表后，执行此方法

[myTableView 重载数据];

这实际上将重新加载您的表格并显示您的待办事项数组中包含的任何新记录。

# python - 使用 zlib 和 cPickle 将字典压缩/解压缩为文件

> ID：12242805
> 
> 赞同：9
> 
> 时间：2012-09-03T06:08:41.687
> 
> 标签：python, zlib, pickle

我正在使用 python 将 zlib 压缩和 cPickled 字典写入文件。它似乎有效，但是，我无法弄清楚如何重新读取文件。

我包括以下代码，其中包括我尝试过的几件事（以及相关的错误消息）。我无处可去。

```
import sys
import cPickle as pickle
import zlib

testDict = { 'entry1':1.0, 'entry2':2.0 }

with open('test.gz', 'wb') as fp:
  fp.write(zlib.compress(pickle.dumps(testDict, pickle.HIGHEST_PROTOCOL),9))

attempt = 0

try:
  attempt += 1
  with open('test.gz', 'rb') as fp:
    step1 = zlib.decompress(fp)
    successDict = pickle.load(step1)
except Exception, e:
  print "Failed attempt:", attempt, e

try:
  attempt += 1
  with open('test.gz', 'rb').read() as fp:
    step1 = zlib.decompress(fp)
    successDict = pickle.load(step1)
except Exception, e:
  print "Failed attempt:", attempt, e

try:
  attempt += 1
  with open('test.gz', 'rb') as fp:
    step1 = zlib.decompress(fp.read())
    successDict = pickle.load(step1)
except Exception, e:
  print "Failed attempt:", attempt, e

try:
  attempt += 1
  with open('test.gz', 'rb') as fp:
    d = zlib.decompressobj()
    step1 = fp.read()
    step2 = d.decompress(step1)
    step3 = pickle.load(step2)
except Exception ,e:
  print "Failed attempt:", attempt, e

try:
  attempt += 1
  with open('test.gz', 'rb') as fp:
    d = zlib.decompressobj()
    step1 = fp.read()
    step2 = d.decompress(step1)
    step3 = pickle.load(step2)
except Exception ,e:
  print "Failed attempt:", attempt, e 
```

我收到以下错误：

```
Failed attempt: 1 must be string or read-only buffer, not file
Failed attempt: 2 __exit__
Failed attempt: 3 argument must have 'read' and 'readline' attributes
Failed attempt: 4 argument must have 'read' and 'readline' attributes
Failed attempt: 5 argument must have 'read' and 'readline' attributes 
```

希望这只是我缺少的一些明显（对其他人）的修复。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-03T06:26:52.037

您在尝试 3-5 时遇到的错误是因为您使用`pickle.load`的是`pickle.loads`. 前者需要一个类似文件的对象，而不是您从解压缩调用中获得的字节字符串。

这将起作用：

```
with open('test.gz', 'rb') as fp:
    data = zlib.decompress(fp.read())
    successDict = pickle.loads(data) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T06:23:30.567

根据pickle手册，您需要使用`pickle.load*s*` [http://docs.python.org/release/2.5/lib/node317.html](http://docs.python.org/release/2.5/lib/node317.html)（显然删除'*'）

# node.js - 如何使用 winston 日志为 nodejs 应用程序添加 scribe 客户端

> ID：12242808
> 
> 赞同：1
> 
> 时间：2012-09-03T06:08:58.090
> 
> 标签：node.js, logging, winston, facebook-scribe

我一直在使用 winston 登录我的节点应用程序。现在我需要设置 scribe 来聚合应用程序日志。我注意到节点应用程序的 node-scribe 客户端与 scribe 客户端交互。但我的疑问是如何制作现有日志与抄写员客户端进行交互，而无需更改我从温斯顿的日志记录。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T12:53:23.893

有一个[winston-scribe](https://npmjs.org/package/winston-scribe) npm 模块。它的源代码已从 github 中删除，但它仍然存在于 npm 注册表中。它相当简单（49 个代码谎言）并且依赖于[scribe模块（作为](https://npmjs.org/package/scribe)[node-scribe](https://github.com/Applifier/node-scribe)托管在 github 上）。只需安装它，导入`Scribe`传输并尝试一下。

免责声明：我尚未对其进行测试，但我认为它应该可以工作。

# php - 生成这个的 PHP 代码

> ID：12242814
> 
> 赞同：0
> 
> 时间：2012-09-03T06:09:25.927
> 
> 标签：php, xml, soap, nonce, usernametoken

我正在尝试从 wsdl 文件中获取结果，但是它需要身份验证，并且用户名和密码的正常传递会给我一个错误：

```
Error arguments: 
    Missing authentication from header 
```

标题应如下所示；

```
<wsse:UsernameToken wsu:Id="UsernameToken-3">
            <wsse:Username>USERNAME</wsse:Username>
            <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">PASSWORD</wsse:Password>
            <wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">jfdkfjdskfjdsklfjsdkf==</wsse:Nonce>
            <wsu:Created>TIMESTAMP</wsu:Created>
</wsse:UsernameToken> 
```

# c# - 如何创建具有给定名称的类c#

> ID：12242816
> 
> 赞同：-2
> 
> 时间：2012-09-03T06:09:35.713
> 
> 标签：c#, class

我想用函数中传递的名称创建一个类。我怎么做？

基本上我的意思是：我们有一个函数叫做

```
public void CreateClassWithThisName(string name)
{

} 
```

然后我们创建一个类

```
class name
{
   //this name is the one passed as parameter in function CreateClassWithThisName
   private Id {get;set}
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:12:45.380

我假设您的意思是要创建具有给定名称的类的*实例*。您可以使用：

```
Type type = Type.GetType(name);
object instance = Activator.CreateInstance(type); 
```

但是，请注意：

*   `name`必须是完全限定的类型名称，包括命名空间
*   类型必须在 mscorlib 或正在执行的程序集中，*或者* `name`必须是程序集限定的类型名称
*   这假设目标类型中有一个公共的无参数构造函数；还有其他重载[`Activator.CreateInstance`](http://msdn.microsoft.com/en-us/library/system.activator.createinstance.aspx)来指定构造函数参数

您还可以使用`Assembly.GetType(string)`从特定程序集中获取类型。

# android - 使用自定义帧头播放来自 TCP 流源的视频

> ID：12242824
> 
> 赞同：3
> 
> 时间：2012-09-03T06:10:38.803
> 
> 标签：android, video-streaming, multimedia

我想开发可以使用一些自定义帧头信息从 TCP 流媒体源播放视频的 Android 应用程序。编解码器是 H.263。

当我检查 Android SDK 时，无法使用[MediaPlayer ，因为：](http://developer.android.com/reference/android/media/MediaPlayer.html)

1.  MediaPlayer 不能使用 TCP IP 和端口作为输入 URL
2.  MediaPlayer 无法解析自定义流帧头信息

所以，我想和你讨论一下哪个是最好的 S/W 拱门。实现我的目标。我现在想的是：

1.  通过 TCP 套接字编程实现我自己的流协议处理程序。
    *   它将从 TCP 视频流源获取数据并解析自定义帧头
2.  使用Android SDK 的[MediaCodec](http://developer.android.com/reference/android/media/MediaCodec.html)解码 H.263 编码的视频帧。
    *   我不确定这是否是正确的做法。也许，另一种选择可能是 ffmpeg
3.  通过 OpenGL ES 渲染解码的视频帧

有什么意见吗？

谢谢！

# javascript - 如何在javascript中获取选定的行ID？

> ID：12242825
> 
> 赞同：0
> 
> 时间：2012-09-03T06:10:38.923
> 
> 标签：javascript, jquery, ajax, jqgrid

我正在尝试使用以下 JavaScript 函数在单击时从 jqgrid 获取特定的单元格值。

在下面的函数`#datagrid`中是存储 jqgrid 的表。

```
 $("#datagrid").click(function(){ 
                var selr = $("#datagrid").getCol('companyid');
                alert(selr);
            }); 
```

我的问题是，当我单击 jqgrid 时，它会在警报消息中显示 jqgrid 中的所有行 ID，但我只需要从 jqgrid 中选择的特定 companyid。我该如何进行这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:15:56.910

您应该使用`getCell`函数从行 id 标识的单元格中读取值。

所以，你应该尝试这样的事情：

```
$("#datagrid").click(function(){ 
    var grid = jQuery('#datagrid');
    var sel_id = grid.jqGrid('getGridParam', 'selrow');
    var myCellData = grid.jqGrid('getCell', sel_id, 'MyColName');
}); 
```

# android - iPhone、新 iPad 和 Android 主屏幕中的图标质量

> ID：12242827
> 
> 赞同：0
> 
> 时间：2012-09-03T06:10:49.337
> 
> 标签：android, iphone, ipad, web-applications, homescreen

我开发了我的第一个网络应用程序[http://checkamy.herokuapp.com](http://checkamy.herokuapp.com)。我正在使该应用程序与所有常见设备兼容。但是，我在**为移动主屏幕**制作图标时遇到了问题。

我在 HTML 中有这两行：

```
<link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
<link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png" /> 
```

解析度：

*   苹果触摸图标.png -> 114x114
*   apple-touch-icon-precomposed.png -> 57x57

在 Android 上没问题，但我无法让它在新 iPad 和 iPhone 4S 上正常显示。

质量很差。Apple 设备似乎用`apple-touch-icon-precomposed.png`作主屏幕图标。

我的问题是：

*   如何使图标在新旧智能手机设备中美观？

ps 我想让它兼容 Android 2.2、iPhone 3G 和 4S 等旧设备...

仅供参考，我正在使用 Coffeescript、jQuery 和 Ruby on Rails 来构建它。

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T21:54:38.690

试试[图标杀手](http://www.gieson.com/Library/projects/utilities/icon_slayer/)。它为您生成了许多看似合理的图标大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T07:19:33.280

**[请参阅此处](http://developer.apple.com/library/ios/#documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html)**的 Apple 文档，了解为多个分辨率指定多个图标。

请注意，`apple-touch-icon-precomposed`它*不是*用于不同的分辨率，而是表示图像上的“光泽度”已经被应用（因此 iOS 不应在跳板表示上应用自己的光泽度）。

对于能够以原始分辨率处理所有当前 iDevice 的全套设备，您需要这样的东西，其中图像实际上是引用的大小，`sizes=`如果没有引用大小，则为 57x57。：

```
<link rel="apple-touch-icon" href="touch-icon-iphone.png" /> 
<link rel="apple-touch-icon" sizes="72x72" href="touch-icon-ipad.png" />
<link rel="apple-touch-icon" sizes="114x114" href="touch-icon-iphone-retina.png" />
<link rel="apple-touch-icon" sizes="144x144" href="touch-icon-ipad-retina.png" /> 
```

# java - 从 Apache POI 开始

> ID：12242828
> 
> 赞同：0
> 
> 时间：2012-09-03T06:10:51.163
> 
> 标签：java, apache-poi

我是 apache POI 的新手。我已经下载了 JAR，但不知道从哪里开始。任何人都可以建议入门的良好链接。我在项目网站上检查过，但没有发现它有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:14:55.770

不久前，我创建了一些教程来进行一些**非常**基本的 POI 操作，这些操作可能有助于入门：

[使用 Java 和 POI 创建 Excel 文件](http://obscuredclarity.blogspot.de/2011/12/create-excel-file-using-java-and-poi.html)

[使用 Java 和 POI 读取 Excel 文件的内容](http://obscuredclarity.blogspot.de/2011/12/read-contents-of-excel-file-using-java.html)

[使用 Java 和 POI 为 Excel 文件中的单元格设置背景颜色和添加边框](http://obscuredclarity.blogspot.de/2011/12/set-background-color-and-add-border-to.html)

[使用 Java 和 POI 在 Excel 文件中设置字体样式](http://obscuredclarity.blogspot.de/2011/12/set-font-style-in-excel-file-using-java.html)

[使用 Java 和 POI 从 Excel 文件中获取工作表名称](http://obscuredclarity.blogspot.de/2011/12/get-sheet-names-from-excel-file-using.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T06:15:46.583

这取决于您打算使用 POI 做什么。您只想为 Excel 生成文件吗？还有其他格式吗？

官网和网络上有很多文档和教程

*   [Excel 快速指南](http://poi.apache.org/spreadsheet/quick-guide.html)
*   [Excel 示例](http://poi.apache.org/spreadsheet/examples.html)
*   [在 Java 连接上](http://www.java-connect.com/category/apache-poi-tutorials/)
*   [在谷歌上](https://www.google.com/search?q=apache%20poi%20tutorials)

# php - 有任何 php 免费的 pdf 库支持 css 浮动属性

> ID：12242838
> 
> 赞同：0
> 
> 时间：2012-09-03T06:12:15.753
> 
> 标签：php, pdf-generation, codeigniter-2

我使用**dompdf作为带有****codeigniter**项目的 php pdf 库， 但它不支持 css float 属性。但我需要这个属性支持的免费 pdf 库。

另一方面，如果我使用大量表格，则生成 pdf 需要很长时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:25:55.080

在其最新版本（0.6 beta 3）中，您可以在配置中启用它。它仍然是实验性的，但对我来说效果很好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:25:47.777

看看我的这个答案
cezpdf 是替代且易于使用

[Codeigniter 2 中的 cezPDF](https://stackoverflow.com/questions/11224501/cezpdf-in-codeigniter-2)

这里还有一个简单的使用教程

[http://www.christophermonnat.com/2008/08/generating-pdf-files-using-codeigniter/](http://www.christophermonnat.com/2008/08/generating-pdf-files-using-codeigniter/)

# php - 有一个与两个实体相关联的表格。我需要使一个实体可选 - symfony 2？

> ID：12242839
> 
> 赞同：0
> 
> 时间：2012-09-03T06:12:15.997
> 
> 标签：php, symfony, doctrine-orm

我有如下的员工登记表，

```
namespace Hrm\EmployeeBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;
use Hrm\UserBundle\Form\User\UserForm;

class EmpForm extends AbstractType
{
public function buildForm(FormBuilder $builder, array $options)
{   
    $builder->add('id','hidden');
    $builder->add('firs_name', 'text');
    $builder->add('middle_name', 'text');
    $builder->add('last_name', 'text');     
    $builder->add('user', new UserForm(), array('required' => false));
}

public function getName()
{
    return 'EmpForm';
}

} 
```

我还有一个如下的用户登录表单，

```
namespace Hrm\UserBundle\Form\User;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class UserForm extends AbstractType
{
  public function buildForm(FormBuilder $builder, array $options)
  {   
    $builder->add("id","hidden",array("required"=>false));
    $builder->add("userName","text",array("label"=>"Username"));
    $builder->add("password","password",array("label"=>"Password"));
    $builder->add("confirmPassword","password",array("property_path" => 
                   false,"label"=>"Confirm Password"));
    $builder->add("email","email",array("label"=>"Email"));
  }

  public function getName()
  {
    return 'user';
  }
} 
```

员工 YML 文件如下所示，

```
Hrm\EmployeeBundle\Entity\Employee:
type: entity
table: employee
fields:
  id:
    type: integer
    id: true
    generator:
      strategy: AUTO
  firs_name:
    type: string
    length: '255'
    default: null
  middle_name:
    type: string
    length: '255'
    default: null
  last_name:
    type: string
    length: '255'
    default: null  
  oneToOne:
    User:
      targetEntity: Hrm\UserBundle\Entity\User
      cascade: ["remove", "persist"]
      joinColumn:
        name: login_id        
        referencedColumnName: id        
        nullable: true                   
 lifecycleCallbacks: {  } 
```

员工控制器是这样的，

```
public function addEmployeeAction(Request $request) {

    $employee = new Employee();

    $user = new User();
    $employee->setUser($user);

    $form = $this->createForm(new EmpForm(), $employee);

    if ($request->getMethod() == 'POST') {

        $form->bindRequest($request);

        if ($form->isValid()) {

            $em = $this->getDoctrine()->getEntityManager();
            $em->persist($employee);
            $em->flush();

            return $this->redirect($this->generateUrl('HrmEmployeeBundle_homepage'));
        }
    }

    return $this->render('HrmEmployeeBundle:Pages:add.html.twig', array(
                'form' => $form->createView(), 'status' => 'addEmployee',
            ));
} 
```

所以我需要做的是以下选项应该可用，

1.  填写员工注册详细信息并创建登录名（这已经完成）
2.  仅填写员工注册详细信息，无需为此创建登录信息。

所以第二个选项对我不起作用，它说 Column 'username' cannot be null 我怎样才能摆脱这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T19:28:21.500

要回答您的第二个问题，在您的 addEmployeeAction 中，不要在新员工上添加用户，删除这些行：

```
$user = new User();
$employee->setUser($user); 
```

目前，$employee 是用一个没有用户名的空用户保存的，所以 MySQL 很不高兴！通过删除这些行，只有在填写表单时才会创建用户！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T16:01:39.670

如果要设置 SQL 字段选项，请添加可为空选项 true：

```
oneToOne:
    User:
      targetEntity: Sys\UserBundle\Entity\User
      cascade: ["persist"]
      joinColumn:
        name: login_id
        referencedColumnName: id
        nullable: true 
```

但是在您的情况下，您似乎注册了一个没有用户名的用户，这不合逻辑......也许用户名字段无法正常工作，请提供更多详细信息。

# c# - 如何在 .NET 中编辑 .sol 文件？

> ID：12242841
> 
> 赞同：0
> 
> 时间：2012-09-03T06:12:28.160
> 
> 标签：c#, .net, flash

我想学习 .sol 文件的格式，以便我可以添加一个条目

> "C:\Users{USER}\AppData\Roaming\Macromedia\Flash Player\macromedia.com\support\flashplayer\sys"

或者有没有办法

1.  打开和查看 SOL 文件
2.  编辑 SOL 文件的内容
3.  创建新的 SOL 文件。

在.NET 中？

要求是在 Flash player 设置中添加一个网站*添加相机和麦克风设置*。

# javascript - 没有 Internet 连接时的 Google Maps Java Script API 句柄

> ID：12242846
> 
> 赞同：0
> 
> 时间：2012-09-03T06:13:19.290
> 
> 标签：javascript, google-maps, connection

我已经使用他们的 Javascript API 在我的应用程序中集成了谷歌地图。

当没有可用的互联网连接时，我需要弹出信息对话框并显示静态地图图像，但谷歌地图已经在浏览器上启动。

当我在获取图像图块并且没有可用的互联网连接时进行缩放或平移时，google javascript Map API 是否提供句柄/响应？

# html - 将帖子摘录称为语义是否正确 ?

> ID：12242848
> 
> 赞同：3
> 
> 时间：2012-09-03T06:13:46.440
> 
> 标签：html, semantic-markup

我有一个博客摘录列表，可以调用每个 an`article`还是应该使用 list 和 div 来代替？

```
<article class="post-excerpt body-font">
    <header>
        <h2 class="entry-title"><a href="post.html">At Day's End</a></h2>
        <p><time datetime="2010-03-04T16:31:24+02:00">March 2010</time> &sdot; This post is about <a href="#">Poetry</a>, <a href="#">Creativity</a> and <a href="#">Myself</a></p>
    </header>

    <div class="content">
        <p>And at day's end,<br />
        Laying on my back.</p>
    </div>

    <footer>
        <p><a href="post.html">Read more &rArr;</a></p>
    </footer>
</article> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-03T06:22:35.617

是的，我认为[`article`（w3 规范）](http://www.w3.org/TR/html5/the-article-element.html#the-article-element)在这种情况下是合适的。

> article 元素表示文档、页面、应用程序或站点中的自包含组合，即原则上可独立分发或可重复使用，例如在联合中。这可以是论坛帖子、杂志或报纸文章、博客条目、用户提交的评论、交互式小部件或小工具，或任何其他独立的内容项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-16T18:53:49.380

大多数时候，博客摘录并不像您展示的那样清晰（您发布了完美的场景），因此我不会将文章用作任何博客摘录的规则。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T08:24:30.333

呼应 steveax 所说的，这是`article`应该在哪里使用的理想示例，可能是最清晰的示例之一！

# linux - linux上的快速xls转换

> ID：12242854
> 
> 赞同：0
> 
> 时间：2012-09-03T06:15:08.873
> 
> 标签：linux, type-conversion, xls

我需要从 xls 文件中提取文本以进行索引。这只是索引要求，因此格式、宏表等无关紧要，

使用 xlhtml 非常繁重，并且严重降低了索引能力。

这种转换的最佳方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T13:22:48.910

我使用 tika [http://tika.apache.org/](http://tika.apache.org/) 作为守护进程。现在效果好多了

# java - Manning Spring , Hibernate 封面图片

> ID：12242855
> 
> 赞同：0
> 
> 时间：2012-09-03T06:15:20.217
> 
> 标签：java, spring, hibernate, jakarta-ee

不确定这是否是正确的论坛，因为这不是一个技术问题，但我对著名的 Manning in Spring 和 Hibernate 书籍的封面图片非常感兴趣。那个图像意味着什么？我无法将该图像与 Java 技术联系起来。任何人的任何意见，为什么出版商使用一个穿着一些衣服和棍子的男人的形象（道歉，因为我不知道那是什么样的衣服）。

那个人属于哪种文化，作者是否与该文化有任何关系？好奇心正在杀死这只鸟。帮我 ！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:28:05.007

春季行动#1

> *春天在行动*的封面人物是“**大将军的官员**”。插图取自伦敦老邦德街的威廉米勒于 1802 年 1 月 1 日出版的奥斯曼帝国服饰集。

对于 Spring in Action #2 和 #3

> *《春天在行动》*第三版封面上的人物是“<strong>Le Caraco”，即约旦西南部卡拉克省的居民。它的首府是阿尔卡拉克市，该市拥有一座古老的山顶城堡，享有死海和周围平原的壮丽景色。插图取自 JG St. Sauveur 于 1796 年出版的法国旅游书籍 *Encyclopédie des Voyages*。当时，休闲旅游是一个相对较新的现象，这样的旅游指南很受欢迎，同时也介绍了游客作为法国其他地区和国外居民的扶手椅旅行者。

这本书还说，为什么这些图像的原因很简单：

> Manning 以两个世纪前丰富多样的地区生活为基础，通过本旅行指南中的图片重现生机，庆祝计算机业务的创造性、主动性和乐趣。

在我所有的 Maning 书籍中都这么说，例如在 AspectJ in Action 中，封面来自：

> AspectJ in Action 封面上的人物是“Ysleno Moluco”，他是印度尼西亚西南部省份摩鹿加群岛（也称为香料群岛）的居民。插图取自 1799 年在马德里首次出版的西班牙地区服装习俗纲要。

并给出与上述相同的解释。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:29:27.417

解释在各自的书中给出。检查书籍。

例如**Spring in Action**，我照原样粘贴在书中：Spring in Action，第三版封面上的人物是“Le Caraco”，即约旦西南部卡拉克省的居民。它的首府是卡拉克市，这里有一座古老的山顶城堡，可以欣赏到死海和周围平原的壮丽景色。插图取自 JG St. Sauveur 于 1796 年出版的法国旅游书籍 Encyclopédie des Voyages。以及法国其他地区和国外居民的扶手椅旅行者。Encyclopédie des Voyages 中图画的多样性生动地说明了 200 年前世界城镇和省份的独特性和个性。在那个时代，相隔几十英里的两个地区的着装规范将人们唯一地识别为属于一个或另一个。旅游指南给生活带来了那个时期以及除了我们自己的过度运动之外的所有其他历史时期的孤立感和距离感。从那时起，着装规范发生了变化，当时如此丰富的地区多样性已经消失。现在通常很难区分一个大陆的居民和另一个大陆的居民。也许，为了乐观地看待它，我们已经用文化和视觉的多样性换取了更多样化的个人生活。或者更多样化和有趣的知识和技术生活。我们在曼宁庆祝创造性、主动性、

# vsto - DowngradeDocument() 函数没有正确降级？

> ID：12242857
> 
> 赞同：1
> 
> 时间：2012-09-03T06:15:43.197
> 
> 标签：vsto, office-interop

我正在尝试使用 VSTO 降级文档。

我有一个网络服务，它接收一个字节数组。该字节来自当前活动文档。

Web 服务只能处理 2007/2003 的 word doc 文件。

所以我想使用

document.DowngradeDocument();

但是webservice在发送字节数组的时候报错。如果做一个 SaveAs 并强制 word 保存为 2007/2003 doc 格式，那么没有问题。

所以我的问题是：

1) 为什么 DowngradeDocument() 函数不起作用。为什么它没有进行适当的降级。2) 当我调用 DowngradeDocument() 时是否需要做其他事情

这必须在内存中，因为正在处理的文件没有保存在磁盘上。

//丹尼斯

感谢您抽出时间来阅读

--- 编辑 d. 20120904 ---

我不能使用 web 服务错误，因为它对错误没有意义。它说它可以找到该文件，这是内部和另一端应用程序的错误。

因此，我尝试以正确的格式保存文档，并且已降级。使用相同的代码。一项工作，另一项没有。

但这是我将文件保存为临时文件的方式。在我调用这个函数之前，我已经完成了一个 document.DowngradeDocument();

所以我需要，当它保存时也改变格式，同时调用降级函数。在此函数的文档中，很明显，如果调用该函数，所有以前版本的 office 都可以读取它。

```
/// <summary>
/// Make a copy of ActiveDocument in current user temp folder, and get a byte[].
/// </summary>
/// <param name="filename"></param>
/// <param name="document"></param>
/// <param name="file"></param>
/// <returns></returns>
private byte[] MakeCopy(string filename, Document document, out FileInfo file)
{
  // http://blogs.msdn.com/b/pranavwagh/archive/2008/04/03/how-to-do-a-save-copy-as-in-word.aspx
  // http://stackoverflow.com/questions/12175273/serialize-current-activedocument-from-office-2007-add-in

  Microsoft.Office.Interop.Word.Application wdApp = new Microsoft.Office.Interop.Word.Application();
  wdApp.Visible = false;
  {
    // make a fil i Current user temp folder
    // http://stackoverflow.com/questions/944483/how-to-get-temporary-folder-for-current-user
    string tempPath = System.IO.Path.GetTempPath();

    string fileName = Path.Combine(tempPath, GenerateValidFileName(filename)) + ".doc";

    IPersistFile compoundDocument = document as IPersistFile;
    compoundDocument.Save(fileName, false);

    byte[] content = File.ReadAllBytes(fileName);

    file = new FileInfo(fileName);
    wdApp.Quit();

    return content; 
  }
} 
```

# mysql - 将列更新为 NULL 会返回空列

> ID：12242859
> 
> 赞同：1
> 
> 时间：2012-09-03T06:15:51.763
> 
> 标签：mysql, sql

当我运行这个查询

```
UPDATE tblPlayer 
SET Salary = NULL, 
    Status = "1" 
WHERE PlayerId=123 
```

而不是将薪水`NULL`更新为它，而是将其更新为空值

我如何获得`NULL`而不是空值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:22:41.510

你的代码对我来说很好用

```
UPDATE tblPlayer 
SET    Salary = NULL, 
       Status = '1' 
WHERE  PlayerId = 123 
```

我打赌你`SALARY`有默认值`''`

要更改列，请尝试此 DDL

```
ALTER TABLE tblPlayer MODIFY Salary VARCHAR(15) NULL DEFAULT NULL; 
```

# java - AutoCompleteTextView 通过 XMLParsing onTextChange

> ID：12242863
> 
> 赞同：0
> 
> 时间：2012-09-03T06:15:57.177
> 
> 标签：java, xml-parsing, sax, autocompletetextview

我有这个问题。我需要调用我的 SAX 解析器（每次用户尝试输入学生的姓名）以获取姓名。我现在正在做的是向我的 HttpHandler 发送一个令牌字符串，它每次返回 10 条记录，因为学生总数约为 40K，所以我不能一次全部解析它们。我在 AutoCompletetextview 的 onTextChanged 事件中调用我的 AsyncTask for ParsingXML。但我仍然无法将适配器设置为自动完成。

```
 public ArrayList<AutoCompleteUserDataGetterSetter> parsexml(String token)
    {
         try {

                SAXParserFactory saxPF = SAXParserFactory.newInstance();

                SAXParser saxP = saxPF.newSAXParser();
                XMLReader xmlR = saxP.getXMLReader();

                URL url = new URL(xyz.com/xyz.ashx?token=+"token"); // URL of the XML

                AutoCompleteUserDataXMLHandler myXMLHandler = new AutoCompleteUserDataXMLHandler();
                xmlR.setContentHandler(myXMLHandler);
                xmlR.parse(new InputSource(url.openStream()));

            } catch (Exception e) {
                System.out.println(e);
            }

            return data=AutoCompleteUserDataXMLHandler.getArrayData();

    } 
```

这是我的 AutoCompleteTextViewAdapter 代码

```
ArrayList<AutoCompleteUserDataGetterSetter> data=new ArrayList<AutoCompleteUserDataGetterSetter>();

public UserNewMessageAutoCompleteAdapater(Context context,
        int textViewResourceId,
        ArrayList<AutoCompleteUserDataGetterSetter>data) {
    super(context, textViewResourceId, data);
    // TODO Auto-generated constructor stub

       this.context = context;
        this.data=data;

        vi = (LayoutInflater) context
               .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v = convertView;

    final AutoCompleteUserDataGetterSetter i = this.data.get(position);
    if (i != null) {
        Log.d("adapter", "in here");
        AutoCompleteUserDataGetterSetter si = (AutoCompleteUserDataGetterSetter) i;
        v = vi.inflate(R.layout.autocompletetext_layout, null);
        final TextView title = (TextView) v
                .findViewById(R.id.autocomplete_name);
        TextView userid = (TextView) v
        .findViewById(R.id.autocompleteuserid);
        if (title != null)
            title.setText(si.GetFullName());
        userid.setText(si.GetUserId());
    }

    return v;
}

@Override
public int getCount() {
    // TODO Auto-generated method stub
    return data.size();
}

@Override
public AutoCompleteUserDataGetterSetter getItem(int arg0) {
    // TODO Auto-generated method stub
    return data.get(arg0);
}

@Override
public long getItemId(int arg0) {
    // TODO Auto-generated method stub
    return 0;
} 
```

这是我的 AsyncTask 类

```
class SomeTask extends AsyncTask<Void, Void, Void> {

    private final ProgressDialog dialog = new ProgressDialog(UserMessagesComposeNewActivity.this);

    @Override
    protected void onPreExecute() {

    }

    @Override
    protected Void doInBackground(Void... voids) {

        UserMessagesComposeNewActivity.this.data=parsexml(users.getText().toString());

     for(int i=0;i<data.size();i++)
     {
        nameadapter.add(data.get(i).GetFullName());
     useridadapter.add(data.get(i).GetUserId());
     }

if(data==null)
{
   AutoCompleteUserDataGetterSetter umsgs=new AutoCompleteUserDataGetterSetter();
   umsgs.SetFullName(" ");
   umsgs.SetUserID("");
  data.add(umsgs);

}

return null;
    }
    @Override
    protected void onPostExecute(Void aVoid) {
         if (this.dialog.isShowing()) {

             this.dialog.dismiss();

          }
                users.setAdapter(nameadapter);

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:58:40.923

终于经过一番整理，终于把问题解决了！

我放弃了自定义适配器方法并使用了 ArrayAdapter 方法。所以这是我通过选择他们的名字向用户发送消息的完整代码。

```
public class UserMessagesComposeNewActivity extends Activity implements TextWatcher{

    ArrayList<AutoCompleteUserDataGetterSetter> data=new    
    ArrayList<AutoCompleteUserDataGetterSetter>(); 
    Long login;
    Boolean shouldAutoComplete;
    UserNewMessageAutoCompleteAdapater cdapater;
    String TO,FROM;
    Button btn;
    AutoCompleteTextView users;
    EditText edTextSubject,edTextMessage;
    AutoCompleteWidget myAutoComplete;
    List<String> nameadapter=new ArrayList<String>();
    ArrayAdapter<String> dataAdapter ;
    UserNewMessageAutoCompleteAdapater atAdapter;
    String ResultEmail;
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        Intent intent=getIntent();
        setContentView(R.layout.user_messages_compose_new);
        login=intent.getLongExtra("EmployeedId", 0);

        btn=(Button)findViewById(R.id.userNewmessageSendButton);
        edTextSubject=(EditText)findViewById(R.id.userNewmessageSubject);
        edTextMessage=(EditText)findViewById(R.id.userNewmessageMessage);
        users=(AutoCompleteTextView)findViewById(R.id.userNewmessageAutoCT);
        users.addTextChangedListener(this);
        users.setThreshold(4);

            //Here we get the selected value from autocompletetextview dropdown
            users.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
            // TODO Auto-generated method stub

            for(int i=0;i<data.size();i++)
            {
                if(data.get(i).GetFullName().equals(users.getText().toString()))
                {
                    TO=data.get(i).GetUserId();
                }
                else
                {
                    TO="0";
                }
            }

        }
    });

       //here we call the Send Email method.
       btn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub

                new DomParserEmail().execute();

            }
        });

    }

        public void afterTextChanged(Editable s) {

        }

    public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
            int arg3) {
        // TODO Auto-generated method stub

    }

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) {

        if(s.length()>=4)
        {
         new SomeTask().execute();

        }

    }

    class SomeTask extends AsyncTask<Void, Void, Void> {

        private final ProgressDialog dialog = new ProgressDialog(UserMessagesComposeNewActivity.this);

        @Override
        protected void onPreExecute() {

        }

        @Override
        protected Void doInBackground(Void... voids) {

            //Here we are parsing the xml
            UserMessagesComposeNewActivity.this.data=parsexml(users.getText().toString());

    if(data==null)
    {
       AutoCompleteUserDataGetterSetter umsgs=new AutoCompleteUserDataGetterSetter();
       umsgs.SetFullName(" ");
       umsgs.SetUserID("");
      data.add(umsgs);

    }

    return null;
        }
        @Override
        protected void onPostExecute(Void aVoid) {
             if (this.dialog.isShowing()) {

                 this.dialog.dismiss();

             }

            UserMessagesComposeNewActivity.this.nameadapter.clear();
             for(int i=0;i<data.size();i++)
             {

      UserMessagesComposeNewActivity.this.nameadapter.add(UserMessagesComposeNewActivity.this.data.get(i).GetFullName());

             }

             dataAdapter = new ArrayAdapter<String>(getApplicationContext(),
             android.R.layout.simple_dropdown_item_1line, nameadapter);
             dataAdapter.notifyDataSetChanged();
             users.setAdapter(dataAdapter);
             users.showDropDown();

        }
    }

     public ArrayList<AutoCompleteUserDataGetterSetter> parsexml(String token)
        {
             try {

                    SAXParserFactory saxPF = SAXParserFactory.newInstance();

                    SAXParser saxP = saxPF.newSAXParser();
                    XMLReader xmlR = saxP.getXMLReader();

                    URL url = new URL("blah blah"); // URL of the XML

                    /** 
                     * Create the Handler to handle each of the XML tags. 
                     **/
                    AutoCompleteUserDataXMLHandler myXMLHandler = new AutoCompleteUserDataXMLHandler();
                    xmlR.setContentHandler(myXMLHandler);
                    xmlR.parse(new InputSource(url.openStream()));

                } catch (Exception e) {
                    System.out.println(e);
                }

                return data=AutoCompleteUserDataXMLHandler.getArrayData();

        }

     class DomParserEmail extends AsyncTask<Void, Void, Void> {

            private final ProgressDialog dialog = new ProgressDialog(UserMessagesComposeNewActivity.this);
            @Override
            protected void onPreExecute() {
                  this.dialog.setMessage("Sending your message");
                  this.dialog.setTitle("Please Wait");
                  this.dialog.show();
            }

            @Override
            protected Void doInBackground(Void... voids) {
              // download and parse

                UserMessagesComposeNewActivity.this.ResultEmail=EmailSuccessMessage(UserMessagesComposeNewActivity.this.edTextSubject.getText().toString(),UserMessagesComposeNewActivity.this.edTextMessage.getText().toString(),UserMessagesComposeNewActivity.this.TO,UserMessagesComposeNewActivity.this.login.toString());

                return null;
            }
            @Override
            protected void onPostExecute(Void aVoid) {
                 if (this.dialog.isShowing()) {
                     this.dialog.dismiss();
                    Toast toast=Toast.makeText(getApplicationContext(),UserMessagesComposeNewActivity.this.ResultEmail,Toast.LENGTH_LONG );
                    toast.show();
         }
        }
        }

        public String EmailSuccessMessage(String subject,String content,String To, String From) throws FactoryConfigurationError
        {

             try {

                SAXParserFactory saxPF = SAXParserFactory.newInstance();

                SAXParser saxP = saxPF.newSAXParser();
                XMLReader xmlR = saxP.getXMLReader();

                URL url = new URL("abc.com/abc.asahx?blah blah");

                /** 
                 * Create the Handler to handle each of the XML tags. 
                 **/
                UserReplyMessageXMLParsing myXMLHandler = new UserReplyMessageXMLParsing();
                xmlR.setContentHandler(myXMLHandler);
                xmlR.parse(new InputSource(url.openStream()));

            } 
             catch (Exception e)
             {
                System.out.println(e);
                UserMessagesComposeNewActivity.this.ResultEmail="Email Not Sent";
            }

            UserReplyMessageXMLParsing usmx=new UserReplyMessageXMLParsing();
            UserMessagesComposeNewActivity.this.ResultEmail=usmx.GetEmailStatus();

            return UserMessagesComposeNewActivity.this.ResultEmail;

        }
} 
```

# java - 如何为开发人员安装免费的 IBM WebSphere Application Server

> ID：12242864
> 
> 赞同：2
> 
> 时间：2012-09-03T06:16:14.727
> 
> 标签：java, websphere, websphere-liberty

我已经下载并解压缩到一个目录中以获取 disc1 到 disc3 文件夹，但是没有要启动的 exe，并且自述文件中没有说明，那么您如何安装？

IBM WebSphere Application Server for Developers，包括 Liberty Profile v8.5（第 1 部分，共 3 部分） was.repo.8500.developers.ilan_part1.zip (988M)

现在下载

IBM WebSphere Application Server for Developers，包括 Liberty Profile v8.5（第 2 部分，共 3 部分） was.repo.8500.developers.ilan_part2.zip (1G)

现在下载

IBM WebSphere Application Server for Developers，包括 Liberty Profile v8.5（第 3 部分，共 3 部分） was.repo.8500.developers.ilan_part3.zip (910M)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:27:59.720

您需要 IBM Installation Manager 来安装它。您下载的磁盘只是 IIM 可以读取和处理的软件存储库。

例如，可以在[此处](http://www-01.ibm.com/support/docview.wss?uid=swg24032358)找到 1.5 版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-25T18:02:15.133

如果您不想下载包含 Installation Manager 存储库的压缩档案，那么安装 WebSphere Application Server for Developers 的过程要简单得多。

安装 IBM Installation Manager 后，您只需提供 IBM 托管的 WebSphere Application Server for Developers 存储库所在的存储库位置。例如，要安装 WAS for Developers 版本 8.0 或版本 8.5，您只需将以下存储库位置之一添加到存储库首选项。

*   V8.0：[http ://www.ibm.com/software/repositorymanager/V8WASDeveloperILAN](http://www.ibm.com/software/repositorymanager/V8WASDeveloperILAN)
*   V8.5：[http ://www.ibm.com/software/repositorymanager/V85WASDeveloperILAN](http://www.ibm.com/software/repositorymanager/V85WASDeveloperILAN)

WASDev.net上提供了有关[使用 IBM 托管存储库安装 WAS for Developers](https://developer.ibm.com/wasdev/downloads/#asset/WAS_traditional_for_Developers)的信息。

或者，您可以使用 IBM Package Utility（Installation Manager 的配套工具）在本地机器上重建 IBM 托管的存储库。使用 PU 的优势在于，您将能够创建一个本地存储库，其中还包括您自己选择的修订包级别，而不必从 IBM Fix Central 获取修订包，然后再更新安装。

WebSphere Knowledge Center 中提供了有关[使用 Packaging Utility 创建本地存储库的](http://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.installation.nd.doc/ae/tins_creating_cust_reps.html)信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-21T07:29:27.647

您必须下载 IBM Installation Manager 并安装它。然后通过单击运行 Installation Manager `Restart Installation Manager`。毕竟按`Install`并在新页面中按“存储库”。在`Repositories`找到您提取 IBM WebSphere Application Server 的目录中，然后选择`repository.conf`并坚持使用默认值以继续安装。

下载或运行 Eclipse，`Help > Eclipse Marketplace`然后搜索`IBM WebSphere`并按安装以将 IBM WebSphere 添加到您的 Eclipse 环境中。

要安装新版本，您可以按照以下链接获取完整指南。 [https://developer.ibm.com/wasdev/downloads/#asset/WAS_traditional_for_Developers](https://developer.ibm.com/wasdev/downloads/#asset/WAS_traditional_for_Developers)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-25T08:52:27.163

一个解决方案是安装官方的 docker 镜像：

[https://hub.docker.com/r/ibmcom/websphere-traditional/](https://hub.docker.com/r/ibmcom/websphere-traditional/)

有从 8.5.5.9 到最新的所有版本，BASE 和 ILAN 许可证。

# php - 使用 php 发送电子邮件时出错

> ID：12242867
> 
> 赞同：-3
> 
> 时间：2012-09-03T06:16:45.507
> 
> 标签：php, email

我正在使用 php 脚本发送电子邮件，并且我从地址设置为

```
$headers = "MIME-Version: 1.0" . "$from" . "\r\n";
$headers.= "Content-type:text/html;charset=iso-8859-1" . "\r\n"; 
```

因此，发往我的邮件地址的邮件为 from `support@mysite.com`，但我需要将 from 地址设置为`support@gmail.com`。但它没有与修改后的 from 地址一起发送。所以，请帮助解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:23:10.217

你试试这个...

```
<?php
  $to      = 'nobody@example.com';
  $subject = 'Mail Subject';
  $message = 'Test';
  $headers = 'From: support@gmail.com' . "\r\n" .
  'Reply-To: support@gmail.com' . "\r\n" .
  'X-Mailer: PHP/' . phpversion();
  mail($to, $subject, $message, $headers); 
```

?>

跳这将工作...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:26:47.847

替换标题文本，

```
$headers = 'MIME-Version: 1.0' . "\r\n" . 'Content-type: text/html; charset=UTF-8' . "\r\n";
$headers .= "X-Mailer: PHP \r\n";
$headers .= "From: YourName <support@gmail.com>"; 
```

[获取有关邮件功能的更多信息](http://php.net/manual/en/function.mail.php)

这可以帮助你。

# linux - linux中的三级页表

> ID：12242868
> 
> 赞同：1
> 
> 时间：2012-09-03T06:17:19.437
> 
> 标签：linux, linux-kernel

我知道linux在内存管理中使用了三级页表。

> 我对页表的内容感到困惑。页表是包含下一级页表基地址还是包含页框号？
> 
> 如果它包含页框号，那么如何获得该特定页表的基地址？它存储在哪里？

如果有人向我澄清这一点，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:48:20.407

如果您谈论的是 x86(/64)，那么每个页表条目（终端条目除外）都包含下一个页表的物理地址，而终端 PTE 包含实际代码/数据页的物理地址。

由于页表本身是按页组织的，因此它们的物理地址自然是页大小的倍数。

将完整的物理地址存储在 PTE 中的 12 个最低有效位始终为零（如果页面大小为 4KB）是没有意义的，因此它们不会存储在 PTE 中（并且使用 PTE 中恢复的空间用于控制标志，例如内核/用户、只读/可写、可执行、存在、脏、已访问等）。像这样被截断的地址通常称为页框号，因为它们只不过是页码（如果您从 0 开始计算地址 0 处的页面的所有页面，从 1 开始计算地址 4096 处的页面等等）。

包含所有血腥细节的问题的最终答案在相关的 CPU 手册中。

# python - struct.pack 输出中的字母是什么意思？

> ID：12242870
> 
> 赞同：1
> 
> 时间：2012-09-03T06:17:25.823
> 
> 标签：python, pack

当我在python的struct模块中将数字更改为十六进制时，

```
>>> import struct
>>> struct.pack("i",89)
'Y\x00\x00\x00'
>>> struct.pack("i",890)
'z\x03\x00\x00'
>>> struct.pack("i",1890)
'b\x07\x00\x00' 
```

输出中的“Y,z,b”是什么意思？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-03T06:20:25.257

您没有转换为十六进制。您将整数打包为二进制数据......在这种情况下，是小端二进制数据。第一个字符只是原始字节对应的 ASCII 字符；例如`89`是`Y`、`122`是`z`、`98`是`b`。

*   第一个`pack`产生`'\x59\x00\x00\x00'`for `0x00000059`; `'\x59'`是`'Y'`。
*   第二个产生`'\x7a\x03\x00\x00'`for `0x0000037a`; `'\x7a'`是`'z'`。
*   第三个产生`'\x62\x07\x00\x00'`; 是。`0x00000762``'\x62'``'b'`

请参阅下面的 ASCII 表。

[![](../Images/a477fb5c973416d8e23b4a73b2971d11.png)](https://i.stack.imgur.com/5SuKs.gif)
[（来源：[asciitable.com](http://www.asciitable.com/index/asciifull.gif)）]

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T06:20:08.127

请注意，您没有转换为十六进制，而是将数据转换为原始字节。然后控制台会将这些字节回显给您，其形式可以再次作为 python 文字字符串输入。

所以python正在打印*文字字节字符串*，其中一些字节可以表示为ASCII字符；0x21-0x7E 范围内的大多数字节都可以这样打印：

```
>>> '\x22'
'"'
>>> '\x50'
'P' 
```

因此，“Y”、“z”和“b”是属于该范围的字节，python 只是将它们打印为 ASCII 而不是`\x`转义：

```
>>> '\x59'
'Y'
>>> '\x62'
'b'
>>> '\x7a'
'z' 
```

其余字节超出可打印的 ASCII 范围，因此 python 将它们表示为`\xFF`文字，恰好使用十六进制表示法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-03T06:52:03.943

让我们逐行进行，
但首先我们必须了解 little-endian 格式和 char 值：
**32 位 little-endian** int 在右侧具有最高有效位，
因此内存中十六进制的值（0x01、0x02、0x03、0x04）真的是 (0x04, 0x03, 0x02, 0x01)
**字符值**'Y' = 0x59 = 89, 'z' = 0x7a = 122, 'b' = 0x62 = 98

'Y\x00\x00\x00' = 0x59, 0x00, 0x00, 0x00 /内存中的数据
'Y\x00\x00\x00' = 0x00000059 = 89 /实整数值

'z\x03\x00\x00' = 0x7a, 0x03, 0x00, 0x00 /内存中的数据
'z\x03\x00\x00' = 0x0000037a = 890 /实整数值

'b\x0b\x07\x00' = 0x62, 0x07, 0x00, 0x00 /内存中的数据
'b\x0b\x07\x00' = 0x00000762 = 1890 /实整数值

# jquery - 如何在jquery中进行验证时更改div的高度

> ID：12242872
> 
> 赞同：0
> 
> 时间：2012-09-03T06:18:06.657
> 
> 标签：jquery, jquery-ui, jquery-validate

如何在jquery中进行验证时更改div的高度

此 div 包含错误消息。每当消息更新时，div 应该更新它的高度

```
 errorPlacement : function(error, element) {

        $('#error_container').show();
        error.appendTo($('#error_container'));
        $('#error_container').append("<br>");
    }, 
```

我试图申请

```
 $("#error_container").attr({ 
          height: "auto"
        }); 
```

但没有找到合适的地方

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:20:01.903

像这样设置

```
$("#error_container").css('height', 'auto'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:22:22.853

试试这样：

```
$("#error_container").attr("style","height:auto"); 
```

或者`.css()`像这样使用；

```
$("#error_container").css('height', 'auto'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:20:48.657

试试这个。我还更改了您
对底部填充的添加，因此您可以轻松删除它。

```
errorPlacement : function(error, element) {
  $('#error_container').show();
  error.appendTo($('#error_container'));
  $('#error_container').css('padding-bottom', '20px');
  $("#error_container").css('height', 'auto');
}, 
```

如果您需要撤消填充，您可以执行以下操作：

```
 $('#error_container').css('padding-bottom', '0'); 
```

# asp.net - 在 asp.net 中创建多语言站点

> ID：12242873
> 
> 赞同：3
> 
> 时间：2012-09-03T06:18:10.517
> 
> 标签：asp.net, multilingual

我正在创建一个本质上是多语言的网站。我提供了一种功能，用户可以通过从下拉菜单中选择所需的语言来选择它。

现在我的问题从这里开始（当从下拉列表中选择一种语言时）。我目前正在实施 2 种语言英语和阿拉伯语。

问题是当用户从登录页面的下拉菜单中选择阿拉伯语时，页面会刷新，并且浏览器会加载阿拉伯语的所有内容。

但...

当我再次选择英语时，页面刷新但语言内容没有改变！

我检查了代码和值（文化名称值）是否正确应用！！

关于什么是错的和在哪里的任何线索......

这是我的代码...

```
protected override void InitializeCulture()
{
    String selectedLanguage = string.Empty;

    if (Request.Form["ddlLanguage"] != null)
    {
        selectedLanguage = Request.Form["ddlLanguage"];

        CultureInfo ci = new CultureInfo(selectedLanguage);

        Thread.CurrentThread.CurrentCulture = ci;
        Thread.CurrentThread.CurrentUICulture = ci;
    }

    base.InitializeCulture();
} 
```

任何帮助都会很棒！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T09:15:45.600

`Culture`必须针对每个请求进行设置。It's not enough to set the `Thread`cultures once when the selection changes.

为了根据用户对每个请求的选择来设置文化，有几种可能的方法。

1.  在（例如）`Page_Init`母版页的事件中设置文化。
2.  为内容页面创建自定义基本页面（可能`MyBasePage`）并覆盖`InitializeCulture`该类的方法。然后让所有内容页面都从类派生，而不是直接从`Page`.
3.  添加代码以在`Global.asax`.
4.  可能还有其他几种可能的方法来处理这个问题。

无论您将使用哪种方法，用户选择的文化必须可用于将在线程上设置文化的代码。因此，当用户更改他/她的选择时，您必须将该选择保存在您可以在接下来的请求中访问它的地方。这也可以通过几种可能的方式来解决。以下是一些选项：

1.  如果您使用的是`ProfileProvider`，则可以将选择保存到用户的个人资料中。
2.  或者，您可以将其存储在 cookie 中。
3.  您可以将其存储在 中，`Session`但这意味着用户必须`Session`在重置时重新选择它。
4.  您可以使用其他一些自定义方式来存储选择（数据库、磁盘上的某些文件等）。

有关如何使用`Global.asax`和 a完成此操作的更详细示例，`cookie`请查看[此处](http://www.codeproject.com/Articles/34100/Master-Page-Globalization)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-27T23:36:54.190

查看这篇文章 -[**如何创建 ASP.NET MVC 多语言 Web 应用程序？**](http://thingswelearned.com/Article/Details/d30ff3de-d65a-4e11-b9ec-cc8003ee5a1a/How-to-create-ASP-NET-MVC-multilingual-web-application-/ASP-NET-MVC-C-VB-NET-MVC5) 我们将主要看到两种方法-

**方法 1**：使用静态页面

**方法 2**：在运行时使用带有本地化数据的动态页面

# android - 如何传递多个值以在android中动态查询？

> ID：12242879
> 
> 赞同：2
> 
> 时间：2012-09-03T06:18:53.540
> 
> 标签：android

在我的项目中，我必须选择多个值并将其传递给查询。即 page1 包含复选框。我将选定的复选框 id 存储到一个数组中。我正在改组该数组并随机获取值。现在我需要将这些随机值传递给查询。在数据库中使用 IN 运算符我可以静态传递值，但是如何将值动态传递给查询。

例如：（静态传递值）

```
SELECT * FROM Persons WHERE person_id IN ('21','22') 
```

在上面的查询中，id 的 21 和 22 是先前已知的，因此我们静态传递，但我想发送值以动态查询。

```
Page1:
public static ArrayList<String> chksublist = new ArrayList<String>();

Page2:
 Collections.shuffle(chksublist );
SELECT * FROM Persons WHERE person_id IN ('21','22')
In the above line I want to send the random values which are in chksublist array. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:34:55.183

`String query = "SELECT * FROM Persons WHERE person_id IN (" + TextUtils.join(",", chksublist) + ")";`

但是在将其发送到 SQL 查询之前对其进行改组对`chksublist`您从 SQL 获得的结果集没有影响。它不会随机排列您的结果。删除`Collections.shuffle(chksublist);`并使用

`String query = "SELECT * FROM Persons WHERE person_id IN (" + TextUtils.join(",", chksublist) + ") ORDER BY RANDOM()";`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:22:46.040

看看值是如何动态传递的

```
 // Getting single contact
 public Contact getContact(int id) {
SQLiteDatabase db = this.getReadableDatabase();

Cursor cursor = db.query(TABLE_CONTACTS, new String[] { KEY_ID,
        KEY_NAME, KEY_PH_NO }, KEY_ID + "=?",
        new String[] { String.valueOf(id) }, null, null, null, null);

 // here   new String[] { String.valueOf(id) } value is added dynamicaly which is passed to the function
if (cursor != null)
    cursor.moveToFirst();

Contact contact = new Contact(Integer.parseInt(cursor.getString(0)),
        cursor.getString(1), cursor.getString(2));
// return contact
return contact;
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T06:29:02.697

您可以像这样生成查询

```
int values[];      //it contains your generated values like 21,22....
String query="SELECT * FROM Persons WHERE person_id IN (";

for(int i=0;i<values.length;i++){
query=query+"'"+values[i]+"'";
if(i<values.length-1){
query=query+",";    //No , after last values
} 

}
query+=")"; 
```

最后通过这个查询。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:30:49.813

尝试一下

```
cursor = database.query(tablename,
                    new String[] {"TopName"}, "id IN(?,?)", new String[]{"2","3"}, null, null, null); 
```

使用原始查询

```
String query = "SELECT * FROM Persons WHERE person_id IN ("+parameter1+","+parameter2+")";
db.rawQuery(query); 
```

# email - 在 Outlook 2010 中设置 example@outlook.com？

> ID：12242881
> 
> 赞同：1
> 
> 时间：2012-09-03T06:19:04.510
> 
> 标签：email, outlook-2010, outlook.com

我正在尝试在 Outlook 2010 中设置新的**example@outlook.com**帐户。

我尝试参考几个链接进行手动服务器设置，例如 [http://www.howto-outlook.com/howto/accountsettings.htm](http://www.howto-outlook.com/howto/accountsettings.htm) http://www.microsoft.com/en-us/download/confirmation.aspx?id =21305

但我无法配置我的电子邮件地址。在发送测试邮件时测试配置时出现错误。

帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T03:26:21.437

经过几次试验，我终于设法做到了。为此，我们没有直接的 imap 设置，如传出服务器 url 、端口等。

此链接我们将指导您在 Outlook 中设置您的 example@outlook.com。通过这个... [http://www.howto-outlook.com/howto/accountsettings.htm](http://www.howto-outlook.com/howto/accountsettings.htm)

干杯:)

# java - Android Listview倒数计时器导致奇怪的结果

> ID：12242895
> 
> 赞同：0
> 
> 时间：2012-09-03T06:20:56.297
> 
> 标签：java, android, listview, countdowntimer

我有一个列表视图，想对每个项目进行倒计时。我的问题是当我滚动倒计时时间跳到不正确的项目（所以它显示另一个项目倒计时时间）并且没有押韵或理由时？这是代码

```
private final Map<String, TextView> mcounterlist= new HashMap<String, TextView>(); 
```

然后在我的适配器上的getview中我做

```
String gmtFormat = "yyyy-MM-dd HH:mm:ss";
TimeZone tz = TimeZone.getDefault();
SimpleDateFormat sdf = new SimpleDateFormat(gmtFormat);
sdf.setTimeZone(tz);
Date dd = null;
try {
    dd = sdf.parse(o.endAt);
} catch (ParseException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
Date now = new Date();
String sss = timeCalculate((dd.getTime() /1000)- (now.getTime() /1000) ); 
ea.setText("Time Left: " + sss);
TextView cdi =  new TextView();
mcounterlist.put(o.id , cdi); 
```

所以此时我只需要运行一个重复的线程来更新。

```
private final Runnable mRunnable = new Runnable() {
    public void run() {

       // TextView textView;
        String gmtFormat = "yyyy-MM-dd HH:mm:ss";
        TimeZone tz = TimeZone.getDefault() ;
        SimpleDateFormat sdf = new SimpleDateFormat(gmtFormat);
        sdf.setTimeZone(tz);
        // if counters are active

        if(mcounterlist.size() > 0)
        {
        for (int i = 0; i < m_orders.size() && i < mcounterlist.size() ;i++) {
            Order o = m_orders.get(i);   
            TextView c = mcounterlist.get(o.id);

                Date dd = null;
                try {
                    dd = sdf.parse(o.endAt);
                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                Date now = new Date();

         long l = (dd.getTime() /1000)- (now.getTime() /1000);
         String sss;
         if (l < 0)
         {
         sss = "ENDED";
         }
         else
         {
             sss = timeCalculate(l);
         }

                if(l < 60 * 60 * 24)
                {
                    c.setBackgroundColor(Color.parseColor("#E3170D"));
                }
                else
                {
                c.setBackgroundColor(Color.parseColor("#00000000"));
                }

             c.setText("Time Left: " + sss);

            }          
        } 

            mHandler.postDelayed(this, 1000);

    }
}; 
```

但是当我滚动浏览我的列表时，文本视图会到处乱跳。我相信我的部分问题与我如何每 30 秒对列表进行一次排序有关，但项目的 ID 不会改变。有什么明显的错误吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T17:54:06.927

所以问题是列表视图中的视图被重用，解决方案是实现以下将 id 更改为我的 hashmap 中的位置并将其放入 GETVIEW

```
 mcounterlist.remove(position);
  mcounterlist.put(position , ea); 
```

您可能不需要删除该位置，但我把它留在了那里，因为我花了一个小时在这上面，它有效，所以我不需要改变任何东西:)

然后在我的重复任务中，我需要排除任何不可见的项目，所以这是我的处理程序代码

```
int fp  = lv.getFirstVisiblePosition() -1 < 0 ? 0 :lv.getFirstVisiblePosition() -1;
            int lp = lv.getLastVisiblePosition();
        for (int i = fp; i < mcounterlist.size() && i < lp;i++) {
            //Log.i("TEST231231",String.valueOf(i));

            if (i  <  lv.getFirstVisiblePosition() -1 )
            {
                continue;
            }

            if (i >= lv.getLastVisiblePosition())
            {
            continue;
            }
            //my adapter list
             Order o = m_orders.get(i);   
            //since I set the position as the refereance, I can use that for the hashmap
            TextView c = mcounterlist.get(i); 
```

...

因此，本质上，由于相同的文本视图被回收，我无法更新所有这些，因为不在列表中的项目正在共享活动文本框。为了消除这个问题，我检查并只编辑可见项目的文本框。

# perl - 如何在perl脚本中忽略shell命令的退出状态

> ID：12242897
> 
> 赞同：1
> 
> 时间：2012-09-03T06:21:08.533
> 
> 标签：perl, exit-code, filehandler, exitstatus

我有以下代码，其中我使用了一个命令，该命令用作文件打开的输入。

当我的命令 $cmd 给出非零退出状态时，我的脚本退出。我希望它仍然继续并完成脚本中的其余事情

```
$cmd = 'ps -u psharma';
open( my $fh, "-|",$cmd ) || die( "$cmd failed: $!" );
my @lines = <$fh>;
close($fh) || die $! ? "Close for $cmd failed: $!" : "Exit status $? from command $cmd"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:45:32.003

[尝试使用Carp](http://perldoc.perl.org/Carp.html)警告您它没有成功退出，而不是使用 die 。它仍将继续执行脚本。

```
carp ("Did not exit command successfully!\n") if (! close ($fh) ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T08:30:56.463

```
close($fh) || die $! ? "Close for $cmd failed: $!" : "Exit status $? from command $cmd"; 
```

此代码已检查 $!/$? （errno/$cmd 退出状态）。所以你可以`die`更深入地了解：

```
close($fh) || $! 
    ? die "Close for $cmd failed: $!" 
    : warn "Exit status $? from command $cmd"; 
```

但是，我认为`if`这里的显式可能更具可读性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:34:55.317

如果这是整个脚本，那么如果 cmd 的执行返回非零，它将在最后一行终止。如果您想在此代码之外继续执行，那么您不应该在最后一行删除 die 吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:44:11.343

[您可以将所有内容包装在一个`eval`块中并检查“魔术变量”`$@`](http://perldoc.perl.org/functions/eval.html)，如下所示：

```
use strict; #always
use warnings; #always

my $cmd = 'ps -u psharma';

my $fh; #defining outside the scope of the eval block
my @lines; #ditto

eval {
    open $fh, "-|", $cmd 
        or die "$cmd failed: $!";

    @lines = <$fh>;
    close $fh
        or die $!
               ? "Close for $cmd failed: $!"
               : "Exit status $? from command $cmd";
}

if($@) {

    warn "Something bad happened: $@\n";
}
#If you made it here with no warning, then everything's okay. 
```

您还可以签出[`Try::Tiny`](https://metacpan.org/module/Try%3a%3aTiny)，它允许基本`try/catch/finally`块。

# python - 过滤 Python、Google App Engine 中的所有列

> ID：12242900
> 
> 赞同：1
> 
> 时间：2012-09-03T06:21:33.900
> 
> 标签：python, google-app-engine

我做了一个小的`db.Model`，我想搜索`db.Model`一些单词的所有列。

我自己尝试过这样做，但它不起作用：

```
Uni.filter("* =", word)

db.GqlQuery("SELECT * FROM Uni WHERE *=:1", word) 
```

我是 Python 和模型的新手。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:25:17.350

你不能那样做。

您可以尝试使用新[的全文搜索 API](https://developers.google.com/appengine/docs/python/search/)。

# java - 是否可以在一个端口上运行两个 NIO 服务器套接字？

> ID：12242902
> 
> 赞同：0
> 
> 时间：2012-09-03T06:21:49.423
> 
> 标签：java, sockets, nio

是否可以在一个端口上运行两个 NIO Server 套接字？我将 Apache MINA 用于服务器套接字。我在端口 8090 上运行一台服务器，同时是否可以在同一端口上运行另一台服务器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:50:14.870

如果它们都使用 TCP，则不会，除非它们都绑定到不同的接口。究竟有什么意义？他们都会坐在那里接受连接。一个和一千个一样好。

# java - 了解 Java 中的内存泄漏。在 Java 应用程序的整个生命周期中持续存在的类有哪些？

> ID：12242904
> 
> 赞同：0
> 
> 时间：2012-09-03T06:22:12.400
> 
> 标签：java, memory-leaks

来自[这篇关于处理 Java 内存泄漏的 IBM 文章](http://www.ibm.com/developerworks/library/j-leaks/)：

> 垃圾收集器从根节点（在 Java 应用程序的整个生命周期中持续存在的类）开始，并扫描所有引用的节点。当它遍历节点时，它会跟踪哪些对象正在被主动引用。任何不再被引用的类都有资格被垃圾收集。这些对象使用的内存资源可以在对象被删除时返回给Java虚拟机（JVM）。

在 Java 应用程序的整个生命周期中持续存在的类是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:28:00.560

您所问的也称为垃圾收集根。来自[Yourkit 的 GC 根文档](http://www.yourkit.com/docs/11/help/gc_roots.jsp)：

> 有几种 GC 根。一个对象可以属于一种以上的根。根类是：
> 
> Class - 由系统类加载器加载的类。这样的类永远无法卸载。它们可以通过静态字段保存对象。请注意，自定义类加载器加载的类不是根，除非 java.lang.Class 的相应实例恰好是其他类型的根。
> 
> 线程 - 实时线程
> 
> Stack Local - Java 方法的局部变量或参数
> 
> JNI Local - JNI 方法的局部变量或参数
> 
> JNI Global - 全局 JNI 参考
> 
> Monitor Used - 用作同步监视器的对象
> 
> 由 JVM 持有 - JVM 出于其目的从垃圾收集中持有的对象。实际上，此类对象的列表取决于 JVM 实现。可能的已知情况有：系统类加载器、JVM 知道的一些重要的异常类、一些用于异常处理的预分配对象以及在加载类的过程中的自定义类加载器。不幸的是，JVM 完全没有为这些对象提供额外的细节。因此，由分析人员决定某个“由 JVM 持有”属于哪种情况。

您也可以从[垃圾收集的真相](http://java.sun.com/docs/books/performance/1st_edition/html/JPAppGC.fm.html)（过时）中阅读它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T06:33:06.260

您的问题没有“普遍”的答案。每个程序将只保留“活动”类（假设程序在足够的内存压力下运行足够长的时间以强制非活动类退出）

当您的 java 程序启动时，java 将加载包含 public static void main(String []) 方法的类...它实例化的任何类和对象或引用将在您遵循执行链时按需加载。

如果主类分叉任何将创建并行实时执行路径的线程。

每个执行路径都有一个关联的调用堆栈。

每个调用堆栈引用的每个类和对象都代表了 java 中初始 live set 的起点。跟踪该活动集中的每个引用，您将找到所有活动对象。JVM 规范保证所有活动的对象和类都将被保留。（这并不意味着其他人不会被惰性 JVM 保留，但他们无法访问，所以谁在乎）

# c++ - GET_X_LPARAM 给出负值

> ID：12242907
> 
> 赞同：4
> 
> 时间：2012-09-03T06:22:37.347
> 
> 标签：c++, windows, winapi, hook

我为鼠标创建了一个钩子。我想获得鼠标点击坐标，但是 GET_X_LPARAM() 给了我负值（并且在点击不同的地方时总是相同的）。GetCursorPos() 解决了我的问题，但我想知道为什么它不适用于 GET_X_LPARAM/GET_Y_LPARAM。这是代码：

```
LRESULT CALLBACK Recorder::mouseHook( int code, WPARAM wParam, LPARAM lParam ) {
 if( code < 0 )
     return CallNextHookEx( m_mouseHook, code, wParam, lParam );   

 switch( wParam ) {
    case WM_LBUTTONDOWN:{
        int _hereIsANegativeNumber = GET_X_LPARAM( lParam );
        break;}
 }

 return CallNextHookEx( 0, code, wParam, lParam );
} 
```

这就是我设置钩子的方式：

```
m_mouseHook = SetWindowsHookEx( WH_MOUSE_LL, &mouseHook, GetModuleHandle( NULL ), 0 ); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-03T06:35:28.983

在`WH_MOUSE_LL`钩子中，`lParam`不是鼠标坐标，而是指向`MSLLHOOKSTRUCT`.

因此，要获取坐标：

```
POINT pt = reinterpret_cast<MSLLHOOKSTRUCT*>(lParam)->pt; 
```

有关详细信息，请参阅[LowLevelMouseProc](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644986%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-03T06:37:08.820

因为对于 LowLevelMouseProc 过程中的[WH_MOUSE_LL](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644986%28v=vs.85%29.aspx)，你作为 LPARAM 变量得到的是一个指向[MSLLHOOKSTRUCT](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644970%28v=vs.85%29.aspx)结构的指针，并使用它的 pt 成员来获取鼠标坐标

# java - infinispan 默认接受的端口范围：由于端口阻塞而发生复制超时

> ID：12242913
> 
> 赞同：0
> 
> 时间：2012-09-03T06:23:09.563
> 
> 标签：java, caching, jboss, replication, infinispan

我遇到了这个问题，infinispan 缓存复制超时。

这是我得到的错误日志。似乎这个端口被阻塞了，因此超时。“blx25ao03-38795 的复制超时”

那么 infinispan 支持的默认端口范围是多少，或者是否可以更改端口范围？

```
org.infinispan.util.concurrent.TimeoutException: Replication timeout for blx25ao03-38795
    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotely(JGroupsTransport.java:421)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:100)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:124)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:229)
    at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:217)
    at org.infinispan.remoting.rpc.RpcManagerImpl.broadcastRpcCommand(RpcManagerImpl.java:199)
    at org.infinispan.remoting.rpc.RpcManagerImpl.broadcastRpcCommand(RpcManagerImpl.java:193)
    at org.infinispan.interceptors.ReplicationInterceptor.handleCrudMethod(ReplicationInterceptor.java:114)
    at org.infinispan.interceptors.ReplicationInterceptor.visitPutKeyValueCommand(ReplicationInterceptor.java:78)
    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:76)
    at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:118)
    at org.infinispan.interceptors.LockingInterceptor.visitPutKeyValueCommand(LockingInterceptor.java:198)
    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:76)
    at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:118)
    at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:132)
    at org.infinispan.commands.AbstractVisitor.visitPutKeyValueCommand(AbstractVisitor.java:57)
    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:76)
    at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:118)
    at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:183)
    at org.infinispan.interceptors.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:132)
    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:76)
    at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:118) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:38:13.440

交叉发布到[https://community.jboss.org/message/758177#758177](https://community.jboss.org/message/758177#758177) - JBoss 论坛中已经提供了帮助。

# java - 需要获取用户的公网IP但获取的是应用所在服务器的IP

> ID：12242915
> 
> 赞同：0
> 
> 时间：2012-09-03T06:23:25.670
> 
> 标签：java, ip

> **可能重复：**
> [在 Java 中找出您的网站访问者 IP 地址](https://stackoverflow.com/questions/1483220/finding-out-your-website-visitor-ip-address-in-java)

我想为我的网站维护日志。为此，我需要存储访问者的公共 IP。我怎样才能做到这一点 ？直到知道我这就是我一直在做的事情：

```
 URL ip = new URL("http://api.externalip.net/hostname/");
        BufferedReader br = new BufferedReader(new InputStreamReader(ip.openStream()));
        String publicIP = br.readLine(); 
```

但这会返回服务器的 IP，我猜该页面的托管位置。例如，我总是将 IP 设为 :`76.xxxxxxxx`但是当我检查时，[`whatismyip`](http://whatismyip.com)我有类似`106.xxxxxxx`.

我怎样才能得到这个IP？哪个是访问网站的用户的公共 IP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T07:11:00.407

对于您的 Web 应用程序的每个[请求](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html)，也会发送客户端的 IP。所以你需要做的就是让[Filter](http://docs.oracle.com/javaee/5/api/javax/servlet/Filter.html) over `Requests`。获取并存储您喜欢的任何信息。

# .net - .NET 中的事件调度

> ID：12242920
> 
> 赞同：1
> 
> 时间：2012-09-03T06:24:13.417
> 
> 标签：.net, aop, event-dispatching

我有一个标准的 ASP.NET MVC 3 Web 应用程序。

我有几个横切关注点，我希望使用一些 AOP，最值得注意的是事件分派器模式。

例如，当发生某些事情时，我希望在我的控制器中“引发一个事件”，然后在我的应用程序（存储库、服务等）中散布几个“监听器”，它们监听这个事件并采取相应的行动。

我还应该提到，我将 StructureMap 用于我的 IoC 容器 - 所以最好是事件调度程序为 IoC 容器使用（或可插入），而不是依赖它自己的容器。

有没有人找到一个可以执行此操作的 NuGet 包，或者可以将我指向一篇文章/问题，说明如何执行此操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T06:45:30.007

**控制器应该是无状态**的。框架在处理请求后销毁控制器对象，并在下一个请求到来时重新创建它。实际上 ASP.NET MVC 为每个请求创建单独的控制器实例。在控制器中声明事件并由其他应用程序服务订阅此事件可能会导致内存泄漏（GC 不会破坏已使用的控制器，因为会有来自其他活动对象的活动引用控制器）。

还要记住，如果IIS空闲或由于其他原因，**IIS 可能会终止您的 Web 应用程序的进程，因此您的****Web 应用程序也应该是 stateless**。

您还必须记住该事件处理的并发性，

您可以使用事件发布者-订阅者模式，但它应该被实现为单独的“代理”，例如 Windows 服务，它将侦听某些端口并处理来自您的 Web 应用程序的请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T07:02:16.520

我认为您的控制器不应该引发事件，在您完成特定域的验证后，这应该是您的域逻辑的东西。在您完成验证以确保它会起作用之前，您如何确定某些事情确实发生了？

然而，实现一个简单的基于事件的解决方案并不难。我会选择类似的东西：

```
public abstract class BaseEvent {}

public class EventRouter {
            private Dictionary<Type, List<Action<BaseEvent>>> _eventRoutes;

    public EventRouter ()
    {
        _eventRoutes= new Dictionary<Type, List<Action<BaseEvent >>>();
    }

    public void Register<TEvent>(Action<TEvent> route) where TEvent : BaseEvent
    {
        List<Action<TEvent>> routes;
        var type = typeof(BaseEvent);
        if (_eventRoutes.TryGetValue(type, out routes).IsFalse())
        {
            routes = new List<Action<TEvent>>();
            _eventRoutes.Add(type, routes);
        }
        routes.Add((y) => route(y as BaseEvent));
    }

    public bool TryGetValue(Type commandType, out List<Action<TEvent>> handlers)
    {
        return _eventRoutes.TryGetValue(eventType, out handlers);
    }
}

public class InMemoryEventDispatcher : IEventBus
{
    private readonly IEventRouter _eventRouter;

    public InMemoryEventBus(IEventRouter eventRouter)
    {
        _eventRouter = eventRouter;
    }

    public void PublishEvent<TEvent>(TEvent @event) where TEvent : BaseEvent
    {
        var eventType = @event.GetType();
        List<Action<TEvent>> eventHandlers;
        if (_eventRouter.TryGetValue(eventType, out eventHandlers).IsTrue())
        {
            foreach (var eventHandler in eventHandlers)
            {
                eventHandler(@event);
            }
        }
    }

    public void PublishEvents<TEvent>(IEnumerable<BaseEvent> events) where TEvent : BaseEvent
    {
        foreach (var @event in events)
        {
            PublishEvent(@event);
        }
    }
} 
```

准备就绪后，您可以注册每个事件要执行的操作。我还没有编译它，但应该有类似的东西。

# php - 通过 Ajax 传递给 PHP 的 Javascript 数组

> ID：12242924
> 
> 赞同：2
> 
> 时间：2012-09-03T06:24:34.680
> 
> 标签：php, ajax, arrays

我试图通过 Ajax 将多选列表框中的值传递给 PHP。我在 Jquery 和 JSON 中看到了一些示例，但是我试图用普通的旧 javascript (Ajax) 来完成这个。这是我到目前为止的内容（简化）：

阿贾克斯：

```
function chooseMultiEmps(str)
  {
    var mEmpList2 = document.getElementById('mEmpList'); //values from the multi listbox
    for (var i = 0; i < mEmpList2.options.length; i++) //loop through the values
    var mEmpList = mEmpList2.options[i].value;  //create a variable to pass in string
    if (window.XMLHttpRequest)
    {
       xmlhttp = new XMLHttpRequest();
    }
    else
    {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = function()
   {
   if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
   {
      //specific selection text
      document.getElementById('info').innerHTML = xmlhttp.responseText; 
   }
  }
  xmlhttp.open("POST", "myPage.php", true);
  xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  var queryString = "&mEmpList=" + mEmpList; //query string should have multiple values
  xmlhttp.send(queryString);
} 
```

我可以在单个消息框中运行`alert(mEmpList)`并获取每个值，但是当我检索并回显 时`$_POST['mEmpList']`，我只得到第一个值。此外，当 I 时`alert(queryString)`，我只得到一个值。

我想我需要创建一个逗号分隔的数组，然后通过查询字符串传递它。从那里，我可以使用 PHP implode/explode 功能来分离这些值。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:30:39.473

这里：

```
for (var i = 0; i < mEmpList2.options.length; i++) //loop through the values
var mEmpList = mEmpList2.options[i].value;  //create a variable to pass in string 
```

您一遍又一遍地重新定义您的 mEmpList，这意味着只发送最后一个值

你可以这样做：

```
var mEmpList = '';
for (var i = 0; i < mEmpList2.options.length; i++) { //loop through the values
    mEmpList = mEmpList +','+ mEmpList2.options[i].value;  //create a variable to pass in string
} 
```

你`queryString`的也不行，没必要`&`

```
var queryString = "mEmpList=" + mEmpList; 
```

这样，最后你将拥有所有用逗号分隔的值`,`

在`PHP`您可以使用explode 循环每个值：

```
<?php
    $string = explode(',' $_GET['mEmpList']);
    for($i=1; $i<count($string); $i++){
        echo $string[$i]."<br />";
    }
?> 
```

# jquery - Jquery根据从某个url中的选择加载状态和城市值

> ID：12242926
> 
> 赞同：0
> 
> 时间：2012-09-03T06:24:45.690
> 
> 标签：jquery, onchange

我有以下代码：

```
 <label for="ItemCountry">Country <span class="req">*</span></label>
    <select name="ItemCountry" id="ItemCountry" class="cat_dropdown" />
     <option value="AU" selected="selected">Australia</option>
     <option value="CA">Canada</option>
     <option value="CN">China</option>
     <option value="NZ">New Zealand</option>
     <option value="RU">Russia</option>
     <option value="US">United State</option>
   </select>
<script type="text/javascript">
$(function() {
$('#ItemCountry').change(function() {
var CountryVal = this.value; // value of the select element
$("#StateFeeder").html('<img src="/images/mapCountry/AU/ajax-loader.gif" class="IMG-Loading" />');
$('#StateFeeder').load('/StateFeeder/StateFeeder-Buy.html #StateFeeder-'+CountryVal);
})
})               
</script>

<div id="StateFeeder">
  <label for="ItemState">State / Province <span class="req">*</span></label>
  <select name="ItemState" id="ItemState" class="cat_dropdown">
    <option value="">-- Please select --</option>
    <option value="NSW">NSW</option>
    <option value="VIC">VIC</option>
    <option value="QLD">QLD</option>
    <option value="ACT">ACT</option>
    <option value="TAS">TAS</option>
    <option value="WA">WA</option>
    <option value="SA">SA</option>
    <option value="NT">NT</option>
  </select>e.g. NSW
</div>

<script type="text/javascript">
 $(function() {
     $('#ItemState').change(function() {
         var StateVal = this.value; // value of the select element
         $("#CityFeeder").html('<img src="/images/mapCountry/AU/ajax-loader.gif" class="IMG-Loading" />');
         $('#CityFeeder').load('/Country/'+CountryVal+'/_'+CountryVal+'_suburbs.html #Suburbs-'+StateVal, function(){
         $('#CityFeeder select').attr('size', '5');
         $('#CityFeeder select').change(function(){  this.form['CAT_Custom_221342'].value=$(this).val();
         }); });        
     })
  })               
</script>
    <div id="CityFeeder">
    <label for="ItemCity">City / Suburb <span class="req">*</span></label>
    <input type="text" name="ItemCity" id="ItemCity" class="cat_textbox" maxlength="255" style="text-transform: capitalize;" />e.g. Chatswood
    </div> 
```

**最后一部分不起作用，它假设将状态选择的值传递到 url 以加载从远程 url 中的状态块存储的某些城市下拉列表，似乎“CountryVal”没有将值带入该 url，请帮我纠正一下，非常感谢：**

```
$('#CityFeeder').load('/Country/'+CountryVal+'/_'+CountryVal+'_suburbs.html #Suburbs-'+StateVal, function(){
    $('#CityFeeder select').attr('size', '5');
    $('#CityFeeder select').change(function(){
        this.form['CAT_Custom_221342'].value=$(this).val();
    }); 
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:41:07.937

您必须将 $('#ItemState').change(function(){...}) 移动到 $('#StateFeeder').load("..") 内，以便在第一次加载完成时，它将更改事件绑定到新的 dom 元素。还尝试将所有脚本包含在 $(document).ready(function(){...}) 下的单个标记中

```
<label for="ItemCountry">Country <span class="req">*</span></label>
<select name="ItemCountry" id="ItemCountry" class="cat_dropdown" />
    <option value="AU" selected="selected">Australia</option>
    <option value="CA">Canada</option>
    <option value="CN">China</option>
    <option value="NZ">New Zealand</option>
    <option value="RU">Russia</option>
    <option value="US">United State</option>
</select>

<div id="StateFeeder">
    <label for="ItemState">State / Province <span class="req">*</span></label>
    <select name="ItemState" id="ItemState" class="cat_dropdown">
        <option value="">-- Please select --</option>
        <option value="NSW">NSW</option>
        <option value="VIC">VIC</option>
        <option value="QLD">QLD</option>
        <option value="ACT">ACT</option>
        <option value="TAS">TAS</option>
        <option value="WA">WA</option>
        <option value="SA">SA</option>
        <option value="NT">NT</option>
    </select>e.g. NSW
</div>

<div id="CityFeeder">
    <label for="ItemCity">City / Suburb <span class="req">*</span></label>
    <input type="text" name="ItemCity" id="ItemCity" class="cat_textbox" maxlength="255" style="text-transform: capitalize;" />e.g. Chatswood
</div>

<script type="text/javascript">
var CountryVal;
var StateVal;
$(document).ready(function(){
    $('#ItemCountry').change(function(){
        CountryVal = this.value; // value of the select element
        $("#StateFeeder").html('<img src="/images/mapCountry/AU/ajax-loader.gif" class="IMG-Loading" />');
        $('#StateFeeder').load('/StateFeeder/StateFeeder-Buy.html #StateFeeder-'+CountryVal, function(){
            $('#ItemState').change(function(){
                StateVal = this.value; // value of the select element
                $("#CityFeeder").html('<img src="/images/mapCountry/AU/ajax-loader.gif" class="IMG-Loading" />');
                $('#CityFeeder').load('/Country/'+CountryVal+'/_'+CountryVal+'_suburbs.html #Suburbs-'+StateVal, function(){
                    $('#CityFeeder select').attr('size', '5');
                    $('#CityFeeder select').change(function(){  
                        this.form['CAT_Custom_221342'].value=$(this).val();
                    }); 
                });        
            })
        });
    });
});           
</script> 
```

# c# - 确定启动了哪个列表框的事件

> ID：12242929
> 
> 赞同：1
> 
> 时间：2012-09-03T06:25:03.073
> 
> 标签：c#, .net, winforms, events

在我的 C# Winforms 应用程序中，我有一个 tablelayoutpanel，它将包含从 2 到 64 之间的任何列表框。用户可以双击列表框中的任何项目，然后将项目的信息传输到已经打开的无模式窗口。

我的问题如下：

1.  我如何知道从哪个列表框调用了该事件？

2.  有没有办法确定列表框在 tablelayoutpanel 内的哪一行/列？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T06:30:45.943

> 我如何知道从哪个列表框调用了该事件？

```
void ListBox_SomeEvent(object sender, EventArgs e)
{
    var lb = (ListBox)sender;  // that's the one
} 
```

* * *

> 有没有办法确定列表框在 tablelayoutpanel 内的哪一行/列？

那个我不太确定，因为我在这门课上工作不多。您当然可以`ListBox`在其父容器中获得边界矩形，但我看了一眼文档，`TableLayoutPanel`并没有看到任何明显的东西（即，类似于`Columns`属性的东西）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-03T06:45:23.007

> 我如何知道从哪个列表框调用了该事件？

Ed S. 已经回答了这个问题。也许要提到您需要将事件处理程序附加到您的列表框：

```
var newListbox = new ListBox();
newListbox.DoubleClick += ListBox_SomeEvent;
_myTableLayouter.Controls.Add(newListBox); 
```

> 有没有办法确定列表框在 tablelayoutpanel 内的哪一行/列？

使用[TableLayoutPanel.GetCellPosition()](http://msdn.microsoft.com/en-us/library/system.windows.forms.tablelayoutpanel.getcellposition.aspx)。您将在此处返回带有行和列的[TableLayoutPanelCellPositiontion 。](http://msdn.microsoft.com/en-us/library/system.windows.forms.tablelayoutpanelcellposition.aspx)

# android - 个人最喜欢和最近的 android 通话列表

> ID：12242936
> 
> 赞同：0
> 
> 时间：2012-09-03T06:26:08.063
> 
> 标签：android, calllog

我一直在尝试有关通话记录和收藏夹的其他教程。但是这种方法总是使用原生的android电话簿。有什么方法可以为我的应用程序制作一个最喜欢的通话清单和最近通话清单（只有我的应用程序可以使用它）？任何帮助/线索都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:38:22.523

这是获取最近通话列表的代码：

```
ContentResolver cr = getContentResolver();
String strOrder = CallLog.Calls.DATE + " DESC";
Cursor cur = cr.query(CallLog.Calls.CONTENT_URI, null, selection, null,
                    strOrder); 
```

这里还有一个获取您最喜欢的联系人的代码：

```
Cursor starred = cr.query(ContactsContract.Contacts.CONTENT_URI,null,ContactsContract.Contacts._ID + " = " + contactId + "AND" + ContactsContract.Contacts.STARRED + "= 1" ,null, null); 
```

希望这会帮助你。

# android - Alarmmanager & Soundpool - Android

> ID：12242939
> 
> 赞同：0
> 
> 时间：2012-09-03T06:26:16.893
> 
> 标签：android, audio, alarmmanager, soundpool

我正在做一个警报系统。警报工作正常，但声音不起作用..我正在做一个小测试，但我不明白问题出在哪里..在警报活动中，我有以下代码：

```
 setVolumeControlStream(AudioManager.STREAM_MUSIC);
    soundPool = new SoundPool(20, AudioManager.STREAM_MUSIC, 0);
    try {
        AssetManager assetManager = getAssets();
        AssetFileDescriptor descriptor = assetManager.openFd("sound.ogg");
        mySoundId = soundPool.load(descriptor, 1);
    } catch (IOException e) {
        Log.d(TAG,"We've problem's!!, "
                + e.getMessage());
    }   

    soundPool.play(mySoundId, 1, 1, 0, 0, 1); 
```

没有错误..但音乐不起作用..相反，如果我在底部工作中编程 PLAY！任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:45:28.903

我刚刚尝试了您的代码并发现了问题。这是 SoundPool 中的常见问题。在播放之前，您需要等待声音完成加载。这就是为什么`soundPool.play()`返回零。声音还没准备好。

在 API 8 中，[`setOnLoadCompleteListener()`](http://developer.android.com/reference/android/media/SoundPool.html#setOnLoadCompleteListener%28android.media.SoundPool.OnLoadCompleteListener%29)引入了解决问题的方法：

```
soundPool.setOnLoadCompleteListener(new OnLoadCompleteListener() {
    public void onLoadComplete(SoundPool soundPool, int sampleId,int status) {
       //play the sound.
    }
}); 
```

但是，如果您的目标是较低的 API，您无法确定您的声音是否已准备好播放。在这种情况下，我建议您使用[MediaPlayer](http://developer.android.com/reference/android/media/MediaPlayer.html)。

# javascript - 使用 javascript 或 jquery 的复选框的 Ontouchevent

> ID：12242940
> 
> 赞同：0
> 
> 时间：2012-09-03T06:26:39.960
> 
> 标签：javascript, android, cordova

我已经使用 javascript、html 和 jquery 开发了 android phonegap 应用程序。我正在使用动态复选框并且我使用了单击功能，但有时在某些设备中，我很难单击复选框以选中和取消选中。然后我将其更改为ontouchend 但随后所有复选框都被单击。但我需要检查组中的任何一个。解决方案是什么。

这是我的代码：

```
$("input[type='checkbox'][name='"+$(this).attr('name')+"']").live('touchend',function() {

    var currentAnswer=this;
     $("input[name='"+$(this).attr('name')+"']").attr('checked', false);
     currentAnswer.checked=true;
     }); 
```

请指导我。在此先感谢。

# java - Maven 全新安装问题

> ID：12242947
> 
> 赞同：3
> 
> 时间：2012-09-03T06:27:35.863
> 
> 标签：java, eclipse, maven

当我从命令行运行 maven clean install 时，它运行良好，没有任何问题。但是，当我通过 eclipse 运行 maven clean install 时，它给出了错误。我配置了一个外部 maven 源并且不使用 eclipse 使用的嵌入式 maven 资源。

```
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ client ---
[INFO] Compiling 2612 source files to C:\Users\Name\workspace\projectname\client\src\main\webbapp\WEB-INF\classes  
java.lang.OutOfMemoryError: PermGen space
Dumping heap to java_pid5368.hprof ...
Heap dump file created [126539667 bytes in 0.924 secs]
[ERROR] PermGen space -> [Help 1] 
```

当我在命令提示符下从同一源目录运行 maven 全新安装时，它运行良好，但是，当我通过 eclipse 配置它时运行它时它不起作用。必须做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-24T05:42:10.217

将此用于 Maven 以及您的 Eclipse :)

```
export MAVEN_OPTS="-Xmx2g -XX:MaxPermSize=4096M -XX:ReservedCodeCacheSize=1024m"
export JAVA_OPTS="-Xmx2g -XX:MaxPermSize=4096M -XX:ReservedCodeCacheSize=1024m" 
```

# solr - 如何在 Solr 3.3 中实现 mod 功能

> ID：12242948
> 
> 赞同：3
> 
> 时间：2012-09-03T06:27:44.057
> 
> 标签：solr, lucene, modulo

我现在使用的是solr 3.3，在查询中需要使用mod函数，但是mod函数直到4.0才存在。所以，我想使用其他功能来替换 3.3 中的 mod，比如

```
q=subject:mp3&fq={!frange l=1 u=1}sub(id,product(floor(div(id,2)),2)). 
```

但是我发现这个函数不起作用，因为 sub(id,product(floor(div(id,2)),2)) 将等于 id 即使 id 是奇数。有没有人可以在 3.3 中替换 mod 功能？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T09:40:49.327

如果你已经写过一些Java，应该很容易实现，只需要写一个`ModFunction`类（例如见[div实现](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.solr/solr-core/3.3.0/org/apache/solr/search/function/DivFloatFunction.java#DivFloatFunction)）。然后为它写一个`ValueSourceParser`，它应该是这样的：

```
public class ModFunctionParser extends ValueSourceParser {
  @Override
  public ValueSource parse(FunctionQParser fp) throws ParseException {
    ValueSource a = fp.parseValueSource();
    ValueSource b = fp.parseValueSource();
    return new ModFunction(a, b);
  }
} 
```

最后，[在你的 solrconfig.xml 中注册这个解析器](http://wiki.apache.org/solr/SolrPlugins#ValueSourceParser)。

# java - 通过Javascript传递请求参数

> ID：12242956
> 
> 赞同：0
> 
> 时间：2012-09-03T06:28:36.940
> 
> 标签：java, javascript, struts2, httprequest

我有一个 struts 应用程序，我正在尝试使用 URL 调用 Action 类。当我尝试传递请求参数时，它们都没有被附加。

这是我的代码：

```
 document.myform.action = "mydetails_${firmID}_${empID}.action?id=56";
    document.myform.submit(); 
```

但这是我在 chrome 控制台中看到的：

> mydetails_123_04.action？

出于某种原因，没有附加问号后面的内容。我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T07:15:47.323

不要以为你可以在动作中设置这样的参数。您需要将它们作为参数添加到表单中，这涉及创建隐藏的输入节点：

```
var input = document.createElement( 'input' ); 
input.type = 'hidden';
input.name = 'id';
input.value = 56;
document.forms.myform.appendChild( input );​ 
```

# php - 使用选择计数时隐藏 0

> ID：12242957
> 
> 赞同：-3
> 
> 时间：2012-09-03T06:28:41.590
> 
> 标签：php, mysql

下面是计数评论的脚本。这行得通，但现在我想当评论 0 时，它只显示评论，而不是 0 评论。

有什么建议么 ？

```
<?php
            include "con_config_hapshout.php";

            $query3 = "SELECT COUNT(comment) FROM comment WHERE msg_id='$id'";
            $result3 = mysql_query($query3);

            while($total = mysql_fetch_array($result3)){
                            echo "$total['COUNT(comment)'] comment";
                        }

            ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:30:05.430

```
<?php
        include "con_config_hapshout.php";

        $query3 = "SELECT IF(COUNT(comment) = 0, '', COUNT(comment)) AS comment_count
                   FROM comment WHERE msg_id='$id'";
        $result3 = mysql_query($query3);

        while($total = mysql_fetch_array($result3)){
                        echo "$total['comment_count'] comment";
                    }

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:33:06.070

按列名对结果进行分组。

```
SELECT COUNT(comment) 
FROM comment 
WHERE msg_id='$id'
GROUP BY comment 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/bcd72/6)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:32:44.057

您误用了 PHP 字符串 - 双引号字符串中的数组键引用不应被引用，除非您使用`{}`语法。

```
echo "{$total['COUNT(comment)']} comment";
      ^---                     ^-- 
```

或者更好的是，在查询中为计数设置别名，这样您以后就不必在 PHP 中使用如此丑陋的数组键：

```
SELECT COUNT(comment) AS cnt ...

and

echo $total['cnt']; 
```

# ios - GB2ShapeCache 形状比例尺？（物理编辑器）[Box2D]

> ID：12242958
> 
> 赞同：0
> 
> 时间：2012-09-03T06:28:56.680
> 
> 标签：ios, cocos2d-iphone, box2d, scale, game-physics

有一个与名为 GB2ShapeCache 的程序***物理编辑器***关联的类，它加载我在程序中制作的形状。我注意到目前无法动态更改形状的比例，因此我希望能够缩放我在物理编辑器中制作的形状的固定装置。现在我的应用程序中 CCSprite 的比例可以是随机的，所以目前在 addShapesWithFile 方法中，我对多边形执行此操作：

```
vertices[vindex].x = (offset.x * sprite.scaleX) / ptmRatio_;
vertices[vindex].y = (offset.y * sprite.scaleY) / ptmRatio_; 
```

这对于圈子：

```
circleShape->m_radius = ([[circleData objectForKey:@"radius"] floatValue] / ptmRatio_) *sprite.scale; 
```

我还更改了方法，以便我可以传入我的精灵，这样我就可以得到比例：

`-(void) addShapesWithFile:(NSString*)plist forSprite:`(CCSprite*) 精灵

这样我就可以传入我的精灵，这样我就可以得到比例。

但是，我发现这效率低下，因为我不应该在我的 plist 中重新加载我的所有形状，因为它们已经添加了。

那么除了 addFixturesToBody 方法之外，有什么方法可以做我现在正在做的事情吗？这样我就不会重新创建已经添加的 plist 形状，我只会在准备好添加到我的身体时缩放固定装置。

如果有人需要查看更多代码或需要更多信息，请随时询问。我知道这个问题一定很简单！！！

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T07:40:00.867

我建议在`addFixturesToBody`方法中实现它。（见[https://github.com/AndreasLoew/GBox2D/blob/master/GBox2D/GB2ShapeCache.mm](https://github.com/AndreasLoew/GBox2D/blob/master/GBox2D/GB2ShapeCache.mm)）

试试下面的这个方法，这应该会根据它们所针对的精灵来缩放形状。只需传入您的 CCSprite，此方法将处理其余部分。

```
- (void)addFixturesToBody:(b2Body*)body forShapeName:(NSString*)shape forSprite:(CCSprite*)sprite {
    BodyDef *so = [shapeObjects_ objectForKey:shape];
    assert(so);

    FixtureDef *fix = so->fixtures;

    if ((sprite.scaleX == 1.0f) && (sprite.scaleY == 1.0f)) {
        // simple case - so do not waste any energy on this
        while(fix) {
            body->CreateFixture(&fix->fixture);
            fix = fix->next;
        }
    } else {
        b2Vec2 vertices[b2_maxPolygonVertices];
        while(fix) {
            // make local copy of the fixture def
            b2FixtureDef fix2 = fix->fixture;

            // get the shape
            const b2Shape *s = fix2.shape;

            // clone & scale polygon
            const b2PolygonShape *p = dynamic_cast<const b2PolygonShape*>(s);
            if(p)
            {
                b2PolygonShape p2;
                for(int i=0; i<p->m_vertexCount; i++)
                {
                    vertices[i].x = p->m_vertices[i].x * sprite.scaleX;
                    vertices[i].y = p->m_vertices[i].y * sprite.scaleY;
                }
                p2.Set(vertices, p->m_vertexCount);
                fix2.shape = &p2;
            }

            // clone & scale circle
            const b2CircleShape *c = dynamic_cast<const b2CircleShape *>(s);
            if(c) {
                b2CircleShape c2;
                c2.m_radius = c->m_radius * sprite.scale;
                c2.m_p.x = c->m_p.x * sprite.scaleX;
                c2.m_p.y = c->m_p.y * sprite.scaleY;
                fix2.shape = &c2;
            }

            // add to body
            body->CreateFixture(&fix2);
            fix = fix->next;
        }    
    }    
} 
```

# jquery - jQuery Mobile 可折叠菜单

> ID：12242960
> 
> 赞同：0
> 
> 时间：2012-09-03T06:29:10.780
> 
> 标签：jquery, mobile, navbar

我正在尝试创建一个导航栏来控制其下方两个可折叠部分的显示/隐藏。

jQuery Mobile 可以做到这一点吗？

```
<div data-role="navbar">
    <ul>
        <li><a data-theme="c" href="#">Menu</a></li>
        <li><a href="#">Search</a></li>
    </ul>
</div>

<div data-role="collapsible">
    <div data-role="navbar" class="menu">
        <ul>
            <li><a data-theme="c" href="#">Menu</a></li>
            <li><a href="#">Search</a></li>
        </ul>
    </div>
</div>

<div data-role="collapsible">
    <form class="search">
        <label for="search-mini">Search Input:</label>
        <input type="search" name="search-mini" id="search-mini" value="" data-mini="true" />
    </form>
</div> 
```

例如，请查看移动设备上[m.nbcolympics.com](http://m.nbcolympics.com)网站上的菜单。我想创建一个菜单/搜索，就像他们在他们的网站上一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T06:32:53.840

这应该足以让您开始并朝着大方向前进。

[http://jsfiddle.net/japaneselanguagefriend/Mf4X2/](http://jsfiddle.net/japaneselanguagefriend/Mf4X2/)

另请查看本指南：

[http://jquerymobile.com/test/docs/content/content-collapsible.html](http://jquerymobile.com/test/docs/content/content-collapsible.html)

# php - 将文件包含在父文件夹中时，PHP require_once 错误

> ID：12242964
> 
> 赞同：14
> 
> 时间：2012-09-03T06:29:32.183
> 
> 标签：php, require-once

我有以下文件结构

-- 插件
-- inParent.php
---- Uploadify
------ inSame.php
------ Uploadify.php

直到昨天，此功能都运行良好。但是现在，如果我尝试使用**require_once('../inparent.php)将****inParent.php包含在****uploadify.php**中，它会给我一个愚蠢的错误..saying...

 ****```
Warning: require_once(../inParent.php) [function.require-once]: failed to open stream: No such file or directory in /home/user/public_html/plugins/uploadify/uploadify.php on line 3 
```

但是文件肯定存在...

用于包含**inSame.php**的相同代码没有显示错误并且可以完美运行..

我猜可能是文件权限问题..但一切都很好..所有相关文件都有 755/644 权限。

此外，move_uploaded_file 函数也已停止工作。

直到昨天，所有代码都运行良好。我什么都没有改变。

我已经尝试了一切，不知道到底发生了什么..

请帮助我的朋友.. :( :(

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-07-12T14:51:19.453

我用谷歌搜索并发现了这个： `require_once __DIR__.'/../inParent.php';`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-07-24T22:49:02.830

就我而言，我必须写：

`require_once dirname( __FILE__ ) . '/' . '../../inParent.php';`

那行得通！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-26T22:10:17.400

这个问题很老，但对于像我这样遇到它的人来说，这里是 Stack Overflow 另一部分的答案。

require_once($_SERVER['DOCUMENT_ROOT'] . '/inParent.php');

[PHP需要来自顶级目录的文件](https://stackoverflow.com/questions/7630002/php-require-file-from-top-directory)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-03T06:36:51.790

如果它昨天工作并且您确定您没有更改任何内容，请先尝试重新启动服务器。

其次，在需要一次尝试使用完整路径而不是 .. 我通常使用我的根路径创建一个文件并引用它们而不是使用 ./ 和 ../****

# c# - 关于使用 XSLT 加载方法的问题

> ID：12242965
> 
> 赞同：0
> 
> 时间：2012-09-03T06:29:44.027
> 
> 标签：c#, xml

我有一个应用程序，其设计如下：

1.  有一个热文件夹，其中一个 xml 文件被这个应用程序拾取，App1
2.  XSLT 应用于传入的 xml，将其转换为另一个 xml
3.  对于 XSLT 工作，使用 XSLT Compileted 转换类调用 Load 方法
4.  转换的结果由 App1 使用
5.  为每个放入热文件夹的文件启动一个新的 App1 实例

另一个应用程序管理监视热文件夹并将 xml 发送到 App1。除#4 之外的所有上述步骤都是 App1 的一部分。

几天前 App1 停止工作。检查日志文件显示 XSLT Compiled transfrom 类的 Load 方法失​​败。重新安装 App1 似乎暂时可以解决它。

我相信这会回来的。

[在这里](http://blogs.msdn.com/b/xmlteam/archive/2011/09/26/effective-xml-part-3-didn-t-you-say-xslcompiledtransform-was-fast.aspx)找到了一些关于 XSLT Compiled 转换的有趣内容。该博客中的建议是只调用一次 Load 方法并在连续调用中重复使用输出。考虑到 App1 的构建方式，我不知道该怎么做。第二个选项是使用 XSLTC 创建 C# 类并将其用作参考。在这里，App1 也最终调用了将 Type 作为参数传递的 Load 方法。

我该怎么做才能避免一直调用 Load 方法？这是否意味着我必须编写第二个应用程序 App2 来执行此操作并以某种方式将其与 App1 同步？

说真的，我不想走那条路。

我有什么其他选择来处理这个问题？

# hadoop - 为 Hadoop MR 创建序列文件格式

> ID：12242979
> 
> 赞同：0
> 
> 时间：2012-09-03T06:31:12.497
> 
> 标签：hadoop, mapreduce

我正在与 合作`Hadoop MapRedue`，并有一个问题。目前，我的映射器`input KV type`是`LongWritable, LongWritable type`并且 `output KV type`也是`LongWritable, LongWritable type`。InputFileFormat 是 SequenceFileInputFormat。基本上我想要做的是将一个 txt 文件更改为 SequenceFileFormat，以便我可以将它用于我的映射器。

我想做的是

输入文件是这样的

`1\t2 (key = 1, value = 2)`

`2\t3 (key = 2, value = 3)`

不断...

我查看了这个线程[如何将 .txt 文件转换为 Hadoop 的序列文件格式](https://stackoverflow.com/questions/5377118/how-to-convert-txt-file-to-hadoops-sequence-file-format)，但`TextInputFormat`仅支持`Key = LongWritable and Value = Text`

有没有办法获取txt并在其中制作序列文件`KV = LongWritable, LongWritable`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-03T17:45:42.347

当然，基本上与我在您链接的另一个线程中所说的方式相同。但是你必须实现你自己的`Mapper`.

只是给你一个快速的划痕：

```
public class LongLongMapper extends
    Mapper<LongWritable, Text, LongWritable, LongWritable> {

  @Override
  protected void map(LongWritable key, Text value,
      Mapper<LongWritable, Text, LongWritable, LongWritable>.Context context)
      throws IOException, InterruptedException {

    // assuming that your line contains key and value separated by \t
    String[] split = value.toString().split("\t");

    context.write(new LongWritable(Long.valueOf(split[0])), new LongWritable(
        Long.valueOf(split[1])));

  }

  public static void main(String[] args) throws IOException,
      InterruptedException, ClassNotFoundException {

    Configuration conf = new Configuration();
    Job job = new Job(conf);
    job.setJobName("Convert Text");
    job.setJarByClass(LongLongMapper.class);

    job.setMapperClass(Mapper.class);
    job.setReducerClass(Reducer.class);

    // increase if you need sorting or a special number of files
    job.setNumReduceTasks(0);

    job.setOutputKeyClass(LongWritable.class);
    job.setOutputValueClass(LongWritable.class);

    job.setOutputFormatClass(SequenceFileOutputFormat.class);
    job.setInputFormatClass(TextInputFormat.class);

    FileInputFormat.addInputPath(job, new Path("/input"));
    FileOutputFormat.setOutputPath(job, new Path("/output"));

    // submit and wait for completion
    job.waitForCompletion(true);
  }
} 
```

映射器函数中的每个值都会得到一行输入，因此我们只是通过分隔符（制表符）将其拆分并将其每个部分解析为长整数。

就是这样。

# android - 如何找到 Horizo ntalScrollView 的滚动值结束

> ID：12242983
> 
> 赞同：6
> 
> 时间：2012-09-03T06:31:27.070
> 
> 标签：android, scrollbar, horizontalscrollview

我需要实现以下场景，

这里我有两个horizo​​ntalScrollViews，上scrollView 是主菜单，下scrollView 是子菜单。

当我滚动主菜单时，中心箭头下方的菜单将在下部滚动视图中显示其子菜单，并且从下部滚动视图中，中心箭头下方的子菜单显示该子菜单的屏幕。

这是我的要求：![在此处输入图像描述](../Images/792e4cfa1e7186c078fcf35f48ee0872.png)

我已经使用 Horizo​​ntalScrollViews 和 ViewFlipper 实现了它，它也可以工作，但只有当我缓慢滚动而不是快速滚动时它才会给出正确的结果。

我已经使用了带有 ACTION_UP 事件的 onTouch() 方法，所以当我从屏幕上松开手指时，它会在该点给我 getScrollX() 位置，但是当滚动完成/停止时我需要 getScrollX() 位置。

这是我的代码：-

```
 @Override
    public boolean onTouch(View v, MotionEvent event) {
        switch (v.getId()) {

            case R.id.mHorizontalScrollViewMain:
           if (event.getAction() == KeyEvent.ACTION_UP) {
            Log.d("test", " " + hsvUpperTab.getScrollX() + " , "+ mViewFlipper.getChildCount());
            getUpperTabScrolled(hsvUpperTab.getScrollX());
        }
        break;

        case R.id.mHorizontalScrollViewSub:
                if (event.getAction() == KeyEvent.ACTION_UP) {
            Log.d("test1", " " + hsvLowerTab.getScrollX());
            getLowerTabScrolled(hsvLowerTab.getScrollX());

            }

        default:
            break;

        }

        return false;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T13:01:46.553

这是我的答案：

```
public class ScrollViewCustom extends HorizontalScrollView {
    private Runnable scrollerTask;
    private int intitPosition;
    private int newCheck = 100;
    private static final String TAG = "ScrollView";

    public interface onScrollStopListner{
        void onScrollStoped();
    }

    private onScrollStopListner onScrollstopListner;

    public ScrollViewCustom(Context context, AttributeSet attrs) {
        super(context, attrs);
        // TODO Auto-generated constructor stub
            scrollerTask = new Runnable() {
                @Override
                public void run() {
                // TODO Auto-generated method stub
                    int newPosition = getScrollX();
                        if ( intitPosition - newPosition == 0 ) {
                            if ( onScrollstopListner != null ) {
                            onScrollstopListner.onScrollStoped();
                            }
                            }else{
                            intitPosition = getScrollX();
                            ScrollViewCustom.this.postDelayed(scrollerTask, newCheck);
                        }
                    }
        };
    }

    public void setOnScrollStopListner( ScrollViewCustom.onScrollStopListner listner ){
        onScrollstopListner = listner;
    }

    public void startScrollerTask(){
        intitPosition = getScrollX();
        ScrollViewCustom.this.postDelayed(scrollerTask, newCheck);
    }

} 
```

在活动中：

```
scroll.setOnTouchListener(new OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub
                        if ( event.getAction() == MotionEvent.ACTION_UP ) {
                            scroll.startScrollerTask();
                        }
                        return false;
            }
        });

        scroll.setOnScrollStopListner(new onScrollStopListner() {
                @Override
                public void onScrollStoped() {
                    // TODO Auto-generated method stub
                    Log.d(TAG," "+scroll.getScrollX());

                    }

        }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T16:47:25.517

给你：[Stackoverflow 答案](https://stackoverflow.com/a/10198865/1154026)

您所要做的就是用 getScrollX() 替换 getScrollY()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-03T06:44:30.370

我们使用以下方法：创建一个自定义的 Horizo​​ntalScrollView 并覆盖 onScrollChanged(int l, int t, int oldl, int oldt) 方法，然后您的代码就在那里。为了更准确，我们也覆盖了 draw 方法。

# ios - 使用 iOS 上的状态栏进行 phonegap

> ID：12242985
> 
> 赞同：1
> 
> 时间：2012-09-03T06:31:42.140
> 
> 标签：ios, notifications, statusbar, phonegap-plugins

如何使用 iOS 上的状态栏进行 phonegap 发送通知？在android上是插件：[StatusBarNotification](https://github.com/phonegap/phonegap-plugins/tree/master/Android/StatusBarNotification)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T18:37:18.420

我相信 LocalNotification 插件会做你所追求的：

[https://github.com/phonegap/phonegap-plugins/tree/master/iOS/LocalNotifications](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/LocalNotifications)

还有更详细的教程：

[http://www.drewdahlman.com/meusLabs/?p=117](http://www.drewdahlman.com/meusLabs/?p=117)

# jquery - 如何在 jqgrid 中实现内联编辑

> ID：12242987
> 
> 赞同：-1
> 
> 时间：2012-09-03T06:31:53.903
> 
> 标签：jquery, jqgrid, jqgrid-asp.net, jqgrid-formatter, jqgrid-inlinenav

我想在 jqgrid 中实现内联编辑。我有表格如下图![在此处输入图像描述](../Images/91be741143d1ffd84cd395e91b1ca04f.png)

i want user can enter just number in Amount textBox and And select CurrencyUnit after that go to row 2 and enter Amount and etc. but when select row 2 data row 1 reset Like the picture below ![在此处输入图像描述](../Images/72a2adfe41bb0eafe110d692ceab257c.png)
in this pictute i enter Amount and select CurrencyUnit and i选择第 2 行时选择第 2 行 ![在此处输入图像描述](../Images/431d17ed154e889f026f971e14aec5a7.png)

我写这段代码

```
 jQuery(document).ready(function () {
            var localstr = "0:Select Ones;";
            localstr = "1:Rial";
            localstr += ";2:Dollar";
            localstr += ";3:Youro";
            localstr += ";4:Derham";
            localstr += ";6:Pond";

            var lastSel;
            var grid = jQuery("#list");
            grid.jqGrid({
                url: 'jQGridHandler.ashx',

                postData: { ActionPage: 'ClearanceCost', Action: 'Fill' },
                ajaxGridOptions: { cache: false },
                loadonce: true,
                direction: "rtl",

                datatype: 'json',
                height: 'auto',
                colNames: ['RequestID', 'WayBillNo', 'CostId', 'CostName', 'Amount', 'CurrencyUnit '],
                colModel: [
                    { name: 'REQUEST_ID', width: 100, sortable: true, hidden: true },
                        { name: 'WAYBILL_NO', width: 100, sortable: true, hidden: true },
                        { name: 'COST_ID', index: 'COST_ID', width: 200, sortable: true, hidden: true },
                        { name: 'COST_NAME', width: 200, sortable: true },
                        { name: 'COST_AMOUNT', width: 100, sortable: true, editable: true },
                      { name: 'Subcategory', index: 'Subcategory', width: 200, formatter: 'select', editable: true, edittype: 'select', editoptions: { value: localstr} }
                ],
                sortname: 'Name',
                viewrecords: true,
                rownumbers: true,
                sortorder: "desc",
                editurl: 'jQGridHandler.ashx?ActionPage=ClearanceCost&Action=Insert',
                onSelectRow: function (id) {
                    if (id && id !== lastSel) {
                        grid.jqGrid('restoreRow', lastSel);
                        var cm = grid.jqGrid('getColProp', 'CURRENCY_ID');
                        cm.editable = false;
                        grid.jqGrid('editRow', id, true, null, null, 'jQGridHandler.ashx?ActionPage=ClearanceCost&Action=Insert');
                        cm.editable = true;
                        lastSel = id;
                    }
                },
                pager: '#pager',
                caption: ""
            }).jqGrid('navGrid', '#pager', { edit: true, add: true, del: false, search: false, refresh: false });

            $("#btnsave").click(function () {
                var totalAmount = 0, totalTax = 0, i = getColumnIndexByName(grid, 'CURRENCY_ID');

                $("tbody > tr.jqgrow > td:nth-child(" + (i + 1) + ")", grid[0]).each(function () {
                    alert(getTextFromCell(this));

                });
                //                i = getColumnIndexByName(grid, 'tax');
                //                $("tbody > tr.jqgrow > td:nth-child(" + (i + 1) + ")", grid[0]).each(function () {
                //                    totalTax += Number(getTextFromCell(this));
                //                });
            });

            function getColumnIndexByName(grid1, columnName) {
                var cm = grid1.jqGrid('getGridParam', 'colModel');
                for (var i = 0, l = cm.length; i < l; i++) {
                    if (cm[i].name === columnName) {
                        return i; // return the index
                    }
                }
                return -1;
            }

            function getTextFromCell(cellNode) {
                return cellNode.childNodes[0].nodeName == "INPUT" ? cellNode.childNodes[0].value : cellNode.textContent || cellNode.innerText;
            }

        }); 
```

我希望用户输入所有金额项目，然后在输入所有金额时单击 ClickMe 按钮并将数据发送到服务器，但我不知道如何实现。谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T15:19:12.483

你把代码改成这个

```
onSelectRow: function (id) {
                    if (id && id !== lastSel) {
                        grid.jqGrid('restoreRow', lastSel);
                        grid.saveRow(lastSel,true,'clientArray');
                        grid.jqGrid('restoreRow',lastSel);

                        grid.jqGrid('editRow', id, true, null, null, 'clientArray');

                    }
                }, 
```

# java - Sphinx4 将 wav 文件中的语音识别为输入而不是麦克风输入

> ID：12242991
> 
> 赞同：1
> 
> 时间：2012-09-03T06:32:26.613
> 
> 标签：java, speech-recognition, sphinx4

我已经在 java 中成功实现了 sphinx4 语音识别。现在我只想将 sphinx 4 语音识别与现成的 .wave 文件一起使用。现在我只是说话，它根据 ma 语法识别单词.. 但是我怎么能把 .wave 文件作为输入，它已经识别出那个 .wave 文件播放的单词.. 请..你能帮帮我吗由此...

这是我使用麦克风识别的代码

我的 .java 文件

```
/*
 * Copyright 1999-2004 Carnegie Mellon University.
 * Portions Copyright 2004 Sun Microsystems, Inc.
 * Portions Copyright 2004 Mitsubishi Electric Research Laboratories.
 * All Rights Reserved.  Use is subject to license terms.
 *
 * See the file "license.terms" for information on usage and
 * redistribution of this file, and for a DISCLAIMER OF ALL
 * WARRANTIES.
 *
 */

package edu.cmu.sphinx.demo.helloworld;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.ButtonModel;
import javax.swing.JButton;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.Timer;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

import edu.cmu.sphinx.frontend.util.Microphone;
import edu.cmu.sphinx.recognizer.Recognizer;
import edu.cmu.sphinx.result.Result;
import edu.cmu.sphinx.util.props.ConfigurationManager;

/**
 * A simple HelloWorld demo showing a simple speech application built using Sphinx-4\. This application uses the Sphinx-4
 * endpointer, which automatically segments incoming audio into utterances and silences.
 */
public class HelloWorld {

    static Recognizer recognizer;

    public static void main(String[] args) {

        ConfigurationManager cm;

        if (args.length > 0) {
            cm = new ConfigurationManager(args[0]);
        } else {
            cm = new ConfigurationManager(HelloWorld.class.getResource("helloworld.config.xml"));
        }

       recognizer = (Recognizer) cm.lookup("recognizer");
        recognizer.allocate();

        // start the microphone or exit if the programm if this is not possible
        Microphone microphone = (Microphone) cm.lookup("microphone");
        if (!microphone.startRecording()) {
            System.out.println("Cannot start microphone.");
            recognizer.deallocate();
            System.exit(1);
        }

        System.out.println("Say: (Good morning | Hello) ( Bhiksha | Evandro | Paul | Philip | Rita | Will )");

        int timerDelay = 100;
        final Timer timer = new Timer(timerDelay , new ActionListener() {

           @Override
           public void actionPerformed(ActionEvent e) {
             // System.out.println("Button Pressed!");

              System.out.println("Start speaking..\n");

              Result result = recognizer.recognize();

              if (result != null) {
                  String resultText = result.getBestFinalResultNoFiller();
                  System.out.println("You said: " + resultText + '\n');
              } else {
                  System.out.println("I can't hear what you said.\n");
              }

           }
        });

        JButton button = new JButton("Press Me!");
        final ButtonModel bModel = button.getModel();
        bModel.addChangeListener(new ChangeListener() {

           @Override
           public void stateChanged(ChangeEvent cEvt) {
              if (bModel.isPressed() && !timer.isRunning()) {
                 timer.start();
                // System.out.println("Process under construction");

              } else if (!bModel.isPressed() && timer.isRunning()) {
                 timer.stop();
              }
           }
        });

        JPanel panel = new JPanel();
        panel.add(button);

        JOptionPane.showMessageDialog(null, panel);

    }

}

______here goes my config.xml file____________________

<?xml version="1.0" encoding="UTF-8"?>

<!--
   Sphinx-4 Configuration file
-->

<!-- ******************************************************** -->
<!--  an4 configuration file                             -->
<!-- ******************************************************** -->

<config>

    <!-- ******************************************************** -->
    <!-- frequently tuned properties                              -->
    <!-- ******************************************************** -->

    <property name="logLevel" value="WARNING"/>

    <property name="absoluteBeamWidth"  value="-1"/>
    <property name="relativeBeamWidth"  value="1E-80"/>
    <property name="wordInsertionProbability" value="1E-36"/>
    <property name="languageWeight"     value="8"/>

    <property name="frontend" value="epFrontEnd"/>
    <property name="recognizer" value="recognizer"/>
    <property name="showCreations" value="false"/>

    <!-- ******************************************************** -->
    <!-- word recognizer configuration                            -->
    <!-- ******************************************************** -->

    <component name="recognizer" type="edu.cmu.sphinx.recognizer.Recognizer">
        <property name="decoder" value="decoder"/>
        <propertylist name="monitors">
            <item>accuracyTracker </item>
            <item>speedTracker </item>
            <item>memoryTracker </item>
        </propertylist>
    </component>

    <!-- ******************************************************** -->
    <!-- The Decoder   configuration                              -->
    <!-- ******************************************************** -->

    <component name="decoder" type="edu.cmu.sphinx.decoder.Decoder">
        <property name="searchManager" value="searchManager"/>
    </component>

    <component name="searchManager"
        type="edu.cmu.sphinx.decoder.search.SimpleBreadthFirstSearchManager">
        <property name="logMath" value="logMath"/>
        <property name="linguist" value="flatLinguist"/>
        <property name="pruner" value="trivialPruner"/>
        <property name="scorer" value="threadedScorer"/>
        <property name="activeListFactory" value="activeList"/>
    </component>

    <component name="activeList"
             type="edu.cmu.sphinx.decoder.search.PartitionActiveListFactory">
        <property name="logMath" value="logMath"/>
        <property name="absoluteBeamWidth" value="${absoluteBeamWidth}"/>
        <property name="relativeBeamWidth" value="${relativeBeamWidth}"/>
    </component>

    <component name="trivialPruner"
                type="edu.cmu.sphinx.decoder.pruner.SimplePruner"/>

    <component name="threadedScorer"
                type="edu.cmu.sphinx.decoder.scorer.ThreadedAcousticScorer">
        <property name="frontend" value="${frontend}"/>
    </component>

    <!-- ******************************************************** -->
    <!-- The linguist  configuration                              -->
    <!-- ******************************************************** -->

    <component name="flatLinguist"
                type="edu.cmu.sphinx.linguist.flat.FlatLinguist">
        <property name="logMath" value="logMath"/>
        <property name="grammar" value="jsgfGrammar"/>
        <property name="acousticModel" value="wsj"/>
        <property name="wordInsertionProbability"
                value="${wordInsertionProbability}"/>
        <property name="languageWeight" value="${languageWeight}"/>
        <property name="unitManager" value="unitManager"/>
    </component>

    <!-- ******************************************************** -->
    <!-- The Grammar  configuration                               -->
    <!-- ******************************************************** -->

    <component name="jsgfGrammar" type="edu.cmu.sphinx.jsgf.JSGFGrammar">
        <property name="dictionary" value="dictionary"/>
        <property name="grammarLocation"
             value="resource:/edu/cmu/sphinx/demo/helloworld/"/>
        <property name="grammarName" value="hello"/>
    <property name="logMath" value="logMath"/>
    </component>

    <!-- ******************************************************** -->
    <!-- The Dictionary configuration                            -->
    <!-- ******************************************************** -->

    <component name="dictionary"
        type="edu.cmu.sphinx.linguist.dictionary.FastDictionary">
        <property name="dictionaryPath"
     value="resource:/WSJ_8gau_13dCep_16k_40mel_130Hz_6800Hz/dict/cmudict.0.6d"/>
        <property name="fillerPath"
     value="resource:/WSJ_8gau_13dCep_16k_40mel_130Hz_6800Hz/noisedict"/>
        <property name="addSilEndingPronunciation" value="false"/>
        <property name="allowMissingWords" value="false"/>
        <property name="unitManager" value="unitManager"/>
    </component>

    <!-- ******************************************************** -->
    <!-- The acoustic model configuration                         -->
    <!-- ******************************************************** -->
    <component name="wsj"
               type="edu.cmu.sphinx.linguist.acoustic.tiedstate.TiedStateAcousticModel">
        <property name="loader" value="wsjLoader"/>
        <property name="unitManager" value="unitManager"/>
    </component>

    <component name="wsjLoader" type="edu.cmu.sphinx.linguist.acoustic.tiedstate.Sphinx3Loader">
        <property name="logMath" value="logMath"/>
        <property name="unitManager" value="unitManager"/>
        <property name="location" value="resource:/WSJ_8gau_13dCep_16k_40mel_130Hz_6800Hz"/>
    </component>

    <!-- ******************************************************** -->
    <!-- The unit manager configuration                           -->
    <!-- ******************************************************** -->

    <component name="unitManager"
        type="edu.cmu.sphinx.linguist.acoustic.UnitManager"/>

    <!-- ******************************************************** -->
    <!-- The frontend configuration                               -->
    <!-- ******************************************************** -->

    <component name="frontEnd" type="edu.cmu.sphinx.frontend.FrontEnd">
        <propertylist name="pipeline">
            <item>microphone </item>
            <item>preemphasizer </item>
            <item>windower </item>
            <item>fft </item>
            <item>melFilterBank </item>
            <item>dct </item>
            <item>liveCMN </item>
            <item>featureExtraction </item>
        </propertylist>
    </component>

    <!-- ******************************************************** -->
    <!-- The live frontend configuration                          -->
    <!-- ******************************************************** -->
    <component name="epFrontEnd" type="edu.cmu.sphinx.frontend.FrontEnd">
        <propertylist name="pipeline">
            <item>microphone </item>
            <item>dataBlocker </item>
            <item>speechClassifier </item>
            <item>speechMarker </item>
            <item>nonSpeechDataFilter </item>
            <item>preemphasizer </item>
            <item>windower </item>
            <item>fft </item>
            <item>melFilterBank </item>
            <item>dct </item>
            <item>liveCMN </item>
            <item>featureExtraction </item>
        </propertylist>
    </component>

    <!-- ******************************************************** -->
    <!-- The frontend pipelines                                   -->
    <!-- ******************************************************** -->

    <component name="dataBlocker" type="edu.cmu.sphinx.frontend.DataBlocker">
        <!--<property name="blockSizeMs" value="10"/>-->
    </component>

    <component name="speechClassifier"
               type="edu.cmu.sphinx.frontend.endpoint.SpeechClassifier">
        <property name="threshold" value="13"/>
    </component>

    <component name="nonSpeechDataFilter"
               type="edu.cmu.sphinx.frontend.endpoint.NonSpeechDataFilter"/>

    <component name="speechMarker"
               type="edu.cmu.sphinx.frontend.endpoint.SpeechMarker" >
        <property name="speechTrailer" value="50"/>
    </component>

    <component name="preemphasizer"
               type="edu.cmu.sphinx.frontend.filter.Preemphasizer"/>

    <component name="windower"
               type="edu.cmu.sphinx.frontend.window.RaisedCosineWindower">
    </component>

    <component name="fft"
            type="edu.cmu.sphinx.frontend.transform.DiscreteFourierTransform">
    </component>

    <component name="melFilterBank"
        type="edu.cmu.sphinx.frontend.frequencywarp.MelFrequencyFilterBank">
    </component>

    <component name="dct"
            type="edu.cmu.sphinx.frontend.transform.DiscreteCosineTransform"/>

    <component name="liveCMN"
               type="edu.cmu.sphinx.frontend.feature.LiveCMN"/>

    <component name="featureExtraction"
               type="edu.cmu.sphinx.frontend.feature.DeltasFeatureExtractor"/>

    <component name="microphone"
               type="edu.cmu.sphinx.frontend.util.Microphone">
        <property name="closeBetweenUtterances" value="false"/>
    </component>

    <!-- ******************************************************* -->
    <!--  monitors                                               -->
    <!-- ******************************************************* -->

    <component name="accuracyTracker"
                type="edu.cmu.sphinx.instrumentation.BestPathAccuracyTracker">
        <property name="recognizer" value="${recognizer}"/>
        <property name="showAlignedResults" value="true"/>
        <property name="showRawResults" value="true"/>
    </component>

    <component name="memoryTracker"
                type="edu.cmu.sphinx.instrumentation.MemoryTracker">
        <property name="recognizer" value="${recognizer}"/>
    <property name="showSummary" value="false"/>
    <property name="showDetails" value="false"/>
    </component>

    <component name="speedTracker"
                type="edu.cmu.sphinx.instrumentation.SpeedTracker">
        <property name="recognizer" value="${recognizer}"/>
        <property name="frontend" value="${frontend}"/>
    <property name="showSummary" value="true"/>
    <property name="showDetails" value="false"/>
    </component>

    <!-- ******************************************************* -->
    <!--  Miscellaneous components                               -->
    <!-- ******************************************************* -->

    <component name="logMath" type="edu.cmu.sphinx.util.LogMath">
        <property name="logBase" value="1.0001"/>
        <property name="useAddTable" value="true"/>
    </component>

</config> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T12:29:22.693

完成!! 成功使用 sphinx4 的转录器类..

# php - 从数据库动态填充下拉列表

> ID：12242992
> 
> 赞同：0
> 
> 时间：2012-09-03T06:32:36.333
> 
> 标签：php, jquery, ajax, drop-down-menu

我正在寻找这样做：

我有两个字段 1\. 日期 - 使用 jquery datepicker 2\. DropDown - 填充学生 ID

所以，当我选择一个日期说 2012 年 3 月 9 日时，我应该得到当天存在的所有学生 ID（比如 15 个），然后当我将日期更改为 2012 年 4 月 9 日时，我应该得到唯一学生的 id那天在场（比如说 29 人）

我所做的是，我进行了 ajax 调用来查询数据库，例如：

```
$('#date_selected').blur(function(){
$.ajax({
//query database and get the array of student id present on that date
//but from jquery how do i know populate my dropdown ?
//i would probably get the results json encoded
});
}); 
```

获取数据没有问题，我只想知道如何使用我拥有的数组（json）填充下拉列表

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-03T06:41:46.357

在您的 ajax 成功函数中使用它：

```
data = $.parseJSON(data);

var select_fields = data.selectf;

var select_id = "/*ID OF SELECT FIELD*/";

$('#'+select_id+' option').remove();

for(var x  in select_fields){
    $('#'+select_id).append($('<option value="'+select_fields[x]['value']+'">'+select_fields[x]['name']+'</option>'));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-03T06:39:42.800

你可以使用 datepicker`onselect`方法

```
 $('#date_selected').datepicker({
    onSelect:function (selectedDate) {
       //make your jquery ajax post here
    }
   }); 
```

# security - 动态 dns 入口发现

> ID：12242996
> 
> 赞同：0
> 
> 时间：2012-09-03T06:32:51.403
> 
> 标签：security, networking, dns

黑客如何发现动态 dns 条目以及他们使用什么工具来收集这些信息？

几天前，我在 no-ip.org 注册了一个免费的 dns 入口，以便向需要在我的开发环境中调用它的第三方开放我的电子商务网站。一天之内，我看到访问我网站的 IP 地址不是来自该第三方。我想知道这个全新的 dns 条目是如何被发现的，而且如此之快。这些人中至少有一个人试图入侵该网站，并且确切地知道我正在使用的基本产品，一个开源电子商务系统，并试图访问管理区域，这让我很好奇这些黑客究竟是如何能够如此快速地提取此信息并准确了解我正在使用的产品。

目前，我已将来自第三方的 IP 地址列入白名单，但我想使用与这些黑客相同的逻辑从安全角度查看我的网站，并在我们投入生产时更好地防范它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T07:34:25.143

要对名称服务器中列出的新 IP 发出警报，需要对服务器上的区域文件具有特权访问权限，无论这些 IP 是通过手动编辑区域文件还是通过 DDNS 等自动化过程输入的。快速检查显示这些权限默认情况下未通过 no-ip 的标准机制启用。

```
> server nf5.no-ip.com
Default Server:  nf5.no-ip.com
Address:  83.222.240.75

> ls no-ip.com
[nf5.no-ip.com]
*** Can't list domain no-ip.com: Server failed
The DNS server refused to transfer the zone no-ip.com to your computer. If this
is incorrect, check the zone transfer security settings for no-ip.com on the DNS
server at IP address 83.222.240.75. 
```

他们确实[启用了按请求进行区域传输](http://support.no-ip.com/customer/portal/articles/352328-how-do-i-allow-zone-transfers-to-another-dns-server-)，我想这对黑客监视器来说是一件好事。新服务器具有最简单的漏洞。

但老实说，正如 Marc 所建议的那样，它很可能是随机 IP 命中。获取您的产品信息也不难。将服务器分类为新设备后，通常很容易识别服务平台。只需与服务器建立 TCP/IP 连接，通常会通过 IP 数据包中的数字序列和其他信息花絮中的细微差别揭示它运行的操作系统。它看起来像是有人在第一次连接时就知道你的服务器的一切。

# timeout - 在 SOAPUI 中创建超时场景

> ID：12242998
> 
> 赞同：23
> 
> 时间：2012-09-03T06:32:53.633
> 
> 标签：timeout, httpurlconnection, soapui

我正在做一个网络项目。我创建了一个 Http Url 连接。但为此，我必须测试超时 InterruptedIOException 的代码，它会在超时时执行，但即使将超时时间设置为 1 毫秒，我的案例也会成功执行。

如何从 SOAPUI 进行延迟，以便我可以成功超时？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-09-05T12:29:02.043

如果您想测试客户端对超时的反应，请在 SoapUI 中创建一个模拟服务，并让它在返回（通常是预先确定的）响应之前执行 OnRequest 脚本。该脚本可以很简单：

睡眠(60000)

这将使您在响应之前有 60 秒的延迟。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2016-02-24T15:12:03.073

在树中选择您的响应。然后在“MockResponse Properties”的底部寻找： ![寻找这个](../Images/fa8619bf005a14941e51226adfb29b28.png)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-08-16T07:55:17.780

如果您需要模拟 HTTP 连接引发的超时，那么最好使用脚本

```
mockRequest.getHttpResponse().sendError(408) 
```

这也会生成一个 html 响应。您可以设置任何您想要的 HTTP 代码状态。您可以将其放在“OnRequest 脚本”中，或者放在现有模拟响应的“脚本”中。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-06-25T14:27:28.420

使用响应消息的 HTTP STatus 属性将值设置为 408