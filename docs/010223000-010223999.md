# StackOverflow 问答 10223000-10223999

# python - Twisted 中的 EventListener 机制

> ID：10223003
> 
> 赞同：1
> 
> 时间：2012-04-19T06:53:43.147
> 
> 标签：python, design-patterns, twisted

我只是想听听关于在 twisted 中正确使用 EventListener/EventSubscription 提供程序的想法。大多数示例和扭曲的源代码通过特定方法以非常硬的耦合处理事件。这些事件的调度目标方法在特定的协议类中“硬编码”，然后继承类有责任覆盖这些方法以接收“事件”。当我们在创建协议时知道所有潜在的订阅者时，这是非常好的和透明的使用。然而，在较大的项目中，需要（也许我的思维方式错误）更动态的事件订阅和订阅删除：想想数百个生命周期为一分钟的对象都对同一事件感兴趣。根据“扭曲的方式”，实现这一目标的正确方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:43:17.200

Twisted 有一个包“twisted.words.xish.utility.EventDispatcher”，pydoc 就知道用法了，很简单。然而，我认为让 Twisted 强大的是它的“延迟”。您可以将 Deferred 对象视为相关事件的闭包（正常，失败），回调，回退是注册的观察者函数。Deferred 具有高级功能，例如可以嵌套。所以在我看来，你可以在 Twisted 中使用默认的 EventDispatcher，或者发明一些简单的新的。但是如果你在 Twisted 中引入一些复杂的机制，它注定会导致混乱和混乱。

# html - HTML5 中的标头

> ID：10223007
> 
> 赞同：2
> 
> 时间：2012-04-19T06:53:53.950
> 
> 标签：html, css, header

> **可能重复：**
> [<header> 与 <head>](https://stackoverflow.com/questions/3434950/header-vs-head)

我必须`<div class="header">`像`<header>`在 HTML5 中那样使用吗？有人解释了[<header> vs. <head>](https://stackoverflow.com/questions/3434950/header-vs-head)这样的一个问题。我有点困惑。谢谢你的帮助。我很感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-19T06:58:24.563

正如链接的问题所解释的：

```
 <head>
     <title>Your page | Your company</title>
     <meta name="keywords" value="blah blah"/>
     <link rel="stylesheet" href="css/style.css">
     <script></script>
   </head> 
```

在 HTML5 中仍然是一样的，用于存储元信息和链接脚本等。

页眉是一个新元素，用于对页或节的页眉进行语义分组。

包括詹姆斯西姆的信息：

> 从技术上讲，HTML5 中的元素代表一组介绍性或导航帮助。它不仅适用于给定的页面或文档。可以在切片元素中使用，例如 or too. 有关更多信息，请参阅 WHATWG

```
 <header>
     <h1>Your page heading</h1>
     <nav>
        <ul><li>Global Nav Item 1</li></ul>
     </nav>
   </header> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T06:57:15.187

您不需要使用 HTML5 中的任何新标签。如果你愿意，你可以使用它们。

`<header>`是标记站点标题部分的语义标签，而`<head>`元标签之类的地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T06:57:01.943

```
<head></head> 
```

是您的元信息、脚本、样式表等的去向。

和header有点像`<div class="header">`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:15:16.440

该`<head>`标签在 body 元素之外使用在这里你加载你的脚本和样式表，放置你的元数据和你的页面标题。

HTML5`<header>`标记用于在页面上显示标题。包含您的徽标或菜单。视网站而定。

这些是 2 个不同的标签，具有 2 个不同的含义

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T08:06:17.407

`<header>`, `<article>`, `<section>`, `<aside>`,等是 HTML5 中添加的标签`<mark>`，`<footer>`使您的代码更有意义`<div>`。

`<div>`基本上是用于除法，不清楚您的 DIV 中有什么内容。

`<header>` as it's name anyone can understand that it's contain content related to heading

same for article, section, aside, mark they all are tags contain content have to display to user.

`<head>` tag do not contain any information have to display on screen to user. It's for your meta tags, to add style sheets, title, keywords etc.

For more information in detail you can check [http://html5doctor.com/](http://html5doctor.com/) It's a excellent website to understand HTML5 in detail

# java - 在 Java 中将值重新定义为 FilenameFilter

> ID：10223009
> 
> 赞同：0
> 
> 时间：2012-04-19T06:53:56.077
> 
> 标签：java, io, filefilter

我在目录中存在格式`ddMMyyyyhhmmss`为（例如`190420120533481146Wj.jpeg`）的文件。我试图从这个目录中只选择最新的 10 个文件。

现在您可以看到，我正在使用`1904201212`当前日期的子字符串 ( ) 搜索文件名。

例如 ：

```
Actual Date :19042012121306
Subs value :190420121213 
```

正如您在下面的程序中看到的，我从当前日期分钟值开始搜索。如果当前日期分钟值没有任何文件，

*   我想将我的搜索重新定义为当前日期小时值，如果没有的话
*   如果找不到，我想进一步将其重新定义为当前日期值，
*   像这样将其重新定义为前几天。

* * *

```
public class Raa {

    public static void main(String args[])
    {
        File myDir = new File("C:\\");
        String res = new Raa().getTime();

        System.out.println(res);

        String substring = res.substring(0,12);
        System.out.println(substring);

        FilenameFilter select = new FileListFilter(substring);

        File[] contents = myDir.listFiles(select);

        for (File file : contents) {
        System.out.println(file.getName());
          }
         }

    public String getTime()
    {
        SimpleDateFormat sdf = new SimpleDateFormat("ddMMyyyyhhmmss");
        Date curDate = new Date();
        String strDate = sdf.format(curDate);
        return strDate;

    }
} 
```

我们如何以编程方式不断地重新定义搜索？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:49:28.940

获取文件列表的最佳方法是使用 File.listFiles() 并且文档指出不能保证返回文件的顺序。因此，您需要编写一个使用 File.lastModified() 的比较器，并将其与文件数组一起传递给 Arrays.sort()。

> 文件[] 文件 = 目录.listFiles();
> 
> Arrays.sort（文件，新比较器（）{
> 
> ```
> public int compare(File file1, File file2)
> {
>     return Long.valueOf(file1.lastModified()).compareTo(file2.lastModified());
> } 
> ```
> 
> });

获得文件列表后，只需获取数组中的前 10 个元素。

# php - PHP：加载网页，它使用动态ajax加载一些内容

> ID：10223010
> 
> 赞同：0
> 
> 时间：2012-04-19T06:53:58.123
> 
> 标签：php, ajax, curl

我目前正在使用 CURL 加载某些网页，然后解析它们。它工作正常，但其中一些开始使用 ajax 动态加载其中的一部分。结果，内容中缺少这些部分，由 curl_exec() 方法返回。

这是否可以加载全部内容，包括 php 中的动态/ajax 内容？也许有一些图书馆可以帮助我实现这一目标？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T06:56:26.560

在 PHP 中执行 JavaScript 没有简单的方法。

如果您只访问几个网站，请考虑硬编码/提取 ajax 调用的 url 并手动向这些 url 发送额外的请求。

# qt - 我可以在 QThread 中使用与 QAbstractTableModel 数据的交互吗？

> ID：10223012
> 
> 赞同：4
> 
> 时间：2012-04-19T06:54:02.117
> 
> 标签：qt, qt4, qthread, qabstractitemmodel, qabstracttablemodel

我知道我们不能在非 GUI 线程（`QThread`）中使用 GUI 交互。但我不知道我们是否可以或不能与`QAbstractItemModel`线程中的模型（）进行交互，如果为真，那么如何以正确的方式进行交互？

老实说，我在谷歌和 SO 上搜索了一些关于这个的东西，似乎我的问题没有相关的答案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-29T02:01:13.907

“与模型交互”是什么意思？如果您的意思是要通过直接操作从多个线程访问模型，那么您必须序列化对模型的访问。由于模型中有很多方法，我建议您不要在模型中添加互斥锁——这会非常乏味且容易出错，因为很容易忘记互斥锁储物柜。相反，使用您的模型继承 QObject 的事实，因此可以接受事件。

1.  您的 gui 线程直接访问模型。
2.  其他线程通过向模型发布事件（并且可能接收回复事件）与模型交互。
3.  gui 线程将使用任何其他访问顺序处理这些事件，从而保护您的模型免受并发访问。

其他线程当然可以接收来自模型的回复——也可以通过事件。您将有两个事件基类：一个`Request`用于从模型请求事物的类，然后是一个`Response`模型将用于回复的事件基类。Request 类应该有一个`QObject* sender`成员，以便模型知道要将回复事件发布到哪个 QObject。您可能希望请求和回复都带有相同的标识符（例如连续递增的 int），以便可以匹配请求和响应。

`QThread::run()`您必须通过事件而不是通过重新实现，而是在 QObject 中实现与模型交互的所有线程代码。实例化 后`QObject`，只需将其移至单独的线程即可。`run()`如果有任何事件、信号或计时器准备好，QThread 的默认实现将旋转一个事件循环以保持您的 QObject 执行。零持续时间计时器是一种保持线程永久忙碌的方法，但请确保不要一次性进行太多处理，否则会延迟传入事件的处理。

也可以使用信号和槽，但不能直接调用，只能：

1.  `connect()`给他们，
2.  `QMetaObject::invokeMethod`通过with调用它们`Qt::QueuedConnection`。
3.  通过在主线程上下文中执行的仿函数（比如 lambda）调用它们；请参阅[此答案](https://stackoverflow.com/a/21653558/1329652)以了解如何执行此操作。

在幕后，当您将信号连接到位于不同线程中的 QObject 的插槽时，Qt 会创建一个连接，将每个信号编组为 a `QMetaCallEvent`，然后在具有目标插槽的 QObject 所在的线程中将其解组。

# android - 如何从 GLONASS（全球导航卫星系统）连接和获取数据到 Android 设备

> ID：10223019
> 
> 赞同：1
> 
> 时间：2012-04-19T06:54:20.617
> 
> 标签：android, android-intent, android-ndk

我需要将数据从 GLONASS（全球导航卫星系统）连接到 Android 设备。与 GLONASS 通信的接口是通过 USB。

你有什么想法吗？请分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T20:54:34.063

这取决于 Android 设备和 GLONASS 设备。我想它是一个USB客户端。因此，您的 Android 设备必须是启用了 USB 主机模式的设备。

# c# - NHibernate Oracle XMLType 问题

> ID：10223023
> 
> 赞同：1
> 
> 时间：2012-04-19T06:54:41.157
> 
> 标签：c#, nhibernate, oracle10g

我们在 oracle 10g 数据库中有一个函数，它返回一个 XMLTYPE 值。我们正在尝试使用命令对象中的 ParameterDirection.ReturnValue 从函数中获取返回值。

但我们收到错误

System.Data.OracleClient.OracleException (0x80131938)：ORA-06550：第 1 行，第 27 列：PLS-00382：表达式类型错误 ORA-06550：第 1 行，第 7 列：PL/SQL：语句被忽略

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T14:07:11.223

自从我从事这个工作以来已经有一段时间了，目前我没有一个工作项目来验证这个问题，但是，我相信这会解决你的问题。

我如何解决这个问题是对 nHibernate 项目进行自定义构建。我用下面的编辑编辑了**OracleDataClientDriver.cs**文件。您应该注意，我刚刚下载了该文件的当前版本，并且在我进行修复后的过去 2 年中它略有变化。如果您从 nHibernate 存储库获取文件的当前版本，并使用我要粘贴的代码对文件进行区分，您将看到更改。我的更改在第 26、45、82-85 行（根据我的编辑）。

修复的主题是我必须添加从 nHibernate 映射文件类型到 Oracle Data Type for XML 的映射。Oracle 驱动程序将处理这种类型，但缺少在 nHibernate 中使用它的逻辑。以下是对此的修复。

开始粘贴-----

```
using System.Data;
using System.Reflection;
using NHibernate.AdoNet;
using NHibernate.Engine.Query;
using NHibernate.SqlTypes;
using NHibernate.Util;

namespace NHibernate.Driver
{
    /// <summary>
    /// A NHibernate Driver for using the Oracle.DataAccess DataProvider
    /// </summary>
    /// <remarks>
    /// Code was contributed by <a href="http://sourceforge.net/users/jemcalgary/">James Mills</a>
    /// on the NHibernate forums in this 
    /// <a href="http://sourceforge.net/forum/message.php?msg_id=2952662">post</a>.
    /// </remarks>
    public class OracleDataClientDriver : ReflectionBasedDriver, IEmbeddedBatcherFactoryProvider
    {
        private const string driverAssemblyName = "Oracle.DataAccess";
        private const string connectionTypeName = "Oracle.DataAccess.Client.OracleConnection";
        private const string commandTypeName = "Oracle.DataAccess.Client.OracleCommand";
        private static readonly SqlType GuidSqlType = new SqlType(DbType.Binary, 16);
        private readonly PropertyInfo oracleDbType;
        private readonly object oracleDbTypeRefCursor; 
        private readonly object oracleDbTypeXmlType;

        /// <summary>
        /// Initializes a new instance of <see cref="OracleDataClientDriver"/>.
        /// </summary>
        /// <exception cref="HibernateException">
        /// Thrown when the <c>Oracle.DataAccess</c> assembly can not be loaded.
        /// </exception>
        public OracleDataClientDriver()
            : base(
            driverAssemblyName,
            connectionTypeName,
            commandTypeName)
        {
            System.Type parameterType = ReflectHelper.TypeFromAssembly("Oracle.DataAccess.Client.OracleParameter", driverAssemblyName, false);
            oracleDbType = parameterType.GetProperty("OracleDbType");

            System.Type oracleDbTypeEnum = ReflectHelper.TypeFromAssembly("Oracle.DataAccess.Client.OracleDbType", driverAssemblyName, false);
            oracleDbTypeRefCursor = System.Enum.Parse(oracleDbTypeEnum, "RefCursor");
            oracleDbTypeXmlType = System.Enum.Parse(oracleDbTypeEnum, "XmlType");
        }

        /// <summary></summary>
        public override bool UseNamedPrefixInSql
        {
            get { return true; }
        }

        /// <summary></summary>
        public override bool UseNamedPrefixInParameter
        {
            get { return true; }
        }

        /// <summary></summary>
        public override string NamedPrefix
        {
            get { return ":"; }
        }

        /// <remarks>
        /// This adds logic to ensure that a DbType.Boolean parameter is not created since
        /// ODP.NET doesn't support it.
        /// </remarks>
        protected override void InitializeParameter(IDbDataParameter dbParam, string name, SqlType sqlType)
        {
            // if the parameter coming in contains a boolean then we need to convert it 
            // to another type since ODP.NET doesn't support DbType.Boolean
            switch (sqlType.DbType)
            {
                case DbType.Boolean:
                    base.InitializeParameter(dbParam, name, SqlTypeFactory.Int16);
                    break;
                case DbType.Guid:
                    base.InitializeParameter(dbParam, name, GuidSqlType);
                    break;
                case DbType.Xml:
                    dbParam.ParameterName = base.FormatNameForParameter(name);
                    oracleDbType.SetValue(dbParam, oracleDbTypeXmlType, null);
                    break;
                default:
                    base.InitializeParameter(dbParam, name, sqlType);
                    break;
            }
        }

        protected override void OnBeforePrepare(IDbCommand command)
        {
            base.OnBeforePrepare(command);

            CallableParser.Detail detail = CallableParser.Parse(command.CommandText);

            if (!detail.IsCallable)
                return;

            command.CommandType = CommandType.StoredProcedure;
            command.CommandText = detail.FunctionName;

            IDbDataParameter outCursor = command.CreateParameter();
            oracleDbType.SetValue(outCursor, oracleDbTypeRefCursor, null);

            outCursor.Direction = detail.HasReturn ? ParameterDirection.ReturnValue : ParameterDirection.Output;

            command.Parameters.Insert(0, outCursor);
        }

        #region IEmbeddedBatcherFactoryProvider Members

        System.Type IEmbeddedBatcherFactoryProvider.BatcherFactoryClass
        {
            get { return typeof (OracleDataClientBatchingBatcherFactory); }
        }

        #endregion
    } 
```

结束粘贴--------

# jsf-2 - 使用 primefaces 树加载数据库表

> ID：10223024
> 
> 赞同：0
> 
> 时间：2012-04-19T06:54:45.827
> 
> 标签：jsf-2, treeview, primefaces

我有一个包含 parentid、childid 列的数据库表。我想创建一个使用 primefaces 树加载表数据的 jsf 树视图。给出的例子是静态数据。有人可以帮忙吗。我很欣赏。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-03T19:17:10.047

XHTML

```
<h:form id="form">  

    <p:tree value="#{dynamicTreeBean.root}" var="node" dynamic="true" cache="true" id="tree">  
            <p:ajax event="expand" listener="#{dynamicTreeBean.onNodeExpand}" />  
        <p:treeNode>  
            <h:outputText value="#{node}"/>  
        </p:treeNode>  
    </p:tree>  

</h:form> 
```

爪哇

```
import java.util.Random;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

import org.primefaces.event.NodeExpandEvent;
import org.primefaces.model.DefaultTreeNode;
import org.primefaces.model.TreeNode;

@ManagedBean
@SessionScoped

public class DynamicTreeBean {  

    private TreeNode root;  

    public DynamicTreeBean() {  
        root = new DefaultTreeNode("Root", null);
        TreeNode dynamicTreeNode = new DefaultTreeNode("First", root);
      //<Add dummy node: This is to have + sign in node to be able to expand it in GUI>
        TreeNode node0 = new DefaultTreeNode("fake", dynamicTreeNode);
      //<Add dummy node>
    }  

    public TreeNode getRoot() {  
        return root;  
    }
    static Random random = new Random();
    public void onNodeExpand(NodeExpandEvent event) {  
        //<Remove dummy node>
        if(event.getTreeNode().getChildCount()==1){
            event.getTreeNode().getChildren().remove(0);
        }
        //</Remove dummy node>

        //<Generate some random children>
        int childrenCount = random.nextInt(9)+1;
        for(int i=0;i<childrenCount;i++){
            TreeNode tn = new DefaultTreeNode("-child-"+i, event.getTreeNode());

            //<Add dummy node>
            new DefaultTreeNode("fake", tn);
            //</Add dummy node>
        }
        //</Generate some random children>
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-23T15:41:43.437

You can create your dynamic treenodes by creating a class that extends "**DefaultTreeNode**" and overwrite DefaultTreeNode methods to fit your needs and to use your proper data.

Then you create your own nodes by **instantiating** your new class.

You have just to provide the **root node** in your bean (with its get method).

# javascript - javascript中的日期验证？

> ID：10223030
> 
> 赞同：0
> 
> 时间：2012-04-19T06:55:30.117
> 
> 标签：javascript, validation, date, calendar, popup

我在javascript中的日期验证有问题

问题是我有弹出日历返回一个日期值我想在将其发送到父页面之前检查 javascript 中的日期

在弹出的 calendar.aspx 中

```
function passDateValue(DateValue)
{
    window.returnValue=DateValue;
    window.close();
    return false;
} 
```

在弹出日历代码隐藏中

```
ClientScript.RegisterStartupScript(GetType(), "SelectDate", "passDateValue('" + clrPopUp.SelectedDate.ToShortDateString() + "')", true); 
```

调用弹出日历并检查返回值的函数

```
function Calendar_popup(tbClientID)
{  
   var today = new Date();

   var Day = today.getDate();

   var Month = today.getMonth()+1;

   var Year = today.getFullYear();

   if(Month<10){Month = '0'+Month;}

   if(Day<10){Day = '0'+Day;}

   var todayFormat = Day + "/" + Month + "/" + Year;

   datevalue = window.showModalDialog("Calendar_Dialog.aspx?ctlid=" +       tbClientID, '',"dialogHeight:250px;dialogWidth:300px;");

   var startdate = Date.parse(datevalue);

   var enddate = Date.parse(todayFormat);

   if (startdate>enddate)
   {alert('BirthDate Must be less than today');
   return;
   }
} 
```

反正有检查日期吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T06:59:46.357

查看[date.js](http://datejs.com)，特别是...

[http://code.google.com/p/datejs/wiki/APIDocumentation#compare](http://code.google.com/p/datejs/wiki/APIDocumentation#compare)

> 比较第一个日期和第二个日期并返回它们相对值的数字指示。-1 = 这是 < 日期。0 = 值相等。1 = 这是 > 日期。

和方法可能对您的问题有用[`isAfter()`](http://code.google.com/p/datejs/wiki/APIDocumentation#isAfter):)[`isBefore()`](http://code.google.com/p/datejs/wiki/APIDocumentation#isBefore)

在此处下载库：

[http://code.google.com/p/datejs/downloads/detail?name=date.js&can=2&q=](http://code.google.com/p/datejs/downloads/detail?name=date.js&can=2&q=)

# objective-c - 如何在 iOS 的编译时检查功能的引入？

> ID：10223032
> 
> 赞同：0
> 
> 时间：2012-04-19T06:55:33.777
> 
> 标签：objective-c, ios

如果我使用当前 SDK 版本不推荐使用的功能，编译器会发出警告。我正在寻找与之相反的功能。

如果我使用特定 SDK 版本中未定义的类或方法，编译器会发出警告。

我怎样才能获得这个功能？我尝试`__IPHONE_OS_VERSION_MAX_ALLOWED`通过将定义放在前缀标题上来定义，

```
#undef      __IPHONE_OS_VERSION_MAX_ALLOWED
#define     __IPHONE_OS_VERSION_MAX_ALLOWED         40000 
```

但即使在 SDK 本身中，它也会捕获任何版本不匹配。（如`UIKit`）

我正在使库代码需要向后兼容 iOS 4.0，并且我想要一些自动化的方法来检查向后兼容性。我知道功能可用性测试不会解决所有问题，但这会使工作变得容易得多。

如何使用编译器检查特定 SDK 版本的功能可用性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:42:26.523

我认为您需要在尝试使用 NSClassFromString 之前检查一个类（功能）。

```
Class myClass = NSClassFromString(@"CLassThatYouWantToUse"); //get the class object
if (myClass != nil)
    {
       // The device will support this class.. so carry on...
     }
else
      {
           // The device doesn't support this class.
       } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T06:59:00.873

这听起来像是一项工作`respondsToSelector`，您可以在其中检查选择器是否存在于您当前运行的操作系统中。

但是，如果您真的想使您的应用程序适应未来，您应该始终使用为您想要支持的最低操作系统版本定义的最新 API。

[这是一个有关“respondsToSelector”的相关问题，可能会对您有所帮助](https://stackoverflow.com/questions/3697058/when-to-use-respondstoselector-in-objective-c)。

# iphone - UIActivityIndi cator 未出现在 iOS 5 中

> ID：10223042
> 
> 赞同：0
> 
> 时间：2012-04-19T06:56:26.937
> 
> 标签：iphone, ipad, ios5, ios4, uiactivityindicatorview

我已经在我的应用程序中成功实现了活动指示器，在模拟器和设备上也能正常工作。最近我将设备的操作系统从 4 升级到了 5。因为我看不到之前出现的活动指示器。

我的模拟器只支持到 OS 4.2，它可以正确显示活动指示器。在设备上它没有显示可能是因为 OS 5。

我使用 IB 来创建活动指标。

谢谢， 吉特什

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T11:19:39.057

我猜该`hidesWhenStopped`属性设置为`YES`，并且活动指示器没有动画。

要么设置`hidesWhenStopped`为`NO`（一直显示），要么确保调用：

```
[self.activityIndicator startAnimating]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:13:17.020

只需检查样式属性，在某些情况下白色和灰色不起作用，就像在 ios 5 中，下面的样式对我来说是可行的。

```
activityStyle = UIActivityIndicatorViewStyleWhiteLarge; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T11:13:58.487

希望这会奏效---

```
UIActivityIndicatorView *activityIndicator; //declare it as globaly

   CGFloat width = 40;
    CGFloat height = 40;
    CGRect centeredFrame = CGRectMake(500, 150, width, height);
    activityIndicator = [[UIActivityIndicatorView alloc] initWithFrame:centeredFrame];
    activityIndicator.backgroundColor = [UIColor colorWithRed:0 green:0 blue:0 alpha:0.5];
    [self.view addSubview:activityIndicator]; 
```

# android - Javascript 在 Android 4.0 WebView 中不起作用

> ID：10223053
> 
> 赞同：0
> 
> 时间：2012-04-19T06:57:07.187
> 
> 标签：android, webview

我有一个包含`HTML`页面`CSS`、 和`JavaScript`. `javaScript`文件被放置到`assets`android应用程序的目录中。我必须`WebView`按照我的布局来呈现这些`HTML`文件。

该应用程序可以在其他版本的 Android 上完美运行，但不能在 Android 4.0 上运行。以下是 logcat 上打印的错误行：

`E/Web Console(23096): Uncaught ReferenceError: [function_name] is not defined at null:1`

有人能指出我正确的方向来解决这个问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:51:12.013

在 assets 文件夹中创建 www 目录并放置所有 HTML 页面、CSS 和 JavaScript 文件

super.loadUrl("file:///android_asset/www/index.html");

# parameters - 如何在水晶报表中将参数与数据库映射以仅显示所需数据

> ID：10223059
> 
> 赞同：0
> 
> 时间：2012-04-19T06:57:29.307
> 
> 标签：parameters, crystal-reports

我对在 Crystal Reports 中使用参数感到困惑

我已经映射了所需的表格和字段并设计了一个报告。并创建了 3 个参数：BranchCode、FromDate 和 ToDate

需要显示所选期间内 BranchCode 中的所有记录 (From & To date)

注意：所以我已经设计并将参数从代码传递到水晶报表。

**现在让我知道如何只显示与这些参数匹配的记录？**

***注意：***我没有使用查询。只需将表格中的必填字段添加到水晶报表中即可。

期待您的宝贵答复。问候，森萨。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T11:59:45.140

创建以下记录选择公式：

```
{table.branch_code} = {?BranchCode}
AND {table.date_field} IN {?FromDate} TO {?ToDate} 
```

# java - 将 xml 元素移动到 xml 文件中的新位置

> ID：10223063
> 
> 赞同：2
> 
> 时间：2012-04-19T06:58:03.033
> 
> 标签：java, xml, xml-parsing

我想将特定的 xml 元素移动到列表的顶部。

xml输入：

```
<?xml version="1.0" encoding="UTF-8"?>
<Values>       
    <Elem Value="1"/>    
    <Elem Value="2"/>
    <Elem Value="3"/>
</Values> 
```

期望的结果：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Values>       
    <Elem Value="2"/>
    <Elem Value="1"/>      
    <Elem Value="3"/>
</Values> 
```

这是我的代码：

```
String valueToFind = "2";

File mFile = new File("C:\\xml.xml");
DocumentBuilder builder;
try {
    builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();

    Document document = builder.parse(mFile);

    NodeList nodeList = document.getElementsByTagName("Elem");
    Element element = null;

    for (int i = 0; i < nodeList.getLength(); i++) {
    element = (Element) nodeList.item(i);
    String value = element.getAttribute("Value");

    if (valueToFind.equals(value))
        break;
        else
       element = null;
    }

    if (element != null) {
    document.getDocumentElement().removeChild(element);
    document.getDocumentElement().insertBefore(element, nodeList.item(0));
    }

    Source source = new DOMSource(document);
    Result result = new StreamResult(mFile.getPath());

    Transformer transformer = TransformerFactory.newInstance().newTransformer();
    transformer.setOutputProperty(OutputKeys.INDENT, "yes");
    transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "4");
    transformer.transform(source, result);
} 
```

但结果不正确：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Values>       
    <Elem Value="2"/>
    <Elem Value="1"/>    

    <Elem Value="3"/>
</Values> 
```

为什么我得到**空行**？！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:43:04.340

没有直接属性可以删除解析器中可用的空白节点或文本节点。因为解析器能够解析带有/不带有这些节点的 XML。但是，如果您仍然想这样做，那么由于 XML 规范具有属性 xml:space="preserve"，但它不适用于 Java 示例。这是删除这些节点的典型复杂方法。

[删除节点和空行](http://techxplorer.com/2010/05/24/deleting-nodes-and-empty-lines-in-xml-using-java/)

[堆栈溢出示例](https://stackoverflow.com/questions/978810/how-to-strip-whitespace-only-text-nodes-from-a-dom-before-serialization)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:02:18.010

原始 XML 文件包含带有空格的文本节点。您的代码仅删除 Elem 节点并将其插入列表顶部，但包含换行符的文本节点仍然存在。

# android - Android中的adb是什么？

> ID：10223065
> 
> 赞同：9
> 
> 时间：2012-04-19T06:58:13.013
> 
> 标签：android, eclipse, adb

当我尝试运行我的 Android 程序时出现以下错误。

请解释一下到底是什么`adb`，以及如何重新启动它？

我收到以下错误

```
The connection to adb is down, and a severe error has occured.
You must restart adb and Eclipse. 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-04-19T07:02:38.837

adb 是[Android 调试桥](http://developer.android.com/guide/developing/tools/adb.html)。

通过命令行重启 adb：

```
adb kill-server
adb start-server 
```

在 Eclipse 中重新启动 adb：

1.  窗口 > 显示视图 > 其他... > Android/设备
2.  显示视图时：“设备”的查看菜单 > 重置 adb

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-19T07:20:09.470

# [Android 调试桥](http://developer.android.com/guide/developing/tools/adb.html)

Android Debug Bridge (adb) 是一种多功能命令行工具，可让您与模拟器实例或连接的 Android 设备进行通信。它是一个客户端-服务器程序，包括三个组件：

*   一个客户端，在您的开发机器上运行。您可以通过发出 adb 命令从 shell 调用客户端。其他 Android 工具（例如 ADT 插件和 DDMS）也会创建 adb 客户端。
*   服务器，在您的开发机器上作为后台进程运行。服务器管理客户端和运行在模拟器或设备上的 adb 守护程序之间的通信。
*   一个守护进程，在每个模拟器或设备实例上作为后台进程运行。

**重启亚行**

```
adb kill-server && adb start-server 
```

通过使用上面的命令，这将重新启动 adb 服务器。而且，如果您使用`Eclipse`的是手段，请参见下图 -

![在此处输入图像描述](../Images/55ce5b217e741e31517abb4df7160c32.png)

在您的`DDMS`一个选项中，您可以像上图那样重新启动 adb。希望这对您有所帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-12-29T09:42:38.703

ADB 代表**Android 调试桥**。

Android Debug Bridge (adb) 是一种多功能命令行工具，可让您与模拟器实例或连接的 Android 设备进行通信。

![在此处输入图像描述](../Images/d914a4f49b347f4bf00348fba35d3f3c.png)

可以在[此处](http://opensourceforgeeks.blogspot.in/2013/12/android-debug-bridge-adb.html)找到详细信息。

至于重新启动 adb 服务器，您可以执行以下命令

```
adb kill-server
adb start-server 
```

至于 Eclipse，只需关闭 IDE 并重新启动/重新打开。事实上重启 Eclipse 也应该重启 adb 服务器。

PS：以上链接指向我的个人博客，其中包含有关亚行的更多详细信息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-31T16:45:45.877

我在 Eclipse 上看到了这个问题，它报告说我需要“从设备的视图中重置 adb”。adb kill&restart-server 序列对我不起作用，**但我只是在手机的“设置”->“开发者选项”中禁用然后重新启用“USB 调试”复选框就成功了**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-11-06T09:45:20.947

我也遇到了这个问题，我得到了这个错误**请确保 adb 位于“Users/semihozkoroglu/ADT/sdk/platform-tools/adb”并且可以执行**

单击设备下拉菜单-> 重置 adb，它的工作原理..

![截屏](../Images/8dd583c52228f31a10b8082be3417295.png)

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-04-19T07:04:46.703

ADB 是一个 Android 调试桥。

关注更多详情亚行

[http://www.addictivetips.com/mobile/what-is-adb-and-how-to-install-it-android/](http://www.addictivetips.com/mobile/what-is-adb-and-how-to-install-it-android/)

[http://developer.android.com/guide/developing/tools/adb.html](http://developer.android.com/guide/developing/tools/adb.html)

关闭并打开 Eclipse，Adb 会自动重启..！

谢谢..！

# ruby - 如何限制用户访问某些操作，并显示登录弹出窗口

> ID：10223074
> 
> 赞同：0
> 
> 时间：2012-04-19T06:58:35.780
> 
> 标签：ruby, ruby-on-rails-3, jquery

如何限制用户访问某些操作，并显示登录弹出窗口，并在成功登录后显示用户相同的操作页面而不是他的个人资料页面。请需要帮助的朋友。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:01:41.460

最简单的方法是使用权限检查 gem，例如 CanCan。您将能够为每个操作指定权限检查，并为每个用户角色指定全局权限等。

在这里阅读更多：[https ://github.com/ryanb/cancan](https://github.com/ryanb/cancan)

# java - 插入Hash Map数据结构JAVA

> ID：10223081
> 
> 赞同：0
> 
> 时间：2012-04-19T06:59:17.187
> 
> 标签：java, hashmap

我正在使用一个程序来读取文件中的关键字并根据频率对它们进行排序。我正在使用 Map 数据结构。但是我遇到了问题，即使我重复输入，它们的计数也不会增加。因此，如果一个词在文件中重复，它会存储在数据结构中的不同位置，而不是增加映射中前一个条目的值。请在下面找到我的代码。这就是我尝试过的。我还确保匹配是“”或“”，它没有存储在哈希图中，仍然被计算在内。

```
Pattern p = Pattern.compile("[a-zA-Z]*",Pattern.CASE_INSENSITIVE);
    Matcher m = p.matcher(handlerContent);
    while(m.find() ) //&& (m.group().length()>1)
    {
         boolean blnExists = keyword_counts.containsValue(m.group());
         if(blnExists==true)
         {
             if(m.group()!="" || m.group()!=" ")
             {
                 System.out.println("Repeat");
                 keyword_counts.put(m.group(), keyword_counts.get(m.group()+1));
                 System.out.println(m.group()+" "+keyword_counts.get(m.group()) );
             }
         }
         else
         {
             if(m.group()!="" || m.group()!=" ")
             {
                 keyword_counts.put(m.group(), 1);
                 System.out.println(m.group()+" "+keyword_counts.get(m.group()) );
             }
         }                  
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:01:57.183

您的测试可能应该是：

```
 keyword_counts.containsKey(m.group()); 
```

而且您应该使用`equals`比较字符串而不是`==`or`!=`但这不是您的问题的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:02:09.900

在 Java 中，“=”不应该与字符串一起使用。改用“等于”方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:04:35.600

在您的声明中，`boolean blnExists = keyword_counts.containsValue(m.group());` 您检查的是值而不是键。

试试这个：

```
boolean blnExists = keyword_counts.containsKey(m.group()); 
```

并使用`if(m.group() != null && !"".equals(m.group().trim()))`而不是

```
if(m.group()!="" || m.group()!=" ") 
```

# android - SecurityException：权限拒绝：开始意图

> ID：10223089
> 
> 赞同：3
> 
> 时间：2012-04-19T06:59:35.367
> 
> 标签：android

我已经发布了主要任务是将意图转发到其他应用程序的应用程序。一些用户在向 google+ 应用发送任何内容时开始出现奇怪的错误：

```
 java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.SEND typ=image/jpeg flg=0x3000000 cmp=com.google.android.apps.plus/.phone.PostActivity (has extras) } from ProcessRecord{409b7828 14815:com.andmadesoft.share/10128} (pid=14815, uid=10128) requires null
at android.os.Parcel.readException(Parcel.java:1322)
at android.os.Parcel.readException(Parcel.java:1276)
at android.app.ActivityManagerProxy.startActivity(ActivityManagerNative.java:1351)
at android.app.Instrumentation.execStartActivity(Instrumentation.java:1374)
at android.app.Activity.startActivityForResult(Activity.java:2833)
at android.app.Activity.startActivity(Activity.java:2959)
at com.andmadesoft.share.intents.iri.OrdinaryIntentInfo.sendIntent(OrdinaryIntentInfo.java:42)
at com.andmadesoft.share.ShareIntentResolver.resolveIntent(ShareIntentResolver.java:132)
at com.andmadesoft.share.ShareIntentResolver.sendchecked(ShareIntentResolver.java:105)
at com.andmadesoft.share.ShareIntentResolver.access$3(ShareIntentResolver.java:99)
at com.andmadesoft.share.ShareIntentResolver$4.onClick(ShareIntentResolver.java:86)
at android.view.View.performClick(View.java:2538)
at android.view.View$PerformClick.run(View.java:9152)
at android.os.Handler.handleCallback(Handler.java:587)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3691)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
at dalvik.system.NativeStart.main(Native Method) 
```

我无法在我的任何测试手机上重现该错误。希望任何人都可以帮助我解决这个错误。

在 ShareIntentResolver 活动中发送代码部分：

```
...
Context cont;

protected void onCreate(Bundle savedInstanceState, CharSequence title, Intent target, ArrayList<Intent> extraIntents) {
        super.onCreate(savedInstanceState);
        cont = this;
...

private void resolveIntent(IntentInfo ii){
        ii.sendIntent(cont);  // error is got here
} 
```

IntentInfo 类：

```
public void sendIntent(Context context) {
        context.startActivity(intent); //intent is just any intent that I am forwarding
} 
```

# c - C中指针和整数的比较

> ID：10223095
> 
> 赞同：9
> 
> 时间：2012-04-19T07:00:03.223
> 
> 标签：c, pointers

我有一个关于 C 语言程序的愚蠢问题。我的编译器告诉我： *警告：指针和整数之间的比较*。我真的不知道为什么。我只想在屏幕上写下每个字符。

我的代码：

```
int i = 0;
char str[50] = {'s', 'a', 'm', 'p','l','e'}; //only for test
while (str[i] != NULL) {
    putchar(str[i]);
    i++;
} 
```

你能帮我吗？我在互联网上没有找到任何有用的答案。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-19T07:04:28.603

`NULL`是一个指针，`str[i]`是 str 数组的第 i 个字符。char 是整数类型，当您比较它们时，您会收到警告。

我猜你想检查字符串的结尾，你会检查值为 0（字符串结尾）的字符，即`'\0'`.

但是：这对您没有帮助，因为您将它定义为字符数组而不是字符串，并且您没有在字符数组中定义终止 0（您很幸运，它是隐含的）。

PS：下次您应该至少提供编译器抱怨的信息。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-04-19T07:02:25.717

NULL 只应在指针上下文中使用，但在这里您将其与字符进行比较。

你通常想要这样的东西：

```
while (str[i] != '\0') { 
```

[或者，当然，类似`puts(str);`or `printf("%s", str);`]

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-19T07:02:30.617

您需要将 str[i] 的值与字符串的终止 '\0' 进行比较，而不是 NULL，后者被视为指针。您的

`while (str[i] != NULL ) {`

变成

`while (str[i] != '\0') {`

以下：

```
int i = 0;
char str[50] = {'s', 'a', 'm', 'p','l','e'}; //only for test
while (str[i] != '\0') {
    putchar(str[i]);
    i++;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-04-07T02:10:33.070

该代码的最大问题是，根据您的实现，它可能编译时不会出错。

正如其他人所说，问题在于`NULL`它旨在表示空*指针*值，而不是空*字符*值。用于`'\0'`表示空字符。（或者您可以使用`0`，它是等效的，但`'\0'`更清楚地表达了意图。）

`NULL`是一个扩展为实现定义的*空指针常量*的宏。空指针常量可以是具有值的整数常量表达式，也可以是强制`0`转换为 的表达式`void*`。这意味着`NULL`可以将其定义为`0`或定义为`((void*)0)`（以及其他变体）。

显然，您的实现将其定义为类似`((void*)0)`，这就是您收到警告消息的原因。（它可以而且恕我直言应该被视为致命错误）。

因此，切勿尝试将其`NULL`用作空指针常量——并且不要指望编译器会在您滥用它时警告您。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-19T07:07:11.213

`str[i]`是一个字符。`NULL`是一个指针。您无法有意义地比较这两种数据类型（尽管它们可能会或可能不会在内部实现为相同大小的整数）。这就是错误消息的全部含义。

并不是说比较不仅类型不正确，而且也不符合您的意思。您似乎假设具有不完整初始化程序的字符数组将自动以 \0 字符终止，但该规则适用于字符串文字，而不适用于您自己创建的字符数组。实际上，您正在调用未定义的行为。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T07:03:32.953

`NULL`被定义为指针类型，通常是`(void*)0`. 这意味着它不应与字符（单独使用时被提升为整数）进行比较。问题出在以下几点：`str[i] != NULL`. 正确的做法是将其与相同类型的东西进行比较，在这种情况下，您正在寻找空字符`'\0'`.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-19T08:01:35.033

这里 str[i] 是一个字符，NULL 是一个指针，所以我们不能在逻辑上比较它。使用 '\0' 与 str[i] 进行比较，因为它被定义为空字符，因此将字符 str[i] 与空字符 '\0' 进行比较是正确的方法，不会通过任何警告。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-04-19T07:02:53.327

请像这样写你的代码

```
int i = 0; 
char str[50] = {'s', 'a', 'm', 'p','l','e'}; //only for test 
while (str[i] != "\0") { 
putchar(str[i]); 
i++; 
} 
```

# tomcat - Tomcat maxThreads 更改不会“捕获”

> ID：10223098
> 
> 赞同：0
> 
> 时间：2012-04-19T07:00:16.777
> 
> 标签：tomcat

我的 server.xml 文件中有两个连接器：

```
<Connector protocol="HTTP/1.1" maxThreads="1" connectionTimeout="20000" redirectPort="8443" disableUploadTimeout="true" port="29171" />
<Connector protocol="AJP/1.3" maxThreads="1" redirectPort="8443" port="29172" /> 
```

我添加了 maxThreads="1" 但似乎我仍然可以获得多个请求。我还尝试设置一个垃圾值（一个字符串），但该服务仍会加载和处理请求。

我在这里做错了什么？

谢谢

**编辑：附加线程转储**

```
2012-04-22 09:31:41 Commons Daemon procrun stdout initialized
The following NLogHandler level was read - WARNING
log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).
log4j:WARN Please initialize the log4j system properly.

2012-04-22 10:51:57 Commons Daemon procrun stdout initialized

2012-04-22 10:52:03 Commons Daemon procrun stdout initialized
The following NLogHandler level was read - WARNING
log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).
log4j:WARN Please initialize the log4j system properly.

2012-04-22 10:53:41 Commons Daemon procrun stdout initialized

2012-04-22 10:53:46 Commons Daemon procrun stdout initialized

2012-04-22 10:54:03 Commons Daemon procrun stdout initialized
The following NLogHandler level was read - WARNING
log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).
log4j:WARN Please initialize the log4j system properly.

2012-04-22 11:11:25 Commons Daemon procrun stdout initialized
The following NLogHandler level was read - WARNING
log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).
log4j:WARN Please initialize the log4j system properly.
2012-04-22 11:11:29
Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.2-b06 mixed mode):

"Low Memory Detector" daemon prio=6 tid=0x0000000004ecb000 nid=0x34f4 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread1" daemon prio=10 tid=0x0000000004eb3000 nid=0x3348 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread0" daemon prio=10 tid=0x0000000000428800 nid=0x25c4 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Attach Listener" daemon prio=10 tid=0x0000000000426000 nid=0x3934 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon prio=10 tid=0x0000000000425000 nid=0x38b8 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

"Finalizer" daemon prio=8 tid=0x0000000000412000 nid=0x12e8 in Object.wait() [0x0000000004e5f000]
   java.lang.Thread.State: WAITING (on object monitor)
    at java.lang.Object.wait(Native Method)
    - waiting on <0x00000000e0c01300> (a java.lang.ref.ReferenceQueue$Lock)
    at java.lang.ref.ReferenceQueue.remove(Unknown Source)
    - locked <0x00000000e0c01300> (a java.lang.ref.ReferenceQueue$Lock)
    at java.lang.ref.ReferenceQueue.remove(Unknown Source)
    at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

"Reference Handler" daemon prio=10 tid=0x0000000000409000 nid=0x6a8 in Object.wait() [0x0000000004d5f000]
   java.lang.Thread.State: WAITING (on object monitor)
    at java.lang.Object.wait(Native Method)
    - waiting on <0x00000000e0c011d8> (a java.lang.ref.Reference$Lock)
    at java.lang.Object.wait(Object.java:485)
    at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
    - locked <0x00000000e0c011d8> (a java.lang.ref.Reference$Lock)

"main" prio=6 tid=0x00000000001dc800 nid=0x3890 runnable [0x000000000101d000]
   java.lang.Thread.State: RUNNABLE
    at speechcat.externalinterfacecomm.MdalAccess.mdalInit(Native Method)
    at speechcat.externalinterfacecomm.ExternalInterfaceHandler.connect(ExternalInterfaceHandler.java:65)
    at speechcat.QueryEngine.load(QueryEngine.java:621)
    at speechcat.SpeechCat.loadSpeechCat(SpeechCat.java:4295)
    at localhost.axis.services.SpeechCat.SpeechCatSoapBindingImpl.init(SpeechCatSoapBindingImpl.java:48)
    - locked <0x000000009de54248> (a java.lang.Class for localhost.axis.services.SpeechCat.SpeechCatSoapBindingImpl)
    - locked <0x000000009de54248> (a java.lang.Class for localhost.axis.services.SpeechCat.SpeechCatSoapBindingImpl)
    at localhost.axis.services.SpeechCat.SpeechCatSoapBindingImpl.<clinit>(SpeechCatSoapBindingImpl.java:19)
    at localhost.axis.services.SpeechCat.SpeechCatWSConfig.contextInitialized(SpeechCatWSConfig.java:29)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)
    - locked <0x00000000e18152d0> (a org.apache.catalina.core.StandardContext)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)
    - locked <0x00000000e15e4c50> (a java.util.HashMap)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)
    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    - locked <0x00000000e15e4ba8> (a org.apache.catalina.core.StandardHost)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    - locked <0x00000000e15e4ba8> (a org.apache.catalina.core.StandardHost)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    - locked <0x00000000e1551a58> (a org.apache.catalina.core.StandardEngine)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    - locked <0x00000000e1551a58> (a org.apache.catalina.core.StandardEngine)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    - locked <0x00000000e1617c78> (a [Lorg.apache.catalina.Service;)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)

"VM Thread" prio=10 tid=0x0000000000401800 nid=0x1ce4 runnable 

"GC task thread#0 (ParallelGC)" prio=6 tid=0x0000000000360800 nid=0x660 runnable 

"GC task thread#1 (ParallelGC)" prio=6 tid=0x0000000000362800 nid=0x3af8 runnable 

"VM Periodic Task Thread" prio=10 tid=0x0000000004edc000 nid=0x3818 waiting on condition 

JNI global references: 1190

Heap
 PSYoungGen      total 448000K, used 46336K [0x00000000e0c00000, 0x0000000100000000, 0x0000000100000000)
  eden space 384000K, 12% used [0x00000000e0c00000,0x00000000e39402e8,0x00000000f8300000)
  from space 64000K, 0% used [0x00000000fc180000,0x00000000fc180000,0x0000000100000000)
  to   space 64000K, 0% used [0x00000000f8300000,0x00000000f8300000,0x00000000fc180000)
 PSOldGen        total 1024000K, used 0K [0x00000000a2400000, 0x00000000e0c00000, 0x00000000e0c00000)
  object space 1024000K, 0% used [0x00000000a2400000,0x00000000a2400000,0x00000000e0c00000)
 PSPermGen       total 21248K, used 17124K [0x000000009d200000, 0x000000009e6c0000, 0x00000000a2400000)
  object space 21248K, 80% used [0x000000009d200000,0x000000009e2b91d8,0x000000009e6c0000) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-04T05:33:00.643

除了 maxThreads 参数，还有 acceptCount 是排队请求的大小。我认为默认值为 100。您可能需要将其设置为 1 或 0。但是您究竟想在这里做什么/实现什么？

# android - 为未接来电发送短信

> ID：10223100
> 
> 赞同：0
> 
> 时间：2012-04-19T07:00:35.397
> 
> 标签：android

我想开发一个应用程序，在收到未接来电时发送消息。但是当我开始向以前的人发送短信的活动时，我遇到了问题如何解决这个问题，我有一个小想法那个特定的未接电话被读取或删除，否则我的应用程序必须在特定的时间段内访问未接的未接电话尝试{

```
 cursor = getContentResolver().query(
                Uri.parse("content://call_log/calls"),
                projection,
                selection,
                selectionArgs,
                sortOrder);
       // cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.MISSED_TYPE));
        while (cursor.moveToNext()) { 
            String callLogID = cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls._ID));
            String callNumber = cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.NUMBER));
            String callDate = cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.DATE));
            String callType = cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.TYPE));
            String isCallNew = cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.NEW));
            //String missedcall= cursor.getString(cursor.getColumnIndex(android.provider.CallLog.Calls.MISSED_TYPE));
            /*if(Integer.parseInt(callType) == android.provider.CallLog.Calls.MISSED_TYPE && Integer.parseInt(isCallNew) > 0){
               tv.append("hai");
                //if (_debug) Log.v("Missed Call Found: " + callNumber);
            }*/

            if(cursor.getString(cursor.getColumnIndexOrThrow(android.provider.CallLog.Calls.TYPE)).equalsIgnoreCase("3") && Integer.parseInt(isCallNew)>0)
            {
                tv.append("ok"+callNumber+"\n");
                sm.sendTextMessage(callNumber, null, " iam in work i will call you later", null, null);
            }
        }
    }catch(Exception ex){
        //if (_debug) Log.e("ERROR: " + ex.toString()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:20:38.233

我想你应该制作一个像这样监听电话状态的广播接收器：

[android中未接来电的广播接收器](https://stackoverflow.com/questions/3665183/broadcast-receiver-for-missed-call-in-android)

# html - 拥有 CSS 100% 高度 div 的最常见错误是什么？

> ID：10223113
> 
> 赞同：3
> 
> 时间：2012-04-19T07:01:56.827
> 
> 标签：html, css

好吧，

我将尝试解释我正在发生的事情。如果您需要更多信息，请与我们联系。

基本上，我有一个 div 容器，我将它的样式设置为`height:100%;`它会 100%，但对于当前的浏览器/窗口大小，它只会是 100%。

例如：如果我最大化浏览器，容器将执行 100%，但如果我向下滚动，该容器的高度只会与浏览器高度一样多。

另一个例子：如果我将浏览器最小化到某个大小并刷新页面，容器将再次 100% 变为仅窗口大小。因此，如果我最大化浏览器，高度容器仍将与浏览器最小化时的高度相同。

因此，如果我有一个长页面，容器不会一直到页面，容器只会在页面加载时达到窗口的高度大小。

我试图让容器一直 100% 移动到页面底部，即使我有页脚或页眉，容器也应该 100% 介于两者之间。

所以我会尝试发布最相关的代码：

```
body,html
{
   display:block;
   position:relative;
}
#container_100percent
{
   overflow-x:hidden;
   position:relative;
   overflow-y:auto;
   width:20%;
   min-height:100%;
   height:100%;
   float:right;
}

<div>
  <div id="container_100percent">
     <!-- some stuff !-->
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:13:52.620

100%的身高是他父母的身高。

这意味着：如果父 div-container 没有高度，高度也将设置为 100%，body 也是如此。这就是为什么您的 div 具有窗口高度的原因。

所以你需要给你的 div 包装器一个高度，内部 div 将采用这个高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:19:50.547

如果您希望容器与其内容一样高，请不要设置该`height`属性。就这么简单。

If, however, you want it to have a minimum height (i.e. you never want to let it be less high than the window) set the `min-height` property.

# c# - InsertAllOnSubmit 只插入一项

> ID：10223115
> 
> 赞同：0
> 
> 时间：2012-04-19T07:02:04.957
> 
> 标签：c#, linq-to-sql

我正在尝试使用 InsertAllOnSubmit 进行多次插入，但只有 1 个项目被插入到表中。我认为发生这种情况的唯一原因是与主键字段的生成有关，我目前允许代码自动生成该字段，但似乎并没有这样做。有人可以帮忙吗？

```
List<rewardsClaimed> lstRewardsClaimed = new List<rewardsClaimed>();

for (int i = 0; i < ticket.delivery.quantity; i++)
{
    rewardsClaimed claim = result;
    lstRewardsClaimed.Add(claim);
}
dc.rewardsClaimeds.InsertAllOnSubmit(lstRewardsClaimed);
dc.SubmitChanges(); 
```

编辑 ：

我发现问题出在哪里...... ID 字段默认设置为 0，因此当插入完成时，由于所有行都具有相同的 ID，因此它们被视为 1 行。我将如何防止这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T14:11:12.840

问题是 List 和 Table 的行为完全不同。

A`List<T>`允许您在不检查引用的情况下多次添加同一个实例，换句话说，在您的列表中，您对同一个对象有多个引用。

`Table<T>`另一方面，当你打电话时`InsertAllOnsubmit`方法时，会检查集合中的每个项目以查看其是否已经“标记”要插入到表中。如果对象已经“标记”，则跳过它。

您的代码发生的情况是您正在传递对同一对象进行 n 次引用的声明列表。当传递给`Table<T>`第一次出现时被标记为插入。由于列表中的其他项目是同一个对象，它们已经被标记为插入。

希望这可以澄清。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:28:17.663

每个人都要求创建 RewardsClaimed 类的新实例。但我认为这不是正确的原因。因此，我尝试了以下示例代码，发现列表中添加了 5 个不同的实例。

**第 1 部分：显示可以在不创建新实例的情况下将同一项目添加到本地列表**（这不是答案）

**代码：** ![在此处输入图像描述](../Images/734332315ff3fff9805591b1017dc42d.png)

**结果：**

![在此处输入图像描述](../Images/06c59f3206d02a8054f81cc234890384.png)

**第 2 部分：创建新的主键将是解决方案。**（这是问题和解决方案。）

我建议，请检查您的 PrimaryID 列中的**数据是否重复。**我的意思是，如果您的主键不是自动生成的，而是您手动生成的，那么它很可能会获得 n 次具有相同主键的行。如果它被重复，那么它只会插入它的单个实例。

**编辑：如何自动生成字段值**

如果您想自动生成主键，[请参阅此](https://stackoverflow.com/questions/4862385/sql-server-add-auto-increment-primary-key-to-existing-table)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:09:13.943

```
List<rewardsClaimed> lstRewardsClaimed = new List<rewardsClaimed>();

for (int i = 0; i < ticket.delivery.quantity; i++)
{
    rewardsClaimed claim = new rewardsClaimed();
    claim.property = result.property; // do this foreach property except id field
    lstRewardsClaimed.Add(claim);
}

dc.rewardsClaimeds.InsertAllOnSubmit(lstRewardsClaimed);

dc.SubmitChanges(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:06:15.690

您没有创建新的声明实例。

```
rewardsClaimed claim = new rewardsClaimed(); 
```

# javascript - Javascript 无法正确运行

> ID：10223129
> 
> 赞同：0
> 
> 时间：2012-04-19T07:02:33.220
> 
> 标签：javascript

[http://jsfiddle.net/NCt4D/](http://jsfiddle.net/NCt4D/)

我希望它移动（图像很大），但它不起作用。

Firebug 说参考 scrollDivDown 没有定义，但它在那里？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:05:33.653

[这是 JS 小提琴](http://jsfiddle.net/NCt4D/5/)。

在“Choose framework”下，选择“no wrap (body)”。这会在内容末尾打印您的代码，而不是包装在函数中。这是您通常/理想情况下对脚本执行的操作，即在内容之后但在正文关闭之前加载它们。

就像@jcomeau_ictx 所说的那样，事件处理程序不需要`()`. 它们只需要您要执行的函数的名称（技术上是引用）。此外，如果您想在加载时执行更多功能，而不仅仅是`scrollDivDown`，您可以执行以下操作：

```
window.onload = function(){
    scrollDivDown();
    foo();
    bar();
    baz();
} 
```

此外，在.之前添加处理程序的主题（在本例中为`window`）`onload`尽管主题隐含`window`在全局范围内，但只需将其添加到前面以避免混淆。这样做也是最佳实践。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T07:06:01.603

[http://jsfiddle.net/NCt4D/1/](http://jsfiddle.net/NCt4D/1/)

`scrollDivDown`位于闭包内，因此在执行超时的全局范围内无法访问。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-19T07:06:07.587

```
window.onload = scrollDivDown;  // do not append () 
```

# javascript - 如何使用 javascript 查找 Chrome 警告消息框

> ID：10223130
> 
> 赞同：0
> 
> 时间：2012-04-19T07:02:36.047
> 
> 标签：javascript, jquery, google-chrome, chromium, dom

我正在设计一个使用客户端 Java 作为加载器的站点。在 chrome 中加载我的页面时，它会询问用户许可。那时我想在我的页面上显示一条自定义错误消息。所以我的问题是“是否可以使用 JavaScript / jQuery / 任何其他机制找到这些类型警告？？”

![chrome中的警告信息](../Images/88a18f20f1ff2f078646dda23da887d2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:10:38.710

您可以通过键入来检查这一点`navigator.javaEnabled()`。有关更多信息，请阅读[此链接](http://javatester.org/enabled.html)

# vhdl - 在 VHDL 中，什么时候使用 Process 语句合适？

> ID：10223134
> 
> 赞同：2
> 
> 时间：2012-04-19T07:02:52.377
> 
> 标签：vhdl, hdl

我正在经历第二次或第三次学习 VHDL 的阶段。（这次配备了一本非常好且免费[的电子书](http://www.freerangefactory.org/)），我终于开始“获得”相当多的内容了。现在我正在学习行为风格和过程陈述，其中大部分是有道理的。但是，我在许多地方读到过，除了某些情况外，应避免使用流程。我的意思是，理论上不能一切都在数据流而不是行为中实现吗？

什么时候应该明确应该使用流程声明？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T15:59:02.093

流程声明非常有用，在什么情况下您被告知不要使用它们？

在许多不同的情况下您会使用流程声明，我将在下面概述其中的一些：

process 语句（用于综合）的最常见用法之一是描述与时钟信号同步的逻辑，例如，一个简单的计数器在不复位时每个时钟周期递增，可以描述为：

```
DATA_REGISTER : process(CLOCK)
begin
  if rising_edge(CLOCK) then
    if RESET = '1' then
      COUNTER <= (others => '0');
    else
      COUNTER <= COUNTER + 1; --COUNTER is assumed to be of type 'unsigned'
    end if;
  end if;
end process; 
```

随着您的设计变得越来越复杂，您将不可避免地在某些时候实现状态机，这将使用一个或多个进程，具体取决于您选择实现的状态机的风格。

对于行为代码，您可以将进程与等待语句结合使用来生成测试向量或模拟真实系统的行为。这是一个非常基本的 100MHz 时钟发生器示例，取自我的一个测试台：

```
architecture BEH of ethernet_receive_tb is  
  signal  s_clock : std_logic := '0'; --Initial assignment to clock kicks off the process.
begin
  CLOCKGEN : process(s_clock)
  begin
    s_clock <= not s_clock after 5 NS;
  end process CLOCKGEN;

... 
```

您还可以使用进程描述异步逻辑，在这种情况下，您需要将进程中读取的所有信号包含在敏感度列表中，并且您需要确保始终定义任何输出以避免推断锁存器。

```
IF_ELSE: process (SEL, A, B)
begin
  F <= B; -- Default assignment
  if SEL = '1' then
    F <= A;
  end if;
end process; 
```

希望您可以看到流程语句非常有用，并且您将在许多不同的情况下使用它。我希望这回答了你的问题！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-19T17:58:11.977

流程块是您的朋友。

他们提供了一种说法“这段代码是相关的。它的输入是 X、Y、Z，它驱动 A、B、C”。输入由敏感度列表记录（除非它是一个计时过程，在这种情况下它应该在您的评论中）。如果有其他任何东西驱动相同的信号，那么您将在模拟中收到警告、错误、X（取决于您的工具）。无论你得到什么，都很明显。

就个人而言，我很乐意在一个实体中编写多个流程，但每个人都有自己的风格。例如，如果我有多个管道阶段，则每个阶段都是一个过程。如果我有并行的非干扰路径，每个路径都将在一个单独的进程中。通过这种方式，代码被构造成小的、易于阅读的块。小的简单逻辑综合成小的快速块（通常）。

您可以将我的风格视为将它们用作轻量级实体。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-19T15:55:14.420

在可综合代码中，只要您*需要*将信息从一个时钟周期保存到另一个时钟周期，就需要处理。行话中的“存储状态”。

（请注意，一个过程可以由代码暗示，例如

```
d <= q when rising_edge(clk); 
```

)

如果代码不可综合，则流程对于让事件以特定顺序发生很有用：

```
p1: process
begin
   data <= "--------";
   WE <= '0';
   wait until reset = '1';
   wait until processor_initialised = '1';
   assert ACK = '0' report "ACK should be low!" severity error;
   data <= X"16";
   WE <= '1';
   wait until ACK = '1';
end process; 
```

* * *

我的大部分代码每个实体都有一个进程。每个实体都做一些有用的、定义明确的、小到可以测试的任务

# java - 访问 Android ICS 证书存储中的私钥

> ID：10223140
> 
> 赞同：3
> 
> 时间：2012-04-19T07:03:20.473
> 
> 标签：java, android, certificate, rsa

在 Android ICS 手机上，我已经导入了包含私钥和证书的 PKCS#12 文件。然后我跑

```
KeyChain.choosePrivateKeyAlias(this, this, new String[] { "RSA" }, null, null, -1, null); 
```

在证书选择对话框中，我选择刚刚安装的那个。

在“别名”回调中，我执行以下操作：

```
public void alias(final String alias) {
...
protected Boolean[] doInBackground(Void... arg0) {
...
PrivateKey pk = KeyChain.getPrivateKey(ctx, alias);
Log.d(TAG, "EncodedPrivateKey: " + pk.toString()); 
```

它给了我私钥的全部内容。

这是否意味着任何应用程序一旦被用户允许（在证书选择对话框中），就可以读取从 .pfx 文件安装的任何私钥？

以下情况是否可以通过标准 Android 手段实现 - “管理员”使用 cert.+private 密钥安装 .pfx 文件，并且读取它的权限仅限于一个特定的应用程序？

# jquery - jQuery 选择器中的直接后代 (>) 与后代有什么区别？

> ID：10223143
> 
> 赞同：19
> 
> 时间：2012-04-19T07:03:41.170
> 
> 标签：jquery, css, jquery-selectors

这两个 jQuery 语句有什么区别？他们似乎通过获取所有子 div 标签来做同样的事情。

```
$("#mainblock div") 
```

```
$("#mainblock > div") 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-04-19T07:05:14.393

`$("#mainblock > div")`=孩子的唯一级别

`$("#mainblock div")`=所有孩子+后代。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-19T07:05:21.563

看看 jQuery[**选择器**](http://api.jquery.com/category/selectors/)

[`Child Selector ("parent > child")`](http://api.jquery.com/child-selector/)- 层次结构选择由“父”指定的元素的“子”指定的所有直接子元素。

[`Descendant Selector ("ancestor descendant")`-](http://api.jquery.com/descendant-selector/) 层次结构选择作为给定祖先的后代的所有元素。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-04-19T07:19:37.177

```
$("#mainblock div") 
```

这一目标针对“#mainblock”内的所有DIV，无论它是“#mainblock”的直接子代，还是主块的子代的子代等等。

```
$("#mainblock > div") 
```

这将仅针对“#mainblock”的直接子 DIV，而忽略其他 DIV。如果您只有直接的孩子，这个比上面更快。因为它不是试图在孩子的其他元素中找到。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-04-19T07:05:12.093

第一个将获得所有`div`s 的后代`#mainblock`。第二个将获得所有`div`直接子级的 s`#mainblock`

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-04-22T13:01:46.720

$("#mainblock div") 查找#mainblock下的所有div

$("#mainblock > div") 只找到它的孩子

假设您有以下 HTML 结构：

```
 <div id="mainblock"> 
      <div>
        <div></div> 
        <div></div>
      </div>
     <div></div>
     <div></div>
   </div> 
```

然后

```
$("#mainblock div").length = 5
$("#mainblock > div").length = 3 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-04-19T07:06:30.807

```
$("#mainblock div") 
```

匹配任何属于#mainblock 后代的div 元素。

```
$("#mainblock > div") 
```

匹配任何属于 #mainblock 子级的 div 元素。

检查[http://www.w3.org/TR/CSS2/selector.html](http://www.w3.org/TR/CSS2/selector.html)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-04-19T07:06:49.683

第一个将选择任何级别的 `#mainblock' 子级的任何 div。第二个将选择任何直接子级的 div。

[有关与jQuery](http://api.jquery.com/child-selector/)中行为相同的 CSS 选择器的更多信息，请参阅此[链接](http://reference.sitepoint.com/css/childselector)。`>`

# php - phpQuery 中最接近的方法？

> ID：10223150
> 
> 赞同：4
> 
> 时间：2012-04-19T07:04:13.220
> 
> 标签：php, phpquery

我试图看看是否有办法
在 phpQuery 上实现“最接近”的方法（就像它在 jQuery 上工作一样）。
有这样的事吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:10:55.603

来自[jQuery 的常见混淆位](http://coding.smashingmagazine.com/2010/08/04/commonly-confused-bits-of-jquery/)：

> ### 最接近（选择器）
> 
> 这是一个保守的秘密，但非常有用。它像 parents() 一样工作，只是它只返回一个父/祖先。根据我的经验，您通常会想要检查元素祖先中是否存在一个特定元素，而不是一大堆，所以我倾向于使用它而不是 parents()。

因此，正如`parents()`phpQuery 中存在的那样，您可以使用源代码中的示例

> *提示*：您可以通过使用 parents() 并将其限制为一个返回的元素来模拟最接近的()。
> 
> `$($('#element1').parents('#element2').get(0)).css('background', '#f90');`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-09T11:06:18.330

要真正拼出 phpquery 语法......（我花了很长时间才得到这个！）

我想从包含特定附件（媒体文件链接）的 RSS 提要中提取“项目”。

```
function fetch($feed ,$fname)
{
    // load the file

    phpQuery::newDocumentFileHTML($feed);

    // Find the first enclosure that links to the file
    // drill up to the parent elements to 'item' take the first (0)
    // this is the 'nearest' equivalent

    return pq("enclosure[url='" . $fname ."']:first")->parents('item')->xml();
} 
```

# javascript - 我不确定如何将 Javascript 嵌入到 Wordpress 页面中

> ID：10223152
> 
> 赞同：1
> 
> 时间：2012-04-19T07:04:21.050
> 
> 标签：javascript, wordpress, embed

所以我有一个祈祷时间脚本，我想将它嵌入到 wordpress 页面中。这是它的链接：http: [//praytimes.org/manual/](http://praytimes.org/manual/)

基本上有一个 PrayTimes.js 文件，我试图将其包含到 header.php/page.php 文件中但没有成功。

我将在常规 HTML 页面中发布的代码如下所示：

```
<!DOCTYPE html>
<html>
<head>
    <title> Daily Prayer Timetable </title>
    <style>
        body, td, th {font-family: verdana; font-size: 12px; color: #404040;}
        #timetable {border-width: 1px; border-style: outset; border-collapse: collapse; border-color: gray; width: 9em;}
        #timetable td, #timetable th {border-width: 1px; border-spacing: 1px; padding: 2px 4px; border-style: inset; border-color: #CCCCCC;}
        #timetable th {color:black; text-align: center; font-weight: bold; background-color: #F8F7F4;}
    </style>
</head>

<body>

<script type="text/javascript" src="../PrayTimes.js"></script>

<br>
<p align="center">Waterloo, ON, Canada<p>
<div align="center" id="table"></div>

<script type="text/javascript">

    var date = new Date(); // today
    var times = prayTimes.getTimes(date, [43, -80], -5);
    var list = ['Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha', 'Midnight'];

    var html = '<table id="timetable">';
    html += '<tr><th colspan="2">'+ date.toLocaleDateString()+ '</th></tr>';
    for(var i in list)  {
        html += '<tr><td>'+ list[i]+ '</td>';
        html += '<td>'+ times[list[i].toLowerCase()]+ '</td></tr>';
    }
    html += '</table>';
    document.getElementById('table').innerHTML = html;

</script>

</body>
</html> 
```

我只是不确定如何将其嵌入到 Wordpress 页面中。我只需要使用一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:08:50.410

您应该在`head`标签之间放置脚本。

```
<!DOCTYPE html>
<html>
<head>
    <title> Daily Prayer Timetable </title>
    <style>
        body, td, th {font-family: verdana; font-size: 12px; color: #404040;}
        #timetable {border-width: 1px; border-style: outset; border-collapse: collapse; border-color: gray; width: 9em;}
        #timetable td, #timetable th {border-width: 1px; border-spacing: 1px; padding: 2px 4px; border-style: inset; border-color: #CCCCCC;}
        #timetable th {color:black; text-align: center; font-weight: bold; background-color: #F8F7F4;}
    </style>
    <script type="text/javascript" src="../PrayTimes.js"></script>
</head>

<body>

<br>
<p align="center">Waterloo, ON, Canada<p>
<div align="center" id="table"></div>

<script type="text/javascript">

    var date = new Date(); // today
    var times = prayTimes.getTimes(date, [43, -80], -5);
    var list = ['Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha', 'Midnight'];

    var html = '<table id="timetable">';
    html += '<tr><th colspan="2">'+ date.toLocaleDateString()+ '</th></tr>';
    for(var i in list)  {
        html += '<tr><td>'+ list[i]+ '</td>';
        html += '<td>'+ times[list[i].toLowerCase()]+ '</td></tr>';
    }
    html += '</table>';
    document.getElementById('table').innerHTML = html;

</script>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:20:43.430

您可以修改主题标题模板。

但是这样做的正确方法是将您的内联脚本放在一个单独的 js 文件中，并用于[`wp_enqueue_script`](http://codex.wordpress.org/Function_Reference/wp_enqueue_script)在您的页面中添加两个 js 文件。

# c# - 在 csharp 上提交后如何获得响应页面？

> ID：10223155
> 
> 赞同：0
> 
> 时间：2012-04-19T07:04:27.563
> 
> 标签：c#, post, web, submit, response

远程网站有一个页面，可以在表单中输入输入值，单击按钮并在输出表单中获得结果。我想向页面发送一个请求并填写必要的输入表单，提交它并获得一个填写了输出表单的结果页面。

所有具有相似主题的线程都给出了这样的代码示例：

```
// Create a request using a URL that can receive a post. 
            WebRequest request = WebRequest.Create("http://www.site.com");
            // Set the Method property of the request to POST.
            request.Method = "POST";
            // Create POST data and convert it to a byte array.
            string postData = string.Format("inputParam=value");
            byte[] byteArray = Encoding.UTF8.GetBytes(postData);
            // Set the ContentType property of the WebRequest.
            request.ContentType = "application/x-www-form-urlencoded";
            // Set the ContentLength property of the WebRequest.
            request.ContentLength = byteArray.Length;
            // Get the request stream.
            Stream dataStream = request.GetRequestStream();
            // Write the data to the request stream.
            dataStream.Write(byteArray, 0, byteArray.Length);
            // Close the Stream object.
            dataStream.Close();
            // Get the response.
            WebResponse response = request.GetResponse();
            // Get the stream containing content returned by the server.
            dataStream = response.GetResponseStream();

            response.Close(); 
```

它返回一个填写了输入表单的页面，但输出字段仍然是空白的，就像它没有单击提交按钮一样。

如何从我的 C# 代码进行提交并接收带有输出数据的 html 文档？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:13:36.177

将 webresponse 部分更改为以下内容；

```
 WebResponse response = request.GetResponse ();                
    dataStream = response.GetResponseStream ();
    StreamReader reader = new StreamReader (dataStream);
    string responseFromServer = reader.ReadToEnd (); 
```

# java - Selenium RC 中 isElementPresent 和 isVisible 之间的区别

> ID：10223157
> 
> 赞同：10
> 
> 时间：2012-04-19T07:04:32.163
> 
> 标签：java, selenium, selenium-rc

`isElementPresent`element和`isVisible`in Selenium RC有什么区别。我是真的

`selenium.isElementPresent()`和`selenium.isVisible()`

如果我因为我得到错误而`selenium.isElementPresent()`得到 Exception on`selenium.isVisible()`

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-04-19T07:16:13.430

**isElementPresent()** - 这个方法主要测试我们正在寻找的元素是否存在于页面的某个地方。

**isVisible()** - 寻找 display: none 样式标签 - 如果我们不小心，这可能会抛出一个空指针......因此，首先要查看元素是否可见，首先使用 isElementPresent() 方法检查元素是否存在。然后尝试检查元素是否可见！

***请注意，即使我们的元素不可见，isElementPresent() 也不会介意。***

例如：假设以下是我的测试应用程序上一个组件的 html 代码：

现在，如果您使用

```
selenium.isElementPresent("testinput") - returns true!
selenium.isVisible("testinput") - returns false! 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-04-19T07:13:12.447

阅读[文档](http://release.seleniumhq.org/selenium-remote-control/0.9.2/doc/java/com/thoughtworks/selenium/Selenium.html)怎么样？

> **boolean isElementPresent(java.lang.String 定位器)**
> 
> 验证指定元素是否在页面上的某个位置。
> 
> **boolean isVisible(java.lang.String 定位器)**
> 
> 确定指定元素是否可见。通过将 CSS 的“visibility”属性设置为“hidden”或将“display”属性设置为“none”，可以将元素呈现为不可见，无论是元素本身还是其祖先。如果元素不存在，此方法将失败。

# directx - 为什么 DirectX 使用翻转的 Y 轴？

> ID：10223162
> 
> 赞同：0
> 
> 时间：2012-04-19T07:05:05.027
> 
> 标签：directx

我正在保存我的驱动 X/Y 坐标，然后使用将坐标转换为米的函数，并将 1280 添加到每个点（因此它将很好地适合 2560x2560 图像），然后在“点”之间绘制一个多边形，从而形成某种赛车线。但是一旦我生成了多边形并将其保存为图像，它就会以某种方式垂直翻转。垂直翻转图像将使其与轨道位图完美匹配。有人告诉我这是因为 DirectX 在内部翻转了 Y 轴。为什么 DirectX 使用翻转的 Y 轴？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T12:46:13.487

那么，问题是，DirectX 是否有翻转的 Y 轴或图像？

DirectX 使用 3D/4D 坐标系，当未应用任何变换时，X 轴指向右侧，Y 轴指向上方。这是因为屏幕（Y 轴指向下方）是必须处理图像的最后一个实例。之前的每一步都使用 Y 轴向上的坐标系。由于 Direct3D 是为 3D 世界而设计的，因此像世界一样对齐的坐标系和数学中的大多数坐标系对于程序员和设计人员来说更加方便。想象一下，您将创建一个 3D 模型。如果您将其设计为 Y 轴指向下方，这会不会有点奇怪？

当您根本没有允许透视等的转换时，您将拥有相同的坐标系。忽略Z轴，左上角为(-1 | 1)，右下角为(1, -1)。这等于数学中使用的坐标系。最后，这个坐标系用视口变换，左上角为（0 | 0），右下角为（ResolutionX | ResolutionY）。

所以总而言之，Y轴向上的原因是Direct3D的主要目的是独立于屏幕的物理属性以方便的方式描述世界。

# mysql - 使用 MySQL 在许多表中的全文搜索聚合最相关的结果

> ID：10223164
> 
> 赞同：0
> 
> 时间：2012-04-19T07:05:08.913
> 
> 标签：mysql, algorithm, full-text-search

我在 MySQL 5.5.22 上的多个表上运行全文查询。该应用程序使用 innodb 表，因此我创建了一些专门用于全文搜索的 MyISAM 表。

例如，我的一些表看起来像

```
account_search
===========
id
account_id
name
description
hobbies
interests

product_search
===========
id
product_id
name
type
description
reviews 
```

由于这些表仅用于全文搜索，因此它们是非规范化的。数据可以来自多个表并聚合到搜索表中。除了 ID 列之外，其余列都分配给 1 个全文索引。

为了解决全文搜索的“50%”规则，我使用`IN BOOLEAN MODE`.

因此，对于上述情况，我会运行：

```
SELECT *, MATCH(name, type, description, reviews) AGAINST('john') as relevance
FROM product_search
WHERE MATCH(name, type, description, reviews) AGAINST('john*' IN BOOLEAN MODE) LIMIT 10

SELECT *, MATCH(name, description, hobbies, interests) AGAINST('john') as relevance
FROM account_search
WHERE MATCH(name, description, hobbies, interests) AGAINST('john*' IN BOOLEAN MODE) LIMIT 10 
```

让我们假设我们也有名为“john”的产品：P

我面临的问题是：

*   为了获得有意义的相关性，我需要使用不带`IN BOOLEAN MODE`. 这意味着搜索受 50% 规则和字长规则的约束。`product_search`因此，很多时候，如果我调用了表中的大多数产品`john`，它们的相关性将返回为 0。

*   多个查询之间的相关性不具有可比性。（我认为来自一个查询的 14 的相关性不等于来自另一个不同查询的 14 的相关性）。

*   搜索不仅限于这两个表，还有其他“对象类型”，例如：“订单”、“交易”等。

我希望能够返回给定一组关键字的所有对象类型的前 7 个最相关的结果（1 个搜索框返回所有对象的结果）。

鉴于上述情况，获得前 7 名的算法或更好的想法是什么？

我知道我可以使用 solr 和 elasticsearch 之类的东西，我已经尝试过它们并且正在将它们集成到应用程序中，但我希望能够为那些只能访问 MySQL 的人提供搜索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T02:50:43.833

所以在考虑了一段时间后，我决定相关性排名必须在 MySQL 中使用 1 个查询来完成。

这是因为：

*   无法比较单独查询之间的相关性。
*   很难以有意义的方式将多个搜索的内容组合在一起。

我已切换到使用 1 个专用于搜索的索引表。条目的插入、删除和更新取决于对 innodb 表中真实基础数据的插入、删除和更新（这都是自动的）。

该表如下所示：

```
search
==============
id //id for the entry
type //the table the data came from
column //column the data came from
type_id //id of the row the in the original table
content //text 
```

内容列上有一个全文索引。重要的是要意识到并非所有表中的所有列都会被索引，只有我认为在搜索中有用的东西才会被添加。

因此，这只是运行查询以匹配 on `content`、检索我们拥有的内容并进行进一步处理的简单案例。为了处理最终结果，需要更多的查询来向父表询问搜索结果的标题，也许还有其他一些元数据，但这是一个可行的解决方案。

我认为这种方法不会真正扩展（更新和插入也需要更新此表），但我认为这是为应用程序的较小部署提供体面的应用程序范围搜索的一种很好的方法。

对于可扩展性，请使用弹性搜索、solr 或 lucene 之类的东西。

# ios5 - 在弹出框内呈现的故事板模态序列

> ID：10223175
> 
> 赞同：0
> 
> 时间：2012-04-19T07:06:02.570
> 
> 标签：ios5, xcode4, storyboard, uisplitviewcontroller

我的 splitViewController 的“master”一侧的一个分支中的最后一个 segue 是从 master 中的 tableViewCell 到 tableViewController 的模态（全屏）segue。

当设备为横向时，一切正常，新的 tableViewController 按预期全屏显示。

然而，当设备是纵向的，并且使用弹出按钮显示 masterVC 时，选择 tableViewCell 会导致模态 segue 在弹出窗口内而不是全屏显示新的 TableVC。

关闭 Modal VC（从主弹出框内）后，弹出框的布局是“关闭的”，即表格没有为弹出框正确自动调整大小。

谁能告诉我为什么？或者指出我解决这个问题的正确方向......

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T23:42:11.923

默认情况下，正在呈现的 UIViewController 继承了演示者的呈现上下文。您可以通过修改 modalPresentationStyle 和可选的要模态呈现的 UIViewController 的 modalTransitionStyle 来更改此设置。

```
UIViewController* myModalVC =  [UIViewController alloc] init]; 
myModalVC .modalPresentationStyle = UIModalPresentationFullScreen;
//myModalVC .modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;     
[self presentViewController:rViewController animated:YES completion:nil]; 
```

# java - 如何比较原始类型中忽略大小写的字符

> ID：10223176
> 
> 赞同：32
> 
> 时间：2012-04-19T07:06:04.050
> 
> 标签：java, string, character, case-sensitive, case-insensitive

我正在编写这些代码行：

```
String name1 = fname.getText().toString();
String name2 = sname.getText().toString();
aru = 0;

count1 = name1.length();
count2 = name2.length();
for (i = 0; i < count1; i++)
{  
    for (j = 0; j < count2; j++)
    { 
        if (name1.charAt(i)==name2.charAt(j))
            aru++;
    }
    if(aru!=0)
        aru++;
} 
```

我想比较`Character`两个`String`忽略大小写的 s 。简单地使用`IgnoreCase`是行不通的。添加“65”`ASCII`值也不起作用。我该怎么做呢？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-04-19T07:20:48.437

[`Character`](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html)Java API 类具有您可以使用的各种功能。

您可以在两边将您的 char 转换为小写：

```
Character.toLowerCase(name1.charAt(i)) == Character.toLowerCase(name2.charAt(j)) 
```

还有一种方法可以用来验证字母是大写还是小写：

```
Character.isUpperCase('P')
Character.isLowerCase('P') 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-03-06T09:45:30.473

无论是在字符串上还是在字符上，您*实际上*都不能完全正确地完成这项工作。`toLowerCase`问题是大写或小写都有变体字形，并且取决于您是大写还是小写，您的字形可能会或可能不会被保留。当您说忽略大小写比较小写字形的两个变体时，甚至不清楚您的*意思*是：它们是相同的还是不相同的？（请注意，也有混合大小写的字形：`\u01c5, \u01c8, \u01cb, \u01f2`或ǅ、ǈ、ǋ、ǲ，但此处建议的任何方法都适用于这些字形，只要它们应该与它们的完全大写或完全小写变体相同。）

使用还有一个额外的问题`Char`：有大约 80 个代码点无法用一个`Char`大写/小写变体（每个 40 个）表示，至少由 Java 的代码点大写/小写检测到。因此，您需要获取代码点并更改它们的大小写。

但是代码点对变体字形没有帮助。

无论如何，这里有一个完整的由于变体而有问题的字形列表，展示了它们在 6 种变体方法中的表现：

1.  特点`toLowerCase`
2.  特点`toUpperCase`
3.  细绳`toLowerCase`
4.  细绳`toUpperCase`
5.  细绳`equalsIgnoreCase`
6.  字符`toLowerCase(toUpperCase)`（反之亦然）

对于这些方法，`S`意味着变体被视为彼此相同，`D`意味着变体被视为彼此不同。

```
Behavior     Unicode                             Glyphs
===========  ==================================  =========
1 2 3 4 5 6  Upper  Lower  Var Up Var Lo Vr Lo2  U L u l l2
- - - - - -  ------ ------ ------ ------ ------  - - - - -
D D D D S S  \u0049 \u0069 \u0130 \u0131         I i İ ı   
S D S D S S  \u004b \u006b \u212a                K k K     
D S D S S S  \u0053 \u0073        \u017f         S s   ſ   
D S D S S S  \u039c \u03bc        \u00b5         Μ μ   µ   
S D S D S S  \u00c5 \u00e5 \u212b                Å å Å     
D S D S S S  \u0399 \u03b9        \u0345 \u1fbe  Ι ι   ͅ ι 
D S D S S S  \u0392 \u03b2        \u03d0         Β β   ϐ   
D S D S S S  \u0395 \u03b5        \u03f5         Ε ε   ϵ   
D D D D S S  \u0398 \u03b8 \u03f4 \u03d1         Θ θ ϴ ϑ   
D S D S S S  \u039a \u03ba        \u03f0         Κ κ   ϰ   
D S D S S S  \u03a0 \u03c0        \u03d6         Π π   ϖ   
D S D S S S  \u03a1 \u03c1        \u03f1         Ρ ρ   ϱ   
D S D S S S  \u03a3 \u03c3        \u03c2         Σ σ   ς   
D S D S S S  \u03a6 \u03c6        \u03d5         Φ φ   ϕ   
S D S D S S  \u03a9 \u03c9 \u2126                Ω ω Ω     
D S D S S S  \u1e60 \u1e61        \u1e9b         Ṡ ṡ   ẛ 
```

更复杂的是，除非您知道自己使用的是土耳其语，否则无法让土耳其语 I 是正确的（即带点的版本与不带点的版本不同）。这些方法都不能提供正确的行为，除非您知道语言环境（即非土耳其语：`i`并且`I`是相同的忽略大小写；土耳其语，不是）。

总体而言， using`toUpperCase`为您提供了最接近的近似值，因为您只有五个大写变体（或四个，不包括土耳其语）。

你也可以尝试专门拦截这五个麻烦的案例，`toUpperCase(toLowerCase(c))`单独调用。如果你仔细选择你的守卫（`toUpperCase`如果`c < 0x130 || c > 0x212B`，然后通过其他替代方案），你只能在低范围内的字符上获得约 20% 的速度损失（相比之下，如果你将单个字符转换为字符串和`equalsIgnoreCase`它们，则为约 4 倍）和如果您在危险区域中有很多东西，则只有大约 2 倍的惩罚。你仍然有 dotted 的语言环境问题`I`，但除此之外你的状态还不错。当然，如果你可以`equalsIgnoreCase`在更大的字符串上使用，你最好这样做。

这是完成这项工作的示例 Scala 代码：

```
def elevateCase(c: Char): Char = {
  if (c < 0x130 || c > 0x212B) Character.toUpperCase(c)
  else if (c == 0x130 || c == 0x3F4 || c == 0x2126 || c >= 0x212A)
    Character.toUpperCase(Character.toLowerCase(c))
  else Character.toUpperCase(c)
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-04-19T07:10:53.810

您可以在使用之前更改 String 的大小写，就像这样

```
String name1 = fname.getText().toString().toLowerCase(); 
String name2 = sname.getText().toString().toLowerCase(); 
```

然后继续休息操作。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-11-25T12:18:33.993

在比较字符/小写/大写时，您必须考虑土耳其语 I 问题：

我建议转换为字符串并使用具有不变文化的 toLowerCase（至少在大多数情况下）。

public final static Locale InvariantLocale = new Locale(Empty, Empty, Empty); str.toLowerCase(InvariantLocale)

查看类似的 C# [string.ToLower() 和 string.ToLowerInvariant()](https://stackoverflow.com/questions/6225808/string-tolower-and-string-tolowerinvariant)

注意：不要使用 String.equalsIgnoreCase [http://nikolajlindberg.blogspot.co.il/2008/03/beware-of-java-comparing-turkish.html](http://nikolajlindberg.blogspot.co.il/2008/03/beware-of-java-comparing-turkish.html)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-10-11T16:05:50.020

这就是 JDK 的工作方式（改编自 OpenJDK 8，[String.java](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java#String.regionMatches%28boolean%2Cint%2Cjava.lang.String%2Cint%2Cint%29) /regionMatches ）：

```
static boolean charactersEqualIgnoringCase(char c1, char c2) {
  if (c1 == c2) return true;

  // If characters don't match but case may be ignored,
  // try converting both characters to uppercase.
  char u1 = Character.toUpperCase(c1);
  char u2 = Character.toUpperCase(c2);
  if (u1 == u2) return true;

  // Unfortunately, conversion to uppercase does not work properly
  // for the Georgian alphabet, which has strange rules about case
  // conversion.  So we need to make one last check before
  // exiting.
  return Character.toLowerCase(u1) == Character.toLowerCase(u2);
} 
```

我想这也适用于土耳其语。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-10-13T08:43:05.547

将 2 个字符串之间某个位置的字符与忽略大小写进行比较的通用方法。

```
public static boolean isEqualIngoreCase(char one, char two){
    return Character.toLowerCase(one)==Character .toLowerCase(two);
}

public static boolean isEqualStringCharIgnoreCase(String one, String two, int position){
    char oneChar = one.charAt(position);
    char twoChar = two.charAt(position);
    return isEqualIngoreCase(oneChar, twoChar);
} 
```

函数调用

```
boolean isFirstCharEqual = isEqualStringCharIgnoreCase("abc", "ABC", 0) 
```

# javascript - 在 HTML Body 上编写 JavaScript 变量

> ID：10223184
> 
> 赞同：0
> 
> 时间：2012-04-19T07:06:25.847
> 
> 标签：javascript, html

```
<!DOCTYPE html>
<html>

    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <title>Google Maps JavaScript API v3 Example: Reverse Geocoding</title>
        <link
        href="https://developers.google.com/maps/documentation/javascript/examples/default.css"
        rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript">
            var geocoder;

            var variablejs;

            geocoder = new google.maps.Geocoder();

            var input = "41.021355,-96.020508";
            var latlngStr = input.split(",", 2);
            var lat = parseFloat(latlngStr[0]);
            var lng = parseFloat(latlngStr[1]);
            var latlng = new google.maps.LatLng(lat, lng);

            geocoder.geocode({
                'latLng': latlng
            }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    if (results[0]) {
                        variablejs = results[0].formatted_address; * * //document.write(variablejs); Not working**
                        *
                        //window.location.href = "http://localhost/test2.php?ad="+ variablejs; Working*
                    } else {
                        alert("No results found");
                    }
                } else {
                    alert("Geocoder failed due to: " + status);
                }
            }); * * document.write(variablejs); * * //writes undefined variable (not working)
        </script>
    </head>

    <body></body>

</html> 
```

该部分（**//document.write(variablejs); Not working**）不会写入变量“variablejs”，但是当我使用该方法时（**//window.location.href = "http://localhost/test2\. php?ad="+ variablejs; Working** )，它会写入 url 并转发将变量作为参数传递的页面。我想要做的是在同一 HTML 的正文中打印该变量。我尝试先初始化变量然后写入正文，但看起来该部分无法像全局变量或类似的东西那样访问。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:13:50.047

`document.write`加载文档后，如果不覆盖所有内容，您将无法使用。您将需要操作 DOM，例如`document.body.innerText=variablejs;`. 但我会推荐

```
var d = document.createElement("div");
d.appendChild(document.createTextNode(variablejs));
document.body.appendChild(d); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:19:10.687

您在传递给 geocoder.geocode() 的回调函数中为 variablejs 赋值。这意味着您在调用回调之前尝试访问和写入它，因此您将看不到任何值集。

在这些情况下，使用 Firebug 或类似工具进行调试会有所帮助。

此外，在加载文档后，您不能像这样使用 docuemnt.write，您需要进行一些 DOM 操作。

# c# - 用于本机 C++ 的 C++/CLI 包装器，可在 C# 中用作参考

> ID：10223186
> 
> 赞同：39
> 
> 时间：2012-04-19T07:06:31.597
> 
> 标签：c#, c++, dll, c++-cli

标题说明。我有本机 C++ dll，我正在为其编写 C++/CLI 包装器，这些 dll 反过来将作为参考导入到 C# 中。

问题是在 C# 中我看不到包装器中的类（从 DLL 导入）。

我应该使用哪些关键字以及如何重新声明我的本机 C++ 对象以在 C# 中可见？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-04-19T08:04:34.157

好的，教程。您有一个`NativeClass`要向 C# 公开的 C++ 类。

```
class NativeClass { 
public:
    void Method();
}; 
```

1) 创建一个 C++/CLI 项目。链接到您的 C++ 库和头文件。

2）创建一个包装类，公开你想要的方法。例子：

```
#include "NativeClass.h"

public ref class NativeClassWrapper {
    NativeClass* m_nativeClass;

public:
    NativeClassWrapper() { m_nativeClass = new NativeClass(); }
    ~NativeClassWrapper() { this->!NativeClassWrapper(); }
    !NativeClassWrapper() { delete m_nativeClass; }
    void Method() {
        m_nativeClass->Method();
    }
}; 
```

3) 在 C# 项目中添加对 C++/CLI 项目的引用。

**4)在 using 语句中**使用包装器类型：

```
using (var nativeObject = new NativeClassWrapper()) {
    nativeObject.Method();
} 
```

using 语句确保 Dispose() 被调用，它立即运行析构函数并销毁本机对象。否则，您将出现内存泄漏，并且可能会死得很惨（不是您，程序）。注意：[Dispose() 方法是为您神奇地创建的](http://www.codeproject.com/Articles/7965/Deterministic-Destruction-in-C-CLI)。

# ffmpeg - qt-faststart 命令永远不会完成

> ID：10223187
> 
> 赞同：0
> 
> 时间：2012-04-19T07:06:36.977
> 
> 标签：ffmpeg, qt-faststart

我正在尝试在 MP4 视频上使用 qt-faststart 来加快流式传输，但 qt-faststart 命令永远不会完成，它从最后一个半小时开始运行，视频文件只有 14MB。

```
qt-faststart file.mp4 newfile.mp4 
```

该命令显示`ftyp`and`free`作为输出

输出看起来像这样，它不断重复这些行并增加数量

```
ftyp 2324322  32
free 2324456   8 
```

并且数量随着输出而不断增加。没有显示错误。

MP4 视频是使用 FFMPEG 从 FLV 视频转换而来的。

通常它会显示这样的输出，但我安装了 qt-faststart 我从来没有得到这个输出

```
 patching stco atom...
    patching stco atom..
    writing ftyp atom...
    writing moov atom...
    copying rest of file ... 
```

可能是什么问题？安装qt-faststart有什么问题吗？

我在`Linux 2.6.18-128.2.1.el5PAE i686`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T21:03:49.633

检查文件的路径。这对我有用。

C:\Users\name\Desktop\qt-faststart.exe C:\Users\name\Desktop\videos\video.mp4 C:\Users\name\Desktop\videosnewer\video.mp4

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-26T13:58:16.643

使用 python 包装器[https://github.com/danielgtaylor/qtfaststart](https://github.com/danielgtaylor/qtfaststart)

有关更多信息，请在此处阅读“服务器崩溃”部分[http://www.stoimen.com/blog/2010/11/12/how-to-make-mp4-progressive-with-qt-faststart/](http://www.stoimen.com/blog/2010/11/12/how-to-make-mp4-progressive-with-qt-faststart/)

# java - Java webapp 媒体目录

> ID：10223189
> 
> 赞同：0
> 
> 时间：2012-04-19T07:06:43.427
> 
> 标签：java, image, http, glassfish

我正在开发一个 Java EE 项目，该项目提供了一个 servlet，该 servlet 为特定用户将大量图像（或公共文件）存储到 glassfish 服务器中。我想知道是否有标准目录可以将文件保存到标准 Web 编程中。

例如，我有三个用户想要上传他们的文件，我可以在哪里将它们保存到服务器中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T09:23:14.403

没有任何标准目录。我建议您在服务器上为每个用户创建目录。例如：用户注册，一些数据进入数据库，并为该用户创建一个目录。比这个用户可以上传任何文件到他自己的目录。

PS您可以在服务器的任何位置创建目录，然后在服务器的JNDI资源中配置目录路径以在您的应用程序中查找。

您必须创建`PropertiesObjectFactory`类来处理 java.util.Porperties 的 JNDI 属性（如果您使用的是 glassfish 2）。或者您也可以编写您的自定义 ObjectFactory。Glassfish 3 已经具备此功能。它设置为：org.glassfish.resources.custom.factory.PropertiesFactory。

1.  在服务器的某处创建目录。例如：/server/glassfish/users
2.  打开 glassfish 管理控制台并导航到：资源 -> JNDI -> 自定义资源，单击“新建”。提供一个 JNDI 名称，例如：jndi/users_directories，选择资源类型“ `java.util.Properties`”，指定工厂类：`org.glassfish.resources.custom.factory.PropertiesFactory`，然后单击“添加属性”，为例如：指定名称：`users.directories`并在值列中复制您的目录路径。在这种情况下：`/server/glassfish/users`。单击确定，仅此而已。

3.  重新启动应用程序服务器。

4.  在您的应用程序中查找：

`public Properties getProperties(String jndiName) { Properties properties = null; try { InitialContext context = new InitialContext(); properties = (Properties) context.lookup(jndiName); context.close(); } catch (NamingException e) { LOGGER.error("Naming error occurred while initializing properties from JNDI.", e); return null; } return properties; }` 当您在应用程序中调用此方法时，请提供您在应用程序服务器中配置的 JNDI 名称`: jndi/users_directories`。如果您在 deploymet 描述符中映射了资源，则必须使用：java:comp/env/jndi/users_directories。

如果你想使用弹簧做同样的事情：

```
<jee:jndi-lookup id="usersDirectories"
                 jndi-name="jndi/users_directories"/> 
```

或者，如果您使用的是 glassfish 2，则创建一个自定义 PropertiesObjectFactory 类：

```
public class PropertiesObjectFactory implements Serializable, ObjectFactory {

    /**
     * File property name.
     */
    public static final String FILE_PROPERTY_NAME = "org.glassfish.resources.custom.factory.PropertiesFactory.fileName";

    /**
     * Implemented method from object factory interface.
     *
     * @param obj object
     * @param name name
     * @param nameCtx context name
     * @param environment environment
     * @return file properties
     * @throws Exception if error occurs
     */
    public Object getObjectInstance(Object obj, Name name, Context nameCtx, Hashtable<?, ?> environment)
            throws Exception {
        Reference ref = (Reference) obj;
        Enumeration<RefAddr> refAddrs = ref.getAll();

        String fileName = null;
        Properties fileProperties = new Properties();
        Properties properties = new Properties();

        while (refAddrs.hasMoreElements()) {
            RefAddr addr = refAddrs.nextElement();
            String type = addr.getType();
            String value = (String) addr.getContent();

            if (type.equalsIgnoreCase(FILE_PROPERTY_NAME)) {
                fileName = value;
            } else {
                properties.put(type, value);
            }
        }

        if (fileName != null) {
            File file = new File(fileName);
            if (!file.isAbsolute()) {
                file = new File(System.getProperty("com.sun.aas.installRoot") + File.separator + fileName);
            }
            try {
                if (file.exists()) {
                    try {
                        FileInputStream fis = new FileInputStream(file);
                        if (fileName.toUpperCase().endsWith("XML")) {
                            fileProperties.loadFromXML(fis);
                        } else {
                            fileProperties.load(fis);
                        }
                    } catch (IOException ioe) {
                        throw new IOException("IO Exception during properties load : " + file.getAbsolutePath());
                    }
                } else {
                    throw new FileNotFoundException("File not found : " + file.getAbsolutePath());
                }
            } catch (FileNotFoundException fnfe) {
                throw new FileNotFoundException("File not found : " + file.getAbsolutePath());
            }
        }
        fileProperties.putAll(properties);
        return fileProperties;
    }
} 
```

制作该类的 .jar 文件并将其放入服务器全局库目录。为您的 JNDI 资源提供这个工厂类，重新启动服务器，您就可以使用上面介绍的相同查找了。

# report - 使用“提交”将数据从一份报告传递到另一份报告

> ID：10223192
> 
> 赞同：4
> 
> 时间：2012-04-19T07:06:56.523
> 
> 标签：report, submit, abap

我必须将用户名从一个报告传递到 ABAP 中的另一个报告。

我正在使用以下代码。

```
 SUBMIT zpgm_to WITH fld_pgm2 eq fld_pgm1 . 
```

'zpgm_to' 是我必须传递值的报告。

'fld_pgm2' 是报告 zpgm_to 中的字段。

'fld_pgm1' 是报告 zpgm_from 中的字段，其中包含要传递的值。

当我使用调试时，我发现该值没有传递给 zpgm_to 报告。我找不到我做错的地方。如果有人以前遇到过这个问题，请做必要的事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T09:18:37.820

我在您的示例代码中看不到问题。

如果您有拼写错误`fld_pgm2`并且使用了未定义的参数，则语法检查不会报告错误。

请尝试扩展语法检查：

1.  程序->检查->扩展语法检查
2.  检查是否`External program interfaces`检查。
3.  运行检查。如果有错字，你会得到一个错误`___ is not a parameter or a select option in report ___`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-23T09:02:22.700

检查 的定义`fld_pgm2`。它必须定义为**参数**，而不是数据。

# c - 在 C 中的堆栈上跟踪函数

> ID：10223193
> 
> 赞同：0
> 
> 时间：2012-04-19T07:06:56.560
> 
> 标签：c, function, stack

我正在第一次潜入堆栈内存跟踪的水域，所以我需要你的帮助。这是我的问题，我需要您的提示：

我有两个函数：登录和注销（）。有一个简单的条件：

*   如果我调用 login() 来创建会话，那么在我的程序中的某个地方，应该调用 logout() 否则应该会产生错误。

我相信我不能在编译时做，所以我必须在运行时做（我可能是错的）。

问题是我如何发现在 main() 返回之前在我的程序中调用了 logout() 并在未调用时生成错误。

我在想，在运行时，我在 login() 之后调用的每个函数都应该检查它是否是最后一个函数调用，然后查看 logout() 之前是否被调用过。

那么我如何在运行时知道某个函数是我的程序在 main() 返回之前调用的最后一个函数？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:10:34.620

一种可能不是最好的方法是使用变量loggedIn = 1，并传递对它的引用，以便logout() 可以将其设置为零。在从 main() 返回之前检查它是否为零。

函数返回后，它的地址已经从堆栈中弹出。

# ios - 整合 Facebook 以从 iPhone 应用程序发布内容

> ID：10223194
> 
> 赞同：0
> 
> 时间：2012-04-19T07:07:09.777
> 
> 标签：ios, facebook, facebook-ios-sdk

我正在尝试在我的 iPhone 应用程序中实现在 Facebook 上分享内容的功能。浏览完[https://developers.facebook.com/docs/mobile/ios/build/](https://developers.facebook.com/docs/mobile/ios/build/) 给我带来了一些麻烦！

我使用单例类来包含 Facebook 对象。当我单击按钮分享内容时，浏览器打开，我可以登录到 fb。之后，我可以按“确定”，它应该再次将我重定向到应用程序。遗憾的是，我从 safari 收到一条错误消息：“Safari 无法打开页面，因为地址无效”

显然这是我第一次尝试在 iOS 应用中实现 fb ......

有人有想法吗？

谢谢 ;-）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:19:15.443

您需要为您的应用程序注册一个**URL 方案**，以便可以从浏览器/其他应用程序（如 Facebook 的官方应用程序）打开它。

这在您参考的教程的[第 3 步：实现单点登录 (SSO)部分（尤其是](https://developers.facebook.com/docs/mobile/ios/build/#implementsso)*“修改应用程序属性列表文件”*部分）中进行了描述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:32:25.193

在您的实施中检查以下内容：

1.您需要在您的应用程序委托中添加以下功能（这里的facebook对象是您的FaceBook Class的实例值）。

```
// Pre 4.2 support
- (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url 
{
   return [facebook handleOpenURL:url]; 
}

// For 4.2+ support
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url
sourceApplication:(NSString *)sourceApplication annotation:(id)annotation
{
   return [facebook handleOpenURL:url]; 
} 
```

2.在你的 info.plist 添加到 URL types > URL Schemes > 你的 Facebook 应用 ID 和 fb 前缀（最后你的值会像这样，例如 fb313714***）。

# haskell - 组合一元和纯函数

> ID：10223198
> 
> 赞同：1
> 
> 时间：2012-04-19T07:07:42.910
> 
> 标签：haskell

让我们查找当前目录中不存在的文件：

```
filterM (\f -> return . not =<< doesFileExist f) files 
```

现在我想用点符号做得更好：

```
filterM (liftM not . doesFileExist) files 
```

还有其他方法可以做到这一点吗？例如，后来的工作对于纯函数的组合不太好，需要大括号：

```
filterM (liftM (isExtensionPNG . not) . doesFileExist) files 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:56:59.043

由于每个 monad 都是带有`liftM`as的函子，因此您可以使用分布在函数组合上`fmap`的事实。`fmap`

```
fmap (f . g) = fmap f . fmap g 
```

因此你可以写

```
filterM (liftM isExtensionPNG . liftM not . doesFileExist) files 
```

虽然老实说，我更喜欢你的原始版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:23:18.050

您可以定义一个中缀运算符以使其更好地编写：

```
infixr 9 .: -- same as .

(.:) :: Monad m => (b -> c) -> (a -> m b) -> a -> m c
f .: g = liftM f . g

filterM (isExtensionPNG .: not .: doesFileExist) files 
```

# python - 忘记 django 应用程序的名称

> ID：10223201
> 
> 赞同：-4
> 
> 时间：2012-04-19T07:07:59.537
> 
> 标签：python, django

这个**应用程序**包含大量有用的**抽象模型**。也许有人知道这个应用名称可能是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:24:23.473

```
http://djangopackages.com/categories/apps/
https://launchpad.net/ 
```

在这里搜索......

# animation - Uipage控制动画

> ID：10223202
> 
> 赞同：0
> 
> 时间：2012-04-19T07:08:00.440
> 
> 标签：animation, ios5, uipagecontrol

我已经自定义了使用 scrollview 的页面控件，它由 3 个页面组成。点已被定制。

但是在滑动页面时，我可以将动画更改为快速溶解动画吗？它看起来适合页面控制吗？

请建议哪个动画适合分页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T15:47:22.363

左右滚动视图（通常的行为）是在页面控件容器中的视图之间切换的最佳方式。

是的，您*可以*更改动画，但不要。使用溶解只会让您的用户感到困惑。

# ruby-on-rails - 设置后可以加载夹具吗？

> ID：10223207
> 
> 赞同：3
> 
> 时间：2012-04-19T07:08:31.173
> 
> 标签：ruby-on-rails, testunit

在我的 Rails 应用程序中，我使用的是 PostgreSQL 模式，并不是每个模式都包含所有表。（特别是默认路径没有）这会导致在`Test::Unit`.

我在 中设置模式搜索路径`setup`，但是如果我启用了使用`fixtures`它们的装置，它们会在我的设置修改搜索路径*之前*加载，并且无法加载装置。

```
class ActiveSupport::TestCase

  fixtures :model1, :model2     #Fixtures are loaded before setup below

  setup do
    # Setup schema search path
  end
end 
```

是否可以将夹具的加载延迟到之后`setup`或在夹具加载之前修改数据库连接？（注意：并非所有测试都在*相同*的搜索路径上工作！）

一些背景：现有测试来自没有不同模式的旧版本，所以我不想使用其他一些测试数据生成方式重写所有测试，尽管对于未来的测试，我肯定会切换到 factory_girl。

# php - 如何使用 PHP 获取机器的 mac id（机器不在局域网中）？

> ID：10223208
> 
> 赞同：0
> 
> 时间：2012-04-19T07:08:37.780
> 
> 标签：php, uniqueidentifier

> **可能重复：**
> [如何在 PHP 中获取已连接客户端的 MAC 和 IP 地址？](https://stackoverflow.com/questions/1420381/how-can-i-get-the-mac-and-the-ip-address-of-a-connected-client-in-php)

如何使用 PHP 获取机器的 mac id？我想找到用于识别非常独特的用户的 IP 和 MAC ID。我说的是网站，而不是 LAN。我有一个网站，例如 www.test.com，我想通过获取机器的 MAC id 和 IP 来了解谁在查看或登录我的网站

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:10:54.340

你不能。MAC 地址是以太网的东西，而不是互联网的东西。机器甚至可能没有任何使用 MAC 地址的接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:15:12.450

由于 HTTP 的性质，PHP 只能获取浏览器选择在其请求中发送的任何信息。默认情况下，任何浏览器都不会向您的服务器发送 MAC 地址。获得它的唯一方法是使用某种客户端脚本，但我希望这超出了浏览器脚本的能力。

# hp-quality-center - 无法安装客户端 QC 10.0

> ID：10223209
> 
> 赞同：1
> 
> 时间：2012-04-19T07:08:40.497
> 
> 标签：hp-quality-center

无法在客户端计算机上安装 Quality Center 客户端。

操作系统：Windows Vista IE 版本：9

我们尝试了所有基本的故障排除步骤，例如从 %temp% 中删除 TD_80 文件夹并执行全新安装。

从 C:\program files\common files 中删除 Mercury Intercative 文件夹

以管理员身份运行 Internet Explorer。

以上都没有解决问题

我们收到以下错误消息::::::

HP 质量中心：出现不可恢复的错误。

原因：无法加载文件或程序集 'interop.OTAClient, Version=10.0.02469,Culture=neutral, PublicKeyToken=792843134cf0407a' 或联系您的站点管理员。

细节：：：：

System.IO.FileNotFoundException：无法加载文件或程序集“interop.OTAClient，版本=10.0.0.2469，文化=中性，PublicKeyToken=792843134cf0407a”或其依赖项之一。该系统找不到指定的文件。文件名：Mercury.TD.Client.Ota.Core.Application.SSPREnabled(String serverUrl) 在 Mercury.TD.Client.UI.Core 的文件名：'interop.OTAClient，Version=10.0.0.2469，Culture=neutral，PublicKeyToken=792843134cf0407a' .Services.ConnectionManagementService.Initialize() 在 Mercury.TD.Client.UI.Core.Services.BaseService.Initialize(IServiceManager serviceManager) 在 Mercury.TD.Client.UI.Core.ServiceFactory `1.CreateService() at Mercury.TD.Client.UI.Core.ServiceManager.ServiceCache`1.b__0() 在 Mercury.TD。 Client.UI.Core.ServiceManager.ServiceCache `1.CreateService(ServiceConstructorDelegate`1 服务构造器，T& 服务）在 Mercury.TD.Client.UI.Core.ServiceManager.ServiceCache`1.GetServiceEx(ServiceConstructorDelegate`1 serviceConstructor) 在 Mercury.TD.Client.UI.Core.ServiceManager.ServiceCache `1.GetService() at Mercury.TD.Client.UI.Core.ServiceManager.ServiceCache`1.GetBaseService() 在 Mercury.TD.Client.UI.Core.ServiceManager.DoPublish[T](IServiceFactory `1 factory, Boolean activate) at Mercury.TD.Client.UI.Core.ServiceManager.PublishAndActivate[T,C]() at Mercury.TD.Client.UI.Core.ApplicationServicesPlugin.PublishServices(IServiceManager serviceManager) at Mercury.TD.Client.UI.Core.Services.ApplicationService.InitializePlugins() at Mercury.TD.Client.UI.Core.Services.ApplicationService.Start(Application application) at Mercury.TD.Client.UI.Core.Application.Start() at Mercury.TD.Client.UI.Core.Application.Initialize(String url, String configFilePath, IDictionary`2 属性)

警告：程序集绑定日志记录已关闭。要启用程序集绑定失败日志记录，请将注册表值 [HKLM\Software\Microsoft\Fusion!EnableLog] (DWORD) 设置为 1。注意：与程序集绑定失败日志记录相关的一些性能损失。要关闭此功能，请删除注册表值 [HKLM\Software\Microsoft\Fusion!EnableLog]。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T01:56:58.177

使用 Quality Center Explorer 加载项，而不是与浏览器绑定的加载项：

*   [ALM 资源管理器 11](http://update.external.hp.com/qualitycenter/qc110/others/almexplorer/index.html)
*   [QCExplorer 10](http://update.external.hp.com/qualitycenter/qc100/others/qcexplorer/index.html)
*   [QCExplorer 9](http://updates.merc-int.com/qualitycenter/qc90/others/qcexplorer/index.html)
*   [质量控制论坛](http://h30499.www3.hp.com/t5/Quality-Center-Support-and-News/Quality-Center-and-Windows-7/td-p/4630465)

# iis - 带有 http 处理程序的“服务不可用”

> ID：10223211
> 
> 赞同：1
> 
> 时间：2012-04-19T07:08:44.747
> 
> 标签：iis, httphandler

我在 2003 年使用 IIS 6。我创建了一个继承自 IHttpAsyncHandler 的 HTTP 处理程序 dll。dll 构建到 inetpub\www8080root\common\bin 目录中。它旨在拦截所有请求。

该网站设置为监视端口8080。我在www8080root 目录中创建了一个公共文件夹，并在II6 中创建了一个虚拟目录来指向它。我在公共目录中创建了一个 web.config 文件

当我访问[http://localhost:8080/common/index.html](http://localhost:8080/common/index.html)我得到的是

```
Service Unavailable 
```

我不确定这条消息来自哪里。w3wp.exe 无法启动，并且错误日志中没有任何内容表明存在问题。

我已经运行 aspnet_regiis -r

我不认为它发生在处理程序本身中，并且没有 w3wp.exe 我无法附加到该进程。我添加了 Debugger.Break() 但没有任何反应。

我不想加载 IIS 7，因为它与旧应用程序冲突。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:55:31.400

对我来说，问题是工作进程所模拟的身份不是 IIS_WPG 的成员。消息中的更多细节会很好。

# javascript - 双jsTree实现

> ID：10223212
> 
> 赞同：2
> 
> 时间：2012-04-19T07:08:44.957
> 
> 标签：javascript, jquery, tree, javascript-framework, jstree

我是 jsTree 的新手，我想使用双 jsTree。

**[左 JsTrree] [ >> ] [右 JsTrree]**

“>>”：从左到右复制所选节点的按钮 jsTree

我想从左到右复制部分树层次结构 jsTree。

*   没有重复节点。
*   我不想复制选定节点的子节点
*   根据右侧 jsTree 结构，仅从左侧 jsTree 中选择的节点合并到右侧 jsTree

如果用户从左侧 jsTree 中选择了任何节点，则在按钮（“>>”）上单击我想将部分树从选定节点复制到根节点。

**左jsTree如下**"

```
 Root
     -----A
          -----A1
               -----A1.1
               -----A1.2
          -----A2
               -----`A2.1`
               -----A2.2

     -----B
          -----B1
          -----B2

     -----C
          -----C1
               -----C1.1
               -----C2.2 
```

**-------------------------------------------------- ------------------------------------**
现在假设用户选择了节点 A2.1，然后在 button("> >") 单击下面的部分树应显示在右侧 jsTree

**[#1] 正确的 jsTree：**

```
 Root
     -----A
          -----A2
               -----`A2.1` 
```

现在根节点已添加到右侧 jsTree 中，现在仅选定的节点应合并到右侧 jsTree 中。

**-------------------------------------------------- ----------------------------------**

现在假设用户选择了 C1，那么只有 C1 应该合并到正确的 jsTree 中。

**[#2] 左侧jsTree添加C1后右侧jsTree结构：**

```
Root
     -----A
          -----A2
               -----A2.1 
     -----C
          -----`C1` 
```

假设用户选择了 A1，则 A1 应合并到适当的位置
**[#3] 从左侧 jsTree 添加 A1 后的右侧 jsTree 结构：**

```
Root
     -----A
          -----`A1`
          -----A2
               -----A2.1                   
     -----C
          -----C1 
```

到目前为止，我的解决方法如下

从左侧 jsTree 选择节点后，我正在构建从选定节点到根节点的 xml。并将生成的 partial_xml_string 存储到 cookie 中。OnClick of (">>") 按钮我正在从 cookie 中读取 partial_xml_string 的值 + 清除 partial_xml_string 的 cookie 值。[#1] 案例处理得当。还有其他实现 [#1] 案例的好方法吗？

使用 .get_path ( node , id_mode ) 我得到从根到叶节点的路径(ID & Name)

如果 id_mode =true 则节点**ID** = **Root.id,A.id, A2.id, A2.1.id**

如果 id_mode =false 则节点**名称**= **Root, A, A2, A2.1**

**是否可以将此路径设置为 jsTree 的右侧？**

**如果是，那么如何设置此路径？** **如果路径已经存在，那么如何防止复制**？否则将选定的节点合并到正确的 jsTree。

**-------------------------------------------------- ------------------------------------------**

使用 .bind("select_node.jstree", function (event, data) 我们可以处理选定节点上的事件。如何处理**+** * *icon* * 的 onClick 事件？

考虑我的左侧 jsTree 仅包含一个带有 + 图标的 Root 节点，那么如何处理 + 图标上的 onClick 事件？**看墨水的答案**

**我想获取选定节点的子节点如何将该子节点列表附加到选定节点？**

如何使用jsTree函数实现[#2]和[#3]？

在此问题上的任何帮助或指导将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T11:08:24.603

我可以帮助您处理 [+] 点击事件。您必须修改 jquery.jstree.js（未压缩版本）。打开它，找到字符串`toggle_node : function (obj)`（有一个制表符，所以 search `toggle_node`）并在此处添加 1 行。编辑后必须是：

```
 toggle_node : function (obj) {
            obj = this._get_node(obj);
            this.__callback(obj); // these line must be added
            if(obj.hasClass("jstree-closed")) { return this.open_node(obj); }
            if(obj.hasClass("jstree-open")) { return this.close_node(obj);}             
        }, 
```

现在您可以像往常一样为`toggle_node`事件绑定回调。这是示例：

```
 $("#your_jstree").bind("toggle_node.jstree", function (e, data) {
        is_opened = $(data.rslt).hasClass('jstree-open') ? false : true;
        node_id = $(data.rslt).attr('id');
        alert('node with id='+node_id+' is '+(is_opened ? 'opening' : 'closing')+' now.');          
    }) 
```

在节点打开或关闭*之前*的这些回调调用。而且这个事件在树加载时也不会触发，就像你使用`open_node`事件一样。

# twiki - 如何开始讨论 TWiki 上的页面？

> ID：10223218
> 
> 赞同：0
> 
> 时间：2012-04-19T07:09:20.550
> 
> 标签：twiki

我习惯了 Wikipedia 的 Wiki，现在我在工作中使用 TWiki，我真的很怀念在页面外讨论页面但仍在 TWiki 上的能力。

我错过了某个地方的按钮或链接吗？这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T16:38:20.667

在 MediaWiki（维基百科等）中，每个页面都有一个与之关联的讨论页面。在 TWiki 中不是这种情况，至少默认情况下不是这样。管理员可以构建类似的东西，但作为用户，您所能做的就是手动创建和链接讨论主题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:06:02.247

我认为您可以在 foswiki 上重用[http://foswiki.org/Extensions/TalkContrib](http://foswiki.org/Extensions/TalkContrib)中的模板代码- 我已经多年没有使用 TWiki，但 foswiki 是一个兼容的分支。

斯文

# java - Guava：如何在 Service 接口中添加其他状态？

> ID：10223222
> 
> 赞同：0
> 
> 时间：2012-04-19T07:09:55.037
> 
> 标签：java, guava, swingworker

我考虑将[Service](http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/util/concurrent/Service.html) guava 接口用作[SwingWorker](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html)，因为在 SwingWorker 中我总是需要一个*开始*和*结束*状态。

我应该写这样的东西：

```
class WorkerSomething extends 
 javax.swing.SwingWorker<Void, com.google.common.util.concurrent.Service.State>
 implements com.google.common.util.concurrent.Service 
```

这样，我只能使用guava服务状态来携带中间结果。但我需要一些其他中间状态来发布我的 GUI。

我怎样才能做到这一点 ？这个主意是个好主意吗？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T09:32:51.817

我会明确地说，如果现有`Service.State`值不适合您的需求，那么`Service`它本身就不适合您的需求。

# performance - 如何确保 phonegap js 在具有许多单独页面的应用程序中只加载一次？

> ID：10223225
> 
> 赞同：0
> 
> 时间：2012-04-19T07:10:22.400
> 
> 标签：performance, cordova

使用phonegap 1.6，现在称为cordova 1.6，使用jquery mobile 1.0.1，但我觉得性能是个问题。还有一些其他的js库，比如iscroll.js，加上性能问题。

我可以只加载一次phonegap js，然后所有页面仍然可以使用phonegap api吗？

我有一个想法，页面 A 加载 phonegap js，嵌套 iframe 引用页面 B。页面 B 将被其他页面替换。iframe 中的页面可以使用其父 phonegap api 吗？

例如：父母。（所有phonegap api）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T15:36:56.627

您可以使用 jQuery Mobile data-role="page" 在单个 html 页面上定义多个页面，并加载一个 phonegap.js。

[请参阅http://jquerymobile.com/demos/1.1.0/docs/pages/page-anatomy.html](http://jquerymobile.com/demos/1.1.0/docs/pages/page-anatomy.html)上的文档

# iphone - 如何在 iphonse sdk 上获取收件箱中的所有短信？

> ID：10223232
> 
> 赞同：3
> 
> 时间：2012-04-19T07:10:43.980
> 
> 标签：iphone, ios, xcode

> **可能重复：**
> [阅读 iphone 短信？](https://stackoverflow.com/questions/640020/read-iphone-sms-messages)

我有以下与获取短信有关的问题。

1.  我想获取所有 SMS 文本、发件人号码、日期。
2.  如何通过我的应用发送短信？
3.  之后我想在应用商店上传应用程序，那么苹果会允许我上传应用程序来完成上述任务吗？请在这些问题上帮助我，并与我分享与此任务相关的帮助材料或教程。提前致谢 ：）。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-19T07:14:53.667

1.  不可能。
2.  检查[这个](http://developer.apple.com/library/ios/#documentation/MessageUI/Reference/MFMessageComposeViewController_class/Reference/Reference.html)
3.  允许通过应用程序发送短信，但不允许访问收件箱以获取短信/电子邮件。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-19T07:13:50.237

从 iOS 4 开始，您无法访问 SMS 数据进行阅读，因为存在严重的隐私问题。

Apple 不会允许应用程序进入执行此操作的商店。

[这是一个更详细的相关问题和答案](https://stackoverflow.com/a/3207977/981049)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-03T12:26:37.137

如果您有越狱设备，这是可能的。您可以使用 jailcoder 来伪造代码签名，然后将您的应用程序移动到 /Applications 文件夹。这样您就可以访问您越狱的 iOS 设备中的任何数据库。显然，Apple 拒绝了您的应用程序，但在 Cydia 中却没有。

# java - Java检查图像是否具有透明度

> ID：10223241
> 
> 赞同：9
> 
> 时间：2012-04-19T07:11:11.843
> 
> 标签：java, graphics, transparency

是否可以检查 png 图像在 Java 中是否具有透明度？如果 png 图像不包含透明度，我需要将所有 png 图像转换为 jpg。Java中有没有方法来检查这个？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-04-19T08:03:07.107

您可以检查图像的颜色模型是否包含 alpha 通道：

```
BufferedImage img = ImageIO.read(/* from somewhere */);

if (img.getColorModel().hasAlpha()) {
    // img has alpha channel
} else {
    // no alpha channel
} 
```

请注意，此代码仅检测已使用 Alpha 通道保存的图像。带有 alpha 通道的图像可能仍然是完全不透明的（即所有像素的 alpha = 1）。

# python - openerp 中的发票

> ID：10223244
> 
> 赞同：2
> 
> 时间：2012-04-19T07:11:31.307
> 
> 标签：python, xml, database, openerp

为什么会出现这个错误？

```
 ProgrammingError: operator does not exist: integer = boolean
    LINE 1: select name, model from ir_ui_view where (id=false or inheri...
                                                        ^
    HINT:  No operator matches the given name and argument type(s). 
    You might need to add explicit type casts. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:15:10.750

您正在尝试将整数与布尔值进行比较（如错误所示）。

由于这是 SQL 0（数字）不等于 false（布尔类型）。

您需要明确地给它一个数字 id 或过滤 NULL（取决于表的架构）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-23T13:38:59.673

在 openerp 中编码时，当您尝试写入具有空 id 列表的记录（数据库表）时会出现此错误。因此，请检查您是否为 write 函数提供了正确的 id

# c# - 使用 Linq 统计平均数据

> ID：10223246
> 
> 赞同：0
> 
> 时间：2012-04-19T07:12:03.980
> 
> 标签：c#, linq, average

我有一个名为 HardwarePerformance 的类，其中包含以下字段：时间、cpuUsagePercent、memoryUsagePercent、diskUsage、diskRead、diskWrite、latency。我已经填充了一个 List 对象来包含非统计数据。我需要计算 Linq 命令中所有这些字段的平均值。我不知道如何使用 Linq 获得平均值。下面是我写的代码（当然是不正确的）。

```
var _hardwarePerf = (from _stats in _statsList 
                    where _time>=DateTime.Parse("2012-04-04 00:00:00")
                        &&_time<=DateTime.Parse("2012-04-04 11:00:00") 
                    select new {
                           Latency = _stats.latency, 
                           CpuUsagePercent = _stats.cpuUsagePercent, 
                           MemoryUsagePercent = _stats.memoryUsagePercent, 
                           DiskUsage = _stats.diskUsage, DiskRead = _stats.diskRead, 
                           DiskWrite = _stats.diskWrite
                    }).Average(Latency => Latency.Latency); 
```

此代码的语法是正确的。但是我想同时计算所有的平均值，我该如何编写我的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:22:57.127

LINQ 中没有为此的内置方法。如果您不介意您将多次迭代集合，并假设匿名对象对您来说没问题，您可以执行以下操作（其中`filteredStats`包含您想要平均的数据，可能按时间过滤）：

```
var averages =
    new
    {
        Latency = filteredStats.Average(x => x.Latency),
        CpuUsagePercent = filteredStats.Average(x => x.CpuUsagePercent),
        …
    }; 
```

如果这不是您想要的，您可能必须自己计算平均值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:32:56.450

下面计算一次迭代中的所有平均值，尽管代码量很大。

请注意，我假设`time`它是您的 stats 对象上的一个属性，否则您`select where time`没有多大意义。

```
var _hardwareAccumulator =
    _statsList
        .Where(s =>
            s.time >= DateTime.Parse("2012-04-04 00:00:00") &&
            s.time <= DateTime.Parse("2012-04-04 11:00:00"))
        .Aggregate(
            new
            {
                count = 0,
                cpuUsagePercent = 0.0,
                memoryUsagePercent = 0.0,
                diskUsage = 0.0,
                diskRead = 0.0
            },
            (acc, s) =>
                new
                {
                    count = acc.count + 1,
                    cpuUsagePercent =
                        acc.cpuUsagePercent + s.cpuUsagePercent,
                    memoryUsagePercent =
                        acc.memoryUsagePercent + s.memoryUsagePercent,
                    diskUsage =
                        acc.diskUsage + s.diskUsage,
                    diskRead =
                        acc.diskRead + s.diskRead
                }
            );
var _hardwarePerf = new
{
    cpuUsagePercent =
        _hardwareAccumulator.cpuUsagePercent / _hardwareAccumulator.count,
    memoryUsagePercent =
        _hardwareAccumulator.memoryUsagePercent / _hardwareAccumulator.count,
    diskUsage =
        _hardwareAccumulator.diskUsage / _hardwareAccumulator.count,
    diskRead =
        _hardwareAccumulator.diskRead / _hardwareAccumulator.count
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:33:30.923

您要么需要在单独的语句中执行此操作，要么可以以这种不太直观的方式执行此操作：

```
var averages = statsList.Where(s => s.time >= new DateTime(2012, 4, 4) && s.time <= new DateTime(2012, 4, 04, 11, 0, 0))
            .GroupBy(s => 1)
            .Select(grp => new
            {
                Latency = grp.Average(s => s.latency),
                CpuUsagePercent = grp.Average(s => s.cpuUsagePercent),
                MemoryUsagePercent = grp.Average(s => s.memoryUsagePercent),
                DiskUsage = grp.Average(s => s.diskUsage),
                DiskRead = grp.Average(s => s.diskRead),
                DiskWrite = grp.Average(s => s.diskWrite)
            }).FirstOrDefault(); 
```

请注意，`.GroupBy(s => 1)`只是为了能够计算每个属性的平均值。另请注意，我已从您的属性名称中删除了下划线，并为您的课程添加了*时间*。

另一种方法更容易阅读：

```
var theStats = statsList.Where(s => s.time >= new DateTime(2012, 4, 4) && s.time <= new DateTime(2012, 4, 04, 11, 0, 0));
var Latency = theStats.Average(s => s.latency);
var CpuUsagePercent = theStats.Average(s => s.cpuUsagePercent);
// .... 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-04-19T07:22:17.663

您可以使用“分组依据”，然后您可以使用平均投影来计算。

```
var query = from _stats in _statsList 
    group _stats by new {
               Latency = _stats.latency, 
               CpuUsagePercent = _stats.cpuUsagePercent, 
               MemoryUsagePercent = _stats.memoryUsagePercent, 
               DiskUsage = _stats.diskUsage, 
               DiskRead = _stats.diskRead, 
               DiskWrite = _stats.diskWrite

    } into myGroup
    select new {
        AverageVal = myGroup.Average(x => x.Value),
        CpuUsagePercent = myGroup.Key.CpuUsagePercent,
        ... // the rest of your projection
}; 
```

[LINQ 平均值](https://stackoverflow.com/questions/5313665/c-sharp-linq-average)

# android - 如何解决上传图片到服务器的错误？

> ID：10223251
> 
> 赞同：1
> 
> 时间：2012-04-19T07:12:27.660
> 
> 标签：android, vb.net, web-services, soap

我再次写它，我正在开发一个应用程序，用户通过图像单击图片，图像将存储在 sdcard 中，然后我从图像视图中选择图片并将该图片发送到服务器。我已经将我的图像转换为字节数组，然后以 Base64 字符串格式对其进行编码，但是当我尝试将该图像发送到服务器时，它给了我一个肥皂错误错误。这是我的android设备代码：

公共无效完成图像（）{

```
 ByteArrayOutputStream out = new ByteArrayOutputStream();
    bitmap.compress(CompressFormat.JPEG, 100, out);
    byte[] imagebyte = out.toByteArray();

    String jp = caption.getText().toString();//for fetching the path of selected image path.//

    SoapObject Request = new SoapObject(NAMESPACE, METHOD_NAME);
    String strBase64 =  Base64.encode(imagebyte);

    PropertyInfo addProp = new PropertyInfo();
    addProp.setName("imgdata");
    addProp.setValue(strBase64);
    addProp.setType(String.class);
    Request.addProperty(addProp);

    PropertyInfo addProp1 = new PropertyInfo();
    addProp1.setName("FileName");
    addProp1.setValue(jp);
    addProp1.setType(String.class);
    Request.addProperty(addProp1);

    SoapSerializationEnvelope soapEnvelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    soapEnvelope.dotNet=true;
    soapEnvelope.setOutputSoapObject(Request);

    HttpTransportSE aht=new HttpTransportSE(URL);

      try
       {
        aht.call(SOAP_ACTION, soapEnvelope);
        SoapPrimitive response = (SoapPrimitive)soapEnvelope.getResponse();
        Toast.makeText(getApplicationContext(), "Success" +response, Toast.LENGTH_LONG).show();
       }
      catch (Exception e) {
            if (dialog.isShowing())
                dialog.dismiss();
                dialog.cancel();
            Toast.makeText(getApplicationContext(),
                    e.toString(),
                    Toast.LENGTH_LONG).show();
            caption.setText(e.toString());
            //return null;
            //Log.e(e.getClass().getName(), e.getMessage(), e);

        }
} 

   @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

      switch (requestCode) {
     case PICK_IMAGE:
    if (resultCode == Activity.RESULT_OK) {
       Uri selectedImageUri = data.getData();

       String filePath = null;

      try {
       // OI FILE Manager
       String filemanagerstring = selectedImageUri.getPath();

       // MEDIA GALLERY
        String selectedImagePath = getPath(selectedImageUri);

        if (selectedImagePath != null) {
        filePath = selectedImagePath;

        caption.setText(selectedImagePath);

         } else if (filemanagerstring != null) {
        filePath = filemanagerstring;

        caption.setText(filemanagerstring);
            } else {
            Toast.makeText(getApplicationContext(), "Unknown path",
                            Toast.LENGTH_LONG).show();
            Log.e("Bitmap", "Unknown path");
               }

    if (filePath != null) {
       decodeFile(filePath);
     } else {
        bitmap = null;
        }
    } catch (Exception e) {
         Toast.makeText(getApplicationContext(), "Internal error",
                        Toast.LENGTH_LONG).show();
         Log.e(e.getClass().getName(), e.getMessage(), e);
        }
        }
        break;
    default:
    }
} 
```

在服务器端，我使用了 vb.net 网络服务。代码是：

_ 公共函数 UploadImage(ByVal imgdata As String, ByVal FileName As String) As Integer

```
 'Find the path on the server of our apps images folder
    Dim FilePath As String = Server.MapPath("images")

    'strip the path and .jpg etc out of our filename
    Dim i As Integer = InStrRev(FileName, "\")
    FileName = Mid(FileName, i)
    Dim j As Integer = InStr(FileName, ".") - 1
    Dim k As Integer = Len(FileName)
    FileName = Mid(FileName, 1, j)

    'Storing an image to bitmap after converting from base64 format'
    Dim Bm As New System.Drawing.Bitmap(Base64ToImage(imgdata))

    'Convert the bitmap to a png and save it in our images folder
    BM.Save(FilePath & FileName, Imaging.ImageFormat.Jpeg)

    'eventually we will create a database entry for this image and return the image ID
    Return 1
End Function

'For converting the base64 satring value into the image'
Public Function Base64ToImage(ByVal base64String As String) As Image
    ' Convert Base64 String to byte[]
    Dim imageBytes As Byte() = Convert.FromBase64String(base64String)
    Dim ms As New MemoryStream(imageBytes, 0, imageBytes.Length)

    ' Convert byte[] to Image
    ms.Write(imageBytes, 0, imageBytes.Length)
    Dim image__1 As Image = Image.FromStream(ms, True)
    Return image__1
End Function 
```

请大家帮帮我，我从过去 4 天开始一​​直在努力。任何帮助表示赞赏。并提前致谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T13:28:58.963

休息会更好地从android调用服务。无论如何，如果您想以自己的方式执行此操作，则可以将流发送到您的服务，请创建一个采用流的方法。并且您的 android 端询问输出流的连接并将所有字节写入其中。

我已经用 Restful wcf 做到了这一点。供参考： [将 MS Word 文件从 Android 上传到 .Net WCF？](https://stackoverflow.com/questions/7860298/uploading-ms-word-files-from-android-to-net-wcf/8209430#8209430)

# java - 如何通过套接字 C++ 服务器/Java 客户端发送 int

> ID：10223257
> 
> 赞同：0
> 
> 时间：2012-04-19T07:12:52.077
> 
> 标签：java, c++, sockets

我在将 int 从 Java 客户端发送到 C++ 服务器时遇到问题。我不想改变服务器的代码（我听说过一些关于 htonl 的事情）。现在从客户端 13928 (0011 0110 0110 1000) 发送，我在我的服务器上收到 6829568(0110 1000 0011 0110 0000 0000)。是否有 un Java 任何类似于 htonl 的功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:21:18.593

更改服务器的代码。它坏了。

问题是服务器“理解”的格式实际上*会*根据其 CPU 架构而有所不同。Java 正在发送标准的网络字节顺序，这是正确的做法——然后服务器必须`ntohl()`将其转换为其内部格式。更改客户端代码以包含有关服务器字节序的假设是一个非常非常糟糕的主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:14:45.150

只是做数学。使用位移、逻辑与和逻辑或。例如，要提取四个八位字节，您可以使用：

```
x & 0xff
(x >> 8) & 0xff
(x >> 16 ) & 0xff
(x >> 24 ) % 0xff 
```

而不是`>> 8`你可以使用`/ 256`. 而不是`& 0xff`，您可以使用`% 256`. 只需将操作放在一起即可。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T18:19:17.630

查看 XDR ，这定义了客户端和服务器之间通信时应该使用的标准。如果可能的话，将 cleint 的 int 复制到一个字符串中，然后将该字符串发送到服务器，然后在那里将字符串转换为整数。这是发送 int 的最有效方式。

# c# - 将 json 与 WCF 一起使用？这简单吗？

> ID：10223264
> 
> 赞同：1
> 
> 时间：2012-04-19T07:13:18.567
> 
> 标签：c#, json, wcf

我需要建立一个服务层。我需要为 MVC UI 层提供服务。它还需要为原生应用程序提供服务。我想以 json 格式提供所有内容，因为数据包很小，而且我不想调试多个协议。

不过，我喜欢使用 SOAP，因为它可以让您轻松地使用 c# 构建引用。

所以我有点卡住了。构建服务层以返回 json 并从某些合同自动构建的最佳方法是什么？有办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:23:39.950

您可以在 WCF operationContract 方法中使用简单的 json 序列化：

```
[WebInvoke(Method = "GET",
       RequestFormat = WebMessageFormat.Json,
       ResponseFormat = WebMessageFormat.Json,
       UriTemplate = "myTpl")] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:34:20.390

You can enable json by adding setting to your config under endpointBehaviors:

```
<webHttp defaultOutgoingResponseFormat="Json"/> 
```

# c - 通过 sscanf 解析 syslog 消息

> ID：10223267
> 
> 赞同：2
> 
> 时间：2012-04-19T07:13:28.860
> 
> 标签：c, syslog, scanf

我收到一条`syslog`消息

```
<14>2012-04-19T03:54:18+08:00.527800 server3000 status: 00|00|The average CPU, memory, disk usage and total network flow are 5.0%, 5.0%, 5.0% and 5 bytes respectively for the last hour.\n 
```

如何`2012-04-19,03:54:18+08:00.527800,server3000,status,00,00 and 5.0`通过函数获取单词`sscanf`？

```
#include <stdio.h>
#include <stdlib.h>

int main(void) {
int t1,t2 = 0;
char programname[20], deviceip[16], date[11], time[9];
char logmsg[30];
const char * s = "<14>2012-04-19T03:54:18.527800+08:00 server3000 status: 00|00|The average CPU, memory, disk usage and total network flow are 5.0%, 5.0%, 5.0% and 5 bytes respectively for the last hour";
sscanf(s, "<%*d>%[^T]T%[^.].%*[^ ] %[^ ] %[^:]: %d|%d|%[^\n]", date, time,deviceip, programname, &t1, &t2, logmsg);
return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:34:05.237

您可能希望保存结果`sscanf`并检查其值：

```
int rc = sscanf(...);
if(rc < 7)
    // failed to match or extract 
```

`sscanf`在您的代码中返回 7，这意味着您的格式字符串匹配并提取了所有 7 个参数。

# c# - 如何通过控制台以隐藏模式运行复制命令？

> ID：10223285
> 
> 赞同：2
> 
> 时间：2012-04-19T07:15:05.663
> 
> 标签：c#, .net, console, compiler-errors

我想将文件从其他驱动器复制到 c:\windows，我用过这个

```
string strCmdLine = " /c xcopy D:\image1.jpg C:\windows";
Process.Start("CMD.exe", strCmdLine); 
```

但给出的错误

> 无法识别的转义序列

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:16:10.100

您需要转义特殊`\`字符：

```
strCmdLine = " /c xcopy D:\\image1.jpg C:\\windows"; 
```

或者简单地说：

```
strCmdLine = @" /c xcopy D:\image1.jpg C:\windows"; 
```

# php - php电子邮件中\r\n和\n\n之间的区别

> ID：10223292
> 
> 赞同：3
> 
> 时间：2012-04-19T07:15:20.220
> 
> 标签：php, email, newline

我正在设置一个 php 邮件发送脚本...

在添加不同的标题时，我在电子邮件中遇到了新行的符号（因为 <br> 标签不会这样做）......

所以我的问题是 \r\n 和 \n\n 有什么区别？

例如：

```
echo $var1 . " \r\n" . $var2 . "\n\n"; 
```

感谢您的帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T07:25:51.710

`\r\n`是标准。

来自[RFC 2822](http://www.ietf.org/rfc/rfc2822.txt)

> 消息被分成多行字符。**一行是由两个字符回车和换行分隔**的一系列字符；即，回车 (CR) 字符（ASCII 值 13）紧跟换行 (LF) 字符（ASCII 值 10）。（回车/换行对在本文档中通常写为“CRLF”。）

另一个`\n\n`只有2行。

如果这是我相信的电子邮件标题

```
echo $var1 . " \r\n" . $var2 . "\r\n\r\n"; 
```

这`\r\n\r\n`是标题和正文的分隔符。它可以是 HTTP 或 SMTP

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-19T07:21:06.317

`\r`表示回车，`\n`表示换行。比较容易想象成打字机，`\r`就是当你把纸架（可能叫马车？？？）从左往右推，这样你就可以在行首打字了，`\n`意志降低一行。传统上，windows 和基于 windows 的程序两者都需要，但现在大多数程序都认为`\n`是所有操作系统的新产品线。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-19T07:17:50.933

`\r\n`是 windows 中的一个新行，`\n\n`在类 UNIX 系统上将是两个新行。

不要将换行符与 HTML 中存在的换行符混淆。它基本上只是您在纯文本文件中看到的新行，但在浏览器中看不到。

见[换行](http://en.wikipedia.org/wiki/Newline)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-19T07:18:32.747

实际上 \r\n 是单个换行符的 Windows 标准。unix 标准是单个 \n 字符。

大多数情况下（在电子邮件中），您可以忽略 \r 字符，而仅将 \n 用于单个换行符。这也意味着 \n\n 代表双换行符。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-19T07:22:52.943

`"\r\n"`主要用于 DOS，而在 UNIX 中则以`"\n"`. 因此，如果您`"\n\n"`在 UNIX 中进行解释，它将相当于两个换行符。既然你提到了 PHP，那么使用 PHP 预定义的常量是安全的`PHP_EOL`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T07:16:51.937

\n 是换行符，\r 是回车符。

[http://en.wikipedia.org/wiki/Newline#In_programming_languages](http://en.wikipedia.org/wiki/Newline#In_programming_languages)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-19T07:19:59.360

`\r`回车将输入位置移回开头。然后`\n`前进到新的线路。

# c - 在linux内核模块中运行无限循环

> ID：10223295
> 
> 赞同：5
> 
> 时间：2012-04-19T07:15:53.837
> 
> 标签：c, linux, linux-kernel

我制作了一个模块，我想在其中运行一个无限循环，直到我不卸载该模块。目前，如果我执行 rmmod，它会让我注意到模块仍然很忙，并且在一段时间后内核恐慌。

```
while(1)
{
    .......

} 
```

有什么技巧可以让我运行无限循环，直到我卸载模块。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-19T13:16:15.650

这个循环在什么上下文中运行？这是一个非常重要的问题。

如果`init_module`运行它，那么该`insmod`过程将永远不会结束，这是非常糟糕的。
如果某个系统调用运行它，那么系统调用将不会返回，并且它也将是坏的。
在这两种情况下，都没有办法终止进程（甚至没有`kill -9`）。
如果您在 softIRQ 处理程序（或者更糟糕的是，hardIRQ 处理程序）中执行此操作，您将挂起系统。

如果您在专用于此任务的内核线程中执行此操作，则您有机会正确处理。
但是，如果您不想完全占用 CPU，则需要调用调度程序并让它运行其他任务。`msleep_interruptible`是一个很好的方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T07:19:54.913

我不确定这会起作用，但不是`while(1)`, use `while(notStopped)`，它`1`最初设置为 ，然后将其设置为`0`in `stop_module()`。

# bash - 如何从使用 xargs 运行的脚本中提示用户

> ID：10223296
> 
> 赞同：8
> 
> 时间：2012-04-19T07:16:01.480
> 
> 标签：bash, xargs

我正在使用 xargs 将参数填充到我想要停止脚本的脚本中，等待用户输入。就像是：

```
echo a b c | xargs bash -c 'for a in "$@"; do echo $a; read; done' 
```

但`read`被忽略了。似乎第二个脚本也试图从管道中获取它的输入？我试过`xargs -p`了，但没有更好。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T07:34:03.267

如果选项`-a`被赋予`xargs`，参数将从文件而不是标准输入中读取。您可以使用 bash 的*进程替换*和语法`<( ... )`来动态创建*文件*。

```
xargs -a <( echo A B C ) bash -c 'for x in "$@"; do echo $x; read; done' 
```

请注意，这里`$@`遗漏了第一个参数（在本例中为“A”）。这是因为`bash -c`将 'A' 放入`$0`（通常采用脚本文件的名称），并`$@`提供`$1`等`$2`...（在本例中为 'B' 和 'C'）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-08-20T13:06:47.843

另一个不依赖 Bash 而是依赖[GNU 风格的 xargs 的](https://www.gnu.org/software/findutils)解决方案是使用`-o`or`--open-tty`选项：

```
echo a b c | xargs --open-tty bash -c 'for a in "$@"; do echo $a; read; done' 
```

从手册页：

```
-o, --open-tty
       Reopen  stdin as /dev/tty in the child process before executing the command.  This is use‐
       ful if you want xargs to run an interactive application. 
```

# c# - 将 KeyDown 事件 (Keys) 连接到一个 C# (wpf) 字符串

> ID：10223297
> 
> 赞同：6
> 
> 时间：2012-04-19T07:16:04.337
> 
> 标签：c#, wpf, string, keydown, magnetic-cards

我有一个使用键盘输入发送数据的磁卡读卡器。我正在使用获取此对象的 KeyDown 事件（C# WPF）：

```
KeyEventArgs e 
```

我想把我得到的钥匙变成一个字符串。我试图 concat `e.Key.ToString()`，但这不起作用。我的输入有很多数字和符号（例如 ; ? = 等），并且 e.Key.ToString() 东西不起作用（它给我 D3 一个数字，而 SHIFT 或 CTRL + 另一个键标志）。

我只想要字符串，所以当我使用例如 Console.WriteLine 我会得到类似的东西

```
;51895401051=000001341? 
```

并不是

```
Oem1SHIFTD1CNTRLD2D3D2D1SHIFTD9OemQuestion .... 
```

我尝试使用 KeyConverter，但我无法弄清楚这一点。

有人可以帮帮我吗？

我当前的事件处理程序（不能正常工作）是：

```
 public static void keyPress(Object sender, KeyEventArgs e)
    {

            string keyCodeString = e.Key.ToString();

            char? key = null;

            if (keyCodeString.Length == 1)
            {
                key = keyCodeString[0];
            }
            else
            {
                if (keyCodeString.StartsWith("NumPad"))
                {
                    key = keyCodeString[keyCodeString.Length - 1];
                }
                else if (keyCodeString.StartsWith("D"))
                    key = keyCodeString[keyCodeString.Length - 1];
            }
            TypedText += key;
        } 
```

其中 TypedText 是我想要将键连接到的字符串。上面解释了输出结果。

* * *

**我自己解决了。**这是答案。下面的 `GetCharFromKey`函数获取一个密钥（您应该发送 e.Key）并返回一个字符：

```
 public enum MapType : uint
    {
        MAPVK_VK_TO_VSC = 0x0,
        MAPVK_VSC_TO_VK = 0x1,
        MAPVK_VK_TO_CHAR = 0x2,
        MAPVK_VSC_TO_VK_EX = 0x3,
    }
    [DllImport("user32.dll")]
    public static extern bool GetKeyboardState(byte[] lpKeyState);
    [DllImport("user32.dll")]
    public static extern uint MapVirtualKey(uint uCode, MapType uMapType);
    [DllImport("user32.dll")]
    public static extern int ToUnicode(
     uint wVirtKey,
     uint wScanCode,
     byte[] lpKeyState,
     [Out, MarshalAs(UnmanagedType.LPWStr, SizeParamIndex = 4)] 
        StringBuilder pwszBuff,
     int cchBuff,
     uint wFlags);

    public static char GetCharFromKey(Key key)
    {
        char ch = ' ';

        int virtualKey = KeyInterop.VirtualKeyFromKey(key);
        byte[] keyboardState = new byte[256];
        GetKeyboardState(keyboardState);

        uint scanCode = MapVirtualKey((uint)virtualKey, MapType.MAPVK_VK_TO_VSC);
        StringBuilder stringBuilder = new StringBuilder(2);

        int result = ToUnicode((uint)virtualKey, scanCode, keyboardState, stringBuilder, stringBuilder.Capacity, 0);
        switch (result)
        {
            case -1:
                break;
            case 0:
                break;
            case 1:
                {
                    ch = stringBuilder[0];
                    break;
                }
            default:
                {
                    ch = stringBuilder[0];
                    break;
                }
        }
        return ch;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:50:43.580

好的，我在这里做了一些假设：

1.  该值被输入到文本框中。
2.  读卡器在输入所有值后使用回车键。

如果上述情况属实，您可以这样做：

```
private void OnKeyDownHandler(object sender, KeyEventArgs e)
{
    if (e.Key == Key.Return)
    {
        var valueEntered = cardReaderValue.Text;
    }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-19T07:27:32.350

尝试投射它：

```
char c = (char)e.KeyCode; 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-04-19T07:43:32.060

```
string keylog=""; // do global declaration
//use the bellow line in event handler
keylog= keylog +  e.Key.ToString(); 
```

# iphone - 我可以分配由 AVAssetExportSession 导出的 m4a 的采样率或比特率吗

> ID：10223302
> 
> 赞同：4
> 
> 时间：2012-04-19T07:16:15.740
> 
> 标签：iphone, ios, avfoundation

那是一些代码段：

```
AVURLAsset *songAsset = [AVURLAsset URLAssetWithURL:assetURL options:nil];
AVAssetExportSession *exporter = [[AVAssetExportSession alloc]
                                      initWithAsset: songAsset
                                      presetName: AVAssetExportPresetAppleM4A];
NSLog (@"created exporter. supportedFileTypes: %@", exporter.supportedFileTypes);
exporter.outputFileType = @"com.apple.m4a-audio";
[exporter exportAsynchronouslyWithCompletionHandler:^{}..... 
```

我用它从 ipod 库中导出 m4a。

这个 m4a 文件的大小是 10M。

我可以通过设置比特率的采样率来压缩 m4a 吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T00:23:57.520

您不能直接指定。您唯一的选择是：

```
NSString *const AVAssetExportPresetLowQuality;
NSString *const AVAssetExportPresetMediumQuality;
NSString *const AVAssetExportPresetHighestQuality; 
```

# objective-c - cocoa：如何将Integer 类型转换为string 类型？

> ID：10223303
> 
> 赞同：1
> 
> 时间：2012-04-19T07:16:34.477
> 
> 标签：objective-c, xcode, macos, cocoa

代码无法运行错误：方法调用的参数太多，预期 1，有 2

```
NSDate *nows =[NSDate date];
NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *dateComponents = [gregorian components:(NSHourCalendarUnit  | NSMinuteCalendarUnit | NSSecondCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit) fromDate:nows];
NSInteger hour = [dateComponents hour];
NSInteger minute = [dateComponents minute];
NSInteger second = [dateComponents second];
NSInteger month=[dateComponents month];
NSInteger day=[dateComponents day];
NSLog(@"%lu",day);    

statusItem.image=[NSImage imageNamed:@"status%lu.png",day];

[gregorian release]; 
```

![在此处输入图像描述](../Images/28790be02e5e849a18e17cbf7d61dcb9.png)

是不是试图将 Integer 类型转换为字符串类型？我能做些什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-19T07:18:08.907

NSImage 的“imageNamed”方法对格式字符串一无所知。

改变这个：

```
statusItem.image=[NSImage imageNamed:@"status%lu.png",day]; 
```

对此：

```
statusItem.image=[NSImage imageNamed:[NSString stringWithFormat: @"status%lu.png",day]]; 
```

# testng - TestNG- XML 报告中的“is-config”属性

> ID：10223304
> 
> 赞同：0
> 
> 时间：2012-04-19T07:16:41.420
> 
> 标签：testng

在我的项目中，我需要解析由surefire插件生成的默认xml报告（**testng-results.xml**）。为此，我需要从 xml 报告中识别**测试方法。**

经过分析，我发现非测试方法存在一个“is-config”属性。谁能帮帮我，这个属性是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T09:52:19.123

使用@BeforeXX 和@AfterXX 注解的方法被视为配置方法，因为它们可用于在实际测试开始之前配置环境。因此，我相信结果 xml 中这些方法的 is-config 设置为 true，而对于理想情况下包含您的测试的测试方法，则不会设置此参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T17:26:35.457

它用于配置方法（@Before*/@After*）。

# php - POST 直到第二次才起作用

> ID：10223308
> 
> 赞同：0
> 
> 时间：2012-04-19T07:16:51.363
> 
> 标签：php, javascript, post

那么Javascript对我来说是新的，但我不认为它会导致这样的问题。要么我做错了，要么我应该改用 cookie。

我正在尝试使用 javascript 通过链接将 POST 数据提交到 php 页面。我之前问过一个关于如何传递这样的数据的问题，除了 AJAX 之外，它基本上归结为制作一个隐藏表单并让 javascript 提交它。我现在对 AJAX 或 Jquery 一无所知，所以我坚持使用 form 方法。

但由于某种原因，代码没有发布我的数据。我不知道为什么，直到我不小心连续点击了两次，然后数据出现了。

场景是链接将您带到数据所在的页面，并且数据通过 var_dump 得到处理和显示。

这是必要的编码。

```
function red()
{
    alert('This is happening');
    document.traf.traf2.value = 3;
    document.traf.submit(); 
} 
```

和

```
echo "<form name='traf' method='post' action='newphpwriterthing.php'><input type='hidden' name='traf2' /></form>"; //FORM SET
echo "<a href='newphpwriterthing.php' onClick='red()'> <img src='red.png' height='150' /></a>"; 
```

该函数似乎被调用得很好，但我的印象是价值和提交没有做任何事情......直到我意外击中它两次并且它完全按照它应该做的那样做。

我还尝试单击一次以进入该页面，然后多次刷新以查看该值是否“尚不存在”。没有。

这是怎么回事，我该如何解决？我最好使用cookies吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:24:24.020

您的链接有一个 href，所以它只是让您访问该 URL。

添加`return false;`到`red`函数的末尾。

或者也许你应该`onClick='red()'`改用`onClick='red() return false;'`- 有一段时间没有那样使用它了。

# machine-learning - 使用 Sentiwordnet 3.0

> ID：10223314
> 
> 赞同：6
> 
> 时间：2012-04-19T07:17:34.697
> 
> 标签：machine-learning, nlp, wordnet, sentiment-analysis, senti-wordnet

我计划使用 Sentiwordnet 3.0 进行情感分类。有人可以澄清与 Sentiwordnet 中的单词相关的数字代表什么吗？例如，排名#5 中的 5 是什么意思？同样对于 POS，用来表示副词的字母是什么？我假设'a'是形容词。我在他们的网站或其他网站上都找不到解释。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-19T07:38:37.877

我找到了答案。似乎数字符号来自 Wordnet。它表示给定单词常用的排名。所以 rank#5 是指排名第 5 最常用的上下文。同样，rank#1 是指最常用的排名的含义。以下是 POS 符号：

n - 名词
v - 动词
a -形容词
s - 形容词 SATELLITE
r - 副词

# python - Python 文件名/路径解析错误的希伯来语编码（使用 optparse 库）

> ID：10223322
> 
> 赞同：1
> 
> 时间：2012-04-19T07:18:02.790
> 
> 标签：python, linux, unicode, filesystems, hebrew

我对这段代码有疑问：

```
import optparse
parser = optparse.OptionParser(version=__version__,
    usage="%prog [options] file1 ... host[:dest]",
    description=main.__doc__)
parser.add_option("-c", "--config", help="Specify an alternate config "
    "file.  Default = '%s'" % config_file)
parser.add_option('-l', '--log-level', type="choice",
    choices=LOG_LEVELS.keys(),
    help="Override the default logging level. Choices=%s, Default=%s" %
        (",".join(LOG_LEVELS.keys()), LOG_LEVEL))
parser.add_option("-o", "--overwrite", action="store_true",
    help="If specified, overwrite existing files at destination.  If "
    "not specified, throw an exception if you try to overwrite a file")
parser.add_option('-s', "--speed", action="store_true", \
    help="If specifed, print the data transfer rate for each file "
        "that is uploaded (infers verbose option)")
parser.add_option('-v', '--verbose', action="store_true",
    help="If specified, print every file that is being uploaded and every "
        "directory that is being created")
parser.add_option("-u", "--user", help="The username to use for "
    "authentication.  Not needed if you have set up a config file.")
parser.add_option("-p", "--password", help="The password to use for "
    "authentication.  Not needed if you have set up a config file.")

parser.set_defaults(config=config_file, log_level=LOG_LEVEL)
options, args = parser.parse_args()
print (args) 
```

如您所见，当我打印我们正在使用希伯来命名文件进行的测试时，打印结果包括： ['/root/mezeo_sdk/1/\xfa\xe5\xeb\xf0\xe9\xfa \xf2\ xe1\xe5\xe3\xe4.xlsx', 'hostname'] 而不是 /root/mezeo_sdk/1/"תוכנית עבודה.xlsx"

此外，一旦脚本将文件上传到服务器（传递文件名的方式），最终结果是：http: [//i.imgur.com/pP6fA.png](http://i.imgur.com/pP6fA.png)

文件名本身在 linux 源上很好，因为如果我将它 SCP 到我自己的计算机上，它看起来还不错，但一旦我使用 python 脚本将它传输到文件服务器就不行了。

我也不相信问题出在文件服务器端，因为如果我使用 Web 界面上传希伯来命名文件，它们就可以了。

我认为问题在于 optparse 库的使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:34:36.637

与往常一样，我将从 Unicode 建议阅读开始：您应该真正阅读其中一个或两个

*   [实用的 Unicode](http://nedbatchelder.com/text/unipain.html) (Ned Batchelder)
*   [每个软件开发人员绝对、绝对必须了解 Unicode 和字符集的绝对最低要求（没有任何借口！）](http://www.joelonsoftware.com/articles/Unicode.html)（Joel Spolsky）

简而言之（非常小），Unicode 代码点是一个抽象的“事物”，代表一个字符¹。程序员喜欢使用这些，因为我们喜欢将字符串视为一次一个字符。不幸的是，很久以前就规定一个字符必须适合一个字节的内存，因此最多可以有 256 个不同的字符。这对于简单的英语来说很好，但不适用于其他任何东西。有一个全球代码点列表——数以千计的代码点——旨在保存所有可能的字符，但显然它们不适合一个字节。

*解决方案：构成字符串的代码点的有序列表*与其*编码*为字节序列之间存在差异。每当您使用字符串时，您必须清楚它应该采用哪种形式。要在形式之间进行转换，您可以`.encode()`将代码点列表（Unicode 字符串）作为字节列表，并将`.decode()`字节转换为代码列表点。为此，您需要知道如何将代码点映射为字节，反之亦然，这就是编码。

¹种。

* * *

好的，现在已经不碍事了，让我们看看你有什么。您已经给出了一个（原始）字符串——一个字节序列：

```
\xfa\xe5\xeb\xf0\xe9\xfa \xf2\xe1\xe5\xe3\xe4 
```

你想成为的编码

```
תוכנית עבודה 
```

一点点谷歌搜索告诉我你正在使用[Windows-1255](http://en.wikipedia.org/wiki/Windows-1255)编码，这是 ASCII 的扩展，使用高字节来保存希伯来字母。您*希望*字符串采用 Unicode，因为 Unicode 代表普通数据。所以，你应该`decode`使用编码的字节序列`"Windows-1255"`：

```
>>> s
'\xfa\xe5\xeb\xf0\xe9\xfa \xf2\xe1\xe5\xe3\xe4'
>>> s.decode("Windows-1255")
u'\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4' 
```

现在您有了正确的数据类型。接下来，您需要将数据发送到服务器，这意味着将其编码为普通编码，即“UTF-8”：

```
>>> s.decode("Windows-1255").encode("utf-8")
'\xd7\xaa\xd7\x95\xd7\x9b\xd7\xa0\xd7\x99\xd7\xaa \xd7\xa2\xd7\x91\xd7\x95\xd7\x93\xd7\x94' 
```

最后，您可能想知道服务器哪里出错了。好吧，如果您不为数据指定编码，人们将不得不猜测，这是一个注定要失败的企业。在您的情况下，看起来您将原始字节发送到服务器，然后将它们解码为`latin-1`. 这给出了你看到的奇怪的重音字母，因为 latin-1 使用 ASCII 字节的上半部分不是希伯来字符而是重音英文字符。

故事的寓意：了解 Unicode！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T07:23:08.390

它打印列表的 repr()；如果您打印它们应该在终端模拟器中正确呈现的字符串。

至于您的 imgur 链接，如果这是网页上显示的内容，则需要在 html 中设置正确的编码。

```
>>> a=['/root/mezeo_sdk/1/\xfa\xe5\xeb\xf0\xe9\xfa \xf2\xe1\xe5\xe3\xe4.xlsx', 'hostname']
>>> print a[0].decode('windows-1255')
/root/mezeo_sdk/1/תוכנית עבודה.xlsx 
```

# git - GIT GUI 无法访问欢迎屏幕

> ID：10223324
> 
> 赞同：2
> 
> 时间：2012-04-19T07:18:06.543
> 
> 标签：git, git-gui

![在此处输入图像描述](../Images/f55de6116ac291b6a34062c252cd95b6.png)我正在尝试在我的 GIT GUI 中处理新的存储库

但是当我打开 GIT GUI 时，它会直接将我带到第二页并打开一些以前的存储库

附上截图

如何切换我的项目，如何获得 Git-GUI 欢迎屏幕？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T10:24:25.653

它看起来像 GitGUI 中的一个错误。但是您仍然可以通过从资源库文件夹中的资源管理器启动它来指定要打开的文件夹。只需右键单击存储库的文件夹并选择“Git-GUI Here”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T01:28:24.947

我有同样的问题，并且能够自己解决。

如果您通过输入命令而不是使用 GUI（在我的情况下为 c:/users/Adal）在 git root 中创建了一个存储库，这似乎就是导致 GUI 每次都直接跳转到该存储库的原因。只需继续删除 c:/users/Adal 或您的根目录中的 .git 文件夹即可。

为我工作;-)

# php - 一个特定的 html 存储在数据库中并在电子邮件中呈现的屏幕截图

> ID：10223331
> 
> 赞同：1
> 
> 时间：2012-04-19T07:18:31.763
> 
> 标签：php, javascript, html

以任何方式截取 HTML 的特定部分的屏幕截图。就像 html5 中的画布一样，我的 HTML 部分存储在数据库中，就像我正在创建页面一样，创建页眉页脚主要内容。并将页眉 HTML、页脚 HTML 和主要部分 HTML 存储在数据库中。

是创建特定页面 HTML 的屏幕截图的任何特定方式。屏幕截图将是任何类型的图像，因此我可以在电子邮件中附加图像。

我已经完成了以下问题

[使用 HTML5/Canvas/JavaScript 截取屏幕截图](https://stackoverflow.com/questions/4912092/using-html5-canvas-javascript-to-take-screenshots/6678156#6678156)

```
<script type = "text/javascript" >
var text = 'mycanvas';
var x = 0;
var y = 0;
var h = 5; //height
var a = 5; //angle
var n = 150; //no of lines
if (n % 2 == 0)`enter code here` {
    n = n + 1
}
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

ctx.moveTo(x, h);

for (; n > 0; n--) {
    if (n % 2 == 0) {
        y = y + h;
    }else {
        y = 0;
    }
</script> 
```

我的服务器端编程是php和数据库mysql

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:47:06.177

我想你想要像 ImageMagick 这样的东西。一个 php 接口，用于将信息创建/写入图像或创建它们。

[http://www.imagemagick.org/script/index.php](http://www.imagemagick.org/script/index.php)

[http://www.imagemagick.org/script/api.php#php](http://www.imagemagick.org/script/api.php#php)

示例代码：

```
<?php
 $magick_wand=NewMagickWand();
 MagickReadImage($magick_wand,'rose.jpg');
 $drawing_wand=NewDrawingWand();
 DrawSetFont($drawing_wand,"/usr/share/fonts/bitstream-vera/Vera.ttf");
 DrawSetFontSize($drawing_wand,20);
 DrawSetGravity($drawing_wand,MW_CenterGravity);
 $pixel_wand=NewPixelWand();
 PixelSetColor($pixel_wand,"white");
 DrawSetFillColor($drawing_wand,$pixel_wand);
 if (MagickAnnotateImage($magick_wand,$drawing_wand,0,0,0,"Rose") != 0)
{
 MagickEchoImageBlob( $magick_wand );
}
 else
{
  echo MagickGetExceptionString($magick_wand);
}
?> 
```

# sql-server-2005 - 以 wqell 格式将数据从选择查询输出到文本文件

> ID：10223337
> 
> 赞同：1
> 
> 时间：2012-04-19T07:19:14.693
> 
> 标签：sql-server-2005

我有一个餐桌顾客

```
 CustomerID             DOB
 1                      11/12/1983
 2                      12/12/1983
 3                      12/12/1985
34334                   23/12/1986
 1232                   15/12/1983
 232                    13/12/1987
 343                    24/12/1987
 1342                   22/12/1988
 121111                 02/12/1989
 243233233              12/12/1983 
```

当我将数据输出到文本文件时，数据格式不正确，我需要以格式正确的方式获取结果，如下所示如何设置结果以这种方式获取

我的输出应该是这样的

```
 CustomerID                     DOB
 000000001                      11/12/1983
 000000002                      12/12/1983
 000000003                      12/12/1985
 000034334                      23/12/1986
 000001232                      15/12/1983
 000000232                      13/12/1987
 000000343                      24/12/1987
 000001342                      22/12/1988
 000121111                      02/12/1989
 243233233                      12/12/1983 
```

我的查询看起来像这个 EXEC master..xp_cmdshell'bcp "SELECT * from MainDB.dbo.Customer" queryout "F:\output\Temp.txt" -c -T -x -t"|"'

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:33:44.400

您可以使用`REPLICATE`. 这将在 . 开头添加零`CustomerID`。像这样：

```
DECLARE @tbl TABLE(CustomerID INT)

INSERT INTO @tbl
VALUES
    (1),(2),(34334)

SELECT
   REPLICATE('0',9-LEN(CustomerID))+CAST(CustomerID AS VARCHAR(100))
FROM
   @tbl AS tbl 
```

参考[这里](http://msdn.microsoft.com/en-us/library/ms174383.aspx)

**编辑**

因此，您的查询将如下所示：

```
SELECT 
    (
       REPLICATE('0',9-LEN(CustomerID))+
       CAST(CustomerID AS VARCHAR(100))
    ) AS CustomerID,
    DOB
FROM 
    MainDB.dbo.Customer 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:21:52.243

将`CustomerID`列转换为 a `varchar`（在输出过程中），它应该删除前导零。

# tortoisesvn - TortoiseSVN 如何通过命令行禁用/启用 TSVNCache.exe？

> ID：10223340
> 
> 赞同：18
> 
> 时间：2012-04-19T07:19:34.180
> 
> 标签：tortoisesvn, tsvncache

我正在尝试在 BAT 脚本中禁用（和启用）TSVNCache，这可能吗？还是我需要杀死它？谢谢。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2015-10-09T18:04:25.537

在 Windows 资源管理器窗口中，右键单击任何文件，然后转到**TortioseSVN->Settings->Icon Overlays->Status Cache**并将其设置为**None**。

tsvncache.exe 将立即退出并且不再运行。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-11-08T13:38:14.840

看来您的问题是减少磁盘 I/O。如果你真的需要使用命令行来降低优先级，我建议你使用 PrcView：[http ://www.teamcti.com/pview/prcview.htm](http://www.teamcti.com/pview/prcview.htm)

如果命令行使用不是强制性的，请尝试禁用缓存。在 TortoiseSVN 设置中，在图标覆盖下，将您的状态缓存设置为 Shell 或 None。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-17T12:40:00.357

用这一行编写一个批处理脚本。您将需要以提升的（管理员）权限运行批处理脚本

```
taskkill /f /t /im tsvncache.exe 
```

要从命令行启动它，另一个批处理文件

```
"C:\Program Files\TortoiseSVN\Bin\TSVNCache.exe" 
```

由于“程序”和“文件”之间的空格，我会在命令周围保留引号。

# warnings - 警告：为 foreach() 提供的参数无效

> ID：10223345
> 
> 赞同：-1
> 
> 时间：2012-04-19T07:19:41.183
> 
> 标签：warnings, invalid-argument

我需要帮助来澄清我收到此警告的原因。

```
data: [/* DATA URL:http://jsonservices-staging.switchautomation.com/RestService.svc/GetObservationSummaries?TotalType=DetailSummaryByInstallationIDByObjectPropertyID&SourceID=InstallationID:8a9e5fcf-975e-4ab9-afbf-0ad94c19e0b5;ObjectPropertyID:8f9be426-b1e5-4ecc-a560-9d204aeceb12&DateFrom=19.04.2012&DateTo=20.04.2012*/
    <b>Error:</b> [2] Invalid argument supplied for foreach()<br />] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:26:55.487

您是编写代码，还是尝试使用 Web 服务？如果你写了它，你的 For Each 控制结构就有问题。可能是这样

1.  您正在尝试遍历不是集合、数组或与 For Each 控制结构不兼容的东西。或者...
2.  您正在尝试将 then 集合中的元素转换/转换为不正确的类型。
3.  还有什么？

如果您没有编写代码，则可能是：

1.  您传入了一些不被理解的数据，或者被错误地打包。就像您发送的哈希表一样，它需要一个单维数组。或者。
2.  他们的密码坏了。:(

我知道这不是太具体，但希望它能帮助你走上正确的道路。（：

# javascript - simpleDialog 插件不起作用

> ID：10223347
> 
> 赞同：1
> 
> 时间：2012-04-19T07:19:46.003
> 
> 标签：javascript, html, css, jquery-mobile

对于我的项目，我需要在按下按钮时弹出图像。我正在尝试使用 SimpleDialog 插件，你可以在[这里](http://dev.jtsage.com/jQM-SimpleDialog/demos2/index.html)看到。我在我的 HTML 中这样做

```
<p>This shows standard, default popup only mode.</p>
            <script type="text/javascript"> 
                $(document).delegate('#popupbut', 'click', function() {
                    $('<div>').simpledialog2({
                        mode: 'blank',
                        headerText: 'Some Stuff',
                        headerClose: true,
                        blankContent : 
                            "<ul data-role='listview'><li>Some</li><li>List</li><li>Items</li></ul>"+
                            "<a rel='close' data-role='button' href='#'>Close</a>"
                    })
                });
            </script>
            <a href="#" id="popupbut" data-role="button">Open Dialog</a> 
```

我已经正确地包含了 JS 和 CSS。但由于某种原因，它不起作用。有人有想法吗？或者 SimpleDialog 插件的其他替代方案？

亲切的问候

------**编辑**------- 好的，我让它与上面的例子一起工作。但现在我只想展示一张图片。所以我在我的脚本中这样做。

```
 $(document).delegate('#opendialog', 'click', function() {
                    // NOTE: The selector can be whatever you like, so long as it is an HTML element.
                    //  If you prefer, it can be a member of the current page, or an anonymous div
                    //       like shown.
                          $('<div>').simpledialog2({
                        mode: 'blank',
                            headerText: 'Some Stuff',
                            headerClose: true,
                          blankContent : 
                            "<img src="images/schema.jpg" alt="schema" width="100" height="100" />"

 })
            }) 
```

但这行不通。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:40:07.180

更新了我的帖子，这应该可以。

```
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Test</title>
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
<link rel="stylesheet" type="text/css" href="http://dev.jtsage.com/cdn/simpledialog/latest/jquery.mobile.simpledialog.min.css" /> 

<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script> 
<script type="text/javascript" src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
<script type="text/javascript" src="http://dev.jtsage.com/cdn/simpledialog/latest/jquery.mobile.simpledialog2.min.js"></script>

</head>
<body>
<script type="text/javascript">
$(document).delegate('#opendialog', 'click', function() {
  $('<div>').simpledialog2({
    mode: 'blank',
    headerText: 'Some Stuff',
    headerClose: true,
    dialogAllow: true,
    dialogForce: true,
    blankContent : 
      "<img src=\"images/schema.jpg\" alt=\"schema\" width=\"100\" height=\"100\" />"+
      "<a rel='close' data-role='button' href='#'>Close</a>"
  })
})
</script>

<a href="#" id="opendialog" data-role="button">Open Dialog</a>

</body>
</html> 
```

# ruby-on-rails - client_side_validations 不适用于 simple_nested_form

> ID：10223349
> 
> 赞同：2
> 
> 时间：2012-04-19T07:19:51.247
> 
> 标签：ruby-on-rails, ruby-on-rails-plugins

客户端验证 gem 与 simple_form 和 formatastic 一起工作正常，但如果我使用 simple_nested_form 它不起作用。任何解决方案都会有所帮助，或者是否有任何解决方法可以让客户端验证在 simple_nested_form 上工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-21T02:16:47.557

目前没有为 simple_nested_form 编写的适配器。对于那里的每个表单构建器，都需要自定义 ClientSideValidations。这在核心 gem 中变得非常难以维护，因此我将其拆分为不同的适配器。我在这里概述了这一点：[http ://reefpoints.dockyard.com/ruby/2012/01/22/client-side-validations-goes-modular.html](http://reefpoints.dockyard.com/ruby/2012/01/22/client-side-validations-goes-modular.html)

不幸的是，在过去的几个月里，我的时间非常有限，我无法完成这项工作。

# windows-phone-7 - Expensify & CI 的 Windows Phone 测试框架

> ID：10223350
> 
> 赞同：0
> 
> 时间：2012-04-19T07:19:51.293
> 
> 标签：windows-phone-7, hudson, specflow, wp7test

如何通过 Expensify 测试将 Windows Phone 测试框架添加到 Hudson？我正在尝试添加一个 Windows 批处理命令，但它无法成功触发。同时在手动打开的cmd.exe中使用同样的命令，测试成功。

错误日志：

```
Given my app is clean installed and running
->creating datastore
->getting platform
->1 platform(s) found
->platform 'Windows Phone 7' found
->looking for device 'Windows Phone Emulator'
->2 devices found
->connecting to device...
->device Connected...
->building host...
->opening host...
->error: Failed to start ApplicationAutomationController 
```

windows批处理命令为：“C:\Windows\System32\cscript.exe RunSpec.js”，RunSpec.js来自Example，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-03T17:24:56.787

这听起来可能取决于构建代理的用户帐户中的设置。

Hudson 用户的路径和环境是否与登录用户相同？Hudson 用户是否有权限打开和监听测试框架使用的默认网络端口？

# php - 如何使用 htaccess 将所有未找到的页面重定向到公共页面

> ID：10223362
> 
> 赞同：1
> 
> 时间：2012-04-19T07:20:51.497
> 
> 标签：php, .htaccess

我在我的 php 网站中使用了 URL 重写。我需要将所有未找到的页面重定向到即将推出的页面

`.htaccess`在文件中查看我的代码

```
Options +FollowSymlinks

    RewriteEngine on
    RewriteCond %{REQUEST_FILENAME} !-d 
    RewriteRule ^(.+)/$ /$1 [R=permanent,QSA]  
    RewriteCond %{REQUEST_FILENAME} !-f 
    RewriteCond %{REQUEST_FILENAME} !-d 
    RewriteCond %{REQUEST_FILENAME}.php -f 
    RewriteRule ^(.+)$ $1.php [L,QSA] 

    ErrorDocument 404 /errors/commingSoon.php 
```

但是当我浏览一个无效页面时，它的结果是

```
Not Found

The requested URL /komet-india/Houseboat.html was not found on this server.

Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request. 
```

我的孵化代码是错误的吗？

请帮我

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T07:24:27.577

为什么要使用很多代码。这三行可以完成

```
 RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ comingsoonpage.php 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:23:54.913

只需将 apache 中的 404 html 页面更改为自定义页面？

1.  创建一个将成为您的 404 文档的网页。

2.  打开您的httpd.conf 文件进行编辑（您可能必须以root 身份登录才能编辑它）。

3.  找到读取的行

    错误文档 404 /404.html

4.  将第三个条目更改为您要显示的 URI，例如

    错误文档 404 /new_404.html

5.  重新启动您的 Web 服务器。

[http://webdesign.about.com/od/apache/ht/ht404apache.htm](http://webdesign.about.com/od/apache/ht/ht404apache.htm)

# mysql - Mysql：磁盘已满错误

> ID：10223363
> 
> 赞同：4
> 
> 时间：2012-04-19T07:20:58.657
> 
> 标签：mysql, diskspace

我的mysql服务器有问题。

```
120310  6:55:36 [ERROR] /usr/libexec/mysqld: Disk is full writing './virtual/cdrs.MYD' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  6:59:14 [ERROR] /usr/libexec/mysqld: Disk is full writing '/var/lib/mysql/virtual/recordedcalls.MYI' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:05:36 [ERROR] /usr/libexec/mysqld: Disk is full writing './virtual/cdrs.MYD' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:09:14 [ERROR] /usr/libexec/mysqld: Disk is full writing '/var/lib/mysql/virtual/recordedcalls.MYI' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:15:36 [ERROR] /usr/libexec/mysqld: Disk is full writing './virtual/cdrs.MYD' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:19:14 [ERROR] /usr/libexec/mysqld: Disk is full writing '/var/lib/mysql/virtual/recordedcalls.MYI' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:25:36 [ERROR] /usr/libexec/mysqld: Disk is full writing './virtual/cdrs.MYD' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:29:14 [ERROR] /usr/libexec/mysqld: Disk is full writing '/var/lib/mysql/virtual/recordedcalls.MYI' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:35:36 [ERROR] /usr/libexec/mysqld: Disk is full writing './virtual/cdrs.MYD' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs
120310  7:39:14 [ERROR] /usr/libexec/mysqld: Disk is full writing '/var/lib/mysql/virtual/recordedcalls.MYI' (Errcode: 28). Waiting for someone to free space... Retry in 60 secs 
```

当我这样做`df -h` 时，它还给我

```
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda3             221G  124G   86G  60% /
/dev/sda1              99M   23M   72M  24% /boot
tmpfs                 2.0G     0  2.0G   0% /dev/shm 
```

这意味着有足够的磁盘空间可用我的日志仍然显示磁盘已满..

我`/tmp`包含一个文件`mysql.log` ，其大小超过 22GB，并且还在增加。

# java - Android：当睡眠或等待不起作用时，如何在方法中设置时间间隔

> ID：10223367
> 
> 赞同：0
> 
> 时间：2012-04-19T07:21:09.700
> 
> 标签：java, android, multithreading

我为 android 构建了一个井字游戏。我希望轮到用户和轮到计算机之间应该有一些时间间隔或时间差。意思是我想在轮到用户和轮到计算机之间调用 sleep() 或任何其他方法。但是，当我在 cpuPlay() 方法之前或在 userPlay() 之后调用 Sleep() 时，它会使用户和 Android 都进入睡眠状态，并一起醒来。我真的非常努力地找出为什么它会同时对这两种方法进行 sleep() 但我找不到。请帮我解决一下这个。提前致谢。这是我的代码

```
public class Game extends Activity 
  {
private final int GAME_VICTORY = 0x1;
private final int GAME_DEFEAT = 0x2;
private final int GAME_TIE = 0x3;
private final int GAME_CONTINUES = 0x4;
private final float UNIQUE_MAX_WEIGHT=0.85f;
static final int ACTIVITY_SELECTION = 1;
private int x_Player_win_counter;
private int o_Player_win_counter;
public static TextView textlevel=null;
public static TextView textlevel1=null;
public double startTime;
double userDuration;
double cpuDuration;
private float[] w;  
private int[] c;        
private int[][] PosTable;   
private Button[] buttons;
private int lineH = -1;
private int lineV = -1;
private int lineD = -1;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.game);

    buttons = new Button[9];

    buttons[0] = (Button) findViewById(R.id.Button01);
    buttons[0].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(0);
        }
    });
    buttons[1] = (Button) findViewById(R.id.Button02);
    buttons[1].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(1);
        }
    });
    buttons[2] = (Button) findViewById(R.id.Button03);
    buttons[2].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(2);
        }
    });
    buttons[3] = (Button) findViewById(R.id.Button04);
    buttons[3].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(3);
        }
    });
    buttons[4] = (Button) findViewById(R.id.Button05);
    buttons[4].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(4);
        }
    });
    buttons[5] = (Button) findViewById(R.id.Button06);
    buttons[5].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(5);
        }

    });
    buttons[6] = (Button) findViewById(R.id.Button07);
    buttons[6].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(6);
        }
    });
    buttons[7] = (Button) findViewById(R.id.Button08);
    buttons[7].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(7);
        }
    });
    buttons[8] = (Button) findViewById(R.id.Button09);
    buttons[8].setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            btnClicked(8);
        }
    });

  startActivityForResult(new Intent(Game.this, Game.class), ACTIVITY_SELECTION);

    DisplayMetrics dm = getApplicationContext().getResources().getDisplayMetrics();
    float h = (float) (dm.heightPixels - (100.0)*dm.density);
    float w = dm.widthPixels;
    for(int i=0;i<9;i++) {
        buttons[i].setHeight((int) (h/3));
        buttons[i].setWidth((int) (w/3));
    }
}
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    beginPlay();
    if (requestCode == ACTIVITY_SELECTION) {
        if (resultCode == RESULT_OK) {
            Bundle extras = data.getExtras();
            if (extras.getString("result").equals("CPU")) cpuPlay();
        }
    }
}
public void userGame() {
    new AlertDialog.Builder(this)
    .setTitle("User Won!!!")
    .setMessage("want to start another game")
    .setIcon(android.R.drawable.ic_dialog_alert)
    .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {

            buttonsEnable(true);
            beginPlay();
        }
    })
    .setNegativeButton("No", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {
            finish();
        }
    })
    .show();        
}

public void cpuGame() {
    new AlertDialog.Builder(this)
    .setTitle("Android Won!!!")
    .setMessage("want to start another game")
    .setIcon(android.R.drawable.ic_dialog_alert)
    .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {

            buttonsEnable(true);
            beginPlay();
        }
    })
    .setNegativeButton("No", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {
            finish();
        }
    })
    .show();
}

public void tieGame() {
    new AlertDialog.Builder(this)
    .setTitle("TIE!!!")
    .setMessage("want to start another game")
    .setIcon(android.R.drawable.ic_dialog_alert)
    .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {

            buttonsEnable(true);
            beginPlay();
        }
    })
    .setNegativeButton("No", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) 
        {
            finish();
        }
    })
    .show();
}

private void beginPlay() {
    //initializations start 
    w=new float[9];
    c=new int[9];
    InitTable();
    w[0]=0.7f;
    w[1]=0.4f;
    w[2]=0.7f;
    w[3]=0.4f;
    w[4]=0.7f;
    w[5]=0.4f;
    w[6]=0.7f;
    w[7]=0.4f;
    w[8]=0.7f;
    //c[i] : 0 for empty, 1 for cpu, 2 for user
    for(int i=0;i<9;i++)
        c[i]=0;
    //initializations done

    //now we play!

        startTime = System.currentTimeMillis();
        textlevel=(TextView)findViewById(R.id.userInfo);
        textlevel.setText(String.valueOf(x_Player_win_counter));

        textlevel1=(TextView)findViewById(R.id.cpuInfo);
        textlevel1.setText(String.valueOf(o_Player_win_counter));

    for(int i=0;i<9;i++)
        {     
        updateBtn(i);
        buttons[i].setTextColor(Color.BLACK);
        }
    String PlayerName="User";       
    updateGameInfo(PlayerName + " turn.");
}

private void cpuPlay() 
{
    int cpos=getDecision();
    if (cpos == -1) 
    {
        Toast toast = Toast.makeText(getApplicationContext(), "GAME OVER", Toast.LENGTH_SHORT);
        toast.show();
        return;
    } 
    else
    {
    c[cpos]=1;
    updateBtn(cpos);
    String name= "user";
    updateGameInfo(name + " turn");
    int gstatus = CheckGameStatus();
    if (gstatus == GAME_VICTORY) 
    {
        userDuration = (System.currentTimeMillis() - startTime)/1000;
        Toast toast = Toast.makeText(getApplicationContext(), "Congrts You Won in " + userDuration + " seconds", Toast.LENGTH_SHORT);
        toast.show();
        ++x_Player_win_counter;
        userGame();
    }
    else if (gstatus == GAME_DEFEAT) {
        cpuDuration = (System.currentTimeMillis() - startTime)/1000;
        Toast toast = Toast.makeText(getApplicationContext(), "Sorry, Android Won in "  + cpuDuration + " seconds", Toast.LENGTH_SHORT);
        toast.show();
        ++o_Player_win_counter;
        cpuGame();
    }
    else if (gstatus == GAME_TIE) {
        Toast toast = Toast.makeText(getApplicationContext(), "Its a TIE", Toast.LENGTH_SHORT);
        toast.show();
        tieGame();
    }
    else if (gstatus == GAME_CONTINUES) {
        //user plays
    }
    }
}
private void updateBtn(int i) {
    if(c[i]==0)
    {   
        buttons[i].setText(" ");        
    }
    else if(c[i]==1)
    {

        buttons[i].setText("O");
        buttons[i].setTextColor(Color.RED);
    }
    else
    {
        buttons[i].setText("X");            
    }
}

private int CheckGameStatus() {
    int s = 0;
    //check horizontal
    if(c[0]==2&&c[1]==2&&c[2]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[3]==2&&c[4]==2&&c[5]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[6]==2&&c[7]==2&&c[8]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[0]==1&&c[1]==1&&c[2]==1) 
    {
        s = GAME_DEFEAT;            
    }
    if(c[3]==1&&c[4]==1&&c[5]==1) 
    {
        s = GAME_DEFEAT;            
    }
    if(c[6]==1&&c[7]==1&&c[8]==1) 
    {
        s = GAME_DEFEAT;            
    }
    //check vertical
    if(c[0]==2&&c[3]==2&&c[6]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[1]==2&&c[4]==2&&c[7]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[2]==2&&c[5]==2&&c[8]==2) 
    {
        s = GAME_VICTORY;           
    }
    if(c[0]==1&&c[3]==1&&c[6]==1) 
    {
        s = GAME_DEFEAT;            
    }
    if(c[1]==1&&c[4]==1&&c[7]==1) 
    {
        s = GAME_DEFEAT;
    }
    if(c[2]==1&&c[5]==1&&c[8]==1) 
    {
        s = GAME_DEFEAT;
    }
    //check diagonal
    if(c[0]==2&&c[4]==2&&c[8]==2) {s = GAME_VICTORY;}
    if(c[2]==2&&c[4]==2&&c[6]==2) {s = GAME_VICTORY;}
    if(c[0]==1&&c[4]==1&&c[8]==1) {s = GAME_DEFEAT;}
    if(c[2]==1&&c[4]==1&&c[6]==1) {s = GAME_DEFEAT;}

    if (s != 0) {
        buttonsEnable(false);
        return s;
    }

    boolean box_empty = false;
    for(int i=0;i<9;i++) {
        if (c[i] == 0) box_empty = true;
    }
    if (box_empty) {    //if any box is empty -> game continues
        return GAME_CONTINUES;
    }
    else {  //else there is tie
        buttonsEnable(false);
        return GAME_TIE;
    }
}

private void buttonsEnable(boolean b) {
    for(int i=0;i<9;i++)
        buttons[i].setEnabled(b);
}

private void btnClicked(int i)
{   
    if(c[i]!=0) {
        Toast toast = Toast.makeText(getApplicationContext(), "Position occupied", Toast.LENGTH_SHORT);
        toast.show();
    }
    else 
    {
        //all OK
        c[i] = 2;
        updateBtn(i);       
        String name= "Android";
    //  updateGameInfo(name + " turn");

        int gstatus = CheckGameStatus();
        if (gstatus == GAME_VICTORY) {
            userDuration = (System.currentTimeMillis() - startTime)/1000;
            Toast toast = Toast.makeText(getApplicationContext(), "Congrats You Won in "  + userDuration + " seconds", Toast.LENGTH_SHORT);
            toast.show();
            ++x_Player_win_counter;
            userGame();
        }
        else if (gstatus == GAME_DEFEAT) {
            cpuDuration = (System.currentTimeMillis() - startTime)/1000;
            Toast toast = Toast.makeText(getApplicationContext(), "Sorry, Android Won in "  + cpuDuration + " seconds", Toast.LENGTH_SHORT);
            toast.show();
            ++o_Player_win_counter;
            cpuGame();
        }
        else if (gstatus == GAME_TIE) {
            Toast toast = Toast.makeText(getApplicationContext(), "Its a TIE", Toast.LENGTH_SHORT);
            toast.show();
            tieGame();
        }
        else if (gstatus == GAME_CONTINUES) {   
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            cpuPlay();
        }
    }
}

private int getDecision() 
{   
    for(int i=0;i<9;i++)
        for(int j=0;j<9;j++) {
            if(c[i]==1&&c[j]==1)    //place 'o' to win
                if(PosTable[i][j]!=-1)  //if we have 3 in a row
                    if(c[PosTable[i][j]]==0)    //if position is free
                        return PosTable[i][j];
            if(c[i]==2&&c[j]==2)    //place 'o' to prevent user's victory
                if(PosTable[i][j]!=-1)  //if we have 3 in a row
                    if(c[PosTable[i][j]]==0)    //if position is free
                        return PosTable[i][j];
        }

    if(c[0]==1&&c[8]==0) return 8;
    if(c[2]==1&&c[6]==0) return 6;
    if(c[8]==1&&c[0]==0) return 0;
    if(c[6]==1&&c[2]==0) return 2;
    Random r=new Random();
    boolean exist07=false;
    boolean[] free=new boolean[9]; //will hold the free positions
    for(int i=0;i<9;i++)
        free[i]=false;
    for(int i=0;i<9;i++)
        if(c[i]==0) {   //free ??
            free[i]=true;   //add position to free
            if(w[i]==UNIQUE_MAX_WEIGHT) return i;
        }
    //more than 1 positions with same weight
    for(int i=0;i<9;i++)
        if(free[i]) //if position is free
            if(w[i]==0.7f) exist07=true;
    if(exist07)
        for(int i=0;i<9;i++)
            if(free[i]) //if position is free
                if(w[i]==0.4f) free[i]=false;

    int j=0;
    int rn=0;
    int[] tmp;
    for(int i=0;i<9;i++)
        if(free[i]) j++;
    if(j!=0) {
        tmp=new int[j];
        rn=r.nextInt(j);
        j=0;
        for(int i=0;i<9;i++)
            if(free[i]) tmp[j++]=i;
        return tmp[rn];
    }
    else {
        return -1; //else GAME OVER
    }
}
private void InitTable() {

    PosTable=new int[9][9];
    for(int i=0;i<9;i++)
        for(int j=0;j<9;j++)
            PosTable[i][j]=-1;
    PosTable[0][1]=2;
    PosTable[0][2]=1;
    PosTable[0][3]=6;
    PosTable[0][4]=8;
    PosTable[0][6]=3;
    PosTable[0][8]=4;
    PosTable[1][2]=0;
    PosTable[1][4]=7;
    PosTable[1][7]=4;
    PosTable[2][4]=6;
    PosTable[2][5]=8;
    PosTable[2][6]=4;
    PosTable[2][8]=5;
    PosTable[3][4]=5;
    PosTable[3][5]=4;
    PosTable[3][6]=0;
    PosTable[4][5]=3;
    PosTable[4][6]=2;
    PosTable[4][7]=1;
    PosTable[4][8]=0;
    PosTable[5][8]=2;
    PosTable[6][7]=8;
    PosTable[6][8]=7;
    PosTable[7][8]=6;
}

private void updateGameInfo(String info)
{
    Toast.makeText(this, info, Toast.LENGTH_SHORT).show();
    TextView infoView =(TextView) findViewById(R.id.gameInfo);
    infoView.setText(info);
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:26:22.817

如果你想延迟一些代码，你应该把它发布到一个有延迟时间的处理程序中。这样，处理程序将等待给定的时间，然后执行给定的可运行文件。

```
 new Handler().postDelayed(new Runnable() {

        @Override
        public void run() {
            cpuPlay();
        }
    }, TIME_TO_WAIT_IN_MS); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-23T05:42:00.590

使用处理程序。如果你想要这里的代码示例。

```
Handler().postDelayed(new Runnable() 
{
    @Override
    public void run() {
        cpuPlay();
    }
}, TIME_TO_WAIT_IN_MS);` 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T13:14:55.207

那是因为这两种方法都由同一个线程运行，所以 sleep() 在这里不起作用。你必须在任何你想等待你的系统的地方使用 Handler

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:33:04.087

如果您在 UI 线程中执行 Thread.sleep，则您会休眠主线程，因此您需要在线程中执行休眠或使用处理程序或 AsyncTask。

# javascript - 使用 SingleCompile 在 vi m 中解释 javascript

> ID：10223371
> 
> 赞同：0
> 
> 时间：2012-04-19T07:21:19.577
> 
> 标签：javascript, vim, plugins

我已经在 vim 中安装了 SingleCompile 插件。我已经测试过编译“C”程序并且它是成功的。

当尝试使用 javascript 时，它显示“没有可用于该语言的编译器”。有人知道如何使用它吗？

谢谢，安吉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:23:41.120

JavaScript 不是一种编译语言，因此非常清楚“没有可用的编译器”

编辑：刚刚看到 SingleCompile 也有 JS 解释器支持。所以我的想法是你没有安装正确的解释器

# android - Eclipse中的Android设备屏幕捕获DDMS红色色调

> ID：10223380
> 
> 赞同：0
> 
> 时间：2012-04-19T07:22:43.897
> 
> 标签：android, screen-capture

我可以使用 Eclipse 中的 DDMS 功能进行设备屏幕截图。屏幕捕获工作正常，但图像始终带有红色调。它看起来像这样：http: [//imageshack.us/photo/my-images/585/deviceredtint.png/](http://imageshack.us/photo/my-images/585/deviceredtint.png/)

我正在捕获的设备是带有 Android 2.3.2 的索尼爱立信 Xperia。

有谁知道我能做些什么，因为筛选的图片没有这个红色？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T18:46:38.703

你有哪款 Xperia 手机？

这是旧驱动程序中的错误之一。您需要更新计算机上的驱动程序。

您可以在此处找到 Xperia 手机的最新驱动程序：

[http://developer.sonymobile.com/wportal/devworld/search-downloads/driver](http://developer.sonymobile.com/wportal/devworld/search-downloads/driver)

# c# - 从另一个表单访问 Button 属性

> ID：10223387
> 
> 赞同：0
> 
> 时间：2012-04-19T07:23:25.683
> 
> 标签：c#, winforms

我知道这是一个非常常见的问题，我的问题是我尝试了几种方法，但没有一种方法对我有用。

我有两种形式，我需要的是在一个形式上按下按钮以将我的第二个形式上的按钮的启用属性设置为 true。

正如我所说，我已经尝试了多种方法，但到目前为止都没有奏效。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:52:39.343

让我们将您的表单称为**Form A**和**Form B**。

**Form A**是否包含**Form B**的实例？它是否调用**FormB.Show()**？

如果是这样，您可以在**Form B**中创建一个事件，并让**Form A**监听它。

如果没有，您仍然在**Form B**中创建事件，但是您有任何称为**Form B**的东西来监听它，然后将消息传递给**Form A**

把它放在**Form B**里面：

```
public delegate void ClickButton();
public event ClickButton ButtonWasClicked; 
```

单击按钮时，调用 ButtonWasClicked();

```
private void button1_Click(object sender, EventArgs e)
{
    ButtonWasClicked();
} 
```

把它放在**表格 A**中：

```
private FormB formB;

public FormA()
{
    InitializeComponent();
    formB = new FormB();
    formB.ButtonWasClicked += new FormB.ClickButton(formB_ButtonWasClicked);
}

void formB_ButtonWasClicked()
{
    label1.Text = "Button was clicked: " + DateTime.Now.ToString();
} 
```

来源：

[http://darin.hoover.fm/code/dl/FormEvents.zip](http://darin.hoover.fm/code/dl/FormEvents.zip)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:29:26.507

您可以在第二种形式的 PUBLIC 上创建一个按钮（您可以在 *cs 文件中或从 VS 中控件的“属性”窗口执行此操作）并将第二种形式的实例添加到第一个形式中。或者您可以以第二种形式声明一些[委托](http://www.yoda.arachsys.com/csharp/events.html)，以更改按钮属性，并在第一种形式中调用它。实际上还有更多变体，我刚刚提到了 2 :)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:48:15.397

您应该在第二个表单中创建一个启用按钮的公共方法，并在您的第一个表单中添加对第二个表单的引用。然后，在 OnClick 事件上调用该方法。

这是我创建的示例代码：

Class1.cs

```
class Class1
    {

            Form2 form2 = new Form2();
            Form1 form1;

            public Class1()
            {
                //Application.Run(form1);
                //Application.Run(form2);
               form1 = new Form1(form2);
                form1.ShowDialog();

            }

    } 
```

Form2.cs

```
public partial class Form2 : Form
    {
        public Form2()
        {
            InitializeComponent();
        }

        public void enableB()
        {
            button1.Enabled = true;
        }
    } 
```

Form1.cs

```
public partial class Form1 : Form
    {
        Form2 f2;
        public Form1(Form2 f)
        {
            InitializeComponent();
            f2 = f;
            f2.Show();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            f2.enableB();
        }
    } 
```

希望能帮助到你

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:11:40.217

这闻起来像家庭作业。您需要让 2 种表格相互了解。通过将实例添加到一个表单，或者让第三个对象控制这两个表单。您可以多次注册按钮单击事件。（即您可以让 5 个表单监听 1 个表单按钮单击，并且所有 5 个表单的反应可能不同）。这样，您可以让按钮单击影响其自己的表单，并且第二个表单也可以注册到事件并根据需要将其自己的按钮启用为真/假。例子：

```
public class MyForm : Form
{
    MyOtherForm OtherForm;
    public MyForm()
    {
        InitializeComponent();
        OtherForm = new MyOtherForm();
        OtherForm.ButtonINeedToListenFor.Click += new EventHandler(ButtonINeedToListenFor_Click);
    }

    void ButtonINeedToListenFor_Click(object sender, EventArgs e)
    {
         this.MyDependingButton.Enabled = false;
    }
} 
```

# javascript - window.open() 在 AJAX 成功上的工作方式不同

> ID：10223388
> 
> 赞同：16
> 
> 时间：2012-04-19T07:23:25.783
> 
> 标签：javascript, ajax, asynchronous, window.open

如果我只是向您展示该示例，我将更容易解释问题 -> [http://jsfiddle.net/RU2SM/](http://jsfiddle.net/RU2SM/)
正如您所看到的，有 2 个按钮，一个称为“AJAX”，一个称为“直接” ...因此，如果您单击“直接”，它会打开窗口（Chrome 上的新标签），但如果我尝试在 AJAX 成功处理程序上创建 window.open()，则它的工作方式不同。
我确定问题来自 AJAX，但我不知道如何解决它。
将欣赏任何好主意。谢谢

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-04-19T07:30:12.160

这就像一个魅力：

```
// Direct window.open()
$('#btnDirect').on('click',function(){
    window.open('http://google.com')
})
var success = false;  //NOTE THIS

// AJAX window.open()
$('#btnAJAX').on("click", function(){
    $.ajax({
      url: "/user/login/",
      context: document.body,
      async:false,   //NOTE THIS
      success: function(){  //THIS ALSO CHANGED
         success = true
      }
    });
    if(success){ //AND THIS CHANGED
      window.open('http://google.com')
    }
}) 
```

它的作用是当 Ajax 调用成功时，它会将变量 success 设置为 true。
该`async:false`属性确保在 Ajax 调用完成后触发 if 语句。
因此 window.open 在与您的直接链接相同的情况下被触发。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-04-19T07:29:25.313

问题是浏览器通常会阻止`window.open`s ，除非它们被直接响应用户操作而被调用。这就是您的点击处理程序有效（点击是用户操作）但您的 AJAX 处理程序无效的原因。

一种解决方案是在初始单击操作期间打开窗口，然后在 AJAX 成功时更新其位置（或在 AJAX 失败时再次关闭它）。

否则，您必须让用户在其浏览器中明确允许来自您的域的弹出窗口。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:46:01.733

另外值得一提的是，使用 async: false 然后调用 window.open 可以在 chrome 和 firefox 中工作，但会在 safari 中造成麻烦……它甚至没有提供弹出窗口被阻止的信息

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-19T09:52:57.923

Better way implement any logic after success of ajax call, there is an event fired on every ajax call execution i.e. **$.ajax.Request.done** and **$.ajax.Request.fail**. **$.ajax.Request.done(function(){ if(success){ // Implement logic } });**

# c# - 嵌套类适配器模式？

> ID：10223390
> 
> 赞同：0
> 
> 时间：2012-04-19T07:23:27.787
> 
> 标签：c#

我有一个静态类`Manager`，它应该在两层逻辑之间进行调整，通过在其中嵌套静态类来分配功能是一种不好的做法吗？我有大约两打不同的主题要管理，每个主题有 2 -3 个功能。并希望避免为此创建 2 打类

我的意思是使用这个：

```
static class Manager
{
    static class Type1
    {
        static void Method1();
        static void Method2();
        static void Method3(); 
    }
    static class Type2
    {
        static void Method4();
        static void Method5();
        static void Method6(); 
    }
    static class Type3
    {
        static void Method7();
        static void Method8();
        static void Method9();
    }
} 
```

代替：

```
static class Manager
{
        static void Method1();
        static void Method2();
        static void Method3(); 
        static void Method4();
        static void Method5();
        static void Method6(); 
        static void Method7();
        static void Method8();
        static void Method9();
} 
```

类似于命名空间的东西，但在一个类中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:36:35.760

如果您是关于设计选择的，有很多选择。

**首先**，您可以将所有内容都放入一个单独的类中，这将非常难以调试并且混合了多个职责。

**其次**，您可以创建嵌套类，正如您还指出的那样，您可以更好地分离关注点/代码，但仍然将所有内容硬编码并放在一个大的源代码文件中。

**第三**，更具可扩展性，您可以考虑任何您希望的容器模式。我在下面列出了一个，它可以让你的类分开，如果你关心的话，更容易测试，并且可以交换。

```
interface IManagementRole 
{
}

class Dummy1: IManagementRole
{
    public void Method1() { Console.WriteLine("Dummy1.Method1()"); }
    public void Method2() { Console.WriteLine("Dummy1.Method2()"); }
}

class Dummy2: IManagementRole
{
    public void Method3() { Console.WriteLine("Dummy2.Method3()"); }
    public void Method4() { Console.WriteLine("Dummy2.Method4()"); }
}

static class Manager
{
    private static Dictionary<Type, IManagementRole> myTypes = new Dictionary<Type, IManagementRole>();

    static Manager()
    {
        myTypes.Add(typeof(Dummy1), new Dummy1());
        myTypes.Add(typeof(Dummy2), new Dummy2());
    }

    public static T GetManagableType<T>() where T: class
    {
        if (myTypes.ContainsKey(typeof(T)))
        {
            return myTypes[typeof(T)] as T;
        }

        throw new ArgumentException("Type is not a managable type.", "T");
    }
}

class Program
{
    public static void Main(string[] args)
    {
        Manager.GetManagableType<Dummy1>().Method1();
        Manager.GetManagableType<Dummy1>().Method2();
        Manager.GetManagableType<Dummy2>().Method3();

        Console.Write("Press any key to continue . . . ");
        Console.ReadKey(true);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:29:18.150

我会说，是的。似乎不是一个糟糕的设计，imo。

还要考虑另一种方法：

你可以有一个`List<Type> list = bew List<Type>{new Type1(), new Type2()..., new TypeN()};`

并有一个类从这个集合中选择一个合适的注入。这样，您将避免上大课。

# android - 如何检查变量是否为空？

> ID：10223391
> 
> 赞同：-2
> 
> 时间：2012-04-19T07:23:31.493
> 
> 标签：android, null, textview

嗨，我需要检查两个变量的值是否为空。如果它们不为空，我必须使文本视图可见。同样，我编写了以下代码

```
 if (offer.Price() != null ) {
        if(offer.getName() !=null)
        {
        Price.setVisibility(View.VISIBLE);
        Price.setText(offer.getName()+" Price: $"+offer.getPrice());
    }
    } 
```

但它不起作用。即即使变量值为 null 并且 textview 中的文本显示为“null Price: $null”，textview 也是可见的。首先我尝试使用下面的代码。但这也不起作用

```
 if (offer.getPrice() != null && offer.getName() !=null) {
        Price.setVisibility(View.VISIBLE);
        Price.setText(offer.getName()+" Price: $"+offer.getPrice());
    } 
```

请帮我解决它....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:28:05.760

试试看：

```
if (offer.getPrice() != null && offer.getName() !=null) {
        Price.setVisibility(View.VISIBLE);
        Price.setText(offer.getName()+" Price: $"+offer.getPrice());
    }else{
 Price.setVisibility(View.GONE);
} 
```

或者那个

```
if (offer.getPrice() != null && offer.getName() !=null
&& !offer.getPrice().equals("null") && !offer.getName().equals("null")) {
        Price.setVisibility(View.VISIBLE);
        Price.setText(offer.getName()+" Price: $"+offer.getPrice());
    }else{
 Price.setVisibility(View.GONE);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:29:41.297

```
 if (offer.getPrice() != null && !"".equalsIgnoreCase(offer.getPrice())
    && offer.getName() !=null && !"".equalsIgnoreCase(offer.getName())) {
    Price.setVisibility(View.VISIBLE);
    Price.setText(offer.getName()+" Price: $"+offer.getPrice());
} 
```

# jquery - 对象中的缓存选择器（jquery）

> ID：10223393
> 
> 赞同：2
> 
> 时间：2012-04-19T07:23:36.037
> 
> 标签：jquery

我有问题...我做错了什么？

我想使用以前保存在变量中的选择器。这个想法是在对象的函数中使用它。

```
var escribir = {
    obj:$('#cont'),
    algo: function(i) { 
        escribir.obj.html(i++);
        setTimeout('escribir.algo('+i+')',1000);
    }
}

$(document).ready(
    function(){
    escribir.algo(0);
    }
);

....
<div id="cont"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:30:15.623

```
var escribir = {
    obj : $('#cont'),
    algo : function (i) {
           |
           V
        escribir.obj.html(i++);
        setTimeout(function() { escribir.algo(i) }, 1000); // Don't use `eval`
    }
} 
```

**编辑：**这里的工作示例[http://jsfiddle.net/elclanrs/sQdST/](http://jsfiddle.net/elclanrs/sQdST/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:31:23.707

如果您以更好的形式使用闭包，您可能会更好。

```
jQuery(function ($) {

    var escribir = {
        obj : $('#cont'),
        algo_counter : 0,
        algo : function () {
            escribir.obj.html(escribir.algo_counter++);
            setTimeout(escribir.algo, 1000);
        }
    };

    // optionally:
    // escribir.algo_counter = 10;

    escribir.algo();

} 
```

这样，您就不会使用`setTimeout`'s`eval`版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:33:16.037

您的**obj**是**escribir**的成员，因此您需要将其更改为`escribir.obj`：

```
var escribir = {
    obj:$('#cont'),
    algo: function(i) { 
        escribir.obj.html(i++); // without escribir.obj you will get reference error, otherwise you have a variable name obj.
        setTimeout('escribir.algo('+i+')',1000);
    }
} 
```

# wordpress - 如果帖子很短，请删除阅读更多链接

> ID：10223398
> 
> 赞同：0
> 
> 时间：2012-04-19T07:23:47.390
> 
> 标签：wordpress, post

在主页显示帖子时，如果帖子真的很短（例如，短于`the_excerpt`），有没有办法找出来？这样我会删除*阅读更多*链接，因为整个帖子已经显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:35:31.170

Simple get the excerpt and post word/char length. Suppose

```
if ($post_l > $excerpt_l)
{
//show read more
}
else
{
//shoe post without read more
} 
```

PHP word count

```
function count_words($str) 
{
$no = count(explode(" ",$str));
return $no;
} 
```

# curve-fitting - 曲线拟合 - 请提出建议

> ID：10223402
> 
> 赞同：1
> 
> 时间：2012-04-19T07:24:01.930
> 
> 标签：curve-fitting

那里有什么好的曲线拟合免费程序吗？我有 MATLAB 和 Mathematica，但没有 MATLAB 的额外工具包。我想拟合这种形式的函数： (K*(c)^a)/x 其中 K,c,a 是常数，x 是变量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T15:23:52.593

Mathematica 有一个名为`FindFit`. 您可以按照我通过以下方式描述的功能执行拟合：

```
data = Import["data.csv"];
f1 = FindFit[data, (k*(0.4*^-3)^a)/x, {k, a}, x, NormFunction -> (Norm[#, 1] &)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:27:13.740

使用 Matlab 和 Mathematica，您可以轻松执行曲线拟合，无需任何额外的工具包。

否则，您可能会查看[numpy/scipy](http://scipy.org/)，它非常适合那种东西。最后，我想到了几个 Matlab 的“克隆”，我想到了 QtOctave。

# cross-browser - Kindle Fire 上的 Amazon Silk 浏览器是否支持视口元标记？

> ID：10223407
> 
> 赞同：3
> 
> 时间：2012-04-19T07:24:30.430
> 
> 标签：cross-browser, viewport, meta-tags, kindle-fire, amazon-silk

在 Kindle Fire 上查看时，我正在尝试使用 viewport 元标记来缩放 HTML 内容。

我已经设置了以下测试页面：

```
<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="initial-scale=2.5, maximum-scale=2.5, minimum-scale=2.5, width=device-width, user-scalable=no" />
</head>
<body>
  <div style="width: 100px; height: 100px; background: red;">Hello World</div>
</body>
</html> 
```

例如，如果我将数字从 2.5 更改为 1.0，这会导致 iPhone 4S 上的内容按比例缩小。但是，在 Kindle Fire 上的 Amazon Silk 浏览器中查看时，它似乎对内容的大小没有影响。

有没有其他人经历过这个？我的标记中是否存在可能导致此问题的问题？

注意：我尝试将“桌面或移动视图”浏览器设置更改为自动、移动和桌面 - 这些设置都没有改变页面外观。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-08T19:15:34.897

支持：

> 为 Silk and Fire 设备开发 Web 内容时，请记住以下几点：
> 
> • 视口是浏览器中专门用于显示网页的部分。移动设备的视口大小和屏幕大小不一定相同。它们不同，因为浏览器会占用一些屏幕空间来显示其 chrome。您可以使用视口元元素 (p. 36) 来指定视口的属性，包括宽度和高度。

单独测试每个属性以确定对每个选项的特定支持：

*   宽度
*   高度
*   初始规模
*   最小规模
*   最大规模
*   用户可扩展

**参考**

*   [Amazon Silk 开发人员指南：CSS3 支持 - 视口元元素 (pdf)](https://docs.aws.amazon.com/silk/latest/developerguide/silk-dg.pdf)

*   [屏幕分辨率 - 亚马逊丝绸](https://docs.aws.amazon.com/silk/latest/developerguide/screen-size.html)

*   [Dev.Opera — Meta Viewport 和@viewport 简介](https://dev.opera.com/articles/an-introduction-to-meta-viewport-and-viewport/)

*   [CSS 设备适配模块级别 1：属性](https://www.w3.org/TR/css-device-adapt-1/#meta-properties)

*   [证据与证据](http://wiki.c2.com/?EvidenceVersusProof)

*   [四种类型的证据〜写作简化](http://www.writingsimplified.com/2009/10/4-types-of-evidence.html)

# php - parse_str 不能正常工作？

> ID：10223411
> 
> 赞同：1
> 
> 时间：2012-04-19T07:25:02.823
> 
> 标签：php, parsing, url, character

我正在开发的应用程序有一个非常奇怪的问题，该应用程序的作用是从另一个站点获取数据并将其很好地显示给用户，数据位于此处（这是我的个人资料）：

[http://fairview.deadfrontier.com/onlinezombiemmo/get_values.php?userID=2667244](http://fairview.deadfrontier.com/onlinezombiemmo/get_values.php?userID=2667244)

如您所见，该页面看起来像一个巨大的查询字符串。问题仅在于一个变量“newpms”（几乎位于末尾）。

这是我获取所有变量及其值的代码，我正在使用 parse_str()：

```
$url = "http://fairview.deadfrontier.com/onlinezombiemmo/get_values.php?userID=2667244";
$sc = file_get_contents($url);
$str = parse_str(trim($sc));

// wrong value
print $newpms.PHP_EOL;

// examples that show the correct value
print $account_name.PHP_EOL;
print $df_buyer.PHP_EOL; 
```

即使网站显示变量 newpms 在我这边大于 0，它总是显示为 0，它具有什么值并不重要。我真的不明白这种行为。

即使我使用是这样的，它也不起作用：

```
$url = "http://fairview.deadfrontier.com/onlinezombiemmo/get_values.php?userID=2667244";
$sc = file_get_contents($url);
$data = array();
$str = parse_str(trim($sc), $data);

print_r($data); 
```

这将产生（仅显示 newpms）：

> [newpms] => 0

也许 file_get_contents 正在检索错误的内容？

谢谢

# java - URL中的汉字无法获取

> ID：10223415
> 
> 赞同：0
> 
> 时间：2012-04-19T07:25:23.340
> 
> 标签：java, forms, jsp, utf-8, cjk

我有这个网址：`http://localhost:8080/Test/jsp/index.jsp?userName=%E5%AE%98%E8%AF%9D`。但是当我试图得到`userName`：

```
<meta http-equiv="test" content="text/html; charset=UTF-8">
  <%
    String username = request.getParameter("userName");
    out.print("<b>"+username+"</b>");    
  %> 
```

`userName`印刷品不可读。我的页面已经是 UTF-8 并且还保存为 UTF-8，如何获取和打印准确的汉字？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:39:06.027

你应该对你的 URL 进行编码（这是 Python，使用等效的 Java 方法）：

```
>>> urllib.urlencode({'userName':'官话'})
'userName=%E5%AE%98%E8%AF%9D' 
```

# javascript - 如何重新放置字母架上的字母？

> ID：10223420
> 
> 赞同：0
> 
> 时间：2012-04-19T07:25:51.477
> 
> 标签：javascript, jquery, jquery-ui, drag-and-drop

将字母放在板上后，字母不再在字母架上踱步。它只是在放置后才在板上弹跳。如果需要，我可以将字母放在板上，也可以重新将字母拖到架子上。怎么可能？这是链接：[http](http://www.onlinedemowebsite.com/design/swatch/drag-and-drop/try3.html) ://www.onlinedemowebsite.com/design/swatch/drag-and-drop/try3.html 谢谢

```
$(element).draggable({
                containment:'.board ,.lettersContainer',
                snap:true,
                tolerance:'touch',
                snap:'.cellBox', snapMode: 'center',
            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:44:05.557

在不查看代码的情况下，您可能想要在从板上启动拖动时摆弄 Draggable jQueryUI 组件的[包含选项。](http://jqueryui.com/demos/draggable/#option-containment)现在 droptarget 可能仅限于电路板，而您希望将其限制在电路板和机架上。

# python - 返回可变数量输出的python函数

> ID：10223427
> 
> 赞同：9
> 
> 时间：2012-04-19T07:26:16.367
> 
> 标签：python, python-2.7

我想输入一个未知宽度（列数）的表格，并且我希望我的函数为每一列输出一个列表。我还输出了一个包含上述列表名称的列表。

我正在尝试这个：

```
def crazy_fn(table):  
    titles=read_col_headers(table)  
    for i in range(1,len(table)):   
        for j in range(0,len(titles)):  
            vars()[titles[j]].append(table[i][j])  

    return titles, vars()[titles[k]] for k in range(0,len(titles)) 
```

当我知道我将输出多少列/列表（返回标题、a、b、c、d）时，该函数适用，但我试图概括的方式不起作用。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-19T07:34:01.973

从函数返回非常数的变量通常是个坏主意，因为使用它会令人困惑且容易出错。

为什么不将映射标题标题的字典返回到列表？

```
def crazy_fn(table):  
    result=dict()
    titles=read_col_headers(table)
    for title in titles:
        result[title]=VALUE(TITLE)
    return result 
```

这可以使用字典理解来缩写为：

```
def crazy_fn(table):
   return {title : VALUE(TITLE) for title in read_col_headers(table)} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-19T07:32:09.680

哇，循环太多

就像是：

```
def crazy_fn(table): 
    titles = read_col_headers(table)
    columns = zip(*table[1:])
    return titles, columns 
```

可能会这样做。值得阅读更多关于[python 内置函数](http://docs.python.org/library/functions.html)如何工作的内容。

# php - 使用 cURL 和 PHP 下载多个 PDF

> ID：10223433
> 
> 赞同：1
> 
> 时间：2012-04-19T07:26:38.340
> 
> 标签：php, pdf, curl

我是 cURL 的新手，我想知道如何将多个 PDF 从[http://somedomain.com/MyPDFFiles/](http://somedomain.com/MyPDFFiles/)下载到我服务器上的文件夹：http: [//mydomain.com/PDFs/](http://mydomain.com/PDFs/)

我有所有文件名，但我不知道是否可以使用 cURL 和 PHP 来获取它。

有人可以解释这是如何工作的吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:28:44.987

您可以使用 multicurl 同时发送 curl 请求

[https://github.com/jmathai/php-multi-curl](https://github.com/jmathai/php-multi-curl)

# iphone - 可以从另一个 iPhone/iPad 独立应用程序启动 iPhone/iPad 独立应用程序吗？

> ID：10223434
> 
> 赞同：0
> 
> 时间：2012-04-19T07:26:42.593
> 
> 标签：iphone, ios, ipad

是否可以从另一个独立的 iPhone 应用程序启动一个独立的 iPhone 应用程序（可能是单击按钮或其他东西......）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:28:57.383

[检查这个](http://wiki.akosma.com/IPhone_URL_Schemes) 大多数应用程序的 url 方案

您可以使用 url 方案打开另一个应用程序，甚至可以向应用程序发送参数

例如：开放野生动物园

```
NSString *stringURL = @"http://www.gogole.com/";
NSURL *url = [NSURL URLWithString:stringURL];
[[UIApplication sharedApplication] openURL:url]; 
```

# asp.net - 我们现在应该继续在 HTML5 中使用 asp.net ViewState 和 Session 吗？

> ID：10223436
> 
> 赞同：0
> 
> 时间：2012-04-19T07:26:45.937
> 
> 标签：asp.net, html

如果我们搭建一个业务系统，并且可以演示/要求我们的客户端使用类似IE9+版本的浏览器，那么，我们准备使用html5来搭建系统UI。

如您所知，html5 提供了 sessionStorage 和 localStorage，我认为它们可以代替 viewState 和 session，那么，这是否意味着我们不再需要 viewstate 和 session？只有当我需要将客户端数据传递到服务器时，我才能通过 Ajax 将 json 数据从客户端存储传递到服务器。

好的，谁能告诉我我是否正确？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:34:41.427

If you don't use ASP.NET WebForms, you won't use ViewState.

ViewState is a concept with very bad reputation, you have to avoid it.. actually. I heard that ASP.NET WebForms 4 has a lot of improvements there, but unfortunatelly without details. But you are not able to just 'say' use localStorage instead of ViewState, since WebForms controls are dependend on it.

So, you if you wish to manage client side state with localStorage you have to create own code. And you obviously need to pick up another technology. If you are on ASP.NET stack - ASP.NET MVC is best choice.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:37:37.110

ViewState 使您可以使用 asp.net 的强大功能来维护控件状态。你不必担心如何做到这一点。如果为此选择 HTML HTML5 会话状态，您将无法获得 asp.net 控件中的控件状态。

在 html5 中，您有本地存储，您可以在系统重新启动后拥有它，但它无法替换会话，因为会话在服务器上维护，并且可以在 asp.net 代码中再次访问，而在 asp.net 代码中无法访问本地存储。

如果您有纯粹与存储在客户端计算机上相关的内容，那么您可以使用 HTML5 会话和本地存储

# java - 如何在 glassfish 3 中使用 ssl 传输登录凭据

> ID：10223438
> 
> 赞同：0
> 
> 时间：2012-04-19T07:26:53.787
> 
> 标签：java, security, glassfish-3

我能够按照这个 [http://jugojava.blogspot.com/2011/02/jdbc-security-realm-with-glassfish-and.html设置 Glassfish 容器管理的安全性](http://jugojava.blogspot.com/2011/02/jdbc-security-realm-with-glassfish-and.html)

现在，我所有的安全资源都需要一个登录页面。

但是我仍然不知道如何安全地将登录信息从客户端传输到服务器。我在某处读到我应该使用 SSL（安全套接字层）。

我对此进行了谷歌搜索，但在 Glassfish 3 中找不到有关如何执行此操作的好资源。

有些教程需要从网络签名的证书，我认为这对于我的 Intranet 应用程序来说太复杂了。

有人知道如何做这个简单的用例的好资源吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:35:39.733

您可以通过将 user-data-constraint 添加到*web.xml*中的 security-constraint 来强制 SSL 传输。[Java EE 教程](http://docs.oracle.com/javaee/6/tutorial/doc/gkbaa.html)中对此进行了说明。

这是教程中的示例配置：

```
<security-constraint>
    <web-resource-collection>
        ...
    </web-resource-collection>
    <auth-constraint>
        ...
    </auth-constraint>
    <user-data-constraint>
        <transport-guarantee>CONFIDENTIAL</transport-guarantee>
    </user-data-constraint>
</security-constraint> 
```

Glassfish 带有一个默认证书，它会提供浏览器警告，但您可以将其用于测试。

# jasperserver - 如何在jasper报表服务器中配置db2？

> ID：10223441
> 
> 赞同：0
> 
> 时间：2012-04-19T07:27:05.900
> 
> 标签：jasperserver

我想知道如何在 jasper 报表服务器中配置 db2。可以一步一步告诉我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T17:35:28.193

您可以在此处找到 DB2 JDBC 驱动程序：[http ://www-01.ibm.com/support/docview.wss?uid=swg21363866](http://www-01.ibm.com/support/docview.wss?uid=swg21363866)

DB2 URL 应该是：

```
jdbc:db2://localhost:50000/jsprsrvr:driverType=4;
    fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;
    progressiveStreaming=2;progresssiveLocators=2;currentSchema=JSPRSRVR 
```

使用要连接的模式修改 JSPRSRVR。您将使用的驱动程序类是：

```
com.ibm.db2.jcc.DB2Driver 
```

对于配置数据源，这里有一个分步指南[http://jasperforge.org/plugins/mwiki/index.php/Jasperserver/DataSources](http://jasperforge.org/plugins/mwiki/index.php/Jasperserver/DataSources)

# user-interface - 使用 Powershell GUI + 刷新

> ID：10223446
> 
> 赞同：0
> 
> 时间：2012-04-19T07:27:18.280
> 
> 标签：user-interface, powershell, powershell-2.0

我在这里挣扎。

拿这个示例代码：

```
[void] [System.Reflection.Assembly]::LoadWithPartialName("System.Drawing") 
[void] [System.Reflection.Assembly]::LoadWithPartialName("System.Windows.Forms") 

$objForm = New-Object System.Windows.Forms.Form 
$objForm.Text = "Data Entry Form"
$objForm.Size = New-Object System.Drawing.Size(500,400) 
$objForm.StartPosition = "CenterScreen"

$objForm.KeyPreview = $True
$objForm.Add_KeyDown({if ($_.KeyCode -eq "Enter") 
    {$output1=$objTextBox.Text}})
$objForm.Add_KeyDown({if ($_.KeyCode -eq "Escape") 
    {$objForm.Close()}})

$OKButton = New-Object System.Windows.Forms.Button
$OKButton.Location = New-Object System.Drawing.Size(100,90)
$OKButton.Size = New-Object System.Drawing.Size(75,23)
$OKButton.Text = "Merge"
$OKButton.Add_Click({$output=$objTextBox.Text})
$objForm.Controls.Add($OKButton)

$CancelButton = New-Object System.Windows.Forms.Button
$CancelButton.Location = New-Object System.Drawing.Size(300,90)
$CancelButton.Size = New-Object System.Drawing.Size(75,23)
$CancelButton.Text = "Cancel"
$CancelButton.Add_Click({$objForm.Close()})
$objForm.Controls.Add($CancelButton)

$objLabel = New-Object System.Windows.Forms.Label
$objLabel.Location = New-Object System.Drawing.Size(160,20) 
$objLabel.Size = New-Object System.Drawing.Size(280,20) 
$objLabel.Text = "Please enter the target machine: "
$objForm.Controls.Add($objLabel) 

$output = new-object System.Windows.forms.label
$output.location = new-object System.drawing.size(30, 140)
$output.size = New-Object System.Drawing.Size(300,300) 
$objform.controls.add($output)

$objTextBox = New-Object System.Windows.Forms.TextBox 
$objTextBox.Location = New-Object System.Drawing.Size(115,40) 
$objTextBox.Size = New-Object System.Drawing.Size(260,20) 
$objForm.Controls.Add($objTextBox) 

$objForm.Topmost = $True

$objForm.Add_Shown({$objForm.Activate()})
[void] $objForm.ShowDialog()
$output 
```

我一生都无法弄清楚为什么当我在框中输入文本并单击 OKButton (Merge) 时没有任何反应。它应该输出到 $output，或者至少，这就是我想要发生的事情。

我只是想让代码获取文本框的输入并将其输出到名为 $output 的标签表单。

从某种意义上说，当我将输入输入文本框并按“合并”时，它可以工作，它会将其输出到 Powershell_ISE 控制台，但只有在窗口关闭并第二次运行之后（它不是当我按下“合并”时刷新 $output 标签，并且仅在我关闭程序时输出）

请帮忙！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:57:03.053

调整

```
$OKButton.Add_Click({$output=$objTextBox.Text}) 
```

到

```
$OKButton.Add_Click({$output.text=$objTextBox.Text}) 
```

# mysql - 谁能推荐一个原生支持多个数据库的优秀数据建模工具/数据建模器？

> ID：10223447
> 
> 赞同：4
> 
> 时间：2012-04-19T07:27:21.723
> 
> 标签：mysql, windows, oracle, postgresql, data-modeling

你能推荐我一个好的和负担得起的 Windows 数据库建模工具吗？

它将主要用于两个主要的开源数据库：MySQL 和 PostgreSQL，以及两个最流行的商业数据库：Oracle 和 SQL Server。我希望所有这些数据库都可以在一个应用程序中同时本地连接。如果它有一个直观的 GUI，那就太好了。.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:02:15.867

我最近查看了[DbSchema](http://www.dbschema.com/)，它看起来非常好。

我还查看了[DbWrench](http://www.dbwrench.com/)，它具有类似的功能集和价格，但在处理大型模型（> 250 个表）时速度要慢得多

我们最终购买了[Toad Data Modeler](http://www.quest.com/toad-data-modeler/) (TDM)，因为那里对数据库特定功能的支持要好一些，而且它的脚本能力也允许我们生成其他导出格式

有关“免费”版本的链接，请参阅 splash 的答案 - 它将于 2012 年 11 月到期，因此它并不是真正免费的。不知道以后会不会有新的offer。

如果您还需要在其他平台上运行的工具（TDM 仅适用于 Windows），DbSchema 似乎是不错的选择。它的自动布局算法看起来比 TDM 的要好得多

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-18T14:58:01.223

我使用了跨平台的[MySQL Workbench 。](http://mysqlworkbench.org/)它也可以从便携式设备上运行。这只能与 MySQL 一起使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:59:30.540

[Toad Data Modeler](http://toadworld.com/Freeware/ToadDataModelerFreeware/tabid/637/Default.aspx)有一个免费软件版本。Toad Data Modeler 支持 Oracle 数据库、MS SQL Server、MySQL、PostgreSQL、MS Access 等数据库平台。

它有一定的限制（见[特征矩阵](http://modeling.inside.quest.com/servlet/KbServlet/download/4557-102-20702/TDM4_Feature_Matrix.pdf)），比如：

*   最多 25 个实体
*   被许可方组织内最多 5 个用户

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:51:22.917

我使用过[Navicat](http://www.navicat.com/)，它是跨平台的，而且价格也不贵，但它们有用于不同数据库的单独工具，所以如果你要将它用于不同的数据库系统，你可能需要为每个系统购买单独的许可证，虽然不是 100% 肯定。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-28T01:30:22.040

您听说过 MicroERD 吗？我想它推出的时间不长。但试试它的演示。它具有完整的数据建模功能。而且它的价格相当合理。

[http://www.microerd.com](http://www.microerd.com)

# iphone - UIWebview 中的 HTML 字符串

> ID：10223448
> 
> 赞同：2
> 
> 时间：2012-04-19T07:27:22.847
> 
> 标签：iphone, uiwebview

> **可能重复：**
> [在 iphone 的 uiwebview 中显示文本](https://stackoverflow.com/questions/3708221/display-text-in-uiwebview-in-iphone)

我有一个 HTML 格式的字符串。

我想先将此 HTML 字符串转换为普通字符串，然后将转换后的普通字符串显示到 webview 中。（我也想要 3 段。）

如何在 UIWebview 中做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:34:51.357

try this?

```
NSString *myText = [self.webView stringByEvaluatingJavaScriptFromString:
                                          @"document.body.textContent"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:39:37.600

它将帮助您在文本中转换 html [如何将 NSString HTML 标记转换为纯文本 NSString？](https://stackoverflow.com/questions/2606134/iphone-xcode-how-to-convert-nsstring-html-markup-to-plain-text-nsstring)

对于其他问题，请尝试此链接 [在 iphone 的 uiwebview 中显示文本](https://stackoverflow.com/questions/3708221/display-text-in-uiwebview-in-iphone)

您可以使用

```
NSString *str = [self.mYwebView stringByEvaluatingJavaScriptFromString:
                                      @"document.body.textContent"]; 
```

# oracle - 使用 PLSQL 表缓存不起作用

> ID：10223451
> 
> 赞同：0
> 
> 时间：2012-04-19T07:27:38.730
> 
> 标签：oracle, session, caching, plsql

我有以下代码，我编写了这些代码来调试一些信息

我想调用 GLOBAL.INIT ，每个用户会话只需要调用一次

因此，我使用 PLSQL 表来缓存值，如果 SID 不同，则再次调用 GLOBAL.INIT 但缓存不起作用，请帮助我

```
create or replace procedure dbg(message in VARCHAR2) is
  sid1 NUMBER;
  idx  NUMBER;
  Type sidcache is table of NUMBER index by binary_integer;
  sidcache1 sidcache;
  sid2      NUMBER;
begin

    select sid
      into sid1
      FROM v$session se
     where se.audsid = SYS_CONTEXT('userenv', 'sessionid');
    BEGIN
    sid2 := sidcache1(sid1);
  EXCEPTION
    WHEN no_data_found THEN
      sidcache1(sid1) := sid1;
      global.INIT('100', 'SYSTEM');
      dbms_output.put_line(1);
    WHEN OTHERS THEN
    dbms_output.put_line(sqlerrm);
  END;
  WRITE_DEBUG.pr_debug('LD', message);
end dbg; 
```

编辑＃1： -

在尝试迈克的回答后，使用以下方法实现了相同的要求

```
create or replace procedure dbg(message in VARCHAR2) is
sid2      NUMBER;
BEGIN
  sid2 := WRITE_DEBUG.sidcache1(1);
EXCEPTION
  WHEN no_data_found THEN
    WRITE_DEBUG.sidcache1(1) := 1;
    global.INIT('100', 'DEBUG');
  WHEN OTHERS THEN
    dbms_output.put_line(sqlerrm);
END; 
WRITE_DEBUG.pr_debug('LD', message);
end dbg; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:31:26.033

默认情况下，每次输入块时都会初始化 PL/SQL 变量，并且不会在调用之间传递值。这意味着每次调用此过程时，sidcache1 变量将为空。

解决此问题的一种简单方法是将 sidcache1 声明为包中的变量。包变量在每个会话中初始化一次，每个会话都有自己独特的变量集。我认为您甚至不需要存储 SID，如果已调用 global.init，则布尔值甚至足以记录。

# iphone - 何时以及为什么需要释放对象？

> ID：10223452
> 
> 赞同：2
> 
> 时间：2012-04-19T07:27:49.413
> 
> 标签：iphone, objective-c, ios, cocos2d-iphone, release

我很想知道 realeasing 对象的真正重要性是什么，什么时候应该做。还有，当你改变场景时，它会自动释放所有东西，还是它们还在记忆中？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T07:30:04.673

那么这取决于，你应该只释放你拥有的对象。您拥有通过`alloc`、`copy`或创建的`mutableCopy`对象`new`。当您不再需要它们时释放它们总是一个好主意。

您应该首先阅读苹果提供的[内存管理文档。](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html)

但是，如果您正在使用`ARC`，则无需释放对象，因为这是编译时的阻碍。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:40:28.723

更改时的 CCScene 将仅自动释放您添加到其中的子类，即 CCNode 子类。如果您通过代码保留了任何对象，则必须在 dealloc 方法中释放它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:57:39.337

好吧，我是 Objective c 的新手，但我想提一提的是，当苹果提供了一个名为 ARC 的令人敬畏的功能时，为什么还要担心分配、释放或保留。ARC 本身负责内存管理问题。所以在我看来，所有那些只做编码的开发人员都把休息留给了 ARC。

# java - 玩！2.0 DB 无法识别

> ID：10223455
> 
> 赞同：3
> 
> 时间：2012-04-19T07:28:13.597
> 
> 标签：java, database, playframework-2.0, ebean

我是新手！2.0 和 Java，我尝试将我的新应用程序连接到现有数据库 @work。我完全在数据库中的现有列上构建我的模型类，但它仍然试图发展我的数据库（“数据库'默认'需要发展！”）。我是否需要更改有关数据库的配置（例如，因为“默认”的事情）？

感谢帮助。

编辑：

我解决了我的问题。我不得不在配置中禁用进化插件。之后，它正确访问了数据库的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T09:34:33.347

仅供您参考：

**将现有数据库与数据连接到 Play with evolutions 时要小心，它可能会**破坏****您**的数据！**

 **禁用进化是你应该做的第一步。**

# iphone - 在 Bump Api 发送图像方面需要一些帮助

> ID：10223460
> 
> 赞同：8
> 
> 时间：2012-04-19T07:28:35.680
> 
> 标签：iphone, ios, xcode, uiimage, bump

我需要一些帮助。我想通过 Bump 将 Jpg 或 PNG 图像从一部 iPhone 传输到另一部 iPhone。我遇到了根本不发送图像的成功和失败。

下面是一个 NSObject 文件，当用户从 UIimagepicker 中选择图像时将调用该文件。

接收者不会发送任何数据，只会接收。

请帮我看看代码并给我任何评论或意见。

感谢并感谢您的帮助。

```
- (id) init{
    if(self = [super init]){
        bumpObject = [BumpAPI sharedInstance];
        NSError *error;
         NSURL *fileURL = [NSURL fileURLWithPath:[[NSBundle mainBundle]pathForResource:@"sound_bump_tap" ofType:@"aif"]];
        bumpsound = [[AVAudioPlayer alloc] initWithContentsOfURL:fileURL error:&error];
        [bumpsound prepareToPlay];
    }
    return self;
}

-(void) configBump
{

    [bumpObject configAPIKey:@"My API Key"]; //put your api key here. Get an api key from http://bu.mp
    [bumpObject configDelegate:self];
    [bumpObject configParentView:self.bumpShare.view];
    [bumpObject configActionMessage:@"Bump with your friend to start."];    
}

- (void) startBump{
    [self configBump];
    [bumpObject requestSession];
}

- (void) stopBump{
    [bumpObject endSession];
}

#pragma mark -
#pragma mark Private Methods

// for Debug -- prints contents of NSDictionary
-(void)printDict:(NSDictionary *)ddict {
    NSLog(@"---printing Dictionary---");
    NSArray *keys = [ddict allKeys];
    for (id key in keys) {
        NSLog(@"   key = %@     value = %@",key,[ddict objectForKey:key]);
    }   
}

#pragma mark -
#pragma mark Public Methods
- (void) sendDetails:(UIImage *)selectedImage
{
    [bumpShare showHUD];
    //Now we need to package our message dictionary up into an NSData object so we can send it up to Bump.
    //We'll do that with with an NSKeyedArchiver.
    NSLog(@"Here Got called!!!!!!! %@",self.selectedImg);

//    NSData* wholeImageData = [NSKeyedArchiver archivedDataWithRootObject:userChunk];
//    int dataLength = [wholeImageData length];
//    int maxChunkSize = 262144;
//    int chunkCount = dataLength / maxChunkSize;
//    
//    if (chunkCount == 1) {
//        //Data is 254kb or under
//        NSData *moveChunk = [NSKeyedArchiver
//                             archivedDataWithRootObject:self.selectedImg];
//        [bumpObject sendData:moveChunk];
//    } 
//    else if (dataLength > maxChunkSize) 
//    {
//        NSLog(@"Sending data: %d bytes in %d chunks", dataLength, chunkCount);
//        for (int i = 1; i <= chunkCount; i++) 
//        {
//            int ithChunkLength = 0;
//            if ((maxChunkSize * i) > dataLength)
//            {
//                ithChunkLength = dataLength-(maxChunkSize*(i-1));
//            }
//            else {
//                ithChunkLength = 262144;
//            }
//            NSData *moveChunk = [wholeImageData subdataWithRange:NSMakeRange(maxChunkSize*(i-1),ithChunkLength)];
//            //[[NSKeyedArchiver archivedDataWithRootObject:self.selectedImg] subdataWithRange:NSMakeRange(262144*(i-1),maxr)];
//            NSLog(@"Sending Chunk: %d, %d bytes",i,[moveChunk length]);
//            [bumpObject sendData:moveChunk];
//        }
//    }

    NSData *photoData = UIImageJPEGRepresentation(self.selectedImg, 0.9);
    //NSData *userChunk = [NSKeyedArchiver archivedDataWithRootObject:self.selectedImg];
    if([[NSKeyedArchiver archivedDataWithRootObject:photoData]length] > 262144)
    {
        int dlen = [[NSKeyedArchiver
                     archivedDataWithRootObject:photoData] length];
        NSLog(@"Sending data: %i bytes in %d chunks",dlen,(int)ceil(((float)dlen / 262144.0f)));

        for (int i=1; i <= (int)ceil(((float)dlen / 262144.0f)); i++) {
            int maxr=0;
            if ((262144*i) > dlen) {
                maxr = dlen-(262144*(i-1));
            } else {
                maxr = 262144;
            }                       
            NSData *moveChunk = [[NSKeyedArchiver archivedDataWithRootObject:photoData] subdataWithRange:NSMakeRange(262144*(i-1),maxr)];

            NSLog(@"Sending Chunk: %d, %d bytes",i,[moveChunk length]);
            [bumpObject sendData:moveChunk];
        }
    }
    else
    {
        //Data is 254kb or under
        NSData *moveChunk = [NSKeyedArchiver
                             archivedDataWithRootObject:photoData];
        [bumpObject sendData:moveChunk];
    } 

    //[self printDict:moveDict];
    //[userDict release];

    //Calling send will have bump send the data up to the other user's mailbox.
    //The other user will get a bumpDataReceived: callback with an identical NSData* chunk shortly.
    //packetsAttempted++;
    //[bumpObject sendData:userChunk];
}

- (void) startConnection:(UIImage *)selectedImage
{
    //set local and remote user names
    //[bumpShare setLocalUserName:[[bumpObject me] userName]];
    //[bumpShare setRemoteUserName:[[bumpObject otherBumper] userName]];
    //[bumpShare updateUserNames];
    [self sendDetails:selectedImage];
}

#pragma mark Utility
-(void) quickAlert:(NSString *)titleText msgText:(NSString *)msgText{
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:titleText message:msgText delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    //[alert release];
}

- (void)imageSavedToPhotosAlbum:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo {

    NSString *message;
    NSString *title;

    if (!error) {
        title = NSLocalizedString(@"Save Success", @"");
        message = NSLocalizedString(@"Save Success Message", @"");
        HUD.customView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Checkmark.png"]];
        HUD.mode = MBProgressHUDModeCustomView; 
        HUD.labelText = @"Photo Saved To Photo Album";
        [HUD hide:YES afterDelay:1.5];
        //saved =1;
        //self.imageOverlay.alpha =0.7;
        [bumpShare hideHUD]; 
        [self performSelector:@selector(saveSuccess) withObject:nil afterDelay:0.5];

    } else 
    {
        title = NSLocalizedString(@"Save Failed", @"");
        message = [error description];

        HUD.customView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"sad_face.png"]];
        HUD.mode = MBProgressHUDModeCustomView;
        HUD.labelText = @"Error Saving to Photo Album";
        [HUD hide:YES afterDelay:3];
    }
}

-(void)saveSuccess
{
    [bumpShare pushToSuccess];
}

#pragma mark -
#pragma mark BumpAPIDelegate methods

- (void) bumpDataReceived:(NSData *)chunk
{
    //The chunk was packaged by the other user using an NSKeyedArchiver, so we unpackage it here with our NSKeyedUnArchiver
        NSLog(@"chunk length %i",[chunk length]);
        //NSData *receivedData = [NSKeyedUnarchiver unarchiveObjectWithData:chunk];
        if ([chunk length] != 262144) 
        {   
            NSLog(@"called length %i",[receivedData length]);

            if (!self.receivedData) {
                self.receivedData = [NSMutableData dataWithCapacity:[chunk length]];
                [self.receivedData setData:chunk];
            }
            else 
            {
                [self.receivedData appendData:chunk];
            }
            [self stopBump];
            //UIImage* receivedImage = [NSKeyedUnarchiver unarchiveObjectWithData:self.receivedData];
            //UIImageWriteToSavedPhotosAlbum(receivedImage, self, @selector(imageSavedToPhotosAlbum: didFinishSavingWithError: contextInfo:), nil);

        }
        else if([chunk length] == 262144)
        {   NSLog(@"called length %i",[receivedData length]);
            //NSLog(@"calledin length %i",[chunk length]);

            if (!self.receivedData) {
                self.receivedData = [NSMutableData dataWithCapacity:[chunk length]];
                [self.receivedData setData:chunk];
            }
            else 
            {
                [self.receivedData appendData:chunk];
            }
        }  
}

- (void) bumpSessionStartedWith:(Bumper*)otherBumper{
    [self startConnection:nil];
}

- (void) bumpSessionEnded:(BumpSessionEndReason)reason {
    NSString *alertText;
    switch (reason) {
        case END_LOST_NET:
            alertText = @"Connection to Bump server was lost.";
            break;
        case END_OTHER_USER_LOST:
            alertText = @"Connection to other user was lost.";
            break;
        case END_USER_QUIT:
            alertText = @"You have been disconnected.";
            break;
        default:
            alertText = @"You have been disconnected.";
            break;
    }

//    if(reason != END_USER_QUIT){
//        //if the local user initiated the quit,restarting the app is already being handled
//        //other wise we'll restart here
//        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Disconnected" message:alertText delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
//        [alert show];
//        //[alert release];
//    }
    NSLog(@"Sending Chun!!!!!!!!!");
    NSLog(@"self.received data %i",[self.receivedData length]);

    if ([self.receivedData length]>200) 
    {
        NSData *imgData= [NSKeyedUnarchiver unarchiveObjectWithData:self.receivedData];
        UIImage* receivedImage = [UIImage imageWithData:imgData];//[NSKeyedUnarchiver unarchiveObjectWithData:self.receivedData];
        UIImageWriteToSavedPhotosAlbum(receivedImage, self, @selector(imageSavedToPhotosAlbum: didFinishSavingWithError: contextInfo:), nil);
    }
    else 
    {
        [bumpShare hideHUD]; 
        [self performSelector:@selector(saveSuccess) withObject:nil afterDelay:1.5];        
    }

}

- (void) bumpSessionFailedToStart:(BumpSessionStartFailedReason)reason {

    NSString *alertText;
    switch (reason) {
        case FAIL_NETWORK_UNAVAILABLE:
            alertText = @"Please check your network settings and try again.";
            break;
        case FAIL_INVALID_AUTHORIZATION:
            //the user should never see this, since we'll pass in the correct API auth strings.
            //just for debug.
            alertText = @"Failed to connect to the Bump service. Auth error.";
            break;
        default:
            alertText = @"Failed to connect to the Bump service.";
            break;
    }

    if(reason != FAIL_USER_CANCELED){
        //if the user canceled they know it and they don't need a popup.
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Connection Failed" message:alertText delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
        //[alert release];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T19:19:43.467

我发现通过 Bump 传输图像或超过 256k 限制的任何数据量非常慢。您必须将有效负载分解成块，然后在发送和接收每个块之间存在延迟。如果你有自己的网络服务器，我会这样做：

1.  让应用通过某种网络服务将图像上传到您的网络服务器
2.  让 Web 服务返回上传文件的 ID 或路径
3.  **将这些信息颠倒过来**，充其量只有几k
4.  让应用程序的接收器部分从您的网络服务器获取图像

您会惊讶于您的传输速度会有多快！

# jquery - 在 find() 使用后抓取文本节点

> ID：10223465
> 
> 赞同：0
> 
> 时间：2012-04-19T07:28:51.050
> 
> 标签：jquery

单击图像后，我正在使用 JQuery 显示工具提示框。到目前为止，我可以选择正确的 div，然后我可以识别包含文本节点的正确子 div。不幸的是，我无法获取 sub-div 的文本节点。出了什么问题 - 在 currentDescriptionContainer 上调用 html() 后我得到“null”？提前致谢！

```
var tooltipItems = jQuery('.tooltipContainer').length;
var i=0;
for (i=0; i<tooltipItems; i++){
    jQuery('.tooltipContainer').eq(i).bind('click', function(){
    var currentContainer = jQuery('.tooltipContainer').eq(i);
    var currentDescriptionContainer = currentContainer.find('div');
    var currentDescriptionText = currentDescriptionContainer.html();
    console.log(currentDescriptionText);
    showRendererToolTipForIpad(this, currentDescriptionText);
    hideRenderedToolTipAfterTimeout();
    });
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:40:30.907

您的代码可以真正简化。试试这段代码，打开控制台看看执行是否正确

```
var tooltipItems = $('.tooltipContainer');
tooltipItems.bind('click', function() {
     var divs = $(this).find('div'), cdText;

     console.log('Element has %d descendent div/s' , divs.length);

     if (divs.length) {
         cdText = divs.text();
         console.log('Text found: ' , cdText);
         showRendererToolTipForIpad(this, cdText); /* this is the i-th DOM node */
         hideRenderedToolTipAfterTimeout();
     } 
}); 
```

请注意，`html()`当应用于元素集合时仅影响第一个元素，因此在此示例中我`text()`改为使用（而且我不知道您希望检索多少个元素）

关于您的代码，我怀疑您正在创建一个可能导致问题的非自愿关闭：当单击事件发生时，您有

```
var currentContainer = jQuery('.tooltipContainer').eq(i); 
```

但由于`for`循环已经结束，该变量`i`将是您集合的**最后一个**索引。因此，无论您单击什么工具提示，`currentContainer`都将始终是使用该索引的参考

# php - PHP 代码输出

> ID：10223471
> 
> 赞同：4
> 
> 时间：2012-04-19T07:29:19.923
> 
> 标签：php

我正在为我的期末考试而学习，我遇到了这个问题：

> 运行此代码后编写输出。

```
<?php
function swap($x, $y) 
{
  $x = $x + 1;
  $y = $y + 2;
  return $x * $y;
}

$a = 3;
$b = swap($a, $a);
print "$a, $b";
$b = swap(&$a, &$a);
print "$a, $b";
?> 
```

我完全理解这段代码的作用，但是在我运行它之后，我得到了与我回答的完全不同的答案，而且我真的不明白输出。我得到的输出是 3、206、36。

有人可以向我解释输出吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T07:32:30.347

你得到的实际上是 3、20、6、36，这是正确的答案。如果你不明白为什么你得到“206”而不是“20”和“6”，那只是因为你在第一个之后没有空格`print`。就是这样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:34:32.557

第一个打印语句 print 3, 20 第二个打印语句 print 6,36

首先不要对此感到困惑..当您通过 ref 传递值时，它会更改原始值..这就是为什么它给出第二个输出为 6,36

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:39:44.670

用下面的函数替换你的函数，你就会明白为什么输出会这样

```
function swap($x, $y) 
{
    echo "<BR><BR>inside function<BR>:";
    echo "<BR>Original x : ".$x;
    echo "<BR>Original y : ".$x;
    $x = $x + 1;
    $y = $y + 2;
    echo "<BR>After x : ".$x;
    echo "<BR>After y : ".$y;
    echo "<BR>^^^^^^^^^^^^^<BR";
    return $x * $y;
} 
```

x 和 y 的第二次值变为 6 ,6 因为您使用的是引用调用。因此，一旦 $x = $x + 1 被执行，它就变成了 4，然后在 $y = $y + 1 被执行之后，它就变成了 $x = 6 (4+2)。所以产品变成了36

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-19T07:47:10.960

原值为`$a = 3`

功能是：

```
function swap($x, $y) 
{
  $x = $x + 1;
  $y = $y + 2;
  return $x * $y;
} 
```

由于您通过引用传递，该函数将修改`$a`. 在函数中，`$a`作为参数传递`$x`，`$y`所以`$x`变成4。由于是引用变量，所以`$a`修改为4。现在`$y`也指向同一个变量`$a`，所以现在`$y`实际上是4。4 + 2使得`$y = 6`。 `$x`同样是 6，因为`$x`和都`$y`指向`$a`他们都修改过的同一个变量。所以`$a`变成6，`$b`变成36。

# c# - 更改默认图标

> ID：10223477
> 
> 赞同：33
> 
> 时间：2012-04-19T07:29:38.520
> 
> 标签：c#, .net, winforms, icons

我正在尝试将应用程序图标从默认更改为其他图标。所以我所做的是，我制作了一个图标并保存了它。然后我转到项目属性中的应用程序选项卡并更改了图标。他在那里显示了我制作的图标，但是当我运行我的项目时，它显示一个灰色图标而不是显示我的图标。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-04-19T08:36:32.813

**不**通过 Visual Studio运行它- 然后图标应该看起来很好。

我相信这是因为当您调试时，Visual Studio 会运行[`<yourapp>.vshost.exe`](https://stackoverflow.com/questions/774187/what-is-the-purpose-of-the-vshost-exe-file)​​，而不是您的应用程序。.vshost.exe 文件不使用您的图标。

最终，你所做的是正确的。

1.  转到项目属性
2.  在应用程序选项卡下将默认图标更改为您自己的
3.  构建项目
4.  在您喜欢的文件资源管理器中找到 .exe 文件。

在那里，图标应该看起来不错。如果您通过单击该 .exe 来运行它，则应用程序中的图标也应该是正确的。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-04-19T07:42:47.623

> 项目的 Icon 属性指定将在 Windows 资源管理器和 Windows 任务栏中为已编译的应用程序显示的图标文件 (.ico)。
> 
> Icon 属性可以在项目设计器的应用程序窗格中访问；它包含已作为资源或内容文件添加到项目中的图标列表。
> 
> **指定应用程序图标**
> 
> 1.  在解决方案资源管理器中选择项目后，在项目菜单上单击属性。
> 2.  选择应用程序窗格。
> 3.  从图标下拉列表中选择一个图标 (.ico) 文件。
> 
> **指定应用程序图标并将其添加到您的项目中**
> 
> 1.  在解决方案资源管理器中选择一个项目后，在“项目”菜单上，单击“属性”。
> 2.  选择应用程序窗格。
> 3.  从图标下拉列表中选择***浏览并浏览到所需图标文件的位置。***
> 
> 图标文件作为内容文件添加到您的项目中，可以在左上角看到。

如果您想为每个表单显示单独的图标，您必须转到每个表单的属性，选择图标属性并浏览您想要的图标。

这是用于相同目的的[MSDN 链接...](http://msdn.microsoft.com/en-us/library/339stzf7.aspx)

希望这可以帮助。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2016-05-06T15:56:49.157

如果您正在使用`Forms`，您可以使用属性窗格中的图标设置。为此，请选择表单并在属性窗格中向下滚动，直到您看到图标设置。当您打开应用程序时，无论您在应用程序和任务栏中的哪个位置，它都会显示该图标

[![图标设置](../Images/51e615bc19d8d4201437e45aa20f8ae7.png)](https://i.stack.imgur.com/jjUAn.png)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-04-19T08:15:51.453

您的应用程序图标显示在任务栏中。左上角（窗口）的图标是表单图标。转到您的表格并用相同的图标填写属性“图标”；问题解决了。您无需将图标放在输出文件夹中（仅用于设置）。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-04-19T07:35:30.063

Go to form's properties, ICON ... Choose an icon you want.

**EDIT:** try this

1.  Edit App.Ico to make it look like you want.
2.  In the property pane for your form, set the Icon property to your project's App.Ico file.
3.  Rebuild solution.

And read this one [icons](http://www.hhhh.org/cloister/csharp/icons/)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-02-26T06:55:19.090

[![转到项目属性](../Images/3fc1565fbed175bcafcadb370767b4e8.png)](https://i.stack.imgur.com/RkhXX.png) 构建项目 在您喜欢的文件资源管理器中找到 .exe 文件。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-10-06T09:29:39.873

如果您指定的图标在您运行 EXE 时显示，但在您从 Visual Studio 运行时不显示，那么对于 WPF 项目，在 XAML 顶部添加以下内容：Icon="Images\MyIcon.ico"。把它放在你有标题和 xmlns 定义的地方。（假设您的项目中有一个 Images 文件夹，并且您在其中添加了 MyIcon.ico）。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-04-19T07:43:14.463

在构建之前，您应该将图标放在项目文件夹中

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-11-21T09:26:29.580

我有同样的问题。我按照步骤更改图标，但它始终安装默认图标。

修复：在完成上述操作后，我通过在 Visual Studio 菜单栏上构建并单击“重建解决方案”来重建解决方案，它成功了！

# javascript - html表值交换

> ID：10223479
> 
> 赞同：2
> 
> 时间：2012-04-19T07:29:42.310
> 
> 标签：javascript, html

我在`html`..中创建了两个表。如何通过复选框选择行将行从一个表移动到另一个表？谁能给我一个示例JS来做到这一点。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:47:24.837

您可以使用[jQuery](http://jquery.com)来做到这一点。像这样的东西应该可以完成这项工作。

```
$(function() {
    // Bind button
    $('#moveRows').click(moveSelectedRows);
    // Select All-button
    $('#selectAll').click(function() {
        $('#table1 input[type="checkbox"]').prop("checked", true);
    });
});

function moveSelectedRows() {
    $('#table1 input[type="checkbox"]:checked').each(function() {
        // Remove from #table1 and append to #table2
        $('#table2').append($(this).closest('tr').remove());
        // Remove the checkbox itself
        $(this).remove();
    });
} 
```

HTML

```
<a href="#" id="selectAll">Select All</a>

<table id="table1">
    <tr>
        <td>Foo1 <input type="checkbox" /></td>
    </tr>
    <tr>
        <td>Bar2 <input type="checkbox" /></td>
    </tr>
</table>

<table id="table2">
    <tr>
        <th>Selected rows</th>
    </tr>
</table>

<a id="moveRows" href="#">Move rows</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:48:50.897

尝试这个：

```
<script type="text/javascript">
function moveIt() {
  $('#table-1 input[type=checkbox]:checked').each(function() {
    var tr = $(this).parents('tr').get(0);
    $('#table-2').append($(tr));
  });
}
</script>

<table border="1" id="table-1">
  <tr>
    <td><input type="checkbox"></td>
    <td>First</td>
  </tr>
  <tr>
    <td><input type="checkbox"></td>
    <td>Second</td>
  </tr>
  <tr>
    <td><input type="checkbox"></td>
    <td>Third</td>
  </tr>
</table>

<table border="1" id="table-2">
</table>

<input type="button" onclick="moveIt()" value="move selected lines from table-1 to table-2" /> 
```

不要忘记包含 jQuery。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:38:42.477

这是将一个 tr 的内容复制到另一个 tr 的最简单方法

[看到这个小提琴](http://jsfiddle.net/kunalvashist/z2aL7/)

关键是获取innerHTML并将其移动到所需的部分

# php - SQL语法问题（同一段代码，给我一个错误！我不明白。）

> ID：10223486
> 
> 赞同：0
> 
> 时间：2012-04-19T07:30:16.670
> 
> 标签：php, mysql, sql

我没有对这段代码做任何事情，它以前工作过一次。现在它给了我这个错误。

```
Error: You have an error in your SQL syntax;
check the manual that corresponds to your MySQL server version for the right syntax to use
near ' `main` = 'yes', `cat` = '' `marka`.`id` ='39'' at line 1 
```

我的 php 中的代码是这样的

```
$updatenews = mysql_query(
 "UPDATE `newcnlco_atakomdb`.`marka`
  SET `title` =  '".mysql_escape_string($title)."',
 `name` =  '".mysql_escape_string($name)."',
 `text` =  '".mysql_escape_string($text)."',
 `url` =  '".mysql_escape_string($url)."',
 `main` =  '".mysql_escape_string($main)."',
 `cat` =  '".mysql_escape_string($cat)."'
  WHERE `marka`.`id` ='".$markaid."'"
)
 or die ('Error: '.mysql_error ());

 if($updatenews)  {
  echo "<br/>";
  echo '<div id="alert">Marka degisildi!</div>';
 } else { 
  echo "error 1";
 } 
```

老实说，我无法理解发生了什么变化以及为什么会出现错误。请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:38:21.440

从您的错误的外观来看，您的一个变量包含一个单引号，很可能`cat`

根据[http://php.net/manual/en/function.mysql-escape-string.php](http://php.net/manual/en/function.mysql-escape-string.php)， mysql_escape_string 函数已被弃用并替换为[http://www.php.net/manual/en/function.mysql-真正的转义字符串.php](http://www.php.net/manual/en/function.mysql-real-escape-string.php)

此外，它们仅替换`"`为转义`\"`的 ，因此给出了查询。此外，您不应引用数字，因此请删除任何 INTEGER 字段周围的引号。这是因为包含数字的字符串并不总是与数字本身相同。这给

```
$updatenews = mysql_query('
    UPDATE `newcnlco_atakomdb`.`marka` SET 
        `title` =  "'.mysql_real_escape_string ($title).'", 
        `name` =  "'.mysql_real_escape_string ($name).'",  
        `text` =  "'.mysql_real_escape_string ($text).'",  
        `url` =  "'.mysql_real_escape_string ($url).'", 
        `main` =  "'.mysql_real_escape_string ($main).'", 
        `cat` =  "'.mysql_real_escape_string ($cat).'" 
    WHERE `marka`.`id` ='.$markaid
) or die ('Error: '.mysql_error ()); 
```

**此外，我希望所有输入都经过检查/清理，包括数字（[http://bobby-tables.com/](http://bobby-tables.com/)）**

**编辑以下评论** 您的“猫”值是数字，默认为空字符串，因此需要清理，即

```
$cat = (is_numeric($cat))?$cat:0;
$updatenews = mysql_query('
    UPDATE `newcnlco_atakomdb`.`marka` SET 
        `title` =  "'.mysql_real_escape_string ($title).'", 
        `name` =  "'.mysql_real_escape_string ($name).'",  
        `text` =  "'.mysql_real_escape_string ($text).'",  
        `url` =  "'.mysql_real_escape_string ($url).'", 
        `main` =  "'.mysql_real_escape_string ($main).'", 
        `cat` =  '.$cat.' 
    WHERE `marka`.`id` ='.$markaid
) or die ('Error: '.mysql_error ()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:01:40.820

试试这个 ：

```
$updatenews = mysql_query(
 " UPDATE newcnlco_atakomdb.marka
  SET title =  '".mysql_escape_string($title)."',
  name =  '".mysql_escape_string($name)."',
  text =  '".mysql_escape_string($text)."',
  url =  '".mysql_escape_string($url)."',
  main =  '".mysql_escape_string($main)."',
  cat =  '".mysql_escape_string($cat)."'
  WHERE marka.id ='".$markaid."' "
) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-19T07:33:02.607

我认为您在以下内容后缺少逗号：

```
`cat` = '' 
```

**编辑：**错误消息中似乎`WHERE`缺少 ，因此看起来好像之前需要另一个逗号

```
`marka`.`id` ='39' 
```

# android - android：语音识别有哪些可用的技术

> ID：10223490
> 
> 赞同：1
> 
> 时间：2012-04-19T07:30:43.393
> 
> 标签：android, speech-recognition

我是android中“语音识别”领域的新手。

我的应用程序要求具有“语音识别”功能。所以我正在做我的功课。我发现 1\. android SDK 对此有支持，它使用了“谷歌语音识别”所以从我理解的天气我们通过意图调用识别器或者我们使用类 SpeechRecogniser ，实际识别是在谷歌云服务器上完成的. 我尝试了使用这两种方法的示例应用程序，并且两种情况下的匹配率都非常低\（首先我的发现正确吗？我尝试的大多数单词/句子都没有得到正确的匹配）。

1.  这两种方法的输出是否会有任何差异，即按意图启动/或使用 SpeechRecogniser 类）

2.  是否所有应用程序都依赖于这种谷歌技术，其中语音作为声音字节发送并在云服务器上识别。我看到 Shazam 使用了不同的技术，但他们有自己的数据库。是否使用了任何其他此类技术

3.  我看到很多“siri for android”。关于这些应用程序如何实际工作的任何说明？

非常感谢您的时间和帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T23:11:46.087

1) 使用`RecognizerIntent`或时，您将获得相同的结果`SpeechRecognizer`。主要区别在于用户交互。`RecognizerIntent`强制用户通过标准语音识别程序。有了它，`SpeechRecognizer`您就可以控制应用程序如何收集语音以及何时处理它。其优点`RecognizerIntent`是易于编程和用户熟悉。有了`SpeechRecognizer`您可以实现高级功能，例如在后台收听语音。您还可以获得更好的错误报告。

此外，有些词对于识别器来说很容易理解，比如“apple”，但有些词却很难像“cumin”，因为各种原因。您必须巧妙地匹配谷歌返回的内容以实现可靠的东西。

2）我不确定他们自己的数据库是什么意思。您的应用程序将有一个“数据库”，您试图将其与用户所说的内容进行匹配

3) 可能是自然语言处理、用户建模、模拟人类对话的技术的混合。或者它们只是一大堆手工编码的规则，让它们看起来很聪明。我的猜测是要尝试使某些事情可信，需要做很多工作。

在此处查看我的一些示例代码： [https ://github.com/gmilette/Say-the-Magic-Word-](https://github.com/gmilette/Say-the-Magic-Word-)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T09:44:54.740

是的....你在正确的轨道上。[这是一篇关于语音识别的好文章](http://www.jameselsey.co.uk/blogs/techblog/android-how-to-implement-voice-recognition-a-nice-easy-tutorial/)。我认为[您还可以在此链接上找到一些信息，这](http://www.pcworld.in/features/siri-alternatives-android-57752011) 对[您来说很有趣！](http://www.androidauthority.com/watch-google-voice-actions-knocking-siris-socks-off-58070/)

# extjs - Controller中的处理函数

> ID：10223491
> 
> 赞同：1
> 
> 时间：2012-04-19T07:30:45.547
> 
> 标签：extjs

如何在控制器上提供处理函数。这是 View.This 中使用的代码

工作。但我需要把这个汉勒函数放在控制器上。

项目：[{ xtype：'复选框'，

```
 name: 'billingSameAsMailing',

                boxLabel: 'Same as Mailing Address?',

                hideLabel: true,

                checked: true,

                style: 'margin-bottom:10px',

                 id:'billingSameAsMailing',

        handler: function(me, checked) {

                    var fieldset = me.ownerCt;

        Ext.getCmp('billingStreet').setDisabled(checked);

        Ext.getCmp('bilcity').setDisabled(checked);

                } 
```

可能吗？

请帮助我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T11:10:27.627

查看`control()`功能[http://docs.sencha.com/ext-js/4-0/#!/api/Ext.app.Controller-method-control](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.app.Controller-method-control)

# php - 通过比较另一个数组的键从一个数组中删除数组值

> ID：10223495
> 
> 赞同：0
> 
> 时间：2012-04-19T07:31:21.533
> 
> 标签：php, arrays

假设我有第一个数组 $aAllCities 作为

```
Array
(
   [21] => London
   [9]  => Paris
   [17] => New York
   [3]  => Tokyo
   [25] => Shanghai
   [11] => Dubai
   [37] => Mumbai
) 
```

另一个数组 $aNotSupportedCities 为

```
Array
(
   [0] => 37
   [1] => 25
   [2] => 11
) 
```

有可能得到这样的数组吗？

```
Array
(
   [21] => London
   [9]  => Paris
   [17] => New York
   [3]  => Tokyo
) 
```

我想删除其他数组中存在的那些键的数组值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:35:42.127

```
foreach($aAllCities as $key => $value) {
    if(in_array($key,$aNotSupportedCities)) {
        unset($aAllCities[$key]); 
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:41:10.330

试试这个：

```
$aAllCities = array_flip( $aAllCities );
$aAllCities = array_diff( $aAllCities, $aNotSupportedCities );
$aAllCities = array_flip( $aAllCities ); 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:46:21.810

其他答案是正确的，但更顺畅、更快的方法是：
`$supportedCities = array_diff_key($aAllCities, $aNotSupportedCities);`

这将返回所有`$aAllCities`没有键的值`$aNotSupportedCities`

请注意，这将通过它们的键比较两个数组，因此您需要使您的`$aNotSupportedCities`外观如下所示：

```
Array
(
   [37] => something
   [25] => doesn't really matter
   [11] => It's not reading this
) 
```

祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:33:53.377

```
$new = $aAllCities;
foreach($aNotSupportedCities as $id) {
  if (isset($new[$id]) {
    unset($new[$id]);
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T07:40:14.920

```
$supportedCities = array_diff_key($aAllCities, array_values($aNotSupportedCities)); 
```

# c++ - QSpinBox ValueChanged 被多次触发

> ID：10223500
> 
> 赞同：2
> 
> 时间：2012-04-19T07:31:36.077
> 
> 标签：c++, qt, signals-slots, qspinbox

假设我有一个值为 123.45 的 QSpinBox。如果我手动编辑它并开始擦除五个，valueChanged 会为值 123.4 触发。如果我继续擦除四个，则会再次发生。

如果我在完成编辑后按回车，它也会被触发。

我想问题是我应该使用 void QAbstractSpinBox::editingFinished () 而不是 valueChanged，但看起来 valueChanged 是推荐的方法，因为我认为有更多示例和用法，所以我想确定这一点。

任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T09:11:36.217

最后我在 Qt 文档中找到了该[`keyboardTracking`属性。](http://doc.qt.io/qt-4.8/qabstractspinbox.html#keyboardTracking-prop)易于设置，并且像魅力一样工作！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:52:23.137

在我看来，使用任何一个信号都很好，一些 Qt 表单元素同时具有一个`editingFinished`和一个`????Changed`信号。

*   QLine编辑
*   QAbstractSpinBox 子类：
    *   QDateTime编辑
    *   QDoubleSpinBox
    *   QSpinBox

多行`QTextEdit`只有一个`textChanged`，因为按下返回会创建一个新行而不是移动焦点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:57:43.117

您可能希望实现一个键处理程序，以便仅在按下回车键时才执行某些操作。这当然不如 valueChanged() 快，但它可能更有效......

可能看起来像这样

```
void MyWidget::keyPressEvent(QKeyEvent *event)
{
    int key = event->key();

    switch (key) {
        case Qt::Key_Return:
        case Qt::Key_Enter: {
            this->start();
            break;
        }
        case Qt::Key_Escape: {
            this->close();
            break;
        }
        default:
            QWidget::keyPressEvent(event);
    }
} 
```

您不会在自己的 MySpinBox 类中实现它，而是在父类中实现它。enter 键从 QSpinBox 传递到它的父级，因为它没有被处理。如果 MyWidget 未处理密钥，则这是在函数结束时执行的操作。然后将其传递给基类。

# zend-framework - Zend Tool cannot find php.exe

> ID：10223501
> 
> 赞同：0
> 
> 时间：2012-04-19T07:31:45.433
> 
> 标签：zend-framework

I am new to Zend Framework. I have placed my both bin and library folder in `C:\xampp\htdocs\Zend\`

In php.ini, I have given path `include_path = ".;C:\xampp\php\pear\;C:\xampp\htdocs\Zend\library"` and in environment variables, I have given path `C:\xampp\htdocs\Zend\bin;`

On writing command for creating project at the command prompt I receive an error

> "php.exe" is not recognised as internal or external command.

My command:-

```
c:\xampp\htdocs\Zend\bin> zf create project test 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:38:47.917

右键单击“我的电脑”进入“高级”选项卡下的“系统属性”，单击“环境变量”在“系统变量”下找到名为“PATH”的变量，然后单击“变量值”附加中的“编辑”按钮带有分号的 php.exe 路径到当前字符串的末尾，如下所示（不带引号）

```
";c:\xampp\php\" 
```

然后重新启动您的命令提示符（因此它可以加载您设置 abv 的新环境变量”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:35:39.180

看起来您没有安装 PHP5 CLI，或者找不到它。CLI 是命令行解释器，它是一个 php 版本，用于像 zf.bat 文件一样运行命令行/cmd 脚本。

也许 xampp 带有一个 php.exe 文件，如果是这样，您也可以将它的目录添加到您的系统 PATH 以便可以找到 php.exe。

[http://php.net/manual/en/install.windows.commandline.php](http://php.net/manual/en/install.windows.commandline.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T08:41:51.643

我猜你的PATH环境应该是这样的

`c:\xampp\php\;C:\xampp\htdocs\Zend\bin`

第一个路径`c:\xampp\php\`将指向 php.exe 文件位置

第二个路径`C:\xampp\htdocs\Zend\bin`将指向 zf.php 位置

# objective-c - XCode: Copy Headers: Public vs. Private vs. Project and symbolcation

> ID：10223502
> 
> 赞同：3
> 
> 时间：2012-04-19T07:31:56.310
> 
> 标签：objective-c, ios, xcode

I have a Cocoa Touch Static Library that is used by my iPhone app. This library is included as a sub project so that I can build them at the same time while working on them.

Based on this article: [XCode: Copy Headers: Public vs. Private vs. Project?](https://stackoverflow.com/questions/7439192/xcode-copy-headers-public-vs-private-vs-project) Its recommended to put all my header files in the Project section, however doing that breaks symbolication on crashes. If I archive and install the app and it crashes Xcode is unable to symbolicate the file even with the .DSYM file present. If I delete everything out of the projects section I can symbolicate just fine.

My questions are

1) Is there any harm with not putting my headers in the project section? This article said my app would launch faster, however I dont notice any kind of speed difference. [https://developer.apple.com/library/mac/#documentation/developertools/Conceptual/CppRuntimeEnv/Articles/SymbolVisibility.html](https://developer.apple.com/library/mac/#documentation/developertools/Conceptual/CppRuntimeEnv/Articles/SymbolVisibility.html)

2) Is there a way I can put them in the Project section and still get symbolication to work.

Not sure this matters, but I am using XCode 4.3.2 and iOS 5.1

# windows - Explorer context menu and.lnk files

> ID：10223507
> 
> 赞同：4
> 
> 时间：2012-04-19T07:32:35.433
> 
> 标签：windows

When I right click on a file in windows explorer I get the filename of this file for all files but .lnk files.
How can I get the fileanme of the .lnk file and not the filename pointed by the shortcut ?

I use this C++ code :

```
 #pragma region IShellExtInit

  // Initialize the context menu handler.
  IFACEMETHODIMP FileContextMenuExt::Initialize(
      LPCITEMIDLIST pidlFolder, LPDATAOBJECT pDataObj, HKEY hKeyProgID)
  {
    if (NULL == pDataObj)
    {
        return E_INVALIDARG;
    }

    HRESULT hr = E_FAIL;

    FORMATETC fe = { CF_HDROP, NULL, DVASPECT_CONTENT, -1, TYMED_HGLOBAL };
    STGMEDIUM stm;

    // The pDataObj pointer contains the objects being acted upon. In this 
    // example, we get an HDROP handle for enumerating the selected files and 
    // folders.
    if (SUCCEEDED(pDataObj->GetData(&fe, &stm)))
    { 
```

Thank you.

# android - Android应用内购买，信用卡问题

> ID：10223511
> 
> 赞同：0
> 
> 时间：2012-04-19T07:32:52.987
> 
> 标签：android

我已经在应用程序中集成了我的 Android 应用程序。该应用程序在 Android 市场中保存为草稿。它有一个产品，已发布。当我触发购买时，会出现一个屏幕，询问信用卡信息。输入信息后，它说：

**保存您的信用卡时出错。请再试一次。**

我不知道这个问题的原因是什么。有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:31:11.480

您使用的是测试帐户吗？

> 测试帐户有权从您已上传到 Google Play 网站但尚未发布的应用程序中进行应用内购买。

要将测试帐户添加到您的发布者帐户，请按照以下步骤操作（[取自官方文档](http://developer.android.com/guide/market/billing/billing_admin.html)）：

1.  登录您的发布商帐户。
2.  在页面的左上角，在您的姓名下，单击编辑个人资料。
3.  在 Edit Profile 页面上，向下滚动到 Licensing & In-app Billing 面板
4.  在测试帐户中，添加您要注册的测试帐户的电子邮件地址，用逗号分隔每个帐户。
5.  单击保存以保存您的个人资料更改

另一件事，你签署了你的应用程序吗？

# android - 分页后如何将数据插入自定义列表

> ID：10223516
> 
> 赞同：1
> 
> 时间：2012-04-19T07:33:06.150
> 
> 标签：android

在下面的代码中，分页数据存储到数据库之后，但是当我从数据库中获取新数据时，自定义列表没有显示任何数据，但是如果我转到下一个选项卡并返回它开始显示数据（注意：来自数据库的新数据成功获取仅未生成自定义列表），有什么我遗漏的吗？

下面是代码片段

```
 private void getFeedsData() {
        // TODO Auto-generated method stub

        VictoriesDBAdapter mFeedsDBAdapter = new VictoriesDBAdapter(this,
                Constants.strFeedsTableName);

        try {
            // //////getting all Feeds Data from API into response
            mAppStatus = AppStatus.getInstance(this);
            List<NameValuePair> params = new ArrayList<NameValuePair>(2);
            params.add(new BasicNameValuePair(Constants.AUTH_KEY, mAppStatus
                    .getSharedStringValue(Constants.AUTH_KEY)));
            String pageNumber = new Integer(iPageNo).toString();
            params.add(new BasicNameValuePair("PAGE_NO", pageNumber));
            String strJsonReponse = RestClient.getInstance(this).doApiCall(
                    Constants.strFeedsTab, "GET", params);
            Log.i("Feeds Data Response...######",
                    String.valueOf(strJsonReponse));

            // Fetching web service Response
            // String strJsonReponse =
            // "[{\"title\":\"Invitation through Email\",\"user\":{\"email\":\"as@as.com\"},\"created_at\":\"2012-04-09T05:53:31Z\",\"id\":43},{\"title\":\"Sample Victory\",\"user\":{\"email\":\"mahesh@yopmail.com\"},\"created_at\":\"2012-04-10T15:56:32Z\",\"id\":49}]";
            // Log.i("JSON RESONSE.....####", strJsonReponse);
            if (isNewFlag == true)
                mFeedsDBAdapter.deleteAll();
            if (strJsonReponse.equals("[]")) {
                bIsLastPage = true;
                Log.i("emtryyyyyyyyyy", "NULL");
                generateCustomList();
            } else {

                ParseResult parser = new ParseResult();
                ArrayList<VictoriesDataModel> victoriesArray = parser
                        .parseVictoriesData(strJsonReponse, isPostedByFlag);
                dbFunctions.storeFeedsDataInDB(victoriesArray);

            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

private void generateCustomList() {
        // TODO Auto-generated method stub
        VictoriesDBAdapter mFeedsDBAdapter = new VictoriesDBAdapter(
                FeedsActivity.this, Constants.strFeedsTableName);
    //  VictoriesDataModel mVictoriesDataModel = new VictoriesDataModel();
        ArrayList<VictoriesDataModel> victoriesData = mFeedsDBAdapter
                .getVictoriesList(0, FeedsActivity.this);
        listCustomListViewId.setAdapter(new FeedsListAdapter(
                FeedsActivity.this, victoriesData)); // display data into custom
                                                        // list
         listCustomListViewId.setOnScrollListener(new OnScrollListener() {

         @Override
         public void onScrollStateChanged(AbsListView view, int scrollState) {
         // TODO Auto-generated method stub

         }

         @Override
         public void onScroll(AbsListView view, int firstVisibleItem,
         int visibleItemCount, int totalItemCount) {
         // TODO Auto-generated method stub
         int lastInScreen = firstVisibleItem + visibleItemCount;
         // is the bottom item visible & not loading more already ? Load
         // more !
         Log.i("Endless List", "########firstVisibleItem"
         + firstVisibleItem);
         Log.i("Endless List", "########visibleItemCount"
         + visibleItemCount);
         Log.i("Endless List", "########last in screen" + lastInScreen);
         Log.i("Endless List", "########total Item" + totalItemCount);
         if ((totalItemCount != 0) && (lastInScreen == totalItemCount)
         && !(loadingMore)) {
         Log.i("Endless List", "########getting 10 more List items");

         if (!bIsLastPage) {
         // FeedsActivity.this.showDialog(0);
         iPageNo++;
         Log.i("Page No.....", String.valueOf(iPageNo));
         loadingMore = true;
         isNewFlag = false;
         getFeedsData();
         Log.i("control......", "At POssssssss");
         loadingMore = false;

         }
         }

         }
         });
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:42:24.747

在列表适配器的数据更改后调用此方法：

```
mFeedsDBAdapter.notifyDataSetChanged() ; 
```

# json - EXTJS How to upload image to hsql database from extjs client side in json object

> ID：10223518
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:12.720
> 
> 标签：json, extjs, request, submit, image-uploading

I have image upload field like

```
{
    xtype: 'textfield',  
    fieldLabel: 'Image',  
    labelSeparator: '',  
    name: 'newPic',  
    id:'newPic',  
    anchor:'100%',  
    inputType: 'file',  
    allowBlank: false  
} 
```

When i submitting form, Im encoding all form data in a json object.All textfields data are coming in json object but not image is passing to server side . How to pass image so as to save it in server side

```
var form=Ext.getCmp('empPersonal');
var formdata=Ext.JSON.encode(form.getValues());
alert(""+formdata);
if(Ext.getCmp('empPersonal').getForm().isValid()) {
    Ext.Ajax.request({ 
    url:'ws/employees/create/'+formdata, 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T12:41:53.370

您应该使用`Ext.form.field.File`而不仅仅是`textfield`. 此控件将允许用户浏览本地计算机上的文件，并且此文件将包含在发送到服务器的 POST 消息中：

[http://docs.sencha.com/ext-js/4-0/#!/api/Ext.form.field.File](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.form.field.File)

# c# - 在 C# 中读取大量字节引发异常？

> ID：10223519
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:13.737
> 
> 标签：c#, sockets, client-server

我有一个 C# 应用程序，它向服务器发送超过 600,000 个字节。来自服务器的响应超过 10,000 个字节。我遇到的问题是，当我读取超过 10k 字节时，它会引发异常：

> System.Net.Sockets.SocketException：远程主机在 System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size,SocketFlags socketFlags) 在 System.Net.Sockets 处强制关闭现有连接。 SimpleTcpClient.Main(String[] args) 处的 Socket.Receive(Byte[] 缓冲区)

我的代码：

```
byte[] data = new byte[10000];
int receivedDataLength = server.Receive(data);
string Data = Encoding.ASCII.GetString(data, 0, receivedDataLength); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T23:18:49.643

当您使用套接字时，您必须预计套接字传输的字节数可能比您预期的要少。您必须循环 .Receive 方法以获取剩余的字节。

当您通过套接字发送字节时也是如此。您必须检查发送了多少字节，并在 Send 上循环，直到发送完所有字节。

此行为是由于网络层将消息拆分为多个数据包所致。如果您的消息很短，那么您遇到这种情况的可能性就较小。但是你应该总是为它编码。

每个缓冲区的字节数越多，您很可能会看到发送者的消息被分成多个数据包。每个读取操作都会收到一个数据包，这只是您的消息的一部分。但是小缓冲区也可能被拆分。

# blackberry - get bytes from mp3 file in blackberry

> ID：10223528
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:40.597
> 
> 标签：blackberry

How to get bytes from audio file in blackberry. I used file picker and uploaded the audio. I tried this -

```
FileConnection fc= (FileConnection)Connector.open(sel);
InputStream is=fc.openInputStream();
ReimgData = IOUtilities.streamToBytes(is); 
```

i have to use any encoding methods ?.

On image encoding, we use the following code for encoding

```
 EncodedImage encode_image =EncodedImage.createEncodedImage(ReimgData, 0, (int)fc.fileSize());
                    JPEGEncodedImage encoder=JPEGEncodedImage.encode(encode_image.getBitmap(),50);
                    byte[] array=encoder.getData();
                    // Decodes the image represented by this EncodedImage and returns a Bitmap
                    int length=array.length;
                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(length);
                    Base64OutputStream base64OutputStream = new Base64OutputStream( byteArrayOutputStream );
                     try{
                                     base64OutputStream.write( array, 0, length );
                                     base64OutputStream.flush();
                                     base64OutputStream.close();
                                 }
                                    catch (IOException ioe){
                                    //Dialog.alert("Error in encodeBase64() : "+ioe.toString());
                                    System.out.println("Error in encodeBase64() : "+ioe.toString());

                                 }

                                 //----Decoding image

                                 try
                                 {
                                    System.out.print(byteArrayOutputStream.toString());
                                      //Dialog.alert(byteArrayOutputStream.toString()+"");
                                      data = Base64InputStream.decode(byteArrayOutputStream.toString()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T09:35:42.710

您可以从音频文件（或任何文件）中读取字节，如下所示：

```
FileConnection file = (FileConnection)Connector.open("yourfile.mp3");
InputStream audioStream = file.openInputStream();

byte[] audioData = IOUtilities.streamToBytes(audioStream);
audioStream.close();
file.close(); 
```

# javascript - 使用 js 和后退按钮切换类

> ID：10223531
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:45.100
> 
> 标签：javascript, jquery, input, checkbox

我目前正在使用

```
$("ul li").click(function () {
  $(this).toggleClass("checked");
         var $checkbox = $(this).find(':checkbox');
         $checkbox.prop('checked', !$checkbox[0].checked);
}); 
```

切换复选框上的类。但是，如果我提交表单然后返回浏览器，它会在我勾选的任何复选框上显示该框，但它们不再具有该类。有没有办法扩展上述内容以检查是否已检查应用类？

的HTML

```
<ul>
  <li class="noclass">
     <input type="checkbox" name="name" />
  </li>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:42:20.017

重构函数，使其根据复选框状态切换类。然后触发一次即可初始化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:50:49.167

```
 $(function(){
     $('input:checkbox').each(function() {
         var self = $(this);

        if(self.attr('checked')) {
            self.addClass('checked');
        }
    });
});

$('input:checkbox').live('change', function() {
    $(this).toggleClass('checked');
}); 
```

它将解决您的问题:)

这将适用于父类

```
$(function(){
     $('input:checkbox').each(function() {
         var self = $(this);

        if(self.attr('checked')) {
            self.parent().addClass('checked');
        }
    });
});

$('input:checkbox').live('change', function() {
    $(this).parent().toggleClass('checked');
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:43:12.320

看起来您仅在单击复选框时才更改课程。检查您是否为选中的复选框提供了课程。

它应该是这样的

```
 #id .checked{
background:#ff0000;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:56:19.707

```
$("ul li").bind('click launch', function () {
    var bool = $(this).attr('checked');
    $(this).toggleClass("checked", bool);
    $('input:checkbox').attr('checked', bool);
}).trigger('launch'); 
```

*   我首先得到布尔值来检查绑定的输入是否为`true`or `false`。
*   然后我根据是否检查#id来切换类
*   然后我根据是否选中#id 检查所有复选框
*   我将它绑定到一个在单击时触发的事件中，而我编造的事件称为“启动”
*   最后我触发了我的“启动”，所以这个函数被执行，使它在页面加载时也发生

**编辑：**
我制作了另一个版本，这可能是您正在寻找的

```
$("ul li").bind('click launch', function () {
    var checkboxes = $(this).find('input:checkbox');
    var bool = Boolean(checkboxes.find(':checked').size());

    $(this).toggleClass('checked', bool);
    checkbox.prop('checked', !checkbox[0].checked);
}).trigger('launch'); 
```

基本上我检查是否选中了任何复选框，并根据它添加类。我不完全确定您希望其余部分做什么，所以我只是复制了它。

# android - Osmdroid 结帐错误

> ID：10223532
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:49.970
> 
> 标签：android, svn, osmdroid

我已经检查了 osmdroid，因为我需要做一些小的调整。

我用过： svn checkout [http://osmdroid.googlecode.com/svn/trunk/](http://osmdroid.googlecode.com/svn/trunk/) osmdroid-svn in Cmd line

然后从 Eclipse -> Import -> Existing projects into Workspace

每个包都有错误，导入不起作用，资源作为包制作并且是空的。我究竟做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-03T09:51:28.300

我想说最有可能的情况是你没有设置 Maven。

您需要 m2eclipse 之类的东西作为 maven 插件工作，因为所有 osmdroid 项目都是 maven 项目。如果没有正确设置 maven，任何依赖项等都不会关闭。

# .net - Storing Special Character in Oracle and with .net Application

> ID：10223534
> 
> 赞同：0
> 
> 时间：2012-04-19T07:33:53.510
> 
> 标签：.net, oracle11g

I am developing a .net windows application with oracle database. Our requirement is to replace "&#188" with ¼ (ascii 188) on UI and save in oracle table. But after replacing the value it is showing "reversed" question mark on UI and in the oracle table it storing as question mark when i am quering the table using pl/sql developer.

Can some some has dealt with this type of problem?

Thanks, H N MIshra

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:02:13.737

ASCII 从 0 到 127。没有 ASCII 字符 188。有一个 Unicode 字符`U+00BC`= ¼，而 00BC 十六进制确实是 188 十进制。这就是答案的提示：使用 Unicode，那么很容易。幸运的是 .Net 已经使用了 Unicode，而在 Oracle 中这只是一个简单的设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T09:17:25.447

似乎您的 Oracle 数据库设置的字符集不包含 ¼ 字符。（我假设您的意思是 Unicode 代码点 188，因为 ASCII 字符集也不包括 ¼。）

最有可能的是，您需要转换数据库的字符集。我推荐 AL32UTF8 (UTF-8)，它支持完整的 Unicode 范围。

[有一个描述字符集迁移](http://docs.oracle.com/cd/B28359_01/server.111/b28298/ch11charsetmig.htm)的 Oracle 文档。

# c - sprintf to a list of char pointers in c? Segmentations errors

> ID：10223539
> 
> 赞同：0
> 
> 时间：2012-04-19T07:34:11.410
> 
> 标签：c, string, segmentation-fault, printf, arrays

I have this code that works (it's a bit stripped down):

```
char *parmList[6];

parmList[0] ="/root/ssl_send";
parmList[1] ="-m 1";            
...etc...
parmList[5] = NULL;
execvp(parmList[0], parmList); 
```

Now I want to write something to one string in this list with sprintf (it's more correct to say that I want that one pointer of *parmList[6] points to a char array constructed with sprintf). I am getting "Segmentation errors" all the time. I have tried:

*   using malloc,
*   declaring a double array so the memory space is reserved,
*   using snprintf,....

I am obviously doing something wrong. The problem is similliar to [Sprintf Segmentation Fault](https://stackoverflow.com/questions/7184227/sprintf-segmentation-fault), just that I need to have a list of pointers/char_arrays for execvp.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:54:48.170

这是使用 sprintf 创建字符串并在参数列表中使用该字符串的代码。确保为 sprintf 输出分配足够的空间。

```
char *parmList[6];
parmList[0] = "/bin/ls";
char arg1[10];
sprintf(arg1, "%s", "-l");
parmList[1] = arg1;
parmList[2] = NULL;
execvp(parmList[0], parmList); 
```

# c# - The collection of questions increases with 10 questions, every time I resolve the quiz

> ID：10223548
> 
> 赞同：1
> 
> 时间：2012-04-19T07:34:57.400
> 
> 标签：c#, collections

I am writing a C# program to display a test of questions. The test has 10 questions. But the program doesn't want to follow the same algorithm if I select a new quiz with the help of

```
 private void newToolStripMenuItem_Click (object sender, EventArgs e) 
```

The quiz doesn't stop after 10 questions.It goes on, it repeats the questions and at a certain number of questions it blocks.

I stepped through the code,and I saw:

*   When I resolve the quiz for the first time:`questions.Count=10;`
*   When I resolve it for the second time: `questions.Count=20;`
*   when I resolve it for the third time: `questions.Count=30`;

Would you like to tell me how can I have `questions.Count=10` for every quiz, please ?

Here is my code:

```
public partial class Form3 : Form
{
    int nr;
    Collection<question> questions = new Collection<question>();

    public class question
    {
        public bool displayed = false;
        public string text;
    }

    //when I press a button from MenuStrip my quiz begin
    private void newToolStripMenuItem_Click(object sender, EventArgs e)
    {
        nr = 1;
        button1.Enabled = true;//it's the next_question button

        StreamReader sr = new StreamReader("quiz.txt");
        while (!sr.EndOfStream)
        {   
            question i = new question();
            questions.Add(i);
        }
        sr.Close();
        int x = r.Next(questions.Count);
        textBox1.Text = questionText;
        questions[x].displayed = true;
        current_question=x;
      }
} 
```

I add that I tried to create

```
 Collection<question> questions = new Collection<question>() 
```

for every quiz I resolve, putting this at the beginning of the

```
 private void newToolStripMenuItem_Click(object sender, EventArgs e) 
```

or at the end of my current quiz:

```
 if (nr >= questions.Count){ //here } 
```

None of these changes prevent the collection to increase with 10 questions. Thank you!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:38:29.897

添加一个 Clear 方法调用：

```
questions.Clear(); 
```

像这样：

```
private void newToolStripMenuItem_Click(object sender, EventArgs e)
{   nr = 1;
    button1.Enabled = true;//it's the next_question button
    questions.Clear();

    StreamReader sr = new StreamReader("quiz.txt");
    while (!sr.EndOfStream)
    {   
        question i = new question();
        questions.Add(i);
    }
    sr.Close();
    int x = r.Next(questions.Count);
    textBox1.Text = questionText;
    questions[x].displayed = true;
    current_question=x;

  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:37:46.883

放

```
questions = new Collection<question>(); 
```

在`newToolStripMenuItem_Click`方法或使用的开始`question.Clear();`

不要`Collection<question>`在它前面包含类型，因为那样你正在创建一个新的局部变量。

# iphone - Drawing lines in a view getting cleared iphone sdk

> ID：10223549
> 
> 赞同：0
> 
> 时间：2012-04-19T07:35:03.577
> 
> 标签：iphone, ios, drawing

I am drawing in a uiview by subclassing a uiview and drawing code is in the

```
- (void)drawRect:(CGRect)rect 
```

method. I am repeatedly calling this to get a growing effect for a line. But every time the method calls the view get cleared. Only small line ig ploted in the view my complete code is

```
- (void)drawRect:(CGRect)rect
{
    static int i=0;
    CGContextRef context = UIGraphicsGetCurrentContext(); 
    CGContextSetStrokeColorWithColor(context, [UIColor redColor].CGColor);
    CGContextSetLineCap(context, kCGLineCapRound);
    CGContextSetRGBFillColor(context, 0.0, 0.0, 0.0, 0.5);       
    CGContextSetLineWidth(context, 10.0);        
    CGContextMoveToPoint(context, i, i);
    CGContextAddLineToPoint(context, i+10, i+10);  
    NSLog(@"-----%d",i);    
    CGContextClosePath(context);            
    CGContextDrawPath(context, kCGPathFillStroke); 
    i++;
    if(i<100)
    [self performSelector:@selector(setNeedsDisplay) withObject:nil afterDelay:0.033];
} 
```

How can I make a growing effect for line

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:40:55.253

在这种情况下，您将重绘所有视图，因此您需要使用`CGContextMoveToPoint(context, 0, 0);`. 所以每次你执行所有的绘图。您也可以调用`setNeedsDisplayInRect:`仅重绘一小部分，但在这种情况下，您应该检查在重绘所有视图时执行所有绘图的矩形。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:45:58.227

每次调用DrawRect 时都会绘制您的**所有**UI，而不是现有部分的附加部分 - 所以实际上目前您每次都绘制一条线。您必须在每次迭代中绘制一个大小不断增长的矩形，以达到您想要的效果。

# iphone - 支持旧版本 iO 的 Twitter 集成

> ID：10223551
> 
> 赞同：1
> 
> 时间：2012-04-19T07:35:18.620
> 
> 标签：iphone, ios5, ios4, twitter

我想将 Twitter 集成到支持旧版本 iO（3.2 到 5.0）的 iPhone 应用程序中。有人可以提供一些链接作为开始吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:00:21.290

社交网站实现 IOS 共享工具包的最佳方式。

它是入库的，对于集成社交网站和易于安装非常有用

官方网站 fo sharekit 在[这里](http://getsharekit.com/install/)

您可以[在此处提供集成演示](http://sugartin.info/2012/03/12/using-share-kit-integration-tweet-on-twitter/)

这认为可能对实施非常有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:22:45.837

试试这个[Twitter 集成](http://www.icodeblog.com/2010/09/16/dealing-with-the-twitter-oauth-apocalypse/)

# .net - Insert javascript file in aspx file, Literal?

> ID：10223552
> 
> 赞同：1
> 
> 时间：2012-04-19T07:35:27.820
> 
> 标签：.net, sharepoint, sharepoint-2010

I'm trying to insert a seperate javascript file in a aspx file. What's the best way to insert a javscript file?

I've tried

```
<asp:Literal runat="server" Text='<script type="text/javascript" src="<% $SPUrl:~sitecollection/Style%20Library/js/test.js %>" ></script>' /> 
```

Why I'm doing this inside a aspx file is that I only have to run this code in display mode:

```
<PublishingWebConrols:EditModePanel ID="Fancyboxdisplay" runat="server" PageDisplayMode="Display">
     <asp:Literal runat="server" Text='<script type="text/javascript" src="<% $SPUrl:~sitecollection/Style%20Library/js/test.js %>" ></script>' />
</PublishingWebControls:EditModePanel> 
```

**Solution** Use asp literal only to render the script src

```
<PublishingWebConrols:EditModePanel ID="Fancyboxdisplay" runat="server" PageDisplayMode="Display">
     <script type="text/javascript" src="<asp:Literal runat="server" Text='<% $SPUrl:~sitecollection/Style%20Library/js/test.js %>/>" ></script>' 
</PublishingWebControls:EditModePanel> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:43:16.743

您应该能够在没有服务器端控件包装器的情况下使用文字文本标记，如下所示：

```
<script type="text/javascript" src="<% $SPUrl:~sitecollection/Style%20Library/js/test.js %>"></script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T11:02:25.990

```
<PublishingWebConrols:EditModePanel ID="Fancyboxdisplay" runat="server" PageDisplayMode="Display">
 <script type="text/javascript" src="<asp:Literal runat="server" Text='<% $SPUrl:~sitecollection/Style%20Library/js/test.js %>/>" ></script>' 
```

# java - JAVA：当整数大于 128 时比较不起作用

> ID：10223555
> 
> 赞同：2
> 
> 时间：2012-04-19T07:35:34.437
> 
> 标签：java, integer

这是我的 Java 程序的一部分，我已经取出并简化了测试。任务是比较 ArrayList 中的两个整数并说明它们是否相等。

下面的代码适用于数字 <128 但任何数字 >128 并且代码将不起作用。

任何帮助都会非常棒，谢谢。

```
import java.util.*;

public class test
{
public static void main (String[] args)
{

Integer seat1Store = 128;
Integer seat2Store = 128;
Integer seat3Store = 0;
Integer seat4Store = 0;
Integer seat5Store = 0;

ArrayList<Integer> proceedArray = new ArrayList<Integer>();

if (seat1Store !=0)
{
    proceedArray.add(seat1Store);
}
if (seat2Store !=0)
{
    proceedArray.add(seat2Store);
}
if (seat3Store !=0)
{
    proceedArray.add(seat3Store);
}
if (seat4Store !=0)
{
    proceedArray.add(seat4Store);
}
if (seat5Store !=0)
{
    proceedArray.add(seat5Store);
}

System.out.println("ArrayList = " + proceedArray);

boolean proceed = false;

for(int i = 0; i<proceedArray.size();i++)
{
    for(int p=0; p<proceedArray.size(); p++)
    {
        if(i != p)
        {
            if(proceedArray.get(i) == proceedArray.get(p))
            {
                System.out.println("DUPLICATE");
                System.exit(0);
            }
        }
    }
    proceed = true;
}

if (proceed == true)
{
    System.out.println("PROCEEDED");
}

}
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-19T07:38:09.707

是的，这是意料之中的。您不应将对象引用与`==`or进行比较`!=`。您应该使用`.equals(..)`，或者更好地使用原语`int`而不是`Integer`.

问题是，高达 128 的值被缓存，并且 JVM 为您提供相同的对象（因此引用比较有效）。超过 128 它会创建一个新实例。看看 javadoc 的[`Integer.valueOf(int)`](http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#valueOf%28int%29)（这是幕后发生的事情）

> 返回一个表示指定 int 值的 Integer 实例。如果不需要新的 Integer 实例，则通常应优先使用此方法而不是构造函数 Integer(int)，因为此方法可能会通过缓存频繁请求的值来显着提高空间和时间性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:39:59.053

在 Java 中比较对象时，您实际上是在比较引用，而不是在使用 == 相等运算符时比较值。相反，您应该使用该方法`.equals()`来比较值；

```
Integer a = 2423;
Integer b = 5455;

if (a.equals(b)) { ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:42:59.743

您使用 Integer 对象而不是 int 原始类型作为变量类型。这仅适用于高达 128 的值的 '=' 运算符，因为 java 会缓存它。比较对象的正确方法是 .equals() 函数。

但请改用原始值。

```
int i1 = 1;
int 12 = 2;
List<Integer> values = ArrayList<Integer>();
if (!values.contains(i1)) {
 values.add(i); 
}
if (!values.contains(i2)) {
 values.add(i2); 
} 
```

# google-app-engine - 本地主机上的 Google 应用引擎数据存储

> ID：10223559
> 
> 赞同：-2
> 
> 时间：2012-04-19T07:35:52.713
> 
> 标签：google-app-engine

我在谷歌应用引擎上创建了一个已经创建的 python 应用程序，我已经在 localhost 上成功安装了应用程序，但我无法在 localhost 上获取应用程序引擎数据。我是应用程序引擎和 python 的新手，所以建议我如何在 localhost 上执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T13:56:43.600

阅读并遵循有关[Python 入门的 Google AppEngine 文档](https://developers.google.com/appengine/docs/python/gettingstarted/)。

# android - Android动画内存错误（OutOfMemeory）

> ID：10223563
> 
> 赞同：0
> 
> 时间：2012-04-19T07:36:21.107
> 
> 标签：android, android-animation

我有一个带有 2 个按钮的布局，每个按钮都会激活动画。在按钮上单击布局，按钮消失，动画开始。除了一个问题外，它可以工作，因为内存问题，我无法在第一个动画之后激活第二个动画。播放其中一个动画后，我必须以某种方式释放内存，以便加载第二个动画。如何释放动画并删除所有帧？

这是我的代码：

```
public class BermadMain extends Activity {
public static final String TAG = "Bermad";

AnimationDrawable animation, animation2, animation3;
ImageView imageAnim;
RelativeLayout lay;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

   lay = (RelativeLayout) findViewById(R.id.rallay);

  imageAnim =  (ImageView) findViewById(R.id.imageView1);

    final Button refinery = (Button) findViewById(R.id.refinery);
    refinery.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {

            int i=85;
            animation = new AnimationDrawable();
            animation.addFrame(getResources().getDrawable(R.drawable.ref1), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref2), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref3), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref4), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref5), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref6), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref7), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref8), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref9), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref10), i);
            animation.addFrame(getResources().getDrawable(R.drawable.ref11), i); 
            animation.addFrame(getResources().getDrawable(R.drawable.ref12), i); 
            animation.addFrame(getResources().getDrawable(R.drawable.ref13), i);

            imageAnim.setBackgroundDrawable(animation);
            imageAnim.post(new Refiney());
            lay.setVisibility(View.GONE);

        }
    });

    final Button oil = (Button) findViewById(R.id.oil);
    oil.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {

            int i=85;
            animation2 = new AnimationDrawable();
            animation2.addFrame(getResources().getDrawable(R.drawable.oil1), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil2), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil3), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil4), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil5), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil6), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil7), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil8), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil9), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil10), i);
            animation2.addFrame(getResources().getDrawable(R.drawable.oil11), i); 
            animation2.addFrame(getResources().getDrawable(R.drawable.oil12), i); 
            animation2.addFrame(getResources().getDrawable(R.drawable.oil13), i); 

            imageAnim.setBackgroundDrawable(animation2);
            imageAnim.post(new Oil());
            lay.setVisibility(View.GONE);

        }
    });

}

public void onBackPressed() {

    lay.setVisibility(View.VISIBLE);
    return;
}   

class Refiney implements Runnable {

    public void run() {
        animation.start();        
    }
}

class Oil implements Runnable {

    public void run() {
        animation2.start();        
    }
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:34:49.867

我认为您可以尝试释放加载动画的可绘制对象。检查 Romain Guy 的帖子中提到的 unbindDrawables() 方法。 [http://www.curious-creature.org/2008/12/18/avoid-memory-leaks-on-android/](http://www.curious-creature.org/2008/12/18/avoid-memory-leaks-on-android/)（代码不在同一个git中，但你可以在其他地方搜索）。然后你可以做 System.gc() 来回收内存。

我不确定 Android 中是否预装了 R.drawable.xxxx。如果是，那么你不应该把图片放在drawable中，而是放在resource中，并动态加载位图。

动画本身就是记忆密集的动作。我的应用中有一个动画导致 >3M 字节数组分配。虽然动画一结束就回收了内存，但它增加了我的内存使用峰值，有时会导致 OutOfMemory。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:43:44.770

尝试在清单的应用程序标记中添加 largeHeap=true 以了解这是否只是内存问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:34:56.480

AnimationDrawable 的问题是它会将所有图像加载到 AnimationDrawable 对象中，当超过 12MB 的图像时，它变得很重。如果你放`largeHeap=true`它会调整 HeapSize 并增加堆，这有助于加载超过 12MB，但是当你有更多的位图要加载时它会 OutOfmemory。对于那种情况是

使用`Handler`和`runnable`用于一一显示图像序列。这将一帧一帧地加载，不会占用太多内存。

将您的图像文件名与增量编号序列一起使用，并使用下面的代码进行显示。

```
int i=0;
Runnable mRunnable = new Runnable() {
            public void run() {
                displayBitmap(i);
                i++;
                imageView.postDelayed(r, 0);
            }
        };

    private void displayBitmap(int id) {
        String filePath ="FullpathofFileName"+.jpg";
        BitmapFactory.Options options = new BitmapFactory.Options();
        options.inSampleSize = 2;
        Bitmap b = BitmapFactory.decodeFile(filePath, options);

        if (b != null) {
            imageView.setImageBitmap(b);
        }

    } 
```

# android - 不同移动设备中的加速度计和陀螺仪精度

> ID：10223565
> 
> 赞同：8
> 
> 时间：2012-04-19T07:36:27.893
> 
> 标签：android, iphone, accelerometer, compass-geolocation, gyroscope

我想使用移动设备的传感器（加速度计、指南针、陀螺仪）实现室内定位系统。这个问题已经在几个地方讨论过，比如 -[这里](https://stackoverflow.com/questions/7829097/android-accelerometer-accuracy-inertial-navigation)和[这里](https://stackoverflow.com/questions/5314217/gyro-accelerometer-magnetometer-and-kalman-filter)

第一步是决定哪个平台最适合实施这样的系统。主要的可能性是三星的 Galaxy/Galaxy 标签，或 iphone/ipad。最重要的标准是传感器数据的准确性。但是，这种比较非常复杂，因为准确性不仅取决于设备本身，还取决于其上方的软件层。

有没有关于这个主题的研究？智能手机的传感器和平板电脑的传感器有区别吗？

任何指向网站或文章的链接都是**最**有帮助的

提前致谢！

爱丽儿

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T14:55:55.070

我为 Android 平板电脑开发了同样的东西。当谈到传感器的准确性时，一个和另一个之间存在一些巨大的差异。最近发布的平板电脑往往具有更好的设备。

它们的准确性更高，而且努力为给定设备提供来自相同构造函数的传感器。

让我解释。我使用过 Galaxy Tabs 7.0 和 10.1。GT7 的传感器由各种构造器提供，最终导致与轮询频率相关的差异。如果您有来自 X 的加速度计和来自 Y 的陀螺仪，两者都以最大频率使用（您确实希望获得更好的精度），那么这些频率将不匹配。一个可能是 10 毫秒左右，另一个是 15 毫秒左右。这对于计算来说非常烦人。对于 GT10，所有传感器都是由 InvenSense 在我使用的平板电脑上构建的。InvenSense 为惯性导航创建传感器和软件解决方案（我建议您查看他们的网站和他们的一些论文）。它们不仅精度很高，而且所有传感器都可以协同工作，尤其是在频率方面。

**TL;DR** - 更喜欢使用最新的设备（并且可能是最昂贵的）以获得更好的准确性和幸运的是传感器之间的充足性。

我可以说开发带有如此糟糕传感器的 INS 是一件棘手的事情，但你可以让它发挥作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-20T17:46:31.840

以下是一些需要考虑的一般注意事项： 时间同步传感器测量的问题由卡尔曼滤波器很好地管理。KF 非常强大，但需要一些时间来学习和实施。这是一个非常大的飞跃。

使用 KF，您可以以不同的数据速率对多种类型的传感器（速率陀螺仪、加速度计以及所有类型的角度或位置测量）进行数据融合。

整体方法称为数据融合。如果您正在跟踪的项目正在移动，则该过程称为“轨迹估计”。KF 算法基于所有测量结果和关于对象移动能力的某些假设（动态模型）来估计对象随时间的位置、速度和加速度。

例如，如果对象是一头牛，您可以对速度、加速度和位置（它将在地球表面上）做出某些假设。如果物体是火箭，关于可能运动的假设会有所不同。了解对象的“动态模型”可以提高轨迹估计的准确性。

KF 算法的另一个优点是它有助于根据“噪声模型”和传感器精度模型滤除传感器噪声。您还可以对传感器偏差、漂移等进行建模。

# ruby-on-rails - 如何使用 coffeescript Backbone.js Coffeescript 获取模型值

> ID：10223566
> 
> 赞同：0
> 
> 时间：2012-04-19T07:36:30.973
> 
> 标签：ruby-on-rails, backbone.js, coffeescript

当我访问/导航到 'entries/:id' url 时，我无法从路由器提醒模型值。但是在控制台日志中，我可以看到具有正确属性和值的变量。我已经测试过在我的 chrome 控制台上获取数据并且它工作得很好。

在我的路由器里面：

```
class Raffler.Routers.Entries extends Backbone.Router
  routes:
    '': 'index'
    'entries/:id': 'show'

  initialize: ->
    @collection = new Raffler.Collections.Entries()
    @collection.reset($('#container').data 'entries')

  index: ->
    view = new Raffler.Views.EntriesIndex(collection: @collection)
    $('#container').html(view.render().el)

  show: (id) ->
    entry = new Raffler.Models.Entry({id: id})
    entry.fetch()
    console.log(entry.get('title'))
    alert entry.get('name')
    console.log(entry)
    console.log(entry.attributes + " haha")
    viewsangat = new Raffler.Views.Page({model: entry})
    viewsangat.render() 
```

在我的模型中：

```
class Raffler.Models.Entry extends Backbone.Model
  urlRoot: '/api/entries'

  win: ->
    @set(winner: true)
    @save()
    @trigger('highlight') 
```

解决方案：我发现 fetch 的值仅在成功事件期间/之后可用，因此如果我们尝试在下一行使用 get，它可能不会按预期返回值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T09:08:07.090

某些控制台会在获取后向您显示对象的值。无论哪种方式，问题在于 a`fetch()`是异步的。

```
entry = new Raffler.Models.Entry({id: id})
entry.fetch()  #HERE IS YOUR ISSUE
alert entry.get('name')  #fetch has not yet returned 
```

尝试以下操作：

```
entry = new Raffler.Models.Entry({id: id})
entry.fetch()  #HERE IS YOUR ISSUE
entry.on("reset") ->
  alert(entry.get('name'))  #fetch has not yet returned 
```

如果这不起作用，请将“重置”更改为“更改”。

在这里，您使用[on](http://documentcloud.github.com/backbone/#Events-on)事件绑定来[获取](http://documentcloud.github.com/backbone/#Model-fetch)模型。

# c# - 使用 BackgroundWorker 调用 WPF-GUI-Changes 时出现异常

> ID：10223573
> 
> 赞同：0
> 
> 时间：2012-04-19T07:36:44.030
> 
> 标签：c#, wpf, exception, backgroundworker

我想通过操纵不透明度值在我的 GUI 上设置一个透明的控件。`BackgroundWorker`因此，我在我的 WPF-Form 的构造函数上初始化 a ，例如：

```
volumeWorker = new BackgroundWorker();
volumeWorker.DoWork += new DoWorkEventHandler(VolumeBarDoWork);
volumeWorker.ProgressChanged += new ProgressChangedEventHandler(VolumeBarChanged);
volumeWorker.RunWorkerCompleted += new RunWorkerCompletedEventHandler(VolumeBarCompleted);
volumeWorker.WorkerReportsProgress = true; 
```

之后，我的 GUI 等待一个由另一个类触发的事件

```
soundController = new SoundController();
soundController.VolumeChanged +=new SoundController.VolumeChangedEventHandler(VolumeChanged); 
```

在事件处理程序上，我最终将启动 volumeWorker (BGW) 来操作 GUI：

```
private void VolumeChanged(float pVolume)
{
    Logger.InfoWrite("Event raised ## New volume : {0}", pVolume);
    volumeWorker.RunWorkerAsync();
} 
```

但是在 BackgroundWorkers ChangeEvent 上，我每次都收到 InvalidOperationException。有人知道吗？

```
private void VolumeBarDoWork(object sender, DoWorkEventArgs e)
{
    BackgroundWorker worker = sender as BackgroundWorker;
    Logger.InfoWrite("Worker");
    for(int _opacity = 99 ; _opacity >= 0 ; _opacity--)
    {
        Logger.InfoWrite("Start on {0}", _opacity);
        worker.ReportProgress(_opacity);
        System.Threading.Thread.Sleep(20)
    }
    e.Result = e.Argument;
}

private void VolumeBarChanged(object sender, ProgressChangedEventArgs e)
{
    this.volumeBar.Opacity -= 0.01f;
    Logger.InfoWrite("Changed opacity to : {0} on {1}", this.volumeBar.Opacity, e.ProgressPercentage);
}

private void VolumeBarCompleted(object sender, RunWorkerCompletedEventArgs e)
{
    Logger.InfoWrite("Completed");
    this.volumeBar.Opacity = 0.0f;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:41:09.877

您不能直接在 UI 线程之外更改 UI，因为 UI 控件是在 UI 线程上创建的。请改用`Dispatcher.Invoke`or`BeginInvoke`方法。

# ruby-on-rails - Ruby 将图像插入 Rtf

> ID：10223578
> 
> 赞同：0
> 
> 时间：2012-04-19T07:37:10.770
> 
> 标签：ruby-on-rails, ruby, rtf

我有一个 rtf 文件。
我想使用 Ruby 打开该文件以通过图像替换一些占位符。
我环顾四周**ruby​​-rtf**。但它不适用于解析**rtf**，仅适用于创建全新的**rtf**。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-26T13:10:00.700

我找到了解决方案！

首先，您必须在 rtf 文件中添加一个占位符。为此，您必须使用 MS Word 打开 rtf 文件并将其放置在特定位置。例如，您的占位符可能命名为**@@placeholder@@**。

其次，使用记事本打开步骤 1 中保存的 rtf 文件，以便清除占位符。Ms word 有时可能会将“垃圾”标签添加到您的占位符（**@@pla** rtlch\fcs1 \af39\afs20 \ltrch\fcs0 \b\f39\fs20\insrsid14101935\charrsi **ceholder@@**）。您应该更正它以便获得**@@placeholder@@**。

第三，使用[ruby​​-rtf](https://github.com/thechrisoshow/rtf)。最后，插入图像的代码：

```
# using Document class of ruby-rtf plugin
document = Document.new(nil) 
image = document.image("path_to_image/check.png")

rtf_file = IO.read("path_to_rtf/my.rtf")
rtf_file.gsub!('@@placeholder@@', image.to_rtf)
File.open("#{Rails.root}/my_userdata/new_blank.rtf", "wb") {|f| f.write rtf_file } 
```

我希望它对某人有所帮助。

# iphone - UDK Remote：在 iphone 中拖动图像时发送了什么样的数据？

> ID：10223579
> 
> 赞同：0
> 
> 时间：2012-04-19T07:37:17.947
> 
> 标签：iphone, objective-c, ios5, unreal-development-kit

我正在使用 UDK Remote。在点击时，它会发送 56 个字节的数据。拖动过程中发送了哪些数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T18:48:45.420

触摸屏上的触摸位置（x,y 坐标）。还能是什么？

# licensing - 行动包设计和开发 - 我错过了什么

> ID：10223581
> 
> 赞同：4
> 
> 时间：2012-04-19T07:37:24.240
> 
> 标签：licensing, msdn, actionpack

如果我理解正确，Action Pack（请参阅此处：[https ://partner.microsoft.com/global/40138499）似乎具有非常好的价值。](https://partner.microsoft.com/global/40138499)

价格是 490 美元，如果我理解正确的话，它附带 3 个 VS2010 Professional 许可证，除此之外，还有 10 个 Office 2010 Professional Plus 用户的商业使用许可证、1 个 Server 2008 R2、1 个 Exchange Server、大量 CALS。我在这里错过了什么吗？似乎离便宜还远。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-20T15:53:13.463

MS Action Pack 有一些限制：

*   您的公司必须拥有少于 100 名员工
*   贵公司不能拥有 MS 银牌或金牌能力
*   您不能在客户端站点安装 Action Pack 许可软件或将其用于托管商业网站
*   您只能在您的企业主要营业地点使用它
*   您不能将许可证出售给其他人

他们在这里有一个完整的列表：[Action Pack 限制和使用权利](https://mspartner.microsoft.com/en/uk/Pages/Membership/action-pack-dev-design-eligibility.aspx)

所以：

您可以使用该软件开发和测试应用程序，但不能在生产环境中运行应用程序。一旦你开始从你的软件中赚钱，MS 就想要它的一角钱。

但是，正如你所说，这是一笔非常划算的交易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-24T02:04:58.343

我认为您必须同意与积极参与 Microsoft 生态系统相关的某些要求。如果您实际上是在为 Windows 开发软件或在 Azure 上运行，则值得认真考虑。

# json - 在 vc++ 代码中使用 wininet Api 发出 json 发布请求时得到空白响应

> ID：10223585
> 
> 赞同：1
> 
> 时间：2012-04-19T07:37:38.163
> 
> 标签：json, visual-c++, post, wininet

我正在使用 vc++ 中的 wininet Api 发出 json 发布请求，但我收到空白响应。我已经在提琴手中检查了我的请求标头和请求正文，并且在那里工作正常。以下是我的 HttpOpenRequest 和 HttpSendRequest

```
m_hRequest = HttpOpenRequest(m_hConnect, 
                _T("POST"),
                szURI,
                NULL,
                lpszReferrer,
                NULL,
                INTERNET_FLAG_RELOAD | INTERNET_FLAG_KEEP_CONNECTION 
                | INTERNET_FLAG_NO_CACHE_WRITE | INTERNET_FLAG_FORMS_SUBMIT 
                | INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTPS 
                | INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTP,
                (DWORD) &m_context); 

TCHAR* szHeaders =  _T("Content-Type:application/json\r\n");
TCHAR* szPostData = _T("{\"command\":\"remotecontrol\",\"method\":\"countmon.getgatestatus\",\"param\":\"2\"}");

HttpSendRequest(m_hRequest, 
                 szHeaders, 
                 _tcslen(szHeaders),  
                szPostData,
                 _tcslen(szPostData))) 
```

我非常需要有人帮助。在此先感谢:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-24T05:04:47.520

我能够在应用程序属性中将字符类型从 unicode 更改为多字节字符时得到响应。我不知道为什么，但我认为它无法将 json 字符串作为 unicode 发送

# jquery - jquery on() 不适用于 ajax 加载的元素

> ID：10223588
> 
> 赞同：0
> 
> 时间：2012-04-19T07:37:44.437
> 
> 标签：jquery, ajax

我在页面上通过 ajax 加载了 html 表。现在我想通过 jquery 操作表格。所以我使用了 on() 函数，问题是我需要将一个事件作为参数传递给它以使其执行某些操作

例如：

```
 $(document).on("click", "table#cal", function(event){
    alert("loaded");
   }); 
```

有没有其他方法可以在加载表格后立即执行诸如添加数据等操作，而不必“单击”它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:41:48.680

不能`.success()`在AJAX调用的回调中做吗？

```
$.ajax({
    // ajax settings
})
.success(function (m) {
    // get the table data
    // build the table
    // place the table on your DOM
    // get yourself a cup of coffee
    // do backflips
    // feed the dog
    // ...
    // manipulate the table
}); 
```

# eclipse - 如何在 Eclipse / SpringSource Tool Suite 中更改源文件夹的顺序

> ID：10223589
> 
> 赞同：17
> 
> 时间：2012-04-19T07:37:45.530
> 
> 标签：eclipse, maven

我正在使用 SpringSource Tool Suite 开发一个 Java Maven 项目。我有标准的 Maven 目录结构

```
src
-> main
   -> java
   -> resources
-> test
   -> java
   -> resources 
```

该结构在 .pom 文件中定义：

```
<build>
    <resources>
        <resource>
            <directory>src/main/java</directory>
            <includes>
                <include>**</include>
            </includes>
            <excludes>
                <exclude>**/*.java</exclude>
            </excludes>
        </resource>
        <resource>
            <directory>src/main/resources</directory>
        </resource>
    </resources>

    <testResources>
        <testResource>
            <directory>src/test/java</directory>
            <includes>
                <include>**</include>
            </includes>
            <excludes>
                <exclude>**/*.java</exclude>
            </excludes>
        </testResource>
        <testResource>
            <directory>src/test/resources</directory>
        </testResource>
    </testResources>
</build> 
```

STS 首先显示测试分支中的源文件夹，然后显示主分支中的源文件夹。所以我得到这样的东西：

```
src/test/java
src/test/resources
src/main/java
src/main/resources 
```

但是，我想先从主分支获取文件夹。关于如何改变这一点的任何想法？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-04-19T09:57:09.500

在 Eclipse 中，可以通过项目设置更改顺序。

右键单击`on project -> "project settings" -> Tab "Build Path": "Configure Build Path..."`、选项卡`"Order and Export"`，使用`"Up"`和`"Down"`按钮向上/向下移动文件夹。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T09:22:11.050

试试`Maven -> Update Project Configuration`。

# google-app-engine - 选择小程序的支付方式

> ID：10223597
> 
> 赞同：0
> 
> 时间：2012-04-19T07:38:13.827
> 
> 标签：google-app-engine, payment, paypal

我开始为移动设备开发一个迷你电子商务系统，并且我与贝宝提供的两个选项堆叠在一起：
方法 1：为卖家使用 API 凭据（快速结帐 api）

方法2：卖家只使用电子邮件（send money api）

有谁知道我在选择上面列出的方法时应该考虑什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T22:57:50.033

这取决于您打算制作什么样的电子商务系统。

如果您正在创建一个在线商店系统，例如 Amazon.com，那么 Express Checkout API 将是一个不错的选择。

但是，如果您正在创建一个连接买家和卖家的系统，例如 ebay.com，那么您可以继续使用第二种方法。尽管 Paypal 允许您通过电子邮件接受付款，但我不知道有一个 API。如果您想继续使用此方法，则必须创建自己的解决方法或找到其他人发布的解决方法。

# c++ - 不确定在哪里删除对象

> ID：10223598
> 
> 赞同：1
> 
> 时间：2012-04-19T07:38:19.677
> 
> 标签：c++, delete-operator

我有以下类存储成对的日期和价格：

```
#include <vector>
#include <utility>
#include "boost/date_time/gregorian/gregorian.hpp"

using std::vector;
using std::pair;
using boost::gregorian::date;

class A {
private:
    vector<pair<date*, float> > prices;
public:
    A(pair<date*, float> p[], int length) : prices(p, p + length) { }
}; 
```

使用以下函数创建此类的对象并用数据填充：

```
A loadData() {
    // create price array
    pair<date*, float> *prices = new pair<date*, float>[10];

    // fill array with data (normally read from a file)
    for (int i = 0; i < 10; ++i) {
        prices[i].first = new date(2012, 4, 19);
        prices[i].second = 100;
    }

    // create the object using the price array
    A result(prices, 10);

    // delete the price array (its contents have been moved to result's vector)
    delete[] prices;

    return result;
} 
```

鉴于此设置，我将在哪里调用 delete 以释放在 loadData 函数中创建每个日期对象时分配的内存？我的第一个猜测是删除 A 的解构函数中的日期，但是如果传递给构造函数的日期要在 A 类之外的其他地方使用怎么办？

对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T07:45:33.620

除非您有充分的理由这样做，否则请忘记指针：

```
A loadData() {
    // create price array
    vector<pair<date, float> > prices;

    // fill array with data (normally read from a file)
    for (int i = 0; i < 10; ++i) {
        prices.push_back(make_pair(date(2012, 4, 19), 100));
    }

    // create and return the object using the price array
    return result(prices);

} 
```

并相应地修改类：

```
class A {
private:
    vector<pair<date, float> > prices;
public:
    explicit A(const std::vector<pair<date, float> >& p) : prices(p) { }
}; 
```

那么你就不必担心内存管理了。编译器将进行优化，以使上面的代码执行的副本比您想象的要少。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:43:00.557

您可以使用 shared_ptr（来自 boost 或 tr1）进行自动内存清理：

```
vector<pair<boost::shared_ptr<date>, float> > prices; 
```

我还建议`prices`在 loadData 中创建一个 std::vector，而不是一个数组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T07:45:07.410

将指针保存在容器中的最佳解决方案是使用`boost::shared_ptr`/ `std::shared_ptr`。然后，当它们的引用计数降至 0 时，它们将销毁包含的对象，您不必担心它发生在哪里。

# silverlight - Silverlight - 在繁忙的 UI 线程上显示 BusyIndi cator

> ID：10223601
> 
> 赞同：1
> 
> 时间：2012-04-19T07:38:29.770
> 
> 标签：silverlight, silverlight-toolkit

当 UI 中发生繁重的任务时，是否可以显示忙碌指示符？在我们的应用程序中，大部分长时间运行的任务都是渲染控件，我们需要在渲染控件时显示一个指示器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-29T14:25:00.543

尝试使用 DispatcherTimer 在调用繁重任务之前设置繁忙指示器运行（通过使用延迟）。

然后，您可以在繁重的任务完成后禁用该指示器。

为我工作。

```
'enable busy indicator & set up the timer'
 Private Sub renderControl(ByVal sender As Object, ByVal e As RoutedEventArgs)

        _busyIndicator.IsBusy = True

        Dim timer As New DispatcherTimer
        timer.Interval = TimeSpan.FromMilliseconds(100)
        AddHandler timer.Tick, AddressOf renderControl_TimerTick
        timer.Start()

    End Sub

'do your heavy task, disable busy indicator then stop the timer'
  Private Sub renderControl_TimerTick(ByVal sender As Object, ByVal e As EventArgs)

        DoStuff()

        _busyIndicator.IsBusy = False

        'Stop the timer'
        TryCast(sender, DispatcherTimer).[Stop]() 

    End Sub 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T11:00:35.913

当 UI 线程忙时，您无法显示加载动画，但您可以显示静态通知，例如`TextBlock`带有适当文本的控件。但是如果你在更新控件的文本后立即在 UI 线程上启动长时间运行的操作`TextBlock`，那么控件的 UI 将不会得到更新，直到操作结束。要克服这个问题，您可以使用以下问题的答案中描述的技术：[在冻结 Silverlight UI 线程之前显示文本指示器](https://stackoverflow.com/questions/15931032/showing-a-text-indicator-before-freezing-the-silverlight-ui-thread/15936058?noredirect=1#comment22841992_15936058)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-26T11:09:35.387

首先，考虑使用后台线程来完成长时间运行的工作。如果这是不可能的，即在 UI 线程上加载 UI 组件确实需要很长时间，那么您当然可以在加载部分的顶部放置一个繁忙指示器作为覆盖，然后在加载所有内容时隐藏覆盖。

顺便说一句，如果不将 UI 逻辑与 UI 分离，就很难编写响应式、多线程的应用程序。研究“MVVM”模式。使用 MVVM 将使您的应用程序实现跨越式发展。

我会说没有严肃的应用程序使用'代码隐藏'，即一切都是通过DataContext、数据绑定、ViewModels 和命令完成的。

否则，请考虑使用 Tasks 或 BackgroundWorker 并了解 Dispatcher。

卢克

# magento - 覆盖 CartController 和 OnepageController

> ID：10223606
> 
> 赞同：2
> 
> 时间：2012-04-19T07:38:44.217
> 
> 标签：magento, overwrite

我尝试在一个模块中覆盖 2 个控制器。这些都是 Checkout 控制器。- OnepageController - CartController

我的购物车控制器工作正常。但我的单页控制器不会覆盖。难道你不能覆盖2个文件吗？

我的文件：

**WP/Ajaxcart/etc/config.xml**

```
<?xml version="1.0"?>
<config>
    <modules>
       <WP_Ajaxcart>
           <version>0.1.0</version>
       </WP_Ajaxcart>
    </modules>
    <frontend>
        <routers>
            <checkout>
                <use>standard</use>
                <args>
                    <modules>
                        <WP_Ajaxcart before="Mage_Checkout">WP_Ajaxcart</WP_Ajaxcart>
                    </modules>
                </args>
            </checkout>
        </routers>
    </frontend>
</config> 
```

**WP/Ajaxcart/controllers/OnepageController.php**

```
<?php

require_once "Mage/Checkout/controllers/OnepageController.php";
class WP_Ajaxcart_Checkout_OnepageController extends Mage_Checkout_OnepageController
{

    public function successAction()
    {

        $session = $this->getOnepage()->getCheckout();

        if (!$session->getLastSuccessQuoteId()) {
           $this->_redirect('checkout/cart');
            return;
        }

        $lastQuoteId = $session->getLastQuoteId();
        $lastOrderId = $session->getLastOrderId();
        $lastRecurringProfiles = $session->getLastRecurringProfileIds();
        if (!$lastQuoteId || (!$lastOrderId && empty($lastRecurringProfiles))) {
            $this->_redirect('checkout/cart');
            return;
        }
        echo 'Do something else';
        //$session->clear();
        $this->loadLayout();
        $this->_initLayoutMessages('checkout/session');
        Mage::dispatchEvent('checkout_onepage_controller_success_action', array('order_ids' => array($lastOrderId)));
        $this->renderLayout();
    }

} 
```

**WP/Ajaxcart/controllers/CartController.php**

```
<?php

require_once "Mage/Checkout/controllers/CartController.php";
class WP_Ajaxcart_Checkout_CartController extends Mage_Checkout_CartController
{

    public function addAction()
    {
        echo 'test';
    }

} 
```

我有人知道做错了什么，为什么它没有覆盖 OnepageController.php。

谢谢你。

莱克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T16:02:14.827

尝试

```
<WP_Ajaxcart_Checkout before="Mage_Checkout">WP_Ajaxcart_Checkout</WP_Ajaxcart_Checkout> 
```

# sql-server - SQL Server + 条件连接

> ID：10223607
> 
> 赞同：1
> 
> 时间：2012-04-19T07:38:55.980
> 
> 标签：sql-server

有没有一种方法可以执行条件连接，如下所示：

```
 CREATE TABLE #Entity 
   (    
    [AutoID] [int],
    [Code] [nvarchar](50) NOT NULL,
   )

    INSERT #Entity
    EXEC Entity_GetEntitiesByUserId @UserID

    DECLARE @Condition bit = 0

    SELECT * FROM [Stuff] s

       IF @Condition = 1 BEGIN

       INNER JOIN 
       (
        SELECT Code as eCode from
        #Entity
       ) e
        ON E.eCode  = s.EntityCode 

       END

       WHERE DeletedBy IS NULL 
```

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T07:43:48.713

这将在逻辑上做你想要的：

```
SELECT * 
FROM [Stuff] s
WHERE 
 DeletedBy IS NULL 
 and (@Condition = 0 or s.EntityCode in (select E.code from #Entitye)) 
```

# c# - 如何从服务器端发布 HTML 表单？

> ID：10223608
> 
> 赞同：2
> 
> 时间：2012-04-19T07:39:03.793
> 
> 标签：c#, asp.net, html, forms, post

我想从服务器端（ASP.NET/C#）发布此表单：

```
<FORM action="https://login:password@payment.architrade.com/cgi-adm/refund.cgi" method=POST>
    <input type="hidden" name="merchant" value="12345678">
    <input type="hidden" name="transact" value="11111111">
    <input type="hidden" name="amount" value="2000">
    <input type="hidden" name="currency" value="208">
    <input type="hidden" name="orderid" value="11223344">
    <input type="hidden" name="md5key" value="cfcd208495d565ef66e7dff9f98764da">
    <input type="hidden" name="textreply" value="yes">
</FORM> 
```

我正在尝试使用 WebClient.UploadValues。我的代码是

```
 private void PostRefundRequest(Mediachase.Commerce.Orders.Payment payment)
    {
        WebClient webClient = new WebClient();
        NameValueCollection refundRequest = new NameValueCollection();
        PaymentMethodDto dibs = PaymentManager.GetPaymentMethodBySystemName("DIBS", SiteContext.Current.LanguageName);
        string merchant = GetParameterByName(dibs, DIBSPaymentGateway.UserParameter).Value;
        PurchaseOrder po = payment.Parent.Parent as PurchaseOrder;
        string orderid = po.TrackingNumber;
        string transact = payment.TransactionID;
        string amount = (payment.Amount * 100).ToString();
        refundRequest.Add("merchant", merchant);
        refundRequest.Add("transact", transact);
        refundRequest.Add("amount", amount );

        refundRequest.Add("currency", payment.Parent.Parent.BillingCurrency);
        refundRequest.Add("orderid", orderid);
        string md5 = GetMD5KeyRefund(merchant, orderid, transact, amount);
        refundRequest.Add("md5key", md5);
        refundRequest.Add("textreply", "yes");
        byte[] responseArray = webClient.UploadValues("https://<mylogin>:<mypassword>@payment.architrade.com/cgi-adm/refund.cgi", refundRequest);
    } 
```

我尝试调试，一切似乎都正确，但 API 返回 HTTP 401（未经授权）。我关心的是：WebClient.UploadValues 是否支持 API 的 url（包括用户名/密码）

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T11:07:21.480

你必须有 UploadValues 的 Post in 方法参数：

```
NameValueCollection data = new NameValueCollection();
data["input-data1"] = "value1";
data["input-data2"] = "value2";
data["input-data3"] = "value3";

WebClient webClient = new WebClient();
webClient.Credentials = new NetworkCredential(mylogin, mypassword);
byte[] responseBytes = webClient.UploadValues("http://www.example.com/posttome.aspx", "POST", data);
string response = Encoding.UTF8.GetString(responseBytes); 
```

更新：也许这还不够，因为在文档中指出 POST 是 http 方案的默认设置（[http://msdn.microsoft.com/en-us/library/9w7b4fz7.aspx](http://msdn.microsoft.com/en-us/library/9w7b4fz7.aspx)）我认为这对于 https 是一样的

更新 2：出于安全原因，Microsoft 在 Internet Explorer ( [http://support.microsoft.com/kb/834489](http://support.microsoft.com/kb/834489) ) 的 URL 中禁用了该身份验证，因此 Web 客户端可能禁用了该身份验证

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-04-19T07:52:10.543

只需为表单提供一个 ID 并使用以下代码提交

```
 $('#formid').submit(); 
```

# typo3 - Typo3：可以访问 flexforms 的编辑器帐户

> ID：10223611
> 
> 赞同：0
> 
> 时间：2012-04-19T07:39:18.443
> 
> 标签：typo3, typoscript

我在我的系统中为编辑设置了一个帐户，因此他们只能访问与其角色相关的内容。但是我发现了一个问题：

我的系统中有扩展[多](http://typo3.org/extensions/repository/view/multicolumn)列，并且我已授予对编辑器的访问权限，但是当他们单击“配置”选项卡时，他们看到的只是空内容。我认为他们无法访问里面的 flexforms。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T05:47:44.677

此问题可能是由以下 TYPO3 核心错误[#31831](http://forge.typo3.org/issues/31831)引起的。此错误已在当前维护的 TYPO3 版本（4.5、4.6、4.7）中得到修复。之后，您可能需要编辑“允许的排除字段”列表。

# windows - 在 windows phone7 上启动其他程序或应用程序

> ID：10223612
> 
> 赞同：0
> 
> 时间：2012-04-19T07:39:24.670
> 
> 标签：windows, windows-phone-7-emulator

我是 Windows Phone 编程和银光的新手。有什么方法可以在 windows phone 7 的应用程序中启动 excel。现在我正在编写一个程序，需要在 excel 文件中存储一些数据。有什么方法提前谢谢 Prasad

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T13:35:29.543

您无法打开您的应用直接创建的 Excel 文件，因为每个应用都在其自己的隔离沙箱中运行。您可能会很幸运地创建 Excel 文件并[上传到用户的 SkyDrive](https://stackoverflow.com/questions/4272765/programmatic-access-of-skydrive)。然后，Office 中心将能够下载并打开它。

请注意，您创建 Excel 文件的选项是有限的：[请参阅这篇文章](https://stackoverflow.com/questions/8880314/creating-excel-file)。

# symfony - 如何使 Twig 日期可翻译

> ID：10223614
> 
> 赞同：9
> 
> 时间：2012-04-19T07:39:25.487
> 
> 标签：symfony, twig

我在树枝中显示一个 DateTime 对象，如下所示：

```
<td>{{ transaction.getDate|date("F - d - Y") }}</td> 
```

现在我希望月份可以翻译，例如`April - 20 - 2012`应该显示为：`Avril - 20 - 2012`

**我可以这样做吗？如果是这样，怎么做？**

我正在研究 Symfony2。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2016-02-25T19:24:38.263

或使用[国际扩展](http://twig-extensions.readthedocs.io/en/latest/intl.html)：

```
{{ "now"|localizeddate('none', 'none', app.request.locale, "Europe/Paris", "cccc d MMMM Y") }} 
```

会给你类似的东西：

```
jeudi 25 février 2016 
```

要启用 symfony 2，请添加到 composer ：

```
composer require twig/extensions 
```

并使用 service 激活过滤器：

```
services:
    twig.extension.intl:
        class: Twig_Extensions_Extension_Intl
        tags:
            - { name: twig.extension } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-24T23:34:48.717

另一种具有内联树枝解决方案的解决方案，以及更易读的翻译消息文件：

```
<td>{{ ('month.'~transaction.getDate|date("m"))|trans|raw~' - '~transaction.getDate|date("d - Y") }}</td> 
```

在您的翻译文件中（取决于您设置的配置），例如在 messages.fr.yml 中进行法语翻译，您必须输入以下几行：

```
# messages.fr.yml
month.01: Janvier
month.02: Février
month.03: Mars
month.04: Avril
month.05: Mai
month.06: Juin
month.07: Juillet
month.08: Août
month.09: Septembre
month.10: Octobre
month.11: Novembre
month.12: Décembre 
```

解释 ：

使用 ~ 运算符将所有操作数转换为字符串并将它们连接起来
使用 | 运算符应用过滤器
使用 trans 函数来翻译
使用 raw 以指示日期是安全的（无需转义 html、js ...）

[由于http://twig.sensiolabs.org/doc/templates.html](http://twig.sensiolabs.org/doc/templates.html)中定义的运算符优先级，请小心使用括号

运算符优先级如下，首先列出最低优先级的运算符：b-and、b-xor、b-or、or、and、==、!=、<、>、>=、<=、in、匹配、开头、结尾、..、+、-、~、*、/、//、%、is、**、|、[] 和 .：

第一部分括号说明：('month.'~transaction.getDate|date("m"))|trans|raw

transaction.getDate|date("m") 首先执行，因为 | 运算符对 ~ 运算符具有更高的优先级。如果transaction.getDate的月份是may，那么transaction.getDate|date("m") return 03 string And after 'month.' 连接到这个字符串，然后我们有month.03

并且因为我们在括号之间设置了 'month.'~transaction.getDate|date("m")，过滤器 trans 仅在字符串 month.03 被评估后应用......

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T13:55:40.470

你可以得到月份部分，然后翻译它：

```
 {% set month      = transaction.getDate|date('F') %}
  {% set dayAndYear = transaction.getDate|date('d - Y') %}

  {{ '%s - %s'|format(month|trans, dayAndYear) }} 
```

# excel - Vba -excel .Formula 方法很慢

> ID：10223616
> 
> 赞同：2
> 
> 时间：2012-04-19T07:39:32.907
> 
> 标签：excel, vba

下面的代码有什么问题？我正在尝试`vlookup`使用另一个工作簿中的封闭数据。如果我运行此代码，则需要很长时间才能执行。最后它挂起......但它最终会产生正确的结果：

```
Sub testing()
  Range("G1").EntireColumn.Insert
  With Range("G2")
    .Formula = "=VLOOKUP(F2,'C:\Users\sathisk\Desktop\Macros\ReferencePath\[HUL_Assets_18th April 2012.xls]HUL_Assets_18th April 2012.xls'!A$1:J$65536,10,0)"
    .Copy
    .Offset(0, -1).Select
  End With

  Selection.End(xlDown).Offset(0, 1).Select

  With ActiveCell
    .PasteSpecial xlPasteFormulas
    .Copy
    .Select
  End With

  Range(ActiveCell, Selection.End(xlUp)).PasteSpecial xlPasteFormulas

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T10:29:49.407

这是你想要做的吗？

```
Option Explicit

Sub testing()
    Dim LastRow As Long

    Application.Calculation = xlCalculationManual

    Range("G1").EntireColumn.Insert

    LastRow = Range("F" & Rows.Count).End(xlUp).Row

    With Range("G2:G" & LastRow)
        .Formula = "=VLOOKUP(F2,'C:\Users\sathisk\Desktop\Macros\ReferencePath\[HUL_Assets_18th April 2012.xls]HUL_Assets_18th April 2012.xls'!A$1:J$65536,10,0)"
    End With

    Application.Calculation = xlCalculationAutomatic
End Sub 
```

**编辑**

我还建议您更改`J$65536`为该表中实际的最后一行。例如，如果该表中的数据直到第 1000 行，则将其更改为`J$1000`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T21:12:39.903

除了 Siddharth 的推荐，我还要补充

Application.ScreenUpdating = False '关闭屏幕更新以加快进程。在宏的顶部以及 Application.Calculation = xlCalculationManual

然后添加 Application.ScreenUpdating = True '打开屏幕更新。在底部连同 Application.Calculation = xlCalculationAutomatic

我使用这两种方法来释放 CPU 以仅运行宏，在宏完成之前不进行屏幕更新或计算。

# facebook - 从应用程序发布到页面（到用户墙）

> ID：10223619
> 
> 赞同：1
> 
> 时间：2012-04-19T07:39:47.377
> 
> 标签：facebook, facebook-graph-api, facebook-authentication, server-side

**我想做的事：**

每次向网站添加新内容时，在 Facebook 页面上发布帖子，无论我是否登录 Facebook。

**现在有效：**

在我自己的墙上发布帖子。

**我为实现这一目标所做的工作：**

1.  我创建了一个应用程序
2.  我已经
    按照 http://www.facebook.com/login.php?api_key=[my appId] &next=http://www.facebook.com/connect/login_success.html&req_perms=read_stream 为应用授予了所需的权限，发布流、管理页面、发布操作
3.  接下来，我创建了一个脚本来发布内容，基本上就是这样：

    ```
    $appId='12822*****98');
    $secret='17c*****************320f');

    // on récupére l'instance de classe Facebook
    $facebook=new Facebook(array(
       'appId'  => $appId,
       'secret' => $secret
    ));

    // acquisition du token
    $url='https://graph.facebook.com/oauth/access_token?'.
        'client_id='.$appId.
        '&client_secret='.$secret.
        '&grant_type=client_credentials'.           '&scope=read_stream,publish_stream,publish_actions,manage_pages,offline_access'.
      '&state=dfgdfgdtgdgfdfg';
    $reponse = file_get_contents($url); 
    $tabReponse=explode('=',$reponse);
    $accessToken=$tabReponse[1];
    $facebook->setAccessToken($accessToken);

    $params = array(
        'message' => 'the message',
        'link' => 'http://www.myAppUrl.com'),
        'name'    => 'the name',
        'description' => 'some description',
    );

    try {                           
    // la cible
    $targetID='1471*********81';

    // publication
    $publishStream = $facebook->api("/$targetID/feed/", 'POST',     $params);           

    } catch (FacebookApiException $e) {
        $result = $e->getResult();
        print("Attention, la publication FB a échoué, veuillez vérifier les paramètres!");
    } 
    ```

如果我打印在第一步传递的访问令牌，我会得到类似`{appId}|***************************`（27 个字符）的东西，我在[这篇旧文章](http://benbiddington.wordpress.com/2010/04/23/facebook-graph-api-getting-access-tokens/)中读到的内容是某些操作的有效令牌，但不是全部。
有了这个，我可以在我的个人墙上发布，但不能在我管理的页面上发布，在最后一种情况下，我得到一个`#200 error`（关于尚未授权应用程序执行此操作的用户）。

如果我使用 Graph API Explorer 为我的应用程序生成访问令牌，我会得到一个表示访问令牌的长字符串，如果我在`setAccessToken`调用中使用它，我可以完全在页面上发布。因为我得到了一个`#100 error`（关于必须引用 Canvas URL 的链接，即使在应用程序设置中将“Stream post URL security:”设置为关闭）

**有人知道如何实现我想要的吗？**

我不想要任何 USER 连接，服务器必须请求凭据才能通过应用程序发布，而不是用户。

# c# - Dapper 中间映射

> ID：10223620
> 
> 赞同：9
> 
> 时间：2012-04-19T07:39:54.163
> 
> 标签：c#, sql-server, orm, dapper

[比我之前](https://stackoverflow.com/questions/10170882/dapper-simple-mapping)的问题更高级的映射:)

表：

```
create table [Primary] (
    Id int not null,
    CustomerId int not null,
    CustomerName varchar(60) not null,
    Date datetime default getdate(),
    constraint PK_Primary primary key (Id)
)

create table Secondary(
    PrimaryId int not null,
    Id int not null,
    Date datetime default getdate(),
    constraint PK_Secondary primary key (PrimaryId, Id),
    constraint FK_Secondary_Primary foreign key (PrimaryId) references [Primary] (Id)
)

create table Tertiary(
    PrimaryId int not null,
    SecondaryId int not null,
    Id int not null,
    Date datetime default getdate(),
    constraint PK_Tertiary primary key (PrimaryId, SecondaryId, Id),
    constraint FK_Tertiary_Secondary foreign key (PrimaryId, SecondaryId) references Secondary (PrimaryId, Id)
) 
```

课程：

```
public class Primary
{
    public int Id { get; set; }
    public Customer Customer { get; set; }
    public DateTime Date { get; set; }
    public List<Secondary> Secondaries { get; set; }
}

public class Secondary
{
    public int Id { get; set; }
    public DateTime Date { get; set; }
    public List<Tertiary> Tertiarys { get; set; }
}

public class Tertiary
{
    public int Id { get; set; }
    public DateTime Date { get; set; }
}

public class Customer
{
    public int Id { get; set; }
    public string Name { get; set; }
} 
```

是否可以使用一个选择来填充它们？像这样的东西：

```
const string sqlStatement = @"
    select 
        p.Id, p.CustomerId, p.CustomerName, p.Date,
        s.Id, s.Date,
        t.Id, t.Date
    from 
        [Primary] p left join Secondary s on (p.Id = s.PrimaryId)
        left join Tertiary t on (s.PrimaryId = t.PrimaryId and s.Id = t.SecondaryId)
    order by 
        p.Id, s.Id, t.Id
"; 
```

进而：

```
IEnumerable<Primary> primaries = connection.Query<Primary, Customer, Secondary, Tertiary, Primary>(
    sqlStatement,
    ... here comes dragons ...
    ); 
```

Edit1 - 我可以使用两个嵌套循环（foreach 二级 -> foreach tertiaries）并为每个项目执行查询，但只是想知道它是否可以通过单个数据库调用来完成。

Edit2 - 也许 QueryMultiple 方法在这里是合适的，但如果我理解正确，那么我需要多个 select 语句。在我的现实生活示例中，选择有超过 20 个条件（在 where 子句中），其中搜索参数可能为空，所以我不想在所有查询中重复所有那些 where 语句......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T14:14:44.400

Dapper 支持多重映射，有关文档，请参阅：[http ://code.google.com/p/dapper-dot-net/](http://code.google.com/p/dapper-dot-net/)

这是我目前正在从事的项目之一的示例之一：

```
 var accounts2 = DbConnection.Query<Account, Branch, Application, Account>(
                    "select Accounts.*, SplitAccount = '', Branches.*, SplitBranch = '', Applications.*" +
                    " from Accounts" +
                    "    join Branches" +
                    "       on Accounts.BranchId = Branches.BranchId" +
                    "    join Applications" +
                    "       on Accounts.ApplicationId = Applications.ApplicationId" +
                    " where Accounts.AccountId <> 0",
                    (account, branch, application) =>
                    {
                        account.Branch = branch;
                        account.Application = application;
                        return account;
                    }, splitOn: "SplitAccount, SplitBranch"
                    ).AsQueryable(); 
```

诀窍是使用 splitOn 选项，将记录集划分为多个对象。

您还可以查看我的问题以查看上述示例的类结构：[Dapper Multi-mapping Issue](https://stackoverflow.com/questions/11042618/dapper-multi-mapping-issue)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T04:37:17.383

似乎在所有 ORM 中你都会有几个查询。您只能创建自己的解决方案，可能基于 Dapper 或 Petapoco。例如，将所有查询合并到一个 SQL 批处理中：

```
select * from Primary where ...
select * from Secondary where ...
select * from Tertiary where ... 
```

然后，您可以使用 DataReader.NextResult() 从一个记录集导航到 nex

然后，需要结合内存中的数据来完成对象结构。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T07:23:46.290

如何创建一个 SQLCommand，然后创建一堆 SQLParameter 对象。理想情况下使用存储过程，但不必如此。

然后可以将每个输出参数映射回您的类。

[Stack 上的另一篇文章](https://stackoverflow.com/questions/290652/get-output-parameter-value-in-ado-net)有​​一些可能相关的代码。

# javascript - 如何让 sharejs 与 nodejs 一起运行？

> ID：10223622
> 
> 赞同：2
> 
> 时间：2012-04-19T07:40:00.333
> 
> 标签：javascript, node.js, module

我在使用 nodejs 和 sharejs 时遇到问题。我正在尝试使用 sharejs 并已通过 npm 安装。但是，我似乎无法加载它。在我的代码中，我只有以下内容：

```
var client = require('share').client; 
```

当我打电话时`node myfile.js`

我收到以下错误。

```
the variable "exports" can't be assigned with ?= because it has not been defined 
```

我是一个 nodejs 初学者，感谢任何帮助或指示。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T12:18:50.967

尝试安装旧版本：

```
npm install share@v0.4.1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-29T16:25:44.327

[或进行此处](https://github.com/HansPinckaers/ShareJS/commit/d28778e1cac8895b97c9cb12ea06d7ea2bd6ee01)描述的小修复

# c# - 循环遍历多个标签数组

> ID：10223638
> 
> 赞同：-1
> 
> 时间：2012-04-19T07:41:32.047
> 
> 标签：c#

我已经通过 stasckoverflows 了解了如何遍历标签数组（Label[] A 下面）。我对如何同时遍历标签 A 和标签 B 感到困惑，这样我就可以使用相同的代码。请注意，我可以使用两个 foreach 循环，但我计划拥有相当多的标签数组（Label[]A -> Labbel[] XXX）。

```
Label[] A = { A1, A2, A3, A4, A5, A6, A7, A8, A9, A10, A11, A12, A13,A14, A15, A16, A17, A18, A19, A20, A21, A22, A23, A24, A25, A26, A27, A28, A29, A30, A31, A32, A33, A34, A35, A36, A37, A38, A39, A40, A50, A51, A52, A53, A54, A55, A56, A57, A58, A59, A60 };
            Label[] B = { B1, B2, B3, B4, B5, B6, B7, B8, B9, B10, B11, B12, B13, B14, B15, B16, B17, B18, B19, B20, B21, B22, B23, B24, B25, B26, B27, B28, B29, B30, B31, B32, B33, B34, B35, B36, B37, B38, B39, B40, B50, B51, B52, B53, B54, B55, B56, B57, B58, B59, B60 };
            Graphics g = this.CreateGraphics();
            Pen pen = new Pen(Color.Blue, 1);
            g.DrawRectangle(pen, RectangleDrawer.rect_x, RectangleDrawer.rect_y, RectangleDrawer.rect_w, RectangleDrawer.rect_z);

            foreach (Label l in A)
            {
                if (l.Location.X > RectangleDrawer.rect_x && l.Location.X < (RectangleDrawer.rect_x + RectangleDrawer.rect_w) - 25 &&
                    l.Location.Y > RectangleDrawer.rect_y && l.Location.Y < (RectangleDrawer.rect_y + RectangleDrawer.rect_z) - 25)
                {
                    l.BackColor = col;
                } 
```

您能提供的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:45:31.640

您可以有一个数组来保存标签的所有数组，然后执行以下操作：

```
foreach (Label[] labels in LabelsArrays)
{
    foreach (Label l in labels)
    {
        if (l.Location.X > RectangleDrawer.rect_x &&
            l.Location.X < (RectangleDrawer.rect_x + RectangleDrawer.rect_w) - 25 &&
            l.Location.Y > RectangleDrawer.rect_y &&
            l.Location.Y < (RectangleDrawer.rect_y + RectangleDrawer.rect_z) - 25)
        {
            l.BackColor = col;
        }
    }
} 
```

或者您可以使用 LINQ 扩展方法并执行以下操作：

```
foreach (Label l in labelsA.Union(labelsB).Union(labelC))
{
    if (l.Location.X > RectangleDrawer.rect_x &&
        l.Location.X < (RectangleDrawer.rect_x + RectangleDrawer.rect_w) - 25 &&
        l.Location.Y > RectangleDrawer.rect_y &&
        l.Location.Y < (RectangleDrawer.rect_y + RectangleDrawer.rect_z) - 25)
    {
        l.BackColor = col;
    }
} 
```

# objective-c - 有没有办法在Objective C中声明常量而不使用Extern

> ID：10223639
> 
> 赞同：0
> 
> 时间：2012-04-19T07:41:36.633
> 
> 标签：objective-c, xcode4.2

问题是这样的： [Objective-C 中的常量](https://stackoverflow.com/questions/538996/constants-in-objective-c)

所以我们在 .h 文件中声明一次常量，并在 .m 中设置它的值

有没有办法声明常量并同时定义它？

我的意思是真正的常数，而不是宏（虽然宏也很好，而且速度更快，而且没有任何缺点）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:13:50.517

关于什么

```
#define MY_CONSTANT 9 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:25:38.037

希望这会奏效

```
 #define MY_VALUE 165.0 
```

# dynamic-data - ASP.Net 动态数据 - 你能拦截保存吗？

> ID：10223640
> 
> 赞同：1
> 
> 时间：2012-04-19T07:41:38.457
> 
> 标签：dynamic-data

我们正在考虑使用动态数据构建应用程序。我们想做的是运行一些业务规则（查看应用程序外部或返回数据库的规则，而不是验证规则）。运行这些规则时，我们希望返回验证错误的枚举列表。

问题：
ASP.Net 动态数据中是否有办法在保存之前执行某种“Context.Validate()”，以便我们可以得到业务规则验证错误？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T14:56:39.347

截取保存的方式取决于您使用的对象/关系映射器 (O/RM)、LinqToSQL 或实体框架。

如果您使用的是 LinqToSql，请参阅此演练： http: [//msdn.microsoft.com/en-us/library/bb629301 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/bb629301(v=vs.100).aspx)

如果您使用的是实体框架，请参阅此链接：http: [//msdn.microsoft.com/en-us/data/gg193959.aspx](http://msdn.microsoft.com/en-us/data/gg193959.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T11:30:27.543

您可以将“OnValidate”方法添加到 Linq 表的部分类。然后，您可以在此方法中执行您需要的任何自定义验证，如果某些事情未能满足您的业务规则，您可以做出适当的响应，例如抛出 ValidationException。这将阻止数据保存到数据库中。

```
[MetadataType(typeof(LinqClassNameMetadata))]
    public partial class LinqTableClassName
    { 
        //HERE IS THE SOLUTION
        partial void OnValidate(System.Data.Linq.ChangeAction action)
        {
           //Implement business rules here

           //If something is wrong, you can do something like
           throw new ValidationException("assert whatever is wrong");
        }
}

public class LinqClassNameMetadata
{
        //Just an example
        [Required]
        public object WhateverColumn;

         //etc.
} 
```

# php - 检查数据库是否有相似的值，MySQL

> ID：10223641
> 
> 赞同：2
> 
> 时间：2012-04-19T07:41:39.247
> 
> 标签：php, mysql

我有一个这样的表服务器；

```
Model | Brand
-------------------
M4000 | Dell
S4000 | Hp
S3500 | Hp
S6500 | Sun 
```

我想显示“品牌”字段中的不同数据，这意味着我不希望再次显示第二个“Hp”数据。我怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-19T07:43:58.630

```
SELECT DISTINCT Brand FROM tableName 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:44:32.437

使用不同的：

```
select distinct (brand) from table 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:44:03.027

使用 distinct 将只显示一次 Brand 实例，如下所示。所以，使用

```
select distinct Brand from your_table; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:44:13.200

```
SELECT DISTINCT Brand FROM table 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T07:44:26.570

例如，假设您的表名是 mod_brand，那么这个 SQL 语句将按品牌组合在一起：

```
select m.*
from   mod_brand m
group  by Brand; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T07:47:28.713

您可以使用“GROUP BY”关键字，但在这种情况下，您只能获得每个品牌的一个数据（第一个“模型”数据）。

否则，您可以使用“DISTINCT”并获得许多相同的“品牌”值。

PS：我是法语对不起我的英语......

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-19T07:50:36.803

试试这个：

```
select distinct brand from tablename 
```

否则，试试这个：

```
select brand,group_concat(model) from table group by brand 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-04-19T07:53:19.233

试试这个 ：

SELECT Model FROM tableName GROUP BY Brand

# c++ - c++ code folding with emacs/cedet

> ID：10223645
> 
> 赞同：7
> 
> 时间：2012-04-19T07:41:59.227
> 
> 标签：c++, emacs, cedet

I would like to use the semantic code folding from the cedet package (emacs). I installed the 1.1 version and added the following lines to .emacs:

```
(load-file "~/software/cedet-1.1/common/cedet.el")

(require 'semantic-tag-folding)
(defun c-folding-hook ()
  (global-semantic-tag-folding-mode 1)
  (local-set-key (kbd "C-c <left>") 'semantic-tag-folding-fold-block)
  (local-set-key (kbd "C-c <right>") 'semantic-tag-folding-show-block)
)
(add-hook 'c-mode-common-hook 'c-folding-hook) 
```

Okay, when I now load a c oder c++ file, nothing happens when using the key bindings or directly running the corresponding commands. What's going wrong? Have I forgotten something?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T11:10:16.067

First, you don't need to have `(global-semantic-tag-folding-mode 1)` inside `defun` - it's better to run this command once...

But I think, that main problem is that you hadn't enabled any Semantic feature (see [this section in my article](http://alexott.net/en/writings/emacs-devenv/EmacsCedet.html#sec4)) - at least you need to call `(semantic-load-enable-minimum-features)` after loading of CEDET.

P.S. you code is working for me (I use `semantic-load-enable-excessive-code-helpers` in my setup)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T11:05:54.937

try adding following line in your emacs config file after `(load-file "~/software/cedet-1.1/common/cedet.el")` line;

```
(semantic-load-enable-code-helpers) ; Enable prototype help and smart completion 
```

# java - Java：比较 HashMap 如果值可能是 Object[]

> ID：10223647
> 
> 赞同：8
> 
> 时间：2012-04-19T07:42:14.847
> 
> 标签：java, arrays, equals

我有以下带有属性键和值的 HashMap：

```
private HashMap<String, Object> prop_values; 
```

我需要检查它的一个实例是否等于另一个实例。在过去，我只是这样做：

```
if (prop_values_1.equals(prop_values_2)){
   //  do something
} 
```

这一直有效，直到我获得`Object[]`了价值。所以，我之前的表达式总是`false`以`HashMap`任何`Object[]`值返回。

所以，我必须实现这个方法：

```
private boolean isPropValuesEquals(HashMap<String, Object> pv1, HashMap<String, Object> pv2){
   boolean isEquals = true;

   if (pv1 == null || pv2 == null){
      return false;
   }

   if (!pv1.keySet().equals(pv2.keySet())){
      return false;
   }

   for (String key : pv1.keySet()){

      Object cur_pv1 = pv1.get(key);
      Object cur_pv2 = pv2.get(key);

      if (cur_pv1 instanceof Object[]){
         if (cur_pv2 instanceof Object[]){
            isEquals = Arrays.equals((Object[])cur_pv1, (Object[])cur_pv2);
         } else {
            return false;
         }
      } else {
         isEquals = isEquals && cur_pv1.equals(cur_pv2);
      }

      if (!isEquals){
         return false;
      }
   }

   return isEquals;

} 
```

它有效，但它似乎是某种黑客，我不确定这是实现我需要的最佳方式。

所以，这里有两个问题：

*   为什么 Object[].equals() 与 Arrays.equals() 不一样？似乎很痛苦。

*   有没有更好的比较方法`HashMap<String, Object>`，如果值可以是`Object[]`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:56:31.960

深层问题是没有办法覆盖`equals()`数组。为什么它一开始不写为“相同顺序的相等元素”，我不知道。肯定是可以的（除非有一些不为人知的理由不这样做；我想不出任何理由；如果您想检查参考相等性，请使用`==`，那么有什么工作 `equals()`危害？）。

你的解决方案是要走的路。只需考虑几个细节：

*   `x instanceof Object[]`您可以使用代替`x.getClass().isArray()`，因此它也适用于其他数组，例如`int[]`（它*不是*的子类`Object[]`）。缺点：您可能必须单独检查 if `x`is `null`。

*   如果数组可能包含嵌套数组，请考虑使用`Arrays.deepEquals()`.

*原始*数组不是`Object[]`s的演示：

```
 Object a = new int[1];
    System.out.println("" + (a instanceof Object[])); // false
    System.out.println("" + a.getClass().isArray()); // true 
```

另一个令人头疼的问题是，即使您发现它`x`是一个数组，您仍然必须分别处理所有不同原始元素类型的情况。在 Java 的类型系统中，没有办法以通用的方式处理它们。当然，如果我们的地图中没有原始数组，则无需处理这种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:59:00.143

```
why Object[].equals() is not the same as Arrays.equals()? 
```

*   `Object1.equals(Object2)`与 相同`Object1 == Object2`，即比较对象的地址（这不是很多开发人员所期望的，但不幸的是这是真的）
*   Arrays.equals(array1, array2) 比较数组的内容。

对于第一点：
这是最抽象的`equals()`方法，就像所有类都从Object扩展而来一样。`String.equals(String)`是该方法的覆盖情况，它的工作方式类似于`Arrays.equals(array1, array2)`。通过这样做，他们为其他开发人员覆盖它铺平了道路，以使其达到最灵活的目的。

最好使用`List<Object>`而不是`Object[]`，因为它已经准备好所有方法并且可以满足所有目的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:59:08.577

Object 类的 equals 方法实现了对象上最有区别的可能等价关系；也就是说，对于任何非空引用值 x 和 y，当且仅当 x 和 y 引用同一个对象（x == y 的值为 true）时，此方法才返回 true。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:50:12.420

相等可以是不同的东西：它是同一个引用（引用相等）吗？还是有相同的内容？

数组的问题在于它们是可变的。`equals`和`hashCode`对象必须始终成对出现，并且哈希码不应更改（否则无法在哈希表中找到对象）。因此，普通`equals`（和`hashCode`）不能使用数组内容，它们必须依赖数组的另一个（非可变）属性，即引用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T18:13:53.167

Joonas 是正确的，但是我会将您的代码重构为以下内容。您可以自己检查以找出差异。

```
private static boolean isPropValuesEquals(Map<String, Object> pv1, Map<String, Object> pv2) {
    if (pv1 == null || pv2 == null || pv1.size() != pv2.size())
        return false;

    for (Map.Entry<String, Object> entry : pv1.entrySet()) {
        Object cur_pv1 = entry.getValue();
        Object cur_pv2 = pv2.get(entry.getKey());

        if (cur_pv1 == null ^ cur_pv2 == null) // if exactly one is null they're "not equal"
            return false;

        if (cur_pv1 != null) {
            if (cur_pv1.getClass().isArray()) {
                if (Arrays.deepEquals((Object[]) cur_pv1, (Object[]) cur_pv2))
                    return false;
            } else {
                if (!cur_pv1.equals(cur_pv2)) {
                    return false;
                }
            }
        }
    }

    return true;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T08:40:13.970

一个不错但效率低下的实现是

*   复制地图
*   用包装列表替换任何数组
*   使用标准 .equals() 进行比较，这将起作用，因为列表包装器将对底层数组进行适当的深度等于。

代码

```
public static Map<String, Object> arraysToLists(Map<String, Object> map) {
    Map<String, Object> copy = new HashMap<String, Object>(map);
    for (Entry<String, Object> entry : copy.entrySet()) {
        if (entry.getValue() instanceof Object[]) {
            entry.setValue(Arrays.asList((Object[]) entry.getValue()));
        }
    }
    return copy;
}

public static boolean mapCompare(Map<String, Object> map1,
        Map<String, Object> map2) {
    return arraysToLists(map1).equals(arraysToLists(map2));
} 
```

测试用例

```
public static void main(String[] args) {
    Map<String, Object> testA = new HashMap<String, Object>();
    testA.put("foo", new Object[] { "1", "2" });
    Map<String, Object> testB = new HashMap<String, Object>();
    testB.put("foo", new Object[] { "1" });
    Map<String, Object> testC = new HashMap<String, Object>();
    testC.put("foo", new Object[] { "1", "2" });

    // demonstrate equals() broken with Object arrays
    System.out.println(testA.equals(testB)); // expect false
    System.out.println(testA.equals(testC)); // expect true

    // demonstrate new function works OK
    System.out.println(mapCompare(testA, testB)); // expect false
    System.out.println(mapCompare(testA, testC)); // expect true
} 
```

输出

```
false
false
false
true 
```

# android - 通过返回的 Android 相机意图使用 Cursor 时出现 NullPointerException

> ID：10223654
> 
> 赞同：0
> 
> 时间：2012-04-19T07:42:44.777
> 
> 标签：android, android-camera

这是代码：

// 以“三星”的方式进行

```
 // Describe the columns you'd like to have returned.
            // Selecting from the Thumbnails location gives you both the
            // Thumbnail Image ID, as well as the original image ID
            String[] projection = {
                    MediaStore.Images.Thumbnails._ID, // The columns we
                                                        // want
                    MediaStore.Images.Thumbnails.IMAGE_ID,
                    MediaStore.Images.Thumbnails.KIND,
                    MediaStore.Images.Thumbnails.DATA };
            String selection = MediaStore.Images.Thumbnails.KIND + "=" + // Select
                                                                            // only
                                                                            // mini's
                    MediaStore.Images.Thumbnails.MINI_KIND;

            String sort = MediaStore.Images.Thumbnails._ID + " DESC";

            // At the moment, this is a bit of a hack, as I'm returning
            // ALL images, and just taking the latest one. There is a
            // better way to narrow this down I think with a WHERE
            // clause which is currently the selection variable
            Cursor myCursor = this.managedQuery(
                    MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI,
                    projection, selection, null, sort);
            /*
            CursorLoader loader = new CursorLoader(getApplicationContext(), MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI,
                    projection, selection, null, sort); 
            Cursor myCursor = loader.loadInBackground();
            */

            long imageId = 0l;
            long thumbnailImageId = 0l;
            String thumbnailPath = "";

            try {
                myCursor.moveToFirst();

                **imageId = myCursor
                        .getLong(myCursor
                                .getColumnIndexOrThrow(MediaStore.Images.Thumbnails.IMAGE_ID));**
                thumbnailImageId = myCursor
                        .getLong(myCursor
                                .getColumnIndexOrThrow(MediaStore.Images.Thumbnails._ID));
                thumbnailPath = myCursor
                        .getString(myCursor
                                .getColumnIndexOrThrow(MediaStore.Images.Thumbnails.DATA));
            } finally {
                myCursor.close();
            }
            Uri uriThumbnailImage = Uri.withAppendedPath(
                    MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI,
                    String.valueOf(thumbnailImageId));
            // convert to a bytestream -- hack to convert URI to string 
```

用星号标记的行上有一个 NPE：

```
04-19 03:33:23.180: E/AndroidRuntime(29375): java.lang.RuntimeException: Failure     delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity     {kaana.app/kaana.app.InEventStartActivity}:     android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0 
```

我正在使用来自另一个来源的此代码，该代码专门为三星手机设计了此修复程序（我使用的是 Galaxy Nexus）。关于为什么这不起作用的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-03T10:32:19.323

您是否在清单文件中授予了相机权限？

# jquery - 我的 jQuery 对话框中没有加载任何内容

> ID：10223656
> 
> 赞同：1
> 
> 时间：2012-04-19T07:42:47.797
> 
> 标签：jquery

在我有以下 jQuery 之前：

```
var dialogDiv = "<div id='" + dialogId + "'></div>";

$(dialogDiv).load(href, function () {
    ... 
```

它工作得很好。

现在我改变了一点：

```
var dialogDiv = "<div id='" + dialogId + "' class='modal hide fade'><div class='modal-body'><p class='body'></p></div></div>";

$('.modal-body p.body').load(href, function () {
    ... 
```

现在什么都没有加载到我的 jQuery 对话框中。任何想法？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:46:34.307

问题是这些元素还不存在于 DOM 中。将其包装在一个 jQuery 对象中：

```
var $dialogDiv = $("<div id='" + dialogId + "' class='modal hide fade'><div class='modal-body'><p class='body'></p></div></div>");

$dialogDiv.find('.modal-body p.body').load(href, function () { 
```

**编辑：**最终你必须在 DOM 中插入该对象。您可以链接`insertAfter($bla)`到`load()`事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:53:33.057

您正在尝试获取 DOM 树中尚不可用的元素，您可以在调用 load() 之前将其注入，也可以在加载内容之前将其包装到 jQuery 对象中：

```
var dialogDiv = $("<div id='" + dialogId + "' class='modal hide fade'><div class='modal-body'><p class='body'></p></div></div>");

$('.modal-body p.body', dialogDiv).load(href, function () { ... } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:46:23.280

“隐藏”类是否显示对话框 div？如果为 true，则目标元素不可见；)

# php - 双冒号也在研究非静态函数

> ID：10223658
> 
> 赞同：1
> 
> 时间：2012-04-19T07:43:00.630
> 
> 标签：php

我刚刚学会在 php 中使用双冒号。我有一个里面有很多功能的类：

```
class auth {

/* .... Other Functions ...*/

    public function logout ()
    {
        session_start();
        $_SESSION = array();
        if (ini_get("session.use_cookies")) {
            $params = session_get_cookie_params();
            setcookie(session_name(), '', time() - 42000,
                $params["path"], $params["domain"],
                $params["secure"], $params["httponly"]
            );
        }
        session_destroy();
    }

} 
```

现在我将这个 auth.class.php 包含在另一个文件 logout.php 中，然后调用

```
auth::logout(); 
```

将 php 错误转为 E_ALL 级别时，我没有发现任何错误（除了：**“header already sent” ）。**

我听说范围解析运算符仅适用于静态函数。所以我很困惑，请帮助我更好地理解它......请

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:52:17.380

您可以以静态方式调用非静态函数（就像您一样）。相信 PHP 5.3 会更严格一些，但它仍然是可能的。在这种情况下，它不会出现任何问题，因为您的函数不引用对象本身的任何变量，因此它实际上并不依赖于对象实例。因此你不会得到任何错误。

但是，我仍然建议不要这样做。您的代码会变得混乱，并且可能（并且应该）在未来的版本中中断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:48:08.050

`session_start();`应该是您的引导/初始化代码的一部分，而不是 auth 类的一部分。将它放在项目中执行的第一行的某个位置。如果您在调用 session_start() 之前输出 ANYTHING，您将收到 headers already sent 错误，并且结果将是不可预测的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:48:53.143

`logout()`你静态地调用你的方法。因此，您需要在`static`方法定义中添加关键字，例如`public static function logout()`.

`header already sent`错误表明您在发送 Real 标头之前已将一些数据输出到浏览器。可能是一些 php 输出或错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T07:49:12.640

PHP 在静态与非静态方法方面非常松懈。如果您在 php 配置中打开严格模式，这将是错误的。

另外：“PHP 4 没有静态关键字（在函数声明上下文中），但仍然允许使用 :: 静态调用方法。为了向后兼容的目的，这在 PHP 5 中继续存在。”

另请参阅：[使用“::”调用非静态方法](https://stackoverflow.com/questions/3754786/calling-non-static-method-with)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T07:46:06.193

这与您的`session_start()`. *您必须在任何输出到浏览器之前*
执行此函数（可能是模板、回显甚至是之前的空白）。*`<?php`*

 *您可能在每次页面加载时都需要它，所以我建议您将它放在一开始加载的配置文件中的某个位置。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T08:44:06.183

首先，您正在使用仅适用于静态函数的范围解析运算符。您必须在 public 之后使用 static 关键字将此函数设为静态，然后您可以使用其类名调用您不必制作该类的对象，或者您可以制作这样的对象

```
<?php 
     $myobject    = new myclass();
?> 
```

一个主要的认为 session_start(); 函数应该是您网页的第一行，因为它将标头信息发送到服务器。服务器保存它们。否则使用 php 函数重新发送标头信息将是一个问题，因为每个 htm 总是向服务器发送一个 http 标头信息，因此 session_start 应该是任何页面的第一行

如果这与您相关，您可以在 info.gtensoft.in 上给我发邮件，Gtensoftwares 高级开发人员 www.gtensoft.in 来自印度新德里*

# sql-server-2008 - 在哪里下载这个版本的 Adventureworks 数据库

> ID：10223664
> 
> 赞同：1
> 
> 时间：2012-04-19T07:43:15.807
> 
> 标签：sql-server-2008, adventureworks

[大家好，我是从SQL Server 2008 Transact-SQL Recipes](https://rads.stackoverflow.com/amzn/click/com/1590599802)这本书开始学习 SQL Server 的。

我的问题是我无法获取此文件`AdventureWorks2008.msi`。

> 本书中的大多数示例都使用 AdventureWorks 数据库（SQL Server 2008 OLTP 版本），该数据库可以从 CodePlex 站点 (www.codeplex.com) 的“Microsoft SQL Server 产品示例：数据库”项目下在线下载。查找名为 AdventureWorks2008.msi 的文件

当我搜索时，我得到[了这个](http://msftdbprodsamples.codeplex.com/releases/view/55926)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:19:23.760

“发布的 AdaTheDev 链接适用于 SQL Server 2008R2。

如果您想要 SQL Server 2008（某些表的结构存在差异），请尝试[此](http://msftdbprodsamples.codeplex.com/releases/view/37109)链接

我发布这个是因为我在安装 R2 时测试构建到常规数据库的代码时遇到问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:51:54.633

可[在此处](http://msftdbprodsamples.codeplex.com/releases/view/37109)下载 SQL 2008 AdventureWorks - 这是一个 exe，试一试 :)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T13:13:45.527

这本书已经过时，并且引用了一个不再可供公众下载的文件。请参阅此答案以下载并安装数据库，以便您可以完成书中的示例：

[在哪里下载 AdventureWorks2008.msi？](https://stackoverflow.com/q/10870537/138938)

# c# - 使用 WebBrowser-Control 在 WPF 中显示本地 PDF 文件

> ID：10223673
> 
> 赞同：8
> 
> 时间：2012-04-19T07:43:48.773
> 
> 标签：c#, wpf, pdf, browser

我正在尝试在 WebBrowser-Control 中显示本地 PDF 文件。我不想使用 Adob​​e 库，因为它们不支持 64 位。现在我已经有了显示 PDF 的代码，但前提是它不在本地硬盘上。当我右键单击 WebBrowser-Control 并显示 HTML 的源代码时，我将其保存为 HTML 文件以检查 HTML 代码是否正常工作。嗯，它有效。

我的窗口只包含一个最大化的 WebControl。我认为问题出在本地 Internet Explorer 的安全设置上。我读到自定义 IInternetSecurityManager 可以解决问题，但我不知道如何实现它......：/

我将 C# 与 .NET Framework 4.0 一起使用

这是我的代码：

```
 void MainWindow_Loaded(object sender, RoutedEventArgs e)
    {            
        string url = "C:/test.pdf";
        string html = "<!-- saved from url=(0014)about:internet -->\n<html>\n<body>\n<embed src=\"" + url + "\" width=\"100%\" height=\"100%\"/>\n</body>\n</html>";
        webBrowser.NavigateToString(html); // System.Windows.Controls.WebBrowser
    } 
```

我的“从 URL 保存”部分只有在我直接在 IE 中打开 HTML 代码时才有效，所以请告诉我该怎么做，才能让这段代码工作......也许你对我的问题有更好的解决方案。谢谢你的帮助！

问候，克里斯

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-19T08:24:08.410

只需使用

```
webBrowser.Navigate("file:///" + url); 
```

# android - 将本地文件夹中的 html 文件加载到 webview 中

> ID：10223674
> 
> 赞同：27
> 
> 时间：2012-04-19T07:43:51.347
> 
> 标签：android, html, android-webview

我是 Android 开发的新手。

我想将*html 文件*加载到*webview*中。

[请注意，像这样](https://stackoverflow.com/questions/5812277/open-local-html-file-in-webview-android)的 SO 上有很多相关问题，但它们都涉及从*assets*文件夹中获取 **.html* 。

但我想从本地文件夹加载 html 文件，比如“D://abc.html”，因为如果我的 html 大约为 10Mb，那么相应的 apk 大小也会达到 10mb。

任何帮助表示赞赏。

## 编辑

我试过`webView.loadUrl("file:///D:/Projects/myWebsite/index.html");`

但它给出了`Web page not available`and `File not found error`。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-04-19T07:51:31.917

您可以使用：

```
 WebView webView = // ...

   webView.loadUrl("file:///myPath/myFile.html"); 
```

在 Android 应用程序中，可以从 3 种类型的位置读取文件：

*   **内部存储：**每个应用程序都有自己的，文件名是相对于这个位置的。URL 形成`file:///myFolder/myFile.html`

*   **外部存储：**需要许可并且可能并不总是可用。[通过调用Environment.getExternalStorageDirectory()](http://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory())获取根文件夹。因此，使用以下方法构建 URL：`String url = "file:///" + Environment.getExternalStorageDirectory().toString() + File.separator + "myFolder/myFile.html"`

*   **资产**：存储在 apk 中。只读访问。URL 形成`file:///android_asset/myFolder/myFile.html`（另请参阅[将 Android 资源加载到 WebView 中](https://stackoverflow.com/questions/4855008/loading-an-android-resource-into-a-webview)）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-03-11T10:43:15.687

在 Android 4.4 KitKat 中，抛出“不允许加载本地资源：file:///..”。当 loadURL 出现时，我发现的唯一替代方法是“loadDataWithBaseURL”。

```
webView.loadDataWithBaseURL("file:///android_asset/demo/",
                             tmpDocumentText,"text/html", "UTF-8", null); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-19T07:50:35.897

WebView 有 loadData 方法[http://developer.android.com/reference/android/webkit/WebView.html](http://developer.android.com/reference/android/webkit/WebView.html)

您需要做的就是将文件读入 String，然后使用 loadData 将其提供给 WebView。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-12-28T10:54:29.280

如果文件存在于 android studio 项目中，任何一个都可以使用这种方式来加载文件（请注意 android_res 实际上是 res 文件夹，不应被替换）

```
webView.loadUrl("file:///android_res/drawable/FILENAME.EXTENSION"); 
```

但如果这不起作用，请尝试另一种加载文件的方式，例如

```
webView.loadDataWithBaseURL("file:///android_asset/demo/",tmpDocumentText,
                         "text/html", "UTF-8", null); 
```

# c - 当程序终止时，使用未释放的 malloc 分配的内存会发生什么？

> ID：10223677
> 
> 赞同：16
> 
> 时间：2012-04-19T07:44:04.823
> 
> 标签：c, memory-leaks, malloc, free, valgrind

说我有以下程序

```
#include <stdio.h>
#include <stdlib.h>

int main(void) 
{
    int * i;

    if ((i = malloc(sizeof(int) * 100)) == NULL) {
        printf("EROOR: unable to allocate memory \n");
        return -1;
    }

    /* memory is allocated successfully */

    /* memory is not free'ed but program terminates */
    // free(i);

    return 0;
} 
```

上面的程序调用`malloc`分配一些内存，而不调用`free`取消分配它。并且程序在不取消分配内存的情况下终止。

Valgrind 清楚地检测到内存泄漏。

```
<snap>
==14209== HEAP SUMMARY:
==14209==     in use at exit: 400 bytes in 1 blocks
==14209==   total heap usage: 1 allocs, 0 frees, 400 bytes allocated
==14209== 
<sanp>
==14209== LEAK SUMMARY:
==14209==    definitely lost: 400 bytes in 1 blocks
==14209==    indirectly lost: 0 bytes in 0 blocks
==14209==      possibly lost: 0 bytes in 0 blocks
==14209==    still reachable: 0 bytes in 0 blocks
==14209==         suppressed: 0 bytes in 0 blocks
==14209== 
==14209== For counts of detected and suppressed errors, rerun with: -v
==14209== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0) 
```

问题：

当程序终止时，分配但未分配的内存会发生什么`free`？

更新：考虑到这段代码是在不同的操作系统上执行的——比如 windows、linux、solarix、macos 等。这段代码在终止期间的行为有什么不同吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-04-19T07:55:31.450

其他答案告诉你两个重要的事情：

1.  是的，内存是由操作系统回收的，所以你在*技术上*不需要`free()`它。
2.  无论如何，释放您分配的所有内容都是一个好习惯。

但是，重要的是要说明*为什么*`free()`它对您分配的所有内容都是很好的做法。在我看来：

1.  **习惯：**如果您养成了在 malloced 时释放的习惯，您就不会意外忘记在程序的生命周期内内存段何时不存在。
2.  **可维护性：** 如果有人来重构您的程序，以便在程序的整个生命周期内不再存在一段内存，则原始版本中存在清理代码将意味着重构版本很可能还包含清理代码. 对我来说，这是最重要的原因。
3.  **调试：**如果我们期望所有内存都被正确清理，那么发现*实际*泄漏的内存要容易得多。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-19T07:46:32.373

操作系统将回收未释放的内存。

但是释放所有分配的内存是一个好习惯`malloc`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-04-19T07:45:17.170

程序退出后，操作系统会回收内存。
操作系统不了解您的程序泄漏了内存，它只是将内存分配给程序以供运行，一旦程序退出，它就会回收该内存。

但是，操作系统可能/可能不会重新校准文件描述符等其他资源，从而导致资源泄漏。

因此，一个程序应该在退出之前清理它使用的所有资源是一个很好的做法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-19T07:51:40.680

当进程动态分配内存时，它会从操作系统借用内存块。当一个进程不需要分配的内存时，它会释放它。然后操作系统将这些块添加到它的空闲列表中。当进程终止时也会发生同样的情况。进程使用的所有块都由操作系统回收。

[阅读内存管理了解更多信息。](http://en.wikipedia.org/wiki/Memory_management)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-17T05:46:14.653

更重要的是，FREE 确保了您分配的内存/缓冲区的健全性，因此存在一个很好的检查点来遏制/追赶堆损坏。

# java - 如何设置在黑莓中显示当前位置的垂直滚动条？

> ID：10223684
> 
> 赞同：1
> 
> 时间：2012-04-19T07:44:36.977
> 
> 标签：java, blackberry, scrollbar

我想在我的应用程序中使用这种类型的滚动条

![在此处输入图像描述](../Images/87bd7c649116c51a71a19f7183030cb5.png)

我试过这个：

```
 new VerticalFieldManager(HORIZONTAL_SCROLL|HORIZONTAL_SCROLLBAR|VERTICAL_SCROLL|VERTICAL_SCROLLBAR|VERTICAL_SCROLLBAR_MASK); 
```

但它没有奏效

目前它显示这个，我不想要这个：

![在此处输入图像描述](../Images/828f38244b870a981c1938393c0d2508.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T09:22:47.677

使用[net.rim.device.api.ui.Manager](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/ScrollView.html)类的[getVirtualHeight()](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/Manager.html#getVirtualHeight%28%29)、[getVerticalScroll()和](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/Manager.html#getVerticalScroll%28%29)[net.rim.device.api.ui.ScrollView](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/Manager.html)的[getVisibleHeight()](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/ScrollView.html#getVisibleHeight%28%29)， 可以在 Manager 上实现自定义滚动条。

查看这篇 BlackBerry 知识库文章，[在 Blackberry 设备上实现标准样式滚动条](http://supportforums.blackberry.com/t5/Java-Development/Implementing-a-standard-style-scrollbar-on-a-Blackberry-device/ta-p/504416)。

我用过那个类，`VerticalScrollManager`效果很好。以下是示例代码片段和生成的输出。

代码：

```
int maxWidth = 200;
int maxHeight = 100;

VerticalScrollManager vsm = new VerticalScrollManager(maxWidth, maxHeight);

vsm.add(new ButtonField("ButtonField 1"));
vsm.add(new ButtonField("ButtonField 2"));
vsm.add(new ButtonField("ButtonField 3"));
vsm.add(new ButtonField("ButtonField 4"));
vsm.add(new ButtonField("ButtonField 5")); 
```

输出：

![上述代码的输出](../Images/e80a410636ddb7fdf4147129048f0522.png)

另一个有用的链接，[Blackberry 中的滚动条组件](http://supportforums.blackberry.com/t5/Java-Development/Scrollbar-Component-in-Blackberry/td-p/492301)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:56:15.097

从 javadoc 看来，您应该只使用：

```
VERTICAL_SCROLL
HORIZONTAL_SCROLL 
```

对不打算在这种情况下使用的值使用按位运算可能会导致不可预测的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:03:20.523

您可以覆盖该`paint`方法`VerticalFieldManager`并从头开始绘制该滚动条，除了您提到的滚动条之外，没有其他默认滚动条。

# xcode - 设置统一的文件路径

> ID：10223687
> 
> 赞同：1
> 
> 时间：2012-04-19T07:44:42.467
> 
> 标签：xcode, macos, cocoa, file, plist

我有一个适用于 osx 的 Xcode 4 应用程序。在我的程序中，我有一些地方需要读取和写入 plist 文件。目前我使用了 /users/my name/desktop/name of document plist 的文件路径。但是，当我将应用程序制作成应用程序并将其传输到另一台计算机时，它自然无法找到和读取文件。我应该如何制作文件路径才能在任何计算机上运行。下面是我的文件路径

```
filepath = @"/Users/Gautambir/Desktop/CustomerNames.plist" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:54:23.507

您永远不应该对路径进行硬编码。您应该使用[各种可用的 API](https://developer.apple.com/library/mac/documentation/cocoa/conceptual/strings/Articles/ManipulatingPaths.html#//apple_ref/doc/uid/20000152-BBCBIGHH)来构建路径。

有几种方法可以构造有效路径。例如，这有效：

```
NSString* filePath = [[NSHomeDirectory() stringByAppendingPathComponent:@"Desktop"] stringByAppendingPathComponent:@"CustomerNames.plist"]; 
```

或者，您可以使用：

```
NSString* filePath = [@"~/Desktop/CustomerNames.plist" stringByExpandingTildeInPath]; 
```

尽管这些是构建路径、访问特殊位置（例如桌面、文档文件夹或应用程序支持文件夹）的正确方法，但您应该使用该[`NSSearchPathForDirectoriesInDomains()`](https://developer.apple.com/library/mac/documentation/cocoa/reference/foundation/miscellaneous/foundation_functions/Reference/reference.html#//apple_ref/doc/uid/20000055-SW5)函数，或者最好使用`NSFileManager`方法[`URLsForDirectory:inDomains:`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nsfilemanager_Class/Reference/Reference.html#//apple_ref/doc/uid/20000305-SW102)或[`URLForDirectory:inDomain:appropriateForURL:create:error:`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nsfilemanager_Class/Reference/Reference.html#//apple_ref/doc/uid/20000305-SW101).

这些基于 URL 的方法应始终优先于基于路径的等效方法。Apple 建议所有开发人员尽快支持基于 URL 的方法。

这主要是因为文件 URL 可以存储书签数据，因此如果文件移动，仍然可以解析 URL，而路径不是这种情况，因为路径只是字符串，不能存储元数据。

以下是使用文件管理器查找 URL 的方法：

```
NSFileManager* fm = [NSFileManager defaultManager];
NSURL* desktopURL = [fm URLForDirectory:NSDesktopDirectory 
                            inDomain:NSUserDomainMask 
                   appropriateForURL:nil
                        shouldCreate:NO
                               error:nil];

NSURL* fileURL = [desktopURL URLByAppendingPathComponent:@"CustomerNames.plist"]; 
```

# c - 确定是否为互斥

> ID：10223688
> 
> 赞同：0
> 
> 时间：2012-04-19T07:44:49.740
> 
> 标签：c, operating-system

```
int turn =1 
```

**过程 1**

```
If (turn != 0)                                      
{                                                        
 Critical_Region()           
 noncritical_region()                         
   turn = 0                                              
} 
```

**过程2**

```
if (turn !=1) {
Critical_Region()
 noncritical_region()
turn =1
 } 
```

请告诉我，这两个过程是否确保它们相互排斥？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:54:05.177

如果是作业，那么您问题的答案是 - 阅读信号量小书[http://greenteapress.com/semaphores/downey05semaphores.pdf](http://greenteapress.com/semaphores/downey05semaphores.pdf)

# c - 缺页陷阱的代价

> ID：10223690
> 
> 赞同：12
> 
> 时间：2012-04-19T07:44:59.473
> 
> 标签：c, linux, memory-management, x86-64

我有一个应用程序，它定期（每 1 或 2 秒后）通过分叉来获取检查点。所以检查点是原始进程的一个分支，它只是保持空闲，直到当原始进程中发生某些错误时被要求启动。

现在我的问题是 fork 的写时复制机制的成本是多少。每当原始进程写入内存页面时（即在获取检查点之后的第一次），将发生页面错误陷阱的成本是多少，因为写时复制机制将确保它为原始进程提供与检查点不同的物理页面。

在我看来，当中断发生时，页面错误陷阱的开销可能非常高，我们从用户空间着陆到内核空间着陆，然后从内核回到用户空间。我可以从这样的页面错误陷阱中损失多少 CPU 周期。假设 RAM 足够大，我们不需要交换到硬盘。

好吧，我知道很难想象一个检查点方案比这更有效，因此你可以说我为什么担心页面陷阱错误开销，但我只是想知道这个方案的成本是多少.

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-19T11:56:12.480

您可以自己进行粗略的数学计算以进行有根据的猜测。假设没有磁盘访问（约 100 亿个周期），您必须考虑

*   陷阱和返回 160 个周期（大约，在 x86_64 上）
*   有效性检查、配额、会计等等（未知，可能几百到一千个周期）
*   对齐`memcpy`4096 个字节，大约 500-800 个周期
*   TLB 失效（首次访问时增加 10-100 个周期）
*   根据. *_* _ `memcpy`一种或另一种更好，这对您的访问模式很重要。

所以总而言之，我们谈论的是大约 2000 个周期，其中一些效果（例如 TLB 和缓存效果）被分散开来并且不立即可见。早在 2003 年，Omondi 和 Sedukhin 就在 P-III 上报告了 1700 个周期，这与这一估计一致。

请注意，如果该页面以前从未被写入过，那么根据 L. Torvalds 在 2000 年的评论，情况会略有不同。零页上的写时复制未命中会从池中拉出另一个零页，并且不会复制零。不过，这也几乎可以保证缓存未命中。

# algorithm - 舰队战斗策略游戏AI

> ID：10223691
> 
> 赞同：3
> 
> 时间：2012-04-19T07:45:01.227
> 
> 标签：algorithm, artificial-intelligence

如何实现像《[拿破仑：全面战争](http://www.totalwar.com/napoleon/)》中的海战 AI 这样的游戏 AI 。

我想完成一个小游戏，这艘船可以占领岛屿来生产更多的船，我的舰队可以和其他人战斗。你能给我一个例子吗，或者我应该学什么来完成它。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T07:56:49.297

您的问题类似于**[ants ai challange](http://aichallenge.org/)**。- 每个玩家都有一个殖民地，需要保护它，收集食物并摧毁对手的殖民地[不是完美匹配你的问题，但类似]

**这个挑战的获胜者在[他的博客](http://xathis.com/posts/ai-challenge-2011-ants.html)**中写了他是如何做到的，所以你可能想从中学习。[这个线程](https://stackoverflow.com/q/8574388/572670)也讨论了它。

通常对于游戏，一般的方法是使用**[min-max 算法](http://en.wikipedia.org/wiki/Minimax)**（递归检查游戏树，假设你和你的对手都会做最好的动作，并选择能保证你得到最好结果的那个）和[alpha-beta 修剪](http://en.wikipedia.org/wiki/Alpha-beta_pruning)（这是一种优化，可以修剪游戏树并切断您绝对不会使用的状态）。
由于分支因子可能太高 - 您可能需要使用一些启发式方法来评估哪些动作值得探索。

通常应用此方法时的问题是决定：

1.  如何选择值得研究的举动？有很多可能的解决方案，其中之一是贪婪 - 那些更有希望和浅层的解决方案也可能更有希望和更深层次。
2.  找到一个好的启发式函数来评估游戏的状态。

# php - Codeigniter 相同的管理和公共界面

> ID：10223693
> 
> 赞同：1
> 
> 时间：2012-04-19T07:45:06.537
> 
> 标签：php, codeigniter, admin-interface

我计划建立一个网站，其中包含会员和会员上传的内容。我需要在以下选项之间进行选择：

a) 管理员和用户的单独界面

b) 管理员和用户使用相同的界面

例如，特定模块“黄页”将有成员上传的列表。当列表的所有者访问该页面时，他们将通过根据数据库检查他们的会话数据来显示编辑/删除链接。相同的内容将显示给管理员。公共用户将看不到这些链接。编辑/删除功能还将检查用户是所有者/还是管理员，以避免公众直接访问编辑/删除 URL。

此外，如果用户是管理员，顶部将显示一个附加导航栏，其中包含指向添加/编辑/修改站点设置和所有内容的功能的链接。

所以我的问题是，以上是一个好方法吗？或为用户和管理员提供单独的界面，例如[http://philsturgeon.co.uk/blog/2009/07/Create-an-Admin-panel-with-CodeIgniter](http://philsturgeon.co.uk/blog/2009/07/Create-an-Admin-panel-with-CodeIgniter)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:56:31.840

还有另一种选择。我更喜欢这个。

C) 混合您的 (a) 和 (b) 选项

为管理员创建一个单独的界面。其中包括管理员列表和用户和列表的管理（编辑/删除/禁止用户等）

另外你可以使用用户和权限类型的情况。对于前。

*   添加表权限用户类型可以是 admin、guest、registered、moderator 等。
*   取决于登录类型：将存储会话，并根据前端的会话显示操作。
*   前任。：
*   *   客人不会看到“添加评论”链接；
*   *   注册可以添加评论+房源+编辑自己的房源；
*   *   版主可以编辑任何人的列表；
*   *   管理员拥有所有权利。

根据您的应用程序和时间，您可以根据需要添加任意数量。我根据任何应用程序的全球化编写。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:57:02.723

如果您要使用相同的界面，则安全性会降低。入侵者理论上可以通过用户界面成为管理员。此外，在编程时，您必须记住，用户和管理员都将使用某些方法 - 所以 ypu 可以简单地忘记一些让入侵者走的路。我最好用 admin 和 user 使用的方法（即`edit()`, `delete()`）创建一个类，并用两个类来扩展它——user 和 admin。

# java - Mockito - 使用本机方法模拟类

> ID：10223698
> 
> 赞同：11
> 
> 时间：2012-04-19T07:45:15.013
> 
> 标签：java, gwt, mockito, native-methods

我有简单的测试用例：

```
@Test
public void test() throws Exception{
       TableElement table = mock(TableElement.class);
       table.insertRow(0);
} 
```

其中 TableElement 是 GWT 类，其方法`insertRow`定义为：

```
public final native TableRowElement insertRow(int index); 
```

当我启动测试时，我得到：

```
java.lang.UnsatisfiedLinkError: com.google.gwt.dom.client.TableElement.insertRow(I)Lcom/google/gwt/dom/client/TableRowElement;
    at com.google.gwt.dom.client.TableElement.insertRow(Native Method) 
```

我认为这与本机的 insertRow 方法有关。有什么方法或解决方法可以用 Mockito 模拟这些方法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-19T07:51:38.500

[根据这个Google Group thread](http://groups.google.com/group/mockito/browse_thread/thread/6e4d223f0c2f3ec4/7c0fab6ddb6e6420) Mockito 本身似乎无法模拟本机方法。但是，您确实有两种选择：

1.  将类包装`TableElement`在一个接口中并模拟该接口以正确测试您的 SUT 是否调用了包装的`insertRow(...)`方法。缺点是您需要添加额外的接口（当 GWT 项目应该在他们自己的 API 中完成此操作时）以及使用它的开销。接口代码和具体实现如下所示：

    ```
    // the mockable interface
    public interface ITableElementWrapper {
        public void insertRow(int index);
    }

    // the concrete implementation that you'll be using
    public class TableElementWrapper implements ITableElementWrapper {
        TableElement wrapped;

        public TableElementWrapper(TableElement te) {
            this.wrapped = te;
        }

        public void insertRow(int index) {
            wrapped.insertRow(index);
        }
    }

    // the factory that your SUT should be injected with and be 
    // using to wrap the table element with
    public interface IGwtWrapperFactory {
        public ITableElementWrapper wrap(TableElement te);
    }

    public class GwtWrapperFactory implements IGwtWrapperFactory {
        public ITableElementWrapper wrap(TableElement te) {
            return new TableElementWrapper(te);
        }
    } 
    ```

2.  使用[Powermock](https://github.com/jayway/powermock)和调用它的[Mockito API 扩展](http://www.javadoc.io/doc/org.powermock/powermock-api-mockito/1.6.5)`PowerMockito`来模拟本机方法。缺点是您有另一个依赖项要加载到您的测试项目中（我知道这可能是某些组织的问题，其中必须首先审核第 3 方库才能使用）。

就我个人而言，我会选择选项 2，因为 GWT 项目不太可能将自己的类包装在接口中（而且更有可能他们有更多需要模拟的本机方法）并为自己做只包装本机方法打电话只是浪费你的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-08T15:35:45.647

以防其他人对此感到困惑：与此同时（2013 年[5 月](https://github.com/google/gwtmockito/commit/cf301082817e4cd14532d91fbba461b139fe85a3)）[GwtMockito](https://github.com/google/gwtmockito)出现了，它在没有 PowerMock 开销的情况下解决了这个问题。

尝试这个

```
@RunWith(GwtMockitoTestRunner.class)
public class MyTest {

    @Test
    public void test() throws Exception{
        TableElement table = mock(TableElement.class);
        table.insertRow(0);
    }
} 
```

# bash - bash 脚本从 var$[id] 形式的变量中获取值

> ID：10223703
> 
> 赞同：0
> 
> 时间：2012-04-19T07:45:32.203
> 
> 标签：bash, shell

这是我第一次使用 shell 脚本（#!/bin/sh），我一直在阅读教程等，但我坚持读和写键的值..

我试图从表单的配置文件中读取键=值对

```
key1_begin=abc
key1_end=def

key2_begin=123
key2_end=jkl

.. and so on 
```

我希望用户将参数传递给脚本，例如

```
something.sh 1 x y z 
```

其中第一个参数将用作用于修改相应键的。所以在我检查了目录存在并且文件存在之后，我使用它来获取它

```
source config.cfg 
```

然后我使用 ID=$1 保存 id 并使用

```
echo key${ID}_begin 
```

所以读取以获取密钥的值将是

```
echo key${ID}_begin = $[key${ID}_begin] 
```

我希望得到“ key1_begin = abc ”，而是继续得到“ key1_begin = 0 ”。然而，相同的命令似乎适用于数字。例如，使用这个 ID 为 2 的命令给出“key2_begin = 123”

有人可以为我指出正确的方向，为什么这适用于数字而不是字母？

我用什么来改变变量的值？我目前正在使用“eval”，但这似乎只适用于数字

```
[ ! -z $2 ] && eval key${ID}_end=$3 
```

非常感谢任何有关此的建议/指示。\

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:00:51.820

您很可能必须使用中间变量：

```
key1_begin=abc
var="key${ID}_begin"
echo "$var=${!var}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:09:08.520

就像这样（假设 bash）：

```
#! /bin/sh
ID=2
source mychild.sh
keyid="key${ID}_begin"
echo "key${ID}_begin = ${!keyid}" 
```

简而言之，在 bash 中，您可以

```
var=${!i} 
```

或在其他外壳上：

```
var=`eval echo \$$i` 
```

# javascript - XMLHttpRequest 的 LOADING、DONE 等预定义值在 Ripple 下变得未定义

> ID：10223709
> 
> 赞同：0
> 
> 时间：2012-04-19T07:46:02.973
> 
> 标签：javascript, rest, xmlhttprequest, ripple

我正在使用 XMLHttpRequest 调用 REST 服务。

在 Mozilla 和 Chrome 下进行测试时，一切正常。

虽然，当我在 Chrome 下启用 Ripple 时，它​​停止工作。经过一些调试后，我发现在 switch/case 语句中，我做了类似...

```
switch (this.readyState) {
 case XMLHttpRequest.DONE: ... some code here ... break;
} 
```

...“案件”不会被解雇。

仔细检查确定所有值 XMLHttpRequest.* 都是*未定义*的，这就是我的代码停止工作的原因。

> 问：为什么 XMLHttpRequest 的 readyState 值在 Ripple 下会变得*未定义？*

除了使用像 1、2、3、4 这样的普通数字或自己定义值之外，是否有针对该问题的任何解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:42:36.310

安装 Ripple Emulator 0.9.5 后，测试脚本通过了测试—— **LOADING**、**DONE**等的**XMLHttpRequest**值都在那里。

 ****看起来您必须从[https://developer.blackberry.com/html5/downloads/ripple](https://developer.blackberry.com/html5/downloads/ripple)下载 Ripple ，然后手动安装 Chrome 扩展程序，而不仅仅是从菜单中更新扩展程序。

注意：在询问此问题时，上述版本不可用，因此存在问题。

注意 2：这是一个链接[https://developer.blackberry.com/html5/documentation/ww_getting_started/Use_the_Ripple_emulator_Chrome_extension_2007542_11.html](https://developer.blackberry.com/html5/documentation/ww_getting_started/Use_the_Ripple_emulator_Chrome_extension_2007542_11.html)，其中包含如何将扩展安装到 Chrome 的说明，即拖放**ripple_ui.crx**文件。****

# android - 如何通过单击取消单击单选按钮来动态删除 LinearLayout？

> ID：10223712
> 
> 赞同：1
> 
> 时间：2012-04-19T07:46:21.513
> 
> 标签：android, radio-button, android-linearlayout

这是我添加新线性布局的代码：

```
public void onClick_addContact(View v)
    {
            LinearLayout layout = (LinearLayout) findViewById(R.id.layoutLinear);
            layout.addView(linearlayout(_intMyLineCount));
            _intMyLineCount++;

    }

    private EditText editText(int _intID) {
            EditText editText = new EditText(this);
            editText.setId(_intID);
            editText.setHint("My lines");
            editText.setWidth(180);         

            editTextList.add(editText);
            return editText;
        }

       private TextView textView(int _intID)
        {
            TextView txtviewAll=new TextView(this);
            txtviewAll.setId(_intID);
            txtviewAll.setText("My lines:");        

            textviewList.add(txtviewAll);
            return txtviewAll;
        }

       private RadioButton button(int _intID)
       {
           RadioButton btn = new RadioButton(this);
           btn.setId(_intID);
           btn.setOnClickListener(newContact);

           return btn;

       }

       OnClickListener newContact = new OnClickListener() {
                //onClick view
                public void onClick(View v) {

                    LinearLayout layout = (LinearLayout) findViewById(R.id.layoutLinear);

                    layout.addView(linearlayout(_intMyLineCount));

                        _intMyLineCount++;

                }
               };

       private LinearLayout linearlayout(int _intID)
        {
            LinearLayout LLMain=new LinearLayout(this);
            LLMain.setId(_intID);       
            LLMain.addView(textView(_intID));
            LLMain.addView(editText(_intID));
            LLMain.addView(button(_intID));
            LLMain.setOrientation(LinearLayout.HORIZONTAL);
            linearlayoutList.add(LLMain);
            return LLMain;

        } 
} 
```

到目前为止，如果单击任何单选按钮，则会添加一个新的线性布局。如何更改此设置，如果单击任何单选按钮，则相应的线性布局将被删除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:51:28.760

使用[setVisibility](http://developer.android.com/reference/android/view/View.html#setVisibility%28int%29)方法。如果你知道布局的 ID，你可以做 a`findViewById`然后使用`myLayout.setVisibility(View.GONE)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:52:09.903

```
LinearLayout layout = (LinearLayout) findViewById(R.id.layoutLinear);
layout.removeView(findViewById(removeId)); 
```

应该有帮助。。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:49:25.233

您在新的 LinearLayout 上设置了一个标签，例如“与第一个单选按钮对应的布局”，您可以检索此布局以使用 findViewByTag 将其删除。

# list - GWT：将 CellList 成员一一添加到 Flow Panel

> ID：10223718
> 
> 赞同：0
> 
> 时间：2012-04-19T07:46:39.313
> 
> 标签：list, gwt, cell, flowpanel

有没有办法将 CellList 成员一个一个添加到 Flow 面板，而不是将 CellList 本身添加到面板？

例如。

```
private static final CellList<MyNodeInfo> myNodeCellList = 
     new CellList<MyNodeInfo>(MyNodeInfoCell.getInstance());
static List<MyNodeInfo> myNodeList = new ArrayList<MyNodeInfo>();
private static final FlowPanel flowPanel = new FlowPanel();

...
myNodeCellList.setRowData(myNodeList);
...
// <<<<<<<<<
flowPanel.add(myNodeCellList); 
// >>>>>>>>>
for (int i=0; i< myNodeCellList.size(); i++) {

  // want to add indivisual member of myNodeCellList
  flowPanel.add(...);
}
// **<- want to change like this!!** 
```

FlowPanel 的 add() 方法获取 Widget 作为输入参数。

CellList 成员可以是一个元素（使用 getElement()），但不能是一个小部件。

每个 CellList 成员可以是一个小部件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:02:52.690

如果您不关心`SelectionModel`诸如此类的事情（键盘导航等），那么您可以在列表中创建`CellWidget`一个`MyNodeInfo`。

但是`CellList`（和其他`AbstractHasData`小部件）不是为您所照顾的而设计的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-04T09:07:59.890

自己的答案。

将 myNodeCellList（其 rowData 为 myNodeList）添加到 FlowPanel 就足够了。

我添加了一个容器来扭曲 FlowPanel。

然后工作。

# objective-c - 将 nil 分配给已初始化对象的变量是否正在释放它？

> ID：10223719
> 
> 赞同：1
> 
> 时间：2012-04-19T07:46:57.597
> 
> 标签：objective-c, ios, memory-management, ios5

我有类似的问题：[设置object = nil和[object release] VS [object release]和object = nil有什么区别？](https://stackoverflow.com/questions/8150896/what-is-the-difference-between-setting-object-nil-and-object-release-vs-obj)

```
NSMutableArray *myExampleArray = [[NSMutableArray alloc] init];
myExampleArray = nil; 
```

我使用 iOS 5.0**自动引用计数**，所以实际上我没有释放任何对象。因此，如果我将其分配给 nil 是否等于 [myExampleArray release] ？

我知道我以后不能在不重新初始化的情况下使用 myExampleArray。那么下一个问题。**清除**此 NSArray的最佳方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T08:18:42.717

是的，在 ARC 环境中，您永远不会调用 release。因此将 nil 分配给变量将释放对象。

在非 ARC 环境中，您会自行发布，因此对象会被销毁。但该变量仍将指向旧对象地址。但是已经没有对象了，所以`EXC_BAD_ACCESS`如果你稍后使用这个变量，你可能会遇到崩溃（ ）。如果您也将 nil 分配给它，那将不会发生。因为变量将不再指向旧的对象地址。

您的另一个问题：如果您稍后再次需要该数组，您可以调用`removeAllobjects`NSMutableArray 来删除所有添加的对象，就像 Ankit Gupta 已经说过的那样。这将导致一个空数组，它仍然存在，因此您可以重用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T07:51:21.993

不要为您的对象使用 Nil
试试这一行：

```
[myExampleArray removeAllobjects]; 
```

# crystal-reports - Crystal Reports 按值分组

> ID：10223722
> 
> 赞同：1
> 
> 时间：2012-04-19T07:47:12.503
> 
> 标签：crystal-reports, group-by, report

我必须设计一个水晶报表，我必须在其中从数据库中的特定字段中检索值。但是这个字段有许多条目随着数字的增加而增加，即从 1 到 10000，然后从 10000 到 20000，从 20000 到 30000 等等。

现在我想将它们分组，使 1 到 10000 在一个组中，10000 到 15000 在另一个组中，15000 到 20000 在另一个组中。我怎么做？我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:58:52.553

设置一个 Crystal 公式，类似于：

```
 if {myTable.myField} >= 1 and {myTable.myField} <= 10000 then 'A'
else if {myTable.myField} > 10000 and {myTable.myField} <= 15000 then 'B'
else if {myTable.myField} > 15000 and {myTable.myField} <= 20000 then 'C' 
```

- 并根据您的新公式分组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T12:39:17.757

您可以考虑以下`SELECT`表达式：

```
SELECT {table.field}
CASE 1 TO 10000: "A"
CASE 10001 TO 15000: "B"
CASE 15001 TO 20000: "C"
DEFAULT: "ERROR" 
```

# ruby-on-rails - 路由错误 - Rails 3

> ID：10223727
> 
> 赞同：1
> 
> 时间：2012-04-19T07:47:43.090
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1, routing

当我尝试访问 /messages/new 时，我的应用程序出现以下错误：

```
No route matches [GET] "/messages/new" 
```

如果我尝试向 config.rb 添加 /messages/new 路由，我会收到以下错误：

```
No route matches {:controller=>"messages"} 
```

该应用程序本身就像 Gumtree.com，用户来这里创建帖子（例如卖我的车），然后人们回复我向他们发送消息（通过 Simple Pvt Messages 插件）。

对此的任何见解将不胜感激。

谢谢！

费萨尔

**路线.RB**

```
Mysalary::Application.routes.draw do
resources :users do
         resources :messages do
           collection do
             post :delete_selected
           end
         end
       end

resources :users
resources :profiles
resources :pages
resources :posts
resources :messages

get "pages/home"
get "pages/about"
get "pages/legal"
get "pages/feedback"

root :to => 'posts#new'

end 
```

**消息>新视图**

```
<% form_for @message, :url => user_messages_path(@user) do |f| %>
<p>
To:<br />
    <%= f.text_field :to %>
    <%= error_message_on @message, :to %>
</p>
<p>
Subject:<br />
<%= f.text_field :subject %>
<%= error_message_on @message, :subject %>
</p>
<p>
  Message<br />
  <%= f.text_area :body %>
        <%= error_message_on @message, :body %>
</p>
<p>
  <%= submit_tag "Send" %>
</p>
<% end %> 
```

**消息控制器**

```
class MessagesController < ApplicationController

before_filter :set_user

def index
if params[:mailbox] == "sent"
  @messages = @user.sent_messages
else
  @messages = @user.received_messages
end
end

def show
@message = Message.read_message(params[:id], current_user)
end

def new
@message = Message.new

if params[:reply_to]
  @reply_to = @user.received_messages.find(params[:reply_to])
  unless @reply_to.nil?
    @message.to = @reply_to.sender.login
    @message.subject = "Re: #{@reply_to.subject}"
    @message.body = "\n\n*Original message*\n\n #{@reply_to.body}"
  end
end
end

def create
@message = Message.new(params[:message])
@message.sender = @user
@message.recipient = User.find_by_login(params[:message][:to])

if @message.save
  flash[:notice] = "Message sent"
  redirect_to user_messages_path(@user)
else
  render :action => :new
end
end

def delete_selected
if request.post?
  if params[:delete]
    params[:delete].each { |id|
      @message = Message.find(:first, :conditions => ["messages.id = ? AND (sender_id = ? OR recipient_id = ?)", id, @user, @user])
      @message.mark_deleted(@user) unless @message.nil?
    }
    flash[:notice] = "Messages deleted"
  end
  redirect_to :back
end
end

private
def set_user
 @user = User.first
end
end 
```

**消息模型**

```
class Message < ActiveRecord::Base

is_private_message

attr_accessor :to

end 
```

**耙路输出**

```
 delete_selected_user_messages POST   /users/:user_id/messages/delete_selected(.:format) {:action=>"delete_selected", :controller=>"messages"}
            user_messages GET    /users/:user_id/messages(.:format)                 {:action=>"index", :controller=>"messages"}
                          POST   /users/:user_id/messages(.:format)                 {:action=>"create", :controller=>"messages"}
         new_user_message GET    /users/:user_id/messages/new(.:format)             {:action=>"new", :controller=>"messages"}
        edit_user_message GET    /users/:user_id/messages/:id/edit(.:format)        {:action=>"edit", :controller=>"messages"}
             user_message GET    /users/:user_id/messages/:id(.:format)             {:action=>"show", :controller=>"messages"}
                          PUT    /users/:user_id/messages/:id(.:format)             {:action=>"update", :controller=>"messages"}
                          DELETE /users/:user_id/messages/:id(.:format)             {:action=>"destroy", :controller=>"messages"}
                 messages GET    /messages(.:format)                                {:action=>"index", :controller=>"messages"}
                          POST   /messages(.:format)                                {:action=>"create", :controller=>"messages"}
              new_message GET    /messages/new(.:format)                            {:action=>"new", :controller=>"messages"}
             edit_message GET    /messages/:id/edit(.:format)                       {:action=>"edit", :controller=>"messages"}
                  message GET    /messages/:id(.:format)                            {:action=>"show", :controller=>"messages"}
                          PUT    /messages/:id(.:format)                            {:action=>"update", :controller=>"messages"}
                          DELETE /messages/:id(.:format)                            {:action=>"destroy", :controller=>"messages"}
               pages_home GET    /pages/home(.:format)                              {:action=>"home", :controller=>"pages"}
              pages_about GET    /pages/about(.:format)                             {:action=>"about", :controller=>"pages"}
              pages_legal GET    /pages/legal(.:format)                             {:action=>"legal", :controller=>"pages"}
           pages_feedback GET    /pages/feedback(.:format)                          {:action=>"feedback", :controller=>"pages"}
             messages_new GET    /messages/new(.:format)                            {:action=>"new", :controller=>"messages"}
                     root 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T09:17:31.983

用这个替换你的路由文件，你在用户内部定义资源消息，也是两次。

Mysalary::Application.routes.draw 做

```
 resources :messages do
       collection do
         post :delete_selected
       end
     end

       resources :users
       resources :profiles
       resources :pages
       resources :posts

        get "pages/home"
        get "pages/about"
         get "pages/legal"
        get "pages/feedback"

        root :to => 'posts#new'

        end 
```

尝试一下...

# android - Android TabActivity 和动态 Tabs 屏幕方向问题

> ID：10223728
> 
> 赞同：0
> 
> 时间：2012-04-19T07:47:43.103
> 
> 标签：android, tabactivity

我正在按需将视图（不是活动）添加到 TabActivity（这意味着在 onCreate 完成后，活动可以有零个或多个选项卡）。随着时间的推移，添加了更多选项卡，现在我需要以一种理智的方式保存它们，以便以后可以恢复它们。我尝试在单个视图上使用 saveHierarchyState 等，但它们在没有来自 editTexts 等的数据的情况下被恢复。

因此，鉴于我在活动中有一个 HashMap，它从 tabkeys 映射到视图，你将如何保存这些数据并恢复它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:29:05.270

好的，我明白了：）

首先，我认为我需要设置视图的 ID，如此处所述[——](https://stackoverflow.com/questions/9714265/restoring-view-hierarchy-from-saved-state-does-not-restore-views-added-programat)使用这种方法，Android 能够恢复视图状态。但是由于我的动态选项卡都使用来自相同布局的视图，它们的孩子都具有相同的 ID，因此 android 将覆盖数据（状态根据视图 ID 保存在稀疏数组中，因此 ID 应该是唯一的）和所有意见看起来一样。我通过手动保存视图状态并通过以下方式重新应用它来解决此问题：

```
SparseArray<Parcelable> container = new SparseArray<Parcelable>();
saveHierarchyState(container);
b.putSparseParcelableArray("state", container);
restoreHierarchyState(b.getSparseParcelableArray("state")); 
```

虽然这种方法有效，但我仍然需要确定是否可以通过不在布局 xml 文件中为视图设置 ID 来让 Android 完成所有工作（如果允许/可能的话）。

# c# - 我的整个删除方法（）执行成功，没有错误，但记录没有被删除

> ID：10223729
> 
> 赞同：-1
> 
> 时间：2012-04-19T07:47:48.273
> 
> 标签：c#

应用调试器时，查询行在 textBox1.Text.my 中显示没有数据，代码如下：

```
namespace SeparateConnection
{

 class clsGridView
{

    Connection co2 = new Connection();
    //display our global varaible for connection
    SqlConnection myconn3 = new SqlConnection("data source=M-SULEMAN-PC;initial catalog=dbmsLogin;integrated security=sspi");
    public void Delete()
    {
        co2.setconn();
        try
        {
            DialogResult result = MessageBox.Show("Are you sure you want to delete ?", "Message",
                MessageBoxButtons.YesNo, MessageBoxIcon.Question);
            if (result == DialogResult.Yes)
            {
                //myconn3.Open();
                DataTable table2 = new DataTable();
                frmGridView gd = new frmGridView();
                SqlDataAdapter myadd2 = new SqlDataAdapter("Delete from tblLogin where UserName ='" + gd.textBox1.Text + "'", myconn3);
                myadd2.Fill(table2);

                //Sqlcommandbulider to allow changes to database
                SqlCommandBuilder mybuild = new SqlCommandBuilder(myadd2);

                //Update the database
                myadd2.Update(table2);

                //Close the connection
                myconn3.Close();

            }
            else
                return;

        }
        catch (Exception error)
        {
            MessageBox.Show(error.ToString());
        }
    } 
```

----------当我使用同一个类来调用和定义方法时..没有问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T07:52:06.037

要删除数据，您必须遵循以下模式：

```
SqlCommand cmd = new SqlCommand();
cmd.CommandText = "Delete from tblLogin where UserName = @param";
cmd.Parameters.Add("@param", gd.textBox1.Text);
cmd.Connection = conn;
cmd.ExecuteNonQuery(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T07:53:59.573

你为什么不试试这样的东西

```
string connetionString = null;
            SqlConnection connection ;
            SqlDataAdapter adapter = new SqlDataAdapter();
            string sql = null;
            connetionString = "Data Source=ServerName;Initial Catalog=DatabaseName;User ID=UserName;Password=Password";
            connection = new SqlConnection(connetionString);
            sql = "delete product where Product_name ='Product6'";
            try
            {
                connection.Open();
                adapter.DeleteCommand = connection.CreateCommand();
                adapter.DeleteCommand.CommandText = sql;
                adapter.DeleteCommand.ExecuteNonQuery();
                MessageBox.Show ("Row(s) deleted !! ");
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.ToString());
            } 
```

# android - ADT18 更新但有些样式有错误

> ID：10223730
> 
> 赞同：1
> 
> 时间：2012-04-19T07:47:51.077
> 
> 标签：android

我已经更新了我的 ADt18。当我运行我的早期应用程序和 sdk2.3 时，eclipse 给我错误，错误出现在 res\value\style，详细信息是：

```
<style name="RatingBarSmall" parent="@android:Widget.RatingBar.Small">
 <style name="ListSeparator" parent="@android:style/Widget.TextView.ListSeparator.White"> 
```

我发现 RatingBar.Small 不支持，如何修改它。为什么更新广告样式没用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T17:49:18.910

谷歌不再允许这样的父母......

[http://daniel-codes.blogspot.com.es/2011/08/new-to-android-more-style-restrictions.html](http://daniel-codes.blogspot.com.es/2011/08/new-to-android-more-style-restrictions.html)

# ruby - Ruby 中的元编程错误

> ID：10223732
> 
> 赞同：0
> 
> 时间：2012-04-19T07:47:57.927
> 
> 标签：ruby, metaprogramming

好吧，所以这让我发疯了。这段代码的重点是我应该能够动态添加一个方法，只要它的形式为 object.plusnum，其中 num 是任意数字。我不太确定如何让它工作。这是迄今为止我最好的尝试，但我目前遇到了几个错误。

代码：

```
class Adder
def initialize(_val)
    @start_value = _val
end

def method_missing(method_name, *args)
    method = method_name.to_s
    if method.start_with?("plus") then
        num = method[4 .. method.length]
        if (/^[\d]+(\.[\d]+){0,1}$/ === num) then
            number = Integer(num)
            self.class_eval("def #{method} return @start_value + #{number} end")
        else
            super
        end
    else
        super
    end
end

end 
```

我目前遇到的错误是“class_eval”未定义。我对元编程和 ruby​​ 很陌生，这让我发疯。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:54:18.717

我认为你完全错了:)

第一次调用方法产生的结果与第二次调用不同，因此您可能希望在定义后立即调用此方法。另外 - 您正在使用相当复杂的正则表达式，然后将值转换为`Integer`并删除点后的所有数字。

您正在使用`class_eval`字符串并将其传递给它，这通常是个坏主意，出于安全和性能原因，应尽可能使用块。

我怎么看它可能看起来：

```
class Adder
  def initialize(val)
    @start_value = val
  end

  def method_missing(method_name, *args)
    if method_name.to_s =~ /^plus(\d+)$/
      self.class.class_eval do
        define_method(method_name) { @start_value + $1.to_i }
      end
      self.send(method_name)
    else
      super
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:11:04.187

```
 class Adder
def initialize(_val)
    @start_value = _val
end

def method_missing(method_name, *args)
    method = method_name.to_s
    if method.start_with?("plus") then
        num = method[4 .. method.length]
        if (/^[\d]+(\.[\d]+){0,1}$/ === num) then
            number = Integer(num)
            self.class.class_eval("def #{method}() return @start_value + #{number} end")
            eval(method)
        else
            super
        end
    else
        super
    end
end

end

a = Adder.new(0)
a.plus1 
```

确保在最后添加 eval(method) 以调用该方法，否则它将返回 nil 以创建该方法。或者您可以使用 return @start_value + #{number} 简单地返回

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:00:02.787

1.  您必须调用类，而不是 adder 的实例`class_eval`。`Adder`
2.  该字符串不是有效的 Ruby。后面加上括号`#{method}`。

新版代码：

```
class Adder
def initialize(_val)
    @start_value = _val
end

def method_missing(method_name, *args)
    method = method_name.to_s
    if method.start_with?("plus") then
        num = method[4 .. method.length]
        if (/^[\d]+(\.[\d]+){0,1}$/ === num) then
            number = Integer(num)
            self.class.class_eval("def #{method}() return @start_value + #{number} end")
        else
            super
        end
    else
        super
    end
end

end

a = Adder.new(0)
a.plus1 
```

对我自己来说，我建立这种方法的方式只是开始

```
class Adder
end

Adder.class_eval("def plus1() return 0 + 1 end")
a = Adder.new
a.plus1 
```

然后逐渐用可配置的值代替硬连线的值，而不是一次写所有东西。

# c++ - OpenCV VideoCapture 无法打开许多视频文件

> ID：10223734
> 
> 赞同：2
> 
> 时间：2012-04-19T07:48:10.640
> 
> 标签：c++, opencv, video

我在使用 OpenCV 类 VideoCapture 循环打开许多视频文件（例如 200 个）时遇到问题。您可以在下面找到我的代码。

更具体地说，我的程序成功打开了一定数量的视频（通常为 171-173），但随后无法打开其他视频。我什至尝试总是打开相同的文件（如下例所示），但行为是相同的。

在我看来这应该不是内存泄漏的问题（实际上是有内存泄漏，但总共只消耗了大约50MB）。我认为这与每个视频打开时，几个线程也打开并且从不关闭，因此它们累积的事实有关。但我不知道这是否是真正的原因，或者如果是，如何解决。

我正在使用 Visual Studio 进行编译，并使用 Windows 7 操作系统。

如果您有任何线索和/或解决方案，请告诉我。

```
string video_filename = "MyVideo.mp4";
for(int j=0; j<200; j++)
{
    VideoCapture video(video_filename);
    if(!video.isOpened())
    {
        cout << "Video #" << j << " could not be opened" << endl;
    }

    video.release(); // I've tried also to comment this out
} 
```

我认为您可以轻松地尝试重现此问题，因为代码非常简单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-21T14:56:37.983

我在 Mac OS X 上使用了 OpenCV 2.3.0，运行代码没有问题。

您可能希望[将您的版本升级到 2.3.1 并重](https://stackoverflow.com/questions/7011238/opencv-2-3-c-visual-studio-2010/7014918#7014918)试。如果问题仍然存在，则可能是特定于 Windows 实施的问题，甚至可能只是特定于 Windows 7。

另一个疯狂的猜测是使用 OpenCV 的 C 接口而不是你现在使用的 C++ 接口来实现上面的程序。我过去遇到过使用此技巧解决的问题（与视频无关）。我不建议混合接口，所以如果你打算用 C 接口做一些事情，**不要**在你的程序中使用 OpenCV 的 C++ 接口：

```
for (int j=0; j<200; j++)
{
    CvCapture* capture = cvCaptureFromAVI("MyVideo.mp4");
    if (!capture)
    {
        cout << "Video #" << j << " could not be opened" << endl;

        // Prevent calling cvReleaseCapture() on a capture that didn't succeeded
        continue; 
    }

    cvReleaseCapture(&capture);
} 
```

我不记得是`cvCaptureFromAVI()`还是`cvCreateFileCapture()`。请验证！

# linux - 让 cd 运行一个不在 Windows 上的 php 网站

> ID：10223737
> 
> 赞同：1
> 
> 时间：2012-04-19T07:48:25.710
> 
> 标签：linux, macos, webserver, portable-applications, embeddedwebserver

我需要从 cd 运行 php+sqlite（或 mysql...）网站。

对于 Windows，我找到了一个不错的解决方案（xampp），但我也需要使 cd 与 osx 和 linux 兼容！

所以我基本上想启动一个网络服务器（无需安装它），然后自动打开一个指向网站本地副本的浏览器。

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T12:53:36.793

有适用于 linux 的 xampp，但从 cd 在其中运行的最佳方法是创建一个可执行的 shell 脚本来部署和设置/取消设置参数、启动软件和处理配置，尽管您可以使用 html5 替代方案 javascript+sqlite。

# c++ - cout 可以更改 char 数组的内容吗？

> ID：10223741
> 
> 赞同：0
> 
> 时间：2012-04-19T07:48:33.983
> 
> 标签：c++, string, formatting, char, cout

为了使这尽可能快速和简洁，这是我的代码：

```
 char* aiMove = getAIMove();
    cout << aiMove;
    cout << "\n" << numMoves << ": " << aiMove << "\n\n";
    return aiMove; 
```

这是我的输出：

```
 a0 a1
    0: �����������������������7 
```

因此，第一行调用 getAIMove() 并将返回值 (char*) 分配给 aiMove。

第二行打印 aiMove (a0 a1)。

第三行将 numMoves 和 aiMove 带入 cout 并打印它，但它打印的是一些奇怪的值。

第 4 行返回 aiMove，我检查过它是打印的奇怪值。

为什么 aiMove 的价值发生了变化？它似乎只在我将一个整数值传递给 cout（在本例中为 numMoves）时发生。

请帮忙！谢谢，帕特里克:)

编辑：我忘了提到的另一件事是，这种奇怪的行为仅在第一次执行此代码块时发生，每次在程序期间运行时，它都可以正常打印。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T07:57:50.683

这是一个明确的指示，它`getAIMove`返回了一个指向系统可以自由重用的内存的指针。来自堆栈或堆的后续分配覆盖了返回的指针。

发生这种情况的方式有很多，这可能是最常见的：

```
char *GetAIMove()
{
    char buf[128];
    strcpy(buf, "a0");
    strcat(buf, " ");
    strcat(buf, "a1");
    return buf; // oops, buf won't exist after we return
} 
```

哎呀。此代码返回一个指向缓冲区的指针，该缓冲区一返回就不再存在。解决此问题的典型方法是`return strdup(buf);`. 请记住，函数的调用者需要在完成字符串后释放它。

这是另一种方式：

```
std::string GetAIMove()
{
 // ...
 return foo;
}

char* aiMov e= GetAIMove();
// aiMove points to the contents of the returned string, no longer in scope. 
```

解决方法是`std::string aiMove = GetAIMove`. 现在`aiMove`将字符串保持在范围内。

但最好的解决方法是使用专门设计用于一直保存字符串的字符串类：

```
std::string GetAIMove()
{
    std::string foo;
    foo = "a1";
    foo += " ";
    foo += "a2";
    return foo;
}

std::string aiMove = GetAIMove(); 
```

请注意，虽然此代码似乎涉及大量复制，但在实践中，现代编译器将使其高效。因此，不要为保持代码简单、合乎逻辑、易于理解和维护而感到难过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:57:26.487

不，`cout`不会更改参数的内容。

您可能事先做错了什么并遇到未定义的行为。

# python - Django中的垃圾收集对象

> ID：10223743
> 
> 赞同：1
> 
> 时间：2012-04-19T07:48:40.857
> 
> 标签：python, django, garbage-collection, django-queryset, django-signals

我有一个*一对多的*关系，我想在*多方*的最后一个引用对象被删除后自动删除*一方*。也就是说，我要进行垃圾回收，或者做一种反向级联操作。

 *我试图通过使用 Django 的 post_delete 信号来解决这个问题。这是我正在尝试做的一个简化示例：

### 模型.py

```
class Bar(models.Model):
    j = models.IntegerField()
    # implicit foo_set

class Foo(models.Model):
    i = models.IntegerField()
    bar = models.ForeignKey(Bar)

def garbage_collect(sender, instance, **kwargs):
    # Bar should be deleted after the last Foo.
    if instance.bar.foo_set.count() == 0:
        instance.bar.delete()

post_delete.connect(garbage_collect, Foo) 
```

这在使用时有效`Model.delete`，但`QuerySet.delete`它会严重破坏。

### 测试.py

```
class TestGarbageCollect(TestCase):
    # Bar(j=1)
    # Foo(bar=bar, i=1)
    # Foo(bar=bar, i=2)
    # Foo(bar=bar, i=3)
    fixtures = ['db.json']

    def test_separate_post_delete(self):
        for foo in Foo.objects.all():
            foo.delete()
        self.assertEqual(Foo.objects.count(), 0)
        self.assertEqual(Bar.objects.count(), 0) 
```

这工作得很好。

### tests.py 继续

```
 def test_queryset_post_delete(self):
        Foo.objects.all().delete()
        self.assertEqual(Foo.objects.count(), 0)
        self.assertEqual(Bar.objects.count(), 0) 
```

这会在第二次发出信号时中断，因为正如[Django 的文档](https://docs.djangoproject.com/en/1.3/ref/models/querysets/#django.db.models.query.QuerySet.delete)所说，`QuerySet.delete`它会立即应用，并且`instance.bar.foo_set.count() == 0`在第一次发出信号时就已经是真的了。仍然从[文档](https://docs.djangoproject.com/en/1.3/ref/models/querysets/#django.db.models.query.QuerySet.delete)中读取，将为每个已删除的对象`QuerySet.delete`发出信号，并在被删除后被调用。`post_delete``garbage_collect``Bar`

那么问题来了：

1.  有没有更好的垃圾收集*一对多*关系一侧的*方法？*
2.  如果没有，我应该改变什么才能使用 QuerySet.delete？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T17:12:29.360

通过检查`delete()`里面的代码`django/db/models/deletion.py`，我发现`QuerySet.delete`删除了批量收集的实例，***然后***触发`post_delete`那些删除的实例。如果您`Bar()`在第一次`post_delete`调用中删除第一个删除的`Foo()`实例，则后面`post_delete`的 `Foo()`实例将失败，因为`Bar()`它们指向的实例已被删除。

这里的关键是`Foo()`s 具有相同的 bar 并不指向同一个`Bar()`实例，并且 bar 被过早地删除。那么我们可以

*   直接`try...except`查找`instance.bar`

    ```
    def garbage_collect(sender, instance, **kwargs):
        try:
            if instance.bar.foo_set.exists():
                instance.bar.delete()
        except Bar.DoesNotExist:
            pass 
    ```

*   为每个实例预加载`Bar()`以避免上述异常

    ```
    def test_queryset_post_delete(self):
        Foo.objects.select_related('bar').delete()        

    def garbage_collect(sender, instance, **kwargs):
        if instance.bar.foo_set.exists():
            instance.bar.delete() 
    ```

上述两种解决方案都会进行额外的`SELECT`查询。更优雅的方式可能是

*   如果可以，请执行`Bar`始终或稍后手动删除：`garbage_collect`

    ```
    Bar.objects.filter(foo__isnull=True).delete() 
    ```

*   在`garbage_collect`中，记录删除计划`Bar()`而不是删除，到一些 ref-count 标志或排队的任务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:55:19.077

我问你可以覆盖模型的删除方法，找到相关的对象并删除它们。*

# android - MediaPlayer 在后台播放音频并播放下一个

> ID：10223745
> 
> 赞同：4
> 
> 时间：2012-04-19T07:48:42.997
> 
> 标签：android, media-player

我使用下面的代码在后台播放音频：

```
String[] Path = new String[] {path1, path2, ...};
mMediaPlayer.setDataSource(Path[i]);
mMediaPlayer.prepare();
mMediaPlayer.start();
mMediaPlayer.seekTo(0); 
```

当我在后台播放第一个 Path[0] 时。我想让它在 Path[0] 播放完成后自动播放下一个 Path[1]，如何到达？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-04-19T07:56:47.047

你应该像这样覆盖 onCompletionListener，

```
mMediaPlayer.setOnCompletionListener(new OnCompletionListener() {           
    public void onCompletion(MediaPlayer mp) {          
        Log.i("Completion Listener","Song Complete");
        mp.stop();
        mp.reset();
        mp.setDataSource([nextElement]);
        mp.prepare();
        mp.start();
    }
}); 
```

如果您在 MediaPlayer 中使用 onPreparedListener，那么您还可以使用 prepareAsync 命令并忽略 .start()。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T07:58:26.453

您需要为您的 MediaPlayer 设置一个 OnCompletionListener，在侦听器中将源设置为 path2，准备并播放。 [http://developer.android.com/reference/android/media/MediaPlayer.OnCompletionListener.html](http://developer.android.com/reference/android/media/MediaPlayer.OnCompletionListener.html)

# blackberry - 黑莓中如何在设备与数据线连接时访问外部存储器

> ID：10223746
> 
> 赞同：1
> 
> 时间：2012-04-19T07:48:46.530
> 
> 标签：blackberry, blackberry-storm

我正在尝试在通过 USB 数据线连接到系统时调试我的应用程序。我的数据已下载并应存储在 sd 卡特定内存中，但在这种情况下我无法访问 sd 卡。

因此，任何人都可以帮助我在连接到数据线时如何访问外部存储器。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T09:42:10.010

连接 USB 电缆时，无法访问 SD 卡。这是在设备操作系统级别实现的。使 sd 卡可访问的唯一方法是断开连接到计算机的 USB 电缆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T11:49:19.167

设备设置中有关于安装 SD 卡的选项。您可以将其设置为“从不”或“提示”。

# c# - 在 XAML 中设置具有全局样式的类型“类型”的属性

> ID：10223751
> 
> 赞同：1
> 
> 时间：2012-04-19T07:48:57.863
> 
> 标签：c#, silverlight, xaml

我想在 xaml 中设置类型“类型”的依赖属性。这可以正常工作，但是当我以隐式或显式样式设置此值时，将引发异常（未处理的异常）。

我创建了一个空的 Silverlight 应用程序并添加了一个用户控件 (DataFormControl)。这是此控件背后的代码：

```
 public DataFormControl()
    {
        InitializeComponent();
    }

    public static readonly DependencyProperty TitleProperty = DependencyProperty.Register("Title", typeof(string), typeof(DataFormControl), null);
    public string Title
    {
        get { return (string)GetValue(TitleProperty); }
        set { SetValue(TitleProperty, value); }
    }

    public static readonly DependencyProperty TypeToReflectProperty = DependencyProperty.Register("TypeToReflect", typeof(Type), typeof(DataFormControl), null);
    public Type TypeToReflect
    {
        get { return (Type)GetValue(TypeToReflectProperty); }
        set { SetValue(TypeToReflectProperty, value); }
    }

    public string GetCombo()
    {
        string returnValue = (Title ?? "no title") + " ; " + (TypeToReflect != null ? TypeToReflect.Name : "unkown Type");
        return returnValue;
    }

    private void Refresh_Button(object sender, RoutedEventArgs e)
    {
        this.ResultBox.Text = GetCombo();
    } 
```

这里是 XAML 代码：

```
<Grid x:Name="LayoutRoot">
    <StackPanel Orientation="Horizontal">
        <Button Click="Refresh_Button">Refresh</Button>            
        <TextBlock x:Name="ResultBox" />
    </StackPanel>
</Grid> 
```

现在问题出现在引用 this 并使用全局样式的控件中：

```
<StackPanel>
        <StackPanel.Resources>
            <Style TargetType="local:DataFormControl">
                <Setter Property="Title" Value="Implicit Name" />
                <Setter Property="TypeToReflect" Value="local:DataFormControl" />
            </Style>
        </StackPanel.Resources>
        <TextBlock FontWeight="Bold">Test App</TextBlock>

        <local:DataFormControl Title="123" />
        <local:DataFormControl Title="Kuh" />
        <local:DataFormControl TypeToReflect="local:DataFormControl" />
        <local:DataFormControl  />
    </StackPanel> 
```

如果我删除“TypeToReflect”-Setter，那么一切正常。title 属性的全局样式也可以正常工作。

这是一个错误还是有解决方法？

我需要这种类型，因为我想对它使用反射。

*编辑：*

异常信息：

```
Message is always.  [Line: 0 Position: 0]  
ExceptionType: Unhandled Exception  
ExceptionObject: XamlParseException 
```

**堆栈跟踪**：

```
 at MS.Internal.XcpImports.CheckHResult(UInt32 hr)  
   at MS.Internal.XcpImports.ConvertStringToTypedCValue(IntPtr pContext, UInt32 cClrTypeName, String clrTypeName, UInt32 cValue, String value, CValue& outVal, Int32& typeIndex)  
   at MS.Internal.SilverlightTypeConverter.ConvertFrom(ITypeDescriptorContext context, CultureInfo culture, Object value)  
   at MS.Internal.XcpImports.GetManagedPropertyValueFromStyle(Boolean useBuiltInStyle, IManagedPeerBase obj, DependencyProperty property, Object& value)  
   at System.Windows.FrameworkElement.GetValueFromStyle(DependencyProperty property, Object& value)  
   at System.Windows.DependencyObject.EvaluateBaseValue(DependencyProperty property, EffectiveValueEntry oldEntry, EffectiveValueEntry& newEntry, ValueOperation operation)  
   at System.Windows.DependencyObject.EvaluateEffectiveValue(DependencyProperty property, EffectiveValueEntry oldEntry, EffectiveValueEntry newEntry, ValueOperation operation)  
   at System.Windows.DependencyObject.UpdateEffectiveValue(DependencyProperty property, EffectiveValueEntry oldEntry, EffectiveValueEntry& newEntry, ValueOperation operation)  
   at System.Windows.DependencyObject.InvalidateProperty(DependencyProperty property)  
   at MS.Internal.FrameworkCallbacks.InvalidateProperty(IntPtr nativeTarget, UInt32 propertyId) 
```

内部异常为空。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:30:19.100

你可以写：

```
{x:Type Type} 
```

没有更多的文字。

# c# - 加载动态创建的 ASCX 控件（通过代码）

> ID：10223752
> 
> 赞同：5
> 
> 时间：2012-04-19T07:49:12.453
> 
> 标签：c#, asp.net, user-controls, webusercontrol, dynamic-compilation

我正在`Web User Controls`通过代码创建（我的 C# 代码写出标记、代码隐藏和设计器文件到磁盘上的回调）。控件都创建得很好。我可以将它们添加到我的网络项目中并将它们放在一个页面上。

当我尝试使用`LoadControl(path)`它加载控件时说：

```
Unable to load type 'MyNameSpace.UseControlClass' 
```

这是因为控件尚未编译。

但我的要求是动态加载控件而不重新编译解决方案。

如何仅在创建控件文件时编译用户控件？因为这似乎是唯一的出路。

**编辑**：-我的猜测是，由于该文件尚未编译，但运行时不允许加载它。我尝试使用`CodeDom`编译器编译代码文件。喜欢：

```
var filePath = Server.MapPath(path);
var provider = CSharpCodeProvider.CreateProvider("C#");
var opts = new CompilerParameters(new[] { "mscorlib.dll", "System.Web.dll", 
                              "Telerik.Web.Design.dll", "Telerik.Web.UI.dll", 
                              "Telerik.Web.UI.Skins.dll", "MyCurrentDll.dll"});
opts.GenerateExecutable = false;
opts.GenerateInMemory = true;
var cr = provider.CompileAssemblyFromFile(opts, new string[] { filePath+".cs" }); 
```

但它抱怨`cannot find metadata file Telerik.Web.Design.dll`等等。我不想硬编码telerik路径，因为它在托管系统中可能不同（尽管它在`bin`当前的网络应用程序中）。也是`MyCurrentDll.dll`我从中编译代码文件的文件的dll。我该如何解决这个问题？

我的想法是编译代码文件，`dll`动态创建一个并将其复制到 Web 应用程序的`bin`目录中。它可能会解决我最初提出的问题。

**编辑 2**：- 经过试用后，我能够动态编译代码文件并生成`dll`. 即使在生成 dll 并将其放入`bin`我的应用程序之后，我也无法使用`virtual path`. 我尝试了以下方法：

```
var asm = Assembly.Load("ddlPath");
var t = asm.GetType(fullTypeName);//NameSpace.Class
var ctrl = LoadControl(t,null); 
```

在此之后加载 ctrl。我分配它的`Id`属性并将其添加到`asp.net Panel`控件中。但回发后它不可见:(

现在我要么必须以某种方式使动态编译的 dll 类型可用于运行时（可能是 appdomain），这样当我使用虚拟路径加载控件时，它会被正确加载，我不明白`HtmlParseException`为什么加载控件表单`Type`没有显示向上。

PS：-我已经加载了一个`Label`控件`Type`，它工作正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T09:09:50.603

最后我能够解决这个问题。以下是我采用的策略：

1.  创建包含结构`CodeBehind`和代码`Markup`的文本文件`Designer`
2.  阅读有关要创建哪些字段的信息。
3.  为字符串构建器中所需的控件添加标记。
4.  将一些其他相关信息放入更多字符串构建器中
5.  写文件

在此之后，我创建了`dll`using`CodeDome`编译器。如**`Edit`**部分问题所述，编译过程中面临的主要问题是找不到引用的程序集，这是通过将`bin`目录路径的路径与 dll 文件名一起解决的，例如：

```
Server.MapPath("~/bin")+"\\Telerik.Web.dll" 
```

等等

中概述的下一个问题**`EDIT2`**要简单一些。有相当愚蠢的。嵌入在动态生成的用户控件中的另一个用户控件存在一些问题。

即使在此之后，我也无法将控件加载到我编译代码的页面中。当我在另一个页面中加载控件时，这个问题得到了解决。运行时能够解析动态编译的类型`dll`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T13:26:29.697

嗯..您是否考虑过为此目的使用[App_Code 文件夹？](http://msdn.microsoft.com/en-us/library/ex526337.aspx)

> 包含要编译为应用程序一部分的共享类和业务对象（例如 ..cs 和 .vb 文件）的源代码。在动态编译的网站项目中，ASP.NET 会根据对应用程序的初始请求编译 App_Code 文件夹中的代码。然后在检测到任何更改时重新编译此文件夹中的项目。

# regex - 将通用正则表达式转换为 bash 证明正则表达式

> ID：10223754
> 
> 赞同：2
> 
> 时间：2012-04-19T07:49:15.453
> 
> 标签：regex, bash, unix

我有以下正则表达式来检查密码策略。它经过验证可以工作：

`(^([zZ]\d{3})*$)|((?=.{9,})(?=.*?[^\w\s])(?=.*?[0-9])(?=.*?[A-Z]).*?[a-z].*)`

我想在 bash 脚本中使用正则表达式通过以下方式验证 psssword：

```
echo $password | grep "(^([zZ]\d{3})*$)|((?=.{9,})(?=.*?[^\w\s])(?=.*?[0-9])(?=.*?[A-Z]).*?[a-z].*)"
if [[ $? -eq 0 ]] ; then 
```

这在 bash 中不起作用。我的问题是：

如何将此“纯”正则表达式转换为可在 bash 中使用的正则表达式？我需要转义哪些字符，将正则表达式传递给 grep 的正确方法是什么？还有什么我需要注意的吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:53:42.167

这可能很困难。

标准`grep`的功能有限。它只支持 POSIX 扩展的正则表达式，它不能识别你的正则表达式所依赖的[前瞻断言。](http://www.regular-expressions.info/lookaround.html)

如果你`grep`的机器上有 GNU，你可以给它传递`-P`or`--perl-regexp`参数，允许它使用 Perl 兼容的正则表达式。那么你的正则表达式应该可以工作。

正如我在评论中提到的，正则表达式不适合密码验证。它允许密码`z000`，甚至是空字符串：

```
(                 # Either match and capture...
 ^                #  Start of the string
 (                #  Match (and capture, uselessly in this case)
  [zZ]            #  case-insensitive z
  \d{3}           #  three digits
 )*               #  zero(!) or more times
 $                #  until the end of the string
)                 # End of first group.
|                 # OR
(                 # match and capture...
  (?=.{9,})       #  a string that's at least 9 characters long,
  (?=.*?[^\w\s])  #  contains at least one non-alnum, non-space character,
  (?=.*?[0-9])    #  at least one ASCII digit
  (?=.*?[A-Z])    #  at least one ASCII uppercase letter
  .*?[a-z].*      #  and at least one ASCII lowercase letter
)                 # no anchor to start/end of string... 
```

更好的使用

```
^(?=.{9})(?=.*?[^\w\s])(?=.*?[0-9])(?=.*?[A-Z]).*?[a-z].*$ 
```

# magento - 为什么不显示等级价格？

> ID：10223756
> 
> 赞同：0
> 
> 时间：2012-04-19T07:49:19.017
> 
> 标签：magento

我为我的网站使用默认模板。并将 a 添加`Tier Price`到产品中。设置为，`Customer Group`但它不会显示在产品页面上。为什么？

![在此处输入图像描述](../Images/bd06cefe41ad2a7b400acff21963f448.png)

如何输出以上内容

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T11:07:42.820

检查以下几点。

```
* Clear cache.
* Check re-indexing.
* The tire price should lesser then normal price.
* Check the code of product view page whether the code was removed? 
```

我希望这会对你有所帮助。

# wordpress - 'hierarchical' => true 不调出父选择器

> ID：10223759
> 
> 赞同：5
> 
> 时间：2012-04-19T07:49:23.837
> 
> 标签：wordpress, hierarchical

我想显示父选择，以便我可以选择父以进行布局。

这在 WordPress 论坛中没有得到回答。它可能是一个缺失或即将到来的功能。有没有人让这个工作？

```
register_post_type('foo', array(
    'hierarchical' => true,
    'labels' => array(
        'name' => 'Foo',
        'singular_name' => 'Foo'
    ),
    'public' => true,
    'supports' => array(
        'title', 'editor', 'author', 'page-attributes'
    )
)); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T08:08:58.463

仅当您对此自定义类型至少有 1 个条目时，才会显示父选择选项。

# java - Java中的字符串文字与字符串对象

> ID：10223763
> 
> 赞同：3
> 
> 时间：2012-04-19T07:49:30.160
> 
> 标签：java, string

在java中，可以通过以下两种方式创建字符串

1.  `String foo="Test";`
2.  `String fooobj=new String("Test");`

到处都提到了这两种创建字符串的方法之间的区别。我想更多地了解**什么是合适的场景，我们应该去哪里**

```
 String foo="Test"; 
```

**什么时候去**

```
 String fooobj=new String("Test");  ? 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-19T07:53:36.747

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-19T07:53:06.190

永远**不需要**创建一个新的 String 对象

```
String fooobj = new String("Test"); 
```

所以，你永远不应该这样做。改写就`String fooobj = "Test";`行了。

String 类是不可变的。这意味着 String 对象的内容在构造后无法更改。从来没有必要创建字符串文字的显式副本。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-19T07:53:38.190

你永远不应该使用`new String()`. 每当您以这种方式创建字符串时，都会在内存中创建新对象。如果您编写`String s = "aaa"`，那么有可能已经在给定的 JVM 中创建了这样的对象，它存储在字符串池中，并且由于您的变量将只是引用该现有对象 - 您以这种方式保护内存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:03:35.893

当您使用第二种方法时，您实际上依赖第一种方法来初始化构造函数参数。

所以问题是如果您可以通过第一种方法创建 String 对象，为什么要花费额外的精力来使用第二种方法？

我看不到使用第二种构造函数样式的任何场景，因此始终坚持使用第一种方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-06T15:59:13.087

字符串对象和字符串字面量之间存在细微差别。

字符串 s = "abc"; // 创建一个 String 对象和一个引用变量 在这个简单的例子中，“abc”将进入池中，s 将引用它。

字符串 s = new String("abc"); // 创建两个对象，一个引用变量 在这种情况下，因为我们使用了 new 关键字，Java 将在普通（非池）内存中创建一个新的 String 对象，s 将引用它。此外，文字“abc”将被放入池中。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-04-19T07:52:47.580

字符串是常量；它们的值在创建后无法更改。字符串缓冲区支持可变字符串。因为 String 对象是不可变的，所以它们可以被共享。例如：

```
 String str = "abc"; 
```

相当于：

```
 String str = new String("abc"); 
```

由于其他答案中解释的原因，您应该避免使用第二种方式来声明字符串

# iphone - 如何在 iPhone 中查找不同连接的数据传输速率？

> ID：10223764
> 
> 赞同：1
> 
> 时间：2012-04-19T07:49:51.297
> 
> 标签：iphone

我正在尝试找到 API 以获取不同连接（如 GPS、GPRS、3G、4G 和 wifi）的数据传输速率。我在可达性中搜索，但找不到任何东西。我是不是看错地方了？请帮助我..提前谢谢。

维什。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:52:17.443

没有用于此的（公共）API。您可以做的最好的事情是在服务器上设置一个简单的基于 UDP 的回显服务，并通过平均数据包的周转时间来测量实际连接的速度。当然，这会告诉您与特定服务器的连接速度，而不是您设备的连接，但总比没有好。

# facebook - Facebook 分享链接和 AIR StageWebView

> ID：10223765
> 
> 赞同：0
> 
> 时间：2012-04-19T07:49:51.460
> 
> 标签：facebook, air

我有一个 AIR 应用程序，用户可以使用以下链接样式在他/她的 FB 墙上发帖：

`http://www.facebook.com/sharer.php?s=100&p[url]=http://www.someurl.com&p[images][0]=http://image.jpg&p[title]=Title&p[summary]=Summary%20Text`

它在一段时间前工作，但现在似乎已经停止工作。

我对整个查询字符串进行 URL 编码（也许这就是问题所在？），并且我已经测试了生成的链接在 AIR 之外是否可以正常工作。我还有一个 Twitter 链接，带有另一个查询字符串，它可以正常工作。我见过其他一些人也有类似的问题，但我见过的解决方案，比如使用 javascript:window.location 没有奏效。还尝试通过加载自定义 HTML `loadString()`，然后重定向到所需的页面，但也没有成功。

你有什么建议？现在我正在使用`navigateToUrl`，但想避免它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:23:37.707

我不确定为什么这对您不起作用，但很遗憾地通知您，Facebook 分享按钮已被弃用且不再受支持。

[您可以在Facebook Share](http://Facebook%20Share)的文档中了解它：

> Share 按钮已被弃用，取而代之的是 Like 按钮，并且将不再受支持。请尽可能使用“赞”按钮为您的应用带来最大流量。

在[Like Button](http://developers.facebook.com/docs/reference/plugins/like/)的文档中：

> **旧的“分享”按钮怎么了？**
> 
> 我们在启动“赞”按钮时弃用了“分享”按钮，因为“赞”按钮允许用户一键连接，并允许他们查看哪些朋友已经连接，从而提高了点击率

由于它不再受支持，我会接受它的行为是不可预测的，也许这就是它停止为你工作的原因。我不是 Flash 开发人员，对此没有任何解决方案，但您应该停止使用已弃用的方法。

* * *

# 编辑

我的观点是，由于您使用的是已弃用的功能，即使您设法解决了当前问题，您稍后也会遇到其他问题，那么花时间查找/解决问题有什么意义呢？

至于在 AIR 中使用点赞按钮，谷歌搜索“adobe air facebook like”的结果如下：[Creating a Facebook Like Button in Flash Professional for Adob​​e AIR](http://www.flashfood.net/index.php/2011/10/creating-a-facebook-like-button-in-flash-professional-for-adobe-air-1of2/)。

此外，当通过 facebook 发布/共享某些内容时，他们的系统会删除 url（除非他们有缓存版本），因此图像、标题、描述等也可以来自该页面中的[Open Graph](http://developers.facebook.com/docs/opengraph/)标签。

# windows-7 - 无法在 Windows 7 64 位中写入 INI 文件

> ID：10223776
> 
> 赞同：-1
> 
> 时间：2012-04-19T07:50:57.487
> 
> 标签：windows-7, ini

我有一个小程序，它每秒都在更新数据，就像安装在我的 Windows 7 64 位 PC 上的指导软件一样。问题是我在其他 PC 和不同的操作系统（如 Mac、Windows XP 和 Vista）上尝试过，一切都很好。当我在我的新机器“Windows 7 64-bit”上使用它时出现问题，并给出错误：

> ** 无法写入 file.ini **

我在同一台 PC 上安装了 BitDefender，但不确定是 BitDefender 是阻止文件写入的那个还是 Windows 本身导致的...

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:01:40.107

尝试使用管理权限启动您的应用程序。如果您没有所需的权限，则无法在 C:\ 上创建文件。尝试更改 UAC 设置或将文件写入另一个目录（也不是“程序文件”、“Windows”...系统文件夹）

# qt - QProcess 的标准输出远非实时

> ID：10223777
> 
> 赞同：2
> 
> 时间：2012-04-19T07:51:02.997
> 
> 标签：qt, stdout

我想将标准输出从 QProcess 获取到 QTextEdit 中。如果我这样做，它会起作用：

```
QObject::connect(process, SIGNAL(readyReadStandardOutput()),
                 this, SLOT(readStdOutput())); 
```

和

```
void myClass::readStdOutput()
{
  teOutput->insertPlainText(process->readAllStandardOutput());
} 
```

虽然子程序不断打印到标准输出（在终端中测试），但 QTextEdit 仅每隔几秒钟更新一次，并带有输出块。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:00:23.443

从[`QIODevice`](http://qt-project.org/doc/qt-4.8/qiodevice.html)手册：

> QIODevice 的某些子类，例如 QTcpSocket 和 QProcess，是异步的。这意味着诸如 write() 或 read() 之类的 I/O 函数总是立即返回，而当控制返回事件循环时，可能会发生与设备本身的通信。QIODevice 提供的功能允许您强制立即执行这些操作，同时阻塞调用线程并且不进入事件循环。

要尝试的另一件事是禁用任何缓冲区，手册没有提到 QProcess，但您可以尝试一下：

> 一些子类，例如 QFile 和 QTcpSocket，是使用内存缓冲区实现的，用于中间存储数据。这减少了所需的设备访问调用的数量，这些调用通常非常慢。
> 
> ...
> 
> QIODevice 允许您通过将 Unbuffered 标志传递给 open() 来绕过任何缓冲。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-08T15:51:25.723

调用 waitForReadyRead() 似乎会触发更新。

因此，要更新例如每秒 10 次，之后

```
QObject::connect(process, SIGNAL(readyReadStandardOutput()),
             this, SLOT(readStdOutput())); 
```

添加一个

```
QTimer *timer = new QTimer(this);
connect(timer, SIGNAL(timeout()), this, SLOT(executeWaitForReadyRead()));
timer->start(100); 
```

和

```
void YourClass::executeWaitForReadyRead()
{
    process->waitForReadyRead();
} 
```

# optimization - 成本优化计划

> ID：10223778
> 
> 赞同：1
> 
> 时间：2012-04-19T07:51:05.423
> 
> 标签：optimization, mathematical-optimization, discrete-mathematics

这是我为我的一个 CS 课设置的问题，我有点卡住了。这是问题的摘要。

```
Create a program that will:
1) take a list of grocery stores and its available items and prices
2) take a list of required items that you need to buy
3) output a supermarket where you can get all your items with the cheapest price

input: supermarkets.list, [tomato, orange, turnip]
output: supermarket_1

The list looks something like
supermarket_1
$2.00 tomato
$3.00 orange
$4.00 tomato, orange, turnip

supermarket_2
$3.00 tomato
$2.00 orange
$3.00 turnip
$15.00 tomato, orange, turnip

If we want to buy tomato and orange, then the optimal solution would be buying 
from supermarket_1 $4.00\. Note that it is possible for an item to be bough 
twice. So if wanted to buy 2 tomatoes, buying from supermarket_1 would be the 
optimal solution. 
```

到目前为止，我已经能够将数据集放入一个数据结构中，希望能让我轻松地对其进行操作。我基本上有一个超市字典，该值将指向另一个字典，其中包含从每个条目到其价格的映射。

```
supermarket_1 --> [turnip --> $2.00]
                  [orange --> $1.50] 
```

一种方法是使用蛮力，获取所有组合并找到满足解决方案的任何一个并找到最小的那个。到目前为止，这是我能想到的。**没有假设两种物品组合的价格会低于单独购买的价格。**

欢迎任何建议提示

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T05:32:16.703

寻找特定超市的最优解是[集合覆盖问题](http://en.wikipedia.org/wiki/Set_cover_problem)的推广，它是 NP 完全的。减少如下：给定一个集合覆盖问题的实例，只需定义一个成本函数，将 1 分配给每个组合，应用解决您的问题的算法，您就可以获得集合覆盖实例的最优解。（因此找到最小价格对应于找到最小覆盖集数量。）因此，您的问题是[NP-hard](http://en.wikipedia.org/wiki/NP-hard)，并且您不能期望找到在多项式时间内运行的解决方案。

你真的应该实现你提到的蛮力方法。作为第一步，我也建议您这样做。如果性能不够，您可以尝试使用 MIP 公式和 CPLEX 之类的求解器，或者您必须开发启发式方法。

对于单个超市来说，找到一个[混合整数程序（MIP）](http://en.wikipedia.org/wiki/Integer_linear_programming#Integer_unknowns)是相当简单的。让产品组合包含在解决方案中的频率、成本和产品组合中包含`x_i`产品的频率为整数。然后，您正在最小化`i``c_i``w_ij``j``i`

```
 sum_i x_i * c_i 
```

受条件如

```
 sum_i x_i * w_ij >= r_j, 
```

哪里`r_j`是需要产品的频率`j`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:15:13.757

好吧，你有一个方法，所以现在实现它，这样你就有了可以提交的东西。蛮力解决方案应该不会花很长时间来编写代码，然后您可以获得一些性能数据，您可以更深入地考虑问题。估计大城市合理购物范围内的超市数量。创建这么多超市记录并将它们链接到具有随机价格的产品表（这比解决方案更多工作）。

运行你的蛮力解决方案。它有效吗？如果它输出一个解决方案，“手动”将价格相加，并将它们与随机获取的其他三个“超市”记录（只需选择一个数字）列出，显示总数小于或等于。修改你清单上某件商品的价格，让解决方案不再便宜，重新运行，让你得到不同的解决方案。

是否如此之快以至于没有进一步的工作是合理的？如果是这样，请在报告的结论部分说明，并将批次发布给您的教授/助教。您了解了任务，考虑了它，提出了解决方案，实施了它，使用具有代表性的数据集对其进行了测试，从而证明了功能是可证明的并且性能是足够的 - 您的任务已经结束，去酒吧，考虑下一个一杯啤酒。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T10:32:06.740

我不确定您所说的“蛮力”解决方案是什么意思。为什么不直接计算每个超市的物品清单的成本，然后选择最小值？复杂性在 O(#items x #supermarkets) 中，这很好。

关于您的数据结构，您也可以简单地拥有一个矩阵（二维数组）price[super][item]，并为您的超市/商品使用 id。

# c# - 使用 Oledb 导出到没有标题 c# 的 excel 文件

> ID：10223784
> 
> 赞同：5
> 
> 时间：2012-04-19T07:51:30.563
> 
> 标签：c#, oledb, oledbconnection, oledbcommand

我正在使用 OleDB，我想将我的对象导出到 excel 表中。工作表中的每一行都是我的对象之一。问题是当工作表中没有列标题时，我不知道如何插入数据。

这个：

```
commandString = "Insert into [Sheet1$] values('test1', 'test2')" 
```

抛出此异常：

```
Number of query values and destination fields are not the same. 
```

我的连接字符串是：

```
"Provider=Microsoft.Jet.OLEDB.4.0;Data Source="+filename+";Extended Properties='Excel 8.0;HDR=No'" 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-19T08:19:04.633

如果连接字符串包含 HDR=NO，则 Jet OLE DB 提供程序会自动为您命名字段（F1 表示第一个字段，F2 表示第二个字段，依此类推）。我将尝试以这种方式更改您的查询

```
commandString = "Insert into [Sheet1$] (F1, F2) values('test1', 'test2')" 
```

这仅在您创建了 excel 文件并在 Sheet1 的第一行的前两个单元格中插入了一些内容后才有效

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:12:41.673

您需要指定要写入*的*值，因为您不使用 HDR - 只需使用单元格。错误“查询值的数量”仅意味着 - 没有为提供的值分配字段。

更新：@Steve 使用字段（F1、F2 等）是正确的，下面的代码在这里可以工作：

```
 OleDbConnection Cn = new OleDbConnection(String.Format("Provider=Microsoft.Jet.OLEDB.4.0;Data Source={0};Extended Properties=\"Excel 8.0;HDR=No\"", @"D:\test.xls"));
    Cn.Open();
    OleDbCommand Com = new OleDbCommand("INSERT INTO [Sheet1$](F1,F2) VALUES('test3','test4');", Cn);
    Com.ExecuteNonQuery();
    Cn.Close(); 
```

# java - Javaee mbean 与单例

> ID：10223786
> 
> 赞同：0
> 
> 时间：2012-04-19T07:51:32.130
> 
> 标签：java, jakarta-ee, sentiment-analysis

我创建了一个 javaee 应用程序，其中必须使用朴素贝叶斯执行情感分析。为了让情感算法发挥作用，我们必须先对其进行训练，所以我想创建一个对象来在服务器启动时处理训练，以避免一遍又一遍地训练。我想过使用单例 ejb 来做到这一点，但我不知道这是否是正确的方法，还有一位朋友建议使用托管 bean。这些方法对我的问题有什么优缺点？我是在寻找正确的方向还是只是在错误的树上吠叫？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T19:50:54.730

MBean 非常适合在运行时修改应用程序的状态。如果您想在运行时更改算法的训练并使用 MBean，那么在启动时使用它们进行初始化也是有意义的。

此外，我建议在包含您的算法的类的设计中，将您在训练期间计算的系数外部化。然后，您可以保留这些系数，而不必重新运行训练。启动时，您的应用程序将从持久性中加载系数。

将可加载系数与 MBean 相结合，您可以使用后者在运行时检索或重新加载系数集。您需要确保重新加载它们是原子的。这将使您能够在运行中任意调整您的分析。

# android - Android在imageview中对齐顶部位图

> ID：10223787
> 
> 赞同：4
> 
> 时间：2012-04-19T07:51:34.227
> 
> 标签：android, android-imageview

无论如何，我可以在`ImageView`. 我的图像视图有问题。我正在通过 Java 代码设置它的源，在调整位图大小后，它的中心是`ImageView`，但我想要的是对齐位图。

声明 imageView ：

```
 <RelativeLayout
    android:id="@+id/collection_background"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_below="@+id/actionbar" > 

     <ImageView  
        android:id="@+id/collection_image_background"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:background="#ffffff"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:contentDescription="@string/stampii"  />

    // countinue ........ 
```

这是我设置位图的方式：

```
BitmapFactory.Options o2 = new BitmapFactory.Options();
    o2.inTempStorage = new byte[8*1024];

    ops = BitmapFactory.decodeStream(cis,null,o2);
    ImageView view = (ImageView) findViewById (R.id.collection_image_background);        
    view.setImageBitmap(ops); 
```

任何想法如何做到这一点？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-11-18T07:41:06.583

添加`android:scaleType="fitStart"`到您的**ImageView**。对我来说没问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:03:49.913

您可以使用[`setLayoutParams`](http://developer.android.com/reference/android/view/View.html#setLayoutParams(android.view.ViewGroup.LayoutParams))，如[this answer](https://stackoverflow.com/a/4819982/67063)所示。

**编辑**

您的问题是您已将视图指定为与其父级一样宽，而加载的位图可能要薄得多。

尝试通过使用此属性来使视图仅根据需要宽：

```
android:layout_width="wrap_content" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T08:07:29.080

您可以使用 android:scaleType 更改 ImageView 中的对齐方式。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-19T09:36:39.420

实际上，您可以根据屏幕大小缩放位图并将其设置为`ImageView`. 你可以使用这样的东西：

```
int screenWidth = getWindow().getWindowManager().getDefaultDisplay().getWidth();
    Log.e("","screen width : "+screenWidth);
    //int screenHeight = getWindow().getWindowManager().getDefaultDisplay().getHeight();

    int width = ops.getWidth();
    Log.e("","bitmap width : "+width);
    int height = ops.getHeight();
    Log.e("","bitmap height : "+height);

    float scale = 0;
    if(width>height){
        scale = (float) width / (float) height;
    } else if(height>width){
        scale = (float) height / (float) width;
    }
    Log.e("","scale : "+scale);

    float newWidth = (float) screenWidth * scale;

    Log.d("","new height : "+newWidth);

    Bitmap scaledBitmap = Bitmap.createScaledBitmap(ops, screenWidth, (int) newWidth, true);
    Log.e("","new bitmap width : "+scaledBitmap.getWidth());
    Log.e("","new bitmap height : "+scaledBitmap.getHeight());

    RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(screenWidth, (int)newWidth);
    params.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);
    view.setLayoutParams(params);
    view.setImageBitmap(scaledBitmap); 
```

试试这个，如果它工作正常就打我。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-09-15T14:52:39.223

除了上面的答案，您可以使用以下方式以编程方式设置它`scaleType`：

```
image.scaleType = ImageView.ScaleType.FIT_START 
```

# c# - 我的代码如何找到它是否在 IIS 中运行？

> ID：10223799
> 
> 赞同：15
> 
> 时间：2012-04-19T07:52:12.823
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, iis

我的 C# 代码可能在 IIS（当前为 7.5，但我不想依赖特定版本）或其他地方的 MVC3 应用程序中运行。

看起来知道代码在 IIS 下运行的一种方法是[检查当前进程名称](https://stackoverflow.com/a/9578461/57428)，但这种方法取决于硬编码文件名字符串。

是否有一些编程方式来检测我的代码是否在 IIS 下运行，而不取决于 IIS 版本？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-04-19T08:08:48.677

查看[HostingEnvironment](http://msdn.microsoft.com/en-us/library/system.web.hosting.hostingenvironment.aspx)类，尤其是[IsHosted](http://msdn.microsoft.com/en-us/library/system.web.hosting.hostingenvironment.ishosted.aspx)方法。

这将告诉您是否托管在[ApplicationManager](http://msdn.microsoft.com/en-us/library/system.web.hosting.applicationmanager.aspx)中，这将告诉您是否托管在 ASP.NET 中。

严格来说，它不会告诉您您在 IIS 下运行，但我认为这实际上更好地满足了您的需求。

示例代码：

```
// Returns the file-system path for a given path.
public static string GetMappedPath(string path)
{
    if (HostingEnvironment.IsHosted)
    {
        if (!Path.IsPathRooted(path))
        {
            // We are about to call MapPath, so need to ensure that 
            // we do not pass an absolute path.
            // 
            // We use HostingEnvironment.MapPath, rather than 
            // Server.MapPath, to allow this method to be used
            // in application startup. Server.MapPath calls 
            // HostingEnvironment.MapPath internally.
            return HostingEnvironment.MapPath(path);
        }
        else {
            return path;
        }
    }
    else 
    {
        throw new ApplicationException (
                "I'm not in an ASP.NET hosted environment :-(");
    }
} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-04-19T08:00:08.560

看看[ServiceController](http://msdn.microsoft.com/fr-fr/library/system.serviceprocess.servicecontroller.aspx)类。服务名称仍将是硬编码的，但服务名称更改的可能性相对较低。

您还可以使用`netstat -ab`来找出端口 80 上正在运行的内容。

# html - 带有边框和一些填充的 Css 圆形图像

> ID：10223801
> 
> 赞同：1
> 
> 时间：2012-04-19T07:52:21.380
> 
> 标签：html, css

![在此处输入图像描述](../Images/b9fe761fb7475fec738416649a9793f7.png)

希望这张图片能说明一切……！！！需要在 html + css 中执行此操作。注意：我想要图像内的边框。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-19T08:02:01.273

CSS：

```
#border {
    border:3px dashed white;
    border-radius:100px;
    width:184px;
    height:184px;
    position:relative;
    left:5px;
    top:5px;
}

#image {
    background-image:url(table.jpg);
    width:200px;
    height:200px;
    border-radius:100px;
}​ 
```

HTML：

```
<div id="image">
    <div id="border"></div>
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

根据需要调整宽度和高度。

演示：http: [//jsfiddle.net/yGcFx/](http://jsfiddle.net/yGcFx/)

# caching - 无需每次重新加载表单服务即可加载表单

> ID：10223804
> 
> 赞同：2
> 
> 时间：2012-04-19T07:52:31.603
> 
> 标签：caching, applet, jvm, oracle-apex, oracleforms

我们正在将我们的**Oracle Forms 10g**应用程序迁移到**APEX 4.1**。

我们需要在 APEX 中包含一些表单。

我们有一个`call_form`从 APEX 区域调用的 PL/SQL 函数（见下文），它只是编写小程序来加载表单，将表单名称作为参数传递。

它可以工作，但**它总是重新加载表单服务**，每次大约需要**10 秒**，Oracle 应用服务器表单服务徽标每次都会出现：

![](../Images/5e5811084be2aa4416e2e7ca1f1ca1b9.png)

对用户来说真的很痛苦……

我认为是因为它每次都重新加载jar文件，所以我在编写applet（*cache_option*，*cache_archive*，...）时尝试使用**缓存选项来缓存****JVM**中的文件，但没有成功。

 ****我每次都没有收到**小程序安全警告，在****java 缓存查看器**中我可以看到 4 个 jar 文件*frmall.jar*、*frmwebutil.jar*、*FDialogPJC.jar*和*jacob.jar*。

这是调用表单时**Java控制台的内容**，然后重新加载页面，它似乎加载了**webutil** 2次：

```
 RegisterWebUtil - Loading WebUtil Version 10.1.2.3
 proxyHost=null
 proxyPort=0
 connectMode=HTTP, native.
 Forms Applet version is : 10.1.2.3
 RegisterWebUtil - Loading WebUtil Version 10.1.2.3
 proxyHost=null
 proxyPort=0
 connectMode=HTTP, native.
 Forms Applet version is : 10.1.2.3 
```

**我的 JVM 是 1.6.0_31**。

`call_form`程序：

```
 procedure call_form(in_form_name in varchar2) is
 begin
   htp.p(' 
 <object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" codebase="http://javadl-esd.sun.com/update/1.6.0/jinstall-6-windows-i586.cab" width="0" height="0" hspace="0" vspace="0">
   <param name="type" value="application/x-java-applet">
   <param name="codebase" value="http://myhost.ch/forms/java">
   <param name="code" value="oracle.forms.webutil.common.RegisterWebUtil">
   <param name="cache_option" value="Plugin">
   <param name="cache_archive" value="frmwebutil.jar,jacob.jar">
   <param name="cache_version" value="">
   <comment>
     <embed src="" pluginspage="https://java.sun.com/javase/downloads/index.jsp"
       type="application/x-java-applet"
       java_codebase="http://myhost.ch/forms/java"
       java_code="oracle.forms.webutil.common.RegisterWebUtil"
       cache_option="Plugin"
       cache_archive="frmwebutil.jar,jacob.jar"
       cache_version=""
       width="0"
       height="0"
       hspace="0"
       vspace="0">
     </embed>
     <noembed>Registration applet definition</noembed>
   </comment>
 </object>

 <object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" codebase="http://javadl-esd.sun.com/update/1.6.0/jinstall-6-windows-i586.cab" width="1015" height="745" hspace="0" vspace="0">
   <param name="type" value="application/x-java-applet">
   <param name="codebase" value="http://myhost.ch/forms/java">
   <param name="code" value="oracle.forms.engine.Main">
   <param name="cache_option" value="Plugin">
   <param name="cache_archive" value="frmall.jar,FDialogPJC.jar,frmwebutil.jar,jacob.jar">
   <param name="cache_version" value=""> 
   <param name="serverURL" value="http://myhost.ch/forms/lservlet?ifcfs=http://myhost.ch/forms/frmservlet?config=myconfig&#38;form='||in_form_name||'.fmx&#38;acceptLanguage=fr">
   <param name="networkRetries" value="0">
   <param name="serverArgs" value="escapeParams=true module='||in_form_name||'.fmx userid= sso_userid=%20 sso_formsid=%25OID_FORMSID%25 sso_subDN= sso_usrDN= debug=no host= port= buffer_records=no debug_messages=no array=no obr=no query_only=no quiet=yes render=no record= tracegroup= log= term=">
   <param name="separateFrame" value="False">
   <param name="splashScreen" value="">
   <param name="background" value="">
   <param name="lookAndFeel" value="Oracle">
   <param name="colorScheme" value="teal">
   <param name="serverApp" value="default">
   <param name="logo" value="">
   <param name="imageBase" value="DocumentBase">
   <param name="formsMessageListener" value="">
   <param name="recordFileName" value="">
   <param name="EndUserMonitoringEnabled" value="">
   <param name="EndUserMonitoringURL" value="">
   <param name="heartBeat" value="">
   <param name="WebUtilLogging" value="off">
   <param name="WebUtilLoggingDetail" value="normal">
   <param name="WebUtilErrorMode" value="Alert">
   <param name="WebUtilDispatchMonitorInterval" value="5">
   <param name="WebUtilTrustInternal" value="true">
   <param name="WebUtilMaxTransferSize" value="16384">
   <comment>
     <embed src="" pluginspage="https://java.sun.com/javase/downloads/index.jsp"
       type="application/x-java-applet"
       java_codebase="http://myhost.ch/forms/java"
       java_code="oracle.forms.engine.Main"
       cache_option="Plugin"
       cache_archive="frmall.jar,FDialogPJC.jar,frmwebutil.jar,jacob.jar"
       cache_version=""
       width="1015"
       height="745"
       hspace="0"
       vspace=""
       serverURL="http://myhost.ch/forms/lservlet?ifcfs=http://myhost.ch/forms/frmservlet?config=myconfig&#38;form='||in_form_name||'.fmx&#38;acceptLanguage=fr"
       networkRetries="0"
       serverArgs="escapeParams=true module='||in_form_name||'.fmx userid= sso_userid=%20 sso_formsid=%25OID_FORMSID%25 sso_subDN= sso_usrDN= debug=no host= port= buffer_records=no debug_messages=no array=no obr=no query_only=no quiet=yes render=no record= tracegroup= log= term="
       separateFrame="False"
       splashScreen=""
       background=""
       lookAndFeel="Oracle"
       colorScheme="teal"
       serverApp="default"
       logo=""
       imageBase="DocumentBase"
       recordFileName=""
       EndUserMonitoringEnabled=""
       EndUserMonitoringURL=""
       heartBeat=""
       WebUtilLogging="off"
       WebUtilLoggingDetail="normal"
       WebUtilErrormode="Alert"
       WebUtilDispatchMonitorInterval="5"
       WebUtilTrustInternal="true"
       WebUtilMaxTransferSize="16384">
     </embed>
     <noembed>Forms applet definition</noembed>
   </comment>
 </object>
 ');
 end; 
```

您对**我如何防止这种**情况有任何想法吗？还是您认为有更好的方法将 Oracle Forms 包含到 APEX 中？

任何帮助将非常感激。

谢谢。****

# javascript - 在移动设备的 safari 中，不起作用，为什么？

> ID：10223809
> 
> 赞同：8
> 
> 时间：2012-04-19T07:52:53.400
> 
> 标签：javascript, ipad, safari, onclick, preventdefault

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-24T15:50:35.343

我有同样的问题。事实证明，这是 iOS 5 版本的 Safari 中的一个 bug。不会在新旧版本或任何其他浏览器或平台中发生。

`preventDefault`除了现有的之外，我还通过添加到 onclick 事件处理程序来解决它`return false`，如下所示：

```
<a href="#" onclick="event.preventDefault(); return false;">click me</a> 
```

不理想，但它确实解决了问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T10:11:44.860

我只是有点同样的问题，我的链接在我朋友的 iPhone 上不能正常工作。我从我的中删除了 `href="#"`按钮，按钮工作得很好，除了我的按钮设置与 JavaScript 有点不同。

我设置它的方式是这样的

```
$(document).ready(function () {
    var buttons=$('#button01,#button02,#button03,#button04,#button05');

buttons.click(function(){
        $(this).removeClass('off-class').addClass('on-class');
        buttons.not(this).removeClass('on-class').addClass('off-class');

}) 
```

然后我触发我想要弹出的帧

```
if ($('#button01').hasClass('on-class')){
                $('#frame01').removeClass('hidden');
$('#frame02,#frame03,#frame04,#frame05').addClass('hidden');
                }else{
                    $('#frame01').addClass('hidden'); 
```

我不知道您是如何设置的，但是`href="#"`使用此设置删除它对我有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-19T09:55:28.787

似乎很棘手。我用这段代码测试过：

```
<body>
Hallo
<br>
<div style="height:2000px; width:100px"></div>
<br />    
<a href="#" onclick="alert('click');return false;" 
            onmousedown="alert('down');return false;"
            onmouseup="alert('up');return false;"
            onmouseover="alert('over');return false;"
            onmouseout="alert('out');return false;">

click me</a>
</body> 
```

发生的情况是，当我在 iPhone 上刷新页面并第一次点击时，我得到：

1.  超过
2.  下
3.  向上
4.  点击
5.  向上滑动

每次点击我都会：

1.  下
2.  向上
3.  点击
4.  **没有**向上滚动

有趣的是，这仅在代码包含警报时才有效。如果代码中没有警报，则每次点击时都会向上滚动......

当然，移动 safari 中的 href 有一些魔力，当您按住链接（不抬起手指）时，您可以看到：操作表出现（“复制”、“打开”、“在...中打开”等。 )**在**其中一个事件被触发之前。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-15T12:01:03.493

我实际上尝试过

```
<a href="javascript:void(0)" onclick="return false">click me</a> 
```

它运作良好

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-28T13:51:20.657

Basically, I went with a similar solution, but backed up a bit more with some conditional checking ... this is jQuery based and used for login in Sitefinity.

```
 if ($.browser.safari) {
    $('.sfSubmitBtn').attr('onclick', 'event.preventDefault(); return false;');
  } 
```

I did find that using the event.preventDefault() *caused* a similar issues to begin occurring in some versions of IE.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-19T07:55:54.227

为什么不？我认为，您必须调用一个函数，而不仅仅是返回 false ...

```
<a href="#" onclick="javascript:myFunction()" id="test_a">click me</a>

function myFunction() {
  var elem = document.getElementById('test_a');
  if (elem.addEventListener) {
      elem.addEventListener('click', function() {
          alert('clicked');
      }, false);
  } else {
      elem.attachEvent('onclick', function() {
          alert('clicked');
      });
  }

  return false;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-24T18:18:02.270

首先，试试这个：

```
<a href="#" id='test'>click me</a> 
```

在js中：

```
$('a#test').click(function(event){
    event.preventDefault();
}); 
```

其次（如果第一个变体不起作用）：

```
<a href="#" id='test' onclick='return DummyFunction();'>click me</a> 
```

在js中：

```
function DummyFunction(){
    return false;
} 
```

据我记得，当我遇到这些变体之一时，它解决了同样的问题。

第一个变体要好得多，因为你不混合 html 和 javascript

# c++ - 使用流插入操作符读取文件

> ID：10223810
> 
> 赞同：0
> 
> 时间：2012-04-19T07:52:53.957
> 
> 标签：c++, file-io

我碰巧遇到了一个从文件中读取文本的代码示例，如下所示：

```
int i; 
char *fileName = "text.txt"; 
ifstream fin(fileName); 

while (fin >> i)
{
do something;
} 
```

此代码实际上打开并读取以空格分隔的文本，但我不明白它是如何工作的。如果没有“打开”或“读取”命令，文件如何打开？有没有办法倒回文件的开头？我正在尝试创建一个动态分配的数组，直到我通过文件计算分数后我才知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T07:56:55.393

> 如果没有“打开”或“读取”命令，文件如何打开？

构造[`ifstream`](http://en.cppreference.com/w/cpp/io/basic_ifstream/basic_ifstream)函数将打开文件。

> 有没有办法倒回文件的开头？

使用[`seekg()`](http://en.cppreference.com/w/cpp/io/basic_istream/seekg). 如果已达到 EOF，那么您需要在调用[`clear()`](http://en.cppreference.com/w/cpp/io/basic_ios/clear)之前先调用`seekg()`。

> 我正在尝试创建一个动态分配的数组

如果允许，您可以使用`std::vector`来存储读取的文本，从而避免读取文件内容两次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:13:26.603

该文件由`std::ifstream`类的构造函数打开。

您可以使用`fin.seekg(std::ios::beg);`来回退文件，但最好使用 a`std::vector`或`std::list`where 您可以使用`push_back()`来推送新元素，而无需提前知道元素的数量。

但是，由于作业显然明确要求您使用手动分配的数组和指针，因此可以使用以下方法：

```
#include <fstream>
#include <iostream>
#include <iterator>

int main()
{
  std::ifstream fin("text.txt");
  size_t n = 0;
  int i;
  for (; fin >> i; ++n);
  fin.clear();
  fin.seekg(0, std::ios::beg);
  int *scores = new int[n];
  std::istream_iterator<int> first(fin), last;
  std::copy(first, last, scores);

  std::copy(scores, scores+n, std::ostream_iterator<int>(std::cout, " "));
  std::cout << "\n";
  delete[] scores;
} 
```

# c# - 在 ASP.Net 网络表单中下载图像时显示进度条

> ID：10223811
> 
> 赞同：1
> 
> 时间：2012-04-19T07:52:55.410
> 
> 标签：c#, jquery, asp.net, progress-bar, webforms

我正在一个网站上工作，该网站在主页和文章列表页面上有文章部分并显示所有文章的图像。其中一些图片以 png 格式上传，大小超过 11KB。

假设我在 20 张图片的页面上显示 20 篇文章。有时图像需要时间来下载。我想为将要下载的每个图像显示进度条。我在网上找过它，但我找不到合适的东西。

如果有人能指出我正确的方向，我将不胜感激。

我正在用 ASP.Net 4.0、C# 开发这个网站。我正在使用简单的 ASP.Net 图像控件来显示图像现在我想与一些 jQuery 函数集成，以便它会显示某种 Loading... 效果直到图像被实际下载

类似于[http://rascals.eu/templates/rt0802/portfolios/portfolio-2-columns/](http://rascals.eu/templates/rt0802/portfolios/portfolio-2-columns/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:06:47.713

您可以在 div 或 span 标签中放置加载，并在需要显示时显示或隐藏。如果你想最初显示它，只需`jQuery .hide()`在 jQuery on ready 函数中的 div 或 span 上放置一个函数。

请参阅**jQuery**`show()`文档和`hide()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:32:53.347

我找到了使用 CSS 的简单解决方案

```
.ImageClass
{
      display: block;
      background-image: url('../images/loading-circle.gif');
      background-position: center center;
      background-repeat:no-repeat;
} 
```

像魅力一样工作..我很欣赏其他也可能有用的答案

# c# - ASP.NET Web 项目 (C#) 是否有按需编译选项？

> ID：10223827
> 
> 赞同：1
> 
> 时间：2012-04-19T07:54:35.413
> 
> 标签：c#, asp.net, compiler-construction, web-project

我刚开始使用已从 VB.NET 网站转换为 C# Web 项目的 ASP.NET 应用程序，我发现使用 C# 的开发时间比 VB.NET 长得多。

当我在 C# 代码隐藏文件中编辑简单的代码行时，我必须手动重新编译整个站点才能看到更改的结果。在网站中，我可以编辑一个代码隐藏文件，然后在浏览器中执行它以查看更改的结果，而无需进行编译（或者，右键单击并选择编译页面）。

我的问题是，是否有一个选项可以只编译一页？如果没有，是否可以做一些事情（除了获得更多硬件或将项目转换回网站）以加快开发/调试过程？

**澄清**

在 ASP.NET (VB) 网站项目中，我可以在代码隐藏中进行编辑，单击保存按钮，然后打开浏览器并导航到页面以立即查看更改（或至少在 5 秒内）。在 ASP.NET (C#) 的 Web 应用程序项目中，我发现我必须编译整个网站才能在浏览器中查看实时更改（这个过程需要 2 分钟以上）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:35:06.477

您的 .aspx 和 .ascx 应该通过 CodeFile 而不是 CodeBehind 引用它们的 codehind 文件。然后代码隐藏将按需编译。

```
<%@ Page Language="C#" AutoEventWireup="true" EnableViewState="true" CodeFile="myPage.aspx.cs" Inherits="myPage" %> 
```

代替

```
<%@ Page Language="C#" AutoEventWireup="true" EnableViewState="true" CodeBehind="myPage.aspx.cs" Inherits="myPage" %> 
```

虽然有一些缺点：

*   CodeBehind 页面不能使用 CodeFile 控件（但 codefile 页面可以使用任何类型的控件）
*   引用代码文件控件有点复杂
*   您将失去与 .designer.cs 的同步，并且必须重新切换到代码隐藏一秒钟才能重新同步。

从长远来看，CodeFile 将为您节省大量时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T07:58:48.297

您可以随时按 构建您的解决方案`Ctrl + Shift + B`。

右键单击`Exclude`您不想包含的任何项目/文件夹/文件。

**编辑**：必须完整构建 Web 应用程序项目，但 Visual Studio 仅构建那些已更改的文件，因此这对您来说应该不会太慢。

在***网站***项目中，Visual Studio 默认在您运行或调试任何页面时完全编译网站项目 -**但是**- 您可以更改构建项目选项以仅在运行或调试时编译当前页面。

![在此处输入图像描述](../Images/a535dc02e30dbebab0fb5912bd447683.png)

# android - 如何选择什么视图将在android的顶部

> ID：10223832
> 
> 赞同：2
> 
> 时间：2012-04-19T07:55:07.093
> 
> 标签：android, android-linearlayout, android-inflate

我正在尝试在另一个视图之上添加一个视图。

首先，我通过 xml 设置视图，然后我想以编程方式添加第二个视图。public void onCreate(Bundle savedInstanceState)

```
{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  LinearLayout ll = (LinearLayout) findViewById(R.id.layout);
  drawView = new DrawView(this);
  drawView.setBackgroundColor(Color.TRANSPARENT);
  Bitmap bitmap = Bitmap.createBitmap(10, 100, Bitmap.Config.ARGB_8888);
  Canvas canvas = new Canvas(bitmap);
  drawView.draw(canvas);
  drawView.setLayoutParams(new LayoutParams(800, 0, 0.18f));
  LinearLayout.LayoutParams params = (LinearLayout.LayoutParams)drawView.getLayoutParams();
  params.setMargins(0, 0, 0, -130);
  drawView.setLayoutParams(params);
  ll.addView(drawView, 2); 
```

}

我的问题是 xml 位于我要添加的视图之上。

我怎样才能使第二个视图在顶部？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T07:58:24.473

`LinearLayout`是一种布局，将其子级一个接一个地垂直或水平排列。如果您想将视图堆叠在另一个之上，请使用允许这样做的布局，例如 a `RelativeLayout`，而不是`LinearLayout`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:02:27.007

如果您想将视图堆叠在一起，您应该使用相对布局。因此，在您的情况下，将“布局”替换为相对布局，在 Java 代码中您可以执行以下操作。

```
 RelativeLayout.LayoutParams baseLayoutParam = new RelativeLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
    baseLayout.setLayoutParams(baseLayoutParam);
    DrawView drawView = new DrawView(context);
    RelativeLayout.LayoutParams rLayoutParams = new RelativeLayout.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT, (int) (250 * Utility.getDip(context)));
    rLayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT); // Adjust accordingly to your requirement
    drawView.setLayoutParams(rLayoutParams);ll.addView(drawView); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T07:58:19.853

您可以调用视图的[`bringToFront`](http://developer.android.com/reference/android/view/View.html#bringToFront())方法：

```
drawView.bringToFront(); 
```

# c# - += 反射器中的运算符？

> ID：10223836
> 
> 赞同：3
> 
> 时间：2012-04-19T07:55:33.973
> 
> 标签：c#, .net-4.0, reflector

我试图找到`+=`in`reflector`以了解它们是如何实现的：

`a=+1`对比`a=a+1`

但我找不到它。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T07:58:34.677

如果您指的是`+=`for`int`和其他内置数字类型：将不会有库函数可供查看。编译器可以将它们直接翻译成 IL 指令。

你可以试试这个`DateTime`结构，也许`Decimal`也可以。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-19T08:01:06.453

该运算符在任何地方都没有实现`+=`，它是一个由编译器处理的伪运算符。C# 编译器扩展`a += 1`为`a = a + 1`.

然后，JIT 编译器创建最有效的代码来执行`a = a + 1`. 如果它是一个简单的变量，它将只是一个增加值的指令。

# bash - 输出重定向创建文件“0”

> ID：10223844
> 
> 赞同：1
> 
> 时间：2012-04-19T07:56:02.097
> 
> 标签：bash, redirect, ls

我正在制作一个带有通配符的 ls 来检查返回码，以确定通配符是否与文件匹配。虽然这很好用，但它总是创建一个文件大小为 0 的文件 0。有人知道为什么吗？

```
$SSTDIR=/tmp/test
$SSTFILE=test

ls -1 $SSTDIR/$SSTFILE* &> /dev/null
if [ $? = 0 ]; then
    exit 2
fi 
```

任何帮助，将不胜感激 ：）

编辑：

```
# Anzahl Parameter überprüfen
if [ ${#} == "6" ]; then
    SST=$1
    IN=$2
    INFILE=$3
    SSTDIR=$4
    SSTFILE=$5
    SORT=$6
else
    echo "Verwendung: $0 \"SST Name\" \"Inbound Verzeichnis ohne /\" \"Name der eingehenden Datei\" \"Outbound Verzeichnis ohne /\" \"Name der ausgehenden Datei\" \"Stelle ab der sortiert wird\""
    exit 3 # Falsche Anzahl Parameter
fi

# Überprüfe ob das eingehende RVS Verzeichnis nicht leer ist
ls -1 $IN/$INFILE* &> /dev/null
if [ $? > 0 ]; then
    exit 1 # Keine Dateien gefunden
fi

# Überprüfe ob das SST Verzeichnis bereits Dateien beinhaltet
ls -1 $SSTDIR/$SSTFILE* &> /dev/null
if [ $? = 0 ]; then
    exit 2 # Dateien existieren bereits im SST Verzeichnis
fi 
```

好吧，这就是一切，还有更多的向下，但这不会导致问题，因为我已经测试了退出点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:16:41.493

就是因为这个`$? > 0`！！这`> 0`是一个创建文件的重定向`0`！您应该知道，这`[ $? > 0 ]`不是 bash 语法功能！这是对名为 的程序的正常命令行调用`[`，它是`test`命令的链接。尝试：

```
$ which [
/usr/bin/[ 
```

所以你使用的“表达式”不是表达式，它是普通的 bash 命令（带有选项！）。因此，请使用`-gt`：

```
if [ $? -gt 0 ] ; then ... 
```

尝试`man test`查看所有可能的选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:10:17.167

尝试更改为：

```
if [[ $? -gt 0 ]]; then
    exit 1 # Keine Dateien gefunden
fi 
```

你应该`>`只使用字符串并且只在特殊结构中使用 -`((...))`和 `[[...]]``。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:09:11.167

```
ls -1 $IN/$INFILE* &> /dev/null
if [ $? > 0 ]; then
    exit 1 # Keine Dateien gefunden
fi 
```

注意`$? > 0`部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:09:17.993

我不能说这是否是你的问题，但我通常会写如下。

```
ls ... >/dev/null 2>&1 
```

# c++ - 如何绕过重载运算符以获取指向结构的指针？C++

> ID：10223845
> 
> 赞同：2
> 
> 时间：2012-04-19T07:56:10.420
> 
> 标签：c++, pointers, overloading, operator-keyword, priority-queue

我已经被这个问题困住了好几个小时，但我觉得有一个我没有看到的微不足道的解决方案。我正在尝试使用 priority_queue 创建指向我定义的结构的 MinHeap 指针。我的问题在于必须为指向该结构的指针重载 > 运算符（我知道这是不可能的）以匹配 priority_queue 模板。这是我在决定放弃它并编写自己的堆代码之前使用 stl priority_queue 的最后尝试。

我的代码的相关片段是：（i）部分结构定义：

```
typedef struct Node Node;
struct Node
{
    int frequency;
    bool operator>( const Node& other ) const{
        return frequency > other.frequency;
    }
}; 
```

(ii) 优先队列初始化：

```
priority_queue<Node*,vector<Node*>,greater<Node*> > q; 
```

以及 (iii) 构造初始堆的 for 循环（假设 int_array 已初始化）：

```
for (int i = 0; i < SIZEOFINTARRAY; i++)
{
    Node *n = new Node;
    n->frequency = int_array[i];
    q.push(n);
} 
```

目前，这个“堆”中的元素以先进先出的方式返回，并且没有排序发生。我认为这是因为优先级比较检查数组中较早的指针和元素位于内存中的较低位置。请给我有关如何完成此任务的任何提示。

PS。抱歉，如果这篇文章不符合 stackoverflow 标准（我尽力遵守规则，但这是我的第一篇文章）。我欢迎所有的批评，所以我再也不会犯同样的错误了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:10:30.080

一种通用的方法是实现一种`deref_greater`类似于`std::greater`但首先取消引用输入参数的方法。

```
template<class T>
struct deref_greater : public std::binary_function<T, T, bool>
{
  bool operator()( const T& _Left, const T& _Right ) const
  {
    return *_Left > *_Right;
  }
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:05:34.720

您可以为指针实现一个比较器，而不是重载`>`Node 类上的运算符：`Node*`

```
struct NodeGreater
{
    bool operator() ( const Node* lhs, const Node* rhs ) const
    {
        if ( lhs == 0 || rhs == 0 )
        {
            // Perhaps throw an exception here...
        }

        return lhs->frequency > rhs->frequency;
    }
};

priority_queue<Node*,vector<Node*>,NodeGreater> q; 
```

# qt - QML：如何处理鼠标悬停？

> ID：10223850
> 
> 赞同：17
> 
> 时间：2012-04-19T07:56:21.447
> 
> 标签：qt, qml, qt-quick

QML：如何处理 MouseArea 上的鼠标悬停事件？任何人都可以提供简单的例子或说出我的问题吗？

```
import QtQuick 1.1
Image {
    source: "quit.png"
    scale:  mouseArea.containsMouse ? 0.8 : 1.0
    smooth: quitMouse.containsMouse
    MouseArea {
        id: quitMouse
        anchors.fill: parent
        anchors.margins: -10
        onClicked: Qt.quit()
    }
} 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-04-19T08:04:21.800

```
import QtQuick 1.1
Image {
   source: "quit.png"
   scale:  mouseArea.containsMouse ? 0.8 : 1.0
   smooth: mouseArea.containsMouse
   MouseArea {
       id: mouseArea
       anchors.fill: parent
       anchors.margins: -10
       hoverEnabled: true         //this line will enable mouseArea.containsMouse
       onClicked: Qt.quit()
   }
} 
```

# web-services - rest、restful 和基于肥皂的 web 服务有什么区别？

> ID：10223851
> 
> 赞同：0
> 
> 时间：2012-04-19T07:56:29.137
> 
> 标签：web-services

rest、restful 和基于肥皂的 web 服务有什么区别？还有其他类型的网络服务吗？

请向我解释差异。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:28:39.593

REST 和 RESTful 之间的区别已经在[这里](https://stackoverflow.com/q/1568834/1124841)讨论过。

关于 SOAP 和 REST 之间的区别，如果你用谷歌搜索的话，有很多资源，如何给出一个相当简短的答案；

REST 专注于通过单一一致的接口访问命名资源，而 SOAP 主要是关于访问命名操作，每个操作都通过不同的接口实现一些业务逻辑。

SOAP 的主要有形区别在于它有自己的基于 XML 的信息集（协议），用于以标准方式承载应用程序级服务质量 (QoS) 实施等。SOAP Web 服务通常具有描述接口的 WSDL，并且是可发现的。在 REST 的情况下，大多数时候它利用传输级别的 QoS，如 TLS（最好的例子是使用 HTTPS 来实现安全性）等。

我确信有更深入的解释，但我试图对 SOAP 与 REST 进行简单的区分。

# c# - 将值计算为百分比，并根据该值计算其他值

> ID：10223852
> 
> 赞同：0
> 
> 时间：2012-04-19T07:56:29.437
> 
> 标签：c#, .net

我有几个日期时间的列表。DateTime 实际上是 HH:mm:ss 格式的字符串，我将其转换为 DateTime。

从这个列表中我检索到最大值（以分钟为单位）

我计算总分钟数如下：

```
//t is a DateTime
Double totalMin = TimeSpan.Parse(t.ToString()).TotalMinutes; 
```

最大值（以分钟为单位）应用作“100%”值。我已经计算了列表的最大值。

这意味着列表中的所有其他值（也以分钟为单位）将基于此值进行计算。换句话说，其他较低的值必须在这个最大值上进行缩放。

这将在条形图中使用。因此，最大值将占用最多的空间，然后是较低的值。

我到底该怎么做？

谢谢彼得P。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:00:22.843

您想知道如何计算百分比吗？将电流除以最大值并乘以 100。然后您可以根据需要格式化百分比（例如“20%”、“20.2%”……）。

```
Double max = 200d;
Double current = 23d;

Double percent = current / max * 100; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:11:01.953

时间跨度是在某个时间单位内，两个 DateTime 之间的差异。您正在解析日期时间。你会得到一个 FormatException：

```
Double UhOh = TimeSpan.Parse(DateTime.Now.ToString()).TotalMinutes; 
```

结果是：

```
System.FormatException: "Input string was not in a correct format." 
```

现在要回答您的问题，您将需要另一条数据：另一个 DateTime 以找出这两点之间的差异（以分钟为单位）。

假设您要使用：

```
DateTime.Now 
```

这会起作用：

```
DateTime t = new DateTime(2012,4,19,0,0,0);
TimeSpan ts = DateTime.Now - t;
Double mins = ts.TotalMinutes; 
```

希望有帮助。（：

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:05:09.773

您正在解析`Timespan`并转换`DateTime`为并非真正需要的字符串。

你的意思是这样的吗

```
List<DateTime> lstdt = new List<DateTime>() {
                new DateTime(2010,5,5,1,10,0),
                new DateTime(2011,5,5,2,10,0),
                new DateTime(2010,8,5,1,10,0),
                new DateTime(2010,5,5,1,10,0),
                new DateTime(2011,11,5,1,10,0),
                new DateTime(2010,12,5,1,10,0),
            };            

double maxval = lstdt.Max(c => c.TimeOfDay.TotalMinutes);
List<double> lstpercent = lstdt.Select(d1 => d1.TimeOfDay.TotalMinutes/maxval *100.00).ToList<double>(); 
```

# actionscript-3 - 如何在 FLash CS5.5 上安装 flash player 11.2 和 Air 3.2

> ID：10223855
> 
> 赞同：0
> 
> 时间：2012-04-19T07:56:42.027
> 
> 标签：actionscript-3, flash, air

那么我是如何做到的 - 在 adobe 的网站上找不到任何信息.. 谢谢

更新：这是我所做的：

*   从 Adob​​e 下载 playerglobal11_2.swc
*   创建文件夹 Adob​​e/Adobe Flash CS5.5/Common/Configuration/Players/FP11.2，将下载的 swc 重命名为 playerglobal.swc 并将其放入该文件夹中
*   在 Adob​​e/Adobe Flash CS5.5/Common/Configuration/Players 中复制了 FlashPlayer10_2.xml，将其命名为 FlashPlayer11_2.xml 并编辑以下行

    ```
    <player id="FlashPlayer11.2" version="13" asversion="3">
    <name>Flash Player 11.2</name>
    <playerDefinitionPath as2="$(UserConfig)/Classes/FP10;$(UserConfig)/Classes/FP9;$(UserConfig)/Classes/FP8;$(UserConfig)/Classes/FP7" as3="$(AppConfig)/ActionScript 3.0/FP11.2/playerglobal.swc" /> 
    ```

现在，当我启动 flash 时，我可以从下拉菜单中选择发布到 Flash Player 11.2，当我在浏览器中发布它（ctrl+F12）时，在第一个关键帧上使用以下代码：

```
import flash.display.Stage3D;

var stage3d = new Stage3D();   

var my_fmt:TextFormat = new TextFormat();
my_fmt.color = 0xFF0000;
my_fmt.size = 32;
my_fmt.bold = true;
my_fmt.font  = "Arial";

var textF: TextField = new TextField;
textF.defaultTextFormat = my_fmt;
textF.autoSize = TextFieldAutoSize.LEFT;
textF.text = "Hello Flash Player: " + Capabilities.version + "\n" + stage3d;

addChild(textF); 
```

我在调试器中收到此错误：

```
ArgumentError: Error #2012: Stage3D$ class cannot be instantiated. 
```

显然我错过了什么或做错了，因为我无法访问 FP11 API。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T05:39:51.380

我刚刚遇到了同样的问题。我意识到错误 #2012 是运行时错误，因此这意味着编译正常，因此您的设置应该可以正常工作。问题在于玩家方面。这是我解决它的方法：

1.  确保从此处更新您的 Flash 播放器。如果您的 Web 浏览器已经有更新版本，请使用 Ctrl+F12 在您的 Web 浏览器中进行测试。否则，您需要更新您的 Flash 调试播放器：http: [//www.adobe.com/support/flashplayer/downloads.html](http://www.adobe.com/support/flashplayer/downloads.html)

2.  给出的代码不再有效。必须从舞台中检索 Stage3D 参考。

    ```
    var stage3d = stage.stage3Ds[0]; 
    ```

3.  出于调试目的，您可以尝试此代码，如果有问题，它将打印版本和错误消息。

    ```
    import flash.display.Stage3D;

    var my_fmt:TextFormat = new TextFormat();
    my_fmt.color = 0xFF0000;
    my_fmt.size = 32;
    my_fmt.bold = true;
    my_fmt.font  = "Arial";

    var textF: TextField = new TextField;
    textF.defaultTextFormat = my_fmt;
    textF.autoSize = TextFieldAutoSize.LEFT;  
    textF.width = this.stage.stageWidth;
    textF.wordWrap = true;
    textF.multiline = true;
    addChild(textF);

    try
    {
        var stage3d:Stage3D = stage.stage3Ds[0];
        textF.text = "Hello Flash Player: " + Capabilities.version + "\n" + stage3d;
    }
    catch(e:Error)
    {
        textF.text = "Hello Flash Player: " + Capabilities.version + "\n" + e.toString();
    } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:43:49.977

*   [为 Flash Pro CS5 和 CS5.5 添加 FP11 支持](http://blogs.adobe.com/rgalvan/2011/11/adding-fp11-support-to-flash-pro-cs5-and-cs5-5.html)

一旦您安装了位于那里的 .mxp，您就可以发布为 FP11：

![在此处输入图像描述](../Images/75a2b026bb0968797c748123ea6a0746.png)

最后能够使用像[Starling](http://gamua.com/starling/)这样令人印象深刻的库。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-10T01:30:19.250

您可能需要在 FlashPlayer11_2.xml 文件中设置 version="15"（而不是 version="13"）。

```
<player id="FlashPlayer11.2" version="15" asversion="3"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:24:54.450

[http://www.flashdeveloper.co/post/20583114199/air32-in-flash-cs-55](http://www.flashdeveloper.co/post/20583114199/air32-in-flash-cs-55)

# android - 如何强制 Android MediaPlayer 仅使用一个连接来下载音乐？

> ID：10223863
> 
> 赞同：3
> 
> 时间：2012-04-19T07:57:06.103
> 
> 标签：android, streaming, mp3, media-player, android-4.0-ice-cream-sandwich

我的问题是新的 android ICS MediaPlayer 现在分两步下载音乐：

1）它向http服务器发送一个get请求，服务器开始发送mp3文件：

```
GET /stream/test.mp3 HTTP/1.1
Host: 192.168.30.113
Connection: keep-alive
User-Agent: stagefright/1.2 (Linux;Android 4.0.3)
Accept-Encoding: gzip,deflate

HTTP/1.1 200 OK
Date: Thu, 19 Apr 2012 07:37:29 GMT
Server: Apache/2.2.21 (Win64) PHP/5.3.8
Last-Modified: Sat, 03 Feb 2007 11:17:50 GMT
ETag: "6d0000000400e4-5b415f-428909c5e7a6b"
Accept-Ranges: bytes
Content-Length: 5980511
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: audio/mpeg 
```

2）它关闭第一个连接并重新打开另一个：

```
GET /stream/test.mp3 HTTP/1.1
Host: 192.168.30.113
Accept: */*

HTTP/1.1 200 OK
Date: Thu, 19 Apr 2012 07:37:41 GMT
Server: Apache/2.2.21 (Win64) PHP/5.3.8
Last-Modified: Sat, 03 Feb 2007 11:17:50 GMT
ETag: "6d0000000400e4-5b415f-428909c5e7a6b"
Accept-Ranges: bytes
Content-Length: 5980511
Content-Type: audio/mpeg 
```

那么，当仅使用一个连接下载 mp3 时，我如何才能返回到 android 2.3.3 中的先前功能？

谢谢。

编辑：我可以看到 MediaPlayer 是基于网络状态的，实际上，取决于连接的速度：wifi 或 3G MediaPlayer 使用这两个连接，但使用 EDGE 它只使用一个。

我认为这可以解释为什么很多用户谈论音乐开始前的缓冲时间很长。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-30T14:03:20.640

Hello I had the same problem and i tried to just send data for the first connection.

GET /stream/test.mp3 HTTP/1.1 Host: 192.168.30.113 Connection: keep-alive User-Agent: stagefright/1.2 (Linux;Android 4.0.3) Accept-Encoding: gzip,deflate

And skip the second connection.

it works well for me hope it helps

# xml - AJAX / Jquery XML 解析

> ID：10223865
> 
> 赞同：19
> 
> 时间：2012-04-19T07:57:20.137
> 
> 标签：xml, ajax, jquery, xml-parsing

我尝试解析以下类型的 XML（来自**getMembers.php**的数据）：

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<members>
   <id>3422345</id>
   <name>Bill Gates</name>
   <id>232311</id>
   <name>Bob Barker</name>
</members> 
```

我使用下面的代码来解析它：

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: "GET",
            url: "getMembers.php",
            cache: false,
            dataType: "xml",
            success: function(xml) {
                $(xml).find('members').each(function(){
                    var name = $(this).find("name").text()
                    alert(name);
                });
            }
        });
    });
</script> 
```

没有错误，但我同时得到两个名字。

像：

> 比尔·盖茨鲍勃·巴克 <--first loop>

代替

> 比尔盖茨<--第一个循环>
> 
> Bob Barker <--第二个循环>

任何帮助都会很棒！

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-04-19T08:15:49.283

我认为您迭代成员，而不是名称：

```
success: function(xml) {
                $(xml).find('members').each(function(){
                    $(this).find("name").each(function(){
                        var name = $(this).text();
                        alert(name);
                    });
                });
            } 
```

或者您的 XML 应该如下所示：

```
<members>
   <id>3422345</id>
   <name>Bill Gates</name>
</members>
<members>
   <id>232311</id>
   <name>Bob Barker</name>
</members> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-06T13:56:08.947

这种方式显示名称：

```
<script type="text/javascript">
$(document).ready(function () {
    $.ajax({
        type: "GET",
        url: "getMembers.php",
        cache: false,
        dataType: "xml",
        success: function(xml) {
            $(xml).find('name').each(function(){
                        var name = $(this).text();
                        alert(name);
            });
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-03T23:23:24.390

只是想知道您是否成功解析了该 XML 数据。

有效的 XML 格式如下：

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<members>
  <member>
   <id>3422345</id>
   <name>Bill Gates</name>
  </member>
  <member>
   <id>232311</id>
   <name>Bob Barker</name>
 </member>
</members> 
```

# android - onCreateDrawableState 从不调用

> ID：10223871
> 
> 赞同：6
> 
> 时间：2012-04-19T07:57:40.697
> 
> 标签：android, user-interface, drawable, state

我必须向 RelativeLayout 添加新状态，但永远不会调用 onCreateDrawableState 方法。

我的课是：

```
public class UnreadableRelativeLayout extends RelativeLayout 
{
private static final int[] STATE_UNREADED = {R.attr.state_unreaded};
private boolean isUnreaded = false;

public UnreadableRelativeLayout(Context context) 
{
    super(context);
}

public UnreadableRelativeLayout(Context context, AttributeSet attrs) 
{
    super(context, attrs);
}

public UnreadableRelativeLayout(Context context, AttributeSet attrs, int defStyle) 
{
    super(context, attrs, defStyle);
}

public void setUnreaded(boolean isUnreaded) 
{
    if (this.isUnreaded != isUnreaded)
    {
        this.isUnreaded = isUnreaded;
        refreshDrawableState();
    }
}

@Override
protected int[] onCreateDrawableState(int extraSpace) 
{
    final int[] drawableState = super.onCreateDrawableState(extraSpace + 1);
    if (isUnreaded) mergeDrawableStates(drawableState, STATE_UNREADED);
    return drawableState;
} 
```

}

为什么 onCreateDrawableState 方法从不调用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T23:00:28.983

尝试`android:duplicateParentState="true"`在您的班级中创建单独的布局并对其进行扩充。它适用于 Android 4.0.4：

unreadable_relative_layout.xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:duplicateParentState="true" >
    ...
</RelativeLayout> 
```

不可读的RelativeLayout.java：

```
public class UnreadableRelativeLayout extends RelativeLayout {

    public UnreadableRelativeLayout(Context context, AttributeSet attrs) {
        super(context, attrs);

        LayoutInflater factory = LayoutInflater.from(context);
        factory.inflate(R.layout.unreadable_relative_layout, this);
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T13:34:56.723

我遇到了同样的问题，我终于找到了问题所在......它与Android OS有关，我使用的是2.2，当我切换到2.3.X时它工作......

# java - 使用正则表达式替换字符串的结尾

> ID：10223883
> 
> 赞同：1
> 
> 时间：2012-04-19T07:58:57.703
> 
> 标签：java, regex, matching

我正在尝试将单词/字符串的结尾与以下表达式匹配：“m [abcd]”并将其替换为另一个看起来像“？q”的结尾，其中问号匹配字符之一， b、c 或 d。问题是，我有很多不同的结局。这是一个例子：

结尾：m[abcd]

替换：?q

词：dfma、ghmc、tdfmd

期望的结果：dfaq、ghcq、tdfdq

如何使用 Java 中的字符串的 replaceAll 方法或任何其他 Java 方法来做到这一点？也许我可以用很多代码来完成它，但我要求一个更短的解决方案。我不知道如何连接到单独的正则表达式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:01:41.150

假设您的字符串包含整个单词：

```
String resultString = subjectString.replaceAll(
    "(?x)     # Multiline regex:\n" +
    "m        # Match a literal m\n" +
    "(        # Match and capture in backreference no. 1\n" +
    " [a-d]   # One letter from the range a through d\n" +
    ")        # End of capturing group\n" +
    "$        # Assert position at the end of the string", \
    "$1q");   // replace with the contents of group no. 1 + q 
```

如果您的字符串包含许多单词，并且您想一次查找/替换所有单词，则按照 stema 的建议使用`\\b`而不是`$`（但仅在搜索正则表达式中；替换部分需要保持为`"$1q"`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:10:02.637

您可以使用捕获组来执行此操作。例如。

```
String pattern = "m([abcd])\\b";  //notice the parantheses around [abcd].
Pattern regex = Pattern.compile(pattern);

Matcher matcher = regex.matcher("dfma");
String str = matcher.replaceAll("$1q");  //$1 represent the captured group
System.out.println(str);

matcher = regex.matcher("ghmc");
str = matcher.replaceAll("$1q");
System.out.println(str);

matcher = regex.matcher("tdfmd");
str = matcher.replaceAll("$1q");
System.out.println(str); 
```

# php - 这个 PHP 脚本安全吗？

> ID：10223884
> 
> 赞同：1
> 
> 时间：2012-04-19T07:58:59.667
> 
> 标签：php, login

我是 PHP 开发的新手。而且我没有任何同事可以讨论 PHP。所以我会在这里发布我的问题。

我已经为自己做了一个登录脚本，女巫看起来很像这个网站上的脚本：[http ://www.phpeasystep.com/phptu/6.html](http://www.phpeasystep.com/phptu/6.html)

我的问题是。这是一种安全的方法吗？有没有关于 PHP 登录脚本的好教程？在会话中存储信息的方法有问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T08:10:29.070

关于您发布的教程的几个问题。

1.  好像真的老了。带斜杠？会话注册？这些都是来自以前版本的 PHP 的结构，现在都被认为是不好的做法。
2.  尽管作者说它不是 mysqlinjection 安全的，但您也可以欺骗 mysql_real_escape_string。将[PDO](http://php.net/manual/en/book.pdo.php)与[准备好的语句](http://php.net/manual/en/pdo.prepared-statements.php)一起用于数据库内容。
3.  从代码来看，密码似乎都未加密地存储在数据库中，这是不明智的！检查[PHP 密码的安全散列和盐，](https://stackoverflow.com/questions/401656/secure-hash-and-salt-for-php-passwords)以了解如何以安全的方式散列/存储密码。
4.  可读密码存储在会话中，任何有权访问您的 cookie 的人也将能够从 cookie 中一对一地读取您的密码。坏的！

If you want to do it right read [The definitive guide to form-based website authentication](https://stackoverflow.com/questions/549/the-definitive-guide-to-forms-based-website-authentication) and implement it's suggestions.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-19T08:04:24.490

这根本不安全：

*   您将未加密的密码存储在数据库中。仅在数据库中存储哈希（sha256 或更好：sha512）（使用盐），然后查询用户名和 POST 密码的哈希
*   您将未加密的密码存储在 cookie 中。你根本不应该那样做。您应该在数据库中存储一个会话 ID，您可以在每次加载页面时检查会话状态。
*   我不知道您是否正在使用它，但请尝试使用 SSL 加密 (https) 来加密传输用户凭据。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-19T08:07:21.317

绝对不安全，它将密码存储为文本，没有散列。检查密码散列（至少 sha256，从不 md5 或 sha1）和盐渍散列将对密码进行编码，因此在成功的 db 攻击的情况下没有人能够获得密码。加盐会增加一些安全性，您只需在每个密码中添加一些字符串并对其进行哈希处理。您可以为每个用户自定义 salt，并为服务器 salt 使用一些不在键盘上的特殊字符。这将使密码非常安全。对 SQL 查询使用 PDO 和参数可以使其免受 SQL 注入攻击。
至于存储在会话中 - 好的，但永远不要存储密码，密码被插入，散列，并且永远不会再次使用，至少在另一个登录之前。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:05:44.583

通过查看该脚本，我会说，只要您实现带斜杠功能并使用散列算法 (SHA256) 来存储密码，那么您就会走在正确的路线上。您可以通过在哈希中添加盐来进一步扩展它，如果有人攻击您的数据库并执行 SELECT * FROM Password WHERE Password = 'HASH'; 这将保护您 这将返回所有用户名并允许攻击者尝试使用这些凭据登录。SQL 注入和 XSS 是网站上常见的攻击类型，可以通过登录系统执行。我建议阅读它们。

其他资源：

[http://www.webstockbox.com/php/7-tutorials-on-how-to-create-a-php-login-system/](http://www.webstockbox.com/php/7-tutorials-on-how-to-create-a-php-login-system/)

[http://en.wikipedia.org/wiki/Cross-site_scripting](http://en.wikipedia.org/wiki/Cross-site_scripting)

[http://en.wikipedia.org/wiki/SQL_injection](http://en.wikipedia.org/wiki/SQL_injection)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T08:06:32.417

不，不按原样存储密码要安全得多。您最好散列密码（即使用 md5()）并将散列存储在数据库中。要进行登录，您需要从表单发送密码，对其进行哈希处理并与存储在数据库中的哈希值进行比较。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-21T23:58:12.443

SHA512 hashing is the best way with salt if possible but i have found loads about this and using PDO but i cant make a register form that uses the sha512 hash any ideas reply please

# android - 从对话框按钮进入市场的 Intent 和 StartActivity

> ID：10223886
> 
> 赞同：0
> 
> 时间：2012-04-19T07:59:01.257
> 
> 标签：android, android-activity, android-intent, nullpointerexception

我真的无法理解 Activity、Intent 和 start.. 即使在阅读了 Lars Vogels 教程（[意图教程](http://www.vogella.com/articles/AndroidIntent/article.html)）之后

我试图使问题尽可能简洁。

2 个类（KKOTestActivity、VersionChangeInfo）和一个 AndroidManifest。

目标： KKOTestActivity 类启动，触发 VersionChangeInfo。该类显示一个带有三个按钮的对话框。其中之一是进入市场。这就是问题所在。当用户按下该按钮时，我收到 NPE 错误（请参阅下面的错误日志）。我真的不明白我在这里做什么，所以链接到 Intents-for-dummies 或其他东西也将不胜感激:)。谢谢！

KKOTest活动：

```
package happyworx.nl.KKOTest;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;

public class KKOTestActivity extends Activity implements OnClickListener {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        new VersionChangeInfo(this).show();
    }
    public void onClick(View v) {
        // TODO Auto-generated method stub  
    }
} 
```

版本更改信息.java：

```
package happyworx.nl.KKOTest;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.Dialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.preference.PreferenceManager;

public class VersionChangeInfo extends Activity {

    private String VCI_PREFIX = "vci_";
    private Activity mActivity;

    public VersionChangeInfo(final Activity context) {
        mActivity = context;
    }

    private PackageInfo getPackageInfo() {
        PackageInfo pi = null;
        try {
             pi = mActivity.getPackageManager().getPackageInfo(mActivity.getPackageName(), PackageManager.GET_ACTIVITIES);
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
        }
        return pi;
    }

     public void show() {
        PackageInfo versionInfo = getPackageInfo();

        // the eulaKey changes every time you increment the version number in the AndroidManifest.xml
        final String eulaKey = VCI_PREFIX + versionInfo.versionCode;
        final SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(mActivity);
        boolean hasBeenShown = prefs.getBoolean(eulaKey, false);
        if(hasBeenShown == false){

            // Show the Eula
            String title = mActivity.getString(R.string.app_name) + " v" + versionInfo.versionName;

            //Includes the updates as well so users know what changed.
            String message = mActivity.getString(R.string.updates) + "\n\n" + mActivity.getString(R.string.eula);

            AlertDialog.Builder builder = new AlertDialog.Builder(mActivity)
                    .setTitle(title)
                    .setMessage(message)
                    .setPositiveButton("Ga naar Market", new Dialog.OnClickListener() {

                        public void onClick(DialogInterface dialogInterface, int i) {                           
                            // Mark this version as read.
                            SharedPreferences.Editor editor = prefs.edit();
                         //   editor.putBoolean(eulaKey, true);
                         //   editor.commit();
                            dialogInterface.dismiss();

                            final Intent MyIntent = new Intent(Intent.ACTION_VIEW, 
                            Uri.parse("market://details?id=happyworx.nl.Flashwords"));
                            startActivity(MyIntent);
                        }
                    })
                    .setNegativeButton("Later", new Dialog.OnClickListener() {

                        public void onClick(DialogInterface dialogInterface, int i) {
                            dialogInterface.dismiss();
                        }

                    })

                    .setNeutralButton("Niet meer tonen", new Dialog.OnClickListener(){
                        public void onClick(DialogInterface dialogInterface, int i) {
                            SharedPreferences.Editor editor = prefs.edit();
                            editor.putBoolean(eulaKey, true);
                            editor.commit();
                            dialogInterface.dismiss();
                        }
                    })
                    ;
            builder.create().show();
        }
    }

} 
```

AndroidManifest.xls

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="happyworx.nl.KKOTest"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="4" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".KKOTestActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

                <activity
            android:name=".VersionChangeInfo"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>

</manifest> 
```

错误日志：

```
04-19 08:06:45.711: E/AndroidRuntime(15186): FATAL EXCEPTION: main
04-19 08:06:45.711: E/AndroidRuntime(15186): java.lang.NullPointerException
04-19 08:06:45.711: E/AndroidRuntime(15186):    at android.app.Activity.startActivityForResult(Activity.java:2827)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at android.app.Activity.startActivity(Activity.java:2933)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at happyworx.nl.KKOTest.VersionChangeInfo$1.onClick(VersionChangeInfo.java:63)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:159)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at android.os.Looper.loop(Looper.java:123)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at android.app.ActivityThread.main(ActivityThread.java:3683)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at java.lang.reflect.Method.invokeNative(Native Method)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at java.lang.reflect.Method.invoke(Method.java:507)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-19 08:06:45.711: E/AndroidRuntime(15186):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:13:38.507

你没有做错；你得到的原因`ActivityNotFoundException`是因为你的设备上没有安装可以处理`Intent.ACTION_VIEW`. 原因是您选择查看`market://`-URI 而不是`http(s)://`. 您可能正在使用不包含 Market 的模拟器。

你有三个选择：

1.  在您的模拟器上安装市场（不知道如何）。
2.  保持原样；它可以在安装了 Market 的设备上运行。将您的呼叫包装`startActivity()`在一个`try { .. } catch (ActivityNotFoundException e) { ... }`.
3.  将您的 URI 更改为`http://`或`https://`。

第三个选项将在模拟器中工作，即使没有安装市场。在您的设备上，它会提示您是要在 Market 中还是在浏览器中打开 URI。

我将尝试解释：

```
// First, you're basically telling Android you want some Activity
// that is not your current Activity to handle an action:
// you wan't `some application` to view `something`.
Intent i = new Intent(Intent.ACTION_VIEW);

// Next, you're making it clear you want an application to view a specific URI.
// In this case, you're asking for something that can handle a "market://"-URI.
i.setData(Uri.parse("market://details?id=happyworx.nl.Flashwords"));

// Finally, you're asking Android to actually broadcast the Intent.
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:12:16.753

`<action android:name="android.intent.action.VIEW" />`首先，您的 AndroidManifest.xml 中缺少`<intent-filter>`.

但是当这完成时，它无论如何都会崩溃，因为市场没有安装在模拟器上。不过，它应该可以在设备上正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:21:01.983

尝试

```
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse("market://details?id=happyworx.nl.KKOTest"));
startActivity(intent); 
```

并检查您的包裹名称。在您的课程中，您在 manifest **happyworx.nl.KKOTest中使用****happyworx.nl.Flashwords**，如果您构建了指向应用程序的链接，则此包名称必须相同。您也可以使用 getPackageName() 方法而不是“your.package.name”

# c++ - 如何在我的 c++ 程序中使用 GDAL 库作为可选库？

> ID：10223888
> 
> 赞同：0
> 
> 时间：2012-04-19T07:59:12.583
> 
> 标签：c++, gdal

我正在创建一个可以使用 GDAL（如果存在）的 c++ 程序。我可以检查系统中是否存在 GDAL，但是如果我的程序是使用 GDAL 编译的，我需要如何对我的程序进行编码以包含/不包含 GDAL 库？

非常感谢，卡洛斯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:16:10.707

一般来说，如果您将应用程序链接到共享对象 (DLL)，如果缺少共享对象，您的程序将无法启动。我不确定除了在启动时简单地加载 SO 之外是否还有其他方法，如果您获得库的句柄，请使用 dlsym（或 Windows 上的 GetProcAddress）来获取您需要的函数，并以这种方式调用它们.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:25:31.447

虽然我没有使用 CMake，但如果该库可用，您可以链接它并将标志传递给定义宏的编译器（例如`-DHAVE_GDAL`）。然后在您的源代码中，您使用预处理器来检查`HAVE_GDAL`并仅在已定义的情况下使用 GDAL 功能。

在您的来源中是这样的：

```
#ifdef HAVE_GDAL
// Use GDAL functionality
#else
// Use something else
#endif 
```

# html - 在 https 页面上使用 soundcloud HTML5 播放器

> ID：10223890
> 
> 赞同：2
> 
> 时间：2012-04-19T07:59:15.597
> 
> 标签：html, ssl, https, soundcloud

尝试嵌入 html5 soundcloud 播放器以在没有警告的情况下在安全页面上工作。

```
<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F27710389&amp;show_artwork=true&amp;color=444444&amp;show_comments=false&amp;height=140"></iframe> 
```

播放器仍在从不安全的 http 域加载曲目/封面图像，这会引发警告。可能吗？

编辑：就这个问题联系了 soundcloud 开发团队，他们正在调查它。会回帖。

谢谢

# python - Django - ModelForm 动态字段更新

> ID：10223891
> 
> 赞同：4
> 
> 时间：2012-04-19T07:59:16.313
> 
> 标签：python, django, django-forms

我正在尝试将某些字段更新为 ModelForm，这些字段不固定。（我只有`tutor`视图自动填充的那个）

模型：

```
class Session(models.Model):
  tutor = models.ForeignKey(User)
  start_time = models.DateTimeField()
  end_time = models.DateTimeField()
  status = models.CharField(max_length=1) 
```

形式：

```
class SessionForm(forms.ModelForm):
  class Meta:
    model = Session
    exclude = ['tutor'] 
```

对于给定的会话，有时我只需要更新`end_time`，有时只需要`start_time`& `end_time`。

我怎样才能在视图中做到这一点？

* * *

**编辑**

我已经给出了示例，但不限于这些示例，我需要更新的字段不是预定义的，我需要能够更新任何字段

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-19T14:19:13.713

我以前也做过类似的事情，虽然不是很漂亮，但很有效。它涉及在运行时动态创建一个类型，并使用该类型。对于一些文档，您可以查看[django 的 DynamicModels。](https://code.djangoproject.com/wiki/DynamicModels)

我们来了……你的要求。

*   您希望能够使用表单更新模型
*   您希望有选择地指定要在运行时更新的字段

所以，一些代码：

```
def create_form(model, field_names):
    # the inner class is the only useful bit of your ModelForm
    class Meta:
        pass
    setattr(Meta, 'model', model)
    setattr(Meta, 'include', field_names)
    attrs = {'Meta': Meta}

    name = 'DynamicForm'
    baseclasses = (forms.ModelForm,)
    form = type('DynamicForm', baseclasses, attrs)
    return form

def my_awesome_view(request):
    fields = ['start_time', 'end_time']
    form = create_form(Session, fields)
    # work with your form! 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:22:03.573

将您的表单字段设置为可为空，并使用“干净”方法向字段添加逻辑，例如：

```
class SessionForm(forms.ModelForm):
    def clean_end_date(self):
        cd = self.cleaned_data
        if (cd["start_date"] and cd["end_date"]) and cd["end_date"] < cd["start_date"]:
            raise forms.ValidationError("WTF?!")
        if not (cd["start_date"] or cd["end_date"]):
            raise forms.ValidationError("need one date")
        return cd['end_date'] 
```

如果要更改值，请对 return 语句使用不同的值。

这是您可能需要进行验证的内容。

如果需要，您可以在视图中复制 GET 字典并在实例化表单之前更新值

```
def my_view(request):
    r_data = request.GET.copy()
    r_data.merge(request.POST)

    data = dict([(key, my_function(key, value)) for key, value in r_data.iteritems() if key in MyForm.fields])
    form = MyForm(data=data)
    [...] 
```

希望它有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T09:16:54.843

您可以像这样调用表单的构造函数：

```
class SessionForm(forms.ModelForm):
    class Meta:
        model = Session
        exclude = ['tutor', 'start_time']

    def __init__(self, your_extra_args, *args, **kwargs):
        super(SessionForm, self).__init__(*args, **kwargs)
        if need_end_time_start_time(your_extra_args):
            self.fields['start_time'] = forms.DateTimeField() 
```

要使用此类，您必须将参数“your_extra_args”传递给您的表单：

```
session_form = SessionForm('foo') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-03T13:11:04.683

您的问题表明您有一个使用相同模型但不同字段隐藏在 ModelForm 中的要求，根据您的需要。

如果我理解您的问题，那么您需要创建两个不同的基于 ModelForm 的类，这两个类在 Meta 类中具有相同的模型值。排除和包括您需要的字段。所以现在你有不同的 ModelForm 类，你可以在你的视图逻辑中调用它们。

有了这个，您将拥有两种不同的表单，它们依赖于相同的模型，具有不同的默认字段。

通过巧妙的 url 和视图设计，您将能够使用上述想法为同一模型的多个表单提供服务。

# mysql - 在 MySQL 中索引电子邮件地址的最有效方法是什么？

> ID：10223893
> 
> 赞同：1
> 
> 时间：2012-04-19T07:59:18.350
> 
> 标签：mysql

在 MySQL 中索引数百万个电子邮件地址同时最小化索引大小的最佳方法是什么？

需要索引来快速检查表中是否存在电子邮件。允许重复。

同样，目标是最小化索引的大小。目前在 varchar 字段上使用标准索引，但考虑创建二进制哈希并索引前几个字符。还有其他选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:04:42.113

`Unique Index`如果您不想要任何重复条目，请用于电子邮件。
如果完成任何重复条目，它将不会插入任何新行并会出错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:15:13.077

这取决于。尝试两者并测试。请记住，这个等式不仅仅是读取速度。如果该表被大量更新和插入，那么您应该会看到插入的效果。

我怀疑（我在这里可能完全错了）普通的 b-tree 索引会将值存储在树中，而哈希索引需要计算哈希然后存储到树中。这可能意味着哈希索引使用更少的空间，但会做更多的工作来更新索引或插入新值。

在我看来，在哈希索引中插入一个新值可能需要类似

1）为值创建哈希键。

2）将哈希插入索引。

正常的 b 树在哪里

1）将值插入索引。

反正我的 2 美分值。

# javascript - 在给定距离的方向上画线 - 谷歌地图

> ID：10223898
> 
> 赞同：4
> 
> 时间：2012-04-19T07:59:45.283
> 
> 标签：javascript, google-maps-api-3

我正在尝试使用 google maps API V3 从默认起点画一条线，并在给定距离的情况下进入给定方向。例如，假设我的默认起点是旧金山，并且用户输入了一个距离，我希望能够根据该输入距离绘制一条向东穿过美国的直线。我遇到了一个叫做轴承的东西，但我不确定如何正确使用它。这是我正在使用的代码：

```
function initializeMap(){

var mapOptions = {
center: new google.maps.LatLng(36.033036, -93.8655744),
zoom: 4,
mapTypeId: google.maps.MapTypeId.ROADMAP
};   

var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

var R = 6378137;
var dis = parseInt(document.form['input']['val'].value);
var bearing = 80; 
var lat2 = Math.asin(   Math.sin(37.470625)*Math.cos(dis/R)+Math.cos(37.470625)*Math.sin(dis/R)*Math.cos(bearing) );
var lon2 = -122.266823 + Math.atan2(Math.sin(bearing)*Math.sin(dis/R)*Math.cos(37.470625),Math.cos(dis/R)-Math.sin(37.470625)*Math.sin(-122.266823));

var impactP = new google.maps.Polyline({
  path: new google.maps.LatLng(lat2,lon2), 
              strokeColor: "#FF0000",
  strokeOpacity: 1.0,
          strokeWeight: 2
        });
impactP.setMap(map);
} 
```

有人可以帮帮我吗？我真的很想让这个工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T15:45:41.667

数学都在这里解释：[http ://www.movable-type.co.uk/scripts/latlong.html#destPoint](http://www.movable-type.co.uk/scripts/latlong.html#destPoint)

```
var lat2 = Math.asin( Math.sin(lat1)*Math.cos(d/R) + 
              Math.cos(lat1)*Math.sin(d/R)*Math.cos(brng) );
var lon2 = lon1 + Math.atan2(Math.sin(brng)*Math.sin(d/R)*Math.cos(lat1), 
                     Math.cos(d/R)-Math.sin(lat1)*Math.sin(lat2)); 
```

请注意，`lat1,lon1`（您的起点）和`lat2,lon2`（终点）是*弧度*而不是度数。`d`是行进的距离和`R`地球的半径。只要它们是相同的单位，它们就可以是任何单位。

如果您以弧度工作，看起来您在问题中的代码可以工作。

如果您在北半球以 90° 的方位开始，您最终会稍微向南（您的最终方位将超过 90°）。球面几何真是个奇妙的东西！

如果您想要一条恒定方位线，因此 90° 线在地图上是直线且水平的，您需要 Rhumb 线：[http](http://www.movable-type.co.uk/scripts/latlong.html#rhumblines) ://www.movable-type.co.uk/scripts/latlong.html#rhumblines 。这要复杂得多，但该页面再次允许根据距离和方位计算端点，并解释了必要的数学和 Javascript。

* * *

同一页面建议向 Number 添加方法以将度数转换为弧度并再次转换：

```
/** Converts numeric degrees to radians */
if (typeof(Number.prototype.toRad) === "undefined") {
  Number.prototype.toRad = function() {
    return this * Math.PI / 180;
  }
}

/** Converts radians to numeric (signed) degrees */
if (typeof(Number.prototype.toDeg) === "undefined") {
  Number.prototype.toDeg = function() {
    return this * 180 / Math.PI;
  }
} 
```

因此`(78).toRad()`是`1.3613568`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T15:29:20.193

我把谷歌地图脚手架[http://jsfiddle.net/khwLd/](http://jsfiddle.net/khwLd/)但我的数学是关闭的:(你可以看到线转向南方。谷歌搜索**“查找终端坐标给定方位和距离”**给了我一个我转换并检查了但仍未给出预期结果的python函数。

[计算给定方位和距离的坐标](https://stackoverflow.com/questions/877524/calculating-coordinates-given-a-bearing-and-a-distance)

您需要做的是在开始时修复所有数学，以便：

`getDestination(origin_lat, origin_lng, bearing, distance)` *返回* `google.maps.LatLng(destination_lat, destination_lng)`

抱歉，我无法提供完整的工作解决方案 :(

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-04T13:39:25.627

您可以使用Chris Veness`rhumbDestinationPoint`的库[https://github.com/chrisveness/geodesy](https://github.com/chrisveness/geodesy)中的方法，另请参见此处[http://www.movable-type.co.uk/scripts/latlong.html](http://www.movable-type.co.uk/scripts/latlong.html)

`rhumbDestinationPoint`应用于`LatLon`对象，并以米为单位的距离作为第一个参数，第二个参数是六十进制的方位，即`0`北、`90`东、`180`南和`270`西。

`rhumbDestinationPoint`我刚刚从[https://raw.githubusercontent.com/chrisveness/geodesy/master/latlon-spherical.js](https://raw.githubusercontent.com/chrisveness/geodesy/master/latlon-spherical.js)粘贴到下面的片段（改编自 OP [http://jsfiddle.net/X25dZ/1/](http://jsfiddle.net/X25dZ/1/)）

```
function initializeMap() {
  mapCenter = new google.maps.LatLng(36.033036, -93.8655744);
  defaultStart = new google.maps.LatLng(37.470625, -122.266823);
  var mapOptions = {
    center: mapCenter,
    zoom: 2,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

  var distance_in_meter = 600000;
  var bearing = 90;

  var start = new LatLon(defaultStart.lat(), defaultStart.lng());
  var destination = start.rhumbDestinationPoint(distance_in_meter, bearing);

  var impactP = new google.maps.Polyline({
    map: map,
    path: [defaultStart,
      new google.maps.LatLng(destination.lat, destination.lon)
    ],
    strokeColor: "#FF0000",
    strokeOpacity: 1.0,
    strokeWeight: 2
  });
}

google.maps.event.addDomListener(window, 'load', initializeMap);
```

```
html {
  height: 100%
}
body {
  height: 100%;
  margin: 0;
  padding: 0
}
#map-canvas {
  height: 100%
}
#menu {
  position: absolute;
  top: 0px;
  left: 0px;
  padding: 0px;
  font-family: Arial, sans-serif;
}
```

```
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">
// Taken from https://raw.githubusercontent.com/chrisveness/geodesy/master/latlon-spherical.js	
/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */
/* Latitude/longitude spherical geodesy tools                         (c) Chris Veness 2002-2016  */
/*                                                                                   MIT Licence  */
/* www.movable-type.co.uk/scripts/latlong.html                                                    */
/* www.movable-type.co.uk/scripts/geodesy/docs/module-latlon-spherical.html                       */
/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */
'use strict';
if (typeof module!='undefined' && module.exports) var Dms = require('./dms'); // ≡ import Dms from 'dms.js'
/**
 * Library of geodesy functions for operations on a spherical earth model.
 *
 * @module   latlon-spherical
 * @requires dms
 */
/**
 * Creates a LatLon point on the earth's surface at the specified latitude / longitude.
 *
 * @constructor
 * @param {number} lat - Latitude in degrees.
 * @param {number} lon - Longitude in degrees.
 *
 * @example
 *     var p1 = new LatLon(52.205, 0.119);
 */
function LatLon(lat, lon) {
// allow instantiation without 'new'
if (!(this instanceof LatLon)) return new LatLon(lat, lon);
this.lat = Number(lat);
this.lon = Number(lon);
}

/**
 * Returns the destination point having travelled along a rhumb line from ‘this’ point the given
 * distance on the  given bearing.
 *
 * @param   {number} distance - Distance travelled, in same units as earth radius (default: metres).
 * @param   {number} bearing - Bearing in degrees from north.
 * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).
 * @returns {LatLon} Destination point.
 *
 * @example
 *     var p1 = new LatLon(51.127, 1.338);
 *     var p2 = p1.rhumbDestinationPoint(40300, 116.7); // 50.9642°N, 001.8530°E
 */
LatLon.prototype.rhumbDestinationPoint = function(distance, bearing, radius) {
radius = (radius === undefined) ? 6371e3 : Number(radius);
var δ = Number(distance) / radius; // angular distance in radians
var φ1 = this.lat.toRadians(), λ1 = this.lon.toRadians();
var θ = Number(bearing).toRadians();
var Δφ = δ * Math.cos(θ);
var φ2 = φ1 + Δφ;
// check for some daft bugger going past the pole, normalise latitude if so
if (Math.abs(φ2) > Math.PI/2) φ2 = φ2>0 ? Math.PI-φ2 : -Math.PI-φ2;
var Δψ = Math.log(Math.tan(φ2/2+Math.PI/4)/Math.tan(φ1/2+Math.PI/4));
var q = Math.abs(Δψ) > 10e-12 ? Δφ / Δψ : Math.cos(φ1); // E-W course becomes ill-conditioned with 0/0
var Δλ = δ*Math.sin(θ)/q;
var λ2 = λ1 + Δλ;
return new LatLon(φ2.toDegrees(), (λ2.toDegrees()+540) % 360 - 180); // normalise to −180..+180°
};

/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */
/**
 * Checks if another point is equal to ‘this’ point.
 *
 * @param   {LatLon} point - Point to be compared against this point.
 * @returns {bool}   True if points are identical.
 *
 * @example
 *   var p1 = new LatLon(52.205, 0.119);
 *   var p2 = new LatLon(52.205, 0.119);
 *   var equal = p1.equals(p2); // true
 */
LatLon.prototype.equals = function(point) {
if (!(point instanceof LatLon)) throw new TypeError('point is not LatLon object');
if (this.lat != point.lat) return false;
if (this.lon != point.lon) return false;
return true;
};
/**
 * Returns a string representation of ‘this’ point, formatted as degrees, degrees+minutes, or
 * degrees+minutes+seconds.
 *
 * @param   {string} [format=dms] - Format point as 'd', 'dm', 'dms'.
 * @param   {number} [dp=0|2|4] - Number of decimal places to use - default 0 for dms, 2 for dm, 4 for d.
 * @returns {string} Comma-separated latitude/longitude.
 */
LatLon.prototype.toString = function(format, dp) {
return Dms.toLat(this.lat, format, dp) + ', ' + Dms.toLon(this.lon, format, dp);
};
/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */
/** Extend Number object with method to convert numeric degrees to radians */
if (Number.prototype.toRadians === undefined) {
Number.prototype.toRadians = function() { return this * Math.PI / 180; };
}
/** Extend Number object with method to convert radians to numeric (signed) degrees */
if (Number.prototype.toDegrees === undefined) {
Number.prototype.toDegrees = function() { return this * 180 / Math.PI; };
}
/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */
if (typeof module != 'undefined' && module.exports) module.exports = LatLon; // ≡ export default LatLon    </script>

<div id="map-canvas"></div>
```

# c++ - C中的execv调用

> ID：10223900
> 
> 赞同：1
> 
> 时间：2012-04-19T07:59:49.433
> 
> 标签：c++, c, linux, signals

下面有一个简单的程序，它接受一个 HUP 并继续执行 execv。问题是当执行 execv 调用时，代码从 HUP 所在的地方继续。我想要，在 execv 之后，代码必须从 main 退出，而不是从 main 的开头重新开始。

```
char* a;
char** args;

void hup_func(){
    printf("aaaa\n");
    if(execv(a,args))
        printf("bbb\n");
}

int main(int argc,char* argv[]){
    signal(SIGHUP,hup_func);
    args=argv;
    a=args[0];
    printf("%s\n",a);
    while(1){
        printf("test\n");
        sleep(10);
     }

   return 0;
} 
```

该程序的名称是 deneme1。代码的输出是我发送 HUP 的时候；

```
./deneme1
test
test
aaa 
bbbb
test. 
```

但是我想要它，当我发送 HUP 时，它必须从 main 开始。像那样

```
./deneme1
test
test
aaa
bbb
./deneme1
test
... 
```

我希望它在 HUP 之后返回到 main 的开头，而不是之前的位置

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:12:42.830

您没有向 发送正确的参数`execv`，因此该函数因错误而退出。因此，您只是退出信号处理程序，而不是用进程的新副本覆盖进程。

的参数签名为`execv`：

```
int execv(const char *path, char *const argv[]); 
```

`const`第二个参数应该是指向 的指针数组，`char`最后一个元素是`NULL`指针。`char* a`您为第二个参数传递的 不是正确的类型。

最后，`execv`不被认为是[异步信号安全函数](https://www.securecoding.cert.org/confluence/display/seccode/SIG30-C.+Call+only+asynchronous-safe+functions+within+signal+handlers)，而它是姐妹函数`execve`。你应该使用后者。对于任何`printf`功能系列也是如此……如果您需要写入终端，请`write`改用。

**更新**：我重新运行了您更新的代码。该程序正在正确重新启动，但问题是信号掩码是从被调用覆盖的原始进程继承的`execv`。由于您是`execv`从信号处理程序内部运行的，因此`SIGHUP`将在覆盖的进程中被阻止，并且您将无法`SIGHUP`向该进程发送任何其他信号。要撤消此操作，您需要在分配信号处理程序 using 后立即取消阻止`SIGHUP`信号using 。`sigprocmask()``signal()`

例如，将您的更改`main`为：

```
int main(int argc,char* argv[])
{
    sigset_t signal_mask;

    signal(SIGHUP,hup_func);

    //unblock the SIGHUP signal if it's blocked
    sigaddset(&signal_mask, SIGHUP);
    sigprocmask(SIG_UNBLOCK, &signal_mask, NULL);

    args=argv;
    a=args[0];
    printf("%s\n",a);
    while(1){
        printf("test\n");
        sleep(10);
     }

   return 0;
} 
```

我已经在 Ubuntu 12.04 上编译并运行了它，现在它运行良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:17:38.957

> 问题是当执行 execv 调用时，代码从 HUP 所在的地方继续

您的代码中没有错误检查，很可能`execv()`调用失败。

尝试修改它：

```
char** gargv;

void hup_func() {
    execvp(*gargv, gargv);
    abort(); // must never get here
}

int main(int argc,char* argv[]) {
    // ...
    gargv = argv;
    // ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:25:43.773

正如@Jason 指出的那样，**execv**失败了。用这段代码测试自己。

```
#include<signal.h>
char* a;
char **args;

void hup_func(){
    printf("receivied SIGHUP\n");
    execv(a,a);
    printf("execv failed\n");
}

int main(int argc,char* argv[]){
    int b =0;
    printf("setting signal handler for SIGHUP\n");
    signal(SIGHUP,hup_func);
    args=argv;
    a=argv[0];
    printf("Before entering while %s\n",a);
    while(1){
        printf("In while %d\n",++b);
        sleep(1);
     }

   return 0;
} 
```

然后更换

```
 execv(a,a); 
```

和

```
 execv(a,args); 
```

# javascript - jQuery指定在数组中搜索值的条件

> ID：10223902
> 
> 赞同：3
> 
> 时间：2012-04-19T08:00:08.060
> 
> 标签：javascript, jquery, arrays, contains

在 javascript 中，我需要知道数组是否包含值。值是对象，我可以拥有同一对象的不同实例，这意味着 $.inArray(...) 将不起作用。我知道如何使用 $.each(...) 来完成我的任务，我的问题是 - 是否可以将具有值比较逻辑的函数传递给任何 jQuery 方法（参见带有所需 sintax 的示例）？

```
 // values
var val1 = { id: 1, description: 'First value'};
var val2 = { id: 2, description: 'Second value'};
var val3 = { id: 3, description: 'Third value'};        
// array of values
var values = [ val1, val2, val3 ];
// inArray of jQuery to know if value is in array -> returns TRUE
var isInArray = $.inArray(val2, values) > -1;

// another instance of same object "val2"
var val2_anotherInstance = { id: 2, description: 'Second value'};
// inArray works as expected -> returns FALSE but desirable result is TRUE
var isInArray_anotherInstance = $.inArray(val2_anotherInstance, values) > -1;

// define function for comparing values (any logic can be implemented, for example searching by Id)
var valueComparer = function(first, second) {
    return first.id == second.id && first.description == second.description;
}
// function compares objects and returns true for different instances
alert(valueComparer(val2, val2_anotherInstance));

// desirable sintax:
// is something like this possible ???      
// NOTE next line not correct
isInArray_anotherInstance = $.inArray(val2_anotherInstance, values, valueComparer) > -1;
// actually what I want is specify criteria for searching value in array 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:05:21.837

尝试[grep](http://api.jquery.com/jQuery.grep/)：

```
var val1 = { id: 1, description: 'First value'};
var val2 = { id: 2, description: 'Second value'};
var val3 = { id: 3, description: 'Third value'};        

var values = [ val1, val2, val3 ];

// another instance of same object "val2"
var val2_anotherInstance = { id: 2, description: 'Second value'};

var items = $.grep(values, function(x) {
    return x.id == val2_anotherInstance.id
})

var found = items.length > 0 
```

为了更优雅，您可以使用布尔聚合函数，如[本答案](https://stackoverflow.com/a/9600001/989121)中所提供：

```
val2_in_array = $.some(values, function() {
    return this.id == val2_anotherInstance.id
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:42:14.570

您可以将此功能用于您的任务：

```
$.fn.inArrayCallback = function(needle, haystack, f) {
  var e = -1;
  $.each(haystack,function(index, value){
      if (f(needle,value)) { e = index; return false; }
    });
  return e;
}

ans = $.fn.inArrayCallback(val2_anotherInstance, values, valueComparer) > -1; 
// returns true 
```

*使用grep*函数回答将搜索数组中的所有元素，即使已经找到匹配的元素。此功能停止搜索匹配。这在非常大的阵列上可能很重要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:05:30.507

您可以使用[greep()](http://api.jquery.com/jQuery.grep/)函数来过滤您的数组，然后计算生成数组中的项目。但它会处理所有的数组，如果你有很多数据，它对性能不友好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-19T08:16:53.590

jquery map 功能应该可以解决您的问题。您可以在 map 的回调中实现您的比较逻辑。 [参考 jQuery 地图](http://api.jquery.com/jQuery.map/ "jQuery地图")

# regex - 用于在 Visual Studio 中搜索的正则表达式：不以 true、true 结尾）；

> ID：10223905
> 
> 赞同：0
> 
> 时间：2012-04-19T08:00:11.303
> 
> 标签：regex, visual-studio

我需要找到所有`Response.Redirect();`不以`true, true);` 我认为在 Visual Studio 中使用带有搜索的 Regex 是找到它们的最佳选择，但我不知道如何制作该 regex。在`response.redirect`可以是任何东西，但它不能结束`true, true);` 那些是我想要找到的。

关于正则表达式的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:34:58.997

我认为这应该有效：

```
Response\.Redirect\s*\(.*?(?<!true\s*\,\s*true\s*)\); 
```

搜索“Response.Redirect”， - 后跟 0 个或多个空格 - 后跟 ( - 后跟任何字符的最短序列 - 不以 true、true 结尾)；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:05:43.883

试试这个：

```
true, true\);$ 
```

解释：

*   ) 是特殊字符，因此您需要对其进行转义。
*   最后的 $ 将匹配以正则表达式结尾的字符串。

* * *

要匹配 X 而不是匹配 Y，请尝试：

```
$regex1 = '/^Response\.Redirect\(/';
$regex2 = '/true, true\);$/'; 
```

然后：

```
if (preg_match($regex1, $s) && !preg_match($regex2, $s)) { // match } else { // not match } 
```

例子：

```
$s = 'Response.Redirect("something", true, true);'; // false
$s = 'Response.Redirect("something");'; // true
$s = '("something", true, true);'; // false 
```

抱歉，PHP 中的示例。但是您可以调整正则表达式和逻辑。

# ruby - 计算 ping 网站时的响应时间（Ruby）

> ID：10223909
> 
> 赞同：1
> 
> 时间：2012-04-19T08:00:30.003
> 
> 标签：ruby, sockets, ping

我用 ruby​​ 编写了以下代码来 ping 一个网站并检查响应。如果响应为真，则网站响应良好，但如果为假，则表明网站没有响应。

```
require 'net/http'
require 'uri'

def ping(host)
begin
 url=URI.parse(host)
 response=Net::HTTP.get(url)
   if response==""
     return false
   else
     return true
   end
   rescue Errno::ECONNREFUSED
     return false
 end
end 
```

此代码工作正常，但无法计算网站响应的响应时间。

所以我的问题是**如何计算网站响应的响应时间？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-19T08:32:16.907

```
require 'net/http'
require 'uri'

def ping(host)
  begin
    url = URI.parse(host)
    start_time = Time.now
    response = Net::HTTP.get(url)
    end_time = Time.now - start_time

    if response==""
      return false
    else
      puts "response time : #{end_time}"
      return true
    end

  rescue Errno::ECONNREFUSED
    return false
  end
end

ping "http://www.google.com" 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:08:45.467

在 url=URI.parse(host) 和响应之后添加 Time.now 怎么样？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-22T17:17:31.230

这里建议的答案不显示服务器响应时间，它显示：

*   在 ruby​​ 中发送请求所花费的时间
*   请求的网络时间
*   服务器的响应时间
*   响应的网络时间
*   ruby 处理响应所花费的时间

如果您只需要查看服务器处理请求所花费的时间，则需要以另一种方式进行。您可以使用`HTTP` [响应标头](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Responses)。特别是日期标题可以帮助您。

我建议使用`curl`：

```
response_time_total = `curl -w \"%{time_total}\" google.com -o /dev/null -s` 
```

您可以在终端中试用：

```
curl -w \"%{time_total}\n\" google.com -o /dev/null -s 
```

您可以获得不同的指标，例如`time_namelookup`, `time_connect`, `time_starttransfer`,`time_redirect`等。示例：

```
response_times = `curl -w \"%{time_connect}:%{time_starttransfer}:%{time_total}\" google.com -o /dev/null -s`
time_connect, time_starttransfer, time_total = response_times.split(':') 
```

所有可用的指标和详细信息都可以在[cURL 手册页中找到](https://curl.haxx.se/docs/manpage.html)

参考文献

[如何获得服务器的响应时间？](https://stackoverflow.com/questions/21973979/how-do-i-get-a-servers-response-time)

[如何使用 cURL 一次测量请求和响应时间？](https://stackoverflow.com/questions/18215389/how-do-i-measure-request-and-response-times-at-once-using-curl)

# matlab - 比较 3 个变量和绘图的建议

> ID：10223910
> 
> 赞同：0
> 
> 时间：2012-04-19T08:00:38.287
> 
> 标签：matlab, plot

在下面的例子中，我希望能得到一些关于绘制所需结果的最佳方法的反馈。

```
 clear all
Table1 = {0.990,0.987,0.972,0.832,0.776,20;0.988,0.986,0.961,0.946,0.906,...
    30;0.963,0.956,0.850,0.897,0.908,70;0.970,0.968,0.922,0.835,0.674,...
    90;0.957,0.950,0.908,0.925,0.955,100;0.966,0.963,0.948784273781552,0.892,...
    0.812,120;0.977,0.973,0.932,0.779,0.648,450;0.985,0.985,0.915,...
    0.832,0.792,480;0.979,0.969,0.939,0.814,0.642,550;0.983,0.980,0.916,...
    0.719,0.520,570;};
locations = {'loc1','loc2','loc3','loc4','loc5'};
CombLocation = locations(nchoosek(1:length(locations),2));
Table2 = [CombLocation,Table1];
Headings = {'location1','location2','depth1','depth2','depth3','depth4',...
    'depth5','residence time'};
Table3 = [Headings;Table2];
depths = [5.3,6.8,16.3,24,16.78]; 
```

在这里，我们有“表3”，它展示了不同位置（“loc1”，“loc2”）之间的相关值（水温），根据“停留时间”（其中停留时间是位置之间的停留时间差异）进行排序）。我想做的是表明随着深度的增加，相干性水平受到停留时间的极大影响。

这可以单独为每个深度完成，例如

```
figure;
plot(cell2mat(Table3(2:11,8)),cell2mat(Table3(2:11,7))); 
```

因此表明随着停留时间的增加，相关性降低。然后可以对较浅的深度重复此操作，即 depths(1) 例如

```
figure;
plot(cell2mat(Table3(2:11,8)),cell2mat(Table3(2:11,3))); 
```

但是，我想制作一张图，表明随着水深的增加，具有较高相干性的位置是停留时间差异较小的位置。

任何意见，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:29:19.733

曲面图呢？

```
residences = cell2mat(Table3(2:end, end));
correlations = cell2mat(Table3(2:end, 3:end-1));
[X Y] = meshgrid(depths, residences);
surf(X, Y, correlations)
xlabel('Depth');
ylabel('Residence');
zlabel('Correlation');
shading interp; 
```

这应该显示您想要的内容，尽管您的`depths`数组看起来很奇怪，因为它没有排序，这使得表面在其下方切回。您可以通过以下方式解决此问题：

```
[depths i] = sort(depths);
correlations = correlations(:, i); 
```

但这使表面看起来很奇怪（因为 16.78 的深度似乎比 24 的深度具有更低的相关性）。

如果您只想显示深度增加的情况，替换`[X Y] = meshgrid(depths, residences);`为可能有意义（否则我们会在深度 = 6.8 和深度 = 16.3 之间得到很大的差距）。`[X Y] = meshgrid(1:numel(depths), residences);`

您还可以尝试删除`shading interp`和替换`surf(X, Y, correlations)`类似的东西

```
scatter3(X(:), Y(:), correlations(:), '.'); 
```

改为获得散点图。

# ruby-on-rails - Redmine 1.4 存储库创建问题

> ID：10223911
> 
> 赞同：2
> 
> 时间：2012-04-19T08:00:47.983
> 
> 标签：ruby-on-rails, ruby, redmine

当我尝试在 Redmine 1.4 中为项目创建 Mercurial 存储库时，出现以下错误：它曾经与 Redmine 1.3 完美配合

```
Rendering /var/redmine/public/500.html (500 Internal Server Error)

Processing RepositoriesController#create (for 117.201.161.229 at 2012-04-19 00:58:17) [POST]
  Parameters: {"controller"=>"repositories", "commit"=>"Create", "repository_scm"=>"Git", "authenticity_token"=>"D9c30kq2pf/mhM3iGcCvRNykEFamKuFddJXEs+xmSEo=", "action"=>"create", "repository"=>{"url"=>"/home/nettantra_base/domains/hg.nettantra.com/repos/nt-test", "checkout_display_command"=>"0", "path_encoding"=>"", "identifier"=>"", "checkout_description"=>"The data contained in this repository can be downloaded to your computer using one of several clients.\r\nPlease see the documentation of your version control software client for more information.\r\n\r\nPlease select the desired protocol below to get the URL.\r\n", "checkout_overwrite"=>"0", "is_default"=>"1", "checkout_protocols"=>{"-1"=>{"protocol"=>"empty"}, "0"=>{"fixed_url"=>"", "access"=>"permission", "command"=>"git clone", "protocol"=>"Git", "is_default"=>"1"}}, "extra_report_last_commit"=>"0"}, "project_id"=>"test-project"}

NoMethodError (undefined method `project=' for nil:NilClass):
  app/controllers/repositories_controller.rb:49:in `create'
  passenger (3.0.11) lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
  passenger (3.0.11) lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
  passenger (3.0.11) lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
  passenger (3.0.11) lib/phusion_passenger/classic_rails/application_spawner.rb:321:in `start_request_handler'
  passenger (3.0.11) lib/phusion_passenger/classic_rails/application_spawner.rb:275:in `send'
  passenger (3.0.11) lib/phusion_passenger/classic_rails/application_spawner.rb:275:in `handle_spawn_application'
  passenger (3.0.11) lib/phusion_passenger/utils.rb:479:in `safe_fork'
  passenger (3.0.11) lib/phusion_passenger/classic_rails/application_spawner.rb:270:in `handle_spawn_application'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:357:in `__send__'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:180:in `start'
  passenger (3.0.11) lib/phusion_passenger/classic_rails/application_spawner.rb:149:in `start'
  passenger (3.0.11) lib/phusion_passenger/spawn_manager.rb:219:in `spawn_rails_application'
  passenger (3.0.11) lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
  passenger (3.0.11) lib/phusion_passenger/spawn_manager.rb:214:in `spawn_rails_application'
  passenger (3.0.11) lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
  passenger (3.0.11) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (3.0.11) lib/phusion_passenger/spawn_manager.rb:213:in `spawn_rails_application'
  passenger (3.0.11) lib/phusion_passenger/spawn_manager.rb:132:in `spawn_application'
  passenger (3.0.11) lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:357:in `__send__'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
  passenger (3.0.11) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
  passenger (3.0.11) helper-scripts/passenger-spawn-server:99

Rendering /var/redmine/public/500.html (500 Internal Server Error) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-26T14:46:52.027

好像您正在`redmine_checkout`与 Redmine 1.4 一起运行该插件，并且最新发布的版本（0.5）`redmine_checkout`还没有为 Redmine 1.4 准备好。

然而，Github 上有补丁，尤其是来自用户[tonybarbieri的补丁。](https://github.com/tonybarbieri/redmine_checkout)我将它们合并并添加了另一个修复程序以使用 Ruby 1.9.3 运行它，您也可以在[Github](https://github.com/rkallensee/redmine_checkout)上找到结果。

所以解决方案是将你的`redmine_checkout`插件版本更新到 Git master 上的最新版本（例如通过克隆我的 Github 存储库）：

```
cd vendor/plugins
rm -R redmine_checkout
git clone git://github.com/rkallensee/redmine_checkout.git redmine_checkout 
```

不要忘记从 Redmine 安装目录运行插件迁移：

```
rake db:migrate_plugins RAILS_ENV=production 
```

可能你必须跑

```
bundle install --without development test 
```

再次从 Redmine 安装目录（至少我必须 - 否则`rake db:migrate_plugins RAILS_ENV=production`命令失败 - 即使`bundle install`没有安装任何新的 gem）。

重新启动您的Redmine安装，您应该没问题！

# javascript - 如何在 NetBeans 的 JSDoc 注释中转义 @ 符号

> ID：10223916
> 
> 赞同：14
> 
> 时间：2012-04-19T08:01:18.233
> 
> 标签：javascript, netbeans, jsdoc

我在 API 中有一个简单的方法，允许使用 JSONPath 搜索对象。由于初级开发人员对它的语法非常陌生，我决定在 JSDoc 注释中提供一些示例。然而，这里有一个问题， -`@`符号被视为新 jsdoc-tag 的开始，因此描述被破坏。

问题：**如何使 NetBeans**（或一般的 jsdoc）**忽略`@`特定代码块内的符号？**最好在`@example`块内。

因此，此代码将在工具提示中显示未修改：

`$..book[?(@.price<10)] // - filter all books cheaper than 10`

此外，`@example`, `<code>`, `<pre>`- 没有帮助。

Html 实体在工具提示`&#64;`中转换为，*但*它在代码本身 ( )中看起来不可读，*并且*它仅在主要 jsdoc 文本中工作......`@`*`$..book[?(&#64;.price<10)]`*

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2018-04-13T06:11:08.807

这是一个很老的问题，但我遇到了同样的问题，除了在 VSCode 中，我想我会分享一个可能的解决方案。

最终起作用的是在示例`@returns` *下方*移动，不幸的是，没有使用`@example`，例如：

```
/**
 * some description
 * 
 * For example:
 * ```js
 * $..book[?(@.price<10)] // - filter all books cheaper than 10
 * ```
 * @returns {*} whatever you're returning
 */ 
```

这并不理想，但适用于 VSCode 的工具提示；我不确定它是否适用于 NetBeans。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-04-19T16:40:06.337

不确定这是否适用于所有环境，但是在打字稿（.ts）文件上使用 VSCode 时，我能够使用模板字符串来实现很好地显示的示例代码

```
/**
 * @description
 * This function totally does something.
 *
 * @example```
import { SomeThing } from '@mycompany/my-cool-library';

DoSomething(SomeThing)```
 * 
 * @returns string
 */ 
```

使工具提示显示如下：

[![转义_the_@_sign](../Images/bd5c51b9086374096f60ac7658894078.png)](https://i.stack.imgur.com/tbPbQ.png)**

# python - 是否有可能在 python 中获取列表的字典？

> ID：10223918
> 
> 赞同：0
> 
> 时间：2012-04-19T08:01:29.760
> 
> 标签：python

我想将列表添加到 python 中的字典变量中。是否有可能在 python 中获取列表的字典？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:04:27.013

是的

```
In [1]: mydict = {'a':[1,2],'b':[3,4]}

In [2]: mydict['a']
Out[2]: [1, 2]

In [3]: mydict['b']
Out[3]: [3, 4] 
```

`mydict`有两个列表。键`a`访问列表`[1, 2]`，而键`b`访问列表`[3, 4]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T08:04:32.143

是的，但您仍然需要一个字典键，例如：

```
d = {}
l1 = [1, 2, 3]
l2 = [4, 5, 6]
d['l1'] = l1  # Define your own key for 'l1' 
d['l2'] = l2  # Define your own key for 'l2' 
```

# audio - 使用 alsa_out 插孔音频和多个音频设备

> ID：10223920
> 
> 赞同：1
> 
> 时间：2012-04-19T08:01:39.573
> 
> 标签：audio, alsa, jack

有谁知道为什么我不能将两个 alsa_out 实例与 jack 一起使用？我有 3 个声卡，我想同时使用它们。我的电脑里有一个和两个 USB 设备。这是我的设置：

```
 0 [PCH            ]: HDA-Intel - HDA Intel PCH
                      HDA Intel PCH at 0xf1c00000 irq 47
 1 [Pro            ]: USB-Audio - SB X-Fi Surround 5.1 Pro
                      Creative Technology Ltd SB X-Fi Surround 5.1 Pro at usb-0000:04:00.0-1, full sp
 2 [Pro_1          ]: USB-Audio - SB X-Fi Surround 5.1 Pro
                      Creative Technology Ltd SB X-Fi Surround 5.1 Pro at usb-0000:04:00.0-2, full sp 
```

因此，如果我在 hw:0 设备上启动 jack 服务器，我只能使用 hw:1 或 hw:2 （通常我使用 hw:Pro 和 hw:Pro_1）启动一张 USB 卡，使用以下命令：

```
alsa_out -j "Alsa Dedicated Input 0" -d hw:Pro -c 6 -q 2 -r 48000 
```

alsa out的第二个istance：

```
alsa_out -j "Alsa Dedicated Input 0" -d hw:Pro_1 -c 6 -q 2 -r 48000 
```

说：设备正忙或无法访问它我只能使用 dmix: Pro_1 启动实例，但我只能使用 2 个通道，我想使用所有 6 个通道。

我尝试使用 ~/.asoundrc 合并所有声卡，但没有任何反应。我不知道如何使它工作。我同时使用 ubuntu 11.10 和 ubuntu studio 11.10，我试图让它在这两个操作系统上都运行。

任何人都可以帮助我吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T08:02:43.527

以防万一其他人正在寻找答案。aplay -L （注意 cap L）会给你几个不同前缀的条目，例如 hw dmix dsnoop ... hw 特别是直接到硬件并且不允许共享，这就是为什么你的第二次调用失败的原因，例如尝试 dmix。

# java - 是否可以在 JSESSIONID 中附加/附加文本字符串？

> ID：10223921
> 
> 赞同：0
> 
> 时间：2012-04-19T08:01:39.597
> 
> 标签：java, jsessionid

寻找**应用程序服务器中立**的方式来做到这一点。我仍然会感谢所有可用的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-21T20:42:19.470

JSESSIONID 的值取决于[servlet 规范](http://jcp.org/aboutJava/communityprocess/final/jsr315/index.html)的应用服务器实现。

对于 tomcat，您可以使用引擎配置中的 jvmroute 参数配置 JSESSIONID：[Apache Tomcat 配置参考](http://tomcat.apache.org/tomcat-6.0-doc/config/engine.html)。

示例：server.xml [...]

```
<Engine name="Catalina" defaultHost="localhost" jvmRoute="jvm1"> 
```

[...]

收到新会话的 HTTP 标头：[...]

```
Cookie:JSESSIONID=D258081D2030693CB1BD52992FFE6CFD.jvm1 
```

[...]

# java - Hibernate 公式注解 - MySql 函数：INTERVAL、DAY

> ID：10223929
> 
> 赞同：2
> 
> 时间：2012-04-19T08:02:22.047
> 
> 标签：java, mysql, hibernate, annotations

我有代码：

```
@Id
@Column(name = "id")
@GeneratedValue
private int id;

@Formula(value = "(SELECT count(history.city_id) FROM history where history.ts > (now() - INTERVAL 30 DAY) and history.city_id = id)")
private int last30daysUpdates; 
```

因此，hiberante 将此公式解析为：

```
 ...where
            history.ts > (
                now() - entitycity0_.INTERVAL 30 entitycity0_.DAY
            ) ... 
```

错误是：

您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取在 '30 entitycity0_.DAY 附近使用的正确语法）

我怎么能说 INTERVAL 和 DAY 是 Mysql 的函数？可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-19T08:16:47.560

`INTREVAL`和`DAY`（这里使用的）不是函数。不确定 Hibernate 是否被“说服”，但您可以尝试替换：

```
(now() - INTERVAL 30 DAY) 
```

和：

```
DATE_SUB( NOW(), INTERVAL 30 DAY ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-03T11:25:25.250

您使用哪种 MySQL 方言？如果 MySqlDialect oder MySql5Dialect 你可以使用如下：

```
SELECT count(history.city_id) FROM history where timediff(now(), history.ts) < '720' and history.city_id = id 
```

或者定义新的休眠功能

```
public class ExtendedMySQL5Dialect extends MySQL5Dialect 
{
        public ExtendedMySQL5Dialect() 
        {
           super();
           registerFunction( "date_sub_interval", new SQLFunctionTemplate( Hibernate.DATE, "date_sub(?1, INTERVAL ?2 ?3)" ) );
           registerFunction( "date_add_interval", new SQLFunctionTemplate( Hibernate.DATE, "date_add(?1, INTERVAL ?2 ?3)" ) );           
        }
} 
```

询问：

```
History.ts < date_sub_interval(now(), 30, DAY) 
```

# java - 防止 IntelliJ 在单元测试时编译 src-Classes

> ID：10223933
> 
> 赞同：3
> 
> 时间：2012-04-19T08:02:46.157
> 
> 标签：java, unit-testing, intellij-idea

我有以下项目结构

```
/
   src/  # src-files for the app
    org.mayapp.main.Main/
 test/ # unit-tests
    org.myapp.test.main.MainTestSuite/ 
```

当我想运行我的单元测试时，例如`org.myapp.test.main.MainTestSuite`，IntelliJ 总是尝试编译整个项目中的**所有包。**

我想防止这种情况发生，因为我目前正在我的应用程序的一部分上进行开发，并且仍然想在应用程序的其他部分运行单元测试。

有没有办法阻止 IntelliJ 在运行单元测试之前编译整个项目？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-19T08:22:37.643

当您在 IntelliJ 中运行测试时，您会看到它为该测试添加了一个运行目标，请参阅 JUnit 部分下的 Run -> Edit Configurations。

如果您查看测试的运行目标，您会看到默认情况下选择了*“启动前**”*部分。如果您取消选择*Make* IntelliJ 将不会在测试运行之前生成/编译。

请记住保存运行目标，因为 IntelliJ 在您运行不同的测试时会创建新目标。

# scala - 使用 scala 组合器解析命题逻辑

> ID：10223944
> 
> 赞同：1
> 
> 时间：2012-04-19T08:03:30.043
> 
> 标签：scala, logic, combinators

我已经为大学的一项作业设置了一项家庭作业任务，使用 Scala 组合器来解析命题逻辑，我正要撕毁我的头发，因为我已经为此工作了几个小时，甚至无法通过第一阶段。

最初的部分是构建一个识别器，它构建符合给定 EBNF 形式的识别类型（类型已经单独提供）。（[] 表示 0 或一，+ 表示一或多个，* 表示零或多个）

```
prop  ::=  equiv

equiv ::=  impl biArrow impl
                                   p <=> q   becomes  Equivalent (P, Q)
                                   p <+> q   becomes  Not (Equivalent (P, Q))
impl  ::=  disj [impls]
impls ::=  (rightArrow disj)+
                                   p => q    becomes  Implies (P, Q)
        |  (leftArrow disj)+
                                   p => q    becomes  Implies (Q, P)
disj ::=  conj (disjOp conj)*
                                   p | q    becomes  Or (P, Q)
conj ::=  neg (conjOp neg)
                                   p & q    becomes  And (P, Q)
neg  ::=  negs | pos
negs ::=  negOp neg
                                   ~ p      becomes  Not (P)
pos  ::=  ident | "(" prop ")"
                                   ident   becomes  Literal (true, ident) 
```

我们在组合器中给出的 scala 代码提供了一个错误的 prop 定义。我已经开始像这样填写类来匹配上面的代码，但是即使我实现它，我也没有捕捉到正确的错误，我认为实际上我不明白你如何指定捕捉一个值解析器

```
trait PropRecognizer extends RegexParsers {

  val ident = """[a-zA-Z]\w*""".r

  val biArrow = "<=>" | "<+>"
  val rightArrow = "=>"
  val leftArrow = "<="
  val disjOp = "|"
  val conjOp = "&"
  val negOp = "~"
  lazy val pos = ident | "("~prop~")"
  lazy val negs: Parser[Any] = negOp~neg
  lazy val neg = negs | pos
  lazy val conj = neg~(conjOp~neg).* | neg
  lazy val disj = conj~(disjOp~conj).* | conj
  lazy val impls = (rightArrow~disj).+ | (leftArrow~disj).+ | disj
  lazy val impl = disj~impls.? | impls
  lazy val equiv = impl~biArrow~impl | impl
  lazy val prop: Parser[Any] = rep(equiv)
} 
```

任何帮助，形成更好的语法概述的提示都会有难以置信的帮助，我一直在阅读文档，但似乎仍然无法在我的脑海中点击它。我知道这对于那些习惯于命题逻辑和解析器的人来说是一个相当容易的问题，但我已经摸索了好几个小时了，而且我已经快要一点一点地破解它了。

编辑：更新一个项目给出的语法是错误的，所以我对其进行了调整，现在可以完美运行：

```
lazy val prop: Parser[Any] = rep(equiv)
lazy val equiv: Parser[Any] = impl~(biArrow~impl).?
  lazy val impl = disj~impls.?
  lazy val impls: Parser[Any] = (rightArrow~disj).+ | (leftArrow~disj).+
  lazy val disj = conj~(disjOp~conj).*
  lazy val conj: Parser[Any] = neg~(conjOp~neg).* 
  lazy val neg: Parser[Any] = negs | pos
  lazy val negs: Parser[Any] = negOp~neg 
  lazy val pos = ident | "("~prop~")" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T09:26:46.987

您需要使用`^^`运算符/方法将解析的表达式转换为表示类。例如：

```
lazy val conj: Parser[And] = neg~conjOp~neg ^^ {case p1~_~p2 => And(p1,p2)} 
```

这假设`neg`是 类型`Parser[Proposition]`，它是表示任何公式的超类，并`And`接受两个命题作为参数。您需要知道 a`Parser[T]`将解析一些输入并返回一个类型的值`T`作为其结果。

也是`Parser`协变的，因此您可以`Parser[And]`在需要解析任何命题的地方使用。

看一下[这个](http://code.google.com/p/aima-scala/source/browse/trunk/src/main/scala/aima/logic/propositional/PropositionalLogicGrammar.scala?r=47)命题逻辑解析器的例子。

# javascript - 如何在移动网页上创建单击并按住按钮？

> ID：10223951
> 
> 赞同：1
> 
> 时间：2012-04-19T08:03:48.123
> 
> 标签：javascript, jquery, html, mobile

我在一些 JS 旁边的页面上有一个按钮，它提供了单击并按住的行为。随着时间的推移，按住鼠标按钮会增加页面上的一些值。我的意思的演示在这里：

[http://jsfiddle.net/ianb/kS8Hf/](http://jsfiddle.net/ianb/kS8Hf/)

问题是当我在我的手机（Android 2.3.5）上查看这个页面时，我的浏览器会覆盖按钮行为。如果我按住按钮，我会收到一个提示，询问我是否要保存按钮图像。

有没有办法在浏览器中阻止这种行为，或者在用于移动的页面上实现这个按钮行为？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:20:06.170

您是否尝试过一些带有背景而不是图像的元素？Afaik，当您在后台浏览器中使用*div*时，不应弹出保存此图像的提示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:20:11.857

按钮行为由手机/操作系统制造商管理。为了获得最佳的 webapp 体验，您应该尽量避免像“按住”这样的事件，并尝试实现用于输入/减少值的按钮。滑块也是一样，没有办法让滑块在触摸屏上工作:)

问候克里斯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:17:52.480

试试这个：

```
$('.click_and_hold').mousedown(function(e) {
    e.preventDefault();
    beginAdjust(10);
}) 
```

或者你可以尝试`return false`鼠标按下。

# google-app-engine - 将 JDO 查询转换为 Objectify 查询

> ID：10223953
> 
> 赞同：0
> 
> 时间：2012-04-19T08:03:51.557
> 
> 标签：google-app-engine, jdo, objectify

我一直在考虑如何将此 JDO 查询转换为 Objectify 查询，但我只能找到`listByProperty`无法应用此类过滤器的函数：

```
Date expiry = new Date(new Date().getTime() - MAX_TIME);
Query query = pm.newQuery(User.class, "someProperty == null && " +
          "lastModified < dateParam");
query.declareParameters("java.util.Date dateParam");
query.setOrdering("lastModified asc, created asc");
query.setRange(0, 2);
List<User> users = (List<User>) query.execute(expiry); 
```

**listByProperty 的代码：**

```
public List<T> listByProperty(String propName, Object propValue)
{
    Query<T> q = ofy().query(clazz);
    q.filter(propName, propValue);
    return asList(q.fetch());
} 
```

我不熟悉 JDO 查询，因此希望您能分享一些见解。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T14:39:48.380

在 Objectify3 中：

```
ofy.query(User.class)
    .filter("someProperty", null)
    .filter("lastModified <", expiry)
    .order("lastModified")
    .order("created")
    .limit(2); 
```

在 Objectify4 中：

```
ofy.load().type(User.class)
    .filter("someProperty", null)
    .filter("lastModified <", expiry)
    .order("lastModified")
    .order("created")
    .limit(2); 
```

# sql - 插入和更新时的 Sybase 触发器 - 处理失败

> ID：10223959
> 
> 赞同：1
> 
> 时间：2012-04-19T08:04:22.883
> 
> 标签：sql, triggers, insert, sap-ase

在 Sybase ASE 中，我有一些审计表和位于主表上的触发器。审计非常简单，每个表都有一个插入/更新/删除触发器，它简单地插入一个相同的行和附加列，该列标记/标记操作是插入、更新还是删除、用户和时间。

现在审计并不重要，所以如果由于任何原因审计触发器失败，那么我们希望避免杀死触发触发器的整个操作。

假设 TableA 具有插入 TableB 的 TriggerA。

我们在 TableA 上执行 StatementX，它触发由 StatmentsY 组成的 TriggerA，TriggerA 在 SatmentsY 上无法插入到 TableB 中。现在正常的模式是回滚 StatementX 和 StatementY 以确保完整性。

有没有办法说在触发器内创建一个保存点，这样如果 StatementY 失败，StatementX 没有中断并且 StatementX 仍然被提交（即只有 StatementY 被回滚）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T09:23:13.060

我认为这是不可能的。

> 触发器仅在数据修改语句完成并且 Adaptive Server 检查任何数据类型、规则或完整性约束违规后触发。触发器和触发它的语句被视为可以从触发器内回滚的单个事务。如果检测到严重错误，则回滚整个事务。

有关更多信息，请查看[此](http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.help.ase_15.0.commands/html/commands/commands29.htm)。

* * *

添加：您还可以查看[此](http://manuals.sybase.com/onlinebooks/group-as/asg1250e/sqlug/@Generic__BookTextView/49241;pt=49416)以获取有关回滚触发器的信息，但我认为这不完全是您想要的。

# matlab - MATLAB - minmax() 函数

> ID：10223963
> 
> 赞同：1
> 
> 时间：2012-04-19T08:04:33.293
> 
> 标签：matlab, matrix, max, minimum, minmax

我下载了一个涉及 minmax() 函数的代码，代码的主干如下所示：

```
A = [13 5; 
    13, 13; 
    23, 26];

B = [13, 6; 
    13\. 6; 
    5, 26];

C = [A;B];
Datad = minmax(C');

G = 178*Datad(1,1)/174*Datad(1,2) 
```

当我运行代码时，出现了一条错误消息：

> *“double”类型的输入参数的未定义函数或方法“minmax”。*

所以我去了谷歌，这个简单的代码应该可以工作：

```
 x=1:10;
   m=minmax(x)

m =

 1    10 
```

但是它不起作用，并且出现了相同的错误消息。

由于我认为 minmax 不会起作用，所以我的问题是：

有没有其他方法可以替换*minmax*？我知道有一个*最小值*和*最大值*函数可以完成这项工作。但我不确定原始的*minmax*函数如何用于矩阵，因为我需要正确处理才能获得 G。

minmax 函数定义为：[这里](http://chronux.org/downloads/chronux/chronux/documentation/chronux_2_00/spikesort/utility/datatools/minmax.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T09:11:16.787

尝试`which minmax`找出它的位置。如果您收到错误`'minmax' not found.`，那么您的搜索路径中没有它。

`which minmax`给了我`/usr/local/MATLAB/R2011b/toolbox/nnet/nnet/nndatafun/minmax.m`（Linux 版本），所以在我看来该功能`minmax`在神经网络工具箱中。所以也许你还没有安装神经网络工具箱。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T09:01:43.827

在您的代码中使用它，然后您不需要单独的文件。

```
minmax = @(x) [min(x(:)) max(x(:))]; 
```

请注意，它不支持`[Y,I] = minmax(X)`您提供的链接中提到的语法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:25:54.403

错误消息告诉您 matlab 找不到该函数。这里有两个可能的罪魁祸首。

1) 文件未命名`minmax.m`：matlab 通过文件名查找函数。在这种情况下，重命名文件。
2)`minmax.m`所在目录不在 matlab 上`path`。在这种情况下，要么将该目录添加到路径中，要么将文件移动到路径上的目录（或当前目录）。

# windows - u_short 的头文件？

> ID：10223974
> 
> 赞同：2
> 
> 时间：2012-04-19T08:05:00.410
> 
> 标签：windows, visual-studio, visual-c++, header

谁能告诉我要用于等的头`u_short`文件`u_char`：

我已经看到它被用于`sys/socket.h`：

```
typedef u_char      sa_family_t; 
```

但是当我在我的程序中使用该标题时，它给了我错误：

```
1>c:\program files\microsoft visual studio 10.0\vc\include\sys\socket.h(52):
error C2146: syntax error : missing ';' before identifier 'sa_family_t' 
```

我认为解决方案是包含标题，但我不知道它是什么标题！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-13T03:45:11.957

> Header file for u_short?

We just ramped up testing on less-frequently-used platforms. We ran into a similar issue under Cygwin i686 with GCC 5.3 and `-std=c++11`. The code has been stable for about 15 years (give or take).

I can't find a standard header for it.

Grepping on OS X and Linux shows `u_short` is fairly prevalent, even though there are 0 hits under Cygwin now (JUN 2016):

```
# Ununtu
$ grep -IR "u_short" /usr/include | wc -l
 31

# OS X
$ grep -IR "u_short" /usr/include | wc -l
 122

# Solaris
$ /usr/gnu/bin/grep -IR "u_short" /usr/include/ | wc -l
 125 
```

And:

```
# Ubuntu
$ grep -IR "u_short" /usr/include | grep typedef
/usr/include/x86_64-linux-gnu/bits/types.h:typedef unsigned short int __u_short;
/usr/include/x86_64-linux-gnu/sys/types.h:typedef __u_short u_short;
/usr/include/rpc/types.h:typedef __u_short u_short;
/usr/include/linux/coda.h:typedef unsigned short u_short;

# OS X
$ grep -IR "u_short" /usr/include | grep typedef
/usr/include/netinet/ip_mroute.h:typedef u_short vifi_t;        /* type of a vif index */
/usr/include/netinet6/ip6_mroute.h:typedef u_short mifi_t;      /* type of a mif index */
/usr/include/sys/types.h:typedef    unsigned short      u_short;

# Solaris
$ /usr/gnu/bin/grep -IR "u_short" /usr/include/ 2>/dev/null | grep typedef
/usr/include/sys/types.h:typedef unsigned short u_short;
/usr/include/rpcsvc/nfs_acl.h:typedef u_short o_mode; 
```

You should be safe with a cast to `unsigned short` or perhaps a `uint16_t` (on Unix and Linux from `<stdint.h>`) rather than `u_short`.

# c++ - 获取类中静态属性的数量

> ID：10223975
> 
> 赞同：4
> 
> 时间：2012-04-19T08:05:01.947
> 
> 标签：c++, sizeof, static-members, static-assert

我有一个仅由静态属性组成的类，充当一种穷人的单身人士。其目的是从应用程序的各个点收集统计信息。对于我们的单元测试，我创建了一个卷影副本，可用于获取生产代码之间的差异。

例子：

```
struct Production {
    static ComplexClass value1;
    static ComplexClass value2;
};

struct ProductionShadow {
    static ComplexClass::ValueType value1;
    static ComplexClass::ValueType value2;
}; 
```

由于所有成员都是静态的，影子类不能从生产类继承，并且生产类中的属性是具有副作用的复杂对象，我只希望影子保存简单的值以进行比较。

为了使影子类更易于维护，我想添加一个静态断言来检查每当有人向生产类添加属性时，影子类也会更新。

如果属性不是静态的，这可以通过执行以下操作轻松完成：

```
enum { NumberOfProductionAttributes = sizeof(Production) / sizeof(ComplexClass),
       NumberOfShadowAttributes = sizeof(ProductionShadow) / sizeof(ComplexClass::ValueType) };
STATIC_ASSERT(NumberOfProductionAttributes == NumberOfShadowAttributes); 
```

除了使类成为非静态类（我不想这样做，因为我必须将生产类变成一个适当的单例）之外，有没有什么办法可以用当前的实现来完成这个检查？

在运行时，我有一个方法可以使用生产类验证阴影中的所有值。由于添加新属性时也必须更新该方法，因此我希望能够计算已验证的属性数量，并在数量与属性总数不同时断言。

例子

```
bool ProductionShadow::verify() {
    std::size_t numberOfVerified = 0;
    #define VERIFY(x) do { \
        ++numberOfVerified; \
        // Verification code goes here \
    } while (0)
    VERIFY(value1);
    VERIFY(value2);
    ASSERT(numberOfVerified == NumberOfShadowAttributes);
    // Return result
} 
```

如果有一个 GCC 扩展，我可以使用这可能是一个可接受的解决方案，即使我更喜欢可移植的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:21:17.050

您可以使用 和 的`inheritance`组合`template`。

```
enum ClassType { DEFAULT, SHADOW };

template<ClassType E>
struct Production_T
{
  static ComplexClass value1;
  static ComplexClass value2;
};
typedef Production_T<DEFAULT> Production;

struct ProductionShadow : Production_T<SHADOW> {
  // add only new 'static' members, others are copied from 'Production_T'
}; 
```

If some member is added to `Production_T`, the ProductionShadow will automatically updated. So you don't have to worry about duplicating the members in `ProductionShadow`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:29:17.110

Just in case, here is the solution I suggested in the comments to the question. The idea is to create two classes that contain the data members in question *in the form of non-static members*:

```
struct ProductionStaticMembers
{
  ComplexClass value1;
  ComplexClass value2;
};

struct ProductionShadowStaticMembers
{
  ComplexClass::ValueType value1;
  ComplexClass::ValueType value2;
}; 
```

And then redefine the original classes to contain the classes defined above as *static members*. They would continue to function as before, and size checks could be performed against the types defined above.

```
struct Production {
  static ProductionStaticMembers static_members;
};

struct ProductionShadow {
  static ProductionShadowStaticMembers static_members;
}; 
```

Admittedly, this means a change in how the static members are accessed (because they are now members of another member); therefore many changes to existing code might be required.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:27:27.103

You could do this with macros. Its a little bit ugly but would work:

productiondecl.h

```
struct PRODUCTION_TYPE
{
    PRODUCTION_VAR(ComplexClass, value1);
    PRODUCTION_VAR(ComplexClass, value2);
}; 
```

production.h

```
#define PRODUCTION_TYPE Production
#define PRODUCTION_VAR(type,name) static type name;
#include "productiondecl.h"
#undef PRODUCTION_TYPE 
#undef PRODUCTION_VAR 
```

productionshadow.h

```
#define PRODUCTION_TYPE ProductionShadow
#define PRODUCTION_VAR(type,name) static type::ValueType name;
#include "productiondecl.h"
#undef PRODUCTION_TYPE 
#undef PRODUCTION_VAR 
```

If you cant use type::ValueType in every case, write a metafunction to elucdiate the type:

```
template <typename T>
struct ShadowType
{
    // default type is type::ValueType
    typedef T::ValueType type;
};
template <> ShadowType<SomeOtherType>
{
    typedef SomeOtherTypeShadow type;
}
#define PRODUCTION_VAR(type, name) static ShadowType<type>::type name; 
```

OR, you could avoid macros and use a template policy:

```
struct ComplexClass {
    typedef int ValueType;
};

template <typename T>
struct ShadowType
{
    typedef typename T::ValueType type;
};
template <typename T>
struct ProductionType
{
    typedef T type;
};

template <template <typename T> class Policy>
struct ProductionBase
{
    static typename Policy<ComplexClass>::type value1;
    static typename Policy<ComplexClass>::type value2;
};

struct Production : public ProductionBase<ProductionType>
{
};
struct ProductionShadow : public ProductionBase<ShadowType>
{
}; 
```

Or, a hideous hack, using macros to avoid changing the production code:

```
#define Production ProductionShadow
#define ComplexClass ComplexClass::ValueType
#include "production.h"
#undef Production 
#undef ComplexClass 
```

# security - 密码保护 - bcrypt 与登录时强制延迟？

> ID：10223983
> 
> 赞同：1
> 
> 时间：2012-04-19T08:05:36.167
> 
> 标签：security, bcrypt

我一直在做很多关于在数据库中安全存储密码的研究，[bcrypt](http://en.wikipedia.org/wiki/Bcrypt)似乎作为最安全的哈希算法之一到处出现，所以我可能会用它来存储我网站的密码（用 PHP 编写）。它的主要卖点之一似乎是它非常慢，因此有助于减缓蛮力/字典攻击。从字面上看，我读过的每一篇文章都提到了 bcrypt 有多棒，因为它很慢，因此可以防止暴力攻击。

所以，我的问题是：我不能在使用 PHP 登录失败后手动让我的代码暂停一两秒钟`sleep()`吗？为什么 bcrypt 很慢如此重要？我的印象是我可以使用任何加密算法（假设它和 bcrypt 一样加密），在登录失败时添加 PHP sleep()，并且对暴力/字典攻击的防御能力与bcrypt。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-19T08:14:52.000

*bcrypt*和*强制登录延迟*可防止两种不同的攻击。

强制登录延迟增加了对**在线攻击**的保护，攻击者使用您的登录页面尝试不同的密码。

*bcrypt*增加了针对**离线攻击**的保护，攻击者可以访问您的密码哈希，并且可以在不使用登录页面的情况下尝试哈希。

# math - 基于Slab的Ray-box相交，算法中Tnear和Tfar是什么意思？？？？

> ID：10223985
> 
> 赞同：0
> 
> 时间：2012-04-19T08:05:39.280
> 
> 标签：math, raytracing

实际上，我曾经读过这里描述的算法：[http](http://www.siggraph.org/education/materials/HyperGraph/raytrace/rtinter3.htm) ://www.siggraph.org/education/materials/HyperGraph/raytrace/rtinter3.htm 这个算法可以决定光线是否击中轴对齐的盒子。

在算法中，它计算平面的相交距离，即： T1 = (boxmin - o) / d T2 = (boxmax - o) / d boxmin(xl,yl,zl) 是盒子的最小范围， boxmax(xh,yh,zh) 是框的最大范围。o(xo,yo,zo) 是射线的原点，d(xd,yd,zd) 是射线的方向向量。它们都是 vector3 或 float3 变量。

然后算法找到 T1 中的最大分量和 T2 中的最小分量，并将它们分别设置为 Tnear 和 Tfar。如果接近

虽然很优雅，但我不明白为什么这个算法可以做到，有什么数学理论吗？

我不明白为什么他们需要 T1 和 T2 以及为什么要这样计算它们以及 Tfar 和 Tnear 在数学中的含义是什么。也许看起来我们在 3D 空间中有直线方程，即 (x-x0)/xd = (y-y0)yd = (z-z0)/zd，然后将 x,y,z 设置为 boxmin和boxmax。但我不确定。

非常感谢您为我解释这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T15:05:12.533

在 3D 几何中，t 通常代表某点在直线上的位置。线通常由 x0 + n*t 定义，其中 x0 是线上的一个点（通常是“原点”），n 是线的方向向量。t_min 和 t_max 是两个交点的 t 值。碰巧当 t_min < t_max 时，线与框相交，因此它们的名称。

# clojure - Clojure、Overtone、Supercollider 中的声音合成

> ID：10223992
> 
> 赞同：9
> 
> 时间：2012-04-19T08:05:58.107
> 
> 标签：clojure, supercollider

我刚刚完成了 [https://github.com/overtone/overtone/wiki/Getting-Started](https://github.com/overtone/overtone/wiki/Getting-Started) 这太棒了。

现在，我想做更多。

我是数学/CS专业的，所以我知道傅立叶变换是什么；但是，我没有音乐背景。我想学习以下内容：

*   模拟基本打击乐器
*   组成一些短片。

但是，我对从头开始开发这些技能*不太*感兴趣，而对通过 clojure/overtone/supercollider 获得一个不错的教程/导游*更感兴趣。*

[我发现通过调整一些好的东西来学习更快；而不是为我的第一次运行从头开始构建。]

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-19T14:44:48.117

我不知道任何导游本身，但 Overtone 的[示例](https://github.com/overtone/overtone/tree/master/src/overtone/examples)包含大量代码，用于合成各种乐器以及从这些乐器和/或采样乐器中创作作品。我个人推荐[`bells.clj`](https://github.com/overtone/overtone/blob/master/src/overtone/examples/compositions/bells.clj)（合成铃+作曲）和[`auto_dubstep.clj`](https://github.com/overtone/overtone/blob/master/src/overtone/examples/compositions/auto_dubstep.clj)（合成鼓+作曲）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-19T14:52:19.813

它并不能完全回答您的问题（与 clojure 无关），但我很确定您会欣赏 dave benson 的[数学和音乐](http://www.scribd.com/doc/35803084/Mathematics-and-Music-Dave-Benson)（似乎他也有其他书籍，但那是在线免费的）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-19T22:01:28.267

有很多关于制作声音的例子，虽然当开始使用 Overtone 时（我仍然是 99% 新手）发现`line`防止你泄漏合成器描述符并且`metronome`有时会导致声音发生的功能花了太长时间。

```
(definst
    ... create component sounds ...
    (out 0 (* v (clip2 (+ wob (* kick-vol kick) (* snare-vol snare)) 1)
              (line:kr 0 dur dur FREE))) 
```

乘以调用以`line:kr`创建具有定义生命周期的合成器

`metronome`然后你可以像在这个小节拍中那样使用for 组合：

```
(defn beat2 [beat]
  (at (metro beat) (#'kick 220 0.3 0.5 1.5))
  (at (+ 0.5  (metro beat)) (#'kick 220 0.3 0.5 1.5))
  (if (= 0 (mod beat 2))
    (at (metro (+ 0.17 beat)) (#'kick)))
  (at (metro (+ 0.35 beat)) (c-hat))
  (if (even? beat) (at (metro (+ 0.45 beat)) (c-hat)))
  (at (metro (+ 0.5 beat)) (#'mew 8))
  (apply-at (metro (inc beat))
            (if (= 0 (mod beat 200)) #'beat1 #'beat2)
            (inc beat) [])) 
```

# mysql - 我可以在 MySQL 中使用 IN 运算符以区分大小写的方式查询数据吗？

> ID：10223994
> 
> 赞同：1
> 
> 时间：2012-04-19T08:06:03.693
> 
> 标签：mysql, case-sensitive

以下：

```
select * from people where first_name in ('John', 'Jim'); 
```

会带上所有有 first_name 的人

*   约翰
*   约翰
*   伊姆
*   吉姆

以及各种这样的组合，因为查询是在不区分大小写的模式下运行的。

我怎样才能让它在区分大小写的模式下运行？

我试过了：

```
select * from people where first_name in binary ('John', 'Jim'); 
```

但它不起作用。

请不要告诉我更改列的排序规则。我希望根据用户的选择（区分大小写或不区分大小写）动态地进行此操作。

任何事物？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T08:09:03.413

尝试

```
select * from people 
where first_name COLLATE latin1_general_cs in ('John', 'Jim'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:09:52.360

with 的想法`binary`很好，但是您将其应用于列名而不是搜索词。这样，索引将不会被使用。但是，您可以使用以下组合：

```
WHERE first_name in ('John','Jim') AND BINARY first_name in ('John','Jim') 
```

# python - 执行 python manage.py syncdb 会重置我在 Pinax 中的管理员更改

> ID：10223995
> 
> 赞同：0
> 
> 时间：2012-04-19T08:06:04.983
> 
> 标签：python, django, pinax

我运行 Pinax 0.9.2a**基本**入门项目。当我进入管理面板更改站点名称时，它会正确保存并相应地显示在网页上。但是在我运行之后，`python manage.py syncdb`我得到以下输出，以及我的页面标题被重置回*example.com*。

```
Creating tables ...
Creating table outfits_outfit
Installing custom SQL ...
Installing indexes ...
Installed 1 object(s) from 1 fixture(s) 
```

我必须补充一点，我*的最近操作*历史记录仍然存在，在管理面板中。

**编辑：问题是 Pinax 示例项目已经在 Fixture 文件夹中附带了一个 init_data JSON 文件。毫无疑问，它用 example.com 覆盖了我的网站名称。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-19T10:34:27.410

1.  **在管理员中**编辑站点实例****

***   **导出它**：`manage.py dumpdata sites`

    *   **将网站**的 JSON 代码添加到**`fixtures/initial_data.json`**** 

 ****每次运行 syncdb 时，`fixtures/initial_data.json`都会加载。****

# javascript - 如何在jquery中将元素作为第一个子元素插入到其他元素中

> ID：10223996
> 
> 赞同：1
> 
> 时间：2012-04-19T08:06:09.807
> 
> 标签：javascript, jquery, asp.net, html

我有`Div`它包含一些其他元素，如`<p>`，，`<ul>`...`Div`

考虑这个标签：

```
<div id="MainDiv">
    <p>....
    <ul>...
    <span>....
</div> 
```

我希望它变成：

```
<div id="MainDiv">
    <div id="newDiv"></div>
    <p>....
    <ul>...
    <span>....
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-19T08:07:03.670

```
$('#MainDiv').prepend('<div id="newDiv"></div>'); 
```

# php - 文件名上的 PHP 正则表达式

> ID：10223999
> 
> 赞同：0
> 
> 时间：2012-04-19T08:06:17.293
> 
> 标签：php, regex, preg-match, preg-split

我有一组具有特定结构的文件：

COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf

分解：

*   COMPANY -> 公司名称，固定
*   DE -> 办公室位置，固定选项：'_DE'、'_BE' 或不存在于不依赖于位置的文件，如果存在总是以下划线和公司名称开头
*   Actual-Contents-of-File，用破折号粘合的字符串
*   RGB -> 颜色模式，固定选项：'RGB'、'CMYK'、'PMS'，或不用于非颜色相关文件
*   ENG -> 文件语言，固定选项：'GER'、'ENG'，或不存在非文本相关文件
*   pdf -> 扩展名，可以是*任何东西*

在最好的情况下，我的结果将是一个包含上述信息和命名键但不知道从哪里开始的数组。

帮助将不胜感激！

谢谢， 纳尔

* * *

**抱歉，不清楚，但文件名中并不**总是存在一些变量：-DE -> 固定选项：'_DE'，'_BE'，或不存在 -RGB -> Colormode，固定选项：'RGB'，' CMYK'、'PMS' 或不存在 - ENG -> 文件语言，固定选项：'GER'、'ENG' 或不存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-19T08:17:47.240

尝试

```
$string = "COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf";
$array = preg_split('/[-_\.]/', $string);

$len = count($array);
$struct = array($array[0], $array[1], '', $array[$len-3], $array[$len-2], $array[$len-1]);
unset($array[0], $array[1], $array[$len-3], $array[$len-2], $array[$len-1]);
$struct[2] = implode('-', $array);
var_dump($struct); 
```

-

```
array
  0 => string 'COMPANY' (length=7)
  1 => string 'DE' (length=2)
  2 => string 'Actual-Contents-of-File' (length=23)
  3 => string 'RGB' (length=3)
  4 => string 'ENG' (length=3)
  5 => string 'pdf' (length=3) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T08:41:54.533

如果可能，尽量不要使用正则表达式，或者让它们尽可能简单。

```
$text = "COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf";
$options_location = array('DE','BE');
$options_color = array('RGB','CMYK','PMS');
$options_language = array('ENG','GER');

//Does it have multiple such lines? In that case this:
$lines = explode("\n",$text);
//Then loop over this with a foreach, doing the following for each line:

$parts = preg_split('/[-_\.]/', $line);
$data = array(); //result array
$data['company'] = array_shift($parts); //The first element is always the company
$data['filetype'] = array_pop($parts); //The last bit is always the file type
foreach($parts as $part) { //we'll have to test each of the remaining ones for what it is
    if(in_array($part,$options_location))
        $data['location'] = $part;
    elseif(in_array($part,$options_color))
        $data['color'] = $part;
    elseif(in_array($part,$options_language))
        $data['lang'] = $part;
    else
        $data['content'] = isset($data['content']) ? $data['content'].' '.$part : $part; //Wasn't any of the others so attach it to the content
} 
```

这也更容易理解，而不必弄清楚正则表达式到底在做什么。

请注意，这假定内容的任何部分都不能是为位置、颜色或语言保留的单词之一。如果这些可能出现在内容中，您将必须添加条件，例如`isset($data['location'])`检查是否已经找到另一个位置，如果是，则将正确的位置添加到内容中，而不是将其存储为位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:14:02.527

像这样的东西：

```
preg_match('#^([^_]+)(_[^-]+)?-([\w-]+)-(\w+)-(\w+)(\.\w+)$#i', 'COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf', $m);

preg_match('#^([^_]+)(_[^-]+)?-([\w-]+)-(\w+)[_-]([^_]+)(\.\w+)$#i', 'COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf', $m); // for both '_' and '-'

preg_match('#^(\p{Lu}+)(-\p{Lu}+)?-([\w]+)(\-(\p{Lu}+))?(\-(\p{Lu}+))?(\.\w+)$#', 'COMPANY-NL-Actual_Contents_of_File-RGB-ENG.pdf', $m); // if filename parts divider is strictly '-'

var_dump($m); 
```

在最后一个变体中，当您询问是否没有国家代码 (-NL) 时，它将为 NULL。但是对于颜色和语言代码，它不是。自己尝试一下，你就会知道它是如何工作的！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T06:39:52.287

受@Armatus 的启发，我构建了以下似乎是故障安全的：

```
$string = "COMPANY_DE-Actual-Contents+of-File-RGB-ENG.pdf";
$options_location = array('DE','BE');
$options_color = array('RGB','CMYK','PMS');
$options_language = array('ENG','GER');
$parts = preg_split( '/[\.\-\_]/', $string, NULL, PREG_SPLIT_NO_EMPTY );

$data = array();
$data['company'] = array_shift($parts);
$data['filetype'] = array_pop($parts);

if( in_array( $parts[0], $options_location ) ){
$data['location'] = array_shift($parts);
}else{
$data['location'] = NULL;
};

if( in_array( end( $parts), $options_language ) ){
$data['language'] = array_pop($parts);
}else{
$data['language'] = NULL;
};

if( in_array( end( $parts), $options_color ) ){
$data['colormode'] = array_pop($parts);
}else{
$data['colormode'] = NULL;
};

$data['content'] = implode( ' ', $parts );
print_r( $data ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T12:04:02.180

怎么样：

```
$files = array(
    'COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf',
    'COMPANY_BE-Actual-Contents-of-File-CMYK-ENG.pdf',
    'COMPANY_DE-Actual-Contents-of-File-PMS-GER.doc',
    'COMPANY-Actual-Contents-of-File-PMS-GER.doc',
    'COMPANY-Actual-Contents-of-File-GER.doc',
    'COMPANY-Actual-Contents-of-File.doc',
);

foreach($files as $file) {
    preg_match('/^(?<COMPANY>.*?)_?(?<LOCATION>DE|BE)?-(?<CONTENT>.*?)-?(?<COLOR>RGB|CMYK|PMS)?-?(?<LANG>ENG|GER)?\.(?<EXT>[^.]+)$/', $file, $m);
    echo "\nfile=$file\n";
    echo "COMPANY: ",$m['COMPANY'],"\n";
    echo "LOCATION: ",$m['LOCATION'],"\n";
    echo "CONTENT: ",$m['CONTENT'],"\n";
    echo "COLOR: ",$m['COLOR'],"\n";
    echo "LANG: ",$m['LANG'],"\n";
    echo "EXT: ",$m['EXT'],"\n";
} 
```

**输出：**

```
file=COMPANY_DE-Actual-Contents-of-File-RGB-ENG.pdf
COMPANY: COMPANY
LOCATION: DE
CONTENT: Actual-Contents-of-File
COLOR: RGB
LANG: ENG
EXT: pdf

file=COMPANY_BE-Actual-Contents-of-File-CMYK-ENG.pdf
COMPANY: COMPANY
LOCATION: BE
CONTENT: Actual-Contents-of-File
COLOR: CMYK
LANG: ENG
EXT: pdf

file=COMPANY_DE-Actual-Contents-of-File-PMS-GER.doc
COMPANY: COMPANY
LOCATION: DE
CONTENT: Actual-Contents-of-File
COLOR: PMS
LANG: GER
EXT: doc

file=COMPANY-Actual-Contents-of-File-PMS-GER.doc
COMPANY: COMPANY
LOCATION:
CONTENT: Actual-Contents-of-File
COLOR: PMS
LANG: GER
EXT: doc

file=COMPANY-Actual-Contents-of-File-GER.doc
COMPANY: COMPANY
LOCATION:
CONTENT: Actual-Contents-of-File
COLOR:
LANG: GER
EXT: doc

file=COMPANY-Actual-Contents-of-File.doc
COMPANY: COMPANY
LOCATION:
CONTENT: Actual-Contents-of-File
COLOR:
LANG:
EXT: doc 
```