# StackOverflow 问答 11465000-11465999

# ios5 - XCode 4.2 和 Mac OS 10.7.2 无法识别 iPhone 5.1.1

> ID：11465001
> 
> 赞同：0
> 
> 时间：2012-07-13T06:06:35.050
> 
> 标签：ios5, xcode4.2, osx-lion

我将我的 iPhone OS 5 升级到 OS 5.1.1，现在我的 Xcode 4.2 无法识别设备（Mac OS 是 Lion 10.7.2）。

如何克服这个问题？我需要任何 Xcode 更新（Xcode 4.2 到 Xcode 4.3）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T06:39:41.767

Xcode 4.2 不支持版本 >= 5.1 的 iOS 设备

下载最新版本的 Xcode 以在 iOS 5.1.1 的设备上进行调试

Xcode 作为 AppStore 中的应用程序分发。[您可以从这里](http://itunes.apple.com/in/app/xcode/id497799835?mt=12)下载最新版本的 Xcode 。

# android - 是否可以执行一些用户可以从android应用程序编写查询的数据库查询？

> ID：11465005
> 
> 赞同：1
> 
> 时间：2012-07-13T06:07:00.680
> 
> 标签：android, sql-server

我想创建一个可以对我的 SQL Server 数据库运行 SQL 查询的 android 应用程序。
这是我的基本想法：

1.  我创建了一个带有 1 个文本框和 1 个按钮的 android 应用程序。
2.  用户可以在文本框中编写他们想要的查询（例如 INSERT INTO..、UPDATE..、DELETE.. 或 EXEC [存储过程]）。
3.  然后用户按下按钮执行该查询以在我的 SQL Server 数据库中运行。

到目前为止，我所做的是一个使用 phonegap + jQuery Mobile 的 Android 应用程序，我可以使用连接到我的 SQL Server 的 JSON 从我的 WCF 服务中获取一些数据，但现在我想运行一些我从 android 应用程序编写的查询和将它运行到我的数据库。可能吗？你能告诉我推荐教程吗？谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:35:55.507

可以办到。

1.  *使用EditText*和*Button*创建一个 Android 应用程序。

2.  *用户可以在EditText*中键入要运行的查询（例如 INSERT INTO..、UPDATE..、DELETE.. 或 EXEC [存储过程]）。

您可以像下面那样执行此操作，以使其更加用户友好。

1.  通过按钮为用户提供一些插入/更新/删除的选项。

2.  添加一个包含所有表名的*Spinner 。*

3.  如果用户选择一个表名，请为您需要从用户获取值的所有列显示一些 _EditText_s。

您也可以使用所需的输入制作单独的方法来相应地调用。它将不那么复杂，对用户更友好。

我不知道这是否有意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-23T11:21:16.163

是的，你可以亲爱的..

我刚刚从 sql server 中选择数据成功了，我相信我很快就会挑战插入更新和删除。

现在你也可以按照这个教程，它实际上是用不同的语言编写的，但是你可以通过 android 并且 eclipse 正在使用英语，所以只要按照我的步骤。

第一次制作一个项目并从此链接下载 jtdc 驱动程序，但确保 jtdc 驱动程序版本为“1.2.7”

[http://sourceforge.net/projects/jtds/files/jtds/1.2.7/](http://sourceforge.net/projects/jtds/files/jtds/1.2.7/)
将此 jar 文件放入 libs 文件夹并写入单击 libs 文件夹并构建添加 jar 文件并从 libs 文件夹中获取并按 ok 即sql server 的参考库永远不会忘记这一点。

现在只需按照下面的代码进行操作。

制作一个 xml 文件“sqlservermain.xml”

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".SqlServerMain" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="22dp"
        android:text="SQL SERVER" />

    <Button
        android:id="@+id/btn_enter"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/edt_name"
        android:layout_alignBottom="@+id/edt_name"
        android:layout_alignParentRight="true"
        android:text="Enter" />

    <ListView
        android:id="@+id/lst_name"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/btn_enter"
        android:layout_below="@+id/btn_enter"
        android:layout_marginTop="19dp" >
    </ListView>

    <EditText
        android:id="@+id/edt_name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/lst_name"
        android:layout_below="@+id/textView1"
        android:layout_marginTop="15dp"
        android:ems="10" />

</RelativeLayout> 
```

然后制作另一个xml文件，即“sql.xml”文件

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView1"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:background="#000000"
        android:text="Medium Text"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#00BFFF"
        android:textStyle="bold" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:src="@drawable/ic_launcher" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/imageView1"
        android:layout_toRightOf="@+id/imageView1"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</RelativeLayout> 
```

现在制作一个java文件，它是“sqlservermain.java”文件。

```
package com.sqlserver;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.os.Bundle;
import android.os.StrictMode;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.Toast;

public class SqlServerMain extends Activity {
        private Button _btnenter;
    private EditText _edtval;
    private ListView _lstname;
    private Connection connect;
    private SimpleAdapter AD;

    private void declaration() {

        _btnenter = (Button) findViewById(R.id.btn_enter);
        _edtval = (EditText) findViewById(R.id.edt_name);
        _lstname = (ListView) findViewById(R.id.lst_name);

    }

    private void Initialization() {
        declaration();
        _edtval.setText("Select Value");
        connect = CONN("user","pass","db","server");
    }

    @SuppressLint("NewApi")
    private Connection CONN(String _user, String _pass, String _DB,
            String _server) {
        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()
                .permitAll().build();
        StrictMode.setThreadPolicy(policy);
        Connection conn = null;
        String connURL = null;
        try {
            Class.forName("net.sourceforge.jtds.jdbc.Driver");
            connURL = "jdbc:jtds:sqlserver://" + _server + ";"
                    + "databaseName=" + _DB + ";user=" + _user + ";password="
                    + _pass + ";";
            conn = DriverManager.getConnection(connURL);
        } catch (SQLException se) {
            Log.d("Error", se.getMessage());
            // Toast.makeText(this, "Error : " + se,Toast.LENGTH_LONG).show();
        } catch (ClassNotFoundException ce) {
            Log.d("Error", ce.getMessage());
            // Toast.makeText(this, "Error : " + ce,Toast.LENGTH_LONG).show();
        } catch (Exception e) {
            Log.d("Error", e.getMessage());
            // Toast.makeText(this, "Error : " + e, Toast.LENGTH_LONG).show();
        }

        return conn;
    }

    public void QuerySQL(String COMANDOSQL) {
        ResultSet rs;
        try {
            Statement statement = connect.createStatement();
            rs = statement.executeQuery(COMANDOSQL);

            List<Map<String, String>> data = null;
            data = new ArrayList<Map<String, String>>();

            while (rs.next()) {
                Map<String, String> datanum = new HashMap<String, String>();
                datanum.put("A", rs.getString("Table Field 1"));
                datanum.put("B", rs.getString("Table Field 2"));
                data.add(datanum);
            }
            String[] from = { "A", "B" };
            int[] views = { R.id.textView2, R.id.textView1 };
            AD = new SimpleAdapter(this, data, R.layout.sql, from, views);
            _lstname.setAdapter(AD);
        } catch (Exception e) {
            // TODO: handle exception
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.sqlservermain);
        Initialization();
        _btnenter.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                QuerySQL(_edtval.getText().toString());
            }
        });
    }

} 
```

现在是时候在“AndroidManifest.xml”中给予一些许可了

这是

```
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/> 
```

享受这就是它的retriving。数据。

# java - 在java中按下按钮后添加选项卡

> ID：11465006
> 
> 赞同：-3
> 
> 时间：2012-07-13T06:07:09.497
> 
> 标签：java, swing, actionlistener, jtabbedpane

我正在使用 java swing，我想在用户从`JMenuBar`.

启动应用程序时选项卡将不存在。只有在选择“新建”后才会显示这些内容。

我该怎么做？我需要将这些添加到`actionListener`“新”中吗？如何添加？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:18:14.373

由于您用 标记了这个问题`JTabbedPane`，我认为这是您正在使用的组件。您可以使用[`addTab`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTabbedPane.html#addTab%28java.lang.String,%20java.awt.Component%29)或[`insertTab`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTabbedPane.html#insertTab%28java.lang.String,%20javax.swing.Icon,%20java.awt.Component,%20java.lang.String,%20int%29)方法添加选项卡。

如果您想在按下按钮时执行此操作，则将这些调用放入`ActionListener`确实是一个有效的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:26:35.343

`ActionListener`像这样添加一个`JButton`：

```
final JTabbedPane tabbedPane = new JTabbedPane();
    JButton addButton = new JButton("new");
    addButton.addActionListener(new ActionListener() {
        //will be called if the button gets clicked
        @Override
        public void actionPerformed(ActionEvent e) {
            JPanel panel = new JPanel();//will be displayed in the Tab
            tabbedPane.add("title", panel);
            //.add() is the easier way for tabbedPane.insertTab(many arguments here)
            //add what ever you like(repeat three times)
        }
    }); 
```

# birt - Birt 单页超链接报告

> ID：11465009
> 
> 赞同：0
> 
> 时间：2012-07-13T06:07:17.837
> 
> 标签：birt

是否可以在一个页面上将 3 个报告全部相互链接。

假设我有 3 份报告。第一个向下钻取到第二个，第二个向下钻取到第三个，即单击第一个报表打开第二个报表，单击第二个报表打开第三个报表。第二个报告也需要从第一个报告传递下来的参数。

现在，这些报告在点击时会在新页面中打开。我希望第二份报告在第二份报告下方打开，第三份在第二份报告下方打开。这可能吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T16:18:07.140

**简短的回答：** 是的

**更长的答案：** 在 BIRT 中有许多不同的方法可以组合报告并将它们相互链接。报告可以以网页、PDF、Excel 等形式交付。显然，不同的交付方式需要不同的解决方案。

如果您要交付要打印报告的 PDF，您基本上可以将三个报告（表格）放在同一个文档上，它们都基于相同的参数显示结果

如果您以网页形式交付，您可以在报告的几乎任何位置都有链接，这些链接将使用值作为参数跳转到另一个报告（即 Report1 = 一周内的所有内容；单击“星期一”查看 Report2 中的所有内容从星期一开始；单击“中午”并查看包含中午所有内容的 Report3。

# jquery - 如何自动调整具有绝对定位子元素的容器大小

> ID：11465013
> 
> 赞同：0
> 
> 时间：2012-07-13T06:07:47.437
> 
> 标签：jquery, css, autoresize

有没有办法调整容器的大小，使其始终被压缩以适应其中的绝对定位元素？

我喜欢创建一个绘图画布并调整其大小以适应用户拖入其中的任何内容。如果用户将元素移动到当前大小的框架之外，我希望框架调整大小以包含元素。

有点像 Adob​​e Fireworks 的 FIT CANVAS 功能。

这是我到目前为止所拥有的。我已经想出了如何找到右侧和底部的外包装。但是如何让 LEFT 和 TOP 紧紧地包裹起来并且没有空间呢？

[http://jsfiddle.net/AJLe7/10/](http://jsfiddle.net/AJLe7/10/)

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:21:21.913

在我的脑海中，我认为你必须遍历每个子元素并找到四个数字......

您的容器宽度将是最大的 offsetX 减去最小的 offsetX，高度将是最大的 offsetY 减去最小的 offsetY。

# jquery - 如何使用jquery验证的远程方法？

> ID：11465014
> 
> 赞同：-3
> 
> 时间：2012-07-13T06:07:52.240
> 
> 标签：jquery, jquery-validate

这是我的验证码

```
$('#reg_form').validate({
            onkeyup: false,
            errorClass: 'error',
            validClass: 'valid',
            rules: {
                username: {
                    required: true,
                    minlength: 5,
                    //remote: "checkusername.php"
                },
                password: {
                    required: true,
                    minlength: 5,
                },
                confirm_password: {
                    required: true,
                    minlength: 5,
                    //equalTo: "#password",
                },
                secretQuestion: "required",
                secretAnswer: "required",
                emailId: {
                    required: true, 
                    email: true,
                    remote: "checkemail.php"
                },
                termsConditions: "required",                
            },
            messages:{
                username: {
                    required: "Please enter Username",
                    minlength: "Please enter atleast 5 characters",

                },
                password: {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 5 characters long"
                },
                confirm_password: {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 5 characters long",
                    //equalTo: "Please enter the same password as above" 

                },
                secretQuestion: "Please select your question",
                secretAnswer: "Please enter your secret answer",
                emailId: {
                    required: "Please enter a valid email address",
                    remote: "Email is aleardy is exists! please try with onother",
                    },
                termsConditions: "Please accept our Terms and COnditions"
            },
            highlight: function(element) {
                $(element).closest('div').addClass("f_error");
            },
            unhighlight: function(element) {
                $(element).closest('div').removeClass("f_error");
            },
            errorPlacement: function(error, element) {
                $(element).closest('div').append(error);
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:19:07.103

[在 jQuery插件](http://docs.jquery.com/Plugins/Validation/Methods/remote)页面上有对远程方法的非常简单的解释。

按照我给你的建议！为了更好地理解该方法，请以*扩展*形式使用该方法。

```
emailId: {
    required: true, 
    email: true,
    remote: {
        url: "checkmail.php", //the url of the page you are querying
        type: "post", //the method you are going to use to send the data
        data: { //the data you are going to send
           email: function() { 
             return $("#email").val(); //send the value of email
           }
        }
    }
}, 
```

但是，您的代码应该按原样工作。

# architecture - CQRS：查询端的业务逻辑

> ID：11465025
> 
> 赞同：2
> 
> 时间：2012-07-13T06:08:35.877
> 
> 标签：architecture, domain-driven-design, cqrs, business-logic

遵循 CQRS（命令查询职责分离）的概念，我在我的 MVC 应用程序中直接引用 DAL，并通过 ViewModel 进行所有读取。然而，我的一位同事问我，当读取时必须应用任何业务逻辑时，你会怎么做。例如，如果您需要在如下场景中计算百分比值：

```
//Employee domain object
class Employee
{
    string EmpName;
    Single Wages;
}

//Constant declared in some utility class. This could be stored in DB also.
const Single Tax = 15;

//View Model for the Employee Screen
class EmployeeViewModel
{
    string EmpName;
    Single GrossWages;
    Single NetWages;
}

// Read Facade defined in the DAL
class ReadModel
{
    List<EmployeeViewModel> GetEmployeeList()
    {
        List<EmployeeViewModel> empList = new List<EmployeeViewModel>;
        string query = "SELECT EMP_NAME, WAGES FROM EMPLOYEE";      
        ...
        ..
        while(reader.Read())
        {
            empList.Add(
                new EmployeeViewModel 
                {
                    EmpName = reader["EMP_NAME"],
                    GrossWages = reader["WAGES"],
                    NetWages = reader["WAGES"] - (reader["WAGES"]*Tax)/100 /*We could call a function here but since we are not using the business layer, the function will be defined in the DAL layer*/
                }
            );
        }
    }   
} 
```

在上面的示例中，在 DAL 层中发生的读取期间发生了计算。我们本可以创建一个函数来进行计算，但是由于我们已经绕过业务层进行读取，因此该函数将位于 DAL 中。更糟糕的是，如果 Tax 的值存储在数据库中，有人可能会直接在存储过程中的数据库中执行此操作。因此，我们在其他层中存在潜在的业务逻辑泄漏。

您可能会说为什么不在执行命令时将计算值存储在列中。所以让我们稍微改变一下场景。假设您在具有当前税率的报告中显示员工的潜在净工资，而工资尚未支付。
您将如何在 CQRS 中处理此问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-06-16T14:15:29.137

我的理解是，CQRS 与 DDD 相结合将产生一个查询端，该查询端在有界上下文中聚合数据，而命令端则严格针对该特定命令的有界上下文执行命令。

这将使您的报告可以根据需要检索其数据。

然后，您可以将一些 ICalculator 注入到读取端的查询处理程序中以进行业务逻辑计算。

例如：

```
public class EmployeeQueryHandler : EmployeeIQueryHandler
{
    private readonly INetWageCalculator _calculator;
    private readonly IEmployeeRepository _repo;

    public Repository(INetWageCalculator calculator, IEmployeeRepository repo)
    {
        _calculator = calculator;
        _repo = repo;
    }

    public List<EmployeeViewModel> ExecuteQuery()
    {
        var employees = _repo.GetEmployeeList();

        foreach(var emp in employees)
        {
            // You have to get tax from somewhere, perhaps its passed in as
            // a parameter...
            emp.NetWages = _calculator.Calculate(emp.GrossWages, Tax);
        }

        return employees;
    }
}

public class EmployeeRepository : IEmployeeRepository
{

    List<EmployeeViewModel> GetEmployeeList()
    {
        List<EmployeeViewModel> empList = new List<EmployeeViewModel>;
        string query = "SELECT EMP_NAME, WAGES FROM EMPLOYEE";      
        ...
        ..
        while (reader.Read())
        {
            empList.Add(
                new EmployeeViewModel
                {
                    EmpName = reader["EMP_NAME"],
                    GrossWages = reader["WAGES"],

                    // This line moves to the query handler.
                    //NetWages = reader["WAGES"] - (reader["WAGES"] * Tax) / 100 /*We could call a function here but since we are not using the business layer, the function will be defined in the DAL layer*/
                }
            );
        }
    }
} 
```

这允许您使用相同的计算器服务在其他地方重用计算净工资的业务逻辑。

出于性能考虑，如果您不想循环遍历结果两次，也可以将计算器注入存储库。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-13T14:58:09.067

请注意，报告本身可以是一个完整的**有界上下文**。因此，它的架构可能与您为**Core Domain**选择的架构完全不同。

也许 CQRS 非常适合核心领域，但不适用于报告领域。尤其是当您想在生成报告之前基于不同场景应用各种计算时。想想 BI。

请记住，CQRS 可能不应该应用于整个应用程序。一旦您的应用程序足够复杂，您就应该识别它的限界上下文并对每个单独应用适当的架构模式，即使它们使用相同的数据源。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:35:25.830

对于您的第一个场景，我不明白为什么您需要在查询时进行计算，也不需要使用计算字段。当适当的员工事务在域上完成时，域可以产生计算的净工资。产生的数据被查询端使用并存储在视图模型字段中以供查询。

如果税率发生变化，则在收到通知（事件）后，查询方必须重新计算所有员工视图模型的净工资字段。这将作为保存的一部分（与域事务异步）而不是作为查询请求的一部分发生。尽管查询端正在执行此计算，但它是根据域提供的数字执行此操作的，因此我认为这没有问题。

要点：所有计算都应在任何查询之前通过域或查询端事件处理程序完成。

**编辑-基于评论**

因此，对于那个特定的“假设”分析场景，假设所需的数据已经在查询端 - 即有一个包含员工工作时间的“EmployeeTimesheet”表，有两个选项：

1.  在查询端有一个组件，它定期轮询员工数据并将数据聚合/汇总到“潜在工资”视图模型表中，以便管理层查看当前的工资支出。此轮询的频率将取决于需要信息的频率。也许他们需要这些数据在一小时内有效，或者也许每天都令人满意。

2.  同样，有一个“PotentialWages”表，但只要员工更新他们的时间表或员工的工资发生变化，它就会更新。使用此选项，数据将保持接近实时。

无论哪种方式，计算的聚合数据都是使用域生成的数据，并且在查询之前完成，因此查询超级简单，最重要的是，超级快速。

**编辑 2 - 只是总结一下**

在我看来，域应该负责进行计算，**因此做出决策需要此类计算的结果**。**只要这不是查询本身的一部分，**查询/读取端进行计算以汇总总计和聚合数据以提供屏幕/报告所需的数据是绝对可以的。

# tomcat - 识别 Tomcat 中使用 100% cpu 使用率的正在运行的服务

> ID：11465026
> 
> 赞同：2
> 
> 时间：2012-07-13T06:08:39.963
> 
> 标签：tomcat, cpu-usage

我的基于 Web 的 Java EE 应用程序基于以下技术：

*   框架：Struts 2.0
*   服务器：Tomcat 6.0
*   前端 UI：JSP、JSTL/Struts 标签、HTML
*   数据库：Microsoft SQL Server 9.00.2047.00
*   语言：核心 java、XML、XSLT。

现在我面临的问题是我的 Web 应用程序的某些进程会消耗更多的 CPU 使用率。有时我的 Tomcat 服务器会使用 100% cpu；这就是我的电脑挂起的原因。我无法确定哪个进程会导致 100% 的 CPU 使用率。

现在，我正在寻找任何第三方应用程序或任何实用程序，它可以为我提供 CPU 使用信息详细信息以及在 Tomcat 中运行的正在运行的进程（服务）的名称。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:22:03.897

听起来您正在寻找 Java Profiler...我听说过有关 HPROF 的好消息（需要一点时间来适应，但应该提供您需要的所有信息（而且它是免费的）。这里有一些关于Sun提供的HPROF。

[http://java.sun.com/developer/technicalArticles/Programming/HPROF.html](http://java.sun.com/developer/technicalArticles/Programming/HPROF.html)

我没有亲自在服务器上运行它，但我有同事必须识别非常像你的问题 - 它应该给你你需要的东西。

还要记住，观察过程会改变过程的性能——所以这不是在生产中运行的东西。见[观察者效应](http://en.wikipedia.org/wiki/Observer_effect_(physics))

# c - 这种 yacc 代码有效吗？

> ID：11465028
> 
> 赞同：0
> 
> 时间：2012-07-13T06:08:58.073
> 
> 标签：c, macros, yacc

```
%{
#ifdef abc
.
.
. // C declarations
.
%}
.
. //  Yacc Declaration
.
%%
.
. //expected inputs and corresponding actins
.
%%

#endif 
```

尽管这段代码为我编译，但我强烈觉得`#ifdef abc`没有正确放置。这种类型的代码对 Yacc 有效吗？

我在 YACC 的经验很少。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:20:20.543

`%{`和之间的代码`%}`逐字放在生成的 C 源文件的顶部，而规则之后的代码也逐字放在生成文件的末尾。

所以你的问题的答案是：是的，它在 Yacc 和生成的源中都是正确的。然而，从可读性的角度来看，Yacc 代码可能被认为是可疑的。

# javascript - Box2DWeb - 在世界上添加和删除身体

> ID：11465032
> 
> 赞同：1
> 
> 时间：2012-07-13T06:09:10.150
> 
> 标签：javascript, html, box2d

我在 Box2D 中有以下代码，我想将我的动态主体移动到鼠标单击的位置。同样在将来我希望能够删除动态主体，我无法找到与 world.DeleteBody(...) 等效的任何东西。请帮忙。

```
var world;
var   b2Vec2 = Box2D.Common.Math.b2Vec2
        ,   b2BodyDef = Box2D.Dynamics.b2BodyDef
        ,   b2Body = Box2D.Dynamics.b2Body
        ,   b2FixtureDef = Box2D.Dynamics.b2FixtureDef
        ,   b2Fixture = Box2D.Dynamics.b2Fixture
        ,   b2World = Box2D.Dynamics.b2World
        ,   b2MassData = Box2D.Collision.Shapes.b2MassData
        ,   b2PolygonShape = Box2D.Collision.Shapes.b2PolygonShape
        ,   b2CircleShape = Box2D.Collision.Shapes.b2CircleShape
        ,   b2DebugDraw = Box2D.Dynamics.b2DebugDraw
        ;
var canvas = document.getElementById("canvas");
var context = canvas.getContext("2d");

var mouseX, mouseY, isMouseDown;
var bBallBody, bBallbodyDef;

function init() {
    world = new b2World(
           new b2Vec2(0, 10)    //gravity
        ,  true                 //allow sleep
    );
    setupWorld() ;
    //setup debug draw
    var debugDraw = new b2DebugDraw();
        debugDraw.SetSprite(document.getElementById("canvas").getContext("2d"));
        debugDraw.SetDrawScale(1.0);
        debugDraw.SetFillAlpha(0.3);
        debugDraw.SetLineThickness(1.0);
        debugDraw.SetFlags(b2DebugDraw.e_shapeBit | b2DebugDraw.e_jointBit);

    world.SetDebugDraw(debugDraw);
    window.setInterval(update, 1000 / 60);
  };

  function setupWorld() {
      setupGround();
      addBouncingBall();
  }

  function setupGround() {
     var fixDef = new b2FixtureDef;
     fixDef.density = 1.0;
     fixDef.friction = 0.5;
     fixDef.restitution = 0.2;
     var bodyDef = new b2BodyDef;
     //create ground
     bodyDef.type = b2Body.b2_staticBody;
     bodyDef.position.x = 300;
     bodyDef.position.y = 400;
     fixDef.shape = new b2PolygonShape;
     fixDef.shape.SetAsBox(290, 10);
     world.CreateBody(bodyDef).CreateFixture(fixDef);
  }

  function addBouncingBall() {
     var fixDef = new b2FixtureDef;
     fixDef.density = 1.0;
     fixDef.friction = 1.0;
     fixDef.restitution = 0.1;
     var bBallbodyDef = new b2BodyDef;
     bBallbodyDef.type = b2Body.b2_dynamicBody;
     fixDef.shape = new b2CircleShape(Math.random() + 30);
     bBallbodyDef.position.x = Math.random() * 300;
     bBallbodyDef.position.y = Math.random() * 300;
     bBallBody = world.CreateBody(bBallbodyDef).CreateFixture(fixDef);  
     console.log(bBallBody.m_body.GetPosition().x);

  };

  document.addEventListener("mousedown", handleMouseMove, true);

  function handleMouseMove(e) {
      isMouseDown = true;
      mouseX = e.clientX;
      mouseY = e.clientY;
  };

  function update() {

     if(isMouseDown)
      {
          for (b = world.GetBodyList() ; b; b = b.GetNext()) {
              if (b.GetType() == b2Body.b2_dynamicBody) {
                   console.log(b.x, b.y);
                   b.x = 100;
                   b.y = 100;
                   }
                   }
      isMouseDown = false; 
      } 
       world.Step(1 / 60, 10, 10);
       world.DrawDebugData();
       world.ClearForces();
  }; 
```

更新：

从世界中删除对象的操作如下：

1.  创建一个计时器来安排对象的删除。

    ```
     window.setInterval(removeObjScheduledForRemoval, 1000/90); 
    ```

2.  将要删除的对象收集到一个 Array 中。

    ```
     var bricksScheduledForRemoval = Array();
       var index = -1;
       function removeObjScheduledForRemoval()
       {
         for(var i = 0; i <= index; i++){
        world.DestroyBody(bricksScheduledForRemoval[i]);    
        bricksScheduledForRemoval[i] = null;    
          }
     bricksScheduledForRemoval = Array();
         index = -1;
        } 
    ```

完整的代码在这里， [http://box2dinabox.blogspot.in/2012/07/the-completed-bananamonkey-game.html](http://box2dinabox.blogspot.in/2012/07/the-completed-bananamonkey-game.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:23:35.193

box2dweb 的文档远没有原始 C 版本那么全面，因此请考虑搜索“box2d”而不是“box2dweb”。此外，查看[来源](http://code.google.com/p/box2dweb/source/browse/trunk/Box2D.js)并搜索某些方法的拼写可能会有所帮助。或者只是查看 box2d flash 文档。基本上，box2dweb 有方法`DestroyJoint`和`DestroyBody`.

如需更多考虑，这可能会有所帮助：[http ://www.iforce2d.net/b2dtut/removing-bodies](http://www.iforce2d.net/b2dtut/removing-bodies)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-08-03T16:00:52.977

您可以像此游戏示例一样移除身体或将静态身体更改为动态身体。 [http://pixsansar.com/box2dweb-jumping-and-puzzle-ball-level4](http://pixsansar.com/box2dweb-jumping-and-puzzle-ball-level4)

Box2dweb 有 removebody 或 changeBodyType 选项，请参阅它的源代码。

# jquery - 没有数据时隐藏jquery数据表分页按钮

> ID：11465038
> 
> 赞同：0
> 
> 时间：2012-07-13T06:09:37.197
> 
> 标签：jquery, datatable, pagination

没有数据时如何隐藏jquery数据表分页按钮并显示自定义消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:25:18.830

添加代码进行检查

```
if(num of records >0)
{
    // show pagination
}
else
{
    // no records message
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-25T06:31:25.713

试试下面的代码。这对我有用。将此代码保留在数据表代码中。

```
 jQuery('#table_id').DataTable( {
        // Some stuff here
        "fnDrawCallback":function(){
             if(jQuery('table#table_id td').hasClass('dataTables_empty')){
                jQuery('div.dataTables_paginate.paging_full_numbers').hide();
             } else {
                jQuery('div.dataTables_paginate.paging_full_numbers').show();
             }
        }
    }); 
```

# .net - XamlReader.Load 找不到静态资源

> ID：11465039
> 
> 赞同：1
> 
> 时间：2012-07-13T06:09:38.493
> 
> 标签：.net, wpf, xaml, mvvm

在运行时使用 DataTemplateSelector 创建列。在 XamlReader.Load 出现异常：System.Windows.StaticResourceExtension。如何加载资源？

```
var column = new DataGridTemplateColumn();
            column.Header = (i.Hour + 1).ToString();
            column.Width = 30;
var parserContext = new ParserContext();
parserContext.XmlnsDictionary.Add("", "http://schemas.microsoft.com/winfx/2006/xaml/presentation");
parserContext.XmlnsDictionary.Add("x", "http://schemas.microsoft.com/winfx/2006/xaml");
parserContext.XmlnsDictionary.Add("local", "clr-namespace:ССПИ;assembly=ССПИ");
column.CellTemplateSelector = (DataTemplateSelector)XamlReader.Load(
                new MemoryStream(Encoding.Default.GetBytes(
                    @"<local:ExtendedTemplateSelector TextBlockTemplate='{StaticResource TextBlockTemplate}' CheckBoxTemplate='{StaticResource CheckBoxTemplate}'/>"
                )),parserContext);        
dataGrid1.Columns.Add(column);

<DataGrid DataGridCell.Selected="DataGrid_GotFocus" EnableColumnVirtualization="true" EnableRowVirtualization="true" Name="dataGrid1" DockPanel.Dock="Top" AutoGenerateColumns="False" 
                   Height="120" Width="Auto" CanUserReorderColumns="False" CanUserResizeColumns="False" CanUserAddRows="false" CanUserResizeRows="False" CanUserSortColumns="False" CellEditEnding="dataGrid1_CellEditEnding" ContextMenuOpening="dataGrid1_ContextMenuOpening">
                    <DataGrid.Resources>
                        <DataTemplate x:Key="TextBlockTemplate">
                            <TextBlock/>
                        </DataTemplate>
                        <DataTemplate x:Key="CheckBoxTemplate">
                            <CheckBox IsChecked="False"/>
                        </DataTemplate>
                    </DataGrid.Resources> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:26:22.267

在您的 App.xaml 中：

```
<App.Resources>
    <local:ExtendedTemplateSelector x:Key="MyExtendedTemplateSelector" TextBlockTemplate='{StaticResource TextBlockTemplate}' CheckBoxTemplate='{StaticResource CheckBoxTemplate}'/>
</App.Resources> 
```

在您的 .cs 中：

```
column.CellTemplateSelector = (DataTemplateSelector)((App)Application.Current)).Resources["MyExtendedTemplateSelector"]; 
```

据我所知，这里不需要解析器：它只会让事情变得更复杂和更慢。因此，只需将您的资源放入您的 APP 资源（或资源字典）中，然后像这样调用它

# php - “shopping.com”和亚马逊 API 的混搭？

> ID：11465041
> 
> 赞同：0
> 
> 时间：2012-07-13T06:09:41.610
> 
> 标签：php, e-commerce, mashup

我正在使用 amazon 和 shopping.com API 创建混搭网站。但我无法弄清楚如何获得特定产品，这在两个 API 上都很常见？以及如何显示各自的价格？

如何使用亚马逊 API 和购物 API 获取特定产品？

我的想法：对于亚马逊产品搜索：使用关键字等参数的 Itemsearch 和 shopping.com API 我正在考虑使用关键字搜索。但问题是我想获得与亚马逊相同的特定产品。有什么建议么

我是这方面的初学者。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T13:57:46.910

Shopping.com 有一个带有文档的 API

[http://developer.shopping.com/docs](http://developer.shopping.com/docs)

您将需要亚马逊产品广告 API 来获取亚马逊搜索结果

[https://affiliate-program.amazon.co.uk/gp/advertising/api/detail/main.html](https://affiliate-program.amazon.co.uk/gp/advertising/api/detail/main.html)

希望这可以帮助

# openldap - 随机 OpenLdap 超时问题

> ID：11465044
> 
> 赞同：0
> 
> 时间：2012-07-13T06:10:01.477
> 
> 标签：openldap

我目前正在 EC2 的 Ubuntu 12.04 上运行 OpenLdap 2.4.31。我遇到一个问题，在对 ldap 服务器执行 ldapsearch 或 ldapadd 命令时出现随机超时。

ldap 服务器确实没有负载，我将它们用于 EC2 内部主机名的名称解析，并将 ldap 用作 puppet 的外部节点分类器。

当超时发生时，我收到以下错误：

ldap_sasl_bind(SIMPLE)：无法联系 LDAP 服务器

如果我重新运行命令它工作正常，这会导致我的自动化出现一些问题（虽然我可以对此进行错误检查，但它首先发生似乎很奇怪）。

这是我的 slapd.conf 的副本（已注释掉一些特定于 env 的信息），希望有人对我在配置中缺少的内容提出一些建议，以防止超时问题：

```
 include /opt/openldap/openldap-2.4.31/etc/openldap/schema/core.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/collective.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/corba.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/cosine.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/duaconf.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/dyngroup.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/inetorgperson.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/java.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/misc.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/nis.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/openldap.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/ppolicy.schema
        include /opt/openldap/openldap-2.4.31/etc/openldap/schema/puppet.schema
        pidfile         /opt/openldap/openldap-2.4.31/var/run/slapd.pid
        argsfile        /opt/openldap/openldap-2.4.31/var/run/slapd.args
        loglevel 0
        serverID 001
        database bdb
        suffix    "dc=example,dc=local"
        rootdn    "cn=admin,dc=example,dc=local"
        rootpw    secret
        directory /opt/openldap/openldap-2.4.31/var/openldap-data
        idletimeout 120
        timelimit 300
        cachesize 2000
        syncrepl rid=000
          provider=ldap://10.10.10.10
          type=refreshAndPersist
          retry="5 5 10 +"
          searchbase="dc=example,dc=local"
          attrs="*,+"
          bindmethod=simple
          binddn="cn=admin,dc=example,dc=local"
          credentials=secret
        syncrepl rid=000
          provider=ldap://10.10.10.20
          type=refreshAndPersist
          retry="5 5 10 +"
          searchbase="dc=example,dc=local"
          attrs="*,+"
          bindmethod=simple
          binddn="cn=admin,dc=example,dc=local"
          credentials=secret
        index entryCSN eq
        index entryUUID eq
        mirrormode TRUE
        overlay syncprov
        syncprov-checkpoint 100 10 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:18:28.993

忽略这个问题。我的自我修复自动化配置错误，每分钟都在意外重启 slapd 进程。

# c# - 在 LINQ 查询中检索不同的记录

> ID：11465046
> 
> 赞同：0
> 
> 时间：2012-07-13T06:10:07.210
> 
> 标签：c#, linq, visual-studio-2008

我有一个数据集，并使用以下查询从数据集中的表中选择几条记录：

`EnumerableRowCollection<DataRow> GenresQuery = from genre in Books.AsEnumerable() where genre.Field<string>("genre") == strGenresSelectionParameter select genre;`

它工作正常，但我想选择不同的记录。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:20:07.730

使用[不同的](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.distinct.aspx)

```
IEnumerable<DataRow> GenresQuery = (from genre in Books.AsEnumerable()
                                    where genre.Field<string>("genre") == strGenresSelectionParameter 
                                    select genre).Distinct(); 
```

# matlab - 如何找出哪些数据集破坏了我使用 MATLAB 进行的数据分析？

> ID：11465050
> 
> 赞同：0
> 
> 时间：2012-07-13T06:10:32.410
> 
> 标签：matlab, analytics, cluster-analysis

我有 200 个样本，每个样本都有 60 个特征。我使用 PCA 来查找主成分。我用了神经网络，也尝试了k近邻，但是分类结果并不好。我不介意取出一些样本，但我怎么知道哪些样本破坏了我的分类结果？我知道我可以一一尝试，但它会非常无效。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T12:32:56.700

而不是扔掉一些样本，你需要扔掉一些属性。

PCA 计算具有 dxd 个条目的矩阵。在 60 个属性中，这个矩阵有 3600 个条目。你只有 200 个样本来计算这个矩阵的内容——难怪结果几乎是随机的。您需要更少的变量和更多的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T09:05:23.320

这是一个经典的机器学习问题。只有 200 个样本，如此多的特征（在您的情况下为 60 个）总是存在风险。请检查您是否有多余的功能。让我举个例子吧

想象一下，我们必须从以下特征来预测房价 1\. 面积（平方米） 2\. 卧室数量 3\. 房屋年龄 4\. 面积（英尺）2

请注意，这里的 2 号和 4 号特征都提供了相同的信息，并且它们是多余的。起初它看起来并不那么令人不安。但是，如果您有这样的数据，最好删除这些功能。

因此，我建议您先查看功能，然后再查看数据。有关更多详细信息，您可以在 coursera 中查看斯坦福大学的机器学习课程（由 Ng 教授教授）

# javascript - jquery：重定向比 .each 更有效

> ID：11465052
> 
> 赞同：0
> 
> 时间：2012-07-13T06:10:44.407
> 
> 标签：javascript, jquery, redirect, each

我有js函数

```
function addAllToCart(){
    var have_result = false;
    jQuery("input#qty").each(function(indx, e){
      if (e.value != ''){
        //alert(indx);
        jQuery.get("/checkout/cart/add/", { product: e.name, qty: e.value }, {async: false},
             function(data){});
        have_result = true;
       }
    });

    if (have_result)
        document.location.href = "/checkout/cart/";

    return false;
} 
```

它在页面上找到 ID 为 qty 的所有输入，获取其名称和值并发出 ajax 请求以添加到购物车。页面上有很多这些输入，所以我需要添加所有这些输入，然后重定向到“/checkout/cart/”；但只有第一个值添加到购物车，然后重定向。我如何才能在发出所有 ajax 请求后才进行重定向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:22:57.483

这是[jQuery.get的签名](http://api.jquery.com/jQuery.get/)

```
jQuery.get( url [, data] [, success(data, textStatus, jqXHR)] [, dataType] ) 
```

您没有正确调用该方法。

此外，您应该使用`post`而不是`get`将您的项目添加到会话或数据库中。`Get`在实践中确实有效，您可以从查询字符串中获取项目信息。但这样做是错误的。你应该使用`post`

# javascript - 在简单模式中取消单击时不会调用 onClose 事件...当我在简单模式中加载另一个 jquery 对话框时？

> ID：11465053
> 
> 赞同：2
> 
> 时间：2012-07-13T06:10:44.903
> 
> 标签：javascript, jquery

我正在使用 Eric martin 简单模式（1.3）来显示一些动态数据（表格），这个表格是可点击的（当我点击我在简单模式上显示的表格单元格时），我正在显示另一个弹出 jquery 对话框，它也显示了一些内容.....我遇到了问题。在我的第二个弹出窗口（jquery 对话框）之后，当我关闭我的简单模式窗口时，不会调用 onClose 事件并且不会关闭模式窗口。

```
// My main jsp page lil code snippet
     <script> 
         $("#eric").modal({
             onShow: function(){alert("show");},
             onClose: function(){alert("close ");
             $.modal.close(); }
         });
     </script>

     <body>
         <div id="eric"></div>
         <div id="rfi"></div>
     </body>

 // showing this dialog over simple modal dialog
        $("#rfi").dialog({
             //some dynamic data ajax call writing on dialog
              $("rfi").html(data);
         }); 
```

请帮助我，我已经在这上面花了 3 天......:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-28T06:52:02.300

```
 //got it
            $("#basic-modal-content").modal( {
    onShow : function() {
        activateDashBoardReverseAJAX(facilityId);  //called when simple   modal pop-up comes-up

    },
    onClose : function() {
        deActivateDashBoardReverseAJAX(facilityId);   //called when we close simple-modal pop-up
        var a = this;
        a.close();
    }

}); 
```

# javascript - 在 JQGrid 的 showlink 格式化程序中添加动态参数

> ID：11465060
> 
> 赞同：4
> 
> 时间：2012-07-13T06:11:37.723
> 
> 标签：javascript, jquery, jqgrid, jqgrid-formatter

我正在使用`showlink`JQGrid 的格式化程序。为此我的 colModel 是

```
[
{name:'id',index:'id',hidden:true}, 
{name:'unit',index:'unit',sorttype:"string"},
{name:'supplierName',index:'supplierName',sorttype:"string",formatter:'showlink',formatoptions:{baseLinkUrl:'supplierCommodityDetail',addParam: '&unit='+unit}}
]; 
```

我想使链接具有两个请求参数，这将成为我的 jqgrid 数据的一部分：

```
http://localhost:7654/kiss/portal/yoadmintool/supplierCommodity/supplierCommodityDetail?id=48803&unit=Unit1 
```

但我收到错误

```
Uncaught ReferenceError: unit is not defined 
```

但如果我做出改变

```
[
    {name:'id',index:'id',hidden:true}, 
    {name:'unit',index:'unit',sorttype:"string"},
    {name:'supplierName',index:'supplierName',sorttype:"string",formatter:'showlink',formatoptions:{baseLinkUrl:'supplierCommodityDetail',addParam: '&unit=abc'}}
    ]; 
```

我正在获取网址

```
http://localhost:7654/kiss/portal/yoadmintool/supplierCommodity/supplierCommodityDetail?id=48803&unit=abc 
```

但我希望单位的值应该取决于该行，

这是我创建的[示例。](http://jsfiddle.net/yNw3C/834/)

我使用的替代方法是编写自定义包装函数。但我想使用默认的“showlink”格式化程序。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-19T09:20:20.840

在`colModel`userId 列中提到`formatter: editLink`获取 and 的值`userId`，`isActive`这里`editLink`是一个函数。

columnIndex`userId`是第一个参数，columnIndex是第二个参数，在函数中使用and`isActive`获取这些值。这两个值使用 . 分隔。`rowdata.userId``rowdata.isActive``editLink``&`

使用jqgrid`two parameters`传入 URL。

**代码：**

```
$(document).ready(function(){
            //jqGrid
            $("#usersList").jqGrid({
                url:'<%=request.getContextPath() %>/Admin/getAllUsersList',
                datatype: "json",               
                colNames:['Edit','Primary Email','Active','First Name','Middle Name','LastName','Mobile Number'],
                colModel:[
                    {name:'userId',search:false,index:'userId',width:30,sortable: false,formatter: editLink},                       
                    {name:'email',index:'user.primaryEmail',width:150},
                    {name:'isActive',index:'user.isActive',width:80},
                    {name:'firstName',index:'firstName', width:100},
                    {name:'middleName',index:'middleName', width:100},
                    {name:'lastName',index:'lastName', width:100},
                    {name:'mobileNo',index:'user.mobileNo', width:100},
                    ],
                    rowNum:20,
                    rowList:[10,20,30,40,50],
                    rownumbers: true,  
                    pager: '#pagerDiv',
                    sortname: 'user.primaryEmail',  
                    viewrecords: true,  
                    sortorder: "asc",
                    autowidth:'true',
            });
            $('#gridContainer div:not(.ui-jqgrid-titlebar)').width("100%");
            $('.ui-jqgrid-bdiv').css('height', window.innerHeight * .65);
            $('#load_usersList').width("130");
            $("#usersList").jqGrid('navGrid','#pagerDiv',{edit:false,add:false,del:false},{},{},{}, {closeAfterSearch:true});
            $(".inline").colorbox({inline:true, width:"20%"});
        });

        function editLink(cellValue, options, rowdata, action)
        {
            return "<a href='<%=request.getContextPath()%>/Admin/editUser/" +rowdata.userId+"&"+rowdata.isActive  + "' class='ui-icon ui-icon-pencil' ></a>";
        } 
```

# url - URL 解码问题 hotmail

> ID：11465065
> 
> 赞同：1
> 
> 时间：2012-07-13T06:12:16.683
> 
> 标签：url

我遇到了 Hotmail URL 的问题。单击下面的链接`"&"`符号开始转换为`"%26"`，因此我收到错误消息。此问题仅针对 hotmail，其他电子邮件客户端使用相同的 url 工作正常

这就是我拆分代码以形成网址的方式

```
<Const>/ece/cn=</Const>

<Result>UserEmailDetails/EmailConfirmNumber</Result>

<Const>&amp;em=</Const>

<Result>EmailMessageDetails/EmailTo</Result> 
```

热信网址

```
ece/cn=0799-4941-1686-7833-8544%26em=cdayanand-us13%40hotmail.com 
```

展望网址

```
/ece/cn=0799-4941-1686-7833-8544&em=cdayanand-us13%40hotmail.com 
```

# java - 在 Scanner.nextInt() 之后使用 Scanner.nextLine()

> ID：11465066
> 
> 赞同：2
> 
> 时间：2012-07-13T06:12:18.980
> 
> 标签：java, java.util.scanner

```
import java.util.Scanner;

public class Hello {

    public static void main(String args[]) {
        Scanner in = new Scanner(System.in);
        int a;
        String s;

        System.out.println("Enter int : ");
        a = in.nextInt();
        System.out.println("Enter String : ");

        s = in.nextLine();
        System.out.println("int : "+a+"\nString : "+s);
    }
} 
```

我是Java的完全初学者。我上课了`Hello`，想输入一个数字和一个字符串，但我认为`s = in.nextLine();`这一行被忽略了。如何逐行输入两个值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:25:25.437

当您使用`Scanner.nextInt()`时，它不会使用新行（或其他分隔符）本身，因此返回的下一个标记通常是一个空字符串。因此，您需要使用`Scanner.nextLine()`. 您可以丢弃结果而不是将其分配给`a`：

```
int a = in.nextInt(); 
in.nextLine(); 
```

正是出于这个原因，我建议*始终*使用`nextLine`(or `BufferedReader.readLine()`) 并在使用`Integer.parseInt()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:17:31.437

代替

```
s = in.nextLine(); 
```

尝试

```
in.nextLine();
s = in.nextLine(); 
```

对 nextInt() 的调用仍然留下一个尾随换行符。

调用 in.nextLine() 实际上会转到下一行。然后 in.nextLine 会得到你的实际结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:30:12.987

像这样尝试：D

```
import java.util.Scanner;

public class Hello {
    public static void main(String args[]) {
        Scanner in = new Scanner(System.in);
        int a;
        String s = null;
        System.out.print("Enter int: ");
        a = in.nextInt();

        while ((s = in.nextLine()).trim().isEmpty()) {
            System.out.print("Enter String: ");
        }

        System.out.println("int : " + a + "\nString : " + s);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:40:36.957

```
import java.util.Scanner;
public class Hello{
    public static void main(String args[]){
        Scanner in = new Scanner(System.in);
        int a;
        String s;
        System.out.println("Enter int : ");
        a = in.nextInt();
        System.out.println("Enter String : ");
        s = in.next();
        System.out.println("int : "+a+"\nString : "+s);
    }
} 
```

# asp.net - 使用会话保存数据

> ID：11465067
> 
> 赞同：0
> 
> 时间：2012-07-13T06:12:24.780
> 
> 标签：asp.net, session

我有 3 个文本框，用户将在其中输入一些值。然后用户将单击完成按钮，然后它将用户重定向到另一个页面，该页面将向用户显示他们之前在标签中输入的数据，然后再点击保存按钮以保存在数据库中。我想在这种情况下使用会话，但我不知道如何。有人能告诉我怎么做吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:14:10.687

看一下

[ASP.NET 会话状态概述](http://msdn.microsoft.com/en-us/library/ms178581.aspx)

[如何：在会话状态中保存值](http://msdn.microsoft.com/en-us/library/6ad7zeeb.aspx)

[如何：从会话状态中读取值](http://msdn.microsoft.com/en-us/library/03sekbw5.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:14:24.273

> 我想在这种情况下使用会话，但我不知道如何。

查看MSDN 上有关 ASP.NET 会话的[以下文章。](http://msdn.microsoft.com/en-us/library/ms178581.aspx)要将某些内容存储到会话中，您可以使用以下内容：

```
Session["Key1"] = TextBox1.Text; 
```

    会话["Key2"] = TextBox2.Text; 会话["Key3"] = TextBox3.Text;

然后当你想读回这些值时：

```
string value1 = (string)Session["key1"];
string value2 = (string)Session["key2"];
string value3 = (string)Session["key3"]; 
```

# .net - 我应该对视图模型上的方法或命令进行单元测试吗？

> ID：11465068
> 
> 赞同：1
> 
> 时间：2012-07-13T06:12:46.453
> 
> 标签：.net, wpf, mvvm, viewmodel, view-model-pattern

我刚看完[Jason Dolinger 在 MVVM 上的视频](http://blog.lab49.com/archives/2650)，我想澄清一下如何正确设置和单元测试我的视图模型的 ICommand 属性。

考虑以下带有 FooBarCommand ICommandProperty 的 ViewModel 类。

```
public class ViewModel : IViewModel
{
    public ICommand FooBarCommand { get; private set; }

    public bool CanExectuteFooBar()
    {
        return true;
    }

    public void FooBar()
    {
        //Do some FooBarish stuff
    }
}

public interface IViewModel
{
    void FooBar();
    System.Windows.Input.ICommand FooBarCommand { get; }
}

public class FooBarCommand : ICommand
{
    private ViewModel vm;

    public FooBarCommand(ViewModel vm)
    {
        this.vm = vm;
    }
    public bool CanExecute(object parameter)
    {
        return vm.CanExectuteFooBar();
    }

    public event EventHandler CanExecuteChanged;

    public void Execute(object parameter)
    {
        vm.FooBar();
    }
} 
```

因此，如果我对 ViewModel 的 FooBar 功能进行单元测试，我可以通过调用 testVM.FooBar() 或通过调用 testVM.FooBarCommand.Execute() 执行命令来运行 FooBar()。哪个是首选？我倾向于测试 FooBarCommand 属性，因为最终视图上的按钮被绑定到 FooBarCommand 属性而不是 FooBar() 方法。

此外，由于我的 View 将绑定到 IViewModel 而不是 ViewModel，我应该能够从 IViewModel 接口中省略 FooBar() 方法完全正确吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:11:04.583

为什么不使用 DelegateCommand 或 RelayCommand？如果你这样做，你就不必问这个问题，因为只有 Comand 本身是公共的——那么 canexecute 和 execute 方法是私有的。

我们只需要对公共的东西进行单元测试。

ps：不要错过我对您问题的评论，请直接在您的视图模型中使用 IMessageBoxService 而不是 MessageBox。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:13:29.883

在某些情况下，测试命令可能是另一个测试夹具，因为命令背后有逻辑（启用禁用按钮）。如果您只在`CanExecute`方法上返回 true，那么对命令进行单元测试是没有用的，但是当您的禁用启用按钮包含复杂的逻辑时，您应该在不同的夹具中对其进行测试。

注意（不同意则忽略）：

1.  尝试使用[中继命令](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx#id0090030)而不是将 VM 传递给命令，最小化循环引用始终是最佳实践。
2.  永远不要将**不可测试的对象**引用到 VM 中（查看 - 包括消息框、具有复杂依赖关系树的大型对象等）。

# css - 为什么元素的垂直对齐会影响其兄弟元素的对齐？

> ID：11465070
> 
> 赞同：2
> 
> 时间：2012-07-13T06:13:02.347
> 
> 标签：css, vertical-alignment

```
 <div class="bordered"  style="height: 300px; text-align: center">
        <div class="bordered inline-blocked" style="height: 100px; vertical-align: middle">XXX</div>
        <div class="bordered inline-blocked" style="height: 200px; vertical-align: middle">YYY</div>
    </div> 
```

Divs XXX 和 YYY 相对于彼此垂直居中，即它们在水平线上是一个，但相对于容器不垂直居中。这就是我想要的。

现在的问题：

如果我更改两个垂直对齐属性之一，就会发生奇怪的事情。

1.  我删除了 XXX 垂直对齐属性。结果： XXX 向下移动并与空对齐。YYY 保持不变。
2.  我将 YYY 垂直对齐属性设置为“顶部”。YYY 保持原位，XXX 与 YYY 的顶部对齐，尽管它自己的值仍然是“中间”。
3.  我将 YYY 垂直对齐属性设置为“底部”。YYY 保持原位，XXX 与 YYY 的底部对齐，尽管它自己的值仍然是“中间”。

我一直认为，当一行中有多个内联元素时，它们会形成一行内联框，并且所有垂直对齐值都相对于该框应用，即内联框由 va 属性垂直定位，而不是在其父级内，但在父级内的行内框内，即在其兄弟姐妹的行内。

因此，如果我将 XXX 属性设置为“中间”，将 YYY 设置为“底部”，那么它应该与它们都设置为中间的情况完全相同，因为假想的内联框的大小和位置没有改变。但事实上，如果它们都没有垂直对齐到中间，我无法垂直居中这些框。

那么你能解释一下这个简单的例子中发生了什么吗？

我无法得到的另一件事是此示例中的定位如何受 line-height 属性的影响。

回答：

> 不幸的是，vertical-align: middle 不会将内联元素与行中最大元素的中间对齐（如您所料）。相反，中间值将导致元素与假设的小写“x”（也称为“x-height”）的中间对齐。所以，在我看来，这个值实际上应该被称为“text-middle”以正确识别它的作用。块引用

来自[http://www.impressivewebs.com/css-vertical-align/](http://www.impressivewebs.com/css-vertical-align/)，感谢**prash**和**brains911**。

建议：

如果弄乱了垂直对齐，请在容器中添加一些文本-它将显示用于对齐的基线。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:16:18.900

当人们尝试在块级元素上使用**垂直对齐**但没有得到任何结果时。如果您有一个较小`div`的内部较大`div`并且想要将较小的内部垂直居中，那`vertical-align`将无济于事。

更多信息：您可以参考此链接：

[理解 CSS 的 vertical-align 属性](http://www.impressivewebs.com/css-vertical-align/)

[css 技巧-垂直对齐属性](http://css-tricks.com/what-is-vertical-align/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:44:49.767

[http://www.impressivewebs.com/css-vertical-align/](http://www.impressivewebs.com/css-vertical-align/)

[http://css-tricks.com/what-is-vertical-align/](http://css-tricks.com/what-is-vertical-align/)

尝试阅读一些关于它的文章。很难描述细微差别，这些文章有一些漂亮的视觉效果。或者你可以试着用谷歌搜索它。

# powershell - PowerShell：删除所有用户对目录的所有权限

> ID：11465074
> 
> 赞同：1
> 
> 时间：2012-07-13T06:13:17.587
> 
> 标签：powershell

我必须删除所有普通用户（即非管理员）的目录（及其子目录和文件）的所有权限。

我在 PowerShell 中尝试了以下操作，但什么也没发生：

```
New-Item "C:\Test" -type Directory
$acl=get-acl "C:\Test"
$inherit=[system.security.accesscontrol.InheritanceFlags]"ContainerInherit,ObjectInherit"
$propagation=[system.security.accesscontrol.Propagation]"None"
$ar=New-Object system.security.accesscontrol.FileSystemAccessRule("Users","FullControl",$inherit,$propagation,"Allow")
$acl.RemoveAccessRuleAll($ar)
Set-Acl "C:\Test" $acl 
```

如果我尝试`$env:computername\Users`（而不仅仅是`Users`）我会收到以下错误： `Exception calling "RemoveAccessRuleAll" with "1" argument(s): "Some or all identity references could not be translated.`“

为了识别所有用户，我必须传递什么身份？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-14T01:17:18.173

这将做到：

```
function AddNTFSPermissions($path, $object, $permission) {
    $FileSystemRights = [System.Security.AccessControl.FileSystemRights]$permission
    $InheritanceFlag = [System.Security.AccessControl.InheritanceFlags]"ContainerInherit, ObjectInherit"
    $PropagationFlag = [System.Security.AccessControl.PropagationFlags]"None"
    $AccessControlType =[System.Security.AccessControl.AccessControlType]::Allow
    $Account = New-Object System.Security.Principal.NTAccount($object)
    $FileSystemAccessRule = New-Object System.Security.AccessControl.FileSystemAccessRule($Account, $FileSystemRights, $InheritanceFlag, $PropagationFlag, $AccessControlType)
    $DirectorySecurity = Get-ACL $path
    $DirectorySecurity.AddAccessRule($FileSystemAccessRule)
    Set-ACL $path -AclObject $DirectorySecurity
}

function RemoveNTFSPermissions($path, $object, $permission) {
    $FileSystemRights = [System.Security.AccessControl.FileSystemRights]$permission
    $InheritanceFlag = [System.Security.AccessControl.InheritanceFlags]"ContainerInherit, ObjectInherit"
    $PropagationFlag = [System.Security.AccessControl.PropagationFlags]"None"
    $AccessControlType =[System.Security.AccessControl.AccessControlType]::Allow
    $Account = New-Object System.Security.Principal.NTAccount($object)
    $FileSystemAccessRule = New-Object System.Security.AccessControl.FileSystemAccessRule($Account, $FileSystemRights, $InheritanceFlag, $PropagationFlag, $AccessControlType)
    $DirectorySecurity = Get-ACL $path
    $DirectorySecurity.RemoveAccessRuleAll($FileSystemAccessRule)
    Set-ACL $path -AclObject $DirectorySecurity
}

function RemoveInheritance($path) {
    $isProtected = $true
    $preserveInheritance = $true
    $DirectorySecurity = Get-ACL $path
    $DirectorySecurity.SetAccessRuleProtection($isProtected, $preserveInheritance)
    Set-ACL $path -AclObject $DirectorySecurity
}

# Create folder
$Path = "C:\Test"
New-Item $Path -Type Directory

# Remove permissions
RemoveInheritance $Path
RemoveNTFSPermissions $Path "Authenticated Users" "Modify, ChangePermissions"
RemoveNTFSPermissions $Path "Users" "Modify, ChangePermissions" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:37:21.060

首先，您是否真的尝试过：

```
$($env:computername\Users) 
```

你能试一下吗 ：

```
$(WinNT://WORKGROUP/$env:computername/Utilisateurs) 
```

看看：

```
$obj = [ADSI]"WinNT://$env:COMPUTERNAME"
$obj.children | where {$_.name -eq "users"} | fl * 
```

# c# - 带参数启动线程

> ID：11465076
> 
> 赞同：2
> 
> 时间：2012-07-13T06:13:20.397
> 
> 标签：c#, multithreading, parameter-passing, abort

如果代码执行时间超过 3 秒，我需要中止线程。我正在使用以下方法。

```
public static void Main(string[] args) {
    if (RunWithTimeout(LongRunningOperation, TimeSpan.FromMilliseconds(3000))) {
        Console.WriteLine("Worker thread finished.");
    } else {
        Console.WriteLine("Worker thread was aborted.");
    }
 }

public static bool RunWithTimeout(ThreadStart threadStart, TimeSpan timeout) {
    Thread workerThread = new Thread(threadStart);
    workerThread.Start();

    bool finished = workerThread.Join(timeout);
    if (!finished)
    workerThread.Abort();

    return finished;
}

public static void LongRunningOperation() {
    Thread.Sleep(5000);
} 
```

你能告诉我如何对有参数的函数做同样的事情吗？例如：

```
public static Double LongRunningOperation(int a,int b) {
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:18:04.560

请参见[ParameterizedThreadStart](http://msdn.microsoft.com/en-us/library/system.threading.parameterizedthreadstart.aspx)

如果你使用.Net>=4.0 你也可以使用[TPL](http://msdn.microsoft.com/en-us/library/dd537609.aspx/)

```
Task.Factory.StartNew(()=>LongRunningOperation(a,b)); 
```

**- 编辑 -**

根据您的编辑（答案）

更改您的代码如下

```
if (RunWithTimeout(new ParameterizedThreadStart(LongRunningOperation), TimeSpan.FromMilliseconds(3000))) 
```

和

```
public static void LongRunningOperation(object ao){.....} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:18:27.960

您需要创建一个包含 2 个 int 参数的类，然后使用[ParametrizedThreadStart](http://msdn.microsoft.com/en-us/library/system.threading.parameterizedthreadstart.aspx)并传入您的对象

# python - Python Epoch 失败，年份为 2 位数

> ID：11465078
> 
> 赞同：3
> 
> 时间：2012-07-13T06:13:25.903
> 
> 标签：python, datetime, date, epoch

我正在读取一组日期和数字类似于以下示例的数据文件：

```
Jan-61  25.3
Feb-61  23.5
Mar-61  37.9
Apr-61  40.6 
```

我正在使用日期阅读

```
datetime.datetime.strptime(dateVariable, "%b-%y") 
```

有两位数的年份会引起问题，因为小于 70 的数字（即纪元年）被解释为 2000 年代而不是 1900 年代。

编辑所有文件并更改日期格式将非常困难。有没有办法告诉 datetime 以不同的方式解释两位数年份？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:17:45.267

你必须在某处画粗线。例如，如果您不接受未来日期（即 'Jun-12' 是 2012 年，但 'Aug-12' 是 1912 年）：

```
dt = datetime.datetime.strptime(dateVariable, "%b-%y")
if dt > datetime.now():
    dt = dt - datetime.timedelta(years=100) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T12:06:38.303

Years 不是 datetime.timedelta 的有效参数（至少在 Python 2.7 中不是），因此您实际上需要使用：

```
dt = datetime.datetime(dt.years - 100, dt.month, dt.day, dt.hours, dt.minutes, dt.seconds) 
```

# java - 在java中将base64字符串转换为字节码

> ID：11465081
> 
> 赞同：6
> 
> 时间：2012-07-13T06:13:30.240
> 
> 标签：java

> **可能重复：**
> [在 java 中解码 Base64 数据](https://stackoverflow.com/questions/469695/decode-base64-data-in-java)

我正在研究 java 配置文件，我想知道如何将 base64 字符串转换为字节数组。任何人都可以提供代码吗？这对我很有帮助。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-13T08:01:23.890

您还可以使用 Apache Commons Codec ( [http://commons.apache.org/codec/](http://commons.apache.org/codec/) )

```
String example = "SGVsbG8gV29ybGQ="
byte[] decoded = org.apache.commons.codec.binary.Base64.decodeBase64(example .getBytes()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:17:06.123

```
import sun.misc.BASE64Decoder;

BASE64Decoder decoder = new BASE64Decoder();
byte[] imageByte = decoder.decodeBuffer(imageData); 
```

`imageData`包含 Base64 数据的字符串在哪里。

# ios - dispatch_after 循环/重复

> ID：11465084
> 
> 赞同：4
> 
> 时间：2012-07-13T06:13:48.590
> 
> 标签：ios, objective-c, grand-central-dispatch, dispatch

我正在尝试创建一个这样的循环：

```
while (TRUE){
  dispatch_after(...{
    <some action>
  });
} 
```

在 viewDidLoad 之后。这个想法是重复 dispatch_after 重复。dispatch_after 在执行操作之前等待两秒钟。

这不起作用 - 屏幕只是空白？它卡在循环中还是...？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-29T12:32:07.637

是的，你可以用 gcd 做到这一点。不过，您需要两个额外的 c 函数。

```
static void dispatch_async_repeated_internal(dispatch_time_t firstPopTime, double intervalInSeconds, dispatch_queue_t queue, void(^work)(BOOL *stop)) {    
    __block BOOL shouldStop = NO;
    dispatch_time_t nextPopTime = dispatch_time(firstPopTime, (int64_t)(intervalInSeconds * NSEC_PER_SEC));
    dispatch_after(nextPopTime, queue, ^{
        work(&shouldStop);
        if(!shouldStop) {
            dispatch_async_repeated_internal(nextPopTime, intervalInSeconds, queue, work);
        }
    });
}

void dispatch_async_repeated(double intervalInSeconds, dispatch_queue_t queue, void(^work)(BOOL *stop)) {
    dispatch_time_t firstPopTime = dispatch_time(DISPATCH_TIME_NOW, intervalInSeconds * NSEC_PER_SEC);
    dispatch_async_repeated_internal(firstPopTime, intervalInSeconds, queue, work);
} 
```

经测试！按预期工作。

[https://gist.github.com/4676773](https://gist.github.com/4676773)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-13T06:18:14.947

`dispatch_after(...)`无论计划何时运行，调用都会立即返回。这意味着您的循环在调度它们之间不会等待两秒钟。相反，您正在构建一个无限的队列，这些队列将在两秒后发生，而不是彼此之间的两秒。

所以是的，您陷入了添加越来越多要执行的块的无限循环中。如果您希望每两秒发生一次，那么您可以使用重复的 NSTimer 或将块 dispatch_after 放在自身内部（以便第二个块在第一个块之后两秒运行）。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-12-10T08:46:18.677

GCD 已经内置了这个

```
dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, queue);
if (timer) {
    dispatch_source_set_timer(timer, dispatch_time(DISPATCH_TIME_NOW, interval * NSEC_PER_SEC), interval * NSEC_PER_SEC, (1ull * NSEC_PER_SEC) / 10);
    dispatch_source_set_event_handler(timer, block);
    dispatch_resume(timer);
} 
```

[https://gist.github.com/maicki/7622108](https://gist.github.com/maicki/7622108)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-02-19T01:35:04.353

如果您希望在延迟后运行异步任务以检查例如标签是否已更新，然后完成，您可以使用以下代码：

```
typedef void (^RepeatCompletionHandler)(BOOL isRepeat);

typedef void (^RepeatBlock)(RepeatCompletionHandler completionHandler);

- (void)dispatchRepeat:(int)seconds withBlock:(RepeatBlock)block {

    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, seconds * NSEC_PER_SEC),
                   dispatch_get_main_queue(), ^() {
                       block(^(BOOL isRepeat) {
                           if (isRepeat) {
                               return [self dispatchRepeat:seconds withBlock:block];
                           }
                       });
                   });

} 
```

例如：

```
[self dispatchRepeat:5 withBlock:^(RepeatCompletionHandler completionHandler) {

    [tagsService getTagValueForTagName:TagName value:^(NSString *tagValue) {
        if (![TagValue isEqualToString:tagValue]) {
            return completionHandler(YES);
        }
        completionHandler(NO);
    }];

}]; 
```

# java - java错误：构造函数调用必须是构造函数中的第一条语句

> ID：11465098
> 
> 赞同：2
> 
> 时间：2012-07-13T06:15:09.790
> 
> 标签：java, constructor

以下代码向我返回了一条错误消息：
`"constructor call must be the first statment in a constructor."`

我不明白。我的代码中的构造函数是第一条语句。我究竟做错了什么？

```
public class labelsAndIcons extends JFrame
{
    public labelFrame()
    {
        super( "Testing JLabel" );
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T06:17:42.993

构造函数名称必须与类名称相同，因此请将类名称更改为`labelFrame`或将构造函数名称更改为`labelsAndIcons`。

示例*（注意通常第一个字母在 java 中是大写字母）*：

```
public class LabelFrame extends JFrame {
    public LabelFrame() {
        super( "Testing JLabel" );
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:18:18.670

你的意思是

```
public class labelsAndIcons extends JFrame {
    public labelsAndIcons ()
    {
        super( "Testing JLabel" );
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:26:04.160

构造函数名称必须与类名称相同。让我们看看这个：

```
constructor call must be the first statement in a constructor 
```

中的构造器词`constructor call`引用了超类的构造器，它是`super();`

in 中的构造函数词是`in a constructor`指您的类的 consucor，即：`public labelsAndIcons()`

所以你需要把你的代码缩小到：

```
public class labelsAndIcons extends JFrame
{
  public labelsAndIcons ()
  {
     super( "Testing JLabel" );
  }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:26:59.200

理想情况下，您的代码应该失败，`Invalid Method declartion`因为`public labelFrame()`

*   既不是构造函数*（因为构造函数与类名同名）*。
*   既不是正确的方法声明。

无论像这样更改您的代码：

```
public class labelsAndIcons extends JFrame
{
  public labelsAndIcons ()
  {
     super( "Testing JLabel" );
  }
} 
```

# javascript - 如果我使用启用年份选择的 jquery datepicker，如何使该表单选择与 selected.js 一起使用

> ID：11465099
> 
> 赞同：0
> 
> 时间：2012-07-13T06:15:15.943
> 
> 标签：javascript, jquery, jquery-ui, jquery-chosen

当列表很长时很难选择年份，我想结合 selected.js

任何想法 ？

```
$('.selector').datepicker({
    beforeShow: function(input, inst) {
        $('.chosen').chosen();
    }
});

$('.selector').datepicker({
    beforeShowDay: function(date) {
        $('.chosen').chosen();
    }
}); 
```

上面的代码我试过了。不工作。

# php - 合并给定的两个数组并替换它们

> ID：11465100
> 
> 赞同：0
> 
> 时间：2012-07-13T06:15:16.503
> 
> 标签：php, arrays, strtr

我对这段代码有问题...

```
$text = "cat cow";
$a = array("cat", "cow");
$b = array("dog", "bull");
$c = array_combine($a, $b);
$output = strtr($text, $c); 
```

此代码合并两个数组并替换文本。这工作正常，但是当我用 unicode 字符尝试这段代码时......即

```
<?php

function convert($fromc, $toc, $otext) {
    $raavi = array("~", "!", "@", "#", "$", "%", "^", "&", "*", "(", ")", "_", "+", "`", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "_", "=", "ਥ", "ੱ", "ਓ", "੍ਰ", "ਠ", "ੈ", "ੂ", "ੀ", "ੌ", "ਫ", "{", "}", "।", "ਤ", "ੱ", "ੲ", "ਰ", "ਟ", "ੇ", "ੁ", "ਿ", "ੋ", "ਪ", ".", "॥", "\\", "ੳ", "ੰ", "ਧ", "ਾਂ", "ਘ", "੍ਹ", "ਝ", "ਖ", "਼", ":", "\"", "ਅ", "ਸ", "ਦ", "ਾ", "ਗ", "ਹ", "ਜ", "ਕ", "ਲ", "   ;", "'", "ਢ", "ਯ", "ਛ", "ੜ", "ਭ", "ਂ", "ੰ", ",", ">", "?", "ਡ", "ਣ", "ਚ", "ਵ", "ਬ", "ਨ", "ਮ", ",", "।", "/", "ੴ", "॥", "#", "੍ਰ", "•", "।", "ੴ", "ੴ", "☬", "ਸ਼", "ਖ਼", "ਗ਼", "ਜ਼", "ਫ਼", "੍ਯ", "#", "॥", "ਲ਼", "੧", "੨");
    $drchatrik = array("~", "!", "@", "#", "$", "%", "^", "&", "*", "(", ")", "_", "+", "`", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "-", "=", "Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P", "{", "}", "|", "q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "[", "]", "\\", "A", "S", "D", "F", "G", "H", "J", "K", "L", ":", "\"", "a", "s", "d", "f", "g", "h", "j", "k", "l", ";", "'", "Z", "X", "C", "V", "B", "N", "M", ",", ">", "?", "z", "x", "c", "v", "b", "n", "m", ",", ".", "/", "¡", "«", "¬", "R", "•", "»", "Ã", "Å", "Ç", "È", "É", "Ê", "Ë", "Ì", "Î", "Ñ", "Ò", "Ü", "ñ", "ò");
    $combine = array_combine($$fromc, $$toc);
    $converted = strtr($otext, $combine);
    echo ($converted);
}

?> 
```

它不起作用。当我用它回显它`print_r`但不替换文本时，它会组合数组。

请帮忙。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:29:50.130

我很难准确理解你想要什么，但我会使用循环来遍历数组

```
$raavi = array("ਥ", "ੱ");//shortened for ease of reading
$drchatrik = array("Q", "W");

function convert($otext) {
    global $raavi, $drchatrik
    return(trim(preg_replace($raavi, $drchatrik, $otext)));
}

foreach(array_combine($fromc, $toc) as $otext)
{
    $text_out[] = convert($otext)
}

print_r($text_out); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:22:21.917

您可以从这里尝试使用 mb_strtr [http://code.google.com/p/mbfunctions/](http://code.google.com/p/mbfunctions/)

还请提供转换功能不起作用的示例参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:47:49.623

你有你的从一个到混淆，如果你称之为`convert("drchatrik", "raavi", "text here")`它会起作用

# android - 重复背景创建空白 - android

> ID：11465106
> 
> 赞同：0
> 
> 时间：2012-07-13T06:16:08.900
> 
> 标签：android, background, repeat, removing-whitespace

我的问题是当我将图像放在背景中时会自行创建的空白。我做了一个新的图标集。将图像放在那里并对其进行裁剪，使其没有白色边框。当我创建一个新的图像视图时，它可以工作，它本身没有边框。但是当我把它作为背景重复时，它会创建一个空白。它看起来像这样：我不能发布图片，所以请看这里：http: [//i.stack.imgur.com/AwNiz.gif](http://i.stack.imgur.com/AwNiz.gif)

我正在使用相对布局，我创建了一个可绘制文件并将一个 xml 文件放入其中，其中包含以下代码：

```
<?xml version="1.0" encoding="utf-8"?>
<bitmap 
      xmlns:android="http://schemas.android.com/apk/res/android" 
      android:src="@drawable/im" 
      android:gravity="center"  
      android:tileMode="mirror"/> 
```

我尝试了 3 张不同的图片，当放在重复的背景上时，它总是会出现空白。我希望背景可以简单地连接而没有任何空白。提前致谢 ：）

我正在使用 Eclipse。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:49:03.120

如果您创建一个 9.png 文件并让它延伸到边缘会发生什么？看起来你的位图比空间小。

# java - 从程序中获取时间复杂度和空间复杂度

> ID：11465107
> 
> 赞同：0
> 
> 时间：2012-07-13T06:16:10.220
> 
> 标签：java, compiler-construction

我正在创建一个网站（我的学术项目），用户可以在其中上传他的程序文件（.cs、.PHP、.java），然后网络编译程序并能够自动说出时间和空间复杂度。这可能吗？我们如何计算程序的复杂度。Java中是否有用于查找程序复杂性的代码？或者我们可以从编译器本身找到这些吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:24:51.240

假设你知道给程序什么样的输入，你可以通过实际运行程序的连续迭代来*估计复杂度。*然而，由于[停机问题](http://en.wikipedia.org/wiki/Halting_problem)，一般情况下的静态分析是不可能的。

如果您可以在不同大小的输入集上多次运行应用程序，您可以开发一个近似值。

在对数字进行排序的经典案例中，您可以让应用程序对 2 个数字的列表进行排序，然后对 4、8、16、32 等进行排序……并从本质上绘制每次运行的内存和时间要求。基本曲线拟合将向您展示复杂性的增长。

请注意，这并不严格准确，因为某些算法可能存在其性能发生根本变化的点。这样的系统也可能会被“看起来”相似但性质大不相同的增长之间的差异所迷惑，例如渐近曲线和对数曲线，或指数曲线和多项式曲线。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:32:20.200

确定程序的时间和空间复杂度是一个难题。正如反馈所指出的那样，通常甚至不可能指出程序是否会终止。（这被称为[停机问题](http://en.wikipedia.org/wiki/Halting_problem)）

要开始您的项目，我建议您研究一下由 GMetrics 项目计算的 Cyclomatic Complexity [。](http://en.wikipedia.org/wiki/Cyclomatic_complexity)

这将使您开始探索主题。

# ios - 设备旋转时更改自定义 inputView 的高度

> ID：11465108
> 
> 赞同：6
> 
> 时间：2012-07-13T06:16:11.937
> 
> 标签：ios, uitextfield, uikeyboard, inputview

我制作了一个自定义键盘视图并将其链接到 UITextField 的 inputView 属性。有没有办法在方向改变时改变自定义 inputView 的高度，并像系统键盘一样平滑地改变框架？我的键盘尺寸是 768x272，当设备横向时，尺寸变成 1024x272，但我想让它变得更大，比如 1024x372。如果我在获取 UIDeviceOrientationDidChangeNotification 时使用下面的代码更改框架，则更改动画不流畅。

```
textField.inputView.frame = CGRectMake(0,0,1024,372); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-08-12T19:41:52.743

根据[Apple](https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/InputViews/InputViews.html)的 UIResponder.inputView 文档：“如果 UIKit 在其自动调整大小掩码中遇到具有 UIViewAutoresizingFlexibleHeight 值的输入视图，它会更改高度以匹配键盘。”

因此，如果您想要自定义高度，则不应指定 UIVieAutoresizingFlexibleHeight 掩码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-16T04:53:02.053

经过多次实验，我找到了自己问题的最佳答案。一个简短的答案是当你得到改变框架`UIKeyboardDidHideNotification`。

自定义 inputView 嵌入在另一个由系统控制的视图中，称为`UIPeripheralHostView`. 因此，在错误的时间更改自定义 inputView 不会立即反映出来，或者充其量只能显示丑陋的布局。

当设备旋转时，系统会短暂隐藏键盘，然后执行键盘从旧方向到新方向的旋转动画。我认为动画块插入在两个通知`UIKeyboardDidHideNotification`和`UIKeyboardWillShowNotification`. 这些通知与`UIKeyboardWillChangeFrameNotification`. 此通知中的“框架”实际上是指 的框架`UIPeripheralHostView`。

因此，当我得到时更改输入视图的框架`UIKeyboardDidHideNotification`使系统有机会`UIPeripheralHostView`在动画开始之前调整框架，从而在方向更改期间从短键盘平滑过渡到高键盘。

这在 iOS 5 中有效。但 Apple 将来可能会改变这种做法。

# android - SyncML 与 Android 进行数据库同步

> ID：11465112
> 
> 赞同：2
> 
> 时间：2012-07-13T06:16:44.113
> 
> 标签：android, sqlite, sync, syncml

我正在创建一个数据库同步解决方案，它使用 Android 客户端将数据库与服务器 OTA 进行双向同步。

我目前正在使用

*   具有 2.3.6 的 Android 设备（如果需要，切换到不同的 API 级别不是问题）
*   客户端的[SQLite](http://www.sqlite.org/)数据库，即 Android 设备。
*   [服务器端的PostgreSQL](http://www.postgresql.org/)数据库。

当我遇到**[SyncML](http://en.wikipedia.org/wiki/SyncML)**时，我正在探索一些类似的现有解决方案，但我不知道这个解决方案是否可以与 Android 一起使用。

所以我的问题是3折：

1.  我可以在 Android 上使用 SyncMl 吗？
2.  如果是，如何？任何人都可以向我指出任何教程或建议，或者如果有人开发了类似的解决方案，您可以为我指出正确的开始方向。
3.  SyncML 是我最好的选择吗？还是我应该寻找其他东西？

# actionscript-3 - 在动作脚本中使用 copypixels() 将位图数据对象的特定区域复制到另一个位图数据

> ID：11465113
> 
> 赞同：0
> 
> 时间：2012-07-13T06:16:52.743
> 
> 标签：actionscript-3, flash

我正在开发一个编辑图像的在线工具，但我遇到了问题。将位图的特定区域复制到另一个位图。什么问题，谁能帮帮我？

```
function enablepaste(event:MouseEvent)
{

tempShape.graphics.clear();
mv_temp.graphics.clear();
var rect = new Rectangle(tempstartX,tempstartY,endX,endY);
var pnt =new Point(tempstartX,tempstartY);

tempBMP_data=new BitmapData(rect.width,rect.height,false,0);

tempBMP_data.copyPixels(stageBMP.bitmapData,rect,pnt , null, null, true );

   //tempBMP_data is destinagtion bitmap data object

tempBMP= new Bitmap(tempBMP_data);

mv_temp.addChild(tempBMP);

Paste_button.visible=true;
} 
```

我面临的问题是它只显示矩形而不复制图形。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:22:45.260

我看到有两个潜在的缺陷：

1.  当您执行copyPixels时，目标点（第三个参数）不应该是Point（0,0）吗？

2.  如果上述调整没有产生正确的结果，我会考虑克隆 stageBMP，并在 x 和 y 方向上移动几个像素，这样可以确保 stageBMP 正确生成。

# submit - 在 TSO 错误中提交作业

> ID：11465114
> 
> 赞同：0
> 
> 时间：2012-07-13T06:17:00.930
> 
> 标签：submit, mainframe, jcl, tso

我现在正在学习大型机编程。我得到了一个 tso id 与 Dezhi，我正在使用 PASSPORT 终端模拟器。我的用户是 CATIA81

我上传了一些工作和一个 cobol 程序进行测试。我尝试通过 ISPF COMMAND SHELL 提交作业：

```
 SUBMIT CATIA81.KSDCRTJ1.JCL 
```

我得到以下错误：

```
 SUBMIT cancelled, JOBNAME must start with CATIA81 
```

这就是我所拥有的

```
 //CATIA81KDEL1 JOB CSBL81,CLASS=1,MSGCLASS=0,NOTIFY=CSIP1
    //* *******************************************************************
    //*        This program is provided by: SimoTime Enterprises          *
    //*           (C) Copyright 1987-2012 All Rights Reserved             *
    //*             Web Site URL:   http://www.simotime.com               *
    //*                   e-mail:   helpdesk@simotime.com                 *
    //* *******************************************************************
    //* Subject: JCL to delete a VSAM Data Set using the IDCAMS Utility   *
    //* Author:  SimoTime Enterprises                                     *
    //* Date:    January 1, 1998                                          *
    //*-------------------------------------------------------------------*
    //* The following example is more than what is usually required to    *
    //* delete a VSAM Data Set. However, the purpose is to illustrate the *
    //* functions of the IDCAMS utility.                                  *
    //*********************************************************************
    //*
    //         EXEC PGM=IDCAMS
    //SYSPRINT DD  SYSOUT=*
    //SYSIN    DD  *
      DELETE    CATIA81.DATA.VKSD0080   -
                FILE (VKSD0080)          -
                PURGE                    -
                ERASE                    -
                CLUSTER
      SET       MAXCC = 0
     /*
    // 
```

最初的 JOBNAME 是 KSDDELJ1，我将其更改为 CATIA81KDEL1。我的错误是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:42:08.537

作业名称不能超过 8 个字符，将作业名称从 CATIA81KDEL1 更改为 CATIA81K

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-03-12T09:54:02.027

除了作业名称不能超过 8 个字符外，您还希望将数据集名称用引号引起来，除非您不希望它明确地完全限定。否则，TSO 会将您的用户前缀添加到名称的前面。

前缀通常与用户 ID 匹配，但可以使用 TSO PROFILE 命令进行不同的设置。要查看您的环境中定义的内容，您可以运行这个小的 REXX 脚本：

```
 /* REXX */
    say 'sysvar(syspref):' sysvar(syspref) 
    say 'sysvar(sysuid): ' sysvar(sysuid) 
```

# python - PyQt v4.8.2 + Python 3 ...图标仅显示在开发机器上

> ID：11465117
> 
> 赞同：0
> 
> 时间：2012-07-13T06:17:16.130
> 
> 标签：python, user-interface, python-3.x, pyqt

我用 gui 编写了一个小应用程序来分析 xml 文件。我有 2 个 .py 文件，其中 1 个是 GUI，第二个是 xml。我的问题是我设置的图标以及我使用 QMovie 显示的 gif 没有出现在任何机器上，但我的开发机器上。其他机器没有安装 PyQt 或 Python。他们正在使用我从 Python 复制到网络驱动器上的安装文件夹。我刚刚复制了机器 system32 文件夹中的 python32.dll 并且该应用程序可以工作......除了图标。

这就是我设置图标和引用 gif 的方式：

```
 self.setWindowIcon(QtGui.QIcon("grabb.ico"))
    --------other code---------
    self.movie = QMovie("load.gif", QByteArray(), self)
    self.movie.setCacheMode(QMovie.CacheAll)
    self.movie.setSpeed(100)
    self.movie_screen.setMovie(self.movie)
    self.movie.start() 
```

该文件与 py 位于同一目录中，因此这应该可以工作。我也尝试过绝对路径，但这并没有给我更好的结果。

现在我在堆栈上读到这可以通过使用资源系统来解决。因此，我使用设计器创建了一个资源文件，然后使用 pyrcc4 将其编译为 .py（使用 python 3 的参数）。现在我正在参考这样的图像：

```
 self.setWindowIcon(QtGui.QIcon(":icon/grabber.ico"))
    --------other code---------
    self.movie = QMovie(":loader/load.gif", QByteArray(), self)
    self.movie.setCacheMode(QMovie.CacheAll)
    self.movie.setSpeed(100)
    self.movie_screen.setMovie(self.movie)
    self.movie.start() 
```

这在我的机器上又可以正常工作，但在其他任何地方都没有。

关于为什么只有 ma 机器显示图标的任何想法？我没有使用 py2exe 或类似的东西！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T10:56:45.957

I too came across the same situation.

One approach is to set the paths in qt.config file and place this in the location of your executable.

I tested this with Python 2.6, and its working fine without any issue.

You said that you have shared your python installation which has PyQt4 init.

Lets say you python share path is `\\somesystem\Python26`

Yo will find a qt.config file in `\\somesystem\Python26\PyQt4`. Take it and replace the below lines in qt.conf

```
[Paths]
Prefix = //somesystem/Python26/PyQt4
Binaries = //somesystem/Python26/PyQt4 
```

# sql - Sql Query Grouping 并选择 Complete Row

> ID：11465126
> 
> 赞同：0
> 
> 时间：2012-07-13T06:18:03.373
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我必须编写一个查询来选择首先加入该部门的员工的 ID，为此我在加入日期应用对 deptId 和 Min 聚合函数的分组。

```
EmpId joinDate  deptId
1      2/5/2012   2
2      5/6/2012   1
3      2/5/2012   2
4      5/58/2012  2 
```

我的结果应该是：

```
EmpId joinDate  deptId
1      2/5/2012   2
2      5/6/2012   1 
```

我无法获取 EmpId，我的 EmpId 是 Guid 类型。有没有可能的解决方案。我正在使用 MS SQL SERVER 2008。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:05:07.260

请尝试此查询并告诉我

```
select EmpId, joinDate , deptId from
(select row_number() over(partition by deptId order by joinDate) as rnk,*
from employe)E
where E.rnk=1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:55:22.283

也许有点简单的解决方案：

```
SELECT * FROM employees a WHERE joinDate IN
(SELECT MAX(b.joinDate) FROM employees b WHERE b.deptId = a.deptId) 
```

假设您的表的名称是`employees`并且您希望从第一个加入的部门中获取所有员工（可以有多个！）。免责声明：没有在 MS SQL Server 上测试，而是在 PostgreSQL 上测试，但是它是一个简单的 SQL，我认为它应该可以工作。

# actionscript-3 - AS3 赛事竞赛条件

> ID：11465133
> 
> 赞同：0
> 
> 时间：2012-07-13T06:18:20.577
> 
> 标签：actionscript-3, flash

当我使用一些自定义事件实例化新的 MovieClip 类时，我在解决存在的竞争条件时遇到了一些麻烦，这些事件在我可以将实例存储在关联对象中之前会回火。

**主班**

```
var pages:Object = {
    "page1":"page1",
    "page2":"page2"
};

for(var pageName:String in pages)
{
    pages[pageName] = buildPage(pageName, onReady);
}

function buildPage(pageName:String, onReady:Function)
{
    var newPage:MovieClip = new (getDefinitionByName(pageClass) as Class)();
    newPage.addEventListener("PAGE_READY", onReady);
    newPage.dispatchEvent(new Event("PAGE_CREATE"));
    return newPage;
}

function onReady(e:Event)
{
    for(var pageName:String in pages)
    {
        trace(typeof pages[pageName]);
    }
} 
```

**第 1 页和第 2 页类**扩展了 MovieClip

```
function pageX()
{
    this.addEventListener("PAGE_CREATE",this.onCreate);
}

function onCreate(e:Event)
{
    this.graphics.beginFill(0xFF0000);
    this.graphics.drawRect(0,0,200x200);
    this.graphics.endFill();

    this.dispatchEvent(new Event("PAGE_READY"));
} 
```

不幸的是，当这一切都发生时，我得到：

```
string
string
object
string 
```

在我可以存储 MovieClip 实例以供以后参考之前，原始字符串对象仍然存在。关于如何击败这个的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:05:33.530

您发布的代码不描述标准类。
此代码是在影片剪辑帧上还是在单独的文件中？
但就发布的代码而言，我可以看到您的问题是在将对象添加到数组之前触发 PAGE_CREATE 事件。
你在做

```
newPage.dispatchEvent(new Event("PAGE_CREATE")); 
```

在您返回对象之前。
您没有发布完整的类，所以我真的无法帮助您重写代码，但是，从您发布的内容中，我将完全删除 buildPage 方法并将代码置于循环中，然后在将对象添加到数组后调度事件.
此外，另一个原因，最佳实践是不要从循环中调用函数，如果该函数中没有很多代码。

```
for(var pageName:String in pages)
{
    var newPage:MovieClip = new (getDefinitionByName(pageClass) as Class)();
    newPage.addEventListener("PAGE_READY", onReady);
    pages[pageName] = newPage;
    newPage.dispatchEvent(new Event("PAGE_CREATE"));
} 
```

# sql - NOT IN 语句不应该返回结果

> ID：11465138
> 
> 赞同：0
> 
> 时间：2012-07-13T06:18:50.433
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我在一所学校工作，我们正在尝试运行一个查询，以查看所有应该在下周开始但还没有 AD 帐户的学生（我们在寻呼机字段中使用 ID 号，因此对其进行搜索）。我们已将 SQL 链接到 Ad，因此我们可以运行这些查询并且从未遇到任何问题，但是当我运行以下命令时，我没有得到任何结果。

```
select *
from FutureStudents
where id not in (select * from OPENQUERY(ADSI, '
    SELECT pager
    FROM ''LDAP://OU=students,DC=stcatherines,DC=net,DC=au'' 
    WHERE objectCategory = ''Person'' 
    AND objectClass = ''user'' '
    )
) 
```

当我运行 not in 命令时，我希望我应该得到一个结果，但我没有。但是，如果我将查询更改为 in（而不是 not in），我会得到表中所有拥有帐户的学生。另外，在运行这些查询的同时，我做了一个简单的查询，在 AD 中寻找寻呼机，我一直在移动以获取结果，当帐户在学生 OU 中时，我得到结果以及何时移动我不。

所以我相当肯定这与 not in 声明有关。我是否使用了正确的陈述，或者我应该做些什么不同的事情来获得真实的结果？

# silverlight - 自定义 SilverLight 容器控件

> ID：11465140
> 
> 赞同：0
> 
> 时间：2012-07-13T06:19:00.650
> 
> 标签：silverlight, xaml, user-controls

我想创建一个新的 Silverlight 容器控件，该控件默认包含两个按钮，即保存和取消按钮。当用户在主页上使用这个控件时，他应该能够在这个控件上添加新的控件，如文本框、组合等。此外，btn_SaveClick 和 btn_CancelClick 等默认按钮的事件应该可供用户在代码中编码主页后面。是否可以创建这样的控件？
PS：我目前在VS2010上使用SilverLight5。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T15:24:08.617

这绝对是可能的。首先你需要一个从 ContentControl 派生的类：

```
public class MyControl : ContentControl ... 
```

然后，您需要在 XAML 资源文件中使用与此类似的代码：

```
<!-- MyControl -->
<Style TargetType="me:MyControl">
    <Setter Property="Foreground" Value="Black" />
    <Setter Property="BorderBrush" Value="Transparent" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="BorderMargin" Value="4,4,4,0" />
    <Setter Property="FooterMargin" Value="4,0,4,4" />

    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="me:MyControl">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Content -->
                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

                    <!-- Footer Buttons -->
                    <Grid x:Name="grdFooter" Grid.Row="1" Background="{StaticResource Footer_Bkg}" Margin="{TemplateBinding FooterMargin}">
                        <!--Buttons here-->
                    </Grid>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

最后要在页面中使用它，您只需要这样的东西：

```
<me:MyControl x:Name="MainPage">
    <Grid x:Name="LayoutRoot">
        <!--Cool stuff here-->
    </Grid>
</me:MyControl> 
```

# html - Datapower - 解析 HTML

> ID：11465146
> 
> 赞同：1
> 
> 时间：2012-07-13T06:19:16.833
> 
> 标签：html, parsing, portlet, ibm-datapower

我有一种情况，底层应用程序提供了一个 UI 层，而这又必须呈现为一个 portlet。但是，我不希望最初呈现的 UI 的所有部分都在 Portlet 中呈现。

建议的解决方案：使用 Datapower 解析作为规范的 XML，我想知道是否可以解析 HTML。我了解 HTML 可能并不总是格式正确。但是如果底层应用程序中的 HTML 页面很少，那么可以强制执行合同。

此外，如果有人设法使用 DP 从 HTML 中解析和提取数据，那么结果（可能是 XML）可用于生成 HTML5 及其所有优点。

所以问题：使用 Datapower 解析 HTML 页面以从中提取 XML 是否可取？先决条件：每个应用程序的 HTML 页面数量可能会因数据而异，但不会因页面数量而异。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-31T02:04:48.690

我怀疑您将无法使用 DataPower 解析 HTML。DataPower 可以解析格式良好的 XML，但 HTML（除非它被明确设计为 xHTML）可能充满破坏格式良好的标签。

很多网页都充满了`<br>`or之类的标签`<ul><li>Item1<li>Item2<li>Item3</ul>`，所有这些都会导致解析失败。

如果您真的想遵循您建议的方法，您可能需要在更灵活的平台上做一些事情，例如 WAS，您可以在其中构建（或重用）一个为您处理所有这些的解析器。

如果您考虑一下，这就是您的 Web 浏览器所做的 - 它具有将格式错误的 XML 标记（即 HTML）转换为有效 DOM 结构的所有复杂规则。听起来您最好在 DOM 级别而不是 HTML 级别进行操作，因为这样您可以利用现有的、经过良好测试的解析解决方案并专注于数据的结构。您可以使用 JavaScript 在客户端执行此操作，也可以查看服务器端 JavaScript 选项，例如 Rhino 或 PhantomJS。

不过，所有这一切可能都是以艰难的方式做事。您是否已确认底层应用程序是否具有 IT 用于呈现页面的任何 API 或 Web 服务，从而允许您在现有表示层不妨碍的情况下获取数据？

干杯，克里斯

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-12-06T13:06:51.437

当您想对其进行一些处理时，就会产生解析和 HTML 页面的问题。如果是这种情况，您可能会遇到问题，因为默认情况下 datapower 不允许在格式良好的 XML 或 HTML 文档中使用超链接 [这被认为是一种安全风险]，但是可以通过现有 XML 管理器中的适当设置来克服这一点。

就 HTML 页面解析问题而言，Datapower 和 ESB 层有望提供消息格式转换，而且确实如此。因此，从设计角度来说，它是进行消息格式转换的好地方。但实际上，当您尝试将 HTML 解析为 XML 文档时，您将面临上述问题。

[理论上] 解析可以生成您希望的任何消息格式模型，因此您可以使用 XSLT 来实现您想要的。

*   阿吉塔布

# c - 使用 sigaction(), c

> ID：11465148
> 
> 赞同：7
> 
> 时间：2012-07-13T06:19:24.870
> 
> 标签：c, unix, signals, bitmask, systems-programming

我正在阅读一些内容`sigaction()`（来源来自我的课程笔记），但我不确定我是否理解这段文字：

> 仅在信号处理程序的持续时间内计算和安装信号掩码。
> 
> 默认情况下，信号“sig”在信号出现时也会被屏蔽。
> 
> 一旦使用 sigaction 为特定信号安装了一个动作，它就会一直保持安装状态，直到明确请求另一个动作。

这是否意味着从信号处理程序返回后恢复默认信号掩码？另外，我是否必须在使用后重新安装处理程序，就好像我正在使用一样`signal()`？

此外，还有这段代码：

```
#include <signal.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

void termination_handler(int signum) {
    exit(7);
}

int main (void) {
  struct sigaction new_action,old_action;
  new_action.sa_handler = termination_handler;
  sigemptyset(&new_action.sa_mask);
  sigaddset(&new_action.sa_mask, SIGTERM);
  new_action.sa_flags = 0;
  sigaction(SIGINT, NULL, &old_action);
  if (old_action.sa_handler != SIG_IGN) {
         sigaction(SIGINT,&new_action,NULL);
  }
  sleep(10);
  return 0;
} 
```

那么 - 究竟将如何`SIGTERM`处理？我可以看到安装的处理程序是`termination handler()`，但随后`SIGTERM`被添加到信号掩码中而没有使用`sigprocmask()`. 这是什么意思？谢谢！

PS最后一个问题：为什么`if`声明在`main()`？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-07-10T14:05:45.587

让我们尝试了解修改后的代码版本发生了什么：

```
#include <signal.h>
#include <stdio.h>

void termination_handler(int signum)
{
    printf("Hello from handler\n");
    sleep(1);
}

int main (void)
{
    //Structs that will describe the old action and the new action
    //associated to the SIGINT signal (Ctrl+c from keyboard).
    struct sigaction new_action, old_action;

    //Set the handler in the new_action struct
    new_action.sa_handler = termination_handler;
    //Set to empty the sa_mask. It means that no signal is blocked
    // while the handler run.
    sigemptyset(&new_action.sa_mask);
    //Block the SEGTERM signal.
    // It means that while the handler run, the SIGTERM signal is ignored
    sigaddset(&new_action.sa_mask, SIGTERM);
    //Remove any flag from sa_flag. See documentation for flags allowed
    new_action.sa_flags = 0;

    //Read the old signal associated to SIGINT (keyboard, see signal(7))
    sigaction(SIGINT, NULL, &old_action);

    //If the old handler wasn't SIG_IGN (it's a handler that just
    // "ignore" the signal)
    if (old_action.sa_handler != SIG_IGN)
    {
        //Replace the signal handler of SIGINT with the one described by new_action
        sigaction(SIGINT,&new_action,NULL);
    }

    while(1)
    {
        printf("In the loop\n");
        sleep(100);
    }
    return 0;
} 
```

* * *

因此，如果您编译并启动它，然后按 Ctrl+C，那么您将执行处理程序消息，然后您会立即从主程序的睡眠中返回。您可以根据需要多次执行此操作，并且仍会显示处理程序消息和内循环消息。

因此，您提供一个函数，然后 sigaction 将完成将信号与您的处理程序挂钩所需的一切。

* * *

现在，sigterm 呢？如果您在终止处理程序中增加睡眠时间，您可以在按 Ctrl+C 后键入类似“pkill --signal SIGTERM ./a.out”的内容。那么，会发生什么？没有什么！SIGTERM 信号在终止处理程序运行时被阻塞。但是一旦你回到主，现在 SIGTERM 将杀死应用程序。

（请记住，在测试此代码时，您仍然可以通过发送 SIGKILL 信号来终止应用程序。）

* * *

如果您想了解更多信息，并在信号方面获得更多乐趣，您可以使用[信号手册](http://man7.org/linux/man-pages/man7/signal.7.html)和[sigaction 手册](http://man7.org/linux/man-pages/man2/sigaction.2.html)，其中包含更多信息。请注意，您还拥有 sigaction 结构的详细描述。

# asp.net - GZIP 压缩将如何在 asp.net 应用程序中进行？

> ID：11465152
> 
> 赞同：2
> 
> 时间：2012-07-13T06:20:18.250
> 
> 标签：asp.net, gzip, pagespeed

我正在使用[PageSpeed Insights](https://developers.google.com/speed/docs/best-practices/payload)在我的 asp.net 应用程序中进行页面优化，发现我需要将所有请求压缩为 Gzip 格式以减少大小和加载时间。

但是，当我检查网络中的请求时，它显示在**Request-header**和**Response-Header**中已经分别有**Accept-Encoding:gzip、deflate、sdch**和**Content-Encoding:gzip**。这意味着编码会自动发生在 aspx 页面上！

**这是怎么发生的？是默认的吗？**

对于 js 和 css 没有编码，在**PageSpeed Insights**中它告诉我你需要在高优先级部分压缩所有**js**和**css 。****我怎样才能为我的 asp.net 应用程序实现它？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T02:27:39.063

IIS 能够为您进行 gzip 压缩，下面的示例进入您的 web.config

```
<system.webServer>
    <!-- enable gzip compression -->
    <urlCompression doStaticCompression="true" doDynamicCompression="true" dynamicCompressionBeforeCache="true" />
</system.webServer> 
```

# python - 解压嵌套列表

> ID：11465158
> 
> 赞同：3
> 
> 时间：2012-07-13T06:20:31.587
> 
> 标签：python, list

我的问题很简单。有两个列表。第一个是整数列表：

```
a = [1, 2, 3] 
```

另一个是列表列表：

```
b = [['a', 'b'], ['c', 'd'], ['e', 'f']] 
```

我怎么能得到下面的结果：

```
result = [[1, 'a', 'b'], [2, 'c', 'd'], [3, 'e', 'f']] 
```

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T06:22:08.513

```
>>> a = [1, 2, 3]
>>> b = [['a', 'b'], ['c', 'd'], ['e', 'f']]
>>> [[aa] + bb for aa, bb in zip(a, b)]
[[1, 'a', 'b'], [2, 'c', 'd'], [3, 'e', 'f']] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T06:37:07.033

在 Python3 中

```
>>> a = [1, 2, 3]
>>> b = [['a', 'b'], ['c', 'd'], ['e', 'f']]
>>> [aa+bb for *aa, bb in zip(a,b)]
[[1, 'a', 'b'], [2, 'c', 'd'], [3, 'e', 'f']] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:23:25.463

另一种方法是：

```
index = 0
l = b
for i in a:
    l[index].append(i)
    index += 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:44:25.897

以下 Python 代码将解包每个列表并以您指定的形式组装它。

```
[[a[i]] + b[i]  for i in range(min(len(a),len(b)))] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-14T19:22:01.007

使用 Python 的`enumerate`函数，您可以遍历带有索引的列表。使用`x.extend(y)`会将列表中的值`x`添加到列表中`y`。

```
a = [1, 2, 3]
b = [['a', 'b'], ['c', 'd'], ['e', 'f']]

result = []
for index, value in enumerate(a):
    aa = [value]
    aa.extend(b[index])
    result.append(aa) 
```

# java - 附加到现有的 xml 文件

> ID：11465160
> 
> 赞同：0
> 
> 时间：2012-07-13T06:20:54.933
> 
> 标签：java, xml, append

我创建了一种方法来在 xml 文件上写入我的信息

```
Element performances = new Element("performances");
Document doc = new Document(performances);

performances.setAttribute(new Attribute("date", dateFormat.format(cal.getTime())));

//Uptime
                Element uptime = new Element("uptime");
                uptime.addContent(new Element("days").setText(new Long(duptime).toString()));
                uptime.addContent(new Element("hours").setText(new Long(huptime).toString()));
                uptime.addContent(new Element("minutes").setText(new Long(muptime).toString()));
                uptime.addContent(new Element("seconds").setText(new Long(suptime).toString()));
                doc.getRootElement().addContent(uptime);
                //TotalHitsCount
                doc.getRootElement().addContent(new Element("totalhitcount").setText(new Long(stats.gettotal_hit_count()).toString()));
                //EmittedBytes
                doc.getRootElement().addContent(new Element("emittedbytes").setText(new Long(stats.getemitted_bytes()).toString()));
                //Avghitsec
                doc.getRootElement().addContent(new Element("avghitsec").setText(new Float(stats.getavg_hit_sec()).toString()));
                //Avgbyteshit
                doc.getRootElement().addContent(new Element("avgbyteshit").setText(new Long(stats.getavgbytes_hit()).toString()));
                //Avgbps
                doc.getRootElement().addContent(new Element("avgbps").setText(new Long(stats.getavgbps()).toString()));
                //Total threads
                doc.getRootElement().addContent(new Element("totalthreads").setText(new Long(stats.gettotal_threads()).toString()));
                //Idle threads
                doc.getRootElement().addContent(new Element("idlethreads").setText(new Long(stats.getidle_threads()).toString()));

                XMLOutputter xmlOutput = new XMLOutputter();

                xmlOutput.setFormat(Format.getPrettyFormat());
                xmlOutput.output(doc, new FileWriter("/home/mazzy/Scrivania/perfor_"+dateFormat.format(cal.getTime())+".xml")); 
```

而不是每次都重新创建一个新文件，我会在第一次创建文件时创建，在第二次写入时将信息附加到现有文件上

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:33:14.507

[FileWriter](http://docs.oracle.com/javase/6/docs/api/java/io/FileWriter.html)类有一个带有 append 参数的构造函数。所以你的代码看起来像这样：

```
xmlOutput.output(doc, new FileWriter("/home/mazzy/Scrivania/perfor_"+dateFormat.format(cal.getTime())+".xml"), true); 
```

# iphone - 同时在 uibutton 上启用触摸和动作监听器

> ID：11465163
> 
> 赞同：1
> 
> 时间：2012-07-13T06:21:22.320
> 
> 标签：iphone, objective-c, xcode, uibutton, uitouch

对不起，我缺乏知识，我想知道我们是否可以同时启用动作监听器和触摸（拖动按钮`UITouch`）。我这样做了，但我只能检测到动作侦听器（`IBAction`）我的拖动功能在按钮上不起作用。提前致谢。愉快的一天！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:03:10.603

uibutton 将“吃掉”所有的触摸，所以你不能使用你的自定义视图。您可以在一个 btn 上添加多动作：

```
UIButton *btn = [UIButton .....];    
[btn addTarget:self action:@selector(click:) forControlEvents:UIControlEventTouchUpInside];
[btn addTarget:self action:@selector(drag:) forControlEvents:UIControlEventTouchDragOutside]; 
```

# ruby - 如何从 Ruby 中的一行 HTML 中提取表单值

> ID：11465166
> 
> 赞同：0
> 
> 时间：2012-07-13T06:21:58.607
> 
> 标签：ruby, parsing

我想提取一些表单标签的值。我在运行时不知道该值。

我发现了几个接近的线程，但它们都专注于 HTML 解析和抓取。

我已经有了需要值的 HTML 源代码和表单字段的名称。

例子：

```
<input type="hidden" name="currentRackU" id="currentRackU" value="11"> 
```

我可以使用正则表达式来获取 'id="currentRackU" value=' 但我现在需要获取下一个字符，直到结束引号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T19:40:07.820

这个带nokogiri的单线怎么样？

```
require 'nokogiri'
s = '<input type="hidden" name="currentRackU" id="currentRackU" value="11">'
Nokogiri::XML.parse(s).root.attributes['id'].value # currentRackU 
```

`gem install nokogiri`如果您没有安装 nokogiri ，您可能需要运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:09:02.790

在从 HTML/XML 文档中提取数据时，我通常使用 gem nokogiri - 它以一种优雅的方式很好地完成了这项工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:30:59.300

虽然 HTML/XML 确实不应该使用正则表达式进行解析，但这里有一些可以帮助您的东西。它扫描标签并返回属性及其值的哈希：

```
html = '<input type="hidden" name="currentRackU" id="currentRackU" value="11">'
Hash[html.scan(/(\w+)="(.*?)"/)]
#=> {"type"=>"hidden", "name"=>"currentRackU", "id"=>"currentRackU", "value"=>"11"} 
```

# php - 用php在序列化数组中追加数据

> ID：11465174
> 
> 赞同：0
> 
> 时间：2012-07-13T06:22:25.823
> 
> 标签：php

我正在编写一个用于创建序列化数组的 php 脚本，如下所示：

```
$x=Array();
  $x[0]=$_GET['fname'];
  $x[1]=$_GET['lname'];
  $str=serialize($x);
  print $str;
  $y=$_GET['hf'];
  $con = mysql_connect("localhost","root","");
    if (!$con)
    {
    die('Could not connect: ' . mysql_error());
    }

    mysql_select_db("formdemo", $con);
    $sql="update rohit set data='$str' where fid='$y'"; 
```

现在我想在这个数组上附加更多数据。我该怎么做

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:25:43.067

您必须未序列化的数组添加值并再次序列化。

```
function add($serializedArray, $item)
{
   $array = unserialize($serializedArray);
   $array[] = $item;
   return serialize($array);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:28:16.553

首先，您不会转义传递给脚本的数据。你必须这样做：

```
$x[0] = mysql_real_escape_string( $_GET['fname'] ); 
```

你也不需要设置索引，所以：

```
$x[] = mysql_real_escape_string( $_GET['fname'] ); 
```

它将数据附加到数组的末尾。

如果要向现有的序列化数组添加新数据，则需要对其进行反序列化，添加数据并再次序列化：

```
$x   = unserialize($x);
$x[] = 'something else';
$x   = serialize($x); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:31:08.547

将其从数据库中拉出，反序列化，添加数据，序列化，然后再次更新：

```
$mysqli = new mysqli("localhost", "root", "", "formdemo");
$stmt = $mysqli->prepare("SELECT data FROM rohit WHERE fid = ?");
$stmt->bind_param('i', $_GET['hf']);
$stmt->execute();
$stmt->bind_result($x);
$stmt->fetch();
$stmt->close();

$x = unserialize($x['data']);
$x[] = "new data";
$x = serialize($x);

$stmt = $mysqli->prepare("update rohit set data=? where fid=?");
$stmt->bind_param('si', $x, $_GET['hf']);
$stmt->execute(); 
```

# java - 在 FileNet 中上传文件？

> ID：11465177
> 
> 赞同：1
> 
> 时间：2012-07-13T06:22:36.160
> 
> 标签：java, file-upload, filenet-p8, filenet-content-engine

我正在编写代码以在 FileNet 中上传文件。
一个独立的 java 程序，用于获取一些输入，并将其上传到 FileNet。我是 FileNet 的新手。你能帮我吗，怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-12T04:11:48.860

您可以将`Document.java`IBM 提供的用于您的活动和许多其他 Java 类

```
package fbis.apitocasemanager;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.InputStream;

import com.user.DocumentUtil;

public class Addfilescasemanager {

    /**
     * @param args
     */
    public static void addfiles_toicm(String directory, String lFolderPath)
    {
        try {
        DocumentUtil.initialize();
        String path = directory;
        System.out.println("This is the path:..............................."
                + path);
        String file_name;
        File folder = new File(directory);
        File[] listOfFiles = folder.listFiles();
        for (int i = 0; i < listOfFiles.length; i++) 
        {
            if (listOfFiles[i].isFile())
            {
                file_name = listOfFiles[i].getName();
                System.out.println(file_name);
                String filePaths = directory + file_name;
                // File file = new File("C:\\FNB\\att.jpg");
                File file = new File(filePaths);
                InputStream attStream = null;
                    attStream = new FileInputStream(file);
                DocumentUtil.addDocumentWithStream(lFolderPath, attStream,
                        "image/jpeg", file_name, "Document");
            }
        }
        } catch (FileNotFoundException e) 
        {
        e.printStackTrace();
         }
    }//end of method

    public static void addfile_toicm(File file_name, String lFolderPath)
    {
        try {
        DocumentUtil.initialize();
                InputStream attStream = null;
                    attStream = new FileInputStream(file_name);
                DocumentUtil.addDocumentWithStream(lFolderPath, attStream,
                        "image/jpeg", file_name.getName(), "Document");
                System.out.println("File added successfully");
        } catch (Exception e) 
        {
        System.out.println(e.getMessage());
       }
    }//end of method
    public static void main(String nag[])
    {
        addfiles_toicm("E:\\FSPATH1\\BLR_14122012_001F1A\\","/IBM Case Manager/Solution Deployments/Surakshate Solution for form 2/Case Types/FISB_FactoriesRegistration/Cases/2012/12/06/16/000000100103");
    }
} 
```

我的`DocumentUtil`课是

```
package com.user;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.InputStream;

import javax.security.auth.Subject;

import com.filenet.api.collection.ContentElementList;
import com.filenet.api.constants.AutoClassify;
import com.filenet.api.constants.AutoUniqueName;
import com.filenet.api.constants.CheckinType;
import com.filenet.api.constants.DefineSecurityParentage;
import com.filenet.api.constants.RefreshMode;
import com.filenet.api.core.Connection;
import com.filenet.api.core.ContentTransfer;
import com.filenet.api.core.Document;
import com.filenet.api.core.Domain;
import com.filenet.api.core.Factory;
import com.filenet.api.core.Folder;
import com.filenet.api.core.ObjectStore;
import com.filenet.api.core.ReferentialContainmentRelationship;
import com.filenet.api.util.UserContext;

public class DocumentUtil {

    public static ObjectStore objectStore = null;

    public static Domain domain = null;
    public static Connection connection = null;

    public static void main(String[] args)
    {
        initialize();
        /*
        addDocumentWithPath("/FNB", "C:\\Users\\Administrator\\Desktop\\Sample.txt.txt",
                "text/plain", "NNN", "Document");
        */
        File file = new File("E:\\Users\\Administrator\\Desktop\\TT.txt");

        FileInputStream fis = null;
        try {
            fis = new FileInputStream(file);
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        addDocumentWithStream("/FNB", fis, "text/plain", "My New Doc", "Document");
    }

    public static void initialize()
    {

        System.setProperty("WASP.LOCATION", "C:\\Progra~1\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv01\\installedApps\\P8Node01Cell\\FileNetEngine.ear \\cews.war\\WEB-INF\\classes\\com\\filenet\\engine\\wsi");
        System.setProperty("SECURITY.AUTH.LOGIN.CONFIG",
                "C:\\Progra~1\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv01\\installedApps\\P8Node01Cell\\FileNetEngine.ear\\client-download.war\\FileNet\\Download\\dap501.153\\jaas.conf.wsi");
        System.setProperty(":SECURITY.AUTH.LOGIN.CONFIG",
                "C:\\Progra~1\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv01\\installedApps\\P8Node01Cell\\FileNetEngine.ear\\client-download.war\\FileNet\\Download\\dap501.153\\jaas.conf.wsi");
        System.setProperty("java.security.auth.login.config","C:\\Progra~1\\IBM\\WebSphere\\AppServer\\java\\jre");
        connection = Factory.Connection.getConnection(CEConnection.uri);
        Subject sub = UserContext.createSubject(connection,
                com.user.CEConnection.username, CEConnection.password,
                CEConnection.stanza);
        UserContext.get().pushSubject(sub);
        domain = Factory.Domain.getInstance(connection, null);
        objectStore = Factory.ObjectStore.fetchInstance(domain, "TARGET", null);
        System.out.println("\n\n objectStore--> " + objectStore.get_DisplayName());
    }

    public static void addDocumentWithPath(String folderPath, String filePath,
            String mimeType, String docName, String docClass) {

        Folder folder = Factory.Folder.fetchInstance(objectStore,
                folderPath, null);

        System.out.println("\n\n Folder ID: " + folder.get_Id());
        // Document doc = Factory.Document.createInstance(os, classId);

        Document doc = CEUtil.createDocWithContent(new File(filePath), mimeType, 
                objectStore, docName, docClass);

        doc.save(RefreshMode.REFRESH);

        doc = CEUtil.createDocNoContent(mimeType, objectStore, docName, docClass);
        doc.save(RefreshMode.REFRESH);
        CEUtil.checkinDoc(doc);
        ReferentialContainmentRelationship rcr = CEUtil.fileObject(objectStore, doc, folderPath);
        rcr.save(RefreshMode.REFRESH);

    }

    public static void addDocumentWithStream(String folderPath,
            InputStream inputStream, String mimeType, 
            String docName, String docClass) {

        Folder folder = Factory.Folder.fetchInstance(objectStore,
                folderPath, null);

        System.out.println("\n\n Folder ID: " + folder.get_Id());
        // Document doc = Factory.Document.createInstance(os, classId);

        Document doc = Factory.Document.createInstance(objectStore, null);

        ContentElementList contEleList = Factory.ContentElement.createList();
        ContentTransfer ct = Factory.ContentTransfer.createInstance();

        ct.setCaptureSource(inputStream);
        ct.set_ContentType(mimeType);
        ct.set_RetrievalName(docName);
        contEleList.add(ct);

        doc.set_ContentElements(contEleList);
        doc.getProperties().putValue("DocumentTitle", docName);

        doc.set_MimeType(mimeType);
        doc.checkin(AutoClassify.AUTO_CLASSIFY, CheckinType.MAJOR_VERSION);
        doc.save(RefreshMode.REFRESH);

        ReferentialContainmentRelationship rcr = folder.file(doc,
                AutoUniqueName.AUTO_UNIQUE, docName, 
                DefineSecurityParentage.DO_NOT_DEFINE_SECURITY_PARENTAGE);
        rcr.save(RefreshMode.REFRESH);
        /*

        doc.save(RefreshMode.REFRESH);

        doc = CEUtil.createDocNoContent(mimeType, objectStore, docName, docClass);

        CEUtil.checkinDoc(doc);
        ReferentialContainmentRelationship rcr = CEUtil.fileObject(objectStore, doc, folderPath);
        rcr.save(RefreshMode.REFRESH);
        */
    }

    public static ObjectStore getObjecctStore()
    {
        if (objectStore != null) {
            return objectStore;
        }

        // Make connection.
        com.filenet.api.core.Connection conn = Factory.Connection
                .getConnection(CEConnection.uri);
        Subject subject = UserContext.createSubject(conn,
                CEConnection.username, CEConnection.password, null);
        UserContext.get().pushSubject(subject);

        try {
            // Get default domain.
            Domain domain = Factory.Domain.getInstance(conn, null);

            // Get object stores for domain.
            objectStore = Factory.ObjectStore.fetchInstance(domain, "TARGET",
                    null);

            System.out.println("\n\n Connection to Content Engine successful !!");
        } finally {
            UserContext.get().popSubject();
        }

        return objectStore;

    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-15T05:06:08.570

上面的答案非常好。只是想为人们节省一些时间，但我没有评论的要点，所以我将其添加为答案。

Eclipse 浪费了我很多时间来完成上述工作，因为它建议导入错误的类。这是正确的列表：

```
import com.filenet.api.collection.ContentElementList;
import com.filenet.api.constants.AutoClassify;
import com.filenet.api.constants.AutoUniqueName;
import com.filenet.api.constants.CheckinType;
import com.filenet.api.constants.DefineSecurityParentage;
import com.filenet.api.constants.RefreshMode;
import com.filenet.api.core.Document;
import com.filenet.api.core.ObjectStore;
import com.filenet.api.core.ContentTransfer;
import com.filenet.api.core.Folder;
import com.filenet.api.core.Factory;
import com.filenet.api.core.ReferentialContainmentRelationship; 
```

# c++ - c ++ opencv上的灰屏

> ID：11465182
> 
> 赞同：2
> 
> 时间：2012-07-13T06:22:57.897
> 
> 标签：c++, windows, visual-studio-2010, opencv

我已经搜索了很多关于我的简单问题，但我没有找到解决方案。当我运行我的代码黑色控制台向我显示相机帧大小但在窗口中视频未显示时，它显示一个纯灰色屏幕。但是，如果我从 HDD 播放视频，则它可以正常工作。请帮我一个。这是我的代码

```
 #include <iostream>

#include <cv.h>
#include <cxcore.h>
#include <highgui.h>

using namespace std;

int main(int argc, char** argv){

    CvCapture *capture;
    IplImage* img=0;
    cvNamedWindow("Window");
    capture = cvCreateCameraCapture( -1);
    //capture = cvCaptureFromAVI("1.mp4");
    //capture = cvCaptureFromCAM(-1);

    int ext=0;

    assert( capture );

    if(capture==NULL){
        cout<<"Cam Not Found!!!"<<endl;
        getchar();
        return -5;
    }
    while ( true ){

        img = cvQueryFrame( capture );

        cvSaveImage("1.jpg",img);

        if (!img){
            printf("Image not Found\n");
            break;
        }

        cvShowImage("Window", img);
        cvWaitKey(50);
    }
    cvReleaseImage(&img);
    cvDestroyWindow("Window");
    cvReleaseCapture(&capture);

    return 0;
} 
```

我使用 opencv 2.2 和 Visual Studio 2010

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T12:10:01.410

一件事显然是错误的，您需要将调用顺序更改为：

```
cvShowImage("Window", img);
cv::waitKey(20); 
```

其次，检查是否成功至关重要`cvQueryFrame()`：

```
img = cvQueryFrame( capture );
if (!img)
{
    // print something
    break;
} 
```

**编辑：**

顺便说一句，我刚刚注意到您将 OpenCV 的 C 接口与 C++ 接口混合在一起。不要那样做！替换`cv::waitKey(50);`为`cvWaitKey(50);`。

出于调试目的，如果`cvQueryFrame()`成功，我建议您使用 将一帧存储到磁盘`cvSaveImage()`，如果该图像正常，则表示捕获过程实际上运行良好，而问题出在其他地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T13:29:33.190

我刚刚将 openCV 2.2 版切换到 2.1 版，它的工作完美.......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-11T08:27:12.730

我正在使用 OpenCV 3.1 版，我遇到了同样的问题，我重新构建了 openCV 3.1 并重新检查了环境变量，所以我的问题解决了。如果需要，您可以备份内置的 opencv 并提取。对不起，我的英语不好 ：）

# actionscript-3 - 有机会从 ip cam 播放 h264 流吗？

> ID：11465183
> 
> 赞同：1
> 
> 时间：2012-07-13T06:23:11.790
> 
> 标签：actionscript-3, apache-flex, h.264, flex4.5

我正在开发 h264 flash 播放器。我通过 http 连接获得原始 h264 的字节流（来自 ip cam），我必须播放它。据我所知，flash 不能直接播放任何流，我必须将它包装在 flv 容器中。所以，我要做的是获取一个字节数组，搜索 00 00 00 01（NAL 起始前缀代码）并将 FLV 标记添加到此帧，然后使用 NetStream.appendBytes() 将其最终添加到舞台。问题是——这是正确的方法吗？我的意思是，如果我只是将 FLV 标签添加到这些帧，我可以将原始 h264 转换为 flv 流吗？可能有更简单的方法从 ip cam 播放原始 h264 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-14T14:50:56.660

您好……我真的希望这会有所帮助……我为各种实体处理过各种形式的在线视频；从那我知道 Adob​​e 在 PlayBack 方面有大约 12 年的时间......所以如果你坚持使用它 --- YouTube 仍然使用它......？

我整理了一个 AS3 示例，该示例检索 objectEncoding 属性的值以及帧内容的标头 [订单文件]--为了使用 Binary 生成所需的内容，您将使用 appendBytes () 处的调用--这会将字节添加到 FIFO 中，直到 FLV 标签完成……一旦 FLV 标签完成，它会使用对 appendBytes() 的调用移动到缓冲区 [线程：播放]：此缓冲区将通知您何时使用 FLV 标签。未形成完整 FLV 标签的剩余字节进入 FIFO 中的 FIFO 字节（移动@播放缓冲区）。

这是选项 2：NetStream 对象有两个缓冲区：从 appendBytes() 到 NetStream() 对象的 FIFO，以及 [playout] 缓冲区。FIFO 是重新组装的部分 FLV 标签；它包含不超过一个不完整的 FLV 标记：调用 NetStream .seek。冲洗 || 缓冲区。Seek 提供对以下内容的本机访问：
appendBytesAction -> readObject -> object... 这里您的数据在 ByteArray 的序列化 AMF 中并存储它。

以下示例将订单文件从 (filename || location for Data) 读取到 ByteArray (以字节为单位)，解压缩，并调用 readObject() 将其存储在 each () 循环构造中，以将每个节点添加到显示：

```
package 
{
import flash.display.*; 
import flash.events.*; 
import flash.net.*; 
import flash.filesystem.*; 
import flash.utils.ByteArray;
import flash.utils.*;

function wBytes(file:String, data:ByteArray):void{  
     var oFile:File = File.desktopDirectory;
     oFile = oFile.resolvePath(file);
     var oStream:FileStream = new FileStream();
     oStream.open(oFile, FileMode.WRITE);
     oStream.writeBytes(data, 0, data.length); 
     oStream.close(); 
     var iFile = iFile.resolvePath(file);
     var iStream:FileStream = new FileStream();
     iStream.open(iFile, FileMode.READ);
     iStream.readBytes(data);
     iStream.close();
 }
 function readBinBytes():void {
     var iBytes:ByteArray = new ByteArray();
     readFileIntoByteArray("order", iBytes);
     iBytes.position = 0; 
     iBytes.uncompress(CompressionAlgorithm.DEFLATE);
     iBytes.position = 0
     var uVariables:UVariablesiables = new UVariablesiables( "one=1&two=2" )
     uVariables.decode("amp=" + encodeURIComponent( "&" ) );
     uVariables.tree = 3; 
     uVariables.amp2 = "&&";
     var urlRequest:URLRequest = new URLRequest()
     urlRequest.data = uVariables;

     readFileIntoByteArray("order", iBytes);
     iBytes.position = 0;
     iBytes.uncompress(CompressionAlgorithm.DEFLATE); 
     iBytes.position = 0;    
}
function readFileIntoByteArray(Name:String, data:ByteArray):void{
     var fIN:File = File.desktopDirectory
     fIN = fIN.resolvePath(Name)
     var FS:FileStream = new FileStream();
     FS.open(fIN, FileMode.READ);
     FS.readBytes(data);
     FS.close()
     var rq:URLRequest = new URLRequest(FS)
     var variables:URLLoader = new URLLoader();
     variables.dataFormat = URLLoaderDataFormat.VARIABLE
     variables.addEventListener(Event.COMPLETE, function push(event:Event) 
                                               { variables = URLLoader(event.target) }
     try{variables.load(rq} 
         catch(error:*){} 
} 
```

}

这 3 种方法应该为大多数使用 RAW H.26+ 的播放环境提供速度和逻辑： 没有指定帧速率 - 听起来很简单 - 这是大多数公司支付的另一层工作......希望它有所帮助。这不是万能的，但您正在处理可能需要数周时间的事情。祝你好运。

# javascript - 在js中单击按钮时增加ID号

> ID：11465185
> 
> 赞同：-1
> 
> 时间：2012-07-13T06:23:39.167
> 
> 标签：javascript, jquery

每次单击时我都有一个按钮，将添加一个新的选择输入。但我也希望更改选择的 ID 和名称。我的代码是：

```
<section>
  <div class="container">
   <select id="myId_1" name="myName_1">
     <option value="1">1</option>
     <option value="2">2</option>
   </select>
  </div>
</section>
<button type="button" id="myBtn">add</button>

$(document).ready(function () {
    $('#myBtn').click(function(){
      var addEvent = $('.container').html();
      var addEventCell = $('<div class="container">'+addEvent+'</div>');
      $('section').append(addEventCell);
    });
  }); 
```

但我的代码只是复制了选择的 ID 和名称。我希望它更改为 myId_2、myName_2、myId_3、myName_3 等等。

我是 JavaScript 新手。对你们来说可能很容易。感谢帮助 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:32:46.533

```
 $(document).ready(function () {
    $('#myBtn').click(function(){
      var addEvent = $('.container:last').html();
      var addEventCell = $('<div class="container">'+addEvent+'</div>');
      var select = $('select', addEventCell);
      var oldId = select.attr('id');
      var newId = oldId.split('_')[0] + '_' + (parseInt(oldId.split('_')[1]) + 1);
      select.attr('id', newId).attr('name', newId);
      $('section').append(addEventCell);
    });
  });​ 
```

[http://jsfiddle.net/QVYhu/](http://jsfiddle.net/QVYhu/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:57:40.133

这是在这里工作的 [JSFiddle](http://jsfiddle.net/Bcjdx/1/)的链接。它可能对你有用

```
$(document).ready(function () {
    $('#myBtn').click(function(){
      var addEvent = $('.container').html();

      var selectid = $('section :last-child select').attr('id'); 
      var selectname = $('section :last-child select').attr('name'); 

      var tempId = parseInt(selectid.split('_')[1])+1; 
      var tempName = parseInt(selectname.split('_')[1])+1; 
      var addEventCell = $('<div class="container">'+addEvent+'</div>');

      var newId =  selectid.split('_')[0]+"_"+tempId; 
      var newName = selectname.split('_')[0]+"_"+tempName ;

      var select = $('select', addEventCell);
      select.attr('id', newId).attr('name', newName);      

      $('section').append(addEventCell);
    });
  });​ 
```

# python - 在python函数中声明全局变量

> ID：11465186
> 
> 赞同：2
> 
> 时间：2012-07-13T06:23:41.787
> 
> 标签：python, global-variables, return-value, scope

我创建的程序将用于解析 xml 文件并将其放入数据库中的解析数据。虽然我的代码现在可以正常运行，但我的导师在我的代码中有一条评论，顺便说一句，这是我的代码：

```
import os
import time
import MySQLdb
import ConfigParser
import elementtree.ElementTree as ET

def update_database(article_code, date_received, s100rsd, remark_text, db):
    cur = db.cursor()
    try:
        cur_query = cur.execute("""INSERT INTO tblS100CurrentListing """
                                """(article_Code, dateReceived, s100RSD, remarks) VALUES (%s, %s, %s, %s) """
                                """ON DUPLICATE KEY UPDATE revisedRSD = %s, remarks = %s """,
                                (article_code, date_received, s100rsd, remark_text, s100rsd, remark_text))
        db.commit()
    except MySQLdb.Error, e:
        print "An error has been passed %s" %e
        db.rollback
    rows_affected = cur.rowcount
    if rows_affected > 0:
        print "Changes made in the database"
    else:
        print "Nothing is change in  the database"

def parse_xml(source_path, xml_file):
    # Alvin: !!! globals?
    global article_code
    global date_received
    global s100rsd
    global remark_text
    article_code = xml_file.split('.')[0]
    tree = ET.parse(xml_file)
    root = tree.getroot()
    order = root.find('order')
    order_time = order.find('time')
    year = order_time.attrib['yr']
    month = order_time.attrib['month']
    day = order_time.attrib['day']
    hour = order_time.attrib['hr']
    min = order_time.attrib['min']
    sec = order_time.attrib['sec']
    date_received = year +  month + day +  hour + min + sec
    due_date = order.find('due-date')
    due_date_time = due_date.find('time')
    yr = due_date_time.attrib['yr']
    month = due_date_time.attrib['month']
    day = due_date_time.attrib['day']
    s100rsd = "%s-%s-%s" %(yr, month, day)
    item_info = order.find('item-info')
    item_remarks = item_info.find('item-remarks')
    item_remark_list = item_remarks.findall('item-remark')
    item_remark_len = len(item_remark_list) - 1
    item_remark = item_remark_list[item_remark_len]
    remark = item_remark.find('remark')
    remark_text = remark.text

def main():
    config = ConfigParser.ConfigParser()
    config.readfp(open('part4b.ini'))
    server = config.get('main', 'Server')
    port = config.get('main', 'Port')
    port = int(port)
    schema = config.get('main', 'Schema') 
    table = config.get('main', 'Table')
    user = config.get('main', 'User')
    password = config.get('main', 'Password')
    source_path = config.get('main', 'filepath')

    db = MySQLdb.connect(server, user, password, schema, port)
    xml_list = os.listdir(source_path)
    for xml_file in xml_list:
        if xml_file.endswith('.xml'):
            parse_xml(source_path, xml_file)
            update_database(article_code, date_received, s100rsd, remark_text, db)

    db.close()

    print "This will close after 2 seconds . ."
    time.sleep(2)

if __name__ == '__main__':
    main() 
```

在 parse_xml 函数中，他不希望我在其中使用全局变量。如何在我的 main 中使用这些变量而不将其声明为全局变量？

感谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:26:03.143

从函数中返回它们

例如

```
return article_code, date_received, s100rsd, remark_text 
```

这实际上是返回一个包含 4 个项目的元组

你可以像这样在另一端提取它们

```
article_code, date_received, s100rsd, remark_text = parse_xml(...) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:39:54.880

您通常会返回一个“数据对象”，即包含相关数据的对象：

```
class dto(object):
  def __init__(self, **kw):
    self.__dict__.update(kw)

def parse_xml(source_path, xml_file):
    data = dto(article_code = '1234',
               date_received = 'abc',
               s100rsd = '%s-%s-%s' % ('ab', 'cd', 'efgh'),
               remark_text = 'eh5jhe5')
    return data

data = parse_xml('../', 'abc.xml') 
```

然后`data.data_received`按照您的预期使用。

另请注意，您的台词

```
os.listdir(source_path)
...
if xml_file.endswith('.xml'): 
```

真的很好用

```
import glob
xml_list = glob.glob(os.path.join(source_path, '*.xml')) 
```

# jquery - 选择所有选项 选择插件

> ID：11465190
> 
> 赞同：1
> 
> 时间：2012-07-13T06:23:59.370
> 
> 标签：jquery, jquery-chosen

我正在尝试通过将此代码用于[所选插件来取消选择允许多项选择的所有选项值](http://harvesthq.github.com/chosen/)

```
var lstViewCities= $('#lstViewCities');
$(lstViewCities).find("option").each(function(item) {
       $(item).attr('selected', '');
});
$(lstViewCities).trigger("liszt:updated"); 
```

但没有发生任何事情，选择所有选项也是一样的

```
var lstViewCities= $('#lstViewCities');
$(lstViewCities).find("option").each(function(item) {
       $(item).attr('selected', 'selected');
});
$(lstViewCities).trigger("liszt:updated"); 
```

[**编辑**]
这里是上述问题 的[实时示例](http://jsfiddle.net/3qrEQ/8/)
[ **/编辑**]

它不支持使用代码或什么选择多个选项吗？您的回答肯定会对您有很大帮助，期待您的回复。谢谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-03T21:43:16.577

如此处所述：[https ://github.com/harvesthq/chosen/issues/1559](https://github.com/harvesthq/chosen/issues/1559)

你可以这样做：

```
// Deselect
$('#my_select_box option:selected').removeAttr('selected');
$('#my_select_box').trigger('chosen:updated');

// Select
$('#my_select_box option').attr('selected', 'selected');
$('#my_select_box').trigger('chosen:updated'); 
```

I just used it and it's working, the problem is if the events get updated in a next release things will just stop working

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:28:29.897

```
$("#btn").click(function(){
    $('.search-choice-close', '.search-choice').trigger('click');
} 
```

在单选中，您可以使用：

```
$("#btn").click(function(){
    $('#testChosen_chzn').find('.search-choice-close').trigger('click');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T12:08:25.237

试试这个，

```
$(lstViewCities).find("option").each(function(this) {
   $(this).attr('selected', 'selected');
}); 
```

替换“这个”而不是“项目”

# c# - 如何匹配指向同一个文件的两个路径？

> ID：11465191
> 
> 赞同：1
> 
> 时间：2012-07-13T06:24:09.557
> 
> 标签：c#, path, filesystems

我有两个包含音乐文件目录路径的列表，我想确定哪些文件存储在两个列表中，哪些只存储在一个列表中。问题在于两个列表之间的路径格式不同。

**格式示例：**

> List1：文件：//localhost//FILE/Musik/30%20Seconds%20To%20Mars.mp3
> List2：\\FILE\Musik\30 Seconds To Mars.mp3

我该如何比较这两个文件路径并将它们匹配到相同的源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:57:53.157

答案取决于您对“同一文件”的概念。如果您只想检查文件是否相等，但不是同一个文件，您可以简单地生成文件内容的哈希并进行比较。如果哈希值相等（请使用强哈希值，例如 SHA-256），您可以确信文件也是。同样，您当然也可以逐字节比较文件。

如果您真的想确定这两个文件实际上是同一个文件，即只是通过不同的方式（如文件 URL 或 UNC 路径）寻址，那么您还有一些工作要做。

首先，您需要找出每个地址的真实文件系统路径。例如，您需要找到 UNC 路径和/或文件 URL（通常是 URL 本身）后面的文件系统路径。对于 UNC 路径，即远程计算机上的共享，您甚至可以这样做。

此外，即使您以某种方式找到了本地路径，您也需要处理本地路径的不同重定向机制（在 Windows 联结点/重解析点/链接上；在 UNIX 符号或硬链接上）。例如，您可以使用文件系统链接作为源进行共享，而文件 URL 使用真实的源路径。所以对于不经意的观察者来说，它们仍然看起来像不同的文件。

说了这么多，“算法”应该是这样的：

*   找出您拥有的 URL、UNC 路径/共享等的源路径
*   从这些路径中找出本地源路径（考虑链接/连接点`subst.exe`等）
*   如有必要，规范化这些路径（即`a/b/../c`实际上是`a/c`）
*   比较生成的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:17:39.387

我完全同意克里斯蒂安的观点，你应该重新考虑列表的结构，但下面的内容应该能让你继续前进。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace ConsoleApplication5
{
    class Program
    {
        public static List<string> SanitiseList(List<string> list)
        {

            List<string> sanitisedList = new List<string>();

            foreach (string filename in list)
            {
                String sanitisedFilename = String.Empty;

                if (!String.IsNullOrEmpty(filename))
                {
                    sanitisedFilename = filename;

                    // get rid of the encoding
                    sanitisedFilename = Uri.UnescapeDataString(sanitisedFilename);

                    // first of all change all back-slahses to forward slashes
                    sanitisedFilename = sanitisedFilename.Replace(@"\", @"/");

                    // if we have two back-slashes at the beginning assume its localhsot
                    if (sanitisedFilename.Substring(0, 2) == "//")
                    {
                        // remove these first double slashes and stick in localhost

                        sanitisedFilename = sanitisedFilename.TrimStart('/');
                        sanitisedFilename = sanitisedFilename = "//localhost" + "/" + sanitisedFilename;
                    }

                    // remove file
                    sanitisedFilename = sanitisedFilename.Replace(@"file://", "//");

                    // remove double back-slashes
                    sanitisedFilename = sanitisedFilename.Replace("\\", @"\");

                    // remove double forward-slashes (but not the first two)
                    sanitisedFilename = sanitisedFilename.Substring(0,2) + sanitisedFilename.Substring(2, sanitisedFilename.Length - 2).Replace("//", @"/");

                }

                if (!String.IsNullOrEmpty(sanitisedFilename))
                {
                    sanitisedList.Add(sanitisedFilename);
                }
            }

            return sanitisedList;
        }

        static void Main(string[] args)
        {

            List<string> listA = new List<string>();
            List<string> listB = new List<string>();

            listA.Add("file://localhost//FILE/Musik/BritneySpears.mp3");
            listA.Add("file://localhost//FILE/Musik/30%20Seconds%20To%20Mars.mp3");
            listB.Add("file://localhost//FILE/Musik/120%20Seconds%20To%20Mars.mp3");

            listB.Add(@"\\FILE\Musik\30 Seconds To Mars.mp3");
            listB.Add(@"\\FILE\Musik\5 Seconds To Mars.mp3");

            listA = SanitiseList(listA);
            listB = SanitiseList(listB);

            List<string> missingFromA = listB.Except(listA).ToList();
            List<string> missingFromB = listA.Except(listB).ToList();

        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:57:14.623

使用python：您可以像这样轻松比较两个文件

```
 >>> import filecmp
    >>> filecmp.cmp('file1.txt', 'file1.txt')
    True
    >>> filecmp.cmp('file1.txt', 'file2.txt')
    False 
```

要使用 file:// 语法打开文件，请使用 URLLIB

```
 >>> import urllib
    >>> file1 = urllib.urlopen('file://localhost/tmp/test') 
```

对于普通文件路径，使用打开的标准文件。

```
 >>> file2 = open('/pathtofile','r') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:40:14.537

我认为最好的方法是将其中一个路径临时转换为另一个格式。我建议您更改第一个以匹配第二个。

```
string List1 = "file://localhost//FILE/Musik/30%20Seconds%20To%20Mars.mp3" 
string List2 = "\\FILE\Musik\30 Seconds To Mars.mp3" 
```

我建议您使用 Replace() 方法。

1.  摆脱“文件：// localhost”：

    ```
    var tempStr = List1.Replace("file://localhost", ""); 
    ```

2.  将所有 '%20' 更改为空格：

    ```
    tempStr = List1.Replace("%20", " "); 
    ```

3.  将所有 '/' 更改为 '\'：

    ```
    tempStr = List1.Replace("/", "\"); 
    ```

瞧！到匹配格式的字符串！

# objective-c - iOS：从 XML 中按日期排列行

> ID：11465192
> 
> 赞同：0
> 
> 时间：2012-07-13T06:24:12.820
> 
> 标签：objective-c, xcode, date, sorting, ios4

我需要按 XML 中的截止日期对行进行排序：

```
<plist version="1.0">
<array>
<array>
    <string>23 Jan 2012</string>
    <string>Chinese New Year</string>
    <string>Closed</string>
</array>
<array>
    <string>24 Jan 2012</string>
    <string>Chinese New Year</string>
    <string>Closed</string>
</array>
</array> 
```

我研究了中给出的答案：[Objects Sorting With date , Time Problem in Array(Iphone Development)](https://stackoverflow.com/questions/6798977/objects-sorting-with-date-time-problem-in-arrayiphone-development?lq=1)我发现它非常有用，但我有疑问：

1.  我不明白我在哪里得到 @"entity" 和 @"date" 。它是变量还是 id，我在哪里获得它？

    if (date) {
    [dict setObject:entry forKey:@"entity"];
    [dict setObject:date forKey:@"date"];
    [tempArray addObject:dict]; }

2.  给出的月份是 MMM 格式（JAN、FEB、MAR），它是我的项目范围之一，与正常编号的相比，我不知道如何按缩写进行排序。

非常感谢这里的一些帮助，因为我已经坚持了几天！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:59:52.570

用对象（yourDateString，yourEvent，yourStatus）创建一个类（YourClass）

```
YourClass
--yourDateString
--yourEvent
--yourStatus 
```

在此类（YourClass）的对象中解析您的xml保存详细信息，并将对象存储在此数组（arrayWithYourContents）中

```
 NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setTimeStyle:NSDateFormatterFullStyle];
    [dateFormatter setDateFormat:@"dd mmm yyyy"];

    arrayWithYourContents sortUsingComparator: ^(id dateObj1, id dateObj2) 
     {
         NSDate *date1 = [dateFormatter dateFromString:[(YourClass *) dateObj1 yourDateString]];

         NSDate *date2 = [dateFormatter dateFromString:[(YourClass *) dateObj2 yourDateString]];

         return [date2 compare: date1];
     }
     ]; 
```

我不确定日期格式（@“dd mmm yyyy”）.. 请检查这是否有效或将其更改为与您的匹配。

arrayWithYourContents 现在应该包含您的排序日期组件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:40:05.200

为什么需要 MMM 月份格式？订购了“20120131”“YYYYmmdd”日期格式，因此更容易排序并转换回可读日期。

您的 xml 是一个数组数组，您可以免费使用 NSArray arrayWithContentsOfFile 加载此文件。

就个人而言，我会使用一个字典数组，因为标签顺序不是 xml 标准的保证（如果我没记错的话）。

在这里阅读有关 xml 排序的信息：http: [//www.ibm.com/developerworks/xml/library/x-eleord/index.html](http://www.ibm.com/developerworks/xml/library/x-eleord/index.html)

# c# - 需要在现有的 xml 文档中添加注释

> ID：11465194
> 
> 赞同：8
> 
> 时间：2012-07-13T06:24:22.803
> 
> 标签：c#

我需要在现有的 xml 文档中添加注释。示例 xml 如下所示，我需要用 c# 编写代码。XML 序列化用于生成此 xml 任何帮助都会很棒...在此先感谢

```
<?xml version="1.0" encoding="utf-8"?>
<Person>
<Name>Job</Name>
<Address>10dcalp</Address>
<Age>12</Age>
</Person> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-13T06:42:53.657

试试这样：

```
 string input = @"<?xml version=""1.0"" encoding=""utf-8""?><Person><Name>Job</Name><Address>10dcalp</Address><Age>12</Age></Person>";
        XDocument doc = XDocument.Parse(input);
        XElement age = doc.Root.Element("Age");
        XComment comm = new XComment("This is comment before Age");
        age.AddBeforeSelf(comm); 
```

此代码获取文档，找到名为“Age”的元素，该元素应位于根元素（“Person”）下，并在其前添加注释。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:43:23.130

您可以使用`XmlWriter`以下方式编写评论：

```
 MemoryStream stream = new MemoryStream();
    XmlWriter writer = XmlWriter.Create(stream);
    writer.WriteStartDocument();
    writer.WriteComment("Add comment here"); 
```

现在，您`XmlWriter`通过序列化程序序列化实例。

# shell - 如何在 EC2 中运行我的 shell 脚本？

> ID：11465198
> 
> 赞同：0
> 
> 时间：2012-07-13T06:24:53.847
> 
> 标签：shell, amazon-ec2, amazon-web-services

我有一组我希望在我的 ec2 实例中运行的 shell 脚本。我试过这个

```
ec2-run-instances -K testing2.pem ami-****** -d Setup.sh 
```

我收到这样的错误：

```
Required option '-C, --cert CERT' missing (-h for usage) 
```

上述命令有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T12:12:53.970

您缺少`EC2_CERT`环境变量，并且基于您已调用 key 的事实`testing2.pem`，我假设您也缺少`EC2_PRIVATE_KEY`。[从设置说明：](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/setting-up-your-tools.html#set-aws-credentials)

> 由于您可以拥有多个 AWS 账户，因此您需要标识自己的身份，以便命令行工具知道要使用哪些凭证。每次调用每个命令时都可以将这些信息作为命令行选项提供，但很乏味。因此，我们建议您设置这些环境变量并完成它。
> 
> 您可以设置两个环境变量来指向您的私钥和证书。设置这些环境变量后，这些工具会使用它们的值来查找您的凭据。环境变量 EC2_PRIVATE_KEY 应该指向您的私钥文件，而 EC2_CERT 应该指向您的 X.509 证书。

设置这些环境变量后，您将能够将它们用于所有 AWS CLI 工具。

假设`testing2.pem`是一个实例密钥对，你真正想要的是这个命令，当然，在你设置了这些环境变量之后。注意小写`-k`标志：

```
ec2-run-instances ami-****** -k testing2.pem -d Setup.sh 
```

# serialization - 序列化/反序列化用户定义的类变量？

> ID：11465204
> 
> 赞同：1
> 
> 时间：2012-07-13T06:25:14.797
> 
> 标签：serialization, protocol-buffers, thrift

假设我有两个类：

```
class1 {
 int m_i;
 std::string m_s;
};

class2 {
 int m_i2;
 class1 *m_ptr;
}; 
```

现在，我想通过网络发送一个 class2 变量，并想使用任何进行序列化的库。（Protocol-buffers、Thrift、MessagePack..）

我可以使用哪一个？（注意 class1* m_ptr）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T11:43:01.233

您可以为此使用节俭。定义看起来像

```
struct class1 {
1: required i32 m_i;
2: required string m_s;
}
struct class2 {
1: required i32 m_i2;
2: optional class1 m_ptr;
} 
```

您想阅读这份出色的指南

> [http://diwakergupta.github.com/thrift-missing-guide/](http://diwakergupta.github.com/thrift-missing-guide/)

为了清楚地了解您在问题中提到的“指针”问题，请阅读“嵌套结构如何初始化？”部分。在上述指南中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-14T16:01:40.710

使用[google protocol buffers](https://developers.google.com/protocol-buffers/)，您需要一个 .proto 文件（例如 test.proto），例如：

```
package serialisation;  // puts this in namespace serialisation

message class1 {
  required int32 m_i = 1;
  required bytes m_s = 2;
}

message class2 {
  required int32 m_i2 = 1;
  optional class1 m_ptr = 2;
} 
```

使用 C++，一旦你运行 protoc 编译器，你最终会得到 test.pb.cc 和 test.pb.h

然后，您可以使用这些：

```
#include <string>
#include "test.pb.h"

struct class1 {
  int m_i;
  std::string m_s;
};

struct class2 {
  int m_i2;
  class1 *m_ptr;
};

int main() {
  class2 second_class;
  second_class.m_i2 = 2;
  second_class.m_ptr = new class1;
  second_class.m_ptr->m_i = 1;
  second_class.m_ptr->m_s = "one";

  // Serialise class 2
  serialisation::class2 serialisable_second_class;
  serialisable_second_class.set_m_i2(second_class.m_i2);
  if (second_class.m_ptr) {
    serialisation::class1* serialisable_first_class = serialisable_second_class.mutable_m_ptr();
    serialisable_first_class->set_m_i(second_class.m_ptr->m_i);
    serialisable_first_class->set_m_s(second_class.m_ptr->m_s);
  }
  std::string serialised(serialisable_second_class.SerializeAsString());

  // Parse class 2
  serialisation::class2 parsed_second_class;
  parsed_second_class.ParseFromString(serialised);
  class2 retrieved_second_class;
  retrieved_second_class.m_i2 = parsed_second_class.m_i2();
  if (parsed_second_class.has_m_ptr()) {
    retrieved_second_class.m_ptr = new class1;
    retrieved_second_class.m_ptr->m_i = parsed_second_class.m_ptr().m_i();
    retrieved_second_class.m_ptr->m_s = parsed_second_class.m_ptr().m_s();
  } else {
    retrieved_second_class.m_ptr = nullptr;
  }

  return 0;
} 
```

请注意，为简洁起见，我在这里没有进行任何错误检查或异常处理 - 这在生产代码中是需要的。我也没有管理`class1`指针的生命周期。

# php - 如何在 Zend Framework 的 javascript 文件中使用 translate？

> ID：11465207
> 
> 赞同：0
> 
> 时间：2012-07-13T06:25:23.910
> 
> 标签：php, javascript, zend-framework, localization

如何在 JavaScript 文件中使用翻译？

我有一个`formatter.js`文件：

```
function xyz(id)
{
    if(confirm("Vill du radera ?")){
        location.href = "/student/files/delete/" + id;
    }
} 
```

在这里，我想使用“vill du radera？”的翻译。

在我的`view.phtml`文件中，我使用这样的东西：

```
<?=$this->translate->_("Select Template")?> 
```

它工作正常...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:38:44.170

如果您在 *.js 包含的文件中进行很少的翻译，那么当您知道将使用哪些键时，您可以在视图中设置一个 JS 变量，例如：

```
//viewscript:
<script ...>
    var translation = <?php echo Zend_Json::encode($this->translate->_("Select Template")) ?>;
</script> 
```

您只需要确保变量在需要之前可用。

但是如果你需要做很多翻译，一种方法是`translate(key)`在你的 *.js 文件中添加一个函数。此函数将执行 AJAX 调用以检索单个键翻译，或者 - 最好 - 许多/所有翻译并将它们存储在一个变量中，以便在第一次翻译时只完成一次到服务器的往返。

```
//*.js
var translations = null;
function translate(key) {
    if (translations !== null) {
        return translations[key];
    }
    else {
        //use AJAX to get translations from server: /translations/serve-json
        // ...
        translations = ajaxData;
        return translations[key];
    }
} 
```

这是控制器：

```
//TranslationsController (for example)
public function serveJsonAction() {
    //get translations first
    // ...
    $this->_helper->json($translations);
} 
```

最终用途是：

```
function xyz(id)
{
    if(confirm(translate("VILL_DU_RADERA"))){
        location.href = "/student/files/delete/" + id;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:45:32.050

因为你正在使用这个：

```
function xyz(id)
{
    if(confirm("Vill du radera ?")){
        location.href = "/student/files/delete/" + id;
    }
} 
```

您必须从 .phtml 文件中调用它。

你可以做一件事：

您可以使用两个参数 (1) id 和 (2) translate 变量调用函数 xyz()

在 .phtml 文件中

```
xyz("<?php echo id;?>","<?php echo $this->translate->_("Select Template")?>"); 
```

在 .js 文件中

```
function xyz(id,translate)
{
    if(confirm(translate)){
        location.href = "/student/files/delete/" + id;
    }
} 
```

试试看。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T00:17:02.300

将 js 文件另存为 .php 并将其包含在视图中也是一种方法。当然，您需要用标签包装 javascript。但最好的部分是它可以使用例如：

```
 <script>
     var text = '<?php echo $this->translate('string that would be in JavaScript');?>';
     </script> 
```

这种方式的优点是您将在一个地方拥有所有翻译

# java - 自定义gridview Android的问题

> ID：11465209
> 
> 赞同：0
> 
> 时间：2012-07-13T06:25:38.933
> 
> 标签：java, android

我开发了一个应用程序，在其中显示数据`Gridview`。所有数据都来自本地存储。我能够正确显示每个数据并且没有问题。但是当我滚动`Gridview`并转到底部并返回时`Top`，它会改变位置。有时当我向下滚动并返回顶部时，屏幕上会出现一个空白屏幕；根本找不到数据！

所以我认为有问题`getView()`。我无法找出问题所在

代码`getView()`：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    ViewHolder viewholder;
    // LayoutInflater inflator = activit.getLayoutInflater();
    if(convertView == null) {
        // recycled view is null so create it.
        viewholder = new ViewHolder();
        convertView = inflator.inflate(R.layout.gridviewrow, null);
        viewholder.imgvGridicon = (ImageView) convertView.findViewById(R.id.imgvGridicon);
        viewholder.txtGridItemlabel = (TextView) convertView.findViewById(R.id.txtGridItemlabel);
        convertView.setTag(viewholder); 
    } else {
        viewholder = (ViewHolder) convertView.getTag();      
    }  
    if ((lstpinfo.get(position).appname.toString()) != null) {
        viewholder.imgvGridicon.setImageDrawable((lstpinfo.get(position).icon));
        viewholder.txtGridItemlabel.setText(lstpinfo.get(position).appname.toString());
    }
    return convertView;
} 
```

**更新:: Intitalize of inflater::**

```
private LayoutInflater inflator;

     private ArrayList<PInfo> lstpinfo = new ArrayList<PInfo>();
     public GridViewAdapter(Context cntx, ArrayList<PInfo> lstpinfo) {

            activit = cntx;
            inflator = LayoutInflater.from(cntx);
            this.lstpinfo = lstpinfo;

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:28:31.377

您必须将视图高度设置为固定值。android gridview 中存在不同高度的滚动错误。请参阅[此内容](http://code.google.com/p/android/issues/detail?id=16218)以供参考。

# php - CakePHP Paginator，如何使当前页面成为锚点

> ID：11465212
> 
> 赞同：1
> 
> 时间：2012-07-13T06:25:45.727
> 
> 标签：php, cakephp, pagination

在我看来，我正在使用这段代码：

```
$numbers = $this->Paginator->numbers(array(
    'separator'     => '',
    'tag'           => 'li',
    'currentClass'  => 'active'
)); 
```

输出：

```
<li class="active">1</li>
<li><a href="/controller/action/page:2">2</a></li>
<li><a href="/controller/action/page:3">3</a></li> 
```

这很好用，我唯一遇到的问题是当前页面不是链接。是否可以将当前页面设为链接？

谢谢阅读。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T16:45:07.317

我像 Dave 建议的那样实现了一个类扩展，但是我没有从原始类中复制所有代码，而是使用了一个字符串替换方法，这样，如果我更新 CakePHP 核心库，这应该会非常优雅地失败，因为复制所有来自原始 Helper 的代码可能会导致功能丢失、错误修复等。这是我实现的类：

```
<?php

class AppPaginatorHelper extends PaginatorHelper
{
    public function numbers($options = array()) {
        $output = parent::numbers($options);

        // get the current page number, and create a link with it
        $current = $this->current();
        $currentLink = $this->link($current, array('page' => $current));

        // if you're using cake pre 2.1 you cannot change the current class with
        // the options array, so it will always be "current"
        $find = "<li class=\"current\">{$current}</li>";
        $replace = "<li class=\"active\">{$currentLink}</li>"; 

        $output = str_replace($find, $replace, $output);

        return $output;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-08T02:18:49.217

有一个 PR 可以让它发挥作用。不幸的是，它只会在 2.3 版本中发生。

在这里你可以找到 PR [https://github.com/cakephp/cakephp/pull/900](https://github.com/cakephp/cakephp/pull/900)

在这里您可以找到讨论 [http://cakephp.lighthouseapp.com/projects/42648/tickets/2892-paginator-helper-numbers-is-a-bit-counter-intuitive-enhancement-included](http://cakephp.lighthouseapp.com/projects/42648/tickets/2892-paginator-helper-numbers-is-a-bit-counter-intuitive-enhancement-included)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-20T11:08:40.883

您可以使用下一段代码来制作您想要的东西：

```
<?php echo $this->Paginator->numbers(array('separator' => '','tag' => 'li', 'currentTag' => 'a', 'currentClass' => 'active')); ?> 
```

**它仅适用于 CakePHP 2.3+**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T13:23:39.513

**简单的回答：**

我不相信[Paginator Helper](http://book.cakephp.org/2.0/en/core-libraries/helpers/paginator.html)可以使用它。

如果您只想要一个指向当前页面的链接，但在编号链接中不需要它，您可以使用

```
echo $this->Html->link($this->Paginator->counter('{:current}'), 'yourLinkHere'); 
```

但这并不是非常有用，因为您依靠 Paginator Helper 为您处理其余的链接。

**扩展答案/可能性**

您可以使用以下类似的方式扩展 PaginatorHelper。基本上，我只是删除了检查以查看它是否是当前页码。然后你必须使用`MyPaginatorHelper`来构建链接。这也会使其忽略`currentClass`选项...等。但是 - 通过对代码进行更多调整，你可以让它做同样的事情，但也建立一个链接，而不是仅仅删除 IF 检查。

```
class MyPaginatorHelper extends PaginatorHelper {
    public function numbers($options = array()) {
    if ($options === true) {
        $options = array(
            'before' => ' | ', 'after' => ' | ', 'first' => 'first', 'last' => 'last'
        );
    }

    $defaults = array(
        'tag' => 'span', 'before' => null, 'after' => null, 'model' => $this->defaultModel(), 'class' => null,
        'modulus' => '8', 'separator' => ' | ', 'first' => null, 'last' => null, 'ellipsis' => '...', 'currentClass' => 'current'
    );
    $options += $defaults;

    $params = (array)$this->params($options['model']) + array('page' => 1);
    unset($options['model']);

    if ($params['pageCount'] <= 1) {
        return false;
    }

    extract($options);
    unset($options['tag'], $options['before'], $options['after'], $options['model'],
        $options['modulus'], $options['separator'], $options['first'], $options['last'],
        $options['ellipsis'], $options['class'], $options['currentClass']
    );

    $out = '';

        $half = intval($modulus / 2);
        $end = $params['page'] + $half;

        if ($end > $params['pageCount']) {
            $end = $params['pageCount'];
        }
        $start = $params['page'] - ($modulus - ($end - $params['page']));
        if ($start <= 1) {
            $start = 1;
            $end = $params['page'] + ($modulus - $params['page']) + 1;
        }

        if ($first && $start > 1) {
            $offset = ($start <= (int)$first) ? $start - 1 : $first;
            if ($offset < $start - 1) {
                $out .= $this->first($offset, compact('tag', 'separator', 'ellipsis', 'class'));
            } else {
                $out .= $this->first($offset, compact('tag', 'separator', 'class') + array('after' => $separator));
            }
        }

        $out .= $before;

        for ($i = $start; $i < $params['page']; $i++) {
            $out .= $this->Html->tag($tag, $this->link($i, array('page' => $i), $options), compact('class')) . $separator;
        }

        if ($class) {
            $currentClass .= ' ' . $class;
        }
        $out .= $this->Html->tag($tag, $params['page'], array('class' => $currentClass));
        if ($i != $params['pageCount']) {
            $out .= $separator;
        }

        $start = $params['page'] + 1;
        for ($i = $start; $i < $end; $i++) {
            $out .= $this->Html->tag($tag, $this->link($i, array('page' => $i), $options), compact('class')) . $separator;
        }

        if ($end != $params['page']) {
            $out .= $this->Html->tag($tag, $this->link($i, array('page' => $end), $options), compact('class'));
        }

        $out .= $after;

        if ($last && $end < $params['pageCount']) {
            $offset = ($params['pageCount'] < $end + (int)$last) ? $params['pageCount'] - $end : $last;
            if ($offset <= $last && $params['pageCount'] - $end > $offset) {
                $out .= $this->last($offset, compact('tag', 'separator', 'ellipsis', 'class'));
            } else {
                $out .= $this->last($offset, compact('tag', 'separator', 'class') + array('before' => $separator));
            }
        }

    }

    return $out;
}
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-08-01T14:12:59.963

我找到了一个很好的解决方案并为您分享:)

```
<div class="pagination pagination-large">
    <ul>
            <?php
                echo $this->Paginator->prev(__('prev'), array('tag' => 'li'), null, array('tag' => 'li','class' => 'disabled','disabledTag' => 'a'));
                echo $this->Paginator->numbers(array('separator' => '','currentTag' => 'a', 'currentClass' => 'active','tag' => 'li','first' => 1));
                echo $this->Paginator->next(__('next'), array('tag' => 'li','currentClass' => 'disabled'), null, array('tag' => 'li','class' => 'disabled','disabledTag' => 'a'));
            ?>
        </ul>
</div> 
```

# python - 如何区分Python中具有相同元素的两个列表？

> ID：11465213
> 
> 赞同：-1
> 
> 时间：2012-07-13T06:25:50.540
> 
> 标签：python

假设我们有两个列表：

```
a = [1, 2, 3]
b = [1, 2, 3] 
```

以下所有表达式都将返回 True：

```
a == b  # True
a == list(b) # True
a == list(tuple(b)) # True
a == copy.deepcopy(b) # still True 
```

这里`a`和`b`是具有相同元素的 2 个不同的列表对象。我们如何区分一个和另一个？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T06:30:30.550

`is`比较身份。它要求是`a`和`b`同一个对象

```
>>> a=[1, 2, 3]
>>> b=list(a)
>>> id(a)
3065460108L
>>> id(b)
3073003244L
>>> id(a) == id(b)   # Equivalent to a is b
False
>>> a is b
False 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T06:26:57.467

列表逐个元素进行比较（使用`==`），并且将整数与其值进行比较。无论如何，`a`and`b`是不同的对象，将它们与`is`将返回`False`。

```
>>> a = [1, 2, 3]
>>> b = [1, 2, 3]
>>> a is b
False 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-13T06:30:46.277

```
a = [1, 2, 3]
b = [1, 2, 3]
print(id(a) == id(b)) 
```

试试这个 。id(objectName) 给出对象在内存中的地址，因为它们是两个不同的对象，因此具有不同的内存地址。

# php - 返回忽略 SQL 查询中设置的年限的所有数据

> ID：11465215
> 
> 赞同：1
> 
> 时间：2012-07-13T06:26:02.117
> 
> 标签：php, mysql, sqlbuilder

我编写了以下查询来返回员工已休的所有休假。

**它应该做** 的是返回当前年份的值并忽略其余部分。

**它所做**的是返回表中的所有值，包括与前几年有关的值。

```
$sqlBuilder = new SQLQBuilder();

    $arrFields[0] = '`leave_date`';
    $arrFields[1] = '`leave_status`';

    $arrTable = "`leave_table`";

    $selectConditions[1] = "`employee_id` = '".$employeeId."'";
    $selectConditions[2] = "`leave_date` >= '".date('Y')."-01-01'";

    $query = $sqlBuilder->simpleSelect($arrTable, $arrFields, $selectConditions, $arrFields[0], 'ASC');

    $dbConnection = new DMLFunctions();

    $result = $dbConnection -> executeQuery($query);

    $leaveArr = $this->_buildObjArr($result);

    return $leaveArr; 
```

谁能弄清楚我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:34:18.523

这很简单

```
$selectConditions[2] = "year(`leave_date`) = year(now())"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:31:39.030

用这个

```
where 
    leave_date>=current_date()-interval dayofyear(current_date())-1 day and
    leave_date<current_date()-interval dayofyear(current_date())-1 day+interval 1 year 
```

# c++ - QMainWindow 从 main() 函数打开，但不能从任何其他函数打开

> ID：11465219
> 
> 赞同：1
> 
> 时间：2012-07-13T06:26:08.247
> 
> 标签：c++, qt, qmainwindow

我的 Qt 应用程序有一个奇怪的问题。我有一个`QMainWindow`，方便`MainWindow`。

以下代码适用于该`main()`函数：

```
int main(int argc, char *argv[])

{
    ..
    MainWindow mainWindow;
    mainWindow.show();
    ..
} 
```

但是，以下内容根本不显示 MainWindow：

```
int main(int argc, char *argv[])
{
    AnotherClass::staticFunction();
}

class AnotherClass: public QObject {
Q_OBJECT
public:
    static void staticFunction();
}

void AnotherClass::staticFunction() {
    MainWindow mainWindow;
    mainWindow.show();
    return ;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:33:18.833

哦，我的坏！这是因为 main 永远不会返回并进入 exec 循环。但是，由于我的函数立即返回，因此窗口被破坏了。更改`MainWindow mainWindow;`以`MainWindow* mainWindow = new MainWindow();` 解决我的问题：

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:34:12.370

在这段代码中

```
void AnotherClass::staticFunction() {
    MainWindow mainWindow;
    mainWindow.show();
    return ;
} 
```

关闭后实例`mainWindow`将超出范围`}`，然后销毁。您必须在堆上分配它`new`才能使其存活`staticFunction()`。

```
void AnotherClass::staticFunction() {
    MainWindow * mainWindow = new MainWindow;
    mainWindow->show();
    return ;
} 
```

您还需要以某种方式跟踪指针并在`delete`以后使用它（可能使用智能指针）。

当然，您必须有一个`QApplication`并调用`exec()`它才能启动主事件循环。

# java - 其中哪一个是使用瓷砖的更好方法

> ID：11465220
> 
> 赞同：3
> 
> 时间：2012-07-13T06:26:11.500
> 
> 标签：java, jsp, spring-mvc, struts2, tiles

**问题：**我有两个相同的页面`home.jsp`和`contact.jsp`相同的结构。它们仅在正文内容和标题上有所不同。我想使用`tiles`框架创建一个布局页面并重用两个`JSP`s 的代码。控制器框架尚未确定，可能是`Spring MVC 3`或`Struts 2`。

**解决方案 A：**直接从控制器/动作类调用`JSP`文件/视图。

我写了一个定义，`tiles.xml`如下所示：

```
<definition name="baseLayout" template="/WEB-INF/jsp/layout/baseLayout.jsp">
    <put-attribute name="title" value="" />
    <put-attribute name="header" value="/WEB-INF/jsp/includes/header.jsp"/>
    <put-attribute name="body" value="" />
</definition> 
```

现在在`baseLayout.jsp`：

```
<html>
    <head><title><tiles:insertAttribute name="title"/></title></head>
    <body>
        <div class="wrapper">
            <div class="header"><tiles:insertAttribute name="header"/></div>
            <div class="body"><tiles:insertAttribute name="body"/></div>
        </div>
    </body>
</html> 
```

现在在`home.jsp`

```
<tiles:insertDefinition name="baseLayout">
    <tiles:putAttribute name="title">
        Title for home page
    </tiles:putAttribute>
    <tiles:putAttribute name="body">
        Content for home page
    </tiles:putAttribute>
</tiles:insertDefinition> 
```

同样对于`contact.jsp`：

```
<tiles:insertDefinition name="baseLayout">
    <tiles:putAttribute name="title">
        Title for contact page
    </tiles:putAttribute>
    <tiles:putAttribute name="body">
        Content for contact page
    </tiles:putAttribute>
</tiles:insertDefinition> 
```

**解决方案 B：**从 cotrollers/action 类中调用`tiles definition`不同文件。`JSP`这种方法需要一个用于我要编写`tiles definition`的每个文件。`JSP`所以总共有 3 个图块定义（一个是 for `baseLayout`，另外两个是 for `home`and `contact`）。

瓷砖.xml：

```
<definition name="baseLayout" template="/WEB-INF/jsp/layout/baseLayout.jsp">
    <put-attribute name="title" value="" />
    <put-attribute name="header" value="/WEB-INF/jsp/includes/header.jsp"/>
    <put-attribute name="body" value="" />
</definition>

<definition name="home" extends="baseLayout">
    <put-attribute name="title" value="Title for home page" />
    <put-attribute name="header" value="/WEB-INF/jsp/home.jsp"/>
</definition>
<definition name="contact" extends="baseLayout">
    <put-attribute name="title" value="Title for contact page" />
    <put-attribute name="header" value="/WEB-INF/jsp/contact.jsp"/>
</definition> 
```

baseLayout.jsp：`Same as **Solution A**`

主页.jsp：`Content for home page`

联系人.jsp：`Content for contact page`

* * *

我想就我应该坚持上述哪种方法提出建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:36:46.340

第二种解决方案是最好的方法：

*   您可以在`tiles`每个 `jsp`布局的属性中拥有独立的部分。
*   您可以随时更改而不会影响以后的其他布局
*   最传统的使用方式`struts`

第一个解决方案：

*   以后可能会导致问题，当您在高级项目中深入研究时，必须对它们进行任何更改进行编辑
*   更通用的方法不适合 struts/tiles 架构设计

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T11:30:25.160

解决方案 B 是实施的最佳方法，

*   您将拥有单独的样式模板，如果其他 jsp 需要，您可以在以后重用这些模板，而不会像解决方案 A 那样弄乱 jsp 中的代码。

*   据了解，第二种方法更加清晰，并且是一个可以遵循的通用标准。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-01T07:21:21.023

解决方案 A 通过分发配置和促进名称约定而不是显式配置来帮助维护大型应用程序。此外，它在概念上与其他模板解决方案（例如 JSF 或普通标签）兼容。例如看到这个：[JSP 技巧使模板更容易？](https://stackoverflow.com/questions/1296235/jsp-tricks-to-make-templating-easier)

想想一个有数百个控制器和不同人在很长一段时间内编写的视图的应用程序。使用解决方案 B，您将不得不面对一个巨大的 tiles.xml 文件。添加稍微缺乏纪律和视图名称最终会导致配置中出现不一致的混乱和内容（如您的示例）。

# ruby-on-rails - 在 Ruby on Rails 中使用 Photobucket api

> ID：11465223
> 
> 赞同：5
> 
> 时间：2012-07-13T06:26:23.130
> 
> 标签：ruby-on-rails, photobucket

我正在尝试在我的网站中使用 Photobucket(API) 作为图片上传选项。有没有可用的宝石来做到这一点？还是我应该使用 REST 之类的东西来实现这一目标？

请建议。

谢谢，巴兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-02T18:51:23.950

我唯一真正找到的是这个[https://bitbucket.org/photobucket/api-ruby/src/7b69e473fb9fd5b4d37e2ad7f266500e45ef524b/example.rb?at=default](https://bitbucket.org/photobucket/api-ruby/src/7b69e473fb9fd5b4d37e2ad7f266500e45ef524b/example.rb?at=default)。他们正在使用 oauth ruby​​gem 与 photobucket 对话，仍然涉及很多手动过程。它还在使用 REST。

我想说的是最简单的方法，它在[http://pic.photobucket.com/dev_help/WebHelpPublic/PhotobucketPublicHelp.htm](http://pic.photobucket.com/dev_help/WebHelpPublic/PhotobucketPublicHelp.htm)和[http://pic.photobucket.com/dev_help/WebHelpPublic/Content/FAQ/FAQOverview之后使用 REST .htm](http://pic.photobucket.com/dev_help/WebHelpPublic/Content/FAQ/FAQOverview.htm)让您开始。

我还没有在 ruby​​ 中做过 REST 客户端，但是这个 gem 看起来不错[https://github.com/rest-client/rest-client](https://github.com/rest-client/rest-client)。

假设您有时间，我建议您制作一个 photobucket ruby​​ gem 并将 REST 调用包装在有用的类抽象中。这对社区非常有用，迫使您（在一定程度上）遵循良好的做法，并将提供丰富的经验，以便在面试中投放简历/谈论。

# qt - 为 Visual Studio 和 Qt 项目构建脚本

> ID：11465224
> 
> 赞同：1
> 
> 时间：2012-07-13T06:26:29.597
> 
> 标签：qt, visual-c++, build-script

我有一个 C++ 应用程序，它由几个 VS2010 项目和两个 Qt Creator 项目（用于 GUI）组成。

我想要一个构建脚本，它可以一次构建所有项目。那么什么是这项工作的最佳工具呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:29:39.127

就个人而言，我会将所有项目更改为 Qt 项目并使用 .pro 文件的 SUBDIRS 模板将它们组装起来。

然后，您可以在顶级 .pro 文件上运行 qmake 或执行

```
qmake -tp vc -recursive 
```

创建 VS 解决方案和 .vcproj 文件。

如果这不是一个选项，您可以编写一个批处理脚本来编译它们。对于 VS 2008，我有这样的批处理脚本（文件存在检查、错误代码处理等省略）：

```
"%VS90COMNTOOLS%vsvars32.bat"
cd GUI
qmake GUI.pro
cd ..\Core
call vcbuild core.sln "Release|Win32" 
```

第一个是需要的，因此 vcbuild 和 nmmake 等是已知的。对于 VS 2010，它可能是 VS100COMNTOOLS 或类似的东西，你可以检查你的环境变量。或者也许它甚至不再需要了。

# php - 我的 AJAX 文件不起作用

> ID：11465226
> 
> 赞同：0
> 
> 时间：2012-07-13T06:26:37.797
> 
> 标签：php, javascript, html, ajax

我只是做了一个简单的AJAX应用程序，以便我的html页面可以通过ajax.js文件从php文件中获取一些数据，我已经将它们放在服务器中，所以当我访问localhost/mypage时，它应该被执行，但是似乎存在一些问题，因此事情并没有像我预期的那样发生。

这是我的html文件：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <META http-equiv="Content-Type" Content="text/html; Charset=UTF-8">
    <title>
        My Portal
    </title>
    <link rel="stylesheet" href="style.css" type="text/css"/>
    <script type="text/javascript" src="ajax.js"></script>
</head>
<body onload="load()">
    <div id="header">
        <img src="images/logo.gif" id="logo" alt="Logo"/>
        <a href="http://www.google.com">
            <img src="images/logo2.png" id="logo2" align="right" alt="google Ltd"/>
        </a>
    </div> 
    <div id="container">
        <div id="function"></div>
        <div id="Display"></div>
        <div id="View"></div>
    </div>
    <div id="footer">
    </div>
</body>
</html> 
```

下面是js文件：

```
function load(){
    var xmlhttp;
    if (window.XMLHttpRequest){ // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    }
            else{ // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }               

    xmlhttp.onreadystatechange = function(){
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
            document.getElementById("function").innerHTML=xmlhttp.responseText;         
        }
    }

    xmlhttp.open("GET","test.php", true);
    xmlhttp.send();
} 
```

最后是php文件：

```
<?php
     print "<h1>hgfkegfalhgj</h1>";
?> 
```

我希望它应该在我的页面中打印出上面的 char 字符串，但是，什么都不能显示，谁能告诉我问题出在哪里？我检查了我已经在浏览器中启用了 javascript，所以我很确定我的 html 文件可以调用 js 文件中的函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:45:08.377

你的代码对我有用。

问题可能是以下任何一种：

1）检查 test.php 的路径（我建议在 xmlhttp.open() 中使用绝对路径）

2）您的服务器可能无法正确返回页面（尝试打开 test.php，并检查输出）

您可以使用 firebug 等浏览器插件来分析 ajax 请求和响应，它可以为您提供更好的洞察力。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:35:26.117

我不知道 PHP，但您必须将**内容**类型设置为`text/plain`. 喜欢 ：

```
header('Content-Type: text/plain'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:41:59.230

而不是 body 标签中的 onLoad 函数尝试使用

```
<script>
window.onload = function(){
load();
};
function load(){
//your code
}
</script> 
```

或在正文之前尝试使用脚本 load() 函数。我认为它会解决你的问题。另外尝试更改id，最好不要将关键字用作id（函数id将其更改为其他内容）

# android - Android Fragment 和线程

> ID：11465227
> 
> 赞同：2
> 
> 时间：2012-07-13T06:26:44.050
> 
> 标签：android, multithreading, android-fragments

我`FragmentActivity`用来交换两个标签。那是选项卡 A 和选项卡 B。在选项卡 B 中，我使用`ListView`Loadmore 按钮，假设单击加载更多按钮时，我只是调用了背景线程。

```
private class loadMoreListView extends AsyncTask<Void, Void, Void> {
    @Override
    protected void onPreExecute() {
        // Showing progress dialog before sending http request
        pDialog = new ProgressDialog (
                getActivity());
        pDialog.setMessage("Please wait..");
        pDialog.setIndeterminate(true);
        pDialog.setCancelable(false);
        pDialog.show();
    }

    protected Void doInBackground(Void... unused) {
        try {
            //service url to fectch data..
            //xml parsing
        } catch (Exception e) {
            response = "failure";
            System.out.println(" sec XML Pasing Excpetion = " + e);
        }

        int currentPosition = listViewattlist.getFirstVisiblePosition();

        // Appending new data to menuItems ArrayList
        adapter = new CustomAdapter(getActivity(), R.layout.att_list, R.id.title, data);
        listViewattlist.setAdapter(adapter);

        // Setting new scroll position
        listViewattlist.setSelectionFromTop(currentPosition + 1, 0);
        return (null);
    }

    protected void onPostExecute(Void unused) {
        // closing progress dialog
        pDialog.dismiss();
    }
} 
```

当我交换并单击该按钮时，我可以看到进度条，但它显示如下错误：

```
07-13 11:42:29.386: E/AndroidRuntime(894): FATAL EXCEPTION: AsyncTask #2
07-13 11:42:29.386: E/AndroidRuntime(894): java.lang.RuntimeException: An error occured while executing doInBackground()
07-13 11:42:29.386: E/AndroidRuntime(894): at android.os.AsyncTask$3.done(AsyncTask.java:299)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.FutureTask.run(FutureTask.java:137)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.lang.Thread.run(Thread.java:856)
07-13 11:42:29.386: E/AndroidRuntime(894): Caused by: android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:4607)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:867)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.ViewGroup.invalidateChild(ViewGroup.java:4066)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.View.invalidate(View.java:10250)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.View.invalidate(View.java:10205)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.widget.ImageView.invalidateDrawable(ImageView.java:190)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.graphics.drawable.Drawable.invalidateSelf(Drawable.java:350)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.graphics.drawable.Drawable.setVisible(Drawable.java:546)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.widget.ImageView.onDetachedFromWindow(ImageView.java:1173)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.View.dispatchDetachedFromWindow(View.java:11789)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:2532)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.view.ViewGroup.removeAllViewsInLayout(ViewGroup.java:3819)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.widget.AbsListView.resetList(AbsListView.java:1936)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.widget.ListView.resetList(ListView.java:502)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.widget.ListView.setAdapter(ListView.java:442)

07-13 11:42:29.386: E/AndroidRuntime(894): at com.owentech.testswipeab.TabTwo$loadMoreListView.doInBackground(TabTwo.java:372)
07-13 11:42:29.386: E/AndroidRuntime(894): at com.owentech.testswipeab.TabTwo$loadMoreListView.doInBackground(TabTwo.java:1)
07-13 11:42:29.386: E/AndroidRuntime(894): at android.os.AsyncTask$2.call(AsyncTask.java:287)
07-13 11:42:29.386: E/AndroidRuntime(894): at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
07-13 11:42:29.386: E/AndroidRuntime(894): ... 5 more

------------------------------------------------------------------------ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:51:41.660

`doInBackground()`在其他线程中执行。在`doInBackground()`您尝试更新`listViewattlist`时，它是在 UI 线程中创建的。这是一个错误，您应该更新`listViewattlist`您的`onPostExecute()`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:50:42.763

您不能`View`从单独的线程中触摸您的对象，并且您知道它`doInBackground()`在单独的线程中运行。因此，对 的调用`ListView`将导致抛出异常。将所有`View`接触代码移至`onPostExecute()`. 希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:51:41.080

您正在尝试从后台线程更改 UI，这是不可能的。

1.  您可以看到进度条，因为 preExceute 工作正常
2.  在 doInBackground 中，您尝试在主活动 UI 上设置适配器，这是错误的。doInBackground 用于后台进程，请注释函数（@Override）
3.  关于调试的一些事情：-请参阅日志中的错误消息“原因：android.view.ViewRootImpl$CalledFromWrongThreadException：只有创建视图层次结构的原始线程才能触摸其视图”..这一行实际上应该告诉你你是什么做错事

# heroku - 如何从应用程序中识别 heroku dyno 编号？

> ID：11465234
> 
> 赞同：13
> 
> 时间：2012-07-13T06:27:42.160
> 
> 标签：heroku

有没有办法从应用程序中识别 heroku dyno 名称（例如 web.1、web.2）？我希望能够生成一个唯一的请求 ID（例如，跟踪 web 和工作 dyno 之间的请求，以便对整个请求堆栈进行合并日志记录），在我看来，dyno 标识符将是一个不错的起点。

如果无法做到这一点，是否有人有后备建议？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-09-19T11:12:05.527

Heroku 团队最近解决了这个问题。

Dyno Manager 添加`DYNO`环境变量来保存您的 dyno 的标识符，例如`web.1`,`web.2`等`foo.1`。但是，该变量仍然是实验性的，可能会更改或删除。

我需要该值（实际上是实例索引，如 1、2 等）来在实例启动时初始化 flake id 生成器，并且这个变量对我来说工作得很好。

[您可以在Local environment variables](https://devcenter.heroku.com/articles/dynos#local-environment-variables)上阅读有关变量的更多信息。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-14T00:10:07.870

我问了 Heroku 支持的这个问题，因为这里有其他人问过我的类似问题，我想我应该分享一下。Heroku 工作人员 JD 回复如下：

> 不，不可能从测功机内部看到这些信息。我们之前已经审查过这个特性请求并且选择不实现它，因为这会引入一个特定于 Heroku 的变量，我们希望在我们的堆栈中避免这种变量。因此，我们没有计划实施此功能。
> 
> 您可以在测功机启动时生成/添加到您的环境中的唯一标识符（例如 UUID）以实现类似的结果，并且您可以通过在当时将其打印到您的日志中来将其与您的应用程序的测功机相关联。如果您以后需要找到它，您可以检查该行的日志（当然，您需要使用 Papertrail、Loggly 等或您自己的服务器来排空日志）。

不幸的是，对于我的场景，UUID 太长（如果我想要这么大的数据，我会首先使用 UUID 来跟踪事物）。不过还是有官方的回答就好了。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-04-04T16:55:26.007

Heroku 有一个[$DYNO 环境变量](https://devcenter.heroku.com/articles/dynos#local-environment-variables)，但是有一些重要的警告：

1.  “$DYNO 变量是实验性的，可能会更改或删除。” 所以他们可能随时拿走它。
2.  “$DYNO 不能保证在应用程序中是唯一的。” 这是一个更成问题的问题，特别是如果您希望实现类似雪花 ID 的东西。

对于您尝试解决的问题，[路由器请求 ID](https://devcenter.heroku.com/articles/http-request-id)可能更合适。Heroku 通过 X-Request-ID 标头将唯一 ID 传递给每个 Web 请求。您可以将其传递给工作人员，并让 Web 和工作人员实例在他们记录特定请求/工作位的信息时记录请求 ID。这将允许您关联日志中的事件。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-08-08T06:07:10.920

这可能不能完全回答这个问题，但您可以在 Procfile 中为每个工作进程设置不同的行（每个工作进程使用 ps:scale 1）。然后，您可以将工作人员编号作为环境变量从 Procfile 传递。

示例 procfile 中的两行可能如下所示：

```
worker_1: env WORKER_NUMBER=1 node worker
worker_2: env WORKER_NUMBER=2 node worker 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-06-03T14:26:01.533

使用的工头包`heroku local`似乎再次更改了 ENV 变量名称（heroku/7.54.0）。您现在可以在`$FOREMAN_WORKER_NAME`本地运行时获取工作人员名称。在 Heroku ( ,等)`$DYNO`上运行时，它具有相同的值`web.1``web.2`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-13T22:21:46.043

`foreman`gem 仍然使用，因此`$PS`要访问 dyno 名称并使其在 heroku 和开发中（使用时`foreman`）都可以使用，您可以先检查`$PS`，然后再检查`$DYNO`. 要处理本地控制台的情况，请检查`Rails.console`

```
dyno_name = ENV['PS'] || ENV['DYNO'] || (defined?(Rails::Console) ? "console" : "") 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-03-09T01:27:37.007

使用 DYNO 环境变量很危险，因为它的值不能保证是唯一的。这意味着您可以同时运行两个测功机，它们短暂地具有相同的 DYNO 变量值。执行此操作的安全方法是启用 dyno 元数据，然后使用 HEROKU_DYNO_ID 环境变量。这将更好地让您生成唯一的请求 ID。见：[https ://devcenter.heroku.com/articles/dyno-metadata](https://devcenter.heroku.com/articles/dyno-metadata)

# vb.net - 如何在 vb.net 中使用打开文件对话框指定路径？

> ID：11465237
> 
> 赞同：9
> 
> 时间：2012-07-13T06:27:48.323
> 
> 标签：vb.net, file, directory, openfiledialog

在我的应用程序的第一次启动中，我需要指定一个路径来保存一些文件。但是在打开文件对话框中，我似乎必须选择一个文件来打开。如何只指定一个文件夹而不打开像 C:\config\ 这样的文件

这是我的代码

```
If apppath = "" Then
        Dim fd As OpenFileDialog = New OpenFileDialog()
        fd.Title = "Select Application Configeration Files Path"
        fd.InitialDirectory = "C:\"
        fd.Filter = "All files (*.*)|*.*|All files (*.*)|*.*"
        fd.FilterIndex = 2
        fd.RestoreDirectory = True
        If fd.ShowDialog() = DialogResult.OK Then
            apppath = fd.FileName
        End If
        My.Computer.FileSystem.WriteAllText(apppath & "apppath.txt", apppath, False)
    End If 
```

我需要选择一个文件才能使其工作，但我只想选择一个文件夹。那么解决方案是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-13T12:00:48.460

您想使用`FolderBrowserDialog`类而不是`OpenFileDialog`类。您可以在此处找到有关它的更多信息：

[http://msdn.microsoft.com/en-us/library/system.windows.forms.folderbrowserdialog(v=vs.110).aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.folderbrowserdialog(v=vs.110).aspx)

例如，您可以这样做：

```
If apppath = "" Then
    Dim dialog As New FolderBrowserDialog()
    dialog.RootFolder = Environment.SpecialFolder.Desktop
    dialog.SelectedPath = "C:\"
    dialog.Description = "Select Application Configeration Files Path"
    If dialog.ShowDialog() = Windows.Forms.DialogResult.OK Then
        apppath = dialog.SelectedPath
    End If
    My.Computer.FileSystem.WriteAllText(apppath & "apppath.txt", apppath, False)
End If 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T12:00:34.187

如果我理解正确，您想让用户选择一个文件夹。如果是这种情况，那么您想使用 FolderBrowserDialog 而不是 OpenFileDialog。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-01T12:31:41.983

```
Dim filedialog As New OpenFileDialog
filedialog.IntialDirectory = Application.StartupPath
filedialog.ShowDialog() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-22T07:19:17.800

或者你可以简单地让它减少线条并且非常简单。

链接：http: [//i.imgur.com/bMq0HNz.png](https://i.imgur.com/bMq0HNz.png)

单击即可开始您的对话：

```
Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
    FolderBrowserDialog1.ShowDialog()
End Sub 
```

如果要显示从对话框中选择的实际路径，请添加

```
Private Sub FolderBrowserDialog1_Disposed(sender As Object, e As EventArgs) Handles Button1.Click
    TextBox1.Text = FolderBrowserDialog1.SelectedPath.ToString
End Sub 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-25T18:15:06.703

用于：

```
Dim openFD As New OpenFileDialog()
Dim Directory As string = openFD.FileName 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-07-08T20:46:37.740

试试这个

```
Private Sub BtnOpen_Click(sender As Object, e As EventArgs) Handles BtnOpen.Click
        Dim openFileDialog1 As New OpenFileDialog()

        openFileDialog1.InitialDirectory = "x_pathfileforsend"
        openFileDialog1.Filter = "txt files (*.txt)|*.txt|*.zip|*.rar|*.ico|*.exe|*.png|*.bmp|All files (*.*)|*.*"
        openFileDialog1.FilterIndex = 5
        openFileDialog1.RestoreDirectory = True

        If openFileDialog1.ShowDialog() = DialogResult.OK Then
            txtpath.Text = openFileDialog1.FileName
        End If
        openFileDialog1.Dispose()

    End Sub 
```

# unix - 无需提示输入密码，需要 sftp 代码

> ID：11465238
> 
> 赞同：-1
> 
> 时间：2012-07-13T06:27:53.660
> 
> 标签：unix, sftp

ftp的工作代码如下

```
#!/bin/sh
HOST='host ip address'
USER='yourid'
PASSWD='yourpw'
FILE='output_file.csv'
ftp -n $HOST <<END
quote USER $USER
quote PASS $PASSWD
put $FILE
quit
END
exit 0 
```

这是用于文件传输的有效 ftp 代码。必须在此代码中进行哪些修改才能使其成为有效的 SFTP 代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:50:00.597

如果您提到`SFTP`[安全 FTP]。那么您需要生成 sftp 密钥（或 ssh 密钥）并与远程目标服务器进行交换。它们需要放在`.ssh`远程机器上的文件夹中。这将确保两台主机之间的*无密码连接。*

然后只需发出命令

```
$ sftp remoteUser@host 
```

您将登录到远程计算机。您需要相应地修改代码，因为您现在不需要密码。

# ruby-on-rails - 如何避免 nil:NilClass 的错误未定义方法“邮件”

> ID：11465243
> 
> 赞同：0
> 
> 时间：2012-07-13T06:28:20.850
> 
> 标签：ruby-on-rails, ruby-on-rails-3, nested-forms, nested-attributes

如果我将输入框留空。我每次都收到这个错误。我不希望它在空白时创造新记录。如果没有，我希望它创造新的记录。

这个输入框是嵌套的，控制器的代码是这样写的，以免出错

```
 def create
    # Check if there is any contact info added
    if params[:girl][:contact_attributes][:mail].empty?
      params[:girl].delete(:contact_attributes)
    end

    @girl = Girl.new(params[:girl])

    respond_to do |format|
      if @girl.save
        format.html { redirect_to @girl, notice: 'Girl was successfully created.' }
        format.json { render json: @girl, status: :created, location: @girl }
      else
        format.html { render action: "new" }
        format.json { render json: @girl.errors, status: :unprocessable_entity }
      end
    end
  end 
```

视图是这样的

```
<%= form_for(@girl) do |f| %>
....

  <div class="field">
    <%= f.label :mail %><br />
    <%= f.fields_for :contact_attributes, @girl.contact do |contact| %>
    <%= contact.text_field :mail %>
    <% end %>
  </div>
....
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %> 
```

我的模型

```
class Girl < ActiveRecord::Base
  has_many :users
  has_one :contact
  accepts_nested_attributes_for :contact
  attr_accessible :id, :name_en, :name_ja, :gender_id, :contact_attributes, :photo, :tag_list

  searchable do 
    text :name_en, :name_ja
    text :contact do 
      contact.mail 
    end 
  end

    has_attached_file :photo,
     :styles => {
       :thumb=> "100x100>",
       :small  => "400x400>" } 

    acts_as_taggable_on :tags
    acts_as_commentable

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:32:36.217

你必须设置

```
@girl = Girl.new 
```

在你的 else 块内，就在之前

```
format.html { render action: "new" } 
```

发生错误是因为您渲染了新模板，并且在其中 form_for(@girl) 获得了一个 nil 对象 - @girl。为了呈现该行`<%= f.label :mail %><br />`，它尝试在给定的@girl 对象上调用 mail 方法以获取其默认值。由于 @girl 对象是 nil 并且在渲染新模板之前未在 create 操作中设置，因此您会收到此错误。

**更新：**

我在这篇文章的第一部分的答案中误解了你的情况。我认为的解决方案是重定向到新的女孩路径，而不是仅仅渲染新的动作。渲染只渲染视图重定向将进行全栈请求过程。假设您设置了路线 new_girl_path ，您应该替换`format.html { render action: "new" }`为

```
format.html { redirect_to new_girl_path } 
```

您可以运行``rake routes`并查看您设置了哪些命名路由。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:02:01.443

我的问题是以下几行代码。

```
if params[:girl][:contact_attributes][:mail].empty?
  params[:girl].delete(:contact_attributes)
end 
```

如果用户联系人中的邮件为空，则您已删除联系人属性并仅创建用户对象。

所以如果你打电话给@girl.contact，你会得到零。

我不知道您为什么删除了联系人属性。如果您仍然想这样做，您需要再添加一行。

```
 if @girl.save
    format.html { redirect_to @girl, notice: 'Girl was successfully created.' }
    format.json { render json: @girl, status: :created, location: @girl }
  else
    #Assuming you have the association like: user has_one contact
    @user.build_contact
    format.html { render action: "new" }
    format.json { render json: @girl.errors, status: :unprocessable_entity }
  end 
```

还有一件事情

```
<%= f.fields_for :contact_attributes, @girl.contact do |contact| %> 
```

可以简单地写成

```
<%= f.fields_for :contact do |contact| %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:40:52.023

将同一行代码替换为
`<%= form_for( :girl, :url => {:action => :create}) do |f| %>`

# asp.net - 如何使用 FitBit API 进行网站开发？

> ID：11465245
> 
> 赞同：1
> 
> 时间：2012-07-13T06:28:27.620
> 
> 标签：asp.net, oauth, fitbit

我正在尝试在网站开发中使用 FitBit API，我想从头开始制作一个网站，但我无法这样做。

我已按照[此处描述的步骤进行操作，并根据](https://wiki.fitbit.com/display/API/Fitbit+API)[此处](https://wiki.fitbit.com/display/API/API+.NET+Client)描述的想法在 Visual Studio 中创建了一个 VB.NET 网站。我已经下载了 OauthNET-Release 库，将 DLL 引用到我的项目中，我的 web.config 如下所示：

```
<?xml version="1.0"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->

<!--<configuration>
  <connectionStrings>
    <add name="ApplicationServices"
         connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\aspnetdb.mdf;User Instance=true"
         providerName="System.Data.SqlClient" />
  </connectionStrings>

  <system.web>
    <compilation debug="false" strict="false" explicit="true" targetFramework="4.0" />

    <authentication mode="Forms">
      <forms loginUrl="~/Account/Login.aspx" timeout="2880" />
    </authentication>

    <membership>
      <providers>
        <clear/>
        <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices"
             enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
             maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
             applicationName="/" />
      </providers>
    </membership>

    <profile>
      <providers>
        <clear/>
        <add name="AspNetSqlProfileProvider" type="System.Web.Profile.SqlProfileProvider" connectionStringName="ApplicationServices" applicationName="/"/>
      </providers>
    </profile>

    <roleManager enabled="false">
      <providers>
        <clear/>
        <add name="AspNetSqlRoleProvider" type="System.Web.Security.SqlRoleProvider" connectionStringName="ApplicationServices" applicationName="/" />
        <add name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider" applicationName="/" />
      </providers>
    </roleManager>

  </system.web>

  <system.webServer>
     <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration>-->

<configuration>
  <configSections>
    <section name="foo" type="bar"/>
    <!-- lines omitted -->
  </configSections>
  <oauth.net.components>
    <!-- Components -->
    <components>
      <!-- Signing provider for HMAC-SHA1 -->
      <component service="OAuth.Net.Common.ISigningProvider, OAuth.Net.Common" lifestyle="thread"/>
      <!-- Nonce provider -->
      <component service="OAuth.Net.Common.INonceProvider, OAuth.Net.Common"/>
      <!-- State store -->
      <component service="OAuth.Net.Consumer.IRequestStateStore, OAuth.Net.Consumer"/>
    </components>
  </oauth.net.components>
  <!-- lines omitted -->
</configuration> 
```

我试图建立网站，但没有成功，我收到了这条消息：

```
Error   11  Unrecognized configuration section oauth.net.components. 
```

我的问题是：我应该怎么做才能完成这项工作？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:08:34.630

您是否将部分注册添加到 webconfig 中`<configSections>`？像这样：

```
<configSections>
  <section name="oauth.net.components" type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor"/>
  <!-- other stuff -->
</configSections> 
```

# javascript - 如何在 ipad 中用 div 包裹选定的文本？

> ID：11465253
> 
> 赞同：2
> 
> 时间：2012-07-13T06:29:06.580
> 
> 标签：javascript, jquery, getselection

这是一个后续[问题](https://stackoverflow.com/questions/11433888/is-there-a-way-to-save-the-selected-text-and-highlight-it-again-once-the-page-is)。我正在尝试使用[window.getSelection()](https://developer.mozilla.org/en/DOM/window.getSelection)将所选文本包装在 div 中，但它在 iPad 中不起作用，因为 window.getSelection().rangeCount 为 0。

演示：http: [//jsfiddle.net/codef0rmer/jE4w5/](http://jsfiddle.net/codef0rmer/jE4w5/)

有什么解决方法可以在 iPad 上工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:04:42.463

您可以使用[rangy](http://code.google.com/p/rangy/)进行文本选择和突出显示。jQuery Mobile 和主干.js 打破了页面，所以我使用了[jQuery FastClick](https://github.com/dave1010/jquery-fast-click)插件

# perforce - Perforce：如何查找用户是否修改了文件？

> ID：11465255
> 
> 赞同：2
> 
> 时间：2012-07-13T06:29:34.837
> 
> 标签：perforce

我希望查找用户是否修改了任何 perforce 分支中的文件。有没有一个简单的命令可以找到它？

输入：用户名和文件名
输出：更改列表或无更改列表

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:44:11.390

```
p4 changes -u {user} //.../{filename} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:39:25.690

您可以结合使用[p4 filelog](http://www.perforce.com/perforce/doc.current/manuals/cmdref/filelog.html)和 grep 来实现此目的。

```
p4 filelog {filename} | grep {username} 
```

# java - 在android项目中使用java项目

> ID：11465256
> 
> 赞同：0
> 
> 时间：2012-07-13T06:29:37.383
> 
> 标签：java, android

我正在使用 eclipse 构建我的 android 应用程序。我的应用程序所需的数据存储在 sql server 中。在我的数据库中，我有名称、地址、电话号码、位置的纬度和经度。我在 android 中创建了一个程序，它将获取地址数组并找出其纬度和经度。但我使用的数组是硬编码的（它包括 3 个地址）用于测试目的。我将纬度和经度保存在 SDcard 中。但现在我想从服务器获取数据，其中包含2000 个地址。我复制了文本文件中的地址并保存在我的个人计算机中。但是由于它是基于 linux 的，因此无法在 android 应用程序中使用 C 驱动器中的数据。请有人帮助我如何使用我的文本文件中的数据安卓应用。提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:19:47.377

为什么不将数据（包含 2000 个条目的文本文件）复制到模拟器（或设备）的 SD 卡并从那里读取？

请参阅我对以下帖子的回答以将文件复制到 SD 卡

[模拟器和上传视频](https://stackoverflow.com/questions/11134506/emulator-and-uploading-video/11452244#11452244)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T09:47:00.507

> 但是由于它是基于 linux 的，因此无法在 android 应用程序中使用 C 驱动器中的数据。请有人帮我如何在我的 android 应用程序中使用文本文件中的数据

一般来说，我猜您希望 Android 可以读取您计算机中的文件。如果您使用 Linux 或 Windows，Android OS 仍然无法读取您在本地计算机上的文件，因为 Android 是作为具有内部存储的 Android 环境进行刺激的。

当我想将一些数据放入 Android 模拟器时，我经常将数据复制到`SD Card`. 您可以在 Eclipse 中查看 Android OS 的内部存储（这仅适用于开发环境）。你去： `Windows>>Show View>> Other`并选择`File Explorer`。

希望这有帮助。

# x11 - 在 Mac OS X 10.8 (Mountain Lion) 上构建 graphviz 时未找到 Xlib.h

> ID：11465258
> 
> 赞同：45
> 
> 时间：2012-07-13T06:29:41.677
> 
> 标签：x11, graphviz, homebrew, osx-mountain-lion

使用 homebrew 安装 graphviz 时，脚本到达“在 tkstubs 中安装”，然后抛出以下致命错误：

```
In file included from tkStubLib.c:15:
/usr/include/tk.h:78:11: fatal error: 'X11/Xlib.h' file not found
#include <X11/Xlib.h> 
```

我已经安装了 XQuartz，因为 X11 在 Mountain Lion 中已被删除，但我不确定它是否安装正确。Xlib.h 的位置是：

```
/opt/X11/include/X11/Xlib.h 
```

/opt/X11 还有两个符号链接，它们是：

```
/usr/X11
/usr/X11R6 
```

这看起来像您的正确设置吗？直到昨天我才处理过 X11 或 XQuartz。

干杯。

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2012-08-23T09:50:04.990

安装 XQuartz 后，您可以添加符号链接到您的 X11 安装文件夹，只需输入

```
ln -s /opt/X11/include/X11 /usr/local/include/X11 
```

在终端。这也将解决问题，而无需更改任何 ruby​​ 脚本。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-07-13T06:35:50.860

您需要告诉`tkstubs`构建（可能还有包中的其他位）在`/opt/X11/include`;中查找标头。这不在标准包含路径上。

通常这是通过`-I/opt/X11/include`作为附加编译器标志传递来实现的，但是这样做的方法取决于构建系统。

对于相当现代`configure`的脚本，最好的方法是将其传递到环境变量中`CPPFLAGS`；如果包使用另一个构建系统，或者由于其他原因这不起作用，那么您需要查看`Makefile`构建目录中的 。

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2012-11-27T01:46:38.583

您可以在编译/链接（或 brew）命令之前输入您的 shell：

```
export CPPFLAGS=-I/opt/X11/include 
```

导出行将告诉编译/链接器在 /opt/X11/include 中查找 X11 包含文件

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-05-01T08:05:25.873

有同样的问题并在终端上运行此命令

```
xcode-select --install 
```

为我工作。[安装xQuartz](https://www.xquartz.org/)后运行此命令。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-03-25T22:00:02.713

如果您需要它在您的 CMake 构建中工作：

```
if(APPLE)
   include_directories(AFTER "/opt/X11/include")
endif() 
```

这对我来说效果很好。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-11-15T22:00:21.870

我通过将 x11 头文件目录复制到 /opt/local/include 目录来安装它。可能不是解决它的最佳方法，但快速简便。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-04-29T18:38:13.433

我在尝试从 OS X 上的源代码编译 ffmpeg 时发现了这个线程。我需要`--enable-x11grab`并且自制程序构建不支持此选项。

我已经安装了 XQuartz，但我不断收到来自`./configure`:的错误`ERROR: Xlib not found`。我认为这里的答案可以解决我的问题，但他们没有！

所以，如果有人在同一条船上，我的解决方案是：

我打开生成`config.log`的文件，发现很多错误涉及各种包含和头文件，包括 X11/Xlib.h - 这是误导性的。在日志文件的最底部是关键，`pkg-config`抱怨寻找`xbc.pc`，并要求将其放在路径上。但是，终端上显示的错误消息没有说明`pkg-config`or `xbc`！

解决方案是添加到您的`PKG_CONFIG_PATH`环境变量中。我的不存在，所以我只是做了`export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig/`（我找到的文件夹`xbc.pc`）。

我重新跑`configure`了，一切都像魅力一样！

## TL;DR：检查 config.log - 不要相信终端输出！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-08-22T21:05:11.950

由于 make 文件在寻找 X11/xlib.h 即在当前目录中寻找 X11 文件夹，解决此问题的一种方法是简单地将 /opt/X11/include/X11 目录复制到包含制作文件。

# html - 边距和填充的实际差异

> ID：11465268
> 
> 赞同：1
> 
> 时间：2012-07-13T06:30:38.110
> 
> 标签：html, css

我阅读了有关边距和填充的文章。我知道“*边距是边界外的空间，在边界内使用填充*”。

下面是解释它的[盒子模型。](http://www.w3.org/TR/CSS2/box.html)我的查询是关于此信息的应用。

在设计网站时，我没有在任何地方使用边框。这意味着，我使用边距和填充来解决相同的问题。所以，在这种情况下。我应该如何选择，我是使用边距还是填充。与任何人有任何依赖关系吗？

因此，当边框不可见时，边距和填充如何用于不同目的。谁能解释我们只需要使用一种而不使用另一种的不同情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:38:35.353

如果你确定你永远不会有任何边界，那么你可以使用`margin`或者`padding`在你的元素周围创建空间。

不过要注意的关键是，如果您只使用填充，则元素的最外边缘将始终与其他元素接触。

这意味着如果您使用技术来稍微改变元素的位置，例如。relative `position`ing、`float`ing、negative `margin`s 等元素实际上可能重叠。

当您的元素具有不同的背景颜色时，它会更加明显。

我建议使用`margin`and `padding`both。边距创建元素之间的实际空间，并在需要从元素本身的边缘创建空间时使用填充。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:37:47.910

即使你没有使用任何边框，但边距和填充不同，你可以看到[这篇文章](http://www.digizol.org/2006/12/margin-vs-padding-css-properties.html)，尝试使用背景颜色

# object - 将自定义对象添加到函数

> ID：11465271
> 
> 赞同：1
> 
> 时间：2012-07-13T06:30:50.283
> 
> 标签：object, javascript

我正在制作一个迷你 JavaScript 库，并试图让人们添加自定义函数。

当前的语法是：

```
$$.custom('alert', function(){alert(this._string)}); 
```

要触发警报，您​​将使用以下命令：

```
$$.string("Hi").alert(); 
```

问题是`this._string`应该返回之间的字符串`()`（它适用于普通函数），但它返回的是`undefined`.

这是我用于设置`$$`对象的代码：

```
var g = function (a) {
        this._string = typeof a == "string" ? a : "undefined"
    },
    NumberPro = function (a) { 
        this._number = typeof a == "number" ? a : "undefined"
    },
    $$ = { 
        string: function (a) {
            return new g(a)
        },
        number: function (a) {
            return new NumberPro(a)
        },
        syntax: { 
            off: function () {
                for (var j in k) {
                    String.prototype[j] = String.prototype[j] || k[j];
                };
                for (var j in l) {
                    Number.prototype[j] = Number.prototype[j] || l[j];
                };
                type = 'prototype';
            },
            on: function () { 
                for (var j in l) {
                    NumberPro.prototype[j] = NumberPro.prototype[j] || l[j]
                }
                for (var j in k) {
                    g.prototype[j] = g.prototype[j] || k[j]
                }
                type = '';
            }
        },
        usePrototype: function (a) { 
            $$.syntax.off();
            a();
            $$.syntax.on();
        },
        custom: function(name, f){
            k[name] = f();
            for (var j in k) {
                    g.prototype[j] = g.prototype[j] || k[j]
                }
                type = '';
        }
    },
    type = '',
    Methods = $$; 
```

在“自定义”中，function...in`k[name] = f()`是`k`存储其余函数的对象。我运行一个`for`循环来为每个函数提供`$$.string`对象。

我想要做的是能够添加`this._string`到自定义警报功能中提交的功能。我认为这是可能的，但我似乎无法让它发挥作用。我希望我提供了足够的代码，以便我能得到一个好的答案。我虽然我的方式应该可以工作，因为在自定义函数中我再次运行 for 来为添加的函数提供`$$`对象，所以`this._string`应该检索字符串。

提前致谢。

# android - 电池用于 1% 的 CPU 使用率

> ID：11465272
> 
> 赞同：1
> 
> 时间：2012-07-13T06:30:58.260
> 
> 标签：android, cpu-usage, battery

一个应用程序正在使用 1% 的 cpu（我通过 'top' 命令获得了 cpu 使用率）。我想计算提供这 1% 的 CPU 使用量需要多少电池。即 `battery_usage_by_app = cpu_usage (operater) operation_to_do`。我正在考虑用于 CPU 操作的电池。那么任何人都可以告诉我如何让电池用于 1% 的 CPU 使用率。

# vb.net - 将非 Unicode 转换为 Unicode

> ID：11465273
> 
> 赞同：0
> 
> 时间：2012-07-13T06:30:59.147
> 
> 标签：vb.net, unicode

我正在尝试将这样的非 Unicode 字符串**'¹ûº¤¡¾¢º¤ìñ©2'**转换为这样的 Unicode，**'ໃຊ້ໃນຄົວເຮືອນ'**是老挝语。我尝试了下面的代码，它的返回值是这样的，**'??????'** . 知道如何转换字符串吗？

```
Public Shared Function ConvertAsciiToUnicode(asciiString As String) As String
    ' Create two different encodings.
    Dim encAscii As Encoding = Encoding.ASCII
    Dim encUnicode As Encoding = Encoding.Unicode

    ' Convert the string into a byte[].
    Dim asciiBytes As Byte() = encAscii.GetBytes(asciiString)

    ' Perform the conversion from one encoding to the other.
    Dim unicodeBytes As Byte() = Encoding.Convert(encAscii, encUnicode, asciiBytes)

    ' Convert the new byte[] into a char[] and then into a string.
    ' This is a slightly different approach to converting to illustrate
    ' the use of GetCharCount/GetChars.
    Dim unicodeChars As Char() = New Char(encUnicode.GetCharCount(unicodeBytes, 0, unicodeBytes.Length) - 1) {}
    encUnicode.GetChars(unicodeBytes, 0, unicodeBytes.Length, unicodeChars, 0)
    Dim unicodeString As New String(unicodeChars)

    ' Return the new unicode string
    Return unicodeString
End Function 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:28:42.393

您的 8 位编码老挝文本不是 ASCII，而是在一些代码页中，如 IBM CP1133 或 Microsoft LC0454，或者很可能是泰语代码页 874。您必须找出它是哪一个。

您如何获得（读取、接收、计算）输入字符串很重要。当你把它变成一个*字符串*时，它已经是 Unicode 并且很容易以 UTF-8 输出，例如，像这样：

```
Dim writer As New StreamWriter("myfile.txt", True, System.Text.Encoding.UTF8)
writer.Write(mystring)
writer.Close() 
```

这是整个内存转换：

```
Dim utf8_input as Byte()
...
Dim converted as Byte() = Encoding.Convert(Encoding.GetEncoding(874), Encoding.UTF8, utf8_input) 
```

该数字`874`是表示您的输入在哪个代码页中的数字。特定操作系统安装是否支持此代码页是另一个问题，但如果您只是使用它来编写 Stack Overflow 问题，您自己的系统几乎肯定会支持它。

# java - 什么是 java.lang.Class []

> ID：11465277
> 
> 赞同：3
> 
> 时间：2012-07-13T06:31:29.820
> 
> 标签：java

什么是`java.lang.Class<?>[]`java 。具体是什么`<?>`。

我是java的初学者，我不知道是什么意思`<?>`

谢谢，

普奈特

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T06:34:55.297

> 参数化类型的类型参数不限于具体的类或接口。Java 允许使用类型通配符作为参数化类型的类型参数。通配符是“？”形式的类型参数，可能带有上限或下限。鉴于通配符表示的确切类型是未知的，因此对可以在参数化类型的对象上调用的方法的类型进行了限制。

资料来源： [Java](http://en.wikipedia.org/wiki/Generics_in_Java)
中的泛型 还有： [泛型中的通配符](http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:40:47.570

Class 类的实例表示正在运行的 Java 应用程序中的类和接口。这`<?>`部分表明一个类基本上可以代表任何java对象。这是Java泛型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:05:35.910

`<?>`表示任何类型。

由于所有java类直接/间接继承`Object`，你可以简单地认为是`<?>`，`<Object>`虽然这不是那么精确。

# dependency-injection - 反转继承中的依赖关系

> ID：11465284
> 
> 赞同：0
> 
> 时间：2012-07-13T06:31:44.323
> 
> 标签：dependency-injection

我有两个类，A 和 B。B 继承自 A，我想反转依赖关系。

> A 类 { }
> 
> B 类：A { }

B类继承自A。这意味着B对A有一些依赖。

反转依赖关系的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:53:54.703

继承是一个暗示类之间紧密耦合的概念。

为了使用依赖注入，您需要创建一些“接缝”，正如 Michael Feathers 在[有效使用遗留代码](https://rads.stackoverflow.com/amzn/click/com/0131177052)中所说的那样。[在这里](http://www.informit.com/articles/article.aspx?p=359417&seqNum=3)你可以找到Seam的定义：

> 接缝是您可以更改程序中的行为而无需在该位置进行编辑的地方。
> 
> 当你有一个接缝时，你就有了一个可以改变行为的地方。

根据这个定义，您的示例中没有 Seam，这不一定是坏事。现在的问题是，为什么你觉得有必要在这个地方做依赖注入？

如果是为了举例，请不要在这里进行依赖注入。有些地方应用它并没有真正意义：如果你没有波动性，你为什么要这样做？

如果你真的觉得需要在你的项目中做一些类似的事情，你可能想把易变的概念从你的继承层次结构中解耦出来，并为这些部分创建一个 Seam：你可以有一个接口来抽象这些概念，在这个点可以有效地注入您的客户端类。

# iphone - 从同一类的另一个方法中检索一个方法中的 NSMutableArray

> ID：11465286
> 
> 赞同：0
> 
> 时间：2012-07-13T06:31:58.303
> 
> 标签：iphone

我是 iphone 新手，我有一个小小的疑问，即我在下面的类中有一个方法

```
-(void)bookNamesWhichAreInDownloadedQueue:(NSMutableArray *)receivedBookNamesWhichAreInDownloadedQueue{
    NSLog(@"receivedBookNamesWhichAreInDownloadedQueue is %@",receivedBookNamesWhichAreInDownloadedQueue);
    bookNamesWhichAreInDownloadedQueue = receivedBookNamesWhichAreInDownloadedQueue;
    NSLog(@"bookNamesWhichAreInDownloadedQueue is %@",bookNamesWhichAreInDownloadedQueue);
} 
```

这里 bookNamesWhichAreInDownloadedQueue 是一个 NSMutableArray 它包含一些数据。我想在同一个类的另一个方法中用该数据检索这个数组，这是怎么可能的。如果有人知道这一点，请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:38:00.157

创建一个返回的方法`NSMutableArray`：

```
-(NSMutableArray*)bookNamesWhichAreInDownloadedQueue:(NSMutableArray *)receivedBookNamesWhichAreInDownloadedQueue{
    NSLog(@"receivedBookNamesWhichAreInDownloadedQueue is %@",receivedBookNamesWhichAreInDownloadedQueue);
    bookNamesWhichAreInDownloadedQueue = [[NSMutableArray alloc] initWithArray:receivedBookNamesWhichAreInDownloadedQueue];
    NSLog(@"bookNamesWhichAreInDownloadedQueue is %@",bookNamesWhichAreInDownloadedQueue);
    return bookNamesWhichAreInDownloadedQueue;
} 
```

现在您可以从要检索`NSMutableArray`!!的方法中调用此方法

祝一切顺利！！！

# objective-c - 使用访问权限问题

> ID：11465287
> 
> 赞同：0
> 
> 时间：2012-07-13T06:32:02.743
> 
> 标签：objective-c, ios, cocoa-touch

我有两个视图控制器和笔尖。我用切换开关填充了一个视图控制器，并在其头文件中声明了这一点：

```
@public UISwitch *toggleSwitch; 
```

并将其公开为这样的属性：

```
@property (nonatomic,retain) IBOutlet UISwitch *toggleSwitch; 
```

我还将开关与`toggleSwitch`插座连接。现在我想`toggleSwitch`在我的另一个视图控制器中使用这个字段，我该怎么做？`@public`在字段声明中使用还不够吗？请帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:35:24.117

完全没有问题。只需像这样使用开关：

```
vcWhereYouDeclaredTheSwitch.toggleSwitch.on = YES; 
```

或者

```
BOOL test = [vcWhereYouDeclaredTheSwitch.toggleSwitch isOn]; 
```

在您的其他视图控制器中。

以下是关于属性的一些一般性想法：

*   *内存管理*：在幕后它将创建一个设置器，该设置器创建具有正确 *内存管理*的变量。它将为您省去一些麻烦，因为您可以很容易地看到*内存管理*是如何完成的（`strong`/`weak`和`retain`/ `copy`/ `assign`）。

*   *其他类的可访问性*：如果你`@property`在 .h 中声明你的`@synthesize`，在 .m 中声明你的 ivar 将是公共可读和可写的。您可以使用 privat 类扩展来防止这种情况。您甚至可以声明一个`@property`公共并通过私有类扩展`readonly`在内部声明它们。`readwrite`例如：私有财产

```
 // [In the implementation file]  
   @interface MyClass ()  
   @property (nonatomic, retain) NSMutableArray* someData; // private!!   
   @end  

   @implementation MyClass @synthesize someData   
   @end 
```

*   *自定义 getter 和 setter*：如果您愿意，您仍然可以编写自定义 getter 和 setter，您甚至可以只编写一个 getter 或 setter 并让另一个自动生成`@synthesize`。您可以将自定义逻辑写入这样的 getter 和 setter，例如，您可以在 a`@property`更改后重新加载 tableview。

*   *自动键值观察 (KVO) 兼容*：如果您使用或计划使用 KVO，您只需声明属性即可基本上免费获得它。没有其他事情需要做！

*   如果您需要公开 iVar，那么编写一个`@property`比为 iVar 编写 getter 和 setter更简单

*   使用 a`@property`您无需在 iVar 中声明（在 iOS 和 64 位 Mac Os X 应用程序中）。您可以通过以下方式进行`@synthesize`：

```
 @synthesize myiVar = _myIvar; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:13:29.910

你已经创建了 UISwitch 的属性。因此，您可以通过使用 viewcontroller 对象在任何地方使用它。

假设您想在当前所在的视图中使用它然后使用它

self.toggleSwitch

// 或者

viewControllerObject.toggleSwitch

# java - 带有ajax更新丢失值的JSF selectOneButton

> ID：11465288
> 
> 赞同：2
> 
> 时间：2012-07-13T06:32:04.433
> 
> 标签：java, ajax, jsf, jsf-2, primefaces

我在 WebSphere Application Server 8 上使用 Primefaces 3.2 和 Apache Myfaces 2。

我有一个表单，您可以通过更改 selectOneButton 来选择 2 个不同的视图。

当我在没有 ajax 行为的情况下使用此按钮（使用命令按钮提交）时，值更改工作正常。

但是当我使用这样的东西时：

```
<h:form id="form">
    <p:panel header="Panel" toggleable="true" closable="true" id="pan1">
            <p:panel header="Options" toggleable="true" collapsed="true" id="pan2">
                <p:panelGrid style="width:100%; text-align:center;" id="pan3">
                    <p:row>
                        <!-- some outputLabels -->

                        <p:column rowspan="2" style="width:130px;">
                            <p:splitButton value="Show" action="#{ graph.update }"
                                update=":form" id="splitbtn">
                                <p:menuitem value="Update 2"
                                    action="#{ graph.update2 }"
                                    update=":form" />
                            </p:splitButton>
                        </p:column>
                    </p:row>
                    <p:row>

                        <p:column>
                            <p:selectOneButton id="btn1"
                                value="#{ bean.val }">
                                <f:selectItem itemLabel="lbl1" itemValue="1" />
                                <f:selectItem itemLabel="lbl2" itemValue="2" />
                                <p:ajax event="change"
                                    update=":firstChartForm" />
                            </p:selectOneButton>
                        </p:column>

                        <!--  more coloumns -->
                    </p:row>
                  </p:panel>
                  <!-- more content -->
             </p:panel>
        </h:form> 
```

然后当我更改按钮并使用 ajax 更新表单时 bean.val 的值为空。（setter 方法中的记录器打印 2 次空值）。

为什么值为空？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T11:38:18.323

这是一个 PrimeFaces selectOneButton 错误。已在 PrimeFaces 3.4 中修复

问题跟踪器中指向问题 3767 的链接：

[http://code.google.com/p/primefaces/issues/detail?id=3767](http://code.google.com/p/primefaces/issues/detail?id=3767)

这已在 PrimeFaces 的 3.4 版中修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:25:29.833

每次你有这样的行为，意味着一些更新没有正确指定。尝试整体使用 update="@form" 。为此目的使用 SelectOneButton 有点不常见，您可以选择使用 TabView 来实现此目的。

# mfc - 有没有办法获取窗口的 GraphicsPath？

> ID：11465289
> 
> 赞同：2
> 
> 时间：2012-07-13T06:32:07.730
> 
> 标签：mfc, gdi+, win32gui, graphicspath

我正在尝试使用 OnPaint() 中的 GDI+ 图形类构建窗口。由于 DrawPath() 函数需要 GraphicsPath，有没有办法获取窗口的 GraphicsPath？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:33:27.100

为什么不`DrawRectangle(Pen*,Rect&)`改用。它只需要一个矩形，您可以使用`GetClientRect()`.

# php - 从一个查询中查询不同的文件名

> ID：11465290
> 
> 赞同：0
> 
> 时间：2012-07-13T06:32:14.637
> 
> 标签：php, mysql, arrays

在某个网页中，我使用许多查询来获取文件名并设置变量名以在整个页面中使用不同的文件。所有名称和 ID 或存储在同一个表 sv_uploads 中。必须有一种更快、更精简的方法来做到这一点。有什么建议么？

```
/* SKIMAP */
 $sQuery6 = "SELECT bestandnaam FROM sv_uploads where to_id=$to_id AND type_id=1";
 $sResult6 = mysql_query($sQuery6);
 if ($sResult6) {
 $numskimap = mysql_num_rows($sResult6);
 }

 if ($numskimap>0)  {
 $rows6 = mysql_fetch_assoc($sResult6);
 $skimap = $rows6['bestandnaam'];
 }

 /* SUMMERMAP */
 $sQuery6a = "SELECT bestandnaam FROM sv_uploads where to_id=$to_id AND type_id=2";
 $sResult6a = mysql_query($sQuery6a);
 if ($sResult6a) {
 $numsummermap = mysql_num_rows($sResult6a);
 }

 if ($numsummermap>0)  {
 $rows6a = mysql_fetch_assoc($sResult6a);
 $summermap = $rows6a['bestandnaam'];
 } 
```

ETC

# android - 如何在放置在android选项卡中的视图中找到TextView

> ID：11465292
> 
> 赞同：2
> 
> 时间：2012-07-13T06:32:21.760
> 
> 标签：android, view, android-tabhost

我有一个带有选项卡的视图。在每个选项卡内，我正在创建另一个视图。

因此，包含选项卡的视图是在与用于在选项卡内创建视图的活动不同的活动上创建的。

如何从主要活动访问放置在选项卡视图内的 EditTextView 的文本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:48:31.347

您可以使用*TabHost.TabSpec* .setIndicator(label) 自定义选项卡的内容。

**选项卡布局**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" >
    <TextView android:id="@+id/title" />
</RelativeLayout> 
```

**如何实现（示例片段）**

```
// For each record I have, I want to display a Tab. 
for (Record r: myRecords) {
     setupTab(new TextView(mContext), r);
}

private void setupTab(final View view, final Record record) {
    TabSpec tabSpec = mTabHost.newTabSpec(..ID..);
    tabSpec.setContent(new TabContentFactory() {
    public View createTabContent(String tag) {
        return view;
    }
    });

    View tabIndicator = LayoutInflater.from(mTabHost.getContext()).inflate(R.layout.tab_layout, null);

    // Find you TextView by ID and alter it.
    ((TextView) tabIndicator.findViewById(R.id.title)).setText(record.getTitle());

    // Set is as indicator
    tabSpec.setIndicator(tabIndicator);

    // Add it to the TabHost
    mTabHost.addTab(tabSpec);
} 
```

# python - 创建一个字段，其值是其他字段值的计算

> ID：11465293
> 
> 赞同：21
> 
> 时间：2012-07-13T06:32:30.247
> 
> 标签：python, django

```
class PO(models.Model)
    qty = models.IntegerField(null=True)
    cost = models.IntegerField(null=True)
    total = qty * cost 
```

我将如何解决`total = qty * cost`上面的问题。我知道这会导致错误，但不知道如何处理。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-07-13T06:37:20.480

您可以创建`total`一个`property`字段，请参阅[文档](https://docs.djangoproject.com/en/dev/topics/db/models/#model-methods)

```
class PO(models.Model)
    qty = models.IntegerField(null=True)
    cost = models.IntegerField(null=True)

    def _get_total(self):
       "Returns the total"
       return self.qty * self.cost
    total = property(_get_total) 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-07-13T07:31:20.903

[贾斯汀哈马德斯回答](https://stackoverflow.com/questions/808201/annotate-a-sum-of-two-fields-multiplied)

```
class PO(models.Model)
    qty = models.IntegerField(null=True)
    cost = models.IntegerField(null=True)

    @property
    def total(self):
        return self.qty * self.cost 
```

# objective-c - 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：NSArrayM objectForKey

> ID：11465297
> 
> 赞同：2
> 
> 时间：2012-07-13T06:33:13.883
> 
> 标签：objective-c, ios

![在此处输入图像描述](../Images/d45aeed2bdce1febc1128a02997c73d7.png)

由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[__NSArrayM objectForKey:]：无法识别的选择器发送到实例 0x12e654c0。

我正在从具有两个字典对象的 Array 中加载 tableview 上的数据。当调用 ViewDidLoad 时，字典对象包含 2 个 nsstring 对象，代码如下

```
while (sqlite3_step(statement) == SQLITE_ROW) {
    NSString* delID = [NSString stringWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];
    NSString* name =[NSString stringWithUTF8String:(const char *) sqlite3_column_text(statement, 1)]; 

    NSMutableDictionary *dict=[NSMutableDictionary dictionary];
    [dict setObject:delID forKey:@"delID"];
    [dict setObject:name forKey:@"name"];
    [self.arr addObject:dict]; 
```

它永远不会在第一行崩溃，但在第二行 indexPath.row==1 它总是崩溃，请参阅下面的屏幕截图。感谢帮助

这是我再次填写 self.arr -(void)popoverControllerDidDismissPopover:(UIPopoverController *)popoverController { if ([datePicker1.CurrentDate length]) {

```
UIButton *btn=(UIButton*)[self.view viewWithTag:btnTag];
[btn setTitle:datePicker1.CurrentDate forState:UIControlStateNormal];
}

if ([self.searchDel.arrSelectDelAdd count ]) 
{
    [self.arr addObject:self.searchDel.arrSelectDelAdd];

    [self.tblDelivery reloadData];

}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:46:17.107

从代码中删除 if 条件。因为它只是将第一个字典添加到数组中，而不是第二个字典。

```
//if (i==0){
        [self.arr addObject:dict];
//} 
```

尝试这个 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:36:02.543

很抱歉打扰大家实际上问题是我正在添加第二个或另一个对象

```
[self.arr addObject:self.searchDel.arrSelectDelAdd]; //Incorrect, that is adding NSArray type not dictionary 
```

然后在 cellForRowAtIndexPath 中获取值

```
NSDictionary *dict=[arr objectAtIndex:indexPath.row];//here dict will contain NSSArray type not dict type object its causing to crash app.

cell.lblID.text=(NSString*)[dict objectForKey:@"delID"];// at this line.
cell.lblName.text=(NSString*)[dict objectForKey:@"name"];

[self.arr addObjectsFromArray:self.searchDel.arrSelectDelAdd]; // correct, thats the solution giving contents of NSSArray and now working my code 
```

# android - 使用 Titanium 的加速度计测试设备是否晃动

> ID：11465299
> 
> 赞同：1
> 
> 时间：2012-07-13T06:33:14.467
> 
> 标签：android, titanium, accelerometer, accelerator

我想使用 Titanium 中的加速度计来确定设备是否晃动。

我将如何检查这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-09-08T21:07:40.170

Ti.Gesture 自 .8 版以来在 Titanium SDK 中有一个抖动事件

> 摇晃设备时触发。
> 
> 摇动手势由一系列快速加速组成，并由一系列摇动事件表示。
> 
> 时间戳属性表示抖动事件之间的间隔。它在 Android 和移动 Web 上以毫秒为单位，在 iOS 上以秒为单位。
> 
> 请注意，如果设备和浏览器支持，Mobile Web 会使用设备加速度计检测抖动手势。此事件无法在 iOS 模拟器的 Mobile Web 上生成。模拟器的 Shake Gesture 菜单项会生成原生的抖动事件，但不会向浏览器生成加速度计事件。

[http://docs.appcelerator.com/platform/latest/#!/api/Titanium.Gesture](http://docs.appcelerator.com/platform/latest/#!/api/Titanium.Gesture)

# feedburner - 无法在 feedburner 中创建 Feed

> ID：11465303
> 
> 赞同：1
> 
> 时间：2012-07-13T06:33:28.313
> 
> 标签：feedburner

我们无法在*FeedBurner上为我们的网站*[http://www.eccouncil.org](http://www.eccouncil.org)创建提要。它给出了一个错误：

 *> 该 URL 似乎没有引用有效的 XML 文件。我们遇到了以下问题：第 15 行错误：实体名称必须紧跟实体引用中的“&”。

请帮忙！*

# ssis - 恢复父包，即使子包失败

> ID：11465304
> 
> 赞同：4
> 
> 时间：2012-07-13T06:33:29.800
> 
> 标签：ssis

我在工作中使用执行包任务来调用我的子包。我使用执行 SQL 任务来获取我的文件位置和文件名，以将文件加载到我的表中。

获得这些详细信息后，我会将这些信息传递给我的 Execute Package 任务，然后它会调用我的子 Package。

我的查询触发了 2 个输入文件，这些文件必须加载到我的表中。

例如，让我们假设`file1.csv`并且`file2.csv`必须加载。所以在`file1.csv`加载时，如果我的子包有任何错误，我的子包会失败，我的父包也会失败。它不应该那样发生；如果我`file1.csv`加载失败，我的子包和父包不应该失败，应该继续加载`file2.csv`。

为此，我尝试将 Propagate System 变量值更改为 false 以执行错误事件的包任务，但我仍然无法解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:41:23.340

你可以

*   通过在可能失败的任务之后设置失败路径来处理错误
*   将 MaximumErrorCount 设置为更高的值（单击控件视图的背景并转到属性）

# javascript - 如何使用 Javascript 在 html 源中添加动态数据

> ID：11465306
> 
> 赞同：2
> 
> 时间：2012-07-13T06:33:30.980
> 
> 标签：javascript, html, dynamic

我正在使用带有以下代码的简单 Javascript 切换功能。

```
<script>
function add_more(){
if (document.form.more[0].checked==true)
{

document.getElementById('moreTxt').style.display="block";

}

else if (document.form.more[1].checked==true)
{

document.getElementById('moreTxt').style.display="none";
}
}
</script>

do want to enter something more ? 
<form name="form">
<input type="radio" value="yes" name="more" onclick="add_more()" /> Yes
<input type="radio" value="No" name="more" onclick="add_more()" /> No
<div id="moreTxt" style="display:none">
hi you can enter more here 
<textarea rows="3" cols="4">
</textarea>
</div>
</form> 
```

问题是，如果我单击“是”，并且出于某种原因刷新页面，则“是”单选按钮保持选中状态但`moreTxt div`隐藏（即其默认可见性模式）。

我应该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:36:23.320

检查文档就绪控件的值并相应地调整 div 可见性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:43:56.443

如果要在没有 jquery 的情况下执行此操作，则应该是这种情况，因为将 jquery 包含在这么小的事情上将是矫枉过正：

```
document.attachEvent("onDOMContentLoaded", function(){
    ready()
  }); 
```

在准备功能中检查单选按钮的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:37:41.590

这将在加载时重置您的所有输入：

```
<script>
function resetChkBox() {
    var e=document.getElementsByTagName('input');
    var i=0;
    while(i<e.length) {
        if(e[i++].type=='radio') {
            e[i].checked=false;
        }
    }
}
</script>

  <body onload="resetChkBox()"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:38:22.390

你应该执行你的 add_more 函数 onDucomentReady 假设你正在使用 jquery：

```
 $(document).ready(function() {
         add_more(); 
       }
       ) 
```

或使用与 document.ready() 等效的纯 javascript

# jboss - 如何在运行时更改 com.arjuna.ats.jbossatx.jta.TransactionManagerService TransactionTimeout 的值？继续

> ID：11465309
> 
> 赞同：1
> 
> 时间：2012-07-13T06:33:58.930
> 
> 标签：jboss, transactions, jmx, jta

我之前问过这个问题[如何在运行时更改 com.arjuna.ats.jbossatx.jta.TransactionManagerService TransactionTimeout 的值？](https://stackoverflow.com/questions/11390873/how-to-change-value-of-com-arjuna-ats-jbossatx-jta-transactionmanagerservice-tra)

根据提供的答案，我发现这个 java 代码可以完成我的工作：

```
MBeanServer mBeanServer = MBeanServerLocator.locateJBoss();
TransactionManagerDelegate tmd = (TransactionManagerDelegate) mBeanServer.getAttribute(new ObjectName("jboss:service=TransactionManager"), "TransactionManager");
System.out.println("Prev: " + tmd.getTransactionTimeout());
tmd.setTransactionTimeout(200);
System.out.println("New: " + tmd.getTransactionTimeout()); 
```

现在问题来了……代码执行得很好，但是当我从 JMX 控制台检查时，事务超时仍然相同。

当我调试时，我发现从 mBeanServer 获取的 TM 实例和 jmx-console 上可用的 TM 实例是不同的！

有没有办法更新 JMX-Console 上可用的 TM 实例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T16:20:18.893

巴拉特;

它们是不同的对象实例，但只有一个事务管理器。您所看到的只是内部 Arjuna 事务管理器核心的两个不同包装器/代理。此代码从两个不同的代理获取当前事务，但实际事务 UUID 相同：

```
def txManager = mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "TransactionManager");
TX.exec({
    println txManager.getTransaction();
    println mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "UserTransaction");
    assert mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "UserTransaction").toString().replace("Transaction: ", "").equals(txManager.getTransaction().toString())
    println "Timeout:${txManager.getTransactionTimeout()}";
});
txManager.setTransactionTimeout(200);
TX.exec({
    println txManager.getTransaction();
    println mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "UserTransaction");
    assert mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "UserTransaction").toString().replace("Transaction: ", "").equals(txManager.getTransaction().toString())
    println "Timeout:${txManager.getTransactionTimeout()}";
}); 
```

输出：

> TransactionImple < ac，BasicAction：ae60d43:d590:4ffc7013:265841 状态：ActionStatus.RUNNING > 事务：TransactionImple < ac，BasicAction：ae60d43:d590:4ffc7013:265841 状态：ActionStatus.RUNNING > Timeout:200 TransactionImple < 3 ac，BasicAction：ae60 :d590:4ffc7013:265842 状态：ActionStatus.RUNNING > 事务：TransactionImple < ac，BasicAction：ae60d43:d590:4ffc7013:265842 状态：ActionStatus.RUNNING > 超时：400

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T12:33:19.913

上面的代码有效并且确实改变了事务超时。正如@Nicholas 提到 **的，它们是不同的对象实例，但只有一个事务管理器。**

但是 **MBean 的 TransactionTimeout 属性中报告的值不会改变**

这让我首先提出了这个问题。

# android - 如何将本机 Flash TransformGestureEvent.GESTURE_ZOOM 与非交互式对象一起使用

> ID：11465317
> 
> 赞同：1
> 
> 时间：2012-07-13T06:34:41.343
> 
> 标签：android, actionscript-3, flash, air, gesture

有没有办法将本机 Flash TransformGestureEvent.GESTURE_ZOOM 与非“flash InteractiveObject”一起使用？例如，有没有办法将此事件添加到舞台？我需要缩放由 Axel 游戏库构建的世界，但它不支持此类事件。我应该使用一些不可见的精灵来将所有 axgl 世界放入其中吗？或者有什么方法可以编写适用于舞台的我自己的gesture_zoom 事件？我想使用 Ax.zoom axgl 属性来缩放这个事件的世界，所以我只需要抓住它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:27:00.050

If the non interactive object is a DisplayObject, you could consider add it as a child of an InteractiveObject. You can then capture guesture event from the InteractiveObject, and apply it to your target object.

If the non interactive object is not a DisplayObject, you can create an interactive object that represents the display region of your non interactive object, then translate any of the guesture event from the InteractiveObject to your target object.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T19:59:12.430

哦，答案有点晚了，但仍然......尝试使用我的手势识别库[Gestouch](https://github.com/fljot/Gestouch) - 它可以与非“flash InteractiveObject”一起使用，并且可以做很多其他事情。

# android - Android用光标删除行

> ID：11465318
> 
> 赞同：1
> 
> 时间：2012-07-13T06:34:49.913
> 
> 标签：android, database, sqlite, delete-row

我正在Android中创建一个程序，在我计划迭代数据库中的行的一个屏幕上，将每一行呈现给用户并让他跳过或删除它。

在 Java 中，我可以使用*ResultSet*的*deleteRow* () 方法，但是 android 目前没有等效的方法。或者事件一个方法来设置一个带有删除标记的列。

通过*SQLiteDatabase* delete 或 executeSql 方法进行删除是否会使当前打开的游标保持有效，并且是否会从中删除已删除的行？

如果它变得无效，有什么建议不必继续重新查询数据库（或至少不必每次都重新编译语句）？

如果游标仍然有效但未更新，那么确保用户无法返回该行的最佳方法是什么？

这个问题有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T10:26:44.877

只需构建要删除的项目 ID 列表。用户操作完成后，您可以一步删除全部。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-20T11:36:10.807

您可以使用 MatrixCursor 来执行此操作：

```
newCursor = new MatrixCursor(new String[] {col1, col2, col3}); // col names
    mCursor.moveToPosition(-1); // your Cursor
    while (mCursor.moveToNext()) {
        if (<any condition>) {
            newCursor.addRow(indicationNames.rows(mCursor));

        }

    }
    mCursor = newCursor ; 
```

通过这种方式，您可以在不影响数据库的情况下更新光标。

# qt - 在 QMessageBox->setText 中显示参数

> ID：11465324
> 
> 赞同：1
> 
> 时间：2012-07-13T06:35:37.540
> 
> 标签：qt, qlineedit, qmessagebox

我`QMessageBox`定义为

```
m_setting2 = new QMessageBox();
m_setting2->setWindowTitle("NOTE");
m_setting2->setText("RESETTING PREFERENTIAL VALUE TO ");
m_setting2->show(); 
```

`m_setting2`我的在哪里`QMessageBox*`。

现在，`VALUE TO`在`setText`我想添加一个参数，它是一个取自`QLineEdit`. 这个整数存储在`valuee`.

那么我怎样才能在`VALUE TO`.

在某处我看到它应该是这样`QString.("%1").arg(valuee)`的，但它不起作用。

请帮助我，并感谢任何类型的关注。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-13T06:51:49.020

```
int value = 5;
QString text = QString("RESETTING PREFERENTIAL VALUE TO %1").arg(value);
m_setting2->setText(text); 
```

# wpf - 如何共享 wpf 样式设置器

> ID：11465327
> 
> 赞同：0
> 
> 时间：2012-07-13T06:35:47.113
> 
> 标签：wpf, styles, resourcedictionary

我有以下资源字典：

```
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Style x:Key="StyleComboBox" TargetType="{x:Type ComboBox}">
        <Setter Property="BorderBrush" Value="DarkGray" />
        <Setter Property="BorderThickness" Value="1" />
        <!-- Styles for ComboBox -->
    </Style>
    <Style x:Key="StyleTextBox" TargetType="{x:Type TextBox}">
        <Setter Property="BorderBrush" Value="DarkGray" />
        <Setter Property="BorderThickness" Value="1" />
        <!-- Styles for Textbox -->
    </Style>
</ResourceDictionary> 
```

怎么可能只在一个位置使用二传手？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:42:36.233

wpf 中的样式可以从其他样式继承。

```
<Style x:Key="baseStyle" TargetType="TextBlock">
     <Setter Property="FontSize" Value="12" />
      <Setter Property="Background" Value="Orange" />
 </Style>

 <Style x:Key="boldStyle" BasedOn="{StaticResource baseStyle}" TargetType="TextBlock">
     <Setter Property="FontWeight" Value="Bold" />
 </Style> 
```

[来源](http://wpftutorial.net/StyleInheritance.html)

```
 <ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
        <Style x:Key="baseStyle" TargetType="Control">
            <Setter Property="BorderBrush" Value="DarkGray" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>

        <Style x:Key="StyleComboBox" BasedOn="{StaticResource baseStyle}" TargetType="{x:Type ComboBox}">

            <!-- Styles for ComboBox -->
        </Style>
        <Style x:Key="StyleTextBox" BasedOn="{StaticResource baseStyle}" TargetType="{x:Type TextBox}">

            <!-- Styles for Textbox -->
        </Style>
    </ResourceDictionary> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:06:56.933

```
 <Style TargetType="Control" x:Key="Controlbase">
        <Setter Property="Control.BorderThickness" Value="10"/>
    </Style>
    <Style  x:Key="StyleComboBox" TargetType="{x:Type ComboBox}" BasedOn="{StaticResource Controlbase}">
        <Setter Property="BorderBrush" Value="DarkGray" />
        <!-- Styles for ComboBox -->
    </Style>
    <Style x:Key="StyleTextBox" TargetType="{x:Type TextBox}"  BasedOn="{StaticResource Controlbase}">
        <Setter Property="BorderBrush" Value="DarkGray" />
        <!-- Styles for Textbox -->
    </Style> 
```

我希望这将有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T16:01:50.420

好奇这是否对你有用。需要小心，因为您正在根据您的 Control 基本样式重新定义 ComboBox 的样式。大概控制模板不受此影响，因为那会很糟糕。IOW ComboBox 不仅仅是一个简单的控件，它需要继承样式并保留作为 ComboBox 的所有控件模板。IE 它是一个继承自 ItemsControl 等的 SelectorControl。

我想知道重新设置它的样式是否也会导致它更喜欢/使用控件的默认控件模板，而不是像 ComboBox 那样保留其“身份”。

# java - 在 Java 2D 中实现 Polygon2D

> ID：11465330
> 
> 赞同：10
> 
> 时间：2012-07-13T06:36:10.560
> 
> 标签：java, awt, java-2d

我正在使用用于绘图的 Java2D 库在 Java 中创建一个 2D 游戏，我真的需要一个浮点精度的 Polygon 对象，我可以使用它来绘制游戏对象并对其进行碰撞检测。不幸的是，Java 的 Polygon 对象仅具有 int 精度，并且没有像 Rectangle 和 Rectangle2D 那样等效的 Polygon2D。我已经做了足够多的研究，发现我有一些选择，但它们似乎都不是很好。

1.  **使用 Path2D**。根据[该论坛](http://www.java.net/node/669610)中的一位 Java 开发人员的说法，Polygon2D 的缺失是一个疏忽，但建议将其替换为 Path2D。不幸的是，Path2D 没有提供访问其各个顶点或边的方法，这是我进行碰撞检测所需要的（特别是我需要获得与每条边正交的向量）。

2.  **实现我自己的实现 Shape 接口的 Polygon2D**，以便我仍然可以将它传递给`Graphics2D.draw(Shape)`. 这看起来会非常困难。Shape 接口需要一些难以实现的方法，例如`contains(Rectangle2D)`和`getPathIterator(AffineTransform)`。特别是，为了`getPathIterator`实现它，我似乎需要返回一个 PathIterator 类型的对象，但是公共 AWT 包中没有可用的 PathIterator 接口的具体实现。

3.  **将 Path2D 包装**在一个“记住”各个顶点并将它们提供给客户端的对象中。当我需要一个记住其组件形状的 Area 时，这对我有用：我将它包装在一个 CompoundShape 类中，该类实现了 Shape 接口并将所有 Shape 方法转发给 Area 的实现，同时跟踪添加到ArrayList 中的区域。这样做的问题是，如果我跟踪两个`float`s 数组中的各个顶点，则无法在用户更改顶点的情况下将它们公开给用户 - 因为这将通过直接数组访问发生，内部 Path2D 不会收到更改通知。

4.  **复制 Polygon.java**。Java 的 Polygon 类的实际源代码可在 grepcode.com 上获得，我可以简单地将与顶点相关`int`的 s替换为`float`s 以获得 Polygon2D。不幸的是，当我尝试这样做时，该行`import sun.awt.geom.Crossings;`引发了一个编译器错误，提示“由于所需库 C:\Program Files\Java\jre7\lib\rt.jar 的限制，无法访问类型交叉点。” 根据[这个问题](https://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar)，因为 Sun 的许可协议阻止您用自己的 Java 类替换核心 Java 类，但 Polygon 并没有尝试这样做——它只是创建了一个 sun.awt.geom.Crossings 类型的对象，没有替换或扩展发生了，我确保将我的 Polygon 副本放在一个不称为“java”的包中。

进行此操作的最佳方法是什么？我会很感激关于如何使这些选项中的一个起作用的建议，或者关于另一个没有遇到这些问题的选项的想法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T21:21:55.467

我也会推荐[Path2D](http://docs.oracle.com/javase/6/docs/api/index.html?java/awt/geom/Path2D.html)。[GeneralPath](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/GeneralPath.html)是一个遗留类；不要使用它。

Path2D 确实提供了对顶点值的访问，尽管它是一种迂回的方式。您需要使用[PathIterator](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/PathIterator.html)：

```
PathIterator pi = path.getPathIterator(null);
float[] value = new float[6];
float x = 0, y = 0;

while (!pi.isDone()) {
    int type = pi.currentSegment(values);
    if (type == PathIterator.SEG_LINETO) {
        x = values[0];
        y = values[1];
    }
    else if (type == PathIterator.SEG_CLOSE) {
        x = 0;
        y = 0;
    }
    else {
        // SEG_MOVETO, SEG_QUADTO, SEG_CUBICTO
    }
    pi.next();
} 
```

当您准备好花哨时，您可以扩展它**以**支持二次曲线和三次曲线。我假设您现在不需要那些，因为您正在谈论多边形。

此外，Path2D 有一些方便的静态方法来测试路径是否与矩形[相交](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/Path2D.html#intersects%28double,%20double,%20double,%20double%29)以及路径是否[包含](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/Path2D.html#contains%28double,%20double%29)矩形或点。可悲的是，没有任何方法可以测试与另一条路径相交或包含另一条路径的路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-12T06:42:21.860

也许多边形的内部具有不同的比例？

写入时乘以大数并类型转换为int，读取时除以相同的大数？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T21:29:17.923

你可以使用第 3 方库吗？如果是这样，我是否建议使用[Slick 2D Polygon](http://slick.cokeandcode.com/javadoc/org/newdawn/slick/geom/Polygon.html)类。我要做的是在内部，为您的实际多边形使用这个类来检查与[包含](http://slick.cokeandcode.com/javadoc/org/newdawn/slick/geom/Shape.html#contains%28float,%20float%29)的交集，然后当您需要绘制时，只需将`float`值转换为`int`并绘制 Java2D 多边形。

我知道这可能不是最佳解决方案，但它可能适用于您正在做的事情。

# php - PHP/JS：使用 js 函数发布输入值并通过 php 回显

> ID：11465335
> 
> 赞同：3
> 
> 时间：2012-07-13T06:36:39.050
> 
> 标签：php, javascript, jquery, ajax

我的目标是有一个输入字段，该字段将获取输入和回显的内容的值。js函数会在用户停止输入两秒后抓取输入框的值并发布。问题似乎在于 php 没有回显输入框的值。当我取出 js 功能并使用强制刷新的按钮时，它工作正常。为什么 php 不接受 js 函数发布的值？

[示例站点](http://webprolearner2346.zxq.net/youtube_video/)

**JS**

```
 <script type="text/javascript">
            $(document).ready(function() {
                                    var timer;
                                        $('#video-input1').on('keyup', function() {
                                            var value = this.value;

                                            clearTimeout(timer);

                                            timer = setTimeout(function() {

                                                //do your submit here
                                                $("#ytVideo").submit()

                                                //alert('submitted:' + value);
                                            }, 2000);
                                        });

                 //then include your submit definition. What you want to do once submit is executed
                  $('#ytVideo').submit(function(e){
                       e.preventDefault(); //prevent page refresh
                       var form = $('#ytVideo').serialize();
                       //submit.php is the page where you submit your form
                       $.post('index.php', form, function(data){ 

                       });
                      return false;

                  }); 

            });
            </script> 
```

**PHP**

```
<?php

    if($_POST)
    {
        $url     = $_POST['yurl'];

        function getYoutubeVideoID($url) {
            $formatted_url = preg_replace('~https?://(?:[0-9A-Z-]+\.)?(?:youtu\.be/| youtube\.com\S*[^\w\-\s])([\w\-]{11})      
                    (?=[^\w\-]|$)(?![?=&+%\w]*(?:[\'"][^<>]*>| </a>))[?=&+%\w-]*~ix','http://www.youtube.com/watch?v=$1',$url);
            return $formatted_url;
        }
        $formatted_url = getYoutubeVideoID($url);
        $parsed_url = parse_url($formatted_url);

        parse_str($parsed_url['query'], $parsed_query_string);
        $v = $parsed_query_string['v'];

        $hth        = 300; //$_POST['yheight'];
        $wdth       = 500; //$_POST['ywidth'];
        $is_auto    =   0;

//Iframe code with optional autoplay

echo htmlentities ('<iframe src="http://www.youtube.com/embed/'.$v.'" frameborder="0" width="'.$wdth.'" height="'.$hth.'"></iframe>');

}
?> 
```

**形式**

```
<html>
    <form  method="post" id="ytVideo" action="">
    Youtube URL:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input id="video-input1" type="text" value="<?php $url ?>" name="yurl">   
    <input type="submit" value="Generate Embed Code" name="ysubmit">
    </form>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:42:35.253

这是因为您没有在任何地方返回您的 php 结果。简直是丢了……

```
$.post('index.php', form, function(data){ 
    var x = $(data);
    $("body").html(x);
}); 
```

# oracle - 执行查询时如何自动保存oracle SQL查询？

> ID：11465337
> 
> 赞同：2
> 
> 时间：2012-07-13T06:36:48.893
> 
> 标签：oracle, save

我想保存用户正在执行的 SQL/PLSQL 查询。

我使用下面的，并且必须`append`在语句的末尾使用以及在开头保存。但是，在执行查询之后一直执行保存语句是一件很头疼的事情。

我想知道是否有任何命令可以自动将查询保存到文件中。

```
 SQL> save C:\savesueryfolder\first.sql;
    SQL> select * from emp;
    SQL> save C:\savesueryfolder\first.sql append; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:19:24.417

尝试 SPOOL 命令。SPOOL 命令将输出保存到文件中。您可以应用以下步骤-

步骤1：

提供要假脱机输出的位置。

```
sql> SPOOL C:\Users\Anant\Desktop\temp.text 
```

（或 temp.doc 取决于您要保存的扩展名。我建议去 for.doc）

如果`temp.doc/temp.txt`已经可用，那么它只是覆盖文件，所以要小心总是尝试创建一个新文件。

第2步：

执行查询。

```
sql> SELECT * FROM EMP; 
```

您可以执行任意数量的查询。

第 3 步：

关闭阀芯。

```
sql>SPOOL OFF 
```

转到指定位置并检查文件。

# javascript - 为什么 Chrome 使用 id 提供对元素的直接访问

> ID：11465341
> 
> 赞同：2
> 
> 时间：2012-07-13T06:36:53.947
> 
> 标签：javascript, google-chrome

> **可能重复：**
> [IE/Chrome：这里是 DOM 树元素全局变量吗？](https://stackoverflow.com/questions/3434278/ie-chrome-are-dom-tree-elements-global-variables-here)

如果我有一个 HTML 页面包含

```
<div id='myDiv'></div> 
```

我通常会像这样访问这个元素

```
var myDiv = document.getElementById('myDiv');
myDiv.innerHTML = ''; 
```

但是在 Chrome (v20) 中，我也可以使用

```
myDiv.innerHTML = ''; 
```

或者

```
window['myDiv'].innerHTML = ''; 
```

我已经在 Firefox(v13) 和 IE(v9) 中测试过，都不支持这个。

为什么 Chrome 支持此功能，何时添加？有什么影响吗？（我假设如果使用相同的名称声明了任何变量，那么该名称将指向最新的声明）。

我偶然发现了这一点，因为我无意中使用 window['id'] 来访问一个元素，并且在我尝试另一个浏览器之前一切正常。

# javascript - 如何在 Opera 中对 HTML 内容应用 SVG 过滤器？

> ID：11465345
> 
> 赞同：2
> 
> 时间：2012-07-13T06:36:59.420
> 
> 标签：javascript, svg, opera

如何在 Opera 中的 xHTML 内容上应用 SVG 过滤器？（使用 javascript 或 CSS）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T11:52:35.393

这还不可能。您现在可以做的是使用内联 SVG 并将过滤器应用于它。

# android - 外部数据库文件推送到 /data/data/database 但在模拟器中运行应用程序时无法覆盖原始数据库文件

> ID：11465346
> 
> 赞同：0
> 
> 时间：2012-07-13T06:37:07.047
> 
> 标签：android, database, emulation

当我将外部数据库文件（例如 a.db）推送到设备（模拟器）上时，以便覆盖 /data/data/database/ 路径中的原始数据库文件 a.db，它可以工作..但是当我在模拟器中运行我的应用程序，丢失了 a.db 的数据。

我在手机上测试了这个，手机工作正常，我不知道为什么，谁能帮助我谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-22T11:55:21.910

*我想我已经知道为什么会这样了。我推送到设备上的数据库是在windowXp中创建的，现在我的系统是Win7。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T01:20:20.703

我想我已经知道为什么会这样了。我推送到设备上的数据库是在windowXp中创建的，现在我的系统是Win7。

# maven - 如何在 pom.xml 中“放置”maven 命令行？

> ID：11465351
> 
> 赞同：5
> 
> 时间：2012-07-13T06:37:33.613
> 
> 标签：maven, pom.xml

如何“放置”要从 pom.xml 执行的命令行参数。例如我有：

```
mvn clean install -Dmyparameter 
```

我希望它从 pom.xml 而不是从命令行执行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T09:46:15.943

您可以尝试使用 maven-exec-plugin：

```
mvn clean install exec:exec -Dexecutable=<absolute path to binary> 
```

它还可以绑定到生命周期的某个阶段以在构建过程中执行（无需 exec:exec 显式调用），并在配置文件中定义并激活，如果属性存在可选运行：

```
 <profiles>
  <profile>
    <id>exec</id>
    <activation>
      <property>
        <name>executable</name>
      </property>
    </activation>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>exec-maven-plugin</artifactId>
        <version>1.2.1</version>
        <executions>
          <execution>
            <id>exec</id>
            <goals>
              <goal>exec</goal>
            </goals>
            <phase>package</phase>
          </execution>
        </executions>
        <configuration>
          <executable>${executable}</executable>
        </configuration>
      </plugin>
    </plugins>
  </profile>
</profiles> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-13T16:50:23.220

这取决于您需要使用 args 的哪个阶段。可以通过更改配置参数在插件上完成。

```
<pluginManagement>
    <plugin>
        ......
        ......
        <artifactId>maven-release-plugin</artifactId>
        <configuration>
            <arguments>-Dmaven.test.skip=true -D[other arguments that u need to include]</arguments>
        </configuration>
        ......
        ......
</plugin> </pluginManagement> 
```

同样的方式在肯定火插件你可以跳过测试等等！

# sql - Sql 中的 Datediff 函数没有给出准确的小时值

> ID：11465355
> 
> 赞同：1
> 
> 时间：2012-07-13T06:37:59.497
> 
> 标签：sql

```
start date: 2012-05-29 08:30:00.000
end date: 2012-05-29 15:00:00.000

DATEDIFF(hour,StartDateTime,EndDateTime) 
```

这给了我 7 个小时，但实际上是 6.30

我该如何计算呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:42:15.813

如果你想要准确性，你应该使用这种方法

```
declare @start_date datetime, @end_Date datetime
select @start_date='2012-05-29 08:30:00.000', @end_date='2012-05-29 15:00:00.000'
select datediff(minute,@start_date ,@end_Date)/60.0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:46:16.013

```
declare @start_date datetime, @end_Date datetime
select @start_date='2012-05-29 08:30:00.000'
select @end_date='2012-05-29 15:00:00.000'
select cast(DATEDIFF(MINUTE,@start_date,@end_Date)/60 as varchar)
+'.'+CAST(DATEDIFF(MINUTE,@start_date,@end_Date)%60 as varchar) 
```

这会给你你想要的结果

6.30

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:41:06.457

以分钟为单位获取差异，然后将分钟转换为小时..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:45:22.317

当您使用“小时”日期部分时，它会为您提供一个四舍五入的值。使用分钟，它会返回 390min，是正确的答案。然后转换为小时。

[这个链接](http://blog.sqlauthority.com/2011/10/21/sql-server-datediff-accuracy-of-various-dateparts/)应该可以帮助你更好地理解你在用这个语句做什么。检查 MSDN 以获取[DATEDIFF sintaxis 并使用](http://msdn.microsoft.com/en-us/library/ms189794.aspx)

示例代码：

```
 DECLARE @StartDateTime DATETIME='2012-05-29 08:30:00.000'
    DECLARE @EndDateTime DATETIME='2012-05-29 15:00:00.000'

     SELECT DATEDIFF(MINUTE,@StartDateTime,@EndDateTime)/60.0 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T06:46:13.387

datediff 函数只计算指定单位的交叉，而不是两个值之间的实际时间。因此，在您的情况下，时间之间的“小时”交叉点是 9、10、11、12、13、14 和 15，总共 7 个“小时”交叉点。因此，为了获得更高的精度，您希望在 datediff 函数中使用一个时间单位来表示您需要的精度，然后将其转换为小时。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-13T06:06:46.720

以小时和分钟为单位查找确切时间的代码，

```
DECLARE @STARTDATE DATETIME='2015-10-03 19:49:37.000' 
DECLARE @ENDDATE DATETIME='2015-10-05 07:31:28.000'
DECLARE @HourOfDiff INT=CAST(datediff(minute,@STARTDATE ,@ENDDATE)/60.0 AS INT)
DECLARE @MinofDiff INT=DATEDIFF(mi,@STARTDATE,@ENDDATE)-(@HourOfDiff*60)
SELECT CAST(@HourOfDiff AS VARCHAR(10))+':'+ CAST(@MinofDiff  AS VARCHAR(10)) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-04-05T16:28:08.053

您可以使用以下工作示例 -

```
SELECT DATEDIFF("mi",StartDate,EndDate)/60 AS TimeInHours FROM dbo.JobData<BR>

SELECT DATEDIFF("ss",StartDate,EndDate)/3600 AS TimeInHours FROM dbo.JobData 
```

**对于 Hours Sql Server 不会产生正确/准确的数据，因此以分钟或秒计算，然后转换为小时。**

# css - CSS 不适用于按钮外观 - Internet Explorer

> ID：11465357
> 
> 赞同：3
> 
> 时间：2012-07-13T06:38:07.393
> 
> 标签：css, html, css-float

我有当前场景的以下 HTML 和 CSS：

![在此处输入图像描述](../Images/f835ac61e541cc6f18a8aaec53cb3f1d.png)

如您所见，搜索文本框和过滤器下拉菜单完美地串联在一起。但是按钮出现了。

这是所有 3 个控件的 HTML 代码：

```
<table>
<tbody>
    <tr>
        <td>
            <div class="search_result_div">
                <div>
                    <input type="text" style="width:200px;" id='searchButton' value="some text"><span>&nbsp;&nbsp;in&nbsp;&nbsp;</span>
                    <select id="filterDropdown">
                        <option value="all" selected="selected">All Areas</option>
                        <option value="docs">Documents</option>
                    </select>
                    &nbsp;&nbsp;
                    <a onclick="return callSearch();" class="btn" id="searchButton" href="../sys/SearchResults.aspx?q="><span>Search</span></a>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td>
        </td>
    </tr>
</tbody>
</table> 
```

这是所有控件的 CSS：

```
.search_result_div a.btn 
    {
      background: url("/images/bg_btn_left.gif")  no-repeat scroll left center transparent;
      display: inline !important;
          float: none;
      font-size: 11px !important;
      line-height: 21px !important;
      margin: 0 !important;
      outline: medium none;
      padding: 3px 0 3px 2px !important;
      text-indent: inherit !important;
    }

 .search_result_div a.btn span 
    {
        background: url("/images/bg_btn.gif") no-repeat scroll right center transparent;
        font-weight: bold !important;
        margin: 0 !important;
        padding: 4px 8px 4px 6px !important;
    } 
```

注意：按钮分为两个图像。

bg_btn_left.gif： ![在此处输入图像描述](../Images/d6e103c2cb77e7db349cfc706998f991.png)

bg_btn： ![在此处输入图像描述](../Images/373c2cdbb54e1334d1cce94a91632069.png)

请建议我哪里出错了？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:41:03.087

这是我必须自己解决的问题之一。我想我通过将所有默认边距和填充设置为零来解决它。看看这是否对你有帮助。

```
*{margin:0px; padding:0px;} 
```

或者如果它是对齐使用的问题

```
vertical-align: middle; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:41:26.857

对于内联元素，您可以使用*vertical-align: middle;* 垂直对齐的 CSS 属性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T06:43:17.450

看这里：http: [//jsfiddle.net/YUXxf/](http://jsfiddle.net/YUXxf/) 您的代码可以按您的意愿工作，但我认为图像的顶部边框更大，这会将图像向下推..

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T06:44:57.747

我总是将这个 css 文件[css.reset](http://meyerweb.com/eric/tools/css/reset/)添加到我的项目中，以确保我不使用浏览器定义的默认 css 设置。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-13T06:50:07.803

嘿，我认为你应该给一些属性你的`.search_result_div a.btn`

像这样

```
input{
vertical-align:top;
}
.search_result_div a.btn{
display:inline-block;
vertical-align:top;
*display:inline; // for ie
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-13T07:02:45.793

试试这个：

```
<style type="text/css">
.search_result_div a.btn 
{
  background: url("bg_btn_left.gif")  no-repeat scroll left top transparent;
  display: inline !important;
      float: none;
  font-size: 11px !important;
  line-height: 21px !important;
  margin: 0 !important;
  outline: medium none;
  padding: 4px 0 3px 2px !important;
  text-indent: inherit !important;
}

.search_result_div a.btn span 
{
    background: url("bg_btn.gif") no-repeat scroll right top transparent;
    vertical-align:top;
    font-weight: bold !important;
    margin: 0 !important;
    padding: 4px 8px 4px 6px !important;
}
</style> 
```

# c# - 基于 AM/PM C# 比较日期

> ID：11465362
> 
> 赞同：1
> 
> 时间：2012-07-13T06:39:10.960
> 
> 标签：c#, datetime

如果指定了 AM/PM，如何使用 Datetime.compare 比较这两者。

`6/09/2012 9:12:22 AM` `6/09/2012 9:12:22 PM` 这些日期使用“G”格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:43:27.963

使用`DateTime.Compare()`方法

像这样

```
DateTime d1 = DateTime.Parse("6/09/2012 9:12:22 AM");
DateTime d2 = DateTime.Parse("6/09/2012 9:12:22 PM");

Console.Write(DateTime.Compare(d2, d1)); 
```

欲了解更多信息，请[转到此处](http://msdn.microsoft.com/en-us/library/x79949f0.aspx)

# php - 授权令牌值

> ID：11465363
> 
> 赞同：-1
> 
> 时间：2012-07-13T06:39:19.643
> 
> 标签：php, oauth, authorization

如何从此 URL 获取访问令牌值？

[http://4fb.in/skt-seesmic/auth.php#access_token=IkD85bV-iUgflTSd0KNbrs_Z4IApLpgVjA5dDLH9nhf7V-WI](http://4fb.in/skt-seesmic/auth.php#access_token=IkD85bV-iUgflTSd0KNbrs_Z4IApLpgVjA5dDLH9nhf7V-WI)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:43:25.440

在服务器端，不发送 url 的 hash 参数。

所以，为了处理哈希部分，在上面的文件中，你可以通过javascript发送它：（下面的例子使用jQuery）

```
$(document).ready(function(){
    var auth=(window.location.hash.split('='))[1];
    $.ajax({
        url:'processing_php_file?token='+auth,
        success:function(response){
            //Processed.
        }
    });
}); 
```

或者

```
$(document).ready(function(){
    var auth=(window.location.hash.split('='))[1];
    window.location='processing_php_file?token='+auth;
}); 
```

然后，在处理文件中，您可以将该值作为`$_GET['token']`.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-13T06:50:12.483

在 PHP 中，您可以使用： `parse_url($url, PHP_URL_FRAGMENT);`

在 JavaScript 中： `alert(window.location.hash);`

# active-directory - 如何使用“ldifde”导入群组成员？

> ID：11465364
> 
> 赞同：2
> 
> 时间：2012-07-13T06:39:21.167
> 
> 标签：active-directory, windows-server-2003, ldif

我有两个域。一生产。一测试。两人之间没有信任。

我可以使用 ldifde 命令成功导入所有用户对象和组对象。当我尝试在我的导出/导入中也包括组成员时，我似乎无法成功导入。

以下是我尝试过的变体：

尝试1：

```
file format:
dn: CN=Group-name,OU=Groups,OU=Managed,DC=dev,DC=net
changetype: add
member: CN=USER1,OU=Users,OU=Managed,DC=dev,DC=net
member: CN=USER2,OU=Users,OU=Managed,DC=dev,DC=net

ldifde command used:
ldifde -i -k -f groupexp12072012-test.ldf -v

output:
Connecting to "DC"
Logging in as current user using SSPI
Importing directory from file "groupexp12072012-test.ldf"
Loading entries
1: CN=Group-name,OU=Groups,OU=Managed,DC=dev,DC=net

Add error on line 1: Object Class Violation
The server side error is "The object class attribute must be specified."
0 entries modified successfully.
An error has occurred in the program
No log files were written.  In order to generate a log file, please
specify the log file path via the -j option. 
```

尝试 2：将正确的 objectClass 添加到我的 ldifde 导入文件中：

```
file format:
dn: CN=Group-name,OU=Groups,OU=Managed,DC=dev,DC=net
changetype: add
objectClass: top
objectClass: group
member: CN=USER1,OU=Users,OU=Managed,DC=dev,DC=net
member: CN=USER2,OU=Users,OU=Managed,DC=dev,DC=net

ldifde command used:
ldifde -i -k -f groupexp12072012-test.ldf -v

output:
Connecting to "DC"
Logging in as current user using SSPI
Importing directory from file "groupexp12072012-test.ldf"
Loading entries
1: CN=Group-name,OU=Groups,OU=Managed,DC=dev,DC=net
Entry already exists, entry skipped

0 entries modified successfully.

The command has completed successfully 
```

尝试 3：删除现有组对象并使用与“尝试 2”相同的命令和格式：

```
Connecting to "DC"
Logging in as current user using SSPI
Importing directory from file "groupexp12072012-test.ldf"
Loading entries
1: CN=Group-name,OU=Groups,OU=Managed,DC=dev,DC=net
Object does not exist, entry skipped

0 entries modified successfully. 
```

所以我被困住了。显然 'ldifde' 可以用来导入组成员——我所有的同事都说它从来没有用过，但我偶然发现 MS 文章中说的不是这样； [http://social.technet.microsoft.com/Forums/nl/winserverDS/thread/089a3f3b-617f-4c66-a3fc-be543d97a612](http://social.technet.microsoft.com/Forums/nl/winserverDS/thread/089a3f3b-617f-4c66-a3fc-be543d97a612)

然后我偶然发现“5\. LDIFDE 不支持更改组成员资格。您可以使用 CSVDE 或 ADDUSERS.exe 或 DStools for Windows 2003 Editions。” 在这里：http: [//support.microsoft.com/kb/555634](http://support.microsoft.com/kb/555634)

我会无缘无故发疯吗？我会成功使用“ldifde”吗？

**编辑：**是的，我无缘无故地发疯了。我的一个目标用户实际上位于我为“ldifde”指定的不同 OU 中。正因为如此，'ldifde' 只会放弃并且不会将任何成员添加到组中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-16T06:17:06.270

这是一种将用户添加到现有组 ( `ldifde -i -k -f AddGrpMember.ldf -v` ) 的方法：

```
dn: CN=MonGrpSec,OU=MonOu,DC=dom,DC=fr
changeType: Modify
add: member
member: CN=jblanc,OU=MonOu,DC=dom,DC=fr
member: CN=Jean Paul Blanc,OU=MonOu,DC=dom,DC=fr
- 
```

以下是创建包含成员 ( `ldifde -i -k -f NewGrpWithMember.ldf -v` ) 的新组的方法：

```
dn: CN=NewGrpSec,OU=MonOu,DC=dom,DC=fr
changeType: Add
objectClass: top
objectClass: group
CN: NewGrpSec
member: CN=jblanc,OU=MonOu,DC=dom,DC=fr
member: CN=Jean Paul Blanc,OU=MonOu,DC=dom,DC=fr 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T13:52:58.177

如果组成员不存在，或者文件中的 dn 与目标组的 dn 不匹配，则组成员的 ldifde 导入失败。

对于我的测试域中的一些重要组，我用整个标题替换“成员：”来修改组。这样，任何单个组成员都不会阻止其他组成员导入。

简单查找和替换查找：member：替换为：-^p^pdn:CN=[groupname],OU=[ou name],OU=Domain Users,DC=TEST,DC=ORG^pchangetype: modify^padd:member ^p会员：

基本上，添加一个“-”，后跟一个空行，然后是标题行。

# silverlight - 向文本框添加依赖属性

> ID：11465366
> 
> 赞同：1
> 
> 时间：2012-07-13T06:39:25.843
> 
> 标签：silverlight, xaml, mvvm, dependency-properties

如何将依赖属性添加到文本框并将依赖属性绑定到银光中的布尔属性。我的布尔属性在我的视图模型中。

ImageSearchIsFocused 是允许我将焦点设置在文本框上的属性。

```
<TextBox  Text="{Binding ImgSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">   
    <i:Interaction.Behaviors>
        <common:FocusBehavior HasInitialFocus="True" IsFocused="{Binding ImageSearchIsFocused, Mode=TwoWay}" ></common:FocusBehavior>
    </i:Interaction.Behaviors>
</TextBox> 
```

ImageIsFocused 属性

```
bool _ImageSearchIsFocused;
public bool ImageSearchIsFocused
{
    get { return _ImageSearchIsFocused; }
    set
    { 
        _ImageSearchIsFocused = value;
        NotifyPropertyChanged("ImageSearchIsFocused");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T15:10:43.587

如果要添加依赖属性，您将拥有 TextBox 的子类并将依赖属性添加到您的子类。然后你可以把它绑定到你喜欢的任何东西上：

```
public class MyTextBox : TextBox
{ 

    public static readonly DependencyProperty MyBooleanValueProperty = DependencyProperty.Register(
        "MyBooleanValue", typeof(bool), typeof(MyTextBox),
        new PropertyMetadata(new PropertyChangedCallback(MyBooleanValueChanged)));
    public bool MyBooleanValue
    {
        get { return (bool)GetValue(MyBooleanValueProperty); }
        set { SetValue(MyBooleanValueProperty, value); }
    }

    private static void MyBooleanValueChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        var propValue = (bool)e.NewValue;
        var control = d as MyTextBox;

        // do something useful
    }

} 
```

# keyboard - Web 应用程序：对于 90% 仅使用键盘的 Web 应用程序，我应该使用什么技术？

> ID：11465367
> 
> 赞同：3
> 
> 时间：2012-07-13T06:39:27.787
> 
> 标签：keyboard

对于 90% 仅使用键盘的网络应用程序，我应该使用什么技术？

我想要一个大部分时间只使用键盘的网络应用程序。哪种技术可以为我提供这种便利？

我不在乎是java框架还是基于.net等的东西。:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:47:08.050

真的没关系。在网页上使用键盘是客户端行为/事件。如果事物的标准制表符排序和添加`tabindex`元素不能为您提供所需的控制，或者您有高级键盘操作，那么您将需要 javascript 来帮助您。

有 javascript 框架和插件可以提供帮助。

看：

*   [使用 JavaScript 处理键盘事件](http://www.webappers.com/2011/10/11/handling-keyboard-events-with-lightweight-javascript/)
*   [JS 热键](http://code.google.com/p/js-hotkeys/)
*   [jQee jQuery 键盘快捷键](http://codecanyon.net/item/jqee-keyboard-shortcuts-for-jquery/1930338)
*   [15 个 jQuery 键盘插件](http://webcache.googleusercontent.com/search?q=cache:43Y6nmWzbGgJ%3awww.jquery4u.com/plugins/15-keyboard-event-plugins/+&cd=4&hl=en&ct=clnk&gl=au)

# android - 表格布局 textview 对齐

> ID：11465371
> 
> 赞同：1
> 
> 时间：2012-07-13T06:39:47.610
> 
> 标签：android, tablelayout

在我的应用程序中，我正在显示一个表格布局，其中我连续对齐了 4 个文本视图。

我的表格布局是：（我不知道这是多么好的设计）

```
<TableLayout 
    android:id="@+id/tablelayout"
    android:layout_height="wrap_content"
    android:layout_width="fill_parent"
    android:paddingRight="2dip"
    android:stretchColumns="4">
    <TableRow >
        <TextView 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Income" />
        <TextView
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Expense" 
            android:layout_marginLeft="-150dp" />
    </TableRow>    
    <TableRow
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <View
            android:id="@+id/line1"
            android:layout_width="wrap_content"
            android:layout_height="1dip"
            android:layout_weight="1"
            android:background="#FF909090"
            android:padding="2dip" />
    </TableRow>
    <TableRow 
        android:id="@+id/tablerowhouse"   
        android:layout_marginTop="30px">
        <TextView  
            android:id="@+id/text40" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Household:" />            
        <TextView             
            android:id="@+id/houseinctot" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Household:" 
            android:layout_marginLeft="-250dp" />   
        <TextView 
            android:id="@+id/text41" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Household:" 
            android:layout_marginLeft="-150dp" />          
        <TextView
            android:id="@+id/houseexptot" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Household:" 
            android:layout_marginLeft="-70dp" 
            android:gravity="right"/>
    </TableRow>

    <TableRow
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
        <View
            android:id="@+id/line1"
            android:layout_width="wrap_content"
            android:layout_height="1dip"
            android:layout_weight="1"
            android:background="#FF909090"
            android:padding="2dip" />
    </TableRow>
    <TableRow 
        android:layout_marginTop="30px">
        <TextView
            android:id="@+id/text42" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Travel:" 
            android:layout_span="3" />    
        <TextView
            android:id="@+id/trlinctot"
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Travel" 
            android:layout_marginLeft="-250dp" 
            android:layout_alignParentRight="true" /> 
        <TextView  android:id="@+id/text43" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Travel:" 
            android:layout_marginLeft="-150dp" />           
        <TextView             
            android:id="@+id/trlexptot" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Travel:" 
            android:layout_marginLeft="-70dp"  
            android:gravity="right" />    
    </TableRow>
    <TableRow
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
        <View
            android:id="@+id/line1"
            android:layout_width="wrap_content"
            android:layout_height="1dip"
            android:layout_weight="1"
            android:background="#FF909090"
            android:padding="2dip" />
    </TableRow>

     <TableRow  android:layout_marginTop="30px">
 <TextView  android:id="@+id/text44" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Education:" android:layout_span="4">
     </TextView>     
      <TextView
           android:id="@+id/eduinctot"
           android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Education" android:layout_marginLeft="-250dp" android:layout_alignParentRight="true">
     </TextView>  

           <TextView  android:id="@+id/text45" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Education:" android:layout_marginLeft="-150dp" >
     </TextView>            
        <TextView             
            android:id="@+id/eduexptot" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Education:" android:layout_marginLeft="-70dp"  android:gravity="right"
            >
     </TextView>    
 </TableRow>

         <TableRow
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <View
                android:id="@+id/line1"
                android:layout_width="wrap_content"
                android:layout_height="1dip"
                android:layout_weight="1"
                android:background="#FF909090"
                android:padding="2dip" />
        </TableRow>

        <TableRow  android:layout_marginTop="30px">
 <TextView  android:id="@+id/text46" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Group4:" android:layout_span="4">
     </TextView>     
      <TextView
           android:id="@+id/grp4inctot"
           android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="group4" android:layout_marginLeft="-250dp">
     </TextView>  

           <TextView  android:id="@+id/text47" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Group4:" android:layout_marginLeft="-150dp" >
     </TextView>            
        <TextView             
            android:id="@+id/grp4exptot" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="group4:" android:layout_marginLeft="-70dp"  android:gravity="right"
            >
     </TextView>    
 </TableRow> 

            <TableRow
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <View
                android:id="@+id/line1"
                android:layout_width="wrap_content"
                android:layout_height="1dip"
                android:layout_weight="1"
                android:background="#FF909090"
                android:padding="2dip" />
        </TableRow>

             <TableRow  android:layout_marginTop="30px">
 <TextView  android:id="@+id/text48" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Group5:" android:layout_span="4">
     </TextView>     
      <TextView
           android:id="@+id/grp5inctot"
           android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="group5" android:layout_marginLeft="-250dp">
     </TextView>  

           <TextView  android:id="@+id/text49" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Group5:" android:layout_marginLeft="-150dp" >
     </TextView>            
        <TextView             
            android:id="@+id/grp5exptot" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="group5:" android:layout_marginLeft="-70dp"  android:gravity="right"
            >
     </TextView>    
 </TableRow> 
```

现在我想要的是：

```
textview1:value(textview2)     textview3:value(textview4)
textview5:value(textview6)     textview7:value(textview8) . 
```

我应该右对齐 textview2 和 textview6（在屏幕的一半内）并且应该右对齐 textview6 和 textview8

```
 What i have:                         What i want:
    12345   4565                         12345    4565
    12        56                            12      56
    56        44                            56      44  
    6          6                             6       6 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:51:06.587

你应该使用一个`relative layout`你有 ALIGN_PARENT_RIGHT 选项的地方。

像这样的东西

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal"
    android:paddingLeft="5dip"
    android:paddingRight="5dip"
    android:paddingTop="8dip"
    android:paddingBottom="8dip"
>

<TextView  
    android:id="@+id/tv_name"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:text="turn on" 
/>

<CheckBox 
    android:id="@+id/chekcbox"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    /> 
</RelativeLayout> 
```

`android:layout_alignParentRight="true"`会把你放在`textview`最右边。一旦它对我有用，就试试吧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:25:38.643

试试这个布局。这行得通。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_label"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="123456" />
        </RelativeLayout>

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_amount"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="1234" />
        </RelativeLayout>

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_amount1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="123456" />
        </RelativeLayout>
    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_label1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="16" />
        </RelativeLayout>

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_amount3"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="1" />
        </RelativeLayout>

        <RelativeLayout
            android:layout_width="100dp"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/summary_amount4"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:text="1" />
        </RelativeLayout>
    </LinearLayout>

</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:42:34.393

`android:gravity="right"`您在所有 Textview 中编写属性。

# javascript - 等到重定向完成

> ID：11465372
> 
> 赞同：1
> 
> 时间：2012-07-13T06:39:47.857
> 
> 标签：javascript, jquery, ajax

我想知道是否可以在 jquery\javascript 中等到重定向完成后再触发回调函数。

我的代码如下所示，一切都很好，直到登录用户的帖子的回调，当验证完成后，页面不幸被重定向，帖子请求触发了成功回调函数，因此我结束了获取“页面重定向..”而不是它应该重定向到的页面。

```
$(document).ready(function(){   
    $("#submit").click(function(){
        var url = "https://domain/login";

        $.ajax({
            url: url,
            type: "GET",
            dataType: "html",
            success: onGetFormSuccess,
            error: function(data) {
                alert('failed.');
            }
        });
    }); 

    function onGetFormSuccess(data) {
        var url = "https://domain/login";
        var parser = new DOMParser();
        doc = parser.parseFromString(data, "text/html");

        var inputs = doc.getElementById("formid").getElementsByTagName("input");
        var params = new Object();

        for (var i = 0; i < inputs.length; i++) {               
            if (inputs[i].name == "user")
                params[inputs[i].name] = $("#username").val();
            else if (inputs[i].name == "pass")
                params[inputs[i].name] = $("#password").val();
            else 
                params[inputs[i].name] = inputs[i].value;
        }

        $.ajax({
            url: url,
            type: "POST",
            data: params,
            success: onLoginSuccess,
            error: function(data) {
                alert('failed.');
            }
        });
     }

     function onLoginSuccess(data) {
         alert(data);
     }
}); 
```

# java - 我如何实例化？包含代码

> ID：11465373
> 
> 赞同：4
> 
> 时间：2012-07-13T06:39:53.697
> 
> 标签：java, interface

编译器不允许我将 <X,Y> 保留在最后一行，我不明白为什么。

我如何获得这样一个通用的结构来编译？

我尝试将代码更改为：

```
 X a = new A<X,Y>(); // "Type mismatch: cannot convert from A<X,Y> to X" 
 Y b = new B<X,Y>(); // "Type mismatch: cannot convert from B<X,Y> to Y" 

 W<X,Y> s = new M<X,Y>(a,b); // no error 
```

我有点迷路 - 请帮忙！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T06:49:17.277

的构造函数`M< X, Y >`期望接收 an`X`和 a `Y`，但您试图给它 an`IA< X, Y >`和 a `IB< X, Y >`。必要的关系被颠倒了；`X`是`IA< X, Y >`，但反之则不然，对于`Y`.

以下编译，但似乎对您所追求的限制不够：

```
class A<X extends IA<X,Y>, Y extends IB<X,Y>> implements IA<X,Y>{}
class B<X extends IA<X,Y>, Y extends IB<X,Y>> implements IB<X,Y>{}
interface IA<X extends IA<X,Y>, Y extends IB<X,Y>> {}
interface IB<X extends IA<X,Y>, Y extends IB<X,Y>> {}

class M<X extends IA<X,Y>, Y extends IB<X,Y>> extends W<X,Y>{
    public M(IA<X,Y> x, IB<X,Y> y){} // this is the only change
}

class W<X extends IA<X,Y>, Y extends IB<X,Y>> {}

//To my check class code:

public <X extends IA<X,Y>, Y extends IB<X,Y>> void check() {
    IA<X,Y> a = new A<X,Y>();
    IB<X,Y> b = new B<X,Y>();

    W<X,Y> s = new M<X,Y>(a,b);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T20:00:14.377

这个问题涉及许多没有意义的通用约束。`M<X,Y>`的构造函数接受类型参数`X`和`Y`，它们是泛型方法的类型参数`check`（这意味着调用者可以决定`X`并`Y`成为任何东西，这仍然需要工作）。那么为什么你期望`a`和`b`（或其他任何事情）是正确的类型？

如果您想问如何更改泛型约束以使其工作，这里有一个更简单的东西（它只是更改泛型（但保持原样）而不是原始的其他东西），它可以编译，并且可能更接近`W`什么`M`无论如何你想要：

```
public interface IA<X, Y> {}
public interface IB<X, Y> {}

public class A implements IA<A,B>{}
public class B implements IB<A,B>{}

public class M<X extends IA<X,Y>, Y extends IB<X,Y>> extends W<X,Y>{
    public M(X x, Y y){}
}
public class W<X extends IA<X,Y>, Y extends IB<X,Y>> {}

//To my check class code:

public void check() {
    A a = new A();
    B b = new B();

    W<A,B> s = new M<A,B>(a,b);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T13:55:28.750

虽然我看到你不想这样做：

```
@SuppressWarnings("unchecked")
W<X,Y> s = new M<X,Y>((X) a,(Y) b); 
```

确实有效。

正如 Mental 法官所说，您的问题过于抽象，我们很难提供有意义的帮助。例如，在`check`方法中，您正在创建`new A<X,Y>()`. 这意味着什么？你没有定义`X`and `Y`。实际代码中永远不会有这样的方法。

# php - Ajax 关联数组

> ID：11465377
> 
> 赞同：1
> 
> 时间：2012-07-13T06:40:22.487
> 
> 标签：php, javascript, html, ajax

我对关联索引和javascript的方式感到困惑。

在我的 javascript 中，我这样做：

```
$("input[type=button]").click(function () {
    var checked = {};
    $('input[type=checkbox]').each(function() {
        if ($(this).is(':checked')) {
            checked[$(this).attr('name')] = $(this).val();
        }
    });

    var value = [];
    value.push($(this).siblings("input[type=text]").val());

    $.ajax({ url: "scripts/php/generatehtml.php",
        data: {action: value},
        type: 'post',
        dataType: "json",
        success: ...<cut for brevity>}); 
```

所以在我的 PHP 代码中，我这样做：

```
if (isset($_POST['action']) && !empty($_POST['action'])) {
    var_dump($_POST['action']);
} 
```

得到这个：

```
array(1) {
[0]=>
  string(5) "12277"
 } 
```

如您所见，这是一个索引数组，我想要一个关联数组。但是每当我做类似的事情时：

```
value['id'] = $(this).siblings("input[type=text]").val() 
```

什么都没有发送。

我对 Ajax 不是很好，这里的任何帮助都会非常棒！

注意：我确实看过其他 ajax 数组答案，但我认为他们没有回答我的问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:42:53.447

如果您想要一个关联数组，请将您的变量初始化为一个。这样，您可以添加与特定属性相对应的值，如下所示：

```
var value = {};
value['id']=$(this).siblings("input[type=text]").val(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:45:11.130

您不能在 JS 中使用关联索引数组。

您可以改用 JS 对象：

```
var value = {}; 
```

然后你可以这样做：

```
value['id'] = $(this).siblings("input[type=text]").val() 
```

或者

```
value.id = $(this).siblings("input[type=text]").val() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:09:53.467

只是一个评论：

```
 if ($(this).is(':checked')) { 
        checked[$(this).attr('name')] = $(this).val();
    } 
```

可以替换为：

```
 if (this.checked) {
      checked[this.name] = this.value;
    } 
```

# java - 使用JComboBox在JTable中显示

> ID：11465380
> 
> 赞同：2
> 
> 时间：2012-07-13T06:40:36.517
> 
> 标签：java, netbeans, jtable, persistence, jdesktop

我试图使用组合框在表格中显示内容。我写了下面的代码，但表中没有显示任何内容。

```
Integer i = ((Destination) (jComboBox1.getSelectedItem())).getId();
query1 = entityManager.createQuery("SELECT d FROM Dayactivity d WHERE d.id=:Id");
query1.setParameter("Id", i);
java.util.Collection data = query1.getResultList();
list2.clear();
list2.addAll(data); 
```

当我更改如下代码时，它正确返回数据并显示在表格中。

```
Integer i = ((Destination) (jComboBox1.getSelectedItem())).getId();
query1 = entityManager.createQuery("SELECT d FROM Dayactivity d WHERE d.id=:Id");
query1.setParameter("Id", 2);
java.util.Collection data = query1.getResultList();
list2.clear();
list2.addAll(data); 
```

为什么它不适用于第一个代码（i）但适用于第二个代码中的 2？

有人可以帮我解决这个问题吗，我是 Java 和 NetBeans 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:43:01.237

将初始化方式更改`i`为：

`int i = jComboBox1.getSelectedIndex();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:46:50.627

执行以下操作之一：

*   调试代码以查看 i 的实际值：

如果 i 为空，那么您需要更改访问组合框的选定 ID 的方式，如下所示：

```
Integer i = ((Destination) jComboBox1.getSelectedIndex(); 
```

*   您需要检查他的方法的参数：

    1.  query1.setParameter(String, int); 或者
    2.  query1.setParameter(String, Integer);

# cygwin - 使用 diff 执行两个几乎相似文件的行号之间的映射

> ID：11465382
> 
> 赞同：4
> 
> 时间：2012-07-13T06:40:38.547
> 
> 标签：cygwin, diff

我有一个文本文件及其更新版本。我需要使用 diff 命令来发现两个文本文件之间的行号差异。有什么方法可以直接获取行号之间的映射。目前我使用这个代码 diff -ab file1 file2 这输出我

```
15a16
> 
27c28,30
< parameter [3:0] state12=4'b 1011;
---
> parameter [3:0] state12=4'b 1011;
> parameter [3:0] state13=4'b 1100;
> parameter [3:0] state14=4'b 1101;
55c58,59
<           next_state = state02;

however i would like something on these lines
1,1
2,3
3,4
4,6 
```

其中第一个数字是file1中的行号，第二个数字是file2中相应的行号。否则我将不得不在python中编写一个脚本来解码a，cd的使用提前谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T22:52:09.563

为此，您需要一个能够识别代码何时移动的差异工具，而不仅仅是被插入/删除。

我们的[Smart Differencer](http://wwww.semanticdesigns.com/Products/SmartDifferencer)系列工具可以做到这一点。SmartDifferencers 使用真正的解析器解析代码文本，然后匹配短语被移动/复制/修改的位置。输出标识了每个以某种方式更改的原始代码块，精确到行号和列号，代码是否已被删除、移动、复制等。许多标准编程语言都有 SmartDifferencers（您似乎使用 Verilog，并且是的，有一个）。

您仍然需要一个脚本来将 SmartDifferencer 输出转换为您正在寻找的形式。

# asp.net - 通过数据库中的excel表上传多个数据。

> ID：11465392
> 
> 赞同：1
> 
> 时间：2012-07-13T06:41:48.120
> 
> 标签：asp.net, database, excel

嘿伙计们，我有一个带有字段的数据库， `Name,Email,Contact,Address,Profile`并且我创建了一个包含这些字段和数据的 Excel 表（100 个条目）。现在我想使用 File-upload Control 来浏览这些 excel 工作表并单击 Button Control 它会自动将 excel 工作表数据填充到数据库中。

所以任何有想法的人请与我分享。我尝试了很多，但没有找到解决方案。因此，请分享您的宝贵指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:01:57.403

查看[Excel 数据阅读器](http://exceldatareader.codeplex.com/)项目。有了这个，您可以非常轻松地将 Excel 文件（较旧的二进制格式或较新的 OpenXML 格式）转储到`DataSet`.，此时您可以对数据做任何您想做的事情。这是我在以前的项目中用作概念证明的一些示例代码：

```
private static DataSet ImportDataFromExcelFile()
{
    DataSet dataFromExcelFile = null;

    // Try importing the file as OpenXML
    using (var excelFile = File.Open(excelFileName, FileMode.Open, FileAccess.Read))
    {
        using (var excelReader = ExcelReaderFactory.CreateOpenXmlReader(excelFile))
        {
            excelReader.IsFirstRowAsColumnNames = true;
            dataFromExcelFile = excelReader.AsDataSet();
        }
    }

    if (dataFromExcelFile != null)
        return dataFromExcelFile;

    // Try importing the file as Excel 97-2003
    using (var excelFile = File.Open(excelFileName, FileMode.Open, FileAccess.Read))
    {
        using (var excelReader = ExcelReaderFactory.CreateBinaryReader(excelFile))
        {
            excelReader.IsFirstRowAsColumnNames = true;
            dataFromExcelFile = excelReader.AsDataSet();
        }
    }

    if (dataFromExcelFile != null)
        return dataFromExcelFile;

    throw new Exception("Unable to determine format of Excel file.");
} 
```

首先，它尝试以更现代的格式读取 Excel 文件。如果失败，它将尝试使用较旧的格式。如果失败，它会放弃并抛出异常。

# sql - 如何将小时数添加到 SQL Server 的“GetDate()”函数的结果中？

> ID：11465393
> 
> 赞同：23
> 
> 时间：2012-07-13T06:41:54.103
> 
> 标签：sql, sql-server-2008

我想`getdate()`在 SQL SERVER 的结果中增加 2 小时。我知道我可以添加一天：

```
select getdate() + 1 
```

但是，当想要增加小时数时，这是如何完成的`getdate()`呢？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-07-13T06:43:43.190

```
select dateadd(hour,2,getdate()) 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-13T06:50:49.880

```
Select GETDATE() + (Convert(float,2)/Convert(float,24)) 
```

或以其他方式

```
Select DateAdd(HH,2,Getdate()) 
```

# seo - 微博的SEO解决方案？

> ID：11465394
> 
> 赞同：0
> 
> 时间：2012-07-13T06:41:57.897
> 
> 标签：seo, microblogging

我们都听说过微博的好处，但是如果我们有一个微博并想提升它的搜索引擎优化呢？

微博最大的问题是关键字之间不相关，每个主题都有少量相关的关键字。

例如，如果我们有一个微博，其中包含有关计算机科学所有领域的简短提示，以及一个发布该领域文章的博客。

带下划线的博客有更好的机会出现在SERP中，而带下划线的微博则没有机会，因为它的关键字有限。

我是对的，这些微博的 SEO 解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-27T21:32:48.860

理论上，关键词多的博客比关键词少的微博排名更高，因为博客内容更多。

对于许多 seo 上瘾者来说，内容为王！无论网站是否支持，最重要的是始终拥有更多的内容（以及关键字）。

在我看来，博客在 seo 方面比微博更强大。

# java - 如何从java运行vbscript函数？

> ID：11465400
> 
> 赞同：3
> 
> 时间：2012-07-13T06:42:21.810
> 
> 标签：java, vbscript, powerpoint

从 java 代码中，我可以使用此代码运行 vbscript

```
Runtime.getRuntime().exec("wscript C:\\ppt\\test1.vbs "); 
```

但是想知道如何从java中调用vbscript的方法..例如在test1.vbs

```
Set objPPT = CreateObject("PowerPoint.Application")
    objPPT.Visible = True
    Set objPresentation = objPPT.Presentations.Open("C:\ppt\Labo.ppt")
    Set objSlideShow = objPresentation.SlideShowSettings.Run.View
    sub ssn1()
      objPPT.Run "C:\ppt\Labo.ppt!.SSN"
    End sub 
```

如何从 java 中仅调用 ssn1() 方法。否则我们可以从 java 代码中运行 power point 的宏。请帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:04:08.923

这应该会让你开心 :) 转到 WScript 部分：[http ://technet.microsoft.com/library/ee156618.aspx](http://technet.microsoft.com/library/ee156618.aspx)

这是我的想法...在您的 vbscript 文件中，让您的脚本监听一个命令行参数，该参数将指定要调用的方法。然后，在 Java 中，您只能在想要调用文件中的特定方法时使用此参数。

否则，如果您想在 java 中访问 powerpoint，您将需要像在 vbscript 中那样访问它的 API，如果 vbscript 可以做到这一点，这是可能的，但方法/语法可能会改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:49:06.177

我对 Visual Basic 脚本方面不太感兴趣，但是如果您可以将 Visual Basic 脚本公开为 COM 对象，则可以通过使用框架（例如 com4j）从 java 访问它的方法：

[http://com4j.java.net/](http://com4j.java.net/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T12:16:44.013

PowerPoint 应用程序对象的 .Run 方法允许您在任何打开的演示文稿或加载的加载项中调用任何公共子例程或函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T15:05:25.227

这篇文章回答了OP的问题：

> *否则我们可以从java代码运行power point的宏......请帮助！*

*（但没有解决原来的 vbscript 问题）*

有代表 Java COM Bridge 的 JACOB 库，你可以在这里找到：http: [//sourceforge.net/projects/jacob-project/ ?source=directory](http://sourceforge.net/projects/jacob-project/?source=directory)

有了它，您可以调用 Excel、Word、Outlook、PowerPoint 应用程序对象模型方法。

我用 Excel 试过这个，但不是 PowerPoint。（这只是一些示例代码，可能希望使其更加面向对象。）

```
public class Excel {
    private static ActiveXComponent xl = null;

    public static Init() {
        try {
            ComThread.InitSTA();
            xl = ActiveXComponent.connectToActiveInstance("Excel.Application.14"); 
            // 14 is Office 2010, if you don't know what version you can do "Excel.Application"
            if (xl==null) {
                // code to launch Excel if not running:
                xl = new ActiveXComponent("Excel.Application");
                Dispatch.put(xl, "Visible", Constants.kTrue);
            }
        }
        catch (Exception e) {
            ComThread.Release();            
        }
    }

    public static String Run(String vbName) {
        // Variant v = Dispatch.call(xl, "Run", vbName);    // using string name lookup
        Variant v = Dispatch.call(xl, 0x103, vbName);       // using COM offset
        // return Dispatch.get(this, "Name").getString();
        return v.getString();       
    }

    public static Variant Run1p(String vbName, Object param) {
        // Variant v = Dispatch.call(xl, "Run", vbName, param);
        return Dispatch.call(xl, 0x103, vbName, param);
        // return Dispatch.get(this, "Name").getString();
    }

    public static Worksheet GetActiveWorksheet () {
        // Dispatch d = xl.getProperty("ActiveSheet").toDispatch();
        Dispatch d = Dispatch.get(xl, 0x133).toDispatch ();
        return d; // you may want to put a wrapper around this...
    }
} 
```

笔记：

至少对于 Excel，要让 Run 调用 VBA 宏/子例程，必须满足以下条件：

1.  包含宏的 Excel 工作簿必须是“Active”（即必须是 ActiveWorkbook），否则 Run 将找不到 VBA 子例程。（但是工作簿不必在屏幕上可见！！这意味着您可以调用加载项中的 VBA 宏！）。
2.  然后，您可以使用以下语法将宏的名称作为字符串文字传递：

> VBAProjectName.VBAModuleName.SubroutineName

对于 COM 对象调用，您可以使用名称查找版本或 ID 编号版本。id 编号来自已发布的 COM 接口（您可以在 C++ 头文件中找到，或者可能让 JACOB 为您查找它们）。

如果您成功连接到 Excel，请务必在完成后调用 ComThread.Release()。最后把它放在一些适当的环境中。如果你的 Java 代码进程没有调用就终止了，Excel 上的 COM 引用计数就会出错，而且 Excel 进程永远不会终止，即使你退出 Excel 应用程序也是如此。一旦发生这种情况，不用说，Excel 就会开始表现得很糟糕（当你接下来尝试使用它时，它会运行但无法加载任何插件/附加组件）。如果发生这种情况（因为它可以在调试期间，尤其是如果您绕过 finally 以进行更好的调试），您必须使用任务管理器来终止 Excel 进程。

# jquery - 如何在鼠标悬停时显示选择框选项？

> ID：11465402
> 
> 赞同：0
> 
> 时间：2012-07-13T06:42:31.363
> 
> 标签：jquery, select, mouseover

我有一个下拉选择框，其中有一些选项。当我们单击下拉菜单时，下拉菜单会展开并显示所有选项。

但我希望使用鼠标悬停而不是单击来实现此功能。

我想在鼠标悬停时显示所有选项。任何人对此有一些想法？

**更新**

我正在使用 styledSelect jQuery 插件。现在这个插件将 html 选择框转换为基于 div 和 li 的选择框。 [这是插件文档](http://code.google.com/p/lnet/wiki/jQueryStyledSelectOverview)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:49:54.793

我知道这并不完全是您的想法，但它可能是正确的方向。

```
function toggleSelectBox(selbox) {
    if (selbox.size > 1) { //HIDE:
        selbox.size = 1;
        selbox.style.position = 'static';
    } else { //SHOW:
        selbox.size = selbox.options.length;
        selbox.style.position = 'absolute';
        selbox.style.height = 'auto';
    }
}

<select id="type" name="type" onmouseout="toggleSelectBox(this)" onmouseover="toggleSelectBox(this)">
    <option value="">opt1</option>
    <option value="">opt2</option>
    <option value="">opt3</option>
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:51:01.233

您需要使用 CSS 来完成您的任务。你不能用 html 的经典选择框来做到这一点。这是您想要的[示例。](http://jsfiddle.net/bk2HA/8/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:54:04.557

我认为您只能使用您的选择作为 DOM 树的一部分来构建一些带有此“选项”信息的 mouseOver 放置 div，您可以作为选择子项访问这些信息。所以我认为你可能只在 mouseOver 上模拟选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-14T12:12:46.083

另一件事，您引用脚本文件的顺序也起作用，而不是在添加对您创建的 js 文件的引用以覆盖该函数之前拥有您的 jquery 文件。由于某些奇怪的原因，它会起作用，但不能在野生动物园中使用

# coldfusion - ColdFusion 8 查询问题

> ID：11465406
> 
> 赞同：2
> 
> 时间：2012-07-13T06:42:35.950
> 
> 标签：coldfusion, sybase

我正在使用 ColdFusion 8 并使用 SELECT Count(dog) 作为东西构建了查询。这在一页上运行良好，但是当我使用它时，当然会更改参数，这会使我的服务器陷入困境。我只需要计算 db 表中的项目，返回有多少狗、猫、羊等，并显示数量和名称。第一次使用 SELECT Count 完成了它，但这次似乎无法让它工作。有没有办法不使用 Count() 来做同样的事情？忘了提到我使用的是旧的 Sybase 数据库......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:11:13.267

can't you do the following...

```
<cfquery name="getpetstuff" datasource="mydatabase" timeout="30">
Select dogs, count(*) as mycount 
  from allpets
group by dogs
</cfquery> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T21:28:39.123

向表添加索引将解决 MS-SQL 中的许多性能问题，它源于 Sybase。

尝试添加一个仅包含 allpets 表中的狗的索引。

# quartz-scheduler - Quartz Scheduler 具有重复计数和工作日或随机天数的每周计划

> ID：11465408
> 
> 赞同：3
> 
> 时间：2012-07-13T06:42:37.037
> 
> 标签：quartz-scheduler

我正在为我的 web 应用程序实现 Quartz 调度程序。我必须在星期一安排每周一次，星期二重复 3 周

Quartz调度器中的两种方式，

1）简单触发器：

```
Trigger trigger = newTrigger()
.withIdentity("trigger1","group1")
.startAt(runTime)
.withSchedule(weeklyOnDayAndHourAndMinute(DateBuilder.MONDAY,10,10))            
.build(); 
```

在这里我只能在weeklyOnDayAndHourAndMinute 方法中提及一个工作日，我不能提及多个工作日

2）Cron触发器：

```
Trigger trigger = newTrigger()
.withIdentity("trigger1","group1")
.startAt(runTime)           
.withSchedule(cronSchedule("0 10 15 ? * MON-FRI"))          
.build() 
```

在这里我不能提到重复计数或重复间隔

请指导我正确的方向。提前致谢..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T20:27:19.940

你试过了吗 ：

```
newTrigger().withIdentity("trigger1", "group1").startAt(runTime)  
               .withSchedule(DailyTimeIntervalScheduleBuilder.dailyTimeIntervalSchedule().onDaysOfTheWeek(2, 3).withRepeatCount(2)).build(); 
```

# eclipse - 在 Eclipse 中向项目添加注释

> ID：11465415
> 
> 赞同：3
> 
> 时间：2012-07-13T06:43:01.867
> 
> 标签：eclipse, eclipse-project-file

Eclipse .project 文件中有一个“注释”标签，但是，尽管（使用 Eclipse 多年）在 Eclipse 帮助中进行了大量的谷歌搜索和搜索，但我无法找到指定、显示和/或编辑的方法此字段（除了直接编辑 .project 文件）。（不，“项目-> 属性”似乎没有提供任何解决方案）

我想用它在项目清单工具中将描述链接到我的（现在相当多的）Eclipse 项目。（能够在 Eclipse 窗口中显示/编辑它们也很好）。

感谢您对这个问题的任何提示（如果它似乎是一个微不足道的问题，我们很抱歉）。

亲切的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-02T07:54:39.543

查看 Eclipse 源代码，除了实际编辑 .project 文件之外，似乎没有任何方法可以设置 .project 注释字段。

Eclipse 将保留以这种方式设置的任何注释，但不会在任何地方显示该注释。

# iphone - 如何创建通过简单触摸调用的各种按钮

> ID：11465416
> 
> 赞同：1
> 
> 时间：2012-07-13T06:43:03.300
> 
> 标签：iphone, ios, xcode, uibutton

我必须制作一个包含大约 20 个按钮的应用程序，如果我从一个按钮切换到另一个按钮而不移除触摸（即通过拖动触摸）我想在我进入该按钮的框架区域时调用该函数。
例如：
![在此处输入图像描述](../Images/e0e0e90342d6d052b637d526e83a94b1.png)
当我将触摸从按钮的标签 10 拖动到按钮的标签 11 时，它应该调用按钮的标签 11 选择器方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:46:03.643

您应该使用以下方式注册事件。

```
 [button addTarget:self action:@selector(aMethod:) forControlEvents:UIControlEventTouchDragEnter]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:50:01.653

我认为你不能用`UIButtons`. 但我对此有一个建议可能对你有帮助。添加`Images`而不是`Buttons`设置那些`userIntractionEnable:NO`然后在`touchesMoved`方法中，您可以通过与坐标`@selector`进行比较来调用您的方法。`X,Y`

我为此写了一个小代码-

```
//I added your example image on my self.view with a view
//of 320x140 and set it userIntractionEnabled:NO
//Now in touchMoved: method did this..

-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [[event allTouches] anyObject];
    CGPoint pt = [touch locationInView:self.view];

    //checking the touch is in self.view or not
    if([touch view] == self.view)
    {
        //This is like a 2D array, So you have to follow row and column pattern.
        if((pt.y>=0.0 && pt.y<=70.0))//For First Row
        {
            //These 7 are FirstRow Columns
            if(pt.x>=0.0 && pt.x<=45.0){
             NSLog(@"Method - 10");
            }
               if(pt.x>=46.0 && pt.x<=90.0){
                NSLog(@"Method - 11");
            }
            if(pt.x>=91.0 && pt.x<=135.0){
                NSLog(@"Method - 12");
            }

            if(pt.x>=136.0 && pt.x<=180.0){
                NSLog(@"Method - 13");
            }

            if(pt.x>=181.0 && pt.x<=225.0){
                NSLog(@"Method - 14");
            }

            if(pt.x>=226.0 && pt.x<=270.0){
                NSLog(@"Method - 15");
            }

            if(pt.x>=271.0 && pt.x<=315.0){
                NSLog(@"Method - 16");
            }

        }
        //Row change this is for Second Row
        if((pt.y>=71.0 && pt.y<=140.0))
        {
            //These 7 are SecondRow Columns
            if(pt.x>=0.0 && pt.x<=45.0){
            NSLog(@"Method - 17");
            }
            if(pt.x>=46.0 && pt.x<=90.0){
                NSLog(@"Method - 18");
            }
            if(pt.x>=91.0 && pt.x<=135.0){
            NSLog(@"Method - 19");
            }

            if(pt.x>=136.0 && pt.x<=180.0){
                NSLog(@"Method - 20");
            }

            if(pt.x>=181.0 && pt.x<=225.0){
            NSLog(@"Method - 21");
            }

            if(pt.x>=226.0 && pt.x<=270.0){
            NSLog(@"Method - 22");
            }

            if(pt.x>=271.0 && pt.x<=315.0){
                NSLog(@"Method - 23");
            }

        }

    }
} 
```

希望对你有帮助 ！！！！:-)

# javascript - 简单的 onclick 应用于不工作的 IE 和 FF

> ID：11465417
> 
> 赞同：1
> 
> 时间：2012-07-13T06:43:05.763
> 
> 标签：javascript, html, css, internet-explorer, firefox

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:15:48.117

如果您不想要链接，请不要使用 A 元素，而是使用按钮或样式跨度，例如

```
<style type="text/css">
  .clickable:hover {
    text-decoration: underline;
    cursor: pointer;
  }
 </style>
 ...
 <span class="clickable">thing to click</span> 
```

无论如何，链接的首选方法是：

```
<a href="http://link for script-disabled browsers" 
   onclick="myFunction(); return false;">...</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:18:38.230

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-13T07:07:22.720

您可能想尝试这样的事情：

```
 <a href="javascript: alert('clicked!!')">Default Categories</a> 
```

# android - 如何在 ScrollView 中逐渐显示图像？

> ID：11465422
> 
> 赞同：1
> 
> 时间：2012-07-13T06:43:26.240
> 
> 标签：android, xml, android-imageview, android-scrollview

是否有任何过程在运行时逐渐增加 ScrollView 的高度。我的意图是逐渐显示 ScrollView 内的图像。所以我想增加 ScrollView 的高度。有什么办法可以完成我的工作吗？？请帮帮我。我的 XmlFile 的内容是：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/rootLayout"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" >

    <ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="wrap_content"
        android:layout_height="80dp"
        android:scrollbars="none"
        android:layout_x="0dp"
        android:layout_y="0dp"
        android:fillViewport="true" >

        <LinearLayout
            android:id="@+id/linearLayout1"
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_x="0dp"
        android:layout_y="0dp"
        android:src="@drawable/background" />
        </LinearLayout>

    </ScrollView>

    </LinearLayout> 
```

我的代码是：

```
final Timer timer = new Timer();
    timer.scheduleAtFixedRate(new TimerTask() {
        public void run() {
          runOnUiThread(new Runnable()
            {
                public void run() {

                    secondCounter++;
                    yourNewHeight += 10;
                    // sv is object of scroll view
                    sv.getLayoutParams().height = yourNewHeight;

                    root.invalidate(); // root is rootview

                    if(secondCounter == 20){
                        timer.cancel();
                    }
                }
            });
        }
    }, delay, period); 
```

这是我的屏幕截图：

![在此处输入图像描述](../Images/7b8a39b52f9d3fbd5e5632cb74f78646.png)

模糊图像在 Scrollview 中，并且随着 ScrollView 的高度增加，模糊图像逐渐显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:50:14.590

我已经编辑了你的代码..

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rootLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

<ScrollView
    android:id="@+id/scrollView1"
    android:layout_width="fill_parent"
    android:layout_height="80dp">

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width=" fill_parent"
        android:layout_height="wrap_content" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" 
    android:src="@drawable/background" />
    </LinearLayout>

</ScrollView> 
```

让我知道是否已完成此操作.. 好的..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:09:51.580

您可以使用[`setLayoutParams(..)`](http://developer.android.com/reference/android/view/View.html#setLayoutParams%28android.view.ViewGroup.LayoutParams%29)以编程方式设置宽度和高度。查看*mao在*[这里](https://stackoverflow.com/questions/4805261/android-programmatically-specify-height-and-width-of-new-scrollview)给出的问题和解决方案。

# c# - Get List of weeks by giving year and month as parameter C#

> ID：11465426
> 
> 赞同：-3
> 
> 时间：2012-07-13T06:43:43.933
> 
> 标签：c#

I need list of weeks with starting and ending dates by giving int year and int month,

Example Result,

Week1 = 7/1/2012 to 7/1/2012

Week2 = 7/2/2012 to 7/8/2012

Week3 = 7/9/2012 to 7/15/2012

Week4 = 7/16/2012 to 7/22/2012

Week5 = 7/23/2012 to 7/29/2012

Week6 = 7/30/2012 to 7/31/2012

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T07:23:40.747

Something like this should work:

```
// using System.Globalization;
var calendar = CultureInfo.CurrentCulture.Calendar;
var firstDayOfWeek = CultureInfo.CurrentCulture.DateTimeFormat.FirstDayOfWeek;
var weekPeriods =
Enumerable.Range(1, calendar.GetDaysInMonth(year, month))
          .Select(d =>
          {
              var date = new DateTime(year, month, d);
              var weekNumInYear = calendar.GetWeekOfYear(date, CalendarWeekRule.FirstDay, firstDayOfWeek);
              return new { date, weekNumInYear };
          })
          .GroupBy(x => x.weekNumInYear)
          .Select(x => new { DateFrom = x.First().date, To = x.Last().date })
          .ToList(); 
```

Of course you can change the `Culture` (here I have used the `CurrentCulture`).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:58:43.500

check this one and edit according to your need

```
// Get the weeks in a month

        DateTime date = DateTime.Today;
        // first generate all dates in the month of 'date'
        var dates = Enumerable.Range(1, DateTime.DaysInMonth(date.Year, date.Month)).Select(n => new DateTime(date.Year, date.Month, n));
        // then filter the only the start of weeks
        var weekends = (from d in dates
                       where d.DayOfWeek == DayOfWeek.Monday
                       select d).ToList();
        foreach (var d in weekends)
        {
            Console.WriteLine(d);
        }
        Console.Write(weekends);
        Console.ReadLine(); 
```

hope it help you.

you can also take a look here for other stuff [HERE](https://stackoverflow.com/questions/7363978/get-a-list-of-weeks-for-a-year-with-dates)

# c# - Azure 学习路径

> ID：11465433
> 
> 赞同：0
> 
> 时间：2012-07-13T06:44:34.080
> 
> 标签：c#, azure

我在 C#（win forms、XNA、WP7）方面有大约一年半的经验，我想将我的教育提升到一个新的水平。

我有一个想法，我想为使用 Azure 的 WP7 制作，但我对基于 Web 的编程知之甚少。

我的问题是，什么是好的学习路径，这样我才能开始学习 Azure？我曾尝试直接进入 Windows Azure，但很难理解其中的大部分内容，并且正在四处研究我最初尝试学习的各个方面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:23:44.083

**编辑：**
对我的旧答案不满意，所以我只建议下载[Azure 培训工具包](http://www.microsoft.com/en-us/download/details.aspx?id=8396)并练习，因为经验是最好的老师。

为自己获取一份[Windows Azure 平台](https://rads.stackoverflow.com/amzn/click/com/1430235632)的副本，它将让您对 Azure 的工作原理有一个很好的总体了解，并揭示所有的陷阱和限制。

如果您想在真实环境中测试您的代码（您应该这样做，因为它在本地的工作方式不同），那么您应该注册免费的 3 个月 Azure 试用版。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:48:30.170

这将以正确的方式帮助您

```
Windows Azure
Operating system as a service

Microsoft SQL Azure
Fully relational database in the cloud

Windows Azure platform AppFabric
Easy to connect cloud and on-premises applications 
```

[http://msmvps.com/blogs/abu/archive/2010/01/06/learning-windows-azure-complete-tutorial-cum-getting-started-windows-azure-platform-training-kit-december-update。 aspx](http://msmvps.com/blogs/abu/archive/2010/01/06/learning-windows-azure-complete-tutorial-cum-getting-started-windows-azure-platform-training-kit-december-update.aspx)

# objective-c - 如何检查是否使用 iPhone 中的钥匙串 API 设置了密码或屏幕锁定？

> ID：11465437
> 
> 赞同：1
> 
> 时间：2012-07-13T06:44:57.177
> 
> 标签：objective-c, ios

有什么方法可以检查是否使用任何公共 API 启用了屏幕锁定或密码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:27:56.487

这可以通过检查给定文件的 NSFileProtectionKey 属性来实现。请查看以下分辨率：

[检查 NSFileProtectionKey](https://stackoverflow.com/questions/3806455/how-can-i-find-out-if-the-iphone-user-currently-has-a-passcode-set-and-encryptio)

# coldfusion - cfimage 不显示验证码图片

> ID：11465440
> 
> 赞同：1
> 
> 时间：2012-07-13T06:45:10.537
> 
> 标签：coldfusion, coldfusion-9, cfimage

我正在使用 cfimage 在coldfusion9 中生成验证码。在我的项目中，有三个环境，分别名为 dev、stage 和 production。验证码图像在开发和生产中都显示，但在阶段它不显示图像。当我查看萤火虫时，验证码图像标签的“src”属性的路径为“/CFFileServlet/_cf_captcha/_captcha_img-156564442913310989.png”，但图像未显示。

请告诉我这个问题的可能原因是什么。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-23T11:24:42.580

如果您的服务器在 Apache 下，您也可以直接在 Apache conf 文件中进行映射：

```
Alias /CFFileServlet /opt/coldfusion9/cfusion/tmpCache/CFFileServlet
<Directory /opt/coldfusion9/cfusion/tmpCache/CFFileServlet>
    Order allow,deny
    Allow from all
</Directory> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T11:54:32.047

您的开发 Web 服务器无法找到文件夹“ **CFFileServlet** ”的映射。您可以在 application.cfc 文件中明确提及该映射。就像在我的情况下，我创建了映射

```
<cfset This.mappings["/CFFileServlet"]="C:\ColdFusion10\cfusion\tmpCache\CFFileServlet"> 
```

# sql-server-2008-r2 - 插入和更新表格

> ID：11465445
> 
> 赞同：0
> 
> 时间：2012-07-13T06:45:31.390
> 
> 标签：sql-server-2008-r2

我有一个表格，其中的数据如下

```
 SkillId     SkillName   Experience    KnowledgeLevelXId
    6            c++          NULL             NULL
    7          Asp.net        NULL             NULL
    9            Flex         NULL             NULL
    10      Flash builder     NULL             NULL 
```

我为插入写了一个 Sp

```
ALTER PROCEDURE [dbo].[SkillSettingSave] 
(
     @SkillName varchar(100)
)   
AS
BEGIN

    INSERT INTO [HRM_SkillSetting]
        (
         [SkillName]
        )
    VALUES
        (
         @SkillName 
        ) 
```

我需要在上面的 sp 中添加更新查询，其中技能名称不应重复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T11:11:49.187

您可以使用[exists](http://msdn.microsoft.com/en-us/library/ms188336.aspx)检查记录是否存在。为避免竞争条件，您可以在单个语句中执行此操作：

```
ALTER PROCEDURE [dbo].[SkillSettingSave] 
(
     @SkillName varchar(100)
)
AS
BEGIN

    INSERT INTO [HRM_SkillSetting]
        (
         [SkillName]
        )
    -- Instead of using values you might use select
    SELECT @SkillName 
    -- And insert row only if it does not exists
     WHERE NOT EXISTS (SELECT NULL
                         FROM [HRM_SkillSetting]
                        WHERE SkillName = @SkillName
                      )
END 
```

# xml - eBay 查找 API 中的 findItemsAdvanced 不使用应用的 itemFilters

> ID：11465452
> 
> 赞同：1
> 
> 时间：2012-07-13T06:46:20.460
> 
> 标签：xml, ebay-api

当我`findItemsAdvanced`在 eBay 查找 API 中使用请求来搜索特定用户的商品并给出`itemfilters`as`MaxPrice`并且`MinPrice`输出结果不会根据过滤器中提供的价格范围进行过滤...

我正在使用以下请求

```
<?xml version="1.0" encoding="utf-8"?>
<findItemsAdvancedRequest xmlns="http://www.ebay.com/marketplace/search/v1/services">
<itemFilter>
<name>MinPrice</name>
<value>100.00</value>
<name>ListingType</name>
<value>FixedPrice</value>
<name>MaxPrice</name>
<value>200.00</value>
<name>Seller</name>
<value>anysellerID</value>
</itemFilter>
<sortOrder>PricePlusShippingLowest</sortOrder>
<paginationInput>
<pageNumber>1</pageNumber>
<entriesPerPage>10</entriesPerPage>
</paginationInput>
</findItemsAdvancedRequest>

The output request doesn't filter by the MaxPrice and MinPrice filter value and return all the items by the particular user. 
```

* * *

我找到了我必须`ItemFilter`为每个过滤器分别使用标签的答案，如下所示

```
<itemFilter>
<name>MinPrice</name>
<value>100.00</value>
</itemFilter>
<itemFilter>
<name>MaxPrice</name>
<value>500.00</value>
</itemFilter>
<itemFilter> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T12:30:30.363

我找到了答案，我必须为每个过滤器分别使用 ItemFilter 标记，如下所示`

```
<itemFilter>
<name>MinPrice</name>
<value>100.00</value>
</itemFilter>
<itemFilter>
<name>MaxPrice</name>
<value>500.00</value>
</itemFilter>
<itemFilter> 
```

# java - 多线程和继承

> ID：11465453
> 
> 赞同：1
> 
> 时间：2012-07-13T06:46:24.377
> 
> 标签：java, multithreading

这是我现在拥有的代码，不幸的是继承的类没有在单独的线程中运行我希望继承的类在单独的线程中运行。请告诉我这样做的最佳方法是什么。

问候！

**主要的**

```
public class Main
{
  public static void main(String[] args)
  {
    new Thread(new ClassA(country, category, false, false)).start();
  }
} 
```

**A级**

```
ClassA extends Common implements Runnable
{
  volatile String   country;
  volatile String   category;
  volatile Boolean  doNotReset;
  volatile Boolean  doNotFlash;

  public ClassA(String country, String category, Boolean doNotReset, Boolean doNotFlash)          
  {
    this.country = country;
    this.category = category;
    this.doNotReset = doNotReset;
    this.doNotFlash = doNotFlash;
  }

  @Override
  public void run()
  {

  }
} 
```

**常见的**

```
public class Common
{
  Common()
  {
    Thread t = Thread.currentThread();
    String name = t.getName();
    System.out.println("name=" + name);
  }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T06:51:27.663

您继承的类实际上**是**在单独的线程中运行的，但是您的 currentThread 调试是在 main 方法的线程中完成的，而不是 Runnable ClassA 实例。ClassA 实例是在线程本身实际启动之前构造的（因此调用了 Common 构造函数），因此在构造函数中调用 Thread.currentThread() 时，它仍然是主线程。

要修复调试以打印预期结果，您可以将 Common 的构造函数的主体移动到 Common 或 ClassA 中的覆盖 run() 方法（只要它仍然是调用的 run() 方法，由多态性决定）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:54:08.570

只有`run()`方法体将在不同的线程中执行。并且，仅当您调用`Thread.start()`. 其余的，构造函数和其他方法，将在当前线程中执行。

您可以使用匿名类实现在新线程中调用构造函数`Runnable`：

```
new Thread(new Runnable(){
    new ClassA(country, category, false, false);
}).start(); 
```

# tabs - 目录的macosx lion bash选项卡完成需要很长时间

> ID：11465454
> 
> 赞同：0
> 
> 时间：2012-07-13T06:46:26.870
> 
> 标签：tabs, osx-lion, bash-completion

在工作中，我必须等待 1s~5s 才能在 iterm2 中完成 dir。同样的mba，但在家里它可以立即生效。

# frameworks - Osgi 一个容器或框架

> ID：11465456
> 
> 赞同：1
> 
> 时间：2012-07-13T06:46:46.757
> 
> 标签：frameworks, osgi, containers

嗨，我是 osgi 的新手。谁能帮我理解 osgi 是容器还是框架？任何人都可以请解释两者之间的区别。谢谢，这将是一个很大的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:10:27.360

这取决于**您**所说的这些术语的含义，两者都没有普遍接受的定义。

从我的角度来看，OSGi 并不是真正的容器，因为它不会包裹您的代码或更改执行模型。所以我更喜欢框架这个术语，实际上大多数文档都将其称为“OSGi 框架”或有时称为“OSGi 服务平台”。

例如：您可以用 5 到 10 行 Java 代码创建一个可运行且有用的 OSGi 框架。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T18:14:44.620

我会将框架定义为您对其进行编码并控制执行的库。所以例如 spring 是一个框架和 OSGi 以同样的方式。

容器是您可以启动的通用应用程序，您可以在其中部署可执行工件。默认情况下，OSGi 不允许您部署工件。它主要提供允许您加载和启动捆绑包的 API。实际上，尽管几乎所有 OSGi 实现都允许从某个目录进行部署。所以至少实现也是容器。

就像尼尔写的那​​样，我的定义不是唯一的，所以上述内容可能并不普遍正确。

# android - 没有外部罐子的android中的NoClassDefFoundError

> ID：11465457
> 
> 赞同：0
> 
> 时间：2012-07-13T06:46:51.940
> 
> 标签：android, noclassdeffounderror

我今天才开始使用 android 应用程序，所以我没有添加任何 jar。如果有帮助，我目前正在使用 sdk 和 adt r19。android清单的样子

```
 <application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".LoginActivity" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name=".UserHome"></activity>
</application> 
```

它是如何发生的：

```
btnLogin.setOnClickListener(new OnClickListener(){
 public void onClick(View arg0){
      Intent mapIntent = new Intent(LoginActivity.this, UserHome.class);
      LoginActivity.this.startActivity(mapIntent);
      Log.i("Intent", "Login to UserHome");
   }
}); 
```

我不知道为什么会这样。

**编辑**

错误日志

```
07-13 06:14:06.844: E/AndroidRuntime(442): FATAL EXCEPTION: main
07-13 06:14:06.844: E/AndroidRuntime(442): java.lang.NoClassDefFoundError: com.srd.application.UserHome
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.srd.application.LoginActivity$1.onClick(LoginActivity.java:70)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.View.performClick(View.java:2408)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.View.onKeyUp(View.java:4121)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.widget.TextView.onKeyUp(TextView.java:4431)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.KeyEvent.dispatch(KeyEvent.java:1061)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.View.dispatchKeyEvent(View.java:3740)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:788)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:788)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:788)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:788)
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1667) 
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1102)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.app.Activity.dispatchKeyEvent(Activity.java:2063)
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1643)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewRoot.deliverKeyEventToViewHierarchy(ViewRoot.java:2471)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewRoot.handleFinishedEvent(ViewRoot.java:2441)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1735)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.os.Looper.loop(Looper.java:123)
07-13 06:14:06.844: E/AndroidRuntime(442):  at android.app.ActivityThread.main(ActivityThread.java:4627)
07-13 06:14:06.844: E/AndroidRuntime(442):  at java.lang.reflect.Method.invokeNative(Native Method)
07-13 06:14:06.844: E/AndroidRuntime(442):  at java.lang.reflect.Method.invoke(Method.java:521)
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-13 06:14:06.844: E/AndroidRuntime(442):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-13 06:14:06.844: E/AndroidRuntime(442):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:00:58.683

您是否在应用程序的清单文件中定义了**use-library标记？**

```
<uses-library android:name="com.google.android.maps" /> 
```

像，

```
 <application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >

    <uses-library android:name="com.google.android.maps" />

    .
    .
     .
</application> 
```

还要检查您的应用程序是否包含`Google-api`not `Android`。

# django - 使用 _set.all 时颠倒顺序

> ID：11465458
> 
> 赞同：5
> 
> 时间：2012-07-13T06:46:57.010
> 
> 标签：django, django-models

我有两个关系：

```
class Contact(models.Model):
    first_name  =models.CharField(max_length=30)

class Activity(models.Model):
    action      =models.CharField(max_length=200)
    whom        =models.ForeignKey("Contact", null=True, blank=True) 
```

和

```
 contacts=Contact.objects.get(slug=contactslug) 
```

我可以从我的 url 请求中调用特定的 Contant

另外

```
c = contacts.activity_set.all 
```

让我调用所有的活动。

我怎样才能调用活动，但顺序相反，因为`.order_by()`或`reverse()`似乎不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:31:01.607

这可能会奏效

```
reversed(contacts.activity_set.all()) 
```

但是，你应该这样做：

```
class Activity(models.Model):
    action      =models.CharField(max_length=200)
    whom        =models.ForeignKey("Contact", null=True, blank=True)

    class Meta:
        ordering = ['action'] 
```

或者`['-action']`

# forms - 创建表单以使用 ArrayList 作为组件创建 bean

> ID：11465459
> 
> 赞同：1
> 
> 时间：2012-07-13T06:46:57.650
> 
> 标签：forms, spring, spring-mvc, javabeans

我试图在 Spring MVC 中为我的 bean 做一个 CRUD，我发现它有点压倒性。

问题是，bean 元素之一是另一个类的 ArrayList

它看起来像

```
class Bean{
...
    String componentName;
    ArrayList<InnerComponent> component;
...
} 
```

使用 getter 和 setter ofc 和 InnerComponent 非常简单，就像

```
class InnerComponent{
String key;
String va;
} 
```

现在问题：我如何创建允许在该数组列表中输入内容的表单？

```
<form:form commandName="Bean" id="Bean" action="#">
    <form:input type="text" path="componentName" /><br />
    ....??
    <form:button>Submit</form:button>
</form:form> 
```

能想出这个...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:11:50.770

您需要为此使用 CustomPropertyEditors。1）[这](http://forum.springsource.org/showthread.php?51338-PropertyEditor-with-List)是有同样问题的线程。2）[这里](https://stackoverflow.com/questions/1924933/equivalent-spring-custom-collection-property-editor-when-using-jsf)是stackoverflow链接。3）[这里](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans-conventions)是 propertyEditors 章节的 Spring 3 参考文档链接。

# ruby-on-rails - 如何在 Eclim 中设置 Ruby 版本

> ID：11465460
> 
> 赞同：1
> 
> 时间：2012-07-13T06:47:04.667
> 
> 标签：ruby-on-rails, ruby, eclim

我一直在用 ruby​​ on rails 尝试 eclim。尝试设置哈希时，会显示语法错误。

```
exp:

  @update = { 
    title:       "Lorem Ipsum",
    description: "Wibbles are fun!",
    image_url:   "lorem.jpg",
    price:       19.95
  } 
```

但是当我将语法更改为旧样式时，它运行正常。

```
exp:
  @update = { 
    :title =>       "Lorem Ipsum",
    :description => "Wibbles are fun!",
    :image_url =>   "lorem.jpg",
    :price =>       19.95
  } 
```

那么如何将 eclim 设置为 ruby​​ 1.9.2 ？谢谢

# php - 代码点火器。如何返回变量值大于数据库中字段的记录？

> ID：11465464
> 
> 赞同：0
> 
> 时间：2012-07-13T06:47:32.317
> 
> 标签：php, mysql, codeigniter, activerecord

我有以下 codeigniter 模型函数：

```
function get_successful($project_id, $amount_backed){
    $data = '';

    $this->db->where('id', $project_id); 
    $this->db->where($amount_backed >= 'funding_goal'); //HELP HERE
    $this->db->where('published', '1'); 

......

    return $data;
} 
```

我只需要获取变量`$amount_backed`高于或等于字段的记录`'funding_goal'`。

如何使用 codeigniters 活动记录来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:55:51.773

一种可能性是：

```
$this->db->where('funding_goal <=', $amount_backed); 
```

另请参阅[CodeIgniter 用户指南](http://codeigniter.com/user_guide/database/active_record.html)，搜索`$this->db->where();`并查看`Custom key/value method`，有以下示例：

> $this->db->where('id <', $id);

ps：还有两种选择：*关联数组方法*和*自定义字符串*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:51:36.117

您可以使用 ： `$this->db->where("funding_goal < $amount_backed")`

`a < b == b>=a`

```
function get_successful($project_id, $amount_backed){
    $data = '';

    $this->db->where('id', $project_id); 
    $this->db->where("funding_goal < $amount_backed"); //HELP HERE
    $this->db->where('published', '1'); 

......

    return $data;
} 
```

# crash - Flash Builder 4.4，每次我开始分析并占用内存快照时应用程序都会崩溃？

> ID：11465466
> 
> 赞同：1
> 
> 时间：2012-07-13T06:47:46.927
> 
> 标签：crash, profiling, flash-builder

我有一个真正的有线问题，当我开始在 Adob​​e Flash builder 中分析我的应用程序并拍摄内存快照时，应用程序崩溃，并且出现这些对话框。

![在此处输入图像描述](../Images/c762c89782c4183438cbe8133e3f64ba.png)

我已经尝试过 Adob​​e **flash builder 4.4、4.5、4.6所有这些在****windows xp**上都有相同的行为，而在**mac os x**上，**4.6**版本可以正常进行分析，但调试模式每次都会崩溃。而**4.4 和 4.5**在分析时崩溃，其余工作正常工作。

![在此处输入图像描述](../Images/a92fbe8f31ce89daec2d57b9b86c9e64.png)

需要帮助

问候。

# jquery - 如何让 getElementById 在 Jquery 中工作？

> ID：11465468
> 
> 赞同：1
> 
> 时间：2012-07-13T06:47:50.110
> 
> 标签：jquery

这是HTML和脚本

```
 <script>  $(document).ready(function(){  
 $(".update_button").click(function(){ 

 var update_post = $("#post").val();
 alert('Post is '+ update_post +'.');
 return false;
 });
 });
 </script>

 <body>
     <fieldset style="width:600px; height:550px">
       <textarea id="post" class="uiwysiwyg nothing"><?php echo $prvpost; ?></textarea>
       <input type="submit" value="Post" id="updt_button" class="update_button"/>
     </fieldset> </body> 
```

注意：class="uiwysiwyg nothing" 是一个包含所见即所得命令的脚本

但代码有效：

```
 <body onsubmit="alert('Update: ' + document.getElementById('post').value); return false;">
     <fieldset style="width:600px; height:550px">
       <textarea id="post" class="uiwysiwyg nothing"><?php echo $prvpost; ?></textarea>
       <input type="submit" value="Post" id="updt_button" class="update_button"/>
     </fieldset>
 </body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:51:04.120

尝试

```
var update_post = $("#post").val();
alert(update_post); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:03:40.957

通过使用 $(.post) 您正在使用类似 document.getElementByClass ...如果您想要 document.getElementById 请使用 $("#post)...是的，请检查 jquery Selectors

编辑：-您的代码很好..刚刚在[jsfiddle检查过](http://jsfiddle.net/4rkc7/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:51:22.267

这是因为在第一个示例中，您将`post`其用作 id。在第二个示例中，您将其用作 css 类 ( `.post`)。第二个例子应该是`#post`。

查看[jQuery 选择器](http://api.jquery.com/category/selectors/)了解更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:51:24.700

我假设“post”是 ID 而不是 CSS 类，所以你必须使用“#”

```
var update_post = $("#post").val();
alert(update_post); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T06:51:33.897

不要使用“.post”，而是使用“#post”。一个 ”。” 指定类名，“#”指定元素 ID。

您的代码将如下所示：

```
var update_post = $("#post").val();
alert(update_post); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-13T07:31:19.750

正如我已经在评论中写道：

Textarea 表单元素没有值，您可以通过 .text() （纯可读文本）或 .html() （用于添加到 DOM 的 HTML 标记和实体转换）获取它们的内容。尽管较新版本的 jQuery 已经为您执行此操作并通过 .val() 获取 textarea 的内容。

因此，您可以更新您的 jQuery 版本（主要是一个好主意）或尝试以下代码：

```
$(document).ready(function(){
  $(".update_button").click(function(){
    var update_post = $("#post").html();
    alert('Post is '+ update_post +'.');
    return false;
  });
}); 
```

# php - MySQL 统计查询优化

> ID：11465470
> 
> 赞同：0
> 
> 时间：2012-07-13T06:47:56.193
> 
> 标签：php, mysql, database

我正在尝试稍微优化我的查询，但不能完全正确。

我希望从表格中获取一些统计信息

我要查询主要贡献者

```
SELECT `name`, `amount` FROM `customers` ORDER by `amount` DESC LIMIT 10 
```

但我也想获得所有记录中金额的 SUM 和 AVG，而不仅仅是前 10 名。我不确定如何在没有新查询的情况下执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T06:51:46.180

尝试

```
SELECT `name`, `amount`, sa.sum_a, sa.avg_a
FROM `customers`, (select sum(amount) as sum_a, avg(amount) as avg_a from customers) sa
ORDER by `amount` DESC 
LIMIT 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T06:51:47.197

如果您想要前 10 个用户以及表中***所有***`SUM`行的和，您可以制作和的笛卡尔积，如下所示：`AVG`*`SUM``AVG`*

 *```
SELECT 
    a.name, a.amount, b.amtsum, b.amtavg
FROM customers a
CROSS JOIN (SELECT SUM(amount) AS amtsum, AVG(amount) AS amtavg FROM customers) b
ORDER BY amount DESC
LIMIT 10 
```

请记住， 和 的值`SUM`将`AVG`在返回的所有 10 行上重复——它们将是相同的。

***如果您想要每个用户***的金额总和和平均值，您可以执行以下操作：

```
SELECT a.name, a.amount, b.amtsum, b.amtavg
FROM customers a
INNER JOIN
(
    SELECT name, SUM(amount) AS amtsum, AVG(amount) AS amtavg
    FROM customers
    GROUP BY name
) b ON a.name = b.name
ORDER BY a.amount DESC
LIMIT 10 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:53:00.613

一种选择是使用子查询

```
SELECT 
    `name`, `amount`,
    (SELECT SUM(amount) FROM customers) as summation,
    (SELECT AVG(amount) FROM customers) as average
 FROM 
    `customers` ORDER by `amount` DESC LIMIT 10 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T06:58:18.873

在这种情况下，最干净且通常也是最快的方法是两个查询。获取相同的聚合十次没有任何优势。

确保您在`amount`. 这将为您节省每个查询对表的完整排序。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T08:02:24.923

您可以使用 MySQL`Explain`关键字进行查询优化。

更多详情您可以[点击这里](http://www.slideshare.net/phpcodemonkey/mysql-explain-explained)*

# ruby-on-rails - 如何使用 apache、heroku 或 Phusion 在服务器上配置和部署 Ruby on Rails 应用程序 乘客不知道这些术语

> ID：11465473
> 
> 赞同：0
> 
> 时间：2012-07-13T06:48:27.333
> 
> 标签：ruby-on-rails, apache, heroku, nginx, passenger

我是 Ruby on Rails 的新手。我一直是初级开发人员，大部分时间都在 localhost 上工作，所以不知道如何启动 Ruby on rails 应用程序、如何配置 Ruby on rails 应用程序以及如何部署它。

我经常遇到以下术语，但不知道它的**含义**以及如何**使用它们**以及**在哪里使用它们**。

阿帕奇

Phusion乘客

Heroku

nginx

请帮助我，也期待任何好的教程来学习所有这些术语。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:02:25.407

我认为网络上有很多资源可以解决这个问题，但是：

*   Heroku 是一个平台即服务。基本上，您将 Rails 应用程序推送到 git 远程，就是这样，部署。您可以从 CLI 管理插件、工作人员和进程，并根据需要扩大/缩小规模。可能是最无痛的开始方式。

*   Apache 和 nginx 是两个 webserver，我想说它们是 rails 世界中最常见的。Nginx 是两者中最新的一个，它似乎更适合大多数任务，但如果你想知道选择哪个，互联网上也有几篇文章。

*   Phusion 乘客是您的 Rails 应用程序和您的网络服务器之间的桥梁（或可用的桥梁之一）。如果您以前做过 php，请将其视为 mod_php。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:39:53.640

由于这对您来说是全新的，我建议您从托管 Heroku 开始。您可以使用免费版本做很多事情，它可以说是开始托管您的 rails 网站的最简单方法。查看 Heroku 的[入门指南](https://devcenter.heroku.com/articles/quickstart)。这里还有另一个[初学者指南](http://railsapps.github.com/rails-heroku-tutorial.html)。

一旦您对 Heroku 感到满意，您的下一步可能是考虑在您自己的虚拟专用服务器 (VPS) 上进行托管。设置更加手动，但如果您在 VPS 上自行设置，则在 Heroku 上需要额外付费的东西现在是免费的。这是一篇关于 VPS 托管的[精彩文章。](http://coding.smashingmagazine.com/2011/06/28/setup-a-ubuntu-vps-for-hosting-ruby-on-rails-applications-2/)

作为参考，在我开始考虑在自己的 VPS 上托管之前，我在 Heroku 上托管了大约一年的网站。现在我要做的是首先在 Heroku 上托管我的项目，因为这是启动和运行的最快方式。然后，如果网站成功，我会过渡到 VPS。

# asp.net-mvc - 未读取来自 web.config 的连接字符串

> ID：11465477
> 
> 赞同：0
> 
> 时间：2012-07-13T06:48:55.807
> 
> 标签：asp.net-mvc, wcf, entity-framework, web-config, connection-string

以下是使用 WCF 服务和 EF 构建的 MVC 应用程序的体系结构：

> MVC 应用 >> WCF 服务 >> 业务逻辑层 >> 数据访问层 >> 数据存储

我`MyDbContext`在*数据访问层*创建，它与数据库交互。

我在`web.config`MVC 应用程序的文件中创建了一个连接字符串，名称为`MyDbContext`. 我相信这应该可行，但它试图在我的 sql 服务器上创建一个新数据库。可能是什么原因？或者如果我错过了什么？

如果我将连接字符串放入`web.config`WCF 服务，它工作正常。但我相信这应该只是 MVC 应用程序的一部分，WCF 不应该仅限于使用它`connectionstring`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:49:08.977

如果您使用 WCF 服务访问业务层和数据访问层，那么您的 ASP.NET MVC 应用程序不应该直接访问数据库——它甚至应该根本不知道数据库的存在。这就是您使用 WCF 服务的原因，不是吗？否则，您可以删除整个 WCF 服务层并直接从 ASP.NET MVC 调用业务层。

连接字符串不会通过 WCF 调用自动从 MVC 应用程序传输。正确的解决方案是在 WCF 应用程序中定义连接字符串，因为它是访问数据库的层。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:29:27.273

由于 WCF 服务托管在同样托管数据访问层的容器中，因此使用正确的连接字符串对其进行配置是完全合理的。

为什么你不想这样做？

# views - 玩 2.0 我如何从（安全社交）模块中覆盖我的观点？

> ID：11465481
> 
> 赞同：2
> 
> 时间：2012-07-13T06:49:10.513
> 
> 标签：views, playframework-2.0, securesocial

我正在使用securesocial插件并将其用作模块。

所以我的结构是这样的：

```
project
 |
 |--app
 |---|
 |---|--views/main.scala.html
 |--conf
 |--logs
 |--module
 |---|--securesocial
 |---|------|
 |---|------|--app
 |---|------|---|
 |---|------|---|--views/main.scala.html
 |---|------|---|--views/login.scala.html 
```

我的简单问题是，如何用我的“app/views”文件夹中的“main.scala.html”视图覆盖我的模块/securesocial/app/views 中的main.scala.html？！

我的意思是“覆盖”，我可以将登录视图包含到我的 main.scala.html 的“@content”变量中，通常会像这样工作：

```
@main("My title test"){
    <p class="note">
        Try <em>guillaume@@sample.com</em> with <em>test123</em> as password.
    </p>
} 
```

但是使用“@main”我无法从模块文件夹中访问（并因此覆盖）我的“app/views/main.scala.html”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T16:41:35.800

SecureSocial 使用您可以自定义的插件呈现视图 默认实现是 DefaultTemplatesPlugin，您可以用您自己的插件替换它以更改生成的 html。

要创建自定义页面和电子邮件：

1.  在视图下创建一个新目录以放置 SecureSocial 的自定义模板。
2.  创建一个实现 TemplatesPlugin 特征并呈现这些模板的新插件。
3.  编辑 play.plugins 文件并将 DefaultPluginsTemplate 替换为您自己的类。

您可以通过查看 TemplatesPlugin 特征或在文档页面中查看需要实现的方法：http: [//securesocial.ws/guide/views-customization.html](http://securesocial.ws/guide/views-customization.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T21:14:20.320

尝试为其提供视图的确切包名称：

```
@views.html.main("My title test"){
  ...
} 
```

# jquery - jQuery 选择器和 css 选择器是同一组吗？

> ID：11465482
> 
> 赞同：-1
> 
> 时间：2012-07-13T06:49:11.670
> 
> 标签：jquery

我不知道 jQuery，但在我看来 jQuery 有大量的选择器，远远超过 css2.1 选择器。那么jQuery除了支持css2.1选择器之外还支持额外的选择器吗？还是说jQuery选择器其实就是css3选择器，比css2.1选择器多？我可以在 css3 中使用查询选择器吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T06:53:08.207

jQuery 支持来自[CSS Selectors Level 3 规范](http://www.w3.org/TR/css3-selectors/)的大多数选择器，并且它也添加了一些自己的选择器。来自[jQuery 文档](http://api.jquery.com/category/selectors/)：

> 借用 CSS 1-3，然后添加自己的，jQuery 提供了一组强大的工具来匹配文档中的一组元素。

一个 jQuery 扩展的例子是[`:submit`选择器](http://api.jquery.com/submit-selector/)。请注意在文档页面中它指出：

> 因为**`:submit`是 jQuery 扩展**而不是 CSS 规范的一部分，使用 :submit 的查询不能利用原生 DOM`querySelectorAll()` 方法提供的性能提升。为了在现代浏览器中获得更好的性能，请`[type="submit"]` 改用。

每个自定义 jQuery 选择器的页面上都有一个类似的注释，所以如果您花一点时间浏览 jQuery 选择器 API，您应该很快就会掌握它。

# javascript - 如何重新创建 Chromium/Chrome 新标签主页

> ID：11465484
> 
> 赞同：1
> 
> 时间：2012-07-13T06:49:24.873
> 
> 标签：javascript, jquery, html, css

我正在尝试找出如何使用它的所有功能重新创建 Chrome 的新标签主页。

我尝试过类似的插件，但是在使用 jQuery类[`isotope`](http://isotope.metafizzy.co/)进行排序时遇到了很多问题。[`sortable`](http://jqueryui.com/demos/sortable/#default)

我尝试过使用带有浮点数的 good`ol css 来创建网格，但它远不如 Chrome 所拥有的那么好。

有没有涵盖这个的教程？

任何朝着正确方向的指针都会有所帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:45:38.943

如果您使用 chrome，则使用右键单击上下文菜单的*检查元素*功能会更容易。这将打开显示*元素*选项卡的开发人员控制台。它还应该立即带您进入布局的核心，而无需滚动很多行！:)

如果您以前没有见过 chrome 中的开发人员工具，那么值得一试！元素面板将特别有用：

[https://developers.google.com/chrome-developer-tools/docs/elements](https://developers.google.com/chrome-developer-tools/docs/elements)

简而言之，元素面板将为您提供 HTML DOM 的实时视图，包括任何给定元素上存在的 CSS 类的视图。

**更新**

不过，从我自己快速查看源代码来看，它看起来很多都是首先在 JavaScript 中生成的，即当您手动调整页面大小时，图标的边距和宽度等是使用 JavaScript 设置的。我很确定他们的布局不仅仅是纯 CSS。

# c# - 在服务和存储库层中可以发生多少活动？

> ID：11465488
> 
> 赞同：0
> 
> 时间：2012-07-13T06:50:12.203
> 
> 标签：c#, asp.net, asp.net-mvc, asp.net-mvc-3, entity-framework

我正在使用`ASP.NET MVC 3`.

我仍然对存储库层中会发生多少感到困惑。我一直认为它必须只做需要做的事情，仅此而已。

我一直在使用一个服务层，该服务层又调用我的存储库层。我总是有一个对应的服务层用于存储库层，以及一个对应的服务层方法用于存储库方法，即使它只是为了获取项目列表。所以我会有以下服务层：

```
public class UnitService : IUnitService
{
     private readonly IUnitRepository unitRepository;

     public UnitService(IUnitRepository unitRepository)
     {
          this.unitRepository = unitRepository;
     }

     public IEnumerable<Unit> GetAll()
     {
          return unitRepository.GetAll();
     }
} 
```

这就是我的存储库层的样子：

```
public class UnitRepository : IUnitRepository
{
     // Partial code

     public IEnumerable<Unit> GetAll()
     {
          return DbContext.Units
               .Include("Department")
               .OrderBy(x => x.Name);
     }
} 
```

如果不是真的需要，我正在尝试减少我的服务层类。那么只从我的控制器而不是服务层调用存储库可以吗？我是否按照自己的方式做真的很重要吗？我的意思是它仍然带回了我所有的数据。

我将在哪里进行缓存和日志记录？服务层还是在存储库中？假设 GetAll 方法带回了许多需要缓存的记录。我会将其缓存在存储库中还是需要一个服务层？

日志记录也是如此。我会在哪里记录以下内容：

```
Log.Info("Adding category: {0}, {1}", entity.Id, entity.Name);
// adding code
Log.Info("Category added: {0}, {1}", entity.Id, entity.Name); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:53:56.107

如果您的服务层方法所做的只是将调用委托给底层存储库方法，那么可以，删除此服务层是完全可以的，因为它没有附加值并直接使用控制器中的存储库。

> 我将在哪里进行缓存和日志记录？服务层还是在存储库中？假设 GetAll 方法带回了许多需要缓存的记录。我会将其缓存在存储库中还是需要一个服务层？

缓存应该在数据层完成。根据您进行数据访问的方式，NHibernate 等 ORM 已经包含二级缓存，因此您所要做的就是激活它。

就日志记录而言，您可以在应用程序的每个可能需要记录某些内容的层中执行此操作。

# visual-c++ - 在树控件 (MFC) 中选择节点

> ID：11465490
> 
> 赞同：0
> 
> 时间：2012-07-13T06:50:14.153
> 
> 标签：visual-c++, mfc, treecontrol

我在 VC++ 中创建了一个树控件，但我无法选择子节点。有什么建议么？

```
m_pTree->Create(WS_CHILD | WS_VISIBLE | WS_BORDER | WS_TABSTOP |
                 TVS_HASLINES | TVS_HASBUTTONS | TVS_LINESATROOT |
                 TVS_SINGLEEXPAND | TVS_SHOWSELALWAYS | 
         TVS_TRACKSELECT,CRect(10, 10, 200, 240), this, 0x1221);

hTree=m_pTree->InsertItem(_T("SoftWare Production") , TVI_ROOT);
hCompany=m_pTree->InsertItem(_T("Microsoft"),hTree);
m_pTree->InsertItem(_T("Office") , hCompany);
m_pTree->InsertItem(_T("Visual Studio") , hCompany);
m_pTree->InsertItem(_T("Servers") ,hCompany , TVI_LAST);

m_pTree->Expand(hCompany, TVE_EXPAND);

hCompany=m_pTree->InsertItem(_T("Linux"),hTree);
m_pTree->InsertItem(_T("Open Office") , hCompany);
m_pTree->InsertItem(_T("QMail") , hCompany);
m_pTree->InsertItem(_T("Apache") ,hCompany,TVI_LAST);

m_pTree->Expand(hCompany, TVE_EXPAND); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:16:33.150

我认为 m_pTree->SelectItem(HTREEITEM) 应该工作

# cassandra - 扩展和清理后某些 cassandra 节点上的数据大小不均

> ID：11465497
> 
> 赞同：2
> 
> 时间：2012-07-13T06:50:49.863
> 
> 标签：cassandra

1）我们有 10 个节点的集群，最近我们在集群中增加了 20 个节点。

2）添加后，我们在所有必要的节点上运行清理。

3) 在环状态下，“Effective-Owership”得到了适当的平衡，但两台机器上的“负载”与其他机器不同。

```
rack1       Up     Normal  196.38 GB       6.67%   
rack2       Up     Normal  195.33 GB       6.67%   
rack1       Up     Normal  191.57 GB       6.67%   
rack2       Up     Normal  197.83 GB       6.67%   
rack1       Up     Normal  190.92 GB       6.67%   
rack2       Up     Normal  194.59 GB       6.67%   
rack1       Up     Normal  195.66 GB       6.67%   
rack2       Up     Normal  191.45 GB       6.67%   
rack1       Up     Normal  197.13 GB       6.67%   
rack2       Up     Normal  196.19 GB       6.67%   
rack1       Up     Normal  195.39 GB       6.67%  
rack2       Up     Normal  199.35 GB       6.67%  
rack1       Up     Normal  197.71 GB       6.67%   
rack2       Up     Normal  194.22 GB       6.67%  
rack1       Up     Normal  192.83 GB       6.67%  
rack2       Up     Normal  197.17 GB       6.67%   
rack1       Up     Normal  192.61 GB       6.67%  
rack2       Up     Normal  193.88 GB       6.67%  
rack1       Up     Normal  197.3 GB        6.67%   
rack2       Up     Normal  196.74 GB       6.67%  
rack1       Up     Normal  194.89 GB       6.67%  
rack2       Up     Normal  198.47 GB       6.67%   
rack1       Up     Normal  197.26 GB       6.67%  
rack2       Up     Normal  345.34 GB       6.67%  
rack1       Up     Normal  195.68 GB       6.67%   
rack2       Up     Normal  263.23 GB       6.67%  
rack1       Up     Normal  190.72 GB       6.67%  
rack2       Up     Normal  198.98 GB       6.67%   
rack1       Up     Normal  194.22 GB       6.67%  
rack2       Up     Normal  191.95 GB       6.67% 
```

4) 在一台机器上的负载是 345GB，在另一台机器上是 263GB，而在其余机器上大约是 195GB。

5）我们正在使用 Cassandra-1.1.0，我已经在这些机器上运行了两次清理，但它没有帮助。

知道如何在每个节点上以相同的负载平衡这个集群吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-29T03:38:22.713

我遇到了负载比其他服务器高得多的服务器问题。

在我的情况下发生的事情是引导失败由于某种原因，中断了数据流。当您恢复它时，数据流从头开始重新开始，但之前的数据不会被删除并显示在`nodetool status`.

对我来说，最简单的方法是按照这个程序替换那些死节点：[http ://docs.datastax.com/en/cassandra/2.0/cassandra/operations/ops_replace_node_t.html](http://docs.datastax.com/en/cassandra/2.0/cassandra/operations/ops_replace_node_t.html)

编辑：`nodetool cleanup`只是删除不属于节点的键，这并不意味着它释放磁盘空间。

# asp.net - 如何将动态创建的表导出到excel？

> ID：11465499
> 
> 赞同：2
> 
> 时间：2012-07-13T06:50:54.460
> 
> 标签：asp.net

在 aspx 页面中：

```
<asp:table id = "table1" runat ="server"></table> 
```

我使用 Javascript 从 cs 文件中创建了一个表，如下所示：

```
StringBuilder sb = new StringBuilder() 
sb.Append('<script>') ;
sb.Append(document.write('<table><tr><td>hghj</td></tr></table>')) 
Table cell ;
Table row;
 cell.Control.Add(new LiteralControl(sb.ToString())) ;
row.Control.Add(cell);
table1.Control.Add(row); 
```

现在我想将该表导出到excel，所以我使用了以下代码。它打开了excel文件。但是没有看到数据。

```
Response.ContentType = "application/vnd.ms-excel";        
Response.AddHeader("Content-Disposition", "attachment; filename=ExcelFile.xls");
Response.ContentEncoding = Encoding.UTF8;        
StringWriter tw = new StringWriter();
HtmlTextWriter hw = new HtmlTextWriter(tw);
table1.RenderControl(hw);        
Response.Write(tw.ToString());        
Response.End(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-26T15:39:39.480

我有一个类似的问题，以下解决方案对我有用。希望它可以帮助OP和其他人。就我而言，表数据在运行时动态填充，但是当我尝试将数据导出到 excel 时，我得到了一个空白的 excel 文件。我通过将表生成代码放在外面解决了这个问题`if (!IsPostBack){}`。这是更改后我的代码结构的样子：

```
protected void Page_Load(object sender, EventArgs e)
{
    FunctionToPopulateTableDataAtRuntime();

    if (!IsPostBack)
    {
        // other parts of the code
    }
}

private void FunctionToPopulateTableDataAtRuntime()
{
    // code to dynamically populate table data at run-time
    // this code is somewhat similar to that of OP
    // but it does not make use of JavaScript whatsoever
}

private void ExportTableToExcel()
{
    // the code for this function is somewhat similar to what OP has
    Response.ContentType = "application/vnd.ms-excel";
    Response.AddHeader("Content-Disposition", "attachment; filename=test.xls;");
    Response.ContentEncoding = Encoding.UTF8;
    StringWriter stringWrite = new StringWriter();
    HtmlTextWriter htmlWrite = new HtmlTextWriter(stringWrite);
    myTable.RenderControl(htmlWrite);
    Response.Write(stringWrite.ToString());
    Response.End();
}    

protected void btnExportToExcel_Click(object sender, EventArgs e)
{
    ExportTableToExcel();
} 
```

这是代码前端（aspx）的样子：

```
<asp:Table 
    ID="myTable"
    runat="server">
</asp:Table>
<asp:Button 
    ID="btnExportToExcel" 
    runat="server" 
    Text=" Export to Excel " 
    OnClick="btnExportToExcel_Click"/> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-04-11T07:00:22.327

```
public override void VerifyRenderingInServerForm(Control control)
{
    /* Verifies that the control is rendered */
} 
```

# jquery - 来自不安全 HTTPS 源的外部图像

> ID：11465511
> 
> 赞同：1
> 
> 时间：2012-07-13T06:51:25.370
> 
> 标签：jquery, asp.net, html, https, jquery-templates

设置信息：

*   ASP.NET 网络后端
*   99% 基于 jQuery 的网页，ASP.NET 唯一要做的就是运行 Index.html

直奔问题：

*   用户执行搜索
*   结果使用 jQuery 模板进行模板化
*   结果包含数据和对图像的 URL 引用。
*   图像放置在同一域上的另一台服务器上 - 安全/https。
*   当 jQuery 完成模板化后，Chrome 会抱怨：`Failed to load resource`
*   我尝试手动请求图像 URL，发现 HTTPS 证书**不安全**，我需要告诉 Chrome 可以继续使用不安全的证书。

我不知道如何自动绕过这个不安全的证书。用户不必打开每个图像并单击“继续”即可查看图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:58:01.657

通常，您不能也不应该绕过不安全的证书。

如果用户在您自己的组织中，您可以要求他们将此特定证书添加到其浏览器的例外列表中。这将使他们的浏览器信任这个站点而不信任其他站点。

如果这个网站是为外部用户准备的，花钱买一个合适的 SSL 证书。拥有自签名证书会严重影响您的组织。

或者走更简单的路线并将图像放在非 SSL 服务器上。

# google-bigquery - 403 超出用户速率限制：每用户限制设置不起作用

> ID：11465522
> 
> 赞同：0
> 
> 时间：2012-07-13T06:51:55.743
> 
> 标签：google-bigquery

我正在使用 Java 客户端 API 发送一些查询。但在 4 - 5 次查询后出现以下错误。

```
com.google.api.client.auth.oauth2.TokenResponseException: 403 User Rate Limit Exceeded
<HTML>
<HEAD>
<TITLE>User Rate Limit Exceeded</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>User Rate Limit Exceeded</H1>
<H2>Error 403</H2>
</BODY>
</HTML> 
```

因此，我访问了 Google API 的控制台并将“每用户限制”增加到 100.0 个请求/秒/用户，最初设置为 5 个请求/秒/用户。

但它似乎没有任何效果。

此配置当前是否有效？

本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T16:57:36.280

请参阅此页面：[https](https://developers.google.com/bigquery/docs/quota-policy) ://developers.google.com/bigquery/docs/quota-policy 速率限制是您最多可以拥有 200GB 的未完成查询 + 一个任意大小的查询。

对于未完成的查询，这意味着查询正在扫描的数据量。如果您有一个包含 10 个相同大小的字符串字段的 1TB 表，这意味着引用其中两个字段的查询将需要 200GB 扫描。BigQuery UI 显示查询扫描的数据量，或者如果您直接使用 API，您可以在生成的查询作业统计信息中找到它。

例如，您可以同时运行 4 个正在扫描 50GB 的查询和一个正在扫描 4TB 的查询。

如果这些限制过于严格，您可以使用没有任何同时查询限制但运行速度慢得多的批处理*模式*。

这是为了防止客户垄断我们的集群并降低其他用户的性能，并鼓励他们分散查询。

此外，如果您*尚未*启用计费，则配额限制会显着降低，因为您仅限于免费配额。

# html - 使用 AJAX 和 jQuery 加载内容

> ID：11465523
> 
> 赞同：0
> 
> 时间：2012-07-13T06:52:01.540
> 
> 标签：html, jquery

我是 jQuery 的新手，正在尝试使用以下代码使用 AJAX 和 jQuery 动态加载内容，但它不起作用。

```
<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function()
{
$("button").click(function()
{
$(".text").load("http://api.jquery.com/get/");

});

});
</script>
<title>AJAX with jQuery</title>
</head>
<body>
<div class="text">Sushil</div>
<button>Load Text</button>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:00:14.640

您违反了同源政策。只需打开控制台并在单击按钮时查看错误消息。事情对你来说会变得更清楚。如果没有请回来

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:07:30.053

我运行了你的代码，我得到了这个错误： XMLHttpRequest cannot load [http://api.jquery.com/get/](http://api.jquery.com/get/)。Access-Control-Allow-Origin 不允许 Origin null。

我用谷歌搜索了它，我得到了这个：[Access-Control-Allow-Origin 不允许 Origin null](https://stackoverflow.com/questions/8456538/origin-null-is-not-allowed-by-access-control-allow-origin)

# google-maps-api-3 - Google Maps API 中的协作混搭？

> ID：11465525
> 
> 赞同：1
> 
> 时间：2012-07-13T06:52:19.927
> 
> 标签：google-maps-api-3

我需要实现一个 Google Maps 协作项目，但 MyMaps 不合适，因为我需要限制参与者的编辑权限以防止他们编辑彼此的标记（MyMaps 允许）。

所以我的问题是：

*   可以使用 Google Maps API (javascript v. 3) 构建协作地图吗？

*   如果可以，注册用户可以拥有不同的编辑权限吗？

*   可以通过 Google Apps 管理项目域的注册用户吗？

*   开发基本协作地图的技术要求和时间有多高？

任何建议表示赞赏！

谢谢

# c# - 如何以编程方式生成手写笔，例如带有压力信息的输入？

> ID：11465526
> 
> 赞同：1
> 
> 时间：2012-07-13T06:52:30.440
> 
> 标签：c#, android, .net

我想创建一个小型周末项目，我可以将 Galaxy Note 手机用作 PC 的平板电脑/手写笔输入（因为这款特殊的手机支持手写笔悬停和一些低但仍然压力敏感度）。我想知道如何发送压力信息。我可以只生成鼠标光标移动/单击事件，但这意味着我会丢失压力数据。

也许有人可以指导我在正确的方向上生成手写笔，例如带有压力信息的输入？

# ssrs-2008 - 调用 SSRS Report Server 它询问“需要身份验证”窗口

> ID：11465530
> 
> 赞同：1
> 
> 时间：2012-07-13T06:53:04.637
> 
> 标签：ssrs-2008, reportviewer, reporting-services, report-viewer2010

我刚刚开始在 SSRS 工作，遇到了一个非常奇怪的问题，即当我调用报表服务器 URL 时，即 localhost/Reports

此 URL 需要用户名和密码的身份验证窗口。像这样。 ![在此处输入图像描述](../Images/51268beb88e04a28b54389d57b03c1cc.png)

如果我在这种情况下提交了本地系统用户帐户信息，它将出现我们想要的报告服务器屏幕。像这样。 ![在此处输入图像描述](../Images/a10c596eedba80aa3a1015526ffc1d83.png)

我创建了一个演示 Web 应用程序，并在我`ReportViewer`用来显示报告和配置它的 default.aspx 页面中。这是我正在使用 `Default.aspx`页面的代码

```
<rsweb:ReportViewer ID="ReportViewer1" runat="server" Width="100%">
</rsweb:ReportViewer> 
```

`Default.aspx.cs`页

```
 ReportViewer1.ProcessingMode = ProcessingMode.Remote;
    IReportServerCredentials irsc = new CustomReportCredentials("username", "password", "India");
    ReportViewer1.ServerReport.ReportServerCredentials = irsc;
    ReportViewer1.ServerReport.ReportServerUrl = new Uri("http://localhost/Reports");
    ReportViewer1.ServerReport.ReportPath = "/SSRS_Demo/Report_CaseMain";
    ReportViewer1.ServerReport.Refresh(); 
```

`CustomReportCredentials.cs`班级

```
public class CustomReportCredentials : IReportServerCredentials
    {
        // local variable for network credential.
        private string _UserName;
        private string _PassWord;
        private string _DomainName;
        public CustomReportCredentials(string UserName, string PassWord, string DomainName)
        {
            _UserName = UserName;
            _PassWord = PassWord;
            _DomainName = DomainName;
        }
        public WindowsIdentity ImpersonationUser
        {
            get
            {
                return null;  // not use ImpersonationUser
            }
        }
        public ICredentials NetworkCredentials
        {
            get
            {
                // use NetworkCredentials
                return new NetworkCredential(_UserName, _PassWord, _DomainName);
            }
        }
        public bool GetFormsCredentials(out Cookie authCookie, out string user, out string password, out string authority)
        {
            // not use FormsCredentials unless you have implements a custom autentication.
            authCookie = null;
            user = password = authority = null;
            return false;
        }
    } 
```

当我在这种情况下运行这个网络应用程序时，它会给我一个错误，即 ![在此处输入图像描述](../Images/2bf7431b7010c600cdefef46012d05d9.png)

请帮我看看我将如何解决这些所有错误......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:10:23.053

经过很长时间的研发，我得到了解决方案。我使用了错误的 SSRS 服务 URL。我正在使用`localhost/Reports`，但实际上 SSRS 报告服务器 URL 是`localhost/ReportServer`. 因此，通过使用这个新的报告服务 URL，我得到了该问题的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-27T08:10:34.983

单击 localhost/Reports 上的报告，然后转到该报告的属性。在右侧有“**数据源**”点击它。然后检查单选按钮“**安全存储在报表服务器中的凭据**”，在这里您需要指定您的 SQL 服务器凭据，即用户名和密码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-08T11:23:57.523

一次性活动：单击报告后，它会在第一次再次询问用户名和密码，以克服此问题，请遵循以下指南。

(i) 打开 Internet Explorer 转到设置单击 Internet 选项

(ii) 转到安全性：-> 本地 Intranet -> 单击站点

(iii) 点击高级：

(iv) 添加站点：ServerIP 地址（例如 172.16.2.224 或 localhost），然后关闭。

# paypal - DoVoid 使交易处于“待处理”状态

> ID：11465538
> 
> 赞同：1
> 
> 时间：2012-07-13T06:53:50.343
> 
> 标签：paypal, express-checkout

使用 PayPal Express Checkout API 创建订单，对其进行授权，然后在发货时我们可以调用 DoCapture，但是如果我们没有库存商品，我们会调用“DoVoid”。

每个 API 调用（包括 DoVoid）都会从 PayPal 返回成功，但是我们已经收到客户的通知，付款状态在 PayPal 概览屏幕中仍处于“待处理”状态。

如果用户在概览屏幕中单击“详细信息”，他们可以看到两笔交易（一笔返还资金），但实际的“订单”并未更新。

有人知道吗：

1.  是否需要进行额外的 API 调用？
2.  从 PayPal 获得帮助的最佳机制是什么？

# xml - 对于如何在 Perl 中发出 XML 请求 - 需要帮助？

> ID：11465539
> 
> 赞同：0
> 
> 时间：2012-07-13T06:53:50.830
> 
> 标签：xml, perl, perl-module

作为 Perl 和 XML 的新手..任何人都可以指导我执行以下操作：我必须编写一个应该执行的 Perl 代码：

1.  建立联系。

2.  获取连接的响应，即 connectionId 并将其存储在变量中。

3.  关闭连接

输入 ：

应发布 XML 请求。请求类型为 http。

我随身携带的 XML 语法。

任何人都可以指导我应该遵循哪些步骤来满足上述要求。

提前致谢

添加代码：

```
use LWP::UserAgent;
use HTTP::Request::Common;
# The xml_request
my $xml_req = "<?xml version=1.0 encoding UTF-8?>
            <!ELEMENT drl (openconnection)>
            <!ATTLIST drl
             mode normal
             connectionid null
            >
            <!ELEMENT openconnection EMPTY>
            <!ATTLIST openconnection
            username admin
            password admin
            ></drl>";
my $ua = LWP::UserAgent->new();
my $response = $ua->post("http://XX.X.X.X:XXXX/lab/v1_2/connection/openConnectionRequest.dtd", Content => $xml_req); 
```

输出是一个哈希，但如果它应该返回并且 id 是一个 no..我哪里出错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:44:08.857

根据您的请求的性质（大小、内容、结构对输入的依赖程度），有几种不同的方法可以做到这一点。

最简单的方法是将您的请求存储在程序中的字符串中，放入变量然后发送。

```
#!/usr/bin/perl
use strict; use warnings;
use LWP::UserAgent;

my ($param1, $param2) = (1, 2);

my $xml = <<XMLREQUEST
<request>
  <param1>$param1</param1>
  <param2>$param2</param2>
</request>
XMLREQUEST
;

my $ua = LWP::UserAgent->new;
my $response = $ua->post('http://www.yourdomain.com/', Content => $xml);
if ($response->is_success) {
  print $response->decoded_content;  # or whatever
}
else {
  die $response->status_line;
} 
```

在这种情况下，我们正在使用[`LWP::UserAgent`](http://search.cpan.org/~gaas/libwww-perl/lib/LWP/UserAgent.pm)为我们进行发送/接收。

下一步是使用模板引擎。[`Text::Template`](http://search.cpan.org/~mjd/Text-Template/lib/Text/Template.pm)可以用来做。我们的示例代码如下所示：

```
#!/usr/bin/perl
use strict; use warnings;
use LWP::UserAgent;
use Text::Template;

my $vars = {
  'username' => 'jon',
  'password' => 'verysecure',
  'param1' => {
    'content' => 'a lot of content for param1',
    'foo'     => 'fofofofooo',
  },
  'param2' => {
    'content' => 'even more of content for param2',
    'bar'     => 'bar bar bar',
  },
  'param3' => {
    'content' => 'some content for param3',
  },
};

my $template = Text::Template->new(TYPE => 'FILEHANDLE', SOURCE => \*DATA );
my $xml = $template->fill_in(HASH => $vars);  

my $ua = LWP::UserAgent->new;
my $response = $ua->post('http://www.yourdomain.com/', Content => $xml);
if ($response->is_success) {
  print $response->decoded_content;  # or whatever
}
else {
  die $response->status_line;
}

__DATA__
<request>
  <auth>
    <username>{$username}</username>
    <password>{$password}</password>
  </auth>
  <param1 foo="{$param1{'foo'}}">{$param1{'content'}}</param1>
  <param2 bar="{$param2{'bar'}}">{$param2{'content'}}</param2>
  <param3>{$param3{'content'}}</param3>
</request> 
```

它采用`$vars`hashref 并将其内容放在模板中的各个位置。`$var->{'username'}`在模板所说的地方填写`{$username}`。在这种情况下，模板是从`DATA`程序下方指定的部分中读取的。一个好方法是为您需要执行的每种请求类型创建一个模板文件。如果请求包含可选元素，`Text::Template`可以使用条件语句（将 Perl 代码放在模板中）来处理。

如果您喜欢更动态的方法，请考虑[`XML::Simple`](http://search.cpan.org/~grantm/XML-Simple/lib/XML/Simple.pm)简单的任务。请记住，这`XML::Simple`并不是最好的 XML 模块。还有其他的，比如`XML::Twig`，更健壮。

```
#!/usr/bin/perl
use strict; use warnings;
use LWP::UserAgent;
use XML::Simple;

my $xmlHash = {
  'request' => {
    'auth' => [ 
      {
        'username' => 'jon', 
      },
      {
        'password' => 'verysecure',
      },
    ],
    'param1' => {
      'content' => 'a lot of content for param1',
      'foo'     => 'fofofofooo',
    },
    'param2' => {
      'content' => 'even more of content for param2',
      'bar'     => 'bar bar bar',
    },
    'param3' => {
      'content' => 'some content for param3',
    },
  }
};

my $xml = XMLout($xmlHash, KeepRoot => 1);  

my $ua = LWP::UserAgent->new;
my $response = $ua->post('http://www.yourdomain.com/', Content => $xml);
if ($response->is_success) {
  print $response->decoded_content;  # or whatever
}
else {
  die $response->status_line;
} 
```

您应该通读文档，`XML::Simple`因为有时它有点奇怪。

如果您想解析您的请求的回复（也是 XML），那么`XML::Simple`也可以用于此。在`XMLin()`这里可以解决问题。

* * *

如果您想要实现一个非常复杂的 Web 服务，请查看[`SOAP::Lite`](http://search.cpan.org/~mkutter/SOAP-Lite/lib/SOAP/Lite.pm)或（如果您有一个大的 WSDL 文件）[`SOAP::WSDL`](http://search.cpan.org/~mkutter/SOAP-WSDL/lib/SOAP/WSDL.pm)。

# android - 干扰键盘保护

> ID：11465543
> 
> 赞同：0
> 
> 时间：2012-07-13T06:54:09.887
> 
> 标签：android, permission-denied, keyguard

我目前正在开发一个可以在状态栏上绘制视图的应用程序。

这是我的代码：

```
@Override
public void onCreate() {
    // TODO Auto-generated method stub
    super.onCreate();
    wm = (WindowManager) getSystemService(Context.WINDOW_SERVICE);
    v = new StatusView(this);

    lp = new WindowManager.LayoutParams(
            WindowManager.LayoutParams.WRAP_CONTENT,
            WindowManager.LayoutParams.WRAP_CONTENT,
            **WindowManager.LayoutParams.TYPE_STATUS_BAR_PANEL**,
            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE
                    | WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,
            PixelFormat.TRANSLUCENT);
    wm.addView(v, lp);
    Log.d(TAG, "Added view");
} 
```

但是，我收到一个安全异常，说我无权使用此视图类型。所以我尝试添加几个权限。以下是我迄今为止尝试过的：

```
<uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
<uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW"/>
<uses-permission android:name="android.permission.EXPAND_STATUS_BAR"/>
<uses-permission android:name="android.permission.DISABLE_KEYGUARD"/>
<uses-permission android:name="android.permission.BIND_REMOTEVIEWS"/>
<uses-permission android:name="android.permission.STATUS_BAR"/> 
```

有什么建议么？这可能是不可能的，因为状态栏不被视为窗口的一部分。

编辑：

具体错误是：

```
android.view.WindowManager$BadTokenException: unable to add window
android.view.ViewRoot$W@40518c50 - permission denied for this window type 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:45:52.593

没关系，我解决了！问题不是 TYPE ，而是 FLAGS。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-05T21:42:12.160

为了在状态栏顶部绘制视图，这是在阅读了这么多 Stackoverflow 帖子后对我有用的组合：

1.  您需要在您的服务或活动上拥有此 LayoutParameters 的 WindowManager：

    ```
    WindowManager.LayoutParams params = new WindowManager.LayoutParams(WindowManager.LayoutParams.MATCH_PARENT,
                statusBarHeight, WindowManager.LayoutParams.TYPE_SYSTEM_OVERLAY,
                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | 
                WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE | WindowManager.LayoutParams.FLAG_FULLSCREEN, 
                PixelFormat.TRANSLUCENT); 
    ```

2.  您只需要在您的 android 清单上获得此权限：

    ```
    uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" 
    ```

希望有帮助。在我的情况下，我只需要用半透明的黄色或绿色为状态栏着色，以表明用户当前正在通话中。

# spring - 使用 Spring Web 流取消

> ID：11465544
> 
> 赞同：0
> 
> 时间：2012-07-13T06:54:10.210
> 
> 标签：spring, spring-webflow

我有一个表单，其中包含从数据库预先填充的值，用户可以在其中更改和保存值。

1）我有一个从数据库中预填充的地址文本，并且有一个选项可以修改 uk 按钮，然后单击此处按钮进入下一页，地址将被填充，如果用户想要更改，他可以更改并保存或否则他可以取消它......但如果地址为空白并取消它，即使它正在使用空白值进行更新。

```
 <view-state id="selectUKAddress" model="address" view="../updateDetails/selectUKAddress.jsp">
    <transition on="populate" to="ukAddressSelectionAction" />
    <transition on="continue" to="updateDetails">
        <set name="viewScope.addressPayload" value="new onlinereg.action.payload.AddressActionPayload(address, studentData, addressType)" />
        <evaluate expression="addressAction.execute(addressPayload)" />
    </transition>
    <transition on="cancel" to="updateDetails" validate="false" >
    </transition>
</view-state>

 <view-state id="updateDetails" model="studentData" view="../updateDetails/updateDetails.jsp">
    <on-entry>
        <evaluate expression="navigationVO.personalDetails=true" />
        <evaluate expression="navigationVO.activeTab='personalDetails'" />
        <set name="viewScope.disabilityCodes" value="registrationService.getDisabilityCodes()" />
        <set name="viewScope.legacyDisabilityCodes" value="registrationService.getLegacyDisabilityCodes()" />
        <set name="viewScope.ethnicityCodes" value="registrationService.getEthnicityList()" />
        <set name="viewScope.countries" value="registrationService.getCountries()" />
        <set name="viewScope.nationality" value="registrationService.getNationality()" />
        <set name="viewScope.qualification" value="registrationService.getQualification()" />
        <set name="viewScope.university" value="registrationService.getUniversity()" />
    </on-entry>
    <transition on="updateUKHomeAddress" to="selectUKAddress" validate="false">
        <evaluate expression="studentData.homeAddress = addressService.generateUKAddress(studentData.homeAddress)" />
        <set name="flowScope.address" value="studentData.homeAddress" />
        <set name="flowScope.addressType" value="@uk.ac.city.onlinereg.action.AddressAction@HOME_ADDRESS" />
    </transition>
    <transition on="updateNonUKHomeAddress" to="selectNonUKAddress" validate="false">
        <evaluate expression="studentData.homeAddress = addressService.generateNonUKAddress(studentData.homeAddress)" />
        <set name="flowScope.address" value="studentData.homeAddress" />
        <set name="flowScope.addressType" value="@uk.ac.city.onlinereg.action.AddressAction@HOME_ADDRESS" />
    </transition>
    <transition on="updateUKTermAddress" to="selectUKAddress" validate="false">
        <evaluate expression="studentData.termAddress = addressService.generateUKAddress(studentData.termAddress)" />
        <set name="flowScope.address" value="studentData.termAddress" />
        <set name="flowScope.addressType" value="@uk.ac.city.onlinereg.action.AddressAction@TERM_ADDRESS" />
    </transition>
    <transition on="updateHallsTermAddress" to="selectHallsAddress" validate="false">
        <evaluate expression="studentData.termAddress = addressService.generateHallsAddress(studentData.termAddress)" />
        <set name="flowScope.address" value="studentData.termAddress" />
        <set name="flowScope.addressType" value="@uk.ac.city.onlinereg.action.AddressAction@TERM_ADDRESS" />
    </transition>
    <transition on="updateNonUKTermAddress"  to="selectNonUKAddress" validate="false">
        <evaluate expression="studentData.termAddress = addressService.generateNonUKAddress(studentData.termAddress)" />
        <set name="flowScope.address" value="studentData.termAddress" />
        <set name="flowScope.addressType" value="@uk.ac.city.onlinereg.action.AddressAction@TERM_ADDRESS" />
    </transition>
    <transition on="continue" to="finish" />
</view-state> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T13:22:04.517

添加`bind="false"`到您的`cancel`过渡中。

见[http://static.springsource.org/spring-webflow/docs/2.3.x/reference/htmlsingle/spring-webflow-reference.html#view-bind](http://static.springsource.org/spring-webflow/docs/2.3.x/reference/htmlsingle/spring-webflow-reference.html#view-bind)

# mysql - Cakephp 2：如何从数据库中每个表的记录中生成 sql

> ID：11465547
> 
> 赞同：0
> 
> 时间：2012-07-13T06:54:30.177
> 
> 标签：mysql, insert, cakephp-2.0, dump

我需要找到一种方法来为数据库中的每个表生成一个 sql 文件（插入语句）。我的数据库可以存储许多站点的记录，我只需要将特定站点的记录导出到 sql。我正在使用 MySQL。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T08:40:36.080

I am sure, [This link](http://faq.1and1.com/web_space__access/mysql/13.html) will help you to create mysql script using php.

# asp.net - jquery 错误：microsoft jscript 运行时错误“$”是未定义的 jquery？

> ID：11465548
> 
> 赞同：-3
> 
> 时间：2012-07-13T06:54:37.180
> 
> 标签：asp.net

我使用以下 jquery 来验证特定的 div。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#btnNext').click(function () {
            if ($('#page1 input[id$=txt_companyname]').val() == "") {
                alert('company Name is Blank!');
                $('#page1 input[id$=txt_companyname]').focus();
            }
            else if ($('#page1 input[id$=txt_headoff]').val() == "") {
                alert('Password is Blank!');
                $('#page1 input[id$=txt_headoff]').focus();
            }
        });
    });
</script> 
```

我在此页面中有按钮，如果我单击 btn 而不填写这些字段，则应显示警报消息。

```
<div id="page1" runat="server" style=" padding-left:10px">
<div class="divsize">
                    <div class="labelsize"><asp:Label ID="lbl_companyname" runat="server" Text="1\. Name of the Company" ></asp:Label></div>
                    <div class="labelcolon"><asp:Label ID="Label2" runat="server" Text=":" ></asp:Label></div>
                    <div class="labelsize"><asp:TextBox ID="txt_companyname" runat="server" Width="250px" ></asp:TextBox></div>
                </div>
                <div class="divsize">
                    <div class="labelsize"><asp:Label ID="lbl_headoff" runat="server" Text="2\. a) Head Office / Registered Office" ></asp:Label></div>
                    <div class="labelcolon"><asp:Label ID="Label3" runat="server" Text=":"></asp:Label></div>
                    <div class="labelsize"><asp:TextBox ID="txt_headoff" runat="server" 
                        TextMode="MultiLine" Width="250px" ></asp:TextBox></div>
                </div>
                </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T06:58:56.050

此错误的可能原因：

1.  您还没有引用 jQuery 库。
2.  您在加载库之前调用该函数。
3.  使用另一个重新定义了“$”的库。

如果您已经正确引用了 jQuery，并且没有其他库重新定义“$”，那么您应该在文档准备好时调用您的函数，如下所示

```
$(document).ready(function()
    {
    //All your code here.
    }); 
```

# html - 内部 div 上的 margin-top 正在应用于外部 div。

> ID：11465549
> 
> 赞同：0
> 
> 时间：2012-07-13T06:54:45.943
> 
> 标签：html, css

这是我设置的一个小提琴来说明问题。

[http://jsfiddle.net/rgfjL/13/](http://jsfiddle.net/rgfjL/13/)

这是代码

HTML

```
<div class="body">
    <div class="contact-form" class="clearfix">
        <p> asdsasadsad </p>
    </div>
<div> 
```

CSS

```
div.body {
  display: block;
  height: 800px;
  width: 1024px;
  background: #474747;
}

div.contact-form {
  display: block;
  background-color:#F2F7F9;
  height: 600px;
  width:465px;
  padding:20px;
  margin: 250px auto;
  border: 6px solid #8FB5C1;
 -moz-border-radius:15px;
 -webkit-border-radius:15px;
  border-radius:15px;
}​ 
```

正如您在小提琴中看到的那样，表单 div 与 body div 的顶部齐平。更改表单上的上边距会将它们都向下推。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T06:55:49.957

因为这是崩溃的边距

```
div.body {
    overflow: hidden;
 } 
```

现场演示[http://jsfiddle.net/rgfjL/15/](http://jsfiddle.net/rgfjL/15/)

更多信息[http://reference.sitepoint.com/css/collapsingmargins](http://reference.sitepoint.com/css/collapsingmargins)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:02:20.940

申请`overflow: hidden;`班级`body`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:12:39.027

使用溢出：隐藏；在 div.body 上将导致 div.contact-form 被切断。

代替 div.contact-form 上的 margin-top，在 div.body 上添加 padding-top。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T10:03:03.860

这就是你必须让它工作的方式：http: [//jsfiddle.net/rgfjL/16/](http://jsfiddle.net/rgfjL/16/)

```
<div class="body">
            <div class="contact-form" class="clearfix">
                <p> asdsasadsad </p>
    </div>
<div>

div.body {
    display: block;
    height: 800px;
    width: 1024px;
    background: #474747;
    padding-top:250px;
}

div.contact-form {
    display: block;
    background-color:#F2F7F9;
    height: 600px;
    width:465px;
    padding:20px;
    margin: 0 auto;
    border: 6px solid #8FB5C1;
    -moz-border-radius:15px;
    -webkit-border-radius:15px;
    border-radius:15px;
} 
```

# sql - 在 SQL Server 中对结果集求和

> ID：11465550
> 
> 赞同：1
> 
> 时间：2012-07-13T06:54:51.057
> 
> 标签：sql

假设我有如下表格：

```
Class  Student  Maths  English
------------------------------------
 1      a        50       60
 1      b        -        60
 2      c        70       50
 2      d        40        - 
```

我需要一个 SQL 查询来生成这个结果集：

```
Score        Maths   English  Total
--------------------------------------
 1             50       120     170
 2             110       50     160
Grand Total    160       170    330 
```

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T06:59:02.310

```
SELECT
    Class,
    sum(Maths) as Maths,
    sum(English) as English,
      sum(Maths+English) as Total
FROM
    table
Group by
    Class with Rollup 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:47:59.393

[sql小提琴](http://sqlfiddle.com/#!3/7f1f7/10)

我使用了一个看起来不那么优雅的联合

```
create table the_table 
(
  class int,
  student varchar(5),
  maths int,
  english int,
)
insert into the_table
values
( 1, 'a', 50, 60),
( 1, 'b', 0, 60),
( 2, 'c', 70, 50),
( 2, 'd', 40, 0)

select 
  [class] = convert(varchar(50),class)  
  , sum(maths) maths
  , sum(english) english
  , sum(maths + english) total
from the_table
group by
  class
union
select 
  [class] = 'Grand Total'
  , sum(maths) maths
  , sum(english) english
  , sum(maths + english) total
from the_table 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:00:47.870

试试这个：

```
SELECT 
    ISNULL(Class, 'Grand Total') as Score, 
    sum(Maths) as Maths, 
    sum(English) as English,
    sum(Maths) + sum(English) as Total
FROM 
    table 
GROUP BY 
    ISNULL(Class, 'Grand Total')
WITH ROLLUP 
```

请注意，这是 T-SQL 语法，可能需要对 MySql 或 Oracle 进行一些调整。

# c++ - 当一个数组在 C++ 中多次初始化时会发生什么？

> ID：11465552
> 
> 赞同：0
> 
> 时间：2012-07-13T06:55:02.703
> 
> 标签：c++

当我在 C++ 中多次初始化一个变量时，内存位置会发生什么？例如：

```
LPWSTR sampleString = new whcar_t[10];
//some operations here
sampleString = new wchar_t[2];
//some operations here
sampleString = new wchar_t[25];
//some operations here 
```

如果我通过 using 删除内存，`delete [] sampleString;`是否会清除所有关联的内存位置？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T06:56:32.583

不，只有最后一个。其余的一切都将永远消失。这就是所谓的“内存泄漏”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T06:57:14.990

不，您必须将每个`new[]`与单独的`delete[]`.

在您的示例中，前两个分配将丢失。内存泄漏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:57:19.500

不，您之前分配的所有内存都丢失了。你应该考虑使用智能指针

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:09:46.350

请注意，如果您将智能指针指向对象而不是数组，则使用智能指针会很好。
如果你用结构/类包装数组就可以了。您还可以使用 STL Vector（使用您选择的智能指针）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T07:16:46.667

> 如果我使用 delete [] sampleString 删除内存；所有相关的内存位置都会被清除吗？

不，它如何 sampleString 一次只能存储一个引用，所以当您将它发送给它时，`delete []`它只知道最后一个。

由于`C++`默认情况下没有垃圾收集，因此在手动分配/解除分配时，您必须手动处理内存管理。

正如一些人指出的那样，您可能想要使用智能指针。

# c# - 无法将表达式类型谓词转换为返回类型

> ID：11465553
> 
> 赞同：0
> 
> 时间：2012-07-13T06:55:09.847
> 
> 标签：c#, linq, entity-framework-4, lambda

我有一个带有通用方法的存储库

```
 public IQueryable<TEntity> Populate<TEntity1>(Func<TEntity, TEntity1> predicate)
    {
        return (IQueryable<TEntity>)_objectSet.Select(predicate);
    } 
```

和一个调用这个方法的类

```
 public IDictionary<int,string> Populatelist()
    {
        var dic =_repository.Populate<DTO.Category>(category => new { category.CategoryID, category.CategoryName }).ToList();

        return dic.ToDictionary(c => c.CategoryID, c => c.CategoryName);

    } 
```

但我不知道它为什么显示

> 无法将表达式类型谓词：category => new { category.CategoryID, category.CategoryName } 转换为返回类型 DTO.Category

有什么猜测吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:14:44.273

```
 public IQueryable<TEntity1> Populate<TEntity>(Func<TEntity, TEntity1> predicate)
    {
        return (IQueryable<TEntity1>)_objectSet.Select(predicate);
    }

    public IDictionary<int, string> Populatelist()
    {
        var dic = _repository.Populate<DTO.Category>(category => new DTO.Category() { category.CategoryID, category.CategoryName }).ToList();

        return dic.ToDictionary(c => c.CategoryID, c => c.CategoryName);

    } 
```

我希望这将有所帮助。在 Lambda 表达式中使用 new DTO.Category() 而不是匿名类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:43:23.187

采用

```
_repository.Populate(category => ... 
```

代替

```
_repository.Populate<DTO.Category>(category => ... 
```

的返回类型也`Popualte`应该是`IQueryable<TEntity1>`并且演员表应该被删除。

* * *

**解释**

以下方法

```
public IQueryable<TEntity> Populate<TEntity1>(Func<TEntity, TEntity1> predicate) 
```

除了 a`Func<TEntity, TEntity1>`作为参数。

所以如果你用`DTO.Category`as调用这个方法`TEntity1`，它`predicate`应该是一个`Func<TEntity, DTO.Category>`.

因此，您调用`.Populate<DTO.Category>`，但您的参数不是`Func<TEntity, DTO.Category>`，而是`category => new { category.CategoryID, category.CategoryName }`，返回新匿名类型的表达式。

因此，错误消息很清楚地说它无法转换您的表达式，因为它需要一个返回 a 的函数`DTO.Category`。

* * *

**结论**

我猜`DTO.Category`只是`TEntity`你的`_repository`。

所以你只想省略类型参数。

```
var dic =_repository.Populate(category => new { category.CategoryID, category.CategoryName }).ToList(); 
```

所以类型参数`Populate<TEntity1>`将由编译器推断：它将是您使用表达式创建的异常类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-15T05:17:15.800

很好地找到了解决方案...签名应该是

```
List<TResult> Populate<TResult>(Expression<Func<TEntity, TResult>> predicate); 
```

Repository 类中的实现

```
public List<TResult> Populate<TResult>(Expression<Func<TEntity, TResult>> source)
{
        return _objectSet.Select(source).ToList();
} 
```

现在从业务逻辑中使用它，例如-

```
 public IDictionary<int,string> Populatelist( )
    {

        var expectedResult =_repository.Populate(category => new {category.CategoryID, category.CategoryName}).ToList();

        return expectedResult.ToDictionary(c => c.CategoryID, c => c.CategoryName);

    } 
```

问题是因为返回类型是匿名的，所以在传递值时会产生问题，现在返回类型是列表类型的结果，所以没有转换错误..

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-07-13T07:21:54.500

您的方法的返回类型是 IQueryable，但您的方法返回的是匿名类型
new { category.CategoryID, category.CategoryName }，它不能转换为 TEntity。

另外，我认为使用
return _objectSet.Select(predicate).AsQueryable();更安全

顺便说一句，谓词对于您的参数来说不是一个好名字，因为谓词意味着一个 lambda，它通过返回一个标记项目是否通过测试的布尔值来区分项目（例如 Where 扩展方法的谓词参数）
，
这有帮助吗？

# html - 链接的背景图片未加载

> ID：11465554
> 
> 赞同：1
> 
> 时间：2012-07-13T06:55:12.493
> 
> 标签：html, image, background, hyperlink

这是行不通的。仅显示跨度字符串。图像未加载。在 Firefox 中调试时，div#social a.fb {} 中没有条目。如果我删除`background-image: url(../../images/job/facebook.jpg");`，则该类将加载完整条目。

```
<div id="social">
   <span>follow us</span>
   <a class="fb" title="Like us on Facebook" target="_blank" href="https://www.facebook.com/pages/Hiring-Steps/155650987881886">Facebook</a>   
</div>

div#social a.fb {
    background-image: url(../../images/job/facebook.jpg");
    background-repeat: no-repeat;
    display: inline-block;
    height: 24px;
    padding: 0 !important;
    text-indent: -9999px;
    width: 24px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T16:55:29.413

你在这里有一个错误：

```
background-image: url(../../images/job/facebook.jpg"); 
```

从末尾删除结束引号或添加开始引号。也许这就是图像未加载的原因。

# python - 我们可以将 XPath 与 BeautifulSoup 一起使用吗？

> ID：11465555
> 
> 赞同：139
> 
> 时间：2012-07-13T06:55:19.553
> 
> 标签：python, web-scraping, xpath, beautifulsoup, urllib

我正在使用 BeautifulSoup 来抓取一个 URL，并且我有以下代码，以查找`td`其类为的标签`'empformbody'`：

```
import urllib
import urllib2
from BeautifulSoup import BeautifulSoup

url =  "http://www.example.com/servlet/av/ResultTemplate=AVResult.html"
req = urllib2.Request(url)
response = urllib2.urlopen(req)
the_page = response.read()
soup = BeautifulSoup(the_page)

soup.findAll('td',attrs={'class':'empformbody'}) 
```

现在在上面的代码中我们可以使用`findAll`获取标签和相关信息，但我想使用 XPath。是否可以将 XPath 与 BeautifulSoup 一起使用？如果可能，请提供我的示例代码。

* * *

## 回答 #1

> 赞同：206
> 
> 时间：2012-07-13T07:31:41.127

不，BeautifulSoup 本身不支持 XPath 表达式。

另一个库[lxml](http://lxml.de/)确实支持 XPath 1.0 *。*它有一个[BeautifulSoup 兼容模式](http://lxml.de/elementsoup.html)，它会尝试像 Soup 那样解析损坏的 HTML。但是，[默认的 lxml HTML 解析器](http://lxml.de/parsing.html)在解析损坏的 HTML 方面同样出色，而且我相信速度更快。

将文档解析为 lxml 树后，您可以使用该`.xpath()`方法搜索元素。

```
try:
    # Python 2
    from urllib2 import urlopen
except ImportError:
    from urllib.request import urlopen
from lxml import etree

url =  "http://www.example.com/servlet/av/ResultTemplate=AVResult.html"
response = urlopen(url)
htmlparser = etree.HTMLParser()
tree = etree.parse(response, htmlparser)
tree.xpath(xpathselector) 
```

还有一个具有附加功能的[专用`lxml.html()`模块。](https://lxml.de/lxmlhtml.html)

请注意，在上面的示例中，我将`response`对象直接传递给`lxml`，因为让解析器直接从流中读取比先将响应读取到大字符串中更有效。要对`requests`库执行相同操作，您希望[在启用透明传输解压缩后](https://stackoverflow.com/questions/13137817/how-to-download-image-using-requests/13137873#13137873)`stream=True`设置并传入`response.raw`对象：

```
import lxml.html
import requests

url =  "http://www.example.com/servlet/av/ResultTemplate=AVResult.html"
response = requests.get(url, stream=True)
response.raw.decode_content = True
tree = lxml.html.parse(response.raw) 
```

您可能感兴趣的是[CSS 选择器支持](http://lxml.de/cssselect.html)；该类`CSSSelector`将 CSS 语句转换为 XPath 表达式，使您的搜索`td.empformbody`变得更加容易：

```
from lxml.cssselect import CSSSelector

td_empformbody = CSSSelector('td.empformbody')
for elem in td_empformbody(tree):
    # Do something with these table cells. 
```

来个完整的循环：BeautifulSoup 本身*确实*有非常完整的[CSS 选择器支持](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors)：

```
for cell in soup.select('table#foobar td.empformbody'):
    # Do something with these table cells. 
```

* * *

## 回答 #2

> 赞同：171
> 
> 时间：2012-07-13T11:44:45.663

我可以确认 Beautiful Soup 中没有 XPath 支持。

* * *

## 回答 #3

> 赞同：55
> 
> 时间：2017-01-06T21:38:07.587

正如其他人所说，BeautifulSoup 没有 xpath 支持。可能有很多方法可以从 xpath 中获取内容，包括使用 Selenium。但是，这里有一个适用于 Python 2 或 3 的解决方案：

```
from lxml import html
import requests

page = requests.get('http://econpy.pythonanywhere.com/ex/001.html')
tree = html.fromstring(page.content)
#This will create a list of buyers:
buyers = tree.xpath('//div[@title="buyer-name"]/text()')
#This will create a list of prices
prices = tree.xpath('//span[@class="item-price"]/text()')

print('Buyers: ', buyers)
print('Prices: ', prices) 
```

我用[这个](http://docs.python-guide.org/en/latest/scenarios/scrape/)作为参考。

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2014-07-09T13:11:19.327

BeautifulSoup 有一个名为[findNext](http://www.crummy.com/software/BeautifulSoup/bs4/doc/index.html#find-all-next-and-find-next)的函数，来自当前元素导向的子元素，所以：

```
father.findNext('div',{'class':'class_value'}).findNext('div',{'id':'id_value'}).findAll('a') 
```

上面的代码可以模仿下面的xpath：

```
div[class=class_value]/div[id=id_value] 
```

* * *

## 回答 #5

> 赞同：16
> 
> 时间：2020-05-06T18:24:39.923

```
from lxml import etree
from bs4 import BeautifulSoup
soup = BeautifulSoup(open('path of your localfile.html'),'html.parser')
dom = etree.HTML(str(soup))
print dom.xpath('//*[@id="BGINP01_S1"]/section/div/font/text()') 
```

*上面使用了 Soup 对象与 lxml 的组合，可以使用 xpath 提取值*

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-08-18T10:15:26.120

当您使用 lxml 时，一切都很简单：

```
tree = lxml.html.fromstring(html)
i_need_element = tree.xpath('//a[@class="shared-components"]/@href') 
```

但是当使用 BeautifulSoup BS4 时也很简单：

*   首先删除“//”和“@”
*   第二 - 在“=”之前添加星号

试试这个魔法：

```
soup = BeautifulSoup(html, "lxml")
i_need_element = soup.select ('a[class*="shared-components"]') 
```

如您所见，这不支持子标签，因此我删除了“/@href”部分

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-07-13T07:30:25.333

我搜索了他们的[文档](http://www.crummy.com/software/BeautifulSoup/bs4/doc/)，似乎没有 XPath 选项。

此外，正如您[在此处](https://stackoverflow.com/questions/1814750/how-can-i-translate-this-xpath-expression-to-beautifulsoup)看到的关于 SO 的类似问题，OP 要求将 XPath 转换为 BeautifulSoup，所以我的结论是 - 不，没有可用的 XPath 解析。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-12-06T08:44:12.967

也许您可以在没有 XPath 的情况下尝试以下操作

```
from simplified_scrapy.simplified_doc import SimplifiedDoc 
html = '''
<html>
<body>
<div>
    <h1>Example Domain</h1>
    <p>This domain is for use in illustrative examples in documents. You may use this
    domain in literature without prior coordination or asking for permission.</p>
    <p><a href="https://www.iana.org/domains/example">More information...</a></p>
</div>
</body>
</html>
'''
# What XPath can do, so can it
doc = SimplifiedDoc(html)
# The result is the same as doc.getElementByTag('body').getElementByTag('div').getElementByTag('h1').text
print (doc.body.div.h1.text)
print (doc.div.h1.text)
print (doc.h1.text) # Shorter paths will be faster
print (doc.div.getChildren())
print (doc.div.getChildren('p')) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-12-15T08:35:00.883

这是一个相当古老的线程，但现在有一个变通的解决方案，当时可能不在 BeautifulSoup 中。

这是我所做的一个例子。我使用“请求”模块来读取 RSS 提要并在名为“rss_text”的变量中获取其文本内容。有了它，我通过 BeautifulSoup 运行它，搜索 xpath /rss/channel/title，并检索其内容。它并不完全是 XPath 的全部荣耀（通配符、多路径等），但如果您只是想要定位一个基本路径，那么它可以工作。

```
from bs4 import BeautifulSoup
rss_obj = BeautifulSoup(rss_text, 'xml')
cls.title = rss_obj.rss.channel.title.get_text() 
```

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2021-03-01T00:26:44.680

采用 `soup.find(class_='myclass')`

# android - 如果我在谷歌地图中有超过 150 个标记，应用程序挂起

> ID：11465559
> 
> 赞同：0
> 
> 时间：2012-07-13T06:55:41.060
> 
> 标签：android, google-maps, google-maps-markers

我成功地在谷歌地图上显示标记，但问题是如果我的标记多于应用程序响应缓慢。

```
public void setMarkerToPoint(ArrayList<BinForLocation> list)
{       
    for(int i = 0;i<list.size();i++)
    {
        Log.v("log",""+list.get(i).getLongitude()); 
        Log.v("log",""+list.get(i).getLatitude()); 
        try
        {
            point = new GeoPoint((int) (Double.parseDouble(list.get(i).getLatitude()) * 1e6),(int) (Double.parseDouble(list.get(i).getLongitude()) * 1e6));
            overlayitem = new OverlayItem(point, list.get(i).getLocationName()+"_@_"+list.get(i).getLatitude()+"_@_"+list.get(i).getLongitude(), list.get(i).getAddress());
            itemizedoverlay.addOverlay(overlayitem);
            mapOverlays.add(itemizedoverlay);
        }
        catch (Exception e)
        {
            Log.v("log",""+e.toString());
            e.printStackTrace();
        }

        point = new GeoPoint((int) (Double.parseDouble(list.get(i).getLatitude()) * 1e6),(int) (Double.parseDouble(list.get(i).getLongitude()) * 1e6));
        CenterLocation(point);
        myMapController.setZoom(14);
    }
} 
```

这个函数我在 oncreate() 中调用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:07:53.800

如果您制作了自己的 customoverlay，请确保您的 addOverlay 方法不会填充。填充应在添加所有叠加层后首先发生。如果您每次添加时都进行填充，您最终会得到许多叠加层。

确保它使用 2 种方法：

```
public void addOverlay(CustomOverlayItem overlay) {
    mOverlays.add(overlay);
}

public void populateOverlay() {
    populate();
} 
```

# java - 多线程应用程序中的 System.setproperty

> ID：11465564
> 
> 赞同：0
> 
> 时间：2012-07-13T06:55:52.170
> 
> 标签：java, multithreading, garbage-collection

在我的应用程序（多线程应用程序）中，当调用 GC 时，将调用信号处理程序。在此处理程序中，我试图设置一个属性以表明已调用 GC。

```
System.setProperty(key, "true") ; 
```

其他线程使用读取密钥

```
System.getProperty(key) ; 
```

但是，当键的值已设置为 true 而应用程序的其他线程不将该值读取为 true 时会出现问题（对于它们来说仍然是 false - 在应用程序启动期间设置的值）我已经调试了很多次，但无法纠正它。需要您对此提出建议。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:06:23.313

这让我感到惊讶，因为`setProperty(...)`和`getProperty(...)`都是`synchronized`：

```
public synchronized Object setProperty(String key, String value) {
    return put(key, value);
}
...
public synchronized V get(Object key) {
Entry tab[] = table;
int hash = key.hashCode();
int index = (hash & 0x7FFFFFFF) % tab.length;
    ...
} 
```

*   线程是否有可能使用不同的值`key`？他们如何获得这个价值？它是一个`final static`常数吗？

*   也许线程没有适当地测试值？你应该做这样的事情：

    ```
    if (Boolean.parseBoolean(System.getProperty(key)) {
       ...
    } 
    ```

# java - 如何在java中将字符串转换为xml？

> ID：11465567
> 
> 赞同：0
> 
> 时间：2012-07-13T06:56:05.480
> 
> 标签：java, xml, string

我有一个字符串对象“hello world”，我需要从这个字符串创建一个 xml 文件，其中 hello world 作为文本内容。我尝试了以下代码片段

```
String xmlString = "<?xml version=\"1.0\" encoding=\"utf-8\"?><soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"></soap:Envelope>";

    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();   

    DocumentBuilder builder;   
    try  
    {   
        builder = factory.newDocumentBuilder();   

        // Use String reader   
        Document document = builder.parse( new InputSource(   
                new StringReader( xmlString) ) );   

        TransformerFactory tranFactory = TransformerFactory.newInstance();   
        Transformer aTransformer = tranFactory.newTransformer();   
        Source src = new DOMSource( document );   
        Result dest = new StreamResult( new File("D:\\myXML.xml" ) );   
        aTransformer.transform( src, dest );  

    } catch (Exception e)   
    {   
        // TODO Auto-generated catch block   
        e.printStackTrace();   
    } 
```

此代码工作正常。但是当我用“Hello world”替换字符串时它不起作用。任何人都可以帮助我吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:03:31.210

您不能将字符串“hello world”转换为 XML，因为它不是有效的 xml 文档。它没有声明，也没有标签。

上面的代码不会将文本转换为 xml 对象，它只会获取一个已经是有效 xml 的字符串并将其写入文件。

老实说，如果你只是想把它写到一个文件中，xml 的东西都是不必要的。

如果您想要某种“hello world”xml 文件，您需要自己添加声明和一些标签。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:04:53.673

此错误是因为您尝试将其解析`xmlString`为有效的 XML 字符串，但事实并非如此。例如，您的代码将运行良好，如下所示`xmlString`：

```
String xmlString = "<hi>Hello World</hi>"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:06:26.767

如果你有`String newNode = "<node>Hello World</node>";`

您可以使用

```
 Element node =  DocumentBuilderFactory
    .newInstance()
    .newDocumentBuilder()
    .parse(new ByteArrayInputStream(newNode.getBytes()))
    .getDocumentElement(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T10:12:49.767

最简单的解决方案是：如果它是一个有效的字符串（根据 XML 规范正确），只需使用 FileWriter 将其写入一个新文件并为其提供 .xml 扩展名。无论如何，如果它不是有效的 XML 字符串，它将不会转换

# android - 如何在选定的行上显示从相机捕获的图像？

> ID：11465572
> 
> 赞同：2
> 
> 时间：2012-07-13T06:56:42.973
> 
> 标签：android, camera

我有行列表。如果我想选择特定行并在“相机”按钮的 onclick 事件中，应将捕获的图像添加到该选定行。但我的问题是捕获的图像添加到最后一行。

```
private void getlist(final ArrayList<Exceptions> exceptionRowsList2) {

    lv1.setAdapter(new ArrayAdapter<Exceptions>(getApplicationContext(),
            R.layout.damagerow, exceptionRowsList2) {
        @Override
        public View getView(final int position, View convertView,
                ViewGroup parent) {
            final View row;

            if (null == convertView) {
                row = mInflater.inflate(R.layout.damagerow, null);
            } else {
                row = convertView;
            }

            TextView errorCode = (TextView) row.findViewById(R.id.error_code);
            TextView errorCodeval = (TextView) row.findViewById(R.id.error_code_val);
            TextView description = (TextView) row.findViewById(R.id.desc);
            TextView descriptionVal = (TextView) row.findViewById(R.id.desc_val);
            damage1 = (ImageView) row.findViewById(R.id.damageimage1);
            damage2 = (ImageView) row.findViewById(R.id.damageimage2);
            damage3 = (ImageView) row.findViewById(R.id.damageimage3);
            damage4 = (ImageView) row.findViewById(R.id.damageimage4);

            damage1.setImageResource(R.drawable.damage_bg_default);
            damage2.setImageResource(R.drawable.damage_bg_default);
            damage3.setImageResource(R.drawable.damage_bg_default);
            damage4.setImageResource(R.drawable.damage_bg_default);
            errorCode.setTextColor(Color.BLACK);
            errorCodeval.setTextColor(Color.BLACK);
            description.setTextColor(Color.BLACK);
            descriptionVal.setTextColor(Color.BLACK);

            errorCode.setText("Error Code: ");
            errorCodeval.setText(""
                    + exceptionRowsList2.get(position).getAreaCode() + "-"
                    + exceptionRowsList2.get(position).getTypeCode() + "-"
                    + exceptionRowsList2.get(position).getSeverityCode()
                    .toString());
            description.setText("Description: ");
            descriptionVal.setText(""
                    + exceptionRowsList2.get(position).getAreaDesc() + " - "
                    + exceptionRowsList2.get(position).getTypeDesc() + " - "
                    + exceptionRowsList2.get(position).getSeverityDesc());

            row.setBackgroundResource(R.drawable.error_detail_list_bg);
            row.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    row.setBackgroundResource(R.drawable.select_damage);
                    exceptionRowsList2.get(position).setTakeImage(true);
                    exceptionRowsList2.get(position).setDelete(true);
                }
            });
            return row;
        }
    });
} 
```

谁能帮我这个..？请...

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

    if (requestCode == CAMERA_PIC_REQUEST) {

        if (resultCode == RESULT_OK) {
            Bitmap thumbnail = (Bitmap) data.getExtras().get("data");
            //3
            ByteArrayOutputStream bytes = new ByteArrayOutputStream();
            thumbnail.compress(Bitmap.CompressFormat.JPEG, 100, bytes);
            String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());
            //uuid = UUID.randomUUID().toString(); 
            String imageFile = timeStamp + ".png";
            Log.w("Images From Sdcard", imageFile);
            damageList.add(imageFile);

            File file = new File(Environment.getExternalStorageDirectory()+File.separator + imageFile);
            try {
                file.createNewFile();
                FileOutputStream fo = new FileOutputStream(file);
                //5
                fo.write(bytes.toByteArray());
                fo.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            String pathName = "/sdcard/" + imageFile;
            Resources res = getResources();
            Bitmap bitmap = BitmapFactory.decodeFile(pathName);
            bitmap = Bitmap.createScaledBitmap(bitmap, 100, 100, true);
            BitmapDrawable bd = new BitmapDrawable(res, bitmap);

            switch(strDamages.length) {
            case 0 :
                damage1.setImageBitmap(bitmap);
                break;
            case 1 :
                damage2.setImageBitmap(bitmap);
                i++;
                break;
            case 2 :
                damage3.setImageBitmap(bitmap);
                i++;
                break;
            case 3 :
                damage4.setImageBitmap(bitmap);
                i++;
                break;
            }

            objDamages = damageList.toArray();
            strDamages = Arrays.copyOf(objDamages, objDamages.length, String[].class);

        } else if (resultCode == RESULT_CANCELED) {
            AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(
                    this).setMessage("Camera Activity Cancelled.")
                    .setTitle("status");
            dialogBuilder.setPositiveButton("OK",
                    new android.content.DialogInterface.OnClickListener() {
                @Override
                public void onClick(DialogInterface dialog,
                        int which) {
                    return;
                }
            });
            dialogBuilder.create().show();
        } else {
            // Toast.makeText(this, "Picture was not taken",
            // Toast.LENGTH_SHORT);
        }
    }
} 
```

## 相机按钮点击事件..

```
case R.id.camera_btn:
        if(exceptionRowsList.isEmpty()){
            AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(
                    this).setMessage("No Exception Added")
                    .setTitle("Alert");
            dialogBuilder.setPositiveButton("OK",
                    new android.content.DialogInterface.OnClickListener() {
                @Override
                public void onClick(DialogInterface dialog,
                        int which) {
                    return;
                }
            });
            dialogBuilder.create().show();
        }else{
            for (Exceptions exceptions : ede) {
                if(exceptions.getDelete()){
                    Intent cameraIntent = new Intent(
                            android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
                    startActivityForResult(cameraIntent, CAMERA_PIC_REQUEST);
                    break;
                }else{
                    //getlist(ede);
                    //exceptionRowsList.add(exceptions);
                }
            }
        }
        break; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:10:22.373

所需的输出.. 实际上，您的 imageviews `onActivitResult()` **有 List 的 Last row 的引用**。

**解决方案：**

将图像文件路径存储在数组或列表中，其中包含列表视图的单击行的位置，然后从中`onActivityResult()`调用。`adapter.notifyDatasetChnaged()`

现在，在您的适配器`getView()`检查项目的位置上，您存储在数组中的内容`onActivityResult()`，在这种情况下，使用存储的位图图像文件路径在图像视图中显示。

# android - 如何在安卓手机的主页按钮上添加功能？

> ID：11465574
> 
> 赞同：0
> 
> 时间：2012-07-13T06:57:02.553
> 
> 标签：android

我正在开发一个安卓应用程序。有第一个登录页面，然后根据要求登录页面。当我按下按钮主页按钮时，它会出现在 android 主屏幕上。当我再次启动应用程序时，它会在之前离开的 Activity 上移动，而不是在登录页面上移动。请帮帮我。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:02:06.713

请看，出于安全原因，android 开发人员本身不允许我们使用主页按钮更改任何类型的行为。但是如果你真的想禁用主页按钮，你可以通过从[这个答案](https://stackoverflow.com/a/8889913/19679)中添加下面的代码来做到这一点：

```
@Override
public void onAttachedToWindow() {
this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
super.onAttachedToWindow();
}

@Override        
public boolean onKeyDown(int keyCode, KeyEvent event) {   

if(keyCode == KeyEvent.KEYCODE_HOME) {
    Log.i("Home Button","Clicked");
}

if(keyCode==KeyEvent.KEYCODE_BACK) {

    finish();
}

return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:06:11.597

尝试覆盖 onUserLeaveHint 以捕获事件：

onUserLeaveHint() 当活动由于用户选择而即将进入后台时，作为活动生命周期的一部分调用。

（[http://developer.android.com/reference/android/app/Activity.html#onUserLeaveHint()](http://developer.android.com/reference/android/app/Activity.html#onUserLeaveHint)）

# ruby-on-rails - 如何验证使用accepts_nested_attributes_for 的父模型

> ID：11465575
> 
> 赞同：2
> 
> 时间：2012-07-13T06:57:05.623
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord, polymorphic-associations

*我的公司*模型中有一个多态关联 ( `contact_details`)，我想验证父模型。注意：我在父模型中使用了accepts_nested_attributes_for。

 ***基本规则：**

> 公司必须至少有一部电话（电话是contact_detail的那种）

**问题：**

> 在验证父对象之后，为子对象接受_nested_attributes_for 调用销毁

因此用户可以删除电话。当然，稍后，当用户尝试在没有电话的情况下编辑公司时，他/她会得到一个错误（`The company must have at least one phone`）。

**公司（母公司）型号：**

```
class Company < ActiveRecord::Base
  PHONES_NUMBER_MIN = 1

  attr_accessible :name, :contact_details_attributes, ...

  has_many :contact_details, :as => :contactable, :dependent => :destroy

  validate do |company|
    check_phones_number
  end

  accepts_nested_attributes_for :contact_details, :allow_destroy => true, :reject_if => :all_blank

  private

  def phones_number_valid?
    kind = ContactDetail::Kind.phone
    phones = contact_details.select { |cd| cd.kind_id == kind.id }
    phones.size >= PHONES_NUMBER_MIN
  end

  def check_phones_number
    unless phones_number_valid?
      errors.add(:base, :phones_too_short, :count => PHONES_NUMBER_MIN)
    end
  end

  ...
end 
```

**ContactDetail（儿童）型号：**

```
class ContactDetail < ActiveRecord::Base
  attr_accessible :kind_id, :kind_value_source

  belongs_to :contactable, :polymorphic => true
  belongs_to :kind

  validates :kind_value_source, :presence => true, :length => {:maximum => 255}

  ...
end 
```

注意：我简化了原始版本，所以目标对你来说很清楚。这是[代码的要点](https://gist.github.com/3103220)。通过使用reject_if 选项，我可以禁止删除所有电话。这可能是目前最好的选择。但我想听听你的意见。

我也发现[了这个问题](https://stackoverflow.com/q/5144527/820520)并尝试应用答案，但并没有太大帮助。同样的问题，如上所述。我画了一个流程图，这样你就可以看到轨迹，就像我看到的那样。 ![流程图](../Images/00288266ee7dca3213663eff65e1eca6.png)

在这种情况下如何验证父模型？

如果有任何帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T04:54:59.537

从您引用的问题中，您可以摆脱`reject_if`并修改以下行`phones_number_valid?`：

```
phones = contact_details.select { |cd| cd.kind_id == kind.id && !cd.marked_for_destruction? } 
```*

# uitableview - 如何在 .xib 文件上创建的 UIViewController 中设置 UITableView

> ID：11465579
> 
> 赞同：15
> 
> 时间：2012-07-13T06:57:23.443
> 
> 标签：uitableview, uiviewcontroller

我有这样的课：

```
@interface ExerciseLogDetails : UIViewController<UIActionSheetDelegate, UITableViewDelegate, UITableViewDataSource> { 
```

我试图在其中显示一些元素，然后是 UITextView。UITextView 元素是在 Interface Builder 上创建的。执行此代码时：

```
- (void)viewDidLoad {
self.tableView = [[UITableView alloc] initWithFrame:self.view.bounds       style:UITableViewStylePlain];
tableView.dataSource = self; 
tableView.delegate = self;
[self.view addSubview:self.tableView];
} 
```

一张表格显示，但不是我在 Interface Builder 中配置的表格。它完全空白且未格式化。如何访问我的表并以编程方式填充数据？

谢谢！

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-13T19:39:47.730

该线程上的一些提示帮助我创建了这个。我将提供一些更完整的代码文件以帮助其他人：

步骤 1\. 将 UITableView 拖到 Storyboard 或 XIB 中的 View Controller 上。在我的示例中，我使用的是故事板。

第 2 步：打开您的 ViewController（在我的情况下它只是 DefaultViewController）并为 UITableView 添加两个委托： **UITableViewDelegate**和**UITableViewDataSource**。还为人口和 UITableView IBOutlet 添加一个简单的数据源。

**DefaultViewController.h**

```
#import <UIKit/UIKit.h>

@interface DetailViewController : UIViewController <UITableViewDelegate, UITableViewDataSource>

@property (strong, nonatomic) IBOutlet UITableView *tableView;
@property (strong, nonatomic) NSMutableArray *newsArray;

@end 
```

第 3 步：打开您的实现文件 (DefaultViewController.m) 并添加以下内容：

```
#import "DetailViewController.h"

@interface DetailViewController ()
- (void)configureView;
@end

@implementation DetailViewController

@synthesize newsArray;
@synthesize tableView;

#pragma mark - Managing the detail item

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    [self configureView];
}

- (void)configureView
{
    // Update the user interface for the detail item.
    self.newsArray = [[NSMutableArray alloc] initWithObjects:@"Hello World",@"Goodbye World", nil];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark UITableViewDelegate

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    // typically you need know which item the user has selected.
    // this method allows you to keep track of the selection

}

- (UITableViewCellEditingStyle)tableView:(UITableView *)tableView
           editingStyleForRowAtIndexPath:(NSIndexPath *)indexPath
{

    return UITableViewCellEditingStyleDelete;
}

// This will tell your UITableView how many rows you wish to have in each section.
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.newsArray count];
}

// This will tell your UITableView what data to put in which cells in your table.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifer = @"CellIdentifier";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifer];

    // Using a cell identifier will allow your app to reuse cells as they come and go from the screen.
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifer];
    }

    // Deciding which data to put into this particular cell.
    // If it the first row, the data input will be "Data1" from the array.
    NSUInteger row = [indexPath row];
    cell.textLabel.text = [self.newsArray objectAtIndex:row];

    return cell;
}

@end 
```

第 4 步：转到您的 Storyboard 或 XIB 并选择您的 UITableView 并将**数据源**和**委托**插座拖到您的**DefaultViewController**上以将它们连接起来。此外，您还需要将UITableView的**引用插座连接到您在头文件中创建的****IBOutlet tableView**对象。

完成后，您应该能够运行它并且示例数据将就位。

我希望这与该线程上的其他技巧一起可以帮助其他人在 ViewController 上从头开始设置 UITableView。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-13T09:10:41.290

如果您在 IB 中配置了一个 tableView，您不应该也以编程方式创建一个，您应该创建`@property (nonatomic, retain) IBOutlet UITableView *tableView;`并将其连接到您在 IB 中配置的 tableView。
尝试在 tableView 的
`- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section`
委托方法中设置断点，以查看该方法是否被调用。

来自 Apple UITableView 文档：

> 一个 UITableView 对象必须有一个充当数据源的对象和一个充当委托的对象；通常，这些对象要么是应用程序委托，要么是更常见的自定义 UITableViewController 对象。数据源必须采用 UITableViewDataSource 协议，委托必须采用 UITableViewDelegate 协议。数据源提供 UITableView 构建表所需的信息，并在插入、删除或重新排序表的行时管理数据模型。委托提供表格使用的单元格并执行其他任务，例如管理附件视图和选择。

正如您所看到的，如果您没有为您的 tableView 设置数据源，tableView 将不知道如何显示以及显示什么，所以什么都不会发生。
您可以通过调用`tableView.dataSource = self;`或在 IB 中从您的 tableView 拖动到文件的所有者来设置一个（即您的 viewController 必须实现`UITableViewDataSource`协议）

**您的数据源必须**实现 的`UITableViewDataSource`协议中有两种方法：

 **```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
```

和

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:  (NSIndexPath *)indexPath 
```

如果您不实施这些方法，您将收到编译器警告。
如果您实施协议，您可以更好地控制 tableView 的外观`UITableViewDelegate`- 例如行/页眉/页脚高度、选择等等...

来自 Apple UITableView 文档：

> UITableView 会覆盖 UIView 的 layoutSubviews 方法，以便它仅在您创建 UITableView 的新实例或分配新数据源时调用 reloadData。重新加载表格视图会清除当前状态，包括当前选择。但是，如果您显式调用 reloadData，它会清除此状态，并且任何后续对 layoutSubviews 的直接或间接调用都不会触发重新加载。

ReloadData 在创建 tableView 或分配新数据源时调用（或者当您明确调用它时......）。
这是 tableView 需要知道要显示什么的时候（多少个部分？，多少行？，以及要显示哪个单元格？） - 所以这是`numberOfRowsInSextion`调用方法的时候。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-14T19:33:45.770

就像 Eyal 所说，您不应该以编程方式和在 Interface Builder 中创建 UITableView。相反，只需在 Interface Builder 中创建一个并将其委托和数据源属性分配给 IB 中的 File's Owner 会容易得多。

完成此操作后，您无需以编程方式创建一个，也无需为 tableview 使用 @property。相反，您可以让 UIViewController 的类文件如下所示：

```
// YourViewController.h

#import <UIKit/UIKit.h>

@interface YourViewController : UIViewController <UITableViewDelegate, UITableViewDataSource>

@property (strong, nonatomic) NSArray *yourData;

@end 
```

NSArray 将包含您将以编程方式输入到表中的数据。您也可以使用其他数据类，例如 NSDictionary，具体取决于您拥有的数据以及您希望它如何放置在表格中。

```
// YourViewController.m

#import "YourViewController.h"

@implementation YourViewController
@synthesize yourData;

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Here you are creating some data to go in your table by inputting it as an array.
    // I just used some basic strings as an example.
    NSArray *array = [[NSArray alloc] initWithObjects:@"Data1", @"Data2", @"Data3", nil];
    // Copying the array you just created to your data array for use in your table.
    self.yourData = array;
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    self.yourData = nil;
}

#pragma mark Table View Data Source Methods

// This will tell your UITableView how many rows you wish to have in each section.
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    return [self.yourData count];
}

// This will tell your UITableView what data to put in which cells in your table.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *CellIdentifer = @"CellIdentifier";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifer];

    // Using a cell identifier will allow your app to reuse cells as they come and go from the screen.
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifer];
    }

    // Deciding which data to put into this particular cell.
    // If it the first row, the data input will be "Data1" from the array.
    NSUInteger row = [indexPath row];
    cell.textLabel.text = [yourData objectAtIndex:row];

    return cell;
    }

@end 
```

这应该只创建一个简单的 UITableView，其中包含您以编程方式输入的三个数据条目。

如果您有任何问题或疑问，请发表评论。:)

希望这可以帮助。**

# php - php代码编辑和删除当前行

> ID：11465581
> 
> 赞同：0
> 
> 时间：2012-07-13T06:57:29.813
> 
> 标签：php

我在 php 中创建了一个代码，用于显示 mysql 数据库中的记录。现在我想通过我的网页编辑和删除dataabse中的行。在php中怎么可能？我的数据库表不包含 id 字段

```
<?php

mysql_connect("localhost","root","") or die(mysql_error());
mysql_select_db("newlog1") or die(mysql_error());
$key=mysql_query("select id from newregister1") or die(mysql_error());
$result=mysql_query("select * from newregister1 where id='$key'") or die(mysql_error());

echo "<table border='1'>";
echo "<tr><th>NAME</th><th>EMAILID</th><th>ADDRESS</th><th>CONTACT</th><th>STATE</th><th>CITY</th><th>EDIT</th></tr>";

while($row=mysql_fetch_array($result)) {
  echo "<tr><td>";
  echo $row['name'];
  echo "</td><td>";
  echo $row['emailid'];
  echo "</td><td>";
  echo $row['address'];
  echo "</td><td>";
  echo $row['contact'];
  echo "</td><td>";
  echo $row['state'];
  echo "</td><td>";
  echo $row['city'];
  echo "</td><td>";
  echo "Edit";
  echo "</td><td>";
  echo "Delete";
  echo "</td></tr>"
} 
echo "</table>";

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:57:32.957

首先，您不应该使用旧的 mysql_* 函数，但我不会进入，因为它代表您有 sql 注入。

最简单的方法是为您希望页面执行的每个操作创建一个模型，添加编辑删除等，然后有一个控制器来处理调用哪个方法。在我的示例中为简单起见，我将使用基于`$_GET['do']`参数的开关。

然后取决于交换机的哪个部分正在运行，将在您的模型中调用不同的方法。

```
<?php
//Open a connection to the db
try {
    $db = new PDO("mysql:host=localhost;dbname=newlog1", 'root', 'yourPW');
    $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $db->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
}catch (Exception $e){
    die('Cannot connect to mySQL server.');
}

/**
 * The contacts model
 */
class contacts_object{

    //Pass the db connection to this class
    function __construct(PDO $db){
        $this->db = $db;
    }

    function fetch_all(){
        $sql = 'SELECT * FROM newregister1';
        $statement = $this->db->prepare($sql);
        $statement->execute();
        return $statement->fetchAll(PDO::FETCH_ASSOC);
    }
    function fetch_by_id($id){
        $sql = 'SELECT * FROM newregister1 WHERE id=:id';
        $statement = $this->db->prepare($sql);
        $statement->bindParam(':id', $this->user, PDO::PARAM_INT);
        $statement->execute();
        return $statement->fetch(PDO::FETCH_ASSOC);
    }

    function add($data){
        $sql = 'INSERT into newregister1 (name, emailid, address, contact, state, city)
                                  VALUES (:name, :emailid, :address, :contact, :state, :city)';
        $statement = $this->db->prepare($sql);
        $statement->bindParam(':name',    $data['name'], PDO::PARAM_STR);
        $statement->bindParam(':emailid', $data['emailid'], PDO::PARAM_STR);
        $statement->bindParam(':address', $data['address'], PDO::PARAM_STR);
        $statement->bindParam(':contact', $data['contact'], PDO::PARAM_STR);
        $statement->bindParam(':state',   $data['state'], PDO::PARAM_STR);
        $statement->bindParam(':city',    $data['city'], PDO::PARAM_STR);
        $statement->execute();
    }
    function update($data, $id){
        $sql = 'UPDATE newregister1 SET name=:name, emailid=:emailid, address=:address, contact=:contact, state=:state, city=:city
                WHERE id=:id';
        $statement = $this->db->prepare($sql);
        $statement->bindParam(':id',      $id, PDO::PARAM_INT);
        $statement->bindParam(':name',    $data['name'], PDO::PARAM_STR);
        $statement->bindParam(':emailid', $data['emailid'], PDO::PARAM_STR);
        $statement->bindParam(':address', $data['address'], PDO::PARAM_STR);
        $statement->bindParam(':contact', $data['contact'], PDO::PARAM_STR);
        $statement->bindParam(':state',   $data['state'], PDO::PARAM_STR);
        $statement->bindParam(':city',    $data['city'], PDO::PARAM_STR);
        $statement->execute();
    }

    function delete($id){
        $sql = 'DELETE FROM newregister1 WHERE id=:id';
        $statement = $this->db->prepare($sql);
        $statement->bindParam(':id', $this->user, PDO::PARAM_INT);
        $statement->execute();
    }
}

//Example usage
$contact = new contacts_object($db);

//URL: http://example.com/admin/?do=add
$do = null;
if(isset($_GET['do'])){
    $do = $_GET['do'];
}

switch($do){
    case "add":
        if($_SERVER['REQUEST_METHOD']=='POST'){
            //Do some validation
            if(name, emailid, address, contact, state, city are set){
                $data = array('name'=>$_POST['name'],
                              'emailid'=>$_POST['emailid'],
                              'address'=>$_POST['address'],
                              'contact'=>$_POST['contact'],
                              'state'=>$_POST['state'],
                              'city'=>$_POST['name']);
                $contact->add($data);
            }           
        }

        //Echo your add form ect
        break;
    case "edit":
        //EG:http://example.com/admin/?do=edit&id=13
        if(!empty($_GET['id']) && is_numeric($_GET['id'])){
            $result = $contact->fetch_by_id($_GET['id']);
        }else{
            exit(header('Location: http://example.com/admin/'));
        }

        //Handle the update     
        if($_SERVER['REQUEST_METHOD']=='POST'){
            //Do some validation eg
            if(name, emailid, address, contact, state, city are set){
                $data = array('name'=>$_POST['name'],
                              'emailid'=>$_POST['emailid'],
                              'address'=>$_POST['address'],
                              'contact'=>$_POST['contact'],
                              'state'=>$_POST['state'],
                              'city'=>$_POST['name']);
                $contact->update($data, $_POST['id']);
            }           
        }

        //Echo your edit form ect and loop through the $result Array
        break;

    case "delete":
        //EG:http://example.com/admin/?do=delete&id=13
        if(!empty($_GET['id']) && is_numeric($_GET['id'])){
            $contact->delete($_GET['id']);
            exit(header('Location: http://example.com'));
        }
        break;

    default:
    //EG http://example.com/admin/
    $result = $contact->fetch_all();
    //Echo your front page act and loop through the $result Array for all contacts
    break;
}
?> 
```

希望它有所帮助，它不是一个完成的脚本只是一个例子......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:04:46.920

使用 SQL 查询更新数据库中的行 UPDATE：`UPDATE users SET name = 'new_name' WHERE id = '5'` [MySQL 更新](http://www.w3schools.com/php/php_mysql_update.asp)

使用另一个 SQL 查询删除行 - DELETE: `DELETE FROM users WHERE id = '5'` [MySQL delete](http://www.w3schools.com/php/php_mysql_delete.asp)

# database - 删除外键引用的 ID

> ID：11465583
> 
> 赞同：0
> 
> 时间：2012-07-13T06:57:52.833
> 
> 标签：database, reference, foreign-keys

我有一个大型数据库，正如预期的那样，有很多外键引用表。从数据库设计的角度来看，我应该如何处理删除由外键引用的记录？

我想到的一个选项是在表中添加一个布尔列，以确定记录是否处于活动状态。因此，如果我要删除一条记录，我只需将其布尔活动值设置为 false。

数据库最终可能会变得臃肿，但不仅所有引用的外键保持不变，数据库还将保存更多信息。

我想听听您对系统关键数据库的看法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:12:54.230

据我了解您的问题，您有 2 个表：

```
| main  |               |     child     |
|-------|               |---------------|
|id|data| (1) ----> (n) |id|main_id (FK)| 
```

当子表中有记录时，您不想从主表中删除数据。

你没有说，你使用什么 RDBMS。但在 MySQL 中，您可以设置外键类型。如果将其设置为 RESTRICT，则系统将不允许您从主表中删除数据，如果子表中有数据。

或者也可以设置为 CASCADE，这样当你删除主表中的数据时，它会自动从子表中删除。

因此无需创建额外的“活动”字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T10:41:39.393

您的问题的答案在很大程度上取决于您的申请。

如果您需要“历史”数据，那么使用“启用”标志似乎是正确的选择。但是，如果您的数据库中有敏感数据并且您希望确保删除的数据不太容易恢复，那么“启用”标志是不行的。

其他方面：

*   你需要“取消删除”吗？
*   删除操作多久发生一次？许多删除创建许多禁用条目。
*   是否有一种简单的方法（例如，数据库触发器）来确保引用禁用条目的条目也被禁用？
*   您是否有流程或机制来确保应用程序只会看到/处理启用的条目？考虑观点。
*   考虑创建适当的索引以加快查找启用的条目并需要大量空间。
*   您是否有最终删除已删除条目的要求（技术、组织、法律）？您是否需要为此目的删除日期？
*   是否需要清理脚本？

我知道，很多问题。但是，我希望这些问题能帮助您找到问题的答案。

# asp.net-mvc - Telerik mvc 网格客户端模板输出不正确，带有占位符

> ID：11465588
> 
> 赞同：0
> 
> 时间：2012-07-13T06:58:02.847
> 
> 标签：asp.net-mvc, telerik, grid

我有以下客户端模板...

```
.ClientTemplate("<a href='javascript:showQuestionChoiceWindow('<#= QuestionId #>') class='t-button t-grid-edit'>Choices</a>").Title(""); 
```

呈现上述内容时，我得到以下输出：

```
<a class="t-button t-grid-edit" 971405d2-a08a-436a-ab79-7e45961c5ffb')=""href="javascript:showQuestionChoiceWindow(">Choices</a> 
```

基本上，我的简单替换字符串已被移动，导致语法无效。删除占位符可以更正语法，但我需要注入的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T14:09:48.873

您可以尝试将类声明分开并将其放入 HtmlAttributes 中。

```
.ClientTemplate("<a href='javascript:showQuestionChoiceWindow(<#= QuestionId #>)'>Choices</a>").Title("").HtmlAttributes(new { @class = "t-button t-grid-edit" }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T10:13:30.027

您已嵌套`'`在模板中，因此存在问题。试试这个（注意 href 属性使用`\"`）：

```
.ClientTemplate("<a href=\"javascript:showQuestionChoiceWindow('<#= QuestionId #>')\"  class='t-button t-grid-edit'>Choices</a>").Title(""); 
```

# silverlight - Silverlight 按钮 - 悬停时更改前景色

> ID：11465589
> 
> 赞同：3
> 
> 时间：2012-07-13T06:58:09.833
> 
> 标签：silverlight, button, hover, silverlight-5.0

我为我的 Silverlight 按钮创建了一个样式模板，设法创建了圆角和悬停状态，可以毫无问题地更改大部分样式，但是...

**我不知道如何使`Foreground`颜色改变`hover`。**

请参阅下面的代码，我遇到问题的部分目前已被注释掉。

```
 <Style TargetType="Button" >
        <Setter x:Name="myFontColor" Property="Foreground" Value="#000000"/>
        <Setter Property="FontSize" Value="11"/>
        <Setter Property="FontStyle" Value="Normal"/>
        <Setter Property="FontFamily" Value="Arial"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Height="28">
                        <Border x:Name="myBorder" BorderBrush="#C4C4C4" BorderThickness="1" CornerRadius="5">
                            <Rectangle x:Name="BackgroundGradient" RadiusX="5" RadiusY="5">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop x:Name="GradientStop1" Color="#FDFDFD" Offset="0" />
                                        <GradientStop x:Name="GradientStop2" Color="#D6D6D6" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                        </Border>
                        <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" />
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommomStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <ColorAnimation 
                                                    Storyboard.TargetName="GradientStop1"
                                                    Storyboard.TargetProperty="Color"
                                                    From="#FDFDFD" To="#0A284B" 
                                                    Duration="0"
                                                    />
                                        <ColorAnimation 
                                                    Storyboard.TargetName="GradientStop2"
                                                    Storyboard.TargetProperty="Color"
                                                    From="#D6D6D6" To="#135887"
                                                    Duration="0"
                                                    />

                                        <ColorAnimation 
                                                    Storyboard.TargetName="myBorder" 
                                                    Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                                    From="#C4C4C4" To="#000000" 
                                                    Duration="0"
                                            />
                                        <!--<ColorAnimation
                                                    Storyboard.TargetName="myFontColor" 
                                                    Storyboard.TargetProperty="Foreground"
                                                    From="#000000" To="#FFFFFF" 
                                                    Duration="0"
                                            />-->
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

作为 Silverlight 的新手，我希望这只是一个针对正确元素和样式的简单问题。

我该如何去`Foreground`改变颜色`hover`？

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-13T07:17:59.563

首先，在`ContentPresenter`里面放一个`ContentControl`（这有 Foreground 属性）然后你可以改变它，就像你对背景所做的那样：

```
<Style TargetType="Button" >
    <Setter x:Name="myFontColor" Property="Foreground" Value="#000000"/>
    <Setter Property="FontSize" Value="11"/>
    <Setter Property="FontStyle" Value="Normal"/>
    <Setter Property="FontFamily" Value="Arial"/>
    <Setter Property="FontWeight" Value="Normal"/>
    <Setter Property="Padding" Value="0"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate>
                <Grid Height="28">
                    <Border x:Name="myBorder" BorderBrush="#C4C4C4" BorderThickness="1" CornerRadius="5">
                        <Rectangle x:Name="BackgroundGradient" RadiusX="5" RadiusY="5">
                            <Rectangle.Fill>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop x:Name="GradientStop1" Color="#FDFDFD" Offset="0" />
                                    <GradientStop x:Name="GradientStop2" Color="#D6D6D6" Offset="1" />
                                </LinearGradientBrush>
                            </Rectangle.Fill>
                        </Rectangle>
                    </Border>
                    <!-- CONTENT CONTROL HERE -->
                    <ContentControl Name="content" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <ContentPresenter  />
                    </ContentControl>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommomStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation 
                                        Storyboard.TargetName="GradientStop1"
                                        Storyboard.TargetProperty="Color"
                                        From="#FDFDFD" To="#0A284B" 
                                        Duration="0"
                                        />
                                    <ColorAnimation 
                                        Storyboard.TargetName="GradientStop2"
                                        Storyboard.TargetProperty="Color"
                                        From="#D6D6D6" To="#135887"
                                        Duration="0"
                                        />

                                    <ColorAnimation 
                                        Storyboard.TargetName="myBorder" 
                                        Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                        From="#C4C4C4" To="#000000" 
                                        Duration="0"
                                />

                                   <!-- ALTERNATIVE WAY 

                                  <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Foreground)" Storyboard.TargetName="content">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="White" />
                                                </ObjectAnimationUsingKeyFrames>-->

                                    <ColorAnimation
                                        Storyboard.TargetName="content" 
                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                        From="#000000" To="#FFFFFF" 
                                        Duration="0"
                                />
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:12:57.660

您可以通过添加事件 MouseEnter 和 MouseLeave 并在事件中更改颜色来做到这一点

例子：

```
<Button x:Name="myButton" 
    Content="Button" 
    MouseEnter="myButton_MouseEnter" 
    MouseLeave="myButton_MouseLeave"/> 
```

在 C# 类中，你必须有方法

```
 private void myButton_MouseEnter(object sender, System.Windows.Input.MouseEventArgs e)
    {
        myButton.Foreground=new SolidColorBrush(Colors.Red);
    }

    private void myButton_MouseLeave(object sender, System.Windows.Input.MouseEventArgs e)
    {
        myButton.Foreground=new SolidColorBrush(Colors.White);
    } 
```

希望，这就是你要找的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:13:17.920

使用 Blend 来设计任何控件。使用它，您可以轻松创建任何您想要的样式

只需通过[创建一个按钮](http://www.youtube.com/watch?v=3GsbhohzwBM)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T07:35:37.960

试试这个：

```
<Style x:Key="CustomButtonStyle" TargetType="Button">
    <Setter Property="Background" Value="#FF1F3B53"/>
    <Setter Property="Foreground" Value="#FF000000"/>
    <Setter Property="Padding" Value="3"/>
    <Setter Property="BorderThickness" Value="0"/>
    <Setter Property="BorderBrush">
        <Setter.Value>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#FFA3AEB9" Offset="0"/>
                <GradientStop Color="#FF8399A9" Offset="0.375"/>
                <GradientStop Color="#FF718597" Offset="0.375"/>
                <GradientStop Color="#FF617584" Offset="1"/>
            </LinearGradientBrush>
        </Setter.Value>
    </Setter>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Button">
                <Grid>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal">
                                <Storyboard>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="BackgroundAnimation" Storyboard.TargetProperty="Opacity" To="1"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)" To="#FF474747"/> <!--change this color code if you wish-->
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)" To="#FF474747"/> <!--change this color code if you wish-->
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)" To="#FF474747"/> <!--change this color code if you wish-->
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)" To="#FF474747"/> <!--change this color code if you wish-->
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="BackgroundAnimation" Storyboard.TargetProperty="Opacity" To="1"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)" To="DarkGray"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)" To="DarkGray"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)" To="DarkGray"/>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" To="DarkGray"/>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="BackgroundAnimation" Storyboard.TargetProperty="Opacity" To="1"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)" To="DarkGray"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)" To="DarkGray"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)" To="DarkGray"/>
                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundGradient" Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)" To="DarkGray"/>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled">
                                <Storyboard>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="DisabledVisualElement" Storyboard.TargetProperty="Opacity" To=".55"/>
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                        <VisualStateGroup x:Name="FocusStates">
                            <VisualState x:Name="Focused">
                                <Storyboard>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="FocusVisualElement" Storyboard.TargetProperty="Opacity" To="1"/>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Unfocused" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Border x:Name="Background" CornerRadius="3" Background="White" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}">
                        <Grid Background="{TemplateBinding Background}"  Margin="1">
                            <Border Opacity="0"  x:Name="BackgroundAnimation" Background="#FF448DCA" />
                            <Rectangle x:Name="BackgroundGradient" >
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint=".7,0" EndPoint=".7,1">
                                        <GradientStop Color="#A9A9A9" Offset="0" />
                                        <GradientStop Color="#A5A5A5" Offset="0.375" />
                                        <GradientStop Color="#A3A3A3" Offset="0.625" />
                                        <GradientStop Color="#A0A0A0" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                        </Grid>
                    </Border>
                    <ContentPresenter
                          x:Name="contentPresenter"
                          Content="{TemplateBinding Content}"
                          ContentTemplate="{TemplateBinding ContentTemplate}"
                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                          Margin="{TemplateBinding Padding}"/>
                    <Rectangle x:Name="DisabledVisualElement" RadiusX="3" RadiusY="3" Fill="#A9A9A9" Opacity="0" IsHitTestVisible="false" />
                    <Rectangle x:Name="FocusVisualElement" RadiusX="2" RadiusY="2" Margin="1" Stroke="#FF6DBDD1" StrokeThickness="1" Opacity="0" IsHitTestVisible="false" />
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

# ruby-on-rails - 我可以删除迁移文件吗？

> ID：11465591
> 
> 赞同：2
> 
> 时间：2012-07-13T06:58:18.773
> 
> 标签：ruby-on-rails, ruby-on-rails-3, migration, rake

当我跑步时，`bundle exec rake db:test:prepare`我得到以下信息：

```
rake aborted!
Multiple migrations have the name CreateMicroposts 
```

为了检查我的迁移文件的状态，我跑了

```
rake db:migrate:status 
```

并得到：

状态迁移 ID 迁移名称 ------- --------------- -----

up 20120616205407 创建用户

up 20120622103932 为用户邮箱添加索引

up 20120622114559 为用户添加密码摘要

up 20120628095820 为用户添加记忆令牌

up 20120704123654 为用户添加管理员

down 20120706103254 创建微博

up 20120707073410 创建微博

如您所见，我有两个名称完全相同且代码完全相同的迁移文件。只是它们的状态不同，即 Up 和 Down。

向上和向下意味着什么？

如果必须，我可以删除哪一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:04:39.117

问题是您有两个包含标头的不同迁移文件

```
class CreateMicroposts< ActiveRecord::Migration 
```

rake db:migrate:status 不会检查迁移文件的状态。它告诉您如果运行 rake db:migrate 将应用哪些迁移。up/down 标签几乎是不言自明的：它告诉您迁移是通过 up 方法还是 down 方法应用。迁移时运行 up 方法，回滚迁移时运行 down 方法。[您可以在此处](http://guides.rubyonrails.org/migrations.html)进一步了解 Rails 迁移。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:06:16.813

`up`是“进化”时调用的方法（即迁移到新模式），`down`而是“回归”时调用的方法（即迁移到较旧的模式版本，因为您的更改之一不适合您）。`db:migrate`来电`up`，`db:rollback`来电`down`。在最新版本的 rails 中，`change`可以同时处理两者。

至于删除......这些天我不怎么做activerecord，但我认为你可以自由地对你的文件做任何你想做的事情。我不认为删除重复文件会造成任何伤害，如果确实如此.. 好吧，您使用源代码控制，对吗？:)

# c++ - 将 MySQL 与 C++ 集成的简单解决方案？

> ID：11465594
> 
> 赞同：0
> 
> 时间：2012-07-13T06:58:27.813
> 
> 标签：c++, mysql, database, integration

有哪些解决方案可以在 C++ 中建立与 MySQL 数据库的简单连接？我发现 dev.mysql.com 的 MySQL 连接器很难集成。

期待感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:36:13.573

从 C/C++ 应用程序与 MySQL 通信非常简单

你需要包含 mysql.h 头文件

连接和执行查询的三个基本 API

mysql_connect()

mysql_query()

mysql_close()

与 mysql 库 (libMysql) 链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:54:52.410

您可以尝试使用支持库的 ODBC 路径。

一年前，我使用[OTL](http://otl.sourceforge.net/)来连接 SqlServer，发现它很有效。现在我尝试连接MySql，到目前为止没有任何问题：

```
#include <otlv4.h>
#include <iostream>
using namespace std;

int otl_x_sql_main(int argc, char **argv)
{
    otl_connect db; // connect object
    otl_connect::otl_initialize(); // initialize ODBC environment
    try {
        db.rlogon("DRIVER=mysql;DB=...;UID=...;PWD=..."); // connect to ODBC

        // parametrized SELECT
        otl_stream i(50, "SELECT product_id,model FROM product WHERE product_id >= :f<int> AND product_id < :ff<int>", db);

        int product_id;
        char model[100];

        i << 1000 << 2000; // assigning product_id range

        // SELECT automatically executes when all input variables are assigned
        while (!i.eof()) {
            i >> product_id >> model;
            cout << "product_id=" << product_id << ", model=" << model << endl;
        }
    }
    catch(otl_exception& p) {       // intercept OTL exceptions
        cerr << p.msg << endl;      // print out error message
        cerr << p.stm_text << endl; // print out SQL that caused the error
        cerr << p.sqlstate << endl; // print out SQLSTATE message
        cerr << p.var_info << endl; // print out the variable that caused the error
    }

    return 0;
} 
```

# java-me - 在循环中将布局添加到容器会触发 NullpointerException

> ID：11465600
> 
> 赞同：1
> 
> 时间：2012-07-13T06:58:50.777
> 
> 标签：java-me, lwuit

我在 Eclipse 中使用带有**LWUIT的****j2me开发****s60 。**

 ****我正在编写此方法来绘制列表项并尝试手动创建列表而不是使用 Lwuit 列表。因为正如我在最后一个问题中发布的那样，[这里是 Link..](https://stackoverflow.com/questions/11414861/in-listcellrenderer-getlistcellrenderercomponent-method-called-more-than-once) 不知道为什么，但它会降低性能。

因此，在下面的方法中，我尝试创建在其中添加两个标签到 layoutX Container 并将该 Conatiner 添加到 layoutY Container 并将该 layoutY 添加到 BaseContainer 以便输出看起来像列表。

方法在这里...

```
private void drawAgendasListItem(Vector vector) {

        Container containerX[] = new Container[vector.size()];
        Container containerY[] = new Container[vector.size()];

        if (featuredeventsForm.contains(baseContainer)) {
            baseContainer.removeAll();
            featuredeventsForm.removeComponent(baseContainer);
            System.out.println("base Container is removed ");
        }

        BoxLayout layoutX = new BoxLayout(BoxLayout.X_AXIS);
            BoxLayout layoutY = new BoxLayout(BoxLayout.Y_AXIS);

        for (int i = 0; i < vector.size(); i++) {

        try {
                containerX[i].setLayout(layoutX);
                containerY[i].setLayout(layoutY);

                Label startTime = new Label();
                Label description = new Label();

                startTime.getStyle().setBgTransparency(0);
                startTime.setText("start 10:20 Am");
                startTime.getStyle().setMargin(0, 0, 0, 5);

                description.getStyle().setBgTransparency(0);
                description.setText("decriptionString");

                containerX[i].getStyle().setPadding(0, 0, 2, 2);
                containerX[i].addComponent(startTime);
                containerX[i].addComponent(description);

                containerY[i].addComponent(containerX[i]);
                baseContainer.addComponent(i, containerX[i]);

                System.out.println("Component added to base Container @ " + i);

            } catch (Exception e) {
                System.out.println("Exception in drawAgendaListItem " + e);
            }
        }
        featuredeventsForm.addComponent(baseContainer);
        featuredeventsForm.invalidate();
        featuredeventsForm.repaint();
        System.out.println("All elements added and form repainted");

    } 
```

在上述方法中，当我尝试将布局分配给 Container 时，它会在 line 处触发 NullPointerException `containerX[i].setLayout(layoutX);`。

我不明白为什么会这样，我也试图评论那几行然后它在 line 触发 NullPointerException `containerX[i].getStyle().setPadding(0, 0, 2, 2);`。

请帮忙 ....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:59:04.800

根据源代码，我的猜测是您认为实例化数组也会填充它。在 Java 中情况并非如此。

换句话说，如果你认为 containerX 看起来像：
`[new Container, new Container,..., new Container]`
在内存中，那是不正确的。它实际上看起来像：
`[null,null,...,null]`

我认为您需要添加

`containerX[i] = new Container();`
`containerY[i] = new Container();`

在循环的开始。

（也许您想将数组的内容实例化为 Container 的子类）****

# php - 我应该为 Doctrine 中的多个用户级别使用哪种继承类型

> ID：11465604
> 
> 赞同：1
> 
> 时间：2012-07-13T06:59:10.683
> 
> 标签：php, oop, doctrine-orm

我是 OOP 的新手，我很困惑我应该如何进行。我的主要要求是我想拥有基本用户类：

```
User
id
username
email
password
salt
.....

Student
name
gender
school
address

Teacher
name
study
salary 
```

如果我应该使用单表继承还是类表继承，我很困惑。因为所有学生或老师都将登录系统，所以我想保持这些数据通用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:01:52.230

Student 和 Teacher 都是用户，所以 Student 从 User 扩展而来，Teacher 也是如此。

检查继承是否合法，可以通过在两个对象之间说“is a”来完成。

“学生是老师”-> false

“学生是用户”-> true

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:14:44.440

由于`Student`并且`Teacher`有额外和不同的字段，您应该使用类表继承。单表继承将迫使您拥有许多具有多个`NULL`值的行，从数据库设计的角度来看，这是一个坏主意。

顺便说一句，由于您`name`在两个子类中都有该字段，因此您可以将其向上移动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:53:28.257

我可以向你推荐这些书。他们使这个话题非常清楚。

*   PHP 设计模式
*   清洁代码 (Robert C. Martin)

它们帮助您理解，如何构建干净且可维护的软件，对象之间的关系清晰。我认为所有 OOP 用户必读！

# eclipse - JIRA-Eclipse 集成，将 jira 与 eclipse-oepe-in digo 集成的步骤

> ID：11465608
> 
> 赞同：0
> 
> 时间：2012-07-13T06:59:58.960
> 
> 标签：eclipse, eclipse-plugin, jira, jira-plugin

我正在尝试通过 Eclipse Marketplace 将 JIRA 与 Eclipse(oepe)-Indigo 集成，但无法做到这一点。为此，我正在尝试安装“Atlassian Connector for Eclipse”并在安装时收到以下消息。：

```
"Cannot complete the install because one or more required items could not be found.
  Software being installed: Atlassian Connector for Eclipse (Required) 3.0.6.v20120628 (com.atlassian.connector.eclipse.feature.group 3.0.6.v20120628)
  Missing requirement: Atlassian Connector for Eclipse Bamboo UI 3.0.6.v20120628 (com.atlassian.connector.eclipse.bamboo.ui 3.0.6.v20120628) requires 'bundle org.eclipse.mylyn.commons.workbench [3.2.0,4.0.0)' but it could not be found
  Cannot satisfy dependency:
    From: Atlassian Bamboo Integration 3.0.6.v20120628 (com.atlassian.connector.eclipse.bamboo.feature.group 3.0.6.v20120628)
    To: com.atlassian.connector.eclipse.bamboo.ui [3.0.6.v20120628]
  Cannot satisfy dependency:
    From: Atlassian Connector for Eclipse (Required) 3.0.6.v20120628 (com.atlassian.connector.eclipse.feature.group 3.0.6.v20120628)
    To: com.atlassian.connector.eclipse.bamboo.feature.group [3.0.6.v20120628]" 
```

谁能帮我做这个活动并指导我该怎么做？我错过了一些必需的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T13:30:44.977

[我通过https://confluence.atlassian.com/display/IDEPLUGIN/Installing+the+Eclipse+Connector#InstallingtheEclipseConnector-EclipseUpdateSites](https://confluence.atlassian.com/display/IDEPLUGIN/Installing+the+Eclipse+Connector#InstallingtheEclipseConnector-EclipseUpdateSites)上的正确更新站点安装 Atlassian 连接器解决了这个问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T06:43:01.110

我现在可以***将 JIRA 与 eclipse-oepe-in​​digo 集成***。实际上，eclipse 中有一个错误，因此我在执行此活动时遇到了问题。

**症状**：- 在安装过程中，您可能会收到类似于以下之一的错误消息：

•无法完成请求。查看详细信息。找不到满足以下要求的解决方案 Match[requiredCapability: org.eclipse.equinox.p2.iu/org.eclipse.swt/[3.4.0.v3448f,3.4.0.v3448f]]。

• 找不到同时匹配[requiredCapability: org.eclipse.equinox.p2.iu/org.eclipse.swt/[3.4.1.v3449c,3.4.1.v3449c! 和匹配[requiredCapability: org.eclipse.equinox.p2.iu/org.eclipse.swt/[3.4.0.v3448f,3.4.0.v3448f! 可以满足。不满足的依赖：[org.eclipse.mylyn.commons.soap 3.1.0.I20090109-0100-e3x] requiredCapability: osgi.bundle/org.eclipse.mylyn.commons.net/[3.1.0,4.0.0)

•无法完成请求。查看详细信息。找不到满足以下要求的解决方案 org.eclipse.pde.feature.jar [3.4.0.v20080603-7T7U-E_EkMNrNKb39WcMC]。

•无法完成安装，因为找不到一项或多项所需项目。正在安装的软件：Atlassian Connector for Eclipse（推荐）1.1.0.v20090624（com.atlassian.connector.eclipse.feature.group 1.1.0.v20090624）缺少要求：Atlassian Connector for Eclipse（推荐）1.1.0.v20090624（ com.atlassian.connector.eclipse.feature.group 1.1.0.v20090624) 需要 'org.eclipse.mylyn.jira_feature.feature.group [3.2.0.I20090529,3.3.0)' 但找不到

**原因**：- 这很可能是来自 P2 的错误（Eclipse 3.4 及更高版本中的 Eclipse 更新机制）。问题似乎是在您的 Eclipse 副本中未启用 Mylyn 更新站点。Eclipse 中有一个错误，即这些站点可能不会自动启用，即使我们指定安装时需要它们。

如果任何已安装的功能具有不满意的依赖关系，或者如果以前从额外或孵化器更新站点安装了功能，则 P2 可能会失败，并出现类似于上述问题的错误

**解决方案**：- 请按照以下步骤启用所需的站点：

1.在Eclipse中，打开“帮助”、“软件更新”。

2.单击“可用软件”选项卡。

3.单击“管理站点”。

4.查找“Mylyn Extras”更新站点或如下所示的 URL：

[http://download.eclipse.org/tools/mylyn/update/extras](http://download.eclipse.org/tools/mylyn/update/extras)

5.确保站点或 URL 被选中。

6.查找“Mylyn For Eclipse 3.4”更新站点或如下所示的 URL：

[http://download.eclipse.org/tools/mylyn/update/e3.4](http://download.eclipse.org/tools/mylyn/update/e3.4)

7.确保检查站点或 URL。

8.现在您应该将所有已安装的功能更新到最新版本。单击“已安装的软件”选项卡。

9.单击“更新”。

10.如果出现提示，请重新启动。

11.尝试再次安装Atlassian Connector for Eclipse。

# java - jvm堆设置模式

> ID：11465609
> 
> 赞同：7
> 
> 时间：2012-07-13T07:00:10.243
> 
> 标签：java, memory, jvm

我在设置堆大小时观察到人们更喜欢值 64,128,256,1024..。如果我在这些数字之间给出一个值（比如 500），JVM 不会接受这个值吗？为什么这些数字很重要和首选？为什么我们还要以这种模式升级 RAM？

请帮我理解。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T07:06:03.743

JVM 将接受任何值，这没有问题。使用 2^n 值只是一种“约定”，在实践中使用其他值不会产生负面影响。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:50:38.213

好吧，如果你这样想：

*   1 字节为 8 位

*   1 kb = 1024 字节

*   1 MB = 1024 KB

*   1 GB = 1024 MB

*   ... 等等 ...

这不仅仅是`2^n`。计算中的内存与数字八密切相关——数字在大多数现代计算机中定义了一个字节。

位组合在一起的主要原因是为了表示字符。由于所有事物计算的二进制性质，理想的“块”位是 2 的幂，即`1, 2, 4, 8, 16, 32...`。（基本上是因为它们总是可以分成更小的相等的包（它还创建了存储大小的快捷方式，但这是另一回事））。显然 4 位（在某些圈子中是 nybble）可以给我们 2^4 或 16 个唯一字符。由于大多数字母都比这个大，所以 2^8（或 256 个字符）是更合适的选择。

存在使用其他长度字节（特别是 7 或 9）的机器。这并没有真正幸存下来，主要是因为它们不那么容易操纵。您当然不能将奇数分成两半，这意味着如果要分割字节，则必须跟踪位串的长度。

最后，8 也是一个方便的数字，许多人（心理学家等）声称，人类的大脑通常只能立即回忆起 7-8 件事（不玩记忆技巧）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:09:18.693

如果它不接受该值，请检查您是否在金额后放置了`megabytes`（**M**或**m**）或`gigabytes`（**G**或**g**）修饰符。

例子：`java -Xms500M -Xmx500M -jar myJavaProgram.jar`

另外，看看这个[链接](http://docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.html#1109778)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:13:58.510

> 为什么我们还以这种模式升级 RAM。

那是因为内存芯片/卡/的大小是 2 字节的幂。其根本原因是它使电子设备更简单。更简单意味着更便宜、更可靠和（可能）更快。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-31T11:48:16.757

除了非书面约定外，它还具有性能影响 - 取决于机器的架构。

例如，如果一台机器是基于三进制的，那么将堆大小设置为 3 的幂会更好。

# ios - 多个视图控制器共有的子视图无响应

> ID：11465612
> 
> 赞同：2
> 
> 时间：2012-07-13T07:00:16.110
> 
> 标签：ios, objective-c, uiview, uiviewcontroller, uiview-hierarchy

我正在使用 a`UIView`向用户显示繁忙/处理线索，并且加载视图中的组件没有响应用户触摸。让我详细说明我的问题。我有大约 3`UIViewController`秒的时间，并根据情况显示其中之一`View`。`VieControllers`我使用以下代码更改当前视图

```
UIView *currentView = self.view;
UIView *theWindow = [currentView superview];

//Some other code 

[currentView removeFromSuperview];
[self.view setFrame: [tileCountViewController.view bounds]];
[theWindow addSubview:tileCountViewController.view];
[theWindow setFrame:[tileCountViewController.view bounds]];
[theWindow setFrame: [[UIScreen mainScreen] bounds]]; 
```

然后我有一个加载视图，它通常用于向用户显示忙碌/正在处理的 UI。我从 nib 文件以下列方式创建了加载视图

```
- (id)init {

    UIDeviceOrientation orientation = [UIDevice currentDevice].orientation;
    NSString *nibName = @"LoadingViewController";
    if(UIInterfaceOrientationIsLandscape(orientation)) {
        nibName = @"LoadingView-landscape";
    }
    else {
        nibName = @"LoadingView";
    }

    UINib *nib = [UINib nibWithNibName:nibName bundle:nil];
    UIView *portraitView = [[nib instantiateWithOwner:self options:nil] objectAtIndex:0];
    self = [super initWithFrame:portraitView.frame];

    [self addSubview:portraitView];
    [self bringSubviewToFront:portraitView];
    return self;

} 
```

在应用程序委托中，我初始化加载视图并将其添加到主窗口

```
if(!loadingViewIndicator){
    loadingViewIndicator = [[LoadingView alloc]init];
}
[[[UIApplication sharedApplication]keyWindow]addSubview:loadingViewIndicator];
loadingViewIndicator.hidden = YES; 
```

每当我需要显示加载/忙碌视图时，我只需像这样加载它

```
[loadingViewIndicator performSelectorOnMainThread:@selector(startLoadingViewIndicator:) withObject:startMsg waitUntilDone:NO];
- (void)startLoadingViewIndicator:(NSString *)startMsg{
    self.hidden = NO;
    [self.superview bringSubviewToFront:self];
    [self.activityIndicator startAnimating];
    [self.loadingMessage setText:startMsg];
    self.loadingProgressView.progress = 0.0f;

    [self refreshPosition];
} 
```

一切正常，但加载视图中的组件没有响应触摸。任何线索出了什么问题？

我刚刚意识到问题是由于线程问题。当用户开始下载任何文件时，我会显示此子视图。我之前的代码是直接开始下载

```
urlconnection = [[NSURLConnection alloc] initWithRequest:request delegate:self startImmediately: YES]; 
```

我现在使用后台线程从另一个方法调用此方法，如下所示

```
[self performSelectorInBackground:@selector(startDownload) withObject:nil]; 
```

然后我在下载中添加runloop，比如

```
urlconnection = [[NSURLConnection alloc] initWithRequest:request delegate:self startImmediately: YES];
CFRunLoopRun(); 
```

这工作正常，我的子视图是响应式的。真的花了很多时间。问题是有清晰的代码示例可以帮助在后台线程中运行下载，同时使 UI 响应。

# php - 使用 SOAP 和 PHP 从 .net webservice 获取多个返回值

> ID：11465614
> 
> 赞同：2
> 
> 时间：2012-07-13T07:00:20.563
> 
> 标签：php, web-services, soap

我正在通过我的 PHP 代码调用用 .net 编写的 Web 服务。.net webservice 中的函数有一个 return 语句和一个 out 参数。我能够获取返回变量的值，但不能获取 out 参数。有什么办法可以让我在webservice中同时获得函数的返回值和out参数？

如何`vFileID`通过 PHP 中的 soapCall 从以下 Web 服务获取？PHP 代码

```
$client = new SoapClient("abc.wsdl");
$result = $client->__soapCall("SendFile", $params); 
```

输出：

```
object(OIntegrate_Response)[301]
  public 'version' => null
  public 'schemaVersion' => null
  public 'schemaDocumentation' => null
  public 'contentType' => null
  public 'cacheControl' => null
  public 'data' => string '8129ac11-ab01-4abd-bbd8-1af79dbe1019' (length=36)
  private 'errors' => 
    array (size=0)
      empty 
```

这是.net代码：

```
[WebMethod(EnableSession = true)]
        public string SendFile(string vFileName, string vDescription, bool vLastChunk, bool vFirstChunk, Int32 vStartByte, byte[] vBytes, string vFileID, string vFile, out Int32 vID)
        {
            avFileTransferManager tmpFileManager;
            avFileManager tmpManager = new avFileManager();
            vID = 0;
            if (vFirstChunk)
            {
                vFileID = System.Guid.NewGuid().ToString();
                tmpFileManager = new avFileTransferManager();
            }
            else
            {
                tmpFileManager = GetFileManager(vFileID);
            }

            tmpFileManager.AddChunk(vStartByte, vBytes);

            if (vLastChunk)
            {
                //Store file in database.
                avFile tmpFile = tmpManager.DeserializeFile(vFile);
                tmpFile.LockSize = false;
                tmpFile.FileStream = tmpFileManager.FileStream;
                //tmpFile.Name = vFileName;
                //tmpFile.Description = vDescription;                

                tmpFile = tmpManager.SaveFile(tmpFile);
                vID = tmpFile.ID;

                //Remove tmp-file from memory.
                Session.Remove(vFileID);
            }
            else
                Session[vFileID] = tmpFileManager;  //Store tmp-file in session object.

            return vFileID;
        } 
```

# iphone - Not getting current user location

> ID：11465621
> 
> 赞同：0
> 
> 时间：2012-07-13T07:01:23.517
> 
> 标签：iphone

in .h file

```
#import <MapKit/MapKit.h>
@interface FirstViewController : UIViewController <MKMapViewDelegate,MKReverseGeocoderDelegate,CLLocationManagerDelegate>
{

} 
```

in .m file

```
-(void)viewDidLoad
{
    CLLocationManager *locationManager = [[[CLLocationManager alloc] init] autorelease];
    locationManager.delegate = self;
    locationManager.distanceFilter = kCLDistanceFilterNone;
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;
    [locationManager startUpdatingLocation];

    [super viewDidLoad];
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation 
{
     MKReverseGeocoder *geoCoder = [[MKReverseGeocoder alloc] initWithCoordinate:newLocation.coordinate];
     geoCoder.delegate = self;
     [geoCoder start];
}

- (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error 
{
     NSLog(@"locationManager:%@ didFailWithError:%@", manager, error);
}

- (void)reverseGeocoder:(MKReverseGeocoder *)geocoder didFindPlacemark:(MKPlacemark *)placemark
{
     MKPlacemark * myPlacemark = placemark;

     NSString *kABPersonAddressCityKey;
     NSString *city = [myPlacemark.addressDictionary objectForKey:(NSString*) kABPersonAddressCityKey];

     lblAddress.text = city;

     NSLog(@"city detail is:--> %@",city);
}

- (void)reverseGeocoder:(MKReverseGeocoder *)geocoder didFailWithError:(NSError *)error
{
    NSLog(@"reverseGeocoder:%@ didFailWithError:%@", geocoder, error);
} 
```

This is the code which I have done to get the current location of user & print it in the label.

But the `CLLocationManager` delegate method (which are written above) is not called & I am not able to get the current address.

Please help me out.

Where I am doing mistake...? guide me.

Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:05:43.190

In your method `viewDidLoad`:

```
-(void)viewDidLoad
{
    CLLocationManager *locationManager = [[[CLLocationManager alloc] init] autorelease];
    locationManager.delegate = self;
    locationManager.distanceFilter = kCLDistanceFilterNone;
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;
    [locationManager startUpdatingLocation];

    myMapView.showsUserLocation = YES;     // add this line

    [super viewDidLoad];
} 
```

And you are done!!!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:06:19.840

Instead of autoreleasing the `CLLocationManager` instance, assign it to an ivar in your class. Then release it in `-dealloc` as usual (or in one of the delegate methods if you don't need it any longer).

I suspect your location manager is getting deallocated on the next turn of the run loop before having an opportunity to fire off its delegate methods.

# mod-rewrite - 我的 URL 的 URL 重写模式

> ID：11465632
> 
> 赞同：3
> 
> 时间：2012-07-13T07:02:34.407
> 
> 标签：mod-rewrite, iis-7.5

我正在使用 URL 重写模块，但我不知道如何根据我的要求应用模式，请帮助

我的网址是：

mychick.com/Cat/Prod/chicken-skin-clean.html
&
mychick.com/Cat/Prod/chicken-head-crown.html

我需要这个 URL 应该被重写为

mychick.com/Cat/Prod/chicken-skin-clean
mychick.com/Cat/Prod/chicken-head-crown

**我需要一个模式来重写这两个 URL**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:21:47.807

如果你想用 java 做，你可以用“.html”分割它

```
public static void main(String[] args) {
        String s="mychick.com/Cat/Prod/chicken-skin-clean.html";
        System.out.println(s);
        System.out.println(s.split(".html")[0]);

    } 
```

在输出你有

```
"mychick.com/Cat/Prod/chicken-skin-clean.html"
"mychick.com/Cat/Prod/chicken-skin-clean" 
```

打赌，它可以做得更好，它只适用于剪切 .html，但你要求它。如果在 url 中是要剪切的语法，则问题将是，但如果是这样，您可以将选项卡元素从 0 连接到 lenght-1 并在字符串之间放回“.html”

# android - Android 错误：java.lang.IllegalArgumentException：需要 contentIntent

> ID：11465634
> 
> 赞同：0
> 
> 时间：2012-07-13T07:03:02.333
> 
> 标签：android, notifications, android-asynctask

我正在使用`AsyncTask`. 我希望进度对话框显示为通知栏（就像您从 AndroidMarket 下载应用程序时一样）。我正在执行以下操作：

**编辑**

```
 @Override
protected void onProgressUpdate(Integer... progress) {
super.onProgressUpdate(progress);
// show a notification bar.
NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
Notification notification = new Notification(android.R.drawable.btn_star, "test",System.currentTimeMillis());
notification.flags |= Notification.FLAG_AUTO_CANCEL;
notification.flags |= Notification.FLAG_NO_CLEAR;
Intent notificationIntent = new Intent(AsynctaskActivity.this, AsynctaskActivity.class);
notificationIntent.addFlags(Notification.FLAG_ONGOING_EVENT);
PendingIntent contentIntent = PendingIntent.getActivity(AsynctaskActivity.this, 0, notificationIntent, 0);
notification.setLatestEventInfo(AsynctaskActivity.this, "test","test", contentIntent);
notification.number += 1;
notification.contentView.setProgressBar(progress[0], 100, 42, false);
notificationManager.notify(1, notification);} 
```

但我收到错误：

```
07-13 10:37:16.039: E/AndroidRuntime(27190): FATAL EXCEPTION: main
07-13 10:37:16.039: E/AndroidRuntime(27190): android.app.RemoteServiceException: Bad notification posted from package s.s: Couldn't expand RemoteViews for: StatusBarNotification(package=s.s id=1 tag=null notification=Notification(vibrate=null,sound=null,defaults=0x0,flags=0x30))
07-13 10:37:16.039: E/AndroidRuntime(27190):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1056)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at android.os.Handler.dispatchMessage(Handler.java:99)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at android.os.Looper.loop(Looper.java:130)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at android.app.ActivityThread.main(ActivityThread.java:3701)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at java.lang.reflect.Method.invokeNative(Native Method)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at java.lang.reflect.Method.invoke(Method.java:507)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:624)
07-13 10:37:16.039: E/AndroidRuntime(27190):    at dalvik.system.NativeStart.main(Native Method) 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-08T07:14:35.857

你的错误之一是在下面

```
Notification notification = new Notification(android.R.drawable.btn_star, "test",System.currentTimeMillis()); 
```

将其更改为

```
Notification notification = new Notification(R.drawable.btn_star, "test",System.currentTimeMillis()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:09:19.787

你的方法是错误的。

在这一行

```
PendingIntent act = PendingIntent.getActivity(MY_ACTIVITY, 0, new Intent(), 0); 
```

你正在路过`new Intent();`

您应该执行以下操作，创建一个 Intent，并设置要在通知中显示的内容：

```
Intent notificationIntent = new Intent(this, PlayTrack.class);
notificationIntent.addFlags(Notification.FLAG_ONGOING_EVENT);
PendingIntent contentIntent = PendingIntent.getActivity(this, 0,
     notificationIntent, 0); 
```

# javascript - 下载文件：拒绝访问

> ID：11465636
> 
> 赞同：0
> 
> 时间：2012-07-13T07:03:11.753
> 
> 标签：javascript, jquery

点击我的下载按钮后，我继续“拒绝访问”。我已经完全控制了指定的文件夹。

我在 jquery 中使用它。

```
function DownloadFile(ProductNumber, File) 
{
    var windowSizeArray = ["width=400,height=400",
                           "width=500,height=600,scrollbars=yes"];

    File = "C:/Documents and Settings/My PC/My Documents/" + File;
    if (File != "") 
    {

        var windowName = "popUp"; 
        var windowSize = windowSizeArray[$(this).attr("rel")];

        var exist = isExists(File);
        if (exist) 
        {
            window.open(File, windowName, windowSize);
        } 
        else 
        {
            ShowAlertMessage("The file for Product no. <a href='" + File + "' target='blank'>" + ProductNumber+ "</a> does not exist.");
        }
    } 
    else 
    {
        ShowAlertMessage("No PDF file for Product no: " + ProductNumber+ ".");
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:06:41.817

您无法像在代码段中那样访问本地文件。

您必须将文件上传到服务器并使用 PHP/另一种服务器端语言来执行此操作。jQuery（或 Javascript）仅在浏览器中运行，无法访问浏览器之外的文件。服务器端 Web 语言只能访问位于服务器（或使用 get_file_contents 或 cURL 的其他服务器）上的文件。

您的代码看起来像 C#/Java 源代码。他们可以访问这些本地文件。

# ios4 - 如何根据选择本地化应用程序？

> ID：11465641
> 
> 赞同：1
> 
> 时间：2012-07-13T07:03:39.820
> 
> 标签：ios4

当用户从表格视图或通过任何其他方式选择语言时，我想本地化我的应用程序，而无需在登录屏幕之前使用 IPHONE 中的设置。

我如何实现这一点。

我可以获得提示或任何链接，以便我可以继续。

# android - 如何在 Amazon Kindle Fire 上调试 Android 应用程序？

> ID：11465643
> 
> 赞同：2
> 
> 时间：2012-07-13T07:03:43.000
> 
> 标签：android, debugging, kindle-fire

对于在 Amazon Kindle fire 上调试 Android 应用程序，我参考了这些链接

*   [在 kindle fire 上调试安卓应用](https://stackoverflow.com/questions/8189488/debugging-android-apps-on-the-kindle-fire)
*   [如何连接到 Kindle Fire 进行开发？](https://stackoverflow.com/questions/8151527/how-do-i-connect-to-kindle-fire-for-development)

但是 Kindle Fire 没有在*abd*设备中列出

我有 Windows 7 64 位操作系统。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T21:06:37.760

按照[https://developer.amazon.com/sdk/fire/emulator-guide.html](https://developer.amazon.com/sdk/fire/emulator-guide.html)上的说明，您需要确保编辑 .inf 文件以便找到 Fire，并确保您已打开 ADB 调试以及安装打开的应用程序的能力（都来自设备上的设置）

# c# - 隐藏代码中的 DIV 语法错误

> ID：11465644
> 
> 赞同：0
> 
> 时间：2012-07-13T07:04:03.440
> 
> 标签：c#, javascript, .net, syntax-error, code-behind

我试图在下面暗示：

```
eventListingPanel.Controls.Add(new LiteralControl("<div style="overflow :auto; width:200px;  height:200px">")); 
```

但我收到一个错误：

> “） 预期的”

在上面的代码中，关键字溢出，auto，200px，200px 的红色下划线

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:06:12.673

试试这个：

```
eventListingPanel.Controls.Add(new LiteralControl("<div style=\"overflow :auto; width:200px;  height:200px\"></div>")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:07:12.190

你没有逃避你的`"`

```
eventListingPanel.Controls.Add(new LiteralControl("<div style=\"overflow :auto; width:200px;  height:200px\">")); 
```

# c# - 使用 C# 保存在 pdf 文件中突出显示的文本

> ID：11465646
> 
> 赞同：0
> 
> 时间：2012-07-13T07:04:09.610
> 
> 标签：c#

我构建了一个 Windows 窗体应用程序，它可以打开任何文本文件（甚至是使用 iTextSharp Dll 的 pdf 文件）并在富 tex 框中查看其内容，这是一个搜索字段，我可以在其中搜索特定模式，所有可能的匹配项都会在“Gold”中突出显示颜色。我创建了一个保存按钮。

1.  如何通过保留文本格式用突出显示的文本覆盖文本文件（.doc）？
2.  我怎样才能用pdf做同样的步骤？（因为覆盖文件后pdf会崩溃）

编码：

```
private void open_Click(object sender, EventArgs e)
{
    if (openFileDialog1.ShowDialog() == System.Windows.Forms.DialogResult.OK)
    {
        tb.Clear();
        label1.Text = openFileDialog1.FileName;

        if (label1.Text.Contains(".pdf"))
        {
            // create a reader (constructor overloaded for path to local file or URL)
            string location = openFileDialog1.FileName;
            PdfReader reader = new PdfReader(location);

            StringBuilder text = new StringBuilder();

            for (int page = 1; page <= reader.NumberOfPages; page++)
            {
                ITextExtractionStrategy strategy = new SimpleTextExtractionStrategy();
                string currentText = PdfTextExtractor.GetTextFromPage(reader, page, strategy);

                currentText = Encoding.UTF8.GetString(ASCIIEncoding.Convert(Encoding.Default, Encoding.UTF8, Encoding.Default.GetBytes(currentText)));
                text.Append(currentText);
                reader.Close();
            }
            tb.Text = text.ToString();
        }
        else 
        {
            tb.Text = File.ReadAllText(label1.Text);
        }

    }
}

private void save_Click(object sender, EventArgs e)
{
    SaveFileDialog saveFile1 = new SaveFileDialog();

    if (saveFileDialog1.ShowDialog() == System.Windows.Forms.DialogResult.OK)
    {
        File.WriteAllText(saveFileDialog1.FileName, tb.Text);
    }
}

private void search_Click(object sender, EventArgs e)
{
    int index = 0;
    while (index < tb.Text.LastIndexOf(sb.Text))
    {
        tb.Find(sb.Text,index,tb.TextLength,RichTextBoxFinds.None);
        tb.SelectionBackColor = Color.Gold;
        index = tb.Text.IndexOf(sb.Text, index) + 1;
    }
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T22:51:24.377

您能否尝试使用它来获取文本以及所有富文本格式代码？

```
string str = richTextBox.Rtf; 
```

有关此上下文的更多信息和实施指南，请参阅 [http://www.codeproject.com/Articles/12932/Saving-and-Restoring-RichTextBox-Formatted-Text-Al](http://www.codeproject.com/Articles/12932/Saving-and-Restoring-RichTextBox-Formatted-Text-Al)

# windows - 在 Windows 2003 Server 中引发特定错误时触发事件的最佳方法是什么？

> ID：11465647
> 
> 赞同：0
> 
> 时间：2012-07-13T07:04:18.913
> 
> 标签：windows, powershell, windows-server-2008, scheduled-tasks, windows-server-2003

我有一个 Windows 2003 Server，它使用 IIS 来托管旧版 ASP.NET Web 服务，该服务连接到我无法控制的远程 Oracle 数据库服务器上的数据库。问题是数据库服务器每隔一两周就会关闭一次，但大约 5 分钟后就会恢复。然后，我必须重新启动 IIS 以删除任何损坏的连接，然后我的 Web 服务才能再次工作。

当发生特定错误代码（在这种情况下，它将是 ORA 类型错误，但我可以获得 Windows 错误代码）时，触发事件的最佳方法是什么（即给我自己发送电子邮件和/或重置 IIS）？

IIS设置？

任务调度器？（仅限于计划任务，我相信在 Windows 2003 服务器上，例如每天/每周/每月等）

Powershell脚本？

其他选择？

我知道在 Windows 2008 Server 中，您可以配置任务计划程序以在服务器在其错误日志中遇到某些错误代码时触发事件......但我在 Windows 2003 Server 的任务计划程序中找不到类似的东西。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T10:28:13.870

我编写了一个 powershell shell 脚本来监控 sql server 错误日志并报告特定错误。我存储了上次停止阅读的位置，然后在下次运行脚本时从该点继续。这是实际读取日志的部分。然后，您只需将位置存储在某个临时文件中并将其作为计划任务运行。如果发生错误甚至重新启动某些服务，请发送电子邮件。

```
$path = $logs.file
Write-Host $path
if($currentLog.lastpos -ne $null){$pos = $currentLog.lastpos}
else{$pos = 0}
if($logs.enc -eq $null){$br = New-Object System.IO.BinaryReader([System.IO.File]::Open($path, [System.IO.FileMode]::Open, [System.IO.FileAccess]::Read, [System.IO.FileShare]::ReadWrite))}
else{
    $encoding = $logs.enc.toUpper().Replace('-','')
    if($encoding -eq 'UTF16'){$encoding = 'Unicode'}
    $br = New-Object System.IO.BinaryReader([System.IO.File]::Open($path, [System.IO.FileMode]::Open, [System.IO.FileAccess]::Read, [System.IO.FileShare]::ReadWrite), [System.Text.Encoding]::$encoding)
}
$required = $br.BaseStream.Length - $pos
if($required -lt 0){
    $pos = 0
    $required = $br.BaseStream.Length
}
if($required -eq 0){$br.close(); return $null}
$br.BaseStream.Seek($pos, [System.IO.SeekOrigin]::Begin)|Out-Null
$bytes = $br.ReadBytes($required)
$result = [System.Text.Encoding]::Unicode.GetString($bytes)
$split = $result.Split("`n")
foreach($s in $split)
{
    if($s.contains("  Error:"))
    {
        #Filter events here
    }
}
$currentLog.lastpos = $br.BaseStream.Position 
$br.close() 
```

# android - android appln中的应用空闲时间

> ID：11465651
> 
> 赞同：0
> 
> 时间：2012-07-13T07:04:28.133
> 
> 标签：android, android-activity, idle-timer

我有一个 android 应用程序正在我的应用程序中显示 web 视图，但我的问题是找出我的应用程序的空闲时间，因为会话到期后我想显示登录屏幕如何在 android 中以编程方式进行。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:29:25.213

如果我遇到这个问题，我会说有一个计时器正在运行，每 1 分钟递增一个整数。如果和与设备的交互只是将其重置为零。不过，也许有更好的解决方案，这只是我的逻辑。

# java - 如果命名空间声明在 SOAP 信封上，如何使用 JAXB 解组 SOAP 响应？

> ID：11465653
> 
> 赞同：21
> 
> 时间：2012-07-13T07:04:41.613
> 
> 标签：java, xml, soap, jaxb, unmarshalling

如果肥皂信封已被删除，JAXB 只能解组 XML。但是，我试图解组的 SOAP 响应在肥皂信封上有其名称空间声明。如果我删除肥皂信封，命名空间声明也将被删除。因此，标签的前缀将指代无。这会导致 JAXB 引发错误。如果命名空间是在 SOAP 信封上声明的，如何使用 JAXB 解组 SOAP 响应？

我需要解组的 XML 的类似示例如下：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns="http://example.com/">
    <soapenv:Body>
        <ns:getNumberResponse>
            <number>123456789</number>
        </ns:getNumberResponse>
    </soapenv:Body>
</soapenv:Envelope> 
```

如果我取下肥皂信封，会发生以下情况：

```
<ns:getNumberResponse>
    <number>123456789</number>
</ns:getNumberResponse> 
```

如果我删除了肥皂信封，命名空间声明也将消失。JAXB 将无法解组上述 xml，因为缺少前缀“ns”的命名空间定义。因此，它将返回一条`"The prefix "ns" for element "ns:getNumberResponse" is not bound."`错误消息。我如何解决它？

请注意，我使用的是 JDK 1.5。我不确定在 JDK 1.6 中是否有办法解决这个问题。我能够使用 JAXB，因为我下载了使用 JAXB 所需的 jar。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-07-13T09:11:06.320

您可以使用 StAX 解析器来解析 SOAP 消息，然后前进`XMLStreamReader`到`getNumberResponse`元素并使用采用类参数的 unmarshal 方法。StAX 解析器包含在 Java SE 6 中，但您需要为 Java SE 5 下载一个[。Woodstox](http://woodstox.codehaus.org/)是一种流行的 StAX 解析器。

**回复**

```
package forum11465653;

public class Response {

    private long number;

    public long getNumber() {
        return number;
    }

    public void setNumber(long number) {
        this.number = number;
    }

} 
```

**演示**

一个`XMLStreamReader`有一个`NamespaceContext`。知道当前级别的`NamespaceContext`所有活动命名空间声明。您的 JAXB (JSR-222) 实现将能够利用它来获取必要的信息。

```
package forum11465653;

import java.io.FileReader;
import javax.xml.bind.*;
import javax.xml.stream.*;

public class Demo {

    public static void main(String[] args) throws Exception{
        XMLInputFactory xif = XMLInputFactory.newFactory();
        XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader("src/forum11465653/input.xml"));
        xsr.nextTag(); // Advance to Envelope tag
        xsr.nextTag(); // Advance to Body tag
        xsr.nextTag(); // Advance to getNumberResponse tag
        System.out.println(xsr.getNamespaceContext().getNamespaceURI("ns"));

        JAXBContext jc = JAXBContext.newInstance(Response.class);
        Unmarshaller unmarshaller = jc.createUnmarshaller();
        JAXBElement<Response> je = unmarshaller.unmarshal(xsr, Response.class);
        System.out.println(je.getName());
        System.out.println(je.getValue());
    }

} 
```

**输出**

```
http://example.com/
{http://example.com/}getNumberResponse
forum11465653.Response@781f6226 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-07-13T08:43:43.017

您可以使用 DOM 解析器解析整个 SOAP 消息，该解析器将能够在解析时解析所有名称空间。然后从生成的 DOM 树中提取您需要的元素并将其传递给解组器。

**DomDemo**

```
package forum11465653;

import java.io.File;
import javax.xml.bind.*;
import javax.xml.parsers.*;
import javax.xml.transform.dom.DOMSource;
import org.w3c.dom.*;

public class DomDemo {

    public static void main(String[] args) throws Exception{
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        dbf.setNamespaceAware(true);
        DocumentBuilder db = dbf.newDocumentBuilder();
        Document d = db.parse(new File("src/forum11465653/input.xml"));
        Node getNumberResponseElt = d.getElementsByTagNameNS("http://example.com/", "getNumberResponse").item(0);

        JAXBContext jc = JAXBContext.newInstance(Response.class);
        Unmarshaller unmarshaller = jc.createUnmarshaller();
        JAXBElement<Response> je = unmarshaller.unmarshal(new DOMSource(getNumberResponseElt), Response.class);
        System.out.println(je.getName());
        System.out.println(je.getValue());
    }

} 
```

**输出**

```
{http://example.com/}getNumberResponse
forum11465653.Response@19632847 
```

# c++ - 语句“x = map[keyPotentiallyNotYetInMap]”对任何事情有用吗？

> ID：11465654
> 
> 赞同：0
> 
> 时间：2012-07-13T07:04:41.707
> 
> 标签：c++, stl, map

说我有地图

```
map<string, string> m; 
```

并做一个

```
string x = m["asdf"]; 
```

不知道“asdf”是否在地图中。然后我将无法通过查看来可靠地确定它是否在地图中`x`。那是对的吗？

所以我应该`m.first(asdf)`首先弄清楚这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:09:45.227

> 然后我将无法通过查看 x 来可靠地确定它是否在地图中。那是对的吗？

你说的对。如果它丢失，它将被默认构造。

您应该使用[`m.count("asdf")`](http://www.cplusplus.com/reference/stl/map/count/)（只是找出它是否存在）或[`m.find("asdf")`](http://www.cplusplus.com/reference/stl/map/find/)（加上，如果它存在则获取参考）来找出它是否存在。根据您的要求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:09:48.333

如果不存在，则使用默认值在地图中`map::operator[]`插入键。

如果您不希望这样：

```
std::map<string, string>::iterator it = m.find("asdf");
//if you use C++11:
//auto it = m.find("asdf");
if (it == m.end())
    std::cout << "Not found" << std::endl;
else
    std::cout << "The value is " << *it << std::endl; 
```

这`map::operator[]`对很多事情都很有用，尤其是在引用方面。例如：

```
std::string &x = m["asdf"];
x += "X"; 
```

这将`"X"`在地图中的（可能是新创建的）字符串中添加一个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:08:37.793

x 将是默认构造的 std::string。编译 operator[] 时，std::map 需要默认构造函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:30:55.167

*首先，如果使用值初始化*而不是默认构造函数缺少一个，则 operator[] 将构造“值”对象。这意味着在适当的情况下使用默认构造函数，并为内置类型情况（整数、浮点数、指针）使用零初始化，以及为聚合（如简单结构）使用递归值初始化。

你是对的，如果你从 operator[] 获得一个值构造的对象，你将不知道它是否在地图中，或者它是否是动态生成的。operator[] 的另一个问题是它不是 const 成员。

尽管如此，操作符有时还是有用的。例如，如果我使用地图来存储某些文本的字数，

```
unsigned countCats( std::map<std::string, unsigned> dict )
{
  unsigned count = disc["cat"];
} 
```

操作员的工作方式完全符合您的预期。

# php - PHP 不适用于 ( ' ) 符号

> ID：11465658
> 
> 赞同：1
> 
> 时间：2012-07-13T07:04:51.647
> 
> 标签：php

我有一个使用类似这样的 php 脚本。但是由于某种原因，如果我有任何带有 ' 符号的代码，我会在加载页面时遇到 php 错误。所以由于某种原因，我需要将我所有的 javascripts 移动到`html .=''`不存在的地方。

但我需要在我的网站内使用此代码才能工作。我怎样才能在此处获取带有 ' 符号的代码？

例如，在这段代码中，我们`'linkText'`遇到了问题，因为 ' << 这个符号

```
 $html .= '<input onClick="SelectAll('linkText');" id="linkText" class="sharelinkboxes" />
    '; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T07:06:10.327

您必须使用以下命令转义`'`字符`\`：

```
$html .= '<input onClick="SelectAll(\'linkText\');" id="linkText" class="sharelinkboxes" />'; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-13T07:06:30.507

您必须在字符串中转义 '

```
$html .= '<input onClick="SelectAll(\'linkText\');" id="linkText" class="sharelinkboxes" />'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:11:50.320

让我们更深入地了解您在做什么：-

```
 $html= '<input onClick="SelectAll('linkText');" id="linkText" class="sharelinkboxes" />'; 
```

当 php 在第一个括号 (' 之后遇到第二个单引号时，它会说“哦！这是第一个单引号的结束引号。这是错误开始的地方。所以你必须像下面这样转义它：-

```
$html= '<input onClick="SelectAll(\'linkText\');" id="linkText" class="sharelinkboxes" />'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:58:16.963

你可以这样做

```
$html .= <<< HTML
     <input onClick="SelectAll('linkText');" id="linkText" class="sharelinkboxes" />
HTML; 
```

但是一件重要的事情不要在之后放置空间`<<< HTML`也不要在之前或之后放置空间`HTML;`

或者你可以使用

```
$html .= '<input onClick="SelectAll(\'linkText\');" id="linkText" class="sharelinkboxes" />'; 
```

# java - 如何准确获取数组中的元素？

> ID：11465660
> 
> 赞同：3
> 
> 时间：2012-07-13T07:04:56.403
> 
> 标签：java, calendar

我有一个数组：

```
int num[] = {10, 20, 30, 40, 50}; 
```

我从日历中获取当前分钟并将其与上面的数组进行比较，以准确获取数组中的元素。

我的代码如下，经过比较它经常得到第一个元素，它不符合我的意愿，请帮助纠正我。谢谢

```
public static int getMinute(int no) {
    int num[] = {10, 20, 30, 40, 50};
    for (int i = 0; i < num.length;; i++) {
        if (no >= num[i]) {
            no = num[i];
            break;
        }
    }
    return no;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:10:10.087

您必须更改数组的顺序才能使这种方法起作用。尝试

```
public static int getMinute(int no) {
    int num[] = {50, 40, 30, 20, 10, 0};
    for (int i = 0; i < num.length; i++) {
        if (no >= num[i]) {
            no = num[i];
            break;
        }
    }
    return no;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:11:46.587

此行中有一个多余的分号：

```
for (int i = 0; i < num.length;; i++) { 
```

删除它应该可以解决问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-13T07:22:15.490

以下是两种解决方案（均在该`0..59`范围内工作）：

1.  如果你的数组真的是`0, 10, 20, ..., 50`你可以这样做：

    ```
    return 10 * (no / 10); 
    ```

2.  如果你有更复杂的匹配，你可以使用`TreeSet`这样的：

    ```
    TreeSet<Integer> c = new TreeSet<Integer>(Arrays.asList(0, 4, 23, 12, 41));

    System.out.println(c.lower(5));   // return 4
    System.out.println(c.lower(54));  // return 41
    System.out.println(c.lower(32));  // return 23 
    ```

    *请注意，您需要包含一个下限才能使其正常工作，否则`TreeSet.lower`可能会返回`null`.*

# android - GridView 部分可见

> ID：11465661
> 
> 赞同：1
> 
> 时间：2012-07-13T07:04:56.917
> 
> 标签：android, android-layout, android-widget

以下是我的布局

```
ScrollView (FILL_PARENT, FILL_PARENT)
LinearLayout (FILL_PARENT, WRAP_CONTENT)
LinearLayout (FILL_PARENT, WRAP_CONTENT)
TextView (Choose your favourtie hotels)
LinearLayout (FILL_PARENT, WRAP_CONTENT)
GridView (10 rows) 
```

但是，垂直滚动条只能看到 1 行和半行。如何确保 GridView 完全可见？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:11:24.430

不要`GridView,ListView, etc`在 a 内使用，`ScrollView`因为它们本身具有可滚动的视图。只需将`ScrollView`其删除即可正确显示。

只需使用

```
LinearLayout (FILL_PARENT, FILL_PARENT, orientation="vertical")
        TextView (Choose your favourtie hotels)
        GridView (10 rows) 
```

您可以使用

```
 LinearLayout (FILL_PARENT, FILL_PARENT, orientation="vertical")
        (Include any View, Set of Views)
        GridView (10 rows)
        After GridView you can't add any View. 
```

但在[最坏](https://stackoverflow.com/a/3496042/1436931)的情况下，如果必须`GridView`在`ScrolView`. `GridView`然后你需要在你的 Java 代码中设置高度。这是测量列表视图高度的[链接](https://stackoverflow.com/a/3495908/1436931)`gridView`，您可以对其执行相同的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:07:27.337

尝试使用权重：

```
ScrollView (FILL_PARENT, FILL_PARENT)
    LinearLayout (FILL_PARENT, WRAP_CONTENT)
        LinearLayout (FILL_PARENT, 0dp, WEIGHT 1)
            TextView (Choose your favourtie hotels)
        LinearLayout (FILL_PARENT, 0dp, WEIGHT 1)
            GridView (10 rows) 
```

# c++ - 函子 - 我如何将它们与 typedef 一起使用？

> ID：11465663
> 
> 赞同：1
> 
> 时间：2012-07-13T07:05:07.573
> 
> 标签：c++, function, functor

这是一个函子：

```
class add_x {

 int x;

public:
  add_x(int x) : x(x) {}
  int operator()(int y) { return x + y; }

}; 
```

从主要我可以做到这一点：

```
add_x add10(10); // create my functor 
int i = add10(20); // add 20 and return it 
```

如何将仿函数与 结合起来`typedef`？

例如，我遇到了这个：

```
typedef int (*myfuncType)(float f, char c1,char c2);
myfuncType pt2Function = NULL; 
```

但是我在这里到底定义了什么？运营商`()`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:09:03.757

函数指针——顾名思义——只是一个指向函数的指针。您不能使用指向函数的指针来指向函子，函子本质上是一个具有重载 () 运算符的类。

您可能对 C++11 中的 std::function 感兴趣：

```
#include <functional>

(...)
std::function<int(int)> fn = add_x(10);
int i = fn(20); 
```

* * *

编辑：好的，我明白了，你在问什么。

也许一些代码会让事情变得清晰。

```
int fn(float a, char b, char c) { ... }

(...)

typedef int (*myFuncType)(float f, char c1, char c2);

myFuncType ptrToFun = &fn;

(*fn)(1.0f, 'a', 'z'); 
```

此 typedef 创建一个“指向函数的指针”类型。如果您声明这种类型的变量，那么您将能够为其分配一个指向函数的指针（使用常规 & 运算符提取），并且 - 例如 - 传递给另一个函数或只是存储（或调用此函数）。

std::function 更加灵活，因为您可以在其中存储指向函数、仿函数甚至 lambda 的指针并正常调用它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T07:10:46.150

我不明白你的第一个问题 ( `How can I combine the functor with typedef ?`)，所以我无法回答这个问题 - a`typedef`会像与任何其他类一样工作。

关于你的第二个问题：线

```
typedef int (*myfuncType)(float f, char c1,char c2); 
```

给`myfunctType`类型一个名字（`int (*)(float, char, char)`_`float``char``int`

所以

```
myfuncType pt2Function = NULL; 
```

定义一个可以指向上述函数的变量，但现在将指针设置为 NULL。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:12:41.907

这里，`myfuncType`是一种描述函数指针的类型，具有三个浮点参数并返回一个 int。仿函数只是一个带有 operator() 重载的类。所以 typedef 就像其他类一样使用。

`typedef add_x add`将工作。

# sql - 一次从表中删除多行

> ID：11465664
> 
> 赞同：-3
> 
> 时间：2012-07-13T07:05:13.393
> 
> 标签：sql, postgresql

我有一个名为 person 的表（其中包含用户的登录 ID）。我正在测试我的应用程序并创建了几个测试用户。所以现在这张表有很多测试用户和一些普通用户。

我想知道如何删除所有测试用户？

使用一个一个删除所有用户`DELETE login FROM person where login = 'test_user' ;`需要很长时间。

PS：测试用户名中不包含test：/它们只是随机名称。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:10:07.157

你有所有测试用户的列表吗？

如果是这样，您可以进行如下查询

```
DELETE FROM person WHERE login IN ('user1', 'user2', 'user3', ...); 
```

**编辑**

作为回应

> 我有一个有效用户列表，我想删除其余的。–[钱基·帕塔克](https://stackoverflow.com/users/257635/chankey-pathak)

采用

```
DELETE FROM person WHERE login NOT IN ('user1', 'user2', 'user3', ...); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:40:52.623

您可以采取白名单方法：

如果您有一个想要保留的用户列表，但想要删除不在该有效列表中的行，您可以使用：

```
DELETE FROM person WHERE login NOT IN (<listOfValid>) 
```

如果您将所有有效用户存储在表中，则可以执行以下操作：

```
DELETE a FROM person a
LEFT JOIN validpersons b ON a.name = b.name
WHERE b.name IS NULL 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:07:11.163

```
DELETE FROM person where login like '%test%' 
```

这将删除其名称包含的所有用户`test`

# iphone - 如何为 iPhone 制作一个媒体播放器应用程序？

> ID：11465665
> 
> 赞同：1
> 
> 时间：2012-07-13T07:05:15.420
> 
> 标签：iphone, objective-c, video, video-streaming

我不知道从哪里开始。无论如何，我们大多数人都使用 DVD 播放器，我们所做的就是将光盘放入其中并播放视频（或音频，但我关心的是视频）。播放暂停、前进、后退等所有控制都可以在 DVD 播放器端进行处理。带有遥控器或播放器上的按钮。这些效果反映在电视屏幕上。

现在，我需要为 iPhone 创建一个相同的应用程序。在 iPhone 将是 DVD 播放器和连接到它的系统监视器将像电视屏幕一样运行，iPhone 屏幕上的所有控件在播放监视器时同样有效。但我的观点是视频内容应该是播放 iPhone 的流媒体，而不是屏幕。

请告诉我应该从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:54:47.080

您可以使用 Airplay 和 AppleTV 作为 secondDisplay（DVD 播放屏幕）并指定另一个外部屏幕（视频）而不是内部屏幕（控件）

[http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AirPlayGuide/EnrichYourAppforAirPlay/EnrichYourAppforAirPlay.html](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AirPlayGuide/EnrichYourAppforAirPlay/EnrichYourAppforAirPlay.html)

# sql - 数据透视表中括号中的 SQL Server 2005 百分比

> ID：11465666
> 
> 赞同：2
> 
> 时间：2012-07-13T07:05:15.903
> 
> 标签：sql, tsql, sql-server-2005, null, pivot

[这是here](https://stackoverflow.com/questions/11459355/sql-server-2005-fill-pivot-table-with-0s)的后续问题。我有一些输出并且能够添加一个总列，但现在我需要使用该列来添加这样的百分比：

```
| LESSONID     RESPONSE COUNT-> | 0       | 1       | 2       | 3       | 4       | N |
---------------------------------------------------------------------------------------                         
|lesson1                        | 1 (20%) | 1 (20%) | 1 (20%) | 1 (20%) | 1 (20%) | 5 |
|lesson2                        | 1 (20%) | 1 (20%) | 1 (20%) | 2 (40%) | 0       | 5 |
|lesson3                        | 1 (20%) | 1 (20%) | 0       | 3 (60%) | 0       | 5 |
|lesson4                        | 0       | 1 (20%) | 4 (80%) | 0       | 0       | 5 |
|lesson5                        | 0       | 5 (100%)| 0       | 0       | 0       | 5 | 
```

我在这里找到了一些帮助，但无法将它们全部融合在一起。

[这是我到目前为止所拥有的](http://sqlfiddle.com/#!3/a1627/49/0)

*我也在 SQL Server 2005 上，这在 SQLFiddle 中没有表示

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T10:02:42.140

您可以像处理任何其他查询一样格式化数据透视查询的结果。因此，您可以将百分比连接到其各自的来源。[这是一个 SQL FIDDLE](http://sqlfiddle.com/#!3/a1627/57)。

```
SELECT RC.lessonid AS 'lessonid     response count->'
  , convert (varchar(20), isnull([0], 0))
  + isnull (' ('
-- As both numbers are integers don't forget to cast one of them into double
-- If you dislike * 100 format or want more precise result.
  + convert (varchar(20), [0] * 100 / RCN.N)
  + '%)', '') as [0]
  , convert (varchar(20), isnull([1], 0))
  + isnull (' ('
  + convert (varchar(20), [1] * 100 / RCN.N)
  + '%)', '') as [1]
  , convert (varchar(20), isnull([2], 0))
  + isnull (' ('
  + convert (varchar(20), [2] * 100 / RCN.N)
  + '%)', '') as [2]
  , convert (varchar(20), isnull([3], 0))
  + isnull (' ('
  + convert (varchar(20), [3] * 100 / RCN.N)
  + '%)', '') as [3]
  , convert (varchar(20), isnull([4], 0))
  + isnull (' ('
  + convert (varchar(20), [4] * 100 / RCN.N)
  + '%)', '') as [4]
  ,RCN.N
FROM (
    SELECT lessonid
        ,response
        ,count(response) AS respcnt
    FROM tblRChoices
    GROUP BY lessonid
        ,response
    ) TableResponseCount
PIVOT(SUM(respcnt) FOR response IN (
            [0]
            ,[1]
            ,[2]
            ,[3]
            ,[4]
            )) RC
JOIN (SELECT lessonid, count(lessonid) as N FROM tblRChoices GROUP BY lessonid) RCN 
ON RC.lessonid = RCN.lessonid 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T11:36:42.783

您可以通过将值转换为字符串然后将其连接成一个字符串来做到这一点（[SQL Fiddle with Demo of it in one field](http://sqlfiddle.com/#!3/a1627/86)）。与此类似：

```
SELECT RC.lessonid AS 'lessonid     response count->'
 , cast(isnull([0], 0) as varchar(10)) 
   + isnull(' (' + cast([0]*100/RCN.N as varchar(10)) + '%)', '') as [0] 
```

但是，我的问题是您是否需要将其显示在与字符串相同的列中。你打算在前端应用程序中使用它吗？如果是这样，那么您可能需要考虑将百分比放在单独的列中，这样您仍然会将初始值作为 int。（请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/a1627/88)）根据您将如何使用此数据，以这种方式执行此操作可为您提供更大的灵活性，因为这样您就不必去除百分比来获得初始值。

```
SELECT RC.lessonid AS 'lessonid     response count->'
  , cast(isnull([0], 0) as varchar(10))  as [0]
  , isnull(' (' + cast([0]*100/RCN.N as varchar(10)) + '%)', '') as [%_0] 
```

# c# - 如何解决停止的 Windows 服务 'clr.dll 错误？

> ID：11465674
> 
> 赞同：1
> 
> 时间：2012-07-13T07:05:46.637
> 
> 标签：c#, .net, windows, windows-services

你好; 我有一个 Windows 服务。我想通过批处理文件（.bat 文件）启动我的 Windows 服务。我成功地做到了。我的服务开始很好。但 4-5 秒后会自行停止。4-5 秒后无法工作。如果我在 Windows Server 2008 上查看事件日志，则会发生错误。我的错误如下。我怎么解决这个问题？

```
 Faulting application name: MyProject.WindowsService.exe, version: 1.0.0.0, time stamp: 0x4ffec57c
Faulting module name: clr.dll, version: 4.0.30319.269, time stamp: 0x4ee9ae83
Exception code: 0xc00000fd
Fault offset: 0x003565fd
Faulting process id: 0x1bbc
Faulting application start time: 0x01cd60323465e0b0
Faulting application path: C:\MyProject.WindowsService\bin\Debug\MyProject.WindowsService.exe
Faulting module path: C:\Windows\Microsoft.NET\Framework\v4.0.30319\clr.dll
Report Id: 742f8164-cc25-11e1-ae08-00155d100687 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:12:37.450

`0xc00000fd`表示堆栈溢出。

*   您是否使用 p/invoke 调用 Win32 api？
*   你能在应用程序中添加一些日志记录，看看它在出错之前能走多远
*   作为应用程序（而不是服务）运行时它会失败吗？

# php - joomla 中的数据库行为空错误

> ID：11465675
> 
> 赞同：0
> 
> 时间：2012-07-13T07:05:53.757
> 
> 标签：php, joomla, joomla2.5

我使用 MVC 在 joomla 中创建自己的组件...我在客户端创建一个主表操作...（添加、更新、删除）但是当我选择一条记录并按下删除按钮时，出现以下错误，

> 代码：
> 
> 数据库行为空。
> 数据库行为空。

调用堆栈

```
#      Function      Location   
1      JSite->dispatch()      C:\wamp\www\gstest\index.php:42   
2      JComponentHelper::renderComponent()      C:\wamp\www\gstest\includes\application.php:198   
3      JComponentHelper::executeComponent()      C:\wamp\www\gstest\libraries\joomla\application\component\helper.php:357   
4      require_once()      C:\wamp\www\gstest\libraries\joomla\application\component\helper.php:388   
5      JController->execute()      C:\wamp\www\gstest\components\com_gsmasters\gsmasters.php:16   
6      gsmastersController->display()      C:\wamp\www\gstest\libraries\joomla\application\component\controller.php:754   
7      JController->display()      C:\wamp\www\gstest\components\com_gsmasters\controller.php:25   
8      gsmastersViewgsmasters->display()      C:\wamp\www\gstest\libraries\joomla\application\component\controller.php:715   
9      JError::raiseError()      C:\wamp\www\gstest\components\com_gsmasters\views\gsmasters\view.html.php:27   
10      JError::raise()      C:\wamp\www\gstest\libraries\joomla\error\error.php:251 
```

这是HTML：

```
<form action="<?php echo JRoute::_('index.php?option=com_gsmasters&layout=edit&id='.(int) $this->item->id); ?>" method="post" name="adminForm" id="gsmasters-form" class="form-validate"> 
   <div class="width-60 fltlft"> 
      <fieldset class="adminform"> 
         <legend><?php echo JText::_( 'COM_GSMASTERS_GSMASTERS_DETAILS' ); ?></legend>    
         <ul class="adminformlist"> <?php foreach($this->form->getFieldset('details') as $field): ?> 
           <li><?php echo $field->label;echo $field->input;?></li> <?php endforeach; ?> 
         </ul> 
    </div> 
```

请给出任何解决方案..，，谢谢。

# iphone - “ld: library not found for -lXYZ”是什么意思？有哪些不同的可能性？

> ID：11465676
> 
> 赞同：6
> 
> 时间：2012-07-13T07:05:54.373
> 
> 标签：iphone, ios, xcode, linker

发生此错误时有哪些不同的可能性？为了摆脱这种情况，应该注意什么？

如果 XYZ 是直接添加到项目中的静态库怎么办？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-13T09:05:04.427

这意味着您正在尝试链接到系统未找到的库。在您的情况下，这似乎是一个简单的静态库。您应该检查以下内容：

*   在您的项目文件中查找相应的红色项目，特别注意 Frameworks 组（人们通常放置库的地方）。如果找到，请修复路径或手动删除并重新添加库。
*   在项目/目标设置的 Build Phases 选项卡下的 Link Binary with Libraries 条目中重复此操作。
*   检查项目/目标设置中构建设置选项卡中的库搜索路径条目。确保`libXYZ.a`那里列出了您的文件的路径。

# javascript - trigger.io — 谷歌分析

> ID：11465678
> 
> 赞同：2
> 
> 时间：2012-07-13T07:05:59.320
> 
> 标签：javascript, google-analytics, trigger.io

如何为 Trigger.io 构建的应用程序包含 Google 分析？我可以看到使用 trigger.io 构建的移动 Web 只需嵌入 GA JS 代码即可。但是iOS或Android呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-09T03:27:33.320

[从v1.4.19 平台版本开始](http://docs.trigger.io/en/v1.4/release-notes.html#v1-4-19)，我们已经集成了 Flurry Analytics SDK 。此处提供的文档：http: [//docs.trigger.io/en/v1.4/modules/flurry.html](http://docs.trigger.io/en/v1.4/modules/flurry.html)

也可以使用[插件系统](http://docs.trigger.io/en/v1.4/modules/native/index.html)集成 Google Analytics 原生 SDK（或任何其他分析 SDK） 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T12:56:10.127

简单的回答：

您已经回答了自己的问题 - 嵌入 Google GA JS 代码。

替代答案：

另一种选择是您可以利用 forge.ajax 并在成功回调中触发 .trackPageView 方法。在这种情况下，您必须在配置文件中添加正确的域权限。

但是，GA 不是绑定到特定域（或域组）吗？在 PhoneGap 或 trigger.io 的情况下，没有域名。

另外，请参阅此问题和答案-

[逐步让 Google Analytics 在 iOS 上的 PhoneGap 1.2.0 中工作（phonegapalytics）](https://stackoverflow.com/questions/8097015/step-by-set-to-get-google-analytics-working-in-phonegap-1-2-0-on-ios-phonegapal)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-05T14:40:30.207

嵌入 Google Analytics 的 JavaScript 版本将不起作用 - 由于某种原因，跟踪调用不会触发任何事件，因此您需要使用测量 API。

我创建了一个插件，允许您在 github 上使用 Google Analytics 和 Trigger.io，您可以使用：[http ://bit.ly/1F3VM1J](http://bit.ly/1F3VM1J)

该插件使用 Request 和 Prefs 模块将分析数据发送到 Google，它也可以与实时仪表板一起使用。您目前只能跟踪屏幕视图和事件，但对于您的应用程序来说应该足够了。

要跟踪综合浏览量，您可以执行以下操作：

```
// send screenview tracking data
ga('send', 'screenview', 'App Load'); 
```

# c - mongodb c api没有插入没有错误

> ID：11465690
> 
> 赞同：2
> 
> 时间：2012-07-13T07:06:38.040
> 
> 标签：c, api, mongodb, g-wan

我正在尝试连接到 mongodb 并插入 GET 参数，使用 G-WAN 和 mongodb 的 C 驱动程序，我成功连接到 mongodb，但我没有成功插入任何数据。我正在使用代码

```
mongo_write_concern_init(write_concern);
write_concern->w = 0;
mongo_write_concern_finish(write_concern);
bson b[1];
bson_init( b );
bson_append_new_oid( b, "_id" );
bson_append_string( b, "param1", param1);
bson_append_string( b, "param2", param2);

status = mongo_insert( conn, "mydb.mycol", b , write_concern);
bson_finish( b );
bson_destroy( b );
mongo_write_concern_destroy(write_concern); 
```

连接成功，通过 mongod.log 文件可以看到；

```
[conn36] run command admin.$cmd { ismaster: 1 }
[conn36] command admin.$cmd command: { ismaster: 1 } ntoreturn:1 reslen:71 0ms
[conn36] end connection 127.0.0.1:50086 
```

但仅此而已，当我调用最后一个错误时，我也无法在 mongodb shell 上收到任何错误消息或错误日志

```
> db.getLastError()
null 
```

返回 null 知道为什么会发生这种情况，或者欢迎您提出任何解决方案，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T10:32:50.733

此调用必须在 mongo_insert() 之前：

```
bson_finish( b ); 
```

否则你在这里有一个未完成的 BSON 对象：

```
status = mongo_insert( conn, "mydb.mycol", b , write_concern); 
```

所以代码应该是

```
bson b[1];

/// Init
bson_init( b );
bson_append_new_oid( b, "_id" );
bson_append_string( b, "param1", param1);
bson_append_string( b, "param2", param2);

// Make this complete
bson_finish( b );

/// Insert
status = mongo_insert( conn, "mydb.mycol", b , write_concern);

/// Destroy the BSON obj
bson_destroy( b ); 
```

# javascript - 无论如何要关闭这个窗口？

> ID：11465692
> 
> 赞同：-3
> 
> 时间：2012-07-13T07:06:51.103
> 
> 标签：javascript

有没有办法让“loadedafter15seconds.com”在 20 秒后关闭？

代码在[http://pastebin.com/480TtqJ9](http://pastebin.com/480TtqJ9)

**基本上我想要一个转到页面的按钮。该页面在一定时间后加载网址列表，然后在一定时间后关闭它们。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:12:41.563

[Jsfiddle 上的演示](http://jsfiddle.net/nawazhi/PueNn/1/)

```
function closeWindow() {
setTimeout(function() {
window.close();
}, 15000);
} 
```

**编辑**

像这样使用它

```
 function NewWindow3() 
   {    
    win = window.open('http://www.loadedafter15seconds.com') 
    setTimeout(function() { win.close(); }, 20000);
    } 
```

# onedrive - 我在哪里可以下载 skydrive sdk API jar 文件

> ID：11465693
> 
> 赞同：0
> 
> 时间：2012-07-13T07:06:53.530
> 
> 标签：onedrive

我在哪里可以下载 skydrive sdk jar 以使用下面链接中列出的类？ [http://msdn.microsoft.com/en-us/library/live/hh846808.aspx](http://msdn.microsoft.com/en-us/library/live/hh846808.aspx)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T14:51:36.913

您可以从以下来源获取：[https ://github.com/liveservices/LiveSDK-for-Android](https://github.com/liveservices/LiveSDK-for-Android)

# android - 隐藏 android 应用程序图标并运行 Activity

> ID：11465695
> 
> 赞同：0
> 
> 时间：2012-07-13T07:07:02.783
> 
> 标签：android, android-emulator

我可以隐藏菜单中的图标，但应用程序无法运行。

实际上，它是一个监控应用程序。有谁能够帮我？

我想要做的是在设备上安装应用程序时隐藏图标我尝试了几种方法但是应用程序活动不显示并且我收到错误：

```
[2012-07-13 12:28:40 - Demo App] No Launcher activity found!
[2012-07-13 12:28:40 - Demo App] The launch will only sync the application package on the device! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:10:59.223

为什么不直接使用服务？和/或广播接收器？

无论如何，所以它不会安装一个图标，使用这个：从你的清单中的意图过滤器中删除它。

```
<category android:name="android.intent.category.LAUNCHER" /> 
```

您可能想添加一个接收器，因此不需要重新启动。

# android - shruti 字体无法正常工作

> ID：11465698
> 
> 赞同：0
> 
> 时间：2012-07-13T07:07:15.113
> 
> 标签：android

我需要在 textview 中使用 Shruti.ttf 字体打印 gujrati 字体 fron string.xml 文件，但特别是在元音的情况下打印不正确

例如我想打印**પિતા：**

并在 textview 中找到 -->

![在此处输入图像描述](../Images/9aff9f4efdfc06f971298bf2a26b77b2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-08T10:58:45.617

你可以使用本地做同样的事情。有关更多信息，您可能更喜欢[此链接](http://gunhansancar.com/change-language-programmatically-in-android/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:17:52.897

您手机的 rom 不支持字符/字体

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:20:01.287

对印度语言的支持首先在 ICS 中引入，并在 Jellybean 中完全实现。您将很难尝试在旧设备上执行此操作，您需要设备植根于能够做到这一点。

[参考1](http://microblog.ravidreams.net/android-ics-support-for-tamil-indic-languages/)

对于 Rooted 手机，方法如下：

1.从此链接[http://www.mediafire.com/?6isti7ew908mwiy](http://www.mediafire.com/?6isti7ew908mwiy)下载印度字体并复制到您的 SD 卡 2.下载 ES 文件资源管理器 3.在 ES 文件资源管理器中转到设置>路径设置在“ Up to Root” 移动到下面一点你会发现“root settings” 在它启用“root Explorer”（你会弹出一个询问root权限的弹出窗口，只需在其中单击“确定”）还在“root settings”下启用“Mount File system” . 4\. 删除 /system/fonts/ 中的“DroidSansFallback.ttf”并将新的（您下载的）“DroidSansFallback.ttf”从您的 SD 卡复制到 /system/fonts/ 5\. 复制后长按“DroidSansFallback” .ttf”选择“属性”权限必须是“rw- r-- r--”，如果不改一样。6.现在重启手机，你就可以享受印度字体了

# c++ - 在二维贝塞尔曲线上寻找拐点

> ID：11465703
> 
> 赞同：1
> 
> 时间：2012-07-13T07:07:24.653
> 
> 标签：c++, math, bezier

我需要确定二维贝塞尔曲线上的拐点（曲率变化的点），由**t**参数化，0 <= **t** <= 1，如果它们存在的话。我最初的方法是沿曲线采样，评估二阶导数并找到导数符号变化的点。

```
2DVector curvature1, curvature2;
for (double t = 0, t <= 1.0; t += STEP) {
    curvature1 = bezier.CurvatureAt(t);
    curvature2 = bezier.CurvatureAt(t + (STEP/2.0 >= 1.0 ? 0 : t + STEP/2.0));
    if (isNegative(curvature1) ? isPositive(curvature2) : isNegative(curvature2)) {
        inflection_point = t;
    }
 } 
```

其中 CurvatureAt() 是一种计算**t**处贝塞尔曲线的二阶导数的方法，但由于贝塞尔曲线是向量值函数，因此导数作为二维向量返回（不是 std::vector，二维向量类）。我不知道如何解释向量的“符号变化的地方”。基本上我不知道如何在上面的代码段中写 isNegative 或 isPositive 。

还有其他方法可以找到二维贝塞尔曲线上的拐点吗？

我认为不可能确定这个问题的封闭形式解决方案，因为贝塞尔曲线可以是任意程度的，但是如果我在这里错了，请纠正我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T18:17:50.047

曲率与二阶导数相关但不相同。

参数曲线的有符号曲率`P(t) = (x(t), y(t))`实际上是一个数字，定义为：

```
k(t) = (x'y'' - x''y') / (x' * x' + y' * y')^(3/2) 
```

如果您使用此公式，您的原始想法应该可行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T18:31:51.773

要确定贝塞尔曲线上的拐点，请在区间 (0, 1) [当然不包括端点] 中找到一个或多个时间，在该区间内，贝塞尔曲线参数方程的一阶和二阶导数的叉积为零即 f' X f'' = 0。

[这在本页和](http://www.caffeineowl.com/graphics/2d/vectorial/cubic-inflexion.html)[本文](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.86.8080&rep=rep1&type=pdf)第 4页等各种来源中都有说明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T10:50:34.633

我认为你不需要这样的循环。根据[this page](http://en.wikipedia.org/wiki/Curvature#Local_expressions)，您可以在任何点计算贝塞尔曲线的曲率。由于贝塞尔曲线具有多项式表达式，因此您可以轻松计算曲率符号何时发生变化。

# ios - 在 iOS 的后台任务中调用 Javascript 函数

> ID：11465708
> 
> 赞同：1
> 
> 时间：2012-07-13T07:07:36.623
> 
> 标签：ios, cordova, webview

我有一个 phonegap 应用程序，我想在后台任务中执行 Javascript 代码。当应用程序进入后台时，我开始执行一个 javascript 函数，该函数从 web 数据库中取出数据并将一些值发送到 web 服务，返回的数据可能会向用户切换推送通知。

[我在 Stackoverflow 上](https://stackoverflow.com/questions/2463710/calling-javascript-from-objective-c-code)找到了如何从 Objective-C 调用 javascript以及如何在[iOS SDK 文档页面](https://web.archive.org/web/20140824215114/https://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)中实现长时间运行的后台任务，但我没有找到任何将两者结合起来的东西（我认为例如：当我调用通过 web 视图的 javascript 代码，当应用程序在后台时这个视图是否存在？）所以我想问一些更有经验的 iOS 开发人员这是否可能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T23:45:37.540

我不认为它真的可能。Javascript 需要 UIwebview 才能运行（实时）并且必须对用户可见。当应用程序置于后台时，只允许运行少量任务 - webview 而不是其中一个。

您最好将数据发送到运行 cron-job 或类似任务的 Web 服务器，以通过苹果推送通知服务器发送推送通知 - 您也可以绕过此并使用[http://urbanairship.com/之类的服务](http://urbanairship.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-07T19:07:18.973

我在 iOS 5+ 上对此进行了实验，这是可能的。我创建了一个小的 PhoneGap 插件来演示它是如何工作的。查看它，并查看自述文件以获取大部分信息。

[https://github.com/jocull/phonegap-backgroundjs](https://github.com/jocull/phonegap-backgroundjs)

# jquery - jQuery - 如何将导航添加到简单的画廊

> ID：11465713
> 
> 赞同：0
> 
> 时间：2012-07-13T07:07:57.633
> 
> 标签：jquery, navigation, gallery

我的画廊脚本有另一个问题

```
var tag = $('a.click [rel="gall"]');
$(tag).live('click', function() {
    $('body').append('<div class="curtain" />').append('<div class="box" />').css({'overflow':'hidden'});
    $('.box').css({'width': '400px', 'left': '400px', 'top': '50%', 'margin-left': '-200px', 'margin-top':'-200px'}).append('<a class="close" style="margin-left: 406px" title="close" ></a>').append('<div class="image" />').append('<p />');
    $('.close').click(function() {
        $('body').removeAttr('style');
        $('.curtain, .box').hide();
    })

    for(var i=0; i < $(this).find('img').length; i++) {
        var width = $('.image').width();
        $('.box p').html('<b>'+$(this).attr('title')+'</b><br />'+$(this).find('img').attr('alt'));
        $('.box .image').append('<img src="'+$(this).attr('href')+'" alt="image" />');
    }
    return false;
}); 
```

我想知道如果有更多具有相同 rel 属性的链接，如何添加导航？

可以告诉我如何做到这一点，如何`<a href="#" rel="gall" >`用 img 计算所有内容以及是否有多个 display prev next 按钮？

每个答案都很重要:)

# tomcat - tomcat webapp 故障转移

> ID：11465714
> 
> 赞同：1
> 
> 时间：2012-07-13T07:08:03.420
> 
> 标签：tomcat, high-availability, failover, failovercluster

我正在研究部署在 tomcat 中的 webapp 的高可用性方面。我需要一种故障转移机制，这样它对 webapp 用户来说不应该是显而易见的，并且我正在将 tomcat 集群视为相同的解决方案。

如果我只关注故障转移而不关注负载平衡（此时不需要），我应该如何**配置**tomcat 集群？

编辑

我知道该机制，但正在研究**配置方面。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T12:12:16.743

自己找这个，终于找到了[https://tomcat.apache.org/connectors-doc/common_howto/loadbalancers.html](https://tomcat.apache.org/connectors-doc/common_howto/loadbalancers.html)，在“Advanced Load Balancer Worker Properties”下寻找“configure hot Spare workers”

# python - 为什么python不支持：while（s = f.readline（））？

> ID：11465716
> 
> 赞同：1
> 
> 时间：2012-07-13T07:08:20.253
> 
> 标签：python

更多示例如下：

```
 if (a = xyz() ) > abc: 
```

真的很想知道为什么，是不是有种难闻的气味？

注意：我知道语法，但我在问为什么 Python 不支持许多其他语言（例如 c 、 java ...）支持的语法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T07:56:54.213

来自[python 设计常见问题解答](http://docs.python.org/faq/design.html#why-can-t-i-use-an-assignment-in-an-expression)：

> 不允许在 Python 表达式中赋值的原因是其他语言中常见的、难以发现的错误，由以下结构引起：
> 
> ```
>  if (x = 0) {
>         // error handling
>     }
>     else {
>         // code that only works for nonzero x
>     } 
> ```
> 
> 错误是一个简单的错字：x = 0，将 0 分配给变量 x，是写的，而比较 x == 0 肯定是预期的。

如常见问题解答中所述，在表达式中使用赋值的大多数“用例”都可以通过使用迭代器来覆盖。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:03:02.873

记住 python 哲学：应该有一种——最好只有一种——明显的方法。
这对我来说听起来并不明显！
此外，您可能也想检查这个答案：
[Why does python assignment not return a value](https://stackoverflow.com/questions/4869770/why-does-python-assignment-not-return-a-value)

# winforms - 当停靠=填充时，来自超网格的滚动条消失

> ID：11465730
> 
> 赞同：1
> 
> 时间：2012-07-13T07:09:20.990
> 
> 标签：winforms, scrollbar, infragistics, dock, ultrawingrid

我正在编写一个带有超网格的 Windows 窗体应用程序。

出于布局原因，我使用了 dock 属性。当我将此属性放在无（来自超网格）时，将显示滚动条。

当我把这个属性放在填充上时，滚动条就消失了。

有谁知道我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T10:50:50.873

我在基础设施论坛上找到了答案。问题是表单上的其他控件以某种方式显示在超网格上（尽管它看起来不像）。解决方案是**右键单击表单中的超网格，然后选择 'bring to front'**。下次我运行应用程序时，滚动条在那里。

# java - slf4j 如何为一行指定最大记录数

> ID：11465733
> 
> 赞同：2
> 
> 时间：2012-07-13T07:09:37.313
> 
> 标签：java, logging, slf4j

我在项目的日志中有大量的日志消息。我想通过为使用 log 的每一行代码只记录前**N**个来减少这个数字。

我的任务是否有任何现有的解决方案？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:42:59.443

这不是我自己尝试过的，但是如果您使用 logback 作为 slf4j 的底层日志记录机制，我想您可以编写一个自定义过滤器来处理您指定的日志输出过滤。

[http://logback.qos.ch/manual/filters.html](http://logback.qos.ch/manual/filters.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:51:04.457

我决定自己实现一个 LoggerWrapper。

我们可以获取调用者的当前行，计算它的出现次数并决定是否打印消息。我认为这很简单，但却是一种例行公事。

# c# - C# XmlReader 冒号问题（命名空间）

> ID：11465734
> 
> 赞同：1
> 
> 时间：2012-07-13T07:09:42.577
> 
> 标签：c#, feed, atom-feed

我对 XMLReader 类有一个奇怪的问题。我从 URL 获取 atom 提要，xml 树的一些元素的命名如下：

```
<element:title>Hello World!</element:title>
<element:text>This is just an example</element:text>
<element:id>1</element:id> 
```

我在用着

```
[XmlElement("element:id")] 
```

但这不起作用。当我查看代码时，我看到读者将其解析为

```
element_x003A_id 
```

但如果我使用

```
[XmlElement("element_x003A_id)] 
```

我什么都得不到。我尝试摆弄 Xml 编码，但该属性是只读的。我怎样才能逃避这个，所以我可以得到元素的内容（如果元素没有分号，它就可以了）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T07:13:04.090

`element`是命名空间别名。在某个地方，你有（通常在文件的顶部）

```
<foo ... xmlns:element="http://something/blah/blog"> 
```

“http://something/blah/blog”很重要。基本上，您需要：

```
[XmlElement("id", Namespace="http://something/blah/blog")]
public int Id {get;set;} 
```

或者因为它将被重复使用：

```
const string MyNamespace = "http://something/blah/blog";
//...
[XmlElement("id", Namespace=MyNamespace)]
public int Id {get;set;} 
```

# string - 如果一个字符串是 4096 个字符，则 Delphi 6 字符串连接

> ID：11465741
> 
> 赞同：0
> 
> 时间：2012-07-13T07:09:57.367
> 
> 标签：string, delphi, string-concatenation

我正在阅读以下文章[http://www.codexterity.com/delphistrings.htm](http://www.codexterity.com/delphistrings.htm)

因此，我决定在 Delphi 6 中查看字符串（AnsiString）数据类型的长度。字符串数据类型的容量为 4Byte - 2GB。

所以，我尝试连接两个字符串，我取第一个字符串为三个字符，第二个字符串为 4096 个字符。添加两个字符串后，最终字符串的长度增加到 4099，但最后三个字符包含一些垃圾值。

PFB 代码片段：

```
var
s1,s2 :string;
begin
     s1 := 'abc';
     s2 := 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' +
    'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb' +
    'bccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc' +
    'ccdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd' +
    'dddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee' +
    'eeeeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff' +
    'fffffggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg' +
    'gggggghhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh' +
    'hhhhhhh2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222' +
    '22222222iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii' +
    'iiiiiiiijjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk' +
    'jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk' +
    'kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkklllllnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn' +
    'lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn' +
    'mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn'  +
    'nnnnnnnnnnnnnnnnnnnoooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppp' +
    'ppppppppppppppppppppppppppppppppppppppppppxyz';
s1 := s1 + s2;
MessageDlg(IntToStr(Length(s1)), mtWarning, [mbOK], 0);
end; 
```

当输出大于 4096 时，我是在做错什么，还是在 Delphi 6 中有任何其他方式来处理两个字符串的添加。

更新：如果我在连接后检查 s1 的值，它的长度设置为 4099，但是它的值最后没有**xyz**。最后，它总是会包含一些垃圾值。PFB 截图：![截屏](../Images/276ba37a352250c4f947829573f9866e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:46:24.017

这是调试器的一个已知问题。实际字符串已正确连接，但调试器显示不正确。尝试将字符串写入备忘录控件以查看是否是这种情况。

Delphi 调试器的更新版本做到了这一点。它们仍然具有相同的 4096 个字符限制，但调试器将显示`...`超出该限制的字符。

# java - Java 依赖项不会导入

> ID：11465742
> 
> 赞同：0
> 
> 时间：2012-07-13T07:09:57.477
> 
> 标签：java, intellij-idea

这是一个极端的新手问题。所以提前道歉！我正在尝试使用 simplexml 库。我的 Main.java 顶部有这个

导入 org.simpleframework.xml.Serializer；

我的 pom.xml 中有这个

```
 <dependency>
        <groupId>org.simpleframework</groupId>
        <artifactId>simple-xml</artifactId>
        <version>2.6.4</version>
    </dependency> 
```

两天前这工作正常......但今天我打开 intellij 和导入 org.simpleframework.xml.Serializer; 声明是错误的，因为它似乎无法找到库，而我的程序的其余部分现在到处都是错误的。

我是一个真正的新手，所以请保持温和，但任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:15:00.283

您可以尝试删除本地 Maven 存储库吗

C:\Documents and Settings\username.m2 在 windows 中并再次运行该应用程序。

# java - 将方法和函数存储在数组中

> ID：11465744
> 
> 赞同：1
> 
> 时间：2012-07-13T07:10:10.103
> 
> 标签：java, android

我不知道它是否可行，但我可以将方法或函数存储在数组中吗？我现在知道多维数组并用它来存储我想要的许多数组。我现在想做的是将我创建的方法或函数存储在某个类中。因为我想将我的所有函数存储到某个类，然后如果我想使用循环调用它。并使我的编码更清晰易懂。例子：

```
public String[] getDesiredFunction = {getName(),getLastname(),getMiddle()};
for(int i = 0;i<3;i++){
    if(i == 1){
        getDesiredFunction[i];
    }
} 
```

像那样？有可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T07:38:59.097

您不能完全按照您的意愿做，但可以使用以下方法做类似的事情`interface`：

```
interface Function {
    public void run();
}

class GetNameFunction implements Function {
    public void run() {
        //do stuff
    }
}
... 
```

然后你可以这样写：

```
Function[] functions = {new GetNameFunction()};
    for(int i = 0; i < functions.length; i++){
        functions[i].run();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:37:28.303

Java 6 没有一阶函数，但您可以使用函数对象模式：

```
interface NullaryFunction< B > {
    B f();
}

public class Example {
    private final Map< String, NullaryFunction< String > > mFuncs = new HashMap< String, NullaryFunction< String > >() { {
        put( "getName", fncGetName );
        put( "getLastname", fncGetLastname );
        put( "getMiddle", fncGetMiddle );
    } };
    public String getName() { /* ... */ }
    private NullaryFunction< String > fncGetName = new NullaryFunction< String >() {
        @Override String f() { return getName(); }
    };
    public String getMiddle() { /* ... */ }
    private NullaryFunction< String > fncGetMiddle = new NullaryFunction< String >() {
        @Override String f() { return getMiddle(); }
    };
    public String getLastname() { /* ... */ }
    private NullaryFunction< String > fncGetLastname = new NullaryFunction< String >() {
        @Override String f() { return getLastname(); }
    };

    public String runAFunction( String strName ) {
        return mFuncs.get(strName).f();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:15:17.387

Java 不太适合您的用例。可以用[反射](http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29)来做。

作为起点，您可以查看[反射轨迹](http://docs.oracle.com/javase/tutorial/reflect/index.html)或查看相关的[stackoverflow 问题](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:23:26.283

您可以将对象实例和方法名称存储为字符串，使用反射可以像这样调用此方法：

```
public class Test {

public void sayHello(){
    System.out.println("hello");
}
/**
 * @param args
 */
public static void main(String[] args) {
    Test test = new Test();
    String methodName = "sayHello";
    try {
        Method m = test.getClass().getMethod(methodName, null);
        m.invoke(test, null);
    } catch (SecurityException e) {
        e.printStackTrace();
    } catch (NoSuchMethodException e) {
        e.printStackTrace();
    } catch (IllegalArgumentException e) {
        e.printStackTrace();
    } catch (IllegalAccessException e) {
        e.printStackTrace();
    } catch (InvocationTargetException e) {
        e.printStackTrace();
    }
} 
```

}

你需要参考java[反射](http://docs.oracle.com/javase/tutorial/reflect/index.html)

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-07-13T07:17:29.473

你在问题中所说的方式行不通。作为替代方案，您可以这样做：

```
public String[] getDesiredFunction = {getName(),getLastname(),getMiddle()};
for(int i = 0;i<3;i++){
if(getDesiredFunction[i].equals("getName()")){
     getName();
  }
} 
```

# java - java中的换行符读取

> ID：11465749
> 
> 赞同：2
> 
> 时间：2012-07-13T07:10:25.360
> 
> 标签：java, carriage-return, linefeed

我想知道当我在记事本中打开文件时。我看到一条没有任何回车/换行的连续行。

我做了一个java程序来读取文件。当我使用`\n`or拆分文件中的数据时`System.getProperty("line.separator");`。我看到很多行。

我在十六进制编辑器中发现该文件的换行符为“0A”（在 UNIX 中使用），它在记事本中显示为矩形。

好吧，我的问题是，如果它没有 '0D' 和 'OA' （在 Windows 中用于回车和换行）。我的 java 程序如何将数据分成几行？它不应该拆分它。

有人知道吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:21:27.347

Java 在内部使用 Unicode。

> Unicode 标准定义了大量符合应用程序应识别为行终止符的字符：[3]
> LF：换行，U+000A
> VT：垂直制表符，U+000B
> FF：换页，U+000C
> CR：回车， U+000D
> CR+LF：CR (U+000D) 后跟 LF (U+000A)
> NEL：下一行，U+0085
> LS：行分隔符，U+2028
> PS：段落分隔符，U+2029

( [http://en.wikipedia.org/wiki/Newline](http://en.wikipedia.org/wiki/Newline) ) 这就是它解释`\n`为换行符的原因。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:21:47.173

字符`\n`是`0a`（回车）。如果您将 Windows 行分隔符拆分为`\n`only，您将在 上拆分`0a`，将`0d`字符留在后面。

记事本显示`0a`为正方形，但将呈现`0d0a`为换行符。

这是在 Windows 上使用 Scala（它是 Java 底层）的示例：

```
scala> "123\n456".split(System.getProperty("line.separator")).length
res1: Int = 1

scala> "123\n456".split("\r\n").length  // same as the line above on Windows
res2: Int = 1

scala> "123\n456".split("\n").length
res3: Int = 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:17:34.717

在处理任何类型的文本文件时，强烈避免使用 Windows 记事本。
我建议使用[Notepad++](http://notepad-plus-plus.org/)。

他不仅可以很好地显示您的文本，而且还具有以[UTF-8](http://en.wikipedia.org/wiki/UTF-8)编码文件且无需[BOM](http://en.wikipedia.org/wiki/Byte_order_mark)的功能：D

# facebook - 如何将用户发送到移动登录 Facebook 屏幕？

> ID：11465755
> 
> 赞同：0
> 
> 时间：2012-07-13T07:10:58.190
> 
> 标签：facebook, authentication, login, facebook-php-sdk, facebook-authentication

我使用了生成登录 Url 的 facebook PHP SDK。我只是在 HTML 中放入了锚标记。问题是当用户在**移动**设备上访问我的网站时，单击此链接他们会看到我不想要的**桌面版 facebook。**

为什么facebook默认不检查用户代理并显示移动网站进行登录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T05:02:47.807

添加参数

```
display=touch 
```

点击登录 url 打开 facebook 移动网站。

# android - 几秒钟后在 Webview 中加载 url

> ID：11465757
> 
> 赞同：2
> 
> 时间：2012-07-13T07:11:00.457
> 
> 标签：android, android-layout, android-webview, handler

我正在 Android 中创建一个应用程序。它有一个名为 main.xml 的布局

**主.xml：**

```
<ImageView
        android:id="@+id/imageView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:src="@drawable/splashscreen" /> 
```

**mainActivity.java：**

```
public class MainActivity extends WebViewActivity{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        DisplayMetrics displaymetrics = new DisplayMetrics();
        getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);
        int height = displaymetrics.heightPixels;
        int wwidth = displaymetrics.widthPixels;
        setContentView(R.layout.main);
        final ImageView imgview=(ImageView)findViewById(R.id.imageView1);
        imgview.setLayoutParams(new LinearLayout.LayoutParams(wwidth, 
                height, 0.0F));
        int DELAY = 6000;

        Handler handler = new Handler();
        handler.postDelayed(new Runnable() {            
            public void run()
            { 
                WebViewActivity.loadurl("file:///android_asset/www/index.htm");                
            }
        }, DELAY);

    }
} 
```

**最初想加载 main.xml，6 秒后我想在 webview 中加载 url**。WebViewActivity 有加载代码...

我已经按照上面的编码...

**结果：**最初 main.xml 加载完美......但 6 秒后调用 loadurl 方法但 main.xml 未删除。这该怎么做？

**注意：** WebViewActivity 有带有 webview 的布局。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:12:31.443

我遵循了以下编码...我没有使用 main.xml 页面...直接在 webview 中加载...**工作得很好:-)**

```
public class MainActivity extends WebViewActivity{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        WebViewActivity.loadurl("file:///android_asset/www/splashscreen.png");
        int DELAY = 6000;

        Handler handler = new Handler();
        handler.postDelayed(new Runnable() {            
            public void run()
            { 
                 WebViewActivity.loadurl("file:///android_asset/www/index.htm");
            }
        }, DELAY);

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:21:13.863

您的 main.xml 中应该有一个 webview 视图...

或者您制作另一个布局 xml 并使用 setContentView(R.layout.anotherlayoutxml);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:28:51.610

您的*mainActivity*用于`setContentView(layout)`定义与此 Activity 相关的 XML。您的 main.xml 仅包含正确显示的图像。在您的 WebViewActivity 中加载一个 URL 并保持这种方式，不会做太多，因为它没有显示

解决方案：

1）启动一个新的WebViewActivity：

```
handler.postDelayed(new Runnable() {            

        public void run()
        { 
            Intent myIntent = new Intent(this, WebViewActivity.class);
            startActivity(myIntent);
            finish();
        }
    }, DELAY); 
```

为您的 WebViewActivity 创建一个 XML，包括`WebView` 在 OnCreate 中：

```
 myWebView = (WebView) findViewById(R.id.myWebView);
 myWebView.loadurl("file:///android_asset/www/index.htm"); 
```

**注意：**`WebViewActivity`在这种情况下，mainActivity 不必从您的扩展

2) setVisibility()

**主要的.xml**

```
<ImageView />
<WebView 
       id:myWebView
       visibility:invisible /> 
```

在 OnCreate 中，您已经可以将您的 URL 加载到您的 WebView 中。处理程序只会在您需要时使视图可见。

```
handler.postDelayed(new Runnable() {            
        public void run()
        { 
            myWebView.setVisibility(View.VISIBLE);
        }
    }, DELAY); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:41:28.223

```
You can do it like this 

// first add a progress dialog

ProgressDialog dialog ; 

//Initialize in OnCreate

dialog = new ProgressDialog(this);

//and call the following function 

        display();

private void display() {
// TODO Auto-generated method stub
new CountDownTimer(6000, 1000) {

public void onTick(long millisUntilFinished) {
// mTextField.setText("seconds remaining: " + millisUntilFinished / 1000);
dialog.show();
}

public void onFinish() {

dialog.dismiss();
}
}.start();

} 
```

# ruby-on-rails - 为什么 Act-as-taggable-on 的配置不起作用？

> ID：11465760
> 
> 赞同：2
> 
> 时间：2012-07-13T07:11:07.607
> 
> 标签：ruby-on-rails, tags, gem, acts-as-taggable-on

我是一名 Ruby on Rails 初学者并`ActsAsTaggable`为我的模型实现功能。我正在阅读 act-as-taggable Github 文档[https://github.com/mbleigh/acts-as-taggable-on](https://github.com/mbleigh/acts-as-taggable-on)，我想强制将标签保存为小写，即配置部分中的指令说在配置中添加以下代码

```
ActsAsTaggable.force_lowercase = true 
```

我在我的`$config/apllication.rb`

```
module MyApp
  class Application < Rails::Application
    ActsAsTaggableOn.force_lowercase = true
  end
end 
```

现在，当重新启动我的服务器时，我收到以下错误：

```
`<class:Application>': uninitialized constant MyApp::Application::ActsAsTaggable (NameError) 
```

我无法弄清楚我在做什么。请帮我解决这个错误。

# ruby-on-rails - 在 eclim 中为 ruby on rails 放入 .buildpath 的主要内容是什么？

> ID：11465763
> 
> 赞同：1
> 
> 时间：2012-07-13T07:11:14.830
> 
> 标签：ruby-on-rails, ruby, eclim

就像标题所暗示的那样，在 .buildpath 中添加的主要内容是什么，以便在使用 ruby​​ on rails 编写代码时，源代码完成、搜索和其他功能可以正常工作。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T21:08:43.180

我相信你不需要任何特别的东西。只要您使用最新的 Eclipse（我正在运行 4.2 Juno），默认设置就可以正常工作。

我正在使用[Eclim](http://eclim.org/)并在执行“新建项目”命令后：

```
:ProjectCreate /var/www/<my-ror-project-directory>/ -n ruby 
```

我`.buildpath`创建了以下文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<buildpath>
        <buildpathentry kind="src" path=""/>
        <buildpathentry exported="true" kind="con" path="org.eclipse.dltk.launching.INTERPRETER_CONTAINER"/>
</buildpath> 
```

代码完成，搜索工作就好了。

# ubuntu - 在 gcc 中运行 tinyxml 时出错

> ID：11465764
> 
> 赞同：0
> 
> 时间：2012-07-13T07:11:16.770
> 
> 标签：ubuntu, tinyxml

我想通过 C 程序创建一个 xml 文件。我在 ubuntu10.10 中使用 gcc 和 tinyxml

```
#include"tinyxml.h"
#define TIXML_USE_STL
#include< tinyxml.h>

void dump_to_stdout(const char* pFilename);

int main()
{
dump_to_stdout("example1.xml");
return 0;
}

void dump_to_stdout(const char* pFilename)
{
TiXmlDocument doc(pFilename);
bool loadOkay=doc.LoadFile();
if(loadOkay)
{printf("\n%s:\b",pFilename);
}
else
{printf("failed to load file \"%s\"\n",pFilename);
}
} 
```

**产生的错误是：**

divya@ubuntu:~/Desktop/Ccodes$ gcc -c x2.c 在从 x2.c:1 包含的文件中：/usr/include/tinyxml.h:51：致命错误：字符串：没有这样的文件或目录编译终止。

tinyxml.h 标头在指定位置，但它说没有这样的文件。这里似乎有什么问题？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T20:55:56.270

尝试添加 `#define TIXML_USE_STL`以供项目广泛使用，或将其编辑到 tinyxml.h 的第一行

# python - 如何在python中使用正则表达式

> ID：11465766
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:11:26.333
> 
> 标签：python, regex

抱歉，这似乎是一个重复的问题，但我真的需要帮助

所以我有一个文本文件，它有一行格式：

> Thu Apr 28 20:51:37 +0000 2011 :: Melanie Caldwell :: judeyqwaller :: Hong Kong :: P000352670 - Toshiba Satellite 5205 系列触摸板：Toshiba Satellite 5205 系列触摸板 - P000352670COMPATIB... [http://t.co/ QU5jA6U5](http://t.co/QU5jA6U5)

我只需要拉出`:: Hong Kong::`ie 之后开始的那部分行`P000352670...`，依此类推。

如何使用正则表达式做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:19:48.417

试试这个：

```
res = ' :: '.join(row.split(' :: ')[4:]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:24:53.980

您不需要正则表达式，这很简单，您可以执行以下操作：

```
x = string.split("::")[-1] 
```

如果字符串是您的文本行

编辑您的新问题（假设您使用的是 python 2.5+）：

```
string = "682698_62876_26861"
print string.rpartition('_')[0] 
```

这将准确输出您需要的内容：

```
682698_62876 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:29:03.307

```
>>> row = "Thu Apr 28 20:51:37 +0000 2011 :: Melanie Caldwell :: judeyqwaller :: Hong Kong :: P000352670 - Toshiba Satellite 5205 Series TouchPad: Toshiba Satellite 5205 Series TouchPad - P000352670COMPATIB... http://t.co/QU5jA6U5"
>>> row.rpartition('::')[2]
' P000352670 - Toshiba Satellite 5205 Series TouchPad: Toshiba Satellite 5205 Series TouchPad - P000352670COMPATIB... http://t.co/QU5jA6U5' 
```

# c# - XNode 为没有命名空间的子元素的字符串

> ID：11465767
> 
> 赞同：3
> 
> 时间：2012-07-13T07:11:26.557
> 
> 标签：c#, xml, linq-to-xml

```
<div xmlns="http://www.com">
  <div class="child">
  </div>
</div> 
```

当我使用 xpath 获取子元素并执行`.ToString()`时，它会将父命名空间添加到它。如何在没有冗余名称空间的情况下获取内容？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:53:01.737

您可以使用此扩展方法。它将递归地创建另一个 XElement，包括其没有命名空间的子元素。扩展方法需要放在静态类中：

```
 public static XElement IgnoreNamespace(this XElement xelem)
    {
        XNamespace xmlns = "";
        var name = xmlns + xelem.Name.LocalName;
        return new XElement(name,
                        from e in xelem.Elements()
                        select e.IgnoreNamespace(),
                        xelem.Attributes()
                        );
    }

static void Main(string[] args)
{
    var document = XDocument.Parse("<?xml version=\"1.0\" ?><div xmlns=\"http://www.ya.com\"><div class=\"child\"></div></div>");
    var first = document.Root.Elements().First().IgnoreNamespace();
    Console.WriteLine(first.ToString());
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-16T09:04:08.943

拉曼的答案很好，但它不适用于这样的 XML：

```
<div xmlns="http://www.ya.com">
   <div class="child">
      **This is some text**
   </div>
</div> 
```

这是我改进的版本，可以工作：

```
public static XElement IgnoreNamespace(this XElement xelem)
{
    XNamespace xmlns = "";
    var name = xmlns + xelem.Name.LocalName;

    var result = new XElement(name,
                     from e in xelem.Elements()
                     select e.IgnoreNamespace(),
                     xelem.Attributes()
                     );

    if (!xelem.HasElements)
        result.Value = xelem.Value;

    return result;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-19T19:06:58.913

这里提供的答案都不适合我。对于在这里登陆的其他任何人，使用我自己的大型 xaml 文件和代码片段中包含的示例进行测试。

```
void Main()
{
    var path = @"C:\Users\User\AppData\Local\Temp\sample.xml";
    var text = File.ReadAllText(path);
    var surrounded = "<test xmlns=\"http://www.ya.com\">" + text + "</test>";
    var xe = XElement.Parse(surrounded);

    xe.Dump();
    xe.StripNamespaces().Dump();

    var sampleText = "<test xmlns=\"http://www.ya.com\"><div class=\"child\" xmlns:diag=\"http://test.com\"> ** this is some text **</div></test>";
    xe = XElement.Parse(sampleText);
    xe.Dump();
    xe.StripNamespaces().Dump();
}

public static class Extensions
{
    public static XNode StripNamespaces(this XNode n)
    {
        var xe = n as XElement;
        if(xe == null)
            return n;
        var contents = 
            // add in all attributes there were on the original
            xe.Attributes()
            // eliminate the default namespace declaration
            .Where(xa => xa.Name.LocalName != "xmlns")
            .Cast<object>()
            // add in all other element children (nodes and elements, not just elements)
            .Concat(xe.Nodes().Select(node => node.StripNamespaces()).Cast<object>()).ToArray();
        var result = new XElement(XNamespace.None + xe.Name.LocalName, contents);
        return result;

    }

#if !LINQPAD
    public static T Dump<T>(this T t, string description = null)
    {
        if(description != null)
            Console.WriteLine(description);
        Console.WriteLine(t);
        return t;
    }
#endif
} 
```

首先写成`F#`：

```
let stripNamespaces (e:XElement):XElement=
    // if the node is not XElement, pass through
    let rec stripNamespaces (n:XNode): XNode =
        match n with
        | :? XElement as x -> 
            let contents = 
                x.Attributes() 
                // strips default namespace, but not other declared namespaces
                |> Seq.filter(fun xa -> xa.Name.LocalName <> "xmlns")
                |> Seq.cast<obj> 

                |> List.ofSeq 
                |> (@) (
                    x.Nodes() 
                    |> Seq.map stripNamespaces 
                    |> Seq.cast<obj> 
                    |> List.ofSeq
                )
            XElement(XNamespace.None + x.Name.LocalName, contents |> Array.ofList) :> XNode
        | x -> x
    stripNamespaces e :?> XElement 
```

# php - 检索二级联系人 LinkedIn API

> ID：11465768
> 
> 赞同：1
> 
> 时间：2012-07-13T07:11:33.443
> 
> 标签：php, api, linkedin

可以使用 LinkedIn API 检索我的一个 LinkedIn 联系人的第一级联系人。

如果我传递我的联系人姓名或电子邮件，则可以检索他/她的第一级联系人，我使用 PHP 作为我的开发平台。

非常欢迎帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-01-25T18:25:55.863

您只能使用[People Search API](https://developer.linkedin.com/documents/people-search-api)搜索 2 级/度连接，并且您需要获得批准才能使用它。如果没有搜索参数，就无法获得所有 2 级连接的完整列表。

在 API 文档中搜索“方面”，尤其是值“S”（第二度连接）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T18:33:34.090

LinkedIn API 的配置文件字段记录在此处： [https ://developer.linkedin.com/documents/profile-fields](https://developer.linkedin.com/documents/profile-fields)

如您所见，连接不适用于二级（或更高级别）连接，仅适用于已登录和经过身份验证的用户。

# ios - AVAudioPlayer 中断问题

> ID：11465769
> 
> 赞同：3
> 
> 时间：2012-07-13T07:11:35.190
> 
> 标签：ios, xcode, avaudioplayer, interrupt-handling

我有`AVAudioPlayer`中断问题。

而且我不是在谈论来电期间的中断。我可以很好地处理这种情况。通话 -> 中断开始 -> 通话结束 -> 中断结束。

问题出在设备上的摄像头上。情况是：

我的播放器应用正在后台播放。我想做一张照片。我打开相机拍了张照片。完全没有中断！但是，如果我想捕捉一些视频，中断就会开始，播放器会变得安静。同时中断结束！（我在两个设备的帮助下检查了它`NSLog`- 我觉得很奇怪）但是播放器没有继续播放歌曲，因为摄像机仍然打开。我关闭相机，现在我预计中断会结束，但它提前结束了，玩家保持沉默。

问题是：如何处理这种情况？

# objective-c - 如何从 obiective-c 中的代码调用 tapGesture IBAction

> ID：11465770
> 
> 赞同：0
> 
> 时间：2012-07-13T07:11:36.083
> 
> 标签：objective-c, xcode, event-handling, action, uitapgesturerecognizer

我有一个视图，我将带有句柄函数的 tapGesture 添加到该视图中，我想从代码中调用点击动作，以调用句柄函数....

**-（IBAction）handleTapGesture：（UIGestureRecognizer *）发送者**

我怎样才能做到这一点？？？

现在我可以得到这个视图，如何从代码中调用点击动作？

我找到了一些关于它的功能，但它不能很好地工作。

像： *UIControl sendActionsForControlEvents / UIView performSelector ...*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:16:26.110

关于什么

```
[theView handleTapGesture:nil]; 
```

?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:47:33.420

在您的视图控制器中，输入此代码

```
 UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTapGesture:)];
    tapGesture.numberOfTapsRequired=1;
    [self.currentImageView addGestureRecognizer:tapGesture];
    [tapGesture release];

 then write your code for tap function in

-(void) handleTapGesture:(UITapGestureRecognizer *)sender {

} 
```

# windows-installer - MSI 安装程序 UILevel = 32（或 35）不起作用（ORCA）

> ID：11465771
> 
> 赞同：0
> 
> 时间：2012-07-13T07:11:38.537
> 
> 标签：windows-installer, installation, orca

我必须运行我自己的 msi 文件，例如：

```
>: msiexec.exe /i mypackage.msi /qb! 
```

问题是，我无法从控制台运行它，因为首先我必须打开相关的 setup.exe。

所以我需要在 ORCA 中执行此操作。

我试过了：

```
Property: UILevel = 32 (and 35)
Property: LIMITUI = 1 (2,3)
Property: ARPNOMODIFY = 1 
```

没有任何效果。

线索？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-15T15:44:53.940

您将无效值设置为`UILevel`。

[有效值为](http://msdn.microsoft.com/en-us/library/windows/desktop/aa372096%28v=vs.85%29.aspx)：2、3、4、5。

# entity-framework - 实体框架：条件过滤器

> ID：11465772
> 
> 赞同：9
> 
> 时间：2012-07-13T07:11:42.653
> 
> 标签：entity-framework, c#-4.0

假设我有客户表，我想通过以下方式对其进行过滤：

*   国家: 所有, 美国, 英国, 加拿大
*   收入：全部、低、高、中
*   年龄：所有，青少年，成人，高级

如果我必须为这个过滤器构建一个 SQL 字符串，它会是这样的：

```
if (Country != "All") sql += "country = " + Country
if (Income != "All") sql += "and income = " + Income
if (Age != "All") sql += "and age = " + Age; 
```

因此，基本上，用户可以按一些但不是必须的所有字段进行过滤。

你如何使用实体框架来做到这一点？

谢谢 ！

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-13T07:27:18.060

LINQ to Entity queries return `IQueryable`'s, so you can build your query this way:

```
IQueryable<Person> query = context.People;

if (Country != "All")
{
    query = query.Where(p => p.Country == Country);
}

if (Income != "All")
{
    query = query.Where(p => p.Income == Income);
}

if (Age != "All")
{
    query = query.Where(p => p.Age == Age);
}

List<Person> fetchedPeople = query.ToList(); 
```

This case is almost too simple, but this is very helpful in more complex situations when you need to add filtering dynamically.

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-13T07:18:08.857

您可以通过这种方式包含条件参数：

```
return Customers.Where(
                customer =>
                customer.Name == Name &&
                (Age == "All" || customer.Age == Age) &&
                (Income == "All" || customer.Income == Income) &&
                (Country == "All" || customer.Country == Country)
                ).ToList(); 
```

如果某个条件为真（例如 country 等于`All`），则所有参数条件都为真，并且该参数不过滤结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-29T03:01:16.303

您可以使用扩展方法来帮助代码的可读性和可维护性。

*   LinqExtensions.cs

```
public static class LinqExtensions
{
    public static IQueryable<TSource> WhereIf<TSource>(this IQueryable<TSource> source, bool condition, Expression<Func<TSource, bool>> predicate)
    {
        return condition ? source.Where(predicate) : source;
    }
} 
```

*   重构代码

```
List<Person> peoples = context.People
    .WhereIf(Country != "All", p => p.Country == Country)
    .WhereIf(Income != "All", p => p.Income == Income)
    .WhereIf(Age != "All", p => p.Age == Age)
    .ToList(); 
```

# android - Android - 如何制作像 facebook、spotify 和 Google + 这样的幻灯片菜单

> ID：11465774
> 
> 赞同：15
> 
> 时间：2012-07-13T07:11:47.257
> 
> 标签：android

我想在我的应用程序中添加一个幻灯片菜单，例如 facebook 应用程序。我在互联网上阅读了很多关于图书馆的东西，但没有一个对我有用。我可以为此使用的最好的东西/库是什么，有人可以解释我如何使用它吗？

**编辑** 这是我的布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" 
    android:background="@drawable/zwemfest" >"

<com.devspark.sidenavigation.SideNavigationView
    android:id="@+id/side_navigation_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <Button
        android:id="@+id/button1"
        android:layout_width="183dp"
        android:layout_height="113dp"
        android:layout_weight="0.91"
        android:text="Button" />

</com.devspark.sidenavigation.SideNavigationView>

</RelativeLayout> 
```

但我没有看到任何按钮或背景图像。你知道出了什么问题吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-08T13:07:10.830

好吧，目前我正在做一个项目，遇到了滑动菜单，我用谷歌搜索，但很失望地看到没有人给出一些关于如何开始制作滑动菜单的说明或提示，每个人都给出了一些 Github 项目的链接/要使用的库，因此我决定自己做，最后我准备好了自己的滑动菜单......

我已经花了两天时间

**1.关于制作滑动动画**

**2\. 使其适用于所有屏幕分辨率**

**一旦你对动画**有所了解，它真的很容易和简单，我已经读过一些地方，重新发明**轮子**是不明智的（人们指的是滑动菜单的 github 源代码），但我相信你至少应该一旦尝试自己制作，您就会了解它的实际工作原理和功能：P

所以这是一张我的滑动菜单将如何工作的图片

**1.查找.xml** `//later in the code it will be refer as findLayout`

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <RelativeLayout
        android:id="@+id/find_layout"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

    <RelativeLayout
        android:id="@+id/header" 
        android:layout_width="match_parent"
        android:layout_height="60dp"
        android:padding="2dp"
        android:background="@drawable/main_header">

        <Button 
            android:id="@+id/filter"
            android:layout_width="40dp"
            android:layout_height="30dp"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:background="@drawable/filter_button" />

        <TextView 
            android:id="@+id/city"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@+id/filter"
            android:layout_marginLeft="20dp"
            android:layout_marginTop="3dp"
            android:text="Islamabad"
            android:textSize="22sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_dark"/>

        <RelativeLayout 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/city"
            android:layout_alignLeft="@+id/city">

            <TextView 
                android:id="@+id/interested_in"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:text="Men and Women"
                android:textSize="12sp"
                android:textColor="@android:color/primary_text_dark"/>

            <ImageView 
                android:id="@+id/separator"
                android:layout_width="2dp"
                android:layout_height="18dp"
                android:layout_toRightOf="@+id/interested_in"
                android:layout_marginLeft="4dp"
                android:src="@drawable/separator_1"
                android:layout_centerVertical="true" />

            <TextView 
                android:id="@+id/age"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginLeft="4dp"
                android:layout_toRightOf="@+id/separator"
                android:layout_centerVertical="true"
                android:text="18-24 years"
                android:textSize="12sp"
                android:textColor="@android:color/primary_text_dark"/>

            <ImageView
                android:id="@+id/separator_1" 
                android:layout_width="2dp"
                android:layout_height="18dp"
                android:layout_toRightOf="@+id/age"
                android:layout_marginLeft="4dp"
                android:src="@drawable/separator_1"
                android:layout_centerVertical="true" />

            <TextView 
                android:id="@+id/distance"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginLeft="4dp"
                android:layout_toRightOf="@+id/separator_1"
                android:layout_centerVertical="true"
                android:text=">30km"
                android:textSize="12sp"
                android:textColor="@android:color/primary_text_dark"/>

        </RelativeLayout>

    </RelativeLayout>

    <GridView 
        android:id="@+id/users_grid"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_below="@+id/header"
        android:numColumns="4">

    </GridView>

    </RelativeLayout>

    <include 
        layout="@layout/filter"/> //here i included the filter.xml, which is on top of find.xml layout and is initially invisible

</RelativeLayout> 
```

![在此处输入图像描述](../Images/1e4af2930f0f331b40326f773f604144.png)

**2.过滤器.xml** `//later in code refer as FilterLayout`

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/filter_layout"
    android:visibility="invisible"
    android:layout_width="260dp"
    android:layout_height="match_parent"
    android:background="@drawable/grey_bg" >

    <ImageView 
        android:id="@+id/profile_pic"
        android:layout_width="match_parent"
        android:layout_height="220dp"
        android:src="@drawable/pic"/>

    <RelativeLayout
        android:id="@+id/header" 
        android:layout_width="match_parent"
        android:layout_height="55dp"
        android:paddingLeft="10dp"
        android:paddingTop="5dp"
        android:layout_below="@+id/profile_pic"
        android:background="@drawable/light_blue_header">

        <TextView
            android:id="@+id/name" 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="3dp"
            android:text="Raja Babar"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_dark"/>

        <RelativeLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/name"
            android:layout_alignLeft="@+id/name">

            <TextView
                android:id="@+id/gender"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:text="Male"
                android:textSize="12sp"
                android:textColor="@android:color/primary_text_dark" />

            <ImageView 
                android:id="@+id/seperator"
                android:layout_width="2dp"
                android:layout_height="20dp"
                android:layout_toRightOf="@+id/gender"
                android:layout_marginLeft="5dp"
                android:src="@drawable/separator_1"
                android:layout_centerVertical="true" />

            <TextView
                android:id="@+id/age"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_toRightOf="@+id/seperator"
                android:layout_marginLeft="5dp"
                android:layout_centerVertical="true"
                android:text="22 years"
                android:textSize="12sp"
                android:textColor="@android:color/primary_text_dark" />

        </RelativeLayout>

    </RelativeLayout>

    <ScrollView 
        android:layout_width="250dp"
        android:layout_height="wrap_content"
        android:layout_below="@+id/header"
        android:layout_marginTop="15dp"
        android:layout_centerHorizontal="true">

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

    <TextView
            android:id="@+id/filter_options" 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/filter_options"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_light"/>

    <RelativeLayout
        android:id="@+id/interested_in_layout" 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingLeft="15dp"
        android:paddingRight="40dp"
        android:layout_below="@+id/filter_options"
        android:background="@drawable/interested_in_field">

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:text="@string/gender"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_light"/>

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:text="@string/women_men"
            android:textSize="18sp"
            android:textColor="#33b9cd" />

    </RelativeLayout>
    <RelativeLayout
        android:id="@+id/age_layout" 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingLeft="15dp"
        android:paddingRight="40dp"
        android:layout_below="@+id/interested_in_layout"
        android:background="@drawable/age_field_1">

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:text="@string/age"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_light"/>

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:text="18-24 years"
            android:textSize="18sp"
            android:textColor="#33b9cd"/>

    </RelativeLayout>
    <RelativeLayout 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingLeft="15dp"
        android:paddingRight="40dp"
        android:layout_below="@+id/age_layout"
        android:background="@drawable/distance_field">

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:text="@string/distance"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="@android:color/primary_text_light"/>

        <TextView 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:text=">30km"
            android:textSize="18sp"
            android:textColor="#33b9cd"/>

    </RelativeLayout>

    </RelativeLayout>

    </ScrollView>

</RelativeLayout> 
```

![在此处输入图像描述](../Images/d1af622588c7fa6ea3dbaacb999ecc4e.png)

在**find.xml 中**，我最初包含**了 filter.xml**，它是不可见的

现在**FilterAnimation.java**

```
package matchat.helpers;

import com.s3.matchat.R;

import android.content.Context;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.Animation.AnimationListener;
import android.view.animation.AnimationUtils;
import android.widget.RelativeLayout;

public class FilterAnimation implements AnimationListener 
{
    Context context;

    RelativeLayout filterLayout, otherLayout;

    private Animation filterSlideIn, filterSlideOut, otherSlideIn, otherSlideOut;

    private static int otherLayoutWidth, otherLayoutHeight;

    private boolean isOtherSlideOut = false;

    private int deviceWidth;

    private int margin;

    public FilterAnimation(Context context) 
    {
        this.context = context;

        DisplayMetrics displayMetrics = context.getResources().getDisplayMetrics();

        deviceWidth = displayMetrics.widthPixels; // as my animation is x-axis related so i gets the device width and will use that width,so that this sliding menu will work fine in all screen resolutions
    }

    public void initializeFilterAnimations(RelativeLayout filterLayout)
    {
        this.filterLayout = filterLayout;

        filterSlideIn = AnimationUtils.loadAnimation(context, R.anim.filter_slide_in);

        filterSlideOut = AnimationUtils.loadAnimation(context, R.anim.filter_slide_out);    

    }

    public void initializeOtherAnimations(RelativeLayout otherLayout)
    {       
        this.otherLayout = otherLayout;

        otherLayoutWidth = otherLayout.getWidth();

        otherLayoutHeight = otherLayout.getHeight();

        otherSlideIn = AnimationUtils.loadAnimation(context, R.anim.other_slide_in);
        otherSlideIn.setAnimationListener(this);

        otherSlideOut = AnimationUtils.loadAnimation(context, R.anim.other_slide_out);
        otherSlideOut.setAnimationListener(this);
    }

    public void toggleSliding()
    {
        if(isOtherSlideOut) //check if findLayout is already slided out so get so animate it back to initial position
        {

            filterLayout.startAnimation(filterSlideOut);

            filterLayout.setVisibility(View.INVISIBLE);

            otherLayout.startAnimation(otherSlideIn);

        }
        else //slide findLayout Out and filterLayout In
        {
            otherLayout.startAnimation(otherSlideOut);

            filterLayout.setVisibility(View.VISIBLE);

            filterLayout.startAnimation(filterSlideIn);
        }
    }

    @Override
    public void onAnimationEnd(Animation animation) 
    {
        if(isOtherSlideOut) //Now here we will actually move our view to the new position,because animations just move the pixels not the view
        {
            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(otherLayoutWidth, otherLayoutHeight);

            otherLayout.setLayoutParams(params);

            isOtherSlideOut = false;
        }
        else
        {   
            margin = (deviceWidth * 80) / 100; //here im coverting device percentage width into pixels, in my other_slide_in.xml or other_slide_out.xml you can see that i have set the android:toXDelta="80%",so it means the layout will move to 80% of the device screen,to work across all screens i have converted percentage width into pixels and then used it

            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(otherLayoutWidth, otherLayoutHeight);

            params.leftMargin = margin;

            params.rightMargin = -margin; //same margin from right side (negavite) so that our layout won't get shrink

            otherLayout.setLayoutParams(params);

            isOtherSlideOut = true;

            dimOtherLayout();
        }
    }

    @Override
    public void onAnimationRepeat(Animation animation) 
    {

    }

    @Override
    public void onAnimationStart(Animation animation) 
    {

    }

    private void dimOtherLayout()
    {
        AlphaAnimation alphaAnimation = new AlphaAnimation(1.0f, 0.5f);

        alphaAnimation.setFillAfter(true);

        otherLayout.startAnimation(alphaAnimation);
    }

} 
```

**现在 Find.java**

```
package main.matchat.activities;

import matchat.helpers.FilterAnimation;
import com.s3.matchat.R;
import android.app.Activity;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.ViewTreeObserver;
import android.view.View.OnClickListener;
import android.view.ViewTreeObserver.OnGlobalLayoutListener;
import android.widget.Button;
import android.widget.RelativeLayout;

public class Find extends Activity implements OnClickListener
{
    RelativeLayout filterLayout, findLayout;

    Button btFilter;

    FilterAnimation filterAnimation;

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {       
        super.onCreate(savedInstanceState);
        setContentView(R.layout.find);

        filterLayout = (RelativeLayout)findViewById(R.id.filter_layout);

        findLayout = (RelativeLayout)findViewById(R.id.find_layout);

        btFilter = (Button)findViewById(R.id.filter);
        btFilter.setOnClickListener(this);

        filterAnimation = new FilterAnimation(this);

        initializeAnimations(); 
    }

    private void initializeAnimations()
    {   //Setting GlobolLayoutListener,when layout is completely set this function will get called and we can have our layout onbject with correct width & height,else if you simply try to get width/height of your layout in onCreate it will return 0

        final ViewTreeObserver filterObserver = filterLayout.getViewTreeObserver();

        filterObserver.addOnGlobalLayoutListener(new OnGlobalLayoutListener() 
        {

            @Override
            public void onGlobalLayout() 
            {
                filterLayout.getViewTreeObserver().removeGlobalOnLayoutListener(this);

                DisplayMetrics displayMetrics = getResources().getDisplayMetrics();

                int deviceWidth = displayMetrics.widthPixels;

                int filterLayoutWidth = (deviceWidth * 80) / 100; //here im coverting device percentage width into pixels, in my other_slide_in.xml or other_slide_out.xml you can see that i have set the android:toXDelta="80%",so it means the layout will move to 80% of the device screen,to work across all screens i have converted percentage width into pixels and then used it

                RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(filterLayoutWidth, RelativeLayout.LayoutParams.MATCH_PARENT);

                filterLayout.setLayoutParams(params);//here im setting the layout params for my filter.xml because its has width 260 dp,so work it across all screen i first make layout adjustments so that it work across all screens resolution 

                filterAnimation.initializeFilterAnimations(filterLayout);

            }
        });

        final ViewTreeObserver findObserver = findLayout.getViewTreeObserver();

        findObserver.addOnGlobalLayoutListener(new OnGlobalLayoutListener() 
        {

            @Override
            public void onGlobalLayout() 
            {
                findLayout.getViewTreeObserver().removeGlobalOnLayoutListener(this);

                filterAnimation.initializeOtherAnimations(findLayout);
            }
        });

    }

    @Override
    public void onClick(View v) 
    {
        int id = v.getId();

        switch(id)
        {

        case R.id.filter:

            filterAnimation.toggleSliding();

            break;
        }
    } 

} 
```

这是动画 res/anim

**1.filter_slide_in.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
     android:interpolator="@android:anim/decelerate_interpolator">

    <translate 
        android:fromXDelta="-100%"
        android:toXDelta="0%"
        android:duration="1000"
        android:fillEnabled="true" />

</set> 
```

**2.filter_slide_out.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
     android:interpolator="@android:anim/decelerate_interpolator">

    <translate 
        android:fromXDelta="0%"
        android:toXDelta="-100%"
        android:duration="1000"/>

</set> 
```

**3.other_slide_in.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
     android:interpolator="@android:anim/decelerate_interpolator" >

    <translate 
        android:fromXDelta="0%"
        android:toXDelta="-80%"
        android:duration="1000"
        android:fillEnabled="true"/>

</set> 
```

**4.other_slide_out.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
     android:interpolator="@android:anim/decelerate_interpolator">

    <translate 
        android:fromXDelta="0%"
        android:toXDelta="80%"
        android:duration="1000"
        android:fillEnabled="true"/>

</set> 
```

那里有一个完整的工作和功能滑动菜单，您可以对其进行自定义以满足您的要求，如果有人在设置方面仍有问题，请随时询问，我很乐意为您提供帮助**:)**

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-13T07:37:24.823

[https://github.com/johnkil/SideNavigation](https://github.com/johnkil/SideNavigation)

这些天我一直在使用这个库，它工作得很好。事实上，它的用法非常简单。

您只需在菜单文件夹下声明一个 side_navigation.xml ：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >

    <item
        android:id="@+id/side_navigation_menu_chart"
        android:icon="@drawable/icon_kitsch_gray"
        android:title="@string/navigation_chart"/>
    <item
        android:id="@+id/side_navigation_menu_info"
        android:icon="@drawable/ic_menu_info_details"
        android:title="@string/navigation_info"/>
    <item
        android:id="@+id/side_navigation_menu_gallery"
        android:icon="@drawable/ic_menu_gallery"
        android:title="@string/navigation_photos"/>
    <item
        android:id="@+id/side_navigation_menu_signin"
        android:icon="@drawable/ic_menu_login"
        android:title="@string/navigation_signin"/>
    <item
        android:id="@+id/side_navigation_menu_settings"
        android:icon="@drawable/ic_menu_preferences"
        android:title="@string/navigation_settings"/>

</menu> 
```

然后，在您的活动布局中，添加导航视图：

```
<com.devspark.sidenavigation.SideNavigationView
    android:id="@+id/side_navigation_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /> 
```

而且，在您的活动中，您将两者联系起来：

```
SideNavigationView sideNavigationView = (SideNavigationView)findViewById(R.id.side_navigation_view);
sideNavigationView.setMenuItems(R.menu.side_navigation); 
```

**编辑：**

要触发侧面导航面板，当用户按下 ActionBar 中的主页图标时调用它是一个不错的选择。例如：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            sideNavigationView.toggleMenu();
            return true;

        default:
            return super.onOptionsItemSelected(item);
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-19T14:12:48.000

您也可以使用[www.scringo.com](http://www.scringo.com)。它是一个 SDK，允许您添加这种侧边菜单，几乎只需要这段代码：

```
Scringo scringo = new Scringo();
scringo.init(); 
```

您可以稍后在站点上进行很多配置（菜单方向、颜色等），还可以在菜单中添加内置功能，例如收件箱、查找/邀请朋友、雷达等...

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-06-21T13:49:32.367

使用正式版。Google 在 I/O 2013 上发布了 Navigation Drawer 模式，并更新了第 4 版支持库以包含此模式。:)

[http://developer.android.com/design/patterns/navigation-drawer.html](http://developer.android.com/design/patterns/navigation-drawer.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-13T07:28:20.997

你可以阅读这 3 篇关于它的文章：

[http://android.cyrilmottier.com/?p=658](http://android.cyrilmottier.com/?p=658)

[http://android.cyrilmottier.com/?p=701](http://android.cyrilmottier.com/?p=701)

[http://android.cyrilmottier.com/?p=717](http://android.cyrilmottier.com/?p=717)

得到一个想法:)

[导航抽屉（Google+ 与 YouTube）](https://stackoverflow.com/questions/11377472/android-google-and-youtube-style-slide-menu-not-like-facebook)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-01-25T02:01:51.603

这里是我自己开发的一个简单的滑动菜单，在github中查看项目，实现很简单 [http://github.com/leonardosalles/shipp-sliding-menu](http://github.com/leonardosalles/shipp-sliding-menu)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-09-25T18:18:33.883

如果您想制作自己的滑动菜单而不是使用其他库，以便更好地了解事情的工作原理，请在此处阅读我的文章

[在 Android 教程上制作自己的滑动菜单 - 第 1 部分](http://www.fantageek.com/549/make-your-own-sliding-menu-on-android-tutorial-part-1/)

[在 Android 教程上制作自己的滑动菜单 - 第 2 部分](http://www.fantageek.com/562/make-your-own-sliding-menu-on-android-tutorial-part-2/)

![在此处输入图像描述](../Images/7164eb29df03e0cf02c8cee236f15baa.png)

要实现滑动效果，您可以移动菜单，或内容视图，或两者兼而有之，一切都取决于您的愿望。

想法是依靠 2 个方法[offsetLeftAndRight()](http://developer.android.com/reference/android/view/View.html#offsetLeftAndRight%28int%29)和[layout()](http://developer.android.com/reference/android/view/View.html#layout%28int,%20int,%20int,%20int%29)来更新视图位置。您还需要[Scroller](http://developer.android.com/reference/android/widget/Scroller.html)来促进动画

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-09-17T09:39:21.923

**幻灯片菜单**技术实施

侧面导航现在包含在 Android SDK 中。[http://developer.android.com/design/patterns/navigation-drawer.html](http://developer.android.com/design/patterns/navigation-drawer.html)

在 github 中快速搜索确实会发现一个已实现 UI 模式的项目。

github 上的 android-fb-like-slideout-navigation 还有一个视频演示了该库的工作。

编辑：这是另一个库项目： [https](https://github.com/darvds/RibbonMenu) ://github.com/darvds/RibbonMenu 感谢 BuBBLs 先生的评论！

更多图书馆项目：

*   [https://bitbucket.org/jfeinstein10/slidingmenu/overview](https://bitbucket.org/jfeinstein10/slidingmenu/overview)
*   [https://github.com/Gregadeaux/android-fly-in-app-navigation](https://github.com/Gregadeaux/android-fly-in-app-navigation)
*   [http://simonvt.github.io/android-menudrawer/](http://simonvt.github.io/android-menudrawer/)

[Cyril Mottier](http://cyrilmottier.com/)在他的博客中也写过关于实现这种模式的文章。这些帖子非常值得一读：

1.  [Prix​​ing #1 的制作：Fly-in 应用程序菜单](http://cyrilmottier.com/2012/05/22/the-making-of-prixing-fly-in-app-menu-part-1/)
2.  [Prix​​ing #2 的制作：滑动飞入式应用程序菜单](http://cyrilmottier.com/2012/05/29/the-making-of-prixing-2-swiping-the-fly-in-app-menu/)
3.  [Prix​​ing #3 的制作：打磨滑动应用程序菜单](http://cyrilmottier.com/2012/06/08/the-making-of-prixing-3-polishing-the-sliding-app-menu/)

另请参阅 Google Play 上的 Prixing 应用程序，以试用 Cyril 实现的侧边导航。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-09-25T19:07:23.923

试试这个方法。xml 中的两个相对布局。

```
CONTENT(initially gone)

HEADER 
```

页眉最初占据所有宽度，内容位于页眉左侧，但当前设置为 Visibility=GONE。

因此，当单击标题或标题布局上的任何按钮时

只需将内容布局的宽度设置为 screen_width/2 （分数将取决于您的要求）。

```
public void onCreate(){
    RelativeLayout header=(RelativeLayout)findViewById(R.id.header);
    RelativeLayout content=(RelativeLayout)findViewById(R.id.content);
    Display display = getWindowManager().getDefaultDisplay(); 
    int width = display.getWidth(); // deprecated 
    int height = display.getHeight(); // deprecated

    //on some event

    content.setVisibility(View.VISIBLE);
    //margin(left,right,bottom,top)
    content.setMargin(width/3,0,0,0);

    //if already opened,close the door
    content.setVisibility(View.GONE);
} 
```

如果你想要一些好的开场动画，只需在布局上使用翻译动画。
并确保按照我的答案顶部提到的初始配置，将两个相对的 lYouts 并排放置。

# html - 从html转换时的PDF对齐问题

> ID：11465777
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:12:02.357
> 
> 标签：html, django, pdf

我在 django 工作。我转换了 html 代码

```
<table border="1">
            <tr height="50px"><td><b>Name</b></td></tr>
            <tr height="220px"><td>Description</td></tr>
            <tr height="50px"><td>Mail</td></tr>
</table> 
```

在 django 中使用 pisa 转换为 pdf。除了对齐之外，一切都很顺利。正如我在 html 表格高度中提到的那样，我需要 pdf 中的行间距。谁能帮我在pdf（行间距）中获得与html相同的对齐方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:17:24.607

这是不好的编码习惯。您应该在单独的 CSS 中而不是在 html 中进行所有对齐。

# android - 如何通过 wi-fi 从 PC 与 Android 通信？

> ID：11465779
> 
> 赞同：1
> 
> 时间：2012-07-13T07:12:11.273
> 
> 标签：android

我想编写一个程序，它将通过 wi-fi 与可用的 android 移动设备通信。（注意：我不想使用 USB 电缆）

该移动设备通过与它的 wi-fi 连接有一个 IP。主要是我 ping 该 IP 并且我正在将连接数据包返回到我的电脑，这意味着我可以与设备通信。所以我可以得到设备的详细信息。

详细信息意味着 1.它的名称是用户在其上设置的内容。2.一些地址，如计算机中的mac。3.型号名称。4.其中的操作系统类型。ETC

我真的觉得这很有趣，但不知道该怎么做，但我得到了类似 ARP 协议来获取 MAC 地址，但我不知道如何使用这个 ARP 协议与手机通信。

我们可以通过 SSH 作为基于 linux 内核的操作系统进行通信吗？请给我一种如何获取这些信息的方法。

任何人都可以有一些想法，请告诉我，这对我的项目非常重要。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:17:30.320

有[adbWireless](https://play.google.com/store/apps/details?id=siir.es.adbWireless&hl=pl)应用程序。如果您将它安装在您的设备上，则会出现一个小部件，允许您通过 WiFi 与其连接。在 Toast 消息中，它显示 Android 设备的 IP 地址。

然后在您的 PC 上键入：

```
adb connect 192.168.1.102 
```

（将其替换为 Android IP 地址）。

现在您可以通过 WiFi 访问您的手机（使用 进行检查`adb devices`）。

你需要root手机才能使用`adbWireless`。

# android - 有人会举例说明在android中发送带有附件的邮件吗

> ID：11465796
> 
> 赞同：2
> 
> 时间：2012-07-13T07:13:46.897
> 
> 标签：android, email, email-attachments

我需要开发一个小型电子邮件应用程序，我必须生成 CSV 并使用 android 发送该 CSV 文档。我必须发送此附件而不保存到存储中。我发现使用文件编写器和我的代码附加 CSV 文件很困难，如下所示：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    buttonSend = (Button) findViewById(R.id.buttonSend);

    textTo = (EditText) findViewById(R.id.editTextTo);
    textSubject = (EditText) findViewById(R.id.editTextSubject);
    textMessage = (EditText) findViewById(R.id.editTextMessage);

    buttonSend.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

          String to = textTo.getText().toString();
          String subject = textSubject.getText().toString();
          String message = textMessage.getText().toString();

          Intent email = new Intent(Intent.ACTION_SEND);
          email.putExtra(Intent.EXTRA_EMAIL, new String[]{ to});
          //email.putExtra(Intent.EXTRA_CC, new String[]{ to});
          //email.putExtra(Intent.EXTRA_BCC, new String[]{to});
          email.setType("text/csv");
          email.putExtra(Intent.EXTRA_SUBJECT, subject);
          email.putExtra(Intent.EXTRA_TEXT, message);
        email.putExtra(Intent.EXTRA_STREAM,generateCsvFile("testdata.csv"));

          //need this to prompts email client only

          startActivity(Intent.createChooser(email, "Choose an Email client :"));

        }
    });
}
public static FileWriter generateCsvFile(String sFileName) throws IOException
   {
       FileWriter writer;
       writer = new FileWriter(sFileName);
       writer.append("DisplayName");
       writer.append(',');
       writer.append("Age");
       writer.append('\n');

       writer.append("RajeshV");
       writer.append(',');
       writer.append("26");
       writer.append('\n');

       writer.append("Mrithula");
       writer.append(',');
       writer.append("29");
       writer.append('\n');

      return writer;
    } 
```

}

我在这一行遇到了问题：

```
email.putExtra(Intent.EXTRA_STREAM,generateCsvFile("testdata.csv")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:15:25.153

> 以下是发送附件的步骤

```
Intent email = new Intent(Intent.ACTION_SEND);

email .setType("image/jpeg");

email .putExtra(Intent.EXTRA_SUBJECT, "My Picture");

email .putExtra(Intent.EXTRA_STREAM, Uri.parse("file://sdcard/captureimage.png"));

startActivity(Intent.createChooser(email , "Email:")); 
```

> 有关更多信息，您可以参考以下链接

[多个附件](http://pilcrowpipe.blogspot.in/2011/11/android-e-mail-intents-with-multiple_30.html)

[带有附件的电子邮件](http://blogingtutorials.blogspot.in/2010/12/send-email-with-attached-file-in.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-14T07:44:34.047

我得到了工作代码

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    buttonSend = (Button) findViewById(R.id.buttonSend);

    textTo = (EditText) findViewById(R.id.editTextTo);
    textSubject = (EditText) findViewById(R.id.editTextSubject);
    textMessage = (EditText) findViewById(R.id.editTextMessage);

    buttonSend.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            String to = textTo.getText().toString();
            String subject = textSubject.getText().toString();
            String message = textMessage.getText().toString();

            Intent i = new Intent(Intent.ACTION_SEND);
            i.setType("plain/text");
            File data = null;
            try {
                Date dateVal = new Date();
                String filename = dateVal.toString();
                data = File.createTempFile("Report", ".csv");
                FileWriter out = (FileWriter) GenerateCsv.generateCsvFile(
                        data, "Name,Data1");
                i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(data));
                i.putExtra(Intent.EXTRA_EMAIL, new String[] { to });
                i.putExtra(Intent.EXTRA_SUBJECT, subject);
                i.putExtra(Intent.EXTRA_TEXT, message);
                startActivity(Intent.createChooser(i, "E-mail"));

            } catch (IOException e) {
                e.printStackTrace();
            }

        }
    });
}

public class GenerateCsv {
    public static FileWriter generateCsvFile(File sFileName,String fileContent) {
        FileWriter writer = null;

        try {
            writer = new FileWriter(sFileName);
            writer.append(fileContent);
                         writer.flush();

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }finally
        {
            try {
                writer.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
        return writer;
    }
}

Add this line in AndroidManifest.xml file:

  <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"></uses-p 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-14T07:31:26.613

```
@Override
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        buttonSend = (Button) findViewById(R.id.buttonSend);
        textTo = (EditText) findViewById(R.id.editTextTo);
        textSubject = (EditText) findViewById(R.id.editTextSubject);
        textMessage = (EditText) findViewById(R.id.editTextMessage);

        buttonSend.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

              String to = textTo.getText().toString();
              String subject = textSubject.getText().toString();
              String message = textMessage.getText().toString();

              Intent email = new Intent(Intent.ACTION_SEND);
              email.putExtra(Intent.EXTRA_EMAIL, new String[]{ to});
              //email.putExtra(Intent.EXTRA_CC, new String[]{ to});
              //email.putExtra(Intent.EXTRA_BCC, new String[]{to});
              email.putExtra(Intent.EXTRA_SUBJECT, subject);
              email.putExtra(Intent.EXTRA_TEXT, message);

              //need this to prompts email client only
              email.setType("message/rfc822");

              startActivity(Intent.createChooser(email, "Choose an Email client :"));

            }
        });
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-21T15:23:08.247

我已经完成了从 SD 卡发送带有邮件附件的任何文件..

```
Intent sendEmail= new Intent(Intent.ACTION_SEND);
   sendEmail.setType("rar/image");
   sendEmail.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(new        
             File("/mnt/sdcard/download/abc.rar")));
             startActivity(Intent.createChooser(sendEmail, "Email:")); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-25T07:36:03.830

```
Intent jj=new Intent(android.content.Intent.ACTION_SEND);

Intent jj=new Intent(android.content.Intent.ACTION_SEND_MULTIPLE);

String fileName = "file://" + Environment.getExternalStorageDirectory()+"/"+filename;         

jj.putExtra(Intent.EXTRA_SUBJECT, "Chat Info");

jj.putExtra(Intent.EXTRA_STREAM, Uri.parse(fileName));

jj.setType("message/rsc822");

Intent chooser = Intent.createChooser(jj , "Select Sender");

context.startActivity(chooser); 
```

# c# - 以编程方式将音乐保存到 Windows Phone 中的 Zune 集线器

> ID：11465800
> 
> 赞同：0
> 
> 时间：2012-07-13T07:14:31.350
> 
> 标签：c#, windows-phone-7, zune

是否可以以编程方式将（音乐）文件保存到 Windows Phone 7 中的 Zune 集线器？

例如，我创建了一个录音应用程序，并希望能够将保存的录音推送到 Zune 集线器以成为我的音频收藏的一部分。

可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:44:31.357

我不认为你能做到这一点。

不过，还有其他类型的集成可用：http: [//msdn.microsoft.com/en-us/library/ff769558 (v=vs.92).aspx](http://msdn.microsoft.com/en-us/library/ff769558(v=vs.92).aspx)

# c# - 对话框不聚焦

> ID：11465801
> 
> 赞同：0
> 
> 时间：2012-07-13T07:14:35.617
> 
> 标签：c#

写了一个登录自定义对话框

```
static LoginDialog loginDialog;

public static bool ShowLoginDialog()
        {
            result = false; // Success

            loginDialog = new LoginDialog();

            loginDialog.ShowDialog();
            loginDialog.BringToFront();
            loginDialog.TopMost = true;
            loginDialog.Activate();

            return result;
        } 
```

我在没有交互的情况下从另一种形式调用它，它在计时器滴答时启动：

```
LoginDialog.ShowLoginDialog(); 
```

问题是登录屏幕没有集中在当前打开的表单之上。

我怎么解决这个问题？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T04:29:46.613

使用`loginDialog.TopMost = true;`前`loginDialog.ShowDialog();`

为什么要使用**静态**方法？我认为这是主要问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:34:11.077

在要获得焦点的表单内使用 SetForegroundWindow

```
[DllImport("user32")] 
public static extern int SetForegroundWindow(IntPtr hwnd); 
```

并且当显示对话框表单时，使用表单句柄调用该函数；

```
void OnShown(object sender, EventArgs e) {
   SetForegroundWindow(this.Handle);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:28:48.223

```
//Suppose you have Form1  as your parent Form
//Add Button on it and on its Click Event 
```

只需执行以下操作：

```
public bool ShowLoginDialog()
    {
        bool result = false; // Success

        var  loginDialog = new LoginDialog();
        loginDialog.ShowDialog();

        return result;
    } 
```

ShowDialog() 始终位于执行它的父窗体的顶部。

问候

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:12:13.227

我假设您`LoginDialog`只是另一种形式。尝试这个 -

在`MainForm`：

```
private void MainForm_Load(object sender, EventArgs e)
    {
        timer1.Interval = 3000; // your preferred time-interval
        timer1.Start();
    }

    private void timer1_Tick(object sender, EventArgs e)
    {
        LoginDialog.ShowLoginDialog(timer1);
    } 
```

在`LoginDialog`：

```
 private static bool result;
    private static LoginDialog loginDialog;

    public static bool ShowLoginDialog(Timer timer)
    {
        timer.Stop();

        result = false; // Success

        loginDialog = new LoginDialog();
        loginDialog.ShowDialog();

        return result;
    } 
```

注意：我不知道`result`您使用的变量是什么。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-14T04:34:53.973

你说你是`ShowLoginDialog()`从另一种形式调用的。您可以将您的签名更改为`public static bool ShowLoginDialog(Form parentForm)`or`public static bool ShowLoginDialog(IWin32WindowOwner parentForm)`吗？如果是这样，那么你可以这样做：

```
public static bool ShowLoginDialog(IWin32WindowOwner parentForm)
{
    using(LoginDialog loginDialog = new LoginDialog()) //Really should use using statement
    {
        loginDialog.ShowDialog(parentForm); //Set the parent form for the dialog
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-13T07:45:56.460

loginDialog.BringToFront(); 不会因为 ShowDialog() 阻止执行而被调用。将所有者表单传递给 ShowDialog。

# javascript - 遍历下拉选项字符串并选择

> ID：11465807
> 
> 赞同：0
> 
> 时间：2012-07-13T07:14:58.687
> 
> 标签：javascript, jquery

我想在字符串中选择一个选项，其中字符串将是下拉列表的内容，但我不知道如何将字符串作为对象循环。在示例中，我希望选择“Saab”并提醒字符串。

```
var x = '<select><option>Volvo</option>   <option>Saab</option>   <option>Mercedes</option>   <option>Audi</option> </select>';

$.each($(x), function(index, value) { 
    if ($(this).val() == "Saab"){
        $(this).attr("selected","selected")
    }
});
alert(x); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:35:12.577

首先将字符串转换为 jQuery 对象：

```
var x = $(x); 
```

然后只需选择正确的选项并将其设置为选中：

```
$('option:contains("Saab")', x).prop('selected', true); 
```

[小提琴](http://jsfiddle.net/BZmjL/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:20:10.680

```
$.each($('option', x), function(index, value) { 
    if ($(this).text() == "Saab"){
        $(this).attr("selected","selected")
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:20:40.620

这是在 HTML 页面中吗？如果是，为什么不直接使用 $("option").each() 之类的东西呢？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:21:34.087

不需要循环，jquery 可以为你做

```
$(x).children('option:contains("Saab")').attr('selected','selected'); 
```

参考：[http ://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

# jquery - 成功时使用 ajax() 返回多个数组：jquery

> ID：11465811
> 
> 赞同：0
> 
> 时间：2012-07-13T07:15:11.777
> 
> 标签：jquery, arrays, return

嗨朋友们，我有一个 ajax()of jquery 来解析 xml 文件，成功创建数组并希望在回调时返回多个数组是否有可能，如果可以，那么如何？请指导我。这是我的示例代码。

```
var arr1= new Array();
var arr2=new Array();
 var var1,var2;
function parseData(callback){   
        var cnt=0;
            $.ajax({
                type:"GET",
                url:"test.xml",
                dataType: "xml",
                success:function(xml){

                    var tempcategory= new Array(2);
                    var tempitem=new Array(4);                  
                    var1= $(xml).find('var1').text();
                    var2= $(xml).find('var2').text();

                    $(xml).find('result').each(function(){
                    var Id = $(this).find('id').text();
                    var Name = $(this).find('name').text();
                        tempcategory[0]=catogoryId;
                        tempcategory[1]=catogoryName;
                        arr1[cnt]=tempcategory;
                        $('#output').append("<br/>"+categories[cnt]);
                         cnt++;
                    });                 
                             callback.call(null,var1);

                error: function(){
                     alert("An error occurred while processing XML file.");
                }
           });      

} 
```

**现在在这段代码中有一行 callback.call(null,var1);**

在这个我只返回 1 个变量，但我有数组和其他一些变量，我如何返回所有数组和变量，如果没有，还有其他方法可以返回多个数组。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:23:44.590

您的函数中的语法错误我已更正它请检查一下

```
function parseData(callback){   
var cnt=0;
    $.ajax({
        type:"GET",
        url:"test.xml",
        dataType: "xml",
        success:function(xml){
            var tempcategory= new Array(2);
            var tempitem=new Array(4);                  
            var1= $(xml).find('var1').text();
            var2= $(xml).find('var2').text();

            $(xml).find('result').each(function(){
            var Id = $(this).find('id').text();
            var Name = $(this).find('name').text();
                tempcategory[0]=catogoryId;
                tempcategory[1]=catogoryName;
                arr1[cnt]=tempcategory;
                $('#output').append("<br/>"+categories[cnt]);
                 cnt++;
            });                 
            callback.call(null,var1);
        },
        error: function(){
             alert("An error occurred while processing XML file.");
        }
   });      

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:26:30.033

~~你可以做的是：~~

```
~~callback.call( null, var1, var2 );~~
```

另外，请参阅 Harry 对代码中语法问题的回答。

另请注意，使用它`var arr1 = [];`而不是被认为是更好的形式`var arr1 = new Array()`，它们都是等效的，但第一个更短。

**编辑：**一个更简单的方法是简单地编写`callback( var1, var2 )`. 但是，如果您仍想使用`.call`，请参阅[MDN](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call)以获取完整说明。

**编辑：**

thnx 寻求帮助，我们可以按照此答案中的说明使用它 `callback.call( null, var1, var2, var3 );` 并使用

```
fun_name(function (var1,var2,var3) {        
        alert(var1);
        alert(var2);
        alert(var3);        
    }); 
```

# android - 如何创建圆形viewpager？

> ID：11465815
> 
> 赞同：15
> 
> 时间：2012-07-13T07:15:26.453
> 
> 标签：android

> **可能重复：**
> [ViewPager 作为循环队列/包装](https://stackoverflow.com/questions/7546224/viewpager-as-a-circular-queue-wrapping)

我的代码中有三个片段类。FirstActivity,SecondActivity,ThirdActivity 我想刷这三个活动..这三个是从 Fragment 类扩展的

```
public class ViewPagerFragmentActivity extends FragmentActivity {
private PagerAdapter mPagerAdapter;

@Override
protected void onCreate(Bundle savedInstanceState) {
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    super.onCreate(savedInstanceState);
    super.setContentView(R.layout.viewpager_layout);
    initialisePaging();
    }

/**
 * Initialize the fragments to be paged
 */
List<Fragment> fragments = new Vector<Fragment>();
ViewPager pager;
private void initialisePaging() {
    fragments.add(Fragment.instantiate(this, FirstActivity.class.getName()));
    fragments.add(Fragment.instantiate(this, SecondActivity.class.getName()));
    fragments.add(Fragment.instantiate(this, ThirdActivity.class.getName()));
    this.mPagerAdapter = new MyPagerAdapter(super.getSupportFragmentManager(), fragments);
    pager = (ViewPager) super.findViewById(R.id.viewpager);
    pager.setAdapter(this.mPagerAdapter);

} 
```

}

> 这是我的 FragmentPageAdapter 类

```
public class MyPagerAdapter extends FragmentPagerAdapter {

private final List<Fragment> fragments;

public MyPagerAdapter(FragmentManager fm, List<Fragment> fragments) {
    super(fm);
    this.fragments = fragments;
}

@Override
public Fragment getItem(int position) {
    System.out.println("position"+position);
    return this.fragments.get(position);
}

@Override
public int getCount() {
    return this.fragments.size();
} 
```

}

我的代码以这种方式工作， `A<->B<->c` 但我的要求是像这样运行`C<->A<->B<->C<-A->` ，在圆形片段中是可滑动的......

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-13T10:03:46.363

圆形 ViewPager 是可能的。借助[ViewPager 作为循环队列/包装](https://stackoverflow.com/questions/7546224/viewpager-as-a-circular-queue-wrapping)此链接已编码为这样。希望它对您需要的有所帮助。

CircluarPagerAdapter 类：

>

```
 public class CircularPagerAdapter extends PagerAdapter{

private int[] pageIDsArray;
private int count;

public CircularPagerAdapter(final ViewPager pager, int... pageIDs) {
    super();
    int actualNoOfIDs = pageIDs.length;
    count = actualNoOfIDs + 2;
    pageIDsArray = new int[count];
    for (int i = 0; i < actualNoOfIDs; i++) {
        pageIDsArray[i + 1] = pageIDs[i];
    }
    pageIDsArray[0] = pageIDs[actualNoOfIDs - 1];
    pageIDsArray[count - 1] = pageIDs[0];

    pager.setOnPageChangeListener(new OnPageChangeListener() {

        public void onPageSelected(int position) {
            int pageCount = getCount();
            if (position == 0){
                pager.setCurrentItem(pageCount-2,false);
            } else if (position == pageCount-1){
                pager.setCurrentItem(1,false);
            }
        }

        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
            // TODO Auto-generated method stub
        }

        public void onPageScrollStateChanged(int state) {
            // TODO Auto-generated method stub
        }
    });
}

public int getCount() {
    return count;
}

public Object instantiateItem(View container, int position) {
    LayoutInflater inflater = (LayoutInflater) container.getContext()
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    int pageId = pageIDsArray[position];
    View view = inflater.inflate(pageId, null);
    ((ViewPager) container).addView(view, 0);
    return view;
}

@Override
public void destroyItem(View container, int position, Object object) {
    ((ViewPager) container).removeView((View) object);
}

@Override
public void finishUpdate(View container) {
    // TODO Auto-generated method stub
}

@Override
public boolean isViewFromObject(View view, Object object) {
    return view == ((View) object);
}

@Override
public void restoreState(Parcelable state, ClassLoader loader) {
    // TODO Auto-generated method stub
}

@Override
public Parcelable saveState() {
    // TODO Auto-generated method stub
    return null;
}

@Override
public void startUpdate(View container) {
    // TODO Auto-generated method stub
}
} 
```

这是你的主要课程：

>

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ViewPager myPager = (ViewPager) findViewById(R.id.conpageslider);
    PagerAdapter adapter = new CircularPagerAdapter(myPager, new int[]{R.layout.first_activity, R.layout.second_activity, R.layout.third_activity});
    myPager.setAdapter(adapter);
    myPager.setCurrentItem(3);

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-13T07:45:18.597

你可以尝试这样的事情：

1）使`getCount()`返回一个巨大的价值（滑动方式的数量高于您的用户可能使用的方式）

2）做`getItem`这样的回报。`fragments.get(position % fragments.size())`

3) 让您的寻呼机从定义的范围中间的某个位置开始`getCount()`（为了允许在开始时从 A 滑动到 C），请确保选择一个可以为您提供第一个片段 % 3 的值

我知道这个解决方案似乎有点脏，但我目前找不到更好的解决方案

# delphi - 虚拟树视图循环

> ID：11465816
> 
> 赞同：3
> 
> 时间：2012-07-13T07:15:31.447
> 
> 标签：delphi, delphi-7, virtualtreeview, tvirtualstringtree

我想遍历 VirtualTreeView 的所有根并删除它们。

我不想清除它。

我收到此代码的访问冲突：

```
var
 Node : PVirtualNode;
begin
 if VirtualStringTree1.GetFirst = NIL then exit;
 Node := NIL;
 repeat
  if Node = NIL then 
   Node := VirtualStringTree1.GetLast 
  else Node:=VirtualStringTree1.GetPrevious (Node);
  if Node <> NIL then VirtualStringTree1.DeleteNode(Node);
 until Node = VirtualStringTree1.GetFirst;
end; 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T07:50:02.043

您的实现中有一个逻辑错误：删除节点后，您的局部变量`Node`指向一个不存在的节点。

我不明白你为什么不想只清除树，但你可以像这样从最后一个到第一个删除所有节点：

```
var
  Node, TmpNode: PVirtualNode;
begin
  Node := Tree.GetLast;
  while Assigned(Node) do
  begin
    TmpNode := Tree.GetPrevious(Node);
    Tree.DeleteNode(Node);
    Node := TmpNode;
  end;
end; 
```

# java - 以编程方式查找浮点数的大小

> ID：11465821
> 
> 赞同：6
> 
> 时间：2012-07-13T07:15:52.080
> 
> 标签：java

免责声明：这个问题可能没有实际价值，它更像是一个谜题/好奇心问题。

在 Java 中，我可以编写以下代码以编程方式查找 int 的大小：

```
public static void main(String[] args) 
{
    int x = 1;
    int count = 1;

    while((x = x << 1) != 0)
    {           
        count++;
        System.out.println("x: " + x + ", " + count);
    }

    System.out.println("size: " + count);
} 
```

有没有类似的方法来以编程方式查找 Java 浮点数的大小？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-13T07:23:38.913

将浮点数写入 ByteArrayOutputStream 并获取结果的长度。

```
import java.io.*;
class Test
    {
    public static void main(String[] args)  throws Exception
        {

        ByteArrayOutputStream baos =new ByteArrayOutputStream();
        DataOutputStream dos=new DataOutputStream(baos);
        dos.writeFloat(0f);
        System.err.println(baos.toByteArray().length);
        }
    }

$ javac Test.java 
$ java Test 
4 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:24:52.783

Java 浮点数遵循 IEEE 浮点标准，因此您可以轻松地了解详细信息。简而言之，浮点数的“已使用”和“未使用”部分之间没有清晰的分隔，就像使用二进制补码整数编码一样。基本划分为符号位、尾数和指数。您可能会看到使用了哪些尾数位以及使用了哪些指数位，但这绝非易事。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:28:15.760

我会写一个二进制搜索。从 0 开始，然后选择正负 0.5*Float.MAX_VALUE 并继续迭代。

此方法适用于任何数字类型 - 并且应该比上面的循环快得多。

# php - Zend_Validator_Regex 抛出错误：使用模式时出现内部错误

> ID：11465822
> 
> 赞同：3
> 
> 时间：2012-07-13T07:16:06.040
> 
> 标签：php, regex, zend-framework, zend-validate

> 消息：使用模式“(http://)?(www.)?(youtu)((be.com)|(.be))/.*”时出现内部错误

```
$element = new Zend_Form_Element_Text($this->name);
$element->setRequired(true)
        ->setLabel(FileTypes::$names[$this->fileType])
        ->setDescription('Paste YouTube link here')
        ->setDecorators(FormDecorators::$simpleElementDecorators)
        ->addValidator('regex', false, '(http://)?(www\.)?(youtu)((be\.com)|(\.be))/.*'); 
```

即使使用简单的正则表达式也会引发错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:33:19.597

你验证你的正则表达式是正确的吗？在正则表达式工具中尝试一下，看看它是否会产生任何错误。一个体面的工具应该告诉你为什么你的正则表达式是错误的，如果它是无效的。

我见过的大多数正则表达式通常都以某种字符结尾，通常是“/”。您的错误可能与您遇到的错误有关。

您还应该记住，虽然 PHP 的正则表达式与 Perl 相似，但也有一些不同之处。在这种情况下，它们可能无关紧要，但您仍然应该注意它们。 [http://www.php.net/manual/en/reference.pcre.pattern.differences.php](http://www.php.net/manual/en/reference.pcre.pattern.differences.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:01:50.507

试试这个，你需要把你的模式放在一个数组中并包含分隔符。

```
$element = new Zend_Form_Element_Text($this->name);
                $element->setRequired(true)
                        ->setLabel(FileTypes::$names[$this->fileType])
                        ->setDescription('Paste YouTube link here')
                        ->setDecorators(FormDecorators::$simpleElementDecorators)
                        ->addValidator('regex', false, array(
                           'pattern' => '/(http://)?(www\.)?(youtu)((be\.com)|(\.be))/.*/'                                                                    
                         )); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-12T20:14:36.543

转义 http 中的斜杠：

```
->addValidator('regex', false, '(http:\/\/)?(www\.)?(youtu)((be\.com)|(\.be))\/.*'); 
```

# visual-studio-2010 - 在模型弹出打印按钮中使用 Crystal Report（版本 13）视图生成报表不起作用？

> ID：11465824
> 
> 赞同：0
> 
> 时间：2012-07-13T07:16:21.713
> 
> 标签：visual-studio-2010, printing, crystal-reports

我使用带有 C#（Web 应用程序）的 Asp.NET 开发了一个小型应用程序。我的环境是带有 Visual Studio 2010 的 Crystal Report（版本 13）。同时显示生成报告记录。但打印按钮不起作用？这个问题有哪些可能性。请任何人都可以解释这个...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-16T08:31:23.747

我的 adobe 阅读器有问题，所以它不能工作......我发现了错误......重新安装后它正在工作......

# objective-c - 静态库在目标 c 中不起作用。怎么做？

> ID：11465825
> 
> 赞同：0
> 
> 时间：2012-07-13T07:16:23.490
> 
> 标签：objective-c

> ld：警告：忽略文件
> /Users/srm-mac10/Downloads/ICodeBlogStaticLibrarySample/MathTest/Classes/iCodeBlogsMathLibrary/libICodeMathUtils.a，文件中
> 缺少所需的架构 i386 架构 i386 的未定义符号：“_OBJC_CLASS_$_MathFunctions”，引用自：
> objc- MathTestAppDelegate.o ld 中的类引用：未找到体系结构 i386 的符号 clang：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

在我尝试在目标 C 中创建静态库时出现以下错误。有什么想法吗？请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:36:00.513

iOS 模拟器在系统的 CPU 上本地运行，这是一个 x86 架构。因此，您的代码需要为 x86 构建（可能已经可以工作）*，并且*您链接到的任何库也需要为 x86 构建。

如果这是其他人提供给您的静态库（也许您购买了它？），那么您还需要请求 x86 版本并链接到它。

如果您自己构建静态库，请检查该项目的构建设置（我假设它是一个单独的项目）并确保将其配置为可以为模拟器编译。然后为模拟器显式构建库。

（我在静态库中遇到了一些奇怪的问题，其中 Xcode 4.x 无法自动构建正确的库架构，需要显式手动构建。）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-13T07:39:59.443

我认为您必须在项目构建设置的“其他链接器标志”中设置标志“-all_load”

# ruby-on-rails - 如何在嵌套模型案例中创建消息缓冲区？

> ID：11465827
> 
> 赞同：1
> 
> 时间：2012-07-13T07:16:32.037
> 
> 标签：ruby-on-rails

我有 4 个模型

*   学生（has_many：收件箱）
*   大学（has_many：收件箱）
*   收件箱（has_many :replies,belongs_to :student,belongs_to :university)
*   回复（belons_to：收件箱）

在这种情况下，我希望如果学生从收件箱/回复中删除某些内容，它应该保持在大学方面。

我没有得到我应该在其中使用什么概念。

我将非常感谢您的帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:00:41.410

```
student.inboxes.delete(inbox) 
```

此代码会将对象的 设置为`student_id`，因此学生将不会在他的列表中看到它，但它不会从大学列表中删除该对象（除非您在关联中使用 a ）。`inbox``nil``:dependent => :destroy`

# javascript - 如何使用 PJAX 加载整个页面

> ID：11465830
> 
> 赞同：1
> 
> 时间：2012-07-13T07:16:46.647
> 
> 标签：javascript, ajax, pjax

是否可以使用**PJAX**加载整个页面并更改浏览器的页面 url？

我的目的是首先准备响应，以确保在单击 menu-page-link 或执行 javascript 函数后长时间不刷新页面即可加载它。

我尝试使用**PJAX**，但它为所选元素提供响应数据以加载请求必须显示的位置。

像：

```
$('a').pjax("#container", { fragment: "#container" }); 
```

我想要并且我尝试过：

```
$('a').pjax({url:"new-page.html"}); 
```

但它没有用。

我会感谢你的帮助和建议。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T12:44:01.277

[是的，使用jquery PJAX 插件](https://github.com/defunkt/jquery-pjax)很有可能，您可以保持页眉页脚静态并使用 PJAX 更改正文内容，是的，它也会更改 url 以及浏览器历史堆栈，即几乎使它像普通导航一样，除了页面不会刷新。但是两个 url 中的容器必须相同。你可以试试 ：

```
$(document).pjax('a', '#pjax-container') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:23:51.027

您可以通过 ajax 加载页面，但不能更改页面 url，当您更改它时，它将自动重定向到该地址。这可以防止网络钓鱼页面，假网址....但是为什么您需要通过ajax加载页面然后更改网址，为什么不直接更改网址？

# android - 在android中运行时设置ListView的高度

> ID：11465833
> 
> 赞同：6
> 
> 时间：2012-07-13T07:17:09.417
> 
> 标签：android, listview

如何设置 ListView 的高度。

XML 代码（此代码工作正常，高度固定为 200 dip）

```
<LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="5dip"
    android:orientation="vertical" >
    <ListView
        android:id="@+id/dialog_ListView"
        android:layout_width="wrap_content"
        android:layout_height="200dip"
        android:padding="5dip"
        android:layout_weight="1"
        android:dividerHeight="5dip"
        android:divider="@android:color/transparent" />        
</LinearLayout> 
```

Android 代码（此代码不固定宽度和高度）

```
convertView = mInflater.inflate( R.layout.dialog_page, null );
convertView.setLayoutParams( new ListView.LayoutParams( 200, 300) ); 
```

Android 代码（此代码我收到错误消息）

```
convertView = mInflater.inflate( R.layout.lock_file_page, parent );
convertView.setLayoutParams( new ListView.LayoutParams( 200, 300) ); 
```

错误信息

```
java.lang.UnsupportedOperationException: addView(View, LayoutParams) is not supported in AdapterView 
```

如何在运行时修复宽度和高度。

提前致谢。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-13T12:53:17.163

试试这个代码..

```
 LayoutParams lp = (LayoutParams) mListView.getLayoutParams();
 lp.height = 300;
 mListView.setLayoutParams(lp); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-11-23T14:50:47.813

```
public static boolean setListViewHeightBasedOnItems(ListView listView) {

    ListAdapter listAdapter = listView.getAdapter();
    if (listAdapter != null) {

        int numberOfItems = listAdapter.getCount();

        // Get total height of all items.
        int totalItemsHeight = 0;
        for (int itemPos = 0; itemPos < numberOfItems; itemPos++) {
            View item = listAdapter.getView(itemPos, null, listView);
            item.measure(0, 0);
            totalItemsHeight += item.getMeasuredHeight();
        }

        // Get total height of all item dividers.
        int totalDividersHeight = listView.getDividerHeight() *
                (numberOfItems - 1);

        // Set list height.
        ViewGroup.LayoutParams params = listView.getLayoutParams();
        params.height = totalItemsHeight + totalDividersHeight;
        listView.setLayoutParams(params);
        listView.requestLayout();

        return true;

    } else {
        return false;
    }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:31:53.957

首先删除 LayoutParams 的导入文件，然后为 LayoutParams 使用以下代码。

```
LinearLayout.LayoutParams params=new LinearLayout.LayoutParams(200, 300);
convertView.setLayoutParams(params); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-10T10:55:19.553

试试这个

```
public void setDynamicHeight(ListView listView) {
ListAdapter listAdapter = listView.getAdapter();
    if (listAdapter == null) {
    return;
    }
int totalHeight = listView.getPaddingTop() + listView.getPaddingBottom();
int desiredWidth = MeasureSpec.makeMeasureSpec(listView.getWidth(), MeasureSpec.AT_MOST);
for (int i = 0; i < listAdapter.getCount(); i++) {
    View listItem = listAdapter.getView(i, null, listView);

    if(listItem != null){
        listItem.setLayoutParams(new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT));
        listItem.measure(desiredWidth, MeasureSpec.UNSPECIFIED);
        totalHeight += listItem.getMeasuredHeight();

    }
}
ViewGroup.LayoutParams params = listView.getLayoutParams();
params.height = totalHeight + (listView.getDividerHeight() * (listAdapter.getCount() - 1));
listView.setLayoutParams(params);
listView.requestLayout();} 
```

# android - 如何在印地语中创建 android UI？

> ID：11465834
> 
> 赞同：1
> 
> 时间：2012-07-13T07:17:15.150
> 
> 标签：android, utf-8, localization, android-resources

我正在开发一个需要支持两种语言（英语和印地语）的应用程序。我熟悉英语设计，但我不知道如何用印地语创建 UI。

谁能帮助我如何用印地语创建 android UI ......？我想要印地语中的以下 XML 文件表示代替名称和密码，如下图所示，我需要获取印地语单词..但我保留印地语文本意味着它显示框代替用户名和密码。正如你可以找到下面的按钮。创建了两个动态文本视图。英文文本正在准确显示，但出现在印地语文本显示框中。

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/layoutbase"    
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >
<TableLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:layout_weight="1">
        <TextView
            android:id="@+id/textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="30px"
            android:text="Username"/>
        <EditText
            android:id="@+id/editText1"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content">
        </EditText>
    </TableRow>
    <TableRow
        android:id="@+id/tableRow2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1" >
          <TextView
            android:id="@+id/textView2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="30px"
            android:text="नमस्ते"/>
        <EditText
            android:id="@+id/editText2"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content">
        </EditText>
    </TableRow>
</TableLayout> 
```

输出显示如下图所示的框

![在此处输入图像描述](../Images/c505fd2729c8e461b4d8d2b2280783e8.png) ![在此处输入图像描述](../Images/54210a4b88432e0d0e020aee546ae261.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:21:24.610

实际上，您需要的是[Android-Localization](http://developer.android.com/guide/topics/resources/localization.html)，它支持英语和印地语两种语言。

查看本教程[Android-Application-Localization](http://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:38:03.693

另外，请注意 HTC 不支持印地语字体显示

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:49:11.560

您必须下载印地语的 .ttf(true type font) 文件，并在项目资产文件夹中创建文件夹名称作为字体，并将hindi_font_file.ttf 文件粘贴到字体文件夹下的资产中，并在您的文本视图中引用并设置字体，如下代码：

```
Typeface tf = Typeface.createFromAsset(getAssets(), "fonts/hindi_font_file.ttf");               
TextView tv = (TextView) findViewById(R.id.yourtextview);
tv.setTypeface(tf);
tv.setText("हिंदी"); 
```

现在在您的 ui 上显示印地语文本以获取更多详细信息，请尝试按照下面的说明进行操作

[英文单词之间的Android泰米尔语字体](https://stackoverflow.com/questions/10635516/android-tamil-font-between-english-word)

这里是下载印地语 ttf 文件的[链接](http://www.google.co.in/#hl=en&sclient=psy-ab&q=hindi%20true%20type%20fonts%20free%20download&oq=hindi%20true%20ty&gs_l=hp.11.2.0i10j0i30l3.0.0.5.1228.0.0.0.0.0.0.0.0..0.0...0.0...1c.oipWElBjTOI&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.,cf.osb&fp=e0d56e20f3999d57&biw=1360&bih=667&pf=p&pdl=300)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T07:52:30.810

自己解决了这个问题。我已经下载**了“mangal.ttf”**（印地语字体支持文件）并将其复制到资产文件夹中创建的字体文件夹中。

将我的java代码修改为

主.java

```
 TextView tv1=new TextView(this);
    tv1.setTypeface(Typeface.createFromAsset(getAssets(),"fonts/mangal.ttf"));
    tv1.setText("इस अंग्रेज़ी हिन्दी अंग्रेज़ी शब्दकोश में आप आसानी से हिन्दी और अंग्रेज़ी शब्दों के अर्थ ढूंढ सकते हैं। नवम्बर ");
    tv1.setTextSize(20);
    layout.addView(tv1); 
```

这对我有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T07:48:55.603

您显示的静态文本（用户名、密码）等需要通过使用 Android 的资源框架提供适当的字符串来本地化。请注意您的目标平台版本。我不记得究竟是哪个版本的 Android 引入了印地语支持，但您可以在每个平台版本的发行说明中查找。

最后，如果您想在印地语中接受用户输入，您需要再次了解平台版本。您可以转到**设置**->**语言和输入法**；**然后是Android 键盘 (AOSP)** --> **Input Languages**的“首选项”图标。如果您在列表中看到印地语，则您的平台应该支持印地语输入。但是，我不确定设备制造商是否支持此领域，因此您可能应该在真实设备上进行测试。

# c# - 根据属性的枚举值不同的DataTemplate

> ID：11465837
> 
> 赞同：2
> 
> 时间：2012-07-13T07:17:16.827
> 
> 标签：c#, wpf, xaml, data-binding

我想要类似于 [这里](https://stackoverflow.com/questions/5010511/wpf-datatemplate-binding-depending-on-the-type-of-a-property)所要求的东西- 但是，我需要模板依赖于属性的值，这是一个枚举。

该类看起来与此类似：

```
class ResultBlock
{
    public string Name { get; set; }
    public BlockType Type { get; set; }
    public IList<ResultBlock> ChildBlocks { get; private set; }
} 
```

Where`BlockType`有三个不同的值，`BLOCK, FILE, FOLDER`- 现在，我想创建一个数据模板以不同的方式呈现，具体取决于`ResultBlock.Type`当前对象中的值。

我试过用 做这个`DataType=`，但显然没有用。我确信只有在 XAML 中才能很容易地做到这一点。

```
<TreeView.Resources>
    <HierarchicalDataTemplate DataType="{x:Type docom:ResultBlock}" ItemsSource="{Binding ChildBlocks}">
        <StackPanel Orientation="Horizontal">
            <StackPanel.Resources>
                <DataTemplate DataType="{x:Type docom:BlockType.BLOCK}">
                    <TextBlock Text="BLOCK:{Binding Name}" />
                </DataTemplate>
            </StackPanel.Resources>
        </StackPanel>
    </HierarchicalDataTemplate>
</TreeView.Resources> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-24T14:16:14.590

您可以在属性上触发，例如：

```
<HierarchicalDataTemplate DataType="{x:Type docom:ResultBlock}"
                          ItemsSource="{Binding ChildBlocks}">
    <ContentControl Content="{Binding}">
        <ContentControl.Style>
            <Style TargetType="ContentControl">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding BlockType}" Value="BLOCK"> 
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                     <!-- Data template for BLOCK blocks -->
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                    </DataTrigger>
                    <!-- More triggers -->
                </Style.Triggers>
            </Style>
        </ContentControl.Style>
    </ContentControl>
</HierarchicalDataTemplate> 
```

是的，它很冗长。（您可以将不同类型的模板定义为键控资源，然后在其中引用它们`Setters`）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-13T07:34:05.537

```
<Window.Resources>
    <local:TaskListDataTemplateSelector x:Key="myDataTemplateSelector"/>
</Window.Resources>
<Grid>
    <ListBox Width="400" Margin="10"
     ItemsSource="{Binding Source={StaticResource myTodoList}}"
     ItemTemplateSelector="{StaticResource myDataTemplateSelector}"
     HorizontalContentAlignment="Stretch"/>
</Grid> 
```

```
public class TaskListDataTemplateSelector : DataTemplateSelector
{
    public override DataTemplate
        SelectTemplate(object item, DependencyObject container)
    {
        FrameworkElement element = container as FrameworkElement;

        if (element != null && item != null && item is Task)
        {
            Task taskitem = item as Task;

            if (taskitem.Priority == 1)
                return
                    element.FindResource("importantTaskTemplate") as DataTemplate;
            else
                return
                    element.FindResource("myTaskTemplate") as DataTemplate;
        }

        return null;
    }
} 
```

这是为 ListBox 实现的，但对于 DataGrid/TreeView 的想法可以相同。我希望这会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:22:03.750

一种方法是使用 TemplateSelector 并在选择器中根据您的 BlockType 执行您想要的操作。

或者您创建 wrapperviewmodels，例如：

```
 public class ResultBlockBlock{}
 public class ResultBlockFile{}
 public class ResultBlockFolder{} 
```

那么您可以采用 DataTemplate DataType 方式

# validation - 无效值的codeplex phpexcel验证问题

> ID：11465846
> 
> 赞同：1
> 
> 时间：2012-07-13T07:17:47.687
> 
> 标签：validation, phpexcel

这是我的问题，我在我的一个 excel 中进行了验证。

```
 $objValidation = $sheet->getCell('G17' )->getDataValidation();
    $objValidation->setType( PHPExcel_Cell_DataValidation::TYPE_DECIMAL );
    $objValidation->setErrorStyle( PHPExcel_Cell_DataValidation::STYLE_INFORMATION );
    $objValidation->setOperator( PHPExcel_Cell_DataValidation::OPERATOR_GREATERTHANOREQUAL);
    $objValidation->setAllowBlank(true);
    $objValidation->setShowInputMessage(true);
    $objValidation->setShowErrorMessage(true);
    $objValidation->setErrorTitle('Input error');
    $objValidation->setError('Only numeric entries are allowed.');
    $objValidation->setFormula1(0);
    $objValidation->setPromptTitle('Allowed input');
    $objValidation->setPrompt('Only numeric entries are allowed.'); 
```

当用户尝试在“G17”单元格上输入字母字符时，用户会收到带有以下按钮的错误消息提示：“确定”、“取消”、“帮助”。请看图片提供

![遇到错误信息](../Images/b40b6cda56f08e82ef702dd4021a0200.png) 但是当用户单击“确定”按钮时，字母输入被接受。

如果验证出现错误，是否可以清除单元格值，或者在验证出现错误时突出显示单元格值？

谢谢你。

# c# - Vatlab Facebook 开发工具包 Internet Explorer 问题

> ID：11465848
> 
> 赞同：0
> 
> 时间：2012-07-13T07:17:49.730
> 
> 标签：c#, asp.net, facebook

我最近购买了 Vatlab facebook 组件，但我遇到了 Internet Explorer 问题。

[我们在https://apps.facebook.com/assesmentfinansbank](https://apps.facebook.com/assesmentfinansbank)创建了一个演示应用程序 (Asp.NET 4.0) 它适用于 firefox、chrome 和 safari，但是当我们使用 Microsoft Internet Explorer 打开它时，它会不断地重定向页面。

以下代码块是问题的原因；AccessToken 始终返回 null 并尝试将页面重定向到身份验证页面。

```
if (accessToken == null)
{
if (GetRedirectCounter() < 4)
{
IncreaseRedirectCounter();
string authoriseUrl = FvkAuth.GetAuthoriseUrl("email, user_location", FVKConfig.AppUrl);
FvkAuth.RedirectToTop(Response, authoriseUrl);
}
else
{
// too many redirection loops 
Response.Redirect("InfiniteLoop.aspx", false);
}
} 
```

我需要解决这个问题并需要帮助。有人遇到这个问题并有任何建议吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:12:07.040

请检查您是否在页面或母版页中包含以下行：

`Response.AppendHeader("P3P", "CP=\"CAO PSA OUR\"");`

需要为 IE 上的 iFrame 应用程序启用第三方 cookie。如果您忘记包含此 asp.net 会话将不起作用。[FVK 文档](http://vatlab.com/facebook-asp-net-configuration)中也提供了关于这一点的说明

谢谢

# .net - IIS 6.0 出现错误 404

> ID：11465851
> 
> 赞同：-4
> 
> 时间：2012-07-13T07:17:57.810
> 
> 标签：.net, web-services, iis-6

是什么意思`sc-status 404 sc-substatus 0 sc-win32-status 2 in IIS 6.0 Log`？

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:19:09.080

[https://en.wikipedia.org/wiki/HTTP_404](https://en.wikipedia.org/wiki/HTTP_404)

网页未找到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:24:33.350

经过简单的搜索，我找到了这个页面：http: [//support.microsoft.com/kb/318380](http://support.microsoft.com/kb/318380)（我希望你能用你的语言得到它）

> 404.0 = 找不到文件或文件夹

# authentication - 切换用户时未调用身份验证处理程序

> ID：11465854
> 
> 赞同：3
> 
> 时间：2012-07-13T07:18:04.683
> 
> 标签：authentication, symfony, handler, switch-user

我在我的应用程序中有一个基本的表单登录身份验证，我使用 AuthenticationHandlerInterface 设置了一个处理程序，其中我在 onAuthenticationSuccess() 方法中设置会话变量。

问题是当我切换到另一个用户（使用 ROLE_ALLOWED_TO_SWITCH）时，我的处理程序不再被调用，并且我之前设置的会话变量仍然是切换前的用户。

例子 ：

*   使用用户 X 登录
*   将 session var myVar 设置为 X->someAttribute （在身份验证处理程序内）
*   切换到用户 Y
*   未调用处理程序：myVar 保持相同的值

（我知道 myVar = X->someAttribute 不是一个很好的例子，因为我已经可以从安全令牌对象访问它，但这是为了简化问题）

谢谢

编辑：security.yml 的摘录

```
firewalls:
    main:
        pattern:    ^/
        anonymous: ~
        switch_user: { role: ROLE_ADMIN, parameter: _switch }
        form_login:
            provider: sso
            success_handler: authentication_handler
            login_path: /login
            check_path: /login_check
        logout:
            path:   /logout
            target: /home 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T07:46:47.960

当安全组件成功切换当前用户时，它会派发一个`security.switch_user`具有以下事件类的事件：[https ://github.com/symfony/symfony/blob/2.0/src/Symfony/Component/Security/Http/Event/切换用户事件.php](https://github.com/symfony/symfony/blob/2.0/src/Symfony/Component/Security/Http/Event/SwitchUserEvent.php)。

因此，您可能需要/想要收听此事件，并在调用您的侦听器时执行您的逻辑。

要收听这个事件，请阅读关于 listeners 的 symfony 食谱条目：http: [//symfony.com/doc/current/cookbook/service_container/event_listener.html](http://symfony.com/doc/current/cookbook/service_container/event_listener.html)

```
services:
    rocky.balboa.listener.security_switch_user:
        class: Rocky\BalboaBundle\Listener\SecuritySwitchUserListener
        tags:
            - { name: kernel.event_listener, event: security.switch_user, method: onSecuritySwitchUser } 
```

.

```
// src/Rocky/BalboaBundle/Listener/SecuritySwitchUserListener.php

namespace Rocky\BalboaBundle\Listener;

use Symfony\Component\Security\Http\Event\SwitchUserEvent;

class SecuritySwitchUserListener
{
    public function onSecuritySwitchUser(SwitchUserEvent $event)
    {
        $newUser = $event->getTargetUser();
    }
} 
```

# c# - DataGridViewComboBoxColumn - 值滞后一瞬间

> ID：11465857
> 
> 赞同：5
> 
> 时间：2012-07-13T07:18:15.657
> 
> 标签：c#, datagridview

我有一个带有几个 DataGridViewComboBoxColumns 的 DataGridView。DataGridView 上有一个 CellEnter 事件处理程序，用于单击下拉组合框。

该列绑定到 KeyValuePairs 列表，ValueMember 为“Key”，DisplayMember 为“Value”。

当我单击组合框列时，它工作正常。但是，如果单元格处于“下拉”状态并且我单击另一个组合框（同一列，不同行），它会正确取消选择旧单元格，选择并下拉新单元格，但是顶部的选定值会更改为从旧单元格中获取值一瞬间，然后再更改回正确的单元格。

例如，假设列表是 A、B、C。在第 1 行中，选择了 A，在第 2 行中，选择了 B。我单击 row1 中的单元格，一切正常。然后，当这个单元格被下拉时，我单击 row2 中的单元格。它正确下降，但顶部的选定值变为 A，然后立即切换回 B（正确的值）。

如果我在单击第二个组合框单元格之前单击其他列中的单元格，则不会发生这种情况。

有没有办法防止这种情况发生？

重现问题的示例代码（事件处理程序连接到明显的事件）：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace PDGV
{
    public partial class Form1 : Form
    {
        List<KeyValuePair<string, string>> bindingList = new List<KeyValuePair<string, string>>();

        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            dataGridView1.Rows.Add(10);
            bindingList.Add(new KeyValuePair<string,string>("aaa", "111"));
            bindingList.Add(new KeyValuePair<string,string>("bbb", "222"));
            bindingList.Add(new KeyValuePair<string,string>("ccc", "333"));
            bindingList.Add(new KeyValuePair<string,string>("ddd", "444"));
            bindingList.Add(new KeyValuePair<string,string>("eee", "555"));
            BindComboList(2, bindingList);

        }

        private void BindComboList(int columnIndex, object list)
        {
            var column = dataGridView1.Columns[columnIndex] as DataGridViewComboBoxColumn;
            if (column != null)
            {
                column.DataSource = new BindingSource(list, null);
                column.DisplayMember = "Value";
                column.ValueMember = "Key";
            }
        }

        private void dataGridView1_CellEnter(object sender, DataGridViewCellEventArgs e)
        {
            if (e.RowIndex == -1)
                return;

            dataGridView1.BeginEdit(true);
            var control = dataGridView1.EditingControl as DataGridViewComboBoxEditingControl;
            if (control != null)
                control.DroppedDown = true;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T23:01:49.880

理由：

在`DataGridView`EndEdit 方法的深处，它存储了以前使用的 EditingControl 的副本。`this.latestEditingControl = this.editingControl;` 然后，当您开始编辑另一个单元格时，它就会启动`BeginEditInternal`。在此期间，它会检查 latestEditingControl 是否不为空，并且编辑类型是否与最后一个单元格相同，如果是，它会重用该控件，这就是您看到 flash 的原因，它确实是同一个控件。

解决方案：

将 latestEditingControl 设置为 null，此控件无法通过普通属性/方法访问，必须使用反射。注意：这会导致完全不同的烦恼，现在您要离开的单元格闪烁白色:)，但它确实解决了您寻求帮助的特定问题。

```
 private void dataGridView1_CellEndEdit(object sender, DataGridViewCellEventArgs e)
    {
        if (e.RowIndex == -1)
            return;

        //this.latestEditingControl
        Type t = dataGridView1.GetType();
        FieldInfo viewSetter = t.GetField("latestEditingControl", BindingFlags.Default | BindingFlags.NonPublic | BindingFlags.Instance);
        viewSetter.SetValue(dataGridView1, null);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-16T18:58:45.530

我没有 100% 重现所描述的问题（我从未见过滞后），但尝试取消订阅该`CellEnter`事件并尝试将您的代码更改为此（来自[如何让 DataGridView 组合框一键显示其下拉列表？](https://stackoverflow.com/a/4296815/719186) )

```
public Form1() {
  InitializeComponent();

  dataGridView1.EditMode = DataGridViewEditMode.EditOnEnter;
  dataGridView1.EditingControlShowing += dataGridView1_EditingControlShowing;
}

void dataGridView1_EditingControlShowing(object sender, DataGridViewEditingControlShowingEventArgs e) {
  if (e.Control is ComboBox) {
    SendKeys.Send("{F4}");
  }
} 
```

当用户输入单元格时，它应该会弹出打开组合框。

* * *

或从这个解决方案[单击打开下拉列表（在数据网格视图中）项目](https://stackoverflow.com/a/6342462/719186)

```
void dataGridView1_EditingControlShowing(object sender, DataGridViewEditingControlShowingEventArgs e) {
  if (e.Control is ComboBox) {
    ComboBox ctl = e.Control as ComboBox;
    ctl.Enter -= new EventHandler(ctl_Enter);
    ctl.Enter += new EventHandler(ctl_Enter);
  }
}

void ctl_Enter(object sender, EventArgs e) {
  (sender as ComboBox).DroppedDown = true;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:22:55.793

我假设它与 Windows 7 的 3d 样式组合框（也许 vista 也是，我还没有检查）

我从来没有见过这种情况如果你

```
comboboxcolumn.FlatStyle = System.Windows.Forms.FlatStyle.Flat; 
```

不过，您可能不喜欢它的外观。你可以隐藏丑陋的扁平向下箭头

```
comboboxcolumn.DisplayStyle = DataGridViewComboBoxDisplayStyle.Nothing; 
```

就像另一个人说的那样，每列只有一个组合框控件（“编辑控件”），并且相同的组合框显示在该列的当前活动单元格中。当单元格未被选中时，由列类的绘制方法来绘制一个假的组合框供用户查看。因此，当您将一个值推送到一个不可见的组合框然后在不同的位置重新绘制它时，可能会发生某种特定的 3d 弹出样式的内部组合框绘制问题，谁知道呢。

尝试切换到“经典”Windows 主题。组合框应该表现自己。如果您可以强制组合框在 Aero 中以经典主题下的方式呈现它，那将会很有趣。我不确定它是否可能，但你可能想调查一下。

但无论如何，dgv 与其他组合框样式没有这个问题的事实让我认为它只是新的组合框样式不适合 datagridview。

# c# - 如何在我的 REST WCF 服务中接受任意 JSON 对象？

> ID：11465858
> 
> 赞同：8
> 
> 时间：2012-07-13T07:18:19.373
> 
> 标签：c#, .net, json, wcf, rest

我想实现这样的服务方法：

```
[OperationContract]
[WebInvoke(RequestFormat = WebMessageFormat.Json, ResponseFormat=WebMessageFormat.Json)]
public void MakeShape(string shape, string color, IDictionary<string, object> moreArgs)
{
    if (shape == "circle")
    {
        MakeCircle(color, moreArgs);
    }
} 
```

我的客户 POST 对象，例如：

```
{
    "shape":"circle",
    "color": "blue",    
    "radius": 42,
    "filled":true,
    "annotation": {"date":"1/1/2012", "owner":"George"}
} 
```

在调用 MakeCircle 时，moreArgs 将有 3 个条目（“radius”、“filled”和一个名为“annotation”的字典，其中包含 2 个键值对。）

* * *

到目前为止我得到的最好的是：

```
//Step 1: get the raw JSON by accepting a Stream with BodyStyle=WebMessageBodyStyle.Bare
[OperationContract]
[WebInvoke(RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json, BodyStyle=WebMessageBodyStyle.Bare)]
public void MakeShape(Stream jsonStream)
{
    //Step 2: parse it into a Dictionary with JavaScriptSerializer or JSON.net
    StreamReader reader = new StreamReader(jsonStream);
    JavaScriptSerializer jsSerializer = new JavaScriptSerializer();
    Dictionary<string, object> args = jsSerializer.Deserialize<Dictionary<string,object>>(reader.ReadToEnd());            

    //Step 3: manually lookup and cast the "standard" arguments, and remove them from the Dictionary
    string shape = (string)args["shape"];
    string color = (string)args["color"];            

    //Step 4: make the original call, passing the remaining Dictionary as moreArgs
    MakeShape(shape,color,args);
} 
```

我可以接受这样的解决方案，除了第 3 步在几十种方法之间保持同步会很痛苦。显然*有些东西*必须打开字典并使用额外的参数，但我宁愿将该代码保留在我的通信层之外。IMO 它进入了解参数的业务逻辑（在本例中由 MakeCircle 表示）。

我真的很喜欢 WCF 的自动绑定，因为它消除了这些容易出错的手动翻译。我希望有一种方法可以将它用于*几乎*所有事情，除了为它不知道如何映射的参数指定一些额外的逻辑。也许有某种服务行为说“将它们传递给[此代码]，我会处理它”？

* * *

我考虑过 IExtensibleDataObject 提供的“往返”支持，但它似乎并没有让我的代码访问未知属性——它们被包装起来的唯一目的是发送回客户端。[http://msdn.microsoft.com/en-us/library/ms731083.aspx](http://msdn.microsoft.com/en-us/library/ms731083.aspx)

* * *

另一种选择是使用包含 IDictionary 的自定义类，并以某种方式自己接管反序列化。所以服务方法是： [OperationContract] [WebInvoke(RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.WrappedRequest)] public void MakeShape(string shape, string color, MoreArgs moreArgs)

而且我不得不强迫客户采用更严格的结构：

```
{
    "shape":"circle",
    "color": "blue",
    "moreArgs":{
        "radius": 42,
        "filled":true
        "annotation": {"date":"1/1/2012", "owner":"George"}
        }
} 
```

这并不理想，但我可以忍受。问题变成了如何定义 MoreArgs 并正确填充一个。我的下一次尝试：

```
[DataContract]
public class MoreArgs : ISerializable
{
    public Dictionary<string, object> Properties;
    public MoreArgs(SerializationInfo info, StreamingContext context)  
    {
        Properties = new Dictionary<string, object>();  
        foreach (var entry in info)  
        {                      
        Properties.Add(entry.Name, entry.Value);  
        }
    }  
    public void GetObjectData(SerializationInfo info, StreamingContext context)
    {
        foreach (string key in Properties.Keys)
        {
        info.AddValue(key, Properties[key]);
        }  
    }
} 
```

这会在服务启动时引发 InvalidDataContractException（... MoreArgs' 不能是 ISerializable 并且具有 DataContractAttribute 属性。）

删除 [DataContract] 属性会引发我期望的 InvalidDataContractException（...MoreArgs' 无法序列化。考虑使用 DataContractAttribute 属性对其进行标记...）。

同样如预期的那样，删除 ISerializable 继承会清除异常，但会导致 moreArgs.Properties 在调用 MakeCircle 时为空。

* * *

我还想知道是否有一些我可以使用的混合解决方案？也许：

*   像我第一次尝试一样接受流并构造参数字典
*   使用 MoreArgs 参数定义方法，就像我后来的尝试一样
*   从从流中提取的字典中填充一个 MoreArgs 对象
*   不知何故重新调用 WCF，说“如果你有这些参数，调用将被调用的方法”（指定原始参数字典，加上新的正确填充的 MoreArgs）。

然后 MoreArgs 也将包含原始参数，但这可能不是一场灾难。我想我可能可以使用反射进行我需要的调用，但是当 WCF 必须在内部具有此功能、调试和优化以启动时，这感觉很愚蠢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T00:13:04.873

@Melissa Avery-Weir

I'm not happy with my "solution" but I had to move forward.

At app startup, for every method I want to call, I stuff a MethodInfo in a lookup table. It's keyed by an interface and method name. I use reflection and a custom attribute to find them, but any number of techniques could work here.

My one WCF service method accepts an interface name, a method name, and a Stream as arguments. I use JSON.NET to deserialize arguments to a Dictionary and pass that to my dispatcher.

The dispatcher looks up the MethodInfo by interface and method name. Then, matching arguments from the dictionary to parameters in the MethodInfo, I fill an argument array. If the target method actually has a Dictionary moreArgs parameter, it gets any unmatched arguments. Finally I call MethodInfo.Invoke, passing the freshly populated argument array.

It's a lot of fiddly code to do some things that WCF *almost* does for me, but I didn't find a better solution.

There are some benefits of controlling all this myself. My favorite is the ability to use the saved MethodInfos to automatically generate client-side call stubs in whatever language I want.

If the late binding turns out to be a performance issue I'll consider putting all the calls manually in a big switch(methodName). If my interfaces are still changing frequently, I may try to generate that boilerplate binding code as a build step. Probably I'll never bother since I'll be bottlenecked on DB access.

# c++ - 从 vc++ 文件夹中读取 dll 版本

> ID：11465861
> 
> 赞同：0
> 
> 时间：2012-07-13T07:18:29.867
> 
> 标签：c++, visual-c++, dll

假设我有文件夹名称**DLL_FOLDER**并且其中有 2 个 dll。文件夹的结构看起来像 -

动态链接库

```
a.dll      (1.0.1.0)

b.dll      (1.1.0.0) 
```

现在我必须读取每个 dll 的版本，并与存储在注册表中的版本信息进行比较。

# javascript - Jquery click起初不适用于输入元素

> ID：11465863
> 
> 赞同：1
> 
> 时间：2012-07-13T07:18:52.177
> 
> 标签：javascript, jquery, html, css

我从互联网上得到了一个 jquery 日期选择器，脚本是这样的......

```
<script type="text/javascript">
$(document).ready(function () {
$("#date3").click(function(){
$("#date3").scroller({ preset: 'datetime' });
wheels = [];
wheels[0] = { 'Hours': {} };
wheels[1] = { 'Minutes': {} };
for (var i = 0; i < 60; i++) {
if (i < 16) wheels[0]['Hours'][i] = (i < 10) ? ('0' + i) : i;
wheels[1]['Minutes'][i] = (i < 10) ? ('0' + i) : i;
}
});
});
</script> 
```

我的问题是，当我第一次单击输入文本框时，它不起作用。我必须先单击文本框，然后单击页面中的其他位置，然后再次单击文本框以使其工作。有什么办法可以解决吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-13T07:24:56.137

如果您想在不更改代码的情况下解决问题，您可以这样做：--当您的页面加载时，它现在可以正常工作了..

```
<!-- creating a dummy button and clicking on it -->
<div style="display: none;"><input type="submit" id="dummy_btn" value="Dummy Btn" /></div>

jQuery('#dummy_btn').trigger('click'); 
});

jQuery(function(){  
   jQuery('#submitid').click(function(){

    });
    jQuery('#dummy_btn').trigger('click'); 
}); 
```

# c# - 不支持 linq to nhibernate compareto

> ID：11465866
> 
> 赞同：1
> 
> 时间：2012-07-13T07:19:05.983
> 
> 标签：c#, .net, sql, linq, nhibernate

我有 linq to nhibernate 查询：

```
var listka = 
    from i in FakturyZakupu.Queryable 
    where String.Compare(i.REJESTRY.REJ_KOD,sbWartoscBetween1.ToString()) >= 0 
    && String.Compare(i.REJESTRY.REJ_KOD,sbWartoscBetween2.ToString()) <= 0 
    select i;

lista = listka.ToList(); 
```

而且它编译得很好，但是如果我使用它，就会抛出异常：

> NotSupportedException int32 CompareTo(System.String, System.String)

我怎么能在两个值之间使用 linq 查询字符串值。就像在 SQL 中一样： select * from table where id between a and b ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T10:58:10.627

NHibernate 的 Linq 提供程序是非常[可扩展](http://weblogs.asp.net/ricardoperes/archive/2011/06/14/linq-to-nhibernate-extensions.aspx)的。您可以扩展它以允许任何表达式，只要您可以在 HQL 中编写该表达式，因为 NHibernate 的 Linq 正在转换为 HQL。

因此，如果您为 Between 编写扩展，您的代码可能如下所示：

```
var listka = 
    from i in FakturyZakupu.Queryable 
    where i.REJESTRY.REJ_KOD.Between(sbWartoscBetween1, sbWartoscBetween2) 
    select i;

lista = listka.ToList(); 
```

以下是一些帮助您入门的链接：

*   [Fabio Maulo 的 NHibernate Linq 提供程序扩展](http://fabiomaulo.blogspot.ba/2010/07/nhibernate-linq-provider-extension.html)
*   [Linq to NHibernate：带 StringComparison 选项的 String.Equals](http://www.primordialcode.com/blog/post/linq-to-nhibernate-string.equals-with-stringcomparison-option)
*   [NHibernate 3 - 扩展 Linq 提供程序以修复一些 System.NotSupportedException](http://www.primordialcode.com/blog/post/nhibernate-3-extending-linq-provider-fix-notsupportedexception)
*   [NHibernate - 自定义 Linq 提供程序以调用用户定义的 SQL 函数](http://www.primordialcode.com/blog/post/nhibernate-customize-linq-provider-user-defined-sql-functions)
*   [Linq to NHibernate 扩展](http://weblogs.asp.net/ricardoperes/archive/2011/06/14/linq-to-nhibernate-extensions.aspx)
*   [为 NHibernate 3 Linq Provider 创建 In 和 NotIn 扩展方法](http://gedgei.wordpress.com/2012/01/21/creating-in-and-notin-extension-methods-for-nhibernate-3-linq-provider/)
*   [扩展 NHibernate-LINQ 以进行正则表达式匹配](http://sentinel101.wordpress.com/2010/12/30/extend-nhibernate-linq-for-regex-matching/)
*   [NHibernate 的自定义 LINQ 扩展](http://weblogs.asp.net/ricardoperes/custom-linq-extensions-for-nhibernate)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-03T16:21:15.057

在 NHibernate v3.3.3 中，支持 String.Compare。`String.Compare(MyProp, "value") > 0`表达式中的A`Where`会产生类似于`where MyProp > 'value'`.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-08-27T16:40:12.717

使用这样的查询，您可以通过简单地使用大于 (>) 或小于 (<) 运算符而不是 String.Compare 来避免比较。例如：

```
var listka =
    from i in FakturyZakupu.Queryable
    where i.REJESTRY.REJ_KOD > sbWartoscBetween1.ToString() &&
    i.REJESTRY.REJ_KOD < sbWartoscBetween2.ToString()
    select i; 
```

您的成功可能取决于您的数据库对字符串比较的解释，但通常应该可以正常工作。

# perl - 使用 foreach 创建 Perl CGI 表

> ID：11465869
> 
> 赞同：3
> 
> 时间：2012-07-13T07:19:22.757
> 
> 标签：perl, foreach, cgi

我刚玩过 Perl CGI 和 SQLite。我认为这样的事情可以完成这项工作。

```
my $res = $dbh->selectall_arrayref("SELECT name, surename, phone FROM status;"),
print $cgi->table(
$cgi->Tr(
    { -align => "CENTER", -valign => "TOP" },
    $cgi->th( [ 'Name', 'Surename', 'Phone' ] )
),
foreach my $row (@$res){
    ( $name, $surename, $phone ) = @$row,
    print $cgi->Tr( $cgi->td($name), $cgi->td($surename), $cgi->td($phone) ),
  }
); 
```

是否需要手动创建 HTML 文档的表格？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:28:05.533

您应该熟悉[CGI 模块的 POD](http://search.cpan.org/perldoc?CGI)。在其中，您将找到一个创建表的示例：

```
print table({-border=>undef},
           caption('When Should You Eat Your Vegetables?'),
           Tr({-align=>'CENTER',-valign=>'TOP'},
           [
              th(['Vegetable', 'Breakfast','Lunch','Dinner']),
              td(['Tomatoes' , 'no', 'yes', 'yes']),
              td(['Broccoli' , 'no', 'no',  'yes']),
              td(['Onions'   , 'yes','yes', 'yes'])
           ]
           )
        ); 
```

从示例中可以看出，您确实需要指定进入表格的成分。CGI 模块的 HTML 标签助手并不是真正的魔法。它们只是密切反映它们所代表的 HTML 的 Perl 函数（或取决于您如何使用模块的方法）。如果您必须输入`<table><tr><th>...`HTML，您的标签助手将需要是`table`、、`Tr`和`th`等。在循环中使用标签或标签助手的组合就可以了，只要获取输出的 HTML 对浏览器来说是可理解的。

使用 CGI 模块的脚本可以从命令行运行，这是一个很好的调试工具，因为它们会转储原始 HTML 并在屏幕上供您查看。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-22T10:52:53.980

答案是响亮的NO。这两行代码：

```
my $cats = $db->selectall_arrayref("select * from pubs..authors");
print map { $q->Tr(undef, $q->td($_)) ."\n"} @$cats; 
```

会给你（嗯，我..）

```
<tr><td>172-32-1176</td> <td>White</td> <td>Johnson</td> <td>408 496-7223</td>     <td>10932 Bigge Rd.</td> <td>Menlo Park</td> <td>CA</td> <td>94025</td> <td>1</td></tr>
<tr><td>213-46-8915</td> <td>Green</td> <td>Marjorie</td> <td>415 986-7020</td> <td>309 63rd St. #411</td> <td>Oakland</td> <td>CA</td> <td>94618</td> <td>1</td></tr>
<tr><td>238-95-7766</td> <td>Carson</td> <td>Cheryl</td> <td>415 548-7723</td> <td>589 Darwin Ln.</td> <td>Berkeley</td> <td>CA</td> <td>94705</td> <td>1</td></tr>
.... and however many more authors from pubs 
```

为了完整起见，使用 hashref，您可以像这样拉出标题

```
my $cats = $db->selectall_hashref("select * from pubs..authors", [ au_id]);

my @rows = values %$cats; # array of hashes now

print $q->Tr(undef, $q->th([keys( %$rows[0] )])),"\n"; #borrow keys from first guy 
print map { $q->Tr(undef, $q->td( [ values(%$_) ] ) ),"\n"; }  @rows; 
```

# javascript - Ipad Safari 浏览器中 window.showModalDialog() 的兼容性问题

> ID：11465870
> 
> 赞同：0
> 
> 时间：2012-07-13T07:19:26.780
> 
> 标签：javascript, asp.net, .net, ipad, safari

我在 Ipad 的 safari 上运行我的 asp.net 应用程序，我想在打开任何弹出窗口时禁用父窗口。为此，我正在使用..

```
window.showModalDialog("Questions.aspx?store=" + Store + "&auditDate=" + AuditDate + "&section=" + SectionId, "", "dialogHeight:750px; dialogWidth:950px;center:yes;edge:raised; Scroll:Yes; "); 
```

但是 showModalDialog() 方法在 Ipad 的 safari 浏览器中不起作用，所以我正在使用 window.open() 函数。但是 showModalDialog() 的功能已经丢失。

请告诉我，如何在打开弹出窗口时禁用父窗口，并让我知道在不使用 showModalDialog() 方法的情况下实现此功能的任何替代方法，以便在所有浏览器中工作而不会出现与浏览器的兼容性问题。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-13T08:58:19.417

window.showModalDialog 仅适用于 IE。您应该考虑将 JQuery UI 用于您的模态对话框[Jquery UI](http://jqueryui.com/)。

# ios - 使用 Graph API 在个人资料帖子中标记用户

> ID：11465871
> 
> 赞同：0
> 
> 时间：2012-07-13T07:19:26.983
> 
> 标签：ios, facebook, facebook-graph-api

我正在为 iOS 开发一个应用程序，并尝试实现官方 Facebook 应用程序中的“标记”人员功能。当你标记人时，它会自动显示“blablabla With username”。

API 还要求我标记一个地点。为什么是这样？我只想说“我使用用户名”。不指定地点。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T18:11:13.097

我不这么认为，来自文档：

> tags 在此帖子中标记的人员的 Facebook ID 的逗号分隔列表。例如：1207059,701732。该字段在读取 Post 时作为 with_tags 字段返回。注意：您不能在不指定地点的情况下指定此字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T11:36:51.147

您可以向 Graph API 端点发出直接 POST `me/posts`，这使您可以选择标记人员和/或添加位置。有关更多信息，请参阅[https://developers.facebook.com/docs/reference/api/user/#posts](https://developers.facebook.com/docs/reference/api/user/#posts)。

# lisp - 检查元素是否是列表的成员

> ID：11465874
> 
> 赞同：1
> 
> 时间：2012-07-13T07:19:54.360
> 
> 标签：lisp, common-lisp, membership

我想做一个迭代函数来计算元素 el 是否是列表的成员并返回一个原子。

;;; 这是列表 (setf lst '(abcde 1 2 3 4 5))

;;;这是检查它是否是列表成员的函数。

```
(defun checklist (a lst)
           (if (member a alist)
               a)) 
```

当我输入 -> (checklist 1 lst) 时，它返回数字......但是当我输入字母时，它返回错误。..任何人都可以帮我说明问题是什么？提前致谢 。

==================================================== ===============================

当我输入->（问题5 a lst）

它给了我这样的错误。

CG-USER(7): (question5 a lst) 错误：尝试获取未绑定变量“A”的值。[条件类型：UNBOUND-VARIABLE]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:29:09.933

那是家庭作业吗？

如是：

我不认为`member`对你有用。如果你想做一个迭代解决方案，那么你会使用类似`DO`or的东西`DOLIST`。

如果不：

Common Lisp 有一个函数可以按顺序查找元素（列表、向量、字符串...）`FIND`：.

**补充**：使用`(question5 'a lst)`

另请注意，您的定义有一个不幸的部分：

```
(checklist nil '(a b c))

(checklist nil '(a b c nil)) 
```

两者都会返回`NIL`。

顺便说一句，Touretzky 的 Lisp 介绍书可免费下载： [http](http://www.cs.cmu.edu/~dst/LispBook/) ://www.cs.cmu.edu/~dst/LispBook/ 这本书很好地介绍了 Lisp 编程的基础知识。

# ios - 如何获取关于窗口的按钮位置

> ID：11465876
> 
> 赞同：0
> 
> 时间：2012-07-13T07:20:05.247
> 
> 标签：ios, uiscrollview, cgrectmake

我有滚动视图，其中有 12 个按钮。在窗口上一次只能看到四个按钮。出于动画目的，我需要按钮相对于窗口的位置。

我遵循了这些方法，但它对我不起作用：

```
[btn.superview convertPoint:btn.frame.origin toView:nil];

btnImgeView.frame= CGRectMake(btn.frame.origin.x + 10, 240, btn.frame.size.width, btn.frame.size.height); 
```

btn.frame.origin.x 从 scrollView 的原点而不是从屏幕的原点获取坐标。

如何获取按钮相对于窗口的位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:04:04.573

从您的描述看来，您真正想要做的是在显示按钮的位置显示图像视图，但它的位置在滚动视图内。

正如怀疑的那样，这里计算屏幕坐标不是正确的方法。相反，您需要使用滚动视图的位移来偏移按钮的 rect/origin 以确定正确的位置。

使用滚动视图的`-contentOffset`属性来获取`CGPoint`指示内容的偏移量。从按钮的边界原点中减去该点（或者`center`如果您想要更方便的东西）。这将为您提供显示图像的正确点（相对于滚动视图的框架原点）。

如果您不在滚动视图中显示图像，您可以使用`-[UIView convertPoint:fromView:]`或将该点转换为超级视图的坐标系`[UIView convertPoint:toView:]`。

# zend-framework - Zend Framework - 之前没有回声的重定向不起作用

> ID：11465877
> 
> 赞同：0
> 
> 时间：2012-07-13T07:20:06.083
> 
> 标签：zend-framework, redirect, header

下面的代码**不会**重定向：

```
return $this->_helper->redirector->gotoUrl('/customer/'); 
```

但是这个**确实**重定向：

```
echo 'redirect';
return $this->_helper->redirector->gotoUrl('/customer/'); 
```

有任何想法吗？它们都在我的本地主机上工作，但只有第二个在我客户的机器上工作。我可以在每次重定向调用之前添加 echo 'something' 但不确定为什么会这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:39:08.663

像这样尝试一次：

```
$this->_redirect("/customer/"); 
```

它肯定会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:43:56.533

在您的控制器中，您应该使用重定向...

`$this->_redirect('/customer/', array('exit' => true, 'code' => 301));`

# classification - GTZAN 音乐流派数据集

> ID：11465880
> 
> 赞同：8
> 
> 时间：2012-07-13T07:20:36.360
> 
> 标签：classification

我想在公共数据集中测试我的音乐流派算法，以与其他预先存在的算法进行比较。在 MIREX 的情况下，所有数据都不可用。我发现 GTZAN 数据集在链接中可用（marsyas.info/download/data_sets）但是，我现在不可用。

你知道我怎样才能得到这些数据吗？因为我使用 MFCC 以外的其他功能，所以我需要流派注释以及音乐。

提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-30T13:10:29.797

编辑：现在看来，Marsyas 页面托管在[marsyasweb.appspot.com 上，您可以在](http://marsyasweb.appspot.com/)[数据](http://marsyasweb.appspot.com/download/data_sets/)集子页面中找到 GTZAN 数据库的链接。

我还在为我的大学项目寻找 GTZAN 数据集，但我发现它`http://marsyas.info`已经关闭，所以我使用[了 marsyas.info/download/data_sets 的谷歌网络缓存](http://webcache.googleusercontent.com/search?q=cache:cSvciVtuFRMJ:marsyas.info/download/data_sets%20&cd=1&hl=sk&ct=clnk&gl=sk&client=opera)（查看更多信息）。幸运的是，GTZAN 数据集托管在`http://opihi.cs.uvic.ca`，您可以[下载它们](http://opihi.cs.uvic.ca/sound/genres.tar.gz)！

但在使用数据集之前要注意许可（来自缓存的 marsyas 下载页面的信息）：

> 该数据集用于 G. Tzanetakis 和 P. Cook 在 2002 年 IEEE Transactions on Audio and Speech Processing 中的流派分类“音频信号的音乐流派分类”中的著名论文。
> 
> 不幸的是，数据库是在我研究的早期逐渐收集的，所以我没有标题（显然没有版权许可等）。这些文件是在 2000-2001 年从各种来源收集的，包括个人 CD、收音机、麦克风录音，以代表各种录音条件。尽管如此，我一直应要求将其提供给研究人员，主要用于比较等目的。如果您打算使用此数据集发布实验结果，请联系 George Tzanetakis (gtzan@cs.uvic.ca)。
> 
> 该数据集由每 30 秒长的 1000 个音轨组成。它包含 10 个流派，每个流派由 100 首曲目表示。曲目均为 .wav 格式的 22050Hz 单声道 16 位音频文件。

也许您还会对 Magnatagatune - 等其他数据集感兴趣`http://tagatune.org/Magnatagatune.html`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-10-28T05:21:17.350

我意识到很久以前就已经回答了这个问题，但我觉得有必要用我的答案更新这个线程。

根据您的流派分类实现，我假设它是基于内容的（频谱图在深度学习方法中广泛使用，但是，您确实提到了 MFCC），您可能会发现很容易找到已经从音频中提取的特征的数据集. 这可能是直接将您的结果与其他方法进行比较的最简单方法。

为此，您可以使用拉丁音乐数据库，您可以从[这里](https://sites.google.com/site/carlossillajr/resources/the-latin-music-database-lmd)获得，免费音乐档案，您可以从[这里](https://github.com/mdeff/fma)获得，希腊音乐或音频数据集，您可以从[这里](https://hilab.di.ionio.gr/index.php/en/music-information-research/)获得，CAL10k/CAL500 数据集，你可以从[这里](http://calab1.ucsd.edu/~datasets/)得到，几乎所有你可以从这个[网站](http://www.audiocontentanalysis.org/data-sets/)上抓取的其他数据集。

否则，我建议您自己提取这些特征，使用一些特征提取库或工具箱，这样就可以使用 [GTZAN](http://marsyasweb.appspot.com/download/data_sets/)或[Ballroom数据集（或其他任何有音频文件的数据集）。](http://mtg.upf.edu/ismir2004/contest/tempoContest/node5.html)*betatester07*的链接目前仍然有效！

我发现最容易使用的特征提取方法是[jAudio](http://jaudio.sourceforge.net/)或[LibROSA](https://librosa.github.io/)，分别用于 Java 和 Python。使用 jAudio，您还可以从命令行调用它，或者只使用 gui，它还接受批处理文件，因此您可以一次处理一大堆音频文件。使用这些提取方法，如果它们在您尝试实现或比较的论文中抬起丑陋的头脑，您可以获得与那些标准特征相匹配的所有特征。

小心使用这些标准的“基准”数据集，因为它们仍然存在缺陷。为此，您想查看 Sturm 的[工作](http://www.eecs.qmul.ac.uk/~sturm/)。

希望有帮助:)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-27T19:52:12.283

我也在寻找这样的基准。
我在一篇名为“From Sound to 'Sense' via Feature Extraction and Machine Learning - Deriving High-Level Descriptors for Characterizing Music”的论文中找到了这一点：

> 音乐信息检索社区目前正在努力编译标记音乐的大型存储库，所有感兴趣的研究人员都可以在没有版权问题的情况下使用这些存储库。这方面值得注意的例子是 Masataka Goto 的 RWC 音乐数据库 (http://staff.aist.go.jp/m.goto/RWC-MDB)、美国大学的 IMIRSEL（国际音乐信息检索系统评估实验室）项目伊利诺伊州厄巴纳-香槟分校 (http://www.music-ir.org/evaluation — 另见 [12])，以及新的 FreeSound Initiative (http://freesound.iua.upf.edu)。

但我找不到任何有用的东西。[这里](http://staff.aist.go.jp/m.goto/RWC-MDB/#how_to_use)描述了获取第一个提到的数据库副本的过程，但它看起来非常复杂！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-25T09:05:35.723

听起来您可能想要[百万歌曲数据集](http://labrosa.ee.columbia.edu/millionsong/)，其中有一百万首歌曲，带有音频功能、标签、歌词等，由 Echonest 和 Labrosa 发布。当然，这是假设您正在处理音乐元数据和转录。

如果您正在寻找原始音频……那是另一回事。我不知道您是否想发表，在这种情况下，知识产权法可能是一个更重要的因素。但是对于私人测试，我怀疑你可以只使用你自己的音乐库中的文件（例如，iTunes 下载已经有一个流派标签来测试你的算法）。

免责声明：我不是律师。接受我的法律建议，风险自负。

# azure - hadooponazure 中的直接 HDFS 访问

> ID：11465881
> 
> 赞同：0
> 
> 时间：2012-07-13T07:20:38.203
> 
> 标签：azure, hadoop, hdfs

[来自： http](http://social.msdn.microsoft.com/Forums/en-US/windowsazuredevelopment/thread/5030259c-3255-4aa7-a348-e102c007ce0d/) ://social.msdn.microsoft.com/Forums/en-US/windowsazuredevelopment/thread/5030259c-3255-4aa7-a348-e102c007ce0d/

我正在检查预发布服务[https://www.hadooponazure.com](https://www.hadooponazure.com)。除了通常的作业执行之外，我还想从我的应用程序访问 HDFS。我正在尝试在名称节点上运行它，可通过 RDP 获得。

我已经尝试了 stahdard Java HDFS 驱动程序（使用 org.apache.hadoop.fs.FileSystem.get() 方法打开），包括名称节点配置（'C:\Apps\dist\conf'）到类路径中。据我了解，这应该足以以与名称节点相同的方式将我的应用程序连接到 HDFS 集群。

但我得到以下异常：

```
Exception in thread "main" java.io.IOException: Failed on local exception: java.io.EOFException; Host Details : local host is: "RD00155D42B620/10.*.*.*"; destination host is: ""10.*.*.*":9000;
        at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:724)
        at org.apache.hadoop.ipc.Client.call(Client.java:1090)
        at org.apache.hadoop.ipc.WritableRpcEngine$Invoker.invoke(WritableRpcEngine.java:193)
        at $Proxy6.getFileInfo(Unknown Source)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:100)
        at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:65)
        at $Proxy6.getFileInfo(Unknown Source)
        at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:1170)
        at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:725)
        at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1165)
        at org.gridgain.examples.dataload.GridCacheHdfsDataLoaderExample.populateHdfs(GridCacheHdfsDataLoaderExample.java:225)
        at org.gridgain.examples.dataload.GridCacheHdfsDataLoaderExample.main(GridCacheHdfsDataLoaderExample.java:93)
Caused by: java.io.EOFException
        at java.io.DataInputStream.readInt(DataInputStream.java:392)
        at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:818)
        at org.apache.hadoop.ipc.Client$Connection.run(Client.java:756) 
```

（其中 10\. *.* .* 是名称节点的 ip，我正在运行我的应用程序）。

我认为这种连接失败是由某种 Azure 的内部策略引起的。

所以我有两个主要问题：

1.  该服务是否支持到 HDFS 的外部连接？
2.  我尝试使用名称节点的配置连接到 HDFS 是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T00:29:19.313

根据我的经验，您的错误表明服务器（Azure 端）上部署的 Hadoop 库与您尝试运行代码的版本之间存在版本不匹配。

# ios - 在 voip 通话期间以编程方式启用扬声器

> ID：11465883
> 
> 赞同：6
> 
> 时间：2012-07-13T07:20:57.263
> 
> 标签：ios, ios5, core-audio, voip, twilio

我想在 ios 应用程序的 voip 通话期间以编程方式启用扬声器。有可能吗？怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-04-19T15:19:50.670

**斯威夫特 3.0**

```
try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord, mode: AVAudioSessionModeVoiceChat, options: .defaultToSpeaker)
try AVAudioSession.sharedInstance().overrideOutputAudioPort(.speaker)
try AVAudioSession.sharedInstance().setActive(true) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T20:55:41.180

在 Apple 的音频会话文档中查找 kAudioSessionProperty_OverrideAudioRoute 键和 kAudioSessionOverrideAudioRoute_Speaker 属性。

# ios - 看不到 AppIdentifier

> ID：11465885
> 
> 赞同：0
> 
> 时间：2012-07-13T07:21:05.603
> 
> 标签：ios, xcode4.2

我无法在 xcode 管理器中看到应用标识符！

![截屏](../Images/914a89492a0d92fd10558dd9b5965372.png)

我正在使用 XCode - 4.2。是什么导致了这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:46:57.823

您必须将配置文件安装到项目中（双击项目）。在此之后，您应该设置应用程序标识符（您甚至可以在配置文件中看到它 - 打开项目文件，从“目标”项目中选择，选择“构建设置”选项卡，然后找到代码签名标识。打开列表，在那里您可以看到已安装的配置文件，以及彼此对应的应用标识符）。因此，您应该将此应用标识符放入：

1.  [projname]-Info.plist 文件，用于捆绑标识符属性
2.  项目文件->目标->选择项目->摘要->标识符（警告：如果在Info.plist文件中的捆绑标识符处，您不能修改标识符`${PRODUCT_NAME:rfc1034identifier}`。在这种情况下，您应该从info.plist文件中更改）。

现在，返回构建设置，您现在可以选择相应的配置文件。如果有必要：从左侧列表中选择：项目 -> 项目名称 -> 构建设置选项卡 -> 代码签名 -> 选择配置文件。

现在，在管理器中应该可以看到应用标识符。

# javascript - 是否可以从带有 HTML 的任意字符串创建 Jquery 对象，例如 var $newlink = $(' new link ')

> ID：11465900
> 
> 赞同：1
> 
> 时间：2012-07-13T07:22:16.457
> 
> 标签：javascript, jquery

所以还不是附加到 dom 的对象，但我希望通过传递 HTML 字符串来创建一个对象，并在插入 dom 后保留对该元素的引用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:23:13.973

```
var link = $( '<a></a>').html( str );
link.appendTo( document.body ); 
```

而且您仍然可以使用`link`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:49:04.500

你也可以这样做：

```
 $('<a/>',{  
        id:'test', //add ID
        text: str, //add Text
        href:'http://www.yourlinkhere.com', //link target
        css:{                
            'color':'#000' //whatever style u want
        }        
    }).appendTo('body'); // append to whatever element u want in this case 'body' 
```

或将其附加到变量

```
var link = $('<a/>',{text:str}); 
```

# c# - 将数据集项目导出到 Excel 工作表

> ID：11465902
> 
> 赞同：0
> 
> 时间：2012-07-13T07:22:17.823
> 
> 标签：c#, asp.net

我在我的 asp.net 应用程序中使用 Followin LOC 导出到 Excel 表和从 Excel 表导入

```
 protected void LinkbuttonExportToExcel_Click(object sender, EventArgs e)
{
    UserManager manager = new UserManager();
    DataSet dataSet = manager.GetProductDataToExport();

    string attachment = "attachment; filename=Report.xls";
    Response.ClearContent();
    Response.AddHeader("content-disposition", attachment);
    Response.ContentType = "application/vnd.ms-excel";
    string tab = "";
    string tab1 = "";
    foreach (DataTable table in dataSet.Tables)
    {
        foreach (DataColumn column in table.Columns)
        {
           Response.Write(tab1 + column.ColumnName);
           tab1 = "\t";
        }
    }
    tab = "\n";
        foreach (DataRow dr in dataSet.Tables[0].Rows)
    {
       for (int i = 0; i < dataSet.Tables[0].Columns.Count; i++)
        {
          Response.Write(tab + dr[i].ToString());
          tab = "\t";
        }
        tab = "\n";
    }
    Response.End();
}

protected void ButtonImportDataFromExcel_Click(object sender, EventArgs e)
{
    FileUpload1.PostedFile.SaveAs(Server.MapPath("~/App_Data/ProductImport.xls"));
    OleDbConnection objXConn = new OleDbConnection();
    objXConn.ConnectionString = ConfigurationManager.ConnectionStrings["sqlXCon"].ConnectionString;
   if (objXConn.State == ConnectionState.Closed)
    {
        objXConn.Open();
    }

        DataTable dt = new DataTable();
        dt = objXConn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
        string excelSheetName = string.Empty; ;
        foreach (DataRow row in dt.Rows)
        {
          excelSheetName = row["TABLE_NAME"].ToString();
        }
        OleDbCommand cmd = new OleDbCommand("SELECT * FROM [" +  excelSheetName + "]", objXConn);
        OleDbDataReader rd = cmd.ExecuteReader();
        UserManager manager = new UserManager();

        while (rd.Read())
        {
            int productId = int.Parse((rd.GetValue(0).ToString()));
            string productName = (rd.GetValue(1).ToString());
            string productNameHindi = (rd.GetValue(2).ToString());
            decimal productPrice = decimal.Parse((rd.GetValue(3).ToString()));
            string productStatus = (rd.GetValue(4).ToString());
            manager.UpdateProductMasterFromExcelSheet(productId, productName);
        }
    }
    else
    {
        objXConn.Close();
    }
    msgBox1.alert("Products updated successfully");
} 
```

}

我正在使用以下连接字符串..

```
<add name="sqlXCon" connectionString="Provider=Microsoft.Jet.OLEDB.4.0;Data Source='|DataDirectory|ProductImport.xls';Extended Properties='Excel 8.0;HDR=YES;IMEX=1;';" /> 
```

文件 Report.xls 成功导出。但问题是我无法导入“Report.xls”，除非我打开文件并再次将其另存为 .xls。为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T08:38:32.247

有关 Excel InterOp 的更多信息。请参考这个网站..

[Excel.Interop](http://www.dotnetperls.com/excel)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:31:14.290

使用 Excel Libraray，从[http://code.google.com/p/excellibrary/downloads/list下载](http://code.google.com/p/excellibrary/downloads/list)

```
using System;
using System.Data;
using System.IO;
 using ExcelLibrary.SpreadSheet;

 namespace ExcelLibrary
 {
 /// <summary>
 /// Provides simple way to convert Excel workbook into DataSet
 /// </summary>
 public sealed class DataSetHelper
 {
/// <summary>
/// Populate all data (all converted into String) in all worksheets 
/// from a given Excel workbook.
/// </summary>
/// <param name="filePath">File path of the Excel workbook</param>
/// <returns>DataSet with all worksheet populate into DataTable</returns>
public static DataSet CreateDataSet(String filePath)
{
    DataSet ds = new DataSet();
    Workbook workbook = Workbook.Load(filePath);
    foreach (Worksheet ws in workbook.Worksheets)
    {
        DataTable dt = PopulateDataTable(ws);
        ds.Tables.Add(dt);
    }
    return ds;
}

/// <summary>
/// Populate data (all converted into String) from a given Excel 
/// workbook and also work sheet name into a new instance of DataTable.
/// Returns null if given work sheet is not found.
/// </summary>
/// <param name="filePath">File path of the Excel workbook</param>
/// <param name="sheetName">Worksheet name in workbook</param>
/// <returns>DataTable with populate data</returns>
public static DataTable CreateDataTable(String filePath, String sheetName)
{
    Workbook workbook = Workbook.Load(filePath);
    foreach (Worksheet ws in workbook.Worksheets)
    {
        if (ws.Name.Equals(sheetName))
            return PopulateDataTable(ws);
    }
    return null;
}

private static DataTable PopulateDataTable(Worksheet ws)
{
    CellCollection Cells = ws.Cells;

    // Creates DataTable from a Worksheet
    // All values will be treated as Strings
    DataTable dt = new DataTable(ws.Name);

    // Extract columns
    for (int i = 0; i <= Cells.LastColIndex; i++)
        dt.Columns.Add(Cells[0, i].StringValue, typeof(String));

    // Extract data
    for (int currentRowIndex = 1; currentRowIndex <= Cells.LastRowIndex; currentRowIndex++)
    {
        DataRow dr = dt.NewRow();
        for (int currentColumnIndex = 0; currentColumnIndex <= Cells.LastColIndex; currentColumnIndex++)
            dr[currentColumnIndex] = Cells[currentRowIndex, currentColumnIndex].StringValue;
        dt.Rows.Add(dr);
    }

    return dt;
}

/// <summary>
/// Populate all data from the given DataSet into a new Excel workbook
/// </summary>
/// <param name="filePath">File path to new Excel workbook to be created</param>
/// <param name="dataset">Source DataSet</param>
public static void CreateWorkbook(String filePath, DataSet dataset)
{
    if (dataset.Tables.Count == 0)
        throw new ArgumentException("DataSet needs to have at least one DataTable", "dataset");

    Workbook workbook = new Workbook();
    foreach (DataTable dt in dataset.Tables)
    {
        Worksheet worksheet = new Worksheet(dt.TableName);
        for (int i = 0; i < dt.Columns.Count; i++)
        {
            // Add column header
            worksheet.Cells[0, i] = new Cell(dt.Columns[i].ColumnName);

            // Populate row data
            for (int j = 0; j < dt.Rows.Count; j++)
                worksheet.Cells[j + 1, i] = new Cell(dt.Rows[j][i]);
        }
        workbook.Worksheets.Add(worksheet);
    }
    workbook.Save(filePath);
}
 }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:34:32.460

发生这种情况的原因是因为您并没有真正导出 Excel 文件：您的 LinkbuttonExportToExcel_Click 会生成一个制表符分隔值文件，该文件可以由 Excel 打开，但不是 Excel 文件。

另一方面，您的 ButtonImportDataFromExcel_Click 函数从 Excel 文件中读取（该文件必须是真正的 Excel 文件，而不是 TSV）

因此，您实际上必须手动打开它并通过再次保存将其转换为 xls。

为此，如果您的服务器上有 Excel，您可以使用 Excel.Interop 生成您的 Excel 文件，或者使用开源库来生成您的 Excel 文件。

# bash - 从 NodeJS 捕获 bash 输出

> ID：11465907
> 
> 赞同：1
> 
> 时间：2012-07-13T07:22:39.987
> 
> 标签：bash, node.js

是否可以使用节点启动并继续捕获某个 bash 进程的输出？例如：假设我正在运行`tail /some/file`，我怎样才能继续聆听打印的每一行新行并对输出采取行动？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-13T07:50:02.137

```
var spawn = require('child_process').spawn,
    tail  = spawn('tail', ['-f', '/tmp/somefile']);
tail.stdout.pipe(process.stdout); 
```

child_process 模块有[据可查](http://nodejs.org/api/child_process.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-13T16:21:01.453

为了完整起见，我也添加了这个答案。

您可以`child_process.spawn`用来生成一个进程并监控它的输出。但是，对于不会长时间或连续运行的命令（如 tail、cat 等），您可以直接使用[`child_process.exec`](http://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback)它，它会捕获整个输出`stdout`并`stderr`一次性提供给您。

```
var cp = require("child_process");

cp.exec("tail /some/file", function (err, stdout, stderr) {
    // If an error occurred, err will contain that error object
    // The output for the command itself is held in stdout and stderr vars
}); 
```

# c# - SPGridView 渲染

> ID：11465913
> 
> 赞同：0
> 
> 时间：2012-07-13T07:23:12.103
> 
> 标签：c#, sharepoint, sharepoint-2010

我有一个带有数据的 SPGridview 并且工作正常。我启用了允许排序。

我单击标题，功能按预期工作，但由于某种原因，SPGridView 然后呈现 2 次（并排）对于可排序标题的每次单击，都会添加另一个 SPGridView。

我目前的工作方式是在 Visual Web 部件中，因此 SPGridView 被创建为用户控件，然后将其添加到 Web 部件中，并且 Web 部件在页面上。

我认为在重新加载页面时，控件被删除，请求被处理，然后它被再次渲染，但似乎并非如此。我以前从未遇到过任何其他用户控件的这个问题，我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:00:34.077

回发是原因......当您进行排序时，页面会重新加载并且网格会重新创建。您是否尝试使用 (!Page.IsPostBack) { } ？

# asp.net-mvc-3 - 在MVC3中将剃刀转换为aspx

> ID：11465915
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:23:23.960
> 
> 标签：asp.net-mvc-3, c#-4.0

嗨，伙计们，我有一个剃须刀文件 Index.cshtml 需要转换为 aspx ......谁能帮助我如何声明类并将 .cshtml 中的所有内容建模为 .aspx

这是我的`Index.cshtml`代码

**索引.cshtml**

* * *

```
@model  IEnumerable<Gridview_BugTracker.Models.BugTracker_DataHelper>
@{
    ViewBag.Title = "Projects";
}          

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table>
    <tr>
        <th>
            ProjectName
        </th>
        <th>
            Description     
        </th>
        <th>
            Status
        </th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.projectName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.status)
        </td>       
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.projectName }) |
            @Html.ActionLink("Details", "Details", new { id = item.Description }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.status })
        </td>
    </tr>
    }
</table> 
```

请谁能告诉我如何在MVC3的aspx中编写这段代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:07:47.200

阿尼尔，

它困扰着我，你发现这很难做到，我不得不回来告诉你如何自己做的基本细节（教一个人钓鱼等.. :-)）。无论如何，在您的情况下，从顶部开始，执行 aspx 页面所具有的 NORMAL 内容：

```
<%@ Page Language="C#" MasterPageFile="~/Views/Shared/Site.Master" 
Inherits="System.Web.Mvc.ViewPage<IEnumerable<Gridview_BugTracker.Models.BugTracker_DataHelper>>" %> 
```

好的，现在进入示例块：

剃刀：

```
@foreach (var item in Model) 
```

aspx：

```
<% foreach (var item in Model) { %>
    //... stuff 
    <%: Html.DisplayFor(modelItem => item.Description) %>
    // more stuff
    <%: Html.ActionLink("Edit", "Edit", new { id = item.projectName }) %> |
    <%: Html.ActionLink("Details", "Details", new { id = item.Description })%> |
<% } %> 
```

如您所见，纯粹的语法更改需要不超过 5 分钟。

祝你好运——让我知道结果如何。

# ios - cellForRowAtIndexPath 数据源方法的问题

> ID：11465923
> 
> 赞同：2
> 
> 时间：2012-07-13T07:23:45.443
> 
> 标签：ios, uitableview

我的问题如下：我将一个可变数组分配给它，`cellForRowAtIndexPath`以便它在一个单元格中显示每个数组对象。到目前为止一切顺利，单元格按预期显示。现在我想在第一个单元格中显示（根据条件）a `UILabel`，以便其他可变数组对象将转移到第二个单元格和第三个单元格等。问题是，当我测试该条件时，它是true，`UILabel`显示在第一个单元格**中，第一个 object**。所以实际上，两个元素在同一个单元格中，这不是我所期望的。我希望（当条件为真时）移动所有元素，以便它们从第二个单元格显示，以便将第一个单元格留给`UIlabel`.

我的相关代码没有给我我的期望，是这样的：

```
- (UITableViewCell*)tableView:(UITableView *)_tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

     UITableViewCell *cell = [_tableView dequeueReusableCellWithIdentifier:@"any-cell"];

 // Add and display the Cell     
      cell.tag = [indexPath row];
      NSLog(@"cell.tag= %i",cell.tag);
      //test the condition, if it's ok, then add the label to the first cell
      if ([self isNoScoreLabelDisplayed] && cell.tag==0) {
        UILabel *lbl=[[UILabel alloc]initWithFrame:CGRectMake(0, 0, 220, 50)];
        [lbl setBackgroundColor:[UIColor greenColor]];
        [cell addSubview:lbl];
      }
    cell.tag = [self isNoScoreLabelDisplayed]?[indexPath row]+1:[indexPath row];//here i wanted to shift the tags in case the condition is true, so that all the elements will be displayed from the second cell. But seems not doing what i want :(

      //
      if (indexPath.row < cellList.count) {

            [cell addSubview:[cellList objectAtIndex:[indexPath row]]];//cellList is the mutable array from which i get all the elements to display in the cells

      }else{

            [cell addSubview:nextButton];
      }

      return cell;
} 
```

我的逻辑是否遗漏了什么？提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:42:40.907

您将 indexPath.row 直接与模型索引相关联，此时它们应该为“标题”单元格偏移。

```
if (indexPath.row && (indexPath.row - 1) < cellList.count) {
            [cell addSubview:[cellList objectAtIndex:indexPath.row - 1]];
} else { 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:55:19.643

我会为此使用两个单元格标识符，一个用于 LabelCell，一个用于常规 ArrayCell，这将为您清除问题，并且您不会获得带有标签和对象的单元格。

另外我真的不知道你在做什么，但看起来你每次都向一个单元格添加子视图，但你不会在任何地方删除它们。不要忘记细胞被重复使用......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:00:15.170

嗨，在我看来，您检查标签条件然后在 mutablearray 中添加相同的对象，因为第一行的 indexPath.row==0 < cell.count。

```
cell.tag = [self isNoScoreLabelDisplayed]?[indexPath row]+1:[indexPath row];//here i wanted to shift the tags in case the condition is true, so that all the elements will be displayed from the second cell. But seems not doing what i want :( 
```

因此，如果您必须显示标签，上面的代码只需将您的单元格标记设置为 indexpath.row + 1，但下面的代码（记住第一次 indexPath.row == 0，因此即使您显示标签）添加相同的数组对象:-)

```
if (indexPath.row < cellList.count) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:42:39.620

您可以将标签的文本作为第一个元素插入容器中并检查它。这样，您将节省对索引偏移和代码进一步复杂性的任何需求。

例如

```
[cellList insertObject:@"Label name" atIndex:0];
if ([cell tag] == 0) {
    // add required label
}
else {
    // do whatever you do for your standard cells, getting them with [cellList objectAtIndex:[indexPath row]];
} 
```

# c# - 在数据网格中转换行（重命名）

> ID：11465927
> 
> 赞同：0
> 
> 时间：2012-07-13T07:23:56.993
> 
> 标签：c#, wpf, datetime

我使用`LoadingRow`事件，我需要：

如果 4 列中的值行 =`01.01.0001 0:00:00`然后重命名为`No payment`，否则设置默认值...

```
DataRowView item = e.Row.Item as DataRowView;
DataRow row = item.Row;
var time = row[4];
if (Convert.ToString(time) == "01.01.0001 0:00:00")
{
   row[4] = "No payment";
} 
```

但是输入 row[4] - 是`DateTime`，我有错误，因为**不将日期时间转换为字符串**，请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:28:43.670

您不能更改列的*类型*，但可以向*DataTable添加**额外的**字符串*类型列。或者，您可以尝试[LINQ to DataSet](http://msdn.microsoft.com/en-us/vstudio/bb688086.aspx)。

# c# - 如何在c#的子表中插入外键值

> ID：11465928
> 
> 赞同：0
> 
> 时间：2012-07-13T07:23:58.177
> 
> 标签：c#, insert, foreign-keys

我正在尝试使用参数插入查询静态填充子表中的外键值我得到了成功但是当我尝试动态执行它时它不起作用

我的父表是`Customer` custId(pk),CustName,contact 是那里的字段

子表是`_order` orderId(pk),item,qauntity,cust_Id(fk) 是 filelds

我在 c# 中插入的代码是：

```
SqlCommand scmd = new SqlCommand("insert into Customer (custname,contact)values(@custname,@contact)", conn);
                scmd.Parameters.AddWithValue("@custname", cusname.Text);
                scmd.Parameters.AddWithValue("@contact", contact.Text);
                scmd.ExecuteNonQuery();

  SqlCommand scmd1 = new SqlCommand("insert into  _order (item,qauntity,cust_Id) select @item,@qauntity,custId from Customer where custId= @custId", conn);
                scmd1.Parameters.AddWithValue("@item", item.Text);
                scmd1.Parameters.AddWithValue("@qauntity", qauntity.Text);
                scmd1.ExecuteNonQuery(); 
```

当我在第二个查询中给出一个硬代码值时它在哪里工作但如何动态地做我想每个人都理解我的问题请帮助谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:33:49.813

尝试一下：

```
SqlCommand scmd = new SqlCommand("insert into Customer (custname,contact)values(@custname,@contact); SELECT SCOPE_IDENTITY()", conn);
scmd.Parameters.AddWithValue("@custname", cusname.Text);
scmd.Parameters.AddWithValue("@contact", contact.Text);
int custId = Convert.ToInt32(scmd.ExecuteScalar());

SqlCommand scmd1 = new SqlCommand("insert into  _order (item,qauntity,cust_Id) VALUES(@item,@qauntity,@custId)", conn);
scmd1.Parameters.AddWithValue("@item", item.Text);
scmd1.Parameters.AddWithValue("@qauntity", qauntity.Text);
scmd1.Parameters.AddWithValue("@custId", custId);
scmd1.ExecuteNonQuery(); 
```

# python - python加密RSA问题

> ID：11465936
> 
> 赞同：5
> 
> 时间：2012-07-13T07:24:52.550
> 
> 标签：python, cryptography, rsa, pycrypto

python Crypto包中的RSA加密/解密似乎存在问题：

```
from Crypto.PublicKey import RSA
from os import urandom
def test(keylen, datalen, rand_len):
    k = RSA.generate(keylen)
    ok, fail = (0,0)
    for i in range(1000):
        a = urandom(datalen)
        if a == k.decrypt(k.encrypt(a, urandom(rand_len))):
            ok += 1
        else:
            fail += 1
    return ok, fail 
```

无论我使用什么 keylen/datalen/rand_len 组合，我都无法 100% 地解密。它只是我安装的 Crypto 吗？

```
>>> test(1024,128,0)
(853, 147)
>>> test(1024,127,0)
(996, 4)
>>> test(2048,127,0)
(994, 6) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:05:04.993

尝试这个：

```
from Crypto.PublicKey import RSA
from os import urandom
def test(keylen, datalen, rand_len):
    k = RSA.generate(keylen)
    ok, fail = (0,0)
    for i in range(1000):
        a = urandom(datalen).lstrip(b'\x00')
        if a == k.decrypt(k.encrypt(a, urandom(rand_len))):
            ok += 1
        else:
            fail += 1
    return ok, fail 
```

解释：

pycrypto 对数字进行操作，而不是在内部对字节进行操作，这意味着将不考虑前导零。`encrypt`并且`decrypt`非常低级。

对于签名，您应该使用[`Signature`](https://www.dlitz.net/software/pycrypto/api/current/Crypto.Signature-module.html)包（pycrypto2.5+），它负责正确填充您的消息。否则你必须自己填写你的信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:00:58.820

`\x00'`对于以 NUL ( )开头的输入字符串，每次解密失败都会发生。如果您将原始字符串与解密版本进行比较，您会注意到原始字符串以开头`'\x00'`并且恢复的版本将删除第一个字节，例如

```
>>> a = '\x00\xa4\x8aE\xb5,\x1a\x95)Q'
>>> b = k.decrypt(k.encrypt(a, urandom(rand_len)))
>>> a == b
False
>>> len(a)
10
>>> len(b)
9
>>> a
'\x00\xa4\x8aE\xb5,\x1a\x95)Q'
>>> b
'\xa4\x8aE\xb5,\x1a\x95)Q' 
```

您会注意到，除了第一个字节之外，a 和 b 是相同的。

显然 NUL 对于 C 字符串终止很重要，但我很惊讶它以这种方式失败，而不是简单地将原始字符串视为空字符串。我猜该库只是跳过任何前导 NUL 并使用字符串的其余部分进行加密。

# javascript - IE8 不允许 javascript 引用，但 IE9 可以吗？

> ID：11465941
> 
> 赞同：2
> 
> 时间：2012-07-13T07:25:07.237
> 
> 标签：javascript, cross-browser

我写了一个小部件，其中包含来自一个站点的 javascript，另一个站点。代码是：

```
<script type="text/javascript" src="http://www.easionline.com/min/?f=widget.js"></script> 
```

在 IE9 中，一切都显示完美，但在 IE8 中，我收到此错误：

```
Webpage error details
User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2;
.NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0;
InfoPath.2)

Timestamp: Fri, 13 Jul 2012 07:20:30 UTC

Message: Access is denied.

Line: 7
Char: 73
Code: 0
URI: http://www.easionline.com/min/?f=widget.js 
```

有人知道为什么 IE8 会给我一个消息被拒绝的问题吗？如果您想查看实现小部件的站点，请访问[http://www.ham.co.za](http://www.ham.co.za)

如果您在没有缩小的情况下执行它：

```
<script type="text/javascript" src="http://www.easionline.com/widget.js"></script> 
```

我收到此错误：

```
Webpage error details

User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2;
.NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0;
InfoPath.2)

Timestamp: Fri, 13 Jul 2012 07:49:41 UTC
Message: Access is denied.

Line: 98
Char: 3
Code: 0
URI: http://www.easionline.com/widget.js 
```

与错误一致说：

```
96: var ajaxUrl = site_root+"ajax/widget/"+affid+"/"+category+"/"+numproducts;
97: 
98: obj.open("GET",ajaxUrl,true);
99: obj.send(null); 
```

请注意，由于各种原因，我避免使用 Jquery 来完成这项任务。所以问题真的归结为：为什么这个 ajax 调用在 IE9 中有效，但在 IE8 中无效？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T12:40:25.540

这解决了我的问题：[Access denied to jQuery script on IE](https://stackoverflow.com/questions/5087549/access-denied-to-jquery-script-on-ie)

基本上，IE 要求您使用 XDomainRequest 而不是 XHR。所以我更换了：

```
obj=pullAjax();
  obj.onreadystatechange=function() {
    if(obj.readyState==4) {
        // etc
    }
}
obj.open("GET",ajaxUrl,true);
obj.send(null); 
```

和：

```
xdr = new XDomainRequest(); 
xdr.onload=function()
{
    // etc
}
xdr.open("GET", thisUrl); 
xdr.send([data]); 
```

...但仅适用于 IE。我不得不使用 Javascript 来检测它是否是 IE，因为我不能将 jQuery 用于这个特定的项目。所以我用了这个：

```
var browserName=navigator.appName; 
if (browserName=="Microsoft Internet Explorer") ... 
```

来源：http : [//www.pageresource.com/jscript/jbrowse.htm](http://www.pageresource.com/jscript/jbrowse.htm)

# macos - 在 OS X 中限制我的应用程序的带宽

> ID：11465945
> 
> 赞同：2
> 
> 时间：2012-07-13T07:25:19.413
> 
> 标签：macos, bandwidth, bandwidth-throttling

我想编写同步文件并在后台运行的应用程序（守护进程）。而且我只想使用一部分带宽（百分比更好，但可以接受固定限制），因为完全访问带宽会干扰用户的应用程序。我怎样才能以编程方式做到这一点？ipfw 会影响任何应用程序（我只想限制我的应用程序），并且在苹果手册页中它已被弃用。而且我使用 https 端口，所以我不能只限制与该端口的连接。还有其他解决方案吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T18:55:50.960

目前尚不清楚这是您知道目标带宽是多少的情况，还是您不知道的情况。

如果您知道可用带宽为 100KB/s，那么最简单（可能也是最好）的做法是在您的应用程序中进行数学运算并测量您正在读取和写入套接字的数量。那是运行读取量和经过时间的计数器，并在循环中强制休眠以确保您总体上达到这些限制。

如果您*不*知道目标是什么，（鉴于所有环境都不同，我真的不知道您怎么做）那么它会变得更加复杂。大多数应用程序只是为用户提供了一种选择应用程序带宽上限的方法。这是唯一的便携方式。

对于仅限 OS X 的应用程序，您可以依赖特定的附加功能，但 OS X 已经跨版本跨防火墙实现转换，它们不是应用程序感知防火墙。因此，如果您想使用它们的功能来限制您的应用程序，您将必须基于可能仅与您的应用程序匹配的主机和/或端口设置规则。

您可以采取更多深奥的操作来实现 NETBLT 作为您的通信协议，而不是普通的 TCP，以表明您的流量是“大容量”或大且对延迟不敏感。但大多数应用程序只是让用户控制。

# magento - 如何获取自己的报价单字段到订单项？

> ID：11465948
> 
> 赞同：7
> 
> 时间：2012-07-13T07:25:35.667
> 
> 标签：magento, quote

我想将自定义信息保存在`order_item-table`. 这些信息在购物车中创建。所以我像[这篇](https://stackoverflow.com/q/11093017)文章中描述的那样做。

我已经安装了属性：

```
$installer->addAttribute('quote_item', 'final_delivery_time', $settings);

$installer->addAttribute('order_item', 'final_delivery_time', $settings); 
```

在 config.xml 中声明字段集

```
<fieldset>
        <sales_convert_quote_item>
            <final_delivery_time>
                <to_order_item>final_delivery_time</to_order_item>
            </final_delivery_time>
        </sales_convert_quote_item>

        <sales_convert_order_item>
            <final_delivery_time>
                <to_quote_item>*</to_quote_item>
                <to_invoice_item>*</to_invoice_item>
                <to_shipment_item>*</to_shipment_item>
                <to_cm_item>*</to_cm_item>
            </final_delivery_time>
        </sales_convert_order_item>
</fieldset> 
```

例如购物车中的一些代码

```
$oQuote = Mage::getSingleton('checkout/session')->getQuote();
    foreach ( $oQuote->getAllItems() as $_item )
    {
        $orderItemId = $_item->getId();
        $_item->setFinalDeliveryTime('some Value');
        $_item->save();
    } 
```

所以我得到了一个报价，我在表格`final_delivery_time`中有这个值的字段`sales_flat_quote_item`

在我下订单后`onepage-review`，我应该在 中也有这个字段`sales_flat_order_item table`，但是什么都没有。立柱`null`中。所以我需要按顺序保存的字段的值。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T13:26:52.407

I found the solution

it's an observer I add the following code

config.xml

```
...  
<events>
        <sales_convert_quote_item_to_order_item>
            <observers>
                <quoteitem_set_custom_data>
                    <class>DeliveryTime/observer</class>
                    <method>setCustomDataOnQuoteItem</method>
                </quoteitem_set_custom_data>
            </observers>
        </sales_convert_quote_item_to_order_item>
</events>
... 
```

Observer.php

```
...
public function setCustomDataOnQuoteItem(Varien_Event_Observer $observer)
{

    $quote = Mage::getModel('checkout/cart')->getQuote();
    $orderItem = $observer->getOrderItem();
    foreach ( $quote->getAllVisibleItems() as $_item )
    {
        if ($_item->getSku() == $orderItem->getSku())
        {
            $orderItem->setFinalDeliveryTime($_item->getFinalDeliveryTime());
        }
    }
}
... 
```

so everything is saved in the order

# java - 如何在 Dataflavor 中创建自定义类？

> ID：11465950
> 
> 赞同：0
> 
> 时间：2012-07-13T07:25:54.723
> 
> 标签：java

```
private static final DataFlavor flavors[] = { DataFlavor.javaFileListFlavor}; 
```

我想用自定义类创建一个自定义数据风格，就像下面的代码一样，除了字符串类。我想设置一个由我创建的类。

```
class MyClass extends DataFlavor
{   
    public MyClass MyClass() 
    {       

    }   
}

static DataFlavor flavor1 = new DataFlavor(MyClass.class, null); 
```

如何创建适合 Dataflavor 的类？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:54:58.780

```
DataFlavor myFlavor = new DataFlavor(MyAwesomeClassThatTheWorldShouldShare.class, null); 
```

当然，你会更好地从 DataFlavor 进行扩展，这样会轻松一百万倍

```
class MyClass extends DataFlavor
{
    public MyClass MyClass()
    {
      super(JavaClassToBeRepresented.class, null);
    }   
}

static DataFlavor flavor1 = new MyClass(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:37:05.653

您可以创建自己的 YourDataFlavor 来扩展 DataFlavor，并根据需要创建构造方法。

# android - 当我将 id 设置为 textview 时，它会抛出 Nullpointer Exception.on 这一行。-holder.id.setText(c.getListId());holder.id.setVisibility(View.VISIBLE);-

> ID：11465951
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:25:56.180
> 
> 标签：android

当我将 id 设置为 textview 时，它会抛出 Nullpointer Exception.on 这一行。-holder.id.setText(c.getListId());holder.id.setVisibility(View.VISIBLE);-

public View getView(int position, View convertView, ViewGroup parent) {

```
 if (DEBUG) Log.d(TAG, "start getView()");

    final ViewHolder holder;
    View v = convertView;

    if(v == null){
         if (DEBUG) Log.d(TAG, "mInflater inflate mylistrow");
         v = mInflater.inflate(layoutResource, null);
         if (DEBUG) Log.d(TAG, "set up viewHolder");
         holder = new ViewHolder();

         holder.id = (TextView)v.findViewById(R.id.custid);
         holder.column1 = (CheckBox)v.findViewById(R.id.column1);
         holder.column2 = (TextView)v.findViewById(R.id.column2);
         holder.column3 = (TextView)v.findViewById(R.id.column3);
         holder.column4 = (TextView)v.findViewById(R.id.column4);
         holder.column5 = (TextView)v.findViewById(R.id.column5);
         holder.column6 = (TextView)v.findViewById(R.id.column6);
         holder.column7 = (TextView)v.findViewById(R.id.column7);

         holder.column1.setOnCheckedChangeListener(new OnCheckedChangeListener() {
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                if (DEBUG) Log.d(TAG, "ID "+holder.id.getText()+" clicked: "+isChecked);
                int id = Integer.valueOf((String) holder.id.getText());
                checkedList.remove(id);
                checkedList.put(id, isChecked);

                if(isChecked==false&&checkAllBox.isChecked()){cancelSetCheckedAll=true;checkAllBox.setChecked(false);}
            }
        });

         if (DEBUG) Log.d(TAG, "attach viewHolder to convertview");
         v.setTag(holder);
    }else{
        holder = (ViewHolder)v.getTag();
    }

    Feedback c = data.get(position);
    if (DEBUG) Log.d(TAG, "Position "+position);
    if(c != null){

        holder.id.setText(c.getListId());
        holder.id.setVisibility(View.VISIBLE);

        int id = Integer.valueOf(c.getListId());
        if(checkedList.containsKey(id)){
            holder.column1.setChecked(checkedList.get(id));
        }else{
            holder.column1.setChecked(false);
        }
        holder.column1.setVisibility(View.VISIBLE);

        holder.column2.setText(c.getName());
        holder.column2.setVisibility(View.VISIBLE);

        holder.column3.setText(c.getEmail());
        holder.column3.setVisibility(View.VISIBLE);

        holder.column4.setText(c.getSex());
        holder.column4.setVisibility(View.VISIBLE);

        holder.column5.setText(c.getFeedbackType());
        holder.column5.setVisibility(View.VISIBLE);

        holder.column6.setText(c.getFeedback());
        holder.column6.setVisibility(View.VISIBLE);

        holder.column7.setText(c.getEmailRes());
        holder.column7.setVisibility(View.VISIBLE);

    }else{
        if (DEBUG) Log.d(TAG, "t is null");
        holder.id.setVisibility(View.GONE);
        holder.column1.setVisibility(View.GONE);
        holder.column2.setVisibility(View.GONE);
        holder.column3.setVisibility(View.GONE);
        holder.column4.setVisibility(View.GONE);
        holder.column5.setVisibility(View.GONE);
        holder.column6.setVisibility(View.GONE);
    }
    if (DEBUG) Log.d(TAG, "return v");
    return v;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:43:22.330

我不确定，但尝试将您的行更改为以下内容：

```
holder.id.setText(String.valueOf(c.getListId())); 
```

# android - 在时间轴上更新状态时出错

> ID：11465954
> 
> 赞同：1
> 
> 时间：2012-07-13T07:26:01.860
> 
> 标签：android, facebook-graph-api

```
ERROR :- {"error":{"message":"(200) The user hasn't authorized the application to perform this action","type":"OAuthException","code":200}} 
```

我在我的应用程序中使用了以下代码。在此代码中，如果我打开我的 Facebook 帐户，则它是成功发布，但如果其他人登录，则它无法在他的墙上发布。

```
public void postMessageOnWall(String msg) throws FacebookError, JSONException
{
    if (facebook.isSessionValid())
    {
        Bundle parameters = new Bundle();
        parameters.putString("message", msg);
        try
        {
            //JSONObject response=Util.parseJson(facebook.request("me/feed", parameters,"POST"));
            String response = facebook.request("me/feed", parameters,"POST");
            System.out.println(response);
        } 
        catch (IOException e) 
        {
            e.printStackTrace();
        }
    }
    else
    {

    }
} 
```

我在 Facebook 上分享时使用了 FACEBOOK_PERMISSION = "publish_stream"。

# android - Wiengine 内置对话框

> ID：11465955
> 
> 赞同：0
> 
> 时间：2012-07-13T07:26:02.430
> 
> 标签：android

我正在使用 Wiengine 在 android 中制作游戏。我可以通过在主 UI 线程上运行它来显示本机对话框，但问题是背景音乐在对话框具有焦点时暂停。任何人都可以让我知道 Wiengine 的内置对话功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:12:10.283

因为游戏活动被对话活动暂停，所以背景音乐停止了。它是开源的，您可以查看代码以了解 wiengine 对话框的作用 [https://github.com/stubma/WiEngine](https://github.com/stubma/WiEngine)

# android - 如何使用 onItemClickListener 存储 ListView 中的可点击项目？

> ID：11465956
> 
> 赞同：5
> 
> 时间：2012-07-13T07:26:11.907
> 
> 标签：android

**如何在 listView 中存储可点击项目（许多）值并在下一个 Activity listView 中显示项目。我试过了，但我从上一个 Activity listView.i 中只得到一个值（如果我点击更多项目，最后一个只显示）使用 String[] 类型 GlobalVariable myval;**

全球类

```
class GlobalClass extends Application {
     public static String[] myval;
} 
```

家活动

```
public  class HomeActivity extends Activity {
    String[] Category={"----SELECT---- ","BEVERAGES","BREAKFAST","LUNCH","DINNER","DESSERTS","APPETIZERS & SIDES"};
    String[] Beverage={"PEPSI","COKE","LASSI","FALOODA","BUTTER MILK","GREEN TEA","BADAM MILK","MASALA CHAI" };
    String[] Breakfast={"SIRLOIN & EGG","CFS STEAK & EGG","T-BONE & EGG","TWO EGGS BREAKFAST","2EGG W/MEAT","BEL WAFFLE","BEL WAFFLE W/MEAT","BLUEBERRY CAKE","CAKES","FABULOUS FRENCH TST","MOONS","FRENCH TST"};
    String[] Lunch={" CRAB CAKE SANDWICH","TUSCAN GRILLED CHICKEN PANINI","SOUTHWEST TURKEY CLUB"," LOBSTER ROLL","TUNA MELT"," FRENCH DIP","YOUR OWN SANDWICH"};
    String[] Dinner={"DUBLIN BAY PRAWN","CRAB FROM BRITTANY","WHITE ASPARAGUS","BLEWIT MUSHROOM","JOHN DORY FISH","MONKFISH","VEAL SWEET BREAD","LAMB","PIGEON FRY"};
    String[] Desserts={"ECHOURGNAC CHEESE","HAZELNUT","GARIGUETTE STRAWBERRY","MOUSSE & ZEST","APRICOT","CHOCOLATE"};
    String[] Appetizers={"Greek Artichoke Spinach","Seafood Appetizers","Tapenade Flatbread","Cranberry Blue Cheese","Fig and Blue Cheese","Sun-Dried Tomato","Tropical Crab Rangoon"};
    Spinner spinner;
    ListView l1;
    Button b1;
    Button b2;
    Button b3;
    EditText e1;
    EditText e2;
    String[] item;
    int myid;

    /** Called when the activity is first created. **/
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.home);
        spinner = (Spinner) findViewById(R.id.spinnerCategory);
        l1=(ListView) findViewById (R.id.list);
        b1=(Button)findViewById(R.id.button3);
        b2=(Button)findViewById(R.id.button2);
        b3=(Button)findViewById(R.id.button1);
        e1=(EditText)findViewById(R.id.editText1);
        e2=(EditText)findViewById(R.id.editText2);
        ArrayAdapter<String> adapter = new ArrayAdapter<String> this,android.R.layout.simple_spinner_item, Category);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter);

        final ArrayAdapter<String> bever = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Beverage);

        // Assign adapter to ListView
        final ArrayAdapter<String> Breakf = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Breakfast);
        final ArrayAdapter<String> lunc= new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Lunch);     
        final ArrayAdapter<String> Dinn= new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Dinner);     
        final ArrayAdapter<String> Dessert = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Desserts);     
        final ArrayAdapter<String> Appet= new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, Appetizers);     

        spinner.setOnItemSelectedListener(new OnItemSelectedListener(){
            public void onItemSelected(AdapterView<?> parent, View arg1, int pos,long id) {              
            String Text = parent.getSelectedItem().toString();
                if(Text.equals("----SELECT----")) {

                }       
                else if(Text.equals("BEVERAGES")){         
                    l1.setAdapter(bever);
                    return;
                }    
                else if(Text.equals("BREAKFAST")){
                    l1.setAdapter(Breakf);
                    return;
                }
                else if(Text.equals("LUNCH")){
                    l1.setAdapter(lunc);
                    return;
                }
                else if(Text.equals("DINNER")){
                    l1.setAdapter(Dinn);
                    return;

                }
                else if(Text.equals("DESSERTS")){
                    l1.setAdapter(Dessert);
                    return;
                }
                else if(Text.equals("APPETIZERS & SIDES")){
                    l1.setAdapter(Appet);
                    return;
                }
           }

           public void onNothingSelected(AdapterView<?> arg0){

           }

       });

   l1.setOnItemClickListener(new OnItemClickListener() {
       public void onItemClick(AdapterView<?> parent, View view,
           int position, long id) {
           // When clicked, show a toast with the TextView text
          Toast.makeText(getApplicationContext(), "SELECTED :: " +((TextView) view).getText(), Toast.LENGTH_SHORT).show();
          String s2=(String) ((TextView) view).getText();
          // String ss=Integer.toString(myid);
          String[] S5=new String[]{s2};
          //String[] S1=new String[]{s2};
          GlobalClass.myval=S5;
          for (int i=0;i<GlobalClass.myval.length;i++){
              System .out.println("Clicked-->"+GlobalClass.myval[i]);
          }
          //System.out.println("Clicked:" + GlobalClass.myval);

          // System.out.println("items--"+l1.getItemIdAtPosition(position));
          //i.putExtra("item", item);
          //GlobalClass.myval=(String[]) l1.getSelectedItem();
          //GlobalClass.myval=a1;

          //String[] item =  (String[]) (l1.getItemAtPosition(position));
          //String[] a2=item;
          //GlobalClass.myval=a2;

          }
   });

   b1.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            String tno = e1.getText().toString();
            int tn = Integer.parseInt(tno);

            Intent i=new Intent(getApplicationContext(),TicketActivity.class);
            Bundle b=new Bundle();
            b.putInt("Table No:", tn);
            i.putExtras(b);
            String et= e2.getText().toString();
            int et1 = Integer.parseInt(et);
            Bundle be=new Bundle();
            be.putInt("Guest:", et1);
            i.putExtras(be); 

            startActivity(i);

        }
    });
    }
   } 
```

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:01:05.477

在列表项中单击

```
 l1.setOnItemClickListener(new OnItemClickListener() {
               public void onItemClick(AdapterView<?> parent, View view,
                   int position, long id) {
                   // When clicked, show a toast with the TextView text
                  Toast.makeText(getApplicationContext(), "SELECTED :: " +((TextView) view).getText(), Toast.LENGTH_SHORT).show();

                  String s2=(String) ((TextView) view).getText();

                  // String ss=Integer.toString(myid);

you add values to a string array like
    String[] S5=new String[]{s2}; 
         this will ovverride the previous element the all time shall 
    not add any other value

                  //String[] S1=new String[]{s2};
                  GlobalClass.myval=S5;
                  for (int i=0;i<GlobalClass.myval.length;i++){
                      System .out.println("Clicked-->"+GlobalClass.myval[i]);
                  } 
```

先这样做

// 在你的活动中创建之前声明数组列表

```
 private ArrayList<String> AddedItems = new ArrayList<String>();

l1.setOnItemClickListener(new OnItemClickListener() {
       public void onItemClick(AdapterView<?> parent, View view,
           int position, long id) {
           // When clicked, show a toast with the TextView text
          Toast.makeText(getApplicationContext(), "SELECTED :: " +((TextView) view).getText(), Toast.LENGTH_SHORT).show();

when lsit tiem is clicked add it to a array list like
           AddedItems.add(((TextView) view).getText());

          }

Once all click events are done 

before going to next activity 

b1.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

convert the string list to string array or whereevr in the activity you want 
// create string array  from array list

        myval= listPar.toArray(new String[AddedItems .size()]);

}
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:37:21.973

每次单击 ListView 上的项目时都会调用 OnItemClick()。每次调用 OnItemClick() 方法时，您都在创建 S5 数组。之后，您将使用仅具有最新单击值的新创建的数组覆盖 GlobalClass.myval。要收集所有值，请维护一个全局数组。您也可以直接在 GlobalClass.myval 中添加单击的值（假设它是所需类型的数组）。另一个建议，维护一个列表而不是一个数组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:51:47.087

将内容添加到 ListView，然后对每个 ListItem 值使用 onItemClickListener。您可以通过以下代码实现您的目标。

将此用于全局变量而不是字符串数组

全球班

```
 class GlobalClass extends Application {
 public static List<String> myVal = new ArrayList<String>() ;
 } 
```

家活动

OnItemClickListener

```
 listView.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {

             String clickedvalue =(String) parent.getItemAtPosition(position); 
             myVal.add(clickedvalue);

             }
        }); 
    } 
```

现在所有点击的值都将在您的 ListArray 中。

我希望它有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-15T07:03:34.617

```
 There is one more way we can add items to string array like this

    int i = 0 ;

     String[] S5;

    fix its size 
    else if(Text.equals("BEVERAGES")){         
                        l1.setAdapter(bever);
                        return;
                    }    
                    else if(Text.equals("BREAKFAST")){
                        l1.setAdapter(Breakf);
     S5=new String[]{Breakf.size()};
                        return;
                    }
                    else if(Text.equals("LUNCH")){
                        l1.setAdapter(lunc);
     S5=new String[]{lunc.size()};
                        return;
                    }
                    else if(Text.equals("DINNER")){
                        l1.setAdapter(Dinn);
     S5=new String[]{Dinn.size()};
                        return;

                    }
                    else if(Text.equals("DESSERTS")){
                        l1.setAdapter(Dessert);
     S5=new String[]{Dessert.size()};
                        return;
                    }
                    else if(Text.equals("APPETIZERS & SIDES")){
                        l1.setAdapter(Appet);
     S5=new String[]{Appet.size()};
                        return;
                    }

    l1.setOnItemClickListener(new OnItemClickListener() {
           public void onItemClick(AdapterView<?> parent, View view,
               int position, long id) {
               // When clicked, show a toast with the TextView text
              Toast.makeText(getApplicationContext(), "SELECTED :: " +((TextView) view).getText(), Toast.LENGTH_SHORT).show();
              String s2=(String) ((TextView) view).getText();
              // String ss=Integer.toString(myid);
              //String[] S1=new String[]{s2};

//    it add a new element to string array all the time list item is clicked
     S5[i] =  s2 ;
    i++       
    ); 
```

# c++ - 如何绕过 C++ 构建器中的无效变体类型？

> ID：11465958
> 
> 赞同：1
> 
> 时间：2012-07-13T07:26:25.147
> 
> 标签：c++, c++builder, vcl

我尝试在 c++ 构建器中创建非可视组件，并且可以正常工作而不会出错，而不是尝试创建可视组件并且一切正常，直到这些组件在应用程序中运行的最后一步。当我尝试从应用程序运行它时，总是得到：**无效的变体类型。**

那是什么意思？我应该怎么做才能绕过它？您是否有一些很好的教程链接，可以在其中查看如何制作组件并导入它？我在谷歌上搜索了很多，但没有找到令人满意的解决方案。

# ios - 在 UIWebView 中播放 .mov 文件

> ID：11465959
> 
> 赞同：0
> 
> 时间：2012-07-13T07:26:28.727
> 
> 标签：ios, html, redirect, uiwebview, mov

我的后端服务器中有一个`.mov`文件。我想在`UIWebView`实例中播放这个。这就是我使用 HTML5 的方式

```
NSString *html = [NSString stringWithFormat:@"<video src='%@' controls autoplay height='480' width='640'> </video>",[mediaUrl absoluteString]];
[self.webView loadHTMLString:html baseURL:[NSURL URLWithString:@""]]; 
```

事情是`mediaUrl`在我的后端服务器上命中一个 API，该 API 将 HTTP 重定向到`.mov`文件。这在`UIWebView`. 我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:40:51.207

为什么你不想使用 MPMoviePlayerViewController？

# javascript - 输入表单中的链接填充脚本

> ID：11465960
> 
> 赞同：0
> 
> 时间：2012-07-13T07:26:28.880
> 
> 标签：javascript, jquery, html

当您在输入表单中单击某些链接时，我有一个脚本会填写某些链接。

但我有一个问题。

出于某种原因，我指定了链接来调用类**linkText**，并指定了某些值在单击时显示在输入文本字段中。

但由于某种原因，整个链接将显示，包括类和值。

因此，例如它将显示`<a class="linkInsert" value="This Value">HTML Link (websites / blogs)</a>`

而不是我想要的值`"This Value"`

我只想显示该值，但它显示了整个代码。

你可以在这里看到我的意思[jsFiddle](http://jsfiddle.net/jUTZ7/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:29:05.027

将 html() 更改为 text()

```
$('a.linkInsert').click(
    function(e){
        e.preventDefault();
        $('#linkText').val($(this).parent().text());
    }); 
```

或者这个：

```
$('a.linkInsert').click(
    function(e){
        e.preventDefault();
        $('#linkText').val($(this).attr('value'));
    });

​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:30:44.213

您正在将父元素的 html 放入文本框中。

相反，您应该使用以下代码来注入被点击的链接的值

```
$('a.linkInsert').click(
    function(e){
        e.preventDefault();
        $('#linkText').val($(this).attr("value"));
    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:32:30.997

您也可以只使用

```
$('a.linkInsert').click(
function(e){
 e.preventDefault();
 $('#linkText').val($(this).val());
}); 
```

# java - 一个类的构造函数怎么可能有同一个类的参数呢？

> ID：11465961
> 
> 赞同：7
> 
> 时间：2012-07-13T07:26:29.247
> 
> 标签：java, constructor

当我发现其中一个构造函数具有“String”对象作为参数时，我正在研究 String.java 源代码。这看起来很简单，但我无法消化它。例如：

```
public class Example {

    private String value;

    public Example() {
        // TODO Auto-generated constructor stub
    }

    public Example(Example e){
        value = e.getValue();
    }

    String getValue() {
        return value;
    }
} 
```

第一次编译 Example 类时，编译器会遇到第二个以“Example”类对象为参数的构造函数。此时，它如何找到它，因为它仍在编译这个类？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-13T07:28:22.920

当类被编译时，它需要访问的只是类的[*声明*](http://en.wikipedia.org/wiki/Declaration_%28computer_programming%29)，而不是完整的实现。

* * *

换句话说，在编译构造函数时

```
public Example(Example e) {
    value = e.getValue();
} 
```

它只需要知道*存在*一个名为的类`Example`并且它有一个方法`getValue`。在实际尝试编译代码之前，可以在源文件的单独传递中收集此信息。

（顺便说一句，构造函数与方法的工作方式没有太大不同。乍一看，似乎需要在编译任何方法之前编译构造函数，但这种推理将编译时问题与运行时问题混为一谈。）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-13T07:44:14.857

每当类中有任何复制构造函数时，总会多出一个构造函数。没有它不会给出任何错误，但在运行时它将不起作用。由于首先需要使用非复制构造函数构造对象，然后将其引用传递给其他构造函数的构造函数。

这就像告诉另一个对象“嘿，伙计，我已经有了一些运行良好的属性，你也可以使用相同的属性。”

请记住，总是有一个非复制构造的对象，因此其他对象可以复制它的属性。

# wordpress - buddypress 中是否有类似 bp_get_member_id 的内容？

> ID：11465965
> 
> 赞同：1
> 
> 时间：2012-07-13T07:26:45.620
> 
> 标签：wordpress, buddypress

有谁知道我如何在好友新闻循环中获取会员 ID：

```
 `<?php while ( bp_members() ) : bp_the_member(); ?>` 
```

有 bp_member_name，但我不知道如何获取 id....有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:48:32.477

我相信你可以使用：

```
 bp_get_member_user_id() 
```

那应该让您获得会员ID。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:46:06.223

我在好友新闻论坛中找到了答案：

bp_member_user_id() 回显 ID

和 bp_get_member_user_id() 获取 ID

# haskell - 表达操作语义时符号的麻烦

> ID：11465966
> 
> 赞同：2
> 
> 时间：2012-07-13T07:26:52.780
> 
> 标签：haskell, functional-programming

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:26:28.220

在高层次上，符号很简单：假设行以上的条件成立，则行以下的表达式为真。

Γ 是一个类型化上下文——也就是说，它是一组变量和类型对。这些对将变量映射到类型。⊢ 仅表示“在上下文中”。冒号只是将变量与类型组合在一起——就像`::`在 Haskell 或`:`Scala 或 Ocaml 中一样。所以类似的`Γ ⊢ x:σ`意思是“在上下文Γ中，x具有类型σ”。like表示由and`Γ,x:σ`组成的上下文。`Γ``x:σ`

本质上，上下文代表了其他变量所具有的所有类型。So`x:σ ∈ Γ`表示`x`具有类型`σ`in `Γ`，这可以让您轻松解决该问题`Γ ⊢ x:σ`。这就是说，如果`x`在上下文中绑定到某种类型，那么它在该上下文中具有该类型。

您可以将输入上下文视为来自“外部”的所有类型信息。所以上一段中的简单陈述基本上告诉你，如果你看到一个`x`并且`x`已经有类型`σ`，你可以推断出那个`x`有类型`σ`。不是很有趣，但很重要！

你可以把这条规则写成：

```
x:σ ∈ Γ
-------
Γ ⊢ x:σ 
```

如果我们有 LaTeX ：P。我想我们不如 math.se 或 cstheory.se 酷。

这是一个稍微复杂一点的例子。本质上，我们想在简单类型的 lambda 演算中编码应用程序的工作方式。它实际上非常简单：给定一个 type 的函数`f`和`τ → τ'`一个 type 的值`x`，`τ`然后`f x`有 type `τ'`。在 Haskell 中，这看起来像应用`f :: Int -> Bool`在`x :: Int`. 很明显`f x :: Bool`。所以让我们把这个写出来。

条件（最高位）是，在某些情况下，`f`有一个类型`τ → τ'`: `Γ ⊢ f:τ → τ'`。此外，在相同的上下文中，`x`具有类型`τ`: `Γ ⊢ x:τ`。放在一起，我们得到：`Γ ⊢ f:τ → τ' Γ ⊢ x:τ`.

现在到底部。鉴于这两种类型，我们知道什么？我们知道应用程序的类型，`f x` *但仅在相同的上下文中*。（这就是`Γ`重要的原因。）所以我们得到：`Γ ⊢ f x:τ'`.

现在，把它们放在一起，我们有：

```
Γ ⊢ f:τ → τ' Γ ⊢ x:τ 
--------------------
     Γ ⊢ f x:τ' 
```

看到 StackOverflow 语法荧光笔与最后一个示例的斗争很有趣。我想知道它认为这是哪种语言。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:28:46.923

（`Γ`如果有人知道如何嵌入 LaTeX，请留下评论或编辑评论）是输入上下文的符号：您可以将其视为表达式与其类型之间的映射。

例如，让我们看两个上下文：

*   `Γ0`空地图和
*   `Γ1 = Γ0, x:Int`前一个丰富了类型信息，说`x`有 type `Int`。因此，`:`这里代表类型分配。

现在，在空上下文 ( `Γ0`) 中，无法键入表达式`x + x`，因为您不知道类型`x`（它不存储在映射中）。但是，在另一种情况下，我们有一个类型 for `x`(that is `Int`)，所以我们可以说 that `x + x`has type `Int`。

形式上，我们使用了这样的规则：

```
 x : σ ∈ Γ
______________
 Γ ⊢ x + x: σ 
```

请注意在`:`Haskell`::`中的含义。并且`A ⊢ B`被理解为“在`A` `B`持有的情况下。

[PS：我有一个关于类型系统的课程，你可以在这里](http://elf.cs.pub.ro/tsfp/Curs.zip)找到一些材料（你可以看看 Typed_Lambda_Calculus.pdf）。

# console - Redirecting Output in PyQt

> ID：11465971
> 
> 赞同：1
> 
> 时间：2012-07-13T07:27:10.327
> 
> 标签：console, pyqt, redirect

I have a QApplication, with a lot of classes and functions, which displays a lot of stdout on the console. I want to redirect this stdout and stderr to a QTextBrowser(this is also part of the QApplication). Is there any tweak to do this.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T17:22:48.637

我制作了一个开源 PyQt 自定义小部件库——其中一个是记录器类 (XLoggerWidget)，另一个是完整的 Python 解释器 (XConsoleEdit)。它可以满足您的需求。

如果需要，可以在这里获取：http: [//dev.projexsoftware.com/projects/projexui](http://dev.projexsoftware.com/projects/projexui)

您正在寻找的部分在 XConsoleEdit (projexui.widgets.xconsoleedit) 中，但它的一般要点是：

```
import logging
import sys

from PyQt4.QtCore import QObject,\
                         pyqtSignal

from PyQt4.QtGui import QDialog, \
                        QVBoxLayout, \
                        QPushButton, \
                        QTextBrowser,\
                        QApplication

logger = logging.getLogger(__name__)

class XStream(QObject):
    _stdout = None
    _stderr = None

    messageWritten = pyqtSignal(str)

    def flush( self ):
        pass

    def fileno( self ):
        return -1

    def write( self, msg ):
        if ( not self.signalsBlocked() ):
            self.messageWritten.emit(unicode(msg))

    @staticmethod
    def stdout():
        if ( not XStream._stdout ):
            XStream._stdout = XStream()
            sys.stdout = XStream._stdout
        return XStream._stdout

    @staticmethod
    def stderr():
        if ( not XStream._stderr ):
            XStream._stderr = XStream()
            sys.stderr = XStream._stderr
        return XStream._stderr

class MyDialog(QDialog):
    def __init__( self, parent = None ):
        super(MyDialog, self).__init__(parent)

        # setup the ui
        self._console = QTextBrowser(self)
        self._button  = QPushButton(self)
        self._button.setText('Test Me')

        # create the layout
        layout = QVBoxLayout()
        layout.addWidget(self._console)
        layout.addWidget(self._button)
        self.setLayout(layout)

        # create connections
        XStream.stdout().messageWritten.connect( self._console.insertPlainText )
        XStream.stderr().messageWritten.connect( self._console.insertPlainText )

        self._button.clicked.connect(self.test)

    def test( self ):
        # print some stuff
        print 'testing'
        print 'testing2'

        # log some stuff
        logger.debug('Testing debug')
        logger.info('Testing info')
        logger.warning('Testing warning')
        logger.error('Testing error')

        # error out something
        print blah

if ( __name__ == '__main__' ):
    logging.basicConfig()

    app = None
    if ( not QApplication.instance() ):
        app = QApplication([])

    dlg = MyDialog()
    dlg.show()

    if ( app ):
        app.exec_() 
```

这是 XConsoleEdit 中内容的简化版本，但它是一般的想法，如果您不想下载代码，它仍然适用于您的目标。

在此示例中，您会注意到只有打印和错误日志被路由到编辑。如果你想将 Python 日志系统连接到编辑，你需要一些更复杂的东西，你定义一个 logging.Handler 并将它链接到你的小部件。

该代码可以在 projexui.widgets.xloggerwidget 中找到

它有点长而且更复杂，所以我不会在这里加载它......但如果你有任何问题，请告诉我。

# php - 使用 FQL 的随机好友

> ID：11465976
> 
> 赞同：2
> 
> 时间：2012-07-13T07:27:29.877
> 
> 标签：php, facebook, facebook-graph-api, facebook-fql

我现在正在使用 fql，它将所有朋友列表放入数组中。然后我对该数组进行排序以获得随机朋友。

但似乎需要很长时间，因为我必须收集所有朋友才能获得单个随机朋友。

我如何在 fql 中获得随机朋友？

```
SELECT uid, name, pic, sex FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=me()) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T07:34:44.333

`SELECT uid, name, pic, sex FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=me()) order by rand() limit 1`

# ms-access - 如何在 Access 2010 VBA 中封装 IIF 和 ISNULL 调用？

> ID：11465977
> 
> 赞同：2
> 
> 时间：2012-07-13T07:27:33.653
> 
> 标签：ms-access, vba, isnull, iif

我经常在我的 Access 2010 数据库中使用以下表达式模式：

```
IIF(ISNULL(fieldName), Null, myFunction(fieldName)) 
```

这里的 myFunction 是一个用户定义的函数，它将 fieldName 的值转换为另一种格式，如果它确实存在的话。

只是为了减少打字，我尝试定义以下函数：

```
Function IifIsNull(p AS Variant, v AS Variant) AS Variant
    If IsNull(p) Then IifIsNull = p Else IifIsNull = v
End Function 
```

我应该以下列方式使用它：

```
IifIsNull(fieldName, myFunction(fieldName)) 
```

但它不起作用。当为 Null时`fieldName`，返回值为 ，甚至还没有被调用！`IifIsNull``#Error``IifIsNull`

是否可以使用用户定义的函数或系统函数来简化给定的代码模式？

更新：

有几个`myFunction`s，所有这些函数目前都是强类型的，一个简单的例子如下：

```
Function RemoveSpace(str AS String) AS String
    For i=1 to Len(str)
        If Mid(str,i,1) <> " " Then RemoveSpace = RemoveSpace + Mid(str,i,1)
    Next
End Function 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:42:02.990

我假设当为空时会`myFunction(fieldName)`引发错误。`fieldName`

当您打电话`IifIsNull(fieldName, myFunction(fieldName))`时，首先要评估的是`myFunction(fieldName)`. 所以如果`fieldName`为空，你会得到一个错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:17:26.347

为什么不简单地评估 MyFunction 中的字段名？

将一个空字符串附加到字段名称以确保它始终传递一个字符串，而不是空值。

```
=MyFunction(FieldName & "")

Function MyFunction(Fieldname) As Variant
   ''Depending on what your function does, it is may not necessary to check
   If FieldName<>"" Then
       MyFunction = FieldName & " was here"
   End If
End Function 
```

# ios - 在 iOS 中绘图时获得模糊笔触

> ID：11465979
> 
> 赞同：2
> 
> 时间：2012-07-13T07:27:45.707
> 
> 标签：ios, cocoa-touch, drawing, core-graphics, quartz-graphics

我正在 iOS 中进行绘图，我的代码可以正常工作，绘图工作正常，现在我已经实现了撤消和重做功能，**但是发生的事情是，假设我画了两条线，然后按撤消按钮，然后是第一行绘制变得模糊，**我不明白为什么会发生，下面是我的撤消代码。

-

```
(void)redrawLine
{
    UIGraphicsBeginImageContext(self.bounds.size);
    [self.layer renderInContext:UIGraphicsGetCurrentContext()];
    NSDictionary *lineInfo = [lineArray lastObject];
    curImage = (UIImage*)[lineInfo valueForKey:@"IMAGE"];
    UIGraphicsEndImageContext();
    [self setNeedsDisplayInRect:self.bounds];
    [self setNeedsDisplay];
}

-(void)undoButtonClicked
{
    if([lineArray count]>0){
        NSMutableArray *_line=[lineArray lastObject];
        [bufferArray addObject:[_line copy]];
        [lineArray removeLastObject];
        drawStep = UNDO;
        [self redrawLine];
    }

}

- (void)drawRect:(CGRect)rect
{

    switch (drawStep) {
        case DRAW:
        {
            [curImage drawAtPoint:CGPointMake(0, 0)];
            CGPoint mid1 = midPoint(previousPoint1, previousPoint2); 
            CGPoint mid2 = midPoint(currentPoint, previousPoint1);
            CGContextRef context = UIGraphicsGetCurrentContext(); 

            [self.layer renderInContext:context];
            CGContextMoveToPoint(context, mid1.x, mid1.y);
            CGContextAddQuadCurveToPoint(context, previousPoint1.x, previousPoint1.y, mid2.x, mid2.y); 
            CGContextSetLineCap(context, kCGLineCapButt);
            CGContextSetLineWidth(context, self.lineWidth);
            CGContextSetStrokeColorWithColor(context, self.lineColor.CGColor);
            CGContextSetAlpha(context, self.lineAlpha);
            CGContextSetAllowsAntialiasing(context, YES);
            CGContextStrokePath(context);            
            [super drawRect:rect];  

        }        
        case UNDO:
        {
            [curImage drawInRect:self.bounds];   
            break;
        }
} 
```

下面是按下撤消按钮时发生的情况的图像

第一个图像是在单击撤消按钮之前，第二个图像是在单击撤消按钮之后

![在单击撤消按钮之前](../Images/d36735bb068726703b10609dbbbdd8c3.png) ![单击撤消按钮后](../Images/45992f16e5b894c9988142ade7c05563.png)

问候兰吉特

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:56:48.693

您的调用`UIGraphicsBeginImageContext`是以点为单位指定位图的大小（即全屏为 320x480），但在具有视网膜显示器的设备上，您需要一个以像素为单位的屏幕大小（即 640x960）。

您应该能够调用`UIGraphicsBeginImageContextWithOptions`设置`scale`为 0.0。从文档：

> 应用于位图的比例因子。如果您指定值 0.0，则比例因子设置为设备主屏幕的比例因子。

# c++ - 语法错误：意外类型“P_HDR”

> ID：11465980
> 
> 赞同：0
> 
> 时间：2012-07-13T07:27:52.780
> 
> 标签：c++, syntax

我是 C++ 的新手，我正在尝试编译此应用程序，但是出现错误：'语法错误：意外类型'P_HDR'。如果您需要更多代码，请告诉我，所有这些都可以在[http://www.binarytides.com/blog/raw-sockets-packets-with-winpcap/上看到](http://www.binarytides.com/blog/raw-sockets-packets-with-winpcap/)

```
pseudo_header.source_address = inet_addr("1.2.3.4"); //forge it >:) srcip.s_addr; 
pseudo_header.dest_address = inet_addr("203.200.89.200");
pseudo_header.placeholder = 0;
pseudo_header.protocol = IPPROTO_TCP;
pseudo_header.tcp_length = htons(sizeof(TCP_HDR) + strlen(dump));
memcpy(&pseudo_header.tcp , tcphdr , sizeof TCP_HDR);

unsigned char *seudo;
    seudo = new unsigned char(sizeof P_HDR + strlen(dump));
memcpy(seudo, &pseudo_header, sizeof P_HDR);
memcpy(seudo + sizeof P_HDR , data , strlen(dump)); 
```

这一行是错误

seudo = new unsigned char(sizeof P_HDR + strlen(dump));

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:43:34.997

可能是您在“P_HDR”之前错过了“TC”？

# c# - 在 ASP.net 中选中单选按钮时，如何修改文本框/执行代码？

> ID：11465981
> 
> 赞同：0
> 
> 时间：2012-07-13T07:27:53.000
> 
> 标签：c#, asp.net, radio-button

我正在处理由队友创建的网页。

有这个按钮（它会导致一个弹出窗口日期选择器），它将自动填写它下面的几个文本框和标签（它有效）。但是，在其中一个文本框旁边有一对单选按钮，只能选择一个。选择任一单选按钮后，文本框中的值应更改。

目前，它没有。这是单选按钮的代码。

```
<select name="apply_hrs_wholeday" id="apply_hrs_wholeday" onchange="javascript:UpdateExcesshoursApplicationForm('Apply_hrs_selection');">                        
                    <option value='1' <%=(requestApplicationForm.Apply_hrs_wholeday ? " selected " : "")%>>
                        Whole day
                    </option>
                    <option value='2' <%=(!requestApplicationForm.Apply_hrs_wholeday ? " selected " : "")%>>
                        Half-day
                    </option>
                </select> 
```

现在，由于这不是我的代码，我承认我在阅读它时遇到了麻烦。我注意到他没有使用 asp：但是，我不愿意完全替换它，因为它可能会弄乱代码的其他部分。我相信那里的javascript被用来防止页面重新加载或从代码中加载一些变量（？），但我不确定。

我想问一下我是否可以做一些简单的事情（回发，也许？），或者添加到当前代码中以允许检测单选按钮 onclick 事件，并执行一些新代码。

Javascript：

```
function UpdateExcesshoursApplicationForm(action, app_id, app_index) {
var senddata;

    if (window.ActiveXObject) {
        xmlHttp = new ActiveXObject('Microsoft.XMLHTTP');
    }
    else if (window.XMLHttpRequest) {
        xmlHttp = new XMLHttpRequest();
    }

    if(app_id==null)
        app_id=0;

    if(app_index==null)
        app_index=0;

    var PaycodeTypeObj;
    var PaycodeTypeText;
    PaycodeTypeObj=document.getElementById('PaycodeType');
    PaycodeTypeText=PaycodeTypeObj.options[PaycodeTypeObj.selectedIndex].text;

    var workflowactionidObj;     
    var workflowactionidText;
    workflowactionidObj=document.getElementById('workflowactionid');
    workflowactionidText=workflowactionidObj.options[workflowactionidObj.selectedIndex].text;

    senddata=getfrmValues(document.getElementById('frmRequestApplicationForm')) + 
             '&action=' + action + '&PaycodeTypeText=' + PaycodeTypeText + '&workflowactionidText=' + workflowactionidText + '&app_id=' + app_id + '&app_index=' + app_index;                 

    xmlHttp.open('POST',URL.value,false);
    xmlHttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xmlHttp.send(senddata);

    if(xmlHttp.readyState == 4) {
        if(xmlHttp.status == 200) {
            var data = xmlHttp.responseText;
            var start = data.indexOf("pageForm")+10;
            var end = data.indexOf("endPageDivForm")+17;
            document.getElementById("pageForm").innerHTML = data.substring(start,end);
            initializeControls();

            if(action=='Validate') {
                if(document.getElementById("Valid").value=='True') {
                    revealModal(document.getElementById('frmRequestApplicationForm'),'modalEmployeeHrsConfirmation');
                }
            }

            if(action=='Refresh') {
                    revealModal(document.getElementById('frmRequestApplicationForm'),'modalEmployeeHrsSelection');
            }else if(action=='ShowPaycode') {
                    revealModal(document.getElementById('frmRequestApplicationForm'),'modalPaycode');
            }else if(action=='ShowWorkflow') {
                    revealModal(document.getElementById('frmRequestApplicationForm'),'modalWorkflow');
            }else if(action=='ShowEmployee') {
                    revealModal(document.getElementById('frmRequestApplicationForm'),'modalEmployeeInfo');
            }

        } 
   } 
```

# grails-orm - GORM 方法在 Domain 和 Service 类中不可访问

> ID：11465997
> 
> 赞同：1
> 
> 时间：2012-07-13T07:29:07.950
> 
> 标签：grails-orm, grails-2.0

**更新：**

我已经安装了 grails 2.0 我有两个域类ApplicationConfiguration 和 City ，
ApplicationConfiguration 存储默认字段及其值 City 将访问 ApplicationConfiguration 值

```
class ApplicationConfiguration {
    String myDefaultField
    String value

    static getMyDefaultCity(){
        def city_id  =  ApplicationConfiguration.findByMyDefaultField('city') .id
        def  cityName = ApplicationConfiguration.get(city_id ).value
    } 
}

Class City{
    def ApplicationConfiguration
    String city = ApplicationConfiguration.getMyDefaultCity()
} 
```

基本上我无法从域和服务中访问 GORM 方法，例如 1) executeQuery() 2) find*()

我得到如下错误

```
 ... 5 more
Caused by: org.hibernate.InstantiationException: could not instantiate test objectCity
        ... 5 more
Caused by: java.lang.reflect.InvocationTargetException
        ... 5 more
Caused by: groovy.lang.MissingMethodException: No signature of method: ApplicationConfiguration.findByMyDefaultFie
ld() is applicable for argument types: (java.lang.String) values: [city]
        at ApplicationConfiguration.getMyDefaultCity(ApplicationConfiguration.groovy:63)
        at City.<init>(City.groovy:28) 
```

当我`ApplicationConfiguration.findByMyDefaultField('city')`在我的控制器中执行此操作时，它工作正常，可以在控制器中访问 GORM 方法

重现错误的测试用例是

```
1) Create a project using grails project wizard
2) Create two domain classes ApplicationConfiguration(String myDefaultField, String value) and City(String city) 
3) Do generate-all for  ApplicationConfiguration
4) Now add this "getMyDefaultCity()" with the definition method as shown above
5) Initialize the filed city in City domain class "String city = ApplicationConfiguration.getMyDefaultCity()"
6) Restart the application 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T15:50:33.367

也许这个问题对你有用：[Adding business logic to a domain class using a getter style method name](https://stackoverflow.com/questions/2920250/adding-business-logic-to-a-domain-class-using-a-getter-style-method-name)

您是否对该方法使用了瞬态声明？

# c++ - C++ 中转换运算符之间的优先级

> ID：11465999
> 
> 赞同：3
> 
> 时间：2012-07-13T07:29:11.033
> 
> 标签：c++

在需要指针的函数的参数解析期间，为什么选择引用到指针的转换而不是指针转换？

```
template<typename T>
  class resource_ptr
  {
    public:
      operator T*()const {...} // <- C1: Convert to raw pointer for observation.
      operator T*&()     {...} // <- C2: Convert to reference to pointer, for assignment.
    ...
  };
...
void AcquireResource(resource_class *&);  // Assigns to the given pointer.
void UseResource(resource_class *);
...
resource_ptr<resource_class> rpResource;
AcquireResource(rpResource); // <- Calls C2, as expected.
UseResource(rpResource);     // <- Calls C2\.  C1 would have been nice.

UseResource((resource_class*)rpResource); // <- Still calls C2\. ??? 
```

请注意，在此特定设计中，由于 C2 授予写访问权限，因此它断言资源指针当前未分配，以防止资源泄漏。所以重要的是只有当我们真正想要通过引用的指针时才使用 C2，比如传递给分配给它的 API 时。就目前而言，这种设计被打破了。

（这些转换可以用显式函数替换，但我想了解这个问题。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:33:08.377

当`const`要转换的对象为 const 时使用版本。这与普通成员函数的工作方式相同。

我会使用命名转换函数，以使其更易于阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T14:17:25.870

您的调用`UseResource`是对非类类型（指针类型）的初始化，因此适用以下子句：

> [c++11](/questions/tagged/c%2b%2b11 "显示标记为“c++11”的问题")
> 
> ### 8.5 初始化器 [dcl.init]
> 
> 15 [...] — 否则，如果源类型是（可能是 cv 限定的）类类型，则考虑转换函数。列举了适用的转换函数 (13.3.1.5)，并通过重载决议 (13.3) 选择最佳转换函数。

是否为参数类型提供显式转换并不重要`resource_class *`；强制转换将初始化从*复制初始化*更改为*直接初始化*，但是（根据 8.5:13）当目标类型是非类类型时，区别是无关紧要的。

然后我们有两个转换函数，分别具有有效的参数列表`(resource_ptr &)`和`(resource_ptr const &)`（对于隐式对象参数）；13.3.3.2:3 适用于绑定引用，因此 cv 限定的引用绑定优于 cv 限定的绑定。