# StackOverflow 问答 10310000-10310999

# jquery - jQuery删除确认框

> ID：10310004
> 
> 赞同：40
> 
> 时间：2012-04-25T05:48:20.197
> 
> 标签：jquery

在我的 jQuery 中，我在表格格式的输出中显示我的结果，我的 jQuery 的一部分是

```
<td class='close' onclick='deleteItem(#ITEMID,#ITEMNAME)'></td> 
```

这`"close"`是一个 CSS 类，在这个类中我有十字标记图像，如果我点击这个十字标记，函数（deleteItem）将被触发。

在这里我想要做的是，如果我点击这个十字标记，`"delete confirmation box"`应该会弹出一个，如果我点击是，这个 onclick 事件应该触发，否则如果我点击否，什么都不会发生。

我怎样才能做到这一点，任何人都可以帮助我....

* * *

## 回答 #1

> 赞同：119
> 
> 时间：2012-04-25T05:51:25.867

您需要将 confirm() 添加到您的 deleteItem();

```
function deleteItem() {
    if (confirm("Are you sure?")) {
        // your deletion code
    }
    return false;
} 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-02-07T11:12:25.600

```
$(document).ready(function(){
  $(".del").click(function(){
    if (!confirm("Do you want to delete")){
      return false;
    }
  });
}); 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2014-02-15T04:31:59.333

我用这个：

```
<a href="url/to/delete.asp" onclick="return confirm(' you want to delete?');">Delete</a> 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2012-04-25T05:52:46.227

试试下面的代码：

```
$('.close').click(function(){
var checkstr =  confirm('are you sure you want to delete this?');
if(checkstr == true){
  // do your code
}else{
return false;
}
}); 
```

或者

```
function deleteItem(){
    var checkstr =  confirm('are you sure you want to delete this?');
    if(checkstr == true){
      // do your code
    }else{
    return false;
    }
  } 
```

这可能对你有用..

谢谢。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2012-04-25T05:54:14.993

```
function deleteItem(this) {
    if (confirm("Are you sure?")) {
          $(this).remove();
    }
    return false;
} 
```

您也可以以相同的方式使用 jquery modalin

jQuery版本

你确定吗？

```
 $(document).ready(function() {
    $("#dialog-box").dialog({
      autoOpen: false,
      modal: true
    });

  $(".close").click(function(e) {
    var currentElem = $(this);
    $("#dialog-box").dialog({
      buttons : {
        "Confirm" : function() {
          currentElem.remove()
        },
        "Cancel" : function() {
          $(this).dialog("close");
        }
      }
    });

    $("#dialog-box").dialog("open");
  });
}); 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-04-25T06:09:52.567

试试这个`JSFiddle`演示：http: [//jsfiddle.net/2yEtK/3/](http://jsfiddle.net/2yEtK/3/)

```
Jquery Code:

$("a.removeRecord").live("click",function(event){
   event.stopPropagation();
   if(confirm("Do you want to delete?")) {
    this.click;
       alert("Ok");
   }
   else
   {
       alert("Cancel");
   }       
   event.preventDefault();

}); 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-01-13T11:59:20.930

简单地作为：

```
$("a. close").live("click",function(event){
     return confirm("Do you want to delete?");
}); 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2016-12-24T01:03:22.087

试试这个我的朋友

```
 // Confirmation Message On Delete Button.

  $('.close').click(function() {
    return confirm('Are You Sure ?')
  });
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<td class='close'></td>
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2013-05-13T10:43:49.127

更新 JQuery 版本 1.9.1 删除链接在[这里](http://jsfiddle.net/2yEtK/161/) `$("#div1").find('button').click(function(){...}`

# actionscript-3 - 位图数据冲突

> ID：10310005
> 
> 赞同：0
> 
> 时间：2012-04-25T05:48:21.697
> 
> 标签：actionscript-3, flash

我一直在尝试使用 BitmapData 进行碰撞检测，但到目前为止都失败了，我不知道为什么。代码编译，但不做任何事情（当它应该打印 "hit" 时）。谁能帮我？

```
package 
{
import flash.events.KeyboardEvent;
import flash.events.Event;
import flash.display.MovieClip;
import flash.ui.Keyboard;
import flash.display.BitmapData;
import flash.geom.Point;

public class Main extends MovieClip
{
    private var spd:int = 5;
    private var pressedKeys:Object = {};
    private var bgMask:BitmapData;
    private var plMask:BitmapData;
    private var wall:Wall = new Wall();

    public function Main()
    {
        var bgBitMapData:BitmapData = new BitmapData(bg.width,bg.height,true,0);
        bgMask = bgBitMapData.clone();
        wall.x = bg.x;
        wall.y = bg.y;
        bgMask.draw( wall );

        var plBitMapData:BitmapData = new BitmapData(pl.width,bg.height,true,0);
        plMask = bgBitMapData.clone();
        bgMask.draw( pl );

        stage.addEventListener(KeyboardEvent.KEY_DOWN,this.keyPressHandler);
        stage.addEventListener(KeyboardEvent.KEY_UP,this.keyPressHandler);
        stage.addEventListener(Event.ENTER_FRAME,this.gameLoop);
    }

    public function keyPressHandler( evt:KeyboardEvent ):void
    {
        if (evt.type == KeyboardEvent.KEY_DOWN)
        {
            pressedKeys[evt.keyCode] = 1;
        }
        else
        {
            delete pressedKeys[ evt.keyCode ];
        }
    }

    public function inputHandler():void
    {
        var moveXBy:int;
        var moveYBy:int;

        if (pressedKeys[Keyboard.J])
        {
            moveXBy -=  spd;
        }

        if (pressedKeys[Keyboard.K])
        {
            moveYBy +=  spd;
        }

        if (pressedKeys[Keyboard.L])
        {
            moveXBy +=  spd;
        }

        if (pressedKeys[Keyboard.I])
        {
            moveYBy -=  spd;
        }

        pl.x +=  moveXBy;
        pl.y +=  moveYBy;

    }

    public function playerWallCollision():void
    {
        if ( plMask.hitTest( new Point( wall.x, wall.y ), 1, bgMask, new Point( pl.x, pl.y ), 1))
        {
            trace(  "hit" );
        }
    }

    public function gameLoop( evt:Event ):void
    {
        wallUpdate();
        inputHandler();
        playerWallCollision();
    }

    private function wallUpdate()
    {
        wall.x = bg.x;
        wall.y = bg.y;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T08:03:20.470

据此脚本告诉我，在以下几行之后：

```
var bgBitMapData:BitmapData = new BitmapData(bg.width,bg.height,true,0);
    // bgBitMapData is an empty BMP at this point cause its just freshly instanciated
    bgMask = bgBitMapData.clone();
    wall.x = bg.x;
    wall.y = bg.y;
    bgMask.draw( wall );

    var plBitMapData:BitmapData = new BitmapData(pl.width,bg.height,true,0);
    // no idea y you make this plBitMapData anyway
    plMask = bgBitMapData.clone();
    // now you clone the empty bgBitMapData to be plMask
    bgMask.draw( pl ); 
```

plMask 永远不会充满任何东西！所以与空的 BitmapData 相比应该总是返回 false。

# 所以什么时候应该输出命中的答案 - 从不;）

作为旁注，请尝试通过以下方式使其更具可读性： 1\. 在这里和那里写评论您的意图是什么，以及 2\. 采用直接的方式：

```
 var bgBitMapData:BitmapData = new BitmapData(bg.width,bg.height,true,0);
    bgMask = bgBitMapData.clone();
    // this position seems just wrong to me wall.x or wall.y do not effect the draw so keep it somewhere else... since you will copy the inside of wall
    wall.x = bg.x;
    wall.y = bg.y;
    bgMask.draw( wall ); 
```

对我来说，它应该看起来像：

```
 // placing a wall to new / init coordinates 
    wall.x = bg.x;
    wall.y = bg.y;

    // drawing wall on bgMask for hittesting against player or what ever you intende here
    bgMask = new BitmapData(bg.width,bg.height,true,0);
    bgMask.draw( wall ); 
```

# algorithm - 找到最接近其他点的点

> ID：10310013
> 
> 赞同：9
> 
> 时间：2012-04-25T05:48:47.937
> 
> 标签：algorithm

给定具有 x 和 y 坐标的 N 个点（在 2D 中）。您必须找到一个点 P（在 N 个给定点中），使得从其他（N-1）个点到 P 的距离之和最小。

例如。给定 N 个点 p1(x1,y1),p2(x2,y2) ...... pN(xN,yN)。我们在 p1 ， p2 .... PN 中找到了一个点 P，它与所有其他点的距离之和最小。

我使用了蛮力方法，但我需要更好的方法。我也尝试找到中位数、平均值等，但它不适用于所有情况。

然后我想出了一个想法，我将 X 视为多边形的顶点并找到该多边形的质心，然后我将从 Y 中选择一个离质心最近的点。但我不确定质心是否会最小化它到多边形顶点的距离之和，所以我不确定这是否是一个好方法？有没有解决这个问题的算法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T11:03:58.283

如果您的点分布得很好，并且如果它们太多以至于蛮力（计算从每个点到每个其他点的总距离）没有吸引力，那么以下可能会给您一个足够好的答案。我所说的“分布良好”是指（大约）均匀地或（大约）随机地，并且在多个位置没有标记的聚类。

在您的空间中创建一个统一的`k*k`网格，其中`k`是一个奇数。如果您的点分布良好，那么您正在寻找的点（可能）位于该网格的中央单元格中。对于网格中的所有其他单元格，计算每个单元格中的点数并近似每个单元格中点的平均位置（使用单元格中心或计算单元格`(x,y)`中点的平均值）。

对于中央单元格中的每个点，计算到中央单元格中每个其他点的距离，以及到其他单元格中的点的加权平均距离。当然，这将是从该点到其他单元格中点的“平均”位置的距离，由其他单元格中的点数加权。

您必须在较高值的增加精度`k`与增加的计算负载之间进行权衡，并找出最适合您的点的方法。如果跨单元的点分布远非均匀，那么这种方法可能不适合。

这种方法在大规模模拟中得到了广泛的应用，在这些模拟中，点具有在距离上运行的重力和电荷等属性。是否适合你的需求，我不知道。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-30T07:49:29.323

考虑的点被称为几何中位数

质心或质心，类似于几何中值，定义为最小化到每个样本的距离的平方和，可以通过一个简单的公式找到——它的坐标是样本坐标的平均值，但没有这样的公式以几何中位数而闻名，并且已经表明，一般不存在显式公式，也不存在仅涉及算术运算和第 k 个根的精确算法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T10:49:29.757

我不确定我是否理解您的问题，但是当您计算最小生成树时，从树的任何点到任何其他点的总和都是最小的。

# java - java输入验证：如何在空间分割用户输入？

> ID：10310014
> 
> 赞同：1
> 
> 时间：2012-04-25T05:48:51.483
> 
> 标签：java, input

我的任务：

> 通过确保用户输入一个正整数表示英尺、一个非负十进制数表示英寸以及一个正十进制数表示重量来执行输入验证。有关详细信息，请参阅示例会话。特别要注意回波打印的身高和体重值以及生成的身体质量指数值的格式。

我的程序有效，但我不知道如何使它看起来像下面的示例程序。我必须让用户输入以英尺为单位的高度，然后是空间，然后是英寸。我不知道如何在空间分割用户输入。

示例会话：

```
Enter height using feet space inches (e.g., 5 6.25): hi there
Invalid feet value. Must be an integer.
Invalid inches value. Must be a decimal number.
Re-enter height using feet space inches (e.g., 5 6.25): 0 9
Invalid feet value. Must be positive.
Re-enter height using feet space inches (e.g., 5 6.25): 5.25 0
Invalid feet value. Must be an integer.
Re-enter height using feet space inches (e.g., 5 6.25): 5 9.25
Enter weight in pounds: 0
Invalid pounds value. Must be positive.
Re-enter weight in pounds: 150.5
height = 5'-9.25"
weight = 150.5 pounds
body mass index = 22.1 
```

到目前为止我的代码：

```
package ch14;
import java.util.Scanner;

public class BMI {

public static void main(String[] args) {

    String inputString;
    double bmi;
    double pounds;
    double inches;
    String feet;

    Scanner stdIn = new Scanner(System.in);

    System.out.print("Please enter height using feet space inches (e.g., 5 6.25): ");
    inputString = stdIn.nextLine();

    try
    {
        Double.parseDouble(inputString);
    }
    catch(NumberFormatException nfe)
    {
        System.out.println ("Invalid inch value. Number must be a decimal.");
        System.out.print ("Re-enter height in inches: ");
        inputString = stdIn.nextLine ();
    }

    inches=Double.parseDouble(inputString);

    if(inches<=0)
    {
        System.out.println("Invalid inch value. Must be a positive number.");
        System.out.print("Re-enter height in inches:");
        inputString = stdIn.nextLine();
        inches=Double.parseDouble(inputString);
    }

    System.out.print("enter weight(in pounds) ");
    inputString = stdIn.nextLine();

    try
    {
        Double.parseDouble(inputString);
    }
    catch(NumberFormatException nfe)
    {
        System.out.println("Invalid pound value. Number must be a decimal.");
        System.out.print("Re-enter the weight in pounds: ");
        inputString = stdIn.nextLine();
    }

    pounds=Double.parseDouble(inputString);

    if(pounds <= 0)
    {
        System.out.println("Invalid pound value. Must be a positive number.");
        System.out.print("Re-enter the weight in pounds:");
        inputString = stdIn.nextLine();
        pounds=Double.parseDouble(inputString);
    }

    System.out.println("Height = " + inches + "\"");
    System.out.println("Weight = " + pounds + " pounds");
    System.out.printf("Body Mass Index = %.1f\n",(pounds * 703.)/(inches * inches));

    }//end main
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T11:12:01.670

您使用[.split](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#split%28java.lang.String%29)进行拆分，因此，对于单个空格...

```
mystring.split("\\s"); 
```

对于任意数量的空间...

```
mystring.split("\\s+"); 
```

这两个操作都返回一个字符串数组，然后可以像任何其他数组一样访问它，例如......

```
String mystring = "Hello World";
String[] words = mystring.split("\\s");
System.out.println(words[0]); //<--- Would print "Hello" 
```

对于您的特定问题，您可能需要将这些 String 对象转换为 Double 之类的。您可以使用`Double.parseDouble()`. 例如，

```
Double number = Double.parseDouble("1.0"); 
```

上面这行代码将`"1.0"`String 对象转换为 value 的双精度值`1.0`。

# android - imageview.setBackgroundResource 上的空指针

> ID：10310015
> 
> 赞同：1
> 
> 时间：2012-04-25T05:48:56.157
> 
> 标签：android

我在名为footer.xml 的布局中有一个imageview，它实际上是作为listview 的页脚添加的。我需要在listview 的末尾动态显示图像。所以我在我的java 文件中引用了imageview，如下所示

```
 ImageView footerimage;
    View footerView = getLayoutInflater().inflate(R.layout.footer, null);//This is the footer layout which i have added to the listview
    footerimage = (ImageView)findViewById(R.id.im);
    footerimage.setBackgroundResource(images[i]);//images is an integer array which has drawable resources and i value is not null.
    lv.addFooterView(footerView, null, false); 
```

我在上面代码的第四行中遇到了一个空指针异常。我还将 images[i] 更改为 R.drawable.someimage 但 NPE 仍然存在。下面是我的页脚布局

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<ImageView
    android:id="@+id/im"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"        
    android:contentDescription="@string/app_name" /> 
```

任何建议表示赞赏。在此先感谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T05:51:02.850

我想应该是：

```
footerimage = (ImageView) footerView.findViewById(R.id.im); 
```

# css - 导出到 iPad 时 Css 样式发生变化

> ID：10310016
> 
> 赞同：0
> 
> 时间：2012-04-25T05:48:57.997
> 
> 标签：css, ios, ipad, html, ios5

我有一个正在制作的页面，当我导出它时，文本会从格式化变为未格式化。我只有 div、类和文本。那么，它为什么会这样做，我该如何解决呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T05:53:45.953

mmhh ...这可能是问题，当您在移动互联网上加载页面时，而不是通过wlan）您必须为移动设备设置一些参数...您可以检查这是否适合您

这解决了我的问题：

```
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta content="minimum-scale=1.0, width=device-width, maximum-scale=1.0, user-scalable=no" name="viewport" />
<link href="css/style.css" rel="stylesheet" type="text/css" media="screen" /> 
```

# php - 使用 PHP 读取 C++ QString 二进制数据

> ID：10310018
> 
> 赞同：0
> 
> 时间：2012-04-25T05:49:16.553
> 
> 标签：php, c++, qt, binary

我必须使用 Qt 框架读取由 C++ 应用程序编写的二进制文件。数据由 C 结构构成，如下所述。字符是从 C++ 应用程序中的 QString 指针写入的。

```
struct panelSystem{
    char ipAddress[16];
    char netMask[16];
    char gateway[16];
    char paddingBytes[128];
}; 
```

我尝试使用以下 PHP 代码来读取多字节字符值：

```
 // Where: $length is a defined number (16 or 128 in this case)
    //        $data is a binary string read from the binary file

    $var = substr($data, $currentOffset, $length);
    $currentOffset += $length;    // Increment offset by X bytes
    $var = trim(str_replace("\0", "\n", $var));
    $var = unpack("C*", $var);
    $char = '';
    foreach ($var as $letter) {
        $char .= chr($letter);
    }
    $var = $char; 
```

不幸的是，结果包括空 (\0) 和/或所需字符前后的不相关字符。

有没有办法将这些字符从 QString 多字节数组解释或转换为 PHP 标准字符串（不修改原始输入）？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T12:09:01.437

将使用（至少）长度值和字符数据将 QString 写入二进制文件。您还需要考虑字符串的格式。它可能是 unicode utf-16，在这种情况下，简单的字符将用零填充每个字符。零的位置将取决于文件写入的字节序，尽管 IIRC Qt 总是将文件存储在一个特定的字节序中，无论平台如何，以便二进制文件是跨平台的。

查看 Qt 源代码以了解字符串是如何编写的。也许还可以在十六进制编辑器中查看二进制文件。

如果您的二进制文件只包含该结构，并且您对修复二进制格式没有问题，那么您可能会发现使用原始 IO 编写文件要容易得多：

```
struct panelSystem{
    char ipAddress[16];
    char netMask[16];
    char gateway[16];
    char paddingBytes[128];

    void write(QDataStream& ds) {
        ds.writeRawData(ipAddress, sizeof(ipAddress));
        ds.writeRawData(netMask, sizeof(netMask));
        ds.writeRawData(gateway, sizeof(gateway));
        ds.writeRawData(paddingBytes, sizeof(paddingBytes));
    }
};

//...

    panelSystem p;
    GetPanelSystemData(&p);

    QFile file("c:\\work\\test\\testbin.bin");
    if (file.open(QIODevice::Truncate | QIODevice::WriteOnly)) {
        QDataStream ds(&file);
        p.write(ds);        
    }
    file.close(); 
```

我建议至少在启动二进制文件中添加一个版本号/标题，以防止自己陷入困境。

# file-upload - 无法上传 tmp 文件/文件上传不起作用

> ID：10310019
> 
> 赞同：1
> 
> 时间：2012-04-25T05:49:27.223
> 
> 标签：file-upload, php

我刚刚切换到专用服务器。突然不能上传文件了。我最好的猜测是因为 tmp 文件没有上传？每次我尝试这样做时，`move_uploaded_file('tmp','new_image');`  我都会得到`permission denied`and `failed to open stream`。

我没有改变剧本；但显然是绝对路径。此外，所有文件权限都设置为 705。我认为这与 tmp 文件无法正常工作的 php.ini 有关...我不再拥有来自共享主机的默认 php.ini。有什么想法可能导致这种情况吗？谢谢

这是我的 php.ini

```
extension_dir = ./
upload_tmp_dir = ./tmp

-- more but not relevant

`Warning: move_uploaded_file(users/126/question_images/question mark.jpeg): failed to open` stream: 
```

这是权限被拒绝错误

`Permission denied in ---.php on line 115 Warning: move_uploaded_file():`

这是另一个错误

```
 Unable to move '/tmp/phpVrkytD' to '---.jpeg' in .---.php on line 115 
```

这是上传图片的脚本部分

```
$long_image_loc = 'absolute_path/'.$image_name;

            if(move_uploaded_file($image_tmp_name, $long_image_loc) === true) {
                return true;
                } 
```

这在共享主机上非常有效。这是一个非常简单的图像上传脚本。

# python - 如何将与我的正则表达式匹配的所有字符串放入 Python 中的列表中？

> ID：10310023
> 
> 赞同：2
> 
> 时间：2012-04-25T05:50:03.287
> 
> 标签：python, regex, list, date

因此，在我的 Python 脚本中，我打开了一个文本文件，其中包含格式为“1991 年 1 月 26 日”的日期

这是我的正则表达式：

```
pattern = """
(?:(September|April|June|November),\ (0?[1-9]|[12]\d|30),\ ((?:19|20)\d\d))#Months   with 30 days
|(?:(January|March|May|July|August|October|December),\ (0?[1-9]|[12]\d|3[01]),\ ((?:19|20)\d\d))#Months with 31 days
|(?:February, (?:(?:(0?[1-9]|1\d|2[0-8]),\ ((?:19|20)\d\d))|(?:(29),\ ((?:(?:19|20)(?:04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96))|2000))))#February with 28 days or 29 with a leap year
"""

r = re.compile(pattern, re.VERBOSE) 
```

此正则表达式应匹配任何实际日期，包括闰年的 2 月 29 日。

我遇到的问题是想办法通过我打开的文本文件并将所有匹配的日期放入列表中。我试过使用 .match、.search、.split 和其他的，但我没有任何运气。有没有办法将所有匹配项作为字符串放入列表中，以便我可以轻松地将列表与另一个列表进行比较并找到两个列表中的所有日期？基本上我想要一个看起来像的列表

[“1990 年 1 月 1 日”，“2012 年 2 月 29 日”，“1945 年 12 月 25 日”，....]

另外，请让我知道我的正则表达式是否正确。我从另一个问题的答案修改了它，但我不确定我是否正确，因为我无法查看我的文本文件中的日期是否匹配。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T05:54:02.490

你没有[`re.findall()`](http://docs.python.org/library/re.html#re.findall)在你尝试过的事情列表中提到。这为您提供了所有正则表达式匹配的列表。

但是，您需要使用所有非捕获组`(?:...)`，否则您将获得所有匹配组的列表`(...)`。因此，我建议

```
pattern = """
    (?:September|April|June|November)
    ,[ ] 
    (?:0?[1-9]|[12]\d|30)
    ,[ ]
    (?:19|20)\d\d # Months with 30 days

    |

    (?:January|March|May|July|August|October|December)
    ,[ ] 
    (?:0?[1-9]|[12]\d|3[01])
    ,[ ] 
    (?:19|20)\d\d # Months with 31 days

    |

    February
    ,[ ] 
    (?:
     (?:0?[1-9]|1\d|2[0-8])
     ,[ ] 
     (?:19|20)\d\d
    |
     29
     ,[ ] 
     (?:
      (?:19|20)
      (?:04|08|12|16|20|24|28|32|36|40|44|48|
         52|56|60|64|68|72|76|80|84|88|92|96)
     |
      2000
     )
    ) # February with 28 days or 29 with a leap year""" 
```

但是你真的需要验证日期的正确性吗？您是否希望`February, 31, 2000`在您的数据中出现虚假日期？如果没有，您可以极大地简化您的正则表达式。或者至少将日期验证委托给日期解析功能，该功能比可怕的正则表达式更适合此任务。

例如：

```
pattern = """
    (?:January|February|March|April|May|June|
       July|August|September|October|November|December)
    ,[ ]
    [0-3]?\d
    ,[ ]
    (?:19|20)\d\d
""" 
```

匹配诸如`January, 0, 1999`or之类的废话`February, 31, 2000`，但这真的很重要吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-16T09:29:06.353

您可以使用简单的正则表达式进行预处理并使用[`datetime.strptime()`](http://docs.python.org/library/datetime#datetime.datetime.strptime)函数验证日期：

```
import re
from datetime import datetime

def extract_date_strings(text):
    return filter(valid_date, re.findall(r"[A-Z][a-z]+, \d\d?, \d{4}", text))

def valid_date(datestr):
    try:
        return datetime.strptime(datestr, "%B, %d, %Y") #note: locale dependent
    except ValueError: 
        return None 
```

您可以使用此代码将结果与您的测试代码进行比较。

### 例子

```
print extract_date_strings('''"January, 1, 1990", "February, 29, 2012",
     "December, 25, 1945"
     May, 40, 1945 Not a Month, 20, 1945
     February, 29, 2000 February, 29, 1900
     May, 1, 199
     ''') 
```

### 输出

```
['January, 1, 1990', 'February, 29, 2012', 'December, 25, 1945', 
 'February, 29, 2000'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:39:38.567

随机沉思：

如果您需要询问您的正则表达式是否正确，那就太复杂了。

re.VERBOSE 的想法是使您的正则表达式清晰易读，而不是附加在任何情况下都隐藏的明显注释。如果你看到 SO 水平滚动条，你的胡言乱语太长了。

如果`findall`不存在，您可以编写一个循环，`search`用于定位下一次出现的位置，以及`match_object.end()`arg`pos`的`search`：

```
def myfindall(regex, strg):
    alist = []
    pos = 0
    while True:
        m = regex.search(strg, pos)
        if not m: break
        alist.append(m.group(0))
        pos = m.end()
    return alist 
```

您确定月份名称后应该有逗号吗？

# python - 表单域不显示

> ID：10310027
> 
> 赞同：0
> 
> 时间：2012-04-25T05:50:31.960
> 
> 标签：python, django, forms

我在 Django 中有以下用于表单的代码。

```
class ProductAddToCartForm(forms.Form):
    quantity = forms.IntegerField(widget=forms.TextInput(attrs={'size':'2', 'value':'1', 'class':'quantity', 'maxlength':'5'}), error_messages={'invalid':'Please enter a valid quantity.'}, min_value =1)

    product_slug = forms.CharField(widget=forms.HiddenInput())

    sizes_available = []
    sizes_available.append(7)
    sizes_available.append(9)
    size = forms.ChoiceField(widget=forms.Select, choices=sizes_available) 
```

但是，当我编译这个时`ChoiceField`，`CharField`并`IntegerField`没有出现。`size = ...`当我用then注释掉该行`IntegerField`并`CharField`出现时。我认为我的`ChoiceField`声明有问题，但我不确定到底是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:03:02.687

[https://docs.djangoproject.com/en/1.4/ref/forms/fields/#choicefield](https://docs.djangoproject.com/en/1.4/ref/forms/fields/#choicefield)

选择必须是

> 2 元组的可迭代（例如，列表或元组）用作该字段的选择。

尝试 。`append((7,7))`

# android - 为什么 Android 不出现在 Eclipses 的首选项中？

> ID：10310028
> 
> 赞同：16
> 
> 时间：2012-04-25T05:30:09.740
> 
> 标签：android, eclipse, development-environment, toolkit

我已经按照[官方说明](http://developer.android.com/sdk/index.html)安装了 Android 开发者工具。

![已安装的应用程序](../Images/42143f7345eaa1e9ca48b6495f93240b.png)

为什么选项卡没有出现在 中`Windows->Preferences`，正如[他们所说](http://developer.android.com/sdk/eclipse-adt.html#configuring)的那样？

![Eclipse 首选项](../Images/b786bde5182e2a86078a8c8ffa2c8501.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-21T12:00:53.613

删除插件，然后重启如下：

**日食-清洁**

现在尝试从在线安装重新安装 ADT

**或者**

前往帮助 -> 安装新软件。单击可用的软件站点。删除 Android 存储库。取消选中 Indigo 和 Eclipse 更新并重新检查它们。现在返回帮助 -> 检查更新。完成后，再次添加 Android 存储库。接受许可证，您应该一切顺利。

快乐编码..

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T13:44:29.113

这不会直接解决您的问题，但我建议您查看适用于 Android 的 MOTODEV STUDIO。从本质上讲，它是一个定制的 Eclipse IDE，预装了所有的 Android 工具以及更多他们自己的应用程序验证工具。我发现他们的工具很有用，尤其是代码片段和应用程序验证器。我相信您需要注册才能下载，但这是一个快速且免费的过程，您始终可以使用临时电子邮件服务。无论如何，这应该允许您启动并运行，直到找到您的错误（即使我不明白您为什么要切换回普通的 Eclipse）。

[适用于 ANDROID 的 MOTODEV STUDIO](http://developer.motorola.com/tools/motodevstudio/?utm_campaign=mhp01092012&utm_source=mhp&utm_medium=mws "摩托开发工作室")

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-20T16:59:26.943

检查您的插件目录，该目录位于您将原始 Eclipse zip 文件解压缩到的文件夹中。

对我来说它位于

```
eclipse-java-indigo-SR2-win32-x86_64\eclipse\plugins 
```

我看到以下与 ADT 插件相关的文件

```
com.android.ide.eclipse.adt_18.0.0.v201203301601-306762.jar
com.android.ide.eclipse.ddms_18.0.0.v201203301601-306762.jar
com.android.ide.eclipse.hierarchyviewer_18.0.0.v201203301601-306762.jar
com.android.ide.eclipse.traceview_18.0.0.v201203301601-306762.jar
overlay.com.android.ide.eclipse.adt.overlay_18.0.0.v201203301601-306762.jar 
```

确保您有与这些类似的文件。

现在打开一个 shell 并在 eclipse 安装目录中运行以下命令

```
eclipse.exe -console 
```

你应该得到`osgi`（开放服务网关倡议）控制台。现在您可以查看您的包是否有未解决的依赖项并手动启动它们。所以试试

```
osgi> diag com.android.ide.eclipse.adt 
```

和

```
osgi> start com.android.ide.eclipse.adt 
```

并检查输出。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-25T05:59:11.510

安装 ADT 插件后是否重新启动了 eclipse

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-27T12:11:20.973

我看到你在 Windows 上，我遇到了同样的问题，在我的情况下，我必须以**管理员身份运行 Eclipse 来安装插件**，所以卸载它，以管理员身份重新启动 Eclipse 并重新安装它。之后您不需要以管理员身份运行 eclipse 即可使用该插件，它仅在安装时需要。

根本原因可能是文件夹所有权问题，正如其他人所引用的那样，当我遇到同样的问题时，我尝试设置文件夹所有权但我无法应用我的权限更改，因此以管理员身份运行 eclipse 对我来说是一种简单的方法。如果您不允许在工作站上以管理员身份运行 eclipse，那么您应该在 ADT 文档中搜索运行 Eclipse 的用户应该拥有哪个文件夹。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-04-25T06:23:01.787

检查这篇[文章](https://stackoverflow.com/questions/8106673/adt-plugin-installation-issues-eclipse-3-7-ubuntu-11-10.)中的答案：

可能会选择帮助 > 检查更新或重新安装 ADT 插件。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-27T10:47:48.853

插件可能没有正确安装。尝试重新安装 ADT。或者在帮助菜单中检查更新并尝试通过它安装。我希望它能解决你的问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-27T04:04:41.493

您使用的是 eclipse id ，我认为您没有使用正确的 id。如需更好的参考，请访问以下链接

[你好世界的例子](http://www.mkyong.com/android/android-hello-world-example/)

[安装-adt](http://developer.android.com/sdk/installing/installing-adt.html)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-05-07T07:14:37.900

这里同样的问题。我已经这样解决了：

*   启动 Eclipse，然后选择帮助 > 安装新软件。
*   单击右上角的添加。
*   在出现的 Add Repository 对话框中，输入“ADT Plugin”作为名称，输入以下 URL 作为位置： [https ://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)
*   单击确定。
*   如果您在获取插件时遇到问题，请尝试在位置 URL 中使用“http”，而不是“https”（出于安全原因，首选 https）。
*   在可用软件对话框中，选中开发人员工具旁边的复选框，然后单击下一步。
*   在下一个窗口中，您将看到要下载的工具列表。点击下一步。阅读并接受许可协议，然后单击完成。
*   如果您收到安全警告，提示无法确定软件的真实性或有效性，请单击“确定”。
*   安装完成后，重新启动 Eclipse。

[从这里](https://stuff.mit.edu/afs/sipb/project/android/docs/sdk/installing/installing-adt.html)跟随

# windows-phone-7 - 在 WP7 中动态绘制 visiblox 的 StackedColumnGraph

> ID：10310029
> 
> 赞同：2
> 
> 时间：2012-04-25T05:50:43.037
> 
> 标签：windows-phone-7, c#-4.0, silverlight-3.0, visiblox

我在将值动态绑定到 WP7 中 visiblox 的 StackedColumnGraph 时遇到问题。

## XAML 代码具有硬编码值..

```
<UserControl.Resources>
    <Style x:Key="NoBorder" TargetType="Border">
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="BorderBrush" Value="Black" />
    </Style>

    <local:PartyList x:Key="Labour" >
        <local:ElectionResult Year="1997" VotesMillions="13.5" />
        <local:ElectionResult Year="2001" VotesMillions="10.7" />
        <local:ElectionResult Year="2005" VotesMillions="9.6" />
        <local:ElectionResult Year="2010" VotesMillions="8.6"/>

</local:PartyList>

    <local:PartyList x:Key="Conservatives">
        <local:ElectionResult Year="1997" VotesMillions="9.6" />
        <local:ElectionResult Year="2001" VotesMillions="8.4" />
        <local:ElectionResult Year="2005" VotesMillions="8.8" />
        <local:ElectionResult Year="2010" VotesMillions="10.7"/>

    </local:PartyList>

    <local:PartyList x:Key="LibDem">
        <local:ElectionResult Year="1997" VotesMillions="5.2" />
        <local:ElectionResult Year="2001" VotesMillions="4.8" />
        <local:ElectionResult Year="2005" VotesMillions="6.0" />
        <local:ElectionResult Year="2010" VotesMillions="6.8"/>

    </local:PartyList>

    <local:PartyList x:Key="Others">
        <local:ElectionResult Year="1997" VotesMillions="2.9" />
        <local:ElectionResult Year="2001" VotesMillions="2.5" />
        <local:ElectionResult Year="2005" VotesMillions="2.8" />
        <local:ElectionResult Year="2010" VotesMillions="3.5"/>

    </local:PartyList> 
```

我有一个集合，其中存储了从服务获取的数据，我需要知道如何将这些值与这些硬编码值绑定以绘制图形...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T12:52:59.433

您可能需要查看以下博客文章，因为它概括地解释了如何将数据绑定到 Visiblox 图表。简而言之，根据您尝试进行绑定的级别，有几个不同的选项，但 BindableDataSeries 是基本构建块。

[http://www.visiblox.com/blog/2011/06/data-binding-with-visiblox-charts](http://www.visiblox.com/blog/2011/06/data-binding-with-visiblox-charts)

[免责声明：我为 Visiblox 工作]

# ios4 - 我的应用程序在做捏手势识别器时非常慢

> ID：10310031
> 
> 赞同：0
> 
> 时间：2012-04-25T05:50:48.953
> 
> 标签：ios4, uipinchgesturerecognizer

我在 iOS 5 中做一个 iPhone 应用程序。

我在识别捏合手势的同时扩展并重新加载 uitableview。

它在模拟器中效果很好。但在设备中它的工作速度很慢。例如，在 UIGestureRecognizerStateEnded 之后的设备中，只有所有行会被扩展，但在模拟器中，行正在扩展和重新加载，而 UIGestureRecognizerStateChanged 本身。

对内存问题有什么建议吗？

我的代码在这里

```
if (pinchRecognizer.state == UIGestureRecognizerStateBegan) {

    self.initialPinchHeight = rowHeight;

    [self updateForPinchScale:pinchRecognizer.scale];
}
else {
    if (pinchRecognizer.state == UIGestureRecognizerStateChanged) {
        [self updateForPinchScale:pinchRecognizer.scale];

    }
    else if ((pinchRecognizer.state == UIGestureRecognizerStateCancelled) || (pinchRecognizer.state == UIGestureRecognizerStateEnded)) {
    }
}

-(void)updateForPinchScale:(CGFloat)scale{

CGFloat newHeight = round(MAX(self.initialPinchHeight * scale, DEFAULT_ROW_HEIGHT));

rowHeight = round(MIN(30.0, newHeight));
/*
 Switch off animations during the row height resize, otherwise there is a lag before the user's action is seen.
 */
BOOL animationsEnabled = [UIView areAnimationsEnabled];
[UIView setAnimationsEnabled:NO];
[self.tableView beginUpdates];
NSArray *visibleRows = [self.tableView indexPathsForVisibleRows];
[self.tableView reloadRowsAtIndexPaths:visibleRows withRowAnimation:UITableViewRowAnimationNone];
[self.tableView endUpdates];
[UIView setAnimationsEnabled:animationsEnabled];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:06:18.353

在试图弄清楚要优化什么之前，您应该衡量问题出在哪里。您可以使用 Time Profile 和 Core Animation 工具来执行此操作。使用 Xcode 的 Product 菜单并选择 Profile。确保在连接到设备时进行配置文件，正如您所注意到的，该设备具有与模拟器不同的性能特征。

Time Profile 仪器将帮助您识别在 CPU 上完成的工作。Core Animation 工具将帮助您识别 Core Animation 在 CPU 和 GPU 上所做的工作。注意[核心动画工具的](https://developer.apple.com/library/ios/#documentation/AnalysisTools/Reference/Instruments_User_Reference/CoreAnimationInstrument/CoreAnimationInstrument.html)调试选项复选框。它们有点神秘，但可以帮助您直观地识别 UI 中使 Core Animation 完成大量工作的部分。

有关适用于 iOS 的不同仪器的文档，请[点击此处](https://developer.apple.com/library/ios/#documentation/developertools/conceptual/InstrumentsUserGuide/Built-InInstruments/Built-InInstruments.html)。

我还推荐了涵盖 Core Animation的[WWDC 视频。](https://developer.apple.com/videos/wwdc/2011/)

# ruby-on-rails - 在 rails 辅助方法 where() 查询中使用变量列名

> ID：10310032
> 
> 赞同：0
> 
> 时间：2012-04-25T05:50:55.523
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在使用包含布尔值的用户模型 6 天

```
[sun20, mon21, tue22, wed23, thur24, fri25] 
```

每个用户都可以选择确认他们参与的 6 天中的哪一天。

我正在尝试定义一个简单的辅助方法：

```
 def day_confirmed(day)
    User.where(day: true).count
  end 
```

我可以在一天内通过并找出当天确认了多少用户，如下所示：

```
day_confirmed('mon21') 
```

我的问题是，当我在 中使用`day`时`where()`，rails 假定我正在搜索一个名为的列，`day`而不是输出我传递给我的方法的值。

我肯定忘记了什么，对吧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T05:57:14.703

这个语法：

```
User.where( day: true ) 
```

相当于：

```
User.where( :day => true ) 
```

这是因为`:`在散列中使用而不是`=>`，例如`{ foo: bar }`，与使用符号作为键相同，例如`{ :foo => bar }`。也许这会有所帮助：

```
foo = "I am a key"

hsh = { foo: "bar" }
# => { :foo => "bar" }

hsh.keys
# => [ :foo ]

hsh = { foo => "bar" }
# => { "I am a key" => "bar" }

hsh.keys
# => [ "I am a key" ] 
```

所以，如果你想使用变量的值`day`而不是符号`:day`作为键，试试这个：

```
User.where( day => true ) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:14:01.860

如果这些是您的列名，`[sun20, mon21, tue22, wed23, thur24, fri25]`

而你正在调用`day_confirmed('mon21')`并试图找到它所在的列“mon21” `true`，你可以`.to_sym`在`date`变量上使用

```
 def day_confirmed(day)
    User.where(day.to_sym => true).count
  end 
```

将`.to_sym`获得 的值`date`，并将其转换为`:mon21`

# c# - VS 2008 突然无法启动调试会话

> ID：10310038
> 
> 赞同：1
> 
> 时间：2012-04-25T05:51:15.227
> 
> 标签：c#, visual-studio, debugging

我在 Visual Studio 2008 的调试器中运行应用程序时遇到了很大的问题。

当我使用 vshost.exe 时，它​​说：

![在此处输入图像描述](../Images/3aeb3c06e4bd80ab740493e826d9659e.png)

而当 vshost.exe 被关闭时，它会简单地说明：

![在此处输入图像描述](../Images/7756002bf10fd2eb6bc94877d3c79647.png)

有趣的是，当我使用 vshost 时，实际上启动了调试器，并且在 Main() 的第一行命中了断点。

我试过：

*   重建项目
*   删除项目的 .ncb、.suo、.user
*   修复 Visual Studio 2008
*   更改项目的构建架构

...没有帮助...

有没有解决（故障）的经验？

更多信息：有些项目确实有效，而我必须从事的项目却没有。

我有一些想法，例如：

*   尝试创建新项目，逐个添加，看看它会在什么时候开始表现不佳
*   以其他方式工作，逐项删除项目以查看它何时（如果会）再次正常工作。

编辑（对于谷歌，我看到网上有很多类似的问题）：

错误：

> 尝试运行项目时出错：无法开始调试。

和

> 尝试运行项目时出错：无法启动程序“....\PlayKontrol.exe”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:30:47.183

如果您还没有，请尝试将您的 Visual Studio 升级到 Service Pack 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T05:55:32.573

你重启电脑了吗？你永远不知道 Windows 会如何反应:)。还要确保没有任何键卡住，例如 ctrl 或 windows 键。
请注意，键不必在视觉上被卡住，它可以被卡住视觉工作室而不是资源管理器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:37:30.720

此类突发问题的最常见来源是 vs 用于在构建之间缓存信息的数据文件之一损坏。

您已经尝试了一个干净的构建，但这不会删除所有内容。真正干净的构建是：退出 vs、删除 bin、obj、debug、发布文件夹，删除根目录中所有生成的文件 - 主要是 ncb。对您作为项目引用的任何本地构建的库执行相同的操作。

最简单的方法是如果您在源代码管理中有代码，因为您可以重命名整个代码文件夹，然后强制获取所有源代码。

您通常需要一次性完成所有这些事情才能解决问题。

不太频繁地，重新安装 vs 会解决问题（尽管如果只有一个项目中断，这在你的情况下听起来不太可能）

还要仔细考虑在失败之前您可能已经安装的任何东西......并且请记住，某些安装效果可能要等到下次重新启动才会发生，因此可能是几天前。造成这种情况的一个特殊原因是自动 Windows 更新和 vs 11 beta 之类的试用版。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T07:17:27.770

您可能会尝试从 VS 外部运行应用程序，但有一行代码如下所示： `Debugger.Launch();`您想要第一个断点的位置。

# javascript - 需要dojo上传图片的完整代码

> ID：10310047
> 
> 赞同：0
> 
> 时间：2012-04-25T05:51:56.453
> 
> 标签：javascript, dojo

我需要在 dojo 中上传文件的完整代码。尤其是 ajax 调用及其按钮创建，其 url 必须存储到数据库中。我使用以下代码，但它不起作用：

```
function uploadPicture()
{
    alert("yes");
    var xhrArgs = {
        url:"/service/ajax/uploadPictureToOption/",                 
        form: dojo.byId("optionsForm"),
        handleAs: "json",
        content :{},
        load: function(response, ioArgs){
            if (response == "failed")
            {
                alert("Failed");
                window.location.reload();
            }
            else if (response == "success")
            {
                window.location.reload();
            }
            else
            {
                alert("Successfully deleted");
                window.location.reload();
            }
        },
    }
    var deferred = dojo.xhrPost(xhrArgs);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-29T12:55:00.313

假设您的文件是二进制文件，否则请参阅[Moz MDN - File.getAsBinary](https://developer.mozilla.org/en/DOM/File.getAsBinary) 您可以选择使用[FormData (xhr2)](https://developer.mozilla.org/en/XMLHttpRequest/FormData)。IFrame 是要走的路，因为 IE 直到 IE10 才支持 HTML5

```
var xhr=(window.XMLHttpRequest && new window.XMLHttpRequest()),
    input = dojo.byId('inputelementId')
    boundary = "---------------------------" + (new Date).getTime(),
    message = ""
xhr.open("POST", this.getUrl());
xhr.setRequestHeader("Content-Type", "multipart/form-data; boundary=" + boundary);
//      if(input.files.length > 1) {
    message += "--" + boundary + "\r\n" 
        + 'Content-Disposition: form-data; name="' + input.name + '";'
        + ' filename="'+ (input.files ? input.files[0].name : input.value) + '"' + EOL;
    message += "Content-Type: application/octet-stream" + "\r\n" + "\r\n";
//      }
if(!!xhr.sendAsBinary) {
        xhr.send(message + input.files[0].getAsBinary())
} else {
    // here is the kicker; IE does not support neither FileData nor AsBinary
        var fobj  = new ActiveXObject("Scripting.FileSystemObject"),
            fd    = fobj.OpenTextFile(input.value, 1); 
        xhr.send(message + fd.ReadAll());
        fd.Close();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T23:56:33.773

首先，使用 dojo 的 xhr 模块（AKA AJAX [仅处理纯文本]）目前无法实现文件上传的想法。您可以做的最接近的事情是将表单提交到隐藏的 iframe。

编辑

隐藏 iframe 的代码应该是这样的：

```
<form method=”post” action=”formProcess.php” target=”hiddenIFrame”&gt;
<input type=”file” name=”test” />
<input type="submit" value="Submit">
</form>

<iframe style=”width:0px;height:0px;border:0px;” name=hiddenIFrame /> 
```

您也可以在 google 中搜索“隐藏 iframe 提交”

# iphone - 如何将图像从一台 iPad 发送到另一台？

> ID：10310054
> 
> 赞同：0
> 
> 时间：2012-04-25T05:52:37.253
> 
> 标签：iphone, objective-c, ios, xcode, bonjour

我一直在使用这些项目文件（[SuperChat](https://code.google.com/p/iphonebusmiddleware/)）来尝试设置一种消息传递应用程序。我已经做到了，它成功地工作，但我现在需要能够在两个设备之间发送图像。

我使用此代码向其他设备发送消息：

```
[theTopic publishMessage:@"Message"]; 
```

我怎么能发送图像，因为这只让你发送一个 NSString。

帮助将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:14:06.143

将 UIImage 转换为 NSData，然后转换为 base64EncodedString。您将能够使用相同的方法来发送数据。

唯一的缺陷是如果 sendMessage 是同步调用，您可能必须使用 GCD 队列来异步发送它。

# ios5 - MPMoviePlayerController 在初始化时泄漏内存？

> ID：10310055
> 
> 赞同：3
> 
> 时间：2012-04-25T05:52:42.100
> 
> 标签：ios5, xcode4.3

我正在将 Xcode 4.3.1 与 ARC iOS (5.1) 项目一起使用，并且似乎（根据仪器）在以下方面存在内存泄漏：

```
player = [[MPMoviePlayerController alloc] init]; 
```

我已经尝试将播放器作为属性，ivar - 有和没有视频文件，点击按钮等，但这一行显示为泄漏？

我在这里错过了一些非常明显的东西吗？我附上了泄漏的屏幕。

[泄漏 http://www.webelectrix.com/leak.jpg](http://www.webelectrix.com/leak.jpg)

谢谢，

# java - 删除标签中的重复项

> ID：10310058
> 
> 赞同：1
> 
> 时间：2012-04-25T05:52:56.077
> 
> 标签：java, spring, spring-mvc, dao, spring-jdbc

我在 spring mvc 中使用 DAO 添加标签并在数据库（MySQL）中检索它们。我从 db 中检索标签的方法是：

```
public List<TagCloud> getAllTags() {
    String sql = "SELECT * FROM tags";

    List<TagCloud> tagcloud = new ArrayList<TagCloud>();
    List<Map<String, Object>> rows=null;
    try{
     rows= getJdbcTemplate().queryForList(sql);

    }catch(Exception e)
    {

        e.printStackTrace();
    }

    for (Map row : rows) {
        TagCloud tc1 = new TagCloud();

        tc1.setName((String)row.get("name"));
        tc1.setCount((Integer)row.get("count"));
        tc1.setFontSize((Double)row.get("fontsize"));
        tc1.setTagid( (Integer)row.get("tagid")  );

        tagcloud.add(tc1);
    }

    return tagcloud;
} 
```

现在我已经将大学作为数据库中的标签，如果我添加大学，课程作为 1 个标签，它必须拆分这些单词并检查重复性。由于已经添加了大学，它必须忽略大学，增加计数和字体并添加当然到标签..我该怎么做

# sql - 如何将一列的所有数据作为字符串与sql连接？

> ID：10310062
> 
> 赞同：0
> 
> 时间：2012-04-25T05:53:23.960
> 
> 标签：sql, sql-server

我想加入表中的所有数据。例如：我有一张这样的桌子，

```
ID     Name    ForeingId
----------------------
1       A        1
2       B        1
3       C        2
4       D        1
5       E        1 
```

我想通过查询获得以下结果。比如 'SELECT ... WHERE ForeingId=1' 。我不想使用过程或功能。

结果：A，B，D，E

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T12:38:25.697

我正在使用 MSSQL

我感谢大家的答案。我找到了@mehul9595 评论链接的答案。

[在 Microsoft SQL Server 2005 中模拟 group_concat MySQL 函数？](https://stackoverflow.com/questions/451415/simulating-group-concat-mysql-function-in-ms-sql-server-2005)

这边走：

```
SELECT STUFF(
    (SELECT ',' + t.name FROM table_name t
     where t.foreingId = 1 FOR XML PATH ('')), 1, 1, '') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:02:41.443

对于**ORACLE**，试试这个：

```
SELECT 
   LISTAGG(name, ',') WITHIN GROUP (ORDER BY name) AS NAME
  FROM  TABLE
WHERE ForeingId= '1' 
```

# python - 使用 Pygame 制作滚动射击游戏

> ID：10310068
> 
> 赞同：0
> 
> 时间：2012-04-25T05:53:45.890
> 
> 标签：python, pygame

我开始研究 2D 滚动射击游戏，我想知道 pygame 是否合适。我想在使用数百个精灵（当然主要是子弹）为滚动背景设置动画时达到接近 60 fps；这对pygame可行吗？从我读过的内容来看，我倾向于不，但我想从对 pygame 有更多经验的人那里得到另一个意见。

我也在考虑将 PyOpenGL 与 pygame 一起使用，但我完全没有使用 OpenGL 的经验。在这种情况下，OpenGL 会比原生 pygame 图形更好地工作吗？是否有任何关于 OpenGL/PyOpenGL/将 PyOpenGL 与 pygame 结合使用的好教程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T12:38:29.530

根据我的说法，Pygame 是 Python 中 2D 游戏的最佳解决方案。您可以保存 Surfaces 使用其优化的 Sprites 动画，因此我认为这是最快的解决方案：至于开发过程而不是代码执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:35:13.547

Pygame 与 2D CPU 图形一样好。所有图形都是用 C 实现的（PyGame 包装了 SDL），因此代码*几乎*与等效的 C 软件渲染器一样快。

也就是说，它仍然（基本上）是一个软件渲染器，并且在每台现代计算机中都有一个有趣的设备，称为 GPU，旨在做到这一点。PyOpenGL/OpenGL 将利用它，所以是的，PyOpenGL 绝对会比 PyGame 渲染得更快。

底线：

PyGame 速度很快，但不如 PyOpenGL 快。对于数百个屏幕精灵，这主要是一个逻辑问题（Python 逻辑很慢，即使按照解释语言标准也是如此）。用 SDL 重写它会使其更快（因为 C/C++ 比 Python 快）。你也可以使用 PyOpenGL，我预测在这种情况下它会显着提高性能，虽然不是很显着（但它*更难*使用）。

就像我说的，不过，我认为这主要是一个逻辑问题。使用 PyOpenGL 有一些话要说，但正如他们所说，您所做的最大优化是当您的代码第一次工作时。

# entity-framework - 如何将linq中的表连接到sql？

> ID：10310070
> 
> 赞同：0
> 
> 时间：2012-04-25T05:53:58.697
> 
> 标签：entity-framework, linq-to-sql

```
Table1 :
    userid name       address
    1      venkat      srinagr
    2      venkatesh  sainagar

Table2:
id userid lat     lon
1   1     14.000  15.000
2   2     14.3526 15.3698 
```

通过将“venkat”作为参数传递，然后需要提取所有匹配的记录和他的用户 ID、名称、纬度、经度。在上面的表 1 中，“venkat”包含在两行中，然后需要提取 2 条记录。如何获取所有匹配行的用户 ID、名称、纬度、经度。对于单条记录，我可以获取。但是如何获取多行请告诉我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-04T18:36:11.980

我相信有人会说这不是最有效的方法，但我就是这样做的。

```
string InputString = "venkat";

var tab =(from a in db.tablea
          from b in db.tableb
          where a.userid == b.userid && a.name == InputString
          select new
          {
              UserID = a.userid,
              Username = a.name,
              Latitude = b.lat,
              Longditude = b.lon
          }).FirstOrDefault(); 
```

FirstOrDefault() 仅当您只想强制一个输出或 null 时，如果您想要某种集合，则只需将其删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T09:12:43.543

```
 var result = from p in cxt.Table2

                                 where p.Table1.Name.Contains(name) 

                                 select new

                                 {
                                    p.Users.User_Id,p.Users.Name,p.Latitude,p.Longitude

                                 }; 
```

# ruby-on-rails - 使用respond_with返回xml、json等格式的多个变量和数组的最佳方法是什么

> ID：10310074
> 
> 赞同：2
> 
> 时间：2012-04-25T05:54:11.007
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, api

我正在寻找一种从*包含*多个变量的控制器返回 xml 或 json 的好方法。例如：

```
def index
    @ad = Ad.some_annoying_ad
    @map = Map.some_map_for_something
    @articles = Articles.trending

    respond_with @articles
end 
```

我如何最好地将 @ad 和 @map 变量添加到 @articles 数组？我见过有人使用合并功能，但我不确定这是否是我正在寻找的。只想知道哪种方式最标准，最灵活，最干燥。谢谢！

注意：我知道响应会根据添加到 url 的文件扩展名自动将结果格式化为 xml 或 json。谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T06:42:42.940

而不是合并@ad，@map，只需创建一个新的哈希，然后将数组添加到它，比如

```
respond_with({:ad => @ad, :map => @map, :article => @article}) 
```

它只是用组渲染所有数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T08:14:38.300

我建议您看一下 RABL（代表 Ruby API Builder 语言）gem（[cast](http://railscasts.com/episodes/322-rabl)，[github](https://github.com/nesquena/rabl/)）。它为您提供了一种 DSL，用于在模板中定义 JSON/XML 响应的结构（就像 Haml 或 CoffeeScript 一样）。

在您的情况下，它可能是这样的：

```
# in *.json.rabl or *.xml.rabl

object false
child(@ad) { attributes :field1, :field2 }
child(@map) { attributes :field3, :field4 }
child(@article) { attributes :body => :content } # remap is easy! 
```

甚至有部分支持干燥你的代码。值得尝试。

# php - PHP - 面向对象的实践和继承

> ID：10310080
> 
> 赞同：1
> 
> 时间：2012-04-25T05:55:02.353
> 
> 标签：php

这是基本的类设计

```
class CustomModule {

    public __construct() {  }

    //Run me first automaticly  
    public function exec($str) {  } 

}

class Randomizer extends CustomModule {

    public __construct() {  }

    //Call me
    public function exec($str) {  } 

} 
```

当我为外部开发人员设计一个插件/模块系统时，我需要`CustomModule->exec()`首先运行，我不想让开发人员不得不调用 `base->exec($str)`.

我想`CustomModule::exec()`在调用之前自动`Randomizer::exec()`调用，而无需将代码放入`Randomizer::exec()`. 这可能与魔术功能有关吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:00:03.577

在我看来，我会使用这种方式：*您可以在 Randomizer 中定义构造函数并调用 parent:: _construct，而不是在 Randomizer 的 exec 中调用*_construct

```
class CustomModule {

//Run me first automaticly  
public function exec($str) {  } 

public __construct($str) {
   $this->exec($str);
} 
```

}

```
class Randomizer extends CustomModule {

//Call me
public function exec($str) {  
   parent::__construct($str);
} 
```

}

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:09:25.577

经过一番思考，我意识到这是糟糕的设计。我必须保持代码库简单且可扩展，这只会在大型项目中造成混乱。

由于唯一调用 Randomizer::exec() 的程序是我内部构建的程序，因此我可以在上一行调用 CustomModule::exec() 并获得一个布尔响应以查看它是否应该继续到下一行。

很抱歉不得不结束这个 Q' 短

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T06:10:36.353

如果您的对象需要一些初始化才能“释放*”到应用程序的其余部分，那么这意味着您需要一个工厂。如果您只需要调用某个方法一次，这就是您应该解决的方法。

如果每次调用`exec()`方法时都发生这种执行，那么您应该使用某种包含（以装饰器的形式或只是对象的标准组合）。

基本上，您需要重组代码。

# php - 如何使用php将数组数据放入文本文件

> ID：10310081
> 
> 赞同：1
> 
> 时间：2012-04-25T05:55:12.853
> 
> 标签：php, codeigniter

如果我使用以下代码，我会在文本文件中获取数据

```
{"title":"sankas","description":"sakars","code":"sanrs"}    
{"title":"test","description":"test","code":"test"} 
```

但我的代码正在运行

```
{"title":"sankas","description":"sakars","code":"sanrs"} 
```

所以我无法添加更多行。我想更改以获得正确的结果。

```
 $info = array();
    $folder_name = $this->input->post('folder_name');
    $info['title'] = $this->input->post('title');
    $info['description'] = $this->input->post('description');
    $info['code'] = $this->input->post('code');
    $json = json_encode($info);
    $file = "./videos/overlay.txt";
    $fd = fopen($file, "a"); // a for append, append text to file

    fwrite($fd, $json);
    fclose($fd); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T05:57:11.287

在此处使用 php 的`file_put_content()`更多信息[http://php.net/manual/en/function.file-put-contents.php](http://php.net/manual/en/function.file-put-contents.php)

**更新：** 假设数据被正确传递。这是你可以做的。

```
$info = array();
$folder_name = $this->input->post('folder_name');
$info['title'] = $this->input->post('title');
$info['description'] = $this->input->post('description');
$info['code'] = $this->input->post('code');
$json = json_encode($info);
$file = "./videos/overlay.txt";
//using the FILE_APPEND flag to append the content.
file_put_contents ($file, $json, FILE_APPEND); 
```

**更新 2：**

如果您想从文本文件中访问该值。overlay.txt 这是你可以做的

```
$content = file_get_contents($file); 
```

如果你想分别获取标题、代码和描述。如果字符串在 json 中，则需要先使用将其转换为数组。

```
//this will convert the json data back to array
$data = json_decode($json); 
```

并访问单个值，如果您有一行，您可以这样做

```
echo $data['title'];
echo $data['code'];
echo $data['description']; 
```

如果你有多行，那么你可以使用 php foreach 循环

```
foreach($data as $key => $value)
{
    $key contains the key for example code, title and description
    $value contains the value for the correspnding key
} 
```

希望这可以帮助你。

**更新 3：**

像这样做

```
$jsonObjects = file_get_contents('./videos/overlay.txt');
$jsonData = json_decode($jsonObjects);
foreach ($jsonData as $key => $value) {
    echo $key . $value;
    //$key contains the key (code, title, descriotion) and $value contains its corresponding value
} 
```

# iphone - 我无法从 rootViewController 中删除详细视图中的子视图

> ID：10310082
> 
> 赞同：0
> 
> 时间：2012-04-25T05:55:16.860
> 
> 标签：iphone, ios, ipad, uisplitviewcontroller

我有多个详细视图，当我单击 rootViewController 中的选择第二行时，我删除了详细视图并从 appDelegate 添加了一个新视图。当我这样做时，我无法将值从 rootView 发送到 newDetailView。这就是我在我的 appdelegate 中所做的

```
 [splitViewController.view removeFromSuperview];

    arcObj = [[Architecture alloc] init];
    UINavigationController *detailNav=[[UINavigationController alloc]initWithRootViewController:arcObj];
    [arcObj release];
    splitViewController.viewControllers=[NSArray arrayWithObjects:rootViewController,detailNav,nil];
    splitViewController.delegate=arcObj; 
```

在 rootVeiwController

```
NewdetailViewController.detailItem = @"gettingin"; 
```

在我的 newDetailView

```
- (void)setDetailItem:(id)newDetailItem {
if (detailItem != newDetailItem) {
    [detailItem release];
    detailItem = [newDetailItem retain];
}} 
```

它没有调用该方法

```
 - (void)setDetailItem:(id)newDetailItem 
```

有什么帮助吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T05:58:12.317

你需要使用 -

```
[NewdetailViewControllerObject setDetailItem:@"gettingin"]; 
```

# c# - 如何替换从 DB 返回的数据中的无效字符 0x1E

> ID：10310087
> 
> 赞同：0
> 
> 时间：2012-04-25T05:55:50.997
> 
> 标签：c#

我从 DB 中得到一些无效的日期 - 一个无效字符 0x1E，我怎样才能用这个 - "" 替换它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T10:12:17.410

如果尝试序列化 xml 字符，则会存在此错误，[这里是类似的问题](https://stackoverflow.com/questions/1647001/dealing-with-forbidden-characters-in-xml-using-c-sharp-net)。

最简单的解决方案是从源字符串中删除禁用字符：

```
var newString = new string(
    str.Select(c => (int)c)
    .Where(i => i >= 32 || i == 9 || i == 10 || i == 13)
    .Select(i => (char)i)
    .ToArray()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:46:52.603

尝试这样的事情：

```
SELECT REPLACE(myfield, CHAR(30), '') FROM mytable; 
```

这应该从`myfield`.

或者，要清理数据库表，请使用：

```
UPDATE mytable SET myfield = REPLACE(myfield, CHAR(30), '')
  WHERE myfield LIKE ('%' + CHAR(30) + '%'); 
```

# jquery - 使用 jQuery 处理 JSON Web 服务

> ID：10310088
> 
> 赞同：1
> 
> 时间：2012-04-25T05:55:54.227
> 
> 标签：jquery, json, jquery-mobile, jsonp

我正在开发 HTML5、jQuery 移动应用程序。我必须使用第 3 方 JSON Web 服务来获取数据。但是我的 jquery 函数中有 parseerror。似乎问题在于 Web 服务发送 JSON。我必须使用 JSONP，因为它是跨域的。无论如何使用jQuery或javascript来做到这一点。这是我正在使用的代码。

```
$.ajax({
            url : jsonServiceURL + "scheduleService/retrieveMySchedules.json?callback=?",
            dataType : "json",
             beforeSend: function(x) {
              if(x && x.overrideMimeType) {
               x.overrideMimeType("application/json;charset=UTF-8");
              }
             },
            timeout : 5000
        }).success(function() {
                alert('pass');      
        }).error(function(httpObj, textStatus) {        
            alert(textStatus);
        }); 
```

请求去了。回应也来了。但它说解析错误。我觉得这在 JSON 和 JSONP 中有所不同。如果我将 URL 设置为类似[http://www.geonames.org/postalCodeLookupJSON?postalcode=10504&country=US&callback=](http://www.geonames.org/postalCodeLookupJSON?postalcode=10504&country=US&callback=)？我的代码工作正常，没有问题。第 3 方网络服务也正确，因为所有 iphone 应用程序都可以正常工作。我看到的唯一区别是 JSON 以 . 开头，`[{`而 JSONP 以`somefunction({`.

JSON 是有效的。我使用一些在线工具对其进行了检查，并且有几个 iPhone 应用程序可以与该 Web 服务一起使用而没有问题。似乎我无法用 jquery 解析它，因为它们发送的是 JSON 而不是 JSONP。如果我的想法是错误的，请纠正我。对此有哪些可能的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:31:55.610

如果您正在执行跨域请求，请使用 jsonp。那挺好的。它与您的标准 json 请求（使用 XmlHttpRequest 完成）略有不同。

您必须发送您的请求，使其精确为 jsonp ：

```
$.ajax({
       url : jsonpServiceURL + "scheduleService/retrieveMySchedulesJsonp?callback=?",
       dataType : "jsonp"           
 }); 
```

然后你的代码中必须有一个函数作为你的回调：

```
function InBrowser_receive(answer) {
        console.log('received:', answer)
    // do things with answer (the received json)
} 
```

就个人而言，我通常不费心将回调的名称发送到服务器，因为我也编写了服务器部分：我只是硬编码服务器的回调名称。

而且我也喜欢使用 json 结构向服务器发送参数。所以我发送请求的函数通常是这样的：

```
function sendToServer(message) {
    $.ajax(
        {
            url: serverUrl,
            data: 'theQuery=' + JSON.stringify(message),
            crossDomain: true,
            dataType: 'jsonp'
        }
    );
} 
```

这是我的一个开源代码中的一个示例： [https ://github.com/Canop/braldop/blob/master/chrome/braldop/inext_com.js](https://github.com/Canop/braldop/blob/master/chrome/braldop/inext_com.js)

发送函数是

```
braldop.sendToBraldopServer 
```

接收者是

```
receiveFromMapServer 
```

# android - 是否可以使用phonegap加sencha touch开发应用程序

> ID：10310090
> 
> 赞同：1
> 
> 时间：2012-04-25T05:56:06.560
> 
> 标签：android, cordova

我是开发本机应用程序的新手。我想使用 sencha touch plus phone gap 开发一个 android 应用程序。Sencha touch 用于设计用户界面和 phonegap 用于访问移动硬件。是否可以开发应用程序。如果可能，请给我任何演示应用程序或应用程序结构。

```
 Thanks 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T09:28:14.217

在这里可以找到使用 sencha touch 和 phonegap 的联系人应用程序示例。 [http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/](http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/)

# database - 如何在 OSB 控制台中使用数据库适配器创建 Web 服务？

> ID：10310091
> 
> 赞同：0
> 
> 时间：2012-04-25T05:56:28.227
> 
> 标签：database, soa, adapter, osb

对于给定的任务，我需要将 OSB 与 DB 适配器一起使用，我相信 BPEL 流程不会比 OSB 表现更好。我浏览了一些站点，但所有站点都在演示 OEPE 而不是 OSB 控制台。任何回应将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-01-30T21:11:06.640

我的项目中有类似的要求，我在这里和那里都想知道。这是问题的最终解决方案。我为你们记录了。

**JDeveloper 中的步骤** 1\. 在 JDeveloper 中创建数据库连接。2\. 创建一个通用项目。3\. 将 Project 创建为 SOA 项目并使用 Empty Composite。

**创建数据库适配器的步骤**

1.  转到复合调色板并选择 AD 适配器。
2.  将 DB Adapter 拖放到 External Reference 部分（复合视图的右侧）。
3.  它将打开一个向导，用于选择连接和其他数据库相关进程。
4.  为您要创建的服务命名
5.  选择您已经创建的数据库连接。
6.  通过选择您希望 Web 服务执行的存储过程或表（插入/选择）功能来移动一个。
7.  如果您选择表格插入/选择，那么您还可以选择表格之间的关系作为可选步骤。
8.  如果您不想要任何特殊功能，请尝试将所有步骤保持默认。
9.  完成向导中的所有步骤后，它将在您的项目下生成大量文件。
10.  查找 4 个主要文件*.jca、xsd/* .xsd、*.mapping.xml、*.wsdl
11.  如果您在项目中看到所有这些文件都生成得很好，那么您就一切就绪，我们可以继续前进。如果不是，则查找问题。

**WLS 控制台中的步骤**
**创建数据源**

1.转到左侧面板并选择数据源。2\. 选择 New -- Generic Data Source 3\. 根据需要指定名称，但对于 JNDI 名称，您必须使用您已经拥有的 *.JCA 文件中的连接名称。打开 jca 文件并搜索“UIConnectionName”。该值将用作数据源创建中的 JNDI 名称。
4\. 选择 Driver 作为 oracle.jdbc.xa.client.OracleXADataSource 5\. 使用您在 DB Connection 期间选择的主机和端口以及其他详细信息（在 JDeveloper 中）。这是明显的一步。6\. 选择目标AdminServer。7\. 如果你正确地完成了一切。一切就绪，您可以选择测试连接，应该是测试成功。

**配置数据库适配器**

1.  转到左侧面板上的部署。
2.  在已部署的服务中。搜索 DbAdaptor。
3.  单击名称 DbAdaptor。
4.  选择配置选项卡。并在其下选择出站连接池。
5.  在这里你会看到（javax.resource.cci.ConnectionFactory）
6.  点击新建。
7.  选择 javax.resource.cci.ConnectionFactory
8.  下一页将询问 JNDI 名称。为此，您必须转到 *.jca 文件并选择 Connection-factory 已经存在的值作为 Location（如 connection-factory location=?）。使用 Location 的值作为 JNDI 名称。
9.  交易将是无交易。暂时选择这个。这是需要依据的选择。
10.  保持其他选择不变，然后完成。
11.  注意：一旦完成。再次转到“属性”选项卡并查找属性名称：xADataSourceName。它的值应该与您在 *.jca 文件中的 UIConnectionName 相同。它应该被填充。如果没有，那么您现在也可以设置。您必须双击值部分，然后输入名称并按 Enter。然后保存它。
12.  通过以上所有步骤，我们将 DbAdaptor 设置为指向我们拥有表/存储过程的同一个数据库。

**我们上面做的是：**

• 我们有JCA 文件和WSDL 用于我们的服务。与数据库设置一起。• 我们在 WLS 中为我​​们的数据库提供了一个数据源。• 我们在WLS 中部署了指向同一个JNDI 的DbAdaptor。

OSB 控制台中的步骤

1.  创建一个项目。
2.  在 Project 下创建 3 个文件夹。像资源、代理服务、业务服务。
3.  激活您的项目。
4.  在资源文件夹中。我们必须添加 JCA 映射。将它指向我们在上述步骤中已经拥有的 *.jca（我们已经创建了 JDeveloper）。只需给出路径并保存。它可能会给你错误。暂时忽略。
5.  在资源文件夹中。添加 WSDL 并提供 *.wsdl 的路径。如果它给出错误。然后暂时忽略。
6.  在资源文件夹中。添加一个 XSD 并为我们已经拥有的 *.xsd 提供路径。
7.  在资源文件夹中。添加 XML 并提供文件 *Mapping.xml 的路径。
8.  再次访问资源 WSDL 并单击其名称。“编辑参考文献”。选择您已有的 XSD 并保存。
9.  重新访问资源 JCA 并单击其名称并编辑参考并将其指向 mapping.xml
10.  现在你会看到所有的错误都消失了。
11.  激活您的项目。
12.  转到左侧并通过选择 wsdl 项目选择业务服务和创建业务服务。在下一页上选择绑定。
13.  然后选择 JCA 并给出 IES 的“位置”（请记住，我们在 *.jca 中的 connection-Factory 中有一个值作为位置。我们在创建 DbAdaptor 时使用了它）。在这里给出这个值。
14.  移动到下一个，下一个和下一个并完成。
15.  您的业​​务服务已准备就绪。
16.  现在创建一个代理服务。选择代理服务并从业务服务选项中选择，然后选择您在上述步骤中创建的业务服务。
17.  然后点击完成
18.  激活您的项目。
19.  就是这样，我们都准备好了。在代理服务中，您可以单击查看 End Point URl 是什么，并妥善保管以供将来参考。这是我们必须提供给客户端以调用我们的服务的 url。
20.  有了这个，我们都完成了。

**来自客户的电话。**

1.  为此选择 SOAPUi。
2.  创建新项目并提供终点 URL。
3.  它将显示其中的所有服务。
4.  选择一项服务。创建请求。
5.  将值放入请求 XML 并通过附加 Localhost:port 使用端点 URL。
6.  单击 go，您将看到返回的响应。

所以，最后：我们完成了使用 DB 适配器测试 OSB 项目。

这看起来很长，但是一旦你这样做了，接下来的服务就很容易了。

谢谢，希望会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T12:26:24.477

OSB 控制台不支持**创建**JCA DB 适配器，OEPE 也不支持。

您需要在 JDeveloper 中创建 DB Adapter，然后通过 OEPE/OSB 控制台将其导入。OEPE 更容易;-)。

如需指南，请参阅： http: [//guidoschmutz.wordpress.com/2010/08/08/oracle-service-bus-11g-and-db-adapter-a-different-more-integrated-approach/](http://guidoschmutz.wordpress.com/2010/08/08/oracle-service-bus-11g-and-db-adapter-a-different-more-integrated-approach/)

或者

[https://blogs.oracle.com/middleware/entry/using_jca_adapter_with_osb_11113](https://blogs.oracle.com/middleware/entry/using_jca_adapter_with_osb_11113)

# javascript - Jquery .click 功能不起作用

> ID：10310092
> 
> 赞同：0
> 
> 时间：2012-04-25T05:56:28.360
> 
> 标签：javascript, jquery, html

我创建了一个选项卡并在其中附加了一些文本

```
$("#tabcontent").append('<p id="c'+count+'"><table> <tr>Tab Content '+count+'<br><span id="addColumns" style="cursor:pointer;">Add Columns</span></p>'); 
```

有一个 id`addColumns`我为这个 id 写了一个函数

`$('#addColumns').click(function(){ $("#tabcontent").html(''); });`

当我点击`Add Columns`什么都没有发生...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T05:59:34.523

页面加载时您的表格不在 DOM 中，因此这是未来元素，这就是它不起作用的原因。你必须使用`.live()`

```
$('#addColumns').live('click', function(){ $("#tabcontent").html(''); }); 
```

或根据 jQuery 1.7

采用[`.on`](http://api.jquery.com/on/)

```
$(document).on('click','#addColumns', function(){
        $("#tabcontent").html('');
 }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:01:45.753

让我们修复你得到的 html 结构，然后再试一次。

```
<p id="c'+count+'">
    <table> 
        <tr>Tab Content '+count+'
            <br>
            <span id="addColumns" style="cursor:pointer;">Add Columns</span>
</p> 
```

此外 - 您真的想清除单击跨度的元素吗？

**编辑：** 那是您的 html 代码，而不是您应该使用的代码。在您的行内尝试一个 td-tag 并尝试关闭您的标签。

# ruby-on-rails - 尝试使用 RSpec 和 Capybara 进行集成测试。运行“rspec spec”时，它只是打开浏览器，什么都不做

> ID：10310096
> 
> 赞同：0
> 
> 时间：2012-04-25T05:56:45.577
> 
> 标签：ruby-on-rails, rspec, capybara

我正在尝试使用命令 "rspec spec" 使用 RSpec 和 Capybara 运行我的集成测试，它曾经运行良好，直到最近它只是打开浏览器并保持在那里直到超时。

这是测试代码：

```
it "should see payment error if payment amount is smaller than product price", :js => true do 

    visit("/")
    find_link("A new product").click

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T04:12:18.520

您是否更改了浏览器的版本？如果webdriver不支持浏览器版本，可能会遇到你提到的情况。

# android - Android OpenGL ES 纹理在某些三星设备上显示在黑屏上

> ID：10310098
> 
> 赞同：4
> 
> 时间：2012-04-25T05:56:47.910
> 
> 标签：android, opengl-es, live-wallpaper, samsung-mobile

我最近开发了一个动态壁纸应用程序。在那我发现我的安卓动态壁纸有一个奇怪的问题。我使用我的 HTC Wildfire S、三星 Galaxy 标签、摩托罗拉 Droid Millstone、三星 Galaxy pop 来测试我的壁纸和模拟器，一切正常，但在三星手机上（三星 Galaxy S II 和三星 Galaxy Player 有症状）初始启动时屏幕保持黑色。但是一旦我们移动到设置屏幕并返回预览它的工作正常。在对这些手机进行一些调试后，我能够发现壁纸正确加载，但纹理不只是显示出来。我尝试搜索该问题，但没有发现任何有用的信息。

我从本机代码绑定纹理。在那使用 OPEN GL 库绑定壁纸。我的opengl库启动如下

```
 glEnable(GL_TEXTURE_2D);
  glGenTextures(1, &textureConverted);
  glBindTexture(GL_TEXTURE_2D,textureConverted);
  //...and bind it to our array
  __android_log_print(ANDROID_LOG_DEBUG,
              "NDK initOpenGL()",
              "binded texture"
              );
  glTexParameterf(GL_TEXTURE_2D, 
          GL_TEXTURE_MIN_FILTER, 
          GL_NEAREST);
  glTexParameterf(GL_TEXTURE_2D, 
          GL_TEXTURE_MAG_FILTER, 
          GL_NEAREST);
  //Different possible texture parameters, e.g. GL10.GL_CLAMP_TO_EDGE
  glTexParameterf(GL_TEXTURE_2D, 
          GL_TEXTURE_WRAP_S, 
          GL_CLAMP_TO_EDGE);
  //GL_REPEAT);
  glTexParameterf(GL_TEXTURE_2D, 
          GL_TEXTURE_WRAP_T, 
          GL_CLAMP_TO_EDGE);
  //GL_REPEAT);
  glTexImage2D(GL_TEXTURE_2D,       /* target */
           0,           /* level */
           GL_RGBA,         /* internal format */
           textureWidth,        /* width */
           textureHeight,       /* height */
           0,           /* border */
           GL_RGBA,         /* format */
           GL_UNSIGNED_BYTE,/* type */
           NULL);
  //setup simple shading
  glShadeModel(GL_FLAT);
  //check_gl_error("glShademo_comdel");
  glColor4x(0x10000, 0x10000, 0x10000, 0x10000); 
```

在我的drawFunction中

```
 glClear(GL_COLOR_BUFFER_BIT);
  int max;
  glGetIntegerv(GL_MAX_TEXTURE_SIZE, &max);
    __android_log_print(ANDROID_LOG_DEBUG,
              "NDK drawFrame()",
              "GL_MAX_TEXTURE_SIZE: %d",
        max);
  glBindTexture(GL_TEXTURE_2D,textureConverted);
  int rect[4] = {0, textureHeight, textureWidth, nTextureHeight};
  glTexParameteriv(GL_TEXTURE_2D, GL_TEXTURE_CROP_RECT_OES, rect);

  glTexSubImage2D(GL_TEXTURE_2D, /* target */
          0,        /* level */
          0,    /* xoffset */
          0,    /* yoffset */
          textureWidth,
          textureHeight,
          GL_RGBA,  /* format */
          GL_UNSIGNED_BYTE, /* type */
          pFrameConverted->data[0]);
  glDrawTexiOES(0, 0, 0, drawWidth, drawHeight); //drawWidth is th screenwidth and drawheight is the screenheight 
```

为什么这不适用于三星手机？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-03T13:21:20.293

我解决了这个问题。这一切都在opengl库的启动中。当我添加 `glViewport(0, 0, screenWidth, screenHeight);` 这行代码时，该错误已修复。现在我的 opengl 应用程序呈现所有设备。谢谢你们。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-04-25T06:00:43.100

一些没有 OpenGL ES 加速器的设备，不能运行使用 OpenGL 库的应用程序......最好在清单文件中过滤设备以防止在这些设备中安装应用程序......

# java - 在 javascript 函数中使用脚本

> ID：10310104
> 
> 赞同：0
> 
> 时间：2012-04-25T05:57:14.523
> 
> 标签：java, javascript, jsp

我想在 java 脚本函数中使用 scriplet。我想检查某些属性的值并据此发出警报。以下是唯一的 scriplet 语句给出错误的函数。

```
function UploadMessage() {
   <% if((String)request.getAttribute("SuccessMessage").compareTo("Uploaded successfully") == 0) { %>
        alert("File Successfully uploaded !");
    <% 
     } %>
} 
```

我有什么办法可以做到这一点？这里有什么问题 ？

**注意：**我已将上述代码段放在 jsp 页面中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:04:12.263

```
function UploadMessage() {
       <% if(((String)request.getAttribute("SuccessMessage")).equals("Uploaded successfully")) { %>
            alert("File Successfully uploaded !");
        <% 
         } %>
    } 
```

问题是——

1.  对象类型的方法`compareTo(String)`未定义
2.  不兼容的操作数类型`String`和`int`

# java - 在没有参考的情况下调用方法

> ID：10310110
> 
> 赞同：0
> 
> 时间：2012-04-25T05:57:48.663
> 
> 标签：java

如果我想从另一个类调用一个类的多个方法，我可以只使用'new classname（）'调用它们而不在类引用中捕获它吗？

```
public class Example {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        new pqr().a=5;
        new pqr().b=10;
        new pqr().display();
    }
}
class pqr
{
        int a,b;

        public void display()
        {
                System.out.println(a+" "+b);
        }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T05:59:57.540

这将创建三个新对象。不止一个。

```
new pqr().a=5;
new pqr().b=10;
new pqr().display(); 
```

一个对象 a = 5，另一个对象 b = 10。

请记住，您不是在使用一个对象。

每当您使用**新**关键字时。JVM 创建一个新对象。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-25T06:01:13.757

> 如果我想从另一个类调用一个类的多个方法，我可以只使用'new classname（）'调用它们而不在类引用中捕获它吗？

目前尚不清楚“捕捉它”是什么意思，但您*使用*的是引用……您只是没有将其分配给变量。

在您的示例中，您正在创建三个不同的对象 - 最后一行的计算只打印 0，因为您只在其他对象中设置了`a`和。`b`如果您想将*单个*对象用于多个操作，则需要将引用存储在变量中，*或者*这些操作必须返回“this”，从而允许您将方法调用链接在一起：

```
class Sample {
    private int a,b;

    public void display() {

        System.out.println(a+" "+b);
    }    

    public Sample setA(int a) {
        this.a = a;
        return this;
    }

    public Sample setB(int b) {
        this.b = b;
        return this;
    }
}

...

new Sample().setA(5).setB(10).display(); 
```

这种设置器的链接在构建器模式中很常见。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:03:48.550

如果你想要这样的东西，你可以使用[Builder模式：](http://www.informit.com/articles/article.aspx?p=1216151&seqNum=2)

```
NutritionFacts cocaCola = new NutritionFacts.Builder(240, 8).
    calories(100).sodium(35).carbohydrate(27).build(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T06:11:49.037

建造者模式是一种可能性。另一种是具有静态属性，因此所有对象都将共享它的值。

```
static int a,b; 
```

# macos - 从 KEXT 与 Daemon 通信并阻塞直到从 Daemon 返回结果的最佳方式

> ID：10310115
> 
> 赞同：10
> 
> 时间：2012-04-25T05:58:17.137
> 
> 标签：macos, iokit, kernel-extension, mach, launch-daemon

在 KEXT 中，我正在通过 vnode 或文件范围侦听器侦听文件关闭。对于某些（非常少的）文件，我需要将文件路径发送到我的系统守护程序，它会进行一些处理（这必须在守护程序中发生）并将结果返回给 KEXT。在我得到守护进程的响应之前，需要阻止文件关闭调用。根据结果​​，我需要在近距离通话中进行一些操作并成功返回近距离通话。论坛上有很多关于KEXT通信相关话题的讨论。但它们不是决定性的，而且看起来很老（2002 年左右）。这个需求可以通过`FtlSendMessage(...)`Win32 API 来处理。我正在寻找 Mac 上的等价物

以下是我看过并想总结一下我的理解：

1.  **Mach 消息**：提供非常好的双向通信方式，使用发送者和回复端口以及队列机制。但是，mach 消息 API（例如`mach_msg`、`mach_port_allocate`、`bootstrap_look_up`）似乎不是 KPI。`mach_msg_send_from_kernel`可以使用mach API ，但仅此一项对双向通信没有帮助。我的理解对吗？
2.  **IOUserClient**：这似乎更多地与从用户空间到 KEXT 的通信有关，然后从 KEXT 进行一些回调。我没有找到一种方法来启动从 KEXT 到守护程序的通信，然后等待守护程序的结果。我错过了什么吗？
3.  **套接字**：这可能是最后一个选项，因为我必须实现从 KEXT 到守护进程的整个双向通信通道。
4.  `ioct`l/ `sysctl`: 我对他们了解不多。根据我的阅读，它不推荐使用，特别是对于双向通信
5.  **RPC-Mig**：同样我对它们了解不多。从我所看到的看起来很复杂。不确定这是否是推荐的方式。
6.  **KUNCUserNotification**：这似乎只是从 KEXT 向用户提供通知。它不符合我的要求。

支持的平台是（10.5 起）。因此，查看要求，有人可以就该主题提出建议并提供一些指示吗？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:59:44.650

我用于该进程的模式是让用户空间进程启动到 KEXT 的套接字连接；KEXT 创建一个新线程来处理该套接字上的消息并使线程休眠。当 KEXT 检测到需要响应的事件时，它会唤醒消息传递线程并使用现有套接字将数据发送到守护进程。在接收到响应时，控制权被传递回请求线程以决定是否否决该操作。

我不知道有任何单一资源可以完全描述整个模式，但相关的 KPI 在[Mac OS X Internals](http://osxbook.com/)（看起来很旧，但 KPI 自编写以来并没有太大变化）和[OS X 和iOS 内核编程](http://www.apress.com/apple-mac/c/9781430235361)（我是技术评论员）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T18:37:56.933

对于它的价值，[autofs](http://www.opensource.apple.com/source/autofs/autofs-220.2/)使用我假设您所说的“RPC-Mig”，所以它并*不太*复杂（[MIG](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/mig.1.html)用于描述 RPC 调用，它生成的存根代码处理调用适当的 Mach 消息发送和接收代码；有一些特殊的选项可以生成内核模式存根）。

但是，它不需要进行任何查找，因为 automountd（autofs kext 向其发送消息的用户模式守护程序）具有分配给它的“主机特殊端口”。进行查找以找到任意服务会更难。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-24T14:28:46.253

如果您想使用`ctl_register()`在 KExt 端建立的套接字，请注意：从 kext 到用户空间（通过`ctl_enqueuedata()`）的通信正常。然而，相反的方向在 10.5.x 和 10.6.x 上是错误的。

在域中完成大约 70.000 或 80.000 次`send()`调用后，完整的网络堆栈中断，对整个系统造成灾难性后果（硬关闭是唯一的出路）。这已在 10.7.0 中修复。我通过在我们的项目中使用从用户空间到 kext 的方向来解决问题，因为我们只发送非常小的数据（只是为了允许/禁止某些操作）。`SOCK_DGRAM``PF_SYSTEM``setsockopt()`

# java - 从内存读取 Pdf 文件时出错？

> ID：10310118
> 
> 赞同：0
> 
> 时间：2012-04-25T05:58:45.683
> 
> 标签：java, android, file, pdf

我正在尝试从设备的内部存储器中读取 pdf 文件，我的代码在这里：

```
 File pdfFile;    

            pdfFile=new File("data/data/com.myapp.main/app_c"+md+"/c"+md+".pdf");

                 if(pdfFile.exists()) 
                 {
                     try{
                      FileOutputStream fileOutput = openFileOutput(pdfFile.toString(), Context.MODE_WORLD_READABLE);
                     }
                     catch (Exception e) {
                        // TODO: handle exception
                         e.printStackTrace();
                    }
                     Uri path = Uri.fromFile(pdfFile); 
                 Intent pdfIntent = new Intent(Intent.ACTION_VIEW);
                 pdfIntent.setDataAndType(path, "application/pdf");
                 pdfIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);

                 try
                 {
                     startActivity(pdfIntent);
                 }
                 catch(ActivityNotFoundException e)
                 {
                     Toast.makeText(ChTable.this, "No Application available to view pdf", Toast.LENGTH_LONG).show();

                 } 
```

但是 Pdf 阅读器显示错误 - 不支持文件 - 或找不到文件。但我已经检查过该文件是否在此位置。我还更改了文件的权限，但结果仍然相同。有人可以帮我检测并解决我的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:12:51.943

```
data/data/com.myapp.main/app_c"+md+"/c"+md+".pdf" 
```

这条路正确吗？

我猜路径应该如下所示。

```
data/data/com/myapp/main/app_c"+md+"/c"+md+".pdf" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:05:04.590

您可以使用 PDFBox 库从 pdf 中读取数据 -

[http://pdfbox.apache.org/](http://pdfbox.apache.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:17:45.823

您应该使用其中一个 api 来获取应用程序的文件目录，而不是假设路径是什么。

但是，您的实际问题很可能是您在那里创建的任何文件都可能是拥有应用程序的私有文件，因此 PDF 阅读器应用程序缺乏访问它的权限。

解决方案是将文件模式更改为全球可读，或者更常见的是将文件放在外部存储（即“sdcard”）而不是内部存储器上，因为它（迄今为止）没有概念权限。尽管值得记住的是，不能保证设备具有外部存储，或者即使存在，也不能保证在任何给定时间点都可以访问它。

# android - 在我自己的观点中，我如何知道设备方向已经改变？

> ID：10310119
> 
> 赞同：0
> 
> 时间：2012-04-25T05:58:46.933
> 
> 标签：android, events, view, device-orientation, measure

我扩展了 ViewFlipper 小部件。当我初始化 MyViewFlipper 时，我将 List oа 对象传递给它。MyViewFlipper 执行它列表并将一些视图添加到 MyViewFlipper。

我的活动有 android:configChanges="keyboardHidden|orientation"，因此当设备方向改变时我的视图层次结构不会重新创建。

我必须在 MyViewFlipper 中重写哪种方法来处理方向更改事件以在 MyViewFlipper 中重新创建我的子视图？

别人的看法怎么办？

在 MyViewFlipper 中执行对象列表的方法：

```
public void setUsers(List<User> users)
{
    removeAllViews();

    Display display = ((WindowManager)getContext().getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
    int maxWidth = display.getWidth();

    screens = new LinearLayout[maxScreens];
    int fillingScreen = maxScreens;

    while(fillingScreen > 0) 
    {
        LinearLayout linearLayout = new LinearLayout(getContext());
        linearLayout.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.FILL_PARENT));
        linearLayout.setGravity(Gravity.CENTER);
        screens[fillingScreen - 1] = linearLayout;
        fillingScreen --;
    }

    int currentUser = 0;

    while(currentUser < users.size() && fillingScreen < maxScreens)
    {

        LinearLayout linearLayout = (LinearLayout) inflater.inflate(R.layout.item_people_category_item, null);
        ImageView iv = (ImageView) linearLayout.findViewById(R.id.item_people_category_item_avatar);

        screens[fillingScreen].addView(linearLayout);
        screens[fillingScreen].measure(0, 0);

        if (screens[fillingScreen].getMeasuredWidth() >= maxWidth)
        {
            screens[fillingScreen].removeView(linearLayout);
            addView(screens[fillingScreen]);
            fillingScreen ++;
        }
        else 
        {
            User user = users.get(currentUser);
            iv.setOnClickListener(ouUserClicked);
            linearLayout.setTag(user);
            App._IMAGEMANAGER.setImage(user.getPhoto(), iv, R.drawable.no_photo);
            currentUser++;
        }
    }

    if (fillingScreen < maxScreens && screens[fillingScreen].getParent() == null) addView(screens[fillingScreen]);
} 
```

它简单地将一些 LinwarLayout 添加到 ViewFlipper 中，并具有尽可能多的对象数量。

PS：

```
 @Override
    public void onConfigurationChange(Configuration newConf) {
      // notify view flopper here
    } 
```

我的布局中的其他视图不需要通知。他们改变代表自我。他们使用哪种方法？onMeauser（）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:03:14.357

你应该覆盖

```
 @Override
public void onConfigurationChanged(Configuration newConfig) {
 super.onConfigurationChanged(newConfig);
} 
```

这是为了检测方向变化......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:03:07.943

不是view的方法，nut方法的activity：

```
@Override
public void onConfigurationChange(Configuration newConf) {
  // notify view flopper here
} 
```

# ntfs - 如何转储 NTFS $Bitmap 文件

> ID：10310120
> 
> 赞同：3
> 
> 时间：2012-04-25T05:58:54.383
> 
> 标签：ntfs, ntfs-mft

对于一个项目，我想获取 NTFS 分区上所有可用/已使用集群的列表。为此，我必须转储 $Bitmap 文件并解析其内容。

网络上的 API 和示例很少，但它们似乎不起作用。是否有一种简单的方法/代码示例可以将 $Bitmap 文件复制到某处。

使用 FSCTL_GET_VOLUME_BITMAP 是唯一的方法吗？理想情况下，我想用 C# 来做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T07:47:50.660

NFI.EXE 是（曾经是）“oem 支持工具”的一部分，可以枚举所有 NTFS 分区项。它也可能能够转储 $Bitmap 的内容。

![在此处输入图像描述](../Images/c7e5d218ae1a6d89eca95241c006432a.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:28:25.680

您肯定想走简单的路线并使用 IOCTL，而不是尝试`$Bitmap`直接阅读。当然，如果有人为你做了，你不必自己做。事实证明，一位 MSDN 博主已经为您编写了一个不错的小包装器：

[http://blogs.msdn.com/b/jeffrey_wall/archive/2004/09/13/229137.aspx](http://blogs.msdn.com/b/jeffrey_wall/archive/2004/09/13/229137.aspx)

整个类300多行代码，就不一一贴出来了，下面是获取音量位图的函数：

```
 /// <summary>
    /// Get cluster usage for a device
    /// </summary>
    /// <param name="DeviceName">use "c:"</param>
    /// <returns>a bitarray for each cluster</returns>
    static public BitArray GetVolumeMap(string DeviceName)
    {
        IntPtr pAlloc = IntPtr.Zero;
        IntPtr hDevice = IntPtr.Zero;

        try
        {
            hDevice = OpenVolume(DeviceName);

            Int64 i64 = 0;

            GCHandle handle = GCHandle.Alloc(i64, GCHandleType.Pinned);
            IntPtr p = handle.AddrOfPinnedObject();

            // alloc off more than enough for my machine
            // 64 megs == 67108864 bytes == 536870912 bits == cluster count
            // NTFS 4k clusters == 2147483648 k of storage == 2097152 megs == 2048 gig disk storage
            uint q = 1024 * 1024 * 64; // 1024 bytes == 1k * 1024 == 1 meg * 64 == 64 megs

            uint size = 0;
            pAlloc = Marshal.AllocHGlobal((int)q);
            IntPtr pDest = pAlloc;

            bool fResult = DeviceIoControl(
                hDevice,
                FSConstants.FSCTL_GET_VOLUME_BITMAP,
                p,
                (uint)Marshal.SizeOf(i64),
                pDest,
                q,
                ref size,
                IntPtr.Zero);

            if (!fResult)
            {
                throw new Exception(Marshal.GetLastWin32Error().ToString());
            }
            handle.Free();

            /*
            object returned was...
      typedef struct 
      {
       LARGE_INTEGER StartingLcn;
       LARGE_INTEGER BitmapSize;
       BYTE Buffer[1];
      } VOLUME_BITMAP_BUFFER, *PVOLUME_BITMAP_BUFFER;
            */
            Int64 StartingLcn = (Int64)Marshal.PtrToStructure(pDest, typeof(Int64));

            Debug.Assert(StartingLcn == 0);

            pDest = (IntPtr)((Int64)pDest + 8);
            Int64 BitmapSize = (Int64)Marshal.PtrToStructure(pDest, typeof(Int64));

            Int32 byteSize = (int)(BitmapSize / 8);
            byteSize++; // round up - even with no remainder

            IntPtr BitmapBegin = (IntPtr)((Int64)pDest + 8);

            byte[] byteArr = new byte[byteSize];

            Marshal.Copy(BitmapBegin, byteArr, 0, (Int32)byteSize);

            BitArray retVal = new BitArray(byteArr);
            retVal.Length = (int)BitmapSize; // truncate to exact cluster count
            return retVal;
        }
        finally
        {
            CloseHandle(hDevice);
            hDevice = IntPtr.Zero;

            Marshal.FreeHGlobal(pAlloc);
            pAlloc = IntPtr.Zero;
        }
    } 
```

# php - 当我从表单更新 mysql 数据库时发生了奇怪的事情

> ID：10310121
> 
> 赞同：-2
> 
> 时间：2012-04-25T05:58:56.480
> 
> 标签：php, mysql

我有一个用户用来更新项目的表单。表单包含输入字段，例如项目名称、项目价格、数量等。
现在，表单正在更新，但它正在复制数据库中的项目描述。这是添加的项目描述最终为：

> 这是项目描述 这是项目描述。

有没有办法只更新已更改的文本？表单是用 php 构建的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:05:42.187

如果你发布你的代码会很有意义。但这是mysql更新查询的语法

```
UPDATE table SET field = 'yourvalue' WHERE id = 'id value' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:31:42.240

如果您使用 mysql，请尝试一次

有2个解决方案...

1.  如果您想在新值从现有值更改时更新字段值。然后分别对每个字段运行查询表单

    ```
    update tbalename set fieldname = 'fieldvalue' where  table_id = "unique id value" AND fieldname != "fieldvalue"; 
    ```

2.  别的

    ```
    update tbalename set fieldname1 = 'fieldvalue1', fieldname2 = 'fieldvalue2',fieldnamenth = 'fieldvaluenth' where  table_id = "unique id value" 
    ```

它将更新所有字段值....

# ajax - Django中的AJAX用户名验证

> ID：10310124
> 
> 赞同：2
> 
> 时间：2012-04-25T05:59:18.400
> 
> 标签：ajax, django, forms, validation

我想创建异步用户名验证，在更改用户名输入的值时，访问数据库以查看该用户名是否有效。到目前为止，我有这段代码，它似乎不起作用。请帮助我找出哪里出了问题。谢谢！

我的 HTML：

```
<div>Username</div>
<input type="text" name="id" id="id">
<div id="idval"></div> 
```

我的脚本：

```
<script>
function CheckId() {
$.get('/signup/', {username: $(this).val()},
    function(data){
        if(data == "True"){
            $('#idval').html("You may use this ID");
        } else {
            $('#idval').html("Unavailable");
        }
});
}
function onChange(){
 $("#id").change( function() {CheckId()});
}
$(document).ready(onChange);
</script> 
```

我的观点：

```
def signup(request):
    if request.method == "GET":
        p = request.GET.copy()
        if p.has_key('username'):         
            name = p['username']
            if User.objects.filter(username__iexact=name):
                return HttpResponse(False)
            else:
                return HttpResponse(True) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:04:44.837

in`CheckId()` `$(this).val()`是行不通的。你需要`$('#id').val()`

请参阅有关关键字如何工作的[讨论](https://stackoverflow.com/a/134149/968269)`this`

# objective-c - 将文件写入 plist 和 NSFilemanager 之间的区别

> ID：10310126
> 
> 赞同：0
> 
> 时间：2012-04-25T05:59:27.103
> 
> 标签：objective-c, plist, nsfilemanager

将对象（例如数组类型和 NSObject 类型）写入 plist 和 NSFileManager 之间有什么区别吗？

如果可以，我可以将 1000 张图像数据和 mp3 歌曲写入 plist。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:13:31.380

由于 plist 文件是一个 XML（主要是文本）文件，因此您必须在写入之前*存档数据并在读取之后**取消存档*（参见`NSKeyedArchiver` [此处](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html)）。

`NSFileManager`但是，它是通用文件系统操作的包装器，无需将数据编组为文本即可存储。因此，存储的数据将更小，读/写更快，是显而易见的选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:22:11.577

[NSFileManager](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/nsfilemanager_Class/Reference/Reference.html)用于执行复制文件、删除文件和移动文件等操作。您不会使用 NSFileManager 写出新文件。它仅适用于处理现有文件。在使用 plist 与 NSFileManager 的意义上，它无法与 plist 相提并论。

但是，如果您要回答的问题是我应该将所有数据存储在 plist 中还是单独的文件中，那么这取决于。如果您要存储 1000 张图像和 mp3，那么您绝对不想将它们全部存储在一个 plist 中。在速度和内存方面，Plists 是一种用于存储和更新大量信息的低效格式。例如，如果要更新 plist 中的单个字符串，则必须将整个 plist 读入内存，更新它，然后将整个 plist 写回磁盘。您不能使用[Foundation 提供的标准 plist 函数](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSPropertyListSerialization_Class/Reference/Reference.html)只更新 plist 的一部分。如果您的 plist 包含您所有的图像和 mp3 数据，它会非常慢。

您可能可以不使用 plist 作为图像和 mp3 的清单，这些图像和 mp3 作为单独的文件存储在磁盘上，但即使这样也会变慢。我建议使用 SQLite 或 Core Data 代替文件清单，然后将每个图像和 mp3 作为单独的文件保存在文件系统中。或者，如果您不需要为每个项目存储任何元数据，则根本不需要清单。如果您最终为清单使用了 plist，请确保使用 NSPropertyListBinaryFormat_v1_0 选项将 plist 保存为二进制 plist。这将使 plist 在磁盘上占用更少的空间，并且在您再次读取它时更快地反序列化。

# php - 在 php 中使用基本 oops 概念的图像上传器

> ID：10310129
> 
> 赞同：0
> 
> 时间：2012-04-25T05:59:35.740
> 
> 标签：php, oop

我正在尝试为我的图像上传器使用一些基本的 oops 概念，但似乎无法正常工作我的基本代码会出现什么错误，请帮助我解决这个问题

```
class allUploader
{
    var $name="sdf";
    var $type="";
    var $error="";
    function imageupload($image)
    {
        return $this->name;
    }
}
$v=allUploader::imageupload("hello");
echo $v; 
```

错误：

```
Notice: Undefined index: uploader in /var/www/imageupload.php on line 20 Fatal error: Using $this when not in object context in /var/www/imageupload.php on line 15 
```

感谢您宝贵的时间

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:27:10.693

您的问题是您试图`static`根据您的调用代码在上下文中引用它，因此您需要做两件事中的一件才能使其工作。

选项1：

```
// Wrong
$v=allUploader::imageupload("hello");

// Right
$uploader = new allUploader();
$uploader->imageupload('hello'); 
```

选项 2：

```
// Wrong
var $name = 'sdf';

function imageupload($image)

// Right
protected static $name;

public static function imageupload($image)
{
    return self::$name;
} 
```

选项 3

```
// Wrong
function imageupload($image)

// Right
public static function imageupload($image)
{
    $uploader = new allUploader();

    return $uploader->name;
} 
```

我建议您彻底阅读 PHP 的“ [OOP The Basics](http://us2.php.net/manual/en/language.oop5.basic.php) ”以及[静态关键字](http://us2.php.net/manual/en/language.oop5.static.php)。

# c# - MS Charts 系列作为标签

> ID：10310133
> 
> 赞同：0
> 
> 时间：2012-04-25T05:59:57.327
> 
> 标签：c#, asp.net-charts

我在我的页面上创建了一个 MS Chart 控件，并添加了绑定到 DataView 的 2 个系列（组合条和折线图）。我的 DataView 有第三个指标（项目），我想将其显示为条形图条上的标签。有没有办法将 DataView 中的第三个值分配为第一个系列的标签？

提前感谢您的任何回复。

这是我到目前为止的一个片段；

```
 DataView DV = new DataView(source, exp, sortorder, DataViewRowState.CurrentRows);

        Chart1.Series.Add("Traffic");
        Chart1.Series["Traffic"].Points.DataBindXY(DV, "Date", DV, "Traffic");
        Chart1.Series["Traffic"].ChartType = SeriesChartType.Column;
        Chart1.Series["Traffic"].YAxisType = AxisType.Primary;

        Chart1.Series.Add("Sales");
        Chart1.Series["Sales"].Points.DataBindXY(DV, "Date", DV, "Sales");
        Chart1.Series["Sales"].ChartType = SeriesChartType.Line;
        Chart1.Series["Sales"].YAxisType = AxisType.Secondary;
        Chart1.Series["Sales"].BorderWidth = 4;
        Chart1.Series["Sales"].Color = System.Drawing.Color.Crimson;
        Chart1.ChartAreas["ChartArea1"].AxisY2.Title = "Sales"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:03:26.587

您可以通过使用来实现该部分`DataBind`

```
Chart1.Series[0].Points.DataBind(data, "Date", "Sales", "Label=yourfieldhere"); 
```

现在这应该为您分配的字段所代表的标签绘制`Date`并`Sales`使用标签（应该是数据的一部分或在您的情况下`DV`）

# windows - 使用 Windows 资源管理器在源目录中启动 R

> ID：10310141
> 
> 赞同：1
> 
> 时间：2012-04-25T06:00:39.043
> 
> 标签：windows, r

我需要与没有任何命令行经验的同事共享我的数据和 R 源文件。此外，我在 Linux 下工作，而她在 Windows 下。但她想更改一些常量并重新计算脚本。因此，如果她可以双击 R 源文件并且 R 将在源文件和数据文件所在的同一目录中执行，那就太酷了。我想过设置

```
Rscript -e "source(\"%1\",chdir=TRUE)" 
```

到注册表中的关联键，但文件`(%1)`名将包含 R 不会处理的反斜杠。

另一种方法是到`setwd()`我脚本开头的源目录，但我不知道如何获取它。AFAIK，`argv[0]`将是`R.exe`，而不是`source.R`。

使用 GUI 也不是很方便，因为它需要单独更改目录然后加载脚本。

我必须为此编写一个 R 加载程序（exe 或 cmd）吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T12:32:19.543

一些提示，作为一个白天在 Windows 上工作，晚上在 Mac OS 上工作的人。我在两台机器通用的 Dropbox 文件夹中创建我的项目。我遵循这种工作习惯。

我在两台机器上都使用 RStudio。我通过在本地右键单击脚本文件来启动 RStudio，这会将工作目录设置为正在打开的文件。如果然后我将脚本中的所有路径保持相对，那么我可以轻松地与自己分享我的项目:)

我通过设置一个全局变量来开始我的脚本，在一行看起来很傻：

```
DIR <- getwd() 
```

然后我在其余脚本中使用相对路径。像这样的行：

```
new.path <- paste(DIR, "rel-path", "to", "new", "file", sep="/") 
```

这避免了我不得不修改每台机器上的配置文件。它看起来确实很明显，但它为我提供了一个更改 DIR 值的地方，以防我希望脚本指向其他地方，比如早上

```
DIR <- "~/workspace/newproject" 
```

或者，在晚上，

```
DIR <- "c:/R_workspace/yet/a/different/project" 
```

我还必须小心，我使用相同的 R 版本和包，在某些情况下，这会导致几次打嗝。

这是一个简单的流程，但有效并且允许跨两个系统无缝工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-26T01:43:01.360

哎呀。如果资源管理器不在网络文件夹中，则资源管理器在源目录中启动 R。最初我试图在网络文件夹上启动它。所以唯一要做的就是将文件复制到本地驱动器，或者将网络驱动器映射到一个盘符。

# mysql - 优化计数和选择查询

> ID：10310159
> 
> 赞同：3
> 
> 时间：2012-04-25T06:02:52.220
> 
> 标签：mysql, optimization, count, full-text-search

我正在使用 MySQL 5.5。我有一个使用子查询的查询（全文）。为了提高性能和我使用分页的事实，我使用 LIMIT 来限制结果的数量。

```
SELECT * 
FROM ( 
    SELECT id, type, type_id, content, MATCH(content) AGAINST('john') as relevance, IFNULL  (parent_type, UUID()) as parent_type, IFNULL(parent_id, UUID()) as parent_id 
    FROM search_index
    WHERE MATCH(content) AGAINST('john*' IN BOOLEAN MODE) GROUP BY parent_type, parent_id ) as search 
GROUP BY search.type, search.type_id DESC LIMIT 10; 
```

问题是，除此之外，我需要在每个搜索查询中发回可能结果的总数，例如 (50000)。为了得到计数，我正在使用：

```
SELECT COUNT(*) FROM(
    SELECT * 
    FROM ( 
        SELECT id, type, type_id, content, MATCH(content) AGAINST('john') as relevance, IFNULL  (parent_type, UUID()) as parent_type, IFNULL(parent_id, UUID()) as parent_id 
        FROM search_index
        WHERE MATCH(content) AGAINST('john*' IN BOOLEAN MODE) GROUP BY parent_type, parent_id ) as search 
    GROUP BY search.type, search.type_id) as count; 
```

不过，这确实让我有些不安。这是计数查询的解释：

![在此处输入图像描述](../Images/253b5edd134915c6e21ae27b9f556015.png)

`search_index`是 上的全文索引`content`。 是除和`search_index_no_ft`之外的所有列的索引。上有一个主键。`content``id``id`

有没有更好的方法来做到这一点，也许是一种优化的方法？或者，有没有办法将 2 个查询（计数和搜索）合并为 1 个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:00:57.580

您是否尝试使用 SQL_CALC_FOUND_ROWS？它是这样工作的：

```
SELECT SQL_CALC_FOUND_ROWS some_fields FROM table WHERE xxx LIMIT 10;
SELECT FOUND_ROWS(); 
```

唯一的限制是您必须在第一个查询之后立即执行第二个查询。
更多 mysql 文档：[http](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows)
://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows 不知道它在并发查询中的表现如何，所以你必须检查这个。

# r - R中开始，结束，持续时间的时间序列可视化

> ID：10310163
> 
> 赞同：0
> 
> 时间：2012-04-25T06:03:07.043
> 
> 标签：r, ggplot2, data-visualization, time-series, candlestick-chart

我有以下数据：

```
> Data
          Date    Start       End
1   2011-11-15 12:01:27 12:30:15 
2   2011-11-16 12:01:25 12:32:15 
3   2011-11-17 12:01:02 12:39:12 
4   2011-11-19 12:01:12 12:30:18 
```

我还附加了一个 Duration 列

```
Data[,4] <- as.numeric(difftime(Data$End,Data$Start))
names(Data)[4] <- "Duration" 
```

我的脑海中有一个开始，结束的可视化，看起来有点像股票[烛台](http://en.wikipedia.org/wiki/Candlestick_chart)或[OHLC](http://en.wikipedia.org/wiki/Open-high-low-close_chart)图表，其中 x 值是日期，y 是结束 - 开始。

结束在顶部，矩形下降到开始——矩形的高度随着时间的推移而变化。也就是说，每个 Date 都有不同的矩形高度，由 Start 和 End 之间的差异决定。

这里的 x 轴从 2011-11-15 到 2011-11-19。y 轴从 12:00:00 到 12:40:00。

是否有任何 ggplot 向导看到了一种简单的方法来做到这一点？由于 Start 和 End 都随着时间而变化，我是否必须使用 geom_ribbon 或 geom_polygon 而不是 geom_bar 或 geom_area？

如果在 Duration 的值大于 2 个标准差的日子里，条形的颜色可以变为红色，那就太酷了！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T08:30:20.453

我使用与 nico 类似的结构（谢谢！）：

```
date = c("2011-11-15", "2011-11-16", "2011-11-17", "2011-11-19")
start = c("12:01:27", "12:01:25", "12:01:02", "12:01:12")
end = c("12:30:15", "12:32:15", "12:39:12", "12:30:18") 
```

接下来，我们将其放入包含矩形角的数据框中：

```
##I've made the rectangles 2 hours wide
df = data.frame(date = as.POSIXct(date),
         ystart = as.POSIXct(start, format="%H:%M:%S"), 
         yend = as.POSIXct(end, format="%H:%M:%S"),
         xstart=as.POSIXct(paste(date, "12:00:00"), format="%Y-%m-%d %H:%M:%S"),
         xend = as.POSIXct(paste(date, "14:00:00"), format="%Y-%m-%d %H:%M:%S")) 
```

然后我们只使用`geom_rect`：

```
ggplot() + geom_rect(data=df, aes(ymin=ystart, ymax=yend,
                           xmin=xend, xmax=xstart)) 
```

如果您想根据条件将其中一些设为红色，只需在数据框上创建一个附加列：

```
##Your condition is something to do with the sd
df$isRed = c(TRUE, FALSE) 
```

然后添加两个ggplot层：

```
ggplot() + geom_rect(data=subset(df, !isRed), aes(ymin=ystart, ymax=yend,
                           xmin=xend, xmax=xstart)) +
           geom_rect(data=subset(df, isRed), aes(ymin=ystart, ymax=yend,
                           xmin=xend, xmax=xstart), colour="red") 
```

**示例图**

![在此处输入图像描述](../Images/a788c86f8ca62cb34a5608265f7908ac.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-25T07:12:19.710

我不使用 ggplot，但我可以给你一个基本的 R 解决方案

```
# Generate the data
date <- c("2011-11-15", "2011-11-16", "2011-11-17", "2011-11-19")
start <- c("12:01:27", "12:01:25", "12:01:02", "12:01:12")
end <- c("12:30:15", "12:32:15", "12:39:12", "12:30:18")

# Put everything in a data frame and convert to POSIXct objects
# The times will be all converted to today's date
# but this will not influence the plot
df <- data.frame(date = as.POSIXct(date),
                 start = as.POSIXct(start, format="%H:%M:%S"), 
                 end = as.POSIXct(end, format="%H:%M:%S"))

# Get the working range for the axes in order to make them nicer (see below)
x.from <- as.POSIXct(min(date))
x.to <- as.POSIXct(max(date))
y.from <- as.POSIXct(min(start), format="%H:%M:%S")
y.to <- as.POSIXct(max(end), format="%H:%M:%S")

# Create an empty plot, as rect will not create a new one
# We put no axes on the plot
plot(0, "n", xaxt="n", yaxt="n", ylab="", xlab="Day", 
     ylim=c(from, to), xlim=range(df$date))

# Now draw the rectangles (I made them 2 hours-wide)
rect(df$date-3600, df$start, df$date+3600, df$end, col="black")

days <- seq(x.from, x.to, 24*3600)
times <- seq(y.from, y.to, 300) # 5 min (=300 s) axis ticks
# Finally add the axes
axis(1, at=days, labels=strftime(days, "%d/%m"))
axis(2, at=times, labels=strftime(times, "%H:%M"), las=1) 
```

结果：

![烛台般的情节](../Images/8c70d41cc5b7f350ef54ede0c44854c4.png)

# haskell - Haskell：一次只能通过 :load 加载一个文件

> ID：10310166
> 
> 赞同：12
> 
> 时间：2012-04-25T06:03:20.180
> 
> 标签：haskell, ghc, ghci, winghci

假设我有两个模块 NecessaryModule1 和 NecessaryModule2 （如[Haskell 后所述：在当前目录路径中加载所有文件](https://stackoverflow.com/questions/10268692/haskell-loading-all-files-in-current-directory-path)。然后我在 WinGHCi 和 GHCi 中都注意到，如果我这样做：

```
> :load NecessaryModule1
[1 of 1] Compiling NecessaryModule1 ( NecessaryModule1.hs, interpreted )
Ok, modules loaded: NecessaryModule1.
> addNumber1 2 3
5
> :load NecessaryModule2
[1 of 1] Compiling NecessaryModule2 ( NecessaryModule2.hs, interpreted )
Ok, modules loaded: NecessaryModule2.
> addNumber1 2 3

<interactive>:1:1: Not in scope: `addNumber1' 
```

即加载NecessaryModule2 消除了NecessaryModule1 中的所有功能。

那么这是否意味着我可以同时加载 NecessaryModule1 和 NecessaryModule2 的唯一方法是使用第三个文件（同时导入 NecessaryModule1 和 NecessaryModule2）然后加载第三个文件？（例如，参见[Haskell 中的 test.hs：在当前目录路径中加载所有文件](https://stackoverflow.com/questions/10268692/haskell-loading-all-files-in-current-directory-path)）谢谢。

## -------------------------------------------------- -------------------------------------

[对极客龙的回应]

嗨，如果我已经完成`:load NecessaryModule1`，然后我想在 MyMod.hs 中加载模块：

```
--MyMod.hs
module MyMod where
import Data.List

f x = sort x 
```

那我该怎么做呢？In [Haskell : unload module in WinGHCi](https://stackoverflow.com/questions/10295678/haskell-unload-module-in-winghci) Riccardo 解释说`:module`假设模块已经被加载。那么这是否意味着实现加载多个自定义模块的唯一方法就是通过一次`:load`函数调用来加载它们呢？谢谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-04-25T10:16:20.643

好的，有两件事需要考虑：":module" 知道要找到什么，以及在给定提示符下实际在上下文中的内容。

:module 总是知道如何在已安装的包（未隐藏）中查找模块，默认情况下这就是它可以访问的全部。但是你可以使用 :load 让它知道特定文件中的一些其他模块。每次调用 :load 都会重置附加模块集（并且 :reload 保持相同的加载模块集但刷新它们的内容）。此外 :load 会将您置于您指定的第一个模块的上下文中。

换句话说，如果你想进入两个模块都被导入的上下文，你需要做：

```
> :load Module1 Module2
> :module Module1 Module2 
```

> 那么这是否意味着实现加载多个自定义模块的唯一方法是通过一次调用 :load 函数来加载它们？

换句话说：是的！（但这似乎不是问题，只是如果您仍想在新上下文中使用它们，则需要重复过去加载的模块）

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-04-25T06:22:49.017

`:load`加载您的主程序模块。 `:module`可用于加载其他模块：

```
> :load BaseModule -- this is the one that contains 'main'
> :module +AddedModule -- this is an additional library module 
```

您还可以使用`:module`卸载这些附加模块：

```
> :module -AddedModule -- after this @AddedModule@ will no longer be loaded 
```

如果您没有带有 的模块`main`，您可能希望使用它`:module +`来加载所有库模块。

# regex - 需要一个类似于xcode的正则表达式模式快速打开文件对话框

> ID：10310167
> 
> 赞同：0
> 
> 时间：2012-04-25T06:03:24.543
> 
> 标签：regex, xcode

在 xcode 中有一个“快速打开”文件对话框，允许您输入文件名的一部分，它会作为结果出现。例如，如果一个文件名为：“mynewfile”，我可以输入一个搜索词：“myfi”（注意它没有空格），xode 将显示结果“mynewfile”，同时仅突出显示“my”和“fi”部分。我正在寻找用于实现这种效果但有区别的正则表达式：它应该只匹配单词的开头：

如果“我的新文件”是名称并且“我的文件”是搜索词，则匹配将仅适用于“我的”和“文件”（它应该返回我编写的突出显示功能的索引）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:10:55.640

我不知道 Xcode 搜索使用什么类型的正则表达式，但是在单词开头的匹配通常是通过使用 word boundary 来完成的`\b`。所以在你的情况下，你可能会搜索`\bmyfi`

# php - SQL 查询导致我的加载更多帖子功能出现问题

> ID：10310173
> 
> 赞同：1
> 
> 时间：2012-04-25T06:03:48.747
> 
> 标签：php, mysql, sql

我想在以下行下方添加更多帖子查询

```
OR p.posted_to='$userid' 
```

但是当我在 OR 语句中添加到下面的查询时，它会返回结果，但它只是不断重复相同的帖子，每次我点击加载更多，而不是加载旧帖子。

如果我将此 OR 语句添加到我的常规节目帖子中，它会做它应该做的事情。当我将 OR 语句添加到下面的 loadmore 帖子查询时，会出现唯一的问题。

```
$sql = "SELECT p.body, p.user_id, p.posted_to, p.post_likes,p.stamp, p.id,u.username,     u.imagelocation 
        FROM posts p 
        INNER JOIN users u 
        ON p.user_id=u.id 
        WHERE p.user_id='$userid'   
        AND p.id <'$lastcomment' 

        ORDER BY p.stamp DESC
        LIMIT 0,3"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:06:24.247

我假设你写了这样的东西：

```
WHERE p.user_id='$userid' OR p.posted_to='$userid'
AND p.id <'$lastcomment' 
```

这不起作用，因为 AND 的优先级高于 OR。你需要括号。

```
WHERE (p.user_id='$userid' OR p.posted_to='$userid')
AND p.id <'$lastcomment' 
```

如果没有括号，它将被解释如下：

```
WHERE p.user_id='$userid'
OR (p.posted_to='$userid' AND p.id <'$lastcomment') 
```

# cocoa-touch - Restkit，使用 loadObjectsAtResourcePath 发送帖子数据

> ID：10310174
> 
> 赞同：3
> 
> 时间：2012-04-25T06:03:51.650
> 
> 标签：cocoa-touch, restkit

如果我使用 restkit 发出请求，我可以使用共享客户端发送发布参数。我如何对共享对象管理器做同样的事情，当请求对象时似乎没有发布数据的功能。

要重新迭代，我希望在使用 loadObjectsAtResourcePath 时发送一些帖子数据

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-26T09:00:20.180

必须使用 loadObjectsAtResourcePath 吗？这是我用来向我的服务器发送 POST 请求的方法

```
 RKParams* params = [RKParams params];
    [params setValue:@"The text" forParam:@"text"];

    RKClient* myClient = [RKClient sharedClient];
    [myClient post:resourceURL params:params delegate:self]; 
```

你得到你的回应

```
 - (void)request:(RKRequest *)request didLoadResponse:(RKResponse *)response 
```

PS：刚刚找到这个链接：[https ://github.com/RestKit/RestKit/wiki/Posting-NSDictionary-as-JSON](https://github.com/RestKit/RestKit/wiki/Posting-NSDictionary-as-JSON)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-28T04:32:09.973

您可以使用块样式对象加载器来自定义请求：

```
[[RKObjectManager sharedManager] loadObjectsAtResourcePath:@"/monkeys.json" usingBlock:^(RKObjectLoader* loader) {
     loader.objectMapping = [[RKObjectManager sharedManager].mappingProvider objectMappingForClass:[Monkey class]];
     loader.method = RKRequestMethodPOST;
}]; 
```

[https://github.com/RestKit/RestKit/blob/master/Code/ObjectMapping/RKObjectManager.h#L374](https://github.com/RestKit/RestKit/blob/master/Code/ObjectMapping/RKObjectManager.h#L374)

# javascript - 在浏览器窗口关闭之前显示一个 jQuery 弹出窗口

> ID：10310177
> 
> 赞同：1
> 
> 时间：2012-04-25T06:04:32.827
> 
> 标签：javascript, jquery, popup, onbeforeunload

我正在使用以下 js 在浏览器/窗口关闭之前显示一个弹出窗口。但它似乎不起作用。

```
$(window).bind('beforeunload', function(e) {
    $('#beforeclose').click(); 
}); 
```

我要显示的弹出窗口是[prettyPopin](http://www.no-margin-for-errors.com/projects/prettypopin/)。这`#beforeclose`是我试图在窗口卸载之前绑定点击事件的锚的ID。我注意到本机 js 弹出窗口可以工作，但 jQuery 弹出窗口不起作用。

有没有办法实现我想要的？请向我解释或让我参考相应的链接，因为我不是 js 专家。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:18:28.273

你不能安全地这样做。

`onbeforeunload`旨在避免完全阻止用户离开您的页面。您唯一应该做的就是返回一个字符串，其中包含用户可能不想离开页面的消息。[除非用户使用 firefox，否则](https://bugzilla.mozilla.org/show_bug.cgi?id=641509)此消息会显示给用户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:18:31.020

试试这个：

```
<script type="text/javascript">
        $(function() {
        function confirmmsg() {
            return "Mail Not sent";
        }
        window.onbeforeunload = confirmmsg;

        });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:11:58.390

尝试将其更改为

```
$(window).bind('beforeunload', function(e) {
    $('#beforeclose').click(); 
    e.preventDefault();
    return false; // just in case.. 
}); 
```

来自[jQuery 文档](http://api.jquery.com/event.preventDefault/)：

> event.preventDefault()
> 
> **说明**：如果调用此方法，则不会触发事件的默认动作。

基本上，您正在绑定显示`beforeunload`事件弹出窗口的函数，但这不会像警报窗口或类似的东西那样阻止浏览器。使用`event.preventDefault()`你将停止事件流的执行。

# cakephp - CakePHP 2.0 获取可包含字段

> ID：10310178
> 
> 赞同：0
> 
> 时间：2012-04-25T06:04:33.090
> 
> 标签：cakephp, cakephp-2.0

```
'Tag' => array(
    (int) 0 => array(
        'id' => '1',
        'name' => 'kannada',
        'MoviesTag' => array(
            'id' => '60',
            'movie_id' => '2',
            'tag_id' => '1'
        )
    )
) 
```

我想从可包含标签的movie_id 中获取电影。如何获取它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:51:39.923

在你的`Tag`控制器中尝试这样的事情：

```
$this->Tag->find('all'); // this will return tag with movie detail 
```

**或者**

如果你想使用`Containable`行为，那么试试这个：

```
$this->Tag->attach->behaviors('Containable');

$this->Tag->recursive = -1;

$this->Tag->find('all', array(
        'fields' => array('Tag.id', 'Tag.name'),
        'contain' => array(
                         'Movie'
                      )
)); 
```

# ios - 如何从 Storyboard 中创建的静态 UITableView 中删除单元格

> ID：10310180
> 
> 赞同：10
> 
> 时间：2012-04-25T06:04:34.737
> 
> 标签：ios, uitableview, storyboard

这应该很容易，但我遇到了麻烦。

我有一个带有单元格的静态 UITableView，如果不需要，我想以编程方式将其删除。

我有一个 IBOutlet

```
IBOutlet UITableViewCell * cell15; 
```

我可以通过调用删除它

```
cell15.hidden = true; 
```

这隐藏了它，但在单元格曾经所在的位置留下了一个空白空间，我无法摆脱它。

也许黑客会将其高度更改为0？

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:indexPath
{
//what would I put here?
} 
```

非常感谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-25T07:01:16.567

您无法在数据源中真正处理此问题，因为使用静态表您甚至不实现数据源方法。高度是要走的路。

试试这个：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
{ 
    UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    if (cell == cell15 && cell15ShouldBeHidden) //BOOL saying cell should be hidden
        return 0.0;
    else
        return [super tableView:tableView heightForRowAtIndexPath:indexPath]; 
} 
```

**更新**

看来，在自动布局下，这可能不是最好的解决方案。[这里](https://stackoverflow.com/a/18951274/852828)有一个替代答案可能会有所帮助。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-26T19:51:26.350

您可以将`tableView:willDisplayCell`and`tableView:heightForRowAtIndexPath`与单元格标识符一起使用来显示/隐藏静态`tableview`单元格，但您必须实现对 的`heightForRowAtIndexPath`引用`super`，而不是对`self`。这两种方法对我来说很好用：

```
(void) tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
{
if ([cell.reuseIdentifier.description isEqualToString:@"cellCelda1"]) {
    [cell setHidden:YES];
    }
} 
```

和

```
(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [super tableView:tableView cellForRowAtIndexPath:indexPath];
    if ([cell.reuseIdentifier.description isEqualToString:@"cellCelda1"]) {
        return 0;
}
    return cell.frame.size.height;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-25T06:15:06.827

根据您的表应该如何工作，在您的数据源中，您可以`tableView:numberOfRowsInSection:`根据您的必要逻辑实现为该部分返回 0 行。

更新您的评论：

section 参数将在调用您的实现时由 iOS 填充，因此您只需要一个开关来处理您删除/隐藏行的部分。下面的例子：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    switch(section) {
        case 0:  // first section of your table, change for your situation
             return 0;
        default:
             return 0;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-05T08:54:22.167

它仅适用于恒定电池

```
-(void)tableViewSearchPeopleCellHide:(BOOL)hide{

    searchCellShouldBeHidden=hide;
    UITableViewCell *cell = [self.tableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:1 inSection:0]];
    [self.tableView scrollToRowAtIndexPath:[NSIndexPath indexPathForRow:1 inSection:0] atScrollPosition:UITableViewScrollPositionTop animated:YES];
    cell.hidden=hide;
    self.searchPeople.hidden=hide;//UILabel
    [self.tableView reloadData];
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
   // UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    if (searchCellShouldBeHidden) //BOOL saying cell should be hidden
        return 0.0;
    else
        return [super tableView:tableView heightForRowAtIndexPath:indexPath];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-13T06:41:21.330

您可以做的第一件事是从情节提要中标记要隐藏的单元格。放一些您可以识别的标准数字。

添加此代码。

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
    UITableViewCell *cell = [super tableView:tableView cellForRowAtIndexPath:indexPath];
    if (cell.tag==10) { //I have put 10 for some static cell.       
                cell.hidden=YES;
                return 0;         

    }
     cell.hidden = NO;
    return [super tableView:tableView heightForRowAtIndexPath:indexPath];
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-09-23T09:13:12.610

将要隐藏的单元格设置为隐藏在代码中的某个位置。添加此代码：（如果您的单元格具有不同的行高，那么您需要覆盖更多功能）

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    int rowCount=0;
    for ( int row=0; row<[super tableView:tableView numberOfRowsInSection:section]; ++row){
        NSIndexPath* path=[NSIndexPath indexPathForRow:row inSection:section];
        UITableViewCell* cell=[super tableView:tableView cellForRowAtIndexPath:path];
        if (!cell.hidden){
            ++rowCount;
        }
    }
    return rowCount;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    int realRow=-1;
    for ( int row=0; row<[super tableView:tableView numberOfRowsInSection:indexPath.section]; ++row){
        NSIndexPath* path=[NSIndexPath indexPathForRow:row inSection:indexPath.section];
        UITableViewCell* cell=[super tableView:tableView cellForRowAtIndexPath:path];
        if (!cell.hidden){
            ++realRow;
        }
        if (realRow==indexPath.row)
            return cell;
    }
    return nil;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-04-19T11:55:24.737

**使用索引路径识别 tableview 高度委托中的单元格并返回 0**

```
override func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat {

        if someCondition {

            if indexPath.row == 1 || indexPath.row == 2 || indexPath.row == 3 {
                return 0 
            }

        }else{

            if indexPath.row == 4 {
                return 0 
            }

        }

    return super.tableView(tableView, heightForRowAt: indexPath)
} 
```

# clearcase - clearcase 结帐权限

> ID：10310186
> 
> 赞同：0
> 
> 时间：2012-04-25T06:05:11.500
> 
> 标签：clearcase, vcs-checkout

我越来越关注

```
Rational ClearCase Explorer
---------------------------
Error checking out 'C:\Projects\TestServlet.java'.

Lock on activity "activity_test_name" prevents operation "change activity".
Unable to check out "C:\Projects\TestServlet.java". 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:52:36.683

允许您签出该文件的正确程序是将您包括在该锁上豁免的用户列表中：请参阅[`cleartool lock`手册页](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m1/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_lock.htm)。
但是您需要是声明了活动或当前 Stream 的 pvob 的所有者，或者是 root（或 Windows 上的特权用户）。

如果仅锁定活动，则另一种方法是创建另一个活动。

```
cleartool mkact anotherActivity 
```

然后尝试结帐。它应该取消设置当前（锁定）活动，并设置一个新活动。

但是**，如果 Stream 本身被锁定**（甚至是 vob/pvob），那么您需要向您的 ClearCase 管理员请求解锁。
例如，参见[IBM 技术说明“锁定活动防止操作更改活动”](https://www-304.ibm.com/support/docview.wss?uid=swg21150368)，它说明了“活动锁定”错误消息在这种情况下是如何误导的。
但那是针对 CC2003 的，我想您使用的是更新版本的 ClearCase。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:10:30.273

对您正在使用的 VOB 具有管理控制权的人已锁定活动，因此您无法进行签出。与负责人交谈以找出原因。

问题（很可能）不是您通常没有权限这样做。如果 VOB 被锁定以进行备份，则会出现不同的错误。

# c# - HttpContext.Current.Cache 与 HttpRuntime.Cache

> ID：10310187
> 
> 赞同：6
> 
> 时间：2012-04-25T06:05:19.033
> 
> 标签：c#, asp.net-mvc, caching

我一直在阅读一些关于 c# 3.5 中的缓存的信息。有点困惑，希望能澄清一下两者之间的区别

`HttpContext.Current.Cache`对比`HttpRuntime.Cache`对比`System.Web.Caching.Cache`

此外，我已阅读不建议在非 Web 应用程序中使用上述任何内容，但它可以工作。有什么缺点？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-25T06:17:26.103

`System.Web.Caching.Cache`是为 Web 应用程序实现缓存的类型。 `HttpContext.Current.Cache`只是一个包装器和返回`HttpRuntime.Cache`，它只是`System.Web.Caching.Cache`.

**更新**

请参阅[在 ASP.NET 应用程序之外使用 HttpRuntime.Cache 是否可以？](https://stackoverflow.com/questions/158703/is-it-ok-to-use-httpruntime-cache-outside-asp-net-applications)你的第二部分。

**更新：为什么需要包装 HttpRuntime.Cache？**

*在我的个人意见*中，是`HttpContext`传递给`IHttpHandler.ProcessPostBack`并`HttpApplication`暴露的类型。这将确保使用方法注入注入所有依赖项。因此，他们引入了一定程度的间接性。`HttpContext``IHttpModule.Init`

处理程序和模块应该不知道托管它们的 HttpRuntime。当您在 ASP.NET 页面中时，建议改用`this.Page.Cache`HttpContext.Current`HttpContext.Current.Cache`或`HttpRuntime.Cache`使用 HttpContext.Current 会涉及解析当前线程的开销并`HttpRuntime.Cache`会创建外部依赖项。`Page.Cache`用`HttpContext.Cache`传递给的`ProcessRequest`

# c# - asp.net中如何动态设置TreeView的大小和边框？

> ID：10310189
> 
> 赞同：0
> 
> 时间：2012-04-25T06:05:28.653
> 
> 标签：c#, asp.net, asp.net-mvc, c#-4.0

我在asp.net页面中创建了一个TreeView，并设置了TreeView的高度和宽度。但是当节点数量增加时，它不适合指定的边框。所以，我想动态设置TreeView的大小和还设置水平滚动条，如果溢出则垂直滚动条。

请指导我摆脱这个问题？

谢谢和问候， P.SARAVANAN

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:18:10.240

将您的 Treeview 放入 div 并将 div 和 treeview 放入 Asp:Panel 中，如下所示并设置其属性 ScrollBar = "Auto"

```
 <asp:Panel runat="server" ID="PanelID" ScrollBars="Auto">
                                    <div id="DivID" runat="server">
                                        <asp:TreeView>
                                              // your treeview nodes goes here
                                        </asp:TreeView>
                                    </div>
        </asp:Panel> 
```

设置 ScrollBar = "Auto" 将水平和垂直设置滚动条

# curl - 在 php.ini 上启用 curl_exec

> ID：10310193
> 
> 赞同：3
> 
> 时间：2012-04-25T06:06:03.313
> 
> 标签：curl, centos, php

我想运行已经卷曲的 php 脚本。

但以下功能被 php.ini 禁用：

**执行，passthru，shell_exec，系统，proc_open，popen，curl_exec，curl_multi_exec，show_source**

我在 php.ini 中更改了以下行：

**disable_functions = exec、passthru、shell_exec、系统、proc_open、popen、show_source**

并在 ssh 上运行**service httpd restart**`phpinfo()`命令，但是当我运行函数时，它会显示 curl_exec 和 curl_multi_exec 再次被禁用。

问题出在哪里，我应该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-28T22:34:35.837

命令行 php 可能使用与 Apache 加载的不同的 ini 文件。

您必须找到使用的 php 配置。您需要编辑当前配置文件。

```
$> php -i | grep "Loaded Configuration File"
Loaded Configuration File => /usr/local/lib/php.ini
$> vim /usr/local/lib/php.ini 
```

并删除禁用的功能。最后一步是：

```
/etc/init.d/httpd restart 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-14T19:02:02.917

转到 php.ini 的末尾，找到以下行：

```
disable_functions =exec,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,parse_ini_file,show_source; 
```

只需像这样编辑它：

```
disable_functions =exec,passthru,shell_exec,system,proc_open,popen,curl_multi_exec,parse_ini_file,show_source; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-20T20:22:14.270

如果您是 kloxo 用户，那么您可以按照以下步骤启用 curl。

[http://www.bloggertale.com/2013/10/22/enable-curl-kloxo/](http://www.bloggertale.com/2013/10/22/enable-curl-kloxo/)

或者，如果您不使用 kloxo，则在您的根目录中登录，然后转到

/ETC

在那里你会得到 php.ini

据我所知，有 2 行

```
exec,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,show_source 
```

意味着一个是 php.ini 的中间，然后是最后一个。你必须从这两个地方删除。

**首先**:- 搜索`curl_exec,curl_multi_exec`，你会在两个地方得到这一行，只需删除它并保存 php.ini 然后

使用此命令：-`service httpd restart`

然后创建一个文件

信息.php

并编写此代码以获取 curl 的状态

```
<?=phpinfo();?> 
```

在他们那里，您将能够看到**CURL IS ENABLE**。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-25T06:12:06.477

只需在 php.ini 文件中取消注释此行

```
;extension=php_curl.dll 
```

并重新启动您的服务器。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-04-25T06:29:57.483

首先请检查 php.ini 的权限，这必须是可写的。然后转到 php.ini 并找到行

```
;extension=php_curl.dll 
```

并删除`;`以取消注释。然后重新启动您的 xampp 或 wamp 服务器。请尝试此更改，如果有任何进一步的问题，请告诉我。

谢谢。

# solr - 在“匹配所有文档”查询中，solr 中的结果如何排序

> ID：10310194
> 
> 赞同：8
> 
> 时间：2012-04-25T06:06:04.847
> 
> 标签：solr, relevance

当我使用“匹配所有文档”查询时，' `*:*`'，星号冒号星号，结果如何排序？

我认为它们是按相关性排序的，但在这种情况下，相关性是相等的，对吧？那么，方案是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-25T08:40:16.467

当两个文档具有相同的分数时，Lucene 会按索引顺序（第一个被索引的第一个）对它们进行排序，以便运行两次查询以相同的顺序返回文档。

由于[MatchAllDocsQuery](http://lucene.apache.org/core/old_versioned_docs/versions/3_5_0/api/all/org/apache/lucene/search/MatchAllDocsQuery.html)为所有文档提供恒定分数，因此它按索引顺序返回它们。

# matlab - 选择条目并放入没有循环的矩阵

> ID：10310204
> 
> 赞同：0
> 
> 时间：2012-04-25T06:07:04.213
> 
> 标签：matlab, matrix, cell-array

我有以下内容：

```
 b = [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double] 
```

其尺寸是可变的。

```
b{1}

ans =

 0     0     0     0 
```

我想将 10 个向量中的每一个的第一个条目作为矩阵的第一列`A`

矩阵的第 2 列`A`将作为 v 的 10 个向量中每个向量的第一个条目`r`：

```
r = 

[1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double]    [1x4 double] 
```

> > r{1} --> ans = 10 10 10 10

这是我需要得到的：

```
A = 

    v{1}(1)   r{1}(1)
    v{2}(1)   r{2}(1)
    v{3}(1)   r{3}(1) 
```

如何在没有循环的情况下做到这一点有没有办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:17:14.750

一些示例数据：

```
b = {[ 101:104 ], [ 201:204 ], [ 301:304 ], [ 401:404 ], [ 501:504 ], [ 601:604 ], [ 701:704 ], [ 801:804 ], [ 901:904 ], [ 1001:1004 ]};

r = {[ 2101:2104 ], [ 2201:2204 ], [ 2301:2304 ], [ 2401:2404 ], [ 2501:2504 ], [ 2601:2604 ], [ 2701:2704 ], [ 2801:2804 ], [ 2901:2904 ], [ 3001:3004 ]}; 
```

编辑：更快的解决方案，无需使用`vertcat`. 编辑：更正了代码中的错字。

```
bMatrix = vertcat(b{:});
rMatrix = vertcat(r{:});
A = [ bMatrix(:,1), rMatrix(:,1) ]; 
```

使用`cellfun`( `cellfun`dos loop) 的解决方案要慢得多：

```
A = [ cellfun(@(x) x(1), b)', cellfun(@(x) x(1), r)' ]; 
```

或部分：

```
ColumnOneOfMatrixA = cellfun(@(x) x(1), b)';
ColumnTwoOfMatrixA = cellfun(@(x) x(1), r)';
A = [ ColumnOneOfMatrixA, ColumnTwoOfMatrixA ]; 
```

两种方式都给出相同的结果。

```
A =
     101        2101
     201        2201
     301        2301
     401        2401
     501        2501
     601        2601
     701        2701
     801        2801
     901        2901
    1001        3001 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:15:51.763

正如 Dan 所指出的，`cellfun`这是避免这种循环的诀窍。

```
%Setup test data
for ix = 1:10
    b{ix} = ones(1,4)*(ix-1);
    r{ix} = ones(1,4)*(ix+9);
end

%Cellfun based definition of the "A" matrix
A = [...
    cellfun(  @(x)x(1),  b(1:10)  ); ...
    cellfun(  @(x)x(1),  r(1:10)  ); ...
    ]'; 
```

此处的`cellfun`调用已设置为返回一个数值数组，其中包含元胞数组中每个数值数组的第一个元素。匿名函数`@(x)x(1)`作为核心，只返回第一个元素，并`cellfun`负责实现适当的循环，而不会打扰您的细节。

请注意，`cellfun`它通常不会比它替换的循环快。它只需要更少的打字，并且在你学会使用它之后可以说更容易阅读。

# linux - mysqldump 和 crontab(linux)

> ID：10310206
> 
> 赞同：-2
> 
> 时间：2012-04-25T06:07:32.420
> 
> 标签：linux, mysqldump

我想自动备份我的数据库，所以我这样写

```
00 10   * * *   root     mysqldump -u root -ppasswordD billing "/home/backup/database_`date '+%m-%d-%Y'`.sql" 
```

但它不起作用，请问有什么想法吗？

谢谢并恭祝安康，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:07:51.377

```
00 10 * * * mysqldump -u root -ppasswordD billing "/home/backup/database_`date '+%m-%d-%Y'`.sql" 
```

如果它失败或产生任何输出，那么您将收到一封 root 邮件，使用命令“mail”阅读它或阅读 /var/log/cron.log ;)

# xml - “EF BF BF”是 XML (UTF-8) 中允许的字符吗？

> ID：10310210
> 
> 赞同：0
> 
> 时间：2012-04-25T06:08:00.603
> 
> 标签：xml, utf-8, character

“EF BF BF”是 XML (UTF-8) 中允许的字符吗？

```
<?xml version="1.0" encoding="UTF-8" ?>
<XML>
    <DOCUMENT>
        <CONTENT>" "</CONTENT>
    </DOCUMENT>
</XML> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:10:25.187

如果“EF **BF** BF”是一个错字，而您的意思是“EF **BB** BF”：

是的，如果它是第一个字节。它们是“BOM”，[字节顺序标记](http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8)，用于识别文件的[字节顺序](http://en.wikipedia.org/wiki/Endianness)。

~~对于 UTF-16 和 UTF-32 编码的文件，这是强制性的。~~

对于 UTF-8，这是可选的。如果它存在，某些系统可能会被它弄糊涂，如果在期望 ISO-8859-1 的上下文中使用带有 BOM 的 UTF-8 文件，它可能会产生意外行为。

**编辑**：如果“EF BF BF”不是拼写错误，则它在文件中的任何位置[都不是有效的 UTF-8 。](http://www.fileformat.info/info/unicode/char/ffff/index.htm)

# android - android youtube应用程序中的全屏模式

> ID：10310211
> 
> 赞同：0
> 
> 时间：2012-04-25T06:08:19.847
> 
> 标签：android, android-intent, youtube, youtube-api, youtube-javascript-api

我有启动 android youtube 应用程序的代码

```
private String video_id[] = { "gZiKrWSzNBo", "mzpJq23cuKc" };
private final static String YOUTUBE_URL = "http://www.youtube.com/watch?v=";
private final static String YOUTUBE_APP = "com.google.android.youtube";

Intent youtube_intent = new Intent();
youtube_intent.setPackage(YOUTUBE_APP);
youtube_intent.setAction(Intent.ACTION_VIEW);
youtube_intent.setData(Uri.parse(YOUTUBE_URL + video_id[position]
                + PLAYER_PARAMETERS));
        startActivity(youtube_intent); 
```

如何强制此应用程序在 android 3.2 中以全屏模式显示视频？并且不要建议 videoview 和 embed player - 这种方法对我不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-11T12:58:37.727

至于 YouTube v4.1.47，您可以执行以下操作：

```
Intent playIntent = new Intent(Intent.ACTION_VIEW);
playIntent.setData(Uri.parse(<yout_YouTube_url>));
playIntent.putExtra("force_fullscreen", true); 
```

它可能适用于旧版本，但我还没有测试过。

# jakarta-ee - AsyncContext.start() 的预期用例是什么？

> ID：10310212
> 
> 赞同：0
> 
> 时间：2012-04-25T06:08:22.050
> 
> 标签：jakarta-ee, servlets, servlet-3.0

有人刚刚指出 AsyncContext.start() 是一种从 Web 容器中启动线程的方法。我想知道将此调用添加到 Java EE 的预期用例是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T10:22:58.783

AsyncContext.start() 不太可能启动一个新线程。它几乎肯定会使用容器线程（来自用于处理请求的同一线程池）。例如，Tomcat 将始终使用请求处理线程池中的容器线程。

用例是您不希望“主”线程在主线程可以继续之前必须等待您放入 Runnable 中的任何内容完成的任何情况。

我能想到的大多数示例都是相当人为的，但是如果您使用 Servlet 3.0 异步与 5 个连接的客户端实现某种消息传递应用程序，则主线程可能会遍历 5 个客户端中每一个的 AsyncContext 并在每个客户端上调用 start()发送广播消息的上下文。这样主线程就不会被慢速客户端阻塞。

# asp.net - ext.NET 关闭动态窗口

> ID：10310215
> 
> 赞同：0
> 
> 时间：2012-04-25T06:08:46.307
> 
> 标签：asp.net, window, ext.net

在 ext.net 中，我动态创建了一个窗口，当用户单击特定按钮时，我希望关闭该窗口。

这是我的 code.parent 窗口定义这个：

```
 Window win= new Window();
    win.ID = "window1";
    win.Title = "";
    win.Height = 400;
    win.Width = 750;
    win.AutoScroll = true;
    win.Resizable = false;
    win.Padding = 5;
    win.Modal = true;
    win.AutoLoad.Url = "child.aspx";
    win.AutoLoad.Mode = LoadMode.IFrame;       
    this.form1.Controls.Add(win);
    win.Render(this.Form);
    win.Show(); 
```

在 child.aspx 中：

```
 Parent.window1.close(); // error 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T23:53:34.780

我觉得你需要...

```
parent.window1.close(); // note lowercase "p" on "parent" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T12:00:36.740

您应该使用以下代码： parentAutoLoadControl.close();

在 JavaScript 中。

# qt - 如何在 MacOS 上使用样式表自定义 QSlider 的句柄

> ID：10310217
> 
> 赞同：1
> 
> 时间：2012-04-25T06:09:01.117
> 
> 标签：qt, stylesheet, handle, qt4.7, qslider

在 MacOS 10.6 上，QSlider 的默认手柄是球，如果 QSlider 有刻度，则手柄会改变其外观（一侧箭头形状），我想要这种手柄，但我不喜欢 Qt 提供的刻度。因此，我想将句柄的图片存储为 qrc 资源并使用样式表来自定义 qslider 的外观。这是我能弄清楚的唯一方法。

谁能告诉我如何编写样式表，我的意思是一切都保持不变，只是句柄发生了变化。

BTW，还有一个问题。MacOS上默认的QSlider，手柄无法到达凹槽的最左和最右位置，如何使用样式表进行调整？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T08:02:09.947

你必须改变整个 QSlider 来管理这些事情。否则它将退回到默认的 Mac OS X 绘画风格。因此，您必须更改 QSlider 的边框和背景并自行处理。看看这个[例子](http://thesmithfam.org/blog/2010/03/10/fancy-qslider-stylesheet/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T11:11:04.213

在资源 (.qrc) 文件中添加所需句柄的图像。用 Photoshop 制作您喜欢的手柄（或使用其他程序）应该很容易。然后尝试在您的代码中添加它

```
setStyleSheet("QSlider::handle {image: url(:/resources/image.png);}"); 
```

您可能需要对填充和边距进行一些试验，以使滑块按您想要的方式定位。

# entity-framework - EF 代码首先更新如何工作？

> ID：10310218
> 
> 赞同：0
> 
> 时间：2012-04-25T06:09:09.300
> 
> 标签：entity-framework, code-first

我对 EF 中的更新完全感到困惑。试图通过互联网查找相关教程，但一无所获。

我有两个问题。

1.  如何仅更新某个表的特定字段。
2.  更新如何与导航属性一起使用？（i。如果我更新某个实体，那么 Ef(Linq to Entity) 也会更新它的导航属性？）

    ```
    [Table("master")]
    public class masterViewModel
    {
      [Key,ForeignKey("address")]
      public int id { get; set; }
      public string name { get; set; }
      public string lastName { get; set; }
      public virtual address address { get; set; }
    }

    public class address
    {
    [Key]
    public int id { get; set; }
    public string city { get; set; }
    public string state { get; set; } 
    ```

    即

    假设我有`[masterViewModel.id=1 , masterViewModel.name="ABC" and masterViewModel.lastName=null ] [address.id=1 , address.city="xyz" and address.state=null]`然后我在我看来我做了类似下面的事情

    ```
     @Html.DisplayFor(modelModel => Model.name)
        @Html.DisplayFor(modelModel => Model.address.city)
        @Html.HiddenFor(x => x.id)@Html.HiddenFor(x => x.address.id)
        @Html.EditorFor(modelModel => Model.address.state )
        @Html.EditorFor(modelModel => Model.lastName) 
    ```

因为我在表单发布时将 DisplayFor 用于名称和字符串属性，所以我在我的控制器操作中从不 gt 这两个字段的值，所以我需要只更新“状态”（地址）和“lastName”（masterViewModel）属性的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:56:42.823

一种方法是像@Kyle 建议的那样向我们隐藏其他属性的字段，但这会导致将不需要的属性从客户端传输到服务器并返回。它还暴露了额外的漏洞，因为恶意客户端可以创建将发送修改的发布请求，`name`因此`city`它还需要在您的服务器端进行一些额外的验证逻辑。

如果您不想更新所有属性，则必须将其告知 EF。假设您收到了带有相关地址的 masterViewModel，其中包含控制器操作的修改数据。现在您可以执行以下操作：

```
using (var context = new YourDbContext())
{
    // This will inform EF about your existing masterViewModel and related address
    context.MasterViewModels.Attach(masterViewModel);
    // Now you must explicitly tell which properties you want to update
    var masterEntry = context.Entry(masterViewModel);
    masterEntry.Property(m => m.lastName).IsModified = true; 
    var addressEntry = context.Entry(masterViewModel.address);
    addressEntry.Property(a => a.state).IsModified = true;
    context.SaveChanges(); 
} 
```

顺便提一句。在您的情况下，地址看起来可以是存储在主表中的复杂类型，而不是单独的实体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:49:18.237

您只是没有在回发`name`中获得价值吗？`address.city`

要解决此问题，请为这些属性添加隐藏字段。

```
@Html.HiddenFor(modelModel => Model.name)
@Html.HiddenFor(modelModel => Model.address.city) 
```

现在，当表单回传到服务器时，这些值将被包含在内。

# ocaml - 使用 'ocamlfind install' 设置 Ocaml 库，然后在 ocamlbuild 中使用该库

> ID：10310220
> 
> 赞同：4
> 
> 时间：2012-04-25T06:09:24.680
> 
> 标签：ocaml, ocamlbuild, ocamlfind

我按照[此处](https://stackoverflow.com/questions/8663869/where-to-place-a-shared-utility-module-in-ocaml)的说明使用 ocamlfind install 在 site-lib 中设置安装库。我有两个库：一个称为逻辑库，另一个称为布尔库。在每种情况下，我都在库中安装了 .cmo、.cmx、.cmi 和 .mli 文件，例如：

```
ocamlfind install boolean META boolean.cmo boolean.cmx boolean.cmi boolean.mli 
```

然后，当我使用 ocamlbuild 构建另一个依赖于逻辑和布尔值的项目时，我收到以下错误消息：

```
$ocamlbuild -use-ocamlfind test_logic.native -classic-display
...
/home/phil/godi-3.12.1.0/bin/ocamlfind ocamlopt -c -package boolean -package deriving-    ocsigen -package deriving-ocsigen.syntax -package logic -package oUnit -package unix -syntax   camlp4o -o test_logic.cmx test_logic.ml
/home/phil/godi-3.12.1.0/bin/ocamlfind ocamlopt -linkpkg -linkpkg -package boolean -package deriving-ocsigen -package deriving-ocsigen.syntax -package logic -package oUnit -package unix -syntax camlp4o vhdl.cmx fsm.cmx test_logic.cmx -o test_logic.native
+ /home/phil/godi-3.12.1.0/bin/ocamlfind ocamlopt -linkpkg -linkpkg -package boolean -package deriving-ocsigen -package deriving-ocsigen.syntax -package logic -package oUnit -package unix -syntax camlp4o vhdl.cmx fsm.cmx test_logic.cmx -o test_logic.native
gcc: /home/phil/godi-3.12.1.0/lib/ocaml/site-lib/logic/logic.o: No such file or directory
gcc: /home/phil/godi-3.12.1.0/lib/ocaml/site-lib/boolean/boolean.o: No such file or directory
File "caml_startup", line 1, characters 0-1:
Error: Error during linking
Command exited with code 2. 
```

然后，我将逻辑和布尔项目中的 .o 文件复制到 site-lib 中各自的区域，并对其进行了编译和链接。

我想知道为什么需要 .o 文件以及为什么这里涉及 gcc？

这是我的 _tags 文件，以防万一：

```
<*.ml> or "test_logic.native" or "test_loginc.byte": package(boolean),package(unix),     package(oUnit), package(deriving-ocsigen), package(deriving-ocsigen.syntax), syntax(camlp4o), package(logic) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:40:26.797

请参阅[OCaml 手册的第 11.1 节](http://caml.inria.fr/pub/docs/manual-ocaml/manual025.html)：

> 从文件 x.ml 中，ocamlopt 编译器生成两个文件：xo，包含本机目标代码，和 x.cmx，包含用于链接和优化单元客户端的额外信息。编译后的实现应始终以名称 x.cmx 引用（当给定 .o 或 .obj 文件时，ocamlopt 假定它包含从 C 编译的代码，而不是从 Caml 编译的代码）。

# ios - NSForegroundColorAttributeName 未声明

> ID：10310223
> 
> 赞同：2
> 
> 时间：2012-04-25T06:09:46.510
> 
> 标签：ios, ios4

当使用下面的代码片段时，我开始`undefined / undeclared error`了

> NSForegroundColorAttributeName

[这是我提到的网址](https://stackoverflow.com/questions/3482346/how-do-you-use-nsattributedstring)

我的代码片段

```
NSMutableAttributedString * string = [[NSMutableAttributedString alloc] initWithString:self.myDisplayTxt];
    [string addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(0,5)]; 
```

请告诉我

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-25T08:32:08.790

尝试使用 kCTForegroundColorAttributeName。

你的代码

```
NSMutableAttributedString * string = [[NSMutableAttributedString alloc] initWithString:self.myDisplayTxt];
    [string addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(0,5)]; 
```

进行此更改

```
[string addAttribute:(NSString*)kCTForegroundColorAttributeName 
                value:(id)[[UIColor redColor] CGColor]
                range:NSMakeRange(0,5)]; 
```

从苹果的示例代码中，

在#import 行之后将以下内容添加到您使用的 .m 文件中`addAttribute:`

```
#if (TARGET_OS_EMBEDDED || TARGET_OS_IPHONE)
#import <CoreText/CoreText.h>
#else
#import <AppKit/AppKit.h>
#endif 
```

请看看这是否有帮助。不要忘记添加 COREEXT 框架

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-13T08:20:55.773

你的目标是什么版本的iOS？

NSForegroundColorAttributeName 是一个静态 NSString，在 iOS 标头中声明，但不是应用程序的一部分，正如标头中明确指定的那样，它自 iOS 6.0 起可用。

# javascript - 无法使用 jQuery 更改输入的 defaultValue 属性

> ID：10310226
> 
> 赞同：2
> 
> 时间：2012-04-25T06:10:01.923
> 
> 标签：javascript, jquery, forms

我有一些 onfocus/onblur 处理程序，用于在聚焦时清除默认内容的字段，但前提是该值等于默认值（以免删除任何用户输入）。

该字段还可以在输入之间切换。因此，用户可以单击一个按钮，而不是接受一个用户名，它会接受一个电子邮件地址。这将需要不同的默认值，例如“输入您的电子邮件地址”。`defaultValue`需要更改实际的属性属性以允许我的焦点/模糊处理程序正常工作，使用如下所示：

```
$('input#ident-field').prop('defaultValue', 'enter your email address'); 
```

这似乎不起作用，因为如果您在请求电子邮件地址时关注该字段，它不会清除它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:18:41.083

你应该使用 HTML 5 属性 [`placeholder`](https://developer.mozilla.org/en/HTML/Element/Input)

```
<input type="text" placeholder="Enter Your email address" / > 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:22:29.847

您可以使用焦点和模糊功能来做到这一点：

```
$('input#ident-field').val("enter your email address");
// or $('input#ident-field').prop('defaultValue', 'enter your email address');
$('input#ident-field').focus(function(){
    $(this).val("");
});
$('input#ident-field').blur(function(){
    if($(this).val().trim() == "")
    {
        $(this).val("enter your email address");
    }
}); 
```

# iphone - NSNotification 是否以某种方式在内部使用线程？

> ID：10310229
> 
> 赞同：0
> 
> 时间：2012-04-25T06:10:32.090
> 
> 标签：iphone, ios5, nsnotificationcenter, nsnotification

NSNotification 是非阻塞调用。这是否意味着它以某种方式在内部运行线程？如果不是实际发生的情况：当观察者收到事件时它执行处理程序然后被观察者继续？在那种情况下，非阻塞实际上是假的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:14:29.110

我不是 100% 确定，但我相信它直接与事件循环处理代码相关联。我不认为它会启动线程。

# javascript - jquery没有触发使用ajax添加的链接

> ID：10310235
> 
> 赞同：0
> 
> 时间：2012-04-25T06:10:50.643
> 
> 标签：javascript, jquery, ajax

我有一个图像列表，它们也是链接，如下所示：

```
<a href="#"><img alt="P1010104" class="uploaded_image" src="/assets/user_images/156/thumb/P1010104.jpg?1335332807" /></a>

<a href="#"><img alt="P1010104" class="uploaded_image" src="/assets/user_images/157/thumb/P1010105.jpg?1335332809" /></a> 
```

我有一些 javascript 在单击一个图像时将图像添加到页面：

```
//add an image from the gallery to the mail later
  $('.uploaded_image').click(function(){
      alert('clicked');
      var src=$(this).attr('src').replace("thumb", "medium");
      var location = $('#user_image_location').attr('value');
      $('#mailing_body').contents().find("[data-edit-img="+''+location+''+"]").attr('src', src);
      $('[data-dismiss]="cancel"').click();
}); 
```

我使用一些 ajax 将另一个图像添加到图像列表中。但是，当我单击这个新添加的图像时，javascript 不会触发。

我怎样才能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:13:58.617

使用[jquery`on()`](http://api.jquery.com/on/)：

```
$(document).on('click', '.uploaded_image', function(){
      alert('clicked');
      var src=$(this).attr('src').replace("thumb", "medium");
      var location = $('#user_image_location').attr('value');
      $('#mailing_body').contents().find("[data-edit-img="+''+location+''+"]").attr('src', src);
      $('[data-dismiss]="cancel"').click();
}); 
```

jQuery 1.7+

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:16:13.110

你必须使用`.on()`

```
$('.uploaded_image').on('click', function(){
      alert('clicked');
      var src=$(this).attr('src').replace("thumb", "medium");
      var location = $('#user_image_location').attr('value');
      $('#mailing_body').contents().find("[data-edit-img="+''+location+''+"]").attr('src', src);
      $('[data-dismiss]="cancel"').click();
}); 
```

**.click()**将不起作用，因为注册 .click 处理程序时您的元素不在 DOM 中。

如果您使用 1.7 以下的 jQuery 版本，则必须使用`.bind()`而不是`.on()`

**文档：**

*   [http://api.jquery.com/on/](http://api.jquery.com/on/)
*   [http://api.jquery.com/bind/](http://api.jquery.com/bind/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:36:22.553

Jquery 通常不支持动态加载的内容。

之前您必须使用 .live() 。现在它已被弃用，您应该使用**.on()**处理程序。

句法：

```
.on( events [, selector] [, data] , handler(eventObject) ) ; 
```

您的代码（改编。未测试）：

```
$('.uploaded_image').on("click", function(){
      alert('clicked');
      var src=$(this).attr('src').replace("thumb", "medium");
      var location = $('#user_image_location').attr('value');
      $('#mailing_body').contents().find("[data-edit-img="+''+location+''+"]").attr('src', src);
      $('[data-dismiss]="cancel"').click();
}); 
```

[有关 .on() 的更多详细信息，请参阅 Jquery API](http://api.jquery.com/on/)

# fastcgi - FastCGI（使用 C）：是否可以保存客户端连接并稍后响应？

> ID：10310239
> 
> 赞同：1
> 
> 时间：2012-04-25T06:11:22.453
> 
> 标签：fastcgi

据我了解，一旦您在处理完您的请求后调用 FCGI_Accept()，服务器就会关闭与客户端的连接，并且无法向该客户端发送任何其他内容。因此，我想知道是否有任何方法可以防止这种情况并“保存”连接（句柄？），以便我可以在处理另一个请求后响应该请求。我打算在 Apache 上使用 mod_fastcgi，如果它有所作为的话。

**故事：**

我正在尝试在服务器上使用 FastCGI 并在客户端使用 Ajax 长轮询来制作即时消息传递系统。这个想法是创建一个事件驱动的服务器，客户端的“get”请求检查未完成的消息以返回或存储连接以供以后响应；“发送”请求会检查与收件人的可用连接，如果不可用，则将消息存储在内存中。我首先使用 FastCGI 的唯一原因是因为它使用持久进程，它允许在连接之间共享资源，所以我愿意接受其他建议。我知道您可以将数据库用作共享资源，并让每个连接产生一个轮询数据库以获取新信息的进程，尽管它有效，但似乎效率非常低。

我刚刚开始研究 FastCGI，所以也许这不是解决我的问题的最合适的方法，但这是我遇到的第一个障碍。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:22:56.070

您所描述的与 FastCGI 无关。这是无连接架构 HTTP 的工作方式。长轮询会话必须由客户端（最好是服务器）保持。继续阅读[http://xmpp.org/extensions/xep-0206.html](http://xmpp.org/extensions/xep-0206.html)

更先进但新技术是[http://www.websocket.org/](http://www.websocket.org/)

# sql - Vertica 中未参数化的标识列

> ID：10310240
> 
> 赞同：0
> 
> 时间：2012-04-25T06:11:25.430
> 
> 标签：sql, database, data-warehouse, vertica

如果`Identity`Vertica 中有一个未定义参数的列，它是如何工作的？

`CREATE MULTISET TABLE db.user_state ( active_user_state_key IDENTITY , load_key int NOT NULL )`

例如在上面的代码中，`Identity`列将从哪里开始并递增

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T19:31:03.450

```
CREATE TABLE db.user_state ( active_user_state_key IDENTITY (1,1) , load_key int NOT NULL ); 
```

IDENTITY (1,1,100)从 1 开始，**递增****1**并且每个会话的**缓存**最大值将为 100 。- 值必须为正。- 起始值指定 IDENTITY 列的**起始**编号。默认值：1。 -**增量**值指定从前一行的值增加多少值。默认值：1。 - 第三个参数**cache** - 此参数是可选的，它规定了每个节点为每个会话分配的唯一编号。

但是你总是可以使用序列。

# java - 正则表达式安卓

> ID：10310241
> 
> 赞同：2
> 
> 时间：2012-04-25T06:11:33.677
> 
> 标签：java, android, regex

我正在尝试检查 at 字符是否仅存在于 android 编辑视图中。我是正则表达式的新手，我实现了即将发布的代码。我在哪里弄错了？这是我的代码

```
try {

        Pattern pattern = Pattern.compile("/@");
        Matcher matcher = pattern.matcher(valEmail);

        if (!matcher.matches()) {

            Toast.makeText(this," Invid no @ character ",Toast.LENGTH_LONG).show();

        }

    }catch(Exception ex){} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T06:13:48.017

您当前的代码有两个问题：

*   前导斜线表示它确实在寻找“/@”而不仅仅是“@”。您似乎认为“/”在正则表达式中做了一些特别的事情 - 它没有。
*   您正在使用[`matches()`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches%28%29)which 尝试匹配*整个*输入；您想要[`find`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find%28%29)的只是尝试在输入中的*某处*找到与正则表达式匹配的内容。

你为什么要使用正则表达式呢？为什么不只是：

```
if (!valEmail.contains("@")) {
    ...
} 
```

这将检查地址是否包含*任何*“@”符号。如果要检查是否只有*一个*“@”符号，可以使用：

```
int atIndex = valEmail.indexOf('@');
if (atIndex == -1) {
    // Handling for *no* @ sign
}
if (valEmail.indexOf('@', atIndex + 1) != -1) {
    // Handling for multiple @ signs
} 
```

如果您*确实*想使用正则表达式，可以使用更复杂的电子邮件地址验证正则表达式。（有许多具有不同有效性级别的不同的 - 确保你得到一个专为 Java 风格的正则表达式设计的。）不过我不会为此使用一个-*只*在你真正对模式匹配感兴趣的地方使用正则表达式.

如果您想对“至少一个非@，后跟@，后跟至少一个非@”使用正则表达式，您可以使用：

```
// TODO: Compile this once and reuse
Pattern pattern = Pattern.compile("[^@]+@[^@]+");
Matcher matcher = pattern.matcher(valEmail);

if (!matcher.matches()) {
    ...
} 
```

顺便说一句，这个：

```
catch(Exception ex){} 
```

*从来都不*是一个好主意。请不要不加选择地忽略错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:16:00.263

对于电子邮件，您可以使用下面的正则表达式。

```
 private static final String EMAIL_PATTERN = "^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$";

    try {

    Pattern pattern = Pattern.compile(EMAIL_PATTERN);
    Matcher matcher = pattern.matcher(valEmail);

    if (!matcher.matches()) {

        Toast.makeText(this," Invid no @ character ",Toast.LENGTH_LONG).show();

    }

}catch(Exception ex){
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:12:28.843

`/`您在正则表达式中有一个不应该存在的前导。

此外，您应该使用`find`，而不是`matches`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T06:15:01.313

`matches()`方法检查整个字符串是否与正则表达式匹配。您应该使用`find()`方法而不是匹配项。`/`并且字符不应该存在。但是，您最好使用字符串方法
来代替所有这些。`contains()``if(valEmail.contains("@"))`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T06:14:31.677

刚开始时`@`不使用 a 即可`/`。

# c++ - 在 C++ 中使用“this”是一个好习惯吗？

> ID：10310242
> 
> 赞同：7
> 
> 时间：2012-04-25T06:11:37.140
> 
> 标签：c++, coding-style

我想知道在 C++ 中使用“this”是否是一个好习惯。起初我认为我应该这样做，因为这样你就可以清楚地表明你所指的东西是当前类的成员，但有时你会以如下代码结束：

```
Document::Document(QWidget *parent) : QWidget(parent)
{
    this->file = 0;
    this->layout = new QGridLayout(this);
    this->layout->setSpacing(2);
    this->layout->setMargin(0);
    this->setLayout(this.layout);
    this->textArea = new QTextEdit(this);
    this->textArea->setLineWrapMode(QTextEdit::NoWrap);
    this->textArea->setAcceptDrops(true);
    this->textArea->setAcceptRichText(true);
    this->textArea->setUndoRedoEnabled(true);
    this->textArea->setFont(QFont("Mono" , 11));
    this->layout->addWidget(this->textArea);
    this->textArea->show();
    this->textArea->setFocus();
} 
```

我觉得如果没有所有的“这个”，它看起来会好很多，特别是当它像`this->layout->addWidget(this.textArea);`. 而且我认为代码在大多数情况下应该使用相同的样式以使其更易于阅读，所以我应该在必要时使用“this”还是使用它来明确您引用的是一个好习惯同一班级的成员。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-25T06:21:03.970

对此没有单一的答案。这取决于上下文，也取决于你问谁。

有些人`this`一直在使用。有些人从不使用它。有些人改为使用特殊前缀（`mFile`而不是`file`）重命名所有成员变量。

我更喜欢只在`this`需要避免歧义时使用前缀。

在编写良好的代码中，您指的是局部变量还是成员变量通常很明显，因此`this`实际上并没有太多作用。但有时读者很难确定一个变量是否是类成员。然后`this`是澄清的好方法。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-25T06:44:36.747

如果 using`this`使阅读更容易（即更容易理解），那么额外的打字是值得的。

在一个复杂的程序中，每一行代码都会被编写一次，但会被多次读取（并且由不同的程序员），所以这是一项很好的投资。

我所知道的最易读的语言之一，Python，每次都强制你编写`self.x`（相当于C++），这根本不是问题。`this->x`它的问题是，在 Python 中，当你编写`slef.x`而不是`self.x`在**运行时**捕获错误，但这是一个不同的不相关问题......

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-25T06:13:12.000

它对编译器没有影响（在您的示例中）。
这是用户偏好的问题，有些人觉得它更直观，而有些人觉得它不需要额外的输入。
因此，如果您使用的编码指南表明您应该使用它，请使用它。

请注意，您确实需要使用某些情况，`this`因为没有其他方法可以解决它，但我认为这不是您的问题。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-25T06:18:03.673

我个人不喜欢使用`this`.
但我认为这是个人喜好的事情。只要你的一致就没有关系。

注意：我还确保使用 -WShadow -WError 进行编译

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-04-25T06:25:27.230

在我看来，对成员使用“this”并不常见。恕我直言，它看起来很乱。我更喜欢对所有成员使用“m_”前缀，所以很清楚什么是成员，什么是局部变量。无论如何，还有更重要的良好实践，例如 Scott Meyers 编写的更有效的 C++。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-25T06:16:45.903

我通常更喜欢`this`用于所有成员的代码。

在您的示例中，它看起来是多余的，因为您没有引用任何局部变量。但是，在混合使用局部变量和实例（甚至类）变量的代码中，最好知道确切的位置。

# jquery - Jquery点击没有在.class DOM元素上拾取

> ID：10310247
> 
> 赞同：0
> 
> 时间：2012-04-25T06:12:05.913
> 
> 标签：jquery

我想在单击特定跨度元素时触发单击事件。span 元素实际上是位于表格顶部的按钮：

以下作品：

```
$("th > span").click(function() {
        alert('hi');
}); 
```

以下不起作用：

```
$("th.sorting > span").click(function() {
        alert('hi');
}); 
```

第 th 元素的类从排序更改为排序_asc 或排序_desc，我想根据单击的按钮类型触发特定事件。

更新：

有趣的是，当我查看源代码时，我只看到以下内容：

```
<th><span class = 'btn' style = 'width:90%'>Image<span id='i'></span></span></th> 
```

...但是当我通过萤火虫“检查元素”时，我看到：

```
<th class="sorting" role="columnheader" tabindex="0" aria-controls="dispensers" rowspan="1" colspan="1" style="width: 187px; " aria-label="Image: activate to sort column ascending"><span class="btn" style="width:90%">Image<span id="i"></span></span></th> 
```

我怀疑这不是我的问题的根源.. 因为我假设 Jquery 知道后一个元素代码。

（jquery 插件 'datatables' 负责更新代码）

更新：

最终代码：

```
$('th').on('click', '.sorting > span', function() {
        $("span#i").html('');
    jQuery("span#i", this).html(' <i class=\"icon-chevron-up\"></i>');
    });

$('th').on('click', '.sorting_asc > span', function() {
        $("span#i").html('');
    jQuery("span#i", this).html(' <i class=\"icon-chevron-down\"></i>');
    });

$('th').on('click', '.sorting_desc > span', function() {
        $("span#i").html('');
    jQuery("span#i", this).html(' <i class=\"icon-chevron-up\"></i>');
    }); 
```

外貌：

![在此处输入图像描述](../Images/ac94927b54af6285de25478a7a066bea.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:21:42.417

如果我正确理解了您的问题，那么您想确定是否需要根据 th 上的类执行升序或降序。如果这是正确的，那么尝试这样的事情（未测试！）：

```
$("th > span").click(function() {
     var th = $(this).parent("th"); 
     if($(th).hasClass("sorting")) {
       //do something
     } elseif($(th).hasClass("sorting_asc")) {
       // Sort ascending
       $(th).removeClass("sorting_asc");
       $(th).addClass("sorting_desc");
     } elseif($(th).hasClass("sorting_desc")) {
       // Sort descednding
       $(th).removeClass("sorting_desc");
       $(th).addClass("sorting_asc");
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:15:52.913

```
$('th').on('click', '.sorting > span', function()
{
    alert('hi');
}); 
```

感谢`$.on`您可以将元素绑定到事件处理程序，以确保选择器的第二部分绑定更改 jQuery 是否会为您跟踪它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:17:35.317

将您的代码修改为以下语法：

```
$("th.sorting span").click(function() {
    alert('hi');
}); 
```

*请注意您的问题中缺少的“>”，而只是一个空格。*

# php - 类别和子类别的数据库结构

> ID：10310249
> 
> 赞同：1
> 
> 时间：2012-04-25T06:12:13.070
> 
> 标签：php, sql-server, recursion

我有点困惑什么是类别数据库结构的最佳解决方案。在这里，我有以下类别列表。

1.  消息

    1.1 一般新闻

    1.2 娱乐新闻

    1.3 体育新闻

2.  星座运势

    2.1 每日星座运势

    ```
     2.1.1 Aries

      2.1.2 Taurus

      2.1.3 Gemini

       .....

      2.1.12 Pisces 
    ```

    2.2 每周运势

    ```
     2.2.1 Aries

      2.2.2 Taurus

      2.2.3 Gemini

       .....

      2.2.12 Pisces 
    ```

3.  笑话

这是我目前的类别列表。在这里，我必须构建可以添加类别和子类别的管理面板。目前，我有 2 个星座运势子类别。将来可以添加更多子类别，例如每月和每年的星座运势。另一个困惑是每日和每周星座有相同的子类别，这意味着单个子类别有多个父类别。在这里，我怎样才能消除数据库表中的重复。我需要使用递归函数在树结构中显示类别。我用谷歌搜索解决方案，我找不到合适的答案。您能否提供与此相关的答案或链接。我在 php 和 MS-server 数据库中编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:47:17.440

这是我几年前写的一些丑陋的代码......但它可能会对你有所帮助

数据库表“table_name”结构

```
ID  PARENT  NAME
1     0      1
2     0      2
3     1      1.1
4     1      1.2
5     4      1.2.1
6     4      1.2.2
7     2      2.1 
```

获取和准备数据

```
$Select = mysql_query("SELECT * FROM table_name");
while($Row = mysql_fetch_assoc($Select)){
  if($Row['parent'] == 0){
    $Arr[$Row['id']] = $Row['name'];
  }else{
    $Childs[$Row['parent']][$Row['id']] = $Row['name'];
  }
} 
```

一些愚蠢但足够的功能

```
function gettree($Array){
  global $Childs;
  foreach($Array as $key => $value){
    echo '<li>'.$value.'</li>';
    if(isset($Childs[$key])){
      echo '<li><ul>';
      gettree($Childs[$key]);
      echo '</ul></li>';
    }
  }
} 
```

并将树构建为 html

```
echo '<ul>';
gettree($Arr);
echo '</ul>'; 
```

结果应该是这样的

```
1
 1.1
 1.2
  1.2.1
  1.2.2
2
 2.1 
```

我建议您将其重写为您的对象以便更好地使用

> 对不起我的英语不好

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:40:34.003

尝试这样的事情怎么样，有一个类别表，其中包含以下字段，id，parent_id 和 title，然后每个类别都有一个 parent_id 或 0 用于顶级类别。

如果您愿意，可以将标题设置为包含 id 和标题的不同表，然后您可以在类别表中引用标题表中的相应标题。

想想看，它会遵循这个规则集，这正是你正在寻找的：

*   每个类别与零个或多个类别相关联。
*   每个类别与一个标题相关联。
*   每个标题都与一个或多个类别相关联。

至于递归表示它，这种方式相当容易。希望这对你有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:52:02.180

这是一篇关于在 sql 2005 中使用公用表表达式进行递归查询的文章。

[http://www.sqlservercentral.com/articles/T-SQL/recursivequeriesinsql1999andsqlserver2005/1846/](http://www.sqlservercentral.com/articles/T-SQL/recursivequeriesinsql1999andsqlserver2005/1846/)

我建议您注册他们的时事通讯，几乎每天都有新的东西可能会派上用场。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T14:38:04.857

这对我有用：

```
CREATE TABLE [dbo].[Category](
[id] [int] IDENTITY(1,1) NOT NULL,
[Cat_Id] [int] NOT NULL,
[Cat_Nm] [varchar](50) NOT NULL,
[Parent_Id] [int] NULL,
 CONSTRAINT [PK_Category] PRIMARY KEY CLUSTERED 
(
    [id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF,     ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

/****** Object:  Index [IX_Category]    Script Date: 04/25/2012 07:30:14 ******/
CREATE UNIQUE NONCLUSTERED INDEX [IX_Category] ON [dbo].[Category] 
(
[Cat_Id] ASC,
[Cat_Nm] ASC,
[Parent_Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[Category]  WITH CHECK ADD  CONSTRAINT [FK_Category_Category] FOREIGN KEY([Parent_Id])
REFERENCES [dbo].[Category] ([id])
GO
ALTER TABLE [dbo].[Category] CHECK CONSTRAINT [FK_Category_Category]

GO

SET IDENTITY_INSERT [dbo].[Category] ON;
INSERT INTO [dbo].[Category]([id], [Cat_Id], [Cat_Nm], [Parent_Id])
SELECT 9, 1, N'Aries', 7 UNION ALL
SELECT 12, 1, N'Aries', 8 UNION ALL
SELECT 7, 1, N'Daily', 2 UNION ALL
SELECT 4, 1, N'General News', 1 UNION ALL
SELECT 1, 1, N'News', NULL UNION ALL
SELECT 5, 2, N'Enterntainment News', 1 UNION ALL
SELECT 2, 2, N'Horoscope', NULL UNION ALL
SELECT 10, 2, N'Taurus', 7 UNION ALL
SELECT 13, 2, N'Taurus', 8 UNION ALL
SELECT 8, 2, N'Weekly', 2 UNION ALL
SELECT 11, 3, N'Gemini', 7 UNION ALL
SELECT 14, 3, N'Gemini', 8 UNION ALL
SELECT 3, 3, N'Jokes', NULL UNION ALL
SELECT 6, 3, N'Sports News', 1
SET IDENTITY_INSERT [dbo].[Category] OFF;

GO

CREATE VIEW Categories
AS
    WITH    cte ( id, Cat_Id, [Name], [Level] )
              AS ( SELECT   id ,
                        Cat_Id ,
                        Cat_Nm ,
                        CAST(Cat_Id AS VARCHAR(5))
               FROM     dbo.Category c
               WHERE    Parent_Id IS NULL
               UNION ALL
               SELECT   c.id ,
                        c.Cat_Id ,
                        c.Cat_Nm ,
                        CAST(ct.[Level] + '.'
                        + CAST(c.Cat_Id AS VARCHAR(5)) AS VARCHAR(5))
               FROM     dbo.Category c
                        JOIN cte ct ON c.Parent_Id = ct.id
               WHERE    c.Parent_Id IS NOT NULL
             )
SELECT  Level ,
        Name
FROM    cte 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T07:09:19.067

您的数据库结构应该包含它们的父相关 ID，并在管理面板中获取父类别和选择框中的子父类别

```
USE `database`;

CREATE TABLE `category` (
`c_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
 `category_name` varchar(255) DEFAULT NULL,
 `status` enum('active','inactive') DEFAULT 'active',
 PRIMARY KEY (`c_id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;

/*Data for the table `category` */

insert  into `category`(`c_id`,`category_name`,`status`) values (1,'For Sale','active'),(2,'Community','active'),(3,'Classes','active'),(4,'Vehicles','active'),(5,'Real Estate','active'),(6,'Services','active'),(7,'Matrimonial','active'),(8,'Jobs','active');
CREATE TABLE `sub_category` (
`sub_cat_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
`c_id` int(11) DEFAULT NULL,
`sub_category_name` varchar(255) DEFAULT NULL,
`status` enum('active','inactive') DEFAULT 'active',
PRIMARY KEY (`sub_cat_id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;

/*Data for the table `sub_category` */

insert  into `sub_category`(`sub_cat_id`,`c_id`,`sub_category_name`,`status`) values (1,1,'Animals','active'),(2,1,'Art - Collectibles','active'),(3,1,'Books - Magazines','active'),(4,1,'Business - Industrial','active'),(5,4,'Cars','active'),(6,4,'Truck','active');
/*Table structure for table `sub_category_child` */
CREATE TABLE `sub_category_child` (
`sub_category_child_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
`c_id` int(11) DEFAULT NULL,
 `sub_cat_id` int(11) DEFAULT NULL,
`sub_category_child_label` varchar(255) DEFAULT NULL,
`nature` varchar(20) DEFAULT NULL,
`status` enum('active','inactive') DEFAULT 'active',
 PRIMARY KEY (`type_id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;

insert  into `sub_category_child`(`sub_category_child_id`,`c_id`,`sub_cat_id`,`sub_category_child_label`,`nature`,`status`) values (1,4,5,'Make','parent','active'),(2,4,5,'Model','child','active'),(3,4,5,'doors','independent','active'),(4,4,5,'accessories','independent','active'),(5,1,1,'abc','parent','active'),(6,4,6,'No of Tyre','parent','active'),(8,4,6,'loader','independent','active'); 
```

# c - 如何在 CentOS Linux 上检查 GPU

> ID：10310250
> 
> 赞同：12
> 
> 时间：2012-04-25T06:12:15.947
> 
> 标签：c, linux, gpu, x86-64, gpgpu

建议在 Linux 上使用命令 找到 GPU `lspci | grep VGA`。它在 Ubuntu 上运行良好，但是当我尝试在 CentOS 上使用它时，它说找不到 lspci 命令。如何在 CentOS 上检查 GPU 卡。请注意，我不是机器的管理员，我只从命令行远程使用它。我打算将 GPU 用作那台机器上的 GPGPU，但首先我需要检查它是否有一个。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-12-23T15:54:26.000

这假设您已安装专有驱动程序，但发出以下命令...

```
nvidia-smi 
```

输出应与此类似：

```
Mon Dec 23 10:50:28 2013       
+------------------------------------------------------+                       
| NVIDIA-SMI 331.20     Driver Version: 331.20         |                       
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GTX 660     Off  | 0000:01:00.0     N/A |                  N/A |
| 10%   38C  N/A     N/A /  N/A |     97MiB /  2047MiB |     N/A      Default |
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
| Compute processes:                                               GPU Memory |
|  GPU       PID  Process name                                     Usage      |
|=============================================================================|
|    0            Not Supported                                               |
+-----------------------------------------------------------------------------+ 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-04-25T07:15:48.050

您是否尝试过启动`/sbin/lspci`或`/usr/sbin/lspci`？

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-06-04T15:04:42.277

尝试`lshw`或`lspci`。如果您还没有安装它们，则必须安装它们。

安装 lshw

```
sudo yum install lshw //CentOS
sudo apt-get install lshw // Ubuntu 
```

然后运行这个

```
sudo lshw -C display 
```

输出看起来像这样

```
 *-display
       description: VGA compatible controller
       product: GP102 [GeForce GTX 1080 Ti]
       vendor: NVIDIA Corporation
       physical id: 0
       bus info: pci@0000:0b:00.0
       version: a1
       width: 64 bits
       clock: 33MHz
       capabilities: pm msi pciexpress vga_controller bus_master cap_list rom
       configuration: driver=nvidia latency=0
       resources: irq:95 memory:fb000000-fbffffff memory:e0000000-efffffff memory:de000000-dfffffff ioport:5000(size=128) memory:faf00000-faf7ffff 
```

同样，您可以尝试`lspci`

```
lspci | grep VGA 
```

输出看起来像这样

```
0b:00.0 VGA compatible controller: NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] (rev a1) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-25T06:39:34.557

lspci 应该在包 pciutils 中。

您可以使用 dmidecode 执行此操作，但作为您不是管理员，您可能无法执行此操作，也无法安装 pciutils 软件包。

如果这个系统上有一个 Xorg，那么它应该很容易：

```
grep Graphics /var/log/Xorg.0.log 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-25T07:05:50.083

好吧，如果您使用 CUDA，它具有枚举系统上支持 CUDA 的设备的功能。为什么不使用它？

# regex - 无法使用 REGEX 在字符串中捕获组

> ID：10310253
> 
> 赞同：1
> 
> 时间：2012-04-25T06:12:32.100
> 
> 标签：regex

我正在尝试匹配以下格式的字符串：

```
S->A  
S->AbCd  
S->A|b|C|d  
S->Ab|B|cde|dB 
```

也就是说，在最左边正好有一个大写的拉丁字母符号，后跟“->”字面量。在该文字之后正好是一个大写/非大写拉丁字母符号或此类符号的串联，这些符号后面也可以跟以“|”分隔的此类符号组 象征。
此外，我不仅想检查整个字符串是否符合这种格式，而且还能够捕获最左边的大写符号和 '->' 文字之后的所有符号组。到目前为止，我已经想出了这个正则表达式：

```
([A-Z]{1})->([a-zA-Z]+)(?:(?:\|)([a-zA-Z]+))* 
```

例如，如果我针对此字符串对其进行测试：

```
S->Ab|B|c|d 
```

我得到以下结果（使用 RegexBuddy 完成测试）：

```
Match 1:    S->Ab|B|c|d
Group 1:    S
Group 2:    Ab
Group 3:    d 
```

好消息是我的正则表达式匹配整个字符串（这是正确的）。然而问题很明显：我的正则表达式仅捕获 '->' 文字之后的第一个和最后一个符号组。为什么？根据我对正则表达式的理解，这部分表达式

```
(?:(?:\|)([a-zA-Z]+))* 
```

应该匹配**所有**分隔符号组。[我相信这与“重复捕获组与捕获重复组”一](http://www.regular-expressions.info/captureall.html)文中描述的内容有关。我试着摆弄一下我的正则表达式，但仍然没有得到令人满意的结果。有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:16:53.280

正则表达式中只有三对捕获括号，因此您只能取出三个组（这与“捕获重复组与重复捕获组”有关）。组的数量始终是固定的。

为了清楚起见，使用类似 Perl 的间距`m//x`来拆分内容：

```
([a-zA-Z]{1})  ->  ([a-zA-Z]+)  (?: (?:\|) ([a-zA-Z]+) )*
^-----------^      ^---------^             ^---------^ 
```

显示了三个捕获部分。其他括号是非捕获的。显然，您可以捕获整个尾随组：

```
 ([a-zA-Z]{1})  ->  ([a-zA-Z]+)  ( (?:\|) (?:[a-zA-Z]+) )* 
```

但是随后您需要对尾随组进行后处理，可能需要进行`split`操作，以获取子字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:20:23.437

是的，您的问题是，您正在重复一个捕获组。

```
(?:(?:\|)([a-zA-Z]+))*
         ^^^^^^^^^^^
          third group 
```

你是对的，这整个部分匹配你所有的重复组，每个匹配都存储在 中`$3`，所以在所有匹配完成后，你只能看到这个组的最后一个匹配，`d`在你的例子中。

您可以像这样捕获重复的组

```
([a-zA-Z]{1})->([a-zA-Z]+)((?:(?:\|)[a-zA-Z]+)*) 
```

然后你的结果看起来像这样

```
Match 1:    S->Ab|B|c|d
Group 1:    S
Group 2:    Ab
Group 3:    |B|c|d 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:21:22.317

捕获组 3 匹配所有符号`([a-zA-Z]+)`- 它将首先匹配“B”，然后随着正则表达式在下一个之后的进行，它被替换为“c” `|`，最后它被替换为“d”，就像你的结果一样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T06:16:44.093

语法`(?:...)`表示**非捕获**组。

如果你想要一个**捕获**组，你应该使用它`(...)`。

尝试这个：

```
([a-zA-Z]{1})->([a-zA-Z]+)(\|[a-zA-Z]+)* 
```

如果您想要单独的每个元素，您可以在分隔符上拆分。

# c# - 自定义 ValidationAttribute 不起作用

> ID：10310255
> 
> 赞同：7
> 
> 时间：2012-04-25T06:12:48.447
> 
> 标签：c#, asp.net-mvc-3, validationattribute

我试图创建一个自定义 ValidationAttribute：

```
public class RollType : ValidationAttribute
{
    public override bool IsValid(object value)
    {
        return false;   // just for trying...
    }
} 
```

然后我创建（在另一个班级） -

```
 [RollType]
  [Range(0,4)]
  public int? Try { get; set; } 
```

在视图上（我使用 MVC）我写道：

```
 <div class="editor-label">
            Try:
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Try)
            @Html.ValidationMessageFor(model => model.Try)
        </div> 
```

“范围”的验证效果很好，但不适用于自定义！

可能是什么问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-25T06:37:39.153

尝试这个

```
public class RollType : ValidationAttribute
{
   protected override ValidationResult IsValid(object value, ValidationContext validationContext)
   {
      return new ValidationResult("Something went wrong");
   }
} 
```

也不要忘记检查模型状态在后面的代码中是否有效，否则它将不起作用，示例

```
 [HttpPost]
    public ActionResult Create(SomeObject object)
    {
        if (ModelState.IsValid)
        {
            //Insert code here
            return RedirectToAction("Index");
        }
        else
        {
            return View();
        }
    } 
```

# php - 在 CakePHP 中生成图像

> ID：10310257
> 
> 赞同：-2
> 
> 时间：2012-04-25T06:12:53.623
> 
> 标签：php, cakephp, cakephp-2.0

如何在 CakePHP 中生成图像？我想制作一个戒烟网站，并且我希望能够生成一张图像，显示他们没有吸过“多少包”和“多少支香烟”。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T03:02:04.347

将图像复制到`app\webroot\img`目录

例如：假设`cigarette.png`文件在`app\webroot\img`目录中。您可以按如下方式在视图文件中渲染该图像。
然后在视图文件中你可以添加以下代码来显示图像。
`<?php echo $this->Html->image('cigarette.png'); ?>`

如果您想多次显示此图像，请根据需要复制并粘贴它。

# c# - 使用 HttpHandler 在 ASP.Net 网页中加载缩略图

> ID：10310262
> 
> 赞同：2
> 
> 时间：2012-04-25T06:13:15.277
> 
> 标签：c#, asp.net, httphandler

我的要求是在我的 Asp.Net Web 应用程序中在 2 秒内加载 100 个缩略图。每个图像的实际大小约为 800 KB。所以我使用了一种网络处理程序方法来动态调整图像的大小（这里的图像大小减少到 8KB）。在这里我发现 96 个请求被发送到服务器并且缩略图在 4 秒内被加载。我发现 90% 的时间都在***阻塞中丢失***在 Firebug 网络选项卡中检查。所以我从 96 请求转移到单个请求。因此，Web 处理程序接受单个请求并创建 96 个缩略图图像并将 96 个缩略图组合成一个大的单个图像并将这个单个图像写入输出流。这个案例我发现加载单个图像大约需要 6 秒。然后我使用 .Net 线程池机制在 web 处理程序中创建缩略图。因此加载时间减少到 2.6 秒。我发现服务器处理实际上只花费了 1 秒或以下的时间。剩下的 1.6 秒正​​在丢失。我的问题如下

1.  我的处理时间在哪里浪费。服务器端还是客户端？如果它在服务器端，瓶颈在哪里？如何识别请求处理和页面加载时间？

2.  Web 处理程序是调整图像大小的更好方法吗？

3.  我可以有任何替代解决方案吗？

我的系统配置是

处理器 - 英特尔酷睿 - i7，内存： - 4 GB

网络服务器：IIS 7

操作系统：Windows 7

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-30T19:58:52.560

> > 我的处理时间在哪里浪费。服务器端还是客户端？

也许它介于两者之间...... 1.6 秒听起来适合传输数据：

```
8KB per image * 100 images ~= 1MB of data
1 M bytes = 8 M bits
8 M bits / 1.6 secs = 5 Mbps transfer rate
... sounds reasonable to within an order of magnitude 
```

您的一张大图方法可能更好，因为这将减少 100 个单独请​​求的开销。不过，请注意在 ASP.NET 进程中使用后台线程。

传输时间是一个限制因素。即使您可以让服务器立即响应，您仍然需要等待数据返回给客户端。

另一个限制因素是客户端浏览器渲染图像的速度。

基本上，您的要求正在突破实用 ATM 的界限。

# android - android中的窗口管理器服务疑问

> ID：10310263
> 
> 赞同：2
> 
> 时间：2012-04-25T06:13:19.083
> 
> 标签：android, android-emulator

我是 Android 框架的新手，我了解 Android 显示系统。

我有一些关于android窗口系统的问题，

据我了解，每个窗口都有一个或多个表面，每个表面都有一个或多个视图或视图组。这些视图可以使用 Canvas 绘制到表面后台缓冲区。当后台缓冲区已满时，Surface flinger 将翻转缓冲区，我的怀疑是

一个活动有一个窗口还是一个应用程序有一个窗口？

每个表面的缓冲区大小是否相同或不同？如果不同表面的缓冲区大小不同，谁将提供缓冲区大小和窗口大小？

Surface Flinger 将如何使用 8MB 内存？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T03:04:22.420

我想我可以回答“一个activity有一个窗口还是一个应用程序有一个窗口？”</p>

1）一个activity可以有一个或多个窗口，包括STARTING_WINDOW、SUB_WINDOW等， 2）应用程序不直接关联窗口，activity有，所以由activity的个数决定。

# javascript - 对于文本输入控件中的任何文本更改，正确的 javascript 事件是什么？

> ID：10310265
> 
> 赞同：4
> 
> 时间：2012-04-25T06:13:31.643
> 
> 标签：javascript, events, text, input, onchange

每当输入控件中的文本发生更改时，我都需要立即更新一些内容。但我似乎无法为此找到正确的事件。

*   onchange 仅在您离开输入框时触发（即标签离开或单击外部）。

*   onkeypress*在进行*更改之前触发，并且在*任何*按键按下时都会触发（例如，光标左右不会导致任何文本更改）

*   onkeydown 和 onkeyup 也会在*任何*键上触发（甚至像 Shift 等，这不会导致任何文本更改）

此外，当用鼠标右键单击 + 从剪贴板粘贴时，这些似乎都不会触发。或者当从 JS 中更改值时（即从其他地方做 input.value = something）。

最小的例子：http: [//jsfiddle.net/nggAm/](http://jsfiddle.net/nggAm/)

我应该怎么办？我想我可以解决这个问题的一种方法（嗯，主要是）是将所有事件设置为一个通用事件处理程序，在那里缓存值，并且只在字符串更改时才进行实际更新。但这感觉有点糟糕。这样做的*正确*方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:24:43.147

对于较旧的浏览器，您**确实**需要设置输入的 onkeyup 和 onchange 和 onpaste。

但是较新的浏览器具有 oninput，这是您希望每个浏览器都具有的。

您可以设置所有事件，然后在 oninput 触发时删除除 oninput 之外的所有事件。

（但是，如果您在退格或删除字符，IE9 会出现传递输入事件的问题，所以只为该浏览器保留键事件。）

**将所有事件定向到一个处理程序的示例代码，如果 oninput 触发则删除**

```
F.text1.oninput= function(){
    F.text1.onpaste= F.text1.onchange= null;
    if(!document.documentMode) F.text1.onkeyup= null;
    F.text1.oninput= F.limiter;
    return F.limiter();
}
F.text1.onpaste= function(){
    setTimeout(F.limiter, 100);
}
F.text1.onkeyup= F.text1.onchange= F.limiter; 
```

# php - 如何使用 PHP 从我的 FORM 中动态添加行添加到 mySQL 数据库

> ID：10310267
> 
> 赞同：0
> 
> 时间：2012-04-25T06:13:52.230
> 
> 标签：php, javascript, mysql

我只是使用 PHP 和 mySQl 的新手。我目前正在开发或创建一个 Web 应用程序系统，该系统可用于动态添加行并将其放入我的数据库中。这是片段。

函数 addTerms(){

```
 var table = document.getElementById('contractterms');
        var lastRow = table.rows.length;
        var iteration = lastRow;

        var row = table.insertRow(lastRow);

        var cell1 = row.insertCell(0);
        var contractTermName = document.createElement('input');
        contractTermName.type = 'text';
        contractTermName.name = 'termName' + iteration;
        contractTermName.id = 'termName' + iteration;
        cell1.appendChild(contractTermName);

        var cell2 = row.insertCell(1);
        var contractSummary = document.createElement('textarea');
        contractSummary.name = 'termSummary' + iteration;
        contractSummary.id = 'termSummary' + iteration;
        contractSummary.cols = "50";
        cell2.appendChild(contractSummary);
    } 
```

如何将添加的行中的值添加到我的数据库中？我已经尝试搜索答案，但它无法帮助我。它根本不起作用。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:22:15.720

您的函数 addTerms() 是用在客户端运行的 Javascript 编写的。您需要获取新添加的数据并通过 ajax 请求将其发送到您的服务器，即最终将数据插入 MySQL 数据库的 PHP 脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:23:37.607

你可能想看看[这个例子](http://www.w3schools.com/php/php_mysql_insert.asp)。

# iphone - iOS mobileconfig“未验证”

> ID：10310268
> 
> 赞同：2
> 
> 时间：2012-04-25T06:13:56.447
> 
> 标签：iphone, ios, ipad

我用 iPCU（iPhone 配置实用程序）创建了一个 mobileconfig 文件，但是在安装到 iPhone 时它​​是“未验证”，如何验证它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T14:08:09.573

iPCU 默认使用“自动签名”和“自动生成”密钥和 crt 来签署您的 mobileconfig。

如果您想对您的 mobileconfig 进行签名并使其“已验证”，则**需要使用您自己的证书和密钥对其进行签名。您可以使用例如 Openssl 进行签名。**

此外，*在 iOS6 之前*，您可以使用自己的 crt 对 mobileconfig 进行签名。如果您的证书已由 Apple 信任的 CA [（在此处列出）](http://support.apple.com/kb/HT5012)交付，您的 mobileconfig 将被“验证”。

如果您*使用 iOS6*，您必须在签名过程中注明完整的认证链。这意味着您需要您的证书颁发机构证书。

我正在开发一种产品[Appaloosa-Store](http://www.appaloosa-store.com)，这是一种轻松分发移动应用程序的方法，我们可能会允许用户分发配置文件。

如果您需要更多信息，请不要犹豫。

# gstreamer - gst-launch 解复用 RTMP 流

> ID：10310273
> 
> 赞同：0
> 
> 时间：2012-04-25T06:14:17.150
> 
> 标签：gstreamer, rtmp, gst-launch

我正在使用最新稳定版本的 gstreamer 和所有插件，当我尝试使用此管道播放和 rtmp 流时：

```
gst-launch-0.10 rtmpsrc location='rtmp://server/app/stream flashver=MediaMagic' ! flvdemux name=d d. ! queue ! decodebin ! xvimagesink d. ! queue ! aacparse ! faad ! audioconvert ! audioresample ! alsasink 
```

管道一直在准备，但从未开始播放。但是，我只能使用这些管道播放音频或视频：

1.

```
gst-launch-0.10 rtmpsrc location='rtmp://flash3.todostreaming.es/radiovida/mobile flashver=MediaMagic' ! flvdemux name=d d. ! queue ! decodebin ! xvimagesink 
```

2.

```
gst-launch-0.10 rtmpsrc location='rtmp://flash3.todostreaming.es/radiovida/mobile flashver=MediaMagic' ! flvdemux name=d d. ! queue ! aacparse ! faad ! audioconvert ! audioresample ! alsasink` 
```

同时播放音频和视频我缺少什么？

谢谢和最好的问候

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-28T07:16:42.340

尝试删除文件路径中的单引号。

# android - 显示巴克莱超级联赛实时比分的小部件应用程序

> ID：10310275
> 
> 赞同：0
> 
> 时间：2012-04-25T06:14:20.883
> 
> 标签：android, android-widget

试图在 Android 平台上开发一个小部件。我找到了很多英格兰或巴克莱超级联赛的小部件，但它们很复杂。我想要的只是安卓手机主屏幕上正在进行的比赛的得分。如果有任何进球得分，则可以在应用程序的主屏幕上显示得分球员的姓名以及他得分的分钟的详细信息......已经通过这个[Android：帮助显示新闻的小部件](https://stackoverflow.com/questions/4430701/android-help-with-widget-that-shows-news)......

我已经在这方面取得了进展......我的布局和服务正在运行......现在我想要的是任何用于英超联赛的 API 公开，以便我可以集成到我的应用程序中......？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T06:45:15.883

在本教程中，布局定义在

> 文件夹“res/layout”下的 widget_layout.xml 文件。

要添加图像，请添加类似这样的内容

```
<ImageView
    android:id="@+id/widget_image"
    android:src="@drawable/yourimage"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_gravity="center"
    android:gravity="center_horizontal|center_vertical" /> 
```

其中“yourimage”应替换为`res/drawable`文件夹中图像的名称。

确保当前的 TextView 不会妨碍您的图像。您可能想要删除 TextView，或更改其布局设置。或者，如果您想保留 TextView 并仅添加图像作为背景，您只需将以下内容添加到 TextView：

```
android:background="@drawable/yourimage" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-12T11:14:39.840

如果您正在寻找 API，您最好的选择可能是使用 Fantasy Football 官方超级联赛 API。我的理解是官方 API 没有文档，可以通过点击此 URL 访问，其中“#”是介于 1 和玩家总数（撰写本文时为 550）之间的数字：

[http://fantasy.premierleague.com/web/api/elements/#/](http://fantasy.premierleague.com/web/api/elements/#/)

这给出了被请求的玩家（号码）的 JSON 对象。

还有一个非官方的 API，我还没有尝试过，但它看起来为你做了很多艰苦的工作：

[http://hackersome.com/p/bobbymond/FantasyPremierLeagueAPI](http://hackersome.com/p/bobbymond/FantasyPremierLeagueAPI)

# javascript - 将 HTML 字符串转换为 JavaScript 文本保持缩进

> ID：10310279
> 
> 赞同：1
> 
> 时间：2012-04-25T06:14:44.087
> 
> 标签：javascript, komodoedit

我只想定位或匹配每行的第一次出现

典型场景：

我有一个在 JavaScript 中使用的 HTML 结构。

```
<ul>
    <li> ABC </li>
    <li> DEF </li>
    <li> GHI <span> GHI-SPAAN </span> </li>
</ul> 
```

要将以上内容转换为字符串，在我的编辑器中，我可以简单地用 a 查找并替换 EOL 并用 a 替换`'+` 行首，`'`这样代码就可以

```
var tpl = ''+
    '<ul> '+
    '<li> ABC </li> '+
    '<li> DEF </li> '+
    '<li> GHI <span> GHI-SPAAN </span> </li> '+
    '</ul> '; 
```

但是你看，**当**我用`'<`

所以我想唯一定位（只定位第一次出现`<`并替换为`'<`）

我正在使用 KOMODO 编辑和 Sublime Text 2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:37:07.523

我不是 KomodoEdit 用户，但我尝试了这些替代品并且它们奏效了：

*   起始报价：替换`^(\s*)<`为`\1<`
*   结束引号：替换`>\s*$`为`>' +`

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-13T14:51:12.640

与其将 HTML 转换为 JS 字符串，不如在 JS 中创建元素并将它们放入 DOM 中要好得多。这将为您提供更多控制权，不会创建如此难以维护/阅读的代码，并且速度更快（以及其他好处）：

```
var outerDiv = document.createElement("div");
outerDiv.className = "spa-shell-head";

var innerDivLogo = document.createElement("div");
innerDivLogo.className = "spa-shell-head-logo";

var innerDivAcct = document.createElement("div");
innerDivAcct.className = "spa-shell-head-acct";

var innerDivSearch = document.createElement("div");
innerDivSearch.className = "spa-shell-head-search";

outerDiv.appendChild(innerDivLogo);
outerDiv.appendChild(innerDivAcct);
outerDiv.appendChild(innerDivSearch);
document.body.appendChild(outerDiv); 
```

以上创建以下内容：

[![在此处输入图像描述](../Images/c885cea977d6282a54be2459352d5df5.png)](https://i.stack.imgur.com/KJsIP.png)

[https://jsfiddle.net/yfeLbhe4/](https://jsfiddle.net/yfeLbhe4/)

# asp.net - 当站点中有多个网站时，如何在 iis 7.5 中设置默认网站

> ID：10310283
> 
> 赞同：1
> 
> 时间：2012-04-25T06:14:51.697
> 
> 标签：asp.net, iis-7.5

我有一个网站，我把它放在 iis 7.5 中。为此，我在 iis 的服务器中的部分站点中创建了一个新网站 (TestSite)，并为应用程序池选择了 ASP.NET v4.0。. 然后我右键单击它并选择添加应用程序...我创建了一个应用程序，它是我的主要网站（TestMyWebSite）。现在，当我在浏览器上使用[http://myIP/TestMyWebSite/](http://myIP/TestMyWebSite/)时，我看到了我的网站，没有问题。但我想使用[http://myIP/](http://myIP/)来显示我的网站。请帮我

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-25T06:39:01.057

在 IIS 中选择站点，打开 Binding，提供 IP 和端口号 80 并保存。

端口号 80 是您 IP 地址的默认端口，因此将站点绑定到端口号 80 使其成为 IP 的默认站点。

# java - 连接远程虚拟机失败

> ID：10310285
> 
> 赞同：0
> 
> 时间：2012-04-25T06:14:53.977
> 
> 标签：java, eclipse, debugging, tomcat, connection-refused

我将 tomcat 配置为从 Eclipse 远程调试：

开始“配置Tomcat”。转到 Java 选项卡。添加以下行：

```
-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n 
```

然后启动服务器。

但是我没有看到有人登录 catalina.out 提到 JPDA！此外，我没有看到端口 8000 正在监听（使用`netstat -a`）。

当我尝试从 Eclipse 调试（使用远程调试设置）时出现以下错误：

> 无法连接到远程虚拟机。连接被拒绝

为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:15:47.560

8000端口是免费的吗？还是被其他人使用？

# jmeter - Jmeter 的响应时间与 firebug 不同

> ID：10310287
> 
> 赞同：2
> 
> 时间：2012-04-25T06:15:04.033
> 
> 标签：jmeter, load-testing, performance-testing

我正在努力寻找解决方案。

**我所做的：**
我记录了导航页面使用 HTTP 代理服务器生成的每个文件。添加线程组下的所有文件我运行了测试计划，一次没有缓存，一次有缓存。

**我得到了什么：**
但是我在该页面上使用 Firebug 得到的响应时间比我使用 Jmeter [缓存和非缓存] 得到的响应时间少 30-40 秒。

注意：该页面包含 ajax。

**问题：**

1.  与 Firebug 结果相比，AJAX 是我在响应时间方面出现巨大差异的原因吗？
2.  我需要限制几个文件吗？我不会将它们添加到线程组吗？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T15:04:59.740

Jmeter 不渲染页面，也不做javascript，所以它也不做ajax。

但是，ajax 会生成请求，如果您使用它，这些请求将被代理捕获。

另一个关键区别是大多数浏览器会同时执行请求，通常一次发出 4 到 6 个请求，具体取决于浏览器和设置。

Jmeter 会以串行方式而不是并行方式发出每个请求，因此这也可能会增加给定页面及其所有子样本的总加载时间。

如果您查看每个请求的请求时间并将它们相加，它应该非常接近

对于问题二，我建议不要排除它们，因为您想要准确测量负载，并且排除文件会扭曲您的结果。

*   较新的 Jmeter 版本确实具有“从 HTML 文件中检索所有嵌入式资源”的选项，您还可以将其设置为使用并发池来发出这些请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-05T22:08:13.327

有时，负载测试和页面加载速度这两个概念会混淆。真的，尽管它们完全不同，应该使用不同的工具以不同的方式处理。

记录加载页面所需时间的最佳工具是浏览器。如果将其与秒表和合适的样本量相结合，您将获得一些有用的数据。说真的，这是一个很好的方法，您不仅可以获得真实的结果，而且还可以在页面被加载时停止时钟*，*这真的很重要。如果你想自动化这个过程来产生可重复性，或者你只是想要更细的粒度，那么你应该看看功能自动化工具（比如 Seleneum）。但这是功能测试，不是负载测试，如果你想进行负载测试，那么像 JMeter 这样的东西非常有效。

也就是说，我怀疑如果您在 JMeter 中看到响应时间增加了 40 秒，那么可能是因为您正在使用多个线程运行负载测试？可能您正在使服务器超载，这就是响应时间更长的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T16:51:57.360

正如 Lee 所说，JMeter 串行（一个接一个）发出请求，而浏览器将并行请求资源，一次最多打开 8 个到每个主机的连接（因此在更复杂的情况下可能会发生超过 8 个并行事务页）。简而言之，JMeter 在测量总页面加载时间方面并不准确。因此，它适用于在网站上放置负载或仅测试页面内容本身，但不适用于测量真实的页面加载时间或模拟真实的加载模式。为此，您将需要一个更好的工具。

# html - HTML CSS HOVER 问题

> ID：10310290
> 
> 赞同：0
> 
> 时间：2012-04-25T06:15:08.117
> 
> 标签：html, css, hover, css-float

我的问题是，代码在宽度上工作正常，因为我在 css 的主体中使用了 position:relative。但到了高度，它不同于屏幕监视器（分辨率）到另一个分辨率。如何解决高度问题，当我将链接悬停时，图像必须悬停在页面的中心。但它与屏幕分辨率不同......

```
body {
width:1024px;
margin:auto;
position:relative;
scrolling:no;
overflow:hidden;
color:#eee;
}

 div.logo{
width:400px;
height:250px;
border:10px solid #111;
}

div.html{padding-left:280px;}

div.css{padding-left:700px;}

span.html:hover {text-decoration: none; background: #ffffff; z-index: 6; }

span.html span {
position: absolute; 
left: -9999px;  
background: #1c1c1c;
color: #0099ff;
padding: 10px;
width:400px;
-webkit-transition: -webkit-box-shadow 0.5s ease-out;;
-moz-transition: -moz-box-shadow 0.5s ease-out;
-o-transition: box-shadow 0.5s ease-out;
}

span.html:hover span {
left: 29.3%;bottom:44.6%;
-moz-box-shadow: 0px 0px 15px #0099ff;
-webkit-box-shadow: 0px 0px 15px #0099ff;
box-shadow: 0px 0px 15px #0099ff;
} 

</style>

<div class="html">
<span class="html" title="Hipertext markup language"><a  href="" class="button small         green rounded">HTML</a>
  <span><img src="images/white_texture.jpg" height="250" width="400"/><br/>

  </span>
</span></div>
<div class="css">
<span class="html" title="Title for the pop-up"><a href="" >CSS</a>
  <span><img src="card.jpg"/><br/>

  </span>
</span>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:21:49.500

关于您到底想做什么还不清楚，而不是：

```
span.html:hover span {
left: 29.3%;bottom:44.6%;
-moz-box-shadow: 0px 0px 15px #0099ff;
-webkit-box-shadow: 0px 0px 15px #0099ff;
box-shadow: 0px 0px 15px #0099ff;
} 
```

尝试：

```
span.html:hover span {
top: 50%; left:50%;
margin-top: -125px; /* negative half the height of your span element */
margin-left: -200px; /* negative half the width of your span element */
-moz-box-shadow: 0px 0px 15px #0099ff;
-webkit-box-shadow: 0px 0px 15px #0099ff;
box-shadow: 0px 0px 15px #0099ff;
} 
```

这是假设跨度标签中的 img 将始终具有相同的宽度。

# java - 要学习的 Java 虚拟机资源

> ID：10310291
> 
> 赞同：-4
> 
> 时间：2012-04-25T06:15:15.093
> 
> 标签：java, jvm

有哪些适合新手学习 Java 虚拟机的好资源？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:18:53.910

[Java 虚拟机规范](http://docs.oracle.com/javase/specs/jvms/se7/html/index.html)是权威来源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:17:15.397

我会阅读您使用的类的源代码。它们位于 JDK 的 src.zip 中，但大多数 IDE 会为您找到它。使用类时，使用`<ctrl>+<click>`方法或类查看其来源。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:07:55.157

以下书籍是学习 JVM 的好书。

[Java虚拟机内部](https://rads.stackoverflow.com/amzn/click/com/0071350934)

[Java 性能](https://rads.stackoverflow.com/amzn/click/com/0137142528)

-湿婆

# python - 寻找基于 Python 的机器学习库来处理图像

> ID：10310292
> 
> 赞同：2
> 
> 时间：2012-04-25T06:15:18.407
> 
> 标签：python, mapreduce, machine-learning

我正在开发一个基于 Python 的 MapReduce 项目，我想在其中处理图像以根据处理后收集的数据创建一个系统。我的目标是使用 Python/IronPython 并在多个方面（即大小、编码、属性、元数据等）处理图像。我正在寻找一些特别在机器学习算法实现领域的想法来实现我的目标。谢谢。

**更多信息稍后添加：**

我创建了以下博客，解释了基于 Python 的机器学习库列表，如下所示：

[http://cloudcelebrity.wordpress.com/2012/04/25/machine-learning-libraries-in-python/](http://cloudcelebrity.wordpress.com/2012/04/25/machine-learning-libraries-in-python/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T07:43:58.463

您需要将问题分成两个单独的部分：

1) 图像处理

2）机器学习

对于任务 (1)，您有[PIL](http://www.pythonware.com/products/pil/)、[OpenCV](http://opencv.willowgarage.com/wiki/PythonInterface)，您甚至可以使用[ImageMagick](http://www.imagemagick.org/script/index.php)二进制文件或其 Python 投标将您的图像分解为定量参数。

接下来对于任务（2），您可以尝试其中任何一个来处理上面的结果

[牛奶](http://packages.python.org/milk/) [橙](http://orange.biolab.si/) [PyML](http://pyml.sourceforge.net/) [MDP](http://mdp-toolkit.sourceforge.net/) [Shogun](http://www.shogun-toolbox.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-25T10:05:21.913

对于图像处理/计算机视觉，还有一系列基于 numpy 的库：scipy.ndimage、[scikits-image](http://scikits-image.org/)、[pymorph](http://luispedro.org/software/pymorph)（有点慢，但有很多东西）和我自己的[mahotas](http://luispedro.org/software/mahotas)。它们都使用 numpy 数组并且是可互操作的（您可以使用它们中的所有函数并混合匹配）。

# c# - 无法将 cls 文件导入 sql server 2005

> ID：10310293
> 
> 赞同：2
> 
> 时间：2012-04-25T06:15:31.080
> 
> 标签：c#, asp.net

当我尝试将 cls 文件导入到 sql server 2005 时。包含逗号值的单元格不会导入到 sql server![在此处输入图像描述](../Images/6447d02a44a672e0d79183df0d829205.png)

第 7 到 14 行不导入到 sql server 2005

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:12:34.690

Firstable 检查字段类型，是否将它们设置为适当的类型和长度。其次检查字符串本身，这个字符串是否包含一些特殊字符？

# ssh - 通过 ssh 进行 sudo 的正确方法

> ID：10310299
> 
> 赞同：180
> 
> 时间：2012-04-25T06:15:57.690
> 
> 标签：ssh, sudo

我有一个脚本，它使用 sudo 在远程服务器上通过 SSH 运行另一个脚本。但是，当我输入密码时，它会显示在终端上。（否则它工作正常）

```
ssh user@server "sudo script" 
```

执行此操作的正确方法是什么，以便我可以通过 SSH 键入 sudo 的密码，而不会在我键入时出现密码？

* * *

## 回答 #1

> 赞同：279
> 
> 时间：2012-04-25T09:18:26.273

另一种方法是使用`-t`switch 来`ssh`：

```
ssh -t user@server "sudo script" 
```

见[`man ssh`](http://linuxcommand.org/lc3_man_pages/ssh1.html)：

```
 -t      Force pseudo-tty allocation.  This can be used to execute arbi-
         trary screen-based programs on a remote machine, which can be
         very useful, e.g., when implementing menu services.  Multiple -t
         options force tty allocation, even if ssh has no local tty. 
```

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2018-11-07T12:25:52.870

I was able to fully automate it with the following command:

```
echo pass | ssh -tt user@server "sudo script" 
```

Advantages:

*   no password prompt
*   won't show password in remote machine bash history

**Regarding security:** as [Kurt](https://stackoverflow.com/users/7216401/kurt-fitzner) said, running this command will show your password on your local bash history, and it's better to save the password in a different file or save the all command in a .sh file and execute it. NOTE: The file need to have the correct permissions so that only the allowed users can access it.

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2018-11-19T02:18:15.167

**Sudo over SSH passing a password, no tty required:**

You can use sudo over ssh without forcing ssh to have a pseudo-tty (without the use of the ssh "-t" switch) by telling sudo not to require an interactive password and to just grab the password off stdin. You do this by using the "-S" switch on sudo. This makes sudo listen for the password on stdin, and stop listening when it sees a newline.

**Example 1 - Simple Remote Command**

In this example, we send a simple `whoami` command:

```
$ ssh user@server cat \| sudo --prompt="" -S -- whoami << EOF
> <remote_sudo_password>
root 
```

We're telling sudo not to issue a prompt, and to take its input from stdin. This makes the sudo password passing completely silent so the only response you get back is the output from `whoami`.

This technique has the benefit of allowing you to run programs through sudo over ssh that themselves require stdin input. This is because sudo is consuming the password over the first line of stdin, then letting whatever program it runs continue to grab stdin.

**Example 2 - Remote Command That Requires Its Own stdin**

In the following example, the remote command "cat" is executed through sudo, and we are providing some extra lines through stdin for the remote cat to display.

```
$ ssh user@server cat \| sudo --prompt="" -S -- "cat" << EOF
> <remote_sudo_password>
> Extra line1
> Extra line2
> EOF
Extra line1
Extra line2 
```

The output demonstrates that the `<remote_sudo_password>` line is being consumed by sudo, and that the remotely executed cat is then displaying the extra lines.

An example of where this would be beneficial is if you want to use ssh to pass a password to a privileged command without using the command line. Say, if you want to mount a remote encrypted container over ssh.

**Example 3 - Mounting a Remote VeraCrypt Container**

In this example script, we are remotely mounting a VeraCrypt container through sudo without any extra prompting text:

```
#!/bin/sh
ssh user@server cat \| sudo --prompt="" -S -- "veracrypt --non-interactive --stdin --keyfiles=/path/to/test.key /path/to/test.img /mnt/mountpoint" << EOF
SudoPassword
VeraCryptContainerPassword
EOF 
```

It should be noted that in all the command-line examples above (everything except the script) the `<< EOF` construct on the command line will cause the everything typed, including the password, to be recorded in the *local* machine's .bash_history. It is therefore highly recommended that for real-world use you either use do it entirely through a script, like the veracrypt example above, or, if on the command line then put the password in a file and redirect that file through ssh.

**Example 1a - Example 1 Without Local Command-Line Password**

The first example would thus become:

```
$ cat text_file_with_sudo_password | ssh user@server cat \| sudo --prompt="" -S -- whoami
root 
```

**Example 2a - Example 2 Without Local Command-Line Password**

and the second example would become:

```
$ cat text_file_with_sudo_password - << EOF | ssh va1der.net cat \| sudo --prompt="" -S -- cat
> Extra line1
> Extra line2
> EOF
Extra line1
Extra line2 
```

Putting the password in a separate file is unnecessary if you are putting the whole thing in a script, since the contents of scripts do not end up in your history. It still may be useful, though, in case you want to allow users who should not see the password to execute the script.

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2018-01-28T19:46:08.790

**Assuming you want no password prompt**:

```
ssh $HOST 'echo $PASSWORD | sudo -S $COMMMAND' 
```

*Example*

```
ssh me@localhost 'echo secret | sudo -S echo hi' # outputs 'hi' 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-12-01T15:20:09.017

最好的方法是`ssh -t user@server "sudo <scriptname>"`，例如`ssh -t user@server "sudo reboot"`。它将首先提示用户输入密码，然后是 root（因为我们正在以 root 权限运行脚本或命令。

我希望它可以帮助并消除您的疑问。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-04-25T06:25:40.920

`NOPASS`在您的目标机器上的配置是解决方案。继续阅读[http://maestric.com/doc/unix/ubuntu_sudo_without_password](http://maestric.com/doc/unix/ubuntu_sudo_without_password)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-09-13T22:38:28.267

```
echo $VAR_REMOTEROOTPASS | ssh -tt -i $PATH_TO_KEY/id_mykey $VAR_REMOTEUSER@$varRemoteHost 
echo \"$varCommand\" | sudo bash 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-06-18T03:41:45.283

confirming that the answer of @ofirule is working like a charm. I try ot even with `sshpass` & it works. This is how to use it with sshpass:

```
echo $pass | sshpass -p $pass ssh -tt cloud_user@$ip "sudo su -" 
```

you will find yourself in the root shell directly

# blogs - 为什么 disqus 在我的帖子旁边显示一个小的“博客”链接？

> ID：10310311
> 
> 赞同：0
> 
> 时间：2012-04-25T06:16:55.363
> 
> 标签：blogs, disqus

我正在尝试在我的博客中使用 Disqus，我现在正在 localhost 上对其进行测试，我发现我的博客文章旁边有一个小的“博客”链接。单击它带您到 Disqus 网站的链接。我找不到摆脱它的方法，有人能指出我做错了什么或如何删除它吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T21:07:01.730

Disqus 有这行代码

```
<a href="http://disqus.com" class="dsq-brlink" style="display:block">blog comments powered by <span class="logo-disqus">Disqus</span></a> 
```

我添加的唯一解决问题的方法是添加以下内联样式

```
style="display:block" 
```

IE9 在没有我添加的情况下正确显示它，但由于某种原因 chrome 在没有它的情况下显示它不正确。

# iphone - 滚动图像的巨大延迟

> ID：10310312
> 
> 赞同：0
> 
> 时间：2012-04-25T06:17:02.057
> 
> 标签：iphone, ios

我正在使用 rssFeed 使用以下代码加载 url 图像。然而，一旦图像加载到 iPhone 中，滚动就会出现巨大的延迟。我一直在谷歌搜索解决方案。此外，更改为 LazyImageLoad，是否有更简单的解决方案可以解决我的问题？谢谢你。

```
 NSString *imageURLString = [rssFeed objectForKey:@img"];
    NSURL *imageURL = [NSURL URLWithString:imageURLString];

    NSData *imageData = [NSData dataWithContentsOfURL:imageURL];

    cell.imageView.image = [UIImage imageWithData:imageData]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:27:07.610

您必须在单独的线程上下载图像，而不是在 ui 线程上。如果您按需下载或进行兑现算法，是您的选择。

您应该将图像调整为小尺寸（最好是 imageView 的大小），然后将它们分配给 imageView。在表格视图中，您应该只看到图像的预览。

如果你想要快速滚动，你必须通过继承 UITableViewCell 来构建自己的自定义单元格（不是 xib）并在 drawContentView 中绘制所有内容。

# javascript - 如何在javascript中的html字符串中查找包含标签的html子字符串？

> ID：10310314
> 
> 赞同：0
> 
> 时间：2012-04-25T06:17:30.597
> 
> 标签：javascript, ckeditor

我有一个字符串和子字符串，我想获取该字符串中子字符串的第一个索引，我`string.indexOf`用于此目的，但是当有 html 标签时，它总是返回`-1`。我在 CKEDITOR 工作

请提出任何方法。

* * *

（来自评论）

我正在谈论这件事`​str = "<html><head><body><p>hello</p><p>world</p><body> </head></​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​html>"; sub_str = "<p>hello</p><p>world</p>";`现在`str.indexOf(sub_str)`将返回 -1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:37:30.160

```
str = "<html><head><body><p>hello</p><p>world</p><body> </head></html>";
sub_str = "<p>hello</p><p>world</p>";

alert(str.indexOf(sub_str)); 
```

在此处查看此代码[http://jsfiddle.net/wQSbe/7/](http://jsfiddle.net/wQSbe/7/) 在 indexof() 中使用不带引号的 sub_str，如果我们使用引号，它将返回 -1，为什么因为它搜索匹配“sub_str”的字符串。它在给定的字符串中找不到。所以它返回 -1

# java - 用于在 java 中将 CamelCase 转换为 camel_case 的正则表达式

> ID：10310321
> 
> 赞同：99
> 
> 时间：2012-04-25T06:17:59.007
> 
> 标签：java, regex, string

我理解为什么没有给出所需的输出来使用正则表达式转换一个字符串`FooBar`，`Foo_Bar`而不是给出`Foo_Bar_`. 我可以用 String.substring 做点什么，`substring(0, string.length() - 2)`或者只是替换最后一个字符，但我认为对于这种情况有更好的解决方案。

这是代码：

```
String regex = "([A-Z][a-z]+)";
String replacement = "$1_";

"CamelCaseToSomethingElse".replaceAll(regex, replacement); 

/*
outputs: Camel_Case_To_Something_Else_
desired output: Camel_Case_To_Something_Else
*/ 
```

问题：正在寻找一种更简洁的方法来获得所需的输出？

* * *

## 回答 #1

> 赞同：189
> 
> 时间：2012-04-25T06:23:58.927

看到这个[问题](https://stackoverflow.com/questions/1143951/what-is-the-simplest-way-to-convert-a-java-string-from-all-caps-words-separated)和[`CaseFormat`番石榴](https://google.github.io/guava/releases/27.1-jre/api/docs/com/google/common/base/CaseFormat.html)

在您的情况下，例如：

```
CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, "SomeInput"); 
```

* * *

## 回答 #2

> 赞同：71
> 
> 时间：2012-04-25T06:44:18.063

将小写和大写绑定为两组，就可以了

```
public  class Main
{
    public static void main(String args[])
    {
        String regex = "([a-z])([A-Z]+)";
        String replacement = "$1_$2";
        System.out.println("CamelCaseToSomethingElse"
                           .replaceAll(regex, replacement)
                           .toLowerCase());
    }
} 
```

* * *

## 回答 #3

> 赞同：43
> 
> 时间：2013-08-12T18:54:26.220

您可以使用以下代码片段：

```
String replaceAll = key.replaceAll("(.)(\\p{Upper})", "$1_$2").toLowerCase(); 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2018-06-13T12:56:51.237

我不能提供正则表达式，反正它会非常复杂。

尝试使用自动识别首字母缩略词的功能。

*不幸的是，Guava lib 不会自动检测大写首字母缩写词，因此“bigCAT”将转换为“BIG_C_A_T”*

```
/**
 * Convert to UPPER_UNDERSCORE format detecting upper case acronyms
 */
private String upperUnderscoreWithAcronyms(String name) {
    StringBuffer result = new StringBuffer();
    boolean begin = true;
    boolean lastUppercase = false;
    for( int i=0; i < name.length(); i++ ) {
        char ch = name.charAt(i);
        if( Character.isUpperCase(ch) ) {
            // is start?
            if( begin ) {
                result.append(ch);
            } else {
                if( lastUppercase ) {
                    // test if end of acronym
                    if( i+1<name.length() ) {
                        char next = name.charAt(i+1);
                        if( Character.isUpperCase(next) ) {
                            // acronym continues
                            result.append(ch);
                        } else {
                            // end of acronym
                            result.append('_').append(ch);
                        }
                    } else {
                        // acronym continues
                        result.append(ch);
                    }
                } else {
                    // last was lowercase, insert _
                    result.append('_').append(ch);
                }
            }
            lastUppercase=true;
        } else {
            result.append(Character.toUpperCase(ch));
            lastUppercase=false;
        }
        begin=false;
    }
    return result.toString();
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2014-10-14T10:36:50.753

为什么不简单地将前面的字符匹配为非行首`$`？

```
String text = "CamelCaseToSomethingElse";
System.out.println(text.replaceAll("([^_A-Z])([A-Z])", "$1_$2")); 
```

请注意，此版本可以安全地在已经用驼峰包装的东西上执行。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-04-25T06:21:03.217

添加一个零宽度的前瞻断言。

[http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html)

阅读文档`(?=X)`等。

就个人而言，我实际上会*拆分*字符串，然后重新组合它。如果做得好，这甚至可能更快，并且它使代码比正则表达式更容易理解。不要误会我的意思：我喜欢正则表达式。但这并不是一个真正简洁的正则表达式，这种*转换*也不是一个经典的正则表达式任务。毕竟你似乎也想做小写？

一个丑陋但快速的技巧是替换`(.)([A-Z]+)`整个`$1_$2`字符串，然后再小写整个字符串（除非你可以做 perl 风格的扩展正则表达式，你可以直接小写替换！）。我仍然考虑在从下到上的过渡中拆分，然后转换，然后加入作为这样做的正确和最易读的方式。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-08-23T19:30:01.117

不确定是否有可能使用纯正则表达式真正巩固一些东西。特别是支持首字母缩略词。

我做了一个小函数，受@radzimir 答案的启发，它支持首字母缩写词并且没有字母字符：

来自[https://gist.github.com/ebuildy/cf46a09b1ac43eea17c7621b7617ebcd](https://gist.github.com/ebuildy/cf46a09b1ac43eea17c7621b7617ebcd)：

```
private static String snakeCaseFormat(String name) {
    final StringBuilder result = new StringBuilder();

    boolean lastUppercase = false;

    for (int i = 0; i < name.length(); i++) {
        char ch = name.charAt(i);
        char lastEntry = i == 0 ? 'X' : result.charAt(result.length() - 1);
        if (ch == ' ' || ch == '_' || ch == '-' || ch == '.') {
            lastUppercase = false;

            if (lastEntry == '_') {
                continue;
            } else {
                ch = '_';
            }
        } else if (Character.isUpperCase(ch)) {
            ch = Character.toLowerCase(ch);
            // is start?
            if (i > 0) {
                if (lastUppercase) {
                    // test if end of acronym
                    if (i + 1 < name.length()) {
                        char next = name.charAt(i + 1);
                        if (!Character.isUpperCase(next) && Character.isAlphabetic(next)) {
                            // end of acronym
                            if (lastEntry != '_') {
                                result.append('_');
                            }
                        }
                    }
                } else {
                    // last was lowercase, insert _
                    if (lastEntry != '_') {
                        result.append('_');
                    }
                }
            }
            lastUppercase = true;
        } else {
            lastUppercase = false;
        }

        result.append(ch);
    }
    return result.toString();
} 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-08-21T17:07:18.913

```
public class ReplaceFromCameltoSnake {
    public static void main(String args[]){
        String s1=" totalAmountWithoutDiscount";  
        String replaceString=s1.replaceAll("([A-Z]+)","\\_$1").toLowerCase(); 
        System.out.println(replaceString);  
    }
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-04-25T06:29:40.897

```
([A-Z][a-z\d]+)(?=([A-Z][a-z\d]+)) 
```

应搜索大写字母后跟小写字母。正向前瞻将寻找另一个以大写字母开头后跟小写字母的单词，但不会将其包含在匹配项中。

看这里：[http ://regexr.com?30ooo](http://regexr.com?30ooo)

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-02-03T23:38:56.700

如果有人出于任何原因不想使用 Guava，我正在写这个答案。

```
CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, "SomeInput"); 
```

在我们的案例中，我们遇到了存储问题。Guava 还有一个特殊情况：如果我们输入“Ph_D”，那么我们将得到带有两个下划线的“ph__d”。

只要我测试过，下面的代码就可以工作。

```
public static String camelCaseToLowerCaseWithUnderscore(String string) {
    if (string.matches(".*[a-z].*")) {
        final Matcher matcher = Pattern.compile("(_?[A-Z][a-z]?)").matcher(string);

        StringBuffer stringBuffer = new StringBuffer();
        matcher.find(); // This is just to escape the first group (beginning of string)
        while (matcher.find()) {
            final String group = matcher.group();
            if (!group.startsWith("_")) {
                matcher.appendReplacement(stringBuffer, "_" + group);
            }
        }
        matcher.appendTail(stringBuffer);
        return stringBuffer.toString().toLowerCase();
    }
    else {
        return string;
    }
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-09-06T02:38:38.690

我必须实现它以将驼峰格式的一些键转换为带下划线的小写。我想出的正则表达式是：

`(?<!^|_|[A-Z])([A-Z])`

在英语中，它代表*前面没有字符串开头、下划线或其他大写字母的大写字母*。

在下面的示例中，粗体字符是应该使用上述正则表达式产生匹配的字符：

*   Camel Case **T** o **S** something Else **_** **_**
*******   骆驼案**T** o **S** something Else **_** **_*********   camel_case_to_something_else*   Camel_Case_To_Something_Else*   CAMEL_CASE_TO_SOMETHING_ELSE************

 ******请注意，该表达式不会影响已经采用小写 + 下划线格式的字符串。

替换模式将是：

`_l$1`

这意味着第一个捕获组的*小写，第*一个捕获组是大写字母。之后您也可以将整个字符串小写，以规范上面列表中的最后两个样本。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-04-17T05:03:20.140

这是我使用 3 个正则表达式的解决方案：

```
str.replaceAll("([^A-Z])([A-Z0-9])", "$1_$2") // standard replace
                   .replaceAll("([A-Z]+)([A-Z0-9][^A-Z]+)", "$1_$2") // last letter after full uppercase.
                    .replaceAll("([0-9]+)([a-zA-Z]+)", "$1_$2").toLowerCase(); // letters after numbers 
```

结果：

```
thisIsATest: this_is_a_test
EndWithNumber3: end_with_number_3
3ThisStartWithNumber: 3_this_start_with_number
Number3InMiddle: number_3_in_middle
Number3inMiddleAgain: number_3_in_middle_again
MyUUIDNot: my_uuid_not
HOLAMundo: hola_mundo
holaMUNDO: hola_mundo
with_underscore: with_underscore
withAUniqueLetter: with_a_unique_letter 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2022-01-21T12:12:09.750

[您可以使用 Java 8 中的 Stream API 和commons-lang](http://commons.apache.org/lang/)中的方法[StringUtils.capitalize(..)轻松地将 String 转换为驼峰式大小写](https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/StringUtils.html#capitalize%28java.lang.String%29)

```
 public String toCamelCase(String str) {
    return Arrays.stream(str.split("_"))
        .map(StringUtils::capitalize)
        .collect(Collectors.joining());
} 
```******

# c# - 在 C# 中获取唯一标识符的最佳方法

> ID：10310328
> 
> 赞同：7
> 
> 时间：2012-04-25T06:18:28.763
> 
> 标签：c#, uniqueidentifier

我以前问过类似的问题，但我现在减少了一些关于我需要什么的限制。

我需要使用 C# 在计算机上高效地找到唯一标识符。它应该在任何特定的计算机上始终保持不变，并且可以是许多因素的组合 - 只要它易于检索。

我曾考虑将 MAC 地址与 WMI 网络查询一起使用，但这太慢了，因为通常有 10 多个适配器。使用 WHERE IPEnabled=true 子句可能会更好，但我认为可能有比这更好的东西。

想法？

（PS不一定要完全独特。只要碰撞的机会很小，就完美了。）

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-04-25T06:33:59.120

首先获取处理器 ID，如下所示：（添加对 的引用`System.Management`）

```
 ManagementObjectCollection mbsList = null;
    ManagementObjectSearcher mbs = new ManagementObjectSearcher("Select * From Win32_processor");
    mbsList = mbs.Get();
    string id = "";
    foreach (ManagementObject mo in mbsList)
    {
        id = mo["ProcessorID"].ToString();
    } 
```

//然后就可以得到主板序列号了：

```
 ManagementObjectSearcher mos = new ManagementObjectSearcher("SELECT * FROM Win32_BaseBoard");
    ManagementObjectCollection moc = mos.Get();
    string motherBoard = "";
    foreach (ManagementObject mo in moc)
    {
        motherBoard = (string)mo["SerialNumber"];
    } 
```

您可以将上述两者连接起来并获得一个唯一的ID

```
 string myUniqueID = id + motherBoard;
    Console.WriteLine(myUniqueID); 
```

另请查看此链接[查找计算机的硬件 ID、CPU ID、主板 ID、硬盘 ID](http://jai-on-asp.blogspot.com/2010/03/finding-hardware-id-of-computer.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:29:31.353

机器 SID 也很稳定——下面有各种方法可以得到它......

[如何使用 WMI 检索 Windows 计算机的 SID？](https://stackoverflow.com/questions/3133399/how-can-i-retrieve-a-windows-computers-sid-using-wmi)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:30:58.513

非常好的示例，您将在此处看到[为计算机生成唯一性](http://www.codeproject.com/Articles/28678/Generating-Unique-Key-Finger-Print-for-a-Computer)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T06:39:39.830

您可以查看[有关 Windows 产品激活的技术公告](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb457054(v=technet.10))。从您的评论来看，您可能不想花这么多篇幅，但也许它可以为您提供一些灵感……

WPA 根据以下某些硬件项目的序列号生成哈希：

*   显示适配器
*   SCSI 适配器
*   IDE 适配器
*   网络适​​配器（MAC 地址）
*   RAM 数量范围
*   处理器类型
*   处理器序列号
*   硬盘
*   硬盘卷序列号
*   CD-ROM / CD-RW / DVD-ROM

# jsp - 使用spring mvc 3.0在jsp中的视图

> ID：10310331
> 
> 赞同：0
> 
> 时间：2012-04-25T06:18:31.447
> 
> 标签：jsp, spring-mvc

我正在使用 Spring MVC 3.0，下面给出了部分代码：

```
@RequestMapping("/viewAllEmployee")
public ModelAndView getAllEmployee()
{
    ModelAndView mav=new ModelAndView("showEmployee");
    List<Employee> employee= employeeDAO.getAllEmployees();
    mav.addObject("RESULT_EMPLOYEE", employee);
    return mav;
} 
```

现在，我的问题是假设上面代码给出的结果是 20，所以，我希望结果在 JSP 中一次显示 5 个，这样当用户单击下一步时，将显示下一个 5 个结果。我怎样才能做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T07:54:37.910

你可以使用displaytag，请看这里：[http ://www.displaytag.org/1.2/](http://www.displaytag.org/1.2/)

使用此元素，您可以在 jsp 页面中显示列表、执行分页、排序、导出等。

# iphone - UIAlertView 消息显示

> ID：10310337
> 
> 赞同：0
> 
> 时间：2012-04-25T06:18:45.477
> 
> 标签：iphone, uialertview

我需要显示一条警报消息，例如“您确定吗？[Y/N] 警告 - 这将重置分数。”</p>

为此，我正在编写以下代码行：

```
 UIAlertView *alert = [[UIAlertView alloc] init];
    [alert setMessage: NSLocalizedString(@"Are you sure?", nil)];
    [alert setTitle:@"WARNING - This will reset scores."];
    [alert addButtonWithTitle:@"Y"];
    [alert addButtonWithTitle:@"N"];
    [alert setDelegate:self];
    [alert show];
    [alert release]; 
```

通过这个，我首先得到警告文本，然后是问题和按钮。但我希望最后出现警告文本。流程就像第一个问题（你确定吗？），然后是两个按钮（是/否），然后是警告文本。请帮我这样做。我对此很负责。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T11:56:50.343

您应该创建自定义警报视图。这是我自定义的 AlertView 代码，您可以按照它来创建自己需要的 alertView。也许它会帮助你。

```
#import <UIKit/UIKit.h>
#import "Utility.h"

@interface AlertViewController : UIViewController <UIAlertViewDelegate>
{
    UITextView         *_sharingTextView;
}
- (void) showAlertViewWithTextView;
@end 
```

然后在 .m 文件中

```
#import "AlertViewController.h"

@implementation AlertViewController

#define AlertViewIphoneInitFrame CGRectMake(0, 0, 300, 100)
#define AlertViewIpadInitFrame CGRectMake(200, 50, 600, 200)
#define TextViewIphoneFrame CGRectMake(20, 50, 260, 80)
//#define TextViewIpadFrame CGRectMake(40, 100, 520, 160)
#define AlertViewIphonePresentFrame CGRectMake(10, 100, 300, 200)
#define AlertViewIpadPresentFrame CGRectMake(200, 200, 600, 400)

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)didReceiveMemoryWarning
{
    // Releases the view if it doesn't have a superview.
    [super didReceiveMemoryWarning];

    // Release any cached data, images, etc that aren't in use.
}

#pragma mark - Custom AlertView 
//Custom AlertView
- (void) showAlertViewWithTextView 
{
    UIAlertView *alert;
    if ([[Utility getCurrentDevice] isEqualToString:@"iPad"])
    {
         alert = [[UIAlertView alloc] initWithFrame:AlertViewIpadInitFrame];
        _sharingTextView = [[UITextView alloc] initWithFrame:TextViewIphoneFrame];
    }
    else
    {
        alert = [[UIAlertView alloc] initWithFrame:AlertViewIphoneInitFrame];
        _sharingTextView = [[UITextView alloc] initWithFrame:TextViewIphoneFrame];
    }
    alert.title = @"History Application";
    alert.message = nil;
    alert.delegate = self;
    [alert addButtonWithTitle:@"Return"];

    _sharingTextView.text = @"To share you events through tweets or facebook sharing you have to login, You can do so here or when trying to tweet or facebook share. You can also logout here";
    [_sharingTextView setFont:[UIFont fontWithName:@"Helvetica" size:18.0]];
    [_sharingTextView setEditable:NO];
    [alert addSubview:_sharingTextView];
    [alert show];
    [_sharingTextView release];
    [alert release];
}

- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex 
{
}

// to set the alertView frame size.
- (void)willPresentAlertView:(UIAlertView *)alertView 
{
    if ([[Utility getCurrentDevice] isEqualToString:@"iPad"])
    {
        [alertView setFrame:AlertViewIpadPresentFrame];
    }
    else
    {
        [alertView setFrame:AlertViewIphonePresentFrame];
    }
    [alertView setFrame:AlertViewIphonePresentFrame];
    for ( UIView *views in [alertView subviews]) 
    {
        NSLog(@"%@",views);
        if (views.tag == 1) 
        {
            [views setFrame:CGRectMake(views.frame.origin.x+10, views.frame.origin.y+80, views.frame.size.width, views.frame.size.height)];
        }
    }
}

#pragma mark - View lifecycle

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (void)dealloc {
}

@end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:47:13.203

```
UIAlertView *alert1= [[UIAlertView alloc]initWithTitle:@"Are you sure?" message:@"Warning-This will reset scores." delegate:self cancelButtonTitle:nil otherButtonTitles:@"Y",@"N", nil];
[alert1 show];
[alert1 release]; 
```

只需使用简单的初始化方法！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:23:09.300

您当前将警告文本作为标题，因此它将显示在消息上方。将您的 setMessage 更改为如下所示：

```
NSString *fullMessage = [NSString stringWithFormat:@"%@\n\nWARNING - This will reset scores.", NSLocalizedString(@"Are you sure?", nil)];
[alert setMessage: fullMessage]; 
```

# jquery - 如何从 Symfony2 访问 jquery 中的 cookie

> ID：10310341
> 
> 赞同：2
> 
> 时间：2012-04-25T06:19:07.117
> 
> 标签：jquery, cookies, symfony

因此，我希望 Symfony2 中的控制器设置一个 cookie，然后如果该 cookie 已设置，则让一个 jquery 脚本相应地采取行动。这似乎很简单，但由于我无法让它工作，我想我会问。

这是我设置 cookie 的 Symfony 代码：

```
// in controller
    $url = $this->container->get('router')->generate('_fs_feed_show');
    $response = new RedirectResponse($url);
    $response->headers->setCookie(new Cookie('showhelp', 'true', time() + (3600 * 48)));
    return $response; 
```

这是我的 jquery 片段做某事（我正在使用 cookie 插件）

```
if ($.cookie('showhelp') != null) {
    alert('cookie set!');
} 
```

我也试过：

```
if ($.cookie('showhelp', {path: '/'}) != null) {
    alert('cookie set!');
} 
```

我正在使用 chrome 并使用“chromekie”扩展名，我可以看到 cookie 已设置。当我单步执行 javascript 调试器时，if 语句的计算结果为 false。

有谁可以帮我离开这里吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T11:00:27.877

如果您查看[setCookie](http://php.net/manual/en/function.setcookie.php) 方法的文档，则有一个名为的参数`httponly`，它确定 cookie 变量是否可供 javascript 访问。在 Symfony2 中默认为 true。您必须将其设置为假，例如

```
 $response->headers->setCookie(new Cookie('showhelp', 'true', time() + (3600 * 48), '/', null, false, false)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-15T11:22:31.150

检查[setcookie 函数](http://php.net/manual/en/function.setcookie.php)中的最后一个参数。**httponly**默认设置为 false。

从手册：

> 当 TRUE 时，cookie 将只能通过 HTTP 协议访问。这意味着 cookie 将无法通过 JavaScript 等脚本语言访问。有人建议，此设置可以有效地帮助减少通过 XSS 攻击进行的身份盗用（尽管并非所有浏览器都支持），但这种说法经常引起争议。在 PHP 5.2.0 中添加。对或错

在 Symfony2 源代码（v2.0.12）中它说

```
//Symfony\Component\HttpFoundation\Cookie
public function __construct(
    $name, 
    $value = null, 
    $expire = 0, 
    $path = '/', 
    $domain = null, 
    $secure = false, 
    $httpOnly = true
)
{
 //...
} 
```

**$httpOnly**参数默认为 true。这就是为什么您无法使用 javascript 访问您的 cookie。

要解决此问题，您需要将控制器更改为：

```
// in controller
$url = $this->container->get('router')->generate('_fs_feed_show');
$response = new RedirectResponse($url);
$response->headers->setCookie(
    new Cookie('showhelp', 'true', time() + (3600 * 48),'/',null,false,false)
);
return $response; 
```

# c - 有什么方法可以检查 mpz_mul 函数的正确性吗？

> ID：10310342
> 
> 赞同：-3
> 
> 时间：2012-04-25T06:19:19.677
> 
> 标签：c, gmp

有没有办法从[GMP](http://gmplib.org/)`mpz_mul()`检查函数的正确性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T14:47:05.483

检查的方法是运行 GMP 测试套件。INSTALL 指令状态：

> 以下是有关如何安装 GMP 的一些简要说明。首先你需要编译。既然你不耐烦，试试这个

```
./configure
make
make check      <= VERY IMPORTANT!! 
```

> 如果失败 [...] 您需要阅读手册中“安装 GMP”一章中的完整说明。

请注意，它说“非常重要！”

# jquery - 如何找到容器树所在的位置

> ID：10310343
> 
> 赞同：1
> 
> 时间：2012-04-25T06:19:23.827
> 
> 标签：jquery

我有 dhtmlx 树。在一个 div 中，我放置了那棵树。我有多个 div，在每个 div 中我都有一棵动态生成的树。当我单击树的任何节点时，我可以获得该节点的 id。现在如何使用 jquery 查找该树所在的 div。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:21:51.360

```
$('#id').closest('div') 
```

文档：[http ://api.jquery.com/closest/](http://api.jquery.com/closest/)

根据您的 DOM 的结构，您可能需要不同的选择器 - 但如果没有您向我们展示结构，我们只能进行猜测。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T08:56:47.227

如果您使用树的 onClick 事件，您可以使用下一个代码访问容器 html 节点

```
tree.attachEvent("onClick", function(id){
    var node = this.parentObject; //html container of tree
}); 
```

# exception - 使用 Apache POi 将 Docx 文件转换为 XML 时出现异常错误

> ID：10310344
> 
> 赞同：0
> 
> 时间：2012-04-25T06:19:26.870
> 
> 标签：exception, apache-poi

得到以下异常错误

java.io.IOException：无效的标头签名；读取 0x4353414E2023233C，预期 0xE11AB1A1E011CFD0 在 org.apache.poi.poifs.storage.HeaderBlock.(HeaderBlock.java:140) 在 org.apache.poi.poifs.storage.HeaderBlock.(HeaderBlock.java:104) 在 org.apache。 poi.poifs.filesystem.POIFSFileSystem.(POIFSFileSystem.java:138) 在 org.apache.poi.hwpf.HWPFDocumentCore.verifyAndBuildPOIFS(HWPFDocumentCore.java:107) 在 org.apache.poi.hwpf.HWPFDocument.(HWPFDocument.java: 179) 在 Word2XML.main(Word2XML.java:196)

# android - 在 Eclipse android 的项目（我们要测试的）中创建一个测试项目？

> ID：10310350
> 
> 赞同：3
> 
> 时间：2012-04-25T06:20:25.970
> 
> 标签：android, testing, junit

有两种方法可以为要测试的库项目创建测试项目 **第一种方法**：单独创建一个测试项目。我知道这种方式。 **第二种方式**：在项目本身内部创建一个测试项目，但我不知道如何在项目内部创建一个测试项目（我们要测试）。任何人都可以帮助并提供在项目内部创建测试项目的步骤，而无需创建单独的测试项目。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-10T04:08:47.077

在线文档中描述的方法是创建一个新的测试项目并将其存储在项目下面的“tests”目录中。它将包含看起来是一个完整的、正常的 Android 项目。

在此处查看“测试项目”：http: [//developer.android.com/guide/topics/testing/testing_android.html](http://developer.android.com/guide/topics/testing/testing_android.html)

# iphone - 拆分 UIWebView 在不同线程中加载和显示

> ID：10310351
> 
> 赞同：0
> 
> 时间：2012-04-25T06:20:36.337
> 
> 标签：iphone, multithreading

UIWebView 是否可以加载本地 html 页面，然后在一个线程中运行 javascript，并在主线程中显示该页面？像这样的伪代码：

```
bool refresh;
WebView* webView;
void main() {
    newThreadStarts();
    while(true) {
        if (refresh) {
            webView->Refresh();
        }
        // a lot of other time-consuming code go here
        sleep(1000);
    }
}

void newThreadLoop() {
    webView->Load();
    while(true) {
        evaluateJavaScript();
        sleep(1000);
    }
} 
```

ps：我是可可和iPhone开发的新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T23:36:45.710

没有 ：（

UIWebView 可以执行 javascript 的方式 - UIWebView stringByEvaluatingJavascriptFromString: - 必须在主线程上运行，否则您的应用程序将很快崩溃。

这里有一个类似的问题：[我可以在单独的线程中运行 UIWebView 吗？](https://stackoverflow.com/questions/11139509/can-i-run-a-uiwebview-in-a-seperate-thread)

# c++ - 我们可以在 C++/VC++ 中访问 ODB++ 文件（PCB）吗？

> ID：10310355
> 
> 赞同：0
> 
> 时间：2012-04-25T06:20:47.467
> 
> 标签：c++, visual-c++

我们可以在 C++/VC++ 中访问 ODB++ 文件吗？

PCB——印刷电路板制造数据库

以前有人做过吗？？互联网上有任何可访问/阅读此 ODB++ 的库文件？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T06:43:17.457

有一个用于 VC++ 的库来加载和处理 ODB++ 文件（以及其他一些文件，如 Gerber 或 IPC2581）。

看看来自[PCB-Investigator](http://www.pcb-investigator.com/sdk-participate)的 API 。

# c - DTMF Goertzel 算法不工作

> ID：10310362
> 
> 赞同：1
> 
> 时间：2012-04-25T06:21:32.080
> 
> 标签：c, dtmf

所以我正在打开一个我在大胆中生成的 DTMF 音调的 .raw 文件。我抓住了一个类似于维基百科文章中的罐头 goertzel 算法。它似乎没有解码正确的数字。

解码后的数字也会根据传递给算法的 NI 值而变化。据我了解，更高的 N 值可以提供更好的准确性，但不应该改变解码正确的数字？

这是代码，

```
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

double goertzel(short samples[], double freq, int N) 
{
double s_prev = 0.0;
double s_prev2 = 0.0;    
double coeff, normalizedfreq, power, s;
int i;
normalizedfreq = freq / 8000;
coeff = 2*cos(2*M_PI*normalizedfreq);
for (i=0; i<N; i++) 
{
    s = samples[i] + coeff * s_prev - s_prev2;
    s_prev2 = s_prev;
    s_prev = s;
}
power = s_prev2*s_prev2+s_prev*s_prev-coeff*s_prev*s_prev2;
return power;
}

int main()
{
FILE *fp = fopen("9.raw", "rb");
short *buffer;
float *sample;
int sample_size;
int file_size;
int i=0, x=0;

float frequency_row[] = {697, 770, 852, 941};
float frequency_col[] = {1209, 1336, 1477};
float magnitude_row[4];
float magnitude_col[4];

double result;

fseek(fp, 0, SEEK_END);
file_size = ftell(fp);
fseek(fp, 0, SEEK_SET);

buffer = malloc(file_size);

buffer[x] = getc(fp);
buffer[x] = buffer[x]<<8;
buffer[x] = buffer[x] | getc(fp);

while(!feof(fp))
{
    x++;
    buffer[x] = getc(fp);
    buffer[x] = buffer[x]<<8;
    buffer[x] = buffer[x] | getc(fp);
}

for(i=0; i<x; i++)
{
    //printf("%#x\n", (unsigned short)buffer[i]);
}
for(i=0; i<4; i++)
{
    magnitude_row[i] = goertzel(buffer, frequency_row[i], 8000);
}
for(i=0; i<3; i++)
{
    magnitude_col[i] = goertzel(buffer, frequency_col[i], 8000);
}

x=0;
for(i=0; i<4; i++)
{
    if(magnitude_row[i] > magnitude_row[x])
    x = i;
}
printf("Freq: %f\t Mag: %f\n", frequency_row[x], magnitude_row[x]);

x=0;
for(i=0; i<3; i++)
{
    if(magnitude_col[i] > magnitude_col[x])
    x = i;
}
printf("Freq: %f\t Mag: %f\n", frequency_col[x], magnitude_col[x]);
return 0;
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-26T08:22:12.973

该算法实际上很难使用，即使对于检测 DTMF 音调这样简单的事情也是如此。它实际上是一个有效的[带通滤波器](http://en.wikipedia.org/wiki/Band-pass_filter)——它挑选出以给定频率为中心的频带。这实际上是一件好事 - 您不能指望您的采样音与您尝试检测的频率*完全相同。*

棘手的部分是尝试设置滤波器的带宽 - 将被过滤以检测特定音调的频率范围有多宽。

[Wikipedia 页面](http://en.wikipedia.org/wiki/Goertzel_algorithm)上有关该主题的参考资料[之一](http://focus.ti.com/lit/an/spra168/spra168.pdf)（准确地说是这一参考资料）谈到了使用 DSP 中的 Goertzel 算法实现 DTMF 音调检测。C 的原理是相同的——要获得正确的带宽，您必须使用提供的常量的正确组合。显然没有简单的公式 - 论文提到必须使用[蛮力搜索](http://en.wikipedia.org/wiki/Brute-force_search)，并提供了以 8kHz 采样的 DTMF 频率的最佳常数列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T06:20:38.127

您确定 Audacity 生成的音频数据是大端格式吗？您正在以大端方式解释它，而如果您在 x86 上运行它，它们通常采用小端方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-08T21:16:38.313

这里有一些有趣的答案。首先，goertzel 实际上是一个“交感神经”振荡器。这意味着极点在 DSP 术语中的单位圆上。如果您在包含该检测器的预期音调（频率）的长数据块上运行代码，则内部变量 s、s_prev、s_prev2 将无限增长。这意味着您需要运行一种集成转储过程才能获得结果。如果您一次运行大约 105 到 110 个样本，goertzel 最适合区分 DTMF 数字。因此，设置 N = 110 并在运行数据时反复调用 goertzel。顺便说一句，真正的 DTMF 数字可能只持续 60 毫秒，如果您发现超过 40 毫秒，您应该报告它们的存在。想想我提到的 110 个样本，意味着一个调用涵盖 110/8000 = 13.75 毫秒。如果您非常幸运，那么您将看到对检测器的 4 次连续迭代调用的正输出。在过去，我发现以交错的开始时间并行运行一对检测器，可以更好地覆盖非常短的音调。

# c# - 如何从另一个参数的泛型参数类型推断泛型类型

> ID：10310363
> 
> 赞同：0
> 
> 时间：2012-04-25T06:21:32.983
> 
> 标签：c#, generics

*MVC 与我的问题无关。不要对这个例子感到困惑。它是一个纯 C# 问题*

*问题的标题并不能很好地解释我认为的问题。*

* * *

假设，我有一些实体类的基类，称为`EntityBase`

有些课程就像

```
class Entity1 : EntityBase
class Entity2 : EntityBase 
```

我有一个抽象的存储库，可以处理实体的基本操作。声明是：

```
abstract class RepositoryBase<TEntity> where TEntity : EntityBase 
```

并且这个类有几种实现

```
class Repository1 : RepositoryBase<Entity1>
class Repository2 : RepositoryBase<Entity2> 
```

现在有一些带有基础的控制器：

```
public abstract class RepositoryControllerBase<TRepository, TEntity> 
        where TRepository : RepositoryBase<TEntity>
        where TEntity : EntityBase 
```

实现就像

```
class Controller1 : RepositoryControllerBase<Repository1, Entity1>
class Controller2 : RepositoryControllerBase<Repository2, Entity2> 
```

现在，您一定已经注意到，当控制器中的存储库类型为 时`Repository1`，实体类型必须为`Entity1`。否则会出现编译错误。

所以，我认为有一种方法可以跳过第二种泛型类型并自动推断出那个。我只是不知道怎么做。有什么建议么？

`?`也许，如果它是 Java ，这个问题可以很容易地解决。将 ControllerBase 声明替换为

```
public abstract class RepositoryControllerBase<TRepository> 
            where TRepository : RepositoryBase<?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:23:37.380

没有约束类型推断是有原因的：http: [//blogs.msdn.com/b/ericlippert/archive/2012/03/09/why-not-automatically-infer-constraints.aspx](http://blogs.msdn.com/b/ericlippert/archive/2012/03/09/why-not-automatically-infer-constraints.aspx)

此外，您的想法的明显反例是使用接口：

```
interface IEntity1 : IEntityBase {}
interface IEntity2 : IEntityBase {}

interface IRepositoryBase<TEntity> where TEntity : class, IEntityBase {}

class Repository1 : RepositoryBase<IEntity1> {}
class Repository2 : RepositoryBase<IEntity2> {}
class Repository12 : IRepositoryBase<IEntity1>, IRepositoryBase<IEntity2> {}

public abstract class RepositoryControllerBase<TRepository, TEntity> 
    where TRepository : RepositoryBase<TEntity>
    where TEntity : IEntityBase {}

class Controller1 : RepositoryControllerBase<Repository1, Entity1>
class Controller2 : RepositoryControllerBase<Repository2, Entity2>
class Controller12 : RepositoryControllerBase<Repository12, Entity1> 
```

如果没有在定义中指定`Entity1`类型参数，`Controller12`编译器应该检查什么？

# android - 如何配置安卓服务？

> ID：10310369
> 
> 赞同：1
> 
> 时间：2012-04-25T06:22:14.487
> 
> 标签：android, android-service

我有一个 android 服务正在运行。当我转到设置-应用程序-运行服务-XYZ 服务并单击 XYZ 服务时，它要求我使用停止和取消按钮停止服务。在这里，我想在单击 XYZ 服务时有一些选项。请让我知道如何做到这一点？谢谢

# haskell - eta减少什么时候可以改变函数的类型？

> ID：10310374
> 
> 赞同：6
> 
> 时间：2012-04-25T06:22:35.033
> 
> 标签：haskell, typeclass, pointfree

以下到底是怎么回事？

```
> let test = map show

> :t test
test :: [()] -> [String]

> :t (map show)
(map show) :: Show a => [a] -> [String] 
```

我想知道我以前怎么没注意到这一点？我实际上遇到了“map fromIntegral”而不是 show 的问题——我的代码不能用无点形式编译，但在没有 eta 减少的情况下可以正常工作。

是否有一个简单的解释 eta 减少何时可以改变 Haskell 代码的含义？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-25T06:27:08.203

这是[单态限制](http://www.haskell.org/haskellwiki/Monomorphism_restriction)，它适用于绑定不接受参数并允许绑定在其他情况下不是由于多态性而可共享的情况，理论上如果你不给它一个你想要的参数将其视为“恒定”的东西（因此共享）。您可以`ghci`使用`:set -XNoMonomorphismRestriction`;禁用它 这在 中通常很有用`ghci`，您通常希望此类表达式完全多态。（在 Haskell 源文件中，使第一行

```
 {-# LANGUAGE NoMonomorphismRestriction #-} 
```

反而。）

# mongodb - 玩！框架 1.2.4 - 从 morphia 立即保存

> ID：10310375
> 
> 赞同：3
> 
> 时间：2012-04-25T06:22:38.713
> 
> 标签：mongodb, selenium, playframework, morphia, playframework-1.x

我编写了 selenium 测试，即运行时更改对象 mongodb 的属性（使用 morphia 的 save 方法），然后检查此属性是否更改。但结果变量并没有发生。如何立即储蓄？

```
%{
    // load models
    // deleted = true
}%

#{selenium}            
    click('link=Delete')
    <!--                 
    SomeClass someObj = SomeClass.findById(id);
    someObj.deleted = true;
    someObj.save();
    -->
#{/selenium}

%{
    models.SomeClass someObj2 = models.SomeClass.find("fieldName", "fieldValue").get();
    boolean expectedStatus = someObj2.deleted;
    org.junit.Assert.assertTrue(expectedStatus);
}% 
```

Save 方法在测试期间不会更改 MongoDB 中的值。测试结束后保存工作。这是个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T13:47:25.463

在这里使用`WriteConcern`。在执行写入操作（在您的情况下为删除）时，您可以指定“写入关注点”以告诉系统您希望仅在数据（例如）已刷新到磁盘并复制到 X 时才认为写入完成奴隶。这里是 Morphia 的一个例子：

```
morpiaDao.delete(company, new WriteConcern(true)); 
```

# iphone - sqlite3_prepare_v2 出现错误

> ID：10310385
> 
> 赞同：2
> 
> 时间：2012-04-25T06:23:27.577
> 
> 标签：iphone, ios, sqlite, xcode4

我正在创建一个应用程序，并使用 sqlite 进行更新。这是我在下面给出的一段代码：

```
 NSFileManager *fileMgr = [NSFileManager defaultManager];
    NSString *dbPath = [[[NSBundle mainBundle] resourcePath ]stringByAppendingPathComponent:@"appforoffice.sqlite"];
    BOOL success = [fileMgr fileExistsAtPath:dbPath];
    if(!success)
    {
        NSLog(@"Cannot locate database file '%@'.", dbPath);
    }
    if(!(sqlite3_open([dbPath UTF8String], &database) == SQLITE_OK))
    {
        NSLog(@"An error has occured.");
    }

    const char *sql = "UPDATE settings SET `value`='Off' WHERE `type`=?";
if(sqlite3_prepare_v2(database, sql, -1, &updateStmt, NULL) == SQLITE_OK)
    {
        if(sqlite3_bind_text(updateStmt, 1, [updateType UTF8String], -1, SQLITE_TRANSIENT) == SQLITE_OK)
        {
            if(sqlite3_step(updateStmt) == SQLITE_DONE) {
                NSLog(@"Update Done successfuly");
            }
            else {
                 NSLog(@"Error while updating. '%s'", sqlite3_errmsg(database));
            }

            sqlite3_finalize(updateStmt);
            sqlite3_close(database);
        }
        else
        {
            NSLog(@"Error while binding variable. '%s'", sqlite3_errmsg(database));
        }
    }
    else
    {
        NSLog(@"Error while creating update statement. '%s'", sqlite3_errmsg(database));
    } 
```

但是伙计们，**我没有收到任何错误**。但问题是，**数据库表不受查询的影响**。我确信查询完全没问题。

我对这个问题感到困惑，找不到任何办法摆脱这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:31:48.547

`sqlite3_prepare_v2()`不返回布尔值，所以用它测试它的返回值`!`是错误的。从[参考](http://www.sqlite.org/capi3ref.html#sqlite3_prepare)：

> 成功时，sqlite3_prepare() 系列例程返回 SQLITE_OK；否则返回错误代码。

所以你的代码应该看起来更像这样：

```
if (sqlite3_prepare_v2(database, sql, -1, &updateStmt, NULL) == SQLITE_OK)
{
    if (sqlite3_bind_text(updateStmt, 1, [updateType UTF8String], -1,
        SQLITE_TRANSIENT) == SQLITE_OK)
    {
        ... call update API ...
    }
    else
    {
        NSLog(@"Error while binding variable. '%s'", sqlite3_errmsg(database));
    }
}
else
{
    NSLog(@"Error while creating update statement. '%s'", sqlite3_errmsg(database));
} 
```

**编辑**（在使用整个查询更新问题后）：

我不喜欢查询中 ` 字符的外观；删除它们，它*应该可以*工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:02:07.363

我更喜欢直接使用 sql 命令，而不需要任何准备或绑定方法

```
sqlite3_exec(database,[sql UTF8String],nil,nil,nil); 
```

其中 sql 是具有更新语句的 NSString ，只需确保您的数据库已打开

希望有帮助

# iphone - 在 UIWebView 上具有大图像尺寸的 img src 需要时间来加载并且有时会崩溃

> ID：10310392
> 
> 赞同：4
> 
> 时间：2012-04-25T06:23:52.143
> 
> 标签：iphone, html, image, uiwebview

我在 UIWebview 上显示 html 字符串，并且 html 字符串来自服务器。

在我从服务器检索到的 html 中，有 10 张带有 src 属性的大尺寸图像。这些图像的总大小超过 4 MB。当我将此 html 字符串加载到 UIWebview 中时，应用程序有时需要 4 分钟才能加载图像，有时它会崩溃。

我想知道，是否有任何解决方案可以`<img src..>`标记我可以制作缩略图的地方。

任何回应将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-04T11:30:04.147

您应该能够通过 java/html5 在服务器端找出您的客户端是什么浏览器以及它具有哪些功能。在这样做时，服务器可以确定适当的图像大小以发送给客户端。

我的公司已经成功地实现了这一点，iPhone 和 Android 客户端检索尺寸更小的图像，而不是笔记本电脑上的浏览器接收更大的图像。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-03T21:03:42.040

分配的大块内存可以在系统负载重（通过保护）时从跳板触发 sigkill 9，即使您没有重叠为任何单个应用程序运行提供的 46MB。

1.  最好的方法是一次加载一张图像。
2.  对于每个单独的图像，创建一个较小的版本。
3.  释放当前加载的大图像，因为您有一个较小的版本。
4.  下次再做一次，依此类推。

您将减少大负载的影响。

[Nimbus 框架](http://latest.docs.nimbuskit.info/group___nimbus_network_image.html "Nimbus 框架")正在以这种方式进行图像下载和调整大小。看一看。

对于 UIWebview，我不确定你能做什么。由于您在显示 HTML 之前获得了 HTML，因此您也许可以 grep`<img>`标签并创建这些缩略图，将它们存储到 iPhone，用您的缩略图的本地 URL替换`src`原始标签的路径。`<img>`

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-04-27T17:02:59.297

在 UIWebView 中解压缩时，您使用的设备可能不支持 4MB 图像。

您使用的是哪种设备？

4 分钟加载 4 张图片是很长的时间。你的网络很差吗？否则，它可能是错误方法的另一个指标。

作为您，我将尝试使用本机`UIImageView`来显示图像并执行某种排队下载，也许使用[ASIHTTP](https://github.com/pokeb/asi-http-request)。

因此，您可以在需要时加载和卸载图像，并将它们始终保存在内存中。

正如 Jojas 所指出的，我仍然认为答案是正确的，因为`UIWevView` [渲染 DOM 元素会消耗内存](https://stackoverflow.com/questions/3439728/uiwebview-size-limit)。

# ghostscript - 我想通过 Ghostscript 9.05 命令提示符查看 .ps 文件

> ID：10310397
> 
> 赞同：3
> 
> 时间：2012-04-25T06:25:07.520
> 
> 标签：ghostscript, postscript

我的桌面上有一个文件 abc.ps。我已经在我的机器上安装了 Ghostscript 9.05，我想使用命令行查看我的 abc.ps 文件。

```
GS>????? 
```

我应该在这里写什么命令。我正在使用 Windows 7。

exe文件位置：C:\Program Files\gs\gs9.05\bin

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T06:31:27.157

从[Ghostscript 文档](https://www.ghostscript.com/doc)：

```
GS> (c:/gs3.53/example.ps) 
```

就像您使用正斜杠而不是反斜杠一样。例如，如果您的 Windows 用户名是 Ankit，您将输入：

```
GS> (c:/Users/Ankit/Desktop/abc.ps) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-25T09:59:31.133

您可以通过运行如下命令来避免交互式`GS>`命令提示符：

```
gswin32c.exe -sDEVICE=display c:/Users/Ankit/Desktop/abc.ps 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-02T22:02:23.090

安装Ghostscript后下载安装Ghostview，它是Ghostscript的GUI界面：

[http://pages.cs.wisc.edu/~ghost/gsview/get50.htm](http://pages.cs.wisc.edu/~ghost/gsview/get50.htm)

注意：确保下载相同的架构。即，如果您下载并安装了 64 位 Ghostscript，请确保您还下载并安装了 64 位 Ghostview。

# python - 我可以使用 curl 测试接收电子邮件吗

> ID：10310399
> 
> 赞同：0
> 
> 时间：2012-04-25T06:25:08.300
> 
> 标签：python, google-app-engine

我想要一种自动化的方式来测试我的应用程序如何处理带有附件的电子邮件。

首先，我修改了我的应用程序（在 App Engine 上）以记录收到消息的请求正文的内容（通过 apppotmail 发送）。我将这些内容复制到一个名为 test_mail.txt 的文件中

我想我可以发布这个文件来模仿入站邮件测试器，就像这样。

```
curl --header "Content-Type:message/rfc822" -X POST -d @test_mail.txt http://localhost:8080/_ah/mail/test@example.com 
```

每当我这样做时，消息都没有正确实例化，并且当我引用任何标准属性时都会出现异常。

我在使用 curl 时遗漏了什么？

我使用 _ah/admin/inboundmail 发布的更简单的电子邮件遇到了同样的问题

```
MIME-Version: 1.0
Date: Wed, 25 Apr 2012 15:50:06 +1000
From: test@example.com
To: test@example.com
Subject: Hello
Content-Type: multipart/alternative; boundary=cRtRRiD-6434410

--cRtRRiD-6434410
Content-Type: text/plain; charset=UTF-8

There
--cRtRRiD-6434410
Content-Type: text/html; charset=UTF-8

There
--cRtRRiD-6434410-- 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T16:00:44.300

尝试`--data-binary`而不是`-d`作为输入文件的标志。当我尝试使用您的标志时，看起来 curl 从输入文件中删除了回车符，这意味着 MIME 解析器在 POST 数据上阻塞。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:53:14.483

黑色的，

我注意到你的程序是用 python 编写的？为什么不使用twisted 创建一个小型的smtp 客户端？

这里有一些例子..

[http://twistedmatrix.com/documents/current/mail/tutorial/smtpclient/smtpclient.html](http://twistedmatrix.com/documents/current/mail/tutorial/smtpclient/smtpclient.html)

# c# - 从 Visual Studio 将 Dll 添加到 Subversion

> ID：10310408
> 
> 赞同：1
> 
> 时间：2012-04-25T06:26:05.493
> 
> 标签：c#, asp.net, .net, svn, tortoisesvn

尽管我以前使用过 TFS，但我是 SVN 的新手。我在 VS 2010 中有 ASP.Net 项目。我需要将 AjaxControlToolkit dll 添加到项目中。添加此 dll 后，我尝试在 VS2010 中使用 Subversion 提交更改。项目文件出现在要提交的项目列表中；但是没有列出新添加的dll。我如何也可以签入新添加的 dll？

注意：我正在寻找一种涉及用户界面操作的方法；不是命令。我正在使用乌龟 SVN

注意：BIN 文件夹有问号。dll也被添加到其中。那么，我应该检查 BIN 吗？BIN文件夹内的dll文件也没有问号

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-25T06:43:23.760

以下是一些建议：

在您的项目根文件夹中创建一个“ExternalDlls”文件夹。将外部 dll（如 AjaxControlToolkit.dll）放在此 ExternalDlls 文件夹中。使用 TortoiseSVN 的 Add 将这个文件夹添加到 SVN 中。

现在从 Visual Studio 中添加对外部 dll 的引用。您应该能够右键单击“参考”文件夹并添加参考。将有一个“浏览”文件系统的选项。浏览到“ExternalDlls”文件夹并找到要添加的 dll，在本例中为 AjaxControlToolkit.dll。选择 dll 并将其添加到引用中。

好的 - 现在您应该将 DLL 添加到您的引用中，并且准备好提交到 SVN 的 ExternalDlls 文件夹！

一个建议：如果您正在寻找 Visual Studio SVN 集成，请查看[ankhsvn 。](http://ankhsvn.open.collab.net/)您也可以查看[VisualSVN](http://www.visualsvn.com/visualsvn/)，但您必须为此付费。这些是方便的好工具，可让您直接从 Visual Studio 处理 SVN 操作。VisualSVN 很聪明，不会添加不必要的文件。

# java - 每天运行一次计划任务

> ID：10310411
> 
> 赞同：2
> 
> 时间：2012-04-25T06:27:03.487
> 
> 标签：java

我的要求是我想安排一个每天运行一次的任务。为此，我使用以下代码：

```
public class setAutoReminder {
    EscalationDAO escalationDAO=new EscalationDAO();
    final  SendMail sendMail=new SendMail();
    public void fetch(){
        Date date=new Date();
        Timer timer = new Timer();

        timer.schedule(new TimerTask(){
            public void run(){
                int number=escalationDAO.getAutoReminder();
                System.out.println(number);
                if(number>0) {
                    sendMail.sendMail();
                }
            }
        },date, 1000000000);
    }
} 
```

但是这段代码运行多次。我希望它每天运行一次。我该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T07:00:10.903

如果你没有很多预定的工作，那么不要添加所有的 Spring 包袱。把事情简单化。

```
Date date=new Date();
Timer timer = new Timer();

timer.schedule(new TimerTask(){
     public void run(){
          System.out.println("Im Running..."+new Date());
     }
},date, 24*60*60*1000);//24*60*60*1000 add 24 hours delay between job executions. 
```

这会做的事情。

-湿婆

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-25T06:37:10.120

使用 Spring（使用 lombok `@Slf4j`）：

```
@Slf4j
@Component
public class SetAutoReminder 
{
    @Autowired
    private EscalationDAO escalationDAO;

    @Autowired
    private SendMail sendMail;

    @Scheduled(cron = "0 0 0 * * *") // everyday at midnight
    public void fetch(){
        final int number = escalationDAO.getAutoReminder();
        log.debug("Today number: {}", number);
        if (number>0) {
           sendMail.sendMail();
        }
    }
} 
```

spring调度教程：[springsource博客](http://blog.springsource.org/2010/01/05/task-scheduling-simplifications-in-spring-3-0/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:31:16.670

你需要一个调度器，比如[Quartz Scheduler](http://quartz-scheduler.org/)

# magento - Mage.php 中 __toString() 的 Magento 致命错误

> ID：10310415
> 
> 赞同：2
> 
> 时间：2012-04-25T06:27:17.807
> 
> 标签：magento

**致命错误：在 /home/ **/public_html/**** /app/Mage.php中的非对象上调用成员函数 __toString() 在第 764 行及以下是接近 764 行的代码

```
 public static function logException(Exception $e)
{
    if (!self::getConfig()) {
        return;
    }
    $file = self::getStoreConfig('dev/log/exception_file');
    self::log("\n" . $e->__toString(), Zend_Log::ERR, $file);
} 
```

它显示致命错误的任何原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T03:52:44.143

异常 $e 是字符串。它没有 __toString() 函数。

您可以尝试：

```
print_r($e); 
```

或者

```
var_dump($e); 
```

或者

```
$e->getMessage(); 
```

^^

# c++ - 如果前一个字符是指定字符，则从字符串中删除字符

> ID：10310417
> 
> 赞同：-1
> 
> 时间：2012-04-25T06:27:20.570
> 
> 标签：c++, replace

如果我有这样的字符串：

> asdasda=1lsdn=sdf=3dfsdf=-sadf=adfgh=1fbfg=fgfg

如果 1）它出现在一个字符之后，`=`并且 2）该字符不是字母，那么删除字符的最快方法是什么。

在这种情况下，函数的 o/p 将是：

> asdasda=lsdn=sdf=dfsdf=sadf=adfgh=fbfg=fgfg

我正在用 C++ 编码。

这是我到目前为止所拥有的

> ```
> std::string b = "asdasda=1lsdn=sdf=3dfsdf=-sadf= adfgh=1fbfg=fgfg";
> int a= 1;
> while(a != 0){ 
>     a = b.find('=', a);
>     a++;
>     if(!isalpha(b[a])){
>         b.erase(a,1);
>     }   
> }   
> std::cout << b << std::endl; 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:35:48.717

最重要的是执行循环并只复制每个字符一次。

所以不要试图一个一个地删除每个字符（并移动它之后的所有字符）。

在您的字符串中保留 2 个指针：

*   一个指向最后一个有效/存储的字符
*   一个指向您要检查的下一个字符

初始化都指向第一个字符。

检查第二个指针处的字符：

*   如果是正常字符，不删除，放在第一个指针的位置（如果指针仍然不相同），增加第一个和第二个指针。
*   如果是要删除的字符，只需增加第二个指针

最后，一定要写一个终结符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:16:26.887

我不是 C++ 开发人员，但我对 C++ 了解多少，我认为解决您的问题的最佳方法是。

```
std::string s("asdasda=1lsdn=sdf=3dfsdf=-sadf=adfgh=1fbfg=fgfg");
std::string::size_type k = 0;
/*erase character after =*/ 
while((k=s.find('=',k))!=s.npos) {
   s.erase(k+1, 1);
}

/*erase numeric*/
for(i=0;i<=9;i++) {
 std::string::size_type n = 0;
 while((n=s.find(i,n))!=s.npos) {
   s.erase(n, 1);
} 
```

}

代码中可能存在语法错误，请在使用前检查此代码。

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:42:27.787

您应该认真尝试编码.. 但无论如何您都可以将其用作开始的参考。

```
#include <stdio.h>
#include <ctype.h>

void remove_non_alpha(char *s)
{ 
    int i=0, j=0;

    while(s[i]) {
        if (isalpha(s[i])) {
            s[j++] = s[i];
        }
        i++;
    }

    s[j] = '\0';

    return;
}

void remove_after(char *s, char c)
{
    int i=0, j=0;

    while(s[i]) {
        if (s[i] == c) {
            s[j++] = s[i++];
            if (s[i] == '\0') break;
        } else { 
            s[j++] = s[i];
        }
        i++;
    }

    s[j] = '\0';

    return;
}

int main()
{
    char a[] = "asdasda=1lsdn=sdf=3dfsdf=-sadf= adfgh=1fbfg=fgfg";
    char b[] = "asdasda=1lsdn=sdf=3dfsdf=-sadf= adfgh=1fbfg=fgfg";

    printf("sample string: %s \n", a);
    remove_after(a, '=');
    printf("final string : %s \n", a);

    printf("sample string: %s \n", b);
    remove_non_alpha(b);
    printf("final string : %s \n", b);

    return 0;
} 
```

输出如下：

```
$ gcc remove.c 
$ ./a.out 
sample string: asdasda=1lsdn=sdf=3dfsdf=-sadf= adfgh=1fbfg=fgfg 
final string : asdasda=lsdn=df=dfsdf=sadf=adfgh=fbfg=gfg 
sample string: asdasda=1lsdn=sdf=3dfsdf=-sadf= adfgh=1fbfg=fgfg 
final string : asdasdalsdnsdfdfsdfsadfadfghfbfgfgfg 
$ 
```

我已经给你`C`程序了。现在，尝试`C++`使用`STL`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T08:35:23.570

最简单的方法是使用算法中的函数，返回结果：

```
std::string
eraseAfterEq( std::string const& original )
{
    std::string results;
    std::string::const_iterator current = original.begin();
    std::string::const_iterator next = std::find( current, original.end(), '=' );
    while ( next != original.end() ) {
        ++ next;
        results.append( current, next );
        current = std::find_if( next, original.end(), IsAlpha() );
        next = std::find( current, original.end(), '=' );
    }
    results.append( current, next );
    return results;
} 
```

或者，如果您想就地修改字符串：

```
void
eraseAfterEq( std::string& original )
{
    std::string::iterator current = std::find( original.begin(), original.end(), '=' );
    while ( current != original.end() ) {
        ++ current;
        std::string::iterator next = std::find_if( current, original.end(), IsAlpha() );
        current = std::find( original.erase( current, next ), original.end(), '=' );
    }
} 
```

在这两种情况下，`IsAlpha`都是一个功能对象，应该在您的工具箱中：

```
template <std::ctype_base::mask m>
class Is : public std::unary_function<char, bool>
{
    std::locale myLocale;    //  To ensure lifetime of facet...
    std::ctype<char> const* myCType;
public:
    Is( std::locale const& locale = std::locale() )
        : myLocale( locale )
        , myCType( &std::use_facet<std::ctype<char> >( myLocale ) )
    {
    }
    bool operator()( char toTest ) const
    {
        return myCType->is( m, toTest );
    }
};

typedef Is<std::ctype_base::alpha> IsAlpha;
//  ... 
```

我通常会选择功能版本。如果速度不够快，您可以尝试另一个。它可能会更快，因为它永远不必分配新内存。（或者它可能会更慢，因为它复制更多。对于您的示例字符串，复制可能比分配便宜，但这将取决于实际数据、编译器和您正在使用的系统。 )

`IsAlpha`如果您不需要语言环境支持，或者您可以确定 您`locale`正在使用的 . C 版本（in `<ctype.h>`）`isalpha`通常也更快（只是不要忘记你不能`char` 直接传递它 a ——你必须先传递`static_cast`它`unsigned char`）。或者，您可以尝试使用`std::ctype::scan_is`而不是`std::find_if`; 但是，使用它需要一些黑客攻击，因为它只支持`char const*`: 如果我走这条路，我可能会使用和作为`char const*`我的迭代器和。（ 界面设计得特别差。）`&original[0]``&original[0] + original.size()``begin()``end()``std::locale`

如果没有实际的实验和测量，我无法告诉你哪种解决方案最快。即使在实验和测量之后，我也只能告诉你哪个在我的机器上最快，并且在我进行测量的确切环境中。它可能不是您机器上最快的。只需使用两个简单版本中最合适的一个，在需要之前不要担心性能。

# javascript - Eclipse：类型不匹配：无法从 String[] 转换为任何

> ID：10310418
> 
> 赞同：18
> 
> 时间：2012-04-25T06:27:21.397
> 
> 标签：javascript, eclipse

Eclipse 抱怨我的 JavaScript 代码：

![在此处输入图像描述](../Images/640d8ecb04e0d3cbb626bc308da2b745.png)

据我所知，代码运行良好。我必须改变什么才能摆脱警告？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-09-18T18:11:23.073

语义验证器（尽管它失败了，比如这个）实际上有很多用途。例如，它可以告诉您何时有一个没有在任何地方使用的变量（例如，因为您在变量名中有错字）。

如果您不想看到该错误消息，但仍想保持语义验证，则可以使用此 hack：

```
var textArray = 0 || [ ... 
```

它有点难看，你的非 Eclipse 使用的同事可能不喜欢它，但至少它给了你一种方法来放弃警告并且仍然拥有验证器的好处。

一个类似的 hack（如果你不喜欢第一个，或者如果你是 Douglas Crockford 的忠实粉丝）也可以：

```
var textArray;
textArray = [ ... 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-04-25T07:39:34.040

似乎是 WTP 的错误，更具体地说是 JS Validator 组件的错误，默认配置为“启用 JavaScript 语义验证”。

尝试从首选项页面关闭语义验证。

# sql - sql中整数到字符串的转换函数

> ID：10310424
> 
> 赞同：3
> 
> 时间：2012-04-25T06:28:06.193
> 
> 标签：sql, sql-server

我有一个数字如下： 13901210 我希望输出给出以下结果 1390/12/10

输入函数：多个bigint 输出：一个字符串

如何创建此功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-21T12:12:17.050

我想知道为什么没有人建议这个简单查询

```
declare @input bigint=13901210

select REPLACE(Convert(varchar,Convert(date,CONVERT(varchar,@input))),'-','/') 
```

**[SQL小提琴](http://www.sqlfiddle.com/#!3/d41d8/13941)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-22T04:52:14.777

```
DECLARE @integer int = 13901210;
DECLARE @part1 int = @integer / 10000;
DECLARE @part2 int = (@integer - @integer / 10000 * 10000) / 100;
DECLARE @part3 int = @integer - @integer / 100 * 100;

DECLARE @result char(10) =
   CAST(@part1 AS char(4)) + '/'
 + CAST(@part2 AS char(2)) + '/'
 + CAST(@part3 AS char(2))

SELECT Part1 = @part1, Part2 = @part2, Part3 = @part3, Result = @result;
GO 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:42:35.320

如果您不想对值进行子字符串化，则可以执行以下操作：

```
DECLARE @nbr INT=13901210
SELECT 
    LEFT(@nbr,4)+'/'+
    SUBSTRING(CAST(@nbr AS VARCHAR(10)),5,2)+'/'+
    RIGHT(@nbr,2) 
```

然后函数看起来像这样：

```
CREATE FUNCTION [dbo].[GetDateFormatForInt] (@nbr int)
RETURNS varchar(10)
AS
BEGIN
RETURN
    LEFT(@nbr,4)+'/'+
    SUBSTRING(CAST(@nbr AS VARCHAR(10)),5,2)+'/'+
    RIGHT(@nbr,2);
END 
```

这仅适用于 10 位数字

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T06:50:00.100

这也适用于我：

```
 CREATE PROCEDURE getdatestr
    @result nvarchar(12) output,
    @info bigint 
    AS
    BEGIN
    SET @result=(SELECT LEFT(CAST(@info AS VARCHAR(8)),4)+'/'+
    SUBSTRING(CAST(@info AS VARCHAR(8)),5,2)+'/'+
    RIGHT(CAST(@info AS VARCHAR(8)),2))
    RETURN @result
    END
    GO 
```

除了 LEFT、RIGHT 返回 nvarchar 和 SUBSTRING 返回字符串 :) 无论如何尝试它...它提供相同的输出，如果你对它没问题，那么它很容易获得。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T06:31:24.047

你可以试试这个查询：

```
SELECT SUBSTRING(CAST(13901210 AS varchar(8)), 1,4) + '/' + SUBSTRING(CAST(13901210 AS varchar(8)), 5,2) + '/' + SUBSTRING(CAST(13901210 AS varchar(8)), 7,2) 
```

只需将值替换为您拥有的任何字段/变量以及存储的数字

完整的功能如下所示：

```
CREATE FUNCTION [dbo].[int_to_slashed_string] ( @value int )
RETURNS varchar(10)
AS
BEGIN
DECLARE @string varchar(8);
SET @string = CAST(@value AS varchar(8));
RETURN SUBSTRING(@string, 1,4)
    + '/' + SUBSTRING(@string, 5,2)
    + '/' + SUBSTRING(@string, 7,2);
END 
```

此函数假定该值包含 8 位数字。如果有其他限制或条件，则必须修改该功能。

# android - 单击状态栏中的通知消息后通知服务不起作用

> ID：10310425
> 
> 赞同：0
> 
> 时间：2012-04-25T06:28:19.557
> 
> 标签：android, notifications

我参考了以下链接来研究 Android 中通知服务的演示示例：[Sai Geetha 博客](http://saigeethamn.blogspot.in/2009/09/android-developer-tutorial-for.html)和[Vogella 教程](http://www.vogella.com/articles/AndroidNotifications/article.html#notificationmanager_example)。

两者都有效但部分有效，即我已经按原样下载了两个项目并执行了它们。两者都有按钮来启动通知。On Button Click 通知出现在顶部状态栏。

问题来了，单击该通知时，既没有显示任何消息，也没有触发意图导航到新活动。

我是这个概念的新手，所以任何帮助表示赞赏......

## 编辑

**创建通知.class**

```
public class CreateNotification extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
    }

    public void createNotification(View view) {
        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
        final int UNIQUE_ID = 123458;
        Intent navigationIntent = new Intent();
        navigationIntent.setClass(CreateNotification.this,
                NotificationReceiver.class);

        PendingIntent pi = PendingIntent.getActivity(this, 0, navigationIntent,
                0);
        String body = "New Notification added!!!";
        String title = "Title";
        Notification n = new Notification(R.drawable.ic_launcher, body,
                System.currentTimeMillis());
        n.number = 2;
        n.setLatestEventInfo(this, title, body, pi);
        n.defaults = Notification.DEFAULT_ALL;
        nm.notify(UNIQUE_ID, n);
    }
} 
```

* * *

**NotificationReceiver.class**

```
public class NotificationReceiver extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.result);
        Log.i("Receiver", "NotificationReceiver");
    }
} 
```

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <Button
        android:id="@+id/button1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:onClick="createNotification"
        android:text="Create Notification" >
    </Button>

</LinearLayout> 
```

**结果.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="This is the result activity opened from the notification" >
    </TextView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:44:33.737

看一下这个

```
 public static NotificationManager nm;
public static final int UNIQUE_ID = 123458;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.newone);
    createNotification();

}
public void createNotification() {
    NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    final int UNIQUE_ID = 123458;
    Intent navigationIntent = new Intent();
    navigationIntent.setClass(NEWAct.this,
            TestActivity.class);
    navigationIntent.putExtra("selected_tab", "more");

    PendingIntent pi = PendingIntent.getActivity(this, 0, navigationIntent,
            0);
    String body = "New Notification added!!!";
    String title = "Title";
    Notification n = new Notification(R.drawable.ic_launcher, body,
            System.currentTimeMillis());
    n.number = 2;
    n.setLatestEventInfo(this, title, body, pi);
    n.defaults = Notification.DEFAULT_ALL;
    nm.notify(UNIQUE_ID, n);
} 
```

活动启动后，您必须使用 id(UNIQUE_ID) 取消该通知

```
 try {
        nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
        nm.cancel(UNIQUE_ID);
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

# python - Python。这个表达式实际上是做什么的？

> ID：10310428
> 
> 赞同：0
> 
> 时间：2012-04-25T06:28:26.810
> 
> 标签：python, lambda

```
[f for f in (lambda x: x, lambda x: x**2) if f(1) == 1] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:30:08.933

它创建一个列表，其中包含`(lambda x: x, lambda x: x**2)`为参数“1”返回“1”的每个函数。

当然，他们都这样做，所以这个表达有点没用。你在哪里看到的？

# android - 如何将葡萄牙语设置为 TTS 引擎？

> ID：10310429
> 
> 赞同：1
> 
> 时间：2012-04-25T06:28:29.267
> 
> 标签：android

我有一个简单的应用程序，它根据应用程序中设置的语言进行宣布。我的设备也支持葡萄牙语，但是当我将 TTS 中的语言设置为葡萄牙语时

```
int result = mTts.setLanguage(new Locale("pt"); 
```

总是返回 -2 表示不支持语言，但是当我在设备的

> 设置->语言和键盘->选择语言

它的语言是葡萄牙语（葡萄牙）。

注意：设备的语言只有英语，我只是将应用程序语言设置为葡萄牙语。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T08:45:06.823

Android 操作系统和 Android TTS 引擎的语言支持是两个不同的东西。[Android 开发者 API](http://developer.android.com/resources/articles/tts.html)声明TTS 仅支持英语、法语、德语、意大利语和西班牙语。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-31T10:48:10.940

这个问题已经很老了，从那时起，谷歌就推出了 TTS 引擎的巨大更新。现在，包括葡萄牙语（巴西）语音。

在我的应用程序中，我使用：

```
 mTts.setLanguage(new Locale("pt", "POR")); 
```

我看到设备下载了葡萄牙语语音（女性）的数据，口音对我来说非常好。

# android - 为两种布局中的任何一种启用不同的逻辑

> ID：10310435
> 
> 赞同：0
> 
> 时间：2012-04-25T06:29:11.397
> 
> 标签：android

我有几个针对不同屏幕尺寸的标记。在同一个活动中，比如视频，我必须在一种情况下使用 ListView 元素，在另一种情况下使用 GridView 元素。基本上，关于布局，我必须在这两个组件中的任何一个的逻辑之间切换。实现它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:33:43.673

在 res 文件夹中创建布局文件夹并将它们命名为

```
layout-xlarge for screens are at least 960dp x 720dp
layout-large  for screens are at least 640dp x 480dp
layuot-normal for screens are at least 470dp x 320dp
layout-small  for screens are at least 426dp x 320dp 
```

不需要逻辑...... android会自动检测，如果你想检测设备的特定尺寸，你可以尝试这样..

```
 Display display = getWindowManager().getDefaultDisplay();
Point size = new Point();
display.getSize(size);
int width = size.x;
int height = size.y; 
```

# javascript - 创建一个带有在页面中声明的变量的 javascript 小书签

> ID：10310436
> 
> 赞同：0
> 
> 时间：2012-04-25T06:29:24.817
> 
> 标签：javascript

js 的绝对新手，作为免责声明。

存在一个页面，其中声明了变量，例如：

```
c="hello"
cd="12345" 
```

和一个 php 查看脚本，该脚本使图像只能“访问”（否则它隐藏在 Flash 层下）由加载的 swf 进行：

```
 ((("view.php?cid=" + c) + "&cd=") + cd) 
```

所以网址最终看起来像

```
 view.php?cid=hello&cd=12345 
```

有可能把它变成一个javascript书签吗？

谢谢

-一个

为 Sno0py 清晰编辑：

这两个页面都不是我的网站。这是一个我正在尝试为其创建书签的网站。在页面上，有 flashembed.js，它可以用于多种用途，但在这种情况下，用于制作它，因此您无法右键单击保存图像（使其成为电影，并带有php 查看脚本，将图像放入其中）。

在页面上，有这个 html/javascript：

```
<div id="viewer">
    <!-- image is here -->
</div>
<script type="text/javascript">
    flashembed("viewer",
    {src: "overlay.swf"},
    {c: "hello", cd: "123456"}
    );
</script> 
```

其中 #viewer 在另一个 js 脚本中指定，而 c & cd 是随机生成的图像标识符。

`overlay.swf`做这个：

```
stage.showmenu = false;
loadmovie ((("http://example.com/view.php?cid=" + c) + "&cd=") + cd, _root);
_root.stop(); 
```

所以导航到`http://example.com/view.php?cid=hello&cd=123456`会产生图像的原始数据。你可以查看它`<img src="view.php?cid=hello&cd=123456">`。

SO：澄清一下，我想澄清一下，是一个 javascript 小书签，它可以抓取`c`和`cd`，形成 url，然后将您带到仅包含`<img src"yadayada">`上面的页面的页面。如果那是不可能的，只是带我去那`url`会很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T03:05:42.320

If `c` and `cd` where variables within the scope of the page, you could simply use this bookmarklet:

```
javascript:document.location = "http://example.com/view.php?cid=" + c + "&cd=" + cd; 
```

However, they are not. They are attributes of anonymous objects passed as parameters to the function `flashembed`.

If that function then assigned them to variables in a scope that the bookmarklet could access, then you could use those variables instead, but I seriously doubt that it does.

You are basically left then with the only other option, which is to parse the raw HTML of the page (`document.documentElement.outerHTML`), most likely with a regular expression.

# javascript - jQuery $.get() 内存使用

> ID：10310440
> 
> 赞同：2
> 
> 时间：2012-04-25T06:29:42.300
> 
> 标签：javascript, jquery, asp.net

这是我在网页上使用的 jQuery 方法，它通过加载同一页面并替换图像每 5 秒刷新一次图像。

```
$(document).ready(function () {
    var refreshId = setInterval(function () {
        $.get('default.aspx', function (data) {
            var page = data;
            var image = $(page).find("img");
            var fecha = $(page).find("div #fecha");

            $("#Chart1").attr("src", image.attr("src"));
            $("#fecha").text(fecha.text());                    
        });
    }, 5000);
}); 
```

我看到每次加载 img 时，数据都会存储在浏览器中的某个位置并且它不会清理..当我打开任务管理器时，我可以看到内存使用量在增长..

这是图像axd的屏幕截图..

我应该担心释放内存吗？或者一切都按预期工作..

![在此处输入图像描述](../Images/f416b3024fac137be9d885c83ea2cd15.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:42:55.343

为什么不只使用 url 重新加载图像，而不是获取获取 url 的整个页面？如果要阻止缓存，请通过服务器标头将图像设置为不缓存，或使用[cachebusting](http://www.adopsinsider.com/ad-ops-basics/what-is-a-cache-buster-and-how-does-it-work/)

```
var img = document.getElementById('Chart1');          //use plain JS since it's just an ID
var refreshId = setInterval(function () {
    var rand = "?"+(Math.random()*10000000000000000);  //cache busting method
    img.src = "path_to_image"+rand                     //set src using busted url
}, 5000); 
```

这仍然会占用磁盘空间，因为每个破坏的图像都被视为不同的图像。如果它被缓存，您将使用陈旧的图像。但至少你不会再次加载整个页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T18:55:04.813

发现浏览器只是缓存图像，但最终会被清理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:59:09.653

使用 $post 而不是 $get。IE经常兑现GET请求数据。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T07:10:52.880

您的页面中只有一个 img#Chart1，因此只有一个图像使用内存。
其他人只会在浏览器的缓存中。

但我不认为 default.aspx 以 html 格式返回，
它应该以 json 格式返回数据，例如：

```
{
    imageUrl: "http://example.com/a.jpg",
    fetcha: "some text"
} 
```

# objective-c - 为什么 ARC 保留方法参数？

> ID：10310441
> 
> 赞同：20
> 
> 时间：2012-04-25T06:29:44.267
> 
> 标签：objective-c, automatic-ref-counting, clang

使用 ARC 编译时，方法参数通常会出现在方法的开头保留并在结尾释放。这个保留/释放对似乎是多余的，并且与 ARC“生成您无论如何都会编写的代码”的想法相矛盾。在那些黑暗的、ARC 之前的日子里，没有人为了安全起见对所有方法参数执行额外的保留/释放，是吗？

考虑：

```
@interface Test : NSObject
@end

@implementation Test

- (void)testARC:(NSString *)s
{
  [s length];  // no extra retain/release here.
}

- (void)testARC2:(NSString *)s
{
  // ARC inserts [s retain]
  [s length];
  [s length];
  // ARC inserts [s release]
}

- (void)testARC3:(__unsafe_unretained NSString *)s
{
  // no retain -- we used __unsafe_unretained
  [s length];
  [s length];
  // no release -- we used __unsafe_unretained
}

@end 
```

在发布模式下使用 Xcode 4.3.2 编译时，程序集（以便我能够理解它）包含对第二种方法的开始`objc_retain`和`objc_release`结束处的调用。这是怎么回事？

这不是一个大问题，但是在使用 Instruments 分析性能敏感代码时，确实会出现这种额外的保留/释放流量。`__unsafe_unretained`正如我在第三个示例中所做的那样，您似乎可以使用 来装饰方法参数以避免这种额外的保留/释放，但这样做感觉很恶心。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-04-25T07:32:33.113

请参阅Objc 语言邮件列表中的[回复：](http://lists.apple.com/archives/objc-language/2011/Nov/msg00005.html)

> 当编译器对函数或方法的内存管理行为一无所知（这种情况经常发生）时，编译器必须假设：
> 
> 1) 函数或方法可能会完全重新排列或替换应用程序的整个对象图（可能不会，但可以）。2）调用者可能是手动引用计数代码，因此传入参数的生命周期实际上是不可知的。
> 
> 给定#1和#2；并且鉴于 ARC*绝*不能允许对象被过早地释放，那么这两个假设会迫使编译器更频繁地保留传入的对象。

我认为主要问题是您的方法的主体可能会导致参数被释放，因此 ARC 必须采取防御措施并保留它们：

```
- (void) processItems
{
    [self setItems:[NSArray arrayWithObject:[NSNumber numberWithInt:0]]];
    [self doSomethingSillyWith:[items lastObject]];
}

- (void) doSomethingSillyWith: (id) foo
{
    [self setItems:nil];
    NSLog(@"%@", foo); // if ARC did not retain foo, you could be in trouble
} 
```

这也可能是当您的方法中只有一个调用时您看不到额外保留的原因。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-17T12:44:38.860

通常，作为参数传递不会增加保留计数。但是，如果您将它传递给类似的东西`NSThread`，则专门记录了*它将*保留新线程的参数。

因此，如果没有您打算如何开始这个新线程的示例，我无法给出明确的答案。不过，总的来说，您应该没问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-22T15:41:06.020

即使灵魂的答案是正确的，它也比它应该的更深了一点：

**它被保留，因为传递的引用被分配给一个强变量，即参数变量。**这也是唯一的原因是保留/释放对。（将参数 var 设置为 __weak 会发生什么？）

可以优化它吗？这就像优化局部变量上的每个保留/释放对一样，因为参数是局部变量。如果编译器理解方法内的漏洞代码，包括所有发送的消息和函数调用，则可以做到这一点。这可以应用到很少的那个clang甚至不尝试这样做。（想象一下，arg 指向一个（仅）属于一个组的人，并且该组被解除分配：该人也将被解除分配。）

是的，不在 MRC 中保留 args 是一种危险，但通常开发人员知道他们的代码很好，他们优化了保留/释放而不考虑它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-17T12:29:16.697

它不会在幕后增加。在 ARC 下，如果对象是 Strong ，它将简单地保持活动状态，直到没有更多指向它的强指针。但这实际上与是否作为参数传递的对象无关。

# mysql - 获取最后插入行的唯一 ID

> ID：10310442
> 
> 赞同：2
> 
> 时间：2012-04-25T06:29:55.187
> 
> 标签：mysql, stored-procedures, insert

我想在存储过程中获取最后插入行的唯一 ID，我这样做

```
DELIMITER //
 CREATE PROCEDURE addNewUsers(IN userName varchar(128),IN password varchar(128), IN addedBy INT)

BEGIN

 DECLARE id int default 0;

  id = mysqli_insert_id (insert into  `system_users`( `username`,`password`) values (userName ,md5(password)) );
  IF id <> 0 THEN     
        insert into  `user_profile`( `full_name`,`Date_time_ added`,`added_by`) values (userName ,CURRENT_TIMESTAMP(),addedBy ) where `user_id`=id ;
  END IF

END //

DELIMITER ; 
```

出现此错误

```
 #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '= mysqli_insert_id (insert into `system_users`( `username`,`password`) values (' at line 7 
```

我怀疑它来自`mysqli_insert_id` ，我该怎么办？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T06:41:48.270

您[`mysqli_insert_id`](http://php.net/manual/en/mysqli.insert-id.php)是问题所在，您正在编写 MySQL 存储过程，而不是 PHP。您想使用以下[`last_insert_id()`](http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_last-insert-id)功能：

> `LAST_INSERT_ID()`（不带参数）返回一个 BIGINT（64 位）值，表示`AUTO_INCREMENT`作为最近执行的`INSERT`语句的结果为列成功插入的第一个自动生成的值。

您还需要修复分配语法。更像这样的东西：

```
DELIMITER //
CREATE PROCEDURE addNewUsers(IN userName varchar(128),IN password varchar(128), IN addedBy INT)
BEGIN
  DECLARE id int default 0;

  insert into  `system_users`( `username`,`password`) values (userName ,md5(password));
  set id = last_insert_id();
  if id <> 0 then
    -- ... 
```

# c - 唤醒多个条件变量

> ID：10310443
> 
> 赞同：1
> 
> 时间：2012-04-25T06:29:57.707
> 
> 标签：c, multithreading, posix

通常，我们只能向一个变量发出信号，例如

```
pthread_cond_signal (condition) 
```

但是，我想同时唤醒多个条件变量。我怎样才能做到这一点？

换句话说，我可以给信号函数一个数组以唤醒存储在该数组中的所有条件变量吗？

```
 four condition variable : X, Y, Z, T

   I want :  waking up these four condition over sending signal, at the same time 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T10:14:16.550

听起来您在实现中犯了概念上的错误。

您似乎正在尝试共享一种资源，但已将许多条件变量分配给同一资源。

如果您只对一种资源进行建模，则每个子项不应具有不同的条件变量，而应共享相同的条件变量。

因此，如果假设它是一个受条件变量 A 保护的队列，则所有依赖于 A 的线程都应该执行 a `pthread_cond_wait(A)`，这样当您执行 a 时，`pthread_broadcast(A)`每个线程都会被唤醒，第一个线程可以处理数据。

如果您真的无法更改您的实现，您可以使用堆栈并将第一个 condvar 弹出并插入底部。这将保证只要有足够的数据，就不会有人饿死。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:37:54.563

不，您不能使用数组向它们发出信号。您必须在要发出信号的每个变量上调用 pthread_cond_signal。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T10:06:16.173

如果您不需要任何其他条件，但同时唤醒所有孩子，您可以只使用**一个**条件变量，然后发出 a `pthread_cond_broadcast()`唤醒所有等待这个**条件**变量的孩子。

# php - 修改jQuery日历栏

> ID：10310452
> 
> 赞同：2
> 
> 时间：2012-04-25T06:30:34.173
> 
> 标签：php, jquery, html

我在我的网站上应用了一个 jQuery 日历，它运行正常。但是，初始显示格式是 Sun, Mon, Tue ... Sat，我想更改为 Mon, Tue, ... Sun。

虽然我已经修改了站点内所有位置的所有“星期日”、“星期日”、“苏”，并且日历的标题运行良好，但是日期块的排列仍然好像星期天是在开始一样。 .

实际上，我还需要做什么才能纠正它？非常感谢。

（请注意 4 月 1 日为星期日，应位于最后一栏）

![日历](../Images/cb124f2dfa5b728324676810adc7852d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T06:41:40.237

您将在[此处](http://jqueryui.com/demos/datepicker/)的文档中看到您可以在第一天设置选项

```
$( ".selector" ).datepicker({ firstDay: 1 }); 
```

周日为 0，周一为 1

干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:27:18.980

```
put this code in your jquery datepicker function where you define defaults
dayNamesMin:[ 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su']
 if not then try this one 
 dayNamesShort:[ 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat','Sun'] 
```

# python - 使用 Python 时如何防止出现空格？

> ID：10310455
> 
> 赞同：1
> 
> 时间：2012-04-25T06:30:52.850
> 
> 标签：python, formatting, spaces

如何删除下一行中 R 之后的空格？

```
>>>print "4/3 =", 4 / 3, "R", 4 % 3 
```

我希望结果看起来完全像这样：

4/3 = 1 R1

我感谢任何人花时间回答这个问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T06:33:01.773

使用[`str.format`](http://docs.python.org/library/stdtypes.html#str.format)：

```
>>> a=4
>>> b=3
>>> print "{}/{} = {} R{}".format(a, b, a//b, a%b)
4/3 = 1 R1 
```

如果您使用的是不支持的旧版 Python，`str.format`则可以使用`%`运算符：

```
>>> print "%d/%d = %d R%d"%(a, b, a//b, a%b)
4/3 = 1 R1 
```

另请注意，从 Python 2.2 开始，您*应该*使用`//`整数除法，从 Python 3 开始，您**必须**使用`//`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:38:55.737

您应该使用字符串格式

```
print "4/3 =%d R%d" % (4 / 3, 4 % 3) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:33:49.213

您应该使用格式。

```
print "4/3 = %d R%d" % (4 / 3, 4 % 3) 
```

甚至更好，使用`string.format`：

```
print "4/3 = {} R{}".format(4 / 3, 4 % 3) 
```

# sql - 需要编写 SQL Server 存储过程以根据时间计算保存一行或多行

> ID：10310463
> 
> 赞同：1
> 
> 时间：2012-04-25T06:31:38.407
> 
> 标签：sql, sql-server-2008, datetime, stored-procedures

我需要编写一个函数，在一个名为 StartTime 的列中舍入时间，以仅显示小时并将其插入另一个名为 StartHour 的列。在另一个名为 EndTime 的列中，我还需要使用 DATEPART 向上舍入到下一个递增的小时（例如：23:33:00.0000000 将是 23（小时）+ 1（将其四舍五入到结束时间）= 24我需要将其保存到 EndHour 列）。

我想将这些新值插入到名为 StartHour 和 StartMinute、EndHour 和 EndMinute 的新列中（StartTime 和 EndTime 列是我以 time(7) 格式使用的**原始值**，出于历史目的，我保留它们在他们原来的列）。

这是我到目前为止在 T-SQL 中的内容：

```
SELECT (DATEPART(HOUR, [StartTime])) AS StartHour,(DATEPART(MINUTE, [StartTime])) AS StartMinute,
(DATEPART(HOUR, [EndTime])) AS EndHour, 
(DATEPART(MINUTE, [EndTime])) AS EndMinute, StartTime, EndTime
  FROM [test].[dbo].[Outage_Reports]
  ORDER BY OutageDate ASC 
```

产生：

```
StartHour   StartMinute   EndHour       EndMinute      Startime          EndTime
16        0                 17       30            16:00:00    17:30:00 
```

**我现在需要将此转换写入一个存储过程，当开始和结束之间的长度超过一小时时，该存储过程还会在表中插入两个（或更多，如果中断持续几个小时）新行。或者在中断时间低于或等于一小时时插入一行。然后我需要在开始列和结束列中考虑每小时的进度。** 像这样：

```
 StartHour   StartMinute    EndHour     EndMinute        Startime        EndTime
      16          0             17            00         16:00:00         17:30:00 
```

（上面反映了停电的第一个小时，下面的第二行反映了停电的后半个小时，直到它停止......两者都将与表中的同一张停电单相关联）

```
 StartHour     StartMinute    EndHour    EndMinute    Startime      EndTime  
   17             30             18          00  16:00:00      17:30:00 
```

这个想法是按小时跟踪网站中断，以便他们可以加入按小时跟踪订单的订单表（并且订单从不包含分钟......只有几个小时）。因此，计划是为持续 1.5 小时的中断制作两行，以便将 16、17 和一直到向上舍入的 18 小时值绑定到订单表，其中 30 分钟列作为另一个点计算量（所以一个半小时等于一小时的订单加上半小时的订单……逐行拆分）。这样我可以更好地跟踪中断期间的趋势。

对于如何将此逻辑写入存储过程，我有点不知所措。可以想象，我必须将新的小时和分钟值声明为变量，并且对于 StartHour 列，始终将其四舍五入为 DATEPART 小时值（即使它是 16:45...我想将 16 插入 StartHour 列）。但是，对于 EndHour 列，我想在 EndHour 列中插入**一个****向上取整的每小时值**（17 和 18，因为在这种情况下我们已经过了一个小时）。这有望描述（通过这两行）发生中断的近两个小时。反过来，它可以轻松加入我们的订单表

 **任何有关此逻辑的存储过程的指导将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T08:27:38.883

好吧，我真的不明白目的！但逻辑可能如下所示——

```
declare @StartTime time
declare @EndTime time
declare @Temp_StartTime time

declare @temp_StartHour int
declare @temp_EndHour int
declare @temp_StartMinute int
declare @temp_EndMinute int

SET @StartTime='2:30:00'
SET @EndTime='4:01:00'
SET @Temp_StartTime=@StartTime

SET @temp_StartHour=DATEPART(HOUR, @StartTime)
SET @temp_EndHour=DATEPART(HOUR, @EndTime)
SET @temp_StartMinute=DATEPART(MI, @StartTime)
SET @temp_EndMinute=DATEPART(MI, @EndTime)

if(@temp_EndMinute>0)
    BEGIN
        SET @temp_EndHour=@temp_EndHour+1
    END

DECLARE @Temp_Table TABLE
(
  StartHour int,
  StartMinute int,
  EndHour int,
  EndMinute int,
  StartTime time,
  EndTime time
)

WHile((@temp_EndHour-@temp_StartHour>=1))
    BEGIN
        INSERT INTO @Temp_Table
        SELECT (DATEPART(HOUR, @Temp_StartTime)) AS StartHour,(DATEPART(MINUTE, @Temp_StartTime)) AS StartMinute,
        @temp_StartHour+1 AS EndHour, 
        0 AS EndMinute, @StartTime as StartTime, @EndTime as EndTime

        SET @temp_StartHour=@temp_StartHour+1
        SET @Temp_StartTime=DATEADD(HOUR,1,@Temp_StartTime)

        if(DATEPART(MI, @Temp_StartTime)!=0)
            BEGIN
                SET @Temp_StartTime=DATEADD(MI,-@temp_StartMinute,@Temp_StartTime)
            END
    END

SELECT * FROM @Temp_Table 
```

希望它会有所帮助。**

# .net - .net 运算符重载？？？类型转换运算符，它是如何工作的？

> ID：10310467
> 
> 赞同：2
> 
> 时间：2012-04-25T06:32:02.797
> 
> 标签：.net, operator-overloading, conversion-operator

我第一次在 .Net 中遇到运算符重载，很久以前我在 C++ 中使用过它，但这就像重载运算符，如“+”，现在我突然遇到如下情况。

我有一个结构`AccessToken`：

```
[StructLayout(LayoutKind.Sequential)]
public struct AccessToken : IConvertible
{
    private string _value;
    public AccessToken(string encodedAccessToken)
    {
        this._value = encodedAccessToken;
    }

    public static implicit operator AccessToken(string encodedAccessToken)
    {
        return new AccessToken(encodedAccessToken);
    }
} 
```

我知道第一种方法是构造函数，但我想知道第二种方法在做什么？绝对是某种运算符重载。我阅读了[http://msdn.microsoft.com/en-us/library/s53ehcz3(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/s53ehcz3(v=vs.71).aspx)但无法得到确切的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:35:17.210

`string`这是从to的隐式转换`AccessToken`。所以你可以写：

```
string foo = "asdasd";
AccessToken token = foo; 
```

这将调用第二个成员 - 隐式转换运算符。如果不存在，上面的代码将无法编译，因为将无法从`string`to转换`AccessToken`。

就我个人而言，我建议您对隐式转换*非常*小心——它们会使代码更难理解。只是*偶尔*它们会非常有用（想到 LINQ to XML），但我通常只会使用构造函数或静态工厂方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:37:52.077

隐式运算符允许您使用 type中定义的转换将`A`type的实例分配给 type 。`B``A`

它可以稍微简化您的代码，因为您不必调用转换方法等，但`B b = new A();`即使`A`不继承也可以键入`B`。

我认为它倾向于引入混乱，并且更喜欢更明确的强制转换和转换。

# multithreading - 从 Perl 线程中干净地退出

> ID：10310468
> 
> 赞同：-1
> 
> 时间：2012-04-25T06:32:04.513
> 
> 标签：multithreading, perl, exit, detach

以下代码的内存消耗在其执行过程中会增加。可能出了什么问题？我还需要做些什么才能从线程中干净地退出吗？

```
#!/usr/bin/perl -w
use strict;    

my  ($i,$URL);
my  @Thread;
my  $NUM_THREADS=4;
my  @response:shared =();
while(1)
{
    for($i=0;$i<$NUM_THREADS;$i++)
    {
         if( $response[$i] is processed)
         {
              $URL=FindNextURL();  
              $Thread[$i]=new threads \&Get,$i,$URL;
              $Thread[$i]->detach();
         }
    }
    # wait for atleast one $response[$i]
    # if ready process it               
}

sub Get
{
    my $i=$_[0];
    my $URL=$_[1];        
    $response[$i]=FetchURL($URL);
    return;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T09:26:53.680

来自[http://perldoc.perl.org/threads.html](http://perldoc.perl.org/threads.html)

“在大多数系统上，频繁且持续地创建和销毁线程会导致 Perl 解释器的内存占用不断增加。虽然启动线程然后 ->join() 或 ->detach() 很简单它们，对于长期存在的应用程序，**最好维护一个线程池，并在需要的工作中重用它们**，使用队列来通知线程待处理的工作。这个模块的 CPAN 分发包含一个简单的例子（examples/pool_reuse .pl) 说明了可重用线程池的创建、使用和监控。”

请尝试进行主题投票。

# javascript - $(document).ready 在 IE 7 中不起作用

> ID：10310470
> 
> 赞同：1
> 
> 时间：2012-04-25T06:32:17.283
> 
> 标签：javascript, jquery

我在其他浏览器（mozilla、chrome 等）中使用以下代码然后工作正常，但如果我在 IE 7 中使用相同的代码，那么它不工作（在 IE 8+ 中工作）。没有给我错误。

```
$(document).ready(function(){   
    alert("hello");
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:55:40.567

我猜测 jQuery 代码块上方可能有一个错误，它可能会停止在 IE7 上的执行。

这样做 - 在 IE7 上加载页面。在浏览器的左下角，如果有一个黄色符号，请双击它，看看是哪一行导致执行失败。

# jquery - 如何为整个域创建工具栏

> ID：10310471
> 
> 赞同：0
> 
> 时间：2012-04-25T06:32:19.417
> 
> 标签：jquery, html, toolbar

我在同一个域中托管了 10 个系统，我们称之为 (domain.com)。我想创建一个工具栏，它将浮动在所有这些工具之上，并将它们相互链接并链接到公司主页。

我的问题是，实现这一目标的最佳方法是什么？我正在考虑使用 iframe，但是当我使用 iframe 时，工具栏有下拉菜单。

我在想必须有一个好的和快速的方法来做到这一点......有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:01:07.200

看看这篇文章，看看是否有任何现有的服务适合你：

*   [为您的博客提供 5 个社交工具栏，以保持访问者的参与度](http://www.webdeveloperjuice.com/2010/11/29/5-social-toolbars-for-your-blog-to-keep-visitors-engaged/)

如果没有，请尝试创建自己的。这是一个很好的起点：

*   [jQuery Fubar – 如何从头开始创建网站工具栏并向其添加小部件](http://addyosmani.com/blog/jquery-fubar-how-to-create-a-website-toolbar-from-scratch-and-add-widgets-to-it/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T13:36:58.887

我为解决这个问题所做的是：我仅为工具栏创建了一个单独的系统，然后我在系统上添加了一个 curl 请求以在用户注册时加载工具栏。这行得通，我不确定这是不是最好的方法，但对我来说已经足够了。

# iphone - 在 IOS 上禁用 ShareKit 上的自动消息框

> ID：10310475
> 
> 赞同：0
> 
> 时间：2012-04-25T06:32:40.490
> 
> 标签：iphone, ios, twitter, sharekit

当我们在 Ios 应用程序上验证 twitter 时，我们试图禁用自动消息框。我们点击连接，一旦它通过身份验证，它会打开一个消息框。我们只是想连接，没有盒子就是这样。有人遇到过这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T07:31:53.520

很简单，不分享，只授权：

```
SHKTwitter *twSharer = [[SHKTwitter alloc] init];
[twSharer authorize];
[twSharer release]; 
```

如果你想获取授权用户信息（在 NSUserDefaults 中以字典的形式），例如 username run

```
[SHKTwitter getUserInfo]; 
```

有关更多信息，请参阅[ShareKit 2.0 常见问题解答](https://github.com/ShareKit/ShareKit/wiki/FAQ)

提到的行为与 iOS 5 之前的实现相对应。如果你使用 iOS 5，一切都由原生 iOS Twitter 框架处理

# javascript - 如何以编程方式打开链接工具栏按钮的模式对话框？

> ID：10310478
> 
> 赞同：2
> 
> 时间：2012-04-25T06:32:42.723
> 
> 标签：javascript, tinymce

在 TinyMCE 的一个实例中，我想以编程方式打开工具栏按钮“链接”的模式对话框。

我怎样才能做到这一点？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T09:46:25.530

您需要做的就是调用以下javascript

```
tinymce.activeEditor.execCommand('mceAdvLink'); 
```

# android - 检查更新的 Android 代码段

> ID：10310483
> 
> 赞同：0
> 
> 时间：2012-04-25T06:33:20.630
> 
> 标签：android, code-snippets, updates

我开发了一个 Android 应用程序。当我的应用程序启动时，谁能建议我最好的 Android 代码片段来检查 android 市场中的最新版本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:34:31.077

您不应该这样做，如果有新版本的软件可用，Android Market 会自动检查更新并显示通知。

# javascript - Javascript 解析器将不再工作。单击提交按钮时没有任何反应

> ID：10310489
> 
> 赞同：-1
> 
> 时间：2012-04-25T06:33:52.177
> 
> 标签：javascript, button, submit

我最近为我玩的一款游戏找到了这段 javascript，它通过进行一些解析基本上让我在游戏中的生活更轻松。该脚本在我第一次使用时运行良好，但后来我停止使用它几个星期，因为我玩游戏的时间较少，因此使用了该脚本。我昨天又开始了，突然，脚本不再工作，我无法解析我需要的信息。在将信息放入文本框后单击提交按钮时，它不再起作用。

谁能帮我找出问题所在以及为什么它不再起作用？

这是脚本，它在一个网站上（以防我在下面发布的内容搞砸了或其他什么：www.cnparser.webs.com

```
<html>
<head>
<title>Recruitment Parser</title>
<script type="text/javascript">
window.onload = function()
{
var pageSource = document.getElementById('pgsource');
var submitButton = document.getElementById('submit');
var bbcodeBox = document.getElementById('nobb');
var outputArea = document.getElementById('output');

submitButton.onclick = function()
{
    var cyberMessageLink = "http:\/\/www.cybernations.net/send_message.asp?Nation_ID=";
    var cleanUp = pageSource.value.replace(/[^A-Za-z0-9 >]/g, "");
    var rulerNames = cleanUp.match(/titleRuler[A-Za-z0-9_ ]{3,}(?=>)/gi);
    var nationID = cleanUp.match(/ageaspNationID[0-9]{3,}/g);

    if(bbcodeBox.checked)
    {
        for(var i=0; i<rulerNames.length; i++)
        {
            if(i%25==0)
            {
                outputArea.innerHTML+="[url="+cyberMessageLink+nationID[i].substring(14)+"]"+rulerNames[i].substring(11)+"[/url]" + "<br>";
                continue;
            }
            outputArea.innerHTML+=rulerNames[i].substring(11) + "<br>";
            if(i%24==0)outputArea.innerHTML+="<br>";
        }
    } else {

        for(var i=0; i<rulerNames.length; i++)
        {
            if(i%25==0)outputArea.innerHTML+="<br>";
            outputArea.innerHTML+=rulerNames[i].substring(11) + "<br>";
            }
        }
    }
}
</script>
</head>

<body>
<table border="0">
<tr>
    <td>
        <textarea id="pgsource" cols="80" rows="20"></textarea><br/>
    </td>
    <td>
        <b>Style</b><br>
        <input id="nobb" type="checkbox">BBcode</input><br>
    </td>
</tr>
</table>
<button id="submit">Submit</button><br><br>
<span id="output"></span>
<!-- --><script type="text/javascript"      src="http://static.websimages.com/static/global/js/webs/usersites/escort.js"></script>   <script type="text/javascript">if(typeof(urchinTracker)=='function'){_uacct="UA-230305-  2";_udn="none";_uff=false;urchinTracker();}</script></body>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:42:40.843

从链接的网站：

> 如果这停止工作电子邮件：gnomy@hushmail.com

你给 Gnomy 发邮件了吗？

# c++ - boost::ptr_vector 构造函数

> ID：10310491
> 
> 赞同：0
> 
> 时间：2012-04-25T06:33:55.517
> 
> 标签：c++, boost, constructor, boost-ptr-container

我正在尝试`boost::ptr_vector`在当前项目中使用 a ，并且想知道是否可以在 push_back() 方法中使用参数化构造函数，或者是否需要使用默认构造函数？

作为次要问题，如果我定义它，它是否仍会使用默认构造函数？

* * *

这可能不是最好的后续，但我看到的大多数实现都`boost::ptr_vector`表明该`push_back()`方法采用`new`运算符。是否可以创建一个对象，然后将指向该对象的指针赋予`push_back()`容器的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:56:23.927

出于使用标准向量或容器的`ptr_vector`目的`ptr_container`。只要定义了构造函数，就可以使用任何所需的构造函数（默认值也可以）。唯一真正的区别是 a`ptr_container`采用指针而不是静态对象，并支持克隆，它充当与浅副本相对的深层副本。

关于后续。可以在方法中使用现有对象`push_back()`：

```
#include <boost/ptr_container/ptr_vector.hpp>
#include <vector>
typedef boost::ptr_vector<Base> thing;
void foo(void){
    thing Bar;
    Object * newObj = new Object(param1, param2);
    bar.push_back(newObj);
} 
```

它似乎试图使用存储在对象指针中的信息来放置在数组中。在这种情况下，可以给出一个静态对象。尽管当我出于某种原因考虑提供静态对象时，这给了我一种奇怪的感觉（类似于指针容器的东西应该只真正用于唯一项/指针。）

# mysql - 如何避免“查询中的不明确字段”而不在 where 子句中添加表名或表别名

> ID：10310499
> 
> 赞同：5
> 
> 时间：2012-04-25T06:34:36.237
> 
> 标签：mysql, sql, mysql-error-1064

我有一个选择查询，其中我加入了几个表`T1`，`T2`并且这两个表都有一个名为 STATUS 的字段，我不需要获取它。在 where 子句中，我需要添加`WHERE STATUS=1`一些条件。

但不知何故，我无法将表名或表别名添加到 where 子句中的字段，即我不能使用 where `T2.STATUS=1`。有什么方法可以始终考虑`STATUS=1`from where 子句，`T1.STATUS`这样我就可以避免“不明确的字段错误”？

这是一个示例查询：

```
select T1.name, T1.address, T1.phone, T2.title, T2.description from T1
Left Join T2 on T1.CID=T2.ID
where STATUS = 1 
```

在上面的查询中，我希望`STATUS =1`总是意味着`T2.STATUS`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:49:04.823

如果你因为某种原因不能忍受做

```
select T1.name, T1.address, T1.phone, T2.title, T2.description from T1
Left Join T2 on T1.CID=T2.ID
where T2.STATUS = 1 
```

那我猜你可以

```
SELECT T1.name, T1.address, T1.phone, T2.title, T2.description 
FROM (  SELECT CID, name, address, phone
        FROM T1) AS T1
LEFT JOIN T2
ON T1.CID=T2.ID
WHERE STATUS = 1 
```

基本上只是跳过从 T1 获取 STATUS 列。那么就不会有冲突了。

底线；没有简单的方法可以做到这一点。最接近简单的方法是两个 STATUS 列的名称不同，但即使这样似乎也很极端。

# c# - 网格视图 Row_Command 问题

> ID：10310501
> 
> 赞同：1
> 
> 时间：2012-04-25T06:34:44.440
> 
> 标签：c#, asp.net, gridview

我的 gridview Row 命令代码看起来像

```
protected void GridView_Admins_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        GridView sourceGrid = sender as GridView;

        int currentIndex = 0;
        GridViewRow currentRow = null;

        if (string.Compare(e.CommandName, "SHOW", true) == 0)
        {
            if (int.TryParse(e.CommandArgument.ToString(), out currentIndex))
            {

                currentRow = sourceGrid.Rows[currentIndex];

                if (long.TryParse(sourceGrid.DataKeys[currentRow.RowIndex].Values["EmployeeID"].ToString(), out this.employeeId))
                    this.ShowAdministrativeRightsForUser();
            }
        }
    } 
```

我还在gridview中启用了分页。当我想编辑记录时，我单击特定单元格，我可以编辑记录。但是，当我在第二页上单击单元格以编辑记录时，我在行显示`currentRow = sourceGrid.Rows[currentIndex];`索引超出范围时出现错误。有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:22:27.060

使用它来获取索引：

```
int index = Convert.ToInt32(e.CommandArgument); 
```

# php - 在 mysqli 中使用 if/else 出现回显错误

> ID：10310508
> 
> 赞同：0
> 
> 时间：2012-04-25T06:35:18.640
> 
> 标签：php, error-handling, mysqli, echo

当用户输入系统中未找到的电子邮件地址时，我试图显示错误。到目前为止，即使电子邮件与其他正确的回显结果一起在系统中，它也会在结果页面上回显。

```
<?php
$db = new mysqli(" ", " ", " ", "volsched");

if ($db->connect_errno) {
          echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
          }

$stmt = $db->prepare('UPDATE volConfirm SET confirmed = "YES" WHERE email = ?');
if (!$mysqli->error) {
   printf("Errormessage: Email not in system %s\n", $mysqli->error);
}

$stmt->bind_param('s', $_POST['email']);
$stmt->execute();

$stmt = $db->prepare('SELECT agreename, position, shift_times, confirmed from volConfirm WHERE email = ?');

$stmt->bind_param('s', $_POST['email']);

$stmt->execute();
$stmt->bind_result($agreeName, $position, $shift_times, $confirmed);

    while ($stmt->fetch()) {
// construct your output here using $row to access database record
echo "<h2>" . $agreeName . "</h2>";
echo "<p> You have been assigned as a volunteer for:" . $position . "</p>";
echo "<p>Your shift times are scheduled for:" . $shift_times . "</p>";
echo "<p>Your shift has been confirmed:" . $confirmed . "</p>";
 }

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-20T18:46:43.237

我最终使用了一些 JS 来根据电子邮件地址是否有效来控制显示哪些 div。

```
if($('#returned').length > 0) {
$('.noEmail').hide();
$('#volunteerResults').show()
 }}); 
```

因此，如果电子邮件地址不在系统中，则根据结果显示或隐藏包含“电子邮件不在系统中”的 .noEmail div

```
$stmt = $db->prepare('UPDATE volConfirm SET confirmed = "YES" WHERE email = ?');

$stmt->bind_param('s', $_POST['email']);
$stmt->execute();

$stmt = $db->prepare('SELECT agreeName, position, shift_times, confirmed from volConfirm WHERE email = ?');

$stmt->bind_param('s', $_POST['email']); 
```

# windows-phone-7 - 保存未读项目的 RSS 阅读器

> ID：10310509
> 
> 赞同：1
> 
> 时间：2012-04-25T06:35:21.987
> 
> 标签：windows-phone-7

所以我有一个简单的 RSS 阅读器，它有一个在应用程序启动时更新的提要。如何添加使新的未读项目保持不同颜色的功能？我想让用户看到自上次他/她打开应用程序以来哪些帖子是新的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:31:51.957

假设你有一个类似的模型；

```
public class RSSItem {
  public bool IsUnread { get; set; }
  public string Title { get; set; }
} 
```

您需要使用接受 a并返回 a 的a 将`ForegroundColor`a绑定`TextBlock`到您的`IsUnread`属性。所以你的 XAML 可能看起来像；`IValueConverter``bool``Color`

```
<phone:PhoneApplicationPage.Resources>
  <converters:UnreadForegroundConverter x:Key="UnreadForegroundConverter" />
</phone:PhoneApplicationPage.Resources>

<ListBox x:Name="RSSItems">
  <DataTemplate>
    <TextBlock Text="{Binding Title}" Foreground="{Binding IsUnread, Converter={StaticResource UnreadForegroundConverter}}" />
  </DataTemplate>
</ListBox> 
```

不要忘记将`xmlns:converters`属性添加到页面的标签中。

然后，您需要实现您`IValueConverter`的布尔到颜色转换；

```
public class UnreadForegroundConverter : IValueConverter {
  public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture) {
    if ((bool)value == true) {
      return Application.Current.Resources["PhoneAccentColor"];
    }

    return Application.Current.Resources["PhoneForegroundColor"];
  }

  public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture) {
    throw new NotImplementedException();
  }

} 
```

显然，您需要将列表框 , 绑定`RSSItems`到`RSSItem`. 例如。

```
ObservableCollection<RSSItem> items = new ObservableCollection<RSSItem>();
// populate items somehow
RSSItems.ItemsSource = items; 
```

希望有帮助。

# c# - 复制文件到metro-style-app的安装目录

> ID：10310510
> 
> 赞同：3
> 
> 时间：2012-04-25T06:35:24.730
> 
> 标签：c#, windows-runtime, windows-store-apps, .net-4.5

有没有办法将文件（使用文件选择器选择）复制到当前运行的 Metro 风格应用程序的安装目录？我试图通过以下方式获取 InstallationFolder：

```
Windows.ApplicationModel.Package package = Windows.ApplicationModel.Package.Current;
Windows.Storage.StorageFolder installedLocation = package.InstalledLocation; 
```

但是我在获取 InstalledLocation 时总是收到以下错误：

`Error HRESULT E_FAIL has been returned from a call to a COM component.`

这可能是调试应用程序/不从商店安装它的问题吗？如何解决此异常？

该文件的副本应该可以使用`Windows.Storage.CopyAsync(IStroageFolder, ...)`. InstalledLocation 来自类型`StorageFolder`。如果允许的话，是否有人有一些经验，或者我会得到什么。像安全例外？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T13:41:33.363

InstalledLocation 是只读的，但您可以写入应用程序的数据存储文件夹 (ApplicationData.Current.LocalFolder)。

这有效：

```
var fop = new FileOpenPicker();
fop.FileTypeFilter.Add(".txt");
StorageFile file = await fop.PickSingleFileAsync();
if (file != null)
    await file.CopyAsync(ApplicationData.Current.LocalFolder); 
```

可能还需要检查应用程序清单中的库访问功能。

# wpf - WPF厚度关键帧不起作用

> ID：10310512
> 
> 赞同：0
> 
> 时间：2012-04-25T06:35:36.843
> 
> 标签：wpf, vb.net, .net-4.0

我曾经使用 from to 动画为我的边框设置动画，但现在我想添加一个粗细关键帧以使其看起来更好。我正在使用 .net 4.0 和 vb。

```
 Dim t As New ThicknessAnimationUsingKeyFrames()
        t.RepeatBehavior = RepeatBehavior.Forever
        Dim instance As ThicknessKeyFrame
        instance.Value = New Thickness(0, 0, 0, 0)
        instance.KeyTime = TimeSpan.FromSeconds(0.0)
        t.KeyFrames.Add(instance)
        Dim instance2 As ThicknessKeyFrame
        instance2.Value = New Thickness(1, 1, 1, 1)
        instance2.KeyTime = TimeSpan.FromSeconds(0.5)
        t.KeyFrames.Add(instance) 
```

我无法实例化厚度关键帧我认为它是一个界面，但我不知道如何在这种情况下使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T09:39:26.067

首先，您需要实例化您的实例

```
Dim instance As New DiscreteThicknessKeyFrame() 
```

底线不正确：

```
t.KeyFrames.Add(instance) 
```

它应该是

```
t.KeyFrames.Add(instance2) 
```

# c++ - 类析构函数的实际应用

> ID：10310513
> 
> 赞同：4
> 
> 时间：2012-04-25T06:35:40.193
> 
> 标签：c++, class, constructor, destructor, uses

我目前正在尝试了解类和构造函数/析构函数。我了解两者的作用，但我在使用析构函数时遇到了困难，因为我想不出一个实际的应用程序来使用它。

任何人都可以提供一个解释的例子吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-25T06:37:31.880

析构函数是特殊的成员函数，用于释放对象分配的任何资源。

最常见的例子是类的构造函数使用`new`，而析构函数使用`delete`释放内存。

```
class Myclass
{
    int *m_ptr;
    public:
        Myclass():m_ptr(new int)
        {
        }
        ~Myclass()
        {
             delete m_ptr;
        }
        //ToDo: Follow Rule of Three
        //Provide definitions for copy constructor & copy assignment operator as well

}; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-25T06:45:02.790

析构函数可能是 c++ 最重要的方面，它为您管理资源并允许您添加代码来处理任何特殊清理，例如句柄释放、从套接字断开连接、DB 等。Bjarne Stroustup 还指出这是一件好事关于析构函数：

> 也有积极的惊喜。最引人注目的是在与资源管理和错误处理（使用异常）相关的技术中普遍使用析构函数。我知道析构函数是个好主意——毕竟，你必须反转构造函数的作用——但我没有意识到它们对于充分利用 C++ 有多么重要。

原文：http: [//msdn.microsoft.com/en-us/magazine/cc500572.aspx](http://msdn.microsoft.com/en-us/magazine/cc500572.aspx)

[这对于习语RAII（资源获取是初始化）](http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization)也是必不可少的，并由 Bjarne 在本文中解释： [http ://www.artima.com/intv/modern3.html](http://www.artima.com/intv/modern3.html)

你可以阅读这个关于析构函数的[C++ 常见问题解答](http://www.parashift.com/c++-faq-lite/dtors.html)，它应该对你有更多帮助。

我认为 Als 代码示例是一个很好的示例，您也可以查看维基百科文章中的代码示例，这也是另一个示例。当对象超出范围或被调用时调用析构函数这一事实`delete`非常有用。我使用的是一个计时器对象类来计时某些函数调用需要多长时间：

```
class myTimer
{
  mytimer():startTime( TimeNow() )
  {}
  ~myTimer()
  { 
    printf("time taken :%I64d", TimeNow() - startTime);
  }
private:
  __int64 startTime;
}; 
```

所以在我的代码中我会做这样的事情

```
myClass::myFunction()
{
  myTimer timer; // initiliases time to Now.

  someOtherFunc();
} // mytimer object is now out of scope and the destructor is called and prints the time it took 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T06:38:37.640

假设您有一个用于文件操作的类，例如`ifstream`，您喜欢该文件自动关闭，该类的实例消失。在析构函数中关闭文件句柄。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T06:42:53.627

当您具有动态分配的对象的组合时，这些功能最强大

假设我正在制作`linkedList`包含指向`linkedListNodes`列表的指针的结构，它将包含指向第一个元素的指针，并且取决于单个或双重最后一个元素。

在析构函数中，我将删除列表中的所有元素，因此列表本身。

如果我不对析构函数进行编码，那么当列表超出范围或调用了 delete 时，分配给这些元素的内存将丢失，并且系统无法回收（最明显的是称为内存泄漏）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-25T06:46:20.450

在这里扩展@Als 的答案，例如你有一堂课，

```
class A {
    B* ptrB; // B is another class / struct / internal type
    A() { ptrB = new B(); }
}

int main() {
    A* ptrA = new A();
    // Do something with A
    delete ptrA; // This does not free ptrA->ptrB
} 
```

为了解决这个问题，在 A 中声明一个析构函数，如下所示，

```
~A() { delete ptrB; } // This is called every time delete is called on
                      // an object of A 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-04-25T06:46:44.280

构造函数和析构函数是 RAII（资源分配即初始化）习语中非常重要的部分。将资源（文件、内存、套接字、其他类对象）的获取与对象的生命周期联系起来是一个非常强大的工具。当一个对象超出范围时，无论是通过正常执行还是由于异常，调用对象析构函数允许类正确清理其资源，而无需使用具有大量额外终结步骤的对象来负担代码。

# c# - 将由 LINQ 语句生成的字符串解析为方法

> ID：10310516
> 
> 赞同：0
> 
> 时间：2012-04-25T06:36:03.623
> 
> 标签：c#, linq

我只想将`e.Trip`my传递`string.Format`给`tripChoose`. 截至目前，它试图传递一个未针对该方法格式化的字符串。如果我可以传递字符串的 Trip 部分，它会起作用。有什么建议么？

```
private void LoadExpenseListSums()
{
    expenseTotalSelect.Items.Clear();
    var sortedList=
        from e in roster
        group e by e.Trip into expenseCollect
        select new { Trip = expenseCollect.Key, SumAmount = expenseCollect.Sum(e => e.Amount) };
    foreach (var e in sortedList)
        tripChoose.Items.Add(string.Format("{0} | ${1}", e.Trip, e.SumAmount));
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:08:20.083

看起来您的 feeTotalSelect 是一个 ASP.NET Select 控件，而您所做的最终会在结果 HTML 中添加一个元素，该元素仅由文本标识，例如：

```
<select id='expenseTotalSelect'>
    <option>Hawaii | $5000</option>
    <option>London | $4000</option>
    ...
</select> 
```

在您的费用 TotalSelect.Items.Add 电话中，您可能最好执行以下操作：

```
expenseTotalSelect.Items.Add(
       new ListItem(string.Format("{0} | ${1}", e.Trip, e.SumAmount),e.Trip)); 
```

现在，当您渲染为 HTML 时，您将获得以下信息：

```
<select id='expenseTotalSelect'>
    <option value='Hawaii'>Hawaii | $5000</option>
    <option value='London'>London | $4000</option>
    ...
</select> 
```

`tripChoose.SelectedItem.Value`对于此示例，仅引用仅包含 e.Trip 值（夏威夷或伦敦）会更容易

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-26T06:20:56.443

对，现在我们实际上知道我们在处理什么，我怀疑你想要这样的东西：

```
private void LoadExpenseListSums()
{
    expenseTotalSelect.Items.Clear();
    var dateSorted =
        from e in roster
        group e by e.Trip into tripGroup
        select new { Trip = tripGroup.Key,
                     Text = string.Format("{0} | ${1}",
                                          tripGroup.Key,
                                          tripGroup.Sum(e => e.Amount) };
    tripChoose.DataSource = dateSorted;
    tripChoose.DisplayMember = "Text";
    tripChoose.ValueMember = "Trip";
} 
```

这做出了一些假设： ase, -`roster`是一个内存中的集合：如果不是，您可能需要`AsEnumerable`在格式化之前进行调用，以便在本地发生 - 匿名类型与数据绑定一起使用；我不确定是不是这样，但我希望是这样

然后，您稍后会使用该`SelectedValue`成员来查找行程 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:07:32.110

认为您应该使用评论中建议的对象，但是假设`expenseTotalSelect`是 a`List<string>`并且`tripChoose`绑定到它，您可以这样做：

```
(string)tripChoose.SelectedItem.Split('|')[0].Replace(" ", string.Empty) 
```

# mysql - Mysql：何时使用触发器

> ID：10310517
> 
> 赞同：7
> 
> 时间：2012-04-25T06:36:10.480
> 
> 标签：mysql, triggers

我目前正在制作一个在线多人国际象棋游戏。我想知道用户触发器是否适合登录每个动作。

然后，使用 nodejs，我会重复检查触发器表并更新玩家和观察者的视觉效果。

由于我只需要在数据库中进行更改，因此视觉方面会自动跟进（使用循环功能检查数据库中的更改数据）。这样做的目的是将视觉效果与制作游戏所涉及的逻辑分开。

你们中有人会推荐这种技术还是根本不行？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T06:47:33.633

您为您的任务描述了一种可能的技术解决方案。但我强烈建议不要这样做。

这不会很好地扩展 - 它会为您的数据库和应用程序服务器增加大量开销和负载。

还有其他轻量级的可能性可以更好地扩展：

*   使用带有[node_redis](https://github.com/mranney/node_redis)客户端的消息队列（例如）[redis](http://redis.io)。它具有内置的[pubsub](https://stackoverflow.com/questions/4441798/how-to-use-redis-publish-subscribe-with-nodejs-by-event-driven/4446424#4446424)语义。
*   抽象您的数据库调用并将所有数据库更新推送到消息队列。
*   例如，您可以使用像[jquery-stream](http://code.google.com/p/jquery-stream/)或[jquery-socket](https://github.com/flowersinthesand/jquery-socket)这样的 HTTP 流媒体，而不是使用“重复”功能（AJAX 轮询）来获取状态更新。这避免了为每个客户端更新打开新的 HTTP 连接的开销。
*   在服务器端使用 nodejs 的事件驱动特性将新事件推送到客户端连接。

# ios - 如何让 ChildBrowser 打开所有 PDF 文件

> ID：10310519
> 
> 赞同：2
> 
> 时间：2012-04-25T06:36:23.637
> 
> 标签：ios, cordova, childbrowser

我将 Xcode 4 与 PhoneGap (Cordova 1.6) 和 ChildBrowser 一起使用。我在 OSX 上使用 SiteCrawler 成功下载了一个网站并将其本地化，它可以在本地使用图像、PDF 等完全浏览。我已将所有本地化的站点文件移动到 PhoneGap www 文件夹中，并且应用程序测试构建良好 -网站完全可以浏览。

我希望网站上的 PDF 在他们自己的窗口中打开，而 ChildBrowser 可以根据我的需要完美地做到这一点。使用[http://blog.digitalbackcountry.com/2012/03/installing-the-childbrowser-plugin-for-ios-with-phonegapcordova-1-5/](http://blog.digitalbackcountry.com/2012/03/installing-the-childbrowser-plugin-for-ios-with-phonegapcordova-1-5/)我能够安装并运行 ChildBrowser - 我打开了 PDF 文件在子浏览器中。

我的问题是使用上面的链接，我必须添加 ontouchstart="loadChildBrowser('/path/to/file.pdf'); return false;" 到网站上的每个 PDF 链接。由于我们使用 CMS，这不是什么大问题 - 大部分 PDF 都是从模板调用的，其中数据是从 CMS 填充的，它们很好。但在网站的某些页面中，客户已将上传的 PDF 链接添加到页面内容中。在这种情况下，没有简单的方法将上述代码添加到内联链接中。

我想我可以使用 jQuery 在单击时查看页面上的每个标签，如果单击，则运行 ChildBroswer 实例，这将涵盖两种类型的 PDF 链接，但我似乎无法让它工作。这是我所拥有的：

```
 <script type="text/javascript" src="/a/js/cordova-1.6.0.js"></script>
    <script type="text/javascript" src="/a/js/ChildBrowser.js"></script>
    <script>

    // install ChildBrowser
    var cb = ChildBrowser.install();

    //loading a web page in ChildBrowser 
    $('a[href$=pdf]').click(function() {
        var href = $(this).attr('href');
        cb.showWebPage(encodeURI(href));
        return false;
    });
    </script> 
```

使用上面没有内联链接的 javascript，PDF 会自行打开，没有子浏览器。

将以下内容与 ontouchstart="loadChildBrowser('/path/to/file.pdf'); return false;" 一起使用，子浏览器将打开，并且对于某些链接显示 PDF，而对于其他链接则只显示加载。我认为这只是对路径进行调整，但我认为如果可以使其工作，上述内容将是最通用的。

```
 <script type="text/javascript" src="/a/js/cordova-1.6.0.js"></script>
    <script type="text/javascript" src="/a/js/ChildBrowser.js"></script>
    <script>

    // install ChildBrowser
    var cb = ChildBrowser.install();

    //loading a web page in ChildBrowser 
    function loadChildBrowser(file) { 
        cb.showWebPage(encodeURI(file)); 
    }
    </script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-27T06:12:31.557

Through trial and error I was able to get this working for the most part. I'm still hitting a couple of unrelated bugs (well, related to Childbrowser but not the loading go local PDF files).

So, using ontouchstart="loadChildBrowser('/path/to/file.pdf'); return false;" on all links to PDFs on the site is still the way to go. What changed was the JS function I am using to determine the path to the PDFs and launch ChildBrowser. I had to do this:

```
<script type="text/javascript" src="/a/js/cordova-1.6.0.js"></script>
<script type="text/javascript" src="/a/js/ChildBrowser.js"></script>
<script>

    // install ChildBrowser
    var cb = ChildBrowser.install();

    //loading a web page in ChildBrowser 
    function loadChildBrowser(file) {
        var path = location.pathname+file;
        var len = path.length;
        var locleft = path.indexOf('/www/')+4;
        var trim = len-locleft;
        var left = path.slice(0,-trim);
        var locright = path.indexOf('/assets/');
        var trim = len-locright;
        var right = path.slice(-trim);
        var finalPath = left+right;
        cb.showWebPage(encodeURI(finalPath)); 
    } 

</script> 
```

in my included header file (so it lives in the head of every page on the site). The problem was that when ChildBrowser pulled up the path to the file, it was appending the part below the normal site's web root (/assets/documents/xxx.pdf) to the full path to the page being viewed in the app at the time, so I ended up with:

/var/users/name/blah/blah/www/page.html/assets/documents/xxx.pdf

when we wanted:

/var/users/name/blah/blah/www/assets/documents/xxx.pdf

The script above prepends location.pathname to the file var passed from the function (ontouch start) that calls ChildBrowser so that we end up with

/var/users/name/blah/blah/www/page.html/assets/documents/xxx.pdf (not correct)

It then splits it into a left section (everything before /www) and a right section (everything including and after /assets/) and then concatenates them (effectively removing all the site directory and html file information) and then calls ChildBrowser with that finalPath. Working for me.

# android - 选项卡式父子活动中的日期选择器问题

> ID：10310520
> 
> 赞同：2
> 
> 时间：2012-04-25T06:36:35.080
> 
> 标签：android

我在选项卡式父项的子活动中使用日期选择器。当我单击设置日期但从子级返回父级然后再次从选项卡式父级返回子级并单击设置日期应用程序崩溃时，它第一次工作正常

```
 android.view.WindowManager$BadTokenException: Unable to add window -- token  
 android.app.LocalActivityManager$LocalActivity 
```

如果需要代码来理解我将在这里发布的场景，任何帮助都将受到欢迎。

# android - 在android中通过反射使用BatteryStatsImpl内部类

> ID：10310521
> 
> 赞同：5
> 
> 时间：2012-04-25T06:36:39.880
> 
> 标签：android

我正在尝试获取正在运行的应用程序的列表以及每个应用程序使用的电池量。我google了很长时间，但没有提出解决方案。但是，PowerProfile、PowerUsageSummary 内部类有一些参考资料。

我通过反射技术使用它们，但没有得到我想要的东西。PowerUsageSummary 显示的详细信息与您通过转到设备设置->应用程序->电池使用（这是在 Samsund 设备中可以看到的方式）看到的相同。

然后我使用了 PowerProfile 类，但我只得到了 WIFI、AUDIO、VIDEO、GPS、BLUETOOTH 等使用的电流 mA（mA 值不会经常变化。我不确定这些值是否正确）。另一个参考是 BatteryStatsImpl 类。我测试了这个类，但值始终为 0。我仍在寻找正在运行的应用程序列表以及每个应用程序使用的电池量。任何帮助表示赞赏。

谢谢，

这是我为 BatteryStatsImpl 类尝试的示例代码。

```
 String BATTERY_PROFILE_CLASS = "com.android.internal.os.BatteryStatsImpl";
        Object mBatteryProfile = Class.forName(BATTERY_PROFILE_CLASS).getConstructor().newInstance();
        Method batteryMeth = Class.forName(BATTERY_PROFILE_CLASS).getMethod("getBatteryUptime", long.class);
        Object arglist1[] = new Object[1];
        arglist1[0] = System.currentTimeMillis();
        // This is to calculate the batteryUpTime since the current time.
        Long batteryUptime = (Long) batteryMeth.invoke(mBatteryProfile, arglist1);

        Method dischargeMeth = Class.forName(BATTERY_PROFILE_CLASS).getMethod("getDischargeStartLevel");
        // This is to calculate the dischargeTime of the device battery
        Integer dischargeTime = (Integer) dischargeMeth.invoke(mBatteryProfile); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-11T17:36:46.870

首先请注意，除非您安装在系统映像上并且可以持有 BATTERY_STATS 权限，否则您无法使用此 API。这不适用于与系统分开安装的第三方应用程序。

要使用它，您不需要直接实例化 BatteryStatsImpl。您从 BatteryStatsService 收集的当前统计信息中请求它的一个实例。您可以查找设置应用程序的源代码以了解如何执行此操作：[https ://code.google.com/p/android-source-browsing/source/browse/src/com/android/settings/fuelgauge/PowerUsageSummary .java?repo=platform--packages--apps--settings](https://code.google.com/p/android-source-browsing/source/browse/src/com/android/settings/fuelgauge/PowerUsageSummary.java?repo=platform--packages--apps--settings)

尤其是：

```
import android.os.BatteryStats;

import com.android.internal.app.IBatteryStats;
import com.android.internal.os.BatteryStatsImpl;

IBatteryStats mBatteryInfo;
UserManager mUm;
BatteryStatsImpl mStats;

mBatteryInfo = IBatteryStats.Stub.asInterface(
        ServiceManager.getService("batteryinfo"));

private void load() {
    try {
        byte[] data = mBatteryInfo.getStatistics();
        Parcel parcel = Parcel.obtain();
        parcel.unmarshall(data, 0, data.length);
        parcel.setDataPosition(0);
        mStats = com.android.internal.os.BatteryStatsImpl.CREATOR
                .createFromParcel(parcel);
        mStats.distributeWorkLocked(BatteryStats.STATS_SINCE_CHARGED);
    } catch (RemoteException e) {
        Log.e(TAG, "RemoteException:", e);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:19:47.677

[BatteryStatsService](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/com/android/server/am/BatteryStatsService.java#93)维护统计信息。看看那里`BatteryStatsImpl`是如何做到这一点的（`note*()`当屏幕打开时系统会调用这些方法）

也许你可以从那里得到当前的统计数据

# c - 在没有内联汇编的情况下使用带有 gcc 的 SSE 指令

> ID：10310526
> 
> 赞同：12
> 
> 时间：2012-04-25T06:37:07.390
> 
> 标签：c, x86-64, sse, simd, intrinsics

我有兴趣将 x86-64 的 SSE 矢量指令与 gcc 一起使用，并且不想为此使用任何内联汇编。有没有办法在 C 中做到这一点？如果是这样，有人可以给我一个例子吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-04-25T06:45:46.217

是的，您可以在 *mmintrin.h 头文件中使用[内在函数](https://software.intel.com/sites/landingpage/IntrinsicsGuide/)`emmintrin.h`（ 、`xmmintrin.h`等，具体取决于您要使用的 SSE 级别）。由于许多原因，这通常比使用汇编程序更可取。

```
#include <emmintrin.h>

int main(void)
{
    __m128i a = _mm_set_epi32(4, 3, 2, 1);
    __m128i b = _mm_set_epi32(7, 6, 5, 4);
    __m128i c = _mm_add_epi32(a, b);

    // ...

    return 0;
} 
```

请注意，这种方法适用于各种平台上的大多数 x86 和 x86-64 编译器，例如 Linux/Mac OS X/Windows 上的 gcc、clang 和 Intel 的 ICC，甚至 Microsoft 的 Visual C/C++（当然仅限于 Windows）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-25T06:45:59.363

在您的 gcc 包含（此处）中查找`*intrin.h`标题。`/usr/lib/gcc/x86_64-unknown-linux-gnu/4.8.0/include/`

也许值得注意的是，标题`immintrin.h`包括根据您允许的功能（使用`-msse2`或`-mavx`例如）的所有其他内在因素。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-04-25T06:49:42.400

您想要的是[内在函数](http://en.wikipedia.org/wiki/Intrinsic_function)，它们看起来像库函数，但实际上内置在编译器中，因此它们可以转换为特定的机器代码。

Paul R 和 hroptatyr 描述了在哪里可以找到 GCC 的文档。[微软在他们的编译器中也有关于内在函数的很好的文档](http://msdn.microsoft.com/en-us/library/26td21ds%28v=vs.100%29.aspx)；即使您使用的是 GCC，您也可能会发现 MS 对这个想法的描述是一个更好的教程。

# windows - 如何在 Windows 上配置用户特定的主机文件

> ID：10310530
> 
> 赞同：11
> 
> 时间：2012-04-25T06:37:15.777
> 
> 标签：windows, networking, dns, hosts

有许多用户可以访问的 Windows Server 2003 机器。他们每个人都想配置自己的主机文件以将主机名重定向到某个 IP 地址。（它们是每个用户拥有的具有相同主机名和不同 IP 地址的虚拟机。）

> C:\WINDOWS\system32\drivers\etc\hosts

此外，我们不能简单地要求用户使用 IP 地址进行连接，因为主机名已配置并且需要在应用程序中使用。我们可以配置此用户特定的主机文件或任何解决方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-25T02:06:46.380

从技术上讲这是不可能的......一个简单的编程工作可能是编写一个脚本并在用户登录时用您想要的任何值替换文件。由于 hosts 文件中的大部分更改都是在运行时读取的，因此您应该能够达到您期望的结果

# sql-server-2008 - SQL Server 2008 R2 存储过程中的多个游标

> ID：10310534
> 
> 赞同：1
> 
> 时间：2012-04-25T06:37:28.887
> 
> 标签：sql-server-2008, cursor

我需要将数据从一个数据库中的多个表导入到另一个数据库中的更正表。

我尝试在存储过程中使用多个游标来执行此操作。每个表一个游标。

但是，我发现很难解决任何错误。

任何人都可以建议一些替代方法来创建这种类型的存储过程或调试错误的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T08:14:54.523

是的，使用[SSIS](http://msdn.microsoft.com/en-us/data/ff660751)。

它旨在处理这些类型的 ETL 场景。

# c++ - 多重继承。如何将 1 个父类的成员函数访问到另一个父类

> ID：10310546
> 
> 赞同：0
> 
> 时间：2012-04-25T06:38:29.497
> 
> 标签：c++, visual-c++

我有 C 类，它继承自 A 类和 B 类。A 类是否可以使用这种继承访问 B 类函数（例如 fun1() ）。A 和 B 都是独立的类，而 fun1() 只在 B 类中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:45:49.210

不严格通过继承。虽然 A 和 B 是 C 的父母，但 A 和 B 没有关系，也没有办法互相访问。

可以通过继承和多态，然后类A有一个虚方法，C实现调用B中的函数，像这样：

```
class A {
public:
  b get_b() { return do_get_b(); }
private:
  virtual do_get_b() = 0;
};

class B {
public:
  b some_b;
};   

class C : public A, public B {
private:
  virtual do_get_b() {return some_b;}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:01:42.713

您可以使用 dynamic_cast 检查您的 A 对象是否真的是 C 的对象，从而是 B

```
void A::foo()
{
    B* pB = dynamic_cast<B*>(this);
    if (pB) pB->bar();
} 
```

但是，如果 A 和 B 真的相互独立，那么找到不同的解决方案可能会更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:41:01.527

有时，这是可能的。[一个如何实现这一点的例子。](http://www.parashift.com/c++-faq-lite/multiple-inheritance.html#faq-25.10)

该示例适用于菱形层次结构，它比您的要复杂一些。用您的话来说，ClassA 和 ClassB 应该是从类 Base 派生的，ClassC 是从 ClassA 和 ClassB 派生的。

# android - 以编程方式将 imageview 的高度设置为 matchparent

> ID：10310550
> 
> 赞同：95
> 
> 时间：2012-04-25T06:38:44.520
> 
> 标签：android, height, imageview

我需要以编程方式将图像视图的高度设置**为 matchparent**。**如果**它是固定高度，我知道如何设置。

 **但我怎样才能将它设置为匹配父项？

**编辑：**

实际上父布局的高度是动态的。所以我需要将图像视图的高度作为父的高度。

* * *

## 回答 #1

> 赞同：277
> 
> 时间：2012-04-25T06:44:30.217

```
imageView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT)); 
```

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2016-05-24T10:17:34.430

```
imageView.getLayoutParams().height= ViewGroup.LayoutParams.MATCH_PARENT; 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2012-04-25T06:48:55.833

```
imageView.setLayoutParams
    (new ViewGroup.MarginLayoutParams
        (width, ViewGroup.LayoutParams.MATCH_PARENT)); 
```

布局参数的类型取决于父视图组。如果你放错了它会导致异常。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2019-02-13T11:42:39.000

对于 Kotlin 用户

```
val params = mImageView?.layoutParams as FrameLayout.LayoutParams
params.width = FrameLayout.LayoutParams.MATCH_PARENT
params.height = FrameLayout.LayoutParams.MATCH_PARENT
mImageView?.layoutParams = params 
```

我在这里使用`FrameLayout.LayoutParams`，因为我的 views( `ImageView`) 父母是`FrameLayout`

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2020-02-16T14:24:17.340

我有同样的问题。通过首先设置解决：

```
imageView.setMinHeight(0);
imageView.setMinimumHeight(0); 
```

进而 ：

```
imageView.getLayoutParams().height= ViewGroup.LayoutParams.MATCH_PARENT; 
```

setMinHeight 由 ImageView 定义，而 setMinimumHeight 由 View 定义。根据文档，使用两个值中的较大者，因此必须设置两者。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-04-09T05:38:25.780

如果你想匹配父母，你可以试试这个。尺寸排列是宽高顺序

```
web = new WebView(this);
        web.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-04-25T06:45:33.867

您可以使用 MATCH_PARENT 常量或其数值 -1。

* * *

## 回答 #8

> 赞同：-20
> 
> 时间：2012-04-25T06:51:36.830

启动 LayoutParams 。

分配父级的宽度和高度并将其传递给 imageview 的 setLayoutParams 方法**

# c++ - 使用 StrTk String Toolkit Library 编写 CSV 的示例

> ID：10310553
> 
> 赞同：12
> 
> 时间：2012-04-25T06:38:59.793
> 
> 标签：c++, c, serialization, csv

我刚开始学习[字符串工具包库](http://www.partow.net/programming/strtk/index.html)。我读过 CodeProject 文章，但它似乎专注于解析和标记化。有人可以指出一个使用它将结构数组序列化为 CSV 文件的示例吗？例如，给定：

```
typedef struct {
    int x;
    int y;
} Point; 
```

我想将一组点写入 csv 文件，每行一个点。int 到字符串的转换应该很快。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-25T07:41:05.387

我认为最好的例子是[字符串工具包库源代码和示例](http://www.partow.net/downloads/strtk.zip)，尤其是文件“strtk_serializer_example.cpp”。这个例子描述了结构序列化的许多场景。

# android - 是否有任何地图格式/标准和 api 可用于在 android 中映射本地地图

> ID：10310555
> 
> 赞同：0
> 
> 时间：2012-04-25T06:39:06.533
> 
> 标签：android, google-maps, maps

我正在尝试开发一个应用程序，我想在其中映射本地地图，然后根据相同的情况向我的用户提供方向指南。我希望这是一个 android 应用程序，因此寻找可用于映射或创建本地地图的格式。

有人知道这样的框架或格式吗？

我遇到的一些是 KML、GPX 和 KMZ .. 任何在这些方面做过工作以创建本地化地图的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:46:48.547

您将在此显示地图的[链接中获得答案。](http://developer.android.com/resources/tutorials/views/hello-mapview.html)

要显示路线，请使用此意图

```
Intent intent = new Intent(android.content.Intent.ACTION_VIEW,Uri.parse("http://maps.google.com/maps?saddr="+source_latitude + ","+source_longitude+ "&daddr=" dest_latitude + ","dest_longitude));
mContext.startActivity(intent); 
```

# zend-framework - Zend db select如何知道返回零行？

> ID：10310560
> 
> 赞同：1
> 
> 时间：2012-04-25T06:39:41.123
> 
> 标签：zend-framework, zend-db, zend-studio, zend-db-table

这是我的代码：

```
public function is_existing($url) {
    $query = $this->select()
        ->where("url=?",$url);

    if(!$query) {
        return false;
    } else {
        $row = $this->fetchRow($query);
        $row = $row->toArray();
        return $row;
    }
} 
```

但有时，我收到

> 致命错误：在...中的非对象上调用成员函数 toArray()

使用`if(!$query)`检查数据库中的现有行是否正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:46:47.220

将您的代码更改为此

```
public function is_existing($url) {
    $query = $this->select()
        ->where("url=?",$url);
$row = $this->fetchRow($query);
    if(!$row) {
        return false;
    } else {

        return $row->toArray();

    }
} 
```

因为无论 $url 是否匹配记录，都会始终创建 $query 对象，因此将始终通过 if 条件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:46:48.593

> 使用 if(!$query) 检查 DB 中的现有行是否正确？

不，您应该评估 fetchRow 的结果以确定是否有结果，`fetchRow`返回 a`Zend_Db_Table_Row`或`null`是否找不到行。

```
public function is_existing($url) {
    $query = $this->select()
        ->where("url=?",$url);
    $row = $this->fetchRow($query);

    if(is_null($row)) {
        return false;
    } else {
        return $row->toArray();
    }
} 
```

# xpages - 在 Web 客户端中编辑附件

> ID：10310562
> 
> 赞同：1
> 
> 时间：2012-04-25T06:39:51.477
> 
> 标签：xpages, lotus-domino

带有附件的文档在 XPage 中打开。我想在相关程序（比如 MS Word 或 Excel）中编辑附件并将更改保存回 Notes 文档。

我知道 webdav 配置，但它有重要的警告：附件不再存储在相关文档中，安全性由 ACL 控制，而不是 RN/AN。

如何在 Web 客户端中编辑文档附件？你们中有人实现过这样的功能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T23:26:51.013

WebDAV 是要走的路。有一个可以读/写 DominonAttachments 的实现。即将在 OpenNTF 上

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T08:45:13.730

鉴于它必须在另一个程序中打开，例如 word/excel，我不确定这是否可能，例如，如果您希望保存编辑，那么您需要知道何时有人将文档保存在 word/excel 等中.

您可以将文件下载控件附加到 domino doc 字段，执行此操作时它将显示所有附件，在编辑模式下您可以删除这些附件，我认为唯一可行的方法是使它们能够删除/重新上传，这是我认为在大多数 Web 应用程序上相当常见的事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T11:54:40.500

我们使用的工具（最近对 XPages 进行了改进）是 Swing：[http ://www.swingsoftware.com/](http://www.swingsoftware.com/)

我们检查了许多其他人，但没有成功。

# java - JRun 工作...我如何在 jrun 服务器中使用 servlet

> ID：10310563
> 
> 赞同：0
> 
> 时间：2012-04-25T06:39:56.337
> 
> 标签：java

JSP 页面在 Jrun 中正常工作，但是当我使用 servlet 时，它找不到该 servlet 的 .class 文件，并在执行时出现 404 错误。谁能帮助我 jrun 如何与 servlet 一起工作？我错过了什么吗？

**这是我的 web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
  <display-name>myProject</display-name>

      <servlet>
        <description></description>
        <display-name>myClass</display-name>
        <servlet-name>myClass</servlet-name>
        <servlet-class>myPackage.myClass</servlet-class>

      </servlet>
      <servlet-mapping>
        <servlet-name>myClass</servlet-name>
        <url-pattern>/myClass</url-pattern>
      </servlet-mapping>
    </web-app> 
```

**和我的简单 servlet**

```
package myPackage;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.*;

public class myClass extends HttpServlet {
    private static final long serialVersionUID = 1L;

        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        // TODO Auto-generated method stub
        PrintWriter pw = response.getWriter();
        pw.println("<html><body>my page</body></html>");
    }

} 
```

**和jsp页面**

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<form action="myClass" method="post">
<input type="submit" value="submit">
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-26T04:37:26.380

我得到了解决方案。由于 DOcTYPE 声明，它给出了错误。我只是将我的 web.xml 替换为

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE web-app PUBLIC
"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
"http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
<!-- ... -->
<servlet>
<servlet-name>myClass</servlet-name>
<servlet-class>myPackage.myClass</servlet-class>
</servlet>
<servlet-mapping>
<servlet-name>myClass</servlet-name>
<url-pattern>/myClass</url-pattern>
</servlet-mapping>
<!-- ... -->
</web-app> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:48:33.850

我承认，我从未使用过 JRun ......我认为你应该看看你的 WAR（你应该将你的代码编译到 war 或目录中。在那里搜索你是否有你的二进制编译的 servlet 文件（它应该成为 myClass.class)

# java - 重载的方法调用重新设计

> ID：10310564
> 
> 赞同：4
> 
> 时间：2012-04-25T06:40:04.363
> 
> 标签：java

我有一个`IAction`具有一个通用方法的接口：

```
public interface IAction  {
    void doAction(ISignal sig, IState state);
} 
```

然后另一个类`IActionAbstract`实现接口并使用子句`IAction`调用重载方法：`instanceof`

```
public abstract class IActionAbstract implements IAction
{

@Override
public void doAction(ISignal sig, IState state)
{
    if(sig instanceof ISignal1 && state instanceof IState1)
    {
        doOther((ISignal1)sig, (IState1)state);
    }       
    else if(sig instanceof ISignal2 && state instanceof IState1)
    {
        doOther((ISignal2)sig, (IState1)state);
    }
    else if(sig instanceof ISignal1 && state instanceof IState2)
    {
        doOther((ISignal1)sig, (IState2)state);
    }
}

abstract void doOther(ISignal1 sig, IState1 state);
abstract void doOther(ISignal2 sig, IState1 state);
abstract void doOther(ISignal1 sig, IState2 state);
} 
```

我想删除`instanceof`检查并用泛型替换或重新设计，但不向`IAction`. 我知道如何通过反射来做到这一点，但如果可能的话想避免。

编辑：删除了泛型，因为它们不是必需的。我将尝试并解释更多，以更好地了解这种方法。该`IActionAbstract`文件可能由开发人员生成实现方法的 impl。 `ISignal`并`IState`共同使该方法独一无二，可以将其视为状态机状态和信号。

类的用法看起来像伪代码：

```
List<IAction> actions;
actions.get(i).doAction(ISignal1, IState1);
actions.get(i).doAction(ISignal2, IState2);
and so on... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:47:00.120

在我看来你想要IAction的单独实现，即

```
// generic interface declaration
public interface IAction<T extends ISignal, S extends IState> {
    void doAction(T sig, S state);
}

// typed implementations of the generic interface
public class Action1 implements IAction<Signal1, State1> {
    doAction(Signal1 sig, State1 state) {
        // impl
    }
}

// another typed implementations of the generic interface
public class Action2 implements IAction<Signal2, State2> {
    doAction(Signal2 sig, State2 state) {
        // impl
    }
} 
```

...等等。否则你甚至没有使用泛型。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T08:05:18.500

我不太确定你在找什么。我同意@claesv，您的方法可能没有必要。这是我的方法：

```
public class GenericsQuestion {
    public static void main(String[] args) {
        ISignal sig = new Signal1();
        IState state = new State1();

        Strategy.getStrategyForSignalAndState(sig.getClass(), state.getClass()).doOther(sig, state);
    }
}

class SignalAndState {
    private Class<? extends IState> state;
    private Class<? extends ISignal> signal;

    /**
     * 
     */
    public SignalAndState(Class<? extends ISignal> signal, Class<? extends IState> state2) {
        // save state and signal
    }
    // equals & hashcode
}

enum Strategy {
    ONE {
        @Override
        public void doOther(ISignal sig, IState state) {
        }
    },
    TWO {
        @Override
        public void doOther(ISignal sig, IState state) {
        }
    },
    THREE {
        @Override
        public void doOther(ISignal sig, IState state) {
        }
    };

    private static final Map<SignalAndState, Strategy> STRATEGIES = new HashMap<SignalAndState, Strategy>();
    static {
        STRATEGIES.put(new SignalAndState(Signal1.class, State1.class), ONE);
        STRATEGIES.put(new SignalAndState(Signal1.class, State2.class), TWO);
        STRATEGIES.put(new SignalAndState(Signal2.class, State1.class), THREE);
    }

    public static Strategy getStrategyForSignalAndState(Class<? extends ISignal> sig, Class<? extends IState> state) {
        return STRATEGIES.get(new SignalAndState(sig, state));
    }

    public abstract void doOther(ISignal sig, IState state);
} 
```

我的眼睛，这会比使用 instanceof 更优雅和灵活。

您可能可以通过使用 EnumMap 来改进这一点，但我使用的不多，并且不确定其好处和/或用法。如果您想进一步调查，只是一个提示。

# java - 使用 JSmooth 将 Jar 转换为 exe - 找不到主类

> ID：10310570
> 
> 赞同：0
> 
> 时间：2012-04-25T06:40:53.027
> 
> 标签：java, deployment, installation, jsmooth

我的本地系统中有该`JSmooth`软件。我正在尝试将我的 jar 文件生成为 exe，但是当我单击运行它显示的 exe 时出现错误。

```
java virtual machine launcher --->
    Could not find main class: MainClass .Program will exit. 
```

如何使用`JSmooth`软件创建工作可执行文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T06:49:14.770

你可以通过双击它来执行你的jar文件吗？任何要执行的 jar 包都需要一个名为 MANIFEST.MF 的文件，该文件位于该包的 META-INF 目录中。在该文件中，您可以告诉 VM 在哪里可以找到程序的主要方法以开始执行。许多IDE（如netbeans）默认情况下会在您构建项目时生成一个可执行jar文件（我的意思是JVM可执行包而不是二进制exe文件！）。
我不知道 JSmooth，但是要运行一个 jar 文件，你必须说 jvm 在哪里可以找到 main 方法。所以你可能想检查你的 jar 文件和你的 MANIFEST.MF 应该包含这样的内容：

```
Manifest-Version: 1.0
Ant-Version: Apache Ant 1.x.x
Created-By: 1.x.x (Sun Microsystems Inc.)
Class-Path: 
X-COMMENT: Main-Class will be added automatically by build
Main-Class: path.to.main.class 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-10T04:25:52.387

JSmooth 有导入文件的问题。更好的是，您可以使用 Launch4j 工具。它工作完美。

只需从[http://sourceforge.net/projects/launch4j下载](http://sourceforge.net/projects/launch4j)

要遵循的步骤 1\. 将任何名称作为扩展名为 .exe 的输出文件并在基本选项卡下选择 yr jar 文件 2\. 在 JRE 选项卡下将 Min JRE 版本提及为 1.4.0 3\. 保存并执行。它创建exe文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-06T20:31:07.470

我发现 MANIFEST.MF 将我的主类列为“Main”，而不是“Main.class”。添加类扩展为我修复了它。

# mysql - 如何正确地将 indexex 应用于我的 mysql 数据库

> ID：10310572
> 
> 赞同：0
> 
> 时间：2012-04-25T06:41:11.177
> 
> 标签：mysql, indexing, query-optimization

目前，我的数据库查询速度很慢 - 查询时间从 0.0005 秒到 70 秒不等。

目前我的内容表结构如下：

```
如果不存在“内容”，则创建表（
  `content_id` int(11) NOT NULL AUTO_INCREMENT,
  `content_url` 文本不为空，
  `content_text` 文本不为空，
  `seed_id` int(11) NOT NULL,
  `created_at` bigint(20) 非空，
  `image` varchar(2000) 默认为空，
  `price` varchar(300) 默认为空，
  主键（`content_id`），
  唯一键 `CONTENT_TEXT_UNIQUE` (`content_text`(255)),
  KEY `FK_SEED_CODE`（`seed_id`），
  KEY `CONTENT_TEXT_TIME_INDEX` (`content_text`(255),`created_at`)
) 引擎=InnoDB 默认字符集=utf8 AUTO_INCREMENT=111357870 ；

更改表`内容`
  添加约束 `FK_SEED_ID` 外键 (`seed_id`) 参考 `seed` (`seed_id`) ON DELETE CASCADE ON UPDATE CASCADE;

```

目前我对数据库只有 2 个查询：

```
选择 seed.seed_code,content.content_id 作为 id, content.content_url, content.content_text, content.created_at, content.image, content.price FROM content
        左加入种子 content.seed_id = seed.seed_id
        WHERE seed.seed_switch = 1 AND seed.seed_status_id = 3 AND seed.seed_id in (
        SELECT seed_id FROM seed WHERE storage_id ='.$storage.') '.$filter.' ORDER BY content.content_id DESC, content.created_at DESC LIMIT 50

```

和

```
选择 seed.seed_code,content.content_id 作为 id, content.content_url, content.content_text, content.created_at, content.image, content.price FROM content
        左加入种子 content.seed_id = seed.seed_id
        WHERE seed.seed_switch = 1 AND seed.seed_status_id = 3 AND seed.seed_id in (
        SELECT seed_id FROM seed WHERE storage_id ='.$storage.') ORDER BY content.content_id DESC, content.created_at DESC LIMIT 50

```

表种子包含 ± 20 个条目。大多数情况下不会改变。

在内容表上创建的索引似乎不起作用，因为我的加载时间仍然很长。

DB有什么改进之处？

## 更新 1

内容表包含大约 100 万个条目，并且每天都会以 1-2k 个条目增长。

$filter 变量包含额外的过滤器。所以还有一些其他的 AND 语句，它们是根据用户输入随机生成的。但它只过滤 content.text 和 created_at 日期。

* * *

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:51:03.047

**编辑** 好的，注意到您的创建表中的自动增量。您拥有或曾经拥有数百万条记录（因为增量超过 1 亿条）并且正在运行 where-in 子选择，采用这种方法不会获得理想的性能。试试下面的查询，看看这是否会缩短加载时间。

您尚未提供所有详细信息（例如，有问题的表有多少条记录以及输出`'.$filter.'`是什么），但子选择很可能是加载时间缓慢的原因。此外，为自己节省一些输入和表格的别名！清理示例：

```
SELECT s.seed_code, c.content_id as id, c.content_url, c.content_text, c.created_at, c.image, c.price 
FROM content c
JOIN seed s USING(seed_id)
WHERE s.seed_switch = 1 
  AND s.seed_status_id = 3 
  AND s.storage_id ='.$storage.'
  '.$filter.' 
ORDER BY c.content_id DESC
LIMIT 50 
```

# paypal - (Paypal) GetTransactionDetails 需要 TRANSACTIONID。我如何获得它？

> ID：10310590
> 
> 赞同：2
> 
> 时间：2012-04-25T06:42:47.820
> 
> 标签：paypal, paypal-nvp

SetExpressCheckout 仅向 ReturnURL 发布以下 ACK CORRELATIONID TIMESTAMP VERSION BUILD

要完成交易，我们必须首先使用 TRANSACTIONID 调用 GetTransactionDetails 以获取 PAYERID 以最终与 DoExpressCheckout 一起使用以完成交易。

我们从哪里获得 TRANSACTIONID？我在任何地方都找不到信息。

如果我使用 CORRELATIONID 作为 TRANSACTIONID，我会得到“事务 ID 无效”。

示例文件只有“example_transactionId”，没有说明它应该来自哪里。

从贝宝

1.  调用一个 API 操作，例如 SetExpressCheckout，设置返回 URL，在买家完成 PayPal 后，PayPal 将买家的浏览器重定向到该 URL。其他设置也可以通过此 API 操作执行。
2.  在收到买家对 PayPal 的许可后调用其他 API 操作，例如 GetExpressCheckoutDetails 或 DoExpressCheckoutPayment。

第一步有效，因为我们拥有所有信息并将其返回。

![在此处输入图像描述](../Images/612787f939dc96ee0ce926980430dd8f.png)

如果没有未给出的至少 TRANSACTIONID，则无法完成第 2 步。

什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-04T11:19:11.227

你必须先做**TransactionSearch**。它将返回带有 id 的交易。然后您可以将 id 用于**GetTransactionDetails**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-27T13:18:33.443

当 paypal 将用户重定向回 RETURNURL（您应该在调用 SetExpressCheckout 时设置）时，您会在请求中获得一个 TOKEN 参数。

然后，您使用 GetExpressCheckoutDetails 将 TOKEN 作为参数来获取交易信息。响应将包含 AMT、PAYERID 和 TOKEN 等。

要完成交易，请将这些参数传递给 DoExpressCheckoutPayment。

顺便说一句，您需要使用 CORRELATIONID 的唯一时间是您与 PayPal 支持人员交谈时。它对处理付款没有实际用途。

希望能帮助到你！:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-07T08:24:09.477

在 DGdoExpressCheckout.php 中，在`$DoECResponse`. 可以在此对象的深处找到事务 ID：

```
$tranId = $DoECResponse->DoExpressCheckoutPaymentResponseDetails->PaymentInfo[0]->TransactionID; 
```

您可以在文件中获取整个对象的详细信息：

```
file_put_contents('debug.log', print_r($DoECResponse, true)); 
```

`$DoECResponse`对象提供有关事务的一些基本信息，GetTransactionDetails 可用于获取更详细的信息。大多数情况下，调用 GetTransactionDetails 并不需要太多。

# php - 字段列表中的列“id”在 YII 中不明确

> ID：10310593
> 
> 赞同：1
> 
> 时间：2012-04-25T06:42:53.813
> 
> 标签：php, mysql, yii

我是 YII 的新手。试图在控制器中实现查询，下面是我从控制器中获取的代码。

```
public function getCommentListByUser($user_id)
{
        $criteria = new CDbCriteria;
        $criteria->select = "username";
        $criteria->alias = "u";
            $criteria->condition = 'cmt.commented_userd_id  = '.$user_id;
            $criteria->join = 'JOIN tbl_taskcomment cmt ON  (cmt.commented_userd_id = u.id)';
            $criteria->order = 'cmt.id ASC';  
            $model = User::model()->findAll($criteria);  
            return $model;
} 
```

当我运行页面时，出现以下错误，

CDbCommand 未能执行 SQL 语句：SQLSTATE[23000]：完整性约束违规：1052 字段列表中的列 'id' 不明确。执行的 SQL 语句是：SELECT id, username, email, createtime, lastvisit, superuser, status FROM `tbl_users` `u`JOIN tbl_taskcomment cmt ON (cmt.commented_userd_id = u.id) WHERE cmt.commented_userd_id = 1 ORDER BY cmt.id ASC

取而代之的是从 USER 表中获取用户名，它带有没有别名的所有列。我知道这个问题与别名有关。我在这个语法和代码上做错了什么。

好心劝告

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-26T11:39:19.183

**任何一个**

改变： `$criteria->select = "username" to ==> $criteria->select = "u.username"`

**或者**

消除： `$criteria->alias = "u" and change $criteria->select = "username" to ==> $criteria->select = "t.username" and change all left join alias 'u.field_name' to ==> 't.field_name'`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T02:29:45.220

这应该可以帮助您：

[http://www.yiiframework.com/doc/guide/1.1/en/database.arr#disambiguating-column-names](http://www.yiiframework.com/doc/guide/1.1/en/database.arr#disambiguating-column-names)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:57:54.977

您可能在两个表中都有 id 列。如果您需要表中的列，`tbl_users`您应该使用别名来获取每一列：

```
SELECT u.id, u.username, u.email, u.createtime, u.lastvisit, u.superuser, u.status FROM tbl_users u 
```

你的 WHERE 条件应该是：

```
WHERE u.id = 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T07:08:51.337

我想我在`CDbCriteria`.
您可以尝试默认别名（即`t`）吗？

# c# - WPF 将枚举列表（或类似列表）绑定到复选框列表

> ID：10310595
> 
> 赞同：3
> 
> 时间：2012-04-25T06:42:56.320
> 
> 标签：c#, wpf, data-binding, binding, mvvm

我想将复选框列表绑定到 WPF 中的枚举值集合。枚举不是 [Flags]。

上下文：它用于过滤数据网格，其中每个项目都有一个我的枚举实例。它不一定需要绑定到列表，固定大小的集合也可以。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T06:54:07.847

假设您想绑定到枚举的所有可能值，您可以使用[ObjectDataProvider](http://msdn.microsoft.com/en-us/library/system.windows.data.objectdataprovider.aspx)来完成。在您的资源（`Window.Resources`或`App.Resources`等）中声明这一点：

```
 <ObjectDataProvider x:Key="enumValues" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="local:TestEnum"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider> 
```

这基本上表示对数据源的调用[`Enum.GetValues(typeof(TestEnum))`](http://msdn.microsoft.com/en-us/library/system.enum.getvalues.aspx)并将其公开为数据源。注意：您需要声明命名空间`sys`和`local`之前，其中`sys`是`clr-namespace:System;assembly=mscorlib`和`local`是您的枚举的命名空间。

一旦你有了它，你就可以像其他任何东西一样将该 ObjectDataProvider 用作绑定源，例如：

```
<ListBox ItemsSource="{Binding Source={StaticResource enumValues}}"/> 
```

这样做的非声明方式只是在代码中分配它：

```
someListBox.ItemsSource = Enum.GetValues(typeof(TestEnum)); 
```

对于绑定选定的项目，遗憾的是无法从 Xaml 设置 SelectedItems 属性，但您可以使用 SelectionChanged 事件：

```
<ListBox Name="lb" ItemsSource="{Binding Source={StaticResource enumValues}}" SelectionMode="Multiple" SelectionChanged="lb_SelectionChanged"></ListBox> 
```

然后在事件中在您的 ViewModel（或您使用的任何东西）上设置属性：

```
private void lb_SelectionChanged(object sender, SelectionChangedEventArgs e) {
    viewModel.SelectedValues = lb.SelectedItems.OfType<TestEnum>().ToList();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:53:32.273

这个适合你吗？它将任何 Enum 转换为 Dictionary，以便您可以访问 Enum 的内部整数以及它们的名称（用于显示）。

```
using System;
using System.Collections.Generic;
using System.Linq;

namespace Sample
{
    class Sample
    {
        public static IDictionary<String, Int32> ConvertEnumToDictionary<K>()
        {
            if (typeof(K).BaseType != typeof(Enum))
            {
                throw new InvalidCastException();
            }
            return Enum.GetValues(typeof(K)).Cast<Int32>().ToDictionary(currentItem => Enum.GetName(typeof(K), currentItem));
        }
    }
} 
```

**编辑**：

您可以使用 IDictionary 属性`Keys`和`Values`ICollection 类型来执行您想要的绑定。

```
myListBox.ItemsSource = myEnumDictionary.Keys; 
```

或者您当然可以直接在 XAML 中执行此操作。

```
<ListBox ItemsSource="{Binding myEnumDictionary.Keys}"></ListBox> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-04-04T16:25:16.877

以下是如何在没有任何代码或在您的视图中定义的 DataObjectProviders 的情况下做到这一点。

第 1 步：创建一个新类，该类可以存储您的 的值`ListBoxItem`，以及它是否被选中的属性。

它需要实现`INotifyPropetyChanged`以支持是否选中的双向绑定。我将使它成为通用的，因此只需要定义一次并且可以重复用于任何类型。如果您已经有一个实现 INotifyPropertyChanged 的​​基类，则可以从该基类继承并忽略此类的前几行。

```
public class SelectableItem<T> : INotifyPropertyChanged
{
  public event PropertyChangedEventHandler PropertyChanged;

  protected void OnPropertyChanged([CallerMemberName] string propertyName = "")
  {
    PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
  }

  public SelectableItem(T val)
  {
    Value = val;
    _isSelected = false;
  }

  public T Value { get; private set; }

  private bool _isSelected;
  public bool IsSelected
  {
    get => _isSelected;
    set
    {
      if (_isSelected == value) return;
      _isSelected = value;
      OnPropertyChanged();
    }
  }
} 
```

第 2 步：将属性集合添加`SelectableItem`到您的 ViewModel/DataContext。由于您的项目列表是可用枚举值的静态列表，因此无需将其实现为 ObservableCollection 或任何类似的东西。ItemsSource 只需要 1 次绑定。

```
public class ViewModel : ViewModelBase
{
  public ViewModel()
  {
    AvailableItems = typeof(TestEnum).GetEnumValues().Cast<TestEnum>().Select((e) => new SelectableItem<TestEnum>(e)).ToList();
  }

  public IEnumerable<SelectableItem<TestEnum>> AvailableItems { get; private set; }
} 
```

第 3 步：使用 an`ItemContainerStyle`允许绑定到`IsSelected`您的 s 的属性`ListBoxItem`：

```
<ListBox ItemsSource="{Binding AvailableItems, Mode=OneTime}" SelectionMode="Extended">
  <ListBox.ItemContainerStyle>
    <Style TargetType="ListBoxItem">
      <Setter Property="Content" Value="{Binding Value}"/>
      <Setter Property="IsSelected" Value="{Binding IsSelected}"/>
    </Style>
  </ListBox.ItemContainerStyle>
</ListBox> 
```

要获取所选项目，只需遍历 AvailableItems 属性并找到 IsSelected = true 的项目。您甚至可以添加一个只读属性来为您执行此操作：

```
public IEnumerable<TestEnum> SelectedItems
{
  get => AvailableItems.Where((o) => o.IsSelected).Select((o) => o.Value).ToList();
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-11-13T23:31:33.733

@Dummy01 说的是正确的，但我认为大多数人需要得到结果

```
Dictionary<int,string> 
```

不是

```
Dictionary<string,int> 
```

所以解决方案应该是

```
using System;
using System.Collections.Generic;
using System.Linq;

namespace Sample
{
    class Sample
    {
        public static IDictionary<String, Int32> ConvertEnumToDictionary<K>()
        {
            if (typeof(K).BaseType != typeof(Enum))
            {
                throw new InvalidCastException();
            }
            return Enum.GetValues(typeof(K)).Cast<Int32>().ToDictionary(i => i, i => Enum.GetName(typeof(K), i));
        }
    }
} 
```

所以现在你会得到`KeyValuePair<Int32,string>`

如果您将枚举用作 FLAGS，这将非常有用

```
[Flags]
public enum LogSystemLogType
{
   All = 1 << 1,
   CreateDatabase = 1 << 2,
   CreateContract = 1 << 3,
} 
```

# search-engine - Sphinx（通过 SphinxQL）匹配不带星号，但不带星号

> ID：10310596
> 
> 赞同：0
> 
> 时间：2012-04-25T06:43:03.137
> 
> 标签：search-engine, sphinx, wildcard

我在 Sphinx 中有一个索引，该索引中的一个词是文章编号。在这种情况下`04.007.00964`。当我像这样查询我的索引时：

`SELECT * FROM myIndex WHERE MATCH('04.007.00964')`

我有一个结果，这是预期的。但是，当我这样查询时：

`SELECT * FROM myIndex WHERE MATCH('*04.007.00964*')`

我的结果为零。

我的索引配置是：

```
index myIndex
{
    source          = myIndex
    path            = D:\Tools\Sphinx\data\myIndex
    morphology      = none
    min_word_len    = 3
    min_prefix_len  = 0
    min_infix_len   = 2
    enable_star     = 1
} 
```

我正在使用 v2.0.4-release

我做错了什么，或者我不明白什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T16:25:25.397

因为

```
min_word_len    = 3 
```

第一个查询将有效：

```
SELECT * FROM myIndex WHERE MATCH('007 00964') 
```

所以简短的词被忽略了。（索引和查询）

编辑添加：和“。” 不在默认的 charset_table 中，这就是它用作分隔符的原因。

但是 "*04" 没有被剥离，因为它是 3 个字符，

但是没有什么可以匹配的，因为“04”不会在索引中（它比min_word_len短）

...所以它是单词和中缀长度的不幸组合。可以通过设置 min_word_len = 2 轻松修复它

编辑以添加：或添加“。” 到字符集表，因此它不再用于分隔单词，因此使用整个文章编号 - 并且比 min_word_len 和 min_infix_len 都长）

# eclipse - 无法突出显示 Eclipse 中所有出现的选定单词

> ID：10310597
> 
> 赞同：111
> 
> 时间：2012-04-25T06:43:07.830
> 
> 标签：eclipse, ide, eclipse-indigo

我尝试使用该`Toggle mark occurrences (Alt + Shift + O)`按钮并`Preferences -> General -> Editors -> Text Editor -> Annotations`设置 C/C++ Occurrences 和 C/C++ Write 事件。但是当我选择一个单词时，它不会突出显示该特定单词的所有出现。

我使用的是 XP 中的 Eclipse Indigo Service Release 2，带有一个 C++ 项目。

* * *

## 回答 #1

> 赞同：279
> 
> 时间：2012-04-25T07:12:24.130

您可以尝试使用工具栏上的图标激活切换标记出现： ![Eclipse 工具栏](../Images/e8dbf3899004a062e89e55ad2e49042b.png)

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2013-01-11T09:34:28.747

首选项 --> Java --> 编辑器 --> 标记出现

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2015-03-02T04:53:25.473

在`General > Editors > Text Editors > Annotations`

![在此处输入图像描述](../Images/66b6b8d0c82a9485af4907ea609ad0a1.png)

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-10-17T09:51:40.573

签出在首选项 -> Java -> 编辑器 -> 标记出现中选中的选项。然后重新启动 Eclipse。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-08-18T11:55:34.357

每个人都推荐的 Eclipse 中包含的标准“标记事件”功能仅在任何语言的*编辑器中突出显示**标识符。*例如，它不会在 C 编辑器中突出显示，并且在控制台窗格中根本没有帮助。*`int`*

 *因此，如果您想在 ANY Eclipse 窗格中突出显示 ANY 单词上的所有出现（有点像 Notepad++ 那样），请尝试使用[Glance Eclipse 插件](https://ystrot.github.io/glance/)。

截至 2017 年 11 月，Glance 适用于 Eclipse Neon 和 Oxygen。有一段时间没有支持 Neon，[出现了一个 fork](https://github.com/cypher256/glance)，但现在似乎没有必要（并且被放弃了）。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2017-01-09T06:32:48.790

找到`Preferences`下面`Window`，

[![主窗口 - 选项卡](../Images/2426a9487b4cfc77a8f0f5f83a16f7cb.png)](https://i.stack.imgur.com/PrGkb.png)

在`General > Editors > Text Editors > Annotations`(1)

(5) 是选择颜色并按应用。

![首选项窗口](../Images/66b6b8d0c82a9485af4907ea609ad0a1.png)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-10-04T09:27:34.217

有两种方法可以突出显示所有事件。首先是使用 Eclipse 选项，这不是很可靠，因为在许多版本的 Eclipse 中都不支持它。其次是使用一个名为[Glance](http://ystrot.github.io/glance/)的插件，该插件在 Eclipse 市场中可用。这是超级简单和有效的。

## 第一种方法

在工具栏中，有 按钮`Toggling Mark Occurrences`。因此，一旦您选择了要突出显示其出现的文本/单词，然后单击此切换按钮。

[![在此处输入图像描述](../Images/2b307a2c96e57146b8ec748df64f945e.png)](https://i.stack.imgur.com/EwYQR.png)

假设这一步对你不起作用。然后，按照以下步骤操作：转到：`Window`==> `Preferences`==> `General`==> `Editors`==> `Text Editors`==> `Annotations`==> 在右侧注释类型框：`Occurrences`==> 选中所有复选框。 [![在此处输入图像描述](../Images/86f8bdf04442420297333bb97f57b45c.png)](https://i.stack.imgur.com/BarLj.png)

您也可以转到`Window`==> `Preferences`==> `Java`==> `Editor`==> `Mark Occurrences`==> 选中所有复选框。 [![在此处输入图像描述](../Images/202c4d8d273709470c9840f06b0b4d9f.png)](https://i.stack.imgur.com/QHX0V.png)

重新启动 Eclipse 并检查突出显示是否有效。如果仍然不起作用，则转到第二种方法

第二种方法 从 Eclipse 市场，安装`Glance`. 安装后，重新启动 Eclipse。现在在你的 Eclipse 编辑器中选择任何单词

1.  将焦点移至要搜索的组件
2.  `Ctrl + Cmd + F`在 Mac 或`Ctrl + Alt + F`其他平台上使用快捷方式打开 Glance
3.  输入要搜索的文本
4.  使用`Enter`或`**Shift + Enter**`查找下一个/上一个匹配项
5.  使用关闭搜索框`Esc` [![在此处输入图像描述](../Images/bebc071188bc63cf226fe6b8f24df36a.png)](https://i.stack.imgur.com/Ob7ks.png) 您也可以从`Window`==> `Preferences`==>自定义 Glance`Glance`

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-02-18T07:47:17.840

**对于日食火星：**

Window --> Preferences --> Check（标记当前文件中所选元素的出现。）

**如图所示：**

[![在此处输入图像描述](../Images/cacbb1cb680933b1753ed715125a0c55.png)](https://i.stack.imgur.com/aLmiK.png)

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2018-12-20T08:38:50.840

去

> Java> 编辑器 > 标记出现次数

取消选中**“部分更改时保留标记”，**然后单击“**确定”**

*重新启动 Eclipse。*

这对我有用。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-05-16T18:50:28.703

如果您进入窗口首选项，请选择您想要/正在使用的语言。选择此特定语言下的编辑器，然后那里有一个标记出现，其中包含一些选项。Where it says keep marks when the selection changes, for me this was checked. 当我取消选中它时，系统开始正确突出显示。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-07-24T19:16:50.667

对于使用深色背景和浅色字体颜色的人，您可能需要查看`Preferences -> General -> Editors -> Text Editor -> Annotations`. 我的默认为黑色，在黑色背景上不会突出。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-01-19T08:43:53.257

Glance 不再起作用，但在当前的 Eclipse 版本 (Eclipse 2020) 中，您可以通过选择单词并按**CTRL+F**突出显示任何单词。该词现在突出显示。在小型搜索输入中，您可以切换“匹配整个单词”和区分大小写。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-07-21T19:36:20.860

我想补充其他答案 - 仅在 Java 编辑器中工作或需要插件 - 在文本文件的任何编辑器（例如 SQL、CSV、 HTML、TXT、Java 等...）。

有一个标准/内置命令称为`Find Text in File`（下`Window -> Preferences -> Keys`）

[![在此处输入图像描述](../Images/c4ae8978d07ccb8add878d1d2a5d52e3.png)](https://i.stack.imgur.com/17S34.png)

默认情况下，它没有分配键盘快捷键。只需给它一个快捷方式（例如`Ctrl`++ `Alt`）`S`选择一些文本（不一定是一个词），它就会找到并突出显示该选定文本的所有出现。

它也可以从菜单中调用`Search -> Text -> File`。
享受

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2015-09-25T23:06:48.310

1.  单击单词并按住，直到出现如图所示的弹出窗口。
2.  在弹出窗口中，有一个小右箭头，单击它后，会出现一个新图标。
3.  单击该链接打开`preferences`。
4.  一旦进入`preferences`，选择`C/C++ Occurrences`（它将是特定于语言的）并`Include in next/previous navigation`使用选择`Text as Highlighted`。

这应该启用在打开的文件中突出显示所选单词的所有出现的功能。*

# data-structures - 为什么'set'数据结构被告知是无序的？

> ID：10310608
> 
> 赞同：0
> 
> 时间：2012-04-25T06:44:18.307
> 
> 标签：data-structures

好吧，我认为它是完全有序的，因为元素的位置取决于它们的哈希函数，因此如果这些对象是不可变的，那么在你将它们放入集合之后，它们的位置将保持不变。比如说，每次你打印你的集合时，你都会有完全相同的元素顺序。当然，在计算出它们的哈希函数之前，您无法预测它们的位置，但无论如何。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:51:35.587

## 通用/抽象数据类型

来自*Aho、Hopcroft、Ullmann的**集合*定义：“数据结构和算法”，Addison-Wesely，1987：

 *> 集合是成员（或元素）的集合；[...]。一个集合的所有成员都是不同的，[...]

抽象数据类型*集*不具有*有序*或*无序*的特点。定义了一些对集合进行操作的方法 - 但它们都与排序无关（例如，参见*Martin Richards*：“数据结构和算法”）。

如果一个集合中的每个元素也在另一个集合中，则两个集合被视为相等 - 并且没有其他元素。

当你写下一个集合（以及一个集合的所有元素）时，你需要以某种顺序写下来。请注意，这只是适当集合的表示。

示例：包含元素一、二和三的集合可以写成{1, 2, 3}, {1, 3, 2}, {3, 1, 2} 等等。这些只是同一集合的不同表示。

## 具体实现

在不同的编程语言中，*集合*以不同的方式实现，并考虑到不同的用例。

在某些语言（如 python、JAVA）中，标准集实现不会在其接口中公开排序。

在某些语言（如 C++）中，标准集实现在其接口​​中公开排序。

示例（C++）：

> 在内部，集合中的元素总是按照容器构造中特定的严格弱排序标准从低到高排序。
> 
> 模板<class Key,class Compare=less,class Allocator=allocator>class set；

（参见[C++ 集](http://www.cplusplus.com/reference/stl/set/)）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T06:48:50.300

散列函数（通常）不是一组外部可见或可修改的参数；此外，即使您有一个散列函数已知且特征良好的实现，您也无法指定散列值冲突时的行为。

通常的总结是，集合的*实现*可能会施加顺序，但*接口*不会。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T07:01:09.977

您指的是集合的哪个定义？在我的理解中，«set» 是一个数据结构的名称，它包含许多独特的元素，通常允许添加和删除。其他一切都不能保证，可能会受到实施。

它并没有说没有顺序，但是每个有效的实现都没有特定的顺序。哈希表的使用很常见，但也可以使用任何类型的列表或树。

所以顺序可能是通过一个散列函数（已经有很多可能的实现），或者与添加顺序或......

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-03-11T13:05:30.783

将新元素添加到 HashSet 后，它会被修改，并且新元素可能会根据哈希值计算定位在任何位置。因此不维持先前的顺序。*

# javascript - d3.format 中的可变精度

> ID：10310613
> 
> 赞同：9
> 
> 时间：2012-04-25T06:44:30.890
> 
> 标签：javascript, svg, format, d3.js

我正在使用 d3.format("s") 和 d3.svg.axis.tickFormat 来很好地格式化带有 SI 单位（来自国际单位制）的刻度标签。它在大多数情况下工作得很好，除了某些值会遇到舍入错误并返回大量小数位（例如，1400，如 1400 * 0.001 = 1.4000000000000001）。

为了解决这个问题，我可以指定一个精度，例如 d3.format(".2s") 但这会在 1 更好的情况下强制使用 2 个有效数字。例如，如果我有刻度 [5000, 10000, 15000]，我现在会看到 [5.0k, 10k, 15k]。最初，当我根本没有指定精度时，我得到了 [5k, 10k, 15k]。

我想知道是否可以指定最大精度，以便仅在有效位数超过指定的数字时才应用它？所以 5000 是 5k 而不是 5.0k。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-26T05:27:23.113

虽然 1400 * .001 是 1.4000000000000001，但 1400 / 1000 是 1.4；将整数乘以 10 的负幂（例如 0.001）可能会引入舍入误差，但将整数除以 10 的幂（例如 1000）似乎不会。或者至少，可能性较小？我已经在 fix-si-format-rounding 分支中实现了一个暂定修复。它是严格向后不兼容的，但由于该`d3.formatPrefix`功能没有记录，我认为在下一个补丁版本中包含它是安全的。

编辑：此修复程序在版本 2.9.2 中发布。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T23:32:52.890

You can do this by placing an if/else statement in an anonymous function where you would output the text string. Within that if/else you can satisfy **any condition** that you want and create a **function that parses your value**. Here is an example:

```
var w = 30, h = 300;
var data = [
  {'point':1, 'value':100.005},
  {'point':2, 'value':20.010},
  {'point':3, 'value':1000},
  {'point':4, 'value':5000.099},
  {'point':5, 'value':6000.934},
  {'point':6, 'value':9000.888},
  {'point':7, 'value':500.22},
  {'point':8, 'value':5.123},
  {'point':9, 'value':50.022},
  {'point':10, 'value':7000.999}
];
var chart = d3.select("body").append("svg")
  .attr('class', 'chart')
  .attr("width", w * data.length - 1)
  .attr("height", h);

chart.selectAll('text')
  .data(data)
.enter().append('text')
  .attr('x', function(d, i) { return x(i); })
  .attr('y', function(d) { return h - y(d.value); })
  .attr('dx', '0.75em')
  .attr('dy', '-0.3em')
  .attr('text-anchor', 'start')
  .text(function(d) { 
    if(d.value > 5000) {
      // Define your formatting function to return SI units
      var si = d3.format('s');
      return String(si(d.value));
    } else {
      // Otherwise round to the nearest integer
      return String(d3.round(d.value, 0));
    }
  }); 
```

Hope that helps.

# android - 更改简单 ListView 中的 ListView 文本颜色 - Android

> ID：10310620
> 
> 赞同：1
> 
> 时间：2012-04-25T06:44:46.707
> 
> 标签：android

我正在使用 Simple Listview 显示联系人列表中的电子邮件地址。它工作正常。现在，当我为 Listview 显示背景时，我想更改每行显示电子邮件地址的文本颜色。

请给我您的建议或任何代码。我怎样才能改变颜色？

这是代码：

```
<ListView
    android:id="@+id/listSendEmailFinal"
     android:layout_below="@+id/btnAddRecepients"
    android:layout_width="fill_parent"
    android:layout_height="250dip"
    android:layout_marginLeft="5dip" 
     android:layout_marginRight="5dip"
    android:background="@drawable/listview_border"
     android:cacheColorHint="#00000000"
     >
</ListView> 
```

listview_border.xml 在哪里：

```
<stroke android:width="1dp" android:color="#83F52C" />
<padding android:left="2dp"
    android:top="2dp"
    android:right="2dp"
    android:bottom="2dp" />
<corners android:radius="10dp" />
<solid android:color="#E6E6FA" /> 
```

这是listview编码：

```
mainListView.setAdapter(new ArrayAdapter<String>(AddReceiverDialog.this,android.R.layout.simple_list_item_multiple_choice, lv_arr));

mainListView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T06:52:09.040

看来您使用的是简单适配器而不是自定义适配器。

在这种情况下，您可以使用所需的文本颜色创建一个主题，并将清单文件中的主题应用到您的 ListActivity。

在 values 文件夹中创建一个 xml 文件并粘贴此代码。

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="mytheme" parent="@android:style/Theme.NoTitleBar">
       <item name="android:textColor">#2A88AA</item>
    </style>
</resources> 
```

并使用附加此主题的活动，例如

```
 <activity
     android:theme="@style/mytheme"
    .
    . 
```

# business-rules - 何时应该在 ILOG Jrules 中使用 BOM 到 XOM 映射 ExtenderName

> ID：10310622
> 
> 赞同：0
> 
> 时间：2012-04-25T06:45:15.350
> 
> 标签：business-rules, rule-engine, ilog, jrules

在规则工作室 BOM 编辑器中，有 BOM 到 XOM 映射窗口，它要求输入执行名称和扩展程序名称。我可以在一个单独的项目中编写 java 代码并将其作为 BOM 导入。那么这种扩展机制的目的是什么？与往常一样，IBM 文档说明了如何做到这一点。但是不说为什么！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T11:12:11.297

据我记得，第一个显示的是执行：
它在创建“虚拟成员”时使用，在 Ilog 术语中的含义是：不依赖于 XOM 的方法、属性或类。
请记住，您可以创建一个空的 BOM，或者您可以在基于 XOM
的 BOM 类中添加方法或属性 最简单的示例是“年龄” 没有数据库将存储此类字段，但您可以在“虚拟属性或方法”，以便在出生日期和今天之间进行比较。

如果你从头开始创建一个类（不是属性或方法）一种“虚拟对象”，你仍然需要告诉 JRules 在运行时如何考虑这个对象。

所以你用这个字段告诉 JRules，这是一个基于没有 XOM 的虚拟类，但在执行时将它用作 java.lang.Object

除了 java.lang.Object，我从未将此字段与任何其他类一起使用

是否有意义？

第二个真的很像纯java中的“扩展”。没用过……没必要。

希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:33:11.367

完成 Damien 回答：当您的 bom 类与 xom 类的名称不同时，也会使用“执行名称”字段。来自 Jrules 7.0.2 文档：

> 例如，在您的 BOM 中，有一个名为 ShoppingCart 的业务类。您需要将此业务类映射到 XOM 中名为 Cart 的执行类。要进行映射，请选择类 ShoppingCart，并在 BOM 编辑器中将 Cart 指定为执行名称。

# c# - C# Windows 应用程序 - 在 Web 浏览器中拖放

> ID：10310627
> 
> 赞同：0
> 
> 时间：2012-04-25T06:45:34.333
> 
> 标签：c#, .net, visual-studio-2008, windows-applications

我对微软技术很陌生。我的问题是 - 我在表单上有一个 Web 浏览器控件。我在左侧有一个树视图控件。树视图将包含文本节点，如“文本框”、“收音机”、“选择”、“密码”等，当用户将节点拖放到 Web 浏览器控件上时，应该会在网络浏览器控制。（如果可能，在用户从 TreeView 控件中删除节点的确切位置）。

这对大家来说可能是一个简单的问题。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:35:24.150

参考：[HTML5 在窗口之间拖放](https://stackoverflow.com/questions/3694631/html5-drag-and-drop-between-windows)

我将这个作为工作示例进行了探索：[将图像文件从您的桌面拖放到此处](https://web.archive.org/web/20150623163248/http://studio.html5rocks.com:80/#Photos)

参考： [跨浏览器 HTML5 拖放](https://www.useragentman.com/blog/2010/01/10/cross-browser-html5-drag-and-drop/) [跨浏览器窗口拖放？](https://ask.metafilter.com/48575/Drag-and-drop-across-browser-windows)

希望这有助于实现您的功能..

# android - 在编译期间使用多个证书签署 AOSP

> ID：10310641
> 
> 赞同：2
> 
> 时间：2012-04-25T06:46:40.187
> 
> 标签：android, android-source

我可以成功下载并构建 Android 操作系统源代码，并且操作系统映像工作正常。

操作系统使用“构建/目标/产品/安全”下的平台证书签名，我使用相同的证书签署了我的应用程序以使其成为系统应用程序。

此外，我想用多个证书签署操作系统，然后只用一个证书签署应用程序，以验证它仍然可以作为系统应用程序访问所有系统服务。

有没有办法用多个证书签署操作系统？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-25T21:46:07.617

为了使用`signature`权限，您的应用程序和框架应该使用**相同**的证书集进行签名。不幸的是，如果您只使用其中一个来签署您的应用程序，您将在运行时收到安全异常。

# markup - 在 GraphML 中调整 XML 输出

> ID：10310648
> 
> 赞同：2
> 
> 时间：2012-04-25T06:46:54.927
> 
> 标签：markup, xml-namespaces, custom-tag, graphml

你认为我可以调整 GraphML 的 xml 输出吗？

在[GraphML wiki](https://github.com/tinkerpop/blueprints/wiki/GraphML-Reader-and-Writer-Library)中，标签似乎是固定的：

```
<graphml>
  <graph>
    <node>
      <data></data>
    </node>
    <edge>
      <data></data>
    </edge>
  </graph>
</graphml> 
```

我看到您可以更改标签属性。您认为我可以将标签本身自定义为类似的东西`<car></car>`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T23:20:08.923

如果需要添加新元素，则必须修改[DTD](http://graphml.graphdrawing.org/specification/dtd.html)。[在这种情况下，由于DTD 定制](http://www.htmlhelp.com/tools/validator/customdtd.html)，您的数据将不再是 GraphML，而是您自己的标准。这是 GraphML DTD：

```
<!-- ====================================================================== -->
<!-- file: graphml.dtd ====================================================== 

  This is the Document Type Definition for the release candidate of 
  GraphML version 1.0 and represents a (necessarily) looser specification 
  than the corresponding XML Schema.  It's use is discouraged, though it
  may be necessary for some systems.

  Usage:

            SYSTEM "http://graphml.graphdrawing.org/dtds/1.0rc/graphml.dtd"

            xmlns="http://graphml.graphdrawing.org/xmlns/1.0rc"

    ====================================================================== -->

<!-- ===============================================================-->
<!--Parameter entity for data content -->
<!--================================================================-->

<!ENTITY % GRAPHML.data.content "(#PCDATA)">

<!-- ===============================================================-->
<!--Parameter entities for attribute list extensions -->
<!--================================================================-->

<!ENTITY % GRAPHML.graphml.attrib "">
<!ENTITY % GRAPHML.locator.attrib "">
<!ENTITY % GRAPHML.graph.attrib "">
<!ENTITY % GRAPHML.node.attrib "">
<!ENTITY % GRAPHML.port.attrib "">
<!ENTITY % GRAPHML.edge.attrib "">
<!ENTITY % GRAPHML.hyperedge.attrib "">
<!ENTITY % GRAPHML.endpoint.attrib "">
<!ENTITY % GRAPHML.key.attrib "">
<!ENTITY % GRAPHML.data.attrib "">
<!ENTITY % GRAPHML.default.attrib "">

<!--============================================================-->
<!--Attributes used by each GRAPHML element-->
<!--============================================================-->

<!ENTITY % GRAPHML.common.attrib
           ""
>

<!--================================================================-->
<!--the graphml elements-->
<!--================================================================-->

<!ELEMENT data  %GRAPHML.data.content;>
<!ATTLIST data 
                key            IDREF   #REQUIRED
                id             ID      #IMPLIED
                %GRAPHML.data.attrib;
                %GRAPHML.common.attrib;
>

<!ELEMENT default  %GRAPHML.data.content;>
<!ATTLIST default 
                %GRAPHML.default.attrib;
                %GRAPHML.common.attrib;
>

<!ELEMENT key (desc?,default?)>
<!ATTLIST key 
              id  ID       #REQUIRED
              for (graph|node|edge|hyperedge|port|endpoint|all) "all"
              %GRAPHML.key.attrib;
              %GRAPHML.common.attrib;
>   

<!ELEMENT graphml  (desc?,key*,(data|graph)*)>
<!ATTLIST graphml  
                   %GRAPHML.graphml.attrib;
                   %GRAPHML.common.attrib;
>

<!ELEMENT graph    (desc?,(((data|node|edge|hyperedge)*)|locator))>
<!ATTLIST graph    
                   id       ID           #IMPLIED
                   edgedefault (directed|undirected) #REQUIRED
                   %GRAPHML.graph.attrib;
                   %GRAPHML.common.attrib;
>   

<!ELEMENT node   (desc?,((((data|port)*,graph?))|locator))>
<!ATTLIST node   
                 id        ID      #REQUIRED
                 %GRAPHML.node.attrib;
                 %GRAPHML.common.attrib;
>

<!ELEMENT port (desc?,(data|port)*)>
<!ATTLIST port
               name    NMTOKEN  #REQUIRED
               %GRAPHML.port.attrib;
               %GRAPHML.common.attrib;
>

<!ELEMENT edge (desc?,data*,graph?)>
<!ATTLIST edge 
               id         ID           #IMPLIED
               source     IDREF        #REQUIRED
               sourceport NMTOKEN      #IMPLIED
               target     IDREF        #REQUIRED
               targetport NMTOKEN      #IMPLIED
               directed   (true|false) #IMPLIED
               %GRAPHML.edge.attrib;
               %GRAPHML.common.attrib;
>

<!ELEMENT hyperedge  (desc?,(data|endpoint)*,graph?)>
<!ATTLIST hyperedge 
                    id     ID      #IMPLIED
                    %GRAPHML.hyperedge.attrib;
                    %GRAPHML.common.attrib;
>

<!ELEMENT endpoint (desc?)>
<!ATTLIST endpoint 
                   id    ID       #IMPLIED
                   node  IDREF    #REQUIRED
                   port  NMTOKEN  #IMPLIED
                   type  (in|out|undir) "undir"
                   %GRAPHML.endpoint.attrib;
                   %GRAPHML.common.attrib;
>

<!ELEMENT locator EMPTY>
<!ATTLIST locator 
                   xmlns:xlink   CDATA   #FIXED  "http://www.w3.org/TR/2000/PR-xlink-20001220/"
                   xlink:href     CDATA    #REQUIRED
                   xlink:type     (simple) #FIXED    "simple"
                   %GRAPHML.locator.attrib;
                   %GRAPHML.common.attrib; 
>

<!ELEMENT desc (#PCDATA)>
<!ATTLIST desc %GRAPHML.common.attrib;> 
```

**参考**

*   [XML 到 SVG 转换机制的比较](http://www.svgopen.org/2003//papers/ComparisonXML2SVGTransformationMechanisms/)

# android - 从导致空异常的线程中的自定义标题栏访问视图

> ID：10310650
> 
> 赞同：0
> 
> 时间：2012-04-25T06:47:04.740
> 
> 标签：android

我有这个脂肪脂肪上传（相对于移动设备）。我在一个线程中执行此操作，以便可以访问设备的其余部分。在那个线程中，我正在访问我的自定义标题内的视图。这是线程：

```
 private OnClickListener send = new OnClickListener() {
        public void onClick(View v) {

            new Thread(new Runnable() {
    public void run() {
        _showView(R.id.progressBar1, true);
        AmazonS3Client s3 = new AmazonS3Client(
                new BasicAWSCredentials("abc",
                        "123"));

        for(Video v : video.getVideos()) {
            s3.putObject(
                    "bucket",
                    "remote_path"
                    new File("some_file");
        }
        _showView(R.id.progressBar1, false);
    }

}).start();
        }
    };

    private void _showView(int resourceId, boolean show) {
        if (show) {
            findViewById(resourceId).setVisibility(View.VISIBLE);
        } else {
            findViewById(resourceId).setVisibility(View.GONE);
        }
    } 
```

如何访问自定义标题栏的视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:49:52.083

您不能在非 UI 线程上操作视图。使用视图的**post**方法或活动的**runOnUiThread**方法在视图上执行您的操作。

例如：

```
private void _showView(int resourceId, boolean show) {

        YourActivityName.this.runOnUiThread(new Runnable() {

            @Override
            public void run() {
                if (show) {
                    findViewById(resourceId).setVisibility(View.VISIBLE);
                } else {
                    findViewById(resourceId).setVisibility(View.GONE);
                }
            }
        });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T06:51:22.143

你应该做这个..

```
runOnUIThread(new Runnable(){

    public void run(){
       _showView();

    }

 });

 private void _showView(int resourceId, boolean show) {
                if (show) {
                    findViewById(resourceId).setVisibility(View.VISIBLE);
                } else {
                    findViewById(resourceId).setVisibility(View.GONE);
                }
  } 
```

默认情况下，任何类型的 UI 都由 UI 线程处理。如果尝试在任何其他线程中修改它们会导致异常...您也可以使用处理程序

```
new Handler().post(
    new Runnable(){

            public void run(){
            _showView();

            }

     }
 ); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T06:51:29.040

每件事都像这种方法..

```
_showView(R.id.progressBar1, true); 
```

尝试更改 UI 应该使用处理程序或 runOnUiThread 来完成。只有主线程可以访问 UI 更改。

# iphone - 如何在 Xcode 中更改标签栏颜色

> ID：10310651
> 
> 赞同：2
> 
> 时间：2012-04-25T06:47:08.627
> 
> 标签：iphone, xcode, colors, tabs, uitabbarcontroller

如何在此代码中更改标签栏颜色？我的标签栏是黑色的。单击时将其更改为蓝色。我想将拖车颜色更改为任何其他颜色。

此代码来自 :application.m 和 :rotatingTabBarController.m ,rotatingTabBarController.h

```
//  1B) If this app uses tabs, create a tabbed navigation application and set the default screen for each tab
//      to the defaultScreenGuid in the tabs data
if([self.tabs count] > 0){
    [BT_debugger showIt:self:[NSString stringWithFormat:@"building a tabbed based navigation app%@", @""]];

    if([self.screens count] > 0){

        //appDelegate
        qoqb_appDelegate *appDelegate = (qoqb_appDelegate *)[[UIApplication sharedApplication] delegate];   

        //initialize the tab bar controller
        rootTabBarController = [[BT_rotatingTabBarController alloc] init];
        [rootTabBarController.view setFrame:[[UIScreen mainScreen] bounds]];
        [rootTabBarController setDelegate:appDelegate];
        rootTabBarController.view.autoresizingMask = (UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight);

        //if we have a tabbar color setup in the theme
        if(self.rootTheme != nil){
            if([self.rootTheme.jsonVars objectForKey:@"tabBarColor"]){
                if([[self.rootTheme.jsonVars objectForKey:@"tabBarColor"] length] > 3){
                    UIColor *tabberColor = [BT_color getColorFromHexString:[self.rootTheme.jsonVars objectForKey:@"tabBarColor"]];
                    NSString *tabberOpacity = @".50";
                    if([self.rootTheme.jsonVars objectForKey:@"tabBarColorOpacity"]){
                        if([[self.rootTheme.jsonVars objectForKey:@"tabBarColorOpacity"] length] > 0){
                            tabberOpacity = [NSString stringWithFormat:@".%@", [self.rootTheme.jsonVars objectForKey:@"tabBarColorOpacity"]];
                            if([tabberOpacity isEqualToString:@".100"]) tabberOpacity = @".50";
                        }
                        //colorize the tab-bar
                        [rootTabBarController addTabColor:tabberColor:[tabberOpacity doubleValue]];
                    }
                }
            }
        }

        //Fill a temporary array of view controllers to assign to tab bar controller
        NSMutableArray *tmpViewControllers = [[NSMutableArray alloc] init]; 

        //loop through each tab bar item in application data
        for(int i = 0; i < [[self tabs] count]; i++){

            //this tab
            BT_item *thisTab = (BT_item *)[[self tabs] objectAtIndex:i];
            NSString *textLabel = [[thisTab jsonVars] objectForKey:@"textLabel"];               
            UIImage *tabIcon = [UIImage imageNamed:[[thisTab jsonVars] objectForKey:@"iconName"]];              

            //get the screen from the apps array of screens for this tab's view controller
            if([[thisTab jsonVars] objectForKey:@"homeScreenItemId"]){

                BT_item *thisTabsDefaultScreenData = [self getScreenDataByItemId:[[thisTab jsonVars] objectForKey:@"homeScreenItemId"]];

                //if this is the first tab in the list, remember it as the "currently loaded screen", also make it the "previously loaded screen"
                if(i == 0){
                    [self setCurrentScreenData:thisTabsDefaultScreenData];
                    [self setPreviousScreenData:thisTabsDefaultScreenData];
                    [thisTabsDefaultScreenData setIsHomeScreen:TRUE];

                    //if theScreen has an audio file..load it in the delegate
                    if([[BT_strings getJsonPropertyValue:thisTabsDefaultScreenData.jsonVars:@"audioFileName":@""] length] > 3){

                        //appDelegate
                        qoqb_appDelegate *appDelegate = (qoqb_appDelegate *)[[UIApplication sharedApplication] delegate];   

                        //initialize audio in different thread to prevent UI blocking
                        [NSThread detachNewThreadSelector: @selector(loadAudioForScreen:) toTarget:appDelegate withObject:thisTabsDefaultScreenData];

                    }                       

                } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T07:58:12.833

```
tabBar.tintColor = [UIColor greenColor]; 
```

如果您的 IOS 版本不是 IOS 5，则会崩溃，请参阅[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITabBar_Class/Reference/Reference.html)

更安全的方法是：

```
if ([tabBarController.tabBar respondsToSelector:@selector(setTintColor:)]) {
    [tabBarController.tabBar setTintColor:color];
} 
```

//新代码

```
if ([rootTabBarController.tabBar respondsToSelector:@selector(setTintColor:)]) {
    [rootTabBarController.tabBar setTintColor:tabberColor];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-14T21:37:39.123

在 AppDelegate.m 里面处：`application didFinishLaunchingWithOptions:`

使用此编码：

```
// use this for highlighted color
[[UITabBar appearance] setSelectedImageTintColor:[UIColor colorWithRed:(256/256.0) green:(0/256.0) blue:(0/256.0) alpha:(1.0)]];

// Use this to channge the tint colo of the entere TabBar
[[UITabBar appearance] setTintColor:[UIColor colorWithRed:(255/256.0) green:(0/256.0) blue:(0/256.0) alpha:(1.0)]];

// This change only a background color
[[UITabBar appearance] setBackgroundColor:[UIColor colorWithRed:(255/256.0) green:(255/256.0) blue:(255/256.0) alpha:1.0]];

// This for change IMG or color tint on back of highlighted button.
[[UITabBar appearance] setSelectionIndicatorImage:[UIImage imageNamed:@"YourIMG.png"]]; 
```

就是这样；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T06:55:19.247

```
tabBar.tintColor = [UIColor greenColor]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-08T05:56:53.070

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
self.tabBarController.tabBar.tintColor=[UIColor redColor];
return YES;

} 
```

> 在 AppDelegate.m

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-05-02T13:30:10.860

在 IOS7 中，这是以不同的方式完成的：

```
[[UINavigationBar appearance] setBarTintColor:[UIColor redColor]]; 
```

您可以按照以下步骤操作：

我创建了一个新`UINavigationController`的例子`UIDemoNavController`，结果是：

```
- (void)viewDidLoad{
    [[UINavigationBar appearance] setBarTintColor:[UIColor redColor]];  
    [super viewDidLoad];
} 
```

这是完整的演示课程：

```
#import "UIDemoNavController.h"

@interface UIDemoNavController()

@end

@implementation UIDemoNavController

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {}
    return self;
}

- (void)viewDidLoad{
    [[UINavigationBar appearance] setBarTintColor:[UIColor redColor]];
    [super viewDidLoad];
}

- (void)didReceiveMemoryWarning{
    [super didReceiveMemoryWarning];
}

@end 
```

# facebook - 在 JAVA Servlet 中从 Facebook 注销

> ID：10310653
> 
> 赞同：0
> 
> 时间：2012-04-25T06:47:13.960
> 
> 标签：facebook, facebook-graph-api

我编写了一个调用 Facebook URL 并返回 JSON 字符串的 JAVA servlet。现在，我在调用此 URL 之前使用 OAuth 2.0 对用户进行身份验证。

所有这一切都是在 JAVA 中使用 ExecutorService 在后台发生的。一旦我调用 ExecutorService 进行所有这些处理，我立即使用以下命令将页面重定向到另一个 URL：

```
request.getRequestDispatcher("Thanks.jsp").forward(request, response); 
```

现在，我如何在后台处理正在发生的用户从 Facebook 注销？通过将处理委托给后台的 ExecutorService，浏览器页面已经移至“Thanks.jsp”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T08:12:27.437

您可以通过对该端点进行 HTTP GET 调用来使 access_token 无效（又名注销）

[https://api.facebook.com/restserver.php?method=auth.expireSession&format=json&access_token=](https://api.facebook.com/restserver.php?method=auth.expireSession&format=json&access_token=)

# java - 在 Wicket 应用程序中分离语言和格式区域设置？

> ID：10310660
> 
> 赞同：2
> 
> 时间：2012-04-25T06:47:48.860
> 
> 标签：java, wicket, wicket-1.5

我们的 Wicket 应用程序需要每个用户单独的 UI 语言和数字/日期格式区域设置（例如英语的 UI，数字和日期格式：德语）。

如果您将会话区域设置为 Locale.GERMAN，您将获得德语数字和日期格式以及德语资源（例如 MyForm_de.properties）。

我们通过将会话语言环境设置为数字和日期语言环境来解决此问题，然后使用自定义 ComponentStringResourceLoader 加载字符串（返回 super.loadStringResource(clazz, key, language != null ? new Locale(language) : locale, style, variant ））。但是，看起来字符串正在被缓存，因为如果我以不同的用户身份登录，我就会开始混合使用多种语言。

任何人都知道控制缓存（假设导致问题）？注意：我不想阻止缓存（因为这可能会损害性能）。我想我想覆盖缓存行为，以便它与我们的自定义资源加载器一起正常工作。

还是有更好的方法来解决这个问题？

这是我们用于自定义 StringResourceLoader 的代码。

```
ComponentStringResourceLoader myComponentStringResourceLoader = new ComponentStringResourceLoader() {
@Override
public String loadStringResource(Class<?> clazz, String key, Locale locale, String style, String variation) {
   return super.loadStringResource(clazz, key, getLoggedOnUser().getUILanguageLocale(), style, variation);
  }
};
getResourceSettings().getStringResourceLoaders().add(0, myComponentStringResourceLoader); 
```

这是设置会话区域设置的代码（用于数字和日期格式）。

```
getSession().setLocale(getLoggedOnUser().getNumberAndDateLocale()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T11:23:04.763

您可以为标签的 i18n 使用 Session 的语言环境，并为应该对日期使用不同语言环境的组件覆盖 #getLocale() 或 #getConverter()。我猜您谈论的是需要在德语语言环境中呈现其值的 TextField。如果是这样，只需创建始终在其#getLocale() 中返回 Locale.GERMAN 的 GermanTextField。

# java - 记忆游戏图形java

> ID：10310661
> 
> 赞同：0
> 
> 时间：2012-04-25T06:48:02.603
> 
> 标签：java, memory, graphics, colors

我正在编写一个 4x4 记忆游戏的程序。在这 16 个框中将是一对从 0 到 7 的整数。我已经将所有这些随机化并正确编码。现在我试图弄清楚每次鼠标点击框时如何将颜色与相应的整数配对。

这里大部分代码。我知道这个游戏的逻辑还没有开始，但我现在更专注于 displayHit 方法和 setColor 方法。只是发布整个代码，因为也许我在其他地方搞砸了。

```
/*Sets the background of your memory board to black*/
public void init() 
{
    setSize(400,400);
    setBackground(Color.BLACK);
    buildBoard(4);

}   
/*This is main in java applets
    You may need to add (not change) a couple things in this method
 */
public void paint(Graphics canvas)
{
    if(firstRun) //for the first run we need to build our random board
    {

        print2DArray(board);
        buildBoard(4);
        firstRun = false;
    } 
    else // once our board is built we will display the game
    {
        displayGame(canvas);
        if (mouseClicked) // if the mouse has been clicked
        {
            displayHit(canvas);//find which box the user clicked
            mouseClicked = false;
        }
    }
}

/*
    DO NOT change this method
    determines if the mouse has been pressed
    sets x and y Mouse to the location of the mouse arrow
    redraws the image
 */
public boolean mouseDown(Event e, int x, int y ) 
{
    mouseClicked = true; 
    xMouse = x;
    yMouse = y;
    repaint();
    return true;
}

/*DO NOT change this method
    redraws the scene
 */
public void update ( Graphics g ) 
{
    paint(g);

}

/*
    pre: none
    post: build an array that holds the memory values for a board of size x size
    the board will hold two of each int from 0 to size randomly placed in the array
 */

public void buildBoard(int s)

{
    int a = 4;
    for (int row = 0; row < a; row++)
        for (int column = 0; column < a; column++)
        {

            board[row][column] = count++ % 8;
        }
    for(int row = 0; row < 4; row++)

        for(int column = 0; column < 4; column ++) 
        {
            int x = (int)Math.floor(Math.random()*4);
            int y = (int)Math.floor(Math.random()*4);
            temp = board[row][column];
            board[row][column] = board[x][y];
            board[x][y] = temp;

        }
}
public static void print2DArray(int[][] arr)
{
    for (int row = 0; row < arr.length; row++)
    {
        for (int col = 0; col < arr[row].length; col++)
        {
            System.out.print(arr[row][col] + " ");
        }
        System.out.println();
    }
}

public void displayGame(Graphics canvas)
{
    canvas.setColor(Color.WHITE);

    for(int i =0; i < 400; i+= WIDTH)
        for(int j = 0; j < 400; j+= WIDTH)
            canvas.drawRect(i, j, WIDTH, WIDTH);
}

/*
    Pre: xMouse and yMouse have been initialized
    Post: A circle is displayed in the correct box on the screen
    Currently the circle is displayed at the mouse location
 */
public void displayHit(Graphics g)
{
    buildBoard(temp);
    setColor(g);
    centerHit(xMouse, xMouse);
    g.fillOval(xMouse, yMouse, 40, 40);
}

public void setColor(Graphics g)
{

    switch(temp)
    {
    case 0: g.setColor(Color.RED);
    break;
    case 1: g.setColor(Color.GREEN);
    break;
    case 2: g.setColor(Color.BLUE);
    break;
    case 3: g.setColor(Color.ORANGE);
    break;
    case 4: g.setColor(Color.CYAN);
    break;
    case 5: g.setColor(Color.MAGENTA);
    break;
    case 6: g.setColor(Color.PINK);
    break;
    case 7: g.setColor(Color.YELLOW);
    break;
    }

}
public void centerHit(int centerX, int centerY)
{
    {
        if ((xMouse > 0) && (xMouse <=100))
            xMouse = 33;
        else if ((xMouse > 100) && (xMouse <=200))
            xMouse = 133;
        else if ((xMouse > 200) && (xMouse <=300))
            xMouse = 233;
        else if ((xMouse > 300) && (xMouse <=400))
            xMouse = 333;
    }
    {
        if ((yMouse > 0) && (yMouse <=100))
            yMouse = 33;
        else if ((yMouse > 100) && (yMouse <=200))
            yMouse = 133;
        else if ((yMouse > 200) && (yMouse <=300))
            yMouse = 233;
        else if ((yMouse > 300) && (yMouse <=400))
            yMouse = 333;
    }

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:03:14.263

从您的代码中看不到您在那里所做的事情，

但我想你应该尝试以下方法：

1）确保你有一个组件说我们称之为cmp。

2）确保每次单击该框时都会调用 cmp.repaint()

3) 确保从 cmp 的paintComponent(Graphics g) 中调用 displayHit(g) 函数

那应该做

另外，温度在哪里被操纵？

这应该会有所帮助：

```
public class ColorChanger extends JFrame implements MouseListener {
    private Color c =  Color.black;
    private JPanel p = new JPanel () {
        public void paintComponent(Graphics g) {
            g.setColor(c );
            g.drawRect(100, 100, 100, 100);
        }

    };

    public  ColorChanger() {
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setPreferredSize(new Dimension(1024, 700));
        addMouseListener(this);
        this.getContentPane().add(p);
        pack();
        setVisible(true);
    }

    public static void main (String arg[]) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                new ColorChanger();
            }
        });
    }
    @Override
    public void mouseClicked(MouseEvent arg0) {
        randomizeColor();
        p.repaint();

    }
    private void randomizeColor() {
        switch ((int)(3*Math.random())) {
        case 0:c=Color.red;return;
        case 1:c=Color.blue;return;
        case 2:c=Color.green;return;
        }
    }
    @Override
    public void mouseEntered(MouseEvent arg0) {
        // TODO Auto-generated method stub

    }
    @Override
    public void mouseExited(MouseEvent arg0) {
        // TODO Auto-generated method stub

    }
    @Override
    public void mousePressed(MouseEvent arg0) {
        // TODO Auto-generated method stub

    }
    @Override
    public void mouseReleased(MouseEvent arg0) {
        // TODO Auto-generated method stub

    }

} 
```

# db2 - 如何恢复系统托盘上的 DB2 图标

> ID：10310664
> 
> 赞同：1
> 
> 时间：2012-04-25T06:48:19.643
> 
> 标签：db2

我在 Windows XP 中关闭了 DB2 系统托盘图标，现在我不知道如何恢复它。

它甚至不会在重新启动时重新出现。

有什么建议么？

提前致谢！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:15:46.713

DB2 图标有时不显示在系统托盘上。要像以前一样恢复它，请在命令提示符下运行此命令：

```
db2systray +auto 
```

希望这能解决您的问题！

# xslt - 如何删除一些标签而不删除 xslt 中的内容并将整个内容 XML 作为输入传递给另一个模板

> ID：10310665
> 
> 赞同：1
> 
> 时间：2012-04-25T06:48:25.980
> 
> 标签：xslt, xslt-1.0

我正在研究 XSLT。

源 XML：

```
 <?xml version="1.0" encoding="iso-8859-1"?>
            <Content>
              <alertHeader>

                <ol xmlns="http://www.w3.org/1999/xhtml">
                  <li>
                    <strong>Review</strong>
                    your current available balance. It can be obtained 24 hours a day, 7 days a week through
                    <a href="/ALL_UNDER_123">Account Activity</a>
                    any 123 ATM or by calling
                    <a id="dynamicvariable" href="#" name="Customercare">[Customercare]</a>
                    at
                    <a id="dynamicvariable" href="#" name="contactNo">[contactNo]</a>
                    .
                  </li>
                  <li>
                    <strong>Take into consideration</strong>

                    <ul>
                      <li>Please get in touch with us</li>
                      <li>Please consider this as important info</li>
                    </ul>

                  </li>
                  <li>
                    <strong>Current</strong>
                    Statementt doesnot match the requirement
                    <a id="dynamicvariable" href="#" name="Actual acccount">[Actual acccount]</a>
                    ,plus
                    <a id="dynamicvariable" href="#" name="totalcharges">[totalcharges]</a>
                    Make u r response as positive.
                  </li>
                </ol>
                <p xmlns="http://www.w3.org/1999/xhtml"></p>
                <div xmlns="http://www.w3.org/1999/xshtml"></div>
                <span xmlns="http://www.w3.org/1999/xshtml"></span>

              </alertHeader>
            </Content> 
```

我想编写一个 XSLT 将标签 alertHeader 中的全部内容作为值传递给另一个模板。

我想按如下方式修改此代码。

```
 1.Remove the tags   <p></p>, and <div></div>,<span></span> and <a></a>. I want to remove only tags but not the value of the tags. It should be there as it is.
                   2.Pass the content including tags to "Process" template. 
```

需要输出：

```
 <aaa>
            <text>

            <ol xmlns="http://www.w3.org/1999/xhtml">
              <li>
                    <strong>Review</strong>
                    your current available balance. It can be obtained 24 hours a day, 7 days a week through
                <dynamicvariable name="Customercare"/>

                at
                <dynamicvariable name="contactNo"/>

                .
              </li>
              <li>
                    <strong>Take into consideration</strong>

                    <ul>
                      <li>Please get in touch with us</li>
                      <li>Please consider this as important info</li>
                    </ul>

                  </li>
              <li>
                <strong>Current</strong>
                    Statementt doesnot match the requirement
              </li>
            </ol>
            </text>
          </aaa> 
```

当前的 XSLT：

```
 <?xml version="1.0" encoding="utf-8"?>
              <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output method="xml" indent="yes"/>

                <xsl:template match="alertHeader">
                  <xsl:call-template name="process">

                    <xsl:with-param name="text" select="." />

                  </xsl:call-template>

                </xsl:template>
                <xsl:template name="process">
                  <xsl:param name="text" />

                  <xsl:variable name="head" select="substring-before($text, '[')" />
                  <xsl:variable name="tag" select="substring-before(substring-after($text, '['), ']')" />
                  <xsl:variable name="tail" select="substring-after($text, ']')" />

                  <xsl:choose>
                    <xsl:when test="$head != '' and $tag != ''">
                      <xsl:value-of select="$head" />
                      <dynamicVariable name="{$tag}" />
                      <!-- recursive step: process the remainder of the string -->
                      <xsl:call-template name="process">
                        <xsl:with-param name="text" select="$tail" />
                      </xsl:call-template>
                    </xsl:when>
                    <xsl:otherwise>
                      <xsl:value-of select="$text" />
                    </xsl:otherwise>
                  </xsl:choose>
                </xsl:template>

              </xsl:stylesheet> 
```

谁能说出我的代码所需的所有更改。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T08:06:30.317

无需对 XML 文档进行任何初始处理，然后将其传递给**流程**模板。从您的问题来看，您似乎有一个要求（您没有明确提及）将文本中的“标签”（例如表单“[Total_Fee]”）转换为**动态变量**元素。

所以，你需要做的是首先有一个模板来忽略你选择的节点，但继续匹配其中的元素和文本。

```
<xsl:template match="Content|alertHeader|xhtml:p|xshtml:div|xshtml:span|xhtml:a">
  <xsl:apply-templates select="@*|node()"/>
</xsl:template> 
```

请注意，这里的复杂之处在于您为某些节点定义了不同的名称空间（并且必须在 XSLT 文档中声明这些名称空间）。如果您有多个命名空间，您还可以执行以下操作。

```
<xsl:template match="Content|alertHeader|*[local-name() = 'p']|*[local-name() = 'span']|*[local-name() = 'div']|*[local-name() = 'a']"> 
```

如果没有命名空间，您可以执行以下操作

```
<xsl:template match="Content|alertHeader|p|div|span|a"> 
```

接下来，您的命名**流程**模板可以组合起来以匹配**text()**元素

```
<xsl:template match="text()" name="process"> 
```

这允许它匹配文本元素，并递归调用自身以在文本中查找标签。

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" 
   xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
   xmlns:xhtml="http://www.w3.org/1999/xhtml" 
   xmlns:xshtml="http://www.w3.org/1999/xshtml"
   exclude-result-prefixes="xhtml xshtml">

   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="Content|alertHeader|xhtml:p|xshtml:div|xshtml:span|xhtml:a">
      <xsl:apply-templates select="@*|node()"/>
   </xsl:template>

   <xsl:template match="text()" name="process">
      <xsl:param name="text" select="." />

      <xsl:choose>
         <xsl:when test="contains($text, ']') and contains($text, '[')">
            <xsl:value-of select="substring-before($text, '[')"/>
            <dynamicVariable name="{substring-before(substring-after($text, '['), ']')}"/>
            <xsl:call-template name="process">
               <xsl:with-param name="text" select="substring-after($text, ']')"/>
            </xsl:call-template>
         </xsl:when>
         <xsl:otherwise>
            <xsl:value-of select="$text"/>
         </xsl:otherwise>
      </xsl:choose>
   </xsl:template>

   <xsl:template match="@*|*">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

当应用于您的 XML 时，将输出以下内容

```
<ol xmlns="http://www.w3.org/1999/xhtml">
<li>
<strong>Review</strong>                     your current available balance. It can be obtained 24 hours a day, 7 days a week through                     Account Activity                     any Wells Fargo ATM or by calling                     <dynamicVariable name="Call_Center_Name" xmlns="" />                     at                     <dynamicVariable name="Phone_Number" xmlns="" />                     .                   </li>
<li>
<strong>Take into account</strong>
<ul>
<li>Your pending transactions and any additional transactions that have not yet been deducted from your available balance, such as checks you have written or upcoming scheduled automatic payments.</li>
<li>Any transactions that have been returned because you did not have enough money in your account at that time; they may be resubmitted for payment by the person or party who received the payment from you</li>
</ul>
</li>
<li>
<strong>Deposit</strong>                     enough money to establish and maintain a positive account balance. A deposit of at least                     <dynamicVariable name="Absolute_Available_Balance" xmlns="" />                     ,plus                     <dynamicVariable name="Total_Fee" xmlns="" />                     in fees, would have been required to make your account balance positive at the time we sent this notice.                   </li>
</ol> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:28:38.353

xslt-1.0 中的问题是您无法访问结果节点或节点集，因为没有 XPath 或函数或任何可以引用模板转换结果的东西。

`process`您按原样调用是否必不可少？我这样做的方法是制作`process`一个模板，它只转换一个节点，然后从下面的每个节点调用它`alertHeader`，比如：

```
<xsl:template match="alertHeader">
  <!-- switch modes so we know we need to call process -->
  <xsl:apply-templates mode="callproc"/>
</xsl:template>

<xsl:template match="*" mode="callproc">
  <!-- call process on THIS node -->
  <xsl:call-template name="process">
    <xsl:with-param name="text" select="."/>
  </xsl:call-template>
  <!-- descend -->
  <xsl:apply-templates mode="callproc"/>
</xsl:template>

<!-- all the stuff that needs stripping -->
<xsl:template match="p|div|span|a" mode="callproc">
  <!-- call process on the text() portion -->
  <xsl:call-template name="process">
    <xsl:with-param name="text" select="text()"/>
  </xsl:call-template>
  <!-- no descent here -->
</xsl:template> 
```

**更新：** 没有`process`模板

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xh="http://www.w3.org/1999/xhtml"
  xmlns:xsh="http://www.w3.org/1999/xshtml">

  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="Content">
    <xsl:apply-templates/>
  </xsl:template>

  <xsl:template match="alertHeader">
    <xsl:element name="aaa">
      <xsl:element name="text">
        <!-- switch modes so we know we need to call process -->
        <xsl:apply-templates/>
      </xsl:element>
    </xsl:element>
  </xsl:template>

  <xsl:template match="*">
    <xsl:copy>
      <!-- descend -->
      <xsl:apply-templates/>
    </xsl:copy>
  </xsl:template>

  <!-- all the stuff that needs stripping -->
  <xsl:template match="xh:p|xh:div|xh:span|xsh:div|xsh:span">
    <xsl:apply-templates/>
  </xsl:template>

  <!-- was process -->
  <xsl:template match="xh:a[@name]">
    <xsl:element name="dynamicvariable" namespace="http://www.w3.org/1999/xhtml">
      <xsl:attribute name="name">
        <xsl:value-of select="@name"/>
      </xsl:attribute>
    </xsl:element>
  </xsl:template>

  <xsl:template match="xh:a"/>

  <xsl:template match="text()">
    <xsl:value-of select="."/>
  </xsl:template>

</xsl:stylesheet> 
```

**输出：**

```
 <ol xmlns="http://www.w3.org/1999/xhtml">
            <li>
                <strong>Review</strong>
                your current available balance. It can be obtained 24 hours a day, 7 days a week through

                any Wells Fargo ATM or by calling
                <dynamicvariable name="Call_Center_Name"/>
                at
                <dynamicvariable name="Phone_Number"/>
                .
            </li>
            <li>
                <strong>Take into account</strong>

                <ul>
                    <li>Your pending transactions and any additional transactions that have not yet been deducted from your available balance, such as checks you have written or upcoming scheduled automatic payments.</li>
                    <li>Any transactions that have been returned because you did not have enough money in your account at that time; they may be resubmitted for payment by the person or party who received the payment from you</li>
                </ul>

            </li>
            <li>
                <strong>Deposit</strong>
                enough money to establish and maintain a positive account balance. A deposit of at least
                <dynamicvariable name="Absolute_Available_Balance"/>
                ,plus
                <dynamicvariable name="Total_Fee"/>
                in fees, would have been required to make your account balance positive at the time we sent this notice.
            </li>
                </ol>

    </text>
</aaa> 
```

# php - 如何将文件上传到公共 html 文件夹到服务器并保存到 mysql 数据库的路径？

> ID：10310667
> 
> 赞同：1
> 
> 时间：2012-04-25T06:48:36.913
> 
> 标签：php, mysql

我想在上传时使用 php 代码将我的文件上传到公共 html 文件夹中，我想像这样插入文件路径、大小、mime 类型。请任何人给我适当的解决方案，因为我为此浪费了将近一天的时间

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T06:58:48.770

如果您的上传字段名为文件，您可以从 $_FILES 数组中获取所有信息：

```
Array
(
    [file] => Array
        (
            [name] => MyFile.txt 
            [type] => text/plain 
            [tmp_name] => /tmp/php/php1h4j1o
            [error] => UPLOAD_ERR_OK
            [size] => 123
        )
) 
```

对于路径，您可以使用 move_uploaded_file 自行设置：

```
$path = '/files/MyFile.txt';
move_uploaded_file($_FILE['file']['tmp_name'], $path); 
```

目标目录必须是可写的，您应该检查`move_uploaded_files`.

# javascript - JSF 推迟解析 JavaScript 的最佳方式？

> ID：10310676
> 
> 赞同：5
> 
> 时间：2012-04-25T06:49:17.097
> 
> 标签：javascript, jsf, pagespeed

用 JSF 延迟加载 JavaScript 库（Richfaces、Primefaces、自己的东西）以加快页面加载的最佳方法是什么？

正如 Google PageSpeed 插件所说，建议在网站完全加载时解析 JavaScript。实现此目的的一种方法是将 JavaScript 加载放在`<body>`标记的末尾。另一种方法是将“defer”属性放入标记中，正如我所见`<script>`，这不能用 JSF 的标记来完成。`<h:outputScript>`

那么，你会怎么做呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T13:02:20.907

使用`<h:outputScript target="body">`. 然后它将在`<h:body>`. 它即默认为视图中的“当前”位置（另一个`target`值是`head`它将使脚本以 结束`<h:head>`，即使脚本在 中的某处指定`<h:body>`）。

```
<h:outputScript name="js/foo.js" target="body" /> 
```

如果您也想将此应用于 3rd 方脚本，则需要创建一个自定义[`SystemEventListener`](http://docs.oracle.com/javaee/6/api/javax/faces/event/SystemEventListener.html)挂钩，[`PreRenderViewEvent`](http://docs.oracle.com/javaee/6/api/javax/faces/event/PreRenderViewEvent.html)在[`UIViewRoot#getComponentResources()`](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIViewRoot.html#getComponentResources%28javax.faces.context.FacesContext,%20java.lang.String%29)和[`UIViewRoot#addComponentResource()`](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIViewRoot.html#addComponentResource%28javax.faces.context.FacesContext,%20javax.faces.component.UIComponent,%20java.lang.String%29).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T09:55:08.170

不知道这是否重要（您可以称其为解决方法），

但是您始终可以在外部 xhtml 页面中包含一些 js 文件，这些文件将包含在您的主页中，`ui:include`这些文件将由 js/jquery 包装`<h:panelGroup id="externalPageWrapper" render="#{myBean.renderExternalPage}"`并且几乎没有 js/jquery 的帮助，您可以`.click()`在一些隐藏`h:commandButton`的内容上执行，`f:ajax`这将更`renderExternalPage`改为 true 并呈现`externalPageWrapper`这将加载该 xhtml 页面以及其中包含的所有 js 文件...

# forms - 带有查询字符串的 HTML 表单 POST 方法在操作 URL 中

> ID：10310684
> 
> 赞同：8
> 
> 时间：2012-04-25T06:49:47.173
> 
> 标签：forms, query-string, struts-1

假设我的页面上有一个带有 method=POST 的表单。现在这个表单有一些基本的表单元素，如文本框、复选框等。它的操作 URL 为[http://example.com/someAction.do?param=value](http://example.com/someAction.do?param=value)

我确实理解这实际上是一件矛盾的事情，但我的问题是它在实践中是否有效。

所以我的问题是；

1.  由于表单方法是 POST 并且我的 URL 中也有一个查询字符串 (?param=value) 它会正常工作吗？即我能否在接收页面上检索 param=value (someAction.do)

2.  假设我使用 Java/JSP 来访问服务器端的值。那么在服务器端获取值的方法是什么？访问 param=value 的值以及文本框/单选按钮/复选框等表单元素的语法是否相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-21T03:43:52.683

1) 是的，您将可以访问 POST 和 GET 变量，因为您的请求将包含两者。所以你可以相应地使用 $_GET["param_name"] 和 $_POST["param_name"] 。

2) 使用 JSP，您可以同时使用以下代码：

`<%= request.getParameter("param_name") %>`

如果您使用的是 EL（JSP 表达式语言），您还可以通过以下方式获取它们：

```
${param.param_name} 
```

**编辑**：如果`param_name`请求 QueryString 和 POST 数据中都存在 ，则它们都将作为值数组返回，第一个是 QueryString。

在这种情况下，`getParameter("param_name)`将返回其中的第一个（如此[处](https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29)所述），但是可以通过`getParameterValues("param_name")`以下方式使用该方法读取它们：

```
String[] values = request.getParameterValues("param_name"); 
```

如需更多信息，[请阅读此处](https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-15T06:15:39.607

是的。您可以在您的操作类中检索这些参数。只是您必须使用 getter 和 setter 来创建同名的属性（在您的情况下为参数）。

**示例代码**

```
private String param;

{... getters and setters ...} 
```

当您这样做时，参数值（通过 URL 传递）将保存到该特定属性的 getter 中。通过这个，你可以用这个值做任何你想做的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-10T16:54:05.807

该`POST`方法只是对用户隐藏提交的表单数据。他/她看不到哪些数据已发送到服务器，除非使用特殊工具。

该`GET`方法允许任何人查看它拥有的数据。您可以轻松地从 URL 中查看数据（例如，通过查看查询字符串中的键值对）。

换句话说，您可以通过在表单操作中使用查询字符串向用户显示（可能不重要的）数据。例如在数据表过滤器中。要保持当前的分页状态，您可以`domain.com/path.do?page=3`使用`action`. 并且您可以隐藏表单组件中的其他数据，例如`input`,`textarea`等。

这两种方法都可以用相同的方式在服务器中捕获。例如在 Java 中，通过使用`request.getParameter("page")`.

# java - Smalltalk - Can write the Java program in Smalltalk?

> ID：10310689
> 
> 赞同：0
> 
> 时间：2012-04-25T06:50:04.560
> 
> 标签：java, interpreter, smalltalk, executor

I am trying to convert this Java interpreter I wrote for my compiler to a Smalltalk interpreter. Is it possible? If so, what would be a good resources to look at? I am completely new to Smalltalk, looks weird to me for now. I would appreciate any help, thanks. Some more info on the program: The input would be an intermediate code file a sample of which is as below.

Intermediate code file, which computes the factorial of a number:

```
read
store x
push x
store i
push   1.0
store fact
push i
push   1.0
greater
testfgoto 21
push fact
push i
multiply
store fact
push i
push   1.0
minus
store i
push 1.0
testtgoto 7
push fact
print
end 
```

JavaExecutor.java Program :

```
public void executor(){
    String operation = null;
    StringTokenizer tokens = null;
    String key,value = null;
    Double tempVar = null;
    // Traverse the Arraylist to get the operations
    for(int i=0; i < operations.size(); i++){
        operation = (String)operations.get(i);
        System.out.println("Operation -------"+ operation);
        tokens = new StringTokenizer(operation);
        while(tokens.hasMoreTokens()){
            key = tokens.nextToken();
            //System.out.println("KEY "+ key);
            if(key.toUpperCase().equals("PUSH")){
                //System.out.println("Push Operation");
                value = (String)tokens.nextToken();
                //System.out.println("value "+ value);
                if(checkforVaribaleName(value)){
                    stack.push((Double)assignments.get(value));
                    System.out.println("PUSH"+ (Double)assignments.get(value));
                }
                else if(value != null){
                    stack.push(Double.parseDouble(value));
                    System.out.println("PUSH" + value);
                } else{
                    stack.push(0.0);
                    System.out.println("PUSH" + 0.0);
                }
                break;

            }else if(key.toUpperCase().equals("POP")){
                //NO LOGIC
                break;

            }else if(key.toUpperCase().equals("READ")){
                //System.out.println("Read Operation");
                tempVar = readDoubleFromConsole();
                stack.push(tempVar);
                System.out.println("PUSHP :"+tempVar);
                break;

            }else if(key.toUpperCase().equals("WRITE")){
                break;
            }else if(key.toUpperCase().equals("MULTIPLY")){
                //System.out.println("MULTIPLY operation");
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                stack.push(first*second);
                System.out.println("PUSH "+ first*second);
                break;

            }else if(key.toUpperCase().equals("DIVIDE")){
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                stack.push(second/first);
                break;
            }else if(key.toUpperCase().equals("PLUS")){
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                stack.push(second+first);
                break;
            }else if(key.toUpperCase().equals("MINUS")){
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                stack.push(second-first);
                System.out.println("PUSH "+ (second-first));
                break;
            }else if(key.toUpperCase().equals("GREATER")){
                //System.out.println("GREATER operation");
                Double first = (Double)stack.pop();
                System.out.println("POP :"+first);
                Double second = (Double)stack.pop();
                System.out.println("POP "+ second);
                if(second>first){
                    stack.push(1.0);
                }
                else{
                    stack.push(0.0);
                }
                break;
            }else if(key.toUpperCase().equals("LESS")){
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                if(second<first){
                    stack.push(1.0);
                }
                else{
                    stack.push(0.0);
                }
                break;
            }else if(key.toUpperCase().equals("EQUAL")){
                Double first = (Double)stack.pop();
                Double second = (Double)stack.pop();
                if(second==first){
                    stack.push(1.0);
                }
                else{
                    stack.push(0.0);
                }
                break;
            }else if(key.toUpperCase().equals("STORE")){
                //System.out.println("Store operation");
                value = (String)tokens.nextToken();

                assignments.put(value, (Double)stack.pop());
                System.out.println("POP :"+assignments.get(value));
                break;
            }else if(key.toUpperCase().equals("TESTFGOTO")){
                value = (String)tokens.nextToken();
                if((Double)stack.pop() == 0.0){
                    System.out.println("POP " +0.0);
                    i = Integer.parseInt(value)-2;
                }
                break;
            }else if(key.toUpperCase().equals("TESTTGOTO")){
                value = (String)tokens.nextToken();
                if((Double)stack.pop() == 1.0){
                    System.out.println("POP " +1.0);
                    i = (Integer.parseInt(value)-2);
                    System.out.println(i);
                }
                break;
            }else if(key.toUpperCase().equals("PRINT")){
                //System.out.println("PRINT operation");
                System.out.println("Result "+stack.pop());
                break;
            }else if(key.toUpperCase().equals("END")){
                System.out.println("Execution Completed");
                System.exit(0);
            }

        }
    }
}

public static void main(String args[])
{
    String fileName = null;
    if(args.length > 0)
    {
        fileName = args[0];
    }
    else{
        System.out.println("Usage : JavaExecutor fileName.inp");
        System.exit(0);
    }
    JavaExecutor j = new JavaExecutor(fileName);
    j.readFromFile();
    j.executor();

} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-02T01:57:15.123

Here's a VisualWorks Smalltalk version of the interpreter:

```
'From VisualWorks, 7.8 of March 30, 2011 on May 1, 2012 at 9:47:31 PM'!

CodeComponent create: #package named: 'IntermediateInterpreter'!"Package IntermediateInterpreter*"!

CodeComponent create: #package named: 'IntermediateInterpreter'!

Smalltalk defineClass: #IntermediateInterpreter
    superclass: #{Core.Object}
    indexedType: #none
    private: false
    instanceVariableNames: 'lines currentLineNumber variables stack commands '
    classInstanceVariableNames: ''
    imports: ''
    category: ''!

!IntermediateInterpreter class methodsFor: 'instance creation'!

new
    ^super new initialize
! !

!IntermediateInterpreter methodsFor: 'initialize-release'!

initialize

    stack := OrderedCollection new.
    variables := Dictionary new.
    lines := OrderedCollection new.
    self initializeCommands
!

initializeCommands

    commands := Dictionary new.
    commands
        at: 'READ' put: [:values | stack add: (self tokenize: (Dialog request: 'value?' initialAnswer: ''))];
        at: 'STORE' put: [:values | variables at: values second put: stack removeLast];
        at: 'PUSH' put: [:values | stack add: ((self isVariableName: values second) ifTrue: [variables at: values second] ifFalse: [values second])];
        at: 'GREATER' put: [:values | | a b | b := stack removeLast. a := stack removeLast. stack add: (a > b ifTrue: [1.0] ifFalse: [0.0])];
        at: 'MULTIPLY' put: [:values | | a b | b := stack removeLast. a := stack removeLast. stack add: a * b ];
        at: 'MINUS' put: [:values | | a b | b := stack removeLast. a := stack removeLast. stack add: a - b ];
        at: 'TESTFGOTO' put: [:values | (stack removeLast - 0.0) abs < 0.01 ifTrue: [currentLineNumber := values second]];
        at: 'TESTTGOTO' put: [:values | (stack removeLast - 1.0) abs < 0.01 ifTrue: [currentLineNumber := values second]];
        at: 'PRINT' put: [:values | Transcript show: stack removeLast printString; cr];
        at: 'END' put: [:values | currentLineNumber := 0]! !

!IntermediateInterpreter methodsFor: 'testing'!

isVariableName: aString

    (aString isKindOf: String) ifFalse: [^false].
    ^aString first isAlphabetic! !

!IntermediateInterpreter methodsFor: 'interpreting'!

interpret: aString

    self createLinesFrom: aString.
    currentLineNumber := 1.
    self interpret!

interpret

    | tokens |
    [currentLineNumber = 0] whileFalse: 
            [tokens := lines at: currentLineNumber.
            Transcript show: tokens printString; cr.
            currentLineNumber := currentLineNumber + 1.
            (commands at: tokens first asUppercase
                ifAbsent: [self error: 'Unknown command']) value: tokens]!

tokenizeLine: aString

    ^(((aString tokensBasedOn: Character space)
        reject: [:each | each isEmpty]) collect: [:each | self tokenize: each]) asArray!

tokenizeCurrentLine

    ^(((lines at: currentLineNumber) tokensBasedOn: Character space)
        reject: [:each | each isEmpty]) collect: [:each | self tokenize: each]!

createLinesFrom: aString

    | stream |
    stream := aString readStream.
    [stream atEnd] whileFalse: [lines add: (self tokenizeLine: (stream upTo: Character cr))]!

tokenize: each

    ^(self isVariableName: each)
        ifTrue: [each]
        ifFalse: [Number readFrom: each readStream]! ! 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-25T08:34:30.753

It should not be to hard at all to implement interpreter for your intermediate code in Smalltalk, but you need to know at least basics of Smalltalk: Collection classes, Stream classes, and making yourself comfortable in IDE.

[Stephane Ducasse has great collection of free Smalltalk books](http://stephane.ducasse.free.fr/FreeBooks.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:07:33.003

Automated translation between programming languages is possible in theory, feasible only in a small number of circumstances, efficient in very few of those. Even automated translation of virtual machine bytecode is usually not efficient (and the JVM is rather Java-specific; translating to/from Smalltalk bytecode may not go well).

# python - 美丽的汤和正则表达式

> ID：10310690
> 
> 赞同：3
> 
> 时间：2012-04-25T06:50:06.443
> 
> 标签：python, regex, beautifulsoup

我正在使用 Beautiful Soup 来识别特定标签及其内容。内容是 html 链接，我想提取这些标签的文本。

问题是文本是根据特定的模式由不同的数字组成的。我只对“61993J0417”和“61991CJ0316”等数字感兴趣，当数字中间有“J”和“CJ”时，我需要正则表达式来匹配。

我已经使用此代码来实现此目的：

```
soup.find_all(text=re.compile('[6][1-2][0-9]{3}[J]|[CJ][0-9]{4}')) 
```

汤变量是特定标签的内容。此代码适用于 10 个案例中的 9 个。但是，当我在我的一个源文件上运行此脚本时，它也匹配诸如“51987PC0716”之类的数字。

我不明白为什么，所以我向你寻求帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:04:22.860

IIUC，你的字符串中总是有一个“J”。因此，将其设为必填，并使用问号将“C”设为可选。就像是：

```
re.compile('6[1-2][0-9]{3}C?J[0-9]{4}') 
```

我没有对此进行测试，但您可能可以自己从这里继续。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-25T07:06:02.770

您尚未指定`|`适用于什么；默认情况下，它是整个正则表达式，这意味着您已经要求

```
[6][1-2][0-9]{3}[J] 
```

（与 相同`6[12][0-9]{3}J`）*或*

```
CJ[0-9]{4} 
```

（*不是* `[CJ]`，意思是“C 或 J”）。使用括号指定备选方案是什么：

```
^6[12][0-9]{3}(J|CJ)[0-9]{4}$ 
```

哪个写得更好

```
^6[12][0-9]{3}C?J[0-9]{4}$ 
```

# android - 用画布在屏幕角落绘制

> ID：10310695
> 
> 赞同：0
> 
> 时间：2012-04-25T06:50:48.517
> 
> 标签：android, canvas

我想在全屏布局中绘制一些文本，问题是我可以得到一个准确的点。这是我编码的内容：

```
 DisplayMetrics display = getResources().getDisplayMetrics();
                    int width = display.widthPixels;
                    String data_azi = DateFormat.getDateTimeInstance().format(new Date()); 
                    cnv.drawText(data_azi, width - p.measureText(data_azi), 40,p); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T08:07:00.287

您需要预先测量并在绘图期间使用该测量值。例如，您可以`measureText()`在初始化时调用。此方法测量当前日期的宽度，并将测量的宽度增加 20%。

```
private final Rect mBounds = new Rect();
private final Date mDate = new Date();

private void measureText(final Paint p){
    final String dummy =  DateFormat.getDateTimeInstance().format(mDate);
    p.getTextBounds(dummy, 0, dummy.length(), mBounds);
    final int inset = (int) (mBounds.width()*0.1f); //add safety margin
    mBounds.inset(-inset, 0);
} 
```

然后你画成这样：

```
mDate.setTime(System.currentTimeMillis());
String data_azi = DateFormat.getDateTimeInstance().format(mDate); 
cnv.drawText(data_azi, width - mBounds.width(), mBounds.height(),p); 
```

还要确保您的绘画对象左对齐`p.setTextAlign(Align.LEFT);`

# c++ - 最易于使用、轻量级、独立于平台的 C++ 图形库

> ID：10310697
> 
> 赞同：1
> 
> 时间：2012-04-25T06:50:51.917
> 
> 标签：c++, graphing, platform-independent

使用像 matlab 和 octave 这样的图形函数的最简单的 C++ 库是什么？我查看了几个并发现了所有类似的主要问题：我无法编译一个只有

```
#include <iostream>

#include "header_to_include.h"

int main(){

   return 0;
} 
```

我找到了 koolplot、一些 wxwidget 的东西、sdl_graph、gnuplot++ 和 Qt 的东西。[我在这里查看](https://stackoverflow.com/questions/492893/graph-drawing-c-library)了列表中的一些，但有些是用于其他语言的，而另一些则使用安装程序或依赖于其他程序。当我提取文件并尝试从下载中编译我的简单代码或给出示例代码时，代码块总是抱怨缺少标题或变量或其他一些东西。

我会使用 gnuplot，除非我不想从我的 cpp 文件创建 gnuplot 文件，即使它是通过管道。我希望能够直接从程序中绘制图形。

有没有什么只是压缩包中的少量文件，可以立即提取和使用，而不必弄清楚要包含哪些文件、安装/下载其他主要库等？

编辑：

例如，我找到了[http://sdl-grapher.googlecode.com/svn/trunk/](http://sdl-grapher.googlecode.com/svn/trunk/)并下载了文件。我已经有 sdl，所以我将 sdlgraph.h 复制到包含文件夹中，并将副本留在与 example.c 相同的目录中。当我编译时，我发现由于某种原因，它`#include <sdlgraph.h>`不起作用。`int main()`尽管是 SDL 程序，但也没有任何参数。修复后，`undefined reference`我可以在文件中清楚地看到 15 个不同的功能，`sdlgraph.h`例如`init_graph``draw_grid`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T11:18:34.540

关于您的错误：由于您对 C++ 很陌生，我将解释您的`undefined reference`错误。

在 C++ 中，您可以像这样声明一个函数：

```
void foo(); 
```

但是，由于它是声明的，它并不主要是它的定义。定义可以存在于 C++ 源文件、库中，也可以存在于头文件中。

定义前面的例子：

```
void foo() {
    std::cout << "void foo() has been called." << std::endl;
} 
```

您得到的错误意味着这些函数只是没有定义。我怀疑您必须将您的应用程序与 SDL 库链接起来。

有关更多信息，请参阅： [http ://content.gpwiki.org/index.php/SDL:Tutorials:Setup](http://content.gpwiki.org/index.php/SDL:Tutorials:Setup)

有关动态和静态链接的更多信息，请参阅： http: [//www.learncpp.com/cpp-tutorial/a1-static-and-dynamic-libraries/](http://www.learncpp.com/cpp-tutorial/a1-static-and-dynamic-libraries/)

希望能帮助到你！

# android - Android 应用内机器人媒体：恢复事务

> ID：10310698
> 
> 赞同：15
> 
> 时间：2012-04-25T06:51:02.400
> 
> 标签：android, in-app-purchase, in-app-billing

我正在尝试在 net.robotmedia.billing 库的帮助下实现应用内购买功能。

购买应用内商品（托管）有效：购买已完成，谷歌结帐中有订单，然后当我重新启动设备时，例如，当恢复交易时，可以检索“购买”状态。

当我卸载并重新安装应用程序时，在恢复交易后可以检测到购买状态。但是，这一次某些东西（可能是市场应用程序）发送了“购买失败”通知。交易历史（购买后）始终为：8x`Transaction.PurchaseState.CANCELLED`后跟 1 `Transaction.PurchaseState.PURCHASED`。

“购买失败。” - 即使没有进行购买，也会发送通知。在初始化我做：

```
BillingController.setConfiguration(mConfiguration);
BillingController.registerObserver(myBillingObserver);
...
BillingController.checkBillingSupported(this);
BillingController.restoreTransactions(this); 
```

一切似乎都有效，只是我收到了这个通知。如何摆脱此通知？或者我可能错过了什么？

**更新**：上述取消的交易只是正确的历史记录。市场应用程序（我假设）仍然在 RESTORE_TRANSACTIONS 上发送“购买失败”通知（我假设当我收到这些取消的交易时）。

也许这并不重要，因为用户不会取消、重新购买、取消、重新购买等。但是一旦交易被取消，每当处理恢复时，用户都会收到此通知，这很烦人（并且对用户）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-27T14:41:00.647

尝试使用 InApp version3.0，参考可[在此处](http://android-developers.blogspot.in/2012/12/in-app-billing-version-3.html)获得。谷歌团队使开发人员非常容易。根本没有服务，真的很简单，对我来说效果很好....

# xcode - 为什么 Xcode 会创建无限的文件夹递归？

> ID：10310700
> 
> 赞同：20
> 
> 时间：2012-04-25T06:51:13.287
> 
> 标签：xcode, recursion, directory

我是 Objective C、Xcode (4.3.2) 和 Mac OS (10.7.3) 的新手。我注意到我的几个 Xcode 项目在项目文件夹中有无限的文件夹递归。这在 Xcode 中不可见，仅在 Finder 中可见。有没有人遇到过这个或对此有所了解？在 Finder 中查看文件夹时，它看起来像这样：

```
- projectName
  file1.h
  file1.m
  file2.h
  file2.m
  - projectName
    file1.h
    file1.m
    - projectName
      file1.h
      file1.m
      ... and so on ... 
```

并非顶层文件夹中的所有文件都在子文件夹中，但所有子文件夹看起来都相同（尽管我从未到达这个无底结构的尽头）。

我看不到任何迹象表明这些子文件夹是别名。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T20:30:01.170

它以前发生在我身上。将文件添加到项目时必须非常小心。如果您不小心双击了一个文件夹，它将被添加到您的项目中。如果该文件夹恰好是您的项目根文件夹，则会递归添加。令人讨厌的是，看起来 Xcode 并没有这样做，但它在后台非常努力地添加所有文件，然后它们会在你不看的时候神奇地弹出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-27T15:56:54.617

在 Xcode 7 中也发生在我身上。您可以通过删除递归文件夹来修复它。我还必须在**Xcode**中进入**Project** -> **Build Phases** -> **Copy Bundle Resources**，并且必须删除带有项目名称的文件夹（通过选择它并单击减号来删除它）。清洁和构建，它应该再次工作......

# c# - 反射：程序集获取版本给出错误的版本值

> ID：10310703
> 
> 赞同：3
> 
> 时间：2012-04-25T06:51:27.203
> 
> 标签：c#, reflection, assemblies

我使用下面的代码来获取 Windows GAC 文件夹中的一组程序集的版本。

```
FileVersionInfo fvi = FileVersionInfo.GetVersionInfo(assembly.Location);
                string productVersion = fvi.ProductVersion; 
```

运行上述代码后，我手动右键单击并获取程序集的版本。**对于某些程序集**，返回的版本`productVersion`与手动获取的值不同。有什么可能的原因吗？

 *** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T07:09:25.517

对于程序集对象的文件版本，请使用：

```
var assembly = System.Reflection.Assembly.GetExecutingAssembly(); // the current assembly

var version = assembly.GetName().Version.ToString(); 
```**

# c - 访问结构中的指针

> ID：10310705
> 
> 赞同：3
> 
> 时间：2012-04-25T06:51:35.213
> 
> 标签：c, arrays, pointers, segmentation-fault

目前我有以下代码：

```
typedef struct _hexagon {
    int *vertice[6];
    int *path[6];
    int resourceType;
} hexagon;

typedef struct _game {
    hexagon hexagons[5][5];
} Game; 
```

主要我有：

```
Game g;
// This is the line that fails
g.hexagons[0][0].vertice[0] = 0; 
```

这编译得很好，但会产生分段错误。我尝试了很多变化，例如

```
g.hexagons[0][0].*vertice[0] = 0; 
```

哪个不编译。如何从结构中访问指针的内存？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T07:02:22.643

作为`vertice`一个`array-of-pointes-to-integers`，要访问`vertice[0]`，你需要做`*g.hexagons[0][0].vertice[0]`

示例程序：

```
#include <stdio.h>

typedef struct _hexagon {
    int *vertice[6];
    int *path[6];
    int resourceType;
} hexagon;

typedef struct _game {
    hexagon hexagons[5][5];
} Game;

int main()
{
    int i1 = 1;
    int i2 = 2;
    int i3 = 3;
    int i4 = 4;
    int i5 = 5;
    int i6 = 6;

    Game g;
    g.hexagons[0][0].vertice[0] = &i1;
    g.hexagons[0][0].vertice[1] = &i2;
    g.hexagons[0][0].vertice[2] = &i3;
    g.hexagons[0][0].vertice[3] = &i4;
    g.hexagons[0][0].vertice[4] = &i5;
    g.hexagons[0][0].vertice[5] = &i6;

    printf("%d \n", *g.hexagons[0][0].vertice[0]);
    printf("%d \n", *g.hexagons[0][0].vertice[1]);
    printf("%d \n", *g.hexagons[0][0].vertice[2]);
    printf("%d \n", *g.hexagons[0][0].vertice[3]);
    printf("%d \n", *g.hexagons[0][0].vertice[4]);
    printf("%d \n", *g.hexagons[0][0].vertice[5]);

    return 0;   
} 
```

输出：

```
$ gcc -Wall -ggdb test.c 
$ ./a.out 
1 
2 
3 
4 
5 
6 
$ 
```

希望能帮助到你！

* * *

更新：正如 Luchian Grigore 所指出的

分段错误的原因由下面的小程序解释。简而言之，您正在取消引用 NULL 指针。

```
#include <stdio.h>

/*
int *ip[3];
+----+----+----+
|    |    |    |
+----+----+----+
   |    |    |
   |    |    +----- points to an int *
   |    +---------- points to an int *
   +--------------- points to an int *

ip[0] = 0;
ip[1] = 0;
ip[2] = 0;

+----+----+----+
|    |    |    |
+----+----+----+
   |    |    |
   |    |    +----- NULL
   |    +---------- NULL
   +--------------- NULL

*ip[0] -> dereferencing a NULL pointer ---> segmantation fault
*/

int main()
{
    int * ip[3];
    ip[0] = 0;
    ip[1] = 0;
    ip[2] = 0;

    if (ip[0] == NULL) {
        printf("ip[0] is NULL \n");
    }

    printf("%d \n", *ip[0]);
    return 0;
} 
```

现在你可以`int *ip[]`与你的`g.hexagons[0][0].vertice[0]`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T06:59:52.083

我想你可能误解了你在`_hexagon`. `*vertice[6]`并且您的其他数组成员都是**指针数组**，因此您必须将每个元素视为指针。

```
int x = 10;
g.hexagons[0][0].vertice[0] = &x; 
```

将指针的地址存储在`x`指针数组的位置 0 处。

# c++ - imap：从 C++ 程序发送电子邮件时“无法创建可选择的 TCP 套接字”

> ID：10310712
> 
> 赞同：0
> 
> 时间：2012-04-25T06:52:04.540
> 
> 标签：c++, imap, gmail-imap

我正在尝试使用 imap 库从 C++ 程序发送电子邮件。我有一个 Google Apps 和一个将电子邮件发送到的 Gmail 帐户。

每当程序无法发送电子邮件时，我都会将错误记录到文件中。

我将程序设置为循环运行以发送电子邮件。有时，我没有收到电子邮件，当我检查日志文件时，我发现每次发送电子邮件失败时都会记录这些错误。

这是日志文件的一部分：

```
[2012-04-23 11:04:34]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (2753 >= 1024)
[2012-04-23 11:04:34]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (2753 >= 1024)
[2012-04-23 11:05:36]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1692 >= 1024)
[2012-04-23 11:05:36]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1692 >= 1024)
[2012-04-23 11:07:52]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1605 >= 1024)
[2012-04-23 11:07:52]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1605 >= 1024)
[2012-04-23 11:08:02]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1566 >= 1024)
[2012-04-23 11:08:02]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1566 >= 1024)
[2012-04-23 11:08:09]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1067 >= 1024)
[2012-04-23 11:08:09]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1067 >= 1024)
[2012-04-23 11:08:19]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1648 >= 1024)
[2012-04-23 11:08:19]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1648 >= 1024)
[2012-04-23 11:08:20]   ErrCode:1 ErrMsg:Unable to create selectable TCP socket (1130 >= 1024)
[2012-04-23 11:08:20]   ErrCode:2 ErrMsg:Unable to create selectable TCP socket (1130 >= 1024) 
```

它与imap服务器端口有关吗？如果是这样，它应该设置到哪个端口？总是993？？如何解决此错误？

**这是我的设置：**

```
Name: Ashwin
my email: blahblah@wyswtf.com
reply-to-email: blahblah@wyswtf.com 
```

**SMTP 服务器信息：**

```
Host: smtp.gmail.com
Encryption: SSL
Port: 465 
```

该程序以 root 用户身份运行，我使用的库来自[http://panda.com/imap/](http://panda.com/imap/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:57:25.027

该库使用了一些古老的 I/O 多路复用代码，因此它一次只能处理 1,024 个连接。要么使用不同的库，要么限制对库的请求。

**更新**：我打算为你研究这个，如有必要，修复代码以解决这个问题，或者找出你如何构建代码的变化。但似乎该库不是公开的。抱歉，我们无法为您修复封闭源代码。

# c - 从 C 调用 cuda 函数

> ID：10310713
> 
> 赞同：2
> 
> 时间：2012-04-25T06:52:07.053
> 
> 标签：c, cuda

我有一个包含函数 void A() 的文件 A.cu。我有另一个文件 test_A.c 调用 cuda 函数 A() 并且函数声明为

```
extern void A(); 
```

现在我编译并链接它们如下

```
nvcc -c -o A.o A.cu 
gcc -o test_A test_A.c A.o /opt/cuda-4.0/cuda/lib64/libcudart.so 
```

我得到像这样的错误

```
undefined reference to `A' 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T07:26:38.083

问题可能是 C++ 名称修改。CUDA 代码是用 C++ 编译器编译的，而不是 C 编译器。如果您转储其中的内容，`A.o`您应该会找到一个类似于 的符号`_Z1Av`，而不是`A`C 编译器所期望的。

为了克服这个问题，您可以在`A.cu`文件中使用以下声明：

```
extern "C" void A(void)
{
    .......
} 
```

这将告诉 C++ 编译器在编译代码时使用 C 约定，并且将适当命名的函数写入`A.o`C 编译器和链接器可以理解的目标文件。

# sql-server - 在 Sql Server 中查找连字符的查询

> ID：10310715
> 
> 赞同：1
> 
> 时间：2012-04-25T06:52:09.677
> 
> 标签：sql-server

我在数据库中有这样的记录，如下所示。我想在 Account Column 中搜索，这是我在 AccountDetails 表中的最后一列。我想根据条件进行搜索，例如

1-想要查找在第一个数字之后包含连字符的软管记录（可以是任何东西）
12-想要找到在第二个数字之后包含连字符的那些记录（可以是任何东西）
123-想要找到那些包含第三个数字后的连字符（可以是任何数字）

**帐户明细表**

```
230263  jba 100-1807
230263  jba 100-1808
230263  jba 100-1809
235572  jba 99-1818
235572  jba 99-1819
235572  jba 99-1820
235572  jba 9-1818
235572  jba 9-1819
235572  jba 9-1820 
```

我已经这样做了

```
Select * From WF_Account Where CompanyId = 'jba' and Account Like '%-%' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T06:58:30.803

不确定您正在运行哪个版本的 sql。

但在 SQL Server 中，您可以使用`CHARINDEX`或在 sql 2012`FINDSTRING`

例如

```
WHERE CHARINDEX('-', Col1) > 0 
```

编辑：

您还可以使用`PATINDEX`which 返回模式的字符串位置。

所以也许：

```
WHERE PATINDEX('%-', Col1) <= 3 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:13:22.880

你可以试试这个查询：

*1-想要找到那些在第一个数字之后包含连字符的记录（可以是任何数字）*

```
SELECT *
FROM WF_Account
WHERE CompanyId = 'jba'
AND CHARINDEX('-', Account) = 2 
```

*12-想要找到那些在第二个数字之后包含连字符的记录（可以是任何数字）*

```
SELECT *
FROM WF_Account
WHERE CompanyId = 'jba'
AND CHARINDEX('-', Account) = 3 
```

*123-想要查找那些在第三个数字之后包含连字符的记录（可以是任何数字）*

```
SELECT *
FROM WF_Account
WHERE CompanyId = 'jba'
AND CHARINDEX('-', Account) = 4 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:23:45.713

[这个使用正则表达式](http://manuals.sybase.com/onlinebooks/group-asarc/srg1100e/sqlref/@Generic__BookTextView/73386;pt=73946)怎么样。

1-想要查找在第一个数字之后包含连字符的软管记录（可以是任何数字）

```
Select * From WF_Account Where CompanyId = 'jba' and Account Like '_-%'; 
```

12-想要找到那些在第二个数字之后包含连字符的记录（可以是任何数字）

```
Select * From WF_Account Where CompanyId = 'jba' and Account Like '__-%'; 
```

123-想要查找那些在第三个数字之后包含连字符的记录（可以是任何数字）

```
Select * From WF_Account Where CompanyId = 'jba' and Account Like '___-%'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-03T08:01:56.963

使用 LIKE 的 [] 字符集选项。如果您需要将连字符放入字符集中，另请参阅 ESCAPE 子句。

```
select * from WF_Account
-- Hypen after one digit
where Account like '[0-9]-%'
-- Hypen after two digits
or Account  like '[0-9][0-9]-%'
-- Hypen after three digits
or Account  like '[0-9][0-9][0-9]-%' 
```

# javascript - 使用 jQuery 切换显示/隐藏点击

> ID：10310717
> 
> 赞同：36
> 
> 时间：2012-04-25T06:52:20.000
> 
> 标签：javascript, toggle, jquery

我有一个`div`元素，所以当我点击它时，另一个`div`默认隐藏的元素是滑动和显示，这里是动画本身的代码：

```
$('#myelement').click(function(){
     $('#another-element').show("slide", { direction: "right" }, 1000);
}); 
```

我怎样才能做到这一点，所以当我再次单击`#myelement`时（当元素已经显示时）它将**隐藏**如下`#another-element`：

`$('#another-element').hide("slide", { direction: "right" }, 1000);`?

所以基本上，它应该完全像 a`slideToggle`但具有`show/hide`功能。那可能吗？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2012-04-25T06:54:17.317

## 切换事件在 1.8 版中已弃用，并在 1.9 版中删除

~~尝试这个...~~

 ~~```
$('#myelement').toggle(
   function () {
      $('#another-element').show("slide", {
          direction: "right"
      }, 1000);
   },
   function () {
      $('#another-element').hide("slide", {
          direction: "right"
      }, 1000);
}); 
```~~  ~~> **注意：**此方法签名在 jQuery 1.8 中已弃用，并在 jQuery 1.9 中删除。jQuery 还提供了一个名为 .toggle() 的动画方法，用于切换元素的可见性。是否触发动画或事件方法取决于传递的参数集[jQuery docs](http://api.jquery.com/toggle-event/)。
> 
> 为方便起见，提供了 .toggle() 方法。手动实现相同的行为相对简单，如果 .toggle() 内置的假设证明是有限的，这可能是必要的。例如，如果将 .toggle() 应用于同一元素两次，则不能保证正常工作。由于 .toggle() 内部使用了一个点击处理程序来完成它的工作，我们必须解除对点击的绑定以移除一个附加在 .toggle() 中的行为，这样其他的点击处理程序就可以在交火中被捕获。该实现还在事件上调用 .preventDefault() ，因此如果在元素上调用了 .toggle() ，则不会跟踪链接并且不会单击按钮，[jQuery docs](http://api.jquery.com/toggle-event/)

您可以使用显示在可见性和单击隐藏之间切换。如果元素可见，则可以对可见性设置条件，然后隐藏其他显示它。**请注意，您将需要[jQuery UI](http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css)来使用显示/隐藏类似方向的附加效果**。

**[现场演示](http://jsfiddle.net/rajaadil/j999y/2/)**

```
$( "#myelement" ).click(function() {     
    if($('#another-element:visible').length)
        $('#another-element').hide("slide", { direction: "right" }, 1000);
    else
        $('#another-element').show("slide", { direction: "right" }, 1000);        
}); 
```

或者，只需使用切换而不是单击。通过使用切换，您将不需要条件 (if-else) 语句。正如 TJCrowder 所建议的那样。

**[现场演示](http://jsfiddle.net/rajaadil/j999y/3/)**

```
$( "#myelement" ).click(function() {     
   $('#another-element').toggle("slide", { direction: "right" }, 1000);
}); 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-04-25T06:55:15.727

利用为您完成任务的jquery切换功能

[.toggle()](http://api.jquery.com/toggle/) - 显示或隐藏匹配的元素。

```
$('#myelement').click(function(){
      $('#another-element').toggle('slow');
  }); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-12-04T08:04:42.573

这对你有用

```
 $("#button-name").click(function(){
        $('#toggle-id').slideToggle('slow');
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T06:56:46.867

您可以使用`.toggle()`函数代替`.click()`....

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T07:01:17.380

您可以使用此代码来切换您的元素 **var ele = jQuery("yourelementid"); ele.slideToggle('slow');** 这对你有用:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-26T11:14:36.357

```
<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</script>        <script>
$(document).ready(function(){
  $("button").click(function(){
    $("p").toggle();
  });
});
</script>
</head>
<body>
<p>Welcome !!!</p>
<button>Toggle between hide() and show()</button>
</body>
</html> 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2015-02-18T10:59:14.313

```
$(document).ready( function(){
  $("button").click(function(){
    $("p").toggle(1000,'linear');
  });
}); 
```

[现场演示](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_eff_toggle)~~

# jquery - Rails 3.2 中 js 文件的放置位置

> ID：10310723
> 
> 赞同：3
> 
> 时间：2012-04-25T06:52:29.960
> 
> 标签：jquery, ruby-on-rails-3.2

我想在 Rails 3.2 中使用[jquery-File-upload](https://github.com/blueimp/jQuery-File-Upload/wiki)，但我是新手，不知道在哪里放置所需的 js 文件。文档说有目录

*   app/assets：特定于当前应用程序的资产
*   lib/assets：开发团队编写的库的资产
*   供应商/资产：来自第三方供应商的资产

我知道类似的问题。但我想知道这个文件上传插件。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T08:24:26.403

如果 JS 专门用于该应用程序，我会将它们放入`app/assets`

我倾向于把任何其他人编码的东西和*我编码*的`vendor/assets`任何可重用的东西都放进去。这就是滑块之类的东西。*`lib/assets.`*

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:31:47.967

我在 rails 3.2 应用程序中使用了 jquery-file-upload 插件。我把它放在 app/assets/javascript/vendor 中。你只需要添加

```
//= require vendor/jquery-file-upload 
```

在您的 application.js 文件中

希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:35:05.623

通常 gems/plugins 用于处理文件上传。我最喜欢的，也许是最普遍的一个是[回形针。](https://github.com/thoughtbot/paperclip)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-14T08:14:34.790

检查这个应用程序，[使用 jQuery File Upload 和 Paperclip 上传文件](https://github.com/tors/jquery-fileupload-rails-paperclip-example)

无需下载任何文件，只需添加

`gem 'jquery-fileupload-rails'`

在你 Gemfile 并复制粘贴显示的代码

`app/views/uploads/index.html.erb`

对模型名称进行任何必要的修改*

# php - 如何知道存储过程在codeigniter中是否成功

> ID：10310727
> 
> 赞同：0
> 
> 时间：2012-04-25T06:53:00.717
> 
> 标签：php, mysql, codeigniter, stored-procedures

如何知道存储过程在codeigniter中是否成功

我正在运行我的存储过程

```
$query= $this->db->query('call procedure(dsds)'); 
```

$query 不返回 1 并且affected_rows 返回-1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T21:53:21.727

从文档：[http ://codeigniter.com/user_guide/database/queries.html](http://codeigniter.com/user_guide/database/queries.html)

如果您正在运行读取查询，`simple_query()`将返回**object**或**null**。
如果您正在运行写入查询，`simple_query()`将根据成功或失败返回**true**或**false 。**

您还可以使用`$this->db->simple_query()`which**仅**根据成功或失败返回布尔值。

当然，我建议使用[Active Record](http://codeigniter.com/user_guide/database/active_record.html)而不是手动查询：

```
$this->db->set('field', 'value');
$this->db->insert('table_name'); // returns bool 
```

# r - 用ggplot标记/注释极值的最简洁方法？

> ID：10310728
> 
> 赞同：2
> 
> 时间：2012-04-25T06:53:01.607
> 
> 标签：r, annotations, ggplot2

我想使用 ggplot2 注释所有大于 y 阈值的 y 值。

当你`plot(lm(y~x))`使用base包时，自动弹出的第二张图是Residuals vs Fitted，第三张是qqplot，第四张是Scale-location。这些中的每一个都通过将相应的 X 值列为相邻注释来自动标记您的极端 Y 值。我正在寻找这样的东西。

使用 ggplot2 实现这种基本默认行为的最佳方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T09:05:23.130

**更新** `scale_size_area()`代替`scale_area()`

您可能可以从中获取一些东西来满足您的需求。

```
library(ggplot2)

#Some data
df <- data.frame(x = round(runif(100), 2), y = round(runif(100), 2))

m1 <- lm(y ~ x, data = df)
df.fortified = fortify(m1)

names(df.fortified)   # Names for the variables containing residuals and derived qquantities

# Select extreme values
df.fortified$extreme = ifelse(abs(df.fortified$`.stdresid`) > 1.5, 1, 0)

# Based on examples on page 173 in Wickham's ggplot2 book
plot = ggplot(data = df.fortified, aes(x = x, y = .stdresid)) +
 geom_point() +
 geom_text(data = df.fortified[df.fortified$extreme == 1, ], 
   aes(label = x, x = x, y = .stdresid), size = 3, hjust = -.3)
plot

plot1 = ggplot(data = df.fortified, aes(x = .fitted, y = .resid)) +
   geom_point() + geom_smooth(se = F)

plot2 = ggplot(data = df.fortified, aes(x = .fitted, y = .resid, size = .cooksd)) +
   geom_point() + scale_size_area("Cook's distance") + geom_smooth(se = FALSE, show_guide = FALSE)

library(gridExtra)
grid.arrange(plot1, plot2) 
```

![在此处输入图像描述](../Images/e7c8a4c4ce4824cdf15ccd81853d66b8.png)

![在此处输入图像描述](../Images/cd2341daa685051232b3f0a6b9195f3e.png)

# windows - Windows 上的 Hadoop

> ID：10310736
> 
> 赞同：3
> 
> 时间：2012-04-25T06:53:57.827
> 
> 标签：windows, hadoop

我是 Microsoft Windows 用户，并且是 Apache Hadoop 的新手。我发现的大多数 Hadoop 教程都是基于 Linux 的，所以我发现在 Windows 上学习 Hadoop 很困难。在 Windows 上学习 Hadoop 的任何指针都是最好的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T07:01:47.933

如果您的主要目标是学习 Hadoop，那么在 Windows 或 Linux 上学习它并不重要，因为这两个平台上的一切都完全相同。我在这两个平台上都广泛使用了 Hadoop，发现所有命令和处理在 Windows 和 Linux 上都是相同的。所以这里是我的建议：

1.  在您的 Windows 计算机上下载 VMware VMPlayer
2.  下载适用于 VMware 的 CDH 虚拟机 [https://ccp.cloudera.com/display/SUPPORT/Downloads](https://ccp.cloudera.com/display/SUPPORT/Downloads)

在您的 Windows 框中访问虚拟机，并按照它们在 Linux 上的教程进行操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-23T09:02:59.220

您还可以尝试**“Syncfusion BigData Studio”**在本地机器上运行单节点集群以及安装所需的生态系统；此外， **“Syncfusion BigData Platform”**允许您以非常简单的方式管理集群，而无需从用户端进行任何手动配置；这 2 种设置是“100% 对所有人免费”；

要下载设置并了解更多信息，请参阅： [http ://www.syncfusion.com/products/big-data](http://www.syncfusion.com/products/big-data)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-26T01:51:37.860

您也可以尝试 Amazon Elastic MapReduce，如果您没有任何 linux 经验，这会更有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T13:04:38.500

我设法在 windows-7、cygwin-1.7、jdk1.7_x64 上移植了 Hadoop-1.0.1。

但它不适合初学者：您需要修补和重新编译 hadoop。

[http://sourceforge.net/p/win-hadoop/wiki/Hadoop-on-Cygwin/](http://sourceforge.net/p/win-hadoop/wiki/Hadoop-on-Cygwin/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-16T14:33:25.893

我在 Windows 上本地使用 Hadoop 作为在一台机器上运行的虚拟 2 节点集群。它在 Cygwin 中运行（所以没有 VM）。试用 Hadoop 效果很好，我仍然使用它来测试新代码，然后再将它放到集群上。您基本上可以获得与完整集群一样的所有功能。不过，让它工作可能有点棘手。

我使用了以下简短指南：[Stanford Hadoop for Windows 指南](http://snap.stanford.edu/class/cs246-2011/hw_files/hadoop_install.pdf)

这对我来说很好。很重要的是你用的是0.20.0！更高版本不能在 Cygwin 下运行。我认为最好将默认节点的数量保留为 2。这样您可以测试在多个节点之间拆分工作是否有效，但更多的同时节点会给您带来内存问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-17T10:36:16.237

在 Hadoop 2.2 的最新版本中，我看到发行说明提到该版本对在 Windows 上运行 Hadoop 进行了重大改进。我昨天下载了 Hadoop 2.2，我看到了很多 .cmd 文件和 .sh 文件，这确保了这个版本有用于在 Windows 环境中运行 Hadoop 的脚本和批处理文件。然而，在查看 Apache Hadoop 文档时，我找不到任何关于如何在 Windows 上安装和运行这个较新版本的分步说明。除此之外，看起来较新的版本中嵌入了 YARN 架构，并且在线一些教程中提供的旧配置可能已经过时并且不再适用。是否有任何适用于 Hadoop 2.2 的在线文档？我想要它专门用于在 Win 下运行 Hadoop

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-06-21T07:26:40.813

我在 Windows 上编译了 Hadoop，它作为[zetabyte 的“Apache Hadoop for Windows”](http://zetabyte.tk/hadoop.php)发布。有一个 core/common 包可用，还有一个带有 GNU 环境的包（bash 等）

# ios - 如何在 iOS 上的字典中获取最终的计数器值

> ID：10310741
> 
> 赞同：0
> 
> 时间：2012-04-25T06:54:13.883
> 
> 标签：ios

我有字典值数组，并且已经为单个数组项实现了计数器方法，但是在获取最终计数器值时遇到了问题。它正在添加单独的计数器值。

这是源代码。

```
-(void)getData
{
    [lReportArr removeAllObjects];
    lMetaCount = 0;
    NSMutableArray *lTempArr = [[NSMutableArray alloc] initWithArray:lMetaArray];
    NSLog(@"Metabolic Array:-%@", lTempArr);
    for (int i = 0; i < [lTempArr count]; i++)
    {
        NSMutableDictionary *lDict = [lTempArr objectAtIndex:i];

        NSString *lTitle = [lDict objectForKey:@"title"];
        //Glucose Low count
        if ([lTitle rangeOfString:@"Glucose reading : Low"].length > 0) 
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"Low BG:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        //Glucose High count
        else if ([lTitle rangeOfString:@"Glucose reading : High"].length > 0) 
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"High BG:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        //Wrong Dose Cause count
        else if([lTitle rangeOfString:@"Low Cause: Wrong Dose"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"LG Wrong Dose:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        else if([lTitle rangeOfString:@"High Cause: Wrong Dose"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"HG Wrong Dose:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        //Symptoms Cause count
        else if([lTitle rangeOfString:@"Low Cause: Illness"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"LG Illness:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        else if([lTitle rangeOfString:@"High Cause: Illness"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"HG Symptoms:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        //LG n HG Treatment count
        else if([lTitle rangeOfString:@"Treatment: Emergency Room"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"Emergency Room:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        else if([lTitle rangeOfString:@"Treatment: Hospitalization"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"Hospitalization:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        else if([lTitle rangeOfString:@"Treatment: Extra MD Office"].length > 0)
        {
            lMetaCount++;
            NSString *lCount = [NSString stringWithFormat:@"Extra MD Office:%d",lMetaCount];
            [lDict setValue:lCount forKey:@"metabolicCount"];
        }
        [lReportArr addObject:lDict];
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:05:49.410

您可以使用

```
int c = [[lReportArr objectAtIndex:0] valueForKey:@"metabolicCount"]; 
```

这将为您提供存储在字典中的第一个对象的代谢计数值的最终计数（如果它包含代谢计数键）

# vim - 在最长的单词处对齐

> ID：10310745
> 
> 赞同：6
> 
> 时间：2012-04-25T06:54:37.270
> 
> 标签：vim

我有以下代码：

```
a = 123
p.value 0.123
p.long.name = "abc" 
```

如何在vim中对齐每一行，如下所示？

```
a           = 123
p.value     = 0.123
p.long.name = "abc" 
```

感谢您的任何提示。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T07:28:49.670

没有插件：

```
:%s/=/                      &/
:%s/\%13c\s\+=/= 
```

第一个命令将在所有行的第一个等号之前插入空格，第二个命令将删除第 13 列等号之前的所有空格。您还可以使用可视块选择并`<.....`根据需要多次左移。

然而，这真的很不干净。使用您只需键入的[表格](https://github.com/godlygeek/tabular)`:Tab /=/`插件，这将完成工作并且将自动计算范围（光标周围的最大范围，其中所有行都与模式匹配）。

# android - 如何实现“再按一次退出”功能？

> ID：10310748
> 
> 赞同：3
> 
> 时间：2012-04-25T06:54:40.290
> 
> 标签：android

一些应用程序（例如 Dolphin HD 浏览器）实现了以下功能：

按“返回”会跳回到后面的堆栈中。当显示初始视图/活动/片段并按“返回”时，会`Toast`出现“再次按返回退出”或类似内容。

我怎样才能实现这个功能？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-25T07:41:52.623

在班上名列前茅：

```
 int count = 0; 
```

在您班级的正文中：

```
public void onBackPressed() 
{
   if(count == 1)
   {
      count=0;
      finish();
   }
   else
   {
      Toast.makeText(getApplicationContext(), "Press Back again to quit.", Toast.LENGTH_SHORT).show();
      count++;
   }

    return;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:00:36.060

像这样捕获后退按钮事件：

```
public void onBackPressed() 
{
    //Add your logic here
    return;
} 
```

现在创建一个标志，这样您的应用程序在第一次触发时就不会关闭。最后通过调用你的活动来结束你`finish();`的活动。

要快速显示 Toast，请使用以下命令：

```
Toast.makeText(this, "Press Back again to quit", Toast.LENGHT_SHORT).show(); 
```

前提是您从活动类启动此代码。如果没有，请尝试获取活动的上下文，而不是使用`this`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T07:03:24.977

对于 API 级别 1，覆盖活动的

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
  if (keyCode == KeyEvent.KEYCODE_BACK) {
    .... 
```

对于 API 级别 5 及更高级别，请参阅 Pieter888 所说的。

# php - SQLite GROUP BY 具有日期的行的周数

> ID：10310749
> 
> 赞同：0
> 
> 时间：2012-04-25T06:54:45.587
> 
> 标签：php, sqlite

我在 SQLite3 中有一个表，其中包含`[email, date]`.

我想计算每周的行数，所以基本上我认为我需要一个`GROUP BY`星期`SELECT`声明。

我一直在网上寻找示例，其中一些提到使用`DATEPART`，但 SQLite 似乎没有提供。

我可以将行放入 PHP 并尝试从那里对它们进行分组，但我觉得这应该可以在 SQL 中完成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-10-12T18:11:10.330

SQLite 使用**strftime**作为计算时间的替代方法，在 strftime 中，获取周数的适当函数是： **%W**被一年中的周数（星期一作为一周的第一天）替换为十进制数[00,53]。[根据 strftime docs](https://pubs.opengroup.org/onlinepubs/007908799/xsh/strftime.html)，第一个星期一之前的新年中的所有日子都被认为是在第 00 周。

所以你可以尝试类似的东西：

```
SELECT
    strftime('%W',date_column) AS WeekNumber,
    column1,
    column2
FROM Table1
GROUP BY WeekNumber; 
```

这应该会为您提供一个新列，其中包含周数和您想要分组的列，希望对您有所帮助。

# java - HttpPost 响应不返回 json 对象

> ID：10310751
> 
> 赞同：2
> 
> 时间：2012-04-25T06:55:11.170
> 
> 标签：java, android, json, http-post, http-get

我目前正在开发一个需要发送发布请求并从服务器获取 json 对象的项目。之前我使用 Get 方法来访问 json 对象。它工作得很好。但是由于一些服务器更改，我不得不转向发布方法。然后它不会返回我之前从“get”方法获得的 json 对象。我尽力想出一个解决方案，但不能。如果有人能帮助我解决这个问题，我将不胜感激。

```
private AdSniperAdObjectResponse postData(String url) {
    //Bundle b = new Bundle();
    HttpClient httpClient = HttpClientFactory.getThreadSafeClient();
    //Log.d(TAG, "url: " + url);
    try {
        HttpPost httpPost = new HttpPost(url);
        httpPost.setHeader("Content-Type", "application/json");
        httpPost.setHeader("Accept", "JSON");

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(4);
        nameValuePairs.add(new BasicNameValuePair("latitude", "-33.8736"));
        nameValuePairs.add(new BasicNameValuePair("longitude", "151.207"));
        nameValuePairs.add(new BasicNameValuePair("age", "35"));
        nameValuePairs.add(new BasicNameValuePair("gender", "All"));

        httpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity resEntity = httpResponse.getEntity();
        if (resEntity != null) {
            String resp = EntityUtils.toString(resEntity); 
```

以上是我使用的代码。早些时候我使用了 HttpGet 类。对于 HttpPost，“resp”变量始终为空。不知道我做错了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T06:58:21.780

这不应该是这样吗

```
HttpResponse httpResponse = httpClient.execute(httpPost);

        if (httpResponse  != null) {
            String resp = httpResponse.toString(); 
```

如果服务器返回 JSONString..

```
say JSONObject data = new JSONObject(resp); 
```

然后获取值..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:18:26.160

在尝试获取 之前`HttpEntity`，您应该获取`StatusLine`并检查状态代码是否符合您的预期。我怀疑真正的问题是服务器正在发送某种错误响应。而且由于您使用“接受”标头来请求 JSON 响应，因此服务器可能没有在响应正文中发送任何诊断信息……所以它是空的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:06:47.860

```
DataContractJsonSerializer jsonSerializer = new DataContractJsonSerializer(typeof  (List<NameValuePair> )); 
```

试试这个并使用这个传递你的数据

```
jsonSerializer.WriteObject(reqStream, nameValuePairs );
                reqStream.Close(); 
```

并再次反序列化你得到的响应

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-26T04:43:23.113

伙计们，我找到了解决方案。当我评论以下两行时，它起作用了。

```
httpPost.setHeader("Content-Type", "application/json");
    httpPost.setHeader("Accept", "JSON"); 
```

所以感谢大家的回答。高度赞赏。

# javascript - jQuery 令牌输入

> ID：10310756
> 
> 赞同：0
> 
> 时间：2012-04-25T06:55:45.993
> 
> 标签：javascript, jquery

如何允许用户从 jQuery 输入中选择输入，同时他们仍然可以输入与 jquery 令牌输入中的建议不匹配的输入？就像您在这里为问题添加标签一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:01:34.520

您在寻找自动完成小部件吗？它显示了下面的匹配选项。然后检查这个 Jquery UI[站点](http://jqueryui.com/demos/autocomplete/)

# java - JavaFX - 将 rgb 数组绘制为图像

> ID：10310758
> 
> 赞同：1
> 
> 时间：2012-04-25T06:55:49.313
> 
> 标签：java, video, bufferedimage, javafx-2, vlcj

我们正在使用[vlcj](https://github.com/caprica/vlcj)捕获网络摄像头视频并将其显示在用户屏幕上。我们逐帧捕捉它，一张 1280x720 的图像，大约 30fps。

我们的应用程序 UI 完全是 JavaFX，我们在显示所述框架时遇到问题。

使用 Swing，我们将执行以下操作：

```
BufferedImage image; //create compatible image

public void onDisplay(int[] rgbBuffer){
      image.setRGB(0,0,width, height, rgbBuffer, 0, width);
      myJPane.repaint();  
} 
```

但是 JavaFX 的[Image](http://docs.oracle.com/javafx/2.0/api/javafx/scene/image/Image.html)类没有提供这样的方法，并且创建一个`BufferedImage`只是将其转换为 JavaFX `Image`（通过使用`Image.impl_fromPlatformImage()`）的成本很高。

**问题：如何基于 rgb创建一个`Image`可以设置为 an的 JavaFX ？有没有更好（如“更快”）的方式来显示它？`ImageView``int[]`**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T16:52:21.210

这个功能还不是 JavaFX 平台的一部分——现在我相信你必须使用你当前使用的 BufferedImage 方法。

您可以跟踪功能[Image Ops](http://javafx-jira.kenai.com/browse/RT-17409)请求。任何人都可以注册一个[jira 帐户并为问题投票/添加评论/详细用例/等，或在](http://javafx-jira.kenai.com)[JavaFX 开发邮件列表](http://mail.openjdk.java.net/mailman/listinfo/openjfx-dev)上为设计提供输入。

# javascript - JQuery 验证插件不适用于简单按钮

> ID：10310759
> 
> 赞同：2
> 
> 时间：2012-04-25T06:55:50.830
> 
> 标签：javascript, jquery, jquery-validate

我正在使用 JQuery 验证插件来验证我的应用程序中的表单。当按钮是“提交”类型时，它工作得很好。但是，我有一种表单，我需要使用 JQuery.Ajax 提交数据，因此我使用的是 simple `<input type='button'>`. 但随后验证将不起作用。这是工作代码-

```
<head>
<script>
 $(document).ready(function(){
   $("#some_form").validate({});  
 }); 
</script>
</head>
<body>
<form name='some_form' id='some_form'>
<!--  Form Fields -->
<input type='submit' value='Submit'>
</form>
</body> 
```

上面的代码有效，但是，当我把它放在代码中时`<input type='button' value='Submit'>`，它就不起作用了。

有谁知道如何让它工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:07:51.440

AFAIK，jQuery 验证插件设计为仅在触发提交时工作；因此，当您在输入元素上有“按钮”类型时，表单实际上并没有提交，因此验证永远不会运行。您是否有不想使用“提交”类型的原因？

编辑地址注释：要使用 ajax，但仍有“提交”按钮类型，请使用插件参数的“提交处理程序”选项......像这样：

```
$("#some_form").validate({
        submitHandler: function(form) {
         ... ajax stuff here ...
    }
}); 
```

这将覆盖表单的实际发布，但仍会触发提交事件，以便运行验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:21:24.960

好的！我想我找到了答案。所以我把它贴在这里以防有人需要。这是代码

```
<head>
<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.validate.js" type="text/javascript"></script>
<script>
$(document).ready(function(){
  $('#button_id').click( function() {
    if ($("#some_form").validate().form() == true)
        {
            // Call Ajax Here
        }
  });  
});  
</script>
</head>
<body>
<form name='some_form' id='some_form'>
<!--  Form Fields -->
<input type='button' id='button_id' value='Submit'>
</form>
</body> 
```

# entity-framework - ASP.NET MVC 类继承和 LINQ

> ID：10310761
> 
> 赞同：0
> 
> 时间：2012-04-25T06:55:55.953
> 
> 标签：entity-framework, linq-to-entities

我在使用 LINQ to 已解决的实体时遇到问题，但想确保我以正确的方式解决了问题。

我有 2 节课：

```
namespace ShopTest.Models
{

public class Shop
{
    public int ShopID { get; set; }
    public string Name { get; set; }
    public string Address1 { get; set; }
    public string Address2 { get; set; }
    public string City { get; set; }
    public string State { get; set; }
    public string Postcode { get; set; }
    public string Country { get; set; }
    public decimal Latitude { get; set; }
    public decimal Longitude{ get; set; }
}

[NotMapped]
public class ShopLocation : Shop
{
    public decimal AddressLatitude { get; set; }
    public decimal AddressLongitude { get; set; }
    public decimal DistanceFromAddress
    {
        get
        {
            return Convert.ToDecimal(
                        Math.Sqrt(
                                Math.Pow(Convert.ToDouble(this.Latitude - this.AddressLatitude), 2.0)
                                    +
                                Math.Pow(Convert.ToDouble(this.Longitude- this.AddressLongitude), 2.0)
                        )
                        * 62.1371192
                    );
        }
    }
}

} 
```

在 LINQ 中查询时，我最初尝试过：

```
decimal lat = Convert.ToDecimal(-33.8736510, NumberFormatInfo.InvariantInfo);
decimal lng = Convert.ToDecimal(151.2068896, NumberFormatInfo.InvariantInfo);

var nearbyShops = from c in db.Shops
                   where Math.Abs(c.lat - lat) < 0.25M &&
                         Math.Abs(c.lng - lng) < 0.25M
                   select new NearbyShopLocation()
                   {
                       StoreNumber = store.StoreNumber,
                       Address = store.Address,
                       City = store.City,
                       Region = store.Region,
                       CountryCode = store.CountryCode,
                       PostalCode = store.PostalCode,
                       Latitude = store.Latitude,
                       Longitude = store.Longitude,
                       AddressLatitude = lat,
                       AddressLongitude = lng
                   };

var nearbySortedShops = nearbyShops.ToList().OrderBy(s => s.DistanceFromAddress).ToList(); 
```

但是我不断收到错误“无法在 LINQ to Entities 查询中构造实体或复杂类型'ShopTest.Controllers.Shops'”

我已经用下面的代码解决了这个问题，但它为什么会起作用是没有意义的——作为 MVC 的新手，我希望有人能解释一下。:-)

```
var nearbyShops = (from c in db.Shops
                  where Math.Abs(c.lat - lat) < 0.25M &&
                        Math.Abs(c.lng - lng) < 0.25M
                  select new 
                  {
                      StoreNumber = c.StoreNumber,
                      Address = c.Address,
                      City = c.City,
                      Country = c.Country,
                      PostalCode = c.PostalCode,
                      Latitude = c.Latitude,
                      Longitude = c.Longitude,
                  }).ToList().Select(l => new ShopLocation
                  {
                       Name = l.Name,
                       City = l.City,
                       State = l.State,
                       Country = l.Country,
                       Lat = l.Lat,
                       Lng = l.Lng,
                       AddressLatitude = lat,
                       AddressLongitude = lng
                  }).ToList().OrderBy(s => s.DistanceFromAddress).ToList(); 
```

我做对了吗？有没有更好的办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:35:24.130

EF 具有不能在查询中手动构建映射实体的限制。这意味着你不能这样做：

```
 var shops = from s in db.Shops where ... select new Shop { ... }; 
```

这也涉及派生实体。因此，您首先必须调用 ToList 才能切换到 Linq-to-Objects：

```
 var shopse = db.Shops.Where(...).ToList().Select(s => new Shop { ... }); 
```

通常，您应该可以：

```
var nearbyShops = 
             (from c in db.Shops
              where Math.Abs(c.lat - lat) < 0.25M &&
                    Math.Abs(c.lng - lng) < 0.25M
              select c).ToList()
             .Select(l => new ShopLocation
              {
                   Name = l.Name,
                   City = l.City,
                   State = l.State,
                   Country = l.Country,
                   Lat = l.Lat,
                   Lng = l.Lng,
                   AddressLatitude = lat,
                   AddressLongitude = lng
              }).OrderBy(s => s.DistanceFromAddress).ToList(); 
```

# c++ - 散斑噪声产生

> ID：10310762
> 
> 赞同：4
> 
> 时间：2012-04-25T06:55:56.787
> 
> 标签：c++, image-processing, opencv

抱歉，如果这看起来像一个愚蠢或懒惰的“我找不到它”的问题，但我几天来一直在尝试找到一篇论文或类似的东西来解释如何产生散斑噪声（在2D 图像）。我发现消除散斑噪声的更简单方法之一是均值滤波器（我已经实现了），但我绝对找不到产生噪声的方法。有人可以指导我我在哪里可以学习产生散斑噪声？此外，询问在 OpenCV（一个 C++ 图像处理库）中是否有一种简单的方法来做到这一点会很牵强。

感谢您的任何帮助，您可以提供。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-25T09:04:24.287

散斑噪声本质上是一种乘性噪声，它可能（或可能不）也具有加性噪声（定义因环境而异）。本文很好地概述了散斑噪声，包括描述和去除它的方法[。](http://www.csio.res.in:8085/ncci/ICCIpdfDoc/spackle%20noise.pdf)

这是一些可以产生乘性散斑噪声的简单python代码：

```
import cv

im = cv.LoadImage('tree.jpg', cv.CV_LOAD_IMAGE_GRAYSCALE)
mult_noise = cv.CreateImage((im.width,im.height), cv.IPL_DEPTH_32F, 1)

cv.RandArr(cv.RNG(6), mult_noise, cv.CV_RAND_NORMAL, 1, 0.1)    

cv.Mul(im, mult_noise, im)

cv.ShowImage("tree with speckle noise", im)
cv.WaitKey(0) 
```

无噪音：

![在此处输入图像描述](../Images/fea971f04fd51fb3ae38d92e54d08a86.png)

有散斑噪声： ![在此处输入图像描述](../Images/f33b973176afa2f9b18f91766a4363ae.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:07:12.563

散斑噪声与物理成像过程有关，因此我不确定以一般方式模拟它是否容易（甚至是否真的可能）。

但是，根据您所需的图像类型，您可以使用其他形式的噪声来处理它。我想乘法椒盐噪声应该或多或少地起到模拟 SAR 图像的作用。

另一种（可能更好）的可能性是探索 NASA / ESA 的网站并查找 SAR 图像（查找 Pleiades、Cosmo-Skymed 和 SAR Lupe 等程序）。一些门控激光成像实验室还公开发布了一些样本数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:11:21.327

只需在图像中添加高斯噪声即可。[`cvRandArr`](http://opencv.itseez.com/modules/core/doc/old_basic_structures.html#randarr)似乎是一个不错的候选人。

您还可以通过用信号来思考噪声来获得更复杂的东西，这也很容易，因为它只是原始图像和噪声之间的一些像素范围的乘积。

# android - 为什么 TableRow 不在屏幕中央？

> ID：10310765
> 
> 赞同：1
> 
> 时间：2012-04-25T06:56:34.367
> 
> 标签：android, android-layout

我不明白为什么，在这段代码中，TableRow 出现在左上角而不是中心

```
HorizontalScrollView HSC = new HorizontalScrollView(this);
ScrollView VSC = new ScrollView(this);
HSC.setBackgroundResource(R.drawable.lavagna);   
tableLayout = new TableLayout(this);
tableLayout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
tableLayout.setGravity(Gravity.CENTER)  
for (int i = 0; i < 3; i++){  
tableRow = new TableRow(this);  
tableRow.setGravity(Gravity.CENTER);  
for (int j = 0; j < 3; j++){  
values[i][j] = new EditText(this);   
values[i][j].setHint("r: " + (i) + " " + "c: " + (j));  
values[i][j].setPadding(10, 10, 10, 10);  
tableRow.addView(values[i][j]);  
}  
tableLayout.addView(tableRow);  
}  
VSC.addView(tableLayout);  
HSC.addView(VSC);  
setContentView(HSC);  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:37:38.290

```
HorizontalScrollView HSC = new HorizontalScrollView(this);
ScrollView VSC = new ScrollView(this);
VSC.setLayoutParams(new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT,  LayoutParams.MATCH_PARENT, Gravity.CENTER));         
HSC.setBackgroundResource(R.drawable.lavagna);        
tableLayout = new TableLayout(this);
tableLayout.setLayoutParams(new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT, Gravity.CENTER));  
values = new EditText[15][15];
for (int i = 0; i < 15; i++){           
tableRow = new TableRow(this); 
tableRow.setGravity(Gravity.CENTER);
for (int j = 0; j < 15; j++){
values[i][j] = new EditText(this);
valo[i][j].setInputType(InputType.TYPE_CLASS_NUMBER | InputType.TYPE_NUMBER_FLAG_SIGNED | InputType.TYPE_NUMBER_FLAG_DECIMAL);
values[i][j].setHint("r: " + (i) + " " + "c: " + (j));
values[i][j].setPadding(10, 10, 10, 10);
tableRow.addView(valore[i][j]);
}  
VSC.addView(tableLayout);
HSC.addView(VSC);
setContentView(HSC); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:02:44.180

我认为在初始化**tableLayout**对象之后，你还应该定义它的布局参数。

```
tableLayout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
    LayoutParams.WRAP_CONTENT)); 
```

# iphone - 分配给“ViewController”的不兼容指针类型

> ID：10310766
> 
> 赞同：1
> 
> 时间：2012-04-25T06:56:41.880
> 
> 标签：iphone, objective-c, ios, uiviewcontroller, incompatibility

我有一个 ViewController 类（也许我不应该那样命名那个类？）

为什么我有警告

> 从 AppDelegate 中的“UIViewController”分配给“ViewController”的指针类型不兼容

更新：

在这条线上

```
self.viewController = [[[myPlugin alloc] getPluginViewController] autorelease]; 
```

在 AppDelegate.h 我有

```
@class ViewController;

@interface AppDelegate : UIResponder <UIApplicationDelegate>

@property (strong, nonatomic) UIWindow *window;

@property (strong, nonatomic) ViewController *viewController;

@end 
```

在 myPlugin 我有

```
-(ViewController*) getPluginViewController {
self.viewController = [[[ViewController alloc] initWithNibName:@"ViewController" bundle:nil] autorelease];
    return self.viewController; 
```

在 ViewController 我有

```
@interface ViewController : UIViewController { 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T08:11:31.420

您的应用程序委托中的 viewController 属性可能具有类型`UIViewController*`，并且您正在尝试为其分配一个类型的对象`ViewController*`。可能您的 ViewController 类需要从 UIViewController 继承。

您的代码还有许多其他问题：

```
self.viewController = [[[myPlugin alloc] getPluginViewController] autorelease]; 
```

忽略分配，按照惯例，在分配对象后立即发送给对象的第一条消息应该是初始化消息。99.99% 的程序员会自动认为这是你代码中的一个可怕的错误，无论它是否是一个可怕的错误。你应该遵守约定。

此外，如果`getPluginViewController`遵守内存管理规则，您不拥有它返回的对象，因此您**不能**自动释放它。

```
-(ViewController*) getPluginViewController {
     self.viewController = [[[ViewController alloc] initWithNibName:@"ViewController" bundle:nil] autorelease];
     return self.viewController;
} 
```

就其本身而言，这还不错。在 Objective-C 中，按照惯例，以“get”开头的方法用于返回指针参数值的方法。然而，把它和你称之为的地方放在一起有几个问题：

*   原始分配的 ViewController 泄漏，因为此方法返回指向不同对象的指针
*   原始分配的 ViewController 从未初始化
*   返回的 ViewController 会自动释放两次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:34:32.223

注意双重分配。

第一次分配`[myPlugin alloc]`和调用`getPluginViewController`. 但是在`getPluginViewController`你分配和初始化 new`ViewController`并返回它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-01-21T08:20:45.093

删除`ViewController`您认为有问题的和其他类的引用。

如果需要，请转到查找器并通过取消选中“-copy”再次添加这些类。

从产品菜单中清理项目并运行。

# c++ - 将 -1 分配给 unsigned int 以获得最大值是否安全？

> ID：10310771
> 
> 赞同：5
> 
> 时间：2012-04-25T06:56:54.283
> 
> 标签：c++, unsigned

如果我需要获取最大值，将 -1 分配给 unsigned int 或其他 unsigned c++ 数据类型是否安全？

有没有什么情况下它不会给我一个无符号数据类型可以包含的最高值？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-25T06:59:04.650

为了安全起见，请使用`std::numeric_limits<unsigned int>::max()`. 将 -1 转换为 unsigned 可以在主流平台上工作，但标准 AFAIR 不能保证。

UPD：我会纠正自己。（无符号）-1 必须是 C 中的 UINT_MAX，请参阅[此处的答案](https://stackoverflow.com/a/2760612/1345960)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-25T07:02:31.400

我*认为*您可以在任何 2 的补码机器上使用 -1 （我认为这是当今的一切）。

# c# - Json.NET 与 PHP 通信

> ID：10310776
> 
> 赞同：1
> 
> 时间：2012-04-25T06:57:50.460
> 
> 标签：c#, php, .net, json, json.net

我试图通过 JSON 和 Json.NET 在 C# .NET 应用程序和一些 PHP 服务器端之间进行一些通信。我正在发布 Json 字符串，但我无法访问（或未正确发送）服务器端的字符串。我的 $_POST 变量显示为空，我不知道使用什么键来访问 Json 字符串。任何人都可以提出任何建议吗？

我的 C# 代码：

```
TestClass ts = new TestClass("Some Data", 3, 4.5);
string json = JsonConvert.SerializeObject(ts);

HttpWebRequest request =
    (HttpWebRequest)WebRequest.Create("http://localhost/testJson.php");
request.Method = "POST";
request.ContentType = "application/json";
request.ContentLength = json.Length;

StreamWriter sw = new StreamWriter(request.GetRequestStream());
sw.Write(json);   
sw.Close();

HttpWebResponse response = (HttpWebResponse)request.GetResponse();
StreamReader sr = new StreamReader(response.GetResponseStream());
string responseJson = sr.ReadToEnd();
sr.Close();

TestClass returnedTS =
    JsonConvert.DeserializeObject<TestClass>(responseJson); 
```

我的 PHP 代码：

```
<?php
    require("TestClass.php");
    $json = json_decode($_POST);
    $ts = new TestClass();
    $ts->someString = $json['someString'];
    $ts->someDouble = $json['someDouble'];
    $ts->someInt = $json['someInt'];
    $return_json = json_encode($ts);
    echo $return_json;
?> 
```

我的输出：

```
<b>Warning</b>:  json_decode() expects parameter 1 to be string, array given in
<b>C:\Program Files (x86)\Apache Software Foundation\Apache2.2\htdocs\testJson.p
hp</b> on line <b>4</b><br />
{"someString":null,"someInt":null,"someDouble":null} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-27T07:12:52.010

您必须使用 application/json 而不是 application/x-www-form-urlencoded。

也许这有帮助！

# java - 使用 Java 读取 XML 文件

> ID：10310777
> 
> 赞同：-1
> 
> 时间：2012-04-25T06:57:52.350
> 
> 标签：java, xml, xml-parsing, xmldom

我需要用 java 读取一个 XML 文件。文件结构如下。

```
<?xml version="1.0" encoding="UTF-8"?>
<xml_tool xmlns:md="http://www.example.com/XT/1.0/">
    <md:header>
        <md:application_version>1.0</md:application_version>
        <md:export_date>19-04-2012</md:export_date>
        <md:export_time>14:55</md:export_time>
        <md:export_user>USER01</md:export_user>
    </md:header>
    <md:table table_name="CUSTOMER" key="customer number" record_count="2" column_count="5">
        <md:record>
            <md:column name="customer_number">123456</md:column>
            <md:column name="reg_date">01-04-2012</md:column>
            <md:column name="customer_name">Test Customer</md:column>
            <md:column name="customer_type">Normal </md:column>
            <md:column name="comments">This is a test record</md:column>
        </md:record>
        <md:record>
            <md:column name="customer_number">555111</md:column>
            <md:column name="reg_date">02-04-2012</md:column>
            <md:column name="customer_name">Test Customer</md:column>
            <md:column name="customer_type">VIP </md:column>
            <md:column name="comments">This is a test record</md:column>
        </md:record>
    </md:table>
</xml_tool> 
```

我已阅读[How to read XML file in Java – (DOM Parser)](http://www.mkyong.com/java/how-to-read-xml-file-in-java-dom-parser/) example 并尝试完成我的工作。但我无法成功读取 XML 文件。

我的代码

```
 try {

        File fXmlFile = new File("c:\\file.xml");
        DocumentBuilderFactory dbFactory = DocumentBuilderFactory
                .newInstance();
        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
        Document doc = dBuilder.parse(fXmlFile);
        doc.getDocumentElement().normalize();

        NodeList nList = doc.getElementsByTagName("md:record");

        for (int i = 0; i < nList.getLength(); i++) {

            Node node = nList.item(i);
            if (node.getNodeType() == Node.ELEMENT_NODE) {

                Element eElement = (Element) node;

                System.out.println(getTagValue("md:column", eElement));

            }
        }
    } catch (Exception e) {
        e.printStackTrace();
    }
}

 private static String getTagValue(String sTag, Element eElement) {
        NodeList nlList = eElement.getElementsByTagName(sTag).item(0).getChildNodes();

            Node nValue = (Node) nlList.item(0);

        return nValue.getNodeValue();
      } 
```

结果是

```
123456
555111 
```

我如何阅读这个 XML 文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T07:16:58.290

更新你的 for 循环...

```
for (int i = 0; i < nList.getLength(); i++)
{
      Node node = nList.item(i);
      if (node.getNodeType() == Node.ELEMENT_NODE)
      {                 
             if(eElement.hasChildNodes())
             {
                 NodeList nl = node.getChildNodes();
                 for(int j=0; j<nl.getLength(); j++)
                 {
                     Node nd = nl.item(j);
                     System.out.println(nd.getTextContent());
                 }
             }
       }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:21:53.207

目前，您正在执行非常不精确的查询（即，`getElementsByTagName(...)`不限于一级后代）。在`getTagValue(...)`中，您需要遍历`NodeList`以获取所有孩子的所有数据——在这种情况下，您可能打算让该方法返回 a `List<String>`。或者，更好的是，将其`NodeList`移至您的其他方法并在那里循环。

要获取所有数据，包括标头，您需要递归迭代所有元素，从根节点开始。

也就是说，有一个更好的方法。您可以使用[JAXB](http://jaxb.java.net/tutorial/)将您的 XML 模式绑定到您的 POJO（普通 Java 对象）数据模型。然后所有的加载将自动完成，您可以专注于程序逻辑。

# php - 将项目拖动到可拖动对象上

> ID：10310780
> 
> 赞同：1
> 
> 时间：2012-04-25T06:58:06.443
> 
> 标签：php, ajax, wordpress

我目前正在开发一个 wordpress 插件。该插件需要将某些项目拖到图像上。布局是这样的：

![在此处输入图像描述](../Images/feb21ff384ff8e45c523089268fbaf23.png)

我需要将拖到图片上的点保存到数据库中。我还需要能够编辑点或删除点。有人知道实现这一目标的好方法吗？

亲切的问候，杰克

编辑：

也许我对此有点模糊，但我需要的只是建议。我不需要人们为我编写代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:02:18.633

你问的太多了，你不能指望我们为你写，但我们可以把你的鼻子指向正确的方向:)

我建议您开始查看[jQuery UI 可拖动插件](http://jqueryui.com/demos/draggable/)（当然也[可以](http://jqueryui.com/demos/droppable/)放置），它提供了相当灵活的拖放实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T09:11:15.453

谷歌搜索给了我：

[http://www.codingforums.com/showthread.php?t=160798](http://www.codingforums.com/showthread.php?t=160798)
[http://jquery-howto.blogspot.com/2009/07/identifying-locating-mouse-position-in.html](http://jquery-howto.blogspot.com/2009/07/identifying-locating-mouse-position-in.html)
[jQuery 获取鼠标位置元素](https://stackoverflow.com/questions/4249648/jquery-get-mouse-position-within-an-element)
[http://www.switchonthecode.com/tutorials/jquery-snippet-relative-mouse-position](http://www.switchonthecode.com/tutorials/jquery-snippet-relative-mouse-position)

我的建议是 `onmouseup()`您获取坐标并存储它们。

再用谷歌搜索一下，我找到了这个答案：
[触发器的替代方法（'mouseup'）以停止以编程方式拖动](https://stackoverflow.com/questions/2927020/alternatives-to-triggermouseup-to-stop-dragging-programmatically)

也许这会对你有所帮助。

祝你好运 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:00:51.910

操纵`jquery ui draggable plugin`

[http://jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)

# opencv - 在 CentOS 上配置 OpenCV2.3.0 并运行 jar 文件

> ID：10310781
> 
> 赞同：1
> 
> 时间：2012-04-25T06:58:13.560
> 
> 标签：opencv

从 CentOS 5.7 x86_64 命令提示符运行 jar 文件时出现异常。它在 CentOS 6.2 x86_64 上工作。jar 文件正在加载 openCV 的 xml 文件，它产生的错误就像我在这里复制的一样。

```
Exception in thread "main" java.lang.UnsatisfiedLinkError: /tmp/libjniopencv_core3672406464017531068.so: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by /opt/lampp/htdocs/k_project_1/innefu/OpenCV-2.3.0/build/lib/libopencv_core.so.2.3)
at java.lang.ClassLoader$NativeLibrary.load(Native Method)
at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1750)
at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1646)
at java.lang.Runtime.load0(Runtime.java:787)
at java.lang.System.load(System.java:1022)
at com.googlecode.javacpp.Loader.load(Loader.java:352)
at com.googlecode.javacpp.Loader.load(Loader.java:285)
at com.googlecode.javacv.cpp.opencv_core.<clinit>(opencv_core.java:129)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:186)
at com.googlecode.javacpp.Loader.load(Loader.java:305)
at com.googlecode.javacv.cpp.opencv_imgproc.<clinit>(opencv_imgproc.java:96)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:186)
at com.googlecode.javacpp.Loader.load(Loader.java:305)
at com.googlecode.javacv.cpp.opencv_highgui.<clinit>(opencv_highgui.java:91)
at com.innefu.faceDetect.ImgFaceDetectNew.main(ImgFaceDetectNew.java:68) 
```

虽然我在 CentOS 5.7 机器上配置了 Opencv-2.0.0，但它产生了同样的错误。我还导出了 OpenCV 的 lib 和 bin 文件夹的路径。OpenCv 2.3.0 在尝试配置时产生错误。所以，我已经将配置好的 OpenCV-2.3.0 从 CentOS 6.2 复制到了 CentOS 5.7。但在这两种情况下，错误是相同的。请提供建议。

谢谢

# .net - 查询中的可选 Where 子句

> ID：10310795
> 
> 赞同：0
> 
> 时间：2012-04-25T06:59:26.570
> 
> 标签：.net, vb.net, entity-framework, objectquery

我有一个应用程序搜索我们的数据库（通过 EF 公开）以查找满足某些条件的记录。我们有两个主要表（作业和收件人）。收件人通过作业 ID 链接到作业表。

作业记录具有各种字段（处理日期、名称、作业类型）。收件人有很多姓名和 ID 字段（例如帐号、姓氏等）

我想展示一个搜索屏幕，他们可以在其中看到要搜索的字段列表。ASP.net 代码然后查看用户输入（或选择）的文本框，并基于此构建查询。

我只是想找到最有效的方法。

粗略的逻辑是：

```
 if not string.isnullorempty(txtName.text) then
        'Query.Where.Add clause = " AND Name like '@txtName'
        'Query.WhereParameters.Add("@txtName",txtNAme.text
    end if

if not string.isnullorempty(txtAccountNumber.text) then 

.....etc

 if not string.isnullorempty(txtFromDate.text) then.. 
```

我被困的地方是弄清楚如何添加额外的 where 子句。我应该只使用实体 SQL 吗？

这也可以返回强类型的 EF 对象吗？是否可以同时返回 Jobs 和 Recipients 对象？

例如，如果我选择了收件人。*， 工作。*from....blah 这会正确解析并返回链接的 Recipient 和 Job 对象吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:12:39.127

如果您从强类型的未过滤查询开始，您可以使用`Queryable.Where`.

```
Name = txtName.Text
If Not String.IsNullOrEmpty(Name) Then
    Query = Query.Where(Function(j) j.Name.Contains(Name))
End If 
```

如果您的未过滤查询正确链接了多条记录，则在您添加过滤器时将保留这些链接。

（免责声明：我通常不使用 VB.NET；可能存在愚蠢的语法错误，但您应该能够大致了解。）

# android - 按标签而不是按内容过滤 ListView

> ID：10310797
> 
> 赞同：2
> 
> 时间：2012-04-25T06:59:44.837
> 
> 标签：android, android-listview

我有一个如下所示的数据集：

```
data_set = [
    {"Google", "Search, Android, Adwords"},
    {"Apple", "iPhone, iCloud, iPod, Mac, OSX"},
    {"Microsoft", "Windows, PC, Adwords"},
    {"Nokia", "Lumia, 3310"},
    {"Amazon", "Shopping"}
] 
```

我可以创建一个显示“Google”、“Apple”、“Microsoft”、“Nokia”和“Amazon”的 ListView，并启用过滤。但是，当用户按下一个键时，我希望它根据标签过滤数据，例如。Google 的“搜索、Android、Adwords”，而不是基于公司名称。

# exception-handling - 进程终止会发生什么？

> ID：10310799
> 
> 赞同：0
> 
> 时间：2012-04-25T06:59:50.283
> 
> 标签：exception-handling, windows-ce

我有一个 Windows CE 5.0 设备驱动程序，它可以保护一些具有关键部分的资源。来自客户端进程的线程迁移到 device.exe 并进入和离开这个关键部分。这些进入/离开可以是分层的。

当我的驱动程序的一个客户端进程具有多个线程并且

*   一个线程 A 已进入驱动程序中的临界区
*   另一个线程 B 执行某些操作（例如除以零），通过异常终止进程

临界区会发生什么。驱动 DLL 在进程 device.exe 中加载，不会被卸载。

但是关键部分会发生什么？其他线程现在可以进入吗？线程 A 分配的任何资源会发生什么情况？

[欢迎任何指向文档的指针。]

# sql - 索引视图的标准是什么？

> ID：10310801
> 
> 赞同：0
> 
> 时间：2012-04-25T06:59:53.293
> 
> 标签：sql, sql-server, sql-server-2008, indexing

我最近在一个高度使用的视图上创建了索引，但它导致了总执行时间的增加。从服务器发送/接收的字节数也急剧增加。

其中没有任何其他视图的功能或引用，offcourse 模式绑定已打开，只需从两个表连接。

我很困惑如何提高性能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:06:27.140

您需要使用`NOEXPAND`查询提示来使用索引视图。

> 如果您想确保 SQL Server 通过读取视图本身而不是从基表中读取数据来处理查询，请使用 NOEXPAND。如果由于某种原因 SQL Server 选择了一个查询计划来处理对基表的查询，而您希望它使用视图，请考虑使用 NOEXPAND.. [http://msdn.microsoft.com/en-us/library/dd171921 (v=sql.100).aspx](http://msdn.microsoft.com/en-us/library/dd171921(v=sql.100).aspx)

```
 SELECT Column1, Column2, ... FROM Table1, View1 WITH (NOEXPAND) WHERE ... 
```

# network-programming - 如何理解计算机网络中的英文介词“over”？

> ID：10310803
> 
> 赞同：0
> 
> 时间：2012-04-25T07:00:00.437
> 
> 标签：network-programming, protocols, network-protocols

出色地..

我来自非英语国家。

我的工作需要用到DTCP-IP，全称是Internet Protocol上的数字传输内容保护。让我困惑的是“结束”这个词。

网络模型为：

-------------------------------------------[ 运输层 ]

[互联网协议头][来自传输层的内容]

问题是应该处理哪个部分？以及如何解释这个领域的“over”这个词？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:03:03.023

在这种情况下，过度意味着“使用”。您通过电视电缆观看电视节目，通过电话线拨打电话，因此它是一种在内容通过互联网传输时保护内容的协议。

# android - AsyncTask 的行为

> ID：10310804
> 
> 赞同：1
> 
> 时间：2012-04-25T07:00:06.247
> 
> 标签：android, android-asynctask

我正在实施 AsyncTask 以了解概念。代码正在工作，但不是我想要的方式。我已经浏览了这些文件，但无法指出我做错了什么。

代码：

```
private class NewThread extends AsyncTask<Integer, Integer , String>
    {

        @Override
        protected String doInBackground(Integer... params) {
            Log.d(TAG,"inside doInBackground");
            for (int i=0;i<params.length;i++)
            {
                 try {
                publishProgress(i);
                    Thread.sleep(6000);

                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
            return "Finished";
        }

        @Override
        protected void onPostExecute(String result) {

            super.onPostExecute(result);
            Toast.makeText(getBaseContext(), result, Toast.LENGTH_SHORT).show();
            Log.d(TAG,"inside onPostExecute");
        }

        @Override
        protected void onProgressUpdate(Integer... values) {
            // TODO Auto-generated method stub
            super.onProgressUpdate(values);
            Toast.makeText(getBaseContext(), "Done " + values[0], Toast.LENGTH_SHORT).show();
            Log.d(TAG,"inside onProgressUpdate");
        } 
```

我只看到 `Done 0`和`Finished`。我期待的是 Done0 , Finished, Done1, Finished, Done2。完成....或完成0 完成1 完成2 ....完成。

我应该在代码中更改什么来做到这一点？甚至可能吗？

我正在使用按钮调用 AsyncTask。

```
public void onClick(View v) {
        // TODO Auto-generated method stub
        new NewThread().execute(4);

    } 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:13:01.997

异步任务已正确执行。您正在传递一个包含一个项目的数组，并且在循环中您正在检查数组的长度为 1，因此您只会得到一个“打印”。

要么在循环替换

还有一个小错误，您希望 done 0, done 1 .. 被打印出来。但是您的声明是 "Done" + values[0] ，它将始终打印相同的声明:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:08:29.387

在没有看到您调用同步任务的代码的情况下，这只是一个猜测。看起来您没有正确使用 params 值。它应该是：

```
 for(int i = 0; i < params[0]; i++) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:08:54.613

用于启动 1（一个）实例的代码，作为参数`AsyncTask`传递。`4`因此，`param.length()`是 1（一），您只能得到一个输出。

试试这个：

```
new NewThread().execute(1,2,3,4); 
```

或者，如果您想查看多个线程同时工作，则可能是这样：

```
new NewThread().execute(1);
new NewThread().execute(2);
new NewThread().execute(3); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T07:11:24.827

改变这个：

```
@Override
        protected String doInBackground(Integer... params) {
            Log.d(TAG,"inside doInBackground");
            for (int i=0;i<params.length;i++) 
```

至

```
@Override
        protected String doInBackground(Integer myCount) {
            Log.d(TAG,"inside doInBackground");
            for (int i=0;i<myCount;i++) 
```

# asp.net - 如何使用 SQL 编程将规范化数据转换为二进制并保存到另一个表？

> ID：10310805
> 
> 赞同：1
> 
> 时间：2012-04-25T07:00:07.607
> 
> 标签：asp.net, sql, performance, sql-server-2008

只是想知道是否可以将高度规范化的数据转换为二进制并使用 sql 编程将其存储在其他表中而无需进入 asp.net 应用程序？

如果是，如何？

这可能有助于我们解决性能问题。实际上，我们已经使用 asp 应用程序完成了这项工作，并将二进制数据存储到另一个表中。但这不是针对更大的数据集执行的，并且在尝试执行相同的操作时会发生超时错误。这是针对使用 mssql 2008 在 asp.net mvc 3 平台上构建的电子商务应用程序。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-03T02:28:26.903

我有一篇博客文章解释了如何从 SQL Server 写入文本文件。. . [http://blog.data-miners.com/2012/01/writing-to-text-file-from-sql-server.html](http://blog.data-miners.com/2012/01/writing-to-text-file-from-sql-server.html)。

您可以使用此技术将每一行写入文件。

# jquery - 如何使用live()？

> ID：10310808
> 
> 赞同：0
> 
> 时间：2012-04-25T07:00:12.000
> 
> 标签：jquery

我有一个脚本，我想在下面的代码中使用。

```
if($('#Menu').length >0) {
   $('#Menu >li').click(function() {

   });  
} 
```

我该如何使用它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T07:02:28.007

使用[on](http://api.jquery.com/on/)而不是`live`从 1.7 开始不推荐使用

```
if($('#Menu').length) {
   $('#Menu').on('click', '> li', function() {

   });  
} 
```

[http://api.jquery.com/live/](http://api.jquery.com/live/)

> 从 jQuery 1.7 开始，不推荐使用 .live() 方法。使用 .on() 附加事件处理程序。旧版本 jQuery 的用户应该使用 .delegate() 而不是 .live()。

如果您使用的是 jQuery 版本`< 1.7`，`>= 1.4.2`您可以使用[委托](http://api.jquery.com/delegate/)

```
 $('#Menu').delegate('> li', 'click', function() { // different argument order than on

   }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:02:57.483

你没有。

`.live()`被弃用以支持`.delegate()`，然后`.delegate()`（`.bind()`等等）被弃用以支持`.on()`.

## `.live()`的后继者的示例实现

这可能会给你类似的结果：

```
$('#Menu').on('click', '> li', function(){

}); 
```

## 如果没有`.on()`，请使用`.delegate()`

正如我所提到的，`.live()`不赞成使用[`.delegate()`](http://api.jquery.com/delegate/)，因此如果您的 jQuery 版本中没有`.on()`可用的，您应该[`.delegate()`](http://api.jquery.com/delegate/)首先尝试使用：

```
$('#Menu').delegate('> li', 'click', function(){

}); 
```

## `live()`做类似事情的例子

如果你坚持`.live()`，你可以写这样的代码：

```
$('#Menu > li').live('click', function(){

}); 
```

## 问题中的更正示例

通常，您不需要检查是否存在某些东西来添加事件处理程序。jQuery 将搜索元素，如果没有找到，它就不会添加事件处理程序，所以你可以这样写：

```
$('#Menu >li').click(function() {

}); 
```

而不是你在问题中写的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:02:41.390

[.live（事件，处理程序（事件对象））](http://api.jquery.com/live/)

```
<script>
$("#Menu >li").live("click", function(){

});
</script> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-25T07:03:09.690

你不应该使用`live`. 你应该使用`on`

Live 已弃用 - 不应使用。ps 这也替换了委托语法 - 如果你愿意......

您不必提供第二个参数 - 然后它将收听容器本身及其所有子项 + 子项。因为（1.7+）

例子 ：

```
$(".myDiv").on("click","#myButton",function (){
alert('1');
}) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-25T07:03:20.230

我认为如下所示：

```
if($('#Menu').length >0) {
   $('#Menu >li').live('click', function() {

   });  
} 
```

[居住](http://api.jquery.com/live)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-04-25T07:03:34.123

从 jQuery 1.7 开始，不推荐使用 .live() 方法。使用 .on() 附加事件处理程序。旧版本 jQuery 的用户应该使用 .delegate() 而不是 .live()。

在您的情况下，您可以像这样使用

```
if($('#Menu').length >0) {
   $('#Menu >li').live("click", function() {

   });  
} 
```

# algorithm - 检查 O(1) 中是否有 2 个树节点与预处理相关（祖先/后代）

> ID：10310809
> 
> 赞同：11
> 
> 时间：2012-04-25T07:00:35.850
> 
> 标签：algorithm, tree, time-complexity, ancestor, preorder

检查2个树节点是否相关（即祖先-后代）

*   在 O(1) 时间内用 O(N) 空间解决它（N = 节点数）
*   允许预处理

*而已。我将在下面介绍我的解决方案（方法）。如果您想先考虑自己，请停下来。*

* * *

对于预处理，我决定进行预排序（首先递归地遍历根，然后是子节点）并为每个节点提供一个标签。

让我详细解释一下标签。每个标签将由逗号分隔的自然数组成，例如 "1,2,1,4,5" - 该序列的长度等于*(节点的深度 + 1)*。例如，根的标签是“1”，根的孩子将有标签“1,1”，“1,2”，“1,3”等。下一级节点将有标签，如“1,1,1 ", "1,1,2", ..., "1,2,1", "1,2,2", ...

假设一个节点的“*序号*”是其父节点的子列表中的“*这个节点的从1开始的索引”。*

通用规则：节点的标签由其父标签后跟逗号和节点的“*订单号*”组成。

因此，要回答 O(1) 中两个节点是否相关（即祖先-后代），我将检查其中一个节点的标签是否是另一个节点的“*前缀*”。虽然我不确定这些标签是否可以被认为占据 O(N) 空间。

预计会有任何有修复或替代方法的批评者。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-04-25T07:21:58.273

您可以在 O(n) 预处理时间和 O(n) 空间中执行此操作，查询时间为 O(1)，如果您存储每个顶点的前序号和后序号并使用以下事实：

> 对于树 T 的两个给定节点 x 和 y，x 是 y 的祖先当且仅当 x 在 T 的前序遍历中出现在 y 之前，在后序遍历中出现在 y 之后。

（从此页面：[http](http://www.cs.arizona.edu/xiss/numbering.htm) ://www.cs.arizona.edu/xiss/numbering.htm ）

您在最坏的情况下所做的是 Theta(d)，其中 d 是较高节点的深度，因此不是 O(1)。空间也不是 O(n)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-26T14:33:11.277

如果您考虑一棵树，其中树中的一个节点有 n/2 个子节点（例如），则设置标签的运行时间将高达 O(n*n)。所以这个标签方案行不通....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:23:38.897

有线性时间最低的共同祖先算法（至少离线）。例如看看[这里](http://adambuchsbaum.com/papers/ptrs-stoc98.pdf)。你也可以看看[tarjan 的离线 LCA 算法](http://en.wikipedia.org/wiki/Tarjan%27s_off-line_least_common_ancestors_algorithm)。请注意，这些文章要求您提前知道要执行 LCA 的配对。我认为也有在线线性时间预计算时间算法，但它们非常复杂。例如，对于范围最小查询问题，有一个线性预计算时间算法。据我记得这个解决方案两次通过了 LCA 问题。该算法的问题在于它具有如此大的常数，以至于它需要大量输入才能实际上比 O(n*log(n)) 算法更快。

有更简单的方法需要 O(n*log(n)) 额外的内存并在恒定时间内再次回答。

希望这可以帮助。

# asp.net - 在同一台机器上调用 asp.net webservice 时出现“无法解析远程名称”的偶发错误

> ID：10310812
> 
> 赞同：1
> 
> 时间：2012-04-25T07:00:49.067
> 
> 标签：asp.net, web-services, iis-7

我有一个带有 .Net 3.5 Web 应用程序的 Windows 2008 R2 IIS7 Web 服务器，它通过 https 与同一台机器上的 .Net 3.5 Web 服务进行通信。有时（可能两天一次）Web 应用程序在调用 Web 服务时收到错误“无法解析远程名称'[机器名]'”。Web服务器设置为每晚回收应用程序池，在正常工作时间发生错误。我无法在日志中检测到任何异常，工作进程也不会消耗大量内存。

有任何想法吗？

注意：Web 应用程序和 Web 服务最初位于两台不同的机器上。在尝试确定问题原因时，我将 Web 服务移至 Web 应用程序的服务器。

# c - realloc() 之后的分段错误。无法将分配的内存分配给指针

> ID：10310813
> 
> 赞同：0
> 
> 时间：2012-04-25T07:00:50.950
> 
> 标签：c, pointers, segmentation-fault, realloc

我正在尝试使用 realloc() 分配一些内存。到目前为止，这有效。但是，如果我想将分配的内存分配给结构变量中的指针，则会出现分段错误：

```
// in header
typedef struct {
    int a;
    char test[20];
} MyContent;

typedef struct {
    MyContent* values; 
    // simmilar to: MyContent values[]
    // ... some other stuff
} MyData;

// in source
void myFunction(MyData* dataPtr) {
    dataPtr->values = NULL;
    MyData* tempPtr = NULL;

    for (int i = 1; i < 10; i++) {
        tempPtr = (MyContent*) realloc(dataPtr->values, i * sizeof(MyContent));
        if (tempPtr == NULL) {
            free(dataPtr->values);
            break;
        }
        dataPtr->values = tempPtr;  // Here I get the segmentation fault
        dataPtr->values[(i-1)].a = 42;
        // ...
    }
} 
```

我无法弄清楚这里出了什么问题。有什么建议么？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:28:41.603

好像你编辑了你的代码。编辑后的代码工作得很好。

```
#include<stdio.h>
#include<malloc.h>
#include<string.h>
// in header
typedef struct {
    int a;
    char test[20];
} MyContent;

typedef struct {
    MyContent* values; 
    // simmilar to: MyContent values[]
    // ... some other stuff
} MyData;

// in source
void myFunction(MyData* dataPtr) {
    dataPtr->values = NULL;
    MyData* tempPtr;

    for (int i = 1; i < 10; i++) {
        tempPtr = (MyData*) realloc(dataPtr->values, i * sizeof(MyContent));
        if (tempPtr == NULL) {
            if(dataPtr->values)
                free(dataPtr->values);
            printf("realloc() failed\n");
            return ;
        }
        dataPtr->values = (MyContent*)tempPtr;  // Here I get the segmentation fault
        dataPtr->values[(i-1)].a = 42+i;
        strcpy(dataPtr->values[(i-1)].test,"name");
    }
}

void PrintData(MyData* dataPtr) {
    for (int i = 1; i < 10; i++)
        printf("We have %s at %d\n",dataPtr->values[(i-1)].test,dataPtr->values[(i-1)].a);
}

main() {
    MyData Sample;
    myFunction(&Sample);
    PrintData(&Sample);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:12:29.633

乍一看，我没有看到可能导致崩溃的问题——基于个数的寻址有点奇怪，但并非不正确。代码中可能存在您未显示的问题，导致堆或堆栈损坏，而 realloc 调用会使情况变得更糟。或者，如果您正在使用优化进行编译，您的调试器可能会对崩溃实际发生的位置感到困惑。你也很困惑`MyData`and `MyContent`，但我认为这只是因为你在编辑代码时出错了。

另请注意，如果`realloc`失败，您将在您指示的那一行*之后*崩溃，因为您将写入一个空指针。您需要中止 if `tempPtr is NULL`，而不仅仅是释放旧指针。但是，这再次导致与您指示的线路不同的故障。

我建议在 valgrind 下运行您的程序以查看它报告错误的位置 - 发生的第一个此类错误可能是罪魁祸首。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:08:40.800

检查新分配的内存时，您的条件是错误的。它应该是：

```
if (tempPtr == NULL) {
  // handle error condition or continue with original 'dataPtr->values'
}
else {
  dataPtr->values = tempPtr;
} 
```

请记住，`realloc()`这不一定将一个块转移到另一个块。有时它可能会在同一个指针区域中分配内存。

# android - 播放声音会为精灵的动画造成延迟

> ID：10310829
> 
> 赞同：0
> 
> 时间：2012-04-25T07:02:03.217
> 
> 标签：android, opengl-es, andengine

我使用 AndEngine 库创建了 android 动态壁纸应用程序。壁纸有一个带声音的摇摆动画。

问题是每次播放摆动声音时，摆动动画都会滞后几毫秒。

我想知道有没有解决方案？我曾尝试创建一个线程来播放声音，但结果仍然滞后。

代码是这样的...

```
public class TreeSwingSprite extends AnimatedSprite 
    implements IAnimationListener, IEntityModifierListener {

    ...
    private Sound swingSound;

    // this event happened when user touch the Sprite on screen
    public boolean onAreaTouched(TouchEvent pSceneTouchEvent, float pTouchAreaLocalX, float pTouchAreaLocalY) {
        if (pSceneTouchEvent.isActionDown()) {
            ...

            long[] frameDuration = new long[] {                                            
                50, 50, 50, 50, 50, 50, 50, 50, 50, 50,
                ...
            };

            final int[] frame = {                             
                10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 
                ...
            };

            animate(frameDuration, frame, 0, this); // this code execute the animation of the Sprite

            // play the sound
            new Thread(new Runnable() {

                @Override
                public void run() {
                    if (swingSound != null) swingSound.play();
                }
            }).start();

    }
} 
```

如果您不了解 AndEngine，纯 openGL ES 解决方案也可以。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T16:41:47.910

没关系，延迟的原因是特定设备没有强大的硬件支持，可能是处理器。我知道，因为当我尝试使用其他设备时，它运行良好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T16:08:46.940

无需在新线程上播放声音！

# c# - MongoDB C#：Update.pullAll 不删除项目

> ID：10310837
> 
> 赞同：2
> 
> 时间：2012-04-25T07:02:28.890
> 
> 标签：c#, mongodb

我目前正在使用 MongoDB 的 C# 驱动程序，一一尝试[API中的每种方法](http://api.mongodb.org/csharp/1.0/html/5ae970ba-44a1-a0c7-2b79-6ddb7bc99109.htm) *（如果他们提供一些示例，这将是更好的联盟）*。

目前我正在使用该`Update.PullAll()`方法。

我正在使用这个 POCO 对象进行测试：

```
public class Person 
{
    public ObjectId Id { get; set; }
    public string Firstname { get; set; }
    public string Lastname { get; set; }
    public List<Skill> Skills { get; set; }
}

public class Skill 
{
    public Object Id { get; set; }
    public string Name { get; set; }
} 
```

如果已填充，则转换为此 json 对象：

```
{
   "_id": ObjectId("4f979621682dbc1a8cefecb3"),
   "Firstname" : "John",
   "Lastname" : "Doe",
   "Skills" : [
       {
          "_id" : ObjectId("4f979621682dbc1a8cefecaf"),
          "Name" : "C#.NET"
       },
       {
          "_id" : ObjectId("4f979621682dbc1a8cefecb0"),
          "Name" : "ASP.NET"
       },
       {
          "_id" : ObjectId("4f979621682dbc1a8cefecb1"),
          "Name" : "SQL Server"
       }
   ]
} 
```

现在，我正在尝试从技能集合中删除元素。

这是我的代码：

```
var server = MongoServer.Create("mongodb://localhost/?safe=true");
var db =  server.GetDatabase("test");
var collection = db.GetCollection<Person>("person");

// Retrieve the data above from  mongoDB
var _person = collection.AsQueryable()
                        .Select(p => p).Single();

// Query to reference "John Doe"
var query = Query.EQ("_id",new ObjectId(_person.Id.ToString()));

// Collection of "John Doe's" skill ids
var objIds = _person.Skills
                    .Select(p => new ObjectId(p.Id.ToString()));

// Parse the skill ids to a BsonArray
var bsonArray = BsonArray.Create(objIds);

var update = Update.PullAll("Skills" , bsonArray);

// Call the Update command
collection.Update( query, update ); 
```

哪个，什么都不做；它使我的 json 对象完好无损。

谁能帮我指出我的代码哪里出错了？
任何建议都非常感谢，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:05:51.460

为了`$pullAll`工作，您必须完全匹配整个对象，并且不能只使用一个字段（即使它被称为 _id）。

因此，您还必须在更新命令中包含名称（并且字段也需要按相同的顺序排列）。

您真正想要使用的命令是`$pull`，它可以满足您的需要，即匹配过滤条件：

> 除了匹配精确值之外，您还可以使用表达式（[$pull 在这种方式中很特殊](http://www.mongodb.org/display/DOCS/Updating#Updating-%24pull)）。

即使它被称为“无所有的拉”，它确实会拉出*所有匹配的元素*，而不仅仅是一个。“全部”只是意味着您有一个过滤器（而 pullAll 有多个要匹配的元素）。

# visual-studio-2010 - 显示鼠标悬停错误描述的键盘快捷键

> ID：10310840
> 
> 赞同：12
> 
> 时间：2012-04-25T07:02:37.660
> 
> 标签：visual-studio-2010, resharper

我目前在 VS2010 中使用 ReSharper - 我喜欢几乎所有东西都有键盘快捷键这一事实 - 但是有一个我找不到......

如果我有以下代码块......并且我在出错的区域下方有一个红色波浪线

![在此处输入图像描述](../Images/0b73323d3b6e9cdd5c4e1d1f933727f9.png)

如果我将鼠标移到红色波浪上，则会弹出如下错误消息...

![在此处输入图像描述](../Images/429b67a611228ee5edf6149822eab779.png)

是否有一些键盘快捷键可以显示带有错误消息的弹出对话框 - 我想避免使用鼠标但仍然看到错误消息。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-25T07:45:49.353

当光标置于错误时，您可以查看 Visual Studio 的**状态栏。**有同样的错误信息。
不幸的是，状态栏对于长错误消息来说太小了。但这对于 80% 的错误消息来说已经足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-10-21T16:30:04.217

使用**Ctrl + \ + e**显示**错误列表**窗口。您可以在不使用鼠标的情况下看到错误。

[![在此处输入图像描述](../Images/c0afc7ec23d84991224582ead21241f5.png)](https://i.stack.imgur.com/JpynG.png)

# magento - 从 Magento 测试自动化框架进行 Mage 调用

> ID：10310848
> 
> 赞同：1
> 
> 时间：2012-04-25T07:02:58.923
> 
> 标签：magento

我们正在使用 Magento 测试自动化框架编写测试自动化脚本。我们想在脚本中进行 Mage:: 调用。例如，`Mage::getModel('customer/customer')`和`Mage::getModel('customer/session')`。

如何才能做到这一点？

到目前为止，这个错误被抛出：

```
Call to a member function getModelInstance() on a non-object in C:\Development\Magento\Enterprise\mothercare\app\Mage.php on line 432 
```

提前致谢，

# php - 使用 MYSQL 和 PHP 循环输出帖子流和相 关评论

> ID：10310855
> 
> 赞同：3
> 
> 时间：2012-04-25T07:03:22.623
> 
> 标签：php, mysql, comments, feed, timeline

我知道这已经被问过几次了，但我已经尝试了这个网站上的所有答案，但仍然无处可去。

我正在尝试创建一个 twitter 类型的提要，它将循环输出帖子，然后循环输出提要中每个帖子的相关评论（类似于 Facebook）。我不确定最好的方法是两个单独的查询还是一个查询，以及如何将它全部循环出来？

我的数据库结构如下：

```
--TWEETS--              --COMMENTS--          --USERS--
id                      id                    id
accountno               accountno             accountno
userid                  userid                email
createdat               createdat             name
tweet                   tweetid 
image                   comment 
```

我的PHP函数如下：

```
function gettweets(){

$result = mysql_query("SELECT tweets.id,tweets.tweet,tweets.createdat,tweets.userid,users.name,users.avatar,users.biog FROM tweets INNER JOIN users ON tweets.userid = users.id WHERE tweets.accountno ='123456' ORDER by tweets.ID DESC LIMIT 20");

while($row = mysql_fetch_array( $result )) {
  $name = $row['name'];
  $biog = $row['biog'];
  $avatar = $row['avatar'];
  $newtweet= $row['tweet'];
  $tweetid = $row['id'];
  $timeago = ago($row['createdat']);
  $thistweet = '';
  $thistweet .= "<div class='tweet' data-tweetid='$tweetid'>";
  $thistweet .= "<div class='left'>";
  $thistweet .= "<img width='45' height='45' src='$avatar' alt='placeholder+image'>";
  $thistweet .= "</div><!-- / -->";
  $thistweet .= "<div class='right'>";
  $thistweet .= "<span class='name'>$name says</span>";
  $thistweet .= "<p>";
  $thistweet .= "$newtweet";
  $thistweet .=  "</p>";
  $thistweet .= "<span class='replybar'> $timeago <a class='like' data-tweetid='$tweetid' href='' title=''>Like</a> | "; 
$thistweet .= "<a class='favourite' data-tweetid='$tweetid' href='' title=''>Favourite</a> | ";
$thistweet .= "<a class='mainreply' href='' title=''>Reply</a></span>";

//I WANT TO LOOP OUT THE COMMENTS HERE 

$thistweet .= "</div><!-- / --><span class='clear'></span></div><!--End Tweet -->";
return $thistweet;
} 

} 
```

******编辑* *** *****

 **我已经尝试了以下关于创建它的方式的答案，现在我成功地设法循环出“推文”以及每条推文下方的相关评论。但是我的问题是，它会循环播放我对该特定推文的每条评论的“推文”，即

```
tweet 1
   -comment 1.1
tweet 1
   -comment 1.1
   -comment 1.2 (Tweet 1 has 2 comments so loops out tweet 1 two times)
tweet 2
   -comment 2.1
tweet 2
   -comment 2.1
   -comment 2.2
tweet 2
   -comment 2.1
   -comment 2.2
   -comment 2.3 (Tweet 2 has 3 comments so loops out tweet 2 three times) 
```

我认为这是我的 SQL 查询的问题，因为我不熟悉使用 JOIN 语句。这是我目前的查询

```
 "SELECT tweets.accountno, tweets.id,tweets.tweet,tweets.createdat,tweets.userid,users.name,users.avatar,users.biog,comments.comment FROM tweets INNER JOIN users ON tweets.userid = users.id JOIN comments ON tweets.id = comments.tweetid WHERE tweets.accountno ='123456' ORDER by tweets.ID DESC LIMIT 20" 
```

有人能帮忙吗？非常感激？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:30:17.593

首先，我会确保您的查询返回您所期望的。一个很好的工具是 phpMyAdmin。

但如果我理解你的问题是正确的，你想要这样的东西：

```
Tweet1
    Comment1 about Tweet1
    Comment2 about Tweet1
Tweet2
    Comment1 about Tweet2
    Comment2 about Tweet2
    Comment3 about Tweet2
Tweet3
    Comment1 about Tweet3
(etc.) 
```

如果是这样，有两种主要方法可以做到这一点：

**简单，效率较低的方法**

编写 2 个查询，一个外部查询和一个使用外部查询中的 tweetid 的内部查询。

它可能看起来像：

```
$qo = "SELECT * FROM tweet ORDER by tweets.ID"
$ro = mysql_query($qo);
while($ao = mysql_fetch_array($ro)
{
    // DISPLAY THE TWEET HERE
    $qi = sprintf("SELECT * FROM comments WHERE tweetid = %d", ao['id']);
    $ri = mysql_query($qi);
    while($ai = mysql_fetch_array($ri)
    {
        //DISPLAY THE COMMENT HERE
    }
} 
```

**更复杂、更有效的方法**

像您正在做的那样使用连接，然后循环遍历结果，跟踪推文 ID 是否已更改。如果有，请显示推文。

因此，假设您的查询是正确的：

```
$query  = "SELECT tweets.id,tweets.tweet,tweets.createdat,tweets.userid,users.name,users.avatar,users.biog FROM tweets INNER JOIN users ON tweets.userid = users.id WHERE tweets.accountno ='123456' ORDER by tweets.ID DESC LIMIT 20";
$result = mysql_query($result);

$tweetid = -1;  // Some impossible tweetid
while($row = mysql_fetch_array( $result )) {
    if($row['id'] != $tweetid){ 
        // PRINT TWEET
        $tweetid = $row['id'];
    }
    // PRINT COMMENT
} 
```

无论哪种方式都会让您到达您想要的地方，第一种更容易但涉及更多查询，第二种更复杂但更有效。

此外，关于基于表索引进行排序的最后一点 - 这几乎不是您想要做的。您可能应该添加一个通过 PHP 或 SQL NOW() 函数设置的时间戳字段。**

# php - 如何在 MySQL 数据库中查找最常用的单词并平均第二列

> ID：10310860
> 
> 赞同：4
> 
> 时间：2012-04-25T07:03:37.587
> 
> 标签：php, mysql

所以我在 MySQL 数据库中有两列文本，示例如下：

```
Name             Score
Henry Hodgens    4
Mary Hodgens     8
Jim Servan       2
Jane Servan      4
Hank Servan      6
Sarah Smith      10
Mary Smith       12
Henry Dobbins    2
Henry Jenkins    4 
```

我需要使用 PHP 运行一个查询，该查询可以根据“名称”中单个单词的最常见出现来显示“分数”的平均值。因此，它将显示“Servan”平均为 4，“Henry”平均为 3.3，“Hodgens”平均为 6，“Mary”平均为 10，按照“Name”中单词出现次数最多的顺序。

我希望这是有道理的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:09:26.367

这在 MySQL 内部很难做到。它在存储和检索关系值方面非常出色，但在进行这种计算方面并不那么出色。如果您不介意在 PHP 中执行此操作，可以使用下面的代码来计算频率。

```
foreach ($rows as $row)
{
    foreach (explode(" ", $row['Name']) as $token)
    {
        $total[$token] += (int)$row['Score']; 
        $occurances[$token]++;
    }
}

// compute average by taking ($total[$token])/($occurances[$token]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:30:58.837

你可以这样做：

```
SELECT
    AVG(t.Score) AS ScorceAvg,
    t.name
FROM
    (
        SELECT 
            SUBSTRING(Table1.Name,1,INSTR(Table1.Name, ' ')) AS name,
            Table1.Score
        FROM 
            Table1
        UNION ALL
        SELECT 
            SUBSTRING(Table1.Name,INSTR(Table1.Name, ' ')) AS name,
            Score
        FROM 
            Table1
    ) AS t
GROUP BY
    t.name 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T09:02:14.313

这是完美的东西

```
SELECT distinct
       SUBSTRING(NAME, LOCATE(' ',NAME)+1) as NameED,
      (select
       avg(score)
       from avgscore
       where NameED = SUBSTRING(NAME, LOCATE(' ',NAME)+1)) as Score
FROM avgscore 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T07:17:54.477

尝试这个

```
SELECT sum(Score)/count(Name) as average FROM tablename where Name regexp "Mary"; 
```

# ios - 如何在 Settings.bundle 中添加图标和更多文本。获得更多选择

> ID：10310865
> 
> 赞同：3
> 
> 时间：2012-04-25T07:03:54.137
> 
> 标签：ios, icons, settings.bundle

我正在学习 iOS 开发，在我的第一篇文章中我有一些问题要问你。

为了学习 iOS，我做了一个带有 Settings.bundle 的愚蠢应用程序。我想在其中放入小图像或图标，但我不能。

我还在 PSChildPaneSpecifier 的右侧写入了 PSToggleSwitchSpecifier 的值

苹果做到了，[看图](https://i.stack.imgur.com/DkpSY.png)：

![在此处输入图像描述](../Images/1ecf44fbb930e7c2a8cb31b1917687c1.png)

我在[NSUserDefaults 类参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsuserdefaults_Class/Reference/Reference.html)中搜索，但没有找到任何相关信息。也许这是不可能的，只有苹果能做到。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:17:57.167

你是对的，这是只有苹果才能做到的事情。第三方应用程序在设置包中可以实现的功能受到限制。您可以拥有的唯一图标是第一页上的应用程序图标，右侧的唯一信息将是字符串值 - 请参阅[此处](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/UserDefaults/Preferences/Preferences.html)了解详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:15:50.440

如果没有越狱，你就无法实现这一点，Apple 根本不会允许它并且不提供这样做的方法。

# django - django - 促销代码 - 优惠券代码 - 折扣生成器

> ID：10310869
> 
> 赞同：0
> 
> 时间：2012-04-25T07:04:29.077
> 
> 标签：django, cart, discount, coupon

我正在尝试为我已经拥有的购物车创建促销代码。我希望它很简单，例如输入 100off 以减 100 美元，我收到一条错误消息，提示“未定义全局名称 'PromoCode'”。

模型.py

```
class PromoCode(ModelForm):
        code = models.FloatField(max_length=15)
        discount = models.FloatField(max_length=15) 
```

视图.py

```
def addtocart(request, prod_id):
        if (request.method == 'POST'):
                form = CartForm(request.POST)
                if form.is_valid():
                        newComment = form.save()
                        newComment.session = request.session.session_key[:20]
                        newComment.save()
                        return HttpResponseRedirect('/products/' + str(newComment.product.id))
        else:
                form = CartForm( {'name':'Your Name', 'session':'message', 'product':prod_id} )

        return render_to_response('Products/comment.html', {'form': form, 'prod_id': prod_id})

def delItem(request, prod_id):
        addtocart = get_object_or_404(Cart, pk = prod_id)
        prod_id = addtocart.product.id
        addtocart.delete()
        return HttpResponseRedirect('/userHistory/')

    def userHistory(request):
            promo = PromoCode.objects.filter(code = code_from_the_form)
            userCart = Cart.objects.filter(session = request.session.session_key[:20])
            totalCost = 0
            for item in userCart:
                    print item
                    totalCost += item.quantity * item.product.prodPrice * 1.06
            return render_to_response('Products/history.html', {'userCart':userCart, 'totalCost' : totalCost}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T08:15:06.813

添加具有两个字段的 PromoCode 模型：代码和折扣。然后，您可以在管理员中添加几个促销代码。

在表单中，只需添加促销代码字段并在提交时检查代码是否与您的任何促销代码对象匹配并应用折扣。

（也许还有一点 javascript 来动态检查代码。如果你只是想乘以在之间如果是百分比，则为 0 和 100。只要确保你不会犯错，如果我不得不实施它，那将是我的恐惧:-)

# c++ - 在 Makefile 中链接 SDL 库，c++

> ID：10310870
> 
> 赞同：2
> 
> 时间：2012-04-25T07:04:30.140
> 
> 标签：c++, makefile, sdl

我正在开展一个协作项目，而控制项目主分支的人在 Mac 上工作。正因为如此，他的 makefile 中有一些细微的差异，在 Windows 上对我来说不太好。我使用 MinGW 来保存我的库，并使用 g++ 进行编译。

Makefile（我认为它应该去）

```
bomb: source/Level.cpp source/Level.h source/main.cpp
g++ -o bomb source/Level.cpp source/main.cpp -Wall -I. -I\MinGW\include\SDL -lSDLmain -lSDL -lSDL_image 
```

适合他的 Makefile：

```
bomb: source/Level.cpp source/Level.h source/main.cpp
g++ -o bomb source/Level.cpp source/main.cpp -Wall -I. -I/Library/Frameworks/SDL.framework/Headers -lSDLmain -lSDL -lSDL_image -framework 
```

我的 SDL 库包含文件位于“C:\MinGW\include\SDL”。使用这些知识，我将如何正确编写 makefile？附带说明一下，我在使用当前的 makefile 时遇到的错误是：

```
C:\MinGW\msys\1.0\src\mingwrt/../mingw/main.c:73: undefined reference to 'WinMain@16' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:09:45.190

您是否尝试过添加`-lmingw32`到库列表的末尾？您是否在`int main(int argc, char** argv)`某处定义了函数？另请参阅[SDL 常见问题解答](http://wiki.libsdl.org/moin.cgi/FAQWindows#I_get_.22Undefined_reference_to_.27WinMain.4016.27.22)

# java - 错误：否则没有 if 。但我已经把它放在它之后

> ID：10310871
> 
> 赞同：1
> 
> 时间：2012-04-25T07:04:44.867
> 
> 标签：java, javascript, jsp

当我执行以下代码时：

```
<script type="text/javascript">
function UploadMessage() {
<%! String message = null; 
    boolean AttemptToUploadFile = false;
%>
    <% 
        message = (String)request.getAttribute("SuccessMessage");
        if(message != null) {
    %>
            alert("File Successfully Uploaded !");
            <% } %>
            <% else if((Boolean)request.getAttribute("UploadAttempt")) { %>
                  alert("Unable to upload file");
                <%}%>

} 
```

我收到以下错误：

```
media/work documents/UnderTest/NetbeansCurrent/ProjectSnippets/build/generated/src/org/apache/jsp/portfolio_005fone_jsp.java:252: error: 'else' without 'if'
else if((Boolean)request.getAttribute("UploadAttempt")) { 
1 error 
```

错误说`if`没有，`else`但我已经在`else`之后立即放置`if`。那为什么会出错呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-25T07:07:03.750

您必须将它们放在同一个脚本块中。只需删除结尾`%>`和开头`<%`：

```
<% }
     else if (... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:09:11.877

您的错误在这两行：

```
<% } %>
<% else if((Boolean)request.getAttribute("UploadAttempt")) { %> 
```

在生成的 java 代码中，它们将（基本上）被翻译为：

```
}
out.append("\n");
else if(... 
```

因此，您需要将右括号放在同一个 scriptlet 中，如下所示：

```
<% } else if((Boolean)request.getAttribute("UploadAttempt")) { %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:10:14.767

您没有立即将它放在`if`. 它之间有`%>`+换行符+ `<%`。JSP 必须在生成的代码中输出换行符，因此在生成的 java 代码之间和中间有类似的东西`out.print("\n\t\t");`（包括缩进） 。`}``else if`

# php - 我使用时未定义jquery

> ID：10310881
> 
> 赞同：2
> 
> 时间：2012-04-25T07:06:05.207
> 
> 标签：php, javascript, jquery, cakephp

我收到错误 jquery is not defined.. 请帮帮我..

```
 jQuery(function(){
            jQuery('#submitid').click(function(){
                if(jQuery('input[id="EnrollmentServiceAddress1"]').val() != ''){
                    var add2 = jQuery('input[id="EnrollmentServiceAddress2"]').val();
                    if(add2.indexOf('#', 0) && add2 != ''){
                        jQuery('input[id="EnrollmentServiceAddress2"]').val('#'+add2);
                    }
                }
                QadServer.current.submit("#EnrollmentServiceInformationForm");
            });

            jQuery('input[name="residence_type"]').click(function() {
                if(jQuery('input[name="residence_type"]:checked').val() == 'home') {
                    //            jQuery('#add_type').html('Home Number');
                    jQuery('#home_apt').slideUp('slow');
                } else if(jQuery('input[name="residence_type"]:checked').val() == 'apartment') {
                    jQuery('#add_type').html('Apartment Number');
                    jQuery('#home_apt').slideDown('slow');
                }
            });

            jQuery('.qad_suggestion').live('click',function() {
                qad_test();
            });

            jQuery('div[id="change_add"] > span').click(function() {
                jQuery('input[id="EnrollmentServiceAddress1"]').val('');
                jQuery('input[name="residence_type"]:checked').attr('checked', false);
                jQuery('#home_apt').hide();
                jQuery('#change_add').slideUp('slow', function() {
                    jQuery('#validate_add_block').slideDown('slow');
                });
            });

    <?php if($this->Session->check('Enrollment.social_security_number')) { ?>
                //        jQuery('#validate_add_block').hide(); //Old code
                //        jQuery('#change_add').show();
                jQuery('#validate_add_block').show(); //New code
                jQuery('#change_add').hide();
    <?php } ?>
                 init();
             }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:09:37.087

错误是因为 jquery 文件未正确加载以避免此尝试以下包含 jquery 的代码，如果它未包含在您的页面中...

```
<script type="text/javascript">
/******** Load jQuery if not present *********/
if (typeof jQuery === "undefined" || jQuery.fn.jquery !== '1.4.2') 
{
    var script_tag = document.createElement('script');
    script_tag.setAttribute("type","text/javascript");
    script_tag.setAttribute("src", "http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js")

    document.getElementsByTagName("head")[0].appendChild(script_tag);
    } 
} 

    $(document).ready(function() {
        alert('jQuery Library Loaded');
    });
  </script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:52:32.510

尝试

```
 jQuery.noConflict() 
```

否则尝试替换`$ with jQuery`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:08:43.560

将此行放在 jquery 代码的顶部

```
jQuery.noConflict(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T07:07:58.710

你包含了 jQuery 吗？

```
<script type="text/javascript" src="jquery.js"></script> 
```

或者

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
```

[http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T08:00:51.100

在你的视图文件中试试这个
`<?php $this->Js->JqueryEngine->jQueryObject = 'jQuery'; ?>`

# android - Google 反向地理编码并不总是返回 street_address

> ID：10310882
> 
> 赞同：2
> 
> 时间：2012-04-25T07:06:07.663
> 
> 标签：android, ios, web, reverse-geocoding

我正在做一个非常基本的谷歌反向地理编码调用，例如：

[http://maps.googleapis.com/maps/api/geocode/json?latlng=37.785546,-122.406551&sensor=true](http://maps.googleapis.com/maps/api/geocode/json?latlng=37.785546,-122.406551&sensor=true)

......最近（我觉得最近开始发生这种情况）我没有找回街道地址。例如，我总是用来得到这样的东西：

```
{
    "results": [
        {
            "address_components": ... ,
            "formatted_address": "1 Stockton St, San Francisco, CA 94102, USA",
            "geometry": ...,
            "types": [
                "street_address"
            ]
        },
... 
```

现在我经常得不到 street_address，而是得到这样的东西作为最准确的反向地理编码结果：

```
{
    "results": [
        {
            "address_components": ...,
            "formatted_address": "4th St & Market St, San Francisco, CA 94103, USA",
            "geometry": ...,
            "types": [
                "transit_station"
            ]
        }, 
```

我总是想要最近的街道地址。有谁知道强制 google maps api 总是返回一个的方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T16:13:37.687

Talked to Google about this. There isn't a way to specify that you want an actual street address.

# jquery-mobile - Jquery Mobile pagecreate 功能永远不会完成

> ID：10310886
> 
> 赞同：0
> 
> 时间：2012-04-25T07:06:20.630
> 
> 标签：jquery-mobile, initialization

我正在使用 pagecreate 初始化事件来调用一个函数，该函数通过 AJAX 调用来填充列表。

我遇到的问题是这个事件永远不会完成。页面加载消息仍然存在。

我在这里和 Jquery 论坛上搜索过，没有任何运气。

我的代码如下所示：

```
$( "#events" ).live( 'pagecreate', function(event) {
    // Executed once the page is loaded
    var fromDate = new Date(),
        toDate = new Date(fromDate.getFullYear(), fromDate.getMonth() + 3, fromDate.getDate());
    update(fromDate, toDate);
    //alert('done');
});

function update(from, to) {

    var eventList = $('ul#event-list');

    $.ajax({
      url: 'events.php',
      dataType: 'json',
      data: {from: from, to: to},
      success: function(data) { 
        showEvents(data, from, to, eventList); // Create list items and append to eventList
        $('.value h2').formatCurrency({ negativeFormat: "-%s%n" }); // Format currency correctly using jQuery plugin
        }
    }); 
} 
```

我收到“a.Deferred 不是函数”错误，这表明它与 AJAX 调用的完成有关，但我已经检查过，并且 showEvents 函数正在正确创建列表项，所以它是不挂。

读完后[，](https://github.com/jquery/jquery-mobile/issues/1772)我尝试了替代初始化事件：pageinit，甚至changePage，但均未成功。

谢谢你的帮助。

ps 如果有帮助，请取消注释 alert() 获取更新的列表以正确重新格式化，而不解决问题。我想我会提到它，因为我显然不明白发生了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-27T05:01:27.697

> 如果您只想在项目加载时运行一次代码，请使用 mobileinit。**pageshow**用于页面的每个视图，并且**pagecreate**在您的项目中首次创建 pagecreate 时。

# php - 如何验证收货地址是否合法

> ID：10310891
> 
> 赞同：0
> 
> 时间：2012-04-25T07:06:35.853
> 
> 标签：php, e-commerce, shopping-cart

我有一个在线购物网站，客户在其中购买并输入美国街道地址，但选择了不同的国家。随后，它被收取了错误的运费。

因此我想知道有没有办法防止这种情况并检查地址是否合法？

谢谢你的协助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T18:01:28.210

Experian 有一个免费的扩展，可以在 Magento 上使用他们的付费服务。[http://www.magentocommerce.com/magento-connect/global-address-verification-9218.html](http://www.magentocommerce.com/magento-connect/global-address-verification-9218.html)

我们可能很快就会开始支付这笔费用。我们也厌倦了懒惰的客户输入导致我们支付额外的运费。有帮助的一件大事是要求 Zip AND Address 与美国的信用卡匹配。（与问题无关，我知道）

# audio - 相同比特率和相同长度的 MP3 文件大小不同

> ID：10310903
> 
> 赞同：0
> 
> 时间：2012-04-25T07:07:29.943
> 
> 标签：audio, mp3, recording, bitrate

我目前正在开发一些多声道录音软件。基本目标是能够记录计算机上的每个输入设备。我注意到，当我录制“长”时间（超过 1 小时）时，不同的 mp3 文件（代表不同的输入设备）具有相同的长度（和比特率设置），但文件大小不一样（尽管差别不大，最多大约 10 KB）。我希望这些文件必须具有完全相同的大小，尽管我不能 100% 确定。Stack Overflow 上有没有音频专家提供一些建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:14:01.147

你如何测量文件的长度？在 320kbps 的比特率下，10KB 的文件大小差异约为四分之一秒，因此如果您的长度测量具有 1 秒的精度，这是预期的行为。

# objective-c - 如何使用标签为动态创建的按钮动态设置背景图像？

> ID：10310913
> 
> 赞同：0
> 
> 时间：2012-04-25T07:08:08.693
> 
> 标签：objective-c, ios, xcode4

我在视图中动态创建了一行 numberButtons。单击任何数字时，按钮都会突出显示。如果我在该行中单击超过 1 个，则所有单击的按钮都会突出显示。如何避免多重高亮？

我使用的代码如下

```
-(void)pressed:(id)sender{
    UIButton *button = (UIButton *)sender;
    if(!button.selected){

        [NSTimer scheduledTimerWithTimeInterval:0.0 target:self selector:@selector(highlightButton:) userInfo:button repeats:NO];        

    } else {
        [NSTimer scheduledTimerWithTimeInterval:0.0 target:self selector:@selector(unhighlightButton:) userInfo:button repeats:NO];
    }
-(void)highlightButton:(id)sender{
    UIButton *button = (UIButton *)[sender userInfo];
    button.highlighted = YES;
    button.selected = YES;
}
-(void)unhighlightButton:(id)sender{
    UIButton *button = (UIButton *)[sender userInfo];
    button.highlighted = NO;
    button.selected = NO;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:12:40.583

我假设您的意思是您点击的每个按钮都会突出显示，而不会删除前一个突出显示。

一次只突出显示一个按钮。跟踪突出显示的按钮并在点击另一个按钮时删除其突出显示。

```
- (void)buttonTapped:(UIButton *)button {
    if (button != [self lastSelectedButton]) { // don't re-highlight the same button
        // remove the highlight of "lastSelectedButton"

        [self setLastSelectedButton:button];
        // add the highlight to "lastSelectedButton" (not updated to the new button)
    }

    // Do the rest of you button logic here ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:26:06.453

最后通过调用取消选择方法覆盖您的选择方法。因此，当您单击时，您的控件将立即被选中和取消选中。

# facebook - 带有参数的Facebook画布网址？

> ID：10310915
> 
> 赞同：4
> 
> 时间：2012-04-25T07:08:13.297
> 
> 标签：facebook, facebook-graph-api

我有一个网站，我在其中使用 Facebook API 让用户“邀请”他们的朋友到我的网站。这些朋友将在他们的 Facebook 上收到一个应用邀请，一旦他们单击并接受它，它就会在 iFrame （在 Facebook 内）中打开我网站的一个页面。

没关系，但我想在 URL 中添加一个引用 ID。所以我可以知道他们是从谁那里得到邀请的。

是否可以向画布 URL 添加（动态）参数？

我一直无法找到如何做到这一点。

（我正在使用 JS 库）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-30T15:23:00.717

我可以将多个参数传递给我的画布页面。不太清楚为什么这对您或@JonCanning 不起作用。我能够成功重定向到[https://apps.facebook.com/MY-APP?param1=x¶m2=y¶m3=z](https://apps.facebook.com/MY-APP?param1=x&param2=y&param3=z)并在 iframe 中加载的代码中检索它们。

但是，如果您使用 apprequests 进行邀请，则无法操纵请求 url，因此不确定您打算如何操纵请求 url。这是墙柱机制吗？

但是，如果您使用 apprequests 进行邀请 - 您可以传递一个可选的“数据”参数。这可以是任意 JSON 或简单字符串。当收件人通过邀请单击时，您将在 Facebook 的请求重定向器中获得一个“request_id”参数。例如 http:YOUR-INVITE-REDIRECT-URL?request_ids=REQUEST_ID。如果来自同一个应用程序的多个邀请被发送给用户，您将获得 request_ids 作为逗号分隔的列表。您可以对请求的 facebook 图形 api 端点进行回调，并取回请求的所有信息 - 包括您传递的“数据”参数。这可能对您更有效，因为您已将所有数据嵌入到请求本身中。

此处有关对话框的更多信息：[https ://developers.facebook.com/docs/reference/dialogs/requests/](https://developers.facebook.com/docs/reference/dialogs/requests/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-04T08:16:40.653

传递到您的应用程序 url 的单个参数被传递到 iframe

[http://apps.facebook.com/app_name/?param=hello](http://apps.facebook.com/app_name/?param=hello)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-14T21:49:26.577

要添加到@iyerrag 的答案，要从画布处理程序中获取数据参数，您必须回调 facebook 图形 API。该调用采用 http 查询中传递的 request_id 之一以及访问令牌。我能够使用我们应用的访问令牌（生成类似这样的[创建应用令牌](https://developers.facebook.com/docs/facebook-login/access-tokens/)）。

返回的 JSON 文档包含您在键“数据”中的数据参数中传递的值。

这是 Python 中的要点：

```
requestIDStr = self.request.get('request_ids','')
requestIDs = requestIDStr.split(',')
requestID = requestIDs[0]

if requestID:
   url = """https://graph.facebook.com/{}?access_token={}""".format(requestID, fbAccessToken)
   try:
      response = urllib2.urlopen(url)
      responseDoc = response.read()
      jsonResponse = json.loads(responseDoc)
      dataParam = jsonResponse['data']
   except Exception as e: logging.warning('unable to retrieve data param: {}'.format(e) ) 
```

# php - 以字符串格式获取 curl 响应

> ID：10310916
> 
> 赞同：3
> 
> 时间：2012-04-25T07:08:13.450
> 
> 标签：php, curl

我正在尝试执行一个 url 并获得它的响应。以下是执行 curl 的代码。我希望 curl 执行在 $result 中返回一个字符串。

```
<?php
$fields = array
(
'username'=>urlencode($username),
'pwrd'=>urlencode($pwrd),
'customer_num'=>urlencode($customer_num)
);

$url = 'http://localhost/test200.php';
//open connection
set_time_limit(20);
$ch = curl_init();

//set the url, number of POST vars, POST data
curl_setopt($ch,CURLOPT_URL,$url);
curl_setopt($ch,CURLOPT_POST,count($fields));
curl_setopt($ch,CURLOPT_POSTFIELDS,$fields_string);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
//execute post
$result = curl_exec($ch);

//close connection
curl_close($ch);
echo $result; //I want $result to be "Successful"
?> 
```

这是我在本地主机上的 test200.php：

```
<?php
$usernam = $_POST['username'];
$pass = $_POST['pwrd'];
$customer_num = $_POST['customer_num'];
echo "Successful!";
?> 
```

我在 test200.php 中做了哪些更改？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T08:18:38.470

您应该使用 curl 执行返回的 httpcode，而不是依赖返回的字符串

```
$res = curl_exec($ch);
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
curl_close($ch); 
```

这里 - [http://www.webmasterworld.com/forum88/12492.htm](http://www.webmasterworld.com/forum88/12492.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T08:16:08.633

将数据发送到**test200.php 后**，进行适当的操作，例如将发布的值插入表中并成功

```
echo "Successful!"; 
```

或在您的 test200.php 中打印相同的内容。假设您正在 test200.php 代码中插入代码就像

```
<?php
$qry = "INSERT INTO `your_table` (`field_customer_name`, `field_username`, `field_password`) VALUES ($fields['customer_num'], $fields['username'], some_encrypt_fxn($fields['pwrd']))";
mysql_query($qry);
$err_flag = mysql_error($your_conn_link);
if($err_flag == '') {
  echo "Successful!";
}
else {
  echo "Failed, Error " . $err_flag;
}
?> 
```

如果目的是获得“成功！” 是检查 cURL 是否返回成功然后我建议使用 Prateik 的使用返回的状态代码的答案

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:34:49.623

不知何故，一个简单的 print("Successful"); test200.php 中的语句运行良好。我现在得到的响应如下： HTTP Code: 0 Array ( [0] => [1] => Successful )

# uikit - Monotouch中来自Hex的UIColor

> ID：10310917
> 
> 赞同：32
> 
> 时间：2012-04-25T07:08:17.483
> 
> 标签：uikit, xamarin.ios

如何从 Monotouch 中的十六进制值中获取 UIColor？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-04-25T07:10:14.720

我找到了一些针对 Objective C 的解决方案，但没有专门针对 Monotouch 我最终开发了一种基于最流行的 IOS 解决方案的扩展方法：

```
public static class UIColorExtensions
    {
        public static UIColor FromHex(this UIColor color,int hexValue)
        {
            return UIColor.FromRGB(
                (((float)((hexValue & 0xFF0000) >> 16))/255.0f),
                (((float)((hexValue & 0xFF00) >> 8))/255.0f),
                (((float)(hexValue & 0xFF))/255.0f)
            );
        }
    } 
```

并像这样使用它：

```
new UIColor().FromHex(0x4F6176); 
```

**更新**，似乎 Monotouch 5.4 UIColor 没有无参数构造函数，所以像这样使用它：

```
 UIColor.Clear.FromHex(0xD12229); 
```

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2016-12-08T18:34:03.240

如果您使用的是 Xamarin.Forms，也许这会对您有所帮助：

```
using Xamarin.Forms;
using Xamarin.Forms.Platform.iOS;

...
Color.FromHex("#00FF00").ToUIColor(); 
```

* * *

## 回答 #3

> 赞同：31
> 
> 时间：2013-01-31T01:05:02.537

在这里，您可以使用类似 css 中的字符串：

```
UIColor textColorNormal = UIColor.Clear.FromHexString("#f4f28d", 1.0f); 
```

这是课程：

```
using System;
using System.Drawing;

using MonoTouch.Foundation;
using MonoTouch.UIKit;
using System.Globalization;

namespace YourApp
{
    public static class UIColorExtensions
    {
        public static UIColor FromHexString (this UIColor color, string hexValue, float alpha = 1.0f)
        {
            var colorString = hexValue.Replace ("#", "");
            if (alpha > 1.0f) {
                alpha = 1.0f;
            } else if (alpha < 0.0f) {
                alpha = 0.0f;
            }

            float red, green, blue;

            switch (colorString.Length) 
            {
                case 3 : // #RGB
                {
                    red = Convert.ToInt32(string.Format("{0}{0}", colorString.Substring(0, 1)), 16) / 255f;
                    green = Convert.ToInt32(string.Format("{0}{0}", colorString.Substring(1, 1)), 16) / 255f;
                    blue = Convert.ToInt32(string.Format("{0}{0}", colorString.Substring(2, 1)), 16) / 255f;
                    return UIColor.FromRGBA(red, green, blue, alpha);
                }
                case 6 : // #RRGGBB
                {
                    red = Convert.ToInt32(colorString.Substring(0, 2), 16) / 255f;
                    green = Convert.ToInt32(colorString.Substring(2, 2), 16) / 255f;
                    blue = Convert.ToInt32(colorString.Substring(4, 2), 16) / 255f;
                    return UIColor.FromRGBA(red, green, blue, alpha);
                }   

                default :
                        throw new ArgumentOutOfRangeException(string.Format("Invalid color value {0} is invalid. It should be a hex value of the form #RBG, #RRGGBB", hexValue));

            }
        }
    }   
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-12-21T06:09:07.360

作为一个选项，例如

```
public static UIColor FromHEX(string hex)
    {
        int r = 0, g = 0, b = 0, a = 0;

        if (hex.Contains("#"))
            hex = hex.Replace("#", "");

        switch (hex.Length)
        {
            case 2:
                r = int.Parse(hex, System.Globalization.NumberStyles.AllowHexSpecifier);
                g = int.Parse(hex, System.Globalization.NumberStyles.AllowHexSpecifier);
                b = int.Parse(hex, System.Globalization.NumberStyles.AllowHexSpecifier);
                a = 255;
                break;
            case 3:
                r = int.Parse(hex.Substring(0, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                g = int.Parse(hex.Substring(1, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                b = int.Parse(hex.Substring(2, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                a = 255;
                break;
            case 4:
                r = int.Parse(hex.Substring(0, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                g = int.Parse(hex.Substring(1, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                b = int.Parse(hex.Substring(2, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                a = int.Parse(hex.Substring(3, 1), System.Globalization.NumberStyles.AllowHexSpecifier);
                break;
            case 6:
                r = int.Parse(hex.Substring(0, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                g = int.Parse(hex.Substring(2, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                b = int.Parse(hex.Substring(4, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                a = 255;
                break;
            case 8:
                r = int.Parse(hex.Substring(0, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                g = int.Parse(hex.Substring(2, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                b = int.Parse(hex.Substring(4, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                a = int.Parse(hex.Substring(6, 2), System.Globalization.NumberStyles.AllowHexSpecifier);
                break;
        }

        return UIColor.FromRGBA(r, g, b, a);
    } 
```

[xamarin.ios](/questions/tagged/xamarin.ios "显示标记为“xamarin.ios”的问题") [uicolor 颜色](/questions/tagged/uicolor "显示标记为“uicolor”的问题") [助手](/questions/tagged/colorhelper "显示标记为“colorhelper”的问题")

# java - Java OOP：构建对象树/对象族

> ID：10310918
> 
> 赞同：0
> 
> 时间：2012-04-25T07:08:18.023
> 
> 标签：java, oop

自从我使用 Java 以来已经有一段时间了，并且想知道这是否是一种体面甚至正确的设置方式。

仅供参考，userResults 指的是下面代码中不存在的 JDBI 变量。

欢迎提出更好的方法，谢谢。

```
public class Stat
{
private int current;
private int max;

public int getCurrent()  {return current;}
public void setCurrent(int current)   {this.current = current;}

public int getMax()  {return max;}
public void setMax(int max)   {this.max = max;}
}

public class Character
{
Stat hp = new Stat();
Stat mp = new Stat();
}

Character thisCharacter = new Character();

// Set the value of current & max HP according to db data.
thisCharacter.hp.setCurrent((Integer) userResults.get("hpColumn1"));
thisCharacter.hp.setMax((Integer) userResults.get("hpColumn2"));

// Print test values
System.out.println (thisCharacter.hp.Current);
System.out.println (thisCharacter.hp.Max); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:21:45.123

正确的？那么，它*有效*吗？那么它可能是*正确*的。

不管这是否是一种*体面的*方式，那么答案是“也许”。很难从这个代码的上下文中判断出来。但是你可以记住一些事情：

*   集合在哪个类（或对象）`Stat`中？您是否认为班级有*责任*这样做并知道从哪些数据库值中获取它们？如果没有，请考虑制作某种可以执行此操作的类。
*   进行诸如此类的链式调用`thisCharacter.hp.setCurrent(...)`违反了[最少知识原则](http://en.wikipedia.org/wiki/Law_of_Demeter)。有时你无能为力，但通常会导致代码混乱。考虑使用一些东西来处理围绕统计数据的所有逻辑。在您的代码中，您可能需要一个`HealthStatsHandler`具有诸如`loadStats()`,`saveStats()`和 mutator 操作（例如`takeDamage(int dmg)`和）的方法`revive(int health)`。
*   如果您无法弄清楚它是否具有正确的对象设计，那么请学习[SOLID 原则](http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29)。它们提供了很好的指导方针，任何开发人员如果想要拥有可扩展且“干净”的代码，都应该遵循这些指导方针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:15:29.493

这不是真正的树。不可能两个有超过一层的孩子。

通常你定义一个接口，让我们`Node`在两者都实现它的地方调用它，`Stat`并且`Character`它的两个孩子`Character`将具有 type `Node`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:22:19.123

我会考虑单独创建 Stat 对象并将它们传递给 Character，并将字符属性设为私有，如下所示：

```
public class Character
{
  private Stat hp;
  private Stat mp;

  public Stat getHp()         {return hp;}
  public void setHp(Stat h)   {this.hp = h;}

  public Stat getMp()         {return mp;}
  public void setMp(Stat m)   {this.mp = m;}
}

// Set the value of current & max HP according to db data.
Stat hp = new Stat();
hp.setCurrent((Integer) userResults.get("hpColumn1"));
hp.setMax((Integer) userResults.get("hpColumn2"));

Character thisCharacter = new Character();
thisCharacter.setHp(hp);
// do the same for mp 
```

一个额外的简单步骤是创建一个`Character`构造函数，它需要一个`hp`和一个`mp`

# android - Android 应用程序和 Apache 认证

> ID：10310920
> 
> 赞同：0
> 
> 时间：2012-04-25T07:08:24.437
> 
> 标签：android, apache, authentication

我似乎无法让我的 Apache 服务器使用 webview 从我的 android 程序中获取其凭据。它不会要求提供凭据。我不明白我错过了什么。

这是我的代码

```
 package united.alert.mobile;

    import android.app.Activity;
    import android.os.Bundle;
    import android.webkit.WebView;

    public class UnitedAlertActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    WebView myWebView = (WebView) findViewById(R.id.webview);
    myWebView.loadUrl("http://unitedalert.info/m");
        }

    public void PasswordAuthentication (String userName, String password){
    userName = "m*bile2012";
    password = "1234567";
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T17:54:05.587

您需要创建一个可以拦截授权请求的 WebViewClient，然后您可以提供正确的凭据。查看有关如何创建 WebViewClient 及其用途的 Android 开发人员文档：http: [//developer.android.com/reference/android/webkit/WebViewClient.html](http://developer.android.com/reference/android/webkit/WebViewClient.html)。

这是您可以遵循的一个很好的答案。 [使用 WebView 设置HttpAuthUsernamePassword？](https://stackoverflow.com/questions/2585055/using-webview-sethttpauthusernamepassword).

有不同类型的身份验证，例如基本身份验证（看起来像您在此处尝试执行的操作）、NTLM 等。每种身份验证都需要不同的方式来处理授权质询，但这应该有助于您了解基本身份验证。

# java - rpc 和 servlet 技术之间的区别

> ID：10310921
> 
> 赞同：1
> 
> 时间：2012-04-25T07:08:26.713
> 
> 标签：java, http, networking, rpc

我想知道 rpc 和 servlet 技术有什么区别？在哪种情况下应该使用哪一个？任何帮助，将不胜感激。提前致谢。贺拉斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T02:12:33.127

*   servlet 用于扩展托管通过请求-响应编程模型访问的应用程序的服务器的功能。尽管 servlet 可以响应任何类型的请求，但它们通常用于扩展 Web 服务器托管的应用程序。对于此类应用程序，请使用小服务程序。
*   RPC 是一种调用远程过程的结构化编程语义方法。当您想调用任何用结构化语言（如 C）编写的远程方法时使用它。

# uikit - 带有视图控制器的 Cocos2d

> ID：10310932
> 
> 赞同：0
> 
> 时间：2012-04-25T07:09:16.253
> 
> 标签：uikit, cocos2d-iphone

我是cocos2d游戏的新手，想开发一款像愤怒的小鸟一样的弹弓相关游戏。我有一个基于单一视图的应用程序，我想在我的基于视图的应用程序中使用弹弓逻辑，就像在愤怒的小鸟中一样。

谁能帮助我如何做到这一点？

如何同时使用 uikit 和 cocos 2d？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T17:03:19.193

默认情况下，任何 cocos2d 应用程序都是从创建主视图控制器开始，然后创建 OpenGL 视图。只需从模板创建任何 cocos 项目，您就会看到它。任何 cocos2d 应用程序都是单视图应用程序。它的视图是 OpenGL 视图。

[http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:lesson_1._install_test](http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:lesson_1._install_test)

按照这里的描述安装 xcode 模板，然后从 cocos2d 模板创建简单的应用程序，在那里你可以找到创建简单 cocos2d 应用程序的示例

# c# - 相当于 wp7 sl 中的包含？

> ID：10310936
> 
> 赞同：1
> 
> 时间：2012-04-25T07:09:22.420
> 
> 标签：c#, windows-phone-7, navigation

当你在 windows phone 中设计一个相对较大的应用程序时，通过 Uris 导航有点痛苦，所以我写了一个这样的简单方法：

```
void Navigate(string Frame)
{
       NavigationService.Navigate(new Uri(string.Format("/{0}.xaml", 0), UriKind.Relative));
} 
```

问题是，我想将此代码包含在所有将进行导航的 PhoneApplicationPages 中，但是我想知道复制和粘贴是否是唯一的选择，我通常会尝试使我的页面派生自具有方法和派生自基类，但这将是另一个痛苦，因为它们`PhoneApplicationPages`是部分类。有没有其他更好的方法来实现这一点，还是我应该复制和粘贴？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:21:12.900

我没有看到任何问题。

创建您的基础 PhonePage：

```
public class PhoneApplicationPageBase : PhoneApplicationPage
    {
        public void Navigate()
        {

        }
        // Others methods
    } 
```

在您的页面中源自：

```
public partial class Page1 : PhoneApplicationPageBase
    {
        public Page1()
        {
            InitializeComponent();
        }
    } 
```

在 xaml 中：

```
<my:PhoneApplicationPageBase
    x:Class="Views.Page1"
    ...>

</my:PhoneApplicationPageBase> 
```

或者更多。您可以创建扩展方法。

```
 public static class Ext
    {
        public static void Navigate(this Page page, string view)
        {

        }
    } 
```

然后使用`this.Navigate("Page2.xaml"`）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:32:30.393

您可以将方法拉出到静态类中，然后将调用页面作为引用传递；

```
public static class Navigator
{
    public static void Navigate(Page page, string frame)
    {
        page.NavigationService.Navigate(new Uri(string.Format("/{0}.xaml", frame), UriKind.Relative));
    }
} 
```

然后你只需像这样调用：

```
Navigator.Navigate(this, "NewPage"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T07:37:56.290

我同意 Roman 的观点，即从基本页面派生的过程在最坏的情况下是乏味的：一些字符串替换，你就完成了。

我有自己的小 mvvm 工具包，其中包括一个导航器服务，它（基本上）将 uri 映射到页面类。在应用程序启动时，您将页面类映射到 uri，然后您可以通过指定类简单地导航到视图 (uri)。

即，在应用程序构造函数中注册视图：

```
 ViewNavigator.RegisterView<IMainView>(new Uri("/Pages/MainView.xaml", UriKind.RelativeOrAbsolute)); 
```

从代码中，您可以使用导航到页面

```
 ViewNavigator.Instance.NavigateTo<IMainView>(); 
```

整个工具包比这里描述的更先进（支持参数；包括允许您通过 XAML 进行相同操作的行为），但我希望您能大致了解。

# php - File name changed on download

> ID：10310937
> 
> 赞同：0
> 
> 时间：2012-04-25T07:09:24.543
> 
> 标签：php, file-upload

i want to implement code so that when user will download that file, name of the file should be changed

as example

```
$uploaddir="files/userid/";
$filename=rand(1000,9999).time().rand(1000,9999);
move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile); 
```

suppose using this code file is uploaded it will be stored on server as name like this

23451232325654.pdf

but for user he/she will have logical name for it Like learn_php.php

when user want to download this file he/she will have this link to download

www.example.com/files/userid/23451232325654.pdf

but this file not stored on user's pc when downloaded as 23451232325654.pdf but i want to store it as their logical name as shown above learn.php

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:12:20.163

You can do this no problem. You just need a download script that will first send the correct header. In this case, the header should be something like:

```
header('Content-Disposition: attachment; filename="learn_php.pdf"'); 
```

See example 1 in the [php docs](http://php.net/manual/en/function.header.php).

So instead of linking directly to the file (for example: [http://website.com/content/129312.pdf](http://website.com/content/129312.pdf)), you would link to your download script (for example: [http://website.com/download.php?file=129312.pdf](http://website.com/download.php?file=129312.pdf)).

And download would first send the headers, then the file contents.

**Obligatory note about security:** Using the filename directly from `$_GET` without sanitizing it opens up a huge security issue. If you do it this way you NEED to sanitize it.

# android - Android 模拟器网络问题

> ID：10310941
> 
> 赞同：1
> 
> 时间：2012-04-25T07:09:39.630
> 
> 标签：android

大家好，我是 android 开发的新手，我的项目遇到了这个挑战：在我的 android 代码中，我试图在 [http://localhost:8080/CataractServer/CataractServlet与 servlet 建立一个 HttpURLConnection 连接](http://localhost:8080/CataractServer/CataractServlet)

在安装了android模拟器的PC上的tomcat上运行。

问题在于它将 localhost 解析为 android 手机本身，因此代码永远不会连接到 servlet 并不断抛出异常。我怎样才能让模拟器连接到我的电脑上运行的 servlet。我无法访问局域网，我会将servlet放在另一台电脑上并使用IP。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:12:36.327

在这种情况下，localhost 指的是您的 android 设备，并且由于那里没有运行网络服务器，因此您将一无所获。你应该使用`10.0.2.2`. 更多细节[在这里](http://developer.android.com/guide/developing/devices/emulator.html#networkaddresses)

# c - '.' 之前应为 '='、','、';'、'asm' 或 '__attribute__' 令牌

> ID：10310944
> 
> 赞同：19
> 
> 时间：2012-04-25T07:09:52.693
> 
> 标签：c

![在此处输入图像描述](../Images/74388e46b69f4a96f86cbb62966ad212.png)无法解决这个问题。我正在实施一个队列。写完完整的代码后，我遇到了下面列出的错误：

`expected '=', ',', ';', 'asm' or '__attribute__' before '.' token`

然后我写了一个简单的程序，但同样的问题仍然存在。无法理解如何解决这个问题。我已经研究`stackoverflow.com and google.com`了很多解决方案，但仍然无法解决这个问题。请帮忙。

我想`initialize globally` `Q.front = Q.rear = Any value`

```
#include <stdio.h>
#include <stdlib.h>
struct Queue
{
    int front, rear;
    int queue[10] ;
};
struct Queue Q;
Q.front = 0;
Q.rear = 0;

int main()
{
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-25T07:14:37.993

`Q.front = 0;`不是简单的初始化程序，它是可执行代码；它不能发生在函数之外。为`Q`.

```
struct Queue Q = {0, 0}; 
```

或使用命名初始化语法（并非在所有编译器中都可用，目前仅在 C 中可用）：

```
struct Queue Q = {.front = 0, .rear = 0}; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-25T07:14:11.983

您无法`Q.front = 0; Q.rear = 0;`在全局范围内初始化变量。这些陈述应该`main`在你的情况下。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-25T07:17:02.643

正如@Naveen 所说，您不能分配给全局范围内的结构的成员。根据 C 的版本，虽然你可以这样做：

```
struct Queue q = {0,0}; 
```

或者

```
struct Queue q = {.front = 0, .rear = 0 }; 
```

# iphone - MPMoviePlayerController 在 iPhone 应用程序中反向（向后）播放电影不流畅

> ID：10310945
> 
> 赞同：2
> 
> 时间：2012-04-25T07:09:57.803
> 
> 标签：iphone, ios, video, mpmovieplayercontroller

我正在开发一个需要反转视频播放的 iPhone 应用程序。我目前正在使用 XCode 4.2。我正在尝试使用 MPMoviePlayerController 反向播放电影。但是当它反向播放时，它并不像向前播放那么流畅。它变得有点波涛汹涌，一点也不光滑。以下是我的代码。

```
- (void)viewDidLoad{
//code for initializing the movie player
MPMoviePlayerController videoPlayer = 
[[MPMoviePlayerController alloc] initWithContentURL:"URL"];
self.videoPlayer = videoPlayer;
[videoPlayer release];
self.videoPlayer.view.userInteractionEnabled = NO;
self.videoPlayer.initialPlaybackTime = -1;
self.videoPlayer.shouldAutoplay=NO;
[self.videoPlayer prepareToPlay];

//code for initializing the button 
UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];

[button setTitle:@"Reverse" forState:UIControlStateNormal];

[button addTarget:self 
action:@selector(reverseMovie) forControlEvents:UIControlEventTouchDown];

button.frame = CGRectMake(0, 0, 50, 40);

[self.view addSubview:button];
}

-(void)reverseMovie{
[self.videoPlayer setCurrentPlaybackRate:-1.0];
} 
```

可能的解决方案是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-20T11:21:37.283

我试图在 AVFoundation 中做同样的事情。在我设法让它工作之前，我不得不做很多工作。

我所做的是生成图像，颠倒顺序，将它们放入assetWriter，导出视频然后播放。

你可以在这里下载我的代码：[https ://github.com/mikaelhellqvist/ReverseClip](https://github.com/mikaelhellqvist/ReverseClip)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-05T09:15:23.837

用 AVPlayer 试试这个

```
 avPlayer.rate=-1.0f; 
```

这会将速率设置为 -ve，从而顺利地反向播放视频。:)

# c# - 如何在 .NET 4.5 中与 Windows 运行时互操作

> ID：10310947
> 
> 赞同：4
> 
> 时间：2012-04-25T07:10:13.077
> 
> 标签：c#, .net, microsoft-metro, windows-runtime, .net-4.5

我看到了这个命名空间：

```
System.Runtime.InteropServices.WindowsRuntime 
```

它提供了 .NET 和 WindowsRuntime 之间的互操作性。

例如，您可以在创建 Metro 应用程序时调用 WindowsRuntime 中的方法，因为 Metro 使用 WindowsRuntime，例如

```
Windows.System.UserProfile.UserInformation 
```

但是当您创建一个普通的 .NET 控制台应用程序或 WPF 应用程序时，您将无法再直接访问 WindowsRuntime 命名空间，例如 Windows.System

我想知道是否可以通过在上述命名空间中使用互操作来调用 WindowsRuntime 方法。

提前非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T11:58:23.723

.NET 控制台模式应用程序或 WPF 应用程序不是 Metro 应用程序。它们只能在“常规”版本的 Windows 上运行。Windows 8 中的传统桌面。因此无法与 WinRT 互操作，它不会在进程中加载​​。以 WinRT 为目标需要在您启动项目时选择特定的 Metro 项目模板。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-18T07:28:17.277

您需要将其添加到项目文件中：

```
<PropertyGroup>
  <TargetPlatformVersion>8.1</TargetPlatformVersion>
</PropertyGroup> 
```

有关更多详细信息，请参阅[如何使用桌面应用程序中的特定 WinRT API](http://blogs.msdn.com/b/eternalcoding/archive/2013/10/29/how-to-use-specific-winrt-api-from-desktop-apps-capturing-a-photo-using-your-webcam-into-a-wpf-app.aspx)。

# php - 如何实现类似于 Louis CK 所做的贝宝和亚马逊结账服务

> ID：10310950
> 
> 赞同：-1
> 
> 时间：2012-04-25T07:10:21.257
> 
> 标签：php, paypal

喜剧演员 Louis CK 在他的网站 (https://buy.louisck.net/) 上出售了他的现场特辑。访客可以使用 Paypal 或亚马逊购买。

我正在寻找出售一些音乐曲目。你如何在 PHP 中实现这个功能？我知道您让用户登录到 Paypal 或 Amazon，但是您如何获得显示下载链接的回调 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:44:01.080

PayPal 有一个非常有据可查的[PHP API 和 IPN](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/library_code)

同样是亚马逊[PHP SDK](http://aws.amazon.com/sdkforphp/)

我认为这里不会有人给你写代码。这个社区的主要内容是学习而不是获得免费的东西！

祝您的项目好运，根据我的经验，您应该能够轻松集成 PayPal 和 Amazon，因为它们简单易用。

# c# - ComposeParts 方法不起作用

> ID：10310952
> 
> 赞同：1
> 
> 时间：2012-04-25T07:10:32.533
> 
> 标签：c#, .net, visual-studio-2010, mef, vs-extensibility

我有一个 ITagger 和一个 IWpfTextViewMargin，它们都作为 MEF 组件导出。我想在我的 Margin 代码中导入 ITagger，然后在该 Tagger 中使用一些成员。

现在我尝试在 Margin 类中使用 ComponentContainer，然后导入 IViewTaggerProvider。我使用了以下代码，可以在许多 MEF 教程中找到

```
[Import(typeof(IViewTaggerProvider))]
public IViewTaggerProvider vt_provider { get; set; }

var catalog = new AggregateCatalog();
catalog.Catalogs.Add(new AssemblyCatalog(typeof(TestMargin).Assembly));
_container = new CompositionContainer(catalog);
//Fill the imports of this object
try
{
    this._container.ComposeParts(this);
}
catch (CompositionException compositionException)
{
    System.Diagnostics.Trace.WriteLine(compositionException.Message);
} 
```

和出口代码。

```
[Export(typeof(IViewTaggerProvider))]
[ContentType... 
```

导出的类在另一个命名空间中定义，但在同一个程序集中。

在这里，我遇到了 ComposeParts(this) 抛出 ImportCardinalityMismatchException 的问题。我不知道为什么参数是*this*。我试图将*目录*传递给它，没有例外，但导入也是空的。我还提到了[调试 mef 失败](http://blogs.msdn.com/b/dsplaisted/archive/2010/07/13/how-to-debug-and-diagnose-mef-failures.aspx)，并认为导出的类具有正确的合同名称和导出类型标识。

* * *

在使用 Visual MEFx 检查程序集并调试后，我发现可能是因为 IViewTaggerProvider 导入了 Visual Studio [IClassificationTypeRegistryService](http://msdn.microsoft.com/en-us/library/microsoft.visualstudio.text.classification.iclassificationtyperegistryservice.aspx)，它也是 MEF 部件，导致 IViewTaggerProvider 被拒绝。

```
[Primary Rejection]
 [Exception] System.ComponentModel.Composition.ImportCardinalityMismatchException: No valid exports were found that match the constraint '((exportDefinition.ContractName == "Microsoft.VisualStudio.Text.Classification.IClassificationTypeRegistryService") AndAlso (exportDefinition.Metadata.ContainsKey("ExportTypeIdentity") AndAlso "Microsoft.VisualStudio.Text.Classification.IClassificationTypeRegistryService".Equals(exportDefinition.Metadata.get_Item("ExportTypeIdentity"))))', invalid exports may have been rejected. 
```

所以一种解决方案是添加导出 IClassificationTypeRegistryService 的程序集。这是一个 Visual Studio 核心编辑器服务，但我找不到哪个程序集导出它。有人知道吗？

还是有更好的可能解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T13:23:46.203

试试 VisualMEFx。这是一篇关于入门的简短博客文章[https://ihadthisideaonce.com/2012/02/22/getting-started-with-visual-mefx/](https://ihadthisideaonce.com/2012/02/22/getting-started-with-visual-mefx/)。启动并运行它后，使用 VisualMEFx 加载 TestMargin 程序集并查看是否从该程序集中导出了任何 IViewTaggerProvider。

还要记住 ImportCardinalityMistmatch 不仅意味着缺少导出。这也可能意味着有太多可用的导出可以满足导入，而 MEF 无法选择使用哪一个。因此，当您在 VisualMEFx 中检查您的合成时，请检查是否有太多。

这个参数：

```
void Bootstrap()
{
  var catalog = new AggregateCatalog();
  catalog.Catalogs.Add(new AssemblyCatalog(typeof(TestMargin).Assembly));
  _container = new CompositionContainer(catalog);

 //Fill the imports of this object
 try
 {
    var objectToSatisfy = this;
    // var objectToSatifsy = new SomeOtherObjectWithImports();

    this._container.ComposeParts(objectToSatisfy);
 }
 catch (CompositionException compositionException)
 {
    System.Diagnostics.Trace.WriteLine(compositionException.Message);
 }
} 
```

当您调用时，`ComposeParts`您将一个对象传递给该方法。MEF 将获取您传递的对象，并查看其上是否有任何需要满足的导入。如果它找到任何导入，它将查看目录并尝试满足它们。您可以将所需的任何对象传递给该`ComposeParts`方法。因此，我稍微修改了您的示例代码以显示两个不同的选项。一种选择是创建一些需要满足的对象，然后将其交给容器进行组合。这就是我在注释掉的行中所做的`var objectToSatisfy = new SomeOtherObjectWithImports()`。但通常情况下，我们想要组合的对象与正在调用的对象相同`ComposeParts`. 所以我们不需要创建一个新对象来传递给容器，我们已经有了这个对象，我们只需要一个对它的引用。在 C# 中，我们可以使用关键字获取对当前对象实例的引用`this`（在 VB.NET 中，关键字是`Me`）。因此，当我们想要满足对调用 的同一个对象的导入时`ComposeParts`，我们可以通过使用`this`引用作为 的参数来实现`ComposeParts`。

该`ComposeParts`方法的参数是一个参数数组。非正式地，这只是意味着当你写`container.ComposeParts(this)`它时，它被解释为你写了`container.ComposeParts(new object[] { this })`. 实际上，这意味着您可以一次将多个对象传递给 MEF，如下所示：

```
container.ComposeParts(this, objectToSatifsy, thirdObjectToCompose); 
```

如果调用的对象`ComposeParts`没有导入，那么您不应该将其`this`用作参数。相反，创建一个您想要组合的类型的对象并将其传递给方法。此外，除非您想要组合的所有零件在`TestMargin`装配体中都可用，否则您需要为确实提供零件的装配体创建更多 AssemlbyCatalog，并将它们添加到您的 AggregateCatalog。

# android - 通过意图传递额外内容时出现异常

> ID：10310954
> 
> 赞同：0
> 
> 时间：2012-04-25T07:10:41.367
> 
> 标签：android, android-intent

我想将一个字符串从一个活动传递给另一个活动，尽管我已经从其他线程的许多接受的答案中获取了参考，但我遇到了我无法调试的问题。当我如下面的代码所示注释 extras.putString 时，Toast 消息显示正确的地址，这意味着值设置正确并且代码工作正常，但是当我使用 extras.putString() 时，我得到 NullPointerException 并且应用程序由于异常而关闭。我的地址字符串中有很多 \n 字符。事实上，即使我使用 extras.putString("userAddress", "test") 我也会得到 NullPointerException

这是我想调用 FBShare Activity 的主要活动：

```
Intent mIntent = new Intent(this, FBShare.class);   
Bundle extras = mIntent.getExtras();
String currentAddress = getCurrentAddress(ourLocation);
Toast.makeText(getBaseContext(), getCurrentAddress(ourLocation), Toast.LENGTH_SHORT).show();
extras.putString("userAddress", currentAddress);
startActivity(mIntent); 
```

在 FBShare Activity 我试图获取如下值

```
strAddress = getIntent().getExtras().getString("userAddress"); 
```

[这是](https://stackoverflow.com/questions/3293243/android-pass-data-from-activity-to-service-using-an-intent)一个正在做类似事情的线程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-25T07:15:33.130

尝试直接在意图上添加额外内容：

`mIntent.putExtra("Key", "Value")`

此外，您检索额外使用

```
Intene t = getIntent();
String k="key";
if (t.hasExtra(k)) {
  s = t.getStringExtra(k);
  ...
} 
```

许多 var 类型的 get/put

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-25T07:16:00.720

试试我的代码

```
Intent mIntent = new Intent(this, FBShare.class);   
Bundle extras = new Bundle();
String currentAddress = getCurrentAddress(ourLocation);
Toast.makeText(getBaseContext(), getCurrentAddress(ourLocation), Toast.LENGTH_SHORT).show();
extras.putString("userAddress", currentAddress);
mIntent.putExtras(extras);
startActivity(mIntent); 
```

希望这会奏效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-25T07:30:53.917

```
Intent mIntent = new Intent(this, FBShare.class);   
String currentAddress = getCurrentAddress(ourLocation);
Toast.makeText(getBaseContext(), getCurrentAddress(ourLocation), Toast.LENGTH_SHORT).show();
mIntent.putString("userAddress", currentAddress);
startActivity(mIntent); 
```

在您的情况下不需要捆绑，因为您似乎只是在传递一个字符串，您可以使用上面的代码..

# php - 根据存储在键中的值从二维数组中选择值？

> ID：10310959
> 
> 赞同：1
> 
> 时间：2012-04-25T07:10:56.210
> 
> 标签：php, arrays, multidimensional-array, extract

嗨朋友们我正在进行调查我需要从存储在其中的数组中提取一个数组

怎么做我希望根据问题 id 提取答案数组，例如 13。

我有问题ID。answer 数组与 question 相关联。

.如何根据问题ID的值从主数组中提取问题数组和答案数组，例如13

现在，如果我需要具有问题 id 及其关联 id 的数组，那么如何从我的数组结构中做到这一点？

我的代码是这样的

```
Array
(
    [0] => Array
        (
            [que_info] => Array
                (
                    [question_id] => 13

                    [description] => Overall Customer Satisfaction.

                )

            [answers] => Array
                (
                    [0] => Array
                        (
                            [answer_id] => 45

                            [answer_text] => Very dissatisfied

                        )

                )

        )

    [1] => Array
        (
            [que_info] => Array
                (
                    [question_id] => 14

                    [description] => Progress (often referred to as Task Resolution or similar)

                )

            [answers] => Array
                (
                    [0] => Array
                        (
                            [answer_id] => 52

                            [answer_text] => None

                        )

                    [1] => Array
                        (
                            [answer_id] => 53

                            [answer_text] => Very little

                        )

                        )

                )

        ) 
```

任何帮助将不胜感激 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:31:10.413

首先，这不是二维数组，而是数组树。一个二维数组对于每个数组[x] 总是有一个元素数组[x][y]，而不是任何数组[x][y][z]。

使用 foreach 遍历数组，当找到一个 id 对应于 question_id 的元素时，返回一个答案列表。

例子：

```
 foreach($questions as $question) {
    if($question['que_info']['question_id'] === $questionId)
      return $question['answers'];
  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T07:30:29.340

```
function find_question($array, $id) {
    foreach ($array as $arr)
    {
        if ($arr['que_info']['question_id'] == $id)
            return $arr;
    }
}

var_dump(find_question($array, 13));
var_dump(find_question($array, 14)); 
```

# wpf - WPF 从内部命令更新按钮状态

> ID：10310960
> 
> 赞同：1
> 
> 时间：2012-04-25T07:10:59.493
> 
> 标签：wpf, button, command

视图上有不同的按钮，在执行命令时如何控制按钮的 IsEnabled 状态？

如果我执行这个命令：

```
public ICommand DoSomethingCommand
{
  get
  {
    if (doSomethingCommand == null)
    {
      doSomethingCommand = new RelayCommand(
        (parameter) =>
          {
            this.IsBusy = true;
            this.someService.DoSomething(
              (b, m) =>
                {
                  this.IsBusy = false;
                }
              );
          },
        (parameter) => !this.IsBusy);
    }
    return this.doSomethingCommand ;
  }
} 
```

我设置了触发 OnPropertyChanged 事件的 IsBusy 属性。所有其他按钮在其命令的 CanExecute 中检查此属性。但是，当执行上述命令时，按钮不会被禁用。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T09:28:17.493

为什么不在您自己的 RelayCommand 类的自定义版本上实现 INotifyPropertyChanged。这将符合 MVVM：

```
public class RelayCommand : ICommand, INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;
    private readonly Action execute;
    private readonly Func<bool> canExecute;

    private bool isBusy;
    public bool IsBusy
    {
        get { return isBusy; }   
        set
        {
            isBusy = value;
            var handler = PropertyChanged;
            if (handler != null)
            {
                handler(this, new PropertyChangedEventArgs("IsBusy"));
            }
        }
    }

    public event EventHandler CanExecuteChanged
    {
        add
        {
            if (this.canExecute != null)
            {
                CommandManager.RequerySuggested += value;
            }
        }
        remove
        {
            if (this.canExecute != null)
            {
                CommandManager.RequerySuggested -= value;
            }
        }
    }

    public RelayCommand(Action execute) : this(execute, null)
    {
    }

    public RelayCommand(Action execute, Func<bool> canExecute)
    {
        if (execute == null)
        {
            throw new ArgumentNullException("execute");
        }
        this.execute = execute;
        this.canExecute = canExecute;
    }

    public void Execute(object parameter)
    {
        this.IsBusy = true;
        this.execute();
        this.IsBusy = false;
    }

    public bool CanExecute(object parameter)
    {
        return this.canExecute == null ? true : this.canExecute();
    }
} 
```

然后使用这样的命令：

```
<Button Command="{Binding Path=DoSomethingCommand}" 
        IsEnabled="{Binding Path=DoSomethingcommand.IsBusy, 
            Converter={StaticResource reverseBoolConverter}}" 
        Content="Do It" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:52:54.420

CanExecuteChanged 需要触发，以便命令源知道调用 CanExecute。

一个简单的方法是调用`CommandManager.InvalidateRequerySuggested()`.

```
bool _isBusy;
public bool IsBusy
{
    get { return _isBusy; }
    set
    {
        if (value == _isBusy)
            return;
        _isBusy = value;
        //NotifyPropertyChanged("IsBusy"); // uncomment if IsBusy is also a Dependency Property
        System.Windows.Input.CommandManager.InvalidateRequerySuggested();
    }
} 
```

# php - 网站的多用户日历

> ID：10310964
> 
> 赞同：-2
> 
> 时间：2012-04-25T07:11:27.853
> 
> 标签：php, html, calendar, google-calendar-api, collaboration

这是场景：

我有一群老师在学院任教。我想做的是开发一个日历选项，他们可以在其中提交可用的日期和时间，并在需要时进行修改。

然后，这些可用日期将以日历格式在其末尾以管理员的形式查看

教师们也可以在日历上看到这些可用日期。

实施这种日历的最佳方式是什么？我应该尝试在 php 中执行此操作还是寻找第三方选项，如谷歌日历等？

请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:50:11.467

1.  您可以查看[wCalenar](http://www.web-delicious.com/jquery-plugins/#calendar)哪个基于 jquery 的多用户日历（管理员可以使用它轻松查看其他人的日历）。您必须在数据库中创建另一个字段来保存日历设置。

2.  其他情况下，您可以为您的网站创建某种 OAuth 登录。所以每次，其他人都可以使用其他服务，比如谷歌日历（我想现在大多数人都有谷歌账户）

3.  而已。祝你今天过得愉快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:14:53.793

谷歌日历是要走的路。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-27T18:39:58.167

我同意你的观点，谷歌日历是要走的路。但是这种集成麻烦让我研究了我的虚拟主机提供的软件免费软件包。我发现了一个多用户日历，比如名为“webcal”的谷歌日历，它到目前为止还可以使用.. 虽然不是我想要的那样。感谢所有的帮助

# facebook - Facebook like 插件显示错误

> ID：10310965
> 
> 赞同：2
> 
> 时间：2012-04-25T07:11:40.350
> 
> 标签：facebook

我正在使用 Facebook 的“Like Box”社交插件，可以在这里获取代码：

[http://developers.facebook.com/docs/reference/plugins/like-box/](http://developers.facebook.com/docs/reference/plugins/like-box/)

但是，当我使用我的 Facebook 页面的 URL 填充标题为“Facebook 页面 URL”的字段时，我会收到一条错误消息，而不是应该显示“Like Box”预览的位置。错误信息是：

“无法检索指定页面的 id。请验证是否传入了正确的 href。”

当在浏览器中导航到我的 Facebook 个人资料时，我输入的 URL 与地址栏中显示的完全相同。这与我在 Facebook 上的隐私设置有关吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:12:27.193

您不能为个人资料添加点赞框。你有没有喜欢过脸书上的任何个人资料？？

# c# - 使用 WCF 的 Codeontime

> ID：10310966
> 
> 赞同：0
> 
> 时间：2012-04-25T07:11:47.990
> 
> 标签：c#, wcf

我正在寻找一种快速的代码生成器工具。我正在使用我自己的对象，这些对象从 Entity Framework 生成为 POCO。是否可以在 codeontime 上将我的自定义 DAL 与 wcf 一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T09:58:28.743

不，您需要使用 CodeOnTime 自己的框架重新生成事物。

请联系供应商 CodeOnTime 以改用他们自己的框架。

# python - 用 Python 从相机中捕获图像：简单、可靠、跨平台

> ID：10310970
> 
> 赞同：0
> 
> 时间：2012-04-25T07:12:03.707
> 
> 标签：python, image

从 Python 捕获静止图像并转换为 PIL 图像的最合适方法是什么？

Google 为我提供了许多使用 OpenCV 和鲜为人知的库的方法。为此，我需要一个简单、可靠、成熟、跨平台的库。并且具有最少的依赖项和额外的包。

* * *

如果可能，它还必须支持使用主要的窗口工具包[显示实时图像](https://stackoverflow.com/questions/3596960/any-quick-python-gui-to-display-live-images-from-camera)，尽管性能（帧速率、清晰度）并不重要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:22:51.087

我使用 gphoto2 和子进程。但是如果你愿意的话，应该可以从 ctypes 访问这个库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-24T18:38:13.323

OpenCV 的 Python API 在这一点上非常可靠，并且 OpenCV 很容易安装在所有主要平台上。这很好，这可能是你最好的选择。只需 10 行代码即可从网络摄像头获取实时信息。

PIL 或其较新的 fork Pillow 也很好，成熟且跨平台。

PyGame 也有一个相机模块，介绍在这里： http: [//www.pygame.org/docs/tut/camera/CameraIntro.html](http://www.pygame.org/docs/tut/camera/CameraIntro.html) 但我注意到让 PyGame 优雅地集成到其他工具包（wx，Qt）中可以很难。

# jquery - jQuery .toggle() 我该怎么做

> ID：10310971
> 
> 赞同：0
> 
> 时间：2012-04-25T07:12:05.950
> 
> 标签：jquery, toggle

`.slideToggle`我在我的菜单**链接 2**上制作了 jquery

 **动作是当我点击**链接 2**将有另一个 div `slideup id=#div2`，`#div2`将有链接“请点击我”。

我希望我可以单击此链接，但是当我将鼠标移到“请单击我”上时，它就`#div2`消失了。

**请参阅实际操作： http:** [//jsfiddle.net/u3888/22/](http://jsfiddle.net/u3888/22/)顺便说一句，如果我可以单击链接，`#div2`并且当我将鼠标移动到**链接 1**和**链接 3**时，我想要`#div2`的自动消失了。

请建议我我错在哪里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:18:36.933

检查这个 JSFiddle 链接：

[http://jsfiddle.net/u3888/29/](http://jsfiddle.net/u3888/29/)

这是代码：

```
$("#menu_244 a").hover(function(){
    $("#div1").fadeIn();
    $("#div2").fadeOut();
});

$("#menu_244").mouseout(function(){
    $("#div1").fadeOut();
});

$("#menu_245 a").click(function(){
    $("#div2").slideToggle("slow");
});

$("#menu_246 a").hover(function(){
    $("#div2").fadeOut();
    $("#div3").stop().fadeIn(500);
    $("#menu_246").mouseout(function(){
        $("#div3").fadeOut();
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T07:15:49.523

嘿，您为以下事件编写了错误的代码。

```
$("#menu_245").mouseout(function(){
$("#div2").fadeOut();}); 
```

你改变了 div2 的 fadeOut()

相反，您指定。

```
$("#menu_245").mouseout(function(){
$("#div1").fadeOut();}); 
```

在此更改之后，它不会自动淡出，直到您单击 Link2。

[在这里](http://jsfiddle.net/u3888/27/)检查小提琴

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T09:13:23.147

```
$("#menu_244 a").hover(function(){
    $("#div1").fadeIn();
    $("#div2").fadeOut();
    $("#div3").fadeOut();
});

$("#menu_245 a").hover(function(){
    $("#div1").fadeOut();
    $("#div3").fadeOut();
});

$("#menu_245 a").click(function(){
    $("#div2").slideToggle("slow");
});

$("#menu_246 a").hover(function(){
    $("#div1").fadeOut();
    $("#div2").fadeOut();
    $("#div3").stop().fadeIn("5000");
}); 
```**

# smartgwt - 如何在分组的 smartgwt listgrid 中选择记录？

> ID：10310973
> 
> 赞同：1
> 
> 时间：2012-04-25T07:12:10.990
> 
> 标签：smartgwt, listgrid

我有一个带有 listgrid 的站点和一个带有点的 openlayers 地图。当我点击其中一个时，应用程序将滚动并标记此记录。这适用于标准列表网格，但对于分组列表网格它不起作用。

```
lg = new ListGrid();
lg.setWidth(330);
lg.setDataSource(ds1);
lg.setAutoFetchData(true);
lg.setSortField("KU_NAME");
lg.setGroupStartOpen(GroupStartOpen.ALL);
lg.setGroupByField("KU_NAME");
lg.setShowFilterEditor(true);

kuName = new ListGridField("KU_NAME", "K&uuml;nstler Name",150);

// Standorte
ListGridField stdOrt = new ListGridField("STDORT_NR","Standort Nr.");
ListGridField oid = new ListGridField("OID","OID.");
lg.setFields(stdOrt,kuName,oid); 
```

和选择：

```
String stdortOID = stdOrtOIDjso.toString();
ListGridRecord[] records = lg.getRecords();
    int i;
    for (i = 0; i < records.length; i++) {
        if (records[i].getAttribute("OID").equalsIgnoreCase(stdortOID)){
            break;
    }
}
lg.deselectAllRecords();
lg.selectRecord(i);
lg.scrollToRow(lg.getRecordIndex(record)); 
```

原因是记录中只有组名的值，其他属性不可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T12:34:18.707

启用分组后，所有数据都“转换”为树，并且 listgrid 本身包含组数据，因此您必须在此树中查找记录。将最后 3 行替换为（修改后的）Vittorio Paternostro 建议：

```
Tree tree = lg.getGroupTree();
if (tree != null) {
    TreeNode node = tree.find("OID", stdortOID);
    if (node != null) {
        lg.selectSingleRecord(node);
        lg.scrollToRow(getRecordIndex(node));
        lg.markForRedraw();
    }
} 
```

注意：而不是`deselectAllRecords`+`selectRecord`使用简化的`selectSingleRecord`.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-24T22:40:15.677

我有同样的需求，以下对我来说很好。您可以使用 getGroupTree() 并在其中搜索所需的属性（列值），而无需担心分组。确保搜索唯一值（即唯一键）以识别精确节点。

```
 Tree tree = getGroupTree();
    if (tree != null) {
        TreeNode node = tree.find("property", "value");
        if (node != null) {
            selectSingleRecord(node);
            scrollToRow(getRecordIndex(node));
            markForRedraw();
        }
    } 
```

# wpf - 如何仅渲染（位图）Visual 的一部分？

> ID：10310985
> 
> 赞同：1
> 
> 时间：2012-04-25T07:12:45.527
> 
> 标签：wpf

我必须打印一个显示的 TreeView。

将根 TreeViewItem 渲染为位图，为我提供了整个（甚至不可见节点）树的图像。然后我将位图拆分为要打印的“页面”。渲染代码：

```
m_Bitmap = new RenderTargetBitmap((int)l_RootTreeViewItem.ActualHeightDesiredSize.Width,
                                  (int)l_RootTreeViewItem.ActualHeight, 96, 96,
                                  PixelFormats.Pbgra32);

m_Bitmap.Render(l_RootTreeViewItem); 
```

适用于小型树木。如果树很大，**RenderTargetBitmap**会导致**“Out Of Memory”**异常。

因此，我们的想法是只渲染部分视觉效果以避免内存问题。一种**渲染**方法，我可以在其中选择要渲染的视觉部分是完美的......

```
m_Bitmap.Render(l_RootTreeViewItem, xOffset, yOffset, width, height); 
```

……但不存在。有什么办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:45:44.253

我会做什么：

*   创建一个`VisualBrush`你的`l_RootTreeViewItem`
*   创建一个`Rectangle`并将视觉画笔分配给`Fill`属性
*   播放`VisualBrush.Viewbox`并`VisualBrush.Viewport`渲染我感兴趣的树视图部分
*   `RenderTargetBitmap.Render`需要时在我的矩形上使用

**编辑**

解决方案 2

*   放入`l_RootTreeViewItem`画布
*   将`ClipToBounds`画布的属性设置为true
*   使用`Canvas.Width`,`Canvas.Height`属性和`Canvas.Left`,`Canvas.Top`附加属性只显示一部分`TreeViewItem`
*   `PrintDialog.PrintVisual`根据需要在画布上使用。

    ```
    <Canvas Width="300" Height="300" ClipToBounds="True">
        <TreeViewItem Canvas.Left="-200" Canvas.Top="-100">
            ...
        </TreeViewItem>
    </Canvas> 
    ```

# c# - WebBrowser DocumentText 编码

> ID：10310986
> 
> 赞同：2
> 
> 时间：2012-04-25T07:12:47.647
> 
> 标签：c#, encoding, browser

我遇到了一些奇怪的事情，我想听听你的意见。

有一个网页包含一个在and属性`span`中带有一些希腊文本的元素。`InnerText``InnerHtml`

页面的编码是**Greek(Windows)**。

我的`if`声明是：

```
if (mySpan != null && mySpan.InnerText.Contains(greekText)) 
```

此行 100% 有效，但我之前的非工作代码是：

```
if (mySpan != null && browser.DocumentText.Contains(greekText)) 
```

该行不起作用，当我使用调试器单击预览时，我注意到希腊文本不可读（奇怪的符号而不是希腊字符）。但是，应用程序成功读取了所有其他包含希腊文本的元素，也就是说，我可以将它们的属性保存在变量中并使用它们。有什么解释为什么`DocumentText`失败和`InnerText`成功？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-25T07:44:31.120

查看`WebBrowser.DocumentText`它的源代码会显示它默认使用 UTF8 编码：

```
public string DocumentText
{
  get
  {
    Stream documentStream = this.DocumentStream;
    if (documentStream == null)
      return "";
    StreamReader streamReader = new StreamReader(documentStream);
    documentStream.Position = 0L;
    return streamReader.ReadToEnd();
  } 
```

也就是说，使用`StreamReader`不指定编码的 a 将假定为 UTF8 编码。

请参阅[此链接](http://social.msdn.microsoft.com/Forums/en-US/winforms/thread/b4a1024c-5c09-47fa-a24c-a87f55adb383/)以解决此问题

我只能假设使用`browser.Document.GetElementById(mySpanId)`尊重页面的规定编码，这就是您在使用此调用时正确看到它的原因。

# sql-server - 使用枢轴求平均值

> ID：10310987
> 
> 赞同：1
> 
> 时间：2012-04-25T07:12:49.537
> 
> 标签：sql-server, sql-server-2008-r2

studentname I II
Vivek Johari 30 20
Chandra Singh 30 20
Avinash Dubey 30 25
Pankaj Kumar 33 29
我有一张名为 student 的表，详细信息如上。我想找到第一列和第二列的平均值，并使用数据透视将其显示在新列上。请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:28:27.867

为什么要使用 PIVOT 显示它？我不在你身边。但是要在另一列中显示平均值，请尝试以下操作：

```
SELECT StudentName
   ,   Col1
   ,   Col2
   ,   (Col1 + Col2 ) / 2  AS [Average]

FROM [TableNAme] 
```

如果这有帮助，请勾选它，如果没有给我更多信息。谢谢

苹果电脑

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:40:16.347

在创建表时尝试类似[Computed Column怎么样。](http://msdn.microsoft.com/en-us/library/ms191250.aspx)这将帮助您自动计算平均值。

例如：

```
CREATE TABLE [dbo].[ComputeCOL](
[Studentname] [nchar](10) NULL,
[I] [float] NULL,
[II] [float] NULL,
[AVG]  AS (([I]+[II])/(2))
) ON [PRIMARY]
GO 
```

# c++ - 将双精度分类为任意箱

> ID：10310990
> 
> 赞同：1
> 
> 时间：2012-04-25T07:13:04.407
> 
> 标签：c++, algorithm, boost, stl

我正在寻找一个将浮点数分类为任意箱的类。垃圾箱。所需的语法类似于：

```
std::vector<double> bin_vector;

// ..... fill the vector with 1, 1.4, 5, etc not evenly spaced values

Binner bins(bin_vector); 

for (std::vector<double>::const_iterator d_itr = some_vector.begin(); 
     d_itr != some_vector.end(); d_itr++) { 
  int bin = bins.categorize(*d_itr); 

  // bin would be 0 for x < 1, 1 for 1 < x < 1.4, etc
  // do something with bin
} 
```

不幸的是，由于便携性要求，我仅限于 boost 和 stl。我已经使用地图和重载自定义范围对象推出了自己的 O(log n) 解决方案`<`，但该解决方案似乎容易出错并且充其量是丑陋的。

有一些简单的 stl 或 boost 对象解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T07:19:46.950

使用 std::map，将区间边界映射到 bin 编号。然后使用 .upper_bound() 找到 bin。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T08:07:17.853

这是一个未经测试的通用算法，它采用任意长度 M 的输入向量和 N-1 个 bin 边界的排序向量，并返回 N 个 bin 计数的向量。Bin i 计算区间 [breaks[i-1], breaks[i]) 中的值。T1 和 T2 类型应该是相互可比的。复杂度等于 O(M * log (N))。

```
#include<algorithm>     // std::is_sorted, std::lower_bound
#include<cassert>       // assert
#include<iterator>      // std::distance
#include<vector>        // std::vector

template<typename T1, typename T2>
std::vector<std::size_t> bin_count(const std::vector<T1>& input, const std::vector<T2>& breaks)
{
    // breaks is a sorted vector -INF < a0 < a1 < ... < aN-2 < +INF
    assert(std::is_sorted(breaks.begin(), breaks.end()));
    auto N = breaks.size() + 1;

    std::vector<std::size_t> output(N, 0);

    if (N == 1) {
        // everything is inside [-INF, INF)
        output[0] = input.size();
        return output;
    }

    for(auto it = input.begin(), it != input.end(); ++it) {
        if (*it < breaks.front()) {
            // first bin counts values in [-INF, a0)
            ++output[0];
            break;
        }
        if (*it >= breaks.back()) {
            // last bin counts values in [aN-1, +INF)
            ++output[N-1];
            break;
        }

        const auto break_it = std::lower_bound(breaks.begin(), breaks.end(), *it);
        bin_index = std::distance(breaks.begin(), break_it) + 1;
        ++output[bin_index];
    }

    return output;  
} 
```

# php - 如何验证用户上传文件时该文件是 LESS 文件

> ID：10310993
> 
> 赞同：1
> 
> 时间：2012-04-25T07:14:00.430
> 
> 标签：php, jquery, css, less, validation

我使用这个文件上传器上传文件：http: [//valums.com/ajax-upload/](http://valums.com/ajax-upload/)

**我想检查用户上传的文件只是 LESS 文件**（我知道如何检查扩展名本身是否为 *.less -**我想验证内容**）。

我看到了这个项目： [https](https://github.com/agar/less.php) ://github.com/agar/less.php 解析 LESS 文件，但我不明白它是如何使用它的，以及我如何使用这个项目（或任何其他项目）来询问类似的问题这个：

```
isValidLESScode($text);  //True or False 
```

我是否需要使用出现在此页面上的 less.js 来执行[http://lesscss.org/](http://lesscss.org/)？另外 - 如果我验证它是 LESS 代码，我是否需要验证代码中没有邪恶或病毒，或者 LESS 验证涵盖了这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-25T07:30:49.653

在服务器端，您可以通过节点或端口之一使用 less.js - PHP、c# 或 java。您是否使用PHP？

就病毒而言，less 可以包含在编译期间运行的 JavaScript，但我认为如果您使用端口则不会发生这种情况。Less 还可以生成包含在 ie 中使用时将运行的 JavaScript 的 CSS。最后，可以编写递归的less，这会使解析器产生堆栈溢出——less.js 中有一个错误，至少对于这个问题是无点的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T07:21:05.833

看看[File API](https://developer.mozilla.org/en/DOM/FileReader)，不幸的是，所有最新的浏览器版本都不支持它......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T07:40:15.630

如果目标是检查 LESS 文件是否包含病毒，您可以查看 ClamAV。

要安装 ClamAV 并在 PHP 中使用它，您需要首先通过运行 `apt-get install php5-clamavlib clamav clamav-freshclam`（或包管理器中的等效命令）安装 clamavlib。然后，修改 php.ini 文件以加载 ClamAV 扩展`clamav.so`。

您可以查看 clamav 项目[http://php-clamav.sourceforge.net/](http://php-clamav.sourceforge.net/)以获取函数文档。但看起来下面的代码将扫描文件中的病毒并在检测到时返回非零返回码。

```
if (cl_scanfile($_FILES['file']['tmp_name']))
{
    die('Found virus inside uploaded file');
} 
```

# iphone - 两个 NSDate 之间的小时数差异

> ID：10310997
> 
> 赞同：26
> 
> 时间：2012-04-25T07:14:12.473
> 
> 标签：iphone, objective-c, ios, xcode, nsdate

在这里，我试图计算两个日期之间的小时数。当我运行应用程序时，它崩溃了。你能告诉我这段代码中的错误吗？

```
NSString *lastViewedString = @"2012-04-25 06:13:21 +0000";
NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
[dateFormatter setDateFormat: @"yyyy-MM-dd HH:mm:ss zzz"];

NSDate *lastViewed = [[dateFormatter dateFromString:lastViewedString] retain];
NSDate *now = [NSDate date];

NSLog(@"lastViewed: %@", lastViewed); //2012-04-25 06:13:21 +0000
NSLog(@"now: %@", now); //2012-04-25 07:00:30 +0000

NSTimeInterval distanceBetweenDates = [now timeIntervalSinceDate:lastViewed];
double secondsInAnHour = 3600;
NSInteger hoursBetweenDates = distanceBetweenDates / secondsInAnHour;

NSLog(@"hoursBetweenDates: %@", hoursBetweenDates); 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-02-05T14:53:04.857

参考[这个几乎类似的问题的答案，](https://stackoverflow.com/a/6104714/1665702)一个更好的、Apple 认可的方法是使用这样的 NSCalendar 方法：

```
- (NSInteger)hoursBetween:(NSDate *)firstDate and:(NSDate *)secondDate {
   NSUInteger unitFlags = NSCalendarUnitHour;
   NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
   NSDateComponents *components = [calendar components:unitFlags fromDate:firstDate toDate:secondDate options:0];
   return [components hour]+1;
} 
```

如果您以 iOS 8 或更高版本为目标`NSCalendarIdentifierGregorian`，请使用已弃用的`NSGregorianCalendar`.

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-04-25T07:18:56.863

我认为差异应该是 int 值......

```
NSLog(@"hoursBetweenDates: %d", hoursBetweenDates); 
```

希望对你有帮助..

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-25T07:20:38.937

NSInteger 不能通过使用显示

```
NSLog(@"%@", hoursBetweenDates); 
```

改为使用：

```
NSLog(@"%d", hoursBetweenDates); 
```

如果不确定要使用什么，请查看 Apple 开发人员文档：http: [//developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Strings/Articles/formatSpecifiers.html#//apple_ref/doc/uid/TP40004265](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Strings/Articles/formatSpecifiers.html#//apple_ref/doc/uid/TP40004265)

# java - 如何使用 method.invoke(-,-) 从类中调用字符串

> ID：10310998
> 
> 赞同：0
> 
> 时间：2012-04-25T07:14:23.813
> 
> 标签：java, parsing

在这里，我试图`uContainer`从另一个项目中获取对象。uContainer 具有所有 setter 和 getter，其返回值设置为`properties file`. 就像特定用户的用户属性一样。我用来从 uContainer 实例中获取特定的方法值。但在第 4 行，我的应用程序崩溃了。

uContainer 是 UserContainer 类的一个实例。

`getSingleResultListing`也是`UserContainer`类中的布尔变量，具有 getter 和 setter 方法。

代码如下。

```
Method getUContainer = form.getClass().getMethod("getUserContainer", new Class[0]);
Object uContainerObj = (Object)getUContainer.invoke(form, new Object[0]);
Method getFlagValueMethod = uContainerObj.getClass().getMethod("getSingleResultListing", new Class[0]);
String flagValue = (String)getFlagValueMethod.invoke(uContainerObj, new Object[0]);
log.info(">>>flagValue: "+flagValue);
boolean singleListingFlag = Boolean.getBoolean(flagValue);
log.info(">>>singleListingFlag: "+singleListingFlag); 
```

在第四行调用 uContainer 对象时出现错误..

谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:57:32.267

您正在将返回的对象转换为 a `String`，但您没有`String`从该方法中获得 a 。您不能通过强制转换运算符将对象转换为字符串。如果你想要字符串表示，写

```
String flagValue = getFlagValueMethod.invoke(uContainerObj, new Object[0]).toString(); 
```

# jquery - jQuery - 监听（使用'on'）哪个元素？

> ID：10310999
> 
> 赞同：0
> 
> 时间：2012-04-25T07:14:25.653
> 
> 标签：jquery

如果我写：

```
<div class="wrapper">
 <div>
    <input  type="text" class="xxx"/>
 </div>
 <div>
    <input  type="text" class="yyy"/>
 </div>
</div> 
```

问题 ：

当我写`$(".wrapper").on("click",".yyy",function () {});`：

它是否也监听（并忽略）`.xxx`事件？

还是只是听`.wrapper`并过滤所有`non ".yyy"`元素事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T07:16:10.000

它将 click 事件绑定到`.wrapper`，如果目标是`.yyy`，它将执行该函数。这允许您`.yyy`随时通过 ajax 或其他方式删除/替换，并保留绑定事件。