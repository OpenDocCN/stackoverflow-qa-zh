# StackOverflow 问答 000406000-000406999

# build-process - 从 make 调用 cmake 来创建 Makefile？

> ID：406004
> 
> 赞同：17
> 
> 时间：2009-01-02T04:21:29.660
> 
> 标签：build-process, build-automation, makefile, cmake

我`cmake`用来构建我的项目。对于 UNIX，我想`make`从我的项目的根目录键入，并`cmake`调用以创建正确的 Makefile（如果它们尚不存在），然后构建我的项目。我希望隐藏`cmake`“内部”文件（目标文件、`cmake`内部 Makefile 等）（例如放在`.build`目录中），这样它就不会弄乱我的项目目录。

我的项目有几个子项目（特别是一个库、一个用户可执行文件和一个单元测试可执行文件）。我希望`make`每个子项目的 Makefiles（即我键入并且发生这种情况）执行`cmake`（如上所述）并仅构建该子项目（具有依赖关系，因此如果需要，该库将从可执行文件的 Makefiles 构建）。生成的二进制文件（.so 库或可执行文件）应位于子项目的目录中。

我制作了一个 Makefile，它在主要项目上做得有点好，虽然感觉有点 hackish。我无法使用它构建特定的目标，因为我的 Makefile 只是`make`在`cmake`的构建目录中调用。

请注意，因为该库是唯一的依赖项（并且可能不需要手动构建，并且因为我很懒），所以我在 Makefile 中省略了它。

```
BUILD_DIR   :=  .build

.PHONY: all clean project-gui ${BUILD_DIR}/Makefile

all:    project-gui project-test

clean:
    @([ -d ${BUILD_DIR} ] && make -C ${BUILD_DIR} clean && rm -r ${BUILD_DIR}) || echo Nothing to clean

project-gui:  ${BUILD_DIR}/Makefile
    @make -C ${BUILD_DIR} project-gui
    @cp ${BUILD_DIR}/project-gui/project-gui $@

project-test:  ${BUILD_DIR}/Makefile
    @make -C ${BUILD_DIR} project-test
    @cp ${BUILD_DIR}/project-test/project-test $@

${BUILD_DIR}/Makefile:
    @[ -d ${BUILD_DIR} ] || mkdir -p ${BUILD_DIR}
    @[ -f ${BUILD_DIR}/Makefile ] || (cd ${BUILD_DIR} && cmake ${CMAKE_OPTS} ..) 
```

如果有帮助，这是我的项目结构（如果这是“错误的”，请告诉我——我还在学习`cmake`）：

```
project/
project/CMakeLists.txt
project/common.cmake
project/Makefile -- see Makefile above for this; should be replaced with something better, building libproject, project-gui, and project-test

project/libproject/
project/libproject/CMakeLists.txt
project/libproject/libproject.so -- after build
project/libproject/Makefile -- doesn't exist yet; should build libproject only
project/libproject/source/
project/libproject/include/

project/project-gui/
project/project-gui/CMakeLists.txt
project/project-gui/Makefile -- doesn't exist yet; should build libproject then project-gui
project/project-gui/source/
project/project-gui/include/

project/project-test/
project/project-test/CMakeLists.txt
project/project-test/Makefile -- doesn't exist yet; should build libproject then project-test
project/project-test/source/
project/project-test/include/ 
```

如果您还没有理解，我基本上是在寻找一种方法来构建项目和子项目，就好像`cmake`不存在一样：好像我的项目只包含 Makefile。这可以做到吗？解决方案是优雅的还是混乱的？我应该尝试做其他事情吗？

谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-01-02T05:29:42.457

如果 cmake 正在生成 makefile，您可以简单地将生成的 makefile 包含在主 makefile 中，例如

```
# makefile
all:                # Default
include $GENERATED
$GENERATED:$CMAKEFILE
   #  Generate the makefile here` 
```

生成包含的文件，然后使用新的包含文件重新启动 make。包含的文件应详细说明目标等。

您应该能够使用 vpath 指令更改使用文件的位置，请参见例如[Gnu make 手册](http://www.gnu.org/software/make/manual/make.html#General-Search)，

```
vpath %.o project/.build 
```

否则，繁琐的方法是重写规则并记下必要的目录。

Ed：也许我们不应该使用扁平化的 makefile。

尝试类似：

```
# makefile
all: gui test
clean:
    $(MAKE) -f $(GUI-MAKE) clean
    $(MAKE) -f $(TEST-MAKE) clean

gui:$(GUI-MAKE)
    $(MAKE) -f $(GUI-MAKE) all
$(GUI-MAKE):$(GUI-CMAKE)
    # Generate

# Same for test 
```

如果 $(MAKE) -f $(GUI-MAKE) all 命令在命令行上运行，这应该可以工作，并且我们在生成目标中隐藏了 cmake。您还必须将任何其他目标复制到主 makefile，并注意并行运行 make。

传播目标文件应该涉及类似

```
%.o:$(GUI-MAKE)
    $(MAKE) -f $(GUI-MAKE) $@ 
```

尽管您可能会在尝试制作测试对象时遇到错误

# c++ - 通过函数将指针传递给数组数组

> ID：406010
> 
> 赞同：2
> 
> 时间：2009-01-02T04:23:22.980
> 
> 标签：c++, arrays, pointers

代码中有一个指向数组的指针，即 NameList。我希望将 Pointer(NameList) 中每个数组的内容一一打印出来。下面的代码无法完成任务。请。帮助。

```
int Data1[] = {10,10};
int Data2[] = {20,20};
int Data3[] = {30,30};

int *NameList[] = {Data1, Data2, Data3};
main()
{  Function(NameList); }

Function(int *ArrayPointer)
  {
    int i, j, index=0;
    for (i=0; i < 3; i++)
      {
        for (j=0; j < 2; j++)
          {
             //It does not print the data
             printf("\nName: %s",  ArrayPointer[index++]);
          } 
        index=0;         //Counter reset to 0
        ArrayPointer++;  //Pointer is incremented by one to pick next array in the pointer
      }
  }
print("code sample"); 
```

问题原始海报的另一个注释：

我已经在 Turbo C 中完成了一个吃豆人游戏。我正在完善一些图形例程，以便可以轻松地再次重用它。这只是为了帮助和理解概念而创建的一个小样本。代码中的所有数据实际上都是精灵的字符数组。现在我只想调用一个传递指针的函数，以便将指针中的每个数组都绘制到屏幕上。如何修改此代码以处理此问题？我实际上卡在这里。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T08:16:10.450

该死的，你再一次以几分钟的优势击败了我*。*（如果我没有一直醒来的孩子……）

啊，什么鬼。也许这对某人仍然有用。

* * *

哦，只是为了确定这件事：

*   数组，例如*int a[4]*为其数据分配内存空间。
*   指针，例如*int * p*只为指向内存中另一个点的指针分配足够的内存空间。
*   这就是为什么我们可以在数组上使用*sizeof*并获得完整的内存占用，但不能在指针上使用。

除了那一点点区别之外，int[] 和 int* 之间并没有太大的区别。（考虑有多少人声明 *main(int argc, char **argv) vs *main(int argc, char * argv[])*。）

* * *

**注意：这里所有的内存地址都是虚构的。我只是为了说明一个观点而编造它们。**

鉴于：

```
int Data1[] = {10,11};
int Data2[] = {20,22};
int Data3[] = {30,33}; 
```

我们现在有 3 个内存块。说：

```
0xffff0000-0xffff0003  with a value of (int)(10)
0xffff0004-0xffff0007  with a value of (int)(11)

0xffff0008-0xffff000b  with a value of (int)(20)
0xffff000c-0xffff000f  with a value of (int)(22)

0xffff0010-0xffff0013  with a value of (int)(30)
0xffff0014-0xffff0017  with a value of (int)(33) 
```

在哪里：

```
Data1 == & Data1 [0] == 0xffff0000
Data2 == & Data2 [0] == 0xffff0008
Data3 == & Data3 [0] == 0xffff0010 
```

**不**，我**不**打算在这里讨论 big-endian 与 little-endian 字节排序！

是的，在这种情况下，Data1[2] == Data2[0]。但是你不能依赖你的编译器将它们放在内存中，就像我在这里放置它们一样。

下一个：

```
int *NameList[] = {Data1, Data2, Data3}; 
```

所以我们现在有了另一块内存。说：

```
0xffff0018-0xffff001b  with a value of (int*)(0xffff0000)
0xffff001c-0xffff001f  with a value of (int*)(0xffff0008)
0xffff0020-0xffff0023  with a value of (int*)(0xffff0010) 
```

在哪里：

```
NameList == & NameList [0] == 0xffff0018 
```

注意 NameList 是**int ****类型，而**不是 int***类型！

然后我们可以写：

```
void Function(int **ArrayPointer)
{
  for ( int i=0; i < 3;  i++ )
    for ( int j=0; j < 2; j++)
      printf("Name: %d\n",  ArrayPointer[i][j] );
}

int main() {  Function(NameList); } 
```

ArrayPointer 解析为 (int**)0xffff0018。

ArrayPointer[0] == *( (int**) 0xffff0018 ) == (int*)(0xffff0000) == Data1。

ArrayPointer[0][1] == *( ( * (int**) 0xffff0018 ) + 1 ) == (int) * ( (int*)0xffff0000 + 1 ) == (int) * (int*) 0xffff0004 = = 数据 1[1]。

* * *

您可能需要查看指针算法：array[N] == *(array + N)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T07:24:30.337

`main`必须返回一个类型。您忘记将“int”作为返回类型（禁止 C++ 中的隐式 int）。

说了这么多，我不知道你的意思是什么

```
// It does not print the data
printf("\nName: %s",  ArrayPointer[index++]); 
```

`ArrayPointer[index++]`正如参数列表中定义的那样，将返回一个`int`. 那应该如何存储*名称*？它将存储一个*整数*！

再说一次，你不能用那个特定的参数调用那个函数（双关语）。让我们查看您的类型：

```
int Data1[] = {10,10};
int Data2[] = {20,20};
int Data3[] = {30,30};

int *NameList[] = {Data1, Data2, Data3};

Data1      Data2      Data3      NameList
int[2]     int[2]     int[2]     int*[3] 
```

与您所说的相反， NameList*不是*指向数组数组的指针。我觉得我需要向您展示那将是什么：

```
int (*NameList)[N][M] = Some3DimensionalArray; 
```

那根本没有意义。那你有什么？

```
Data1 = array of 2 int
Data2 = array of 2 int
Data3 = array of 2 int
NameList = array of poiners to int 
```

*这*就是你得到的。然后你传递`NameList`给一个想要一个指向`int`. 在你打电话的时候它一定已经失败`Function`了`main`！我不知道你`name`在 Function 中的那一行是什么意思。但是如果你想打印出存储在指向的数组中的整数（通过指向它们的第一个元素的指针），你可以这样做（尽可能多地保留你的代码）：

```
// don't forget the return type, mate. Also see below
void Function(int **ArrayPointer)
  {
    int i, j, index=0;
    for (i=0; i < 3; i++)
      {
        for (j=0; j < 2; j++)
          {
             // It does not print the data. It is not a string, 
             // but an int!
             printf("\nName: %d\n",  ArrayPointer[i][index++]);
          } 
        index=0;         //Counter reset to 0
        // no need to increment the pointer. that's what the indexing by i 
        // above does
        // ArrayPointer++;  
      }
  } 
```

我一直在鼓吹人们问指针和数组之间的区别。编写正确的代码至关重要。我希望我能帮上忙。最后，稍微介绍一下 和 之间的`int[]`区别`int*`。第一个是不完整的数组类型，而第二个是完整的类型（指向 int 的指针）：

```
typedef int Single[]; // array of indeterminate size.
typedef int *Pointer; // pointer to int

Single s1 = { 1, 2, 3, 4 }; // works!
Pointer s2 = { 1, 2, 3, 4 }; // no no, doesn't work. s2 wants an address 
```

`s2`的类型现在具有*与 int[] 不同*的类型，因为您初始化了类型不完整的数组，数组`s1`在定义后变得完整。它的类型为`int[4]`. 然而，在参数列表中，存在一个特殊规则，它将导致任何数组类型（甚至是完整的数组类型！）都等同于指向其第一个参数的指针。因此：

```
void f(int *a) <=> void f(int a[]) <=> void f(int a[42]);
void f(int (*a)[42]) <=> void f(int a[][42]) <=> void f(int a[13][42])
// ... 
```

那是因为你不能按值传递数组。编译器*滥用*它来使数组类型等同于指向它们的第一个元素的指针。同样处理函数：

```
void f(int a()) <=> void f(int (*a)()) 
```

因为你不能按值传递函数（嗯，对我来说根本没有意义），编译器*滥用*它来使参数列表中的函数类型等同于指向该函数类型的指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-09-07T11:06:35.957

我在您的程序中进行了一些更正，请找到它们并进行比较。我知道现在回复太晚了。但我今天看到了这一点。

```
int Data1[] = {10,10};
int Data2[] = {20,20};
int Data3[] = {30,30};

int *NameList[] = {Data1, Data2, Data3};

main()
{  
  Function(NameList); 
}

Function(int *ArrayPointer)
{ 
    int i, j, index=0;
    for (i=0; i < 3; i++)
      {
        for (j=0; j < 5; j++)
          {
             //It does not print the data
             printf("\nName: %d\n", *((int *)ArrayPointer[i] + index));
         index++;
          } 
        index=0;         //Counter reset to 0
      }
  } 
```

说明：

当您将 NameList 作为指向整数的指针传递给 Function 时，传递的是数组的第一个元素的地址，恰好是 Data1（数组的地址）。但由于该地址保存在整数数组中，因此将被视为整数。要使其表现得像数组的地址（或者，就此而言，指向 int 的指针），您需要将其强制转换为 (int *)。这就是我所做的：

`printf("\nName: %d\n", *((int *)ArrayPointer[i] + index));`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T14:34:26.760

帕拉莫德，

有没有你需要调用的函数，它需要一些类似的东西

```
void drawSprite(int *data, int rows, int cols) 
```

?

然后，您需要将所有数据放在一块内存中。在您的示例中，编译器为每一行分配一个单独的块，然后为另一个块分配三个指向行的指针。因此，数组被保存在 4 个不同的地方。

你需要的是一个多维数组而不是数组数组。像这样初始化你的数据：

```
int data[3,2] = {{10,10},{20,20},{30,30}}; 
```

然后你可以这样调用你的函数：

```
drawSprite(&data[0,0], 3, 2); 
```

使用多维数组将所有元素放在一块内存中。优点是，您可以将 piointer 传递给第一个元素，并且您知道所有其他元素的位置。缺点 - 所有行都分配相同的大小。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T04:36:38.460

```
int Data1[] 
```

有类型

```
int * 
```

和

```
int *NameList[] 
```

有类型

```
int ** 
```

你有一个二维数组。很可能您的意思是：

```
Function(int **ArrayPointer) 
```

关于这一点，ANSI C/C89/C99 函数有一个明确的返回类型（或`void`），例如

```
int main() { ... }
void Function() { ... } 
```

指向的值`ArrayPointer`是一个`int`，而不是一个字符串。因此

```
printf("\nName: %s",  ArrayPointer[index++]); 
```

应该写成别的东西。

第三件事：`index`==`j`在您的代码中。因此`index`可以删除有利于`j`.

`i`并且`j`在这里可能不是好的变量名，因为`ArrayPointer`不是描述某物列表的名称。

如果您需要更多帮助，请发布您想要做的事情，因为您的代码中有几个错误（和奇怪）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T05:31:09.397

从你的“[答案](https://stackoverflow.com/questions/406010/passing-pointer-to-an-array-of-arrays-through-function#406073)”来看（你真的应该编辑你的原始帖子并添加这个信息），你可能想要这样的东西：

```
void draw_all_sprites(Sprite *sprites, size_t num_sprites)
{
    Sprite *cur_sprite;
    size_t i;

    for(i = 0; i < num_sprites; ++i)
    {
        draw_sprite(cur_sprite);
        ++cur_sprite;
    }
} 
```

一个相当简单的`for`循环来遍历数组中的元素。

# iphone - 如何减少典型 iPhone 应用程序的启动时间？

> ID：406015
> 
> 赞同：6
> 
> 时间：2009-01-02T04:27:01.350
> 
> 标签：iphone, cocoa-touch

需要明确的是，这是针对普通 iPhone 应用程序，而不是游戏。

我在网上读过几次，一些开发人员提到他们正在努力改善/减少他们的应用程序的启动时间，但从来没有任何关于如何这样做的好的背景信息。

所以问题很简单：如何减少 iPhone 应用程序的启动？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-01-02T05:13:52.363

与任何其他性能问题相同：使用 Shark 和/或 Instruments 来识别代码中的瓶颈，然后专注于如何加快速度。每个工具都会让您了解在代码的哪些部分花费了多少时间，因此一般方案是在您启动应用程序时运行该工具，然后仔细研究数据以查看性能影响发生的位置。

在应用程序启动时，最有可能改进的候选者是将数据加载推迟到稍后实际需要时，不同地描述为“按需”或“延迟”加载。本质上，不要在应用程序启动时加载任何数据，除非在*应用程序加载时*确实需要它。*在实践中，在某些时候*可能需要的许多东西并不一定要在应用程序启动时立即可用。例如，如果您有一个包含 N 条记录的数据库，但一次只能看到一条，请不要在应用程序启动时将所有 N 条记录加载到内存中。加载当前记录的任何内容，然后在您实际需要时加载其他记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2011-08-13T19:58:21.743

James Thomson 写了一篇不错的博客文章，记录了他[为加快 PCalc 启动所做的努力](http://www.dragthing.com/blog/2009/07/how-to-make-your-iphone-app-launch-faster/)。

特别有趣的是他使用带有上次应用程序运行屏幕截图的图像，以提取 Default.png 所做的相同技巧，同时加载应用程序的其余部分。

# user-interface - UI 术语：登录与登录

> ID：406016
> 
> 赞同：350
> 
> 时间：2009-01-02T04:27:30.913
> 
> 标签：user-interface, terminology

我正在制作一个应用程序，但无法决定是使用术语**Login/out**还是**Logon/off**。这两者之间有更正确的选择吗*？*我应该完全使用其他东西吗（比如“登录/注销”）。

在可用性方面，只要我保持一致，我选择哪个术语可能并不重要，但我确实想知道这些术语的起源——以及一个或另一个是否更符合语法意义。我也非常关心我正在创建的应用程序，并希望花时间研究其用户体验的各个方面。

* * *

## 回答 #1

> 赞同：290
> 
> 时间：2009-01-02T04:39:03.713

由于您正在寻找正确性，

*login*、*logout*、*login*和*logoff*都是**名词**：

```
"Please enter your login credentials."
"I see three logons but only two logoffs from this user." 
```

对应的**动词**分别是两个词：

```
"Please log in to see your reputation."
"You must log off and talk to a human." 
```

* * *

更新：根据[dictionary.com](http://dictionary.reference.com/browse/login)，*登录*的各种定义都是名词，涉及访问*计算机*或*计算机服务*。有趣的是，*登录*重定向到*登录*作为一个完全等效。定义有演变吗？

* * *

## 回答 #2

> 赞同：88
> 
> 时间：2009-01-02T08:34:06.250

民主之声：术语/谷歌结果数：

```
登录 2,020,000,000
登录 430,000,000
登录 27,700,000
登录 18,200,000

```

```
注销 83,500,000
注销 34,500,000
退出 19,400,000
注销 5,350,000

```

* * *

## 回答 #3

> 赞同：55
> 
> 时间：2009-01-02T04:38:12.233

**登录**用于在使用时启动的硬件系统，例如计算机。

**登录**用于必须输入用户名和密码的软件系统。

**登录**用于身份识别，可以是物理的，例如照片 ID，也可以是数字的，例如 OpenID。这里与**登录**的不同之处在于，对于一​​个 ID，我可以使用同一个 ID 访问多个站点、建筑物等。

*编辑 1：我应该添加一个免责声明，即我没有来源并且不保证这些是这些词的官方用法。我提供的定义是基于我个人对用法的理解，纯粹是意见。*

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2009-03-10T19:32:07.313

带空格： http:
[//google.com/trends/explore?q="log in","log on","sign in","sign on"](http://google.com/trends/explore?q=%22log%20in%22%2C%22log%20on%22%2C%22sign%20in%22%2C%22sign%20on%22)
获胜者："sign in"

没有空格： http:
[//google.com/trends/explore](http://google.com/trends/explore?q=login,logon,signin,signon)
?q=login,logon,signin,signon 获胜者：登录

空格 vs 无空格： http:
[//google.com/trends/explore?q="sign in"，登录](http://google.com/trends/explore?q=%22sign%20in%22%2Clogin)
获胜者：**登录**

* * *

带空格： http:
[//google.com/trends/explore?q="log out","log off","sign out","sign off"](http://google.com/trends/explore?q=%22log%20out%22%2C%22log%20off%22%2C%22sign%20out%22%2C%22sign%20off%22)
获胜者："log off"

没有空格： http:
[//google.com/trends/explore](http://google.com/trends/explore?q=logout,logoff,signout,signoff)
?q=logout,logoff,signout,signoff 获胜者：注销

空格 vs 无空格： http:
[//google.com/trends?q="log off",logout](http://google.com/trends/explore?q=%22log%20off%22%2Clogout)
获胜者：**logout**

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2009-03-26T11:31:01.047

我的偏好（不太受欢迎，但许多很酷的网站都在使用这种约定）：

```
[Sign In] [Join]

Welcome, UserName! [Sign Out] 
```

我不会使用以下任何一种：登录、登录、登录、注销

另一种选择是（顺便说一句更受欢迎）：

```
[Login] [Register]

Welcome, UserName! [Logout] 
```

谷歌统计（点击）：

```
[Sign In], [Sign Out] -> 1 210 000 000 + 300 700 000 = 1 510 700 000
[Login], [Logout]     -> 1 940 000 000 + 88 200 000  = 2 028 200 000
[Log In], [Log Out]   -> 873 000 000   + 83 800 000  =   956 800 000 
```

[Sign Up] 的注册链接也是一个不错的选择，但它在 [Sign In] 附近看起来不太好，您应该使用 [Login] 或单独使用它。

[登录] [加入] 对我来说，页面上的 [登录] [注册] 看起来更用户友好（不那么正式）

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2009-01-02T11:14:03.493

Microsoft 的框架设计指南建议使用“LogOn”而不是“LogIn”，而是使用“SignIn”而不是“SignOn”（参见FxCop 代码分析中的[规则 CA1726](http://msdn.microsoft.com/en-us/library/ms182258.aspx)）。诚然，这是在讨论框架/API 命名约定，但值得人们考虑。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2009-01-02T04:33:06.003

我一直以这种方式区分两者：

登录 - 您登录到终端或其他多用户访问设备
登录 - 您登录到软件应用程序，以进行授权或验证

虽然很明显，两者之间有很多重叠，特别是因为终端不再那么常见了。但正如你所说，这可能并不重要。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2009-01-02T04:35:56.793

这是一个关于这个问题的旧线程：“[登录与登录](http://discuss.fogcreek.com/joelonsoftware/default.asp?cmd=show&ixPost=19480)”我个人认为您应该使用您的用户最熟悉的术语。对于 Windows 平台，“登录”似乎是一个常用术语。

[有趣的事实：谷歌为“登录](http://www.google.ru/search?q=logon)”产生 2.040.000.000 个结果，为“[登录](http://www.google.ru/search?q=login)”产生 27.400.000 个结果。

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2010-06-12T15:17:31.033

我不得不说，我研究了那个 Q，通常：*Login, Logon, Logoff*或*Log in, Log on, Log off*用于**应用程序**。

诸如*登录、加入、退出、注册之*类的动词和名词更多地用于**Web 应用程序**，但正如前面所说，这一切都归结为个人喜好......

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2009-01-02T04:33:28.340

如果所有问题都像试图决定哪种语法“更正确”一样容易解决。我认为这是归结为个人喜好的原因之一...

我个人更喜欢登录/注销，但我知道很多使用登录/注销的软件。

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2011-02-26T19:58:12.330

几个答案比较了基于谷歌结果的受欢迎程度，其中*登录/注销*显然是赢家。我不认为这应该被用作指南。

Windows Live ID 和 Google 帐户（两个最常用的身份验证系统？）都在其用户界面上使用*登录/注销。*有趣的是，两者都在其 URL ( , )上使用*Login 。*`https://login.live.com/login.srf``https://www.google.com/accounts/ServiceLogin`

我的结论是，由于历史原因，*登录/注销*在开发人员中更受欢迎（它们用于框架 API 等），因此他们继续使用它（例如这个站点，stackoverflow.com），但最终用户可能更熟悉*Sign in/out*。

* * *

与 Yahoo 和 AOL 相同，在用户界面上*登录**/退出*，在 URL ( , ) 上登录。*`https://login.yahoo.com/config/login_verify2``https://my.screenname.aol.com/_cqr/login/login.psp`

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2009-01-02T04:33:09.247

我认为所有这些都源于访问早期系统的用户的手写日志。它们在语义上都是等效的，用户可能会同样理解它们。我认为这取决于偏好。只需选择一个并始终如一地使用它。

# javascript - 让事件发生 n 次的最佳方式？

> ID：406020
> 
> 赞同：1
> 
> 时间：2009-01-02T04:29:44.027
> 
> 标签：javascript

我使用以下代码在 Javascript 中创建倒计时。n 是重复的次数，freq 是执行前等待的毫秒数，funN 是在每次迭代时调用的函数（通常是更新部分 DOM 的函数），funDone 是倒计时时调用的函数完成了。

```
function timer(n, freq, funN, funDone)
{
    if(n == 0){
        funDone();
    }else{
        setTimeout(function(){funN(n-1); timer(n-1, freq, funN, funDone);}, freq);      
    }
} 
```

可以这样调用：

```
 timer(10,
      1000, /* 1 second */
      function(n){console.log("(A) Counting: "+n);},
      function() {console.log("(A) Done!");}
     );

    timer(10,
      500,
      function(n){console.log("(B) Counting: "+n);},
      function() {console.log("(B) Done!");}
     ); 
```

这样做的好处是我可以根据需要多次调用 timer() 而不必担心全局变量等。有没有更好的方法来做到这一点？有没有一种干净的方法可以让 setInterval 在一定次数的调用后停止（不使用全局变量）？这段代码还会在每次调用 setTimeout 时创建一个新的 lambda 函数，这对于大倒计时来说似乎是有问题的（我不确定 javascript 的垃圾收集器如何处理这个问题）。

有一个更好的方法吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T05:25:09.173

这与@balabaster 的想法基本相同，但经过测试，使用原型，并且具有更灵活的界面。

```
var CountDownTimer = function(callback,n,interval) {
     this.initialize(callback,n,interval);
}

CountDownTimer.prototype = {
     _times : 0,
     _interval: 1000,
     _callback: null,
     constructor: CountDownTimer,
     initialize: function(callback,n,interval) {
                     this._callback = callback;
                     this.setTimes(n);
                     this.setInterval(interval);
                 },
     setTimes: function(n) {
                     if (n)
                         this._times = n
                     else
                         this._times = 0;
                 },
     setInterval: function(interval) {
                     if (interval)
                         this._interval = interval
                     else
                         this._interval = 1000;
                 },
     start: function() {
                     this._handleExpiration(this,this._times);
                 },
     _handleExpiration: function(timer,counter) {
                     if (counter > 0) {
                        if (timer._callback) timer._callback(counter);

                        setTimeout( function() {
                                           timer._handleExpiration(timer,counter-1);
                                          },
                                          timer._interval
                                      );
                     }
                 }
};

var timer = new CountDownTimer(function(i) { alert(i); },10);

...

<input type='button' value='Start Timer' onclick='timer.start();' /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T04:58:47.760

我将创建一个接收计数器并接收要执行的函数指针的对象，类似于以下伪代码：

```
TimedIteration = function(interval, iterations, methodToRun, completedMethod){

  var counter = iterations;
  var timerElapsed = methodToRun;  //Link to timedMethod() method
  var completed = callbackMethod;

  onTimerElapsed = function(){
    if (timerElapsed != null)
      timerElapsed();
  }

  onComplete = function(){
    if (completed != null)
       completed();
  }

  timedMethod = function(){
    if (counter != null)
      if (counter > 0) {
        setTimeOut(interval, onTimerElapsed);
        counter--;
      }
      else
        onComplete();
      this = null;
    }
  }

  if ((counter != null)&&(counter > 0)){
    //Trip the initial iteration...
    setTimeOut(interval, timedMethod);
    counter--;
  }  
} 
```

显然这是伪代码，我没有在 IDE 中测试过它，并且在语法上我不确定它是否会按原样工作[如果可以的话，我会很惊讶]，但基本上你正在做的是你重新创建一个包装器对象，该对象接收时间间隔、迭代次数和在计时器经过时运行的方法。

然后你会在你的方法上调用它来运行，如下所示：

```
function myMethod(){
  doSomething();
}

function doWhenComplete(){
  doSomethingElse();
}

new TimedIteration(1000, 10, myMethod, doWhenComplete); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T09:44:02.333

我比建议的替代方案更喜欢您的原始解决方案，所以我只是将其更改为不为每次迭代创建一个新函数（并且参数`fun()`现在是递减前的值 - 如果需要，请更改......）

```
function timer(n, delay, fun, callback) {
    setTimeout(
        function() {
            fun(n);
            if(n-- > 0) setTimeout(arguments.callee, delay);
            else if(callback) callback();
        },
        delay);
} 
```

# infragistics - Infragistics 控件的 Web 数据网格

> ID：406030
> 
> 赞同：-1
> 
> 时间：2009-01-02T04:34:57.277
> 
> 标签：infragistics, webdatagrid

我正在开发一个需要使用 Infragistics 控件的 WebDataGrid 并自定义标题布局的 Web 项目。我没有在 UltraWebGrid 中找到像 InitializeLayout 这样的事件。我的问题是我想排在标题中。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-11T13:54:25.920

您需要使用`WebHierarchicalDataGrid`控件来表示分层数据结构`WebDataGrid`，请查看此处的示例[http://samples.infragistics.com/aspnet/ComponentOverview.aspx?cn=hierarchical-data-grid](http://samples.infragistics.com/aspnet/ComponentOverview.aspx?cn=hierarchical-data-grid)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-04-07T21:48:40.897

我打赌 Vishal 的意思是“WebDataGrid”。为此，没有这样的处理程序，也没有 Bands 的概念。因此，我有一个类似的问题。事实上，我不清楚在哪个事件处理程序中我可以访问页眉和页脚行，因为所有 WebDataGrid 控件都有一个 InitializeRow 处理程序，它传递对数据行的引用，而不是标题行。因此，我只是在通用控件加载处理程序中做任何我能做的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T04:46:04.477

您应该能够在 UltraWebGrids InitializeLayout() 处理程序中完成这项工作。

在其中，访问这样的标题：

```
e.Layout.Bands[0].Columns.FromKey(<data field>).Header... 
```

注意：可以在[http://forums.infragistics.com/forums/61.aspx找到一个很好的 Infragistics 支持资源](http://forums.infragistics.com/forums/61.aspx)

# svn - 颠覆用法

> ID：406038
> 
> 赞同：2
> 
> 时间：2009-01-02T04:40:26.097
> 
> 标签：svn, open-source, repository, directory-structure

我刚刚开始将“Subversion”与“Tortoise SVN 客户端”一起用于我在“Google Code”上托管的一个开源项目。我想获得一些使用它的最佳实践。我遵循默认文件夹结构（主干、分支、标签）。以下是问题

1.  您什么时候进行初次登记？是在完成一组功能之后还是从开发的第一天开始？
2.  初始签入到哪个目录？是进入“主干”还是在功能完成后签入“分支”并合并到“主干”。在这种情况下，“主干”将是空的，直到功能完成。
3.  当进行更改时，您会直接签入“主干”吗？如果不是，您的工作副本将始终使用“分支”目录，对吗？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T04:47:26.440

1.  我建议您在开始对文件进行大量修改之前签入文件（[尽早签入，经常签入](http://www.codinghorror.com/blog/archives/001165.html)）。

2.  这取决于，有些人喜欢让主干*稳定*，在分支中工作，然后在功能准备好时将分支合并回主干，但您也可以直接提交到主干。

3.  这还取决于您将如何工作以及您喜欢在主干中拥有什么（最新的稳定版本或最新的前沿版本）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T05:15:17.087

我建议尽早并经常检查。

有很多方法可以做到这一点，但我成功使用过的最常见的方法是在开发分支上工作并在达到稳定点（次要版本发布、里程碑等）时合并到主干。

如果您还没有，请查看[红皮书](http://svnbook.red-bean.com/en/1.0/ch04s04.html)，这是获取 svn 信息的绝佳资源。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T06:03:10.143

从头开始创建新项目时，我通常在 SVN 的用户区域中进行，例如

```
/svn/users/me/project1 
```

这是因为大多数项目都是从丢弃原型开始的，而我很少使用分支。一旦一个项目正式发布并接近它的第一个“原型”版本，我会将它迁移到它自己的存储库

```
/svn/project1/trunk 
```

使用分支需要一些额外的工作，所以除非必要，否则我们不会使用它们。当多个人在同一个项目上工作并且经常发生冲突或者我正在开发一个我可能决定恢复并丢弃的功能时。如果在分支中完成，我可以简单地选择不合并并删除它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T06:08:34.390

所有答案都建议您早点入住，经常入住，我完全同意。所以这就是我要说的。但是，我将摘要阅读为：Subversion 适合哪些用途？所以这里有一个答案。

我读过一些公司使用 Subversion 作为他们的应用程序存储库。因此，他们告诉服务器他们要安装应用程序 Y 的版本 X。然后服务器在 SVN 服务器上运行更新。他们还在那里存储了配置文件。然后对配置所做的任何更改（通过最终客户的单独 Web 界面）提交到 SVN 配置存储库。这太棒了。'当然，这些人在 Win2k3 上使用 MS Power Shell，但该技术仍然可以应用于其他地方。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T06:25:49.923

立即入住，不要提早入住。即使您只需要提交一个包含头脑风暴和一些极其神秘的伪代码的临时文本文件，也请提交它。

我（像许多人一样）在进行某种代码搜索或搜索可以满足我需求的程序时，会找到与您类似的项目。我将阅读您的首页，然后立即浏览您的 SVN 主干，看看您在做什么。

如果你的后备箱里有零代码，我可能会忘记你。如果您至少有一些文件解释了您的预期设计和一些伪代码，我可能会开始向您发送显示我想法的补丁。

一个有空存储库的项目尖叫“永远不会被划伤的痒”..所以尽快推送一些东西。

之后，经常提交。我喜欢做出许多小而有序的承诺，以便轻松跟踪回归和回滚/修复有害修订。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T06:52:36.097

1.  一旦您创建了*空白*基线项目/解决方案结构，请签入。空白，因为在这种状态下它实际上是可*编译*的，尽管没有工作代码。原则是在整个开发过程中保持整个项目 - 至少 - 处于可编译状态，因为团队增量并定期提交*小*的更改，以便构建几乎不会被破坏。

2.  没有法律要求初次登记必须在主干或分行进行。您可以使用空项目启动 Trunk，使其从一开始就稳定，然后分支进行开发并在完成后将其合并回 Trunk。您还可以选择将空项目签入到分支并开发第一个工作或基本功能，然后将实质性内容合并到主干中。无论哪种方式，基于第 1 点，Trunk 应该是稳定且*高质量的*。仅将高质量内容合并到主干中。

3.  同样，对这种做法没有严格的规定。一些团队扩展了*所有内容*，甚至是对变量名称更改的简单重构。有些团队甚至不知道分支/合并并在单个分支（主干）中开发所有内容。每个团队在这个问题上都有自己的平衡水平。我个人的指导方针是，如果有新功能或重大错误修复或重新设计，请将其分支出来进行测试。如果这是一个小的修复，如字符串拼写错误或在网页中显示四个小数位而不是两个小数位，则修复 Trunk 副本就足够了。当然，“主要”与“次要”的解释会有所不同，因此开发/团队领导应该建立他们的标准。无论哪种方式，必须有**伴随变化的单元/集成测试**验证分支或主干是否按预期工作，尽可能无缺陷。要记住的关键词始终是“高质量、经过测试的代码”。

# c# - 提供者模型和性能

> ID：406041
> 
> 赞同：3
> 
> 时间：2009-01-02T04:44:05.107
> 
> 标签：c#, .net, provider-model

使用提供者模式是否会对性能产生影响？

它是否依赖于每个实例化的反射或任何东西？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T05:16:11.360

是的，提供者模型通常涉及少量反射，因此，性能会受到一点影响，但是，它只是在提供者对象的实例化中。一旦对象被实例化，就可以正常访问（通常通过接口）。性能与硬编码模型的差异应该很小，但从编程角度获得的收益*远远*超过任何性能损失。假设提供商实际上可能有一天会改变。如果没有，只需对其进行硬编码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T16:48:10.813

每个应用程序域都会对提供程序进行一次实例化。尽管通过反射更新对象比内联对象要慢，但它仍然非常非常快。我想说大多数商业应用程序没有性能问题。

# c++ - C ++初学者的新术语？

> ID：406043
> 
> 赞同：2
> 
> 时间：2009-01-02T04:47:02.293
> 
> 标签：c++

POD类型是什么意思？cv-qualified？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T04:54:23.993

POD，Plain Old Data，是在 C 中具有等价物的任何 C++ 类型。

cv 限定类型是一种已被限定为 const 或 volatile 的类型。

```
// non cv_qualified
int one; 
char *two; 

// cv-qualified 
const int three; 
volatile char * four; 
```

POD 类型的数据成员必须是公共的，并且可以是任何基本类型：bool、数字类型、枚举类型、数据指针类型、指向函数的类型，也可以是前面任何一种的数组。

```
struct A //POD
{
 int n;
 double y;
};

struct B //non-POD
{
private:
 int n;
 double y;
}; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-01-02T05:04:14.537

**POD**代表**普通旧数据**类型。它通常指的是用于保存数据和访问器的类——仅此而已。它还暗示该函数没有 vtable，这意味着该类没有多态成员。这些对于您不想为多态类开销付出代价的轻量级对象很受欢迎。

**简历合格**。 **C=常数，V=易失性**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T08:29:14.857

[关于POD](http://www.fnal.gov/docs/working-groups/fpcltf/Pkg/ISOcxx/doc/POD.html)的非常好的文章

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T13:54:54.500

> c++ 中有什么东西使 c++ 类型不等同于 c – rajKumar

正如 CMS 所说，POD 类型是 C++ 类型，它在 C 中具有等价物：因此，它必须遵循 C 用于的相同规则：

*   初始化
*   复制
*   布局
*   寻址

C++ 类型不应**有**任何构造函数，**不得**重载赋值运算符，**不得**有虚函数、基类、析构函数以及私有或受保护的非静态成员。

# javascript - jQuery：val() 是否足够快以重复使用，还是将值放入变量中更好

> ID：406045
> 
> 赞同：5
> 
> 时间：2009-01-02T04:47:11.263
> 
> 标签：javascript, jquery

如果您正在执行以下操作：

```
var i = $('input[@name=some_field]');
if (i.val() != '' && !(i.val() >=1 && i.val() <= 36) || i.val() == 'OT')) {
     i.focus();
} 
```

足够`i.val()`快以多次使用它，或者您应该这样做：

```
var value = i.val(); 
```

首先，然后在 if 语句中使用 value，例如：

```
var i = $('input[@name=some_field]');
var value = i.val();
if (value != '' && !(value >=1 && value <= 36) || value == 'OT')) {
     i.focus();
} 
```

...？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-01-02T05:06:44.170

这不一定是一个 jQuery 问题，但它非常适用于大多数编程语言。事实上，这个问题不仅仅是性能问题。

要记住的一件事是，如果您存储该值，则在执行后续代码期间它不可能发生变化。大多数时候，这是您所期望和想要的。但在某些情况下，对 val() 的调用也有可能返回不同的值，尤其是当您正在循环并执行需要大量时间的操作时。

在您的特定示例中，发生这种情况的可能性非常低，因为它只是几个调用而不是循环构造。鉴于只有几个调用，性能可能不会是这里的主要问题。但是该点的理论仍然存在-如果您想保证该值不会改变，请将其放入变量中。由于它还为您提供了最好的性能考虑，我认为在大多数情况下这将是最佳实践。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T05:10:11.200

在没有任何参数的情况下调用时，我认为 val() 不会比直接访问 value 属性慢得多。根据我对 jQuery 源代码的阅读，基本上所有 val() 方法都是检查元素是否为 select，如果不是，则简单地返回 value 属性的内容（删除了 \r 字符）。函数调用会有一些开销，字符串替换会有一些开销，但我读过的任何内容都没有表明开销会很大。

如果您真的很担心，请尝试在大量迭代中对有问题的代码进行基准测试。否则，只需选择哪种方法对您来说最干净，然后去做。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T05:08:42.437

如果你查看 jQuery 代码，你会看到执行 val() 函数时发生的所有事情，所以是的，我建议将它分配给一个变量，而不是重复执行它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T04:55:05.117

调用 jQuery 不会对性能造成影响[`val`](http://docs.jquery.com/Attributes/val)。

它比本地 DOM .value 调用慢，因为您会产生额外函数调用的额外开销以及函数内部发生的事情 -请参阅[此处的](http://code.google.com/p/jqueryjs/source/browse/trunk/jquery/src/core.js#381)[函数定义`val`](http://code.google.com/p/jqueryjs/source/browse/trunk/jquery/src/core.js#381)。除非您这样做数百次，否则您不会注意到它。

我会选择您认为哪种方式更具可读性并采用那种方式。一种或另一种方式并在您的代码中坚持下去！就我个人而言，我会在`val`每次需要时打电话并保存额外的作业线。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T05:41:57.890

一般来说，我会说永远不要多次调用函数来获得相同的值。只要避免函数调用开销，您就会使代码更具可读性和效率。

# java - 在 Java 中，为什么人们要在字段前加上 `this`？

> ID：406053
> 
> 赞同：25
> 
> 时间：2009-01-02T04:58:14.780
> 
> 标签：java, coding-style

当引用类变量时，为什么人们要在它前面加上`this`? 我不是在谈论`this`用于消除方法参数歧义的情况，而是在似乎没有必要的情况下。

例子：

```
public class Person {        
    private String name;

    public String toString() {
        return this.name;
    }
} 
```

在`toString`，为什么不只是引用`name`as `name`？

```
return name; 
```

`this.name`买什么？

[这是](https://stackoverflow.com/questions/404278/java-calendar-time-minute-is-wrong)一个 stackoverflow 问题，其代码已`this`预先挂起。

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2009-01-02T05:00:58.863

1.  防御性编程（以防有人稍后编辑代码添加参数或名称冲突的本地
2.  让代码“自我记录”更明显

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2009-01-02T05:01:01.030

有时需要消除歧义：

```
public void setFoo(Bar foo) {
    this.foo = foo;
} 
```

在其他时候，这只是一种风格。总的来说，我尽量避免`this.blah`，因为它更冗长。如果您想知道，结果字节码是完全相同的。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2009-01-02T05:00:30.953

它在语言层面没有任何作用。但它确实为阅读代码的人提供了有关变量范围的即时指示，从而提高了对代码的理解。

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2009-01-02T05:14:49.897

我经常看到人们这样做是因为它触发了智能感知。我个人更喜欢省略“这个”。因为它创建了更多没有任何价值的代码。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2009-01-02T13:36:29.250

与某些人喜欢在私有数据成员前面加上“m_”或名称接口“IFoo”的原因相同。他们相信它增加了可读性和清晰度。你是否同意这样的约定是一个品味问题。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2009-01-02T07:58:39.503

在 .NET 世界中，Microsoft StyleCop 工具也有一个名为“Prefix Local Calls With This”的规则：

> 只要代码包含对本地类的实例成员或没有以'this.'为前缀的基类的调用，就会违反此规则。当存在基类成员的本地覆盖时，会出现此规则的例外情况，并且代码打算直接调用基类成员，绕过本地覆盖。在这种情况下，调用可以以“base”为前缀。而不是“这个”。
> 
> 默认情况下，StyleCop 不允许使用下划线或 m_ 来标记本地类字段，而支持“this”。字首。使用“this”的好处。是它同样适用于所有元素类型，包括方法、属性等，而不仅仅是字段，使得对类成员的所有调用都可以立即识别，无论使用哪个编辑器查看代码。另一个优点是它在没有前缀的实例成员和静态成员之间创建了快速、可识别的区别。
> 
> 使用“this”的最后一个优势。前缀是输入这个。将导致 Visual Studio 显示 IntelliSense 弹出窗口，使开发人员可以快速轻松地选择要调用的类成员。

我的建议是选择一个约定（使用这个。或不使用）并坚持下去。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2009-01-02T05:01:54.820

它可以帮助您一目了然地识别成员变量。
上面的 ToString() 太小了，无法说明这一点。
假设您有一个全屏尺寸方法。您计算、分配、交换混合的局部变量和实例变量。`this.memberVar`或`this.PropertyName`帮助您跟踪通过字段分配或属性设置器修改实例状态的位置。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2009-01-02T12:51:15.673

稍微撇开一点，但值得注意的是，Eclipse 中的“清理”工具可以设置为自动添加/删除它。成员根据喜好访问。

首选项对话框中的“Java/代码样式/清理”。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2009-01-02T05:00:11.017

除了消除与方法参数的歧义之外，它什么也没有。也许清晰/可读性但这真的取决于你的风格。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2009-01-02T05:07:01.987

他们可能是 Python 程序员，在没有明确 this 的情况下会受到折磨/迷失/困惑。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2009-01-02T06:16:32.360

我认为如果你把它放在属性名称之前没有什么问题。如果您声明了具有相同名称的任何属性（这可能在初始化属性时在构造函数中发生），这有助于消除属性与局部变量的歧义。

它不会影响性能，也不会造成任何可读性问题（如果它使阅读更容易的话）。

所以我认为我们不需要担心这个。让程序员自己选择。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2009-01-02T17:20:22.323

我唯一使用它的地方是在类的构造函数中，类的部分/大部分字段可以由构造函数提供。我使用它而不是为方法签名使用短名称，它似乎比缩写更一致。

例如在“理性”类中

而不是做

```
class Rational
{
    int denominator;
    int numerator;

    public Rational(int d, int n)
    {
        denominator = d;
        numerator = n;
    }
} 
```

我这样做。

```
class Rational
{
    int denominator;
    int numerator;

    public Rational(int denominator, int numerator)
    {
        this.denominator = denominator;
        this.numerator = numerator;
    }
} 
```

这样，调用者就可以更多地了解构造函数参数的用途。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2009-01-02T05:14:25.903

还有一点要记住的是语言本身。你没有特别提到Java（虽然我假设你真的没有其他想法，所以这个评论更仅供参考），但正如之前的海报已经提到的那样，这是一种制作代码自我的好方法 -记录以防止在其他人开始修改您的代码库时出现混淆。

但是，如果您使用 PHP，则在引用类变量时`$this`通常*需要使用 。*由于语言之间的规则不同，通常最容易坚持它们之间共有的模式，这种模式恰好是贯穿始终的一种非常可靠的编码风格。对我来说，简单地预先`this`添加所有内容比尝试记住什么语言需要它以及什么语言简单地“喜欢”它更容易。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2009-01-02T05:23:35.103

“this”可防止与父类中同名的实例变量混淆。

这几乎是对“超级”前缀的补充。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2009-01-02T06:02:27.727

在编写大量代码时，我尝试使用“this.whatever”，因为这样更容易找出引用的内容。在阅读其他人编写的大量代码时，在某些时候我经常会混淆他们是引用实例变量还是局部变量。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2009-01-02T09:49:00.140

该代码更易于阅读。在我看来，另一个好的做法是调用`getXXX()`in `toString()`too（而不是 then `this.XXX`），因为`getXXX()`can 有一个重要的逻辑。

我认为使用属性名称而不使用此名称对于维护应用程序不是一个好主意。

# air - 从 Adob e AIR 应用程序访问 CD/DVD 驱动器进行备份

> ID：406067
> 
> 赞同：2
> 
> 时间：2009-01-02T05:03:44.410
> 
> 标签：air, adobe, dvd-burning, cd-burning

是否可以从 Adob​​e AIR 应用程序刻录 CD/DVD？如何？我希望我的应用程序在 CD/DVD 上进行一些备份。还有其他选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T07:19:05.230

虽然某处可能有一个外部库可以做到这一点，但 AIR 无法开箱即用地刻录 CD 或 DVD。它所能做的最好的事情就是在本地文件系统上读取、写入和复制文件。

如果要备份数据，可以将数据写入文件系统的其他位置。

# gwt - GWT 可调整大小的面板

> ID：406076
> 
> 赞同：8
> 
> 时间：2009-01-02T05:06:50.007
> 
> 标签：gwt

有没有办法在 GWT 中有一个“可调整大小”的面板。

通过调整大小我的意思是如果你在面板的边缘拖动它可以相应地调整大小。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-01-03T14:33:09.087

自己想出来的，举个例子：

```
public class DraggablePanel extends VerticalPanel {
    private boolean isBeingDragged = false;
    private boolean isBeingMoved = false;
    private Element movingPanelElement;

    public void setMovingPanelElement(Element movingPanelElement) {
        this.movingPanelElement = movingPanelElement;
    }

    public DraggablePanel() {
        super();
        DOM.sinkEvents(getElement(), Event.ONMOUSEDOWN | Event.ONMOUSEMOVE
                | Event.ONMOUSEUP | Event.ONMOUSEOVER);
    }

    @Override
    public void onBrowserEvent(Event event) {
        final int eventType = DOM.eventGetType(event);
        if (Event.ONMOUSEOVER == eventType) {
            if (isCursorResize(event)) {
                getElement().getStyle().setProperty("cursor", "s-resize");
            } else if (isCursorMove(event)) {
                getElement().getStyle().setProperty("cursor", "move");
            } else {
                getElement().getStyle().setProperty("cursor", "default");
            }
        }
        if (Event.ONMOUSEDOWN == eventType) {
            if (isCursorResize(event)) {
                if (!isBeingDragged) {
                    isBeingDragged = true;
                    DOM.setCapture(getElement());
                }
            } else if (isCursorMove(event)) {
                DOM.setCapture(getElement());
                isBeingMoved = true;
            }
        } else if (Event.ONMOUSEMOVE == eventType) {
            if (!isCursorResize(event) && !isCursorMove(event)) {
                getElement().getStyle().setProperty("cursor", "default");
            }
            if (isBeingDragged) {
                int currentY = event.getClientY();
                int originalY = getElement().getAbsoluteTop();
                if (currentY > originalY) {
                    Integer height = currentY - originalY;
                    this.setHeight(height + "px");
                }
            } else if (isBeingMoved) {
                RootPanel.get().setWidgetPosition(this,
                        event.getClientX(), event.getClientY());
            }
        } else if (Event.ONMOUSEUP == eventType) {
            if (isBeingMoved) {
                isBeingMoved = false;
                DOM.releaseCapture(getElement());
            }
            if (isBeingDragged) {
                isBeingDragged = false;
                DOM.releaseCapture(getElement());
            }
        }
    }

    protected boolean isCursorResize(Event event) {
        int cursor = event.getClientY();
        int initial = getAbsoluteTop();
        int height = getOffsetHeight();
        return initial + height - 20 < cursor && cursor <= initial + height;
    }

    protected boolean isCursorMove(Event event) {
        int cursor = event.getClientY();
        int initial = movingPanelElement.getAbsoluteTop();
        int height = movingPanelElement.getOffsetHeight();
        return initial <= cursor && cursor <= initial + height;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-03-20T23:59:26.117

只需看这里：[http](http://code.google.com/p/resizepanel/) ://code.google.com/p/resizepanel/ FF/IE/GChrome 有一个功能齐全的示例

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-19T01:43:49.997

在现代浏览器中，您可以独立于 GWT 来解决这个问题。更容易和更清洁。只需使用 CSS3[`resize`](https://developer.mozilla.org/en/docs/Web/CSS/resize)属性，并指定一个[`overflow`](https://developer.mozilla.org/en-US/docs/Web/CSS/overflow)不同于默认值 ( `visible`) 的值。

请注意，您可能希望覆盖`resize`子元素的属性，这样它们就不会全部继承调整大小句柄。

就我而言，我的`.ui.xml`文件中有这样的内容：

```
<g:HTMLPanel addStyleNames="myTableContainer">
    <g:ScrollPanel>
        <g:FlexTable ui:field="myTable"></g:FlexTable>
    </g:ScrollPanel>
</g:HTMLPanel> 
```

在我的样式表中有这样的内容（GWT 添加了一些额外的 div，因此您可能需要调整选择器以适合您的情况）：

```
.myTableContainer div {
    resize: vertical;
    overflow: auto;
}

.myTableContainer div div {
    resize: none;
    overflow: visible;
} 
```

这给了我`FlexTable`在右下角调整大小的句柄，如下所示：

[![调整手柄大小](https://i.stack.imgur.com/js34b.png)](https://i.stack.imgur.com/js34b.png)

用户可以向下拖动手柄以垂直调整包含我的`FlexTable`. 当然，`vertical`除了 ，您还可以允许调整大小为`horizontal`或`both`。

如果您更喜欢以编程方式执行 UiBinder 方式，我相信您可以通过简单地将适当的样式添加到代码中的元素来适应它。

缺点？在 IE/Edge 中不起作用（嘿，我说的是*现代*浏览器......和*​​CSS3*），但在[大多数其他](http://caniuse.com/#feat=css-resize).

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T05:36:55.170

看起来[GWT-Ext小部件扩展在其](http://code.google.com/p/gwt-ext/)[可调整大小的面板](http://gwt-ext.com/demo/#resizablePanel)中包含您想要的内容

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-07-09T09:55:49.470

对于 onBrowserEvent(...) 中的上述代码，不要忘记插入

```
 event.preventDefault(); 
```

否则您将遇到Firefox图像拖动的麻烦！

# c++ - 为什么我应该避免 C++ 中的多重继承？

> ID：406081
> 
> 赞同：176
> 
> 时间：2009-01-02T05:09:35.710
> 
> 标签：c++, oop, multiple-inheritance

使用多重继承是一个好概念还是我可以做其他事情？

* * *

## 回答 #1

> 赞同：270
> 
> 时间：2009-01-02T20:21:42.927

多重继承（缩写为 MI）有*味道*，这意味着*通常*，它是出于不好的原因而完成的，并且会在维护者面前反击。

## 概括

1.  考虑特征的组合，而不是继承
2.  警惕恐惧钻石
3.  考虑继承多个接口而不是对象
4.  有时，多重继承是正确的。如果是，则使用它。
5.  准备好在代码审查中捍卫您的多重继承架构

## 1\. 也许作文？

这对于继承来说是正确的，因此对于多重继承来说更是如此。

您的对象真的需要从另一个对象继承吗？A`Car`不需要从 a 继承`Engine`来工作，也不需要从 a继承`Wheel`。A`Car`有一个`Engine`和四个`Wheel`。

如果您使用多重继承而不是组合来解决这些问题，那么您做错了。

## 2\. 恐惧钻石

通常，你有一个类`A`，然后`B`和`C`两者都继承自`A`. 并且（不要问我为什么）然后有人决定必须从和`D`继承。`B``C`

八八年来我遇到过两次这种问题，很有趣，因为：

1.  从一开始就犯了多大的错误（在这两种情况下，`D`都不应该从两者继承`B`and `C`），因为这是糟糕的架构（事实上，`C`根本不应该存在......）
2.  维护人员为此付出了多少代价，因为在 C++ 中，父类`A`在其孙类中出现了两次`D`，因此，更新一个父字段`A::field`意味着要么更新它两次（通过`B::field`和`C::field`），要么稍后出现静默错误并崩溃（在 中新建一个指针`B::field`，然后删除`C::field`...）

如果这不是你想要的，在 C++ 中使用关键字 virtual 来限定继承可以避免上述双重布局，但无论如何，根据我的经验，你可能做错了什么......

在对象层次结构中，您应该尝试将层次结构保持为树（节点有一个父节点），而不是图。

### 更多关于钻石的信息（编辑 2017-05-03）

C++ 中的 Diamond of Dread 的真正问题（*假设设计是合理的 - 审查您的代码！*），是**您需要做出选择**：

*   该类是否希望`A`在您的布局中存在两次，这是什么意思？如果是，那么一定要从它继承两次。
*   如果它应该只存在一次，那么虚拟地继承它。

这种选择是问题所固有的，并且在 C++ 中，与其他语言不同，您实际上可以做到这一点，而无需教条强制您在语言级别进行设计。

但与所有权力一样，这种权力伴随着责任：审查你的设计。

## 3\. 接口

零个或一个具体类的多重继承，以及零个或多个接口通常是可以的，因为你不会遇到上面描述的恐惧钻石。事实上，这就是 Java 中的工作方式。

通常，当 C 继承自`A`并且`B`用户可以`C`像`A`使用`B`.

在 C++ 中，接口是一个抽象类，它具有：

1.  ~~它的所有方法都声明为纯虚拟（后缀= 0）~~ ^(（删除了2017-05-03）)
2.  没有成员变量

零到一个真实对象以及零个或多个接口的多重继承不被认为是“臭”（至少，不是那么多）。

### 有关 C++ 抽象接口的更多信息（编辑 2017-05-03）

首先，NVI 模式可用于生成接口，因为**真正的标准是没有状态**（即没有成员变量，除了`this`）。您的抽象接口的重点是发布合同（“您可以这样称呼我，这样称呼我”），仅此而已。只有抽象虚拟方法的限制应该是一种设计选择，而不是一种义务。

其次，在 C++ 中，从抽象接口虚拟继承是有意义的（即使有额外的成本/间接）。如果你不这样做，并且接口继承在你的层次结构中出现多次，那么你就会有歧义。

第三，面向对象很棒，但它不是C++ 中*的 The Only Truth Out There ^(TM)*。使用正确的工具，并始终记住您在 C++ 中还有其他范式提供不同类型的解决方案。

## 4\. 你真的需要多重继承吗？

有时候是的。

通常，您的`C`类继承自`A`and `B`，`A`and`B`是两个不相关的对象（即不在同一层次结构中，没有共同点，不同的概念等）。

例如，您可以拥有一个`Nodes`具有 X、Y、Z 坐标的系统，能够进行大量几何计算（可能是一个点，几何对象的一部分），并且每个节点都是一个自动代理，能够与其他代理进行通信。

也许您已经可以访问两个库，每个库都有自己的名称空间（使用名称空间的另一个原因......但是您使用名称空间，不是吗？），一个是`geo`，另一个是`ai`

所以你有你自己的`own::Node`派生自`ai::Agent`和`geo::Point`。

这是您应该问自己是否不应该改用构图的时候。如果`own::Node`真的真的是 a`ai::Agent`和 a `geo::Point`，那么组合就不行了。

然后你需要多重继承，让你`own::Node`根据他们在 3D 空间中的位置与其他代理进行通信。

*（您会注意到`ai::Agent`并且`geo::Point`完全、完全、完全不相关......这大大降低了多重继承的危险）*

### 其他情况（编辑 2017-05-03）

还有其他情况：

*   使用（希望是私有的）继承作为实现细节
*   一些像策略这样的 C++ 习惯用法可以使用多重继承（当每个部分都需要通过 与其他部分进行通信时`this`）
*   来自 std::exception 的虚拟继承（[异常需要虚拟继承吗？](https://stackoverflow.com/questions/5874255/)）
*   等等

有时你可以使用组合，有时 MI 更好。关键是：你有选择。负责任地做（并审查您的代码）。

## 5\. 那么，我应该做多重继承吗？

大多数时候，根据我的经验，不会。MI 不是正确的工具，即使它看起来很有效，因为它可以被懒惰的人用来在没有意识到后果的情况下将功能堆在一起（比如`Car`同时制作 an`Engine`和 a `Wheel`）。

但有时，是的。到那时，没有什么比 MI 更有效了。

但是因为 MI 很臭，准备好在代码审查中捍卫你的架构（捍卫它是一件好事，因为如果你不能捍卫它，那么你不应该这样做）。

* * *

## 回答 #2

> 赞同：147
> 
> 时间：2009-01-02T20:05:37.280

来自对[Bj​​arne Stroustrup 的采访](http://www.artima.com/intv/modern.html)：

> 人们非常正确地说你不需要多重继承，因为你可以用多重继承做任何事情，你也可以用单一继承做。您只需使用我提到的委托技巧。此外，您根本不需要任何继承，因为您对单继承所做的任何事情都可以通过类转发而无需继承。实际上，您也不需要任何类，因为您可以使用指针和数据结构来完成这一切。但是你为什么要这样做呢？什么时候方便使用语言设施？您什么时候更喜欢解决方法？我见过多重继承很有用的案例，我什至见过相当复杂的多重继承很有用的案例。通常，我更喜欢使用该语言提供的功能来解决问题

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2009-01-02T05:18:40.950

没有理由避免它，它在某些情况下非常有用。但是，您需要注意潜在的问题。

最大的是死亡钻石：

```
class GrandParent;
class Parent1 : public GrandParent;
class Parent2 : public GrandParent;
class Child : public Parent1, public Parent2; 
```

您现在在 Child 中有两个 GrandParent 的“副本”。

C++ 已经想到了这一点，并允许您进行虚拟继承来解决这些问题。

```
class GrandParent;
class Parent1 : public virtual GrandParent;
class Parent2 : public virtual GrandParent;
class Child : public Parent1, public Parent2; 
```

始终检查您的设计，确保您没有使用继承来节省数据重用。如果你可以用组合来表示相同的东西（通常你可以），这是一个更好的方法。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2009-01-02T05:18:39.607

请参阅 w：[多重继承](http://en.wikipedia.org/wiki/Multiple_inheritance)。

> 多重继承受到了批评，因此并没有在许多语言中实现。批评包括：
> 
> *   复杂性增加
> *   语义歧义常常被概括为[菱形问题](http://en.wikipedia.org/wiki/Diamond_problem)。
> *   无法从单个类显式继承多次
> *   继承顺序改变类语义。
> 
> 具有 C++/Java 风格构造函数的语言中的多重继承加剧了构造函数和构造函数链的继承问题，从而在这些语言中产生了维护和可扩展性问题。在构造函数链范式下，具有极大不同构造方法的继承关系中的对象很难实现。

解决此问题的现代方法是使用 COM 和 Java 接口等接口（纯抽象类）。

> 我可以做其他事情来代替这个吗？

是的你可以。我要从[GoF](https://rads.stackoverflow.com/amzn/click/com/0201633612)偷东西。

*   编程到接口，而不是实现
*   更喜欢组合而不是继承

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2009-01-02T20:37:50.367

公共继承是一种 IS-A 关系，有时一个类会是几个不同类的一个类型，有时反映这一点很重要。

“混合”有时也很有用。它们通常是小类，通常不继承任何东西，提供有用的功能。

只要继承层次结构相当浅（几乎总是应该如此）并且管理良好，您就不太可能获得可怕的菱形继承。菱形并不是所有使用多重继承的语言都存在的问题，但是 C++ 对它的处理常常很尴尬，有时甚至令人费解。

虽然我遇到过多重继承非常方便的情况，但它们实际上相当罕见。这可能是因为当我并不真正需要多重继承时，我更喜欢使用其他设计方法。我确实更喜欢避免混淆语言结构，并且很容易构建继承案例，您必须仔细阅读手册才能弄清楚发生了什么。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2009-01-02T05:19:35.020

您不应该“避免”多重继承，但您应该注意可能出现的问题，例如“钻石问题”（[http://en.wikipedia.org/wiki/Diamond_problem](http://en.wikipedia.org/wiki/Diamond_problem)），并谨慎对待赋予您的权力，正如你应该拥有的所有权力。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2009-01-02T05:20:38.527

你应该小心使用它，在某些情况下，比如[钻石问题](http://en.wikipedia.org/wiki/Diamond_problem)，事情会变得复杂。

[![替代文字](https://i.stack.imgur.com/DbexT.gif)](https://i.stack.imgur.com/DbexT.gif)
[（来源：[learncpp.com](http://www.learncpp.com/images/CppTutorial/Section11/PoweredDevice.gif)）]

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2014-02-13T12:06:54.507

冒着有点抽象的风险，我发现在范畴论的框架内思考继承是很有启发性的。

如果我们认为我们所有的类和它们之间的箭头表示继承关系，那么像这样

```
A --> B 
```

表示`class B`源自`class A`。请注意，给定

```
A --> B, B --> C 
```

我们说 C 派生自 B，B 派生自 A，因此 C 也称为派生自 A，因此

```
A --> C 
```

此外，我们说对于从 派生的每个类`A`，因此我们的继承模型满足类别的定义。在更传统的语言中，我们有一个类别，其中包含所有类和态射的继承关系。`A``A``Class`

这是一些设置，但让我们来看看我们的Diamond of Doom：

```
C --> D
^     ^
|     |
A --> B 
```

这是一个看起来很阴暗的图表，但它会做。所以`D`继承自所有`A`,`B`和`C`. 此外，为了更接近解决 OP 的问题，它`D`也继承自`A`. 我们可以画个图

```
C --> D --> R
^     ^
|     |
A --> B
^ 
|
Q 
```

`C`现在，与死亡钻石相关的问题是何时`B`共享一些属性/方法名称，并且事情变得模棱两可；但是，如果我们将任何共享行为移入`A`其中，那么歧义就会消失。

用分类术语来说，我们希望`A`,`B`和`C`使得 if`B`和`C`inherit from `Q`then`A`可以重写为 的子类`Q`。这就产生`A`了一种叫做[pushout](http://en.wikipedia.org/wiki/Pushout_%28category_theory%29)的东西。

还有一个对称的结构，`D`称为[回调](http://en.wikipedia.org/wiki/Pullback_%28category_theory%29)。这本质上是您可以构造的最通用的有用类，它继承自`B`和`C`。也就是说，如果您有任何其他类`R`乘以继承自`B`and `C`，那么`D`是一个`R`可以重写为 的子类的类`D`。

确保您的钻石尖端是回调和推出，这为我们提供了一种很好的方式来处理可能出现的名称冲突或维护问题。

**注意** [Paercebal](https://stackoverflow.com/users/14089/paercebal)的[回答](https://stackoverflow.com/a/407928/1455582)激发了这一点，因为上述模型暗示了他的警告，因为我们在所有可能类的完整类别 Class 中工作。

我想将他的论点概括为一些东西，它表明复杂的多重继承关系既强大又没有问题。

**TL;DR**将程序中的继承关系视为一个类别。然后，您可以通过将多重继承的类推出和对称地制作一个共同的父类来避免Diamond of Doom 问题，这是一个回调。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2015-06-29T15:40:04.187

We use Eiffel. We have excellent MI. No worries. No issues. Easily managed. There are times to NOT use MI. However, it useful more than people realize because they are: A) in a dangerous language that does not manage it well -OR- B) satisfied with how they've worked around MI for years and years -OR- C) other reasons (too numerous to list I am quite sure--see answers above).

对我们来说，使用 Eiffel，MI 和其他任何东西一样自然，是工具箱中的另一个好工具。坦率地说，我们并不担心没有其他人在使用 Eiffel。不用担心。我们对我们拥有的东西很满意，并邀请您来看看。

在您查看时：特别注意 Void 安全性和消除 Null 指针取消引用。当我们都在 MI 周围跳舞时，您的指针正在丢失！:-)

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2014-07-22T17:21:47.387

每种编程语言对面向对象编程的处理方式略有不同，各有优缺点。C++ 的版本将重点放在性能上，并有一个缺点，那就是编写无效代码非常容易令人不安——多重继承也是如此。因此，有一种趋势是引导程序员远离这个特性。

其他人已经解决了多重继承不适合的问题。但我们看到不少评论或多或少暗示避免它的原因是因为它不安全。嗯，是的，也不是。

正如在 C++ 中经常发生的那样，如果您遵循基本准则，您可以安全地使用它，而不必经常“回头看”。关键思想是区分一种特殊的类定义，称为“混入”；如果类的所有成员函数都是虚拟的（或纯虚拟的），则该类是一个混合。然后，您可以从单个主类和任意数量的“mix-ins”继承 - 但您应该使用关键字“virtual”继承 mixins。例如

```
class CounterMixin {
    int count;
public:
    CounterMixin() : count( 0 ) {}
    virtual ~CounterMixin() {}
    virtual void increment() { count += 1; }
    virtual int getCount() { return count; }
};

class Foo : public Bar, virtual public CounterMixin { ..... }; 
```

我的建议是，如果您打算将一个类用作混合类，您还可以采用命名约定，以便任何阅读代码的人都可以轻松查看正在发生的事情并验证您是否按照基本指南的规则进行游戏. 如果你的 mix-ins 也有默认构造函数，你会发现它会更好，这只是因为虚拟基类的工作方式。并且记得让所有的析构函数也变成虚拟的。

请注意，我在这里使用的“混合”一词与参数化模板类不同（请参阅[此链接](http://www.thinkbottomup.com.au/site/blog/C%20%20_Mixins_-_Reuse_through_inheritance_is_good)以获得良好的解释），但我认为这是对术语的合理使用。

现在我不想给人的印象是这是安全使用多重继承的唯一方法。这只是一种相当容易检查的方法。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2009-01-02T05:19:44.817

[继承的使用和滥用。](http://www.gotw.ca/publications/mill06.htm)

这篇文章很好地解释了继承，这是危险的。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2009-01-02T05:59:07.513

除了菱形模式之外，多重继承往往使对象模型更难理解，这反过来又增加了维护成本。

作文本质上很容易理解、理解和解释。编写代码可能会很乏味，但是一个好的 IDE（我使用 Visual Studio 已经有几年了，但 Java IDE 肯定都有很好的组合快捷自动化工具）应该可以帮助你克服这个障碍。

此外，在维护方面，“钻石问题”也出现在非文字继承实例中。例如，如果你有 A 和 B 并且你的类 C 扩展了它们，并且 A 有一个 'makeJuice' 方法来制作橙汁，然后你扩展它来制作带有酸橙汁的橙汁：当 ' 的设计师B'添加了一个'makeJuice'方法来产生电流？“A”和“B”*现在*可能是兼容的“父母” ，但这并不意味着他们永远都是这样！

总体而言，倾向于避免继承，尤其是多重继承的准则是合理的。正如所有格言一样，有例外，但您需要确保有一个闪烁的绿色霓虹灯指示您编码的任何异常（并训练您的大脑，以便任何时候看到这样的继承树时，您都可以在自己闪烁的绿色霓虹灯中绘制签名），并且您每隔一段时间检查一下以确保一切都有意义。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2014-08-07T06:16:30.843

具体对象的 MI 的关键问题是，您很少有一个合法地应该“成为 A 并且成为 B”的对象，因此从逻辑上讲它很少是正确的解决方案。更常见的是，您有一个对象 C 遵循“C 可以充当 A 或 B”，您可以通过接口继承和组合来实现。但是不要误会——多个接口的继承仍然是 MI，只是它的一个子集。

特别是对于 C++，该功能的主要弱点不是多重继承的实际存在，而是它允许的一些几乎总是格式错误的构造。例如，继承同一对象的多个副本，例如：

```
class B : public A, public A {}; 
```

is malformed BY DEFINITION. Translated into English this is "B is an A and an A". So, even in human language there's a severe ambiguity. Did you mean "B has 2 As" or just "B is an A"?. Allowing such pathological code, and worse making it a usage example, did C++ no favors when it came to making a case for keeping the feature in successor languages.

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2009-01-02T05:18:55.800

您可以优先使用组合而不是继承。

总体感觉是构图比较好，讨论的很好。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2009-01-02T13:52:12.743

每个涉及的类需要 4/8 个字节。（每个类一个 this 指针）。

这可能永远不会成为问题，但如果有一天你有一个被实例化数十亿次的微数据结构，它将会是。

# asp.net-mvc - 如何在 ASP.NET MVC 控制器中读取 GlobalResources？

> ID：406083
> 
> 赞同：4
> 
> 时间：2009-01-02T05:11:50.683
> 
> 标签：asp.net-mvc

我找不到在控制器中读取资源值的方法

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T05:46:08.523

如果您指的是存储在 App_GlobalResources 中的字符串资源，那么您可以添加一个

```
using Resources; 
```

并通过

```
Strings.<name of resource> 
```

或使用

```
Resources.Strings.<name of resource> 
```

# javascript - 各种 Javascript 优化项目如何影响 DOM 性能？

> ID：406097
> 
> 赞同：5
> 
> 时间：2009-01-02T05:19:06.363
> 
> 标签：javascript, dom, v8, tracemonkey, squirrelfish

通过 Tracemonkey、Squirrelfish 和 V8 项目，有很多大写 C、大写 S 的计算机科学进入 Javascript。这些项目（或其他项目）中的任何一个都解决了 DOM 操作的性能问题，还是纯粹与 Javascript 计算相关？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-01-02T08:42:34.547

纯 DOM 操作（getElementById/Tagname/Selector、nextChild 等）的性能不受影响，因为它们已经在纯 C++ 中。

JS 引擎的改进将如何影响性能确实在一定程度上取决于用于性能改进的特定技术，以及 DOM->JS 桥的性能。

前者的一个例子是 TraceMonkey 对所有对 JS 函数的调用的依赖。因为在 JS 遇到无法内联的代码（本机代码、真正的多态递归、异常处理程序）的任何点，跟踪都有效地内联了执行路径，所以跟踪被中止，执行回退到解释器。TM 开发人员正在做大量工作来改进可跟踪的代码量（包括处理多态递归），但实际跟踪对任意本机函数（例如 DOM）的调用是不可行的。出于这个原因，我相信他们正在考虑在 JS 中实现更多的 DOM（或者至少以 JS 友好的方式）。也就是说，当代码可追溯时，TM 可以做得非常好，因为它可以降低大多数“对象”

JavaScriptCore（这是 SquirrelFish Extreme 所在的地方）和 V8 有一个更相似的方法，因为它们都立即 JIT 所有 JS 代码并生成更具推测性的代码（例如，如果您正在这样做`a*b`，它们生成的代码假定`a`并且`b`是数字并回退如果不是，则代码异常缓慢）。与跟踪相比，这有很多好处，即您可以 jit 所有代码，无论它是否调用本机代码/抛出异常等，这意味着单个 DOM 调用不会破坏性能。缺点是所有代码都是推测性的——TM*将*内联对 Math.floor 等的调用，但 JSC/V8 可以做的最好的将等同于`a=Math.floor(0.5)`->`a=(Math.floor == realFloor) ? inline : Math.floor(0.5)`这在性能和内存使用方面都有成本，也不是特别可行。这样做的原因是预先编译，而 TM 仅在运行后 JIT 代码（因此确切知道调用了什么函数）JSC 和 V8 没有做出这种假设的真实基础，基本上必须猜测（目前也没有尝试这）。V8 和 JSC 试图弥补这个问题的一件事是跟踪他们过去看到的并将其合并到执行路径中，两者都使用组合技术来执行此缓存，在特别热门的情况下它们重写指令流的一小部分，在其他情况下，它们保留带外缓存。一般来说，如果你有代码

```
a.x * a.y 
```

V8 和 JSC 将检查“隐式类型”/“结构”两次——每次访问一次，然后检查`a.x`和`a.y`都是数字，而 TM 将生成`a`只检查一次类型的代码，并且可以（所有事情都是相等）只是相乘`a.x`而不`a.y`检查它们是否是数字。

如果您目前正在查看纯粹的执行速度，那么就会出现好坏参半的情况，因为每个引擎在某些任务上确实比其他引擎做得更好——TraceMonkey 在许多纯数学测试中获胜，V8 在高度动态的情况下获胜，JSC 获胜，如果有的话混合物。当然，虽然今天确实如此，但明天可能不会，因为我们都在努力提高性能。

我提到的另一个问题是 DOM<->JS 绑定成本——这实际上可以在 Web 性能中发挥非常重要的作用，最好的例子是 Dromaeo 基准测试中的 Safari 3.1/2 与 Chrome。Chrome 基于 WebKit 的 Safari 3.1/2 分支，因此假设类似的 DOM 性能是相当安全的（编译器差异可能会导致某种程度的差异）。在这个基准测试中，Safari 3.1/2 实际上击败了 Chrome，尽管 JS 引擎显然要慢得多，这基本上是由于 JSC/WebCore（WebKit 的 dom/rendering/etc）和 V8/WebCore 之间更有效的绑定

目前查看 TM 的 DOM 绑定似乎是不公平的，因为他们还没有完成他们想做的所有工作（唉）所以他们只是依靠解释器:-(

..

Errmmm，这比预期的要长一些，所以对原始问题的简短回答是“这取决于”：D

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T06:22:56.233

它们是纯 JavaScript。*除非在*JS中实现了特定的 DOM 方法调用，否则它们几乎没有效果（但并不是说还没有减少此类调用的*开销*）。

~~DOM 优化是一个完整的“松鼠~~ ~~猴~~ ~~蜘蛛~~鱼”的另一锅......布局甚至渲染引擎都在发挥作用，每个浏览器都有自己的实现和优化策略。

# python - 在 Python 中展平一个浅列表

> ID：406121
> 
> 赞同：416
> 
> 时间：2009-01-02T05:40:31.810
> 
> 标签：python, list-comprehension

有没有一种简单的方法可以通过列表理解来展平可迭代列表，或者如果失败了，你们都认为什么是展平这样的浅表、平衡性能和可读性的最佳方法？

我试图用嵌套列表理解来展平这样的列表，如下所示：

```
[image for image in menuitem for menuitem in list_of_menuitems] 
```

但我在`NameError`那里遇到了各种各样的麻烦，因为`name 'menuitem' is not defined`. 在谷歌搜索并在 Stack Overflow 上环顾四周后，我得到了预期的结果，并附有以下`reduce`声明：

```
reduce(list.__add__, map(lambda x: list(x), list_of_menuitems)) 
```

但是这个方法相当不可读，因为我需要那个`list(x)`调用，因为 x 是一个 Django`QuerySet`对象。

**结论**：

感谢所有为这个问题做出贡献的人。这里是我学到的总结。如果其他人想要添加或更正这些观察结果，我也将其设为社区 wiki。

我原来的 reduce 语句是多余的，最好这样写：

```
>>> reduce(list.__add__, (list(mi) for mi in list_of_menuitems)) 
```

这是嵌套列表理解的正确语法（Brilliant summary [dF](https://stackoverflow.com/users/3002/df)！）：

```
>>> [image for mi in list_of_menuitems for image in mi] 
```

但是这些方法都没有使用效率高`itertools.chain`：

```
>>> from itertools import chain
>>> list(chain(*list_of_menuitems)) 
```

正如@cdleary 所指出的，使用这样的方式来避免 * 运算符魔法可能是更好的风格`chain.from_iterable`：

```
>>> chain = itertools.chain.from_iterable([[1,2],[3],[5,89],[],[6]])
>>> print(list(chain))
>>> [1, 2, 3, 5, 89, 6] 
```

* * *

## 回答 #1

> 赞同：323
> 
> 时间：2009-01-02T06:49:50.437

如果您只是想迭代数据结构的扁平版本并且不需要可索引的序列，请考虑[itertools.chain 和 company](http://docs.python.org/library/itertools.html#itertools.chain)。

```
>>> list_of_menuitems = [['image00', 'image01'], ['image10'], []]
>>> import itertools
>>> chain = itertools.chain(*list_of_menuitems)
>>> print(list(chain))
['image00', 'image01', 'image10'] 
```

它将适用于任何可迭代的东西，其中应包括 Django 的 iterable `QuerySet`s，您似乎在问题中使用了它。

**编辑：**无论如何，这可能与 reduce 一样好，因为 reduce 将项目复制到正在扩展的列表中的开销相同。`chain`如果你在最后运行，只会产生这个（相同的）开销`list(chain)`。

**元编辑：**实际上，它的开销比问题提出的解决方案要少，因为当您使用临时列表扩展原始列表时，您会丢弃创建的临时列表。

**编辑：**正如[JF Sebastian 所说，](https://stackoverflow.com/questions/406121/flattening-a-shallow-list-in-python#411548) `itertools.chain.from_iterable`避免拆包，您应该使用它来避免`*`魔法，但[timeit 应用程序](https://stackoverflow.com/questions/406121/flattening-a-shallow-list-in-python#408281)显示的性能差异可以忽略不计。

* * *

## 回答 #2

> 赞同：290
> 
> 时间：2009-01-02T08:30:21.937

你几乎拥有它！[进行嵌套列表推导](http://docs.python.org/tutorial/datastructures.html#nested-list-comprehensions)的方法是将`for`语句按照与常规嵌套语句中相同的顺序放置`for`。

因此，这

```
for inner_list in outer_list:
    for item in inner_list:
        ... 
```

对应于

```
[... for inner_list in outer_list for item in inner_list] 
```

所以你要

```
[image for menuitem in list_of_menuitems for image in menuitem] 
```

* * *

## 回答 #3

> 赞同：130
> 
> 时间：2009-01-02T23:16:43.820

[@S.Lott](https://stackoverflow.com/questions/406121/flattening-a-shallow-list-in-python#406622)：你启发了我编写一个 timeit 应用程序。

我认为它也会根据分区数量（容器列表中的迭代器数量）而有所不同——您的评论没有提到三十个项目中有多少个分区。该图在每次运行中都会展平一千个项目，分区数量不同。项目在分区之间均匀分布。

![展平比较](https://lh4.ggpht.com/_t58Xs7CN35o/SWFNN5Z_Q1I/AAAAAAAABPs/ewrRhthazfs/s400/Flatten%20with%20Itertools%20Iterable%201000%20Items.png)

代码（Python 2.6）：

```
#!/usr/bin/env python2.6

"""Usage: %prog item_count"""

from __future__ import print_function

import collections
import itertools
import operator
from timeit import Timer
import sys

import matplotlib.pyplot as pyplot

def itertools_flatten(iter_lst):
    return list(itertools.chain(*iter_lst))

def itertools_iterable_flatten(iter_iter):
    return list(itertools.chain.from_iterable(iter_iter))

def reduce_flatten(iter_lst):
    return reduce(operator.add, map(list, iter_lst))

def reduce_lambda_flatten(iter_lst):
    return reduce(operator.add, map(lambda x: list(x), [i for i in iter_lst]))

def comprehension_flatten(iter_lst):
    return list(item for iter_ in iter_lst for item in iter_)

METHODS = ['itertools', 'itertools_iterable', 'reduce', 'reduce_lambda',
           'comprehension']

def _time_test_assert(iter_lst):
    """Make sure all methods produce an equivalent value.
    :raise AssertionError: On any non-equivalent value."""
    callables = (globals()[method + '_flatten'] for method in METHODS)
    results = [callable(iter_lst) for callable in callables]
    if not all(result == results[0] for result in results[1:]):
        raise AssertionError

def time_test(partition_count, item_count_per_partition, test_count=10000):
    """Run flatten methods on a list of :param:`partition_count` iterables.
    Normalize results over :param:`test_count` runs.
    :return: Mapping from method to (normalized) microseconds per pass.
    """
    iter_lst = [[dict()] * item_count_per_partition] * partition_count
    print('Partition count:    ', partition_count)
    print('Items per partition:', item_count_per_partition)
    _time_test_assert(iter_lst)
    test_str = 'flatten(%r)' % iter_lst
    result_by_method = {}
    for method in METHODS:
        setup_str = 'from test import %s_flatten as flatten' % method
        t = Timer(test_str, setup_str)
        per_pass = test_count * t.timeit(number=test_count) / test_count
        print('%20s: %.2f usec/pass' % (method, per_pass))
        result_by_method[method] = per_pass
    return result_by_method

if __name__ == '__main__':
    if len(sys.argv) != 2:
        raise ValueError('Need a number of items to flatten')
    item_count = int(sys.argv[1])
    partition_counts = []
    pass_times_by_method = collections.defaultdict(list)
    for partition_count in xrange(1, item_count):
        if item_count % partition_count != 0:
            continue
        items_per_partition = item_count / partition_count
        result_by_method = time_test(partition_count, items_per_partition)
        partition_counts.append(partition_count)
        for method, result in result_by_method.iteritems():
            pass_times_by_method[method].append(result)
    for method, pass_times in pass_times_by_method.iteritems():
        pyplot.plot(partition_counts, pass_times, label=method)
    pyplot.legend()
    pyplot.title('Flattening Comparison for %d Items' % item_count)
    pyplot.xlabel('Number of Partitions')
    pyplot.ylabel('Microseconds')
    pyplot.show() 
```

**编辑：**决定使它成为社区维基。

**注意：** `METHODS`可能应该与装饰器一起积累，但我认为人们这样阅读会更容易。

* * *

## 回答 #4

> 赞同：53
> 
> 时间：2014-02-27T19:03:12.740

`sum(list_of_lists, [])`会把它弄平。

```
l = [['image00', 'image01'], ['image10'], []]
print sum(l,[]) # prints ['image00', 'image01', 'image10'] 
```

* * *

## 回答 #5

> 赞同：41
> 
> 时间：2009-01-02T13:49:57.287

该解决方案适用于任意嵌套深度 - 不仅仅是“列表列表”深度，其他一些（全部？）解决方案仅限于：

```
def flatten(x):
    result = []
    for el in x:
        if hasattr(el, "__iter__") and not isinstance(el, basestring):
            result.extend(flatten(el))
        else:
            result.append(el)
    return result 
```

这是允许任意深度嵌套的递归 - 当然，直到你达到最大递归深度......

* * *

## 回答 #6

> 赞同：25
> 
> 时间：2009-01-04T19:37:56.397

在 Python 2.6 中，使用[`chain.from_iterable()`](http://docs.python.org/library/itertools.html#itertools.itertools.chain.from_iterable)：

```
>>> from itertools import chain
>>> list(chain.from_iterable(mi.image_set.all() for mi in h.get_image_menu())) 
```

它避免了创建中间列表。

* * *

## 回答 #7

> 赞同：24
> 
> 时间：2009-01-02T12:13:08.810

性能结果。修改。

```
import itertools
def itertools_flatten( aList ):
    return list( itertools.chain(*aList) )

from operator import add
def reduce_flatten1( aList ):
    return reduce(add, map(lambda x: list(x), [mi for mi in aList]))

def reduce_flatten2( aList ):
    return reduce(list.__add__, map(list, aList))

def comprehension_flatten( aList ):
    return list(y for x in aList for y in x) 
```

我将 30 个项目的 2 级列表展平了 1000 次

```
itertools_flatten     0.00554
comprehension_flatten 0.00815
reduce_flatten2       0.01103
reduce_flatten1       0.01404 
```

减少总是一个糟糕的选择。

* * *

## 回答 #8

> 赞同：16
> 
> 时间：2014-10-06T21:54:10.520

似乎与`operator.add`! 当您将两个列表相加时，正确的术语是`concat`, not add。`operator.concat`是你需要使用的。

如果您正在考虑功能，它就像这样简单::

```
>>> list2d = ((1,2,3),(4,5,6), (7,), (8,9))
>>> reduce(operator.concat, list2d)
(1, 2, 3, 4, 5, 6, 7, 8, 9) 
```

你看到 reduce 尊重序列类型，所以当你提供一个元组时，你会得到一个元组。让我们尝试一个列表::

```
>>> list2d = [[1,2,3],[4,5,6], [7], [8,9]]
>>> reduce(operator.concat, list2d)
[1, 2, 3, 4, 5, 6, 7, 8, 9] 
```

啊哈，你拿回了一份清单。

性能怎么样::

```
>>> list2d = [[1,2,3],[4,5,6], [7], [8,9]]
>>> %timeit list(itertools.chain.from_iterable(list2d))
1000000 loops, best of 3: 1.36 µs per loop 
```

from_iterable 非常快！但是用 concat 来减少是没有可比性的。

```
>>> list2d = ((1,2,3),(4,5,6), (7,), (8,9))
>>> %timeit reduce(operator.concat, list2d)
1000000 loops, best of 3: 492 ns per loop 
```

* * *

## 回答 #9

> 赞同：8
> 
> 时间：2009-01-02T05:55:01.423

在我的脑海中，您可以消除 lambda：

```
reduce(list.__add__, map(list, [mi.image_set.all() for mi in list_of_menuitems])) 
```

甚至消除地图，因为您已经有了一个列表组合：

```
reduce(list.__add__, [list(mi.image_set.all()) for mi in list_of_menuitems]) 
```

您也可以将其表示为列表的总和：

```
sum([list(mi.image_set.all()) for mi in list_of_menuitems], []) 
```

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2009-01-02T07:33:49.680

这是使用列表推导的正确解决方案（它们在问题中落后）：

```
>>> join = lambda it: (y for x in it for y in x)
>>> list(join([[1,2],[3,4,5],[]]))
[1, 2, 3, 4, 5] 
```

在你的情况下，它会是

```
[image for menuitem in list_of_menuitems for image in menuitem.image_set.all()] 
```

或者你可以使用`join`并说

```
join(menuitem.image_set.all() for menuitem in list_of_menuitems) 
```

`for`在任何一种情况下，问题都是循环的嵌套。

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2013-12-23T09:33:20.223

这个版本是一个生成器。如果你想要一个列表，可以调整它。

```
def list_or_tuple(l):
    return isinstance(l,(list,tuple))
## predicate will select the container  to be flattened
## write your own as required
## this one flattens every list/tuple

def flatten(seq,predicate=list_or_tuple):        
    ## recursive generator 
    for i in seq:
        if predicate(seq):
            for j in flatten(i):
                yield j
        else:
            yield i 
```

您可以添加一个谓词，如果想要展平满足条件的那些

取自 python 食谱

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2014-12-15T06:03:05.087

这是一个适用于多个级别列表的版本，使用`collectons.Iterable`：

```
import collections

def flatten(o, flatten_condition=lambda i: isinstance(i,
               collections.Iterable) and not isinstance(i, str)):
    result = []
    for i in o:
        if flatten_condition(i):
            result.extend(flatten(i, flatten_condition))
        else:
            result.append(i)
    return result 
```

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2015-04-12T01:05:48.887

如果您必须使用不可迭代的元素或深度超过 2 的更复杂的列表来展开更复杂的列表，您可以使用以下函数：

```
def flat_list(list_to_flat):
    if not isinstance(list_to_flat, list):
        yield list_to_flat
    else:
        for item in list_to_flat:
            yield from flat_list(item) 
```

它将返回一个生成器对象，您可以将其转换为带有`list()`函数的列表。请注意，`yield from`从 python3.3 开始可以使用语法，但您可以改用显式迭代。
例子：

```
>>> a = [1, [2, 3], [1, [2, 3, [1, [2, 3]]]]]
>>> print(list(flat_list(a)))
[1, 2, 3, 1, 2, 3, 1, 2, 3] 
```

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2013-12-05T12:54:01.770

你试过扁平化吗？来自[matplotlib.cbook.flatten(seq, scalarp=)](http://matplotlib.org/api/cbook_api.html)？

```
l=[[1,2,3],[4,5,6], [7], [8,9]]*33

run("list(flatten(l))")
         3732 function calls (3303 primitive calls) in 0.007 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.007    0.007 <string>:1(<module>)
      429    0.001    0.000    0.001    0.000 cbook.py:475(iterable)
      429    0.002    0.000    0.003    0.000 cbook.py:484(is_string_like)
      429    0.002    0.000    0.006    0.000 cbook.py:565(is_scalar_or_string)
  727/298    0.001    0.000    0.007    0.000 cbook.py:605(flatten)
      429    0.000    0.000    0.001    0.000 core.py:5641(isMaskedArray)
      858    0.001    0.000    0.001    0.000 {isinstance}
      429    0.000    0.000    0.000    0.000 {iter}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*66

run("list(flatten(l))")
         7461 function calls (6603 primitive calls) in 0.007 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.007    0.007 <string>:1(<module>)
      858    0.001    0.000    0.001    0.000 cbook.py:475(iterable)
      858    0.002    0.000    0.003    0.000 cbook.py:484(is_string_like)
      858    0.002    0.000    0.006    0.000 cbook.py:565(is_scalar_or_string)
 1453/595    0.001    0.000    0.007    0.000 cbook.py:605(flatten)
      858    0.000    0.000    0.001    0.000 core.py:5641(isMaskedArray)
     1716    0.001    0.000    0.001    0.000 {isinstance}
      858    0.000    0.000    0.000    0.000 {iter}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*99

run("list(flatten(l))")
         11190 function calls (9903 primitive calls) in 0.010 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.010    0.010 <string>:1(<module>)
     1287    0.002    0.000    0.002    0.000 cbook.py:475(iterable)
     1287    0.003    0.000    0.004    0.000 cbook.py:484(is_string_like)
     1287    0.002    0.000    0.009    0.000 cbook.py:565(is_scalar_or_string)
 2179/892    0.001    0.000    0.010    0.000 cbook.py:605(flatten)
     1287    0.001    0.000    0.001    0.000 core.py:5641(isMaskedArray)
     2574    0.001    0.000    0.001    0.000 {isinstance}
     1287    0.000    0.000    0.000    0.000 {iter}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*132

run("list(flatten(l))")
         14919 function calls (13203 primitive calls) in 0.013 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.013    0.013 <string>:1(<module>)
     1716    0.002    0.000    0.002    0.000 cbook.py:475(iterable)
     1716    0.004    0.000    0.006    0.000 cbook.py:484(is_string_like)
     1716    0.003    0.000    0.011    0.000 cbook.py:565(is_scalar_or_string)
2905/1189    0.002    0.000    0.013    0.000 cbook.py:605(flatten)
     1716    0.001    0.000    0.001    0.000 core.py:5641(isMaskedArray)
     3432    0.001    0.000    0.001    0.000 {isinstance}
     1716    0.001    0.000    0.001    0.000 {iter}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' 
```

**更新** 这给了我另一个想法：

```
l=[[1,2,3],[4,5,6], [7], [8,9]]*33

run("flattenlist(l)")
         564 function calls (432 primitive calls) in 0.000 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    133/1    0.000    0.000    0.000    0.000 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.000    0.000    0.000    0.000 <string>:1(<module>)
      429    0.000    0.000    0.000    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*66

run("flattenlist(l)")
         1125 function calls (861 primitive calls) in 0.001 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    265/1    0.001    0.000    0.001    0.001 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.000    0.000    0.001    0.001 <string>:1(<module>)
      858    0.000    0.000    0.000    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*99

run("flattenlist(l)")
         1686 function calls (1290 primitive calls) in 0.001 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    397/1    0.001    0.000    0.001    0.001 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.000    0.000    0.001    0.001 <string>:1(<module>)
     1287    0.000    0.000    0.000    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*132

run("flattenlist(l)")
         2247 function calls (1719 primitive calls) in 0.002 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    529/1    0.001    0.000    0.002    0.002 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.000    0.000    0.002    0.002 <string>:1(<module>)
     1716    0.001    0.000    0.001    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

l=[[1,2,3],[4,5,6], [7], [8,9]]*1320

run("flattenlist(l)")
         22443 function calls (17163 primitive calls) in 0.016 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
   5281/1    0.011    0.000    0.016    0.016 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.000    0.000    0.016    0.016 <string>:1(<module>)
    17160    0.005    0.000    0.005    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects} 
```

所以要测试当递归变得更深时它的有效性：有多深？

```
l=[[1,2,3],[4,5,6], [7], [8,9]]*1320

new=[l]*33

run("flattenlist(new)")
         740589 function calls (566316 primitive calls) in 0.418 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
 174274/1    0.281    0.000    0.417    0.417 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.001    0.001    0.418    0.418 <string>:1(<module>)
   566313    0.136    0.000    0.136    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

new=[l]*66

run("flattenlist(new)")
         1481175 function calls (1132629 primitive calls) in 0.809 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
 348547/1    0.542    0.000    0.807    0.807 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.002    0.002    0.809    0.809 <string>:1(<module>)
  1132626    0.266    0.000    0.266    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

new=[l]*99

run("flattenlist(new)")
         2221761 function calls (1698942 primitive calls) in 1.211 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
 522820/1    0.815    0.000    1.208    1.208 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.002    0.002    1.211    1.211 <string>:1(<module>)
  1698939    0.393    0.000    0.393    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

new=[l]*132

run("flattenlist(new)")
         2962347 function calls (2265255 primitive calls) in 1.630 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
 697093/1    1.091    0.000    1.627    1.627 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.003    0.003    1.630    1.630 <string>:1(<module>)
  2265252    0.536    0.000    0.536    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}

new=[l]*1320

run("flattenlist(new)")
         29623443 function calls (22652523 primitive calls) in 16.103 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
6970921/1   10.842    0.000   16.069   16.069 <ipython-input-55-39b139bad497>:4(flattenlist)
        1    0.034    0.034   16.103   16.103 <string>:1(<module>)
 22652520    5.227    0.000    5.227    0.000 {isinstance}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects} 
```

我敢打赌“flattenlist”我将使用它而不是 matploblib 很长一段时间，除非我想要一个产量生成器和快速结果，因为 matploblib.cbook 中的“flatten”使用

这个，很快。

*   **这是代码**

：

```
typ=(list,tuple)

def flattenlist(d):
    thelist = []
    for x in d:
        if not isinstance(x,typ):
            thelist += [x]
        else:
            thelist += flattenlist(x)
    return thelist 
```

* * *

## 回答 #15

> 赞同：3
> 
> 时间：2014-01-20T15:19:35.770

根据我的经验，扁平化列表的最有效方法是：

```
flat_list = []
map(flat_list.extend, list_of_list) 
```

与其他建议方法的一些时间比较：

```
list_of_list = [range(10)]*1000
%timeit flat_list=[]; map(flat_list.extend, list_of_list)
#10000 loops, best of 3: 119 µs per loop
%timeit flat_list=list(itertools.chain.from_iterable(list_of_list))
#1000 loops, best of 3: 210 µs per loop
%timeit flat_list=[i for sublist in list_of_list for i in sublist]
#1000 loops, best of 3: 525 µs per loop
%timeit flat_list=reduce(list.__add__,list_of_list)
#100 loops, best of 3: 18.1 ms per loop 
```

现在，在处理较长的子列表时，效率增益似乎更好：

```
list_of_list = [range(1000)]*10
%timeit flat_list=[]; map(flat_list.extend, list_of_list)
#10000 loops, best of 3: 60.7 µs per loop
%timeit flat_list=list(itertools.chain.from_iterable(list_of_list))
#10000 loops, best of 3: 176 µs per loop 
```

此方法也适用于任何迭代对象：

```
class SquaredRange(object):
    def __init__(self, n): 
        self.range = range(n)
    def __iter__(self):
        for i in self.range: 
            yield i**2

list_of_list = [SquaredRange(5)]*3
flat_list = []
map(flat_list.extend, list_of_list)
print flat_list
#[0, 1, 4, 9, 16, 0, 1, 4, 9, 16, 0, 1, 4, 9, 16] 
```

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2016-04-05T13:28:16.377

```
def is_iterable(item):
   return isinstance(item, list) or isinstance(item, tuple)

def flatten(items):
    for i in items:
        if is_iterable(item):
            for m in flatten(i):
                yield m
        else:
            yield i 
```

测试：

```
print list(flatten2([1.0, 2, 'a', (4,), ((6,), (8,)), (((8,),(9,)), ((12,),(10)))])) 
```

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2009-01-02T06:28:58.843

关于什么：

```
from operator import add
reduce(add, map(lambda x: list(x.image_set.all()), [mi for mi in list_of_menuitems])) 
```

但是，Guido 建议不要在一行代码中执行太多，因为它会降低可读性。通过在单行与多行中执行您想要的操作，性能提升很小（如果有的话）。

* * *

## 回答 #18

> 赞同：2
> 
> 时间：2014-02-22T17:01:33.030

pylab 提供了一个 flatten： [链接到 numpy flatten](http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.flatten.html)

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2015-08-27T15:39:06.737

如果您正在寻找一种内置的、简单的、单线的，您可以使用：

```
a = [[1, 2, 3], [4, 5, 6]
b = [i[x] for i in a for x in range(len(i))]
print b 
```

返回

```
[1, 2, 3, 4, 5, 6] 
```

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2014-12-03T20:06:19.483

如果列表中的每个项目都是一个字符串（并且这些字符串中的任何字符串都使用“”而不是''），则可以使用正则表达式（`re`模块）

```
>>> flattener = re.compile("\'.*?\'")
>>> flattener
<_sre.SRE_Pattern object at 0x10d439ca8>
>>> stred = str(in_list)
>>> outed = flattener.findall(stred) 
```

上面的代码将 in_list 转换为字符串，使用正则表达式查找引号内的所有子字符串（即列表的每个项目）并将它们作为列表吐出。

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2015-10-14T08:29:29.143

一个简单的替代方法是使用[numpy 的连接](http://docs.scipy.org/doc/numpy/reference/generated/numpy.concatenate.html)，但它将内容转换为浮点数：

```
import numpy as np
print np.concatenate([[1,2],[3],[5,89],[],[6]])
# array([  1.,   2.,   3.,   5.,  89.,   6.])
print list(np.concatenate([[1,2],[3],[5,89],[],[6]]))
# [  1.,   2.,   3.,   5.,  89.,   6.] 
```

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2015-12-15T20:00:04.643

在 Python 2 或 3 中实现这一点的最简单方法是使用[morph](https://github.com/metagriffin/morph)库，使用`pip install morph`.

代码是：

```
import morph

list = [[1,2],[3],[5,89],[],[6]]
flattened_list = morph.flatten(list)  # returns [1, 2, 3, 5, 89, 6] 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2013-09-27T14:42:38.613

在[Python 3.4](http://www.python.org/dev/peps/pep-0448/)中，您将能够：

```
[*innerlist for innerlist in outer_list] 
```

# java - 集成测试外部库？

> ID：406129
> 
> 赞同：0
> 
> 时间：2009-01-02T05:46:29.443
> 
> 标签：java, testing, tdd, integration-testing

我在 java 项目中使用外部库，但我不确定如何使用我的代码对其进行集成测试。例如：假设我正在使用字符串加密库来加密密码。

请赐教。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T05:54:48.770

您可能正在考虑集成测试，而不是单元测试。通常我不会对不属于我自己的代码进行单元测试。我对集成测试所做的基本上是为我的代码编写类似于单元测试的测试，但不是模拟外部库——即直接使用它。您可能需要进行一些设置以创建测试环境，包括您要在测试中使用的任何数据，以在其中执行此操作。集成测试可能没有单元测试那么广泛，因为您实际上只需要测试执行外部功能的路径，而不一定是通过代码的所有路径。

# wix - 在不同的上下文中以普通用户身份从 MSI (wix) 执行进程

> ID：406133
> 
> 赞同：3
> 
> 时间：2009-01-02T05:48:46.410
> 
> 标签：wix, windows-installer, wix3

我正在尝试为我们在公司内部使用的某些软件配置安装程序。

安装程序通过 SMS 推送到目标机器，并执行以下步骤：

1.  终止任何当前正在运行的应用程序实例（该应用程序是一个实用程序，因此这不会对用户产生影响）。
2.  删除以前的版本。
3.  安装更新版本。

我们想要它做的是在第 3 步完成后启动已安装的可执行文件（作为当前登录的用户，而不是运行 SMS 作业的系统帐户）。

我尝试添加自定义操作，如下所示：

```
<CustomAction Id="Relaunch" Impersonate="yes" Return="asyncNoWait" FileKey="AppExeFile" Execute="commit" ExeCommand="acm" /> 
```

在`InstallExecuteSequence`元素中，我有以下内容：

```
<Custom Action="Relaunch" OnExit="success" /> 
```

但是，当我们尝试此操作时，无论是作为 SMS 作业还是以管理员身份执行，都不会发生任何事情（例如，应用程序没有重新启动）。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-03T02:18:10.210

我想出的解决方案是在登录时使用 Run 注册表项启动我们的实用程序，如果当前用户是“SYSTEM”，则防止在安装期间启动该实用程序 - 这不是专门针对 SMS，而是使用 AD/GPO部署。然而，我们的一些客户正在使用 SMS，这是对他们有用的解决方案。

Vista/Server 2008 UAC 的类似问题，我想出的唯一可靠的解决方案是安排重新启动，以便在用户重新登录时在正确的用户上下文下启动该实用程序。

我已经做了大量的研究并查看了 MSI 文档，似乎降低权限以启动另一个用户的后台实用程序是不可能的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-13T02:33:32.770

不幸的是，这似乎是不可能的——我想它可能是为 MSI 编写扩展的一个选项，它可以在代码中以某种方式完成我需要的工作——尽管这似乎需要做很多工作才能获得一点回报。

我们决定做的是使用 SMS 发送一个链式包 - 执行我们的应用程序的主要包，它首先取决于正在运行的安装程序。

希望这对其他人有帮助:)

# .net - Visual Studio 2005 和 2008 之间的差异

> ID：406154
> 
> 赞同：4
> 
> 时间：2009-01-02T06:03:17.350
> 
> 标签：.net, visual-studio-2008, visual-studio-2005, comparison

我想了解 MS Visual Studio.NET 2005 Pro 和 MS Visual Studio.NET 2008 Pro 最显着的区别是什么？我收到了一份 Visual Studio.NET 2005 Pro 的副本，因为之前使用它的人已经离开了组织。因此，我正在考虑将此版本升级到 VS.NET 2008 Pro。

在我的组织中，我们使用多种技术（java、php 和 .net）来开发主要基于 Web 的应用程序。我知道2005用的是.net framework 2.0，3.5的framework只能用在2008.. 除此之外，我有点茫然..

因此，我可以从 stackoverflow 人群中获得一些关于那些经历过这两个版本之间差异的反馈吗？如果问得不算多，能否请您发布使用 VS.NET 2008 Pro 的三大或五个理由？

谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2009-01-02T06:25:13.920

我写了一个清单，但决定将其全部删除；我为什么要复制 Scott Guthrie 关于 Visual Studio 2008 的陈述？

[http://weblogs.asp.net/scottgu/archive/2007/11/19/visual-studio-2008-and-net-3-5-released.aspx](http://weblogs.asp.net/scottgu/archive/2007/11/19/visual-studio-2008-and-net-3-5-released.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T06:21:33.037

出于我的目的，这些是主要的 3 个原因：

1.  可以使用.Net 3.5
2.  改进的 JavaScript 智能感知
3.  修复了各种烦人的错误，并对一些 UI 组件进行了小幅改进

.NET 3.5 是最重要的......其他一切都相当微不足道。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T09:51:11.523

C# 3.0 是（对我而言）最大的好处：

*   lambda 语句/表达式
*   匿名类型
*   部分方法
*   自动实现的属性
*   改进的泛型类型推断
*   扩展方法
*   表达式树（使用 .NET 3.5 时）
*   LINQ

ETC

请注意，这与 .NET 3.5 不同；即使针对 .NET 2.0，也可以使用 C# 3.0，尤其是在使用 LINQBridge 之类的东西来提供 LINQ 扩展方法时。

ASP.NET 调试和 WCF 托管等方面也有改进。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T08:57:12.303

1.  我讨厌（网络）项目文件在 vs2005 中的方式，所以我一直呆在 vs2003 直到 vs2008。
2.  多框架支持。
3.  整体改进

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T11:38:45.830

VS2008 中有一些很酷的增强功能往往会在所有重要的新功能之间丢失。

*   大大提高了许多项目解决方案的平均构建时间。

如果你有一个包含几十个项目的解决方案，即使没有任何变化，VS2005 也需要大约一分钟的时间来构建它，因为这就是 VS2005 验证没有任何变化所需的时间。在 VS2008 中，“脏”项目的检查是即时的。

极大地提高了生产力，我在任何地方都找不到这个功能。

*   VS2008 允许您使用表单设计器，即使它检测到可能有问题，VS2005 不允许这样做。这是处理 WinForms 错误时的救命稻草。

*   除了 VS2008 功能之外，请查看[VS2008 SP1](http://msdn.microsoft.com/en-us/vstudio/products/cc533447.aspx)添加的功能。我特别喜欢新的 C# 后台编译。

我建议您继续尝试 VS2008 的免费版本。除了大的新功能外，还有无数的“小”增强功能只有通过使用该产品才能找到，其中一些可能对您很重要。

顺便说一句，您可能还想查看 VS2010 的功能。它仍然是 CTP，它可能会在 2010 年附近发布，但根据您的需要，在升级之前可能值得等待。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T11:49:14.537

例如，如果您正在为 CF.NET 框架和 Windows Mobile 进行开发，那么保留 VS.2005 的副本可能会很方便，因为您仍然可以针对仍然被许多设备/智能手机使用的 CF.NET 1.0。对于 VS.2008，我认为这是不可能的 - 但是，如果我错了，请告诉我，因为我很想知道。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-18T19:43:28.670

3.5 - 2007 年发布，这是 3.0 加上新库（主要是 LINQ 和一些额外的“基础”库，如 TimeZoneInfo）和新编译器（用于 C# 3 和 VB 9）。3.0 - 2006 年发布，这只是 2.0 加上新的库：Windows Presentation Foundation、Windows Communication Foundation、Workflow Foundation 和 Cardspace。

# svn - 就地编辑、版本控制——您的解决方案是什么？

> ID：406155
> 
> 赞同：1
> 
> 时间：2009-01-02T06:03:39.533
> 
> 标签：svn, version-control, rcs

我正在使用 SVN 进行开发任务，但仍有许多文件使用 RCS 管理，因为在我的私有 SVN 存储库工作副本中编辑它们似乎不合理（因为它们通常只是配置文件，也最好就地测试）。在任何有文件置于 SVN 控制之下的地方拥有存储库的工作副本似乎也不合理，因此我只使用 RCS。

您管理理想情况下不应四处移动/就地编辑和测试的文件的方法是什么？

更准确地说：我想要相当于

*   有一个写保护的 file.txt
*   像“co -l file.txt”（RCS）这样的命令，使其可编辑
*   能够就地编辑并立即进行测试
*   像“ci -u file.txt”（RCS）这样的命令来记录更改，添加注释并再次使其只读
*   其他用户也应该能够在同一个地方执行此操作
*   但是，版本信息应该去一个安全的地方（大概是 svn rep），在不同的服务器上

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T06:16:29.880

我使用写文件系统 (CoW) 上的副本，例如[Ext3cow](http://ext3cow.com)（免责声明，我是它的贡献者之一）来管理很多东西。例如：

*   使用快照回滚整个存储库，无论哪种。例如，如果我完全搞砸了一个 git 树，我可以 cp -dpfR ./@123456789 ./ ，它将我的工作存储库替换为文件，就像它们在 123456789 时期一样。
*   使用版本控制/快照作为它自己的不可变 VCS，非常适合 /etc 和其他东西。由于过去的文件无法删除或修改，因此每个快照都是对单个文件或整个树的不可变修订。

通常，我使用 Git 或 Mercurial 而不是 Subversion，因为我更喜欢分布式 VCS，但我现在坚持将我的存储库保留在本地版本控制 FS 上。

对于 Windows 用户，我相信有一些完全在 python 中完成的可移植实现......但不太确定。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-03T14:06:54.243

如前所述，您尝试将 SVN 用于应该使用 DVCS（如 git 或 Mercurial）的东西。

每个人都可以拥有自己的存储库，然后将其与 mais 中央存储库（如 SVN 存储库）同步。

这实际上是我在自己的项目中使用的。

我唯一不明白的是为什么你需要锁。文件不必是只读的。您可能会这样想，因为 SVN 合并的方式（您几乎总是必须手动完成）。Git 确实很神奇[1]，大多数合并都无需人工干预。

[1] 好吧，这不是魔法。SVN 关心文件，而 Git 关心代码块。这样，只要您不更改完全相同的代码块，它就可以合并同时更改两次的文件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-03T13:26:25.197

现代分布式版本控制系统，如 Git、Mercurial 或 Bazaar，是这种情况下的最佳工具。不是因为分布式方面（这在这里显然不是至关重要的），而是因为就地创建存储库非常容易。

在 Mercurial 中，您只需要做：

```
cd ~/directory
hg init 
```

与 Git 类似：

```
cd ~/directory
git init
git add . 
```

每个工作副本都是一个完整的存储库，您可以根据需要将其推送到远程服务器作为备份。此外，所有存储库数据都存储在一个隐藏目录中，因此您可以避免`.svn`到处都有大量目录的问题。

我使用 Mercurial 来管理`/etc`我的服务器，我发现它非常方便。需要注意的一点是，它不会将您的文件标记为只读（如 RCS），但我认为这是一个优势。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T15:27:55.310

您需要意识到 SVN 存储库是免费的。您可以根据需要创建任意数量。

您还需要意识到您不必检查整个存储库。你说：

> 在有文件置于 SVN 控制之下的地方拥有存储库的工作副本似乎也不合理

我不确定你真正想要做什么，但我的印象是你以一种特殊的方式使用 SVN。

# lucene - 需要 Lucene 查询优化建议

> ID：406161
> 
> 赞同：3
> 
> 时间：2009-01-02T06:07:35.313
> 
> 标签：lucene, lucene.net

我正在使用 Lucene 开发基于 Web 的求职应用程序。我网站上的用户可以搜索距离“波士顿，马萨诸塞州”或任何其他位置 100 英里范围内的工作。另外，我需要以降序显示按“相关性”（即lucene返回的分数）排序的搜索结果。

我正在使用第 3 方 API 来获取城市给定半径内的所有城市。这个 API 返回我在“波士顿，MA”半径 100 英里内的大约 864 个城市。

我正在使用以下逻辑构建城市/州 Lucene 查询，这是我的“BuildNearestCitiesQuery”方法的一部分。这里nearestCities 是上述API 返回的哈希表。它包含864 个城市，CityName 作为key，StateCode 作为value。finalQuery 是一个 Lucene BooleanQuery 对象，其中包含用户输入的其他搜索条件，例如：技能、关键字等。

```
foreach (string city in nearestCities.Keys)

{

    BooleanQuery tempFinalQuery = finalQuery;

    cityStateQuery = new BooleanQuery();    

    queryCity = queryParserCity.Parse(city);

    queryState = queryParserState.Parse(((string[])nearestCities[city])[1]);

    cityStateQuery.Add(queryCity, BooleanClause.Occur.MUST); //must is like an AND

    cityStateQuery.Add(queryState, BooleanClause.Occur.MUST);

} 

nearestCityQuery.Add(cityStateQuery, BooleanClause.Occur.SHOULD); //should is like an OR

finalQuery.Add(nearestCityQuery, BooleanClause.Occur.MUST); 
```

然后我将 finalQuery 对象输入到 Lucene 的 Search 方法中，以获取 100 英里半径内的所有工作。：

```
searcher.Search(finalQuery, collector); 
```

我发现这个 BuildNearestCitiesQuery 方法平均需要高达 29 秒的时间来执行，这显然是任何网站标准都不能接受的。我还发现涉及“Parse”的语句与其他语句相比需要相当长的时间来执行陈述。

给定位置的工作是一个动态属性，因为一个城市今天可能有 2 个工作（满足特定搜索条件），但 3 天后相同搜索条件的工作为零。所以，我不能使用任何“缓存”这边。

有什么方法可以优化这个逻辑吗？或者我的整个方法/算法可以使用 Lucene 在 100 英里内找到所有工作？

仅供参考，这是我在 Lucene 中的索引的样子：

```
doc.Add(new Field("jobId", job.JobID.ToString().Trim(), Field.Store.YES, Field.Index.UN_TOKENIZED));

doc.Add(new Field("title", job.JobTitle.Trim(), Field.Store.YES, Field.Index.TOKENIZED));

doc.Add(new Field("description", job.JobDescription.Trim(), Field.Store.NO, Field.Index.TOKENIZED));

doc.Add(new Field("city", job.City.Trim(), Field.Store.YES, Field.Index.TOKENIZED , Field.TermVector.YES));

doc.Add(new Field("state", job.StateCode.Trim(), Field.Store.YES, Field.Index.TOKENIZED, Field.TermVector.YES));

doc.Add(new Field("citystate", job.City.Trim() + ", " + job.StateCode.Trim(), Field.Store.YES, Field.Index.UN_TOKENIZED , Field.TermVector.YES));

doc.Add(new Field("datePosted", jobPostedDateTime, Field.Store.YES, Field.Index.UN_TOKENIZED));

doc.Add(new Field("company", job.HiringCoName.Trim(), Field.Store.YES, Field.Index.TOKENIZED));

doc.Add(new Field("jobType", job.JobTypeID.ToString(), Field.Store.NO, Field.Index.UN_TOKENIZED,Field.TermVector.YES));

doc.Add(new Field("sector", job.SectorID.ToString(), Field.Store.NO, Field.Index.UN_TOKENIZED, Field.TermVector.YES));

doc.Add(new Field("showAllJobs", "yy", Field.Store.NO, Field.Index.UN_TOKENIZED)); 
```

非常感谢您的阅读！非常感谢您对此的帮助。

贾尼斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-12T09:01:49.793

不太确定我是否完全理解您的代码，但在地理空间搜索方面，过滤方法可能更合适。也许这个链接可以给你一些想法 - [http://sujitpal.blogspot.com/2008/02/spatial-search-with-lucene.html](http://sujitpal.blogspot.com/2008/02/spatial-search-with-lucene.html)

也许您也可以将*Filter*用于查询的其他部分。老实说，您的查询看起来很复杂。

——哈代

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T13:58:50.437

除了`tempFinalQuery`未使用和不必要的地图查找来获取状态之外，您发布的代码中似乎没有什么太令人震惊的地方。除了格式...

如果所有时间都花在`Parse`方法上，那么在这里发布他们的代码是有意义的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-10T19:38:35.840

我可能错过了您的问题的重点，但是您是否可以存储邮政编码的纬度和经度？如果这是一个选项，那么您可以计算两个坐标之间的距离，从而提供更直接的评分指标。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-13T04:26:21.380

我相信最好的方法是将最近的城市确定移动到搜索过滤器中。我还会重新考虑您如何进行现场设置；考虑创建一个包含 city+state 的术语，以便简化查询。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-26T18:21:31.417

我建议：

*   存储位置进入时的纬度和经度
*   当用户输入城市和距离时，将其转换为纬度/经度值和度数
*   基于数字距离纬度/经度比较进行单一、简单的查找

[您可以在Geo::Distance](http://search.cpan.org/perldoc?Geo::Distance) Perl 模块中看到它是如何工作的示例。看一下[源码](http://cpansearch.perl.org/src/BLUEFEET/Geo-Distance-0.11/Distance.pm)`closest`中的方法，它通过简单的 SQL 实现了这个查找。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-11-06T13:22:51.267

同意这里的其他人，这闻起来太香了。此外，对城市名称进行文本搜索并不总是那么可靠。地名之间通常存在一些主观性（特别是城市内本身可能很大的区域）。

进行地理空间查询是要走的路。不知道您的其他设置很难提供建议。您确实在 Fluent to NHibernate 和 SQL Server 2008 中内置了空间支持。然后，您可以**非常**快速有效地进行搜索。但是，您面临的挑战是在 Lucene 中实现这一点。

您可以使用 SQL Server 中的空间支持进行“第一次通过”查询，然后通过 Lucene 运行这些结果吗？

The other major benefit of doing spatial queries is that you can then easily sort your results by distance which is a win for your customers.

# asp.net-mvc - (ASP.NET MVC) 如果我只使用 GlobalResources 进行本地化，这会使我的 webapp 变慢吗？

> ID：406171
> 
> 赞同：0
> 
> 时间：2009-01-02T06:19:21.170
> 
> 标签：asp.net-mvc, performance

我有一个多语言网站，我只想使用全球资源，我想知道这是否会导致我的网站运行速度变慢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-05-26T14:11:31.377

我实际上体验到 Local_Resources 中的定义在代码中不知何故不可见。所以我一直在使用全球资源很长一段时间。

性能问题？为什么应该这样？它基本上只是关于访问级别。你不会怀疑类中的私有变量和它们的公共变量一样快，对吧？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-05-26T14:06:21.107

我发现仅使用全局资源与仅使用本地资源并没有真正的性能损失。然而，在我的编码风格中，全局资源可以在开发过程中实现更好的资源管理和可用性。

# security - 如何编写一个可以自行检测到已更改的程序？

> ID：406179
> 
> 赞同：1
> 
> 时间：2009-01-02T06:33:04.340
> 
> 标签：security

我需要编写一个小程序，可以检测到它已被更改。请给我一个建议！

谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T06:38:24.987

简短的回答是创建程序的散列或密钥，并让程序加密并将该密钥存储在自身内部。程序会不时对自身进行校验和并将其与该哈希/密钥进行比较。如果有差异，则相应地处理它。

有很多很多方法可以解决这个问题。有很多非常聪明的工程师知道如何解决它，如果这是你想要避免的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T08:20:46.447

最简单的方法是使用[散列函数](http://en.wikipedia.org/wiki/Hash_function)生成一个短代码，它是整个程序的摘要，然后检查它。

调试代码并替换散列值来颠覆这一点相当容易。

* * *

更好的方法是使用您的私钥生成[数字签名](http://en.wikipedia.org/wiki/Digital_signature)，并使用程序中的公钥进行检查。

这将需要更改公钥和哈希以及理解程序，或更改程序代码本身以破坏检查。

* * *

在目前所描述的情况下，你所能做的就是让颠覆变得更加困难，但只要付出一定的努力，就可以做到。我建议研究加密技术和复制保护以获取更多信息以适合您的具体情况。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T06:41:14.760

你的意思是程序'foo'应该能够判断它的某些部分是否在运行时之前/期间被修改？那不是程序的责任，而是目标操作系统中安全挂钩的责任。

例如，如果已安装且受信任的 'foo' 具有签名 "xyz1234" ，内核应该拒绝运行修改过的（或全新的）'foo'。'foo' 当前在内存中运行时也是如此。查找“受信任的执行路径”，即 TPE 以开始。

一个更好的问题是如何签署你发布的'foo'版本，这取决于你的目标平台。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T07:01:01.943

尝试搜索“代码签名”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T07:10:28.710

最简单的方法是让程序检测自己的 md5 并将其存储在单独的文件中，但这并不完全安全。MD5 + [CRC](http://en.wikipedia.org/wiki/Cyclic_redundancy_check)可能会稍微好一些。

或者正如这里的其他人所建议的那样，sha1、sha2 或 sha3 目前比 md5 安全得多。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T08:09:47.813

我会要求外部工具进行检查。[这个问题让我想起了编写一个打印自己的程序](http://www.zyvex.com/nanotech/talks/albany97/tsld016.htm)的挑战。在 Bash 中，您可以执行以下操作：

```
#!/bin/bash
cat $0 
```

这确实需要一个外部工具来完成这项工作。这是一种通过远离[解决问题来解决问题的](http://www.zyvex.com/nanotech/talks/albany97/sld017.htm)方式......

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-01-02T09:02:14.150

最好的选择是代码签名——或者使用本地友好操作系统提供的工具（例如，如果你的目标是 Windows，你可能想看看操作系统处理篡改的[Authenticode](http://msdn.microsoft.com/en-us/library/ms537361.aspx) ），或者通过滚动您自己的选项来存储 MD5 哈希值并进行比较

重要的是要记住，如果有人将线程注入您的进程（可能会杀死您正在进行的检查等），或者如果他们篡改您编译的应用程序以绕过所述检查，则赌注是关闭的。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-01-02T10:22:44.113

未提及的另一种方法是使用二进制打包程序，例如[UPX](http://upx.sourceforge.net/)。
如果二进制文件在磁盘上发生更改，则解包代码可能会失败。
但是，如果有人在内存中更改二进制文件，这并不能保护您。

# delphi - 如何在 Delphi 中创建 Windows 服务？

> ID：406181
> 
> 赞同：2
> 
> 时间：2009-01-02T06:35:13.230
> 
> 标签：delphi, windows-services

我被分配了一项任务，在 delphi 中创建这样一个服务，它将跟踪计算机上*登录*的用户活动。为此，我必须

1.  我希望我的服务在后台运行，并且应该将每个活动窗口的名称存储在特定的时间事件中。
2.  学习如何在delphi中创建windows服务

我应该如何开始？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T07:41:50.240

在 Delphi 中创建一个 Windows 服务：

[http://www.devarticles.com/c/a/Delphi-Kylix/Creating-a-Windows-Service-in-Delphi/](http://www.devarticles.com/c/a/Delphi-Kylix/Creating-a-Windows-Service-in-Delphi/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-26T16:21:26.000

您将需要对Microsoft SDK 提供的[CBT 挂钩进行一些研究。](http://msdn.microsoft.com/en-us/library/ms997537.aspx)它们包括在每次创建窗口时收到通知的能力等等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T09:53:14.560

Aldyn 的服务代码能够跟踪登录的用户。不确定它是否是你想要的，但它肯定是一个好的开始。供应商经历了一段时间的活动和睡眠，因此请确保它按原样执行您想要的操作。 [Aldyn SvCOM](http://www.aldynsoftware.com/svcom.html)

# apache-flex - 最复杂的 WMS 地图服务器？

> ID：406183
> 
> 赞同：0
> 
> 时间：2009-01-02T06:36:15.787
> 
> 标签：apache-flex, actionscript-3, gis, mapserver, wms

我正在构建一个客户端 WMS 解析器（flex/ActionScript 3）& 我想测试我能找到的尽可能复杂的 WMS 地图服务器。谁能指点我一些网站？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T07:52:05.350

[http://www.skylab-mobilesystems.com/en/wms_serverlist.html](http://www.skylab-mobilesystems.com/en/wms_serverlist.html) [http://onearth.jpl.nasa.gov/](http://onearth.jpl.nasa.gov/)

您还可以轻松设置自己的功能来测试您可能在上述情况下拥有的未经测试的功能：

[http://mapserver.osgeo.org/ogc/wms_server.html](http://mapserver.osgeo.org/ogc/wms_server.html)

# ios - 适用于 iPhone 的最佳分析产品

> ID：406186
> 
> 赞同：7
> 
> 时间：2009-01-02T06:38:19.900
> 
> 标签：ios, iphone

那里最好的 iPhone 分析产品是什么？我看过[Pinchmedia](http://www.pinchmedia.com)，但我不确定，因为默认应用程序页面显示“最后更新 2008 年 7 月”。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2010-07-02T22:22:55.717

如今，Pinch Media 已并入[Flurry](http://www.flurry.com/)。Flurry是一个不错的选择。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2011-03-09T12:28:59.393

如果这是一个“事后考虑”的快速项目，您会很高兴知道基本的 Flurry 集成是 AppDelegate 中的一条线 :)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T08:16:55.443

我已经尝试了几个软件包，而 Pinch Media 是迄今为止最好的。我不知道 2008 年 7 月的日期是从哪里来的，他们一直在定期发布更新，并且对通过电子邮件发送给他们的支持人员的反馈和问题非常敏感。不管是不是巧合，我的一些建议已经进入了当前的 Pinch 库

除了出色的支持之外，我更喜欢 pinch 的原因是它们似乎是唯一一个每天更新几次的软件包——通常是每小时一次。如果您正在尝试新的广告技术，或者就像痴迷于您的销售数据（就像每个开发人员一开始所做的那样：）

不利的一面是，我在使用 Pinch 时遇到了两个问题 - 他们的网站可能有点笨拙，而且对 iPhone 不太友好（讽刺！），有时他们会遇到由于硬件问题而无法进行统计更新的问题. 我也希望他们对您的所有应用程序都有一个“概述”。

值得指出的是，所有分析库都非常容易构建到您的应用程序中，并且都可以与模拟器和硬件一起使用，因此很容易评估它们以找到您最喜欢的。甚至可以一次使用多个——尽管我只是为了测试才这样做。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2010-02-01T19:30:59.723

谷歌 ：）

[http://code.google.com/intl/fr-FR/apis/analytics/docs/tracking/mobileAppsTracking.html](http://code.google.com/intl/fr-FR/apis/analytics/docs/tracking/mobileAppsTracking.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-04T19:46:18.440

Flurry 是一个非常不错的选择。在我最近的应用程序中，我尝试[了 Appsee Mobile Analytics](http://www.appsee.com)，如果您正在寻找不同的东西，我会喜欢它 - 它们为您提供用户会话和热图的视频记录。它比其他分析更具交互性

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2011-04-28T21:47:04.867

如果您对可视化分析工具（例如热图）感兴趣，或者您想深入了解用户使用您的应用程序的方式，您应该尝试[heatma.ps](https://heatma.ps)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-07-11T02:37:32.400

以网站受众人口统计测量而闻名的Quantcast 在今年早些时候推出[了移动应用程序的 Quantcast Measure 。](https://info.quantcast.com/MeasureApps_mk.html)他们的 iOS、Android 和 PhoneGap SDK[在 github 上可用](https://github.com/quantcast)。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2009-01-02T07:40:45.360

在这一点上，您可能很想自己动手——在受限设备上，您真的希望第三方库占用未知数量的有限网络带宽和处理能力吗？

# javascript - 使用 jQuery 获取当前 URL？

> ID：406192
> 
> 赞同：1981
> 
> 时间：2009-01-02T06:42:54.400
> 
> 标签：javascript, jquery, url

我正在使用 jQuery。如何获取当前 URL 的路径并将其分配给变量？

示例网址：

```
http://localhost/menuname.de?foo=bar&amp;number=0 
```

* * *

## 回答 #1

> 赞同：2712
> 
> 时间：2009-01-02T06:57:03.373

要获取路径，您可以使用：

```
var pathname = window.location.pathname; // Returns path only (/path/example.html)
var url      = window.location.href;     // Returns full URL (https://example.com/path/example.html)
var origin   = window.location.origin;   // Returns base URL (https://example.com) 
```

* * *

## 回答 #2

> 赞同：836
> 
> 时间：2010-05-19T12:42:18.097

纯 jQuery 风格：

```
$(location).attr('href'); 
```

位置对象还具有其他属性，例如主机、哈希、协议和路径名。

* * *

## 回答 #3

> 赞同：501
> 
> 时间：2013-01-30T21:10:42.433

```
http://www.refulz.com:8082/index.php#tab2?foo=789

Property    Result
------------------------------------------
host        www.refulz.com:8082
hostname    www.refulz.com
port        8082
protocol    http:
pathname    index.php
href        http://www.refulz.com:8082/index.php#tab2
hash        #tab2
search      ?foo=789

var x = $(location).attr('<property>'); 
```

**这只有在你有 jQuery 时才有效。例如：**

```
<html>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js"></script>
<script>
  $(location).attr('href');      // http://www.refulz.com:8082/index.php#tab2
  $(location).attr('pathname');  // index.php
</script>
</html> 
```

* * *

## 回答 #4

> 赞同：76
> 
> 时间：2010-05-09T16:39:07.530

如果您需要 URL 中存在的哈希参数，`window.location.href`可能是更好的选择。

```
window.location.pathname
=> /search

window.location.href 
 => www.website.com/search#race_type=1 
```

* * *

## 回答 #5

> 赞同：57
> 
> 时间：2009-01-02T06:50:57.627

你会想要使用 JavaScript 的内置[`window.location`](http://www.devguru.com/Technologies/ecmascript/quickref/location.html)对象。

* * *

## 回答 #6

> 赞同：47
> 
> 时间：2010-05-19T09:12:01.833

只需在 JavaScript 中添加这个函数，它就会返回当前路径的绝对路径。

```
function getAbsolutePath() {
    var loc = window.location;
    var pathName = loc.pathname.substring(0, loc.pathname.lastIndexOf('/') + 1);
    return loc.href.substring(0, loc.href.length - ((loc.pathname + loc.search + loc.hash).length - pathName.length));
} 
```

我希望这个对你有用。

* * *

## 回答 #7

> 赞同：41
> 
> 时间：2015-04-06T09:54:42.077

window.location 是 javascript 中的一个对象。它返回以下数据

```
window.location.host          #returns host
window.location.hostname      #returns hostname
window.location.path          #return path
window.location.href          #returns full current url
window.location.port          #returns the port
window.location.protocol      #returns the protocol 
```

在 jquery 中你可以使用

```
$(location).attr('host');        #returns host
$(location).attr('hostname');    #returns hostname
$(location).attr('path');        #returns path
$(location).attr('href');        #returns href
$(location).attr('port');        #returns port
$(location).attr('protocol');    #returns protocol 
```

* * *

## 回答 #8

> 赞同：32
> 
> 时间：2011-01-12T20:12:00.467

这是一个比许多人想象的更复杂的问题。一些浏览器支持内置的 JavaScript 位置对象和通过`window.location`或访问的相关参数/方法`document.location`。但是，不同风格的 Internet Explorer (6,7) 不以相同的方式支持这些方法，（`window.location.href`? `window.location.replace()`不支持）因此您必须始终通过编写条件代码以手持 Internet Explorer 以不同方式访问它们。

因此，如果您有 jQuery 可用并已加载，那么您不妨使用 jQuery（位置），正如其他人提到的那样，因为它解决了这些问题。但是，如果您正在通过 JavaScript（即使用 Google Maps API 和位置对象方法）进行一些客户端地理定位重定向，例如，您可能不想加载整个 jQuery 库并编写条件代码检查每个版本的 Internet Explorer/Firefox/etc。

Internet Explorer 让前端编码猫不开心，但 jQuery 是一盘牛奶。

* * *

## 回答 #9

> 赞同：30
> 
> 时间：2010-10-05T09:50:36.013

仅对于主机名，使用：

```
window.location.hostname 
```

* * *

## 回答 #10

> 赞同：25
> 
> 时间：2012-07-26T06:14:26.667

这也将起作用：

```
var currentURL = window.location.href; 
```

* * *

## 回答 #11

> 赞同：25
> 
> 时间：2016-07-05T09:00:46.597

java-script 提供了许多方法来检索显示在浏览器地址栏中的当前 URL。

测试网址：

```
http://
stackoverflow.com/questions/5515310/get-current-url-with-jquery/32942762
?
rq=1&page=2&tab=active&answertab=votes
#
32942762 
```

```
resourceAddress.hash();
console.log('URL Object ', webAddress);
console.log('Parameters ', param_values); 
```

**功能：**

```
var webAddress = {};
var param_values = {};
var protocol = '';
var resourceAddress = {

    fullAddress : function () {
        var addressBar = window.location.href;
        if ( addressBar != '' && addressBar != 'undefined') {
            webAddress[ 'href' ] = addressBar;
        }
    },
    protocol_identifier : function () { resourceAddress.fullAddress();

        protocol = window.location.protocol.replace(':', '');
        if ( protocol != '' && protocol != 'undefined') {
            webAddress[ 'protocol' ] = protocol;
        }
    },
    domain : function () {      resourceAddress.protocol_identifier();

        var domain = window.location.hostname;
        if ( domain != '' && domain != 'undefined' && typeOfVar(domain) === 'string') {
            webAddress[ 'domain' ] = domain;
            var port = window.location.port;
            if ( (port == '' || port == 'undefined') && typeOfVar(port) === 'string') {
                if(protocol == 'http') port = '80';
                if(protocol == 'https') port = '443';           
            }
            webAddress[ 'port' ] = port;
        }
    },
    pathname : function () {        resourceAddress.domain();

        var resourcePath = window.location.pathname;
        if ( resourcePath != '' && resourcePath != 'undefined') {
            webAddress[ 'resourcePath' ] = resourcePath;
        }
    },
    params : function () {      resourceAddress.pathname();

        var v_args = location.search.substring(1).split("&");

        if ( v_args != '' && v_args != 'undefined')
        for (var i = 0; i < v_args.length; i++) {
            var pair = v_args[i].split("=");

            if ( typeOfVar( pair ) === 'array' ) {
                param_values[ decodeURIComponent( pair[0] ) ] = decodeURIComponent( pair[1] );
            }
        }
        webAddress[ 'params' ] = param_values;
    },
    hash : function () {        resourceAddress.params();

        var fragment = window.location.hash.substring(1);
        if ( fragment != '' && fragment != 'undefined')
            webAddress[ 'hash' ] = fragment;        
    }
};
function typeOfVar (obj) {
      return {}.toString.call(obj).split(' ')[1].slice(0, -1).toLowerCase();
} 
```

*   协议 « [Web 浏览器](https://en.wikipedia.org/wiki/Web_browser)通过遵循一些规则在 WebHosted 应用程序和 Web 客户端（浏览器）之间进行通信来使用 Internet 协议。（http = [80](http://simpledns.com/plugin-httpredir)，https (SSL) = [443](https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers)，ftp = 21，等等）

EX：使用默认端口号

```
<protocol>//<hostname>:<port>/<pathname><search><hash>
https://en.wikipedia.org:443/wiki/Pretty_Good_Privacy
http://stackoverflow.com:80/ 
```

*   (//) « 主机是 Internet 上的端点（资源所在的机器）的名称。www.stackoverflow.com -应用程序的[DNS](https://en.wikipedia.org/wiki/Domain_name) IP 地址 (OR) localhost:8080 - localhost

域名是您通过域名系统（DNS）树的规则和程序注册的。使用 IP 地址管理您的域的人的 DNS 服务器，用于寻址目的。在 DNS 服务器层次结构中，stackoverlfow.com 的根名称是 com。

```
gTLDs      - com « stackoverflow (OR) in « co « google 
```

本地系统您必须维护在主机文件中不是 PUBLIC 的域。 `localhost.yash.com « localhsot - subdomain(`[`web-server`](https://en.wikipedia.org/wiki/Apache_HTTP_Server)`), yash.com - maindomain(`[`Proxy-Server`](https://en.wikipedia.org/wiki/Apache_HTTP_Server)`). myLocalApplication.com 172.89.23.777`

*   (/) « 路径提供有关 Web 客户端想要访问的主机中的特定资源的信息
*   (?) « 可选查询是传递由分隔符 (&) 分隔的属性值对序列。
*   (#) « 可选片段通常是特定元素的 id 属性，Web 浏览器会将这个元素滚动到视图中。

如果参数有一个[Epoch](http://www.esqsoft.com/javascript_examples/date-to-epoch.htm) `?date=1467708674`则使用。

```
var epochDate = 1467708674; var date = new Date( epochDate ); 
```

网址[![在此处输入图像描述](https://i.stack.imgur.com/I79ER.png)](https://i.stack.imgur.com/I79ER.png)

* * *

带有 username:password 的身份验证 url，如果 usernaem/password 包含 @ 符号
，如：

```
Username = `my_email@gmail`
Password = `Yash@777` 
```

那么您需要将 URL 编码**`@`**为**`%40`**. ^([参考...](https://stackoverflow.com/a/10050890/5081877))

```
http://my_email%40gmail.com:Yash%40777@www.my_site.com 
```

[`encodeURI()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI)（与）[`encodeURIComponent()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent)示例

```
var testURL = "http:my_email@gmail:Yash777@//stackoverflow.com?tab=active&page=1#32942762";

var Uri = "/:@?&=,#", UriComponent = "$;+", Unescaped = "(-_.!~*')"; // Fixed
var encodeURI_Str = encodeURI(Uri) +' '+ encodeURI( UriComponent ) +' '+ encodeURI(Unescaped);
var encodeURIComponent_Str =  encodeURIComponent( Uri ) +' '+ encodeURIComponent( UriComponent ) +' '+ encodeURIComponent( Unescaped );
console.log(encodeURI_Str, '\n', encodeURIComponent_Str);
/*
 /:@?&=,# +$; (-_.!~*') 
 %2F%3A%40%3F%26%3D%2C%23 %2B%24%3B (-_.!~*')
*/ 
```

* * *

## 回答 #12

> 赞同：21
> 
> 时间：2012-11-28T23:11:38.787

您可以记录 window.location 并查看所有选项，仅用于 URL：

```
window.location.origin 
```

对于整个路径使用：

```
window.location.href 
```

还有位置。*_* _

```
.host
.hostname
.protocol
.pathname 
```

* * *

## 回答 #13

> 赞同：16
> 
> 时间：2013-05-16T08:05:55.187

[这将使用 JavaScript/ jQuery](http://en.wikipedia.org/wiki/JQuery)返回当前页面的绝对[URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)。

*   `document.URL`

*   `$("*").context.baseURI`

*   `location.href`

* * *

## 回答 #14

> 赞同：14
> 
> 时间：2012-08-25T11:35:19.370

我有这个去除 GET 变量。

```
var loc = window.location;
var currentURL = loc.protocol + '//' + loc.host + loc.pathname; 
```

* * *

## 回答 #15

> 赞同：13
> 
> 时间：2013-05-17T05:39:51.077

如果有人想连接[URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)和哈希标签，结合两个函数：

```
var pathname = window.location.pathname + document.location.hash; 
```

* * *

## 回答 #16

> 赞同：13
> 
> 时间：2017-06-27T09:42:01.337

您可以简单地使用 js 本身获取您的路径，`window.location`或者`location`会给您当前 URL 的对象

```
console.log("Origin - ",location.origin);
console.log("Entire URL - ",location.href);
console.log("Path Beyond URL - ",location.pathname);
```

* * *

## 回答 #17

> 赞同：13
> 
> 时间：2018-10-10T10:23:11.880

所有浏览器都支持 Javascript 窗口对象。它定义了浏览器的窗口。

全局对象和函数自动成为窗口对象的一部分。

所有全局变量都是窗口对象的属性，所有全局函数都是它的方法。

整个 HTML 文档也是一个窗口属性。

因此，您可以使用 window.location 对象来获取所有与 url 相关的属性。

**Javascript**

```
console.log(window.location.host);     //returns host
console.log(window.location.hostname);    //returns hostname
console.log(window.location.pathname);         //return path
console.log(window.location.href);       //returns full current url
console.log(window.location.port);         //returns the port
console.log(window.location.protocol)     //returns the protocol
```

**jQuery**

```
console.log("host = "+$(location).attr('host'));
console.log("hostname = "+$(location).attr('hostname'));
console.log("pathname = "+$(location).attr('pathname')); 
console.log("href = "+$(location).attr('href'));   
console.log("port = "+$(location).attr('port'));   
console.log("protocol = "+$(location).attr('protocol'));
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
```

* * *

## 回答 #18

> 赞同：12
> 
> 时间：2012-11-19T07:00:53.100

```
 var currenturl = jQuery(location).attr('href'); 
```

* * *

## 回答 #19

> 赞同：12
> 
> 时间：2014-05-15T09:57:19.200

下面是一个使用 jQuery 和 JavaScript 获取当前 URL 的示例：

```
$(document).ready(function() {

    //jQuery
    $(location).attr('href');

    //Pure JavaScript
    var pathname = window.location.pathname;

    // To show it in an alert window
    alert(window.location);
});

$.getJSON("idcheck.php?callback=?", { url:$(location).attr('href')}, function(json){
    //alert(json.message);
}); 
```

* * *

## 回答 #20

> 赞同：11
> 
> 时间：2012-10-19T08:58:48.313

`var path = location.pathname`返回当前 URL 的路径（不需要 jQuery）。的使用`window.location`是可选的。

* * *

## 回答 #21

> 赞同：11
> 
> 时间：2013-04-29T14:26:48.917

以下是可以使用的有用代码片段的示例——一些示例使用标准 JavaScript 函数并且不特定于 jQuery：

请参阅*[8 个有用的 jQuery Snippets For URL's & Querystrings](http://www.designchemical.com/blog/index.php/jquery/8-useful-jquery-snippets-for-urls-querystrings/)*。

* * *

## 回答 #22

> 赞同：11
> 
> 时间：2013-05-19T06:01:43.680

要从 iframe 中获取父窗口的 URL：

```
$(window.parent.location).attr('href'); 
```

注意：仅适用于同一域

* * *

## 回答 #23

> 赞同：10
> 
> 时间：2011-12-19T10:59:27.907

***window.location***会给你当前的[URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)，你可以从中提取任何你想要的东西......

* * *

## 回答 #24

> 赞同：10
> 
> 时间：2012-06-26T21:06:41.850

如果要获取根站点的路径，请使用以下命令：

```
$(location).attr('href').replace($(location).attr('pathname'),''); 
```

* * *

## 回答 #25

> 赞同：10
> 
> 时间：2014-07-01T09:15:00.150

使用**window.location.href**。这将为您提供完整的[URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)。

* * *

## 回答 #26

> 赞同：9
> 
> 时间：2015-02-03T08:02:43.583

请参阅[purl.js](https://github.com/allmarkedup/purl/)。这真的很有帮助，也可以使用，具体取决于 jQuery。像这样使用它：

```
$.url().param("yourparam"); 
```

* * *

## 回答 #27

> 赞同：8
> 
> 时间：2017-09-08T05:09:36.560

非常常用的前 3 个是

```
1\. window.location.hostname 
2\. window.location.href
3\. window.location.pathname 
```

* * *

## 回答 #28

> 赞同：7
> 
> 时间：2016-07-10T14:22:27.867

```
var newURL = window.location.protocol + "//" + window.location.host + "/" + window.location.pathname; 
```

* * *

## 回答 #29

> 赞同：6
> 
> 时间：2019-11-06T17:44:50.703

通过以下代码，您可以在 Jquery 中获取当前 URL。

```
$(location).attr('hostname');                //origin URL
$(location).attr('pathname');                // path name
$(location).attr('hash');                    // everything comes after hash 
```

* * *

## 回答 #30

> 赞同：5
> 
> 时间：2016-05-31T06:58:53.363

```
// get current URL

$(location).attr('href');
var pathname = window.location.pathname;
alert(window.location); 
```

* * *

## 回答 #31

> 赞同：4
> 
> 时间：2016-04-12T15:12:39.317

在 jstl 中，我们可以使用 访问当前 url 路径`pageContext.request.contextPath`，如果你想做一个 ajax 调用，

```
 url = "${pageContext.request.contextPath}" + "/controller/path" 
```

例如：在页面中，`http://stackoverflow.com/questions/406192`这将给出`http://stackoverflow.com/controller/path`

* * *

## 回答 #32

> 赞同：1
> 
> 时间：2020-01-13T10:15:11.990

**最短的**方式（11个字符）你可以做到这一点

```
let myUrl = ''+location

console.log(myUrl);
```

# ado.net - 如何获取 ADO.NET 实体模型中的外键？

> ID：406195
> 
> 赞同：2
> 
> 时间：2009-01-02T06:44:22.413
> 
> 标签：ado.net, foreign-keys, ado.net-entity-data-model, entityreference

我有 3 个表（以及实体模型中的相应实体） Game: Id - primay key ... 其他列

Player: Id - 主键 ... 其他列

GamePlayer (一个玩家可以参与很多游戏) GameId --> 来自 Game PlayerId 的外键 --> 来自 Player 的外键 ... 其他列

在我的代码中，我可以通过其他方式使用 gameId 和 playerId。使用这个我想知道玩家（playerId）是否正在参与特定的游戏（gameId）。所以我这样做：（实体是我的上下文对象）

IQueryable query = entity.GamePlayer.where(gp => ((gp.Game.Id == gameId) && (gp.Player.Id == playerId))) 如果查询返回一行，那么我知道该玩家正在参与在那场比赛中。

我阅读了多个关于实体引用的 MSDN 博客，但我很困惑。似乎 MSDN 建议我首先必须检查 IsLoaded 的 EntityReference 对象，如果没有加载，我必须加载实体，然后我才应该在查询中使用它。

GamePlayer 确实有 GamePlayer.GameReference 和 GamePlayer.PlayerReference，但我无法检查是否加载了引用，因为我手头没有 GamePlayer 对象。GamePlayer 表包含两个 1...* 关系，仅此而已。我必须仅使用 GameId 和 PlayerId 查询 GamePlayer。我在这里做错了什么？

我应该改为获取玩家（或游戏）对象（使用他们的 ID）并检查 GamePlayer 实体集合吗？Sql 就是这么简单。如果这太天真了，对不起，我很难将我的 sql 查询转换为实体查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-02-06T00:12:14.590

我认为你正在做的很好。据我所知，您在 lambda 表达式中使用的任何内容都不必显式加载。

我认为 MSDN 指的是如果您将获得一个 GamePlayer 实体，然后访问这样的关联实体：

GamePlayer gp = entity.GamePlayer.First( g=> g.id = 2);

字符串游戏名称 = gp.游戏名称；

这会引发异常（您必须单独加载游戏或确保它像这样加载：entities.GamePlayer.Include("Game").First( g => g.id = 2)）

# asp.net - .Net 3.5 中的编译时间

> ID：406207
> 
> 赞同：0
> 
> 时间：2009-01-02T06:55:27.120
> 
> 标签：asp.net, visual-studio-2008

我正在开发一个网络应用程序。当我构建应用程序时，即使在 aspx.cs 文件中对象声明的语法错误，我也可以在状态栏中看到“构建成功”语句。我再次清理了解决方案，我尝试重建应用程序。但我没有收到任何错误。如果我在该页面中添加任何代码块，它不会在运行时执行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T18:37:45.257

您使用的是网站项目还是 Web 应用程序项目？
我不得不在一个网站项目上工作，由于网站项目处理代码编译的方式，你只会在运行时遇到编译器错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T07:03:39.053

如果不查看 Visual Studio 解决方案中的结构，就很难评估确切的情况。您能否验证您正在处理的 .aspx 页面的 Page 指令标记是否指向您正在修改的正确 .aspx.cs 代码隐藏文件？

```
<%@ Page Language="C#" AutoEventWireup="true"  CodeFile="I_AM_MODIFYING_THIS_PAGE.aspx.cs" Inherits="I_AM_MODIFYING_THIS_PAGE" %> 
```

# svn - 如何向 Subversion 添加与已删除目录同名的文件？

> ID：406210
> 
> 赞同：3
> 
> 时间：2009-01-02T06:58:51.183
> 
> 标签：svn

很久以前，我的 SVN 存储库中有以下目录结构

```
trunk/
    data/
        levels/
            1.level
            2.level
            ...
        ...
    ... 
```

但是我很久以前就删除了'levels'目录。现在我想将一个名为 'levels' 的文本文件添加到 'data' 目录中，所以它看起来像这样：

```
trunk/
    data/
        levels
        ...
    ... 
```

现在，当我尝试添加文件“级别”时，我收到以下消息：

```
$ svn add data/levels
svn: Can't replace 'data/levels' with a node of a differing type; the deletion m
ust be committed and the parent updated before adding 'data/levels' 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T07:01:13.753

尝试运行`svn update`。这将更新当前文件夹的修订号和所有相关元数据。您还应该确保`svn status`不显示与此相关的任何内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-05T17:30:11.163

`svn update` *在提交之前*和*之后*运行通常是一种很好的做法，以便您的工作副本是最新的。

请记住，无论何时您在 svn 中进行提交，它都不会更新您的工作副本。因此，当您提交修订版 10 时，您的工作副本仍然是修订版 9（或更低版本）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T07:35:49.970

如错误消息所示：

1.  首先提交删除levels文件夹（svn ci）
2.  运行更新（svn up）
3.  添加级别文件（svn 添加数据/级别）
4.  提交级别文件 (svn ci)

# cocoa-touch - 调整 UILabel 的大小以适合？

> ID：406212
> 
> 赞同：43
> 
> 时间：2009-01-02T07:00:37.343
> 
> 标签：cocoa-touch

如何从 iPhone Developer's Cookbook 第 6 章的“09a - PrefsTable”配方中修改以下片段（在 tableView:cellForRowAtIndexPath: UITableViewController 方法中）：

```
if (row == 1) { 
    // Create a big word-wrapped UILabel 
    cell = [tableView dequeueReusableCellWithIdentifier:@"libertyCell"]; 
    if (!cell) { 
        cell = [[[UITableViewCell alloc] initWithFrame:CGRectZero reuseIdentifier:@"libertyCell"] autorelease]; 
        [cell addSubview:[[UILabel alloc] initWithFrame:CGRectMake(20.0f, 10.0f, 280.0f, 330.0f)]]; 
    } 
    UILabel *sv = [[cell subviews] lastObject]; 
    sv.text =  @"When in the Course of human events, it becomes necessary for one people to dissolve the political bands which have connected them with another, and to assume among the powers of the earth, the separate and equal station to which the Laws of Nature and of Nature's God entitle them, a decent respect to the opinions of mankind requires that they should declare the causes which impel them to the separation."; 
    sv.textAlignment = UITextAlignmentCenter; 
    sv.lineBreakMode = UILineBreakModeWordWrap; 
    sv.numberOfLines = 9999; 
    return cell; 
} 
```

...调整“sv”UILabel 子视图和“单元格”UITableViewCell 的大小，使其大小刚好适合文本（并使用或多或少的文本，以及其他类型的文本对齐方式）？我查看了 UILabel textRectForBounds:limitedToNumberOfLines: 方法，但文档指出它不应该直接调用（并且应该只被覆盖）。我尝试了 UIView sizeToFit 方法，但没有成功。

**更新：** [我问了一个关于 NSString -sizeWithFont:forWidth:lineBreakMode: 方法的问题的新问题](https://stackoverflow.com/questions/419222/how-do-i-get-nsstrings-sizewithfontforwidthlinebreakmode-method-from-the-ip)。

* * *

## 回答 #1

> 赞同：98
> 
> 时间：2010-05-18T18:29:08.493

我必须做到这一点，以至于我扩展了 UILabel 来为我做这件事：

```
@interface UILabel (BPExtensions)
- (void)sizeToFitFixedWidth:(CGFloat)fixedWidth;
@end

@implementation UILabel (BPExtensions)

- (void)sizeToFitFixedWidth:(CGFloat)fixedWidth
{
    self.frame = CGRectMake(self.frame.origin.x, self.frame.origin.y, fixedWidth, 0);
    self.lineBreakMode = NSLineBreakByWordWrapping;
    self.numberOfLines = 0;
    [self sizeToFit];
}
@end 
```

然后让标签具有可变的多行高度但固定宽度：

`[myLabel sizeToFitFixedWidth:kSomeFixedWidth];`

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2009-01-02T07:02:42.377

您应该使用 NSString 的`-sizeWithFont:forWidth:lineBreakMode:`方法来检索标签的相关尺寸指标。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2009-01-02T07:06:00.967

此外，如果您要使用该代码，请将`numberOfLines`属性更改为。`0`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2009-04-15T23:06:03.190

`NSString`'s`-sizeWithFont:forWidth:lineBreakMode:`实际上并不执行自动换行。相反，用于`-sizeWithFont:constrainedToSize:lineBreakMode:`获取字符串的准确宽度和高度值。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2010-02-03T13:36:38.297

试试这个：

```
sv.text =  @"When in the Course of human events, it becomes necessary for one people to dissolve the political bands which have connected them with another, and to assume among the powers of the earth, the separate and equal station to which the Laws of Nature and of Nature's God entitle them, a decent respect to the opinions of mankind requires that they should declare the causes which impel them to the separation."; 
sv.textAlignment = UITextAlignmentCenter; 
sv.lineBreakMode = UILineBreakModeWordWrap; 
sv.numberOfLines = 0;
[sv sizeToFit]; 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2009-01-02T07:39:12.180

此外，您将需要实现 UITableViewDelegate 方法：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
```

并让它返回为调整大小的文本字段调整的总单元格高度。

另一个注意事项 - 如果您如前所述将行数设置为 0，则“适合大小”实际上应该有效。它会给你一个增加高度的大小，以适应标签中设置的自动换行文本，并将宽度设置为原始标签宽度。

这对您没有帮助，因为您需要在获取单元格之前获取 heightForRow 的大小，因此您最好计算所需的高度（并且很可能缓存该计算，以免减慢表格渲染速度）

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2011-05-15T23:22:43.850

这是我使用的一些代码：

```
CGSize textSize = [myLabel.text sizeWithFont:myLabel.font]; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-03T16:15:42.003

我有类似的问题，我有一个在 StoryBoards 中设计为静态单元格的 UITableViewCell。我曾经`[super tableView:cellForRowAtIndexPath:]`得到它。所以我想调整 UILabel "detailTextLabel" 的大小，使其适合我设置的文本。风格是“正确的细节”。

我只是在我的`tableView:cellForRowAtIndexPath:`. 比`tableView:heightForRowAtIndexPath:`我回来了

```
UITableViewCell *cell = [super tableView:tableView cellForRowAtIndexPath:indexPath];
return cell.detailTextLabel.frame.size.height 
```

我的绳子很长。最后有一个宽单元格，标签中有 4 行文本。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-03-22T05:47:37.373

我有类似的问题。我解决了这个问题。

在 cellForRowAtIndexPath 方法中，将字体大小设置为您想要的任何值。

```
cell.textLabel.lineBreakMode = UILineBreakModeWordWrap;
cell.textLabel.numberOfLines = 0;    
[cell.textLabel setFont:[UIFont systemFontOfSize:14.0]];
[cell.textLabel sizeToFit]; 
```

并在 heightForRowAtIndexPath 方法中增加字体大小。

```
 CGFloat height;

    UITableViewCell *cell = [self tableView:tableView cellForRowAtIndexPath:indexPath];
    NSString *text = cell.detailTextLabel.text;
    CGSize constraint = CGSizeMake(320, 20000.0f);
    CGSize size = [text sizeWithFont:[UIFont systemFontOfSize:20.0]     constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
    CGFloat calHeight = MAX(size.height, 44.0f);
    height =  calHeight + (CELL_CONTENT_MARGIN * 2);

    return height; 
```

# visual-studio-2008 - Team Explorer 是否与 VS2005 集成

> ID：406220
> 
> 赞同：0
> 
> 时间：2009-01-02T07:08:21.993
> 
> 标签：visual-studio-2008, tfs, visual-studio-2005

我的机器上同时安装了 VS2005 和 VS2008。我能够安装 Team Explorer 2008，但无法安装 Team Explorer 2005（它不断抛出一些我无法解决的错误号 2337）。

目前，我必须启动 VS2008 IDE 来使用源代码控制，以及 VS2005 来处理源代码（因为项目和解决方案文件仍然是旧的 VS2005 格式）。

我可以将 TE2008 与 VS2005 一起使用以获得集成体验吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-03T14:38:09.327

您必须安装 2005 版本的 Team Explorer 才能在 VS 2005 中出现 TFS 集成。Visual Studio 2005 + Team Explorer 2005 可以愉快地与 Visual Studio 2008 + Team Explorer 2008 共存于一台机器上并并排运行.

因此，要使其正常工作，您需要克服 2337 错误。我自己看到该错误的唯一一次是 Team Explorer 安装程序损坏的地方。您可以尝试[重新下载它](http://download.microsoft.com/download/2/a/d/2ad44873-8ccb-4a1b-9c0d-23224b3ba34c/VSTFClient.img)或从 Team Foundation Server 2005 安装 CD 访问它。

希望有帮助，

马丁。

# ios - NSString sizeWithFont:forWidth:lineBreakMode: 方法的文档（在 iPhone SDK 中）？

> ID：406226
> 
> 赞同：1
> 
> 时间：2009-01-02T07:24:35.580
> 
> 标签：ios, nsstring, iphone-sdk-documentation

我在 iPhone SDK Developer 的 NSString 类参考中找不到 NSString sizeWithFont:forWidth:lineBreakMode: 方法的文档（参见[Kevin Ballard](https://stackoverflow.com/users/582/kevin-ballard)对“[调整 UILabel (in the iPhone SDK) to fit?](https://stackoverflow.com/questions/406212/sizing-a-uilabel-in-the-iphone-sdk-to-fit) ”的回答）文档。我应该去哪里看？

**更新**：我没有订阅 iPhone OS Library 文档集，所以我的搜索不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T07:32:28.340

在 XCode 中，查找`sizeWithFont:forWidth:lineBreakMode:`. 确保您选择/可用的 iPhone 文档集。

它也在[这里](http://developer.apple.com/iphone/library/documentation/UIKit/Reference/NSString_UIKit_Additions/Reference/Reference.html#//apple_ref/occ/instm/NSString/sizeWithFont:forWidth:lineBreakMode:)，如果您登录到您的开发者帐户。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-01-02T08:30:55.570

这已得到回答和接受，但只有一条评论：

sizeWithFont:* 方法严格来说不是 NSString 的一部分。它们是 UIKit 添加的 NSString 类别。

这可能就是在您订阅 iPhone OS 文档集之前您的搜索不起作用的原因。

# regex - 正则表达式匹配不包含单词的行

> ID：406230
> 
> 赞同：4893
> 
> 时间：2009-01-02T07:30:16.097
> 
> 标签：regex, pattern-matching, regex-negation

我知道可以匹配一个单词，然后使用其他工具（例如`grep -v`）反转匹配项。但是，是否可以匹配不包含特定单词的行，例如`hede`，使用正则表达式？

### 输入：

```
hoho
hihi
haha
hede 
```

### 代码：

```
grep "<Regex for 'doesn't contain hede'>" input 
```

### 期望的输出：

```
hoho
hihi
haha 
```

* * *

## 回答 #1

> 赞同：6766
> 
> 时间：2009-01-02T09:55:05.323

正则表达式不支持反向匹配的概念并不完全正确。您可以通过使用负面环视来模仿这种行为：

```
^((?!hede).)*$ 
```

非捕获变体：

```
^(?:(?!:hede).)*$ 
```

上面的正则表达式将匹配任何字符串，或没有换行符的行，**不**包含（子）字符串“hede”。如前所述，这不是正则表达式“擅长”（或应该做）的事情，但仍然*是*可能的。

如果您还需要匹配换行符，请使用[DOT-ALL 修饰符](http://perldoc.perl.org/perlre.html#Modifiers)`s`（以下模式中的尾随）：

```
/^((?!hede).)*$/s 
```

或内联使用它：

```
/(?s)^((?!hede).)*$/ 
```

*（其中`/.../`是正则表达式分隔符，即不是模式的一部分）*

如果 DOT-ALL 修饰符不可用，您可以使用字符类模仿相同的行为`[\s\S]`：

```
/^((?!hede)[\s\S])*$/ 
```

## 解释

字符串只是一个`n`字符列表。在每个字符之前和之后，都有一个空字符串。所以一个`n`字符列表将`n+1`有空字符串。考虑字符串`"ABhedeCD"`：

```
 ┌──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┐
S = │e1│ A │e2│ B │e3│ h │e4│ e │e5│ d │e6│ e │e7│ C │e8│ D │e9│
    └──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┘

index    0      1      2      3      4      5      6      7 
```

其中`e`'s 是空字符串。正则表达式`(?!hede).`向前看是否没有子字符串`"hede"`可以看到，如果是这样（所以看到了其他东西），那么`.`(dot) 将匹配除换行符之外的任何字符。环视也称为*零宽度断言*，因为它们不*消耗*任何字符。他们只断言/验证某些东西。

因此，在我的示例中，在（点）使用字符之前，首先验证每个空字符串以查看是否没有`"hede"`前面的内容。`.`正则表达式`(?!hede).`只会执行一次，因此它被包装在一个组中，并重复零次或多次：`((?!hede).)*`. 最后，锚定输入的开始和结束以确保消耗整个输入：`^((?!hede).)*$`

如您所见，输入`"ABhedeCD"`将失败，因为 on ，正*则*`e3`表达式`(?!hede)`失败（前面有！）。 *`"hede"`*

 ** * *

## 回答 #2

> 赞同：850
> 
> 时间：2011-03-17T04:21:26.613

* * *

## 回答 #3

> 赞同：230
> 
> 时间：2009-01-02T07:41:22.597

*如果*你只是将它用于 grep，你可以使用它`grep -v hede`来获取所有不包含 hede 的行。

ETA 哦，重读这个问题，`grep -v`可能就是您所说的“工具选项”。

* * *

## 回答 #4

> 赞同：208
> 
> 时间：2014-05-10T16:36:11.620

**回答：**

```
^((?!hede).)*$ 
```

**解释：**

`^`字符串的开头， `(`分组并捕获到\1（0次或多次（匹配最大可能）），
`(?!`向前看是否有，

`hede`你的弦，

`)`前瞻结束， `.`除 \n 之外的任何字符
`)*`，\1 结束（注意：因为您在此捕获中使用量词，所以只有捕获模式的最后一次重复将存储在 \1 中）
`$`在可选 \n 之前，和字符串的结尾

* * *

## 回答 #5

> 赞同：112
> 
> 时间：2011-09-02T15:53:15.993

给出的答案非常好，只是一个学术观点：

理论计算机科学意义上的正则表达式*不能*这样做。对他们来说，它必须看起来像这样：

```
^([^h].*$)|(h([^e].*$|$))|(he([^h].*$|$))|(heh([^e].*$|$))|(hehe.+$) 
```

这只会进行完全匹配。为子比赛做这件事会更尴尬。

* * *

## 回答 #6

> 赞同：74
> 
> 时间：2013-01-03T21:22:09.910

如果您希望正则表达式测试**仅在***整个字符串*匹配时失败，则以下操作将起作用：

```
^(?!hede$).* 
```

例如——如果你想允许除“foo”之外的所有值（即“foofoo”、“barfoo”和“foobar”将通过，但“foo”将失败），使用：`^(?!foo$).*`

当然，如果您要检查是否*完全*相等，在这种情况下，更好的通用解决方案是检查字符串是否相等，即

```
myStr !== 'foo' 
```

如果您需要任何正则表达式功能（这里是不区分大小写和范围匹配），您甚至可以将否定置于测试*之外：*

```
!/^[a-f]oo$/i.test(myStr) 
```

但是，在需要正则表达式测试的情况下（可能通过 API），此答案顶部的正则表达式解决方案可能会有所帮助。

* * *

## 回答 #7

> 赞同：67
> 
> 时间：2015-08-05T07:02:36.410

FWIW，由于正则语言（又名理性语言）在互补下是封闭的，所以总是有可能找到否定另一个表达式的正则表达式（又名有理表达式）。但实现这一点的工具并不多。

[Vcsn](http://vcsn.lrde.epita.fr "vcsn主页")支持此运算符（它表示`{c}`，后缀）。

您首先定义表达式的类型：标签是`lal_char`要从`a`中选择`z`的字母（ ：`true`这个词被接受，，`false`被拒绝。

在 Python 中：

```
In [5]: import vcsn
        c = vcsn.context('lal_char(a-z), b')
        c
Out[5]: {a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z} → 
```

然后你输入你的表达式：

```
In [6]: e = c.expression('(hede){c}'); e
Out[6]: (hede)^c 
```

将此表达式转换为自动机：

```
In [7]: a = e.automaton(); a 
```

[![对应的自动机](https://i.stack.imgur.com/C3P8C.png)](https://i.stack.imgur.com/C3P8C.png)

最后，将此自动机转换回一个简单的表达式。

```
In [8]: print(a.expression())
        \e+h(\e+e(\e+d))+([^h]+h([^e]+e([^d]+d([^e]+e[^]))))[^]* 
```

其中`+`通常表示为`|`，`\e`表示空词，`[^]`通常写成`.`（任何字符）。所以，稍微重写一下`()|h(ed?)?|([^h]|h([^e]|e([^d]|d([^e]|e.)))).*`。

[您可以在此处](https://stackoverflow.com/questions/406230 "正则表达式匹配不包含单词的文本？")查看此示例，并在[此处](http://vcsn-sandbox.lrde.epita.fr/tree "Vcsn 沙盒")在线尝试 Vcsn 。

* * *

## 回答 #8

> 赞同：62
> 
> 时间：2009-01-02T08:03:06.717

这里[很好地解释](http://www.perlmonks.org/?node_id=588315#588368)了为什么否定任意正则表达式并不容易。不过，我必须同意其他答案：如果这不是一个假设性问题，那么正则表达式在这里不是正确的选择。

* * *

## 回答 #9

> 赞同：59
> 
> 时间：2014-07-14T18:21:55.397

使用负前瞻，正则表达式可以匹配不包含特定模式的内容。Bart Kiers 对此进行了回答和解释。很好的解释！

但是，根据 Bart Kiers 的回答，前瞻部分将在匹配任何单个字符时提前测试 1 到 4 个字符。我们可以避免这种情况，让lookahead部分检查整个文本，确保没有'hede'，然后正常部分（.*）可以一次吃掉整个文本。

这是改进的正则表达式：

```
/^(?!.*?hede).*$/ 
```

请注意，负前瞻部分中的 (*?) 惰性量词是可选的，您可以使用 (*) 贪婪量词，具体取决于您的数据：如果 'hede' 确实存在并且在文本的前半部分，则惰性量词可以更快；否则，贪心量词会更快。但是，如果不存在“hede”，则两者都将同样缓慢。

这是[演示代码](http://jsfiddle.net/pvJL5/3/)。

有关前瞻的更多信息，请查看精彩文章：[掌握前瞻和后瞻](http://www.rexegg.com/regex-lookarounds.html)。

另外，请查看[RegexGen.js](https://github.com/amobiz/regexgen.js)，这是一个有助于构建复杂正则表达式的 JavaScript 正则表达式生成器。使用 RegexGen.js，您可以以更易读的方式构造正则表达式：

```
var _ = regexGen;

var regex = _(
    _.startOfLine(),             
    _.anything().notContains(       // match anything that not contains:
        _.anything().lazy(), 'hede' //   zero or more chars that followed by 'hede',
                                    //   i.e., anything contains 'hede'
    ), 
    _.endOfLine()
); 
```

* * *

## 回答 #10

> 赞同：47
> 
> 时间：2014-08-13T14:58:27.443

# 基准

我决定评估一些提供的选项并比较它们的性能，并使用一些新功能。.NET 正则表达式引擎的基准测试：[http ://regexhero.net/tester/](http://regexhero.net/tester/)

## 基准文本：

前 7 行不应该匹配，因为它们包含搜索到的表达式，而下面的 7 行应该匹配！

```
Regex Hero is a real-time online Silverlight Regular Expression Tester.
XRegex Hero is a real-time online Silverlight Regular Expression Tester.
Regex HeroRegex HeroRegex HeroRegex HeroRegex Hero is a real-time online Silverlight Regular Expression Tester.
Regex Her Regex Her Regex Her Regex Her Regex Her Regex Her Regex Hero is a real-time online Silverlight Regular Expression Tester.
Regex Her is a real-time online Silverlight Regular Expression Tester.Regex Hero
egex Hero egex Hero egex Hero egex Hero egex Hero egex Hero Regex Hero is a real-time online Silverlight Regular Expression Tester.
RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRegex Hero is a real-time online Silverlight Regular Expression Tester.

Regex Her
egex Hero
egex Hero is a real-time online Silverlight Regular Expression Tester.
Regex Her is a real-time online Silverlight Regular Expression Tester.
Regex Her Regex Her Regex Her Regex Her Regex Her Regex Her is a real-time online Silverlight Regular Expression Tester.
Nobody is a real-time online Silverlight Regular Expression Tester.
Regex Her o egex Hero Regex  Hero Reg ex Hero is a real-time online Silverlight Regular Expression Tester. 
```

## 结果：

结果是每秒迭代次数，作为 3 次运行的中位数 -**数字越大 = 越好**

```
01: ^((?!Regex Hero).)*$                    3.914   // Accepted Answer
02: ^(?:(?!Regex Hero).)*$                  5.034   // With Non-Capturing group
03: ^(?>[^R]+|R(?!egex Hero))*$             6.137   // Lookahead only on the right first letter
04: ^(?>(?:.*?Regex Hero)?)^.*$             7.426   // Match the word and check if you're still at linestart
05: ^(?(?=.*?Regex Hero)(?#fail)|.*)$       7.371   // Logic Branch: Find Regex Hero? match nothing, else anything

P1: ^(?(?=.*?Regex Hero)(*FAIL)|(*ACCEPT))  ?????   // Logic Branch in Perl - Quick FAIL
P2: .*?Regex Hero(*COMMIT)(*FAIL)|(*ACCEPT) ?????   // Direct COMMIT & FAIL in Perl 
```

由于.NET 不支持动作动词（*FAIL 等），我无法测试解决方案 P1 和 P2。

## 概括：

我尝试测试大多数建议的解决方案，某些词可能会进行一些优化。例如，如果搜索字符串的前两个字母不相同，则可以将答案 03 扩展为 `^(?>[^R]+|R+(?!egex Hero))*$`导致小的性能增益。

但总体上最具可读性和性能方面最快的解决方案似乎是使用条件语句的 05 或使用所有格量词的 04。我认为 Perl 解决方案应该更快，更容易阅读。

* * *

## 回答 #11

> 赞同：34
> 
> 时间：2011-02-23T14:00:23.863

不是正则表达式，但我发现使用带有管道的串行 grep 来消除噪音是合乎逻辑且有用的。

例如。搜索没有所有注释的 apache 配置文件-

```
grep -v '\#' /opt/lampp/etc/httpd.conf      # this gives all the non-comment lines 
```

和

```
grep -v '\#' /opt/lampp/etc/httpd.conf |  grep -i dir 
```

串行grep的逻辑是（不是注释）和（匹配目录）

* * *

## 回答 #12

> 赞同：31
> 
> 时间：2013-04-14T03:04:42.320

这样，您可以避免在每个位置上测试前瞻：

```
/^(?:[^h]+|h++(?!ede))*+$/ 
```

相当于（对于.net）：

```
^(?>(?:[^h]+|h+(?!ede))*)$ 
```

老答案：

```
/^(?>[^h]+|h+(?!ede))*$/ 
```

* * *

## 回答 #13

> 赞同：30
> 
> 时间：2016-08-23T00:03:27.183

上述`(?:(?!hede).)*`很棒，因为它可以锚定。

```
^(?:(?!hede).)*$               # A line without hede

foo(?:(?!hede).)*bar           # foo followed by bar, without hede between them 
```

但在这种情况下，以下内容就足够了：

```
^(?!.*hede)                    # A line without hede 
```

这种简化已经准备好添加“AND”子句：

```
^(?!.*hede)(?=.*foo)(?=.*bar)   # A line with foo and bar, but without hede
^(?!.*hede)(?=.*foo).*bar       # Same 
```

* * *

## 回答 #14

> 赞同：24
> 
> 时间：2016-12-06T21:24:15.930

由于没有其他人直接回答所提出的问题*，*我会这样做。

答案是使用 POSIX `grep`，不可能从字面上满足这个要求：

```
grep "<Regex for 'doesn't contain hede'>" input 
```

原因是 POSIX`grep`只需要使用[Basic Regular Expressions](http://pubs.opengroup.org/onlinepubs/7908799/xbd/re.html#tag_007_003)，它们根本不足以完成该任务（由于缺乏交替，它们无法解析所有正则语言）。

*但是*，GNU`grep`实现了允许它的扩展。特别`\|`是在 GNU 的 BRE 实现中的交替操作符。如果您的正则表达式引擎支持交替、括号和 Kleene 星号，并且能够锚定到字符串的开头和结尾，那么您就可以使用这种方法。但是请注意`[^ ... ]`，除了这些之外，负集非常方便，因为否则，您需要用`(a|b|c| ... )`列出不在集合中的每个字符的形式的表达式替换它们，这非常乏味且过长，如果整个字符集是Unicode。

多亏了形式语言理论，我们才能看到这样的表达方式。使用 GNU `grep`，答案将类似于：

```
grep "^\([^h]\|h\(h\|eh\|edh\)*\([^eh]\|e[^dh]\|ed[^eh]\)\)*\(\|h\(h\|eh\|edh\)*\(\|e\|ed\)\)$" input 
```

（在[Grail](http://web.archive.org/web/20021212105838/http://www.csd.uwo.ca/research/grail/)中找到并进行了一些进一步的手工优化）。

您还可以使用实现[扩展正则表达式](http://pubs.opengroup.org/onlinepubs/7908799/xbd/re.html#tag_007_004)的工具，例如`egrep`，摆脱反斜杠：

```
egrep "^([^h]|h(h|eh|edh)*([^eh]|e[^dh]|ed[^eh]))*(|h(h|eh|edh)*(|e|ed))$" input 
```

这是一个测试它的脚本（注意它`testinput.txt`在当前目录中生成一个文件）。提出的几个表达式未通过此测试。

```
#!/bin/bash
REGEX="^\([^h]\|h\(h\|eh\|edh\)*\([^eh]\|e[^dh]\|ed[^eh]\)\)*\(\|h\(h\|eh\|edh\)*\(\|e\|ed\)\)$"

# First four lines as in OP's testcase.
cat > testinput.txt <<EOF
hoho
hihi
haha
hede

h
he
ah
head
ahead
ahed
aheda
ahede
hhede
hehede
hedhede
hehehehehehedehehe
hedecidedthat
EOF
diff -s -u <(grep -v hede testinput.txt) <(grep "$REGEX" testinput.txt) 
```

在我的系统中，它打印：

```
Files /dev/fd/63 and /dev/fd/62 are identical 
```

正如预期的那样。

对于那些对细节感兴趣的人，所采用的技术是将匹配单词的正则表达式转换为有限自动机，然后通过将每个接受状态更改为非接受状态来反转自动机，反之亦然，然后将生成的 FA 转换回一个正则表达式。

正如大家所注意到的，如果你的正则表达式引擎支持负前瞻，那么正则表达式就会简单得多。例如，使用 GNU grep：

```
grep -P '^((?!hede).)*$' input 
```

但是，这种方法的缺点是需要回溯正则表达式引擎。这使得它不适合使用像[RE2](https://github.com/google/re2/wiki/WhyRE2)这样的安全正则表达式引擎的安装，这是在某些情况下更喜欢生成方法的原因之一。

使用 Kendall Hopkins 出色的[FormalTheory](https://github.com/KendallHopkins/FormalTheory)库，用 PHP 编写，它提供类似于 Grail 的功能，以及我自己编写的简化器，我已经能够编写一个负正则表达式的在线生成器，给定输入短语（只有字母数字和空格当前支持的字符）：[http ://www.formauri.es/personal/pgimeno/misc/non-match-regex/](http://www.formauri.es/personal/pgimeno/misc/non-match-regex/)

因为`hede`它输出：

```
^([^h]|h(h|e(h|dh))*([^eh]|e([^dh]|d[^eh])))*(h(h|e(h|dh))*(ed?)?)?$ 
```

相当于上面的。

* * *

## 回答 #15

> 赞同：23
> 
> 时间：2013-12-20T03:03:57.497

这是我的做法：

```
^[^h]*(h(?!ede)[^h]*)*$ 
```

比其他答案更准确、更有效。它实现了 Friedl 的*“展开循环”*效率技术，并且需要更少的回溯。

* * *

## 回答 #16

> 赞同：23
> 
> 时间：2018-11-24T18:26:48.317

在我看来，一个更易读的最佳答案变体：

```
^(?!.*hede) 
```

基本上，“当且仅当它没有'hede'时在行的开头匹配” - 所以要求几乎直接翻译成正则表达式。

当然，可能有多个失败要求：

```
^(?!.*(hede|hodo|hada)) 
```

**详细信息：** ^ 锚确保正则表达式引擎不会在字符串中的每个位置重试匹配，这将匹配每个字符串。

开头的 ^ 锚点表示该行的开头。grep 工具一次匹配每一行，在您使用多行字符串的上下文中，您可以使用“m”标志：

```
/^(?!.*hede)/m # JavaScript syntax 
```

或者

```
(?m)^(?!.*hede) # Inline flag 
```

* * *

## 回答 #17

> 赞同：20
> 
> 时间：2012-03-23T07:24:34.683

如果你想匹配一个字符来否定一个类似于否定字符类的单词：

例如，一个字符串：

```
<?
$str="aaa        bbb4      aaa     bbb7";
?> 
```

不使用：

```
<?
preg_match('/aaa[^bbb]+?bbb7/s', $str, $matches);
?> 
```

采用：

```
<?
preg_match('/aaa(?:(?!bbb).)+?bbb7/s', $str, $matches);
?> 
```

注意`"(?!bbb)."`既不是后视也不是前瞻，它是当前的，例如：

```
"(?=abc)abcde", "(?!abc)abcde" 
```

* * *

## 回答 #18

> 赞同：19
> 
> 时间：2019-08-01T02:36:22.530

另一种选择是添加一个正向预测并检查`hede`输入行中是否存在任何位置，然后我们将否定它，表达式类似于：

```
^(?!(?=.*\bhede\b)).*$ 
```

与单词边界。

* * *

[该表达式在regex101.com](https://regex101.com/r/S127jy/1/)的右上角面板上进行了说明，如果您希望探索/简化/修改它，并且在[此链接](https://regex101.com/r/S127jy/1/debugger)中，您可以查看它如何与一些示例输入匹配，如果您愿意的话。

* * *

### 正则表达式电路

[jex.im](https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24)可视化正则表达式：

[![在此处输入图像描述](https://i.stack.imgur.com/ShAAv.png)](https://i.stack.imgur.com/ShAAv.png)

* * *

## 回答 #19

> 赞同：15
> 
> 时间：2013-04-26T22:28:37.557

OP 没有指定或**`Tag`**帖子指示将在其中使用正则表达式的上下文（编程语言、编辑器、工具）。

对我来说，有时我需要在使用**`Textpad`**.

**`Textpad`**支持一些Regex，但不支持lookahead或lookbehind，所以需要几步。

如果我想保留所有***不***包含字符串的行**`hede`**，我会这样做：

> 1\. 搜索/替换整个文件以在包含任何文本的每一行的开头添加一个唯一的“标签”。

```
 Search string:^(.)  
    Replace string:<@#-unique-#@>\1  
    Replace-all 
```

> 2.删除所有包含字符串的行**`hede`**（替换字符串为空）：

```
 Search string:<@#-unique-#@>.*hede.*\n  
    Replace string:<nothing>  
    Replace-all 
```

> 3.此时，所有剩余的行***都不***包含字符串**`hede`**。从所有行中删除唯一的“标签”（替换字符串为空）：

```
 Search string:<@#-unique-#@>
    Replace string:<nothing>  
    Replace-all 
```

**`hede`**现在，您拥有删除 了包含该字符串的所有行的原始文本。

* * *

如果我只想对***不***包含字符串的行执行***其他***操作，我会这样做：***`hede`***

 *> 1\. 搜索/替换整个文件以在包含任何文本的每一行的开头添加一个唯一的“标签”。

```
 Search string:^(.)  
    Replace string:<@#-unique-#@>\1  
    Replace-all 
```

> 2.对于所有包含字符串的行**`hede`**，删除唯一的“标签”：

```
 Search string:<@#-unique-#@>(.*hede)
    Replace string:\1  
    Replace-all 
```

> 3.此时，所有以唯一“Tag”开头的行，都***不要***包含字符串**`hede`**。我现在可以只对那些行做***一些别的事情。***

> 4\. 完成后，我从所有行中删除唯一的“标签”（替换字符串为空）：

```
 Search string:<@#-unique-#@>
    Replace string:<nothing>  
    Replace-all 
```

* * *

## 回答 #20

> 赞同：13
> 
> 时间：2017-03-23T13:42:32.337

自 ruby​​-2.4.1 引入以来，我们可以在 Ruby 的正则表达式中使用新的[Absent Operator](https://github.com/k-takata/Onigmo/issues/82)

来自官方[文档](https://github.com/k-takata/Onigmo/commit/8d0f9d3c20134e204e6913b9f1e7779f49f9d58f)

```
(?~abc) matches: "", "ab", "aab", "cccc", etc.
It doesn't match: "abc", "aabc", "ccccabc", etc. 
```

因此，在您的情况下`^(?~hede)$`为您完成工作

```
2.4.1 :016 > ["hoho", "hihi", "haha", "hede"].select{|s| /^(?~hede)$/.match(s)}
 => ["hoho", "hihi", "haha"] 
```

* * *

## 回答 #21

> 赞同：11
> 
> 时间：2014-10-09T07:00:55.703

**通过 PCRE 动词`(*SKIP)(*F)`**

```
^hede$(*SKIP)(*F)|^.*$ 
```

这将完全跳过包含确切字符串`hede`并匹配所有剩余行的行。

[演示](http://regex101.com/r/kR0tO2/1)

**部分执行：**

让我们通过将其分为两部分来考虑上述正则表达式。

1.  `|`符号前的部分。部分**不应该匹配**。

    ```
    ^hede$(*SKIP)(*F) 
    ```

2.  `|`符号后的部分。部分**应匹配**。

    ```
    ^.*$ 
    ```

**第1部分**

正则表达式引擎将从第一部分开始执行。

```
^hede$(*SKIP)(*F) 
```

**解释：**

*   `^`断言我们处于起步阶段。
*   `hede`匹配字符串`hede`
*   `$`断言我们在行尾。

所以包含字符串的`hede`行将被匹配。一旦正则表达式引擎看到以下`(*SKIP)(*F)`（*注意：您可以写`(*F)`为`(*FAIL)`*）动词，它就会跳过并使匹配失败。`|`在 PCRE 动词旁边添加了称为更改或逻辑 OR 运算符，它反过来匹配所有行上每个字符之间存在的所有边界，但该行包含确切的字符串`hede`。[在此处](http://regex101.com/r/kR0tO2/2)查看演示。也就是说，它尝试匹配剩余字符串中的字符。现在将执行第二部分中的正则表达式。

**第2部分**

```
^.*$ 
```

**解释：**

*   `^` 断言我们处于起步阶段。即，它匹配除该行中的行之外的所有行开头`hede`。[在此处](http://regex101.com/r/kR0tO2/3)查看演示。
*   `.*`在多行模式下，`.`将匹配除换行符或回车符之外的任何字符。并且`*`会重复前一个字符零次或多次。所以`.*`会匹配整条线。[在此处](http://regex101.com/r/kR0tO2/4)查看演示。

    **嘿为什么你添加 .* 而不是 .+ ？**

    因为`.*`会匹配一个空白行但`.+`不会匹配一个空白。我们要匹配所有行，除了`hede`输入中可能还有空行。所以你必须使用`.*`而不是`.+`. `.+`会重复前一个字符一次或多次。看[这里](http://regex101.com/r/kR0tO2/5)`.*`匹配一个空行。

*   `$`此处不需要行尾锚。

* * *

## 回答 #22

> 赞同：8
> 
> 时间：2014-06-25T01:23:45.163

[TXR 语言](http://www.nongnu.org/txr/)支持正则表达式否定。

```
$ txr -c '@(repeat)
@{nothede /~hede/}
@(do (put-line nothede))
@(end)'  Input 
```

一个更复杂的例子：匹配所有以 开头`a`和结尾`z`但不包含子字符串的行`hede`：

```
$ txr -c '@(repeat)
@{nothede /a.*z&~.*hede.*/}
@(do (put-line nothede))
@(end)' -
az         <- echoed
az
abcz       <- echoed
abcz
abhederz   <- not echoed; contains hede
ahedez     <- not echoed; contains hede
ace        <- not echoed; does not end in z
ahedz      <- echoed
ahedz 
```

正则表达式否定本身并不是特别有用，但是当你也有交集时，事情会变得有趣，因为你有一套完整的布尔集操作：你可以表达“匹配这个的集合，除了匹配那个的东西”。

* * *

## 回答 #23

> 赞同：8
> 
> 时间：2015-02-18T11:45:28.343

您的代码中的两个正则表达式可能更易于维护，一个进行第一个匹配，然后如果匹配，则运行第二个正则表达式以检查您希望阻止的异常情况，`^.*(hede).*`然后在您的代码中具有适当的逻辑。

好的，我承认这并不是对发布的问题的真正答案，它也可能比单个正则表达式使用更多的处理。但是对于来这里寻找异常情况的快速紧急修复的开发人员来说，这个解决方案不容忽视。

* * *

## 回答 #24

> 赞同：6
> 
> 时间：2016-12-21T04:55:17.550

以下功能将帮助您获得所需的输出

```
<?PHP
      function removePrepositions($text){

            $propositions=array('/\bfor\b/i','/\bthe\b/i'); 

            if( count($propositions) > 0 ) {
                foreach($propositions as $exceptionPhrase) {
                    $text = preg_replace($exceptionPhrase, '', trim($text));

                }
            $retval = trim($text);

            }
        return $retval;
    }

?> 
```

* * *

## 回答 #25

> 赞同：6
> 
> 时间：2020-04-28T18:53:32.600

**如果您尝试匹配包含字符串X**但不包含字符串**Y**的整行，我想添加另一个示例。

例如，假设我们要检查我们的 URL / 字符串是否包含“ **taste-treats** ”，只要它在任何地方都不包含“ **chocolate** ”。

这个正则表达式模式可以工作（也可以在 JavaScript 中工作）

```
^(?=.*?tasty-treats)((?!chocolate).)*$ 
```

*（例如全局，多行标志）*

**交互式示例：[https ://regexr.com/53gv4](https://regexr.com/53gv4)**

### 火柴

*（这些网址包含“tasty-treats”，也不包含“chocolate”）*

*   example.com/tasty-treats/strawberry-ice-cream
*   example.com/desserts/tasty-treats/banana-pudding
*   example.com/tasty-treats-overview

### 不匹配

*（这些网址在某处包含“巧克力” - 因此即使它们包含“美味佳肴”，它们也不会匹配）*

*   example.com/tasty-treats/chocolate-cake
*   example.com/home-cooking/oven-roasted-chicken
*   example.com/tasty-treats/banana-chocolate-fudge
*   example.com/desserts/chocolate/tasty-treats
*   example.com/chocolate/tasty-treats/desserts

* * *

## 回答 #26

> 赞同：6
> 
> 时间：2020-06-15T11:02:11.627

只要您正在处理*线条*，只需**标记否定匹配项并针对其余部分**。

事实上，我在 sed 中使用了这个技巧，因为`^((?!hede).)*$`它看起来不支持。

# 对于所需的输出

1.  标记否定匹配：（例如带有 的行`hede`），使用完全不包含在整个文本中的字符。为此，表情符号可能是一个不错的选择。

    ```
    s/(.*hede)/\1/g 
    ```

2.  定位其余部分（未标记的字符串：例如没有 的行`hede`）。假设您只想*保留目标*并删除其余部分（如您所愿）：

    ```
    s/^.*//g 
    ```

# 为了更好的理解

假设您要*删除目标*：

1.  标记否定匹配：（例如带有 的行`hede`），使用完全不包含在整个文本中的字符。为此，表情符号可能是一个不错的选择。

    ```
    s/(.*hede)/\1/g 
    ```

2.  定位其余部分（未标记的字符串：例如没有 的行`hede`）。假设您要*删除目标*：

    ```
    s/^[^].*//g 
    ```

3.  删除标记：

    ```
    s///g 
    ```

* * *

## 回答 #27

> 赞同：5
> 
> 时间：2019-03-26T12:21:23.923

`^((?!hede).)*$`是一个优雅的解决方案，除了因为它消耗字符，您将无法将它与其他标准结合起来。例如，假设您想检查“hede”的不存在和“haha”的存在。此解决方案将起作用，因为它不会消耗字符：

```
^(?!.*\bhede\b)(?=.*\bhaha\b) 
```

* * *

## 回答 #28

> 赞同：3
> 
> 时间：2017-10-11T10:12:31.233

## 如何使用 PCRE 的回溯控制动词来匹配不包含单词的行

这是我以前从未见过的一种方法：

```
/.*hede(*COMMIT)^|/ 
```

## 这个怎么运作

首先，它试图在该行的某处找到“hede”。如果成功，此时`(*COMMIT)`会告诉引擎，不仅在失败的情况下不要回溯，而且在这种情况下也不要尝试任何进一步的匹配。然后，我们尝试匹配一些不可能匹配的东西（在本例中为`^`）。

如果一行不包含“hede”，那么第二个备选方案，一个空的子模式，成功地匹配主题字符串。

这种方法并不比负前瞻更有效，但我想我会把它放在这里，以防有人觉得它很漂亮，并发现它可以用于其他更有趣的应用程序。

* * *

## 回答 #29

> 赞同：1
> 
> 时间：2016-09-13T13:52:13.023

一个更简单的解决方案是使用 not 运算符**！**

您的***if***语句需要匹配“包含”而不是“排除”。

```
var contains = /abc/;
var excludes =/hede/;

if(string.match(contains) && !(string.match(excludes))){  //proceed... 
```

我相信 RegEx 的设计者预料到了 not 运算符的使用。

* * *

## 回答 #30

> 赞同：1
> 
> 时间：2018-04-25T18:15:32.483

也许你会在谷歌上找到这个，同时尝试编写一个能够匹配**不**包含子字符串的行段（而不是整行）的正则表达式。我花了一段时间才弄清楚，所以我会分享：

给定一个字符串： `<span class="good">bar</span><span class="bad">foo</span><span class="ugly">baz</span>`

我想匹配`<span>`不包含子字符串“bad”的标签。

`/<span(?:(?!bad).)*?>`将匹配`<span class=\"good\">`和`<span class=\"ugly\">`。

请注意，有两组（层）括号：

*   最里面的一个用于负前瞻（它不是捕获组）
*   最外层被 Ruby 解释为捕获组，但我们不希望它成为捕获组，所以我添加了 ?: 在它的开头，它不再被解释为捕获组。

Ruby 中的演示：

```
s = '<span class="good">bar</span><span class="bad">foo</span><span class="ugly">baz</span>'
s.scan(/<span(?:(?!bad).)*?>/)
# => ["<span class=\"good\">", "<span class=\"ugly\">"] 
```

* * *

## 回答 #31

> 赞同：1
> 
> 时间：2018-07-09T17:08:32.053

使用[ConyEdit](https://www.conyedit.com)，您可以使用命令行`cc.gl !/hede/`获取不包含正则表达式匹配的行，或使用命令行`cc.dl /hede/`删除包含正则表达式匹配的行。他们有相同的结果。

# .net - 回发前会话检查

> ID：406234
> 
> 赞同：0
> 
> 时间：2009-01-02T07:32:56.340
> 
> 标签：.net, session, postback

不应在 Session 之前检查 PostBack

```
protected void Page_Load(object sender, EventArgs e)
{
    if (Session["login"] != null && Session["login"].ToString() == "1")
    {
        if (!IsPostBack)
        {
            LoadData();
        }
    }
    else
    {
        Response.Redirect("login.aspx");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T07:38:07.953

这取决于你在做什么，通常我会说不。

会话可能会在页面加载时间和回发发生时间之间到期。诚然，他们必须在页面上停留很长时间，但这可能会发生。

首先检查会话，确保会话信息始终可用。

# java - 用纯 java 拆分包

> ID：406247
> 
> 赞同：6
> 
> 时间：2009-01-02T07:44:14.383
> 
> 标签：java, osgi, packages

OSGi 存在拆分包的问题，​​即同一个包但托管在多个包中。

是否存在拆分包可能会在纯 java（没有 OSGi）中造成问题的边缘情况？

只是好奇。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-05-19T12:02:02.537

## 拆分包的来源

*拆分包*（在 OSGi 中）在使用清单标头时发生`Require-Bundle`（我相信，在 Eclipse 的清单中）。`Require-Bundle`命名用于搜索类的其他包（如果未`Import`编辑包）。搜索发生在搜索捆绑包自己的类路径之前。*这允许从多个*包（可能是不同的 jar）的导出中加载单个包的类。

OSGi 规范 (4.1) 第 3.13 节描述`Require-Bundle`并列出了一长串使用此标头的（意外）后果（是否应弃用此标头？），其中一节专门用于*拆分包*。其中一些后果是奇怪的（而且是特定于 OSGi 的），但如果你了解一件事，大多数后果是可以避免的：

*   如果一个***类***（在一个包中）由多个包提供，那么你就有麻烦了。

如果包片段是不相交的，那么一切都应该很好，除了你可能没有在任何地方都*可见*类，并且如果从拆分包的“错误”部分查看包可见性成员可能看起来是私有的。

[当然这太简单了——可以安装多个版本的包——但是从应用程序的角度来看*，任何时候*一个包中的所有类都应该来自一个模块。]

## “标准 Java”中会发生什么

在标准 Java 中，没有花哨的类加载器，您有一个类路径，并且为要加载的类搜索 jar（和目录）的顺序是固定且明确定义的：所得到的就是所得到的。（但是，我们放弃了可管理的模块化。）

当然，你可以拆分包——事实上这很常见——这表明模块化很差。症状可能是模糊的编译/构建时错误，但在多个类实现的情况下（一个覆盖单个类路径中的其余部分），由于语义略有不同，它通常会产生模糊的运行时行为.

如果你很***幸运***，你最终会在没有意识到的情况下查看错误的代码并问自己“但那怎么可能做到*这一点*？”
如果你***不走运***，你正在查看正确的代码并提出完全相同的问题——因为其他东西会产生意想不到的答案。

这与古老的数据库格言并不完全不同：“如果你在两个地方记录相同的信息，很快它就不再一样了”。我们的问题是“很快”通常不够快。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-01-02T08:04:13.190

对于 OSGi 的包来说，不同的包是不同的，不管它们的名字是什么，因为每个包都使用自己的类加载器。确保捆绑包的封装不是问题，而是一个特性。

因此，在普通 Java 中，这通常不是问题，直到您开始使用一些使用类加载器的框架。这通常是加载组件时的情况。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T12:10:43.087

跨 jar 拆分包可能不是一个好主意。我建议密封罐子中的所有包裹（放在`"Sealed: true"`清单的主要部分）。密封的包装不能在罐子之间分开。

对于 OSGi，具有相同包名但类加载器不同的类被视为位于不同的包中。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-01-02T14:16:55.267

如果您在同一个包中有类并且有些类在已签名的 JAR 中，而另一些则不在，您将得到一个令人讨厌的运行时错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T14:11:50.160

你问是因为有问题的包是你的，而不是第三方代码？

一个简单的例子是一个 Web 应用程序，它具有作为单独的 OSGi 包的服务和持久层。持久性接口必须由两个捆绑包共享。

如果我正确解释了您的问题，解决方案是创建一个包含共享接口的密封 JAR 并使其成为两个捆绑包的一部分吗？

我并不是要尝试劫持线程。我要求那些迄今为止可能比我在 OSGi 上做得更多的人进行澄清和提供一些更好的见解。

# iphone - 无法使用 google 帐户身份验证从 iPhone 发布数据

> ID：406249
> 
> 赞同：2
> 
> 时间：2009-01-02T07:50:58.410
> 
> 标签：iphone, google-app-engine, authentication

我正在开发一个与 Google App Engine 应用程序一起使用的 iPhone 应用程序。我设法使用谷歌帐户登录并获得身份验证令牌。我还可以从 GAE 服务获取数据（我是在阅读了这里写的另一个问题后才这样做的）但是现在我需要 POST 数据，所以我需要在 POST 请求的标头中发送身份验证令牌。我尝试了几种选择，但都没有奏效。

这是我用来将该身份验证放入标头的代码：

```
NSString* urlStr = [NSString stringWithFormat:@"%@%@", HOST, url];
NSMutableURLRequest* urlPost = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:urlStr]]; 
NSString* authStr = [NSString stringWithFormat:@"GoogleLogin auth=%@", token];
[urlPost addValue:authStr forHTTPHeaderField:@"Authorization"]; 
```

但它不起作用。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T13:00:18.667

您需要使用`[request setHTTPMethod: @"POST"]`并`[request setHTTPBody: postdata]`正确配置 POST 组件。有关更多详细信息，请参阅[NSMutableURLRequest](http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableURLRequest_Class/NSMutableURLRequest_Class.pdf)文档。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T08:34:26.793

每当我解决与 HTTP 相关的问题时，我会使用的第一个工具是[Charles HTTP Proxy](http://www.charlesproxy.com/)。它将向您显示整个请求和响应以供仔细检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-05-03T14:07:59.357

如果您针对 App Engine 应用程序进行身份验证，则需要获取并发送身份验证 cookie，而不是使用 GoogleLogin 身份验证。Python SDK 中的 appengine_rpc.py 的源代码演示了如何操作。

# ruby - 在非 ruby 项目中使用 rake

> ID：406252
> 
> 赞同：12
> 
> 时间：2009-01-02T07:53:13.180
> 
> 标签：ruby, rake, autoconf

一位同事提出了使用 rake 作为非 ruby​​ 项目的构建系统的想法。是否可以扩展 rake 以补充通常使用 autoconf 工具集的其他语言？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T07:56:52.067

有这样的例子，比如[buildr](http://incubator.apache.org/buildr/)，它是构建在 rake 之上的 maven（用于 java）的替代品。java也有[raven](http://raven.rubyforge.org/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-07T21:31:11.673

[waf](http://code.google.com/p/waf/)和[SCons](http://www.scons.org/)等工具是基于 Python 的构建系统，专门为广泛的语言支持而开发。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-07T20:59:46.870

您可以在手册中找到如何使用 Rake 作为 Makefile 的简单替代品...

我几乎专门将它用于我自己编写的构建...如果您使用 Java，更好的选择是 Ant 和 Maven - 它们背后有很多代码...但是，至于我，您必须有点头脑*ed 用 XML 编程，所以我经常使用 Rake 执行许多任务，并从 Ant/Maven 调用它，如下所示：

```
<target name="custom_task">
    <exec executable="/usr/bin/env">
        <arg value="rake"/>
        <arg value="some-task"/>
        <arg value="param" />
    </exec>
</target> 
```

它可能效率不高，特别是如果你必须在 JVM 上运行任何东西，它不能使用 Ant 的，所以这不是最好的主意......我没有尝试过 JRuby，也许值得一试......但是对于其他任务 - 文件处理，对文本文件做一些事情等，它对我来说真的很好:-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T08:13:37.587

我用它在几个非 Rails 项目上部署（Capistrano）。一个 Java (servlet) 和几个静态 HTML 站点。

非常便利。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-04T20:03:50.103

I use it to compile Flex applications. I've written [wrappers around the Flex SDK command line tools](http://github.com/iconara/flexutils) -- it's easy to do for any tool chain that can be called from the command line.

# c# - LINQ where子句疑问

> ID：406253
> 
> 赞同：4
> 
> 时间：2009-01-02T07:54:01.167
> 
> 标签：c#, linq, where, clause

我已经在 Linq 中尝试了一个 where 子句来获取关于`User`s 的详细信息，这些都是真实的`Active`并且`AllowLogin`也是真实的。

那么如何将表值（都是布尔值）与真或假进行比较？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-01-02T08:03:30.010

只需使用类似的东西：

```
var query = from user in context.Users
            where user.Active && user.AllowLogin
            select user; 
```

或者，您可以编写没有查询表达式的相同查询：

```
var query = context.Users.Where(user => user.Active && user.AllowLogin); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-11T09:44:21.513

```
var qry = (from en in Contaxt.tblStatDefinitions
                   where en.Name == "Sunandan"
                   select en.id).Single(); 
```

# abap - 如何存储配置数据以便在数据库复制期间不复制它？

> ID：406254
> 
> 赞同：2
> 
> 时间：2009-01-02T07:55:33.957
> 
> 标签：abap, sap-basis

有些参数我不想从生产环境转移到 QA 系统。工作人员喜欢网络路径和网址。问题是在 ABAP 中，一切都在数据库中，当数据库复制到 QA 系统时，您必须手动更改这些参数。这很容易出错。

有没有办法以不会随数据库传输的方式存储配置信息？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-06T22:33:32.860

简而言之：不——至少这在 SAP 环境中是非常不寻常的。

如果您的 QA 系统设置为生产环境的系统副本（这是通常的路径），则需要执行很多步骤才能使系统正常工作。这包括一些配置，可以像您提到的文件路径一样简单，还包括“合作伙伴系统”的地址和名称。例如，我的一个客户是一家银行，所以在复制他的生产系统时，他三重确保 QA 端的任何活动都不会意外地流入生产端。还进行了一些其他更改，例如隐藏人们的姓名和地址，因此不会意外发送邮件等。

有几种方法可以使应用这些更改尽可能容易（查找一些 SAP 文档或有关 SAP 传输和更改管理的书籍，我有一本 Sue McFarland Metzger 的书，或者相当不错）。据我所见，通常有一组传输将 QA 系统上的配置和定制等更改为适当的值。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-06T16:26:52.587

您的问题不清楚，您是在谈论标准配置还是自定义配置？

问候，假设您将这些路径存储在 Z 表中，那么一些商店将 sy-sysid (system id) 作为列之一。维护开发中的所有系统并将其传输到生产。一段时间后这会变得很痛苦，所以我只建议对于变化不大的信息（文件路径可能很好）。

T。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T13:19:28.197

您无法阻止将存储在数据库中的配置复制到克隆的实例中。但是，您可以设计配置存储以防止使用复制的条目。您应该与您的基础管理员确认他们是否可以保证克隆的系统将获得一个新的系统 ID (SID)。如果是这种情况，那么您可以简单地使用 SID 作为配置表中的关键字段。系统复制后，SID 会发生变化，克隆的系统将不再访问原始条目。

# perl - 你使用的是哪个版本的 Perl？

> ID：406258
> 
> 赞同：6
> 
> 时间：2009-01-02T08:01:43.257
> 
> 标签：perl, perl5.8

根据 CPAN 上的 Perl 源代码页，5.8.9 现在已经 14 天了，将是最后一个 5.8 版本。5.10.0 已经有一年多了，大概可以在生产环境中使用了。

现在暂且不谈 Perl 6，我能问一下 Perl 的人正在测试、推出和在生产中使用哪些版本？我们目前已经在我们的 Ubuntu（工作站）和 Solaris（生产）平台上对 5.8.8 进行了标准化，我想知道小步升级到 5.8.9 或大步升级到 5.10.0 的利弊。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-03T21:05:11.307

根据 Perl 调查，一年多前执行，现在早于 5.10，因为人们使用的 Perl**最低版本...**

```
4.x     3%
5.0.x   3%
5.4.x   2%
5.5.x   6%
5.6.x   17%
5.8.x   66% 
```

**最大值**是...

```
5.6.x   3%
5.8.x   88%
5.9.x   5% 
```

5.6.1 和 5.8.8 在其主要组中最受欢迎。缺失的百分比是杂项版本。

由于该调查没有定义“使用”的含义，即。如果您实际上是在其上运行生产代码，或者您只是针对它测试您的软件以实现向后兼容性，或者您只是为了好玩，那么最低限度可以采取一粒盐。

这些数据，以及用户普遍缺乏反馈，导致我从我维护的模块安装工具链模块（MakeMaker 和 Test::More）中放弃对 5.5.x 的支持，从而有效地[终止了 5.5.x](http://perlbuzz.com/2007/11/one-man-kills-perl-55-and-more-power-to-him.html)。5.6 有暂缓执行，但仍在死囚牢房。

我个人最近才从 5.8.8 切换到 5.10.0。我知道在旧版应用程序中仍在使用 5.6.1 的地方，但他们已尽可能多地迁移到 5.8.8 和所有新开发。我不知道有人还在生产中使用 5.5。为了向后兼容，我测试了 5.6.2、5.8.8 和 5.10.0。数字表明我应该测试 5.6.1 而不是 5.6.2，但到目前为止，我可能会被那些甚至不会升级到他们产品线中最新的 bugfix 版本的人嘲笑。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T10:24:15.043

我在开发中使用 Perl 5.10.0，在生产中使用 5.8.8，并且代码经过兼容性测试。但是我还没有见过比 Perl 5.10.0 版本这么多的 Perl 内部 bug 真是太可怕了。我已经报告了三个容易重现的断言违规和核心转储，并且仍然处理了一些奇怪的难以重现的错误，这些错误会导致核心转储、内存泄漏等。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2009-01-02T11:47:56.287

Perl 5.8.8 是（至少在 5.10.1 之前）我们的生产环境。5.10.0 中的性能回归（例如，关于 sub 中的 @_ 分配）使我们无法在生产中使用。

但是我们使用 5.8.8 和 5.10.0 运行我们的测试套件，为将来迁移到 5.10.x 做准备。我正在尝试拥有一个可以编译 bleadperl 并运行我们的测试套件的系统......

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-06T04:34:36.097

初级开发 5.10，QA 和生产 5.8.8 。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T08:55:00.827

我们在生产服务器中使用 v5.6.1。我想我们是老学校。:P

除非您需要特定功能，否则我认为仅升级可能需要对所有相关组件进行大量测试。

所以这只回答了你的第一个问题。对于第二个，您可能想研究新版本中的新功能是什么。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-01-02T09:14:20.100

我主要使用 Perl 5.10.0。我在 5.6.1 和 5.8.8 上测试向后兼容性。我仍然有一个我偶尔使用的 Perl 5.5.3。（我仍然有 5.4.4 或 5.004_04 的源代码，因为它当时被称为；它目前尚未构建，我想不出我需要这样做的几个原因。）

感谢您提供有关 5.8.9 的信息。我必须得到那个。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-01-02T11:08:28.233

几周前我才开始使用 5.10.0，但我一直在 5.8 上测试我的模块。当我在 CPAN 上上传一些东西时，如果可能的话，我会努力使它与 5.6 兼容。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2009-01-03T00:39:16.667

[*您*](https://stackoverflow.com/questions/398221/how-do-you-manage-perl-modules-on-linux#398397)[可能还喜欢我对如何在 Linux 上管理 Perl 模块的](https://stackoverflow.com/questions/398221/how-do-you-manage-perl-modules-on-linux#398397)*回答？. 我安装了几个版本的 Perl 并针对其中的许多版本进行了测试。*

 ** * *

## 回答 #9

> 赞同：1
> 
> 时间：2009-01-03T00:52:12.303

5.8.8 在 FreeBSD 上用于生产和开发。我们正准备推出一个虚拟机/监狱来测试 5.10（以验证未来的兼容性）。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2009-01-03T04:51:30.807

我使用`Perl 5.10`，主要是因为我迫不及待地等到`Perl6`实现更完整

# .net-3.5 - 如何在 XPS 文档中创建可编辑表单（例如带有文本框控件的 PDF 表单）？

> ID：406259
> 
> 赞同：0
> 
> 时间：2009-01-02T08:02:12.647
> 
> 标签：.net-3.5, xpsdocument

**我想创建一个具有 TextBox 控件的可编辑表单，该表单应该能够提交到 Web 服务，然后它将解析文档。XPS文档可以做到这一点吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-03-08T17:34:22.527

我一直在研究同样的问题。我刚刚浏览了 XPS 规范，看来 XPS 只专注于表示静态内容。我没有看到任何规定可以代表编辑控件之类的东西。微软通过“扁平化”XAML UI 使从 XAML UI 标记到 XPS 变得简单，所以我认为他们期望在 XAML 中定义交互式 UI，并且可打印的页面布局信息是 XPS。这似乎在中间留下了一个漏洞：形成的内容在布局中基本上是“静态的”，但包括用户输入字段。-Roy，Satori 实验室

# c# - 如何拦截来自应用程序的 HTTP 调用？

> ID：406275
> 
> 赞同：2
> 
> 时间：2009-01-02T08:16:18.843
> 
> 标签：c#, http, profiling

我想查看某个应用程序发出的所有 HTTP 请求，并在需要时取消它们。

有没有办法在 C# 中做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-01-02T08:28:19.710

如果您可以触摸系统的代理配置（由许多应用程序使用），或者如果应用程序不注意该设置，请触摸应用程序的配置以使用您选择的代理，您可以创建一个[HTTP 代理](http://www.mentalis.org/soft/projects/proxy/)来执行为你工作。

如果你只是想分析，有一个现成的工具，它的行为就像这样并且非常好，[Fiddler](http://www.fiddlertool.com/)。

否则，您必须深入网络堆栈并实现嗅探器/防火墙之类的东西，例如使用[WinPcap](http://www.winpcap.org/)。这很难做到。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T08:42:18.167

如果您使用的是 Windows，则可以挂钩 WinInet API 调用并使用它们做任何您想做的事情。

[FreeCap](http://www.freecap.ru/eng/)（或其商业版本，WideCap）这样做：允许您通过代理服务器发送 TCP 流量。然后该代理可能会进行过滤（例如[Fiddler](http://www.fiddler2.com/)）。

我知道这会给系统带来更多的独立应用程序，但它确实有效。

# asp.net - ASP.NET 网页架构设计

> ID：406279
> 
> 赞同：1
> 
> 时间：2009-01-02T08:19:25.360
> 
> 标签：asp.net, architecture, web-applications

我在编写 Web 应用程序架构时遇到的问题是我想要单独的组件一起工作。我的意思是，例如，ASP.NET 中的导航栏和实际页面内容（以及静态标题）。

现在，这就是有趣的地方：

*   没有两个相同的页面
*   每个页面上的导航页面都具有逐个用户的安全性
*   导航有指向其他位置的链接

我主要遇到的问题是您通常必须在 Visual Studio 中有一个完整的网页，如果您有部分，即不包括 <html> 标签，那么 Visual Studio 最终会在所有内容下划线为不正确。

当前处理此应用程序的方式是使用框架（是的，框架）将所有内容分开，但可以协同工作。我想摆脱这个，尽管网络系统非常大，而且非常重要，因为它必须 24/7 全天候可用。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T08:23:17.440

您看过 ASP.NET 2.0 中的母版页吗？这些可以与用户控件和[站点地图导航](http://msdn.microsoft.com/en-us/library/aa581781.aspx)结合使用。

*   [母版页快速入门教程](http://quickstarts.asp.net/quickstartv20/aspnet/doc/masterpages/default.aspx)

*   [MSDN 概述](http://msdn.microsoft.com/en-us/library/wtxbf3hh.aspx)

*   [母版页：提示、技巧和陷阱](http://www.odetocode.com/articles/450.aspx)

*   [示例模板集](http://msdn.microsoft.com/en-us/asp.net/aa336603.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T08:23:04.213

不能为此实现 UserControls 吗？例如一个导航用户控件，可以为自己处理安全等。

希望这有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T08:23:24.493

你应该看看一本非常好的书，它可能会为你的问题提供一些启示。它是“ASP.NET 2.0 网站编程：问题 - 设计 - 解决方案”，Wrox 系列的一部分。

# entity - 数据属性的实体对象 getter 和 setter

> ID：406288
> 
> 赞同：2
> 
> 时间：2009-01-02T08:24:57.923
> 
> 标签：entity, anti-patterns, setter, getter

我最近开始在 Java 中工作，并被介绍给一切事物的 getter 和 setter 的狂野而疯狂的世界。起初我讨厌它，但很快就习惯了。太习惯了。

最近我花了很多时间来更多地思考班级设计。我正在尝试做的一件事是避免为所有事情做 getter 和 setter 的陷阱。然而，我所做的大部分工作都是处理主要是数据容器的实体，我不确定在这些情况下 getter 和 setter 是否真的不合适。

这是一个使用公共属性的简单示例。

```
class Space {
    public String name;
    public String description;
    Space(final String name, final String description) {
        this.name = name;
        this.description = description;
    }
} 
```

这是一个使用私有属性并使用 getter 和 setter 的简单示例。

```
class Space {
    private String name;
    private String description;
    Space(final String name, final String description) {
        this.name = name;
        this.description = description;
    }
    public String getName() {
        return this.name;
    }
    public void setName(final String name) {
        this.name = name;
    }
    public String getDescription() {
        return this.description;
    }
    public void setDescription(final String description) {
        this.description = description;
    }
} 
```

在这些示例中， the`name`和`description`字段都应该可以更改。

我觉得 getter/setter 示例更清晰，并且隐藏了 what`name`和`description`are 的实现细节。如果需要，它还允许稍后在片场进行验证。

我已经阅读了一些关于 getter 和 setter 是邪恶的和/或反模式的讨论，但感觉这些可能不适用于这种情况。

也许有一些我还没有考虑过的选择。我愿意接受建议！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T08:32:35.113

第一个版本（公共属性）不是一个好主意。第二个更好。正如 Josh Bloch 所说，[“支持不变性”](http://vision.bc.edu/~dmartin/teaching/cs102/2008s/reading/Bloch/Item13.pdf)：

```
public class Space {
    private final String name;
    private final String description;

    public Space(final String name, final String description) {
        this.name = name;
        this.description = description;
    }

    public String getName() {
        return name;
    }

    public String getDescription() {
        return description;
    }
} 
```

话虽如此，[getter 和 setter 往往被过度使用](http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T09:06:23.580

您听说过经常过于简单化的“get/setter 是邪恶的”。没有人（我希望）*真的*意味着数据对象有什么问题。我认为真正的想法是：

“Getter/Setter 是邪恶的，除了普通的数据存储对象”，这本身就是“告诉不问”的福音。

理想情况下，如果一个类有 getter 和 setter，那就是它应该有的*全部。*

无论如何，这就是争论。我不确定我是否同意。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T08:31:49.467

简单地说：

*   对于必须从外部读取的所有字段，您都需要 getter。
*   对于必须从外部写入的所有字段，您都需要设置器。

这可以是 100%，但大多数时候会更少。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T09:29:38.650

虽然访问器模式有助于隐藏类的实现细节（例如，使用哈希表来存储属性以节省稀疏使用的类的内存），但实现起来可能非常冗长（您的示例有 12 行以上的访问器）。这就是为什么 C# 有一个特殊的属性语法，它允许简洁地指定默认访问器：

```
class Space {
    public String Name { get; set; }
    public String Description { get; set; }
    Space(final String name, final String description) {
        this.Name = name;
        this.Description = description;
    }
} 
```

替代形式可以添加访问说明符和/或代码：

```
private String _name;
public String Name {
    get { if (_name == null) FetchName(); return _name; }
    private set { _name = value; }
} 
```

# c# - 在 .Net 2.0 中使用可空类型时有什么我应该担心的吗？

> ID：406293
> 
> 赞同：2
> 
> 时间：2009-01-02T08:29:54.200
> 
> 标签：c#, nullable

C# 2.0 让我可以访问可空类型。当我希望数据库中的 DateTime 变量为空时，这似乎非常方便。使用可空类型时我应该担心什么，或者我是否可以过分让我拥有的每个类型都可以为空？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T08:41:35.703

Mitch 的 DBNull 不为空是一个好点。还要注意这一点，这是合法的 C#，但会（幸运地）产生警告：

```
int x = 0;

// Much later
if (x == null) 
```

看起来它应该是非法的，但它是有效的，因为 x 可以隐式转换为可为空的 int。永远不要忽视这个警告。

您还应该注意表面上看起来与操作员不同的东西。例如，通常你会期望：

```
if (x <= y || x >= y) 
```

永远*都是*真的——但不是 when`x`和`y`are both `null`。然而，`x == y`这将是真的 - 不像 SQL，而且确实不像 VB！提升的运算符行为是由语言而不是运行时提供的，因此您需要了解您使用的每种语言将做什么。

最后，确保您了解装箱如何处理可空类型。可空值类型的非空值被装箱，就好像它一开始就不可为空一样，空值被装箱到简单的空引用。（即实际上没有创建框 - 运行时只返回空值）。您可以从空引用或基础类型的框拆箱为可空值类型。那有意义吗？（我在 C# in Depth 中更详细地介绍了它，希望能更清楚一点……但现在是 8.45，我还没有喝过咖啡……）

编辑：好的，也许一个例子会有所帮助：

```
int? i = 5;
int? j = null;

object x = i; // x = reference to boxed int (there's no such thing as a "boxed nullable int")
object y = j; // y = null (a simple null reference)

i = (int?) x; // Unboxing from boxed int to int? is fine.
j = (int?) y; // Unboxing from a null reference to int? is fine too. 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T08:33:22.913

注意`DBNull`哪一个是不同的`null`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T09:40:25.913

您还应该小心，仅在类的逻辑要求值确实可以为空的情况下才使用可空类型。这听起来可能很愚蠢，但是如果您“过火”并使所有内容都可以为空，您可能会使代码变得比必要的复杂。

当它在适当的地方使用时，我认为它可以提高代码质量，但如果它是多余的，请不要这样做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T09:42:47.483

有一个问题`GetType()`，在使用`new()`和泛型时特别明显：

```
static void Foo<T>() where T : new()
{
    T t = new T();
    string s = t.ToString(); // fine
    bool eq = t.Equals(t); // fine
    int hc = t.GetHashCode(); // fine
    Type type = t.GetType(); // BOOM!!!
} 
```

基本上，`GetType()`它不是不寻常的`virtual`，所以它总是被强制转换（装箱）到`object`. 不寻常的装箱规则意味着 this 调用`GetType()`，`null`这是不可能的。`GetType()`因此，如果您认为自己可能有空`Nullable<T>`对象，请不要调用。

另外 - 请注意，一些数据绑定方法不太喜欢`Nullable<T>`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T09:48:50.187

互操作性可能是一个问题——例如暴露给 COM 客户端或作为 Web 服务。

# sql-server - SQL Server 中的 LEFT JOIN 与 LEFT OUTER JOIN

> ID：406294
> 
> 赞同：1891
> 
> 时间：2009-01-02T08:30:10.297
> 
> 标签：sql-server, tsql, left-join, outer-join

`LEFT JOIN`和 和有什么不一样`LEFT OUTER JOIN`？

* * *

## 回答 #1

> 赞同：2560
> 
> 时间：2009-01-02T08:51:16.853

根据文档：[FROM (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms177634%28SQL.90%29.aspx)：

```
<join_type> ::= 
    [ { INNER | { { LEFT | RIGHT | FULL } [ OUTER ] } } [ <join_hint> ] ]
    JOIN 
```

关键字`OUTER`被标记为可选（括在方括号中）。在这种特定情况下，您是否指定`OUTER`没有区别。请注意，虽然 join 子句的其他元素也被标记为可选，但将*它们*排除在外*会*有所不同。

例如，`JOIN`子句的整个类型部分是可选的，在这种情况下，`INNER`如果您只指定`JOIN`. 换句话说，这是合法的：

```
SELECT *
FROM A JOIN B ON A.X = B.Y 
```

这是等效语法的列表：

```
A LEFT JOIN B            A LEFT OUTER JOIN B
A RIGHT JOIN B           A RIGHT OUTER JOIN B
A FULL JOIN B            A FULL OUTER JOIN B
A INNER JOIN B           A JOIN B 
```

另请查看我在另一个 SO 问题上留下的答案：[SQL left join vs multiple tables on FROM line？](https://stackoverflow.com/a/894659/267).

![在此处输入图像描述](https://i.stack.imgur.com/qje6o.png)

* * *

## 回答 #2

> 赞同：784
> 
> 时间：2010-12-09T18:05:03.263

> 要回答您的问题，LEFT JOIN 和 LEFT OUTER JOIN 之间没有区别，它们与所说**的完全相同......**

## 在顶层，主要有 3 种连接类型：

1.  内
2.  外
3.  叉

* * *

1.  **INNER JOIN** - 如果两个表中都存在数据，则获取数据。

2.  **OUTER JOIN**有**3**种类型：

    1.  `LEFT OUTER JOIN`- 如果存在于左表中，则获取数据。
    2.  `RIGHT OUTER JOIN`- 如果存在于右表中，则获取数据。
    3.  `FULL OUTER JOIN`- 如果存在于两个表中的任何一个中，则获取数据。
3.  **CROSS JOIN**，顾名思义，`[n X m]`就是把所有东西都连接起来。
    类似于我们简单地列出要加入的表（在语句的`FROM`子句中`SELECT`）的场景，使用逗号分隔它们。

* * *

**需要注意的点：**

*   如果您只是提到`JOIN`，那么默认情况下它是一个`INNER JOIN`.
*   连接`OUTER`必须是`LEFT`| `RIGHT`| `FULL`你不能简单地说`OUTER JOIN`。
*   您可以删除`OUTER`关键字，然后说`LEFT JOIN`or`RIGHT JOIN`或`FULL JOIN`。

* * *

对于那些想要以更好的方式可视化这些的人，请转到此链接： [SQL 连接的可视化解释](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

* * *

## 回答 #3

> 赞同：416
> 
> 时间：2009-01-02T08:31:46.567

> 左连接和左外连接有什么区别？

**没什么**。`LEFT JOIN`并且`LEFT OUTER JOIN`是等价的。

* * *

## 回答 #4

> 赞同：77
> 
> 时间：2015-05-22T17:09:47.590

`Left Join`并且`Left Outer Join`是**一回事**。前者是后者的简写。对于`Right Join`and`Right Outer Join`关系也可以这样说。演示将说明平等。*通过SQL Fiddle*提供了每个查询的工作示例。该工具将允许手动操作查询。

**给定**

![在此处输入图像描述](https://i.stack.imgur.com/Ckxby.png)

**[左连接](http://sqlfiddle.com/#!6/b70ed/6/0)和[左外连接](http://sqlfiddle.com/#!6/b70ed/7/0)**

![在此处输入图像描述](https://i.stack.imgur.com/O2MLK.jpg)

**结果**

![在此处输入图像描述](https://i.stack.imgur.com/q5oyL.png)

* * *

**[右连接](http://sqlfiddle.com/#!6/b70ed/5/0)和[右外连接](http://sqlfiddle.com/#!6/b70ed/4/0)**

![在此处输入图像描述](https://i.stack.imgur.com/o9YXl.jpg)

**结果**

![在此处输入图像描述](https://i.stack.imgur.com/dbxLT.png)

* * *

## 回答 #5

> 赞同：73
> 
> 时间：2010-08-30T02:33:57.850

我是一名 PostgreSQL DBA，据我所知，外部联接与非外部联接之间的区别是一个在互联网上引起大量讨论的话题。直到今天，我从未看到这两者之间的区别。所以我走得更远，我试图找到它们之间的区别。最后，我阅读了有关它的整个文档，并找到了答案，

因此，如果您查看文档（至少在 PostgreSQL 中），您可以找到以下短语：

[“单词`INNER`和`OUTER`在所有形式中都是可选的。`INNER`是默认值；`LEFT`,`RIGHT`和`FULL`暗示外连接。”](http://www.postgresql.org/docs/8.4/static/queries-table-expressions.html)

换句话说，

**`LEFT JOIN`并且`LEFT OUTER JOIN`是相同的**

**`RIGHT JOIN`并且`RIGHT OUTER JOIN`是相同的**

我希望它可以为那些仍在努力寻找答案的人做出贡献。

* * *

## 回答 #6

> 赞同：51
> 
> 时间：2011-12-29T21:01:36.220

我发现按以下顺序更容易考虑加入：

*   CROSS JOIN - 两个表的笛卡尔积。所有连接都从这里开始
*   INNER JOIN - 添加了过滤器的 CROSS JOIN。
*   OUTER JOIN - 之后添加缺少元素（来自 LEFT 或 RIGHT 表）的 INNER JOIN。

在我想出这个（相对）简单的模型之前，JOINS 总是更像是一种黑色艺术。现在他们很有意义。

希望这有助于而不是令人困惑。

* * *

## 回答 #7

> 赞同：39
> 
> 时间：2014-04-17T21:08:43.510

为什么 LEFT/RIGHT 和 LEFT OUTER/RIGHT OUTER 是一样的？让我们解释为什么这个词汇。了解 LEFT 和 RIGHT 连接是 OUTER 连接的特定情况，因此只能是 OUTER LEFT/OUTER RIGHT。**与作为 OUTER 连接的PARTIAL**结果的LEFT 和 RIGHT 连接相反，OUTER 连接也称为**FULL OUTER。**确实：

 **```
Table A | Table B     Table A | Table B      Table A | Table B      Table A | Table B
   1    |   5            1    |   1             1    |   1             1    |   1
   2    |   1            2    |   2             2    |   2             2    |   2
   3    |   6            3    |  null           3    |  null           -    |   -
   4    |   2            4    |  null           4    |  null           -    |   -
                        null  |   5             -    |   -            null  |   5
                        null  |   6             -    |   -            null  |   6

                      OUTER JOIN (FULL)     LEFT OUTER (partial)   RIGHT OUTER (partial) 
```

现在很清楚为什么这些操作有别名，而且很明显只存在 3 种情况：INNER、OUTER、CROSS。带有两个用于 OUTER 的子箱。词汇，老师解释这个的方式，以及上面的一些答案，通常看起来有很多不同类型的连接。但实际上非常简单。

* * *

## 回答 #8

> 赞同：37
> 
> 时间：2016-06-25T04:05:20.710

回答你的问题

> 在 Sql Server 中连接语法**OUTER**是可选的

在 msdn 文章中提到：[https ://msdn.microsoft.com/en-us/library/ms177634(v=sql.130).aspx](https://msdn.microsoft.com/en-us/library/ms177634(v=sql.130).aspx)

所以下面的列表显示了有和没有**OUTER的连接等效语法**

```
LEFT OUTER JOIN => LEFT JOIN
RIGHT OUTER JOIN => RIGHT JOIN
FULL OUTER JOIN => FULL JOIN 
```

其他等效语法

```
INNER JOIN => JOIN
CROSS JOIN => , 
```

强烈推荐Dotnet Mob Artice：[加入Sql Server](http://dotnetmob.com/joins-in-sql-server/) [![在此处输入图像描述](https://i.stack.imgur.com/S3WMq.jpg)](http://dotnetmob.com/joins-in-sql-server/)

* * *

## 回答 #9

> 赞同：24
> 
> 时间：2017-03-17T09:56:33.207

## 只有3个连接：

*   A）交叉连接=笛卡尔（例如：表A，表B）
*   B) Inner Join = JOIN (例如: Table A Join/Inner Join Table B)
*   C) 外连接：

    ```
     There are three type of outer join
       1)  Left Outer Join     = Left Join
       2)  Right Outer Join    = Right Join
       3)  Full Outer Join     = Full Join 
    ```

希望它会有所帮助。

* * *

## 回答 #10

> 赞同：21
> 
> 时间：2012-01-18T12:29:02.580

JOIN主要有3种类型

1.  内部：获取两个表中都存在的数据
    *   只有 JOIN 表示 INNER JOIN
2.  外：分为三种

    *   LEFT OUTER - - 获取仅存在于左表和匹配条件中的数据
    *   RIGHT OUTER - - 获取仅存在于右表和匹配条件中的数据
    *   FULL OUTER - - 获取任何或两个表中的数据
    *   (LEFT or RIGHT or FULL) OUTER JOIN 可以写成不写“OUTER”
3.  交叉连接：连接一切

* * *

## 回答 #11

> 赞同：18
> 
> 时间：2009-01-02T08:54:50.357

语法糖，让普通读者更清楚地知道连接不是内部连接。

* * *

## 回答 #12

> 赞同：10
> 
> 时间：2019-06-17T02:23:09.107

就在这个问题的上下文中，我还想发布 2 个“应用”运算符：

**加入**：

1.  **内连接** = 连接

2.  **外连接**

    *   左外连接 = 左连接

    *   右外连接 = 右连接

    *   完全外连接 = 完全连接

3.  **交叉连接**

**SELF-JOIN**：这不完全是一种单独的连接类型。这基本上是使用上述连接之一将表连接到自身。但我觉得在上下文 JOIN 讨论中值得一提，因为您会从 SQL Developer 社区的许多人那里听到这个术语。

**申请**：

1.  **CROSS APPLY** -- 类似于 INNER JOIN （但增加了能够为左表的每一行计算右表中的某些内容并且只返回匹配行的优势）
2.  **OUTER APPLY** -- 类似于 LEFT OUTER JOIN （但增加了能够为左表的每一行计算右表中的某些内容的优势，并且将返回左表中的所有行，而与右表上的匹配无关）

[https://www.mssqltips.com/sqlservertip/1958/sql-server-cross-apply-and-outer-apply/](https://www.mssqltips.com/sqlservertip/1958/sql-server-cross-apply-and-outer-apply/)

[https://sqlhints.com/2016/10/23/outer-apply-in-sql-server/](https://sqlhints.com/2016/10/23/outer-apply-in-sql-server/)

[现实生活中的例子，何时在 SQL 中使用 OUTER / CROSS APPLY](https://stackoverflow.com/questions/9275132/real-life-example-when-to-use-outer-cross-apply-in-sql)

我发现 APPLY 运算符非常有用，因为它们比在子查询中进行相同的计算提供更好的性能。它们还替代了旧版本 SQL Server 中的许多分析函数。这就是为什么我相信在熟悉 JOINS 之后，SQL 开发人员接下来应该尝试学习 APPLY 运算符。

# .net - .NET 和 Oracle：将一个表连接到另一个表的空集

> ID：406298
> 
> 赞同：0
> 
> 时间：2009-01-02T08:31:10.857
> 
> 标签：.net, sql, join, oracle9i

我正在尝试将带有一些数据的 tableA 加入另一个 tableB 的空集。主要目的是获取tableB的所有列。我不需要tableB的任何数据。

我已经构建了以下 SQL：

```
SELECT uar.*, s.screen_id, s.screen_name
FROM crs_screens 
 LEFT JOIN crs\_user\_access\_right uar
 ON s.rid IS NOT NULL AND uar.rid IS NULL 
```

此 SQL 在 TOAD 上完美运行，但当我在 VB.NET OracleDataAdapter.Fill(DataTable) 语句中使用它时会返回错误。

如果有解决方法可以达到相同的效果，那很好。非常感谢。

* * *

错误信息：

> OCI-22060：参数 [2] 是无效或未初始化的数字

* * *

配置：

.NET 框架：1.1

甲骨文 9i

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T17:14:18.280

尝试明确列出所有列并查看所有数据类型 - 特别是 uar 的第二列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T09:36:36.780

也许问题不在于语句，而在于“uar”表的第二列。
您可以尝试使用不同的表进行查询来确认这一点吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T18:12:01.330

我对Oracle不太熟悉（所以我不能说这是否是一个Oracle问题），但也许像这样改写你的SQL会起作用：

```
SELECT
  uar.*, s.screen_id, s.screen_name
FROM 
  crs_screen s 
    LEFT JOIN crs_user_access_right uar ON uar.rid <> uar.rid 
```

您不需要在 s.rid 上进行比较，因为在左侧，crs_screen 将始终包含在左外连接中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T18:14:09.983

您正在运行哪个版本的客户端驱动程序？我的意思是实际的完整版。例如，如果您使用 OleDB 与 Oracle 通信，则为 ORAOLEDB.DLL 文件的版本。例如，它是 9.2.0.7 吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-05-10T19:42:08.377

我知道这是一个旧线程，但如果其他人遇到“OCI-22060：参数 [2] 是无效或未初始化的数字”问题，我找到了适合我的解决方案。

对于原始光标：

```
select l.t_id, r.t_name, r.t_desc
left_table l left join right_table r
on r.t_id = l.t_id; 
```

...一个简单的重构...

```
select -99999999 t_id, 'XXXXXXXXX' t_name, 'YYYYYYYYYYYY' t_desc from dual
union all
select l.t_id, r.t_name, r.t_desc
left_table l left join right_table r
on r.t_id = l.t_id; 
```

...有效。我只需要过滤掉客户端中的虚假行。

# graphics - 带孔的多边形三角剖分

> ID：406301
> 
> 赞同：28
> 
> 时间：2009-01-02T08:31:59.780
> 
> 标签：graphics, geometry, direct3d, triangulation, cgal

我正在寻找一种算法或库（更好）将多边形分解为三角形。我将在 Direct3D 应用程序中使用这些三角形。最好的可用选项是什么？

这是我到目前为止发现的：

1.  [本迪斯科的笔记](http://www.vterrain.org/Implementation/Libs/triangulate.html)
2.  [FIST：多边形的快速工业强度三角剖分](http://www.cosy.sbg.ac.at/~held/projects/triang/triang.html)
3.  我知道[CGAL](http://www.cgal.org/)提供三角测量，但不确定它是否支持孔。

我真的很感谢在这方面有经验的人的一些意见。

编辑：这是一个二维多边形。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-01-02T12:26:25.023

为您提供更多的库选择：

多布尔值。我从未尝试过这个，但它看起来很有希望：http: [//www.complex-a5.ru/polyboolean/index.html](http://www.complex-a5.ru/polyboolean/index.html)

通用多边形剪裁器。这个在实践中效果很好，可以进行三角测量以及剪裁和孔洞：[http ://www.cs.man.ac.uk/~toby/alan/software/](http://www.cs.man.ac.uk/~toby/alan/software/)

我个人的建议：使用 GLU（OpenGL 实用程序库）中的镶嵌。该代码坚如磐石，比 GPC 更快，生成的三角形更少。您不需要初始化的 OpenGL-Handle 或类似的东西来使用 lib。

如果您不喜欢在 DirectX 应用程序中包含 OpenGL 系统库的想法，那么也有一个解决方案：只需下载 SGI OpenGL 参考实现代码并从中取出三角测量器。它只使用 OpenGL-Typedef 名称和一堆枚举。就是这样。您可以在一两个小时内提取代码并制作一个独立的库。

* * *

一般来说，我的建议是使用已经有效的东西，不要开始编写自己的三角测量。

如果您已经阅读过耳剪或扫线算法，您很想自己动手，但事实是计算几何算法很难以一种稳定工作、永不崩溃并且总是返回有意义的结果的方式编写. 数值舍入误差最终会累积并杀死你。

我为与我合作的公司用 C 语言编写了一个三角测量算法。让核心算法工作需要两天时间。让它与各种退化的输入一起工作又花了两年时间（我没有全职工作，但相信我——我花在这上面的时间比我应该做的要多）。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2009-03-09T13:48:29.860

Jonathan Shewchuk 的[Triangle 库](http://www.cs.cmu.edu/~quake/triangle.html)非常出色。我过去用它来自动化三角测量。您可以要求它尝试避免使用小/窄三角形等，因此您可以提出“好的”三角剖分，而不仅仅是任何三角剖分。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2009-01-02T12:22:02.393

CGAL 拥有您需要的工具： [约束三角剖分](http://www.cgal.org/Manual/3.3/doc_html/cgal_manual/Triangulation_2/Chapter_main.html#Section_25.7)

您可以简单地提供多边形的边界（包括孔的边界）作为约束（最好是插入所有顶点，然后将约束指定为 Vertex_handles 对）。

然后，您可以通过任何遍历算法标记三角剖分的三角形：从入射到无限顶点的三角形开始并将其标记为在外部，每次越过约束时，切换到相反的标记（如果您之前标记过，则在内部三角形为局外人，如果您之前将三角形标记为内部人，则在外部）。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-02-13T00:35:02.223

我发现 poly2tri 库正是我进行三角测量所需要的。它产生的网格比我尝试过的其他库（包括 libtess）要干净得多，而且它也支持孔。它已被转换为多种语言。许可证是[New BSD](http://opensource.org/licenses/BSD-3-Clause)，因此您可以在任何项目中使用它。

[Google Code 上的 Poly2tri 库](http://code.google.com/p/poly2tri/)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-08-08T20:57:35.567

尝试 libtess2

[https://code.google.com/p/libtess2/downloads/list](https://code.google.com/p/libtess2/downloads/list)

基于原始的 SGI GLU tesselator（具有自由许可）。解决了许多小型 malloc 的一些内存管理问题。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2009-01-02T09:08:18.800

您可以自己相对轻松地添加孔。基本上按照 CGAL 对输入点的凸包进行三角剖分，然后删除其中心位于任何孔多边形内（或任何外部边界之外）的任何三角形。在处理大型数据集中的大量漏洞时，可以使用掩蔽技术来显着加快这一过程。

编辑：该技术的一个常见扩展是去除船体上的弱三角形，其中最长边或最小内角超过给定值。这将形成一个更好的凹壳。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-08-19T15:50:49.300

我使用耳剪法在 C# 中实现了一个 3D 多边形[三角测量器。](https://github.com/NMO13/earclipper)它易于使用，支持孔，数值稳健，并支持任意（非自相交）凸/非凸多边形。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2009-01-02T14:04:37.303

这是有限元分析中的常见问题。它被称为“自动网格生成”。Google 发现[此站点](http://www-users.informatik.rwth-aachen.de/~roberts/software.html)包含指向商业和开源软件的链接。他们通常假设某种几何图形的 CAD 表示开始。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2009-03-10T20:24:53.207

另一种选择（具有非常灵活的许可证）是从 VTK 移植算法：

[vtkDelaunay2D](http://www.vtk.org/doc/nightly/html/classvtkDelaunay2D.html)

这个算法工作得相当好。直接使用它是可能的，但需要到 VTK 的链接，这可能比您想要的开销更大（尽管它还有许多其他不错的功能）。

它支持约束（孔/边界/等），以及对不一定在 XY 平面中的表面进行三角剖分。它还支持一些我在其他地方没有看到的特性（参见关于 Alpha 值的注释）。

# c# - 是否可以添加多对多关系而不在 NHibernate 中初始化集合？

> ID：406312
> 
> 赞同：4
> 
> 时间：2009-01-02T08:37:03.450
> 
> 标签：c#, nhibernate, many-to-many

这是我的课：

```
public class User
{
  public int Id { get; set; }
  public string Name { get; set; }

  public ISet<User> Friends { get; set; }
} 
```

这是我的映射：

```
<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
  namespace="Test" assembly="test">

  <class name="User" table="Users">
      <id name="Id" column="id">
          <generator class="native"/>
      </id>
      <property name="Name" column="name"/>
      <set name="Friends" table="Friends">
          <key column="user_id"/>
          <many-to-many class="User" column="friend_id"/>
      </set>
  </class>
</hibernate-mapping> 
```

这是问题所在：

```
User user = session.Load<User>(1);

User friend = new User();
friend.Name = "new friend";

user.Friends.Add(friend); 
```

在最后一行 [user.Friends.Add(friend)]，我注意到它会在添加新朋友之前初始化 Friends 集合。

我的问题是：在 NHibernate 中是否有避免这种行为？因为出于性能原因，我只想执行单个 INSERT 命令。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T09:05:11.443

来自 Hibernate.org

> **为什么当我只想添加或删除一个元素时，Hibernate 总是初始化一个集合？**
> 
> 不幸的是，集合 API 定义了只能通过访问数据库来计算的方法返回值。这有三个例外： Hibernate 可以添加到 a ，或者用 inverse="true" 声明而不初始化集合；返回值必须始终为真。
> 
> 如果您想避免额外的数据库流量（即在性能关键代码中），请重构您的模型以仅使用多对一关联。这几乎总是可能的。然后使用查询代替集合访问。

此外，阅读这篇博[文 NHibernate 和 Inverse=True|False Attribute](http://bchavez.bitarmory.com/archive/2007/10/06/nhibernate-and-inversetruefalse-attribute.aspx)肯定会有所帮助。

**[已编辑]**

好吧，想想多对一和另一个多对一。一个是一个并且相同的地方。这就是为什么他们说要重构模型。你需要介绍另一个实体，比如 UserFriend 什么的。现在，您将为 User-to-UserFriend、Friend-to-UserFriend 进行多对一操作。

因此，如您所见，这将使其成为多对多。我希望这能让重构变得清晰。你可能不想这样做，除非你真的遇到了糟糕的表现。正如 Darin 已经提到的，在其中一条评论中，不要进行过早的优化。此外，我想引用 Donald E. Knuth 的那句臭名昭著的格言，“过早的优化是万恶之源”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T09:05:44.500

当您尝试访问 Friends 集合时，NHibernate 将发出 SELECT 语句的原因是因为在您加载用户实体时它没有被初始化。您可以使用以下查询强制加载集合：

```
User user = session
    .CreateCriteria(typeof(User))
    .SetFetchMode("Friends", FetchMode.Eager)
    .Add(Expression.IdEq(1))
    .UniqueResult<User>(); 
```

或通过在映射文件中添加 fetch="join" ：

```
<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
  namespace="Test" assembly="test">

  <class name="User" table="Users">
      <id name="Id" column="id">
          <generator class="native"/>
      </id>
      <property name="Name" column="name"/>
      <set name="Friends" table="Friends" fetch="join">
          <key column="user_id"/>
          <many-to-many class="User" column="friend_id"/>
      </set>
  </class>
</hibernate-mapping> 
```

值得一提的是，UniqueResult 和 session.Load 是有区别的。如果在数据库中找不到用户，您将使用第二种方法获得 ObjectNotFoundException，而 UniqueResult 将返回 null。您可以根据需要使用任何一种方法。

# c++ - C++ 访问堆

> ID：406315
> 
> 赞同：3
> 
> 时间：2009-01-02T08:38:46.460
> 
> 标签：c++, heap-memory, data-access

这个问题涉及到我对 C++ 的了解不够。我正在尝试访问我放置在堆中的特定值，但我不确定如何访问它。在我的问题中，我从对象的数据成员函数中将一个值放入堆中，并且我试图在另一个数据成员函数中访问它。问题是我不知道怎么做，我在网上搜索了一些例子，但没有一个是我需要的，因为它们都在 int main() 中，并不是我特别需要的。

在第一个数据成员函数中，我声明了我要发送到 Heap 的值；这是我的第一个数据成员函数的示例。

```
void Grid::HeapValues()
{
    //Initializing Variable
    value = 2; //The type is already declared

    //Pointers point a type towards the Heap
    int* pValue = new int;

    //Initialize  an a value of in the Heap
    *pValue = value;
} 
```

而在数据成员函数中这是想要的：

```
void Grid::AccessHeap()
{
    //Extracting heap:
    int heap_value = *pValue; //*pValue does not exist in this function
    cout << heap_value; //Delays the value 2, which is found
                        //in the first data member function
} 
```

我觉得问很愚蠢，但我找不到答案，也不知道怎么做。有谁知道如何以简单的方式从堆中访问一个值？而且我需要它能够访问两个以上的数据成员函数。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-01-02T08:44:31.627

pValue 需要是 Grid 类的成员变量。

```
class Grid
{
  private: int* pValue;
  public: void HeapValues();
          void AccessHeap();
}; 
```

现在可以从 Grid 的任何成员函数访问成员变量 pValue。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-01-02T08:57:41.210

完成后不要忘记删除析构函数中的指针。欲了解更多信息，请访问：

*   [http://www.cplusplus.com/doc/tutorial/variables.html](http://www.cplusplus.com/doc/tutorial/variables.html) <-- 变量范围
*   [http://www.cplusplus.com/doc/tutorial/pointers.html](http://www.cplusplus.com/doc/tutorial/pointers.html) <-- 指针
*   [http://www.cplusplus.com/doc/tutorial/dynamic.html](http://www.cplusplus.com/doc/tutorial/dynamic.html) <-- 动态内存

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T10:33:37.583

就像 Aaron 所说，您可以将值设为 Grid 类的成员。在这种情况下，尽管不需要它是指向 int 的指针。

```
class Grid
{
private:

    int value;

public:

    void HeapValue();
    void AccessHeap();
}; 
```

无论在何处实例化，该值都将作为对象的一部分存储。你可以把它放在堆栈或堆上，没关系。对于简单的值，例如类实例拥有的内置类型和对象，没有必要使用 new 分配它们。这样您就不必担心使用 Grid 析构函数中的 delete 运算符进行清理，只需确保正确处理拥有的 Grid 实例；-)

粗略地说，随着您对 C++ 的深入研究，您将学习到一些例外情况，但对于您的示例，上述内容会很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-03T14:28:46.897

你为什么要把它放在堆上？如果您将它添加为类的一部分，那么它将位于类所在的同一位置，可能在堆栈或全局内存中。也许您想为整数指针设置可变大小？在这种情况下，您需要确保在完成后释放内存。

堆上的东西的问题是找到它。除非您为此添加机制，否则无法通过名称访问它。不知何故，您需要将该位置传达给需要访问它的任何代码。在这种情况下，看起来您只需要在 Grid 类中进行访问，因此很容易。只需将其设为 Aaron 指示的成员变量即可。你最终可能会得到类似的东西：

```
class Grid
{
protected:
    int* pVals;
public:
    Grid() pVals(NULL) { }
    ~Grid() { delete [] pVals; }
    void HeapValues() {
        pVals = new int[getHeapValuesSize()];
        pVals[0] = 1; // ...
    }
    void AccessHeap() {
        cout << pVals[0]; // ...
    } 
```

（附带说明一下，当您的意思是“成员函数”时，您似乎在使用短语“数据成员函数”。“数据成员”是指类的成员数据，例如 pVals，但我不确定“数据”是什么成员函数”的意思。）

# php - 如何将数据从 Javascript 传递到 PHP，反之亦然？

> ID：406316
> 
> 赞同：15
> 
> 时间：2009-01-02T08:39:08.580
> 
> 标签：php, javascript

如何通过 Javascript 脚本请求 PHP 页面并将数据传递给它？然后如何让 PHP 脚本将数据传回 Javascript 脚本？

客户端.js：

```
data = {tohex: 4919, sum: [1, 3, 5]};
// how would this script pass data to server.php and access the response? 
```

服务器.php：

```
$tohex = ... ; // How would this be set to data.tohex?
$sum = ...; // How would this be set to data.sum?
// How would this be sent to client.js?
array(base_convert($tohex, 16), array_sum($sum)) 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2009-01-02T08:55:10.357

从 PHP 传递数据很容易，您可以使用它生成 JavaScript。另一种方式有点困难——您必须通过 Javascript 请求调用 PHP 脚本。

一个例子（为简单起见，使用传统的事件注册模型）：

```
<!-- headers etc. omitted -->
<script>
function callPHP(params) {
    var httpc = new XMLHttpRequest(); // simplified for clarity
    var url = "get_data.php";
    httpc.open("POST", url, true); // sending as POST

    httpc.onreadystatechange = function() { //Call a function when the state changes.
        if(httpc.readyState == 4 && httpc.status == 200) { // complete and no errors
            alert(httpc.responseText); // some processing here, or whatever you want to do with the response
        }
    };
    httpc.send(params);
}
</script>
<a href="#" onclick="callPHP('lorem=ipsum&foo=bar')">call PHP script</a>
<!-- rest of document omitted --> 
```

无论`get_data.php`产生什么，都会出现在 httpc.responseText 中。错误处理、事件注册和跨浏览器 XMLHttpRequest 兼容性留给读者作为简单的练习；）

另请参阅[Mozilla 的文档](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest)以获取更多示例

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-01-14T20:02:43.813

前几天我遇到了类似的问题。说，我想将数据从客户端传递到服务器并将数据写入日志文件。这是我的解决方案：

我的简单客户端代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"   "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
   <title>Test Page</title>
   <script>
    function passVal(){
        var data = {
            fn: "filename",
            str: "this_is_a_dummy_test_string"
        };

        $.post("test.php", data);
    }
    passVal();
   </script>

</head>
<body>
</body>
</html> 
```

和服务器端的php代码：

```
<?php 
   $fn  = $_POST['fn'];
   $str = $_POST['str'];
   $file = fopen("/opt/lampp/htdocs/passVal/".$fn.".record","w");
   echo fwrite($file,$str);
   fclose($file);
?> 
```

希望这对您和未来的读者有用！

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2009-01-02T13:39:30.833

我会使用[JSON](http://www.json.org)作为格式，使用 Ajax（实际上是 XMLHttpRequest）作为客户端-> 服务器机制。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2010-06-03T00:57:34.980

使用 cookie 是一种简单的方法。您可以使用 jquery 和一个插件作为 jquery.cookie[或](http://plugins.jquery.com/files/jquery.cookie.js.txt)创建自己的。通过示例使用 Jquery + jquery.cookie

```
 <script>
   var php_value = '<?php echo $php_variable; ?>';

   var infobar_active = $.cookie('php_value');
   var infobar_alert  = any_process(infobar_active);

    //set a cookie to readit via php
   $.cookie('infobar_alerta', infobar_alerta );

   </script>

   <?php 

    var js_value = code to read a cookie

   ?> 
```

我发现这个有用的服务器端和混合框架： [http ://www.phplivex.com/](http://www.phplivex.com/) [http://www.ashleyit.com/rs/](http://www.ashleyit.com/rs/)

很长一段时间以来，我一直在使用 Ashley 的 RSJS 脚本来更新 HTML 中的值而没有任何问题，直到遇到 JQuery（ajax、load 等）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-01-02T08:43:53.470

有几种方法，最突出的是获取表单数据或获取查询字符串。这是使用 JavaScript 的一种方法。当你点击一个链接时，它会调用 _vals('mytarget', 'theval') 来提交表单数据。当您的页面回发时，您可以检查是否已设置此表单数据，然后从表单值中检索它。

```
<script language="javascript" type="text/javascript">
 function _vals(target, value){
   form1.all("target").value=target;
   form1.all("value").value=value;
   form1.submit();
 }
</script> 
```

或者，您可以通过查询字符串获取它。PHP 有你的 _GET 和 _SET 全局函数来实现这一点，这使它更容易。

我相信可能还有更多更好的方法，但这些只是我脑海中浮现的一些。

**编辑：**根据其他人所说的使用上述方法，您将拥有一个锚标签，如

```
<a onclick="_vals('name', 'val')" href="#">My Link</a> 
```

然后在您的 PHP 中，您可以使用以下方式获取表单数据

```
$val = $_POST['value']; 
```

因此，当您单击使用 JavaScript 的链接时，它将发布表单数据，当页面从该单击返回时，您可以从 PHP 中检索它。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-01-02T08:42:32.113

您可以将数据从 PHP 传递到 javascript，但将数据从 javascript 获取到 PHP 的唯一方法是通过 AJAX。

这样做的原因是您可以通过 PHP 构建一个有效的 javascript，但是要向 PHP 获取数据，您需要让 PHP 再次运行，并且由于 PHP 仅运行以处理输出，您将需要重新加载页面或异步查询。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2009-05-10T00:19:19.747

将数据从 php 交换到 javascript 或反之亦然的另一种方法是使用 cookie，您可以将 cookie 保存在 php 中并由您的 javascript 读取，为此您不必使用表单或 ajax

# svn - Google Code Hosting 上是否有类似的 wiki 提交 subversion 存储库中的所有更改？

> ID：406329
> 
> 赞同：3
> 
> 时间：2009-01-02T08:47:59.980
> 
> 标签：svn, wiki, google-code

我在 Google Code 托管的项目中使用了 wiki。通过这个 wiki，您对 Web 界面所做的所有更改都提交到项目的 subversion 存储库中。

例如，如果您`ExamplePage`使用 wiki Web 界面创建页面，则底层软件会`wiki/ExamplePage.wiki`在 subversion 存储库中创建并提交一个文件。

这应该以相反的方式工作。如果您修改 subversion 存储库，Web 界面会显示新版本的 wiki。

这是一个不错的功能，因为您还可以使用外部编辑器编辑文件，然后将它们上传（提交）到 subversion。

你知道一些支持这个功能的开源项目吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T09:17:45.897

[ikiwiki](http://ikiwiki.info/)是一个 wiki 编译器和 cgi 脚本，可以集成各种 VCS（至少 svn 和 git）作为存储后端。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T09:22:15.187

没用过，但[svnwiki](https://web.archive.org/web/20110814163937/http://wiki.freaks-unidos.net/svnwiki/)似乎它可能是你想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2010-08-15T12:17:57.917

还有[Gitit](http://gitit.johnmacfarlane.net/)，一个由 git 或 darcs 文件存储支持的 wiki。[在任何平台上安装](http://gitit.johnmacfarlane.net/Installing)它都非常简单，因为它使用跨平台的 Haskell 平台（甚至对于网络服务器，AFAIU）。

# c++ - 自制网络爬虫的问题

> ID：406341
> 
> 赞同：1
> 
> 时间：2009-01-02T09:00:04.933
> 
> 标签：c++, web-applications

我用 C++ 构建了一个网络爬虫。我正在使用一个名为`URLdownloadToFile()`.

1.  还有其他可以使用的API吗？
2.  API`URLdownloadToFile()`对某些 URL 运行良好，而对某些其他 URL 运行不佳？请提出一些我可以克服这个问题的方法？

谢谢， Dnyaneshwari C.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T09:58:27.267

您可能想查看 libcurl，它应该允许您使用各种协议提取内容。这也应该支持代理等，这可能会给您带来特定网址的问题。也可以看看; [http://curl.haxx.se/](http://curl.haxx.se/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T12:03:25.473

除非有特殊原因坚持使用 c++，否则最好切换到 Python 并使用[BeautifulSoup](http://pypi.python.org/pypi/BeautifulSoup)。我用过 curl，它很好，但我所有的网络东西现在都是用 Python 完成的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T10:29:29.170

您可能想查看[WinINet](http://msdn.microsoft.com/en-us/library/aa385483(VS.85).aspx)，它是一个简单的 C API，用于与 HTTP 网络堆栈的高级接口。另一个选择是[WinHttp](http://msdn.microsoft.com/en-us/library/aa384252(VS.85).aspx)，它有点复杂，需要你处理 COM。

# tsql - T-SQL：将“0110”转换为 6

> ID：406351
> 
> 赞同：2
> 
> 时间：2009-01-02T09:07:19.130
> 
> 标签：tsql

有没有什么好方法将二进制（以 2 为基数）字符串转换为 T-SQL 中的整数（如果没有，我想我可以编写一个函数......）

'0110' => 6 等等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T09:14:57.243

你知道字符串总是有特定的长度吗？如果是这样，您*可以*硬编码一堆 Substring/convert-to-int/multiply 步骤。虽然不会很好...

编辑：为了提供更多细节，假设你知道它的长度为 4，你可以这样做：

```
SELECT (8 * CONVERT(int, SUBSTRING(@x, 1, 1)))
     + (4 * CONVERT(int, SUBSTRING(@x, 2, 1)))
     + (2 * CONVERT(int, SUBSTRING(@x, 3, 1)))
     + (1 * CONVERT(int, SUBSTRING(@x, 4, 1))) 
```

如果语法稍有偏差，请致歉。

令人不快，并且在更一般的情况下不起作用（您基本上需要以某种形式循环），但它可能足以快速修复。

（如果反对者可以添加评论，将不胜感激。T-SQL 有点超出我的专业领域 - 解释为什么这是一个坏主意比仅仅表示这*是*一个坏主意的反对票更有帮助。 )

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T11:39:31.150

看起来[这个功能](http://snippets.dzone.com/posts/show/708)可以满足您的需求。此外，看起来这里有[一个优化](http://www.mail-archive.com/sql@houseoffusion.com/msg02279.html)。

我不知道任何可以在 select 语句中使用的内置功能，转换为 binary 或 varbinary 没有帮助。

看起来您要么将其编写为 UDF，要么将其编写为扩展存储过程（托管或本机）。

另一种选择可能是创建一个巨大的查找表并加入其中。有可能你会得到比 Sql 函数更好的性能，我还没有测试过。我怀疑它会比扩展存储过程更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T12:50:46.283

Oki，这是第一次尝试和快速破解并试图解决这个问题。它当然不漂亮，但可能会给你一些关于如何最好地解决问题的想法。

编辑：只需重新阅读 sambo99 答案并注意那里提到的优化版本链接。在回答之前我错过了。它看起来有点相似，但是这个最多可以达到 63 位，而该引用的链接最多只能使用 31 位，如果您尝试传递更多信息，则会爆炸。此版本忽略任何高于 63 的内容。

```
DECLARE @bin varchar(63)
DECLARE @origlen int
DECLARE @currlen int
DECLARE @tmp int
DECLARE @pwr bigint
DECLARE @dec bigint
DECLARE @val bigint

SET @pwr = 2
SET @dec = 0
SET @bin = '011111111111111111111111111111111' --Test Value

SET @bin = REVERSE(@bin)
SET @origlen = LEN(@bin)
SET @currlen = 0

WHILE(@currlen <> @origlen)
BEGIN
    SET @tmp = CONVERT(int, SUBSTRING(@bin, @currlen + 1, 1))

    IF (@tmp <> 0)
    BEGIN
        SET @val = @dec
        SET @dec = POWER(@pwr, @currlen)
        SET @val = @val + @dec
        Set @dec = @val
    END

    SET @currlen = @currlen + 1

END

SELECT @val as 'Result' 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T11:04:14.870

[我在这里](https://stackoverflow.com/questions/55340/)（StackOverflow）有一些模糊的相似之处，在那里我询问了 T-SQL 中的自定义“基础”转换。

看看你得到什么建议会很有趣！

# java - Matlab javabuilder和内存的问题

> ID：406352
> 
> 赞同：1
> 
> 时间：2009-01-02T09:07:40.580
> 
> 标签：java, memory, matlab

我遇到了一些关于我的 javabuilder 编译的 matlab 代码的问题。我的应用程序基本上是这样拆分的：

*   图形用户界面：Java
*   计算：Matlab

主要问题是，在 Matlab（R17，2007a）中使用 javabuilder 编译我的 matlab 代码时，可用内存比将相同代码编译为 exe 文件时的可用内存少。我已经用“feature('memstats')”函数确认了这一点。我的数组通常大小为 1000000 x 25，从 java 运行时无法初始化，因为最大的连续内存空间太小（最大的内存空间约为 65MB，而作为 ML exe 运行时约为 1200MB-文件）。我的设备运行的是 Windows XP Professional x86，内存为 4GB。

我已经尝试过这两个 matlab/c 编译器（在 matlab 命令行中使用“mbuild -setup”命令设置）：

*   lcc-win32 C 2.4.1
*   Microsoft Visual C++ 6.0（也带有 /LARGEADDRESSAWARE 标志，这似乎根本没有帮助）

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-08-11T13:27:49.543

实际上，您可能想要*减少*Java 堆空间。您的进程中的内存，至少在常规 Matlab 中，是在 Matlab 和 Java 之间划分的。如果增加 Java 堆大小，您将相应地减少可用于 Matlab 数组的内存。Matlab 数组存在于常规 C 风格的内存中，而不是 Java 的 GCed 内存中。

我猜正在发生的事情是您的 Java 应用程序正在加载 javabuilder-built 库，配置为具有比 Matlab IDE 更大的 Java 堆。Matlab 从一个小的 Java 堆开始。下面是如何在 Matlab 中显示它。

```
function show_javamemory()

rt = java.lang.Runtime.getRuntime();
M = 2^20;
disp(sprintf('Java heap: %d M total, %d M max, %d M free',...
    round(rt.totalMemory()/M), round(rt.maxMemory()/M), round(rt.freeMemory()/M))); 
```

在我的 R2009a 中，我看到了这一点。

```
>> show_javamemory()
Java heap: 62 M total, 125 M max, 28 M free 
```

%matlabroot%/bin/win32 中的 java.opts 文件在作为 IDE 运行时控制嵌入在 Matlab 中的 JVM。我认为它不会影响加载到您的 javabuilder-built 库中的应用程序。需要通过将参数传递给任何调用它们的 java 命令行来调整它们。

尝试在已编译的应用程序中运行 show_javamemory() 以查看其堆配置为（以及您的 java.opts 更改是否有影响），然后调整其 Java 选项以减少堆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:08:58.790

我认为您的问题的解决方案是增加 Java VM 堆空间，如下所述：

[如何在 MATLAB 6.0 (R12) 及更高版本中增加 Java VM 的堆空间？](http://www.mathworks.com/support/solutions/data/1-18I2C.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T12:40:40.890

很抱歉我不能发表评论（需要 50 声望）（无论如何，这对于评论来说太长了）。我不认为这改变了什么。我所做的是在 %matlabroot%\bin\win32 中创建“java.opts”，并将内容设置为“-Xmx1024m”。然后我尝试重新编译我的应用程序。

这就是我的 matlab 函数开始时 feature('memstats') 所说的：

```
Physical Memory (RAM):
    In Use:                             1568 MB (62059000)
    Free:                               2013 MB (7ddb2000)
    Total:                              3582 MB (dfe0b000)
Page File (Swap space):
    In Use:                             1608 MB (648ac000)
    Free:                               3872 MB (f20b1000)
    Total:                              5481 MB (15695d000)
Virtual Memory (Address Space):
    In Use:                             1611 MB (64b4c000)
    Free:                               1460 MB (5b494000)
    Total:                              3071 MB (bffe0000)
Largest Contiguous Free Blocks:
     1\. [at 69b78000]                     53 MB ( 3538000)
     2\. [at  ccbf000]                     51 MB ( 3341000)
     3\. [at 6eee0000]                     40 MB ( 2820000)
     4\. [at 5d36e000]                     28 MB ( 1cd2000)
     5\. [at 67d15000]                     23 MB ( 17eb000)
     6\. [at 5f211000]                     19 MB ( 13bf000)
     7\. [at 6dac0000]                     19 MB ( 13a0000)
     8\. [at 71ce7000]                     19 MB ( 1319000)
     9\. [at 7a038000]                     18 MB ( 12f8000)
    10\. [at 7d1d7000]                     18 MB ( 1239000)
                                        ======= ==========
                                         292 MB (124ff000) 
```

# security - 数据库安全

> ID：406358
> 
> 赞同：2
> 
> 时间：2009-01-02T09:14:46.870
> 
> 标签：security, sql-server-2000, protection

如何保护 SQL Server 数据库不被他人查看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T09:23:37.880

也许（我不能确定）您正在寻找的是如何安全地配置服务器。

这是一个很好的资源，可以解释 SQL Server 2000 的所有内容，请在此页面中查找“SQL Server 2000 安全性”：

[http://www.databasejournal.com/article.php/1503191](http://www.databasejournal.com/article.php/1503191)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T09:26:39.093

通过设置用户帐户和密码，为他们分配适当的角色，并保证他们的安全:)

查看`CREATE LOGIN`, `DROP LOGIN`(SQL Server 2005), `sp_grantdbaccess`, `sp_revokedbaccess`, `sp_grantlogin`, `sp_droplogin`, `sp_addlogin`, `GRANT`, `DENY`,`REVOKE`语句了解更多信息。

# python - 浮点限制

> ID：406361
> 
> 赞同：6
> 
> 时间：2009-01-02T09:17:26.770
> 
> 标签：python, floating-point, precision, floating-accuracy

我的代码：

```
a = '2.3' 
```

我想显示`a`为浮点值。

由于`a`是一个字符串，我尝试了：

```
float(a) 
```

我得到的结果是：

```
2.2999999999999998 
```

我想要这个问题的解决方案。请帮助我。

我正在关注[本教程](http://docs.python.org/tutorial/floatingpoint.html)。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2009-01-02T09:22:15.433

我认为它更多地反映了您对浮点类型的理解，而不是 Python。有关这种“不准确”背后的原因，请参阅[我关于浮点数的文章（基于 .NET，但仍然相关）。](http://csharpindepth.com/Articles/General/FloatingPoint.aspx)如果你需要保持精确的十进制表示，你应该使用[十进制模块](http://docs.python.org/library/decimal.html)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-01-02T09:27:15.783

这不是 python 的缺点，而是浮点数在计算机上存储方式的缺点。无论实现语言如何，您都会发现类似的问题。

你说你想'显示' A 作为一个浮点数，为什么不只显示字符串呢？从视觉上看，它将与您的期望相同。

正如乔恩所提到的，如果您的需求不仅仅是“显示”浮点数，您应该使用十进制模块来存储精确的表示。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2009-01-02T16:43:44.910

解释原因的优秀答案。我只想从标准库中添加一个可能的实用解决方案：

```
>>> from decimal import Decimal
>>> a = Decimal('2.3')
>>> print a
2.3 
```

这实际上是 Python 的（非常）常见问题解答，您可以[在此处阅读答案](http://www.python.org/doc/faq/general/#why-are-floating-point-calculations-so-inaccurate)。

* * *

编辑：我刚刚注意到 John Skeet 已经提到了这一点。那好吧...

# java - 在 Infragistics Wingrid 中添加新列

> ID：406380
> 
> 赞同：-1
> 
> 时间：2009-01-02T09:36:37.917
> 
> 标签：java, swing, new-operator, infragistics, wingrid

我在我的应用程序中使用 Infragistics wingrid。我已经为我的 wingrid 分配了一个数据源。现在我想在特定位置添加一个新列。

谁能告诉我如何执行？

问候，萨万。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2010-08-25T20:23:02.010

Infragistics HOWTO:UltraWinGrid 布局初始化

[http://devcenter.infragistics.com/Support/KnowledgeBaseArticle.Aspx?ArticleID=1692](http://devcenter.infragistics.com/Support/KnowledgeBaseArticle.Aspx?ArticleID=1692)

来自文章：“当网格的 DataSource 属性设置为数据源时，InitializeLayout 事件会触发。UltraWinGrid 期望在此事件内执行网格布局初始化。这并不意味着您不能调整布局在其他时候，但大多数与布局相关的属性应该在 InitializeLayout 事件中设置。”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T20:00:14.153

问候，

我会将新列添加到您的数据源中。由于数据源已绑定到网格，因此应显示该列。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2010-02-15T16:47:41.613

听起来您正在尝试添加未绑定的列。在这种情况下，您可以在网格的 InitializeLayout 委托中添加以下内容：

```
private void myUltraGrid_InitializeLayout(object sender, InitializeLayoutEventArgs e)
{
     e.Layout.Bands[0].Columns.Add("New Column Name");
} 
```

# c# - 处理未处理的异常问题

> ID：406385
> 
> 赞同：39
> 
> 时间：2009-01-02T09:42:49.153
> 
> 标签：c#, exception

我想为我可能没有在我的代码中捕获的所有意外异常设置一些处理程序。在`Program.Main()`我使用以下代码：

```
AppDomain.CurrentDomain.UnhandledException
    += new UnhandledExceptionEventHandler(ErrorHandler.HandleException); 
```

但它并没有像我预期的那样工作。当我在调试模式下启动应用程序并引发异常时，它确实调用了处理程序，但随后 Visual Studio 中的异常帮助程序弹出，就好像异常发生而没有任何处理一样。我在处理程序中尝试了 Application.Exit() ，但效果不佳。

我想要实现的是异常由我的处理程序处理，然后应用程序很好地关闭。有没有其他方法可以做到这一点，或者我以错误的方式使用上面的代码？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2009-01-02T10:42:44.273

通常我使用这样的东西来尝试捕获所有意外的顶级异常。

```
using System;

static class Program
{
  [STAThread]
  static void Main(string[] argv)
  {
    try
    {
      AppDomain.CurrentDomain.UnhandledException += (sender,e)
      => FatalExceptionObject(e.ExceptionObject);

      Application.ThreadException += (sender,e)
      => FatalExceptionHandler.Handle(e.Exception);

      // whatever you need/want here

      Application.Run(new MainWindow());
    }
    catch (Exception huh)
    {
      FatalExceptionHandler.Handle(huh);
    }
  }

  static void FatalExceptionObject(object exceptionObject) {
    var huh = exceptionObject as Exception;
    if (huh == null) {
      huh = new NotSupportedException(
        "Unhandled exception doesn't derive from System.Exception: "
         + exceptionObject.ToString()
      );
    }
    FatalExceptionHandler.Handle(huh);
  }
} 
```

也许这对您也有帮助？此主代码通过一个方法调用路由所有三种捕获意外顶级异常的方法。您现在需要的只是一个静态类，该类在其方法`FatalExceptionHandler`中包含您的顶级异常处理。`Handle`

真的，任何应用程序开发人员都知道实际上只有两件事要做：

1.  显示/记录您认为合适的异常
2.  确保退出/终止应用程序进程

如果您认为第二项很奇怪，请记住，我们一开始只会在非常特殊的情况下才这样做。这些事情可能是需要对您的应用程序进行更改才能准确解决的错误。任何其他异常处理 - 函数类型 - 应该在您的实际程序代码中较低，在有意义的地方捕获特定类型的异常并以有意义的方式处理它们。其他任何事情都应该让您`FatalExceptionHandler`知道并阻止可能瘫痪的程序从损坏状态运行

死程序不说谎... ;-)

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2009-01-02T09:45:15.780

这是因为您在调试模式下通过 Visual Studio 运行它。如果您在其他地方发布并安装您的应用程序，则只会处理您的全局异常处理程序。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2009-01-02T09:48:00.470

请注意，未处理的异常仍然非常致命。您只能真正将其用于日志记录，或者可能是一些仓促的关闭。这既`Application.ThreadException`不能用作错误的全局接收器，也不能用作错误的全局接收器。

更好的方法是添加适当的处理 - 例如，围绕您的整个`Main()`逻辑。请注意，即使*这样*也无法捕获一些异常，例如表单加载期间的错误（这会变得特别讨厌 - 您可以使用附加的调试器捕获它们，但不能没有）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-03-08T19:44:21.107

也许你正在寻找的是`Environment.Exit(int errorcode)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-29T07:55:28.900

这种行为是设计使然。

但是有*一个*解决方法。

要么`Process.GetCurrentProcess().Kill();`在处理程序内调用，要么干脆不让处理程序结束。

查看示例：

```
class Program
{
    void Run()
    {
        AppDomain.CurrentDomain.UnhandledException += new UnhandledExceptionEventHandler(CurrentDomain_UnhandledException);

        Console.WriteLine("Press enter to exit.");

        do
        {
            (new Thread(delegate()
            {
                throw new ArgumentException("ha-ha");
            })).Start();

        } while (Console.ReadLine().Trim().ToLowerInvariant() == "x");

        Console.WriteLine("last good-bye");
    }

    int r = 0;

    void CurrentDomain_UnhandledException(object sender, UnhandledExceptionEventArgs e)
    {
        Interlocked.Increment(ref r);
        Console.WriteLine("handled. {0}", r);
        Console.WriteLine("Terminating " + e.IsTerminating.ToString());

        Thread.CurrentThread.IsBackground = true;
        Thread.CurrentThread.Name = "Dead thread";            

        while (true)
            Thread.Sleep(TimeSpan.FromHours(1));
        //Process.GetCurrentProcess().Kill();
    }

    static void Main(string[] args)
    {
        Console.WriteLine("...");
        (new Program()).Run();
    }
} 
```

当然，这不应该是异常的默认接收器。

但是应该这样做以优雅地报告异常。

# visual-studio - 自动添加 .Net 代码注释

> ID：406386
> 
> 赞同：1
> 
> 时间：2009-01-02T09:43:14.083
> 
> 标签：visual-studio, plugins, comments

在哪里可以找到自动生成方法和属性的文档标头的 Visual Studio 插件？

例如，对属性的注释可能如下所示：

```
/// <summary>
/// Gets or sets the value of message
/// </summary>
public static string Message        
{
   get
   {
       return message;
   }

   set
   {
       message = value;
   }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T09:45:33.283

[来自http://www.roland-weigelt.de/ghostdoc/](http://www.roland-weigelt.de/ghostdoc/)的 Ghostdoc

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T09:45:55.760

[GhostDoc](http://www.roland-weigelt.de/ghostdoc/)是通常的嫌疑人。

正如另一张海报所提到的，Visual Studio 也在一定程度上通过在属性/方法/类定义之前的行上输入 3 个“///”（正斜杠）来做到这一点。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-03T19:55:23.883

Visual Studio 会自动执行此操作。只需将光标直接放在方法上方并输入三个'/'，例如：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace MvcWidgets.Models
{
    /// <summary>
    /// This is a summary comment
    /// </summary>
    public class Comment
    {
        /// <summary>
        /// 
        /// </summary>
        /// <param name="name"></param>
        /// <param name="birthdate"></param>
        /// <param name="website"></param>
        /// <returns></returns>
        public int SomeMethod(string name, DateTime birthdate, Uri website)
        {
            return 0;
        }
    }
} 
```

然后您可以生成一个 XML 注释文件，然后使用 SandCastle 生成一个帮助文件。

您可能必须在文本编辑器/C#/高级选项对话框中启用此功能。

# asp.net - 如何通过 GSM 调制解调器从 ASP.NET 应用程序发送 SMS

> ID：406393
> 
> 赞同：3
> 
> 时间：2009-01-02T09:47:28.847
> 
> 标签：asp.net, sms, gsm

如果必须使用 GSM 调制解调器来发送 SMS，那么设置整个设备的硬件和软件要求是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T10:04:57.503

您需要连接到服务器的 GSM 调制解调器（手机或类似设备）。

通常，可以通过在 GSM 硬件的串行接口上​​使用 AT 命令发送 SMS。

有关示例，请参阅[本教程](http://www.developershome.com/sms/howToSendSMSFromPC.asp)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2010-03-08T07:23:51.970

[这个库](http://www.scampers.org/steve/sms/libraries.htm)提供了一个简单的接口来通过 Gsm 调制解调器发送 SMS

# com - ActiveX组件不能创建对象

> ID：406395
> 
> 赞同：1
> 
> 时间：2009-01-02T09:48:09.627
> 
> 标签：com, activex

我们将vbexample.dll中的函数名“aaa”改为bbb，并注册到VB应用程序中。注册后，它将在我的本地 PC 中执行。之后，当我生成该 VB 应用程序的构建并在另一台 PC 上对其进行测试时，它无法正常工作。我得到的消息是：“ActiveX 组件无法创建对象”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T12:27:17.220

COM 对象是如何在另一台 PC 上实例化的？如果您在一台 PC 上重新构建应用程序，然后将其移动到另一台 PC，则可能是 VB 使用另一个 IID 构建了它，而另一台计算机无法识别它。

# perl - 如何为目录下的所有文件名添加前缀？

> ID：406396
> 
> 赞同：3
> 
> 时间：2009-01-02T09:48:20.703
> 
> 标签：perl, file, batch-rename

我试图`reference_`在所有目录以及子目录中的所有 *.bmp 文件的名称前加上一个字符串 ()。第一次运行 Silk 脚本时，它会创建目录和子目录，并且在每个子目录下会存储每个移动应用程序的带有`.bmp`扩展名的截图。

当我第二次运行自动化 Silkscript 时，它将再次在所有子目录中创建 *.bmp 文件。在第二次运行脚本之前，我想在所有 *.bmp 前面加上一个 string `reference_`。

例如`first_screen.bmp`，`reference_first_screen.bmp`我的目录结构如下：

```
C:\Image_Repository\BG_Images\second
...
C:\Image_Repository\BG_Images\sixth 
```

拥有`first_screen.bmp`和`first_screen.bmp`文件等...

任何人都可以帮助我吗？

如何用`reference_`字符串为所有图像文件名添加前缀？

当我第二次运行该脚本时，Silk 中的 Perl 脚本将从子目录中获取两个图像并逐个像素地比较它们。我正在尝试下面的代码。您能否指导我如何继续完成此任务。

```
#!/usr/bin/perl -w
&one;

&two;

sub one {

    use Cwd;

    my $dir ="C:\\Image_Repository";
    #print "$dir\n";
    opendir(DIR,"+<$dir") or "die $!\n";
    my @dir = readdir DIR;
    #$lines=@dir;
    delete $dir[-1];
    print "$lines\n";
    foreach my $item (@dir)
    {
        print "$item\n";
    }
    closedir DIR;
}

sub two {

    use Cwd;

    my $dir1 ="C:\\Image_Repository\\BG_Images";
    #print "$dir1\n";
    opendir(D,"+<$dir1") or "die $!\n";
    my @dire = readdir D;
    #$lines=@dire;
    delete $dire[-1];
    #print "$lines\n";
    foreach my $item (@dire)
    {
        #print "$item\n";
        $dir2="C:\\Image_Repository\\BG_Images\\$item";
        print $dir2;
        opendir(D1,"+<$dir2") or die " $!\n";
        my @files=readdir D1;
        #print "@files\n";  
        foreach $one (@files)
        {
            $one="reference_".$one;
            print "$one\n";
            #rename $one,Reference_.$one;
        }
    }
    closedir DIR;
} 
```

我尝试使用 '+<' 模式打开调用，但我收到读写模式的编译错误。当我运行此代码时，它会显示 BG_images 文件夹中带有前缀字符串的文件，但实际上它并没有更新子目录中的文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T10:16:17.277

您可能应该为此检查[File::Find](http://perldoc.perl.org/File/Find.html)模块 - 它将使目录树的上下递归更简单。

您可能应该扫描文件名并修改那些不以`reference_`它们开头的文件名。这可能需要将文件名拆分为目录名和文件名，然后在文件名部分前加上`reference_`. 这是通过[File::Basename](http://perldoc.perl.org/File/Basename.html)模块完成的。

在某些时候，您需要决定第三次运行脚本时会发生什么。已经开始的文件`reference_`会被覆盖，还是没有前缀的文件会被覆盖，还是什么？

文件没有被重命名的原因是重命名操作被注释掉了。请记住`use strict;`在脚本顶部添加（以及`-w`您使用的选项）。

如果你得到一个数组中的文件列表`@files`（并且名称是基本名称，所以你不必摆弄 File::Basename），那么循环可能看起来像：

```
 foreach my $one (@files)
   {
        my $new = "reference_$one";
        print "$one --> $new\n";
        rename $one, $new or die "failed to rename $one to $new ($!)";
   } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T16:47:29.830

您不会打开目录进行写作。只需使用[opendir](http://perldoc.perl.org/functions/opendir.html)而不使用字符串的模式部分：

```
opendir my($dir), $dirname or die "Could not open $dirname: $!"; 
```

但是，你不需要那个。您可以使用 File::Find 来制作您需要的文件列表。

```
#!/usr/bin/perl
使用严格；
使用警告；

使用 File::Basename；
使用文件::查找；
使用 File::Find::Closures qw(find_regular_files);
使用 File::Spec::Functions qw(catfile);

我的（$wanted，$reporter）=find_regular_files；
查找（$通缉，$ARGV[0]）；

我的 $prefix = 'recursive_';

foreach 我的 $file ( $reporter->() )
    {
    我的 $basename = basename( $file );

    如果（索引（$basename，$prefix）== 0）
        {
        print STDERR "$file 已经有'$prefix'！跳过。\n";
        下一个;
        }

    我的 $new_path = catfile(
        目录名（$文件），
        “recursive_$basename”
        );

    除非（重命名 $file，$new_path ）
        {
        print STDERR "无法重命名 $file: $!\n";
        下一个;
        }

    打印 $file, "\n";  
    }

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T11:18:07.137

借助[coreutils for Windows](http://getgnuwin32.sourceforge.net/)`find`的实用程序：

```
$ find -iname "*.bmp" | perl -wlne"chomp; ($prefix, $basename) = split(m~\/([^/]+)$~, $_); rename($_, join(q(/), ($prefix, q(reference_).$basename))) or warn qq(failed to rename '$_': $!)" 
```

# asp.net-mvc - 菜单链接抑制是视图还是控制器的责任？

> ID：406397
> 
> 赞同：0
> 
> 时间：2009-01-02T09:48:30.797
> 
> 标签：asp.net-mvc

在 ASP.NET MVC 中，我正在构建一个站点，如果当前页面是链接到的页面，则主菜单（出现在每个页面上）应该删除条目的超链接（只留下文本）。

菜单 html 在站点的母版页中定义，但当前由控制器传递的 ViewData 填充。这是为了让基本控制器定义链接对象的字典，然后控制器上的操作从字典中抓取相关条目，将地址设置为空。然后，基本控制器将其作为`IEnumerable<>`.

然而，以批判的眼光看待它，感觉更像是视图应该独自负责的事情：菜单没有改变，所以控制器感觉就像它在不应该的地方对接。我唯一的一点保留是视图会知道当前页面是什么，这感觉更像是控制器的问题。

我一直在脑子里转圈子争论了一段时间，所以我想对此发表一些其他意见。我会认为这将是一个相当普遍的情况？

（对我的问题的最后一个澄清：主菜单链接指向站点各个区域的“登陆页面”（基本上是所有控制器的索引操作），一旦您导航到该区域并离开登陆页面，菜单中的所有条目将被链接）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T10:27:21.577

我们可能会认为视图非常愚蠢，因为它们的唯一任务是将控制器提供的数据转换为客户端可以解析和显示的东西。

然而实际上大多数视图（当然是我见过的所有 ASP.NET-MVC 示例）都包含相当多的应用程序逻辑，因为它的视图决定了用户如何在应用程序中导航。如果没有包含代码的视图来创建可点击的链接、图像和按钮，我们就不会有太多的应用程序。

因此，具有控制其内容的菜单的视图并不违背关注点分离的精神。OTH，控制器提供一些从列表中转换为菜单也是可以接受的。在这种情况下，您会希望控制器指定菜单的哪些成员可以单击，在这种情况下，视图的角色将是执行控制器的愿望。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T11:08:38.450

我会去创建一个用于菜单显示的控制器。我认为，将过多的逻辑放入视图会使其更难维护。

由于某些原因，不显示他不能使用的用户手册条目是应用程序逻辑的一部分，而不是视图本身。我总是试图将视图视为代码的一个愚蠢部分，它只做需要的事情——循环、基本的与显示相关的 ifs 等等。

此外，将足够重要的数据传递给视图可能会使应用程序更易于测试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T11:17:36.293

我同意 AWJones 的观点，即它有点灰色地带，但恕我直言，如果视图应该负责某事物的呈现方式以及控制器负责该事物是什么，那么菜单的内容就在控制器的域中。

我有点觉得菜单部分的“抑制”应该完全从视图（和最终用户）隐藏起来——视图应该得到它需要的东西，*而不是更多*。

# css - 如何将底部填充添加到包含浮动 div 的 div？

> ID：406400
> 
> 赞同：3
> 
> 时间：2009-01-02T09:51:08.513
> 
> 标签：css

我有一个包含其他浮动 div 的 div：

<div id="parent">
  <div style="float:left;">text</div>
  <div style="float:left;">text</div>
  <div style="float:right;" >文本</div>
</div>

如何将底部填充添加到父 div 并使其在 IE6 中工作（或者换句话说，避免 IE6 中的错误）？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T12:16:08.007

在我的 CSS 重置文件中，我有一个“clearfix”代码：

```
.clearfix:after {
    content:".";
    display:block;
    height:0;
    clear:both;
    visibility:hidden;
}
.clearfix {display:inline-block;}
/* Hide from IE Mac \*/
.clearfix {display:block;}
/* End hide from IE Mac */
* html .clearfix {height:1px;} 
```

看起来很奇怪，但适用于所有常见的浏览器：IE6/7、FF2/3、Opera、Safari。

**如何使用？**

像这样的东西：

```
<div class="clearfix">
    <div class="floatLeft">
        left div
    </div><!-- /.floatLeft-->

    <div class="floatRight">
        right div
    </div><!-- /.floatRight-->
</div><!-- /.clearfix--> 
```

**注意力！** 不要在页脚（或页面中的最后一个元素）上使用*clearfix*类，否则所有内容下都会有一个丑陋的空间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T10:07:53.737

尝试浮动父 div。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T10:22:47.433

[盒子模型破解](http://webdesign.about.com/od/css/a/aaboxmodelhack.htm)，基本上提供 IE 特定的填充应该会有所帮助

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
 "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<title>demo</title>

<style type="text/css">
<!-- 
div {
height:100px;
border:1px solid black;
padding-bottom:10px;
}
div {
\height: 140px;
h\eight: 100px;
}  
-->
</style>

</head>
<body>

<div id="parent" style="float:left;">
  <div style="float:left;">text</div>
  <div style="float:left;height:100px">text</div>
  <div style="float:right;">text</div>
</div>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T10:55:08.790

当所有子项都浮动时，IE 似乎不会计算父项的高度。如果您可以将固定高度应用于父级，则可以添加底部填充。

如果您无法修复父级的高度，我接下来要做的就是看看是否有办法从最高的子级 div 中移除浮动。这会给父 div 一个实际的高度，然后底部填充应该显示出来。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-01-16T17:45:33.713

与其他答案之一类似，这个答案在 Firefox 中对我有用，并且使用的代码更少。我认为它在其他浏览器中也能正常工作，但你应该确认。

```
.clearFix::after{
content: '';
display: block;
clear: both;
} 
```

# c# - 如何更正 BST C# 代码中的隐式转换错误？

> ID：406402
> 
> 赞同：1
> 
> 时间：2009-01-02T09:51:26.780
> 
> 标签：c#, binary-tree

我写了这段代码

## 我有这些错误

无法在 findmin 上将类型 x.Program.TreeNode' 隐式转换为 'int' //

无法在 findmax 上将类型 x.Program.TreeNode' 隐式转换为 'int'

我的主要内容是正确的还是遗漏的？

以及我如何计算节点、叶子并获得高度（只需要提示）

```
class Program
    {
        static void Main(string[] args)
        {
            BinarySearchTree t = new BinarySearchTree();

            t.insert(ref t.root, 10);
            t.insert(ref t.root, 5);
            t.insert(ref t.root, 6);
            t.insert(ref t.root, 17);
            t.insert(ref t.root, 2);
            t.insert(ref t.root, 3);

            BinarySearchTree.print(t.root);
        }

        public class TreeNode
        {
            public int n;
            public TreeNode _left;
            public TreeNode _right;

            public TreeNode(int n, TreeNode _left, TreeNode _right)
            {
                this.n = n;
                this._left = _left;
                this._right = _right;
            }

            public void DisplayNode()
            {
                Console.Write(n);
            }
        }

        public class BinarySearchTree
        {
            public TreeNode root;

            public BinarySearchTree()
            {
                root = null;
            }

            public void insert(ref TreeNode root, int x)
            {
                if (root == null)
                {
                    root = new TreeNode(x, null, null);
                }
                else
                    if (x < root.n)
                        insert(ref root._left, x);
                    else
                        insert(ref root._right, x);
            }

            public int FindMin()
            {
                TreeNode current = root;

                while (current._left != null)
                    current = current._left;

                return current;
            }

            public int FindMax()
            {
                TreeNode current = root;

                while (current._right != null)
                    current = current._right;

                return current;
            }

            public TreeNode Find(int key)
            {
                TreeNode current = root;

                while (current.n != key)
                {
                    if (key < current.n)
                        current = current._left;
                    else
                        current = current._right;
                    if (current == null)
                        return null;
                }
                return current;
            }

            public void InOrder(ref TreeNode root)
            {
                if (root != null)
                {
                    InOrder(ref root._left);
                    root.DisplayNode();
                    InOrder(ref root._right);
                }
            }

            public static void print(TreeNode root)
            {
                if (root != null)
                {
                    print(root._left);
                    Console.WriteLine(root.n.ToString());
                    print(root._right);
                }

            } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T09:55:36.443

既然你需要 ( `FindMin`/ `FindMax`) 来返回一个`int`，你的意思是`current.n`什么？

* * *

更新：为了计算叶子和节点，怎么样（作为实例方法`TreeNode`）：

```
 public int CountNodes()
    {
        int count = 1; // me!
        if (_left != null) count += _left.CountNodes();
        if (_right != null) count += _right.CountNodes();
        return count;
    }

    public int CountLeaves()
    {
        int count = (_left == null && _right == null) ? 1 : 0;
        if (_left != null) count += _left.CountLeaves();
        if (_right != null) count += _right.CountLeaves();
        return count;
    } 
```

如果我错过了重点，请告诉我...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T09:57:27.330

Your `FindMin()` and `FindMax()` methods are trying to return `TreeNode` objects but the signature says they returns `int`s. As it doesn't appear that the methods are used in the program, prehaps you could remove them?

# editor - UltraEdit 的最佳 Gnome 替代品？

> ID：406403
> 
> 赞同：3
> 
> 时间：2009-01-02T09:51:39.667
> 
> 标签：editor, gnome, ultraedit

当我从 Windows 切换到 Ubuntu/Gnome 时，我正在寻找 UltraEdit 的替代品。

我尝试了一些工具，但它们通常缺少一些真正有用的功能，例如：

*   语法着色
*   文件的 FTP 编辑（不使用外部应用程序访问 FTP 上的文件）
*   字符集管理。

你用哪一个？它们的主要特点是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T10:47:19.727

我只是使用普通的旧 gedit。它具有语法高亮和处理字符集。

为了处理 FTP 共享上的文件，我只需使用 Places->“连接到服务器”功能安装它们，然后可以从 gedit（或任何其他 Gnome 程序）轻松访问远程文件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-11-09T16:40:06.390

Ultraedit 现在可用于 Ubuntu。它是商业的，但相当便宜，而且有免费试用版。

[http://www.ultraedit.com/company/blog/products/ultraedit-for-linux-released.html](http://www.ultraedit.com/company/blog/products/ultraedit-for-linux-released.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T10:45:23.037

本着跨平台编辑的精神，我想指出[Scintilla 和 SciTE](http://www.scintilla.org/SciTE.html)。实现在许多 IDE 和编辑器中使用，可用于 Windows 和 Linux。

> SciTE 是一个基于 SCIntilla 的文本编辑器。最初是为了演示 Scintilla 而构建的，它已经发展成为一个普遍有用的编辑器，具有构建和运行程序的功能。它最适用于配置简单的工作——我用它来构建测试和演示程序以及 SciTE 和 Scintilla 本身。
> 
> SciTE 目前可用于带有 GTK+ 的 Intel Win32 和 Linux 兼容操作系统。它已在 Windows XP 和 Fedora 8 以及带有 GTK+ 2.12 的 Ubuntu 7.10 上运行
> 
> Scintilla 是一个免费的源代码编辑组件。它带有完整的源代码和允许在任何免费项目或商业产品中使用的许可证。
> 
> 除了标准文本编辑组件中的功能外，Scintilla 还包括在编辑和调试源代码时特别有用的功能。其中包括对语法样式、错误指示器、代码完成和调用提示的支持。选择边距可以包含类似于调试器中用于指示断点和当前行的标记。样式选择比许多编辑器更开放，允许使用比例字体、粗体和斜体、多种前景色和背景色以及多种字体。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T10:23:31.443

Kate 支持语法着色和大量字符集。我不确定您所说的“文件的 ftp 版本”是什么意思，但 kate 还包括一个控制台，因此您可以从那里使用 ftp。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T10:27:57.300

geany 是一个可爱的编辑器，但它使用 GTK+ 而不是 GNOME，因此它没有 gnome-vfs/gvfs 集成。bluefish 具有 gnome-vfs/gvfs 集成，但有一点问题。gvim 使用起来有点困难，并且不直接支持 FTP，但是非常可扩展。在最坏的情况下，您可以使用 FUSE 将 FTP 目录挂载到您的系统上。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T18:47:41.353

不要在应用程序中寻找 FTP 支持。这些东西最好由系统处理，使用 FUSE 文件系统或 Gnome VFS 等。

如果你想成为硬核，并且想学习一项半有用的技能，请考虑学习 vim（或超硬核 vi、GUI gvim 等变体）；vi 和它的兄弟姐妹是*nix 盒子上安装最广泛的编辑器——你可能会发现自己处于唯一可用的编辑器是 vi 的情况。

否则，我会建议使用支持您使用的语言的东西——即我宁愿在没有 Eclipse 的情况下编写 Java。

对于其他的东西，我使用 joe，它是一个非常小而漂亮的命令行编辑器，带有 Wordstar 键绑定。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-26T06:27:07.253

刚刚在 ubuntu 8.1 上尝试过 Jedit，它是最接近 ultraedit 的，具有一些额外的强大功能.. 现在很高兴..

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-06-26T06:31:59.477

另一个出色的编辑器是[Screem](http://www.screem.org/)。它不是很成熟，但它充满了有用的功能。

# javascript - 通过使用 javascript 的浏览器身份验证下载 PDF

> ID：406415
> 
> 赞同：1
> 
> 时间：2009-01-02T09:59:46.093
> 
> 标签：javascript, authentication, browser

我知道我可以使用 Javascript 进行浏览器身份验证，然后使用该 javascript 获取一个 XML 文件。不过，我的用例有点不同：网页上有指向不同服务器上 PDF 的链接。该服务器进行浏览器身份验证。用户名和密码不是秘密，事实上，我们现在发布链接是这样的：

“下载 PDF（使用访客/访客作为用户名/密码）”。

我需要的是：用户单击链接，但不必填写用户名/密码，因为我们看到许多用户对此感到困惑（在可用性测试中）。

我们无权访问托管 PDF 的其他服务器。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T10:04:39.373

你可以这样写链接：[http://gast:gast@mis.vlaanderen.be/cognos7/metadata/mp_v_i_im_020_e100_az_algemeen_overzicht.pdf](http://gast:gast@mis.vlaanderen.be/cognos7/metadata/mp_v_i_im_020_e100_az_algemeen_overzicht.pdf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:02:51.140

此 URL 是一个测试用例： http: [//mis.vlaanderen.be/cognos7/metadata/mp_v_i_im_020_e100_az_algemeen_overzicht.pdf](http://mis.vlaanderen.be/cognos7/metadata/mp_v_i_im_020_e100_az_algemeen_overzicht.pdf)

用户名是“gast”，密码是“gast”（如身份验证框中所说）。

如果您可以将其嵌入到链接的页面中，并使其在不触发浏览器身份验证框的情况下打开，那么您就是我的英雄 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T10:06:01.947

[http://gast:gast@domain.com/file.pdf](http://gast:gast@domain.com/file.pdf)

# apache - Monit Daemon：Apache-Status 连接失败

> ID：406419
> 
> 赞同：1
> 
> 时间：2009-01-02T10:03:20.453
> 
> 标签：apache, monitoring, status, monit

我正在为我工​​作的公司设置一个服务器集群，并且我正在使用[Monit](http://mmonit.com/monit/)来监视所有服务器进程是否正在按应有的方式运行和工作。

对于 Apache 监控，我想使用[这里](http://mmonit.com/wiki/Monit/MonitorApacheStatus)解释的 mod_status 功能。然而，这变得相当困难。因为无论我如何配置 Monit 和 Apache，Monit 只会不断报告连接失败错误（`connection failed to 127.0.0.1:80 [APACHESTATUS via TCP]`）。

我按照 Monit Wiki 上的说明进行操作，但运气不佳。Apache 状态页面 ( `http://127.0.0.1/server-status?auto`) 页面可以在我测试它的任何浏览器中使用。我也尝试过将主机从更改`127.0.0.1`为`localhost`没有任何运气。

我已经用 Monit 版本 4.8.x、4.10x 和 5.0-beta6 测试了这个设置，结果都一样。此外，Google 上也没有太多有用的信息可以提供帮助，因为大多数结果都是关于更琐碎和简单的问题。

我错过了什么吗？或者我只是愚蠢的也许？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T10:32:27.180

尝试在 Apache 中更改授权：

```
Order allow,deny
Allow from all 
```

检查 Apache access.log 和 error.log 文件 - 报告了哪种错误？

# statistics - 逻辑语言 - Prolog 或 Lisp/Smalltalk 或其他？

> ID：406426
> 
> 赞同：11
> 
> 时间：2009-01-02T10:05:57.860
> 
> 标签：statistics, lisp, prolog

所以，我正在编写某种统计程序（实际上我正在将它重新设计为更优雅的东西）并且我认为我应该使用为这种东西创建的语言（处理大量的统计数据，它们之间的连接和某种遗传/神经编程）。

说实话，我只是想要一个深入研究 lisp/smalltalk 的借口（smalltalk/lisp/clojure 不一样吗？-像 python 和 ruby​​ 一样？-semantics-wise）但我也想要一种易于理解的语言其他喜欢 BASIC 语言的人（这就是我没有选择 LISP 的原因 - 还 :D）。

我还检查了 Prolog，它似乎是一种非常酷的语言（易于处理数据之间的关系并且比 Lisp 更容易），但我想听听您的想法。

谢谢

编辑：我总是把普通的 lisp 和 Smalltalk 混为一谈。很抱歉把这两个语言放在一起。另外，我所说的“*其他喜欢 BASIC 语言的人*”的意思是，我不喜欢像 lisp 这样具有语义的语言（对于没有 CS 背景的人），我发现 Prolog 更直观一些（但那是我的我只是把他们俩都弄乱了一点之后的意见）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-01-02T10:25:11.003

有什么特别的理由不使用[R 吗？](http://www.r-project.org) 这是一种构建与购买（或在本例中为下载）的决定。如果你在做统计计算，R 有[很多](http://cran.cnr.berkeley.edu/)现成的包。其中包括用于各种类型数据源的许多库和接口。还有用于将 R 嵌入其他语言[（例如 Python）的接口库，因此您可以使用](http://rpy.sourceforge.net/)[Python 中的 GUI（例如）](https://stackoverflow.com/questions/326300/python-best-library-for-drawing)和使用 R 的核心计算引擎构建混合应用程序。

在这种情况下，您可能会减少实现所需的工作量并最终获得更灵活的应用程序。

如果你下定决心要学习另一种语言，那就去做吧。[Smalltalk、](http://www.smalltalk.org/versions) [Prolog](http://kti.mff.cuni.cz/~bartak/prolog/implementations.html)和[LISP](http://en.wikipedia.org/wiki/Common_Lisp#List_of_implementations)有几个很好的免费实现（一些在语音中，一些在啤酒中） 。

如果您要在系统上放置用户界面，Smalltalk 可能是更好的选择。如果您想创建大型规则集作为应用程序的一部分，Prolog 就是为这类事情而设计的。很多人都[写过关于 LISP 顿悟的文章](http://www.catb.org/~esr/faqs/hacker-howto.html)，它会影响你对编程的看法，但我不能从经验中真正保证这一点——我只是真正使用 AutoLISP 在 AutoCAD 上编写自动化脚本。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-01-02T14:55:16.827

冒着冒犯某些人的风险，我很难将“*喜欢 BASIC 语言的其他人容易理解*”与您提到的任何语言调和起来。这**并不是**要批评，而是要观察到您提到的每种语言都具有与 BASIC 完全不同的风格和自然习语。

*   Smalltalk - 从头开始​​的纯 OO，通常（例如 Squeak）与同时是 IDE 和运行时的集成环境相结合。IOW 您进入 Smalltalk VM 并*在其中*工作，而不仅仅是编写“源代码”文本。

*   LISP - 更接近函数式编程（尽管带有命令式泛音）；前缀符号是大多数“喜欢”其他语言的人的第一个障碍，但宏的概念和使用是一个更重要的障碍。

*   Clojure - LISP、OO 和 JVM 集成的组合使得这个更不像 BASIC。

*   Python 和 Ruby - 我将它们混为一谈（冒着进一步惹恼任何一个粉丝的风险 ;-)，因为它们都是 OO 语言，具有不同的符号，这将使局外人有点学习曲线。在 Python 中仅使用缩进来进行控件嵌套以及在 Ruby 中使用类似 Perl 的特殊字符通常是新手抱怨的要点。尽管两者都可以以命令式风格编写，但经验丰富的用户会认为这不是标准的。

*   Prolog - 这是所有提到的语言中最不同于 BASIC 的。您提到的所有其他语言都可以（ab）以半程序风格使用，但这在 Prolog 中基本上是不可能的。它需要对递归有透彻的理解和舒适，才能做任何不平凡的事情。

基本上所有这些语言（但尤其是 Prolog，恕我直言）用“本地口音”编写的代码将使用常规 BASIC 编程规范之外的习语和概念。换句话说，如果您选择其中一个然后编写“带有 BASIC 口音”的代码，那么您几乎浪费了该语言可以提供的好处。

我相信他们都值得学习他们可以教授的概念（或至少加强，取决于你的背景）。但是与语言 X 的相似性（对于广泛的 X 值）不是你会得到的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T10:45:25.797

我可以部分回答你

> （Smalltalk/Lisp/Clojure 不一样吗？-像 python 和 ruby​​？-语义方面）

不它不是。Smalltalk 是带有消息传递而不是方法调用的 OO 语言。Lisp 就是 Lisp ;-) 它意味着真正的函数式语言，具有强大的宏系统、其他语言（在 CL 中）中从未见过的 OO 支持以及更多功能。Closure 是一种类似 Lisp 的语言，没有很多 Lisp 特性，但与 JVM 有很好的集成。例如，它不支持尾调用优化。而 python 或 ruby​​ 是经典的命令式 OO 语言，功能能力有限。注意字数有限。例如，Guido 不喜欢函数式编程，并在 2.5 和 2.6 版本中删除了一些函数式特性。

如果您熟悉 Python 中的命令式过程编程并且您想改变您的范式，那么您应该谨慎地做出决定。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T17:20:28.283

Prolog 是一种非常不同的语言。它可能很难掌握，主要是因为它严重依赖递归来完成非常基本的任务。如果你真的愿意，那就试试吧。它可以非常强大，因为它允许表达关系并简单地解决复杂的问题，典型的例子是河内塔或快速排序。它将改变您的思维方式，如果您习惯于命令式语言，这可能会很困难。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T10:46:07.793

如果您对 Prolog 感兴趣，那么可以使用[Visual Prolog](http://www.visual-prolog.com/)的免费版本，而商业版本的价格也很合理。

它是 Prolog 的强大类型分支，因此不是您对该语言的经典实现，但有一段可敬的历史——Borland 在 80 年代后期将其 DOS 祖先作为 Turbo-Prolog 推向市场。

它也仅限于 Windows，但可用于创建标准 Windows DLL，因此您可以将代码链接到“普通”Windows 编程语言。我自己从来没有在愤怒中使用过这个包，但是我在 Uni 上过几个 Prolog 课程，所以不时下载它来玩并寻找可能的用途，它看起来足够可靠。可能只是您正在寻找的一组齿轮。

# c# - Visual Studio HTML 编辑器大括号的烦恼

> ID：406431
> 
> 赞同：1
> 
> 时间：2009-01-02T10:08:55.747
> 
> 标签：c#, asp.net, html, visual-studio-2008

有谁知道控制 Visual Studio 如何在 Html 视图中处理花括号的方法？

类型...

```
<% if (true) { %> 
```

然后

```
<% { %> 
```

Visual Studio 会自动格式化它。

```
<% if (true)
   { %>    
<% } %> 
```

不是一个主要问题，但使用 foreach 嵌套其中一些，它会变得混乱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T11:34:35.887

好吧，它并不是一个真正的解决方案，但我所做的是我按 Ctrl+x 撤消，它会撤消格式化 - 我知道没有其他方法，其他方法在所有 C# 文档中都改变了它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:18:04.417

看看工具 -> 选项 -> 文本编辑器 -> JScript -> 格式化！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T10:44:56.860

由于代码是用 C# 编写的，因此应受工具 | 中的设置控制。选项 | 文本编辑器 | c# | 格式化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-10-09T03:50:32.990

[http://forums.asp.net/t/1478453.aspx](http://forums.asp.net/t/1478453.aspx)

jscript 节点中还有一个“格式化”部分。这就是我的问题所在。

# c# - If else if 或 Switch case

> ID：406433
> 
> 赞同：7
> 
> 时间：2009-01-02T10:09:25.153
> 
> 标签：c#, .net, performance

考虑到 **if else if**或**switch case的性能时，哪个更好**

重复：[在 C# 中使用 if/else 和 switch-case 之间有什么显着区别吗？](https://stackoverflow.com/questions/395618/ifelse-vs-switch)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T10:14:45.453

为了可读性和意义，请使用 switch 语句而不是加载 IF 语句。

不过 switch 语句稍微快一些：

[http://www.blackwasp.co.uk/SpeedTestIfElseSwitch.aspx](http://www.blackwasp.co.uk/SpeedTestIfElseSwitch.aspx)（第一次点击谷歌）

编译器可以优化 switch 语句，所以如果你有超过 3 或 4 种不同的情况，请使用

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T10:16:22.767

你开什么？如果您打开一个字符串，C# 编译器*要么*将其转换为字典*，要么*转换为一系列 if/else 检查。哪个更快取决于有问题的字符串（包括候选字符串）。

如果您要打开一个整数值，我相信 C# 编译器总是使用 IL switch 语句——但这可能会也可能不会比 if/else 序列快，具体取决于所涉及的值。（如果它们在一个大的连续块中，CLR 可以跳到表中的正确位置 - 如果它们非常不同，我怀疑它没有帮助。）

这只是一个空闲查询，还是你真的在这个级别进行微优化？在绝大多数情况下，任何性能差异都将是微不足道的——为了可读性而编写。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T10:15:54.703

这更多的是风格问题而不是性能问题。在我看来，任何性能差异都可以忽略不计。另请参阅[https://stackoverflow.com/questions/395618/ifelse-vs-switch](https://stackoverflow.com/questions/395618/ifelse-vs-switch#)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T10:15:46.497

如果您使用的是 int/string/etc，则有一些更复杂的跳转选项，如果您有很多条件，这些`switch`选项可能会更有效。`switch`但是，差异可能不会很大，并且`switch`不是所有类型的选项（仅基于整数和字符串）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T10:16:08.680

我读过 switch 语句可能会稍微快一些。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T10:18:17.350

在解决性能问题时，您必须使用真实数据来衡量差异。您从投机的角度询问它的事实表明您没有实际的性能问题需要处理，因此您应该担心哪个更具可读性/可维护性

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-01-02T10:20:06.067

棘手的是，您必须运行测试，因为 if 和开关会导致不同的 IL 代码。

人们希望它们是相同的。

# c# - 重构斐波那契算法

> ID：406446
> 
> 赞同：9
> 
> 时间：2009-01-02T10:19:56.177
> 
> 标签：c#, refactoring

我已经很多年没有使用过静态类型语言了，我已经为自己设定了跟上 C# 速度的任务。我正在使用我通常的技巧，在[http://www.jobsnake.com/seek/articles/index.cgi?openarticle&8533](http://www.jobsnake.com/seek/articles/index.cgi?openarticle&8533)作为我的第一个任务。

我刚刚完成了第二个斐波那契任务，它并没有花费很长时间并且工作得很好，但在我看来看起来很难看，我确信可以用更少的代码行更优雅的代码来实现。

我通常喜欢与已经知道自己在做什么的人结对编程来学习，但是今天我没有这个选项，所以我希望在这里发帖将是下一个最好的事情。

所以对于所有 C# Jedi 来说，如果你要重构下面的代码，它会是什么样子？

```
using System;
using System.Collections;

namespace Exercises
{
    class MainClass
    {
        public static void Main(string[] args)
        {
            Console.WriteLine("Find all fibinacci numbers between:");
            int from = Convert.ToInt32(Console.ReadLine());
            Console.WriteLine("And:");
            int to = Convert.ToInt32(Console.ReadLine());
            Fibonacci fibonacci = new Fibonacci();
            fibonacci.PrintArrayList(fibonacci.Between(from, to));

        }
    }

    class Fibonacci
    {   
        public ArrayList Between(int from, int to)
        {               
            int last = 1;
            int penultimate = 0;
            ArrayList results = new ArrayList();
            results.Add(penultimate);
            results.Add(last);

            while(last<to)
            {
                int fib = last + penultimate;
                penultimate = last;
                last = fib;
                if (fib>from && fib<to) results.Add(fib.ToString());
            }
            return results;
        }

        public void PrintArrayList(ArrayList arrayList)
        {
            Console.WriteLine("Your Fibonacci sequence:");
            Console.Write(arrayList[0]);
            for(int i = 1; i<arrayList.Count; i++)
            {
                Console.Write("," + arrayList[i]);
            }
            Console.WriteLine("");
        }

    }
} 
```

问候，

克里斯

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2009-01-02T10:21:18.060

作为迭代器块：

```
using System;
using System.Collections.Generic;
using System.Linq;

static class Program {
    static IEnumerable<long> Fibonacci() {
        long n = 0, m = 1;

        yield return 0;
        yield return 1;
        while (true) {
            long tmp = n + m;
            n = m;
            m = tmp;
            yield return m;
        }
    }

    static void Main() {
        foreach (long i in Fibonacci().Take(10)) {
            Console.WriteLine(i);
        }
    }
} 
```

这现在完全是懒惰的，使用 LINQ 的`Skip`/ `Take`etc 可以让您轻松控制开始/结束。例如，对于您的“介于”查询：

```
foreach (long i in Fibonacci().SkipWhile(x=>x < from).TakeWhile(x=>x <= to)) {...} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T11:46:57.910

如果您更喜欢递归而不是循环：

```
public static void Main(string[] args)
{
    Func<int, int> fib = null;
    fib = n => n > 1 ? fib(n - 1) + fib(n - 2) : n;

    int start = 1;
    int end = 10;
    var numbers = Enumerable.Range(start, end).Select(fib);
    foreach (var number in numbers)
    {
        Console.WriteLine(number);
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T11:49:40.197

我会将`IEnumerable<int>`类型更改为，`IEnumerable<Int64>`因为它将从 50 开始溢出

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2009-01-02T11:42:44.313

对于那些像我一样没有屈服于 Linq-ed 的人来说，'Simple Jack' 版本。我被绝地俱乐部禁止了；）

```
static List<int> GetAllFibonacciNumbersUpto(int y)
{
   List<int> theFibonacciSeq = new List<int>();

   theFibonacciSeq.Add(0);   theFibonacciSeq.Add(1);

   int F_of_n_minus_2 = 0;   int F_of_n_minus_1 = 1;
   while (F_of_n_minus_2 <= y)
   {
      theFibonacciSeq.Add(F_of_n_minus_1 + F_of_n_minus_2);

      F_of_n_minus_2 = F_of_n_minus_1;
      F_of_n_minus_1 = theFibonacciSeq.Last<int>();
   }
   return theFibonacciSeq;
} 
```

现在我们已经把它排除在外了......

```
// read in some limits
int x = 0; int y = 6785;

foreach (int iNumber in GetAllFibonacciNumbersUpto(y).FindAll(element => (element >= x) && (element <= y)))
    Console.Write(iNumber + ",");
Console.WriteLine(); 
```

# code-analysis - 是否有一些项目评价 RPG 源？像软件指标？

> ID：406452
> 
> 赞同：0
> 
> 时间：2009-01-02T10:23:08.137
> 
> 标签：code-analysis, ibm-midrange, rpgle

我只是想知道您是否知道一些可以*帮助*确定分析的源代码是好代码还是坏 RPG 代码的项目。

我正在考虑[Software metric](http://en.wikipedia.org/wiki/Software_metric)、[McCabe Cyclomatic Number](http://en.wikipedia.org/wiki/Cyclomatic_complexity)和所有这些东西的条款。

我知道这些数字只是一两个预感，但是如果您可以向您的管理层提供一个分数，他们会很高兴，我可以对所有那些*按规定工作*但维护起来很痛苦的程序进行现代化改造。

所以是的..知道（ILE）RPG的任何代码分析器吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-07-31T06:21:16.450

我们开发了一个名为[SourceMeter](https://www.sourcemeter.com/)的工具，可以分析符合 RPG III 和 RPG IV 版本（包括自由格式）的源代码。它为您提供 McCabe 循环数和许多其他可用于评估 RPG 代码的源代码指标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T10:31:21.397

如果问题是程序维护起来很痛苦，那么该指标应该反映维护它们所涉及的痛苦程度，例如“实施新功能 X 的时间”与“如果代码库不是蒸汽 POS 的估计时间” .

然而，这些都是主观的（而且永远都是）。IMO，您最好[无情地重构](http://www.extremeprogramming.org/rules/refactor.html)以消除开发中的痛点。您可能希望了解[扼杀应用程序](http://martinfowler.com/bliki/StranglerApplication.html)的技术，以引入更现代的平台来提供新功能，而无需求助于 Big Bang 重写。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-08-30T06:14:01.877

[SD 源代码搜索引擎 (SCSE)](http://www.semanticdesigns.com/Products/SearchEngine)是一种用于快速搜索大量源代码的工具，它使用每个文件的语言结构根据代码元素（标识符、运算符、常量、字符串文字、注释）对文件进行索引。SD 源代码引擎可用于多种语言，例如 C、C++、C#、Java ......并且还有 RPG 的草稿版本。

对于 OP 的原始问题，SCSE 引擎在为文件编制索引时碰巧计算了文件的各种指标，包括 SLOC、评论、空行以及 Halstead 和 Cyclomatic Complexity 度量。这些指标作为索引步骤的副产品提供。因此，可以获得 RPG 的各种指标。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-08-22T18:42:38.853

虽然我为 RPG400 编写了一个原始分析器，但我从未见过。随着自由形式和子程序的出现，修改起来太费时间了。我希望有一个 API 可以让我访问编译器词法表。

如果您想自己尝试一下，请考虑阅读编译器列表底部并使用行号的概念，以至少了解变量的生存时间。例如，全局变量比局部变量“更糟糕”。由于 GOTO 和 EXSR，这只能是猜测。

很多工作。

# winforms - WinForms 的最佳 UI 框架？

> ID：406457
> 
> 赞同：3
> 
> 时间：2009-01-02T10:26:00.797
> 
> 标签：winforms, user-interface

有人可以为 WinForms 开发推荐一个好的 UI 框架吗？我正在寻找的是相当成熟（=无错误）、渲染良好且快速、并且不会用 10Mb 程序集使我的程序膨胀的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T12:00:06.837

我和我的团队都使用[Telerik](http://www.telerik.com)。结果是一个非常漂亮的 GUI，控件非常成熟且易于使用。

我已经购买了开发人员快速报告控件，但它根本无法很好地扩展。在生成包含 10k+ 行的报告时，它会最大限度地利用我们的网络服务器上的 CPU。所以我不能推荐开发者快递。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:39:59.083

我使用开发人员快递。恕我直言，API 比基础架构更干净，Visual Studio 的错误更少，帮助集成。我从不查看程序集的大小。在 .net 安装中，这对我来说不是一个真正有用的指标。只是为了安装 hello world，您正在查看大量下载和长时间的 .net 框架安装。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-24T10:58:11.510

我建议查看 DevExpress [WinForms UI 库](https://www.devexpress.com/products/net/controls/winforms/)，它附带 190 多个高性能和完全可定制的 UI 控件和 50 多个令人惊叹的应用程序主题。

DevExpress 是唯一提供 WinForms DirectX 渲染支持的 UI 组件供应商。通过迁移到 DirectX，他们的控件实现了尽可能高的性能和出色的高 DPI 渲染质量。

[您可以在https://www.devexpress.com/try](https://www.devexpress.com/try)免费试用所有 DevExpress 产品 30 天

# .net - 如何从给定的命名空间中获取所有方法？

> ID：406463
> 
> 赞同：0
> 
> 时间：2009-01-02T10:29:50.133
> 
> 标签：.net, class, reflection, namespaces

我想要命名空间中的所有 Method-ClassName

就像我有 system.windows.Forms

在视觉工作室中，我们安装 system.windows.Forms。它会建议所有相关方法、类、枚举的框

我需要获取相同的，我怎么能在 C# 中做到这一点

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T10:33:19.427

首先，命名空间中没有方法——只有类型。

要从特定程序集中的一个命名空间中获取所有类型，您可以使用（假设 .NET 3.5 用于 LINQ 位）[Assembly.GetTypes](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.gettypes.aspx)：

```
var types = assembly.GetTypes().Where(type => type.Namespace == desiredNamespace); 
```

但是，类型可以分布在多个程序集中。

一旦你有了一个类型，你就可以使用[Type.GetMethods](http://msdn.microsoft.com/en-us/library/system.type.getmethods.aspx)来检索可用的方法。使用适当的 BindingFlags 来获取静态/实例、公共/非公共方法等。

如果这没有帮助，请澄清问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:39:47.103

这种功能称为“反射”。

[例如， http://www.codersource.net/published/view/291/reflection_in.aspx](http://www.codersource.net/published/view/291/reflection_in.aspx)（我通过谷歌搜索“reflection”和“C#”发现）提到了您从 C# 调用的相关 .NET API 方法。

# mysql - 用于维护审计日志的 BEFORE 或 AFTER 触发器

> ID：406464
> 
> 赞同：3
> 
> 时间：2009-01-02T10:30:47.230
> 
> 标签：mysql, triggers

我一直在阅读[创建触发器页面](http://dev.mysql.com/doc/refman/5.0/en/create-trigger.html)上的 MySql 5.0 评论流 ，我想问问社区这些建议是否很好以及它们是否仍然适用于 5.1。我今天注意到使用触发器是不可能使用 AFTER UPDATE 来更新旧表中的字段。

1.  小心使用 BEFORE 触发器。可能会出现约束，特别是如果您使用 InnoDB 引擎，插入将失败，但来自 BEFORE 触发器的操作将成功。
2.  将 BEFORE 触发器主要用于约束或规则，而不是事务，调整 NEW.* 列应该没问题。
3.  对大多数其他操作坚持使用 AFTER 触发器，例如插入历史表或更新非规范化。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-01-02T21:16:02.160

是的。AFAIK，MySQL 5.1 没有对触发器工作方式的语义进行任何更改。MySQL 尝试支持触发器语义的 ANSI/ISO SQL 规范。

您可以想象有一系列操作在将一行写入数据库时​​运行：

1.  在触发器之前运行
2.  评估约束、强制执行`NOT NULL`、应用`DEFAULT`值
3.  将行写入数据库
4.  更新索引
5.  在触发器之后运行

到达 AFTER 触发器后，更改行中的值为时已晚。在某些数据库中，您可以设置`NEW.somecolumn = 1234`但此更改会在 AFTER 触发器完成时被静默丢弃。在其他数据库中，它通过在定义触发器或运行触发器时给出错误来帮助您理解错误。

AFTER 触发器最适合用于因插入/更新行而采取的额外操作，例如您提到的审计日志记录。一方面，MySQL 只允许每个表的每个操作一个触发器，因此如果您还使用 BEFORE 触发器来更改值和执行业务规则，那么现在您至少可以将额外的操作保留在单独的触发器中。这使得更新一个或另一个变得更容易。

*另一个考虑因素是，只有在*您知道该行已成功保存后，您才应该执行额外的操作。例如，在 BEFORE 触发器中记录更改，然后由于 NOT NULL 约束而中止更改是不正确的。

对于需要删除其他表中的相关行的 DELETE 操作，您可能仍需要在 BEFORE 触发器中执行此操作。

# jquery - 使用日期选择器在文本框中进行验证

> ID：406469
> 
> 赞同：0
> 
> 时间：2009-01-02T10:34:12.530
> 
> 标签：jquery

我有三个文本框，box1 由 user1 填充 box2 由 user2 填充 box3 由 user3 填充

我也有这三个框的默认值。1.现在当box1被选中时，user1不能输入默认日期之前的日期，不应允许选择超过box2的日期（如果不为空，则考虑默认日期）。2.user2可以在box1和box2的范围内输入日期。如果这些框为空，则将考虑默认值。3.user3可以在box2的日期之后输入日期。

请您提出一些解决方案，因为我是这项技术的新手。提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-03T00:00:24.590

鉴于您的场景并希望使用 jQuery 来实现此行为，如何：

使用 jQuery 将 onchange 事件处理程序连接到每个文本框，然后当值更改时，执行验证并采取适当的步骤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T18:25:46.840

您应该查看 datepicker 的[beforeShow](http://docs.jquery.com/UI/Datepicker/datepicker)功能（查看链接中的选项选项卡）-

> 可以是一个函数，它接受一个输入字段和当前日期选择器实例并返回一个设置（匿名）对象来更新日期选择器。在显示日期选择器之前调用它。

[我希望在这个问题](https://stackoverflow.com/questions/330737/jquery-datepicker-2-inputs-textboxes-and-restricting-range#333585)中只使用两个输入控件来做一些类似的范围/日期限制，让您了解如何使用该功能。

# ajax - 为什么我的 Ajax 请求直接从状态 1 转到状态 4？

> ID：406476
> 
> 赞同：0
> 
> 时间：2009-01-02T10:45:05.410
> 
> 标签：ajax, cgi, response

我正在使用 AJAX 向 CGI 程序发出请求。响应向我发送内容长度。我的目的是动态展示响应进度。为此，我需要在 XHR 对象的 onreadystate 值为 3 时启动一个函数。但该请求似乎没有获取该状态编号。相反，它直接从状态 1 到状态 4。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T15:00:43.057

响应可能非常快，以至于您在状态 3 时根本没有注意到它。特别是如果您在 localhost 上运行它，响应可能会非常快速地传输。您可以尝试在到达第 3 阶段时设置警报，以测试它是否真的到达那里。另外，我相信 Internet Explorer 说在第 3 阶段访问响应是错误的，因此可能存在兼容性问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-03T19:24:02.933

如果您在本地主机上运行，​​那么浏览器可能永远没有机会在发送请求和获得响应之间运行......

1.  浏览器打开连接，将 readyState 设置为 1
2.  浏览器向服务器进程发送数据包
3.  服务器进程接收数据包，从调度程序获得优先级
4.  服务器将数据返回给浏览器，并让出对 CPU 的控制权。浏览器继续执行。
5.  浏览器看到所有数据都已收到，将 readyState 设置为 4。

长话短说：不要指望进入“接收”状态。

# model-view-controller - 在 MVC 模式中实现模型的最佳实践

> ID：406478
> 
> 赞同：4
> 
> 时间：2009-01-02T10:45:23.130
> 
> 标签：model-view-controller

在 MVC 模式中实现模型的最佳实践是什么。具体来说，如果我有“用户”，我是否需要实现 2 个类。一个管理所有用户，一个管理单个用户。那么像“用户”和“用户”这样的东西？

我正在用 php 编写 Zend Framework 应用程序，但这是一个更普遍的问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T10:55:36.917

模型应该由问题的需要驱动。因此，如果您需要处理多个用户，那么代表用户集合的类可能是合适的，是的。但是，如果你不需要它，就不要写它！您可能会发现一个简单的 User 对象数组就足以满足您的目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T10:59:11.637

这将是特定于应用程序和 MVC 实现的。您可以定义一个收集逻辑相关类的类，或者您可以在用户类上定义一个静态寄存器。这比 MVC 更像是一个 OO 问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-03T15:03:39.680

我会说使用包含的集合几乎总是比尝试编写自己的集合更好。

但我认为您最初的问题可能会有所不同......“除了 User 类之外，我是否需要一个单独的类来管理用户？

我使用静态工厂类来构建我的所有用户并将它们再次保存回数据库。我认为您的模型类需要尽可能地简化，并且您使用重型控制器类来完成模型类的所有工作。

# c# - 如何从 CHM 或 PDF 文件的电子书中读取 ISBN

> ID：406484
> 
> 赞同：3
> 
> 时间：2009-01-02T10:48:45.213
> 
> 标签：c#, .net, vb.net, pdf, chm

我正在做一个数据库来存储我的电子书收藏。
他们中的大多数人在书本身的文本中都有 ISBN。
我怎样才能访问这些内容？
是否有任何源代码或 DLL 可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T11:01:55.513

我是为电子书图书馆应用程序做的。首先，您需要从 chm 或 pdf 文件中提取文本。有很多实用程序\库可以做到这一点。这是[一篇](http://www.codeproject.com/KB/cs/decompilingchm.aspx)关于如何从 CHM 文件中提取内容的 CodeProject 文章。对于 PDF 文件，我使用[了 pdftotext](http://en.wikipedia.org/wiki/Pdftotext)实用程序。当您从电子书获取纯文本时，使用[正则表达式](http://regexadvice.com/blogs/dneimke/archive/2003/12/06/179.aspx)对其进行解析以查找 ISBN10/13 代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T11:02:39.570

第一步是从[CHM](http://www.codeproject.com/KB/cs/decompilingchm.aspx)和[PDF](http://www.codeproject.com/KB/cs/PDFToText.aspx)文件中提取文本。接下来，您可以使用[正则表达式](http://www.geekzilla.co.uk/viewD8902276-CCD3-4B93-8D27-A7A1908D25D3.htm)找到 ISBN 号。

# c# - C#中的数组切片

> ID：406485
> 
> 赞同：278
> 
> 时间：2009-01-02T10:49:05.353
> 
> 标签：c#, arrays

你怎么做呢？给定一个字节数组：

```
byte[] foo = new byte[4096]; 
```

如何将数组的前 x 个字节作为单独的数组获取？（具体来说，我需要它作为`IEnumerable<byte>`）

这是为了与`Socket`s 一起工作。我认为最简单的方法是数组切片，类似于 Perls 语法：

```
@bar = @foo[0..40]; 
```

这会将前 41 个元素返回到`@bar`数组中。C# 中有什么我只是缺少的东西，还是我应该做的其他事情？

LINQ 对我来说是一个选项（.NET 3.5），如果有帮助的话。

* * *

## 回答 #1

> 赞同：239
> 
> 时间：2009-01-02T12:26:55.863

你可以使用[`ArraySegment<T>`](http://msdn.microsoft.com/en-us/library/1hsbd92d.aspx). 它非常轻巧，因为它不复制数组：

```
string[] a = { "one", "two", "three", "four", "five" };
var segment = new ArraySegment<string>( a, 1, 2 ); 
```

* * *

## 回答 #2

> 赞同：230
> 
> 时间：2009-01-02T10:55:33.360

数组是可枚举的，所以你`foo`已经是一个`IEnumerable<byte>`本身。只需使用 LINQ 序列方法[`Take()`](https://msdn.microsoft.com/en-us/library/bb503062(v=vs.110).aspx)来获取您想要的内容（不要忘记将`Linq`名称空间 包含在 中`using System.Linq;`）：

```
byte[] foo = new byte[4096];

var bar = foo.Take(41); 
```

如果您确实需要任何值的数组`IEnumerable<byte>`，则可以使用该`ToArray()`方法。这似乎不是这里的情况。

* * *

## 回答 #3

> 赞同：160
> 
> 时间：2009-01-02T10:51:29.500

您可以使用数组`CopyTo()`方法。

或者使用 LINQ，您可以使用`Skip()`和[`Take()`](https://msdn.microsoft.com/en-us/library/bb503062(v=vs.110).aspx)...

```
byte[] arr = {1, 2, 3, 4, 5, 6, 7, 8};
var subset = arr.Skip(2).Take(2); 
```

* * *

## 回答 #4

> 赞同：62
> 
> 时间：2019-04-03T15:18:39.247

**从 C# 8.0/.Net Core 3.0 开始**

将支持数组切片，以及新类型`Index`和`Range`被添加。

[范围结构文档](https://docs.microsoft.com/en-us/dotnet/api/system.range?view=netcore-3.0)
[索引结构文档](https://docs.microsoft.com/en-us/dotnet/api/system.index?view=netcore-3.0)

```
Index i1 = 3;  // number 3 from beginning
Index i2 = ^4; // number 4 from end
int[] a = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };
Console.WriteLine($"{a[i1]}, {a[i2]}"); // "3, 6"

var slice = a[i1..i2]; // { 3, 4, 5 } 
```

以上代码示例取自 C# 8.0[博客](https://devblogs.microsoft.com/dotnet/building-c-8-0/)。

请注意，前缀表示从数组*末尾*`^`开始计数。如[文档示例所示](https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-8#indices-and-ranges)

 *```
var words = new string[]
{
                // index from start    index from end
    "The",      // 0                   ^9
    "quick",    // 1                   ^8
    "brown",    // 2                   ^7
    "fox",      // 3                   ^6
    "jumped",   // 4                   ^5
    "over",     // 5                   ^4
    "the",      // 6                   ^3
    "lazy",     // 7                   ^2
    "dog"       // 8                   ^1
};              // 9 (or words.Length) ^0 
```

`Range`并且`Index`还可以在切片数组之外工作，例如使用循环

```
Range range = 1..4; 
foreach (var name in names[range]) 
```

将遍历条目 1 到 4

* * *

[~~请注意，在撰写此答案时，C# 8.0 尚未正式发布~~]
[C# 8.x 和 .Net Core 3.x 现在可在 Visual Studio 2019 及更高版本中使用]

* * *

## 回答 #5

> 赞同：57
> 
> 时间：2009-01-02T11:49:50.807

```
static byte[] SliceMe(byte[] source, int length)
{
    byte[] destfoo = new byte[length];
    Array.Copy(source, 0, destfoo, 0, length);
    return destfoo;
} 
```

//

```
var myslice = SliceMe(sourcearray,41); 
```

* * *

## 回答 #6

> 赞同：27
> 
> 时间：2018-04-18T10:40:47.840

在[C# 7.2](https://blogs.msdn.microsoft.com/dotnet/2017/11/15/welcome-to-c-7-2-and-span/)中，您可以使用[`Span<T>`](https://github.com/dotnet/corefxlab/blob/master/docs/specs/span.md). 新[`System.Memory`](https://msdn.microsoft.com/en-us/magazine/mt814808.aspx)系统的好处是它不需要复制数据。

您需要的方法是`Slice`：

```
Span<byte> slice = foo.Slice(0, 40); 
```

现在很多方法都支持`Span`and `IReadOnlySpan`，因此使用这种新类型将非常简单。

请注意，在撰写本文时，`Span<T>`最新版本的 .NET (4.7.1) 中尚未定义该类型，因此要使用它，您需要从 NuGet安装[System.Memory 包。](https://www.nuget.org/packages/System.Memory/)

* * *

## 回答 #7

> 赞同：17
> 
> 时间：2010-09-23T23:31:32.870

我在这里没有看到的另一种可能性：Buffer.BlockCopy() 比 Array.Copy() 稍微快一点，它还有一个额外的好处是能够从一组原语进行动态转换（比如，短[]) 到一个字节数组，当您有需要通过套接字传输的数字数组时，这会很方便。

* * *

## 回答 #8

> 赞同：15
> 
> 时间：2009-01-02T10:53:42.817

如果你想要`IEnumerable<byte>`，那么就

```
IEnumerable<byte> data = foo.Take(x); 
```

* * *

## 回答 #9

> 赞同：14
> 
> 时间：2021-01-26T09:02:02.513

C# 8 现在（自 2019 年起）支持[Ranges](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/ranges)，这使您可以更轻松地实现 Slice（类似于 JS 语法）：

```
var array = new int[] { 1, 2, 3, 4, 5 };
var slice1 = array[2..^3];    // array[new Range(2, new Index(3, fromEnd: true))]
var slice2 = array[..^3];     // array[Range.EndAt(new Index(3, fromEnd: true))]
var slice3 = array[2..];      // array[Range.StartAt(2)]
var slice4 = array[..];       // array[Range.All] 
```

您可以使用范围而不是众所周知的 LINQ 函数：**Skip()**、**Take()**、**Count()**。

* * *

## 回答 #10

> 赞同：13
> 
> 时间：2012-08-31T16:21:01.440

这是一个简单的扩展方法，它将切片作为新数组返回：

```
public static T[] Slice<T>(this T[] arr, uint indexFrom, uint indexTo) {
    if (indexFrom > indexTo) {
        throw new ArgumentOutOfRangeException("indexFrom is bigger than indexTo!");
    }

    uint length = indexTo - indexFrom;
    T[] result = new T[length];
    Array.Copy(arr, indexFrom, result, 0, length);

    return result;
} 
```

然后您可以将其用作：

```
byte[] slice = foo.Slice(0, 40); 
```

* * *

## 回答 #11

> 赞同：10
> 
> 时间：2015-06-12T20:12:30.850

如果您不想添加[LINQ](http://en.wikipedia.org/wiki/Language_Integrated_Query)或其他扩展，只需执行以下操作：

```
float[] subArray = new List<float>(myArray).GetRange(0, 8).ToArray(); 
```

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2009-01-02T11:42:10.243

您可以在原始数组（即 IList）周围使用包装器，就像在这段（未经测试的）代码中一样。

```
public class SubList<T> : IList<T>
{
    #region Fields

    private readonly int startIndex;
    private readonly int endIndex;
    private readonly int count;
    private readonly IList<T> source;

    #endregion

    public SubList(IList<T> source, int startIndex, int count)
    {
        this.source = source;
        this.startIndex = startIndex;
        this.count = count;
        this.endIndex = this.startIndex + this.count - 1;
    }

    #region IList<T> Members

    public int IndexOf(T item)
    {
        if (item != null)
        {
            for (int i = this.startIndex; i <= this.endIndex; i++)
            {
                if (item.Equals(this.source[i]))
                    return i;
            }
        }
        else
        {
            for (int i = this.startIndex; i <= this.endIndex; i++)
            {
                if (this.source[i] == null)
                    return i;
            }
        }
        return -1;
    }

    public void Insert(int index, T item)
    {
        throw new NotSupportedException();
    }

    public void RemoveAt(int index)
    {
        throw new NotSupportedException();
    }

    public T this[int index]
    {
        get
        {
            if (index >= 0 && index < this.count)
                return this.source[index + this.startIndex];
            else
                throw new IndexOutOfRangeException("index");
        }
        set
        {
            if (index >= 0 && index < this.count)
                this.source[index + this.startIndex] = value;
            else
                throw new IndexOutOfRangeException("index");
        }
    }

    #endregion

    #region ICollection<T> Members

    public void Add(T item)
    {
        throw new NotSupportedException();
    }

    public void Clear()
    {
        throw new NotSupportedException();
    }

    public bool Contains(T item)
    {
        return this.IndexOf(item) >= 0;
    }

    public void CopyTo(T[] array, int arrayIndex)
    {
        for (int i=0; i<this.count; i++)
        {
            array[arrayIndex + i] = this.source[i + this.startIndex];
        }
    }

    public int Count
    {
        get { return this.count; }
    }

    public bool IsReadOnly
    {
        get { return true; }
    }

    public bool Remove(T item)
    {
        throw new NotSupportedException();
    }

    #endregion

    #region IEnumerable<T> Members

    public IEnumerator<T> GetEnumerator()
    {
        for (int i = this.startIndex; i < this.endIndex; i++)
        {
            yield return this.source[i];
        }
    }

    #endregion

    #region IEnumerable Members

    IEnumerator IEnumerable.GetEnumerator()
    {
        return GetEnumerator();
    }

    #endregion
} 
```

* * *

## 回答 #13

> 赞同：7
> 
> 时间：2010-10-21T14:07:36.580

```
byte[] foo = new byte[4096]; 

byte[] bar = foo.Take(40).ToArray(); 
```

* * *

## 回答 #14

> 赞同：6
> 
> 时间：2016-02-03T20:29:42.027

对于字节数组[System.Buffer.BlockCopy](https://msdn.microsoft.com/en-us/library/system.buffer.blockcopy(v=vs.110).aspx)将为您提供最佳性能。

* * *

## 回答 #15

> 赞同：5
> 
> 时间：2009-01-02T10:54:42.707

您可以使用 Take 扩展方法

```
var array = new byte[] {1, 2, 3, 4};
var firstTwoItems = array.Take(2); 
```

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2013-09-05T05:34:33.010

这可能是一个解决方案：

```
var result = foo.Slice(40, int.MaxValue); 
```

然后**结果**是一个**IEnumerable< IEnumerable< byte>>**，第一个**IEnumerable< byte>**包含**foo**的前 40 个字节，第二个**IEnumerable< byte>**包含其余部分。

我写了一个包装类，整个迭代都是懒惰的，希望对你有帮助：

```
public static class CollectionSlicer
{
    public static IEnumerable<IEnumerable<T>> Slice<T>(this IEnumerable<T> source, params int[] steps)
    {
        if (!steps.Any(step => step != 0))
        {
            throw new InvalidOperationException("Can't slice a collection with step length 0.");
        }
        return new Slicer<T>(source.GetEnumerator(), steps).Slice();
    }
}

public sealed class Slicer<T>
{
    public Slicer(IEnumerator<T> iterator, int[] steps)
    {
        _iterator = iterator;
        _steps = steps;
        _index = 0;
        _currentStep = 0;
        _isHasNext = true;
    }

    public int Index
    {
        get { return _index; }
    }

    public IEnumerable<IEnumerable<T>> Slice()
    {
        var length = _steps.Length;
        var index = 1;
        var step = 0;

        for (var i = 0; _isHasNext; ++i)
        {
            if (i < length)
            {
                step = _steps[i];
                _currentStep = step - 1;
            }

            while (_index < index && _isHasNext)
            {
                _isHasNext = MoveNext();
            }

            if (_isHasNext)
            {
                yield return SliceInternal();
                index += step;
            }
        }
    }

    private IEnumerable<T> SliceInternal()
    {
        if (_currentStep == -1) yield break;
        yield return _iterator.Current;

        for (var count = 0; count < _currentStep && _isHasNext; ++count)
        {
            _isHasNext = MoveNext();

            if (_isHasNext)
            {
                yield return _iterator.Current;
            }
        }
    }

    private bool MoveNext()
    {
        ++_index;
        return _iterator.MoveNext();
    }

    private readonly IEnumerator<T> _iterator;
    private readonly int[] _steps;
    private volatile bool _isHasNext;
    private volatile int _currentStep;
    private volatile int _index;
} 
```

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2009-01-02T10:53:27.717

我不认为 C# 支持 Range 语义。不过，您可以编写一个扩展方法，例如：

```
public static IEnumerator<Byte> Range(this byte[] array, int start, int end); 
```

但就像其他人所说，如果您不需要设置起始索引，那么`Take`您只需要。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2014-10-25T12:30:27.410

这是一个使用泛型的扩展函数，其行为类似于 PHP 函数[array_slice](http://us3.php.net/manual/en/function.array-slice.php)。允许负偏移量和长度。

```
public static class Extensions
{
    public static T[] Slice<T>(this T[] arr, int offset, int length)
    {
        int start, end;

        // Determine start index, handling negative offset.
        if (offset < 0)
            start = arr.Length + offset;
        else
            start = offset;

        // Clamp start index to the bounds of the input array.
        if (start < 0)
            start = 0;
        else if (start > arr.Length)
            start = arr.Length;

        // Determine end index, handling negative length.
        if (length < 0)
            end = arr.Length + length;
        else
            end = start + length;

        // Clamp end index to the bounds of the input array.
        if (end < 0)
            end = 0;
        if (end > arr.Length)
            end = arr.Length;

        // Get the array slice.
        int len = end - start;
        T[] result = new T[len];
        for (int i = 0; i < len; i++)
        {
            result[i] = arr[start + i];
        }
        return result;
    }
} 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2019-05-19T10:17:46.193

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace data_seniens
{
    class Program
    {
        static void Main(string[] args)
        {
            //new list
            float [] x=new float[]{11.25f,18.0f,20.0f,10.75f,9.50f, 11.25f, 18.0f, 20.0f, 10.75f, 9.50f };

            //variable
            float eat_sleep_area=x[1]+x[3];
            //print
            foreach (var VARIABLE in x)
            {
                if (VARIABLE < x[7])
                {
                    Console.WriteLine(VARIABLE);
                }
            }

            //keep app run
        Console.ReadLine();
        }
    }
} 
```

# c# - SSMS 的 C# 外部工具 - 从标准输入读取

> ID：406486
> 
> 赞同：0
> 
> 时间：2009-01-02T10:49:49.080
> 
> 标签：c#, stdin, ssms

我正在尝试编写一个利用 SQL Server Management Studio 的外部工具功能的应用程序。

要指定外部工具，您可以输入应用程序的路径并指定一些参数以通过 STDIN 传递给应用程序。

目前我只有一个显示参数的表单。每次我运行外部工具时，我都会得到一个新的应用程序实例。

理想情况下，我希望第一次运行该工具来加载应用程序，然后每次运行都从 STDIN 获取参数并对其进行处理，而无需创建应用程序的新实例。

有什么我可以做的可以允许这个，还是我被很多窗户困住了？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T11:23:20.153

尽管听起来很可怕，但您可以利用 Microsoft.VisualBasic.ApplicationServices 使这变得非常简单（您可以在您的 c# 项目中添加对 Microsoft.VisualBasic 的引用）。

作为一个简单的示例，您可以创建一个新的 C# WinForms 项目并将 Program.cs 更改为如下所示：

```
class Program : WindowsFormsApplicationBase
{
    static Form1 mainForm = null;

    /// <summary>
    /// The main entry point for the application.
    /// </summary>
    [STAThread]
    static void Main(string[] commandline)
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Program prog = new Program();
        prog.MainForm = mainForm = new Form1();
        prog.Run(commandline);
    }

    public Program()
    {
        this.IsSingleInstance = true;
    }

    protected override void OnStartupNextInstance(StartupNextInstanceEventArgs eventArgs)
    {
        base.OnStartupNextInstance(eventArgs);
        mainForm.Startup(eventArgs.CommandLine.ToArray());
    }
} 
```

然后在 Form1 上放一个标签和一些代码来显示它正在工作：

```
 public void Startup(string[] commandLine)
    {
        string output = "";
        foreach (string arg in commandLine)
            output += arg + "\n";

        label1.Text = output;
    }

    public Form1()
    {
        InitializeComponent();
        Startup(Environment.GetCommandLineArgs());
    } 
```

这个小片段的唯一问题是您在首次启动时获得的命令行参数包括应用程序名称，但在后续启动中不包括在内。

# c# - 根据 YYYYMMDD 等格式化 .NET DateTime 的最简单方法是什么？

> ID：406487
> 
> 赞同：3
> 
> 时间：2009-01-02T10:49:49.907
> 
> 标签：c#, .net, datetime, formatting

我有一个 DateTime 类，并希望根据某种格式显示它......在这种情况下，我特别想将其格式化为 YYYYMMDD 格式。

执行此操作的最佳 C#/.NET API 函数是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T10:51:44.193

ToString（格式）？IE

```
string s = DateTime.Today.ToString("yyyyMMdd"); 
```

（注意大小写）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-01-02T10:52:15.830

我总是使用这个网站来获取任何日期格式等。 [http://blog.stevex.net/index.php/string-formatting-in-csharp/](http://blog.stevex.net/index.php/string-formatting-in-csharp/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T11:00:27.187

```
myDateTime.ToString("yyyyMMdd") 
```

在这里您可以找到 DateTime 模式和模式字符的综合列表： [DateTime.ToString() 模式](http://www.geekzilla.co.uk/View00FF7904-B510-468C-A2C8-F859AA20581F.htm)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T10:52:54.130

```
DateTime.Now.ToString("yyyyMMdd"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T10:51:39.497

```
DateTime.ToString(<format string>) 
```

查看文档以获取格式字符串的详细信息。

# html - 浮动块级元素：是否需要设置宽度，如果是，如何设置？

> ID：406504
> 
> 赞同：1
> 
> 时间：2009-01-02T10:56:12.267
> 
> 标签：html, css, css-float

假设我有文本框、下拉列表和提交按钮。它们都是内联元素。这意味着应该忽略“正式”的边距、填充、宽度和高度属性（实际上并非如此）。如果我要以正确的方式将高度设置为按钮，我会编写类似 display:block 的内容，然后定义高度。但是考虑到块级元素会意外扩展自身，所以我最好将其宽度设置为某个固定值。问题是我不知道它的宽度，因为它可以在按钮的文本上动态定义。

另一种情况：我希望通过`<ul>`和创建一个菜单`<li>`。我想让它水平对齐，一些项目向左分组，一些向右拉伸。`<ul>`和都是`<li>`块级元素。因为我希望我的菜单占据所有可用的水平空间，然后使用项目高度并将菜单项推到两侧，所以块模式对我来说很好。我将使用 float:left 和 float:right 来完成任务。但是再次使用应该为菜单元素设置宽度，因为它们是块元素。我不知道它们的宽度，因为项目的文本可能会有所不同。但似乎一切都被渲染得很好。

我没有注意到两个内联元素都被强制渲染为块元素而不被浮动或宽度设置，或者列表项示例有任何问题。无论当前版本是什么，它都可以在 IE7、FF3、Opera 9 和 Safari 中正常工作。问题仍然存在：我是否应该担心这些 inline-to-block 元素或真正的块元素浮动但没有设置宽度，或者只是让所有内容保持原样？我是否遗漏了某些东西，或者它只是您根本不应该期望得到正确的那些东西之一？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T11:56:00.373

> 假设我有文本框、下拉列表和提交按钮。它们都是内联元素。这意味着应该忽略“正式”的边距、填充、宽度和高度属性（实际上并非如此）。如果我要以正确的方式将高度设置为按钮，我会编写类似 display:block 的内容，然后定义高度。但是考虑到块级元素会意外扩展自身，所以我最好将其宽度设置为某个固定值。问题是我不知道它的宽度，因为它可以在按钮的文本上动态定义。

除非您指的是[Internet Explorer 的盒子模型怪癖](http://www.communitymx.com/content/article.cfm?cid=E0989953B6F20B41)，否则您不应该担心任何意外扩展或收缩。只要您注意[对浏览器变体进行规范化](http://www.allgraphicdesign.com/phpBB2/viewtopic.php?f=59&t=16579)，就可以了。如果您在设计荣耀的过程中遇到意外和不需要的副作用，请调试它，因为这是您应对的程序员错误。CSS 可能很古怪，但对于大多数主流浏览器来说，这在 95% 的情况下都不是合适的借口。剩下的 5% 我们不谈。

我是这样理解你的问题的：

您想要一个浮动菜单，`<li>`以便您拥有一个跨越视口宽度的水平菜单（您的用户在“浏览器窗口”中看到的内容）始终是视口的整个宽度。

听起来您正在考虑固定宽度设计，而真正适合您目的的是流体宽度设计。这意味着您创建的设计具有“弹性”，并且可以相对于用户浏览器窗口的大小进行扩展和收缩。如果您在创建设计时预期在每个元素上设置像素宽度，您可能会找到一种优雅的方式来维护流体宽度的标题和导航，但具有固定宽度的主要内容区域。你可以找到一个快乐的媒介，而不需要完全重新设计。[本演练可能就是您要查找的内容。](http://www.3point7designs.com/blog/2007/04/09/justified-horizontal-navigation-with-liquid-layouts/)如果您不熟悉行话并想仔细了解这些想法，可以在此处找到[对固定宽度和流体宽度术语](http://www.netstarter.com.au/Content_Common/pg-fixed-width-versus-fluid-design.seo)的良好解释。

还有一个用于道路：

不仅建议[在所有浮动元素上设置宽度，而且是 W3C 的 CSS2 标准的一部分。](http://www.w3.org/TR/CSS2/visuren.html#floats)

*   安吉丽娜

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T11:07:45.533

我想你让自己有点压力过大了:)

查看[这些](http://www.w3.org/TR/CSS21/visuren.html) [链接](http://www.w3.org/TR/CSS21/visudet.html)，尤其是 9.4、9.5 和 10.3。和 ctrl-f "inline-block"

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T11:53:31.283

如果我们采用您提到的“官方”路线，那么生活很容易，因为我们无需担心这些元素的宽度、高度等。

不要认为像素完美，不要担心呈现的细节，遵循标准，允许浏览器及其用户定义样式......

（如果在“非官方”现实世界中真的那么直截了当）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T12:35:48.763

好的，我想我的问题没有被正确理解。如果我不为浮动框设置宽度会怎样？我无法设置，我不知道。因为它取决于内容。所有的盒子都会缩小到它们的内容宽度吗？这就是它在实践中的工作方式。我对此很满意。是否有任何官方确认应该预期这种行为？

补充：我在这里发现了一些有趣的东西：[http ://www.webmasterworld.com/css/3811603.htm](http://www.webmasterworld.com/css/3811603.htm)

> 我建议检查这些建议以获得更多关于差异的技术解释，但简单地说，浮动的行为在 css2（1998）和 css2.1（2005 年的几个月，然后是 2007 年）之间发生了变化。每个 css2 都必须在浮动上设置宽度，而您在 ff3 中看到的“收缩包装”是 css2.1。这意味着 2007 年 7 月之前的浏览器在将 div#container 拉伸到整个视口宽度时符合与其制造时间相关的建议。（这并没有解释 Opera，但它总是做自己的事情。）

如果是这样，那我就争吵了。正如我所提到的，它适用于当前的 IE7、FF3、Opera 9 和 Safari。

还有评论吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T13:26:54.387

（假设我理解你的问题）

在大多数情况下，您不需要在列表项上设置宽度。但是（是的，这里有一个但是）如果你有一个与 display:block 的链接（假设你想使用滑动门）你必须做一个小技巧：

的HTML：

```
<ul class="menu">
    <li><a href="#">Link</a></li>
    <li><a href="#">Link</a></li>
    <li><a href="#">Link</a></li>
</ul> 
```

和 CSS：

```
.menu li {
    float:left
}
    .menu li a {
        display:block;
    }
    /* ===================== */
    /* = and the IE6 trick = */
    /* ===================== */ 
    * html .menu li a {
        width:1%;
        white-space:nowrap;
    } 
```

如果您不这样做，那么 LINK 将延伸到所有父母。LINK 不是 LIST 元素 ;) 这样做可以将“最小宽度”设置为 IE6，并且不会有任何其他问题。

# ajax - 使用 ajax 表单的 ASP.NET MVC Beta 升级

> ID：406514
> 
> 赞同：0
> 
> 时间：2009-01-02T11:04:40.597
> 
> 标签：ajax, asp.net-mvc

我在 ASP.NET MVC beta 应用程序中得到了这个 ajax 表单：

```
 <%using (this.Ajax.BeginForm("Edit", "Subscriber",
new AjaxOptions { OnSuccess = "onEditResult", HttpMethod = "GET" }))  
            {%>
                   <%=Html.Hidden("idSub", p.Id.ToString())%>
                     <input type="submit" value="Edit"/><% 
             } %> 
```

我的控制器方法：

```
[AcceptVerbs(HttpVerbs.Get)]
        public JsonResult Edit(String idSub)
        { (...)
} 
```

但是 idSub 始终为空，在升级到 beta 之前，我发誓我看到这种方法有效！

我已按照建议升级了 JS 文件（Microsoft Ajax）和程序集。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T14:15:13.773

我发现这段代码有效（用 POST 动词替换 GET 并使用 formcollection 作为控制器方法的参数）

```
 using (this.Ajax.BeginForm("BeginEdit", "Subscriber", 
new AjaxOptions { OnSuccess = "onEditResult", HttpMethod = "POST" }))  
    {%>
         <%=Html.Hidden("idSub", p.Id.ToString())%>
         <input type="submit" value="Edit"/><% 
    }

 [AcceptVerbs(HttpVerbs.Post)]
 public JsonResult BeginEdit(FormCollection form)
 {
    String idSub = form["idSub"];
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-03T13:45:42.990

我得到了我的错误，它来自 spring 集成。在 ControllerBase 类中，IValueProvider 的 getter（从路由数据/查询字符串/表单中获取值的类）返回 _valueProvider，如下所示：

```
get {
    if (_valueProvider == null && ControllerContext != null) {
         _valueProvider = new DefaultValueProvider(ControllerContext);
    }
    return _valueProvider;
} 
```

由于我的控制器是由 MVCContrib 项目的 Spring 工厂构建的，因此它被配置为单例，因此 ValueProvider 具有来自第一个请求而不是当前请求的 ControllerContext 属性值。

所以 DefaultValueProvider 类中的这一行：

```
HttpRequestBase request = ControllerContext.HttpContext.Request; 
```

总是返回第一个 Request 对象，它没有 QueryString ，因此我的方法没有参数值。

我更改了 Spring 配置以获取 Controller 的新实例，我认为这是一件好事，现在方法参数已正确填充。

# artificial-intelligence - 衡量分类算法的性能

> ID：406518
> 
> 赞同：8
> 
> 时间：2009-01-02T11:09:53.533
> 
> 标签：artificial-intelligence, machine-learning, nlp, classification, bayesian

我手头有一个分类问题，我想用机器学习算法来解决（贝叶斯或马尔科夫可能，这个问题独立于要使用的分类器）。给定一些训练实例，我正在寻找一种方法来衡量已实施分类器的性能，同时考虑数据过度拟合问题。

也就是说：给定 N[1..100] 个训练样本，如果我对每个样本运行训练算法，并使用这些相同的样本来测量适应度，它可能会陷入数据过度拟合问题——分类器会知道训练实例的确切答案，没有太多的预测能力，使得适应度结果毫无用处。

一个明显的解决方案是将手工标记的样本分成训练样本和测试样本；我想了解选择具有统计意义的样本进行训练的方法。

非常感谢白皮书、书籍指南和 PDF！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-01-02T11:29:41.170

您可以为此使用[10 倍交叉验证](http://en.wikipedia.org/wiki/Cross-validation)。我相信这是分类算法性能评估的标准方法。

基本思想是将您的学习样本分成 10 个子集。然后将一个子集用于测试数据，将其他子集用于训练数据。对每个子集重复此操作，并在最后计算平均性能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T11:44:11.627

正如布朗斯通先生所说，10 倍交叉验证可能是最好的方法。我最近不得不评估许多不同分类器的性能，为此我使用了[Weka](http://www.cs.waikato.ac.nz/ml/weka/)。它具有 API 和大量工具，可让您轻松测试许多不同分类器的性能。

# sql - 存储过程中除以零错误

> ID：406520
> 
> 赞同：0
> 
> 时间：2009-01-02T11:10:57.773
> 
> 标签：sql, sql-server, tsql, stored-procedures, divide-by-zero

嗨，我在 .net Web 应用程序中执行了以下存储过程。然后运行应用程序。我收到了这个错误

“除以零错误”

存储过程：

```
CREATE procedure Details(@Stringtext varchar(8000),@SearchStringtext varchar(100))
as begin
SELECT ({fn LENGTH(@Stringtext)}-
{fn LENGTH({fn REPLACE(@Stringtext, @SearchStringtext, '')})})/
{ fn LENGTH(@SearchStringtext)}AS String_Count

end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T11:13:40.873

显然：

```
{ fn LENGTH(@SearchStringtext)} 
```

...正在评估为零。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T11:15:14.817

如果 SearchStringtext 为空，则它的长度变为 0。因此存储过程尝试除以零（这是[未定义的事情](http://en.wikipedia.org/wiki/Division_by_zero)）。

换句话说，以下部分变为零：

```
{ fn LENGTH(@SearchStringtext)} 
```

如果 SearchStringtext 为空，您可能需要添加一些逻辑（可能是 if 语句）以防止发生除法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T11:16:39.587

SearchStringText 的长度为零，因此除以零错误。确保在调用函数时，字符串的长度非零。或者在进行选择之前检查长度

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T11:19:54.213

```
{ fn LENGTH(@SearchStringtext)} 
```

正在评估为 0。

但是，为什么这是一个存储过程？您没有使用任何数据库功能吗？除非这是一个简化的问题，否则所有这些（长度、替换等）都可以在您的 .net 应用程序中完成

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T11:24:36.030

本程序中唯一的除法运算，有**`fn LENGTH(@SearchStringtext)`**作为除数。

因此，似乎长度的`**SearchStringtext**`评估为零。您可能正在尝试搜索空字符串。

请检查并详细说明问题详细信息以及数据库平台。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T11:14:04.803

SearchStringtext 的长度似乎为 0 - 因此该过程尝试除以零。

# c# - 在未更新 UI 元素的代码中定义的 WPF 数据绑定问题

> ID：406526
> 
> 赞同：8
> 
> 时间：2009-01-02T11:16:29.277
> 
> 标签：c#, wpf, data-binding, inotifypropertychanged

我需要在代码中定义新的 UI 元素以及数据绑定，因为它们将在运行时之后实现。这是我正在尝试做的简化版本。

数据模型：

```
public class AddressBook : INotifyPropertyChanged
{
    private int _houseNumber;
    public int HouseNumber
    {
        get { return _houseNumber; }
        set { _houseNumber = value; NotifyPropertyChanged("HouseNumber"); }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    protected void NotifyPropertyChanged(string sProp)
    {
        if (PropertyChanged != null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(sProp));
        }
    }
} 
```

代码绑定：

```
AddressBook book = new AddressBook();
book.HouseNumber = 123;
TextBlock tb = new TextBlock();
Binding bind = new Binding("HouseNumber");
bind.Source = book;
bind.Mode = BindingMode.OneWay;
tb.SetBinding(TextBlock.TextProperty, bind); // Text block displays "123"
myGrid.Children.Add(tb);
book.HouseNumber = 456; // Text block displays "123" but PropertyChanged event fires 
```

首次绑定数据时，文本块将更新为正确的门牌号。然后，如果我稍后在代码中更改门牌号，则会触发该书的 PropertyChanged 事件，但不会更新文本块。谁能告诉我为什么？

谢谢，本

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-01-02T12:04:58.920

它的根源是我传递给 PropertyChangedEventArgs 的字符串与属性名称不完全匹配。我有这样的事情：

```
public int HouseNumber
{
    get { return _houseNumber; }
    set { _houseNumber = value; NotifyPropertyChanged("HouseNum"); }
} 
```

它应该在哪里：

```
public int HouseNumber
{
    get { return _houseNumber; }
    set { _houseNumber = value; NotifyPropertyChanged("HouseNumber"); }
} 
```

哎呀！感谢您朝着正确的方向推动。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T11:38:42.727

确保您正在更新`AddressBook`绑定中使用的引用，而不是其他一些`AddressBook`引用。

我得到以下与您提供的地址簿代码一起使用。

```
<StackPanel>
    <Button Click="Button_Click">Random</Button>
    <Grid x:Name="myGrid">
    </Grid>
</StackPanel> 
```

后面的代码：

```
public partial class Window1 : Window
{
    private AddressBook book;

    public Window1()
    {
        InitializeComponent();

        book = new AddressBook();
        book.HouseNumber = 13;

        TextBlock tb = new TextBlock();
        Binding bind = new Binding("HouseNumber");
        bind.Source = book;
        tb.SetBinding(TextBlock.TextProperty, bind);
        myGrid.Children.Add(tb);
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        Random rnd = new Random();
        book.HouseNumber = rnd.Next();
    }
} 
```

请注意，更新代码中使用了相同的引用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T11:24:59.150

您是否需要以编程方式设置绑定模式？它可能默认为 OneTime。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T12:00:49.833

我刚刚剪切+粘贴了您的代码（并添加了一点），它对我来说很好：

```
 public Window1()
    {
        InitializeComponent();

        AddressBook book = new AddressBook();
        book.HouseNumber = 123;
        TextBlock tb = new TextBlock();
        Binding bind = new Binding("HouseNumber");
        bind.Source = book;
        bind.Mode = BindingMode.OneWay;
        tb.SetBinding(TextBlock.TextProperty, bind); // Text block displays "123"
        myGrid.Children.Add(tb);
        book.HouseNumber = 456; 
    }

    private void TestButton_Click(object sender, RoutedEventArgs e)
    {
        AddressBook book = 
           (AddressBook(TextBlock)
              myGrid.Children[0])
              .GetBindingExpression(TextBlock.TextProperty)
              .DataItem;

        book.HouseNumber++;
    } 
```

启动时显示 456，单击按钮使 TextBlock 中的数字递增就好了。

也许您在错误的地方寻找问题的原因？

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T11:29:19.983

您确定要更新与绑定中使用的对象相同的对象吗？乍一看没什么问题，所以检查简单的事情。:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T11:30:42.803

是否有任何代码绕过该属性，`_houseNumber`直接设置字段 ( )？

# java - Pom 依赖

> ID：406533
> 
> 赞同：1
> 
> 时间：2009-01-02T11:20:26.243
> 
> 标签：java, jsp, maven-2, jsf

应该在 pom 文件中添加哪个依赖项来导入 org.apache.tiles.controller？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T11:41:08.577

org.apache.struts.tiles.Controller 是 Struts Tiles 1.x 中的一个接口，您可以在 maven 工件“org.apache.struts:struts-tiles”中找到它

```
<dependency>
    <groupId>org.apache.struts</groupId>
    <artifactId>struts-tiles</artifactId>
    <version>1.3.10</version>
</dependency> 
```

请记住，这只适用于 Struts 1.x，不适用于 Struts 2。

[http://struts.apache.org/1.x/struts-tiles/](http://struts.apache.org/1.x/struts-tiles/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-08T15:38:40.153

根据[https://tiles.apache.org/download.html#Tiles_3_as_a_Maven_dependency](https://tiles.apache.org/download.html#Tiles_3_as_a_Maven_dependency)：

```
<dependency>
  <groupId>org.apache.tiles</groupId>
  <artifactId>tiles-extras</artifactId>
  <version>3.0.5</version>
</dependency> 
```

# web-applications - 如何在不传递 ServletContext 对象的情况下检索应用程序参数？

> ID：406534
> 
> 赞同：0
> 
> 时间：2009-01-02T11:20:58.830
> 
> 标签：web-applications, tomcat, parameters

*我在web.xml*文件中为我的 webapp 定义了几个应用程序参数，如下所示：

```
<context-param>
    <param-name>smtpHost</param-name>
    <param-value>smtp.gmail.com</param-value>
</context-param> 
```

如果我有可用的*ServletContext* Object 对象，我可以轻松访问它们。例如在我的 Struts 动作类中。

```
ServletContext ctx = this.getServlet().getServletContext();
String host = ctx.getInitParameter("smtpHost"); 
```

如何在不传递 ServletContext 对象的情况下检索应用程序参数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T12:16:40.190

单例 + JNDI ？

您可以在您的 webapp 中将您的对象声明为资源：

```
 <resource-ref res-ref-name='myResource' class-name='com.my.Stuff'>
        <init-param param1='value1'/>
        <init-param param2='42'/>
 </resource-ref> 
```

然后，在您的类 com.my.stuff 中，您需要一个构造函数和两个用于 param1 和 param2 的“setter”：

```
package com.my;
import javax.naming.*;

public class Stuff
{
     private String p;
     private int i;
     Stuff(){}
     public void setParam1(String t){ this.p = t ; }
     public void setParam2(int x){ this.i = x; }
     public String getParam1() { return this.p; }
     public String getParam2(){ return this.i; }
     public static Stuff getInstance()
     {
         try 
         {
             Context env = new InitialContext()
                .lookup("java:comp/env");
             return (UserHome) env.lookup("myResource");
         }
         catch (NamingException ne)
         {
             // log error here  
             return null;
         }
     }
} 
```

然后，在您的代码中的任何地方：

```
...
com.my.Stuff.getInstance().getParam1(); 
```

绝对是矫枉过正和效率低下，但它有效（并且可以优化）

# asp.net - ICallbackEventHandler 和 ViewState

> ID：406536
> 
> 赞同：1
> 
> 时间：2009-01-02T11:23:38.857
> 
> 标签：asp.net, viewstate, icallbackeventhandler

有谁知道使用 ICallbackEventHandler 时视图状态是否可用？如果没有，有什么办法可以解决吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T11:26:14.513

ViewState 可供读取，但您无法更新它。

你可能想看看这个解决方法的想法：[http ://www.reimers.dk/blogs/jacob_reimers_weblog/archive/2007/03/23/tweaking-the-icllbackeventhandler-and-viewstate.aspx](http://www.reimers.dk/blogs/jacob_reimers_weblog/archive/2007/03/23/tweaking-the-icallbackeventhandler-and-viewstate.aspx)

# database - 当我想存储从下拉列表中选择或用户输入的值时，数据库设计的最佳实践是什么？

> ID：406550
> 
> 赞同：8
> 
> 时间：2009-01-02T11:33:49.677
> 
> 标签：database, database-design, drop-down-menu

我试图找到设计数据库的最佳方法，以允许以下情况：

1.  向用户显示大学的下拉列表（例如）
2.  用户从列表中选择他/她的大学（如果存在）
3.  如果大学不存在，他应该在文本框中输入他自己的大学（有点像其他：[_______________]）

考虑到我可能想使用大学 ID 进行排序（可能仅适用于内置大学而不是用户输入的大学），我应该如何设计数据库来处理这种情况

谢谢！

我只是想让它类似于 Facebook 处理这种情况的方式。如果用户选择他的教育（通过实际输入我不关心的组合框）并选择返回值之一，Facebook 会做什么？

在我的猜测中，它会将 UserID 和 EducationID 插入到多对多表中。现在如果用户输入的内容根本不在数据库中怎么办？它仍然存储在他的个人资料中，但是在哪里？ [![打字](https://i.stack.imgur.com/OR6UP.jpg)](https://i.stack.imgur.com/OR6UP.jpg)

[![键入不存在的大学](https://i.stack.imgur.com/JWq07.jpg)](https://i.stack.imgur.com/JWq07.jpg)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T11:41:33.397

```
CREATE TABLE university
(
  id smallint NOT NULL,
  name text,
  public smallint,
  CONSTRAINT university_pk PRIMARY KEY (id)
);

CREATE TABLE person
(
  id smallint NOT NULL,
  university smallint,
  -- more columns here...
  CONSTRAINT person_pk PRIMARY KEY (id),
  CONSTRAINT person_university_fk FOREIGN KEY (university)
      REFERENCES university (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
); 
```

public 为系统中的 Unis 设置为 1，为 user-entered-unis 设置为 0。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T12:08:26.120

您*可以*作弊：如果您不担心该字段的引用完整性（即，它只是显示在用户的配置文件中，并且不是严格执行的业务规则所必需的），请将其存储为简单的 VARCHAR 列。

对于您的下拉列表，请使用如下查询：

```
从个人资料中选择 DISTINCT（大学）

```

如果要过滤掉拼写错误或一次性，请尝试：

```
从个人资料中选择大学
按大学分组
HAVING COUNT(University) > 10 - 其中 10 是您可以调整的任意阈值

```

我们在我们的一个数据库中使用此代码来存储承包商公司的贸易说明；因为这只是提供信息（有一个单独的“类别”字段用于执行业务规则），所以这是一个可以接受的解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T11:37:38.953

在与其他数据点相同的表中为通过用户输入输入的行保留一个标志。然后，您可以使用标志进行排序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T11:43:50.023

在我以前工作的一家公司中解决了这个问题的一种方法：

在表中创建两列：1）系统提供的字符串的可为空 id（存储在单独的表中）2）用户提供的字符串

只有其中一个被填充。约束可以强制执行此操作（此外，如果适当，至少填充这些列之一）。

应该注意的是，我们正在解决的问题是真正的“其他：”情况。它是具有一些预设默认值的项目的文本描述。您的情况听起来像是一个不在列表中的实际实体，可能不止一个用户想要输入同一所大学。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2009-01-02T11:37:23.510

这不是数据库设计问题。这是一个用户界面问题。

大学的下拉列表基于表中的行。当用户在文本框中键入新大学时，该表必须插入新行。

如果您想将您提供的列表与用户添加的列表分开，您可以在 University 表中有一列包含数据的来源（或出处）。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2009-01-02T11:39:52.553

我不确定这里的问题是否很清楚。

我在工作中已经做过很多次了，只需在文本框的下拉列表之间进行选择。如果在文本框中输入了数据，那么我首先将数据插入数据库，然后使用 IDENTITY 获取插入行的唯一标识符以供进一步查询。

```
INSERT INTO MyTable Name VALUES ('myval'); SELECT @@SCOPE_IDENTITY() 
```

虽然这是针对 MS SQL 2008 的，但我不确定 @@SCOPE_IDENTITY() 全局是否存在于其他版本的 SQL 中，但我确信有等价物。

# asp.net - 如何在 PageMethods 回调中将上下文对象作为数组访问

> ID：406552
> 
> 赞同：0
> 
> 时间：2009-01-02T11:36:59.407
> 
> 标签：asp.net, javascript, callback

我似乎无法使用设置的循环上下文访问上下文对象：`var context = [id1, id2, id3];`

此回调函数有效：

```
function OnChangeSucceeded(result, context, methodName) {
    document.getElementById(context[0]).disabled = result;
    document.getElementById(context[1]).disabled = result;
    document.getElementById(context[2]).disabled = result;
} 
```

此回调函数失败：

```
function OnChangeSucceeded(result, context, methodName) {
        for(var indx = 0; indx < context.length; indx++) {
           document.getElementById(context[indx]).disabled = result;
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T11:53:32.747

查看调用代码会很方便，这样我们就可以看到您的上下文是如何建立的。我猜你已经将它设置为关联而不是数组，因此当你在回调中使用它时，没有长度属性（或者它是 0）。

当你设置它时，它应该如下所示：

```
var context = new Array();
context[0] = 'elem0';
context[1] = 'elem1';
context[2] = 'elem2'; 
```

不是

var context = { 0: 'elem0', 1: 'elem1', 2: 'elem2' };

如果这不是问题，那么尝试通过在 onChangeSucceeded 函数中设置断点并检查实际上下文对象以查看它具有哪些属性，在 FireFox/FireBug 中检查它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T12:48:36.787

是因为你的错字吗？

```
for(var index = 0; indx < context.length; indx++) { 
```

应该

```
for(var indx = 0; indx < context.length; indx++) { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T13:52:27.360

那是指向萤火虫 tvanfosson 的指针。

我已经重做了这个功能，现在它的工作原理是：

```
function OnChangeSucceeded(result, context, methodName) {
    for (controlId in context) {
        document.getElementById(context[controlId]).disabled = result;
    }
} 
```

我不确定是否是因为上下文最初创建为：

```
context = [id1, id2, id3]; 
```

我现在已经替换为：

```
context = new Array(id1, id2, id3); 
```

# uml - UML 类图关联——如何、何时以及为什么？

> ID：406558
> 
> 赞同：4
> 
> 时间：2009-01-02T11:39:24.910
> 
> 标签：uml, class-diagram, associations

我通常对 UML 感到很困惑，这种情况也不例外。假设我有一个接口 IAnimal，Food 和 Cat 类：

```
interface IAnimal {
    void Feed(Food food);
}

class Cat : IAnimal {
    void Feed(Food food) {
        //code
    }
} 
```

我有 3 个关于为这 3 个元素绘制 UML 类图的问题：

*   我认为我应该使用 IAnimal 和 Food 或 Cat 和 Food 之间的关联。关联线的一侧是否应该有箭头，如果有，那么在哪一侧，为什么会有？

*   如果我在图表上将 Feed 作为 IAnimal 方法编写，我应该在 Cat 类中编写一个 Feed 方法还是只编写额外的 Cat 方法？

*   最重要的是：应该在 IAnimal 和 Food、Cat 和 Food 之间建立关联，还是两者兼而有之？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-01-02T18:54:09.483

UML 定义了许多**关系**类型。

关系有许多不同的符号：

*   关联关系具有可靠路径的基本符号
*   依赖关系具有虚线箭头的基本符号
*   泛化关系具有带有三角形箭头的实心路径的基本符号
*   实现关系具有带三角形箭头的虚线箭头的基本符号（依赖和泛化的混合）

图文并茂

```
+---------------------------+
|       <<interface>>       |
|           IAnimal         |
+---------------------------+                        +--------+
| + Feed(food: Food) : void |- - - - <<use>> - - - ->|  Food  |
+---------------------------+                        +--------+
              ^
             /_\
              |

              |

              |
        +-----------+
        |    Cat    |
        +-----------+ 
```

那是：

*   `IAnimal`和之间的关系`Food`是一种**使用**关系。这显示为具有构造型 «use» 的依赖项
*   `IAnimal`和之间的关系`Cat`是一种**实现**关系。

关联关系用于表示两个或多个分类器之间的**连接。**这意味着至少有一个类具有另一种类型（或集合）的**属性**。事实上，属性和关联端包含相同的信息，并且可以互换。

因此，恕我直言，您描述的关系不应被建模为关联。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T11:57:51.740

您对这类东西的挑剔程度在很大程度上取决于您首先使用 UML 的目的。

如果你有某种出色的 UML 到代码的翻译器，那么你需要很挑剔（但看起来你更喜欢代码而不是框和线——那么你为什么要使用这样的工具呢？）

如果您只是简单地使用 UML 与其他人交流，那么您可以稍微不那么挑剔。

Craig Larman 的“应用 UML 和模式”强调了这一点，它包含了看起来好像是在白板上绘制的图表。在那种图表中，UML 标准说应该用虚线画一条实线就可以了。所以用箭头等等。

我很清楚这条线应该从`IAnimal`到`Food`。

箭头是否增加了清晰度（对于人类读者）是一个选择问题，但它表示一种单向关系：

从[这篇介绍性文章中：](http://www.ibm.com/developerworks/rational/library/content/RationalEdge/sep04/bell/)

> “在单向关联中，两个类是相关的，但只有一个类知道这种关系存在。”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T11:52:56.010

假设一个类图，您应该在 IAnimal 和 Food 之间有一个“使用”关联，在 Cat 和 IAnimal 以及 Dog 和 IAnimal 之间有一个“is a”关联：

```
 IAnimal ----> Food
     ^   ^
    //   \\
   //     \\
 Cat      Dog 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T12:41:48.657

1) 接口 IAnimal 和类型 Food 之间不应写任何关联。关联仅用于将类型与类内部的属性联系起来。例如

```
class Animal
{
   Food foodEaten;
}

class Food
{
 //Implementation code
} 
```

那么您应该编写一个关联来指示这两种类型之间的联系。

相反，您应该绘制一个依赖项，该依赖项指示接口 IAnimal 依赖于 Food 类型。依赖关系的绘制与上图中的关联相同，只是将直线改为虚线。

2）不，不要写那些方法，也不要写依赖。只在接口 IAnimal 上保留所有符号

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T13:50:15.413

我认为 IAnimal 会有 HAVE-A 食物，因为它是新陈代谢的，但如果你真的想表示 HAS-A，我认为它应该是一个聚合（空心菱形）或组合符号（用菱形填充），具体取决于级联删除特性。

根据 Martin Fowler 的说法，UML 有两种思想流派。有“草图师”，他们使用白板和奇怪的纸上的符号来与其他开发人员交流足够多的想法。

还有一些人将 UML 视为工程图纸，必须捕获设计的每一个最后细节。

我坚定地站在前阵营。作为一名前工程师，我可以从个人经验告诉你，UML 没有真实工程图的力量来完全捕捉软件设计。

如果您碰巧相信后者，请使用 UML 进行完整的桌面或 Web UI 设计并在此处发布。

# linux - Linux 在多个文件上写东西

> ID：406561
> 
> 赞同：1
> 
> 时间：2009-01-02T11:40:01.337
> 
> 标签：linux, debian

我有一个包含一些文本的文件“atest.txt”..

我想在文件“asdasd.txt asgfaya.txt asdjfusfdgh.txt asyeiuyhavujh.txt”中打印此文本

我的服务器上不存在此文件..

我正在运行 Debian .. 我能做什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T11:54:56.193

使用*tee* (1) 命令，它将其标准输入复制到标准输出和命令行上指定的任何文件。例如

```
printf "你好\n这是一个测试\n谢谢\n"
  | tee test1.txt test2.txt $OTHER_FILES >/dev/null
```

使用您的示例：

```
猫 atest.txt
  | tee asdasd.txt asgfaya.txt asdjfusfdgh.txt asyeiuyhavujh.txt >/dev/null
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T11:47:38.110

在 bash 你可以写

```
#!/bin/bash
$TEXT="hello\nthis is a test\nthank you"
for i in `seq 1 $1`; do echo -e $TEXT >text$i.txt; done 
```

编辑（响应问题的变化）

如果您无法以编程方式确定目标文件的名称，则可以使用此脚本：

```
#!/bin/bash
ORIGIN=$1;
shift
for i in `seq $#`; do cp "$ORIGIN" "$1"; shift; done 
```

你可以这样使用它：
script_name origin_file dest_file1 second_dest_file 'third file' ...

如果您想知道为什么 cp 命令中有双引号，这是为了处理包含空格的文件名

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T11:51:05.343

从您的 bash 提示符中：

```
for f in test1.txt test2.txt test3.txt; do echo -e "hello\nworld" >> $f; done 
```

如果文本位于 atest.txt 中，则执行以下操作：

```
for f in test1.txt test2.txt test3.txt; do cat atest.txt >> $f; done 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T12:13:20.227

是不是很简单：

```
cp atest.txt asdasd.txt 
cp atest.txt asgfaya.txt
cp atest.txt asdjfusfdgh.txt
cp atest.txt asyeiuyhavujh.txt 
```

?

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-14T10:04:05.537

如果有人想向 dir 中的所有文件写入相同的内容：

```
printf 'your_text' | tee * 
```

# installation - 你如何设置你的虚拟机？

> ID：406580
> 
> 赞同：15
> 
> 时间：2009-01-02T11:52:39.303
> 
> 标签：installation, virtualization

最近，虚拟化的热潮席卷了我的工作场所，开发人员在他们的计算机上尝试虚拟机。早些时候，我从几个不同的开发人员那里听到关于在他们的台式计算机中设置虚拟机以保持他们的开发环境清洁的消息。

市场上有很多虚拟机软件产品：

*   微软[虚拟电脑](http://sv.wikipedia.org/wiki/Microsoft_Virtual_PC)
*   太阳[虚拟机](http://www.virtualbox.org/)
*   [VMWare](http://www.vmware.com/) [工作站](http://en.wikipedia.org/wiki/VMware_Workstation)或[播放器](http://en.wikipedia.org/wiki/VMware_Player)
*   Parallell Inc 的[Parallells 桌面](http://www.parallels.com/en/products/desktop/)

我很想知道您如何在工作中有效地使用虚拟化。我的问题是**您如何使用虚拟机进行日常开发**，出于什么原因？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2009-01-02T12:59:07.373

我刚刚在家里建造了一台真正强大的机器，这样我就可以一次运行多个虚拟机。我的情况可能很极端，但这是我这样做的逻辑。

**测试**

当我测试时，尤其是桌面应用程序，我通常会创建多个虚拟机，一个用于我的软件应该运行的每个平台（Windows 2000/XP/Vista 等）。如果有 32 位和 64 位版本可用，我也会分别构建一个。我还使用 VM 硬件设置（例如大量 RAM、少量 RAM、1 核、2 核等）。我通过这种方式发现了很多小错误，如果我不使用这种方法，那肯定会进入野外。

这种方法还可以轻松玩不同的软件场景（如果安装程序的用户没有 .NET 3.5 sp1 会发生什么？如果他没有 XXX 组件会发生什么？等等？

**发展**

当我开发时，我有一台运行我的数据库服务器（SQL2000/2005/2008）的虚拟机。这有两个原因。首先，它更现实。在生产环境中，您的应用程序可能不在与数据库相同的机器上运行。为什么不在开发时复制它？另外，当我不开发时（记住这也是我的家用机器），我真的需要运行所有这些数据库服务吗？是的，我可以手动打开和关闭它们，但打开虚拟机要容易得多。

**客户**

如果我想向客户展示我所做的一些 Web 工作，我可以只将一个 VM 放入 DMZ，他可以登录 VM 并使用 Web 项目，而我的网络/计算机的其余部分是安全的。

**兼容性**

Vista64 现在是我的主要机器。我拥有的任何较旧的硬件/软件都无法与该操作系统很好地配合使用。我的解决方案是让 Windows XP 32 作为所有这些项目的 VM。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2009-01-05T04:56:12.870

这是尚未提及的内容。

每当一个项目进入维护模式（又名被放弃）时，我都会创建一个虚拟机，其中包含构建项目所需的所有工具、库和源代码。这样一来，如果我必须在一年后重新使用它，我就不会因为我工作站上的任何升级工具或库而赌一把。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2009-01-05T04:09:06.397

当我开始在我现在的公司工作时，大多数支持/开发/PM 员工会在他们的桌面上运行带有 1-3 个 VM 的 Virtual PC 进行测试。

几个月后，我提出了一个建议，现在我们使用 VMware ESXi 服务器运行具有不同环境的虚拟机池（全部 24/7），以便我们的支持人员测试客户问题并重现问题。我们有 Windows 2000/XP/Vista 的虚拟机，每个都安装了 Office 2000/2002/2003/2007（所以有 12 个虚拟机）加上一些更通用的测试虚拟机，一些运行 Citrix、终端服务等的 Server 2003/2008 机器。基本上大多数时候，当我们遇到需要调试的新客户配置时，可能其他客户也有该配置，我会为它设置一个虚拟机。（例如，我们目前只使用三个 64 位虚拟机 - 主要是 32 位）

最重要的是，同一台服务器运行一个 XP VM，我用于构建安装程序（InstallShield、WiX）调试（VS 2005）和本地化（Lingobit）以及我们的开发人员用于自动化测试（TestComplete）的第二个 VM。

开发和安装 VM 被分配了更高的优先级，并且都配置为具有 1Gb 内存的双 CPU VM。其余 VM 具有相同的优先级和 256-1Gb RAM。

一切都在双四核 Xeon 上运行，8Gb RAM 运行 ESXi 和硬件 RAID (4x1Tb RAID10)

只需 2.5 万美元多一点的投资，我们就将工作效率提高了 10 倍（想象一下停机时间，而支持人员在他们的桌面上安装旧版本的 Office 以复制客户问题，或者我无法使用我的桌面的时间，因为我们正在构建安装程序）。随着我们添加更多需要内存的 Server 2008 和 Vista VM，下一步将把 RAM 翻倍至 16Gb。

我们的桌面上仍然有奇怪的虚拟机（例如，我在 VMware Workstation 下运行了 Windows、Ubuntu 和 Windows 7 的本地化版本），但常用/大量使用的配置已卸载到专用服务器，我们都可以远程连接进入。轻松多了。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2009-01-02T11:57:39.447

虚拟化（使用快照或非永久性磁盘）对于在已知的干净配置中测试软件安装非常有用（即，以前安装的软件没有任何错误）。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2009-01-02T12:03:01.857

将您的开发箱放在单个文件（带有虚拟机）上，如果出现问题**，备份和恢复将变得更加容易。**

除此之外，您还可以在不同的机器上**携带便携式开发盒**，因为您不受通常使用的特定机器的限制。

不仅如此，您还可以**一次在不同的操作系统上进行测试，在**您拥有的每个虚拟机文件上安装一个操作系统。

相信我，在做我上面提到的工作时，这会省去很多麻烦。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2009-01-02T15:18:18.187

VM 的另一个不错的用例是创建机器的虚拟网络。例如，您可以启动运行应用程序堆栈的不同层的机器，每台机器都在自己的 VM 中运行。把它想象成一个穷人的数据中心。

这些虚拟机也可以出现在您的物理网络上，因此您可以使用 RDP 或类似方法与它们进行远程终端会话。

您可以拥有一台运行这些虚拟机的强大机器（大量内存），同时您可以从另一台机器（例如笔记本电脑）或您拥有的具有最佳屏幕的任何机器远程访问它们。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2009-01-02T12:46:05.857

我使用 Windows 下的 VM 来运行 Linux。尽管已经有一个适用于 windows 的 emacs 版本，但出于某种原因，在 Linux 中使用它只是感觉更令人满意。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2009-07-05T00:53:50.433

**维护搁置的计算机**

我的情况是，我所在地区的学校停课，但他们的财务系统必须维持长达 2 年，以确保支付所有未付账单。这过去是通过维护存在一些问题的[封存](http://en.wiktionary.org/wiki/mothball)学校的硬件来解决的：

*   这浪费了稀缺的硬件资源，占用了大量的物理空间。
*   财务人员必须亲自到硬件处才能在每个系统上工作。

今天，我在单个物理主机内的自己的虚拟盒子上托管每所被封存的学校。每个单独的系统都通过 rdp 在主机的 IP 号上访问，但有自己的端口号，保持每个学校原有的安全性。

财务人员现在可以在停产的学校工作，而无需前往他们实际所在的地方，服务器机房中有更多的物理空间，并且一次备份所有停产的学校是一个简单的自动化过程。

每个被封存的学校都在自己的 vbox 中，因此无法在系统之间交叉污染数据。价值数千美元的硬件也被释放出来用于重新部署。

虚拟化似乎是解决这个问题的完美解决方案。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2009-01-02T12:25:41.857

当我面前的任务是测试 WebSphere Application Server 的集群环境时，我使用了使用 VMWare Server 的虚拟化方法。设置 VMWare 服务器后，我创建了一个新的虚拟机并安装了我需要的所有软件，如 WebSphere App Server、Oracle、WebSphere Commerce 等，之后我关闭了 VM，并将虚拟硬盘映像复制到两个不同的文件，一个作为克隆 VM，另一个作为备份。

创建了一个新 VM 并分配了一个复制的磁盘映像，因此我现在启动并运行了两个系统，这使我能够测试集群环境的相同场景。我通过 VMware 拍摄了 VM 的快照，如果我搞砸了任何活动，我会恢复对所拍摄快照的更改，从而恢复到以前的状态并提高我的工作效率，而不必找出要反转的内容。如果我需要恢复到非常旧的状态，也可以使用备份磁盘映像，而不必从头开始。

VMWare 和 Microsoft 的 Virtual PC/Server 中存在的快照功能足以在您认为可能会进行重大更改的情况下考虑虚拟化，而这些更改可能不容易恢复。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2009-01-02T15:55:29.343

据我所知，Mac 上没有 Parallels 之类的东西，而是用于工作而不是测试。

集成（通过“连贯性”，您的虚拟机不在主机系统的“窗口”中运行，来宾系统中的所有程序在主机系统中都有其适当的窗口）非常出色，让您填补所有（**全部！**）空白：
我的同事已配置当他单击网页上的“mailto：”链接时，Windows 中的 Outlook（MacOsX 中没有 Outlook）会弹出，在 Mac 上使用 Firefox 浏览！
在另一个方向上，如果他要发送 PDF，他会在 Outlook（在 Windows 中）中双击附件，这会在 Mac 内置 PDF 查看器中打开 PDF 文件。

VirtualBox 还提供了这种窗口分离的可能性（至少当 windows 在 Linux 上的 VM 中运行时），这对工作非常有用。

当然，对于测试等，没有什么比干净分离的环境更好的了。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2009-01-05T05:12:21.137

我们有一个物理服务器，专门用于在我们的开发环境中托管虚拟机。虚拟机定期启动和拆除，用于在已知的标准操作环境上测试软件。

当我们希望应用程序在与开发环境不同的域上运行时，它也非常有用。

此外，我工作的组织正处于规划阶段，以创建一个大型虚拟测试场。这将是一个巨大的机器网格，位于它自己的网络上，所有组织的内部员工、承包商和第三方供应商将能够在实施到生产环境之前将他们的软件用于测试目的。虚拟机将反映生产环境中的物理机。

听起来不错，但每个人都有点怀疑：这是一个政府组织……官僚主义和繁文缛节可能会变成浪费时间和金钱。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2009-12-08T10:41:31.733

如果我们使用虚拟机（vpc 2007、Virtual Server 2005、VMWare 应用程序等）

1.我们可以在一台服务器上运行多个操作系统（windows98,2000,XP,Vista,Windows Server 2003,2008,Windows 7/linux/solaris）

2.我们可以降低硬件成本和数据中心空间

3.我们可以降低电源和交流冷却成本。

4.我们可以减少管理资源，

5.我们可以降低申请成本

6.我们可以运行ADS/DNS/DHCP/Exchange/SQL/Sharepoint Server/File Server...等

# php - PHP/MySql“高级搜索”页面

> ID：406587
> 
> 赞同：8
> 
> 时间：2009-01-02T11:55:54.537
> 
> 标签：php, mysql, sql, search

我正在网站上的“高级搜索”页面上输入关键字，例如“我喜欢苹果”，它可以使用以下选项搜索数据库：

> 查找：包含所有单词，包含确切的短语，包含至少一个单词，没有单词

我可以通过以下方式处理“精确短语”：

```
SELECT * FROM myTable WHERE field='$keyword'; 
```

'至少一个单词' by：

```
SELECT * FROM myTable WHERE field LIKE '%$keyword%';//Let me know if this is the wrong approach 
```

但它是我坚持的“至少有一个词”和“没有这些词”。

关于如何实现这两个的任何建议？

**编辑：**关于“至少一个词”，使用explode（）将关键字分解为单词并运行循环添加不是一个好方法

```
(field='$keywords') OR ($field='$keywords) (OR).... 
```

因为查询中还有一些其他的 AND/OR 子句，我不知道可以有的最大子句数。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-01-02T12:04:53.070

我建议使用[MySQL 全文搜索](http://dev.mysql.com/doc/refman/5.1/en/fulltext-search.html)，将其与[布尔全文搜索](http://dev.mysql.com/doc/refman/5.1/en/fulltext-boolean.html)功能结合使用，您应该能够获得所需的结果。

编辑：

根据您请求的条件请求的示例（“它只是一个字段，他们可以选择 4 个选项中的任何一个（即 1 个单词、确切的单词、至少 1 个单词，没有术语）。”）

我假设您根据您的初始帖子使用 php

```
<?php
$choice = $_POST['choice'];
$query = $_POST['query'];

if ($choice == "oneWord") {
    //Not 100% sure what you mean by one word but this is the simplest form
    //This assumes $query = a single word
    $result = mysql_query("SELECT * FROM table WHERE MATCH (field) AGAINST ('{$query}' IN BOOLEAN MODE)");
} elseif ($choice == "exactWords") {
    $result = mysql_query("SELECT * FROM table WHERE MATCH (field) AGAINST ('\"{$query}\"' IN BOOLEAN MODE)");
} elseif ($choice == "atLeastOneWord") {
    //The default with no operators if given multiple words will return rows that contains at least one of the words
    $result = mysql_query("SELECT * FROM table WHERE MATCH (field) AGAINST ('{$query}' IN BOOLEAN MODE)");
} elseif ($choice == "withoutTheTerm") {
    $result = mysql_query("SELECT * FROM table WHERE MATCH (field) AGAINST ('-{$query}' IN BOOLEAN MODE)");
}
?> 
```

希望这有助于在布尔匹配中充分使用运算符，请参阅[布尔全文搜索](http://dev.mysql.com/doc/refman/5.1/en/fulltext-boolean.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T12:01:56.053

你可以使用

至少有一个词

```
SELECT * FROM myTable WHERE field LIKE '%$keyword%' 
or field LIKE '%$keyword2%' 
or field LIKE '%$keyword3%'; 
```

没有这个词

```
SELECT * FROM myTable WHERE field NOT LIKE '%$keyword%'; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T12:03:00.763

我不确定您是否可以像其他两个一样以天真的方式轻松地执行这些搜索选项。

如果您需要支持这些场景，那么实施更好的搜索引擎是值得的。一个简单的可能会让你通过的事情是这样的：

当一个项目被添加到数据库中时，它被分割成单独的单词。此时“常用”词（the、a 等）被删除（可能基于 common_words 表）。如果剩余的单词不存在，则将它们添加到单词表中。然后在词条目和项目条目之间建立一个链接。

在搜索时，它是从单词表中获取单词 id 并在连接表中适当查找项目 id 的情况。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T12:07:43.250

众所周知，搜索很难做好。

您应该考虑使用第三方搜索引擎，使用诸如[Lucene](http://devzone.zend.com/node/view/id/91)或[Sphider 之](http://www.sphider.eu/)类的东西。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T12:08:57.053

Giraffe 和 Re0sless 给出了 2 个很好的答案。

注意：“SELECT *”很烂......只选择您需要的列。Re0sless 在关键字之间放置了一个“或”。- 你应该消除常用词（“”，“i”，“am”，“and”..etc） - mysql 对查询的大小有 8kb 的限制，所以对于很长的 SELECTS，你应该把它放进去单独的查询。- 尝试消除重复的关键字（如果我搜索“你知道你喜欢它”，则 SELECT 基本上应该只搜索一次“你”并将常用词删除为“它”）

也尝试使用“LIKE”和“MATCH LIKE”（参见mysql手册页）它可以为“模糊”搜索创造奇迹

# wpf - WPF 设计渲染速度极慢 Visual Studio 2008？有没有可以加快速度的调整？

> ID：406592
> 
> 赞同：3
> 
> 时间：2009-01-02T11:59:57.913
> 
> 标签：wpf, visual-studio-2008, xaml

我只是想在 WPF 中做一些教程，但我发现与 Windows Forms/GDI+ 相比，设计器的工作速度非常慢。

是否有任何调整可以加快速度？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T12:07:18.977

如果您刚刚进行了一些 XAML 编辑，则可以使用单独的编辑器，例如 XamlPad。这比 VS 设计器的渲染速度要快得多。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-03-14T10:08:58.260

我把它关掉了。

1.  右键单击解决方案资源管理器中的 xaml 文件，
2.  使用源代码（文本）编辑器
3.  将其设置为默认值

好消息是 Intellisense 仍然有效！如果您偶尔需要查看设计视图，您仍然可以右键单击 -> 设计视图。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T18:13:32.840

把它关掉。VS XAML 设计器很糟糕，只要您的 XAML 不重要，它就无法正常工作。进入您的[选项](http://msdn.microsoft.com/en-us/library/4k7w5e5s.aspx)并将 .xaml 扩展名映射到常规 XML 编辑器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2010-01-19T05:08:37.330

您可以查看以下链接。和前面的答案完全一样。[“如何加速 Visual Studio 2008 的慢 WPF 设计器”](http://searchwindevelopment.techtarget.com/tip/0,289483,sid8_gci1356218_mem1,00.html)

# html - 使用有什么好处 元素结束？ 在 HTML 页面设计中使用 div 元素代替表格有什么好处吗？ 在单个 SQL 查询中获取两个下一个和两个上一个条目 问问题 Rahul 问问题 2009-01-02T12:05:00.057 4321 次 This question shows research effort; it is useful and clear 3 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 在 HTML 页面设计中使用 div 元素代替表格有什么好处吗？ 在单个 SQL 查询中获取两个下一个和两个上一个条目 我想显示一个图片库，在视图页面上，应该可以看到一堆缩略图：当前图片，包含两个前一个条目和两个下一个条目。 获取两个下一个/上一个的问题是我不能（除非我弄错了）选择像 MAX(id) WHERE idxx 这样的东西。 任何想法？ 注意：当然 id 不跟随，因为它们应该是多个 WHERE 实例的结果。 谢谢马歇尔 html 4 0 回答 0 Related 1 symfony - Symfony2 表单组件 - 日期小部件不适用于 mongodb 3 iphone - 当一个精灵与另一个精灵发生碰撞时，它会粘在另一个精灵上 2 android - Android Programm 在我的应用程序开头添加视频 2 iphone - iOS：如何使用钥匙串数据“自动登录”？ 2 android - MonoDevelop 默认 M4A 应用程序“已意外停止” 3 php - 如何保护 $_SERVER['PHP_SELF']？ 1 c++ - 使用空格取消简单循环 1 jquery - deck.js - 是否可以将“deck-container”类的元素（主体）更改为另一个元素？ 2 matlab - matlab中的上采样 1 java - 使用 jena 从 xml 文件创建 RDF 三元组和 RDF 存储 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：406605
> 
> 赞同：3
> 
> 时间：
> 
> 标签：html

在 HTML 页面设计中使用 div 元素代替表格有什么好处吗？

# c++ - C++ 复制构造函数

> ID：406613
> 
> 赞同：0
> 
> 时间：2009-01-02T12:07:59.910
> 
> 标签：c++, constructor

我最近写了一段代码

```
SomeClass someObject;
mysqlpp::StoreQueryResult result = someObject.getResult(); 
```

其中 SomeClass::getResult() 看起来像：

```
mysqlpp::StoreQueryResult SomeClass::getResult()
{
mysqlpp::StoreQueryResult res = ...<something>...;
return res;
} 
```

现在，使用第一个代码片段中的示例，当我编译并运行时，程序因 ABORT 信号而崩溃。然后我将第一个片段更改为：

```
SomeClass someObject;
mysqlpp::StoreQueryResult result(someObject.getResult()); 
```

效果很好。另外，为了尝试一下，我再次将其更改为：

```
SomeClass someObject;
mysqlpp::StoreQueryResult result;
result = someObject.getResult(); 
```

这也很好用。

现在，我只是想不通为什么第一个例子失败了，而接下来的两个成功了。据我了解，在第一个示例中，复制构造函数用于初始化结果。但是第二个例子不也是这样吗？那么为什么第二个例子成功了呢？第三个例子更有意义——因为没有使用复制 const，我们只是在构造之后赋值。

简而言之，有什么区别：

```
FooClass a = someObject.someMethodReturningFooClassInstance(); 
```

和

```
FooClass a(someObject.someMethodReturningFooClassInstance());? 
```

多谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T12:10:43.510

我认为这两种情况没有任何区别。两次调用相同的复制构造函数。

您确定这*正是*您在代码中编写的内容吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T12:14:44.623

~~严格来说，在第一种情况下调用默认构造函数，然后调用赋值运算符，在第二种情况下，它只使用复制构造函数。~~

好的，我最初的假设是错误的，显然在这两种情况下都只会调用复制构造函数（在赋值情况下，也可能会调用额外的“转换”构造函数）。我会在休眠后启动编译器并在我的开发环境中验证这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T12:13:59.837

您可以在复制构造函数中放置一个断点（甚至是一个 printf 语句），并且您会确切地知道它何时被调用，您知道的。所以不能代替基本调试。;)

但是，是的，应该在前两种情况下调用复制构造函数。第三种情况使用赋值运算符。

您是否尝试在调试器中运行它？它应该在 ABORT 信号上中断。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T12:15:42.203

在最纯粹的理论中，在这两种情况下都应该调用复制构造函数。但是，在这些情况下允许编译器使用一种称为返回值优化 (RVO) 的东西。如果使用 RVO，则不会调用复制构造函数。也许您的编译器在一种情况下使用 RVO 而不是另一种情况？

编辑：这只适用于这种情况

```
SomeClass someObject;
mysqlpp::StoreQueryResult result;
result = someObject.getResult(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T12:16:08.817

实际上，第一个将使用 operator= 进行中间复制，而第二个将进行直接复制构造。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T15:19:17.543

我认为第一种情况是为对象分配值（正确的值）。它向对象发送值。在 2,3 示例中是隐式对象和显式对象概念。您不应该通过为直接对象分配值来编写代码。

# sql - 在单个 SQL 查询中获取两个下一个和两个上一个条目

> ID：406616
> 
> 赞同：2
> 
> 时间：2009-01-02T12:09:51.233
> 
> 标签：sql, mysql, database

我想显示一个图片库，在查看页面上，应该能够看到一堆缩略图：当前图片，包含两个前一个条目和两个下一个条目。

获取两个下一个/上一个的问题是我不能（除非我弄错了）选择像 MAX(id) WHERE idxx 这样的东西。

任何想法？

注意：当然 id 不跟随，因为它们应该是多个 WHERE 实例的结果。

谢谢马歇尔

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T12:29:01.710

您必须原谅 SQL Server 风格的变量名称，我不记得 MySQL 是如何进行变量命名的。

```
SELECT *
  FROM photos
 WHERE photo_id = @current_photo_id
 UNION ALL
SELECT *
  FROM photos
 WHERE photo_id > @current_photo_id
 ORDER BY photo_id ASC
 LIMIT 2
 UNION ALL
SELECT *
  FROM photos
 WHERE photo_id < @current_photo_id
 ORDER BY photo_id DESC
 LIMIT 2; 
```

此查询假定您可能有不连续的 ID。但是，从长远来看，如果您的表中有很多照片，则可能会出现问题，因为通常在从数据库中检索到整个结果集*之后评估 TOP。*YMMV。

在高负载情况下，我可能会使用这些查询，但我也会定期预先实现它们，以便每张照片都有一个 PreviousPhotoOne、PreviousPhotoTwo 等列。它需要更多的维护，但是当您有大量静态数据并且需要性能时，它会很好地工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T12:24:07.663

如果您的 ID 是连续的，您可以这样做

```
where id >= @id-2 and id <= @id+2 
```

否则我认为你必须进行`union`3 个查询，一个是获取具有给定 ID 的记录，另外两个是这样搞乱`top`的`order by`

```
select *
from table
where id = @id

union

select top 2 *
from table
where id < @id
order by id desc

union

select top 2 *
from table
where id > @id
order by id 
```

性能不会太差，因为您没有检索大量数据集，但由于使用`union`.

如果您发现性能开始成为问题，您可以添加列来保存上一个和下一个项目的 id；使用触发器或通宵过程或其他方式计算 id。这意味着您只需执行一次硬查询，而不是每次需要时执行。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T12:53:14.343

我认为这种方法应该适用于非连续 ID，并且应该比使用 UNION 更有效。currentID 将使用 SQL 中的常量或从您的程序传递来设置。

```
SELECT * FROM photos WHERE ID = currentID OR ID IN (
    SELECT ID FROM photos WHERE ID < currentID ORDER BY ID DESC LIMIT 2
) OR ID IN (
    SELECT ID FROM photos WHERE ID > currentID ORDER BY ID ASC LIMIT 2
) ORDER BY ID ASC 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T12:17:16.257

如果您只是对 id 的上一条和下一条记录感兴趣，您不能只使用一个 where 子句来限制 WHERE id=xx, xx-1, xx-1, xx+1, xx+2 使用多个 WHERE 子句或使用在哪里？

# visual-studio - Debug.WriteLine() 在运行测试时发生两次

> ID：406632
> 
> 赞同：4
> 
> 时间：2009-01-02T12:15:32.703
> 
> 标签：visual-studio, unit-testing, debugging, resharper, testdriven.net

我在 VS2008 运行单元测试时遇到了一个奇怪的问题。当我在正常或调试模式下使用 Resharper 或 TestDriven 运行单元测试时，Debug.WriteLine("foo") 行将执行两次：即。在 VS 的输出窗口中，我可以看到每行写了两次。

但是，如果我逐步完成测试，每行似乎都按预期执行一次。有人知道这里发生了什么吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T12:22:35.200

IIRC Studio 的输出窗口不仅显示 STDOUT 和 STDERR，还显示跟踪消息。一个合适的测试运行器可能会在写入 STDOUT 的同时设置跟踪，如果您手动进入测试，则不会发生这种情况。

# asp.net - 为什么此代码仅在我使用断点时才有效？

> ID：406637
> 
> 赞同：0
> 
> 时间：2009-01-02T12:16:40.253
> 
> 标签：asp.net, vb.net, api, paypal

请参阅下面的代码，由于某种原因，它仅在我在第 2 行 (*) 上放置断点时才有效，是否有一些延迟？它是在完成第二行之前开始下一行吗？

```
dp.SSLCertStoreType = nsoftware.IBizPayPal.DirectpaymentSSLCertStoreTypes.sstPEMKey

*dp.SSLCertStore = My.Computer.FileSystem.ReadAllText(Server.MapPath("\cert_key_pem.txt"))

dp.SSLCertSubject = "*" 
```

注意：只有在第 2 行设置断点时才会在第 3 行引发错误，释放中断后，程序会通过信用卡执行我的 paypal 购买。

我将再次发布错误我现在正在复制它......

系统错误：无法获取安全凭证：错误 8009030E。

就在那里，虽然它应该说“订单已确认！” 如果工作正常，请键入消息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T12:23:11.283

几乎可以肯定是线程问题，但除非他们熟悉`nsoftware.IBizPayPal`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T12:21:40.007

有时您会发现由于本地窗口评估对象属性，中断会改变对象的状态。如果它们有副作用，那么所有的赌注都失败了，不幸的是:(不知道你的情况是否发生了这种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T12:18:55.270

我对 ASP 一无所知，所以只是想知道：这可能是由于多线程造成的吗？您知道，当您设置断点时，您会冻结所有线程的执行，但在实际执行中并非如此。

# html - 垂直居中字段集中的锚标记

> ID：406640
> 
> 赞同：1
> 
> 时间：2009-01-02T12:17:29.393
> 
> 标签：html, css, anchor, fieldset

我正在尝试使用 CSS 在字段集中垂直居中锚点，但它似乎总是与底部对齐。这有什么技巧吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T14:30:39.607

您在这里没有提供太多细节。除了行高，您可能还想调整顶部和底部填充。这完全取决于你在字段集中有多少东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T12:25:20.157

您是否尝试过为文本指定**行高？**它应该有助于在 Firefox 和 IE 中对齐。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T15:20:01.567

尝试设置样式**vertical-align:middle;**

```
<a href="www.google.com" style="vertical-align:middle;">google</a> 
```

如果这不起作用，发布您的 HTML 会有所帮助

# asp.net - 将 ASP.net Web 服务移动到 WCF

> ID：406665
> 
> 赞同：2
> 
> 时间：2009-01-02T12:31:32.750
> 
> 标签：asp.net, wcf

我正在使用 ASP.net webservices 验证我的登录身份验证。但客户要求转移到 WCF。

我需要知道 WCF 与 ASP.net webservices 有何不同。

我使用 WCF 比 ASP.net webservices 有什么优势。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T12:35:13.727

最近在 Dime Casts.NET 上有关于该主题的一集：

[第 73 集 - 从 .asmx Web 服务迁移到 WCF Web 服务](http://www.dimecasts.net/Content/WatchEpisode/74)

这篇文章也可能有用：

Aaron Skonnard[关于 ASMX 2.0、WSE 3.0 和 WCF的所有信息](http://msdn.microsoft.com/en-us/magazine/cc163674.aspx)

以下问题的答案包含一些很好的链接：

[使用 WCF 有什么好处？](https://stackoverflow.com/questions/271326/what-are-the-benefits-of-using-wcf)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T12:39:30.860

如果您的 asmx 工作正常，那么很难想到将其移至 WCF 的任何“非政治”原因。

如果客户仍然坚持需要完成，那么这应该是一项简单的任务。WCF 的初始学习曲线很浅，只需“学习你需要的东西”就很容易了。公开一些方法根本不会花你很长时间。

# objective-c - Objective-C 说明；-/+ 和 *var

> ID：406667
> 
> 赞同：5
> 
> 时间：2009-01-02T12:32:31.173
> 
> 标签：objective-c

我正在从一本书（*Mac OS X 的 Cocoa 编程*）中自学 Objective-C，并且已经完成了一半，但是我有两个问题没有在书中得到回答或定义。

1.  定义类方法时（假设在 .h 文件中）有什么区别：

    - (int) 人口；

    +（int）人口；

我目前看到的方式是`-`方法需要首先分配和初始化类，但是`+`可以静态调用而不需要分配和初始化。例如（在另一个类的函数中）

```
// Using -
Earth *world = [[Earth alloc] init];
int population = [world population];

// Using +
int population = [Earth population]; 
```

如果这是正确的，我什么时候应该使用静态方法，这样做有什么缺点吗？

2.  在函数参数中定义 var 或作为函数中的实际 var 时，使用 * 是否意味着 var 将是一个对象？例如（再次在头文件中。）

    - (void) setPopulation: (NSNumber *) 人口; //使用*作为人口是NSNumber

    - (void) setPopulation: (int) 人口；// 人口不是一个类，所以不需要 *

抱歉，如果我的任何术语在 Objective-C 领域没有意义，例如静态方法等。我是一名 PHP 和 Ruby 程序员。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-01-02T12:44:33.177

Objective-C 方法声明中的 -/+ 仅表示该方法是类方法还是实例方法。例如，使用 Objective-C，您不能向实例发送声明为类方法的消息。例如：

```
@interface MyObject : NSObject
-(void)myInstanceMethod;
+(void)myClassMethod;
@end

// ...

MyObject* obj = [[MyObject alloc] init];

[obj myInstanceMethod];      // this is okay
[obj myClassMethod];         // this will fail
[[obj class] myClassMethod]; // this is okay
[MyObject myClassMethod];    // this is okay
[MyObject myInstanceMethod]; // this will fail 
```

至于您问题的第二部分，Objective-C 是 C 的严格超集。它添加了类，但它们实际上是 C 数据结构，其实现被 Objective-C 运行时隐藏。因此，类总是表示为指针。在 C 中，* 表示变量被声明为指向某个内存地址的指针。您也可以在 C 中使用原始类型的指针，但 Objective-C 对象必须始终由指针引用。

那里有很多很棒的指针教程/介绍。我建议简单地搜索 C 教程和指针以了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T12:38:30.753

你可以在我什么时候写静态方法中看到一些关于何时使用静态方法的讨论[？](https://stackoverflow.com/questions/202560/when-should-i-write-static-methods)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T12:46:42.017

+ 声明是一个类方法，你不需要实例来调用它。构造函数/工厂方法需要是类方法。- 声明了一个实例方法，对单个实例进行操作。每个实例都有自己独立的状态（成员变量）。这是面向对象编程的根本区别！一般来说，除了实用程序类之外，大多数方法都是实例方法。

# ruby-on-rails - 一些常见 Web 框架的内存占用情况如何比较？

> ID：406668
> 
> 赞同：11
> 
> 时间：2009-01-02T12:32:33.153
> 
> 标签：ruby-on-rails, django, zend-framework, cakephp, frameworks

假设，如果我要使用几个流行/相似的框架构建同一个应用程序，比如 PHP(cakePHP|Zend)、Django 和 Rails，它们的内存消耗应该大致相同吗？

另外，我敢肯定，很多人都评估或使用过每一个，并且会对你选择的感兴趣，为什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-02-12T18:12:43.110

使用您最喜欢的任何框架进行编码。然后祈祷您的应用程序足够流行以引起内存问题。我们都应该如此幸运。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-01-02T12:38:43.640

不，它绝对会从一个框架到另一个框架有很大的不同。

也就是说，在大多数情况下，框架的内存占用既不是站点性能的决定因素，也不是框架选择的决定因素。通常更多的是使用正确的工具来完成工作，因为每个框架都有自己的优势和劣势。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T14:37:39.093

只是为了获得一些观点，让我报告一个使用 Smalltalk Web 框架[AIDA/Web](http://www.aidaweb.si)的真实案例内存消耗。

对于在单个服务器上的单个 Smalltalk 映像上运行 40 多个网站，它当前消耗 330MB 内存。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T12:36:07.250

It is hard to efficiently say, I would say that PHP frameworks will have mostly a similar footprint, which is *typically* less than other frameworks such as Rails and Django. But it depends what you include as rails, such as mongrel (rails server proxy). Overall it depends on your code as well however PHP will most of the time give an easier time on the server. *(Without any language Bias, I use both PHP and Rails)*

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-01-02T12:48:21.810

我使用过的框架中唯一一个是 CakePHP。我发现它的足迹并不坏，但是它比普通的 PHP 要重得多，显然不使用框架，但可以是一个很好的权衡。可以在[http://www.avnetlabs.com/php/php-framework-comparison-benchmarks](http://www.avnetlabs.com/php/php-framework-comparison-benchmarks)找到一些最流行的 PHP 框架的一个很好的比较。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-01-02T13:17:35.793

现在内存很便宜。选择能让你的开发变得最简单的方法（这通常是你的团队最了解的）。

*但是*......根据我的经验，Django 并不是非常渴望内存。我已经在内存不足 100 MB 的共享主机上运行它。但我的经历纯属轶事。YMMV。如果您使用 Django，[这里有一些降低内存使用率的技巧](http://blog.webfaction.com/tips-to-keep-your-django-mod-python-memory-usage-down)。

**编辑**：如果内存占用对您很重要，请不要使用[zope 。](http://www.zope.org/)

# php - php exec() 错误

> ID：406682
> 
> 赞同：0
> 
> 时间：2009-01-02T12:37:00.960
> 
> 标签：php, exec

我对以下内容有一点问题：

当我执行这一行时：

```
echo exec(createDir($somevariable)); 
```

我收到此错误：

```
Warning: exec() [function.exec]: Cannot execute a blank command in /home/mydir/myfile.inc.php on line 32 
```

有任何想法吗。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T12:43:01.963

[`exec()`](http://php.net/exec)需要一个字符串参数，它将传递给您的操作系统以执行。换句话说，这是服务器命令行的入口。

我不确定什么是函数`createDir()`，但除非它返回一个有效的命令行字符串，否则它可能因此而失败。

在 Linux 中，您可能想要执行类似的操作

```
exec('/usr/bin/mkdir '.$path); 
```

...另一方面，您应该`exec()`不惜一切代价避免使用。相反，你可以在这里做的是看看[`mkdir()`](http://php.net/mkdir)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T12:40:45.977

使用[exec](http://de3.php.net/manual/de/function.exec.php) ，您可以像使用命令行一样执行系统调用。它与执行 PHP 函数没有任何关系。

要创建目录，您可以执行以下操作：

```
exec( 'mkdir [NAME OF DIRECTORY]' ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T12:40:48.707

您误解了 exec() 的目的。如果您只想创建一个目录，那么您应该使用 mkdir()。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T12:42:42.663

我猜你的`createDir()`函数没有返回任何东西。也可能值得检查`$somevariable`也设置为合理的东西

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T13:03:57.990

我想我已经从其他帖子和评论中得出了你真正想做的事情：

我认为`createDir()`是您自己编写的 PHP 函数。它不仅仅是创建一个目录——它会填充它，这可能需要一些时间。

出于某种原因，您认为下一个命令在`createDir()`完成工作之前运行，并且您认为通过调用`createDir()`using`exec()`可以避免这种情况。

如果这是出路，请在评论中告诉我，我将删除此答案。

返回后似乎不太可能`createDir()`真的继续工作（如果确实如此，那么我们称之为“异步”）。这将需要程序员不遗余力地使其异步。所以检查那个假设。

即便如此，`exec()`也不是为了调用 PHP 函数。它用于调用 shell 命令（您在命令提示符下键入的那种东西）。正如我们许多人所观察到的，除非您非常小心，否则应避免这种情况——风险在于您允许用户执行任意 shell 命令。

如果您确实必须等待异步函数完成，有几种方法可以完成。

第一种方式要求异步函数以一种顺从的方式编写。一些 API 允许您启动一个异步作业，它会给您一个“句柄”，然后做一些其他的事情，然后从句柄中获取返回状态。就像是：

```
handle = doThreadedJob(myParam);
# do other stuff
results = getResults(handle); 
```

getResults 会等到工作完成。

第二种方法不太好，可以在 API 不太有用的情况下使用。不幸的是，问题在于找到一些线索表明工作已经完成，然后轮询直到完成。

```
while( checkJobIsDone() == false ) {
    sleep(some time interval);
} 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2009-01-02T12:40:16.913

我猜 createDir() 没有返回值。

尝试`exec("mkdir $somevariable");`

# parsing - 从 torrent 中读取文件集

> ID：406695
> 
> 赞同：15
> 
> 时间：2009-01-02T12:42:53.087
> 
> 标签：parsing, bittorrent

我想（快速）将程序/脚本放在一起以从 .torrent 文件中读取文件集。然后我想使用该设置从特定目录中删除任何不属于 torrent 的文件。

关于从 .torrent 文件中读取此索引的便捷库有什么建议吗？虽然我不反对它，但我不想为了这个简单的目的深入研究 bittorrent 规范并从头开始滚动大量代码。

我对语言没有偏好。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2009-01-02T13:42:51.903

我会使用 rasterbar 的[libtorrent](http://www.rasterbar.com/products/libtorrent/)，它是一个小而快的 C++ 库。
要遍历文件，您可以使用[torrent_info](http://www.rasterbar.com/products/libtorrent/manual.html#torrent-info)类（begin_files()、end_files()）。

libtorrent还有一个[python 接口](http://www.rasterbar.com/products/libtorrent/python_binding.html#using-libtorrent-in-python)：

```
import libtorrent
info = libtorrent.torrent_info('test.torrent')
for f in info.files():
    print "%s - %s" % (f.path, f.size) 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2009-02-14T14:09:51.383

[Effbot 已回答您的问题](http://effbot.org/zone/bencode.htm)。以下是从 .torrent 文件（Python 2.4+）中读取文件列表的完整代码：

```
import re

def tokenize(text, match=re.compile("([idel])|(\d+):|(-?\d+)").match):
    i = 0
    while i < len(text):
        m = match(text, i)
        s = m.group(m.lastindex)
        i = m.end()
        if m.lastindex == 2:
            yield "s"
            yield text[i:i+int(s)]
            i = i + int(s)
        else:
            yield s

def decode_item(next, token):
    if token == "i":
        # integer: "i" value "e"
        data = int(next())
        if next() != "e":
            raise ValueError
    elif token == "s":
        # string: "s" value (virtual tokens)
        data = next()
    elif token == "l" or token == "d":
        # container: "l" (or "d") values "e"
        data = []
        tok = next()
        while tok != "e":
            data.append(decode_item(next, tok))
            tok = next()
        if token == "d":
            data = dict(zip(data[0::2], data[1::2]))
    else:
        raise ValueError
    return data

def decode(text):
    try:
        src = tokenize(text)
        data = decode_item(src.next, src.next())
        for token in src: # look for more tokens
            raise SyntaxError("trailing junk")
    except (AttributeError, ValueError, StopIteration):
        raise SyntaxError("syntax error")
    return data

if __name__ == "__main__":
    data = open("test.torrent", "rb").read()
    torrent = decode(data)
    for file in torrent["info"]["files"]:
        print "%r - %d bytes" % ("/".join(file["path"]), file["length"]) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-03-04T17:37:15.717

这是上面康斯坦丁回答的代码，稍作修改以处理种子文件名中的 Unicode 字符和种子信息中的文件集文件名：

```
import re

def tokenize(text, match=re.compile("([idel])|(\d+):|(-?\d+)").match):
    i = 0
    while i < len(text):
        m = match(text, i)
        s = m.group(m.lastindex)
        i = m.end()
        if m.lastindex == 2:
            yield "s"
            yield text[i:i+int(s)]
            i = i + int(s)
        else:
            yield s

def decode_item(next, token):
    if token == "i":
        # integer: "i" value "e"
        data = int(next())
        if next() != "e":
            raise ValueError
    elif token == "s":
        # string: "s" value (virtual tokens)
        data = next()
    elif token == "l" or token == "d":
        # container: "l" (or "d") values "e"
        data = []
        tok = next()
        while tok != "e":
            data.append(decode_item(next, tok))
            tok = next()
        if token == "d":
            data = dict(zip(data[0::2], data[1::2]))
    else:
        raise ValueError
    return data

def decode(text):
    try:
        src = tokenize(text)
        data = decode_item(src.next, src.next())
        for token in src: # look for more tokens
            raise SyntaxError("trailing junk")
    except (AttributeError, ValueError, StopIteration):
        raise SyntaxError("syntax error")
    return data

n = 0
if __name__ == "__main__":
    data = open("C:\\Torrents\\test.torrent", "rb").read()
    torrent = decode(data)
    for file in torrent["info"]["files"]:
        n = n + 1
        filenamepath = file["path"]     
        print str(n) + " -- " + ', '.join(map(str, filenamepath))
        fname = ', '.join(map(str, filenamepath))

        print fname + " -- " + str(file["length"]) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T13:00:33.660

来自原始 Mainline BitTorrent 5.x 客户端 ( [http://download.bittorrent.com/dl/BitTorrent-5.2.2.tar.gz](http://download.bittorrent.com/dl/BitTorrent-5.2.2.tar.gz) ) 的 bencode.py 将为您提供 Python 中的参考实现。

它对 BTL 包有导入依赖，但很容易删除。然后，您将查看 bencode.bdecode(filecontent)['info']['files']。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-02T22:14:03.900

扩展上述想法，我做了以下工作：

```
~> cd ~/bin

~/bin> ls torrent*
torrent-parse.py  torrent-parse.sh

~/bin> cat torrent-parse.py
# torrent-parse.py
import sys
import libtorrent

# get the input torrent file
if (len(sys.argv) > 1):
    torrent = sys.argv[1]
else:
    print "Missing param: torrent filename"
    sys.exit()
# get names of files in the torrent file
info = libtorrent.torrent_info(torrent);
for f in info.files():
    print "%s - %s" % (f.path, f.size)

~/bin> cat torrent-parse.sh
#!/bin/bash
if [ $# -lt 1 ]; then
  echo "Missing param: torrent filename"
  exit 0
fi

python torrent-parse.py "$*" 
```

您需要适当地设置权限以使 shell 脚本可执行：

```
~/bin> chmod a+x torrent-parse.sh 
```

希望这可以帮助某人:)

# c# - 枚举评估和整数之间的性能比较

> ID：406700
> 
> 赞同：5
> 
> 时间：2009-01-02T12:45:54.157
> 
> 标签：c#, enums, performance, integer

会不会有速度上的差异

```
if (myInt == CONST_STATE1) 
```

和

```
if (myEnum == myENUM.State1) 
```

在 C# 中？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-01-02T12:47:05.090

在 C# 中，枚举无论如何都被编译器内联为常量，因此好处是代码易读性

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-03T11:04:47.777

使用 Enums 时要注意的是不要使用任何需要反射的操作（或小心使用它们）。例如：

1.  myEnumValue.ToString()。
2.  枚举.Parse()
3.  枚举.IsDefined()
4.  枚举.GetName()
5.  枚举.GetNames()

如果是常量，则不存在执行任何需要反射的操作的选项。但是，在枚举的情况下它确实如此。所以你必须小心这个。

我看过配置文件报告，其中与枚举验证/反射相关的操作占用了高达 5% 的 CPU 时间（在每次调用 API 方法时都进行枚举验证的场景）。这可以通过编写一个缓存正在使用的枚举类型的反射结果的类来大大减少。

话虽如此，**我还是建议根据从设计的角度来看有意义的事情来决定使用枚举还是常量**。这是在确保团队了解涉及反射的操作的性能影响的同时。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-03T10:42:03.407

另外，我不确定您是否需要担心这一点。这听起来确实像过早的优化。我敢肯定，在任何系统中，都存在比枚举比较更大的瓶颈。:)

# asp.net-mvc - 带有 ASP.NET MVC HtmlHelper 扩展方法的链接 ID 的 UrlEncode

> ID：406711
> 
> 赞同：1
> 
> 时间：2009-01-02T12:49:46.253
> 
> 标签：asp.net-mvc, actionlink

我的操作采用基于用户名的字符串 id 参数，该用户名可以包含需要编码的字符，例如“user?1”

如果我`ActionLink()`用来生成链接，传递没有编码的字符串，它会生成一个像这样的链接：`http:\\localhost\controller\action\user?1`，并且操作将“user”作为id传递。

如果我`UrlEncode()`在将它传递给之前的字符串`ActionLink`，那么生成的链接是：`http:\\localhost\controller\action\user%253f1`因为 ActionLink 将为您编码 '%' 字符。除了这看起来丑陋之外，它还会在访问我尚未找到原因的链接时生成 HTTP 错误 400 - 错误请求。

有什么方法可以生成如下网址：`http:\\localhost\controller\action\user%3f1`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2011-10-31T19:28:56.980

您可以创建一个 jquery 插件来检查所有链接并将需要替换的字符替换为新值。并将此插件应用于所有 ActionLinks

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-30T00:19:42.197

怎么去掉？字符或用破折号 (-) 或下划线 (_) 之类的其他内容替换它？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2010-02-21T09:36:58.737

您应该查看 Global.asax.cs 文件

为方便起见，添加另一条路线，在本例中为 ff。可能工作：

```
 routes.MapRoute(
             null,                            
             "{controller}/{action}/user/{id}",
             new { controller = "Home", action = "Index" }
         ); 
```

我想这就是你想要的，为每个用户单独操作，但我建议你为此目的使用 cookie。

PS：记住把那个放在你的默认路由之上，因为路由试图从上到下匹配。

# csla - CSLA .NET 架构

> ID：406728
> 
> 赞同：0
> 
> 时间：2009-01-02T12:58:16.020
> 
> 标签：csla

CSLA.NET 架构在企业级应用程序中是一个不错的选择吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T13:05:23.353

这取决于您所说的企业级……应用程序是什么？桌面应用程序是基于 Web 的吗？中间件？共享图书馆？

CSLA 有一些优点和缺点。我问过一个类似的[问题](https://stackoverflow.com/questions/15241/does-anyone-have-any-real-world-experience-of-csla)。看看那个和[这个](https://stackoverflow.com/questions/178343/have-you-ever-used-csla#178535)

我的批评是它非常冗长，有时过于复杂，并且它将数据层封装在其类中，这意味着 TDD 很难处理。

然而，它是为商业而设计的，可以直接为您提供一些出色的功能。这[本书](http://www.apress.com/book/view/1590596323)非常值得一读。

# tdd - 测试假存储库有什么意义？

> ID：406731
> 
> 赞同：9
> 
> 时间：2009-01-02T12:59:39.527
> 
> 标签：tdd, repository, fake-repositories

当我在家发展时，我一直在努力推动自己的心态，以更倾向于 TDD 和一点 DDD。

我不明白的一件事是为什么你要创建一个假的存储库来测试？我并没有真正研究过它，但测试的想法肯定是帮助你的代码解耦（给你更多的灵活性），减少所需的代码并减少错误的数量。

那么有人可以填补我愚蠢的大脑为什么有些人喜欢测试假存储库吗？我会认为针对真实数据库进行测试是比创建虚假数据库更好的替代方法，因为这样您就知道它适用于您的真实世界数据存储。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2009-01-02T13:05:19.937

伪造的存储库允许您仅测试您的应用程序代码。

假存储库意味着自动化测试可以轻松地在存储库中设置已知状态。

假存储库将比真实数据库快几个数量级。

假存储库不能替代将包括您的数据库的系统测试。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-01-02T13:18:11.237

在我看来，您测试伪造资源有两个非常重要的原因：

*   当您针对慢速 I/O 或数据库进行模拟时，它可以使单元测试**更快。**如果您有一个小型测试套件，这可能看起来没什么，但是当您进行多达 +500 个单元测试时，它开始有所作为。在这样的数量下，针对数据库运行的测试将开始需要几秒钟的时间。程序员很懒惰，希望事情进展得很快，所以如果运行一个测试套件需要超过 10 秒，那么你将不再乐意进行 TDD。
*   它强制您考虑您的代码设计以使更改更容易。如果您针对接口或抽象类进行了实现，那么通过契约和依赖注入进行设计也会变得更加容易。如果做得好，这样的设计可以更容易地遵守代码的更改。

唯一的缺点是显而易见的：

*   你怎么能确定它真的有效？

...这就是**集成测试**的目的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T14:28:01.000

我赞成 Giraffe 的回答，但只想补充几点：

*   每个开发人员都可以使用模拟/假存储库进行她/他自己的单元测试，而不会干扰其他开发人员在同一项目中所做的测试。

*   使用本地模拟/伪造存储库增强了数据抽象层的用户，这是一种良好的设计实践。

例如，我使用了像 a 这样简单的东西`HashMap`来实现数据访问层的模拟。这使得每个单元测试都*非常*容易确保其目的所必需的条件准确存在，并验证在数据访问层上进行了正确的调用。

# cocoa - Objective-C++ 的支持程度如何？

> ID：406753
> 
> 赞同：33
> 
> 时间：2009-01-02T13:09:16.497
> 
> 标签：cocoa, objective-c++

我一直在通过[Hillegass的书](https://rads.stackoverflow.com/amzn/click/com/0321503619)学习Objective-C和Cocoa，我突然想到使用Objective-C++可能会更好。Objective-C 似乎是开发 UI 的明确选择，但我有非常强大的 C++ 背景，并且很想用 C++ 开发应用程序后端并使用 Objective-C++ 进行 UI 集成。但我想知道苹果是否会继续开发 Objective-C++ 还是会成为死胡同。

有人在使用 Objective-C++ 吗？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2009-01-02T16:10:32.637

免责声明：我不为 Apple 工作或发言，所以这是我的观点：

我不能代表主要的开发商店，但在我的小组中，我们使用 Objective-C++ 来集成 C++ 库，以及您建议用 C++ 编写后端。正如@alxp 所提到的，跨语言边界处理异常之类的事情很痛苦，但只要稍加规划，这些痛苦中的大部分都可以避免。对于有经验的 C++ 开发人员来说，所获得的收益是值得的。

在支持方面，我认为您可以假设当前状态下的支持不会很快消失。它是 GCC 代码库的一部分，并且[Clang](http://clang.llvm.org/)工具链（Apple 的下一个编译器工具链）完全支持 Objective-C++。另一方面，没有任何官方保证苹果会继续开发集成——例如修复一些缺陷。

对于当前的项目，我想说如果使用 Objective-C++ 有好处，那么依靠现有的支持是安全的，你应该使用它。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-01-02T13:46:20.353

我使用 ObjC++ 的唯一一次是移植库以使它们可以从我的 ObjC 代码中访问。ObjC++ 和 ObjC 如何处理异常以及类创建和销毁等问题之间的冲突使得在一个项目中兼顾两种语言变得非常头疼。

我认为 Cocoa / Java 的支持不会很快消失，因为它是 GCC 的一部分，而且 Objective-C++ 编译为直接 C++ 的方式与 Objective-C 可以直接编译的方式相同C，但与 Objective-C 相比，我仍然觉得它不是一个非常愉快的软件构建环境，并且能够舒适地充分使用 OS X 提供的框架。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2009-01-02T14:01:31.133

只要 Objective-C 还支持，Objective-C++ 就可能会继续受到支持。Obj-C++ 是[clang](http://clang.llvm.org/)的一个基本目标，它有望最终取代 gcc 成为 Apple 的首选编译器。随着 Carbon 应用程序转移到 Cocoa 前端，使用量可能会增加。

当然，“可能”这个词在上面出现了两次，因为苹果是如此令人兴奋地不可预测。:-)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-01-02T14:55:12.583

我怀疑 Apple 会在一段时间内继续支持 Objective C++，因为随着 Apple 更新 Cocoa 和 Objective C++，我没有看到 Apple 需要任何重大的重复性工作来维护 Objective C++。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-03-02T06:07:09.783

前几天，当我尝试使用 Xcode 的重构支持重构 Objective-C++ 文件中的一些 Objective-C 代码时，我感到很惊讶。即使启用了菜单项，我也得到了“无法重构 Objective-C++ 代码。Xcode 只能重构 C 和 Objective-C 代码。” 错误信息。因此，虽然 Objective-C++ 的编译将继续无限期地运行，但我怀疑 Objective-C++ 将成为 Xcode 中的二等公民。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T01:13:58.297

我把它从我所有的代码中拿出来。没有 .mm 文件。

但是您需要 .cpp 文件才能与 .m 文件通信。解决方案是保持血脑屏障完整的 .c/.h 文件。

带有 Objective-C 的 C++ 通常是太多的包袱。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-07-03T02:55:21.953

Objective-C 实际上只是一堆在 C 语言中模拟对象的 C 代码，它仍然使用 C 编译器，包括 Objective-C 头文件。使用 Objective-C++ 使用 C++ 编译器并将 Objective-C 头文件包含为 C 代码，因为 C++ 将运行 C 代码。Objective-C++ 本质上就是 C、C++ 和 Objective-C（实际上就是 C）

# language-agnostic - 你最有争议的编程观点是什么？

> ID：406760
> 
> 赞同：363
> 
> 时间：2009-01-02T13:14:26.767
> 
> 标签：language-agnostic

这绝对是主观的，但我想尽量避免它变得有争议。我认为如果人们适当地对待它，这可能是一个有趣的问题。

这个问题的想法来自我对[“你最喜欢的语言有哪五件事讨厌？”的](https://stackoverflow.com/questions/282329)[回答中的评论线程。](https://stackoverflow.com/questions/282329/what-are-five-things-you-hate-about-your-favorite-language#282342)[问题](https://stackoverflow.com/questions/282329)。我认为 C# 中的类默认情况下应该是密封的——我不会在问题中提出我的推理，但我可能会写一个更完整的解释来回答这个问题。我对评论中讨论的激烈程度感到惊讶（目前有 25 条评论）。

那么，*你*持有哪些有争议的观点？我宁愿避免那种以相对较少的基础（例如大括号放置）而最终变得非常虔诚的事情，但示例可能包括诸如“单元测试实际上并不是非常有帮助”或“公共领域真的没问题”之类的事情。重要的是（对我来说，无论如何）是你的观点背后有理由。

请提出您的意见和理由 - 我鼓励人们投票支持有充分理由和有趣的意见，无论您是否同意。

* * *

## 回答 #1

> 赞同：872
> 
> 时间：2009-01-02T22:13:29.470

**业余时间不写代码的程序员永远不会像那些写代码的人那样优秀。**

我认为即使是最聪明和最有才华的人也永远不会成为真正优秀的程序员，除非他们将其视为一份工作。这意味着他们在业余时间做一些小项目，或者只是在业余时间弄乱许多不同的语言和想法。

（注：我不是说优秀的程序员除了编程什么都不做，但他们做的不仅仅是从 9 到 5 的程序）

* * *

## 回答 #2

> 赞同：769
> 
> 时间：2009-01-02T13:21:32.243

**你应该一直使用的唯一“最佳实践”是“使用你的大脑”。**

太多的人加入太多的潮流，并试图将方法、模式、框架等强加到不值得他们这么做的事情上。仅仅因为某些东西是新的，或者因为受人尊敬的人有意见，并不意味着它适合所有人:)

编辑：澄清一下——我认为人们不应该忽视最佳实践、有价值的意见等。只是人们不应该盲目地跳上某事而不考虑为什么这个“东西”如此伟大，它是否适用于我正在做，它带来了什么好处/缺点？

* * *

## 回答 #3

> 赞同：710
> 
> 时间：2009-01-02T20:51:20.777

**“谷歌搜索”没问题！**

是的，我知道这冒犯了一些人，他们多年的强烈记忆和/或光荣的编程书籍堆栈开始被任何人都可以在几秒钟内访问的资源所取代，但你不应该反对人们使用它。

我经常听到在谷歌上搜索问题的答案是批评的结果，这真的是毫无意义的。首先，必须承认每个人都需要参考资料。你不是什么都知道，你需要查一下。承认这一点，你从哪里得到信息真的很重要吗？如果你在书中查到它，在谷歌上查到它，或者从你产生幻觉的一只会说话的青蛙那里听到它，这有关系吗？不，正确的答案就是正确的答案。

重要的是您了解材料，将其用作成功编程解决方案的手段，并且客户/您的雇主对结果感到满意。

（虽然如果你从会说话的幻觉青蛙那里得到答案，你可能还是应该得到一些帮助）

* * *

## 回答 #4

> 赞同：710
> 
> 时间：2009-01-02T13:44:11.900

**代码中的大多数注释实际上是一种有害的代码重复形式。**

我们大部分时间都在维护其他人（或我们自己）编写的代码，而糟糕的、不正确的、过时的、误导性的注释必须接近代码中最烦人的工件列表的顶部。

我认为最终很多人只是将它们排除在外，尤其是那些花盆怪物。

更好地专注于使代码可读，根据需要进行重构，并尽量减少惯用语和古怪之处。

另一方面，许多课程都教导说注释几乎比代码本身更重要，导致*下一行添加了一个到 invoiceTotal*样式的注释。

* * *

## 回答 #5

> 赞同：693
> 
> 时间：2009-01-03T11:04:23.003

**XML 被严重高估了**

我认为太多人在动脑筋之前就加入了 XML 潮流……用于 Web 的 XML 很棒，因为它是为它设计的。否则，我认为一些*问题定义*和*设计*思想应该抢占任何使用它的决定。

我的 5 美分

* * *

## 回答 #6

> 赞同：678
> 
> 时间：2009-01-02T13:59:17.457

**并非所有程序员生来都是平等的**

很多时候，经理们认为 DeveloperA == DeveloperB 仅仅是因为他们具有相同水平的经验等等。实际上，一个开发人员的性能可以是另一个开发人员的 10 倍甚至 100 倍。

谈论它在政治上是有风险的，但有时我想指出，即使几个团队成员*看起来*技能相同，但情况并非总是如此。我什至见过首席开发人员“超出希望”而初级开发人员完成所有实际工作的案例——不过，我确保他们得到了赞誉。:)

* * *

## 回答 #7

> 赞同：612
> 
> 时间：2009-01-02T13:28:46.940

**我不明白为什么人们认为 Java 绝对是大学里最好的“第一”编程语言。**

一方面，我认为第一种编程语言应该强调学习控制流和变量的必要性，而不是对象和语法

另一方面，我相信没有在 C/C++ 中调试内存泄漏经验的人无法完全理解 Java 带来的好处。

此外，自然的进展应该是从“我怎么能做到这一点”到“我怎么能找到做到这一点的图书馆”，而不是相反。

* * *

## 回答 #8

> 赞同：539
> 
> 时间：2009-01-02T13:59:23.803

**如果你只知道一种语言，不管你对它有多了解，你都不是一个伟大的程序员。**

似乎有一种态度说，一旦你真正擅长 C# 或 Java 或任何其他你开始学习的语言，那么你所需要的就是这些。我不相信——我学过的每一种语言都教会了我一些关于编程的新知识，我能够将它们带回我的工作中。我认为任何将自己限制在一种语言上的人都不会做到最好。

这也表明我缺乏好奇心和实验意愿，这并不一定符合我期望在一个真正优秀的程序员身上找到的品质。

* * *

## 回答 #9

> 赞同：535
> 
> 时间：2009-01-02T14:03:21.473

**性能*确实*很重要。**

* * *

## 回答 #10

> 赞同：488
> 
> 时间：2009-01-02T18:27:28.583

**打印语句是调试代码的有效方法**

我相信通过乱扔代码`System.out.println`（或任何适用于您的语言的打印语句）来调试代码是非常好的。通常，这比调试更快，您可以将打印输出与应用程序的其他运行进行比较。

只需确保在投入生产时删除打印语句（或者更好的是，将它们转换为日志语句）

* * *

## 回答 #11

> 赞同：467
> 
> 时间：2009-01-04T10:33:27.777

**Your job is to put yourself out of work.**

When you're writing software for your employer, any software that you create is to be written in such a way that it can be picked up by any developer and understood with a minimal amount of effort. It is well designed, clearly and consistently written, formatted cleanly, documented where it needs to be, builds daily as expected, checked into the repository, and appropriately versioned.

If you get hit by a bus, laid off, fired, or walk off the job, your employer should be able to replace you on a moment's notice, and the next guy could step into your role, pick up your code and be up and running within a week tops. If he or she can't do that, then you've failed miserably.

Interestingly, I've found that having that goal has made me more valuable to my employers. The more I strive to be disposable, the more valuable I become to them.

* * *

## 回答 #12

> 赞同：465
> 
> 时间：2009-01-02T13:51:09.267

**1) 商业应用闹剧**：

我认为整个“企业”框架都是雾里看花。J2EE、.NET、大多数 Apache 框架和管理此类事物的大多数抽象都产生了远比它们解决的复杂性。

采用任何常规的 Java 或 .NET ORM，或任何所谓的现代 MVC 框架，它们都可以“神奇”地解决繁琐、简单的任务。您最终会编写大量难以验证和快速编写的难看的 XML 样板。你有大量的 API，其中一半只是为了集成其他 API 的工作，不可能回收的接口，以及只需要克服 Java 和 C# 的不灵活的抽象类。我们根本不需要大部分。

所有不同的应用程序服务器都有自己的描述符语法，过于复杂的数据库和群件产品呢？

重点不是复杂性==坏，而是不必要的复杂性==坏。我曾在大型企业安装中工作过，其中一些是必要的，但即使在大多数情况下，解决大多数用例也只需要一些本地脚本和一个简单的 Web 前端。

我会尝试用简单的 Web 框架、开源数据库和琐碎的编程结构来替换所有这些企业级应用程序。

**2) 所需的 n 年经验：**

除非您需要顾问或技术人员来处理与应用程序、API 或框架相关的特定问题，否则您实际上并不需要在该应用程序方面拥有 5 年经验的人。你需要的是一个可以阅读文档的开发人员/管理员，无论你在做什么，他都具有领域知识，并且可以快速学习。如果您需要使用某种语言进行开发，一个体面的开发人员会在不到 2 个月的时间内完成。如果您需要 X Web 服务器的管理员，他应该在两天内阅读手册页和新闻组并掌握最新信息。任何更少的东西，那个人都不值得他得到的报酬。

**3）常见的“计算机科学”学位课程：**

大多数计算机科学和软件工程学位都是公牛的。如果您的第一种编程语言是 Java 或 C#，那么您做错了什么。如果你没有上几门充满代数和数学的课程，那就错了。如果您不深入研究函数式编程，那么它是不完整的。如果你不能将循环不变量应用到一个微不足道的 for 循环中，那么作为一个所谓的计算机科学家，你不值得你的盐。如果你有 x 和 y 语言和面向对象的经验，那它就充满了 s***。一个真正的计算机科学家会根据它使用的概念和语法来看待一种语言，并将编程方法视为众多方法中的一种，并且对两者的基本哲学有很好的理解，因此选择新的语言、设计方法或规范语言应该微不足道。

* * *

## 回答 #13

> 赞同：439
> 
> 时间：2009-01-02T13:41:59.783

**Getter 和 Setter 被过度使用**

我见过数以百万计的人声称公共领域是邪恶的，所以他们将它们设为私有并为所有人提供 getter 和 setter。我相信这与公开字段几乎相同，如果您使用线程（但通常不是这种情况）或者您的访问器具有业务/表示逻辑（至少有些“奇怪”），可能会有所不同。

我不赞成公共领域，但反对为他们每个人制作一个getter/setter（或属性），然后声称这样做是**封装**或**信息隐藏**......哈！

**更新：**

这个答案在它的评论中引起了一些争议，所以我会试着澄清一下（我会保持原样不变，因为这是很多人赞成的）。

首先：**任何使用公共领域的人都应该坐牢**

现在，创建私有字段然后使用 IDE*为每个字段自动生成 getter 和 setter*几乎与使用公共字段**一样糟糕。**

很多人认为：

`private fields + public accessors == encapsulation`

我说（自动或不）为您的字段生成 getter/setter 对有效地违背了您试图实现的所谓封装。

最后，让我在这个话题中引用[鲍勃叔叔](http://en.wikipedia.org/wiki/Robert_Cecil_Martin)的话（摘自“清洁代码”的第 6 章）：

> 我们将变量保密是有原因的。我们不希望其他人依赖他们。我们希望自由地随心所欲地改变它们的类型或实现。那么，为什么这么多程序员会自动将 getter 和 setter 添加到他们的对象中，像公开他们的私有字段**一样暴露他们的私有字段？**

* * *

## 回答 #14

> 赞同：383
> 
> 时间：2009-01-03T09:47:00.350

**UML 图被高估了**

当然也有有用的图表，例如[复合模式的类图](http://en.wikipedia.org/wiki/Composite_pattern)，但是很多 UML 图表完全没有价值。

* * *

## 回答 #15

> 赞同：380
> 
> 时间：2009-01-02T14:50:17.087

**意见：SQL 就是代码。如此对待**

也就是说，就像您的 C#、Java 或其他喜欢的对象/过程语言一样，开发一种可读且可维护的格式化样式。

我讨厌看到草率的自由格式 SQL 代码。如果您在页面上看到两种样式的花括号时尖叫，当您看到自由格式的 SQL 或模糊或混淆 JOIN 条件的 SQL 时，为什么或为什么不尖叫？

* * *

## 回答 #16

> 赞同：354
> 
> 时间：2009-01-02T16:40:11.373

**可读性是代码最重要的方面。**

甚至比正确性更重要。如果它是可读的，它很容易修复。它也易于优化、易于更改、易于理解。希望其他开发人员也可以从中学到一些东西。

* * *

## 回答 #17

> 赞同：341
> 
> 时间：2009-01-02T14:43:10.473

**如果您是开发人员，您应该能够编写代码**

去年我做了很多面试，在我的面试中，我应该测试人们的思维方式，以及他们如何在白板上实现简单到适度的算法。我最初是从以下问题开始的：

> 假设 Pi 可以使用函数 4 * (1 - 1/3 + 1/5 - 1/7 + ...) 来估计，更多的项可以提供更高的精度，请编写一个函数来计算 Pi 到小数点后 5 位的精度.

这是一个应该让您思考的问题，但对于经验丰富的开发人员来说不应该是遥不可及的（大约 10 行 C# 即可回答）。然而，我们的许多（据说是由该机构预先筛选的）候选人甚至无法开始回答这个问题，甚至无法解释他们可能会如何回答这个问题。所以过了一会儿，我开始问一些更简单的问题，比如：

> 给定圆的面积是 Pi 乘以半径的平方，编写一个函数来计算圆的面积。

令人惊讶的是，超过一半的候选人不能用*任何*语言编写这个函数（我可以阅读最流行的语言，所以我让他们使用他们选择的任何语言，包括伪代码）。我们有“C# 开发人员”无法用 C# 编写此函数。

我对此感到惊讶。我一直认为开发人员应该能够编写代码。现在看来，这是一个有争议的观点。当然是在面试候选人中！

* * *

**编辑：**

评论里有很多关于第一个问题是好还是坏的讨论，以及你是否应该在面试中提出如此复杂的问题。我不打算在这里深入研究这个（这是一个全新的问题），除了说*你在很大程度上错过了这篇文章的重点*。

是的，我说人们在这方面无法取得任何进展，但第二个问题是*微不足道*的，很多人也无法在那个问题上取得任何进展！*任何*自称开发人员的人都应该能够在几秒钟内写下第二个问题的答案，甚至无需思考。许多人做不到。

* * *

## 回答 #18

> 赞同：331
> 
> 时间：2009-01-02T13:48:19.083

**使用匈牙利符号应处以死刑。**

这应该是足够有争议的；）

* * *

## 回答 #19

> 赞同：287
> 
> 时间：2009-01-02T13:38:52.647

**设计模式对好的设计的伤害大于对它的帮助。**

IMO 软件设计，尤其是优秀的软件设计，种类繁多，无法在模式中有意义地捕捉到，尤其是在人们能够真正记住的少数模式中——而且它们太抽象，人们无法真正记住更多的模式。所以他们没有多大帮助。

另一方面，太多的人迷上了这个概念并试图在任何地方应用模式——通常，在生成的代码中，你无法在所有（完全没有意义的）单例和抽象工厂之间找到实际的设计。

* * *

## 回答 #20

> 赞同：274
> 
> 时间：2009-01-04T03:32:37.953

**更少的代码比更多的更好！**

如果用户说“就这样？”，而您的工作仍然不可见，那么它就做得对了。荣耀可以在别处找到。

* * *

## 回答 #21

> 赞同：266
> 
> 时间：2009-01-02T18:00:33.507

**PHP 很烂 ;-)**

证据就在布丁里。

* * *

## 回答 #22

> 赞同：262
> 
> 时间：2009-01-02T15:08:40.030

**单元测试不会帮助你写出好的代码**

进行单元测试的唯一原因是确保已经运行的代码不会中断。先写测试，或者给测试写代码是荒谬的。如果您在代码之前编写测试，您甚至不会知道边缘情况是什么。您可能拥有通过测试但在不可预见的情况下仍然失败的代码。

此外，优秀的开发人员会保持低凝聚力，这将使添加新代码不太可能导致现有内容出现问题。

事实上，我会进一步概括，

**软件工程中的大多数“最佳实践”都是为了防止糟糕的程序员造成太大的损害**。

他们在那里帮助糟糕的开发人员，防止他们犯愚蠢的错误。当然，既然大部分开发者都是坏人，这是好事，但是好的开发者应该能过关。

* * *

## 回答 #23

> 赞同：256
> 
> 时间：2009-01-02T13:41:03.280

**写小方法。** 似乎程序员喜欢编写很长的方法，他们可以在其中做多种不同的事情。

我认为应该在可以命名的任何地方创建一种方法。

* * *

## 回答 #24

> 赞同：235
> 
> 时间：2009-01-02T14:21:11.670

**偶尔写一次垃圾代码是可以的**

有时，完成一项特定任务只需要一段快速而肮脏的垃圾代码。模式、ORM、SRP 等等……抛出一个控制台或 Web 应用程序，编写一些内联 sql（感觉很好），然后提出需求。

* * *

## 回答 #25

> 赞同：196
> 
> 时间：2009-01-02T14:15:27.127

**代码 == 设计**

我不喜欢复杂的 UML 图和无穷无尽的代码文档。在高级语言中，您的代码应该是可读和可理解的。复杂的文档和图表实际上不再是用户友好的。

* * *

这是一篇关于[Code as Design](http://www.developerdotstar.com/mag/articles/reeves_design_main.html)主题的文章。

* * *

## 回答 #26

> 赞同：186
> 
> 时间：2009-01-02T15:17:31.057

**软件开发只是一份工作**

不要误会我的意思，我非常喜欢软件开发。在过去的几年里，我写了一篇关于这个主题的博客。我已经在这里花费了足够的时间来获得> 5000个声望点。我在一家初创公司工作，通常每周工作 60 小时，而我作为承包商获得的钱要少得多，因为团队很棒而且工作很有趣。

但在宏伟的计划中，这只是一份工作。

它的重要性低于家庭、我的女朋友、朋友、幸福等许多事情，如果我有无限的现金供应，我宁愿做的其他事情，比如骑摩托车、帆船或滑雪板。

我认为有时很多开发人员忘记了开发只是让我们拥有生活中更重要的东西（并通过做我们喜欢的事情来拥有它们）而不是最终目标本身。

* * *

## 回答 #27

> 赞同：184
> 
> 时间：2009-01-02T13:42:25.930

我也认为**在源代码控制中使用二进制文件没有任何问题**..如果有充分的理由。如果我有一个我没有源代码的程序集，并且可能不一定在每台开发机器上的同一位置，那么我通常会将它放在“二进制”目录中，并使用相对路径在项目中引用它.

很多人似乎认为我应该因为在同一句话中提到“源代码控制”和“二进制”而被烧死。我什至知道有些地方有严格的规定，说你不能添加它们。

* * *

## 回答 #28

> 赞同：180
> 
> 时间：2009-01-02T13:54:08.760

**每个开发人员都应该熟悉现代计算机的基本架构。**这也适用于以虚拟机为目标的开发人员（可能更是如此，因为他们一次又一次地被告知他们不需要担心内存管理等）

* * *

## 回答 #29

> 赞同：163
> 
> 时间：2009-01-02T22:19:53.780

**软件架构师/设计师被高估了**

作为一名开发人员，我讨厌软件架构师的想法。他们基本上是不再全职编码，阅读杂志和文章，然后告诉你如何设计软件的人。只有真正以全职编写软件为生的人才应该这样做。我不在乎你在 5 年前成为架构师之前是否是世界上最好的程序员，你的意见对我来说毫无用处。

有争议怎么办？

编辑（澄清）：我认为大多数软件架构师都是出色的业务分析师（与客户交谈、编写需求、测试等），我只是认为他们在设计软件方面没有地位，无论是高水平的还是其他的。

* * *

## 回答 #30

> 赞同：152
> 
> 时间：2009-01-02T14:21:49.173

**没有“一刀切”的开发方法**

我很惊讶这是一个有争议的观点，因为在我看来这就像常识。然而，在流行的博客上有很多文章提倡“一刀切”的开发方法，所以我想我实际上可能是少数。

我所看到的被吹捧为*任何项目**的*正确方法的东西——在任何信息被知道之前——比如使用测试驱动开发 (TDD)、领域驱动设计 (DDD)、对象关系映射 (ORM) 、敏捷（大写 A）、面向对象（OO）等，涵盖了从方法论到架构再到组件的所有内容。当然，所有这些都带有很好的适销对路的首字母缩略词。

 *人们甚至似乎在他们的博客上贴上诸如“我是试驾”之类的徽章，好像他们严格遵守单一方法无论项目项目的细节实际上是*一件好事*。

它不是。

选择正确的方法、架构和组件等，应该基于*每个项目*进行，并且不仅取决于您正在从事的项目类型及其独特要求，还取决于规模和能力与您合作的团队。

* * *

## 回答 #31

> 赞同：148
> 
> 时间：2009-01-03T17:40:23.063

**大多数专业程序员都很烂**

我遇到过太多的人为了他们的生活而做这份工作，他们对他们所做的事情完全是蹩脚的。蹩脚的代码，糟糕的沟通技巧，对新技术毫无兴趣。太多了，太多了……

* * *

## 回答 #32

> 赞同：115
> 
> 时间：2009-01-03T05:31:57.510

**A degree in computer science does not---and is not supposed to---teach you to be a programmer.**

Programming is a trade, computer science is a field of study. You can be a great programmer and a poor computer scientist and a great computer scientist and an awful programmer. It is important to understand the difference.

If you want to be a programmer, learn Java. If you want to be a computer scientist, learn at least three almost completely different languages. e.g. (assembler, c, lisp, ruby, smalltalk)

* * *

## 回答 #33

> 赞同：101
> 
> 时间：2009-01-02T17:35:49.377

**SESE（Single Entry Single Exit）不合法**

例子：

```
public int foo() {
   if( someCondition ) {
      return 0;
   }

   return -1;
} 
```

与：

```
public int foo() {
   int returnValue = -1;

   if( someCondition ) {
      returnValue = 0;
   }

   return returnValue;
} 
```

我和我的团队发现，一直遵守这一点实际上在很多情况下会适得其反。

* * *

## 回答 #34

> 赞同：100
> 
> 时间：2009-01-03T00:34:34.443

**C++ 是有史以来最糟糕的编程语言之一。**

它具有委员会设计的东西的所有特征——它不能很好地完成任何给定的工作，并且在某些工作（如 OO）方面做得非常糟糕。它有一个“厨房水槽”的绝望，不会消失。

学习编程是一种可怕的“第一语言”。你没有优雅，没有帮助（来自语言）。相反，您有陷阱和雷区（内存管理、模板等）。

尝试学习 OO 概念并不是一门好语言。它表现为“带有类包装器的 C”，而不是正确的 OO 语言。

我可以继续说下去，但现在就这样吧。我从不喜欢用 C++ 编程，虽然我在 FORTRAN 上“咬牙切齿”，但我完全喜欢用 C 编程。我仍然认为 C 是伟大的“经典”语言之一。在我看来，C++ 肯定不是。

干杯，

-R

编辑：回应关于教授 C++ 的评论。您可以通过两种方式教授 C++ - 将其作为“类固醇”的 C 进行教学（从变量、条件、循环等开始），或者将其作为纯“OO”语言进行教学（从类、方法等开始）。您可以找到使用这些方法中的一种或其他方法的教学文本。我更喜欢后一种方法（首先是面向对象），因为它确实强调了 C++ 作为面向对象语言的功能（这是 C++ 最初的设计重点）。如果你想“像 C”一样教 C++，那么我认为你应该教 C，而不是 C++。

但根据我的经验，将 C++ 作为第一语言的问题在于该语言太大而无法在一个学期内教授，而且大多数“介绍”文本都试图涵盖所有内容。根本不可能涵盖“第一语言”课程中的所有主题。你必须至少把它分成两个学期，然后它就不再是“第一语言”了，IMO。

我确实教 C++，但只是作为一种“新语言”——也就是说，您必须先精通一些以前的“纯”语言（不是脚本或宏），然后才能注册该课程。IMO，C ++是一种非常好的学习“第二语言”。

-R

'另一个编辑：（对康拉德）

我完全不同意 C++“在各个方面都优于 C”。我花了数年时间为微控制器和其他嵌入式应用程序编写 C 程序。这些设备的 C 编译器经过高度优化，生成的代码通常与手工编码的汇编程序一样好。当您迁移到 C++ 时，您会获得编译器带来的巨大开销，以便管理您可能不使用的语言功能。在嵌入式应用程序中，您通过添加类等 IMO 获得的收益很少。你需要的是紧凑、干净的代码。您可以用 C++ 编写它，但实际上您只是在编写 C，而且 C 编译器在这些应用程序中更加优化。

我为嵌入式控制器（声卡）编写了一个 MIDI 引擎，首先是 C，后来是 C++（应供应商的要求）。最后，为了满足性能要求（MIDI 时序等），我们必须将所有核心代码恢复为纯 C。我们能够将 C++ 用于高级代码，并且拥有类非常棒——但我们需要 C 来获得较低级别的性能。C 代码比 C++ 代码快一个数量级，但手工编码的汇编程序只比编译的 C 代码快一点。这是在 1990 年代初，只是为了正确放置事件。

-R

* * *

## 回答 #35

> 赞同：94
> 
> 时间：2009-01-02T20:28:37.153

**你必须知道如何打字才能成为一名程序员。**

这在那些不知道如何打字的人中是有争议的，但他们坚持认为他们可以像任何打字员一样快速地用两根手指狩猎和啄食，或者他们真的不需要花那么多时间打字，或者Intellisense 消除了打字的需要...

*我从来没有*遇到过谁知道如何打字，但坚持认为这并没有什么不同。

另见： [编程最肮脏的小秘密](http://steve-yegge.blogspot.com/2008/09/programmings-dirtiest-little-secret.html)

* * *

## 回答 #36

> 赞同：89
> 
> 时间：2009-01-15T07:52:18.697

**懒惰的程序员是最好的程序员**

懒惰的程序员通常会想办法减少编写代码（尤其是大量相似或重复的代码）所花费的时间。这通常转化为公司/团队中的其他开发人员可以从中受益的工具和工作流程。

当开发人员遇到类似的项目时，他可能会创建工具来引导开发过程（例如，创建与公司的数据库设计范例一起工作的 DRM 层）。

此外，像这样的开发人员经常使用某种形式的代码生成。这意味着相同类型的所有错误（例如，代码生成器没有检查所有方法的空参数）通常可以通过修复生成器而不是修复该错误的 50 多个实例来修复。

一个懒惰的程序员可能需要几个小时才能推出第一个产品，但会为您节省几个月的时间。

* * *

## 回答 #37

> 赞同：89
> 
> 时间：2009-01-04T02:14:34.647

**计算机科学或其他 IT 领域的学位确实使您成为更全面的程序员**

我不在乎你有多少年的经验，你读过多少博客，你参与了多少开源项目。资格（我建议超过 3 年）让你以不同的方式接触思考，并为您打下良好的基础。

仅仅因为您编写的代码比拥有计算机科学学士学位的人更好，并不意味着您比他更好。你拥有的东西他可以在瞬间捡起，而反过来却并非如此。

拥有资格表明您的承诺，即您将超越经验以使您成为更好的开发人员的事实。擅长他们所做并拥有资格的开发人员可能非常令人生畏。

如果这个答案被否决，我不会感到惊讶。

此外，一旦您获得资格，您就会慢慢停止将自己与有资格的人进行比较（我的经验）。你意识到这一切到最后都无所谓，只要你们能很好地合作。

无论资格如何，始终对其他开发人员保持仁慈。

* * *

## 回答 #38

> 赞同：87
> 
> 时间：2009-01-03T20:36:46.233

**除非你能解释为什么需要它，否则不要使用继承。**

* * *

## 回答 #39

> 赞同：86
> 
> 时间：2009-01-02T13:15:45.937

**世界需要更多 GOTO**

GOTO 经常被虔诚地避免，除了“我的教授告诉我 GOTO 很糟糕”之外，没有任何理由。他们有一个目的，并且会在许多地方大大简化生产代码。

也就是说，在您编写的 99% 的代码中，它们并不是真正需要的。

* * *

## 回答 #40

> 赞同：80
> 
> 时间：2009-01-02T17:02:01.800

我以前因为在公共场合传播这些意见而被烧死，但这里是：

**用动态类型语言编写好的代码遵循静态类型约定**

在使用过 Python、PHP、Perl 和其他一些动态类型语言之后，我发现用这些语言编写好的代码遵循静态类型约定，例如：

*   重用具有不同类型的变量被认为是不好的风格（例如，采用列表变量并分配一个 int，然后在同一方法中为变量分配一个 bool 的坏风格）。动态类型语言中编写良好的代码不会混合类型。

*   静态类型语言中的类型错误仍然是动态类型语言中的类型错误。

*   函数通常被设计为一次对单个数据类型进行操作，因此接受类型参数的函数`T`只能与类型的对象`T`或子类一起使用`T`。

*   旨在对许多不同数据类型进行操作的函数的编写方式将参数约束到定义良好的接口。一般而言，如果两个类型的对象`A`执行`B`相似的功能，但不是彼此的子类，那么它们几乎肯定实现了相同的接口。

虽然动态类型语言确实提供了不止一种解决问题的方法，但这些语言中大多数编写良好的惯用代码都密切关注类型，就像用静态类型语言编写的代码一样严格。

**动态类型不会减少程序员需要编写的代码量**

当我指出这么多静态类型约定跨越到动态类型世界是多么奇怪时，我通常会添加“那么为什么要使用动态类型语言开始呢？”。即时响应类似于能够编写更简洁、更具表现力的代码，因为动态类型允许程序员省略类型注释和显式定义的接口。然而，我认为最流行的静态类型语言，例如 C#、Java 和 Delphi，在设计上都很笨重，而不是因为它们的类型系统。

我喜欢使用像 OCaml 这样具有*真实*类型系统的语言，它不仅是静态类型的，而且它的类型推断和结构类型允许程序员省略大多数类型注释和接口定义。

ML 语言家族的存在表明，我们可以享受静态类型的好处，同时又能以动态类型语言编写简洁。实际上，我将 OCaml 的 REPL 用于临时的一次性脚本，就像其他人使用 Perl 或 Python 作为脚本语言一样。

* * *

## 回答 #41

> 赞同：76
> 
> 时间：2009-07-21T16:45:27.773

**整天在 Stackoverflow 上回答问题的程序员可能没有做他们得到报酬的工作。**

* * *

## 回答 #42

> 赞同：72
> 
> 时间：2009-01-02T17:18:02.033

**代码布局很重要**

也许括号位置的细节应该保持纯粹的宗教论点 - 但这并不意味着所有布局样式都是平等的，或者根本没有客观因素！

问题是布局的超级规则，即：“保持一致”，听起来，被许多人用作拐杖，从不尝试查看他们的默认样式是否可以改进 - 而且，它*没关系*。

几年前我在学习速读技巧，我学到了一些关于眼睛如何吸收“注视”中的信息，可以最优化地扫描页面，以及下意识地拾取上下文的作用，让我思考如何这适用于代码——尤其是在编写代码时要牢记这一点。

它使我采用了一种倾向于柱状的风格，标识符在可能的情况下进行逻辑分组和对齐（特别是我严格要求每个方法参数都在自己的行上）。然而，与长列不变的结构相比，改变块中的结构实际上是有益的，这样你最终会得到一个长方形的岛屿，眼睛可以在一个固定装置中看到——即使你没有有意识地阅读每个字符。

最终结果是，一旦你习惯了它（通常需要 1-3 天），它就会变得赏心悦目，更容易和更快地理解，并且对眼睛和大脑的负担更少，因为它的布局方式这使得更容易接受。

几乎无一例外，我要求尝试这种风格的每个人（包括我自己）最初都说，“啊，我讨厌它！”，但一两天后，说，“我喜欢它——我发现很难不回去并以这种方式重写我所有的旧东西！”。

我一直希望能抽出时间做更多的对照实验，收集足够的证据来写一篇论文，但一直忙于其他事情。然而，这似乎是一个向对有争议的技术感兴趣的人提及它的好机会 :-)

[编辑]

我终于开始写博客了（在多年停留在“意义”阶段之后）：[第一部分](http://www.levelofindirection.com/journal/2009/9/24/code-formatting-in-c-part-one.html)，[第二部分](http://www.levelofindirection.com/journal/2009/10/5/code-formatting-in-c-part-two.html)，[第三部分](http://www.levelofindirection.com/journal/2009/11/11/code-formatting-in-c-part-three.html)。

* * *

## 回答 #43

> 赞同：71
> 
> 时间：2009-01-02T14:43:45.243

**意见：显式变量声明是一件好事。**

我永远不会理解让开发人员浪费昂贵的时间来追踪由变量名拼写错误引起的运行时错误，而不是简单地让编译器/解释器捕获它们的“智慧”。

从来没有人比“因为我不必写 'int i;' 可以节省时间”给我更好的解释。Uhhhhh... 是的，当然，但是跟踪运行时错误需要多长时间？

* * *

## 回答 #44

> 赞同：68
> 
> 时间：2009-01-02T14:41:35.857

**意见：“调试”和“发布”版本之间永远不会有不同的代码**

主要原因是发布代码几乎从未经过测试。最好在测试中运行与在野外运行相同的代码。

* * *

## 回答 #45

> 赞同：64
> 
> 时间：2009-01-02T23:49:29.213

**意见：开发人员应该测试自己的代码**

我已经看到太多的废话被交给了测试，结果却没有真正修复有问题的错误，产生了通信开销并助长了不负责任的做法。

* * *

## 回答 #46

> 赞同：63
> 
> 时间：2009-01-03T22:08:16.470

**分页永远不是用户想要的**

如果你开始讨论在哪里进行分页，在数据库中，在业务逻辑中，在客户端等等，那么你问错了问题。如果您的应用程序返回的数据超出了用户的需求，请找出一种方法让用户根据实际标准而不是任意大小的块来缩小他们需要的范围。如果用户真的想要所有这些结果，那么*就给他们所有的结果。*一次回馈 20 个，你在帮助谁？服务器？这比你的用户更重要吗？

[编辑：澄清，基于评论]

作为一个真实的例子，让我们看看*这个*Stack Overflow 问题。假设我有一个有争议的编程观点。在我发布之前，我想看看是否已经有一个解决相同观点的答案，所以我可以投票。我唯一的选择是点击答案的每一页。

我更喜欢以下选项之一：

1.  请允许我搜索答案（一种让我根据实际标准缩小我需要的范围的方法）。

2.  请允许我查看所有答案，以便我可以使用浏览器的“查找”选项（给我所有结果）。

如果我只想找到我以前读过的答案，但再也找不到了，这同样适用。我不知道它是什么时候发布的或者它有多少票，所以排序选项没有帮助。即使我这样做了，我仍然需要玩猜谜游戏才能找到正确的结果页面。答案是分页的，我可以直接点击十几个页面中的一个，这一事实*根本没有帮助*。

--
bmb

* * *

## 回答 #47

> 赞同：62
> 
> 时间：2009-01-02T13:17:31.800

**尊重单一职责原则**

乍一看，您可能不会认为这会引起争议，但根据我的经验，当我向另一位开发人员提到他们不应该在页面加载方法中做所有事情时，他们经常推回......所以对于孩子们，请停止构建我们经常看到的“做所有事情”的方法。

* * *

## 回答 #48

> 赞同：60
> 
> 时间：2009-01-03T20:32:34.773

**不编码的架构师是无用的。**

这听起来有些苛刻，但并非没有道理。如果您是系统的“架构师”，但没有亲身参与所采用的技术，那么您如何获得开发团队的尊重？你如何影响方向？

架构师需要做更多的事情（与利益相关者会面、与其他团队协商、评估供应商、编写文档、进行演示等）但是，如果您从未看到架构师签入的代码……请小心！

* * *

## 回答 #49

> 赞同：60
> 
> 时间：2009-01-22T07:07:24.887

**对象不应处于无效状态**

不幸的是，很多 ORM 框架都要求所有实体类的零参数构造函数，使用 setter 来填充成员变量。在这些情况下，很难知道必须调用哪些 setter 才能构造一个有效的对象。

```
MyClass c = new MyClass(); // Object in invalid state. Doesn't have an ID.
c.setId(12345); // Now object is valid. 
```

在我看来，一个对象应该*不可能*发现自己处于无效状态，并且类的 API 应该在每次方法调用后主动强制其类不变量。

构造函数和 mutator 方法应该以原子方式将对象从一种有效状态转换为另一种有效状态。这要好得多：

```
MyClass c = new MyClass(12345); // Object starts out valid. Stays valid. 
```

作为某些库的使用者，在尝试使用对象之前跟踪是否已调用所有正确的设置器是一件非常痛苦的事情，因为文档通常没有提供有关类合同的线索。

* * *

## 回答 #50

> 赞同：60
> 
> 时间：2009-01-02T14:55:44.877

**[源代码控制：除 SourceSafe 之外的任何东西](http://www.codinghorror.com/blog/archives/000660.html)**

另外：**独占锁定是邪恶的**。

我曾经在某个地方工作过，他们认为排他锁意味着您可以保证在您签入时人们不会覆盖其他人的更改。问题是为了完成任何工作，如果文件被锁定，开发人员只会更改他们的本地文件可写，并在有机会时将源代码控制与其版本合并（或覆盖）。

* * *

## 回答 #51

> 赞同：58
> 
> 时间：2009-01-02T14:16:12.633

**意见：单元测试不需要预先编写，有时根本不需要。**

推理：开发人员不擅长测试自己的代码。我们的确是。这就是我们通常有测试团队或 QA 组的原因。

大多数情况下，我们编写的代码与其他要单独测试的代码交织在一起，因此我们最终会跳过带图案的箍以提供可测试性。并不是说这些模式不好，但它们有时会增加不必要的复杂性，所有这些都是为了单元测试......

......这通常不起作用。编写一个全面的单元测试需要很多时间。通常比我们愿意付出更多的时间。并且测试越全面，如果它正在测试的事物的接口发生变化，它就会变得越脆弱，从而迫使重新编写不再编译的测试。

* * *

## 回答 #52

> 赞同：58
> 
> 时间：2009-01-02T15:06:12.627

**默认情况下，所有变量/属性都应为`readonly`/ `final`。**

这个推理有点类似于`sealed`Jon 提出的类论点。程序中的一个实体应该有一份工作，而且只有一份工作。特别是，对于大多数变量和属性来说，改变值绝对没有意义。基本上有两个例外。

1.  循环变量。但是，我认为该变量实际上根本没有改变值。相反，它在循环结束时超出范围，并在下一回合重新实例化。因此，不变性可以很好地与循环变量一起工作，任何试图手动更改循环变量值的人都应该直接下地狱。

2.  蓄能器。例如，想象一下对数组中的值进行求和的情况，或者甚至是一个列表/字符串，它会累积一些关于其他事物的信息。

    今天，有更好的方法来实现同样的目标。函数式语言有高阶函数，Python 有列表理解，.NET 有 LINQ。在所有这些情况下，都不需要可变的累加器/结果保持器。

    考虑字符串连接的特殊情况。在许多环境（.NET、Java）中，字符串实际上是不可变的。那么为什么要允许对字符串变量进行赋值呢？一直使用构建器类（即 a ）要好得多`StringBuilder`。

我意识到今天的大多数语言都不是为了默认我的愿望而构建的。在我看来，出于这个原因，所有这些语言都存在根本缺陷。如果将它们更改为默认情况下将所有变量视为只读并且在初始化后不允许对它们进行任何赋值，它们将不会失去其表现力、功能和易用性。

* * *

## 回答 #53

> 赞同：52
> 
> 时间：2009-01-03T17:32:53.343

**意识到有时足够好就是足够好，这是您作为程序员的价值的重大飞跃。**

请注意，当我说“足够好”时，我的意思是“足够好”，而不是碰巧起作用的废话。但是话又说回来，当您处于时间紧缩状态时，“一些碰巧起作用的废话”可能会被认为是“足够好”。

* * *

## 回答 #54

> 赞同：48
> 
> 时间：2009-01-02T13:19:11.670

如果我有争议，**我不得不建议 Jon Skeet 不是万能的。**

* * *

## 回答 #55

> 赞同：46
> 
> 时间：2009-01-02T22:22:15.163

**“Java 糟透了”** ——是的，我知道这种观点绝对不是所有人都持有的 :)

我有这种观点是因为我见过的大多数 Java 应用程序都是内存占用、运行缓慢、用户界面糟糕等等。

G人

* * *

## 回答 #56

> 赞同：45
> 
> 时间：2009-01-02T13:29:15.393

好的，我说过我会更详细地说明我的“密封类”意见。我想显示我感兴趣的答案的一种方法是自己给一个:)

**意见：C# 中的类默认应该是密封的**

**推理：**

毫无疑问，传承是强大的。但是，它必须有所指导。如果有人以完全出乎意料的方式从基类派生，这可能会破坏基实现中的假设。考虑基类中的两个方法，其中一个调用另一个 - 如果这些方法都是虚拟的，则必须记录该实现细节，否则有人可以相当合理地覆盖第二个方法并期望对第一个方法的调用起作用。当然，一旦实施记录在案，就无法更改……因此您失去了灵活性。

C# 通过默认密封方法向正确的方向（相对于 Java）迈出了一步。然而，我相信更进一步——让*类*默认密封——会更好。特别是，很容易覆盖方法（或不显式地密封您不覆盖的现有虚拟方法），以便最终出现意外行为。这实际上不会阻止您做任何您当前可以做的事情 - 它只是更改*默认值*，而不是更改可用选项。不过，这将是一个“更安全”的默认设置，就像 C# 中的默认访问始终是“当时可用的最私密的可见性”。

通过让人们*明确*声明他们希望人们能够从他们的课程中派生出来，我们会鼓励他们多考虑一下。它也可以帮助我解决我的懒惰问题——虽然我知道我*应该*封闭几乎所有的课程，但我实际上很少记得这样做:(

**相反的观点：**

我可以看到一个论点，它说没有虚拟方法的类可以相对安全地派生出来，而无需通常需要额外的不灵活性和文档。我现在不知道如何对付这个，除了说我相信意外打开的类的危害大于意外密封的类。

* * *

## 回答 #57

> 赞同：43
> 
> 时间：2009-01-03T20:20:19.013

**糟糕的程序员与语言无关**

一个非常糟糕的程序员几乎可以用任何语言编写糟糕的代码。

* * *

## 回答 #58

> 赞同：42
> 
> 时间：2009-01-03T17:14:35.720

**聪明的程序员是危险的**

我花了更多时间尝试修复“聪明”程序员编写的代码。我宁愿有一个优秀的程序员，也不愿有一个非常聪明的程序员，他想通过编写只有他（或她）才能解释的代码来证明自己有多聪明。

* * *

## 回答 #59

> 赞同：40
> 
> 时间：2009-01-02T21:53:19.107

**如果您知道如何编程，您不适合在表单上放置按钮**

有足够的争议吗？;)

无论我们如何努力，几乎不可能对必须使用我们的订单输入软件的 53 岁的 Doris 产生适当的同情。我们根本无法掌握她想象计算机内正在发生的事情的心理模型，因为我们不需要想象：我们*知道*发生了什么，或者有一个非常好的想法。

[交互设计](http://www.interaction-design.org/encyclopedia/interaction_design.html)应该由非程序员来完成。当然，这永远不会真正发生。矛盾的是，我对此很高兴。我喜欢 UI 设计，尽管我内心深处知道我不适合它。

如需更多信息，请阅读[《囚犯正在经营庇护所](http://www.cooper.com/insights/books/)》一书。请注意，我发现这本书令人不安和侮辱；如果您是一个关心用户体验的开发人员，那么这本书很难阅读。

* * *

## 回答 #60

> 赞同：40
> 
> 时间：2009-01-09T17:52:01.297

避免缩进。

使用提前返回、继续或中断。

代替：

```
if (passed != NULL)
{
   for(x in list)
   {
      if (peter)
      {
          print "peter";
          more code.
          ..
          ..
      }
      else
      {
          print "no peter?!"
      }
   }
} 
```

做：

```
if (pPassed==NULL)
    return false;

for(x in list)
{
   if (!peter)
   {
       print "no peter?!"
       continue;
   }

   print "peter";
   more code.
   ..
   ..
} 
```

* * *

## 回答 #61

> 赞同：38
> 
> 时间：2009-01-09T22:59:30.427

我可能会为此被烤，但是：

**在 python 中使不可见字符在语法上具有重要意义是一个坏主意**

它会分散注意力，会给新手带来很多微妙的错误，而且在我看来，这并不是真正需要的。关于我见过的唯一没有自愿遵循某种体面的格式化指南的代码来自一年级的 CS 学生。即使代码不遵循“好的”标准，也有很多工具可以强制它变成更令人愉悦的形状。

* * *

## 回答 #62

> 赞同：38
> 
> 时间：2009-01-02T14:22:29.907

在 1970 年 1 月 1 日之前，真假是相反的……

* * *

## 回答 #63

> 赞同：37
> 
> 时间：2009-01-02T14:13:00.953

**您不必对所有内容进行编程**

我厌倦了一切，但是一切都需要塞进一个程序中，这样总是更快。一切都需要基于网络，一切都需要通过计算机完成。请用你的笔和纸。它更快，维护更少。

* * *

## 回答 #64

> 赞同：37
> 
> 时间：2009-01-02T17:42:58.690

**应该从 OO 语言中删除空引用**

来自 Java 和 C# 背景，从方法返回 null 表示失败是正常的，我得出的结论是 null 会导致许多可避免的问题。如果语言设计者简单地从代码中消除空引用，他们就可以消除与 NullReferenceExceptions 相关的一整类错误。

此外，当我调用一个方法时，我无法知道该方法是否可以返回空引用，除非我真正深入研究实现。我希望看到更多的语言遵循 F# 处理空值的模型：F# 不允许程序员返回空引用（至少对于在 F# 中编译的类），而是要求程序员使用`option`类型来表示空对象。这种设计的好处是有用的信息是如何通过类型系统传播的，例如函数是否可以返回空引用：返回类型的函数与返回的`'a`函数具有不同的返回类型`'a option`。

* * *

## 回答 #65

> 赞同：35
> 
> 时间：2009-03-13T04:32:24.800

**不知道也没关系。但如果你连谷歌搜索都不会，你就会被解雇。**

互联网是一种工具。如果你从中学习，它不会让你变得更愚蠢。

* * *

## 回答 #66

> 赞同：35
> 
> 时间：2009-01-02T15:26:49.510

**单身人士并不邪恶**

现实世界中存在单例，绕过它们的方法（即单态模式）只是伪装的单例。例如，Logger 是单例的完美候选者。此外，消息泵也是如此。我当前的应用程序使用分布式计算，不同的对象需要能够发送适当的消息。应该只有一个消息泵，每个人都应该能够访问它。另一种方法是将一个对象传递给我的消息泵，在任何可能需要它的地方，并希望新开发人员不会不加思索地新建一个对象，并想知道为什么他的消息无处可去。单例的唯一性是最重要的部分，而不是它的可用性。单身人士在世界上占有一席之地。

* * *

## 回答 #67

> 赞同：34
> 
> 时间：2009-01-03T10:53:43.523

**一张图*不值*一千个字。**

有些图片可能值一千字。他们中的大多数都不是。这种陈词滥调的格言大多是不真实的，对于许多不想阅读精心创建的报告和文档的懒惰经理来说，这是一个可悲的借口，他们说“我需要你在图表中给我看”。

我的妻子攻读语言学专业，并看到了几个与图片和徽标的传统智慧相反的有趣证据：它们没有跨越语言和文化障碍，它们通常不会像正确的文本那样交流尽可能多的信息，它们根本无法替代进行真正的交流。

特别是，如果线条未标记且无法解释，和/或如果每条线具有不同的含义而不是表示相同的关系（除非以某种方式相互区分），则与线连接的标记气泡是无用的。如果你的台词有时表示关系，有时表示行动，有时表示时间的流逝，那么你真的很兴奋。

每个优秀的程序员都知道您使用适合手头工作的工具，对吗？并非所有系统都在图片中得到最佳说明和记录。图形规范语言可以自动转换为可证明正确的可执行代码或任何**令人惊叹**的想法（如果存在的话）。在适当的时候使用它们，而不是在阳光下的一切。实体关系图很棒。但并不是所有的事情都可以用一张图片来概括。

注意：一张**桌子**可能值黄金。但是一张**桌子和一张****照片**不是一回事。再一次，精心设计的短散文段落可能更适合手头的工作。

* * *

## 回答 #68

> 赞同：33
> 
> 时间：2009-01-03T01:50:36.677

**There's an awful lot of bad teaching out there.**

We developers like to feel smugly superior when Joel says there's a part of the brain for understanding pointers that some people are just born without. The topics many of us discuss here and are passionate about *are* esoteric, but sometimes that's only because we make them so.

* * *

## 回答 #69

> 赞同：33
> 
> 时间：2009-01-22T17:58:10.610

## 不要写代码，删除代码！

正如一位聪明的老师曾经告诉我的：“不要写代码，写代码是坏的，删除代码是好的。如果你必须写代码 - 写小代码......”

* * *

## 回答 #70

> 赞同：33
> 
> 时间：2009-01-02T18:05:21.373

**你需要注意对象痴迷的程序员。**

例如，如果您编写了一个模拟内置类型（如整数或浮点数）的类，那么您可能是一个痴迷于对象的程序员。

* * *

## 回答 #71

> 赞同：32
> 
> 时间：2009-01-17T14:08:51.940

在开发代码时牢记优化是个好主意。

每当我这样说的时候，人们总是会回答：“过早的优化是万恶之源”。

但我并不是说在调试之前进行优化。我什至没有说要优化，但是当您设计代码时，请记住这可能会成为瓶颈，并编写它以便可以重构它以提高速度，而不会破坏 API。

雨果

* * *

## 回答 #72

> 赞同：31
> 
> 时间：2009-01-03T17:30:34.393

**如果开发人员不能写出清晰、简洁和语法正确的评论，那么他们应该回去学习英语 101。**

我们有开发人员和（恐怖的）架构师，他们无法连贯地编写。当他们的文件被审查时，他们会说“哦，不要担心语法错误或拼写——这不重要”。然后他们想知道为什么他们错综复杂的垃圾文档会变成错综复杂的错误代码。

我告诉我指导的实习生，如果你不能口头或书面传达你的伟大想法，你可能没有它们。

* * *

## 回答 #73

> 赞同：31
> 
> 时间：2009-01-27T03:32:12.907

**Source files are *SO* 20th century.**

Within the body of a function/method, it makes sense to represent procedural logic as linear text. Even when the logic is not strictly linear, we have good programming constructs (loops, if statements, etc) that allow us to cleanly represent non-linear operations using linear text.

But there is no reason that I should be required to divide my classes among distinct files or sort my functions/methods/fields/properties/etc in a particular order within those files. Why can't we just throw all those things within a big database file and let the IDE take care of sorting everything dynamically? If I want to sort my members by name then I'll click the member header on the members table. If I want to sort them by accessibility then I'll click the accessibility header. If I want to view my classes as an inheritence tree, then I'll click the button to do that.

Perhaps classes and members could be viewed spatially, as if they were some sort of entities within a virtual world. If the programmer desired, the IDE could automatically position classes & members that use each other *near* each other so that they're easy to find. Imaging being able to zoom in and out of this virtual world. Zoom all the way out and you can namespace galaxies with little class planets in them. Zoom in to a namespace and you can see class planets with method continents and islands and inner classes as orbitting moons. Zoom in to a method, and you see... the source code for that method.

Basically, my point is that in modern languages it doesn't matter what file(s) you put your classes in or in what order you define a class's members, so why are we still forced to use these archaic practices? Remember when Gmail came out and Google said "search, don't sort"? Well, why can't the same philosophy be applied to programming languages?

* * *

## 回答 #74

> 赞同：31
> 
> 时间：2009-01-04T01:24:23.673

**C++ 是一门很好的语言**

一两周前，我几乎在另一个问题上被处以私刑，因为我说 C++ 不是一门很好的语言。所以现在我会试着说相反的话。;)

不，说真的，我当时试图提出的观点，现在将再试一次，是 C++ 有很多缺陷。很难否认这一点。它非常复杂，以至于学习好它实际上是你可以奉献一生的事情。它使许多常见任务变得不必要地困难，允许用户一头扎进未定义行为和不可移植代码的海洋，编译器不会发出警告。

但这不是许多人试图创造的无用、破旧、过时、讨厌的语言。它不应该被扫到地毯下而被忽视。没有它，世界不会变得更美好。它有一些独特的优势，不幸的是，这些优势隐藏在古怪的语法、遗留问题，尤其是糟糕的 C++ 教师背后。但他们在那里。

C++ 有许多我在用 C# 或其他“现代”语言编程时非常想念的特性。C# 和其他现代语言可以从中学到很多东西。

它并没有盲目地专注于 OOP，而是探索并开创了泛型编程。它允许令人惊讶的富有表现力的编译时元编程产生极其高效、健壮*和*干净的代码。在 C# 获得 LINQ 或 lambda 表达式之前将近十年，它从函数式编程中吸取了教训。

它允许您通过静态断言和其他元编程技巧在编译时捕获数量惊人的错误，这极大地简化了调试，甚至在某些方面优于单元测试。（当我运行我的测试时，我宁愿在编译时捕获一个错误，而不是之后）。

变量的确定性销毁允许使用 RAII，这是一个非常强大的小技巧，它使 try/finally 块和 C#`using`块变得多余。

虽然有些人指责它是“委员会设计”，但我会说是的，确实如此，在这种情况下这实际上并不是一件坏事。查看Java的类库。有多少类又被弃用了？不应该使用多少？有多少重复彼此的功能？有多少设计不好？

C++ 的标准库要小得多，但总的来说，它的设计非常好，除了一两个小瑕疵（`vector<bool>`例如 ），它的设计仍然很好。当一个特性被添加到 C++ 或其标准库中时，它会受到严格的审查。Java难道不能从中受益吗？.NET 也是如此，尽管它更年轻，并且从一开始就设计得更好，但仍在积累大量与现实不同步的类，或者一开始就设计得很糟糕。

**C++ 有很多其他语言无法比拟的优势。这是一门很好的语言**

* * *

## 回答 #75

> 赞同：30
> 
> 时间：2009-01-05T00:41:19.000

一个我折腾了一段时间的：

**数据就是系统。**

流程和软件是为数据而构建的，而不是相反。

没有数据，流程/软件就没有什么价值。如果没有围绕它的流程或软件，数据仍然具有价值。

一旦我们了解了数据，它做了什么，它如何交互，它在不同阶段存在的不同形式，只有这样才能构建一个支持数据系统的解决方案。

成功的软件/系统/流程似乎具有敏锐的意识，如果不是狂热地关注数据在任何给定时刻的“位置”的话。

* * *

## 回答 #76

> 赞同：30
> 
> 时间：2009-01-05T10:52:55.677

**设计模式是石器时代编程语言设计的征兆**

他们有他们的目的。很多优秀的软件都是用它们构建的。但是，需要将这些“食谱”编入关于代码如何工作/应该工作的心理抽象的事实说明缺乏足够表达的编程语言来为我们处理这种抽象。

我认为，补救方法在于允许您将越来越多的设计嵌入到代码中的语言，方法是定义可能不存在或可能不具有普遍适用性但在您的代码不断处理的情况下*真正*有意义的语言结构. 多年来，Scheme 的人都知道这一点，Scheme 宏的某些事情可能会让大多数雇佣猴子尿裤子。

* * *

## 回答 #77

> 赞同：28
> 
> 时间：2009-01-02T14:24:46.047

以狂热者的热情和错误地假设它们是铁定的规则，通过断章取义地编写伟大的名言来反刍众所周知的说法，这真的让我很生气。例如，[此线程](https://stackoverflow.com/questions/385506/when-is-optimisation-premature#385825)涵盖的“过早优化是万恶之源” 。

IMO，许多技术问题和解决方案都非常敏感，全球最佳实践的概念是一个谬误。

* * *

## 回答 #78

> 赞同：26
> 
> 时间：2009-01-02T13:59:41.183

当我声称**代码只是我的设计的一种表达**时，我经常会大喊大叫。我非常不喜欢看到这么多开发人员在编码时“即时”设计他们的系统的方式。

当这些牛仔中的一个从他的马上掉下来时，所浪费的时间和精力是惊人的——他们遇到的问题十分之九，只需一点点前期设计工作就可以发现。

我觉得现代方法论并不强调设计在整个软件开发过程中的重要性。例如，当你甚至没有审查你的设计时，代码审查的重要性！这是疯狂。

* * *

## 回答 #79

> 赞同：25
> 
> 时间：2009-02-10T21:26:23.540

**用户不是白痴——你是。**

很多次我听到开发人员说“某某是个白痴”，而我的回答通常是“他可能是个白痴，但你允许他成为一个白痴”。

* * *

## 回答 #80

> 赞同：25
> 
> 时间：2009-08-03T23:09:40.633

**应始终使用基于 1 的数组，而不是基于 0 的数组。基于 0 的数组不自然、不必要且容易出错。**

当我数苹果、员工或小部件时，我从一开始，而不是零。我教我的孩子们同样的事情。没有第 0 个苹果、第 0 个员工或第 0 个小部件。使用 1 作为数组的基数更加直观且不易出错。忘记加一减一地狱（就像我们过去所说的那样）。基于 0 的数组是计算机科学发明的一种非自然结构——它们不反映现实，计算机程序应该尽可能地反映现实。

* * *

## 回答 #81

> 赞同：25
> 
> 时间：2009-01-12T22:49:45.203

**牛仔编码员做得更多。**

我在创业氛围中度过了我的一生。如果没有 Cowboy 编码器，我们将浪费无穷无尽的循环来确保事情“正确”完成。

正如我们所知，基本上不可能预见所有问题。牛仔程序员直面这些问题，被迫比试图预见所有问题的人更快地解决这些问题。

但是，如果您是 Cowboy 编码，则最好在其他人必须维护它之前重构该意大利面条。;) 我知道的最好的使用持续重构。他们完成了大量工作，不浪费时间试图预测未来，并通过重构使其成为可维护的代码。

过程总是会妨碍一个好的牛仔，无论它多么敏捷。

* * *

## 回答 #82

> 赞同：25
> 
> 时间：2009-06-23T22:30:41.523

**Emacs 更好**

* * *

## 回答 #83

> 赞同：24
> 
> 时间：2009-01-03T04:53:55.933

**The more process you put around programming, the worse the code becomes**

I have noticed something in my 8 or so years of programming, and it seems ridiculous. It's that the only way to get quality is to employ quality developers, and remove as much process and formality from them as you can. Unit testing, coding standards, code/peer reviews, etc only reduce quality, not increase it. It sounds crazy, because the opposite should be true (more unit testing should lead to better code, great coding standards should lead to more readable code, code reviews should improve the quality of code) but it's not.

I think it boils down to the fact we call it "Software Engineering" when really it's design and not engineering at all.

* * *

Some numbers to substantiate this statement:

> From the Editor
> 
> IEEE Software, November/December 2001
> 
> ## [Quantifying Soft Factors](http://www.stevemcconnell.com/ieeesoftware/eic14.htm)
> 
> by *Steve McConnell*
> 
> ...
> 
> **Limited Importance of Process Maturity**
> 
> ... In comparing medium-size projects (100,000 lines of code), the one with the worst process will require 1.43 times as much effort as the one with the best process, all other things being equal. In other words, **the maximum influence of process maturity on a project’s productivity is 1.43**. ...
> 
> ... What Clark doesn’t emphasize is that for a program of 100,000 lines of code, several human-oriented factors influence productivity more than process does. ...
> 
> ... The seniority-oriented factors alone (AEXP, LTEX, PEXP) exert an influence of 3.02\. **The seven personnel-oriented factors collectively** (ACAP, AEXP, LTEX, PCAP, PCON, PEXP, and SITE **§**) **exert a staggering influence range of 25.8!** This simple fact accounts for much of the reason that non-process-oriented organizations such as Microsoft, Amazon.com, and other entrepreneurial powerhouses can experience industry-leading productivity while seemingly shortchanging process. ...
> 
> **The Bottom Line**
> 
> ... It turns out that trading process sophistication for staff continuity, business domain experience, private offices, and other human-oriented factors is a sound economic tradeoff. Of course, the best organizations achieve high motivation and process sophistication at the same time, and that is the key challenge for any leading software organization.

**§** Read the article for an explanation of these acronyms.

* * *

## 回答 #84

> 赞同：23
> 
> 时间：2009-02-11T10:18:47.333

**To produce great software, you need domain specialists as much as good developers.**

* * *

## 回答 #85

> 赞同：23
> 
> 时间：2009-01-02T14:41:14.190

**意见：框架和第三方组件只能作为最后的手段使用。**

我经常看到程序员立即选择一个框架来完成一项任务，而无需了解其工作所需的底层方法。有些东西不可避免地会崩溃，或者我们会发现一个我们没有考虑到的限制，我们会立即陷入困境，不得不重新考虑系统的主要部分。只要仔细考虑，框架就可以使用。

* * *

## 回答 #86

> 赞同：23
> 
> 时间：2009-01-05T21:17:17.587

**生成的文档几乎总是毫无价值。**

或者，作为推论：**您的 API 需要为维护人员和用户提供单独的文档集。**

实际上有两类人需要了解您的 API：维护人员，他们必须了解您的实现的细节才能有效地完成工作，而用户，他们需要高级概述、示例和有关效果的详细信息他们可以访问的每种方法。

我从未遇到过在任一领域都成功的生成文档。一般来说，当程序员为工具编写注释以提取和制作文档时，他们的目标是中间的某个地方——只是足够的实现细节让用户感到厌烦和困惑，但不足以显着帮助维护者，也没有足够的概述来提供任何对用户的真正帮助。

作为维护者，我*总是*希望有干净、清晰的注释，不受自动文档工具所需的任何奇怪标记的影响，告诉我为什么要以这种方式编写奇怪的 switch 语句，或者这个看似冗余的参数有什么错误检查修复程序，或者我需要知道的任何其他内容，以在我处理代码时实际保持代码清洁和无错误。我希望这些信息就在代码中，与它所涉及的代码相邻，因此我不必寻找您的网站以找到它处于适合阅读的状态。

作为用户，我*总是*希望有一个完整的、组织良好的文档（一组网页是理想的，但我也愿意接受一个结构良好的文本文件）告诉我你的 API 是如何架构的，什么方法做什么，我怎样才能完成我想用你的 API 做的事情。我不想在内部看到您编写的允许我工作的类，或者它们所在的文件。我当然不想下载你的源代码，这样我就可以弄清楚幕后到底发生了什么。如果您的文档足够好，我就不必这样做。

反正我是这么看的。

* * *

## 回答 #87

> 赞同：22
> 
> 时间：2009-10-13T20:42:54.077

我最具争议的编程观点是 **发现性能问题不是关于*测量*，而是关于*捕获***。

如果你在房间里寻找大象（而不是老鼠），你需要知道它们有多大吗？不！你所要做的就是看。他们的巨大是什么让他们很容易找到！没有必要先测量它们。

至少自从关于**gprof**的论文 ( [Susan L. Graham, et al 1982](http://docs.freebsd.org/44doc/psd/18.gprof/paper.pdf) )* 以来，测量的想法一直是普遍的智慧，一直以来，就在我们眼皮底下，它一直是一种[非常简单直接的方式来寻找值得优化的代码](https://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024)。

作为一个小例子，这是它的工作原理。假设您从调用堆栈中获取 5 个随机时间样本，并且您碰巧在 5 个样本中的 3 个上看到了特定指令。这告诉你什么？

```
.............   .............   .............   .............   .............
.............   .............   .............   .............   .............
Foo: call Bar   .............   .............   Foo: call Bar   .............
.............   Foo: call Bar   .............   .............   .............
.............   .............   .............   Foo: call Bar   .............
.............   .............   .............   .............   .............
                .............                                   ............. 
```

*它告诉您程序将 60% 的时间**用于执行该指令要求的工作***。删除它会删除 60%：

```
...\...../...   ...\...../...   .............   ...\...../...   .............
....\.../....   ....\.../....   .............   ....\.../....   .............
Foo: \a/l Bar   .....\./.....   .............   Foo: \a/l Bar   .............
......X......   Foo: cXll Bar   .............   ......X......   .............
...../.\.....   ...../.\.....   .............   Foo: /a\l Bar   .............
..../...\....   ..../...\....   .............   ..../...\....   .............
   /     \      .../.....\...                      /     \      ............. 
```

大致。

如果您可以删除该指令（或少调用它），那大约是 2.5 倍的加速。（注意——递归是无关紧要的——如果大象怀孕了，它不会更小。）然后你可以重复这个过程，直到你真正接近一个最佳值。

*   这不需要测量精度、功能计时、调用计数、图表、数百个样本，以及*任何典型的分析内容。*

有些人在遇到性能问题时使用它，并且不明白有什么大不了的。

大多数人从未听说过它，当他们听说它时，认为它只是一种低劣的采样方式。但它非常不同，因为它通过给出*呼叫站点*的成本（以及终端指令）来查明问题，作为*挂钟时间*的百分比。大多数分析器（不是全部），无论他们使用采样还是仪器，都不会这样做。相反，它们提供了各种汇总测量结果，这些测量结果充其量只是找出问题的可能位置的线索。[这是对差异的更广泛的总结。](https://stackoverflow.com/questions/1777556/alternatives-to-gprof/1779343#1779343)

*事实上，该论文声称**gprof**的目的是“帮助用户评估抽象的替代实现”。它没有声称可以帮助用户找到需要替代实现的代码，在更精细的级别上然后是函数。

* * *

我的第二个最有争议的观点是[**this**](https://stackoverflow.com/questions/371898/how-does-differential-execution-work)，或者如果它不是那么难理解的话。

* * *

## 回答 #88

> 赞同：22
> 
> 时间：2009-01-03T20:56:52.590

**如果您的文本编辑器不能很好地完成代码，那么您就是在浪费每个人的时间。**

快速记住数以千计的参数列表、拼写和返回值（更不用说类结构和类似的复杂组织模式）是计算机擅长的任务，而人（相对而言）则不然。我全心全意地认为，放慢自己的速度并避免对小工具/功能的崇拜是提高效率和避免错误的好方法，但是当您可以花费零时花费 30 秒不必要地搜索源代码或文档根本没有任何好处。 . 尤其是如果您只需要拼写（这比我们更愿意承认）。

当然，如果没有为您的语言提供此功能的编辑器，或者任务很简单，可以在加载较重的编辑器所需的时间内完成，那么没有人会告诉您 Eclipse 和 90 个插件是正确的工具。但是请不要告诉我，像 1999 年那样按照自己的方式进行 HJKL 的能力确实比每次需要方法签名时都点击转义为您节省更多时间……即使您确实感觉不那么“黑客”这样做。

想法？

* * *

## 回答 #89

> 赞同：22
> 
> 时间：2009-03-16T02:43:22.317

**客户并不总是对的。**

在我处理的大多数情况下，客户是产品所有者，也就是“企业”。很多时候，开发人员只是编写代码而不试图提供产品的既得利益。IT部门是“公司中的公司”的误解太多了，这完全是垃圾。

我觉得我的职责是帮助企业表达他们的想法——在相互理解的情况下，我对理解业务感兴趣，这样我就可以提供最好的体验。这条路线意味着有时产品所有者会要求一些他/她认为是计算领域的下一次革命的东西，这会让某人要么同意这一事实，要么解释为什么没有人做某事的更可能的原因方法。这是互惠互利的，因为产品负责人了解产品的想法，而开发团队了解他们所做的不仅仅是代码。

这实际上已经开始引导我们走上**提高**生产力的道路。如何？由于谈判双方存在分歧，沟通得到了改善，我们更有可能在流程的早期聚集在一起，就产品定义达成互利的解决方案。

* * *

## 回答 #90

> 赞同：22
> 
> 时间：2009-11-24T21:04:22.417

**不知道也没关系。但如果你连谷歌搜索都不会，你就会被解雇。**

互联网是一种工具。如果你从中学习，它不会让你变得更愚蠢。

* * *

## 回答 #91

> 赞同：21
> 
> 时间：2009-01-03T19:38:33.480

**不要评论你的代码**

注释不是代码，因此当事情发生变化时，很容易不更改解释代码的注释。相反，我更喜欢将代码中的废话重构到没有理由发表评论的程度。一个例子：

```
if(data == null)  // First time on the page 
```

至：

```
bool firstTimeOnPage = data == null;
if(firstTimeOnPage) 
```

我真正评论的唯一一次是当它是待办事项或解释原因时

```
Widget.GetData(); // only way to grab data, TODO: extract interface or wrapper 
```

* * *

## 回答 #92

> 赞同：21
> 
> 时间：2009-01-03T16:22:19.587

**做莫特没关系**

不是每个人都是“摇滚明星”程序员；我们中的一些人这样做是因为这是一种美好的生活，我们并不关心所有最新的时尚和趋势；我们只想做好我们的工作。

* * *

## 回答 #93

> 赞同：21
> 
> 时间：2009-04-25T21:37:45.253

**一个好的程序员讨厌编码**

类似于“一个好的程序员是一个懒惰的程序员”和“更少的代码更好”。但是通过遵循这一理念，我已经设法编写了应用程序，否则这些应用程序可能会使用数倍的代码（并花费数倍的开发时间）。简而言之：在编写代码之前要三思。我自己的程序中大部分后来导致问题的部分都是我真正喜欢编码的部分，因此代码太多，因此写得不好。就像这一段一样。

**一个好的程序员就是一个设计师**

我发现编程使用与设计相同的概念（如艺术中使用的相同设计概念）。我不确定大多数其他程序员是否也发现了同样的事情。也许这是一个右脑/左脑的事情。太多的程序都很丑陋，从代码到命令行用户界面再到图形用户界面，很明显这些程序的设计者实际上并不是设计者。

尽管在这种情况下，相关性可能并不意味着因果关系，但我注意到，随着我在设计方面变得更好，我在编码方面也变得更好。可以而且应该在这两个地方使用相同的使事物*合身*并*感觉正确的过程。*如果代码*感觉不对*，它会导致问题，因为要么 a) 它不正确，要么 b) 你会假设它以一种稍后“感觉正确”的方式工作，然后它又会不正确。

艺术和代码不在光谱的两端。代码可以用在艺术中，它本身也可以是一种艺术形式。

免责声明：不幸的是，并非我的所有代码都是漂亮或“正确”的。

* * *

## 回答 #94

> 赞同：20
> 
> 时间：2009-11-21T22:08:29.467

## **布尔变量应仅用于布尔逻辑。在所有其他情况下，使用枚举。**

* * *

布尔变量用于存储只能采用两个可能值的数据。使用它们产生的问题经常被忽视：

*   程序员通常无法正确识别某些数据何时应该只有两个可能的值
*   指导程序员做什么的人，例如程序经理或编写程序员遵循的规范的人，通常也无法正确识别这一点
*   即使一条数据被正确识别为只有两种可能的状态，这种保证在未来也可能不成立。

在这些情况下，使用布尔变量会导致代码混乱，而这通常可以通过使用枚举来避免。

**例子**

假设一个程序员正在为一家只销售汽车和卡车的汽车经销商编写软件。程序员为他的软件开发一个完整的业务需求模型。知道出售的唯一类型的车辆是轿车和卡车，他正确地确定他可以使用 Vehicle 类中的布尔变量来指示车辆是轿车还是卡车。

```
class Vehicle {
 bool isTruck;
 ...
} 
```

该软件是这样编写的，当`isTruck`为真时车辆是卡车，而当`isTruck`为假时车辆是汽车。这是在整个代码中多次执行的简单检查。

一切顺利，直到有一天汽车经销商购买了另一家也销售摩托车的经销商。考虑到经销商的业务发生了变化，程序员必须更新软件才能正常工作。它现在需要识别车辆是汽车、卡车还是摩托车，这三种可能的状态。

程序员应该如何实现呢？ `isTruck`是一个布尔变量，所以它只能保存两种状态。他可以将其从布尔值更改为允许许多状态的其他类型，但这会破坏现有逻辑并且可能不向后兼容。从程序员的角度来看，最简单的解决方案是添加一个新变量来表示车辆是否是摩托车。

```
class Vehicle {
 bool isTruck;
 bool isMotorcycle;
 ...
} 
```

代码已更改，因此当`isTruck`为真时，车辆是卡车，当`isMotorcycle`为真时，车辆是摩托车，当它们都为假时，车辆是汽车。

**问题**

这个解决方案有两个大问题：

*   程序员想要表达车辆的类型，这是一个想法，但解决方案使用两个变量来做到这一点。与程序员仅使用一个完全指定类型的变量相比，不熟悉代码的人将更难理解这些变量的语义。
*   通过添加一个新的布尔值来解决这个摩托车问题并不能让程序员更容易处理将来发生的这种情况。如果经销商开始销售巴士，程序员将不得不通过添加另一个布尔值再次重复所有这些步骤。

他的软件的业务需求发生了变化，需要他修改现有代码，这不是开发人员的错。但是首先使用布尔变量使他的代码不那么灵活并且更难修改以满足未知的未来需求（更少“面向未来”）。当他以最快的方式实施更改时，代码变得更难阅读。使用布尔变量最终是过早的优化。

**解决方案**

首先使用枚举可以防止这些问题。

```
enum EVehicleType { Truck, Car }

class Vehicle {
 EVehicleType type;
 ...
} 
```

为了在这种情况下容纳摩托车，程序员所要做的就是添加`Motorcycle`，`EVehicleType`并添加新的逻辑来处理摩托车案件。无需添加新变量。现有的逻辑不应该被打乱。不熟悉代码的人可以很容易地了解车辆类型是如何存储的。

**悬崖笔记**

不要使用只能存储两种不同状态的类型，除非您绝对确定两种状态总是足够的。如果将来有任何可能的条件需要两个以上的状态，则使用枚举，*即使布尔值会满足现有的要求*。

* * *

## 回答 #95

> 赞同：20
> 
> 时间：2009-01-03T07:26:51.397

**我有争议的观点：面向对象编程绝对是软件工程领域发生过的最糟糕的事情。**

OOP 的主要问题是完全缺乏每个人都可以同意的严格定义。这很容易导致实现中存在逻辑漏洞，或者像 Java 这样的语言坚持这种关于 OOP 含义的奇怪宗教教条，同时迫使程序员做所有这些扭曲和“设计模式”只是为了解决一个特定的 OOP 系统。

因此，OOP 欺骗程序员认为他们正在获得这些巨大的生产力收益，OOP 在某种程度上是一种“自然”的思考方式，同时迫使程序员输入大量不必要的样板。

然后，由于没有人知道 OOP 的真正含义，我们将大量时间浪费在关于语言 X 或 Y 是否“真正的 OOP”的琐碎争论上，哪些奇怪的货物崇拜语言特征对于要考虑的语言绝对“必不可少” “真正的面向对象”。

与其要求这种语言或那种语言是“真正的 oop”，我们应该看看实验显示了哪些语言特征，以*实际*提高生产力，而不是试图强迫它成为某种想象中的理想语言，或者确实强迫我们程序符合“真正的面向对象程序”的一些柏拉图式的理想。

与其坚持我们的程序符合某种柏拉图式的“真正面向对象”的理想，不如我们专注于坚持良好的工程原则，使我们的代码易于阅读和理解，并使用高效且有用的语言特性，无论它们是否足够“OOP”。

* * *

## 回答 #96

> 赞同：20
> 
> 时间：2009-01-02T13:20:57.300

我经常在 ASP.NET / VB.NET 中工作，发现 ViewState 绝对是一场噩梦。它在大多数字段上默认启用，并在每个网页的开头导致大量编码数据。就页面上的控件而言，页面越大，ViewState 数据就会变得越大。大多数人不会关注它，但它会创建大量数据，这些数据通常与页面上执行的任务无关。如果不使用所有 ASP 控件，则必须手动禁用该选项。要么就是这样，要么对所有东西都有自定义控件。

在我使用的某些页面上，页面的一半是由 ViewState 组成的，这真的很遗憾，因为可能有更好的方法来做到这一点。

这只是我在语言/技术观点方面能想到的一个小例子。这可能会引起争议。

顺便说一句，你可能想编辑这个线程的投票，它可能会被一些人激怒；）

* * *

## 回答 #97

> 赞同：19
> 
> 时间：2009-01-03T02:37:51.217

**C (or C++) should be the first programming language**

The first language should NOT be the easy one, it should be one that sets up the student's mind and prepare it for serious computer science.
C is perfect for that, it forces students to think about memory and all the low level stuff, and at the same time they can learn how to structure their code (it has functions!)

C++ has the added advantage that it really sucks :) thus the students will understand why people had to come up with Java and C#

* * *

## 回答 #98

> 赞同：19
> 
> 时间：2009-01-03T21:29:23.693

**您并不*总是*需要数据库。**

如果您需要存储少于几千个“东西”并且不需要锁定，那么平面文件可以工作并且在很多方面都更好。它们更便携，您可以在紧要关头手动编辑它们。如果您的数据和业务逻辑之间有适当的分离，您可以在应用程序需要时轻松地将平面文件替换为数据库。如果您在设计时考虑到这一点，它会提醒您在数据和业务逻辑之间进行适当的分离。

--
bmb

* * *

## 回答 #99

> 赞同：17
> 
> 时间：2009-01-02T14:34:34.530

多年来，这对我来说似乎是显而易见的，但对其他人来说却是令人厌恶的：**在“发布”构建中****关闭 C（或 C++）断言几乎总是错误的。`NDEBUG`**（唯一的例外是时间或空间损失是不可接受的）。

理由：如果一个断言失败，你的程序已经进入了一个状态

*   从未经过测试
*   开发人员无法编写恢复策略
*   开发人员已有效记录为不可思议。

然而，不知何故，“行业最佳实践”是，在使用客户数据进行实时运行时，事情应该只是糊涂，并希望获得最好的结果。

* * *

## 回答 #100

> 赞同：17
> 
> 时间：2009-03-20T20:10:32.813

**所有源代码和注释都应该用英文写**

如果你不理解它们所用的语言，用英语以外的语言编写源代码和/或注释会降低可重用性和调试难度。

SQL 表、视图和列也是如此，尤其是在使用缩写时。如果它们没有缩写，我也许可以在线翻译表/列名，但如果它们被缩写，我所能做的就是选择并尝试破译结果。

* * *

## 回答 #101

> 赞同：16
> 
> 时间：2009-01-08T20:24:04.883

较新的语言和托管代码不会使糟糕的程序员变得更好。

* * *

## 回答 #102

> 赞同：16
> 
> 时间：2009-01-03T19:56:08.170

**只有在以后要节省 3 倍的时间时才编写抽象。**

我看到人们有时会写出所有这些疯狂的抽象，我会想，“为什么？”

除非抽象真的能在以后节省你的时间，或者它会节省维护你代码的人的时间，否则似乎人们只是越来越多地编写意大利面条式代码。

* * *

## 回答 #103

> 赞同：16
> 
> 时间：2009-01-07T13:06:40.820

**“邪恶”**这个词在 Stackoverflow 和类似论坛上是一个被滥用和过度使用的词。

使用它的人想象力太少。

* * *

## 回答 #104

> 赞同：15
> 
> 时间：2009-01-03T02:25:55.653

The best code is often the code you don't write. As programmers we want to solve every problem by writing some cool method. Anytime we can solve a problem and still give the users 80% of what they want without introducing more code to maintain and test we have provided waaaay more value.

* * *

## 回答 #105

> 赞同：15
> 
> 时间：2009-01-02T13:27:49.953

我真的不喜欢人们告诉我**使用 getter 和 setter 而不是公开变量，而您应该能够同时获取和设置类变量**。

如果要更改对象中对象中的变量，我完全同意它，因此您不会得到以下内容： abcde = something; 但我宁愿使用：ax = something; 然后 a.setX(something); 我认为斧头=东西；实际上都更容易阅读，并且在同一个示例中设置/获取更漂亮。

我看不出原因：

void setX(T x) { this->x = x; }

T getX() { 返回 x; }

当你一遍又一遍地做更多的代码，更多的时间，只会使代码更难阅读。

* * *

## 回答 #106

> 赞同：15
> 
> 时间：2009-01-02T22:27:23.640

**类应该适合屏幕。**

如果您必须使用滚动条来查看您的所有班级，那么您的班级太大了。

代码折叠和微型字体是作弊。

* * *

## 回答 #107

> 赞同：15
> 
> 时间：2009-07-29T14:06:23.883

我通常持有相当有争议、强烈和响亮的意见，所以这里只是其中的几个：

***“因为我们是微软的装备/合作伙伴/专家”*从来都不是一个有效的论点。**

我现在工作的公司首先将自己定位为 Microsoft 专家。所以前面提到的论点被抛出了很多，我还没有看到它有效的上下文。

我不明白为什么有理由在每个适用的角落推广微软的技术和产品，压倒客户和员工的满意度，以及一般的实用主义。

这只是我对软件行业政治深恶痛绝的基石。

**MOSS（Microsoft Office Sharepoint Server）是一坨屎。**

有点赞同第一种观点，但老实说，我认为 MOSS 应该被淘汰出市场。许可和设置需要花费数百万美元，对网络标准感到厌恶，并使开发人员通常非常不高兴。我还没有看到一个总体上取得积极成果的 MOSS 项目。

然而，客户一次又一次地接近我们并要求提供 MOSS 解决方案。

* * *

## 回答 #108

> 赞同：14
> 
> 时间：2009-05-15T06:14:54.823

**开发人员永远不应该测试自己的软件**

开发和测试是两个截然相反的学科。开发就是建设，测试就是拆除。有效的测试需要一种特定的思维方式和方法，您可以在其中尝试发现开发人员的错误，发现他们的假设中的漏洞以及他们的逻辑缺陷。大多数人，包括我自己在内，根本无法将自己和自己的代码置于这样的审查之下，并且仍然保持客观。

* * *

## 回答 #109

> 赞同：13
> 
> 时间：2009-01-09T20:42:05.883

我有一些......所有事情都有例外，所以这些并不难，但它们确实适用于大多数情况

**没有人关心您的网站是否经过验证、是否严格 XHTML、是否符合标准或是否拥有 W3C 徽章。**

它可能会为您赢得来自其他 Web 开发人员的高度评价，但是查看您网站的其他人可能会胡说八道，无论您是否验证了您的代码。绝大多数网络冲浪者都在使用 IE 或 Firefox，因为这两种浏览器都可以容忍非标准、非严格、无效的 HTML，所以你真的不需要担心。如果您为汽车经销商、机械师、广播电台、教堂或当地小企业建立了一个网站，那么您认为这些企业的目标人群中有多少人关心有效的 HTML？我冒险猜测它非常接近0。

**大多数开源软件都是无用的，过于复杂的废话。**

让我安装我找到的这个不错的 OSS。看起来它应该完全符合我的要求！哦等等，首先我必须安装这个其他的窗口管理器。好的。然后我需要获取这个命令行工具并将其添加到我的路径中。现在我需要 X、Y 和 Z 的最新运行时。现在我需要确保这些进程正在运行。好的，太好了......它的所有配置。现在让我学习一套全新的命令来使用它。哦，很酷，有人为它构建了一个 GUI。我想我不需要学习这些命令。等等，我需要这个库来让 GUI 工作。得赶紧下载了 好的，现在它的工作......废话，我无法弄清楚这个可怕的用户界面。

听起来有点熟？OSS 充满了复杂性，复杂的安装需要您成为专家才能执行，以及大多数人无论如何都不知道如何使用的工具。如此多的项目被搁置一旁，其他项目是如此的小众以至于很少有人会使用它们，而一些体面的项目（FlowPlayer、OSCommerce 等）的源代码过于复杂和臃肿，以至于它违背了能够实现的目的。编辑源。您可以编辑源代码...如果您能找出 400 个文件中的哪个文件包含需要修改的代码。当你得知它全部是 400 个时，你真的有麻烦了。

* * *

## 回答 #110

> 赞同：13
> 
> 时间：2009-04-08T23:35:38.087

Programming is in its infancy.

Even though programming languages and methodologies have been evolving very quickly for years now, we still have a long way to go. The signs are clear:

2.  Language Documentation is spread haphazardly across the internet (stackoverflow is helping here).

3.  Languages cannot evolve syntactically without breaking prior versions.

4.  Debugging is still often done with printf.

5.  Language libraries or other forms of large scale code reuse are still pretty rare.

Clearly all of these are improving, but it would be nice if we all could agree that this is the beginning and not the end=).

* * *

## 回答 #111

> 赞同：13
> 
> 时间：2009-01-04T03:18:07.250

**新的 Web 项目应该考虑不使用 Java。**

10 多年来，我一直在使用 Java 进行 Web 开发。起初，与可用的替代方案相比，这是朝着正确方向迈出的一步。现在，有比 Java 更好的选择。

这实际上只是解决问题的魔锤方法的一个特定案例，但它确实是一个非常痛苦的案例。

* * *

## 回答 #112

> 赞同：13
> 
> 时间：2009-01-04T04:29:59.117

**开发人员都是不同的，应该这样对待。**

开发人员不适合一个盒子，也不应该被这样对待。解决问题的最佳语言或工具与开发人员的关系与解决问题的细节一样重要。

* * *

## 回答 #113

> 赞同：13
> 
> 时间：2009-01-02T13:17:25.357

远离塞尔科！！！！

[http://www.dbdebunk.com/page/page/857309.htm](http://www.dbdebunk.com/page/page/857309.htm)

我认为使用代理主键而不是“自然”主键更有意义。

* * *

@ocdecio：Fabian Pascal 给出（在他的书[*Practical issues in database management*](http://books.google.it/books?id=t9ZQAAAAMAAJ)的第 3 章中，在您链接的页面的第 3 点中引用）作为选择稳定性关键的标准之一（它始终存在并且不存在改变）。当自然键不具有此类属性时，出于明显的原因，必须使用代理键，您在评论中暗示了这一点。

你不知道他写了什么，你也懒得去查，否则你会发现你真的同意他的观点。那里没有什么争议：他说的是“不要教条，根据情况调整一般指导方针，最重要的是，思考，用你的大脑而不是教条/食谱/大师的话”。

* * *

## 回答 #114

> 赞同：13
> 
> 时间：2009-05-02T08:55:49.537

**如果您想编写好的软件，请远离您的计算机**

与最终用户以及想要和需要该软件的人一起出去玩。只有从他们那里，您才能了解您的软件需要完成什么以及它需要如何做到这一点。

*   询问他们对现有流程的爱与恨。
*   向他们询问他们的流程的未来，以及它的发展方向。
*   出去看看他们现在使用什么，并找出他们的使用模式。您需要满足并符合他们的使用期望。看看他们还经常使用什么，特别是如果他们喜欢它并且可以有效地使用它。匹配那个。

最终用户不会在乎你的代码有多优雅或它使用什么语言。如果它适用于他们并且他们喜欢使用它，那么你就赢了。如果它不能让他们的生活更轻松更好——他们讨厌它，你就输了。

穿上他们的鞋走一英里——然后去写你的代码。

* * *

## 回答 #115

> 赞同：13
> 
> 时间：2009-10-19T07:58:58.793

**面向对象编程被过度使用**

有时最好的答案是简单的答案。

* * *

## 回答 #116

> 赞同：12
> 
> 时间：2009-01-05T14:12:35.260

不应允许非开发人员管理开发人员。

更正：不应允许零开发经验的人员管理开发人员。

* * *

## 回答 #117

> 赞同：12
> 
> 时间：2009-03-09T11:36:17.153

**大多数程序员在编程方面毫无用处**

（你确实说过“有争议”）

我坐在家里的办公室里思考一些编程问题，最后我看着书架上的“完整频谱 ROM 反汇编”副本并思考：

“今天有多少程序员可以编写 Spectrum ROM 中使用的代码？”

Spectrum，对于那些不熟悉它的人来说，有一个基本的编程语言，可以做简单的 2D 图形（线、曲线）、文件 IO 和浮点计算，包括超验函数，所有这些都在 16K 的 Z80 代码中（一个 < 5Mhz 8 位处理器没有 FPU 或整数乘法）。今天的大多数毕业生在编写这么小的“Hello World”程序时会遇到困难。

我认为问题在于，能够做到这一点的程序员的绝对数量几乎没有变化，但从百分比来看，它正在迅速接近零。这意味着随着更多低于标准的程序员进入该领域，正在编写的代码质量正在下降。

我目前工作的地方有七名程序员，包括我自己。其中，我是唯一一个通过阅读博客、书籍、这个网站等并在家里“为了好玩”进行编程来保持最新状态的人（我的妻子一直对此感到惊讶）。还有一位程序员热衷于编写结构良好的代码（有趣的是，他使用 Delphi 做了很多工作）并重构糟糕的代码。其余的，嗯，不是很好。考虑到这一点，您可以将它们描述为“蛮力”程序员 - 将强制使用不适当的解决方案，直到它们以某种方式工作（例如，使用具有重复数组的 C# 数组。调整大小以动态添加项目而不是使用列表）。

现在，我不知道我现在所在的地方是否是典型的，尽管从我以前的职位来看，我会说它是典型的。事后看来，我可以看到肯定对任何项目都没有帮助的常见模式（缺乏对代码的同行评审）。

所以，七分之五的程序员都是垃圾。

斯基兹

* * *

## 回答 #118

> 赞同：12
> 
> 时间：2009-12-09T20:25:38.130

**软件就像卫生纸。你花在它上面的钱越少，它的痛苦就越大。**

也就是说，外包很少是一个好主意。

我一直认为这是真的，但直到最近我才真正知道它的程度。我最近一直在“维护”（阅读：“修复”）一些离岸代码，这是一个巨大的混乱。与内部开发的差异相比，这很容易使我们公司付出更多的代价。

企业以外的人天生对您的业务模型了解较少，因此不会像在您的企业内工作的任何系统那样做好编程工作。此外，他们知道他们不必支持它，所以除了半途而废之外，没有任何动力去做任何事情。

* * *

## 回答 #119

> 赞同：12
> 
> 时间：2009-01-03T17:39:07.370

**大多数咨询程序员都很糟糕**，不应该被允许编写生产代码。

*恕我直言-可能大约 60% 或更多*

* * *

## 回答 #120

> 赞同：12
> 
> 时间：2009-01-02T20:48:00.533

每个开发人员都应该在开始构建电子系统*之前*花费数周甚至数月的时间来开发基于纸质的系统。他们也应该被迫*使用*他们的系统。

开发一个好的纸质系统是一项**艰巨的工作**。它迫使您考虑人性（繁琐的流程被忽略，过于复杂的流程容易崩溃），并教会您欣赏简单的价值（新工作放在**这个**托盘中，QA 工作放在**这个**托盘中，存档在**这个**框中）。

一旦你弄清楚了如何在纸上构建一个系统，构建一个有效的计算机系统通常会容易得多——人们真正想要（并且能够）*使用*的系统。

我们开发的系统不是由训练有素的自动机大军控制的；真实的人使用它们，由经理培训的真实的人，他们也是真实的人，没有太多时间浪费在培训他们如何跳槽上。

事实上，对于我的第二点：

应该要求每个开发人员运行交互式培训课程，向用户展示如何使用他们的软件。

* * *

## 回答 #121

> 赞同：12
> 
> 时间：2009-03-27T15:27:08.460

**编程任务只有在不可能的情况下才有趣，直到您确信自己能够成功解决它为止。**

`_`我想，这就是为什么我的许多项目最终在一个名为“待续”的文件夹中完成了一半`_`。

* * *

## 回答 #122

> 赞同：12
> 
> 时间：2009-07-29T15:07:02.177

**应弃用大于运算符（>、>=）**

我尝试使用小于大于大于的偏好进行编码，但它卡住了！我不想回去，而且我确实觉得在这种情况下每个人都应该按照我的方式去做。

考虑常见的数学“范围”符号：0 <= i < 10

现在在代码中很容易近似，并且您习惯于看到变量在中间重复并由 && 连接的习语：

```
if (0 <= i && i < 10)
    return true;
else
    return false; 
```

一旦你习惯了这种模式，你就永远不会看到愚蠢的样子

```
if ( ! (i < 0 || i >= 9))
    return true; 
```

再次以同样的方式。

长关系序列变得更容易处理，因为操作数倾向于非递减顺序。

`operator<`此外，对于C++ 标准的偏好。在某些情况下`operator=`是定义它！（作为`!(a<b || b<a)`）

* * *

## 回答 #123

> 赞同：11
> 
> 时间：2009-03-09T10:24:56.823

## 估计是给我的，不是给你的

作为开发线经理，估算对我来说是一个有用的工具，可以用来规划我的团队正在做什么。

它们不是在特定日期交付功能的承诺，也不是推动团队更加努力工作的棒子。

恕我直言，如果你强迫开发人员承诺估计你得到*最安全的数字*。

例如 -

> 我认为一个功能可能需要我大约 5 天的时间。出现问题的可能性很小，需要 30 天。
> 
> 如果估算只是用于计划，那么我们将全部工作到 5 天，并考虑到出现问题的可能性很小。
> 
> 但是 - 如果需要满足该估计作为交付承诺，您认为会给出什么估计？

如果开发人员的奖金或工作保障取决于达到估计值，您认为他们会给出最准确的猜测还是最确定会遇到的猜测？

我的这种观点与其他管理层有争议，并被解释为我试图摆脱正确的目标，或者我试图掩盖糟糕的表现。每次都很难卖，但我已经习惯了。

* * *

## 回答 #124

> 赞同：11
> 
> 时间：2009-01-05T09:47:56.137

**递归最糟糕的事情是递归。**

* * *

## 回答 #125

> 赞同：11
> 
> 时间：2009-01-02T15:47:43.367

**在允许他们实际编写或修改代码之前，初级程序员应该被分配几个月的时间进行对象/模块设计和设计维护。**

太多的程序员/开发人员在不了解优秀设计的元素的情况下达到了 5 年和 10 年的标记。当他们想要超越仅仅编写和维护代码时，以后可能会变得很糟糕。

* * *

## 回答 #126

> 赞同：11
> 
> 时间：2009-01-03T02:39:24.083

A random collection of Cook's aphorisms...

*   The hardest language to learn is your second.

*   The hardest OS to learn is your second one - especially if your first was an IBM mainframe.

*   Once you've learned several seemingly different languages, you finally realize that all programming languages are the same - just minor differences in syntax.

*   Although one can be quite productive and marketable without having learned any assembly, no one will ever have a visceral understanding of computing without it.

*   Debuggers are the final refuge for programmers who don't really know what they're doing in the first place.

*   No OS will ever be stable if it doesn't make use of hardware memory management.

*   Low level systems programming is much, much easier than applications programming.

*   The programmer who has a favorite language is just playing.

*   Write the User's Guide FIRST!

*   Policy and procedure are intended for those who lack the initiative to perform otherwise.

*   (The Contractor's Creed): Tell'em what they need. Give'em what they want. Make sure the check clears.

*   If you don't find programming fun, get out of it or accept that although you may make a living at it, you'll never be more than average.

*   Just as the old farts have to learn the .NET method names, you'll have to learn the library calls. But there's nothing new there.
    The life of a programmer is one of constantly adapting to different environments, and the more tools you have hung on your belt, the more versatile and marketable you'll be.

*   You may piddle around a bit with little code chunks near the beginning to try out some ideas, but, in general, one doesn't start coding in earnest until you KNOW how the whole program or app is going to be layed out, and you KNOW that the whole thing is going to work EXACTLY as advertised. For most projects with at least some degree of complexity, I generally end up spending 60 to 70 percent of the time up front just percolating ideas.

*   Understand that programming has little to do with language and everything to do with algorithm. All of those nifty geegaws with memorable acronyms that folks have come up with over the years are just different ways of skinning the implementation cat. When you strip away all the OOPiness, RADology, Development Methodology 37, and Best Practice 42, you still have to deal with the basic building blocks of:

    *   assignments
    *   conditionals
    *   iterations
    *   control flow
    *   I/O

Once you can truly wrap yourself around that, you'll eventually get to the point where you see (from a programming standpoint) little difference between writing an inventory app for an auto parts company, a graphical real-time TCP performance analyzer, a mathematical model of a stellar core, or an appointments calendar.

*   Beginning programmers work with small chunks of code. As they gain experience, they work with ever increasingly large chunks of code.
    As they gain even more experience, they work with small chunks of code.

* * *

## 回答 #127

> 赞同：11
> 
> 时间：2009-01-02T22:05:21.610

**不要在数据库中使用存储过程。**

它们最初很好的原因——安全性、抽象、单一连接——都可以在你的中间层使用集成了许多其他优势的 ORM 来完成。

这绝对是有争议的。每次我提起它，人们都会把我撕碎。

* * *

## 回答 #128

> 赞同：11
> 
> 时间：2009-01-07T08:33:30.543

**编码不是打字**

编写代码需要时间。大多数时候在编辑器窗口中，您只是查看代码，而不是实际输入。不是经常，而是经常，你正在删除你写的东西。或者从一个地方搬到另一个地方。或重命名。

如果您长时间敲击键盘，则说明您做错了什么。

推论：每天写的代码行数并不是程序员生产力的线性衡量标准，因为一天写 100 行的程序员很可能比写 20 行的程序员更好，但写 5000 行的程序员肯定是*糟糕的*程序员

* * *

## 回答 #129

> 赞同：11
> 
> 时间：2009-01-02T17:27:35.833

**SQL 可以而且应该做得更好。** 由于其原始规范有限，多年来，各种供应商一直在向不同方向扩展该语言。为 MS-SQL 编写的 SQL 与为 Oracle、IBM、MySQL、Sybase 等编写的 SQL 不同。其他严肃的语言（例如 C++）经过仔细标准化，因此在一种编译器下编写的 C++ 通常在另一种编译器下未经修改即可编译。为什么不能更好地设计和标准化 SQL？

**HTML 作为浏览器显示语言是一个严重错误的选择。** 我们花了数年时间通过 CSS、XHTML、Javascript、Ajax、Flash 等对其进行扩展，以制作可用的 UI，但结果仍然不如您基本的厚客户端 Windows 应用程序。另外，一个称职的 Web 程序员现在需要了解三四种语言才能制作出像样的 UI。

哦耶。匈牙利符号是可憎的。

* * *

## 回答 #130

> 赞同：11
> 
> 时间：2009-01-09T01:51:13.880

90% 的程序员都是非常糟糕的程序员，几乎我们所有人都绝对没有工具来评估我们当前的能力水平（尽管我们通常可以回顾并意识到我们曾经有多糟糕）

我不打算发布这个，因为它让每个人都生气，而且我并不是真的试图获得负分或任何东西，但是：

A）这不是问题的重点吗？

B）该线程中的大多数“答案”都证明了这一点

前几天我听到了一个很好的类比：编程能力的差异至少与运动能力的差异一样大。我们当中有多少人可以跳入专业团队并真正提高他们的机会？

* * *

## 回答 #131

> 赞同：11
> 
> 时间：2009-01-06T17:14:22.583

这个主要是网络相关的，但......

**为您的网页布局使用表格**

如果我正在开发一个需要压缩性能的巨大网站，我可能会考虑它，但没有什么比表格更容易让我在浏览器上获得一致的外观。我开发的大多数应用程序都是为大约 100-1000 个用户提供的，一次最多可能有 100 个。表格的额外膨胀并没有以任何方式杀死我的服务器。

* * *

## 回答 #132

> 赞同：11
> 
> 时间：2009-04-04T13:20:02.563

我不知道这是否真的有争议，但是如何：**方法和函数名称是您的代码可以拥有的最好的注释；如果您发现自己在写评论，请将您正在评论的代码段转换为函数/方法。**

这样做有一个令人愉快的副作用，它会迫使你很好地分解你的程序，避免注释很快就会与现实不同步，给你一些你可以用 grep 查询代码库的东西，并且让你的代码带有新鲜的柠檬味。

* * *

## 回答 #133

> 赞同：11
> 
> 时间：2009-10-17T06:12:10.760

复制/粘贴**是万恶**之源。

* * *

## 回答 #134

> 赞同：10
> 
> 时间：2009-01-07T11:06:49.533

**绝大多数正在开发的软件在收集需求时不涉及最终用户。**

通常只有一些经理提供“要求”。

* * *

## 回答 #135

> 赞同：10
> 
> 时间：2009-01-08T20:21:32.313

**任何功能足够强大的库都太复杂而无法使用，任何简单到可以使用的库都缺乏成为良好通用解决方案所需的功能。**

我经常遇到这个。使用起来非常复杂的详尽库让我大吃一惊，简单易用的库并不能完全满足我的需求。

* * *

## 回答 #136

> 赞同：10
> 
> 时间：2009-01-03T20:30:22.830

我有争议的意见？Java 不烂，但 Java API 很烂。为什么 java 库坚持让简单的任务变得困难？为什么他们不修复 API，而是创建框架来帮助管理样板代码？这种观点适用于任何需要 10 行或更多行代码才能从文件中读取一行的语言。

* * *

## 回答 #137

> 赞同：10
> 
> 时间：2009-01-02T16:48:00.970

# 使用存储过程

除非您正在编写由不可重用的 SQL 查询组成的大型过程函数，否则请将您的数据库存储过程移动到版本控制中。

* * *

## 回答 #138

> 赞同：10
> 
> 时间：2009-01-02T17:20:25.553

创建类似于患有疯牛病的椒盐脆饼的 UML 图的能力实际上并不是一项有用的软件开发技能。

绘制代码的重点是可视化连接，查看设计的形状。但是，一旦您通过了某种相当低的复杂性，可视化就无法在心理上进行处理。仅当您坚持直线时，以图形方式进行连接才会简单，这通常会使图表更难阅读，而不是巧妙地将连接分组并沿着基本方向布线。

仅将图表用于广泛的交流目的，并且仅在它们被理解为谎言时使用。

* * *

## 回答 #139

> 赞同：10
> 
> 时间：2009-01-02T17:20:26.473

这个怎么样：

**垃圾收集器实际上损害了程序员的工作效率并使资源泄漏更难找到和修复**

请注意，我说的是一般的资源，而不仅仅是内存。

* * *

## 回答 #140

> 赞同：10
> 
> 时间：2009-11-01T12:55:11.037

使软件可配置是一个坏主意。

可配置的软件允许最终用户（或管理员等）选择太多选项，这些选项可能并未一起测试过（或者更确切地说，如果数量非常少，我可以保证不会被测试过）。

因此，我认为将其配置硬编码（但不一定回避常量等）的软件只是 WORK 是一个好主意。使用合理的默认值运行，不要让它们被更改。

一个很好的例子是 Google Chrome 上的配置选项的数量 - 但是，这可能仍然太多了 :)

* * *

## 回答 #141

> 赞同：10
> 
> 时间：2009-01-26T15:14:39.277

**大多数开发人员都不知道**

是的..你去。我已经说过了。我从我个人认识的所有开发人员中发现......实际上只有少数几个是好的。只有少数人明白代码应该经过测试……面向对象的开发方法实际上可以帮助您。令人沮丧的是，有些人获得了开发人员的头衔，而实际上他们所能做的就是复制和粘贴一些源代码，然后执行它。

无论如何......我很高兴像 stackoverflow 这样的计划正在启动。开发人员想知道是件好事。有没有更好的办法？我做得对吗？也许我可以使用这种技术来加快速度，等等......

但是不...大多数开发人员只是学习他们工作所需的语言并坚持下去，直到他们自己成为不知道发生了什么的老而脾气暴躁的开发人员。他们将得到的只是一大笔薪水，因为他们只是比你大。

嗯……IT 社区的生活是不公平的，我将来会采取措施忽略这些人。万岁！

* * *

## 回答 #142

> 赞同：10
> 
> 时间：2009-01-02T22:36:02.420

### `self`在 Python 的方法声明中明确是糟糕的设计选择。

方法调用有语法糖，但声明没有。这是一个泄漏的抽象（设计使然！），它会导致恼人的错误，包括运行时错误，在报告的参数数量中出现明显的错误。

* * *

## 回答 #143

> 赞同：10
> 
> 时间：2009-05-02T09:57:59.463

**编码是一门艺术**

有些人认为编码是一门艺术，而另一些人则认为编码是一门科学。

“科学”派认为，既然目标是为某种情况获得最优代码，那么编码就是研究如何获得最优代码的科学。

“艺术”派认为，获取最优代码的方法有很多种，过程充满主观性，根据自己的技能和经验进行明智的选择是一门艺术。

* * *

## 回答 #144

> 赞同：10
> 
> 时间：2009-11-07T02:54:15.163

Microsoft 应该停止支持任何与 Visual Basic 打交道的东西。

* * *

## 回答 #145

> 赞同：10
> 
> 时间：2009-07-20T21:37:08.893

# 递归很有趣。

是的，我知道这可能是对堆栈空间和所有爵士乐的无效使用。但有时，与迭代算法相比，递归算法非常好和干净。当我可以在某个地方偷偷使用递归函数时，我总是会有点高兴。

* * *

## 回答 #146

> 赞同：10
> 
> 时间：2009-12-14T23:58:07.113

**像 SharePoint 这样的 Intranet 框架让我觉得整个企业界都是一只头埋在沙子里的巨型鸵鸟**

我在这里谈论的不仅是 MOSS，我还使用过其他一些 CORPORATE INTRANET 产品，而且绝对没有一个是伟大的，但 SharePoint (MOSS) 是迄今为止最差的。

*   这些系统中的大多数都不容易弥合 Intranet 和 Internet 之间的差距。因此，作为远程​​工作人员，您被迫使用 VPN。外部客户只是没有机会直接掌握您的内部信息。当然，这可以固定在 $$$ 的价格。
*   搜索能力总是很可怜。很多时候其他部门根本不知道那里有信息。
*   信息碎片，人们开始抵制工作流程或恢复到电子邮件
*   SharePoint 开发是地球上最痛苦的开发形式。没有什么比 SharePoint 更糟糕的了。我见过一些开发人员在与 MOSS 合作一年多后考虑退出 IT。
*   无论开发者多么讨厌 MOSS，无论最基本的项目需要多长时间才能推出，无论结果看起来多么新手，无论内容多么不可搜索和碎片化：

每个人仍然继续使用和购买 SHAREPOINT，经理们仍然非常努力地假装它不是撒旦的产物。

**微格式**

使用最初为视觉布局设计的 CSS 类 - 现在被分配给视觉和上下文数据是一种 hack，充满了歧义。并不是说该功能不应该存在，而是修复该死的基础语言。HTML 没有被破解来生成 XML，而是 XML 语言出现了。现在我们有这些热心的脚本小子破解 HTML 和 CSS 来做一些它不是设计来做的事情，这仍然很好，但我希望他们能把这些事情留给自己，而不是制定标准。只是为了一些 - 屠杀！

* * *

## 回答 #147

> 赞同：9
> 
> 时间：2009-01-02T15:38:02.000

Rob Pike 写道：“数据占主导地位。如果你选择了正确的数据结构并将事物组织得很好，那么算法几乎总是不言而喻的。数据结构而不是算法是编程的核心。”

而且由于这些天任何重要的数据都在数百万条记录中，我认为良好的数据建模是最重要的编程技能（无论是使用 rdbms 还是类似 sqlite 或 amazon simpleDB 或 google appengine 数据存储）。

当数据，所有数据都存储在这样的数据存储系统中时，不再需要花哨的搜索和排序算法。

* * *

## 回答 #148

> 赞同：9
> 
> 时间：2009-01-10T00:25:37.680

**有时赶上潮流是可以的**

我厌倦了表现出“爷爷综合症”的人（“你们这些孩子和你们新奇的测试驱动开发。 过去十年中出现的*每一项重大技术都很糟糕。回到我的时代，我们编写了**真正的*代码！”......你明白了这个想法）。

有时流行的东西之所以流行是有原因的。

* * *

## 回答 #149

> 赞同：9
> 
> 时间：2009-01-03T01:36:01.497

Preconditions for arguments to methods/functions should be part of the language rather than programmers checking it always.

* * *

## 回答 #150

> 赞同：9
> 
> 时间：2009-01-03T00:01:50.093

**Web 应用程序很烂**

我的互联网连接非常缓慢。我对几乎所有非 Google 网站的体验至少是令人沮丧的。为什么不再有人编写桌面应用程序了？我懂了。没有人愿意为学习操作系统如何工作而烦恼。至少，不是 Windows。上次你不得不处理的时候`WM_PAINT`，你的头爆炸了。创建一个工作线程来执行一项长任务（我的意思是，以 Windows 的方式进行）完全超出了你的能力范围。回调是什么鬼？我的天啊！

* * *

**垃圾收集很烂**

不，它实际上没有。但这让程序员很糟糕。在大学里，他们教给我们的第一门语言是 Visual Basic（最初的语言）。在那之后，还有一门课，老师们*假装*他们教我们 C++。但是伤害已经造成。实际上没有人知道如何使用这个深奥的关键字`delete`。在测试我们的程序后，我们要么得到无效地址异常，要么出现内存泄漏。有时，我们两个都有。在我真正会编程的 1% 的教师中，只有一个能自己管理自己的记忆（至少，他假装）并且他正在写这篇咆哮。其余的人用 VB.NET 编写程序，根据定义，VB.NET 是一种糟糕的语言。

* * *

**动态打字很烂**

当然，除非您使用的是汇编程序（这种动态类型实际上值得称赞）。我的意思是*动态的解释性语言强加的开销让它们很糟糕*。并且不要提出*不同工具适合不同工作的*愚蠢论点。C 是几乎所有东西的正确语言（它快速、强大且可移植），而且，当它不是（它不够快）时，总是有内联汇编。

* * *

我可能会想出更多的咆哮，但这将是以后，而不是现在。

* * *

## 回答 #151

> 赞同：9
> 
> 时间：2009-08-01T08:25:39.677

微软并没有很多人说的那么糟糕。

* * *

## 回答 #152

> 赞同：9
> 
> 时间：2009-01-02T14:30:23.820

大多数语言支持者都会制造很多噪音。

* * *

## 回答 #153

> 赞同：9
> 
> 时间：2009-01-18T10:39:08.570

VB 6 既可用于善也可用于恶。在编码过于复杂的时代，这是一个快速应用程序开发环境。

过去我非常讨厌 VB，并且由于我不喜欢经典的 VB，仍然将 VB.NET（可能是开玩笑的）嘲笑为费雪语言，但在当时，没有什么能比它更好地完成工作。

* * *

## 回答 #154

> 赞同：9
> 
> 时间：2009-01-25T18:03:51.370

**代码生成不好**

我讨厌要求您为简单的事情使用代码生成（或复制和粘贴）的语言，例如带有所有 Getter 和 Setter 的 JavaBeans。

C# 的 AutoProperties 是朝着正确方向迈出的一步，但是对于具有字段、属性和构造函数参数的出色 DTO，您仍然需要大量冗余。

* * *

## 回答 #155

> 赞同：9
> 
> 时间：2009-01-02T15:09:36.613

* * *

## 回答 #156

> 赞同：9
> 
> 时间：2009-01-26T07:07:27.030

**如果您需要阅读手册，则该软件还不够好。**

干净利落 ：-）

* * *

## 回答 #157

> 赞同：9
> 
> 时间：2009-01-03T10:46:14.567

**需求分析、规范、设计和文档几乎永远不会适合“模板”。** 100% 的情况是，从一个空白文档开始，然后开始输入“我会以这样的方式解释这一点，如果我死了而其他人阅读了这份文档，他们会知道我的一切现在知道、看到和理解”，然后从那里组织起来，让章节标题等自然发展并适合您指定的任务，而不是受限于某些企业或学校对您的文档应该是什么样子的想法。如果你必须做一个图表，而不是使用某人的正式和难以理解的系统，你通常最好只画一个有意义的图表，带有一个清晰的图例，它实际上指定了你试图指定的系统并传达信息另一端的开发人员（通常是您，

[如果你必须这样做，一旦你编写了真正的文档，你通常可以将它硬塞到你的组织强加给你的任何模板中。不过，您可能会发现自己不得不添加章节标题和重复材料。]

此类文档的唯一模板是当您有大量本质上非常相似，仅在细节上有所不同的任务时。“编写一个程序，允许通过此调制解调器库进行一次性远程登录访问，驱动与 C-Kermit 的终端连接，”“生成容量使用的历史趋势和预测报告”，“使用此库为所有报告提供能够被传真、“修复此代码以解决 2000 年问题”和“将数据库触发器添加到此表以填充第三方供应商为我们提供的软件产品”**不能**无论人们怎么想，都可以用同一个模板来描述。并且为了记录，我的大学课程试图教给我和我的同学的要求和设计图表技术不能用来指定一个简单的计算器程序（每个人都知道）。

* * *

## 回答 #158

> 赞同：9
> 
> 时间：2009-01-05T11:20:42.580

**对于一门好的程序员语言来说不是问题。**

这可能不是很有争议，但我从其他程序员那里听到了很多抱怨，比如“为什么他们不都使用 delphi？”、“C# 很烂”、“如果他们强迫我使用 java，我会换公司”等等.
我认为一个好的程序员是灵活的，能够用他一生中可能需要学习的任何编程语言编写好的程序

* * *

## 回答 #159

> 赞同：9
> 
> 时间：2009-11-13T01:12:33.317

**编程既不是艺术也不是科学。它是一门工程学科。**

这不是艺术：编程肯定需要创造力。这并不能使它成为艺术。代码的设计和编写是为了正常工作，而不是情绪激动。除了空格，出于审美原因更改代码会破坏您的代码。虽然代码可以很漂亮，但艺术并不是主要目的。

这不是科学：科学和技术密不可分，但编程属于技术范畴。编程不是系统的学习和观察；它是设计和实现。

这是一门工程学科：程序员设计和构建事物。优秀的程序员为功能而设计。他们了解不同实施方案的权衡，并选择适合他们正在解决的问题的方案。

* * *

我敢肯定，有些人会喜欢解析单词，将艺术和科学的定义扩展到仅包括编程或将工程限制为机械机器或硬件。检查字典。此外，“计算机编程的艺术”是一种不同的艺术用法，表示技能或工艺，如“对话的艺术”。编程的产物不是艺术。

* * *

## 回答 #160

> 赞同：8
> 
> 时间：2009-01-16T15:03:19.430

**A good developer needs to know more than just how to code**

* * *

## 回答 #161

> 赞同：8
> 
> 时间：2009-01-08T13:37:04.283

代码*就是*设计

* * *

## 回答 #162

> 赞同：8
> 
> 时间：2009-01-14T02:59:36.510

汇编是最好的第一编程语言。

* * *

## 回答 #163

> 赞同：8
> 
> 时间：2009-02-04T00:09:08.393

**过早的优化**不是**万恶**之源！缺乏适当的计划是万恶之源。

记住旧的海军锯

> 适当的计划可以防止 P*ss 表现不佳！

* * *

## 回答 #164

> 赞同：8
> 
> 时间：2009-01-03T03:52:54.137

最好的程序员在调试器中跟踪他们的所有代码并测试所有路径。

好吧...... OP说有争议！

* * *

## 回答 #165

> 赞同：8
> 
> 时间：2009-01-03T05:11:31.310

Correct every defect when it's discovered. Not just "severity 1" defects; **all** defects.

Establish a deployment mechanism that makes application updates immediately available to users, but allows them to choose when to accept these updates. Establish a direct communication mechanism with users that enables them to report defects, relate their experience with updates, and suggest improvements.

With aggressive testing, many defects can be discovered during the iteration in which they are created; immediately correcting them reduces developer interrupts, a significant contributor to defect creation. Immediately correcting defects reported by users forges a constructive community, replacing product quality with product improvement as the main topic of conversation. Implementing user-suggested improvements that are consistent with your vision and strategy produces community of enthusiastic evangelists.

* * *

## 回答 #166

> 赞同：8
> 
> 时间：2009-01-03T06:26:54.250

Web services absolutely suck, and are not the way of the future. They are ridiculously inefficient and they don't guarantee ordered delivery. Web services should NEVER be used within a system where both client and server are being written. They are mostly useful for micky mouse mash-up type applications. They should definitely not be used for any kind of connection-oriented communication.

This stance has gotten myself and colleagues into some very heated discussions, since web services is such a buzzy topic. Any project that mandates the use of web services is doomed because it is clearly already having ridiculous demands pushed down from management.

* * *

## 回答 #167

> 赞同：8
> 
> 时间：2009-12-15T05:01:41.030

**关系数据库系统*将*是自切片面包以来最好的东西......**

...当我们（希望）得到它们时，就是这样。SQL 数据库太糟糕了，这并不好笑。

我觉得有趣（如果难过的话）是*经过认证的 DBA*，他们认为 SQL 数据库系统是一个关系系统。说明了上述认证的质量。

使困惑？阅读 CJ Date 的书籍。

**编辑**

为什么它被称为*关系*，这个词是什么意思？

如今，具有强大（见鬼，*任何*）数学背景的程序员（或认证 DBA，*wink* ）是一个例外，而不是常见情况（我也是常见情况的一个实例）。SQL 及其*表*、*列*和*行*，以及称为实体/关系建模的笑话只会雪上加霜。难怪由于*实体*（表）之间的某些*关系*（外键？）而被称为*关系*数据库系统的误解如此普遍。

 ***事实上，*Relational*源自关系的*数学*概念，因此与集合论和函数密切相关（在数学意义上，而不是任何编程意义上）。

[ [http://en.wikipedia.org/wiki/Finitary_relation][2]](http://en.wikipedia.org/wiki/Finitary_relation][2])：

> 在数学中（更具体地说，在集合论和逻辑中），**关系**是将真值分配给 k 个个体的组合（*k**个*元组）的属性。通常，该属性描述了*k*元组的组件之间的可能连接。对于给定的一组*k*元组，根据属性是否成立，为每个*k*元组分配一个真值。
> 
>  ***三元关系（即三个人之间）的一个例子是：“ *X*被*Z*引入*Y* ”，其中 (X,Y,Z) 是一个人的三元组；例如，“马塞尔·杜尚将比阿特丽斯·伍德介绍给亨利-皮埃尔·罗什”是正确的，而“维多利亚女王将卡尔·马克思介绍给了弗里德里希·恩格斯”是错误的。***

 ***Wikipedia 非常清楚：在 SQL DBMS 中，这样的三元关系将是“*表*”，而不是“*外键*”（我冒昧地重命名关系的“列”：X = who, Y = to, Z = by):

```
CREATE TABLE introduction (
  who INDIVIDUAL NOT NULL
, to INDIVIDUAL NOT NULL
, by INDIVIDUAL NOT NULL
, PRIMARY KEY (who, to, by)
); 
```

此外，它将包含（除其他外，可能）这个“*行*”：

```
INSERT INTO introduction (
  who
, to
, by
) VALUES (
  'Beatrice Wood'
, 'Henri-Pierre Roché'
, 'Marcel Duchamp'
); 
```

但不是这个：

```
INSERT INTO introduction (
  who
, to
, by
) VALUES (
  'Karl Marx'
, 'Friedrich Engels'
, 'Queen Victoria'
); 
```

关系数据库字典：

> **关系（数学）**给定集合*s1* , *s2* , ..., *sn*，不一定不同，当且仅当它是一组*n*元组，每个元组的第一个元素来自*s1时，* *r*是这些集合上的关系，它的第二个元素来自*s2*的元素，依此类推。（等效地，*r*是笛卡尔积*s1* x *s2* x ... x *sn*的子集。）
> 
>  ***集合*si*是*r* ( *i* = 1, ..., *n* ) 的第*i*个域。*注意*：数学中的关系与其对应的关系模型之间存在几个重要的逻辑差异。这里是其中的一些：
> 
>  ****   数学关系对其属性具有从左到右的顺序。
> *   实际上，无论如何，数学关系充其量只是一个非常基本的属性概念。当然，它们的属性没有被命名，除了它们的序号位置。
> *   因此，数学关系实际上并没有关系模型意义上的标题或类型。
> *   数学关系通常是二元的，或者只是偶尔是一元的。相比之下，关系模型中的关系是*n 次*的，其中*n*可以是任何非负整数。
> *   JOIN、EXTEND 等关系运算符首先是在关系模型的上下文中专门定义的；关系的数学理论很少包含这样的算子。
> 
> 依此类推（上述内容并不详尽）。******

 *** * *

## 回答 #168

> 赞同：8
> 
> 时间：2009-03-30T12:13:35.547

**开发人员过度使用数据库**

开发人员经常将数据存储在 DBMS 中，而这些数据应该在代码或文件中。我见过一个存储“系统密码”（与用户表分开）的一列一行表。我见过存储在数据库中的常量。我见过会让成年编码员哭泣的数据库。

有问题的编码人员对 DBMS 有某种神秘的敬畏——数据库可以做任何事情，但他们不知道它是如何工作的。DBA 练习一种黑色艺术。它还允许责任转移：*“数据库太慢”、* *“数据库做到了”* 等借口很常见。

如果不加以控制，这些编码人员会继续开发数据库中的数据库、系统中的系统。（这个反模式有一个名字，但我忘记了它是什么。）

* * *

## 回答 #169

> 赞同：8
> 
> 时间：2009-01-04T05:09:26.103

**不断测试**

你必须编写测试，而且你必须首先编写它们。编写测试会改变您编写代码的方式。它让你在你开始写一些除了你想要它做的事情之外的所有事情之前考虑你想要它实际做的事情。

它也给你目标。看着你的测试变得绿色，让你有一点额外的信心，你正在完成一些事情。

它还为您为边缘案例编写测试提供了基础。由于您一开始就针对测试编写代码，因此您的代码中可能有一些要测试的钩子。

没有理由不测试您的代码。如果你不这样做，你只是懒惰。我还认为您应该先进行测试，因为这样做的好处超过了以这种方式编写代码所花费的额外时间。

* * *

## 回答 #170

> 赞同：8
> 
> 时间：2009-01-02T19:26:49.730

**关系数据库对于 Web 应用程序来说很糟糕。**

例如：

*   线程评论
*   标签云
*   用户搜索
*   维护记录查看次数
*   提供撤消/修订跟踪
*   多步骤向导

* * *

## 回答 #171

> 赞同：8
> 
> 时间：2009-01-02T23:02:39.683

我们在这里使用我们构建的模型-视图-控制器框架进行了大量开发。我经常告诉我的开发人员，我们需要违反 MVC 设计模式的规则才能使网站运行得更快。这对开发人员来说是一个硬卖，他们通常不愿意为任何事情牺牲精心设计的代码。但是性能是我们构建 Web 应用程序的重中之重，所以有时我们不得不在框架上做出让步。

例如，视图层不应该直接与数据库对话，对吧？但是，如果您正在生成大型报告，应用程序将使用大量内存将数据向上传递到模型和控制器层。如果你有一个支持游标的数据库，它可以让应用程序更快地从视图层直接访问数据库。

性能胜过开发标准，这是我有争议的观点。

* * *

## 回答 #172

> 赞同：8
> 
> 时间：2009-01-02T23:05:44.013

我相信使用 try/catch 异常处理比使用简单的返回码和相关的常见消息结构来传递有用的错误消息更糟糕。

使用 try/catch 块乱扔代码不是解决方案。

只是将异常向上传递到堆栈中，希望上面的内容会做正确的事情或生成信息性错误，这不是解决方案。

认为您有任何机会系统地验证正确的异常处理程序是否可以解决透明或不透明对象中可能出现的任何问题是不现实的。（还要考虑后期绑定/外部库和调用堆栈中不相关函数之间的不必要的依赖关系随着系统的发展）

返回码的使用很简单，可以很容易地系统地验证覆盖率，如果处理得当，开发人员会生成有用的错误消息，而不是太常见的堆栈转储和晦涩难懂的 I/O 异常，这些异常“异常”甚至对最了解最终用户。

--

我的最后一个反对意见是使用垃圾收集语言。不要误会我的意思。我在某些情况下喜欢它们，但一般来说，对于服务器/MC 系统，它们在我看来是没有位置的。

GC 并非万无一失——即使是设计得非常好的 GC 算法也可能基于其依赖图中不明显的循环引用而挂在对象上太久甚至永远。

遵循一些简单模式和使用内存记帐工具的非 GC 系统没有这个问题，但与 GC 环境相比，它需要更多的前期设计和测试工作。此处的权衡是，在非 GC 测试期间非常容易发现内存泄漏，而发现与 GC 相关的问题条件则要困难得多。

内存很便宜，但是当您泄漏昂贵的对象（例如事务句柄、同步对象、套接字连接……等）时会发生什么。在我的环境中，如果没有对软件描述进行重大的根本更改，那么您可以坐下来让语言为您担心这一点的想法是不可想象的。

* * *

## 回答 #173

> 赞同：8
> 
> 时间：2009-05-10T06:50:46.700

有时您必须对数据库进行非规范化。

大多数程序员都不喜欢这种观点，但有时您必须牺牲诸如规范化之类的东西来提高性能。

* * *

## 回答 #174

> 赞同：8
> 
> 时间：2009-11-12T12:10:22.757

## 汇编程序没有死

在我的工作（复制保护系统）中，汇编程序编程是必不可少的，我正在使用许多 hll 复制保护系统，只有汇编程序才能让您真正拥有利用隐藏在代码中的所有可能性（如代码突变、低级东西）的真正能力。

还有许多代码优化只能通过汇编程序进行，查看任何视频编解码器的源代码，源代码是用汇编程序编写的，并优化为使用 MMX/SSE/SSE2 操作码，许多游戏引擎使用汇编程序优化的例程，甚至 Windows 内核也有SSE 优化例程：

```
NTDLL.RtlMoveMemory

.text:7C902CD8                 push    ebp
.text:7C902CD9                 mov     ebp, esp
.text:7C902CDB                 push    esi
.text:7C902CDC                 push    edi
.text:7C902CDD                 push    ebx
.text:7C902CDE                 mov     esi, [ebp+0Ch]
.text:7C902CE1                 mov     edi, [ebp+8]
.text:7C902CE4                 mov     ecx, [ebp+10h]
.text:7C902CE7                 mov     eax, [esi]
.text:7C902CE9                 cld
.text:7C902CEA                 mov     edx, ecx
.text:7C902CEC                 and     ecx, 3Fh
.text:7C902CEF                 shr     edx, 6
.text:7C902CF2                 jz      loc_7C902EF2
.text:7C902CF8                 dec     edx
.text:7C902CF9                 jz      loc_7C902E77
.text:7C902CFF                 prefetchnta byte ptr [esi-80h]
.text:7C902D03                 dec     edx
.text:7C902D04                 jz      loc_7C902E03
.text:7C902D0A                 prefetchnta byte ptr [esi-40h]
.text:7C902D0E                 dec     edx
.text:7C902D0F                 jz      short loc_7C902D8F
.text:7C902D11
.text:7C902D11 loc_7C902D11:                           ; CODE XREF: .text:7C902D8Dj
.text:7C902D11                 prefetchnta byte ptr [esi+100h]
.text:7C902D18                 mov     eax, [esi]
.text:7C902D1A                 mov     ebx, [esi+4]
.text:7C902D1D                 movnti  [edi], eax
.text:7C902D20                 movnti  [edi+4], ebx
.text:7C902D24                 mov     eax, [esi+8]
.text:7C902D27                 mov     ebx, [esi+0Ch]
.text:7C902D2A                 movnti  [edi+8], eax
.text:7C902D2E                 movnti  [edi+0Ch], ebx
.text:7C902D32                 mov     eax, [esi+10h]
.text:7C902D35                 mov     ebx, [esi+14h]
.text:7C902D38                 movnti  [edi+10h], eax 
```

因此，如果您下次听到该汇编程序已死，请考虑您观看的最后一部电影或您玩过的游戏（以及它的版权保护呵呵）。

* * *

## 回答 #175

> 赞同：8
> 
> 时间：2009-10-29T18:48:35.930

**编程：这是一项有趣的*工作*。**

我似乎看到了两组广义的开发人员。那些不喜欢它但他们有能力并且有钱的人。另一个喜欢它的群体有点令人毛骨悚然。这似乎是他们的生活。

我只是认为通常有趣和有趣的高薪工作。每天每时每刻都有各种各样的空间来学习新事物。我想不出我更喜欢的另一份工作。但这仍然是一份工作。会做出妥协，你生产的东西不会总是那么好。

考虑到我的德鲁特人会在海滩上喝啤酒或和我的孩子们玩耍。

* * *

## 回答 #176

> 赞同：8
> 
> 时间：2009-12-03T13:38:12.630

**自己编写可能是一个有效的选择。**

根据我的经验，在使用 3rd 方代码解决问题时似乎过于热情。自己解决问题的选择通常不会引起人们的注意。虽然不要误会我的意思，但我并不是在宣传永远不要使用库。我要说的是：在您考虑使用的可能框架和模块中，添加自己实施解决方案的选项。

但你为什么要编写自己的版本？

*   不要重新发明轮子。但是，如果你只需要一块木头，你真的需要一个完整的车轮吗？换句话说，你真的需要 openCV 来沿轴翻转图像吗？
*   妥协。为了能够使用特定的库，您通常必须对您的设计做出妥协。您必须合并的更改量是否值得您将获得的功能？
*   学习。你必须学会​​使用这些新的框架和模块。你需要多长时间？值得你花时间吗？学习会比实施需要更长的时间吗？
*   成本。并非一切都是免费的。虽然，这包括你的时间。考虑一下您将要使用的这个软件会为您节省多少时间，以及它是否物有所值？（还请记住，您必须投入时间来学习它）
*   你是一个程序员，而不是......一个只是点击在一起的人（对不起，想不出任何机智的东西）。

最后一点值得商榷。

* * *

## 回答 #177

> 赞同：7
> 
> 时间：2009-01-16T15:23:02.197

## Write your spec when you are finished coding. (if at all)

In many projects I have been involved in, a great deal of effort was spent at the outset writing a "spec" in Microsoft Word. This process culminated in a "sign off" meeting when the big shots bought in on the project, and after that meeting nobody ever looked at this document again. These documents are a complete waste of time and don't reflect how software is actually designed. This is not to say there are not other valuable artifacts of application design. They are usually contained on index cards, snapshots of whiteboards, cocktail napkins and other similar media that provide a kind of timeline for the app design. These are usually are the real specs of the app. If you are going to write a Word document, (and I am not particularly saying you should) do it at the end of the project. At least it will accurately represent what has been done in the code and might help someone down the road like the the QA team or the next version developers.

* * *

## 回答 #178

> 赞同：7
> 
> 时间：2009-10-14T16:55:23.970

有争议吧？我认为 C++ 流使用 << 和 >> 的事实。我讨厌它。他们是轮班操作员。以这种方式重载它们显然是不好的做法。这让我想杀死提出这个想法并认为这是个好主意的人。GRRR。

* * *

## 回答 #179

> 赞同：7
> 
> 时间：2009-03-27T16:59:45.647

我有争议的观点： **OO 编程被大大高估了[并被视为银弹]，当它实际上只是工具箱中的*另一个*工具时，仅此而已！**

* * *

## 回答 #180

> 赞同：7
> 
> 时间：2009-11-01T12:36:45.037

**现代 C++ 是一门美丽的语言**。

在那里，我说了算。很多人真的很讨厌 C++，但老实说，我发现带有 STL/Boost 风格编程的现代 C++ 在大多数情况下是一种非常富有表现力、优雅和令人难以置信的高效语言。

我认为大多数讨厌 C++ 的人都是基于对 OO 的糟糕体验。C++ 没有很好地做 OO，因为多态性通常依赖于堆分配的对象，而 C++ 没有自动垃圾收集。

但 C++ 在泛型库和函数式编程技术方面确实大放异彩，这使得构建令人难以置信的大型、高度可维护的系统成为可能。很多人说 C++ 试图做任何事情，但最终什么都做得不好。我可能同意它在面向对象方面的表现不如其他语言，但它在泛型编程和函数式编程方面***比***任何其他主流的基于 C 的语言都要好。（C++0x 只会进一步强调这个事实。）

我也很欣赏 C++ 如何让我在必要时获得低级，并提供对操作系统的完全访问权限。

加上 RAII。严重地。当我用其他基于 C 的语言编程时，我真的很想念析构函数。（不，垃圾收集不会使析构函数无用。）

* * *

## 回答 #181

> 赞同：7
> 
> 时间：2009-01-25T14:08:16.867

最佳实践是一种危险，因为它们要求我们用口号代替思考。

* * *

## 回答 #182

> 赞同：7
> 
> 时间：2009-04-29T18:13:20.390

**工具、方法、模式、框架等不能替代受过适当培训的程序员**

我厌倦了与那些认为最新的工具、方法、模式或框架是灵丹妙药的人（主要是经理）打交道，他们无需聘请有经验的开发人员来编写他们的软件。虽然，作为一名以拯救高危项目为生的顾问，我不应该抱怨。

* * *

## 回答 #183

> 赞同：7
> 
> 时间：2009-01-02T14:41:47.790

**[没有面向对象编程之类的东西。](http://apocalisp.wordpress.com/2008/12/04/no-such-thing/)**

* * *

## 回答 #184

> 赞同：7
> 
> 时间：2009-03-30T12:57:22.740

**大多数编程工作面试问题都是毫无意义的。尤其是那些程序员想出来的。**

这是一个常见的情况，至少根据我和我朋友的经验，一个自大的程序员会问你一些他花了数周时间在谷歌上搜索的棘手问题。有趣的是，你回到家并在一分钟内用谷歌搜索它。就像他们经常试图用他们*先进的武器*打败你，而不是检查你是否是一个全面、务实的团队合作者。

类似的愚蠢 IMO 是当您被要求提供高度可访问的基础知识时，例如：“哦，等等，让我看看您是否可以`insert_name_here`在一张纸上伪编码该算法（原文如此！）”。在申请高级编程工作时，我真的需要记住它吗？我应该有效地解决问题或难题吗？

* * *

## 回答 #185

> 赞同：7
> 
> 时间：2009-06-11T16:33:09.683

**最简单的方法是最好的方法**

程序员喜欢解决假设或推断的需求，这些需求会增加解决方案的复杂性。

“我认为这段代码将成为性能瓶颈，因此我将添加所有这些额外的代码来缓解这个问题。”

“我假设用户想要做 X，因此我将添加这个非常酷的附加功能。”

“如果我让我的代码解决这个不需要的场景，这将是一个使用我一直有兴趣尝试的新技术的好机会。”

实际上，满足要求的最简单的解决方案是最好的。如果出现新的要求或问题，这也为您提供了最大的灵活性，可以将您的解决方案引向新的方向。

* * *

## 回答 #186

> 赞同：7
> 
> 时间：2009-01-26T15:17:38.507

**社交技能比技术技能更重要**

具有良好社交能力的和蔼可亲但普通的程序员将比那些令人讨厌的优秀程序员拥有更成功的事业。

* * *

## 回答 #187

> 赞同：7
> 
> 时间：2009-07-21T15:10:48.760

**例外只应在真正例外的情况下使用**

在我最近从事的项目中，似乎异常的使用猖獗。

这是一个例子：

我们有拦截 Web 请求的过滤器。过滤器调用筛选器，筛选器的工作是检查请求是否具有某些输入参数并验证参数。您设置要检查的字段，抽象类确保参数不为空，然后调用特定类实现的 screen() 方法进行更多扩展验证：

```
public boolean processScreener(HttpServletRequest req, HttpServletResponse resp, FilterConfig filterConfig) throws Exception{           
            // 
            if (!checkFieldExistence(req)){
                    return false;
            }
            return screen(req,resp,filterConfig);
    } 
```

该 checkFieldExistance(req) 方法**永远不会**返回 false。如果没有字段丢失，则返回 true，如果字段丢失，则抛出异常。

我知道这是糟糕的设计，但部分问题是这里的一些架构师认为，每次遇到意外情况时都需要抛出异常。

另外，我知道 checkFieldExistance(req) 的签名**确实会**引发异常，只是我们几乎所有的方法都这样做 - 所以我没有想到该方法可能会引发异常而不是返回 false。直到我挖掘代码我才注意到它。

* * *

## 回答 #188

> 赞同：7
> 
> 时间：2009-11-08T17:55:45.030

**使用单元测试作为验证代码的最后手段。**

如果您想验证代码是否正确，我更喜欢以下技术而不是单元测试：

1.  类型检查
2.  断言
3.  可简单验证的代码

对于其他一切，都有单元测试。

* * *

## 回答 #189

> 赞同：7
> 
> 时间：2009-10-25T22:11:19.110

“评论是谎言”

评论不会运行，很容易被忽略。最好用单元测试说明的清晰、重构的代码来表达意图。（单元测试当然是写TDD...）

我们不写注释，因为它们冗长且模糊了代码中真正发生的事情。如果您觉得有必要发表评论 - 找出代码中不清楚的地方并重构/编写更清晰的测试，直到不需要评论......

...我从极限编程中学到的东西（当然假设您已经建立了清理代码的团队规范......）

* * *

## 回答 #190

> 赞同：7
> 
> 时间：2009-11-04T09:47:46.697

**JavaScript 是一种“凌乱”的语言，但上帝帮助我，我喜欢它。**

* * *

## 回答 #191

> 赞同：7
> 
> 时间：2009-11-14T18:44:08.910

不是真正的编程，但我不能仅仅为了它而忍受 css 布局。它适得其反，令人沮丧，并使维护成为浮动和边距的噩梦，其中更改单个元素的位置可能会使整个页面失控。

It's definitely not a popular opinion, but i'm done with my table layout in 20 minutes while the css gurus spend hours tweaking line-height, margins, padding and floats just to do something as basic as vertically centering a paragraph.

* * *

## 回答 #192

> 赞同：6
> 
> 时间：2009-09-16T10:45:47.147

**垃圾收集被高估了**

许多人认为在 Java 中引入垃圾收集是与 C++ 相比最大的改进之一。我认为介绍充其量只是很小的一部分，编写良好的 C++ 代码在适当的位置进行所有内存管理（使用 RAII 等技术），因此不需要垃圾收集器。

* * *

## 回答 #193

> 赞同：6
> 
> 时间：2009-11-25T23:10:09.907

**Don't be shy, throw an exception.** Exceptions are a perfectly valid way to signal failure, and are much clearer than any return-code system. "Exceptional" has nothing to do with how often this can happen, and everything to do with what the class considers normal execution conditions. Throwing an exception when a division by zero occurs is just fine, regardless of how often the case can happen. If the problem is likely, guard your code so that the method doesn't get called with incorrect arguments.

* * *

## 回答 #194

> 赞同：6
> 
> 时间：2009-01-10T00:08:38.777

**1\. 你不应该一直遵循网络标准。**

**2\. 你不需要注释你的代码。**

只要是陌生人可以理解的。

* * *

## 回答 #195

> 赞同：6
> 
> 时间：2009-01-10T00:23:19.807

由于这个我的答案有数百个可能最终未读，但无论如何这是我最讨厌的。

## 如果您是程序员，那么您很可能在网页设计/开发方面很糟糕

对于程序员来说，这个网站是一个非凡的资源，但如果您正在寻找 XHTML/CSS 帮助，那绝对是一个糟糕的地方。甚至这里的优秀 Web 开发人员也在分发 90 年代优秀资源的链接！

当然，XHTML 和 CSS 很容易学习。但是，您不仅仅是在学习一门语言！您正在学习如何很好地使用它，很少有设计师和开发人员可以做到这一点，更不用说程序员了。我花了很长时间才成为一名有能力的设计师，甚至更长时间成为一名优秀的开发人员。我从 10 岁起就可以用 HTML 编码，但这并不意味着我很优秀。现在我是 Photoshop 和 Illustrator 等程序中的一名有能力的设计师，我完全能够在记事本中编写一个好的网站，并且能够用多种语言编写基本脚本。不仅如此，我对搜索引擎优化技术有很好的了解，并且可以很容易地告诉你大多数人哪里出错了（提示：获取一些好的内容！）。

此外，这个地方对于 Web 标准的建议来说是一个糟糕的资源。您不应该只编写代码以在不同的浏览器中工作。您应该始终遵循标准以确保您的代码不会过时。当下一次浏览器更新出现时，您在网站上使用的修复程序通常会中断。不仅如此，好的浏览器无论如何都遵循标准。最后，允许 IE 破坏 Internet 的原因是因为您通过为 IE 编写网站来允许它！如果您要继续为 Firefox 这样做，那么我们将再次失败！

如果你认为基于表格的布局和 CSS 布局一样好，如果不比 CSS 布局更好，那么你不应该被允许谈论这个主题，至少在我没有先击落你的情况下。此外，如果您认为 W3Schools 是派人去的最佳资源，那么您就大错特错了。

如果您是 Web 设计/开发的新手，请不要打扰这个地方（这里到处都是程序员，而不是 Web 开发人员）。去一个好的网页设计/开发社区，比如[SitePoint](http://www.sitepoint.com/forums)。

* * *

## 回答 #196

> 赞同：6
> 
> 时间：2009-01-03T17:39:48.727

意见：**不应该有任何编译器警告，只有错误**。或者，以不同的方式制定**您应该始终使用 -Werror 编译您的代码**。

原因：要么编译器认为它应该被纠正，以防它应该是错误，要么没有必要修复，在这种情况下编译器应该关闭。

* * *

## 回答 #197

> 赞同：6
> 
> 时间：2009-01-03T03:15:33.120

根据我得到的大量反馈，我最有争议的观点显然是[程序员并不总是阅读他们声称读过的书](http://www.billthelizard.com/2008/12/books-programmers-dont-really-read.html)。紧随其后的是我认为[受过正规教育的程序员比自学成才](http://www.billthelizard.com/2008/12/education-vs-experience.html)的程序员要好（但不一定比自学成才*的其他*程序员好）。

* * *

## 回答 #198

> 赞同：6
> 
> 时间：2009-01-09T13:40:39.480

**两个大脑比一个大脑思考得更好**

我坚信结对编程是提高代码质量和编程效率的首要因素。不幸的是，对于相信“更多手 => 更多代码 => $$$！”的管理层来说，这也是一个极具争议的问题。

* * *

## 回答 #199

> 赞同：6
> 
> 时间：2009-01-02T13:27:24.290

我坚信非托管代码不值得麻烦。即使是最好的程序员偶尔也会引入与寻找内存泄漏相关的额外可维护性费用，远远超过从 C++ 等语言获得的性能。如果 Java、C# 等无法获得您需要的性能，请购买更多机器。

* * *

## 回答 #200

> 赞同：6
> 
> 时间：2009-01-05T21:11:23.183

**VB 很烂**
虽然一般来说没有太大的争议，但当你在 VB 的房子里工作时，它是

* * *

## 回答 #201

> 赞同：6
> 
> 时间：2009-01-02T17:32:43.890

**全局和/或单例本质上不是邪恶的**

我来自更多的系统管理员、shell、Perl（和我的“真正”编程）、PHP 类型背景；去年，我参加了 Java 开发工作。

单身人士是邪恶的。全球人是如此邪恶，他们甚至不被允许。然而，Java 有 AOP 之类的东西，现在还有各种“依赖注入”框架（我们使用 Google Guice）。AOP那么少，但DI的东西肯定会给你什么？全球人。嗯，谢谢。

* * *

## 回答 #202

> 赞同：6
> 
> 时间：2009-01-27T10:06:14.623

**您无法通过计算代码行数来衡量生产力。**

每个人都知道这一点，但由于某种原因，这种做法仍然存在！

* * *

## 回答 #203

> 赞同：6
> 
> 时间：2009-01-08T12:40:30.590

**关系数据库是浪费时间。改用对象数据库！**

关系数据库供应商试图欺骗我们，让我们相信世界上唯一可扩展、持久和安全的存储是关系数据库。我是一名经过认证的 DBA。您是否曾经花费数小时尝试优化查询却不知道出了什么问题？关系数据库不允许您在需要时创建自己的搜索路径。您将对应用程序速度的大部分控制权交给了素未谋面的人，他们并不像您想象的那么聪明。

当然，有时在维护良好的数据库中，他们会为复杂的查询提供快速答案。但是你为此付出的代价太高了！每次要读取数据条目时，您都必须在编写原始 SQL 之间做出选择，这很危险。或者使用一个对象关系映射器，它会增加更多的复杂性和你无法控制的事情。

更重要的是，您被主动禁止提出智能搜索算法，因为每次该死的数据库往返都会花费您大约 11 毫秒。实在是太多了。想象一下，你知道这个超级图算法，它会在适当的时候回答一个特定的问题，这个问题甚至可能在 SQL 中无法表达！但是即使你的算法是线性的，而且有趣的算法不是线性的，忘记将它与关系数据库结合起来，因为枚举一个大表会花费你几个小时！

将其与 SandstoneDb 或 Smalltalk 的 Gemstone 进行比较！如果您喜欢 Java，请试一试 db4o。

所以，我的建议是：使用对象数据库。当然，它们并不完美，有些查询会更慢。但你会惊讶有多少会更快。因为加载对象不需要在 SQL 和您的域数据之间进行所有这些奇怪的转换。如果你真的需要某个查询的速度，对象数据库有你应该信任的查询优化器：你的大脑。

* * *

## 回答 #204

> 赞同：6
> 
> 时间：2009-01-03T10:23:45.270

**您不应该选择第一种方式来编写“有效”的代码。**

我真的不认为这应该引起争议，但确实如此。人们从代码的其他地方、在线或一些旧的“在 3.14159 分钟内自学高级 SQLJava#BeansServer”一书中的代码中看到了一个示例，日期为 1999 年，他们认为他们知道一些东西并将其复制到他们的代码中。他们不会通过示例来找出每行的作用。他们不会考虑他们的程序的设计，而是看看是否有一种更有条理或更自然的方式来做同样的事情。他们不会尝试让自己的技能保持最新，以了解他们正在使用上一千年最后一年弃用的想法和方法。他们似乎没有经验去学习他们的东西

事实上，他们甚至似乎没有意识到做某事的方法可能不止一种。

我来自 Perl 世界，那里的口号之一是“有不止一种方法可以做到”。(TMTOWTDI) 粗略看过 Perl 的人将其写成“只写”或“不可读”，主要是因为他们看到了由具有我上面描述的思维方式的人编写的蹩脚代码。那些人对设计、可维护性、组织、减少代码重复、耦合、内聚、封装等零思考。他们写的是废话。这些人使用各种语言进行编程，并且易于学习的语言具有多种做事方式，为他们提供了充足的绳索和枪支来射击和上吊。同时。

但是，如果您在 Perl 世界中停留的时间不只是粗略地看一眼，并观察社区中的老员工正在做什么，您就会发现一件了不起的事情：优秀的 Perl 程序员会花一些时间来寻找**最好的**做某事的方法。当他们命名一个新模块时，他们会四处征求建议，并从人们那里得到他们的想法。他们将代码分发出去，以供查看、批评和修改。如果他们不得不做一些讨厌的事情，他们会以尽可能最小的方式将其封装在一个模块中，以便以更有条理的方式使用。同一个想法的几个实现可能会存在一段时间，但它们会争夺思想份额和市场份额，它们通过努力做最好的工作来竞争，其中很大一部分是让自己易于维护。真正优秀的 Perl 程序员似乎会**认真****思考** 他们正在做什么并寻找做事的最佳方式，而不是仅仅抓住脑海中闪过的第一个想法。

 **今天，我主要在 Java 世界中编程。我看过一些非常好的 Java 代码，但我也看到了很多垃圾，而且我看到了更多我在开始时描述的心态：人们在不理解它的情况下，只看到第一个看起来可以工作的丑陋代码块，不考虑是否有更好的方法。

您将在每种语言中看到这两种心态。我并不是要专门抨击 Java。（实际上我在某些方面真的很喜欢它......也许这应该是我真正有争议的观点！）但我开始相信每个程序员都需要花几年时间使用 TMTOWTDI 风格的语言，因为即使传统观点认为这会导致混乱和蹩脚的代码，它实际上似乎让人们明白你需要考虑你所做的事情的后果，而不是相信你的语言是为了让你做正确的事情而设计的毫不费力。

我确实认为您可能会在另一个方向上犯错误：即完全忽略您的真正需求和目标（通常是您的业务的真正需求和目标，通常是盈利能力）的完美主义。但是我不认为任何人都可以成为一个真正伟大的程序员，而不学习投入一些大于平均水平的努力来思考寻找最好的（或至少是最好的）方法来编写他们正在做的事情。

* * *

## 回答 #205

> 赞同：6
> 
> 时间：2009-05-05T20:33:44.403

**不是工具，是你**

每当开发人员尝试做一些新的事情，比如做 UML 图、任何类型的图表、项目管理时，他们首先会寻找解决问题的完美工具。经过无休止的搜索，发现没有合适的工具，他们的动力就会消失。剩下的就是抱怨缺乏可用的软件。正是因为缺少一个软件，要组织的计划就夭折了。

好吧，只有你自己与组织打交道。如果您习惯于组织，则可以借助或不借助软件（大多数都不需要）来组织。如果你不习惯组织没有人可以帮助你。

所以“没有合适的软件”只是根本没有组织的最简单的借口。

* * *

## 回答 #206

> 赞同：6
> 
> 时间：2009-01-02T19:25:12.447

我认为在 C# 中使用区域在 VS 中折叠代码是完全可以接受的。太多的人试图说它隐藏了你的代码，让你很难找到东西。但是，如果您正确使用它们，它们对于识别代码段非常有帮助。

* * *

## 回答 #207

> 赞同：6
> 
> 时间：2009-05-14T15:18:50.907

**反射在生产代码中没有位置**

反射打破了静态分析，包括重构工具和静态类型检查。反射也打破了开发人员对代码的正常假设。例如：向类中添加一个方法（不会影响类中的其他方法）永远不会产生任何影响，但是当使用反射时，其他一些代码可能会“发现”新方法并决定叫它。实际上确定是否存在这样的代码是棘手的。

我确实认为在代码生成器中使用反射和测试很好。

是的，这确实意味着我会尽量避免使用反射的框架。（Java 缺乏适当的编译时元编程支持太糟糕了）

* * *

## 回答 #208

> 赞同：6
> 
> 时间：2009-12-06T14:06:10.537

**Using regexs to parse HTML is, in many cases, fine**

Every time someone posts a question on Stack Overflow asking how to achieve some HTML manuipulation with a regex, the first answer is "Regex is a insufficient tool to parse HTML so don't do it". If the questioner was trying to build a web browser, this would be a helpful answer. However, usually the questioner wants to do some thing like add a rel tag to all the links to a certain domain, usually in a case when certain assumptions can be made about the style of the incoming markup, something that is entiely reasonable to do with a regex.

* * *

## 回答 #209

> 赞同：5
> 
> 时间：2009-01-16T09:59:08.423

**在软件设计和开发方面，设计模式是浪费时间。**

不要误会我的意思，设计模式很有用，但主要是作为一种沟通媒介。它们可以非常简洁地表达复杂的想法：工厂、单例、迭代器……

但它们不应该作为一种开发方法。开发人员经常使用一系列基于设计模式的类来构建他们的代码，在可读性和性能方面，更简洁的设计会更好。所有这一切都产生了个别类可以在其域之外重用的错觉。**如果一个类不是为重用而设计的，或者不是接口的一部分，那么它就是一个实现细节。**

设计模式应该用于为组织特征命名，而不是规定必须编写代码的方式。

*（这应该是有争议的，记得吗？）*

* * *

## 回答 #210

> 赞同：5
> 
> 时间：2009-09-29T03:14:48.170

*记事本是一个完美的文本编辑器。（有时用于非 Windows 换行符的写字板）*

*   编辑配置文件
*   查看日志文件
*   发展

我认识真正相信这一点的人！然而，他们将使用 IDE 进行开发，但继续使用记事本进行其他一切！

* * *

## 回答 #211

> 赞同：5
> 
> 时间：2009-01-08T20:31:24.447

有太多的程序员写了太多的代码。

* * *

## 回答 #212

> 赞同：5
> 
> 时间：2009-01-02T16:38:25.857

**后藤没问题！**（有没有足够的争议）
有时......所以给我们选择！例如，BASH 没有 goto。也许这有一些内部原因，但仍然如此。
此外，`goto`它是汇编语言的构建块。不适合你的 if 语句！:)

* * *

## 回答 #213

> 赞同：5
> 
> 时间：2009-01-03T18:18:08.540

**大多数“用户友好”的第四代语言（包括 SQL）都是毫无价值的被高估的垃圾，它们不应该被普遍使用。**

4GL 通常具有冗长且模棱两可的语法。尽管 4GL 应该允许“非技术人员”编写程序，但您仍然需要“技术人员”来编写和维护它们。

4GL 程序通常比 4GL 程序更难编写、更难阅读和更难优化。

应尽可能避免 4GL。

* * *

## 回答 #214

> 赞同：5
> 
> 时间：2009-04-08T12:30:38.357

**HTML 5 + JavaScript 将是未来最常用的 UI 编程平台。Flash、Silverlight、Java Applets 等都将无声无息地消亡**

* * *

## 回答 #215

> 赞同：5
> 
> 时间：2009-01-03T05:01:16.090

**Inheritance is evil and should be deprecated.**

The truth is aggregation is better in all cases. Static typed OOP languages can't avoid inheritance, it's the only way to describe what method wants from a type. But dynamic languages and duck typing can live without it. Ruby mixins is much more powerful then inheritance and a lot more controllable.

* * *

## 回答 #216

> 赞同：5
> 
> 时间：2009-01-11T20:23:45.810

**关注点分离是邪恶的:)**

仅在您有充分理由的情况下才将关注点分开。否则，不要将它们分开。

我遇到过太多只为分离而分离的场合。不应该忘记 Dijkstra 陈述“最小耦合，最大内聚”的后半部分。:)

很高兴进一步讨论这个问题。

* * *

## 回答 #217

> 赞同：5
> 
> 时间：2009-01-08T19:52:15.073

**调试器是一个拐杖。**

它是如此有争议，以至于我也不像以前那样相信它。

缺点：我花更多时间了解其他人的大量代码，因此任何有助于“我是如何到达这里的”和“正在发生的事情”的事前或事后分析都会有所帮助。

Pro：但是，我很高兴地坚持这样的想法，即如果您不了解您自己开发的代码或您已经熟悉的代码的问题的答案，那么将所有时间花在调试器上并不是解决方案，而是问题的一部分。

在点击“发布您的答案”之前，我对这个确切的短语进行了快速的谷歌检查，结果证明我并不是唯一持有这种观点或使用这个短语的人。我在 Fog Creek 软件论坛上[对这个问题进行了长时间的讨论](http://discuss.fogcreek.com/joelonsoftware3/default.asp?cmd=show&ixPost=92682&ixReplies=59)，其中引用了包括 Linus Torvalds 在内的各种名人作为著名的支持者。

* * *

## 回答 #218

> 赞同：5
> 
> 时间：2009-11-18T20:59:57.893

**编写广泛的规范是徒劳的。**
编写正确的程序非常困难，但是编译器、调试器、单元测试、测试器等可以检测和消除大多数错误。另一方面，当您编写具有类似程序（即伪代码、UML）的详细程度的规范时，您主要是靠自己。如果您有一个工具可以帮助您正确使用语法，请认为自己很幸运。

**广泛的规范很可能充满了错误。**
作者在第一次尝试就成功的机会与一个类似的大型程序在未经测试的情况下没有错误的机会大致相同。同行评审消除了一些错误，就像代码评审一样。

* * *

## 回答 #219

> 赞同：5
> 
> 时间：2009-01-02T14:21:34.370

**手动停止程序是发现性能问题的有效且经过验证的方法。**

可信的？不是大多数。真的？绝对地。

**程序员的判断力远远超过必要的。**

见证这些帖子中所有被认为是“邪恶”或“可怕”的事情。

**程序员对数据结构很满意。**

见证所有关于类、继承、私有与公共、内存管理等的讨论，以及如何分析需求。

* * *

## 回答 #220

> 赞同：5
> 
> 时间：2009-12-27T07:27:08.600

**较低的camelCase是愚蠢和无意义的**

使用较低的驼峰式使名称/标识符（从这一点开始使用的“名称”）看起来像一个由两部分组成的东西。然而，大写驼峰式（Upper CamelCase）清楚地表明所有单词都属于一起。

*匈牙利符号不同*......因为名称的第一部分是类型指示符，因此它与名称的其余部分具有不同的含义。

有些人可能会争辩说，函数/过程应该使用较低的 camelCase，尤其是在类内部。这在 Java 和面向对象的 PHP 中很流行。但是，没有理由这样做来表明它们是类方法，因为通过它们被访问的方式，很*明显*它们就是这样。

一些代码示例：

```
# Java
myobj.objMethod() 
# doesn't the dot and parens indicate that objMethod is a method of myobj?

# PHP
$myobj->objMethod() 
# doesn't the pointer and parens indicate that objMethod is a method of myobj? 
```

Upper CamelCase 对于类名和其他静态名称很有用。所有非静态内容都应该通过访问方式来识别，而不是通过名称格式（！）

这是我的同质代码示例，其中名称行为由其名称以外的其他事物指示......（另外，我更喜欢下划线来分隔名称中的单词）。

```
# Java
my_obj = new MyObj() # Clearly a class, since it's upper CamelCase
my_obj.obj_method() # Clearly a method, since it's executed
my_obj.obj_var # Clearly an attribute, since it's referenced

# PHP
$my_obj = new MyObj()
$my_obj->obj_method()
$my_obj->obj_var
MyObj::MyStaticMethod()

# Python
MyObj = MyClass # copies the reference of the class to a new name
my_obj = MyObj() # Clearly a class, being instantiated
my_obj.obj_method() # Clearly a method, since it's executed
my_obj.obj_var # clearly an attribute, since it's referenced
my_obj.obj_method # Also, an attribute, but holding the instance method.
my_method = myobj.obj_method # Instance method
my_method() # Same as myobj.obj_method()
MyClassMethod = MyObj.obj_method # Attribute holding the class method
MyClassMethod(myobj) # Same as myobj.obj_method()
MyClassMethod(MyObj) # Same as calling MyObj.obj_method() as a static classmethod 
```

所以，我对骆驼案的完全~~主观~~意见。

* * *

## 回答 #221

> 赞同：5
> 
> 时间：2009-03-20T19:18:10.567

**将您的业务逻辑排除在数据库之外。或者至少，保持非常精简。让数据库做它打算做的事情。让代码做代码打算做的事情。时期。**

> 如果你是一个男人秀（基本上，傲慢和自负，不听别人的智慧只是因为你有控制权），做你想做的事。我不相信你是那样的，因为你一开始就要求。但是当涉及到这个主题时，我遇到了一些，并且觉得有必要指定。
> 
> 如果您与 DBA 合作但自己做 DB 工作，请在业务对象之间、它们与 DB 之间的网关以及 DB 本身之间保持明确定义的分区。
> 
> 如果您与 DBA 一起工作并且不允许从事您的 DB 工作（无论是通过政策还是因为他们是 premadonnas），那么您就非常接近于成为一个傻瓜，通过依赖代码来完成任何事情数据库实体（存储过程、函数等）中的业务逻辑。
> 
> 如果您是 DBA，请让开发人员保持他们的 DB 实体清洁和精简。

* * *

## 回答 #222

> 赞同：5
> 
> 时间：2009-01-02T20:02:15.117

不是很有争议的 AFAIK 但是...... **AJAX 在这个词被创造出来之前就已经存在了，每个人都需要“放手”。** 人们用它来做各种各样的事情。虽然没有人真正关心它。

然后突然POW！有人创造了这个词，每个人都加入了 AJAX 的潮流。突然之间，人们成为了 AJAX 的专家，就好像以前没有动态加载数据的“专家”一样。我认为这是导致互联网遭到残酷破坏的最大因素之一。那和“Web 2.0”。

* * *

## 回答 #223

> 赞同：5
> 
> 时间：2009-01-02T15:03:19.620

**默认情况下，数组应该从 1 开始，而不是从 0 开始。** 系统实现语言不一定是这种情况，但像 Java 这样的语言吞噬了比它们应有的更多的 C 怪异。“元素 1”应该是第一个元素，而不是第二个，以避免混淆。

计算机科学不是软件开发。毕竟，你不会雇佣一个只学物理的工程师。

尽可能多地学习数学。您不会使用其中的大部分内容，但您需要能够以这种方式思考才能擅长软件。

迄今为止标准化的最好的编程语言是 Common Lisp，即使它很冗长并且具有从零开始的数组。这主要来自于被设计为一种编写计算的方式，而不是作为冯诺依曼机器的抽象。

至少 90% 的对编程语言的比较批评可以归结为“语言 A 具有 C 的特性，而我不知道如何做 C 或语言 B 的等价物，所以语言 A 更好”。

“最佳实践”是我见过的最令人印象深刻的拼写“平庸”的方式。

* * *

## 回答 #224

> 赞同：5
> 
> 时间：2009-01-02T17:46:45.640

**意见：**数据驱动设计本末倒置。它应该立即从我们的思想中消除。

绝大多数软件不是关于数据，而是关于我们试图为客户解决的业务问题。它是关于一个*问题域*，它涉及对象、规则、流程、案例和关系。

当我们从数据开始设计，并根据数据和数据之间的关系（表、外键和 x-to-x 关系）对系统的其余部分进行建模时，我们将整个应用程序限制为数据的形式存储在数据库中并从数据库中检索。此外，我们将数据库架构暴露给软件。

数据库模式是一个实现细节。我们应该可以自由地改变它，而不必显着改变我们的软件设计。业务层永远不必知道表是如何设置的，或者它是从视图或表中提取，还是从动态 SQL 或存储过程中获取表。并且这种类型的代码***永远不***应该出现在表示层中。

软件是关于解决业务问题的。我们处理用户、汽车、账户、余额、平均值、摘要、转账、动物、消息、包裹、购物车、订单和各种其他有形实物，以及我们可以对它们执行的操作。我们需要根据需要*保存*、*加载*、*更新*、*查找*和*删除*这些项目。有时，我们必须以特殊的方式做这些事情。

但是没有真正令人信服的理由让我们应该将应该在数据库中完成的工作从数据中移开并将其放入源代码中，可能在单独的机器上（引入网络流量并降低性能）。这样做意味着我们放弃了几十年来为提高存储过程和内置于数据库中的函数的性能所做的工作。存储过程引入要管理的“又一个 API”的论点是似是而非的：当然是这样；该 API 是一个门面，可以保护您免受数据库模式的影响，包括主键和外键、事务、游标等的复杂细节，并且它可以防止您在源代码中拼接 SQL。

把马放回马车前面。考虑问题域，并围绕它设计解决方案。然后，从问题域中导出数据。

* * *

## 回答 #225

> 赞同：5
> 
> 时间：2009-04-04T10:36:58.400

**糟糕的 IDE 使编程语言变弱**

好的编程 IDE 确实使使用某些语言更容易和更好地监督。我在我的职业生涯中有点被宠坏了，我工作的公司总是有最新的 Visual Studio 可供使用。

大约 8 个月以来，我在工作旁边做了很多 Cocoa，而 Xcode 编辑器让使用这种语言变得太困难了。重载很难找到，处理打开文件的整体方式只会让你的屏幕非常混乱，非常快。真的很遗憾，因为 Cocoa 是一种很酷且功能强大的语言。

当然，死忠的 Xcode 粉丝现在会否决我的帖子，但是有很多 IDE 确实要好得多。

**人们不应该转向 IT**

这是我去年发表的一篇博客文章的复制/粘贴。

* * *

我的经验主要是关于荷兰市场的，但它们也可能适用于任何其他市场。

我们（正如我将所有软件工程师归为一类）目前所处的市场对我们来说可能非常有利。公司正在拼命寻找软件工程师（从现在开始 SE），无论价格如何。如果你现在换工作，你几乎可以要求任何你想要的。在荷兰，现在有一种趋势，甚至给 2 辆租赁汽车一份工作，只是为了让你为他们工作。这有多奇怪？怎么同时开两辆车？？

当然这对我们来说听起来很不错，但这也造成了一个非常不健康的情况。

例如：如果您目前正在为一家发展迅速的公司工作，并且您正试图吸引更多的同事，最终从头开始进行一些认真的软件开发，那么如果不提供天价的薪水，就找不到人. 试图找到优秀的同事是非常困难的。很多人被我们的工作所吸引，因为高薪，但这也意味着很多没有正确热情的人正在进入我们的市场。

激情，是的，我认为这是正确的词。当您对工作充满热情时，您的工作不会在下午 05:00 停止。您将整夜不断刷新所有开发 RSS 提要。您将在互联网上搜索可能在工作中有趣的最新技术。你每个月将开始十几个新的“有前途的”项目，只是为了看看你是否能掌握你几周前刚刚读到的最新技术（并找到一种实际使用该技术的有用方法）。

如果没有这种热情，市场可能看起来很不错（因为汽车、金钱，当然还有我们吸引的辣妹），但我认为它不会那么有趣，比如说：消防员或战斗机飞行员.

听起来我想在这里保护我自己的工作，这在一定程度上是正确的。但我也在努力保护自己免受我不想与之共事的人的伤害。我想就我读到的东西进行激烈的讨论。我希望能够与和我一样对这份工作有同样“热情”的人争吵。我希望有正当理由与我合作的同事。

我要找的人在哪里！！

* * *

## 回答 #226

> 赞同：5
> 
> 时间：2009-01-26T14:08:33.310

**Microsoft Windows 是软件开发的最佳平台。**

**推理：** 微软用优秀而廉价的开发工具宠坏了它的开发者，平台和它的 API 都有很好的文档记录，平台正在以极快的速度发展，为开发者创造了很多机会，操作系统拥有庞大的用户群，这对于明显的商业原因，有一个很大的 Windows 开发者社区，我还没有因为选择微软而被解雇。

* * *

## 回答 #227

> 赞同：5
> 
> 时间：2009-10-15T10:02:33.317

**如果它不值得测试，就不值得构建**

* * *

## 回答 #228

> 赞同：5
> 
> 时间：2009-01-03T10:27:29.583

**Variable_Names_With_Bloody_Underscores**

甚至更糟

**CAPITALIZED_VARIABLE_NAMES_WITH_BLOODY_UNDERSCORES**

应该在全球范围内被删除……带着偏见！CamelCapsAreJustFine。（无法承受全局常数）

GOTO 语句供 11 岁以下的开发人员使用

任何不支持指针的语言都名不副实

.Net = .Bloat 微软在网站开发（Expressionless Web 2）方面的努力最好的例子是cr@pw@re 所写的缓慢膨胀的最好例子。（改用网络工作室）

回应：好的，让我稍微解决下划线问题。从您提供的 C 链接：

- 全局常量应全部大写，并带有“_”分隔符。我实际上同意这一点，因为它是如此 BLOODY_OBVIOUS

- 以 NetworkABCKey 为例。注意 ABC 中的 C 和 key 中的 K 是如何混淆的。有些人不介意这一点，而另一些人只是讨厌它，因此您会在不同的代码中找到不同的策略，因此您永远不知道该叫什么。

我属于前一类。我非常小心地选择名字，如果你不能一眼看出 K 属于 Key，那么英语可能不是你的第一语言。

*   C 函数名称

    *   在 C++ 项目中，C 函数应该很少。
    *   对于 C 函数，使用所有小写字母的 GNU 约定，并以“_”作为单词分隔符。

理由

```
* It makes C functions very different from any C++ related names. 
```

例子

int some_bloody_function() { }

这些“标准”和惯例只是随时间流传下来的任意决定。我认为，虽然它们具有一定的逻辑意义，但它们会混淆代码并做出一些应该简短易读、笨拙、冗长且杂乱无章的东西。

C 被采纳为事实上的标准，不是因为它友好，而是因为它无处不在。我可以用语法友好的高级语言在 20 行中编写 100 行 C 代码。

这使得程序流易于阅读，并且众所周知，一年或更长时间后重新访问代码意味着在整个地方跟踪面包屑。

我确实使用下划线，但仅用于全局变量，因为它们很少而且很远，而且它们很明显。除此之外，经过深思熟虑的 CamelCaps() 函数/变量名还没有让我失望！

* * *

## 回答 #229

> 赞同：5
> 
> 时间：2009-01-12T15:46:36.243

我讨厌大学和机构提供短期课程来教授新人编程。^(这是对艺术1)和编程科学的彻头彻尾的耻辱和蔑视。

他们开始向没有掌握计算机硬件和基本原理的人教授 C、Java、VB（恶心）。应该首先通过诸如莫里斯马诺的*计算机系统架构之类的书籍来教授**机器*，然后教授*指导机器解决问题的概念，*而不是蚀刻一种编程语言的语义和语法。

 **我也不了解政府学校、大学使用商业操作系统和软件教孩子计算机的基础知识。至少在我的国家（印度），没有多少学生买得起操作系统甚至打折的办公套装，更不用说开发软件巨头（编译器、IDE 等）了。这助长了盗窃和盗版行为，并使从他们机构的图书馆复制和窃取软件的行为成为正当行为。

他们再次被教导使用一些产品而不是基本思想。

想想如果你只被教导 2x2 是 4 而不是乘法的概念？

或者如果你现在被教导测量倾斜到你学校的某个复合墙的杆的长度，而不是*毕达哥拉斯定理*

* * *

## 回答 #230

> 赞同：5
> 
> 时间：2009-04-04T12:29:21.670

**评论不好**

每当代码需要注释来解释它在做什么时，代码就太复杂了。我总是尝试编写足够不言自明的代码，不需要太多注释。

* * *

## 回答 #231

> 赞同：5
> 
> 时间：2009-01-02T13:20:23.820

在我的工作场所，我一直在尝试引入更多的 Agile/XP 开发习惯。连续设计是迄今为止我感到阻力最大的设计。也许我不应该将其表述为“让我们召集所有架构团队并射击他们”......;）

* * *

## 回答 #232

> 赞同：5
> 
> 时间：2009-03-16T04:04:32.077

**我可以在没有关闭的情况下生活。**

看起来现在每个人和他们的母亲都希望闭包出现在一种语言中，因为这是自切片面包以来最伟大的发明。我认为这只是另一种炒作。

* * *

## 回答 #233

> 赞同：5
> 
> 时间：2009-01-02T22:36:02.950

原始数据类型是过早的优化。

有些语言只使用一种数据类型，即标量，它们做得很好。其他语言就没那么幸运了。开发人员只需输入“int”和“double”，因为他们必须写一些东西。

重要的不是数据类型有多大，而是数据的用途。如果您有一个月中的一天变量，那么它是有符号还是无符号，或者它是 char、short、int、long、long long、float、double 还是 long double 都无关紧要。重要的是它是一个月中的一天，而不是一个月，一周中的一天，或者其他什么。请参阅 Joel 的专栏，让错误的东西看起来是错误的；**最初提出**的匈牙利符号是一个好主意。正如在实践中使用的那样，它大多是无用的，因为它说错了。

* * *

## 回答 #234

> 赞同：5
> 
> 时间：2009-04-16T16:18:15.423

**没人关心你的代码**

如果您不从事政府安全许可项目并且您不在金融行业，那么很可能没有人关心您在公司/客户群之外从事的工作。没有人嗅探数据包或试图侵入您的机器以读取您的源代码。这并不意味着我们应该对安全性轻率，因为肯定有很多人只想大肆破坏并破坏您的辛勤工作，或者访问您公司可能拥有的存储信息，例如信用卡数据或身份数据块。但是，我认为人们过于担心其他人会访问您的源代码并采纳您的想法。

* * *

## 回答 #235

> 赞同：5
> 
> 时间：2009-12-28T07:02:51.597

**程序员需要与客户交谈**

一些程序员认为他们不需要成为与客户交谈的人。对于您的公司来说，这是一种绝对出色的编写方式，没有人可以弄清楚它的用途或用途。

您不能指望产品经理和业务分析师做出所有决定。事实上，程序员应该在创建模块或功能的 1000 个（通常很小）决策中做出 990 个，否则产品将永远无法发布！因此，请确保您的决定是知情的。了解您的客户，与他们合作，观察他们使用您的软件。

如果您要编写最好的代码，那么您希望人们使用它。对您的用户群感兴趣，并向那里的“愚蠢的白痴”学习。不要害怕，他们真的会因此而爱你。

* * *

## 回答 #236

> 赞同：5
> 
> 时间：2009-10-03T12:01:00.827

**应该要求所有项目经理都有编码任务**

在我工作过的团队中，项目经理实际上是一名程序员，他们对代码的技术问题有足够的了解以完成编码任务，所做出的决定缺乏在项目经理不参与的团队中经常发生的沟通断开在代码中。

* * *

## 回答 #237

> 赞同：5
> 
> 时间：2009-11-04T09:54:08.193

**从长远来看，开源软件的成本更高**

对于常规的业务线公司来说，开源看起来是免费的，但有隐藏的成本。

当您考虑到质量的不一致、可变的可用性和 UI/UX、互操作性和标准的困难、增加的配置、相关的培训和支持需求增加时，开源的总拥有成本远高于商业产品。

精通技术的程序员类型解放了开源并使用它运行；他们“得到它”并且可以采用它并对其进行定制以适应他们的目的。另一方面，主要是非技术企业，但需要软件来运行他们的办公室、网络和网站的企业，正面临着给自己带来痛苦的风险，并在损失时间、生产力和（最终）支持方面付出沉重的代价费用和/或放弃实验的费用。

* * *

## 回答 #238

> 赞同：4
> 
> 时间：2009-02-15T11:33:26.547

**“程序员是天生的，不是后天造出来的。”**

* * *

## 回答 #239

> 赞同：4
> 
> 时间：2009-01-11T18:10:37.920

When someone dismisses an entire programming language as "clumsy", it usually turns out he doesn't know how to use it.

* * *

## 回答 #240

> 赞同：4
> 
> 时间：2009-01-03T16:36:50.367

Java并不是最好的东西。仅仅因为它带有“企业”标签并不能使它变得更好。它也不会使它快速。它也不是所有问题的答案。

此外，ROR 并不是 Blogsphere 所说的全部。

虽然我在做，但 OOP 并不总是好的。事实上，我认为这通常是不好的。

* * *

## 回答 #241

> 赞同：4
> 
> 时间：2009-01-03T17:00:33.610

**意见：大多数代码都很糟糕，因为这就是程序员想要的。**

间接地，我们一直在培育一种极具创造力的文化。并不是说我认为解决问题没有创造性的元素——它确实——只是它与绘画之类的东西根本不一样（参见 Paul Graham 著名的“黑客与画家”文章）。

如果我们将我们的行业转向这种方法，最终这意味着让每个程序员都能够勇往直前，敲出他们想要的任何极具创意、疯狂的东西。当然，对于任何大型项目，试图将数十个不相关的、非结构化的、未计划的位组合成一个最终的连贯位是行不通的。这不是猜测或估计，而是我们今天面临的行业状况。有多少次你在一个主要程序中看到与其余代码完全不一致的功能子位？现在很常见，难怪有人会使用这些乱七八糟的东西。

令人费解的、复杂的、丑陋的东西，只会变得更糟、更不稳定。如果我们正在建造一些实体的东西，地球上的每个人都会告诉我们这些东西是多么的丑陋和搞砸了，但是因为它或多或少被虚拟隐藏起来，我们能够摆脱一些最糟糕的制造过程我们的物种将永远看到。（你能想象一辆汽车，四个不同的人以四种不同的方式设计了四个不同的轮子吗？）

但可悲的部分，有争议的部分是，绝对没有理由这样做，除了从历史上看，文化倾向于更多的自由和更少的组织，所以我们保持这种状态（并且可能得到了很多更差）。软件开发是一个笑话，但它是一个笑话，因为这就是程序员想要的（但在一百万年后永远不会承认这是真的，“管理层的阴谋”对大多数人来说是一个更好的理由）。

在我们醒来并意识到我们是拿着枪，指着它并扣动扳机的人之前，我们还要继续射击自己的脚多久？

保罗。

* * *

## 回答 #242

> 赞同：4
> 
> 时间：2009-02-08T14:16:13.343

"Everything should be made as simple as possible, but not simpler." - Einstein.

* * *

## 回答 #243

> 赞同：4
> 
> 时间：2009-10-13T20:56:37.820

软件开发人员、编码人员、程序员、架构师之间没有区别......

我已经在这个行业工作了 10 多个酵母，但仍然觉得试图区分这些“角色”是绝对愚蠢的。你写代码？你是开发者。您整天都在绘制精美的 UML 图。你是一个……嗯……我不知道你是什么人，你可能只是想给别人留下深刻印象。（是的，我知道 UML）。

* * *

## 回答 #244

> 赞同：4
> 
> 时间：2009-01-03T15:55:31.027

代码的重用与其“可重用性”成反比。仅仅因为“可重用”代码更复杂，而快速破解很容易理解，所以它们被重用了。

软件故障应该关闭系统，以便对其进行检查和修复。试图处理故障情况的软件通常比崩溃更糟糕。即，是在崩溃后重置系统更好，还是因为故障处理程序有错误而无限期挂起？

* * *

## 回答 #245

> 赞同：4
> 
> 时间：2009-03-17T13:59:16.130

**可以保护您的应用程序。**

每次有人问如何防止用户盗版他们的应用程序或保护其免受黑客攻击时，答案都是不可能的。废话。如果你真的相信这一点，那就让你的门不锁（或者把它们从房子里拿走！）。也不要费心去看医生。你是凡人——试图治愈疾病只是在推迟不可避免的事情。

仅仅因为有人*可能*能够盗版您的应用程序或破解您的系统并不意味着您不应该尝试*减少*这样做的人数。你真正在做的是让它需要比入侵者/海盗愿意做的更多的工作才能闯入。

就像您家中的门栓和 ADT 可以阻止窃贼一样，合理的反盗版和安全措施将使黑客和盗版者远离您。当然，他们越想闯入，您需要的安全性就越高。

* * *

## 回答 #246

> 赞同：4
> 
> 时间：2009-01-09T13:17:09.603

**我们是软件开发人员，而不是 C/C#/C++/PHP/Perl/Python/Java/... 开发人员。**

在您接触过几种语言之后，选择一种新语言并提高工作效率是一项小任务。也就是说，你不应该害怕新语言。当然，高效和掌握一门语言之间存在很大差异。但是，这不是回避您从未见过的语言的理由。当人们说“我是一名 PHP 开发人员”时，我感到很烦。或者当工作机会说“Java 开发人员”时。经过几年作为开发人员的经验，新的语言和 API 真的不应该令人生畏，而且从从未见过一种语言到使用它富有成效根本不需要很长时间。我知道这是有争议的，但这是我的意见。

* * *

## 回答 #247

> 赞同：4
> 
> 时间：2009-02-17T05:48:10.680

**我相信[Python 的禅](http://www.python.org/dev/peps/pep-0020/)**

* * *

## 回答 #248

> 赞同：4
> 
> 时间：2009-01-02T14:48:14.503

每当您向外部世界公开一个可变类时，您应该提供事件以使其能够观察到它的突变。毕竟，额外的努力也可能会说服您使其成为不可变的。

* * *

## 回答 #249

> 赞同：4
> 
> 时间：2009-01-22T14:22:55.927

**有时吞下一个例外是合适的。**

对于 UI 的花里胡哨，用错误消息提示用户是中断的，而且他们通常无事可做。在这种情况下，我只是记录它，并在它出现在日志中时处理它。

* * *

## 回答 #250

> 赞同：4
> 
> 时间：2009-01-02T17:34:32.467

**实现 IDisposable 的类库指南是错误的。**

我不经常分享这个，但我相信默认实现的指导`IDisposable`是完全错误的。

我的问题不在于重载`Dispose`然后从终结中删除该项目，而是我鄙视如何调用终结器中释放托管资源。我个人认为应该抛出一个异常（是的，把它扔到终结器线程上会带来所有的麻烦）。

其背后的原因是，如果您是 的客户端或服务器`IDisposable`，则有一种理解，即您不能简单地将对象留在周围等待最终确定。如果你这样做，这是一个设计/实现缺陷（取决于它是如何被放置的和/或它是如何暴露的），因为你不知道你应该知道的实例的生命周期。

我认为这种类型的错误/错误是在竞争条件/资源同步级别上。不幸的是，通过调用 的重载`Dispose`，该错误​​永远不会实现。

编辑：如果有人感兴趣，我已经写了一篇关于这个主题的博客文章：

[http://www.caspershouse.com/post/A-Better-Implementation-Pattern-for-IDisposable.aspx](http://www.caspershouse.com/post/A-Better-Implementation-Pattern-for-IDisposable.aspx)

* * *

## 回答 #251

> 赞同：4
> 
> 时间：2009-07-29T14:15:01.047

**Linq2Sql 还不错**

我遇到了很多垃圾 Linq2Sql 的帖子。我知道这并不完美，但什么是完美的？

就个人而言，我认为它有其缺点，但总体而言，它对于原型设计或开发中小型应用程序非常有用。当我考虑到它为我节省了多少时间来编写无聊的 DAL 代码时，我不能抱怨，尤其是考虑到我们不久前没有的替代方案。

* * *

## 回答 #252

> 赞同：4
> 
> 时间：2009-01-05T04:36:37.463

**未注释的代码是人类的祸根。**

我认为注释对于代码是必要的。他们在视觉上将其划分为逻辑部分，并在阅读代码时提供替代表示。

文档注释是最低限度的，但是使用注释来拆分较长的函数有助于编写新代码并在返回现有代码时允许更快的分析。

* * *

## 回答 #253

> 赞同：4
> 
> 时间：2009-05-14T09:32:05.937

获得报酬通常是一个人的时间最糟糕的用途之一。

一方面，您正在与每天工作四分之一的 Elbonians 竞争。你需要让你的雇主相信你提供了一些 Elbonians 永远无法提供的东西，并且你的东西值得一份适合居住的薪水。随着埃尔波尼亚人获得越来越多的海外业务，真正的优势逐渐消失，管理层知道这一点。

另一方面，你正在花时间解决别人的问题。那时你可以花时间推进自己的兴趣，或者解决你真正感兴趣的问题。如果你认为你通过解决其他人的问题来拯救世界，那你为什么不让 Elbonians 为你做这件事呢？

最后，软件（visicalc、Napster、Pascal 等）的伟大创新不是由小隔间农场创造的。它们是由一两个人创建的，没有预付款。你不能强行重新创建它。当一个称职的程序员有一个非常好的想法时，有时会发生这种情况。

有足够的软件。有足够的软件开发人员。你不必是一个受雇的人。保存你的才能、你的时间、你的头发、你的婚姻。让别人把他的灵魂卖给键盘。如果你想编程，没问题。但不要为了钱。

* * *

## 回答 #254

> 赞同：4
> 
> 时间：2009-12-23T11:41:03.290

小代码总是更好，但是复杂？：而不是 if-else 让我意识到有时大代码更具可读性。

* * *

## 回答 #255

> 赞同：4
> 
> 时间：2009-01-02T22:11:58.693

QA 应该比开发更了解代码（间接地）。QA 是为了发现开发不打算发生的事情而获得报酬，而且他们经常这样做。:) （顺便说一句，我是一名开发人员，他只重视优秀的 QA 人员——他们中的少数人……非常少）。

* * *

## 回答 #256

> 赞同：4
> 
> 时间：2009-01-02T22:20:43.277

尽管我完全赞成测试驱动开发 (TDD)，但我认为在开发人员开始为问题的解决方案设计原型的完整开发周期之前，还有一个至关重要的步骤。

我们经常被困在试图遵循我们的 TDD 实践以寻求可能被误导的解决方案，因为我们对领域不够了解。简单的原型通常可以阐明这些问题。

原型很棒，因为与首先编写测试（有时）相比，您可以快速处理并丢弃更多代码。然后，您可以从一张白纸开始开发过程，但要更好地理解。

* * *

## 回答 #257

> 赞同：4
> 
> 时间：2009-10-14T13:01:20.073

**“程序员必须一边做编程，否则他们永远不如那些做的人。”**

正如克波洛克所说，想象一下对医生或士兵说的话......

主要的不是他们是否编码，而是他们是否考虑过。计算机科学是一项智力活动，您不一定需要编写代码来思考可以让您成为一名更好的程序员的问题。

当爱因斯坦停止研究时，他不会去玩粒子和波。

* * *

## 回答 #258

> 赞同：4
> 
> 时间：2009-11-08T18:30:46.220

## 程序化编程很有趣。OOP 很无聊。

* * *

## 回答 #259

> 赞同：4
> 
> 时间：2009-12-28T07:22:08.903

热心遵守标准阻碍了简单化。

MVC 对网站的评价过高。主要是VC，有时是M。

* * *

## 回答 #260

> 赞同：4
> 
> 时间：2009-11-04T02:18:57.557

三元运算符绝对烂。它们是懒惰编程的缩影。

```
user->isLoggedIn() ? user->update() : user->askLogin(); 
```

这太容易搞砸了。修订版 #2 的一点变化：

```
user->isLoggedIn() && user->isNotNew(time()) ? user->update() : user->askLogin(); 
```

哦，是的，只是多了一个“小改变”。

```
user->isLoggedIn() && user->isNotNew(time()) ? user->update() 
    : user->noCredentials() ? user->askSignup
        : user->askLogin(); 
```

哦，废话，那另一个案子呢？

```
user->isLoggedIn() && user->isNotNew(time()) && !user->isBanned() ? user->update() 
    : user->noCredentials() || !user->isBanned() ? user->askSignup()
        : user->askLogin(); 
```

不不不不。只需保存我们的代码更改即可。别再偷懒了：

```
if (user->isLoggedIn()) {
    user->update()
} else {
    user->askLogin();
} 
```

因为第一次就做对了，我们就不必再一次又一次地转换你的废话三元组：

```
if (user->isLoggedIn() && user->isNotNew(time()) && !user->isBanned()) {
    user->update()
} else {
    if (user->noCredentials() || !user->isBanned()) {
        user->askSignup();
    } else {
        user->askLogin();
    }
} 
```

* * *

## 回答 #261

> 赞同：3
> 
> 时间：2009-01-07T18:50:35.463

**XHTML 是邪恶的。编写 HTML**

无论如何，您都必须将 MIME 类型设置为 text/html，那么为什么要自欺欺人地相信您真的在编写 XML？下载您的页面的人会相信它是 HTML，因此将其设为 HTML。

有了这个，不要关闭你的<li>，你可以随意和高兴，这是没有必要的。不要关闭 html 标签，文件无论如何都结束了。它是有效的 HTML，可以完美解析。

它将创建更具可读性、更少样板代码，并且您不会丢失任何东西。HTML 解析器运行良好！

完成后，继续使用 HTML5。这个比较好。

* * *

## 回答 #262

> 赞同：3
> 
> 时间：2009-01-09T15:51:34.473

最新的设计模式往往是蛇油。正如之前在这个问题中所说，过度使用设计模式对设计的伤害远大于对设计的帮助。

如果我再听到一个人说“每个人都应该使用 IOC”（或类似的一堆垃圾），我想我将被迫追捕他们并教他们错误的方式。

* * *

## 回答 #263

> 赞同：3
> 
> 时间：2009-10-14T14:50:22.273

**程序员应该不惜一切代价避免通过继承隐藏方法。**

以我的经验，几乎我见过的每个地方都使用了继承方法隐藏，这都会引起问题。当通过基类型引用与派生类型引用访问时，方法隐藏会导致对象的行为不同 - 这通常是一件坏事。虽然许多程序员并没有正式意识到这一点，但大多数人直观地认为对象将遵守[Liskov 替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)。当对象违反这种期望时，面向对象系统固有的许多假设就会开始出现问题。我见过的最令人震惊的情况是隐藏方法改变了对象实例的状态。在这些情况下，对象的行为可能会以难以调试和诊断的微妙方式发生变化。

好的，因此可能存在一些不常见的情况，其中方法隐藏实际上是有用且有益的——比如在不支持它的语言中模拟方法的返回类型协方差。但是绝大多数时候，当开发人员使用方法隐藏时，它要么是出于无知（或意外），要么是为了解决一些可能值得更好的设计处理的问题。一般来说，我见过的方法隐藏的有益案例（并不是说没有其他方法）是当返回某些信息的无副作用方法被计算更适用于调用上下文的方法隐藏时。

像 C# 这样的语言通过在隐藏基类方法的方法上要求关键字来稍微改进了一些东西`new`- 至少有助于避免非自愿使用方法隐藏。但我发现许多人仍然将 of 的含义`new`与 of的含义混淆`override`- 特别是因为在简单的场景中，它们的行为可能看起来相同。如果像 FxCop 这样的工具真的有内置的规则来识别潜在的方法隐藏的错误使用，那就太好了。

顺便说一句，通过继承隐藏的方法不应与其他类型的隐藏（例如通过嵌套）相混淆，我认为这是一种有效且有用的构造，潜在问题较少。

* * *

## 回答 #264

> 赞同：3
> 
> 时间：2009-10-14T18:19:43.543

**匿名函数很烂。**

我正在自学 jQuery，虽然它是一种优雅且非常有用的技术，但大多数人似乎将其视为最大限度地提高匿名函数用户的某种竞争。

函数和过程命名（连同变量命名）是我们在编程中最大的表达能力。将函数作为数据传递是一种很好的技术，但是使它们匿名并因此非自记录是一个错误。这是一个表达代码含义的机会。

* * *

## 回答 #265

> 赞同：3
> 
> 时间：2009-08-27T14:29:11.370

**德尔福很好玩**

是的，我知道它已经过时了，但是 Delphi 曾经是并且是一个非常有趣的开发工具。

* * *

## 回答 #266

> 赞同：3
> 
> 时间：2009-01-21T23:31:09.440

Inversion of control does not eliminate dependencies, but it sure does a great job of hiding them.

* * *

## 回答 #267

> 赞同：3
> 
> 时间：2009-08-21T16:36:47.183

**可用性问题永远不是用户的错。**

当某个用户做了团队中每个人都认为“只是一件愚蠢的事情”的事情时，我无法计算问题出现的频率。像“为什么有人会这样做？”这样的短语。或者“他为什么不做 XYZ”通常会出现。

尽管很多人厌倦了听到我这样说：如果现实生活中的用户尝试做某事，但要么不起作用，导致出现问题或导致意外行为，那么这可能是任何人的错，但*不是*用户的错！

请注意，我并不是指故意滥用该软件的人。我指的是软件的可能目标群体。

* * *

## 回答 #268

> 赞同：3
> 
> 时间：2009-08-06T15:31:55.480

**我一直都是对的。**

或者通过讨论将其称为设计。但如果我提出什么建议，你最好能够证明我为什么错了，并提出一个你可以辩护的替代方案。

当然，这只有在我合理的情况下才有效。幸运的是，我是。:)

* * *

## 回答 #269

> 赞同：3
> 
> 时间：2009-01-07T13:54:06.370

**开发团队应该更频繁地通过技术/架构层而不是业务功能来隔离。**

我来自一种普遍的文化，在这种文化中，开发人员拥有“从网页到存储过程的一切”。因此，为了在系统/应用程序中实现某个功能，他们将准备数据库表模式、编写存储过程、匹配数据访问代码、实现业务逻辑和 Web 服务方法以及网页接口。

你猜怎么着？每个人都有自己*的做事方式*！每个人都*在努力*学习 ASP.NET AJAX 和 Telerik 或 Infragistic 套件、企业库或其他生产力和数据层和持久性框架、面向方面的框架、日志记录和缓存应用程序块、DB2 或 Oracle 特性。你猜怎么着？每个人都需要*很长时间*学习如何以正确的方式做事！意思是，在此期间有很多错误以及大量由此产生的缺陷和性能瓶颈！并且需要更长的时间来修复它们！跨越每一层！每个人都参与了每个 Visual Studio 项目。没有人专门处理和优化一个问题/技术领域。太多的厨师破坏了汤。所有的厨师都会产生一些放射性粘液。

开发人员可能有跨层/跨领域的职责，但他们不应该假装自己可以成为所有学科的大师，而应该仅限于少数人。以我的经验，当一个项目不是一个小项目并且使用了很多技术时，在单个层中覆盖更多的业务功能比在整个架构中覆盖更少的业务功能更有效率（并且鼓励更多的测试代码测试该层）堆栈（这促使开发人员仅通过他们的 UI 进行测试，而不是测试代码）。

* * *

## 回答 #270

> 赞同：3
> 
> 时间：2009-01-12T16:18:35.167

**程序员将他们（自己的小笨蛋）编程语言视为神圣不可侵犯的宗教。**

程序员如何像宗教信徒一样接受这些讨论真是太有趣了：不允许批评，（经常）没有客观的讨论，（经常）基于非常有限或缺乏的知识和信息进行争论。要确认，只需阅读以前的答案，尤其是评论。

也很有趣和另一个确认：根据“给我一个有争议的意见”这个问题的定义，任何有争议的意见都不应该有资格获得反对票 - 实际上恰恰相反：争议越多越好。但是我们的程序员是如何反应的：就像巴甫洛夫的狗一样，对不喜欢的意见投反对票。

PS：为了公平，我赞成其他一些人。

* * *

## 回答 #271

> 赞同：3
> 
> 时间：2009-05-02T09:29:07.897

永远不要让最佳实践或模式痴迷奴役你。

这些应该是指导方针，而不是一成不变的法律。

而且我真的很喜欢这些模式，GoF 的书或多或少也是这么说的，可以浏览的东西，提供了一个通用的术语。不是球和链条的福音。

* * *

## 回答 #272

> 赞同：3
> 
> 时间：2009-07-09T01:28:33.697

## Defects and Enhancement Requests are the Same

Unless you are developing software on a fixed-price contract, there should be no difference when prioritizing your backlog between "bugs" and "enhancements" and "new feature" requests. OK - maybe that's not controversial, but I have worked on enterprise IT projects where the edict was that "all open bugs must be fixed in the next release", even if that left no developer time for the most desirable new features. So, a problem which was encountered by 1% of the users, 1% of the time took precedence over a new feature would might be immediately useful to 90% of the users. I like to take my entire project backlog, put estimates around each item and take it to the user community for prioritization - with items not classified as "defect", "enhancement", etc.

* * *

## 回答 #273

> 赞同：3
> 
> 时间：2009-01-10T07:41:32.713

**女性比男性更能成为程序员。**

与我共事过的女性程序员不像男性那样热衷于“她们的”代码。他们对批评和新想法更加开放。

* * *

## 回答 #274

> 赞同：3
> 
> 时间：2009-01-10T10:08:35.430

**如果你只能想出一种方法，那就不要去做。**

无论是界面布局、任务流，还是代码块，只要**停下来**。做一些事情来收集更多的想法，比如问其他人他们会怎么做，在你至少有三个完全不同的想法和至少一个信任危机之前不要回去实施。

一般来说，当我认为某件事只能通过一种方式完成，或者认为只有一种方式有任何优点时，那是因为我没有充分考虑到应该影响设计的因素。如果我有，其中一些显然会发生冲突，导致一团糟，因此是一个实际的决定，而不是死记硬背。

**成为一名优秀的程序员并不会让你成为一名优秀的界面设计师**

遵循世界上所有的界面指南只会开始有所帮助。如果它甚至是人类可能的……似乎有一种特殊的嗜好，就是让事物变得“可爱”和“聪明”。

* * *

## 回答 #275

> 赞同：3
> 
> 时间：2009-04-18T23:29:12.170

**生成记录良好的代码比记录不良的代码花费的时间更少**

当我说*有据可查*时，我的意思是在每一步都清楚地传达您的意图的评论。是的，输入评论需要一些时间。是的，你的同事都应该足够聪明，只要阅读你的描述性函数和变量名，并通过你所有的可执行语句探索他们的方式，就可以弄清楚你的意图。但是，与您刚刚解释您的意图相比，他们需要更多的时间来做这件事，并且当代码的逻辑被证明是错误的时，清晰的文档尤其有用。并不是说*你的*代码永远是错误的......

我坚信，如果你从开始一个项目到发布一个无缺陷的产品这段时间，编写有据可查的代码会花费更少的时间。一方面，必须清楚地解释你在做什么会迫使你清楚地思考它，如果你不能对你的代码正在完成的事情写一个清晰、简洁的解释，那么它可能设计得不好。出于另一个纯粹自私的原因，记录良好且结构良好的代码更容易转储给其他人进行维护——从而使原作者腾出时间去创造下一件大事。我很少需要停下来解释我的代码是如何工作的，因为这对任何可以阅读英语的人来说都是显而易见的（即使他们不会阅读 C/C++/C# 等）。还有一个原因是，坦率地说，我的记忆力并不是那么好！我不记得昨天早餐吃了什么，更不用说一个月或一年前写代码时的想法了。也许你的记忆力比我的好得多，但是因为我记录了我的意图，所以我可以快速地从我离开的地方继续并进行更改，而不必先弄清楚我在写它时的想法。

这就是我记录良好的原因 - 不是因为我觉得有一些崇高的使命来制作适合展示的漂亮代码，也不是因为我是一个纯粹主义者，而仅仅是因为端到端它让我可以在更短的时间内交付高质量的软件。

* * *

## 回答 #276

> 赞同：3
> 
> 时间：2009-05-16T05:59:57.677

Many developers have an underdeveloped sense of where to put things, resulting in messy source code organization at the file, class, and method level. Further, a sizable percentage of such developers are essentially tone-deaf to issues of code organization. Attempts to teach, cajole, threaten, or shame them into keeping their code clean are futile.

On any sufficiently successful project, there's usually a developer who does have a good sense of organization very quietly wielding a broom to the code base to keep entropy at bay.

* * *

## 回答 #277

> 赞同：3
> 
> 时间：2009-05-05T20:21:39.940

**清理和重构在（团队）开发中非常重要**

团队开发中的很多工作都与管理有关。如果您使用的是错误跟踪器，那么它仅在有人花时间关闭/构建事物并减少故障单数量时才有用。如果您使用源代码管理，则需要经常清理并重组存储库。如果您正在编程，那么应该有人关心重构其他人的懒惰生产的东西。这是一些人在进行软件开发时将面临的大多数方面的一部分。

大家都同意这种管理的必要性。它总是被跳过的第一件事！

* * *

## 回答 #278

> 赞同：3
> 
> 时间：2009-01-09T17:31:39.043

前期设计 - 不要只是因为你对编写代码感到兴奋而开始编写代码

我见过这么多设计不佳的应用程序，因为开发人员对编写代码感到非常兴奋，以至于他们打开了一个白页并开始编写代码。我知道在开发生命周期中事情会发生变化。但是，很难使用具有多种不同布局和开发方法的应用程序，从形式到形式，从方法到方法。

如果您没有明确定义任务以及计划如何对其进行编码，则很难达到您的应用程序要处理的目标。花一些时间（而不仅仅是 5 分钟），并确保在开始编码之前已经尽可能多地布置了它。这样，您将避免您的替代品必须支持的意大利面条混乱。

* * *

## 回答 #279

> 赞同：3
> 
> 时间：2009-09-01T12:04:17.180

低级语言不适用于大多数问题。

* * *

## 回答 #280

> 赞同：3
> 
> 时间：2009-07-08T23:48:14.553

了解“做什么”至少与了解“如何”去做一样重要，而且几乎总是比了解解决问题的“最佳”方法重要得多。特定领域的知识通常对于编写好的软件至关重要。

* * *

## 回答 #281

> 赞同：3
> 
> 时间：2009-01-02T23:20:26.433

**PHP 文件中的 HTML 过多：有时是必要的**

**PHP 文件中过多的 Javascript：触发 raptor 攻击**

虽然我很难弄清楚你在**echo**和 ?>< ?php html 之间的所有切换（毕竟，php 只是 html 的处理器），但添加的一行又一行的 javascript 使其完全无法维护。

人们必须掌握这一点：它们是两种独立的编程语言。选择一种作为您的主要语言。然后继续寻找一种快速、干净且易于维护的方法，让您的主要语言包含辅助语言。

**你总是在 PHP、Javascript 和 HTML 之间跳来跳去的原因是因为你在这三个方面都不擅长。**

好吧，也许它并不完全有争议。我的印象是这是一个普遍的沮丧发泄话题:)

* * *

## 回答 #282

> 赞同：3
> 
> 时间：2009-06-19T18:47:58.873

**使用 Stored Proc 易于维护且部署较少** *，而* **使用 ORM 是 OO 方式，因此很好**

我在我的许多项目中都听到过很多这样的说法，当这些陈述出现时，总是很难解决。

* * *

## 回答 #283

> 赞同：3
> 
> 时间：2009-11-01T12:29:05.503

**只有一种设计模式：封装**

例如：

*   工厂方法：你已经封装了对象的创建
*   策略：你封装了不同的可变算法
*   迭代器：你封装了顺序访问集合中元素的方式。

* * *

## 回答 #284

> 赞同：3
> 
> 时间：2009-07-11T00:08:16.367

软件开发是一门艺术。

* * *

## 回答 #285

> 赞同：3
> 
> 时间：2009-11-18T20:51:45.640

**宏**，**预处理器**指令和**注释**是邪恶的。

请每个文件使用一种语法和语言！

// 不适用于 Make 文件或插入真实代码的编辑器宏。

* * *

## 回答 #286

> 赞同：3
> 
> 时间：2009-01-08T19:54:21.620

Hibernate 是无用的，并且损害了开发人员的思想。

* * *

## 回答 #287

> 赞同：3
> 
> 时间：2009-01-02T13:39:34.827

**应该禁止调试器**。这将迫使人们编写可通过单元测试测试的代码，最终将导致更好的代码质量。

**从所有编程 IDE 中删除复制和粘贴**。复制粘贴代码很糟糕，这个选项应该完全删除。然后程序员可能会懒得重新输入所有代码，所以他会创建一个函数并重用代码。

**每当你使用单例时，给自己一巴掌**。单例几乎从不需要，而且大多数时候只是全局变量的一个花哨的名称。

* * *

## 回答 #288

> 赞同：3
> 
> 时间：2009-01-04T00:44:43.987

**随时随地使用类型推断。**

编辑：

这是我几个月前写的一篇关于我为什么有这种感觉的博客文章的链接。

[http://blogs.msdn.com/jaredpar/archive/2008/09/09/when-to-use-type-in​​ference.aspx](http://blogs.msdn.com/jaredpar/archive/2008/09/09/when-to-use-type-inference.aspx)

* * *

## 回答 #289

> 赞同：3
> 
> 时间：2009-09-24T21:01:56.740

详细的设计是浪费时间，如果工程师需要它们来完成体面的工作，那么就不值得雇用它们！

好的，所以这里有几个想法：

[1)瀑布](http://en.wikipedia.org/wiki/Waterfall_model)式开发的旧想法，你应该预先完成所有设计，导致一些非常详细的类图、序列图等，完全是浪费时间。正如我曾经对一位同事所说，一旦代码完成，我将完成设计。我认为敏捷在一定程度上是对这一点的认可——代码就是设计，任何体面的开发人员都在不断地重构。当然，这使您的类图过时的想法变得可笑-它们总是会如此。

2) 管理层经常认为你可以把一个差劲的工程师当作一个“代码猴子”来使用——换句话说，他们不是特别有才华，但见鬼——你不能用他们来写一些代码吗？嗯..不！如果您必须花费大量时间编写详细的规范，以至于您基本上是在指定代码，那么自己编写会更快。你没有节省任何时间。如果开发人员不够聪明，无法运用自己的想象力和判断力，那么他们就不值得雇用。（注意，我说的不是能够学习的初级工程师。很多“高级工程师”都属于这一类。）

* * *

## 回答 #290

> 赞同：3
> 
> 时间：2009-01-02T14:53:48.173

Web 的 MVC 应该比传统的 MVC 简单得多。

传统的 MVC 涉及“侦听”“事件”的代码，以便可以不断更新视图以反映模型的当前状态。然而，在 Web 范例中，Web 服务器已经进行了监听，并且请求就是事件。因此，Web 的 MVC 只需要成为中介者模式的一个特定实例：控制器在视图和模型之间进行中介。如果一个 Web 框架设计得当，一个可重用的核心应该不会超过 100 行。该核心只需要实现“页面控制器”范式，但应该是可扩展的，以便能够支持“前端控制器”范式。

下面是一个方法，它是我自己的框架的关键，它成功地用于财富 100 强网络硬件制造商为财富 50 强媒体公司制造的嵌入式消费设备。我的方法被一位前 Smalltalk 程序员和 Oreilly 的一本关于有史以来最杰出的 Java Web 框架的书的作者比作 Smalltalk；此外，我已将相同的框架移植到 mod_python/psp。

```
static function sendResponse(IBareBonesController $controller) {
  $controller->setMto($controller->applyInputToModel());
  $controller->mto->applyModelToView();
} 
```

* * *

## 回答 #291

> 赞同：3
> 
> 时间：2009-07-12T03:53:08.387

在几乎*所有*情况下，评论都是邪恶的：http: [//gooddeveloper.wordpress.com/](http://gooddeveloper.wordpress.com/)

* * *

## 回答 #292

> 赞同：3
> 
> 时间：2009-01-09T01:33:34.710

这不完全是关于编程的，因为**html/css**不是编程语言。

**表格可以用于布局**

css 和 divs 不能做所有事情，省去麻烦并使用一个简单的表格，然后在它上面使用 css。

* * *

## 回答 #293

> 赞同：3
> 
> 时间：2009-06-23T23:20:30.250

如果一种编程语言的语法不直观，我不在乎它有多强大，而且我不能将它搁置一段时间，然后在不费力地刷新细节的情况下重新使用它。我宁愿一种语言本身是直观的，而不是一种神秘但强大的创建 DSL 的语言。计算机语言是我的用户界面，我希望它像任何其他用户界面一样设计为直观易用。

* * *

## 回答 #294

> 赞同：3
> 
> 时间：2009-09-09T07:21:26.707

**程序员不应该接触 Word（或 PowerPoint）**

除非您正在开发文字或文档处理工具，否则您不应接触仅发出二进制 blob 的文字处理器，就此而言：

**生成的 XML 文件*是*二进制 blob**

程序员应该编写纯文本文档。程序员编写的文档只需要传达意图，而不需要格式化。它必须可以使用编程工具链生成：编辑器、版本控制、搜索实用程序、构建系统等。当您已经拥有并知道如何使用该工具链时，所有其他文档制作工具都是对时间和精力的可怕浪费。

当需要为非程序员生成文档时，应该使用轻量级标记语言，例如[reStructuredText](http://docutils.sourceforge.net/rst.html)（如果您正在编写纯文本文件，那么您可能正在编写自己的轻量级标记），并生成 HTML、PDF , [S5](http://meyerweb.com/eric/tools/s5/)等从它。

* * *

## 回答 #295

> 赞同：3
> 
> 时间：2009-11-06T04:28:23.217

**大小事项！**修饰您的代码，使其看起来更大。

* * *

## 回答 #296

> 赞同：3
> 
> 时间：2009-05-04T22:43:05.723

**有时可以使用正则表达式从 HTML 中提取某些内容。**说真的，与一个钝的解析器争论，或者使用一个快速的正则表达式，比如`/<a href="([^"]+)">/`？它并不完美，但您的软件将启动并运行得更快，您可能可以使用另一个正则表达式来验证提取的匹配项实际上看起来像一个 URL。当然，它很hacky，并且可能在几个边缘情况下失败，但对于大多数用途来说已经足够了。

基于海量的《如何使用正则表达式获取 HTML？》几乎每天都会在这里发布的问题，以及*每个*答案都是“使用 HTML 解析器”这一事实，这应该是足够有争议的。

* * *

## 回答 #297

> 赞同：3
> 
> 时间：2009-01-05T22:06:00.653

**扩展方法是魔鬼的工作**

每个人似乎都认为 .Net 中的扩展方法是自切片面包以来最好的东西。歌颂他们的开发者的数量似乎每时每刻都在增加，但恐怕我不禁鄙视他们，除非有人能提出一个我还没有听过的绝妙理由或例子，否则我永远不会写一。我最近遇到了这个[线程](https://stackoverflow.com/questions/271398/post-your-extension-goodies-for-c-net-codeplex-com-extensionoverflow)，我必须说阅读投票率最高的扩展的例子让我感觉有点像呕吐（当然是隐喻的）。

对它们的可扩展性给出的主要原因是增加了可读性，改进了 OO-ness 以及更好地链接方法调用的能力。

恐怕我必须有所不同，我发现事实上它们明确地降低了可读性和 OO 性，因为它们的核心是谎言。如果您需要一个作用于对象的实用程序方法，那么请编写一个作用于该对象的实用程序方法，不要对我说谎。当我看到 aString.SortMeBackwardsUsingKlingonSortOrder 时，字符串应该具有该方法，因为这告诉我有关字符串对象的信息，而不是有关 AnnoyingNerdReferences.StringUtilities 类的信息。

LINQ 的设计方式是链式方法调用对于避免奇怪和不舒服的表达式是必要的，并且由 LINQ 产生的扩展方法是可以理解的，但通常链式方法调用会降低可读性并导致我们在混淆的 Perl 竞赛中看到的那种代码.

所以，简而言之，扩展方法是邪恶的。摆脱撒旦的束缚，致力于扩展免费代码。

* * *

## 回答 #298

> 赞同：3
> 
> 时间：2009-11-09T19:28:26.367

Java 是我们这一代的 COBOL。

每个人都学习编码。它的代码在试图让它运行几十年的大公司中运行。与所有其他选择相比，每个人都开始鄙视它，但无论如何都被迫使用它，因为它支付了账单。

* * *

## 回答 #299

> 赞同：3
> 
> 时间：2009-10-16T19:35:39.980

**永远不要改变没有损坏的东西。**

* * *

## 回答 #300

> 赞同：3
> 
> 时间：2009-12-15T05:41:37.960

**开发占 80% 的设计和 20% 的编码**

我相信开发人员应该将 80% 的时间花在设计细节上，即他们将要构建的内容，而实际上只有 20% 的时间对他们设计的内容进行编码。这将生成几乎为零错误的代码，并在测试-修复-重新测试周期中节省大量时间。

早点使用金属（或 IDE）就像过早的优化，众所周知，这是万恶之源。周到的前期设计（我不一定是在谈论庞大的设计文档，白板上的简单图纸也可以）将产生比仅仅编码和修复更好的结果。

* * *

## 回答 #301

> 赞同：3
> 
> 时间：2009-01-26T06:37:51.097

**良好的性能 VS 优雅的设计**

它们不是相互排斥的，但我不能忍受完全不知道性能的过度设计的类结构/框架。我不需要一串 new This(new That(new What())); 创建一个对象，它会告诉我现在是凌晨 5 点哦，顺便说一下，距离奥巴马生日还有 217 天，而距离周末还有 2 天。我只想知道健身房是否开放。

在两者之间取得平衡至关重要。当您需要抽出所有处理器做一些密集的事情（例如读取 TB 的数据）时，代码需要变得令人讨厌。为消耗 10% 资源（可能超过 90% 的代码）的地方保留优雅。

* * *

## 回答 #302

> 赞同：3
> 
> 时间：2009-04-04T11:48:35.403

**学校教育破坏创造力***

*“废墟”的意思是“潜在的废墟”

诚然，上学是必须的！每个人都需要先学习才能使用它 - 但是，如果我们不小心，您对如何为特定业务领域制定某种策略的所有伟大想法很容易被扔进我们的大脑深处.

当您学习新事物并获得新技能时，您也在对这些新事物和技能进行思维定势，因为它们显然是“做这件事的方式”。作为人类，我们倾向于听取权威的意见——无论是老师、顾问、同事，甚至是你喜欢的网站/论坛。我们应该始终意识到我们思维方式的“缺陷”。听听别人怎么说，但不要把他们说的当成理所当然。始终对您收到的每条新信息保持批评的观点。

与其想“哇，这很聪明。我从现在开始使用它”，我们应该想“哇，这很聪明。现在，我如何在我的个人技能和想法工具箱中使用它”。

* * *

## 回答 #303

> 赞同：3
> 
> 时间：2009-01-26T15:47:21.847

**软件开发是计算机科学的一个非常小的子集。**

人们有时似乎认为这两者是同义词，但实际上计算机科学有很多方面，普通开发人员很少（如果有的话）接触到。根据一个人的职业目标，我认为有很多 CS 毕业生如果接受某种软件工程教育可能会更好。

我高度重视教育，拥有计算机科学学士学位，并且正在兼职攻读硕士学位，但我认为许多获得这些学位的人将学位视为达到目的的手段，并没有得到什么好处。我认识很多人，他们参加了与我相同的系统软件课程，编写了与我编写的相同的汇编程序，但直到今天，他们的所作所为都没有任何价值。

* * *

## 回答 #304

> 赞同：3
> 
> 时间：2009-03-24T09:31:12.317

**启用多重签** 出 如果我们提高开发人员的纪律，我们将通过源代码控制的自动合并从这个设置中获得更高的效率。

* * *

## 回答 #305

> 赞同：3
> 
> 时间：2009-01-14T01:41:32.253

**成员变量永远不应该被声明为私有的（在 java 中）**

如果你声明一些私有的东西，你会阻止任何未来的开发人员从你的类派生并扩展功能。从本质上讲，通过编写“private”，您意味着您现在比任何未来的开发人员可能知道的更多关于如何使用您的类。每当你写“private”时，你应该写“protected”。

**类永远不应该被声明为 final（在 java 中）**

类似地，如果你将一个类声明为 final（这会阻止它被扩展——阻止它被用作继承的基类），你暗示你比任何未来的程序员都知道什么是正确的以及使用课程的正确方法。这从来都不是一个好主意。你不知道一切。有人可能会想出一个非常合适的方法来扩展你没有想到的类。

**Java Beans 是一个糟糕的主意。**

Java bean 约定——将所有成员声明为私有，然后为每个成员编写 get() 和 set() 方法——迫使程序员编写不需要代码的样板、容易出错、乏味且冗长的代码。只需将公共成员变量公开！如果您需要更改实现，请相信您以后更改它的能力（提示：99% 的时间，您永远不会）。

* * *

## 回答 #306

> 赞同：3
> 
> 时间：2009-05-31T01:23:07.820

我有争议的观点可能是 John Carmack（ID Software、Quake 等）不是一个很好的程序员。

不要误会，在我看来他是一个非常*聪明*的程序员，但是当我注意到地震源代码中的“#define private public”行之后，我不禁认为他是一个无论如何都能完成工作的人，但在我的定义中不是一个好的程序员 :) 这个观点让我陷入了很多激烈的讨论；）

* * *

## 回答 #307

> 赞同：3
> 
> 时间：2009-06-02T19:49:00.980

**软件不是一门工程学科。**

我们永远不应该让计算机逃离数学系。

* * *

## 回答 #308

> 赞同：3
> 
> 时间：2009-02-19T21:48:09.263

那，呃，**人们应该评论他们的代码**吗？好像这里还蛮有争议的。。。

代码只告诉我*它实际上做了什么*；不是它**应该做的**

当我看到一个计算[澳大利亚债券期货点值的](http://www.asx.com.au/products/futures/interest_rates/bondspread.htm)函数时，我想看到一些评论表明编码人员认为计算应该是什么！

* * *

## 回答 #309

> 赞同：3
> 
> 时间：2009-09-28T18:50:19.217

**在为数据访问层创建单元测试时，应直接从数据库中检索数据，而不是从模拟对象中检索数据。**

考虑以下：

```
void IList<Customer> GetCustomers()
{
  List<Customer> res = new List<Customer>();

  DbCommand cmd = // initialize command
  IDataReader r = cmd.ExecuteQuery();

  while(r.read())
  {
     Customer c = ReadFiledsIntoCustomer(r);
     res.Add(c);
  }

  return res;
} 
```

在 GetCustomers 的单元测试中，对 cmd.ExecuteQuery() 的调用应该实际访问数据库还是应该模拟它的行为？

如果以下情况成立，我认为您不应该模拟对数据库的实际调用：

1.  存在测试服务器和架构。
2.  架构是稳定的（这意味着您不会期望对其进行重大更改）
3.  DAL 没有智能逻辑：查询构造简单（配置/存储过程），反序列化逻辑很简单。

根据我的经验，这种方法的最大好处是您可以尽早与 DB 进行交互，体验“感觉”，而不仅仅是“外观”。事后它可以为您节省很多麻烦，并且是熟悉架构的最佳方式。

许多人可能会争辩说，一旦执行流程跨越了流程边界，它就会被认为是一个单元测试。我同意它有它的缺点，尤其是当数据库不可用并且您无法运行 UT 时。

但是，我相信在许多情况下这应该是一个有效的做法。

* * *

## 回答 #310

> 赞同：3
> 
> 时间：2009-10-22T15:39:42.113

我有两个：

**设计模式有时是糟糕程序员编写糟糕代码的一种方式**——“当你有一把锤子时——整个世界看起来都像钉子”的心态。如果我讨厌听到两个开发人员按模式创建设计：“我们应该使用带有外观的命令......”。

**没有所谓的“过早优化”**。你应该在到达那个点之前分析和优化你的代码，因为这样做太痛苦了。

* * *

## 回答 #311

> 赞同：3
> 
> 时间：2009-12-09T20:02:50.307

将 XML 存储在关系数据库中的 CLOB 中通常是一种可怕的逃避。它不仅在性能方面很糟糕，而且将正确管理数据结构的责任从数据库架构师转移到了应用程序程序员身上。

* * *

## 回答 #312

> 赞同：3
> 
> 时间：2009-05-05T20:40:44.293

1.  好的建筑是成长的，而不是设计的。

2.  经理们应该确保他们的团队成员总是在*低于*他们最先进的水平的情况下工作，无论那个水平是什么。当人们在他们的舒适区工作时，他们会产生更高质量的代码。

* * *

## 回答 #313

> 赞同：3
> 
> 时间：2009-10-18T03:40:51.113

如果您曾经让rentacoder.com 的任何人接触您的项目，那么它和您的业务都完全没有价值。

* * *

## 回答 #314

> 赞同：2
> 
> 时间：2009-01-16T08:54:11.317

**Tcl/Tk 是有史以来最好的 GUI 语言/工具包组合**

它可能缺少特定的小部件并且不如街区中的新孩子好看，但它的模型优雅且易于使用，以至于**通过交互式输入命令**比使用可视界面构建器更快地构建工作 GUI。它的表现力是无与伦比的：其他解决方案（Gtk、Java、.NET、MFC...）通常需要十到一百个 LOC 才能获得与 Tcl/Tk 单线相同的结果。所有这些都不会牺牲可读性或稳定性。

```
pack [label .l -text "Hello world!"] [button .b -text "Quit" -command exit] 
```

* * *

## 回答 #315

> 赞同：2
> 
> 时间：2009-01-21T23:16:22.793

**Dependency Management Software Does More Harm Than Good**

I've worked on Java projects that included upwards of a hundred different libraries. In most cases, each library has its own dependencies, and those dependent libraries have their own dependencies too.

Software like Maven or Ivy supposedly "manage" this problem by automatically fetching the correct version of each library and then recursively fetching all of its dependencies.

Problem solved, right?

Wrong.

Downloading libraries is the **easy** part of dependency management. The hard part is creating a mental model of the software, and how it interacts with all those libraries.

My unpopular opinion is this:

If you can't verbally explain, off the top of your head, the basic interactions between all the libraries in your project, you should eliminate dependencies until you can.

Along the same lines, if it takes you longer than ten seconds to list all of the libraries (and their methods) invoked either directly or indirectly from one of your functions, then you are doing a poor job of managing dependencies.

You should be able to easily answer the question "which parts of my application actually depend on library XYZ?"

The current crop of dependency management tools do more harm than good, because they make it easy to create impossibly-complicated dependency graphs, and they provide virtually no functionality for reducing dependencies or identifying problems.

I've seen developers include 10 or 20 MB worth of libraries, introducing thousands of dependent classes into the project, just to eliminate a few dozen lines of simple custom code.

Using libraries and frameworks can be good. But there's always a **cost**, and tools which obscure that cost are inherently problematic.

Moreover, it's sometimes (note: certainly not always) better to reinvent the wheel by writing a few small classes that implement **exactly** what you need than to introduce a dependency on a large general-purpose library.

* * *

## 回答 #316

> 赞同：2
> 
> 时间：2009-01-21T23:28:02.677

There are some (very few) legitimate uses for goto (particularly in C, as a stand-in for exception handling).

* * *

## 回答 #317

> 赞同：2
> 
> 时间：2009-04-21T20:08:41.520

...“澄清想法”不应该是开发人员的唯一责任...是的 xkcd 让我使用了那个特定的短语...

如果你想这样称呼它，我们经常会收到在 psuedo-meta-sorta-kinda-kinda-specific “代码”中指定的项目。经常有产品经理为项目草拟初始要求并执行接近 0% 的基本逻辑验证。

我不是说技术方法不应该由架构师制定，或者具体实现不应该是开发人员的责任，而是应该由产品经理的要求来确保他们的要求在逻辑上是可行的。

就我个人而言，我参与了太多“简单”的项目，这些项目在这里和那里遇到了一点范围蔓延，然后遇到了与以前的要求相矛盾的“小”更改或特性添加——无论是隐含的还是明确的。在这些情况下，要求进行不可能更改的人很容易对开发人员无法实现他们的梦想感到愤怒。

* * *

## 回答 #318

> 赞同：2
> 
> 时间：2009-08-03T23:30:00.390

**在 .NET 上开发不是编程。它只是将其他人的代码拼接在一起。**

来自要求您了解硬件的编码背景，并且这仍然是我所在行业的重要要求，我认为高级语言只是组装别人的工作。这本质上没有错，但它是“编程”吗？

MS 通过艰苦的工作和向“开发人员”提供符号指令语法而取得了成功。我现在似乎认识越来越多的开发人员，他们似乎受限于类的存在或不存在来执行工作。

我的观点来自这样一种观念，即作为一名程序员，你应该能够在你的平台允许的最低级别上进行编程。因此，如果您正在编写 .NET，那么您需要能够深入了解并制定解决方案，而不是依赖其他人为您创建一个类。这只是懒惰，在我的书中不符合“发展”的条件。

* * *

## 回答 #319

> 赞同：2
> 
> 时间：2009-12-16T19:05:49.157

最佳实践不是。

* * *

## 回答 #320

> 赞同：2
> 
> 时间：2009-02-04T22:43:02.310

**有用且干净的高级抽象比性能重要得多**

*一个例子：*

我经常看到同行花费数小时编写复杂的 Sproc，或者为了“性能”而返回不直观的匿名类型的大量 LINQ 查询。

它们可以实现几乎相同的性能，但代码更简洁、直观。

* * *

## 回答 #321

> 赞同：2
> 
> 时间：2009-03-09T11:55:18.947

**自动更新导致软件质量较差，安全性较低**

*理念*

使用最新的错误修复和安全补丁使用户的软件保持最新的系统。

*现实*

产品必须在固定期限内发货，通常以质量保证为代价。然后发布带有许多错误和安全漏洞的软件，以便在知道“自动更新”可用于稍后修复所有问题的情况下满足最后期限。

现在，真正让我想到这个的软件是VS2K5。起初，它很棒，但随着更新的安装，软件慢慢变得更糟。最大的问题是宏的丢失——我花了很长时间创建一组有用的 VBA 宏来自动化我编写的一些代码——但显然存在一个安全漏洞，宏系统没有修复它，而是被禁用了。Bang 有一个非常有用的功能：记录击键并重复播放。

现在，如果我真的很偏执，我可以将自动更新视为一种让人们通过缓慢安装更频繁地破坏系统的代码来升级他们的软件的方法。随着系统变得越来越不可靠，用户很想为下一个版本付费，并承诺提供更好的可靠性等等。

斯基兹

* * *

## 回答 #322

> 赞同：2
> 
> 时间：2009-01-14T14:30:04.417

[代码即设计：Jack W. Reeves 的三篇论文](http://www.developerdotstar.com/mag/articles/reeves_design_main.html)

任何软件的源代码都是其最准确的设计文档。其他所有内容（规范、文档，有时还有评论）要么不正确、过时或具有误导性。

保证让你几乎到处被解雇。

* * *

## 回答 #323

> 赞同：2
> 
> 时间：2009-05-06T08:49:29.063

To be really controversial:

**You know nothing!**

or in other words:

**I know that I know nothing.**

(this could be paraphrased in many kinds but I think you get it.)

When starting with computers/developing, IMHO there are three stages everyone has to walk through:

The newbie: knows nothing (this is fact)

The intermediate: thinks he knows something/very much(/all) (this is conceit)

The professional: knows that he knows nothing (because as a programmer most time you have to work on things you have never done before). This is no bad thing: I love to familiarize myself to new things all the time.

I think as a programmer you have to know how to learn - or better: To learn to learn (because remember: You know nothing! ;)).

* * *

## 回答 #324

> 赞同：2
> 
> 时间：2009-07-09T00:03:25.303

**可以使用短变量名**

但不适用于嵌套循环中的索引。

* * *

## 回答 #325

> 赞同：2
> 
> 时间：2009-01-09T14:19:41.413

**没有远程调试器就无法编写 Web 应用程序**

Web 应用程序通常将客户端和服务器端的多种语言之间的交互联系在一起，需要用户进行交互，并且通常包含第三方代码，这些代码可以是从简单的 API 实现到拜占庭框架的任何内容。

我已经数不清有多少次我让另一个开发人员和我坐在一起，当我走进一个复杂的 Web 应用程序并用一个体面的远程调试器跟踪实际发生的事情时，看到他们对这样的工具的存在感到惊讶和惊讶. 通常，即使在看到这些工具在运行之后，他们仍然不会费心安装和设置这些工具。

您只是无法使用打印语句调试非平凡的 Web 应用程序。如果您没有正确处理应用程序中的所有代码，则乘以 10。

如果您的调试器可以逐步检查所有正在使用的各种语言并向您显示发生的 http 事务，那就更好了。

**没有 Firebug 就无法开发 Web 应用程序**

类似地，一旦你使用过 Firebug（或非常接近的同类产品），你就会发现任何试图开发 Web 应用程序的人都怀着怜悯和恐惧的心情。特别是在 Firebug 显示计算样式时，如果您记得不使用它并花费数小时随机更改 CSS 的各个位并在太多地方添加“！important”以使其变得有趣，那么您将*永远不会回头*。

* * *

## 回答 #326

> 赞同：2
> 
> 时间：2009-01-09T22:37:04.297

信不信由你，我认为，**在 OO 语言中，对类数据进行操作的大部分（业务逻辑）代码应该在类本身**中，这对我的团队来说是异端邪说。

* * *

## 回答 #327

> 赞同：2
> 
> 时间：2009-01-18T09:38:08.693

这个问题让我觉得很有趣的是我刚刚阅读了第一页的答案，到目前为止，我还没有找到一个有争议的意见。

也许这更多地说明了 stackoverflow 产生共识的方式，而不是其他任何东西。也许我应该从底部开始。:-)

* * *

## 回答 #328

> 赞同：2
> 
> 时间：2009-05-06T06:50:18.757

**switch-case 不是面向对象的编程**

我经常看到很多 switch-case 或非常大的 if-else 结构。这只是一个标志，不要将状态放在它所属的位置，也不要使用已经存在的真实有效的 switch-case 构造：方法查找/vtable

* * *

## 回答 #329

> 赞同：2
> 
> 时间：2009-03-20T19:31:08.913

**MS Access* 是一个真正的开发工具，专业程序员可以毫无羞耻地使用它**

不应该仅仅因为一个特定的平台吸引那些认为自己是程序员的黑客和秘书，就玷污了平台本身。每个平台都有其优点和缺点。

抱怨某些平台或工具或将其贬低为“玩具”的程序员，对他们的手艺的了解远比他们的自我说服他们的要少得多。对我来说，听到程序员抨击他们个人没有广泛使用到足够了解的任何环境，这无疑是过度自信的迹象。

* 在此处插入几乎所有恶意工具（VB、PHP 等）。

* * *

## 回答 #330

> 赞同：2
> 
> 时间：2009-01-06T21:02:39.253

如果您拥有正确的工具并花时间正确编写该软件，则该软件可以没有错误。

* * *

## 回答 #331

> 赞同：2
> 
> 时间：2009-02-03T19:40:07.843

**永远不要将任何东西实现为单例。**

您可以决定不构建多个实例，但始终确保您的实现可以处理更多。

我还没有找到任何使用单例实际上是正确做法的场景。

在过去的几年里，我对此进行了一些非常激烈的讨论，但最后我总是对的。

* * *

## 回答 #332

> 赞同：2
> 
> 时间：2009-06-05T16:52:37.300

**设计模式很糟糕。**

实际上，[设计模式不是](http://perl.plover.com/yak/design/).

你可以写出糟糕的代码，然后把它埋在一堆模式之下。使用单例作为全局变量，并使用 goto 的状态。任何。

设计模式是针对特定问题的标准解决方案，但需要您首先了解问题。如果你不这样做，设计模式将成为下一个开发人员问题的一部分。

* * *

## 回答 #333

> 赞同：2
> 
> 时间：2009-01-07T06:51:50.623

意见：**没有函数定义，返回类型可以导致灵活和可读的代码。**

这种观点可能更多地适用于解释语言而不是编译语言。要求返回类型和函数参数列表非常适合智能感知自动记录您的代码，但它们也是限制。

现在不要误会我的意思，我并不是说丢弃返回类型或参数列表。他们有他们的位置。90% 的情况下，它们更多的是好处而不是障碍。

在某些时间和地点，这很有用。

* * *

## 回答 #334

> 赞同：2
> 
> 时间：2009-01-12T09:04:05.603

2 空格缩进。

没有讨论。它必须是那样的;-)

* * *

## 回答 #335

> 赞同：2
> 
> 时间：2009-01-02T19:30:11.250

成为一名优秀的程序员确实需要在该领域的多个方面工作：应用程序开发、系统（内核）工作、用户界面设计、数据库等等。有些方法对所有人都通用，有些方法特定于工作的一个方面。您需要学习如何像 Java 编码器一样编写 Java，而不是像 C++ 编码器，反之亦然。用户界面设计真的很难，并且使用的大脑部分与编码不同，但在代码中实现 UI 也是另一项技能。不仅没有“一种”编码方法，而且不只有一种类型的编码。

* * *

## 回答 #336

> 赞同：2
> 
> 时间：2009-06-19T18:02:25.640

**[软件重用是优化软件开发的最重要途径](http://c2.com/cgi/wiki?TheMythicalManMinute)**

不知何故，软件重用在一段时间内开始流行，但已经失去了它的魅力，因为许多公司发现仅仅用重用口号编写 PowerPoint 演示文稿实际上并没有帮助。他们认为软件重用只是不够“好”，无法实现他们的梦想。因此，它似乎不再流行——它被大量的项目管理新手（例如敏捷）所取代。

事实是，任何真正优秀的开发人员自己都会执行某种软件重用。我会说**任何开发人员，不做软件重用都是一个糟糕的开发人员！**

我亲身体验过，软件重用可以在开发中产生多少性能和稳定性。但是，当然，一组 PowerPoint 和半心半意的管理层坦白并不足以充分发挥其在公司中的潜力。

我已经链接了一篇关于软件重用的非常古老的文章（见标题）。它最初是用德语写的，后来翻译了——所以请原谅，当它不是那么好时。

* * *

## 回答 #337

> 赞同：2
> 
> 时间：2009-12-16T00:03:20.647

80% 的错误是在设计阶段引入的。
其他 80% 是在编码阶段引入的。

（这个观点的灵感来自于阅读 Dima Malenko 的回答。“开发是 80% 的设计和 20% 的编码”，是的。“这将产生接近零错误的代码”，不。）

* * *

## 回答 #338

> 赞同：2
> 
> 时间：2009-11-21T22:24:36.727

**每个文件一个类**

谁在乎？我更喜欢包含在一个文件中的整个程序，而不是一百万个不同的文件。

* * *

## 回答 #339

> 赞同：2
> 
> 时间：2009-10-22T15:30:59.210

如果您还没有阅读手册页，那么您就不是真正的程序员。

* * *

## 回答 #340

> 赞同：2
> 
> 时间：2009-10-17T06:10:51.577

我想说，我对编程最有争议的观点是，我真诚地相信你不应该太担心丢弃代码和重写代码。很多时候人们觉得如果你写下一些东西，那么改变它就意味着你做错了什么。但我的大脑工作方式是让一些非常简单的工作，慢慢更新代码，同时确保代码和测试继续一起运行。它可能最终会实际创建类、方法、附加参数等，我完全知道会在几个小时内消失。但我这样做是因为我只想朝着我的目标迈出一小步。最后，我认为我使用这种技术的时间不会比那些盯着屏幕试图在编写一行代码之前找出最佳设计的程序员多。

我得到的好处是，我不必经常处理不再工作的软件，因为我碰巧以某种方式破坏了它，并试图找出停止工作的原因以及原因。

* * *

## 回答 #341

> 赞同：2
> 
> 时间：2009-07-29T15:31:55.700

函数式编程并不比命令式编程更直观或更容易学习。

函数式编程有很多好处，但我经常听到函数式程序员说，对于没有编程经验的人来说，函数式编程比命令式编程更容易理解。从我所看到的情况恰恰相反，人们发现琐碎的问题很难解决，因为当你最终进入一个没有状态的世界时，他们不知道如何管理和重用他们的临时结果。

* * *

## 回答 #342

> 赞同：2
> 
> 时间：2009-08-06T14:12:40.197

我宁愿真正熟练/经验丰富的旧技术，让我能够有效地解决现实世界的问题，而不是仍处于青少年阶段的新“时尚”技术。

* * *

## 回答 #343

> 赞同：2
> 
> 时间：2009-10-10T19:05:38.940

除非程序员团队作为一个整体被赋予完全授权来做出与所使用技术相关的所有决策，否则开发项目注定会失败。

* * *

## 回答 #344

> 赞同：1
> 
> 时间：2009-01-16T10:03:27.417

**管理者什么都知道**

根据我的经验，经理通常不会通过了解代码来实现目标。无论你告诉他们什么，它都太长、不对或太贵。

另一个是从第一个开始的：

**永远没有时间做对，但总有时间再做一次**

一位好工程师朋友曾经说过，为了描述管理层将他的估计减半的情况，他从他那里得到了一个半途而废的版本，然后给了他两倍的时间来返工，因为它失败了。在商业软件世界中，这是一件相当普遍的事情。

今天在尝试配置仅具有 Web 界面的路由器时想到的一个：

**Web 界面是为傻瓜准备的**

以前版本的固件的 CLI 非常好。这个版本有一个网络界面，它试图向无知的 IT 机器人隐藏网络的所有复杂性，甚至无法正确设置 VLAN。

* * *

## 回答 #345

> 赞同：1
> 
> 时间：2009-12-27T06:52:38.533

**Python 可以在一半的开发时间内完成其他编程语言所做的一切**......谷歌也是如此！如果您不同意，请查看[Unladen Swallow 。](http://code.google.com/p/unladen-swallow/)

等等，这是事实。它仍然可以作为这个问题的答案吗？

* * *

## 回答 #346

> 赞同：1
> 
> 时间：2009-02-20T07:55:49.647

人们抱怨从语言中删除“goto”。我碰巧认为任何形式的条件跳转都被高估了，“if”、“while”、“switch”和通用的“for”循环被高估了，应该非常小心地使用。

每次进行比较和条件跳转时，都会增加一点复杂性，一旦调用堆栈达到几百个项目的深度，这种复杂性就会迅速增加。

我的第一选择是避免条件，但如果它不切实际，我的下一个偏好是在构造函数或工厂方法中保持条件复杂性。

显然，这对于许多项目和算法（如控制流循环）来说是不切实际的，但这是我喜欢推动的事情。

-瑞克

* * *

## 回答 #347

> 赞同：1
> 
> 时间：2009-01-09T23:03:22.323

**意见：开发领域的持续时间并不总是与经验相同。**

许多行业用一种语言来看待“多年的经验”。是的，5 年的 C# 是有意义的，因为你可能会学到新的技巧，什么都不会。但是，如果您在公司工作多年并保持相同的代码库，我觉得作为一个处理不同情况和客户需求的人，您并没有获得接触不同情况的机会。

我曾经采访过一个人，他以拥有 10 年的编程经验而自豪，并曾在同一家公司工作过 VB5、6 和 VB.Net……。经过更多的探索，我发现当他使用所有这些版本的 VB 时，他只是在升级和不断地维护他原来的 VB5 应用程序。永远不要修改架构，让升级向导做他们的事情。我采访过一些人，他们在该领域只有 2 年的时间，但从事过多个比他有更多“经验”的项目。

* * *

## 回答 #348

> 赞同：1
> 
> 时间：2009-01-02T16:30:24.937

**（未命名）元组是邪恶的**

*   如果您将元组用作多个具有独特含义的对象的容器，请改用类。
*   如果您使用它们来保存应该可以通过索引访问的多个对象，请使用列表。
*   如果您使用它们从方法中返回多个值，请改用 Out 参数（这确实需要您的语言支持按引用传递）

*   如果它是代码混淆策略的一部分，请继续使用它们！

我看到人们使用元组只是因为他们懒得为他们的对象提供名称。然后，API 的用户被迫根据无意义的索引而不是有用的名称访问元组中的项目。

* * *

## 回答 #349

> 赞同：1
> 
> 时间：2009-02-08T14:24:20.550

Here's mine:

"You don't need (textual) syntax to express objects and their behavior."

I subscribe to the ideas of Jonathan Edwards and his Subtext project - [http://alarmingdevelopment.org/](http://alarmingdevelopment.org/)

* * *

## 回答 #350

> 赞同：1
> 
> 时间：2009-01-20T21:16:36.437

尚未对其进行争议测试，但可能存在：

最好的代码行是您从未编写过的代码行。

* * *

## 回答 #351

> 赞同：1
> 
> 时间：2009-01-03T00:07:35.917

在彻底考虑某个问题之前，永远不要对某个问题下定决心。没有任何编程标准可以证明以糟糕的方式处理问题是合理的。如果标准要求编写一个类，但经过仔细考虑，您认为静态方法更合适，请始终使用静态方法。你自己的判断力总是比编写标准的人最好的前瞻性思维还要好。如果你在一个团队中工作，标准是很好的，但规则是要被打破的（当然是有品味的）。

* * *

## 回答 #352

> 赞同：1
> 
> 时间：2009-12-15T04:48:35.627

**C++ 是未来的杀手级语言...**

...动态语言。

没有人拥有它，具有越来越多的功能，例如编译时（元）编程或类型推断，没有函数调用开销的回调，不强制执行单一方法（多范式）。POSIX 和 ECMAScript[正则表达式](http://www.boost.org/doc/libs/1_41_0/doc/html/boost_tr1/subject_list.html#boost_tr1.subject_list.regex)。 [多个返回值](http://www.boost.org/doc/libs/1_41_0/doc/html/boost_tr1/subject_list.html#boost_tr1.subject_list.tuple)。你可以有[命名参数](http://www.boost.org/doc/libs/1_41_0/libs/parameter/doc/html/index.html)。等等等等

事情在编程中进展得很慢。JavaScript 花了 10 年才起步（主要是因为性能），而大多数使用它编程的人仍然没有得到它（JS 中的类？来吧！）。我想说 C++ 将在 15 到 20 年后真正开始发光。在我看来，这似乎是 C++（语言以及编译器供应商）和当今使用动态语言编写的大量程序员收敛的合适时间。

C++ 需要变得对程序员更加友好（从模板生成的编译器错误或存在相同的编译时间），并且程序员需要意识到静态类型是一个福音（它已经在进行中，请参见此处的其他答案）用动态类型语言编写的代码就像该语言是静态类型的一样编写）。

* * *

## 回答 #353

> 赞同：1
> 
> 时间：2009-12-15T05:49:12.383

简单与优化

我相信编写既简单又优化的代码非常困难。

* * *

## 回答 #354

> 赞同：1
> 
> 时间：2009-01-09T12:04:48.860

与这里的大多数其他人一样，我尝试遵守 DRY 等原则，而不是作为人类编译器。

我要推动的另一个策略是“告诉，不要问”。我不想用 getter/setter 把所有对象弄得乱七八糟，而是让他们做一个筛子，我想告诉他们去做一些事情。

这似乎直接违背了具有愚蠢实体对象和更厚服务层的良好企业实践（这确实有很多要求）。嗯，想法？

* * *

## 回答 #355

> 赞同：1
> 
> 时间：2009-01-03T04:54:21.657

*   [Xah Lee](http://xahlee.org/Periodic_dosage_dir/skami_prosa.html): actually has some pretty noteworthy and legitimate viewpoints if you can filter out all the invective, and rationally evaluate statements without agreeing (or disagreeing) based solely on the personality behind the statements. A lot of my "controversial" viewpoints have been echoed by him, and other notorious "trolls" who have criticized languages or tools I use(d) on a regular basis.

*   [Documentation Generators]([http://en.wikipedia.or](http://en.wikipedia.or) /wiki/Comparison_of_documentation_generators): ... the kind where the creator invented some custom-made especially-for-documenting-sourcecode roll-your-own syntax (including, but not limited to JavaDoc) are totally superfluous and a waste of time because:

    *   1) They are underused by the people who should be using them the most; and
    *   2) All of these mini-documentation-languages *all of them* could easily be replaced with YAML

* * *

## 回答 #356

> 赞同：1
> 
> 时间：2009-01-27T16:12:52.450

我不认为任何与优化相关的问题都应该充斥着错误引用的“过早优化是万恶之源”的颂歌，因为优化为混淆的代码才是让编码变得有趣的原因

* * *

## 回答 #357

> 赞同：1
> 
> 时间：2009-01-04T00:29:06.933

我认为使用 goto 语句很好，如果你以理智的方式使用它们（和理智的编程语言）。它们通常可以使您的代码更易于阅读，并且不会强迫您使用一些扭曲的逻辑来完成一件简单的事情。

* * *

## 回答 #358

> 赞同：1
> 
> 时间：2009-04-29T19:03:57.960

在聚合和组合的背景下考虑[的得墨忒耳法则](http://en.wikipedia.org/wiki/Law_of_Demeter)是一种反模式。

* * *

## 回答 #359

> 赞同：1
> 
> 时间：2009-04-29T19:04:37.053

我认为有太多人在做出不应该担心实施的编程决策。

* * *

## 回答 #360

> 赞同：1
> 
> 时间：2009-01-02T14:44:19.597

这（至少在初始设计期间），每个数据库表（嗯，几乎每个）都应该明确定义为包含一些清晰可理解的业务实体或系统级域抽象，并且无论您是否将其用作主键和作为其他依赖表中的外键，应明确定义某些列（属性）或表属性的子集以表示该表（实体/抽象）的唯一键。这是确保整个表结构代表整个系统数据结构的逻辑一致表示，没有重叠或误解的扁平化的唯一方法。我坚信对 Pks 和 Fks 使用无意义的代理键并加入功能（出于性能、易用性和其他原因），

那么为什么不同时使用呢？

* * *

## 回答 #361

> 赞同：1
> 
> 时间：2009-01-12T20:30:22.600

软件工程师不应该与计算机科学人员一起工作

他们的区别：SE 关心代码的可重用性，而 CS 只关心代码 SE 关心性能，而 CS 只想把事情做好 现在 SE 关心整个结构，而 CS 不折腾......

* * *

## 回答 #362

> 赞同：1
> 
> 时间：2009-11-06T17:36:59.167

显然，[IDE 应该](https://stackoverflow.com/questions/1688470/for-what-reason-does-an-ide-not-check-to-see-if-it-can-create-a-binary-before-com)在浪费时间编译之前检查他们是否可以链接他们创建的代码是有争议的

但我认为我不应该编译无数行代码只是为了意识到 Windows 锁定了我正在尝试创建的文件，因为另一个程序员有一些奇怪的线程问题，需要他延迟卸载 DLL不应该使用后 3 分钟。

* * *

## 回答 #363

> 赞同：1
> 
> 时间：2009-04-04T11:06:26.847

使用 C (/C++) 的人只有 2 种：一种不会其他语言，另一种是懒得学习一门新语言。

* * *

## 回答 #364

> 赞同：1
> 
> 时间：2009-08-30T00:12:08.300

我认为 Java 应该通过瘦原生库包装器支持特定于系统的功能。

换一种说法，我认为 Sun 要求 Java 只支持可移植特性的决心从几乎每个人的角度来看都是一个大错误。

无数年后，SWT 出现并解决了编写可移植的本机小部件 UI 的基本问题，但到那时，微软被迫将 Java 分叉成 C#，并且编写了许多本来可以用文明的 Java 完成的 C++。现在世界运行在 C#、VB、Java、C++、Ruby、Python 和 Perl 的混合体上。除了 SWT 之外，所有 Java 程序的外观和行为都仍然很奇怪。

如果 Java 推出了围绕原生库的瘦包装器，那么人们可以*完全用 Java*编写 SWT 等价物，并且随着事情的发展，我们可以用 Java 制作可移植的明显原生应用程序。我完全支持可移植应用程序，但如果这种可移植性是在中间件 UI（和其他功能）库的开放市场中实现的，而不是通过简单地将用户菜单减少为垃圾或使用 Swing 伪造 UI，那会更好。

我想 Sun 认为 ISV 会受到 Java 的限制，然后世界上所有新的 PC 应用程序都会神奇地在 Sun 上运行。不错的尝试。他们最终没有得到应用程序，也没有让语言起飞，直到我们可以将它用于纯逻辑服务器后端代码。

如果事情以不同的方式完成，那么本地应用程序可能不会死。

* * *

## 回答 #365

> 赞同：1
> 
> 时间：2009-04-29T19:02:16.593

“其他”是有害的。

* * *

## 回答 #366

> 赞同：1
> 
> 时间：2009-01-05T08:48:57.877

硬编码很好！

在许多情况下，确实更高效且更易于维护！

我见过多少次将常数放入参数文件中，你多久会改变水的冰点或光速？

对于 C 程序，只需将这些类型的值硬编码到头文件中，对于 java 到静态类等。

当这些参数对您的程序行为产生重大影响时，您真的想对每次更改进行回归测试，这对于硬编码值似乎更自然。当东西存储在参数/属性文件中时，人们很容易想到“这不是一个程序，所以我不需要测试它”。

另一个优点是它可以防止人们弄乱参数/属性文件中的重要值，因为没有任何值！

* * *

## 回答 #367

> 赞同：1
> 
> 时间：2009-01-05T09:05:53.677

在将代码合并到主线之前有一个涉及代码被批准的过程是一个糟糕的主意。它在开发人员中滋生了不安全感和懒惰，如果他们知道自己可能会搞砸几十个人，他们会对他们所做的更改非常小心，就会陷入一种不必考虑他们代码的所有可能客户的感觉。可能会影响。审查代码的人不太可能像编写它的人那样考虑它，因此它实际上可能导致签入质量较差的代码......但是，是的，它可能会遵循所有样式指南和得到很好的评论:)

* * *

## 回答 #368

> 赞同：1
> 
> 时间：2009-10-30T12:45:31.237

您只需要 3 到 5 种语言即可完成所有工作。C是确定的。也许组装，但你应该知道它并能够使用它。如果您为网络编写代码，可能是 javascript 和/或 Java。像 bash 这样的 shell 语言和像 Lisp 这样的 HLL，这可能很有用。其他任何事情都是一种干扰。

* * *

## 回答 #369

> 赞同：1
> 
> 时间：2009-03-16T02:17:26.513

程序员和开发人员是有区别的。一个例子：程序员编写分页逻辑，开发人员在页面上集成分页。

* * *

## 回答 #370

> 赞同：1
> 
> 时间：2009-01-02T22:17:50.803

被认为有害的例外。

* * *

## 回答 #371

> 赞同：1
> 
> 时间：2009-11-12T00:45:58.130

“XML 和 HTML 是网络的“汇编语言”。为什么还要破解它？

很明显，如今很少有开发人员学习/编写汇编语言，因为它是原始的，并且使您远离必须在高级别的问题上解决的问题。因此，我们发明了高级语言来封装这些层次实体，以通过我们可以在更高层次上更多关联的语言元素来提高我们的生产力。就像我们可以用计算机做更多的事情，而不仅仅是它的主板或 CPU。

对于 Web，在我看来，开发人员仍在阅读/编写和破解 HTML、CSS、XMl、模式等。

我认为这些相当于 Web 或其基础的“汇编语言”。我们应该完成它吗？当然，有时出现问题时我们需要破解它。但可以肯定的是，这是一个例外。我断言我们正在用 Web 级别的等价物替换机器级别的低级别汇编语言。

* * *

## 回答 #372

> 赞同：1
> 
> 时间：2009-12-15T00:43:23.113

**关联数组/哈希映射/哈希表（+无论你最喜欢的语言叫什么）是切片面包以来最好的东西！**

当然，它们提供了从键到值的快速查找。但它们也使动态构建结构化数据变得容易。在脚本语言中，它通常是表示结构化数据的唯一（或至少是最常用的）方式。

恕我直言，它们是许多脚本语言成功的一个非常重要的因素。

甚至在 C++ 中 std::map 和 std::tr1::unordered_map 也帮助我更快地编写代码。

* * *

## 回答 #373

> 赞同：1
> 
> 时间：2009-08-25T18:21:07.900

**Jon Bentley 的“Programming Pearls”不再是一本有用的著作。**

[http://tinyurl.com/nom56r](http://tinyurl.com/nom56r)

* * *

## 回答 #374

> 赞同：1
> 
> 时间：2009-06-17T09:43:21.207

你永远不会使用足够多的语言，仅仅是因为每种语言都最适合解决一小部分问题，而且混合语言太难了。

宠物示例：只有在规范经过深思熟虑（因为许多相互依赖意味着重构地狱）以及使用具体概念时，才应该使用 Java。Perl 应该只用于文本处理。只有当速度胜过一切，包括灵活性和安全性时，才应该使用 C。键值对应该用于一维数据，CSV 用于二维数据，XML 用于分层数据，DB 用于任何更复杂的数据。

* * *

## 回答 #375

> 赞同：1
> 
> 时间：2009-06-19T17:32:22.167

我相信“让我们重写过去并尝试修复假装没有任何工作的错误”是在绝望情况下有价值的调试口头禅：

[https://stackoverflow.com/questions/978904/do-you-use-the-orwellian-past-rewriting-debugging-philosophy-closed](https://stackoverflow.com/questions/978904/do-you-use-the-orwellian-past-rewriting-debugging-philosophy-closed)

* * *

## 回答 #376

> 赞同：1
> 
> 时间：2009-09-24T07:44:54.367

**从长远来看，QA 可以做得很好，而无需探索所有形式的测试**

很多地方似乎都有“方法”，“我们如何做”。这似乎隐含地排除了其他方法。

从长远来看，这是一个严重的问题，因为 QA 的主要功能是提交错误并修复它们。

如果你没有找到尽可能多的错误，你就不能很好地做到这一点。当您排除方法时，例如，由于过于依赖黑盒，您开始忽略整个类可发现的编码错误。这意味着，通过暗示，您正在使整个类别的编码错误无法修复，除非其他人偶然发现它。

潜在的问题通常似乎是管理层+员工。有这个问题的经理似乎对计算机科学和/或他们团队的价值主张有狭隘的想法。他们倾向于创建反映他们方法的团队，以及测试方法的白名单。

我并不是说您可以或应该一直做所有事情。让我们面对现实吧，对于给定的产品，某些测试方法只会浪费时间。有些方法论在产品成熟度的某些水平上更有用。但我认为缺少的是测试组织挑战自我学习新事物并将其应用于整体绩效的能力。

这是一个假设的对话，可以总结一下：

> 我：你测试了那个启动脚本**10**年，你却对 shell 脚本以及它们如何工作一无所知？！
> 
> 测试员：是的。
> 
> 我：权限？
> 
> 测试人员：安装程序会这样做
> 
> 我：平台，特定于发布的依赖项？
> 
> 测试人员：我们为此提交错误
> 
> 我：错误处理？
> 
> 测试人员：当客户支持发生错误时，会向我们发送一些信息。
> 
> 我：好的...（开始考虑在stackoverflow中写帖子...）

* * *

## 回答 #377

> 赞同：1
> 
> 时间：2009-08-24T03:44:48.193

敏捷很烂。

* * *

## 回答 #378

> 赞同：1
> 
> 时间：2009-07-23T04:46:27.997

删除类。.NET Framework 中的类数（类的方法）隐式处理异常。和一个愚蠢的人一起工作是很困难的。

* * *

## 回答 #379

> 赞同：1
> 
> 时间：2009-07-29T03:09:19.657

如果语言暴露了实际类型，则不要对基本类型使用关键字。在 C# 中，这指的是 bool (Boolean)、int (Int32)、float (Single)、long (Int64)。“int”、“bool”等不是语言的实际部分，而只是实际类型的“快捷方式”或“别名”。不要使用不存在的东西！在我看来，Int16、Int32、Int64、Boolean 等比“short”、“long”、“int”更有意义。

* * *

## 回答 #380

> 赞同：1
> 
> 时间：2009-08-06T14:17:45.417

当许多新技术出现在现场时，我对它们的了解仅足以决定我现在是否需要它们。

如果没有，我将它们放在一边，直到“早期采用者”将粗糙的边缘敲掉，然后每隔几个月/几年再检查一次。

* * *

## 回答 #381

> 赞同：1
> 
> 时间：2009-10-13T21:49:38.620

*   很快我们将在**一个没有数据库的世界**中编程。

*   **AOP 和依赖注入是 21 世纪的 GOTO**。

*   **构建软件是一种社会活动**，而不是技术活动。

*   乔尔有一个博客。

* * *

## 回答 #382

> 赞同：1
> 
> 时间：2009-11-13T20:46:04.763

Visual Basic 或 C# 都不胜过对方。它们几乎相同，只是保存了一些语法和格式。

* * *

## 回答 #383

> 赞同：1
> 
> 时间：2009-11-15T07:07:42.150

我认为我们应该远离“C”。它太旧了！可是，老狗还是叫的更响了！！

* * *

## 回答 #384

> 赞同：0
> 
> 时间：2009-06-15T01:17:51.223

显然我的是[Haskell 有 variables](https://stackoverflow.com/questions/993124/does-haskell-have-variables/993126#993126)。这既是“微不足道的”（根据至少八名 SO 用户的说法）（尽管似乎没有人同意哪个琐碎的答案是正确的），甚至是一个糟糕的问题（根据至少五名反对者和四名投票结束的人）它）。哦，我（以及计算机科学家和数学家）错了，尽管没有人能详细解释原因。

* * *

## 回答 #385

> 赞同：0
> 
> 时间：2009-02-05T16:58:07.260

“不要从构造函数中调用虚方法”。这只是有时是 PITA，但之所以如此，是因为在 C# 中我无法决定在构造函数中的哪个点调用我的基类的构造函数。为什么不？.NET 框架允许它，那么 C# 不允许它有什么好的理由呢？

该死！

* * *

## 回答 #386

> 赞同：0
> 
> 时间：2009-01-13T15:58:49.277

使用设计模式和文档

在网络开发中，这些东西有什么用，从来没有觉得有任何用处

* * *

## 回答 #387

> 赞同：0
> 
> 时间：2009-11-12T11:48:45.523

**人脑是所有锁的万能钥匙。**

这个世界上没有什么可以让你的大脑移动得更快。相信我，这不是哲学而是实用的。就意见而言，他们如下

* * *

1) 永远不要超出编程语言指定的边界，一个简单的例子是 C 和 C++ 中的指针。不要滥用它们，因为您很可能会遇到**DAMN SEGMENTATION FAULT。**

2）始终遵循编码标准，是的，您所阅读的内容是正确的，编码标准对您的程序有很多作用，*毕竟您的程序是为机器执行而编写的，但要被其他大脑理解*:)

* * *

## 回答 #388

> 赞同：0
> 
> 时间：2009-01-02T20:23:42.330

并非所有内容都需要封装到自己的方法中。有时可以让一种方法做多于一件事。

* * *

## 回答 #389

> 赞同：0
> 
> 时间：2009-01-02T16:46:17.057

**System.Data.DataSet 震撼！**

在我看来，对于大多数业务应用程序来说，强类型数据集比自定义 DDD 对象更好。

推理：我们正在向后弯曲以找出自定义对象、LINQ to SQL、实体框架的工作单元，它增加了复杂性。从某个地方使用一个不错的代码生成器来生成数据层，并且工作单元位于对象集合（DataTable 和 DataSet）上——这并不神秘。

* * *

## 回答 #390

> 赞同：0
> 
> 时间：2009-03-20T19:06:45.400

记录器配置是浪费时间。如果这意味着要学习一种新的语法，尤其是一种默默失败的语法，为什么还要使用它们？不要误会我的意思，我喜欢良好的伐木。我喜欢记录器继承和将格式化程序添加到记录器的处理程序。但是为什么要在配置文件中呢？

您想在不重新编译的情况下更改日志记录代码吗？为什么？如果你把你的日志代码放在一个单独的类、文件中，它会有什么不同？

您想将可配置的日志与您的产品一起分发给客户吗？无论如何，这不会提供太多信息吗？

最令人沮丧的是，用流行语言编写的流行实用程序倾向于以该语言指定的格式编写好的 API。编写一个 Java 日志记录实用程序，我知道您已经生成了 javadocs，我知道如何导航。为您的记录器配置编写域特定语言，我们有什么？也许有文档，但它到底在哪里？您决定了一种组织方式，而我只是对遵循您的思路不感兴趣。

* * *

## 回答 #391

> 赞同：0
> 
> 时间：2009-01-02T13:58:33.883

有一次我从同事那里看到以下内容：

等于 = a.CompareTo(b) == 0;

我说他不能在一般情况下假设，但他只是笑了。

* * *

## 回答 #392

> 赞同：0
> 
> 时间：2009-01-06T05:13:37.577

不用太担心学什么语言，用c#或python之类的行业重量级。像 Ruby 这样的语言在卧室里很有趣，但在工作场所场景中不要蹲下。像 c# 和 Java 这样的语言可以处理小到非常大的软件项目。如果有人说其他话，那么您在谈论脚本语言。时期！

在开始一个项目之前，请考虑网络上有多少支持和代码示例。同样，选择像 Ruby 这样的语言，与 Java 相比，它在 Web 上的代码示例很少，只会让你在遇到问题时更加痛苦。

当你的老板询问你的编码进展如何时，你不能在论坛上发布消息并期望得到答复。你要说什么？“我正在等待有人在这个论坛上帮助我”

学一门语言，学得好。学习多种语言可能会带来技能和实践，但你甚至只能在所有方面都做得很好。擅长一个。有整本专门讨论 Java 中的线程的书籍，仔细想想，这只是 100 多本命名空间中的一个。

掌握一个或很多都可以。

* * *

## 回答 #393

> 赞同：0
> 
> 时间：2009-01-26T06:43:18.793

对自己有争议，因为有些事情最好不要说出来，这样你才不会被别人描绘成**太自负**。但是，这里是：

**如果是的话，从我开始**

* * *

## 回答 #394

> 赞同：0
> 
> 时间：2009-01-26T07:00:53.720

**编程是如此简单，一个五岁的孩子就能做到。**

编程本身并不难，这是常识。您只是在告诉计算机该做什么。你不是天才，请自重。

* * *

## 回答 #395

> 赞同：0
> 
> 时间：2009-09-16T10:23:22.807

**你必须懂 C 才能称自己为程序员！**

* * *

## 回答 #396

> 赞同：0
> 
> 时间：2009-09-17T18:33:05.853

**C必须死。**

当另一种语言（比如 D）可用时自愿用 C 编程应该因疏忽而受到惩罚。

* * *

## 回答 #397

> 赞同：0
> 
> 时间：2009-11-04T02:22:44.397

C++ STL 库的用途如此之大，以至于它对任何人来说都不是最佳选择。

* * *

## 回答 #398

> 赞同：-1
> 
> 时间：2009-10-30T17:24:05.383

**复制/粘贴不是反模式，事实上它有助于不产生更多错误**

我的经验法则 - 只输入无法复制/粘贴的内容。如果创建类似的方法、类或文件 - 复制现有的并更改需要的内容。（我不是在谈论复制应该放入单个方法的代码）。

我通常从不输入变量名——要么复制粘贴它们，要么使用 IDE 自动完成。如果需要一些 DAO 方法 - 复制类似的方法并更改所需的内容（即使 90% 将被更改）。对某些人来说可能看起来像极度懒惰或缺乏知识，但我几乎从不需要处理导致我拼写错误的问题，而且它们通常很难捕捉到（如果在编译级别上没有检测到）。

每当我离开我的复制粘贴规则并开始输入内容时，我总是会拼错一些东西（这只是一个统计数据，没有人能立即写出完美的文本），然后花更多时间试图找出在哪里。

* * *

## 回答 #399

> 赞同：-1
> 
> 时间：2009-08-24T17:29:44.187

[WordPress](http://en.wikipedia.org/wiki/WordPress)是一个[CMS](http://en.wikipedia.org/wiki/Web_content_management_system)（从技术上讲，确实如此）。

[https://stackoverflow.com/questions/105648/wordpress-is-it-a-cms](https://stackoverflow.com/questions/105648/wordpress-is-it-a-cms)

* * *

## 回答 #400

> 赞同：-1
> 
> 时间：2009-10-14T03:28:06.520

引用已故的 EW Dijsktra 的话：

**编程是应用数学中最难的分支之一；贫穷的数学家最好还是纯粹的数学家。**

**计算机科学与计算机无关，就像天文学与望远镜无关一样。**

我不明白一个人怎么能声称自己是一名合格的程序员，却无法解决诸如此类的非常简单的数学[问题](https://stackoverflow.com/questions/406760/whats-your-most-controversial-programming-opinion/406948#406948)。CRUD 猴子——也许，但不是程序员。

* * *

## 回答 #401

> 赞同：-2
> 
> 时间：2009-01-03T15:09:24.177

“优秀的程序员代码和优秀的程序员重用它” 这正在发生，但“优秀的程序员”是唯一**喜欢**这种代码的人。而“伟大的程序员”只是为了找出其中的错误，因为他们没有时间思考和编码。但是他们有时间找到该代码中的错误。

所以不要批评！！！！！！！！

根据需要创建自己的**代码**。

* * *

## 回答 #402

> 赞同：-2
> 
> 时间：2009-10-14T12:04:05.587

**一个真正的程序员像灵魂伴侣一样热爱开源，像一个肮脏但令人满意的妓女一样热爱微软**

* * *

## 回答 #403

> 赞同：-4
> 
> 时间：2009-01-05T01:23:57.603

开发人员应该能够修改生产代码而无需任何人的许可，只要他们记录他们的更改并通知相关方。

* * *

## 回答 #404

> 赞同：-4
> 
> 时间：2009-09-15T16:23:33.123

由于缺乏多样性，软件很糟糕。对任何种族都没有冒犯，但当一个职业由不同种族和两种性别组成时，事情就会很顺利。看看过度使用不可再生能源。进展顺利，因为每个人都在做出贡献，而不仅仅是“刻板的家伙”

* * *

## 回答 #405

> 赞同：-8
> 
> 时间：2009-01-02T13:37:33.273

我有争议的观点是应该从所有编程语言中删除“While”结构。

您可以在使用“重复”和布尔标志时轻松复制，我只是不相信拥有这两种结构是有用的。事实上，我认为在一种语言中同时包含“Repeat...Until”和“While..EndWhile”会让新程序员感到困惑。

**更新 - 额外说明**

新程序员使用 While 时常犯的一个错误是，他们假设一旦测试条件标记为假，代码就会中断。所以 - 如果 While 测试在代码中途标记为 false，则它们假定中断了 While 循环。重复这个错误并没有那么多。

只要只有一种循环类型，我实际上并不在意保留两种循环类型中的哪一种。我选择 Repeat over While 的另一个原因是，使用“repeat”编写“While”功能比使用“repeat”更有意义。

**第二次更新：** 我猜我是目前唯一一个在这里跑得负分的人，这意味着这实际上是一个有争议的观点。（不像你们其他人。哈！）

* * *

## 回答 #406

> 赞同：-10
> 
> 时间：2009-05-03T03:12:39.803

**如果它不是原生的，那它就不是真正的编程**

根据定义，程序是由计算机运行的实体。它直接与 CPU 和操作系统对话。不直接与 CPU 和操作系统对话，而是由其他直接与 CPU 和操作系统对话的程序运行的代码不是程序；这是一个脚本。

在 Java 出现之前，这只是简单的常识，完全没有争议。突然之间出现了一种脚本语言，它具有足够大的功能集来完成以前只属于程序领域的任务。作为回应，Microsoft 开发了 .NET 框架和一些在其上运行的脚本语言，并通过逐渐减少其开发工具中对真正编程的支持来支持 .NET 脚本来设法进一步搅浑水。

尽管它可以完成许多您以前必须编写程序的事情，但任何种类的托管代码仍然是脚本，而不是编程，并且用它编写的“程序”做并且总是会共享脚本的性能特征：它们运行比真正的（本机）程序完成相同任务所需的速度更慢并且占用更多的 RAM。

人们称其为编程，通过简化定义对每个人都造成了伤害。它导致整体质量下降。如果您尝试让编程变得如此简单，以至于任何白痴都可以做到，那么您最终会得到一大堆自认为可以编程的白痴。

* * *

## 回答 #407

> 赞同：-12
> 
> 时间：2009-01-02T22:25:55.373

**两行代码太多了。**

如果一个方法有第二行代码，那就是代码异味。重构。

# css - CSS 下拉菜单，改为右下角

> ID：406776
> 
> 赞同：0
> 
> 时间：2009-01-02T13:22:37.403
> 
> 标签：css

*删除链接，问题解决*

顶部的菜单应该是一个下拉菜单，但它会向右扩展。

我的 CSS 是这样的（无论如何我相信这是相关的）

```
#primary-nav, #primary-nav ul { list-style: none; margin: 0px; padding: 0px; }
#primary-nav ul { position: absolute; top: auto; display: none; }
#primary-nav ul ul { left: 100%; top: 0px; }
#primary-nav li { float: left; }
#primary-nav li li { float: none; position: relative; }

#primary-nav ul, #primary-nav li:hover ul, #primary-nav li:hover ul ul, 
#primary-nav li.menuparenth ul, #primary-nav li.menuparenth ul ul { display: none; }

#primary-nav li:hover ul, #primary-nav ul li:hover ul, #primary-nav ul ul li:hover ul, 
#primary-nav li.menuparenth ul, #primary-nav ul li.menuparenth ul, 
#primary-nav ul ul li.menuparenth ul { display: block; } 
```

我不知道菜单的确切方向设置在哪里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T13:27:03.167

`position: absolute;`从 CSS 中删除`#primary-nav ul`也可以看看使用 FireBug，它在试验这些东西方面非常有用。还有你在看什么浏览器？FF 垂直显示菜单，但没有正确对齐并且没有背景。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T14:03:41.253

[在这里](http://www.alistapart.com/articles/dropdowns)读一读。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-03T05:34:53.917

我将此菜单视为垂直下拉菜单，而不是水平下拉菜单。请在询问 CSS 问题时指定您正在查看的浏览器，因为它对如何回答您的问题有很大的影响。让我们知道它是否已修复，以及为未来的读者修复了什么。

我注意到的一件事是您的菜单项从右侧的垂直列表中弹出。尝试仅将填充应用于`<li>`元素，而不是锚标记。这应该可以解决您的问题。当您将它应用于两者时，您必须记住，首先将填充放在 上`<li>`，然后向内部元素添加更多填充，以便它在仅应用了第一个填充量的容器之外扩展。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T14:03:23.423

它现在有点下降，但在 Firefox 2 中它会闪烁并且因此几乎无法点击。而在 IE7 中，它的对齐很差，完全无法点击......

# jdbc - Informix JDBC 时间戳字符串格式

> ID：406777
> 
> 赞同：2
> 
> 时间：2009-01-02T13:23:03.050
> 
> 标签：jdbc, format, timestamp, informix

我有 Informix 数据库，其时间戳字段定义为 YEAR TO SECOND。当我使用 JDBC rs.getString(column) 显示该字段时，它使用毫秒格式，因此该字段如下所示：

```
2008-12-18 13:58:14.0 
```

我希望它只使用 YEAR TO SECOND 字段。我设置环境变量：

```
GL_DATETIME=%Y-%m-%D %H:%M:%S 
```

但即使那样我也有几毫秒。使用 ODBC 的程序不显示毫秒。如何仅接收 TIMESTAMP 字符串“YEAR TO SECOND”？在我的程序中，如果字段是 TIMESTAMP，我可以检查元数据，然后剪切“.0”，但我认为应该有更简单的方法。

服务器版本：IBM Informix 动态服务器版本 11.50.TC2DE

客户端版本：IBM Informix JDBC Driver for IBM Informix Dynamic Server 3.50.JC3DE

**编辑** 如果我使用 getString()，我测试的所有其他 JDBC 驱动程序（Oracle 和 PostgreSQL）看起来都以毫秒为单位显示时间戳列。所以我使用了托德提出的解决方案。我检查元数据，如果列是时间戳，那么我使用 getTimestamp() 并对其进行格式化。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T16:48:04.837

如果您使用 JDBC，则可以使用 rs.getDate(column) 或 rs.getTimestamp(column) 方法，它们分别返回 Date 和 Timestamp 对象。然后你有一个代表时间的对象，而不是一个直接表达它的字符串。使用日期或时间戳，您可以使用[日期格式化程序](http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html)将其格式化为您选择的那个时间的任何字符串表示形式。

**更新**（阅读下面的评论后）：如果您使用 getDate()，它仍然适用于 Timestamp 列。它只会将精度降低到秒。这样您就不必检查元数据，您只需知道该列是某种时间戳或日期。

# udp - 使用 wxWidgets 发送 UDP 广播消息

> ID：406789
> 
> 赞同：1
> 
> 时间：2009-01-02T13:28:47.643
> 
> 标签：udp, wxwidgets

在 Mac/Win/Linux 上使用 wxWidgets 2.8.9，如何发送 UDP 广播消息？接收正在使用 wxDatagramSocket 工作，但对我来说，我将如何发送 UDP 广播消息并不明显。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-03T15:49:21.023

原则上，只需在套接字标志中使用 wxSOCKET_BROADCAST 即可（这将导致为套接字设置 SO_BROADCAST）。

# c# - 为什么在 BinarySearchTree 中找不到 _left 和 _right？

> ID：406791
> 
> 赞同：2
> 
> 时间：2009-01-02T13:31:17.403
> 
> 标签：c#, binary-tree, binary-search-tree

我对以下代码片段有疑问：

```
using System;
using System.Collections.Generic;
using System.Text;

namespace trees_by_firas
{
    class Program
    {
        static void Main(string[] args)
        {
            BinarySearchTree t = new BinarySearchTree();

            t.insert(ref t.root, 10);
            t.insert(ref t.root, 5);
            t.insert(ref t.root, 6);
            t.insert(ref t.root, 17);
            t.insert(ref t.root, 2);
            t.insert(ref t.root, 3);

            BinarySearchTree.print(t.root);
            Console.WriteLine("--------------------");
            Console.WriteLine(t.FindMax());
            Console.WriteLine(t.FindMin());
            Console.WriteLine("--------------------");
            Console.WriteLine(t.CountLeaves());
            Console.WriteLine(t.CountNodes());

        }

        public class TreeNode
        {
            public int n;
            public TreeNode _left;
            public TreeNode _right;

            public TreeNode(int n, TreeNode _left, TreeNode _right)
            {
                this.n = n;
                this._left = _left;
                this._right = _right;
            }

            public void DisplayNode()
            {
                Console.Write(n);
            }

        }

        public class BinarySearchTree
        {
            public TreeNode root;

            public BinarySearchTree()
            {
                root = null;
            }

            public void insert(ref TreeNode root, int x)
            {
                if (root == null)
                {
                    root = new TreeNode(x, null, null);
                }
                else
                    if (x < root.n)
                        insert(ref root._left, x);
                    else
                        insert(ref root._right, x);
            }

            public int FindMin()
            {
                TreeNode current = root;

                while (current._left != null)
                    current = current._left;

                return current.n;
            }

            public int FindMax()
            {
                TreeNode current = root;

                while (current._right != null)
                    current = current._right;

                return current.n;
            }

            public TreeNode Find(int key)
            {
                TreeNode current = root;

                while (current.n != key)
                {
                    if (key < current.n)
                        current = current._left;
                    else
                        current = current._right;
                    if (current == null)
                        return null;
                }
                return current;
            }

            public void InOrder(ref TreeNode root)
            {
                if (root != null)
                {
                    InOrder(ref root._left);
                    root.DisplayNode();
                    InOrder(ref root._right);
                }
            }

            public int CountNodes()
            {
                int count = 1; // me!        
                if (root._left != null)
                    count += _left.CountNodes();
                if (root._right != null)
                    count += _right.CountNodes();
                return count;
            }

            public int CountLeaves()
            {
                int count = (root._left == null && root._right == null) ? 1 : 0;
                if (root._left != null)
                    count += _left.CountLeaves();
                if (root._right != null)
                    count += _right.CountLeaves();
                return count;
            }

            public static void print(TreeNode root)
            {
                if (root != null)
                {
                    print(root._left);
                    Console.WriteLine(root.n.ToString());
                    print(root._right);
                }

            }

        }

    }
} 
```

* * *

我收到以下错误：

```
Error 1 The name '_left' does not exist in the current context 

// on the countnodes & countleaves

Error 2 The name '_right' does not exist in the current context 
// on the countnodes & countleaves 
```

关于如何解决这些错误的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T13:36:19.967

_left 和 _right 是 TreeNode 中的字段。您尝试将它们用作 BinarySearchTree 的一部分。我相信您可以在它们前面加上`root.`：

```
public int CountNodes()
{
    int count = 1; // me!        
    if (root._left != null)
        count += root._left.CountNodes();
    if (root._right != null)
        count += root._right.CountNodes();
    return count;
}

public int CountLeaves()
{
    int count = (root._left == null && root._right == null) ? 1 : 0;
    if (root._left != null)
        count += root._left.CountLeaves();
    if (root._right != null)
        count += root._right.CountLeaves();
    return count;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-03T14:41:02.690

我从您的代码中得到了完全相反的结果——6 个节点和 3 个叶子。6 个节点是您插入到树中的项目数，所以这是有道理的。叶子数应该是树中没有子节点的节点数。因为你的树目前看起来像这样......

```
 10
    /  \
   5   17
  / \
 2   6
  \
   3 
```

...您有六个节点和三个叶子（17,6 和 3）。

# html - 稍等片刻后强制重新加载html页面

> ID：406810
> 
> 赞同：0
> 
> 时间：2009-01-02T13:43:30.577
> 
> 标签：html, reload

我有一个html页面A和页面中的一个链接，它在新窗口中打开页面B。如何在单击并打开此链接时重新加载页面 A？

**编辑：**

我应该更清楚。页面 B 在新窗口中打开，而不是作为弹出窗口。有问题的超链接将其目标属性设置为 _blank。从我得到的答案中获取线索（谢谢大家！），我尝试设置 onclick = "window.location.reload()" 并且它工作得很好。

但是我有一个问题。实际上完全是另一个问题。如何确保页面 A 的重新加载等到在新窗口中打开的页面（页面 B）加载？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T13:50:07.567

像这样的东西：

```
<a href="javascript:window.open('pageB.htm');window.location.reload();">open page b</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T13:47:24.530

最简单的方法是做

```
<a href="# " onClick="window.open('newPage.htm','window','width=400,height=200')">link</a> 
```

如果我没记错应该打开窗口然后由于返回没有被抑制将重新加载加载页面。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T13:49:49.567

根据您的措辞，我不确定这是否是您想要的，但是如果您想从弹出窗口中的链接重新加载打开窗口，请尝试

```
self.opener.location.href = self.opener.location.href; 
```

编辑，根据您的新评论，只需在新窗口的正文 onload 中使用上面的代码

```
<body onload="self.opener.location.href = self.opener.location.href;"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T18:16:19.620

您可以使用[`setTimeout()`](http://www.w3schools.com/htmldom/met_win_settimeout.asp)延迟重新加载。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-19T11:06:02.310

尝试这个：

```
<script type="text/javascript">
function openPage(elem) {
    function reloadCurrentPage() {
        location.reload();
    }

    var page = window.open(elem.href, '_blank');
    page.onload = function() {
        reloadCurrentPage();
    }

    if (/MSIE/.test(navigator.userAgent)) { // fix for IE
        var timer = setInterval(function() {
            if (page.document.readyState == 'complete') {
                clearInterval(timer);
                reloadCurrentPage();
            }
        }, 100);
    }
}
</script>

<p><a href="second.html" onclick="openPage(this); return false;">second.html</a></p> 
```

# iphone - iPhone 开发 - XMLParser vs. libxml2 vs. TouchXML

> ID：406811
> 
> 赞同：32
> 
> 时间：2009-01-02T13:44:08.283
> 
> 标签：iphone, libxml2, xml-parsing, touchxml

我找不到这些解析技术的比较。哪一种最常用？

问候。穆斯塔法

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2009-01-02T20:20:24.677

NSXMLParser 是一个[SAX](http://en.wikipedia.org/wiki/Simple_API_for_XML)解析器，这意味着它遍历 XML 文档，并（通过委托方法）通知您各种事件（例如启动 xml 节点、查找属性等）。这种类型的 XML 处理最适合解析大型文档，并且只需要从大文件中检索少量数据。

与 SAX 不同的是[DOM](http://en.wikipedia.org/wiki/Document_Object_Model)模型，其中整个 XML 树被解析到内存中（通常只需一次调用），然后您可以从提供的 API 中自由探索 XML 文档。这通常更容易使用，因为您可以随机访问整个 xml 文档。

所以第一个应该回答的问题是 SAX 与 DOM 的问题。如果您正在处理大型 XML 文件（例如 10 MB 或更大），您可能希望坚持使用 SAX。如果您正在处理小的 XML 文件或微小的 XML 片段，则使用 DOM 通常要容易得多。

如果您确实决定使用 DOM，那么您有几个选择。

libxml2 是一个用 C 语言编写的非常强大的 API。它主要用于 DOM 样式，但如果您对它有经验，还有其他选择。但是，由于它是用 C 编写的，因此对于那些更熟悉 Objective-C（对象和自动释放）或来自 .Net 世界的人来说，它通常不具有吸引力。因此，需要/渴望一个围绕 libxml 的原生 Objective-C 包装器，以使其更加熟悉。TouchXML 就是这样一种包装器。如果您只需要对 XML 的读取权限，它就可以很好地工作。如果您想更改 XML，或从头开始创建 XML 片段/文档，我建议您使用[KissXML](http://code.google.com/p/kissxml/)。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2010-07-08T12:34:50.980

请参阅[iOS 的 XML 教程：如何为您的 iPhone 项目选择最佳 XML 解析器](http://www.raywenderlich.com/553/how-to-chose-the-best-xml-parser-for-your-iphone-project)：

> 在 iPhone 上解析 XML 有很多选择。iPhone SDK 带有两个不同的库可供选择，并且有几个流行的第三方库可用，例如 TBXML、TouchXML、KissXML、TinyXML 和 GDataXML。开发人员如何为他们的项目选择最好的 XML 解析器？
> 
> 我最近一直在查看各种选项，并最终扩展了 Apple 的 XMLPerformance 示例，以尝试上述每个库，以了解它们的工作方式并比较它们的性能。我想我应该与其他可能正在为他们的 iPhone 项目寻找最佳 XML 库的人分享我迄今为止所学到的知识。
> 
> 在这个 XML 教程中，我们将详细比较最流行的 iPhone 库的特性和性能，解释如何在它们之间进行选择，并提供一个示例项目来展示如何使用上述每个库读取 XML 数据...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-24T14:30:41.063

还有另一个很好的基于块的 XML 解析库 - ZaBlanc 的 RaptureXML ( [github](https://stackoverflow.com/users/185387/zablanc) [)](https://github.com/ZaBlanc/RaptureXML.git)， 它在 libxml2 之上提供了 Objective-C API，我绝对推荐尝试一下。

# jquery - jquery：单击时，将标题标签中的文本添加到输入框

> ID：406813
> 
> 赞同：3
> 
> 时间：2009-01-02T13:44:14.913
> 
> 标签：jquery

我有一个通讯录，还有一个靠近它的表格......对于表格，其中一个要求是填写消息的接收者。因此，当用户点击通讯录中的联系人时，来自 title-tag 的用户名会自动出现在表单的接收方输入中。

对此的所有帮助表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T14:24:03.350

所以基本上在你的例子中，过程是这样的：

1.  用户单击显示用户名的链接
2.  名称为 pmAmne *(pmName?)*的输入被“用户名”填充（点击的链接的父段落的标题**属性？**

如果是这样，那么下面的代码应该可以工作：

```
jQuery(function() {
    jQuery('a.addTitleTag').click(function() {
        titleText = jQuery(this).parents('p').attr('title');
        jQuery("input[name='pmName']").val(titleText);
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T13:55:53.780

一些额外的问题，1）`<title>`标签只是用户名还是其中有额外的文本。

基本代码如下：

```
jQuery(function() {
    jQuery('a.addTitleTag').click(function() {
        titleText = document.title; // Placed in new var incase of extra manipulation needed.
        jQuery("input[name='username']").val(titleText);
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T14:34:32.267

我认为您想要的是使用用户名标题属性获取 p 标签的“名字姓氏”部分。

```
 $("p[title='username']").find('a').click( function{ //Onclick for the a in the p tag
  contentOfP = $("p[title='username']").html(); //get the content of the p tag, including the <a> tag
  positionOfDash = contentOfP.indexOf('-'); //We need the position of the dash to determine where the 'Firstname Lastname' part of the P tag ends
  names = contentOfP.substr(0, positionOfDash); //Get the start of the P tag withouth the dash
  $("input[name='pmAmne']").val( names ); //Set the value of the input
  return false; //Block the default event for the link so it doesn't jump to the top of the page on long pages
 }); 
```

这应该够了吧

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T15:03:04.207

stuartloxton 伙计不错！工作炉排。但这对我来说是另一个问题。

我已经有：

```
 <script type="text/javascript">
(function update()
    {
      $.ajax(
        {
        type: 'GET',
        url: '/doGet/pmKontakter.php',
        timeout: 2000,

            success: function(data)
            {
              $("#pmKontakter").html(data);
              $("#loadingComponent").html(''); 
              window.setTimeout(update, 10000);
            },

            error: function (XMLHttpRequest, textStatus, errorThrown)
            {
              $("#pmKontakter").html('<h3>Din kontaktlista kunde inte hämtas för tillfället.</h3>');
              window.setTimeout(update, 60000);
            }
        });
    })(jQuery);
</script> 
```

当我使用此代码 abow 和您的代码时，您的代码会起作用。

# unit-testing - 您是否将单元测试与集成测试分开？

> ID：406826
> 
> 赞同：10
> 
> 时间：2009-01-02T13:51:20.983
> 
> 标签：unit-testing, package, integration-testing

我只是想知道是否其他人只是将集成测试视为一种特殊的单元测试。但是，我从其他程序员那里听说，将单元测试和集成测试分开是个好主意。我想知道是否有人可以解释为什么这是一个好主意。将集成和单元测试视为完全不同会有哪些优势？例如，我已经看到用于集成测试和单元测试的单独文件夹和包。我认为包含单元测试和集成测试的单个测试包就足够了，因为它们基本上是相同的概念。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-01-02T13:58:45.600

由于以下原因，我认为它们不同。

*   单元测试可以在开发人员环境中的单个类/模块上执行。
*   集成测试应在类似于实际生产设置的环境中执行。

单元测试故意保持“轻量级”，以便开发人员可以根据需要以最小的成本运行它们。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-01-02T14:55:21.477

速度是首要原因。您希望您的单元测试尽可能快，以便您可以尽可能频繁地运行它们。您仍然应该运行集成测试，但在签入之前运行一次就足够了。单元测试套件应该更频繁地运行——最好是在每次重构时运行。

我在一个环境中工作，我们有大约 15k 的 junit 测试，单元测试和集成测试完全混合。整个套件大约需要半小时才能运行。开发人员避免运行它并比他们应该发现的错误晚。有时他们只在运行一部分测试后签入，并包含一个中断连续构建的错误。

尽早开始分离测试。一旦你有一个大套房就很难了。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-01-02T14:05:06.977

是的。通常，单元测试的范围是类级别，因此它们与模拟对象一起存在于环境中。另一方面，集成测试通过保留对*真实*程序集类型的引用来完成所有技巧。

我只是不明白如何将单元和集成组织到一个项目中。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-01-02T21:06:53.520

如果您将“单元测试”的概念限制在类级别的范围内，那么是的，请将它们分开

但是，如果您将最小的*相关*可测试单元定义为**功能**，那么您的一些“单元”测试在技术上将是“集成”测试

但是，对术语的各种定义/解释的重新散列在很大程度上是无关紧要的，测试套件的分区应该是被测试组件的范围和执行测试所需的时间的函数。

例如，如果您的所有测试（单元、集成、回归或其他）都适用于单个程序集并在几秒钟内运行，那么请将它们放在一起。但是，如果您的某些测试需要子网上的六台全新安装机器，而另一些则不需要，则将第一组测试与后者分开是有意义的

摘要：“单元”和“集成”测试的区别无关紧要；根据操作范围打包测试套件

# java - 可以合并 Java 枚举（如 C# 中的按位）吗？

> ID：406830
> 
> 赞同：15
> 
> 时间：2009-01-02T13:54:05.343
> 
> 标签：java, enums

Java中有没有办法声明一个枚举，其值可以一起使用？例如：

```
enum FileAccess { Read, Write, ReadWrite } 
```

是否可以将 ReadWrite 定义为`Read | Write`（或任何会产生相同结果的东西）？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2009-01-02T13:58:17.490

您使用[EnumSet](http://java.sun.com/javase/6/docs/api/java/util/EnumSet.html)：

```
EnumSet<FileAccess> readWrite = EnumSet.of(FileAccess.Read, FileAccess.Write); 
```

这实际上比 IMO 的 C#/.NET 方式更优雅——除此之外，您可以轻松区分集合和单个值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T13:58:49.377

请参阅[EnumSet](http://docs.oracle.com/javase/6/docs/api/java/util/EnumSet.html)，它允许您有效地执行此操作：

```
EnumSet<FileAccess> set = EnumSet.of(READ, WRITE); 
```

# ruby - Rails 沙盒中的语言

> ID：406833
> 
> 赞同：5
> 
> 时间：2009-01-02T13:54:40.490
> 
> 标签：ruby, sandbox

我发现有一个沙盒 gem（由[在您的浏览器中尝试 ruby](http://tryruby.hobix.com/)​​ 的人创建，但它仅与 Ruby 1.8 兼容。另一个问题是我再也找不到它了（似乎他们停止从服务器...）。

那么，有没有在沙盒中运行 ruby​​ 的**安全**方法（这样您就可以从浏览器中运行它）？还是一种在沙箱中运行（例如 lua/python）的简单方法（没有文件系统访问，没有创建对象等）并从 Ruby（Rails 2.2）调用？

我想制作一个像 try_ruby 这样的应用程序，即使下面没有红宝石。但它必须是一种简单的语言（我看到 ruby​​ 中有一个序言，甚至是一个 lisp，但我认为它们不容易学习语言......）。

那么，您有什么建议或技巧吗？还是我应该开始在 Ruby 中创建自己的 DSL（如果有创建某种安全系统的解决方案）？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2010-06-21T01:10:46.943

我正在开发一个基于用 C 编写的 ruby​​ 解释器的修改的 ruby​​ 沙箱实现，我最近发布了一个名为[shikashi](https://github.com/tario/shikashi/blob/master/README)的 gem 的功能版本（[rdoc 文档](http://tario.github.com/shikashi/doc/)）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2010-03-28T08:11:19.920

写原始宝石的人消失了，Keyser Söze 风格： [http ://www.rubyinside.com/why-the-lucky-stiff-is-missing-2278.html](http://www.rubyinside.com/why-the-lucky-stiff-is-missing-2278.html)

我读过 JRuby gem 更新或维护得更好，但到目前为止我发现它有问题。以下是一些设置说明： http: [//flouri.sh/2009/4/4/how-to-set-up-the-jruby-sandbox](http://flouri.sh/2009/4/4/how-to-set-up-the-jruby-sandbox)

总的来说，看起来 Ruby 现在缺乏一个可靠的实现:(

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T16:32:48.287

今天早上我[在hackety.org](http://hackety.org/2008/06/09/dismantlingBrowserPlus.html)（死链接）上看到了这篇文章。也许它可以为您提供正确方向的指南

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-02T17:37:25.737

您应该尝试在浏览器中嵌入 JRuby。

[http://ruby-in-browser.googlecode.com/svn/trunk/evalruby/index.html](http://ruby-in-browser.googlecode.com/svn/trunk/evalruby/index.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-02-04T10:06:48.950

另一种方式就像 codepad.org 一样（VM 隔离和检查调用）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2010-07-09T07:20:39.677

我不确定您是否想在沙箱中运行任何语言。但是我发现 JavaScript 作为沙盒语言运行了很长时间。[ruby Racer 项目](http://github.com/cowboyd/therubyracer)允许您将 v8 引擎嵌入到 ruby​​ 中。希望有帮助。

# .net - 可以在 Visual Studio 2008 中为 .net 2.x 开发吗？

> ID：406850
> 
> 赞同：1
> 
> 时间：2009-01-02T14:00:02.213
> 
> 标签：.net, visual-studio-2008

是否可以仅为运行 Visual Studio 2008 的 .net 2.0 开发？

谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-01-02T14:04:47.850

查看这篇文章 - [http://weblogs.asp.net/scottgu/archive/2007/06/20/vs-2008-multi-targeting-support.aspx](http://weblogs.asp.net/scottgu/archive/2007/06/20/vs-2008-multi-targeting-support.aspx)

你现在可能可以放弃 2005 年了……

我仍然每周在 VS 2008 中使用 2.0 项目，它运行良好。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-01-02T14:07:43.257

是的，通过设置项目属性 -*但*请注意，您实际上是针对 .NET 2.0 SP1（有效地需要 .NET 3.5）。

这意味着如果您开始使用 DateTimeOffset（在 .NET 2.0SP1 中引入），编译器会认为一切都很好而且很花哨 - 但如果您将应用程序部署在普通的 .NET 2.0 机器上，它将无法工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T14:01:50.820

是的，VS2008 支持多目标。检查项目属性，您可以在其中选择目标框架。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T14:06:42.137

转到项目的“属性”页面，然后单击“应用程序”选项卡。在“目标框架”下，您应该能够设置要构建的版本。

请注意，VS 2008 很酷的一点是，即使您的目标是 2.0，您仍然可以在 C# 中使用一些新的语言功能，例如“var”等，即使您没有使用 3.5！

# asp.net - 如何使用版本号显示所有 ASP.NET Web 应用程序加载/引用的程序集？

> ID：406860
> 
> 赞同：3
> 
> 时间：2009-01-02T14:04:15.620
> 
> 标签：asp.net, reflection, assemblies, version

为了调试和维护目的，我想在 ASP.NET Web 应用程序内的专用网页上显示所有使用的程序集的列表（在许多不同的服务器上有许多此 Web 应用程序的实例）。可以从*bin 文件夹*或*GAC*调用程序集。有一些自己写的，也有第三方程序集。

是否有一种简单、自动化的方法来获取Web 应用程序**的所有已加载或引用的程序集的列表，包括****版本号**（调用`System.Reflection.Assembly`- `GetName().Version`...）？我是否必须明确传递所有程序集名称以进行版本检查，还是可以自动检索它们？我是否必须使用反射来获得完整的依赖项/引用列表？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-01-02T14:09:00.057

我认为您可以为此使用 AppDomain.CurrentDomain.GetAssemblies()，例如：

```
foreach (System.Reflection.Assembly a in AppDomain.CurrentDomain.GetAssemblies())
{
    Response.Write(a.FullName + "<br/>"); 
} 
```

# c# - 异步调用 SSIS 包

> ID：406866
> 
> 赞同：1
> 
> 时间：2009-01-02T14:07:05.567
> 
> 标签：c#, .net, ssis, asynchronous

我正在使用 LoadPackage(...) 调用 SSIS 包。

是否可以将此调用设为异步调用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T14:25:47.683

是的，使用异步委托，如下所示：

[http://msdn.microsoft.com/en-us/library/h80ttd5f.aspx](http://msdn.microsoft.com/en-us/library/h80ttd5f.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T14:18:50.193

如果您只是希望它在后台运行，那么可以，您可以启动一个线程或调用一些 T-SQL 来动态创建一个作业（然后再次删除它）。如果您想异步运行它并在完成后想要回调，那么我认为您很不幸。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T14:55:02.477

您是在问 1) 在后台线程上调用 LoadPackage 是否合法，还是 2) 是否有可能。对于#1，我无法给出明确的答案，因为我不使用 SSIS 框架。

但是＃2（只要＃1为真）绝对是可行的。恕我直言，您最好使用现有的框架，该框架的 API 旨在调用 API 的异步并等待结果。例如，使用 Parellel Extensions June 08 CTP，下面的代码就可以了。

```
using System.Threading.Tasks;
...
var future = Future.Create(()=>LoadPackage); // Starts loading the package
// Do other stuff
var package = future.Value;  // Wait for package load to complete and get the value 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-11-16T07:06:55.027

我通过异步 WCF 服务调用从我的 UI (WPF) 调用 SSIS 包。服务代码为：

```
public string ImportMarriageXML(bool isWakeUp, bool clearExistingMarriage)
{
    try
    {
        var dts = new Microsoft.SqlServer.Dts.Runtime.Application();

        using (var package = dts.LoadFromSqlServer(
            ServiceSettings.Settings.SSIS.ImportMarriages,
            ServiceSettings.Settings.SSIS.ServerIP,
            ServiceSettings.Settings.SSIS.UserID,
            ServiceSettings.Settings.SSIS.Password,
            null))
        {
            package.InteractiveMode = false;
            package.Connections["DB.STAGING"].ConnectionString = String.Format("{0};Provider={1};", DBSettings.ConnectionString(Core.Database.Staging), ServiceSettings.Settings.SSIS.Provider);

            var variables = package.Variables;
            variables["IsWakeUp"].Value = isWakeUp;
            variables["ClearExistingMarriage"].Value = clearExistingMarriage;
            variables["XmlDirectory"].Value = ServiceSettings.Settings.SSIS.Properties.XmlDirectory;

            if (package.Execute() == DTSExecResult.Failure)
            {
                // HACK: Need to refactor this at some point. Will do for now.
                var errors = new System.Text.StringBuilder();
                foreach (var error in package.Errors)
                    errors.AppendFormat("SubComponent: {0}; Description: {1}{2}", error.SubComponent, error.Description, Environment.NewLine);
                throw new ApplicationException(errors.ToString());
            }

            return package.Connections["Text Logging"].ConnectionString;
        }
    }
} 
```

并且（部分）客户端代码如下：

```
private void InvokeLoadMarriages()
{
    integrationServicesServiceClient.BeginImportMarriageXML(false, OnEndImportMarriageXML, null);
}

private void OnEndImportMarriageXML(IAsyncResult asyncResult)
{
    view.InvokeDisplayResults(integrationServicesServiceClient.EndImportMarriageXML(asyncResult));
} 
```

其中 BeginImportMarriageXML 和 EndImportMarriageXML 是代理类中生成的异步操作。

# debugging - 调试问题

> ID：406870
> 
> 赞同：1
> 
> 时间：2009-01-02T14:09:45.157
> 
> 标签：debugging, visual-c++

我在MSVC6.0中的某个应用程序全是C代码。我将它作为两个工作区：

1.) 第一个工作区在编译源代码后创建一个静态库文件 *.lib。

2.）第二个工作区有一个测试应用程序（main（））并链接先前生成的*.lib库并创建和exe。

当我尝试单步执行测试应用程序时，我无法这样做。它一直在请求一个文件 crt0.c，即使在将它指向该文件之后，我根本无法进入我的 main 函数，它甚至没有进入我的 main 就退出了。

[如果我只是执行 Ctrl-F5，同样的设置也有效。它在正确的输出下工作正常，因此在执行中没有问题]

但我需要调试/单步。

所以我做了一件事来验证。

在 MSVC6.0 中创建了一个新的工作区（Win32 控制台应用程序而不生成此库等。一个生成 exe 的单个工作区。在这个新设置中，我能够通过 main() 进行调试。

1.）任何指针发生了什么？为什么我无法在我的库可执行设置中进行调试？

2.) 我如何在该设置中进行调试？我缺少任何项目设置吗？

-广告

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-02T14:17:50.990

在**Project Settings / C++ / General**下，确保您启用了调试信息，例如设置为**Program Database**。在**Project Settings / Link / Debug**下，确保勾选**Debug info并选择****Microsoft format**。

# .htaccess - .htaccess URL 在空格处被剪切（我正在使用 Codeigniter）

> ID：406880
> 
> 赞同：2
> 
> 时间：2009-01-02T14:14:19.860
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

我使用以下代码将[https://live.example.com](https://live.example.com)映射到[http://example.com/api](http://example.com/api)

```
Options +FollowSymLinks

RewriteEngine On 

RewriteCond %{HTTPS} =on
RewriteCond %{HTTP_HOST} ^live\.example\.com [NC]
RewriteRule (.+)$ "http://example.com/api/$1" [L,P] 
```

以下网址：

```
https://live.example.com/userlinks/xml/John%20James/MvPjeUTo15/ 
```

假设映射到：

```
http://example.com/api/userlinks/xml/John%20James/MvPjeUTo15/ 
```

相反，它将其映射到：

```
http://example.com/api/userlinks/xml/John 
```

所以它似乎在空间上削减它。我正在使用 Codeigniter 框架，但我不确定问题是否存在。

在 url 栏中使用`%20`或仅使用空格不会产生不同的结果。

任何人有任何想法和/或解决方案为什么会发生这种情况？

非常感谢，

冰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T14:56:44.330

我把它修好了：

添加到 apache2.conf (httpd.conf)：

```
RewriteMap escapemap int:escape 
```

.ht 访问：

```
Options +FollowSymLinks

RewriteEngine On 

RewriteCond %{HTTPS} =on
RewriteCond "%{HTTP_HOST}" "^live\.domain\.com" [NC]
RewriteRule "(.*)$" "http://domain.com/api/${escapemap:$1}" [L,P] 
```

*来源： http: [//www.nabble.com/Re%3A-Re-users%40httpd--writeRule%2C--P--and-space-on-URL-p15632475.html](http://www.nabble.com/Re%3A-Re-users%40httpd--writeRule%2C--P--and-space-on-URL-p15632475.html)*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T00:55:16.163

什么对我有用，而无需修改 httpd 文件：

```
RewriteRule ^(.+) http://domain.com/api/$1 [R=302,NC] 
```

请注意规则如何不捕获行尾。

# c++ - 适用于 STL 容器的简单 C++ 模板

> ID：406903
> 
> 赞同：4
> 
> 时间：2009-01-02T14:25:25.937
> 
> 标签：c++, templates, stl, containers

我需要一个这样的模板，它工作得很好

```
template <typename container> void mySuperTempalte (const container myCont)
{
    //do something here
} 
```

然后我想将上面的模板专门用于 std::string 所以我想出了

```
template <typename container> void mySuperTempalte (const container<std::string> myCont)
{
    //check type of container
    //do something here
} 
```

这不起作用，并引发错误。我想让第二个示例工作，然后如果可能的话，我想在模板中添加一些代码来检查是否使用了 std::vector/std::deque/std::list，在每个示例中做不同的事情案子。所以我使用了模板，因为 99% 的代码对于向量和双端队列等都是相同的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-01-02T14:36:13.497

专攻：

```
template<> void mySuperTempalte<std:string>(const std::string myCont)
{
    //check type of container
    //do something here
} 
```

专门用于矢量：

```
template<typename C> void mySuperTempalte (std::vector<C> myCont)
{
    //check type of container
    //do something here
} 
```

专门针对双端队列：

```
template<typename C> void mySuperTempalte (std::deque<C> myCont)
{
    //check type of container
    //do something here
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-01-02T14:36:13.590

您是否尝试过模板类型名参数？语法有点奇怪，因为它模拟了用于*声明*此类容器的语法。有一篇很好的[InformIT 文章](http://www.informit.com/articles/article.aspx?p=376878)更详细地解释了这一点。

```
template <template <typename> class Container>
void mySuperTemplate(Container<std::string> const& cont) {
} 
```

请注意，您还应该将参数声明为引用！

顺便说一句：这条评论

```
//check type of container 
```

是一个死的赠品，你做错了什么。您*不想*检查容器的类型。而是用户更复杂的重载，如 sep 的答案所示。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2009-01-02T20:17:38.317

如果我正确理解您的问题，那么您有一个适用于 STL 容器向量、双端队列等的算法，但正在尝试为字符串编写模板特化。如果是这种情况，那么您可以编写您在问题中定义的通用模板化方法：-

```
template<typename container> void mySuperTempalte( const container &myCont )
{
    // Implement STL container code
} 
```

然后，对于您的字符串专业化，您声明：-

```
template<> void mySuperTempalte( const container<std::string> &myCont )
{
    // Implement the string code
} 
```

对于任何其他专业化，只需更改 myCont 的类型声明。如果您确实需要对 vector 和 deque 容器执行此操作，则将模板参数作为该容器中类型的参数，而不是像 Sep 建议的容器本身。

```
template<typename C> void mySuperTempalte( const std::vector<C> &myCont)
{
    // check type of container
    // do something here
} 
```

值得尝试通过使您的第一个实现与所有 STL 容器一起工作以使您的生活更轻松来避免这种情况，然后您只需要对字符串类进行专门化。甚至考虑将您的字符串转换为向量以避免一起专门化。

附带说明一下，我已将容器参数更改为 const 引用，我假设这就是您想要的，因为您无论如何都声明了对象 const，这样您就可以避免复制。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2009-01-02T15:30:00.563

到目前为止的答案似乎很有帮助，但我想我会使用不同的结构。我希望所有容器都定义 value_type，就像 STL 容器一样。因此，我可以写

```
inline template <typename C> void mySuperTemplate (C const& myCont)
{
    mySuperTemplateImpl<C, typename C::value_type>(myCont);
} 
```

通常，对明确提取的参数进行操作会更容易。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2009-01-02T20:10:06.380

@九月

**“简单”的解决方案**

'sep' 发布的答案非常好，对于 99% 的应用程序开发人员来说可能已经足够好了，但如果它是库界面的一部分，可以使用一些改进，重复一遍：

> 专门用于矢量：
> 
> ```
> template<typename C> void mySuperTempalte (std::vector<C> myCont)
> {
>     //check type of container
>     //do something here
> } 
> ```

如果调用者不使用 std::vector，这将起作用。如果这对你来说足够好，专门用于向量、列表等，那么就在这里停下来使用它。

**更完整的解决方案**

首先，请注意您不能部分特化函数模板——您可以创建重载。如果它们中的两个或多个匹配程度相同，您将得到“模棱两可的过载”错误。因此，我们需要在您想要支持的每种情况下准确匹配。

这样做的一种技术是使用 enable_if 技术—— enable_if 允许您使用晦涩的语言规则有选择地从可能的匹配列表中取出函数模板重载......基本上，如果某个布尔表达式为假，则重载变为“不可见” . 如果您好奇，请查阅 SFINAE 以获取更多信息。

例子。可以使用 MinGW (g++ parameterize.cpp) 或 VC9 (cl /EHsc parameterize.cpp) 从命令行编译此代码而不会出错：

```
#include <iostream>
#include <vector>
#include <string>
using namespace std;

template <bool B, class T> struct enable_if {};
template <class T> struct enable_if<true, T> { typedef T type; };

template <class T, class U> struct is_same { enum { value = false }; };
template <class T> struct is_same<T,T> { enum { value = true }; };

namespace detail{
    // our special function, not for strings
    //   use ... to make it the least-prefered overload
    template <class Container>
    void SpecialFunction_(const Container& c, ...){
        cout << "invoked SpecialFunction() default\n";
    }

    // our special function, first overload:
    template <class Container>
    // enable only if it is a container of mutable strings
    typename enable_if<
        is_same<typename Container::value_type, string>::value, 
        void
    >::type
    SpecialFunction_(const Container& c, void*){
        cout << "invoked SpecialFunction() for strings\n";
    }
}

// wrapper function
template <class Container>
void SpecialFunction(const Container& c){
    detail::SpecialFunction_(c, 0);
}

int main(){
    vector<int> vi;
    cout << "calling with vector<int>\n";
    SpecialFunction(vi);

    vector<string> vs;
    cout << "\ncalling with vector<string>\n";
    SpecialFunction(vs);
} 
```

输出：

```
d:\scratch>parameterize.exe calling
with vector<int> invoked
SpecialFunction() default

calling with vector<string> invoked
SpecialFunction() for strings

d:\scratch> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-01-02T15:34:13.987

这是否是一个好的设计还有待进一步讨论。无论如何，您可以使用部分模板特化来检测容器的类型。尤其：

```
enum container_types
{
   unknown,
   list_container,
   vector_container
};

template <typename T>
struct detect_container_
{
   enum { type = unknown };
};

template <typename V>
struct detect_container_< std::vector<V> > // specialization
{
   enum { type = vector_container };
};

template <typename V>
struct detect_container_< std::list<V> >
{
   enum { type = list_container };
};

// Helper function to ease usage
template <typename T>
container_types detect_container( T const & )
{
   return static_cast<container_types>( detect_container_<T>::type );
}

int main()
{
   std::vector<int> v;

   assert( detect_container( v ) == vector_container );
} 
```

# python - 为什么 Ruby 有 Rails 而 Python 没有中心框架？

> ID：406907
> 
> 赞同：8
> 
> 时间：2009-01-02T14:26:57.727
> 
> 标签：python, ruby-on-rails, ruby, frameworks, history

这是一个（n）历史问题，而不是语言之间的比较问题：

[这篇 2005 年](http://tomayko.com/writings/no-rails-for-python)的文章讨论了 Python 缺乏单一的中央框架。对于 Ruby，这个框架显然是 Rails。**为什么，从历史上看，这发生在 Ruby 上而不是 Python 上？**（或者它发生了，那个框架是 Django？）

另外，假设性问题：**如果 Python 有一个好的框架，它会更受欢迎吗？如果没有中央框架，Ruby 会不会那么受欢迎？**

**[请避免讨论 Ruby 或 Python 哪个更好，这太开放了，无法回答。]**

**编辑：**虽然我认为这很明显，但我并不是说 Ruby 不存在其他框架，而是说Rails**是最受欢迎的框架。**另外，我应该提一下，我并不是说 Python 框架不如 Rails 好（或更好）。每个框架都有其优点和缺点，但正如 Ben Blank 在下面的评论之一中所说，Rails 似乎在受欢迎程度方面已经超过了 Ruby。在 Python 方面没有这样的例子。为什么？这就是问题所在。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2009-01-02T15:03:40.680

在我看来，Rails 将 Ruby 放在了地图上。一个简单的事实是，在 Rails 之前，Ruby 是一种次要的深奥语言，很少被采用。Ruby 的成功归功于 Rails。因此，Rails 在 Ruby 生态系统中处于中心位置。正如 slim 所指出的，还有其他 Web 框架，但要超越 Rails 成为领导者将非常困难。

另一方面，Python 的采用曲线非常不同。在 Rails 之前，Python 的使用比 Ruby 更广泛，因此有许多相互竞争的 Web 框架，每个框架都在慢慢建立自己的支持者。Django 在巩固支持方面做得很好，并成为 Python Web 框架世界的领导者，但仅仅因为社区的发展方式，它永远不会成为 One True Framework。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-01-02T14:33:24.580

我认为将 Rails 描述为“单一”“中央”Ruby 框架是不正确的。

Ruby 的其他框架包括 Merb、Camping 和 Ramaze。

...哪种使问题无效。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2009-01-02T22:08:20.120

真正的技术答案是 Python 中有三种主要的 Web 开发方法：一种是基于 CGI 的，其中应用程序的构建就像一个旧的一次性 Perl 应用程序一样通过 CGI 或 FastCGI 运行，例如[Trac](http://trac.edgewall.org/)；然后是[Zope](http://zope.org/)，这是一个奇怪的过度设计的框架，它有自己的 DB 概念，一个奇怪的被误导的 through-the-web 软件开发概念等（但[Plone](http://plone.org)仍然很流行）；然后是 Django（和[Turbogears](http://turbogears.org/)等），它遵循与 Rails 相同的工具所需的哲学（可以争论谁先到达那里或谁做得更好）。很多人可能会同意 Django/Rails/ [CakePHP](http://cakephp.org)方法比旧方法更好，但作为旧语言，Python 有更多的遗留框架仍在努力发展和保持相关性。这些框架将继续存在，因为已经有开发人员支持它们。例如，事后看来，很多人可能会说 Zope（尤其是 ZODB）是一个可怕的错误，但 Zope 3 比 Zope 2 好得多，而且已经有整个公司围绕 Zope 技术建立。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2009-01-02T14:39:57.670

Rails 在其极端的“约定优于配置”方法中具有一定的革命性，这使它与几乎所有其他东西不同，并使其成为 Ruby 的“杀手级应用程序”，首先引起了很多人的注意。

所以问题实际上是“为什么 David Hansson 决定用 Ruby 而不是 Python 来编写 Rails？”

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2009-01-02T14:43:19.893

请记住，在创建 Rails 之前，Ruby 已经存在了很长时间。根据 Wikipedia，Ruby 是在 90 年代中期创建的。Rails 直到 2004 年才出现。Ruby 只是 David Hansson 选择用于 Rails 的语言。

是的，我会说**Ruby 之于 Rails 就像 Python 之于 Django 一样**。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2009-01-02T16:07:34.140

我同意内德。我敢打赌，超过 90% 的 Ruby 安装都是为了运行 Rails。Rails 主宰 Ruby——没有一个应用程序能主宰 Python，主要是因为 Python 社区比 Ruby 社区要大一些。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2009-01-02T17:51:17.520

如果没有 Rails，ruby 会不会那么受欢迎？绝对地。

Python 在一个真正的框架下会更受欢迎吗？你的意思是相对于几个？可能是，谁知道呢。无论如何，大多数人都同意 Django 是一个非常好的框架。

为什么，从历史上看，它会发生在 Ruby 身上？因为 DHH 在自己研究之后选择了 Ruby。

补充一下关于 Rails 因“约定优于配置”而取得突破的答案还有另一个原因，那就是 Rails 一直在出色地使用 Ruby 的元编程能力。Rails 的许多神奇之处在于它巧妙地使用了 ruby​​ 元编程，从而消除了开发 Web 应用程序的许多痛苦。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2009-01-03T07:33:13.180

我不得不同意 Django 基本上是“Rails for Python”的等价物。为什么花了这么长时间？简单的答案是太多的选择。

在 Python 中，有许多请求/响应系统、url 重写器、ORM、模板语言等，您可以使用数十种不同的配置构建 Web 堆栈。事实上，这正是 Pylons 和 TurboGears 所做的，它提供了一个可靠的、可预测的堆栈来构建 MVC Web 应用程序。

Django 的不同之处在于它们封装了所有内容。他们没有走组件路线，而是建立了一个连续的系统。他们构建了自己的 ORM、自己的模板语言、自己的中间件系统等。他们的理由是 Python 没有像这样的统一系统。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2009-01-02T15:02:40.200

Python 不是一招一式的小马。因此，它没有单一的“中央框架”。许多人第一次听说 Python 是“另一种不错的 OO 语言”，或者是通过它的众多用途之一听说的。

说句公道话，Ruby 也不是一招一式的小马。只是许多人将 Rails 视为“杀手级应用程序”，这让他们看到了一种以前不为人知的语言。我怀疑很多人在 Rails 之前从未听说过 Ruby，但这绝不是 Ruby 唯一能做的事情。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2009-01-05T12:19:03.087

如果您关注新闻，您已经了解到 Merb 和 Rails 将合并。恕我直言，这是一个很好的举动。我认为这是因为开发人员有一个共同的目标：他们想要一个简单的 webdev 框架，它带有适合大多数任务的 OR 映射器、路由、模板语言等。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2010-05-19T10:09:31.670

查看这篇文章，了解[为什么我们永远不会看到 Python-on-Rails](http://blog.ianbicking.org/what-really-makes-rails-work.html)。**作者给出了 Python 从来没有也永远不会有**中心框架的一些基本原因。我自己可能会补充说，Java 也没有，出于同样的原因。

根据作者的说法，Rails 严格依赖于它的“实现”，即 Ruby。Rails 被许多开发人员采用，而 Ruby 只是其中的一部分。Rails 在 Ruby（或像 Groovy 这样的 Ruby 想要成为）上完美运行，但更重要的是，正如许多其他答案所说，Rails 引领了 Ruby 的采用。

> 这就是为什么 Rails-for-Python 不起作用的原因，或者至少人们一直关注的 Rails 是不正确的。这与框架的实施或质量无关，而与采用的模式有关。这是关于将框架放在前面，将实现放在后面——即使这不是 Rails 开发人员的意图（尽管他们可能很聪明，这也是他们的意图）。

基本上，你不可能让一群热爱语言的人聚集在一个框架周围。在 Java 方面，虽然 Spring 很受欢迎，但它在 Java 社区中的受欢迎程度却远非 Rails。在成熟的社区中，开发人员对哪些隐喻在框架中有效和无效有自己的想法。**这**就是为什么 Rails 会导致 Ruby 而不是相反的原因（通常，大多数情况下，并非在所有情况下）。

# asp.net - 如何使用javascript在asp.net中添加2个文本框值

> ID：406912
> 
> 赞同：1
> 
> 时间：2009-01-02T14:28:40.440
> 
> 标签：asp.net, javascript

我在我的 asp.net 页面中有 2 个文本框，在我的 asp.net 页面中也有一个隐藏字段，我的隐藏字段将始终具有像 123.00 这样的数值，在我的一个文本框中，我也将始终像 20.00 这样的数值现在我想添加此隐藏字段值和文本框值并通过 javascript 将其显示到第二个文本框中

我写了下面的代码来做到这一点

```
var amt = document.getElementById("txtsecond");
    var hiddenamt = document.getElementById("AmtHidden").value
    var fee = document.getElementById("txtFirst").value;
    amt.value = hiddenamt + fee; 
```

这应该给我像 123.00+20.00 = 143.00 这样的结果，但这是连接 hiddenamt 值和费用值并在我的第一个文本框中给我像 12320.00 这样的结果

谁能建议我的代码有什么问题以及获得期望值的正确方法是什么

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-02T14:32:58.650

```
amt.value = parseFloat(hiddenamt) + parseFloat(fee); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-02T14:31:41.180

输入的值只是一个字符串 -在 JS 中[转换为浮点数就可以了](http://www.w3schools.com/jsref/jsref_parseFloat.asp) `parseFloat(foo)`

*编辑为浮动，因为我注意到它可能对你很重要*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T14:32:52.130

文本框是字符串，您需要从字符串转换为数字：

```
var hiddenamt = parseFloat(document.getElementById("AmtHidden").value);
var fee = parseFloat(document.getElementById("txtFirst").value); 
```

埃里克

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2009-01-02T14:35:24.497

您应该首先将值解析为小数：

```
decimal amt, hiddenamt, fee;
Decimal.TryParse(document.getElementById("txtsecond"),out amt);
Decimal.TryParse(document.getElementById("txtfirst"),out fee);
hiddenamt = amt + fee; 
```

# c# - 以多线程方式使用 BeginInvoke/EndInvoke。AsyncCallback、AsyncWaitHandle 和 IsCompleted 如何交互？

> ID：406915
> 
> 赞同：4
> 
> 时间：2009-01-02T14:30:39.357
> 
> 标签：c#, concurrency, asynchronous, delegates, iasyncresult

Andreas Huber 对[这个问题](https://stackoverflow.com/questions/405600/detecting-that-a-threadpool-workitem-has-completed-waiting-for-completion)的回答让我想到了`Concurrent<T>`使用异步委托而不是线程池来实现。但是，我发现更难理解将 an`AsyncCallback`传递给时发生了什么`BeginInvoke`，尤其是当多个线程可以访问`IAsyncResult`. 不幸的是，MSDN 或我能找到的任何地方似乎都没有涵盖这种情况。此外，我能找到的所有文章要么是在闭包和泛型可用之前编写的，要么看起来就是这样。有几个问题（我希望答案是真的，但我准备好失望了）：

1) 使用闭包作为 AsyncCallback 会有什么不同吗？
（希望不是）
2）如果一个线程在等待`AsyncWaitHandle`，它会
在回调开始之前或 b）在它完成之后发出信号吗？
（希望是b）
3）当回调运行时，会`IsCompleted`返回什么？我可以看到的可能性：
a）`true`；b) `false`; c)`false`在回调调用 EndInvoke 之前，`true`之后。
（希望是 b 或 c）
4）`DisposedObjectException`如果某个线程在调用`AsyncWaitHandle`之后等待会被抛出`EndInvoke`？
（希望不是，但我希望是的）。

如果答案如我所愿，这似乎应该有效：

```
public class Concurrent<T> { 
    private IAsyncResult _asyncResult;
    private T _result;

    public Concurrent(Func<T> f) { // Assume f doesn't throw exceptions
        _asyncResult = f.BeginInvoke(
                           asyncResult => {
                               // Assume assignment of T is atomic
                               _result = f.EndInvoke(asyncResult); 
                           }, null);
    }

    public T Result {
        get {
            if (!_asyncResult.IsCompleted)
                // Is there a race condition here?
                _asyncResult.AsyncWaitHandle.WaitOne();
            return _result;  // Assume reading of T is atomic
        }
    ... 
```

如果问题 1-3 的答案是我所希望的，那么据我所知，这里应该没有种族条件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T14:46:45.567

**问题 1**

我认为问题的一部分是误解。IAsyncResult 不会从多个线程访问，除非您将其显式传递给一个。如果您查看 BCL 中 mos Begin*** 样式 API 的实现，您会注意到 IAsyncResult 仅在实际发生 Begin*** 或 End*** 调用的线程中创建和销毁。

**问题2**

AsyncWaitHandle 应在操作 100% 完成后发出信号。

**问题 3**

底层操作完成后，IsCompleted 应该返回 true（无需再做任何工作）。查看 IsComplete 的最佳方法是，如果值为

1.  true -> 调用 End*** 将立即返回
2.  false -> Callind End*** 会阻塞一段时间

**问题 4**

这取决于实现。这里没有办法真正给出一个笼统的答案。

**样品**

如果您对允许您轻松地在另一个线程上运行委托并在完成后访问结果的 API 感兴趣，请查看我的[RantPack 实用程序库](http://code.msdn.microsoft.com/RantPack)。它以源代码和二进制形式提供。它有一个完全充实的 Future API，允许并发运行委托。

此外，还有一个 IAsyncResult 的实现，它涵盖了这篇文章中的大部分问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-09-02T08:31:35.883

我最近一直在研究异步调用。我找到了一篇文章的指针，其中包含受人尊敬的作者 Jeffrey Richter[的 IAsyncResult 示例实现。](http://msdn.microsoft.com/en-us/magazine/cc163467.aspx)通过研究这个实现，我学到了很多关于异步调用如何工作的知识。

您还可以查看是否可以下载并检查`System.Runtime.Remoting.Messaging.AsyncResult`您特别关注的源代码。这是[有关如何在 Visual Studio 中执行此操作的说明的链接](http://blogs.msdn.com/sburke/archive/2008/01/16/configuring-visual-studio-to-debug-net-framework-source-code.aspx)。

为 JaredPar 的好答案添加一点...

1：我相信，如果您定义一个可以分配给 AsyncCallback 类型的变量的闭包（接受 IAsyncResult 并返回 void），它应该可以像您期望闭包作为该委托一样工作，但我不确定是否有可能是范围问题。原始本地范围应该在回调被调用之前很久就返回了（这就是使它成为异步操作的原因），因此请记住对本地（堆栈）变量的引用及其行为方式。我认为引用成员变量应该没问题。

2：我认为从您的评论中您可能误解了这个问题的答案。在 Jeffrey Richter 的示例实现中，等待句柄在调用回调*之前发出信号。*如果您考虑一下，它必须是这样的。一旦它调用回调，它就会失去对执行的控制。假设回调方法抛出一个异常......执行可以展开回调用回调的方法，从而阻止它以后发出等待句柄的信号！所以等待句柄需要在调用回调之前发出信号。如果按该顺序完成，它们的时间也比仅在回调返回后才向等待句柄发出信号时更接近。

3：正如 JaredPar 所说，IsCompleted 应该在回调之前和等待句柄发出信号之前`true` *返回。*这是有道理的，因为如果 IsCompleted 为 false，您会期望调用`EndInvoke`阻塞，而等待句柄（与回调一样）的全部意义在于知道结果何时准备好并且*不会*阻塞。因此，首先将 IsCompleted 设置为`true`，然后发出等待句柄信号，然后调用回调。看看 Jeffrey Richter 的例子是如何做到的。 *但是*，您可能应该尽量避免假设这三种方法（轮询、等待句柄、回调）可能检测到完成的顺序，因为有可能以与预期不同的顺序实现它们。

4：我帮不了你，除了你可以通过调试你感兴趣的实现的框架源代码来找到答案。或者您可能会想出一个实验来找出...或者设置一个好的实验并调试到框架源代码中以确保真正确定。

# delphi - 检测应用程序是否未使用

> ID：406927
> 
> 赞同：2
> 
> 时间：2009-01-02T14:34:03.283
> 
> 标签：delphi

如何检测应用程序在 DELPHI 中的使用时间是否超过 x 分钟

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-01-02T15:35:36.497

如果您编写 Windows 应用程序，请查看[GetLastInputInfo](http://msdn.microsoft.com/en-us/library/ms646302(VS.85).aspx)函数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-01-02T15:21:22.283

这是一些使用应用程序查找鼠标和键盘活动的代码

```
procedure TUserActivity.AppMessage(var Msg: TMsg; var Handled: Boolean);
begin
  Handled := False;
  case Msg.message Of
    WM_KEYDOWN,
    WM_LBUTTONDOWN,
    WM_MBUTTONDOWN,
    WM_RBUTTONDOWN:
      Activity := TRUE;
    WM_MOUSEMOVE:
    begin
      if (LastXYPos <> Msg.lParam) then 
        Activity := True;
      LastXYPos := Msg.lParam;
    end;
  end;
end; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-11T05:45:37.480

使用[Application.OnIdle](http://docs.embarcadero.com/products/rad_studio/delphiAndcpp2009/HelpUpdate2/EN/html/delphivclwin32/AppEvnts_TApplicationEvents_OnIdle.html)事件：

编写一个 OnIdle 事件处理程序以在应用程序空闲时执行特殊处理。应用程序在不处理代码时处于空闲状态。例如，应用程序在等待用户输入时处于空闲状态。 

OnIdle 仅被调用一次，因为应用程序转换为空闲状态。除非 Done 设置为 false，否则不会连续调用它。将 Done 设置为 false 的应用程序会消耗过多的 CPU 时间，这会影响整体系统性能。

正如@aku 在此事件中建议的那样，使用计时器或[GetLastInputInfo来确定您是否可以在不中断用户的情况下开始维护](http://msdn.microsoft.com/en-us/library/ms646302%28VS.85%29.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-01-03T17:07:45.140

使用应用程序 OnDeactivate 和 onActive 事件。这样，如果用户再次激活您的程序，您可以中止长时间运行的作业。

前任：

```
 Application.OnDeactivate = yourDeactivProcedure;

procedure mainform.YourDecativateProcedure (sender : tObject);
begin
 // do your job.. 
end; 
```

要处理激活事件以中止，您必须以一种糟糕的方式进行睡眠，并且在睡眠后检查是否设置了全局变量。或者，您可以拥有一个可以进行长时间跑步工作的受热物体。我想说的要好得多。您可以将 loongrunningjobs 优先级设置为低，它不会对您的程序产生太大影响，

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-02T14:43:36.353

取决于您如何定义“已使用”——如果您正在监控自己，您可以通过在用户交互发生时记录它来查看您最后一次响应用户交互的时间（鼠标移动/按键/菜单事件触发/等） . 监控另一个应用程序很棘手，因为很难定义它“正在使用”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-01-02T14:44:58.470

这实际上取决于应用程序及其功能。虽然用户可能不会在新输入的意义上与之交互，但他们肯定会查看可见的客户区域。

另外-您没有说是要在应用程序内部还是在应用程序外部检测此内容。

简单的方法

*   看看它是否有当前焦点。
*   检查窗口是否可见

还有很多其他人，但他们依赖于应用程序本身。

您还必须定义“使用”的含义。这可能意味着不同的事情，这将对您确定它是否符合您的标准的方式产生重大变化。

# python - 如何拦截特殊（alt / ctrl）按键？

> ID：406933
> 
> 赞同：8
> 
> 时间：2009-01-02T14:34:45.450
> 
> 标签：python, curses

如何在 python 中捕获`ALT`+`K`或`CTRL`++之`ALT`类的组合键？`H``curses`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2009-01-02T15:09:56.410

终端将控制键与字母键组合转换为正常的 ASCII 码。这可以像任何其他按键一样从[getch () 函数中读取。](http://www.opengroup.org/onlinepubs/007908799/xcurses/wgetch.html)

```
CTRL-A: getch() returns 1
CTRL-B: getch() returns 2
...
CTRL-Z: getch() returns 26 
```

此外，必须调用[keypad () 函数来启用其他特殊功能键（例如左箭头、F1、home 等）。](http://www.mkssoftware.com/docs/man3/curs_inopts.3.asp)

我不相信有一种通过终端接收元键（例如 ALT-H）的便携方式。一些发送转义 (0x1B) 后跟修改后的密钥，而另一些设置高位并且只发送一个字节。

# python - PyQt：让小部件在 QDialog 中自动调整大小

> ID：406939
> 
> 赞同：10
> 
> 时间：2009-01-02T14:39:30.293
> 
> 标签：python, qt, pyqt, qdialog

当对话框本身调整大小时，我很难让 QDialog 中的小部件自动调整大小。

在以下程序中，如果您调整主窗口的大小，文本区域会自动调整大小。但是，对话框中的文本区域在调整对话框大小时保持相同的大小。

有没有办法让对话框中的文本区域自动调整大小？我尝试`setSizePolicy(QSizePolicy.Ignored, QSizePolicy.Ignored)`在对话框本身和其中的两个小部件上使用，但这似乎没有效果。

如果相关的话，我在 openSuSE 10.2 上使用 Qt 3.3.7 版和 PyQt 3.5.5-29 版。

```
import sys
from qt import *

# The numbers 1 to 1000 as a string.
NUMBERS = ("%d " * 1000) % (tuple(range(1,1001)))

# Add a textarea containing the numbers 1 to 1000 to the given
# QWidget.
def addTextArea(parent, size):
    textbox = QTextEdit(parent)
    textbox.setReadOnly(True)
    textbox.setMinimumSize(QSize(size, size*0.75))
    textbox.setText(NUMBERS)

class TestDialog(QDialog):
    def __init__(self,parent=None):
        QDialog.__init__(self,parent)
        self.setCaption("Dialog")
        everything = QVBox(self)

        addTextArea(everything, 400)
        everything.resize(everything.sizeHint())

class TestMainWindow(QMainWindow):
    def __init__(self,parent=None):
        QMainWindow.__init__(self,parent)
        self.setCaption("Main Window")
        everything = QVBox(self)

        addTextArea(everything, 800)

        button = QPushButton("Open dialog", everything)
        self.connect(button, SIGNAL('clicked()'), self.openDialog)        

        self.setCentralWidget(everything)
        self.resize(self.sizeHint())

        self.dialog = TestDialog(self)

    def openDialog(self):
        self.dialog.show()

if __name__ == '__main__':
    app = QApplication(sys.argv)
    mainwin = TestMainWindow(None)
    app.setMainWidget(mainwin)
    mainwin.show()
    app.exec_loop() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-01-02T14:56:35.063

QMainWindow 对中央小部件具有 QDialog 没有的特殊行为。要实现所需的行为，您需要创建一个[布局](http://doc.trolltech.com/3.3/layout.html)，将文本区域添加到布局并将布局分配给对话框。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-03T13:52:18.867

只是对此添加一点说明-我试图从应用程序中生成一个子窗口，该应用程序是 a `QDialog`，包含一个`QTextEdit`作为子项/内容的单个窗口-并且我希望在窗口大小发生变化`QTextEdit`时自动调整大小。`QDialog`这似乎对我有用`PyQt4`：

```
def showTextWindow(self):

  #QVBox, QHBox # don't exist in Qt4

  dialog = QDialog(self)
  #dialog.setGeometry(QRect(100, 100, 400, 200))
  dialog.setWindowTitle("Title")
  dialog.setAttribute(QtCore.Qt.WA_DeleteOnClose)

  textbox = QTextEdit(dialog)
  textbox.setReadOnly(True)
  textbox.setMinimumSize(QSize(400, 400*0.75))
  textbox.setText("AHAAA!")

  # this seems enough to have the QTextEdit 
  # autoresize to window size changes of dialog!
  layout = QHBoxLayout(dialog)
  layout.addWidget(textbox)
  dialog.setLayout(layout)

  dialog.exec_() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-01-02T16:21:56.280

我以前看过使用 QLayout 但没有运气。我试图做类似的事情

```
dialog.setLayout(some_layout) 
```

但我无法让这种方法发挥作用，所以我放弃了。

我的错误是当我应该将对话框传递给布局时，我试图将布局传递给对话框。

添加行

```
layout = QVBoxLayout(self)
layout.add(everything) 
```

到最后`TestDialog.__init__`解决问题。

感谢 Monjardin 促使我重新考虑布局。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2010-12-15T19:01:07.377

查看[Python QT Automatic Widget Resizer](https://sourceforge.net/projects/pyqtresize/)它应该工作得很好。

# database-design - 保存表或视图名称的配置值的好名称是什么？

> ID：406954
> 
> 赞同：0
> 
> 时间：2009-01-02T14:45:14.557
> 
> 标签：database-design, naming-conventions

“表或视图”是否有数据库术语？
在我的应用程序中，我从中提取数据的表名可以使用配置设置进行配置`UserTableName` 现在 DBA 去重命名了表，但使用原始名称创建了一个视图。
所以我这边没有任何改变，但现在我觉得这`UserTableName`是一种误导，我想将其更改为用户*无论*名称，其中*无论*是表或视图的术语。
有这样的事情还是我只是个白痴？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-02T20:50:02.463

术语“关系”适用于表或视图。事实上，关系也适用于查询的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T14:46:18.687

“数据库对象”或“DBObject”怎么样？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T14:53:37.737

逻辑模型使用术语实体/属性；物理模型使用表/列。我不知道建模者是否会反对，但也许你可以称它为“UserEntity”。

这里有一个问题：它为什么重要？当您在 SQL 中编写查询时，您不知道也不关心它是表还是视图。为什么要你的架构？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T14:49:04.673

“ `UserDataSource`”呢？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-01-03T07:33:22.087

我会坚持你所拥有的。这就是 Oracle 的人们为他们的数据字典所做的（视图名称有时出现在名为 table_name 的列中）。

# .net - 模拟 WCF 服务的简单方法？

> ID：406955
> 
> 赞同：10
> 
> 时间：2009-01-02T14:45:32.200
> 
> 标签：.net, wcf, unit-testing, mocking

我有一个使用 WCF 服务的应用程序。现在我想向应用程序添加单元测试。

在某些情况下，我需要模拟 WCF 服务，因为从服务中获取所需的行为有时很困难（例如，服务会引发特殊异常）。

我可以向 wcf 客户端添加另一个接口，但这似乎有点愚蠢，因为客户端调用已经在使用一个接口。

有没有一种简单的方法来模拟 WCF 服务？比创建另一个接口层并在其中重定向每个 WCF 调用更容易吗？

编辑：大多数答案似乎对 WCF 服务的使用知之甚少，因此需要澄清一下：
要从 ViewModel 使用 WCF 服务，我必须像这样管理连接：

```
ChannelFactory<IMyWcfService> channelFactory = new ChannelFactory<IMyWcfService>("");
IMyWcfService proxy = channelFactory.CreateChannel();
proxy.CallMyStuff();
proxy.Close(); 
```

我不能只将 ViewModel 代理传递给 WCF，因为每个事务都需要打开和关闭连接。由于这个原因，使用 RhinoMock/NMock 是行不通的，因为它们需要一个 ViewModel 来获取代理作为参数，如果你使用 WCF，就不能这样做。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-01-02T16:05:01.070

为什么不能使用[NMock2](http://nmock2.sourceforge.net/)之类的东西直接模拟`IMyWcfService`接口？

如果您需要能够即时创建新实例，请使用工厂对`ChannelFactory<IMyWcfService>`客户端隐藏。通过这种方式，您可以替换工厂，为客户端提供创建模拟而不是真实代理的工厂。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-01-09T06:07:13.333

您可以使用任何模拟框架（如 RhinoMocks 或 NMock）来模拟接口契约，因此如果您的服务实现了 IMyService，那么您可以使用模拟框架来设置对该接口上的方法调用的期望。如果你不熟悉这个概念，那么你可以简单地创建一个实现 IMyService 但在测试期间伪装成真实服务的替代对象。这样，当调用方法时，它们会在您的替身对象上调用，您可以让替身返回任何您想要的东西。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-05-17T11:42:33.040

你可以`Moq`模拟框架。根据您提供的示例：

```
ChannelFactory<IMyWcfService> channelFactory = new ChannelFactory<IMyWcfService>("");
IMyWcfService proxy = channelFactory.CreateChannel();
proxy.CallMyStuff();
proxy.Close(); 
```

以下是模拟实现的样子：

```
Mock<IMyWcfServiceChannel> channelMock = new Mock<IMyWcfServiceChannel>(MockBehavior.Strict);
channelMock
    .Setup(c => c.CallMyStuff())
    .Returns("");

string myStuff = channelMock.Object.CallMyStuff(); 
```

为服务添加代理后`WCF`- 您应该有一个`channel`可用的接口，称为`IMyWcfServiceChannel`.

根据您调用的服务方法的返回类型 - 您几乎可以设置任何输出。在上面的示例中，我使用`string`类型作为示例。

为了更有效地使用上述解决方案，您可能需要为业务层创建 2 个构造函数，如下所示：

```
public class Example1
{
    IMyWcfServiceChannel _client;

    public Example1()
    {
        var factory = new ChannelFactory<IMyWcfServiceChannel>("binding");
        _client = factory.CreateChannel();
    }

    public Example1(IMyWcfServiceChannel client)
    {
        _client = client;
    }

    public string CallMyStuff()
    {
        return _client.CallMyStuff();
    }
} 
```

所以在`prod`你使用无参数构造函数。在`unit`测试中，您使用参数完整的构造函数并将模拟传递给它（`channelMock.Object`）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-24T18:52:25.923

我正在使用 FakeItEasy，它不允许模拟 OperationContext，因为它是一个密封类。将依赖注入添加到混合中，你就会让自己成为一场噩梦。我花了一周的时间试图弄清楚这些东西，这就是我最终想出的。. . 您将创建几个`ServiceHost`'，然后它们将相互交谈并在其间运行您的所有代码。

#1 创建一个继承自的类`ClientBase<IMyWcfService>`：

```
public class MyWcfServiceClient : ClientBase<IMyWcfService>, IMyWcfService
{
    public MyWcfServiceClient(string address)
        : base(new WebHttpBinding(), new EndpointAddress(address))
    {
        this.Endpoint.EndpointBehaviors.Add(new WebHttpBehavior());
    }

    public void CallMyStuff()
    {
        using (new OperationContextScope(this.InnerChannel))
        {
            base.Channel.CallMyStuff();
        }
    }
} 
```

#2 创建将调用此方法的“调用服务”。首先，创建一个接口：

```
[ServiceContract]
public interface IMyWcfCallingService
{
    [OperationContract]
    void CallCallMyStuff();
} 
```

然后创建实现这个接口的“调用服务”：

```
public class MyWcfCallingService : IMyWcfCallingService
{
    static MyWcfServiceClient _client = new MyWcfServiceClient("http://localhost:8008");
    // ^^^ This "http://localhost:8008" is the address where
    // your actual service is going to "live" in your unit test        

    public void CallCallMyStuff()
    {
        _client.CallMyStuff();
    }
} 
```

#3 在单元测试中实例化你的实际服务：

```
var myService = new MyWcfService(_someMockedDependency, _someOtherMockedDependency); 
```

#4 创建两个`ServiceHost`要互相交谈的，然后调用你的服务：

```
var restHost = new WebServiceHost(myService, new Uri("http://localhost:8008"));
// ^^^ Make sure the URL here matches the URL you used in Step #2

var behavior = restHost.Description.Behaviors.Find<ServiceBehaviorAttribute>();
behavior.InstanceContextMode = InstanceContextMode.Single;
// ^^^ If you're using dependency injection with mocked dependencies 
// to create your myService object, this is muy importante

restHost.Open();

var clientHost = new ServiceHost(typeof(MyWcfCallingService), new Uri("http://localhost:80"));
// ^^^ use some other address here, different from the one you used for the service itself
clientHost.AddServiceEndpoint(typeof(IMyWcfCallingService), new BasicHttpBinding(), string.Empty);
clientHost.Open();

var factory = new ChannelFactory<IMyWcfCallingService>(new BasicHttpBinding(), new EndpointAddress("http://localhost:80"));
// ^^^ this should match the url for the clienthost
var proxy = factory.CreateChannel();
proxy.CallCallMyStuff(); 
```

该死的WCF都该死！当我开始挖掘遗留的 WCF 代码时，我从未如此欣赏 WebApi。

# nhibernate - 从代理获取集合时，NHibernate2 查询被连接。这是正确的行为吗？

> ID：406957
> 
> 赞同：0
> 
> 时间：2009-01-02T14:46:20.060
> 
> 标签：nhibernate, fluent-nhibernate, nhibernate-mapping

这是我的课：

```
public class User
{
    public virtual int Id { get; set; }
    public virtual string Name { get; set; }

    public virtual IList<UserFriend> Friends { get; protected set; }        
}

public class UserFriend
{
    public virtual int Id { get; set; }
    public virtual User User { get; set; }
    public virtual User Friend { get; set; }
} 
```

这是我的映射（Fluent NHibernate）：

```
public class UserMap : ClassMap<User>
{
  public UserMap()
  {
    Id(x => x.Id, "UserId").GeneratedBy.Identity();                 
    HasMany<UserFriend>(x => x.Friends);                
  }
}

public class UserFriendMap : ClassMap<UserFriend>
{
    public UserFriendMap()
    {
        Id(x => x.Id, "UserFriendId").GeneratedBy.Identity();

        References<User>(x => x.User).TheColumnNameIs("UserId").CanNotBeNull();
        References<User>(x => x.Friend).TheColumnNameIs("FriendId").CanNotBeNull();
    }
} 
```

问题是当我执行此代码时：

```
User user = repository.Load(1);
User friend = repository.Load(2);

UserFriend userFriend = new UserFriend();
userFriend.User = user;
userFriend.Friend = friend;

friendRepository.Save(userFriend);

var friends = user.Friends; 
```

在最后一行，NHibernate 为我生成了这个查询：

```
选择
  Friends0_.UserId 为 UserId1_,
  Friends0_.UserFriendId 为 UserFrie1_1_,
  Friends0_.UserFriendId 为 UserFrie1_6_0_,
  friends0_.FriendId 为 FriendId6_0_,
  Friends0_.UserId 为 UserId6_0_
  FROM "UserFriend" friends0_ WHERE friends0_.UserId=@p0; @p0 = '1'
```

问题：为什么查询看起来很连贯？它应该只选择 3 个字段（分别是`UserFriendId`、`UserId`、`FriendId`）对吗？或者 NHibernate 内部发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-01-11T12:51:43.757

你应该看看 fluent-nhibernate 生成的映射，也许这会产生一些奇怪的东西。

# version-control - VS2005 - 使用“视图设计器”在打开时自动请求签出表单

> ID：406960
> 
> 赞同：1
> 
> 时间：2009-01-02T14:48:27.967
> 
> 标签：version-control, visual-studio-2005, integration

我正在尝试将我们的源代码控制（SourceAnywhere）与 VS 集成，并且因为这个问题而受到很多反对。

几乎每次我们使用“视图设计器”打开一些 Windows 窗体时，它都会编辑文件（* 出现在文件名旁边）。尚未更改任何内容，我尝试比较前后文件，它们完全相同。如果我们绑定了解决方案，它将检查文件，但即使它没有绑定它仍然“编辑”文件。当您尝试重新签入文件时，它不会获得新版本或任何东西。

我已经进行了一些搜索，但无法找到任何方法来改变这种行为。

这对我来说是一个巨大的痛点，就好像有人已经签出了表格并且其他人试图打开它，他们只是被告知它无法签出，并且表格不会打开。或者，不打算编辑表单的人现在将签出表单但未进行任何更改。

想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-15T06:03:07.870

这通常发生在表单中的控件设置了“Dock”时。如果 IDE 认为它需要调整表单大小，那么这些控件也将调整大小，并且所有这些信息都需要重新写入源文件。如果您正在编辑名为“Form1”的表单，此源文件不是 Form1.cs，而是 Form1.Designer.cs - 尝试将该文件与源代码管理中的版本进行比较。

或者，转移到默认情况下不使用锁定的源代码控制系统（例如 Subversion）或在 SourceAnywhere 中禁用该功能。这将要求用户管理合并冲突，但允许多个用户同时处理单个文件。

# java - 如何在 GWT 页面中显示 java 小程序？

> ID：406963
> 
> 赞同：4
> 
> 时间：2009-01-02T14:49:59.257
> 
> 标签：java, gwt, applet, gwt-ext

我可能在这里遗漏了一些简单的东西，但我在其他地方找不到答案。我只想在我的 GWT 代码中显示一个小程序。

操作系统：Windows XP Java：JDK 1.6.0_10 其他：GWT、GWT-Ext 2.0.5

这是小程序（显然简化了测试）：

```
package foo.applet;

import javax.swing.JApplet;
import java.awt.Graphics;

public class HelloApplet extends JApplet 
{
    public void paint(Graphics g) 
    {
        g.drawRect(0, 0, 
                   getSize().width - 1,
                   getSize().height - 1);
        g.drawString("Hello world!", 5, 15);
    }
} 
```

这是调用它的代码：

```
 package foo.applet;

import com.google.gwt.user.client.ui.HTML;
import com.gwtext.client.widgets.Panel;

public class AppletPanel extends Panel 
{ 
```

```
public AppletPanel()
{
    HTML applet = new HTML();
    applet.setHTML("<applet name=\"HelloApplet\" code=\"HelloApplet.class\" width=\"300\" height=\"300\"" );
    this.add(applet);
} 
```

}

当我在托管模式下启动应用程序时，jvm 崩溃（向 Sun 提交了事件 1425130）。

当我尝试编译 GWT 代码以在浏览器中运行时，我得到以下信息：

```
 [ERROR] Errors in 'file:/C:/<blah>/applet/HelloApplet.java'
           [ERROR] Line 3: The import javax.swing cannot be resolved
           [ERROR] Line 4: The import java.awt cannot be resolved
           [ERROR] Line 6: JApplet cannot be resolved to a type
           [ERROR] Line 8: Graphics cannot be resolved to a type
           [ERROR] Line 11: The method getSize() is undefined for the type HelloApplet
           [ERROR] Line 12: The method getSize() is undefined for the type HelloApplet 
```

显然我缺少一些小程序库，但我已经浏览了 jdk 中的所有 jar，并尝试包括所有列出 JApplet 或 awt 的 jar（plugin.jar、resources.jar、rt.jar、deploy.jar、 javaws.jar)。

另外，我很确定一旦我解决了这个问题，就会有另一个潜伏在它之后，但我会把它留到另一个问题上。

谢谢！

* * *

旧版应用程序不是小程序——它是一个胖客户端 Swing 应用程序。我们已经破解了它以作为小程序运行，因为我们的客户想要一个浏览器客户端，这是完成这项工作的最快方式。

我不知道 GWT 是否会接受 JPanel 解决方案 - 该应用程序不是以 GWT 可以解析的任何方式编写的 - 即它没有使用 GWT API，它使用的是 Swing API。AFAIK，将 Swing 与 GWT 混合的唯一方法是以小程序的方式。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-01-02T16:51:19.120

您是否正在尝试 GWT 编译您的小程序？

这是行不通的，因为 GWT 编译（只是从 Java 到 Javascript 的翻译）只支持少数 Java 库，当然不支持 applet。

确保您的小程序不在 GWT 源路径上（将其移动到另一个包）。

参考：[http ://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=RefJreEmulation](http://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=RefJreEmulation)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-01-02T17:10:36.617

不要使用 GWTCompiler 来编译您的小程序代码。我建议创建仅包含小程序代码的第二个模块（或项目）。使用标准 Javac 编译器（或您的 IDE/ant）将其编译为单独的 JAR

GWTCompiler 使用 Java 库的一个子集，并且应该只用于生成最终将作为 Javascript 运行的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T15:04:22.193

谷歌发现[了这个](http://markmail.org/message/e67df5chtfz4ubxn#query:GWT%20applet+page:1+mid:jhmendv6buvhflbf+state:results)。其中一个回复说：“之前的发帖人是对的，shell 无法处理 Flash 或 Applets 之类的嵌入式内容。用于在 shell 内部运行浏览器的 SWT 组件存在一些限制。一个错误报告已与这个问题，您可能需要密切关注它以了解未来的更新。”

看来是做不到了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-03-09T18:50:57.460

我在研究`gwt`应用程序时发现了这一点，尽管这是一个旧线程，但我认为我会发布一种在 gwt 中运行小程序的方法。

首先创建两个不同的项目，一个用于您的小程序，一个用于`gwt`. 让你的小程序正常。

jar 你的小程序。

然后`.jar`用签名`jarsigner`。

`gwt`像往常一样创建你的模块。

要嵌入小程序，我使用`gwt`带有小程序标记的 HTML 对象，如下所示：

`(applet MAYSCRIPT code = 'com.myapplet.MyApplet' id ='myApplet' jnlp_href = '/spplets/MyApplet.jnlp', width=500, height=400)(/applet)`

只需将 HTML 小部件添加到 contentPanel 即可完成 gui 部分。

小程序 .jar 将需要进入您的 gwt 项目的 /war。

除此以外，`.jar`您还需要编写一个`.jnlp`文件来启动小程序。

这将在 gwt 中嵌入一个小程序并以托管或生产模式运行它。关键是签署你的`.JAR`并启动它`.JNLP`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2010-04-08T16:15:38.310

轻量级应用程序可能会混合使用 GWT 和 JNLP。然后我们可以相当透明地将更大的罐子放到人们的机器上。例如，我想使用 Batik 工具包或其他与 SVG 相关的好东西在我的 GWT 应用程序中使用 SVG，而不是被迫只使用 png 或其他光栅格式。

*   Tyro - 您也可以通过 bob.futrelle@gmail.com 将您的想法邮寄给我

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2009-01-02T15:02:19.560

“无法解析导入 javax.swing” - 抱歉，我不是 GWT 专家，但这个错误是类路径式的。听起来 GWT 无法为您的 JVM 找到 rt.jar。

# c++ - 检查外部应用程序是否可用的最佳方法是什么？

> ID：406966
> 
> 赞同：0
> 
> 时间：2009-01-02T14:51:24.357
> 
> 标签：c++, linux, deployment, dependencies

我有一个应用程序，它具有可选的附加功能，具体取决于用户是否安装了软件。

在 Linux 上，确定是否安装了 python 和 PyUsb 之类的最佳方法是什么？

如果有帮助，我正在开发一个 C++ Qt 应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-01-02T15:00:32.887

您可以要求它们位于路径中，等等。检查您需要的可执行文件是否存在（使用`which`或类似的）。如果需要，您还可以使用可执行文件的参数并检查所需的版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-02T15:13:57.210

一般来说，我不知道有一种方法可以为 Linux 做到这一点，因为每个发行版都可以有自己的包管理器。但是假设您想支持最流行的发行版，您可以查询他们的软件包管理器以获取已安装的软件（我建议作为支持 apt-get、rpm 和 yum 的开始）并解析输出以查找您识别的软件包。每个经理都有列出已安装软件包的方法，我的建议是：

```
apt-get --no-act check
rpm -qa
yum list installed 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-01-02T16:19:26.767

这是低效的（需要分叉和执行*/bin/sh*）。一定有更好的方法！但作为一种通用方法......总是有*system()*。

（记得使用*WEXITSTATUS()*！注意使程序不可中断！）

```
#define SHOW(X)  cout << # X " = " << (X) << endl

int main()
{
  int status;

  SHOW( status = system( "which grep > /dev/null 2>&1" ) );
  SHOW( WEXITSTATUS(status) );

  SHOW( status = system( "which no_matching_file > /dev/null 2>&1" ) );
  SHOW( WEXITSTATUS(status) );
} 
```

还有*popen()*，它可用于从程序中获取输出以验证版本号、库或诸如此类的东西。

如果您需要对子进程进行双向（读写）访问，最好使用*pipe()*、*fork()*、*exec()*、*close()*和 & *dup2()*。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-01-02T15:20:37.637

另一种可能性是向用户展示所有功能，并在他们尝试使用时提示他们安装附加功能（例如，参见[http://0install.net](http://0install.net)）。

# parsing - 在 flex/lex (parser-generator) 中实现单词边界状态

> ID：406985
> 
> 赞同：1
> 
> 时间：2009-01-02T14:57:36.323
> 
> 标签：parsing, lex, lexical-analysis

我希望能够判断模式匹配是出现在单词字符之后还是非单词字符之后。换句话说，我想在 flex/lex 不支持的模式的开头模拟 \b 分词正则表达式字符。

这是我在下面的尝试（不能按预期工作）：

```
%{
#include <stdio.h>
%}

%x inword
%x nonword

%%
[a-zA-Z]    { BEGIN inword; yymore(); }
[^a-zA-Z]   { BEGIN nonword; yymore(); }

<inword>a { printf("'a' in word\n"); }
<nonword>a { printf("'a' not in word\n"); }

%% 
```

输入 ：

```
a
ba
a 
```

预期产出

```
'a' not in word
'a' in word
'a' not in word 
```

实际输出：

```
a
'a' in word
'a' in word 
```

我这样做是因为我想做[方言器之类的](http://www.rinkworks.com/dialect/)事情，而且我一直想学习如何使用真正的词法分析器。有时我要替换的模式需要是单词的片段，有时它们只需要是整个单词。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-01-05T15:39:58.703

Here's what accomplished what I wanted:

```
%{
#include <stdio.h>
%}

WC      [A-Za-z']
NW      [^A-Za-z']

%start      INW NIW

{WC}  { BEGIN INW; REJECT; }
{NW}  { BEGIN NIW; REJECT; }

<INW>a { printf("'a' in word\n"); }
<NIW>a { printf("'a' not in word\n"); } 
```

This way I can do the equivalent of \B or \b at the beginning or end of any pattern. You can match at the end by doing `a/{WC}` or `a/{NW}`.

I wanted to set up the states without consuming any characters. The trick is using REJECT rather than yymore(), which I guess I didn't fully understand.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-01-03T06:30:47.297

```
%%
[a-zA-Z]+a[a-zA-Z]* {printf("a in word: %s\n", yytext);}
a[a-zA-Z]+ {printf("a in word: %s\n", yytext);}
a {printf("a not in word\n");}
. ; 
```

Testing:

```
user@cody /tmp $ ./a.out <<EOF
> a
> ba
> ab
> a
> EOF
a not in word

a in word: ba

a in word: ab

a not in word 
```

# javascript - 将表单连接到 Javascript 对象（和其他最佳实践建议）

> ID：406987
> 
> 赞同：0
> 
> 时间：2009-01-02T14:58:05.933
> 
> 标签：javascript, design-patterns, forms, observer-pattern

多年来，我一直在使用 javascript 在网站上执行轻量级功能 - DOM 操作等 - 但现在我开始研究使用它来完成更多繁重的工作（与 PHP 组合）。我才刚刚开始接触 OO JS，而且我仍在努力了解与它配合良好的最佳实践和设计模式。

更具体地说 - 我的问题是，这里有人可以建议将表单连接到 javascript 对象的技术吗？

在我当前的实现中，我有一个可以通过（相当大的）表单编辑的 JS 对象。当我实例化对象时，我将一个 onchange 观察者附加到表单，其回调将表单字段与对象参数同步。我正在处理通过 AJAX 提交的表单 - 还有一个定期请求，它将表单信息的临时版本保存到 mySQL DB。我想知道的一件事是是否可以轻松地处理另一个方向的同步-表单字段更新的对象的onchange（例如在表单重置时）。

我很想知道这种方法是否正确/明智，更一般地说，我很想听听有关 OOJS 表单处理的建议。

提前干杯:)

（我使用原型顺便说一句）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-01-07T05:03:33.150

您可以使用`$("form").serialize(true);`

[http://www.prototypejs.org/api/form/serialize](http://www.prototypejs.org/api/form/serialize)

您不需要 onchange 事件，您只需在每次需要获取表单数据时调用 serialize() 方法即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-01-02T23:28:10.943

这是一个完全合理的方法。JS 并不完全鼓励这种事情，因为它奇特的对象系统，特别是绑定方法不是一流对象的方式，但是通过一些合适的元类和回调胶水，这是非常可能的。

如果您想免费获得更多这种低级表单处理的东西，您可能还想查看一个小部件库。还没有尝试过基于 Prototype 构建的那些；其他可能性包括 YUI 的一种。

从服务器更新模型非常简单。通常，您会轮询 AJAX 请求并让服务器传回差异，如果它知道它们，或者只是为每个对象更新添加时间戳，在每次更新时将新对象详细信息发送到客户端，并让客户端决定如何将其与用户在此期间所做的任何更改合并。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-01-02T18:07:17.813

为什么不在你的对象中创建一个方法来重新同步对象和表单呢？并在每次更改对象时调用它？您可以创建一个特殊的更改函数来确保每次更改都会调用它。********************