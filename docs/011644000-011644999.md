# StackOverflow 问答 11644000-11644999

# sql-server-2008 - 在 SQL Server 2008 中将列添加到表中的问题

> ID：11644000
> 
> 赞同：0
> 
> 时间：2012-07-25T06:38:31.597
> 
> 标签：sql-server-2008

我有一个声明的参数，比如说`@column_name varchar(200)`。我不知道如何使用此 column_name 将列添加到现有表中。

以下代码有语法错误。

```
alter table table_name add @column_name varchar(200) 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T06:44:26.020

如果您需要动态列名，则必须使用动态 SQL：

```
declare @column_name varchar(100)
set @column_name = 'col_new'
exec('alter table table_name add ' + @column_name + ' varchar(200)') 
```

# iphone - 如何在 ios 应用程序中使用发布数据和 json

> ID：11644002
> 
> 赞同：0
> 
> 时间：2012-07-25T06:38:38.233
> 
> 标签：iphone, ios, xcode, json

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@"ht...y.php"]];
[request setHTTPMethod:@"POST"];
NSString *postString = [NSString stringWithFormat: @"User=A&Pass=1"];
[request setValue:[NSString stringWithFormat:@"%d", [postString length]] forHTTPHeaderField:@"Content-length"];
[request setHTTPBody:[postString dataUsingEncoding:NSUTF8StringEncoding]];
NSHTTPURLResponse *urlResponse = nil;
NSError *error = [[NSError alloc] init];
NSData *data = [NSURLConnection sendSynchronousRequest:request returningResponse:&urlResponse error:&error];

dispatch_async(kBgQueue, ^{
NSData* data2 = [NSData dataWithContentsOfURL: notyURL];
[self performSelectorOnMainThread:@selector(fetchedData:) withObject:data2 waitUntilDone:YES];}); 
```

如何让 dispatch_async 使用 data 而不是 data2？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T06:45:13.803

我建议不要使用`sendSynchronousRequest`and `dispatch_async`，而是使用 NSURLConnection 类方法`sendAsynchronousRequest`，如下所示：

```
[NSURLConnection sendAsynchronousRequest:request 
                                   queue:[NSOperationQueue mainQueue]
                       completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) {

    [self performSelectorOnMainThread:@selector(fetchedData:) withObject:data waitUntilDone:YES];

}]; 
```

# java - 如果服务器停止，如何删除会话

> ID：11644006
> 
> 赞同：0
> 
> 时间：2012-07-25T06:38:56.113
> 
> 标签：java, session, struts2

我用 Struts2 开发了 web 应用程序。登录到我的应用程序后，复制 url 并粘贴到具有不同选项卡的同一个浏览器，然后它会直接没有限制。在这种情况下，我想限制它。

但是相同的网址复制并粘贴到另一个浏览器它工作正常。只有相同的浏览器和不同的选项卡然后唯一的问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T06:41:59.520

这是因为您的浏览器已在会话中存储了您的登录身份验证。它会记住这一点，直到你

*   关闭浏览器的所有窗口*或*
*   从菜单中选择**新会话**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T06:55:00.923

如果您的问题是关于您的开发周期的，请查看@Keppil 的操作答案。

但是，如果您要询问真实的用户体验，那就更复杂了。浏览器确实会在 cookie 中记住您的会话 ID，并在每次请求时发送它。要覆盖此机制，您可以创建自己的令牌，这些令牌将始终附加到 URL。当提供令牌时，它应该向没有令牌的 URL 发送重定向响应。每次未提供令牌并且请求不是来自重定向时，服务器端都应将用户抛出到登录屏幕。

我从未尝试过这样做，我不确定您是否真的想要实现这一点。即使用户打开另一个选项卡或浏览器窗口，浏览器连接到同一会话的能力也非常方便和广泛适用。

# blackberry - 是否有蓝牙开机监听器？

> ID：11644011
> 
> 赞同：3
> 
> 时间：2012-07-25T06:39:10.940
> 
> 标签：blackberry, bluetooth, blackberry-jde

我正在使用以下方法检查蓝牙是否打开；

```
while (!isOn) {
    isOn = LocalDevice.isPowerOn();

    if (isOn) {
        startProcess();
        break;
    }

    try {
        Thread.sleep(10000);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
} 
```

但是，我认为这会吃掉电话资源。我正在寻找某种监听器（例如 Android 中的 BroadcastReceivers），它会在用户打开蓝牙时通知我。我已经用谷歌搜索了它，也搜索了黑莓社区论坛，但没有找到任何解决方案。如果你们中的任何人引导我朝着正确的方向前进，那就太好了。

我的开发环境；

*   黑莓 JDE Eclipse 插件 1.5.0
*   针对 BlackBerry JRE 5.0

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T08:53:48.493

几年前，我尝试为 OS 5.0 构建一个蓝牙应用程序，需要这个，但我从未发现它在 API 中可用（所以我根本没有构建该应用程序）。

但是，您拥有示例代码的方式看起来并不十分浪费。每 10 秒检查一次并不多。操作系统以比这更快的速度执行许多其他检查。我能看到的唯一问题是 RIM 是否以某种非常低效的方式实现了该调用 ( `isPowerOn()`)。

但是，真的，你的程序太短了，我认为最好的办法是构建它，让它在你睡觉时在你的手机上运行，​​然后将电池电量与第二天晚上，当你不运行应用程序。一个好的实验比我有用得多:)

# iphone - 将文件下载到 iPhone 中的文件夹

> ID：11644013
> 
> 赞同：0
> 
> 时间：2012-07-25T06:39:31.430
> 
> 标签：iphone, ios, ipad, nsfilemanager, nsdocumentdirectory

我是 iPhone 新手，

我制作了应用程序，当用户下载任何内容时，它会被下载到`DocumentDirectory`

我想在我创建的文件夹中下载`DocumentDirectory`

**如何做到这一点？**

我想我会把文件下载到我的`DocumentDirectory`，然后我会将该文件移动到我的文件夹中`DocumentDirectory`。

***这是好习惯吗？***

**这是我的代码片段，**但我仍然无法移动我的文件。

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest:(NSURLRequest*)request navigationType:(UIWebViewNavigationType)navigationType {

    NSString *file = [NSString stringWithString:[url absoluteString]];
    NSURL *fileURL = [NSURL URLWithString:file];

    NSURLRequest *req = [NSURLRequest requestWithURL:fileURL];
    [NSURLConnection connectionWithRequest:req delegate:self];

    NSString *DestPath=[[[SourcePath stringByAppendingString:@"/"]stringByAppendingString:BookCateg]stringByAppendingString:@"/"];

                   if ([fm copyItemAtPath:SourcePath toPath:DestPath error:&error]) 
                   {
                      NSLog(@"Success !");
                   }
                  else{
                      NSLog(@"Fail to Move!");
                   }

} 
```

我的日志显示`Fail to Move!`

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-25T06:58:06.947

您应该直接将文件下载到文档目录的文件夹中，为此您需要按照@iPhone Developer 的建议创建目录并在该目录中写入文件

例如：

```
 NSString *stringPath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)objectAtIndex:0]stringByAppendingPathComponent:@"/File"];
  error = nil;
  if (![[NSFileManager defaultManager] fileExistsAtPath:stringPath])
    [[NSFileManager defaultManager] createDirectoryAtPath:stringPath withIntermediateDirectories:NO attributes:nil error:&error];

  NSURL *url = [NSURL URLWithString:@"http://www.ndqatar.mobi/18December/admin/rington/133/QatarDay13.mp3"];
  NSData *data = [NSData dataWithContentsOfURL:url];
  if(data)
  {
    stringPath = [stringPath stringByAppendingPathComponent:[url lastPathComponent]];
    [data writeToFile:stringPath atomically:YES];
  } 
```

如果你想要你可以像这样移动文件：

```
 NSString *destPath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)objectAtIndex:0]stringByAppendingPathComponent:@"/Dest"];
  error = nil;
  if (![[NSFileManager defaultManager] fileExistsAtPath:destPath])
    [[NSFileManager defaultManager] createDirectoryAtPath:destPath withIntermediateDirectories:NO attributes:nil error:&error];
  destPath = [destPath stringByAppendingPathComponent:[stringPath lastPathComponent];];

 [[NSFileManager defaultManager] copyItemAtPath:stringPath toPath:destPath error:&error]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T06:43:01.823

您可以使用以下代码：

```
NSString *stringPath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)objectAtIndex:0]stringByAppendingPathComponent:@"/Your Folder Name"];

    error = nil;
    if (![[NSFileManager defaultManager] fileExistsAtPath:stringPath])
        [[NSFileManager defaultManager] createDirectoryAtPath:stringPath withIntermediateDirectories:NO attributes:nil error:&error];
NSString *DestPath=[stringPath stringByAppendingString:@"/Your file Name"]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T06:56:10.060

您通过附加字符串而不是通过附加路径组件来使用字符串，这将附加路径并且您的文件将移到那里

享受编码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-14T15:44:23.440

```
Framework: ReactJS
Library: Material-UI
Version: 4.0 
```

我尝试使用[https://material-ui.com/api/button/](https://material-ui.com/api/button/) （在按钮的 href 中添加链接），它适用于 ipad/iphone/ios safari。

```
import Button from '@material-ui/core/Button';
<Button href={add_your_link_here} /> 
```

# apache-flex - 有很多按钮，当点击其中一个时，如何更改其标签？

> ID：11644019
> 
> 赞同：0
> 
> 时间：2012-07-25T06:39:51.673
> 
> 标签：apache-flex, events, onclick

我正在用 mxml 编写一个非常简单的 flex 应用程序。我有很多按钮，当我单击其中一个时，我希望它的值变为`World`.

我的代码是：

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">
    <fx:Declarations>
    </fx:Declarations>

    <fx:Script>
        <![CDATA[
            private function hello():void {
                this.label = "World!";
            }
        ]]>
    </fx:Script>

    <mx:HBox>
        <s:Button click="hello()" label="Hello" />
        <s:Button click="hello()" label="Hello" />
        <s:Button click="hello()" label="Hello" />
        <s:Button click="hello()" label="Hello" />
        <s:Button click="hello()" label="Hello" />
    </mx:HBox>

</s:Application> 
```

这是不正确的，因为`this.label = "World!"`无法编译`this.label`找不到。

如何让对`this`我单击的按钮的引用，或者如何实现这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:31:35.037

试试下面的代码，这可能会对你有所帮助： -

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">
    <fx:Declarations>
    </fx:Declarations>

    <fx:Script>
        <![CDATA[
            private function hello(event:MouseEvent):void {
                event.currentTarget.label = "World!";
            }
        ]]>
    </fx:Script>

    <mx:HBox>
        <s:Button click="hello(event)" label="Hello" />
        <s:Button click="hello(event)" label="Hello" />
        <s:Button click="hello(event)" label="Hello" />
        <s:Button click="hello(event)" label="Hello" />
        <s:Button click="hello(event)" label="Hello" />
    </mx:HBox>

</s:Application> 
```

# php - PHP 标头重定向到具有时间间隔的多个 URL

> ID：11644020
> 
> 赞同：1
> 
> 时间：2012-07-25T06:39:56.897
> 
> 标签：php, header

我可以使用 header() 重定向到多个 URL，其间有时间间隔吗？假设我有 url1 和 url2。现在，我想要的是标题首先重定向到 url1。然后说，5 秒后，它会将我重定向到 url2。有没有办法我可以做到这一点？我尝试了以下简单的代码

```
<?php
header("Location: url1");
header("Location: url2");
?> 
```

但这将我立即带到 url2。我想要两者之间的时间间隔。怎么可能呢？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:43:24.190

这不是它的工作方式。重定向会将您带到一个新页面......然后该页面将不得不进行下一个重定向。您应该执行以下操作：

第 1 页：

```
<?php
header("Location: url1");
exit();
?> 
```

第2页：

```
<head>
<meta http-equiv="refresh" content="5; URL=url2">
</head> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T06:46:56.033

不，你不能那样做。两个标头都会立即发送到浏览器，后一个会覆盖第一个。您可以在 url 之前添加“刷新：X”，但它仅适用于发送的最后一个标头（将被重定向到的 URL）。

实际上，除非您控制 url1 上的内容或对框架使用一些技巧，否则我看不到任何方法可以实现此目的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T06:46:57.157

当您被重定向到您时，`url1`您不再拥有进行另一个重定向的控件。

您需要专门重定向 from`url1`到`url2`on `url1`。

如果您无法控制，也可以尝试 iframe`url1`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T06:49:07.660

在标题中：

```
<script language="JavaScript">
var time = null
function move() {
myiframe.location.href = 'url2';
}
</script> 
```

这在体内：

```
<body onload="timer=setTimeout('move()',2000)"> //where 2000 is 2 seconds
<iframe id="myiframe" name="myiframe" src="url1"> </iframe> 
```

干杯

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-25T08:51:17.423

正如 subirkumarsao、Martin 和 Edmunds 所指出的，iframe 是要走的路。这是最终代码：

```
<html>
<iframe src="url1" width="500" height="500"> </iframe>
</html>

<?php
include('exp2.php');
?> 
```

现在 exp2.php 有一个提交按钮（它出现在框架的底部），它把我带到 next.php。next.php 有代码：

```
<?php
header("Location:url2");
exit();
?> 
```

# android - android应用程序在启动时强制关闭

> ID：11644021
> 
> 赞同：0
> 
> 时间：2012-07-25T06:40:03.197
> 
> 标签：android, android-emulator

尝试开发 hello world，但在模拟器上出现强制关闭错误。提前致谢

```
07-25 12:04:12.308: D/AndroidRuntime(277): Shutting down VM
07-25 12:04:12.308: W/dalvikvm(277): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
07-25 12:04:12.368: E/AndroidRuntime(277): FATAL EXCEPTION: main
07-25 12:04:12.368: E/AndroidRuntime(277): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.exampe.helloww/com.exampe.helloww.HelloActivity}: java.lang.ClassNotFoundException: com.exampe.helloww.HelloActivity in loader dalvik.system.PathClassLoader[/data/app/com.exampe.helloww-2.apk]
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.os.Looper.loop(Looper.java:123)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread.main(ActivityThread.java:4627)
07-25 12:04:12.368: E/AndroidRuntime(277):  at java.lang.reflect.Method.invokeNative(Native Method)
07-25 12:04:12.368: E/AndroidRuntime(277):  at java.lang.reflect.Method.invoke(Method.java:521)
07-25 12:04:12.368: E/AndroidRuntime(277):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-25 12:04:12.368: E/AndroidRuntime(277):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-25 12:04:12.368: E/AndroidRuntime(277):  at dalvik.system.NativeStart.main(Native Method)
07-25 12:04:12.368: E/AndroidRuntime(277): Caused by: java.lang.ClassNotFoundException: com.exampe.helloww.HelloActivity in loader dalvik.system.PathClassLoader[/data/app/com.exampe.helloww-2.apk]
07-25 12:04:12.368: E/AndroidRuntime(277):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
07-25 12:04:12.368: E/AndroidRuntime(277):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
07-25 12:04:12.368: E/AndroidRuntime(277):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
07-25 12:04:12.368: E/AndroidRuntime(277):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
07-25 12:04:12.368: E/AndroidRuntime(277):  ... 11 more
07-25 12:04:17.158: I/Process(277): Sending signal. PID: 277 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:42:53.747

在 Manifest 文件中添加您的 HelloActivity。因此，找不到您的 Activity 并且您将 ClassNotFoundException 作为

E/AndroidRuntime(277)：由以下原因引起：`java.lang.ClassNotFoundException:` `com.exampe.helloww.HelloActivity`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T06:43:14.997

这`ClassNotFoundException`通常是当您尝试在低于目标 sdk 的 sdk 版本上运行应用程序时引起的

# perl - Perl + DBD:: Oracle：将包含空格的字符串上传到 Oracle DB

> ID：11644022
> 
> 赞同：-1
> 
> 时间：2012-07-25T06:40:16.047
> 
> 标签：perl

我有一个 CSV，其中包含 3 个字段，如下所示：

```
value1, value2, value 3 
```

注意：第 3 个字段中的“值”和“3”之间有一个空格。

我正在使用 perl DBD::Oracle 和 DBI 将这些数据逐行上传到 Oracle DB。

这是我用来上传的查询：

```
$dbh->do ("INSERT INTO $table VALUES ($col1_value, $col2_value, $col3_value)"); 
```

但是，上传和抱怨如下：

```
DBD::Oracle::db do failed: ORA-00917: missing comma (DBD ERROR: error possibly near <*> indicator at char 103 in 'INSERT INTO TABLE_NAME VALUES (value1, value2, value <*>3 )') 
```

所以它在包含空格的第三个值上失败。

您能指导我如何将带有“空格”的字符串上传到 Oracle。

顺便说一句，我不是预言家，所以如果我做错了什么，请指出我。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:50:26.017

出于多种原因（安全性、效率、正确性），您希望使用[占位符](https://metacpan.org/module/DBI#Placeholders-and-Bind-Values)将值放入 SQL 中。

```
my $rows = $dbh->do (
    "INSERT INTO $table VALUES (?, ?, ?)",
    undef,
    $col1_value, $col2_value, $col3_value
); 
```

这避免了出于语法和安全目的而需要进行任何转义。

# asp.net-mvc - ASP.NET MVC 模型 id 类型 --- 最佳实践

> ID：11644023
> 
> 赞同：1
> 
> 时间：2012-07-25T06:40:27.890
> 
> 标签：asp.net-mvc, model

简单的问题。我有几个不同的模型存储在 SQL 数据库中。带有字节数据的图像记录表，大型多字段用户数据表等。所有这些模型都需要主键。大多数初学者教程都显示了 int 的用法。这是标准和专业的。我觉得开始使用 int 很奇怪，因为它的长度是可变的并且以 1 开头：S

很抱歉这个业余问题，但我无法通过谷歌找到任何关于这个主题的足够材料。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:09:24.907

`INT`使用或任何其他[整数数据类型](http://msdn.microsoft.com/en-us/library/ms187745.aspx)作为主键或标识列并没有隐含的不专业。这仅取决于您的业务需求。为了使编程[尽可能简单](http://www.quotationspage.com/quote/2927.html)，`INT`数据类型是许多业务需求的不错选择：

*   它能够代表大约 21 亿条独特的记录。
*   它在现代硬件中消耗最少的硬盘空间。
*   它对`SELECT`s 和`UPDATE`s 来说很快。
*   如果记录的数量有可能超过限制，那么重构到更大的积分是相当容易的。`BIGINT`可以处理比您可以放入数据库中的更多记录。严重地。

您可能不想使用完整主键的一个*原因*：

*   您可以使用 a `Guid`（或`UNIQUEIDENTIFIER`SQL Server 术语）来获得全局唯一性。换句话说，如果您将数据迁移到另一个位置，主键应该仍然是唯一的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:32:55.753

是的，`int`是行业标准。

即使在数据库之外，我也很少看到 C# 代码使用`uint`或任何其他变体来表示整数。偶尔`byte`用在数组中。`long`在`int`可能不足以覆盖所有可能性时使用。

始终使用的一个优点`int`是您可以传递`id`变量，而不必担心在不同整数类型之间进行转换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:33:17.283

这是 100% 好的，并且被广泛使用。有些人使用`long`s 作为主键，因为它们的最大值更大。虽然，在大多数情况下不是必需的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:42:53.367

`Guid`type 有时也用作 ID。它有一些好处，比如固定长度、全局唯一性和不可预测性。还有一些问题，例如较低的搜索性能，很难记住。

# iphone - 视图 2 中的 popviewcontroller 导致视图 1 停止为其背景设置动画

> ID：11644025
> 
> 赞同：0
> 
> 时间：2012-07-25T06:40:43.453
> 
> 标签：iphone, ios, xcode, popviewcontroller

真的很奇怪的问题，我有一个视图（视图 2），我弹出来显示我的主视图（视图 1），它有一个动画背景。一旦我从视图 2 中弹出，视图 1 就会丢失这些动画……奇怪的是，稍微移动 iOS 状态栏就会重新启动它们！

有任何想法吗？

这是我用来弹出视图的代码。如果我弹出没有动画的视图，它工作正常。

```
-(IBAction)popOnSwipe {
[UIView beginAnimations:@"" context:nil];
[UIView setAnimationDuration:0.75];
[UIView setAnimationCurve:UIViewAnimationTransitionCurlDown];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:self.navigationController.view cache:NO];
[navController popViewControllerAnimated:NO];
[UIView commitAnimations]; 
```

还有一件事; 动画在模拟器上重新开始，但不是在我正在测试它的 iTouch 上。任何见解将不胜感激，

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:07:01.230

在 DidStopSelector 方法中为 view1 添加动画，例如，

```
-(IBAction)popOnSwipe 
{
[UIView beginAnimations:@"" context:nil];
[UIView setAnimationDuration:0.75];
[UIView setAnimationCurve:UIViewAnimationTransitionCurlDown];
[UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:self.navigationController.view cache:NO];
[UIView setAnimationDidStopSelector:@selector(view1_animation)];//add this line
[navController popViewControllerAnimated:NO];
[UIView commitAnimations];
}
-(void)view1_animation
{
  //do animations for view1
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T02:20:09.210

我使用的设备有故障，该方法在我的其他设备上运行良好。谢谢您的帮助。

# javascript - 如何在 jQuery Mobile 轮播中捕获暂停时间？

> ID：11644029
> 
> 赞同：0
> 
> 时间：2012-07-25T06:41:15.803
> 
> 标签：javascript, jquery, html, jsp, jquery-mobile

我的应用程序中有一个 jQuery Mobile 轮播，一旦轮播被翻转，我需要在下拉列表中填充数据，这就完成了。现在新的实现是，一旦用户在轮播上暂停 >= 3 秒，那么只有下拉菜单应该被更新。那么我该如何捕捉这个暂停时间呢？我正在使用 iscroll.js

代码中有趣的部分是：

```
var myScroll;
var old_page=0;
function loaded() {
    myScroll = new iScroll('wrapper', {
        snap: true,
        momentum: false,
        hScrollbar: false,
        onScrollEnd: function(){
            var currPage = myScroll.currPageX+1;
            var firstPage = parseInt(document.querySelector('#indicator > li:first-child').innerHTML);
            var lastPage = parseInt(document.querySelector('#indicator > li:last-child').innerHTML);
            if(currPage <= lastPage && currPage >= firstPage){
                if(old_page < currPage){
                    document.querySelector('#indicator > li.active').className = '';
                    document.querySelector('#indicator > li:nth-child(' + (this.currPageX+1) + ')').className = 'active';
                    document.getElementById("prev").style.visibility="visible";
                }
                else if(old_page > currPage){
                    document.querySelector('#indicator > li.active').className = '';
                    document.querySelector('#indicator > li:nth-child(' + (this.currPageX+1) + ')').className = 'active';
                    document.getElementById("next").style.visibility="visible";
                }
                old_page = currPage;
                if(old_page == lastPage ){
                    document.getElementById("next").style.visibility="hidden";
                }
                else if(old_page == firstPage ){
                    document.getElementById("prev").style.visibility="hidden";
                }
            }
            else{
                myScroll.scrollToPage(lastPage-1,0);
            }
        }
    });
}

function gotoNextPage(){
    if(document.getElementById("prev").style.visibility == "hidden"){
        document.getElementById("prev").style.visibility="visible";
    }
    var currPage = parseInt(document.querySelector('#indicator > li.active').innerHTML);
    var lastPage = parseInt(document.querySelector('#indicator > li:last-child').innerHTML);

    if( currPage == (lastPage-1) ){
        document.getElementById("next").style.visibility="hidden";
    }
    document.querySelector('#indicator > li.active').className = '';
    document.querySelector('#indicator > li:nth-child(' + (currPage+1) + ')').className = 'active';
    myScroll.scrollToPage('next', 750);
}

function gotoPrevPage(){
    if(document.getElementById("next").style.visibility == "hidden"){
        document.getElementById("next").style.visibility="visible";
    }
    var currPage = parseInt(document.querySelector('#indicator > li.active').innerHTML);
    var firstPage = parseInt(document.querySelector('#indicator > li:first-child').innerHTML);
    if( (currPage-1) == firstPage ){
        document.getElementById("prev").style.visibility="hidden";
    }
    document.querySelector('#indicator > li.active').className = '';
    document.querySelector('#indicator > li:nth-child(' + (currPage-1) + ')').className = 'active';
    myScroll.scrollToPage('prev', 750);
}

document.addEventListener('DOMContentLoaded', loaded, false); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T10:37:59.347

整理并添加附加功能我得到了这个：

```
function loaded() {
    var $$ = document.querySelector;
    var firstPage = parseInt($$('#indicator > li:first-child').innerHTML, 10);
    var lastPage = parseInt($$('#indicator > li:last-child').innerHTML, 10);
    var myScroll = new iScroll('wrapper', {
        snap: true,
        momentum: false,
        hScrollbar: false,
        onScrollEnd: function() {
            var currPage = myScroll.currPageX + 1;
            if(currPage <= lastPage && currPage >= firstPage) {
                $$('#indicator > li.active').className = '';
                $$('#indicator > li:nth-child(' + currPage + ')').className = 'active';
                document.getElementById("prev").style.visibility = (currPage == firstPage) ? "hidden" : "visible";
                document.getElementById("next").style.visibility = (currPage == lastPage)  ? "hidden" : "visible";
            }
            else {
                myScroll.scrollToPage(lastPage-1,0);
            }
        }
    });
    var hoverTimeout;
    var wrapper = document.getElementById('wrapper');
    var items = wrapper.getElementsByTagName("???");
    for(var i=0; i<items.length; i++) {
        var item = items[i];
        item.onmouseover = function() {
            var that = this;
            hoverTimeout = setTimeout(function() {
                updateDropdown(that);//adjust this statement to call existing function
            }, 3000);
        };
        item.onmouseout = function() {
            clearTimeout(hoverTimeout);
        };
    }
} 
```

要使其正常工作，您需要：

*   在`var items = ...`语句中，更改`???`为包装内滚动元素的标记名称（例如“img”）。
*   在`setTimeout(...)`语句中，调用一些更新下拉列表的现有函数。

**编辑**

在 jQuery 中，它会是这样的：

```
$(function() {
    var $wrapper = $('#wrapper'),
        $indicatorElements = $('#indicator li'),
        $prev = $("#prev"),
        $next = $("#next"),
        hoverTimeout;
    var myScroll = new iScroll('wrapper', {
        snap: true,
        momentum: false,
        hScrollbar: false,
        onScrollEnd: function() {
            var currPage = this.currPageX;
            if(currPage <= ($indicatorElements.length-1) && currPage >= 0) {
                $indicatorElements.removeClass('active').eq(currPage).addClass('active');
                $prev.css('visibility', (currPage == 0) ? "hidden" : "visible");
                $next.css('visibility', (currPage == ($indicatorElements.length-1))  ? "hidden" : "visible");
            }
            else {
                this.scrollToPage($indicatorElements.length-1, 0);
            }
        }
    });
    $wrapper.find("img").each(function(i, item) {
        $(item).hover(function() {
            hoverTimeout = setTimeout(function() {
                updateDropdown(item);//adjust this statement to call existing function
            }, 3000);
        }, function() {
            clearTimeout(hoverTimeout);
        };
    });
}); 
```

两个版本都未经测试，可能需要调试。

# c# - 在 EntLib 中登录/注销

> ID：11644030
> 
> 赞同：1
> 
> 时间：2012-07-25T06:41:23.083
> 
> 标签：c#, enterprise-library

配置文件中是否有可以在 EntLib 中打开或关闭日志记录的设置。有帖子展示了如何以编程方式执行此操作，但我有兴趣通过配置文件来执行此操作。

我正在使用 EntLib 5。

这是配置

```
 <loggingConfiguration name="" tracingEnabled="true" defaultCategory="General">
    <listeners>
        <add name="Event Log Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedEventLogTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FormattedEventLogTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            source="Enterprise Library Logging" formatter="Text Formatter"
            log="" machineName="." traceOutputOptions="None" />
        <add name="Flat File Trace Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            fileName="c:\\Log\\wclog.log" header=""
            formatter="Text Formatter" traceOutputOptions="DateTime, Timestamp" />
    </listeners>
    <formatters>
        <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            template="Timestamp:{timestamp}  Method: {title}, {category} {message}"
            name="Text Formatter" />
    </formatters>
    <categorySources>
        <add switchValue="All" name="General">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </add>
    </categorySources>
    <specialSources>
        <allEvents switchValue="All" name="All Events">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </allEvents>
        <notProcessed switchValue="All" name="Unprocessed Category">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </notProcessed>
        <errors switchValue="All" name="Logging Errors &amp; Warnings">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </errors>
    </specialSources> 
```

问候。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T05:39:50.783

有多种方法可以禁用日志记录。如前所述，将类别开关值设置为“关闭”：

```
<loggingConfiguration name="" tracingEnabled="true" defaultCategory="General">
    <listeners>
        <add name="Event Log Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedEventLogTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FormattedEventLogTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            source="Enterprise Library Logging" formatter="Text Formatter"
            log="" machineName="." traceOutputOptions="None" />
        <add name="Flat File Trace Listener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            fileName="c:\\Log\\wclog.log" header=""
            formatter="Text Formatter" traceOutputOptions="DateTime, Timestamp" />
    </listeners>
    <formatters>
        <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            template="Timestamp:{timestamp}  Method: {title}, {category} {message}"
            name="Text Formatter" />
    </formatters>
    <categorySources>
        <add switchValue="All" name="General">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </add>
    </categorySources>
    <specialSources>
        <allEvents switchValue="All" name="All Events">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </allEvents>
        <notProcessed switchValue="All" name="Unprocessed Category">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </notProcessed>
        <errors switchValue="All" name="Logging Errors &amp; Warnings">
            <listeners>
                <add name="Flat File Trace Listener" />
            </listeners>
        </errors>
    </specialSources> 
```

您还可以通过将跟踪侦听器本身的过滤器属性设置为“关闭”来禁用单个跟踪侦听器。

全局禁用日志记录的最简单方法可能是使用 Logging Enabled Filter：

```
 <logFilters>
        <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Filters.LogEnabledFilter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
            enabled="false" name="Logging Enabled Filter" />
    </logFilters> 
```

然后只需设置“true”或“false”来启用或禁用日志记录。过滤器还具有在“日志管道”中首先执行的好处，因此它应该比将单个跟踪侦听器设置为“关闭”具有更好的性能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T15:06:20.937

虽然不理想，但这是一个应该可行的简单方法 - 注释掉听众：

```
<categorySources>
    <add switchValue="All" name="General">
        <listeners>
            <!-- <add name="Flat File Trace Listener" /> -->
        </listeners>
    </add>
</categorySources>
<specialSources>
    <allEvents switchValue="All" name="All Events">
        <listeners>
           <!--  <add name="Flat File Trace Listener" />  -->
        </listeners>
    </allEvents>
    <notProcessed switchValue="All" name="Unprocessed Category">
        <listeners>
           <!--  <add name="Flat File Trace Listener" />  -->
        </listeners>
    </notProcessed>
    <errors switchValue="All" name="Logging Errors &amp; Warnings">
        <listeners>
          <!--   <add name="Flat File Trace Listener" />  -->
        </listeners>
    </errors>
</specialSources> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:54:51.233

您可以将 categorySources 的 switchValue 设置为“关闭”

# android - 如何使列表的标题不可滚动？

> ID：11644032
> 
> 赞同：0
> 
> 时间：2012-07-25T06:41:34.463
> 
> 标签：android, simpleadapter

我使用`row.xml`and`header.xml`使我的列表视图如下所示，有一个`SimpleAdapter`用于收集我想在列表中显示的项目。我的问题是，如何使标题固定而不随列表项滚动？

```
ListView lv;
SimpleAdapter sd;

lv = getListView();
lv.addHeaderView(getLayoutInflater().inflate(
                R.layout.header, null, false));

sd = new SimpleAdapter(this, aList, R.layout.row,
                new String[]
                { "date", "date2", "date3",
                        "date4" }, new int[]              
                { R.id.date, R.id.date2, R.id.date3,
                         R.id.date4});
lv.setAdapter(sd); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T06:44:16.223

为了不使列表的标题可滚动，您必须将 ListView 的标题放在 xml 中。因为在 ListView 中作为项目插入的任何内容都意味着以常规方式滚动。所以如果你把header放在ListView的外面和上面，它会被认为是一个静态的header，不会滚动。

# oauth - Google 授权标头不正确（401 错误）

> ID：11644035
> 
> 赞同：0
> 
> 时间：2012-07-25T06:42:06.850
> 
> 标签：oauth, google-api

我正在尝试在我的网络服务器中使用 2-legged OAuth ( [https://developers.google.com/accounts/docs/OAuth](https://developers.google.com/accounts/docs/OAuth) )创建一个文档（非常基础） 。

这是代码：

```
!* Clicked: Run Btn *

ThisWebClient.SetAllHeadersDefault()
ThisWebClient.HeaderOnly = 0
ThisWebClient.Host = 'http://docs.google.com'
ThisWebClient.ContentType = 'application/atom+xml'
ThisWebClient.Authorization = 'OAuth oauth_version="1.0", '&|
  'oauth_nonce="'&today()&clock()&'", '&|
  'oauth_timestamp="'&clock()&'", '&|
  'oauth_consumer_key="..google user content string..", '&|
  'oauth_signature_method="HMAC-SHA1", '&|
  'oauth_signature="..signature string.."'
ThisWebClient.Post('https://docs.google.com/feeds/documents/private/full?xoauth_requestor_id=stu.a%40sandersnoonan.com',|
  '<atom:entry xmlns:atom="http://www.w3.org/2005/Atom"><atom:category scheme="http://schemas.google.com/g/2005#kind" '&|
  'term="http://schemas.google.com/docs/2007#document" /><atom:title>SNIPS Stuff</atom:title></atom:entry>') 
```

（截图，最初发布）

![在此处输入图像描述](../Images/24d6ebfd0014a12f2190ae5bded71329.png)

**我目前收到 401 错误，未知授权标头。**

-- 这是我第一次使用 OAuth 并使用 Google API 进行开发，所以我可能错过了一些非常简单的东西。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T14:25:20.923

[`oauth_signature`](https://www.rfc-editor.org/rfc/rfc5849#section-3.4)不能硬编码到您的代码中。它适用于使用 HMAC-SHA1 计算的每个请求，并取决于您的时间戳、随机数等。

谷歌也有签名步骤的[文档](https://developers.google.com/accounts/docs/OAuth_ref#SigningOAuth)。

# android - 由于一些正在运行的线程，我无法停止我的进度？

> ID：11644036
> 
> 赞同：0
> 
> 时间：2012-07-25T06:42:07.897
> 
> 标签：android, multithreading, android-asynctask, progress

上周，我问了一个关于如何完全完成我的进度的问题，有人告诉我这样做：

```
finish();
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
intent.addCategory(Intent.CATEGORY_HOME);
startActivity(intent); 
```

但问题是：我尝试`JSONObject`从我的服务器获取，所以我新建了线程并使用处理程序来处理这个。但是现在，我无法完成我的进度！

当我启动我的应用程序时，我可以在 DDMS 中发现一个新的进展 !!!!!怎么了？？

# c# - 如何在 Windows 应用程序中结合 2 个数据表并创建一个新的数据表？

> ID：11644040
> 
> 赞同：0
> 
> 时间：2012-07-25T06:42:26.427
> 
> 标签：c#, windows-applications

我有 2 个数据表 DataTable1 和 DataTable2，DataTable1 的列为 A、B、C、D，DataTable2 的列为 P、Q、R、SI 想要添加数据表列并想要创建一个新的数据表作为 A， B,C,D,P,Q,R,S

有人请帮我怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:07:05.170

你可以像这样合并2个表

```
var dtA = new DataTable();
dtA.Columns.Add("A");
dtA.Columns.Add("B");
dtA.Columns.Add("C");

var dtB = new DataTable();
dtB.Columns.Add("D");
dtB.Columns.Add("E");
dtB.Columns.Add("F");

dtA.Merge(dtB); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:36:50.233

这是不实用的，也是糟糕的设计。仅仅是因为您不能像 Stig 在评论中提到的那样，在没有“共同性”的情况下将两种不同的东西放在一起。

考虑将 2 个数据表放在一起，一个有 5 行，另一个有 100 行。除非有什么可以加入它们，否则我不建议尝试这样做。或者，如果您必须具有功能，那么我建议您遍历数据表，构建一个由 Datable1 和 DataTable2 组成的新数据表。

以下是Join示例：

```
from table1 in dt1.AsEnumerable()
join table2 in dt2.AsEnumerable() on table1["Location"] equals table2["Location"]
select new
{
    Location = table1["Location"],
    Visa_Q1 = (int)table1["Visa_Q1"],
    Visa_Q2 = (int)table1["Visa_Q2"],
    Visa_Q3 = (int)table2["Visa_Q3"],
    Visa_Q4 = (int)table2["Visa_Q4"],
}; 
```

# html - html 和 css 菜单问题（可能是 z-index 问题）

> ID：11644045
> 
> 赞同：1
> 
> 时间：2012-07-25T06:42:48.987
> 
> 标签：html, css, z-index

我正在为我的一个客户在[这个网站上工作。](http://runwayexpress.com.au)

问题是主页上的下拉菜单隐藏在嵌入式 youtube 播放器后面。这似乎是一个涉及 z-index 的简单 css 问题，但我一直无法解决。也许它与 youtube 嵌入有关。

我曾尝试设置菜单的 z-index，但似乎没有效果。

我差点忘了告诉你这个问题专门发生在 IE9 上。

另外，我不是css专家，所以请指出问题所在。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T06:56:51.640

将以下代码用于 youtube iframe：

```
<iframe width="597" height="323" src="http://www.youtube-nocookie.com/embed/Rahab_AMCkE?wmode=transparent" rel="0" frameborder="0" allowfullscreen=""></iframe> 
```

**`wmode=transparent"`在视频的源（src）之后添加**

这是一个 Flash 问题。嵌入 Flash 时，默认为`wmode=window`，使 SWF 覆盖页面上的任何 HTML 对象。为避免这种情况，请使用`wmode=opaque`或`wmode=transparent`允许 HTML 元素与 SWF 内容重叠。有关更多信息以及两者之间的区别，请参阅 Adob​​e 的[帮助](http://helpx.adobe.com/flash/kb/flash-object-embed-tag-attributes.html#main_Browser_support_for_Window_Mode__wmode__values)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T06:50:35.273

利用

```
_z-index:1000001; 
```

不要删除

```
z-index: //whatever; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T06:47:59.097

像这样定义你的 CSS 样式。

```
.navigation ul ul{
z-index:3;
}
.lcd{
position:relative;
z-index:1;
} 
```

# android - 如何在 Android 中加密会话值

> ID：11644048
> 
> 赞同：4
> 
> 时间：2012-07-25T06:42:53.213
> 
> 标签：android, encryption

我正在开发一个基于网络服务器的 Android 应用程序。安装该应用程序的用户应在网络上注册，以便他们可以登录。当有人尝试登录时，我会使用`API`.

所以我对持久化和**加密过程**很好奇。我应该加密这些值还是将它们全部放入`SharedPreferences`？如果需要加密，那么有效的方法是什么？

最后但并非最不重要的一点是，SharedPreferences 在安全性方面是否足够？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:04:48.337

加密很容易，但真正的问题是使用什么密钥？如果您在应用程序中对密钥进行硬编码，或从某个已知值派生密钥，则任何有权访问设备的人都可以轻松解密这些值。您正在实现的只是混淆。由于 Android 没有系统密钥库的公共 API，因此如果您需要保存实际密码，则无能为力。当然，除非您让用户在每次启动应用程序时都输入密码，否则就达不到目的了。

如果您同时控制服务器和客户端，另一种方法是使用某种形式的基于令牌的身份验证，并且只保存令牌。由于令牌可能会过期并被撤销，因此持有令牌的人造成的损害要比暴露实际密码（也可以在其他网站上使用）要小得多。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T06:51:15.140

当然，您应该加密用户设置，例如登录名、密码或电子邮件。我更喜欢`SharedPreferences`存储，是的，就安全性而言，这已经足够了。

我在 StackOverflow 上找到了这两种方法，这很公平：

```
protected String encrypt( String value ) {
    try {
        final byte[] bytes = value!=null ? value.getBytes(UTF8) : new byte[0];
        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("PBEWithMD5AndDES");
        SecretKey key = keyFactory.generateSecret(new PBEKeySpec(SEKRIT));
        Cipher pbeCipher = Cipher.getInstance("PBEWithMD5AndDES");
        pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(Settings.Secure.getString(context.getContentResolver(),Settings.System.ANDROID_ID).getBytes(UTF8), 20));
        return new String(Base64.encode(pbeCipher.doFinal(bytes), Base64.NO_WRAP),UTF8);
    } catch( Exception e ) {
        throw new RuntimeException(e);
    }
}

protected String decrypt(String value){
    try {
        final byte[] bytes = value!=null ? Base64.decode(value,Base64.DEFAULT) : new byte[0];
        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("PBEWithMD5AndDES");
        SecretKey key = keyFactory.generateSecret(new PBEKeySpec(SEKRIT));
        Cipher pbeCipher = Cipher.getInstance("PBEWithMD5AndDES");
        pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(Settings.Secure.getString(context.getContentResolver(),Settings.System.ANDROID_ID).getBytes(UTF8), 20));
        return new String(pbeCipher.doFinal(bytes),UTF8);
    } catch( Exception e) {
        throw new RuntimeException(e);
    }
} 
```

找不到链接，如果我找到了，我会编辑我的答案。

**编辑**：我找到了来源，你可以看看[这里](https://stackoverflow.com/a/6393502/1033899)的所有讨论。

# google-maps - 没有地理代码的谷歌地图多个位置

> ID：11644049
> 
> 赞同：0
> 
> 时间：2012-07-25T06:42:54.710
> 
> 标签：google-maps

如何在没有任何地理代码的情况下在谷歌地图上显示多个标记？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:49:08.840

您应该查看[gmaps.js](http://hpneo.github.com/gmaps/)。它是 google maps api 的包装，但是“*痛苦少得多，乐趣多得多*”：

```
map.addMarker({
  lat: -12.043333,
  lng: -77.028333,
  title: 'Lima',
  click: function(e) {
    alert('You clicked in this marker');
  }
}); 
```

[例子](http://hpneo.github.com/gmaps/examples/markers.html)

# c# - 看不到重定向页面名称

> ID：11644059
> 
> 赞同：0
> 
> 时间：2012-07-25T06:43:32.213
> 
> 标签：c#, asp.net, download, response.redirect

我有一个带有链接按钮的页面，我的要求是当我点击“下载”时；Linkbutton 页面应该重定向到另一个页面，我的文件应该在那里下载，我的网页地址栏应该显示它正在重定向的页面以及我的查询字符串值。请建议我该怎么做，请帮助我。

这是我的代码

第一页.aspx

```
 protected void LinkButton1_Click(object sender, EventArgs e)
    {

        Response.Redirect("Default2.aspx?filename=Csharp/CSharp.txt");              
    } 
```

下载.aspx

```
 protected void Page_Load(object sender, EventArgs e) <br/>

    {
        string filename = Request.QueryString["filename"];
        Response.ContentType = "text";
        Response.AppendHeader("Content-Disposition", "attachment; filename=CSharp.txt");
        Response.TransmitFile(Server.MapPath(filename));
        Response.End(); 
    } 
```

我在 Download.aspx 页面事件的每个事件中都使用了此代码，但我不能。注意：我有这个要求，我必须使用查询字符串，并且重定向页面和查询字符串值应该在下载之前显示在地址栏中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T06:58:03.107

使用附加标志来指示应该进行实际下载。同时，您可以显示“请稍候”消息。像这样：

```
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="refresh" content="3; url=<%=HttpUtility.HtmlAttributeEncode(Request.Url.OriginalString + &IsDownloading=true")%>">
  </head>

  <body>
    <h2>Your download will start shortly...</h2>
  </body>
</html> 
```

代码隐藏：

```
protected void Page_Load(object sender, EventArgs e)
{
    if(string.Compare((Request.QueryString["IsDownloading"] ?? string.Empty).Split(new char[] { ',' }).First(), "true", StringComparison.InvariantCultureIgnoreCase) == 0)
  {
    // Make a file transfer
  }
} 
```

# jsf-1.2 - JSF 1.2：从 phaselistener 重定向到不同的 portlet

> ID：11644060
> 
> 赞同：0
> 
> 时间：2012-07-25T06:43:37.450
> 
> 标签：jsf-1.2

我正在使用 JSF 1.2

在一个 portlet 的 phaselistener 中，如果某些条件匹配，我想完全重定向到另一个 portlet。我在 beforePhase 方法中有以下代码

```
ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
externalContext.redirect("/my-other-portlet-url"); 
```

它不工作。甚至我尝试将其放入 afterPhase 方法中。没用。

这样做的正确方法是什么？在我的场景中可以重定向到另一个 portlet 吗？

问候，

维卡斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:15:32.313

尝试

```
FacesContext context = FacesContext.getCurrentInstance();     
NavigationHandler handler = context.getApplication().getNavigationHandler();
handler.handleNavigation(context, null, "my-other-portlet-url"); //put there name of your page 
```

这甚至应该从`PhaseListener`

# c# - 如何在 C# 中为 System.Math 方法使用泛型类

> ID：11644062
> 
> 赞同：3
> 
> 时间：2012-07-25T06:43:46.597
> 
> 标签：c#, icomparable, generics

我正在尝试实现类似于以下代码片段的内容。

![在此处输入图像描述](../Images/a737141a4b48d144b77b1fb248fed5de.png)

正如红线所示`Math.Min`，`IComparable<T>`似乎不起作用。我需要为这个泛型类使用`Math.Min`或`Math.Max`。将`T`是`int`或`double`或`decimal`类型。

我怎么能轻松解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T06:45:58.427

编写自己的通用`Max`和`Min`

```
public static T Max<T>(T x, T y)
{
    return (Comparer<T>.Default.Compare(x, y) > 0) ? x : y;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T06:46:25.837

算术运算没有通用解决方案。但是对于简单的比较，您可以自己简单地实现它：

```
T Min<T>(T x1, T x2) where T:IComparable<T>
{
  int comp=x1.CompareTo(x2);
  if(comp<=0)
    return x1;
  else
    return x2;
} 
```

但我通常会避免`IComparable<T>`约束，而是要求用户作为参数传入构造函数，如果他没有指定，则`IComparer<T>`默认为。`Comparer<T>.Default`

这种技术甚至允许在未实现的类型上使用该类`IComparable<T>`，前提是用户传递了替代实现。

```
class Foo<T>
{
  readonly IComparer<T> _comparer;

  public Foo()
    :this(Comparer<T>.Default)
  {
  }

  public Foo(IComparer<T> comparer)
  {
    _comparer=comparer;
  }

  T Min(T x1, T x2)
  {
    int comp = _comparer.Compare(x1,x2);
    if(comp <= 0)
      return x1;
    else
      return x2;
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T06:52:16.167

好的，所以它将是一个 int、decimal 或 double，所以丑陋的 hack 是做类似的事情

```
if not null
   if(decimal.tryparse(val.ToString(), out aDecimal))
      and if the other value can be made into a decimal
          return math.max or min or what ever. 
```

我已经后悔使用伪代码了...

根据您包含的数字类型，您只需将其中最大的用于上述检查。

请注意，一旦有人说，“嘿，这个类是通用的，让我们将它与一个包含小数的类一起使用”，你最终会陷入痛苦的世界，然后是时候看看这里发布的其他一些选项了。

# c++ - 奇怪的 sizeof() 结果

> ID：11644063
> 
> 赞同：1
> 
> 时间：2012-07-25T06:43:51.970
> 
> 标签：c++, c

当我在我的 Mac 上运行 sizeof(r) 时。它说**sizeof(r) = 1**。我的理解是联合的大小是其最大元素的大小。在这种情况下，最大的元素不应该是 struct 吗？

```
union
{
    struct
    {
        char i:1;
        char j:2;
        char m:3;
    }s;

    char ch;
}r; 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-25T06:52:11.097

您的联合由两部分组成，一个结构和一个字符。联合的大小，因为它共享内存，是最大元素的大小，加上它粘贴的任何填充的大小（在你的情况下是 0 字节）。

首先，让我们看看每个大小的 ideone 报告：http:
[//ideone.com/LAhop](http://ideone.com/LAhop)

好的，两者都是 1。因此，联合的大小也必须为 1。

该结构由位域组成。一位是 1 位，一位是 2 位，一位是 3 位。这在一个字节中给出了 8 位中的总共 6 位。因为无论如何它必须至少是一个字节（位域的大小并不是真的以位为单位），所以大小为 1。

至于 char，这是 C++11 标准在 § 3.9.1/1 [ **basic.fundamental** ] 中所说的：

```
Objects declared as characters (char) shall be large enough to store any member 
of the implementation’s basic character set. 
```

~~对于几乎每个平台，这是一个字节。~~
这是一个字节。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-25T06:51:14.787

struct s 占用 1 + 2 + 3 = 6 位，这些位适合 1 个字节，并且它与 1 个字节的 char 联合。因此答案是 1 个字节。

# db2 - 如何在 IBM DataStudio 中查看 DB2 存储过程的解释计划？

> ID：11644064
> 
> 赞同：0
> 
> 时间：2012-07-25T06:43:51.477
> 
> 标签：db2, ibm-data-studio

如何在 IBM DataStudio 中查看整个 SP 的访问计划以及成本，我可以针对单个查询查看它，但是当我对存储过程执行相同操作时，它会引发错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T10:08:07.230

找到了答案，使用命令窗口中的 db2expln 可执行文件，我能够为存储过程生成执行计划。

# android - 写入外部存储中的文件时如何处理 BufferedWriter 对象

> ID：11644068
> 
> 赞同：0
> 
> 时间：2012-07-25T06:44:10.967
> 
> 标签：android

我正在使用以下方法将字符串写入android中的文件：

```
BufferedWriter writer = new BufferedWriter(new FileWriter(order));
        writer.append(placedOrder); 
```

我是否使用

```
writer.write(placedOrder); // or
writer.append(placedOrder); 
```

每次我运行此代码时，文件的数据都会被删除。我想将数据添加到文件末尾。

例如：当我第一次跑步时：

```
file output
My 
```

例如：当我第二次跑步时：

```
file output becomes
My
Name 
```

例如：当我第三次跑步时：

```
file output
My
Name
is 
```

例如：当我第四次跑步时：

```
file output
My
Name
is
Hisham. 
```

等等。就像记录所有以前的输出一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:25:43.493

您当前的代码使用默认附加模式设置为 false 的 FileWriter。您需要使用可以将 append 设置为 true 的构造函数：

> **public FileWriter (File file, boolean append) 自：API Level 1**
> 
> 使用 File 文件创建一个 FileWriter。参数 append 确定文件是打开并附加到还是刚刚打开并覆盖。
> 
> 参数
> file ：要写入字节的非空文件。
> append ：指示是否追加到现有文件。

# mysql - 从mysql查询中的字符串中提取字符串

> ID：11644070
> 
> 赞同：1
> 
> 时间：2012-07-25T06:44:21.750
> 
> 标签：mysql

我有这个查询： -

```
 select col_str,
 getVal,another_str,resultVal_str from tablename 
```

得到这样的结果：

```
 col_str                                        getVal   another_str              
'11,12,33,54,1,44'                              '12'    '9,5,4,8,7'               
'11,12,33,54,1,44,10,12,11,12,12'               '44'    '9,5,4,8,7,6,3,5,2,4,2'   
'11,12,33,54,1,44'                              '999'   '9,5,4,8,7,4'             
'11,12,33'                                      '0'     '9,5,4'                   
-----                                           ----      -----                   
-----                                           ----      -----                   
-----                                           ----      ----- 
```

列`col_str,getVal,another_str`来自表，列`resultVal_str`要根据剩余的三列计算，逻辑为`resultVal_str`-

查看第一条记录`getVal`的值为 12 并`col_str`在位置编号 2 处具有 12，然后查看位置编号 2`another_str`为 5，因此`resultVal_str`为 5，依此类推。见下文：

```
col_str                                        getVal   another_str               resultVal_str
'11,12,33,54,1,44'                              '12'    '9,5,4,8,7'                  5
'11,12,33,54,1,44,10,12,11,12,12'               '44'    '9,5,4,8,7,6,3,5,2,4,2'      6
'11,12,33,54,1,44'                              '999'   '9,5,4,8,7,4'                0
'11,12,33'                                      '0'     '9,5,4'                      0
-----                                           ----      -----                     ---
-----                                           ----      -----                     ---
-----                                           ----      -----                     --- 
```

我如何添加下一列`resultVal_str`并获得类似上面的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:52:42.203

首先，您需要使用函数`getVal`找到 col_str 中的位置。`FIND_IN_SET`

一旦你得到位置，你可以在使用函数的`resultVal`相同位置找到：`another_str``SUBSTRING_INDEX`

```
SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(another_str, 
                       ",", (FIND_IN_SET(getVal, col_str))), 
                       ",", - 1) AS resultVal_str
FROM tablename; 
```

测试：

```
SET @getVal = '12', @col_str = '11,12,33,54,1,44', @another_str = '9,5,4,8,7';

SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(@another_str, ",", (FIND_IN_SET(@getVal, @col_str))), ",", - 1) AS resultVal_str; 
```

# android - 如何从Android中的资源访问本地xml文件？

> ID：11644073
> 
> 赞同：0
> 
> 时间：2012-07-25T06:44:39.523
> 
> 标签：android, xml, resources

我是 Android 应用程序的新手，`data.xml`在 Resource 文件夹中创建一个 xml 文件，然后我尝试访问该本地 xml 文件，但我无法获取它。

但是android资源文件夹并使用这种方式将rawresource打开到xml文件中res下的原始文件夹 `data.xml`，我访问该xml文件，如下所示：

```
InputStream is = this.getResources().openRawResource(R.raw.data); 
```

但是使用本地xml文件无法访问，请帮助我。

谢谢

![在此处输入图像描述](../Images/c5394a6c81a3662fd6c168820345d97d.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:47:03.063

原始 xmls 应该在 Assets 文件夹中，并且要访问 assets 文件夹中的文件，请使用：

```
AssetManager assetManager = getAssets();
InputStream in= assetManager.open("data.xml"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T06:46:17.100

在 . 下添加您的`data.xml`文件`raw folder`。插入后，您将不会收到此类错误。

# c++ - 自动生成的依赖导致编译缓慢

> ID：11644074
> 
> 赞同：3
> 
> 时间：2012-07-25T06:44:49.270
> 
> 标签：c++, boost, dependencies, makefile

我正在使用几个 boost 库并使用下面的规则来生成自动依赖项。我认为 boost headers 确实减慢了编译速度，因为没有 Makefile 中包含的依赖项，编译项目的速度大约快了 10 倍。有没有办法通过生成的依赖项来提高速度？

```
%.o: %.cc
  $(CXX) $(CFLAGS) $(INCLUDES) -MD -c $< -o $@
  @mv $*.d .deps/
  @cp .deps/$*.d .deps/$*.tmp
  @sed -e 's;#.*;;' -e 's;^[^:]*: *;;' -e 's; *\\$$;;' \
    -e '/^$$/d' -e 's;$$; :;' < .deps/$*.tmp >> .deps/$*.d
  @rm .deps/$*.tmp 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T08:29:29.193

由于您可能不会更改 boost 标头，因此没有理由将它们添加为依赖项。通过使用 -MMD 生成依赖文件，系统头文件应该被忽略，因此你的依赖文件应该变得更小，这意味着你必须扫描更少的硬盘驱动器来查看文件是否仍然是最新的等等。当然你有包含带有 <> 而不是“”的标题。

# c# - WCF 的发布者订阅者模式

> ID：11644080
> 
> 赞同：0
> 
> 时间：2012-07-25T06:45:30.820
> 
> 标签：c#, wcf, publisher, subscriber

我已经使用 WCF 一段时间了，我在 MSDN 上看到了几篇关于 WCF 的发布者订阅者模型的文章。

我即将开始的项目中的一项要求要求我让一台服务器将消息发送到多台服务器，因此，我对发布者/订阅者模型有一些疑问

我主要关心的是：

如果我的 5 个订阅者中有 2 个因 PC 重新启动而断开连接，会发生什么情况。当他们重新连接时，我是否必须手动处理发布者将消息重新发送给 2 个订阅者？

我需要发布者发出的每条消息都积极地到达所有其他订阅者，如果他们离线，发布者必须负责在订阅者重新在线时重新发送消息。因为发布者可以发送很多消息，这是否意味着我需要某种排队机制来存储所有应该发送给离线订阅者的消息，并在他们回来时重新发送它们在线的？

使用 WCF 的发布者/订阅者模式是否适合我的场景？是否有任何模型支持断开连接的订阅者，当订阅者重新在线时自动重新发送，还是我必须自定义代码来处理这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:41:20.417

你可以试试 MSMQ，WCF 支持。发布者将消息发送到 5 个队列；每个消费者都会读取它的队列。

# jquery - Internet Explorer 7 中隐藏在表格单元格后面的弹出帮助框

> ID：11644084
> 
> 赞同：0
> 
> 时间：2012-07-25T06:45:38.800
> 
> 标签：jquery, html, css

好的，如果您在 Internet Explorer 7 中查看[此站点](http://viktor.hembrink.se/4it/resus/grid2/)（我使用 IE 9 中的浏览器模式工具；只需按 F12）。当悬停在第一行的表格单元格上时，帮助框`<div class="help">`隐藏在第二行（好的：第三行）的`background`属性后面。

为什么是这样？它适用于 Chrome、Firefox、Opera 和 IE 8-9（尽管 jQuery 脚本由于某种原因在 IE 8 中被搞砸了）。我尝试过降低`z-index`,和`<table>`，但还没有成功。`<tr>``<td>`

**编辑#1。**哦，是的，IE 7 中没有显示表格中的所有边框。这很奇怪，不是吗？

**编辑#2。**CodeJack 的 jQuery 解决方案似乎有效。

```
if ($.browser.msie && $.browser.version == "7.0") {
    var z = 1000;

    $("table, tr, th, td, div").each(function() {
        $(this).css("z-index", z);
        z -= 10;
    });
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:00:05.370

Z-Index 在 IE7 中无法正常工作。但是有办法。

一个解决方案可以是（绝对）在 div 后面放置一个 opactiy 设置为 0 (CSS:filter:alpha(opacity=0)) 的 iframe。iframe 必须具有相同的宽度和高度，并放置在 div 的相同位置（但在后面）。

对于 Jquery，这里有解决方案

[http://www.vancelucas.com/blog/fixing-ie7-z-index-issues-with-jquery/](http://www.vancelucas.com/blog/fixing-ie7-z-index-issues-with-jquery/)

**编辑：**关于边框使用`margin-collapse`而不是`border collapse`

# php - php语句是同步执行的吗？

> ID：11644086
> 
> 赞同：0
> 
> 时间：2012-07-25T06:45:49.983
> 
> 标签：php

好的，这似乎是一个愚蠢的问题，我当然应该知道答案，但是我有一些奇怪的行为，我的一个类的构造函数检查表是否存在，如果不存在，它会创建它。

奇怪的是当表不存在时，如果多次调用构造函数，那么它看不到应该在第一次构造函数调用时创建的表。

**PHP中的所有函数调用都是同步的吗？**

例如：

```
f1();
f2(); 
```

口译员在调用之前是否等待`f1()`返回`f2()`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:47:23.997

> 口译员在调用之前是否等待`f1()`返回`f2()`？

是的，即使`f1()`启动了其他异步任务。

# java - sendKeys.RETURN 在 FirefoxDriver 中不起作用

> ID：11644096
> 
> 赞同：1
> 
> 时间：2012-07-25T06:46:31.840
> 
> 标签：java, firefox, sendkeys, enter, selenium-webdriver

如果我在 FireFoxDriver 中执行以下代码：

```
WebElement element = driver.findElements(By.id("some_id")); // element being a textbox
element.sendKeys("apple"); 
element.sendKeys(Keys.RETURN); 
```

`sendKeys(Keys.RETURN)`没有执行其所需的功能。实际上，我想做的是在动态文本搜索框中输入文本（如 facebook 搜索中的文本），然后按 Enter。输入工作正常，但不是回车键。

`sendKeys("apple")`工作，甚至`sendKeys(Keys.BACK_SPACE)`工作，但不是`Keys.RETURN`。

有人有想法吗？多谢你们！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-07T06:16:23.787

不完全确定为什么会发生这种情况，但有几种替代方法可能会有所帮助：

如果元素在表单中，并且没有在提交时运行的 javascript 或您可以在任何表单输入元素（例如输入和文本区域）上使用 .submit() 的东西：

```
WebElement element = driver.findElements(By.id("some_id"));
element.sendKeys("apple");
element.submit() 
```

您可以使用输入发送换行符：

```
WebElement element = driver.findElements(By.id("some_id"));
element.sendKeys("apple\n"); 
```

提供 send_keys 一个列表：

```
WebElement element = driver.findElements(By.id("some_id"));
element.sendKeys("apple", Keys.ENTER); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-26T09:29:39.810

得到了上述问题的解决方案。你只需要添加一个延迟。发生这种情况是因为 Java 类运行得太快，所以如果你已经发送了一个调用，并按下了 enter/tab，在元素到达之前，按下了 enter，这就是为什么这不起作用。只需添加 Thread.delay(1000); 在您的 Keys.RETURN 命令之前。那会做的。为我工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T13:45:10.417

我尝试发送 \n 并摆弄各种命令，直到我发现有人解释说“keyPress（目标）13”将发送返回键。

所以首先我使用 type 输入我想要的字符串...

*

```
*<tr>
    <td>type</td>
    <td>id=status</td>
    <td>This is my test string</td>
</tr>* 
```

*

...然后将 Enter 键发送到相同的文本输入框

*

```
*<tr>
    <td>keyPress</td>
    <td>id=status</td>
    <td>13</td>
</tr>* 
```

*

# c# - Windows 安装程序和设置应用程序放在一个文件中？

> ID：11644097
> 
> 赞同：4
> 
> 时间：2012-07-25T06:46:32.887
> 
> 标签：c#, visual-studio-2010, windows-installer, installation

我已经使用 Visual Studio 在 C# 中编写了一个应用程序，我已经制作了一个项目设置文件，该文件在我的调试中为我创建了文件。

Windows Installer 和安装应用程序都是必需的，但我想将它们合并为一个，就像当您下载应用程序时，安装程​​序只是一个文件。

有人可以告诉我如何做到这一点，或者只是将我指向一个好的来源。

![在此处输入图像描述](../Images/760bd21e87936307ebda04ccc5bd5b73.png)

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-25T08:09:21.870

如果您使用 Visual Studio 的内置安装项目模板来生成安装程序，则根本不需要该`setup.exe`文件。

您唯一需要分发的是`.msi`文件。其中包含用户安装应用程序所需的一切。该`setup.exe`文件只是一个存根，它从文件中的信息启动安装例程，该`.msi`文件是 Windows 安装程序用来安装应用程序的数据库。如果安装了 Windows Installer 服务，则可以通过双击这些文件来启动这些文件，因此`setup.exe`如果您不想分发引导程序，您真的不需要分发。

您可能想要分发`setup.exe`文件的一些特殊原因是：

*   出于某种原因，您预计您的用户可能没有在他们的计算机上安装所需版本的 Windows Installer。如今，这种情况变得非常罕见，尤其是考虑到宽带互联网连接的广泛性以及操作系统供应商在推动自动更新方面的努力程度。但是，如果您的用户“断开连接”（在许多意义上），您可能需要使用安装程序可执行文件来验证是否存在必要版本的 Windows 安装程序，如果不存在则安装它，然后启动您的`.msi`文件以执行安装。`.msi`（如果没有安装 Windows Installer，则无法运行文件。）

*   您需要支持多种语言。在这种情况下，文件可以在启动安装程序之前`setup.exe`对文件执行语言转换。`.msi`

*   您想按`.msi`顺序管理多个文件的安装。Windows Installer 的设计方式很难链接`.msi`文件的安装，这使得在安装自己的应用程序文件之前或之后安装依赖项变得困难。文件`setup.exe`不受 Windows Installer 的限制，因此可以用来链接这些并精确管理安装顺序。

*   通常，创建您自己的`setup.exe`文件（或使用众多第三方安装程序软件包之一为您创建）会给您带来更大的灵活性。您基本上可以完全控制安装过程，而不必遵循 Windows Installer 的规则。

但在 83.44% 的情况下，这不是必需的，您应该遵循更简单的使用`.msi`文件的方法。这还允许系统管理员跨他们管理的机器（例如，整个公司网络）自动安装，这是原始可执行文件不支持的。

# iphone - 使用 GCD 的图像加载动画问题

> ID：11644098
> 
> 赞同：0
> 
> 时间：2012-07-25T06:46:35.203
> 
> 标签：iphone, ios5, uitableview, uiimageview, grand-central-dispatch

嗨，我正在使用**GCD 在 uitableview 中加载图像**。现在，问题是图像动画。我从服务器调用了三个图像，它加载到单元中，但我遇到了 3 个问题

1) 单个图像在所有三个单元格中重复

2）第一个和最后一个单元格图像闪烁和变化

3）当图像改变时，它在所有单元格中重复。

即使我没有动画，它仍然动画，即闪烁

代码：

```
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
}

// Configure the cell...

[imageArray retain];

//get a dispatch queue
dispatch_queue_t concurrentQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
 //this will start the image loading in bg
 dispatch_async(concurrentQueue, ^{ 
     NSData *image = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:[imageArray objectAtIndex:indexPath.row]]];

     //this will set the image when loading is finished
     dispatch_async(dispatch_get_main_queue(), ^{
        cell.imageView.image = [UIImage imageWithData:image];

         [tableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationNone];
         });
    });

return cell; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:04:04.860

你不应该在这个地方下载图像。

如果您没有太多行，请在例如执行此操作。viewDidLoad 并将下载的图像保存到新的可变数组中。

像这样的东西：

```
- (void) viewDidLoad {
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0ul);
dispatch_async(queue, ^{
        int row = 0;
        self.thumbnails = [NSMutableArray array];
        for (NSString *imageURLString in imageArray) {
        //Your way of download images
        NSData *imageData = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:imageURLString]];
        UIImage *image = [UIImage imageWithData:imageData];
        dispatch_async(dispatch_get_main_queue(), ^{
            [self.thumbnails addObject:image];
            NSArray *indexes = [NSArray arrayWithObject:[NSIndexPath indexPathForRow:row inSection:1]];
            [self.tableViewOutlet reloadRowsAtIndexPaths:indexes withRowAnimation:UITableViewRowAnimationNone];
        });
        row++;
    }
});
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
        if (self.thumbnails && [self.thumbnails count] > indexPath.row) {
            cell.attachmentImageView.image = [self.thumbnails objectAtIndex:indexPath.row];
        } else {
            cell.attachmentImageView.image = nil;
        }
} 
```

# java - 正则表达式与从 Formatter 对象获取的换行符不匹配

> ID：11644100
> 
> 赞同：25
> 
> 时间：2012-07-25T06:46:45.957
> 
> 标签：java, regex, formatter

`%n`当通过使用in `Formatter`object 或获取换行符时，我无法匹配包含换行符的字符串`String.format()`。请看下面的程序：

```
public class RegExTest {

  public static void main(String[] args) {
    String input1 = String.format("Hallo\nnext line");
    String input2 = String.format("Hallo%nnext line");
    String pattern = ".*[\n\r].*";
    System.out.println(input1+": "+input1.matches(pattern));
    System.out.println(input2+": "+input2.matches(pattern));
  }

} 
```

及其输出：

```
Hallo
next line: true
Hallo
next line: false 
```

这里发生了什么？为什么第二个字符串不匹配？

Java 版本为 1.6.0_21。

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-07-25T06:49:31.717

您可以设置`Pattern.DOTALL`标志以`.`匹配换行符，默认情况下它不会。它是用`(?s)`符号完成的。所以，这个正则表达式做你想要的：

```
 String pattern = "(?s).*[\n\r].*"; 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-07-25T08:50:06.530

在 Windows 上，在 Java 中`\n`是 LF、`\r`CR 和`%n`CRLF。您的模式与后者不匹配。

从 Java 8 开始，您现在可以[`\R`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)在正则表达式中使用来匹配任何行尾序列。

> 换行符匹配器
> 
> `\R`任何 Unicode 换行序列，都等价于`\u000D\u000A|[\u000A\u000B\u000C\u000D\u0085\u2028\u2029]`

例子：

```
String pattern = ".*\\R.*";
String.format("Hallo\nnext line").matches(pattern); // true
String.format("Hallo%nnext line").matches(pattern); // true
String.format("Hallo same line").matches(pattern); // false 
```

# web-services - Foursquare 的商品现在降价了吗？

> ID：11644104
> 
> 赞同：3
> 
> 时间：2012-07-25T06:46:58.270
> 
> 标签：web-services, api, foursquare

我习惯于签到

> [https://api.foursquare.com/v2/venues/4b64c88af964a520d4cf2ae3/herenow?oauth_token=XXXXXXX&v=20120725](https://api.foursquare.com/v2/venues/4b64c88af964a520d4cf2ae3/herenow?oauth_token=XXXXXXX&v=20120725)

但昨天，我意识到我的应用程序无法正常工作。我无法获得物品[]（在特定场所检查的人）。像这样检索 json 的 Web 服务；

```
{
   meta: {
   code: 200
}
notifications: [
{
  type: "notificationTray"
  item: {
  unreadCount: 0
}
}
]
response: {
hereNow: {
  count: 16
  items: [ ]
}
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T17:24:06.753

seriakillaz 是对的——您看到的行为是故意的，并且在他链接到的电子邮件中进行了描述。

不过，总的来说，如果您正在检查一个地方，hereNow*会像以前一样工作（官方的foursquare 应用程序使用我们公开记录的相同端点）。*

如果您在考虑新政策后遇到问题，请查看我对 seriakillaz 问题的回复： [hereNow not working as expected](https://stackoverflow.com/questions/11646322/herenow-not-working-as-expected/11655103#11655103)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:59:55.903

他们刚刚更改了 hereNow 端点：[https ://groups.google.com/forum/?fromgroups#!topic/foursquare-api/rmS0DbKKOHo](https://groups.google.com/forum/?fromgroups#!topic/foursquare-api/rmS0DbKKOHo)

但是，即使我在某个地方办理登机手续，它也对我不起作用......

# javascript - 如何应用 2 个背景颜色规则（父母和孩子） 在定制手风琴中？

> ID：11644107
> 
> 赞同：0
> 
> 时间：2012-07-25T06:47:04.433
> 
> 标签：javascript, jquery, css, background-color

参考：[**jsFiddle**](http://jsfiddle.net/gfkM4/15/)

上面的 jsFiddle 有一个`li`类名的元素`accordion`，我们称之为***父元素***。使用 jQuery 选择它后，将应用自定义`background-color`的`green`。

但是，我还需要一个**子元素**`li`，确切地说是 anchors元素，以便在 jQuery在初始选择***特定 anchor***`teal`期间对其应用类名时具有颜色。`active`

 ***HTML：**

```
<ul class="tabs">

   <li class="accordion"><a href="#tab1">Boo1</a>

      <ul id="sub-nav">
         <li><a href="#"> Ipsum Text</a></li>
         <li><a> Lorem text</a></li>
         <li><a> More lorem text </a></li>
         <li><a> Dolor Sit Amet </a></li>
      </ul>                                   

  </li>

  <li><a href="#tab2">Boo2</a></li>
  <li><a href="#tab3">Boo3</a></li>
  <li class="last-item"><a href="#tab4">Boo4</a></li>

</ul> 
```

**CSS：**

```
.tabs li.active { background: green; }
.tabs li {font-size:20px;}
#sub-nav li {font-size:16px; margin-left:20px;}
#sub-nav li a.active {background:teal;} 
```

**jQuery：**

```
(function(){

    $('.tabs li').on('click', function(e){
        $('.tabs li').removeClass('active');
        $(this).addClass('active');
        $(this).closest('ul').closest('li').children('a').addClass('active');
    })       

}()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T06:58:34.260

这是[你](http://jsfiddle.net/JR6UD/)想要的吗？`$("ul li a", $(this))`是“潜艇的锚标签”。*

# android - Android ScrollView 占据所有屏幕

> ID：11644110
> 
> 赞同：-1
> 
> 时间：2012-07-25T06:47:14.727
> 
> 标签：android, user-interface

```
<ScrollView
    android:id="@+id/scroll"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_marginTop="15dp"
    android:layout_marginRight="15dp"
    android:layout_marginLeft="15dp"
    android:layout_marginBottom="5dp"
    android:background="@drawable/background">
    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">
        <TextView 
            android:id="@+id/textt" 
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            style="@style/textstyle" />  
    </LinearLayout> 
</ScrollView>
<Button
    android:id="@+id/nextbutton"
    style="@style/nextButton"
    android:background="@drawable/next_button"   
    android:text="@string/xxx"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:gravity="center"
    android:onClick="ethod" /> 
```

当文本视图很长时，滚动会占据整个屏幕，并且没有按钮和其他显示应该在底部的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:21:59.200

我不太确定，但您可以尝试这种方法：

你的 XML：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="5dp"
        android:layout_weight="0.25"
        android:editable="false"
        android:inputType="textMultiLine"
        android:text="This is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng textThis is very very very loooooooooooooonnnnnnnnnnnng text.This is very very very loooooooooooooonnnnnnnnnnnng text.This is very very very loooooooooooooonnnnnnnnnnnng text." >

        <requestFocus />
    </EditText>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="2dp"
        android:layout_marginRight="2dp"
        android:orientation="horizontal" >

        <Button
            android:id="@+id/btn_chkin"
            android:layout_width="0dip"
            android:layout_height="50dip"
            android:layout_marginBottom="5dip"
            android:layout_marginRight="2dip"
            android:layout_marginTop="5dip"
            android:layout_weight="1"
            android:text="Accept" />
    </LinearLayout>

</LinearLayout> 
```

在`onCreate()`您的活动中：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.test);
    EditText ed = (EditText) findViewById(R.id.editText1);
    ed.setSelection(0);
    ed.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            getWindow()
                    .setSoftInputMode(
                            WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
        }
    });
} 
```

这不是一个完美的解决方案，但很接近。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T09:39:39.503

在一个RelativeLayout中有ScrollView和ButtonView，LayoutParams如下：

```
<RelativeLayout android:id="@+id/parent"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

<ScrollView
    android:id="@+id/scroll"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_alignParentTop="true"
    android:layout_above="@+id/nextbutton"
    android:layout_marginTop="15dp"
    android:layout_marginRight="15dp"
    android:layout_marginLeft="15dp"
    android:layout_marginBottom="5dp"
    android:background="@drawable/background">
    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">
        <TextView 
            android:id="@+id/textt" 
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            style="@style/textstyle" />  
    </LinearLayout> 
</ScrollView>
<Button
    android:id="@+id/nextbutton"
    style="@style/nextButton"
    android:background="@drawable/next_button"   
    android:text="@string/xxx"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:gravity="center"
    android:onClick="ethod" /> 

</RelativeLayout? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T06:59:17.400

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ScrollView
        android:id="@+id/scroll"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_marginBottom="5dp"
        android:layout_marginLeft="15dp"
        android:layout_marginRight="15dp"
        android:layout_marginTop="15dp" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/textt"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:text="afgfffffffjbhhjkhholhjbhlkjhhhhhhhhhhhhhhhhhhhhhhhkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk" />
        </LinearLayout>
    </ScrollView>

    <Button
        android:id="@+id/nextbutton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:gravity="center"
        android:onClick="ethod"
        android:text="button" />

</RelativeLayout> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-25T06:54:11.753

```
 <ScrollView
android:id="@+id/scroll"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignParentTop="true"
android:layout_marginTop="15dp"
android:layout_marginRight="15dp"
android:layout_marginLeft="15dp"
android:layout_marginBottom="40dip"
android:background="@drawable/background">
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content">
    <TextView 
        android:id="@+id/textt" 
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        style="@style/textstyle" />  
</LinearLayout> 
```

```
<Button
android:id="@+id/nextbutton"
style="@style/nextButton"
android:background="@drawable/next_button"   
android:text="@string/xxx"
android:layout_alignParentBottom="true"
android:layout_centerHorizontal="true"
android:gravity="center"
android:onClick="ethod" 
```

android:layout_width="fill_parent" android:layout_height="40dip" />

现在检查它，即使您滚动完成，它也会在底部显示按钮。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-25T06:55:41.423

如果您使用 LinearLayout - 使用 Kumar 所说的权重。我在您的问题中的选择是使用 RelativeLayout 和 ScrollView 的“上方”属性（如果您想要滚动视图下方的静态按钮）。

如果您想要 ScrollView 中 TextView 下的 Button - 将按钮元素带入 ScrollView。

# actionscript - 如何在 JSFL 文件中包含一些 js 文件？

> ID：11644113
> 
> 赞同：2
> 
> 时间：2012-07-25T06:47:24.557
> 
> 标签：actionscript, jsfl

我正在使用 JSFL 编写一些脚本，我需要从一些配置文件中解析 json 字符串，所以我需要 JSFL 可以解析 json 字符串，但是 JSFL 似乎不能这样做。然后我想在 JSFL 文件中包含一些 json lib，比如 json.js。

我可以将 json.js 文件包含到我的 JSFL 文件中吗？

对不起我的英语不好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T02:24:03.030

绝对最低限度是：

```
// #include Config._jsfl
var scriptPath = FLfile.uriToPlatformPath(fl.scriptURI);
var scriptPathEnd = scriptPath.lastIndexOf("\\");
scriptPath = scriptPath.slice(0, scriptPathEnd + 1);
fl.runScript(FLfile.platformPathToURI(scriptPath + "Config._jsfl"));            /*jsl:import Config._jsfl*/ 
```

这或多或少是从我的代码中复制的，包括 JSL 标记。我将任何库的扩展名设为 ._jsfl，这样如果它位于 Flash 的 Commands 文件夹中，它们就不会出现在菜单中。

我编写了一组静态类（日志系统、URI 转换、数组实用程序函数）并编写了一个全局`include`函数，使用它们根据运行脚本的位置自动将相对路径转换为绝对 URI，这样我就可以说`include("file._jsfl");`简化我的脚本。但是，我所有的脚本都必须首先包括如上所示才能获得该`include`功能。由于我的 include 函数依赖于一些静态类，所以我没有在这里粘贴它。

编辑：拼写错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-07T02:41:31.813

如果库是本地的，您可以将其存储在 Flash 配置路径的子文件夹中，即

```
C:\Users\username\AppData\Local\Adobe\Flash CS6\language\Configuration\jslibs 
```

然后，很容易将它包含在一行中：

```
fl.runScript(fl.configURI + "jslibs/file.js"); 
```

# c# - 使用“graphics.DrawString”后如何提高打印文本质量？

> ID：11644115
> 
> 赞同：3
> 
> 时间：2012-07-25T06:47:30.513
> 
> 标签：c#, graphics, bitmap, drawstring

打印后我的文字质量有问题！它不平滑和抗锯齿！

这是故事：

**我从位图（ Graphics.FromImage(MyBitmap)**）创建了一个图形，*我认为这是我的问题的起点，因为我不能使用 PrintPageEvenArg(e) ，但我别无选择！*

之后我开始在这个图形上写一些文字：

通过阅读本网站和其他一些类似问题的答案，我对我的图形属性进行了一些更改，例如 SmoothingMode、TextRenderingHint ......

```
 SolidBrush sb = new SolidBrush(Color.White);
  graphics.FillRectangle(sb,oRectangle); //it was suggested to be done before antialiases inorder to get effects

  graphics.TextRenderingHint = TextRenderingHint.AntiAlias; //I also tried ClearTypeGridFit
  graphics.SmoothingMode = 
        System.Drawing.Drawing2D.SmoothingMode.AntiAlias;
  graphics.InterpolationMode = InterpolationMode.HighQualityBicubic;
  graphics.PixelOffsetMode = PixelOffsetMode.HighQuality;
  graphics.CompositingQuality = CompositingQuality.HighQuality;
  graphics.CompositingMode = CompositingQuality.SourceOver;

  graphics.DrawString(strValue, boxStyle.Font, sb, oRectangle, StringFormat); 
```

通过抗锯齿，我得到了更好的平滑边缘，但我看到我的文本附近有很多额外的像素，我的文本颜色似乎变得更亮，所以我可以说通过平滑边缘我的文本质量甚至变得更糟！

请帮帮我！提前谢谢:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T12:17:08.223

尝试使用[此解决方案](http://www.codeproject.com/Articles/15394/Drawing-smooth-text-and-pictures-on-the-extended-g)（GraphicsPath）。在我的项目中效果很好。

# game-maker - Game Maker Code 反其道而行之？

> ID：11644118
> 
> 赞同：1
> 
> 时间：2012-07-25T06:48:00.403
> 
> 标签：game-maker, game-maker-language

```
if keyboard_check('D')
{
    x = x + 4
    sprite_index = spr_playerRight
} 
```

一旦我开始游戏，玩家精灵就会开始向右移动。但是，正如您所看到的，这不应该发生……对吧？

当我真正按下 D 时，它会执行小块的 (Else) 部分。

知道为什么会这样吗？我对此有点陌生。

编辑：我有点搞砸了，我交换了代码（来自else的IF），一开始我不会移动，但按任何键都会让我移动。

另一个编辑：Else 将在不应用 D 键时应用的事实让我意识到（如果这确实工作正常）这个 else 会侵入尝试移动其他方向（按下任何按钮将停止移动）

另一个编辑：我将keyboard_check 更改为keyboard_check(vk_right) 它工作得很好。我相信这是我如何声明密钥的简单问题......**如何正确声明密钥？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-25T07:01:29.410

根据[文档](http://wiki.yoyogames.com/index.php/Keycode_constants)，它应该是：

```
if keyboard_check(ord('D')) 
```

# android - 应用程序在android中意外停止

> ID：11644124
> 
> 赞同：2
> 
> 时间：2012-07-25T06:48:36.227
> 
> 标签：android, sqlite

我正在使用 SQLite 应用程序。我的应用程序打开了任何其他活动。

这是代码

```
 public class hotornot {
        public static final String KEY_ROWID = "_id";
        public static final String KEY_NAME = "persons_name";
        public static final String KEY_HOTNESS = "persons_hotness";
        private static final String DATABASE_NAME = "HotorNotdb";
        private static final String DATABASE_TABLE = "peopletable";
        private static final int DATABASE_VERSION = 1;
        private DbHelper ourHelper;
        private final Context ourcontext;
        private SQLiteDatabase ourDatabase;

        private static class DbHelper extends SQLiteOpenHelper {

            public DbHelper(Context context) {
                super(context, DATABASE_NAME, null, DATABASE_VERSION);
            }

            @Override
            public void onCreate(SQLiteDatabase db) {
                // TODO Auto-generated method stub
                db.execSQL("CREATE TABLE " + DATABASE_TABLE + " (" + KEY_ROWID
                        + " INTEGER PRIMARY KEY AUTOINCREMENT, " + KEY_NAME
                        + " TEXT NOT NULL, " + KEY_HOTNESS + " TEXT NOT NULL);"

                );
            }

            @Override
            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                // TODO Auto-generated method stub
                db.execSQL("DROP TABLE IF EXISTS " + DATABASE_TABLE);
                onCreate(db);
            }

        }

        public hotornot(Context c) {
            ourcontext = c;
        }

        public hotornot open() throws SQLException {
            ourHelper = new DbHelper(ourcontext);
            ourDatabase = ourHelper.getWritableDatabase();
            return this;
        }

        public void close() {
            ourHelper.close();
        }

        public Long createentry(String name, String hotness) {
            ContentValues cv = new ContentValues();
            cv.put(KEY_NAME, name);
            cv.put(KEY_HOTNESS, hotness);
            return ourDatabase.insert(DATABASE_TABLE, null, cv);
        }

        public String getdata() {
            // TODO Auto-generated method stub
            String[] columns = new String[] { KEY_ROWID, KEY_NAME, KEY_HOTNESS };
            Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null,
                    null, null);
            String result = "";

            int iRow = c.getColumnIndex(KEY_ROWID);
            int iName = c.getColumnIndex(KEY_NAME);
            int iHotness = c.getColumnIndex(KEY_HOTNESS);

            for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
                result = result + c.getString(iRow) + " " + c.getString(iName)
                        + " " + c.getString(iHotness) + "\n";
            }

            return result;
        }
    } 
```

这是清单文件：

```
<activity
    android:name=".sqliteexample"
    android:label="@string/app_name" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>

</activity>
<activity
    android:name=".sview"
    android:label="@string/app_name" >
    <intent-filter>
        <action android:name="org.sqlite.SVIEW" />
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
</activity> 
```

和日志猫：

```
07-25 12:38:12.349: ERROR/AndroidRuntime(323): Uncaught handler: thread main exiting due to uncaught exception
07-25 12:38:12.399: ERROR/AndroidRuntime(323): java.lang.RuntimeException: Unable to start activity ComponentInfo{org.sqlite/org.sqlite.sview}: android.database.sqlite.SQLiteException: no such table: peopletable: , while compiling: SELECT _id, persons_name, persons_hotness FROM peopletable
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at   android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.ActivityThread.access$2200(ActivityThread.java:119)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.os.Looper.loop(Looper.java:123)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.ActivityThread.main(ActivityThread.java:4363)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at java.lang.reflect.Method.invokeNative(Native Method)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at java.lang.reflect.Method.invoke(Method.java:521)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at dalvik.system.NativeStart.main(Native Method)
07-25 12:38:12.399: ERROR/AndroidRuntime(323): Caused by: android.database.sqlite.SQLiteException: no such table: peopletable: , while compiling: SELECT _id, persons_name, persons_hotness FROM peopletable
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteProgram.native_compile(Native Method)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteProgram.compile(SQLiteProgram.java:110)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:59)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:49)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:49)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1221)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1108)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1066)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1143)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at org.sqlite.hotornot.getdata(hotornot.java:73)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at org.sqlite.sview.onCreate(sview.java:14)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
07-25 12:38:12.399: ERROR/AndroidRuntime(323):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T06:55:35.493

试试这个

```
 ourHelper = new DbHelper(ourcontext);
    ourDatabase = ourHelper.getWritableDatabase();
    ourHelper .onCreate(ourDatabase ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:14:46.653

我认为 DbHelper 定义是错误的。它应该是这样的：

```
public DbHelper(Context context, String name,
                CursorFactory factory, int version) {
            super(context, name, factory, version);
            // TODO Auto-generated constructor stub
        } 
```

并修改

```
private static final String DATABASE_NAME = "HotorNotdb.db"; 
```

请试试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:42:06.427

在您的 Eclipse 中，转到 Window > Show View > File Explorer 并在 data > data > yourPackageName 中检查数据库是否存在，如果不存在，则必须在其中导入数据库文件。

# java - 遍历一组复选框

> ID：11644126
> 
> 赞同：0
> 
> 时间：2012-07-25T06:48:37.020
> 
> 标签：java, swing, keyboard, traversal, jcheckbox

如何在 Swing 中使用键盘箭头键遍历一组复选框？

注意：复选框放置在网格布局中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:50:53.237

下面是一个基于[如何使用焦点子系统](http://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html)教程的示例，该教程将向右和向后箭头注册为向前和向后焦点遍历键。

```
import java.awt.AWTKeyStroke;
import java.awt.GridLayout;
import java.awt.KeyboardFocusManager;
import java.awt.event.KeyEvent;
import java.util.HashSet;
import java.util.Set;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.KeyStroke;
import javax.swing.SwingUtilities;

public class CheckBoxDemo {

    private static void createAndShowGUI() {
        JFrame frame = new JFrame("Demo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        frame.setLayout(new GridLayout(2, 2, 10, 10));

        frame.add(new JCheckBox("Bird"));
        frame.add(new JCheckBox("Cat"));
        frame.add(new JCheckBox("Dog"));
        frame.add(new JCheckBox("Rabbit"));

        Set<AWTKeyStroke> forwardKeys = frame.getFocusTraversalKeys(
                KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS);
        Set<AWTKeyStroke> newForwardKeys = new HashSet<AWTKeyStroke>(forwardKeys);
        newForwardKeys.add(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0));
        frame.setFocusTraversalKeys(
                KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, newForwardKeys);

        Set<AWTKeyStroke> backwardKeys = frame.getFocusTraversalKeys(
                KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS);
        Set<AWTKeyStroke> newBackKeys = new HashSet<AWTKeyStroke>(backwardKeys);
        newBackKeys.add(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0));
        frame.setFocusTraversalKeys(
                KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, newBackKeys);

        frame.pack();
        frame.setVisible(true);

    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

# iphone - 提交应用时图标文件错误

> ID：11644131
> 
> 赞同：0
> 
> 时间：2012-07-25T06:49:15.627
> 
> 标签：iphone, ios, ipad

现在，我要提交我的应用程序。当我验证应用程序时，我遇到了以下问题：

```
Icon specified in the info.plist not found under the top level app wrapper: iTunesArtwork 
```

info.plist中图标文件的key如下：

```
<key>CFBundleIconFiles</key>
<array>
    <string>iTunesArtwork</string>
    <string>Icon.png</string>
    <string>Icon@2x.png</string>
    <string>Icon-72@2x.png</string>
    <string>Icon-72.png</string>
</array> 
```

而且我还在我的项目中添加了 iTunesArtwork.png（我已经删除了扩展名称“.png”）

我尝试删除 info.plist 中的值“iTunesArtwork”并且应用程序通过了验证，但应用程序没有图标。我不知道那有关系。我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T06:53:27.667

摆脱以下：

```
<string>iTunesArtwork</string> 
```

当您的应用程序被打包并提交给 iTC 时，**iTunesArtwork**文件将被创建并放置在 .ipa 包的根目录中。

至于提交时未在 Xcode Organizer 中显示的图标，这是我在想的一个错误，因为我的应用程序也可以正确验证和提交，并且它们也不会在管理器中显示图标。

# java - 不重新启动 Firefox 不会刷新密钥库

> ID：11644133
> 
> 赞同：3
> 
> 时间：2012-07-25T06:49:44.477
> 
> 标签：java, certificate, x509certificate, keystore, keytool

当我在 Mozilla 中添加/删除任何证书时，Mozilla 的密钥库在手动重新启动之前无法刷新。我创建了一个新的密钥库，用于从 Mozilla 获取私钥，但它不起作用。它使用了较旧的密钥库，所以即使证书已从 Mozilla 中删除，我也可以获得私钥。我该如何解决？代码如下：

```
public String Decrypt(String text, String pubkey) throws Exception
{
    System.out.println("------INSIDE IEPublicDecrypt METHOD------ ");
    X509Certificate cerificate = null;
    PrivateKey privatekey = null;
    KeyStore keyStorenew = null;
    String aliasnew = null;
    //new code for security

    if (browserName.equalsIgnoreCase("Netscape")) {
        System.out.println("Initializing Firefox");
        createPolicyFile();
        makeCfgFile();
        String strCfg = System.getProperty("user.home") + File.separator
                + "jdk6-nss-mozilla.cfg";
        System.out.println("String Configuration File " + strCfg);

        try {
            Provider p1 = new sun.security.pkcs11.SunPKCS11(strCfg);
            Security.addProvider(p1);
            System.out.println("Provider Added");
            keyStorenew = KeyStore.getInstance("PKCS11");
            System.out.println("Key Store instance created");
            keyStorenew.load(null, "password".toCharArray());
            System.out.println("Key Store loaded");
        } catch (Exception e) {
            System.out.println("Certificate Not found in browser");
        }
    }
    if (keyStorenew != null) {
        //initBrowserCertifcates();
        Enumeration<String> enumeration = keyStorenew.aliases();
        while (enumeration.hasMoreElements()) {
            aliasnew = enumeration.nextElement();

            try {
                cerificate = (X509Certificate) keyStorenew.getCertificate(aliasnew);
                System.out.println("Certificate  found in browser========"+cerificate);
            }
            catch (Exception e) {
                // TODO: handle exception
            }
        }
        System.out.println("Browser Certificate Initialized.");
    } else {
        System.out.println("========= Keystore is NULL ==========");

    }

    if(keyPairMap != null)
    {
        System.out.println("keyPairMap is not  NuLL.");
        privatekey=keyPairMap.get(pubkey.toString());
    }
    else
    {
        System.out.println("keyPairMap is NuLL.");
    }   
    System.out.println("------GOT PRIVATEKEY------ " + privatekey);
    BASE64Decoder base64Decoder = new BASE64Decoder();
    byte[] encryptText = base64Decoder.decodeBuffer(text);
    System.out.println("------GOT ENCRYTEDTEXT------ "
            + encryptText.toString());
    Cipher cipher = Cipher.getInstance("RSA/ECB/PKCS1Padding");
    System.out.println("------GOT CIPHER------ " + cipher);
    cipher.init(Cipher.DECRYPT_MODE, privatekey);
    System.out.println("------CIPHET INITIALISED------ ");
    String decryptedString = new String(cipher.doFinal(encryptText));
    System.out.println("------GOT DECRYPTEDTEXT------ " + decryptedString);
    return decryptedString;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T14:49:53.350

1.  您可以暂时关闭安全系统并做您想做的事情，然后再次打开它。
2.  询问用户：如果您想继续 - 请重新启动浏览器（Microsoft 风格：D）。

# css - 如何在 jQuery Mobile 可折叠中调整标题文本的大小？

> ID：11644135
> 
> 赞同：2
> 
> 时间：2012-07-25T06:49:48.633
> 
> 标签：css, jquery-mobile

jQuery mobile 中可折叠内容中的标题文本格式正在使用`<h3>`，但它对我来说太大了。所以我想在 jquery mobile 可折叠中调整默认文本大小。

```
<div data-role="collapsible" data-collapsed="true">
        <h3>My Header</h3>
</div> 
```

如何调整它的大小？谢谢 ：）

这是我的模拟>> [http://jsfiddle.net/sevtiandy/seXmc/73/](http://jsfiddle.net/sevtiandy/seXmc/73/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:04:52.103

我解决它。我更改文件`jquery.mobile-1.1.0.min.css`并将`font-size`值从类中的 16px 更改为 13px`.ui-collapsible-heading`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T13:33:21.780

您可以使用带有 h3 元素的类：

```
<div data-role="collapsible" data-collapsed="true">
    <h3 class="collapse_header">My Header</h3>
</div> 
```

并使用您的自定义 CSS 调整它的大小：

```
.collapse_header .ui-btn-text{
    font-size: 10px
} 
```

# java - How to use multipart upload to S3 via web browser?

> ID：11644139
> 
> 赞同：1
> 
> 时间：2012-07-25T06:50:27.437
> 
> 标签：java, python, ruby, amazon-s3, amazon-web-services

I would like to know, if is it possible to use multipart upload to S3 via a web browser (low-level API)?

If that is the case are there any demo web apps with source code or tutorials?

Thanks in advance

References [http://docs.amazonwebservices.com/AmazonS3/latest/dev/HLTrackProgressMPUJava.html](http://docs.amazonwebservices.com/AmazonS3/latest/dev/HLTrackProgressMPUJava.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T04:39:15.000

The question appears to be about *multi-part uploads* from a browser, not single-part uploads.

Yes, you can do single-part uploads from a web browser using HTTP POST.

No, you cannot do a *multi-part upload* via a standard web browser, although such a thing might be possible using Flash/Silverlight. This will, of course, eliminate most mobile devices as well as any desktop users who have purposefully uninstalled these plugins (like me!).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:04:24.003

From your question, it doesn't seem like you're looking for a solution in a specific language.

Anyway, there's a page on the official s3 docs that shows the browser-based uploads feature. It might help to [check it out.](http://s3.amazonaws.com/doc/s3-example-code/post/post_sample.html)

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-07-25T13:34:59.750

It certainly is possible, look at [http://sente.cc/upload_to_s3.html](http://sente.cc/upload_to_s3.html) for a working example which uploads directly to S3 from the browser.

Also see [https://stackoverflow.com/a/6912340/217652](https://stackoverflow.com/a/6912340/217652)

```
<html> 
  <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  </head> 
  <body> 
  <h3>refresh the page after you've submitted to see your new image</h3>
    <div style="width:300px">
    <form action="http://s3.amazonaws.com/dev.sente" method="post" enctype="multipart/form-data"> 
      <fieldset>
      <input type="hidden" name="acl" value="public-read" /> <br /> 
      <i>name of key:</i><input type="text" name="key" readonly="true" value="image.jpg" /> <br /> 
      <input name="file" type="file" /> <br /> 
      <input name="submit" value="Upload" type="submit" /> 
    </fieldset>
    </form> 
  </div>
    <br />
    <a href="http://s3.amazonaws.com/dev.sente/image.jpg">http://s3.amazonaws.com/dev.sente/image.jpg</a><br />
      <a href="http://s3.amazonaws.com/dev.sente/image.jpg"><img src="http://s3.amazonaws.com/dev.sente/image.jpg" /></a>
    </a>
  </body> 
</html> 
```

# c# - 如何删除路径中的空格？

> ID：11644145
> 
> 赞同：1
> 
> 时间：2012-07-25T06:50:44.643
> 
> 标签：c#, process, path, whitespace, command-line-arguments

我必须启动放置在 Program Files 中的进程。但问题是 Process.Start 没有占用路径空间。

```
Process regeditProcess = Process.Start("regedit.exe", "/s C:\\Program Files\\Test Folder\\sample.reg"); 
```

小路：

```
C:\\Program Files\\Test Folder\\sample.reg 
```

“程序文件”中的程序和文件之间有一个空格。那是我的问题。如何避免空间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:56:39.390

您应该在引号 (") 中传递包含空格的命令行参数，如下所示：

```
Process regeditProcess = Process.Start("regedit.exe", "/s \"C:\\Program Files\\Test Folder\\sample.reg\""); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T06:57:28.630

`Process.Start`不是这里的问题，问题是 regedit.exe 不接受参数中的空格。把它放在引号中：

```
Process.Start("regedit.exe", "/s \"C:\\Program Files\\Test Folder\\sample.reg\""); 
```

此外，您应该使用`%ProgramFiles%`或等效的东西来获取程序文件文件夹而不是硬编码`"C:\\Program Files"`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T06:57:36.540

你可以做这样的事情来获取程序文件

```
Environment.GetFolderPath(System.Environment.SpecialFolder.ProgramFiles) 
```

这是更详细的代码

```
if(Environment.Is64BitOperatingSystem)
{
Environment.GetFolderPath(System.Environment.SpecialFolder.ProgramFilesX86)
}
else
{
Environment.GetFolderPath(System.Environment.SpecialFolder.ProgramFiles)
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T06:58:20.750

正确的做法是引用包含空格的路径。所以参数字符串应该是这样的：

```
"/s \"C:\\Program Files\\Test Folder\\sample.reg\"" 
```

尽管在使用路径时，您通常应该始终使用逐字文字字符串。

```
@"/s ""C:\Program Files\Test Folder\sample.reg""" 
```

否则，您可以使用 8.3 名称转换路径。我不知道在框架中为您执行此操作的任何方法，但规则很简单。如果您有一个长于 6 个字符的长名称，则取前 6 个非空格字符并在其后附加波浪号 ( `~`) 后跟一个数字（通常以 开头`1`）。如果多个文件具有相同的 6 个字符，则数字按字母顺序递增。所以在你的情况下，它可以写成：

```
@"/s C:\Progra~1\TestFo~1\sample.reg" 
```

# android - 有什么方法可以为 Android Market 自动上传应用程序？

> ID：11644150
> 
> 赞同：-1
> 
> 时间：2012-07-25T06:51:04.087
> 
> 标签：android, google-play, apk

我想`.apk`通过提供凭据将自动生成的文件直接上传到 Android 市场。那么有什么方法可以做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:56:26.960

不，目前没有用于此的 API。并且可能有充分的理由，因为没有人希望自动上传带有橡皮图章的垃圾邮件应用程序。

# spring - 这 2 个 Spring Annotation 和 XML 配置有什么区别

> ID：11644154
> 
> 赞同：0
> 
> 时间：2012-07-25T06:51:17.333
> 
> 标签：spring, spring-mvc

这 2 个 Spring Annotation 和 XML 配置有什么区别

1) 基于注释

```
@Configuration
@EnableWebMvc
public class MyWebConfig{
   // 
} 
```

2) 基于 XML

```
<mvc:annotation-driven /> 
```

除了 xml 和注释之外，我看不到任何其他区别。以及何时使用哪一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:05:54.193

与 xml 中的等效配置相比，基于注释的配置更容易构建且更具可读性。例如，在 xml 中将属性设置为 map 如下所示：

```
 <property name="maps">
        <map>
            <entry key="Key 1" value="1" />
            <entry key="Key 2" value-ref="PersonBean" />
            <entry key="Key 3">
                <bean class="com.mkyong.common.Person">
                    <property name="name" value="mkyongMap" />
                    <property name="address" value="address" />
                    <property name="age" value="28" />
                </bean>
            </entry>
        </map>
    </property> 
```

在 java 配置文件中，如下所示：

```
Map<String, Object> maps = ...
maps.put()...
....setMaps(maps); 
```

还有很多其他的优点：

*   从匿名内部类型的实例添加 bean

*   在启动您的 Spring 上下文和您的 tomcat 之前，请查看编译期间的错误...

*   在你的 bean 构造中添加一些条件

例如：

```
@Bean
public ViewResolver internalResourceViewResolver() {
    ClassLoader classLoader = getClass().getClassLoader();
    if (ClassUtils.isPresent("org.apache.tiles.TilesContainer", classLoader)) {
        TilesViewResolver viewResolver = new TilesViewResolver();
        return viewResolver;
    } else {
        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();
        viewResolver.setPrefix("/");
        viewResolver.setSuffix(".jsp");         
        return viewResolver;
    }
} 
```

*   好多其它的....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:34:19.873

@Treydone 写了一些例子，并表达了关于基于 Java 的配置更好的主观意见。

我不同意这种说法，因为基于 Java 的配置和 XML 配置在功能上没有区别，只是你会使用哪一个的习惯问题。有人说传统的 XML 命名空间配置更好，也有人说基于 Java 的配置（自 Spring 3.0 起就在其中）是 Spring 中 IoC 的下一个级别。

顺便说一句，基于注解的配置**与**基于 Java 的配置不同 - 您从后者编写示例，所以我假设您在 XML 和 Java 配置之间进行选择。

我认为你应该阅读：

*   [关于基于 Java 的配置基本概念](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java)和[启用 MVC](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-enable)的Spring 参考手册
*   一些博客文章：[这个](http://blog.springsource.org/2008/03/26/spring-java-configuration-whats-new-in-m3/)和[这个](http://blog.codecentric.de/en/2012/07/spring-dependency-injection-styles-why-i-love-java-based-configuration/)

然后决定哪一个最适合你。

基于 PS Annotation 的配置是 IMO 比这两个更糟糕的选择，因为它将一些依赖信息直接移动到普通类中。

# svn - XCopy 或 Copy 命令在 SVN 的 Start-Commit 挂钩脚本中不起作用

> ID：11644155
> 
> 赞同：0
> 
> 时间：2012-07-25T06:51:18.533
> 
> 标签：svn, batch-file, automation

请允许我解释一下我在这个问题背后的目的。我创建了一个批处理文件，在其中将我的开发数据库与我们的服务器数据库进行比较，结果是一个 sql 文件。我希望在提交更改之前将 sql 文件添加到我的版本控制中。问题是当我连接脚本以将 sql 文件“复制”到未复制的工作副本时。

这是简单的脚本：我知道钩子脚本因为安全原因不能包含环境变量，因此我使用绝对路径。

```
"C:\Windows\System32\xcopy.exe" "C:\Users\user\Documents\SQL Delta\*.sql" /Y "C:\Users\princessm\Documents\user\main\Materials Management\scripts\" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:57:31.223

你的脚本看起来很干净。您实际上是在尝试从用户`user`目录复制到另一个用户`princessm`目录。

你能检查一下，你是否有权访问该目录。如果是，请发布您遇到的错误以进行进一步分析。

# android - android如何创建一个自己尝试的编辑器

> ID：11644156
> 
> 赞同：0
> 
> 时间：2012-07-25T06:51:21.397
> 
> 标签：android

我在这里阅读了有关 javascript 编辑器的信息，更具体地参考了此链接[How to create a JavaScript "Try It Yourself" Editor](https://stackoverflow.com/questions/8794998/how-to-create-a-javascript-try-it-yourself-editor)，但我想知道如何将 java 脚本集成到我的 android 应用程序中？以 JavaScript 为核心并让 Android 以正确的方式自己尝试编辑器是否正确？我真的很困惑:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:18:28.620

您可以将 WebView 放在场景中并动态加载数据

检查[这个](https://stackoverflow.com/questions/4950729/rendering-html-in-a-webview-with-custom-css)和[这个](https://stackoverflow.com/questions/2906258/webview-loaddata-in-android-does-not-load-a-picture-from-img-src)

# python - 美汤 findAll 没找到全部

> ID：11644164
> 
> 赞同：1
> 
> 时间：2012-07-25T06:52:04.383
> 
> 标签：python, beautifulsoup, findall, calibre

我正在使用 Calibre 为网站制作食谱。

网页源代码为：

```
 <section>

  <h1 class="fly-title">Leaders</h1>

    <article>
  <h2><a href="/node/21537908" class="package-link">Democracy and its enemies</a></h2>

    <a href="/node/21537908"><img src="http://media.economist.com/sites/default/files/imagecache/news_package_primary_landscape/20120123_LDC001_0.gif" alt="" title=""  class="imagecache imagecache-news_package_primary_landscape" width="412" height="232" /></a>  
  <p>
    In the coming year the people who run the world will change—and so could the ideas, predicts John Micklethwait    <a href="/node/21537908/comments#comments" title="Comments" class="comment-icon"><span>(0)</span></a>  </p>

</article>  
    <ul class="package-item"><li class="first"><div class="">
  <a href="/node/21537909" class="package-link">The year of self-induced stagnation</a>  <a href="/node/21537909/comments#comments" title="Comments" class="comment-icon"><span>(7)</span></a></div>
</li>
<li class="even"><div class="">
  <a href="/node/21537914" class="package-link">How to run the euro?</a>  <a href="/node/21537914/comments#comments" title="Comments" class="comment-icon"><span>(2)</span></a></div>
</li>
<li class=""><div class="">
  <a href="/node/21537916" class="package-link">Wanted: a fantasy American president</a>  <a href="/node/21537916/comments#comments" title="Comments" class="comment-icon"><span>(0)</span></a></div>
</li>
<li class="even"><div class="">
  <a href="/node/21537917" class="package-link">Poking goes public</a>  <a href="/node/21537917/comments#comments" title="Comments" class="comment-icon"><span>(7)</span></a></div>
</li>
<li class=""><div class="">
  <a href="/node/21537918" class="package-link">Varied company</a>  <a href="/node/21537918/comments#comments" title="Comments" class="comment-icon"><span>(0)</span></a></div>
</li>
<li class="even"><div class="">
  <a href="/node/21537919" class="package-link">All eyes on London</a>  <a href="/node/21537919/comments#comments" title="Comments" class="comment-icon"><span>(0)</span></a></div>
</li>
<li class="last"><div class="">
  <a href="/node/21537921" class="package-link">And now for some non-events</a>  <a href="/node/21537921/comments#comments" title="Comments" class="comment-icon"><span>(2)</span></a></div>
</li>
</ul>  
  </section> 
```

我想找到所有`<a href="/node/********" class="package-link">`

所以我用了漂亮的汤

```
for section in soup.findAll('section'): 
...
    for post in section.findAll('a', attrs={'class':['package-link']}) 
```

但只找到了第一个（即 中的那个`<h2><a href="/node/21537908" class="package-link">Democracy and its enemies</a></h2>`）。

我怎样才能找到它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:01:20.157

为我工作：

```
soup = BeautifulSoup.BeautifulSoup(xml)    
for section in soup.findAll("section"):
    for post in section.findAll('a', attrs={'class':['package-link']}):
        print post 
```

结果是：

```
<a href="/node/21537908" class="package-link">Democracy and its enemies</a>
<a href="/node/21537909" class="package-link">The year of self-induced stagnation</a>
<a href="/node/21537914" class="package-link">How to run the euro?</a>
<a href="/node/21537916" class="package-link">Wanted: a fantasy American president</a>
<a href="/node/21537917" class="package-link">Poking goes public</a>
<a href="/node/21537918" class="package-link">Varied company</a>
<a href="/node/21537919" class="package-link">All eyes on London</a>
<a href="/node/21537921" class="package-link">And now for some non-events</a> 
```

**编辑**

我使用的版本：

*   Python 2.7.3
*   美丽汤 3.2.0

# php - 如何为 Symfony2 中的所有控制器添加一些路由前缀？

> ID：11644169
> 
> 赞同：8
> 
> 时间：2012-07-25T06:52:15.683
> 
> 标签：php, symfony

我正在使用注释来定义控制器中的路由，并且我有 15 个控制器。全部由`/path1`,执行`/path2`。

有什么方法可以在所有这些控制器中通过`/admin/path1`and访问它们`/admin/path2`？

我不想通过更改每个文件来输入它。

我可以从一个位置做到这一点吗？我的意思是整个捆绑包应该通过`/admin`它们各自的路径打开。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-25T07:04:01.917

尝试这个

```
# app/config/routing.yml
acme_hello:
    resource: "@AcmeHelloBundle/Resources/config/routing.yml"
    prefix:   /admin 
```

或者如果使用注释

```
resource: "@AcmeHelloBundle/Controller"
    type:     annotation
    prefix:   /admin 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-25T07:06:06.887

使用这个`routing.yml`：

```
Admin:
    resource: "@AdminBundle/Controller"
    type: annotation
    prefix: /admin 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-25T06:55:10.850

只需为您的类定义注释（而不是方法）

```
/**
* @Route("/blog")
*/ 
```

[http://symfony.com/doc/current/bundles/SensioFrameworkExtraBundle/annotations/routing.html#route-prefix](http://symfony.com/doc/current/bundles/SensioFrameworkExtraBundle/annotations/routing.html#route-prefix)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-05T23:05:20.303

例如，如果您想为特定的控制器 DevController 加上前缀并具有以下内容：

myproject.com/dev/test

在您的控制器中添加以下 Route 注释，如示例：

```
 /**
 * @Route("/dev")
 */
class DevController extends Controller{

    /**
     * @Route("/test")
     */
    public function testSavingAction(){

        return new Response();
    }
.... 
```

# mysql - 按创建时间+超时排序，MySQL

> ID：11644173
> 
> 赞同：2
> 
> 时间：2012-07-25T06:52:41.643
> 
> 标签：mysql, sql

我有两个表，“问题”：问题列表，“QResults”用户对这些问题的结果。在再次询问之前，这些问题会在几小时内超时。

```
Table: Questions
   ID
   Timeout - The amount of time before asking the question again 

Table: Results
   ID 
   Created (timestamp) - When this record was added. 
   Questions_ID - A FK to the Question table 
```

示例数据

```
Table: Questions
 ID | Timeout (hrs) 
--------------
  1 | 1    
  8 | 6 
 15 | 1 
 55 | 1

Table: QResults
ID | Created            | Q_ID 
-------------------------------
 1 | Jan 24, 2012 00:00 |    1 
 2 | Jan 24, 2012 06:05 |   15 
 3 | Jan 24, 2012 02:00 |    8 
 4 | Jan 24, 2012 01:00 |    1 
 5 | Jan 24, 2012 02:00 |    1 
```

我正在寻找的是一个查询，它将根据上次回答问题的时间 + 超时对问题进行排序。如果问题从未得到回答，则应将其推到列表顶部。

例如，如果查询是在上述数据上运行的，它将产生以下数据集。

```
The result of the query I am looking for. 
ID | timeout + created aka eligible
-------------------------------
55 | Jan 01, 1970 01:00 *(1) See note below*
 1 | Jan 24, 2012 03:00 *(2) See note below* 
 8 | Jan 24, 2012 07:05
15 | Jan 24, 2012 08:00 
```

*注意：(1) id=55 的日期无关紧要，只要它首先出现即可。因为目前没有它的 QResults。(2) 这具有 3hr 的值，因为它使用最新的答案创建时间 + 超时。

让我换一种说法。我正在寻找一个值最低的问题（最后一次询问+超时）。如果问题已被回答 3 次，则应使用最新的问题回答时间 + 超时作为合格值。我希望这是有道理的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:01:53.723

像这样的东西，但我会留给你优化：

```
(select q.id as id, date_add(r.created, interval q.timeout hour) as eligible
from questions q, qresults r
where q.id = r.id)
union (
select q.id as id, '1970-01-01 00:00:00' as eligible
from questions q
where q.id not in
    (select id from qresults r)
)
order by 2 asc 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:16:39.673

我现在无法检查语法，但我会做这样的事情。

*   获取问题表中每个 ID 的最低记录
*   将结果表中的所有记录以及问题表中的超时附加到这些记录
*   通过 ID 获取结果的最大值

语法类似于...

**更新的语法**

```
select ID, MAX(Timeout) as Timeout
from
(
  (
  select ID, cast('1970-01-01 01:00' as DATETIME) as Timeout
  from Questions
  ) 
union all
  (
  select q.ID, r.created + INTERVAL q.Timeout hour as Timeout
  from QResults as r, Questions as q
  where r.q_ID=q.ID
  ) 
) c
group by ID
order by MAX(Timeout) asc 
```

这给了我以下结果。（请注意与您的订购差异。我认为这就是您的意思。）

```
ID  Timeout
55  1970-01-01 01:00:00
1   2012-01-24 03:00:00
15  2012-01-24 07:05:00
8   2012-01-24 08:00:00 
```

如果这运行缓慢，您可能希望在连接到问题表以添加超时之前通过 Qresults 表上的 id 获取最大日期。除非您需要，否则我不会打扰这样做，因为它会使查询复杂化，并且 mysql 优化器可能足够聪明，可以自行解决。

# css - 让两个div共享一个滚动条

> ID：11644179
> 
> 赞同：1
> 
> 时间：2012-07-25T06:53:00.487
> 
> 标签：css

这是我的代码：

```
<div class="mycontent">
<div class="textarea" id="ingId" style="position:relative;">
        <div id="idComm" style="position: absolute; z-index: 100; width: 450px; height: 151px; right: 18px; top: 1px;">
        </div>     
</div>    
</div> 
```

如何让它们共享同一个滚动条？我试过[这个](http://jsfiddle.net/userdude/hThsx/)

但它没有用，因为在第一个 div 中我有 tinymce。

# jstl - 从 JSTL 中的字符串中删除特殊字符

> ID：11644180
> 
> 赞同：0
> 
> 时间：2012-07-25T06:53:05.997
> 
> 标签：jstl

我在 jstl 中有一个字符串：'Tall &. Big' 但我希望将其替换为：'TallBig'。

我正在尝试通过使用 fn:replace(String,'&',''); 但我不知道如何在此函数中提及要删除的多个字符。

意味着我想从字符串中删除所有特殊字符。

# java - 如何防止自动连接到 WiFi

> ID：11644191
> 
> 赞同：0
> 
> 时间：2012-07-25T06:54:04.050
> 
> 标签：java, android, android-networking

从通知栏打开 WiFi 适配器后，我尝试阻止自动连接到 WiFi 并显示对话框。

我以编程方式注册了接收 WIFI_STATE_CHANGED_ACTION 的 BroadcastReceiver。在 WIFI_STATE_ENABLED 我从配置的网络列表中删除网络。但它不起作用。

我在以下位置注册 BroadcastReceiver：

```
@Override
protected void onStart() {
    super.onStart();

    registerReceiver(wifiStatusReceiver, new IntentFilter(WifiManager.WIFI_STATE_CHANGED_ACTION));
} 
```

并在 onStop 方法中注销。

广播接收器代码：

```
public class WiFiStatusReceiver extends BroadcastReceiver {

private WifiManager wifiManager;

@Override
public void onReceive(Context context, Intent intent) {

    wifiManager = (WifiManager)context.getSystemService(Context.WIFI_SERVICE);

    if(!isInitialStickyBroadcast()) { //it is not a sticky intent

        switch(wifiManager.getWifiState()) {

            case WifiManager.WIFI_STATE_ENABLING:
                    Toast.makeText(context, R.string.enabling_wifi, Toast.LENGTH_SHORT).show();
                break;

            case WifiManager.WIFI_STATE_ENABLED:
                    Toast.makeText(context, R.string.enabled_wifi, Toast.LENGTH_SHORT).show();

                    wifiManager.disconnect();

                    if(!wifiManager.getConfiguredNetworks().isEmpty()) { //there are some networks

                        for(WifiConfiguration wifiConfig :wifiManager.getConfiguredNetworks()) {
                            wifiManager.removeNetwork(wifiConfig.networkId); 
                        }
                    }

                break;

            case WifiManager.WIFI_STATE_DISABLING:
                    Toast.makeText(context, R.string.disabling_wifi, Toast.LENGTH_SHORT).show();

                break;

            case WifiManager.WIFI_STATE_DISABLED:
                    Toast.makeText(context, R.string.disabled_wifi, Toast.LENGTH_SHORT).show();

                break;
        }
    } else { //is a sticky intent

        wifiManager.disconnect();

        if(!wifiManager.getConfiguredNetworks().isEmpty()) { //there are some networks

            for(WifiConfiguration wifiConfig :wifiManager.getConfiguredNetworks()) {
                wifiManager.removeNetwork(wifiConfig.networkId); 
            }
        }
    }
} 
```

}

有什么建议么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:56:51.557

试试这个来**禁用 Wifi** ......并**在需要时启用它**............

```
boolean isOn = false;
WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);
wifiManager.setWifiEnabled(isOn); 
```

# javascript - 如何从系统中获取图像以在 html5 中加载到画布中

> ID：11644192
> 
> 赞同：0
> 
> 时间：2012-07-25T06:54:08.870
> 
> 标签：javascript, html

我正在使用以下方式： -

**代码**

```
<!DOCTYPE HTML>
<html>
<head>
  <style>
   body {
     margin: 0px;
      padding: 0px;
   }
   #myCanvas {
     border: 1px solid #9C9898;
   }
  </style>
 <script>
  window.onload = function() {
    var canvas = document.getElementById("myCanvas");
    var context = canvas.getContext("2d");
    var imageObj = new Image();

    imageObj.onload = function() {
      context.drawImage(imageObj, 69, 50);
    };
    imageObj.src = "C:\Images\Demo.jpg";
  };

</script>
</head>
<body>
  <canvas id="myCanvas" width="578" height="400"></canvas>
</body>
</html> 
```

我想将此图像加载到画布中。在 imageObj.src 中传递图像 URL 是否正确？

还是有其他方法可以加载图像？

**提前致谢**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:26:57.693

你几乎是对的。如果要在本地加载文件，则需要在路径前加上`file:///`：

```
imageObj.src = "file:///C:/Images/Demo.jpg";  // also, use forward slashes, not backslashes 
```

我认为所有浏览器都会要求您将图像存储在与当前 HTML 页面相同的目录或子目录中，这样本地 HTML 页面就无法从您的硬盘驱动器中抓取东西。

我建议您创建相对于当前 HTML 文档的路径。如果页面在，`file:///C:/Users/shanky/webpages/page.html`那么只需使用：

```
imageObj.src = "img/Demo.jpg"; 
```

加载位于 的图像`file:///C:/Users/shanky/webpages/img/Demo.jpg`。如果您将页面移动到新文件夹或将其托管在不再使用该`file:`协议的服务器上，这会更容易。

[请注意，大多数浏览器对资源的](https://stackoverflow.com/questions/1040724/how-do-i-bypass-a-same-origin-policy-violation-for-one-local-file-to-another)[同源策略`file:`](https://stackoverflow.com/questions/1040724/how-do-i-bypass-a-same-origin-policy-violation-for-one-local-file-to-another)非常挑剔。在简单的本地服务器上托管您的应用程序并使用`http://localhost`.

# jquery - 如何使用 jQuery 确定对象是否为选择对象？

> ID：11644197
> 
> 赞同：1
> 
> 时间：2012-07-25T06:54:20.367
> 
> 标签：jquery

我一直在使用它来确定对象是否是“文本”，以便我可以获得 .val 或选中状态：

```
var val = object.is(":text") ? object.val() : object.is(":checked") 
```

这可行，但现在对象也可能是：

1.  从一个选择
2.  从输入字段
3.  从一个复选框

有没有另一种方法可以编码，所以它也适用于选择？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T06:57:33.803

最简单的方法是切换逻辑并使用`.val()`if 对象不是复选框。

```
var val = object.is(":checkbox") ? object.is(":checked") : object.val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:04:38.830

试试这个...

```
var val = (object.is(":text") || object.is("select") )
    ? object.val() : object.is(":checked") 
```

# c# - 用于验证序列号 MS Visual Studio 2010 的安装程序类

> ID：11644199
> 
> 赞同：0
> 
> 时间：2012-07-25T06:54:26.400
> 
> 标签：c#, installation, custom-action

我在 Visual Studio 中创建了一个安装项目，并希望添加自定义操作来验证序列号。我该怎么做？

**编辑 1：** 我在我的安装项目的用户界面中添加`Customer Information`对话框，并将`ShowSerialNumber`属性设置为 True。并且想要验证输入的用户序列号，当用户单击此对话框上的下一步按钮时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:12:05.513

不确定你想要什么，或者[你尝试过什么](http://mattgemmell.com/2008/12/08/what-have-you-tried/)，仍然......

创建一个布尔函数：

私人静态布尔isValidSerialNumber（字符串编号）{

}

您验证它的方式取决于所使用的序列号方案的类型，

这可能涉及对序列号执行 RSA 解密，或者可能像查询数据库或列表以查看序列号是否存在一样简单。

看看这个问题：[序列号是如何产生的？](https://stackoverflow.com/questions/715251/out-of-curiosity-how-are-serial-numbers-generated-hints-algorithms)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:26:06.393

在 VS 解决方案资源管理器中

右键单击**您的设置**>>**查看**>>**用户界面**

右键单击**开始**>>**添加对话框**>>**选择文本框**

![在此处输入图像描述](../Images/d51dc4332de0b8f1211e448386d3865a.png)

现在做了一个`Custom Class`并添加`Install class`文件

在安装.cs

```
public override void Install(IDictionary stateSaver)
    {
                base.Install(stateSaver);
    } 
```

# javascript - PhoneGap jQuery mobile多个html文件css不起作用

> ID：11644200
> 
> 赞同：0
> 
> 时间：2012-07-25T06:54:28.083
> 
> 标签：javascript, android, html, jquery-mobile, cordova

我已经使用 jQuery Mobile 和用于 iPhone 和 android 的**java 脚本实现了一个 Phone Gap 应用程序。**

*我的应用程序几乎完成了。*

到目前为止，我**对所有页面都使用了单个 index.html 文件**。

现在我需要使用**`different html files for different pages.`**

所以我为不同的页面创建了**多个外部 html 文件**，链接了引用并将它们添加到 www 文件夹中。

因为我有一个列表视图，它的 css 不可见

![在此处输入图像描述](../Images/585d2c96969919428f70926320b3b20f.png)

**主页：-在****index.html**文件中查看**`page2`**和**`page3`**参考

 **```
<div data-role="content">
    <ul data-role="listview" data-theme="e" data-header-theme="a" data-dividertheme="a" id="List view">
        <li data-role='list-divider' ><big>Lis view</big></li>
        <li><a href='#page1' id='Page1' data-panel='main'>Page1 Information</a></li>
        <li><a href='page2.html' rel="external" id='pagetwoid' data-panel='main'>Go to Page 2</a></li>
        <li><a href='page3.html' rel="external"  id='pagethreeid' data-panel='main'>Go to Page 3</a></li>                             </ul>
</div> 
```

**第2页：-**

```
<!DOCTYPE html>
<html>
     <head>
          <title>Multiple htmls</title>

          <meta id="viewport" name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />

          <!--
          <link rel="stylesheet" href="inc/jquery.mobile-1.0.1.min.css" />
          <link rel="stylesheet" href="inc/jquery.mobile.splitview.css" />
          <link rel="stylesheet"  href="inc/jquery.mobile.grids.collapsible.css" />
          <link rel="stylesheet" href="inc/jquery.mobile.structure-1.0.1.min.css" />
          -->
          <link rel="stylesheet" href="inc/jquery.alerts.css" />
          <link rel="stylesheet" href="inc/jquery.mobile.datebox.css" />
          <script charset="utf-8" src="cordova-1.9.0.js"></script>
          <script type="text/javascript" src="inc/jquery-1.7.1.js"></script>
          <script type="text/javascript" src="inc/jquery.mobile.splitview.js"></script>

          <script type="text/javascript" src="inc/jquery.mobile-1.0.1.min.js"></script>
          <script type="text/javascript" src="inc/jquery.alerts.js"></script>
          <script type="text/javascript" src="inc/iscroll-wrapper.js"></script>

          <script type="text/javascript" src="inc/iscroll-lite.js"></script>

          <script type="text/javascript">
                           alert('js Loadfed');
               </script>

          <style>
               alert();
               alert('css loaded');

               </style>

     </head>

     <body>

          <!--============= Page2 ===============--->
          <div data-role="page" id="siteContacts" data-theme="e"  >
               <div data-role="header">
                    <h1>Page 2 </h1>
                    <a href="page2.html" id="EditButton" data-role="button" data-icon="gear" class="ui-btn-right" data-theme="e" >Edit</a> 
               </div>

                    <div data-role="content">
                         <ul data-role="listview" data-inset="true" class="ui-listview" data-dividertheme="a">

                              <li data-role="list-divider"> <!--list Header --->
                                   <div class="ui-grid-c"> <!--Section Headers Grid--->
                                        <div class="ui-block-a" ><big> aaaa</big> </div>
                                        <div class="ui-block-b" ><big> bbbb</big> </div>
                                        <div class="ui-block-c" ><big> ccc</big> </div>
                                        <div class="ui-block-d" ><big> e-sss</big> </div>
                                   </div>

                              </li>
                              </ul>
                         </div>

     </body>
     </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T16:02:17.213

也许我读错了你的代码，但看起来 jquery 移动样式表的链接被注释掉了。您肯定需要在 HTML 中定义它们才能应用样式。

您是否将它们加载到其他从您发布的代码中看不到的地方？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T20:53:13.237

PhoneGap 要求您在根目录的“config.xml”文件中手动设置/允许应用程序的各个方面。

我相信您正在寻找的解决方案是这一行：

```
<access origin="http://code.jquery.com" subdomains="true" /> 
```

您允许访问“ [http://code.jquery.com](http://code.jquery.com) ”的外部资源并允许其所有子域。这意味着您刚刚解锁了 jquery mobile，这就是您想要的，如您的脚本标签所示：

> ```
> <script type="text/javascript" src="inc/jquery-1.7.1.js"></script>
> <script type="text/javascript" src="inc/jquery.mobile.splitview.js"></script> 
> ```
> 
> 这些“src”属性现在被视为您刚刚成功允许的[http://code.jquery.com的“子域”！](http://code.jquery.com)**

# javascript - 带参数的Javascript回调函数？

> ID：11644206
> 
> 赞同：2
> 
> 时间：2012-07-25T06:54:58.927
> 
> 标签：javascript

我有这个简单的代码：

```
console.log('calling doWork func...')
doWork('a', 'b', myCb);

function doWork(param1, param2, callback)
{
        console.log('in func')
        callback();
}

function myCb(a)
{
        console.log('in callback... for value ' + a)
} 
```

我正在使用回调函数运行该函数 -

我得到的输出是：

```
"calling doWork func..."
"in func"
"in callback... for value undefined"    // notice the undefined 
```

一切都好。

现在，我希望使用*指定的参数*调用回调 - 类似于（这是不正确的，因为`()`正在执行 func）：

```
doWork('a', 'b', myCb('xxxx')); 
```

我希望输出为：

```
in callback... for value  xxxx 
```

如何通过 myCb 调用发送参数 `doWork('a', 'b', myCb);`？*('当你运行回调函数时，请根据值xxxx运行')*

有什么帮助吗？

ps 我想避免任何*全局标志解决方案*

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T06:58:27.653

常见的解决方案是就地创建另一个函数。

```
doWork('a', 'b', function () {
    myCb('xxxx');
}); 
```

您还可以使用一个函数来抽象[柯里](http://en.wikipedia.org/wiki/Currying)化。JavaScript (ES5) 甚至内置了一个 – [`Function.prototype.bind`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind). 请注意，本`bind`机会使您的回调变慢并且在浏览器中的支持有限（请参阅 MDN 页面）。

```
doWork('a', 'b', myCb.bind(null, 'xxxx')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:00:50.947

解决方案之一是使用`.bind`：

```
doWork('a', 'b', myCb.bind(null, 'xxx')); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:07:14.860

或者你可以使用 apply 和 arguments

```
console.log('calling doWork func...')
doWork('va', 'b', myCb);

function doWork(param1, param2, callback)
{
        console.log('in func')

        callback.apply(this,arguments);
}

function myCb(a)
{
        console.log('in callback... for value ' + a)
} 
```

[JSbin](http://jsbin.com/ejuqak/1/edit)示例

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:02:24.117

```
console.log('calling doWork func...')
doWork (myCb, "a", "b");
function doWork (callback) {
console.log('in func')
callback (arguments[1], arguments[2]);
}
function myCb (param1, param2) {
console.log('in callback... for value ' + param1)
} 
```

希望这对你有帮助

# ruby-on-rails - Rails(3.2.2) 从非 spree 控制器直接登录到 Spree(1.1.1)

> ID：11644211
> 
> 赞同：0
> 
> 时间：2012-07-25T06:55:28.233
> 
> 标签：ruby-on-rails, ruby-on-rails-3, spree

我已将 Spree(1.1.1) 集成到我现有的 Rails 3.2.2 应用程序中。我现有的应用程序中有 home_controller。我想使用 sign_in 方法将用户从家庭控制器中的操作直接登录到狂欢

```
user = Spree::User.find(params[:user_id])
sign_in(user) 
```

但是那个 sign_in 方法是在 Spree 的上下文中的。

我应该如何使用sign_in。?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T01:25:19.183

该`sign_in`方法来自Devise。您可以在应用程序的任何控制器中使用此方法。

# android - 在android中开发sdk

> ID：11644222
> 
> 赞同：0
> 
> 时间：2012-07-25T06:56:08.517
> 
> 标签：android

想为我们的客户在 android 中开发一个 sdk，因此需要有关需要遵循的编码标准和实践的帮助。
请分享您的宝贵意见。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-25T07:57:47.837

As per the @user370305 comment, to create a native app you need to use Java. The best support software is [Eclipse](http://www.eclipse.org/downloads/). Using Eclipse you can install the Android simulator which is very useful as you can test against all different Android firmwares.

When developing you need to take into account the many different screen sizes and resolutions, orientation etc.

Finally, if you like you can use something like [phonegap](http://phonegap.com/) to develop in HTML 5, CSS & JavaScript.

Hope this is what you were after.

# scorm - 暂停所有导航请求

> ID：11644229
> 
> 赞同：0
> 
> 时间：2012-07-25T06:56:39.853
> 
> 标签：scorm, scorm2004

**考虑以下场景：**

1.  SCO A 推出，
2.  SCO A 设置其 cmi.exit = suspend 然后触发 Continue 导航请求，
3.  SCO B推出，
4.  SCO B 触发 Suspend All 导航请求，学习者返回 LMS，
5.  学习者触发 Resume All 导航请求，
6.  SCO B再次启动，
7.  SCO B 触发一个先前的导航请求，
8.  SCO A 启动。

**问题：**现在，SCO A的跟踪模型和运行时环境数据模型是否应该设置为默认值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T17:27:27.000

保存 SCO A 和 SCO B 的跟踪数据。事实上，`Suspend All`为课程中的所有 SCO 保存跟踪数据。恢复时，将恢复所有 SCO 的所有跟踪数据。可以想象`Suspend All`在返回 LMS 时对整个课程进行快照。

# java - Android WeakReference 未按预期运行

> ID：11644230
> 
> 赞同：0
> 
> 时间：2012-07-25T06:56:50.090
> 
> 标签：java, android, weak-references

据我所知，从规范（以及标准的非android）java中，如果一个对象只是“弱引用”，即只能通过弱引用访问 - 它将**在**下次运行时被垃圾收集器收集.

在我的 android 应用程序中，出于某种原因，情况并非如此。

一个相当重的对象（Activity）每次创建时都留在堆中，但是当我执行堆转储并在 Eclipse 内存分析器中检查它时，我看到该对象仍然在堆中，**即使它只是弱引用**（因为可以在合并路径到 GC 根选项中可以看到）

当我明确清除弱引用时，对象被清除。

我在 Android 2.3.3 上运行我的应用程序。它看起来像是某种平台错误。

我错过了什么吗？有没有其他人遇到过这个问题？

谢谢，约阿夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:04:02.227

> *它将在下次运行**时**被垃圾收集器收集。*

不，没有这样的保证。它*可以*被收集。（这适用于所有对象，无论引用类型如何，这就是为什么您经常读到一个对象变得“*符合*收集条件”的原因。）

# android - 如何使用 Intents 发送自定义文件类型？

> ID：11644235
> 
> 赞同：0
> 
> 时间：2012-07-25T06:57:18.937
> 
> 标签：android

我已经构建了一个生成 JSON 文件的应用程序，这些文件使用自定义文件扩展名存储应用程序数据。我目前正在使用标准 ACTION_SEND 意图并将 Uri 添加到世界可读文件中。我尝试将类型设置为 application/json 但这引发了一个错误，提示“没有应用程序可以执行此操作”。即使我有用于检测以特定类型进入应用程序的文件的代码，不发送 MIME 类型会更有效吗？有没有更好的方法来执行此共享过程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:16:55.507

```
 I'm currently using a standard ACTION_SEND intent and adding the Uri to the world readable file. I tried setting the type as application/JSON however this brought up an error saying that 'No applications can perform this action'. 
```

在 android 中，我没有找到任何将`JSON`文件显示为查看器文档的应用程序。可能是可用的，如果可用，则只需将其安装在您的设备中并检查它响应查看特定`JSON`文件的 mime 类型。

最好解析此`JSON`文件并将其制作（转换）为`Text`或`HTML`文件，然后`Intent`与`ACTION_VIEW`您一起使用可以在设备上的许多预安装应用程序中查看此文件。

# sql-server - SSRS 为表格报告实现分页

> ID：11644239
> 
> 赞同：2
> 
> 时间：2012-07-25T06:57:48.100
> 
> 标签：sql-server, service, reporting-services, reporting, ssrs-tablix

我在我的一个 SQL 报告服务报告中使用 Tablix。默认视图显示所有记录。我想实现分页，比如在第 1 页显示前 50 条记录，在第 2 页显示接下来的 50 条记录，依此类推。有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-26T13:58:12.977

在某些报表中，您可能希望在指定行数的末尾放置一个分页符，而不是在组或报表项上，或除此之外。为此，请在数据区域中创建一个组（通常是紧接在详细信息之外的一个组），向该组添加一个分页符，然后添加一个组表达式以按指定的行数进行分组。

以下表达式放在组表达式中时，为每组 25 行分配一个数字。为组定义分页符时，此表达式将导致每 25 行分页符。

=Int((RowNumber(Nothing)-1)/25)

来源： http: [//msdn.microsoft.com/en-us/library/ms157328 (SQL.90).aspx](http://msdn.microsoft.com/en-us/library/ms157328(SQL.90).aspx)

# asp.net-mvc-3 - MVC3 中的无会话控制器

> ID：11644240
> 
> 赞同：0
> 
> 时间：2012-07-25T06:57:48.903
> 
> 标签：asp.net-mvc-3

我听说过 MVC3 中的 sessionles 控制器。

```
 [SessionState(SessionStateBehaviour.Disabled)] 
 public class   MyController :Controller   
 { 

 } 
```

如果我使用无会话控制器，那么如何在我的应用程序中为特定用户浏览页面？最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:00:02.280

如果您希望单个用户浏览多个页面的概念，最好使用标准的启用会话的*控制器*。

禁用会话状态的控制器为不需要会话状态的控制器提供了优化。

> 默认情况下，ASP.NET 管道不会同时处理属于同一会话的请求。它对它们进行序列化，即按照它们被接收的顺序对它们进行排队，以便它们被串行处理而不是并行处理。

[http://tech-journals.com/jonow/2011/10/22/the-downsides-of-asp-net-session-state](http://tech-journals.com/jonow/2011/10/22/the-downsides-of-asp-net-session-state)

# macos - Mac NSView 动画 animationDidEnd 在 Retina MBP 上调用了两次

> ID：11644247
> 
> 赞同：0
> 
> 时间：2012-07-25T06:58:26.337
> 
> 标签：macos, retina-display, nsanimation

最近在我的应用程序中出现了一个与新 MBP Retina 上的视图动画相关的错误。我没有要重现的新 MPB，但受影响的用户正在通过大量调试输出帮助追查问题。在我的动画委托上似乎两次调用了animationDidEnd，第二次似乎把事情搞砸了。该代码已经在 10.5-10.7.4 上运行了很长一段时间，到目前为止，这似乎与新的 MBP Retina 隔离。

我将视图本身用作动画委托，以防视图和动画委托之间的关系发生了变化，从而排除了这种可能性。我还在进一步调查 animationDidEnd 方法被两个不同的动画对象调用的可能性（尽管我没有任何迹象表明另一个动画正在应用程序的任何地方运行，更不用说这个委托了）。

如果有人知道与动画代表相关的文档的任何更新，我将不胜感激指针或其他任何想法。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T07:48:01.077

已解决：这个问题根本与动画无关。它与使用已弃用的方法 convertPointFromBase 有关：

虽然不推荐使用的方法至少在下一个版本中“通常”是可以的，但当涉及到 Retina 显示器时，这个方法就很麻烦了。这只是推测，但由于该方法在非 Retina 显示器上按预期工作，我不得不假设这与新显示器上的像素密度有关。

# objective-c - 我的 tableView 方法性能不佳

> ID：11644253
> 
> 赞同：-1
> 
> 时间：2012-07-25T06:58:55.150
> 
> 标签：objective-c, ios, uitableview

我有两个问题（实际上是一个 - 我的代码很烂）：

1.  我的表需要很长时间才能加载（大约 5 秒）
2.  她穷得可怕

有任何想法吗？

我的 tableView 方法：

```
// Table
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    RefreshDelegate *RefreshProtocol = [[RefreshDelegate new] autorelease];
    RefreshProtocol.delegate = self;

return [[RefreshProtocol returnDataForTable] count];

}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    RefreshDelegate *RefreshProtocol = [[RefreshDelegate new] autorelease];
    RefreshProtocol.delegate = self;

    NSArray *curent = [self curent:section];
    return [curent count];
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section { 
    RefreshDelegate *RefreshProtocol = [[RefreshDelegate new] autorelease];
    RefreshProtocol.delegate = self;

    return [[[RefreshProtocol returnDataForTable] allKeys] objectAtIndex:section];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault 
                                       reuseIdentifier:CellIdentifier] autorelease];
    }

    NSArray *curent = [self curent:indexPath.section];
    cell.textLabel.text = [curent objectAtIndex:indexPath.row];

    return cell;
}

- (NSArray*)curent:(NSInteger)index {
    RefreshDelegate *RefreshProtocol = [[RefreshDelegate new] autorelease];
    RefreshProtocol.delegate = self;

    NSArray *keys = [[RefreshProtocol returnDataForTable] allKeys];
    NSString *curentKey = [keys objectAtIndex:index];
    NSArray *curent = [[RefreshProtocol returnDataForTable] objectForKey:curentKey];
    return curent;
} 
```

我的 RefreshProtocol 方法：

```
#define MaxCountPair 7
-(NSDictionary *)returnDataForTable{  
    NSMutableArray *day_1 = [NSMutableArray arrayWithCapacity:MaxCountPair];
    NSMutableArray *day_2 = [NSMutableArray arrayWithCapacity:MaxCountPair];
    NSMutableArray *day_3 = [NSMutableArray arrayWithCapacity:MaxCountPair];
    NSMutableArray *day_4 = [NSMutableArray arrayWithCapacity:MaxCountPair];
    NSMutableArray *day_5 = [NSMutableArray arrayWithCapacity:MaxCountPair];
    NSMutableArray *day_6 = [NSMutableArray arrayWithCapacity:MaxCountPair];

    // Analysis db and write array today
    NSArray *array = [SQLiteAccess selectManyRowsWithSQL:@"select * from schedule"];
    for (int i = 0; i < [array count]; i++) {
        NSDictionary *dictionary = [array objectAtIndex:i];

        if ([self checkOverlapDigit:[[[NSUserDefaults standardUserDefaults] valueForKey:@"numberWeek"] objectForKey:@"numberWeek"]:[dictionary objectForKey:@"week"]] && [self checkOverlapDigit:[self subgroupToInt]:[dictionary objectForKey:@"subgroup"]]) {
            if ([self checkDay:[[dictionary objectForKey:@"day"] intValue]]) {
                [day_1 addObject:[dictionary objectForKey:@"subject"]]; 
            }
            else {
                if ([self checkDay:[[dictionary objectForKey:@"day"] intValue] - 1]) {
                    [day_2 addObject:[dictionary objectForKey:@"subject"]];
                }
                else {
                    if ([self checkDay:[[dictionary objectForKey:@"day"] intValue] - 2]) {

                        [day_3 addObject:[dictionary objectForKey:@"subject"]];
                    }
                    else {
                        if ([self checkDay:[[dictionary objectForKey:@"day"] intValue] - 3]) {
                            [day_4 addObject:[dictionary objectForKey:@"subject"]];
                        }
                        else {
                            if ([self checkDay:[[dictionary objectForKey:@"day"] intValue] - 4]) {
                                [day_5 addObject:[dictionary objectForKey:@"subject"]];
                            }
                            else {
                                if ([self checkDay:[[dictionary objectForKey:@"day"] intValue] - 5]) {
                                    [day_6 addObject:[dictionary objectForKey:@"subject"]];
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    NSDictionary *days = [NSDictionary dictionaryWithObjectsAndKeys:day_1, @"1", day_2, @"2", day_3, @"3", day_4, @"4", day_5, @"5", day_6, @"6", nil];

    return days;
}

-(NSString *)removeAllButDigit:(NSString *)originalString{
    // Remove all but digit
    NSMutableString *strippedString = [NSMutableString 
                                       stringWithCapacity:originalString.length];

    NSScanner *scanner = [NSScanner scannerWithString:originalString];
    NSCharacterSet *numbers = [NSCharacterSet 
                               characterSetWithCharactersInString:@"1234"];

    while ([scanner isAtEnd] == NO) {
        NSString *buffer;
        if ([scanner scanCharactersFromSet:numbers intoString:&buffer]) {
            [strippedString appendString:buffer];
        } else {
            [scanner setScanLocation:([scanner scanLocation] + 1)];
        }
    }

    return strippedString;
}

-(BOOL)checkDay:(NSInteger)day{
    NSString *currentDay = nil;
    switch (day) {
        case 1:
            currentDay = NSLocalizedString(@"_monday", nil);
            break;
        case 2:
            currentDay = NSLocalizedString(@"_tuesday", nil);
            break;
        case 3:
            currentDay = NSLocalizedString(@"_wednesday", nil);
            break;
        case 4:
            currentDay = NSLocalizedString(@"_thursday", nil);
            break;
        case 5:
            currentDay = NSLocalizedString(@"_friday", nil);
            break;
        case 6:
            currentDay = NSLocalizedString(@"_saturday", nil);
            break;
        default:
            break;
    }

    NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];  
    [dateFormatter setDateFormat:@"EEEE"];
    if ([currentDay isEqualToString:[dateFormatter stringFromDate:[NSDate date]]]) {
        return YES;
    }
    return NO;
}

-(BOOL)checkOverlapDigit:(NSString *)smallerString:(NSString *)largerString{
    if ([largerString isEqualToString:@"0"]) {
        return YES;
    }

    NSInteger intSmaller = [[self removeAllButDigit:smallerString] intValue];
    NSInteger intLarger = [[self removeAllButDigit:largerString] intValue];

    while (1) {
        if (intLarger % 10 != 0) {
            NSInteger sedimentWeek = intLarger % 10;
            if (sedimentWeek == intSmaller) {
                return YES;
            }
            intLarger /= 10;
        }
        else {
            if (intLarger / 10 != 0) {
                intLarger /= 10;
                if (intLarger == intSmaller) {
                    return YES;
                }
            }
            else {
                return NO;
            }
        }
    }
}

-(NSString *)subgroupToInt{
    if ([[[NSUserDefaults standardUserDefaults]objectForKey:@"subgroupValue"] isEqualToString: @"subgroupValue1"]) {
        return @"1";
    }
    else
        if ([[[NSUserDefaults standardUserDefaults]objectForKey:@"subgroupValue"] isEqualToString: @"subgroupValue2"]) {
            return @"2";

        }
        else
            if ([[[NSUserDefaults standardUserDefaults]objectForKey:@"subgroupValue"] isEqualToString: @"subgroupValue3"]) {
                return @"3";
            }
    return @"4";
} 
```

和 SQLiteAccess 类：[.h](http://pastebin.com/nj9Y5p3G)，[.m](http://pastebin.com/kbFyREqT)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:06:10.883

对于开始......您可以（您必须）只创建一次对象！（在构造函数中？在`-viewDidLoad`？）

然后在 tableView 委托方法中访问您的（唯一）对象。

编辑：在你的类中添加一个属性：

```
@property (nonatomic, strong) RefreshDelegate* refreshProtocol; 
```

在你的`-viewDidLoad`方法中添加

```
-(void)viewDidLoad
{
    [super viewDidLoad];
    self.refreshProtocol = [[RefreshDelegate new] autorelease];
    self.refreshProtocol.delegate = self;
} 
```

现在：

```
- (NSArray*)curent:(NSInteger)index {    

    NSArray *keys = [[self.refreshProtocol returnDataForTable] allKeys];
    NSString *curentKey = [keys objectAtIndex:index];
    NSArray *curent = [[self.refreshProtocol returnDataForTable] objectForKey:curentKey];
    return curent;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    NSArray *curent = [self curent:section];
    return [curent count];
} 
```

...并纠正其他方法...

# wordpress - Wordpress - 综合谷歌地图

> ID：11644254
> 
> 赞同：0
> 
> 时间：2012-07-25T06:59:13.450
> 
> 标签：wordpress, google-maps-api-3

我正在运行 wordpress 3.4.1 + 插件综合谷歌地图。该插件允许人们轻松地将谷歌地图+标记广告到任何帖子或页面。

**问题**

是否可以将标记行为更改为可点击的 URL。目前，当您单击标记时，它会显示标记信息。我希望它转到指定的 URL。

我也愿意使用另一个插件。我真正需要的是一个带有多个标记的谷歌地图，这些标记都附加了相关的 URL，我可以将其嵌入到页面中。

提前致谢

查尔斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:44:45.990

我不熟悉您使用的插件，但您可以添加一些自定义代码以向标记添加额外功能。您应该能够在插件文件中找到此代码：“google.maps.event.addListener(marker,...”如果您这样做，那么您可以像这样添加自己的侦听器：

```
`google.maps.event.addListener(marker, 'click', function() { window.location = "the desired url"; }` 
```

当您检查插件代码时，它可能已经有一个“click”事件的侦听器，因此您可以编辑该事件而无需添加另一个侦听器。

# ruby-on-rails - 使用 FactoryGirl 时不断收到 record_invalid

> ID：11644255
> 
> 赞同：2
> 
> 时间：2012-07-25T06:59:14.443
> 
> 标签：ruby-on-rails, ruby

很多时候，当我在我的规范中使用 FactoryGirl 时，我不断收到如下错误：

```
Failure/Error: f = FactoryGirl.build(:my_model)
     ActiveRecord::RecordInvalid:
       translation missing: de.activerecord.errors.messages.record_invalid 
```

现在，如果我在测试模式下启动控制台，我会得到一条记录，并且不会出现任何错误。我应该如何处理这个？

编辑：我错过了翻译，也没有看到相关信息。切换到`:en`语言环境后，错误很明显。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:31:19.777

可能您无法构建模型，因为它在初始化期间需要一些参数。使用`initialize_with`：

```
factory :user do
  name "John Doe"

  initialize_with { new(name) }
end 
```

详情请查看[https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md#custom-construction](https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md#custom-construction)

# ios - 为 iOS 应用程序提交 Open Graph 操作？

> ID：11644259
> 
> 赞同：2
> 
> 时间：2012-07-25T06:59:35.830
> 
> 标签：ios, facebook, facebook-opengraph

对于 App Store 中尚不存在的 iOS 应用程序，当我为 Facebook Open Graph Api 提交操作时，我应该为“重现您的操作的步骤”写什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T18:32:55.953

当您拥有诸如此类的本机移动应用程序时，您可以提交应用程序流程的屏幕截图作为可接受的替代方案。具体来说，屏幕截图应显示在应用程序中如何触发动作，以及故事在用户时间轴上的样子。

将屏幕截图上传到某个 URL，然后在提交时解释并包含 URL。

资料来源：与负责批准行动的 Facebook 团队交谈。

# javascript - 如何使用 jquery 增加 div 的不透明度？

> ID：11644261
> 
> 赞同：3
> 
> 时间：2012-07-25T06:59:45.197
> 
> 标签：javascript, jquery

我只想为 div 设置动画。div 的不透明度最终应该以某种方式显示，它应该以最大不透明度显示。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:27:15.410

将div的不透明度设置为0

```
$(div).css({opacity : 0}) 
```

然后，使用动画

```
$(div).animate({'opacity': 1}, 1000) 
```

您也可以在 css 中设置不透明度

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:02:08.427

使用[`fadeTo()`](http://api.jquery.com/fadeTo/)：

```
$('div').fadeTo('fast', .5) // fade div to 50% opacity 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:05:07.267

或者你可以使用动画：

```
$('#test').animate({

    'opacity': 1,
    'width': '400px'

},  600); 
```

# servicebus - Service Bus for Windows Server（Service Bus 1.0 Beta）是否支持中继功能？

> ID：11644262
> 
> 赞同：1
> 
> 时间：2012-07-25T06:59:45.830
> 
> 标签：servicebus

如果支持，API 是否与基于公共云的 Azure Servicebus 完全相似。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T20:01:03.157

不，不是的。Relay 计划在以后的版本中发布。这就是为什么我们在细则中将此版本称为“服务总线消息传递引擎”。

克莱门斯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T20:42:12.350

刚刚才知道，即将推出的 AzurePack 包含此功能。

# mysql - MySQL Query with join and Alias without table name

> ID：11644263
> 
> 赞同：0
> 
> 时间：2012-07-25T06:59:55.667
> 
> 标签：mysql, select, alias

我遇到了一个有趣的问题：

我有两个表 t1 和 t2 有几列。因为两个表中的两列具有相同的名称，所以我需要这样做：

```
SELECT t1.foo AS ID, t2.bar as NAME
FROM t1, t2
WHERE t1.foo = t2.foo; 
```

答案以 t1.ID, t2.NAME 开头

我不会在标题中使用表名。

有趣的事情：在视图中使用相同的查询返回正确/想要的标题：ID...NAME

我想在观察到相同行为的存储过程中使用这些查询。

尝试使用 MySQL 5.5.9

知道如何避免标题中的表名吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:18:06.343

```
SELECT ID, NAME
FROM (SELECT t1.foo AS ID, t2.bar as NAME
FROM t1, t2
WHERE t1.foo = t2.foo) AS t; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-29T12:48:04.853

您可以使用简单的字符串或 int 函数从字段中删除链接的表名：

```
SELECT (t1.foo+0) AS ID, CONCAT(t2.bar) as NAME
FROM t1, t2
WHERE t1.foo = t2.foo; 
```

# php - 数组与数组中的键相交？

> ID：11644267
> 
> 赞同：20
> 
> 时间：2012-07-25T07:00:03.967
> 
> 标签：php, arrays

我有一个包含国家/地区的数组：

```
array(
'AF'=>'AFGHANISTAN',
'AL'=>'ALBANIA',
'DZ'=>'ALGERIA',
'AS'=>'AMERICAN SAMOA',
); 
```

我有另一个数组，里面有一些键

```
array('AL', 'DZ'); 
```

我想调用一个函数，它将两个数组都作为参数并返回

```
array(
'AL'=>'ALBANIA',
'DZ'=>'ALGERIA',
); 
```

我知道 php 已经内置了比较键或值的函数，但似乎这些函数都希望你有两个 1D 数组或两个 2D 数组。

我可以遍历`array_keys()`第一个数组并`in_array()`检查每个键，但这似乎真的效率低下......

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-07-25T07:16:57.543

```
$selection = array('AL', 'DZ');
$filtered = array_intersect_key($countries, array_flip($selection));
var_dump($filtered); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-25T07:13:45.250

只需循环第二个数组，然后从第一个数组中获取值。反之亦然，似乎确实是不必要的低效。

所以：

```
$Arr1 = array(
'AF'=>'AFGHANISTAN',
'AL'=>'ALBANIA',
'DZ'=>'ALGERIA',
'AS'=>'AMERICAN SAMOA',
);

$Arr2 = array('AL', 'DZ');

$result = array();
foreach ($Arr2 as $cc){
  if (isset($Arr1[$cc])){
    $result[$cc] = $Arr1[$cc];
  }
}
print_r($result); 
```

我不认为这是低效的。

编辑补充：如果您 100% 确定 $Arr2 仅包含可在 $Arr1 中找到的代码，您当然可以跳过 isset() 测试。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-25T07:40:16.597

我认为这会有所帮助。这是一个功能 key_values_intersect 将按您的预期工作:)

```
$longcodes = array(
    'AF' => 'AFGHANISTAN',
    'AL' => 'ALBANIA',
    'DZ' => 'ALGERIA',
    'AS' => 'AMERICAN SAMOA',
);

$code = array('AL', 'DZ');

function key_values_intersect($haystack, $needle)
{
    $tmp=array();
    foreach ($needle AS $key) {
        $tmp[$key] = $haystack[$key];
    }
    return $tmp;
}

print_r(key_values_intersect($longcodes,$code)); 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-07-25T07:08:14.267

如果我理解正确，您有一系列国家和一系列需要的国家，并且您想用需要的国家创建数组。如果是这样，那么你可以试试这个：

```
$countries = array ("AF"=>"AFGJANISTAN", "AL"=>"ALBANIA", "LV"=>"LATVIA", "USA"=>"UNITED STATES OF AMERICA");
$needed  = array ("AF", "AL");

$result = array ();
foreach ($needed as $row) {
   if (in_array($row, $contries)) {
       $result[] = $countries[$row];
   }
}
var_dump($result); 
```

# webdeploy - 混合 web.config 转换和 Parameters.xml，或者类似的东西

> ID：11644269
> 
> 赞同：7
> 
> 时间：2012-07-25T07:00:12.423
> 
> 标签：webdeploy, web-config-transform

我已经使用 web.config 转换有一段时间了，用于在我们的一些项目中进行部署。**我现在想要实现的是让 Web Deploy 的“导入包”屏幕提示检查和更新中的几个变量，并针对每个环境进行调整**。

我知道我可以使用[Parameters.xml](http://vishaljoshi.blogspot.co.nz/2010/07/web-deploy-parameterization-in-action.html)来引入这些可编辑变量，但我还没有找到如何为不同的环境目标更新默认值。

考虑以下简洁但不重叠的示例，希望用户编辑“ *specialServer* ”AppSetting，并在为**NewEnv**目标编译时呈现不同的默认值：

**Parameters.xml 中的示例条目：**

```
<parameter name="Special server" description="" tags="" defaultValue="server1-dev.domain">
    <parameterEntry kind="XmlFile" scope="\\web.config$" match="/configuration/appSettings/add[@key='specialServer']/@value" />
</parameter> 
```

**Web.NewEnv.config**的示例转换，为

```
<appSettings>
    <add key="specialServer"
        value="other-server.domain2"
        xdt:Transform="SetAttributes" xdt:Locator="Match(key)"/>
</appSettings> 
```

**Web Deploy 中的提示示例：**

![在此处输入图像描述](../Images/a6cd6514cde9f7efb4eda1c1e4f8f43e.png)

关于如何更新不同构建目标的默认值的任何建议？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-21T08:24:23.433

您必须`WebDeploy`为每个环境生成新的参数定义文件并将其嵌入到您的包中。

这将为每个环境提供不同的部署包，并允许您为这些参数指定不同的默认值。显然，如果参数转换并且您最终会在您的配置中烘烤，那么这样做会破坏这一点，但这是实现您想要的唯一方法。

我不推荐这种方法，但它可能适合您的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-24T16:03:44.173

我们使用批处理脚本来调用 msdeploy。它允许 parm 指定 Parameters.xml 文件。然后使用多个 Parameters.xml 文件（每个环境一个），您可以像这样调用 msdeploy：

"C:\Program Files\IIS\Microsoft Web Deploy V3\msdeploy.exe" -source:package='D:\mysite.zip' -dest:auto,computerName="testcomp1",includeAcls="False" -verb:同步 -disableLink:AppPoolExtension -disableLink:ContentExtension -disableLink:CertificateExtension -setParamFile:"D:\mysite.test.SetParameters.xml"

# php - 表单数据未出现在php文件中

> ID：11644270
> 
> 赞同：0
> 
> 时间：2012-07-25T07:00:17.810
> 
> 标签：php, jquery, html, fancybox

所以我无法完全理解发生了什么。我正在使用[Fancybox](http://fancybox.net/)来启动电子邮件提交过程。此过程收集信息（姓名、电子邮件等），然后通过表单“发布”发送这些值。这个 php 文件 (mail.php) 然后获取这些值并使用它们填充适当的字段以发送邮件消息。看起来很简单。

消息发送，但是我从电子邮件提交表单中检索的数据似乎不存在。当我从fancybox 中取出表单并将其简单地显示在页面上时，它会将值很好地发送到php 文件，所以显然这与fancybox 有关。

我不完全理解fancybox（没有查看源代码），也没有在搜索类似问题时产生积极的结果（也许我只是使用了不正确的搜索词）。

无论如何，如果有人可以在这里指导我的仪式方向，因为这是一件令人沮丧的事情。

以供参考：

HTML -

```
 <form id="default-behavior" action="mail.php" method="post"> 
```

```
<div style="display:none">
    <div class="TextCopyright" id="accept" style="width: 700px; font-size: 10px">
        page one
                </br></br><a id="submitClick" href="#submitPage"><button id="conditionButton" type="button" class="submitBtns">I agree to the terms and conditions above</button></a>
    </div>
</div>
<div style="display:none">

        <div id="submitPage">
            <table border="0" cellspacing="0px" class="TextBlock" style="margin-top: 10px" bgcolor="#FFFFFF">
                <tr>
                    <td class="TextBlockOrangeForm"><strong>Name:</strong></td>
                    <td><input type="text" class="formText" name="txtName" id="txtName" style="margin-right:50px"/></td>
                    <td class="TextBlockOrangeForm"><strong>Email:</strong></td>
                    <td><input type="text" class="formText" name="email" id="email"/></td>
              </tr>
                <tr>
                    <td class="TextBlockOrangeForm"><strong>Phone:</strong></td>
                    <td><input type="text" class="formText" name="txtPhone" id="txtPhone"/></td>
                    <td class="TextBlockOrangeForm"><strong>Fax:</strong></td>
                    <td><input type="text" class="formText" name="txtFax" id="txtFax"/></td>
                </tr>
                <tr>
                    <td class="TextBlockOrangeForm"><strong>Address:</strong></td>
                    <td><input type="text" class="formText" name="txtAddress" id="txtAddress"/></td>
                    <td class="TextBlockOrangeForm"><strong>City:</strong></td>
                    <td><input type="text" class="formText" name="txtCity" id="txtCity"/></td>
                </tr>
                <tr>
                    <td class="TextBlockOrangeForm"><strong>Prov/State:</strong></td>
                    <td><input type="text" class="formText" name="txtProv" id="txtProv"/></td>
                    <td class="TextBlockOrangeForm"><strong>Postal/Zip:</strong></td>
                    <td><input type="text" class="formText" name="txtPostal" id="txtPostal"/></td>
                </tr>
                <tr>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
              </tr>
            </table>
  </br>
            <textarea name="story" class="formText" id="story" style="width:490px; height: 125px">
            </textarea><br>
            <input type="submit" value="Submit Story" id="btnSubmit"/>      
        </div>

</div>
    </form> 
```

PHP -

```
$message = $_POST['story']; 

$headers = 'From:' . $from . "\r\n" .
'Reply-To:' . $from . "\r\n" .
'X-Mailer: PHP/' . phpversion();

// now lets send the email. 
mail($to, $subject, $message, $headers); 

echo "Message has been sent....!".$message; 
```

js -

```
 $(document).ready(function() {
$("#story").text("");

$("a#inline").fancybox({
    'hideOnContentClick': true,
    'showCloseButton'   : true,
        'autoDimensions': true      
});

$("#submitClick").fancybox({
    'hideOnContentClick': true,
    'showCloseButton'   : true,
        'autoDimensions': true      
});

$("#btnSubmit").click(function () {
    $('#default-behavior').submit();
});
    }); 
```

**编辑** 尝试使用 jquery post 方法，但仍然有相同的结果（咳嗽，没有结果）：

```
 $("#btnSubmit").click(function () {
    $.post("mail.php", $("#default-behavior").serialize());
    //$('#default-behavior').submit();
}); 
```

为了进一步确认这与fancybox直接相关，我尝试了带有显式参数的jquery帖子，它适当地发送了数据，即：

```
 $("#btnSubmit").click(function () {
    $.post("mail.php", { email: "email@email.com", story: "blah blah test story" });
    //$('#default-behavior').submit();
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T22:08:09.063

好的，问题解决了。

通过利用 jquery $.post() 方法，我能够将表单值发送到 php 文件。

像这样：

```
 $("#btnSubmit").click(function () {
    var ml = $("#email").val();
    var stry = $("#story").val();

    $.post("mail.php", { email: ml, story: stry });
}); 
```

This works for what I need and so has effectively solved the issue. I still have several questions though. Initially I thought that fancybox may be recreating the form elements and putting the 'cloned' elements inside the fancybox, so when trying to access the originals, it would only show "" instead of the values input. But by explicitly assigning the elements to a js variable and then sending those variables through post to the .php file (which evidently works), this has me thinking differently (unless there is something in the process I am missing). So I would really love to solve this, figure out why when calling `$("element").serialize()` it passes empty values.

For this application, it's a rather non-important factor - explicitly assigning values is minor because there are so few. However, this can obviously be a huge issue when passing a large number of values to server-side or what not and as such it would really be good to solve this entirely related but separate issue.

tl;dr - damn you fancybox.

# php - 如何判断 MySQL 事务是否成功

> ID：11644271
> 
> 赞同：4
> 
> 时间：2012-07-25T07:00:20.243
> 
> 标签：php, mysql, transactions

在对 MySQL 的常规单个查询语句中，我可以使用它`mysql_affected_rows()==1`来确定某些内容是否已更新。现在假设我正在尝试执行以下事务：

```
USE myDB;
START TRANSACTION;
UPDATE members SET member_active=0 WHERE member_id = 53;
UPDATE member_subscriptions SET subscription_active=0 WHERE member_id = 53;
COMMIT;
ROLLBACK; 
```

既然我有这两个更新语句，我是否应该在成功的交易上等同于`mysql_affected_rows()==2`？

或者，有没有更好的方法来检查是否成功？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:07:14.210

您应该保存`mysql_affected_rows`in 变量的值。总更新将是其中一些变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:10:26.823

如果您对这两笔交易都进行了跟踪，并且可以更好地判断哪笔交易没有被执行以及会有什么反应。

```
USE myDB;
START TRANSACTION;
UPDATE members SET member_active=0 WHERE member_id = 53;
$count1= mysql_affected_rows();
UPDATE member_subscriptions SET subscription_active=0 WHERE member_id = 53;
$count2= mysql_affected_rows();
COMMIT;
ROLLBACK;

$total_affected_rows = $count1 + $count2; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:13:15.267

是的，检查 mysql_affected_rows()==2 是应用程序级别的另一种方法。

当您使用正确的交易时，它将 100% 成功（`commit`）或什么都没有（ ）。`rolled back`

编辑：您可以使用`ROW_COUNT()`MySQL 中的函数从上次查询中获取受影响的行：

```
USE myDB;
START TRANSACTION;
UPDATE members SET member_active=0 WHERE member_id = 53;
SELECT ROW_COUNT() INTO @count1;
UPDATE member_subscriptions SET subscription_active=0 WHERE member_id = 53;
SELECT ROW_COUNT() INTO @count2;
COMMIT;
ROLLBACK; 
```

那么这些的总和应该等于 2

```
SELECT ((@count1 + @count2) = 2) AS status; 
```

# matlab - 实施互信息的问题

> ID：11644272
> 
> 赞同：0
> 
> 时间：2012-07-25T07:00:23.593
> 
> 标签：matlab, implementation

互信息由公式定义

```
I(X;Y) = H(X) - H(X|Y) = H(Y) - H(Y|X) 
```

其中X，Y是一些列向量。在我的例子中，X是连续信号，Y是离散信号。size(X)=100 并且 Y 的离散化数量是 10 并且 Y 的字长是 5（比如）。现在，我知道首先我们必须找到联合概率，然后是条件概率，然后是 I(X, Y).鉴于此，我有以下实现问题

1.  在计算联合概率时，它们会被计算到大小（x）还是直到离散化信号Y的字长？
2.  如何获得 I 的单个数值和 I 的图
3.  如何找到通道容量

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T14:28:26.647

看看等式的最后一部分：什么是`H(Y|X)`？它是`Y`假设我们知道的熵`X`……但`Y`只是 ! 的离散化`X`！更具体地说，如果我们知道`X`，那么我们精确地知道`Y`，因此`Y`给定的熵`X`为零。这给你留下了

```
I(X;Y) = H(Y) 
```

考虑到这一点，您是否还有任何问题需要回答？

# android - 如何在 MediaStore 中搜索特定目录而不是整个外部存储？

> ID：11644275
> 
> 赞同：0
> 
> 时间：2012-07-25T07:00:35.963
> 
> 标签：android

在我的应用程序中，我有一个选项允许用户浏览手机上的音频文件以添加到应用程序中。但是，我在创建更快的查询代码处理方式时遇到了麻烦。目前它会搜索整个外部存储并导致手机提示强制关闭/等待警告。我想采用我在下面发布的代码，并通过在手机上的特定文件夹中搜索或通过简化流程以加快文件搜索速度来提高效率。但是，我不确定如何执行此操作。谢谢！

```
public class BrowseActivity extends DashboardActivity implements
    OnClickListener, OnItemClickListener {

private List<Sound> soundsInDevice = new ArrayList<Sound>();
private List<Sound> checkedList;
private ListView browsedList;
private BrowserSoundAdapter adapter;
private long categoryId;
private Category category;

private String currentCategoryName;
private String description;

//  private Category newCategory ;
private Button doneButton;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.activity_browse);

    checkedList = new ArrayList<Sound>();

    browsedList = (ListView) findViewById(android.R.id.list);
    doneButton = (Button) findViewById(R.id.doneButton);

    soundsInDevice = getMediaSounds();

    if (soundsInDevice.size() > 0) {
        adapter = new BrowserSoundAdapter(this, R.id.browseSoundName,
                soundsInDevice);
    } else {
        Toast.makeText(getApplicationContext(),
                getString(R.string.no_sounds_available), Toast.LENGTH_SHORT)
                .show();
    }

    browsedList.setAdapter(adapter);
    browsedList.setOnItemClickListener(this);

     doneButton.setOnClickListener(this);
}

private List<Sound> getMediaSounds() {
    List<Sound> mediaSoundList = new ArrayList<Sound>();
    ContentResolver cr = getContentResolver();
    String[] projection = {MediaStore.Audio.Media._ID,
            MediaStore.Audio.Media.DISPLAY_NAME,
            MediaStore.Audio.Media.TITLE, 
            MediaStore.Audio.Media.DATA,
            MediaStore.Audio.Media.DURATION};

    final Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;
    Log.v("MediaStore.Audio.Media.EXTERNAL_CONTENT_URI", "" + uri);
    final Cursor cursor = cr.query(uri, projection, null, null, null);
    int n = cursor.getCount();
    Log.v("count", "" + n);
    if (cursor.moveToFirst()) {
        do {
            String soundName = cursor
                    .getString(cursor
                            .getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME));
            Log.v("soundName", "" + soundName);
            String title = cursor
                    .getString(cursor
                            .getColumnIndexOrThrow(MediaStore.Audio.Media.TITLE));

            Log.v("title", "" + title);
            String path = cursor.getString(cursor
                    .getColumnIndexOrThrow(MediaStore.Audio.Media.DATA));

            Log.v("path", "" + path);

            Sound browsedSound = new Sound(title, path, false, false,
                    false, false, 0);

            Log.v("browsedSound", "" + browsedSound);

            mediaSoundList.add(browsedSound);

            Log.v("mediaSoundList", "" + mediaSoundList.toString());
        } while (cursor.moveToNext());

    }
    return mediaSoundList;

}

public class BrowserSoundAdapter extends ArrayAdapter<Sound> {

    public BrowserSoundAdapter(Context context, int textViewResourceId,
            List<Sound> objects) {
        super(context, textViewResourceId, objects);

    }

    @Override
    public View getView(final int position, View convertView,
            ViewGroup parent) {
        ViewHolder viewHolder;
        View view = convertView;
        LayoutInflater inflater = getLayoutInflater();

        if (view == null) {
            view = inflater.inflate(R.layout.list_item_browse, null);
            viewHolder = new ViewHolder();

            viewHolder.soundNameTextView = (TextView) view
                    .findViewById(R.id.browseSoundName);
            viewHolder.pathTextView = (TextView) view
                    .findViewById(R.id.browseSoundPath);
            viewHolder.checkToAddSound = (CheckBox) view
                    .findViewById(R.id.browse_checkbox);
            view.setTag(viewHolder);
        } else {
            viewHolder = (ViewHolder) view.getTag();
        }

        final Sound sound = soundsInDevice.get(position);

        if (sound.isCheckedState()) {
            viewHolder.checkToAddSound.setChecked(true);
        } else {
            viewHolder.checkToAddSound.setChecked(false);
        }

        viewHolder.soundNameTextView.setText(sound.getName());
        viewHolder.pathTextView.setText(sound.getUri());

        viewHolder.checkToAddSound
                .setOnClickListener(new OnClickListener() {
                    @Override
                    public void onClick(View v) {

                        CheckBox cb = (CheckBox) v
                                .findViewById(R.id.browse_checkbox);
                        boolean checked = cb.isChecked();
                        boolean newValue = checked;
                        updateView(position, newValue);
                        doneButtonStatus(checkedList.size());
                    }
                });

        return view;
    }
}

// Adapter view holder class
private class ViewHolder {
    private TextView soundNameTextView;
    private TextView pathTextView;
    private CheckBox checkToAddSound;
}

// done button On Click
@Override
public void onClick(View view) {

    boolean status = getIntent().getBooleanExtra("FromAddCat", false);
    Log.v("for add category","enters in if");
    if(status){
        Log.v("for add category","enters in if1");
        currentCategoryName = getIntent().getStringExtra("categoryName");
        description = getIntent().getStringExtra("description");                                
        boolean existCategory = SQLiteHelper.getCategoryStatus(currentCategoryName);

        if (!existCategory) {
             category = new Category(currentCategoryName, description,
                    false);

            category.insert();
            category.update();          
            Log.v("for add category","enters in if2");
        }
    }else{
        categoryId = getIntent().getLongExtra("categoryId",-1);
        category = SQLiteHelper.getCategory(categoryId);
    }

    for (Sound checkedsound : checkedList) {
        checkedsound.setCheckedState(false);
        checkedsound.insert();
        category.getSounds().add(checkedsound);
        final Intent intent = new Intent(this, CategoriesActivity.class);
        finish();
        startActivity(intent);
    }
}

@Override
public void onItemClick(AdapterView<?> arg0, View view, int position,
        long arg3) {
    boolean checked = true;
    boolean newValue = false;
    CheckBox cb = (CheckBox) view.findViewById(R.id.browse_checkbox);
    if (cb.isChecked()) {
        cb.setChecked(!checked);
        newValue = !checked;
    } else {
        cb.setChecked(checked);
        newValue = checked;
    }
    updateView(position, newValue);
    doneButtonStatus(checkedList.size());

}

private void doneButtonStatus(int size) {

    if (size > 0) {
        doneButton.setEnabled(true);
        doneButton.setBackgroundResource(R.drawable.done_button_drawable);

    } else {
        doneButton.setEnabled(false);
        doneButton.setBackgroundResource(R.drawable.done_btn_disabled);
    }
}

private void updateView(int index, boolean newValue) {
    System.out.println(newValue);
    Sound sound = soundsInDevice.get(index);
    if (newValue == true) {
        checkedList.add(sound);
        sound.setCheckedState(newValue);
    } else {
        checkedList.remove(sound);
        sound.setCheckedState(newValue);
    }

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-28T03:35:32.040

问题是您正在负责更新 UI 的应用程序主线程中执行搜索。长时间运行的任务很好：您只需要在后台线程中执行它们。您可以为此使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)或[工作线程](http://developer.android.com/guide/components/processes-and-threads.html#WorkerThreads)。

# c# - 创建自定义工具提示 C#

> ID：11644277
> 
> 赞同：3
> 
> 时间：2012-07-25T07:00:43.887
> 
> 标签：c#, winforms, tooltip

我想创建一个具有不同样式的自定义工具提示，以便当我单击控件（例如标签或用户控件）时它会出现。

类似于谷歌在谷歌地图中为坐标所做的事情。

我尝试创建一个用户控件并在用户单击标签时显示它，但效果不佳。

它是**WinForms**！

我附上了一张我想要的照片。先感谢您！

![工具提示示例](../Images/b3cc6d37910be7108204dbcd09f28262.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-25T07:21:49.990

使用标准工具提示，但覆盖绘画方法，以便它可以按照您的意愿显示，同时仍像普通工具提示一样运行。

以前没有做过，所以我不能提供一个例子。

编辑：这是一个例子：[http ://cboard.cprogramming.com/csharp-programming/119414-custom-tooltip.html](http://cboard.cprogramming.com/csharp-programming/119414-custom-tooltip.html)

# android - 没有图片的自定义图库的性能

> ID：11644285
> 
> 赞同：0
> 
> 时间：2012-07-25T07:01:03.707
> 
> 标签：android, performance, android-layout, custom-component

我已经`Gallery`使用自定义视图而不是图片实现了我的自定义。

参考是[http://www.programmingmobile.com/2011/08/android-tutorial-gallery-view-without.html](http://www.programmingmobile.com/2011/08/android-tutorial-gallery-view-without.html)

但是现在我有大约 8 个自定义视图，其中包含带有大量文本的复杂布局。

问题是性能很差，我缓存视图但滚动不流畅。使用较新的设备和平板电脑没问题，但是否有一些提示如何为旧设备增加性能？我考虑过制作视图位图，但它们有很多按下/未按下的可绘制对象 + 文本内容变化非常频繁。

只是我的适配器 getView 是这样的，几乎所有时间它都返回缓存视图，但滚动不流畅，我可能会渲染视图问题吗？

```
@Override
    public View getView(final int position, View convertView, ViewGroup parent) {

        View cachedView = cachedViews.get(position);
        if (cachedView  != null) {
            return cachedView;
        }
    // Else inflate view etc.
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T08:22:02.887

很可能所有布局的实现都太复杂了，无法在没有硬件加速的旧设备上运行，而且 Gallery 应该与图像一起使用，所以这里没有什么可做的。

# android - 如何在 Robotium 中重新启动关闭的应用程序？

> ID：11644288
> 
> 赞同：2
> 
> 时间：2012-07-25T07:01:15.740
> 
> 标签：android, robotium

我开始自动化我的 Android 应用程序。它有一个*“条款和条件”*屏幕。在那，如果我点击*“拒绝”*，我的应用程序将被关闭。

如何在同一进程中重新启动或重新启动我的应用程序？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-26T16:14:08.957

尝试这个：

```
// assuming this method is in a ActivityInstrumentationTestCase2 class
public void test_yourTest() {

    // do your testing

    Solo.sleep(1000);

    // killing all your Activities manually if it doesn't by itself anyway
    Solo.finishOpenedActivities();

    // relaunch your app by calling the same Activity as in the constructor
    // of your ActivityInstrumentationTestCase2
    this.launchActivity(TARGET_PACKAGE_ID, YourStartActivity.class, null);

    Solo.sleep(1000);

    // do your testing
} 
```

# android - Android：将十进制数转换为时间

> ID：11644293
> 
> 赞同：0
> 
> 时间：2012-07-25T07:01:36.790
> 
> 标签：android

我正在开发的 Android 应用程序可以计算到达目的地所需的时间。我想弄清楚的是如何设置结果，以便答案可以显示为 hours.minutes.seconds 或 days.hours.minutes.seconds。

1.  我是否必须设置一个数组才能获得这样的结果？或者
2.  上面的Q会不会漏掉答案？即假设我有一个 4.50 的答案（4 小时 30 分钟），我是否能够取 0.50 并将其计时 0.6 以将输出更改为 4.30。或者
3.  答案是否可以显示在时间选择器中。

ps 我在论坛和谷歌等上搜索过这个。我还没有找到相关的、易于理解的答案。
pps 任何代码或链接将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:26:56.483

我认为您可以使用 SimpleDateFormat 类来做到这一点。

示例代码：

```
String datastring="15.32.08"
SimpleDateFormat sf = new SimpleDateFormat("HH.mm.ss");
Date converttoData = sf.parse(datastring); 
```

你可以很容易地做到这一点：首先将十进制转换为字符串（数据字符串），其次，使用大写代码。

希望答案可以帮助你。:)

# c# - 从枚举中选择一个随机值，然后使用 switch 绘制纹理 XNA c#

> ID：11644295
> 
> 赞同：0
> 
> 时间：2012-07-25T07:01:37.707
> 
> 标签：c#, windows-phone-7, random, enums, xna

```
 enum rocks
    {
        uno = 1,
        dos,
        tres 

    } 
```

所以我在顶部声明我的枚举，

```
rocks[] values = {rocks.uno, rocks.dos, rocks.tres};
        Random random = new Random();
        rocks randomValue = values[random.Next(values.Length)]; 
```

初始化我的随机数生成器

```
private void drawUno(SpriteBatch spriteBatch)
    {
        spriteBatch.Draw(rock1, Vector2.Zero, Color.White);
    } 
```

有单独的方法来绘制每块岩石

```
 public void drawRocks(SpriteBatch spriteBatch)
    {
        switch (Rocks)
        {
            case rocks.uno:
                drawUno(spriteBatch);
                break;
            case rocks.dos:
                drawDos(spriteBatch);
                break;
            case rocks.tres:
                drawTres(spriteBatch);
                break;
            default:
                break;
        }
    } 
```

以及一种提取随机生成的任何岩石的方法

我在我的主要绘制方法中回调了 drawRock，但没有任何反应，我做错了什么？

这是我的全班：

```
namespace PlanetDrill2
{
   public class UMA : Screen
    {

        background bgLayer1;
        background bgLayer2;
        background bgLayer3;

        Texture2D rock1;
        Texture2D rock2;
        Texture2D rock3;

        enum rocks
        {
            uno = 1,
            dos,
            tres 

        }

       rocks Rocks;

        public UMA(Game game, SpriteBatch batch, ChangeScreen changeScreen)
            : base(game, batch, changeScreen)
        {
            bgLayer1 = new background();
            bgLayer2 = new background();
            bgLayer3 = new background();

            player = new Player();

            Animation playerAnimation = new Animation();
            Texture2D playerTexture = content.Load<Texture2D>("shipAnim");
            playerAnimation.Initialize(playerTexture, Vector2.Zero, 80, 160, 5, 30, Color.White, 1f, true);

            Vector2 playerPosition = new Vector2(game.GraphicsDevice.Viewport.TitleSafeArea.X, game.GraphicsDevice.Viewport.TitleSafeArea.Y
            + game.GraphicsDevice.Viewport.TitleSafeArea.Height / 2);
            player.Initialize(playerAnimation, playerPosition);

            rock1 = content.Load<Texture2D>("rocktexture1");
            rock2 = content.Load<Texture2D>("Hardrock");
            rock3 = content.Load<Texture2D>("rarerock");

            bgLayer1.Initialize(content, "scrollingrocks", game.GraphicsDevice.Viewport.Height, -10);
            bgLayer2.Initialize(content, "scrollingrocks2", game.GraphicsDevice.Viewport.Height, -6);
            bgLayer3.Initialize(content, "scrollingrocks3", game.GraphicsDevice.Viewport.Height, -4);

            float playerMoveSpeed;

            playerMoveSpeed = 8.0f;

            rocks[] values = {rocks.uno, rocks.dos, rocks.tres};
            Random random = new Random();
            rocks randomValue = values[random.Next(values.Length)];

        }

        private void drawUno(SpriteBatch spriteBatch)
        {
            spriteBatch.Draw(rock1, Vector2.Zero, Color.White);
        }

        private void drawDos(SpriteBatch spriteBatch)
        {
            spriteBatch.Draw(rock2, Vector2.Zero, Color.White);
        }

        private void drawTres(SpriteBatch spriteBatch)
        {
            spriteBatch.Draw(rock3, Vector2.Zero, Color.White);
        }

        public void drawRocks(SpriteBatch spriteBatch)
        {

            switch (Rocks)
            {
                case rocks.uno:
                    drawUno(spriteBatch);
                    break;
                case rocks.dos:
                    drawDos(spriteBatch);
                    break;
                case rocks.tres:
                    drawTres(spriteBatch);
                    break;
                default:
                    break;
            }
        }

        private void UpdatePlayer(GameTime gameTime)
        {
            player.Update(gameTime);

            TouchPanel.EnabledGestures = GestureType.FreeDrag;

            float positionChange = 0;
            float oldPosition = 0;
            while (TouchPanel.IsGestureAvailable)
            {
                GestureSample gesture = TouchPanel.ReadGesture();

                if (gesture.GestureType == GestureType.FreeDrag)
                {
                    float newposition = gesture.Position.X;
                    if (oldPosition != 0)
                    {

                        positionChange = newposition - oldPosition;
                        player.Position.X += positionChange;
                    }
                    oldPosition = newposition;

                }

            }

            // Make sure that the player does not go out of bounds
            player.Position.X = MathHelper.Clamp(player.Position.X, 0, game.GraphicsDevice.Viewport.Width - player.Width);
            player.Position.Y = MathHelper.Clamp(player.Position.Y, 0, game.GraphicsDevice.Viewport.Height - player.Height);

        }

        protected override void SetupInputs()
        {
            base.SetupInputs();
        }

        public override void Activate()
        {
            base.Activate();
        }

        protected override void LoadScreenContent(ContentManager content)
        {
            base.LoadScreenContent(content);
        }

        protected override void UpdateScreen(GameTime gameTime, DisplayOrientation screenOrientation)
        {
            bgLayer1.Update();
            bgLayer2.Update();
            bgLayer3.Update();
            UpdatePlayer(gameTime);

            base.UpdateScreen(gameTime, screenOrientation);
        }

        protected override void DrawScreen(SpriteBatch batch, DisplayOrientation screenOrientation)
        {
            bgLayer3.Draw(batch);
            bgLayer2.Draw(batch);
            bgLayer1.Draw(batch);

            player.Draw(batch);
            drawRocks(batch);

            base.DrawScreen(batch, screenOrientation);
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:07:15.677

您没有对 SpriteBatch 进行任何 Begin 和 End 调用。这些是在屏幕上显示的东西所必需的。[在此处](http://msdn.microsoft.com/en-us/library/bb195108.aspx "这里")查看文档。它清楚地提到了这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:25:11.817

我想你忘记了什么。你正在随机挑选一块石头：

```
rocks randomValue = values[random.Next(values.Length)]; 
```

然后你根本不使用 randomValue 。相反，您`Rocks`在 switch 语句中使用：

```
switch (Rocks)
{
    case rocks.uno:
        drawUno(spriteBatch);
        break;
    case rocks.dos:
        drawDos(spriteBatch);
        break;
    case rocks.tres:
        drawTres(spriteBatch);
        break;
    default:
        break;
} 
```

因此，要么`randomValue`在您的开关中使用，要么将随机值分配给您的`Rocks`属性。

# android - getDate() 不返回系统的确切日期？

> ID：11644297
> 
> 赞同：0
> 
> 时间：2012-07-25T07:01:42.843
> 
> 标签：android

我正在使用图像、文本和日期在 android 中实现自定义列表视图，但是当我调用 getDate 方法时它会工作但返回 1/1/1970 而不是显示我的系统日期？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:04:34.160

仅供参考， [getDate()](http://developer.android.com/reference/java/util/Date.html#getDate%28%29) =>**此方法已弃用**。它返回月份中的某一天。

您可以使用：

```
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");  // you can mention any format which you want
String currentDateandTime = sdf.format(new Date()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T07:04:58.450

您可以只使用`new java.util.Date()`它，它将包含实际日期。您也可以使用`Calendar.getInstance()`或`long time = System.currentTimeMillis(); new Date(time);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:14:04.437

用这个：

```
Calendar c = Calendar.getInstance(); 
int seconds = c.get(Calendar.SECOND) 
```

[安卓日历文档](http://developer.android.com/reference/java/util/Calendar.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T08:00:51.283

```
here is the complete solution.where you can get the date and also access it in the form of string.

private final static String getDateTime() {
        DateFormat df = new SimpleDateFormat("yyyy-MM-dd_hh:mm:ss");
        Log.i("Log", "date is:  "+df.format(new Date()));
        return df.format(new Date());
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-25T14:23:14.930

你可以试试这个

```
DateFormat date  = new SimpleDateFormat("yyyy-MM-dd_hh:mm:ss");
    Log.i("Log", "date is:  "+date.format(new Date()));
    date.format(new Date()); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-25T07:04:03.273

用这个：

```
long dtMili = System.currentTimeMillis();

String date = new java.text.SimpleDateFormat("dd-MM-yy").format(new java.util.Date(dtMili)); 
```

# mysql - 用户 debian-sys-maint 的访问被拒绝

> ID：11644300
> 
> 赞同：44
> 
> 时间：2012-07-25T07:01:46.507
> 
> 标签：mysql, debian, admin

我遇到了mysql的问题。我试图执行这个：

```
echo "show databases" | mysql -B -N 
```

但我得到了：

```
ERROR 1045 (28000): Access denied for user 'debian-sys-maint'@'localhost' (using password: YES) 
```

但是当我执行时：

```
/etc/init.d/mysql restart 
```

我得到了一个“好的”。

我做了

```
GRANT ALL PRIVILEGES on *.* TO debian-sys-maint@localhost IDENTIFIED BY PASSWORD 'your password' WITH GRANT OPTION; FLUSH PRIVILEGES; 
```

密码来自哪里`/etc/mysql/debian.cnf`。但这没有帮助。（当然我刷新了 priv 并重新启动了 mysql）。

* * *

## 回答 #1

> 赞同：119
> 
> 时间：2012-07-25T07:10:20.637

那是因为 Debian 有一个 MySQL 帐户`debian-sys-maint`，用于打开/关闭和检查状态。该用户的密码应与存储在`/etc/mysql/debian.cnf`. 该文件如下所示：

```
# Automatically generated for Debian scripts. DO NOT TOUCH!
[client]
host     = localhost
user     = debian-sys-maint
password = <password>
socket   = /var/run/mysqld/mysqld.sock
[mysql_upgrade]
host     = localhost
user     = debian-sys-maint
password = <password>
socket   = /var/run/mysqld/mysqld.sock
basedir  = /usr 
```

如果密码不匹配（例如因为您手动更改了密码），初始化脚本将不再工作。您应该根据文件设置密码。所以

```
mysql -u root -p
# Then type MySQL root password
GRANT ALL PRIVILEGES ON *.* TO 'debian-sys-maint'@'localhost' IDENTIFIED BY '<password>'; 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-21T22:56:01.247

问题是，您的`GRANT`语句使用`IDENTIFIED BY PASSWORD`了子句，在这种情况下，mysql 期望得到一个*散列*密码，而不是明文密码。

`IDENTIFIED BY 'your password'`如果您希望提供明文密码，请改用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-03-06T19:30:57.457

恢复 debian-sys-maint 用户最简单的方法是重新配置包 mysql-server-5.5。如果您知道 MySQL 的 root 用户的密码，您可以尝试在 /etc/mysql/debian.cnf 中恢复用户及其密码。

```
sudo dpkg-reconfigure mysql-server-5.5 
```

注意：如果您无法停止 mysql pid，只需运行`sudo killall mysqld`. 这是重新配置 mysql-server-5.5 所必需的。

# ios - 如何以编程方式更改 iOS 中的键盘？

> ID：11644301
> 
> 赞同：5
> 
> 时间：2012-07-25T07:01:46.770
> 
> 标签：ios, keyboard

当我单击按钮事件时，我想以编程方式更改键盘。

我在我的应用程序中使用了自定义键盘，但是当我单击自定义键盘上的按钮时，我需要以编程方式更改英语（美国）键盘。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:27:14.203

控制键盘的唯一方法是显示它（通过将 UITextView/UITextField 设置为第一响应者），隐藏它（通过退出编辑[轻松关闭键盘的方法？](https://stackoverflow.com/questions/741185/easy-way-to-dismiss-keyboard)）。

您的应用程序无法更改键盘的语言，因为这是用户偏好。如果您想要自己的自定义键盘，则必须自己设计（使用 UIButtons）并且显然还要对其进行编程（当它显示时，当它隐藏时。我会简单地使用用户喜欢的键盘，你为什么需要改变它？毕竟，用户是决定他使用哪种键盘的人。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-23T14:16:15.357

我刚刚得到了我自己问题的答案。

只需放入`nil`，`inputView`它就会变回英文（美国）键盘。

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-02-19T04:34:23.617

您可以通过编程方式更改为英语（美国）键盘。

尝试这个：

```
textfield.secureTextEntry=YES;
textfield.secureTextEntry=NO; 
```

# iphone - 显示警报本地通知时如何立即运行命令 NSLog(@"Alert display...")？

> ID：11644302
> 
> 赞同：0
> 
> 时间：2012-07-25T07:01:52.563
> 
> 标签：iphone, notifications, local, alert

如何在警报本地通知显示时立即运行命令 NSLog(@"Alert display...")？...我正在 iphone 中创建一个闹钟，我想在那个时候播放音乐（在警报本地通知显示）！我将使用 AVPlayer 在 iphone 中播放来自 ipod 库的音乐！但我做不到。你能帮助我吗！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:54:06.373

如果您的应用程序处于后台并暂停，则在弹出 LocalNotification 时您无法执行代码。您可以做的是将您的音乐文件分配给 soundName 属性，但请注意您的声音不得超过 30 秒。这是代码：

```
UILocalNotification* localNotification = [[UILocalNotification alloc] init];
localNotification.soundName = @"yourMusicFile.caf"; 
```

当然，如果您的应用没有暂停，您可以使用 AVAudioPlayer 播放音乐...

# javascript - 内部并排 Divs 调整大小

> ID：11644307
> 
> 赞同：0
> 
> 时间：2012-07-25T07:02:19.780
> 
> 标签：javascript, jquery, html, jquery-ui-resizable

我是 html5、javaScript 和 jquery 的新手，遇到了与调整大小相关的问题，需要专家的帮助。

问题是我有一个 div，里面有三个 div。第一个是顶部的标题 div，另外两个并排在标题 div 下。两个并排的 div 放置使得其中一个占外部 div 的空间的 25%。另一个占 75宽度的 %。

现在我希望当我调整外部 div 的大小时，内部 div 应该自行调整它们，以使宽度比保持不变。

但我无法做到这一点。

到目前为止，我已经做到了

[调整 Div 大小](http://jsfiddle.net/xV28s/)

任何人都可以指导我。我做错了什么。我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:08:29.637

试试这个：

CSS：

```
#parent { overflow: auto; }
#inner-left { float: left; width: 25%; }
#inner-right{ float: right; width: 75%; } 
```

HTML：

```
<div id="parent">
    <div id="title">Title</div>
    <div id="inner-left">&nbsp;</div>
    <div id="inner-right">&nbsp;</div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:08:29.600

粗略的答案是仅使用宽度百分比：http: [//jsfiddle.net/xV28s/1/](http://jsfiddle.net/xV28s/1/)

不过，您应该将所有这些样式元素移动到 css 中。

# css - Gxt 组合框选择箭头在 Firefox 和 safari 中未正确对齐

> ID：11644310
> 
> 赞同：7
> 
> 时间：2012-07-25T07:02:32.947
> 
> 标签：css, gwt, gxt

我使用的是 Gxt-2.2.3 的组合框，在 IE7 中渲染时对齐没有问题，但在 Firefox-4.0.1 中出现了一些选择箭头对齐问题，如下所示。

![在此处输入图像描述](../Images/7ca0a2d4c330d98b97e3d965b41b5b69.png)

通过运行应用程序是萤火虫模式，得知有一些默认样式应用于此 div 'element.style'，值为 'padding-left:80px'。那么任何人都可以建议我为什么在浏览器中不兼容，以及我如何覆盖这种风格。

**代码：**

```
private ComboBox<TestModel> comboModel = new ComboBox<TestModel>();

  comboModel.setFieldLabel(wrapAlignmentSpan("State"));
    ListStore<TestModel> store = new ListStore<TestModel>();
    store.add(getModels(new ArrayList<TestModel>()));
    comboModel.setDisplayField(TestModel.STATE);
    comboModel.setValueField(TestModel.STATE);
    comboModel.setLabelStyle("font-weight:bold;width:120");
    comboModel.setWidth(100);
    comboModel.setStore(store); 
```

最后我将这个添加到“FormPanel”中，如下所示：

```
 mainPanel.add(comboModel); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T11:47:46.673

问题是因为**“FormLayout”** “标签宽度”，有一个**“FormLayout”**，“标签宽度”为“30px”。因此，在增加到“120px”后，问题得到了解决。

```
 LayoutContainer left = new LayoutContainer();
    MdbFormLayout layout = new MdbFormLayout(120);
    layout.setLabelAlign(LabelAlign.LEFT);
    left.setLayout(layout);
    return left; 
```

最后将“组合字段”添加到“**左**”容器中，如下所示，

```
left .add(stateField, new FormData(150, -1)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T07:57:39.513

这是因为**'FormLayout'**的标签宽度。不要为组合字段设置任何标签宽度。如果需要检查标签文本的宽度，然后按如下方式设置标签宽度。

```
//'100' should be calculated based on the width of the label text
formLayout.setLabelWidth(100); 
```

# magento - 管理 Magento 中损坏的类别

> ID：11644311
> 
> 赞同：0
> 
> 时间：2012-07-25T07:02:36.180
> 
> 标签：magento, backend, categories

在 Magento 管理面板中，我单击“管理类别”选项卡，然后显示管理类别部分。

但是之前添加的类别没有显示在那里。

而且我无法添加任何新类别。

然后我单击“RESET”按钮，我收到如下错误消息：

![在此处输入图像描述](../Images/6d28e3a5a4940b88df295233f6276de8.png)

这是什么？

这里有什么问题？

有什么解决办法吗？

还有一件事，当我加载“管理类别”时，我也遇到了火灾错误：

```
TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

TypeError: Ext.tree.TreePanel is undefined
[Break On This Error]   

Ext.tree.TreePanel.prototype.getChecked = function(node){

ext-tr...kbox.js (line 5)

TypeError: Ext.UpdateManager is undefined
[Break On This Error]   

Ext.UpdateManager.defaults.loadScripts = false;

/bc/in...565cdc/ (line 76)

TypeError: Fieldset is undefined
[Break On This Error]   

Fieldset.addToPrefix(1);

/bc/in...565cdc/ (line 83)

TypeError: Ext.tree.TreePanel is undefined
[Break On This Error]   

Ext.tree.TreePanel.Enhanced = function(el, config)

/bc/in...565cdc/ (line 618)

TypeError: hash.__properties is undefined
[Break On This Error]   

if (current.length == hash.__properties.length)

deprecation.js (line 339)

ReferenceError: updateTopButtonToolbarToggle is not defined
[Break On This Error]   

updateTopButtonToolbarToggle(); 
```

当我点击“添加根类别”或“添加子类别”时，我收到了一个错误错误：

```
TypeError: tree is undefined
[Break On This Error]   

tree.addNodeTo = tree.currentNodeId;

/bc/in...565cdc/ (line 947)

TypeError: tree is undefined
[Break On This Error]   

tree.addNodeTo = tree.currentNodeId;

/bc/in...565cdc/ (line 947)

TypeError: tree is undefined
[Break On This Error]   

tree.currentNodeId = tree.root.id;

/bc/in...565cdc/ (line 945)

TypeError: tree is undefined
[Break On This Error]   

tree.currentNodeId = tree.root.id; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:43:32.997

它的发生是因为 Magento 内联翻译错误。只需转到`System > Configuration > Advanced > Developer > Translate Inline`“为管理员启用”设置并选择“否”即可。

# uinavigationcontroller - 使用 UINavigation 关闭 ModalView 控制器

> ID：11644314
> 
> 赞同：0
> 
> 时间：2012-07-25T07:02:43.593
> 
> 标签：uinavigationcontroller, push, modalviewcontroller, pushviewcontroller, dismiss

嘿，我的应用程序中有一个**parentViewController**和一个**modalViewController**。我设法使用**情节提要**和类方法显示和关闭模态视图。但我需要的是在关闭模式视图后，父视图应该**推**送到另一个**viewController**。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:53:34.197

假设这`self`是一个`parentViewController`（在关闭模态视图之后）：

```
[self.navigationController pushViewController:viewController animated:YES]; 
```

# sql-server-2008 - 插入没有 ssis 和 dts 的远程服务器表

> ID：11644316
> 
> 赞同：0
> 
> 时间：2012-07-25T07:03:04.987
> 
> 标签：sql-server-2008

我的要求是创建一个连接两个表并将其插入到远程服务器表中的存储过程。

如何在不使用 ssis 和任何导入/导出数据的情况下解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:35:14.333

请

1.  在问你的问题之前使用搜索
2.  更具体地说，stackoverflow 不是来编写你的整个程序的，人们会帮助你
3.  使用标点符号并查看您的格式

**你的问题**

看看[这个](https://stackoverflow.com/questions/4521670/using-t-sql-how-can-i-insert-from-one-table-on-a-remote-server-into-another-tab)，它告诉你如何做到这一点。您可以先添加一个链接服务器（这就是您的情况下的目标），然后将其用于您的插入语句。

# dynamic - 链接器不使用 g++ 进行本地（用户）boost 安装

> ID：11644318
> 
> 赞同：3
> 
> 时间：2012-07-25T07:03:23.847
> 
> 标签：dynamic, boost, linker, g++

除了在系统范围内安装默认的 boost 库之外，我还想在本地安装 boost C++ 库（在我的主文件夹（Linux）中，比如 $HOME/boost ）。我从sorce构建它们并且效果很好。

之后，我设置了环境变量 CPLUS_INCLUDE_PATH 和 LD_LIBRARY_PATH 来匹配本地安装的目的地，所以它们分别指向 $HOME/boost/include 和 $HOME/boost/lib/。

为了测试这一点，我使用以下代码来测试标题中 CPLUS_INCLUDE_PATH 的正确用法：

```
#include <boost/version.hpp>
#include <iostream>
#include <iomanip>

int main()
{
  std::cout << "Boost version: " << BOOST_LIB_VERSION << std::endl;

  return 0;
} 
```

按预期编译它 `g++ -o Test_boost_version test_boost_version.cpp`，报告预期的（本地）版本。让 CPLUS_INCLUDE_PATH 为空会给我默认的系统范围安装的增强版本。到现在为止还挺好。

为了测试链接，我使用了以下代码（取自 boost 主页：

```
#include <boost/regex.hpp>
#include <iostream>
#include <string>

int main()
{
    std::string line;
    boost::regex pat( "^Subject: (Re: |Aw: )*(.*)" );

    while (std::cin)
    {   
        std::getline(std::cin, line);
        boost::smatch matches;
        if (boost::regex_match(line, matches, pat))
            std::cout << matches[2] << std::endl;
    }   
} 
```

并用 `g++ -o Test_boost_linking test_boost_linking.cpp -lboost_regex`.

但是，调用`ldd Test_boost_linking`不使用本地安装（通过 LD_LIBRARY_PATH 提供），但给了我：`libboost_regex.so.1.42.0 => /usr/lib/libboost_regex.so.1.42.0 (0x00007f9264612000)`

当我使用`g++ -o Test_boost_linking test_boost_linking.cpp -lboost_regex -L$HOME/boost/lib`时， ldd 正在报告正确的库（`libboost_regex.so.1.50.0 => $HOME/boost/lib/libboost_regex.so.1.50.0 (0x00007f6947d2a000)`）。

这对我来说实际上是一个问题，因为我想设置我的本地环境，以便编译将忽略系统默认的 boost 安装并只使用本地安装，我认为这正是设置 CPLUS_INCLUDE_PATH 和 LD_LIBRARY_PATH 时所实现的，但对于后者，这似乎不成立。

那么如何确保 using `g++ -o Test_boost_linking test_boost_linking.cpp -lboost_regex`（不带 -L）使用本地库？

[编辑] 进一步考虑，我想知道是否真的*必须*在命令行中使用“-L$HOME/boost/lib”（使用 LDFLAGS 作为环境变量似乎没有效果，可能只是结合使用使用Makefile）在非标准目录中使用库时？是这样吗？

（顺便说一句，我认为这也适用于其他图书馆，不仅仅是提升......）

（我用过：g++（Debian 4.4.5-8）4.4.5）

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T08:01:47.190

您需要使用环境变量`LIBRARY_PATH`让 gcc 在链接时知道在哪里可以找到库。`LD_LIBRARY_PATH`让程序知道在运行时在哪里可以找到动态库。这个[答案](https://stackoverflow.com/questions/4250624/ld-library-path-vs-library-path)有更多细节。“GCC 简介”中的这些链接也可能有用：[编译选项：环境变量](http://www.network-theory.co.uk/docs/gccintro/gccintro_23.html)以及[共享库和静态库](http://www.network-theory.co.uk/docs/gccintro/gccintro_25.html)

# html - 如何将任意 HTML 块居中？

> ID：11644319
> 
> 赞同：1
> 
> 时间：2012-07-25T07:03:31.913
> 
> 标签：html, css, centering

例如，也许我的 HTML 是以下之一：

*   `<p>`宽度设置为 400 的文本
*   具有少量输入且未设置整体宽度的表单
*   a`<table>`没有设置整体宽度
*   或其他任何东西

换句话说 - 在您将上述任何内容居中之前，它们自然会位于左侧。是否可以将 HTML 居中？

**编辑：**让我澄清更多。HTML 块可以是任何东西：内联、块、三个 div 和 2 个 ps、5 个表和一个 div、一个 div 内的 div 等等。html 块不知道它会被居中，它不是允许居中。我想要一些类似的东西 - 让我们将这段 HTML 包装在父 div 中，然后仅在父 div 上使用 CSS。类似于您没有调整 HTML 块的内容。我希望它水平居中而不是垂直居中。我希望它像它仍然在左侧一样渲染。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:10:06.637

嘿有两个选项第一个是非常旧的选项

```
<center>
//your html any element 
</center> 
```

但这是非常古老的方法

新选项是

你可以像这样习惯

**css**

```
.ok{
border:solid 1px red;
  width:400px;
  text-align:center;
}
table{
margin:0 auto;
} 
```

**HTML**

```
<div class="ok">

<p>
Hello
</p>

<a href="#">a</a>
<form>
<input type="text">
</form>

  <table border="1">
    <tr><td>hi</td></tr>
  </table>

  </div> 
```

现场演示[http://tinkerbin.com/j1A3HIK9](http://tinkerbin.com/j1A3HIK9)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:17:19.277

如果你想将一个元素设置在另一个元素的中心，给子元素分配相对定位或者只是默认定位（绝对定位不行！），给它一个固定的宽度，将它的边距设置为`0 auto`，它会水平居中在父元素。当然，没有办法让元素垂直居中，你必须自己明确地做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:28:39.013

是的，您提到的所有元素都是可能的。

拿这个 HTML：

```
<body>

<div class="canvas">

    <p>This is a really lovely but meaningless piece of text</p>

    <div class="form-container">

        <form>

            <input type="text" name="example" placeholder="Enter some example text" />

        </form>

    </div>

</div>

</body> 
```

所以我们想要将一些元素居中。让我们从包含 DIV #canvas 开始，然后从那里开始。

```
/* First a very crude reset on <body> and declare it's dimensions */

body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}

/* Next we must declare a definitive width of our #canvas to allow
   us to centre itself and elements within it. */

#canvas {
    width:960px;
    position:relative;
    margin: 0 auto; /* This 'auto' on left / right margin centers it
}

/* Note that <p> tags are auto 100% width so centering them is not
   going to do anything with the above technique. Instead: */

#canvas p {
    text-align: center;
}

/* Now form elements, no need to style <form> it is a meta container
   and really shouldn't be used for anything other than that, lets
   style the actual input elements instead */

#canvas form input {
    width: 30%; /* Lets define a width so that we can center it in */
    margin: 0 auto;
} 
```

希望对您有所帮助。

# php - 地址的 URL 和地理位置

> ID：11644323
> 
> 赞同：0
> 
> 时间：2012-07-25T07:03:42.137
> 
> 标签：php, encoding, google-maps-api-3, geolocation

有什么功能可以转这个：

```
1600 Amphitheatre Parkway, Mountain View, CA": 
```

进入这个：

```
1600+Amphitheatre+Parkway,+Mountain+View,+CA 
```

使用他们的地理位置构建谷歌地图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:17:07.820

您可以直接通过 '1600 Amphitheatre Parkway, Mountain View, CA' 使用关注功能

```
 public function GetGeoLocation($address)
        {
        // fetching lat&amp;lng from Google Maps
        $request_uri = 'http://maps.googleapis.com/maps/api/geocode/xml?address='.urlencode($address).'&amp;sensor=true';
        $google_xml = simplexml_load_file($request_uri);
        $lat = (string)$google_xml->result->geometry->location->lat;
        // fetching time from earth tools
        $lng = (string)$google_xml->result-&gt;geometry->location->lng;
        return array('lat' => $lat,'lng' => $lng)
        } 
```

它将返回数组中地址的地理位置

# c# - 如何检索两个 标签之间的数据

> ID：11644325
> 
> 赞同：-5
> 
> 时间：2012-07-25T07:03:45.913
> 
> 标签：c#, regex, dom

我想获取两个`<br/>`标签之间的数据。

xml文件中的数据是这样的`<br/>lots of data<br/>`。

现在我想获取两个`<br/>`标签之间的数据并获取其中的特定数据。

谁能建议我如何搜索标签并获取它们之间的特定数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:59:20.100

***[作为Jeff Mercado](https://stackoverflow.com/users/390278/jeff-mercado)的回答，LINQ to XML 方法比这更平易近人。因为不推荐使用 RegEx 来解析 XML 数据。但是，如果您的要求只是一次，那么它可能会有所帮助。***

```
(?is)(?<=^|<br/>).*?(?=<br/>) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:22:55.560

好吧，您可以在这里使用一些 LINQ to XML 来执行此操作。

例子：

```
var xmlStr = @"<root>
    data1<br/>
    data2<br/>
    data3<br/>
    data4<br/>
    data5<br/>
</root>";
var doc = XDocument.Parse(xmlStr);
var query =
    from br in doc.Descendants("br")
    let textNode = br.NextNode as XText
    where textNode != null
    let nextBr = textNode.NextNode as XElement
    where nextBr != null && nextBr.Name == "br"
    select textNode.Value; 
```

# android - 在android中为按钮添加描述或提示

> ID：11644331
> 
> 赞同：0
> 
> 时间：2012-07-25T07:04:03.510
> 
> 标签：android

![在此处输入图像描述](../Images/f98a4c20c153e16e5db7994ba387cf8d.png)

如何添加描述或提示。当我触摸按钮/图像按钮时，我需要描述或提示。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:11:17.543

我不确定这种方法是否是一个好主意，因为当您触摸 a `Button`in 时`Android`，它会处于按下状态，而当您释放它时，它将触发按钮的动作。我建议您使用不同的方法，例如`TextView`在`Button`or下正确格式化`ImageButton`。

# git - 搭建一个 git 桥

> ID：11644332
> 
> 赞同：2
> 
> 时间：2012-07-25T07:04:13.587
> 
> 标签：git, version-control, integration

我正在寻找可用于集成任何源代码控制管理系统的通用 git 桥（如 git-svn、git-p4、git-tfs）模板。

如果没有这样的模板，至少有一些关于如何在git端集成基本操作的说明（对于其他SCM我知道我需要使用一些外部工具，但是如果有一个通用模板会很棒在哪里插入 SCM 命令和模板以完成其余工作 - 例如在 git 上创建提交）。

有一个名为[git-remote-helpers](http://www.kernel.org/pub/software/scm/git/docs/git-remote-helpers.html)的项目，但我不确定它是否正是我所需要的（基本上它为 git 添加了传输协议支持）。

[补充：]对于以下命令（基本集），这就是我对事物的看法：

1.  git scm 初始化：
    *   创建存储库设置（如果案例设置了内部工作文件夹、远程工作区 - 例如：tfs、accurev）并创建远程 scm/origin
2.  git scm 获取：

```
 foreach changeset in scm.changesets
    scm.retreive changeset
    git.createcommit (changeset.data)
end 
```

1.  git scm 克隆 = 初始化 + 获取
2.  git scm 推送：

```
 check_remote_scm // do we need to fetch and/or rebase?
build commit_package(git.branch.commits)
foreach commit_data in commit_package
    scm_commit_meta = scm.push commit
    git.updatecommit commit_data.git_data scm_commit_meta
end 
```

还有其他命令可以添加到列表中 - 这些只是基本命令，允许某人使用任何 SCM。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:50:26.233

在谈到“[统一 DVCS 命令](https://stackoverflow.com/questions/3647962/unification-of-dvcs-commands)”时，对这样的项目有[一些保留意见。](https://stackoverflow.com/a/3648068/6309)

[旧的“amp”（2009-2010）](https://stackoverflow.com/a/4756975/6309)不再活跃。
[mr 应该提供那种通用命令](https://stackoverflow.com/a/4759638/6309)，集成 git 命令。

# c++ - 引用指针类型

> ID：11644333
> 
> 赞同：2
> 
> 时间：2012-07-25T07:04:14.923
> 
> 标签：c++, arrays, pointers, reference, pass-by-reference

```
#include <iostream>

using namespace std;
int main(void)
{
    int num[5];
    const int* &ref = num;

    return 0;
} 
```

我读过一本 C++ 书，其中提到引用变量是否引用：

1.  类型不同但可以转换的变量。
2.  不是左值的变量。

只要引用变量声明为`const`，上述两种情况将通过使用编译器将创建存储并将值放入其中而引用变量的标识符被视为该标识符的方法来解决特定的存储位置。下面是演示代码。

情况1

```
#include <iostream>

using namespace std;
int main(void)
{
    int num = 5;
    const long long &ref = num; //the value 5 is place in a new storage where ref is the identifier

    return 0;
} 
```

案例二：

```
#include <iostream>

using namespace std;
int main(void)
{
    int num = 5;
    const int &ref = num + 1; //expression num + 1 evaluated and store in new storage with identifier ref

    return 0;
} 
```

既然这2个case是有效的，那**The Code:**里面的case怎么是无效的呢？

我的逻辑是因为使用时数组的名称将被转换为指向数组第一个元素的指针，因此编译器应该已经发现这不是左值，并且将创建一个新的存储来存储该地址以及当然，引用变量名将作为该位置的标识符。

***注意**：我知道这有点离题，但我可以知道数组名称是否为 Lvalue 吗？只需一个简单的 yes 或 no 即可，因为将代码更改为`int &ref = num`我认为它不是 lvalue ，但我只需要进一步确认。*

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:09:45.237

您的引用变量*未*声明为 const。

`const int *`和之间有区别`int * const`，你选错了。

您的示例（ii）出于同样的原因无效，应该是`const int &ref = num + 1;`

对于您的说明，我不确定简单的是或否会起作用。一个简单的数组名*是*一个左值，指的是数组。但是，在大多数情况下，它会衰减为指向第一个元素的指针，这是一个右值指针。

# objective-c - 使用 NSFileManager 访问 mac 共享上的文件

> ID：11644338
> 
> 赞同：1
> 
> 时间：2012-07-25T07:04:34.200
> 
> 标签：objective-c, macos, cocoa, nsfilemanager

我需要访问托管在 mac 共享文件夹上的共享文件，但是当我直接将路径传递给它时，`NSFileManager`它报告为文件不存在。

```
NSURL *fileURLPath = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@,%@",IP,PATH ]];

if ([[NSFileManager defaultManager] fileExistsAtPath:[fileURLPath path]])
{
} 
```

我相信这是由于身份验证。应该如何使用 ? 处理或传递凭据`NSFileManager`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T11:56:28.827

查看生成的 URL 的样子会很有用。如果我正确理解了您的变量命名，那么您正在创建一个无效的 URL。如果 IP 为`@"127.0.0.1"`且路径为`@"foo"`，则生成的 URL 将为`file://127.0.0.1,foo`，这不是有效的 URL。`NSFileManager`需要一个指向挂载点后代目录的文件 URL。这意味着必须安装共享。不需要身份验证。

# xcode4.3 - 即将溢出幻灯片过渡计数？

> ID：11644341
> 
> 赞同：1
> 
> 时间：2012-07-25T07:04:39.527
> 
> 标签：xcode4.3, uipopovercontroller, ios5.1

我已经更新到 iOS 5.1 并面临这个问题。我有一个主视图控制器和细节视图控制器。我也在使用 splitViewController。

问题是当我以横向模式启动应用程序时，它会显示此错误

```
*** Assertion failure in -[UIPopoverController _incrementSlideTransitionCount:]
*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'About to overflow slide transition count' 
```

我正在使用 ARC，如果以纵向模式启动，程序运行得非常好。请给我建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T08:42:52.680

这可能是由于您试图在代码中的某个位置显示 Master ViewController 造成的。虽然这在纵向启动时完全没问题（因为最初没有显示主视图控制器），但会导致横向问题，因为显示主视图控制器，因此“溢出你的幻灯片过渡计数”。

在没有看到您的代码的情况下，我无法准确告诉您是哪一部分代码导致了这种情况，但是您可能希望通过执行类似的操作来通过此错误

```
 if(UIInterfaceOrientationIsPortrait(self.interfaceOrientation)) {
    [run the code that is crashing your app]
} 
```

这样，只有在需要时（纵向）才会调用您的代码。

# python - Django 管理员在表单清理上编辑内联对象

> ID：11644355
> 
> 赞同：2
> 
> 时间：2012-07-25T07:05:28.487
> 
> 标签：python, django, django-models, django-forms

我有以下模型：

```
class ProjectBudget(models.Model): 
```

它有一个表格和内联：

```
class ProjectBudgetAdmin(admin.ModelAdmin):  
    form = ProjectBudgetForm
    inlines= [ProjectSpentsInline]

class ProjectSpentsInline(admin.TabularInline):
    model = ProjectSpents 
```

在表格上我有一个字段`file`。从这个文件我想填充内联对象`ProjectSpents`值：

```
class ProjectBudgetForm(ModelForm):
    file  = forms.FileField

    def clean_file(self):
        parse file then populate inline model objects ProjectSpents.... 
```

问题是我想从 clean_file 编辑 ProjectSpents 的内联值，但是有一个问题，因为在 clean_file 之前查询集已经被填充并且新的内联值没有显示。也许还有另一种解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:17:55.987

尝试覆盖模型管理方法[`save_formset`](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.save_formset)。您可以遍历 formset 实例以删除现有的内联，然后访问`form.cleaned_data['file']`并创建新的相关实例。

# opengl - 标准化一个值是什么意思？

> ID：11644356
> 
> 赞同：37
> 
> 时间：2012-07-25T07:05:33.290
> 
> 标签：opengl, glsl, normalization

我目前正在研究 OpenGL 中的光照，它利用了 GLSL 中称为 normalize 的函数。根据 OpenGL 文档，它说它“计算两个向量的归​​一化乘积”。但是，它仍然没有解释“标准化”是什么意思。我曾尝试在 Google 上查找什么是标准化产品，但我似乎找不到任何关于它的信息。谁能解释归一化的含义并提供一些归一化值的示例？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-07-25T17:22:51.117

我认为混淆来自于规范化“一个值”而不是“一个向量”的想法。如果您只是将单个数字视为一个值，那么标准化没有任何意义。规范化仅在应用于向量时才有用。

向量是一个数字序列；在 3D 图形中，它通常是表示为 的坐标`v = <x,y,z>`。

每个向量都有一个*大小*或*长度*，可以使用毕达哥拉定理找到：`|v| = sqrt(x^2 + y^2 + z^2)`这基本上是从原点`<0,0,0>`到向量表示的点的直线长度。

一个向量是*正常*的，如果它的长度是 1。就是这样！

规范化向量意味着改变它，使其指向相同的方向（想想从原点开始的那条线），但它的长度是一。

我们使用法线向量的主要原因是表示一个方向；例如，如果您正在对无限远的光源进行建模，则无法为其提供精确的坐标。但是您可以使用法线向量指示从特定点到哪里找到它。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-07-25T07:19:42.780

这是一个数学术语，[这个链接](http://www.fundza.com/vectors/normalize/index.html)用非常简单的术语解释了它的含义：

> 2D 和 3D 计算机图形中的操作通常使用已归一化的向量副本执行，即。转换为单位向量...归一化向量涉及两个步骤：
> 
> 1.  计算它的长度，然后，
> 2.  将它的每个（`xy`或`xyz`）组件除以它的长度......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-29T02:25:50.143

如果您对向量甚至向量代数不太了解，那么解释起来会很复杂。（您可以查看这篇关于向量、法线向量甚至规范化过程等一般概念的文章）[查看](https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-vectors/a/vector-magnitude-normalization)

但是“规范化”的过程或概念是指使某物标准化或“正常化”的过程。</p>

在向量的情况下，让我们暂时假设标准向量的长度为 1。因此，要对向量进行归一化，就是取任意长度的向量，并保持它指向同一方向，将其长度更改为1，把它变成所谓的单位向量。

# c# - 在 C# 中访问用户设置会引发异常

> ID：11644357
> 
> 赞同：2
> 
> 时间：2012-07-25T07:05:34.423
> 
> 标签：c#, exception, settings

我在 Visual Studio 2010 中添加了一个简单的基于字符串的用户设置。当我的主窗体加载时，我访问此设置。这使我的应用程序崩溃，引发以下异常：

“ConfigurationErrorsException - 配置系统初始化失败。”

使用用户设置功能真的那么难吗？我错过了什么？

PS：这是我的 app.config：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <configSections>
        <sectionGroup name="userSettings" type="System.Configuration.UserSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
            <section name="MyApp.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" allowExeDefinition="MachineToLocalUser" requirePermission="false" />
        </sectionGroup>
    </configSections>
    <userSettings>
        <MyApp.Properties.Settings>
            <setting name="WorkbenchDirectory" serializeAs="String">
                <value />
            </setting>
        </MyApp.Properties.Settings>
    </userSettings>
</configuration> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:22:20.750

查看内部异常的提示终于帮助我解决了问题。我的应用程序的设置文件夹（在我用户的本地 AppData 目录中）以某种方式损坏。我删除了文件夹，现在一切正常。

谢谢！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:17:03.877

尝试为您的设置赋予一些价值：

```
<setting name="WorkbenchDirectory" serializeAs="String">
    <value>hello</value>
</setting> 
```

也许一个空值节点是无效的。

# c# - 将选定的记录从一个 dxg:GridControl 传输到另一个

> ID：11644358
> 
> 赞同：1
> 
> 时间：2012-07-25T07:05:43.707
> 
> 标签：c#, silverlight

我有两个 dxg:GridControl 控件。一个控件具有复选框列，当用户想要从第一个 dxg:GridControl 中选择一条记录时，用户将单击该记录上的复选框，这样用户将能够选择多条记录。当用户单击 BtnGetSelected_Click 按钮时，我想获取所有选定的数据并显示在第二个 dxg:GridControl 中，而无需从第一个 dxg:GridControl 中删除记录。

```
Can someone please help me to do this.

My second goal is to enhance this program to drag and drop record from first dxg:GridControl to second dxg:GridControl. 

Much appreciate someone hep me to achieve these two.

I have been searching for an answer for more than 4 days now.

Thank you very much.

My code is as follows 

<dxlc:LayoutControl>
<Button Click="BtnInvert_Click">Invert selection</Button> 
<Button Click="BtnGetSelected_Click" Width="100" Height="100">Get selection</Button>
<dxg:GridControl AutoPopulateColumns="True" AllowDrop="True"  Name="Examinersdata" MouseLeftButtonDown="tableview_MouseLeftButtonDown_1" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto" DragOver="Examinersdata_DragOver_1" DragLeave="Examinersdata_DragLeave_1" Drop="Examinersdata_Drop_1" Width="500" CustomUnboundColumnData="grid_CustomUnboundColumnData">
<dxg:GridControl.Columns>
                <dxg:GridColumn FieldName="id" />
                <dxg:GridColumn FieldName="LastName" />
                <dxg:GridColumn FieldName="FirstName" />
                <dxg:GridColumn FieldName="Country" />                  
                <dxg:GridColumn FieldName="State" />
                <dxg:GridColumn FieldName="Written" />
                <dxg:GridColumn FieldName="Clinical" />
                <dxg:GridColumn FieldName="ObserverOrSupervisor" />
                <dxg:GridColumn FieldName="Selected" UnboundType="Boolean" AllowSorting="False">
                    <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <dxe:CheckEdit x:Name="PART_Editor"/>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>
                </dxg:GridControl.Columns>
            <dxg:GridControl.View > 
            <dxg:TableView Name="tableview" MultiSelectMode="None"  ShowGroupedColumns="True" EditorShowMode="MouseUpFocused" >
</dxg:TableView>
</dxg:GridControl.View>
<i:Interaction.Behaviors>
<dxg:GridDragDropManager x:Name="gridDragDropManager" AllowDrag="True" AllowDrop="True">
                        <dxg:GridDragDropManager.TemplatesContainer>
                        <dxg:DragDropTemplatesContainer/>
                    </dxg:GridDragDropManager.TemplatesContainer>
                    </dxg:GridDragDropManager>
</i:Interaction.Behaviors>
</dxg:GridControl>
<dxg:GridControl AutoPopulateColumns="True" AllowDrop="True" Name="Examinersdata1" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto" DragOver="Examinersdata_DragOver_1" DragLeave="Examinersdata_DragLeave_1"   >
                <dxg:GridControl.View>
                    <dxg:TableView ShowTotalSummary="False"/>
                </dxg:GridControl.View>
<i:Interaction.Behaviors>
                    <dxg:GridDragDropManager x:Name="gridDragDropManager1" AllowDrag="True" AllowDrop="True"  Drop="DropManager_Drop">
                        <dxg:GridDragDropManager.TemplatesContainer>
                            <dxg:DragDropTemplatesContainer/>
                        </dxg:GridDragDropManager.TemplatesContainer>
                    </dxg:GridDragDropManager>
                </i:Interaction.Behaviors>
            </dxg:GridControl>  
</dxlc:LayoutControl>
</Grid>
</UserControl>
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Animation;
using System.Windows.Shapes;
using Microsoft.SharePoint.Client;
using System.Threading;
using Microsoft.SharePoint;
using System.Windows.Data;
using System.Linq;
using System.Collections.ObjectModel;
using DevExpress.Xpf.Grid;
namespace SilverlightProject1
{
    public partial class MainPage : UserControl
    {
        Dictionary<Guid, bool> selectedValues = new Dictionary<Guid, bool>();
        List<TestData> list;

        public string childId_Value;
        public string childId_Value1;
        public string writtenok;
        public string clinicalok;
        public string ObserverOrSupervisorOk;
        public string strSelectedTab;
        public string x;
       public GridViewHitInfoBase downHitInfo = null;

        private ListItemCollection _exmDetails;

        public ClientContext context;
        public List exmDetails;

        public class Examiners
        {
            public int id { get; set; }
            public String LastName { get; set; }
            public String FirstName { get; set; }
            public String Country { get; set; }
            public String State { get; set; }
            public String Written { get; set; }
            public String Clinical { get; set; }
            public String ObserverOrSupervisor { get; set; }

        }
        public class TestData
        {
            public Guid Id { get; set; }
            public int Number { get; set; }
        }

        public MainPage()
        {
            InitializeComponent();
            GetalldatafromExaminersList();

        }

        public void GetalldatafromExaminersList()
        {

            context = ClientContext.Current;
            context.Load(context.Web);
            exmDetails = context.Web.Lists.GetByTitle("ExaminersList");
            context.Load(exmDetails);

            CamlQuery query = new Microsoft.SharePoint.Client.CamlQuery();

            _exmDetails = exmDetails.GetItems(query);
            context.Load(_exmDetails);
            context.ExecuteQueryAsync(new ClientRequestSucceededEventHandler(OnRequestSucceeded), null);
        }

        private void OnRequestSucceeded(Object sender, ClientRequestSucceededEventArgs args)
        {
            // This is not called on the UI thread.
            Dispatcher.BeginInvoke(BindData);
        }

        private void BindData()
        {

           List<Examiners> Examiner = new List<Examiners>();
            foreach (ListItem li in _exmDetails)
            {
                var childIdField = li["Country"] as FieldLookupValue;
                if (childIdField != null)
                {
                    childId_Value = childIdField.LookupValue;
                    var childId_Id = childIdField.LookupId;
                }

                var childIdField1 = li["State"] as FieldLookupValue;
                if (childIdField1 != null)
                {
                    childId_Value1 = childIdField1.LookupValue;
                    var childId_Id1 = childIdField1.LookupId;
                }

                if (li["Written"].ToString() == "True")
                    writtenok = "yes";
                else writtenok = "No";

                if (li["Clinical"].ToString() == "True")
                    clinicalok = "Yes";
                else clinicalok = "No";

                if (li["Observer_x0020_Or_x0020_Supervis"].ToString() == "True")
                    ObserverOrSupervisorOk = "Yes";
                else ObserverOrSupervisorOk = "No";

                Examiner.Add(new Examiners()
                {
                    id =Convert.ToInt32(li["ID"]),
                    LastName = li["Title"].ToString(),
                    FirstName = li["First_x0020_Name"].ToString(),
                    Country = childId_Value,
                    State = childId_Value1,
                    Written = writtenok,
                    Clinical = clinicalok,
                    ObserverOrSupervisor = ObserverOrSupervisorOk,

                });

            }

            Examinersdata.ItemsSource = Examiner;

        }

private void DropManager_Drop(object sender, DevExpress.Xpf.Grid.DragDrop.GridDropEventArgs e)
        {

            if (e.DraggedRows != null)
            {

                Examinersdata1.ItemsSource = e.DraggedRows;

            }
        }

        private void grid_CustomUnboundColumnData(object sender, GridColumnDataEventArgs e)
        {
            if (e.Column.FieldName == "Selected")
            {

                int d;
                int y = e.ListSourceRowIndex;
                d = y + 1;
                Guid key = ToGuid(d);
                if (e.IsGetData)
                {
                    e.Value = GetIsSelected(key);
                }
                if (e.IsSetData)
                {
                    SetIsSelected(key, (bool)e.Value);
                }
            }

        }
        public static Guid ToGuid(int value)
        {
            byte[] bytes = new byte[16];
            BitConverter.GetBytes(value).CopyTo(bytes, 0);
            return new Guid(bytes);
        } 

        bool GetIsSelected(Guid key)
        {
            bool isSelected;
            if (selectedValues.TryGetValue(key, out isSelected))
                return isSelected;
            return false;
        }
        void SetIsSelected(Guid key, bool value)
        {
            if (value)
                selectedValues[key] = value;
            else
                selectedValues.Remove(key);
        }
        private void BtnInvert_Click(object sender, RoutedEventArgs e)
        {

        }

        private void BtnGetSelected_Click(object sender, RoutedEventArgs e)
        {
            string selectedIds = string.Empty;
            foreach (Guid key in selectedValues.Keys)
            {
                selectedIds += string.Format("{0}\n", key);
            }
            string caption = string.Format("Selected rows (Total: {0})", selectedValues.Count);
            MessageBox.Show(selectedIds, caption, MessageBoxButton.OK);

        }

    }
} 
```

# c - 是否定义了有符号整数的按位运算结果？

> ID：11644362
> 
> 赞同：63
> 
> 时间：2012-07-25T07:05:52.610
> 
> 标签：c, bitwise-operators

我知道`>>`on 有符号整数的行为可能取决于实现（特别是当左操作数为负时）。

其他的呢：`~`, `>>`, `&`, `^`, `|`? 当它们的操作数是内置类型 ( `short`, `int`, `long`, `long long`) 的有符号整数时，是否保证结果与它们的类型是无符号的一样（就位内容而言）？

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2012-07-25T07:33:59.793

对于负操作数，`<<`具有未定义的行为，结果`>>`是实现定义的（通常作为“算术”右移）。`<<`并且`>>`在概念上不是按位运算符。它们是算术运算符，相当于对其定义明确的操作数乘以适当的 2 次方的乘法或除法。

至于真正的按位运算符`^`、`~`、`|`和`&`，它们对操作数（可能提升的）类型中值的位表示进行操作。他们的结果对于有符号表示的每种可能选择（二进制补码、一个补码或符号幅度）都是明确定义的，但在后两种情况下，如果实现处理“负零”，则结果可能是陷阱表示表示为陷阱。就个人而言，我几乎总是将无符号表达式与按位运算符一起使用，以便结果在*值*而非*表示*方面是 100% 明确定义的。

最后，请注意，所写的这个答案可能仅适用于 C。C 和 C++ 是非常不同的语言，虽然我不太了解 C++，但我知道它在某些领域可能与 C 不同......

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-25T07:31:26.163

*   `<<`负值的左移具有未定义的行为；
*   `>>`负值的右移给出实现定义的结果；
*   和运算符`&`的结果是根据值的按位表示来定义的。在 C 中允许表示负数的三种可能性：二进制补码、二进制补码和符号大小。当这些运算符用于负值时，实现使用的方法将确定数值结果。`|``^`

请注意，符号位为 1 且所有值位为零（对于二进制补码和符号幅度）或符号位和所有值位为 1（对于一个补码）的值被明确允许为*陷阱表示*，并且在此如果您对这些运算符使用会生成此类值的参数，则行为未定义。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-25T07:30:03.190

位内容将相同，但结果值仍将取决于实现。

使用按位运算时，您真的不应该将值视为有符号或无符号，因为这是在不同的级别上工作的。

使用无符号类型可以让您避免一些麻烦。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-09-26T21:53:04.273

C89 标准定义了基于位位置左移有符号数的行为。如果有符号和无符号类型都没有填充位，则无符号类型所需的行为，加上正符号类型与无符号类型共享相同表示的要求，意味着符号位紧邻最高有效值位的左侧.

这在 C89 中，-1<<1 在没有填充位的二进制补码实现上为 -2，在没有填充位的二进制补码实现上为 -3。如果有任何没有填充位的符号幅度实现，则 -1<<1 将等于 2。

C99 标准将负值的左移更改为未定义行为，但基本原理中没有任何线索说明原因（甚至根本没有提及更改）。C89 要求的行为在某些补码实现中可能不太理想，因此允许这些实现自由选择更好的东西是有意义的。我没有看到任何证据表明标准的作者并不打算让高质量的二进制补码实现继续提供 C89 规定的相同行为，但不幸的是，他们实际上并没有这么说。

# apache - Apache奇怪的行为：即使请求指向不存在的文件，页面也会加载

> ID：11644372
> 
> 赞同：0
> 
> 时间：2012-07-25T07:06:39.227
> 
> 标签：apache, .htaccess

客户有一个网站在专用主机上运行（开发的，也不是由我自己管理的），其中 Apache 正在生成一个非常奇怪的行为。

当请求的 url 属于以下类型时：

[http://obituarieshelp.org/aboutus.html/whatever_here](http://obituarieshelp.org/aboutus.html/whatever_here)

如果“aboutus.html”存在，它实际上会加载它，即使“whatever_here”不存在，并且“aboutus.html”不是目录。

我查看了 htaccess 文件，一切似乎都很好。我确定它是 apache 以某种方式配置错误，但为了我的爱，我似乎找不到任何可能指向 httpd.conf 中的问题的东西

有没有人经历过同样的事情，或者对为什么会这样有任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:18:45.307

这由[`AcceptPathInfo`](http://httpd.apache.org/docs/current/mod/core.html#acceptpathinfo)HTTPd 指令控制。文件后路径的其余部分在`PATH_INFO`环境/服务器变量中可用，脚本可以使用它来识别有关请求的其他信息。

# asp.net-mvc-3 - 如何将虚拟值添加到 MVC3 中的下拉列表

> ID：11644374
> 
> 赞同：3
> 
> 时间：2012-07-25T07:06:40.200
> 
> 标签：asp.net-mvc-3

我正在关注一些创建 MVC3 应用程序的教程。我看到了添加绑定到模型的下拉列表的示例。

```
@Html.DropDownListFor(model => model.Vehicle.Model, new List<SelectListItem>(), String.Empty, new { style = "width: 100px;", size = "1" }) 
```

但我只想添加一些常量值，即不是来自数据库，而只是想在代码中向下拉列表添加一些项目，我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:20:48.800

```
@{
     var modellist = new List<VehicleModels>()
     {
         new VehicleModels() { ID= 1, Name="A"},
         new VehicleModels() { ID= 2, Name="B"},
         new VehicleModels() { ID= 3, Name="C"},
         new VehicleModels() { ID= 4, Name="D"}
     }
}

@Html.DropDownListFor(model => model.Vehicle.Model, new SelectList(modellist, "ID" , "Name"), String.Empty, new { style = "width: 100px;", size = "1" }) 
```

# c# - 如何四舍五入十进制值列表？

> ID：11644381
> 
> 赞同：2
> 
> 时间：2012-07-25T07:07:09.710
> 
> 标签：c#

你能解释一下如何将我的小数列表格式化为两位小数并且总数应该是 100.00？

```
 static void Main(string[] args)
    {
        string decimalFormat = "0.00";
        decimal[] individuals = { 10, 10, 10 };
        decimal total = 30;
        List<decimal> percents = new List<decimal>();
        foreach (decimal t in individuals)
        {
            decimal percent = (t * 100) / total;
            percents.Add(percent);
        }

        List<decimal> roundToTwoDecimalPercent = new List<decimal>();
        foreach (decimal portfolio in percents)
        {
            roundToTwoDecimalPercent.Add(Math.Round(portfolio, 2));
        }

        decimal percentTotal = decimal.Zero;
        foreach (decimal final in roundToTwoDecimalPercent)
        {
            percentTotal += final;
        }

        Console.WriteLine(percentTotal.ToString(decimalFormat)); // 99.99 but the EXPECTED OUTPUT IS 100.00
        Console.ReadLine();
    } 
```

谢谢， S.Venkatesh

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T07:20:31.070

基本上，

> 四舍五入的数字之和不一定等于相同数字的四舍五入之和。

最后，您只需要舍入一次。

这将为您提供预期的输出：

```
static void Main(string[] args)
{
    string decimalFormat = "0.00";
    decimal[] individuals = { 10, 10, 10 };
    decimal total = 30;
    List<decimal> percents = new List<decimal>();
    foreach (decimal t in individuals)
    {
        decimal percent = (t * 100) / total;
        percents.Add(percent);
    }

    decimal percentTotal = decimal.Zero;
    foreach (decimal percent in percents)
    {
        percentTotal += percent;
    }

    Console.WriteLine(string.Format("{0:N2}", percentTotal)); 
    Console.ReadLine();
} 
```

**或者：**如果你像我一样是一个 LINQ 爱好者，这会给你同样的结果：

```
static void Main(string[] args)
{
    decimal[] individuals = { 10, 10, 10 };

    decimal total = individuals.Sum();

    decimal[] percentages = individuals.Select(i => i * 100 / total).ToArray();

    decimal percentageTotal = percentages.Sum();

    Console.WriteLine(string.Format("{0:N2}", percentageTotal));

    Console.ReadLine();
} 
```

**附加示例**：使用以下测试应用程序：

```
static void Main(string[] args)
{
    decimal[] individuals = { 10, 10, 10 };

    Console.WriteLine("Unrounded figures");

    var percentages = individuals.Select(i => i * 100 / individuals.Sum()).ToList();

    percentages.ForEach(p => Console.WriteLine(p.ToString()));

    decimal percentageTotal = percentages.Sum();
    Console.WriteLine("Their unrounded sum = {0}", percentageTotal);
    Console.WriteLine("Their rounded sum = {0:N2}", percentageTotal);

    Console.WriteLine();
    Console.WriteLine("Rounded figures");

    var roundedPercentages = individuals.Select(i => Math.Round(i * 100 / individuals.Sum(), 2)).ToList();
    roundedPercentages.ForEach(p => Console.WriteLine(p.ToString()));

    decimal roundedPercentageTotal = roundedPercentages.Sum();

    Console.WriteLine("Their unrounded sum = {0}", roundedPercentageTotal);
    Console.WriteLine("Their rounded sum = {0:N2}", roundedPercentageTotal);

    Console.ReadLine();
} 
```

我得到以下输出：

![输出](../Images/57010d293b8e7abd5eb438f91a6f9515.png)

# javascript - 从 Node.js 和 CouchDB 开始，没有 nano 或 cradle 等库

> ID：11644382
> 
> 赞同：5
> 
> 时间：2012-07-25T07:07:10.197
> 
> 标签：javascript, node.js, couchdb, couchdb-nano

> **可能重复：**
> [尝试从 Node.js 将文档插入 CouchDB 时出现“bad_request invalid_json”错误](https://stackoverflow.com/questions/11647656/getting-bad-request-invalid-json-error-when-trying-to-insert-document-into-co)

CouchDB 和 Node.js上投票最高的答案 [- 你推荐什么模块？](https://stackoverflow.com/questions/5532209/couchdb-and-node-js-what-module-do-you-recommend) 从 Node.js 和 CouchDB 开始，建议不要使用 nano 或 cradle 等库。

但是，我还没有找到任何关于如何以编程方式为所有 DBMS 执行标准操作的教程，例如创建数据库、创建表、添加和查看数据等。

编辑：（部分答案）安装和启动 CouchDB 后转到`http://localhost:5984/_utils/script/couch.js`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T17:31:33.807

您应该从阅读[CouchDB 书](http://guide.couchdb.org/editions/1/en/index.html)开始。

不知道你为什么不想使用模块：我认为你断章取意地回答了一个答案（一个可能有一年的答案）并决定不使用模块。

这不太可能有助于完成工作。:) 您只是在重复已完成的工作以及已解决的问题等。

如果您想学习 CouchDB，请阅读本书。您可以阅读 nano 的源代码，因为它与 API 的映射非常接近，并且应该很容易阅读，但这本书是完整的方法。

如果出于任何原因您决定仍然想实现自己的模块来做其他人已经做得好的事情，那就去做吧:)

相反，如果您正在寻找有关使用 nano 的资源，则有很多：

*   自述文件：[github](https://github.com/dscape/nano/blob/master/README.md)
*   截屏视频：[couchdb 和 nano](http://nodetuts.com/tutorials/30-couchdb-and-nano.html#video)
*   文章：[nano - nodejs 的简约 couchdb 客户端](http://writings.nunojob.com/2011/08/nano-minimalistic-couchdb-client-for-nodejs.html)
*   文章：[node.js 和 couchdb 入门](http://writings.nunojob.com/2011/09/getting-started-with-nodejs-and-couchdb.html)
*   文章：[文档更新处理程序支持](http://jackhq.tumblr.com/post/16035106690/nano-v1-2-x-document-update-handler-support-v1-2-x)
*   文章：[纳米3](http://writings.nunojob.com/2012/05/Nano-3.html)
*   文章：[使用 node.js 和 nano 使用 couchdb cookie 身份验证保护站点](http://mahoney.eu/2012/05/23/couchdb-cookie-authentication-nodejs-nano/)
*   文章：[将副本添加到 nano](http://blog.jlank.com/2012/07/04/adding-copy-to-nano/)
*   文章：[如何使用 nano 更新文档](http://writings.nunojob.com/2012/07/How-To-Update-A-Document-With-Nano-The-CouchDB-Client-for-Node.js.html)
*   文章：[在 node.js 中使用 nock 模拟 http 集成测试并指定](http://writings.nunojob.com/2012/05/Mock-HTTP-Integration-Testing-in-Node.js-using-Nock-and-Specify.html)
*   文章：[在 node.js 中使用 nock 和 tap 模拟测试 couchdb](http://writings.nunojob.com/2011/12/Mock-Testing-CouchDB-Using-NodeJS-With-Nock-And-TAP.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T09:38:39.217

感谢[`Ruben Verborgh`](https://stackoverflow.com/questions/11647656/getting-bad-request-invalid-json-error-when-trying-to-insert-document-into-co#answer-11649320)，我自己从几个来源编译了微教程。

```
var http = require('http')
var sys = require('sys')

var couchdbPath = 'http://localhost:5984/'

request = require('request')
h = {accept: 'application/json', 'content-type': 'application/json'}
request(
  {uri: couchdbPath + '_all_dbs', headers:h}, 
  function(err, response, body) { console.log(sys.inspect(JSON.parse(body))); }
)

// add database
request(
  {uri: couchdbPath + 'dbname', method:'PUT', headers:h},
  function (err, response, body) {
    if (err)
      throw err;
    if (response.statusCode !== 201)
      throw new Error("Could not create database. " + body);
  }
)

// Modify existing document
var options = {
  host: "localhost",
  port: 5984,
  path: "/dbname",
  headers: {"content-type": "application/json"},
  method: "PUT"
};

var req = http.request(options, function(res) {
  console.log('STATUS: ' + res.statusCode);
  //console.log('HEADERS: ' + JSON.stringify(res.headers));
  res.setEncoding('utf8');
  res.on('data', function (chunk) {
    console.log('BODY: ' + chunk);
  });
});

req.on('error', function(e) {
  console.log('problem with request: ' + e.message);
});

// write data to request body
req.write(JSON.stringify({
  "_id":"rabbit",
  "_rev":"4-8cee219da7e61616b7ab22c3614b9526",
  "Subject":"I like Plankton"
}));

req.end(); 
```

我使用了以下文档：

*   [`http.request()`](http://nodejs.org/api/http.html#http_http_request_options_callback)
*   [CouchDB 完整的 HTTP API 参考](http://wiki.apache.org/couchdb/Complete_HTTP_API_Reference)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T08:20:03.897

CouchDB 不是 SQL 数据库引擎。它属于“NoSQL”系列。

你不做选择，你不创建表格等。

这是完全不同的。

它实际上是使用 REST API 来工作的。就像，要访问所有文档，您可以使用以下 URL 上的 HTTP GET 访问它们：[http://some.server/someDbName/_all_docs](http://some.server/someDbName/_all_docs)

如需更全面的介绍，我建议在 Google 上查找“CouchDB 教程”。

你会发现像[this one](http://net.tutsplus.com/tutorials/getting-started-with-couchdb/)或[this one](http://nosql.mypopescu.com/post/3767157786/couchdb-tutorial-getting-started-with-couchdb)这样的好链接。（我不保证任何，它们只是作为介绍看起来不错。）

在 node.js 中发起 http 请求，可以使用[`request`](http://nodejs.org/api/http.html#http_http_request_options_callback)内置`http`模块的方法。一种快捷方法是`http.get`，您可以像这样使用它：

```
var http = require( 'http' );

http.get( 'http://some.url/with/params', function( res ) {
    // res has the values returned
}); 
```

**阅读您的代码后进行编辑：**

首先，您使用的文档是否已过时。节点是 v0.8，而不是 0.4。

其次，您`request = require('request')`必须提出一些问题（模块是否存在？）。我认为第一部分甚至没有被执行。

第三，现在尝试一个 GET 请求。就像是：

```
var http = require( 'http' );
http.get( 'http://localhost:5984/_all_dbs', function( res ) {
    console.log( res );
}); 
```

看看它是否有效。如果是，您已经知道如何使用 couchdb ;)

最后，您最后的要求似乎没有错。可能跟这个有关`require('request')`，所以不知道。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T08:39:22.623

这里有一些动手示例、想法和代码片段，它们应该对您的学习有所帮助

[带有 Coffeescript、Express 和 CoudbDB 的简单博客](http://blog.koostudios.com/?p=398)

[使用 CouchDB 和 Nodejs 进行开发的思考](http://tbranyen.com/post/thoughts-on-development-using-couchdb-with-nodejs)

[绑定 CouchDB 和 Node.js](http://architects.dzone.com/articles/glue-bind-couchdb-and-nodejs)

[Node.js、Express 和 CouchDB 入门](http://www.bytemuse.com/2011/06/getting-started-with-node-js-express-and-couchdb/)- 现在似乎无法访问此链接，但这似乎是一个临时问题。

这是一个关于测试 CouchDB -[使用 Node.js 模拟测试 CouchDB](http://writings.nunojob.com/2011/12/Mock-Testing-CouchDB-Using-NodeJS-With-Nock-And-TAP.html)

希望能帮助到你。

# ajax - AJAX 响应冲突

> ID：11644383
> 
> 赞同：0
> 
> 时间：2012-07-25T07:07:12.240
> 
> 标签：ajax, redirect, response

我的 ajax 响应重定向有问题。重定向工作得很好，但是当我必须返回一个带有响应的布尔值时，它会返回重定向。

这是代码。有关行有评论：

```
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class Worker extends HttpServlet {

    private static final long serialVersionUID = 1L;
    private static String firstName = "";
    private static String lastName = "";
    private static boolean doAnimWheel = false;
    private static String portion;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doPost(request, response);
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        // begin recovering form
        Worker.firstName = request.getParameter("firstName");
        Worker.lastName = request.getParameter("lastName");

        response.sendRedirect("launch.html"); // TODO find why it blocks response
        // end recovering form

        String param = request.getParameter("srcId");
        if(param != null) {
            if(param.equals("launch")) {
                Worker.doAnimWheel = new Boolean(request.getParameter("doAnimWheel")).booleanValue();
                return;
            }
            else if(param.equals("wheel")) {
                response.setContentType("text/plain");
                PrintWriter out = response.getWriter();
                out.print(Worker.doAnimWheel); // Here I have to return my Boolean, but it return launch.html
                out.flush();
                out.close();
                return;
            }
            else if(param.equals("result")) {
                Worker.portion = request.getParameter("portion");
                Worker.doAnimWheel = new Boolean(request.getParameter("doAnimWheel")).booleanValue();
                return;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:37:22.350

我认为问题在于您总是在方法开始时发送重定向

```
 response.sendRedirect("launch.html"); // TODO find why it blocks response
    // end recovering form 
```

sendRedirect 方法 HttpServletResponse 的 Java 文档指出：“使用此方法后，应将响应视为已提交且不应写入。”
您稍后尝试返回的内容显然被忽略了。

您可能希望将 sendRedirect 调用移动到实际需要执行重定向的代码分支，如下所示：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        // begin recovering form
        Worker.firstName = request.getParameter("firstName");
        Worker.lastName = request.getParameter("lastName");

        String param = request.getParameter("srcId");

        if(param.equals("launch")) {
                        Worker.doAnimWheel = new Boolean(request.getParameter("doAnimWheel")).booleanValue();
                        response.sendRedirect("launch.html");
                        return;
                    }
                    else if(param.equals("wheel")) {
                        response.setContentType("text/plain");
                        PrintWriter out = response.getWriter();
                        out.print(Worker.doAnimWheel); // Here I have to return my Boolean, but it return launch.html
                        out.flush();
                        out.close();
                        return;
                    }
                    else if(param.equals("result")) {
                        Worker.portion = request.getParameter("portion");
                        Worker.doAnimWheel = new Boolean(request.getParameter("doAnimWheel")).booleanValue();
                        response.sendRedirect("launch.html");
                        return;
                    }
        }
    }
} 
```

# c# - 在 C# 中读取 xml 并转换为列表

> ID：11644385
> 
> 赞同：0
> 
> 时间：2012-07-25T07:07:14.147
> 
> 标签：c#, xml, linq-to-xml

我想阅读这个 xml 并将其转换为列表以插入数据库

请帮忙

```
<?xml version="1.0" encoding="UTF-8"?>
-<xml>-<records>-<record><database path="J:\EndNote\PA-03\1.enl" name="1.enl">1.enl</database><source-app name="EndNote" version="14.0">EndNote</source-app><rec-number>38</rec-number>-<foreign-keys><key db-id="r50aeetv1taarsewtwsvrr2h2wtzde5z25pp" app="EN">38</key></foreign-keys><ref-type name="Journal Article">17</ref-type>-<contributors>-<authors>-<author><style size="100%" font="default" face="normal">Patrick Carpenter</style></author></authors></contributors>... 
```

![我的 xml 架构](../Images/a3efa02fd8b1069747416287259e92c0.png)

编辑：

它用于导出的 EndNote

它太乱了，它不起作用

请检查这个

[完整的xml链接](http://ge.tt/api/1/files/2qnh10L/0/blob?download)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:14:20.973

最快的方法是使用 xsd.exe 生成序列化类：

1) 生成模式定义

```
xsd file.xml [/outputdir:directory] 
```

如果 xml 供应商已经准备好 xsd 模式，则不需要此步骤（示例 xml 没有定义任何使用的 xsd 模式）

2) 从 xsd 模式生成类：

```
xsd file.xsd {/classes | /dataset} [/element:element]
         [/language:language] [/namespace:namespace]
         [/outputdir:directory] [URI:uri] 
```

3）使用xml序列化器从生成的类中反序列化：

```
http://msdn.microsoft.com/en-us/library/dsh84875.aspx 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:22:45.170

为 XML 内容的模型创建类，例如：

```
class Records
{
    public List<Record> records { get; set }
}

class Record
{
    public RecordDatabase database { get; set }
    ...
    public int rec_number { get; set }
    ...
}

class RecordDatabase
{
    public string path { get; set }
    public string name { get; set }
}

... 
```

然后您可以将您的 XML 文件反序列化为一个对象：

```
Records records = null;
string path = "importfile.xml";
XmlSerializer serializer = new XmlSerializer(typeof(Cars[]));
StreamReader reader = new StreamReader(path);
reader.ReadToEnd();
records = (records)serializer.Deserialize(reader);
reader.Close(); 
```

# android - 如何解析 Android 4.0 中支持的 xml？

> ID：11644388
> 
> 赞同：0
> 
> 时间：2012-07-25T07:07:15.077
> 
> 标签：android, xml, parsing, xml-parsing, android-4.0-ice-cream-sandwich

我已经使用链接中的代码来解析 xml 它在低于 android 2.3 的版本中工作，但我试图让它完成 4.0.3 它根本不返回任何值。如何解决这个问题。我没有得到任何错误在日志中，但我没有得到解析值作为输出。这是[我用作代码的链接](http://p-xr.com/android-tutorial-how-to-parseread-xml-data-into-android-listview/)

```
@SuppressWarnings("unused")
public final static Document XMLfromString(String xml) {

    Document doc = null;

    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    try {

        DocumentBuilder db = dbf.newDocumentBuilder();

        InputSource is = new InputSource();
        is.setCharacterStream(new StringReader(xml));
        doc = db.parse(is);

    } catch (ParserConfigurationException e) {
        System.out.println("XML parse error: " + e.getMessage());
        return null;
    } catch (SAXException e) {
        System.out.println("Wrong XML file structure: " + e.getMessage());
        return null;
    } catch (IOException e) {
        System.out.println("I/O exeption: " + e.getMessage());
        return null;
    }

    return doc;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:19:06.150

使用[`Log.e()`](http://developer.android.com/reference/android/util/Log.html)而不是`System.out.println()`. 您可能会遇到异常，但未显示。

```
try {
    ...
} catch (ParserConfigurationException e) {
    Log.e(TAG, "XML parse error", e);
    return null;
} catch (SAXException e) {
    Log.e(TAG, "Wrong XML file structure", e);
    return null;
} catch (IOException e) {
    Log.e(TAG, "I/O exeption", e);
    return null;
} 
```

（`TAG`字符串常量在哪里）

# foursquare - 场地不能举办特价活动

> ID：11644389
> 
> 赞同：0
> 
> 时间：2012-07-25T07:07:21.100
> 
> 标签：foursquare

我正在创建一个使用 Foursquare 作为页面的特殊页面，但无法在页面上的所有场地上创建它，并出现错误“场地无法运行特价”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T18:15:56.003

并非所有类别的场地都可以举办特价活动；例如，家庭和办公室不能运行特价商品。

# app-store - Admob 在 AppStore 不工作

> ID：11644390
> 
> 赞同：0
> 
> 时间：2012-07-25T07:07:24.350
> 
> 标签：app-store, admob

我已经在我的 iPhone 应用中实现了 Ad mobs。该应用程序在调试时正在模拟器和设备中接收广告。但是当我将它上传到应用商店时，它没有收到任何内容。我正在使用这段代码

```
-(void)showAds{
self.adBanner = [[[GADBannerView alloc] initWithAdSize:kGADAdSizeBanner
                                                origin:origin]autorelease];                     
self.adBanner.adUnitID = @"abcdef1234567890.";
self.adBanner.delegate = self;
[self.adBanner setRootViewController:self];
[self.view addSubview:self.adBanner];

 GADRequest *request = [GADRequest request];

[self.adBanner loadRequest:request];
} 
```

我不知道我犯了什么错误？？有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T18:17:24.217

看起来您的 adUnitID 末尾有一个句点。你确定应该在那里吗？

# java - 会话属性框架

> ID：11644392
> 
> 赞同：1
> 
> 时间：2012-07-25T07:07:33.790
> 
> 标签：java, spring, session, properties

这是我的具体问题：

有一个项目包含很多在*Java上使用**Spring Framework*的页面。

 *有某种管理员用户和部门用户。

问题是管理员用户应该看到所有类型的用户（所有信息）。

有时管理员可能会删除一些用户：**这个方法应该完成**。

我的项目负责人告诉我查看会话属性访问并搜索是否有框架可以与*Spring*一起使用。

我怎么能做到这一点？
有没有这样的框架？如果不是最好的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T08:22:52.097

要将 Spring Security 添加到现有 Spring 应用程序，请遵循下一个示例： [http ://www.mkyong.com/spring-security/spring-security-hello-world-example/](http://www.mkyong.com/spring-security/spring-security-hello-world-example/)

我建议您阅读他们的[文档](http://static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity.html)。Spring 有非常好的文档。

[另一个例子](http://krams915.blogspot.com/2010/12/spring-security-mvc-integration_18.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T07:20:07.457

您可以使用`Acegi`安全框架，它与`Spring`框架集成。要解决您的问题，您必须将当前用户设置为`Http Session`（`Spring-Acegi`为此具有指定的类）并在需要时读取当前用户。

`Spring + Acegi`具有更多功能，例如：

*   多级过滤器的多级安全性
*   并发会话支持，它限制了主体允许的同时登录数。
*   支持`ACL`( `Access Control List`) 和对象域安全。
*   支持认证&授权。
*   还有更多

它有很多有用的实用程序和结构。

您可以在以下链接中查看更多信息：

*   [http://en.wikipedia.org/wiki/Spring_Security](http://en.wikipedia.org/wiki/Spring_Security)
*   [http://www.tfo-eservices.eu/wb_tutorials/media/SpringAcegiTutorial/HTML/SpringAcegiTutorial-1_1-html.html](http://www.tfo-eservices.eu/wb_tutorials/media/SpringAcegiTutorial/HTML/SpringAcegiTutorial-1_1-html.html)*

# html - 在窗口 addEventListener popstate 中调用函数，不起作用

> ID：11644393
> 
> 赞同：2
> 
> 时间：2012-07-25T07:07:33.673
> 
> 标签：html, addeventlistener, pushstate, popstate

我面临的问题是在 GetAjaxPageBack 函数中，每当我尝试在其中编写任何函数（如 split）或任何其他函数时，它什么都不做，并且如果我注释掉 var url = url.split("?"); 开始工作正常，但为什么我需要拆分 url 并想要获取查询字符串并想要使用 ajax 重新发送它以获取记录。

```
<script language="javascript">

function GetAjaxPageBack(url) {

//this line is not working  
var url = url.split("/"); 

alert(url);

/*  $.post(url,

function(data){     
    if (data != "") 
    {               

    }
}); 
*/}

function GetAjaxPage(value)
{   
if(value=='n')
{
    val     = $('#abc').val()+1;
    $('#abc').val(val);
}else
{
    val     = $('#abc').val()-1;
    $('#abc').val(val);
}
history.pushState(null, null, "?abc="+$('#abc').val());  

window.addEventListener("popstate", function(e) {           
    GetAjaxPageBack(location);          
});

}

</script>

</head>

<body><br />
<a href="javascript:;" onclick="GetAjaxPage('p')">Prev</a>&nbsp;|&nbsp;
<a href="javascript:;" onclick="GetAjaxPage('n')">Next</a>

<br /><br />

<input type="text" name="abc" id="abc" value="1" > 
```

请帮忙，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:37:13.483

位置不是字符串，而是 Location 对象。尝试使用它的本机函数或先将其转换为字符串。

```
location.toString().split('/') 
```

# java - org.apache.commons.mail 附件文件名编码

> ID：11644396
> 
> 赞同：1
> 
> 时间：2012-07-25T07:07:39.967
> 
> 标签：java, apache, encoding, jakarta-mail, attachment

我正在使用 apache commons mail 发送带有附件的电子邮件。我的附件文件内容是希伯来语，打开文件时可以看到，我的问题是当附件文件名是希伯来语时，我看不到我看到的名称？？？反而。（我仍然看到的内容还可以）。

这是我的代码：

```
String attachment_file_name = "קובץ מס 1";

HtmlEmail email = new HtmlEmail();
email.setHostName(smtp_server);
email.addTo(to_email;
email.setFrom(from_email , "XXXXXXX");
email.setSubject(subject);
email.setCharset("UTF-8");    
email.setHtmlMsg(body);          
email.attach(new ByteArrayDataSource(attachment_file_.toByteArray(), "application/pdf"), 
                                     attachment_file_name , 
                                     "attachment pdf",     
                                     EmailAttachment.ATTACHMENT);                     

email.send(); 
```

我需要做什么才能在希伯来语中看到文件名（以正确的编码）？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:23:19.357

我相信你必须对其进行编码。

[Javamail，核心库需要这个](http://www.oracle.com/technetwork/java/faq-135477.html#whenencode)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T19:28:05.490

[将系统属性“mail.mime.encodeparameters”设置为“true”。](http://www.oracle.com/technetwork/java/faq-135477.html#encodefilename)

# linux - 使用 bash 脚本遍历包含域的文本文件

> ID：11644399
> 
> 赞同：2
> 
> 时间：2012-07-25T07:07:47.853
> 
> 标签：linux, bash, loops

我编写了一个脚本，它读取网页的 href 标签并获取该网页上的链接并将它们写入文本文件。现在我有一个包含这些链接的文本文件，例如：

```
http://news.bbc.co.uk/2/hi/health/default.stm
http://news.bbc.co.uk/weather/
http://news.bbc.co.uk/weather/forecast/8?area=London
http://newsvote.bbc.co.uk/1/shared/fds/hi/business/market_data/overview/default.stm
http://purl.org/dc/terms/
http://static.bbci.co.uk/bbcdotcom/0.3.131/style/3pt_ads.css
http://static.bbci.co.uk/frameworks/barlesque/2.8.7/desktop/3.5/style/main.css
http://static.bbci.co.uk/frameworks/pulsesurvey/0.7.0/style/pulse.css
http://static.bbci.co.uk/wwhomepage-3.5/1.0.48/css/bundles/ie6.css
http://static.bbci.co.uk/wwhomepage-3.5/1.0.48/css/bundles/ie7.css
http://static.bbci.co.uk/wwhomepage-3.5/1.0.48/css/bundles/ie8.css
http://static.bbci.co.uk/wwhomepage-3.5/1.0.48/css/bundles/main.css
http://static.bbci.co.uk/wwhomepage-3.5/1.0.48/img/iphone.png
http://www.bbcamerica.com/
http://www.bbc.com/future
http://www.bbc.com/future/
http://www.bbc.com/future/story/20120719-how-to-land-on-mars
http://www.bbc.com/future/story/20120719-road-opens-for-connected-cars
http://www.bbc.com/future/story/20120724-in-search-of-aliens
http://www.bbc.com/news/ 
```

我希望能够过滤它们，以便我返回如下内容：

```
http://www.bbc.com : 6
http://static.bbci.co.uk: 15 
```

旁边的值表示域在文件中出现的次数。考虑到我将有一个循环遍历文件，我如何能够在 bash 中实现这一点。我是 bash shell 脚本的新手？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-25T07:12:52.023

```
$ cut -d/ -f-3 urls.txt | sort | uniq -c                  
3 http://news.bbc.co.uk
1 http://newsvote.bbc.co.uk
1 http://purl.org
8 http://static.bbci.co.uk
1 http://www.bbcamerica.com
6 http://www.bbc.com 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-25T07:11:26.463

像这样

```
egrep -o '^http://[^/]+' domain.txt | sort | uniq -c 
```

在您的示例数据上输出此内容：

```
3 http://news.bbc.co.uk/
1 http://newsvote.bbc.co.uk/
1 http://purl.org/
8 http://static.bbci.co.uk/
6 http://www.bbc.com/
1 http://www.bbcamerica.com/ 
```

即使您的行由一个没有斜杠的简单 url 组成，此解决方案也有效，所以

```
http://www.bbc.com/news
http://www.bbc.com/
http://www.bbc.com 
```

都将在同一个组中。

如果你想允许 https，那么你可以写：

```
egrep -o '^https?://[^/]+' domain.txt | sort | uniq -c 
```

如果其他协议是可能的，比如 ftp、mailto 等，你甚至可以非常松散地写：

```
egrep -o '^[^:]+://[^/]+' domain.txt | sort | uniq -c 
```

# eclipse - 多线程环境下eclipse远程调试

> ID：11644405
> 
> 赞同：0
> 
> 时间：2012-07-25T07:08:14.577
> 
> 标签：eclipse, multithreading

我正在使用 eclipse 进行远程调试。我的要求是同时发出 20 个请求，使用调试断点在某一点停止，然后同时释放所有挂起的线程，以测试多个线程同时访问代码时代码的行为。但是，当我尝试此操作时，我发现只有一个线程在为所有请求提供服务 Daemon Thread [http-0.0.0.0-8080-Processor60]（暂停（VcsInfoDAO 中第 440 行的断点））

当第一个请求完成时，只有第二个请求到达上述同一线程服务的断点。eclipse中是否有任何设置可以使所有请求都到达一个点，然后以某种方式同时释放线程，以便所有线程同时访问代码。

任何帮助将不胜感激。

苏拉布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:18:41.023

Eclipse 与您所看到的无关。如果您在应该同时调用的方法内的某个位置设置断点，并且如果您的客户端代码确实启动了 20 个并发请求，并且如果您观察到第二个请求仅在第一个请求完成后才被处理，那么您的想法是并发的不是。

我看到两种可能的解释：

*   你有一个独特的线程来处理所有的请求。如果多个并发发送，则所有请求都排队处理并一一处理
*   您有多个线程同时处理请求，但客户端代码顺序发送 20 个请求，而不是同时发送 20 个请求。

无论如何，使用断点来测试这样的事情并不是一个好的解决方案。您必须为 20 个线程中的每一个都点击“继续 (F8)”按钮，因此它们不会同时重新启动。您最好使用初始化为 20 的[CountDownLatch](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html)来执行此操作：

```
private CountDownLatch latch = new CountDownLatch(20);

public void run() {
    // some code
    // here we want to pause all 20 threads and restart them all at the same time
    latch.countDown(); // The 20th thread will open the barrier, and they will all restart at the same time
    latch.await();
} 
```

# php - 使用 PHP 获取重定向 URL 的最快方法

> ID：11644410
> 
> 赞同：2
> 
> 时间：2012-07-25T07:08:32.697
> 
> 标签：php, url, redirect, curl

我怎样才能尽快获得真正的 URL？我需要在单个脚本中检查大量 URL（最大执行时间 - 30 秒）。

CURL 解决方案需要太多时间。我发现了这样的事情：

```
function get_URL($url)
{
    $headers = @get_headers($url);
    $pattern = '/Location\s*:\s*(https?:[^;\s\n\r]+)/i';
    if ($locations = preg_grep($pattern, $headers))
    {
        preg_match($pattern, end($locations), $redirect);
        return $redirect[1];
    }
    return $url;
} 
```

这似乎工作得更快。还有其他更快的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:22:39.830

您可以使用 CURL“多”功能，它允许您同时发出多个请求，而无需自己管理多个进程。

[curl_multi_init()](http://php.net/manual/en/function.curl-multi-init.php)的PHP 文档有一些基本示例。[此处](http://www.somacon.com/p537.php)提供了另一个教程。

此外，如果 PHP 的最大执行时间是唯一阻止您的事情，并且您*实际上并不*关心它是否需要超过 30 秒，那么您始终可以在循环的每次迭代中调用[set_time_limit()](http://php.net/manual/en/function.set-time-limit.php)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T17:37:50.060

`$_SERVER['HTTP_REFERER']`包含重定向到当前 URL 的先前 URL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:11:57.527

[从这里](http://webcheatsheet.com/php/get_current_page_url.php)尝试这样的事情：

```
<?php
function curPageURL() {
 $pageURL = 'http';
 if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";}
 $pageURL .= "://";
 if ($_SERVER["SERVER_PORT"] != "80") {
  $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
 } else {
  $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
 }
 return $pageURL;
}
?> 
```

# c++ - 眼睛检测和异常处理

> ID：11644412
> 
> 赞同：0
> 
> 时间：2012-07-25T07:08:41.210
> 
> 标签：c++, opencv, computer-vision, object-recognition

这是我用来检测我的眼睛然后传输一些坐标的功能。

```
void detectAndDisplay(cv::Mat frame)
{
cv::Mat im1,im2;
std::vector<Rect> eye;
Mat frame_gray;
cv::cvtColor(frame,frame_gray,CV_BGR2GRAY);
eye_cascade.detectMultiScale(frame_gray,eye,1.1,2,0|CV_HAAR_SCALE_IMAGE,cv::Size(30,30));
for( int i = 0; i < eye.size(); i++ )
{
rectangle(frame,Point (eye[i].x,eye[i].y),Point (eye[i].x+eye[i].width, eye[i].y+eye[i].height),Scalar(255,0,0),4,8,0);
Mat noseROI = frame_gray(eye[i]);

    x1=eye[i].x;
    y3=eye[i].y;
    x2=eye[i].width;
    y2=eye[i].height;
}   
imshow("Camera Feed",frame);
} 
```

x1,x2,y2,y3 是全局变量，我正在使用 TCP/IP 套接字程序将数据传输到其他程序。问题是，一旦识别了眼睛，如果它们失去焦点，程序就会停止工作，并显示一条错误消息，指出存在一个在 for 循环中未处理的异常。如果我将 for 循环包含在 try-catch 块中，错误仍然存​​在。这可能是运行时异常。该怎么做才能摆脱它？

# ruby-on-rails - 使用 cancan 为 Rails 中的用户设置角色

> ID：11644416
> 
> 赞同：1
> 
> 时间：2012-07-25T07:09:11.550
> 
> 标签：ruby-on-rails, cancan

我正在开发一个 Rails 应用程序，它需要两种不同类型的角色。一个是员工，另一个是管理员。

Cancan 文档说它假设应用程序中有一个 user 或 current_user 方法。

那么如何使用 cancan 在我的应用程序中为员工和经理设置角色？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:26:09.037

这样做

在应用程序助手中写这个

```
def is_employee?(user)
  emp_role = Role.find(:first, :conditions => ["name = ?", "Employee"])
  return user.roles.include?(emp_role)
end

def is_admin?(user)
  admin_role = Role.find(:first, :conditions => ["name = ?", "Admin"])
  return user.roles.include?(admin_role)
end 
```

并且看起来像这样

```
 class Ability
       include CanCan::Ability
       include ApplicationHelper

    def initialize(user)
      # Define abilities for the passed in user here. For example:
       #
      user ||= Employee.new # guest user (not logged in)
      if is_admin?(user)
       can :manage, :all
       # cannot :manage, IpAddress
     elsif is_employee?(user)

      #your code
     end 
```

对于定义角色，请参阅

```
 http://stackoverflow.com/questions/10222400/rails-adding-an-admin-role-using-devise-who-can-see-all-the-users/10222813#10222813 
```

它确实有效...

# html - css中的完整边框

> ID：11644417
> 
> 赞同：1
> 
> 时间：2012-07-25T07:09:13.643
> 
> 标签：html, css

我有这个 HTML

```
.container_1
{
    width: 80%;
    border: 5px solid black;
    overflow: hidden;
}

.container_2
{
    float: left;
    border: 5px solid red;
    width: 100%;                    
}

.container_1
{
    width: 80%;
    border: 5px solid black;
    overflow: hidden;
}

.container_2
{
    float: left;
    border: 5px solid red;
    width: 100%;                    
}

<div class="container_1">
    <div class="container_2">
    Content 1
    </div>
    <div class="container_2">
    Content 2
    </div>    
</div>​ 
```

小提琴[http://jsfiddle.net/uZVnB/3/](http://jsfiddle.net/uZVnB/3/)

问题是，正如您在小提琴中看到的那样， .container_1 的边界与 .container_2 的边界重叠，任何显示两个容器边界的完整形式也是如此

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:11:31.673

从 中删除`float`& 。像这样写：`width``.container_2`

```
.container_2
{
    border: 5px solid red;   
} 
```

检查这个[http://jsfiddle.net/uZVnB/4/](http://jsfiddle.net/uZVnB/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:16:33.520

您可以通过使用 CSS 属性来实现它`box-sizing:border-box;`

[**看演示**](http://jsfiddle.net/akhurshid/6Awkb/)

**CSS：**

```
.container_1 {
    width:80%;
    border:1em solid;
    overflow: hidden;
}

.container_2 {
    box-sizing:border-box;
    -moz-box-sizing:border-box; /* Firefox */
    -webkit-box-sizing:border-box; /* Safari */
    width:100%;
    border:1em solid red;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T10:28:33.893

考虑到 IE，这是我的解决方案。
边框将始终超过 100% 宽度。

这是解决方案[http://jsfiddle.net/uZVnB/41/](http://jsfiddle.net/uZVnB/41/)
希望这会有所帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:14:04.017

将宽度`.container_2`从 100% 更改为 98%，一切都会好起来的。当你将它的宽度设置为 100% 时，它自然会扩大到最大，并且边框会重叠。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-25T07:14:15.610

1.  移除`float: left`and `width: 100%`，因为块元素填充了其容器的整个宽度，所以它工作正常。
2.  如果你必须使用`float: left`style （虽然我不认为它是必需的，因为你有一个`width: 100%`使 float 不按照定义的行为），你可以使用`box-sizing: border-box`，但它只适用于现代浏览器，低版本的 IE 不支持这个性质。
3.  也可以用`position: absolute; left: 0; right: 0;`to绝对定位，但是也和`float: left`style冲突，IE6不支持。

# vb.net - 使用 c# 4.0 将数据表导出为 PDF

> ID：11644425
> 
> 赞同：0
> 
> 时间：2012-07-25T07:09:41.290
> 
> 标签：vb.net, c#-4.0, export-to-pdf

我想在不使用任何第三方 dll 的情况下将数据表的数据导出为 PDF。我正在使用 c# 开发 .net 4.0 框架

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T14:32:51.983

这将是艰难的。

我不确定您避免第三方 dll 的要求是否适用于 SSRS，但如果不是，那么您可以创建 SSRS 报告并将报告导出为 pdf。

# c# - 如何在整个应用程序中设置通用日期格式 - Silverlight/Windows Phone 7

> ID：11644428
> 
> 赞同：2
> 
> 时间：2012-07-25T07:09:47.463
> 
> 标签：c#, silverlight, windows-phone-7, datetime, silverlight-toolkit

我在我的 Windows Phone 7 应用程序的很多地方使用显示的日期时间。默认日期格式看起来很难看，我将其格式化为这样的格式。

```
<TextBlock Text="{Binding Date, StringFormat='MMM d, h:mm tt'}"/> 
```

上面代码的一个明显问题是我将不得不像任何地方一样进行复制粘贴。所以，如果日期格式在某个地方发生了变化，那么我将不得不在任何地方重复地做同样的事情。在 Silverlight/C# 中是否有更好的方法来处理这个问题？

更好的是，有没有办法为整个应用程序覆盖 Date.ToString() 以便我可以在那里进行格式化并且我可以简单地拥有这样的代码（我问这个是因为我使用 Ruby，而在 Ruby 中这是可能的）

```
<TextBlock Text="{Binding Date}"/> 
```

如果两者都不可能，请指导我解决此问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:15:50.493

ValueConverter可能是什么[？](http://msdn.microsoft.com/en-us/library/system.windows.data.ivalueconverter.aspx)

1.  [http://forums.silverlight.net/t/12617.aspx](http://forums.silverlight.net/t/12617.aspx)
2.  [http://timheuer.com/blog/archive/2008/07/30/format-data-in-silverlight-databinding-valueconverter.aspx](http://timheuer.com/blog/archive/2008/07/30/format-data-in-silverlight-databinding-valueconverter.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:52:24.127

正如 Anuraj 提到的，ValueConverter 可能是一个非常可行的解决方案。另一种方法是在您尝试绑定的对象中为您的日期字符串创建一个属性。IE：

```
public class Item
{
    public Date Date { get; set; }
    public string DateString 
    {
        get { return "Today is: " + Date.Month + "/ + Date.Day; }
    }
} 
```

两者都是可行的选择，但 ValueConverter 使您的代码更加冗余。另一种选择是制作一种实用程序类，它保留所有转换代码（即日期对象的字符串表示形式 - `public string DateToString( Date d )`）。

第三种选择是覆盖 Date.ToString() 方法。做到这一点的方法是简单地从`Date`（例如调用它`FDate`）派生一个类，然后简单地这样做：

```
public class FDate : Date
{
    public override string ToString()
    {
        StringBuilder sb = new StringBuilder();
        // create the string you'd like
        return sb.ToString();
    }
} 
```

快乐编码！

# android - 如何在android中创建像Iphone Edittext框一样的渐变

> ID：11644429
> 
> 赞同：3
> 
> 时间：2012-07-25T07:09:51.473
> 
> 标签：android, xml, android-layout

这是控件的示例`iPhone` `EditText`：

![在此处输入图像描述](../Images/d8cbd5e076c27fbd0c10b4df4c38b39d.png)

如何在 Android 中创建相同的控件？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-07-25T09:46:43.320

![三种EditText背景](../Images/e8bc0ed0226246025f19d91f6502198d.png)

基本上，我看到**了三种方法**来做你想做的事。

## 第一种方法：

第一个是，正如[Akki 所说](https://stackoverflow.com/questions/11644429/how-create-gradient-like-iphone-edittext-box-in-android/11645359#11645359)，制作一个 9-patch，完全复制您想要使用的渐变填充框（未指定的其他平台）。这让您的应用在两个平台上看起来尽可能接近完全相同。

这是由您上面的屏幕截图制作的 9 个补丁。（这是`res/drawable-*dpi/rounded_text_field.9.png`）

![九补丁背景](../Images/3261d02dea2b25c5b59b7157f3956a99.png)

## 第二种方法：

第二个是使用可扩展的原生绘图功能获得相同的效果。这看起来并不完全相同，但可以提供更平滑的结果。

这是一些生成带有渐变填充的圆角矩形图像的代码。（这是`res/drawable/gradientbg.xml`）

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
android:shape="rectangle"
>
<corners android:radius="8dp"/>
<stroke android:width="2dp"
    android:color="#444"/>
<gradient 
   android:startColor="#888"
   android:centerColor="#fff"
   android:endColor="#fff"
   android:type="linear"
   android:angle="270"
   />
</shape> 
```

其实，我撒了谎。在我的原始屏幕截图中，角落太大了，所以我将角落半径从 16dp 减小到 8dp。这是它现在的样子。改善很多，你不觉得吗？而且比调整 4 种不同密度的位图要容易得多。

![具有 8dp 半径角的渐变背景。](../Images/aaeeecfb785dc15202a58c0705f18e92.png)

## 第三种方法：

第三种方法是让平台成为它想要的样子，并在它自己的范式中看起来最好。这样做的好处是，在不同版本的操作系统上，您的应用程序将与系统的其余部分无缝融合，即使系统主题发生变化。

`EditText`这是在 Gingerbread 上运行完全相同的代码的默认设置。它在以 Holo 为主题的设备（例如我用来创建第一个屏幕截图的 Jellybean 驱动的平板电脑）上看起来很不合适，反之亦然。

![姜饼上的 EditText](../Images/e82c90c2ad47d535b1ec2f24c06e651b.png)

作为参考，这里是包含所有三个 EditText 的布局。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:layout_margin="32dp"
android:orientation="vertical"
 >
<EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginBottom="24dp"
    android:layout_marginTop="24dp"
    android:padding="12dp"
    android:gravity="center"
    android:background="@drawable/rounded_text_field"
    android:inputType="text"
    android:textColor="@android:color/black"
    android:text="9-patch background." >
    <requestFocus />
</EditText>
<EditText
    android:id="@+id/editText2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginBottom="24dp"
    android:layout_marginTop="24dp"
    android:padding="12dp"
    android:gravity="center"
    android:background="@drawable/gradientbg"
    android:inputType="text"
    android:textColor="@android:color/black"
    android:text="Gradient background." />
<EditText
    android:id="@+id/editText2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginBottom="24dp"
    android:layout_marginTop="24dp"
    android:padding="12dp"
    android:gravity="center"
    android:inputType="text"
    android:text="Default background." />
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:11:05.040

您所要做的就是创建一个小的九个补丁图像并将该图像设置为您的`EditText`. 这是图像的示例

![图片](../Images/4e97f0b7e7d9cadc942760492d1aa238.png)

这[是](https://stackoverflow.com/questions/10479001/nine-patch-image-not-working-on-my-device/10479866#10479866)九个补丁图像的工作原理

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:30:01.347

我不确定你是否可以这样做，但你可以搜索 iPhone 之类的背景。搜索“iPhone 模板” PS：我也有一个疯狂的客户想要在他的 Android 应用程序中设计类似 iPhone 的设计，我认为这样做是完全荒谬的。

# javascript - 从我的 Web 应用程序连接到本地 sql express 数据库

> ID：11644432
> 
> 赞同：0
> 
> 时间：2012-07-25T07:10:09.913
> 
> 标签：javascript, jquery, asp.net, asp.net-mvc, html

我需要添加一项功能以从我的网络应用程序连接到本地 sql express 数据库。这些是从 javascript 制作的任何选项吗，我可以用 html5 做到这一点，但每个浏览器都不支持它。

提前致谢 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:23:56.313

看看这个：

```
var connection = new ActiveXObject("ADODB.Connection") ;

var connectionstring="Data Source=<server>;Initial Catalog=<catalog>;User ID=<user>;Password=<password>;Provider=SQLOLEDB";

connection.Open(connectionstring);
var rs = new ActiveXObject("ADODB.Recordset");

rs.Open("SELECT * FROM table", connection);
rs.MoveFirst
while(!rs.eof)
{
   document.write(rs.fields(1));
   rs.movenext;
}

rs.close;
connection.close; 
```

# php - MongoDB - 将数据从一个集合传输到另一个集合

> ID：11644434
> 
> 赞同：2
> 
> 时间：2012-07-25T07:10:17.197
> 
> 标签：php, mysql, mongodb, mongoid, database

我需要知道如何在 MongoDB 中将数据或记录从一个集合传输到另一个集合，同时我们是否可以在将数据从一个集合传输到另一个集合时使用“find()”条件。

如果知道，请分享详细信息以供我们参考。

笔记：

如果使用 PHP 从大型集合（此集合中的行数）获取记录，我们将得到以下错误。

错误：“sort() 数据过多，没有索引错误”

这就是我们讨论并使用 mongodb 控制台将数据从一个集合传输到另一个集合的原因。

*   库马兰

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T08:09:34.357

首先，如果可能的话，我建议在您运行`find()`查询的任何内容上创建一个索引，您可以使用[`ensureIndex()`](http://learnmongo.com/posts/easily-move-documents-between-collections-or-databases/)...

至于如何从控制台传输文件：

```
> use source_database;
> var docs = db.source_collection.find({ something: 'foo' }); 
> use new_database;
> docs.forEach(function(doc) { db.new_collection.insert(doc) }); 
```

有关更多信息，请查看此[博客文章](http://learnmongo.com/posts/easily-move-documents-between-collections-or-databases/)，其中更详细地解释了该过程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T07:53:08.100

您可以直接在 Mongo 中执行此操作：

```
db.source.find(some_conditions).forEach(function(doc){db.dest.save(doc)}) 
```

# python - 从html中提取元的正则表达式

> ID：11644436
> 
> 赞同：0
> 
> 时间：2012-07-25T07:10:20.887
> 
> 标签：python, regex

如何制作以下正则表达式：

```
<meta [^\>]*content\s*=\s*(["\'])(.*?)\1 
```

如果名称标签是动态的？

名称标签是：

```
<meta *name="Generator"* ... 
```

解决方案：

```
re.compile(r""" <meta name=\"{0}\" [^\>]*content\s*=\s*(["\'])(.*?)\1""".format(meclue), re.I) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T20:44:25.133

不要尝试使用正则表达式解析 HTML。这是个坏主意。相反，请使用 HTML 解析器。lxml 有一个不错的：

```
import lxml.html

html_string = """<html>
<head>
  <meta name="firstname" />
  <meta name="secondname" />
  <meta someotherattribute="nonsense" />
</head>
<body>
  <p>Something in the body</p>
</body>
</html>"""

html_element = lxml.html.fromstring(html_string)
# get all the name attributes from all meta elements
meta_name_list = html_element.xpath("//meta/@name")
# print them out
for name in meta_name_list:
    print name 
```

输出：

```
firstname
secondname 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:18:59.780

如果您希望正则表达式将元标记与 name 属性匹配，应该这样做：

```
<meta name="[^"]*" /> 
```

我从你的正则表达式中怀疑你不想完全这样做。如果这不是您需要的，请提供一些您希望正则表达式匹配的示例字符串

# facebook - 我们如何邀请粉丝专页上的朋友点赞页面？

> ID：11644437
> 
> 赞同：1
> 
> 时间：2012-07-25T07:10:21.643
> 
> 标签：facebook, facebook-graph-api

我正在创建一个粉丝专页并附加在我的 Facebook 应用程序中。我想邀请我的朋友从我的 facebook 页面来喜欢页面并获得一些优惠，所以我使用代码来显示状态。

```
 <?php
     require 'facebook.php';
    $app_id = "xxxxxxxxxxxx";
    $app_secret = "xxxxxxxxxxxxxxxxxxxxxx";
    $facebook = new Facebook(array(
            'appId' => $app_id,
            'secret' => $app_secret,
            'cookie' => true
    )); 

    $user = $facebook->getUser();

    $signed_request = $facebook->getSignedRequest();
    $page_id = $signed_request["page"]["id"];
    $page_admin = $signed_request["page"]["admin"];
    $like_status = $signed_request["page"]["liked"];
    $country = $signed_request["user"]["country"];
    $locale = $signed_request["user"]["locale"];

    ?> 
```

这里使用 facebook api 来获取 pageid 或 user id 和其他信息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T09:39:13.527

没有 API 允许您邀请用户喜欢页面，这仅在 Facebook 的前端可用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-20T21:21:00.837

我有同样的问题，但我打算使用（请求）

[https://developers.facebook.com/docs/reference/dialogs/requests/](https://developers.facebook.com/docs/reference/dialogs/requests/)

您可以向他们的朋友发送请求，要求他们喜欢您的页面！我想这更有效，你决定应该在请求中写什么！

# c++ - x64 上的快速反平方根

> ID：11644441
> 
> 赞同：15
> 
> 时间：2012-07-25T07:10:42.363
> 
> 标签：c++, algorithm

[我在http://en.wikipedia.org/wiki/Fast_inverse_square_root](http://en.wikipedia.org/wiki/Fast_inverse_square_root)上找到了网络快速逆平方根。它在 x64 上是否正常工作？有没有人使用并认真测试过？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-25T07:17:44.747

最初 Fast Inverse Square Root 是为 32 位浮点数编写的，因此只要您对 IEEE-754 浮点表示进行操作，x64 架构就不会影响结果。

请注意，对于“双”精度浮点（64 位），您应该使用另一个常量：

> ... 64 位 IEEE754 大小类型 double 的“幻数”... 显示为 0x5fe6eb50c7b537a9

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2017-01-13T14:50:05.213

这是双精度浮点数的实现：

```
#include <cstdint>

double invsqrtQuake( double number )
  {
      double y = number;
      double x2 = y * 0.5;
      std::int64_t i = *(std::int64_t *) &y;
      // The magic number is for doubles is from https://cs.uwaterloo.ca/~m32rober/rsqrt.pdf
      i = 0x5fe6eb50c7b537a9 - (i >> 1);
      y = *(double *) &i;
      y = y * (1.5 - (x2 * y * y));   // 1st iteration
      //      y  = y * ( 1.5 - ( x2 * y * y ) );   // 2nd iteration, this can be removed
      return y;
  } 
```

我做了一些测试，它似乎工作正常

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-12-09T11:47:02.930

是的，如果使用正确的幻数和相应的整数类型，它就可以工作。除了上面的答案之外，这里还有一个适用于`double`和的 C++11 实现`float`。条件应该在编译时优化。

```
template <typename T, char iterations = 2> inline T inv_sqrt(T x) {
    static_assert(std::is_floating_point<T>::value, "T must be floating point");
    static_assert(iterations == 1 or iterations == 2, "itarations must equal 1 or 2");
    typedef typename std::conditional<sizeof(T) == 8, std::int64_t, std::int32_t>::type Tint;
    T y = x;
    T x2 = y * 0.5;
    Tint i = *(Tint *)&y;
    i = (sizeof(T) == 8 ? 0x5fe6eb50c7b537a9 : 0x5f3759df) - (i >> 1);
    y = *(T *)&i;
    y = y * (1.5 - (x2 * y * y));
    if (iterations == 2)
        y = y * (1.5 - (x2 * y * y));
    return y;
} 
```

至于测试，我在我的项目中使用以下[doctest ：](https://github.com/onqtam/doctest)

```
#ifdef DOCTEST_LIBRARY_INCLUDED
    TEST_CASE_TEMPLATE("inv_sqrt", T, double, float) {
        std::vector<T> vals = {0.23, 3.3, 10.2, 100.45, 512.06};
        for (auto x : vals)
            CHECK(inv_sqrt<T>(x) == doctest::Approx(1.0 / std::sqrt(x)));
    }
#endif 
```

# eclipse - OpenGL ES 编译错误

> ID：11644443
> 
> 赞同：0
> 
> 时间：2012-07-25T07:10:48.477
> 
> 标签：eclipse, opengl-es, android-ndk

鉴于存在无效参数等，尝试在 Eclipse 中使用 android NDK 错误编写这些函数时：

```
m_Display = eglGetDisplay(EGL_DEFAULT_DISPLAY);
m_Surface = eglCreateWindowSurface(m_Display, lConfig,
        m_Application->window, NULL); 
```

错误：

1.  `Invalid arguments ' Candidates are: void * eglGetDisplay(?)`
2.  `Type 'EGL_DEFAULT_DISPLAY' could not be resolved`
3.  `Invalid arguments ' Candidates are: void * eglCreateWindowSurface(void *, void *, ?, const int *)`

将鼠标悬停在这些函数上时，eclipse 给出的工具提示将问号显示为输入变量。我认为eclipse没有找到它应该包含的一些代码，但我不知道如何修复它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-28T09:15:17.783

要解决此问题，请转到您的项目属性并转到“C/C++ General->Paths and Symbols”页面，在**“Symbols”**选项卡下单击 GNU C，然后单击“Add”按钮并放置

```
__ANDROID__ 
```

在**NAME**字段中（值留空），然后单击 OK。你可以对 GNU C++ 做同样的事情。

# c# - LINQ to SQL 选择字符串拆分中包含任何单词的所有记录

> ID：11644444
> 
> 赞同：0
> 
> 时间：2012-07-25T07:11:13.333
> 
> 标签：c#, string, linq

string1：怎么样
string2：你好吗？

我想要做的是通过对照string1检查string2并选择任何具有“How”或“Are”或“you”的记录来选择数据库中的所有记录。

```
 pager1.ItemCount = appliedQuery.Where(q => q.string1.Contains(string2)).count(); 
```

请注意：String1 只是一个单词，我只想获取 db 中的所有记录，以及 string2 中出现的任何单词。

我知道 string2 需要拆分，但是拆分后我如何在 linq 查询语句中使用它来获取记录？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:26:10.403

拆分`string2`成一个字符串数组：

```
string[] words = string2.Split(' '); 
```

然后检查是否`string1`在数组中的任何项目中：

```
pager1.ItemCount = appliedQuery.Where(q => words.Contains(q.string1)).Count(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:19:44.563

一种可能的解决方案如下：

```
foreach(string s in string2.Split(' '))
{
    pager1.ItemCount += appliedQuery.Where(q => q.string1.Contains(s)).count(); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-26T04:27:01.337

看看我是如何构建我的 linq 查询的。我希望这有帮助。只需尝试将代码复制并粘贴到控制台应用程序中即可查看结果。

```
class Program
{
    static void Main(string[] args)
    {
        // List of strings that you may consider it from your 
        /// database which is String1
        List<string> lstStrings = new List<string>();
        lstStrings.Add("twenty one");
        lstStrings.Add("twenty two");
        lstStrings.Add("twenty three");
        lstStrings.Add("twenty four");

        // The string to compare to which is your String2
        string strString = "one two four";

        // Splitting the strings to be compared
        string[] strArray = strString.Split(' '); 

        // The linq that helps you query the data exactly as what you wanted
        var result = (from string A in lstStrings
                               from string B in strArray
                               where A.Contains(B)
                               select A).Distinct();

        // Count result
        Console.WriteLine(result.Count());

        // Individual values
        foreach (string str in result)
        {
            Console.WriteLine(str);
        }

        Console.ReadLine();
    } 
} 
```

# xcode - Xcode 通过 PHP 发送邮件。发送失败不会产生错误

> ID：11644445
> 
> 赞同：1
> 
> 时间：2012-07-25T07:11:14.410
> 
> 标签：xcode, forms, email, quickdialog

谁能帮我解决这个相当大的问题。我有一个使用 QuickDialog 设计的预订表格，它使用我的 Web 服务器上的 mail() 函数向 php 文件发送请求以发送电子邮件。这一切都很好，直到出现错误。如果我从我的网站上删除 php 文件或禁用互联网，当按下发送按钮时，它说预订已发送，但显然没有发送。我不记得我在哪里得到这个代码，也许它错了？

PS，我使用故事板。

```
QButtonElement *button = [[QButtonElement alloc] initWithTitle:@"Submit Booking"];
button.onSelected = ^{

    NSMutableDictionary *dict = [[NSMutableDictionary alloc] init];
    [root fetchValueIntoObject:dict];

    NSString *msg = @"Values:";
    for (NSString *aKey in dict){
        msg = [msg stringByAppendingFormat:@"\n- %@: %@", aKey, [dict valueForKey:aKey]];
    }

    NSLog(@"%s", __FUNCTION__);
    //Allocate NSURL object
    NSURL *nsURL = [[NSURL alloc] initWithString:kTextUrl];
    // Allocate NSMutableURLRequest
    NSMutableURLRequest *nsMutableURLRequest = [[NSMutableURLRequest alloc] initWithURL:nsURL];
    // Set HTTP method to POST
    [nsMutableURLRequest setHTTPMethod:@"POST"];

    // Set up the parameters to send.
    NSString *paramDataString = [NSString stringWithFormat:@"fname=%@&lname=%@&email=%@&mnumber=%@&treatment1=%@&datetime=%@&altdatetime=%@&therapist=%@&contactMethod=%@", fname.textValue, lname.textValue, email.textValue, mnumber.textValue, treatment1.selectedItems, datetime.textValue, altdatetime.textValue, therapist.textValue, contactMethod.selectedItem];
    NSLog(@"%s - paramDataString: %@", __FUNCTION__, paramDataString);
    // Encode the parameters to default for NSMutableURLRequest.
    NSData *paramData = [paramDataString dataUsingEncoding:NSUTF8StringEncoding];
    // Set the NSMutableURLRequest body data.
    [nsMutableURLRequest setHTTPBody: paramData];   
    // Create NSURLConnection and start the request.
    NSURLConnection *nsUrlConnection=[[NSURLConnection alloc]
                                      initWithRequest:nsMutableURLRequest 
                                      delegate:self];
    // Successful connection.
    if (nsUrlConnection) {
    [self performSegueWithIdentifier: @"segueSuccess" sender: self];

    }
    // Unsuccessful connection.
    else {

    [self performSegueWithIdentifier: @"segueFail" sender: self];
    }

}; 
```

nsURL 在头文件中定义。

# c# - Outlook 2010 插件未显示

> ID：11644447
> 
> 赞同：0
> 
> 时间：2012-07-25T07:11:22.413
> 
> 标签：c#, visual-studio, add-in, hidden, outlook-2010

我有一个有趣的问题：在最终设法让 Outlook 在安装后加载插件（插件是新项目检查器的表单扩展）后，Outlook 不显示表单。

在我开发它的计算机上，运行 Visual Studio，一切正常，但是当尝试在另一台计算机上安装它时，插件已安装，并且在启动屏幕期间，Outlook 显示插件正在加载，并且在选项-> 插件菜单，插件显示为（未禁用）COM 插件。但是，在创建新电子邮件或其他项目时，不显示应该位于底部的表单。怎么会，我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T07:32:57.177

您的设置过程步骤有些问题。即使，我也面临同样的问题。如果未选择 dll，则会导致此问题。尝试按照此链接 [http://blogs.msdn.com/b/mcsuksoldev/archive/2010/10/01/building-and-deploying-an-outlook-2010-add-in-part-2中给出的步骤进行操作-of-2.aspx](http://blogs.msdn.com/b/mcsuksoldev/archive/2010/10/01/building-and-deploying-an-outlook-2010-add-in-part-2-of-2.aspx)

在创建注册表时创建一个适当的文件夹，例如：Microsoft-->office-->Outlook-->AddIns-->your Addin Name。

如果你甚至错过了一个文件夹，插件也不会被填充。

试试这些，让我知道。

# android - Facebook 发布状态获取会话从一个班级到另一个班级

> ID：11644448
> 
> 赞同：0
> 
> 时间：2012-07-25T07:11:21.923
> 
> 标签：android, facebook

我想为我的应用程序添加一个帖子到 facebook 按钮来分享一些东西，我认为我使用我的代码的方式有问题。首先，我有我的登录类，其中它处理 facebook 的所有登录部分，然后存储我需要的所有数据（用户名、电子邮件、fb_id），我可以将所有值从登录类传递到另一个然后我完成类原因我不希望用户在单击后退按钮后返回登录页面。在我的详细信息活动中，有一个按钮，当我单击它时，它需要将我设置的消息发布到 Facebook，但问题是当我使用 mFacebook.isSessionValid() 检查登录对用户是否有效时，它什么也不返回所以我认为我的 Facebook 课程上的所有信息都已刷新（不过我不确定那部分）。那好吧

这是我使用的邮政编码：

```
private void postToFacebook() { 
        mProgress.setMessage("Posting ...");
        mProgress.show();

        AsyncFacebookRunner mAsyncFbRunner = new AsyncFacebookRunner(mFacebook);

        Bundle params = new Bundle();
        params.putString("message", "My Message");
        params.putString("name", "My app name");
        params.putString("caption", "caption here");
        params.putString("link", "URL PAGE HERE");
        params.putString("description", "DESCRIPTIONS HERE");
        params.putString("picture", "IMAGE URL");
        mAsyncFbRunner.request("me/feed", params, "POST", new WallPostListener());

    }

    private final class WallPostListener extends BaseRequestListener {
        public void onComplete(final String response) {
            mRunOnUi.post(new Runnable() {
                public void run() {
                    mProgress.cancel();

                    Toast.makeText(ScoreScreen.this, "Posted to Facebook", Toast.LENGTH_SHORT).show();
                }
            });
        }
    } 
```

这是我在登录页面（主）之后显示下一页的代码：

```
SessionStore.saveName(username, Main.this);
            //IF ONLY SUCCESS IN FETCHING RECORDS
            Intent i = new Intent(Main.this, SplashScreen.class);
            i.putExtra("fname", fname);
            i.putExtra("lname", lname);
            i.putExtra("eadd", eadd);
            i.putExtra("fbid", fbid);
            i.putExtra("gender", gender);
            startActivity(i);
            Toast.makeText(Main.this, "Connected to Facebook", Toast.LENGTH_SHORT).show();
            Main.this.finish(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T02:10:10.023

通过使用 SessionStore.restore 解决了该问题。我不太确定，但我认为课程会在我完成主要活动并转到下一堂课后结束。稍后将审查这些问题。

# mysql - DECLARE CONTINUE HANDLER FOR NOT FOUND SET 变量不起作用

> ID：11644449
> 
> 赞同：3
> 
> 时间：2012-07-25T07:11:23.117
> 
> 标签：mysql, sql, database, stored-procedures

嗨，我在 mysql 中使用存储过程

当我尝试

```
 DECLARE CONTINUE HANDLER FOR NOT FOUND SET no_more_prefrences=1 ; 
```

并尝试编译，它在 phpmyadmin 中给出错误。

> # 1193 - 未知的系统变量 'no_more_prefrences'

我在另一个存储过程中使用了具有不同名称的同一行。它工作正常。

这是我的存储过程。

```
DELIMITER $$
 DROP PROCEDURE IF EXISTS get_all_children_of_lob$$

CREATE PROCEDURE get_all_children_of_lob(
   IN parent_id INT
)

BEGIN

     DECLARE lob_preferenceid INT;
     DECLARE lob_parentid INT;
     DECLARE lob_value VARCHAR(100);
     DECLARE lob_isavailable INT;
     DECLARE lob_ischildavailable INT;
     DECLARE lob_isuseradded INT;

     DECLARE cur CURSOR for select PreferenceID,ParentID,Value,IsAvailable,IsChildAvailable,IsUserAdded from table WHERE ParentID=parent_id ;
     DECLARE CONTINUE HANDLER FOR NOT FOUND SET no_more_prefrences=1 ;

     CREATE TEMPORARY TABLE IF NOT EXISTS temp_lob(

          ID int(11) NOT NULL AUTO_INCREMENT,
          preferenceIDTmp INT(11),
          parentIDTmp INT(11),
          valueTmp varchar(255),
          isAvailableTmp INT(11),
          isChildAvailableTmp INT(11),
          isUserAddedTmp INT(11),
          PRIMARY KEY (ID)     
     );

          SET no_more_prefrences=0;
          OPEN cur;

             dept_loop:WHILE(no_more_prefrences=0) DO

                     FETCH cur INTO lob_preferenceid,lob_parentid,lob_value,lob_isavailable,lob_ischildavailable,lob_isuseradded;
                     IF no_more_prefrences=1 THEN
                        LEAVE dept_loop;
                     END IF;

                                     INSERT  INTO temp_lob(preferenceIDTmp,parentIDTmp,valueTmp,isAvailableTmp,isChildAvailableTmp,isUserAddedTmp)
                                        VALUES  (lob_preferenceid,lob_parentid,lob_value,lob_isavailable,lob_ischildavailable,lob_isuseradded);

                                     CALL get_all_children_of_lob(lob_preferenceid);

             END WHILE dept_loop;

          CLOSE cur;    

END$$
DELIMITER ; 
```

我不知道为什么会这样，请帮忙:(

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-25T07:17:23.130

似乎缺少局部变量声明。

添加：

```
DECLARE no_more_prefrences INT; 
```

# php - 通过与 MySQL 数据进行比较来填充 PHP 数组

> ID：11644454
> 
> 赞同：0
> 
> 时间：2012-07-25T07:11:51.910
> 
> 标签：php, mysql, arrays

伙计们，这是mysql表的输出。它显示`month(Value)`获取`count(Total)`特定疾病。现在我有一个`array()`12 个月的 php，我想与该数组进行比较，并发现如果对于特定月份，它们没有从表中返回的数据，则`0`在其他新`array()`的 12 个月中添加该月的数据，或者从表中找到的值。

```
Value | dname      | Total            
5     | Root Canal | 1         
8     | Root Canal | 1 
```

我在 php 中的代码

```
foreach($ResultArray2[1] as $key => $val){       
if(empty($row_d['Value'])){
$ResultArray2[$i][$key] = '0';
else
$ResultArray2[$i][$row_d['Value']] = $row_d['Total']; 
```

这就是我得到的

> ```
>  Array (
> [1] => Array
>     (
>         [1] => 0
>         [2] => 0
>         [3] => 0
>         [4] => 0
>         [5] => 0
>         [6] => 0
>         [7] => 0
>         [8] => 0
>         [9] => 0
>         [10] => 0
>         [11] => 0
>         [12] => 0
>     )
> 
> [2] => Array
>     (
>         [5] => 1
>         [8] => 1
>     ) 
> ```
> 
> )

这就是我需要的数组（

> ```
> [1] => Array
>     (
>         [1] => 0
>         [2] => 0
>         [3] => 0
>         [4] => 0
>         [5] => 0
>         [6] => 0
>         [7] => 0
>         [8] => 0
>         [9] => 0
>         [10] => 0
>         [11] => 0
>         [12] => 0
>     )
> 
> [2] => Array
>     (
> 
>       [1] => 0
>         [2] => 0
>         [3] => 0
>         [4] => 0
>         [5] => 1
>         [6] => 0
>         [7] => 0
>         [8] => 1
>         [9] => 0
>         [10] => 0
>         [11] => 0
>         [12] => 0
>     ) 
> ```
> 
> )

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:37:34.460

如果我理解你的问题是正确的

```
$finalResult = array();
while($row = mysql_fetch_object($querResult)) {
   if(!is_array($finalResult[$row->dname]) {
      $finalResult[$row->dname] = array_pad(array(), 13, 0);
   } 
   $finalResult[$row->dname][$row->Value] = $row->Total;
} 
```

基本上，代码检查是否已经存在针对特定疾病的数组。如果不是，它会创建一个大小为 13 [忽略 0] 的数组，并用值 0 填充并随时更新该值。这里疾病成为外阵的关键。如果您愿意，可以使用疾病名称到整数 ID 的映射。在这种情况下

```
$finalResult[$map[$row->dname]][$row->value] = $row->Total; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:26:17.020

```
$counts = array_fill(1,12,0);
while ($row = mysql_fetch_assoc($res)){
  $counts[$row['Value']] = $row['Total'];
} 
```

*编辑：*由于您似乎想要获得所有疾病，因此将整个事情作为一个查询来完成可能会更容易，如下所示：

```
SELECT name,
SUM(IF(Value=1,1,0) as month1,
SUM(IF(Value=2,1,0) as month2,
SUM(IF(Value=3,1,0) as month3,
...
FROM tablename
GROUP BY name 
```

# ruby-on-rails - 是否有将 IP 地址转换为时区名称的服务？

> ID：11644455
> 
> 赞同：1
> 
> 时间：2012-07-25T07:11:55.390
> 
> 标签：ruby-on-rails, timezone, ip-address, activesupport

我正在寻找一种将客户端的 IP 地址转换为时区名称以在 Rails Web 应用程序中使用的服务。我找到了其中的几个，比如[ipinfodb](http://www.ipinfodb.com/ip_location_api_json.php)，但它们只提供时区**“时间偏移”**（例如 +0700）。但我需要的是实际的**时区名称**，或者至少是它的**缩写**（例如印度支那时间或 ICT）。是否有任何 API，或者可能是我可以使用的数据库？

我需要匹配两个对象的时区。这些时区可以在世界任何地方。其中之一是**ActiveSupport 时区名称**，但另一个只是**时间偏移**。而且时间偏移没有我需要的**DST**信息，所以我无法正确匹配它们。

# c# - 除实体外是否可以保存更改？

> ID：11644459
> 
> 赞同：0
> 
> 时间：2012-07-25T07:12:08.743
> 
> 标签：c#, entity-framework, entity-framework-4, data-access-layer

## 问题

启动要插入的新实体（称为“ *TargetEntity* ”），我正在使用另一个实体属性（称为“ *TemplateEntity* ”）。

*TargetEntity*的某些属性正在获取*TemplateEntity*属性及其导航属性的值。

在某些特殊情况下，我必须对 TemplateEntity 道具和导航道具值进行一些更改。例如假设这是要填充的 TargetEntity：

```
TargetEntity
- prop1
- prop2
- prop3 
```

这是具有值的 TemplateEntity：

```
TemplateEntity
- prop1
- NavProp1.prop2
- NavProp2.prop3 
```

我想对 TemplateEntity 应用一些更改，如下所示：

```
TemplateEntity to be applied
- prop1 * index1
- NavProp1.prop2 * 0
- NavProp2.prop3 *index2 
```

## 限制和条件

1.  我正在与实体合作，没有 POCO，没有 DTO。有许多嵌套导航属性，制作它的平面对象或克隆离线嵌套对象非常复杂。

2.  TemplateEntity 正在许多方法中使用。每个方法都有自己的上下文并保存更改（即日志等）。

## 问题

如何保存更改，并避免像 TemplateEntity 这样的实体及其在 DB 中的导航更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:21:00.900

无法从工作单元中排除/跳过实体更新，除非您：

*   为该实体重新配置图中的状态 - 这意味着您必须遍历实体图并将所有内容设置为未更改
*   Not include the entity in unit of work in the first place - the entity graph must not be attached to the context - this usually leads to cloning of object graph which is only possible through serialization and deserialization (your entities already support this through `DataContractSerializer`).

# json - Curl Cmd Line：看似等效的 json POSTS 给出不同的结果

> ID：11644463
> 
> 赞同：1
> 
> 时间：2012-07-25T07:12:18.803
> 
> 标签：json, curl

我正在使用 curl 将登录信息发布到 json API。我很困惑，因为以下两个我认为是等效的调用给出了不同的结果：

```
curl -v -H "Accept: application/json" -H "Content-Type: application/json" -X POST -d '{"username":"test@test.com","password":"secret"}' http://api.mysite.com/Services/v1/login.svc/login 
```

此调用导致 400 错误请求。但是，如果我将登录 json 放入名为“login.json”的文件中，并将调用更改为：

```
curl -v -H "Accept: application/json" -H "Content-Type: application/json" -X POST -d @login.json http://api.mysite.com/Services/v1/login.svc/login 
```

然后调用工作正常，给出 200 个结果，并返回预期的 json 响应。

为什么第一个电话不起作用？

谢谢！

## 生锈的更新

我尝试了以下方法，包括 JSON 周围的单引号和不带单引号：

```
curl -v -H "Accept: application/json" -H "Content-Type: application/json" --data-urlencode '{username:test@example.com,password:11111111}' "https://api.example.com/login" 
```

但是数据不会发送到服务器。从 curl 的输出：

```
Warning: Couldn't read data from file
Warning: "{username:test@example.com,password:11111111}", this makes an empty
Warning: POST. 
```

虽然请求确实得到了 200 OK 响应，但当我使用 file 方法时，登录仍然失败，大概是因为没有发送 JSON。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T11:59:26.757

不要使用-d，尝试使用--data-urlencode。

因为您可以将文件保存为 UTF8，所以它会自动对您的数据进行 urlencode。

顺便说一句，不需要使用 -X POST，如果不使用 -Gis，则默认为 POST。

希望有帮助。

# javascript - 带有验证多个复选框的javascript

> ID：11644464
> 
> 赞同：0
> 
> 时间：2012-07-25T07:12:19.433
> 
> 标签：javascript, validation, checkbox

复选框验证后如何停止请求过程？如果复选框从未选择过，我想停止请求。即使成功验证未选中复选框，以下脚本也不会停止该过程。

```
function addNewItem(id) {
var i, chks = document.getElementsByName('itemCheckbox');
for (i = 0; i < chks.length; i++){
    if (chks[i].checked){
        return true;
    }else{
        alert('No item selected');
        return false;
    }
}else{

if (window.XMLHttpRequest) {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
} else {
    // code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState==4 && xmlhttp.status==200) {
        document.getElementById("itemTable").innerHTML=xmlhttp.responseText;
        initPlayWidget();
    }
}

var itemCheckbox = document.forgetMeNotForm.itemCheckbox;
var selectedSong = "";

if (typeof itemCheckbox.length === 'undefined') {
    if (itemCheckbox.checked == true) {
        selectedSong = itemCheckbox.value + ",";
    }
} else {
    for (var i=0; i < itemCheckbox.length; i++) {
        if (itemCheckbox[i].checked) {
            selectedItm = selectedItm + itemCheckbox[i].value + ",";
        }
    }
} 

var type = document.getElementById("typeDropdown").value;
var monthValue = document.getElementById("monthDropdown").value;
var dayValue = document.getElementById("dayDropdown").value;
var startTime = document.getElementById("hrDropdown1").value + document.getElementById("minDropdown1").value;
var endTime = document.getElementById("hrDropdown2").value + document.getElementById("minDropdown2").value;
var itmId = document.getElementById("itmNumber").value;

xmlhttp.open("POST","/sites/" + domainName + "/themes/web/common/myLib.php" ,true);
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xmlhttp.send("action=addItemRule&id="+id+"&selectedItm=" + selectedItm + "&type=" + type + "&monthValue=" + monthValue
    + "&dayValue=" + dayValue + "&startTime=" + startTime + "&endTime=" + endTime + "&itmId=" + itmId);

}
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:18:19.470

您可以添加新功能

```
function isChecked(){
  var i, chks = document.getElementsByName('itemCheckbox');
  for (i = 0; i < chks.length; i++){
    if (chks[i].checked){
        return true;
    }else{
        alert('No item selected');
        return false;
    }
  }
} 
```

并在主函数上添加新行

```
function addNewItem(id) {
  if (!isChecked())
    return;
  ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:25:41.510

您的代码无法编译：

```
function addNewItem(id) {
var i, chks = document.getElementsByName('itemCheckbox');
for (i = 0; i < chks.length; i++){
    if (chks[i].checked){
        return true;
    }else{
        alert('No item selected');
        return false;
    }
}else{
^
| 
```

尝试删除这个**大括号**

编辑：你也不能有两个通用的 else 到一个 if，所以你需要稍微改变一下代码，也许把第二个 else 的内容放在 if 子句的内容中，像这样：

```
function addNewItem(id) {
    var i, chks = document.getElementsByName('itemCheckbox');
    for ( i = 0; i < chks.length; i++) {
        if (chks[i].checked) {
            if (window.XMLHttpRequest) {
                // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    document.getElementById("itemTable").innerHTML = xmlhttp.responseText;
                    initPlayWidget();
                }
            }
            var itemCheckbox = document.forgetMeNotForm.itemCheckbox;
            var selectedSong = "";

            if ( typeof itemCheckbox.length === 'undefined') {
                if (itemCheckbox.checked == true) {
                    selectedSong = itemCheckbox.value + ",";
                }
            } else {
                for (var i = 0; i < itemCheckbox.length; i++) {
                    if (itemCheckbox[i].checked) {
                        selectedItm = selectedItm + itemCheckbox[i].value + ",";
                    }
                }
            }

            var type = document.getElementById("typeDropdown").value;
            var monthValue = document.getElementById("monthDropdown").value;
            var dayValue = document.getElementById("dayDropdown").value;
            var startTime = document.getElementById("hrDropdown1").value + document.getElementById("minDropdown1").value;
            var endTime = document.getElementById("hrDropdown2").value + document.getElementById("minDropdown2").value;
            var itmId = document.getElementById("itmNumber").value;

            xmlhttp.open("POST", "/sites/" + domainName + "/themes/web/common/myLib.php", true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.send("action=addItemRule&id=" + id + "&selectedItm=" + selectedItm + "&type=" + type + "&monthValue=" + monthValue + "&dayValue=" + dayValue + "&startTime=" + startTime + "&endTime=" + endTime + "&itmId=" + itmId);
        } else {
            alert('No item selected');
            return false;
        } 
    }
} 
```

Edit2：此外，如果您想在发送请求之前检查所有复选框（并且只发送一次请求，您可以使用另一个变量：

```
function addNewItem(id) {
    var i, chks = document.getElementsByName('itemCheckbox'), valid = true;
    for ( i = 0; i < chks.length; i++) {
        if (!chks[i].checked) {
            valid = false;
        } 
    }

    if(valid) {
        // ...
        // do the request stuff here
        // ...
    } else {
        alert('No item selected');
        return false;
    } 
} 
```

# apache - 删除 etc/apache/sites-available/default

> ID：11644465
> 
> 赞同：0
> 
> 时间：2012-07-25T07:12:35.713
> 
> 标签：apache, dns

我刚刚删除了包含大约 140 个子域的 etc/apache/sites-available/default（apache 配置文件）。有什么方法可以取消删除这个文件，因为所有站点都可以正常工作，直到 apache 重新启动，所以配置文件必须保存在缓存中的某个位置。

# objective-c - 从后台线程保存数据时CoreData崩溃

> ID：11644470
> 
> 赞同：0
> 
> 时间：2012-07-25T07:12:58.870
> 
> 标签：objective-c, ios, core-data, ios4, core-data-migration

我有一个在后台线程中运行的 http 请求。数据一到，我就尝试将其保存到 coredata 中，但它在许多点上随机崩溃，并出现 EXC_BAD_ACCESS 错误。有人能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:35:39.363

您正在正确释放已发布的数组。尝试启用`NSZombie`或检查您是否在未使用`alloc`关键字 创建的数组上调用 release

# java - 将 Java 服务转换为 .NET 4.0 服务 (WCF)

> ID：11644482
> 
> 赞同：4
> 
> 时间：2012-07-25T07:14:06.383
> 
> 标签：java, wcf, web-services, c#-4.0, sharpen-tool

我们必须将大约 100 多个用 Java 编写的服务转换为 .NET (C#) 4.0。我们正试图估计这项工作的努力。我试图找出是否有任何工具可用于这种转换/迁移，以及在实际项目中使用这些工具的任何经验。

我们需要一些指针来评估完成这项工作的不同可能方式。

1.  用于将 Java 服务转换为 WCF 服务的任何转换器工具或检查列表
2.  通过使用这些工具实现自动化，有多少代码被转换了？可以节省任何统计数据，例如 X % 的努力等。
3.  生成的代码质量如何？我们正在寻找带有 WCF 的 .NET/C# 4.0
4.  该工具用户友好吗？多少学习曲线？
5.  如果有任何手动进行转换的经验，请分享用于转换的任何指南以及进行工作量估算的任何提示。

我用谷歌搜索了一份可用的转换工具列表。请分享使用以下任何 Java 到 .NET/C# 转换的任何经验

**Java Language Conversion Assistant 2.0** - Java Language Conversion Assistant 是一种自动将现有 Java 语言代码转换为 Visual C# 的工具

**Janett - Java 到 .Net 翻译器**- Janett 将 Java 语法、构造和对 Java 库的调用翻译成 C# / .Net 对应物。

**CSharpJavaMerger Framework** - 免费和开源的 C# 和 Java 转换工具

**Java 2 CSharp Translator for Eclipse** - 该工具可以将 Eclipse java 项目自动翻译成 Visual Studio 项目。生成的代码无需任何用户修改即可直接编译和执行。

**Tangible Softwaresolutions** - 不是免费的，但看起来很有用。

**Sharpen - Sharpen 指南**- 将 Java 转换为 C# 的绝佳工具（[http://www.pauldb.me/post/14916717048/a-guide-to-sharpen-a-great-tool-for-converting-java](http://www.pauldb.me/post/14916717048/a-guide-to-sharpen-a-great-tool-for-converting-java)）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T19:27:48.600

在上面综合总结中列出的 Java 到 C# 转换器中，有几个项目已经好几年没有得到积极维护了。

*   [Java 语言转换助手](http://msdn.microsoft.com/en-us/library/1kwtxa08%28v=vs.80%29.aspx)随 Visual Studio 2003 和 2005 提供，此后已停止使用
*   我能找到的最新版本的[珍妮特](http://mayaf.org/janett/)是 2007 年的。
*   [CSharpJavaMerger 框架](http://csharpjavamerger.org/)是一个更新的项目，但支持它的文档有限。
*   [Java 2 CSharp Translator for Eclipse](http://sourceforge.net/apps/mediawiki/j2cstranslator/index.php?title=Main_Page)直到 2011 年才被积极开发。但支持它的文档有限，并且需要与 Eclipse 集成。

因此，两个最有前途的项目可能是 Tangible Software Solutions 的商业[Java to C# Converter](http://tangiblesoftwaresolutions.com/Product_Details/Java_to_CSharp_Converter.html)和开源替代品[Sharpen](https://github.com/slluis/sharpen)（最初由[Versant](http://www.versant.com/index.aspx)开发）。这两种产品在将 Java 代码转换为 C# 代码方面都做得相当好，但无论哪种情况，您都应该预期必须对转换后的代码进行大量的手动审查和更正。

*Sharpen*需要插入到 Eclipse 中，并且还需要一些手动预配置才能使转换运行。[此处](http://www.pauldb.me/post/14916717048/a-guide-to-sharpen-a-great-tool-for-converting-java)更详细地描述了配置。开始使用 Sharpen 的最简单方法是从[NGit Github 存储库](https://github.com/mono/ngit/tree/master/gen/plugins)获取预构建的 Eclipse 插件。Sharpen 已被证明可以完成令人印象深刻的转换工作；例如，它用于将[JGit](http://eclipse.org/jgit/)转换为[NGit](https://github.com/mono/ngit)。[在XobotOS](https://github.com/xamarin/XobotOS)项目中，还使用 ​​Sharpen “on steriods”将 Android/Dalvik JVM 源代码转换为 C# 。不幸的是，[XobotOS Sharpen 版本](https://github.com/xamarin/XobotOS/tree/master/sharpen)不[容易适用](https://stackoverflow.com/a/10618492/650012)于其他转换项目。

我还尝试了有形[演示转换器](http://tangiblesoftwaresolutions.com/Demo_Downloads/Demo_Java_to_CSharp_Converter.zip)，它似乎也做了相当不错的转换工作。特别是我很欣赏具有良好转换报告的易于使用的 GUI。另一个优点是它可以独立运行，即没有 Eclipse 或其他 IDE 依赖项。该产品也得到积极维护（最近一次发布于 2012 年 7 月），对于商业产品，您还应该期望至少有一些技术支持。

但是，无论您选择什么，您都必须为大量的代码审查和更正做好准备。我的建议是，您首先在一些需要转换的服务上测试这两种产品，以粗略估计（半）自动化 Java 到 C# 转换是否真的值得付出努力和投资。

# c# - 如何读取枚举的文本值

> ID：11644483
> 
> 赞同：2
> 
> 时间：2012-07-25T07:14:08.273
> 
> 标签：c#, wcf

我创建了一个 Enum 并想从中读取文本值。枚举如下：

```
public enum MethodID
{
    /// <summary>
    /// The type of request being done. Inquiry.
    /// </summary>
    [EnumTextValue("01")]
    Inquiry,

    /// <summary>
    /// The type of request being done. Update
    /// </summary>
    [EnumTextValue("02")]
    Update,
} 
```

现在我想将 enum 的值分配给请求对象 methodID。我尝试了以下代码，但没有奏效：

```
request.ID = Enum.GetName(typeof(MethodID), MethodID.Inquiry); 
```

我想要的是将值“01”分配给我将从 Enum MethodID 获取的请求数据合同 (request.ID) 的数据成员。我将如何得到这个？请帮忙

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-25T07:20:16.600

如果您只想获得 int 值，那么您可以将 enum 声明为

```
public enum MethodID
{
    [EnumTextValue("01")]
    Inquiry = 1,

    [EnumTextValue("02")]
    Update = 2,
} 
```

然后使用强制转换为 int：

```
ind id = (int)MethodID.Inquiry; 
```

如果您想从属性中获取字符串值，那么这是静态辅助方法

```
///<summary>
/// Allows the discovery of an enumeration text value based on the <c>EnumTextValueAttribute</c>
///</summary>
/// <param name="e">The enum to get the reader friendly text value for.</param>
/// <returns><see cref="System.String"/> </returns>
public static string GetEnumTextValue(Enum e)
{
    string ret = "";
    Type t = e.GetType();
    MemberInfo[] members = t.GetMember(e.ToString());
    if (members.Length == 1)
    {
        object[] attrs = members[0].GetCustomAttributes(typeof (EnumTextValueAttribute), false);
        if (attrs.Length == 1)
        {
            ret = ((EnumTextValueAttribute)attrs[0]).Text;
        }
    }
    return ret;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:17:55.773

试试这个

```
 string myEnum = MethodID.Inquiry.ToString();

int value =  (int)MethodID.Inquiry; 
```

有关如何添加自定义属性并在代码中使用它们的更多信息 [http://blogs.msdn.com/b/abhinaba/archive/2005/10/20/c-enum-and-overriding-tostring-on-it。 aspx](http://blogs.msdn.com/b/abhinaba/archive/2005/10/20/c-enum-and-overriding-tostring-on-it.aspx)

# paypal - Paypal IPN 自定义字段

> ID：11644485
> 
> 赞同：1
> 
> 时间：2012-07-25T07:14:15.127
> 
> 标签：paypal, paypal-ipn

我知道我可以使用带有 $_POST['custom'] 的 IPN 发送自定义字段但是我可以使用上传的文件执行此操作吗？更具体地说是上传的图片？

如果我有两个自定义字段怎么办？我以前使用过这样的东西：

```
<input type="hidden" name="custom" value="<?php echo $a.'|'.$b ?>"/> 
```

但这只是文字！现在我想上传一个文件，我也有自定义文本，然后我想得到它。

这可能吗？那会是什么样子？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-26T23:19:33.307

我认为不可能按照您描述的方式进行操作，但这是我过去使用过的替代方法。

1.  不要将包含文件上传的表单发布到 PayPal，而是将其发布到您的网站，然后将该上传的文件和任何其他自定义数据存储在数据库中（或您选择的任何其他存储方式）。为该数据分配一个 ID。

2.  现在将用户重定向到包含基本相同表单的页面，除了应该隐藏输入字段，并且表单将发布到 PayPal。使用上一篇文章中的数据以编程方式填写该表单，并使用您分配给自​​定义数据的 id 填写“自定义”字段。该页面还将包含这样的 JavaScript 语句（在表单之后的底部，以确保在加载表单之前它不会执行）...

    ```
    <script type="text/javascript">
        document.forms["paypalform"].submit();
    </script> 
    ```

    ...在页面加载时自动提交表单。如果用户禁用了 JavaScript，保留提交按钮（如果需要，可以将其设置为链接）仍然是一个好主意。它可能会说“如果您在 10 秒内没有被重定向到 PayPal，请单击此处”。您还可以在页面上添加另一条消息，例如“重定向到 PayPal”。

3.  现在，当您从 PayPal 获取该交易的 PDT 或 IPN 信息时，“自定义”字段将包含您之前分配给数据的 id。只需从存储数据的任何位置检索数据即可。

我以前在 ASP.NET 中做过这个，我认为它在 PHP（服务器端部分）中也能正常工作，但我不能肯定地说。

注意：“自定义”字段最多只能包含 256 个字符。

# objective-c - 在 iphone 的 UITextView 中更改链接颜色

> ID：11644495
> 
> 赞同：3
> 
> 时间：2012-07-25T07:14:54.120
> 
> 标签：objective-c, ipad, hyperlink, webview

我有一个视图，我有一个 UITextView。在那上面有一个 url 。我只想在加载时将链接颜色从蓝色更改为白色。但我找不到解决方案。帮帮我。

# sms - 关于使用 SCTP 通过 IP 而不是物理线路发送 BULK SMS 的建议

> ID：11644498
> 
> 赞同：0
> 
> 时间：2012-07-25T07:15:11.710
> 
> 标签：sms, bulk, sctp

我正在调查 SCTP 以及它是否对以任何方式发送 BULK SMS BUSSINESS 有用。到目前为止，我的努力都是徒劳的。我不是来自电信背景。

所以遇到了一些挑战来结识。也许非常感谢使用 SCTP 或 SS7 的任何其他部分导致发送 BULK SMS 过程的任何建议。非常感谢您阅读本文

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-22T21:24:00.827

SCTP 本身将无济于事——你需要用户适配层之一（例如 M3UA、SUA）——然后是堆栈的其余部分（例如在 M3UA 的情况下：SCCP、TCAP、MAP）。但是，这仅在您是移动运营商并且拥有您所在国家/地区电信监管机构的移动运营商许可证时才有用 - 因为没有此，其他运营商将不会与您有太多关系。

您可能得到的最接近的是来自移动运营商的 SMPP 界面 - 但这些通常不容易提供。因此，您只能与已与您所在国家/地区的运营商达成安排的其他供应商合作。虽然理论上可能其中之一可能需要您使用 SCTP - 它不会携带 SS7（即 MAP）。

# android - 操作系统杀死应用程序后自动重启

> ID：11644499
> 
> 赞同：2
> 
> 时间：2012-07-25T07:15:16.030
> 
> 标签：android

朋友们！

你能给我一个使用 AlarmManager (BroadcastReciever, Service) 来检查我的应用程序是否被操作系统杀死的例子，如果它被杀死了 - 如何重新启动它？

我们的客户询问该功能。

我之前在 stackoverflow 上问过这个问题，有人告诉我 AlarmManager 可以提供帮助。

谢谢您的帮助！

# iphone - iOS 帮助：已加载 nib 但未设置视图出口

> ID：11644506
> 
> 赞同：6
> 
> 时间：2012-07-25T07:15:32.580
> 
> 标签：iphone, objective-c, ios, ios5, ios4

我有一个名为 TaskListViewController 的类，我要去 ShowTaskViewController。在 ShowTaskViewController 开始时，我没有视图对象，我只有一个 TableView 对象，我在其中动态加载数据库中的数据，并且工作正常。

现在我删除了 ShowTaskViewController 类中的 TableView 对象，我在 .xib 文件中拖放了一个 View 对象，还在它上面拖放了一个 TableView 对象，因为我想在该类中有一些额外的按钮，但现在它显示我这个错误：由于未捕获的异常'NSInternalInconsistencyException'而终止应用程序，原因：'-[UIViewController _loadViewFromNibNamed:bundle:] 加载了“ShowTaskViewController”笔尖，但未设置视图出口。

这也是我以前在 ShowTaskViewController 类工作正常时使用的代码，现在请帮助我进行更改，以便 TableView 对象正确加载数据。

```
-(IBAction)showAllTasks:(id)sender
{
    ShowTaskViewController *showTaskViewController = [[ShowTaskViewController alloc] initWithNibName:@"ShowTaskViewController" bundle:nil];

    [self presentModalViewController:showTaskViewController animated:YES];
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-25T07:38:07.440

这是因为在你的 xib 中你没有设置你的视图出口。

打开你的xib文件选择`File Owner`右键单击它并将你的视图出口映射到你在xib中的UIView。

有关更多详细信息，请查看以下链接：

[已加载 nib 但未设置视图出口 - InterfaceBuilder 的新功能](https://stackoverflow.com/questions/4763519/loaded-nib-but-the-view-outlet-was-not-set-new-to-interfacebuilder)

[Xcode 中的错误“未设置视图出口。”](https://stackoverflow.com/questions/11327239/error-in-xcode-the-view-outlet-was-not-set)

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T07:21:27.793

首先为您的新 tableView 声明出口（Ctrl + 从 xib 拖动到接口文件），然后执行以下操作：

```
self.view=myTableView; 
```

# sql - SQL Azure 重置自动增量

> ID：11644507
> 
> 赞同：10
> 
> 时间：2012-07-25T07:15:48.790
> 
> 标签：sql, sql-server, azure, azure-sql-database

我发现很多主题告诉使用：

```
DBCC CHECKIDENT ('table', RESEED, 0) 
```

但这不受 Azure SQL 支持。有人知道如何轻松做到这一点吗？
非常感谢 ！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-25T07:54:06.713

正如您所评论的，SQL Azure[目前不支持](http://msdn.microsoft.com/en-us/library/windowsazure/ee336253.aspx)DBCC CHECKIDENT 。

[查看此 MSDN 论坛帖子](http://social.msdn.microsoft.com/Forums/en-US/ssdsgetstarted/thread/ceeae474-fb19-4282-a56b-c0718f06e9ab)，有一些解决方案建议，也许其中之一可以帮助您。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-25T16:40:46.483

您没有太多选择……我唯一能想到的就是删除并重新创建您的表。

# asp.net - 不同域的 ASP.NET 表单和 Windows 身份验证

> ID：11644513
> 
> 赞同：0
> 
> 时间：2012-07-25T07:16:19.633
> 
> 标签：asp.net, .net, forms-authentication, windows-authentication

我有以下要求：如果域 2 中的用户进入域 1 中的 ASP.NET 站点，则该站点应显示自定义登录表单以验证用户。但是，如果来自域 1 的用户浏览到同一个 ASP.NET 站点（在域 1 上），则会发生 Windows 身份验证（使用 Active Directory），因此用户应该直接进入站点内容而不会看到登录表单。

我该怎么做呢？

我首先需要检测[请求域](http://blog.miniasp.com/post/2008/02/10/How-Do-I-Get-Paths-and-URL-fragments-from-the-HttpRequest-object.aspx)吗？我在 Page_Load() 中尝试过 HttpContext.Current.Request，但尚未成功检测到请求来自哪个域。

另外，我应该如何设置站点身份验证模式？我需要对域 1 用户进行 Windows 身份验证，对域 2 用户进行[表单身份验证](http://support.microsoft.com/kb/301240)吗？我也未能成功，因为 IIS 7.5 抱怨我不能同时打开 Windows 和 Forms 身份验证。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:42:47.980

当然不是答案，但由于篇幅原因，我将其添加为答案而不是评论。AFAIK，IIS 7.5 允许启用两种身份验证，但不允许通过 web.config 启用，您必须通过 IIS 管理控制台执行此操作，此外，您描述的场景是通过 Sharepoint 2010 中的声明身份验证（Intranet 的窗口和 Extranet 的表单）处理的。我认为同样的方法可以用于 ASP.NET 应用程序，因为 Sharepoint 也是建立在 ASP.NET 3.5 之上的。此外，您还可以查看 .Net 中存在的联合身份验证 API。您可以浏览以下链接[Claims Aware ASP.NET Applications](http://msdn.microsoft.com/en-us/library/hh291068%28v=vs.110%29.aspx) and [Federated Authentication](http://msdn.microsoft.com/en-us/magazine/ff872350.aspx)和[Enabling Federated Authentication for ASp.NET in Azure](http://msdn.microsoft.com/en-us/identitytrainingcourse_wifonwazlab2010_topic2.aspx)。希望这可以帮助。

# android - android中具有放大和缩小功能的Galleryview

> ID：11644514
> 
> 赞同：1
> 
> 时间：2012-07-25T07:16:26.510
> 
> 标签：android, galleryview

我想要一个`zoom in`和`zoom out`功能在`GalleryView`android.I 正在尝试很多方法，但它不起作用。我在 android 上找到了另一个教程`zoom in`和`Zoom out`图像，`GalleryView`但尝试不起作用 任何人都可以帮助我如何实现此功能，为什么教程上的代码不起作用？

我正在尝试以下链接的本教程：

[http://blog.projapps.com/?p=85](http://blog.projapps.com/?p=85)

像下面的代码：

**MyImageview.java**

```
import android.content.Context;
import android.graphics.Matrix;
import android.view.MotionEvent;
import android.widget.ImageView;

public class MyImageView extends ImageView {
    public MyImageView(Context context) {
        super(context);
        // TODO Auto-generated constructor stub
    }

    boolean isDraggable = false;
    boolean isRight = false;
    boolean isLeft = false;

    // These matrices will be used to move and zoom image
    Matrix matrix = new Matrix();
    Matrix savedMatrix = new Matrix();

    public void setMatrix(Matrix m) {
        matrix.set(m);
    }

    public void setSavedMatrix(Matrix m) {
        savedMatrix.set(m);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if (isDraggable) {
            // place pan/zoom codes here
        }
        return true;
    }
} 
```

**我的画廊.java**

```
public class MyGallery extends Gallery {
    private PointF m_start = new PointF();
    private MyImageView imageView;

    public MyGallery(Context context) {
        super(context);
    }

    public MyGallery(Context context, AttributeSet attrSet) {
        super(context, attrSet);
    }

    @Override
    public boolean onInterceptTouchEvent(MotionEvent event) {
        imageView = (MyImageView) getSelectedView();
        switch (event.getAction() & MotionEvent.ACTION_MASK) {
            case MotionEvent.ACTION_DOWN:
                m_start.set(event.getX(), event.getY());
                break;
            case MotionEvent.ACTION_POINTER_DOWN:
                imageView.isDraggable = true;
                if (imageView.getScaleType() != ImageView.ScaleType.MATRIX) {
                    imageView.setMatrix(imageView.getImageMatrix());
                    imageView.setScaleType(ImageView.ScaleType.MATRIX);
                }
                break;
            case MotionEvent.ACTION_MOVE:
                if ((event.getX() - m_start.x < 0 && imageView.isRight) ||
                    (event.getX() - m_start.x > 0 && imageView.isLeft))
                    imageView.isDraggable = false;
                break;
        }
        if (!imageView.isDraggable) {
            onTouchEvent(event);
        }
        return super.onInterceptTouchEvent(event);
    }
} 
```

我正在加载图像适配器类，如下代码：

```
public class ImageAdapter extends BaseAdapter {

        public ImageAdapter(Context c) {
            mContext = c;
        }

        public int getCount() {
            return mImageIds.length;
        }

        public Object getItem(int position) {
            return position;
        }

        public long getItemId(int position) {
            return position;
        }

        public View getView(int position, View convertView, ViewGroup parent) {

            MyImageView i = new MyImageView(mContext);
            i.setImageResource(mImageIds[position]);
            i.setScaleType(ImageView.ScaleType.FIT_XY);
            return i;            
        }

        private Context mContext;

    } 
```

并在我的画廊类中加载图像适配器，如下面的代码：

```
 g = (MyGallery) findViewById(R.id.gallery);
    g.setSpacing(60);
    g.setUnselectedAlpha(1);
    g.setAdapter(new ImageAdapter(this)); 
```

此代码成功加载图像，但无法使用缩放功能！

# opengl - libgdx 纹理的 alpha 值已更改

> ID：11644515
> 
> 赞同：2
> 
> 时间：2012-07-25T07:16:31.413
> 
> 标签：opengl, libgdx

所以我的纹理中的 alpha 值有问题。基本上，像素图设置为全黑，然后我绘制了一个 alpha 值设置为 0 的实心圆，以使圆的区域透明（是的，我将混合设置为无），然后我从像素图创建了纹理像这样：

```
Texture myTexture = new Pixmap(TransparentCirclePixmap); // this constructor takes a pixmap 
```

如果我绘制此纹理，则圆圈不透明，它的颜色不是我游戏中的背景。

所以基本上我想要的是在我的像素图中绘制一个透明的圆圈并从该像素图中创建一个纹理，当我将纹理绘制到屏幕上时，圆圈的内部会显示我游戏背景中的任何内容。

# ember.js - IsValid 和 Ember 数据

> ID：11644517
> 
> 赞同：3
> 
> 时间：2012-07-25T07:16:34.220
> 
> 标签：ember.js, ember-data

有人可以告诉我 isValid 在 ember-data 中的用途吗？

我正在尝试使用此示例向用户显示错误消息或成功消息：

[http://grosser.it/2012/05/05/save-validation-callbacks-for-ember-dataember-js/](http://grosser.it/2012/05/05/save-validation-callbacks-for-ember-dataember-js/)

问题是当我从服务器返回 422 时，代码确实会返回给观察者。

isValid 也始终为真。

当出现问题时，我真的很难收到错误通知。

我可以使用 didCreate 或 didUpdate 但这仍然会在错误条件下留下一个漏洞。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T21:09:33.647

There is an open bug issue that is related to this: [issue 296](https://github.com/emberjs/data/issues/296)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T14:48:46.193

数据验证目前不是 ember-data 的一部分，尽管我相信它计划用于 1.0。GitHub 上存在许多与数据验证相关的问题，例如[https://github.com/emberjs/data/pull/228](https://github.com/emberjs/data/pull/228)

# r - 从 HMM 高斯混合分布中获取下一个观测值

> ID：11644522
> 
> 赞同：3
> 
> 时间：2012-07-25T07:16:58.957
> 
> 标签：r, hidden-markov-models, viterbi

我有一个长度为 1000 的连续单变量 xts 对象，我已将其转换为名为 x 的 data.frame 以供 package 使用`RHmm`。

我已经选择了混合分布中有 5 个状态和 4 个高斯分布。

**我所追求的是下一次观察的预期平均值。我该怎么做呢？**

所以我到目前为止是：

1.  `HMMFit()`运行函数的转移矩阵
2.  混合物中每个高斯分布的一组均值和方差，以及它们各自的比例，所有这些也是由`HMMFit()`函数生成的
3.  使用 HMMFit 函数的输出并将其放入`viterbi`函数时与输入数据相关的过去隐藏状态列表

我将如何从我所拥有的中获取下一个隐藏状态（即第 1001 个值），然后使用它从高斯分布中获取加权平均值。

我想我已经很接近了，只是不太确定下一部分是什么……最后一个状态是状态 5，我是否以某种方式使用转换矩阵中的第 5 行来获得下一个状态？

我所追求的只是下一次观察中预期的加权平均值，因此甚至不需要下一个隐藏状态。我是否将第 5 行中的概率乘以每个平均值，加权到每个州的比例？然后把它们加在一起？

这是我使用的代码。

```
# have used 2000 iterations to ensure convergence
a <- HMMFit(x, nStates=5, nMixt=4, dis="MIXTURE", control=list(iter=2000)
v <- viterbi(a,x)
a
v 
```

一如既往，任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T05:27:57.653

下一个预测值使用最后一个隐藏状态`last(v$states)`从转移矩阵`a$HMM$transMat[last(v$states),]`中获取每个状态的概率权重，分布均值`a$HMM$distribution$mean`按比例加权`a$HMM$distribution$proportion`，然后将其全部相乘并求和。因此，在上述情况下，它将如下所示：

```
sum(a$HMM$transMat[last(v$states),] * .colSums((matrix(unlist(a$HMM$distribution$mean), nrow=4,ncol=5)) * (matrix(unlist(a$HMM$distribution$proportion), nrow=4,ncol=5)), m=4,n=5)) 
```

# c# - 明细行可以在主明细网格上使用相同的主行标题吗？

> ID：11644530
> 
> 赞同：0
> 
> 时间：2012-07-25T07:17:33.643
> 
> 标签：c#, winforms, devexpress, master-detail, xtragrid

我有一个 DataTable 包含许多数据，其中一些是相对的。

我的目标是将相关记录组合在一起，并且只显示其中一个，直到用户手动展开它以查看该组中的所有其他记录。

首先，我使用组机制并从表示记录构建文本。但是这样，我必须处理文本空间以匹配列标题大小、隐藏或可见列等。

所以，我使用了master-detail（使用事件），它看起来更好。但是当我展开记录时，其他记录出现在自己的标题上，而不是主视图的标题上。

我的问题是如何使详细信息行显示在主行的同一标题中，因为它们具有相同的成员。无需为它们创建另一个视图！有什么选择或其他方法可以做到这一点吗？

P/S：我的试用期已过，无法向 DevExpress 团队寻求支持！

**更新：**这就是我所拥有的

![我所拥有的](../Images/c7342f6e2328ac42242cfd87ca2ed56e.png)

但这就是我想要的

![我想要的是](../Images/51115e1a9499885823253f6b47b30e06.png)

这意味着，明细行将没有任何标题行，并使用与主行相同的布局。调整主视图上的列大小，它也会影响详细信息行。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-26T12:50:59.953

做这个 ！

使用 ViewRegistered 事件获取视图并设置外观。e.View 是新注册的视图..

```
GridControl_ViewRegistered(object sender,ViewOperationEventArgs e) 
{
 GridView view = e.View;
 // do look and feel here 
 } 
```

只需购买 devExpress 许可证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:08:35.690

Willie 的意思是当你订阅 `viewRegistered 事件时，你可以访问新的视图。据我所知，这是访问打开的详细视图的唯一方法。此时，您可以将列标题等设置为与主视图具有相同的外观和感觉。

喜欢：

```
GridControl_ViewRegistered(object sender,ViewOperationEventArgs e) 
{
  GridView view = e.View; 
  foreach Column column in view.Columns
  {
    // set the column look and feel to whatever you want it to be here
  }
} 
```

# c# - 将文本框文本导出到 Excel 工作表时出错

> ID：11644535
> 
> 赞同：0
> 
> 时间：2012-07-25T07:17:48.127
> 
> 标签：c#

我正在尝试将文本框中的一些值导出到 Excel 工作表（.xlsx 文件）中的几列（日期、温度）。但它会生成一个名为“INSERT INTO 语句包含以下未知字段名称：'Temperature'”的错误。当我从 INSERT INTO 语句中删除温度列时，它可以工作。请帮忙。我已经给出了下面的编码：

```
 private void button2_Click(object sender, EventArgs e)
    {
        openFileDialog2.ShowDialog();
        string Path = openFileDialog2.FileName.Replace("'\'", "'\\'");
        try
        {

        string szConn = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" +Path+ ";Extended Properties='Excel 8.0;HDR=YES;'";
        OleDbConnection conn = new OleDbConnection(szConn);
        conn.Open();
        OleDbCommand cmd = new OleDbCommand("INSERT INTO [Weather Report$]([Date],[Temperature]) VALUES('" + textBox1.Text + "','" + textBox3.Text + "')", conn);
        cmd.ExecuteNonQuery();

        conn.Close();

        }
        catch (Exception ex)
        {
        MessageBox.Show (ex.ToString());
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:27:39.847

确保您尝试添加数据的 Excel 文件包含带有这两个值日期和温度的标题（第一行）。

它试图在 Excel 中查找标题值为温度的列，但无法找到它...

# ios - 如何确定我的应用程序在 iphone 中分配了多少内存

> ID：11644537
> 
> 赞同：0
> 
> 时间：2012-07-25T07:17:52.973
> 
> 标签：ios, memory-management

我在我的应用程序中遇到内存泄漏问题。我只是想知道是否可以确定我的应用程序在堆上分配了多少内存，以便我可以相应地减少我的资源。我知道系统会发出低内存警告，我可以在那里清理我的数据，但即使有时它不会发生。如果我知道我的应用程序正在达到最大内存和堆上的剩余大小，那么我可以更好地减少我的资源。

提前致谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T12:12:49.497

```
#include <mach/mach.h>          // freeMemory
#include <mach/mach_host.h>     // freeMemory
#include <mach/mach_time.h>     // time metrics

        struct task_basic_info info;
        if(dump_memory_usage(&info)) {
            (size_t)info.resident_size;
            (size_t)info.virtual_size;
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:21:31.343

使用仪器。XCode 中的 Command-I 在 Instruments 中分析您的应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:21:32.647

是的，当然，我会推荐仪器的工具“泄漏”。它让您知道您的应用程序分配了多少内存，如果有泄漏，它会告诉您它们是什么，何时以及何时分配（并且显然没有释放）。

这是我前段时间使用的一个很好的指南。 [http://www.cimgf.com/2008/04/02/cocoa-tutorial-fixing-memory-leaks-with-instruments/](http://www.cimgf.com/2008/04/02/cocoa-tutorial-fixing-memory-leaks-with-instruments/)

# javascript - 通过Javascript根据内容更改元素css

> ID：11644540
> 
> 赞同：0
> 
> 时间：2012-07-25T07:18:18.667
> 
> 标签：javascript, html

假设我有一个垂直菜单，编码如下：

```
<ul class="sub-menu">
 <li id="menu-item-1" class="menu-item">
  <a href="/page1">Page1</a>
 </li>
 <li id="menu-item-2" class="menu-item">
  <a href="/page2"> </a>
 </li>
 <li id="menu-item-3" class="menu-item">
  <a href="/page3">Page3</a>
 </li>
</ul> 
```

如您所见， page2 的锚元素不包含任何文本。因此，我想从菜单中隐藏它。所以我正在寻找一个 javascript 解决方案，它可以执行以下操作：

```
if (content of anchor tag equals " ") then 
set anchor's parent list element css to visiblity:hidden; 
```

请注意，我不能在这个上使用 document.getElementById，因为列表 ID 是自动生成的，并且可能会随着时间而改变。那么如何获取锚标签的内容并设置正确的列表项的 CSS 呢？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:22:06.693

```
var link=document.getElementsByTagName("a");
for(var i=0;i<link.length;i++)
if(link[i].innerHTML.replace(/^\s+|\s+$/g, "")==='')
link[i].parentNode.style.display="hidden"; 
```

**[工作演示](http://jsfiddle.net/JUcvj/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:23:05.923

你可以使用`getElementByTagName('li')`然后测试它`class="menu-item'`

请参阅此[示例](http://jsfiddle.net/corinnekm/JUcvj/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:21:45.610

如果您使用的是 jQuery，您可以执行以下操作：

```
$("li").each(function() { 
  if ($(this).find("a").text() == "") 
    {
     $(this).css('display','none');
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:26:53.707

你可以使用这样的东西..

```
$('.sub-menu a').each(function () {
    if (this.innerHTML == " ") {
        this.parentNode.style.visibility = 'hidden';
    }
}) 
```

# jquery - jquery滑动右键隐藏当前页面div内容并显示下一页div内容

> ID：11644542
> 
> 赞同：0
> 
> 时间：2012-07-25T07:18:27.717
> 
> 标签：jquery, pagination, show-hide, slide

我有 10 页内容，每个页面上的分页对象都是使用 php 完成的。这允许用户通过单击页码查看他/她希望查看的任何页面的内容。

现在我想添加一个下一个和上一个按钮，允许用户查看下一页或上一页。

在 codef0rmer 的指导下，我已将下一个按钮更改为以下 jquery 代码。当我单击下一步按钮时，后续页面的内容将显示在 div 内容列中。但是，现在有 2 个下一个按钮、2 个上一个按钮和 2 个分页对象。

如何在没有额外的下一个、上一个按钮和分页对象的情况下只显示要显示的内容？

我是 jquery 的初学者.....我非常感谢任何帮助。

```
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" 
rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script type="text/javascript">
 $(document).ready(function(){
     var pg=1;
    //$("#contentcolumn:first").show("slide",{'direction':"left"},1000);
    $('#next').click(function () {
         if(pg<=10){
            pg=pg+1;
            page_str="page="+pg;
            $.get('index2.php',page_str , function(data) {
              $('#contentcolumn').html(data).show("slide",{'direction':"left"},1000);
             });
          };    
   })//end $('#next').click
})//end document(ready)
</script> 
```

我的html和php代码：

```
<body>
<div id="maincontainer">
<div id="contentwrapper">
<div id="leftcolumn">
<div class="innertube">
<input type="button" id="left_but" value="Left"  />
</div>
</div>
<div id="contentcolumn">
<div class="innertube">
<?php
$pagination='';
if (function_exists("curl_init")){
    $ch=curl_init();
    curl_setopt($ch,CURLOPT_URL,"http://feeds.feedburner.com/rb286");
    curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);
    $data=curl_exec($ch);
    curl_close($ch);
    //print_r($data);
    $doc=new SimpleXmlElement($data);
    //$doc=simpleXml_load_file("http://feeds.feedburner.com/rb286?format=xml");
    //$doc=simpleXml_load_string($data); 
    $xml = simplexml_import_dom($doc);    
    if (!$xml) { 
    echo 'Error while parsing the document'; 
    exit; 
     } 

    //print_r($doc);
}

function paginateFunc($xml){
global $pagination;
$disp_arr = array();
$image_array=array();
// How many adjacent pages should be shown on each side?
    $adjacents =3;

    $items=$xml->xPath('/rss/channel/item');
    $count=count($items);
    $total_pages = $count;

    /* Setup vars for query. */
    $targetpage = "index2.php";     //your file name  (the name of this file)
    $limit = 1;                                 //how many items to show per page
    $page = $_GET['page'];
    if($page) 
        $start = ($page - 1) * $limit;          //first item to display on this page
    else
        $start = 0;                             //if no page var is given, set start to 0

    /* Setup page vars for display. */
    if ($page == 0) $page = 1;                  //if no page var is given, default to 1.
    $prev = $page - 1;                          //previous page is page - 1
    $next = $page + 1;                          //next page is page + 1
    $lastpage = ceil($total_pages/$limit);      //lastpage is = total pages / items per page, rounded up.
    $lpm1 = $lastpage - 1;                      //last page minus 1

    //echo("HALLO");
    foreach ($xml->xpath('//item/content:encoded') as $desc) { 
        preg_match_all('/(?<imgs><img[^>]+>)/m', $desc, $m); 
             } 
    foreach($items as $key => $item){ 
                //if( ( $key >= $start) && ($key < $start + $limit) ){ 
                    $disp_array[$key]['link']=$item[0]->link;
                    $disp_array[$key]['title']=$item[0]->title;
                    $disp_array[$key]['desc']=$item[0]->description;

    }//end foreach($items 

    foreach($disp_array as $key=>$disp){
            if($key == $start){
                 echo("<a href='".$disp_array[$key]['link']."'>".$disp_array[$key]['title']."</a><br>");
                 echo($disp_array[$key]['desc']."<br>");
                 //echo(count($m['imgs']));
                 //echo("<img src='".$m['imgs'][$key]."'/>");
              }

    } 
    echo("</div>");//end div innertube
    echo("</div>");//end div contentcolumn
    echo("<div id='rightcolumn'>");
    echo("<div class='innertube'>");
    echo("<input type='button' id='right_but' value='Right' />");
    echo("</div>");//end div innertube
    echo("</div>");
    echo("<div id='footer'>");
    /* 
        Now we apply our rules and draw the pagination object. 
        We're actually saving the code to a variable in case we want to draw it more than once.
    */
    //$pagination = "";
    if($lastpage > 1)
    {   
        $pagination .= "<div class=\"pagination\">";
        //previous button
        if ($page > 1) 
            $pagination.= "<a href=\"$targetpage?page=$prev\">� previous</a>";
        else
            $pagination.= "<span class=\"disabled\">� previous</span>"; 

        //pages 
        if ($lastpage < 7 + ($adjacents * 2))   //not enough pages to bother breaking it up
        {   
            for ($counter = 1; $counter <= $lastpage; $counter++)
            {
                if ($counter == $page)
                    $pagination.= "<span class=\"current\">$counter</span>";
                else
                    $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
            }
        }
        elseif($lastpage > 5 + ($adjacents * 2))    //enough pages to hide some
        {
            //close to beginning; only hide later pages
            if($page < 1 + ($adjacents * 2))        
            {
                for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
                {
                    if ($counter == $page)
                        $pagination.= "<span class=\"current\">$counter</span>";
                    else
                        $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                }
                $pagination.= "...";
                $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
                $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
            }
            //in middle; hide some front and some back
            elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
            {
                $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
                $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
                $pagination.= "...";
                for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
                {
                    if ($counter == $page)
                        $pagination.= "<span class=\"current\">$counter</span>";
                    else
                        $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                }
                $pagination.= "...";
                $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
                $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
            }
            //close to end; only hide early pages
            else
            {
                $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
                $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
                $pagination.= "...";
                for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
                {
                    if ($counter == $page)
                        $pagination.= "<span class=\"current\">$counter</span>";
                    else
                        $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                }
            }
        }

        //next button
        if ($page < $counter - 1) 
            $pagination.= "<a href=\"$targetpage?page=$next\">next �&lt;/a>";
        else
            $pagination.= "<span class=\"disabled\">next �&lt;/span>";
        $pagination.= "</div>\n";       
    }

    }

    if (isset($doc->channel)) paginateFunc($doc);
    ?>
    <?php 
    echo($pagination);
    ?>
    </div><!--closing tag for div footer-->
    </div><!--closing tag for div contentwrapper-->
    </div><!--closing tag for div maincontainer-->
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:39:43.057

由于您没有共享太多代码，因此我将概述如何完成它。

我认为您应该隐藏当前可见的内容窗口并找到下一张幻灯片并显示它。

```
$('#next').click(function () {
    $("div:visible").hide()
        .next().show("slide",{'direction':"left"},1000);
});

$('#prev').click(function () {
    $("div:visible").hide()
        .prev().show("slide",{'direction':"right"},1000);
}); 
```

演示：http: [//jsfiddle.net/codef0rmer/E7U82/](http://jsfiddle.net/codef0rmer/E7U82/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:57:05.673

[经过几天的研究，我在http://jc-designs.net/blog/2010/03/jquery-slider-tutorial-for-beginners-how-i-did-mine/](http://jc-designs.net/blog/2010/03/jquery-slider-tutorial-for-beginners-how-i-did-mine/....the)找到了这个关于 jquery 滑块的很酷的初学者教程[....](http://jc-designs.net/blog/2010/03/jquery-slider-tutorial-for-beginners-how-i-did-mine/....the)解释是针对像我这样的傻瓜。

在上述网站的指导下，我设法想出了以下代码。我已经将 rss 提要下载到一个文件中（使用 php），创建了下一个和上一个按钮和控制列表 - 用于分页（使用 jquery），3 列布局 - 固定、流动、固定。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 

Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>

<style type="text/css">
body{margin:0;
padding:0;
}
#leftcolumn{
float:left;
margin-right:-200px;
}
#slidecontent{
width:550px;
height:450px;
float:left;
margin:0 200px 0 200px;
border:solid thin #FF3333;
overflow:hidden;
}
#slidewrap{
width:5500px;
height:450px;
top:0;
left:0;
}
.slide{
float:left;
width:550px;
height:450px;
}
#rightcolumn{
float:left;
margin-left:-200px;
}
#controllist{
clear:both;
text-align:center;
padding:4px;
}
ul{
list-style-type:none;
}
ul li{
display:inline;
}
</style>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="jquery-ui/ui/jquery-ui.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $("#controlleft").hide();
    var currentPosition=0;
    var slideWidth=550;
    var count=0;
    var html="";
    var rss_link="";
    var rss_title="";
    var rss_desc="";
    $.get("rss.xml",function(data){
        $(data).find("item").each(function(){
            count+=1;
            rss_title=$(this).find("title").text();
            rss_link=$(this).find("link").text();
            rss_desc=$(this).find("description").text();
            html+="<div class='slide'><a href='"+rss_link+"'>"+rss_title+"</a>"+rss_desc+"</div>";
          }); //end find data
         $("#slidewrap").append($(html));

         html="<ul>";
         for (i=1;i<=count;i++){
             if (i<10){
                 html+="<li><a href='#'>"+i+"</a></li> | ";
             }else{
                 html+="<li><a href='#'>"+i+"</a></li>";
             }
         }
         html+="</ul>";
         $("#controllist").append($(html));

     });//end get

     function controlMechanism(){
            if (currentPosition>=9){
                $("#controlright").hide();
            }else{
                $("#controlright").show();
            }

            if (currentPosition<=0){
                $("#controlleft").hide();
            }else{
                $("#controlleft").show();
            }
     }//end controlMechanism

       //code for next and previous buttons
     $(".controls").click(function(event){
        event.preventDefault();
        if ($(this).attr('id')=="controlright"){
            currentPosition+=1;
        }else{
            currentPosition-=1;
        };
        $("#slidewrap").animate({"marginLeft" : slideWidth*(-currentPosition)});

        controlMechanism();
     });//end controls click

      //this controls the pagination
     $("#controllist ul li").click(function(event){
        event.preventDefault();
        currentPosition=$(this).index();

        $("#slidewrap").animate({"marginLeft" : slideWidth*(-currentPosition)});

        controlMechanism();
     });// end controllist click

});
</script>
</head>

<body>
<?php
//downloading rss feed into a file
$ch=curl_init();
curl_setopt($ch,CURLOPT_URL,"http://feeds.feedburner.com/rb286");
$fp=fopen('rss.xml','w');
curl_setopt($ch,CURLOPT_FILE,$fp);

$data=curl_exec($ch);
curl_close($ch);
fclose($fp);
?>
<div id="leftcolumn">
<a href="#" class="controls" id="controlleft">&lt;</a>
</div>
<div id="slidecontent">
    <div id="slidewrap">
    </div>
</div>
<div id="rightcolumn">
<a href="#" class="controls" id="controlright">&gt;</a>
</div>
<div id="controllist">
</div>
</body>
</html> 
```

# node.js - 不能通过 socket.io 发射？

> ID：11644544
> 
> 赞同：1
> 
> 时间：2012-07-25T07:18:30.210
> 
> 标签：node.js, socket.io

我最近将 socket.io 更新到最新版本，即 0.9.8

上次我使用该应用程序时，我做了这样的事情：

```
io.sockets.emit("logged",this); 
```

它奏效了。现在我得到：

```
TypeError: Cannot call method 'emit' of undefined
    at new Agent (/var/www/panel/models/agent.js:29:16)
    at module.exports (/var/www/panel/modules/app.js:35:47)
    at Query.Client.query (/var/www/panel/node_modules/mysql/lib/client.js:108:11)
    at Query.EventEmitter.emit (events.js:85:17)
    at Query._handlePacket (/var/www/panel/node_modules/mysql/lib/query.js:51:14)
    at Client._handlePacket (/var/www/panel/node_modules/mysql/lib/client.js:319:14)
    at Parser.EventEmitter.emit (events.js:88:17)
    at Parser.write.emitPacket (/var/www/panel/node_modules/mysql/lib/parser.js:71:14)
    at Parser.write (/var/www/panel/node_modules/mysql/lib/parser.js:576:7)
    at Socket.EventEmitter.emit (events.js:88:17) 
```

我认为这是因为范围或其他原因，所以我这样做了：

```
// server.js
var express = require('express'),
    server = express(),
    Routes = require('./routes'),
    App = require('./modules/app.js'),
    database = require('./libraries/mysql.js'),
    io = require('socket.io'),
    mysql = require('mysql');

server.listen(8080);
io.listen(server);
io.sockets.emit('Hi there', {}); 
```

它只是不起作用，同样的错误，不同的行。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T10:59:49.717

您需要保存它的返回值`socketio.listen`并与之交互。我建议您按照[socket.io](http://socket.io/)上的示例进行操作。这样的事情应该可以解决问题：

```
var express = require('express'),
    server = express(),
    socketio = require('socket.io');

server.listen(8080);
var io = socketio.listen(server);
io.sockets.emit('Hi there', {}); 
```

甚至：

```
var express = require('express'),
    server = express(),
    io = require('socket.io').listen(server);

server.listen(8080);
io.sockets.emit('Hi there', {}); 
```

# python - 烧瓶 - 带有搜索词的网址

> ID：11644548
> 
> 赞同：3
> 
> 时间：2012-07-25T07:18:54.703
> 
> 标签：python, flask

我想问一下如何使我的网址包含我搜索的内容。像这样的东西：

```
http://host/filter?test 
```

我的代码：

```
 @app.route('/filter', methods=['POST', 'GET'])
def filter():
        if request.method == 'POST':
            if str(request.form['search_string']) <> '':
                api.queryMessage(request.form['search_string'])
       return render_template('main.html', search_string=search_string) 
```

还有我的模板 main.html：

```
<form name="filters" action="{{ url_for('filter') }}" method=post id="filters">
   <div style="position: absolute; top:100px; left:300px">
       <p>Search string: <input type=text size=80 title="Match all of the words"   name=search_string value="{{search_string}}"></p>
       <input type=submit value=Filter/Search onclick=loopSelected();>
       <input type="hidden" name="chosen" id="chosen" value="{{chosen}}" />
   </div>
</form> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-25T08:52:41.000

您现在正在使用 POST 请求。使用 GET 请求，因此浏览器会将您的表单值放入 URL。

在 HTML 表单中设置方法 =“GET”：

```
<form name="filters" action="{{ url_for('filter') }}" method="GET" id="filters"> 
```

您将获得以下形式的 URL：

```
http://host/filter?search_string=test&chosen=<id>&<some other trash> 
```

在 Flask 中使用 request.args 而不是 request.form：

```
if request.method == 'GET':
    if request.args.get('search_string'):
        ... 
```

# c# - 有多个根元素加载xml

> ID：11644556
> 
> 赞同：1
> 
> 时间：2012-07-25T07:19:10.680
> 
> 标签：c#, xml, vb.net

```
sRecieved = "<XmlClient>2.0</XmlClient><XmlVersion>3.0</XmlVersion>" 
Dim xml As New XmlDocument();    
xml.LoadXml(sRecieved); 
```

有多个根元素.....我想要 xmlclient 值和 xmlversion 值

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:24:31.330

是的，您的数据*不是*有效的 XML 文档。（错误消息非常清楚 - 您有多个顶级元素。）您可以通过添加虚拟根元素使其成为有效文档*：*

```
xml.LoadXml("<root>" & sReceived & "</root>") 
```

...但是如果您有机会更改发送数据的任何内容，最好发送一个实际的 XML 文档。

编辑：如果您能够使用 LINQ to XML 而不是`XmlDocument`，那么获取客户端编号和版本号很容易。例如，作为文本：

```
Dim clientVersion = doc.Root.Element("XmlClient").Value
Dim xmlVersion = doc.Root.Element("XmlVersion").Value 
```

编辑：好的，如果你坚持使用`XmlDocument`，我相信你可以使用：

```
Dim clientVersionNode = doc.DocumentElement.GetElementsByTagName("XmlClient")(0)
Dim clientVersion = (CType(clientVersionNode, XmlElement)).InnerText 
```

（同样对于`xmlVersion`）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-25T07:26:09.153

发生此错误是因为您的 xml 字符串中没有根元素。

试试这个

```
sRecieved = "<xmlroot><XmlClient>2.0</XmlClient><XmlVersion>3.0</XmlVersion></xmlroot>"

Dim xml As New XmlDocument()

xml.LoadXml(sRecieved) 
```

# ruby-on-rails - Carrierwave如何获取文件扩展名

> ID：11644557
> 
> 赞同：16
> 
> 时间：2012-07-25T07:19:21.110
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, file-upload, carrierwave

我正在开发一个需要文件上传/下载的 Ruby on Rails 应用程序。对于上传部分，我使用了 gem carrierwave，因为它非常易于使用且非常灵活。问题是：一旦我上传了文件，我需要知道一些事情：即如果它是 pdf 而不是下载文件，我会内联显示它，图像也是如此。如何获取**文件扩展名**以及如何**将文件发送**给用户？任何反馈表示感谢谢谢！

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-07-25T08:32:59.120

确定文件扩展名（我想挂载上传器的名称是“文件”）：

```
file = my_model.file.url
extension = my_model.file.file.extension.downcase 
```

然后准备 mime 和 disposition 变量：

```
disposition = 'attachment'
mime = MIME::Types.type_for(file).first.content_type

if %w{jpg png jpg gif bmp}.include?(extension) or extension == "pdf"
  disposition = 'inline'
end 
```

（如果需要，添加其他扩展名）。

然后发送文件：

```
send_file file, :type => mime, :disposition => disposition 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-25T08:30:23.980

上传文件后，名称将存储在数据库中。这也包括扩展名。假设您有一个`User`安装了上传器的模型`asset`，那么您可以将其获取为：

```
user.asset.file.extension 
```

至于发送给用户，如果你调用`user.asset_url`，它会给你上传文件的 URL。用户可以使用该链接来获取文件。还是我误解了“将文件发送给用户”的意思？

# jquery - 为下拉框的 SubMenu 类别创建嵌套 XML 文件

> ID：11644558
> 
> 赞同：0
> 
> 时间：2012-07-25T07:19:23.030
> 
> 标签：jquery, html, xml

我需要一个带有子菜单的下拉框的 XML 文件。

例如：

```
<Fruits>
<Apple>
<Price>100</Price>
</Apple>

<Mango>
<Price>100</Price>
</Mango>

</Fruits> 
```

现在对于这个 Apple，我需要一个子菜单，例如颜色、国家/地区等，

因此，在苹果悬停时，我将显示子菜单 Xml 文件项。

所有数据应仅集成在一个 XML 文件中，

请只做那些需要的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:32:44.253

如果您要问如何将这种数据存储在 XML 文件中，那么我会这样做：

```
<Fruits>

<Apple>
<Price>100</Price>
<Colors>
    <Color>Green</Color>
    <Color>Red</Color>
    <Color>Yellow</Color>
</Colors>
<Origin>
    <Country>Spain</Country>
    <Country>Italy</Country>
    <Country>Argentina</Country>
</Origin>
</Apple>

</Fruits> 
```

如果您询问下拉菜单，请向我们提供更多信息

# php - 单击区域时更改输入值

> ID：11644559
> 
> 赞同：1
> 
> 时间：2012-07-25T07:19:33.713
> 
> 标签：php, html, image, input, areas

我有一个不同区域的 HTML/PHP 图像。当我单击我希望上面的输入字段更改的区域之一时。我怎么做？尝试使用普通的 $variable 但我也没有让它工作。

我对 HTML 很陌生。

提前致谢！

```
<input type="text" name="position" size="10" value="">

<img style="margin: 50px 500px" src="pic.jpg" width="500" height="200" alt=":("
usemap="#cabmap" />

<map name="cabmap">
<area shape="rect" coords="20,0,82,126" alt="Sun" *something here mby?* />

<html>
<head>
<title>Pos</title>
</head>

<body>

<form method="post" action="process.php">
<fieldset>
<legend><strong>ChosePos</strong></Legend>

<td style="padding-left: 40px"><b>Position</b></td>
<input id="position" type="text" name="position" size="10" value="Hellope"</input>
<br />
<img src="pic.jpg" width="500" height="200" alt="Position map" usemap="#map" />
<map name="map">
  <area shape="rect" coords="0,0,82,126" alt="CA1" onclick="javascript:simply();" />
  <script type="text/javascript">
    function simply(){
    var box = document.getElementById("position");
    box.value="Hello";
  </script>

  </map>

</fieldset>

<input style="pading-top: 20px" type="submit" value="Send report" />

</form>
</body>
</html> 
```

现在我已经走了这么远，但是当我点击该区域时没有任何反应......

我不知道出了什么问题。请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:46:03.240

Yes you can do this using the external JavaScript library **jQuery**:

```
<map name="cabmap">
<area shape="rect" coords="20,0,82,126" alt="Sun" onclick="$('#position').val('Hello')"/> 
```

Or you can do this with plain **JavaScript:**

```
<map name="cabmap">
<area shape="rect" coords="20,0,82,126" alt="Sun" onclick="javascript:simply();"/>
<script type="text/javascript">
function simply(){
 var box = document.getElementById("position");
 box.value="Hello"; 
}    
</script> 
```

Also remember to add a id attribute to your text box.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T09:56:05.970

**更新**- 如果这仍然被标记为“正确”的答案......

我尝试向 OP 解释我的答案是基于他们在实施 user1474090 建​​议的更改时引入的错误。因此，他们应该将来自 user1474090 的答案标记为“正确”答案……而**不是**这个答案。

* * *

**原始答案**

针对您**更新的问题**，您有几个语法错误。

首先，您`<input id="position"`的格式错误，因此请更改...

```
<input id="position" type="text" name="position" size="10" value="Hellope"</input> 
```

进入以下两行**之一...**

```
<input id="position" type="text" name="position" size="10" value="Hellope"></input>
<input id="position" type="text" name="position" size="10" value="Hellope"/> 
```

其次，您的 JavaScript 函数没有右大括号`}`，因此请更改...

```
<script type="text/javascript">
  function simply(){
  var box = document.getElementById("position");
  box.value="Hello";
</script> 
```

至...

```
<script type="text/javascript">
  function simply(){
    var box = document.getElementById("position");
    box.value="Hello";
  }
</script> 
```

我还建议您将`<script>`块移动到`<head>`页面的部分，而不是成为`<body>`. 这对于它的工作并不重要，但它是在页面中包含脚本的首选方式。

我可以彻底推荐[用于 Firefox 的 FireBug](http://getfirebug.com)或使用 Chrome 和 IE8/9 中的开发人员组件（两者都使用 F12）。这些将很快让您发现这样的问题。

# watir - Watir 和 javascript 弹出窗口

> ID：11644564
> 
> 赞同：1
> 
> 时间：2012-07-25T07:19:54.203
> 
> 标签：watir

我刚刚开始学习 Watir ......我被这个困住了：

我尝试让 Watir 点击（并阅读内容）这个 javascript 弹出窗口：

[http://www.w3schools.com/js/tryit.asp?filename=tryjs_alert](http://www.w3schools.com/js/tryit.asp?filename=tryjs_alert)

我的 Watir 代码如下所示：

```
require 'watir'
b = Watir::Browser.start "www.w3schools.com/js/tryit.asp?filename=tryjs_alert"
b.maximize
b.frame(:name, "view").button(:text, "Show alert box").click
b.javascript_dialog.button('OK').click 
```

..但它不起作用，Watir 没有单击弹出窗口上的“确定”按钮。

我知道 Watir-Webdriver 可以处理弹出窗口（“browser.alert.ok”），但是“经典”的 IE-only Watir 可以做到这一点（没有任何复杂的黑客，使用 AutoIt/Sikuli 等）？

**编辑：**我能够用这一行完全删除弹出窗口：

```
b.frame(:name, "view").execute_script("window.alert = function() {}") 
```

总比没有好，现在测试不会挂在弹出窗口上，但我仍然无法确认/读取弹出窗口......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T12:55:52.230

看起来在 Watir 单击按钮打开 javascript 对话框后，它正在等待它永远不会得到的东西。

解决方案是单击带有 的按钮`click_no_wait`。试试这个：

```
require 'watir'
b = Watir::Browser.start "www.w3schools.com/js/tryit.asp?filename=tryjs_alert"
b.maximize
b.frame(:name, "view").button(:text, "Show alert box").click_no_wait
b.javascript_dialog.button('OK').click 
```

更新：刚刚注意到这记录在 Watir wiki - [http://wiki.openqa.org/display/WTR/JavaScript+Pop+Ups](http://wiki.openqa.org/display/WTR/JavaScript+Pop+Ups)（见第一个例子）。

# mysql - 如何检查数据库列中的给定名称

> ID：11644565
> 
> 赞同：0
> 
> 时间：2012-07-25T07:20:00.140
> 
> 标签：mysql, phpmyadmin

我想检查列数中存在的给定名称。我在下面发布了我的表记录结构。我想过滤给定名称的批准列表详细信息。

```
 Name      forward1   forward2    forward3   forward4  forward5  status
  Ajay      vino       arun         jose                          Approved
  Hersone   arun       jose                                       Pending
  Stefi     vino       jose         arun                          Approved
  Alex      arun       Hersone      vino                          Approved 
```

我需要具有如下批准状态的 Jose 记录：

```
 Name      forward1   forward2    forward3   forward4  forward5  status
  Ajay      vino       arun         jose                          Approved
  Stefi     vino       jose         arun                          Approved 
```

我是这个领域的新手。请帮我做这件事。对不起我的英语不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:27:31.583

```
query = select * from table_name where forward3 = 'jose' and status = 'approved' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:23:17.400

这应该有效：

```
SELECT *
FROM my_table
WHERE status= 'Approved' AND
      (forward1 LIKE '%jose%' OR  
       forward2 LIKE '%jose%' OR  
       forward3 LIKE '%jose%' OR  
       forward4 LIKE '%jose%' OR  
       forward5 LIKE '%jose%'); 
```

编辑：`WHERE condition`取决于您可以使用的完全匹配的要求`forward1 = 'jose'`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:26:04.550

请尝试以下：

```
SELECT *
FROM tableA
WHERE status= 'Approved' AND
      (forward1 ='jose' OR  forward2 ='jose' OR  forward3 ='jose' 
        OR  forward4 ='jose'  OR  forward5 ='jose'); 
```

# vba - Excel vba将字符串的粗体特定文本设置到单元格中？

> ID：11644566
> 
> 赞同：12
> 
> 时间：2012-07-25T07:20:04.363
> 
> 标签：vba, excel, excel-formula

我想在字符串中设置粗体一些文本。我该怎么做？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-25T07:26:25.373

通过使用字符。

```
Range("A1").Characters(8, 5).Font.Bold = True 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-10-01T11:55:08.117

我会说使用这个动态公式 -

```
Range("A1").Characters(worksheetfunction.find("Excel",Range("A1").value,1),len("Excel")).font.bold = True 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-02T12:25:08.873

对于需要快速修复但不习惯使用 VBA 的人的另一种方法：

1.  将单元格区域复制并粘贴到 Word 文档中（一开始看起来很乱）。
2.  转到“替换”（右上角）。
3.  在“查找内容：”字段中键入要加粗的单词，并在“替换为：”字段中键入相同的单词，然后在“替换为：”框中按 CTRL B。您应该看到“格式：字体：粗体”出现在其下方。
4.  单击全部替换，您应该会看到所有目标单词都变为粗体。
5.  将鼠标悬停在您的 Excel 文本（当前在 Word 中）上，您应该会在文本的左上方看到一个由 4 个箭头组成的小符号。单击以突出显示单元格，然后您可以将它们复制并粘贴回excel。

不是最快的方法，但如果您不熟悉 VBA 并需要快速修复，这对您有用！

不只是粗体：CTRL I 用于斜体，CTRL U 用于下划线。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-24T15:59:05.687

如果您需要加粗多个特定文本，请尝试此操作：

```
Sub Find_and_Bold()
Dim rCell As Range, sToFind As String, iSeek As Long
Dim Text(1 To 4) As String
Dim i As Integer

Text(1) = "text1"
Text(2) = "text2"
Text(3) = "text3"
Text(4) = "text4"

For Each rCell In Range("C7:C1000")
    For i = LBound(Text) To UBound(Text)
            sToFind = Text(i)
            iSeek = InStr(1, rCell.Value, sToFind)
        Do While iSeek > 0
            rCell.Characters(iSeek, Len(sToFind)).Font.Bold = True
            iSeek = InStr(iSeek + 1, rCell.Value, sToFind)
        Loop
    Next i
Next rCell

End Sub 
```

此解决方案的来源来自：[http ://www.vbaexpress.com/forum/showthread.php?52245-Make-specific-text-bold-in-cells](http://www.vbaexpress.com/forum/showthread.php?52245-Make-specific-text-bold-in-cells)

# redis - 实时分析处理系统设计

> ID：11644571
> 
> 赞同：5
> 
> 时间：2012-07-25T07:20:22.747
> 
> 标签：redis, batch-processing, distributed-computing, apache-storm, distributed-caching

我正在设计一个系统，该系统应该分析大量用户事务并生成汇总度量（例如趋势等）。该系统应该工作快速、健壮和可扩展。系统是基于java的（基于Linux）。

数据来自生成用户事务日志文件（基于 CSV）的系统。系统每分钟生成一个文件，每个文件包含不同用户的交易（按时间排序），每个文件可能包含数千个用户。

CSV 文件的示例数据结构：

10:30:01,用户 1,...
10:30:01,用户 1,...
10:30:02,用户 78,...
10:30:02,用户 2,...
10: 30:03，用户 1，...
10:30:04，用户 2，
... . .

我计划的系统应该处理文件并实时执行一些分析。它必须收集输入，将其发送到几个算法和其他系统，并将计算结果存储在数据库中。数据库不保存实际的输入记录，而只保存有关事务的高级聚合分析。例如趋势等。

我计划使用的第一个算法需要至少 10 条用户记录以实现最佳操作，如果 5 分钟后找不到 10 条记录，它应该使用任何可用的数据。

我想使用 Storm 来实现，但我更愿意尽可能将这个讨论留在设计级别。

系统组件列表：

1.  每分钟监视传入文件的任务。

2.  读取文件、解析文件并使其可用于其他系统组件和算法的任务。

3.  一个组件为用户缓冲 10 条记录（不超过 5 分钟），当收集到 10 条记录或 5 分钟过去时，是时候将数据发送到算法进行进一步处理了。由于要求为算法提供至少 10 条记录，我想到了使用 Storm Field Grouping（这意味着为同一用户调用相同的任务）并跟踪任务中 10 条用户记录的集合，当然我计划有几个这样的任务，每个处理一部分用户。

4.  还有其他组件可以处理单个事务，对于它们，我计划创建其他任务来接收每个被解析的事务（与其他任务并行）。

#3 我需要你的帮助。

设计这样一个组件的最佳实践是什么？很明显，它需要为每个用户维护 10 条记录的数据。键值映射可能会有所帮助，是在任务本身中管理映射还是使用分布式缓存更好？例如 Redis 一个键值存储（我以前从未使用过它）。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T08:57:35.133

我曾经使用过很多 redis。所以，我会评论你使用redis的想法

#3 有 3 个要求

1.  每个用户的缓冲区

2.  10 个任务的缓冲区

3.  应该每 5 分钟过期一次

**1\. 每个用户的缓冲区：** Redis 只是一个键值存储。尽管它支持多种[数据类型](http://redis.io/topics/data-types)，但它们始终是映射到 STRING 键的值。因此，您应该决定如何唯一地识别用户，以防您需要每个用户缓冲区。因为在 redis 中，当你覆盖一个新的键值时，你永远不会出错。一种解决方案可能是在写入之前检查是否存在。

**2\. 10个任务的缓冲：**你显然可以在redis中实现一个[队列。](http://redis.io/commands#list)但是限制它的大小是留给你的。例如：使用`LPUSH`和`LTRIM`或使用`LLEN`来检查长度并决定是否触发您的流程。与此队列关联的键应该是您在第 1 部分中决定的键。

**3\. Buffer Expires in 5 min：**这是一项最艰巨的任务。在 redis 中，每个键（无论其值具有何种基础数据类型）都可以具有`expiry`. 但是到期过程是沉默的。您不会在任何密钥到期时收到通知。因此，如果您使用此属性，您将默默地丢失缓冲区。解决此问题的一种方法是拥有一个索引。意味着，索引会将时间戳映射到所有需要在该时间戳值处过期的键。然后在后台您可以每分钟读取一次索引并手动从redis中删除键[读取后]并使用缓冲区数据调用您想要的进程。要拥有这样的索引，您可以查看[Sorted Sets](http://redis.io/commands#sorted_set)。时间戳将在哪里`score`设置`member`将是您希望在该时间戳删除的键[在第 1 部分中决定的每个用户的唯一键映射到队列]。您可以`zrangebyscore`读取具有指定时间戳的所有集合成员

**总体：**

使用 Redis List 实现队列。

使用 LLEN 确保您没有超过 10 的限制。

`Current Timestamp + 5 min`每当您创建一个新列表时，请使用 Score as和 Value 作为列表的键进入索引 [Sorted Set] 。

当 LLEN 达到 10 时，请记住从索引 [排序集] 和 db [删除键->列表] 中读取然后删除键。然后用数据触发您的流程。

每隔一分钟，生成当前时间戳，读取索引和每个键，读取数据，然后从数据库中删除键并触发您的进程。

这可能是我实现它的方式。可能还有其他更好的方法可以在 redis 中对数据进行建模

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-22T06:55:16.117

对于您的要求 1 和 2：[Apache Flume 或 Kafka]

满足您的要求#3：[在 Storm 中使用 Esper Bolt。在 Redis 中，为了实现这一点，您将不得不重写 Esper Logic。]

# iphone - iOS 中 JSON 解析的 ORM

> ID：11644572
> 
> 赞同：0
> 
> 时间：2012-07-25T07:20:23.363
> 
> 标签：iphone, objective-c, ios, json, orm

谁能告诉我应该如何使用 ORM 方法进行 JSON 解析？有没有可用的第三方库？或者任何网络链接，如果你们知道的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:29:17.283

在 iOS 上使用 ORM 方法的唯一解决方案是 SalesForce Mobile SDK。

> 适用于 iOS 和 Android 的 Salesforce 移动 SDK 已经为 SQLite 实现了一个称为 SmartStore 抽象的 ORM 层，它在 iOS 上使用 FMDB，在 Android 上使用 SQLCipher ( [modelVoice - 离线存储数据](http://www.modelmetrics.com/tomgersic/storing-data-offline-with-salesforce-mobile-sdk-smartstore/))。

这是我听说过如何做到这一点的唯一方法，我已经进行了相当广泛的搜索。

[您可以在此处](http://wiki.developerforce.com/page/Mobile_SDK)下载 SalesForce SDK 。

# ruby-on-rails - Rspec 最佳实践：为什么“它”应该只期待一件事？

> ID：11644578
> 
> 赞同：3
> 
> 时间：2012-07-25T07:20:48.963
> 
> 标签：ruby-on-rails, rspec, bdd

我在这张幻灯片上阅读了有关 RSpec 最佳实践 ( [http://blog.bandzarewicz.com/slides/krug-the-perfect-rspec/#19](http://blog.bandzarewicz.com/slides/krug-the-perfect-rspec/#19) ) 和许多其他地方的内容，最好的做法是只对一个期望有一个期望“它” 。例如 ：

```
describe UsersController, '#create' do
  # setup spec...
  it 'creates a new user' do
    should assign_to(:user).with(user)
    should set_the_flash
    should respond_with(:redirect)
    should redirect_to(admin_user_path(user))
  end
end 
```

# 对比

```
describe UsersController, '#create' do
  # setup spec...
  it { should assign_to(:user).with(user) }
  it { should set_the_flash }
  it { should respond_with(:redirect) }
  it { should redirect_to(admin_user_path(user)) }
end 
```

为什么最好的做法是对一个“它”只有一个期望？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T08:31:18.583

因为这种方法更适合文档。试试`rspec --format documentation`。还有另一个原因，使用`should`per `it`，您总是可以看到哪个测试失败了。

# php - 在 PHP 中模拟朋友类

> ID：11644581
> 
> 赞同：3
> 
> 时间：2012-07-25T07:21:02.840
> 
> 标签：php, private, friend, private-members

我有一个`Foo`包含许多公共和私有方法的类。其中一种方法变得相当大，我想将它分叉到一个专门用于该目的的单独类中。像这样的东西：

```
<?php

class Foo
{
  //  ...

  public function doX( $a, $b )
  {
    $x = new FooXDoer;
    $x->foo = $this;
    return $x->run( $a, $b );
  }

  //  ...
}

class FooXDoer
{
  public $foo;

  public function run( $a, $b )
  {
    // ...
  }

  // ...
} 
```

`FooXDoer`可以通过 访问`Foo`的公共方法和属性`$this->foo`。

如何在不将它们公开给已经使用的其余代码的情况下授予`FooXDoer`对私有方法和属性的访问权限？`Foo``Foo`

我是否应该创建一个单独的类`FooPrivate`，该类将私有方法作为公共的，并且`Foo`包装，然后`FooXDoer`引用它？应该`FooPrivate`叫什么？

还是我的方法完全错误？你一般如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T08:26:14.483

[如果您使用 PHP >= 5.4，特征](http://php.net/manual/en/language.oop5.traits.php)似乎可以最好地解决您的问题。

如果没有，我想到了以下解决方案：

```
class A {
    private static $allowedClasses = array('B');
    private $a = 1;

    public function __get($property) {
        $caller = debug_backtrace(false);
        if(!isset($caller[1]))
            throw new Exception('Bla bla');
        if(!in_array($caller[1]['class'], self::$allowedClasses))
            throw new Exception('Bla bla');
        return $this->$property;
    }

    public function testB() {
        $b = new B();
        $b->instA = $this;
        echo $b->getA();
    }

}

class B {
    public $instA;
    public function getA() {
        return $this->instA->a;
    }
}

class C {
    public function getA() {
        $instA = new A();
        return $instA->a;
    }
}

$a = new A();
$a->testB(); // Works ok;
$c = new C();
$c->getA(); // Throws exception here; 
```

这段代码绝对不是最佳实践:) 但是因为有可能我把它放在这里。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T08:35:14.707

PHP 没有朋友类的概念，从我读过的内容来看，我不会说这是 php 设计师的错误决定......

恕我直言，没有通用策略，因为问题或问题太广泛：需要考虑的因素太多：

*   `Foo`中需要多少个私有属性和方法`run()`？
*   从抽象的角度来看：`run()`纠缠到什么程度`Foo`？独立班真的“值得”吗？
*   你会在`FooXDoer`外面使用`Foo`吗？

**解决方案的两个想法：**

`foo`将所需的数据从to移交`fooDoer`给 value 或通过实现返回数组或对象的`compileRunData()`on`Foo`

```
public function doX( $a, $b )
{
 $x = new FooXDoer;
 $workEnvironment = $this->compileRunData();
 $x->setEnvironment( $workEnvironment );
 $x->foo = $this;
 return $x->run( $a, $b );
} 
```

或者使用继承，尤其是受保护属性的概念：

```
abstract class FooAbstract
{
 protected $_basicVar1;
 protected function basicMethod1(/*...*/) {
  //...
 }
 // ...
}

abstract class FooRunner extends FooAbstract
{
 protected $_runVar1;

 protected function runMethod1(/*...*/) {
  //...
 }

 public function run($a, $b) {
  // ...
 }
}

public class Domain_Model_Foo extends FooRunner 
{

} 
```

编辑：嘿，所以没有告诉我已经有答案了。是的，也考虑过特质，但直到现在才使用它们，所以无法真正评论它们

# wordpress - 数组中的菜单项

> ID：11644583
> 
> 赞同：1
> 
> 时间：2012-07-25T07:21:09.200
> 
> 标签：wordpress, menu

如何将菜单项（深度 = 1）放入数组中？

wp_nav_menu 输出带有 ul 和 li 元素的格式化列表。wp_list_pages 还输出带有 ul 和 li 的格式化列表。

我只想将深度为一的菜单项（标签条纹）放入数组中。

我该如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T08:08:56.560

我认为这会对您有所帮助：[**wp get nav menu items**](http://codex.wordpress.org/Function_Reference/wp_get_nav_menu_items)

```
 $menu_name = 'custom_menu_slug'; // Get the nav menu based on $menu_name (same as 'theme_location' or 'menu' arg to wp_nav_menu)

    if ( ( $locations = get_nav_menu_locations() ) && isset( $locations[ $menu_name ] ) ) {
    $menu = wp_get_nav_menu_object( $locations[ $menu_name ] );

    $menu_items = wp_get_nav_menu_items($menu->term_id);

    foreach ( (array) $menu_items as $key => $menu_item ) {
        $title = $menu_item->title;
    }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-22T05:52:56.573

谢谢@Libin

弄清楚 wp_get_nav_menu_items()

```
$menu_name = 'sidebar-menu'; //menu slug
$locations = get_nav_menu_locations();
$menu = wp_get_nav_menu_object( $locations[ $menu_name ] );
$menuitems = wp_get_nav_menu_items( $menu->term_id, array( 'order' => 'DESC' ) );

echo "<pre>";
print_r($menuitems);
echo "</pre>"; 
```

在这里，我得到了整个菜单项

我在这里找到了一个例子[http://wiki.workassis.com/wordpress-get-menu-array/](http://wiki.workassis.com/wordpress-get-menu-array/)

# objective-c - CCMenuItems 松散标签

> ID：11644584
> 
> 赞同：1
> 
> 时间：2012-07-25T07:21:15.313
> 
> 标签：objective-c, cocos2d-iphone, kobold2d

我将两个 CCMenuItemImage 对象添加到 CCMenuItemToggle 中，如下所示：

```
CCMenuItemImage *soundEnabled = [CCMenuItemImage itemWithNormalImage:@"button_sound_enabled.png"
                                                       selectedImage:@"button_sound_enabled.png"];
soundEnabled.tag = kSoundEnabled;

CCMenuItemImage *soundDisabled = [CCMenuItemImage itemWithNormalImage:@"button_sound_disabled.png"
                                                        selectedImage:@"button_sound_disabled.png"];
soundDisabled .tag = kSoundDisabled;

CCMenuItemToggle *sound = [CCMenuItemToggle itemWithItems:[NSArray arrayWithObjects:soundEnabled,soundDisabled,nil] block:^(id sender) {
  CCMenuItem *item= ((CCMenuItemToggle*).sender).selectedItem;
  CCLog(@"item tag: %d",item.tag);
}]; 
```

`kSoundEnabled`并且`kSoundDisabled`是值为 2 和 3 的枚举项。当我在创建每个 CCMenuItemImage 后记录它们的标签时，一切都很好。但是当我将它们记录在块内时，标签显示为-1061138431。

此外，当我尝试将它们记录在块之外时，只是在我层的初始化代码中更进一步，它们开始出现错误。

有人知道这里有什么问题吗？这是一个支持 Kobold2d ARC 的项目，ARC 可能是这里的问题吗？我认为这不能解释像 NSInteger 这样的简单数据类型？

我知道我可以检查`sender.selectedIndex = 0`或`sender.selectedIndex = 1`但我仍然想了解这里有什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T09:04:13.123

该问题并非来自 ARC 配置或其他配置。我用 Cocos2D 2.0 对其进行了测试，我遇到了同样的问题。我检查了来源，问题来自 CCMenuItemToggle，它更改了子项的标签以跟踪当前显示项。

我应该像这样在块中使用变量的引用：

```
CCMenuItemToggle *sound = [CCMenuItemToggle itemWithItems:[NSArray arrayWithObjects:soundEnabled,soundDisabled,nil] block:^(id sender)
{
  CCMenuItem *item= ((CCMenuItemToggle*).sender).selectedItem;
  if (item == soundEnabled)
  {
     //...
  } else
  {
     //...
  }
}]; 
```

# mysql - 在 MYSQL 查询中求和后求和

> ID：11644585
> 
> 赞同：0
> 
> 时间：2012-07-25T07:21:17.750
> 
> 标签：mysql, sum, average

当我尝试对列进行平均处理然后我想对结果求和时遇到了麻烦，我正在使用 MYSQL 来做到这一点。谁能帮我？这是不起作用的查询：

```
SUM(IF(AVG(Value)=3,1,0)) AS green 
```

完整查询：

```
SELECT
  cluster,
  SUM(IF(AVG(Value) AS Value = 3,1,0)) AS green
FROM network
WHERE date>= '2012-07-01'
    AND date<= '2012-07-02'
    AND Region = 'SOMEREG'
    AND cluster IS NOT NULL
GROUP BY cluster 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:08:19.360

只需这样做

```
SELECT
  IFNULL(cluster,'Total'),
  SUM(IF(AVG(Value) AS Value = 3,1,0)) AS green
FROM network
WHERE date>= '2012-07-01'
    AND date<= '2012-07-02'
    AND Region = 'SOMEREG'
    AND cluster IS NOT NULL
GROUP BY cluster with roll up 
```

添加汇总它将添加所有平均值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:50:41.333

您一次只能应用一个聚合函数。

同一 group by 子句的多个聚合函数没有意义。您需要创建派生表来查找平均值的总和。尝试：

```
SELECT SUM(green) AS green
FROM (
      SELECT cluster,
             IF(AVG(Value) = 3, 1, 0) AS green
      FROM network
      WHERE date BETWEEN '2012-07-01' AND '2012-07-02'
            AND Region = 'SOMEREG'
            AND cluster IS NOT NULL
      GROUP BY cluster
     ) a; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:37:45.357

```
That should not be an if, but a where in the select statement.

SELECT cluster,
SUM(Value) AS sumValue AVG(Value) AS avgValue
FROM network
WHERE date>= '2012-07-01'
AND date<= '2012-07-02'
AND Region = 'SOMEREG'
AND ((AVG(Value) = 3) OR (AVG(Value) = 1) OR (AVG(Value) = 0))
AND cluster IS NOT NULL
GROUP BY cluster 
```

# android - android Admob 6 几个一般问题

> ID：11644586
> 
> 赞同：0
> 
> 时间：2012-07-25T07:21:25.037
> 
> 标签：android, admob

我正在尝试将 admob 6 与我的应用程序集成并遇到一些问题。

起初我无法让我的应用程序使用新的 admob 6 进行编译。我有

```
configchanges="keyboard|keyboardhidden|orientation" 
```

logcat 抱怨缺少属性。所以，configchanges 变成了：

```
<activity android:name="com.google.ads.AdActivity" 
         android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/> 
```

然后，我无法编译它！因为我为 android 1.6 设置了目标构建。我设法通过将目标构建更改为我安装的最新 sdk 版本来编译它：4.0.3。

但现在事情就是这样，除了安装了 android 4.0.3 的模拟器之外，我无法将我的应用程序部署到任何模拟器！具体来说，我有 5-6 个模拟器，它们都有不同的 android 版本和屏幕尺寸进行测试。我有 android 1.6、2.2、galaxy tab、android 4.0.3 等的模拟器……但现在我只能看到 android 4.0.3！

我希望我的应用程序能够在 android 1.6 及更早版本上运行！在阅读了很多之后，我看到了：minsdkVersion 和 targetsdkversion。minsdkversion 设置为 4，targetsdkversion 设置为 12！

但仍然。我只能部署到 android 4.0.3 模拟器。是什么赋予了？？如何在以前的版本上测试我的应用程序？？？？

请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T19:11:27.480

You can create different emulators to test different devices. As you have noticed you should set targetSDKVersion to 12 or more in order to compile. In order to accommodate older devices with older android version, you can set minSDKVersion to whatever you prefer.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-03T09:26:29.143

通过将模拟器设置为手动选择来解决。尽管它部署了一个红色的 X。

# jquery - 查找绑定函数的类名

> ID：11644589
> 
> 赞同：3
> 
> 时间：2012-07-25T07:21:27.810
> 
> 标签：jquery, html

假设我在“myClass”上使用每个函数

```
jQuery('.myClass').each(function(){

......

}); 
```

我的 HTML 代码是

```
<div class="myClass class2 class3 "></div> 
```

我的问题在上面的 jquery 中每个函数我想获得触发每个函数的类“myclass”的名称。如果我使用`jQuery(this).attr('class')`我得到整个类列表，如“myClass class2 class3”

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:40:00.460

有

```
console.log($(".myClass").selector); // outputs .myClass 
```

但它不会在里面工作`.each()`。

您将不得不求助于一个简单的变量来将选择器传递给函数：

```
var selector = ".myClass";

$(selector).each(function () {
   console.log(selector); // outputs ".myClass"
}); 
```

阅读下面的评论后，您可以执行以下操作：

```
for(var i=1; i<10; i++) {
  var selector = ".myClass" + i;
  $(selector).each( function() {
     console.log(i) // will output the value of `i` at the time .each() was called
  });
} 
```

# c# - 在基于 WPF ResourceDictionary 的窗口中获取窗口对象

> ID：11644592
> 
> 赞同：-1
> 
> 时间：2012-07-25T07:21:38.497
> 
> 标签：c#, wpf, resize, window, ownerdrawn

在 VS2008 中，我在我的解决方案中添加了一个资源字典模板，我将此模板命名为“MyWinStyle.xaml”。以下是我的窗口中使用的样式：......

```
<!--Window Template-->
<ControlTemplate x:Key="MyWindowTemplate" TargetType="{x:Type Window}">
.....
</ControlTemplate>

<!--Window Style-->
<Style x:Key="MacWindowStyle" TargetType="Window">
    ....
    <Setter Property="Template" Value="{StaticResource MyWindowTemplate}" />
</Style>

</ResourceDictionary> 
```

这是我的XMAL代码，当我想添加使ownerdraw窗口可调整大小的函数时，我遇到了一个问题，就是我无法在其构造函数中获取Window对象。（基于这篇文章，我想做我的窗口可调整大小：[http](http://blog.kirupa.com/?p=256) ://blog.kirupa.com/?p=256 ）下面是我的代码：

```
public partial class MyStyledWindow : ResourceDictionary
{
    private const int WM_SYSCOMMAND = 0x112;
    private HwndSource hwndSource;
    IntPtr retInt = IntPtr.Zero;

    public MacStyledWindow()
    {
        InitializeComponent();
        /**
         **Would anyone suggest on this? I can't get window object
         **/
Window.SourceInitialized += new EventHandler(MainWindow_SourceInitialized);
    }

    private void MainWindow_SourceInitialized(object sender, EventArgs e)
    {
        hwndSource = PresentationSource.FromVisual((Visual)sender) as HwndSource;
        hwndSource.AddHook(new HwndSourceHook(WndProc));
    }

    private IntPtr WndProc(IntPtr hwnd, int msg, IntPtr wParam, IntPtr lParam, ref bool handled)
    {
        Debug.WriteLine("WndProc messages: " + msg.ToString());
        //
        // Check incoming window system messages
        //
        if (msg == WM_SYSCOMMAND)
        {
            Debug.WriteLine("WndProc messages: " + msg.ToString());
        }

        return IntPtr.Zero;
    }

    public enum ResizeDirection
    {
        Left = 1,
        Right = 2,
        Top = 3,
        TopLeft = 4,
        TopRight = 5,
        Bottom = 6,
        BottomLeft = 7,
        BottomRight = 8,
    }

    [DllImport("user32.dll", CharSet = CharSet.Auto)]
    private static extern IntPtr SendMessage(IntPtr hWnd, uint Msg, IntPtr wParam, IntPtr lParam);

    private void ResizeWindow(ResizeDirection direction)
    {
        SendMessage(hwndSource.Handle, WM_SYSCOMMAND, (IntPtr)(61440 + direction), IntPtr.Zero);
    }

    private void ResetCursor(object sender, MouseEventArgs e)
    {
        var window = (Window)((FrameworkElement)sender).TemplatedParent;
        if (Mouse.LeftButton != MouseButtonState.Pressed)
        {
            window.Cursor = Cursors.Arrow;
        }
    }

    private void Resize(object sender, MouseButtonEventArgs e)
    {
        Rectangle clickedRectangle = sender as Rectangle;
        var window = (Window)((FrameworkElement)sender).TemplatedParent;
        switch (clickedRectangle.Name)
        {
            case "top":
                window.Cursor = Cursors.SizeNS;
                ResizeWindow(ResizeDirection.Top);
                break;
            case "bottom":
                window.Cursor = Cursors.SizeNS;
                ResizeWindow(ResizeDirection.Bottom);
                break;
            case "left":
                window.Cursor = Cursors.SizeWE;
                ResizeWindow(ResizeDirection.Left);
                break;
            case "right":
                window.Cursor = Cursors.SizeWE;
                ResizeWindow(ResizeDirection.Right);
                break;
            case "topLeft":
                window.Cursor = Cursors.SizeNWSE;
                ResizeWindow(ResizeDirection.TopLeft);
                break;
            case "topRight":
                window.Cursor = Cursors.SizeNESW;
                ResizeWindow(ResizeDirection.TopRight);
                break;
            case "bottomLeft":
                window.Cursor = Cursors.SizeNESW;
                ResizeWindow(ResizeDirection.BottomLeft);
                break;
            case "bottomRight":
                window.Cursor = Cursors.SizeNWSE;
                ResizeWindow(ResizeDirection.BottomRight);
                break;
            default:
                break;
        }
    }

    private void DisplayResizeCursor(object sender, MouseEventArgs e)
    {
        Rectangle clickedRectangle = sender as Rectangle;
        var window = (Window)((FrameworkElement)sender).TemplatedParent;
        switch (clickedRectangle.Name)
        {
            case "top":
                window.Cursor = Cursors.SizeNS;
                break;
            case "bottom":
                window.Cursor = Cursors.SizeNS;
                break;
            case "left":
                window.Cursor = Cursors.SizeWE;
                break;
            case "right":
                window.Cursor = Cursors.SizeWE;
                break;
            case "topLeft":
                window.Cursor = Cursors.SizeNWSE;
                break;
            case "topRight":
                window.Cursor = Cursors.SizeNESW;
                break;
            case "bottomLeft":
                window.Cursor = Cursors.SizeNESW;
                break;
            case "bottomRight":
                window.Cursor = Cursors.SizeNWSE;
                break;
            default:
                break;
        }
    }

    private void Drag(object sender, MouseButtonEventArgs e)
    {
        var window = (Window)((FrameworkElement)sender).TemplatedParent;
        window.DragMove();
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:11:01.630

为什么要使用 ResourceDictionary 作为窗口的基类？将您的基类更改为 Window，您将能够订阅 SourceInitialized 事件。那是：

```
 public partial class MyStyledWindow : Window
    {
    //other code 
```

# c# - 使用 SMO 在 SQL Server Express 中创建数据库

> ID：11644603
> 
> 赞同：3
> 
> 时间：2012-07-25T07:22:32.730
> 
> 标签：c#, sql-server-2008, smo

我正在尝试使用 WinForms 和 C# 在 SQL Server Express 中创建数据库

这是我想要做的

```
Microsoft.SqlServer.Management.Smo.Server srv = new Microsoft.SqlServer.Management.Smo.Server srvServer();
int i = srv.Databases.Count; 
```

只是为了在开始时得到计数。但我得到了错误

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。
> 验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。
> （提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）这是堆栈跟踪
> 
> 在 Microsoft.SqlServer.Management.Common.ConnectionManager.Connect()
> 在 Microsoft.SqlServer.Management.Common.ConnectionManager.get_ServerVersion()
> 在 Microsoft.SqlServer.Management.Smo.ExecutionManager.GetServerVersion()
> 在 Microsoft.SqlServer.Management.Smo .SqlSmoObject.GetDbComparer(Boolean inServer)
> 在 Microsoft.SqlServer.Management.Smo.SqlSmoObject.InitializeStringComparer()
> 在 Microsoft.SqlServer.Management.Smo.AbstractCollectionBase.get_StringComparer()
> 在 Microsoft.SqlServer.Management.Smo.SimpleObjectCollectionBase.InitInnerCollection()
> 在 Microsoft.SqlServer.Management.Smo.SmoCollectionBase.get_InternalStorage()
> 在 Microsoft.SqlServer.Management.Smo.SmoCollectionBase.InitializeChildCollection(Boolean refresh)
> 在 Microsoft.SqlServer.Management.Smo.SmoCollectionBase.get_Count()
> 在 CreateDB.CreateDB.btnCreateDB_Click(Object sender, EventArgs e) 在 C:\Users\Guest1 \Downloads\CreateDB\CreateDB\CreateDB.cs：第 82 行

应该做什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T07:30:24.723

如果您使用的是 SQL Server **Express**，并且您已经安装了所有默认值，那么您的服务器实例将被调用`.\SQLEXPRESS`。您需要在代码中使用它：

```
using Microsoft.SqlServer.Management.Smo;

Server srv = new Server(".\\SQLExpress");
int i = srv.Databases.Count; 
```

如果您在未指定实例名称的情况下创建新`Server`实例，它会尝试连接到**默认实例**（没有名称）——如果您只安装了 SQL Server Express，则您没有该实例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T07:28:07.887

首先使用`SqlConnection`对象进行连接。你应该做这个

```
SqlConnection conn = new SqlConnection(@"Data Source=.\SQLExpress;Initial Catalog=master;Integrated Security=True");
Microsoft.SqlServer.Management.Smo.Server server = new Microsoft.SqlServer.Management.Smo.Server(new ServerConnection(conn));
int i = server.Databases.Count; 
```

# jsf - EJB 在来自附加 faces-config 的托管 bean 中为空

> ID：11644604
> 
> 赞同：0
> 
> 时间：2012-07-25T07:22:34.560
> 
> 标签：jsf, ejb, jsf-1.2, faces-config

谁能告诉我为什么当我在一些额外的 faces-config 中声明一个托管 bean 时，这个 bean 中的 EJB 没有被初始化，即它是空的，没有任何错误，只是空的？
web.xml 有以下几行：

```
<context-param>
    <param-name>javax.faces.CONFIG_FILES</param-name>
    <param-value>/WEB-INF/faces-config-navigation.xml, /WEB-INF/faces-config-custom.xml</param-value>
</context-param> 
```

因此，当我将 bean 放入 faces-config-custom.xml 时，EJB 未初始化，但当我将其放入主 faces-config.xml 时，一切正常。请注意，托管 bean 本身可以正常工作：页面可以看到它，调用它的方法没有问题，但我不能在其中使用 EJB，因为它始终为空。
PS我用@EJB注解注入EJB。

# ruby-on-rails - Rails 3.2.3 - 如何设置路线

> ID：11644605
> 
> 赞同：0
> 
> 时间：2012-07-25T07:22:35.407
> 
> 标签：ruby-on-rails

这是我需要在 Rails 应用程序中的 url

```
site.com
site.com/page/11

site/tags/my_tag
site/tags/my_tag/page/123 
```

其中`page`和`tags`是 的动作`HomeController`。那么`routes.rb`在这种情况下文件应该是什么样子的呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T20:46:29.783

您可能应该从以下内容开始：

```
match '/page', :to => 'home#page'
match '/tags', :to => 'home#tags' 
```

# sql - 具有多个条件的 Sql 查询，但某些项目在某些表中不可用

> ID：11644609
> 
> 赞同：1
> 
> 时间：2012-07-25T07:22:42.333
> 
> 标签：sql, oracle

当我尝试加入此树表并获取数据时，我遇到了 sql 查询问题。我正在使用 Oracle 数据库。

```
Personal

id_no   name
-------------    
0001    John
0002    Peter
0003    Mike

position
id_no  name
-------------
0001  programmer
0002  Engineer
0003  Clerk

extra_skill
employee_id    skill
--------------------------
0001         Visual Studio 2008
0003         Crystal Report 
```

要求：显示员工的详细信息：

例子：

```
Employee No : 0001
Employee Name : John
Employee Position : Programmer
Employee Skill : Visual Studio 2008 
```

我的sql语句是

```
SELECT a.id_no, a.name, b.name, c.skill
  FROM personal a, POSITION b, extra_skill c
 WHERE a.id_no = b.id_no
   AND b.id_no = c.employee_id
   AND c.employee_id = "USER INPUT"; 
```

问题是什么时候

```
SELECT a.id_no, a.name, b.name, c.skill
  FROM personal a, POSITION b, extra_skill c
 WHERE a.id_no = b.id_no
   AND b.id_no = c.employee_id
   AND c.employee_id = "0002"; 
```

这个查询给我NULL，因为在表extra_skill 没有0002。

我希望即使在第三张表中也能获取数据，没有任何价值。

```
Expected result:
  Employee No : 0002
  Employee Name : Peter
  Employee Position : Engineer
  Employee Skill : 
```

如何实现这样的查询？

非常感谢您的关注和帮助。谢谢你，西蒂.. :)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:49:23.937

做到这一点的方法是使用外部连接。我在这个例子中使用了 ANSI 连接语法（在 Oracle 9i 中引入），因为它更清晰，而且 Oracle 现在也推荐使用它。

```
SELECT a.id_no, a.name, b.name as position, c.skill 
  FROM personal a INNER JOIN position b
        on (a.id_no = b.id_no )
      LEFT OUTER JOIN extra_skill c 
       on ( a.id_no = c.employee_id )
WHERE a.id_no = '0002'; 
```

请注意，我已将过滤条件更改为在 PERSONAL.ID 上进行选择。如果您尝试使用`c.employee_id = '0002'`（就像您在问题中所做的那样），您将不会返回任何行。

* * *

您可以在连接条件中包含 EXTRA_SKILLS.EMPLOYEE_ID 而不是 WHERE 子句。

```
SELECT a.id_no, a.name, b.name as position, c.skill  
FROM personal a INNER JOIN position b 
    on (a.id_no = b.id_no ) 
  LEFT OUTER JOIN extra_skill c  
   on ( a.id_no = c.employee_id  
        and c.employee_id = '0002'); 
```

通常在连接部分包含过滤器并不被认为是好的做法，因为它会以我们意想不到的方式影响结果集。在您的情况下，它将返回 PERSONAL 和 POSITION 中的每一行，并且没有来自 EXTRA_SKILL 的值。这可能不是你想要发生的。这是[一个 SQL Fiddle 来证明它](http://sqlfiddle.com/#!4/bcdf5/15)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-25T07:41:12.200

您将不得不使用外部联接。外连接的目的是包括不匹配的行，外连接将这些缺失的列作为 NULL 值返回。

```
SELECT a.id_no, a.name, b.name, c.skill
  FROM personal a, POSITION b, extra_skill c
WHERE a.id_no = b.id_no
AND b.id_no = c.employee_id
AND c.employee_id(+) = "USER INPUT"; 
```

# android - 如何在 Worklight 中调用存储过程

> ID：11644613
> 
> 赞同：1
> 
> 时间：2012-07-25T07:22:55.773
> 
> 标签：android, jquery-mobile, ibm-mobilefirst

我刚刚开始研究 IBM Worklight。我运行了一个 SQL Adapter ，它使用该过程从数据库中获取数据并以 JSON 格式显示。但是我想在我的 HTML 文件中使用该存储过程来在我的前端 UI 中显示记录。请给我任何建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T22:54:02.653

编写并测试适配器后，您可以使用以下语法从应用程序调用适配器：

```
function getData() {
var invocationData = {
        adapter : 'ADAPTER_NAME',
        procedure : 'PROCEDURE_NAME',
        parameters : []
    };

WL.Client.invokeProcedure(invocationData,{
    onSuccess : getDataSuccess,
    onFailure : getDataFailure,
});
} 
```

OnSuccess（当数据返回到应用程序时）调用（在此示例中）名为 getDataSuccess 的函数。此函数将接收从 Worklight 服务器返回的 JSON 数据。

onFailure 调用（在本示例中）名为 getDataFailure 的函数，该函数将接收从 Worklight 服务器发送的错误。

有关更多信息，请查看[模块 6 - 从客户端应用程序调用适配器过程 (PDF, 370KB)](http://public.dhe.ibm.com/ibmdl/export/pub/software/mobile-solutions/worklight/docs/Module_06_-_Invoking_Adapter_Procedures_from_the_Client_Applications.pdf)以及[练习和代码示例 (ZIP, 53.7KB)](http://public.dhe.ibm.com/ibmdl/export/pub/software/mobile-solutions/worklight/docs/module_06_0_EngadgetReader.zip)

# linux - 我无法从 Mono 网站找到 RHEL 5.5 的 Mono 设置，任何人都可以指导我

> ID：11644614
> 
> 赞同：0
> 
> 时间：2012-07-25T07:22:59.180
> 
> 标签：linux, for-loop, mono, system, installation

我是 linux 和 mono 的新手，但我想了解如何使用 apache 在 RHEL 中运行 asp.net 应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:29:15.697

你在 RHEL 中安装了 apache 吗？

如果没有，您可以通过从 RHEL 的终端控制台安装 apache 并输入：

# 百胜安装阿帕奇*

创建文件“/etc/yum.repos.d/mono.repo”并添加以下行：

```
[Mono]
name=Mono Stack (RHEL_5)
type=rpm-md
baseurl=http://download.opensuse.org/repositories/Mono/RHEL_5/
gpgcheck=1
gpgkey=http://download.opensuse.org/repositories/Mono/RHEL_5/repodata/repomd.xml.key
enabled=1 
```

之后，打开您的终端并输入：

# 百胜安装单完整

# c# - 如何使用 ServiceThrottling 调整 WCF 服务以获得更好的性能

> ID：11644616
> 
> 赞同：5
> 
> 时间：2012-07-25T07:23:07.623
> 
> 标签：c#, .net, wcf

我是 WCF 服务的新手。

我们有一个监听 MSMQ 的服务。服务的 maxConcurrentInstances 和 maxConcurrentSessions 设置为 1。这导致队列中有大量消息，并且消息服务缓慢。

***serviceThrottling 元素中的maxConcurrentInstances***和 **maxConcurrentSessions** 属性有什么区别。

目前，服务 120 条消息需要 10 分钟，这非常慢。

什么应该是提高服务性能的理想值。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:34:47.237

maxConcurrentInstances：无论并发模式和实例上下文模式如何，可以同时服务请求的服务类的最大实例数。

maxConcurrentSessions：同时活动的 WCF 会话的最大数量。

* * *

**假设并发模式设置为 NO 多线程。**

```
IF Instance context mode = Per session 
   THEN  Max number of requests processed in parallel = Min(maxConcurrentInstances, maxConcurrentSessions)

IF Instance context mode = Per call 
   THEN Max number of requests processed in parallel = maxConcurrentInstances

IF Instance context mode = Single 
   THEN Max number of requests processed in parallel = 1 
```

**假设并发模式设置为多线程。**

单个实例现在可以处理多个请求，但您必须处理并发问题。

* * *

重要的问题是：**如何选择实例上下文模式？**

*   你对多线程编程没有信心：坚持**PerSession**或**PerCall**
*   您不需要在来自同一客户端的调用之间将数据保持在服务级别：**避免 PerSession**
*   创建服务的新实例成本非常高：使用**Single**但要准备好处理并发问题。

之后就是调整最大实例数（对于 PerCall）和会话数（对于 PerSession）。通常，您首先将其设置为任意数字，例如 100，然后查看它是否会使事情变得更快。如果是这样，那很好。如果没有，请检查您的实例是否足够快地创建。

# r - 操作 xtable() 输出

> ID：11644617
> 
> 赞同：3
> 
> 时间：2012-07-25T07:23:08.540
> 
> 标签：r, latex

我正在尝试使用 打印[此](http://dl.dropbox.com/u/1791181/xtable.csv)表`xtable()`，如下所示：

```
 X            B.1            B.2            B.3
1        (Intercept) -1.669 (0.093) -1.701 (0.094) -1.774 (0.121)
2          SEXFemale  -0.46 (0.023)  -0.386 (0.04)  -0.274 (0.17)
3    SEXFemale:BLACK                                0.132 (0.163)
4    SEXFemale:ASIAN                               -0.063 (0.089)
5 SEXFemale:HISPANIC                               -0.128 (0.074) 
```

但我想覆盖第一列的打印方式。是否可以在其中包含乳胶命令`xtable()`或其他一些功能来执行此操作？具体来说，我希望第一列是：

```
 X
Male: Female
Female X Black
       X Asian
       X Hispanic 
```

即我想`\phantom{}`在列中写入一个开关，以便间距正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-26T16:13:09.730

您可以在调用**之前**使用正则表达式将 插入`\phantom{}`到您的表中：**`xtable()`**

 **重新创建您的数据：

```
x <- structure(list(X = structure(c(1L, 2L, 4L, 3L, 5L), .Label = c("(Intercept)", 
                                                                    "SEXFemale", "SEXFemale:ASIAN", "SEXFemale:BLACK", "SEXFemale:HISPANIC"
), class = "factor"), B.1 = structure(c(3L, 2L, 1L, 1L, 1L), .Label = c("", 
                                                                        "-0.46 (0.023)", "-1.669 (0.093)"), class = "factor"), B.2 = structure(c(3L, 
                                                                                                                                                 2L, 1L, 1L, 1L), .Label = c("", "-0.386 (0.04)", "-1.701 (0.094)"
                                                                                                                                                 ), class = "factor"), B.3 = structure(c(4L, 3L, 5L, 1L, 2L), .Label = c("-0.063 (0.089)", 
                                                                                                                                                                                                                         "-0.128 (0.074)", "-0.274 (0.17)", "-1.774 (0.121)", "0.132 (0.163)"
                                                                                                                                                 ), class = "factor")), .Names = c("X", "B.1", "B.2", "B.3"), class = "data.frame", row.names = c(NA, 
                                                                                                                                                                                                                                                  -5L)) 
```

正则表达式：

```
x$X <- gsub("SEXFemale:", "\\\\phantom{Female} X ", x$X)
x$X <- gsub("SEXFemale", "Female", x$X)

library(xtable)
xx <- print(xtable(x), print.results = FALSE, include.rownames = FALSE,
        sanitize.text.function=function(x)x)
cat(xx) 
```

结果文本：

```
% latex table generated in R 2.15.0 by xtable 1.7-0 package
% Thu Jul 26 17:10:05 2012
\begin{table}[ht]
\begin{center}
\begin{tabular}{llll}
  \hline
X & B.1 & B.2 & B.3 \\ 
  \hline
(Intercept) & -1.669 (0.093) & -1.701 (0.094) & -1.774 (0.121) \\ 
  Female & -0.46 (0.023) & -0.386 (0.04) & -0.274 (0.17) \\ 
  \phantom{Female} X BLACK &  &  & 0.132 (0.163) \\ 
  \phantom{Female} X ASIAN &  &  & -0.063 (0.089) \\ 
  \phantom{Female} X HISPANIC &  &  & -0.128 (0.074) \\ 
   \hline
\end{tabular}
\end{center}
\end{table} 
```

最后的输出：

![在此处输入图像描述](../Images/b3017e15889a55dd41e2aaabaf13b0fa.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T15:47:38.920

好的，这是一种方法。

```
# dummy example to get ANOVA table
ctl <- c(4.17,5.58,5.18,6.11,4.50,4.61,5.17,4.53,5.33,5.14)
trt <- c(4.81,4.17,4.41,3.59,5.87,3.83,6.03,4.89,4.32,4.69)
group <- gl(2,10,20, labels=c("Ctl","Trt"))
weight <- c(ctl, trt)
lm.D9 <- lm(weight ~ group)

# print xtable into a character
x <- print(xtable(lm.D9), print.results = FALSE) 
```

我在这里所做的是找到特定的单词并将它们包装成`\emph{}`. 您可以做的是将其替换为特定文本或包装在您的自定义开关中。

```
x <- sub("(\\(Intercept\\))", "\\\\emph{\\1}", x)
x <- sub("(groupTrt)", "\\\\emph{\\1}", x)
cat(x)

% latex table generated in R 2.15.1 by xtable 1.7-0 package
% Thu Jul 26 17:41:16 2012
\begin{table}[ht]
\begin{center}
\begin{tabular}{rrrrr}
  \hline
 & Estimate & Std. Error & t value & Pr($>$$|$t$|$) \\ 
  \hline
\emph{(Intercept)} & 5.0320 & 0.2202 & 22.85 & 0.0000 \\ 
  \emph{groupTrt} & -0.3710 & 0.3114 & -1.19 & 0.2490 \\ 
   \hline
\end{tabular}
\end{center}
\end{table} 
```

![在此处输入图像描述](../Images/53b451f0da656def516fd12e4d703f82.png)**

# math - 分布模式（纹理）和斜坡数学？

> ID：11644619
> 
> 赞同：1
> 
> 时间：2012-07-25T07:23:10.963
> 
> 标签：math, textures, hlsl

我正在尝试实现如下所示的斜坡效果：（ [来源：][[splashdamage.com](http://wiki.splashdamage.com/upload/d/d4/Simplemega_dist_ramps.jpg)][）][![](../Images/0962fc6e1a81c5f973d64aa8ea6af880.png)](https://i.stack.imgur.com/1Bf0X.jpg)

基于分布模式混合纹理很容易。基本上，就是这个（HLSL）：

```
Result = lerp(SampleA, SampleB, DistributionPatternSample); 
```

哪个有效，但没有坡道。 [http://aaronm.nuclearglory.com/private/stackoverflow/result1.png](http://aaronm.nuclearglory.com/private/stackoverflow/result1.png)

我的第一个猜测是加入“斜坡因子”我可以这样做：

```
Result = lerp(A, B, (1.0f - Ramp)*Distribution); 
```

但是，这不起作用，因为如果 Ramp 也是 1.0，则结果将为零，导致只使用“A”。这就是当 Ramp 为 1.0f 时使用该方法得到的结果：http: [//aaronm.nuclearglory.com/private/stackoverflow/result2.png](http://aaronm.nuclearglory.com/private/stackoverflow/result2.png)

我试图将斜坡与分布相乘，这显然是不正确的。（认为​​值得一试并尝试发现有趣的效果。没有发现有趣的效果。）

我还尝试从分布中减去斜坡，如下所示：

```
Result = lerp(A, B, saturate(Distribution - Ramp)); 
```

但问题在于渐变是为了控制混合的锐度。所以，这也没有真正做任何事情。

我希望有人能告诉我我需要做什么才能在数学上做到这一点。我试图避免分支，因为这是着色器代码。我可以通过将结果相乘来模拟分支，但我不想这样做。我也希望有人可以向我解释为什么数学是以锐度的方式制定的。在不知道如何使用数学的情况下乱扔数学可能会很麻烦。

对于上下文，该顶部图像是从这里拍摄的： [http://wiki.splashdamage.com/index.php/A_Simple_First_Megatexture](http://wiki.splashdamage.com/index.php/A_Simple_First_Megatexture)

我了解 MegaTextures（剪辑贴图方法）和虚拟纹理（更高级的方法）如何工作得很好。所以我不需要任何解释。我只是想在着色器中实现这种特殊的混合。

作为参考，这是我正在使用的分布模式纹理。
[http://aaronm.nuclearglory.com/private/stackoverflow/distribution.png](http://aaronm.nuclearglory.com/private/stackoverflow/distribution.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T01:35:26.843

它们的斜坡宽度本质上只是分布图上的对比度变化。一个粗略的版本是一个简单的重新缩放和钳位。

我们想要保留的是 0.5 映射到 0.5，并且纹理在宽度为 w 的区域上从 0 变为 1。

这给

```
x = 0.5 + (x-0.5)/w 
```

这意味着最终的 HLSL 将如下所示：

```
Result = lerp(A, B, clamp( 0.5 + (Distribution-0.5)/w, 0, 1) ); 
```

现在，如果这最终在边缘看起来参差不齐，您可以切换到使用平滑步。在这种情况下，你会得到

```
Result = lerp(A, B, smoothstep( 0.5 + (Distribution-0.5)/w, 0, 1) ); 
```

然而，这里要记住的一件事是，这种类型的阈值处理最适合平滑分布模式。我不确定你的是否足够光滑（除非那是大型纹理的小版本，在这种情况下你可能没问题。）

# php - 阻止用户提交应用程序以外的请求

> ID：11644620
> 
> 赞同：1
> 
> 时间：2012-07-25T07:23:11.790
> 
> 标签：php, security

实际上，我有一个收集信息并继续进行的登录表单。

现在我想确保只接收来自我的服务器提供的登录页面的请求，而不是任何其他使用相同参数访问我的 url 的页面。

提前感谢您的启发。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:27:13.927

最简单的方法——无论你的开发环境是什么——都是在登录时设置一个会话变量，然后让你的 servlet 检查那个特定的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:44:00.660

In the login page:

```
<input type='hidden' name='access' value='granted'/> 
```

In the page your login form redirects

```
if(isset($_POST)&&($_POST['access']=='granted')){
session_start();
$_SESSION['access']='granted'
} 
```

On every page you want to control(except login):

```
if ($_SESSION['access']!='granted'){
die "Request denied!";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T15:38:56.633

一个快速的解决方案是跟踪每个表单提交。

当您显示带有表单的页面时，您会在数据库表中添加一行：

```
submission_id | token | expire | 
```

然后在您放置的页面中（在隐藏字段中，或在表单的操作中）submission_id。

当您收到表单的帖子时，您可以做所有您需要的检查（常见的有：每个submission_id只提交1个，过期时间）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:25:48.353

可能有更好的方法，但这样的事情应该可以完成

```
if ($_SERVER["PHP_SELF"] == 'mydomain.com') {
    // do some stuff
} else {
    die "requests from external servers are denied!";
} 
```

另请查看此链接以获取有关 CSRF 漏洞利用以及如何防止它们的良好解释：[http ://en.wikipedia.org/wiki/Cross-site_request_forgery#Prevention](http://en.wikipedia.org/wiki/Cross-site_request_forgery#Prevention)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-25T15:29:50.143

您可以在登录表单页面中发出某种一次性票证，然后在发送表单提交时检查它。

一个简单的例子是在登录页面请求的会话中设置一个标志。稍后提交表单时，您检查是否设置了标志。如果已设置，则允许处理并取消设置，因此无法再次使用。

请注意，这只会在提交之前强制请求登录表单。但它并不能阻止任何类型的攻击，如自动请求或跨站点请求伪造攻击，如果这是您想要完成的。

# sql - FILESTREAM/FILETABLE 实施说明

> ID：11644623
> 
> 赞同：5
> 
> 时间：2012-07-25T07:23:19.480
> 
> 标签：sql, filestream, filetable

最近，我们的团队正在研究 FILESTREAM 以扩展我们专有应用程序的功能。这个应用程序的主要目的是管理我们制造的所有零件的各种 PDF、图像和文档。我们的 ASP 应用程序使用一些第三方工具来允许查看这些文件。我们目前在 Fileserver 上有 980GB 的数据。我们在 SQL Server 中有大约 200GB 的二进制数据，我们想要提取这些数据，因为它表现不佳，因此 FILESTREAM 似乎是对两个主要数据存储/访问问题的一个很好的折衷方案。

有几件事对我们来说并不完全清楚：

1.  FILESTREAM 可以或不能将其数据存储在非本地连接的驱动器上。我们已经有一个带有 RAID 10（1.5TB 驱动器）的文件服务器。此服务器现在存储所有文档，我们是否必须将这些驱动器移动到 SQL Server 以用于 FILESTREAM？这将是一颗难以忍受的子弹，因为该服务器还兼作应用服务器（一台物理服务器上的两个 VM）。

2.  FILETABLE 存储有关文件的通用元数据，但它的全文部分存储在哪里以允许搜索像 doc/docx 这样的文件？这是分开的吗？你可以自由地添加条件来搜索吗？如果是这样，任何澄清的链接将不胜感激。

3.  可以使用外键在另一个表中引用 FILETABLE 吗？

先感谢您

编辑：对于那些有这些问题的人，这个网络视频涵盖了所有内容以及更多关于解释 2008 年到 2012 年的文件流以及需要考虑的注意事项（如果可以的话，我会认真地代表他）：[http ://channel9.msdn.com/Events /TechDays/Techdays-2012-the-Netherlands/2270](http://channel9.msdn.com/Events/TechDays/Techdays-2012-the-Netherlands/2270)

总之，我们不会使用 FILESTREAM，因为这将是一种巨大的热潮来适应投资。

编辑2：

更新到 #1 - 在仔细评估 FileTable 和 FILESTREAM 之后，我们得到了一个成功的组合。我们确实必须将文件移动到新服务器上（因为它们在同一个 VM 上，所以并不痛苦）。老实说，编写提取工具将 SQL 中的二进制数据转储到文件系统中需要更多时间。

更新到 #2 - 这是单独的，但 Bob 再次举办了一场精彩的网络研讨会来解释这一点：[http ://channel9.msdn.com/Events/TechEd/Europe/2012/DBI411](http://channel9.msdn.com/Events/TechEd/Europe/2012/DBI411)

更新到 #3 - 使用 TFT 继承​​，我们回收了我们拥有的 Docs 表（减去巨大的二进制 blob），这需要对我们的旧应用程序进行很少的更改。这对开发团队来说是一个巨大的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T15:35:50.507

为 FileTables 存储文件的位置必须是本地的，或者至少必须在 SQL Server 看来是本地的，因此聪明的 san 驱动程序可能会欺骗它。由于 FileTables 的东西是建立在 FILESTREAM 的东西上的，我想这些限制是一样的。

[文件表的搜索是通过MSDN](http://msdn.microsoft.com/en-us/library/ms189760.aspx)上记录的 containstable 函数完成的，搜索条件使用与 FULLTEXT 搜索 AFAIK 相同的语法。

出于所有意图和目的，FileTable 是一个典型的表，因此可以连接、搜索或其他任何方式。唯一的事情是您必须使用 sql server 的某些功能才能将 FILESTREAM guid 更改为更有用的东西，例如文件路径。

# qt - Qt : 使用 QCoreApplication::sendEvent( this, &click) 自动鼠标点击 X,Y 位置；不管用

> ID：11644624
> 
> 赞同：0
> 
> 时间：2012-07-25T07:23:19.183
> 
> 标签：qt

我在 MianWindow 上有两个 PushButton，名为**CreateEvent**和**Rcreate**，我想在*按下***Rcreate**按钮时执行**CreateEvent**按钮的 on_CreateEvent_pressed() 事件。

 ***我在 Source 下面使用但它不起作用。谢谢

## 主窗口.cpp

```
void MainWindow::on_CreateEvent_clicked()
{
 QMessageBox::information(this,"Mouse Clicked", "This is Mouse Clicked Event");
}

void MainWindow::on_CreateEvent_pressed()
{
 QMessageBox::information(this,"Mouse Pressed", "This is Mouse Pressed Event");
}

void MainWindow::on_Recreate_pressed()
{
 QPoint pos(95,35); /* Button Position to CreateEvent Log  */
 {
  QMouseEvent click(QEvent::MouseButtonPress, pos, Qt::LeftButton, Qt::LeftButton, Qt::NoModifier);
  click.setAccepted(true);
  QCoreApplication::sendEvent(this, &click); /* Tried with ui->CreateEvent also */
 }
 {
  QMouseEvent click(QEvent::MouseButtonRelease, pos, Qt::LeftButton, Qt::LeftButton, Qt::NoModifier);
  click.setAccepted(true);
  QCoreApplication::sendEvent(this, &click); /* Tried with ui->CreateEvent also */
 }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:34:29.877

您可以简单地调用 QPushButton 对象的 click() 插槽。***

# ffmpeg - 使用 FFMPEG 的 RTP 流式传输

> ID：11644625
> 
> 赞同：0
> 
> 时间：2012-07-25T07:23:21.440
> 
> 标签：ffmpeg, streaming, rtp

我正在尝试使用 ffmpeg 使用 rtp 流。我正在从 pulseaudio 获取输入并创建一个 rtp 流。即ffmpeg -re -f pulse -ac 2 -i SOURCE -ac 2 -acodec libmp3lame -re -f rtp rtp://192.168.1.4:70000

这是我得到的 sdp 输出。

```
v=0
o=- 0 0 IN IP4 127.0.0.1
s=No Name
c=IN IP4 192.168.1.4
a=tool:libavformat 54.20.100^M
m=audio 7000 RTP/AVP 14^M 
```

现在，当我从它运行的同一台机器上播放这个 SDP 时。但是当我尝试从局域网中的其他机器上播放它时，它不会运行。例如。使用 mplayer 我得到 - 无法获取流信息 - 错误。

这里出了什么问题？

或者我应该使用其他服务器进行流式传输？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-24T18:33:00.160

您的 RTP IP 范围与 LAN 上的 IP 无关，需要在 `224.0.0.0`-范围内`239.255.255.255`。您也不能使用大于`65535`.

```
ffmpeg -re -f pulse -ac 2 -i SOURCE -ac 2 -acodec libmp3lame -re -f rtp rtp://224.1.2.3:7000 
```

# javascript - jQuery条件选择问题

> ID：11644626
> 
> 赞同：0
> 
> 时间：2012-07-25T07:23:28.363
> 
> 标签：javascript, jquery

我的表单中的部分 jQuery 代码存在一些问题。除了一部分代码外，一切正常：

```
if ( $("#finish_day").val() > 4 ) {
    $('#start').attr('', '');
} else {
    $('#start, #end').not(this)
        .children('option[value=' + this.value + ']')
        .attr('selected', '')
        .siblings().attr('disabled', true);
} 
```

你可以在这里测试整个例子：http: [//jsfiddle.net/amarcinkowski/k7kKV/3/](http://jsfiddle.net/amarcinkowski/k7kKV/3/)

事情是这样的：

第一个问题：当我更改“小时”字段时，它会自动更改“城市”字段，之后我无法更改城市。当我剪切上面的代码时，城市字段工作正常。

第二个问题：我需要让所有“City1”选项始终处于活动状态（现在当我更改“小时”时，我有一个活动选项，其他选项被禁用）。上面的代码应该这样工作：当“总天”字段的值小于（例如）3时，“City2”字段中的值与“City1”字段中的值相同（City1：Katowice = City2：Katowice） ，并且 City2 字段中的其他选项被禁用。

我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:38:31.267

我将代码修改为：

```
if ( $("#finish_day").val() < 4 ) {
          $('#start, #end').not(this)
              .children('option[value=' + this.value + ']')
              .attr('selected', true)
              .siblings().attr('disabled', true);
} else {
    $('#end').attr('disabled', false);
} 
```

它显示 City1 选项始终处于活动状态，并根据条件更改 City2 中的值。我还有一个问题 - 我不知道如何将“else”部分（当值大于 3 时）更改为在 City2 中显示所有处于活动状态的选项值？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T03:31:12.563

很难准确理解你想要什么，但你可能想在你的 else 语句中尝试这个：

```
$('#end option').attr('disabled', false); 
```

# java - 使用 Apache Poi 复制 Excel 颜色

> ID：11644627
> 
> 赞同：1
> 
> 时间：2012-07-25T07:23:32.793
> 
> 标签：java, excel, apache-poi

在我的 Excel 文件中，一个宏会查找某些单元格值，然后更改填充颜色。

我拥有这些颜色的所有 RGB 值，并希望在我使用 Apache POI 在文件中写入数据时准确设置这些颜色。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-03T05:09:55.637

我曾经遇到过一个问题，可能与您之前的问题相似。首先看一下这个例子，确定你知道为单元格填充颜色的方法：http:
[//poi.apache.org/spreadsheet/quick-guide.html#CustomColors](http://poi.apache.org/spreadsheet/quick-guide.html#CustomColors)
看起来不错，但我发现了一个常见错误它很容易被拿走。如果您尝试在循环中设置单元格值和样式，则样式声明必须在每一轮循环中都是新鲜的。这意味着您必须在循环内重新初始化您的样式变量。这有点像你把这个声明放在你的循环中：

```
for(i=0;i<rowsize;i++){
    //
    //I suppose that we have an instance named row to working on.
    //
    XSSFCell cell = row.getCell(i);
    XSSFCellStyle style1 = wb.createCellStyle(); //create a fresh instance
    cell.setCellValue("custom XSSF colors");    //Set the cell value

    //This two line will setup the style of your cell with your needs
    style1.setFillForegroundColor(new XSSFColor(new java.awt.Color(128, 0, 128)));
    style1.setFillPattern(CellStyle.SOLID_FOREGROUND);

    //Finally apply your style
    cell.setCellStyle(style1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:35:19.910

我知道在 POI 中添加自定义颜色的唯一方法是更改​​默认颜色：

```
Workbook wb = ...;    
wb.getCustomPalette().setColorAtIndex(HSSFColor.LIGHT_ORANGE.index, (byte) 255, (byte) 171, (byte) 115); 
```

# hadoop - hadoop - 我如何使用内存中的数据作为输入格式？

> ID：11644630
> 
> 赞同：1
> 
> 时间：2012-07-25T07:23:49.450
> 
> 标签：hadoop, mapreduce

我正在编写一个 mapreduce 作业，并且我有想要传递给内存中映射器的输入。

将输入传递给映射器的常用方法是通过 Hdfs - sequencefileinputformat 或 Textfileinputformat。这些输入格式需要在 fdfs 中有文件，这些文件将被加载并拆分到映射器

我找不到一个简单的方法来传递，让我们说映射器的元素列表。我发现自己必须将这些元素写入磁盘，然后使用 fileinputformat。

任何解决方案？

我正在用 java offcourse 编写代码。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:09:59.163

输入格式不必从磁盘或文件系统加载数据。也有从 HBase 或 (http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/mapred/TableInputFormat.html) 等其他系统读取数据的输入格式，其中数据并不隐含在磁盘上. 它仅暗示可通过集群所有节点上的某些 API 使用。
因此，您需要实现输入格式，以您自己的逻辑拆分数据（一旦没有文件，这是您自己的任务）并将数据切碎为记录
。请注意，您的内存数据源应分布在集群的所有节点上并运行。您还需要一些有效的 IPC 机制来将数据从您的进程传递到 Mapper 进程。
我也很高兴知道您的情况是什么导致了这种不寻常的要求。

# javascript - 动态选项卡上的多个数据表

> ID：11644635
> 
> 赞同：2
> 
> 时间：2012-07-25T07:24:10.667
> 
> 标签：javascript, jquery, jquery-plugins, datatables, jquery-datatables

我为我的 Web 应用程序开发了一个动态选项卡机制，任何内部内容都将使用 ajax 在新选项卡中加载，该选项卡将附加在最后一个活动选项卡中，例如浏览器中用于执行加载内容的选项卡功能 js 我只是有一个命名空间自定义 html5数据标签女巫是脚本的名称，我在创建新选项卡时执行它的 init() 方法，它在简单的 jquery 脚本上运行良好，但是当我尝试在其中加载带有 jQ​​uery Datatable 的页面时，我正在使用对于报告，我的报告过滤器表单仅适用于最后一个数据表，我不知道如何解决这个问题，这是我的 tabs.js 和 reports.js 代码，第二个是 Datatable javascripts。

tabs.js：

```
(function() {

// open e new tab:
var tabs_label = 1;
var tab_id = 1;
var tabs_num = 1;
var defaults_open = false;
var reports_open = false;
var ns ;//needs change
$('.tab-link').live('click',function(e) {
    var parent = $(this);

    var href = $(this).attr('href');
    if (href == '/defaults/' && defaults_open){
        e.preventDefault();
        bootbox.alert('تب تعریف پیش فرض ها باز می باشد!');

    }
    // else if(href == '/report/' && reports_open){
    //  e.preventDefault();
    //  bootbox.alert('تب گزارش ها باز می باشد');

    // }
    else{

        var tab_name = $(this).attr('data-name');
        e.preventDefault();
        tab_id ++;
        if (tabs_num > 6) {
            bootbox.alert('تب های باز شده بیش از حد مجاز است.');

        }
        else {
        $('.tab-pane').filter('.active').removeClass('active');
        $.blockUI({ message: $('#wait-icon'), css: {width: '64px',      height: '64px' }});
        var content = $('<div></div>', {
        class:"tab-pane dynamic-tab active",
        id:tab_id,
         });
        content.appendTo('div#main-tabs');
        $('ul.nav-tabs li.active').removeClass('active');
        var new_li = $("<li class='active' data-type='"+href+"'><a style='float:left' class='tabbtn' href="+tab_id+" data-toggle='tab'>"+tabs_label+" - "+tab_name+"</a><a style='float:right' class='close' id='tabClose'><i class='icon-remove'></i></a></li>")
        new_li.appendTo('ul#tabs');
        content.load( href + ' div#arya', function(response, status, xhr) {
            if(parent.attr('namespace')){
                ns = eval(parent.attr('namespace'));
                if(ns.root){
                    ns.root = content;
                }
                ns.init();
            }
            $.unblockUI();
            if(status == 'error'){
                bootbox.alert("در حال حاضر سرور با مشکل مواجه است", "خروج",   function(){
                    new_li.find("a.close").trigger('click');
                });

            }

        });
        tabs_num++;
        tabs_label++;
        if(href == '/defaults/'){
            defaults_open = true;
        }
        else if(href == '/report/'){
            reports_open = true;
        }
        }
    }
});// sell tab name needs work.

// tab activatior function

$('#tabs a.tabbtn').live('click', function(e) {
    e.preventDefault();
    var id = $(this).attr('href');
    var selector = 'div#' + id;
    $('.dynamic-tab').filter('.active').removeClass('active');
    var new_tab = $('.dynamic-tab').filter(selector);
    new_tab.addClass('active');
    console.log(new_tab);
    ns.root = new_tab;

});

// close a tab:

$('a#tabClose').live('click', function(e) {
    e.preventDefault();
    $this = $(this);
    var a = $this.siblings('a');
    var li = $this.parent();
    console.log(li);
    if(li.attr('data-type') == '/defaults/'){
        defaults_open = false;
    }
    else if(li.attr('data-type') == '/report/'){
        reports_open = false;
    }
    var id = a.attr('href');
    var div = $('div#' + id);
    if (div.hasClass('active')){
        var last = div.siblings('div.tab-pane').last();
        last.addClass('active');
        ns.root = last;
    }
    div.detach();
    var li = a.parent();
    if (li.siblings('.active').length == 0){
        li.siblings('li').last().addClass('active');    
    }
    li.detach();
    tabs_num--;
    tabs_label--;
});

})(); 
```

报告.js：

```
var reports = {
'root': $('.tab-pane#defaults_init'),
'table_init': function() {
    var oTable;
  $.fn.dataTableExt.oApi.fnReloadAjax = function ( oSettings, sNewSource ) {
    if ( typeof sNewSource != 'undefined' )
    oSettings.sAjaxSource = sNewSource;
    console.log($(this));

    this.fnClearTable( this );

    this.oApi._fnProcessingDisplay( oSettings, true );
    var that = this;
    var myData = new Array({ "name": "name", "value": reports.root.find('#name').val()}, { "name": "family", "value": reports.root.find('#family').val()}, { "name": "national_id", "value": reports.root.find('#national_id').val()}, { "name": "city", "value": reports.root.find('#city').val()}, { "name": "job", "value": reports.root.find('#job').val()}, { "name": "date_from", "value": reports.root.find('#date_from').val()}, { "name": "date_to", "value": reports.root.find('#date_to').val()}, { "name": "age_from", "value": reports.root.find('#age_from').val()}, { "name": "age_to", "value": reports.root.find('#age_to').val()}, { "name": "credit_from", "value": reports.root.find('#credit_from').val()}, { "name": "credit_to", "value": reports.root.find('#credit_to').val()}); 
    $.ajax({
      url: oSettings.sAjaxSource,
      dataType: 'json',
      data: myData,
      type: "POST",
      success: function(json) {
        /* Got the data - add it to the table */
        for ( var i=0 ; i<json.aaData.length ; i++ ) {
        that.oApi._fnAddData( oSettings, json.aaData[i] );
        }

        oSettings.aiDisplay = oSettings.aiDisplayMaster.slice();
        that.fnDraw( that );
        that.oApi._fnProcessingDisplay( oSettings, false );
        }
    });
}
},
'init': function(){

    oTable = reports.root.find('.targetTable').dataTable( {
      "sDom": "<'row-fluid'r<'span12'l>>t<'row-fluid'<'span6'p><'span6'i>>",
      "sPaginationType": "bootstrap",
      "oLanguage": {
                  "sUrl": "/media/translation/dataTables.persian.txt"
              },
      "sAjaxSource": "/report/ajax/customers/",
      "sServerMethod": "POST",
      "bDestroy": true,
      // "bRetrieve": true,
      "fnServerParams": function ( aoData ) {
          aoData.push( { "name": "name", "value": reports.root.find('#name').val()} );
          aoData.push( { "name": "family", "value": reports.root.find('#family').val()});
          aoData.push( { "name": "national_id", "value": reports.root.find('#national_id').val()} );
          aoData.push( { "name": "city", "value": reports.root.find('#city').val()} );
          aoData.push( { "name": "job", "value": reports.root.find('#job').val()} );
          aoData.push( { "name": "date_from", "value": reports.root.find('#date_from').val()} );
          aoData.push( { "name": "date_to", "value": reports.root.find('#date_to').val()} );
          aoData.push( { "name": "age_from", "value": reports.root.find('#age_from').val()} );
          aoData.push( { "name": "age_to", "value": reports.root.find('#age_to').val()} );
          aoData.push( { "name": "credit_from", "value": reports.root.find('#credit_from').val()} );
          aoData.push( { "name": "credit_to", "value": reports.root.find('#credit_to').val()} );
          console.log(aoData);
      },
      "aoColumns": [
        { "mDataProp": "name" },
        { "mDataProp": "family" },
        { "mDataProp": "national_id" },
        { "mDataProp": "birthday" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "phone" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "cellphone" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "email" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "city" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "country" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "address" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "job" },
        { "mDataProp": "credit" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "age" ,"bSearchable": false, "bVisible": false},
        { "mDataProp": "creation_time" ,"bSearchable": false, "bVisible": false},
    ],
    } );
    /* Add a click handler to the rows - this could be used as a callback */

    $('#targetTable tbody tr').live('click', function () {
      var aData = oTable.fnGetData( this );
      infoTpl = "<div class='row-fluid span12'><table class='table table-striped'><tbody>";
      infoTpl += "<tr><td>نام: <span>"+aData['name']+"</span></td><td>نام خانوادگی: <span>"+aData['family']+"</span></td><td>کد ملی: <span>"+aData['national_id']+"</span></td><td>تاریخ تولد: <span>"+aData['birthday']+"</span></td></tr>";
      infoTpl += "<tr><td>تلفن: <span>"+aData['phone']+"</span></td><td>تلفن همراه: <span>"+aData['cellphone']+"</span></td><td colspan='2'>ایمیل: <span>"+aData['email']+"</span></td></tr>";
      infoTpl += "<tr><td colspan='2'>آدرس: <span>"+aData['address']+"</span></td><td>شهر: <span>"+aData['city']+"</span></td><td>کشور: <span>"+aData['country']+"</span></td></tr>";
      infoTpl += "<tr><td>سن: <span>"+aData['age']+"</span></td><td>میزان اعتبار: <span>"+aData['credit']+"</span></td><td>تاریخ ایجاد در سیستم: <span>"+aData['creation_time']+"</span></td></tr>";
      infoTpl += "</tbody></table></div>";
      reports.root.find('#targetInfo').html(infoTpl);
      reports.root.find('#targetInfo > div > table > tbody > tr > td > span').css("color","navy");
      $(this).toggleClass('row_selected');
    } );

    reports.root.find('#queryForm').submit(function() { // catch the form's submit event
        oTable.fnReloadAjax();
        return false;
    });

},
};
$(document).ready(function () {
    reports.table_init();
}); 
```

# tridion - 如何获取 tridion 中选定项目的版本号？

> ID：11644636
> 
> 赞同：4
> 
> 时间：2012-07-25T07:24:10.447
> 
> 标签：tridion, tridion-2011

如何获取所选项目（组件/页面）的版本号

我正在使用下面的代码

```
VersionedItemData verinfo=csClient.Read(<selecteditemid>, new ReadOptions()) 
                                                         as VersionedItemData;
<selecteditemid> = Component/Page id 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-25T08:20:16.437

`Version`和`Revision`属性在 中可用`FullVersionInfo`，因此您必须对您的项目进行投射`VersionInfo`：

```
((FullVersionInfo) verinfo.VersionInfo).Version 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:32:12.200

VersionItemData.VersionInfo.Version 将返回您最新的版本号。

# regex - 如何使用正则表达式替换记事本++中正则表达式中的数字？

> ID：11644637
> 
> 赞同：0
> 
> 时间：2012-07-25T07:24:14.273
> 
> 标签：regex, notepad++

我有以下内容：

```
<d:RowKey>XXXX004K< 
```

用。。。来代替

```
<d:RowKey>050505004K< 
```

和

```
RowKey='XXXX004K' 
```

用。。。来代替

```
RowKey='0505050004K' 
```

有人可以帮我解决这些的正则表达式语法。上述“X”的值可以是任意数字。

抱歉，我以前从未使用过正则表达式。我只需要在记事本++ 中执行此操作，它为我提供了搜索字符串的正则表达式选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:31:03.350

尝试使用简单的字符串

```
string pattern = @"\d{4}004K";
string search = "<d:RowKey>8989004K<";
var result = Regex.Replace(search, pattern, "050505004K"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:32:00.433

尝试

```
 Find What: ([>'])[0-9][0-9][0-9][0-9]
    Replace With : \1050505 
```

假设 05050504K< 这里有错字

# java - 保存我的唯一 ID（字符串）并稍后在我重新启动 Java 应用程序时检索它

> ID：11644638
> 
> 赞同：2
> 
> 时间：2012-07-25T07:24:15.787
> 
> 标签：java, save

我想保存一个在我启动 Java 应用程序时创建的唯一 ID（它是一个字符串）。现在我想把它保存在某个地方（我想是在磁盘上的某个文件中），这样当我重新启动我的应用程序时，我应该能够读取它并使用该 ID。

我想知道保存此类 ID 的好方法是什么。我正在考虑创建一个[属性](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Properties.html)文件并保存它，然后在我重新启动应用程序时从中检索它。有没有更好或标准的方法呢？

**编辑 ：**

此外，存储在磁盘上的文件夹位置应该是什么。它应该是相对于我的执行路径还是一些登录用户特定的路径？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:29:22.567

**1.**如果是**同一个Java应用程序写入或读取这个String**，那么使用`Serialization`，保存时它将是不可读的形式。

**2.**如果**读写来自不同的程序**，则使用`Text file`.

**3.**使用`Property file`也是一个好方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T07:30:10.557

如果您的应用程序/程序需要在某个时候存储更多数据，那么 sqlite3 可能是您的最佳选择。它易于实施和使用。

[下载 sqlite3](http://www.sqlite.org/download.html)

编辑：应用程序中将存储多少个 ID？如果只有几个，一个文本文件或属性文件就足够了。

EDIT2：导航到您机器上的 Documents 文件夹，您将看到程序/游戏文件夹。那就是您应该放置文件/数据库的地方。但是，您也可以将其存储在硬盘驱动器的安装路径中。还要确保您的用户通过快捷方式启动应用程序，而不是实际的执行文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:40:27.013

使用 Java 中的 FileWriter 和 File 类。

它应该是这样的：

```
File f = new File(your path here);
if (f.exists()){
BufferedReader br = new BufferedReader(new FileReader(your path here));
String a = br.readLine();
br.close();
}else{
FileWriter fw = new FileWriter(your path here);
fw.write(your ID String);
fw.flush();
fw.close(); 
```

我希望这是你的意思。此致

编辑：刚刚注意到您编辑了您的帖子为时已晚....

# mysql - 检查 id 加入 3 个表

> ID：11644641
> 
> 赞同：0
> 
> 时间：2012-07-25T07:24:32.260
> 
> 标签：mysql

我有一个 MySQL JOIN 查询，其中连接了 2 个表以获取输出

```
select distinct (a.error_type),a.links_id, a.crawl_cycle , b.* from $table a inner join crawler_error_type b on a.error_type = b.error_type where a.projects_id = '$pid' and b.error_priority_page_level='High' 
```

现在我想检查该字段的值`error_type`是否存在于第三个表中。如果它存在，那么它不应该给我结果行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:27:42.220

您需要再添加`INNER JOIN`一个`third_table`：

```
SELECT DISTINCT a.error_type, a.links_id, a.crawl_cycle , b.* 
FROM  $table a 
      INNER JOIN crawler_error_type b 
          ON a.error_type = b.error_type 
      INNER JOIN third_table c
          ON a.error_type = c.error_type 

WHERE a.projects_id = '$pid' AND 
      b.error_priority_page_level='High'. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:29:26.173

添加以下内容：

```
LEFT OUTER JOIN third_table c ON c.error_type = a.error_type 
```

和

```
WHERE c.error_type is null 
```

LEFT OUTER JOIN 将显示连接到 third_table 的表中的所有记录。由于您不希望从 third_table 中匹配错误类型的记录，请使用`WHERE c.error_type is null`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:31:18.357

如果我理解正确，您应该能够内连接第三个表。如果内部联接在联接表中有记录，则内部联接将显示该记录。如果我理解错了，请您详细说明。谢谢

```
select distinct (a.error_type),a.links_id, a.crawl_cycle , b.* 

from $table a 

inner join crawler_error_type b on a.error_type = b.error_type 

inner join some_table_3 c on c.error_type = a.error_type 

where a.projects_id = '$pid' and b.error_priority_page_level='High' 
```

# asp.net - 如何使用 sap 函数 ocx VB.Net Web 应用程序将表数据导出到 sap

> ID：11644644
> 
> 赞同：0
> 
> 时间：2012-07-25T07:24:44.910
> 
> 标签：asp.net, .net, vb.net, abap

我即将使用visual basic.net 创建一个应用程序，但我正在使用SAP 数据库（VB.NET SAP Function ocx）来调用数据。我可以将单个参数导出到 sap，但我不知道如何导出数据表。请帮帮我。谢谢你

问候米兹尔..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T23:32:54.857

我知道的一种方法是创建一个远程启用的功能模块。您可以通过这种方式发送表格或提取表格。

# linux - Linux 恢复已删除的目录

> ID：11644647
> 
> 赞同：1
> 
> 时间：2012-07-25T07:25:02.023
> 
> 标签：linux, unix, filesystems, nfs, file-recovery

我的 linux 服务器中有一个名为 foo 的目录。home/foo 我在主目录中还有一个名为 foo.tgz 的文件。我从主目录中提取了 foo.tgz，tar 文件中有一个名为 foo 的目录。所以目录 home/foo 被覆盖了。我可以恢复旧的 home/foo 目录吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:26:55.563

你不能。但是它没有被覆盖，它们的内容被合并了。

# sql - 使用通用字段从另一个表导入数据

> ID：11644648
> 
> 赞同：0
> 
> 时间：2012-07-25T07:25:09.630
> 
> 标签：sql, oracle10g, toad

让我试着解释一下我的情况，我有两个表，每个表都包含两个感兴趣的字段，即 act_num 和 identity。第一个表包含两个字段的数据，但第二个表包含 act_num 数据而没有标识数据。我正在尝试编写一个查询，以便如果第二个表中的 act_num 等于第二个表中的 act_num 则第一个表的标识被导入到第二个表中的相应行中？做这个的最好方式是什么？我必须使用游标吗？

这些表是 Oracle 表 10g，并且正在使用 toad for oracle for the sql。请帮忙。就像是：

```
insert into table2 (identity) select identity from table1 
where act_num = select act_num from table2; 
```

我不需要 table1 中的所有身份数据。我只需要 table1 和 table2 中的 act_num 的身份数据。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:45:41.563

You could just update it based on the first table, maybe a solution would be:

```
update table2 set identity = (select 
    identity from table1 where act_num = table2.act_num); 
```

This should be enough to update all lines from `table2` with the identity of `table1` where `act_num` is the same as found in `table1`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:44:11.123

```
insert into table2 (identity) 
select identity from table1
where act_num in(select act_num from table2); 
```

# c - C语言枚举数据类型？

> ID：11644651
> 
> 赞同：2
> 
> 时间：2012-07-25T07:25:16.137
> 
> 标签：c

> **可能重复：**
> [C 中枚举的大小是多少？](https://stackoverflow.com/questions/366017/what-is-the-size-of-an-enum-in-c)

重新分级 C 语言枚举：用户无法控制枚举变量的大小。有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:31:37.580

此声明来自 C99 6.7.2.2p4

> 每个枚举类型应与 char、有符号整数类型或无符号整数类型兼容。类型的选择是实现定义的，^(108) ) 但应该能够表示枚举的所有成员的值。
> 
> 108) 一个实现可能会延迟选择哪种整数类型，直到所有枚举常量都被看到。

这允许编译器做出它认为是特定枚举的最佳选择。枚举可能不是在机器之间传递的二进制消息中使用的最佳选择。但是，您可以使用整数类型，并将其转换回枚举类型。

# asp-classic - 支付期间 ASP 中的安全性

> ID：11644657
> 
> 赞同：0
> 
> 时间：2012-07-25T07:25:44.767
> 
> 标签：asp-classic, security

我是基于 ASP 的 Web 系统的测试人员。

有一个用户用来购买商品的页面。在确认过程中，我注意到总付款（用户必须支付的总金额）存储在隐藏的输入字段中，假设是 10.000 美元。任何人都可以很容易地将此​​值更改为 1 甚至 0 并完成付款。

我可以知道我应该使用什么策略来克服这个问题吗？程序员如何执行这种验证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:42:52.220

如果是 asp.net，开发人员可以将其存储在 ViewState 中，或者只创建一个变量来将数据存储在代码隐藏中。

如果它是经典的 asp，那么开发人员可以使用 Request.Form 传递该变量，或者将其发布到下一页以完成订单或将数据存储在会话中。

# c# - 如何从 MVC3 中的 javascript 调用 Controller 方法？

> ID：11644658
> 
> 赞同：4
> 
> 时间：2012-07-25T07:25:43.383
> 
> 标签：c#, javascript, .net, ajax, asp.net-mvc-3

我使用 MVC3 架构，c#.net。当焦点更改为下一个字段（即密码字段）时，我需要立即将文本框内容（用户 ID）与数据库进行比较。所以我想对 User Id 字段使用 onblur 事件，然后调用 Controller 方法。谁能告诉我如何解决这个问题？作为一个新手，代码片段受到高度赞赏。

提前致谢，

普拉桑特

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-25T07:39:47.787

这是一个例子。控制器方法示例

```
[HttpPost] // can be HttpGet
public ActionResult Test(string id)
{
     bool isValid = yourcheckmethod(); //.. check
     var obj = new {
          valid = isValid
     };
     return Json(obj);
} 
```

这将是您的 javascript 函数。

```
function checkValidId(checkId)
{
    $.ajax({
         url: 'controllerName/Test',
         type: 'POST',
         contentType: 'application/json;',
         data: JSON.stringify({ id: checkId }),
         success: function (valid)
         {
              if(valid) { 
                  //show that id is valid 
              } else { 
                  //show that id is not valid 
              }
         }
    });
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T07:39:41.157

请参阅[JQuery.get()](http://api.jquery.com/jQuery.get/)、[System.Web.Mvc.JsonResult](http://msdn.microsoft.com/en-us/library/system.web.mvc.jsonresult.aspx)。

例如：

```
<script type="text/javascript">
    $('#userID').blur(function()
    {
        $.get('/Home/ValidateUserID/' + $(this).val(), {}, 
            function(data, status)
            {
                if( !data.success ) {
                    alert('User ID is invalid!');
                }
            });
    });
</script> 
```

您需要一个操作来捕获 GET 请求：

```
public class HomeController
{
    [HttpGet]
    public ActionResult ValidateUserID(string id)
    {
        bool superficialCheck = true;

        return Json(new { success = superficialCheck },
            JsonRequestBehavior.AllowGet);
    }
} 
```

几点，不分先后：

*   请注意，第一个参数 to`.get`是控制器操作的匹配 URL？
*   html 字段的值`#userID`附加到 URL 的末尾，允许 MVC 将其数据绑定到操作参数`ValidateUserID(string id)`中。
*   该`Controller.Json`方法将 .NET 对象格式化为 JavaScript 对象。格式化的对象由 JQuery 接收，就像`data`在回调函数中一样。
*   `JsonRequestBehavior.AllowGet`告诉 MVC 可以将数据从`.GET`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:27:10.743

这听起来像是服务器端验证，因此您可以为此使用客户端验证功能。

[http://msdn.microsoft.com/en-us/library/gg508808(v=vs.98).aspx](http://msdn.microsoft.com/en-us/library/gg508808(v=vs.98).aspx)

通常，这可以通过使用 ajax 调用来完成（不确定您是否使用 jQuery，但如果没有并且没有特殊限制，鼓励使用它）：

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

在客户端：

```
$.ajax({
            url: '@Url.Action("ActionName", "ControllerName")',
            type: "POST",
            async: true,
            dataType: "json",
            data: $('#form').serialize(),                    
            success: function (data) {
               // process result
            },
            error: function (request, status, error) {
               // process error message
            }
        }); 
```

在服务器端：

```
[HttpPost]
public virtual ActionResult ActionName() 
{
     return Json("value")
} 
```

但一般来说，您应该从 ASP.NET MVC 3 Ajax 搜索，网络上有很多关于此的内容，您可能已经找到了您需要的内容。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T08:00:43.873

您可以[在控制器上使用 RemoteValidation 属性和服务器端操作，](http://msdn.microsoft.com/en-us/library/gg508808%28v=vs.98%29.aspx)通过 MVC Unobtrusive javascript 为您完成所有操作，而无需为其编写单行 JS/Jquery。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-25T07:46:54.657

here is what you could do:

Given that you have controller called `AccountController` and action called `CheckPassword` that accepts parameter `string password`, you could put this in your view:

```
$('#texboxId').blur(function() {
    $.ajax({
        url: '/Account/CheckPassword',
        data: { password: $('#texboxId').val() },
        success: function(data) {
            // put result of action into element with class "result"
            $('.result').html(data);
        },
        error: function(){
            alert('Error');
        }
    });
}); 
```

Your controller action would approximately look like this:

```
public class AccountController : Controller
{
    public ActionResult CheckPassword(string password)
    {
        bool passwordIsCorrect = //do your checking;
        string returnString = "whatever message you want to send back";
        return Content(returnString);
    }
} 
```

# process - 如何计算轮询调度的平均等待时间？

> ID：11644659
> 
> 赞同：8
> 
> 时间：2012-07-25T07:25:44.267
> 
> 标签：process, scheduling, gantt-chart

鉴于此表： ![在此处输入图像描述](../Images/037aa23484a433a178a6e9fd30b560a5.png)

这些是时间线（时间片 = 4）：

```
|p1|p1|p2|p3|p4|p5|p1|p2|p3|p4|p5|p2|p3|p4|p5|p2|p3|p4|p5|p2|p3|p3|
0  4  8 12 16  20 24 28 32 36 40 44 48 52 56 60 64 68 69 72 75 79 80 
```

有没有简单的方法来计算平均等待时间？

谢谢

**注意：**每个过程有几个完成时间！

**注2**：本题还涉及优先级算法作为辅助练习，请忽略轮询算法的优先级列

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-09-08T08:05:09.197

You can calculate Waiting time by drawing `Gantt chart` so waiting time of ith process is equal to `Completion time - (Arrival time + Burst time )` .

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-28T17:56:50.710

对于RR，等待时间=上次开始时间-到达时间-（抢占*量子）

P1的最后开始时间是24（当P1在甘特图中第三次运行时）P1在其生命周期内抢占了2次Quantum = 4，Arrival = 0。

P1 的等待时间 = 24 - 0 - (2 * 4) = 16 :)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T18:17:40.250

|H |I |J |K |L | H| J| K|L |J |K|L |J |L |L | 它太长了，简而言之，您的答案是：0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60 平均等待时间 = ((H - 到达时间) + (I - 到达时间) + (J - 到达时间）+（K-到达时间）+（L-到达时间））/5=（24-0）+（8-5）+（52-8）+（44-11）+（60-15）/ 5= 29.8 m sec 太长了，简而言之，你的答案是这样的：这里是 RR 调度算法的甘特图 Process[burst time, timequantum,arrival time] H[8, 4, 0] I[4, 4, 5] J[16, 4, 8] k[12, 4, 11] L[20, 常数 = 4, 15]

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T20:34:10.543

让我们首先尝试解决这个问题的简单版本，其中所有进程都在时间 0 到达。假设我们有`n`每个进程的执行时间为`ei`。让时间片成为`s`。设每个进程所需的时间片数为`NSPi`。现在我们有了`NSPi = ceiling(ei/s)`. 一个过程所需的时间 i = `NSPi * s`. 时间表的长度 = `sum over i from 1 to n (NSPi)`。进程 i = 的等待时间`finish time of i - execution time of i`。但是计算每个进程的完成时间很复杂，因为每个进程都有不同的执行时间。但是由于您只需要特定实例的 RR 算法的平均等待时间，您可以将其计算为`(Length of the schedule - sum of execution time of all processes)/num of processes`：

我想现在你应该已经知道这个公式是如何演变的了。理想情况下，希望调度的长度等于所有进程的执行时间的总和。但并非所有执行时间都是时间片的一个因素。因此，在某个时间片中，我们会发现没有安排任何进程的漏洞。所以在实践中，调度的长度大于执行时间的总和。现在我们将它们的差异作为总等待时间。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-09-29T13:40:41.970

我尝试在java中实现它：

```
public static float waitingTimieRobin(int[] arrival, int[] run, int q) {
    Queue<Integer> orderQueue = new LinkedList<>();
    orderQueue.add(0);
    Set<Integer> orderSet = new HashSet<>();
    orderSet.add(0);

    float sumTime = 0.0f;

    int curTime = 0;
    while (!isOver(run)) {

        int order = orderQueue.poll();
        orderSet.remove(order);
        int arrTime = arrival[order];
        int runtime = run[order];
        sumTime += (curTime - arrTime);
        if (runtime <= q) {
            curTime += runtime;
            run[order] = 0;
        } else {
            curTime += q;
            arrival[order] = curTime;
            run[order] = runtime - q;
        }

        for (int i = 0; i < run.length; i++) {
            if (arrival[i] > curTime) {
                break;
            } else if (i != order && run[i] != 0 && !orderSet.contains(i)) {
                orderQueue.add(i);
                orderSet.add(i);
            }
        }

        if(arrival[order] == curTime && run[order] != 0 && !orderSet.contains(order)) {
            orderQueue.add(order);
            orderSet.add(order);
        }
    }

    return sumTime / arrival.length;
}

public static boolean isOver(int[] run) {
    for (int runtime : run) {
        if (runtime > 0) {
            return false;
        }
    }
    return true;
} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2014-05-12T15:19:29.133

我的回答是等待时间和周转时间是

等待时间：(16+51+51+45+42)/5=41 周转时间：(28+70+72+58+57)/5=57

# android - 需要复杂的 Android UI 设计指导（片段）

> ID：11644661
> 
> 赞同：11
> 
> 时间：2012-07-25T07:26:02.867
> 
> 标签：android, android-layout, android-fragments, google-tv

我正在开发一个针对平板电脑和谷歌电视的应用程序。它将像许多标准的 Google TV 应用程序一样，带有一个 LeftNavBar 和一个所有应用程序屏幕通用的顶部搜索栏。它将类似于下图：

**主屏幕** ![在此处输入图像描述](../Images/9e0a69b497dcf14d6189ea1bd8e381d0.png)

对于所有其他屏幕，红色区域将有所不同。它可能包含以下屏幕模型之类的数据：

**活动一加载到主容器中** ![在此处输入图像描述](../Images/117c30729fe9b9db75cc38c61f33f7d3.png)

**活动二加载到主容器中** ![在此处输入图像描述](../Images/01751085942286fa8e63915f76716a70.png)

所以你可以看到在主区域可以加载完全不同的部分。

在选择屏幕2中的任何列表项目（在片段列表中）中选择任何列表项目时，屏幕3可以作为详细的部分加载，也可以通过选择选项卡（将出现在LeftNavbar中）加载。

这是我尝试实现它的方式。

**第 1 步。**我使用以下 XML 创建了一个主 Activity：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:background="#9ccc" >

        <!-- Top Bar -->

    </LinearLayout>

    <FrameLayout
        android:id="@+id/mainContainer"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1">

        <!-- main Red Container that will load other Activities -->

    </FrameLayout>
</LinearLayout> 
```

`mainContainer`是我要加载活动的 RED 容器。`LeftNavBar`将作为 All 的父级添加到此 Activity。

**第 2 步**我分别在其中创建`ActivityOne`了`ActivityTwo`两个和三个片段（如上图第二个和第三个图像所示）。

***第 3 步**我正在尝试`ActivityOne`在主页的**mainContainer** FrameLayout 中加载...但我无法添加它。

我尝试通过添加`ActivityOne`如下`mainContainer`：

```
View v = (new ActivityOne()).getWindow().getDecorView();
FrameLayout mainContainer = (FrameLayout) findViewById(R.id.mainContainer);
mainContainer.addView(v); 
```

但`getWindow()`回报`null`....

**发生其他问题是因为所有数据都来自远程服务**..所以还请建议我如何能够`mainContainer`在某种堆栈中保存对所有已加载活动的引用......所以我可以重新加载已经加载的活动而不是创建它的新实例。这将在按下 BACK 按钮时使用。

**或者**

与其将活动加载到上述 RED 容器中，我应该创建两个活动，每个活动都有自己的片段和一个 LeftNavBar。这可能比上述方法更容易。或者这可能是唯一的解决方案....但是我觉得为 BACK 按钮保存状态可能会变得混乱..但我会尝试实现这个

如果您必须创建这种类型的应用程序，您会怎么做？您将如何设计 UI 布局以获得最佳性能/实践？

非常感谢您帮助我设置此应用程序布局的建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T23:33:16.383

**免责声明**

这是片段可能变得棘手的地方。如果 Activity 1 和 2 具有相同的布局，那么问题将很简单，这样您就可以简单地附加/分离片段并使用片段返回堆栈来展开。

因为你想要 2 个独特的布局来容纳你的片段，所以事情会更复杂一些。如果可能的话，我会尝试使用相同的布局，这样你就可以走捷径。

作为另一种选择，您可以使用上面概述的两个活动，并使用 Intents 来回发送数据。

也就是说，如果我真的必须按照所写的方式实施这个解决方案，这就是我要做的。*请注意*，我不提倡这种解决方案，但我自己不知道更好的做事方式。

**解决方案**

创建一个 FragmentActivity，其视图将是您在上面定义的主屏幕。主屏幕的布局将包含：

*   左侧导航栏
*   顶栏
*   2个布局。布局1和布局2。这些将包含在父布局中，即RelativeLayout 或LinearLayout，并将包含片段所需的FrameLayout 元素。

使用您的 XML 的示例（注意，标签有点简短）：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:background="#9ccc" >

        <!-- Top Bar -->

    </LinearLayout>

    <LinearLayout android:id="@+id/layout1">
        <FrameLayout android:id="@+id/listFragment" />
        <FrameLayout android:id="@+id/contentFragment" />
    </LinearLayout>

    <LinearLayout android:id="@+id/layout2">
        <FrameLayout android:id="@+id/imageFragment" />
        <FrameLayout android:id="@+id/boxFragment1" />
        <FrameLayout android:id="@+id/boxFragment2" />
        <FrameLayout android:id="@+id/boxFragment3" />
    </LinearLayout>

</LinearLayout> 
```

主要思想是，然后根据应用程序的状态显示/隐藏 layout1 和 layout2 即设置 android:visibility="gone"。

这种方法的缺点是：

*   使用片段 backstack 可能是不可能的，相反，您必须跟踪用户在 UI 流中的位置并管理后退按钮以显示/隐藏布局
*   当您显示/隐藏其父视图时，您可能需要特别注意附加/分离片段，以减少片段不可见时的资源消耗

优点是：

*   片段和基本活动之间的轻松通信，因为只使用了 1 个活动

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-25T13:56:36.293

**Re: 嵌套片段问题**

为了解决我们的应用程序中的“嵌套片段”问题（正如您正确注意到`Fragment`的），`Fragment`我在活动下托管了一个*模板*片段，其唯一目的是定义一组占位符以供其他片段锚定到。在向活动添加更多片段时，我使用模板片段的视图占位符`+@id`s 来识别正在添加的片段的“根”或父视图 ID。

```
 getSupportFragmentManager().beginTransaction().add(#someIdFromTheTemplateFrag, fragment, fragmentTag).commit(); 
```

我添加的 Fragment 然后知道在当前布局中将自己锚定在哪里，当然然后开始使用它添加它的视图的快乐方式。这具有将片段附加到另一个片段的效果，从而实现所需的视觉“嵌套”......

# android - 在 web 上的 android 中查看文件夹中的所有照片

> ID：11644667
> 
> 赞同：0
> 
> 时间：2012-07-25T07:26:10.817
> 
> 标签：android

我正在运行一个网络服务器并将我所有的照片存储在一个名为照片的文件夹中。现在我希望 android 应用程序列出该特定文件夹下的所有照片（它可以是幻灯片放映或网格视图）。我知道如何从 url 加载图像。但我真的不确定如何查看存储在文件夹中的所有图像。有人可以指出我正确的方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:32:15.300

请参阅[此](http://www.ethemsulan.com/2011/05/how-to-load-internet-images-in-gridview-android-sample-2.html)以在 gridview 中加载 Web 图像

这[通过](https://github.com/thest1/LazyList)lazylist从网络加载图像。

从您的文件夹中获取图像列表。您需要使用**FTPClient**读取该文件夹中的所有文件名，并将文件名作为 url 放入上述方法中。

# java - Java Hashmap，其中键是文件，值是模型

> ID：11644670
> 
> 赞同：0
> 
> 时间：2012-07-25T07:26:15.647
> 
> 标签：java, hashmap, java-io

我正在开发一个项目，其中我有一个哈希图，其中键作为 Java IO 库中的 File 对象和一个自定义模型对象，称为 DrawingModel 作为哈希图中的值。当我更改模型时，我需要保存文件。当我经历以下一系列事件时：

1.  我打开一个文件
2.  我做了一些改变
3.  我保存该文件（文件->保存）
4.  我退出文件
5.  然后我打开同一个文件
6.  但是，它没有打开！

我的问题是，如果我更改文件（通过保存），我是否需要从 Hashmap 中删除该键值对并添加一个新的键值对？这样的值是相同的，但键被更新？

非常感谢您的时间和帮助！

真诚的，nc5

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:29:47.127

File 对象只不过是实际文件路径的包装器。它不会以任何方式锁定您的文件。

锁定是由一些仍然打开的流引起的。我打赌你在保存到文件后没有关闭你的输出流。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:31:28.910

是的。如果你从逻辑上思考，你的钥匙就变了。而且一旦更改，您将无法再使用它来定位您的数据。您应该在地图中插入一个（新键，值）对。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:31:36.077

**始终** 是您**打开**`close()`的那个，**否则文件将不会被更新。**而且最好**关闭**`file`******`Connection and Channel streams`******

 ******* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T07:31:56.660

确保您已关闭文件流（最上面的一个）。即，如果您一个接一个地打开了多个流，那么请确保关闭最顶层的流。否则文件将被操作系统锁定。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-25T07:33:44.797

我建议你把文件名作为键而不是文件对象，并通过另一个逻辑处理文件编辑/更新的东西。**将文件对象作为键没有多大意义**。******

# php - 将数组推入空数组 PHP

> ID：11644672
> 
> 赞同：-3
> 
> 时间：2012-07-25T07:26:19.150
> 
> 标签：php, arrays

我想编写一个函数来获取父母的孩子。`get_children`应该返回一组`$this_parent_id`孩子。

```
/* $pages array */

Array
(
    [0] => Pages Object
        (
            [id_page] => 1
            [str_title] => index
            [id_parent] => 0
        )

    [1] => Pages Object
        (
            [id_page] => 10
            [str_title] => download
            [id_parent] => 0
        )

    [2] => Pages Object
        (
            [id_page] => 11
            [str_title] => about us
            [id_parent] => 1
        )

    [3] => Pages Object
        (
            [id_page] => 12
            [str_title] => contact us
            [id_parent] => 1
        )

    [4] => Pages Object
        (
            [id_page] => 13
            [str_title] => members
            [id_parent] => 1
        )

) 
```

当条件为真时，我想将子数组推入数组中。

```
print_r(get_children(1, $pages));
function get_children($this_parent_id, $family) {
    foreach($family as $page) {
        if ($page->id_parent == $this_parent_id) {
            /* here I need to append $page to $temp_array
        isset($temp_array) ? $temp_array = array($temp_array, (array)$page) : $temp_array = (array)$page; */
        }
    }
    return $temp_array;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:40:23.977

是`array_push()`你要找的功能吗？

```
function get_children($this_parent_id, $family) { 
    $temp_array = array(); 
    foreach($family as $page) {
        if ($page->id_parent == $this_parent_id) {
            array_push($temp_array, $page);
        }
    }
    return $temp_array;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T08:01:48.867

```
print_r(get_children(1, $pages));
function get_children($this_parent_id, $family)
{
    global $temp_array;
    foreach ($family as $page) {
        if ($page->id_parent == $this_parent_id) {
            isset($temp_array) ? $temp_array[] = (array) $page : $temp_array = array((array) $page);
        }
    }
    return $temp_array;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T08:06:05.170

该错误可能是由于行中的分配

```
isset($temp_array) ? $temp_array = array($temp_array, (array)$page) : $temp_array = (array)$page; 
```

以下功能代码应该可以正常工作。

```
function get_children($this_parent_id, $family)
{
   $temp_array = array();
    foreach ($family as $page) {
        if ($page->id_parent == $this_parent_id) {
            array_push($temp_array,$page);
        }
    }
    return $temp_array;
} 
```

# jquery - Valums 文件上传 - onComplete

> ID：11644676
> 
> 赞同：3
> 
> 时间：2012-07-25T07:26:27.420
> 
> 标签：jquery, file-upload

我正在使用 Valums 文件上传插件，并且在使用 onComplete 方法/触发器/事件时遇到问题，无论它叫什么......它永远不会触发。在那里设置断点，从未发生过。这是我的代码：

```
jQuery('.btnUploader').each(function (index) {
    var uploader1 = new qq.FileUploader({
        element: jQuery('.btnUploader')[index], // The HTML element to turn into the uploader
        onSubmit: function () {
            var componentId = $(this).attr('element').id;
            var teamId = clbTeams.GetValue();
            uploader1.setParams({
                componentId: componentId,
                teamId: teamId
            });
        },
        onComplete: function (id, filename, responseJSON) {
            alert('test');
        },
        action: getUrl('ControllerUploadHandler', 'TeamStatusSubmit'), // Action method that will handle the upload
        multiple: false, // Single or Mutliple file selection
        allowedExtensions: ['docx', 'jpeg', 'jpg', 'png', 'zip', 'ppt'] // File Type restrictions
    });
}); 
```

我相信，那里的函数及其参数有问题。有人有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T09:35:57.583

一切似乎都很好。查看服务器的响应。也许是一些服务器错误。

# asp.net - 带有 MySQL 数据库的 ASP.NET 配置？

> ID：11644681
> 
> 赞同：0
> 
> 时间：2012-07-25T07:26:53.257
> 
> 标签：asp.net, mysql

> **可能重复：**
> [如何使用 MySQL 设置 ASP.NET MVC 2？](https://stackoverflow.com/questions/2512852/how-do-i-setup-asp-net-mvc-2-with-mysql)

大家好，我创建并配置了一个 mySQL 数据库，并且正在使用 ASP.NET MVC 框架。我应该使用什么连接字符串来连接我的数据库？

任何人都可以建议我可以使用的教程或书籍资源吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:33:36.197

```
<connectionStrings>    
    <add name="LocalMySqlServer" connectionString="Data Source=localhost;Database=xxxxx;User Id=xxxxx;Password=xxxxxxxx;" providerName="MySQL.Data.MySqlClient"/>
</connectionStrings> 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:28:54.313

[http://www.connectionstrings.com](http://www.connectionstrings.com)包含来自不同数据库的大多数连接字符串的列表。

MySQL部分可以在这里找到：http: [//www.connectionstrings.com/mysql](http://www.connectionstrings.com/mysql)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:31:23.483

你可以试试：

[http://www.codeguru.com/csharp/.net/net_data/article.php/c19407/A-StepbyStep-Guide-To-Using-MySQL-with-ASPNET--Part-1.htm](http://www.codeguru.com/csharp/.net/net_data/article.php/c19407/A-StepbyStep-Guide-To-Using-MySQL-with-ASPNET--Part-1.htm)

[http://www.codeguru.com/csharp/.net/net_data/article.php/c19493/A-StepbyStep-Guide-To-Using-MySQL-with-ASPNET--Part-2.htm](http://www.codeguru.com/csharp/.net/net_data/article.php/c19493/A-StepbyStep-Guide-To-Using-MySQL-with-ASPNET--Part-2.htm)

# java - Apache Karaf 的 Apache Ace 功能

> ID：11644684
> 
> 赞同：0
> 
> 时间：2012-07-25T07:26:55.953
> 
> 标签：java, osgi, apache-karaf

我想在 Apache Karaf 实例上安装 Apache Ace，但找不到所需的功能。我可以在主干上看到该功能，但在已发布的发行版中看不到。

在哪里可以找到在 Karaf 上安装 Ace 功能所需的 features.xml？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T09:12:41.003

还有其他方法可以在 Karaf 中安装 Apache ACE。我使用控制台上的 install 命令安装了一些 ACE 包。就像 ace-agent 功能一样：

> 安装 mvn:org.apache.ace/org.apache.ace.managementagent/0.8.1-incubator

虽然我认为我首先构建了源代码，所以我从本地 maven 存储库中获取了捆绑包，而不是在任何外部存储库中......不确定，那是前一段时间了。如果你有 jar，你可以使用 file: 代替 :)

# c# - 从单独的控制台应用程序访问 HttpContext.Current.Application

> ID：11644687
> 
> 赞同：2
> 
> 时间：2012-07-25T07:27:00.100
> 
> 标签：c#, asp.net, .net, console-application, httpcontext

我希望能够从与 ASP.NET 网站在同一台服务器上运行的控制台应用程序中清除特定的缓存项。

如果我引用 System.Web 然后尝试 System.Web.HttpContext.Current 我总是得到空值，这是有道理的。

我尝试了这段代码并且 System.Web.HttpContext.Current 变得不为空。

代码：

```
HttpContext.Current = new HttpContext(
    new HttpRequest("", "http://tempuri.org", ""),
    new HttpResponse(new StringWriter())
    );

// User is logged in
HttpContext.Current.User = new GenericPrincipal(
    new GenericIdentity("username"),
    new string[0]
    );

// User is logged out
HttpContext.Current.User = new GenericPrincipal(
    new GenericIdentity(String.Empty),
    new string[0]
    ); 
```

但是 HttpContext.Current.Application 不能使用。我试试这个：

```
..
HttpContext.Current.Application.Add("TestValue", 1);
..
object objReturn = HttpContext.Current.Application.Get("TestValue");
if(objReturn==null)
    Console.WriteLine("objReturn is null");
else
   Console.WriteLine(objReturn); 
```

我的问题是变量`objReturn`始终为空。还有其他人对如何实现这一目标有更好的想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T08:06:02.907

缓存位于 ASP.NET 工作进程中，您不能直接从控制台应用程序访问它。HttpContext.Current 为 null，因为您不在 Web 上下文中。

我会向应用程序本身添加一个网页，允许您清除缓存项。

# php - 下载过程中如何控制浏览器进度更新？

> ID：11644690
> 
> 赞同：1
> 
> 时间：2012-07-25T07:27:08.377
> 
> 标签：php, download, http-headers, progress

我在 PHP 中编写了一个下载脚本，如下所示，我的脚本正在正确下载文件，但我感觉浏览器（chrome）进度条没有定期正确更新。

我的文件大小为 320MB，在下载该文件时，进度会随机​​更新为“11MB、76MB、200Mb 和 320MB”或“70MB 和 320MB”等。

在大多数站点中，下载进度更新是在每 MB 之后不断发生的，所以我想知道我们如何控制进度更新间隔，可能是通过发送一些额外的标头或其他东西。

我想通过定期更新进度来改善用户体验，所以请任何人帮助我以适当的方式处理这种情况。

```
// 用于 ZIP 文件下载的 HTTP 标头
// http://perishablepress.com/press/2010/11/17/http-headers-file-downloads/

// 文件变量
$filename = "电影曲调.zip";
$filepath = "文件/";

// 用于 zip 下载的 http 标头
header("Pragma: public");
header("过期时间：0");
header("Cache-Control: public,must-revalidate, post-check=0, pre-check=0");
header("内容描述：文件传输"); // MIME

header("内容类型：应用程序/八位字节流");
header("内容配置：附件；文件名=\"".$filename."\"");

header("内容传输编码：二进制"); // MIME
header("内容长度：".filesize($filepath.$filename));
ob_end_flush();
@readfile($filepath.$filename);

```

谢谢，
湿婆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:28:19.970

不，您不能影响浏览器何时/如何更新其下载进度条。

# iphone - 从 iphone sdk 中的自定义应用程序打开/关闭蓝牙、wifi 和其他设置

> ID：11644698
> 
> 赞同：0
> 
> 时间：2012-07-25T07:27:15.677
> 
> 标签：iphone, bluetooth, settings, wifi

是否有任何框架或实用程序可用于在 IOS 中从 iphone 应用程序进行 wifi/蓝牙等设置。我需要开发这样一个可以设置wifi和蓝牙开/关的应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:35:02.170

Apple 没有提供任何开箱即用的 API，但越狱 iOS 设备的情况有所不同。SBSettings 是一款可以满足您所有要求的应用程序，但只能在越狱的 iOS 设备上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:57:45.897

Something like this?

```
Class BluetoothManager = objc_getClass("BluetoothManager");
bluetoothManager = [BluetoothManager sharedInstance];
[bluetoothManager setEnabled:YES];
[bluetoothManager setPowered:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:41:19.467

使用 GameKit API 可以切换蓝牙，尽管这不是一种直接的方法。如果你想要这方面的指针，我可以分享链接（尽管需要对我的书签历史进行一些搜索），一个简单的谷歌搜索就会揭示这种方法。但我了解您的要求远不止于此，因此就像 user24921 所说，您需要越狱 iPhone/iPad 来访问这些私有 API。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:41:24.367

如果您的应用程序用于内部分发，则不需要通过 AppStore，因此不会进行审核。这是一个可能对您有帮助的答案：[Programmatically turn on bluetooth in the iphone sdk?](https://stackoverflow.com/questions/1743610/programmatically-turn-on-bluetooth-in-the-iphone-sdk)

# c# - MVC 3显示需要，在不同位置进行正则表达式验证

> ID：11644705
> 
> 赞同：3
> 
> 时间：2012-07-25T07:27:46.813
> 
> 标签：c#, asp.net-mvc-3

我已经使必需和正则表达式验证工作。唯一的问题是我想在页面内的不同位置显示它们。就像所需的验证消息将显示在文本框之前一样。正则表达式验证消息将显示在文本框之后。我该怎么做？

这是我的模型代码

```
 [Required(ErrorMessage = "*")]
 [RegularExpression(@"^[\w-]+(?:\.[\w-]+)*@(?:[\w-]+\.)+[a-zA-Z]{2,7}$", ErrorMessage = "Invalid Email")]
 public string Email { get; set; } 
```

这是我的查看代码

```
 @Html.ValidationMessageFor(p => p.Email)
 @Html.TextBoxFor(p => p.Email)
 @Html.LabelFor(p => p.Email, "Email") 
```

在上面的代码中，两个错误消息都会显示在文本框之前，我想做这样的事情

```
@Html.ValidationMessageFor(p => p.Email) - required validation message which is "*"
@Html.TextBoxFor(p => p.Email)
@Html.LabelFor(p => p.Email, "Email")
@Html.ValidationMessageFor(p => p.Email) - regular expression validation message which is "Invalid Email" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T01:47:06.170

没有什么开箱即用的功能可以让您对单个控件的单个验证错误进行精细控制。您需要手动解析来自 ModelState 的各个错误 - 请参阅此[示例](https://stackoverflow.com/questions/956872/validationmessage-handle-multiple-errors-for-the-same-property)。

# iphone - 如何在 iphone 中使用 bodmas 规则创建计算器？

> ID：11644708
> 
> 赞同：-1
> 
> 时间：2012-07-25T07:27:52.413
> 
> 标签：iphone, ios, ios5, calculator

我需要在屏幕上创建一个示例计算器，例如使用 bodmas 规则显示 3+(5*8) 然后单击等于以显示结果我该怎么做任何人帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:33:07.280

[好的，对于您提出的问题，这里](https://github.com/KingHenne/Calculator)有一个用于此要求的计算器的示例代码检查

# python - 多个消费者，是否可以克隆一个队列（gevent）？

> ID：11644713
> 
> 赞同：2
> 
> 时间：2012-07-25T07:28:31.707
> 
> 标签：python, queue, gevent

我想做这样的事情（1个队列和多个消费者）：

```
import gevent
from gevent import queue

q=queue.Queue()
q.put(1)
q.put(2)
q.put(3)
q.put(StopIteration)

def consumer(qq):
    for i in qq:
        print i

jobs=[gevent.spawn(consumer,i) for i in [q,q]]

gevent.joinall(jobs) 
```

但这是不可能的......队列被job1消耗......所以job2会永远阻塞。它给了我例外`gevent.hub.LoopExit: This operation would block forever`。

我希望每个消费者都能从一开始就使用完整的队列。（应该显示 1,2,3,1,2,3 或 1,1,2,2,3,3 ...没关系）

一个想法应该是在生成之前克隆队列，但是使用复制（浅/深）模块是不可能的；-(

还有另一种方法吗？

[编辑] 你怎么看？

```
import gevent
from gevent import queue

class MasterQueueClonable(queue.Queue):
    def __init__(self,*a,**k):
        queue.Queue.__init__(self,*a,**k)

        self.__cloned = []
        self.__old=[]

    #override
    def get(self,*a,**k):
        e=queue.Queue.get(self,*a,**k)
        for i in self.__cloned:  i.put(e) # serve to current clones
        self.__old.append(e)              # save old element
        return e

    def clone(self):
        q=queue.Queue()
        for i in self.__old: q.put(i)   # feed a queue with elements which are out
        self.__cloned.append(q)         # stock the queue, to be able to put newer elements too
        return q

q=MasterQueueClonable()
q.put(1)
q.put(2)
q.put(3)
q.put(StopIteration)

def consumer(qq):
    for i in qq:
        print id(qq),i

jobs=[gevent.spawn(consumer,i) for i in [q.clone(), q ,q.clone(),q.clone()]]
gevent.joinall(jobs) 
```

它基于RyanYe的想法。有一个没有调度程序的“主队列”。我的主队列覆盖了 GET 方法，并且可以分派到按需克隆。而且，可以在 masterqueue 启动后创建一个“克隆”（使用 __old 技巧）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:42:57.707

我建议您创建一个 greenlet 将工作分派给消费者。示例代码：

```
import gevent
from gevent import queue

master_queue=queue.Queue()
master_queue.put(1)
master_queue.put(2)
master_queue.put(3)
master_queue.put(StopIteration)

total_consumers = 10
consumer_queues = [queue.Queue() for i in xrange(total_consumers)]

def dispatcher(master_queue, consumer_queues):
    for i in master_queue:
        [j.put(i) for j in consumer_queues]
    [j.put(StopIteration) for j in consumer_queues]

def consumer(qq):
    for i in qq:
        print i

jobs=[gevent.spawn(dispatcher, q, consumer_queues)] + [gevent.spawn(consumer, i) for i in consumer_queues]
gevent.joinall(jobs) 
```

更新：修复消费者队列缺少的 StopIteration。感谢arilou指出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-26T10:54:05.903

我已将[方法添加](https://bitbucket.org/denis/gevent/changeset/1f85ba7204d8) `copy()`到 Queue 类：

```
>>> import gevent.queue
>>> q = gevent.queue.Queue()
>>> q.put(5)
>>> q.copy().get()
5
>>> q
<Queue at 0x1062760d0 queue=deque([5])> 
```

让我知道它是否有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T21:39:10.747

在 Ryan Ye 的回答中，dispatcher() 函数末尾缺少一行： [j.put(StopIteration) for j in consumer_queues] 没有它，我们仍然会得到 'gevent.hub.LoopExit: This operation will block forever'因为 'for i in master_queue' 循环不会将 StopIteration 异常复制到 consumer_queues 中。

（对不起，我还不能发表评论，所以我把它写成一个单独的答案。）

# php - GET 请求可以包含隐藏数据或参数吗？

> ID：11644723
> 
> 赞同：0
> 
> 时间：2012-07-25T07:29:20.790
> 
> 标签：php, curl, get

对于我的学校，我们必须做这些“咨询课”，告诉你关于大学等。完成课程后，我想知道我是否能够使用来自带有 cURL 的 PHP 脚本的一组请求来复制相同的过程.

我再次完成了这节课，这次是打开 Firebug 和一个 HTTP Analyzer。

令我惊讶的是，唯一的 GET 请求是在整个课程中发出的。

如果您好奇，这里是“课程”窗口的样子。这是一种幻灯片类型的东西，你阅读幻灯片，然后一些幻灯片上有问题。最后，有一个测验，如果你不通过它，这个课程就不算数。

我的问题是：如果我要设置一个登录到我的帐户的 PHP/cURL 脚本，然后发出这些请求中的每一个，那么这节课是否算完整？

现在显然你们不可能知道他们的服务器是如何工作的等等......

我想我要说的是，是否有任何*隐藏*的内容或字段可以通过 GET 请求传递？课程窗口似乎没有将足够的信息传递给服务器，以便它知道课程是否完成。

非常感谢您对我的项目的任何建议和提示！

编辑：这是我的官方测试运行（请不要做太多次）：

正如你们中的许多人暗示的那样，它没有用....但我仍然不完全确定为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:33:36.923

就像你说的，我们不能谈论他们服务器的细节，但是只有因为服务器可以使用 cookie 并在服务器上存储状态（与这些 cookie 相关联），*才*可以使用 GET 请求来做这些事情。

这可能看起来像是将额外的隐藏信息传递给服务器。

您可以研究 cookie，甚至`jsessionid`是出现在其 URL 中的东西。顺便说一句，他们至少使用了一些 Java。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:33:40.590

课程应用程序很可能将数据存储在会话或其他一些持久性数据存储服务器端，并在需要时使用浏览器中的令牌（通常是 cookie 或 GET 参数）来查找该数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:40:39.517

这是一个有点复杂的任务。仅使用 cURL 无法模拟 javascript 代码、AJAX 请求等的执行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:52:38.493

我不确定您要做什么。因为 HTTP 是无状态协议，这意味着服务器获取请求并对特定请求做出响应（可能是 GET、POST 或其他任何内容，并且可能具有一些请求参数）。系统使用中的状态性通常是通过服务器创建会话并在客户端设置 cookie 以在以后的请求中传递会话 ID 来实现的。会话 ID 用于识别客户端并跟踪他的会话。您在请求期间发送的所有内容都是纯文本。您最有可能得到的响应取决于会话状态，也将是纯文本。关于客户端，客户端没有任何隐藏的东西。您只是不知道哪些信息服务器保持在会话中，以及如何根据该信息处理请求以及您在请求期间提供的信息。

# android - 异步任务在按钮的单击事件上不显示进度对话框

> ID：11644727
> 
> 赞同：1
> 
> 时间：2012-07-25T07:29:26.410
> 
> 标签：android

在我的应用程序中，当我单击按钮时，它有时会显示进度对话框，有时在单击按钮时不显示进度对话框。

异步任务代码为：

```
public class LoadData extends AsyncTask<Void, Void, Void>
    {
        ProgressDialog pd;
        @Override
        protected void onPreExecute()
        {
            pd = ProgressDialog.show(MainActivity.this, "", "Loading...");
        }
        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub
            MainActivity.this.runOnUiThread(new Runnable() {

                public void run() {
                    // TODO Auto-generated method stub
                    LoadActivities(); // function to load data from url 

                }
            });
            return null;
        }
        @Override
        protected void onPostExecute(Void unused) 
        {
            pd.dismiss();    
        }

    } 
```

并在按钮单击事件上将其称为：

```
btn.setOnClickListener(new View.OnClickListener() {
    public void onClick(View v) {
        new LoadMoreData().execute(null);
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-09-20T16:18:03.970

错误地认为你在做的是在`doInBackground`你使用`runOnUiThreade`. 只需从您的代码中删除它。它解决了你的问题。

永远不要在 doInBackground 中使用任何线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:37:54.587

为什么在**doInBackground**中再次使用 run 方法，doInBackground 方法在后台线程上执行计算，所以无需使用**runOnUiThread**

```
 MainActivity.this.runOnUiThread(new Runnable() {

            public void run() {
                // TODO Auto-generated method stub
                LoadActivities(); // function to load data from url 

            }
        }); 
```

写吧

```
protected Boolean doInBackground(final String... args) {
        try {
            LoadActivities(); 
            return true;
        } catch (Exception e) {
            Log.e("tag", "error", e);
            return false;
        }
    } 
```

并且还要改变`new LoadMoreData().execute();`不要写空

```
 btn.setOnClickListener(new View.OnClickListener() {      
                public void onClick(View v) {
                        new LoadMoreData().execute();
                }}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:48:23.970

Nirali 的回答似乎是正确的，只是为了进行进一步的解释和一些编辑。进度对话框将在 doInBackground 方法返回值时显示。并且在您的代码中它只是创建另一个线程并完成执行，因此要在 LoadActivities exectues 执行时显示进度对话框，请在执行 doInBackground 的同一线程中执行此语句，因此更改为以下内容：

```
@Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub
            MainActivity.this.runOnUiThread(new Runnable() {

            LoadActivities(); // function to load data from url 
            return null;
        } 
```

# android - Android :: 跨应用程序的后台线程

> ID：11644729
> 
> 赞同：0
> 
> 时间：2012-07-25T07:29:28.853
> 
> 标签：android

我想检测音频耳机来播放音频文件。但我需要在专辑、艺术家、播放列表等每个选项卡中每次都检测是否连接了耳机。当我尝试这样做时。我正在创建单独的异步任务来检测每个选项卡中的设备。它工作正常。但是如果我给应用程序更多的压力，比如快速切换标签。我的应用程序的 GUI 我被冻结了。我认为它是因为运行更多的线程或线程池被转储了。

所以我有另一个想法，只有一个后台线程会运行来检查设备的连接性和功能。我们需要在应用程序的任何地方分享状态。但我不知道如何实现它。

对此有任何想法或示例代码吗？

也检查[这个帖子](https://stackoverflow.com/questions/11646113/android-ui-changes-from-shared-background-thread)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:36:43.067

要检测耳机插头与 USB 检测一样简单，您需要使用**操作 android:name="android.intent.action.ACTION_HEADSET_PLUG" />**注册接收器，并且接收器将处于活动状态

公共类 PhoneUsbReceiver 扩展 BroadcastReceiver {

```
@Override
public void onReceive(Context context, Intent intent) {
    Bundle extras = intent.getExtras();

    if (intent.getAction().equalsIgnoreCase(
            "android.intent.action.UMS_CONNECTED")){
        Toast.makeText(context, "Usb-connected..", Toast.LENGTH_SHORT)
                .show();
        Log.i("Arpit", "USB connected..");
    }
    if (intent.getAction().equalsIgnoreCase(
            "android.intent.action.UMS_DISCONNECTED")) {
        Toast.makeText(context, "USB dis-connected..", Toast.LENGTH_SHORT)
                .show();
        Log.i("Arpit", "USB dis-connected..");
    }

    if (intent.getAction().equalsIgnoreCase(
            "android.intent.action.ACTION_HEADSET_PLUG")) {
        Toast.makeText(context, "HEADSET_PLUG-connected..",
                Toast.LENGTH_SHORT).show();
        Log.i("Arpit", "HEADSET_PLUG-connected..");
    }

    if (intent.getIntExtra("state", 0) == 0) {
        Toast.makeText(context, "HEADSET_PLUG-connected..",
                Toast.LENGTH_SHORT).show();
        Log.i("Arpit", "HEADSET_PLUG-connected..");
    } else if (intent.getIntExtra("state", 0) == 1) {
        Toast.makeText(context, "HEADSET_PLUG-dis-connected..",
                Toast.LENGTH_SHORT).show();
        Log.i("Arpit", "HEADSET_PLUG-dis-connected..");
    }

} 
```

}

现在在清单中声明接收者：

```
<receiver android:name=".PhoneUsbReceiver" >

            <intent-filter >
                <action android:name="android.intent.action.UMS_CONNECTED" />
                <action android:name="android.intent.action.UMS_DISCONNECTED" />

                <action android:name="android.intent.action.ACTION_HEADSET_PLUG" />
            </intent-filter>

        </receiver> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:41:03.533

要在选项卡之间共享数据，您可以创建 HeadphoneHelper 类并将当前状态保存在静态字段中。

例如：

```
public class HeadphoneHelper {
    private static Boolean connected;

    public static Boolean isConnected() {
        return connected;
    }

    public static Boolean setConnected(Boolean isNowConnected) {
        connected = isNowConnected;
    }

} 
```

然后在您的标签中使用它：

```
Boolean headphoneConnected = HeadphoneHelper.isConnected(); 
```

# wpf - 我可以在编辑模式下获取 WPF 数据网格的光标按键事件吗？

> ID：11644735
> 
> 赞同：0
> 
> 时间：2012-07-25T07:30:02.660
> 
> 标签：wpf, datagrid, keyboard-navigation

我创建了一个 WPF 应用程序，其中包含一个带有一个可编辑列的数据网格。当用户在其中输入值，然后按下 Return 键时，焦点将移至下一行。一切都很好。

客户要求我添加对向上和向下光标键的支持，以便当网格中的单元格处于编辑模式时，按下与按下 Return 的结果相同。向上按类似于 Return，只是所选行将变为已编辑单元格上方的行，而不是下方的行。

我已经在单元格上寻找按键事件 - 不高兴 - 我已经在数据网格本身上捕获了 keydown 事件，但是当我按下光标键时这并没有触发。

任何人都可以提出解决方案吗？

编辑

应该提到，我正在使用 MVVM 样式上下文并绑定到 ICollectionView 中的一组过滤数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T08:41:00.460

使用[DataGrid.PreviewKeyDown 事件](http://msdn.microsoft.com/en-us/library/system.windows.uielement.previewkeydown.aspx)：

```
<DataGrid PreviewKeyDown="DataGrid_PreviewKeyDown" 
```

使用此事件处理程序

```
private void DataGrid_PreviewKeyDown(object sender, KeyEventArgs e)
{
    DataGrid grid = sender as DataGrid;
    ICollectionView view = CollectionViewSource.GetDefaultView(grid.ItemsSource);

    switch (e.Key)
    {
        case Key.Up:
            view.MoveCurrentToPrevious();
            e.Handled = true;
            break;
        case Key.Down:
            view.MoveCurrentToNext();
            e.Handled = true;
            break;
    }
} 
```

它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T14:35:01.777

我为 LPL 的回答给了 +1，尽管它对我不起作用，因为（我认为）使用了绑定数据上下文。然而，LPL 为我指明了正确的方向。

最后，我使用了以下代码，它适用于我的绑定数据。用户可以过滤数据，这仍然有效。我也只在编辑模式下移动选择，因为在不处于编辑模式时上下工作完美。

```
 private void OrderGrid_PreviewKeyDown(object sender, KeyEventArgs e)
    {
        var viewModel = this.DataContext as IShopOrderingViewModel;
        var view = viewModel.FilteredOrderLines as IEditableCollectionView;
        if (view.IsEditingItem)
        {
            switch (e.Key)
            {
                case Key.Up:
                    if (OrderGrid.SelectedIndex > 0)
                    {
                        OrderGrid.SelectedIndex--;
                        e.Handled = true;
                    }
                    break;
                case Key.Down:
                    if (OrderGrid.SelectedIndex < (OrderGrid.Items.Count - 1))
                    {
                        OrderGrid.SelectedIndex++;
                        e.Handled = true;
                    }
                    break;
            }
        } 
```

# java - 创建表在 MySql 中有效，但在 JDBC 中无效

> ID：11644736
> 
> 赞同：0
> 
> 时间：2012-07-25T07:30:08.810
> 
> 标签：java, mysql, exception, jdbc

这适用于MySql-

```
create database CarRentalCo;
use CarRentalCo;
create table LuxuryCars(rate varchar(5)); 
```

我试图在java中做同样的事情，使用jdbc，我得到了一个错误-

```
//Some code here
String query = 
"create database CarRentalCo; "
"use CarRentalCo; "
"create table LuxuryCars(rate varchar(5)); "
//some code here
executeUpdate(query); 
```

错误：

```
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'use CarRentalCo; create table LuxuryCars(rate varchar(5))' at line 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:37:52.777

一些 jdbc 驱动程序存在问题，包括 ; 在语句的末尾，但主要问题是每个执行更新只有一条语句。

另外，我认为在使用 jdbc 时通过查询更改数据库连接不是一个好主意。应该是 url 连接字符串的一部分。

# java - 我可以将表名作为参数传递给 java 准备好的语句吗？

> ID：11644742
> 
> 赞同：1
> 
> 时间：2012-07-25T07:30:54.743
> 
> 标签：java, mysql, prepared-statement, dao, tablename

我正在为我的 Tomcat 服务器应用程序编写 Java 中的 DAO 层，

我希望使用 Prepared Statement 包装我的查询（1\. 解析查询一次，2\. 防御 SQL 注入），我的数据库设计包含每个数据源系统的 MyISAM 表。通过 DBO 进行的大多数查询都是使用不同的表名作为参数的选择。

其中一些表可能是动态创建的。

我已经阅读了许多解释我可能不会使用表名作为 Prepared 语句的参数的帖子。

我找到了建议使用某种类型的函数（例如 mysql_real_escape_string）的解决方案，这些函数可以处理这个参数并将结果作为字符串附加到查询中，

是否有任何内置的 Jave 库函数可以以最佳优化的方式完成，或者您可能建议在 DAO 层中执行其他操作（我不喜欢将任何例程添加到它自己的数据库中）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:35:48.027

您可以对表名应用限制吗？这可能比引用更容易。例如，如果您可以说所有表名都必须匹配正则表达式，`[0-9A-Za-z_]+`那么我认为您不需要任何引用。如果你需要空格，你可能*总是*使用``table name``- 但同样，不用担心“完整”引用。

限制可用的东西通常比处理所有可能性要简单得多:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T10:16:36.967

如果您想更加安全，可以准备查询并使用提供的表名调用它以检查它是否确实存在：

```
PreparedStatement ps = conn.prepareStatement("SHOW TABLES WHERE tables = ?");
ps.setString(1, nameToCheck);
if(!ps.executeQuery().next())
  throw new RuntimeException("Illegal table name: " + nameToCheck); 
```

（这种`WHERE`情况可能需要一些修正，因为我现在手头没有 mysql）。

# java - Java 安全 https Web 服务和传输安全 (SSL)

> ID：11644743
> 
> 赞同：1
> 
> 时间：2012-07-25T07:30:58.510
> 
> 标签：java, web-services, glassfish-3, ws-security

我正在尝试使用 Java 和 Glassfish 3.1 的 Web 服务安全性：通过将 Web 服务端点的“传输保证”设置为机密，我将 Hello World Web 服务配置为在 Glassfish 的 https 侦听器（端口 8181）上运行。

在此之后，我编辑了 Web 服务属性并启用了具有传输安全 (SSL) 机制的安全服务。我正在使用由 Comodo 签名的可信证书。

在 Web 服务客户端创建中我没有错误，但是当我启动我的测试应用程序时，我收到了这个错误：

```
%% Cached client session: [Session-1, TLS_DHE_RSA_WITH_AES_128_CBC_SHA]
main, WRITE: TLSv1 Application Data, length = 320
main, WRITE: TLSv1 Application Data, length = 32
main, WRITE: TLSv1 Application Data, length = 1328
main, READ: TLSv1 Application Data, length = 768
main, READ: TLSv1 Application Data, length = 32
main, READ: TLSv1 Application Data, length = 320
main, READ: TLSv1 Application Data, length = 32
main, READ: TLSv1 Application Data, length = 32
main, called close()
main, called closeInternal(true)
main, SEND TLSv1 ALERT:  warning, description = close_notify
main, WRITE: TLSv1 Alert, length = 32
main, called closeSocket(selfInitiated)
Exception in thread "main" javax.xml.ws.soap.SOAPFaultException: Invalid Security Header
    at com.sun.xml.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:189)
    at com.sun.xml.ws.fault.SOAPFaultBuilder.createException(SOAPFaultBuilder.java:122)
    at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:119)
    at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:89)
    at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:140)
    at $Proxy43.helloWorld(Unknown Source)
    at wss_test.WSS_Test.helloWorld(WSS_Test.java:31)
    at wss_test.WSS_Test.main(WSS_Test.java:19)
Java Result: 1 
```

我试图管理 url 和证书，但结果没有改变。哪个是我的错误？我该如何解决我的问题？

提前致谢。

梅菲斯托

# objective-c - 如何在数组中获取 ipodLibrary 中所有歌曲的列表

> ID：11644750
> 
> 赞同：0
> 
> 时间：2012-07-25T07:31:25.283
> 
> 标签：objective-c, ios, xcode

> **可能重复：**
> [如何从我的 iphone 的 ipod 中获取歌曲到我在 iphone sdk 中的数组中的应用程序？](https://stackoverflow.com/questions/10221955/how-can-i-get-songs-from-my-iphones-ipod-to-my-application-in-array-in-iphone-s)

```
NSMutableArray *collectionMutableCopy = [[NSMutableArray alloc] initWithArray:myMediaItemCollection.items]; 
```

我想以数组的形式获取 ipod 中所有歌曲的列表，上面的代码对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:57:25.887

Just use the [MPMediaPickerController](https://developer.apple.com/library/ios/#documentation/MediaPlayer/Reference/MPMediaPickerController_ClassReference/Reference/Reference.html).

Take a look on this tutorial : [Tuto](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-music-library-access/)

# jquery - 如何在 Shadowbox 中加载内容之前防止 iframe 白色闪烁？

> ID：11644752
> 
> 赞同：1
> 
> 时间：2012-07-25T07:31:27.553
> 
> 标签：jquery, html, css, iframe, shadowbox

我已经设置了 shadowbox jquery 插件来启动一个画廊，该画廊由一个 vimeo 文件和 iframe 中的一些 html 内容组成。该功能运行良好，但在内容完全加载之前，我正在经历 iframe 中可怕的白色闪烁。

[你可以在这里](http://www.zoxfilms.com/final_test/)看到这个

Shadowbox 确实有一个内置的加载屏幕，但它消失得太早了 -*在*内容完全加载之前。

我已经尝试了很多解决方案，包括Chris Coyier 的[这个](http://css-tricks.com/prevent-white-flash-iframe/)，但它们对我不起作用。

我认为必须有一种方法可以通过使用 jquery 来更正现有的 Shadowbox 加载屏幕以等到内容完全加载后再消失，但我不知道该怎么做。

我目前正在使用此代码调用 Shadowbox：

```
Shadowbox.init({
    overlayOpacity: 1,
    gallery:        "test",
    continuous:     false,
    counterType:    "default",
    displayNav:     true
}); 
```

画廊的标记是：（我认为这与这里的问题无关，但为了清楚起见，这是自定义 wordpress 主题的一部分。）

```
<a class="test" href="http://player.vimeo.com/video/43642414 title=0&amp;byline=0&amp;portrait=0" allowTransparency="true" rel="shadowbox[test];player=iframe;width=960;height=540" onclick="return false;" title="<?php the_title(); ?>"><?php the_post_thumbnail(); ?></a>
<a class="test" rel="shadowbox[test]width=960;height=540" href="<?php the_permalink(); ?>" title="Credits"><?php the_post_thumbnail(); ?></a> 
```

其他一切都已完成，但需要在客户签字之前解决此问题 - 任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T12:54:27.790

我找到了一个解决方案，强制加载屏幕通过 css 保持可见，然后延迟淡出以覆盖任何白色闪烁。

```
Shadowbox.setup("a.test", {
   player:         "iframe",
   overlayOpacity:  1,
   gallery:        "test",
   continuous:     false,
   counterType:    "default",
   displayNav:      true,
   onFinish: function(){
       $('#sb-loading').css({'display': 'block'}).delay(800).fadeOut(600);
   } 
```

# mysql - MYSQL sql 在计数大于 x 的表中查找 id

> ID：11644760
> 
> 赞同：1
> 
> 时间：2012-07-25T07:31:52.960
> 
> 标签：mysql

我有一个包含原始数据的表。为了检查不需要的额外数据，我试图确定哪些 id（tickerid 是列，incomedata 是表）有超过 50 行数据。它必须遍历所有当前的股票代码（来自不同的表，收入标签）并只选择那些具有超过 50 行数据的 id。我可以通过 id 选择 *，但我不确定如何遍历所有 id

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T07:32:59.757

您可以使用`GROUP BY`to group by each `tickerid`，这将使您可以访问与每个相关的汇总信息，`tickerid`例如`COUNT`// `SUM`/ `AVG`etc...

为了您的目的，我们必须使用`COUNT`.

然后`HAVING`子句过滤掉`tickerid`50 行或更少的 s：

```
SELECT tickerid
FROM earningsdata
GROUP BY tickerid
HAVING COUNT(*) > 50 
```

这只会为您提供`tickerid`超过 50 行的 s 列表，但是如果您想显示`tickerid`此列表中的所有行和 s 信息，您可以通过将上述查询合并到：

```
SELECT a.*
FROM earningsdata a
INNER JOIN
(
    SELECT tickerid
    FROM earningsdata
    GROUP BY tickerid
    HAVING COUNT(*) > 50
) b ON a.tickerid = b.tickerid 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:39:27.777

```
SELECT tickerid 
FROM earningstickers 
WHERE tickerid 
IN 
    (SELECT tickerid
     FROM earningsdata
     GROUP BY tickerid
     HAVING COUNT(*) > 50
     ) 
```

# symfony - 无法在 symfony2 中导入资源

> ID：11644762
> 
> 赞同：6
> 
> 时间：2012-07-25T07:31:57.153
> 
> 标签：symfony

我是 symfony2 的新手。我正在设计一个表格。

我的提交操作是 task_new。而我的 routing.yml 如下：

```
task:
    pattern:   /task/
    defaults:  { _controller: AcmeTaskBundle:Task:new}
task_new:
     defaults:{_controller:AcmeTaskBundle:Task:sub} 
```

我希望在提交表单后它应该进入子操作。当我运行此代码时，出现以下错误：

> 无法从“C:/wamp/www/Symfony/app/config\routing.yml”导入资源“C:\wamp\www\Symfony\src\Acme\TaskBundle/Resources/config/routing.yml”。

我应该怎么办？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-25T07:38:03.933

当您的资源文件中有错误时，通常会出现此类错误。就你而言 - 我猜，你错过了`pattern`for`task_new`路线

还要检查是否从一`defaults`开始就在**4 个**空格之后开始

```
task_new:
    defaults: { _controller:AcmeTaskBundle:Task:sub } 
```

# c# - 调用 MonoTouch.UIKit.UIDevice.CurrentDevice.SystemVersion 时发生崩溃

> ID：11644763
> 
> 赞同：1
> 
> 时间：2012-07-25T07:31:58.487
> 
> 标签：c#, crash, xamarin.ios, uidevice

我在调用 MonoTouch.UIKit.UIDevice.CurrentDevice.SystemVersion 时发生了崩溃。它发生在模拟器上。我无法轻松地重现它...我已将调试器跟踪放在下面。

使用上下文：目标是显示正在播放的视频的进度。因为 iOS 4.X 不支持 SetProgress(v, false)。旧的 API SetProgress(v) 在 MonoTouch 5.X 中不再可用，目前我们不显示缓冲进度。

干杯，中国人民银行

```
Stacktrace:

at (wrapper managed-to-native) MonoTouch.ObjCRuntime.Messaging.IntPtr_objc_msgSend (intptr,intptr) <IL 0x00026, 0xffffffff>
at MonoTouch.UIKit.UIDevice.get_SystemVersion () [0x0000b] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIDevice.g.cs:189
at Dartfish.ControlsX.DFScrubBar.SetDownloadProgressValue (single) [0x00000] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/SystemSDK/Source/ControlsX/MonoTouch/DFScrubBar.cs:118
at MonoTouchPresenter.Common.PlaybackControlBar.UpdateBufferingProgress () [0x00017] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/Application/Dartfish.tv/iOS/MonoTouch/Common/Views/PlaybackControlBar.cs:461
at MonoTouchPresenter.Common.PlaybackControlBar.OnVideoPlayerViewModelPropertyChanged (object,System.ComponentModel.PropertyChangedEventArgs) [0x00065] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/Application/Dartfish.tv/iOS/MonoTouch/Common/Views/PlaybackControlBar.cs:383
at (wrapper delegate-invoke) <Module>.invoke_void__this___object_PropertyChangedEventArgs (object,System.ComponentModel.PropertyChangedEventArgs) <IL 0x00027, 0x000a8>
at (wrapper delegate-invoke) <Module>.invoke_void__this___object_PropertyChangedEventArgs (object,System.ComponentModel.PropertyChangedEventArgs) <IL 0x00027, 0x000a8>
at (wrapper delegate-invoke) <Module>.invoke_void__this___object_PropertyChangedEventArgs (object,System.ComponentModel.PropertyChangedEventArgs) <IL 0x00059, 0xffffffff>
at Dartfish.Common.BindableObject.RaisePropertyChanged (string) [0x0002b] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/CommonSDK/Source/Common/BindableObject.cs:40
at Dartfish.ViewModel.Player.VideoPlayerViewModel.videoPlayer_BufferingProgressChanged (object,Dartfish.Component.Media.VideoEventArgs) [0x00000] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/ViewModel/PlayerViewModel/Implementations/VideoPlayer/VideoPlayerViewModel.cs:2386
at Dartfish.Component.MediaCommon.GenericMatchPlayer.RaiseEvent (Dartfish.Component.Media.VideoEventHandler,object,Dartfish.Component.Media.VideoEventArgs) [0x00006] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/MediaComponentSDK/Source/MediaComponentCommon/Implementations/VideoPlayer/VideoPlayer.cs:2434
at Dartfish.Component.MediaCommon.GenericMatchPlayer.OnBufferingProgressChanged (object,Dartfish.Component.Media.VideoEventArgs) [0x00000] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/MediaComponentSDK/Source/MediaComponentCommon/Implementations/VideoPlayer/VideoPlayer.cs:2406
at Dartfish.Component.MediaCommon.VideoControl.OnBufferingProgressChanged (object,Dartfish.Component.Media.VideoEventArgs) [0x00096] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/MediaComponentSDK/Source/MediaComponentCommon/Implementations/VideoPlayer/VideoControl.cs:2621
at Dartfish.Component.MediaCommon.VideoControl.TimerCallback2 () [0x00366] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/MediaComponentSDK/Source/MediaComponentCommon/Implementations/VideoPlayer/VideoControl.cs:2459
at Dartfish.Component.MediaCommon.VideoControl.m_timer_Tick (object,System.EventArgs) [0x00000] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/MediaComponentSDK/Source/MediaComponentCommon/Implementations/VideoPlayer/VideoControl.cs:2166
at System.Windows.Threading.DispatcherTimer.InternalTick () [0x00019] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/SDKs/CommonSDK/Source/Common/DispatcherTimer.cs:203
at MonoTouch.Foundation.NSActionDispatcher.Apply () [0x00000] in /Developer/MonoTouch/Source/monotouch/src/shared/Foundation/NSAction.cs:48
at (wrapper runtime-invoke) object.runtime_invoke_void__this__ (object,intptr,intptr,intptr) <IL 0x0004e, 0xffffffff>
at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr) <IL 0x0009f, 0xffffffff>
at MonoTouch.UIKit.UIApplication.Main (string[],string,string) [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29
at MonoTouchPresenter.Application.Main (string[]) [0x00000] in /Users/patrick/Work/Dartfish/Dartfish Mobile/Source/Application/Dartfish.tv/iOS/MonoTouch/Main.cs:16
at (wrapper runtime-invoke) <Module>.runtime_invoke_void_object (object,intptr,intptr,intptr) <IL 0x00050, 0xffffffff>

Native stacktrace:

0   MonoTouchPresenter                  0x0007e5cc mono_handle_native_sigsegv + 284
1   MonoTouchPresenter                  0x00009af8 mono_sigsegv_signal_handler + 248
2   libsystem_c.dylib                   0x94b5159b _sigtramp + 43
3   ???                                 0xffffffff 0x0 + 4294967295
4   libsystem_c.dylib                   0x94b17903 szone_malloc_should_clear + 899
5   libsystem_c.dylib                   0x94b1866b szone_malloc + 24
6   libsystem_c.dylib                   0x94b4e962 malloc_zone_malloc + 77
7   CoreFoundation                      0x0175ca88 __CFAllocatorSystemAllocate + 24
8   CoreFoundation                      0x0175ca63 CFAllocatorAllocate + 147
9   CoreFoundation                      0x0175c8de _CFRuntimeCreateInstance + 270
10  CoreFoundation                      0x0175ed13 __CFStringCreateImmutableFunnel3 + 1955
11  CoreFoundation                      0x017664be CFStringCreateWithBytes + 94
12  CoreFoundation                      0x01783b56 _CFPropertyListCreateWithData + 822
13  CoreFoundation                      0x0178381a CFPropertyListCreateWithData + 58
14  libMobileGestalt.dylib              0x0537a069 load_dict + 433
15  libMobileGestalt.dylib              0x0537a351 copySystemVersionDictionary + 204
16  libMobileGestalt.dylib              0x0537be70 copyProductVersion + 20
17  libMobileGestalt.dylib              0x0537abd2 copyRealAnswer + 132
18  UIKit                               0x00b87a65 -[UIDevice deviceInfoForKey:] + 32
19  UIKit                               0x00b87c53 -[UIDevice systemVersion] + 44
20  ???                                 0x0bb60763 0x0 + 196478819
21  ???                                 0x111c9d04 0x0 + 287087876
22  ???                                 0x111c9bc5 0x0 + 287087557
23  ???                                 0x111c9a0c 0x0 + 287087116
24  ???                                 0x111c64c0 0x0 + 287073472
25  ???                                 0x0d09caaa 0x0 + 218745514
26  ???                                 0x0d09ca41 0x0 + 218745409
27  ???                                 0x0d09ca41 0x0 + 218745409
28  ???                                 0x0d09b9b8 0x0 + 218741176
29  ???                                 0x112aa45c 0x0 + 288007260
30  ???                                 0x11210990 0x0 + 287377808
31  ???                                 0x112aa414 0x0 + 288007188
32  ???                                 0x112ab2f3 0x0 + 288010995
33  ???                                 0x112a60ac 0x0 + 287989932
34  ???                                 0x112a536c 0x0 + 287986540
35  ???                                 0x112a34a2 0x0 + 287978658
36  ???                                 0x101885b8 0x0 + 270042552
37  ???                                 0x09ddbd48 0x0 + 165526856
38  MonoTouchPresenter                  0x0000dde2 mono_jit_runtime_invoke + 722
39  MonoTouchPresenter                  0x00153b4e mono_runtime_invoke + 126
40  MonoTouchPresenter                  0x001fbde8 monotouch_trampoline + 3416
41  Foundation                          0x005c4eb6 __NSFireTimer + 113
42  CoreFoundation                      0x0182c936 __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 22
43  CoreFoundation                      0x0182c3d7 __CFRunLoopDoTimer + 551
44  CoreFoundation                      0x0178f790 __CFRunLoopRun + 1888
45  CoreFoundation                      0x0178ed84 CFRunLoopRunSpecific + 212
46  CoreFoundation                      0x0178ec9b CFRunLoopRunInMode + 123
47  GraphicsServices                    0x0286c7d8 GSEventRunModal + 190
48  GraphicsServices                    0x0286c88a GSEventRun + 103
49  UIKit                               0x009b1626 UIApplicationMain + 1163
50  ???                                 0x0bb5b005 0x0 + 196456453
51  ???                                 0x0bb5a0e0 0x0 + 196452576
52  ???                                 0x0bb59db8 0x0 + 196451768
53  ???                                 0x0bb59f2e 0x0 + 196452142
54  MonoTouchPresenter                  0x0000dde2 mono_jit_runtime_invoke + 722
55  MonoTouchPresenter                  0x00153b4e mono_runtime_invoke + 126
56  MonoTouchPresenter                  0x00157d44 mono_runtime_exec_main + 420
57  MonoTouchPresenter                  0x001580b5 mono_runtime_run_main + 725
58  MonoTouchPresenter                  0x00068165 mono_jit_exec + 149
59  MonoTouchPresenter                  0x0000762c main + 3052
60  MonoTouchPresenter                  0x00002825 start + 53

 =================================================================
 Got a SIGSEGV while executing native code. This usually indicates
 a fatal error in the mono runtime or one of the native libraries 
 used by your application.
 ================================================================= 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T10:19:01.957

这是内存损坏。某些东西（在您调用 CurrentDevice.SystemVersion 之前）损坏了内存，然后它在一段时间后崩溃（在这种情况下是在分配内存时）。

由于分配内存很常见，很可能在您调用 CurrentDevice.SystemVersion 之前不久就发生了损坏。

我建议你尽量做一个小样本，这也可能会告诉你问题出在哪里。

# android - sqlite 数据库不支持 2.1,2.2 版本但支持 2.3

> ID：11644767
> 
> 赞同：0
> 
> 时间：2012-07-25T07:32:01.723
> 
> 标签：android, sqlite

我在我的应用程序中为 fatch 数据库实现了此代码，但它仅支持 2.3 及以上版本，但不支持 2.1、2.2 版本 请告诉我我的代码中是否写入的问题

```
public class Help extends SQLiteOpenHelper {

    private static String DB_PATH ="/data/data/com.emobi.metro/databases/";
    private static String DB_NAME ="mymetro";
    private final Context myContext;
    private static final int DATABASE_VERSION = 1;

public Help(Context context) {
    super(context, DB_NAME, null, DATABASE_VERSION);

    this.myContext = context;
}

    public void createDataBase(){
        boolean dbExist = checkDataBase();
        if(dbExist) {
            Log.e("test","createDatabase[] - db exists");
            this.getWritableDatabase();
        }else{
            Log.e("test","createDatabase[] - db not exists");
            this.getReadableDatabase();
            try {
                copyDataBase();
                Log.e("test","createDatabase[] - copied db");
            }catch (IOException e){
                Log.e("test","createDatabase[] - copied not db");
            }
            SQLiteDatabase checkDB = null;
            String myPath = DB_PATH + DB_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READWRITE);

        }
    }

    private boolean checkDataBase() {
        SQLiteDatabase checkDB = null;
        try{
            String myPath = DB_PATH + DB_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READWRITE);
            Log.e("test","opened table");
        }catch(SQLiteException e){
            Log.e("test","didn't open table - not exists");
        }
        if(checkDB != null){
            checkDB.close();
        }
        return checkDB != null ? true : false;
    }

    private void copyDataBase() throws IOException,SQLiteException{
        Log.e("tofu","copy database");
        InputStream myInput = myContext.getAssets().open(DB_NAME);

        String outFileName = DB_PATH + DB_NAME;
        OutputStream myOutput = new FileOutputStream(outFileName);

        //transfer bytes from the inputfile to the outputfile
        byte[] buffer = new byte[myInput.available()];
        int length;
        while ((length = myInput.read(buffer))>0){
            myOutput.write(buffer, 0, length);
        }
        myOutput.flush();
        myOutput.close();
        myInput.close();
    }

    public void openDataBase() throws SQLiteException, IOException{
        this.createDataBase();
        try { 
            String myPath = DB_PATH + DB_NAME;
            SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READONLY);
        }catch(SQLException sqle){
            throw sqle;
        }
    }

@Override
public void onCreate(SQLiteDatabase db) {

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    Log.e("dbUpgrade","OLD Version = "+oldVersion+"");
    Log.e("dbUpgrade","New Version = "+newVersion+"");
    myContext.deleteDatabase(DB_NAME);
    Log.e("dbUpgrade","deleted"+DB_NAME);
} 
```

}

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T12:04:10.380

只需将资产文件夹中的数据库文件 .db 扩展名更改为 .png 或任何其他可在 2.1、2.2 及更高版本设备中使用的压缩格式

# sharepoint - 在将记录添加到 sharepoint 2010 中的列表时检查条件时发生“空引用异常”

> ID：11644768
> 
> 赞同：3
> 
> 时间：2012-07-25T07:32:04.007
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-2007

我正在尝试将记录添加到 sharepoint 2010 中的“链接”列表中。我想对添加项目进行验证。我是这样写的。 ![在此处输入图像描述](../Images/510ca9be90f1ecfd9e04b9631daed5dc.png)

我试图停止输入任何包含 google 关键字的链接。下面的代码有什么问题吗。我正在为我的练习而做。我认为图像中的代码没有清楚地出现。我在这里写下来。

```
if (properties.AfterProperties["vti_url"].ToString().Contains("google"))
           {
               properties.ErrorMessage = "You should not enter the google";
                 properties.Cancel = true;
           } 
```

添加后`properties.AfterProperties["URL"].ToString().Contains("google")`运行良好。但是我的错误页面看起来不太好。这是屏幕截图。这个问题该怎么办。 ![在此处输入图像描述](../Images/a6ebd44ea93240e69142d9c28fe3a741.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:49:10.367

我会大胆猜测并说`properties.AfterProperties["vti_url"]`是`null`，因为没有名为“vti_url”的字段......你试过吗：

```
properties.AfterProperties["URL"] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:54:33.400

`enter code here`Hinek 提到的评论很可能是正确的

```
 /// <summary>
    /// Checks the object to see if it's null, if it isn't it will return the string value of the object.
    /// </summary>
    /// <param name="value">(object) The object you want to check.</param>
    /// <returns>(string) The string value of the object.</returns>
    public static string CheckForNullValue(object value)
    {
        string tmpValue = string.Empty;
        try
        {
            if (value != null)
            {
                if (!string.IsNullOrEmpty(value.ToString()))
                {
                    tmpValue = value.ToString();
                }
            }
        }
        catch (Exception exc)
        {
            Error.Log("Failed to check for null value Value passed in" + value, exc, Error.ErrorType_Error);
            throw exc;
        }
        return tmpValue;
    }

string url = CheckForNullValue(properties.AfterProperties["vti_url"])

if (url.Contains("Google"))   
       {   
           properties.ErrorMessage = "You should not enter the google";   
             properties.Cancel = true;   
       } 
```

希望这可以帮助

# android - 在图像视图中滚动图像？

> ID：11644770
> 
> 赞同：0
> 
> 时间：2012-07-25T07:32:14.037
> 
> 标签：android

我有一个尺寸约为 1200x800 的图像。现在我想在 ImageView 中显示它，这样图像不会按比例缩小以适应设备的屏幕，而是允许我滑动到查看图像的其他部分。基本上就像在谷歌的 MapView 中一样。这可以使用 ImageView 还是我应该使用其他方法？谢谢你的帮助。

我尝试在谷歌中寻找答案，但我似乎无法为我的问题找到合适的术语，所以我总是一无所获。

# proxy - 使用 nginx http auth 保护 Jenkins，回调 url 除外

> ID：11644774
> 
> 赞同：8
> 
> 时间：2012-07-25T07:32:34.297
> 
> 标签：proxy, nginx, jenkins, http-authentication

我在我的服务器上安装了 jenkins，我想用 nginx http auth 保护它，以便请求：

```
http://my_domain.com:8080
http://ci.my_domain.com 
```

将受到保护，但一个位置除外：

```
http://ci.my_domain.com/job/my_job/build 
```

需要触发构建。我对 nginx 有点陌生，所以我坚持使用 nginx 配置。

```
upstream jenkins {
  server  127.0.0.1:8080;
}

server {
  listen x.x.x.x:8080;
  server_name *.*;

  location '/' {
    proxy_pass http://jenkins;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_redirect off;

    auth_basic "Restricted";
    auth_basic_user_file /path/.htpasswd;    
  }
} 
```

我尝试了上面的配置，但是当我访问时`http://my_domain.com:8080`没有 http auth。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-25T13:51:37.110

最后我想出了如何解决这个问题。首先，我们需要在 Manage Jenkins 页面取消选中“Enable security”选项。禁用安全性后，我们可以通过请求触发我们的工作，例如`http://ci.your_domain.com/job/job_name/build`.

如果要添加令牌来触发 URL，我们需要启用安全性，选择“基于项目的矩阵授权策略”并将管理员权限授予匿名用户。在项目的配置页面中之后将是“远程触发构建”选项，您可以在其中指定令牌，以便您的请求看起来像`JENKINS_URL/job/onru/build?token=TOKEN_NAME`

因此，在禁用安全性的情况下，我们需要使用 nginx http_auth保护[http://ci.your_domain.com](http://ci.your_domain.com)`/job/job_name/build'` ，除了.

当然，我们需要对外部请求隐藏 8080 端口。由于我的服务器在 Ubuntu 上，我可以使用**iptables**防火墙：

```
iptables -A INPUT -p tcp --dport 8080 -s localhost -j ACCEPT
iptables -A INPUT -p tcp --dport 8080 -j DROP 
```

但！在 ubuntu 上（我不确定其他 linux oses）iptables 将在重启后消失。所以我们需要保存它们：

```
iptables-save 
```

这还不是结束。使用这个命令，我们只是得到一个带有 iptables 的文件。在启动时，我们需要加载 iptables，最简单的方法是使用“uptables-persistent”包：

```
sudo apt-get install iptables-persistent
iptables-save > /etc/iptables/rules 
```

如果需要，请仔细查看 iptables [https://help.ubuntu.com/community/IptablesHowTo#Saving_iptables](https://help.ubuntu.com/community/IptablesHowTo#Saving_iptables)并祝 Jenkins 好运！

在服务器的子域上运行 jenkins 有一个很好的例子：[https ://wiki.jenkins-ci.org/display/JENKINS/Running+Hudson+behind+Nginx](https://wiki.jenkins-ci.org/display/JENKINS/Running+Hudson+behind+Nginx)

# couchdb - CouchDB reduce 函数未正确分组发出的值

> ID：11644776
> 
> 赞同：2
> 
> 时间：2012-07-25T07:32:41.357
> 
> 标签：couchdb

我是 CouchDB 的新手，正在玩 curl，但我似乎无法正确减少我的数据

```
curl -X POST -d '{ 
  "map":"function(doc){ emit(doc.loc, 1) }",
  "reduce":"function(keys, values){ return sum(values) }"
}' -H 'Content-Type: application/json' 'http://localhost:5984/users/_temp_view' 
```

我的意图是根据他们的位置（doc.loc）减少我的文档，例如“US”、“AU”、“CA”。

我希望得到这样的东西：

```
{
  "rows":[
   {"key":"US", "value":10},
   {"key":"AU", "value": 5},
   {"key":"CA", "value": 10}
  ]
} 
```

但是相反，我得到了一个包含所有文档计数的空键

```
{"rows":[{"key":null,"value":1822}]} 
```

就像我试过的理智检查一样

```
emit(doc.loc, doc.loc) 
```

并得到

```
{"rows":[{"key":null,"value":"00AUAUAUAU... 
```

这意味着我的数据上确实有一个 doc.loc

* * *

同样，这完全是新手级别，所以我可能错过了非常简单的内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:55:53.560

解决了我`?group=true`在查询中遗漏的问题。

```
curl -X POST -d '{ 
  "map":"function(doc){ emit(doc.loc, 1) }", 
  "reduce":"function(keys, values){ return sum(values) }" 
}' -H 'Content-Type: application/json' 'http://localhost:5984/users/_temp_view?group=true' 
```

给了我预期的结果

```
{"rows":[{"key":"--","value":25},{"key":"AU","value":493}, ... 
```

# java - 从打开的编辑器中获取光标的位置

> ID：11644780
> 
> 赞同：0
> 
> 时间：2012-07-25T07:32:58.660
> 
> 标签：java, eclipse-plugin

我有一个插件（eclipse），它将在打开的 java 类中的当前光标位置添加一个代码片段。我使用以下代码获取光标位置：

```
final ITextSelection selection = (ITextSelection) editorPart.getEditorSite().getSelectionProvider().getSelection();
final ITextEditor editor = (ITextEditor) editorPart.getAdapter(ITextEditor.class);
final IDocumentProvider documentProvider = editor.getDocumentProvider();
final IDocument document = documentProvider.getDocument(editor.getEditorInput());
final String finalSnippet = snippet.trim();
document.replace(selection.getOffset(), 0, finalSnippet); 
```

当我从保存的 java 类中调用我的插件时，我得到了光标的正确位置。但是，如果我在 java 类中进行任何更改，并在不保存 java 类的情况下调用插件，则光标位置是错误的。好像。上面的代码考虑了 java 类的保存副本并计算位置，而不是在编辑器中打开的当前副本。

我使用以下代码获取编辑器对象：

```
editorPart = this.window.getWorkbench().getActiveWorkbenchWindow().getActivePage().getActiveEditor(); 
```

有没有办法让光标的位置（行和列）与编辑器中的完全一样，即使该类是否已保存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:57:03.703

You can try calling editor.getAdapter(ITextEditor.class) and then casting it to a StyledText then get the cursor position from that StyledText#getCaretOffset().

See some other link also :
[How to get cursor position in an eclipse TextEditor](https://stackoverflow.com/questions/6827797/how-to-get-cursor-position-in-an-eclipse-texteditor)
[Eclipse-plugin how to get current text editor corsor position](https://stackoverflow.com/questions/1619623/eclipse-plugin-how-to-get-current-text-editor-corsor-position)

# android - 为什么下拉微调器不显示在屏幕上？

> ID：11644783
> 
> 赞同：0
> 
> 时间：2012-07-25T07:33:02.393
> 
> 标签：android

嗨，我需要像图片中一样的下拉列表![在此处输入图像描述](../Images/0b82568cfb873d99c4a8a1eab506180a.png)

为此，我的代码如下：-

```
<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="35dip"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="60dip"
            android:layout_height="wrap_content"
            android:layout_marginLeft="15dip"
            android:text="Picture"
            android:textColor="#000000"
            android:textSize="18dip" />

        <View
            android:layout_width="34dp"
            android:layout_height="40dip" />

        <Spinner
            android:id="@+id/picturelist"
            android:layout_width="206dp"
            android:layout_height="30dip"
            android:ellipsize="end"
            android:gravity="center"
            android:imeOptions="actionNext"
            android:singleLine="true"
            android:entries="@array/picture_arrays"
            android:prompt="@string/prompt"
            android:textColor="#000000" />
    </LinearLayout> 
```

但输出如图所示：-![在此处输入图像描述](../Images/96c88ea90f2b0f363fba876ab935397a.png)

请任何人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:45:46.040

Try this instead..

```
<Spinner
  android:id="@+id/picturelist"
  android:layout_width="206dp"
  android:layout_height="30dip"
  android:ellipsize="end"
  android:gravity="center"
  android:imeOptions="actionNext"
  android:entries="@array/picture_arrays"
  android:prompt="@string/prompt"
  android:textColor="#000000" /> 
```

**Edit:**
To Change the Color,Please **[See this](https://stackoverflow.com/questions/5836254/android-change-text-color-of-items-in-spinner)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:42:31.947

我可以看到右下角的下拉菜单（浅灰色）。如果您希望它相当明显，请增加对比度，例如更改其颜色与活动的背景颜色形成对比。

# jsf - RestEasy 文件上传进度

> ID：11644788
> 
> 赞同：2
> 
> 时间：2012-07-25T07:33:19.087
> 
> 标签：jsf, jboss, seam, resteasy

将文件发布到 resteasy 服务时，类似于此博客文章[http://www.mkyong.com/webservices/jax-rs/file-upload-example-in-resteasy/](http://www.mkyong.com/webservices/jax-rs/file-upload-example-in-resteasy/)

跟踪服务器接收到的字节进度的最佳方法是什么，例如文件上传的进度条？

# android - 如何从任何其他应用程序打开内置的谷歌日历？

> ID：11644789
> 
> 赞同：1
> 
> 时间：2012-07-25T07:33:18.550
> 
> 标签：android, google-calendar-api

我正在 android 中开发一个应用程序，我想使用 android 提供的 inbulit 电话日历。无论如何，我希望当用户单击按钮时会出现谷歌日历？请帮助..提前谢谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:37:20.500

请参阅此[文档](http://developer.android.com/guide/topics/providers/calendar-provider.html#intents)，了解日历意图以及[如何查看日历](http://developer.android.com/guide/topics/providers/calendar-provider.html#intent-view)。

# c# - 在 C# 运行时更新 app.config 文件中的连接字符串

> ID：11644800
> 
> 赞同：3
> 
> 时间：2012-07-25T07:34:17.193
> 
> 标签：c#, connection-string

我创建了一个应用程序，在该应用程序中将插入、更新和删除数据库中的数据操作

我还为连接设置创建了一个表单，用户可以在其中更新服务器名称、数据库以及用户 ID 和密码。我已将连接字符串存储在 app.config 文件中。

我的问题是，如何在运行时更新 app.config 文件中的连接字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:43:46.277

你可以试试这个：

```
Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
config.ConnectionStrings.ConnectionStrings.Add(new ConnectionStringSettings("MyConnectionString",String.Format("DataSource={0};InitialCatalog={1};IntegratedSecurity={2}","testing", "testing2", "Testing6")));
config.Save(ConfigurationSaveMode.Modified, true);
ConfigurationManager.RefreshSection("connectionStrings"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T17:06:38.490

我相信您的 App.Config 没有更新，因为它正在使用 vshost。我今天遇到了这个问题，我尝试了这篇文章的解决方案，但是在 VisualStudio 上运行，所以文件是一样的。在 VS 之外，它起到了一种魅力。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-18T14:24:15.040

**App.cofig**代码

```
 <?xml version="1.0" encoding="utf-8"?>
        <configuration>
     <configSections>
            <section name="dataConfiguration"type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data, Version=3.1.0.0, Culture=neutral,        PublicKeyToken=b03f5f7f11d50a3a" />
     </configSections>
    <connectionStrings>
  <add name="DbDatabase" providerName="System.Data.SqlClient" connectionString=""/>
</connectionStrings> 
```

C# 代码

```
 public void updateConfigFile(string con)
    {
        //updating config file
        XmlDocument XmlDoc = new XmlDocument();
        //Loading the Config file
        XmlDoc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
       // XmlDoc.Load("App.config");
        foreach (XmlElement xElement in XmlDoc.DocumentElement)
        {
            if (xElement.Name == "connectionStrings")
            {
                //setting the coonection string
                xElement.FirstChild.Attributes[2].Value = con;
            }
        }
        //writing the connection string in config file
        XmlDoc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
        //XmlDoc.Save("App.config");
    }

 private void btn_Connect_Click(object sender, EventArgs e)
    {
        StringBuilder Con = new StringBuilder("Data Source=");
        Con.Append(txt_ServerName.Text);
        Con.Append(";Initial Catalog=");
        Con.Append(txt_DatabaseName.Text);
        if (String.IsNullOrEmpty(txt_UserId.Text) &&String.IsNullOrEmpty(txt_Password.Text))
            Con.Append(";Integrated Security=true;");
        else
        {
            Con.Append(";User Id=");
            Con.Append(txt_UserId.Text);
            Con.Append(";Password=");
            Con.Append(txt_Password.Text);
        }
        string strCon = Con.ToString();
        updateConfigFile(strCon);

        DatabaseTableDA da = new DatabaseTableDA();
        tableList = da.Select_Tables();
        this.lstTables.DataSource = tableList;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:37:54.227

你可以试试这个：

```
private void changeValue(String KeyName, String KeyValue)
{
System.Configuration.Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);

// Update the setting.
config.AppSettings.Settings[KeyName].Value = KeyValue;

// Save the configuration file.
config.Save(ConfigurationSaveMode.Modified);

// Force a reload of the changed section.
ConfigurationManager.RefreshSection("appSettings");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-08-26T08:22:05.923

尝试这个：

```
var config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
var connectionStringsSection = (ConnectionStringsSection)config.GetSection("connectionStrings");
connectionStringsSection.ConnectionStrings["ClientCN"].ConnectionString = "server=localhost;user=root;port=3306;password=abc";
config.Save();
ConfigurationManager.RefreshSection("connectionStrings"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-26T08:18:38.580

```
 var config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
 var connectionStringsSection = (ConnectionStringsSection)config.GetSection("connectionStrings");
 connectionStringsSection.ConnectionStrings["ClientCN"].ConnectionString = "server=localhost;user=root;port=3306;password=abc";
 config.Save();
  ConfigurationManager.RefreshSection("connectionStrings"); 
```

# mysql - Rails 创建 schema_migrations - Mysql2::Error: Specified key was too long

> ID：11644804
> 
> 赞同：9
> 
> 时间：2012-07-25T07:34:40.583
> 
> 标签：mysql, ruby-on-rails, activerecord, rails-migrations

我正在使用 Rails 3.2.6 和 Mysql 6.0.9（但我在 MySQL 5.2.25 上遇到了完全相同的错误）

当我创建新数据库（`rake db:create`）然后尝试加载架构（`rake schema:load`）时，我收到此错误：

```
Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
```

经过数小时的研究，我找到了以下解决方案：

## 1\. 将 MySQL 变量 innodb_large_prefix 更改为 true（或 ON）

这没有用。我在我的 Linux 服务器、我的 Mac 甚至 Windows 上都试过了——它就是不工作。

## 2\. Monkeypatch ActiveRecord::SchemaMigration.create_table

我不需要该`version`列长度为 255（当它是 UTF-8 时，它需要 4*255 = 1020 字节并超过 MySQL 对键的 767 字节限制）。我也不需要它是 UTF-8，但数据库中的所有其他表都是 UTF-8 并且我已将 utf8_czech_ci 设置为默认排序规则。

实际创建 schema_migrations 表的方法如下所示：

```
def self.create_table
  unless connection.table_exists?(table_name)
    connection.create_table(table_name, :id => false) do |t|
      t.column :version, :string, :null => false
    end
    connection.add_index table_name, :version, :unique => true, :name => index_name
  end
end 
```

[您可以在Github rails/rails](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/schema_migration.rb)上阅读整个文件

所以我试图添加`:limit => 100`到`t.column`声明中，但我也没有成功使用这个解决方案。问题是当原版已经到位时，我无法加载此补丁。换句话说 - 我的补丁在ActiveRecord::SchemaMigration*之前加载，所以它被覆盖了。*

当我把它放进去时`config/initializers/patches/schema_migration.rb`：

```
require 'active_record/scoping/default'
require 'active_record/scoping/named'
require 'active_record/base'

module ActiveRecord
  class SchemaMigration < ActiveRecord::Base
    def self.create_table
      unless connection.table_exists?(table_name)
        connection.create_table(table_name, :id => false) do |t|
          t.column :version, :string, :null => false, :limit => 100
        end
        connection.add_index table_name, :version, :unique => true, :name => index_name
      end
    end
  end
end 
```

它已成功加载，但在加载原始 ActiveRecord::SchemaMigration 时会被覆盖。

我试图弄乱 ActiveSupport.on_load(:active_record) 但这似乎也不起作用。

**有没有办法在原始的 ActiveRecord::SchemaMigration 到位后加载这个文件并使这个补丁工作？**

你有什么建议吗？如果这对您没有意义，我可以澄清这个问题的任何部分。尽管问我。我已经坚持这个太久了。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T16:55:23.837

767 键应该可以工作。确保使用`utf8`编码，而不是`utf16`. 我有同样的问题，我的错误是我不小心创建了`utf16`数据库

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-09-22T23:56:46.430

我建议您删除数据库并按照以下说明重新创建一个新数据库：

```
 mysql -u root -p -e "CREATE DATABASE {DB_NAME} DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-30T16:06:25.327

对于长度为 2000 的 varchar 的名为 version 的列，我遇到了同样的问题

```
class AddVersionToUsers < ActiveRecord::Migration
  def change
    add_column :users, :version, :string, limit:2000
    add_index  :users, :version
  end
end 
```

我正在使用这个 latin 1 1 character 1 byte，但现在我想使用 utf8mb4 1 character 4 bytes。

像这样配置您的数据库，您可以获得直到 3072 字节的索引：

```
docker run -p 3309:3306 --name test-mariadb -e MYSQL_ROOT_PASSWORD=Cal1mero. -d mariadb:10.2 --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --innodb-large-prefix=1 --innodb-file-format=barracuda --innodb-file-per-table=1 --innodb-strict-mode=1 --innodb-default-row-format=dynamic 
```

这对于 latin_1 来说已经足够了，（将是 2000 字节），但对于 utf8mb4 来说，它将是 8000 字节。在此键中，您有一些选择

添加一个名为 hash_version 的列并在该列上实现索引。

[一致的 String#hash 仅基于字符串的内容](https://stackoverflow.com/questions/6536885/consistent-stringhash-based-only-on-the-strings-content)

使字符串更短，它应该可以工作，但取决于您的需要

或在迁移中使用全文，如下所示：

```
class AddVersionToUsers < ActiveRecord::Migration
  def change
    add_column :users, :version, :string, limit:2000
    add_index  :users, :version, type: :fulltext
  end
end 
```

参考：

*   [https://mensfeld.pl/2016/06/ruby-on-rails-mysql2error-incorrect-string-value-and-specified-key-was-too-long/](https://mensfeld.pl/2016/06/ruby-on-rails-mysql2error-incorrect-string-value-and-specified-key-was-too-long/)
*   [https://codex.wordpress.org/Converting_Database_Character_Sets](https://codex.wordpress.org/Converting_Database_Character_Sets)
*   [https://dev.mysql.com/doc/refman/8.0/en/innodb-restrictions.html](https://dev.mysql.com/doc/refman/8.0/en/innodb-restrictions.html)
*   [https://docs.oracle.com/cd/E17952_01/mysql-5.7-en/innodb-restrictions.html](https://docs.oracle.com/cd/E17952_01/mysql-5.7-en/innodb-restrictions.html)
*   [https://dba.stackexchange.com/questions/35821/possible-index-on-a-varchar-field-in-mysql](https://dba.stackexchange.com/questions/35821/possible-index-on-a-varchar-field-in-mysql)

# search - Lucene.net 解析字段以创建 LIKE 等效搜索

> ID：11644807
> 
> 赞同：1
> 
> 时间：2012-07-25T07:35:04.207
> 
> 标签：search, lucene, lucene.net

到目前为止，我发现 Lucene 非常棒，但是我在复制 LIKE 等效搜索时遇到了一些问题。

在我正在处理的应用程序中，我需要“简化”（LIKE）搜索和高级（全文）搜索选项。数据是基于用户的（姓名、位置等），所以不是大量的文本。

在过去，我只是创建一个连接数据库字段名称的 SQL 查询，并用通配符包围这些术语。我可以在我的应用程序中这样做，绕过 lucene 进行简单的用户数据搜索——但使用 lucene 会很好。

我试过正则表达式搜索

```
var query = QueryParser.Escape(_query);
var search = new RegexQuery(new Term("name",string.Concat(".*", _query, ".*"))); 
```

但它们只适用于一列。

我的一个想法是对每个字段进行标记以产生类似于全文搜索的内容，例如：

姓名：保罗

所以我创建了以下名称字段...

保罗·保罗·保罗·奥勒奥

这会破坏在 LIKE SQL 搜索上使用 lucene 的意义吗？它真的会产生我想要的结果吗？

解决此问题的最佳方法是什么？

**编辑：**

稍微修改一下这个问题的代码：

[在单词边界上将字符串拆分为 2 个字符串以最小化长度差异的优雅方法](https://stackoverflow.com/questions/3680346/elegant-way-to-split-string-into-2-strings-on-word-boundaries-to-minimize-length)

生成这个标记器：

```
 private IEnumerable<string> Tokeniser(string _item)
    {
        string s = _item;

        const int maxPrefixLength = 10;
        const int maxSuffixLength = 10;
        const int minStemLength = 1;

        var tokens = new List<string>();

        for (int prefixLength = 0; (prefixLength + minStemLength <= s.Length) && (prefixLength <= maxPrefixLength); prefixLength++)
            for (int suffixLength = 0; (suffixLength + prefixLength + minStemLength <= s.Length) && (suffixLength <= maxSuffixLength); suffixLength++)
            {
                string prefix = s.Substring(0, prefixLength);
                string suffix = s.Substring(s.Length - suffixLength);
                string stem = s.Substring(prefixLength, s.Length - suffixLength - prefixLength);

                if (prefix.Length > 1)
                    if (!tokens.Contains(prefix))
                        tokens.Add(prefix);

                if (suffix.Length > 1)
                    if (!tokens.Contains(suffix))
                        tokens.Add(suffix);

                if (stem.Length > 1)
                    if (!tokens.Contains(stem))
                        tokens.Add(stem);
            }

        return tokens;
    } 
```

搜索结果确实提供了 LIKE 搜索的等价物。我的“用户”表的大小永远只有 9000 个实体——所以至少对我来说，这可能符合我的需要。

这样做有什么缺点吗（除了更大的 lucene 索引？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-28T12:29:07.733

基于字符的 n-gram（NGramTokenizer、NGramTokenFilter、EdgeNGramTokenizer 和 EdgeNGramTokenFilter 应该提供您需要的功能。

# python - 在多个控制台中显示的进程的输出

> ID：11644808
> 
> 赞同：0
> 
> 时间：2012-07-25T07:35:12.327
> 
> 标签：python, linux, ssh, console

我有一个在后台连续运行并在标准输出上打印一些日志的 python 脚本。如果我通过 ssh 在同一台机器上与同一用户登录，但是我看不到输出，因为（我猜）我打开了不同的 shell。有没有办法指定这个进程的标准输出必须被我登录的所有 shell 看到，并且使用与启动进程的用户相同的用户名？

或者，我想将输出重定向到一个文件并打开这个文件……但是我更愿意避免这样的解决方案。

提前感谢您的任何建议……</p>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:01:45.887

在 UNIX 中，您可以使用命令写入所有 shell `wall`。我不确定是否有 Python 绑定`wall`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T06:01:12.433

我已经看到确实屏幕可以满足我的需要...谢谢伊格纳西奥

# c# - SOAP 标头身份验证不起作用？

> ID：11644812
> 
> 赞同：2
> 
> 时间：2012-07-25T07:35:32.667
> 
> 标签：c#, .net, web-services, soapheader

我使用的是 SOAP 标头，我需要从数据库中对其进行身份验证。因此，我尝试创建一个类并使用一种方法，当我们传递用户名和密码时，它将返回数据库中是否存在。

```
----- My Main Class ---
[WebMethod, SoapHeader("AuthenticateUser")]
public System.Xml.XmlElement CancelUSer(string _UserID, string _Remarks)
{

    if (UsersAuth.ValidateUser(AuthenticateUser.UserName, AuthenticateUser.Password) > 0)
    {
//METHODS

     }
 } 
```

* * *

```
public class UserAuthenticateHeader : SoapHeader
{
public string UserName;
public string Password; 
```

}

```
public class UsersAuth
{
static OracleConnection con;
public UsersAuth()
{
 con = new OracleConnection(WebConfigurationManager.ConnectionStrings["conString"].ToString());
}

public static int ValidateUser(string _UserName, string _Password)
{
    int Result = 0;
    using (OracleCommand cmd = new OracleCommand("SELECT COUNT(*) FROM USES WHERE UID=:UID AND PASSWORD=:PASSWORD", con)) {
        cmd.Parameters.AddWithValue(":UID", _UserName);
        cmd.Parameters.AddWithValue(":PASSWORD", _Password);
        con.Open();
        Result = Convert.ToInt32(cmd.ExecuteScalar());
        con.Close();
    }
    return Result;
} 
```

}

现在，当我从我的程序中调用它时，它会将 ObjectReferenceNotSet 扔到一个对象的实例中。我已经为应用程序中的方法设置了用户名、密码和 Headervalue。但它没有达到“ **ValidateUser** ”方法。

有什么方法可以实现这一目标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T09:55:03.220

我解决了。由于该方法是静态的，因此它没有调用 OracleConnection。我将 OracleConnection 声明更改为 Method。现在它的工作。

由于方法是静态的，我们不需要创建类的对象。没有对象，构造函数将不会被调用。这就是问题所在。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T10:32:11.160

只要构造函数是静态的，您就可以将连接对象实例化保留在构造函数中。IE

```
public static UsersAuth()
{
    con = new OracleConnection(WebConfigurationManager.ConnectionStrings["conString"].ToString());
} 
```

这样做的好处是只创建一个连接，而不是为每个方法调用创建一个新连接。您需要考虑是否需要重用连接，如果需要，是否以及何时关闭连接。

# rest - 谷歌浏览器扩展简单 REST 客户端

> ID：11644817
> 
> 赞同：12
> 
> 时间：2012-07-25T07:35:47.597
> 
> 标签：rest, google-chrome, post

我正在使用 Google chrome 扩展工具[Simple REST Client](https://chrome.google.com/webstore/detail/fhjcajmcbmldlhcimfajhfbgofnpcjmb?utm_source=chrome-ntp-icon)来测试我的网络服务。如何使用多个参数调用 post 方法。我在互联网上搜索，这个应用程序没有足够的文档。

示例 POST 方法

```
 @POST
     @Path("createcategory")
     @Consumes("application/x-www-form-urlencoded")
     @Produces(MediaType.APPLICATION_XML)
     public void CreateCategory(@FormParam("cname") String cname,@FormParam("cdescription") String cdescription) 
    {

     CategoriesBO category = new CategoriesBO();
     category.setCategoryName(cname);
     category.setCategoryDescription(cdescription);

     CategoriesEntityHandler handler = new CategoriesEntityHandler();
     try {
        category = handler.createCategory(category);

    } catch (Exception e) {

    }

} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-07T20:49:48.550

[此链接](http://programmingnotes.thinktanktheory.com/chrome-simple-rest-client/)建议添加

```
"Content-Type: application/x-www-form-urlencoded" 
```

在标题框中和参数列表中：

```
(param1=val1&param2=val2&...) 
```

在对我有用的数据框中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-16T13:27:31.910

对于“标题”，每个标题都需要在换行符上：

```
Content-Type: application/json
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36 
```

虽然“数据”需要采用 json 格式，但如下所示：

```
{"login":"USERNAME","password":"PASSWORD"} 
```

使用参数列表对我不起作用。

# c# - 访问路径 [C:\blah blah blah.txt] 被拒绝

> ID：11644819
> 
> 赞同：-1
> 
> 时间：2012-07-25T07:36:02.667
> 
> 标签：c#, windows-server-2008-r2

我有一个 C# 应用程序，它只是从服务器读取数据并将它们转换为 txt 文件。这些代码最初来自VB 2005或VB 2008（继承自我以前辞职的同事）因此，我将所有代码导入vb 2010。当我调试时，代码运行良好。每当我作为 exe 文件或独立文件发布时，我都会遇到“访问路径 [C:\blah blah blah.txt] 被拒绝”。没有其他任何更改，我尝试更改文件夹权限并将其设置为所有者和最大值用户的权利。

我的服务器是 Windows Server 2008 R2

> 编辑：我没有使用 IIS，因为它不是 Web 服务器，它只是一个保存我的数据库的普通服务器。
> 
> 编辑2：如果我“以管理员身份运行”而我的用户没有管理员权限，我只能让它运行而不会出现错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:45:42.327

转到exe文件的属性并检查“以管理员身份运行”检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:45:41.967

原因可能是因为您的应用程序是 Click Once 应用程序，当它在用户上下文下运行时需要提升，因此如果您无权访问 C:\blah blah 并进行更改，您也将无法使用您的应用程序。

我对你的推荐？

我个人会将文本文件写入用户文档文件夹或与用户配置文件相关的任何内容，这样您的点击一次应用程序永远不需要提升，因为它现在在受一些严格限制的托管环境中运行。

希望这能澄清一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:46:04.853

不要写入系统驱动器的根目录……这就是问题所在（较新的操作系统设置了权限以防止任意应用程序污染系统根目录）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T08:13:45.260

右键单击包含您的文件的文件夹，选择“属性”。转到安全选项卡。单击“编辑权限”...单击“添加”。当提示输入用户名时，输入`Everyone`。根据需要设置权限（至少读取，可能的创建/更改）。

现在尝试以非管理员身份运行可执行文件

而不是`Everyone`您可以使用您希望能够使用该应用程序的特定用户的用户名或他们所在的任何 Windows 安全组的用户名。

# java - 在双子座容器中扩展战争包导入

> ID：11644822
> 
> 赞同：0
> 
> 时间：2012-07-25T07:36:27.813
> 
> 标签：java, osgi, eclipse-gemini

如果我将一个war文件部署到一个gemini容器中（例如virgo有一个），它将通过添加一些包导入（除了其他东西）即时转换成一个osgi包。是否可以使用例如捆绑侦听器或类似的东西以某种方式扩展这些默认包导入？问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:59:20.057

我强烈建议您在部署到 Gemini 容器之前自己进行转换，而不是强制 Gemini 即时进行转换。首先，这很容易做到；其次，部署速度会更快；第三，您将能够添加所需的特定导入。

为了将标准 WAR 文件转换为与传统 WAR 部署保持兼容的 WAB（Web 应用程序包），您只需将以下标头添加到`MANIFEST.MF`WAR 中：

*   `Web-ContextPath`定义将提供 Web 应用程序的上下文路径
*   设置`Bundle-ClassPath`为`WEB-INF/classes`加上`WEB-INF/lib`. 您必须明确命名这些，例如：`Bundle-ClassPath: WEB-INF/classes,WEB-INF/lib/a.jar,WEB-INF/lib/b.jar...`
*   `Import-Package: javax.servlet,javax.servlet.http`加上您要导入的任何其他内容。

# jquery - jquery .click(function) 不起作用

> ID：11644824
> 
> 赞同：0
> 
> 时间：2012-07-25T07:36:31.620
> 
> 标签：jquery, click, append

今天早上遇到了一个问题。我写了以下几行：

```
var Markup = '<div id="overlay"><h1>Test</h1><a id="close">Close</a></div>';

    $(document).ready(function() {
        $("#link").click(function() {
            $("body").append(Markup);
            $("#overlay").delay(500).animate({"opacity":"0.97"},2000);
        });

        $("#close").click(function() {
            $("#overlay").delay(500).animate({"opacity":"0"},2000);
            $("body").remove(Markup);
        });
    }); 
```

当我单击#link 时，覆盖显示完美，但#close 链接不起作用。只是什么都没有发生。单击#close 后标记仍然存在。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:39:48.967

调用方法时对DOM中元素的`.click()`唯一工作，在您的情况下是当DOM准备好时。您需要改为使用[`.on()`](http://api.jquery.com/on/)并将单击事件委托给父元素*（在 1.7 版之前，您使用`.delegate()`了代替`.on()`）*。

```
$("body").on("click", "#close", function() {
    $("#overlay").delay(500).animate({"opacity":"0"}, 2000, function () {
        $(this).remove();
    });
    // Prevent the default click-behavior
    return false;
}); 
```

**注意**

您应该删除动画完成时执行的回调中的内容。否则，元素有可能在动画完成之前被移除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:58:57.877

像这样的声明：

```
$("#close").click(function() { ... }); 
```

...有两个部分。第一部分：

```
$("#close") 
```

创建一个 jQuery 对象，其中包含 DOM 中存在的所有与提供的选择器匹配的*元素*。（虽然对于一个 id 选择器来说只有一个，因为 id 应该是唯一的。）

第二部分：

```
.click(function() { ... }); 
```

将该`.click()`方法应用于调用它的 jQuery 对象中的任何元素。

在您的情况下，您在“关闭”元素存在之前在您的文档就绪处理程序中运行该行，因此您实际上是在调用`.click()`一个空的 jQuery 对象并且没有绑定任何处理程序。解决此问题的两种方法是`.click()`在添加元素后运行，或移动到单击处理程序绑定到父元素（在您的情况下为主体）的委托事件模型：

```
$("body").on("click", "#close", function() {
   // etc 
```

使用此委托处理程序，当主体上发生单击事件时，jQuery 会检查目标元素是否与第二个参数中的选择器匹配，如果匹配，它会调用您的函数。

为了与 jQuery 1.7 之前的效果相同，请使用`.delegate()`; 对于*真正*古老的 jQuery 使用`.live()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:38:53.423

这是因为当页面加载时，id 为 close 的链接还不存在，所以事件没有绑定到它。试试 .live()

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T07:38:54.780

您正在附加元素，并且需要委托事件：

```
$(document).ready(function() {
    $("#link").on('click', function() {
        Markup.appendTo($("body")).delay(500).animate({"opacity":"0.97"},2000);
    });

    $(document).on("click", "#close", function() {
        $("#overlay").delay(500).animate({"opacity":"0"},2000, function() {
            $(this).remove();
        });
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-25T07:39:05.817

您需要将事件委托给它

```
$("body").delegate("#close","click",function() {
            $("#overlay").delay(500).animate({"opacity":"0"},2000);
            $("body").remove(Markup);
        }); 
```

# javascript - Phonegap：灵活的 iOS 应用更新（无 AppStore）

> ID：11644832
> 
> 赞同：4
> 
> 时间：2012-07-25T07:37:14.523
> 
> 标签：javascript, ipad, html, ios5, cordova

我有一个 Phonegap iOS 应用程序。我的应用程序是私下分发的，因此有并且不会使用应用程序商店。该应用程序与自制中间件进行通信。为了管理应用程序更新，我考虑过执行以下操作：

-> 在应用启动时，检查是否有更新的版本可用。

-> 如果是，则调用自制的 Javascript 模块，该模块将利用 HTML5 文件 I/O API 以根据中间件的输出更新/创建/删除文件。

*   依你的意见; 这个解决方案可靠吗？

*   有没有其他选择？（应用商店完全没有画面）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T08:37:47.250

使用 PhoneGap/Cordova 应用程序，您通常会从本地 www 文件夹加载文件。在运行时更新文件的问题是您无法写入 www 位置 - 您只能写入应用程序的“文档”文件夹。

我假设您使用的是企业发行版，因为您在没有应用商店的情况下进行分发。如果您对用户必须去检查更新感到高兴，您可以考虑使用诸如[TestFlight 之类的东西来分发更新。](http://testflightapp.com)

您还可以消除 TestFlight 并自己托管 ipa 文件，检查更新，然后要求用户下载并安装更新。

**编辑**

无论有没有插件，都无法写入 www 文件夹。这是由于 iOS 限制而不是 PhoneGap/Cordova 限制。

这些链接讨论无线分发企业应用程序 [http://developer.apple.com/library/ios/#featuredarticles/FA_Wireless_Enterprise_App_Distribution/Introduction/Introduction.html](http://developer.apple.com/library/ios/#featuredarticles/FA_Wireless_Enterprise_App_Distribution/Introduction/Introduction.html)

[IOS企业通过OTA分发](https://stackoverflow.com/questions/8439127/ios-enterprise-distribution-through-ota)

[企业内部应用程序分发](https://stackoverflow.com/questions/8136307/enterprise-in-house-app-distribution)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T10:17:03.867

我正在考虑使用 www 文件夹作为引导程序来下载文档目录中 www 文件夹中的实际应用程序，并从那里加载 index.html 页面（以及应用程序的其余部分）

我想知道这是否是一个选择

当然，如果存在的话，ObjectiveC UIWebView 会指向下载的版本

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-17T12:25:39.683

我知道这是一个老问题，但接受的答案不再正确。这是一个完整的项目，展示了它是如何完成的：[https ://github.com/ben-ng/phonegap-air](https://github.com/ben-ng/phonegap-air)

简而言之，诀窍是不要写入应用程序包，而是写入 Documents 目录。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T07:18:15.197

[有一个名为Trigger.io](https://trigger.io/)的替代服务。它很像phonegap，但它的一个关键特性是它可以让你在设备上“[重新加载](https://trigger.io/reload/)”应用程序，这基本上就是你正在寻找的东西，AFAICT。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-02T20:22:01.783

因此，cordava 似乎只能加载应用程序包中的文件。您不能简单地更改 webroot 参数以获取文档文件夹。

您可以做的是使用 FileReader API 从持久存储中读取。这意味着您必须在应用程序包中创建某种引导 html / javascript 并创建从持久存储加载内容的代码（您可以随时更新自己）

这是一个开始寻找的好地方：[Cordava File API docs](http://docs.phonegap.com/en/2.1.0/cordova_file_file.md.html#File)

# c++ - 在构建时将功能附加到具有通用性的类

> ID：11644842
> 
> 赞同：1
> 
> 时间：2012-07-25T07:37:44.633
> 
> 标签：c++, design-patterns

我有一个 A 类，它是一个外部类，不受我控制，但我可以设计它的规格。

在我的代码中，我想将一些属性和方法静态附加到 A。我可以从 A 继承并附加新功能。但是，由于我不知道 A 的确切规格，我无法在派生类 internalA 中提供 A 的构造函数。

我可以使用装饰器模式，但这似乎有点矫枉过正，因为我想在构建时进行装饰。

有什么建议可以很好地解决它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:52:09.803

可能是完美的转发和可变模板将有助于：

```
#include <utility>
#include "A.h"

class B: public A
{
public:
    template<class... TT>
    B(TT&&... tt) :A(std::forward<TT>(tt)...) {}

    B(const B&)=default;
    B(B&&)=default;

    //whatever other decoration
}; 
```

如果您更喜欢组合，则该模式的工作方式相同，只是 A 将是成员而不是基础。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:44:14.307

我相信对 externalA 的引用就足够了。

```
template <typename A>
class InternalA {
    A &externalA;
    int property1;
    std::string property2;
    //...
public:
    InternalA (A &extA, int prop1, std::string prop2 /*...*/);
    // accessors to properties and to externalA...
}; 
```

但是，我可能误解了你的问题。

# .htaccess - .htaccess：如何使数字参数可选？

> ID：11644844
> 
> 赞同：0
> 
> 时间：2012-07-25T07:37:46.273
> 
> 标签：.htaccess, mod-rewrite

在我的示例中，此 URL 使用以下参数：

```
www.website.com/search/dogs-10-cats-5 
```

我想要的是让参数之一（数字或空）是可选的，例如：

```
www.website.com/search/dogs--cats-3 
```

这可能吗？这是我当前的重写规则：

```
RewriteRule ^search/dogs-?([0-9]+)-cats-?([0-9]+)/? index.php?SearchResults&Dogs=$1&Cats=$2 [L] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:39:15.163

```
dogs-?([0-9]*)-cats-?([0-9]+) 
```

代替

```
dogs-?([0-9]+)-cats-?([0-9]+) 
```

`+`意思是“一个或多个”，`*`意思是“零个或多个”

我还建议省略`?`s，因为这使得每隔一个破折号是可选的（可能是有意的，但我猜不是）

```
dogs10-cats5 
```

# python - 带有自定义设置的命令中的 Django runserver

> ID：11644848
> 
> 赞同：10
> 
> 时间：2012-07-25T07:38:01.573
> 
> 标签：python, django

我尝试在具有自定义设置的命令中执行 runserver。但未加载设置：

```
from django.core.management.base import BaseCommand
from django.core.management import call_command
from django.core.management import setup_environ, ManagementUtility

import settings_api

setup_environ(settings_api)

class Command(BaseCommand):
    help = "Local API to retrieve realtime quotes"

    def handle(self, *args, **options):
        if not settings_api.DEBUG:
            call_command('runserver',  '127.0.0.1:8002')
        else:
            call_command('runserver',  '0.0.0.0:8002') 
```

输出是：

```
Used API settings
Used API settings
Validating models...

0 errors found
Django version 1.4b1, using settings 'site.settings'
Development server is running at http://0.0.0.0:8002/
Quit the server with CONTROL-C. 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-25T07:40:17.543

`runserver`除非通过，否则强制默认设置`--settings=`。如果您需要自定义设置，请使用单独的 WSGI 容器（甚至是内置容器，您自己提出）。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-25T07:51:36.150

Ignacios 的回答为我指明了正确的方向：使用自定义设置参数执行命令解决了它：

```
./manage.py command --settings=settings_api 
```

更多细节[在这里](https://docs.djangoproject.com/en/dev/ref/django-admin/#django-admin-option---settings)

# java - 在 JApplet 中使用 iText 将 html 文件转换为 pdf

> ID：11644852
> 
> 赞同：1
> 
> 时间：2012-07-25T07:38:16.410
> 
> 标签：java, pdf, itext

我正在为一个项目使用 iText。我的程序应该从浏览器内部运行，我需要它将 html 文件转换为 pdf 文件。当我从 NetBeans 运行程序时，一切正常。我签署了我的 jar 并在浏览器中运行 Applet，然后我收到此错误：

`Errorjava.security.AccessControlException: access denied ("java.lang.RuntimePermission" "getenv.windir")`

为了这篇文章的目的，我制作了一个简单的 JApplet 代码，它有同样的问题：

```
public class RunApplet extends JApplet {

    @Override
    public void init() {
        this.add(new JLabel("This is a labe"));
        File f = new File("C:/ReportGen/data.html");
        File pdf = new File("C:/ReportGen/data.pdf");

        try {
            pdf.createNewFile();
            Document pdfDocument = new Document();
            PdfWriter writer = PdfWriter.getInstance(pdfDocument, new FileOutputStream(pdf));
            pdfDocument.open();

            XMLWorkerHelper worker = XMLWorkerHelper.getInstance();

            FontFactoryImp imp = new FontFactoryImp();
            imp.getFont("Arial");
            FontFactory.setFontImp(imp);

            worker.parseXHtml(writer, pdfDocument, new FileInputStream(f));

            pdfDocument.close();
            writer.close();
            this.add(new JLabel(f.getAbsolutePath()));

        } catch (Exception ex) {
            this.add(new JTextField("Error"+ex));
        }                       
    }
} 
```

html文件已创建并且很好，但是当我创建pdf文件时出现异常并且pdf文件实际上已创建，但已损坏并且我无法打开它。在此先感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T12:29:46.427

首先，我在您的问题中看到了这个错误：

```
Errorjava.security.AccessControlException: access denied ("java.lang.RuntimePermission" "getenv.windir") 
```

您需要签署您的小程序才能访问您的文件系统。请参阅此[链接](http://java.sun.com/developer/onlineTraining/Programming/JDCBook/signed.html)和[此](http://docs.oracle.com/javase/1.5.0/docs/guide/security/spec/security-spec.doc1.html)链接。

其次，我尝试了以下代码：

```
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;

import com.itextpdf.text.Document;
import com.itextpdf.text.pdf.PdfWriter;
import com.itextpdf.tool.xml.XMLWorkerHelper;

public class main {

    public static void main(String[] args) {
        File f = new File("C:/tmp/data.htm");

        File pdf = new File("C:/tmp/data.pdf");
        Document pdfDocument = null;
        PdfWriter pdfWriter = null;
        try {

            pdfDocument = new Document();
            pdfWriter = PdfWriter.getInstance(pdfDocument, new FileOutputStream(pdf));
            pdfDocument.open();

            XMLWorkerHelper.getInstance().parseXHtml(pdfWriter, pdfDocument,
                    new FileInputStream(f));
            pdfDocument.close();

        } catch (Exception ex) {
            ex.printStackTrace();
        }

    }
} 
```

如果文件 data.htm（原始数据）是 htmlx，则工作正常。但如果 data.htm 不是 xml，我会收到此错误：

```
com.itextpdf.tool.xml.exceptions.RuntimeWorkerException: Invalid nested tag head found, expected closing tag meta.
    at com.itextpdf.tool.xml.XMLWorker.endElement(XMLWorker.java:134)
    at com.itextpdf.tool.xml.parser.XMLParser.endElement(XMLParser.java:395)
    at com.itextpdf.tool.xml.parser.state.ClosingTagState.process(ClosingTagState.java:70)
    at com.itextpdf.tool.xml.parser.XMLParser.parseWithReader(XMLParser.java:235)
    at com.itextpdf.tool.xml.parser.XMLParser.parse(XMLParser.java:213)
    at com.itextpdf.tool.xml.parser.XMLParser.parse(XMLParser.java:174)
    at com.itextpdf.tool.xml.XMLWorkerHelper.parseXHtml(XMLWorkerHelper.java:220)
    at com.itextpdf.tool.xml.XMLWorkerHelper.parseXHtml(XMLWorkerHelper.java:185)
    at main.main(main.java:44) 
```

您可以尝试使用您的数据和此示例吗？不同之处在于我的示例不是小程序，而是独立的 Java。

问候

# c# - 这个逻辑语句尽可能短

> ID：11644853
> 
> 赞同：-6
> 
> 时间：2012-07-25T07:38:17.247
> 
> 标签：c#

下面的类中的逻辑`if-else`语句尽可能短，c# 允许，或者这个语句可以更短吗？

`?:` [MSDN 上](http://msdn.microsoft.com/en-us/library/ty67wk28.aspx)的逻辑结构在某些情况下是捷径，但不是以下情况？

```
class Stats
{
    public int Total = 0;
    public int Missed = 0;
    public int Correct = 0;
    public int Accuracy = 0;

    void Update(Boolean correctKey)
    {
        //correctKey ? Correct++ : Missed++; //incorrect syntax for this situation as the ? operator is used to set a value
        if (correctKey==true) Correct++;  else  Missed++; //shortest c# syntax?
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T07:47:43.550

条件运算符旨在与*assignments*一起使用，而不是作为`if`/`else`语句的通用替代品。这是因为它产生一个*结果*（它是一个表达式），然后将该结果分配给其他东西。

例如，考虑以下语句：

```
var a = x != null ? x : y; 
```

这会将变量的值设置`a`为 object`x`如果它不为 null，或者如果它是 object `y`。这里的目标是可读性。一些程序员发现更容易阅读具有极其常见和直接逻辑的语句，例如单行中的语句，而不是分散到`if`/`else`块中。

^(（由于我们有 null-coalescing 运算符，这种模式在 C# 中基本上是不合时宜的，但它是一个很好的教学案例。）)

相反，您在此处尝试表达的内容实际上不适用于条件运算符，因为它没有结果并且没有执行赋值。

在这种情况下，我会说`if`/`else`块是您的最佳选择。请注意，*较短的*代码不一定会产生*更快*的代码。事实上，在更多情况下，编译器或 JITer 会生成具有相同性能的等效代码。不要（ab）使用条件运算符来尝试使您的代码*更快*，只有在它使您的代码更清晰易读时才使用它。如果可读性或表现力需要将某些内容分成多行，那么这样做并没有错。

正如其他示例所示，您实际上可以将`if`/`else`块组合成一行：

```
if (correctKey) Correct++; else Missed++; 
```

但这也不会使代码运行得更快，它只是把它们塞在一起。就像连贯的句子一样，应该在意思明确无误的情况下明智地使用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T07:42:06.970

三元运算符在更新语句中不起作用，因为它单独构成一个表达式并且需要分配值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T07:42:41.810

试试这个

```
if (correctKey) Correct++;  else  Missed++; 
```

您只能在实际发出结果的语句中使用条件运算符，例如

```
var result = correctKey ? Correct++ : Missed++; 
```

`result`将是之前的值，`Correct`或者`Missed`在它增加之前。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-25T07:43:22.987

根据您的要求，可以使用三元运算符作为任何一种情况。

假设值为

```
correctKey = false;
Correct = 1;
Missed = 2;

tempVar = correctKey ? Correct++ : Missed++;  // Result: 2 
```

或者

```
tempVar = correctKey ? ++Correct : ++Missed;  // Result: 3 
```

## 编辑：

对于这两种情况，值都在递增。因此，该语句也可以写成如下：-

```
tempVar = (correctKey ? Correct : Missed)+1;  // Result: 3 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-25T07:40:55.373

```
var temp = correctKey == true ? Correct++ : Missed++; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-25T07:44:42.857

if(...) 检查括号中的语句是否为“真”。可以写

```
 if(correctKey)
    Correct++;
 else
    Missed++; 
```

对于像您这样的简短陈述，请使用：

```
correctKey == true ? Correct++ : Missed++; 
```

# java - 冒泡排序实现

> ID：11644858
> 
> 赞同：0
> 
> 时间：2012-07-25T07:38:45.460
> 
> 标签：java, bubble-sort

我试图实现冒泡排序，但我不确定它是否正确。如果您可以看一下，并且如果它是冒泡排序并且可以以更好的方式完成，请不要害羞。这是代码：

```
package Exercises;

import java.util.*;

public class BubbleSort_6_18 
{
    public static void main(String[] args) 
    {
        Random generator = new Random();

        int[] list = new int[11];
        for(int i=0; i<list.length; i++)
        {
            list[i] = generator.nextInt(10);
        }

        System.out.println("Original Random array: ");
        printArray(list);

        bubbleSort(list);

        System.out.println("\nAfter bubble sort: ");
        printArray(list);
    }

    public static void bubbleSort(int[] list)
    {
        for(int i=0; i<list.length; i++)
        {
            for(int j=i + 1; j<list.length; j++)
            {
                if(list[i] > list[j])
                {
                    int temp = list[i];
                    list[i] = list[j];
                    list[j] = temp;
                }
            }

        }
    }

    public static void printArray(int[] list)
    {
        for(int i=0; i<list.length; i++)
        {
            System.out.print(list[i] + ", ");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-25T08:22:24.750

```
private static int [] bublesort (int[] list , int length) {

    boolean swap = true;
    int temp;

    while(swap){

        swap = false;

        for(int i = 0;i < list.length-1; i++){              
            if(list[i] > list[i+1]){
                temp = list[i];
                list[i] = list[i+1];
                list[i+1] = temp;                   
                swap = true;
            }
        }
    }
    return list;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-06-23T16:55:22.173

Mohammod Hossain 的实现非常好，但他做了很多不必要的迭代，遗憾的是他没有接受我的编辑，由于声誉点，我无法发表评论，所以它应该是这样的：

```
public void sort(int[] array) {
        int temp = 0;
        boolean swap = true;
        int range = array.length - 1;
        while (swap) {
            swap = false;
            for (int i = 0; i < range; i++) {
                if (array[i] > array[i + 1]) {
                    temp = array[i];
                    array[i] = array[i + 1];
                    array[i + 1] = temp;
                    swap = true;
                }
            }
            range--;
        }
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T07:43:29.153

这是冒泡排序的经典实现，它似乎没问题。有几种优化可以做，但总体思路是一样的。这里有一些想法：

*   如果内循环没有swap的时候有外循环的迭代，那么break，没用继续
*   在外部循环的每次迭代中，交换内部循环的方向 - 从左到右执行一次，然后从右到左执行一次（这有助于避免元素缓慢地向右端移动）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-09-21T09:08:28.483

```
{
    System.out.println("The Elments Before Sorting:");
    for(i=0;i<a.length;i++)
    {
        System.out.print(a[i]+"\t");
    }
    for(i=1;i<=a.length-1;i++)
    {
      for(j=0;j<=a.length-i-1;j++)
      {
          if((a[j])>(a[j+1]))
          {
              temp=a[j];
              a[j]=a[j+1];
              a[j+1]=temp;
            }
       }
      System.out.println("The Elements After Sorting:");
      for(i=0;i<a.length;i++)
      {
            System.out.println(a[i]+"\t");
      }
    }
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-04-26T11:56:30.903

**简短的回答：**这绝对不是冒泡排序。它是选择排序的一种变体（一种效率低于众所周知的变体）。

查看他们如何在[VisuAlgo上工作的可视化可能会有所帮助](http://visualgo.net/sorting "视觉算法")

**为什么这不是冒泡排序？**

因为您循环遍历数组并将每个元素与其右侧的其他元素进行比较。如果正确的元素较小，则交换。因此，在第一次外循环迭代结束时，您将在最左边的位置拥有最小的元素，并且在最坏的情况下您已经完成了 N 次交换（想想一个反向排序的数组）。

如果您考虑一下，您实际上并不需要进行所有这些交换，您可以在右侧搜索最小值，然后在找到它之后进行交换。这只是选择排序的想法，您选择剩余未排序元素的最小值并将其放在正确的位置。

**那么冒泡排序是什么样子的呢？**

在冒泡排序中，您总是比较两个相邻的元素并将较大的元素冒泡到右侧。在外部循环的第一次迭代结束时，您将在最右边的位置拥有最大的元素。`swap`当数组已经排序时，该标志停止外循环。

```
void bubbleSort(int[] arr) {
    boolean swap = true;       
    for(int i = arr.length - 1; i > 0 && swap; i--) {
        swap = false;
        // for the unsorted part of the array, bubble the largest element to the right.
        for (int j = 0; j < i; j++) {
            if (arr[j] > arr[j+1]) {
                // swap
                int temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
                swap = true;
            }
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-25T07:52:44.387

我认为您通过查看代码了解了冒泡排序的概念：

冒泡排序通常如下工作：假设`aNumber`是一些随机数：

```
for (int i = 0; i < aNumber; i++)
{
     for(int j = 0; j < aNumber; j++)

      //Doing something with i and j, usually running it as a loop for 2D array
      //array[i][j] will give you a complete sort.
} 
```

冒泡排序的工作原理是遍历数组的每一个可能点。`i x j`times 不利的一面是，排序的次数是平方数。效率不是很高，但它确实以最简单的方式完成了工作。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-11-20T04:14:14.510

**是的，它似乎是冒泡排序交换元素**

**冒泡排序**

```
void bubbleSort(int arr[])
{
    int n = arr.length;
    for (int i = 0; i < n-1; i++)
        for (int j = 0; j < n-i-1; j++)
            if (arr[j] > arr[j+1])
            {
                // swap temp and arr[i]
                int temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
            }
} 
```

即使数组已排序，它也会在最坏的情况下给出 O(n^2) 。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-09-21T09:16:25.603

A bubblesort version with while loops from my first undergraduate year ("the BlueJ era").

```
public static void bubbleSort()
    {
        int[] r = randomArrayDisplayer();
        int i = r.length;
        while(i!=0){
            int j = 0;
            while(j!=i-1){
                if(r[j+1]<r[j]){
                    swap(r,j,j+1);
                }
                j++;
            }
            i--;
        }
    }

private static void swap(int[] r, int u, int v)
    {
       int value = r[u];
       r[u] = r[v];
       r[v] = value;
       arrayDisplayer(r);
    } 
```

My advice is to display every step in order to be sure of the correct behaviour.

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-07-25T07:47:18.303

*   您可以遍历数组，直到没有更多元素被交换
*   当您将元素放在最后一个位置时，您知道它是最大的，因此您可以将内部循环减少 1

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-04-27T11:30:09.620

上面的代码看起来像实现选择排序，它不是冒泡排序。

请在下面找到冒泡排序的代码。

```
Class BubbleSort {
public static void main(String []args) {
int n, c, d, swap;
Scanner in = new Scanner(System.in); 
System.out.println("Input number of integers to sort");
n = in.nextInt();

int array[] = new int[n]; 
System.out.println("Enter " + n + " integers");

for (c = 0; c < n; c++) 
  array[c] = in.nextInt();

for (c = 0; c < ( n - 1 ); c++) {
  for (d = 0; d < n - c - 1; d++) {
    if (array[d] > array[d+1]) /* For descending order use < */
    {
      swap       = array[d];
      array[d]   = array[d+1];
      array[d+1] = swap;
    }
  }
}

System.out.println("Sorted list of numbers");

for (c = 0; c < n; c++) 
  System.out.println(array[c]);
}
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-02-17T17:46:02.413

```
public class BubbleSort {
    public static void main(String[] args) {
        int arr[] = {64, 34, 25, 12, 22, 11, 90};
        BubbleSort client=new BubbleSort();
        int[] result=client.bubbleSort(arr);
        for(int i:result)
        {
            System.out.println(i);
        }
    }
    public int[] bubbleSort(int[] arr)
    {
        int n=arr.length;
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<n-i-1;j++) 
                if(arr[j]>arr[j+1])
             swap(arr,j,j+1);   
        }
        return arr;
    }
    private int[] swap(int[] arr, int i, int j) {
        int temp=arr[i];
        arr[i]=arr[j];
        arr[j]=temp;
        return arr;
    }

} 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-06-29T05:06:38.723

```
/*
Implementation of Bubble sort using Java
*/

import java.util.Arrays;
import java.util.Scanner;

public class BubbleSort {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
            Scanner in = new Scanner(System.in);
            System.out.println("Enter the number of elements of array");
            int n = in.nextInt();
            int []a = new int[n];
            System.out.println("Enter the integer array");
            for(int i=0; i<a.length; i++)
            {
                a[i]=in.nextInt();
            }
            System.out.println("UnSorted array: "+ Arrays.toString(a));         
            for(int i=0; i<n; i++)
            {
                for(int j=1; j<n; j++)
                {
                    if(a[j-1]>a[j])
                    {
                        int temp = a[j-1];
                        a[j-1]=a[j];
                        a[j]=temp;
                    }
                }
            }
            System.out.println("Sorted array: "+ Arrays.toString(a));           
    }
}

/*
****************************************
Time Complexity: O(n*n)
Space Complexity: O(1)
****************************************
*/ 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2020-10-30T07:20:11.873

```
package com.examplehub.sorts;

public class BubbleSort implements Sort {

  /**
   * BubbleSort algorithm implements.
   *
   * @param numbers the numbers to be sorted.
   */
  public void sort(int[] numbers) {
    for (int i = 0; i < numbers.length - 1; ++i) {
      boolean swapped = false;
      for (int j = 0; j < numbers.length - 1 - i; ++j) {
        if (numbers[j] > numbers[j + 1]) {
          int temp = numbers[j];
          numbers[j] = numbers[j + 1];
          numbers[j + 1] = temp;
          swapped = true;
        }
      }
      if (!swapped) {
        break;
      }
    }
  }

  /**
   * Generic BubbleSort algorithm implements.
   *
   * @param array the array to be sorted.
   * @param <T> the class of the objects in the array.
   */
  public <T extends Comparable<T>> void sort(T[] array) {
    for (int i = 0; i < array.length - 1; ++i) {
      boolean swapped = false;
      for (int j = 0; j < array.length - 1 - i; ++j) {
        if (array[j].compareTo(array[j + 1]) > 0) {
          T temp = array[j];
          array[j] = array[j + 1];
          array[j + 1] = temp;
          swapped = true;
        }
      }
      if (!swapped) {
        break;
      }
    }
  }
} 
```

[来源](https://github.com/examplehub/Java/blob/master/src/main/java/com/examplehub/sorts/BubbleSort.java)

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2021-11-04T10:43:33.630

这是冒泡排序算法的实现，使用`Stack`：

```
static void bubbleSort(int[] elements) {
    Stack<Integer> primaryStack = new Stack<>();
    Stack<Integer> secondaryStack = new Stack<>();
    int lastIndex = elements.length - 1;

    for (int element : elements) {
        primaryStack.push(element);
    } // Now all the input elements are in primaryStack

    // Do the bubble sorting
    for (int i = 0; i < elements.length; i++) {
        if (i % 2 == 0) sort(elements, i, primaryStack, secondaryStack, lastIndex);
        else sort(elements, i, secondaryStack, primaryStack, lastIndex);
    }
}

private static void sort(int[] elements, int i, Stack<Integer> stackA, Stack<Integer> stackB, int lastIndex) {
    while (!stackA.isEmpty()) { // Move an element from stack A to stack B
        int element = stackA.pop();

        if (stackB.isEmpty() || element >= stackB.peek()) { // Don't swap, just push
            stackB.push(element);
        } else { // Swap, then push
            int temp = stackB.pop();
            stackB.push(element);
            stackB.push(temp);
        }
    }
    elements[lastIndex - i] = stackB.pop();
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2015-11-04T10:54:15.623

```
class BubbleSort {

public static void main(String[] args) {

    int a[] = {5,4,3,2,1};
    int length = a.length - 1;

    for (int i = 0 ; i < length ; i++) {
        for (int j = 0 ; j < length-i ; j++) {
            if (a[j] > a[j+1]) {
                int swap = a[j];
                a[j] = a[j+1];
                a[j+1] = swap;
            }
        }
    }

    for (int x : a) {
        System.out.println(x);
    }
} 
```

}

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2021-05-14T06:36:29.213

```
function bubbleSort(arr,n) {
    if (n == 1)  // Base case
    return; 
    // One pass of bubble sort. After
    // this pass, the largest element
    // is moved (or bubbled) to end. and count++

    for (let i = 0; i <n-1; i++){
        if (arr[i] > arr[i + 1]) 
        { 
            let temp = arr[i]; 
            arr[i] = arr[i + 1]; 
            arr[i + 1] = temp; 
        }
    }
    // Largest element is fixed,
    // recur for remaining array
    console.log("Bubble sort Steps ", arr, "   Bubble sort array length reduce every recusrion ", n);
    bubbleSort(arr, n - 1);
}
let arr1 = [64, 3400, 251, 12, 220, 11, 125]
bubbleSort(arr1, arr1.length); 
console.log("Sorted array : ", arr1); 
```

[![在此处输入图像描述](../Images/7f43f9ceb8dc034e97fb2c8a769f8a3a.png)](https://i.stack.imgur.com/Ln1WM.png)

[![在此处输入图像描述](../Images/ef2f909fa0493e53d9ae9c1b5a600861.png)](https://i.stack.imgur.com/5FxaL.png)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2017-03-30T14:28:21.430

```
 int[] nums = new int[] { 6, 3, 2, 1, 7, 10, 9 };

        for(int i = nums.Length-1; i>=0; i--)
            for(int j = 0; j<i; j++)
            {
                int temp = 0;
                if( nums[j] < nums[j + 1])
                {
                    temp = nums[j];
                    nums[j] = nums[j + 1];
                    nums[j + 1] = temp;
                }
            } 
```

# php - Paypal IPN 返回空字符串，PHP

> ID：11644867
> 
> 赞同：0
> 
> 时间：2012-07-25T07:39:15.163
> 
> 标签：php, paypal, paypal-ipn

以下是我正在使用的代码：

```
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $this->paypal_url);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $req);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);
curl_setopt($ch, CURLOPT_HTTPHEADER, array('Host: ' . $url_parsed['host']));
$res = curl_exec($ch);
curl_close($ch); 
```

this->paypal_url 是沙盒 api url， url_parsed['host'] 是沙盒 paypal 主机名，这两者都是正确的，但我遇到的问题是每次调用 $res 始终为空。

在从贝宝开发者网站获取此代码之前，我使用了以下代码：

```
$fp = fsockopen('ssl://' . $url_parsed['host'],"443",$err_num,$err_str,30);
fputs($fp, "POST $url_parsed[path] HTTP/1.1\r\n"); 
fputs($fp, "Host: $url_parsed[host]\r\n"); 
fputs($fp, "Content-type: application/x-www-form-urlencoded\r\n"); 
fputs($fp, "Content-length: ".strlen($post_string)."\r\n"); 
fputs($fp, "Connection: close\r\n\r\n"); 
fputs($fp, $post_string . "\r\n\r\n"); 
```

并且发生了未能打开套接字错误。

在使用 ssl 之前，我使用了这行代码： $fp = fsockopen($url_parsed['host'],"80",$err_num,$err_str,30);

我收到了这样的回复：

```
Server:
 HTTP/1.0 302 Moved Temporarily
Location: https://www.sandbox.paypal.com
Server: BigIP
Content-Length: 0
X-Cache: MISS from proxyco.confiz.com
X-Cache-Lookup: MISS from proxyco.confiz.com:3128
Via: 1.0 proxyco.confiz.com:3128 (squid/2.6.STABLE21)
Connection: close 
```

请帮我找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:03:50.667

希望以下链接对您有所帮助..

```
https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_admin_IPNIntro 
```

下载示例代码

```
https://www.x.com/developers/PayPal/documentation-tools/code-sample/216623 
```

IPN Listner 非常有用且易于集成

# android - Android将EXIF GPS纬度和经度写入JPEG失败

> ID：11644873
> 
> 赞同：9
> 
> 时间：2012-07-25T07:39:43.740
> 
> 标签：android, gps, location, jpeg, exif

我想将经度和纬度等 GPS 数据添加到 jpeg 照片中。通过标签卡（NFC）捕获照片在logcat中可以显示正确的值，但这些值不能写入jpg照片文件！

下面是我的代码： 用于获取保存的jpg文件并调用下面的方法 该方法用于将EXIF GPS参数添加到jpg中 经度和纬度等GPS参数已经在另一个活动中获取。

我在 Firefox 中使用 EXIF 查看器来查看结果。

IO Exception 的位置重要吗？

以下是可能导致失败的重要日志 cat log： 07-26 11:48:30.386: D/NativeNfcTag(195): Tag lost, restarting polling loop

```
 public static void writeFile (File photo, double latitude, double longitude) throws IOException{

    ExifInterface exif = null;

    try{
        Log.v("latiDouble", ""+latitude);
        Log.v("longiDouble", ""+longitude);
        exif = new ExifInterface(photo.getCanonicalPath());
        if (exif != null) {
        double latitu = latitude;
        double longitu = longitude;
        double alat = Math.abs(latitu);
        double along = Math.abs(longitu);
        String stringLati = convertDoubleIntoDegree(alat);
        String stringLongi = convertDoubleIntoDegree(along);
        exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE, stringLati);            
        exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE, stringLongi);
        Log.v("latiString", ""+ stringLati);
        Log.v("longiString", ""+ stringLongi);
        exif.saveAttributes();
        String lati = exif.getAttribute (ExifInterface.TAG_GPS_LATITUDE);  
         String longi = exif.getAttribute (ExifInterface.TAG_GPS_LONGITUDE);  
         Log.v("latiResult", ""+ lati);
         Log.v("longiResult", ""+ longi);

        }
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();

    }

} 
```

下面是调用方法的位置...

```
 Cursor locationCursor = dbHandler.fetchGpsLocationTypeByAttendInfoID(attendInfoId);
      if (locationCursor.getCount()>0) {
        double latitude = dbHandler.fetchDoubleItem(locationCursor,"LATITUDE");
        double longitude = dbHandler.fetchDoubleItem(locationCursor,"LONGITUDE");

            Log.v("latitude",""+latitude);
            Log.v("latitude",""+longitude);     

            try {
                GpsUtils.writeFile(photoFile, latitude, longitude);
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

    }
    dbHandler.close();

    cameraHandler.startPreview(); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-25T13:53:33.233

好的，我为此苦苦挣扎了很长时间，但最终得到了它。上次我使用它时，这段代码有效：

```
ExifInterface exif = new ExifInterface(imgFile.getCanonicalPath());
              //String latitudeStr = "90/1,12/1,30/1";
              double lat = location.getLatitude();
              double alat = Math.abs(lat);
              String dms = Location.convert(alat, Location.FORMAT_SECONDS);
              String[] splits = dms.split(":");
              String[] secnds = (splits[2]).split("\\.");
              String seconds;
              if(secnds.length==0)
              {
                  seconds = splits[2];
              }
              else
              {
                  seconds = secnds[0];
              }

              String latitudeStr = splits[0] + "/1," + splits[1] + "/1," + seconds + "/1";
              exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE, latitudeStr);

              exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE_REF, lat>0?"N":"S");

              double lon = location.getLongitude();
              double alon = Math.abs(lon);

              dms = Location.convert(alon, Location.FORMAT_SECONDS);
              splits = dms.split(":");
              secnds = (splits[2]).split("\\.");

              if(secnds.length==0)
              {
                  seconds = splits[2];
              }
              else
              {
                  seconds = secnds[0];
              }
              String longitudeStr = splits[0] + "/1," + splits[1] + "/1," + seconds + "/1";

              exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE, longitudeStr);
              exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE_REF, lon>0?"E":"W");

              exif.saveAttributes();

          } 
```

# html - 将文本固定到页脚

> ID：11644876
> 
> 赞同：-1
> 
> 时间：2012-07-25T07:39:49.347
> 
> 标签：html, css

正如您在图片中看到的，右侧的链接没有正确固定到我的页脚我应该怎么做才能使它正确？我不知道为什么在这两个部分之间我的意思是 div 链接我有一个很大的距离我也不希望它们之间有这个距离。

我在页脚中插入了样式和表格。提前致谢

![在此处输入图像描述](../Images/0ca862ea828fe122d4f58c06183415b7.png) **如果需要，样式：**

```
 <style>
#footer{
    background-image:url(../images/footer.png);
    background-position:inherit;
    background-repeat:no-repeat;
    width:100%;
    height:150px;
    margin:0
    auto;
    text-align: right;
    }
    #links ul {
            list-style-type: none;
            width: 400px;
            float:right;
                text-align: right;
    } 

    #links li {
            border: 1px dotted #999;
            border-width: 2px 0;
            margin: 5px 0;
            float:right;
                text-align: right;
    }

    #links li a { 
            color: #FF6600;
            display: block;
            font: bold 120% Arial, Helvetica, sans-serif;
            padding: 5px;
            text-decoration: none;
            float:right;
            text-align: right;

    }

     * html #links li a {  /* make hover effect work in IE */
        width:600px;
        float:right;
            text-align: right;
    }

    #links li a:hover {
            background: #FFFFFF ;
    }

    #links a em { 
            color: #333;
            display: block;
            font: normal 85% Verdana, Helvetica, sans-serif;
            line-height: 125%;
            float:right; 
            text-align: right;
    }

    #links a span {
            color: #125F15;
            font: normal 70% Verdana, Helvetica, sans-serif;
            line-height: 150%;
            float:right;
    }
    </style> 
```

**页脚和文本：**

```
 <div id="footer">
<table width="100%" height="183" align="left" cellpadding="0" dir="ltr">
<tr>
<td width="30%">
 <div id="links">
    <ul>
      <li><a href="#" title="لینک">سرویس های مشتری
       <table width="100%">
        <tr>
        <td width="337" cellpadding="0"><em>ارتباط با ما</em></td>
        </tr>
        <tr><td> <em>ثبت نام</em></td></tr>
        <tr><td> <em>پرسش و پاسخ</em></td></tr>
        </table>
        </a></li> 
    </ul>
  </div> 

  </td>
 <td width="40%">
 <div id="links">
    <ul>
      <li><a href="#" title="لینک">لینک های مفید
        <table width="100%">
        <tr><td width="337">
        <em>لینک یک</em></td></tr>
        <tr><td>
         <em>لینک دو</em>
         </td></tr>
          <tr><td>
         <em>لینک سه</em>
         </td></tr>
         </table>
        </a></li> 
    </ul>
  </div> 
  </td>
   <td width="30%">
 <div id="links">
    <ul>
      <li><a href="#" title="لینک">اخبار
        <table width="100%">
        <tr><td width="337">
        <em>خبر یک</em></td></tr>
        <tr><td>
         <em>خبر دو</em>
         </td></tr>
          <tr><td>
         <em>خبر سه</em>
         </td></tr>
         </table>
        </a></li> 
    </ul>
  </div>
  </td>
  </tr>
  </table>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:19:40.870

首先，您真的不应该使用表格进行布局，它在语义上不正确，表格只能用于表格数据。其次，您可以用无效的 aa 标签包围表格。

我怀疑您的问题与表格使用不当有关

```
<div id="footer">
  <ul class="left">
    <li> <a href="link">links here...</a><li>
  </ul>
  <ul class="right">
     <li> <a href="link">links here...</a><li>
  </ul>
</div> 
```

然后像这样的CSS：

```
#footer{
  width:100%;
  /* other style here... */
}

.left{
  float:left;
  margin:5px 10px;
}

.right{
  float:right;
  margin:5px 10px;
} 
```

这应该使您的页脚坐在您想要的位置并且在语义上更正确

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T10:11:03.370

所以，让表格的宽度在`#footer`100% 以内。& 相应地除以`<td>`百分比的宽度。

实际上 padding to`#footer`是将最后一个表格行推到外面，因为 padding 增加了宽度，`#footer`所以使`#footer`to的宽度`960px`在左右两侧应用填充为 20px。

# mysql - 使用 play、hibernate 和 mysql 更改 rewriteBatchedStatements

> ID：11644877
> 
> 赞同：0
> 
> 时间：2012-07-25T07:39:51.800
> 
> 标签：mysql, performance, hibernate, bulkinsert, playframework-1.x

我正在尝试通过 play(1.2.4)+mysql 优化批量插入。我看到一些帖子谈论将以下内容添加到 jdbc 配置（将其添加到连接字符串）： useServerPrepStmts=false&rewriteBatchedStatements=true&useCompression=true

我试过这样做：

```
db=mysql://root@localhost/data?useServerPrepStmts=false&rewriteBatchedStatements=true&useCompression=true 
```

但我得到这个错误：

```
A database error occured : Cannot connected to the database, The connection property 'useCompression' only accepts values of the form: 'true', 'false', 'yes' or 'no'. The value 'true?useUnicode=yes' is not in this set. 
```

我也尝试使用 db=jdbc:mysql://....

仍然没有运气。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T09:26:51.403

Play 会自动在 MySQL 连接字符串中添加以下内容：

```
?useUnicode=yes&characterEncoding=UTF-8&connectionCollation=utf8_general_ci 
```

所以我猜你的连接字符串最终无效，因为现在有两组参数（以问号开头）。

不幸的是，这部分 Play 代码在 DBPlugin 类中是相当硬编码的，这意味着您不能以这种方式添加选项。您将不得不寻找一种在稍后阶段更改选项的方法。

# c# - 如何正确显示每种文化的百分比

> ID：11644878
> 
> 赞同：3
> 
> 时间：2012-07-25T07:39:51.287
> 
> 标签：c#, wpf, string, string-formatting

如您所知，百分比根据语言写在数字的左侧或右侧。

例如：

土耳其语 : %80 | 英语：80%

有了本地化，这真的很容易。

可以用字符串格式来做，当文化改变时演示会改变吗？

任何想法或帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T07:44:08.520

你说没有本地化，你的意思是全球化（正如 Leppie 在下面的评论中所说）？如果是这样 - 我很抱歉，但这个答案基本上不会回答你的问题，但会附带一个强烈的建议，**不要**开始重新发明很多轮子。

从[标准数字格式字符串](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)：

```
decimal percentage = 80.5M;
Console.WriteLine(percentage.ToString("P")); 
```

将数字格式化为当前区域性的百分比。

如果它是您所追求的特定文化，而不是当前文化，您有两个选择 - 更改当前文化（通过`CultureInfo.CurrentCulture`and`CultureInfo.CurrentUICulture`成员），或者您可以简单地将文化作为参数传递给`ToString()`：

```
decimal percentage = 80.5M;
//English (UK)
Console.WriteLine(percentage.ToString("P", CultureInfo.CreateSpecificCulture("en-GB")));
//Turkish (Turkey)
Console.WriteLine(percentage.ToString("P", CultureInfo.CreateSpecificCulture("tr-TR"))); 
```

# .net - 在保留存储过程的同时使用 EF 代码优先

> ID：11644891
> 
> 赞同：3
> 
> 时间：2012-07-25T07:40:19.383
> 
> 标签：.net, sql-server-2008, entity-framework, stored-procedures, ef-code-first

我已经开始在 EF4.0 中使用代码优先构建一个项目来构建我的数据库。我现在希望在 SQL Server 2008 中创建一些存储过程，这些过程将在创建的数据表上运行。

但是，由于 CF 删除并重新创建了*整个*数据库，我会丢失我创建的任何存储过程，并且每次都必须重新构建它们 - 这样很容易在不经意间丢失工作。

这里有“最佳实践”吗？当然，我现在总是可以锁定模式并首先忘记代码，但这并不理想。为什么 EF 会删除*整个*数据库 - 有没有办法只删除*表*？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:21:33.537

您可以使用[自定义数据库初始化程序](https://stackoverflow.com/questions/5701608/unique-key-with-ef-code-first/5701702#5701702)，它将在您每次重新创建数据库时创建您的存储过程。您还可以使用[EF 迁移](http://blogs.msdn.com/b/adonet/archive/2012/02/09/ef-4-3-code-based-migrations-walkthrough.aspx)以增量方式构建数据库，而不是在每次更改后删除它。`Up`迁移中的方法可以使用`Sql`方法来创建存储过程。

# php - PHP：一种存储登录尝试次数的方法？

> ID：11644895
> 
> 赞同：0
> 
> 时间：2012-07-25T07:40:33.553
> 
> 标签：php, mysql, sql, security

如果在任何 5 分钟间隔内有 5 个不正确，我想通过 IP 阻止所有请求，比如说 10 分钟。而且我正在考虑一种方法来存储这些数据，这种方式最不可能损害性能。

特别是关于如何设计数据库表和存储数据。

如果我为 IP 制作一个固定表作为主表，例如使用 mysql：

```
ip int(10) unsigned, primary key (ip)
attempts int(5),
lastaccess timestamp default current_timestamp 
```

然后它会不充分地积累尝试......

另一方面，如果我用时间戳记录所有不正确的尝试，例如：

```
ip int(10) unsigned,
lastaccess timestamp default current_timestamp,
primary key (ip,lastaccess) 
```

然后在 5 分钟的时间间隔内倒计时，表可能会因所有这些数据而变得非常庞大并减慢系统速度……它还需要维护。

所以，你能给我一些更方便的建议吗？...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T07:48:20.020

我会存储最后一次尝试的 IP 地址和时间戳。无论是在数据库中、memcached 类型的存储中，还是可能只是一些平面文件中，这取决于您预期的流量。

如果是数据库，您可以轻松查询类似`COUNT(timestamps) GROUP BY ip WHERE timestamp [within last 5 minutes]`的内容，偶尔使用简单的`DELETE WHERE timestamp [over 5 minutes ago]`. 清理可能发生在 cron 作业或垃圾收集系统中的每个 x 请求中。

如果是 memcached 或平面文件之类的东西，请将时间戳存储在 FIFO 数组中，即`array(123456..., 123456..., ...)`您不断截断的简单文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T08:00:26.477

试一试。我建议`redis`以防你很担心`the table could potentially grow very huge with all this data`

为每个用户生成一个唯一 ID [很可能是 IP，但考虑来自同一网络的用户。例如：来自组织的用户将具有与所有传出请求相关联的相同 IP，即使来自不同的机器] 并使用[STRING](http://redis.io/topics/data-types#strings)数据类型，键为唯一 ID，值作为计数器 [存储尝试次数]。

`String`来自 DOC的一个用例

> 使用 INCR 系列中的命令将字符串用作原子计数器：INCR、DECR、INCRBY。

字符串数据类型也支持过期。因此，您生成的所有密钥都将在 5 分钟内到期，一旦达到时间限制，它将自毁。您可以只读取计数器值来确定是否阻止用户。现在您不必担心随着时间的推移记录的数量

Redis 将所有数据都保存在内存中。我认为您也可能会获得一些性能改进

# database - Go 编程语言的 PostgreSQL 驱动程序

> ID：11644914
> 
> 赞同：13
> 
> 时间：2012-07-25T07:41:47.937
> 
> 标签：database, postgresql, driver, go

[http://go-lang.cat-v.org/pure-go-libs](http://go-lang.cat-v.org/pure-go-libs)列出了两个 PosgreSQL 驱动程序，但它们几个月以来一直没有更新，看起来就像一个男人展示的那样。所以我想知道它们是否可靠/准备好生产，或者是否有其他推荐的驱动程序。

你会在生产环境中使用 Go 和 PostgreSQL 并使用什么驱动程序？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-12-07T08:33:03.193

自从提出这个问题以来的一年半时间里，[**pq**](https://github.com/lib/pq)已经显着成熟并得到积极维护（上周多人多次提交，过去几个月每周更新一次）。

文档在这里： http: [//godoc.org/github.com/lib/pq](http://godoc.org/github.com/lib/pq)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-08T09:10:57.277

可以在[此处找到 SQL DB 驱动程序列表](https://github.com/golang/go/wiki/SQLDrivers)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T08:26:12.187

**在此基础上**，我可能不会在生产中使用它...

最新的似乎是[https://github.com/jbarham/gopgsqldriver](https://github.com/jbarham/gopgsqldriver)

但开源的优势之一是您拥有所有源代码，因此您可以自己维护、贡献补丁甚至接管维护者的角色。

# java - Oracle 查询到 JPA 查询的转换

> ID：11644915
> 
> 赞同：1
> 
> 时间：2012-07-25T07:41:57.353
> 
> 标签：java, oracle, hibernate, jpa

是否可以将以下 oracle 查询转换为 JPA

```
Select o.parent_id,o.group_id,
       (
         Select count(*) 
           From x_group g 
          Where g.parent_id=o.group_id
        ) 
 From x_group o 
Where o.parent_id='ABC' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:15:33.277

根据 JPA 规范（我检查了 v1 和 2.0），这是不可能的。在第 4.6.16 节（JPA 2.0 规范）中，它指出：

> 子查询可以用在 WHERE 或 HAVING 子句中。 [58]

因此，您可能会考虑在这种情况下使用本机查询，或者重写您的查询。

# c++ - C++ 和 box2d：userdata 将 int 转换为 void*

> ID：11644916
> 
> 赞同：0
> 
> 时间：2012-07-25T07:41:58.323
> 
> 标签：c++, casting, box2d

我对box2d很陌生，我正在尝试使用b2body对象中的userdata（void *类型）字段来存储一个int值（一个枚举值，所以我知道对象的类型）。

现在我正在做这样的事情：

```
int number = 1023;

void* data = (void*)(&number);

int rNumber = *(int*)data; 
```

我得到了正确的值，但是正如我一直在阅读关于强制转换为 void* 它不可移植或不可推荐的......我的代码是跨平台的吗？它的行为是定义的还是依赖于实现的？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T07:45:27.577

Casting to`void *`是可移植的。不建议这样做，因为您正在失去类型安全性。任何东西都可以放入a `void *`，任何东西都可以取出。它使你更容易在脚上射击自己。否则`void *`，只要您小心谨慎并格外小心，就可以了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T08:04:51.193

你实际上不是投射`int`到`void*`，你投射`int*`到`void*`，这是完全不同的。

指向任何类型的指针都可以存储在 a 中`void*`，并且可以再次转换回*相同*的类型。这是保证工作。

转换为任何其他类型都是不可移植的，因为语言标准没有规定不同的指针必须具有相同的大小或以相同的方式工作。只是它`void*`必须足够宽以容纳它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-25T07:47:49.350

问题之一`void*`是您需要知道（跟踪）它最初是什么类型才能正确转换它。如果它最初是 a`float`并且你将它放在一个`int`编译器上，编译器就会相信你的话。

为避免这种情况，您可以为包含该类型的数据创建一个包装器，这样您就可以始终将其转换为正确的类型。

编辑：您还应该养成使用 C++ 铸造风格而不是 C 即的习惯`reinterpret_cast`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-25T07:57:47.630

void * 在某种程度上是过去的遗物（ISO C），但非常方便。只要您小心地向后和向前转换您想要的类型，您就可以安全地使用它。考虑其他替代方案，例如 c++ 类系统或重载函数

无论如何，您将拥有更好的演员阵容，有时没有其他办法（void *），有时他们太方便了。

它可能导致代码不可移植，不是因为强制转换系统，而是因为有些人很想用它们进行不可移植的操作。最大的问题在于 (void*) 与内存地址一样大，在许多平台中恰好也是平台整数的长度。

但是在一些罕见的例外情况下 size(void*) != size(int)

如果您尝试对它们进行某种类型的操作/魔术而不转换回您想要的类型，您可能会遇到问题。您可能会惊讶于我看到有多少人想将整数存储到 void* 指针中

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-21T03:57:11.773

要回答您的问题，是的，这样做是安全的。

要回答你没有问的问题，那个 void 指针并不是用来保存 int 的。Box2D 有这个指针让你指向游戏引擎中的 Entity 对象，所以你可以在你的游戏中关联一个 Entity到物理模拟中的 b2Body。当一个 b2Body 与另一个 b2Body 交互时，它允许您更轻松地对实体进行编程。

所以你不应该只是在那个 void* 中放一个枚举。您应该将它直接指向由该 b2body 表示的游戏对象，其中可能有一个枚举。

# c# - 文件类型实现，如图像、电影等

> ID：11644920
> 
> 赞同：0
> 
> 时间：2012-07-25T07:42:24.390
> 
> 标签：c#, asp.net, file-type

我想知道是否有任何文件组/文件类型的实现，如下所示：

实际上我正在实现文件上传，我想将上传文件的文件类型保存在我的数据库中，以便我知道如何呈现不同的文件。我的所有图像（如 jpg、gif、png）都应具有文件类型 IMAGE 并应呈现为图片，所有电影都应具有 MOVIES 类型并使用 flash 电影模块实现，其余均作为下载。是否有任何实现或者我必须自己实现映射？

感谢您的回答...

来自德国的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:47:27.047

首先认为我有可以帮助您的 - 多用途 Internet 邮件扩展（又名 MIME）类型。您可以通过 MIME_headers 获取此信息，例如内容 ID、内容类型等

# xpath - xpath 的通配符用法

> ID：11644921
> 
> 赞同：1
> 
> 时间：2012-07-25T07:42:26.077
> 
> 标签：xpath

我在使用 xpath 选择以下两个标签时遇到问题：

```
<div class="table-row">
<div class="table-row "> 
```

我试过：

```
"//div[@class='table-row*']" 
```

但这与上述任何一个都不匹配。

我究竟做错了什么？感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:51:32.723

用于`starts-with`匹配通配符的位置**`'*'`**

```
//div[starts-with(@class, 'table-row')] 
```

# php - 如何在浏览器中正确显示数组

> ID：11644930
> 
> 赞同：1
> 
> 时间：2012-07-25T07:43:03.890
> 
> 标签：php, arrays

我有一个小问题。我在网上搜索，但我没有找到任何东西。

我使用`print_r`或`var_dump`经常。我正在寻找一种方法来正确显示具有这些方法的数组，具有正确的格式、对齐等……但不是全部在一行上，这使得它难以理解。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-25T07:46:00.993

如果您要输出到浏览器并希望保留空格，请将其包装在`<pre></pre>`标签中，如下所示

```
echo '<pre>', var_dump($foo), '</pre>'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-25T07:46:20.023

这是我通常用来将数据转储到屏幕的方法。HTML pre 标记将其格式化为输出。因此，并非所有数据都放在 1 行上。

```
<?php
function dump($data)
{
  echo "<pre>"; var_dump($data); echo "</pre>";
}
?> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T07:47:14.420

我建议安装 XDebug。Xdebug 以非常简洁的方式格式化 var_dump 和 print_r，并提供更多关于变量和对象的信息。查看链接了解更多信息

[http://xdebug.org/docs/display](http://xdebug.org/docs/display)

安装请看下面的链接

[http://xdebug.org/docs/install](http://xdebug.org/docs/install)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-25T08:33:56.397

薯片解决方案很好。还有一个使用 XMP 标签的选项。您也可以使用 print_r，它为输出带来的数据更少。

```
<?php
function dump($data)
{
  echo "<xmp>";
  //var_dump($data); 
  print_r($data); 
  echo "</xmp>";
}
?> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-25T07:51:28.130

您可以使用 FirePHP。它提供了一个很好地调试的 API。

见[http://www.firephp.org/](http://www.firephp.org/)

# php - 从 Flash 站点获取内容

> ID：11644933
> 
> 赞同：0
> 
> 时间：2012-07-25T07:43:16.153
> 
> 标签：php, curl

我一直在使用 php-curl 从基于 html 的站点和 http 分析器获取内容来监控流量，是否可以从 flash 站点中抓取某些文本（该文本在站点 X 秒后更新）？我尝试使用 http 分析器和提琴手进行监控，但它不显示更新文本过程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:47:09.637

这可能只有使用屏幕阅读器或其他东西才能实现......您可以下载 Flash 文件，提取它并“解析”它，但仅此而已。无法像使用 HTML 一样自动翻录内容。

这就是 Flash 网站在 Google 上的可查找性问题的本质。

# matlab - Matlab 从 freqz 调用 fvtool，如果传递了 DFILT 对象

> ID：11644934
> 
> 赞同：1
> 
> 时间：2012-07-25T07:43:22.213
> 
> 标签：matlab, signals, toolbox

你好，我的信号处理器伙伴！:-D

下面的事情一直让我发疯。[请考虑mathworks 主页](http://www.mathworks.ch/help/toolbox/signal/ref/freqz.html)`freqz`上的命令文档。

如果`freqz`命令传递了一个包含系数的 FIR 滤波器向量，它会创建一个如图所示的[图。](http://www.mathworks.ch/help/toolbox/signal/ref/freqz_example.png)如果它被传递一个 DFILT 对象，例如一个 IIR 滤波器，它会创建一个类似于 mathworks 帮助页面上的第二个图像的图。（即，相位和幅度都在一个图中）

如何`freqz`在将 DFILT 对象传递给它的同时创建第一张图像中的情节？

非常感谢。

（抱歉 - 我不能发布图片或两个以上的超链接。）

# javascript - 如何知道在哪个文件中定义了 chrome 控制台中的 js 全局变量？

> ID：11644937
> 
> 赞同：30
> 
> 时间：2012-07-25T07:43:29.610
> 
> 标签：javascript, google-chrome, mootools, google-chrome-devtools

如何找出使用谷歌浏览器控制台定义的变量的文件和行？

例如，变量`Native`（来自 MooTools）已在全局范围内定义。我想知道在哪个文件中使用 google chrome 控制台定义了这个变量。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-09-05T07:48:46.227

使用铬：

1.  打开 Web 检查器
2.  显示控制台并检查您要搜索的 var 是否存在（例如： Native `Enter`）
3.  点击资源面板
4.  在右上角的搜索栏中输入`Native=`或`var Native``Native =`
5.  你有你的结果！

在这里，只有一个`Native=`搜索结果。结果会自动突出显示，并打开相应的文件。在我的示例中，您可以看到`Native`声明位于`mootools.core.js`第 12 行。

![知道了 ！](../Images/bda4526cdeb044f233e5cfc1f6f3a95a.png)

**编辑：2015 年 3 月**（感谢[TML](https://stackoverflow.com/questions/11644937/how-to-know-in-which-file-that-defined-a-js-global-var-in-chrome-console/12276821?noredirect=1#comment46025033_12276821)）

在最新的 Chrome 版本中，右上角的搜索字段不再存在。
而不是点击`Show drawer`右上角的 （或点击`Esc`），然后选择`Search`刚刚出现在屏幕底部的选项卡：

![在此处输入图像描述](../Images/7a0cde4fae1acc6e58931f3f6e1e21e3.png)

**编辑：2015 年 11 月**（感谢[tzvi](https://stackoverflow.com/questions/11644937/how-to-know-in-which-file-that-defined-a-js-global-var-in-chrome-console/12276821?noredirect=1#comment55007385_12276821)）

您现在需要使用右上角的三点按钮来查找`Search all files`选项。

[![在此处输入图像描述](../Images/5c26c69a466fc886fde79a94884d08f0.png)](https://i.stack.imgur.com/vyq2u.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T19:50:40.287

您可以在“资源”（第二个）选项卡中搜索“var Native”。

函数定义可以从上下文菜单的“范围变量”块中找到，但在 Chrome 的 WebInspector 中没有“查找此变量来自/定义的位置”之类的功能。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-01T23:53:46.623

本机在 core.js 第 437 行中定义

```
var Native = this.Native = function(properties){
    return new Type(properties.name, properties.initialize);
};

Native.type = Type.type;

Native.implement = function(objects, methods){
    for (var i = 0; i < objects.length; i++) objects[i].implement(methods);
    return Native;
}; 
```

[https://github.com/mootools/mootools-core/blob/master/Source/Core/Core.js#L437](https://github.com/mootools/mootools-core/blob/master/Source/Core/Core.js#L437)

快速文件搜索 a = 分配几乎总是要走的路

# android - 包含 Android 库时的 ActivityNotFoundException

> ID：11644939
> 
> 赞同：0
> 
> 时间：2012-07-25T07:43:40.953
> 
> 标签：android, eclipse, ubuntu-12.04

我有一个使用[OI FileManager](http://code.google.com/p/openintents/)的测试项目。我将该项目作为 Android 库添加到我的测试项目中，然后在库中调用 Activity。它显示错误：

```
E/AndroidRuntime( 1359): FATAL EXCEPTION: main
E/AndroidRuntime( 1359): android.content.ActivityNotFoundException: Unable to find explicit activity class {com.androidcoretest/org.openintents.filemanager.FileManagerActivity}; have you declared this activity in your AndroidManifest.xml?
E/AndroidRuntime( 1359):    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1404)
E/AndroidRuntime( 1359):    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1378)
E/AndroidRuntime( 1359):    at android.app.Activity.startActivityForResult(Activity.java:2817)
E/AndroidRuntime( 1359):    at android.app.Activity.startActivity(Activity.java:2923)
E/AndroidRuntime( 1359):    at com.androidcoretest.FileExplorerTest$1.onClick(FileExplorerTest.java:24)
E/AndroidRuntime( 1359):    at android.view.View.performClick(View.java:2408)
E/AndroidRuntime( 1359):    at android.view.View$PerformClick.run(View.java:8816)
E/AndroidRuntime( 1359):    at android.os.Handler.handleCallback(Handler.java:587)
E/AndroidRuntime( 1359):    at android.os.Handler.dispatchMessage(Handler.java:92)
E/AndroidRuntime( 1359):    at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime( 1359):    at android.app.ActivityThread.main(ActivityThread.java:4627)
E/AndroidRuntime( 1359):    at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime( 1359):    at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime( 1359):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
E/AndroidRuntime( 1359):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
E/AndroidRuntime( 1359):    at dalvik.system.NativeStart.main(Native Method) 
```

当我在清单中添加该活动的完整路径时，它会产生另一个错误。

```
 <activity
        android:label="@string/app_name"
        android:name="org.openintents.filemanager.FileManagerActivity" >    
    </activity> 
```

表明：

```
E/AndroidRuntime( 1393): FATAL EXCEPTION: main
E/AndroidRuntime( 1393): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.androidcoretest/org.openintents.filemanager.FileManagerActivity}: android.content.ActivityNotFoundException: Unable to find explicit activity class {com.androidcoretest/org.openintents.distribution.EulaActivity}; have you declared this activity in your AndroidManifest.xml?
E/AndroidRuntime( 1393):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
E/AndroidRuntime( 1393):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
E/AndroidRuntime( 1393):    at android.app.ActivityThread.access$2300(ActivityThread.java:125)
E/AndroidRuntime( 1393):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
E/AndroidRuntime( 1393):    at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime( 1393):    at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime( 1393):    at android.app.ActivityThread.main(ActivityThread.java:4627)
E/AndroidRuntime( 1393):    at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime( 1393):    at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime( 1393):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
E/AndroidRuntime( 1393):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
E/AndroidRuntime( 1393):    at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime( 1393): Caused by: android.content.ActivityNotFoundException: Unable to find explicit activity class {com.androidcoretest/org.openintents.distribution.EulaActivity}; have you declared this activity in your AndroidManifest.xml?
E/AndroidRuntime( 1393):    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1404)
E/AndroidRuntime( 1393):    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1378)
E/AndroidRuntime( 1393):    at android.app.Activity.startActivityForResult(Activity.java:2817)
E/AndroidRuntime( 1393):    at android.app.Activity.startActivity(Activity.java:2923)
E/AndroidRuntime( 1393):    at org.openintents.distribution.EulaOrNewVersion.startForwardActivity(EulaOrNewVersion.java:127)
E/AndroidRuntime( 1393):    at org.openintents.distribution.EulaOrNewVersion.showEula(EulaOrNewVersion.java:69)
E/AndroidRuntime( 1393):    at org.openintents.distribution.DistributionLibrary.showEulaOrNewVersion(DistributionLibrary.java:53)
E/AndroidRuntime( 1393):    at org.openintents.filemanager.FileManagerActivity.onCreate(FileManagerActivity.java:312)
E/AndroidRuntime( 1393):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
E/AndroidRuntime( 1393):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
E/AndroidRuntime( 1393):    ... 11 more
W/ActivityManager(   59):   Force finishing activity com.androidcoretest/org.openintents.filemanager.FileManagerActivity 
```

我会说这是 Eclipse 的一个错误。Eclipse 和 ADT 最近在构建过程中有很多错误：ClassNotFound 和 ActivityNotFound。

更新：我的代码只使用一行：

```
 final Intent intent = new Intent(FileExplorerTest.this, FileManagerActivity.class);
            startActivity(intent); 
```

**其实我有3个项目。2个图书馆项目和1个测试项目。库“OI File Manager”使用库“OI Distribution”，然后测试项目C使用库“IO File Manager”。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:04:29.627

确保将 OI FileManager 项目链接为库而不是外部 jar。转到项目属性 > Android > 库，然后单击添加库。

然后，当您在项目清单中定义活动时（但是使用 ADT 20，我认为这是自动的）

```
<activity
        android:label="@string/app_name"
        android:name="org.openintents.filemanager.FileManagerActivity" >    
    </activity> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T08:03:48.310

`com.androidcoretest/org.openintents.distribution.EulaActivity`我猜它找不到`FileManager`活动。你`EulaActivity`在清单中有那个吗？

在您的日志中查看：

> 引起：android.content.ActivityNotFoundException：无法找到明确的活动类{com.androidcoretest/org.openintents.distribution.EulaActivity}；您是否在 AndroidManifest.xml 中声明了此活动？

# ruby-on-rails - 为什么 Rails 认为 6,500 大于 10,000？

> ID：11644941
> 
> 赞同：0
> 
> 时间：2012-07-25T07:43:49.640
> 
> 标签：ruby-on-rails

我在“结果”列中植入了一个具有四个不同值的数据库。它们应该代表美元价值，但这无关紧要。

```
10,000;  6,500; 1,000; and 0 
```

在模型中，我创建了这个类方法

```
 def self.result
    order("result DESC")
  end 
```

在控制器中，我称之为

```
@decisions = Decision.result 
```

在索引中，它按以下顺序列出它们

```
 6,500;  
  10,000; 
  1,000; 
   0 
```

当我将 DESC 切换到 ASC 时......

```
 def self.result
    order("result ASC")
  end 
```

它颠倒了顺序

```
0
1,000; 
10,000;
 6,500; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:46:47.460

您将数字存储为字符串。将列类型更改为`DECIMAL`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T07:46:56.937

您的列类型是字符串，而不是数字，它们按字符串顺序排列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-25T07:46:44.153

该列的数据类型是什么？如果它是一个字符串，那么以 6 开头的字符串比以 1 开头的字符串“更大”

# web-applications - 适合初学者的 Jboss

> ID：11644942
> 
> 赞同：8
> 
> 时间：2012-07-25T07:43:53.247
> 
> 标签：web-applications, jboss, application-server

我知道这类问题通常是不可取的，但我仍然认为我可以依靠你的帮助。我想说明一个体面的 Jboss 教程/文档，其中引用了它的基本和广泛的应用程序以及一些简单的示例。一直到现在我都一丝不苟地寻找，但是我找不到任何让我满意的东西。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-25T07:54:24.183

从这里开始 - [hello world](http://www.centerkey.com/jboss/) 比从这里跳转 - [jboss ejb3 教程](http://docs.jboss.org/ejb3/docs/tutorial/1.0.7/html/index.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-16T15:36:45.633

除了[JBoss 文档](http://www.jboss.org)，您还可以在此处找到大量[JBoss 教程](http://www.mastertheboss.com)。
希望能帮助到你

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-12T11:21:19.540

有很多 JBoss 7 的官方示例位于：[http](http://www.jboss.org/jdf/examples/get-started/) ://www.jboss.org/jdf/examples/get-started/ 您可以将它们导入您的 IDE 并轻松部署到 JBoss。

# wcf - wcf deadlock on client when bursting requests

> ID：11644949
> 
> 赞同：10
> 
> 时间：2012-07-25T07:44:24.843
> 
> 标签：wcf, threadpool, deadlock

I've been banging my head against this issue for at least a week now (learned something new too - WCF is a major PITA).

Here's my problem: I have a scenario in my app that at some point freezes the whole client for, like, forever (because I disabled the timeouts, as both the client and server are in a controlled environment). The deadlock happens exactly on the same call, I presume due to the burst of requests preceding it.

Inspecting the deadlock stack trace on the client gives me this:

```
[In a sleep, wait, or join] 
WindowsBase.dll!System.Windows.Threading.DispatcherSynchronizationContext.Wait(System.IntPtr[] waitHandles, bool waitAll, int millisecondsTimeout) + 0x26 bytes 
mscorlib.dll!System.Threading.SynchronizationContext.InvokeWaitMethodHelper(System.Threading.SynchronizationContext syncContext, System.IntPtr[] waitHandles, bool waitAll, int millisecondsTimeout) + 0x1c bytes   
[Native to Managed Transition]  
[Managed to Native Transition]  
mscorlib.dll!System.Threading.WaitHandle.InternalWaitOne(System.Runtime.InteropServices.SafeHandle waitableSafeHandle, long millisecondsTimeout, bool hasThreadAffinity, bool exitContext) + 0x2b bytes 
mscorlib.dll!System.Threading.WaitHandle.WaitOne(int millisecondsTimeout, bool exitContext) + 0x2d bytes    
mscorlib.dll!System.Threading.WaitHandle.WaitOne() + 0x10 bytes 
System.Runtime.DurableInstancing.dll!System.Runtime.TimeoutHelper.WaitOne(System.Threading.WaitHandle waitHandle, System.TimeSpan timeout) + 0x7c bytes 
System.ServiceModel.dll!System.ServiceModel.Channels.OverlappedContext.WaitForSyncOperation(System.TimeSpan timeout, ref object holder) + 0x40 bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.PipeConnection.WaitForSyncRead(System.TimeSpan timeout, bool traceExceptionsAsErrors) + 0x38 bytes 
System.ServiceModel.dll!System.ServiceModel.Channels.PipeConnection.Read(byte[] buffer, int offset, int size, System.TimeSpan timeout) + 0xef bytes 
System.ServiceModel.dll!System.ServiceModel.Channels.DelegatingConnection.Read(byte[] buffer, int offset, int size, System.TimeSpan timeout) + 0x21 bytes   
System.ServiceModel.dll!System.ServiceModel.Channels.ConnectionUpgradeHelper.InitiateUpgrade(System.ServiceModel.Channels.StreamUpgradeInitiator upgradeInitiator, ref System.ServiceModel.Channels.IConnection connection, System.ServiceModel.Channels.ClientFramingDecoder decoder, System.ServiceModel.IDefaultCommunicationTimeouts defaultTimeouts, ref System.Runtime.TimeoutHelper timeoutHelper) + 0xb3 bytes  
System.ServiceModel.dll!System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.SendPreamble(System.ServiceModel.Channels.IConnection connection, System.ArraySegment<byte> preamble, ref System.Runtime.TimeoutHelper timeoutHelper) + 0x155 bytes  
System.ServiceModel.dll!System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.DuplexConnectionPoolHelper.AcceptPooledConnection(System.ServiceModel.Channels.IConnection connection, ref System.Runtime.TimeoutHelper timeoutHelper) + 0x25 bytes  
System.ServiceModel.dll!System.ServiceModel.Channels.ConnectionPoolHelper.EstablishConnection(System.TimeSpan timeout) + 0xe2 bytes 
System.ServiceModel.dll!System.ServiceModel.Channels.ClientFramingDuplexSessionChannel.OnOpen(System.TimeSpan timeout) + 0x37 bytes 
System.ServiceModel.dll!System.ServiceModel.Channels.CommunicationObject.Open(System.TimeSpan timeout) + 0x13f bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannel.OnOpen(System.TimeSpan timeout) + 0x52 bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.CommunicationObject.Open(System.TimeSpan timeout) + 0x13f bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannel.CallOpenOnce.System.ServiceModel.Channels.ServiceChannel.ICallOnce.Call(System.ServiceModel.Channels.ServiceChannel channel, System.TimeSpan timeout) + 0x12 bytes  
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannel.CallOnceManager.CallOnce(System.TimeSpan timeout, System.ServiceModel.Channels.ServiceChannel.CallOnceManager cascade) + 0x10c bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannel.Call(string action, bool oneway, System.ServiceModel.Dispatcher.ProxyOperationRuntime operation, object[] ins, object[] outs, System.TimeSpan timeout) + 0x18b bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(System.Runtime.Remoting.Messaging.IMethodCallMessage methodCall, System.ServiceModel.Dispatcher.ProxyOperationRuntime operation) + 0x59 bytes    
System.ServiceModel.dll!System.ServiceModel.Channels.ServiceChannelProxy.Invoke(System.Runtime.Remoting.Messaging.IMessage message) + 0x65 bytes    
mscorlib.dll!System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(ref System.Runtime.Remoting.Proxies.MessageData msgData, int type) + 0xee bytes    
MyService.dll!MyService.Controller.CallMethod() + 0x9 bytes 
```

The reason I suspect the bursting calls sequence is that if I insert a sleep of 60s before the call is made, the deadlock doesn't occur.

Does anybody have any suggestion on how to avoid this issue?

P.S. I'm using named pipes.

EDIT:

The call to the WCF service on the client side happens on the GUI thread. Am I right to assume (from the callstack) that it tries to access the GUI thread, which is causing the deadlock?

EDIT:

Client side channel factory initialization:

```
var binding = new NetNamedPipeBinding
    {
        OpenTimeout = TimeSpan.MaxValue,
        CloseTimeout = TimeSpan.MaxValue,
        SendTimeout = TimeSpan.MaxValue,
        ReceiveTimeout = TimeSpan.MaxValue,
        ReaderQuotas = { MaxStringContentLength = Int32.MaxValue, MaxArrayLength = Int32.MaxValue },
        MaxBufferPoolSize = Int32.MaxValue,
        MaxBufferSize = Int32.MaxValue,
        MaxReceivedMessageSize = Int32.MaxValue
    };
CustomBinding pipeBinding = new CustomBinding(binding);
pipeBinding.Elements.Find<NamedPipeTransportBindingElement>().ConnectionPoolSettings.IdleTimeout = TimeSpan.FromDays(24);
channelFactory = new ChannelFactory<ITestsModule>(pipeBinding,
    new EndpointAddress(string.Format("net.pipe://localhost/app_{0}/TestsModule", ProcessId))); 
```

Server side host initialization:

```
var host = new ServiceHost(m_testModule, new Uri[] { new Uri(string.Format("net.pipe://localhost/app_{0}", Process.GetCurrentProcess().Id)) });
ServiceThrottlingBehavior throttle = host.Description.Behaviors.Find<ServiceThrottlingBehavior>();

if (throttle == null)
{
    throttle = new ServiceThrottlingBehavior();
    throttle.MaxConcurrentCalls = 500;
    throttle.MaxConcurrentSessions = 200;
    throttle.MaxConcurrentInstances = 100;
    host.Description.Behaviors.Add(throttle);
}

ThreadPool.SetMinThreads(1000, 1000);

var binding = new NetNamedPipeBinding
    {
        OpenTimeout = TimeSpan.MaxValue,
        CloseTimeout = TimeSpan.MaxValue,
        SendTimeout = TimeSpan.MaxValue,
        ReceiveTimeout = TimeSpan.MaxValue,
        ReaderQuotas = { MaxStringContentLength = Int32.MaxValue, MaxArrayLength = Int32.MaxValue },
        MaxBufferPoolSize = Int32.MaxValue,
        MaxBufferSize = Int32.MaxValue,
        MaxReceivedMessageSize = Int32.MaxValue
    };

CustomBinding pipeBinding = new CustomBinding(binding);
pipeBinding.Elements.Find<NamedPipeTransportBindingElement>().ConnectionPoolSettings.IdleTimeout = TimeSpan.FromDays(24);

host.AddServiceEndpoint(typeof(ITestsModule), pipeBinding, "TestsModule"); 
```

Service class behavior:

```
[ServiceBehavior(
    InstanceContextMode = InstanceContextMode.Single,
    ConcurrencyMode = ConcurrencyMode.Multiple,
    UseSynchronizationContext = false,
    IncludeExceptionDetailInFaults = true
)] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-24T20:00:31.177

首先，你知道你在服务器端锁定了什么吗？锁争用是否仅来自 WCF 接口？或者您的服务器也从其他地方的其他组件/类锁定？这是最重要的问题，与 WCF 无关。

现在，这就是说，试试这个来帮助缩小问题范围：

**选项 1：** 客户端超时 - 不要设置为 Int32.MaxValue，设置为十秒，并实现客户端**重试**超时。

**选项 2：**

```
ServiceThrottlingBehavior ThrottleBehavior = new ServiceThrottlingBehavior();
ThrottleBehavior.MaxConcurrentSessions = 4;
ThrottleBehavior.MaxConcurrentCalls = 4;
ThrottleBehavior.MaxConcurrentInstances = 4;

ServiceHost Host = ...
Host.Description.Behaviors.Add(ThrottleBehavior); 
```

如果选项 2 有帮助，请对其进行压力测试（应该对选项 1 进行同样的操作）——如果 MaxConcurrentXXX 设置为一个大数字，还要注意线程计数的增加。

希望这可以帮助

# sql - 包含不匹配引号的 SQL 查询

> ID：11644952
> 
> 赞同：0
> 
> 时间：2012-07-25T07:44:43.990
> 
> 标签：sql, sqlite

在sqlite中，是否可以查询包含未转义不匹配引号的数据？

例如，分隔符设置为`|`。

```
starships|spacecr"aft|snoo"py|rhythm 
```

使用插入不是问题，它工作正常。问题是用 .import 分隔元素。为了说明我的观点，我创建了一个名为 test.dat 的文件，其内容如下：

```
starships|spacecr"aft|snoo"py|rhythm 
```

然后执行以下命令：

```
sqlite> create table t (a,b,c,d);
sqlite> .separator '|'
sqlite> .import test.dat t
Error: test.dat line 1: expected 4 columns of data but found 3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T07:47:23.723

是的，这是可能的：

```
sqlite> create table t (f1 string, f2 string, f3 string, f4 string);
sqlite> insert into t values ('starships', 'spacecr"aft', 'snoo"py', 'rhythm');
sqlite> select * from t;
starships|spacecr"aft|snoo"py|rhythm
sqlite> select * from t where f2 = 'spacecr"aft';
starships|spacecr"aft|snoo"py|rhythm 
```

# c# - Devexpress Report Bands

> ID：11644953
> 
> 赞同：0
> 
> 时间：2012-07-25T07:44:53.507
> 
> 标签：c#, vb.net, devexpress, xtrareport

Hi can i export not the whole report but instead the report bands of devexpress xtrareport? I want to have the header, body and footer pass onto different strings. It is possible? Thanks

**UPDATE**

I have a InvoiceReceipt which has ReportHeader, Detail, ReportFooter what i want is to pass

```
ReportHeader => string header;
Detail => string items;
ReportFooter => string footer; 
```

So when i get header it should have the header of the report in text format ( since it was exported as text ) and the rest follows.

OR

can i have the ReportHeader be exported as Text? same as ReportFooter and the Details part?

OR

can i have devexpress reports export to text a specific report by reportheader, reportfooter and details?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:11:29.297

寻找几乎看起来像这样的代码

```
 XtraReport report = new XtraReport();

    ReportModel model = this.DataContext as ReportModel;

    report.DataSource = model;

    report.Report.DataSource = model.items;

    report.ShowPreviewDialog(); 
```

因为可以使用设置为报表数据上下文的模型来构建您的页眉、明细带和页脚字符串，因此无需从报表页眉、明细带、页脚中获取字符串

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-03T11:22:07.613

```
on document viewer :-

public void Getnewreport()
        {
            XtraReport report = new XtraReport();
            // Create a report and bind it to a dataset. 
            report.DataSource = Datads;
            // Show the print preview. 
            report.ShowPreview();
        }

on designer
XtraReport objDevReport = new XtraReport();
                objDevReport.ShowPreview();
                objDevReport.ShowPreviewDialog(); 
```

# android - set position X/Y of a view before API 11 (Android)

> ID：11644955
> 
> 赞同：0
> 
> 时间：2012-07-25T07:45:00.253
> 
> 标签：android, view

i would like to set position of my view. There are the methods setX/setY or setLeft/setTop but these methods are available since API 11. What is the solution in order to have this fonctionnality in other API.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-21T07:56:52.763

这取决于您使用的布局。您`RelativeLayout`可以执行以下操作：

```
RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)child.getLayoutParams();

layoutParams.leftMargin = x;
layoutParams.topMargin = y;

child.setLayoutParams(layoutParams); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:56:51.580

try to override onDraw method and set translation x/y your canvas ?

```
@Override
protected function onDraw(Canvas c){
    c.save();
    c.translate(x,y);
    c.restore();
} 
```

I think it's not a good solution but it the only idea i had.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-17T11:20:05.347

我唯一可以“开箱即用”的工作就是设置视图填充。

```
View.setPadding(left, top, right, bottom); 
```

这不是最好的解决方案，但它适用于 11 岁以上的 API，并且将模拟以 X、Y 方式移动视图。

希望有帮助！

# magento - Trying to upgrade from Magento 1.6.2.0 to 1.7.0.2 via downloader fails

> ID：11644956
> 
> 赞同：0
> 
> 时间：2012-07-25T07:45:17.523
> 
> 标签：magento, magento-1.7

I've tried to upgrade my existing 1.6.2.0-Installation to 1.7.0.2 via the downloader by the following command:

./mage upgrade [http://connect20.magentocommerce.com/community](http://connect20.magentocommerce.com/community) Mage_All_Latest --force

This results in the following message:

Already installed: community/Mage_All_Latest 1.6.2.0, skipping [...] [...]

But if I'm checking "./mage list-upgrades" I can see that there is an update for Mage_All_Latest:

Mage_All_Latest: 1.6.2.0 => 1.7.0.2

Next I tried to install 1.7.0.2 by the following command:

./mage install [http://connect20.magentocommerce.com/community](http://connect20.magentocommerce.com/community) Mage_All_Latest --force

but this (re-)installs only the 1.6.2.0-Packages.

I also tried this two commands setting explicit version numbers but is still doesn't work.

Any idea?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-26T12:44:51.257

转到 http:///downloader 使用具有完全权限的用户登录 确保选择“成功安装或升级后清除所有会话”</p>

# javascript - 启用和禁用触摸

> ID：11644958
> 
> 赞同：0
> 
> 时间：2012-07-25T07:45:38.877
> 
> 标签：javascript, jquery, html, css

最近几天，我正在为平板电脑、个人电脑、手机等开发 web 应用程序。我注意到，在某些情况下，通过禁用 iPad 的弹性效果，该应用程序的用户体验得到了极大的改善。

> （弹性效应的意思；当你在一个什么都不做的平面上触摸页面时，它会跟随你的手指移动整个网页，甚至超出屏幕的边界，并在释放时将它弹回原来的位置。）

反正！我有一些 javascript 代码可以解决问题，并且我已经能够对其进行调整，因此大多数触摸敏感部分仍然可以工作，而它们所在的页面是“不可触摸的”。

这是一段代码：`$(document).bind('touchmove', false);`

有没有一种简单的方法可以将其应用于整个页面，但对 div 例外？我已经尝试了一些东西，但我没有得到任何地方。任何帮助表示赞赏！:D

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:04:06.577

我不确定这是否可行，但值得一试。您选择页面上的所有元素，然后从列表中删除您的 div 并将事件绑定到所有这些元素。

```
$('*').not('#yourdivId').bind('touchmove', false); 
```

# loops - groovy 中的 reverse() 方法仅仅是迭代的抽象吗？

> ID：11644961
> 
> 赞同：4
> 
> 时间：2012-07-25T07:45:42.257
> 
> 标签：loops, groovy, iteration

基于一个[问题](https://stackoverflow.com/questions/11624487/start-loop-at-specific-line-of-text-file-in-groovy)，用户想要访问 100000 行文件的第 99999 行，而不必`eachLine`在前 99998 行上使用闭包进行迭代。所以，我建议他使用

`file.readLines().reverse()[1]`访问文件的第 99999 行。

这在逻辑上对程序员很有吸引力。但是，我对这种方法实施的复杂性非常怀疑。

该`reverse()`方法仅仅是对程序员隐藏的行的完整迭代的抽象，还是真的像能够迭代尽可能少的行以达到所需的行一样智能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T08:05:55.530

[从代码](https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java#L7506)中可以看出，在 Java 中`reverse()`调用来反转列表。`Collections.reverse`

但是，非变异代码为您提供了另一种选择。使用`listIterator()`你可以获得一个迭代器，`hasPrevious`并`previous`返回列表，所以如果你这样做：

```
// Our list
def a = [ 1, 2, 3, 4 ]
// Get a list iterator pointing at the end
def listIterator = a.listIterator( a.size() )
// Wrap the previous calls in another iterator
def iter = [ hasNext:{ listIterator.hasPrevious() },
             next:{ listIterator.previous() } ] as Iterator 
```

然后我们可以这样做：

```
// Check the value of 1 element from the end of the list
assert iter[ 1 ] == 3 
```

然而，所有这一切都是一个 ArrayList，所以如果你这样做几乎肯定会更快（并且更容易阅读代码）：

```
assert a[ 2 ] == 3 
```

Rather than all the reversing. Though obviously, this would need profiling to make sure I'm right...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:51:37.413

根据“Javadoc”，它只是以相反的顺序创建一个新列表：

*   [http://groovy.codehaus.org/groovy-jdk/java/util/List.html](http://groovy.codehaus.org/groovy-jdk/java/util/List.html)

除非我遗漏了什么，否则你是对的，立即跳转光标并不是那么聪明。我的理解是，如果它被索引为一个数组，它可以直接访问它，但如果不是必须遍历一遍。

* * *

替代方案可能是：

```
file.readLines().last()[-1] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-29T08:15:41.527

This answer:

```
def a= [1, 2, 3, 4]
def listIterator= a.listIterator(a.size())
def iter= [hasNext: {listIterator.hasPrevious()},
              next: {listIterator.previous()}] as Iterator
assert iter[1] == 3 
```

only works in Groovy-1.7.2 and after.

In Groovy-1.7.1, 1.7.0, the 1.7 betas, 1.6, 1.5, and back to 1.0-RC-01, it doesn't find the getAt(1) method call for the proxy. For version 1.0-RC-06 and before, java.util.HashMap cannot be cast to java.util.Iterator.

# git - No-FF for merges from a long time ago

> ID：11644964
> 
> 赞同：1
> 
> 时间：2012-07-25T07:45:51.477
> 
> 标签：git, github, git-merge, fast-forward

In our Git repository we have a few merges from branches that should have been merged with `--no-ff` but were not. These merges were made a long time ago.

Is there any way to force/insert a commit as if we were running those old merges with the `--no-ff` argument?

One of the supers on the project enjoys GitHub's network view and wanted to be able to see the individual branches, which are all merged into one line when a fast-forward occurs.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T09:44:53.567

如果您不介意拥有一个新的主/主分支（或覆盖旧的分支 - 但请记住，重写*已发布*的历史记录是**不好**的），您可以简单地重新创建合并，*如果*您还记得，当它们/应该有制作：

1.  签出第一个*被遗忘/不存在/错过*的合并：

    ```
    git checkout -b new_master $commit_before_merge 
    ```

2.  合并旧的提交。如果您想要正确的合并消息（包括原始分支名称），您可能需要临时重新创建旧分支，或手动编辑消息。

    ```
    git merge $head_commit_of_old_branch 
    ```

3.  然后，您将不得不使用`cherry-pick`或`rebase`将提交从原始主分支复制到新的“合并”分支。（带有提交范围的 Cherry-pick 需要最新版本的 Git）

    ```
    git cherry-pick $commit_before_merge..$commit_before_next_merge 
    ```

4.  返回第 2 步并重复，直到您对历史感到满意为止。

注意。首先在本地克隆中进行备份和测试。

# asp.net-mvc - What is the use of Html.BeginForm in MVC3

> ID：11644968
> 
> 赞同：20
> 
> 时间：2012-07-25T07:46:05.050
> 
> 标签：asp.net-mvc

What is the use of Html.BeginForm in MVC3. Why do we use it, when we can just add a form tag directly, does this html helper add some capability or does something which cannot be done with a simple form tag.

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-07-25T07:50:37.543

`Html.BeginForm`辅助方法包含[几个重载](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.formextensions.beginform.aspx)，其目的是使编写路由表单更容易。它了解 MVC 结构并确保其针对控制器和动作。这只是一点语法糖：

```
<form method="post" action="@Url.Action(...)"> 
```

用微软的话来说：

> ASP.NET MVC 框架包括帮助方法，这些方法提供了一种在视图中呈现 HTML 的简单方法。

当然，没有人让你使用它们。这只是一个偏好问题。事实上，在 MVC 的早期，许多 WebForms 开发人员庆祝他们从服务器控件 a-la`<asp:TextBox>`等人中获得了新的自由，并坚持手工编写所有内容。

强烈建议对表单字段使用帮助程序，因为它们知道表单验证之类的事情。`Html.BeginForm`只是为您提供了一种开始和完成表单的一致方式：

```
@using(Html.BeginForm())
{
    @Html.LabelFor(...)
    @Html.EditorFor(...)
} 
```

`Html.BeginForm`返回一个`IDisposable`对象，允许您将其包装在 C#`using`语句中。退出时`using`，处置会`Html.EndForm()`自动为您调用。由于`Html.EndForm`返回`void`，从 Razor 调用有点不方便：

```
@Html.BeginForm()
<formStuff>
@{Html.EndForm();} 
```

一个简单的`@Html.EndForm()`将变成`Write(Html.EndForm()) -> Write(void)`，即编译时错误。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-25T07:50:48.833

当然，您可以手动编写代码，但它确实有几个优点，例如：

*   它返回一个一次性的对象，这样你就可以把它放在一个`using`子句中，它会为你关闭表单标签
*   它计算表单操作的 URL

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-25T07:52:22.107

> 做一些简单的表格无法完成的事情

`<form>`最后，每个辅助方法调用都转换为纯 HTML，因此 Html.BeginForm 没有什么是直接使用标记无法完成的。

`Html.BeginForm`纯粹是一个辅助方法。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-25T07:52:29.503

有帮手的目的到底是什么？（反问）您也可以手动输入所有输入，但是助手……嗯，有时会帮助您。

它所做的一切都放在标签上。是的，您可以手动完成，或者您可以更花哨地执行以下操作：

```
@using(Html.BeginForm())
{
} 
```

这也会为您关闭表单标签。因此，如果您将所有输入保存在弯曲括号内，则无需担心记住关闭表单标签。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-11-05T09:26:58.043

很好的问题，我自己也很想知道。

我可能是错的，但这是我的猜测（更好的人可能会纠正我）：

在 MVC 的早期，没有剃刀。

在 C#/VB 和 html 之间切换在语法方面是困难的，因此推动了将这些边界最小化。

在创建表单时，完全在 C#/VB 端创建整个表单，没有任何混合的手动 html，只与周围的 html 世界有一个边界，这是有益的。

而且由于程序员经常从其他地方复制做事的风格，使用这些助手的做法一直存在，即使它们的好处随着剃刀的出现而消失了。

# symfony - Use set in a loop

> ID：11644971
> 
> 赞同：0
> 
> 时间：2012-07-25T07:46:20.927
> 
> 标签：symfony, twig

**How could I declare variables in a loop using Twig from a "users" array of objects "user" retrieved from the controller?**

user1 = "user1"

user2 = "user2"

...

userN = "userN" (with N length of the array)

```
{% for user in users %}

  {% set user1 = "user1" %} 
  {% set user2 = "user2" %}
   ...

{% endfor %} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T07:57:35.197

Twig gives you different loop variables, that you can use in the loops.

[http://twig.sensiolabs.org/doc/tags/for.html#the-loop-variable](http://twig.sensiolabs.org/doc/tags/for.html#the-loop-variable)

As for implementation of dynamic variable names - Twig does not support this, AFAIK.

In your case, I guess you need to refactor your application logic to work inside the loop:

```
{% for user in users %}
   {% set currentUser = "user" ~ loop.index %}
   ...do your includes, code etc. related to userN, assuming that userN == user ...
{% endfor %} 
```

# sql-server - Exchange 2010 message tracking log to database

> ID：11644973
> 
> 赞同：1
> 
> 时间：2012-07-25T07:46:31.023
> 
> 标签：sql-server, sql-server-2008, exchange-server, exchange-server-2010

I have Exchange 2010 running and i need to track all the emails. I have made a program to get emails from Exchange and do what i need, but the problem is, that if user deletes email or moves it to archive, i can't access it.
Is there a way to make Exchange to write message tracking log to database? Or at least a way to launch program when email is received?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T09:14:40.697

您编写了一个应用程序来执行此操作很好，但您不应该这样做。Exchange 已经具有邮箱审核日志记录功能以及您应该使用的功能，请参阅[了解邮箱审核日志记录](http://technet.microsoft.com/en-us/library/ff459237.aspx)。您可以配置自动记录所有传入和传出邮件的[日记功能。](http://technet.microsoft.com/en-us/library/aa998649)这是一个复杂的话题，我建议不要重新发明轮子，而是阅读已经可用的内容。

# wordpress - wordpress nivo slider creating custom permalink option during post?

> ID：11644974
> 
> 赞同：0
> 
> 时间：2012-07-25T07:46:39.660
> 
> 标签：wordpress, slider, nivo-slider

I am not using the nivo slider wordpress plugin, instead I am using regular nivo slider jquery and implemented it to work in wordpress, and currently my "read more" button is as follows:

```
<a href='".get_permalink()."'>Read More</a> 
```

What I want to implement is something like a `get_permalinkpage`? So basically I want to be able to make the read more link to a wordpress page of my choosing instead of the post's permalink. But I do not know how to implement a custom option to the posts page that would allow the user to say "Choose from pages to link the nivo slider slide to: (then shows pages on website)" and then output that selection.

Any help? This is the last thing I need to implement for our website!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:15:59.557

对，我在这里有你的答案，因为这是我最近自己做的事情。这确实是一个关于自定义元框的问题。这里有一些关于它的资源——我从一个推荐这个的伙伴那里收到了一个链接；

[http://www.deluxeblogtips.com/meta-box/](http://www.deluxeblogtips.com/meta-box/)

在 Bones 主题中，作者推荐了这个；

[https://github.com/jaredatch/Custom-Metaboxes-and-Fields-for-WordPress](https://github.com/jaredatch/Custom-Metaboxes-and-Fields-for-WordPress)

如果您想快速使用它，我将在此处发布一些代码。我会将以下代码放在它自己的文件中，并将其包含在您的functions.php中，即；

```
 require_once('includes/metabox-post.php'); 
```

在您的主题目录中创建一个包含目录，并创建一个包含此代码的文件；

```
<?php

/* CUSTOM METABOX  -----------------------------------------------------*/

//We create an array called $meta_box and set the array key to the relevant post type
$meta_box_post['post'] = array( 

//This is the id applied to the meta box
'id' => 'post-format-meta',   

//This is the title that appears on the meta box container
'title' => 'My Custom Metabox',    

//This defines the part of the page where the edit screen section should be shown
'context' => 'normal',    

//This sets the priority within the context where the boxes should show
'priority' => 'high', 

//Here we define all the fields we want in the meta box
'fields' => array(  
    array(
        'name' => 'Home Slider Link',
        'desc' => 'You can create a custom link for the home slider image (ie to link to the shop).  If left blank, it will by default link through to this post.',
        'id' => 'home-slide-link',
        'type' => 'text',
        'default' => ''
    )

   )

);

add_action('admin_menu', 'meta_add_box_post');

 //Add meta boxes to post types
function meta_add_box_post() {
global $meta_box_post;

foreach($meta_box_post as $post_type => $value) {
    add_meta_box($value['id'], $value['title'], 'meta_format_box_post', $post_type, $value['context'], $value['priority']);
  }
}

//Format meta boxes
function meta_format_box_post() {
  global $meta_box_post, $post;

  // Use nonce for verification
  echo '<input type="hidden" name="plib_meta_box_nonce" value="', wp_create_nonce(basename(__FILE__)), '" />';

  echo '<table class="form-table">';

  foreach ($meta_box_post[$post->post_type]['fields'] as $field) {
      // get current post meta data
      $meta = get_post_meta($post->ID, $field['id'], true);

      echo '<tr>'.
              '<th style="width:20%"><label for="'. $field['id'] .'">'. $field['name']. '</label></th>'.
              '<td>';
  switch ($field['type']) {
      case 'text':
          echo '<input type="text" name="'. $field['id']. '" id="'. $field['id'] .'" value="'. ($meta ? $meta : $field['default']) . '" size="30" style="width:97%" />'. '<br />'. $field['desc'];
          break;
      case 'textarea':
          echo '<textarea name="'. $field['id']. '" id="'. $field['id']. '" cols="60" rows="4" style="width:97%">'. ($meta ? $meta : $field['default']) . '</textarea>'. '<br />'. $field['desc'];
          break;
      case 'select':
          echo '<select name="'. $field['id'] . '" id="'. $field['id'] . '">';
          foreach ($field['options'] as $option) {
              echo '<option '. ( $meta == $option ? ' selected="selected"' : '' ) . '>'. $option . '</option>';
          }
          echo '</select>';
          break;
      case 'radio':
          foreach ($field['options'] as $option) {
              echo '<input type="radio" name="' . $field['id'] . '" value="' . $option['value'] . '"' . ( $meta == $option['value'] ? ' checked="checked"' : '' ) . ' />' . $option['name'];
          }
          break;
      case 'checkbox':
          echo '<input type="checkbox" name="' . $field['id'] . '" id="' . $field['id'] . '"' . ( $meta ? ' checked="checked"' : '' ) . ' /<br />&nbsp;&nbsp;'. $field['desc'];
          break;
  }
  echo     '<td>'.'</tr>';
  }

  echo '</table>';

}

// Save data from meta box
function meta_save_data_post($post_id) {
    global $meta_box_post,  $post;

   //Verify nonce
    if (!wp_verify_nonce($_POST['plib_meta_box_nonce'], basename(__FILE__))) {
        return $post_id;
    }

    //Check autosave
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {
        return $post_id;
    }

    //Check permissions
    if ('page' == $_POST['post_type']) {
       if (!current_user_can('edit_page', $post_id)) {
            return $post_id;
        }
    } elseif (!current_user_can('edit_post', $post_id)) {
       return $post_id;
    }

    foreach ($meta_box_post[$post->post_type]['fields'] as $field) {
        $old = get_post_meta($post_id, $field['id'], true);
        $new = $_POST[$field['id']];

        if ($new && $new != $old) {
            update_post_meta($post_id, $field['id'], $new);
        } elseif ('' == $new && $old) {
            delete_post_meta($post_id, $field['id'], $old);
        }
    }
}

add_action('save_post', 'meta_save_data_post');

?> 
```

这将为您的帖子添加一个新的自定义元框，您可以在其中输入替代网址。此自定义选项的 ID 为*home-slide-link*。要使用该 url，您将在模板循环中包含以下内容，同时构建 Nivoslider 图像列表；

```
 <?php
if ( get_post_meta($post->ID, 'home-slide-link', true) ) :
    $slideLink = get_post_meta($post->ID, 'home-slide-link', true); 
else :
    $slideLink = get_permalink();
endif;

   echo '<a href="'. $slideLink .'"><img src="image link in here" /></a>';
 ?> 
```

因此，如果帖子为滑块链接设置了 url，那么它会使用它，如果没有，则默认为永久链接。

希望这对您有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-28T04:11:45.047

这是我根据你的解决方案。

```
<div id="slider">
<?php
    $captions = array();
    $tmp = $wp_query;
    $wp_query = new WP_Query('cat='.$category.'&posts_per_page=$n_slices' );
    if($wp_query->have_posts()) :
        while($wp_query->have_posts()) :
            $wp_query->the_post();
            $captions[] = '<p>'.get_the_title($post->ID).'</p><p>'.get_the_excerpt().'</p>';
            $image = wp_get_attachment_image_src( get_post_thumbnail_id($post->ID), 'nivothumb');
            $mykey_values = get_post_custom_values('home-slide-link');
?>

<a href="<?php echo $mykey_values[0] ?>">
    <img src="<?php echo $image[0]; ?>" class="attachment-nivothumb wp-post-image" title="#caption<?php echo count($captions)-1; ?>" alt="<?php the_title_attribute(); ?>" />
</a>
<?php 
        endwhile; 
    endif;
    $wp_query = $tmp;
?>
</div><!-- close #slider -->

<?php
    foreach($captions as $key => $caption) :
?>
    <div id="caption<?php echo $key; ?>" class="nivo-html-caption">
        <?php echo $caption;?>
    </div>
<?php
    endforeach;
?> 
```

# c++ - Histogram for green component of an image in c++ using OpenCV

> ID：11644976
> 
> 赞同：2
> 
> 时间：2012-07-25T07:46:45.610
> 
> 标签：c++, opencv, histogram

I want to create a histogram for an green component of an image in c++ using OpenCV. The following code is working fine for color image but once i split the image into its RGB component and using the green component to call **calcHist** function, I am getting the following error.

*OpenCV Error: Assertion failed (j < nimages) in histPrepareImages, file /root/src/OpenCV-2.4.1/modules/imgproc/src/histogram.cpp, line 148 terminate called after throwing an instance of 'cv::Exception' what(): /root/src/OpenCV-2.4.1/modules/imgproc/src/histogram.cpp:148: error: (-215) j < nimages in function histPrepareImages Aborted (core dumped)*

Here is my code for the same. I took two images to create the histogram. Anyone pls help so solve this problem.

```
#include <cv.h>
#include <highgui.h>

using namespace cv;

int main( int argc, char** argv )
{
    Mat src,src1, hsv, hsv1;
    if( argc != 3 || !(src=imread(argv[1], 1)).data || !(src=imread(argv[2], 1)).data)
        return -1;

    std::vector<cv::Mat> three_channels;
    cv::split(src,three_channels);

    std::vector<cv::Mat> three_channels1;
    cv::split(src1,three_channels1);

    //cvtColor(src, hsv, CV_BGR2HSV);
    //cvtColor(src1, hsv1, CV_BGR2HSV);

    // Quantize the hue to 30 levels
    // and the saturation to 32 levels
    int hbins = 30, sbins = 32;
    int histSize[] = {hbins, sbins};
    // hue varies from 0 to 179, see cvtColor
    float hranges[] = { 0, 180 };
    // saturation varies from 0 (black-gray-white) to
    // 255 (pure spectrum color)
    float sranges[] = { 0, 256 };
    const float* ranges[] = { hranges, sranges };
    MatND hist, hist1, difference;
    // we compute the histogram from the 0-th and 1-st channels
    int channels[] = {0, 1};

    calcHist( &three_channels[1], 1, channels, Mat(), // do not use mask
            hist, 2, histSize, ranges,
            true, // the histogram is uniform
            false );
    calcHist( &three_channels1[1], 1, channels, Mat(), // do not use mask
            hist1, 2, histSize, ranges,
            true, // the histogram is uniform
            false );
    double maxVal=0;
    minMaxLoc(hist, 0, &maxVal, 0, 0);
    minMaxLoc(hist1, 0, &maxVal, 0, 0);

    int scale = 10;
    Mat histImg = Mat::zeros(sbins*scale, hbins*10, CV_8UC3);
    Mat hist1Img = Mat::zeros(sbins*scale, hbins*10, CV_8UC3);
    Mat hist2Img = Mat::zeros(sbins*scale, hbins*10, CV_8UC3);

    double hist_diff =0;    
    hist_diff = compareHist(hist, hist1, CV_COMP_CORREL);

    absdiff(hist, hist1, difference);

    printf("\nHist Diff:   %f\n", hist_diff);

    for( int h = 0; h < hbins; h++ )
        for( int s = 0; s < sbins; s++ )
        {
            float binVal = hist.at<float>(h, s);
            int intensity = cvRound(binVal*255/maxVal);
            rectangle( histImg, Point(h*scale, s*scale),
                    Point( (h+1)*scale - 1, (s+1)*scale - 1),
                    Scalar::all(intensity),
                    CV_FILLED );
        }
    for( int h = 0; h < hbins; h++ )
        for( int s = 0; s < sbins; s++ )
        {
            float binVal = hist1.at<float>(h, s);
            int intensity = cvRound(binVal*255/maxVal);
            rectangle( hist1Img, Point(h*scale, s*scale),
                    Point( (h+1)*scale - 1, (s+1)*scale - 1),
                    Scalar::all(intensity),
                    CV_FILLED );
        }

    for( int h = 0; h < hbins; h++ )
        for( int s = 0; s < sbins; s++ )
        {
            float binVal = difference.at<float>(h, s);
            int intensity = cvRound(binVal*255/maxVal);
            rectangle( hist2Img, Point(h*scale, s*scale),
                    Point( (h+1)*scale - 1, (s+1)*scale - 1),
                    Scalar::all(intensity),
                    CV_FILLED );
        }

    namedWindow( "Source", 1 );
    imshow( "Source", src );

    namedWindow( "H-S Histogram", 1 );
    imshow( "H-S Histogram", histImg );

    namedWindow( "H-S Histogram1", 1 );
    imshow( "H-S Histogram1", hist1Img );

    namedWindow( "H-S Histogram2", 1 );
    imshow( "H-S Histogram2", hist2Img );
    waitKey();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T08:11:22.630

您正在尝试从只有一个通道的图像中计算两个通道（0 和 1）的直方图，因为您将其拆分。

我没有详细查看您的代码，但我想您可以省略拆分并将 src/src1 传递给 calcHist 而不是 three_channels[1]/three_channels1[1]，设置`channels = {1}`

**编辑**

在您的代码中，更改`channels = {0,1}`为`channels{0}`，您应该不会收到任何错误。您将单通道图像传递给`calcHist()`，这就是为什么您应该只使用通道 0（唯一一个）。通过将 three_channels[1] 作为输入图像传递，您可以确保您实际上正在分析输入图像的第二个通道。

或执行以下操作：

```
 int channels[] = {1};

    calcHist( &src, 1, channels, Mat(), // do not use mask
        hist, 2, histSize, ranges,
        true, // the histogram is uniform
        false ); 
```

你不再需要`cv::split(src,three_channels)`了。

这是编译的两个版本，但您实际上想要计算绿色 (1D) 直方图而不是 2D 直方图。所以这是您编辑的代码，（希望）可以满足您的要求：

```
 int main( int argc, char** argv )
{
    Mat src,src1;
    if( argc != 3 || !(src=imread(argv[1], 1)).data || !(src=imread(argv[2], 1)).data)
            return -1;

    // Quantize the green to 30 levels
    int greenbins = 30;
    int histSize[] = {greenbins};
    // green varies from 0 to 255 (pure spectrum color)
    float greenranges[] = { 0, 256 };
    const float* ranges[] = { greenranges };
    MatND hist, hist1, difference;
    // we compute the histogram from the 2nd channel (green, index is 1)
    int channels[] = {1};

    calcHist( &src, 1, channels, Mat(), // do not use mask
            hist, 1, histSize, ranges,
            true, // the histogram is uniform
            false );
    calcHist( &src1, 1, channels, Mat(), // do not use mask
            hist1, 1, histSize, ranges,
            true, // the histogram is uniform
            false );
    double maxVal1=0;
    double maxVal2 =0;
    minMaxLoc(hist, 0, &maxVal1, 0, 0);
    minMaxLoc(hist1, 0, &maxVal2, 0, 0);
    double maxVal = max(maxVal1, maxVal2);

    int scale = 10;
    int width = 50;
    Mat histImg = Mat::zeros(greenbins*scale, width, CV_8UC3);
    Mat hist1Img = Mat::zeros(greenbins*scale, width, CV_8UC3);
    Mat hist2Img = Mat::zeros(greenbins*scale, width, CV_8UC3);

    double hist_diff =0;    
    hist_diff = compareHist(hist, hist1, CV_COMP_CORREL);

    absdiff(hist, hist1, difference);

    printf("\nHist Diff:   %f\n", hist_diff);

    for( int h = 0; h<greenbins; ++h)
    {
        float binVal = hist.at<float>(h);
        int intensity = cvRound(binVal*255/maxVal);
        rectangle( histImg, Point(0, h*scale),
                    Point(width, (h+1)*scale),
                    Scalar::all(intensity),
                    CV_FILLED );
    }
    for( int h = 0; h<greenbins; ++h)
    {
        float binVal = hist1.at<float>(h);
        int intensity = cvRound(binVal*255/maxVal);
        rectangle( hist1Img, Point(0, h*scale),
                    Point(width, (h+1)*scale),
                    Scalar::all(intensity),
                    CV_FILLED );
    }

    for(int h = 0; h < greenbins; ++h)
    {
        float binVal = difference.at<float>(h);
        int intensity = cvRound(binVal*255/maxVal);
        rectangle( hist2Img, Point(0, h*scale),
                    Point(width, (h+1)*scale),
                    Scalar::all(intensity),
                    CV_FILLED );
    }

    imshow( "Source", src );
    imshow( "Source1", src1 );

    imshow( "src1 green Histogram", histImg );

    imshow( "src2 green Histogram", hist1Img );

    imshow( "diff green Histogram", hist2Img );
    waitKey();
} 
```

# php - Retrieve Cookies values in all pages inner website

> ID：11644980
> 
> 赞同：0
> 
> 时间：2012-07-25T07:46:56.127
> 
> 标签：php, cookies, setcookie

I use a cookies values into a project to check the visitors entered, firstly, a submit post form exist to enter an email address, after submit, the cookies is set (for next navigation to the current page, should be enter direct to the home page not to the form page if cookies is set), everything goes right, the cookies is set properly , but after navigation to another page the data is lost and no cookies exist!!! is right that cookies should be valid in all pages navigation?? the below figure some codes...

```
if((!$_COOKIE["tickets"] && $_COOKIE["email_address"]) || (empty($_COOKIE['tickets']) && empty($_COOKIE['email_address']))){
$access_vcount=intval(getCurrentValueAccess())+1;
if(getCurrentValueAccess()==0){$query_vcounts=mysql_query("insert into visitors_counter(counter) VALUES('$access_vcount')");}
else{$query_vcounts=mysql_query("update `visitors_counter` set counter='".$access_vcount."'");}
setcookie("tickets", "accessible", time()+86400);
setcookie("email_address", $email_address, time()+86400);
}
header("Location:".BURL."/".getflink(2,'en')); 
```

The cookies are valid for a one day (should be that). When i try to print the values is cookies in another page , then no result.

Thank you for your suggestions.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T08:06:58.837

在重定向的页面上设置 cookie 时，必须在调用 header('Location: ....'); 之后设置 cookie；

如：

```
<?php
  header('Location: http://www.example.com/'); 
  setcookie('asite', $site, time()+60*60, '/', 'site.com');  ?> 
```

* * *

[从http://de3.php.net/manual/en/function.setcookie.php](http://de3.php.net/manual/en/function.setcookie.php)的评论中粘贴

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:53:29.770

在语法中

```
bool setcookie ( string $name [, string $value [, int $expire = 0 [, string $path [, string $domain [, bool $secure = false [, bool $httponly = false ]]]]]] ) 
```

必须正确设置路径，因为 cookie 仅对其下的路径和目录有效。

从[文档](http://php.net/manual/en/function.setcookie.php)中，

> cookie 可用的服务器上的路径。如果设置为“/”，cookie 将在整个域中可用。如果设置为 '/foo/'，则 cookie 将仅在 /foo/ 目录和域的 /foo/bar/ 等所有子目录中可用。默认值是设置 cookie 的当前目录。

# php - 上面的类实例化与下面的类声明

> ID：11644982
> 
> 赞同：1
> 
> 时间：2012-07-25T07:47:00.663
> 
> 标签：php, oop, inheritance, instantiation

我有一个名为 UserController 的类，它通过对 UserController.php 的 ajax 调用在其自己的声明之上实例化。它按预期工作。

```
<?php
new UserController();

class UserController{
  //constructor
  //methods
}
?> 
```

现在我想为我的所有控制器提供一些通用功能，并通过扩展 baseController 来实现。

```
<?php
//include BaseController
new UserController();

class UserController extends BaseController{
  //constructor
  //methods
}
?> 
```

但是，尝试实例化时我收到此消息：

**致命错误：在 C:\xampp\htdocs\project\controllers\UserController.php 中找不到类 'UserController'**

如果我将实例化移动到声明之后。这一切都再次正常工作。

```
<?php
//include BaseController

class UserController extends BaseController{
  //constructor
  //methods
}

new UserController();
?> 
```

有人可以对此有所了解吗？

为什么在这种情况下实例化 UserController 类需要在其声明之后进行，但如果不扩展另一个类，则可以在声明之前进行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T10:26:28.503

从文档：

> 除非使用自动加载，否则必须在使用类之前定义类。如果一个类扩展了另一个类，则必须在子类结构之前声明父类。此规则适用于继承其他类和接口的类。

[参考这里](http://www.php.net/manual/en/language.oop5.inheritance.php)

并且`include`没有自动加载......所以有你的问题

# wicket - Wicket 中的号码验证

> ID：11644984
> 
> 赞同：0
> 
> 时间：2012-07-25T07:47:08.830
> 
> 标签：wicket

我正在使用检票口 1.5。我有文本字段，用户在其中输入金额，以及我在检票口类中使用的“金额”以用于进一步的目的。我需要验证金额字段

```
final TextField<Integer> amount = new TextField<Integer>("amount",Integer.class); 
```

如果我使用上述验证完成但我无法获得类中的金额值是否有任何其他方法可以验证

问候沙拉特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T08:07:58.490

不确定这里的问题是什么，但[NumberTextField](http://ci.apache.org/projects/wicket/apidocs/1.5.x/org/apache/wicket/markup/html/form/NumberTextField.html)可以通过您的回答。

来自 JavaDoc

> 根据配置的 {@link #setMinimum(Number) min} 和 {@link #setMaximum(Number) max} 属性自动验证输入。如果其中任何一个是`null`{@link Double#MIN_VALUE} 和 {@link Double#MAX_VALUE}，则分别使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-12T06:45:49.840

如果您通过 onSubmit 方法获取表单中的文本字段，只需通过

textfield.getModelObject();

将其与您需要的任何内容进行比较，如果它不匹配发送反馈错误，您怎么看？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T19:01:53.560

是的，还有另一种方法可以验证文本字段输入。TextField 组件为您提供了一个 add() 方法，您可以在其中添加检票口验证规则。例如，您可以编写实现 wicket 的 IValidator 接口的自定义规则。

您可以在这里找到各种内置检票口验证器：[http ://wicket.apache.org/apidocs/1.4/org/apache/wicket/validation/validator/package-summary.html](http://wicket.apache.org/apidocs/1.4/org/apache/wicket/validation/validator/package-summary.html)

要回答有关获取用户在文本字段中输入的值的问题，如果您有任何形式的此文本字段，那么此表单的 onSubmit 您应该能够通过调用来获取值

```
 amount.getModelObjet(); 
```

希望这能回答你的问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-19T11:10:29.230

通常，Wicket 期望您将模型（getter+setter 作为对象）传递给组件并使用它来存储转换后的结果。

如果您不想使用模型，您应该能够使用 textField.getConvertedInput() 来获取值。但这样做是个例外，因为无论如何您最终都会将该值复制到其目的地，模型将为您自动执行该操作。

# algorithm - 从最大堆中获取最小元素的时间复杂度

> ID：11644987
> 
> 赞同：14
> 
> 时间：2012-07-25T07:47:15.077
> 
> 标签：algorithm, heap

我在一次采访中被问到：

> 从最大堆中获取最小元素的最佳时间复杂度是多少？

我回答为 O(1) 假设堆大小是已知的并且堆是使用数组实现的二进制堆。这样根据我的假设，最小值为`heap_array[heap_size]`。

我的问题是，如果这个答案是正确的。如果不是，正确答案是什么？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-07-25T07:52:06.060

> ***我的问题是，如果这个答案是正确的。***

不，这是不正确的。您拥有的唯一保证是**每个节点都包含其下方子树的最大元素**。换句话说，**最小元素可以是**树中的任何叶子。

> ***如果不是，正确答案是什么？***

正确答案是 O(n)。在每个步骤中，您都需要遍历左右子树以搜索最小元素。实际上，这意味着您需要遍历所有元素以找到最小值。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-07-25T07:57:21.830

Best complexity is `O(n)`. Sketch proof:

*   The minimum element could be absolutely any of the lowest-level nodes (in fact it could even not be at the lowest level, but let's start with these).
*   There could be up to `n/2` lowest-level nodes.
*   All of them need to be examined, because the one you're looking for might be in the last place you look. Examining all-but-1 of them doesn't tell you whether the last one is the minimum or not.
*   Hence `Omega(n)` examinations required.

The bound is tight, since clearly we can do it in `O(n)` by ignoring the fact that our array happens to be a heap.

Moral: it's probably called a heap because (as with the heap of clothes on your bedroom floor) it's easy to get at the top and difficult to get at the rest.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-11T07:31:59.310

MINIMUM_ELEMENT -> 在最大堆的情况下需要 O(n) 时间，在最小堆的情况下需要 O(1) 时间。MAXIMUM_ELEMENT -> 在最大堆的情况下需要 O(1) 时间，在最小堆的情况下需要 O(n) 时间。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-11-21T07:22:39.827

来自最大堆的最小元素：

1.  在最后一级搜索 = O(n/2)= O(n)

2.  用最后一个元素替换搜索到的元素并将堆大小减小 1 = O(1)

3.  对替换元素应用 Maxheapify = O(log n)

**总时间 = O(n)+O(1)+O(log n) = O(n)**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-30T18:19:13.833

正确答案是 O(n) 1) 从最大堆中找到最小元素 Find nth max(这只是最小元素) 这将首先进行 n(n-1)/2 比较 == O(n^2) 2)根本就是数组要找到最小元素，应用选择排序第一遍，这将花费 O(n) 时间。3）在最大堆中一个一个（最多）删除n个元素（它只是发现而已）这将花费O（nlogn）时间。在 3 种方法中，最好的一种是 O(n)。所以正确答案将是 O(n) 时间

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-07-16T11:13:38.500

最佳复杂度是 O(n)。

而不是，这里没有写很多关于这个的，**MAX-heap**
中 的**min**元素和**min-heap**中的**MAX**元素 也可以在（最低级别 - 1），并不总是在最低级别。

 ******解释：
因为在堆中存在从最低级别右侧丢失节点的选项，它可能不是平衡（完全）树，是什么使它在（低级别-1）中也有叶子。

什么意味着有 n/2 需要检查。所以在大 O 术语中它等于**O(n)**。

**类似情况的例子**：

*   MAX-heap[10,9,1,8,7]（1是较小的值，但没有出现在最低级别）

*   min-heap [8,10,20,17,15]（20是最大值，但没有出现在最低级别）******

# android - 膨胀类片段异常时出错

> ID：11644992
> 
> 赞同：0
> 
> 时间：2012-07-25T07:47:28.790
> 
> 标签：android, android-fragments, bundle

我想把一个 Bundle 放在一个 Fragment 中。此捆绑包必须存在于 onCreate 方法中。但我得到一个空指针异常。

Activity中的代码部分

```
Bundle bundl = new Bundle();
String headlines[]  = {"sdfsdf","sdfsd","fgfg","sdffsd"};
bundl.putStringArray("123", headlines);
bundl.putStringArray("1253", headlines);
HeadlinesFragment firstFragment = new HeadlinesFragment();
firstFragment.setArguments(bundl); 
```

onCreate 方法

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // Here is the null pointer
    headlines =getArguments().getStringArray("123");

    int layout = Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB ? android.R.layout.simple_list_item_activated_1
            : android.R.layout.simple_list_item_1;
    inserts = new ArrayAdapter<String>(getActivity(), layout, headlines);

    setListAdapter(inserts);
} 
```

布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="horizontal"
android:layout_width="match_parent"
android:layout_height="match_parent">

<fragment android:name="com.de.ordix.HeadlinesFragment"
          android:id="@+id/headlines_fragment"
          android:layout_weight="1"
          android:layout_width="0dp"
          android:layout_height="match_parent" />

<fragment android:name="com.de.ordix.ArticleFragment"
          android:id="@+id/abwesend_fragment"
          android:layout_weight="2"
          android:layout_width="0dp"
          android:layout_height="match_parent" /> 
```

这里是错误日志

```
E/AndroidRuntime(25007): FATAL EXCEPTION: main
E/AndroidRuntime(25007): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.de.xx/com.de.xx.MainActivity}: android.view.InflateException: Binary XML file line #23: Error inflating class fragment
E/AndroidRuntime(25007): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
E/AndroidRuntime(25007): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
E/AndroidRuntime(25007): at android.app.ActivityThread.access$600(ActivityThread.java:123)
E/AndroidRuntime(25007): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
E/AndroidRuntime(25007): at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime(25007): at android.os.Looper.loop(Looper.java:137)
E/AndroidRuntime(25007): at android.app.ActivityThread.main(ActivityThread.java:4424)
E/AndroidRuntime(25007): at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(25007): at java.lang.reflect.Method.invoke(Method.java:511)
E/AndroidRuntime(25007): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
E/AndroidRuntime(25007): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
E/AndroidRuntime(25007): at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime(25007): Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class fragment
E/AndroidRuntime(25007): at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)
E/AndroidRuntime(25007): at android.view.LayoutInflater.rInflate(LayoutInflater.java:739)
E/AndroidRuntime(25007): at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
E/AndroidRuntime(25007): at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
E/AndroidRuntime(25007): at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
E/AndroidRuntime(25007): at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:251)
E/AndroidRuntime(25007): at android.app.Activity.setContentView(Activity.java:1835)
E/AndroidRuntime(25007): at com.de.xx.MainActivity.onCreate(MainActivity.java:37)
E/AndroidRuntime(25007): at android.app.Activity.performCreate(Activity.java:4465)
E/AndroidRuntime(25007): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
E/AndroidRuntime(25007): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
E/AndroidRuntime(25007): ... 11 more
E/AndroidRuntime(25007): Caused by: java.lang.NullPointerException
E/AndroidRuntime(25007): at com.de.xx.HeadlinesFragment.onCreate(HeadlinesFragment.java:39)
E/AndroidRuntime(25007): at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:835)
E/AndroidRuntime(25007): at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1061)
E/AndroidRuntime(25007): at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1160)
E/AndroidRuntime(25007): at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
E/AndroidRuntime(25007): at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:669)
E/AndroidRuntime(25007): ... 21 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:33:11.867

声明一个类和静态变量

```
public class global {
  public static String headlines[] ;
} 
```

现在你的代码

```
global.headlines =  {"sdfsdf","sdfsd","fgfg","sdffsd"}; 
```

当你想使用

```
inserts = new ArrayAdapter<String>(getActivity(), layout, global.headlines); 
```

# jquery - 想要在旋转时显示元素的厚度

> ID：11644993
> 
> 赞同：16
> 
> 时间：2012-07-25T07:47:29.457
> 
> 标签：jquery, css, jquery-animate, rotation, css-transitions

我通过 CSS 沿 Y 轴将硬币旋转 90 度。有没有办法让我可以在硬币旋转后显示硬币的厚度，我想我可以在硬币沿 Y 轴旋转后缩放 Y，但这似乎不起作用。如果可能的话，请提出一些方法来做同样的事情。[link_on_js](http://jsfiddle.net/7EtLu/)也一样。请使用 webkit 浏览器打开链接。

**css**

```
.coin {
    display: block;
    background: url("url-to-image-of-coin.jpg");
    background-size: 100% 100%;
    width: 100px;
    height: 100px;
    margin: auto;
    border-radius: 100%;
    transition: all 500ms linear;
}

.flip {
    transform: rotateY(180deg);
} 
```

**html**

```
<div class="coin"></div> 
```

**jQuery**

```
$('.coin').click(function() {
    $(this).toggleClass('flip');
}); 
```

**小提琴**

[http://jsfiddle.net/7EtLu/22/](http://jsfiddle.net/7EtLu/22/)

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-07-25T09:00:48.003

您可以使用伪元素来产生类似的效果。这是一个例子：http: [//jsfiddle.net/joshnh/y7rQL/](http://jsfiddle.net/joshnh/y7rQL/)

```
<div class="coin"></div>
```

```
body {
    transform: perspective(500px);
    transform-style: preserve-3d;
}
.coin {
    background-image: url("http://www.coolemails4u.com/wp-content/uploads/2010/10/indian_rupee.png");
    background-size: 100% 100%;
    border-radius: 100%;
    height: 100px;
    margin: 50px auto;
    position: relative;
    transition: .5s linear;
    transform-style: preserve-3d;
    width: 100px;
}
.coin:after {
    background-color: #262626;
    background-image: -webkit-linear-gradient(hsla(0,0%,100%,.25), hsla(0,0%,0%,.25));
    bottom: 0;
    content: '';
    left: 45px;
    position: absolute;
    top: 0;
    transform: rotateY(-90deg);
    transform-origin: 100% 50%;
    width: 5px;
    z-index: -10;
}
.coin:before {
    background-color: #262626;
    background-image: -webkit-linear-gradient(hsla(0,0%,100%,.25), hsla(0,0%,0%,.25));
    border-radius: 100%;
    content: '';
    height: 100px;
    left: 0;
    position: absolute;
    top: 0;
    transform: translateZ(-5px);
    width: 100px;
}
.coin:hover {
    transform: rotateY(90deg);
}​ 
```

此外，这是一个旋转 180 度的版本（虽然不是很好）：http: [//jsfiddle.net/joshnh/Bz22S/](http://jsfiddle.net/joshnh/Bz22S/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-12-30T03:20:34.717

@joshnh 感谢您提供的灵感，这里进行了一些修改，使其看起来更像：

```
 <div class="flip-card">
    <div class="flip-card-inner">
      <div class="flip-card-front"></div>
      <div class="flip-card-thick"></div>
      <div class="flip-card-back"></div>
    </div>
  </div> 
```

```
.flip-card {
  background-color: transparent;
  width: 300px;
  height: 300px;
  perspective: 1000px;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  background: transparent url(https://i.imgur.com/GPCt3mC.jpg) no-repeat;
  background-size: 100% 100%;
  border-radius: 100%;
  transition: transform 4s;
  transform-style: preserve-3d;
}

.flip-card-front, .flip-card-back, .flip-card-inner:before, .flip-card-inner:after  {
  background-color: #a37131;
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 100%;
  overflow: hidden;
  z-index: 1;
}

.flip-card-inner:before {
  content: '';
  top: 0;
  left: 0;
  transform: rotateY(180deg) translateZ(1px);
  background-image: -webkit-linear-gradient(hsla(0,0%,100%,.25), hsla(0,0%,0%,.25));
}

.flip-card-inner:after {
  content: '';
  top: 0;
  left: 0;
  transform: rotateY(180deg) translateZ(10px);
  background-image: -webkit-linear-gradient(hsla(0,0%,100%,.25), hsla(0,0%,0%,.25));
}

.flip-card-front {
  background-color: #bbb;
  color: black;
}

.flip-card-back {
  background-color: #a37131;
  color: white;
  transform: rotateY(180deg) translateZ(11px);
}

.flip-card-thick {
  background-color: #a37131;
  background-image: -webkit-linear-gradient(hsla(0,0%,100%,.25), hsla(0,0%,0%,.25));
  bottom: 0;
  left: 130px;
  position: absolute;
  top: 0px;
  width: 10px;
  z-index: -10;
  transform: rotateY(-90deg);
  transform-origin: 100% 50%;
}

.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
} 
```

[密码笔](https://codepen.io/solhuang/pen/QWqQNPP)

# java - 使用 xpath 在 Java 中使用名称空间解析 XML

> ID：11644994
> 
> 赞同：7
> 
> 时间：2012-07-25T07:47:38.737
> 
> 标签：java, xml, soap, xpath

我正在尝试在 java 中解析 SOAP 请求，但代码没有返回任何节点，这是任何人都可以找到错误的代码

```
 String xml="<soapenv:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ser=\"http://services.web.post.list.com\"><soapenv:Header><authInfo xsi:type=\"soap:authentication\" xmlns:soap=\"http://list.com/services/SoapRequestProcessor\"><!--You may enter the following 2 items in any order--><username xsi:type=\"xsd:string\">dfasf@google.com</username><password xsi:type=\"xsd:string\">PfasdfRem91</password></authInfo></soapenv:Header></soapenv:Envelope>"; 
    System.out.println(xml);
    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
    domFactory.setNamespaceAware(true);
    DocumentBuilder builder = domFactory.newDocumentBuilder();
    Document doc = builder.parse(new InputSource(new StringReader(xml)));
    XPath xpath = XPathFactory.newInstance().newXPath();
    // XPath Query for showing all nodes value

    try
    {
    XPathExpression expr = xpath.compile("/soapenv:Envelope/soapenv:Header/authInfo/password");
    Object result = expr.evaluate(doc, XPathConstants.NODESET);
    NodeList nodes = (NodeList) result;
    System.out.println("Got " + nodes.getLength() + " nodes");
//    System.out.println(nodes.item(0).getNodeValue());
    }
    catch(Exception E)
    {
        System.out.println(E);
    } 
```

* * *

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-25T10:09:17.570

您需要`NamespaceContext`在`XPath`:

**演示**

```
package forum11644994;

import java.io.StringReader;
import java.util.Iterator;

import javax.xml.namespace.NamespaceContext;
import javax.xml.parsers.*;
import javax.xml.xpath.*;

import org.w3c.dom.Document;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

public class Demo {

    public static void main(String[] args) throws Exception {
        String xml = "<soapenv:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ser=\"http://services.web.post.list.com\"><soapenv:Header><authInfo xsi:type=\"soap:authentication\" xmlns:soap=\"http://list.com/services/SoapRequestProcessor\"><!--You may enter the following 2 items in any order--><username xsi:type=\"xsd:string\">dfasf@google.com</username><password xsi:type=\"xsd:string\">PfasdfRem91</password></authInfo></soapenv:Header></soapenv:Envelope>";
        System.out.println(xml);
        DocumentBuilderFactory domFactory = DocumentBuilderFactory
                .newInstance();
        domFactory.setNamespaceAware(true);
        DocumentBuilder builder = domFactory.newDocumentBuilder();
        Document doc = builder.parse(new InputSource(new StringReader(xml)));
        XPath xpath = XPathFactory.newInstance().newXPath();
        xpath.setNamespaceContext(new NamespaceContext() {

            @Override
            public Iterator getPrefixes(String arg0) {
                return null;
            }

            @Override
            public String getPrefix(String arg0) {
                return null;
            }

            @Override
            public String getNamespaceURI(String arg0) {
                if("soapenv".equals(arg0)) {
                    return "http://schemas.xmlsoap.org/soap/envelope/";
                }
                return null;
            }
        });
        // XPath Query for showing all nodes value

        try {
            XPathExpression expr = xpath
                    .compile("/soapenv:Envelope/soapenv:Header/authInfo/password");
            Object result = expr.evaluate(doc, XPathConstants.NODESET);
            NodeList nodes = (NodeList) result;
            System.out.println("Got " + nodes.getLength() + " nodes");
            // System.out.println(nodes.item(0).getNodeValue());
        } catch (Exception E) {
            System.out.println(E);
        }

    }
} 
```

**输出**

```
<soapenv:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.web.post.list.com"><soapenv:Header><authInfo xsi:type="soap:authentication" xmlns:soap="http://list.com/services/SoapRequestProcessor"><!--You may enter the following 2 items in any order--><username xsi:type="xsd:string">dfasf@google.com</username><password xsi:type="xsd:string">PfasdfRem91</password></authInfo></soapenv:Header></soapenv:Envelope>
Got 1 nodes 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-04T18:37:08.340

在最新回复中添加更多内容。要获取特定节点值，您可以使用以下内容-- [ `System.out.println(nodes.item(0).getTextContent());`]

# function - 在 AutoIT 中将函数作为参数传递

> ID：11644997
> 
> 赞同：8
> 
> 时间：2012-07-25T07:47:53.250
> 
> 标签：function, generics, parameters, autoit

我有几个具有相同结构的函数（简化）：

```
func moveFiles()  
    local $error = 1  
        For $i = 1 to 100
            updateProgress($i)  
            updateStatus("Processing " & $i & "/100 files")  
            $error *= moveFile($i)  
        Next  
    Return $error  
endFunc 
```

我想让它成为一个像这样的通用函数：

```
func doSomething($function)  
    local $error = 1  
        For $i = 1 to 100
            updateProgress($i)  
            updateStatus("Processing " & $i & "/100 files")  

            $error *= $function($i)   ;execute the function that was passed

        Next  
    Return $error  
endFunc 
```

所以我可以这样做：

```
doSomething($moveFiles)  
doSomething($compareFiles)
doSomething($removeFiles)
... 
```

这在 AutoIt v3 中是否可行，我该怎么做？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-25T08:27:23.773

挑战者出现！有趣的问题。您可以使用内置 Call 将函数名称作为字符串调用。例如，您有一个带有参数的名为 moveFiles 的函数，您可以使用以下命令调用该函数：

> 调用（“moveFiles”，$i）

我写了一个例子来证明这一点。这是一种执行委托、事件或回调的方便简单的方法，就像您在其他严格语言中可能习惯的那样。在示例中，我故意省略了错误处理，因为有两种方法可以做到这一点。您可以返回一个真 / 假（或 1 / 0）值，也可以使用带有 @error 宏的 SetError 函数。

这是完整且有效的示例：

```
func doSomething($function)  
    local $error = 0
    For $i = 1 to 5
        updateProgress($i)  
        updateStatus("Processing " & $i & "/100 files")  

        Call($function, $i)
    Next  
    Return $error  
endFunc

doSomething("moveFiles")
doSomething("compareFiles")
;doSomething("removeFiles")

Func moveFiles($i)
    ConsoleWrite("Moving file " & $i & @CRLF)
EndFunc

Func compareFiles($i)
    ConsoleWrite("Copying file " & $i & @CRLF)
EndFunc

Func updateProgress($i)
    ConsoleWrite("Stage processing at #" & $i & @CRLF)
EndFunc

Func updateStatus($msg)
    ConsoleWrite($msg & @CRLF)
EndFunc 
```

输出：

```
Stage processing at #1
Processing 1/5 files
Moving file 1
Stage processing at #2
Processing 2/5 files
Moving file 2
Stage processing at #3
Processing 3/5 files
Moving file 3
Stage processing at #4
Processing 4/5 files
Moving file 4
Stage processing at #5
Processing 5/5 files
Moving file 5
Stage processing at #1
Processing 1/5 files
Copying file 1
Stage processing at #2
Processing 2/5 files
Copying file 2
Stage processing at #3
Processing 3/5 files
Copying file 3
Stage processing at #4
Processing 4/5 files
Copying file 4
Stage processing at #5
Processing 5/5 files
Copying file 5 
```